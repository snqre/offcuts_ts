var RE=Object.create;var{getPrototypeOf:kE,defineProperty:IJ,getOwnPropertyNames:xE}=Object;var bE=Object.prototype.hasOwnProperty;var i=(Y,Q,N)=>{N=Y!=null?RE(kE(Y)):{};let $=Q||!Y||!Y.__esModule?IJ(N,"default",{value:Y,enumerable:!0}):N;for(let K of xE(Y))if(!bE.call($,K))IJ($,K,{get:()=>Y[K],enumerable:!0});return $};var B5=(Y,Q)=>()=>(Q||Y((Q={exports:{}}).exports,Q),Q.exports);var vE=(Y,Q)=>{for(var N in Q)IJ(Y,N,{get:Q[N],enumerable:!0,configurable:!0,set:($)=>Q[N]=()=>$})};var f0=B5((hE,K2)=>{(function(){function Y(w,q){Object.defineProperty($.prototype,w,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",q[0],q[1])}})}function Q(w){if(w===null||typeof w!=="object")return null;return w=i0&&w[i0]||w["@@iterator"],typeof w==="function"?w:null}function N(w,q){w=(w=w.constructor)&&(w.displayName||w.name)||"ReactClass";var u=w+"."+q;kG[u]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",q,w),kG[u]=!0)}function $(w,q,u){this.props=w,this.context=q,this.refs=Z0,this.updater=u||n5}function K(){}function U(w,q,u){this.props=w,this.context=q,this.refs=Z0,this.updater=u||n5}function _(w){return""+w}function L(w){try{_(w);var q=!1}catch(B0){q=!0}if(q){q=console;var u=q.error,o=typeof Symbol==="function"&&Symbol.toStringTag&&w[Symbol.toStringTag]||w.constructor.name||"Object";return u.call(q,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",o),_(w)}}function O(w){if(w==null)return null;if(typeof w==="function")return w.$$typeof===s0?null:w.displayName||w.name||null;if(typeof w==="string")return w;switch(w){case HW:return"Fragment";case uW:return"Portal";case U9:return"Profiler";case h9:return"StrictMode";case y0:return"Suspense";case _9:return"SuspenseList"}if(typeof w==="object")switch(typeof w.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),w.$$typeof){case H9:return(w.displayName||"Context")+".Provider";case pW:return(w._context.displayName||"Context")+".Consumer";case _W:var q=w.render;return w=w.displayName,w||(w=q.displayName||q.name||"",w=w!==""?"ForwardRef("+w+")":"ForwardRef"),w;case wW:return q=w.displayName||null,q!==null?q:O(w.type)||"Memo";case H5:q=w._payload,w=w._init;try{return O(w(q))}catch(u){}}return null}function V(w){return typeof w==="string"||typeof w==="function"||w===HW||w===U9||w===h9||w===y0||w===_9||w===xZ||typeof w==="object"&&w!==null&&(w.$$typeof===H5||w.$$typeof===wW||w.$$typeof===H9||w.$$typeof===pW||w.$$typeof===_W||w.$$typeof===qW||w.getModuleId!==void 0)?!0:!1}function E(){}function A(){if(G1===0){cW=console.log,w9=console.info,OW=console.warn,O9=console.error,y1=console.group,E8=console.groupCollapsed,QY=console.groupEnd;var w={configurable:!0,enumerable:!0,value:E,writable:!0};Object.defineProperties(console,{info:w,log:w,warn:w,error:w,group:w,groupCollapsed:w,groupEnd:w})}G1++}function F(){if(G1--,G1===0){var w={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:j({},w,{value:cW}),info:j({},w,{value:w9}),warn:j({},w,{value:OW}),error:j({},w,{value:O9}),group:j({},w,{value:y1}),groupCollapsed:j({},w,{value:E8}),groupEnd:j({},w,{value:QY})})}0>G1&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function R(w){if(bZ===void 0)try{throw Error()}catch(u){var q=u.stack.trim().match(/\n( *(at )?)/);bZ=q&&q[1]||"",JY=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bZ+w+JY}function M(w,q){if(!w||vZ)return"";var u=fZ.get(w);if(u!==void 0)return u;vZ=!0,u=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var o=null;o=a.H,a.H=null,A();try{var B0={DetermineComponentFrameRoot:function(){try{if(q){var VW=function(){throw Error()};if(Object.defineProperty(VW.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(VW,[])}catch(lW){var bG=lW}Reflect.construct(w,[],VW)}else{try{VW.call()}catch(lW){bG=lW}w.call(VW.prototype)}}else{try{throw Error()}catch(lW){bG=lW}(VW=w())&&typeof VW.catch==="function"&&VW.catch(function(){})}}catch(lW){if(lW&&bG&&typeof lW.stack==="string")return[lW.stack,bG.stack]}return[null,null]}};B0.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z0=Object.getOwnPropertyDescriptor(B0.DetermineComponentFrameRoot,"name");z0&&z0.configurable&&Object.defineProperty(B0.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Q0=B0.DetermineComponentFrameRoot(),g0=Q0[0],A0=Q0[1];if(g0&&A0){var J1=g0.split(`
`),g1=A0.split(`
`);for(Q0=z0=0;z0<J1.length&&!J1[z0].includes("DetermineComponentFrameRoot");)z0++;for(;Q0<g1.length&&!g1[Q0].includes("DetermineComponentFrameRoot");)Q0++;if(z0===J1.length||Q0===g1.length)for(z0=J1.length-1,Q0=g1.length-1;1<=z0&&0<=Q0&&J1[z0]!==g1[Q0];)Q0--;for(;1<=z0&&0<=Q0;z0--,Q0--)if(J1[z0]!==g1[Q0]){if(z0!==1||Q0!==1)do if(z0--,Q0--,0>Q0||J1[z0]!==g1[Q0]){var p9=`
`+J1[z0].replace(" at new "," at ");return w.displayName&&p9.includes("<anonymous>")&&(p9=p9.replace("<anonymous>",w.displayName)),typeof w==="function"&&fZ.set(w,p9),p9}while(1<=z0&&0<=Q0);break}}}finally{vZ=!1,a.H=o,F(),Error.prepareStackTrace=u}return J1=(J1=w?w.displayName||w.name:"")?R(J1):"",typeof w==="function"&&fZ.set(w,J1),J1}function h(w){if(w==null)return"";if(typeof w==="function"){var q=w.prototype;return M(w,!(!q||!q.isReactComponent))}if(typeof w==="string")return R(w);switch(w){case y0:return R("Suspense");case _9:return R("SuspenseList")}if(typeof w==="object")switch(w.$$typeof){case _W:return w=M(w.render,!1),w;case wW:return h(w.type);case H5:q=w._payload,w=w._init;try{return h(w(q))}catch(u){}}return""}function S(){var w=a.A;return w===null?null:w.getOwner()}function k(w){if(T1.call(w,"key")){var q=Object.getOwnPropertyDescriptor(w,"key").get;if(q&&q.isReactWarning)return!1}return w.key!==void 0}function f(w,q){function u(){D8||(D8=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",q))}u.isReactWarning=!0,Object.defineProperty(w,"key",{get:u,configurable:!0})}function l(){var w=O(this.type);return m9[w]||(m9[w]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),w=this.props.ref,w!==void 0?w:null}function p(w,q,u,o,B0,z0){return u=z0.ref,w={$$typeof:u1,type:w,key:q,props:z0,_owner:B0},(u!==void 0?u:null)!==null?Object.defineProperty(w,"ref",{enumerable:!1,get:l}):Object.defineProperty(w,"ref",{enumerable:!1,value:null}),w._store={},Object.defineProperty(w._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(w,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(w.props),Object.freeze(w)),w}function X0(w,q){return q=p(w.type,q,void 0,void 0,w._owner,w.props),q._store.validated=w._store.validated,q}function x0(w,q){if(typeof w==="object"&&w&&w.$$typeof!==I8){if(Q1(w))for(var u=0;u<w.length;u++){var o=w[u];_0(o)&&S0(o,q)}else if(_0(w))w._store&&(w._store.validated=1);else if(u=Q(w),typeof u==="function"&&u!==w.entries&&(u=u.call(w),u!==w))for(;!(w=u.next()).done;)_0(w.value)&&S0(w.value,q)}}function _0(w){return typeof w==="object"&&w!==null&&w.$$typeof===u1}function S0(w,q){if(w._store&&!w._store.validated&&w.key==null&&(w._store.validated=1,q=L0(q),!d9[q])){d9[q]=!0;var u="";w&&w._owner!=null&&w._owner!==S()&&(u=null,typeof w._owner.tag==="number"?u=O(w._owner.type):typeof w._owner.name==="string"&&(u=w._owner.name),u=" It was passed a child from "+u+".");var o=a.getCurrentStack;a.getCurrentStack=function(){var B0=h(w.type);return o&&(B0+=o()||""),B0},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',q,u),a.getCurrentStack=o}}function L0(w){var q="",u=S();return u&&(u=O(u.type))&&(q=`

Check the render method of \``+u+"`."),q||(w=O(w))&&(q=`

Check the top-level render call using <`+w+">."),q}function e0(w){var q={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(u){return q[u]})}function W1(w,q){return typeof w==="object"&&w!==null&&w.key!=null?(L(w.key),e0(""+w.key)):q.toString(36)}function w1(){}function BW(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status==="string"?w.then(w1,w1):(w.status="pending",w.then(function(q){w.status==="pending"&&(w.status="fulfilled",w.value=q)},function(q){w.status==="pending"&&(w.status="rejected",w.reason=q)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function W0(w,q,u,o,B0){var z0=typeof w;if(z0==="undefined"||z0==="boolean")w=null;var Q0=!1;if(w===null)Q0=!0;else switch(z0){case"bigint":case"string":case"number":Q0=!0;break;case"object":switch(w.$$typeof){case u1:case uW:Q0=!0;break;case H5:return Q0=w._init,W0(Q0(w._payload),q,u,o,B0)}}if(Q0){Q0=w,B0=B0(Q0);var g0=o===""?"."+W1(Q0,0):o;return Q1(B0)?(u="",g0!=null&&(u=g0.replace(_5,"$&/")+"/"),W0(B0,q,u,"",function(J1){return J1})):B0!=null&&(_0(B0)&&(B0.key!=null&&(Q0&&Q0.key===B0.key||L(B0.key)),u=X0(B0,u+(B0.key==null||Q0&&Q0.key===B0.key?"":(""+B0.key).replace(_5,"$&/")+"/")+g0),o!==""&&Q0!=null&&_0(Q0)&&Q0.key==null&&Q0._store&&!Q0._store.validated&&(u._store.validated=2),B0=u),q.push(B0)),1}if(Q0=0,g0=o===""?".":o+":",Q1(w))for(var A0=0;A0<w.length;A0++)o=w[A0],z0=g0+W1(o,A0),Q0+=W0(o,q,u,z0,B0);else if(A0=Q(w),typeof A0==="function")for(A0===w.entries&&(s5||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),s5=!0),w=A0.call(w),A0=0;!(o=w.next()).done;)o=o.value,z0=g0+W1(o,A0++),Q0+=W0(o,q,u,z0,B0);else if(z0==="object"){if(typeof w.then==="function")return W0(BW(w),q,u,o,B0);throw q=String(w),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return Q0}function t(w,q,u){if(w==null)return w;var o=[],B0=0;return W0(w,o,"","",function(z0){return q.call(u,z0,B0++)}),o}function T0(w){if(w._status===-1){var q=w._result;q=q(),q.then(function(u){if(w._status===0||w._status===-1)w._status=1,w._result=u},function(u){if(w._status===0||w._status===-1)w._status=2,w._result=u}),w._status===-1&&(w._status=0,w._result=q)}if(w._status===1)return q=w._result,q===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,q),"default"in q||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,q),q.default;throw w._result}function N0(){var w=a.H;return w===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),w}function m0(){}function n0(w){if(V9===null)try{var q=("require"+Math.random()).slice(0,7);V9=(K2&&K2[q]).call(K2,"timers").setImmediate}catch(u){V9=function(o){u9===!1&&(u9=!0,typeof MessageChannel==="undefined"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var B0=new MessageChannel;B0.port1.onmessage=o,B0.port2.postMessage(void 0)}}return V9(w)}function l0(w){return 1<w.length&&typeof AggregateError==="function"?new AggregateError(w):w[0]}function d0(w,q){q!==L9-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),L9=q}function R0(w,q,u){var o=a.actQueue;if(o!==null)if(o.length!==0)try{B1(o),n0(function(){return R0(w,q,u)});return}catch(B0){a.thrownErrors.push(B0)}else a.actQueue=null;0<a.thrownErrors.length?(o=l0(a.thrownErrors),a.thrownErrors.length=0,u(o)):q(w)}function B1(w){if(!gZ){gZ=!0;var q=0;try{for(;q<w.length;q++){var u=w[q];do{a.didUsePromise=!1;var o=u(!1);if(o!==null){if(a.didUsePromise){w[q]=u,w.splice(0,q);return}u=o}else break}while(1)}w.length=0}catch(B0){w.splice(0,q+1),a.thrownErrors.push(B0)}finally{gZ=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var u1=Symbol.for("react.transitional.element"),uW=Symbol.for("react.portal"),HW=Symbol.for("react.fragment"),h9=Symbol.for("react.strict_mode"),U9=Symbol.for("react.profiler");Symbol.for("react.provider");var pW=Symbol.for("react.consumer"),H9=Symbol.for("react.context"),_W=Symbol.for("react.forward_ref"),y0=Symbol.for("react.suspense"),_9=Symbol.for("react.suspense_list"),wW=Symbol.for("react.memo"),H5=Symbol.for("react.lazy"),xZ=Symbol.for("react.offscreen"),i0=Symbol.iterator,kG={},n5={isMounted:function(){return!1},enqueueForceUpdate:function(w){N(w,"forceUpdate")},enqueueReplaceState:function(w){N(w,"replaceState")},enqueueSetState:function(w){N(w,"setState")}},j=Object.assign,Z0={};Object.freeze(Z0),$.prototype.isReactComponent={},$.prototype.setState=function(w,q){if(typeof w!=="object"&&typeof w!=="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,q,"setState")},$.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};var Y0={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},k0;for(k0 in Y0)Y0.hasOwnProperty(k0)&&Y(k0,Y0[k0]);K.prototype=$.prototype,Y0=U.prototype=new K,Y0.constructor=U,j(Y0,$.prototype),Y0.isPureReactComponent=!0;var Q1=Array.isArray,s0=Symbol.for("react.client.reference"),a={H:null,A:null,T:null,S:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null},T1=Object.prototype.hasOwnProperty,qW=Symbol.for("react.client.reference"),G1=0,cW,w9,OW,O9,y1,E8,QY;E.__reactDisabledLog=!0;var bZ,JY,vZ=!1,fZ=new(typeof WeakMap==="function"?WeakMap:Map),I8=Symbol.for("react.client.reference"),D8,yZ,m9={},d9={},s5=!1,_5=/\/+/g,D1=typeof reportError==="function"?reportError:function(w){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w==="object"&&w!==null&&typeof w.message==="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(q))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",w);return}console.error(w)},u9=!1,V9=null,L9=0,o5=!1,gZ=!1,xG=typeof queueMicrotask==="function"?function(w){queueMicrotask(function(){return queueMicrotask(w)})}:n0;hE.Children={map:t,forEach:function(w,q,u){t(w,function(){q.apply(this,arguments)},u)},count:function(w){var q=0;return t(w,function(){q++}),q},toArray:function(w){return t(w,function(q){return q})||[]},only:function(w){if(!_0(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},hE.Component=$,hE.Fragment=HW,hE.Profiler=U9,hE.PureComponent=U,hE.StrictMode=h9,hE.Suspense=y0,hE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,hE.act=function(w){var q=a.actQueue,u=L9;L9++;var o=a.actQueue=q!==null?q:[],B0=!1;try{var z0=w()}catch(A0){a.thrownErrors.push(A0)}if(0<a.thrownErrors.length)throw d0(q,u),w=l0(a.thrownErrors),a.thrownErrors.length=0,w;if(z0!==null&&typeof z0==="object"&&typeof z0.then==="function"){var Q0=z0;return xG(function(){B0||o5||(o5=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(A0,J1){B0=!0,Q0.then(function(g1){if(d0(q,u),u===0){try{B1(o),n0(function(){return R0(g1,A0,J1)})}catch(VW){a.thrownErrors.push(VW)}if(0<a.thrownErrors.length){var p9=l0(a.thrownErrors);a.thrownErrors.length=0,J1(p9)}}else A0(g1)},function(g1){d0(q,u),0<a.thrownErrors.length?(g1=l0(a.thrownErrors),a.thrownErrors.length=0,J1(g1)):J1(g1)})}}}var g0=z0;if(d0(q,u),u===0&&(B1(o),o.length!==0&&xG(function(){B0||o5||(o5=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),a.actQueue=null),0<a.thrownErrors.length)throw w=l0(a.thrownErrors),a.thrownErrors.length=0,w;return{then:function(A0,J1){B0=!0,u===0?(a.actQueue=o,n0(function(){return R0(g0,A0,J1)})):A0(g0)}}},hE.cache=function(w){return function(){return w.apply(null,arguments)}},hE.cloneElement=function(w,q,u){if(w===null||w===void 0)throw Error("The argument must be a React element, but you passed "+w+".");var o=j({},w.props),B0=w.key,z0=w._owner;if(q!=null){var Q0;W:{if(T1.call(q,"ref")&&(Q0=Object.getOwnPropertyDescriptor(q,"ref").get)&&Q0.isReactWarning){Q0=!1;break W}Q0=q.ref!==void 0}Q0&&(z0=S()),k(q)&&(L(q.key),B0=""+q.key);for(g0 in q)!T1.call(q,g0)||g0==="key"||g0==="__self"||g0==="__source"||g0==="ref"&&q.ref===void 0||(o[g0]=q[g0])}var g0=arguments.length-2;if(g0===1)o.children=u;else if(1<g0){Q0=Array(g0);for(var A0=0;A0<g0;A0++)Q0[A0]=arguments[A0+2];o.children=Q0}o=p(w.type,B0,void 0,void 0,z0,o);for(B0=2;B0<arguments.length;B0++)x0(arguments[B0],o.type);return o},hE.createContext=function(w){return w={$$typeof:H9,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:pW,_context:w},w._currentRenderer=null,w._currentRenderer2=null,w},hE.createElement=function(w,q,u){if(V(w))for(var o=2;o<arguments.length;o++)x0(arguments[o],w);else{if(o="",w===void 0||typeof w==="object"&&w!==null&&Object.keys(w).length===0)o+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";if(w===null)var B0="null";else Q1(w)?B0="array":w!==void 0&&w.$$typeof===u1?(B0="<"+(O(w.type)||"Unknown")+" />",o=" Did you accidentally export a JSX literal instead of a component?"):B0=typeof w;console.error("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",B0,o)}var z0;if(o={},B0=null,q!=null)for(z0 in yZ||!("__self"in q)||"key"in q||(yZ=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),k(q)&&(L(q.key),B0=""+q.key),q)T1.call(q,z0)&&z0!=="key"&&z0!=="__self"&&z0!=="__source"&&(o[z0]=q[z0]);var Q0=arguments.length-2;if(Q0===1)o.children=u;else if(1<Q0){for(var g0=Array(Q0),A0=0;A0<Q0;A0++)g0[A0]=arguments[A0+2];Object.freeze&&Object.freeze(g0),o.children=g0}if(w&&w.defaultProps)for(z0 in Q0=w.defaultProps,Q0)o[z0]===void 0&&(o[z0]=Q0[z0]);return B0&&f(o,typeof w==="function"?w.displayName||w.name||"Unknown":w),p(w,B0,void 0,void 0,S(),o)},hE.createRef=function(){var w={current:null};return Object.seal(w),w},hE.forwardRef=function(w){w!=null&&w.$$typeof===wW?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof w!=="function"?console.error("forwardRef requires a render function but was given %s.",w===null?"null":typeof w):w.length!==0&&w.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",w.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),w!=null&&w.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var q={$$typeof:_W,render:w},u;return Object.defineProperty(q,"displayName",{enumerable:!1,configurable:!0,get:function(){return u},set:function(o){u=o,w.name||w.displayName||(Object.defineProperty(w,"name",{value:o}),w.displayName=o)}}),q},hE.isValidElement=_0,hE.lazy=function(w){return{$$typeof:H5,_payload:{_status:-1,_result:w},_init:T0}},hE.memo=function(w,q){V(w)||console.error("memo: The first argument must be a component. Instead received: %s",w===null?"null":typeof w),q={$$typeof:wW,type:w,compare:q===void 0?null:q};var u;return Object.defineProperty(q,"displayName",{enumerable:!1,configurable:!0,get:function(){return u},set:function(o){u=o,w.name||w.displayName||(Object.defineProperty(w,"name",{value:o}),w.displayName=o)}}),q},hE.startTransition=function(w){var q=a.T,u={};a.T=u,u._updatedFibers=new Set;try{var o=w(),B0=a.S;B0!==null&&B0(u,o),typeof o==="object"&&o!==null&&typeof o.then==="function"&&o.then(m0,D1)}catch(z0){D1(z0)}finally{q===null&&u._updatedFibers&&(w=u._updatedFibers.size,u._updatedFibers.clear(),10<w&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),a.T=q}},hE.unstable_useCacheRefresh=function(){return N0().useCacheRefresh()},hE.use=function(w){return N0().use(w)},hE.useActionState=function(w,q,u){return N0().useActionState(w,q,u)},hE.useCallback=function(w,q){return N0().useCallback(w,q)},hE.useContext=function(w){var q=N0();return w.$$typeof===pW&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),q.useContext(w)},hE.useDebugValue=function(w,q){return N0().useDebugValue(w,q)},hE.useDeferredValue=function(w,q){return N0().useDeferredValue(w,q)},hE.useEffect=function(w,q){return N0().useEffect(w,q)},hE.useId=function(){return N0().useId()},hE.useImperativeHandle=function(w,q,u){return N0().useImperativeHandle(w,q,u)},hE.useInsertionEffect=function(w,q){return N0().useInsertionEffect(w,q)},hE.useLayoutEffect=function(w,q){return N0().useLayoutEffect(w,q)},hE.useMemo=function(w,q){return N0().useMemo(w,q)},hE.useOptimistic=function(w,q){return N0().useOptimistic(w,q)},hE.useReducer=function(w,q,u){return N0().useReducer(w,q,u)},hE.useRef=function(w){return N0().useRef(w)},hE.useState=function(w){return N0().useState(w)},hE.useSyncExternalStore=function(w,q,u){return N0().useSyncExternalStore(w,q,u)},hE.useTransition=function(){return N0().useTransition()},hE.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var o_=B5((mE)=>{(function(){function Y(){if(S0){var t=mE.unstable_now();W1=t;var T0=!0;try{W:{l=!1,p&&(p=!1,x0(L0),L0=-1),f=!0;var N0=k;try{G:{U(t);for(S=N(R);S!==null&&!(S.expirationTime>t&&L());){var m0=S.callback;if(typeof m0==="function"){S.callback=null,k=S.priorityLevel;var n0=m0(S.expirationTime<=t);if(t=mE.unstable_now(),typeof n0==="function"){S.callback=n0,U(t),T0=!0;break G}S===N(R)&&$(R),U(t)}else $(R);S=N(R)}if(S!==null)T0=!0;else{var l0=N(M);l0!==null&&V(_,l0.startTime-t),T0=!1}}break W}finally{S=null,k=N0,f=!1}T0=void 0}}finally{T0?w1():S0=!1}}}function Q(t,T0){var N0=t.length;t.push(T0);W:for(;0<N0;){var m0=N0-1>>>1,n0=t[m0];if(0<K(n0,T0))t[m0]=T0,t[N0]=n0,N0=m0;else break W}}function N(t){return t.length===0?null:t[0]}function $(t){if(t.length===0)return null;var T0=t[0],N0=t.pop();if(N0!==T0){t[0]=N0;W:for(var m0=0,n0=t.length,l0=n0>>>1;m0<l0;){var d0=2*(m0+1)-1,R0=t[d0],B1=d0+1,u1=t[B1];if(0>K(R0,N0))B1<n0&&0>K(u1,R0)?(t[m0]=u1,t[B1]=N0,m0=B1):(t[m0]=R0,t[d0]=N0,m0=d0);else if(B1<n0&&0>K(u1,N0))t[m0]=u1,t[B1]=N0,m0=B1;else break W}}return T0}function K(t,T0){var N0=t.sortIndex-T0.sortIndex;return N0!==0?N0:t.id-T0.id}function U(t){for(var T0=N(M);T0!==null;){if(T0.callback===null)$(M);else if(T0.startTime<=t)$(M),T0.sortIndex=T0.expirationTime,Q(R,T0);else break;T0=N(M)}}function _(t){if(p=!1,U(t),!l)if(N(R)!==null)l=!0,O();else{var T0=N(M);T0!==null&&V(_,T0.startTime-t)}}function L(){return mE.unstable_now()-W1<e0?!1:!0}function O(){S0||(S0=!0,w1())}function V(t,T0){L0=X0(function(){t(mE.unstable_now())},T0)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),mE.unstable_now=void 0,typeof performance==="object"&&typeof performance.now==="function"){var E=performance;mE.unstable_now=function(){return E.now()}}else{var A=Date,F=A.now();mE.unstable_now=function(){return A.now()-F}}var R=[],M=[],h=1,S=null,k=3,f=!1,l=!1,p=!1,X0=typeof setTimeout==="function"?setTimeout:null,x0=typeof clearTimeout==="function"?clearTimeout:null,_0=typeof setImmediate!=="undefined"?setImmediate:null,S0=!1,L0=-1,e0=5,W1=-1;if(typeof _0==="function")var w1=function(){_0(Y)};else if(typeof MessageChannel!=="undefined"){var BW=new MessageChannel,W0=BW.port2;BW.port1.onmessage=Y,w1=function(){W0.postMessage(null)}}else w1=function(){X0(Y,0)};mE.unstable_IdlePriority=5,mE.unstable_ImmediatePriority=1,mE.unstable_LowPriority=4,mE.unstable_NormalPriority=3,mE.unstable_Profiling=null,mE.unstable_UserBlockingPriority=2,mE.unstable_cancelCallback=function(t){t.callback=null},mE.unstable_continueExecution=function(){l||f||(l=!0,O())},mE.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):e0=0<t?Math.floor(1000/t):5},mE.unstable_getCurrentPriorityLevel=function(){return k},mE.unstable_getFirstCallbackNode=function(){return N(R)},mE.unstable_next=function(t){switch(k){case 1:case 2:case 3:var T0=3;break;default:T0=k}var N0=k;k=T0;try{return t()}finally{k=N0}},mE.unstable_pauseExecution=function(){},mE.unstable_requestPaint=function(){},mE.unstable_runWithPriority=function(t,T0){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var N0=k;k=t;try{return T0()}finally{k=N0}},mE.unstable_scheduleCallback=function(t,T0,N0){var m0=mE.unstable_now();switch(typeof N0==="object"&&N0!==null?(N0=N0.delay,N0=typeof N0==="number"&&0<N0?m0+N0:m0):N0=m0,t){case 1:var n0=-1;break;case 2:n0=250;break;case 5:n0=1073741823;break;case 4:n0=1e4;break;default:n0=5000}return n0=N0+n0,t={id:h++,callback:T0,priorityLevel:t,startTime:N0,expirationTime:n0,sortIndex:-1},N0>m0?(t.sortIndex=N0,Q(M,t),N(R)===null&&t===N(M)&&(p?(x0(L0),L0=-1):p=!0,V(_,N0-m0))):(t.sortIndex=n0,Q(R,t),l||f||(l=!0,O())),t},mE.unstable_shouldYield=L,mE.unstable_wrapCallback=function(t){var T0=k;return function(){var N0=k;k=T0;try{return t.apply(this,arguments)}finally{k=N0}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var a_=B5((dE)=>{var CJ=i(f0(),1);(function(){function Y(){}function Q(E){return""+E}function N(E,A,F){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{Q(R);var M=!1}catch(h){M=!0}return M&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol==="function"&&Symbol.toStringTag&&R[Symbol.toStringTag]||R.constructor.name||"Object"),Q(R)),{$$typeof:O,key:R==null?null:""+R,children:E,containerInfo:A,implementation:F}}function $(E,A){if(E==="font")return"";if(typeof A==="string")return A==="use-credentials"?A:""}function K(E){return E===null?"`null`":E===void 0?"`undefined`":E===""?"an empty string":'something with type "'+typeof E+'"'}function U(E){return E===null?"`null`":E===void 0?"`undefined`":E===""?"an empty string":typeof E==="string"?JSON.stringify(E):typeof E==="number"?"`"+E+"`":'something with type "'+typeof E+'"'}function _(){var E=V.H;return E===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),E}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var L={d:{f:Y,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:Y,C:Y,L:Y,m:Y,X:Y,S:Y,M:Y},p:0,findDOMNode:null},O=Symbol.for("react.portal"),V=CJ.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),dE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,dE.createPortal=function(E,A){var F=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)throw Error("Target container is not a DOM element.");return N(E,A,null,F)},dE.flushSync=function(E){var A=V.T,F=L.p;try{if(V.T=null,L.p=2,E)return E()}finally{V.T=A,L.p=F,L.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},dE.preconnect=function(E,A){typeof E==="string"&&E?A!=null&&typeof A!=="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",U(A)):A!=null&&typeof A.crossOrigin!=="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",K(A.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",K(E)),typeof E==="string"&&(A?(A=A.crossOrigin,A=typeof A==="string"?A==="use-credentials"?A:"":void 0):A=null,L.d.C(E,A))},dE.prefetchDNS=function(E){if(typeof E!=="string"||!E)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",K(E));else if(1<arguments.length){var A=arguments[1];typeof A==="object"&&A.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",U(A)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",U(A))}typeof E==="string"&&L.d.D(E)},dE.preinit=function(E,A){if(typeof E==="string"&&E?A==null||typeof A!=="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",U(A)):A.as!=="style"&&A.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',U(A.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",K(E)),typeof E==="string"&&A&&typeof A.as==="string"){var F=A.as,R=$(F,A.crossOrigin),M=typeof A.integrity==="string"?A.integrity:void 0,h=typeof A.fetchPriority==="string"?A.fetchPriority:void 0;F==="style"?L.d.S(E,typeof A.precedence==="string"?A.precedence:void 0,{crossOrigin:R,integrity:M,fetchPriority:h}):F==="script"&&L.d.X(E,{crossOrigin:R,integrity:M,fetchPriority:h,nonce:typeof A.nonce==="string"?A.nonce:void 0})}},dE.preinitModule=function(E,A){var F="";if(typeof E==="string"&&E||(F+=" The `href` argument encountered was "+K(E)+"."),A!==void 0&&typeof A!=="object"?F+=" The `options` argument encountered was "+K(A)+".":A&&("as"in A)&&A.as!=="script"&&(F+=" The `as` option encountered was "+U(A.as)+"."),F)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",F);else switch(F=A&&typeof A.as==="string"?A.as:"script",F){case"script":break;default:F=U(F),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',F,E)}if(typeof E==="string")if(typeof A==="object"&&A!==null){if(A.as==null||A.as==="script")F=$(A.as,A.crossOrigin),L.d.M(E,{crossOrigin:F,integrity:typeof A.integrity==="string"?A.integrity:void 0,nonce:typeof A.nonce==="string"?A.nonce:void 0})}else A==null&&L.d.M(E)},dE.preload=function(E,A){var F="";if(typeof E==="string"&&E||(F+=" The `href` argument encountered was "+K(E)+"."),A==null||typeof A!=="object"?F+=" The `options` argument encountered was "+K(A)+".":typeof A.as==="string"&&A.as||(F+=" The `as` option encountered was "+K(A.as)+"."),F&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',F),typeof E==="string"&&typeof A==="object"&&A!==null&&typeof A.as==="string"){F=A.as;var R=$(F,A.crossOrigin);L.d.L(E,F,{crossOrigin:R,integrity:typeof A.integrity==="string"?A.integrity:void 0,nonce:typeof A.nonce==="string"?A.nonce:void 0,type:typeof A.type==="string"?A.type:void 0,fetchPriority:typeof A.fetchPriority==="string"?A.fetchPriority:void 0,referrerPolicy:typeof A.referrerPolicy==="string"?A.referrerPolicy:void 0,imageSrcSet:typeof A.imageSrcSet==="string"?A.imageSrcSet:void 0,imageSizes:typeof A.imageSizes==="string"?A.imageSizes:void 0,media:typeof A.media==="string"?A.media:void 0})}},dE.preloadModule=function(E,A){var F="";typeof E==="string"&&E||(F+=" The `href` argument encountered was "+K(E)+"."),A!==void 0&&typeof A!=="object"?F+=" The `options` argument encountered was "+K(A)+".":A&&("as"in A)&&typeof A.as!=="string"&&(F+=" The `as` option encountered was "+K(A.as)+"."),F&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',F),typeof E==="string"&&(A?(F=$(A.as,A.crossOrigin),L.d.m(E,{as:typeof A.as==="string"&&A.as!=="script"?A.as:void 0,crossOrigin:F,integrity:typeof A.integrity==="string"?A.integrity:void 0})):L.d.m(E))},dE.requestFormReset=function(E){L.d.r(E)},dE.unstable_batchedUpdates=function(E,A){return E(A)},dE.useFormState=function(E,A,F){return _().useFormState(E,A,F)},dE.useFormStatus=function(){return _().useHostTransitionStatus()},dE.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var FJ=B5((AF,r_)=>{r_.exports=a_()});var t_=B5((uE)=>{var h0=i(o_(),1),g7=i(f0(),1),qJ=i(FJ(),1);(function(){function Y(W,G){for(W=W.memoizedState;W!==null&&0<G;)W=W.next,G--;return W}function Q(W,G,Z,X){if(Z>=G.length)return X;var B=G[Z],J=i1(W)?W.slice():C0({},W);return J[B]=Q(W[B],G,Z+1,X),J}function N(W,G,Z){if(G.length!==Z.length)console.warn("copyWithRename() expects paths of the same length");else{for(var X=0;X<Z.length-1;X++)if(G[X]!==Z[X]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return $(W,G,Z,0)}}function $(W,G,Z,X){var B=G[X],J=i1(W)?W.slice():C0({},W);return X+1===G.length?(J[Z[X]]=J[B],i1(J)?J.splice(B,1):delete J[B]):J[B]=$(W[B],G,Z,X+1),J}function K(W,G,Z){var X=G[Z],B=i1(W)?W.slice():C0({},W);if(Z+1===G.length)return i1(B)?B.splice(X,1):delete B[X],B;return B[X]=K(W[X],G,Z+1),B}function U(){return!1}function _(){return null}function L(W,G,Z,X){return new WT(W,G,Z,X)}function O(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function V(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function E(){}function A(){}function F(W){var G=[];return W.forEach(function(Z){G.push(Z)}),G.sort().join(", ")}function R(W,G){W.context===zG&&(UU(G,W,null,null),aZ())}function M(W,G){if(tW!==null){var Z=G.staleFamilies;G=G.updatedFamilies,rG(),EB(W.current,G,Z),aZ()}}function h(W){tW=W}function S(W){return!(!W||W.nodeType!==1&&W.nodeType!==9&&W.nodeType!==11)}function k(W){if(W===null||typeof W!=="object")return null;return W=DU&&W[DU]||W["@@iterator"],typeof W==="function"?W:null}function f(W){if(W==null)return null;if(typeof W==="function")return W.$$typeof===tT?null:W.displayName||W.name||null;if(typeof W==="string")return W;switch(W){case Y7:return"Fragment";case Z7:return"Portal";case BQ:return"Profiler";case LX:return"StrictMode";case JQ:return"Suspense";case NQ:return"SuspenseList"}if(typeof W==="object")switch(typeof W.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),W.$$typeof){case a9:return(W.displayName||"Context")+".Provider";case QQ:return(W._context.displayName||"Context")+".Consumer";case mY:var G=W.render;return W=W.displayName,W||(W=G.displayName||G.name||"",W=W!==""?"ForwardRef("+W+")":"ForwardRef"),W;case TX:return G=W.displayName||null,G!==null?G:f(W.type)||"Memo";case xW:G=W._payload,W=W._init;try{return f(W(G))}catch(Z){}}return null}function l(W){return typeof W.tag==="number"?p(W):typeof W.name==="string"?W.name:null}function p(W){var G=W.type;switch(W.tag){case 24:return"Cache";case 9:return(G._context.displayName||"Context")+".Consumer";case 10:return(G.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return W=G.render,W=W.displayName||W.name||"",G.displayName||(W!==""?"ForwardRef("+W+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return G;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return f(G);case 8:return G===LX?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof G==="function")return G.displayName||G.name||null;if(typeof G==="string")return G;break;case 29:if(G=W._debugInfo,G!=null){for(var Z=G.length-1;0<=Z;Z--)if(typeof G[Z].name==="string")return G[Z].name}if(W.return!==null)return p(W.return)}return null}function X0(){}function x0(){if(dY===0){PU=console.log,jU=console.info,CU=console.warn,FU=console.error,qU=console.group,MU=console.groupCollapsed,SU=console.groupEnd;var W={configurable:!0,enumerable:!0,value:X0,writable:!0};Object.defineProperties(console,{info:W,log:W,warn:W,error:W,group:W,groupCollapsed:W,groupEnd:W})}dY++}function _0(){if(dY--,dY===0){var W={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:C0({},W,{value:PU}),info:C0({},W,{value:jU}),warn:C0({},W,{value:CU}),error:C0({},W,{value:FU}),group:C0({},W,{value:qU}),groupCollapsed:C0({},W,{value:MU}),groupEnd:C0({},W,{value:SU})})}0>dY&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function S0(W){if($Q===void 0)try{throw Error()}catch(Z){var G=Z.stack.trim().match(/\n( *(at )?)/);$Q=G&&G[1]||"",RU=-1<Z.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Z.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$Q+W+RU}function L0(W,G){if(!W||zQ)return"";var Z=KQ.get(W);if(Z!==void 0)return Z;zQ=!0,Z=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var X=null;X=g.H,g.H=null,x0();try{var B={DetermineComponentFrameRoot:function(){try{if(G){var v=function(){throw Error()};if(Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch($0){var c=$0}Reflect.construct(W,[],v)}else{try{v.call()}catch($0){c=$0}W.call(v.prototype)}}else{try{throw Error()}catch($0){c=$0}(v=W())&&typeof v.catch==="function"&&v.catch(function(){})}}catch($0){if($0&&c&&typeof $0.stack==="string")return[$0.stack,c.stack]}return[null,null]}};B.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var J=Object.getOwnPropertyDescriptor(B.DetermineComponentFrameRoot,"name");J&&J.configurable&&Object.defineProperty(B.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=B.DetermineComponentFrameRoot(),H=z[0],T=z[1];if(H&&T){var I=H.split(`
`),b=T.split(`
`);for(z=J=0;J<I.length&&!I[J].includes("DetermineComponentFrameRoot");)J++;for(;z<b.length&&!b[z].includes("DetermineComponentFrameRoot");)z++;if(J===I.length||z===b.length)for(J=I.length-1,z=b.length-1;1<=J&&0<=z&&I[J]!==b[z];)z--;for(;1<=J&&0<=z;J--,z--)if(I[J]!==b[z]){if(J!==1||z!==1)do if(J--,z--,0>z||I[J]!==b[z]){var d=`
`+I[J].replace(" at new "," at ");return W.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",W.displayName)),typeof W==="function"&&KQ.set(W,d),d}while(1<=J&&0<=z);break}}}finally{zQ=!1,g.H=X,_0(),Error.prepareStackTrace=Z}return I=(I=W?W.displayName||W.name:"")?S0(I):"",typeof W==="function"&&KQ.set(W,I),I}function e0(W){switch(W.tag){case 26:case 27:case 5:return S0(W.type);case 16:return S0("Lazy");case 13:return S0("Suspense");case 19:return S0("SuspenseList");case 0:case 15:return W=L0(W.type,!1),W;case 11:return W=L0(W.type.render,!1),W;case 1:return W=L0(W.type,!0),W;default:return""}}function W1(W){try{var G="";do{G+=e0(W);var Z=W._debugInfo;if(Z)for(var X=Z.length-1;0<=X;X--){var B=Z[X];if(typeof B.name==="string"){var J=G,z=B.env,H=S0(B.name+(z?" ["+z+"]":""));G=J+H}}W=W.return}while(W);return G}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}function w1(){if(WW===null)return null;var W=WW._debugOwner;return W!=null?l(W):null}function BW(){return WW===null?"":W1(WW)}function W0(W,G,Z,X,B,J,z){var H=WW;g.getCurrentStack=W===null?null:BW,aW=!1,WW=W;try{return G(Z,X,B,J,z)}finally{WW=H}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function t(W){var G=W,Z=W;if(W.alternate)for(;G.return;)G=G.return;else{W=G;do G=W,(G.flags&4098)!==0&&(Z=G.return),W=G.return;while(W)}return G.tag===3?Z:null}function T0(W){if(W.tag===13){var G=W.memoizedState;if(G===null&&(W=W.alternate,W!==null&&(G=W.memoizedState)),G!==null)return G.dehydrated}return null}function N0(W){if(t(W)!==W)throw Error("Unable to find node on an unmounted component.")}function m0(W){var G=W.alternate;if(!G){if(G=t(W),G===null)throw Error("Unable to find node on an unmounted component.");return G!==W?null:W}for(var Z=W,X=G;;){var B=Z.return;if(B===null)break;var J=B.alternate;if(J===null){if(X=B.return,X!==null){Z=X;continue}break}if(B.child===J.child){for(J=B.child;J;){if(J===Z)return N0(B),W;if(J===X)return N0(B),G;J=J.sibling}throw Error("Unable to find node on an unmounted component.")}if(Z.return!==X.return)Z=B,X=J;else{for(var z=!1,H=B.child;H;){if(H===Z){z=!0,Z=B,X=J;break}if(H===X){z=!0,X=B,Z=J;break}H=H.sibling}if(!z){for(H=J.child;H;){if(H===Z){z=!0,Z=J,X=B;break}if(H===X){z=!0,X=J,Z=B;break}H=H.sibling}if(!z)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(Z.alternate!==X)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(Z.tag!==3)throw Error("Unable to find node on an unmounted component.");return Z.stateNode.current===Z?W:G}function n0(W){var G=W.tag;if(G===5||G===26||G===27||G===6)return W;for(W=W.child;W!==null;){if(G=n0(W),G!==null)return G;W=W.sibling}return null}function l0(W){return{current:W}}function d0(W,G){0>D5?console.error("Unexpected pop."):(G!==HQ[D5]&&console.error("Unexpected Fiber popped."),W.current=UQ[D5],UQ[D5]=null,HQ[D5]=null,D5--)}function R0(W,G,Z){D5++,UQ[D5]=W.current,HQ[D5]=Z,W.current=G}function B1(W){return W===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),W}function u1(W,G){R0(JG,G,W),R0(uY,W,W),R0(QG,null,W);var Z=G.nodeType;switch(Z){case 9:case 11:Z=Z===9?"#document":"#fragment",G=(G=G.documentElement)?(G=G.namespaceURI)?oK(G):v5:v5;break;default:if(G=Z===8?G.parentNode:G,Z=G.tagName,G=G.namespaceURI)G=oK(G),G=aK(G,Z);else switch(Z){case"svg":G=f7;break;case"math":G=X2;break;default:G=v5}}Z=Z.toLowerCase(),Z=N$(null,Z),Z={context:G,ancestorInfo:Z},d0(QG,W),R0(QG,Z,W)}function uW(W){d0(QG,W),d0(uY,W),d0(JG,W)}function HW(){return B1(QG.current)}function h9(W){W.memoizedState!==null&&R0(AX,W,W);var G=B1(QG.current),Z=W.type,X=aK(G.context,Z);Z=N$(G.ancestorInfo,Z),X={context:X,ancestorInfo:Z},G!==X&&(R0(uY,W,W),R0(QG,X,W))}function U9(W){uY.current===W&&(d0(QG,W),d0(uY,W)),AX.current===W&&(d0(AX,W),j4._currentValue=EZ)}function pW(W){return typeof Symbol==="function"&&Symbol.toStringTag&&W[Symbol.toStringTag]||W.constructor.name||"Object"}function H9(W){try{return _W(W),!1}catch(G){return!0}}function _W(W){return""+W}function y0(W,G){if(H9(W))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",G,pW(W)),_W(W)}function _9(W,G){if(H9(W))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",G,pW(W)),_W(W)}function wW(W){if(H9(W))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",pW(W)),_W(W)}function H5(W){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined")return!1;var G=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(G.isDisabled)return!0;if(!G.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{B7=G.inject(W),GW=G}catch(Z){console.error("React instrumentation encountered an error: %s.",Z)}return G.checkDCE?!0:!1}function xZ(W,G){if(GW&&typeof GW.onCommitFiberRoot==="function")try{var Z=(W.current.flags&128)===128;switch(G){case I9:var X=wQ;break;case D9:X=OQ;break;case e9:X=X7;break;case DX:X=VQ;break;default:X=X7}GW.onCommitFiberRoot(B7,W,X,Z)}catch(B){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",B))}}function i0(W){if(typeof BA==="function"&&QA(W),GW&&typeof GW.setStrictMode==="function")try{GW.setStrictMode(B7,W)}catch(G){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",G))}}function kG(W){e=W}function n5(){e!==null&&typeof e.markCommitStopped==="function"&&e.markCommitStopped()}function j(W){e!==null&&typeof e.markComponentRenderStarted==="function"&&e.markComponentRenderStarted(W)}function Z0(){e!==null&&typeof e.markComponentRenderStopped==="function"&&e.markComponentRenderStopped()}function Y0(W){e!==null&&typeof e.markRenderStarted==="function"&&e.markRenderStarted(W)}function k0(){e!==null&&typeof e.markRenderStopped==="function"&&e.markRenderStopped()}function Q1(W,G){e!==null&&typeof e.markStateUpdateScheduled==="function"&&e.markStateUpdateScheduled(W,G)}function s0(W){return W>>>=0,W===0?32:31-(JA(W)/NA|0)|0}function a(W){if(W&1)return"SyncHydrationLane";if(W&2)return"Sync";if(W&4)return"InputContinuousHydration";if(W&8)return"InputContinuous";if(W&16)return"DefaultHydration";if(W&32)return"Default";if(W&64)return"TransitionHydration";if(W&4194176)return"Transition";if(W&62914560)return"Retry";if(W&67108864)return"SelectiveHydration";if(W&134217728)return"IdleHydration";if(W&268435456)return"Idle";if(W&536870912)return"Offscreen";if(W&1073741824)return"Deferred"}function T1(W){var G=W&42;if(G!==0)return G;switch(W&-W){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return W&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return W&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),W}}function qW(W,G){var Z=W.pendingLanes;if(Z===0)return 0;var X=0,B=W.suspendedLanes,J=W.pingedLanes,z=W.warmLanes;W=W.finishedLanes!==0;var H=Z&134217727;return H!==0?(Z=H&~B,Z!==0?X=T1(Z):(J&=H,J!==0?X=T1(J):W||(z=H&~z,z!==0&&(X=T1(z))))):(H=Z&~B,H!==0?X=T1(H):J!==0?X=T1(J):W||(z=Z&~z,z!==0&&(X=T1(z)))),X===0?0:G!==0&&G!==X&&(G&B)===0&&(B=X&-X,z=G&-G,B>=z||B===32&&(z&4194176)!==0)?G:X}function G1(W,G){return(W.pendingLanes&~(W.suspendedLanes&~W.pingedLanes)&G)===0}function cW(W,G){switch(W){case 1:case 2:case 4:case 8:return G+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return G+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function w9(){var W=EX;return EX<<=1,(EX&4194176)===0&&(EX=128),W}function OW(){var W=IX;return IX<<=1,(IX&62914560)===0&&(IX=4194304),W}function O9(W){for(var G=[],Z=0;31>Z;Z++)G.push(W);return G}function y1(W,G){W.pendingLanes|=G,G!==268435456&&(W.suspendedLanes=0,W.pingedLanes=0,W.warmLanes=0)}function E8(W,G,Z,X,B,J){var z=W.pendingLanes;W.pendingLanes=Z,W.suspendedLanes=0,W.pingedLanes=0,W.warmLanes=0,W.expiredLanes&=Z,W.entangledLanes&=Z,W.errorRecoveryDisabledLanes&=Z,W.shellSuspendCounter=0;var{entanglements:H,expirationTimes:T,hiddenUpdates:I}=W;for(Z=z&~Z;0<Z;){var b=31-QW(Z),d=1<<b;H[b]=0,T[b]=-1;var v=I[b];if(v!==null)for(I[b]=null,b=0;b<v.length;b++){var c=v[b];c!==null&&(c.lane&=-536870913)}Z&=~d}X!==0&&QY(W,X,0),J!==0&&B===0&&W.tag!==0&&(W.suspendedLanes|=J&~(z&~G))}function QY(W,G,Z){W.pendingLanes|=G,W.suspendedLanes&=~G;var X=31-QW(G);W.entangledLanes|=G,W.entanglements[X]=W.entanglements[X]|1073741824|Z&4194218}function bZ(W,G){var Z=W.entangledLanes|=G;for(W=W.entanglements;Z;){var X=31-QW(Z),B=1<<X;B&G|W[X]&G&&(W[X]|=G),Z&=~B}}function JY(W,G,Z){if(E9)for(W=W.pendingUpdatersLaneMap;0<Z;){var X=31-QW(Z),B=1<<X;W[X].add(G),Z&=~B}}function vZ(W,G){if(E9)for(var{pendingUpdatersLaneMap:Z,memoizedUpdaters:X}=W;0<G;){var B=31-QW(G);W=1<<B,B=Z[B],0<B.size&&(B.forEach(function(J){var z=J.alternate;z!==null&&X.has(z)||X.add(J)}),B.clear()),G&=~W}}function fZ(W){return W&=-W,I9!==0&&I9<W?D9!==0&&D9<W?(W&134217727)!==0?e9:DX:D9:I9}function I8(){var W=N1.p;if(W!==0)return W;return W=window.event,W===void 0?e9:OU(W.type)}function D8(W,G){var Z=N1.p;try{return N1.p=W,G()}finally{N1.p=Z}}function yZ(W){delete W[ZW],delete W[EW],delete W[LQ],delete W[$A],delete W[zA]}function m9(W){var G=W[ZW];if(G)return G;for(var Z=W.parentNode;Z;){if(G=Z[tG]||Z[ZW]){if(Z=G.alternate,G.child!==null||Z!==null&&Z.child!==null)for(W=GU(W);W!==null;){if(Z=W[ZW])return Z;W=GU(W)}return G}W=Z,Z=W.parentNode}return null}function d9(W){if(W=W[ZW]||W[tG]){var G=W.tag;if(G===5||G===6||G===13||G===26||G===27||G===3)return W}return null}function s5(W){var G=W.tag;if(G===5||G===26||G===27||G===6)return W.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function _5(W){var G=W[kU];return G||(G=W[kU]={hoistableStyles:new Map,hoistableScripts:new Map}),G}function D1(W){W[pY]=!0}function u9(W,G){V9(W,G),V9(W+"Capture",G)}function V9(W,G){eG[W]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",W),eG[W]=G;var Z=W.toLowerCase();TQ[Z]=W,W==="onDoubleClick"&&(TQ.ondblclick=W);for(W=0;W<G.length;W++)xU.add(G[W])}function L9(W,G){KA[G.type]||G.onChange||G.onInput||G.readOnly||G.disabled||G.value==null||(W==="select"?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),G.onChange||G.readOnly||G.disabled||G.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function o5(W){if(P5.call(vU,W))return!0;if(P5.call(bU,W))return!1;if(UA.test(W))return vU[W]=!0;return bU[W]=!0,console.error("Invalid attribute name: `%s`",W),!1}function gZ(W,G,Z){if(o5(G)){if(!W.hasAttribute(G)){switch(typeof Z){case"symbol":case"object":return Z;case"function":return Z;case"boolean":if(Z===!1)return Z}return Z===void 0?void 0:null}if(W=W.getAttribute(G),W===""&&Z===!0)return!0;return y0(Z,G),W===""+Z?Z:W}}function xG(W,G,Z){if(o5(G))if(Z===null)W.removeAttribute(G);else{switch(typeof Z){case"undefined":case"function":case"symbol":W.removeAttribute(G);return;case"boolean":var X=G.toLowerCase().slice(0,5);if(X!=="data-"&&X!=="aria-"){W.removeAttribute(G);return}}y0(Z,G),W.setAttribute(G,""+Z)}}function w(W,G,Z){if(Z===null)W.removeAttribute(G);else{switch(typeof Z){case"undefined":case"function":case"symbol":case"boolean":W.removeAttribute(G);return}y0(Z,G),W.setAttribute(G,""+Z)}}function q(W,G,Z,X){if(X===null)W.removeAttribute(Z);else{switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":W.removeAttribute(Z);return}y0(X,Z),W.setAttributeNS(G,Z,""+X)}}function u(W){switch(typeof W){case"bigint":case"boolean":case"number":case"string":case"undefined":return W;case"object":return wW(W),W;default:return""}}function o(W){var G=W.type;return(W=W.nodeName)&&W.toLowerCase()==="input"&&(G==="checkbox"||G==="radio")}function B0(W){var G=o(W)?"checked":"value",Z=Object.getOwnPropertyDescriptor(W.constructor.prototype,G);wW(W[G]);var X=""+W[G];if(!W.hasOwnProperty(G)&&typeof Z!=="undefined"&&typeof Z.get==="function"&&typeof Z.set==="function"){var{get:B,set:J}=Z;return Object.defineProperty(W,G,{configurable:!0,get:function(){return B.call(this)},set:function(z){wW(z),X=""+z,J.call(this,z)}}),Object.defineProperty(W,G,{enumerable:Z.enumerable}),{getValue:function(){return X},setValue:function(z){wW(z),X=""+z},stopTracking:function(){W._valueTracker=null,delete W[G]}}}}function z0(W){W._valueTracker||(W._valueTracker=B0(W))}function Q0(W){if(!W)return!1;var G=W._valueTracker;if(!G)return!0;var Z=G.getValue(),X="";return W&&(X=o(W)?W.checked?"true":"false":W.value),W=X,W!==Z?(G.setValue(W),!0):!1}function g0(W){if(W=W||(typeof document!=="undefined"?document:void 0),typeof W==="undefined")return null;try{return W.activeElement||W.body}catch(G){return W.body}}function A0(W){return W.replace(HA,function(G){return"\\"+G.charCodeAt(0).toString(16)+" "})}function J1(W,G){G.checked===void 0||G.defaultChecked===void 0||yU||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",w1()||"A component",G.type),yU=!0),G.value===void 0||G.defaultValue===void 0||fU||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",w1()||"A component",G.type),fU=!0)}function g1(W,G,Z,X,B,J,z,H){if(W.name="",z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"?(y0(z,"type"),W.type=z):W.removeAttribute("type"),G!=null)if(z==="number"){if(G===0&&W.value===""||W.value!=G)W.value=""+u(G)}else W.value!==""+u(G)&&(W.value=""+u(G));else z!=="submit"&&z!=="reset"||W.removeAttribute("value");G!=null?VW(W,z,u(G)):Z!=null?VW(W,z,u(Z)):X!=null&&W.removeAttribute("value"),B==null&&J!=null&&(W.defaultChecked=!!J),B!=null&&(W.checked=B&&typeof B!=="function"&&typeof B!=="symbol"),H!=null&&typeof H!=="function"&&typeof H!=="symbol"&&typeof H!=="boolean"?(y0(H,"name"),W.name=""+u(H)):W.removeAttribute("name")}function p9(W,G,Z,X,B,J,z,H){if(J!=null&&typeof J!=="function"&&typeof J!=="symbol"&&typeof J!=="boolean"&&(y0(J,"type"),W.type=J),G!=null||Z!=null){if(!(J!=="submit"&&J!=="reset"||G!==void 0&&G!==null))return;Z=Z!=null?""+u(Z):"",G=G!=null?""+u(G):Z,H||G===W.value||(W.value=G),W.defaultValue=G}X=X!=null?X:B,X=typeof X!=="function"&&typeof X!=="symbol"&&!!X,W.checked=H?W.checked:!!X,W.defaultChecked=!!X,z!=null&&typeof z!=="function"&&typeof z!=="symbol"&&typeof z!=="boolean"&&(y0(z,"name"),W.name=z)}function VW(W,G,Z){G==="number"&&g0(W.ownerDocument)===W||W.defaultValue===""+Z||(W.defaultValue=""+Z)}function bG(W,G){G.value==null&&(typeof G.children==="object"&&G.children!==null?g7.Children.forEach(G.children,function(Z){Z==null||typeof Z==="string"||typeof Z==="number"||typeof Z==="bigint"||hU||(hU=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):G.dangerouslySetInnerHTML==null||mU||(mU=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),G.selected==null||gU||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),gU=!0)}function lW(){var W=w1();return W?`

Check the render method of \``+W+"`.":""}function hZ(W,G,Z,X){if(W=W.options,G){G={};for(var B=0;B<Z.length;B++)G["$"+Z[B]]=!0;for(Z=0;Z<W.length;Z++)B=G.hasOwnProperty("$"+W[Z].value),W[Z].selected!==B&&(W[Z].selected=B),B&&X&&(W[Z].defaultSelected=!0)}else{Z=""+u(Z),G=null;for(B=0;B<W.length;B++){if(W[B].value===Z){W[B].selected=!0,X&&(W[B].defaultSelected=!0);return}G!==null||W[B].disabled||(G=W[B])}G!==null&&(G.selected=!0)}}function W$(W,G){for(W=0;W<uU.length;W++){var Z=uU[W];if(G[Z]!=null){var X=i1(G[Z]);G.multiple&&!X?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",Z,lW()):!G.multiple&&X&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",Z,lW())}}G.value===void 0||G.defaultValue===void 0||dU||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),dU=!0)}function G$(W,G){G.value===void 0||G.defaultValue===void 0||pU||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",w1()||"A component"),pU=!0),G.children!=null&&G.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function Z$(W,G,Z){if(G!=null&&(G=""+u(G),G!==W.value&&(W.value=G),Z==null)){W.defaultValue!==G&&(W.defaultValue=G);return}W.defaultValue=Z!=null?""+u(Z):""}function Y$(W,G,Z,X){if(G==null){if(X!=null){if(Z!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(i1(X)){if(1<X.length)throw Error("<textarea> can only have at most one child.");X=X[0]}Z=X}Z==null&&(Z=""),G=Z}Z=u(G),W.defaultValue=Z,X=W.textContent,X===Z&&X!==""&&X!==null&&(W.value=X)}function X$(W,G){return W.serverProps===void 0&&W.serverTail.length===0&&W.children.length===1&&3<W.distanceFromLeaf&&W.distanceFromLeaf>15-G?X$(W.children[0],G):W}function MW(W){return"  "+"  ".repeat(W)}function mZ(W){return"+ "+"  ".repeat(W)}function vG(W){return"- "+"  ".repeat(W)}function B$(W){switch(W.tag){case 26:case 27:case 5:return W.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return W=W.type,W.displayName||W.name||null;case 11:return W=W.type.render,W.displayName||W.name||null;case 1:return W=W.type,W.displayName||W.name||null;default:return null}}function NY(W,G){return cU.test(W)?(W=JSON.stringify(W),W.length>G-2?8>G?'{"..."}':"{"+W.slice(0,G-7)+'..."}':"{"+W+"}"):W.length>G?5>G?'{"..."}':W.slice(0,G-3)+"...":W}function P8(W,G,Z){var X=120-2*Z;if(G===null)return mZ(Z)+NY(W,X)+`
`;if(typeof G==="string"){for(var B=0;B<G.length&&B<W.length&&G.charCodeAt(B)===W.charCodeAt(B);B++);return B>X-8&&10<B&&(W="..."+W.slice(B-8),G="..."+G.slice(B-8)),mZ(Z)+NY(W,X)+`
`+vG(Z)+NY(G,X)+`
`}return MW(Z)+NY(W,X)+`
`}function KB(W){return Object.prototype.toString.call(W).replace(/^\[object (.*)\]$/,function(G,Z){return Z})}function $Y(W,G){switch(typeof W){case"string":return W=JSON.stringify(W),W.length>G?5>G?'"..."':W.slice(0,G-4)+'..."':W;case"object":if(W===null)return"null";if(i1(W))return"[...]";if(W.$$typeof===BG)return(G=f(W.type))?"<"+G+">":"<...>";var Z=KB(W);if(Z==="Object"){Z="",G-=2;for(var X in W)if(W.hasOwnProperty(X)){var B=JSON.stringify(X);if(B!=='"'+X+'"'&&(X=B),G-=X.length-2,B=$Y(W[X],15>G?G:15),G-=B.length,0>G){Z+=Z===""?"...":", ...";break}Z+=(Z===""?"":",")+X+":"+B}return"{"+Z+"}"}return Z;case"function":return(G=W.displayName||W.name)?"function "+G:"function";default:return String(W)}}function dZ(W,G){return typeof W!=="string"||cU.test(W)?"{"+$Y(W,G-2)+"}":W.length>G-2?5>G?'"..."':'"'+W.slice(0,G-5)+'..."':'"'+W+'"'}function UB(W,G,Z){var X=120-Z.length-W.length,B=[],J;for(J in G)if(G.hasOwnProperty(J)&&J!=="children"){var z=dZ(G[J],120-Z.length-J.length-1);X-=J.length+z.length+2,B.push(J+"="+z)}return B.length===0?Z+"<"+W+`>
`:0<X?Z+"<"+W+" "+B.join(" ")+`>
`:Z+"<"+W+`
`+Z+"  "+B.join(`
`+Z+"  ")+`
`+Z+`>
`}function OL(W,G,Z){var X="",B=C0({},G),J;for(J in W)if(W.hasOwnProperty(J)){delete B[J];var z=120-2*Z-J.length-2,H=$Y(W[J],z);G.hasOwnProperty(J)?(z=$Y(G[J],z),X+=mZ(Z)+J+": "+H+`
`,X+=vG(Z)+J+": "+z+`
`):X+=mZ(Z)+J+": "+H+`
`}for(var T in B)B.hasOwnProperty(T)&&(W=$Y(B[T],120-2*Z-T.length-2),X+=vG(Z)+T+": "+W+`
`);return X}function VL(W,G,Z,X){var B="",J=new Map;for(I in Z)Z.hasOwnProperty(I)&&J.set(I.toLowerCase(),I);if(J.size===1&&J.has("children"))B+=UB(W,G,MW(X));else{for(var z in G)if(G.hasOwnProperty(z)&&z!=="children"){var H=120-2*(X+1)-z.length-1,T=J.get(z.toLowerCase());if(T!==void 0){J.delete(z.toLowerCase());var I=G[z];T=Z[T];var b=dZ(I,H);H=dZ(T,H),typeof I==="object"&&I!==null&&typeof T==="object"&&T!==null&&KB(I)==="Object"&&KB(T)==="Object"&&(2<Object.keys(I).length||2<Object.keys(T).length||-1<b.indexOf("...")||-1<H.indexOf("..."))?B+=MW(X+1)+z+`={{
`+OL(I,T,X+2)+MW(X+1)+`}}
`:(B+=mZ(X+1)+z+"="+b+`
`,B+=vG(X+1)+z+"="+H+`
`)}else B+=MW(X+1)+z+"="+dZ(G[z],H)+`
`}J.forEach(function(d){if(d!=="children"){var v=120-2*(X+1)-d.length-1;B+=vG(X+1)+d+"="+dZ(Z[d],v)+`
`}}),B=B===""?MW(X)+"<"+W+`>
`:MW(X)+"<"+W+`
`+B+MW(X)+`>
`}if(W=Z.children,G=G.children,typeof W==="string"||typeof W==="number"||typeof W==="bigint"){if(J="",typeof G==="string"||typeof G==="number"||typeof G==="bigint")J=""+G;B+=P8(J,""+W,X+1)}else if(typeof G==="string"||typeof G==="number"||typeof G==="bigint")B=W==null?B+P8(""+G,null,X+1):B+P8(""+G,void 0,X+1);return B}function Q$(W,G){var Z=B$(W);if(Z===null){Z="";for(W=W.child;W;)Z+=Q$(W,G),W=W.sibling;return Z}return MW(G)+"<"+Z+`>
`}function HB(W,G){var Z=X$(W,G);if(Z!==W&&(W.children.length!==1||W.children[0]!==Z))return MW(G)+`...
`+HB(Z,G+1);Z="";var X=W.fiber._debugInfo;if(X)for(var B=0;B<X.length;B++){var J=X[B].name;typeof J==="string"&&(Z+=MW(G)+"<"+J+`>
`,G++)}if(X="",B=W.fiber.pendingProps,W.fiber.tag===6)X=P8(B,W.serverProps,G),G++;else if(J=B$(W.fiber),J!==null)if(W.serverProps===void 0){X=G;var z=120-2*X-J.length-2,H="";for(I in B)if(B.hasOwnProperty(I)&&I!=="children"){var T=dZ(B[I],15);if(z-=I.length+T.length+2,0>z){H+=" ...";break}H+=" "+I+"="+T}X=MW(X)+"<"+J+H+`>
`,G++}else W.serverProps===null?(X=UB(J,B,mZ(G)),G++):typeof W.serverProps==="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):(X=VL(J,B,W.serverProps,G),G++);var I="";B=W.fiber.child;for(J=0;B&&J<W.children.length;)z=W.children[J],z.fiber===B?(I+=HB(z,G),J++):I+=Q$(B,G),B=B.sibling;B&&0<W.children.length&&(I+=MW(G)+`...
`),B=W.serverTail,W.serverProps===null&&G--;for(W=0;W<B.length;W++)J=B[W],I=typeof J==="string"?I+(vG(G)+NY(J,120-2*G)+`
`):I+UB(J.type,J.props,vG(G));return Z+X+I}function _B(W){try{return`

`+HB(W,0)}catch(G){return""}}function J$(W,G,Z){for(var X=G,B=null,J=0;X;)X===W&&(J=0),B={fiber:X,children:B!==null?[B]:[],serverProps:X===G?Z:X===W?null:void 0,serverTail:[],distanceFromLeaf:J},J++,X=X.return;return B!==null?_B(B).replaceAll(/^[+-]/gm,">"):""}function N$(W,G){W=C0({},W||iU);var Z={tag:G};if(lU.indexOf(G)!==-1&&(W.aTagInScope=null,W.buttonTagInScope=null,W.nobrTagInScope=null),wA.indexOf(G)!==-1&&(W.pTagInButtonScope=null),_A.indexOf(G)!==-1&&G!=="address"&&G!=="div"&&G!=="p"&&(W.listItemTagAutoclosing=null,W.dlItemTagAutoclosing=null),W.current=Z,G==="form"&&(W.formTag=Z),G==="a"&&(W.aTagInScope=Z),G==="button"&&(W.buttonTagInScope=Z),G==="nobr"&&(W.nobrTagInScope=Z),G==="p"&&(W.pTagInButtonScope=Z),G==="li"&&(W.listItemTagAutoclosing=Z),G==="dd"||G==="dt")W.dlItemTagAutoclosing=Z;return G==="#document"||G==="html"?W.containerTagInScope=null:W.containerTagInScope||(W.containerTagInScope=Z),W}function $$(W,G){switch(G){case"select":return W==="hr"||W==="option"||W==="optgroup"||W==="#text";case"optgroup":return W==="option"||W==="#text";case"option":return W==="#text";case"tr":return W==="th"||W==="td"||W==="style"||W==="script"||W==="template";case"tbody":case"thead":case"tfoot":return W==="tr"||W==="style"||W==="script"||W==="template";case"colgroup":return W==="col"||W==="template";case"table":return W==="caption"||W==="colgroup"||W==="tbody"||W==="tfoot"||W==="thead"||W==="style"||W==="script"||W==="template";case"head":return W==="base"||W==="basefont"||W==="bgsound"||W==="link"||W==="meta"||W==="title"||W==="noscript"||W==="noframes"||W==="style"||W==="script"||W==="template";case"html":return W==="head"||W==="body"||W==="frameset";case"frameset":return W==="frame";case"#document":return W==="html"}switch(W){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return G!=="h1"&&G!=="h2"&&G!=="h3"&&G!=="h4"&&G!=="h5"&&G!=="h6";case"rp":case"rt":return OA.indexOf(G)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return G==null}return!0}function LL(W,G){switch(W){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return G.pTagInButtonScope;case"form":return G.formTag||G.pTagInButtonScope;case"li":return G.listItemTagAutoclosing;case"dd":case"dt":return G.dlItemTagAutoclosing;case"button":return G.buttonTagInScope;case"a":return G.aTagInScope;case"nobr":return G.nobrTagInScope}return null}function z$(W,G){for(;W;){switch(W.tag){case 5:case 26:case 27:if(W.type===G)return W}W=W.return}return null}function wB(W,G){G=G||iU;var Z=G.current;if(G=(Z=$$(W,Z&&Z.tag)?null:Z)?null:LL(W,G),G=Z||G,!G)return!0;G=G.tag;var X=String(!!Z)+"|"+W+"|"+G;if(PX[X])return!1;PX[X]=!0;var B=(X=WW)?z$(X.return,G):null;return X=X!==null&&B!==null?J$(B,X,null):"",B="<"+W+">",Z?(Z="",G==="table"&&W==="tr"&&(Z+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,B,G,Z,X)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,B,G,X),!1}function j8(W,G){if($$("#text",G))return!0;var Z="#text|"+G;if(PX[Z])return!1;PX[Z]=!0;var X=(Z=WW)?z$(Z,G):null;return Z=Z!==null&&X!==null?J$(X,Z,Z.tag!==6?{children:null}:null):"",/\S/.test(W)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,G,Z):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,G,Z),!1}function zY(W,G){if(G){var Z=W.firstChild;if(Z&&Z===W.lastChild&&Z.nodeType===3){Z.nodeValue=G;return}}W.textContent=G}function TL(W){return W.replace(TA,function(G,Z){return Z.toUpperCase()})}function K$(W,G,Z){var X=G.indexOf("--")===0;X||(-1<G.indexOf("-")?J7.hasOwnProperty(G)&&J7[G]||(J7[G]=!0,console.error("Unsupported style property %s. Did you mean %s?",G,TL(G.replace(LA,"ms-")))):VA.test(G)?J7.hasOwnProperty(G)&&J7[G]||(J7[G]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",G,G.charAt(0).toUpperCase()+G.slice(1))):!oU.test(Z)||EQ.hasOwnProperty(Z)&&EQ[Z]||(EQ[Z]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,G,Z.replace(oU,""))),typeof Z==="number"&&(isNaN(Z)?aU||(aU=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",G)):isFinite(Z)||rU||(rU=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",G)))),Z==null||typeof Z==="boolean"||Z===""?X?W.setProperty(G,""):G==="float"?W.cssFloat="":W[G]="":X?W.setProperty(G,Z):typeof Z!=="number"||Z===0||tU.has(G)?G==="float"?W.cssFloat=Z:(_9(Z,G),W[G]=(""+Z).trim()):W[G]=Z+"px"}function U$(W,G,Z){if(G!=null&&typeof G!=="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(G&&Object.freeze(G),W=W.style,Z!=null){if(G){var X={};if(Z){for(var B in Z)if(Z.hasOwnProperty(B)&&!G.hasOwnProperty(B))for(var J=AQ[B]||[B],z=0;z<J.length;z++)X[J[z]]=B}for(var H in G)if(G.hasOwnProperty(H)&&(!Z||Z[H]!==G[H]))for(B=AQ[H]||[H],J=0;J<B.length;J++)X[B[J]]=H;H={};for(var T in G)for(B=AQ[T]||[T],J=0;J<B.length;J++)H[B[J]]=T;T={};for(var I in X)if(B=X[I],(J=H[I])&&B!==J&&(z=B+","+J,!T[z])){T[z]=!0,z=console;var b=G[B];z.error.call(z,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",b==null||typeof b==="boolean"||b===""?"Removing":"Updating",B,J)}}for(var d in Z)!Z.hasOwnProperty(d)||G!=null&&G.hasOwnProperty(d)||(d.indexOf("--")===0?W.setProperty(d,""):d==="float"?W.cssFloat="":W[d]="");for(var v in G)I=G[v],G.hasOwnProperty(v)&&Z[v]!==I&&K$(W,v,I)}else for(X in G)G.hasOwnProperty(X)&&K$(W,X,G[X])}function KY(W){if(W.indexOf("-")===-1)return!1;switch(W){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function H$(W){return AA.get(W)||W}function AL(W,G){if(P5.call(N7,G)&&N7[G])return!0;if(IA.test(G)){if(W="aria-"+G.slice(4).toLowerCase(),W=eU.hasOwnProperty(W)?W:null,W==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",G),N7[G]=!0;if(G!==W)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",G,W),N7[G]=!0}if(EA.test(G)){if(W=G.toLowerCase(),W=eU.hasOwnProperty(W)?W:null,W==null)return N7[G]=!0,!1;G!==W&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",G,W),N7[G]=!0)}return!0}function EL(W,G){var Z=[],X;for(X in G)AL(W,X)||Z.push(X);G=Z.map(function(B){return"`"+B+"`"}).join(", "),Z.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",G,W):1<Z.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",G,W)}function IL(W,G,Z,X){if(P5.call(JW,G)&&JW[G])return!0;var B=G.toLowerCase();if(B==="onfocusin"||B==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),JW[G]=!0;if(typeof Z==="function"&&(W==="form"&&G==="action"||W==="input"&&G==="formAction"||W==="button"&&G==="formAction"))return!0;if(X!=null){if(W=X.possibleRegistrationNames,X.registrationNameDependencies.hasOwnProperty(G))return!0;if(X=W.hasOwnProperty(B)?W[B]:null,X!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",G,X),JW[G]=!0;if(GH.test(G))return console.error("Unknown event handler property `%s`. It will be ignored.",G),JW[G]=!0}else if(GH.test(G))return DA.test(G)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",G),JW[G]=!0;if(PA.test(G)||jA.test(G))return!0;if(B==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),JW[G]=!0;if(B==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),JW[G]=!0;if(B==="is"&&Z!==null&&Z!==void 0&&typeof Z!=="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof Z),JW[G]=!0;if(typeof Z==="number"&&isNaN(Z))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",G),JW[G]=!0;if(CX.hasOwnProperty(B)){if(B=CX[B],B!==G)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",G,B),JW[G]=!0}else if(G!==B)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",G,B),JW[G]=!0;switch(G){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof Z){case"boolean":switch(G){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:if(B=G.toLowerCase().slice(0,5),B==="data-"||B==="aria-")return!0;return Z?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',Z,G,G,Z,G):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',Z,G,G,Z,G,G,G),JW[G]=!0}case"function":case"symbol":return JW[G]=!0,!1;case"string":if(Z==="false"||Z==="true"){switch(G){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",Z,G,Z==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',G,Z),JW[G]=!0}}return!0}function DL(W,G,Z){var X=[],B;for(B in G)IL(W,B,G[B],Z)||X.push(B);G=X.map(function(J){return"`"+J+"`"}).join(", "),X.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",G,W):1<X.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",G,W)}function UY(W){return CA.test(""+W)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":W}function OB(W){return W=W.target||W.srcElement||window,W.correspondingUseElement&&(W=W.correspondingUseElement),W.nodeType===3?W.parentNode:W}function _$(W){var G=d9(W);if(G&&(W=G.stateNode)){var Z=W[EW]||null;W:switch(W=G.stateNode,G.type){case"input":if(g1(W,Z.value,Z.defaultValue,Z.defaultValue,Z.checked,Z.defaultChecked,Z.type,Z.name),G=Z.name,Z.type==="radio"&&G!=null){for(Z=W;Z.parentNode;)Z=Z.parentNode;y0(G,"name"),Z=Z.querySelectorAll('input[name="'+A0(""+G)+'"][type="radio"]');for(G=0;G<Z.length;G++){var X=Z[G];if(X!==W&&X.form===W.form){var B=X[EW]||null;if(!B)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");g1(X,B.value,B.defaultValue,B.defaultValue,B.checked,B.defaultChecked,B.type,B.name)}}for(G=0;G<Z.length;G++)X=Z[G],X.form===W.form&&Q0(X)}break W;case"textarea":Z$(W,Z.value,Z.defaultValue);break W;case"select":G=Z.value,G!=null&&hZ(W,!!Z.multiple,G,!1)}}}function w$(W,G,Z){if(IQ)return W(G,Z);IQ=!0;try{var X=W(G);return X}finally{if(IQ=!1,$7!==null||z7!==null){if(aZ(),$7&&(G=$7,W=z7,z7=$7=null,_$(G),W))for(G=0;G<W.length;G++)_$(W[G])}}}function HY(W,G){var Z=W.stateNode;if(Z===null)return null;var X=Z[EW]||null;if(X===null)return null;Z=X[G];W:switch(G){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(X=!X.disabled)||(W=W.type,X=!(W==="button"||W==="input"||W==="select"||W==="textarea")),W=!X;break W;default:W=!1}if(W)return null;if(Z&&typeof Z!=="function")throw Error("Expected `"+G+"` listener to be a function, instead got a value of `"+typeof Z+"` type.");return Z}function O$(){if(FX)return FX;var W,G=PQ,Z=G.length,X,B="value"in $G?$G.value:$G.textContent,J=B.length;for(W=0;W<Z&&G[W]===B[W];W++);var z=Z-W;for(X=1;X<=z&&G[Z-X]===B[J-X];X++);return FX=B.slice(W,1<X?1-X:void 0)}function C8(W){var G=W.keyCode;return"charCode"in W?(W=W.charCode,W===0&&G===13&&(W=13)):W=G,W===10&&(W=13),32<=W||W===13?W:0}function F8(){return!0}function V$(){return!1}function LW(W){function G(Z,X,B,J,z){this._reactName=Z,this._targetInst=B,this.type=X,this.nativeEvent=J,this.target=z,this.currentTarget=null;for(var H in W)W.hasOwnProperty(H)&&(Z=W[H],this[H]=Z?Z(J):J[H]);return this.isDefaultPrevented=(J.defaultPrevented!=null?J.defaultPrevented:J.returnValue===!1)?F8:V$,this.isPropagationStopped=V$,this}return C0(G.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Z=this.nativeEvent;Z&&(Z.preventDefault?Z.preventDefault():typeof Z.returnValue!=="unknown"&&(Z.returnValue=!1),this.isDefaultPrevented=F8)},stopPropagation:function(){var Z=this.nativeEvent;Z&&(Z.stopPropagation?Z.stopPropagation():typeof Z.cancelBubble!=="unknown"&&(Z.cancelBubble=!0),this.isPropagationStopped=F8)},persist:function(){},isPersistent:F8}),G}function PL(W){var G=this.nativeEvent;return G.getModifierState?G.getModifierState(W):(W=hA[W])?!!G[W]:!1}function VB(){return PL}function L$(W,G){switch(W){case"keyup":return rA.indexOf(G.keyCode)!==-1;case"keydown":return G.keyCode!==BH;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T$(W){return W=W.detail,typeof W==="object"&&"data"in W?W.data:null}function jL(W,G){switch(W){case"compositionend":return T$(G);case"keypress":if(G.which!==JH)return null;return $H=!0,NH;case"textInput":return W=G.data,W===NH&&$H?null:W;default:return null}}function CL(W,G){if(K7)return W==="compositionend"||!qQ&&L$(W,G)?(W=O$(),FX=PQ=$G=null,K7=!1,W):null;switch(W){case"paste":return null;case"keypress":if(!(G.ctrlKey||G.altKey||G.metaKey)||G.ctrlKey&&G.altKey){if(G.char&&1<G.char.length)return G.char;if(G.which)return String.fromCharCode(G.which)}return null;case"compositionend":return QH&&G.locale!=="ko"?null:G.data;default:return null}}function A$(W){var G=W&&W.nodeName&&W.nodeName.toLowerCase();return G==="input"?!!eA[W.type]:G==="textarea"?!0:!1}function FL(W){if(!W5)return!1;W="on"+W;var G=W in document;return G||(G=document.createElement("div"),G.setAttribute(W,"return;"),G=typeof G[W]==="function"),G}function E$(W,G,Z,X){$7?z7?z7.push(X):z7=[X]:$7=X,G=JX(G,"onChange"),0<G.length&&(Z=new qX("onChange","change",null,Z,X),W.push({event:Z,listeners:G}))}function qL(W){hK(W,0)}function q8(W){var G=s5(W);if(Q0(G))return W}function I$(W,G){if(W==="change")return G}function D$(){oY&&(oY.detachEvent("onpropertychange",P$),aY=oY=null)}function P$(W){if(W.propertyName==="value"&&q8(aY)){var G=[];E$(G,aY,W,OB(W)),w$(qL,G)}}function ML(W,G,Z){W==="focusin"?(D$(),oY=G,aY=Z,oY.attachEvent("onpropertychange",P$)):W==="focusout"&&D$()}function SL(W){if(W==="selectionchange"||W==="keyup"||W==="keydown")return q8(aY)}function RL(W,G){if(W==="click")return q8(G)}function kL(W,G){if(W==="input"||W==="change")return q8(G)}function xL(W,G){return W===G&&(W!==0||1/W===1/G)||W!==W&&G!==G}function _Y(W,G){if(NW(W,G))return!0;if(typeof W!=="object"||W===null||typeof G!=="object"||G===null)return!1;var Z=Object.keys(W),X=Object.keys(G);if(Z.length!==X.length)return!1;for(X=0;X<Z.length;X++){var B=Z[X];if(!P5.call(G,B)||!NW(W[B],G[B]))return!1}return!0}function j$(W){for(;W&&W.firstChild;)W=W.firstChild;return W}function C$(W,G){var Z=j$(W);W=0;for(var X;Z;){if(Z.nodeType===3){if(X=W+Z.textContent.length,W<=G&&X>=G)return{node:Z,offset:G-W};W=X}W:{for(;Z;){if(Z.nextSibling){Z=Z.nextSibling;break W}Z=Z.parentNode}Z=void 0}Z=j$(Z)}}function F$(W,G){return W&&G?W===G?!0:W&&W.nodeType===3?!1:G&&G.nodeType===3?F$(W,G.parentNode):("contains"in W)?W.contains(G):W.compareDocumentPosition?!!(W.compareDocumentPosition(G)&16):!1:!1}function q$(W){W=W!=null&&W.ownerDocument!=null&&W.ownerDocument.defaultView!=null?W.ownerDocument.defaultView:window;for(var G=g0(W.document);G instanceof W.HTMLIFrameElement;){try{var Z=typeof G.contentWindow.location.href==="string"}catch(X){Z=!1}if(Z)W=G.contentWindow;else break;G=g0(W.document)}return G}function LB(W){var G=W&&W.nodeName&&W.nodeName.toLowerCase();return G&&(G==="input"&&(W.type==="text"||W.type==="search"||W.type==="tel"||W.type==="url"||W.type==="password")||G==="textarea"||W.contentEditable==="true")}function bL(W,G){var Z=q$(G);G=W.focusedElem;var X=W.selectionRange;if(Z!==G&&G&&G.ownerDocument&&F$(G.ownerDocument.documentElement,G)){if(X!==null&&LB(G)){if(W=X.start,Z=X.end,Z===void 0&&(Z=W),"selectionStart"in G)G.selectionStart=W,G.selectionEnd=Math.min(Z,G.value.length);else if(Z=(W=G.ownerDocument||document)&&W.defaultView||window,Z.getSelection){Z=Z.getSelection();var B=G.textContent.length,J=Math.min(X.start,B);X=X.end===void 0?J:Math.min(X.end,B),!Z.extend&&J>X&&(B=X,X=J,J=B),B=C$(G,J);var z=C$(G,X);B&&z&&(Z.rangeCount!==1||Z.anchorNode!==B.node||Z.anchorOffset!==B.offset||Z.focusNode!==z.node||Z.focusOffset!==z.offset)&&(W=W.createRange(),W.setStart(B.node,B.offset),Z.removeAllRanges(),J>X?(Z.addRange(W),Z.extend(z.node,z.offset)):(W.setEnd(z.node,z.offset),Z.addRange(W)))}}W=[];for(Z=G;Z=Z.parentNode;)Z.nodeType===1&&W.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});typeof G.focus==="function"&&G.focus();for(G=0;G<W.length;G++)Z=W[G],Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}function M$(W,G,Z){var X=Z.window===Z?Z.document:Z.nodeType===9?Z:Z.ownerDocument;SQ||U7==null||U7!==g0(X)||(X=U7,("selectionStart"in X)&&LB(X)?X={start:X.selectionStart,end:X.selectionEnd}:(X=(X.ownerDocument&&X.ownerDocument.defaultView||window).getSelection(),X={anchorNode:X.anchorNode,anchorOffset:X.anchorOffset,focusNode:X.focusNode,focusOffset:X.focusOffset}),rY&&_Y(rY,X)||(rY=X,X=JX(MQ,"onSelect"),0<X.length&&(G=new qX("onSelect","select",null,G,Z),W.push({event:G,listeners:X}),G.target=U7)))}function fG(W,G){var Z={};return Z[W.toLowerCase()]=G.toLowerCase(),Z["Webkit"+W]="webkit"+G,Z["Moz"+W]="moz"+G,Z}function yG(W){if(RQ[W])return RQ[W];if(!H7[W])return W;var G=H7[W],Z;for(Z in G)if(G.hasOwnProperty(Z)&&Z in KH)return RQ[W]=G[Z];return W}function T9(W,G){OH.set(W,G),u9(G,[W])}function M8(){for(var W=_7,G=kQ=_7=0;G<W;){var Z=rW[G];rW[G++]=null;var X=rW[G];rW[G++]=null;var B=rW[G];rW[G++]=null;var J=rW[G];if(rW[G++]=null,X!==null&&B!==null){var z=X.pending;z===null?B.next=B:(B.next=z.next,z.next=B),X.pending=B}J!==0&&S$(Z,B,J)}}function S8(W,G,Z,X){rW[_7++]=W,rW[_7++]=G,rW[_7++]=Z,rW[_7++]=X,kQ|=X,W.lanes|=X,W=W.alternate,W!==null&&(W.lanes|=X)}function TB(W,G,Z,X){return S8(W,G,Z,X),R8(W)}function e1(W,G){return S8(W,null,null,G),R8(W)}function S$(W,G,Z){W.lanes|=Z;var X=W.alternate;X!==null&&(X.lanes|=Z);for(var B=!1,J=W.return;J!==null;)J.childLanes|=Z,X=J.alternate,X!==null&&(X.childLanes|=Z),J.tag===22&&(W=J.stateNode,W===null||W._visibility&tY||(B=!0)),W=J,J=J.return;B&&G!==null&&W.tag===3&&(J=W.stateNode,B=31-QW(Z),J=J.hiddenUpdates,W=J[B],W===null?J[B]=[G]:W.push(G),G.lane=Z|536870912)}function R8(W){if(A4>OE)throw wZ=A4=0,E4=JJ=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");wZ>VE&&(wZ=0,E4=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),W.alternate===null&&(W.flags&4098)!==0&&RK(W);for(var G=W,Z=G.return;Z!==null;)G.alternate===null&&(G.flags&4098)!==0&&RK(W),G=Z,Z=G.return;return G.tag===3?G.stateNode:null}function gG(W){if(tW===null)return W;var G=tW(W);return G===void 0?W:G.current}function AB(W){if(tW===null)return W;var G=tW(W);return G===void 0?W!==null&&W!==void 0&&typeof W.render==="function"&&(G=gG(W.render),W.render!==G)?(G={$$typeof:mY,render:G},W.displayName!==void 0&&(G.displayName=W.displayName),G):W:G.current}function R$(W,G){if(tW===null)return!1;var Z=W.elementType;G=G.type;var X=!1,B=typeof G==="object"&&G!==null?G.$$typeof:null;switch(W.tag){case 1:typeof G==="function"&&(X=!0);break;case 0:typeof G==="function"?X=!0:B===xW&&(X=!0);break;case 11:B===mY?X=!0:B===xW&&(X=!0);break;case 14:case 15:B===TX?X=!0:B===xW&&(X=!0);break;default:return!1}return X&&(W=tW(Z),W!==void 0&&W===tW(G))?!0:!1}function k$(W){tW!==null&&typeof WeakSet==="function"&&(w7===null&&(w7=new WeakSet),w7.add(W))}function EB(W,G,Z){var{alternate:X,child:B,sibling:J,tag:z,type:H}=W,T=null;switch(z){case 0:case 15:case 1:T=H;break;case 11:T=H.render}if(tW===null)throw Error("Expected resolveFamily to be set during hot reload.");var I=!1;if(H=!1,T!==null&&(T=tW(T),T!==void 0&&(Z.has(T)?H=!0:G.has(T)&&(z===1?H=!0:I=!0))),w7!==null&&(w7.has(W)||X!==null&&w7.has(X))&&(H=!0),H&&(W._debugNeedsRemount=!0),H||I)X=e1(W,2),X!==null&&O1(X,W,2);B===null||H||EB(B,G,Z),J!==null&&EB(J,G,Z)}function w5(){var W=ZZ;return ZZ=0,W}function k8(W){var G=ZZ;return ZZ=W,G}function wY(W){var G=ZZ;return ZZ+=W,G}function IB(W){IW=O7(),0>W.actualStartTime&&(W.actualStartTime=IW)}function DB(W){if(0<=IW){var G=O7()-IW;W.actualDuration+=G,W.selfBaseDuration=G,IW=-1}}function x$(W){if(0<=IW){var G=O7()-IW;W.actualDuration+=G,IW=-1}}function c9(){if(0<=IW){var W=O7()-IW;IW=-1,ZZ+=W}}function l9(){IW=O7()}function x8(W){for(var G=W.child;G;)W.actualDuration+=G.actualDuration,G=G.sibling}function SW(W,G){if(typeof W==="object"&&W!==null){var Z=bQ.get(W);if(Z!==void 0)return Z;return G={value:W,source:G,stack:W1(G)},bQ.set(W,G),G}return{value:W,source:G,stack:W1(G)}}function hG(W,G){mG(),V7[L7++]=vX,V7[L7++]=bX,bX=W,vX=G}function b$(W,G,Z){mG(),eW[W9++]=C5,eW[W9++]=F5,eW[W9++]=XZ,XZ=W;var X=C5;W=F5;var B=32-QW(X)-1;X&=~(1<<B),Z+=1;var J=32-QW(G)+B;if(30<J){var z=B-B%5;J=(X&(1<<z)-1).toString(32),X>>=z,B-=z,C5=1<<32-QW(G)+B|Z<<B|X,F5=J+W}else C5=1<<J|Z<<B|X,F5=W}function PB(W){mG(),W.return!==null&&(hG(W,1),b$(W,1,0))}function jB(W){for(;W===bX;)bX=V7[--L7],V7[L7]=null,vX=V7[--L7],V7[L7]=null;for(;W===XZ;)XZ=eW[--W9],eW[W9]=null,F5=eW[--W9],eW[W9]=null,C5=eW[--W9],eW[W9]=null}function mG(){v0||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function dG(W,G){if(W.return===null){if(G9===null)G9={fiber:W,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:G};else{if(G9.fiber!==W)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");G9.distanceFromLeaf>G&&(G9.distanceFromLeaf=G)}return G9}var Z=dG(W.return,G+1).children;if(0<Z.length&&Z[Z.length-1].fiber===W)return Z=Z[Z.length-1],Z.distanceFromLeaf>G&&(Z.distanceFromLeaf=G),Z;return G={fiber:W,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:G},Z.push(G),G}function CB(W,G){q5||(W=dG(W,0),W.serverProps=null,G!==null&&(G=tK(G),W.serverTail.push(G)))}function uG(W){var G="",Z=G9;throw Z!==null&&(G9=null,G=_B(Z)),LY(SW(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+G),W)),vQ}function v$(W){var{stateNode:G,type:Z,memoizedProps:X}=W;switch(G[ZW]=W,G[EW]=X,c6(Z,X),Z){case"dialog":b0("cancel",G),b0("close",G);break;case"iframe":case"object":case"embed":b0("load",G);break;case"video":case"audio":for(Z=0;Z<I4.length;Z++)b0(I4[Z],G);break;case"source":b0("error",G);break;case"img":case"image":case"link":b0("error",G),b0("load",G);break;case"details":b0("toggle",G);break;case"input":L9("input",X),b0("invalid",G),J1(G,X),p9(G,X.value,X.defaultValue,X.checked,X.defaultChecked,X.type,X.name,!0),z0(G);break;case"option":bG(G,X);break;case"select":L9("select",X),b0("invalid",G),W$(G,X);break;case"textarea":L9("textarea",X),b0("invalid",G),G$(G,X),Y$(G,X.value,X.defaultValue,X.children),z0(G)}Z=X.children,typeof Z!=="string"&&typeof Z!=="number"&&typeof Z!=="bigint"||G.textContent===""+Z||X.suppressHydrationWarning===!0||pK(G.textContent,Z)?(X.popover!=null&&(b0("beforetoggle",G),b0("toggle",G)),X.onScroll!=null&&b0("scroll",G),X.onScrollEnd!=null&&b0("scrollend",G),X.onClick!=null&&(G.onclick=NX),G=!0):G=!1,G||uG(W)}function f$(W){for($W=W.return;$W;)switch($W.tag){case 3:case 27:G5=!0;return;case 5:case 13:G5=!1;return;default:$W=$W.return}}function OY(W){if(W!==$W)return!1;if(!v0)return f$(W),v0=!0,!1;var G=!1,Z;if(Z=W.tag!==3&&W.tag!==27){if(Z=W.tag===5)Z=W.type,Z=!(Z!=="form"&&Z!=="button")||s6(W.type,W.memoizedProps);Z=!Z}if(Z&&(G=!0),G&&s1){for(G=s1;G;){Z=dG(W,0);var X=tK(G);Z.serverTail.push(X),G=X.type==="Suspense"?WU(G):oW(G.nextSibling)}uG(W)}if(f$(W),W.tag===13){if(W=W.memoizedState,W=W!==null?W.dehydrated:null,!W)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");s1=WU(W)}else s1=$W?oW(W.stateNode.nextSibling):null;return!0}function VY(){s1=$W=null,q5=v0=!1}function LY(W){C9===null?C9=[W]:C9.push(W)}function y$(){var W=G9;W!==null&&(G9=null,W=_B(W),console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",W))}function g$(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function h$(W){return W=W.status,W==="fulfilled"||W==="rejected"}function b8(){}function m$(W,G,Z){g.actQueue!==null&&(g.didUsePromise=!0);var X=W.thenables;switch(Z=X[Z],Z===void 0?X.push(G):Z!==G&&(W.didWarnAboutUncachedPromise||(W.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),G.then(b8,b8),G=Z),G.status){case"fulfilled":return G.value;case"rejected":throw W=G.reason,u$(W),W;default:if(typeof G.status==="string")G.then(b8,b8);else{if(W=Z1,W!==null&&100<W.shellSuspendCounter)throw Error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");W=G,W.status="pending",W.then(function(B){if(G.status==="pending"){var J=G;J.status="fulfilled",J.value=B}},function(B){if(G.status==="pending"){var J=G;J.status="rejected",J.reason=B}})}switch(G.status){case"fulfilled":return G.value;case"rejected":throw W=G.reason,u$(W),W}throw B4=G,yX=!0,fX}}function d$(){if(B4===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var W=B4;return B4=null,yX=!1,W}function u$(W){if(W===fX)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function p1(W){var G=j0;return W!=null&&(j0=G===null?W:G.concat(W)),G}function v8(W,G,Z){for(var X=Object.keys(W.props),B=0;B<X.length;B++){var J=X[B];if(J!=="children"&&J!=="key"){G===null&&(G=XX(W,Z.mode,0),G._debugInfo=j0,G.return=Z),W0(G,function(z){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",z)},J);break}}}function f8(W){var G=Q4;return Q4+=1,T7===null&&(T7=g$()),m$(T7,W,G)}function TY(W,G){G=G.props.ref,W.ref=G!==void 0?G:null}function y8(W,G){if(G.$$typeof===oT)throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`);throw W=Object.prototype.toString.call(G),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}function g8(W,G){var Z=p(W)||"Component";vH[Z]||(vH[Z]=!0,G=G.displayName||G.name||"Component",W.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,G,G,G):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,G,G,Z,G,Z))}function h8(W,G){var Z=p(W)||"Component";fH[Z]||(fH[Z]=!0,G=String(G),W.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,G):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,Z,G,Z))}function p$(W){function G(P,D){if(W){var C=P.deletions;C===null?(P.deletions=[D],P.flags|=16):C.push(D)}}function Z(P,D){if(!W)return null;for(;D!==null;)G(P,D),D=D.sibling;return null}function X(P){for(var D=new Map;P!==null;)P.key!==null?D.set(P.key,P):D.set(P.index,P),P=P.sibling;return D}function B(P,D){return P=YG(P,D),P.index=0,P.sibling=null,P}function J(P,D,C){if(P.index=C,!W)return P.flags|=1048576,D;if(C=P.alternate,C!==null)return C=C.index,C<D?(P.flags|=33554434,D):C;return P.flags|=33554434,D}function z(P){return W&&P.alternate===null&&(P.flags|=33554434),P}function H(P,D,C,m){if(D===null||D.tag!==6)return D=S6(C,P.mode,m),D.return=P,D._debugOwner=P,D._debugInfo=j0,D;return D=B(D,C),D.return=P,D._debugInfo=j0,D}function T(P,D,C,m){var r=C.type;if(r===Y7)return D=b(P,D,C.props.children,m,C.key),v8(C,D,P),D;if(D!==null&&(D.elementType===r||R$(D,C)||typeof r==="object"&&r!==null&&r.$$typeof===xW&&KG(r)===D.type))return D=B(D,C.props),TY(D,C),D.return=P,D._debugOwner=C._owner,D._debugInfo=j0,D;return D=XX(C,P.mode,m),TY(D,C),D.return=P,D._debugInfo=j0,D}function I(P,D,C,m){if(D===null||D.tag!==4||D.stateNode.containerInfo!==C.containerInfo||D.stateNode.implementation!==C.implementation)return D=R6(C,P.mode,m),D.return=P,D._debugInfo=j0,D;return D=B(D,C.children||[]),D.return=P,D._debugInfo=j0,D}function b(P,D,C,m,r){if(D===null||D.tag!==7)return D=aG(C,P.mode,m,r),D.return=P,D._debugOwner=P,D._debugInfo=j0,D;return D=B(D,C),D.return=P,D._debugInfo=j0,D}function d(P,D,C){if(typeof D==="string"&&D!==""||typeof D==="number"||typeof D==="bigint")return D=S6(""+D,P.mode,C),D.return=P,D._debugOwner=P,D._debugInfo=j0,D;if(typeof D==="object"&&D!==null){switch(D.$$typeof){case BG:return C=XX(D,P.mode,C),TY(C,D),C.return=P,P=p1(D._debugInfo),C._debugInfo=j0,j0=P,C;case Z7:return D=R6(D,P.mode,C),D.return=P,D._debugInfo=j0,D;case xW:var m=p1(D._debugInfo);return D=KG(D),P=d(P,D,C),j0=m,P}if(i1(D)||k(D))return C=aG(D,P.mode,C,null),C.return=P,C._debugOwner=P,P=p1(D._debugInfo),C._debugInfo=j0,j0=P,C;if(typeof D.then==="function")return m=p1(D._debugInfo),P=d(P,f8(D),C),j0=m,P;if(D.$$typeof===a9)return d(P,WX(P,D),C);y8(P,D)}return typeof D==="function"&&g8(P,D),typeof D==="symbol"&&h8(P,D),null}function v(P,D,C,m){var r=D!==null?D.key:null;if(typeof C==="string"&&C!==""||typeof C==="number"||typeof C==="bigint")return r!==null?null:H(P,D,""+C,m);if(typeof C==="object"&&C!==null){switch(C.$$typeof){case BG:return C.key===r?(r=p1(C._debugInfo),P=T(P,D,C,m),j0=r,P):null;case Z7:return C.key===r?I(P,D,C,m):null;case xW:return r=p1(C._debugInfo),C=KG(C),P=v(P,D,C,m),j0=r,P}if(i1(C)||k(C)){if(r!==null)return null;return r=p1(C._debugInfo),P=b(P,D,C,m,null),j0=r,P}if(typeof C.then==="function")return r=p1(C._debugInfo),P=v(P,D,f8(C),m),j0=r,P;if(C.$$typeof===a9)return v(P,D,WX(P,C),m);y8(P,C)}return typeof C==="function"&&g8(P,C),typeof C==="symbol"&&h8(P,C),null}function c(P,D,C,m,r){if(typeof m==="string"&&m!==""||typeof m==="number"||typeof m==="bigint")return P=P.get(C)||null,H(D,P,""+m,r);if(typeof m==="object"&&m!==null){switch(m.$$typeof){case BG:return C=P.get(m.key===null?C:m.key)||null,P=p1(m._debugInfo),D=T(D,C,m,r),j0=P,D;case Z7:return P=P.get(m.key===null?C:m.key)||null,I(D,P,m,r);case xW:var E0=p1(m._debugInfo);return m=KG(m),D=c(P,D,C,m,r),j0=E0,D}if(i1(m)||k(m))return C=P.get(C)||null,P=p1(m._debugInfo),D=b(D,C,m,r,null),j0=P,D;if(typeof m.then==="function")return E0=p1(m._debugInfo),D=c(P,D,C,f8(m),r),j0=E0,D;if(m.$$typeof===a9)return c(P,D,C,WX(D,m),r);y8(D,m)}return typeof m==="function"&&g8(D,m),typeof m==="symbol"&&h8(D,m),null}function $0(P,D,C,m){if(typeof C!=="object"||C===null)return m;switch(C.$$typeof){case BG:case Z7:A(P,D,C);var r=C.key;if(typeof r!=="string")break;if(m===null){m=new Set,m.add(r);break}if(!m.has(r)){m.add(r);break}W0(D,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",r)});break;case xW:C=KG(C),$0(P,D,C,m)}return m}function D0(P,D,C,m){for(var r=null,E0=null,J0=null,I0=D,P0=D=0,z1=null;I0!==null&&P0<C.length;P0++){I0.index>P0?(z1=I0,I0=null):z1=I0.sibling;var C1=v(P,I0,C[P0],m);if(C1===null){I0===null&&(I0=z1);break}r=$0(P,C1,C[P0],r),W&&I0&&C1.alternate===null&&G(P,I0),D=J(C1,D,P0),J0===null?E0=C1:J0.sibling=C1,J0=C1,I0=z1}if(P0===C.length)return Z(P,I0),v0&&hG(P,P0),E0;if(I0===null){for(;P0<C.length;P0++)I0=d(P,C[P0],m),I0!==null&&(r=$0(P,I0,C[P0],r),D=J(I0,D,P0),J0===null?E0=I0:J0.sibling=I0,J0=I0);return v0&&hG(P,P0),E0}for(I0=X(I0);P0<C.length;P0++)z1=c(I0,P,P0,C[P0],m),z1!==null&&(r=$0(P,z1,C[P0],r),W&&z1.alternate!==null&&I0.delete(z1.key===null?P0:z1.key),D=J(z1,D,P0),J0===null?E0=z1:J0.sibling=z1,J0=z1);return W&&I0.forEach(function(y5){return G(P,y5)}),v0&&hG(P,P0),E0}function j1(P,D,C,m){if(C==null)throw Error("An iterable object provided no iterator.");for(var r=null,E0=null,J0=D,I0=D=0,P0=null,z1=null,C1=C.next();J0!==null&&!C1.done;I0++,C1=C.next()){J0.index>I0?(P0=J0,J0=null):P0=J0.sibling;var y5=v(P,J0,C1.value,m);if(y5===null){J0===null&&(J0=P0);break}z1=$0(P,y5,C1.value,z1),W&&J0&&y5.alternate===null&&G(P,J0),D=J(y5,D,I0),E0===null?r=y5:E0.sibling=y5,E0=y5,J0=P0}if(C1.done)return Z(P,J0),v0&&hG(P,I0),r;if(J0===null){for(;!C1.done;I0++,C1=C.next())J0=d(P,C1.value,m),J0!==null&&(z1=$0(P,J0,C1.value,z1),D=J(J0,D,I0),E0===null?r=J0:E0.sibling=J0,E0=J0);return v0&&hG(P,I0),r}for(J0=X(J0);!C1.done;I0++,C1=C.next())P0=c(J0,P,I0,C1.value,m),P0!==null&&(z1=$0(P,P0,C1.value,z1),W&&P0.alternate!==null&&J0.delete(P0.key===null?I0:P0.key),D=J(P0,D,I0),E0===null?r=P0:E0.sibling=P0,E0=P0);return W&&J0.forEach(function(SE){return G(P,SE)}),v0&&hG(P,I0),r}function u0(P,D,C,m){if(typeof C==="object"&&C!==null&&C.type===Y7&&C.key===null&&(v8(C,null,P),C=C.props.children),typeof C==="object"&&C!==null){switch(C.$$typeof){case BG:var r=p1(C._debugInfo);W:{for(var E0=C.key;D!==null;){if(D.key===E0){if(E0=C.type,E0===Y7){if(D.tag===7){Z(P,D.sibling),m=B(D,C.props.children),m.return=P,m._debugOwner=C._owner,m._debugInfo=j0,v8(C,m,P),P=m;break W}}else if(D.elementType===E0||R$(D,C)||typeof E0==="object"&&E0!==null&&E0.$$typeof===xW&&KG(E0)===D.type){Z(P,D.sibling),m=B(D,C.props),TY(m,C),m.return=P,m._debugOwner=C._owner,m._debugInfo=j0,P=m;break W}Z(P,D);break}else G(P,D);D=D.sibling}C.type===Y7?(m=aG(C.props.children,P.mode,m,C.key),m.return=P,m._debugOwner=P,m._debugInfo=j0,v8(C,m,P),P=m):(m=XX(C,P.mode,m),TY(m,C),m.return=P,m._debugInfo=j0,P=m)}return P=z(P),j0=r,P;case Z7:W:{r=C;for(C=r.key;D!==null;){if(D.key===C)if(D.tag===4&&D.stateNode.containerInfo===r.containerInfo&&D.stateNode.implementation===r.implementation){Z(P,D.sibling),m=B(D,r.children||[]),m.return=P,P=m;break W}else{Z(P,D);break}else G(P,D);D=D.sibling}m=R6(r,P.mode,m),m.return=P,P=m}return z(P);case xW:return r=p1(C._debugInfo),C=KG(C),P=u0(P,D,C,m),j0=r,P}if(i1(C))return r=p1(C._debugInfo),P=D0(P,D,C,m),j0=r,P;if(k(C)){if(r=p1(C._debugInfo),E0=k(C),typeof E0!=="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var J0=E0.call(C);if(J0===C){if(P.tag!==0||Object.prototype.toString.call(P.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(J0)!=="[object Generator]")xH||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),xH=!0}else C.entries!==E0||hQ||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),hQ=!0);return P=j1(P,D,J0,m),j0=r,P}if(typeof C.then==="function")return r=p1(C._debugInfo),P=u0(P,D,f8(C),m),j0=r,P;if(C.$$typeof===a9)return u0(P,D,WX(P,C),m);y8(P,C)}if(typeof C==="string"&&C!==""||typeof C==="number"||typeof C==="bigint")return r=""+C,D!==null&&D.tag===6?(Z(P,D.sibling),m=B(D,r),m.return=P,P=m):(Z(P,D),m=S6(r,P.mode,m),m.return=P,m._debugOwner=P,m._debugInfo=j0,P=m),z(P);return typeof C==="function"&&g8(P,C),typeof C==="symbol"&&h8(P,C),Z(P,D)}return function(P,D,C,m){var r=j0;j0=null;try{Q4=0;var E0=u0(P,D,C,m);return T7=null,E0}catch(z1){if(z1===fX)throw z1;var J0=L(29,z1,null,P.mode);J0.lanes=m,J0.return=P;var I0=J0._debugInfo=j0;if(J0._debugOwner=P._debugOwner,I0!=null){for(var P0=I0.length-1;0<=P0;P0--)if(typeof I0[P0].stack==="string"){J0._debugOwner=I0[P0];break}}return J0}finally{j0=r}}}function c$(W,G){var Z=X5;R0(gX,Z,W),R0(A7,G,W),X5=Z|G.baseLanes}function FB(W){R0(gX,X5,W),R0(A7,A7.current,W)}function qB(W){X5=gX.current,d0(A7,W),d0(gX,W)}function a5(W){var G=W.alternate;R0(S1,S1.current&E7,W),R0(Z9,W,W),Z5===null&&(G===null||A7.current!==null?Z5=W:G.memoizedState!==null&&(Z5=W))}function l$(W){if(W.tag===22){if(R0(S1,S1.current,W),R0(Z9,W,W),Z5===null){var G=W.alternate;G!==null&&G.memoizedState!==null&&(Z5=W)}}else r5(W)}function r5(W){R0(S1,S1.current,W),R0(Z9,Z9.current,W)}function O5(W){d0(Z9,W),Z5===W&&(Z5=null),d0(S1,W)}function m8(W){for(var G=W;G!==null;){if(G.tag===13){var Z=G.memoizedState;if(Z!==null&&(Z=Z.dehydrated,Z===null||Z.data===LZ||Z.data===TZ))return G}else if(G.tag===19&&G.memoizedProps.revealOrder!==void 0){if((G.flags&128)!==0)return G}else if(G.child!==null){G.child.return=G,G=G.child;continue}if(G===W)break;for(;G.sibling===null;){if(G.return===null||G.return===W)return null;G=G.return}G.sibling.return=G.return,G=G.sibling}return null}function MB(){return{controller:new NE,data:new Map,refCount:0}}function pG(W){W.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),W.refCount++}function AY(W){W.refCount--,0>W.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),W.refCount===0&&$E(zE,function(){W.controller.abort()})}function vL(W,G){if(N4===null){var Z=N4=[];mQ=0,QZ=m6(),I7={status:"pending",value:void 0,then:function(X){Z.push(X)}}}return mQ++,G.then(i$,i$),G}function i$(){if(--mQ===0&&N4!==null){I7!==null&&(I7.status="fulfilled");var W=N4;N4=null,QZ=0,I7=null;for(var G=0;G<W.length;G++)W[G]()}}function fL(W,G){var Z=[],X={status:"pending",value:null,reason:null,then:function(B){Z.push(B)}};return W.then(function(){X.status="fulfilled",X.value=G;for(var B=0;B<Z.length;B++)Z[B](G)},function(B){X.status="rejected",X.reason=B;for(B=0;B<Z.length;B++)Z[B](void 0)}),X}function SB(){var W=JZ.current;return W!==null?W:Z1.pooledCache}function d8(W,G){G===null?R0(JZ,JZ.current,W):R0(JZ,G.pool,W)}function n$(){var W=SB();return W===null?null:{parent:k1._currentValue,pool:W}}function q0(){var W=y;B9===null?B9=[W]:B9.push(W)}function s(){var W=y;if(B9!==null&&(S5++,B9[S5]!==W)){var G=p(V0);if(!hH.has(G)&&(hH.add(G),B9!==null)){for(var Z="",X=0;X<=S5;X++){var B=B9[X],J=X===S5?W:B;for(B=X+1+". "+B;30>B.length;)B+=" ";B+=J+`
`,Z+=B}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,G,Z)}}}function uZ(W){W===void 0||W===null||i1(W)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",y,typeof W)}function u8(){var W=p(V0);dH.has(W)||(dH.add(W),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",W))}function P1(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function RB(W,G){if(z4)return!1;if(G===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",y),!1;W.length!==G.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,y,"["+G.join(", ")+"]","["+W.join(", ")+"]");for(var Z=0;Z<G.length&&Z<W.length;Z++)if(!NW(W[Z],G[Z]))return!1;return!0}function kB(W,G,Z,X,B,J){if(UG=J,V0=G,B9=W!==null?W._debugHookTypes:null,S5=-1,z4=W!==null&&W.type!==G.type,Object.prototype.toString.call(Z)==="[object AsyncFunction]"||Object.prototype.toString.call(Z)==="[object AsyncGeneratorFunction]")J=p(V0),dQ.has(J)||(dQ.add(J),console.error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."));G.memoizedState=null,G.updateQueue=null,G.lanes=0,g.H=W!==null&&W.memoizedState!==null?_G:B9!==null?$Z:HG,NZ=J=(G.mode&YW)!==X1;var z=yQ(Z,X,B);if(NZ=!1,P7&&(z=xB(G,Z,X,B)),J){i0(!0);try{z=xB(G,Z,X,B)}finally{i0(!1)}}return s$(W,G),z}function s$(W,G){G._debugHookTypes=B9,G.dependencies===null?M5!==null&&(G.dependencies={lanes:0,firstContext:null,_debugThenableState:M5}):G.dependencies._debugThenableState=M5,g.H=Y5;var Z=t0!==null&&t0.next!==null;if(UG=0,B9=y=F1=t0=V0=null,S5=-1,W!==null&&(W.flags&31457280)!==(G.flags&31457280)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),hX=!1,$4=0,M5=null,Z)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");W===null||m1||(W=W.dependencies,W!==null&&e8(W)&&(m1=!0)),yX?(yX=!1,W=!0):W=!1,W&&(G=p(G)||"Unknown",mH.has(G)||dQ.has(G)||(mH.add(G),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function xB(W,G,Z,X){V0=W;var B=0;do{if(P7&&(M5=null),$4=0,P7=!1,B>=UE)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(B+=1,z4=!1,F1=t0=null,W.updateQueue!=null){var J=W.updateQueue;J.lastEffect=null,J.events=null,J.stores=null,J.memoCache!=null&&(J.memoCache.index=0)}S5=-1,g.H=zZ,J=yQ(G,Z,X)}while(P7);return J}function yL(){var W=g.H,G=W.useState()[0];return G=typeof G.then==="function"?EY(G):G,W=W.useState()[0],(t0!==null?t0.memoizedState:null)!==W&&(V0.flags|=1024),G}function bB(){var W=mX!==0;return mX=0,W}function vB(W,G,Z){G.updateQueue=W.updateQueue,G.flags=(G.mode&P9)!==X1?G.flags&-201328645:G.flags&-2053,W.lanes&=~Z}function fB(W){if(hX){for(W=W.memoizedState;W!==null;){var G=W.queue;G!==null&&(G.pending=null),W=W.next}hX=!1}UG=0,B9=F1=t0=V0=null,S5=-1,y=null,P7=!1,$4=mX=0,M5=null}function TW(){var W={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return F1===null?V0.memoizedState=F1=W:F1=F1.next=W,F1}function o0(){if(t0===null){var W=V0.alternate;W=W!==null?W.memoizedState:null}else W=t0.next;var G=F1===null?V0.memoizedState:F1.next;if(G!==null)F1=G,t0=W;else{if(W===null){if(V0.alternate===null)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}t0=W,W={memoizedState:t0.memoizedState,baseState:t0.baseState,baseQueue:t0.baseQueue,queue:t0.queue,next:null},F1===null?V0.memoizedState=F1=W:F1=F1.next=W}return F1}function EY(W){var G=$4;return $4+=1,M5===null&&(M5=g$()),W=m$(M5,W,G),G=V0,(F1===null?G.memoizedState:F1.next)===null&&(G=G.alternate,g.H=G!==null&&G.memoizedState!==null?_G:HG),W}function t5(W){if(W!==null&&typeof W==="object"){if(typeof W.then==="function")return EY(W);if(W.$$typeof===a9)return H1(W)}throw Error("An unsupported type was passed to use(): "+String(W))}function cG(W){var G=null,Z=V0.updateQueue;if(Z!==null&&(G=Z.memoCache),G==null){var X=V0.alternate;X!==null&&(X=X.updateQueue,X!==null&&(X=X.memoCache,X!=null&&(G={data:X.data.map(function(B){return B.slice()}),index:0})))}if(G==null&&(G={data:[],index:0}),Z===null&&(Z=uQ(),V0.updateQueue=Z),Z.memoCache=G,Z=G.data[G.index],Z===void 0||z4)for(Z=G.data[G.index]=Array(W),X=0;X<W;X++)Z[X]=rT;else Z.length!==W&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",Z.length,W);return G.index++,Z}function A9(W,G){return typeof G==="function"?G(W):G}function yB(W,G,Z){var X=TW();if(Z!==void 0){var B=Z(G);if(NZ){i0(!0);try{Z(G)}finally{i0(!1)}}}else B=G;return X.memoizedState=X.baseState=B,W={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W,lastRenderedState:B},X.queue=W,W=W.dispatch=dL.bind(null,V0,W),[X.memoizedState,W]}function pZ(W){var G=o0();return gB(G,t0,W)}function gB(W,G,Z){var X=W.queue;if(X===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");X.lastRenderedReducer=Z;var B=W.baseQueue,J=X.pending;if(J!==null){if(B!==null){var z=B.next;B.next=J.next,J.next=z}G.baseQueue!==B&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),G.baseQueue=B=J,X.pending=null}if(J=W.baseState,B===null)W.memoizedState=J;else{G=B.next;var H=z=null,T=null,I=G,b=!1;do{var d=I.lane&-536870913;if(d!==I.lane?(M0&d)===d:(UG&d)===d){var v=I.revertLane;if(v===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),d===QZ&&(b=!0);else if((UG&v)===v){I=I.next,v===QZ&&(b=!0);continue}else d={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(H=T=d,z=J):T=T.next=d,V0.lanes|=v,VG|=v;d=I.action,NZ&&Z(J,d),J=I.hasEagerState?I.eagerState:Z(J,d)}else v={lane:d,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(H=T=v,z=J):T=T.next=v,V0.lanes|=d,VG|=d;I=I.next}while(I!==null&&I!==G);if(T===null?z=J:T.next=H,!NW(J,W.memoizedState)&&(m1=!0,b&&(Z=I7,Z!==null)))throw Z;W.memoizedState=J,W.baseState=z,W.baseQueue=T,X.lastRenderedState=J}return B===null&&(X.lanes=0),[W.memoizedState,X.dispatch]}function IY(W){var G=o0(),Z=G.queue;if(Z===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");Z.lastRenderedReducer=W;var{dispatch:X,pending:B}=Z,J=G.memoizedState;if(B!==null){Z.pending=null;var z=B=B.next;do J=W(J,z.action),z=z.next;while(z!==B);NW(J,G.memoizedState)||(m1=!0),G.memoizedState=J,G.baseQueue===null&&(G.baseState=J),Z.lastRenderedState=J}return[J,X]}function hB(W,G,Z){var X=V0,B=TW();if(v0){if(Z===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var J=Z();D7||J===Z()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),D7=!0)}else{if(J=G(),D7||(Z=G(),NW(J,Z)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),D7=!0)),Z1===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(M0&60)!==0||o$(X,G,J)}return B.memoizedState=J,Z={value:J,getSnapshot:G},B.queue=Z,i8(r$.bind(null,X,Z,W),[W]),X.flags|=2048,lZ(X9|R1,a$.bind(null,X,Z,J,G),{destroy:void 0},null),J}function p8(W,G,Z){var X=V0,B=o0(),J=v0;if(J){if(Z===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");Z=Z()}else if(Z=G(),!D7){var z=G();NW(Z,z)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),D7=!0)}if(z=!NW((t0||B).memoizedState,Z))B.memoizedState=Z,m1=!0;B=B.queue;var H=r$.bind(null,X,B,W);if(AW(2048,R1,H,[W]),B.getSnapshot!==G||z||F1!==null&&F1.memoizedState.tag&X9){if(X.flags|=2048,lZ(X9|R1,a$.bind(null,X,B,Z,G),{destroy:void 0},null),Z1===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");J||(UG&60)!==0||o$(X,G,Z)}return Z}function o$(W,G,Z){W.flags|=16384,W={getSnapshot:G,value:Z},G=V0.updateQueue,G===null?(G=uQ(),V0.updateQueue=G,G.stores=[W]):(Z=G.stores,Z===null?G.stores=[W]:Z.push(W))}function a$(W,G,Z,X){G.value=Z,G.getSnapshot=X,t$(G)&&e$(W)}function r$(W,G,Z){return Z(function(){t$(G)&&e$(W)})}function t$(W){var G=W.getSnapshot;W=W.value;try{var Z=G();return!NW(W,Z)}catch(X){return!0}}function e$(W){var G=e1(W,2);G!==null&&O1(G,W,2)}function mB(W){var G=TW();if(typeof W==="function"){var Z=W;if(W=Z(),NZ){i0(!0);try{Z()}finally{i0(!1)}}}return G.memoizedState=G.baseState=W,G.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:A9,lastRenderedState:W},G}function dB(W){W=mB(W);var G=W.queue,Z=Lz.bind(null,V0,G);return G.dispatch=Z,[W.memoizedState,Z]}function uB(W){var G=TW();G.memoizedState=G.baseState=W;var Z={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return G.queue=Z,G=G6.bind(null,V0,!0,Z),Z.dispatch=G,[W,G]}function Wz(W,G){var Z=o0();return Gz(Z,t0,W,G)}function Gz(W,G,Z,X){return W.baseState=Z,gB(W,t0,typeof X==="function"?X:A9)}function Zz(W,G){var Z=o0();if(t0!==null)return Gz(Z,t0,W,G);return Z.baseState=W,[W,Z.queue.dispatch]}function gL(W,G,Z,X,B){if(a8(W))throw Error("Cannot update form state while rendering.");if(W=G.action,W!==null){var J={payload:B,action:W,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(z){J.listeners.push(z)}};g.T!==null?Z(!0):J.isTransition=!1,X(J),Z=G.pending,Z===null?(J.next=G.pending=J,Yz(G,J)):(J.next=Z.next,G.pending=Z.next=J)}}function Yz(W,G){var{action:Z,payload:X}=G,B=W.state;if(G.isTransition){var J=g.T,z={};g.T=z,g.T._updatedFibers=new Set;try{var H=Z(B,X),T=g.S;T!==null&&T(z,H),Xz(W,G,H)}catch(I){pB(W,G,I)}finally{g.T=J,J===null&&z._updatedFibers&&(W=z._updatedFibers.size,z._updatedFibers.clear(),10<W&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{z=Z(B,X),Xz(W,G,z)}catch(I){pB(W,G,I)}}function Xz(W,G,Z){Z!==null&&typeof Z==="object"&&typeof Z.then==="function"?(Z.then(function(X){Bz(W,G,X)},function(X){return pB(W,G,X)}),G.isTransition||console.error("An async function was passed to useActionState, but it was dispatched outside of an action context. This is likely not what you intended. Either pass the dispatch function to an `action` prop, or dispatch manually inside `startTransition`")):Bz(W,G,Z)}function Bz(W,G,Z){G.status="fulfilled",G.value=Z,Qz(G),W.state=Z,G=W.pending,G!==null&&(Z=G.next,Z===G?W.pending=null:(Z=Z.next,G.next=Z,Yz(W,Z)))}function pB(W,G,Z){var X=W.pending;if(W.pending=null,X!==null){X=X.next;do G.status="rejected",G.reason=Z,Qz(G),G=G.next;while(G!==X)}W.action=null}function Qz(W){W=W.listeners;for(var G=0;G<W.length;G++)W[G]()}function Jz(W,G){return G}function cZ(W,G){if(v0){var Z=Z1.formState;if(Z!==null){W:{var X=V0;if(v0){if(s1){G:{var B=s1;for(var J=G5;B.nodeType!==8;){if(!J){B=null;break G}if(B=oW(B.nextSibling),B===null){B=null;break G}}J=B.data,B=J===wJ||J===F_?B:null}if(B){s1=oW(B.nextSibling),X=B.data===wJ;break W}}uG(X)}X=!1}X&&(G=Z[0])}}return Z=TW(),Z.memoizedState=Z.baseState=G,X={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jz,lastRenderedState:G},Z.queue=X,Z=Lz.bind(null,V0,X),X.dispatch=Z,X=mB(!1),J=G6.bind(null,V0,!1,X.queue),X=TW(),B={state:G,dispatch:null,action:W,pending:null},X.queue=B,Z=gL.bind(null,V0,B,J,Z),B.dispatch=Z,X.memoizedState=W,[G,Z,!1]}function c8(W){var G=o0();return Nz(G,t0,W)}function Nz(W,G,Z){G=gB(W,G,Jz)[0],W=pZ(A9)[0],G=typeof G==="object"&&G!==null&&typeof G.then==="function"?EY(G):G;var X=o0(),B=X.queue,J=B.dispatch;return Z!==X.memoizedState&&(V0.flags|=2048,lZ(X9|R1,hL.bind(null,B,Z),{destroy:void 0},null)),[G,J,W]}function hL(W,G){W.action=G}function l8(W){var G=o0(),Z=t0;if(Z!==null)return Nz(G,Z,W);o0(),G=G.memoizedState,Z=o0();var X=Z.queue.dispatch;return Z.memoizedState=W,[G,X,!1]}function lZ(W,G,Z,X){return W={tag:W,create:G,inst:Z,deps:X,next:null},G=V0.updateQueue,G===null&&(G=uQ(),V0.updateQueue=G),Z=G.lastEffect,Z===null?G.lastEffect=W.next=W:(X=Z.next,Z.next=W,W.next=X,G.lastEffect=W),W}function cB(W){var G=TW();return W={current:W},G.memoizedState=W}function lG(W,G,Z,X){var B=TW();V0.flags|=W,B.memoizedState=lZ(X9|G,Z,{destroy:void 0},X===void 0?null:X)}function AW(W,G,Z,X){var B=o0();X=X===void 0?null:X;var J=B.memoizedState.inst;t0!==null&&X!==null&&RB(X,t0.memoizedState.deps)?B.memoizedState=lZ(G,Z,J,X):(V0.flags|=W,B.memoizedState=lZ(X9|G,Z,J,X))}function i8(W,G){(V0.mode&P9)!==X1&&(V0.mode&LH)===X1?lG(142608384,R1,W,G):lG(8390656,R1,W,G)}function lB(W,G){var Z=4194308;return(V0.mode&P9)!==X1&&(Z|=67108864),lG(Z,o1,W,G)}function $z(W,G){if(typeof G==="function"){W=W();var Z=G(W);return function(){typeof Z==="function"?Z():G(null)}}if(G!==null&&G!==void 0)return G.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(G).join(", ")+"}"),W=W(),G.current=W,function(){G.current=null}}function iB(W,G,Z){typeof G!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",G!==null?typeof G:"null"),Z=Z!==null&&Z!==void 0?Z.concat([W]):null;var X=4194308;(V0.mode&P9)!==X1&&(X|=67108864),lG(X,o1,$z.bind(null,G,W),Z)}function n8(W,G,Z){typeof G!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",G!==null?typeof G:"null"),Z=Z!==null&&Z!==void 0?Z.concat([W]):null,AW(4,o1,$z.bind(null,G,W),Z)}function nB(W,G){return TW().memoizedState=[W,G===void 0?null:G],W}function s8(W,G){var Z=o0();G=G===void 0?null:G;var X=Z.memoizedState;if(G!==null&&RB(G,X[1]))return X[0];return Z.memoizedState=[W,G],W}function sB(W,G){var Z=TW();G=G===void 0?null:G;var X=W();if(NZ){i0(!0);try{W()}finally{i0(!1)}}return Z.memoizedState=[X,G],X}function o8(W,G){var Z=o0();G=G===void 0?null:G;var X=Z.memoizedState;if(G!==null&&RB(G,X[1]))return X[0];if(X=W(),NZ){i0(!0);try{W()}finally{i0(!1)}}return Z.memoizedState=[X,G],X}function oB(W,G){var Z=TW();return aB(Z,W,G)}function zz(W,G){var Z=o0();return Uz(Z,t0.memoizedState,W,G)}function Kz(W,G){var Z=o0();return t0===null?aB(Z,W,G):Uz(Z,t0.memoizedState,W,G)}function aB(W,G,Z){if(Z===void 0||(UG&1073741824)!==0)return W.memoizedState=G;return W.memoizedState=Z,W=OK(),V0.lanes|=W,VG|=W,Z}function Uz(W,G,Z,X){if(NW(Z,G))return Z;if(A7.current!==null)return W=aB(W,Z,X),NW(W,G)||(m1=!0),W;if((UG&42)===0)return m1=!0,W.memoizedState=Z;return W=OK(),V0.lanes|=W,VG|=W,G}function Hz(W,G,Z,X,B){var J=N1.p;N1.p=J!==0&&J<D9?J:D9;var z=g.T,H={};g.T=H,G6(W,!1,G,Z),H._updatedFibers=new Set;try{var T=B(),I=g.S;if(I!==null&&I(H,T),T!==null&&typeof T==="object"&&typeof T.then==="function"){var b=fL(T,X);DY(W,G,b,kW(W))}else DY(W,G,X,kW(W))}catch(d){DY(W,G,{then:function(){},status:"rejected",reason:d},kW(W))}finally{N1.p=J,g.T=z,z===null&&H._updatedFibers&&(W=H._updatedFibers.size,H._updatedFibers.clear(),10<W&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function rB(W,G,Z,X){if(W.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var B=_z(W).queue;Hz(W,B,G,EZ,Z===null?E:function(){return wz(W),Z(X)})}function _z(W){var G=W.memoizedState;if(G!==null)return G;G={memoizedState:EZ,baseState:EZ,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A9,lastRenderedState:EZ},next:null};var Z={};return G.next={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:A9,lastRenderedState:Z},next:null},W.memoizedState=G,W=W.alternate,W!==null&&(W.memoizedState=G),G}function wz(W){g.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var G=_z(W).next.queue;DY(W,G,{},kW(W))}function tB(){var W=mB(!1);return W=Hz.bind(null,V0,W.queue,!0,!1),TW().memoizedState=W,[!1,W]}function Oz(){var W=pZ(A9)[0],G=o0().memoizedState;return[typeof W==="boolean"?W:EY(W),G]}function Vz(){var W=IY(A9)[0],G=o0().memoizedState;return[typeof W==="boolean"?W:EY(W),G]}function iG(){return H1(j4)}function eB(){var W=TW(),G=Z1.identifierPrefix;if(v0){var Z=F5,X=C5;Z=(X&~(1<<32-QW(X)-1)).toString(32)+Z,G=":"+G+"R"+Z,Z=mX++,0<Z&&(G+="H"+Z.toString(32)),G+=":"}else Z=KE++,G=":"+G+"r"+Z.toString(32)+":";return W.memoizedState=G}function W6(){return TW().memoizedState=mL.bind(null,V0)}function mL(W,G){for(var Z=W.return;Z!==null;){switch(Z.tag){case 24:case 3:var X=kW(Z);W=WG(X);var B=GG(Z,W,X);B!==null&&(O1(B,Z,X),CY(B,Z,X)),Z=MB(),G!==null&&G!==void 0&&B!==null&&console.error("The seed argument is not enabled outside experimental channels."),W.payload={cache:Z};return}Z=Z.return}}function dL(W,G,Z,X){typeof X==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),X=kW(W),Z={lane:X,revertLane:0,action:Z,hasEagerState:!1,eagerState:null,next:null},a8(W)?Tz(G,Z):(Z=TB(W,G,Z,X),Z!==null&&(O1(Z,W,X),Az(Z,G,X))),Q1(W,X)}function Lz(W,G,Z,X){typeof X==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),X=kW(W),DY(W,G,Z,X),Q1(W,X)}function DY(W,G,Z,X){var B={lane:X,revertLane:0,action:Z,hasEagerState:!1,eagerState:null,next:null};if(a8(W))Tz(G,B);else{var J=W.alternate;if(W.lanes===0&&(J===null||J.lanes===0)&&(J=G.lastRenderedReducer,J!==null)){var z=g.H;g.H=KW;try{var H=G.lastRenderedState,T=J(H,Z);if(B.hasEagerState=!0,B.eagerState=T,NW(T,H))return S8(W,G,B,0),Z1===null&&M8(),!1}catch(I){}finally{g.H=z}}if(Z=TB(W,G,B,X),Z!==null)return O1(Z,W,X),Az(Z,G,X),!0}return!1}function G6(W,G,Z,X){if(g.T===null&&QZ===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),X={lane:2,revertLane:m6(),action:X,hasEagerState:!1,eagerState:null,next:null},a8(W)){if(G)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else G=TB(W,Z,X,2),G!==null&&O1(G,W,2);Q1(W,2)}function a8(W){var G=W.alternate;return W===V0||G!==null&&G===V0}function Tz(W,G){P7=hX=!0;var Z=W.pending;Z===null?G.next=G:(G.next=Z.next,Z.next=G),W.pending=G}function Az(W,G,Z){if((Z&4194176)!==0){var X=G.lanes;X&=W.pendingLanes,Z|=X,G.lanes=Z,bZ(W,Z)}}function Z6(W){if(W!==null&&typeof W!=="function"){var G=String(W);tH.has(G)||(tH.add(G),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",W))}}function Y6(W,G,Z,X){var B=W.memoizedState,J=Z(X,B);if(W.mode&YW){i0(!0);try{J=Z(X,B)}finally{i0(!1)}}J===void 0&&(G=f(G)||"Component",sH.has(G)||(sH.add(G),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",G))),B=J===null||J===void 0?B:C0({},B,J),W.memoizedState=B,W.lanes===0&&(W.updateQueue.baseState=B)}function Ez(W,G,Z,X,B,J,z){var H=W.stateNode;if(typeof H.shouldComponentUpdate==="function"){if(Z=H.shouldComponentUpdate(X,J,z),W.mode&YW){i0(!0);try{Z=H.shouldComponentUpdate(X,J,z)}finally{i0(!1)}}return Z===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",f(G)||"Component"),Z}return G.prototype&&G.prototype.isPureReactComponent?!_Y(Z,X)||!_Y(B,J):!0}function Iz(W,G,Z,X){var B=G.state;typeof G.componentWillReceiveProps==="function"&&G.componentWillReceiveProps(Z,X),typeof G.UNSAFE_componentWillReceiveProps==="function"&&G.UNSAFE_componentWillReceiveProps(Z,X),G.state!==B&&(W=p(W)||"Component",pH.has(W)||(pH.add(W),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",W)),pQ.enqueueReplaceState(G,G.state,null))}function nG(W,G){var Z=G;if("ref"in G){Z={};for(var X in G)X!=="ref"&&(Z[X]=G[X])}if(W=W.defaultProps){Z===G&&(Z=C0({},Z));for(var B in W)Z[B]===void 0&&(Z[B]=W[B])}return Z}function Dz(W,G){dX(W),W=j7?"An error occurred in the <"+j7+"> component.":"An error occurred in one of your React components.";var Z=g.getCurrentStack,X=G.componentStack!=null?G.componentStack:"";g.getCurrentStack=function(){return X};try{console.warn(`%s

%s
`,W,`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}finally{g.getCurrentStack=Z}}function Pz(W,G){var Z=j7?"The above error occurred in the <"+j7+"> component.":"The above error occurred in one of your React components.",X="React will try to recreate this component tree from scratch using the error boundary you provided, "+((cQ||"Anonymous")+"."),B=g.getCurrentStack,J=G.componentStack!=null?G.componentStack:"";g.getCurrentStack=function(){return J};try{typeof W==="object"&&W!==null&&typeof W.environmentName==="string"?dT("error",[`%o

%s

%s
`,W,Z,X],W.environmentName)():console.error(`%o

%s

%s
`,W,Z,X)}finally{g.getCurrentStack=B}}function jz(W){dX(W)}function r8(W,G){try{j7=G.source?p(G.source):null,cQ=null;var Z=G.value;if(g.actQueue!==null)g.thrownErrors.push(Z);else{var X=W.onUncaughtError;X(Z,{componentStack:G.stack})}}catch(B){setTimeout(function(){throw B})}}function Cz(W,G,Z){try{j7=Z.source?p(Z.source):null,cQ=p(G);var X=W.onCaughtError;X(Z.value,{componentStack:Z.stack,errorBoundary:G.tag===1?G.stateNode:null})}catch(B){setTimeout(function(){throw B})}}function X6(W,G,Z){return Z=WG(Z),Z.tag=oQ,Z.payload={element:null},Z.callback=function(){W0(G.source,r8,W,G)},Z}function B6(W){return W=WG(W),W.tag=oQ,W}function Q6(W,G,Z,X){var B=Z.type.getDerivedStateFromError;if(typeof B==="function"){var J=X.value;W.payload=function(){return B(J)},W.callback=function(){k$(Z),W0(X.source,Cz,G,Z,X)}}var z=Z.stateNode;z!==null&&typeof z.componentDidCatch==="function"&&(W.callback=function(){k$(Z),W0(X.source,Cz,G,Z,X),typeof B!=="function"&&(TG===null?TG=new Set([this]):TG.add(this)),BE(this,X),typeof B==="function"||(Z.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",p(Z)||"Unknown")})}function uL(W,G,Z,X,B){if(Z.flags|=32768,E9&&xY(W,B),X!==null&&typeof X==="object"&&typeof X.then==="function"){if(G=Z.alternate,G!==null&&jY(G,Z,B,!0),v0&&(q5=!0),Z=Z9.current,Z!==null){switch(Z.tag){case 13:return Z5===null?b6():Z.alternate===null&&E1===x5&&(E1=eQ),Z.flags&=-257,Z.flags|=65536,Z.lanes=B,X===fQ?Z.flags|=16384:(G=Z.updateQueue,G===null?Z.updateQueue=new Set([X]):G.add(X),y6(W,X,B)),!1;case 22:return Z.flags|=65536,X===fQ?Z.flags|=16384:(G=Z.updateQueue,G===null?(G={transitions:null,markerInstances:null,retryQueue:new Set([X])},Z.updateQueue=G):(Z=G.retryQueue,Z===null?G.retryQueue=new Set([X]):Z.add(X)),y6(W,X,B)),!1}throw Error("Unexpected Suspense handler tag ("+Z.tag+"). This is a bug in React.")}return y6(W,X,B),b6(),!1}if(v0)return q5=!0,G=Z9.current,G!==null?((G.flags&65536)===0&&(G.flags|=256),G.flags|=65536,G.lanes=B,X!==vQ&&LY(SW(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:X}),Z))):(X!==vQ&&LY(SW(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:X}),Z)),W=W.current.alternate,W.flags|=65536,B&=-B,W.lanes|=B,X=SW(X,Z),B=X6(W.stateNode,X,B),GX(W,B),E1!==KZ&&(E1=R7)),!1;var J=SW(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:X}),Z);if(V4===null?V4=[J]:V4.push(J),E1!==KZ&&(E1=R7),G===null)return!0;X=SW(X,Z),Z=G;do{switch(Z.tag){case 3:return Z.flags|=65536,W=B&-B,Z.lanes|=W,W=X6(Z.stateNode,X,W),GX(Z,W),!1;case 1:if(G=Z.type,J=Z.stateNode,(Z.flags&128)===0&&(typeof G.getDerivedStateFromError==="function"||J!==null&&typeof J.componentDidCatch==="function"&&(TG===null||!TG.has(J))))return Z.flags|=65536,B&=-B,Z.lanes|=B,B=B6(B),Q6(B,W,Z,X),GX(Z,B),!1}Z=Z.return}while(Z!==null);return!1}function c1(W,G,Z,X){G.child=W===null?yH(G,null,Z,X):BZ(G,W.child,Z,X)}function Fz(W,G,Z,X,B){Z=Z.render;var J=G.ref;if("ref"in X){var z={};for(var H in X)H!=="ref"&&(z[H]=X[H])}else z=X;if(sG(G),j(G),X=kB(W,G,Z,z,J,B),H=bB(),Z0(),W!==null&&!m1)return vB(W,G,B),V5(W,G,B);return v0&&H&&PB(G),G.flags|=1,c1(W,G,X,B),G.child}function qz(W,G,Z,X,B){if(W===null){var J=Z.type;if(typeof J==="function"&&!q6(J)&&J.defaultProps===void 0&&Z.compare===null)return Z=gG(J),G.tag=15,G.type=Z,N6(G,J),Mz(W,G,Z,X,B);return W=M6(Z.type,null,X,G,G.mode,B),W.ref=G.ref,W.return=G,G.child=W}if(J=W.child,!w6(W,B)){var z=J.memoizedProps;if(Z=Z.compare,Z=Z!==null?Z:_Y,Z(z,X)&&W.ref===G.ref)return V5(W,G,B)}return G.flags|=1,W=YG(J,X),W.ref=G.ref,W.return=G,G.child=W}function Mz(W,G,Z,X,B){if(W!==null){var J=W.memoizedProps;if(_Y(J,X)&&W.ref===G.ref&&G.type===W.type)if(m1=!1,G.pendingProps=X=J,w6(W,B))(W.flags&131072)!==0&&(m1=!0);else return G.lanes=W.lanes,V5(W,G,B)}return J6(W,G,Z,X,B)}function Sz(W,G,Z){var X=G.pendingProps,B=X.children,J=(G.stateNode._pendingVisibility&GZ)!==0,z=W!==null?W.memoizedState:null;if(PY(W,G),X.mode==="hidden"||J){if((G.flags&128)!==0){if(X=z!==null?z.baseLanes|Z:Z,W!==null){B=G.child=W.child;for(J=0;B!==null;)J=J|B.lanes|B.childLanes,B=B.sibling;G.childLanes=J&~X}else G.childLanes=0,G.child=null;return Rz(W,G,X,Z)}if((Z&536870912)!==0)G.memoizedState={baseLanes:0,cachePool:null},W!==null&&d8(G,z!==null?z.cachePool:null),z!==null?c$(G,z):FB(G),l$(G);else return G.lanes=G.childLanes=536870912,Rz(W,G,z!==null?z.baseLanes|Z:Z,Z)}else z!==null?(d8(G,z.cachePool),c$(G,z),r5(G),G.memoizedState=null):(W!==null&&d8(G,null),FB(G),r5(G));return c1(W,G,B,Z),G.child}function Rz(W,G,Z,X){var B=SB();return B=B===null?null:{parent:k1._currentValue,pool:B},G.memoizedState={baseLanes:Z,cachePool:B},W!==null&&d8(G,null),FB(G),l$(G),W!==null&&jY(W,G,X,!0),null}function PY(W,G){var Z=G.ref;if(Z===null)W!==null&&W.ref!==null&&(G.flags|=2097664);else{if(typeof Z!=="function"&&typeof Z!=="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");if(W===null||W.ref!==Z)G.flags|=2097664}}function J6(W,G,Z,X,B){if(Z.prototype&&typeof Z.prototype.render==="function"){var J=f(Z)||"Unknown";W_[J]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",J,J),W_[J]=!0)}if(G.mode&YW&&j9.recordLegacyContextWarning(G,null),W===null&&(N6(G,G.type),Z.contextTypes&&(J=f(Z)||"Unknown",Z_[J]||(Z_[J]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",J)))),sG(G),j(G),Z=kB(W,G,Z,X,void 0,B),X=bB(),Z0(),W!==null&&!m1)return vB(W,G,B),V5(W,G,B);return v0&&X&&PB(G),G.flags|=1,c1(W,G,Z,B),G.child}function kz(W,G,Z,X,B,J){if(sG(G),j(G),S5=-1,z4=W!==null&&W.type!==G.type,G.updateQueue=null,Z=xB(G,X,Z,B),s$(W,G),X=bB(),Z0(),W!==null&&!m1)return vB(W,G,J),V5(W,G,J);return v0&&X&&PB(G),G.flags|=1,c1(W,G,Z,J),G.child}function xz(W,G,Z,X,B){switch(_(G)){case!1:var J=G.stateNode,z=new G.type(G.memoizedProps,J.context).state;J.updater.enqueueSetState(J,z,null);break;case!0:G.flags|=128,G.flags|=65536,J=Error("Simulated error coming from DevTools");var H=B&-B;if(G.lanes|=H,z=Z1,z===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");H=B6(H),Q6(H,z,G,SW(J,G)),GX(G,H)}if(sG(G),G.stateNode===null){if(z=zG,J=Z.contextType,"contextType"in Z&&J!==null&&(J===void 0||J.$$typeof!==a9)&&!rH.has(Z)&&(rH.add(Z),H=J===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof J!=="object"?" However, it is set to a "+typeof J+".":J.$$typeof===QQ?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(J).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",f(Z)||"Component",H)),typeof J==="object"&&J!==null&&(z=H1(J)),J=new Z(X,z),G.mode&YW){i0(!0);try{J=new Z(X,z)}finally{i0(!1)}}if(z=G.memoizedState=J.state!==null&&J.state!==void 0?J.state:null,J.updater=pQ,G.stateNode=J,J._reactInternals=G,J._reactInternalInstance=uH,typeof Z.getDerivedStateFromProps==="function"&&z===null&&(z=f(Z)||"Component",cH.has(z)||(cH.add(z),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",z,J.state===null?"null":"undefined",z))),typeof Z.getDerivedStateFromProps==="function"||typeof J.getSnapshotBeforeUpdate==="function"){var T=H=z=null;if(typeof J.componentWillMount==="function"&&J.componentWillMount.__suppressDeprecationWarning!==!0?z="componentWillMount":typeof J.UNSAFE_componentWillMount==="function"&&(z="UNSAFE_componentWillMount"),typeof J.componentWillReceiveProps==="function"&&J.componentWillReceiveProps.__suppressDeprecationWarning!==!0?H="componentWillReceiveProps":typeof J.UNSAFE_componentWillReceiveProps==="function"&&(H="UNSAFE_componentWillReceiveProps"),typeof J.componentWillUpdate==="function"&&J.componentWillUpdate.__suppressDeprecationWarning!==!0?T="componentWillUpdate":typeof J.UNSAFE_componentWillUpdate==="function"&&(T="UNSAFE_componentWillUpdate"),z!==null||H!==null||T!==null){J=f(Z)||"Component";var I=typeof Z.getDerivedStateFromProps==="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";iH.has(J)||(iH.add(J),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,J,I,z!==null?`
  `+z:"",H!==null?`
  `+H:"",T!==null?`
  `+T:""))}}J=G.stateNode,z=f(Z)||"Component",J.render||(Z.prototype&&typeof Z.prototype.render==="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",z):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",z)),!J.getInitialState||J.getInitialState.isReactClassApproved||J.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",z),J.getDefaultProps&&!J.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",z),J.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",z),Z.childContextTypes&&!aH.has(Z)&&(aH.add(Z),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",z)),Z.contextTypes&&!oH.has(Z)&&(oH.add(Z),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",z)),typeof J.componentShouldUpdate==="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",z),Z.prototype&&Z.prototype.isPureReactComponent&&typeof J.shouldComponentUpdate!=="undefined"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",f(Z)||"A pure component"),typeof J.componentDidUnmount==="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",z),typeof J.componentDidReceiveProps==="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",z),typeof J.componentWillRecieveProps==="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",z),typeof J.UNSAFE_componentWillRecieveProps==="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",z),H=J.props!==X,J.props!==void 0&&H&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",z),J.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",z,z),typeof J.getSnapshotBeforeUpdate!=="function"||typeof J.componentDidUpdate==="function"||lH.has(Z)||(lH.add(Z),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",f(Z))),typeof J.getDerivedStateFromProps==="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",z),typeof J.getDerivedStateFromError==="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",z),typeof Z.getSnapshotBeforeUpdate==="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",z),(H=J.state)&&(typeof H!=="object"||i1(H))&&console.error("%s.state: must be set to an object or null",z),typeof J.getChildContext==="function"&&typeof Z.childContextTypes!=="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",z),J=G.stateNode,J.props=X,J.state=G.memoizedState,J.refs={},T6(G),z=Z.contextType,J.context=typeof z==="object"&&z!==null?H1(z):zG,J.state===X&&(z=f(Z)||"Component",nH.has(z)||(nH.add(z),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",z))),G.mode&YW&&j9.recordLegacyContextWarning(G,J),j9.recordUnsafeLifecycleWarnings(G,J),J.state=G.memoizedState,z=Z.getDerivedStateFromProps,typeof z==="function"&&(Y6(G,Z,z,X),J.state=G.memoizedState),typeof Z.getDerivedStateFromProps==="function"||typeof J.getSnapshotBeforeUpdate==="function"||typeof J.UNSAFE_componentWillMount!=="function"&&typeof J.componentWillMount!=="function"||(z=J.state,typeof J.componentWillMount==="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount==="function"&&J.UNSAFE_componentWillMount(),z!==J.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",p(G)||"Component"),pQ.enqueueReplaceState(J,J.state,null)),qY(G,X,J,B),FY(),J.state=G.memoizedState),typeof J.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&P9)!==X1&&(G.flags|=67108864),J=!0}else if(W===null){J=G.stateNode;var b=G.memoizedProps;H=nG(Z,b),J.props=H;var d=J.context;T=Z.contextType,z=zG,typeof T==="object"&&T!==null&&(z=H1(T)),I=Z.getDerivedStateFromProps,T=typeof I==="function"||typeof J.getSnapshotBeforeUpdate==="function",b=G.pendingProps!==b,T||typeof J.UNSAFE_componentWillReceiveProps!=="function"&&typeof J.componentWillReceiveProps!=="function"||(b||d!==z)&&Iz(G,J,X,z),OG=!1;var v=G.memoizedState;J.state=v,qY(G,X,J,B),FY(),d=G.memoizedState,b||v!==d||OG?(typeof I==="function"&&(Y6(G,Z,I,X),d=G.memoizedState),(H=OG||Ez(G,Z,H,X,v,d,z))?(T||typeof J.UNSAFE_componentWillMount!=="function"&&typeof J.componentWillMount!=="function"||(typeof J.componentWillMount==="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount==="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&P9)!==X1&&(G.flags|=67108864)):(typeof J.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&P9)!==X1&&(G.flags|=67108864),G.memoizedProps=X,G.memoizedState=d),J.props=X,J.state=d,J.context=z,J=H):(typeof J.componentDidMount==="function"&&(G.flags|=4194308),(G.mode&P9)!==X1&&(G.flags|=67108864),J=!1)}else{J=G.stateNode,A6(W,G),z=G.memoizedProps,T=nG(Z,z),J.props=T,I=G.pendingProps,v=J.context,d=Z.contextType,H=zG,typeof d==="object"&&d!==null&&(H=H1(d)),b=Z.getDerivedStateFromProps,(d=typeof b==="function"||typeof J.getSnapshotBeforeUpdate==="function")||typeof J.UNSAFE_componentWillReceiveProps!=="function"&&typeof J.componentWillReceiveProps!=="function"||(z!==I||v!==H)&&Iz(G,J,X,H),OG=!1,v=G.memoizedState,J.state=v,qY(G,X,J,B),FY();var c=G.memoizedState;z!==I||v!==c||OG||W!==null&&W.dependencies!==null&&e8(W.dependencies)?(typeof b==="function"&&(Y6(G,Z,b,X),c=G.memoizedState),(T=OG||Ez(G,Z,T,X,v,c,H)||W!==null&&W.dependencies!==null&&e8(W.dependencies))?(d||typeof J.UNSAFE_componentWillUpdate!=="function"&&typeof J.componentWillUpdate!=="function"||(typeof J.componentWillUpdate==="function"&&J.componentWillUpdate(X,c,H),typeof J.UNSAFE_componentWillUpdate==="function"&&J.UNSAFE_componentWillUpdate(X,c,H)),typeof J.componentDidUpdate==="function"&&(G.flags|=4),typeof J.getSnapshotBeforeUpdate==="function"&&(G.flags|=1024)):(typeof J.componentDidUpdate!=="function"||z===W.memoizedProps&&v===W.memoizedState||(G.flags|=4),typeof J.getSnapshotBeforeUpdate!=="function"||z===W.memoizedProps&&v===W.memoizedState||(G.flags|=1024),G.memoizedProps=X,G.memoizedState=c),J.props=X,J.state=c,J.context=H,J=T):(typeof J.componentDidUpdate!=="function"||z===W.memoizedProps&&v===W.memoizedState||(G.flags|=4),typeof J.getSnapshotBeforeUpdate!=="function"||z===W.memoizedProps&&v===W.memoizedState||(G.flags|=1024),J=!1)}if(H=J,PY(W,G),z=(G.flags&128)!==0,H||z){if(H=G.stateNode,g.getCurrentStack=G===null?null:BW,aW=!1,WW=G,z&&typeof Z.getDerivedStateFromError!=="function")Z=null,IW=-1;else{if(j(G),Z=DH(H),G.mode&YW){i0(!0);try{DH(H)}finally{i0(!1)}}Z0()}G.flags|=1,W!==null&&z?(G.child=BZ(G,W.child,null,B),G.child=BZ(G,null,Z,B)):c1(W,G,Z,B),G.memoizedState=H.state,W=G.child}else W=V5(W,G,B);return B=G.stateNode,J&&B.props!==X&&(C7||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",p(G)||"a component"),C7=!0),W}function bz(W,G,Z,X){return VY(),G.flags|=256,c1(W,G,Z,X),G.child}function N6(W,G){G&&G.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,G.displayName||G.name||"Component"),typeof G.getDerivedStateFromProps==="function"&&(W=f(G)||"Unknown",Y_[W]||(console.error("%s: Function components do not support getDerivedStateFromProps.",W),Y_[W]=!0)),typeof G.contextType==="object"&&G.contextType!==null&&(G=f(G)||"Unknown",G_[G]||(console.error("%s: Function components do not support contextType.",G),G_[G]=!0))}function $6(W){return{baseLanes:W,cachePool:n$()}}function z6(W,G,Z){return W=W!==null?W.childLanes&~Z:0,G&&(W|=yW),W}function vz(W,G,Z){var X,B=G.pendingProps;U(G)&&(G.flags|=128);var J=!1,z=(G.flags&128)!==0;if((X=z)||(X=W!==null&&W.memoizedState===null?!1:(S1.current&J4)!==0),X&&(J=!0,G.flags&=-129),X=(G.flags&32)!==0,G.flags&=-33,W===null){if(v0){if(J?a5(G):r5(G),v0){var H=s1,T;if(!(T=!H)){W:{var I=H;for(T=G5;I.nodeType!==8;){if(!T){T=null;break W}if(I=oW(I.nextSibling),I===null){T=null;break W}}T=I}T!==null?(mG(),G.memoizedState={dehydrated:T,treeContext:XZ!==null?{id:C5,overflow:F5}:null,retryLane:536870912},I=L(18,null,null,X1),I.stateNode=T,I.return=G,G.child=I,$W=G,s1=null,T=!0):T=!1,T=!T}T&&(CB(G,H),uG(G))}if(H=G.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return H.data===TZ?G.lanes=16:G.lanes=536870912,null;O5(G)}if(H=B.children,B=B.fallback,J)return r5(G),J=G.mode,H=U6({mode:"hidden",children:H},J),B=aG(B,J,Z,null),H.return=G,B.return=G,H.sibling=B,G.child=H,J=G.child,J.memoizedState=$6(Z),J.childLanes=z6(W,X,Z),G.memoizedState=iQ,B;return a5(G),K6(G,H)}var b=W.memoizedState;if(b!==null&&(H=b.dehydrated,H!==null)){if(z)G.flags&256?(a5(G),G.flags&=-257,G=H6(W,G,Z)):G.memoizedState!==null?(r5(G),G.child=W.child,G.flags|=128,G=null):(r5(G),J=B.fallback,H=G.mode,B=U6({mode:"visible",children:B.children},H),J=aG(J,H,Z,null),J.flags|=2,B.return=G,J.return=G,B.sibling=J,G.child=B,BZ(G,W.child,null,Z),B=G.child,B.memoizedState=$6(Z),B.childLanes=z6(W,X,Z),G.memoizedState=iQ,G=J);else if(a5(G),v0&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),H.data===TZ){if(X=H.nextSibling&&H.nextSibling.dataset,X){T=X.dgst;var d=X.msg;I=X.stck;var v=X.cstck}H=d,X=T,B=I,T=J=v,J=H?Error(H):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),J.stack=B||"",J.digest=X,X=T===void 0?null:T,B={value:J,source:null,stack:X},typeof X==="string"&&bQ.set(J,B),LY(B),G=H6(W,G,Z)}else if(m1||jY(W,G,Z,!1),X=(Z&W.childLanes)!==0,m1||X){if(X=Z1,X!==null){if(B=Z&-Z,(B&42)!==0)B=1;else switch(B){case 2:B=1;break;case 8:B=4;break;case 32:B=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:B=64;break;case 268435456:B=134217728;break;default:B=0}if(B=(B&(X.suspendedLanes|Z))!==0?0:B,B!==0&&B!==b.retryLane)throw b.retryLane=B,e1(W,B),O1(X,W,B),eH}H.data===LZ||b6(),G=H6(W,G,Z)}else H.data===LZ?(G.flags|=128,G.child=W.child,G=KT.bind(null,W),H._reactRetry=G,G=null):(W=b.treeContext,s1=oW(H.nextSibling),$W=G,v0=!0,C9=null,q5=!1,G9=null,G5=!1,W!==null&&(mG(),eW[W9++]=C5,eW[W9++]=F5,eW[W9++]=XZ,C5=W.id,F5=W.overflow,XZ=G),G=K6(G,B.children),G.flags|=4096);return G}if(J)return r5(G),J=B.fallback,H=G.mode,T=W.child,I=T.sibling,B=YG(T,{mode:"hidden",children:B.children}),B.subtreeFlags=T.subtreeFlags&31457280,I!==null?J=YG(I,J):(J=aG(J,H,Z,null),J.flags|=2),J.return=G,B.return=G,B.sibling=J,G.child=B,B=J,J=G.child,H=W.child.memoizedState,H===null?H=$6(Z):(T=H.cachePool,T!==null?(I=k1._currentValue,T=T.parent!==I?{parent:I,pool:I}:T):T=n$(),H={baseLanes:H.baseLanes|Z,cachePool:T}),J.memoizedState=H,J.childLanes=z6(W,X,Z),G.memoizedState=iQ,B;return a5(G),Z=W.child,W=Z.sibling,Z=YG(Z,{mode:"visible",children:B.children}),Z.return=G,Z.sibling=null,W!==null&&(X=G.deletions,X===null?(G.deletions=[W],G.flags|=16):X.push(W)),G.child=Z,G.memoizedState=null,Z}function K6(W,G){return G=U6({mode:"visible",children:G},W.mode),G.return=W,W.child=G}function U6(W,G){return UK(W,G,0,null)}function H6(W,G,Z){return BZ(G,W.child,null,Z),W=K6(G,G.pendingProps.children),W.flags|=2,G.memoizedState=null,W}function fz(W,G,Z){W.lanes|=G;var X=W.alternate;X!==null&&(X.lanes|=G),V6(W.return,G,Z)}function yz(W,G){var Z=i1(W);return W=!Z&&typeof k(W)==="function",Z||W?(Z=Z?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",Z,G,Z),!1):!0}function _6(W,G,Z,X,B){var J=W.memoizedState;J===null?W.memoizedState={isBackwards:G,rendering:null,renderingStartTime:0,last:X,tail:Z,tailMode:B}:(J.isBackwards=G,J.rendering=null,J.renderingStartTime=0,J.last=X,J.tail=Z,J.tailMode=B)}function gz(W,G,Z){var X=G.pendingProps,B=X.revealOrder,J=X.tail;if(X=X.children,B!==void 0&&B!=="forwards"&&B!=="backwards"&&B!=="together"&&!X_[B])if(X_[B]=!0,typeof B==="string")switch(B.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',B,B.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',B,B.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',B)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',B);J===void 0||lQ[J]||(J!=="collapsed"&&J!=="hidden"?(lQ[J]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',J)):B!=="forwards"&&B!=="backwards"&&(lQ[J]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',J)));W:if((B==="forwards"||B==="backwards")&&X!==void 0&&X!==null&&X!==!1)if(i1(X)){for(var z=0;z<X.length;z++)if(!yz(X[z],z))break W}else if(z=k(X),typeof z==="function"){if(z=z.call(X))for(var H=z.next(),T=0;!H.done;H=z.next()){if(!yz(H.value,T))break W;T++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',B);if(c1(W,G,X,Z),X=S1.current,(X&J4)!==0)X=X&E7|J4,G.flags|=128;else{if(W!==null&&(W.flags&128)!==0)W:for(W=G.child;W!==null;){if(W.tag===13)W.memoizedState!==null&&fz(W,Z,G);else if(W.tag===19)fz(W,Z,G);else if(W.child!==null){W.child.return=W,W=W.child;continue}if(W===G)break W;for(;W.sibling===null;){if(W.return===null||W.return===G)break W;W=W.return}W.sibling.return=W.return,W=W.sibling}X&=E7}switch(R0(S1,X,G),B){case"forwards":Z=G.child;for(B=null;Z!==null;)W=Z.alternate,W!==null&&m8(W)===null&&(B=Z),Z=Z.sibling;Z=B,Z===null?(B=G.child,G.child=null):(B=Z.sibling,Z.sibling=null),_6(G,!1,B,Z,J);break;case"backwards":Z=null,B=G.child;for(G.child=null;B!==null;){if(W=B.alternate,W!==null&&m8(W)===null){G.child=B;break}W=B.sibling,B.sibling=Z,Z=B,B=W}_6(G,!0,Z,null,J);break;case"together":_6(G,!1,null,null,void 0);break;default:G.memoizedState=null}return G.child}function V5(W,G,Z){if(W!==null&&(G.dependencies=W.dependencies),IW=-1,VG|=G.lanes,(Z&G.childLanes)===0)if(W!==null){if(jY(W,G,Z,!1),(Z&G.childLanes)===0)return null}else return null;if(W!==null&&G.child!==W.child)throw Error("Resuming work not yet implemented.");if(G.child!==null){W=G.child,Z=YG(W,W.pendingProps),G.child=Z;for(Z.return=G;W.sibling!==null;)W=W.sibling,Z=Z.sibling=YG(W,W.pendingProps),Z.return=G;Z.sibling=null}return G.child}function w6(W,G){if((W.lanes&G)!==0)return!0;return W=W.dependencies,W!==null&&e8(W)?!0:!1}function pL(W,G,Z){switch(G.tag){case 3:u1(G,G.stateNode.containerInfo),e5(G,k1,W.memoizedState.cache),VY();break;case 27:case 5:h9(G);break;case 4:u1(G,G.stateNode.containerInfo);break;case 10:e5(G,G.type,G.memoizedProps.value);break;case 12:(Z&G.childLanes)!==0&&(G.flags|=4),G.flags|=2048;var X=G.stateNode;X.effectDuration=-0,X.passiveEffectDuration=-0;break;case 13:if(X=G.memoizedState,X!==null){if(X.dehydrated!==null)return a5(G),G.flags|=128,null;if((Z&G.child.childLanes)!==0)return vz(W,G,Z);return a5(G),W=V5(W,G,Z),W!==null?W.sibling:null}a5(G);break;case 19:var B=(W.flags&128)!==0;if(X=(Z&G.childLanes)!==0,X||(jY(W,G,Z,!1),X=(Z&G.childLanes)!==0),B){if(X)return gz(W,G,Z);G.flags|=128}if(B=G.memoizedState,B!==null&&(B.rendering=null,B.tail=null,B.lastEffect=null),R0(S1,S1.current,G),X)break;else return null;case 22:case 23:return G.lanes=0,Sz(W,G,Z);case 24:e5(G,k1,W.memoizedState.cache)}return V5(W,G,Z)}function O6(W,G,Z){if(G._debugNeedsRemount&&W!==null){Z=M6(G.type,G.key,G.pendingProps,G._debugOwner||null,G.mode,G.lanes);var X=G.return;if(X===null)throw Error("Cannot swap the root fiber.");if(W.alternate=null,G.alternate=null,Z.index=G.index,Z.sibling=G.sibling,Z.return=G.return,Z.ref=G.ref,Z._debugInfo=G._debugInfo,G===X.child)X.child=Z;else{var B=X.child;if(B===null)throw Error("Expected parent to have a child.");for(;B.sibling!==G;)if(B=B.sibling,B===null)throw Error("Expected to find the previous sibling.");B.sibling=Z}return G=X.deletions,G===null?(X.deletions=[W],X.flags|=16):G.push(W),Z.flags|=2,Z}if(W!==null)if(W.memoizedProps!==G.pendingProps||G.type!==W.type)m1=!0;else{if(!w6(W,Z)&&(G.flags&128)===0)return m1=!1,pL(W,G,Z);m1=(W.flags&131072)!==0?!0:!1}else{if(m1=!1,X=v0)mG(),X=(G.flags&1048576)!==0;X&&(X=G.index,mG(),b$(G,vX,X))}switch(G.lanes=0,G.tag){case 16:W:if(X=G.pendingProps,W=KG(G.elementType),G.type=W,typeof W==="function")q6(W)?(X=nG(W,X),G.tag=1,G.type=W=gG(W),G=xz(null,G,W,X,Z)):(G.tag=0,N6(G,W),G.type=W=gG(W),G=J6(null,G,W,X,Z));else{if(W!==void 0&&W!==null){if(B=W.$$typeof,B===mY){G.tag=11,G.type=W=AB(W),G=Fz(null,G,W,X,Z);break W}else if(B===TX){G.tag=14,G=qz(null,G,W,X,Z);break W}}throw G="",W!==null&&typeof W==="object"&&W.$$typeof===xW&&(G=" Did you wrap a component in React.lazy() more than once?"),W=f(W)||W,Error("Element type is invalid. Received a promise that resolves to: "+W+". Lazy element type must resolve to a class or function."+G)}return G;case 0:return J6(W,G,G.type,G.pendingProps,Z);case 1:return X=G.type,B=nG(X,G.pendingProps),xz(W,G,X,B,Z);case 3:W:{if(u1(G,G.stateNode.containerInfo),W===null)throw Error("Should have a current fiber. This is a bug in React.");var J=G.pendingProps;B=G.memoizedState,X=B.element,A6(W,G),qY(G,J,null,Z);var z=G.memoizedState;if(J=z.cache,e5(G,k1,J),J!==B.cache&&L6(G,[k1],Z,!0),FY(),J=z.element,B.isDehydrated)if(B={element:J,isDehydrated:!1,cache:z.cache},G.updateQueue.baseState=B,G.memoizedState=B,G.flags&256){G=bz(W,G,J,Z);break W}else if(J!==X){X=SW(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),G),LY(X),G=bz(W,G,J,Z);break W}else for(s1=oW(G.stateNode.containerInfo.firstChild),$W=G,v0=!0,C9=null,q5=!1,G9=null,G5=!0,W=yH(G,null,J,Z),G.child=W;W;)W.flags=W.flags&-3|4096,W=W.sibling;else{if(VY(),J===X){G=V5(W,G,Z);break W}c1(W,G,J,Z)}G=G.child}return G;case 26:return PY(W,G),W===null?(W=XU(G.type,null,G.pendingProps,null))?G.memoizedState=W:v0||(W=G.type,Z=G.pendingProps,X=B1(JG.current),X=zX(X).createElement(W),X[ZW]=G,X[EW]=Z,l1(X,W,Z),D1(X),G.stateNode=X):G.memoizedState=XU(G.type,W.memoizedProps,G.pendingProps,W.memoizedState),null;case 27:return h9(G),W===null&&v0&&(B=B1(JG.current),X=HW(),B=G.stateNode=ZU(G.type,G.pendingProps,B,X,!1),q5||(X=sK(B,G.type,G.pendingProps,X),X!==null&&(dG(G,0).serverProps=X)),$W=G,G5=!0,s1=oW(B.firstChild)),X=G.pendingProps.children,W!==null||v0?c1(W,G,X,Z):G.child=BZ(G,null,X,Z),PY(W,G),G.child;case 5:return W===null&&v0&&(J=HW(),X=wB(G.type,J.ancestorInfo),B=s1,(z=!B)||(z=ST(B,G.type,G.pendingProps,G5),z!==null?(G.stateNode=z,q5||(J=sK(z,G.type,G.pendingProps,J),J!==null&&(dG(G,0).serverProps=J)),$W=G,s1=oW(z.firstChild),G5=!1,J=!0):J=!1,z=!J),z&&(X&&CB(G,B),uG(G))),h9(G),B=G.type,J=G.pendingProps,z=W!==null?W.memoizedProps:null,X=J.children,s6(B,J)?X=null:z!==null&&s6(B,z)&&(G.flags|=32),G.memoizedState!==null&&(B=kB(W,G,yL,null,null,Z),j4._currentValue=B),PY(W,G),c1(W,G,X,Z),G.child;case 6:return W===null&&v0&&(W=G.pendingProps,Z=HW().ancestorInfo.current,W=Z!=null?j8(W,Z.tag):!0,Z=s1,(X=!Z)||(X=RT(Z,G.pendingProps,G5),X!==null?(G.stateNode=X,$W=G,s1=null,X=!0):X=!1,X=!X),X&&(W&&CB(G,Z),uG(G))),null;case 13:return vz(W,G,Z);case 4:return u1(G,G.stateNode.containerInfo),X=G.pendingProps,W===null?G.child=BZ(G,null,X,Z):c1(W,G,X,Z),G.child;case 11:return Fz(W,G,G.type,G.pendingProps,Z);case 7:return c1(W,G,G.pendingProps,Z),G.child;case 8:return c1(W,G,G.pendingProps.children,Z),G.child;case 12:return G.flags|=4,G.flags|=2048,X=G.stateNode,X.effectDuration=-0,X.passiveEffectDuration=-0,c1(W,G,G.pendingProps.children,Z),G.child;case 10:return X=G.type,B=G.pendingProps,J=B.value,"value"in B||B_||(B_=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),e5(G,X,J),c1(W,G,B.children,Z),G.child;case 9:return B=G.type._context,X=G.pendingProps.children,typeof X!=="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),sG(G),B=H1(B),j(G),X=yQ(X,B,void 0),Z0(),G.flags|=1,c1(W,G,X,Z),G.child;case 14:return qz(W,G,G.type,G.pendingProps,Z);case 15:return Mz(W,G,G.type,G.pendingProps,Z);case 19:return gz(W,G,Z);case 22:return Sz(W,G,Z);case 24:return sG(G),X=H1(k1),W===null?(B=SB(),B===null&&(B=Z1,J=MB(),B.pooledCache=J,pG(J),J!==null&&(B.pooledCacheLanes|=Z),B=J),G.memoizedState={parent:X,cache:B},T6(G),e5(G,k1,B)):((W.lanes&Z)!==0&&(A6(W,G),qY(G,null,null,Z),FY()),B=W.memoizedState,J=G.memoizedState,B.parent!==X?(B={parent:X,cache:X},G.memoizedState=B,G.lanes===0&&(G.memoizedState=G.updateQueue.baseState=B),e5(G,k1,X)):(X=J.cache,e5(G,k1,X),X!==B.cache&&L6(G,[k1],Z,!0))),c1(W,G,G.pendingProps.children,Z),G.child;case 29:throw G.pendingProps}throw Error("Unknown unit of work tag ("+G.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function t8(){F7=uX=null,q7=!1}function e5(W,G,Z){R0(nQ,G._currentValue,W),G._currentValue=Z,R0(sQ,G._currentRenderer,W),G._currentRenderer!==void 0&&G._currentRenderer!==null&&G._currentRenderer!==Q_&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),G._currentRenderer=Q_}function L5(W,G){W._currentValue=nQ.current;var Z=sQ.current;d0(sQ,G),W._currentRenderer=Z,d0(nQ,G)}function V6(W,G,Z){for(;W!==null;){var X=W.alternate;if((W.childLanes&G)!==G?(W.childLanes|=G,X!==null&&(X.childLanes|=G)):X!==null&&(X.childLanes&G)!==G&&(X.childLanes|=G),W===Z)break;W=W.return}W!==Z&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function L6(W,G,Z,X){var B=W.child;B!==null&&(B.return=W);for(;B!==null;){var J=B.dependencies;if(J!==null){var z=B.child;J=J.firstContext;W:for(;J!==null;){var H=J;J=B;for(var T=0;T<G.length;T++)if(H.context===G[T]){J.lanes|=Z,H=J.alternate,H!==null&&(H.lanes|=Z),V6(J.return,Z,W),X||(z=null);break W}J=H.next}}else if(B.tag===18){if(z=B.return,z===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");z.lanes|=Z,J=z.alternate,J!==null&&(J.lanes|=Z),V6(z,Z,W),z=null}else z=B.child;if(z!==null)z.return=B;else for(z=B;z!==null;){if(z===W){z=null;break}if(B=z.sibling,B!==null){B.return=z.return,z=B;break}z=z.return}B=z}}function jY(W,G,Z,X){W=null;for(var B=G,J=!1;B!==null;){if(!J){if((B.flags&524288)!==0)J=!0;else if((B.flags&262144)!==0)break}if(B.tag===10){var z=B.alternate;if(z===null)throw Error("Should have a current fiber. This is a bug in React.");if(z=z.memoizedProps,z!==null){var H=B.type;NW(B.pendingProps.value,z.value)||(W!==null?W.push(H):W=[H])}}else if(B===AX.current){if(z=B.alternate,z===null)throw Error("Should have a current fiber. This is a bug in React.");z.memoizedState.memoizedState!==B.memoizedState.memoizedState&&(W!==null?W.push(j4):W=[j4])}B=B.return}W!==null&&L6(G,W,Z,X),G.flags|=262144}function e8(W){for(W=W.firstContext;W!==null;){if(!NW(W.context._currentValue,W.memoizedValue))return!0;W=W.next}return!1}function sG(W){uX=W,F7=null,W=W.dependencies,W!==null&&(W.firstContext=null)}function H1(W){return q7&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),hz(uX,W)}function WX(W,G){return uX===null&&sG(W),hz(W,G)}function hz(W,G){var Z=G._currentValue;if(G={context:G,memoizedValue:Z,next:null},F7===null){if(W===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");F7=G,W.dependencies={lanes:0,firstContext:G,_debugThenableState:null},W.flags|=524288}else F7=F7.next=G;return Z}function T6(W){W.updateQueue={baseState:W.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A6(W,G){W=W.updateQueue,G.updateQueue===W&&(G.updateQueue={baseState:W.baseState,firstBaseUpdate:W.firstBaseUpdate,lastBaseUpdate:W.lastBaseUpdate,shared:W.shared,callbacks:null})}function WG(W){return{lane:W,tag:J_,payload:null,callback:null,next:null}}function GG(W,G,Z){var X=W.updateQueue;if(X===null)return null;if(X=X.shared,aQ===X&&!z_){var B=p(W);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,B),z_=!0}if(($1&UW)!==vW)return B=X.pending,B===null?G.next=G:(G.next=B.next,B.next=G),X.pending=G,G=R8(W),S$(W,null,Z),G;return S8(W,X,G,Z),R8(W)}function CY(W,G,Z){if(G=G.updateQueue,G!==null&&(G=G.shared,(Z&4194176)!==0)){var X=G.lanes;X&=W.pendingLanes,Z|=X,G.lanes=Z,bZ(W,Z)}}function GX(W,G){var{updateQueue:Z,alternate:X}=W;if(X!==null&&(X=X.updateQueue,Z===X)){var B=null,J=null;if(Z=Z.firstBaseUpdate,Z!==null){do{var z={lane:Z.lane,tag:Z.tag,payload:Z.payload,callback:null,next:null};J===null?B=J=z:J=J.next=z,Z=Z.next}while(Z!==null);J===null?B=J=G:J=J.next=G}else B=J=G;Z={baseState:X.baseState,firstBaseUpdate:B,lastBaseUpdate:J,shared:X.shared,callbacks:X.callbacks},W.updateQueue=Z;return}W=Z.lastBaseUpdate,W===null?Z.firstBaseUpdate=G:W.next=G,Z.lastBaseUpdate=G}function FY(){if(rQ){var W=I7;if(W!==null)throw W}}function qY(W,G,Z,X){rQ=!1;var B=W.updateQueue;OG=!1,aQ=B.shared;var{firstBaseUpdate:J,lastBaseUpdate:z}=B,H=B.shared.pending;if(H!==null){B.shared.pending=null;var T=H,I=T.next;T.next=null,z===null?J=I:z.next=I,z=T;var b=W.alternate;b!==null&&(b=b.updateQueue,H=b.lastBaseUpdate,H!==z&&(H===null?b.firstBaseUpdate=I:H.next=I,b.lastBaseUpdate=T))}if(J!==null){var d=B.baseState;z=0,b=I=T=null,H=J;do{var v=H.lane&-536870913,c=v!==H.lane;if(c?(M0&v)===v:(X&v)===v){v!==0&&v===QZ&&(rQ=!0),b!==null&&(b=b.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});W:{v=W;var $0=H,D0=G,j1=Z;switch($0.tag){case N_:if($0=$0.payload,typeof $0==="function"){q7=!0;var u0=$0.call(j1,d,D0);if(v.mode&YW){i0(!0);try{$0.call(j1,d,D0)}finally{i0(!1)}}q7=!1,d=u0;break W}d=$0;break W;case oQ:v.flags=v.flags&-65537|128;case J_:if(u0=$0.payload,typeof u0==="function"){if(q7=!0,$0=u0.call(j1,d,D0),v.mode&YW){i0(!0);try{u0.call(j1,d,D0)}finally{i0(!1)}}q7=!1}else $0=u0;if($0===null||$0===void 0)break W;d=C0({},d,$0);break W;case $_:OG=!0}}v=H.callback,v!==null&&(W.flags|=64,c&&(W.flags|=8192),c=B.callbacks,c===null?B.callbacks=[v]:c.push(v))}else c={lane:v,tag:H.tag,payload:H.payload,callback:H.callback,next:null},b===null?(I=b=c,T=d):b=b.next=c,z|=v;if(H=H.next,H===null)if(H=B.shared.pending,H===null)break;else c=H,H=c.next,c.next=null,B.lastBaseUpdate=c,B.shared.pending=null}while(1);b===null&&(T=d),B.baseState=T,B.firstBaseUpdate=I,B.lastBaseUpdate=b,J===null&&(B.shared.lanes=0),VG|=z,W.lanes=z,W.memoizedState=d}aQ=null}function mz(W,G){if(typeof W!=="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+W);W.call(G)}function cL(W,G){var Z=W.shared.hiddenCallbacks;if(Z!==null)for(W.shared.hiddenCallbacks=null,W=0;W<Z.length;W++)mz(Z[W],G)}function dz(W,G){var Z=W.callbacks;if(Z!==null)for(W.callbacks=null,W=0;W<Z.length;W++)mz(Z[W],G)}function i9(W){return(W.mode&n1)!==X1}function uz(W,G){i9(W)?(l9(),MY(G,W),c9()):MY(G,W)}function E6(W,G,Z){i9(W)?(l9(),iZ(Z,W,G),c9()):iZ(Z,W,G)}function MY(W,G){try{var Z=G.updateQueue,X=Z!==null?Z.lastEffect:null;if(X!==null){var B=X.next;Z=B;do{if((Z.tag&W)===W&&((W&R1)!==Y9?e!==null&&typeof e.markComponentPassiveEffectMountStarted==="function"&&e.markComponentPassiveEffectMountStarted(G):(W&o1)!==Y9&&e!==null&&typeof e.markComponentLayoutEffectMountStarted==="function"&&e.markComponentLayoutEffectMountStarted(G),X=void 0,(W&zW)!==Y9&&(b7=!0),X=W0(G,QE,Z),(W&zW)!==Y9&&(b7=!1),(W&R1)!==Y9?e!==null&&typeof e.markComponentPassiveEffectMountStopped==="function"&&e.markComponentPassiveEffectMountStopped():(W&o1)!==Y9&&e!==null&&typeof e.markComponentLayoutEffectMountStopped==="function"&&e.markComponentLayoutEffectMountStopped(),X!==void 0&&typeof X!=="function")){var J=void 0;J=(Z.tag&o1)!==0?"useLayoutEffect":(Z.tag&zW)!==0?"useInsertionEffect":"useEffect";var z=void 0;z=X===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof X.then==="function"?`

It looks like you wrote `+J+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+J+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+X,W0(G,function(H,T){console.error("%s must not return anything besides a function, which is used for clean-up.%s",H,T)},J,z)}Z=Z.next}while(Z!==B)}}catch(H){a0(G,G.return,H)}}function iZ(W,G,Z){try{var X=G.updateQueue,B=X!==null?X.lastEffect:null;if(B!==null){var J=B.next;X=J;do{if((X.tag&W)===W){var z=X.inst,H=z.destroy;H!==void 0&&(z.destroy=void 0,(W&R1)!==Y9?e!==null&&typeof e.markComponentPassiveEffectUnmountStarted==="function"&&e.markComponentPassiveEffectUnmountStarted(G):(W&o1)!==Y9&&e!==null&&typeof e.markComponentLayoutEffectUnmountStarted==="function"&&e.markComponentLayoutEffectUnmountStarted(G),(W&zW)!==Y9&&(b7=!0),W0(G,JE,G,Z,H),(W&zW)!==Y9&&(b7=!1),(W&R1)!==Y9?e!==null&&typeof e.markComponentPassiveEffectUnmountStopped==="function"&&e.markComponentPassiveEffectUnmountStopped():(W&o1)!==Y9&&e!==null&&typeof e.markComponentLayoutEffectUnmountStopped==="function"&&e.markComponentLayoutEffectUnmountStopped())}X=X.next}while(X!==J)}}catch(T){a0(G,G.return,T)}}function pz(W,G){i9(W)?(l9(),MY(G,W),c9()):MY(G,W)}function I6(W,G,Z){i9(W)?(l9(),iZ(Z,W,G),c9()):iZ(Z,W,G)}function cz(W){var G=W.updateQueue;if(G!==null){var Z=W.stateNode;W.type.defaultProps||"ref"in W.memoizedProps||C7||(Z.props!==W.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",p(W)||"instance"),Z.state!==W.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",p(W)||"instance"));try{W0(W,dz,G,Z)}catch(X){a0(W,W.return,X)}}}function lL(W,G,Z){return W.getSnapshotBeforeUpdate(G,Z)}function iL(W,G){var{memoizedProps:Z,memoizedState:X}=G;G=W.stateNode,W.type.defaultProps||"ref"in W.memoizedProps||C7||(G.props!==W.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",p(W)||"instance"),G.state!==W.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",p(W)||"instance"));try{var B=nG(W.type,Z,W.elementType===W.type),J=W0(W,lL,G,B,X);Z=K_,J!==void 0||Z.has(W.type)||(Z.add(W.type),W0(W,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",p(W))})),G.__reactInternalSnapshotBeforeUpdate=J}catch(z){a0(W,W.return,z)}}function lz(W,G,Z){Z.props=nG(W.type,W.memoizedProps),Z.state=W.memoizedState,i9(W)?(l9(),W0(W,MH,W,G,Z),c9()):W0(W,MH,W,G,Z)}function nL(W){var G=W.ref;if(G!==null){var Z=W.stateNode;if(typeof G==="function")if(i9(W))try{l9(),W.refCleanup=G(Z)}finally{c9()}else W.refCleanup=G(Z);else typeof G==="string"?console.error("String refs are no longer supported."):G.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",p(W)),G.current=Z}}function oG(W,G){try{W0(W,nL,W)}catch(Z){a0(W,G,Z)}}function RW(W,G){var{ref:Z,refCleanup:X}=W;if(Z!==null)if(typeof X==="function")try{if(i9(W))try{l9(),W0(W,X)}finally{c9(W)}else W0(W,X)}catch(B){a0(W,G,B)}finally{W.refCleanup=null,W=W.alternate,W!=null&&(W.refCleanup=null)}else if(typeof Z==="function")try{if(i9(W))try{l9(),W0(W,Z,null)}finally{c9(W)}else W0(W,Z,null)}catch(B){a0(W,G,B)}else Z.current=null}function iz(W,G,Z,X){var B=W.memoizedProps,J=B.id,z=B.onCommit;B=B.onRender,G=G===null?"mount":"update",RX&&(G="nested-update"),typeof B==="function"&&B(J,G,W.actualDuration,W.treeBaseDuration,W.actualStartTime,Z),typeof z==="function"&&z(W.memoizedProps.id,G,X,Z)}function sL(W,G,Z,X){var B=W.memoizedProps;W=B.id,B=B.onPostCommit,G=G===null?"mount":"update",RX&&(G="nested-update"),typeof B==="function"&&B(W,G,X,Z)}function nz(W){var{type:G,memoizedProps:Z,stateNode:X}=W;try{W0(W,ET,X,G,Z,W)}catch(B){a0(W,W.return,B)}}function sz(W,G,Z){try{W0(W,IT,W.stateNode,W.type,Z,G,W)}catch(X){a0(W,W.return,X)}}function oz(W){return W.tag===5||W.tag===3||W.tag===26||W.tag===27||W.tag===4}function D6(W){W:for(;;){for(;W.sibling===null;){if(W.return===null||oz(W.return))return null;W=W.return}W.sibling.return=W.return;for(W=W.sibling;W.tag!==5&&W.tag!==6&&W.tag!==27&&W.tag!==18;){if(W.flags&2)continue W;if(W.child===null||W.tag===4)continue W;else W.child.return=W,W=W.child}if(!(W.flags&2))return W.stateNode}}function P6(W,G,Z){var X=W.tag;if(X===5||X===6)W=W.stateNode,G?Z.nodeType===8?Z.parentNode.insertBefore(W,G):Z.insertBefore(W,G):(Z.nodeType===8?(G=Z.parentNode,G.insertBefore(W,Z)):(G=Z,G.appendChild(W)),Z=Z._reactRootContainer,Z!==null&&Z!==void 0||G.onclick!==null||(G.onclick=NX));else if(X!==4&&X!==27&&(W=W.child,W!==null))for(P6(W,G,Z),W=W.sibling;W!==null;)P6(W,G,Z),W=W.sibling}function ZX(W,G,Z){var X=W.tag;if(X===5||X===6)W=W.stateNode,G?Z.insertBefore(W,G):Z.appendChild(W);else if(X!==4&&X!==27&&(W=W.child,W!==null))for(ZX(W,G,Z),W=W.sibling;W!==null;)ZX(W,G,Z),W=W.sibling}function oL(W){if(W.tag!==27){W:{for(var G=W.return;G!==null;){if(oz(G)){var Z=G;break W}G=G.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}switch(Z.tag){case 27:G=Z.stateNode,Z=D6(W),ZX(W,Z,G);break;case 5:G=Z.stateNode,Z.flags&32&&(rK(G),Z.flags&=-33),Z=D6(W),ZX(W,Z,G);break;case 3:case 4:G=Z.stateNode.containerInfo,Z=D6(W),P6(W,Z,G);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function aL(W,G){if(W=W.containerInfo,OJ=N2,W=q$(W),LB(W)){if("selectionStart"in W)var Z={start:W.selectionStart,end:W.selectionEnd};else W:{Z=(Z=W.ownerDocument)&&Z.defaultView||window;var X=Z.getSelection&&Z.getSelection();if(X&&X.rangeCount!==0){Z=X.anchorNode;var{anchorOffset:B,focusNode:J}=X;X=X.focusOffset;try{Z.nodeType,J.nodeType}catch($0){Z=null;break W}var z=0,H=-1,T=-1,I=0,b=0,d=W,v=null;G:for(;;){for(var c;;){if(d!==Z||B!==0&&d.nodeType!==3||(H=z+B),d!==J||X!==0&&d.nodeType!==3||(T=z+X),d.nodeType===3&&(z+=d.nodeValue.length),(c=d.firstChild)===null)break;v=d,d=c}for(;;){if(d===W)break G;if(v===Z&&++I===B&&(H=z),v===J&&++b===X&&(T=z),(c=d.nextSibling)!==null)break;d=v,v=d.parentNode}d=c}Z=H===-1||T===-1?null:{start:H,end:T}}else Z=null}Z=Z||{start:0,end:0}}else Z=null;VJ={focusedElem:W,selectionRange:Z},N2=!1;for(d1=G;d1!==null;)if(G=d1,W=G.child,(G.subtreeFlags&1028)!==0&&W!==null)W.return=G,d1=W;else for(;d1!==null;){switch(W=G=d1,Z=W.alternate,B=W.flags,W.tag){case 0:break;case 11:case 15:break;case 1:(B&1024)!==0&&Z!==null&&iL(W,Z);break;case 3:if((B&1024)!==0){if(W=W.stateNode.containerInfo,Z=W.nodeType,Z===9)a6(W);else if(Z===1)switch(W.nodeName){case"HEAD":case"HTML":case"BODY":a6(W);break;default:W.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((B&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(W=G.sibling,W!==null){W.return=G.return,d1=W;break}d1=G.return}return G=H_,H_=!1,G}function az(W,G,Z){var X=Z.flags;switch(Z.tag){case 0:case 11:case 15:n9(W,Z),X&4&&uz(Z,o1|X9);break;case 1:if(n9(W,Z),X&4)if(W=Z.stateNode,G===null)Z.type.defaultProps||"ref"in Z.memoizedProps||C7||(W.props!==Z.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",p(Z)||"instance"),W.state!==Z.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",p(Z)||"instance")),i9(Z)?(l9(),W0(Z,gQ,Z,W),c9()):W0(Z,gQ,Z,W);else{var B=nG(Z.type,G.memoizedProps);G=G.memoizedState,Z.type.defaultProps||"ref"in Z.memoizedProps||C7||(W.props!==Z.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",p(Z)||"instance"),W.state!==Z.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",p(Z)||"instance")),i9(Z)?(l9(),W0(Z,CH,Z,W,B,G,W.__reactInternalSnapshotBeforeUpdate),c9()):W0(Z,CH,Z,W,B,G,W.__reactInternalSnapshotBeforeUpdate)}X&64&&cz(Z),X&512&&oG(Z,Z.return);break;case 3:if(G=w5(),n9(W,Z),X&64&&(X=Z.updateQueue,X!==null)){if(B=null,Z.child!==null)switch(Z.child.tag){case 27:case 5:B=Z.child.stateNode;break;case 1:B=Z.child.stateNode}try{W0(Z,dz,X,B)}catch(H){a0(Z,Z.return,H)}}W.effectDuration+=k8(G);break;case 26:n9(W,Z),X&512&&oG(Z,Z.return);break;case 27:case 5:n9(W,Z),G===null&&X&4&&nz(Z),X&512&&oG(Z,Z.return);break;case 12:if(X&4){X=w5(),n9(W,Z),W=Z.stateNode,W.effectDuration+=wY(X);try{W0(Z,iz,Z,G,SX,W.effectDuration)}catch(H){a0(Z,Z.return,H)}}else n9(W,Z);break;case 13:n9(W,Z),X&4&&ez(W,Z);break;case 22:if(B=Z.memoizedState!==null||R5,!B){G=G!==null&&G.memoizedState!==null||A1;var J=R5,z=A1;R5=B,(A1=G)&&!z?A5(W,Z,(Z.subtreeFlags&8772)!==0):n9(W,Z),R5=J,A1=z}X&512&&(Z.memoizedProps.mode==="manual"?oG(Z,Z.return):RW(Z,Z.return));break;default:n9(W,Z)}}function rz(W){var G=W.alternate;G!==null&&(W.alternate=null,rz(G)),W.child=null,W.deletions=null,W.sibling=null,W.tag===5&&(G=W.stateNode,G!==null&&yZ(G)),W.stateNode=null,W._debugOwner=null,W.return=null,W.dependencies=null,W.memoizedProps=null,W.memoizedState=null,W.pendingProps=null,W.stateNode=null,W.updateQueue=null}function T5(W,G,Z){for(Z=Z.child;Z!==null;)tz(W,G,Z),Z=Z.sibling}function tz(W,G,Z){if(GW&&typeof GW.onCommitFiberUnmount==="function")try{GW.onCommitFiberUnmount(B7,Z)}catch(J){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",J))}switch(Z.tag){case 26:A1||RW(Z,G),T5(W,G,Z),Z.memoizedState?Z.memoizedState.count--:Z.stateNode&&(Z=Z.stateNode,Z.parentNode.removeChild(Z));break;case 27:A1||RW(Z,G);var X=q1,B=bW;q1=Z.stateNode,T5(W,G,Z),Z=Z.stateNode;for(W=Z.attributes;W.length;)Z.removeAttributeNode(W[0]);yZ(Z),q1=X,bW=B;break;case 5:A1||RW(Z,G);case 6:if(X=q1,B=bW,q1=null,T5(W,G,Z),q1=X,bW=B,q1!==null)if(bW)try{W0(Z,jT,q1,Z.stateNode)}catch(J){a0(Z,G,J)}else try{W0(Z,PT,q1,Z.stateNode)}catch(J){a0(Z,G,J)}break;case 18:q1!==null&&(bW?(W=q1,Z=Z.stateNode,W.nodeType===8?o6(W.parentNode,Z):W.nodeType===1&&o6(W,Z),hY(W)):o6(q1,Z.stateNode));break;case 4:X=q1,B=bW,q1=Z.stateNode.containerInfo,bW=!0,T5(W,G,Z),q1=X,bW=B;break;case 0:case 11:case 14:case 15:A1||iZ(zW,Z,G),A1||E6(Z,G,o1),T5(W,G,Z);break;case 1:A1||(RW(Z,G),X=Z.stateNode,typeof X.componentWillUnmount==="function"&&lz(Z,G,X)),T5(W,G,Z);break;case 21:T5(W,G,Z);break;case 22:A1||RW(Z,G),A1=(X=A1)||Z.memoizedState!==null,T5(W,G,Z),A1=X;break;default:T5(W,G,Z)}}function ez(W,G){if(G.memoizedState===null&&(W=G.alternate,W!==null&&(W=W.memoizedState,W!==null&&(W=W.dehydrated,W!==null))))try{W0(G,xT,W)}catch(Z){a0(G,G.return,Z)}}function rL(W){switch(W.tag){case 13:case 19:var G=W.stateNode;return G===null&&(G=W.stateNode=new U_),G;case 22:return W=W.stateNode,G=W._retryCache,G===null&&(G=W._retryCache=new U_),G;default:throw Error("Unexpected Suspense handler tag ("+W.tag+"). This is a bug in React.")}}function j6(W,G){var Z=rL(W);G.forEach(function(X){var B=UT.bind(null,W,X);if(!Z.has(X)){if(Z.add(X),E9)if(M7!==null&&S7!==null)xY(S7,M7);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");X.then(B,B)}})}function tL(W,G,Z){M7=Z,S7=W,WK(G,W),S7=M7=null}function iW(W,G){var Z=G.deletions;if(Z!==null)for(var X=0;X<Z.length;X++){var B=W,J=G,z=Z[X],H=J;W:for(;H!==null;){switch(H.tag){case 27:case 5:q1=H.stateNode,bW=!1;break W;case 3:q1=H.stateNode.containerInfo,bW=!0;break W;case 4:q1=H.stateNode.containerInfo,bW=!0;break W}H=H.return}if(q1===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");tz(B,J,z),q1=null,bW=!1,B=z,J=B.alternate,J!==null&&(J.return=null),B.return=null}if(G.subtreeFlags&13878)for(G=G.child;G!==null;)WK(G,W),G=G.sibling}function WK(W,G){var{alternate:Z,flags:X}=W;switch(W.tag){case 0:case 11:case 14:case 15:iW(G,W),nW(W),X&4&&(iZ(zW|X9,W,W.return),MY(zW|X9,W),E6(W,W.return,o1|X9));break;case 1:iW(G,W),nW(W),X&512&&(A1||Z===null||RW(Z,Z.return)),X&64&&R5&&(W=W.updateQueue,W!==null&&(X=W.callbacks,X!==null&&(Z=W.shared.hiddenCallbacks,W.shared.hiddenCallbacks=Z===null?X:Z.concat(X))));break;case 26:var B=F9;if(iW(G,W),nW(W),X&512&&(A1||Z===null||RW(Z,Z.return)),X&4)if(G=Z!==null?Z.memoizedState:null,X=W.memoizedState,Z===null)if(X===null)if(W.stateNode===null){W:{X=W.type,Z=W.memoizedProps,G=B.ownerDocument||B;G:switch(X){case"title":if(B=G.getElementsByTagName("title")[0],!B||B[pY]||B[ZW]||B.namespaceURI===Q7||B.hasAttribute("itemprop"))B=G.createElement(X),G.head.insertBefore(B,G.querySelector("head > title"));l1(B,X,Z),B[ZW]=W,D1(B),X=B;break W;case"link":var J=JU("link","href",G).get(X+(Z.href||""));if(J){for(var z=0;z<J.length;z++)if(B=J[z],B.getAttribute("href")===(Z.href==null?null:Z.href)&&B.getAttribute("rel")===(Z.rel==null?null:Z.rel)&&B.getAttribute("title")===(Z.title==null?null:Z.title)&&B.getAttribute("crossorigin")===(Z.crossOrigin==null?null:Z.crossOrigin)){J.splice(z,1);break G}}B=G.createElement(X),l1(B,X,Z),G.head.appendChild(B);break;case"meta":if(J=JU("meta","content",G).get(X+(Z.content||""))){for(z=0;z<J.length;z++)if(B=J[z],y0(Z.content,"content"),B.getAttribute("content")===(Z.content==null?null:""+Z.content)&&B.getAttribute("name")===(Z.name==null?null:Z.name)&&B.getAttribute("property")===(Z.property==null?null:Z.property)&&B.getAttribute("http-equiv")===(Z.httpEquiv==null?null:Z.httpEquiv)&&B.getAttribute("charset")===(Z.charSet==null?null:Z.charSet)){J.splice(z,1);break G}}B=G.createElement(X),l1(B,X,Z),G.head.appendChild(B);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+X+'". This is a bug in React.')}B[ZW]=W,D1(B),X=B}W.stateNode=X}else NU(B,W.type,W.stateNode);else W.stateNode=QU(B,X,W.memoizedProps);else G!==X?(G===null?Z.stateNode!==null&&(Z=Z.stateNode,Z.parentNode.removeChild(Z)):G.count--,X===null?NU(B,W.type,W.stateNode):QU(B,X,W.memoizedProps)):X===null&&W.stateNode!==null&&sz(W,W.memoizedProps,Z.memoizedProps);break;case 27:if(X&4&&W.alternate===null){B=W.stateNode,J=W.memoizedProps;try{for(z=B.firstChild;z;){var{nextSibling:H,nodeName:T}=z;z[pY]||T==="HEAD"||T==="BODY"||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&z.rel.toLowerCase()==="stylesheet"||B.removeChild(z),z=H}W0(W,bT,W.type,J,B,W)}catch(b){a0(W,W.return,b)}}case 5:if(iW(G,W),nW(W),X&512&&(A1||Z===null||RW(Z,Z.return)),W.flags&32){G=W.stateNode;try{W0(W,rK,G)}catch(b){a0(W,W.return,b)}}X&4&&W.stateNode!=null&&(G=W.memoizedProps,sz(W,G,Z!==null?Z.memoizedProps:G)),X&1024&&(tQ=!0,W.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(iW(G,W),nW(W),X&4){if(W.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");X=W.memoizedProps,Z=Z!==null?Z.memoizedProps:X,G=W.stateNode;try{W0(W,DT,G,Z,X)}catch(b){a0(W,W.return,b)}}break;case 3:if(B=w5(),B2=null,J=F9,F9=KX(G.containerInfo),iW(G,W),F9=J,nW(W),X&4&&Z!==null&&Z.memoizedState.isDehydrated)try{W0(W,kT,G.containerInfo)}catch(b){a0(W,W.return,b)}tQ&&(tQ=!1,GK(W)),G.effectDuration+=k8(B);break;case 4:X=F9,F9=KX(W.stateNode.containerInfo),iW(G,W),nW(W),F9=X;break;case 12:X=w5(),iW(G,W),nW(W),W.stateNode.effectDuration+=wY(X);break;case 13:iW(G,W),nW(W),W.child.flags&8192&&W.memoizedState!==null!==(Z!==null&&Z.memoizedState!==null)&&(XJ=r9()),X&4&&(X=W.updateQueue,X!==null&&(W.updateQueue=null,j6(W,X)));break;case 22:X&512&&(A1||Z===null||RW(Z,Z.return)),z=W.memoizedState!==null,H=Z!==null&&Z.memoizedState!==null,T=R5;var I=A1;if(R5=T||z,A1=I||H,iW(G,W),A1=I,R5=T,nW(W),G=W.stateNode,G._current=W,G._visibility&=~GZ,G._visibility|=G._pendingVisibility&GZ,X&8192&&(G._visibility=z?G._visibility&~tY:G._visibility|tY,z&&(G=R5||A1,Z===null||H||G||nZ(W)),W.memoizedProps===null||W.memoizedProps.mode!=="manual"))W:for(Z=null,G=W;;){if(G.tag===5||G.tag===26||G.tag===27){if(Z===null){H=Z=G;try{B=H.stateNode,z?W0(H,CT,B):W0(H,qT,H.stateNode,H.memoizedProps)}catch(b){a0(H,H.return,b)}}}else if(G.tag===6){if(Z===null){H=G;try{J=H.stateNode,z?W0(H,FT,J):W0(H,MT,J,H.memoizedProps)}catch(b){a0(H,H.return,b)}}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===W)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===W)break W;for(;G.sibling===null;){if(G.return===null||G.return===W)break W;Z===G&&(Z=null),G=G.return}Z===G&&(Z=null),G.sibling.return=G.return,G=G.sibling}X&4&&(X=W.updateQueue,X!==null&&(Z=X.retryQueue,Z!==null&&(X.retryQueue=null,j6(W,Z))));break;case 19:iW(G,W),nW(W),X&4&&(X=W.updateQueue,X!==null&&(W.updateQueue=null,j6(W,X)));break;case 21:break;default:iW(G,W),nW(W)}}function nW(W){var G=W.flags;if(G&2){try{W0(W,oL,W)}catch(Z){a0(W,W.return,Z)}W.flags&=-3}G&4096&&(W.flags&=-4097)}function GK(W){if(W.subtreeFlags&1024)for(W=W.child;W!==null;){var G=W;GK(G),G.tag===5&&G.flags&1024&&G.stateNode.reset(),W=W.sibling}}function eL(W,G,Z){M7=Z,S7=G,az(G,W.alternate,W),S7=M7=null}function n9(W,G){if(G.subtreeFlags&8772)for(G=G.child;G!==null;)az(W,G.alternate,G),G=G.sibling}function ZK(W){switch(W.tag){case 0:case 11:case 14:case 15:E6(W,W.return,o1),nZ(W);break;case 1:RW(W,W.return);var G=W.stateNode;typeof G.componentWillUnmount==="function"&&lz(W,W.return,G),nZ(W);break;case 26:case 27:case 5:RW(W,W.return),nZ(W);break;case 22:RW(W,W.return),W.memoizedState===null&&nZ(W);break;default:nZ(W)}}function nZ(W){for(W=W.child;W!==null;)ZK(W),W=W.sibling}function YK(W,G,Z,X){var B=Z.flags;switch(Z.tag){case 0:case 11:case 15:A5(W,Z,X),uz(Z,o1);break;case 1:if(A5(W,Z,X),G=Z.stateNode,typeof G.componentDidMount==="function"&&W0(Z,gQ,Z,G),G=Z.updateQueue,G!==null){W=Z.stateNode;try{W0(Z,cL,G,W)}catch(J){a0(Z,Z.return,J)}}X&&B&64&&cz(Z),oG(Z,Z.return);break;case 26:case 27:case 5:A5(W,Z,X),X&&G===null&&B&4&&nz(Z),oG(Z,Z.return);break;case 12:if(X&&B&4){B=w5(),A5(W,Z,X),X=Z.stateNode,X.effectDuration+=wY(B);try{W0(Z,iz,Z,G,SX,X.effectDuration)}catch(J){a0(Z,Z.return,J)}}else A5(W,Z,X);break;case 13:A5(W,Z,X),X&&B&4&&ez(W,Z);break;case 22:Z.memoizedState===null&&A5(W,Z,X),oG(Z,Z.return);break;default:A5(W,Z,X)}}function A5(W,G,Z){Z=Z&&(G.subtreeFlags&8772)!==0;for(G=G.child;G!==null;)YK(W,G.alternate,G,Z),G=G.sibling}function C6(W,G){var Z=null;W!==null&&W.memoizedState!==null&&W.memoizedState.cachePool!==null&&(Z=W.memoizedState.cachePool.pool),W=null,G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(W=G.memoizedState.cachePool.pool),W!==Z&&(W!=null&&pG(W),Z!=null&&AY(Z))}function F6(W,G){W=null,G.alternate!==null&&(W=G.alternate.memoizedState.cache),G=G.memoizedState.cache,G!==W&&(pG(G),W!=null&&AY(W))}function ZG(W,G,Z,X){if(G.subtreeFlags&10256)for(G=G.child;G!==null;)XK(W,G,Z,X),G=G.sibling}function XK(W,G,Z,X){var B=G.flags;switch(G.tag){case 0:case 11:case 15:ZG(W,G,Z,X),B&2048&&pz(G,R1|X9);break;case 3:var J=w5();ZG(W,G,Z,X),B&2048&&(Z=null,G.alternate!==null&&(Z=G.alternate.memoizedState.cache),G=G.memoizedState.cache,G!==Z&&(pG(G),Z!=null&&AY(Z))),W.passiveEffectDuration+=k8(J);break;case 12:if(B&2048){J=w5(),ZG(W,G,Z,X),W=G.stateNode,W.passiveEffectDuration+=wY(J);try{W0(G,sL,G,G.alternate,SX,W.passiveEffectDuration)}catch(z){a0(G,G.return,z)}}else ZG(W,G,Z,X);break;case 23:break;case 22:J=G.stateNode,G.memoizedState!==null?J._visibility&j5?ZG(W,G,Z,X):SY(W,G):J._visibility&j5?ZG(W,G,Z,X):(J._visibility|=j5,sZ(W,G,Z,X,(G.subtreeFlags&10256)!==0)),B&2048&&C6(G.alternate,G);break;case 24:ZG(W,G,Z,X),B&2048&&F6(G.alternate,G);break;default:ZG(W,G,Z,X)}}function sZ(W,G,Z,X,B){B=B&&(G.subtreeFlags&10256)!==0;for(G=G.child;G!==null;)BK(W,G,Z,X,B),G=G.sibling}function BK(W,G,Z,X,B){var J=G.flags;switch(G.tag){case 0:case 11:case 15:sZ(W,G,Z,X,B),pz(G,R1);break;case 23:break;case 22:var z=G.stateNode;G.memoizedState!==null?z._visibility&j5?sZ(W,G,Z,X,B):SY(W,G):(z._visibility|=j5,sZ(W,G,Z,X,B)),B&&J&2048&&C6(G.alternate,G);break;case 24:sZ(W,G,Z,X,B),B&&J&2048&&F6(G.alternate,G);break;default:sZ(W,G,Z,X,B)}}function SY(W,G){if(G.subtreeFlags&10256)for(G=G.child;G!==null;){var Z=W,X=G,B=X.flags;switch(X.tag){case 22:SY(Z,X),B&2048&&C6(X.alternate,X);break;case 24:SY(Z,X),B&2048&&F6(X.alternate,X);break;default:SY(Z,X)}G=G.sibling}}function oZ(W){if(W.subtreeFlags&K4)for(W=W.child;W!==null;)QK(W),W=W.sibling}function QK(W){switch(W.tag){case 26:oZ(W),W.flags&K4&&W.memoizedState!==null&&gT(F9,W.memoizedState,W.memoizedProps);break;case 5:oZ(W);break;case 3:case 4:var G=F9;F9=KX(W.stateNode.containerInfo),oZ(W),F9=G;break;case 22:W.memoizedState===null&&(G=W.alternate,G!==null&&G.memoizedState!==null?(G=K4,K4=16777216,oZ(W),K4=G):oZ(W));break;default:oZ(W)}}function JK(W){var G=W.alternate;if(G!==null&&(W=G.child,W!==null)){G.child=null;do G=W.sibling,W.sibling=null,W=G;while(W!==null)}}function RY(W){var G=W.deletions;if((W.flags&16)!==0){if(G!==null)for(var Z=0;Z<G.length;Z++){var X=G[Z];d1=X,zK(X,W)}JK(W)}if(W.subtreeFlags&10256)for(W=W.child;W!==null;)NK(W),W=W.sibling}function NK(W){switch(W.tag){case 0:case 11:case 15:RY(W),W.flags&2048&&I6(W,W.return,R1|X9);break;case 3:var G=w5();RY(W),W.stateNode.passiveEffectDuration+=k8(G);break;case 12:G=w5(),RY(W),W.stateNode.passiveEffectDuration+=wY(G);break;case 22:G=W.stateNode,W.memoizedState!==null&&G._visibility&j5&&(W.return===null||W.return.tag!==13)?(G._visibility&=~j5,YX(W)):RY(W);break;default:RY(W)}}function YX(W){var G=W.deletions;if((W.flags&16)!==0){if(G!==null)for(var Z=0;Z<G.length;Z++){var X=G[Z];d1=X,zK(X,W)}JK(W)}for(W=W.child;W!==null;)$K(W),W=W.sibling}function $K(W){switch(W.tag){case 0:case 11:case 15:I6(W,W.return,R1),YX(W);break;case 22:var G=W.stateNode;G._visibility&j5&&(G._visibility&=~j5,YX(W));break;default:YX(W)}}function zK(W,G){for(;d1!==null;){var Z=d1,X=Z;switch(X.tag){case 0:case 11:case 15:I6(X,G,R1);break;case 23:case 22:X.memoizedState!==null&&X.memoizedState.cachePool!==null&&(X=X.memoizedState.cachePool.pool,X!=null&&pG(X));break;case 24:AY(X.memoizedState.cache)}if(X=Z.child,X!==null)X.return=Z,d1=X;else W:for(Z=W;d1!==null;){X=d1;var{sibling:B,return:J}=X;if(rz(X),X===Z){d1=null;break W}if(B!==null){B.return=J,d1=B;break W}d1=J}}}function WT(W,G,Z,X){this.tag=W,this.key=Z,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=G,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=X,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,__||typeof Object.preventExtensions!=="function"||Object.preventExtensions(this)}function q6(W){return W=W.prototype,!(!W||!W.isReactComponent)}function YG(W,G){var Z=W.alternate;switch(Z===null?(Z=L(W.tag,G,W.key,W.mode),Z.elementType=W.elementType,Z.type=W.type,Z.stateNode=W.stateNode,Z._debugOwner=W._debugOwner,Z._debugHookTypes=W._debugHookTypes,Z.alternate=W,W.alternate=Z):(Z.pendingProps=G,Z.type=W.type,Z.flags=0,Z.subtreeFlags=0,Z.deletions=null,Z.actualDuration=-0,Z.actualStartTime=-1.1),Z.flags=W.flags&31457280,Z.childLanes=W.childLanes,Z.lanes=W.lanes,Z.child=W.child,Z.memoizedProps=W.memoizedProps,Z.memoizedState=W.memoizedState,Z.updateQueue=W.updateQueue,G=W.dependencies,Z.dependencies=G===null?null:{lanes:G.lanes,firstContext:G.firstContext,_debugThenableState:G._debugThenableState},Z.sibling=W.sibling,Z.index=W.index,Z.ref=W.ref,Z.refCleanup=W.refCleanup,Z.selfBaseDuration=W.selfBaseDuration,Z.treeBaseDuration=W.treeBaseDuration,Z._debugInfo=W._debugInfo,Z._debugNeedsRemount=W._debugNeedsRemount,Z.tag){case 0:case 15:Z.type=gG(W.type);break;case 1:Z.type=gG(W.type);break;case 11:Z.type=AB(W.type)}return Z}function KK(W,G){W.flags&=31457282;var Z=W.alternate;return Z===null?(W.childLanes=0,W.lanes=G,W.child=null,W.subtreeFlags=0,W.memoizedProps=null,W.memoizedState=null,W.updateQueue=null,W.dependencies=null,W.stateNode=null,W.selfBaseDuration=0,W.treeBaseDuration=0):(W.childLanes=Z.childLanes,W.lanes=Z.lanes,W.child=Z.child,W.subtreeFlags=0,W.deletions=null,W.memoizedProps=Z.memoizedProps,W.memoizedState=Z.memoizedState,W.updateQueue=Z.updateQueue,W.type=Z.type,G=Z.dependencies,W.dependencies=G===null?null:{lanes:G.lanes,firstContext:G.firstContext,_debugThenableState:G._debugThenableState},W.selfBaseDuration=Z.selfBaseDuration,W.treeBaseDuration=Z.treeBaseDuration),W}function M6(W,G,Z,X,B,J){var z=0,H=W;if(typeof W==="function")q6(W)&&(z=1),H=gG(H);else if(typeof W==="string")z=HW(),z=fT(W,Z,z)?26:W==="html"||W==="head"||W==="body"?27:5;else W:switch(W){case Y7:return aG(Z.children,B,J,G);case LX:z=8,B|=YW,B|=P9;break;case BQ:return W=Z,X=B,typeof W.id!=="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof W.id),G=L(12,W,G,X|n1),G.elementType=BQ,G.lanes=J,G.stateNode={effectDuration:0,passiveEffectDuration:0},G;case JQ:return G=L(13,Z,G,B),G.elementType=JQ,G.lanes=J,G;case NQ:return G=L(19,Z,G,B),G.elementType=NQ,G.lanes=J,G;case IU:return UK(Z,B,J,G);default:if(typeof W==="object"&&W!==null)switch(W.$$typeof){case aT:case a9:z=10;break W;case QQ:z=9;break W;case mY:z=11,H=AB(H);break W;case TX:z=14;break W;case xW:z=16,H=null;break W}if(H="",W===void 0||typeof W==="object"&&W!==null&&Object.keys(W).length===0)H+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";W===null?Z="null":i1(W)?Z="array":W!==void 0&&W.$$typeof===BG?(Z="<"+(f(W.type)||"Unknown")+" />",H=" Did you accidentally export a JSX literal instead of a component?"):Z=typeof W,(z=X?l(X):null)&&(H+=`

Check the render method of \``+z+"`."),z=29,Z=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(Z+"."+H)),H=null}return G=L(z,Z,G,B),G.elementType=W,G.type=H,G.lanes=J,G._debugOwner=X,G}function XX(W,G,Z){return G=M6(W.type,W.key,W.props,W._owner,G,Z),G._debugOwner=W._owner,G}function aG(W,G,Z,X){return W=L(7,W,X,G),W.lanes=Z,W}function UK(W,G,Z,X){W=L(22,W,X,G),W.elementType=IU,W.lanes=Z;var B={_visibility:tY,_pendingVisibility:tY,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var J=B,z=J._current;if(z===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((J._pendingVisibility&GZ)===0){var H=e1(z,2);H!==null&&(J._pendingVisibility|=GZ,O1(H,z,2))}},attach:function(){var J=B,z=J._current;if(z===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((J._pendingVisibility&GZ)!==0){var H=e1(z,2);H!==null&&(J._pendingVisibility&=~GZ,O1(H,z,2))}}};return W.stateNode=B,W}function S6(W,G,Z){return W=L(6,W,null,G),W.lanes=Z,W}function R6(W,G,Z){return G=L(4,W.children!==null?W.children:[],W.key,G),G.lanes=Z,G.stateNode={containerInfo:W.containerInfo,pendingChildren:null,implementation:W.implementation},G}function E5(W){W.flags|=4}function HK(W,G){if(G.type!=="stylesheet"||(G.state.loading&Q9)!==AZ)W.flags&=-16777217;else if(W.flags|=16777216,!$U(G)){if(G=Z9.current,G!==null&&((M0&4194176)===M0?Z5!==null:(M0&62914560)!==M0&&(M0&536870912)===0||G!==Z5))throw B4=fQ,AH;W.flags|=8192}}function BX(W,G){G!==null&&(W.flags|=4),W.flags&16384&&(G=W.tag!==22?OW():536870912,W.lanes|=G,HZ|=G)}function kY(W,G){if(!v0)switch(W.tailMode){case"hidden":G=W.tail;for(var Z=null;G!==null;)G.alternate!==null&&(Z=G),G=G.sibling;Z===null?W.tail=null:Z.sibling=null;break;case"collapsed":Z=W.tail;for(var X=null;Z!==null;)Z.alternate!==null&&(X=Z),Z=Z.sibling;X===null?G||W.tail===null?W.tail=null:W.tail.sibling=null:X.sibling=null}}function _1(W){var G=W.alternate!==null&&W.alternate.child===W.child,Z=0,X=0;if(G)if((W.mode&n1)!==X1){for(var{selfBaseDuration:B,child:J}=W;J!==null;)Z|=J.lanes|J.childLanes,X|=J.subtreeFlags&31457280,X|=J.flags&31457280,B+=J.treeBaseDuration,J=J.sibling;W.treeBaseDuration=B}else for(B=W.child;B!==null;)Z|=B.lanes|B.childLanes,X|=B.subtreeFlags&31457280,X|=B.flags&31457280,B.return=W,B=B.sibling;else if((W.mode&n1)!==X1){B=W.actualDuration,J=W.selfBaseDuration;for(var z=W.child;z!==null;)Z|=z.lanes|z.childLanes,X|=z.subtreeFlags,X|=z.flags,B+=z.actualDuration,J+=z.treeBaseDuration,z=z.sibling;W.actualDuration=B,W.treeBaseDuration=J}else for(B=W.child;B!==null;)Z|=B.lanes|B.childLanes,X|=B.subtreeFlags,X|=B.flags,B.return=W,B=B.sibling;return W.subtreeFlags|=X,W.childLanes=Z,G}function GT(W,G,Z){var X=G.pendingProps;switch(jB(G),G.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _1(G),null;case 1:return _1(G),null;case 3:if(X=G.stateNode,Z=null,W!==null&&(Z=W.memoizedState.cache),G.memoizedState.cache!==Z&&(G.flags|=2048),L5(k1,G),uW(G),X.pendingContext&&(X.context=X.pendingContext,X.pendingContext=null),W===null||W.child===null)OY(G)?(y$(),E5(G)):W===null||W.memoizedState.isDehydrated&&(G.flags&256)===0||(G.flags|=1024,C9!==null&&(k6(C9),C9=null));return _1(G),null;case 26:return Z=G.memoizedState,W===null?(E5(G),Z!==null?(_1(G),HK(G,Z)):(_1(G),G.flags&=-16777217)):Z?Z!==W.memoizedState?(E5(G),_1(G),HK(G,Z)):(_1(G),G.flags&=-16777217):(W.memoizedProps!==X&&E5(G),_1(G),G.flags&=-16777217),null;case 27:U9(G),Z=B1(JG.current);var B=G.type;if(W!==null&&G.stateNode!=null)W.memoizedProps!==X&&E5(G);else{if(!X){if(G.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return _1(G),null}W=HW(),OY(G)?v$(G,W):(W=ZU(B,X,Z,W,!0),G.stateNode=W,E5(G))}return _1(G),null;case 5:if(U9(G),Z=G.type,W!==null&&G.stateNode!=null)W.memoizedProps!==X&&E5(G);else{if(!X){if(G.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return _1(G),null}if(B=HW(),OY(G))v$(G,B);else{switch(W=B1(JG.current),wB(Z,B.ancestorInfo),B=B.context,W=zX(W),B){case f7:W=W.createElementNS(Q7,Z);break;case X2:W=W.createElementNS(jX,Z);break;default:switch(Z){case"svg":W=W.createElementNS(Q7,Z);break;case"math":W=W.createElementNS(jX,Z);break;case"script":W=W.createElement("div"),W.innerHTML="<script></script>",W=W.removeChild(W.firstChild);break;case"select":W=typeof X.is==="string"?W.createElement("select",{is:X.is}):W.createElement("select"),X.multiple?W.multiple=!0:X.size&&(W.size=X.size);break;default:W=typeof X.is==="string"?W.createElement(Z,{is:X.is}):W.createElement(Z),Z.indexOf("-")===-1&&(Z!==Z.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",Z),Object.prototype.toString.call(W)!=="[object HTMLUnknownElement]"||P5.call(q_,Z)||(q_[Z]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",Z)))}}W[ZW]=G,W[EW]=X;W:for(B=G.child;B!==null;){if(B.tag===5||B.tag===6)W.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===G)break W;for(;B.sibling===null;){if(B.return===null||B.return===G)break W;B=B.return}B.sibling.return=B.return,B=B.sibling}G.stateNode=W;W:switch(l1(W,Z,X),Z){case"button":case"input":case"select":case"textarea":W=!!X.autoFocus;break W;case"img":W=!0;break W;default:W=!1}W&&E5(G)}}return _1(G),G.flags&=-16777217,null;case 6:if(W&&G.stateNode!=null)W.memoizedProps!==X&&E5(G);else{if(typeof X!=="string"&&G.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(W=B1(JG.current),Z=HW(),OY(G)){W=G.stateNode,X=G.memoizedProps,B=!q5,Z=null;var J=$W;if(J!==null)switch(J.tag){case 3:B&&(B=eK(W,X,Z),B!==null&&(dG(G,0).serverProps=B));break;case 27:case 5:Z=J.memoizedProps,B&&(B=eK(W,X,Z),B!==null&&(dG(G,0).serverProps=B))}W[ZW]=G,W=W.nodeValue===X||Z!==null&&Z.suppressHydrationWarning===!0||pK(W.nodeValue,X)?!0:!1,W||uG(G)}else Z=Z.ancestorInfo.current,Z!=null&&j8(X,Z.tag),W=zX(W).createTextNode(X),W[ZW]=G,G.stateNode=W}return _1(G),null;case 13:if(X=G.memoizedState,W===null||W.memoizedState!==null&&W.memoizedState.dehydrated!==null){if(B=OY(G),X!==null&&X.dehydrated!==null){if(W===null){if(!B)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(B=G.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");B[ZW]=G,_1(G),(G.mode&n1)!==X1&&X!==null&&(B=G.child,B!==null&&(G.treeBaseDuration-=B.treeBaseDuration))}else y$(),VY(),(G.flags&128)===0&&(G.memoizedState=null),G.flags|=4,_1(G),(G.mode&n1)!==X1&&X!==null&&(B=G.child,B!==null&&(G.treeBaseDuration-=B.treeBaseDuration));B=!1}else C9!==null&&(k6(C9),C9=null),B=!0;if(!B){if(G.flags&256)return O5(G),G;return O5(G),null}}if(O5(G),(G.flags&128)!==0)return G.lanes=Z,(G.mode&n1)!==X1&&x8(G),G;return X=X!==null,W=W!==null&&W.memoizedState!==null,X&&(Z=G.child,B=null,Z.alternate!==null&&Z.alternate.memoizedState!==null&&Z.alternate.memoizedState.cachePool!==null&&(B=Z.alternate.memoizedState.cachePool.pool),J=null,Z.memoizedState!==null&&Z.memoizedState.cachePool!==null&&(J=Z.memoizedState.cachePool.pool),J!==B&&(Z.flags|=2048)),X!==W&&X&&(G.child.flags|=8192),BX(G,G.updateQueue),_1(G),(G.mode&n1)!==X1&&X&&(W=G.child,W!==null&&(G.treeBaseDuration-=W.treeBaseDuration)),null;case 4:return uW(G),W===null&&u6(G.stateNode.containerInfo),_1(G),null;case 10:return L5(G.type,G),_1(G),null;case 19:if(d0(S1,G),B=G.memoizedState,B===null)return _1(G),null;if(X=(G.flags&128)!==0,J=B.rendering,J===null)if(X)kY(B,!1);else{if(E1!==x5||W!==null&&(W.flags&128)!==0)for(W=G.child;W!==null;){if(J=m8(W),J!==null){G.flags|=128,kY(B,!1),W=J.updateQueue,G.updateQueue=W,BX(G,W),G.subtreeFlags=0,W=Z;for(X=G.child;X!==null;)KK(X,W),X=X.sibling;return R0(S1,S1.current&E7|J4,G),G.child}W=W.sibling}B.tail!==null&&r9()>lX&&(G.flags|=128,X=!0,kY(B,!1),G.lanes=4194304)}else{if(!X)if(W=m8(J),W!==null){if(G.flags|=128,X=!0,W=W.updateQueue,G.updateQueue=W,BX(G,W),kY(B,!0),B.tail===null&&B.tailMode==="hidden"&&!J.alternate&&!v0)return _1(G),null}else 2*r9()-B.renderingStartTime>lX&&Z!==536870912&&(G.flags|=128,X=!0,kY(B,!1),G.lanes=4194304);B.isBackwards?(J.sibling=G.child,G.child=J):(W=B.last,W!==null?W.sibling=J:G.child=J,B.last=J)}if(B.tail!==null)return W=B.tail,B.rendering=W,B.tail=W.sibling,B.renderingStartTime=r9(),W.sibling=null,Z=S1.current,Z=X?Z&E7|J4:Z&E7,R0(S1,Z,G),W;return _1(G),null;case 22:case 23:return O5(G),qB(G),X=G.memoizedState!==null,W!==null?W.memoizedState!==null!==X&&(G.flags|=8192):X&&(G.flags|=8192),X?(Z&536870912)!==0&&(G.flags&128)===0&&(_1(G),G.subtreeFlags&6&&(G.flags|=8192)):_1(G),X=G.updateQueue,X!==null&&BX(G,X.retryQueue),X=null,W!==null&&W.memoizedState!==null&&W.memoizedState.cachePool!==null&&(X=W.memoizedState.cachePool.pool),Z=null,G.memoizedState!==null&&G.memoizedState.cachePool!==null&&(Z=G.memoizedState.cachePool.pool),Z!==X&&(G.flags|=2048),W!==null&&d0(JZ,G),null;case 24:return X=null,W!==null&&(X=W.memoizedState.cache),G.memoizedState.cache!==X&&(G.flags|=2048),L5(k1,G),_1(G),null;case 25:return null}throw Error("Unknown unit of work tag ("+G.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function ZT(W,G){switch(jB(G),G.tag){case 1:return W=G.flags,W&65536?(G.flags=W&-65537|128,(G.mode&n1)!==X1&&x8(G),G):null;case 3:return L5(k1,G),uW(G),W=G.flags,(W&65536)!==0&&(W&128)===0?(G.flags=W&-65537|128,G):null;case 26:case 27:case 5:return U9(G),null;case 13:if(O5(G),W=G.memoizedState,W!==null&&W.dehydrated!==null){if(G.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");VY()}return W=G.flags,W&65536?(G.flags=W&-65537|128,(G.mode&n1)!==X1&&x8(G),G):null;case 19:return d0(S1,G),null;case 4:return uW(G),null;case 10:return L5(G.type,G),null;case 22:case 23:return O5(G),qB(G),W!==null&&d0(JZ,G),W=G.flags,W&65536?(G.flags=W&-65537|128,(G.mode&n1)!==X1&&x8(G),G):null;case 24:return L5(k1,G),null;case 25:return null;default:return null}}function _K(W,G){switch(jB(G),G.tag){case 3:L5(k1,G),uW(G);break;case 26:case 27:case 5:U9(G);break;case 4:uW(G);break;case 13:O5(G);break;case 19:d0(S1,G);break;case 10:L5(G.type,G);break;case 22:case 23:O5(G),qB(G),W!==null&&d0(JZ,G);break;case 24:L5(k1,G)}}function YT(){_E.forEach(function(W){return W()})}function wK(){var W=typeof IS_REACT_ACT_ENVIRONMENT!=="undefined"?IS_REACT_ACT_ENVIRONMENT:void 0;return W||g.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),W}function kW(W){if(($1&UW)!==vW&&M0!==0)return M0&-M0;var G=g.T;return G!==null?(G._updatedFibers||(G._updatedFibers=new Set),G._updatedFibers.add(W),W=QZ,W!==0?W:m6()):I8()}function OK(){yW===0&&(yW=(M0&536870912)===0||v0?w9():536870912);var W=Z9.current;return W!==null&&(W.flags|=32),yW}function O1(W,G,Z){if(b7&&console.error("useInsertionEffect must not schedule updates."),NJ&&(nX=!0),W===Z1&&Y1===UZ||W.cancelPendingCommit!==null)rZ(W,0),I5(W,M0,yW,!1);if(y1(W,Z),($1&UW)!==0&&W===Z1){if(aW)switch(G.tag){case 0:case 11:case 15:W=F0&&p(F0)||"Unknown",I_.has(W)||(I_.add(W),G=p(G)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",G,W,W));break;case 1:E_||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),E_=!0)}}else E9&&JY(W,G,Z),_T(G),W===Z1&&(($1&UW)===vW&&(LG|=Z),E1===KZ&&I5(W,M0,yW,!1)),s9(W)}function VK(W,G,Z){if(($1&(UW|k5))!==vW)throw Error("Should not already be working.");var X=!Z&&(G&60)===0&&(G&W.expiredLanes)===0||G1(W,G),B=X?BT(W,G):v6(W,G,!0),J=X;do{if(B===x5){x7&&!X&&I5(W,G,0,!1);break}else if(B===pX)I5(W,G,0,!b5);else{if(Z=W.current.alternate,J&&!XT(Z)){B=v6(W,G,!1),J=!1;continue}if(B===R7){if(J=G,W.errorRecoveryDisabledLanes&J)var z=0;else z=W.pendingLanes&-536870913,z=z!==0?z:z&536870912?536870912:0;if(z!==0){G=z;W:{B=W;var H=z;z=V4;var T=B.current.memoizedState.isDehydrated;if(T&&(rZ(B,H).flags|=256),H=v6(B,H,!1),H!==R7){if(ZJ&&!T){B.errorRecoveryDisabledLanes|=J,LG|=J,B=KZ;break W}B=q9,q9=z,B!==null&&k6(B)}B=H}if(J=!1,B!==R7)continue}}if(B===H4){rZ(W,0),I5(W,G,0,!0);break}W:{switch(X=W,B){case x5:case H4:throw Error("Root did not complete. This is a bug in React.");case KZ:if((G&4194176)===G){I5(X,G,yW,!b5);break W}break;case R7:q9=null;break;case eQ:case O_:break;default:throw Error("Unknown root exit status.")}if(X.finishedWork=Z,X.finishedLanes=G,g.actQueue!==null)f6(X,q9,L4,cX,yW,LG,HZ,A_,xQ,0);else{if((G&62914560)===G&&(B=XJ+L_-r9(),10<B)){if(I5(X,G,yW,!b5),qW(X,0)!==0)break W;X.timeoutHandle=M_(LK.bind(null,X,Z,q9,L4,cX,G,yW,LG,HZ,b5,TE,xQ,0),B);break W}LK(X,Z,q9,L4,cX,G,yW,LG,HZ,b5,A_,xQ,0)}}}break}while(1);s9(W)}function k6(W){q9===null?q9=W:q9.push.apply(q9,W)}function LK(W,G,Z,X,B,J,z,H,T,I,b,d,v){var c=G.subtreeFlags;if(c&8192||(c&16785408)===16785408){if(P4={stylesheets:null,count:0,unsuspend:yT},QK(G),G=hT(),G!==null){W.cancelPendingCommit=G(f6.bind(null,W,Z,X,B,z,H,T,LE,d,v)),I5(W,J,z,!I);return}}f6(W,Z,X,B,z,H,T,b,d,v)}function XT(W){for(var G=W;;){var Z=G.tag;if((Z===0||Z===11||Z===15)&&G.flags&16384&&(Z=G.updateQueue,Z!==null&&(Z=Z.stores,Z!==null)))for(var X=0;X<Z.length;X++){var B=Z[X],J=B.getSnapshot;B=B.value;try{if(!NW(J(),B))return!1}catch(z){return!1}}if(Z=G.child,G.subtreeFlags&16384&&Z!==null)Z.return=G,G=Z;else{if(G===W)break;for(;G.sibling===null;){if(G.return===null||G.return===W)return!0;G=G.return}G.sibling.return=G.return,G=G.sibling}}return!0}function I5(W,G,Z,X){G&=~YJ,G&=~LG,W.suspendedLanes|=G,W.pingedLanes&=~G,X&&(W.warmLanes|=G),X=W.expirationTimes;for(var B=G;0<B;){var J=31-QW(B),z=1<<J;X[J]=-1,B&=~z}Z!==0&&QY(W,Z,G)}function aZ(){return($1&(UW|k5))===vW?(bY(0,!1),!1):!0}function x6(){if(F0!==null){if(Y1===PW)var W=F0.return;else W=F0,t8(),fB(W),T7=null,Q4=0,W=F0;for(;W!==null;)_K(W.alternate,W),W=W.return;F0=null}}function rZ(W,G){W.finishedWork=null,W.finishedLanes=0;var Z=W.timeoutHandle;Z!==TJ&&(W.timeoutHandle=TJ,FE(Z)),Z=W.cancelPendingCommit,Z!==null&&(W.cancelPendingCommit=null,Z()),x6(),Z1=W,F0=Z=YG(W.current,null),M0=G,Y1=PW,fW=null,b5=!1,x7=G1(W,G),ZJ=!1,E1=x5,HZ=yW=YJ=LG=VG=0,q9=V4=null,cX=!1,(G&8)!==0&&(G|=G&32);var X=W.entangledLanes;if(X!==0)for(W=W.entanglements,X&=G;0<X;){var B=31-QW(X),J=1<<B;G|=W[B],X&=~J}return X5=G,M8(),j9.discardPendingWarnings(),Z}function TK(W,G){V0=null,g.H=Y5,g.getCurrentStack=null,aW=!1,WW=null,G===fX?(G=d$(),Y1=w4):G===AH?(G=d$(),Y1=V_):Y1=G===eH?GJ:G!==null&&typeof G==="object"&&typeof G.then==="function"?k7:_4,fW=G;var Z=F0;if(Z===null)E1=H4,r8(W,SW(G,W.current));else switch(Z.mode&n1&&DB(Z),Z0(),Y1){case _4:e!==null&&typeof e.markComponentErrored==="function"&&e.markComponentErrored(Z,G,M0);break;case UZ:case w4:case k7:case O4:e!==null&&typeof e.markComponentSuspended==="function"&&e.markComponentSuspended(Z,G,M0)}}function AK(){var W=g.H;return g.H=Y5,W===null?Y5:W}function EK(){var W=g.A;return g.A=HE,W}function b6(){E1=KZ,b5||(M0&4194176)!==M0&&Z9.current!==null||(x7=!0),(VG&134217727)===0&&(LG&134217727)===0||Z1===null||I5(Z1,M0,yW,!1)}function v6(W,G,Z){var X=$1;$1|=UW;var B=AK(),J=EK();if(Z1!==W||M0!==G){if(E9){var z=W.memoizedUpdaters;0<z.size&&(xY(W,M0),z.clear()),vZ(W,G)}L4=null,rZ(W,G)}Y0(G),G=!1,z=E1;W:do try{if(Y1!==PW&&F0!==null){var H=F0,T=fW;switch(Y1){case GJ:x6(),z=pX;break W;case w4:case UZ:case k7:Z9.current===null&&(G=!0);var I=Y1;if(Y1=PW,fW=null,tZ(W,H,T,I),Z&&x7){z=x5;break W}break;default:I=Y1,Y1=PW,fW=null,tZ(W,H,T,I)}}IK(),z=E1;break}catch(b){TK(W,b)}while(1);return G&&W.shellSuspendCounter++,t8(),$1=X,g.H=B,g.A=J,k0(),F0===null&&(Z1=null,M0=0,M8()),z}function IK(){for(;F0!==null;)DK(F0)}function BT(W,G){var Z=$1;$1|=UW;var X=AK(),B=EK();if(Z1!==W||M0!==G){if(E9){var J=W.memoizedUpdaters;0<J.size&&(xY(W,M0),J.clear()),vZ(W,G)}L4=null,lX=r9()+T_,rZ(W,G)}else x7=G1(W,G);Y0(G);W:do try{if(Y1!==PW&&F0!==null)G:switch(G=F0,J=fW,Y1){case _4:Y1=PW,fW=null,tZ(W,G,J,_4);break;case UZ:if(h$(J)){Y1=PW,fW=null,PK(G);break}G=function(){Y1===UZ&&Z1===W&&(Y1=O4),s9(W)},J.then(G,G);break W;case w4:Y1=O4;break W;case V_:Y1=WJ;break W;case O4:h$(J)?(Y1=PW,fW=null,PK(G)):(Y1=PW,fW=null,tZ(W,G,J,O4));break;case WJ:var z=null;switch(F0.tag){case 26:z=F0.memoizedState;case 5:case 27:var H=F0;if(z?$U(z):1){Y1=PW,fW=null;var T=H.sibling;if(T!==null)F0=T;else{var I=H.return;I!==null?(F0=I,QX(I)):F0=null}break G}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}Y1=PW,fW=null,tZ(W,G,J,WJ);break;case k7:Y1=PW,fW=null,tZ(W,G,J,k7);break;case GJ:x6(),E1=pX;break W;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}g.actQueue!==null?IK():QT();break}catch(b){TK(W,b)}while(1);if(t8(),g.H=X,g.A=B,$1=Z,F0!==null)return e!==null&&typeof e.markRenderYielded==="function"&&e.markRenderYielded(),x5;return k0(),Z1=null,M0=0,M8(),E1}function QT(){for(;F0!==null&&!GA();)DK(F0)}function DK(W){var G=W.alternate;(W.mode&n1)!==X1?(IB(W),G=W0(W,O6,G,W,X5),DB(W)):G=W0(W,O6,G,W,X5),W.memoizedProps=W.pendingProps,G===null?QX(W):F0=G}function PK(W){var G=W0(W,JT,W);W.memoizedProps=W.pendingProps,G===null?QX(W):F0=G}function JT(W){var G=W.alternate,Z=(W.mode&n1)!==X1;switch(Z&&IB(W),W.tag){case 15:case 0:G=kz(G,W,W.pendingProps,W.type,void 0,M0);break;case 11:G=kz(G,W,W.pendingProps,W.type.render,W.ref,M0);break;case 5:fB(W);default:_K(G,W),W=F0=KK(W,X5),G=O6(G,W,X5)}return Z&&DB(W),G}function tZ(W,G,Z,X){t8(),fB(G),T7=null,Q4=0;var B=G.return;try{if(uL(W,B,G,Z,M0)){E1=H4,r8(W,SW(Z,W.current)),F0=null;return}}catch(J){if(B!==null)throw F0=B,J;E1=H4,r8(W,SW(Z,W.current)),F0=null;return}if(G.flags&32768){if(v0||X===_4)W=!0;else if(x7||(M0&536870912)!==0)W=!1;else if(b5=W=!0,X===UZ||X===w4||X===k7)X=Z9.current,X!==null&&X.tag===13&&(X.flags|=16384);jK(G,W)}else QX(G)}function QX(W){var G=W;do{if((G.flags&32768)!==0){jK(G,b5);return}var Z=G.alternate;if(W=G.return,IB(G),Z=W0(G,GT,Z,G,X5),(G.mode&n1)!==X1&&x$(G),Z!==null){F0=Z;return}if(G=G.sibling,G!==null){F0=G;return}F0=G=W}while(G!==null);E1===x5&&(E1=O_)}function jK(W,G){do{var Z=ZT(W.alternate,W);if(Z!==null){Z.flags&=32767,F0=Z;return}if((W.mode&n1)!==X1){x$(W),Z=W.actualDuration;for(var X=W.child;X!==null;)Z+=X.actualDuration,X=X.sibling;W.actualDuration=Z}if(Z=W.return,Z!==null&&(Z.flags|=32768,Z.subtreeFlags=0,Z.deletions=null),!G&&(W=W.sibling,W!==null)){F0=W;return}F0=W=Z}while(W!==null);E1=pX,F0=null}function f6(W,G,Z,X,B,J,z,H,T,I){var b=g.T,d=N1.p;try{N1.p=I9,g.T=null,NT(W,G,Z,X,d,B,J,z,H,T,I)}finally{g.T=b,N1.p=d}}function NT(W,G,Z,X,B,J,z,H){do rG();while(_Z!==null);if(j9.flushLegacyContextWarning(),j9.flushPendingUnsafeLifecycleWarnings(),($1&(UW|k5))!==vW)throw Error("Should not already be working.");var T=W.finishedWork;if(X=W.finishedLanes,e!==null&&typeof e.markCommitStarted==="function"&&e.markCommitStarted(X),T===null)return n5(),null;if(X===0&&console.error("root.finishedLanes should not be empty during a commit. This is a bug in React."),W.finishedWork=null,W.finishedLanes=0,T===W.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");W.callbackNode=null,W.callbackPriority=0,W.cancelPendingCommit=null;var I=T.lanes|T.childLanes;if(I|=kQ,E8(W,X,I,J,z,H),W===Z1&&(F0=Z1=null,M0=0),(T.subtreeFlags&10256)===0&&(T.flags&10256)===0||iX||(iX=!0,BJ=I,QJ=Z,HT(X7,function(){return rG(!0),null})),SX=O7(),Z=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||Z?(Z=g.T,g.T=null,J=N1.p,N1.p=I9,z=$1,$1|=k5,aL(W,T),tL(W,T,X),bL(VJ,W.containerInfo),N2=!!OJ,VJ=OJ=null,W.current=T,e!==null&&typeof e.markLayoutEffectsStarted==="function"&&e.markLayoutEffectsStarted(X),eL(T,W,X),e!==null&&typeof e.markLayoutEffectsStopped==="function"&&e.markLayoutEffectsStopped(),ZA(),$1=z,N1.p=J,g.T=Z):W.current=T,(Z=iX)?(iX=!1,_Z=W,T4=X):(CK(W,I),wZ=0,E4=null),I=W.pendingLanes,I===0&&(TG=null),Z||SK(W),xZ(T.stateNode,B),E9&&W.memoizedUpdaters.clear(),YT(),s9(W),G!==null)for(B=W.onRecoverableError,T=0;T<G.length;T++)I=G[T],Z=$T(I.stack),W0(I.source,B,I.value,Z);return(T4&3)!==0&&rG(),I=W.pendingLanes,(X&4194218)!==0&&(I&42)!==0?(kX=!0,W===JJ?A4++:(A4=0,JJ=W)):A4=0,bY(0,!1),n5(),null}function $T(W){return W={componentStack:W},Object.defineProperty(W,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),W}function CK(W,G){(W.pooledCacheLanes&=G)===0&&(G=W.pooledCache,G!=null&&(W.pooledCache=null,AY(G)))}function rG(){if(_Z!==null){var W=_Z,G=BJ;BJ=0;var Z=fZ(T4),X=e9===0||e9>Z?e9:Z;Z=g.T;var B=N1.p;try{if(N1.p=X,g.T=null,_Z===null)var J=!1;else{X=QJ,QJ=null;var z=_Z,H=T4;if(_Z=null,T4=0,($1&(UW|k5))!==vW)throw Error("Cannot flush passive effects while already rendering.");NJ=!0,nX=!1,e!==null&&typeof e.markPassiveEffectsStarted==="function"&&e.markPassiveEffectsStarted(H);var T=$1;if($1|=k5,NK(z.current),XK(z,z.current,H,X),e!==null&&typeof e.markPassiveEffectsStopped==="function"&&e.markPassiveEffectsStopped(),SK(z),$1=T,bY(0,!1),nX?z===E4?wZ++:(wZ=0,E4=z):wZ=0,nX=NJ=!1,GW&&typeof GW.onPostCommitFiberRoot==="function")try{GW.onPostCommitFiberRoot(B7,z)}catch(b){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",b))}var I=z.current.stateNode;I.effectDuration=0,I.passiveEffectDuration=0,J=!0}return J}finally{N1.p=B,g.T=Z,CK(W,G)}}return!1}function FK(W,G,Z){G=SW(Z,G),G=X6(W.stateNode,G,2),W=GG(W,G,2),W!==null&&(y1(W,2),s9(W))}function a0(W,G,Z){if(b7=!1,W.tag===3)FK(W,W,Z);else{for(;G!==null;){if(G.tag===3){FK(G,W,Z);return}if(G.tag===1){var X=G.stateNode;if(typeof G.type.getDerivedStateFromError==="function"||typeof X.componentDidCatch==="function"&&(TG===null||!TG.has(X))){W=SW(Z,W),Z=B6(2),X=GG(G,Z,2),X!==null&&(Q6(Z,X,G,W),y1(X,2),s9(X));return}}G=G.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,Z)}}function y6(W,G,Z){var X=W.pingCache;if(X===null){X=W.pingCache=new wE;var B=new Set;X.set(G,B)}else B=X.get(G),B===void 0&&(B=new Set,X.set(G,B));B.has(Z)||(ZJ=!0,B.add(Z),X=zT.bind(null,W,G,Z),E9&&xY(W,Z),G.then(X,X))}function zT(W,G,Z){var X=W.pingCache;X!==null&&X.delete(G),W.pingedLanes|=W.suspendedLanes&Z,W.warmLanes&=~Z,wK()&&g.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),Z1===W&&(M0&Z)===Z&&(E1===KZ||E1===eQ&&(M0&62914560)===M0&&r9()-XJ<L_?($1&UW)===vW&&rZ(W,0):YJ|=Z,HZ===M0&&(HZ=0)),s9(W)}function qK(W,G){G===0&&(G=OW()),W=e1(W,G),W!==null&&(y1(W,G),s9(W))}function KT(W){var G=W.memoizedState,Z=0;G!==null&&(Z=G.retryLane),qK(W,Z)}function UT(W,G){var Z=0;switch(W.tag){case 13:var{stateNode:X,memoizedState:B}=W;B!==null&&(Z=B.retryLane);break;case 19:X=W.stateNode;break;case 22:X=W.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}X!==null&&X.delete(G),qK(W,Z)}function g6(W,G,Z){if((G.subtreeFlags&33562624)!==0)for(G=G.child;G!==null;){var X=W,B=G,J=B.type===LX;J=Z||J,B.tag!==22?B.flags&33554432?J&&W0(B,MK,X,B,(B.mode&LH)===X1):g6(X,B,J):B.memoizedState===null&&(J&&B.flags&8192?W0(B,MK,X,B):B.subtreeFlags&33554432&&W0(B,g6,X,B,J)),G=G.sibling}}function MK(W,G){var Z=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;i0(!0);try{ZK(G),Z&&$K(G),YK(W,G.alternate,G,!1),Z&&BK(W,G,0,null,!1)}finally{i0(!1)}}function SK(W){var G=!0;W.current.mode&(YW|P9)||(G=!1),g6(W,W.current,G)}function RK(W){if(($1&UW)===vW){var G=W.tag;if(G===3||G===1||G===0||G===11||G===14||G===15){if(G=p(W)||"ReactComponent",sX!==null){if(sX.has(G))return;sX.add(G)}else sX=new Set([G]);W0(W,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function xY(W,G){E9&&W.memoizedUpdaters.forEach(function(Z){JY(W,Z,G)})}function HT(W,G){var Z=g.actQueue;return Z!==null?(Z.push(G),AE):_Q(W,G)}function _T(W){wK()&&g.actQueue===null&&W0(W,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,p(W))})}function s9(W){W!==v7&&W.next===null&&(v7===null?oX=v7=W:v7=v7.next=W),aX=!0,g.actQueue!==null?zJ||(zJ=!0,fK(kK)):$J||($J=!0,fK(kK))}function bY(W,G){if(!KJ&&aX){KJ=!0;do{var Z=!1;for(var X=oX;X!==null;){if(!G)if(W!==0){var B=X.pendingLanes;if(B===0)var J=0;else{var{suspendedLanes:z,pingedLanes:H}=X;J=(1<<31-QW(42|W)+1)-1,J&=B&~(z&~H),J=J&201326677?J&201326677|1:J?J|2:0}J!==0&&(Z=!0,vK(X,J))}else J=M0,J=qW(X,X===Z1?J:0),(J&3)===0||G1(X,J)||(Z=!0,vK(X,J));X=X.next}}while(Z);KJ=!1}}function kK(){aX=zJ=$J=!1;var W=0;OZ!==0&&(TT()&&(W=OZ),OZ=0);for(var G=r9(),Z=null,X=oX;X!==null;){var B=X.next,J=xK(X,G);if(J===0)X.next=null,Z===null?oX=B:Z.next=B,B===null&&(v7=Z);else if(Z=X,W!==0||(J&3)!==0)aX=!0;X=B}bY(W,!1)}function xK(W,G){for(var{suspendedLanes:Z,pingedLanes:X,expirationTimes:B}=W,J=W.pendingLanes&-62914561;0<J;){var z=31-QW(J),H=1<<z,T=B[z];if(T===-1){if((H&Z)===0||(H&X)!==0)B[z]=cW(H,G)}else T<=G&&(W.expiredLanes|=H);J&=~H}if(G=Z1,Z=M0,Z=qW(W,W===G?Z:0),X=W.callbackNode,Z===0||W===G&&Y1===UZ||W.cancelPendingCommit!==null)return X!==null&&h6(X),W.callbackNode=null,W.callbackPriority=0;if((Z&3)===0||G1(W,Z)){if(G=Z&-Z,G!==W.callbackPriority||g.actQueue!==null&&X!==UJ)h6(X);else return G;switch(fZ(Z)){case I9:case D9:Z=OQ;break;case e9:Z=X7;break;case DX:Z=VQ;break;default:Z=X7}return X=bK.bind(null,W),g.actQueue!==null?(g.actQueue.push(X),Z=UJ):Z=_Q(Z,X),W.callbackPriority=G,W.callbackNode=Z,G}return X!==null&&h6(X),W.callbackPriority=2,W.callbackNode=null,2}function bK(W,G){kX=RX=!1;var Z=W.callbackNode;if(rG()&&W.callbackNode!==Z)return null;var X=M0;if(X=qW(W,W===Z1?X:0),X===0)return null;return VK(W,X,G),xK(W,r9()),W.callbackNode!=null&&W.callbackNode===Z?bK.bind(null,W):null}function vK(W,G){if(rG())return null;RX=kX,kX=!1,VK(W,G,!0)}function h6(W){W!==UJ&&W!==null&&WA(W)}function fK(W){g.actQueue!==null&&g.actQueue.push(function(){return W(),null}),qE(function(){($1&(UW|k5))!==vW?_Q(wQ,W):W()})}function m6(){return OZ===0&&(OZ=w9()),OZ}function yK(W){if(W==null||typeof W==="symbol"||typeof W==="boolean")return null;if(typeof W==="function")return W;return y0(W,"action"),UY(""+W)}function gK(W,G){var Z=G.ownerDocument.createElement("input");return Z.name=G.name,Z.value=G.value,W.id&&Z.setAttribute("form",W.id),G.parentNode.insertBefore(Z,G),W=new FormData(W),Z.parentNode.removeChild(Z),W}function wT(W,G,Z,X,B){if(G==="submit"&&Z&&Z.stateNode===B){var J=yK((B[EW]||null).action),z=X.submitter;z&&(G=(G=z[EW]||null)?yK(G.formAction):z.getAttribute("formAction"),G!==null&&(J=G,z=null));var H=new qX("action","action",null,X,B);W.push({event:H,listeners:[{instance:null,listener:function(){if(X.defaultPrevented){if(OZ!==0){var T=z?gK(B,z):new FormData(B),I={pending:!0,data:T,method:B.method,action:J};Object.freeze(I),rB(Z,I,null,T)}}else typeof J==="function"&&(H.preventDefault(),T=z?gK(B,z):new FormData(B),I={pending:!0,data:T,method:B.method,action:J},Object.freeze(I),rB(Z,I,J,T))},currentTarget:B}]})}}function hK(W,G){G=(G&4)!==0;for(var Z=0;Z<W.length;Z++){var X=W[Z];W:{var B=void 0,J=X.event;if(X=X.listeners,G)for(var z=X.length-1;0<=z;z--){var H=X[z],T=H.instance,I=H.currentTarget;if(H=H.listener,T!==B&&J.isPropagationStopped())break W;B=J,B.currentTarget=I;try{H(B)}catch(b){dX(b)}B.currentTarget=null,B=T}else for(z=0;z<X.length;z++){if(H=X[z],T=H.instance,I=H.currentTarget,H=H.listener,T!==B&&J.isPropagationStopped())break W;B=J,B.currentTarget=I;try{H(B)}catch(b){dX(b)}B.currentTarget=null,B=T}}}}function b0(W,G){HJ.has(W)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',W);var Z=G[LQ];Z===void 0&&(Z=G[LQ]=new Set);var X=W+"__bubble";Z.has(X)||(mK(G,W,2,!1),Z.add(X))}function d6(W,G,Z){HJ.has(W)&&!G&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',W);var X=0;G&&(X|=4),mK(Z,W,X,G)}function u6(W){if(!W[rX]){W[rX]=!0,xU.forEach(function(Z){Z!=="selectionchange"&&(HJ.has(Z)||d6(Z,!1,W),d6(Z,!0,W))});var G=W.nodeType===9?W:W.ownerDocument;G===null||G[rX]||(G[rX]=!0,d6("selectionchange",!1,G))}}function mK(W,G,Z,X){switch(OU(G)){case I9:var B=lT;break;case D9:B=iT;break;default:B=GQ}Z=B.bind(null,G,Z,W),B=void 0,!DQ||G!=="touchstart"&&G!=="touchmove"&&G!=="wheel"||(B=!0),X?B!==void 0?W.addEventListener(G,Z,{capture:!0,passive:B}):W.addEventListener(G,Z,!0):B!==void 0?W.addEventListener(G,Z,{passive:B}):W.addEventListener(G,Z,!1)}function p6(W,G,Z,X,B){var J=X;if((G&1)===0&&(G&2)===0&&X!==null)W:for(;;){if(X===null)return;var z=X.tag;if(z===3||z===4){var H=X.stateNode.containerInfo;if(H===B||H.nodeType===8&&H.parentNode===B)break;if(z===4)for(z=X.return;z!==null;){var T=z.tag;if(T===3||T===4){if(T=z.stateNode.containerInfo,T===B||T.nodeType===8&&T.parentNode===B)return}z=z.return}for(;H!==null;){if(z=m9(H),z===null)return;if(T=z.tag,T===5||T===6||T===26||T===27){X=J=z;continue W}H=H.parentNode}}X=X.return}w$(function(){var I=J,b=OB(Z),d=[];W:{var v=OH.get(W);if(v!==void 0){var c=qX,$0=W;switch(W){case"keypress":if(C8(Z)===0)break W;case"keydown":case"keyup":c=dA;break;case"focusin":$0="focus",c=FQ;break;case"focusout":$0="blur",c=FQ;break;case"beforeblur":case"afterblur":c=FQ;break;case"click":if(Z.button===2)break W;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=ZH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=MA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=cA;break;case UH:case HH:case _H:c=kA;break;case wH:c=iA;break;case"scroll":case"scrollend":c=FA;break;case"wheel":c=sA;break;case"copy":case"cut":case"paste":c=bA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=XH;break;case"toggle":case"beforetoggle":c=aA}var D0=(G&4)!==0,j1=!D0&&(W==="scroll"||W==="scrollend"),u0=D0?v!==null?v+"Capture":null:v;D0=[];for(var P=I,D;P!==null;){var C=P;if(D=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||D===null||u0===null||(C=HY(P,u0),C!=null&&D0.push(vY(P,C,D))),j1)break;P=P.return}0<D0.length&&(v=new c(v,$0,null,Z,b),d.push({event:v,listeners:D0}))}}if((G&7)===0){W:{if(v=W==="mouseover"||W==="pointerover",c=W==="mouseout"||W==="pointerout",v&&Z!==cY&&($0=Z.relatedTarget||Z.fromElement)&&(m9($0)||$0[tG]))break W;if(c||v){if(v=b.window===b?b:(v=b.ownerDocument)?v.defaultView||v.parentWindow:window,c){if($0=Z.relatedTarget||Z.toElement,c=I,$0=$0?m9($0):null,$0!==null&&(j1=t($0),D0=$0.tag,$0!==j1||D0!==5&&D0!==27&&D0!==6))$0=null}else c=null,$0=I;if(c!==$0){if(D0=ZH,C="onMouseLeave",u0="onMouseEnter",P="mouse",W==="pointerout"||W==="pointerover")D0=XH,C="onPointerLeave",u0="onPointerEnter",P="pointer";if(j1=c==null?v:s5(c),D=$0==null?v:s5($0),v=new D0(C,P+"leave",c,Z,b),v.target=j1,v.relatedTarget=D,C=null,m9(b)===I&&(D0=new D0(u0,P+"enter",$0,Z,b),D0.target=D,D0.relatedTarget=j1,C=D0),j1=C,c&&$0)G:{D0=c,u0=$0,P=0;for(D=D0;D;D=eZ(D))P++;D=0;for(C=u0;C;C=eZ(C))D++;for(;0<P-D;)D0=eZ(D0),P--;for(;0<D-P;)u0=eZ(u0),D--;for(;P--;){if(D0===u0||u0!==null&&D0===u0.alternate)break G;D0=eZ(D0),u0=eZ(u0)}D0=null}else D0=null;c!==null&&dK(d,v,c,D0,!1),$0!==null&&j1!==null&&dK(d,j1,$0,D0,!0)}}}W:{if(v=I?s5(I):window,c=v.nodeName&&v.nodeName.toLowerCase(),c==="select"||c==="input"&&v.type==="file")var m=I$;else if(A$(v))if(zH)m=kL;else{m=SL;var r=ML}else c=v.nodeName,!c||c.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?I&&KY(I.elementType)&&(m=I$):m=RL;if(m&&(m=m(W,I))){E$(d,m,Z,b);break W}r&&r(W,v,I),W==="focusout"&&I&&v.type==="number"&&I.memoizedProps.value!=null&&VW(v,"number",v.value)}switch(r=I?s5(I):window,W){case"focusin":if(A$(r)||r.contentEditable==="true")U7=r,MQ=I,rY=null;break;case"focusout":rY=MQ=U7=null;break;case"mousedown":SQ=!0;break;case"contextmenu":case"mouseup":case"dragend":SQ=!1,M$(d,Z,b);break;case"selectionchange":if(WE)break;case"keydown":case"keyup":M$(d,Z,b)}var E0;if(qQ)W:{switch(W){case"compositionstart":var J0="onCompositionStart";break W;case"compositionend":J0="onCompositionEnd";break W;case"compositionupdate":J0="onCompositionUpdate";break W}J0=void 0}else K7?L$(W,Z)&&(J0="onCompositionEnd"):W==="keydown"&&Z.keyCode===BH&&(J0="onCompositionStart");if(J0&&(QH&&Z.locale!=="ko"&&(K7||J0!=="onCompositionStart"?J0==="onCompositionEnd"&&K7&&(E0=O$()):($G=b,PQ=("value"in $G)?$G.value:$G.textContent,K7=!0)),r=JX(I,J0),0<r.length&&(J0=new YH(J0,W,null,Z,b),d.push({event:J0,listeners:r}),E0?J0.data=E0:(E0=T$(Z),E0!==null&&(J0.data=E0)))),E0=tA?jL(W,Z):CL(W,Z))J0=JX(I,"onBeforeInput"),0<J0.length&&(r=new fA("onBeforeInput","beforeinput",null,Z,b),d.push({event:r,listeners:J0}),r.data=E0);wT(d,W,I,Z,b)}hK(d,G)})}function vY(W,G,Z){return{instance:W,listener:G,currentTarget:Z}}function JX(W,G){for(var Z=G+"Capture",X=[];W!==null;){var B=W,J=B.stateNode;B=B.tag,B!==5&&B!==26&&B!==27||J===null||(B=HY(W,Z),B!=null&&X.unshift(vY(W,B,J)),B=HY(W,G),B!=null&&X.push(vY(W,B,J))),W=W.return}return X}function eZ(W){if(W===null)return null;do W=W.return;while(W&&W.tag!==5&&W.tag!==27);return W?W:null}function dK(W,G,Z,X,B){for(var J=G._reactName,z=[];Z!==null&&Z!==X;){var H=Z,T=H.alternate,I=H.stateNode;if(H=H.tag,T!==null&&T===X)break;H!==5&&H!==26&&H!==27||I===null||(T=I,B?(I=HY(Z,J),I!=null&&z.unshift(vY(Z,I,T))):B||(I=HY(Z,J),I!=null&&z.push(vY(Z,I,T)))),Z=Z.return}z.length!==0&&W.push({event:G,listeners:z})}function c6(W,G){EL(W,G),W!=="input"&&W!=="textarea"&&W!=="select"||G==null||G.value!==null||WH||(WH=!0,W==="select"&&G.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",W):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",W));var Z={registrationNameDependencies:eG,possibleRegistrationNames:TQ};KY(W)||typeof G.is==="string"||DL(W,G,Z),G.contentEditable&&!G.suppressContentEditableWarning&&G.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function h1(W,G,Z,X){G!==Z&&(Z=XG(Z),XG(G)!==Z&&(X[W]=G))}function OT(W,G,Z){G.forEach(function(X){Z[cK(X)]=X==="style"?i6(W):W.getAttribute(X)})}function o9(W,G){G===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",W,W,W):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",W,typeof G)}function uK(W,G){return W=W.namespaceURI===jX||W.namespaceURI===Q7?W.ownerDocument.createElementNS(W.namespaceURI,W.tagName):W.ownerDocument.createElement(W.tagName),W.innerHTML=G,W.innerHTML}function XG(W){return H9(W)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",pW(W)),_W(W)),(typeof W==="string"?W:""+W).replace(IE,`
`).replace(DE,"")}function pK(W,G){return G=XG(G),XG(W)===G?!0:!1}function NX(){}function r0(W,G,Z,X,B,J){switch(Z){case"children":if(typeof X==="string")j8(X,G),G==="body"||G==="textarea"&&X===""||zY(W,X);else if(typeof X==="number"||typeof X==="bigint")j8(""+X,G),G!=="body"&&zY(W,""+X);break;case"className":w(W,"class",X);break;case"tabIndex":w(W,"tabindex",X);break;case"dir":case"role":case"viewBox":case"width":case"height":w(W,Z,X);break;case"style":U$(W,X,J);break;case"data":if(G!=="object"){w(W,"data",X);break}case"src":case"href":if(X===""&&(G!=="a"||Z!=="href")){Z==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',Z,Z):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',Z,Z),W.removeAttribute(Z);break}if(X==null||typeof X==="function"||typeof X==="symbol"||typeof X==="boolean"){W.removeAttribute(Z);break}y0(X,Z),X=UY(""+X),W.setAttribute(Z,X);break;case"action":case"formAction":if(X!=null&&(G==="form"?Z==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof X==="function"&&(B.encType==null&&B.method==null||W2||(W2=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),B.target==null||eX||(eX=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):G==="input"||G==="button"?Z==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):G!=="input"||B.type==="submit"||B.type==="image"||tX?G!=="button"||B.type==null||B.type==="submit"||tX?typeof X==="function"&&(B.name==null||j_||(j_=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),B.formEncType==null&&B.formMethod==null||W2||(W2=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),B.formTarget==null||eX||(eX=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(tX=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(tX=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):Z==="action"?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),typeof X==="function"){W.setAttribute(Z,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof J==="function"&&(Z==="formAction"?(G!=="input"&&r0(W,G,"name",B.name,B,null),r0(W,G,"formEncType",B.formEncType,B,null),r0(W,G,"formMethod",B.formMethod,B,null),r0(W,G,"formTarget",B.formTarget,B,null)):(r0(W,G,"encType",B.encType,B,null),r0(W,G,"method",B.method,B,null),r0(W,G,"target",B.target,B,null)));if(X==null||typeof X==="symbol"||typeof X==="boolean"){W.removeAttribute(Z);break}y0(X,Z),X=UY(""+X),W.setAttribute(Z,X);break;case"onClick":X!=null&&(typeof X!=="function"&&o9(Z,X),W.onclick=NX);break;case"onScroll":X!=null&&(typeof X!=="function"&&o9(Z,X),b0("scroll",W));break;case"onScrollEnd":X!=null&&(typeof X!=="function"&&o9(Z,X),b0("scrollend",W));break;case"dangerouslySetInnerHTML":if(X!=null){if(typeof X!=="object"||!("__html"in X))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(Z=X.__html,Z!=null){if(B.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");W.innerHTML=Z}}break;case"multiple":W.multiple=X&&typeof X!=="function"&&typeof X!=="symbol";break;case"muted":W.muted=X&&typeof X!=="function"&&typeof X!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(X==null||typeof X==="function"||typeof X==="boolean"||typeof X==="symbol"){W.removeAttribute("xlink:href");break}y0(X,Z),Z=UY(""+X),W.setAttributeNS(VZ,"xlink:href",Z);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":X!=null&&typeof X!=="function"&&typeof X!=="symbol"?(y0(X,Z),W.setAttribute(Z,""+X)):W.removeAttribute(Z);break;case"inert":X!==""||G2[Z]||(G2[Z]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",Z));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":X&&typeof X!=="function"&&typeof X!=="symbol"?W.setAttribute(Z,""):W.removeAttribute(Z);break;case"capture":case"download":X===!0?W.setAttribute(Z,""):X!==!1&&X!=null&&typeof X!=="function"&&typeof X!=="symbol"?(y0(X,Z),W.setAttribute(Z,X)):W.removeAttribute(Z);break;case"cols":case"rows":case"size":case"span":X!=null&&typeof X!=="function"&&typeof X!=="symbol"&&!isNaN(X)&&1<=X?(y0(X,Z),W.setAttribute(Z,X)):W.removeAttribute(Z);break;case"rowSpan":case"start":X==null||typeof X==="function"||typeof X==="symbol"||isNaN(X)?W.removeAttribute(Z):(y0(X,Z),W.setAttribute(Z,X));break;case"popover":b0("beforetoggle",W),b0("toggle",W),xG(W,"popover",X);break;case"xlinkActuate":q(W,VZ,"xlink:actuate",X);break;case"xlinkArcrole":q(W,VZ,"xlink:arcrole",X);break;case"xlinkRole":q(W,VZ,"xlink:role",X);break;case"xlinkShow":q(W,VZ,"xlink:show",X);break;case"xlinkTitle":q(W,VZ,"xlink:title",X);break;case"xlinkType":q(W,VZ,"xlink:type",X);break;case"xmlBase":q(W,_J,"xml:base",X);break;case"xmlLang":q(W,_J,"xml:lang",X);break;case"xmlSpace":q(W,_J,"xml:space",X);break;case"is":J!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),xG(W,"is",X);break;case"innerText":case"textContent":break;case"popoverTarget":C_||X==null||typeof X!=="object"||(C_=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",X));default:!(2<Z.length)||Z[0]!=="o"&&Z[0]!=="O"||Z[1]!=="n"&&Z[1]!=="N"?(Z=H$(Z),xG(W,Z,X)):eG.hasOwnProperty(Z)&&X!=null&&typeof X!=="function"&&o9(Z,X)}}function l6(W,G,Z,X,B,J){switch(Z){case"style":U$(W,X,J);break;case"dangerouslySetInnerHTML":if(X!=null){if(typeof X!=="object"||!("__html"in X))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(Z=X.__html,Z!=null){if(B.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");W.innerHTML=Z}}break;case"children":typeof X==="string"?zY(W,X):(typeof X==="number"||typeof X==="bigint")&&zY(W,""+X);break;case"onScroll":X!=null&&(typeof X!=="function"&&o9(Z,X),b0("scroll",W));break;case"onScrollEnd":X!=null&&(typeof X!=="function"&&o9(Z,X),b0("scrollend",W));break;case"onClick":X!=null&&(typeof X!=="function"&&o9(Z,X),W.onclick=NX);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(eG.hasOwnProperty(Z))X!=null&&typeof X!=="function"&&o9(Z,X);else W:{if(Z[0]==="o"&&Z[1]==="n"&&(B=Z.endsWith("Capture"),G=Z.slice(2,B?Z.length-7:void 0),J=W[EW]||null,J=J!=null?J[Z]:null,typeof J==="function"&&W.removeEventListener(G,J,B),typeof X==="function")){typeof J!=="function"&&J!==null&&(Z in W?W[Z]=null:W.hasAttribute(Z)&&W.removeAttribute(Z)),W.addEventListener(G,X,B);break W}Z in W?W[Z]=X:X===!0?W.setAttribute(Z,""):xG(W,Z,X)}}}function l1(W,G,Z){switch(c6(G,Z),G){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":b0("error",W),b0("load",W);var X=!1,B=!1,J;for(J in Z)if(Z.hasOwnProperty(J)){var z=Z[J];if(z!=null)switch(J){case"src":X=!0;break;case"srcSet":B=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:r0(W,G,J,z,Z,null)}}B&&r0(W,G,"srcSet",Z.srcSet,Z,null),X&&r0(W,G,"src",Z.src,Z,null);return;case"input":L9("input",Z),b0("invalid",W);var H=J=z=B=null,T=null,I=null;for(X in Z)if(Z.hasOwnProperty(X)){var b=Z[X];if(b!=null)switch(X){case"name":B=b;break;case"type":z=b;break;case"checked":T=b;break;case"defaultChecked":I=b;break;case"value":J=b;break;case"defaultValue":H=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:r0(W,G,X,b,Z,null)}}J1(W,Z),p9(W,J,H,T,I,z,B,!1),z0(W);return;case"select":L9("select",Z),b0("invalid",W),X=z=J=null;for(B in Z)if(Z.hasOwnProperty(B)&&(H=Z[B],H!=null))switch(B){case"value":J=H;break;case"defaultValue":z=H;break;case"multiple":X=H;default:r0(W,G,B,H,Z,null)}W$(W,Z),G=J,Z=z,W.multiple=!!X,G!=null?hZ(W,!!X,G,!1):Z!=null&&hZ(W,!!X,Z,!0);return;case"textarea":L9("textarea",Z),b0("invalid",W),J=B=X=null;for(z in Z)if(Z.hasOwnProperty(z)&&(H=Z[z],H!=null))switch(z){case"value":X=H;break;case"defaultValue":B=H;break;case"children":J=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:r0(W,G,z,H,Z,null)}G$(W,Z),Y$(W,X,B,J),z0(W);return;case"option":bG(W,Z);for(T in Z)if(Z.hasOwnProperty(T)&&(X=Z[T],X!=null))switch(T){case"selected":W.selected=X&&typeof X!=="function"&&typeof X!=="symbol";break;default:r0(W,G,T,X,Z,null)}return;case"dialog":b0("cancel",W),b0("close",W);break;case"iframe":case"object":b0("load",W);break;case"video":case"audio":for(X=0;X<I4.length;X++)b0(I4[X],W);break;case"image":b0("error",W),b0("load",W);break;case"details":b0("toggle",W);break;case"embed":case"source":case"link":b0("error",W),b0("load",W);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in Z)if(Z.hasOwnProperty(I)&&(X=Z[I],X!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:r0(W,G,I,X,Z,null)}return;default:if(KY(G)){for(b in Z)Z.hasOwnProperty(b)&&(X=Z[b],X!==void 0&&l6(W,G,b,X,Z,void 0));return}}for(H in Z)Z.hasOwnProperty(H)&&(X=Z[H],X!=null&&r0(W,G,H,X,Z,null))}function VT(W,G,Z,X){switch(c6(G,X),G){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var B=null,J=null,z=null,H=null,T=null,I=null,b=null;for(c in Z){var d=Z[c];if(Z.hasOwnProperty(c)&&d!=null)switch(c){case"checked":break;case"value":break;case"defaultValue":T=d;default:X.hasOwnProperty(c)||r0(W,G,c,null,X,d)}}for(var v in X){var c=X[v];if(d=Z[v],X.hasOwnProperty(v)&&(c!=null||d!=null))switch(v){case"type":J=c;break;case"name":B=c;break;case"checked":I=c;break;case"defaultChecked":b=c;break;case"value":z=c;break;case"defaultValue":H=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:c!==d&&r0(W,G,v,c,X,d)}}G=Z.type==="checkbox"||Z.type==="radio"?Z.checked!=null:Z.value!=null,X=X.type==="checkbox"||X.type==="radio"?X.checked!=null:X.value!=null,G||!X||P_||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),P_=!0),!G||X||D_||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),D_=!0),g1(W,z,H,T,I,b,J,B);return;case"select":c=z=H=v=null;for(J in Z)if(T=Z[J],Z.hasOwnProperty(J)&&T!=null)switch(J){case"value":break;case"multiple":c=T;default:X.hasOwnProperty(J)||r0(W,G,J,null,X,T)}for(B in X)if(J=X[B],T=Z[B],X.hasOwnProperty(B)&&(J!=null||T!=null))switch(B){case"value":v=J;break;case"defaultValue":H=J;break;case"multiple":z=J;default:J!==T&&r0(W,G,B,J,X,T)}X=H,G=z,Z=c,v!=null?hZ(W,!!G,v,!1):!!Z!==!!G&&(X!=null?hZ(W,!!G,X,!0):hZ(W,!!G,G?[]:"",!1));return;case"textarea":c=v=null;for(H in Z)if(B=Z[H],Z.hasOwnProperty(H)&&B!=null&&!X.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:r0(W,G,H,null,X,B)}for(z in X)if(B=X[z],J=Z[z],X.hasOwnProperty(z)&&(B!=null||J!=null))switch(z){case"value":v=B;break;case"defaultValue":c=B;break;case"children":break;case"dangerouslySetInnerHTML":if(B!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:B!==J&&r0(W,G,z,B,X,J)}Z$(W,v,c);return;case"option":for(var $0 in Z)if(v=Z[$0],Z.hasOwnProperty($0)&&v!=null&&!X.hasOwnProperty($0))switch($0){case"selected":W.selected=!1;break;default:r0(W,G,$0,null,X,v)}for(T in X)if(v=X[T],c=Z[T],X.hasOwnProperty(T)&&v!==c&&(v!=null||c!=null))switch(T){case"selected":W.selected=v&&typeof v!=="function"&&typeof v!=="symbol";break;default:r0(W,G,T,v,X,c)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var D0 in Z)v=Z[D0],Z.hasOwnProperty(D0)&&v!=null&&!X.hasOwnProperty(D0)&&r0(W,G,D0,null,X,v);for(I in X)if(v=X[I],c=Z[I],X.hasOwnProperty(I)&&v!==c&&(v!=null||c!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(G+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:r0(W,G,I,v,X,c)}return;default:if(KY(G)){for(var j1 in Z)v=Z[j1],Z.hasOwnProperty(j1)&&v!==void 0&&!X.hasOwnProperty(j1)&&l6(W,G,j1,void 0,X,v);for(b in X)v=X[b],c=Z[b],!X.hasOwnProperty(b)||v===c||v===void 0&&c===void 0||l6(W,G,b,v,X,c);return}}for(var u0 in Z)v=Z[u0],Z.hasOwnProperty(u0)&&v!=null&&!X.hasOwnProperty(u0)&&r0(W,G,u0,null,X,v);for(d in X)v=X[d],c=Z[d],!X.hasOwnProperty(d)||v===c||v==null&&c==null||r0(W,G,d,v,X,c)}function cK(W){switch(W){case"class":return"className";case"for":return"htmlFor";default:return W}}function i6(W){var G={};W=W.style;for(var Z=0;Z<W.length;Z++){var X=W[Z];G[X]=W.getPropertyValue(X)}return G}function lK(W,G,Z){if(G!=null&&typeof G!=="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else if(EE){var X,B=X="",J;for(J in G)if(G.hasOwnProperty(J)){var z=G[J];z!=null&&typeof z!=="boolean"&&z!==""&&(J.indexOf("--")===0?(_9(z,J),X+=B+J+":"+(""+z).trim()):typeof z!=="number"||z===0||tU.has(J)?(_9(z,J),X+=B+J.replace(nU,"-$1").toLowerCase().replace(sU,"-ms-")+":"+(""+z).trim()):X+=B+J.replace(nU,"-$1").toLowerCase().replace(sU,"-ms-")+":"+z+"px",B=";")}X=X||null,G=W.getAttribute("style"),G!==X&&(X=XG(X),XG(G)!==X&&(Z.style=i6(W)))}}function sW(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null)switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":return}else if(X!=null)switch(typeof X){case"function":case"symbol":case"boolean":break;default:if(y0(X,G),W===""+X)return}h1(G,W,X,J)}function iK(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null){switch(typeof X){case"function":case"symbol":return}if(!X)return}else switch(typeof X){case"function":case"symbol":break;default:if(X)return}h1(G,W,X,J)}function n6(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null)switch(typeof X){case"undefined":case"function":case"symbol":return}else if(X!=null)switch(typeof X){case"function":case"symbol":break;default:if(y0(X,Z),W===""+X)return}h1(G,W,X,J)}function nK(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null)switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN(X))return}else if(X!=null)switch(typeof X){case"function":case"symbol":case"boolean":break;default:if(!isNaN(X)&&(y0(X,G),W===""+X))return}h1(G,W,X,J)}function $X(W,G,Z,X,B,J){if(B.delete(Z),W=W.getAttribute(Z),W===null)switch(typeof X){case"undefined":case"function":case"symbol":case"boolean":return}else if(X!=null)switch(typeof X){case"function":case"symbol":case"boolean":break;default:if(y0(X,G),Z=UY(""+X),W===Z)return}h1(G,W,X,J)}function sK(W,G,Z,X){for(var B={},J=new Set,z=W.attributes,H=0;H<z.length;H++)switch(z[H].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:J.add(z[H].name)}if(KY(G)){for(var T in Z)if(Z.hasOwnProperty(T)){var I=Z[T];if(I!=null){if(eG.hasOwnProperty(T))typeof I!=="function"&&o9(T,I);else if(Z.suppressHydrationWarning!==!0)switch(T){case"children":typeof I!=="string"&&typeof I!=="number"||h1("children",W.textContent,I,B);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":z=W.innerHTML,I=I?I.__html:void 0,I!=null&&(I=uK(W,I),h1(T,z,I,B));continue;case"style":J.delete(T),lK(W,I,B);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":J.delete(T.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",T);continue;case"className":J.delete("class"),z=gZ(W,"class",I),h1("className",z,I,B);continue;default:X.context===v5&&G!=="svg"&&G!=="math"?J.delete(T.toLowerCase()):J.delete(T),z=gZ(W,T,I),h1(T,z,I,B)}}}}else for(I in Z)if(Z.hasOwnProperty(I)&&(T=Z[I],T!=null)){if(eG.hasOwnProperty(I))typeof T!=="function"&&o9(I,T);else if(Z.suppressHydrationWarning!==!0)switch(I){case"children":typeof T!=="string"&&typeof T!=="number"||h1("children",W.textContent,T,B);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":z=W.innerHTML,T=T?T.__html:void 0,T!=null&&(T=uK(W,T),z!==T&&(B[I]={__html:z}));continue;case"className":sW(W,I,"class",T,J,B);continue;case"tabIndex":sW(W,I,"tabindex",T,J,B);continue;case"style":J.delete(I),lK(W,T,B);continue;case"multiple":J.delete(I),h1(I,W.multiple,T,B);continue;case"muted":J.delete(I),h1(I,W.muted,T,B);continue;case"autoFocus":J.delete("autofocus"),h1(I,W.autofocus,T,B);continue;case"data":if(G!=="object"){J.delete(I),z=W.getAttribute("data"),h1(I,z,T,B);continue}case"src":case"href":if(!(T!==""||G==="a"&&I==="href"||G==="object"&&I==="data")){I==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',I,I):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',I,I),$X(W,I,I,null,J,B);continue}$X(W,I,I,T,J,B);continue;case"action":case"formAction":if(z=W.getAttribute(I),typeof T==="function"){J.delete(I.toLowerCase()),I==="formAction"?(J.delete("name"),J.delete("formenctype"),J.delete("formmethod"),J.delete("formtarget")):(J.delete("enctype"),J.delete("method"),J.delete("target"));continue}else if(z===PE){J.delete(I.toLowerCase()),h1(I,"function",T,B);continue}$X(W,I,I.toLowerCase(),T,J,B);continue;case"xlinkHref":$X(W,I,"xlink:href",T,J,B);continue;case"contentEditable":n6(W,I,"contenteditable",T,J,B);continue;case"spellCheck":n6(W,I,"spellcheck",T,J,B);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n6(W,I,I,T,J,B);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":iK(W,I,I.toLowerCase(),T,J,B);continue;case"capture":case"download":W:{H=W;var b=z=I,d=B;if(J.delete(b),H=H.getAttribute(b),H===null)switch(typeof T){case"undefined":case"function":case"symbol":break W;default:if(T===!1)break W}else if(T!=null)switch(typeof T){case"function":case"symbol":break;case"boolean":if(T===!0&&H==="")break W;break;default:if(y0(T,z),H===""+T)break W}h1(z,H,T,d)}continue;case"cols":case"rows":case"size":case"span":W:{if(H=W,b=z=I,d=B,J.delete(b),H=H.getAttribute(b),H===null)switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":break W;default:if(isNaN(T)||1>T)break W}else if(T!=null)switch(typeof T){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(T)||1>T)&&(y0(T,z),H===""+T))break W}h1(z,H,T,d)}continue;case"rowSpan":nK(W,I,"rowspan",T,J,B);continue;case"start":nK(W,I,I,T,J,B);continue;case"xHeight":sW(W,I,"x-height",T,J,B);continue;case"xlinkActuate":sW(W,I,"xlink:actuate",T,J,B);continue;case"xlinkArcrole":sW(W,I,"xlink:arcrole",T,J,B);continue;case"xlinkRole":sW(W,I,"xlink:role",T,J,B);continue;case"xlinkShow":sW(W,I,"xlink:show",T,J,B);continue;case"xlinkTitle":sW(W,I,"xlink:title",T,J,B);continue;case"xlinkType":sW(W,I,"xlink:type",T,J,B);continue;case"xmlBase":sW(W,I,"xml:base",T,J,B);continue;case"xmlLang":sW(W,I,"xml:lang",T,J,B);continue;case"xmlSpace":sW(W,I,"xml:space",T,J,B);continue;case"inert":T!==""||G2[I]||(G2[I]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",I)),iK(W,I,I,T,J,B);continue;default:if(!(2<I.length)||I[0]!=="o"&&I[0]!=="O"||I[1]!=="n"&&I[1]!=="N"){H=H$(I),z=!1,X.context===v5&&G!=="svg"&&G!=="math"?J.delete(H.toLowerCase()):(b=I.toLowerCase(),b=CX.hasOwnProperty(b)?CX[b]||null:null,b!==null&&b!==I&&(z=!0,J.delete(b)),J.delete(H));W:if(b=W,d=H,H=T,o5(d))if(b.hasAttribute(d))b=b.getAttribute(d),y0(H,d),H=b===""+H?H:b;else{switch(typeof H){case"function":case"symbol":break W;case"boolean":if(b=d.toLowerCase().slice(0,5),b!=="data-"&&b!=="aria-")break W}H=H===void 0?void 0:null}else H=void 0;z||h1(I,H,T,B)}}}return 0<J.size&&Z.suppressHydrationWarning!==!0&&OT(W,J,B),Object.keys(B).length===0?null:B}function LT(W,G){switch(W.length){case 0:return"";case 1:return W[0];case 2:return W[0]+" "+G+" "+W[1];default:return W.slice(0,-1).join(", ")+", "+G+" "+W[W.length-1]}}function zX(W){return W.nodeType===9?W:W.ownerDocument}function oK(W){switch(W){case Q7:return f7;case jX:return X2;default:return v5}}function aK(W,G){if(W===v5)switch(G){case"svg":return f7;case"math":return X2;default:return v5}return W===f7&&G==="foreignObject"?v5:W}function s6(W,G){return W==="textarea"||W==="noscript"||typeof G.children==="string"||typeof G.children==="number"||typeof G.children==="bigint"||typeof G.dangerouslySetInnerHTML==="object"&&G.dangerouslySetInnerHTML!==null&&G.dangerouslySetInnerHTML.__html!=null}function TT(){var W=window.event;if(W&&W.type==="popstate"){if(W===LJ)return!1;return LJ=W,!0}return LJ=null,!1}function AT(W){setTimeout(function(){throw W})}function ET(W,G,Z){switch(G){case"button":case"input":case"select":case"textarea":Z.autoFocus&&W.focus();break;case"img":Z.src?W.src=Z.src:Z.srcSet&&(W.srcset=Z.srcSet)}}function IT(W,G,Z,X){VT(W,G,Z,X),W[EW]=X}function rK(W){zY(W,"")}function DT(W,G,Z){W.nodeValue=Z}function PT(W,G){W.removeChild(G)}function jT(W,G){W.nodeType===8?W.parentNode.removeChild(G):W.removeChild(G)}function o6(W,G){var Z=G,X=0;do{var B=Z.nextSibling;if(W.removeChild(Z),B&&B.nodeType===8)if(Z=B.data,Z===Y2){if(X===0){W.removeChild(B),hY(G);return}X--}else Z!==Z2&&Z!==LZ&&Z!==TZ||X++;Z=B}while(Z);hY(G)}function CT(W){W=W.style,typeof W.setProperty==="function"?W.setProperty("display","none","important"):W.display="none"}function FT(W){W.nodeValue=""}function qT(W,G){G=G[CE],G=G!==void 0&&G!==null&&G.hasOwnProperty("display")?G.display:null,W.style.display=G==null||typeof G==="boolean"?"":(""+G).trim()}function MT(W,G){W.nodeValue=G}function a6(W){var G=W.firstChild;G&&G.nodeType===10&&(G=G.nextSibling);for(;G;){var Z=G;switch(G=G.nextSibling,Z.nodeName){case"HTML":case"HEAD":case"BODY":a6(Z),yZ(Z);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Z.rel.toLowerCase()==="stylesheet")continue}W.removeChild(Z)}}function ST(W,G,Z,X){for(;W.nodeType===1;){var B=Z;if(W.nodeName.toLowerCase()!==G.toLowerCase()){if(!X&&(W.nodeName!=="INPUT"||W.type!=="hidden"))break}else if(!X)if(G==="input"&&W.type==="hidden"){y0(B.name,"name");var J=B.name==null?null:""+B.name;if(B.type==="hidden"&&W.getAttribute("name")===J)return W}else return W;else if(!W[pY])switch(G){case"meta":if(!W.hasAttribute("itemprop"))break;return W;case"link":if(J=W.getAttribute("rel"),J==="stylesheet"&&W.hasAttribute("data-precedence"))break;else if(J!==B.rel||W.getAttribute("href")!==(B.href==null?null:B.href)||W.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin)||W.getAttribute("title")!==(B.title==null?null:B.title))break;return W;case"style":if(W.hasAttribute("data-precedence"))break;return W;case"script":if(J=W.getAttribute("src"),(J!==(B.src==null?null:B.src)||W.getAttribute("type")!==(B.type==null?null:B.type)||W.getAttribute("crossorigin")!==(B.crossOrigin==null?null:B.crossOrigin))&&J&&W.hasAttribute("async")&&!W.hasAttribute("itemprop"))break;return W;default:return W}if(W=oW(W.nextSibling),W===null)break}return null}function RT(W,G,Z){if(G==="")return null;for(;W.nodeType!==3;){if((W.nodeType!==1||W.nodeName!=="INPUT"||W.type!=="hidden")&&!Z)return null;if(W=oW(W.nextSibling),W===null)return null}return W}function oW(W){for(;W!=null;W=W.nextSibling){var G=W.nodeType;if(G===1||G===3)break;if(G===8){if(G=W.data,G===Z2||G===TZ||G===LZ||G===wJ||G===F_)break;if(G===Y2)return null}}return W}function tK(W){if(W.nodeType===1){for(var G=W.nodeName.toLowerCase(),Z={},X=W.attributes,B=0;B<X.length;B++){var J=X[B];Z[cK(J.name)]=J.name.toLowerCase()==="style"?i6(W):J.value}return{type:G,props:Z}}return W.nodeType===8?{type:"Suspense",props:{}}:W.nodeValue}function eK(W,G,Z){return Z===null||Z[jE]!==!0?(W.nodeValue===G?W=null:(G=XG(G),W=XG(W.nodeValue)===G?null:W.nodeValue),W):null}function WU(W){W=W.nextSibling;for(var G=0;W;){if(W.nodeType===8){var Z=W.data;if(Z===Y2){if(G===0)return oW(W.nextSibling);G--}else Z!==Z2&&Z!==TZ&&Z!==LZ||G++}W=W.nextSibling}return null}function GU(W){W=W.previousSibling;for(var G=0;W;){if(W.nodeType===8){var Z=W.data;if(Z===Z2||Z===TZ||Z===LZ){if(G===0)return W;G--}else Z===Y2&&G++}W=W.previousSibling}return null}function kT(W){hY(W)}function xT(W){hY(W)}function ZU(W,G,Z,X,B){switch(B&&wB(W,X.ancestorInfo),G=zX(Z),W){case"html":if(W=G.documentElement,!W)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return W;case"head":if(W=G.head,!W)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return W;case"body":if(W=G.body,!W)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return W;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function bT(W,G,Z,X){if(d9(Z)){var B=Z.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",B,B,B)}switch(W){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(B=Z.attributes;B.length;)Z.removeAttributeNode(B[0]);l1(Z,W,G),Z[ZW]=X,Z[EW]=G}function KX(W){return typeof W.getRootNode==="function"?W.getRootNode():W.ownerDocument}function YU(W,G,Z){var X=y7;if(X&&typeof G==="string"&&G){var B=A0(G);B='link[rel="'+W+'"][href="'+B+'"]',typeof Z==="string"&&(B+='[crossorigin="'+Z+'"]'),x_.has(B)||(x_.add(B),W={rel:W,crossOrigin:Z,href:G},X.querySelector(B)===null&&(G=X.createElement("link"),l1(G,"link",W),D1(G),X.head.appendChild(G)))}}function XU(W,G,Z,X){var B=(B=JG.current)?KX(B):null;if(!B)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(W){case"meta":case"title":return null;case"style":return typeof Z.precedence==="string"&&typeof Z.href==="string"?(Z=W7(Z.href),G=_5(B).hoistableStyles,X=G.get(Z),X||(X={type:"style",instance:null,count:0,state:null},G.set(Z,X)),X):{type:"void",instance:null,count:0,state:null};case"link":if(Z.rel==="stylesheet"&&typeof Z.href==="string"&&typeof Z.precedence==="string"){W=W7(Z.href);var J=_5(B).hoistableStyles,z=J.get(W);if(!z&&(B=B.ownerDocument||B,z={type:"stylesheet",instance:null,count:0,state:{loading:AZ,preload:null}},J.set(W,z),(J=B.querySelector(fY(W)))&&!J._p&&(z.instance=J,z.state.loading=D4|Q9),!J9.has(W))){var H={rel:"preload",as:"style",href:Z.href,crossOrigin:Z.crossOrigin,integrity:Z.integrity,media:Z.media,hrefLang:Z.hrefLang,referrerPolicy:Z.referrerPolicy};J9.set(W,H),J||vT(B,W,H,z.state)}if(G&&X===null)throw Z=`

  - `+UX(G)+`
  + `+UX(Z),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+Z);return z}if(G&&X!==null)throw Z=`

  - `+UX(G)+`
  + `+UX(Z),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+Z);return null;case"script":return G=Z.async,Z=Z.src,typeof Z==="string"&&G&&typeof G!=="function"&&typeof G!=="symbol"?(Z=G7(Z),G=_5(B).hoistableScripts,X=G.get(Z),X||(X={type:"script",instance:null,count:0,state:null},G.set(Z,X)),X):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+W+'". this is a bug in React.')}}function UX(W){var G=0,Z="<link";return typeof W.rel==="string"?(G++,Z+=' rel="'+W.rel+'"'):P5.call(W,"rel")&&(G++,Z+=' rel="'+(W.rel===null?"null":"invalid type "+typeof W.rel)+'"'),typeof W.href==="string"?(G++,Z+=' href="'+W.href+'"'):P5.call(W,"href")&&(G++,Z+=' href="'+(W.href===null?"null":"invalid type "+typeof W.href)+'"'),typeof W.precedence==="string"?(G++,Z+=' precedence="'+W.precedence+'"'):P5.call(W,"precedence")&&(G++,Z+=" precedence={"+(W.precedence===null?"null":"invalid type "+typeof W.precedence)+"}"),Object.getOwnPropertyNames(W).length>G&&(Z+=" ..."),Z+" />"}function W7(W){return'href="'+A0(W)+'"'}function fY(W){return'link[rel="stylesheet"]['+W+"]"}function BU(W){return C0({},W,{"data-precedence":W.precedence,precedence:null})}function vT(W,G,Z,X){W.querySelector('link[rel="preload"][as="style"]['+G+"]")?X.loading=D4:(G=W.createElement("link"),X.preload=G,G.addEventListener("load",function(){return X.loading|=D4}),G.addEventListener("error",function(){return X.loading|=R_}),l1(G,"link",Z),D1(G),W.head.appendChild(G))}function G7(W){return'[src="'+A0(W)+'"]'}function yY(W){return"script[async]"+W}function QU(W,G,Z){if(G.count++,G.instance===null)switch(G.type){case"style":var X=W.querySelector('style[data-href~="'+A0(Z.href)+'"]');if(X)return G.instance=X,D1(X),X;var B=C0({},Z,{"data-href":Z.href,"data-precedence":Z.precedence,href:null,precedence:null});return X=(W.ownerDocument||W).createElement("style"),D1(X),l1(X,"style",B),HX(X,Z.precedence,W),G.instance=X;case"stylesheet":B=W7(Z.href);var J=W.querySelector(fY(B));if(J)return G.state.loading|=Q9,G.instance=J,D1(J),J;X=BU(Z),(B=J9.get(B))&&r6(X,B),J=(W.ownerDocument||W).createElement("link"),D1(J);var z=J;return z._p=new Promise(function(H,T){z.onload=H,z.onerror=T}),l1(J,"link",X),G.state.loading|=Q9,HX(J,Z.precedence,W),G.instance=J;case"script":if(J=G7(Z.src),B=W.querySelector(yY(J)))return G.instance=B,D1(B),B;if(X=Z,B=J9.get(J))X=C0({},Z),t6(X,B);return W=W.ownerDocument||W,B=W.createElement("script"),D1(B),l1(B,"link",X),W.head.appendChild(B),G.instance=B;case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+G.type+'". this is a bug in React.')}else G.type==="stylesheet"&&(G.state.loading&Q9)===AZ&&(X=G.instance,G.state.loading|=Q9,HX(X,Z.precedence,W));return G.instance}function HX(W,G,Z){for(var X=Z.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),B=X.length?X[X.length-1]:null,J=B,z=0;z<X.length;z++){var H=X[z];if(H.dataset.precedence===G)J=H;else if(J!==B)break}J?J.parentNode.insertBefore(W,J.nextSibling):(G=Z.nodeType===9?Z.head:Z,G.insertBefore(W,G.firstChild))}function r6(W,G){W.crossOrigin==null&&(W.crossOrigin=G.crossOrigin),W.referrerPolicy==null&&(W.referrerPolicy=G.referrerPolicy),W.title==null&&(W.title=G.title)}function t6(W,G){W.crossOrigin==null&&(W.crossOrigin=G.crossOrigin),W.referrerPolicy==null&&(W.referrerPolicy=G.referrerPolicy),W.integrity==null&&(W.integrity=G.integrity)}function JU(W,G,Z){if(B2===null){var X=new Map,B=B2=new Map;B.set(Z,X)}else B=B2,X=B.get(Z),X||(X=new Map,B.set(Z,X));if(X.has(W))return X;X.set(W,null),Z=Z.getElementsByTagName(W);for(B=0;B<Z.length;B++){var J=Z[B];if(!(J[pY]||J[ZW]||W==="link"&&J.getAttribute("rel")==="stylesheet")&&J.namespaceURI!==Q7){var z=J.getAttribute(G)||"";z=W+z;var H=X.get(z);H?H.push(J):X.set(z,[J])}}return X}function NU(W,G,Z){W=W.ownerDocument||W,W.head.insertBefore(Z,G==="title"?W.querySelector("head > title"):null)}function fT(W,G,Z){var X=!Z.ancestorInfo.containerTagInScope;if(Z.context===f7||G.itemProp!=null)return!X||G.itemProp==null||W!=="meta"&&W!=="title"&&W!=="style"&&W!=="link"&&W!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",W,W),!1;switch(W){case"meta":case"title":return!0;case"style":if(typeof G.precedence!=="string"||typeof G.href!=="string"||G.href===""){X&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflic with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`, or move the <style> to the <style> tag.');break}return!0;case"link":if(typeof G.rel!=="string"||typeof G.href!=="string"||G.href===""||G.onLoad||G.onError){if(G.rel==="stylesheet"&&typeof G.precedence==="string"){W=G.href;var{onError:B,disabled:J}=G;Z=[],G.onLoad&&Z.push("`onLoad`"),B&&Z.push("`onError`"),J!=null&&Z.push("`disabled`"),B=LT(Z,"and"),B+=Z.length===1?" prop":" props",J=Z.length===1?"an "+B:"the "+B,Z.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',W,J,B)}X&&(typeof G.rel!=="string"||typeof G.href!=="string"||G.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(G.onError||G.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(G.rel){case"stylesheet":return W=G.precedence,G=G.disabled,typeof W!=="string"&&X&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof W==="string"&&G==null;default:return!0}case"script":if(W=G.async&&typeof G.async!=="function"&&typeof G.async!=="symbol",!W||G.onLoad||G.onError||!G.src||typeof G.src!=="string"){X&&(W?G.onLoad||G.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":X&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",W)}return!1}function $U(W){return W.type==="stylesheet"&&(W.state.loading&k_)===AZ?!1:!0}function yT(){}function gT(W,G,Z){if(P4===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var X=P4;if(G.type==="stylesheet"&&(typeof Z.media!=="string"||matchMedia(Z.media).matches!==!1)&&(G.state.loading&Q9)===AZ){if(G.instance===null){var B=W7(Z.href),J=W.querySelector(fY(B));if(J){W=J._p,W!==null&&typeof W==="object"&&typeof W.then==="function"&&(X.count++,X=_X.bind(X),W.then(X,X)),G.state.loading|=Q9,G.instance=J,D1(J);return}J=W.ownerDocument||W,Z=BU(Z),(B=J9.get(B))&&r6(Z,B),J=J.createElement("link"),D1(J);var z=J;z._p=new Promise(function(H,T){z.onload=H,z.onerror=T}),l1(J,"link",Z),G.instance=J}X.stylesheets===null&&(X.stylesheets=new Map),X.stylesheets.set(G,W),(W=G.state.preload)&&(G.state.loading&k_)===AZ&&(X.count++,G=_X.bind(X),W.addEventListener("load",G),W.addEventListener("error",G))}}function hT(){if(P4===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var W=P4;return W.stylesheets&&W.count===0&&e6(W,W.stylesheets),0<W.count?function(G){var Z=setTimeout(function(){if(W.stylesheets&&e6(W,W.stylesheets),W.unsuspend){var X=W.unsuspend;W.unsuspend=null,X()}},60000);return W.unsuspend=G,function(){W.unsuspend=null,clearTimeout(Z)}}:null}function _X(){if(this.count--,this.count===0){if(this.stylesheets)e6(this,this.stylesheets);else if(this.unsuspend){var W=this.unsuspend;this.unsuspend=null,W()}}}function e6(W,G){W.stylesheets=null,W.unsuspend!==null&&(W.count++,Q2=new Map,G.forEach(mT,W),Q2=null,_X.call(W))}function mT(W,G){if(!(G.state.loading&Q9)){var Z=Q2.get(W);if(Z)var X=Z.get(AJ);else{Z=new Map,Q2.set(W,Z);for(var B=W.querySelectorAll("link[data-precedence],style[data-precedence]"),J=0;J<B.length;J++){var z=B[J];if(z.nodeName==="LINK"||z.getAttribute("media")!=="not all")Z.set(z.dataset.precedence,z),X=z}X&&Z.set(AJ,X)}B=G.instance,z=B.getAttribute("data-precedence"),J=Z.get(z)||X,J===X&&Z.set(AJ,B),Z.set(z,B),this.count++,X=_X.bind(this),B.addEventListener("load",X),B.addEventListener("error",X),J?J.parentNode.insertBefore(B,J.nextSibling):(W=W.nodeType===9?W.head:W,W.insertBefore(B,W.firstChild)),G.state.loading|=Q9}}function dT(W,G,Z){var X=0;switch(W){case"dir":case"dirxml":case"groupEnd":case"table":return y_.apply(console[W],[console].concat(G));case"assert":X=1}return G=G.slice(0),typeof G[X]==="string"?G.splice(X,1,b_+G[X],v_,J2+Z+J2,f_):G.splice(X,0,b_,v_,J2+Z+J2,f_),G.unshift(console),y_.apply(console[W],G)}function uT(W,G,Z,X,B,J,z,H){this.tag=1,this.containerInfo=W,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=TJ,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=O9(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O9(0),this.hiddenUpdates=O9(null),this.identifierPrefix=X,this.onUncaughtError=B,this.onCaughtError=J,this.onRecoverableError=z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,W=this.pendingUpdatersLaneMap=[];for(G=0;31>G;G++)W.push(new Set);this._debugRootType=Z?"hydrateRoot()":"createRoot()"}function zU(W,G,Z,X,B,J,z,H,T,I,b,d){return W=new uT(W,G,Z,z,H,T,I,d),G=XE,J===!0&&(G|=YW|P9),E9&&(G|=n1),J=L(3,null,null,G),W.current=J,J.stateNode=W,G=MB(),pG(G),W.pooledCache=G,pG(G),J.memoizedState={element:X,isDehydrated:Z,cache:G},T6(J),W}function KU(W){if(!W)return zG;return W=zG,W}function UU(W,G,Z,X){return G.tag===0&&rG(),HU(G.current,2,W,G,Z,X),2}function HU(W,G,Z,X,B,J){if(GW&&typeof GW.onScheduleFiberRoot==="function")try{GW.onScheduleFiberRoot(B7,X,Z)}catch(z){t9||(t9=!0,console.error("React instrumentation encountered an error: %s",z))}e!==null&&typeof e.markRenderScheduled==="function"&&e.markRenderScheduled(G),B=KU(B),X.context===null?X.context=B:X.pendingContext=B,aW&&WW!==null&&!g_&&(g_=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,p(WW)||"Unknown")),X=WG(G),X.payload={element:Z},J=J===void 0?null:J,J!==null&&(typeof J!=="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",J),X.callback=J),Z=GG(W,X,G),Z!==null&&(O1(Z,W,G),CY(Z,W,G))}function _U(W,G){if(W=W.memoizedState,W!==null&&W.dehydrated!==null){var Z=W.retryLane;W.retryLane=Z!==0&&Z<G?Z:G}}function WQ(W,G){_U(W,G),(W=W.alternate)&&_U(W,G)}function wU(W){if(W.tag===13){var G=e1(W,67108864);G!==null&&O1(G,W,67108864),WQ(W,67108864)}}function pT(){return WW}function cT(){for(var W=new Map,G=1,Z=0;31>Z;Z++){var X=a(G);W.set(G,X),G*=2}return W}function lT(W,G,Z,X){var B=g.T;g.T=null;var J=N1.p;try{N1.p=I9,GQ(W,G,Z,X)}finally{N1.p=J,g.T=B}}function iT(W,G,Z,X){var B=g.T;g.T=null;var J=N1.p;try{N1.p=D9,GQ(W,G,Z,X)}finally{N1.p=J,g.T=B}}function GQ(W,G,Z,X){if(N2){var B=ZQ(X);if(B===null)p6(W,G,X,$2,Z),VU(W,X);else if(nT(B,W,G,Z,X))X.stopPropagation();else if(VU(W,X),G&4&&-1<ME.indexOf(W)){for(;B!==null;){var J=d9(B);if(J!==null)switch(J.tag){case 3:if(J=J.stateNode,J.current.memoizedState.isDehydrated){var z=T1(J.pendingLanes);if(z!==0){var H=J;H.pendingLanes|=2;for(H.entangledLanes|=2;z;){var T=1<<31-QW(z);H.entanglements[1]|=T,z&=~T}s9(J),($1&(UW|k5))===vW&&(lX=r9()+T_,bY(0,!1))}}break;case 13:H=e1(J,2),H!==null&&O1(H,J,2),aZ(),WQ(J,2)}if(J=ZQ(X),J===null&&p6(W,G,X,$2,Z),J===B)break;B=J}B!==null&&X.stopPropagation()}else p6(W,G,X,null,Z)}}function ZQ(W){return W=OB(W),YQ(W)}function YQ(W){if($2=null,W=m9(W),W!==null){var G=t(W);if(G===null)W=null;else{var Z=G.tag;if(Z===13){if(W=T0(G),W!==null)return W;W=null}else if(Z===3){if(G.stateNode.current.memoizedState.isDehydrated)return G.tag===3?G.stateNode.containerInfo:null;W=null}else G!==W&&(W=null)}}return $2=W,null}function OU(W){switch(W){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return I9;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return D9;case"message":switch(YA()){case wQ:return I9;case OQ:return D9;case X7:case XA:return e9;case VQ:return DX;default:return e9}default:return e9}}function VU(W,G){switch(W){case"focusin":case"focusout":AG=null;break;case"dragenter":case"dragleave":EG=null;break;case"mouseover":case"mouseout":IG=null;break;case"pointerover":case"pointerout":C4.delete(G.pointerId);break;case"gotpointercapture":case"lostpointercapture":F4.delete(G.pointerId)}}function gY(W,G,Z,X,B,J){if(W===null||W.nativeEvent!==J)return W={blockedOn:G,domEventName:Z,eventSystemFlags:X,nativeEvent:J,targetContainers:[B]},G!==null&&(G=d9(G),G!==null&&wU(G)),W;return W.eventSystemFlags|=X,G=W.targetContainers,B!==null&&G.indexOf(B)===-1&&G.push(B),W}function nT(W,G,Z,X,B){switch(G){case"focusin":return AG=gY(AG,W,G,Z,X,B),!0;case"dragenter":return EG=gY(EG,W,G,Z,X,B),!0;case"mouseover":return IG=gY(IG,W,G,Z,X,B),!0;case"pointerover":var J=B.pointerId;return C4.set(J,gY(C4.get(J)||null,W,G,Z,X,B)),!0;case"gotpointercapture":return J=B.pointerId,F4.set(J,gY(F4.get(J)||null,W,G,Z,X,B)),!0}return!1}function LU(W){var G=m9(W.target);if(G!==null){var Z=t(G);if(Z!==null){if(G=Z.tag,G===13){if(G=T0(Z),G!==null){W.blockedOn=G,D8(W.priority,function(){if(Z.tag===13){var X=kW(Z),B=e1(Z,X);B!==null&&O1(B,Z,X),WQ(Z,X)}});return}}else if(G===3&&Z.stateNode.current.memoizedState.isDehydrated){W.blockedOn=Z.tag===3?Z.stateNode.containerInfo:null;return}}}W.blockedOn=null}function wX(W){if(W.blockedOn!==null)return!1;for(var G=W.targetContainers;0<G.length;){var Z=ZQ(W.nativeEvent);if(Z===null){Z=W.nativeEvent;var X=new Z.constructor(Z.type,Z),B=X;cY!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),cY=B,Z.target.dispatchEvent(X),cY===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),cY=null}else return G=d9(Z),G!==null&&wU(G),W.blockedOn=Z,!1;G.shift()}return!0}function TU(W,G,Z){wX(W)&&Z.delete(G)}function sT(){EJ=!1,AG!==null&&wX(AG)&&(AG=null),EG!==null&&wX(EG)&&(EG=null),IG!==null&&wX(IG)&&(IG=null),C4.forEach(TU),F4.forEach(TU)}function OX(W,G){W.blockedOn===G&&(W.blockedOn=null,EJ||(EJ=!0,h0.unstable_scheduleCallback(h0.unstable_NormalPriority,sT)))}function AU(W){z2!==W&&(z2=W,h0.unstable_scheduleCallback(h0.unstable_NormalPriority,function(){z2===W&&(z2=null);for(var G=0;G<W.length;G+=3){var Z=W[G],X=W[G+1],B=W[G+2];if(typeof X!=="function")if(YQ(X||Z)===null)continue;else break;var J=d9(Z);J!==null&&(W.splice(G,3),G-=3,Z={pending:!0,data:B,method:Z.method,action:X},Object.freeze(Z),rB(J,Z,X,B))}}))}function hY(W){function G(T){return OX(T,W)}AG!==null&&OX(AG,W),EG!==null&&OX(EG,W),IG!==null&&OX(IG,W),C4.forEach(G),F4.forEach(G);for(var Z=0;Z<DG.length;Z++){var X=DG[Z];X.blockedOn===W&&(X.blockedOn=null)}for(;0<DG.length&&(Z=DG[0],Z.blockedOn===null);)LU(Z),Z.blockedOn===null&&DG.shift();if(Z=(W.ownerDocument||W).$$reactFormReplay,Z!=null)for(X=0;X<Z.length;X+=3){var B=Z[X],J=Z[X+1],z=B[EW]||null;if(typeof J==="function")z||AU(Z);else if(z){var H=null;if(J&&J.hasAttribute("formAction")){if(B=J,z=J[EW]||null)H=z.formAction;else if(YQ(B)!==null)continue}else H=z.action;typeof H==="function"?Z[X+1]=H:(Z.splice(X,3),X-=3),AU(Z)}}}function XQ(W){this._internalRoot=W}function VX(W){this._internalRoot=W}function EU(W){W[tG]&&(W._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var oT=Symbol.for("react.element"),BG=Symbol.for("react.transitional.element"),Z7=Symbol.for("react.portal"),Y7=Symbol.for("react.fragment"),LX=Symbol.for("react.strict_mode"),BQ=Symbol.for("react.profiler"),aT=Symbol.for("react.provider"),QQ=Symbol.for("react.consumer"),a9=Symbol.for("react.context"),mY=Symbol.for("react.forward_ref"),JQ=Symbol.for("react.suspense"),NQ=Symbol.for("react.suspense_list"),TX=Symbol.for("react.memo"),xW=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var IU=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var rT=Symbol.for("react.memo_cache_sentinel"),DU=Symbol.iterator,tT=Symbol.for("react.client.reference"),g=g7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C0=Object.assign,dY=0,PU,jU,CU,FU,qU,MU,SU;X0.__reactDisabledLog=!0;var $Q,RU,zQ=!1,KQ=new(typeof WeakMap==="function"?WeakMap:Map),WW=null,aW=!1,i1=Array.isArray,N1=qJ.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,eT=Object.freeze({pending:!1,data:null,method:null,action:null}),UQ=[],HQ=[],D5=-1,QG=l0(null),uY=l0(null),JG=l0(null),AX=l0(null),P5=Object.prototype.hasOwnProperty,_Q=h0.unstable_scheduleCallback,WA=h0.unstable_cancelCallback,GA=h0.unstable_shouldYield,ZA=h0.unstable_requestPaint,r9=h0.unstable_now,YA=h0.unstable_getCurrentPriorityLevel,wQ=h0.unstable_ImmediatePriority,OQ=h0.unstable_UserBlockingPriority,X7=h0.unstable_NormalPriority,XA=h0.unstable_LowPriority,VQ=h0.unstable_IdlePriority,BA=h0.log,QA=h0.unstable_setDisableYieldValue,B7=null,GW=null,e=null,t9=!1,E9=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined",QW=Math.clz32?Math.clz32:s0,JA=Math.log,NA=Math.LN2,EX=128,IX=4194304,I9=2,D9=8,e9=32,DX=268435456,NG=Math.random().toString(36).slice(2),ZW="__reactFiber$"+NG,EW="__reactProps$"+NG,tG="__reactContainer$"+NG,LQ="__reactEvents$"+NG,$A="__reactListeners$"+NG,zA="__reactHandles$"+NG,kU="__reactResources$"+NG,pY="__reactMarker$"+NG,xU=new Set,eG={},TQ={},W5=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),KA={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},UA=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bU={},vU={},HA=/[\n"\\]/g,fU=!1,yU=!1,gU=!1,hU=!1,mU=!1,dU=!1,uU=["value","defaultValue"],pU=!1,cU=/["'&<>\n\t]|^\s|\s$/,_A="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),lU="applet caption html table td th marquee object template foreignObject desc title".split(" "),wA=lU.concat(["button"]),OA="dd dt li option optgroup p rp rt".split(" "),iU={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null},PX={},jX="http://www.w3.org/1998/Math/MathML",Q7="http://www.w3.org/2000/svg",AQ={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},nU=/([A-Z])/g,sU=/^ms-/,VA=/^(?:webkit|moz|o)[A-Z]/,LA=/^-ms-/,TA=/-(.)/g,oU=/;\s*$/,J7={},EQ={},aU=!1,rU=!1,tU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),AA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CX={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},eU={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},N7={},EA=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),IA=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),WH=!1,JW={},GH=/^on./,DA=/^on[^A-Z]/,PA=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jA=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),CA=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,cY=null,$7=null,z7=null,IQ=!1,DQ=!1;if(W5)try{var lY={};Object.defineProperty(lY,"passive",{get:function(){DQ=!0}}),window.addEventListener("test",lY,lY),window.removeEventListener("test",lY,lY)}catch(W){DQ=!1}var $G=null,PQ=null,FX=null,WZ={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(W){return W.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qX=LW(WZ),iY=C0({},WZ,{view:0,detail:0}),FA=LW(iY),jQ,CQ,nY,MX=C0({},iY,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:VB,button:0,buttons:0,relatedTarget:function(W){return W.relatedTarget===void 0?W.fromElement===W.srcElement?W.toElement:W.fromElement:W.relatedTarget},movementX:function(W){if("movementX"in W)return W.movementX;return W!==nY&&(nY&&W.type==="mousemove"?(jQ=W.screenX-nY.screenX,CQ=W.screenY-nY.screenY):CQ=jQ=0,nY=W),jQ},movementY:function(W){return"movementY"in W?W.movementY:CQ}}),ZH=LW(MX),qA=C0({},MX,{dataTransfer:0}),MA=LW(qA),SA=C0({},iY,{relatedTarget:0}),FQ=LW(SA),RA=C0({},WZ,{animationName:0,elapsedTime:0,pseudoElement:0}),kA=LW(RA),xA=C0({},WZ,{clipboardData:function(W){return"clipboardData"in W?W.clipboardData:window.clipboardData}}),bA=LW(xA),vA=C0({},WZ,{data:0}),YH=LW(vA),fA=YH,yA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},mA=C0({},iY,{key:function(W){if(W.key){var G=yA[W.key]||W.key;if(G!=="Unidentified")return G}return W.type==="keypress"?(W=C8(W),W===13?"Enter":String.fromCharCode(W)):W.type==="keydown"||W.type==="keyup"?gA[W.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:VB,charCode:function(W){return W.type==="keypress"?C8(W):0},keyCode:function(W){return W.type==="keydown"||W.type==="keyup"?W.keyCode:0},which:function(W){return W.type==="keypress"?C8(W):W.type==="keydown"||W.type==="keyup"?W.keyCode:0}}),dA=LW(mA),uA=C0({},MX,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XH=LW(uA),pA=C0({},iY,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:VB}),cA=LW(pA),lA=C0({},WZ,{propertyName:0,elapsedTime:0,pseudoElement:0}),iA=LW(lA),nA=C0({},MX,{deltaX:function(W){return"deltaX"in W?W.deltaX:("wheelDeltaX"in W)?-W.wheelDeltaX:0},deltaY:function(W){return"deltaY"in W?W.deltaY:("wheelDeltaY"in W)?-W.wheelDeltaY:("wheelDelta"in W)?-W.wheelDelta:0},deltaZ:0,deltaMode:0}),sA=LW(nA),oA=C0({},WZ,{newState:0,oldState:0}),aA=LW(oA),rA=[9,13,27,32],BH=229,qQ=W5&&"CompositionEvent"in window,sY=null;W5&&"documentMode"in document&&(sY=document.documentMode);var tA=W5&&"TextEvent"in window&&!sY,QH=W5&&(!qQ||sY&&8<sY&&11>=sY),JH=32,NH=String.fromCharCode(JH),$H=!1,K7=!1,eA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},oY=null,aY=null,zH=!1;W5&&(zH=FL("input")&&(!document.documentMode||9<document.documentMode));var NW=typeof Object.is==="function"?Object.is:xL,WE=W5&&"documentMode"in document&&11>=document.documentMode,U7=null,MQ=null,rY=null,SQ=!1,H7={animationend:fG("Animation","AnimationEnd"),animationiteration:fG("Animation","AnimationIteration"),animationstart:fG("Animation","AnimationStart"),transitionrun:fG("Transition","TransitionRun"),transitionstart:fG("Transition","TransitionStart"),transitioncancel:fG("Transition","TransitionCancel"),transitionend:fG("Transition","TransitionEnd")},RQ={},KH={};W5&&(KH=document.createElement("div").style,("AnimationEvent"in window)||(delete H7.animationend.animation,delete H7.animationiteration.animation,delete H7.animationstart.animation),("TransitionEvent"in window)||delete H7.transitionend.transition);var UH=yG("animationend"),HH=yG("animationiteration"),_H=yG("animationstart"),GE=yG("transitionrun"),ZE=yG("transitionstart"),YE=yG("transitioncancel"),wH=yG("transitionend"),OH=new Map,VH="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" "),tY=1,GZ=2,j5=4,rW=[],_7=0,kQ=0,zG={};Object.freeze(zG);var tW=null,w7=null,X1=0,XE=1,n1=2,YW=8,P9=16,LH=64,O7=h0.unstable_now,xQ=-0,SX=-0,IW=-1.1,ZZ=-0,RX=!1,kX=!1,j9={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},eY=[],W4=[],G4=[],Z4=[],Y4=[],X4=[],YZ=new Set;j9.recordUnsafeLifecycleWarnings=function(W,G){YZ.has(W.type)||(typeof G.componentWillMount==="function"&&G.componentWillMount.__suppressDeprecationWarning!==!0&&eY.push(W),W.mode&YW&&typeof G.UNSAFE_componentWillMount==="function"&&W4.push(W),typeof G.componentWillReceiveProps==="function"&&G.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&G4.push(W),W.mode&YW&&typeof G.UNSAFE_componentWillReceiveProps==="function"&&Z4.push(W),typeof G.componentWillUpdate==="function"&&G.componentWillUpdate.__suppressDeprecationWarning!==!0&&Y4.push(W),W.mode&YW&&typeof G.UNSAFE_componentWillUpdate==="function"&&X4.push(W))},j9.flushPendingUnsafeLifecycleWarnings=function(){var W=new Set;0<eY.length&&(eY.forEach(function(H){W.add(p(H)||"Component"),YZ.add(H.type)}),eY=[]);var G=new Set;0<W4.length&&(W4.forEach(function(H){G.add(p(H)||"Component"),YZ.add(H.type)}),W4=[]);var Z=new Set;0<G4.length&&(G4.forEach(function(H){Z.add(p(H)||"Component"),YZ.add(H.type)}),G4=[]);var X=new Set;0<Z4.length&&(Z4.forEach(function(H){X.add(p(H)||"Component"),YZ.add(H.type)}),Z4=[]);var B=new Set;0<Y4.length&&(Y4.forEach(function(H){B.add(p(H)||"Component"),YZ.add(H.type)}),Y4=[]);var J=new Set;if(0<X4.length&&(X4.forEach(function(H){J.add(p(H)||"Component"),YZ.add(H.type)}),X4=[]),0<G.size){var z=F(G);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,z)}0<X.size&&(z=F(X),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,z)),0<J.size&&(z=F(J),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,z)),0<W.size&&(z=F(W),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,z)),0<Z.size&&(z=F(Z),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,z)),0<B.size&&(z=F(B),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,z))};var xX=new Map,TH=new Set;j9.recordLegacyContextWarning=function(W,G){var Z=null;for(var X=W;X!==null;)X.mode&YW&&(Z=X),X=X.return;Z===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!TH.has(W.type)&&(X=xX.get(Z),W.type.contextTypes!=null||W.type.childContextTypes!=null||G!==null&&typeof G.getChildContext==="function")&&(X===void 0&&(X=[],xX.set(Z,X)),X.push(W))},j9.flushLegacyContextWarning=function(){xX.forEach(function(W){if(W.length!==0){var G=W[0],Z=new Set;W.forEach(function(B){Z.add(p(B)||"Component"),TH.add(B.type)});var X=F(Z);W0(G,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,X)})}})},j9.discardPendingWarnings=function(){eY=[],W4=[],G4=[],Z4=[],Y4=[],X4=[],xX=new Map};var bQ=new WeakMap,V7=[],L7=0,bX=null,vX=0,eW=[],W9=0,XZ=null,C5=1,F5="",$W=null,s1=null,v0=!1,q5=!1,G9=null,C9=null,G5=!1,vQ=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),fX=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`"),AH=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),fQ={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},B4=null,yX=!1,EH={"react-stack-bottom-frame":function(W,G,Z){var X=aW;aW=!0;try{return W(G,Z)}finally{aW=X}}},yQ=EH["react-stack-bottom-frame"].bind(EH),IH={"react-stack-bottom-frame":function(W){var G=aW;aW=!0;try{return W.render()}finally{aW=G}}},DH=IH["react-stack-bottom-frame"].bind(IH),PH={"react-stack-bottom-frame":function(W,G){try{G.componentDidMount()}catch(Z){a0(W,W.return,Z)}}},gQ=PH["react-stack-bottom-frame"].bind(PH),jH={"react-stack-bottom-frame":function(W,G,Z,X,B){try{G.componentDidUpdate(Z,X,B)}catch(J){a0(W,W.return,J)}}},CH=jH["react-stack-bottom-frame"].bind(jH),FH={"react-stack-bottom-frame":function(W,G){var Z=G.stack;W.componentDidCatch(G.value,{componentStack:Z!==null?Z:""})}},BE=FH["react-stack-bottom-frame"].bind(FH),qH={"react-stack-bottom-frame":function(W,G,Z){try{Z.componentWillUnmount()}catch(X){a0(W,G,X)}}},MH=qH["react-stack-bottom-frame"].bind(qH),SH={"react-stack-bottom-frame":function(W){var G=W.create;return W=W.inst,G=G(),W.destroy=G}},QE=SH["react-stack-bottom-frame"].bind(SH),RH={"react-stack-bottom-frame":function(W,G,Z){try{Z()}catch(X){a0(W,G,X)}}},JE=RH["react-stack-bottom-frame"].bind(RH),kH={"react-stack-bottom-frame":function(W){var G=W._init;return G(W._payload)}},KG=kH["react-stack-bottom-frame"].bind(kH),T7=null,Q4=0,j0=null,hQ,xH=hQ=!1,bH={},vH={},fH={};A=function(W,G,Z){if(Z!==null&&typeof Z==="object"&&Z._store&&(!Z._store.validated&&Z.key==null||Z._store.validated===2)){if(typeof Z._store!=="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");Z._store.validated=1;var X=p(W),B=X||"null";if(!bH[B]){bH[B]=!0,Z=Z._owner,W=W._debugOwner;var J="";W&&typeof W.tag==="number"&&(B=p(W))&&(J=`

Check the render method of \``+B+"`."),J||X&&(J=`

Check the top-level render call using <`+X+">.");var z="";Z!=null&&W!==Z&&(X=null,typeof Z.tag==="number"?X=p(Z):typeof Z.name==="string"&&(X=Z.name),X&&(z=" It was passed a child from "+X+".")),W0(G,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',J,z)})}}};var BZ=p$(!0),yH=p$(!1),A7=l0(null),gX=l0(0),Z9=l0(null),Z5=null,E7=1,J4=2,S1=l0(0),Y9=0,X9=1,zW=2,o1=4,R1=8,NE=typeof AbortController!=="undefined"?AbortController:function(){var W=[],G=this.signal={aborted:!1,addEventListener:function(Z,X){W.push(X)}};this.abort=function(){G.aborted=!0,W.forEach(function(Z){return Z()})}},$E=h0.unstable_scheduleCallback,zE=h0.unstable_NormalPriority,k1={$$typeof:a9,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},N4=null,mQ=0,QZ=0,I7=null,gH=g.S;g.S=function(W,G){typeof G==="object"&&G!==null&&typeof G.then==="function"&&vL(W,G),gH!==null&&gH(W,G)};var JZ=l0(null),D7,hH=new Set,mH=new Set,dQ=new Set,dH=new Set,UG=0,V0=null,t0=null,F1=null,hX=!1,P7=!1,NZ=!1,mX=0,$4=0,M5=null,KE=0,UE=25,y=null,B9=null,S5=-1,z4=!1,uQ=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Y5={readContext:H1,use:t5,useCallback:P1,useContext:P1,useEffect:P1,useImperativeHandle:P1,useLayoutEffect:P1,useInsertionEffect:P1,useMemo:P1,useReducer:P1,useRef:P1,useState:P1,useDebugValue:P1,useDeferredValue:P1,useTransition:P1,useSyncExternalStore:P1,useId:P1};Y5.useCacheRefresh=P1,Y5.useMemoCache=P1,Y5.useHostTransitionStatus=P1,Y5.useFormState=P1,Y5.useActionState=P1,Y5.useOptimistic=P1;var HG=null,$Z=null,_G=null,zZ=null,DW=null,KW=null,wG=null;HG={readContext:function(W){return H1(W)},use:t5,useCallback:function(W,G){return y="useCallback",q0(),uZ(G),nB(W,G)},useContext:function(W){return y="useContext",q0(),H1(W)},useEffect:function(W,G){return y="useEffect",q0(),uZ(G),i8(W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",q0(),uZ(Z),iB(W,G,Z)},useInsertionEffect:function(W,G){y="useInsertionEffect",q0(),uZ(G),lG(4,zW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",q0(),uZ(G),lB(W,G)},useMemo:function(W,G){y="useMemo",q0(),uZ(G);var Z=g.H;g.H=DW;try{return sB(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",q0();var X=g.H;g.H=DW;try{return yB(W,G,Z)}finally{g.H=X}},useRef:function(W){return y="useRef",q0(),cB(W)},useState:function(W){y="useState",q0();var G=g.H;g.H=DW;try{return dB(W)}finally{g.H=G}},useDebugValue:function(){y="useDebugValue",q0()},useDeferredValue:function(W,G){return y="useDeferredValue",q0(),oB(W,G)},useTransition:function(){return y="useTransition",q0(),tB()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",q0(),hB(W,G,Z)},useId:function(){return y="useId",q0(),eB()},useCacheRefresh:function(){return y="useCacheRefresh",q0(),W6()}},HG.useMemoCache=cG,HG.useHostTransitionStatus=iG,HG.useFormState=function(W,G){return y="useFormState",q0(),u8(),cZ(W,G)},HG.useActionState=function(W,G){return y="useActionState",q0(),cZ(W,G)},HG.useOptimistic=function(W){return y="useOptimistic",q0(),uB(W)},$Z={readContext:function(W){return H1(W)},use:t5,useCallback:function(W,G){return y="useCallback",s(),nB(W,G)},useContext:function(W){return y="useContext",s(),H1(W)},useEffect:function(W,G){return y="useEffect",s(),i8(W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",s(),iB(W,G,Z)},useInsertionEffect:function(W,G){y="useInsertionEffect",s(),lG(4,zW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",s(),lB(W,G)},useMemo:function(W,G){y="useMemo",s();var Z=g.H;g.H=DW;try{return sB(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",s();var X=g.H;g.H=DW;try{return yB(W,G,Z)}finally{g.H=X}},useRef:function(W){return y="useRef",s(),cB(W)},useState:function(W){y="useState",s();var G=g.H;g.H=DW;try{return dB(W)}finally{g.H=G}},useDebugValue:function(){y="useDebugValue",s()},useDeferredValue:function(W,G){return y="useDeferredValue",s(),oB(W,G)},useTransition:function(){return y="useTransition",s(),tB()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",s(),hB(W,G,Z)},useId:function(){return y="useId",s(),eB()},useCacheRefresh:function(){return y="useCacheRefresh",s(),W6()}},$Z.useMemoCache=cG,$Z.useHostTransitionStatus=iG,$Z.useFormState=function(W,G){return y="useFormState",s(),u8(),cZ(W,G)},$Z.useActionState=function(W,G){return y="useActionState",s(),cZ(W,G)},$Z.useOptimistic=function(W){return y="useOptimistic",s(),uB(W)},_G={readContext:function(W){return H1(W)},use:t5,useCallback:function(W,G){return y="useCallback",s(),s8(W,G)},useContext:function(W){return y="useContext",s(),H1(W)},useEffect:function(W,G){y="useEffect",s(),AW(2048,R1,W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",s(),n8(W,G,Z)},useInsertionEffect:function(W,G){return y="useInsertionEffect",s(),AW(4,zW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",s(),AW(4,o1,W,G)},useMemo:function(W,G){y="useMemo",s();var Z=g.H;g.H=KW;try{return o8(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",s();var X=g.H;g.H=KW;try{return pZ(W,G,Z)}finally{g.H=X}},useRef:function(){return y="useRef",s(),o0().memoizedState},useState:function(){y="useState",s();var W=g.H;g.H=KW;try{return pZ(A9)}finally{g.H=W}},useDebugValue:function(){y="useDebugValue",s()},useDeferredValue:function(W,G){return y="useDeferredValue",s(),zz(W,G)},useTransition:function(){return y="useTransition",s(),Oz()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",s(),p8(W,G,Z)},useId:function(){return y="useId",s(),o0().memoizedState},useCacheRefresh:function(){return y="useCacheRefresh",s(),o0().memoizedState}},_G.useMemoCache=cG,_G.useHostTransitionStatus=iG,_G.useFormState=function(W){return y="useFormState",s(),u8(),c8(W)},_G.useActionState=function(W){return y="useActionState",s(),c8(W)},_G.useOptimistic=function(W,G){return y="useOptimistic",s(),Wz(W,G)},zZ={readContext:function(W){return H1(W)},use:t5,useCallback:function(W,G){return y="useCallback",s(),s8(W,G)},useContext:function(W){return y="useContext",s(),H1(W)},useEffect:function(W,G){y="useEffect",s(),AW(2048,R1,W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",s(),n8(W,G,Z)},useInsertionEffect:function(W,G){return y="useInsertionEffect",s(),AW(4,zW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",s(),AW(4,o1,W,G)},useMemo:function(W,G){y="useMemo",s();var Z=g.H;g.H=wG;try{return o8(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",s();var X=g.H;g.H=wG;try{return IY(W,G,Z)}finally{g.H=X}},useRef:function(){return y="useRef",s(),o0().memoizedState},useState:function(){y="useState",s();var W=g.H;g.H=wG;try{return IY(A9)}finally{g.H=W}},useDebugValue:function(){y="useDebugValue",s()},useDeferredValue:function(W,G){return y="useDeferredValue",s(),Kz(W,G)},useTransition:function(){return y="useTransition",s(),Vz()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",s(),p8(W,G,Z)},useId:function(){return y="useId",s(),o0().memoizedState},useCacheRefresh:function(){return y="useCacheRefresh",s(),o0().memoizedState}},zZ.useMemoCache=cG,zZ.useHostTransitionStatus=iG,zZ.useFormState=function(W){return y="useFormState",s(),u8(),l8(W)},zZ.useActionState=function(W){return y="useActionState",s(),l8(W)},zZ.useOptimistic=function(W,G){return y="useOptimistic",s(),Zz(W,G)},DW={readContext:function(W){return V(),H1(W)},use:function(W){return O(),t5(W)},useCallback:function(W,G){return y="useCallback",O(),q0(),nB(W,G)},useContext:function(W){return y="useContext",O(),q0(),H1(W)},useEffect:function(W,G){return y="useEffect",O(),q0(),i8(W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",O(),q0(),iB(W,G,Z)},useInsertionEffect:function(W,G){y="useInsertionEffect",O(),q0(),lG(4,zW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",O(),q0(),lB(W,G)},useMemo:function(W,G){y="useMemo",O(),q0();var Z=g.H;g.H=DW;try{return sB(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",O(),q0();var X=g.H;g.H=DW;try{return yB(W,G,Z)}finally{g.H=X}},useRef:function(W){return y="useRef",O(),q0(),cB(W)},useState:function(W){y="useState",O(),q0();var G=g.H;g.H=DW;try{return dB(W)}finally{g.H=G}},useDebugValue:function(){y="useDebugValue",O(),q0()},useDeferredValue:function(W,G){return y="useDeferredValue",O(),q0(),oB(W,G)},useTransition:function(){return y="useTransition",O(),q0(),tB()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",O(),q0(),hB(W,G,Z)},useId:function(){return y="useId",O(),q0(),eB()},useCacheRefresh:function(){return y="useCacheRefresh",q0(),W6()},useMemoCache:function(W){return O(),cG(W)}},DW.useHostTransitionStatus=iG,DW.useFormState=function(W,G){return y="useFormState",O(),q0(),cZ(W,G)},DW.useActionState=function(W,G){return y="useActionState",O(),q0(),cZ(W,G)},DW.useOptimistic=function(W){return y="useOptimistic",O(),q0(),uB(W)},KW={readContext:function(W){return V(),H1(W)},use:function(W){return O(),t5(W)},useCallback:function(W,G){return y="useCallback",O(),s(),s8(W,G)},useContext:function(W){return y="useContext",O(),s(),H1(W)},useEffect:function(W,G){y="useEffect",O(),s(),AW(2048,R1,W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",O(),s(),n8(W,G,Z)},useInsertionEffect:function(W,G){return y="useInsertionEffect",O(),s(),AW(4,zW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",O(),s(),AW(4,o1,W,G)},useMemo:function(W,G){y="useMemo",O(),s();var Z=g.H;g.H=KW;try{return o8(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",O(),s();var X=g.H;g.H=KW;try{return pZ(W,G,Z)}finally{g.H=X}},useRef:function(){return y="useRef",O(),s(),o0().memoizedState},useState:function(){y="useState",O(),s();var W=g.H;g.H=KW;try{return pZ(A9)}finally{g.H=W}},useDebugValue:function(){y="useDebugValue",O(),s()},useDeferredValue:function(W,G){return y="useDeferredValue",O(),s(),zz(W,G)},useTransition:function(){return y="useTransition",O(),s(),Oz()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",O(),s(),p8(W,G,Z)},useId:function(){return y="useId",O(),s(),o0().memoizedState},useCacheRefresh:function(){return y="useCacheRefresh",s(),o0().memoizedState},useMemoCache:function(W){return O(),cG(W)}},KW.useHostTransitionStatus=iG,KW.useFormState=function(W){return y="useFormState",O(),s(),c8(W)},KW.useActionState=function(W){return y="useActionState",O(),s(),c8(W)},KW.useOptimistic=function(W,G){return y="useOptimistic",O(),s(),Wz(W,G)},wG={readContext:function(W){return V(),H1(W)},use:function(W){return O(),t5(W)},useCallback:function(W,G){return y="useCallback",O(),s(),s8(W,G)},useContext:function(W){return y="useContext",O(),s(),H1(W)},useEffect:function(W,G){y="useEffect",O(),s(),AW(2048,R1,W,G)},useImperativeHandle:function(W,G,Z){return y="useImperativeHandle",O(),s(),n8(W,G,Z)},useInsertionEffect:function(W,G){return y="useInsertionEffect",O(),s(),AW(4,zW,W,G)},useLayoutEffect:function(W,G){return y="useLayoutEffect",O(),s(),AW(4,o1,W,G)},useMemo:function(W,G){y="useMemo",O(),s();var Z=g.H;g.H=KW;try{return o8(W,G)}finally{g.H=Z}},useReducer:function(W,G,Z){y="useReducer",O(),s();var X=g.H;g.H=KW;try{return IY(W,G,Z)}finally{g.H=X}},useRef:function(){return y="useRef",O(),s(),o0().memoizedState},useState:function(){y="useState",O(),s();var W=g.H;g.H=KW;try{return IY(A9)}finally{g.H=W}},useDebugValue:function(){y="useDebugValue",O(),s()},useDeferredValue:function(W,G){return y="useDeferredValue",O(),s(),Kz(W,G)},useTransition:function(){return y="useTransition",O(),s(),Vz()},useSyncExternalStore:function(W,G,Z){return y="useSyncExternalStore",O(),s(),p8(W,G,Z)},useId:function(){return y="useId",O(),s(),o0().memoizedState},useCacheRefresh:function(){return y="useCacheRefresh",s(),o0().memoizedState},useMemoCache:function(W){return O(),cG(W)}},wG.useHostTransitionStatus=iG,wG.useFormState=function(W){return y="useFormState",O(),s(),l8(W)},wG.useActionState=function(W){return y="useActionState",O(),s(),l8(W)},wG.useOptimistic=function(W,G){return y="useOptimistic",O(),s(),Zz(W,G)};var uH={},pH=new Set,cH=new Set,lH=new Set,iH=new Set,nH=new Set,sH=new Set,oH=new Set,aH=new Set,rH=new Set,tH=new Set;Object.freeze(uH);var pQ={isMounted:function(W){var G=WW;if(G!==null&&aW&&G.tag===1){var Z=G.stateNode;Z._warnedAboutRefsInRender||console.error("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",p(G)||"A component"),Z._warnedAboutRefsInRender=!0}return(W=W._reactInternals)?t(W)===W:!1},enqueueSetState:function(W,G,Z){W=W._reactInternals;var X=kW(W),B=WG(X);B.payload=G,Z!==void 0&&Z!==null&&(Z6(Z),B.callback=Z),G=GG(W,B,X),G!==null&&(O1(G,W,X),CY(G,W,X)),Q1(W,X)},enqueueReplaceState:function(W,G,Z){W=W._reactInternals;var X=kW(W),B=WG(X);B.tag=N_,B.payload=G,Z!==void 0&&Z!==null&&(Z6(Z),B.callback=Z),G=GG(W,B,X),G!==null&&(O1(G,W,X),CY(G,W,X)),Q1(W,X)},enqueueForceUpdate:function(W,G){W=W._reactInternals;var Z=kW(W),X=WG(Z);X.tag=$_,G!==void 0&&G!==null&&(Z6(G),X.callback=G),G=GG(W,X,Z),G!==null&&(O1(G,W,Z),CY(G,W,Z)),e!==null&&typeof e.markForceUpdateScheduled==="function"&&e.markForceUpdateScheduled(W,Z)}},dX=typeof reportError==="function"?reportError:function(W){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W==="object"&&W!==null&&typeof W.message==="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(G))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",W);return}console.error(W)},j7=null,cQ=null,eH=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),m1=!1,W_={},G_={},Z_={},Y_={},C7=!1,X_={},lQ={},iQ={dehydrated:null,treeContext:null,retryLane:0},B_=!1,nQ=l0(null),sQ=l0(null),Q_={},uX=null,F7=null,q7=!1,J_=0,N_=1,$_=2,oQ=3,OG=!1,z_=!1,aQ=null,rQ=!1,K_=null;K_=new Set;var R5=!1,A1=!1,tQ=!1,U_=typeof WeakSet==="function"?WeakSet:Set,d1=null,M7=null,S7=null,H_=!1,q1=null,bW=!1,F9=null,K4=8192,__=!1;try{var w_=Object.preventExtensions({});}catch(W){__=!0}var HE={getCacheForType:function(W){var G=H1(k1),Z=G.data.get(W);return Z===void 0&&(Z=W(),G.data.set(W,Z)),Z},getOwner:function(){return WW}};if(typeof Symbol==="function"&&Symbol.for){var U4=Symbol.for;U4("selector.component"),U4("selector.has_pseudo_class"),U4("selector.role"),U4("selector.test_id"),U4("selector.text")}var _E=[],wE=typeof WeakMap==="function"?WeakMap:Map,vW=0,UW=2,k5=4,x5=0,H4=1,R7=2,eQ=3,KZ=4,O_=5,pX=6,$1=vW,Z1=null,F0=null,M0=0,PW=0,_4=1,UZ=2,w4=3,V_=4,WJ=5,k7=6,O4=7,GJ=8,Y1=PW,fW=null,b5=!1,x7=!1,ZJ=!1,X5=0,E1=x5,VG=0,LG=0,YJ=0,yW=0,HZ=0,V4=null,q9=null,cX=!1,XJ=0,L_=300,lX=1/0,T_=500,L4=null,TG=null,iX=!1,_Z=null,T4=0,BJ=0,QJ=null,OE=50,A4=0,JJ=null,NJ=!1,nX=!1,VE=50,wZ=0,E4=null,b7=!1,A_=0,LE=1,TE=2,sX=null,E_=!1,I_=new Set,AE={},oX=null,v7=null,$J=!1,zJ=!1,aX=!1,KJ=!1,OZ=0,UJ={};(function(){for(var W=0;W<VH.length;W++){var G=VH[W],Z=G.toLowerCase();G=G[0].toUpperCase()+G.slice(1),T9(Z,"on"+G)}T9(UH,"onAnimationEnd"),T9(HH,"onAnimationIteration"),T9(_H,"onAnimationStart"),T9("dblclick","onDoubleClick"),T9("focusin","onFocus"),T9("focusout","onBlur"),T9(GE,"onTransitionRun"),T9(ZE,"onTransitionStart"),T9(YE,"onTransitionCancel"),T9(wH,"onTransitionEnd")})(),V9("onMouseEnter",["mouseout","mouseover"]),V9("onMouseLeave",["mouseout","mouseover"]),V9("onPointerEnter",["pointerout","pointerover"]),V9("onPointerLeave",["pointerout","pointerover"]),u9("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u9("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u9("onBeforeInput",["compositionend","keypress","textInput","paste"]),u9("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u9("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u9("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var I4="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HJ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(I4)),rX="_reactListening"+Math.random().toString(36).slice(2),D_=!1,P_=!1,tX=!1,j_=!1,eX=!1,W2=!1,C_=!1,G2={},EE=!0,IE=/\r\n?/g,DE=/\u0000|\uFFFD/g,VZ="http://www.w3.org/1999/xlink",_J="http://www.w3.org/XML/1998/namespace",PE="javascript:throw new Error('React form unexpectedly submitted.')",jE="suppressHydrationWarning",Z2="$",Y2="/$",LZ="$?",TZ="$!",wJ="F!",F_="F",CE="style",v5=0,f7=1,X2=2,OJ=null,VJ=null,q_={dialog:!0,webview:!0},LJ=null,M_=typeof setTimeout==="function"?setTimeout:void 0,FE=typeof clearTimeout==="function"?clearTimeout:void 0,TJ=-1,S_=typeof Promise==="function"?Promise:void 0,qE=typeof queueMicrotask==="function"?queueMicrotask:typeof S_!=="undefined"?function(W){return S_.resolve(null).then(W).catch(AT)}:M_,AZ=0,D4=1,R_=2,k_=3,Q9=4,J9=new Map,x_=new Set,f5=N1.d;N1.d={f:function(){var W=f5.f(),G=aZ();return W||G},r:function(W){var G=d9(W);G!==null&&G.tag===5&&G.type==="form"?wz(G):f5.r(W)},D:function(W){f5.D(W),YU("dns-prefetch",W,null)},C:function(W,G){f5.C(W,G),YU("preconnect",W,G)},L:function(W,G,Z){f5.L(W,G,Z);var X=y7;if(X&&W&&G){var B='link[rel="preload"][as="'+A0(G)+'"]';G==="image"?Z&&Z.imageSrcSet?(B+='[imagesrcset="'+A0(Z.imageSrcSet)+'"]',typeof Z.imageSizes==="string"&&(B+='[imagesizes="'+A0(Z.imageSizes)+'"]')):B+='[href="'+A0(W)+'"]':B+='[href="'+A0(W)+'"]';var J=B;switch(G){case"style":J=W7(W);break;case"script":J=G7(W)}J9.has(J)||(W=C0({rel:"preload",href:G==="image"&&Z&&Z.imageSrcSet?void 0:W,as:G},Z),J9.set(J,W),X.querySelector(B)!==null||G==="style"&&X.querySelector(fY(J))||G==="script"&&X.querySelector(yY(J))||(G=X.createElement("link"),l1(G,"link",W),D1(G),X.head.appendChild(G)))}},m:function(W,G){f5.m(W,G);var Z=y7;if(Z&&W){var X=G&&typeof G.as==="string"?G.as:"script",B='link[rel="modulepreload"][as="'+A0(X)+'"][href="'+A0(W)+'"]',J=B;switch(X){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":J=G7(W)}if(!J9.has(J)&&(W=C0({rel:"modulepreload",href:W},G),J9.set(J,W),Z.querySelector(B)===null)){switch(X){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Z.querySelector(yY(J)))return}X=Z.createElement("link"),l1(X,"link",W),D1(X),Z.head.appendChild(X)}}},X:function(W,G){f5.X(W,G);var Z=y7;if(Z&&W){var X=_5(Z).hoistableScripts,B=G7(W),J=X.get(B);J||(J=Z.querySelector(yY(B)),J||(W=C0({src:W,async:!0},G),(G=J9.get(B))&&t6(W,G),J=Z.createElement("script"),D1(J),l1(J,"link",W),Z.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},X.set(B,J))}},S:function(W,G,Z){f5.S(W,G,Z);var X=y7;if(X&&W){var B=_5(X).hoistableStyles,J=W7(W);G=G||"default";var z=B.get(J);if(!z){var H={loading:AZ,preload:null};if(z=X.querySelector(fY(J)))H.loading=D4|Q9;else{W=C0({rel:"stylesheet",href:W,"data-precedence":G},Z),(Z=J9.get(J))&&r6(W,Z);var T=z=X.createElement("link");D1(T),l1(T,"link",W),T._p=new Promise(function(I,b){T.onload=I,T.onerror=b}),T.addEventListener("load",function(){H.loading|=D4}),T.addEventListener("error",function(){H.loading|=R_}),H.loading|=Q9,HX(z,G,X)}z={type:"stylesheet",instance:z,count:1,state:H},B.set(J,z)}}},M:function(W,G){f5.M(W,G);var Z=y7;if(Z&&W){var X=_5(Z).hoistableScripts,B=G7(W),J=X.get(B);J||(J=Z.querySelector(yY(B)),J||(W=C0({src:W,async:!0,type:"module"},G),(G=J9.get(B))&&t6(W,G),J=Z.createElement("script"),D1(J),l1(J,"link",W),Z.head.appendChild(J)),J={type:"script",instance:J,count:1,state:null},X.set(B,J))}}};var y7=typeof document==="undefined"?null:document,B2=null,P4=null,AJ=null,Q2=null,EZ=eT,j4={$$typeof:a9,Provider:null,Consumer:null,_currentValue:EZ,_currentValue2:EZ,_threadCount:0},b_="%c%s%c ",v_="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",f_="",J2=" ",y_=Function.prototype.bind,g_=!1,h_=null,m_=null,d_=null,u_=null,p_=null,c_=null,l_=null,i_=null,n_=null;h_=function(W,G,Z,X){G=Y(W,G),G!==null&&(Z=Q(G.memoizedState,Z,0,X),G.memoizedState=Z,G.baseState=Z,W.memoizedProps=C0({},W.memoizedProps),Z=e1(W,2),Z!==null&&O1(Z,W,2))},m_=function(W,G,Z){G=Y(W,G),G!==null&&(Z=K(G.memoizedState,Z,0),G.memoizedState=Z,G.baseState=Z,W.memoizedProps=C0({},W.memoizedProps),Z=e1(W,2),Z!==null&&O1(Z,W,2))},d_=function(W,G,Z,X){G=Y(W,G),G!==null&&(Z=N(G.memoizedState,Z,X),G.memoizedState=Z,G.baseState=Z,W.memoizedProps=C0({},W.memoizedProps),Z=e1(W,2),Z!==null&&O1(Z,W,2))},u_=function(W,G,Z){W.pendingProps=Q(W.memoizedProps,G,0,Z),W.alternate&&(W.alternate.pendingProps=W.pendingProps),G=e1(W,2),G!==null&&O1(G,W,2)},p_=function(W,G){W.pendingProps=K(W.memoizedProps,G,0),W.alternate&&(W.alternate.pendingProps=W.pendingProps),G=e1(W,2),G!==null&&O1(G,W,2)},c_=function(W,G,Z){W.pendingProps=N(W.memoizedProps,G,Z),W.alternate&&(W.alternate.pendingProps=W.pendingProps),G=e1(W,2),G!==null&&O1(G,W,2)},l_=function(W){var G=e1(W,2);G!==null&&O1(G,W,2)},i_=function(W){_=W},n_=function(W){U=W};var N2=!0,$2=null,EJ=!1,AG=null,EG=null,IG=null,C4=new Map,F4=new Map,DG=[],ME="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),z2=null;if(VX.prototype.render=XQ.prototype.render=function(W,G){var Z=this._internalRoot;if(Z===null)throw Error("Cannot update an unmounted root.");typeof G==="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):S(G)?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof G!=="undefined"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),G=Z.current;var X=kW(G);HU(G,X,W,Z,null,null)},VX.prototype.unmount=XQ.prototype.unmount=function(W){if(typeof W==="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),W=this._internalRoot,W!==null){this._internalRoot=null;var G=W.containerInfo;($1&(UW|k5))!==vW&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),UU(null,W,null,null),aZ(),G[tG]=null}},VX.prototype.unstable_scheduleHydration=function(W){if(W){var G=I8();W={blockedOn:null,target:W,priority:G};for(var Z=0;Z<DG.length&&G!==0&&G<DG[Z].priority;Z++);DG.splice(Z,0,W),Z===0&&LU(W)}},function(){var W=g7.version;if(W!=="19.0.0")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(W+`
  - react-dom:  19.0.0
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),N1.findDOMNode=function(W){var G=W._reactInternals;if(G===void 0){if(typeof W.render==="function")throw Error("Unable to find node on an unmounted component.");throw W=Object.keys(W).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+W)}return W=m0(G),W=W!==null?n0(W):null,W=W===null?null:W.stateNode,W},!function(){var W={bundleType:1,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:g,findFiberByHostInstance:m9,reconcilerVersion:"19.0.0"};return W.overrideHookState=h_,W.overrideHookStateDeletePath=m_,W.overrideHookStateRenamePath=d_,W.overrideProps=u_,W.overridePropsDeletePath=p_,W.overridePropsRenamePath=c_,W.scheduleUpdate=l_,W.setErrorHandler=i_,W.setSuspenseHandler=n_,W.scheduleRefresh=M,W.scheduleRoot=R,W.setRefreshHandler=h,W.getCurrentFiber=pT,W.getLaneLabelMap=cT,W.injectProfilingHooks=kG,H5(W)}()&&W5&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var s_=window.location.protocol;/^(https?|file):$/.test(s_)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(s_==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}uE.createRoot=function(W,G){if(!S(W))throw Error("Target container is not a DOM element.");EU(W);var Z=!1,X="",B=Dz,J=Pz,z=jz,H=null;return G!==null&&G!==void 0&&(G.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof G==="object"&&G!==null&&G.$$typeof===BG&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),G.unstable_strictMode===!0&&(Z=!0),G.identifierPrefix!==void 0&&(X=G.identifierPrefix),G.onUncaughtError!==void 0&&(B=G.onUncaughtError),G.onCaughtError!==void 0&&(J=G.onCaughtError),G.onRecoverableError!==void 0&&(z=G.onRecoverableError),G.unstable_transitionCallbacks!==void 0&&(H=G.unstable_transitionCallbacks)),G=zU(W,1,!1,null,null,Z,X,B,J,z,H,null),W[tG]=G.current,u6(W.nodeType===8?W.parentNode:W),new XQ(G)},uE.hydrateRoot=function(W,G,Z){if(!S(W))throw Error("Target container is not a DOM element.");EU(W),G===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var X=!1,B="",J=Dz,z=Pz,H=jz,T=null,I=null;return Z!==null&&Z!==void 0&&(Z.unstable_strictMode===!0&&(X=!0),Z.identifierPrefix!==void 0&&(B=Z.identifierPrefix),Z.onUncaughtError!==void 0&&(J=Z.onUncaughtError),Z.onCaughtError!==void 0&&(z=Z.onCaughtError),Z.onRecoverableError!==void 0&&(H=Z.onRecoverableError),Z.unstable_transitionCallbacks!==void 0&&(T=Z.unstable_transitionCallbacks),Z.formState!==void 0&&(I=Z.formState)),G=zU(W,1,!0,G,Z!=null?Z:null,X,B,J,z,H,T,I),G.context=KU(null),Z=G.current,X=kW(Z),B=WG(X),B.callback=null,GG(Z,B,X),G.current.lanes=X,y1(G,X),s9(G),W[tG]=G.current,u6(W),new VX(G)},uE.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var Ww=B5((qF,e_)=>{e_.exports=t_()});var Xw=B5((Yw)=>{Object.defineProperty(Yw,"__esModule",{value:!0});Yw.parse=oE;Yw.serialize=aE;var pE=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cE=/^[\u0021-\u003A\u003C-\u007E]*$/,lE=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,iE=/^[\u0020-\u003A\u003D-\u007E]*$/,nE=Object.prototype.toString,sE=(()=>{let Y=function(){};return Y.prototype=Object.create(null),Y})();function oE(Y,Q){let N=new sE,$=Y.length;if($<2)return N;let K=Q?.decode||rE,U=0;do{let _=Y.indexOf("=",U);if(_===-1)break;let L=Y.indexOf(";",U),O=L===-1?$:L;if(_>O){U=Y.lastIndexOf(";",_-1)+1;continue}let V=Gw(Y,U,_),E=Zw(Y,_,V),A=Y.slice(V,E);if(N[A]===void 0){let F=Gw(Y,_+1,O),R=Zw(Y,O,F),M=K(Y.slice(F,R));N[A]=M}U=O+1}while(U<$);return N}function Gw(Y,Q,N){do{let $=Y.charCodeAt(Q);if($!==32&&$!==9)return Q}while(++Q<N);return N}function Zw(Y,Q,N){while(Q>N){let $=Y.charCodeAt(--Q);if($!==32&&$!==9)return Q+1}return N}function aE(Y,Q,N){let $=N?.encode||encodeURIComponent;if(!pE.test(Y))throw new TypeError(`argument name is invalid: ${Y}`);let K=$(Q);if(!cE.test(K))throw new TypeError(`argument val is invalid: ${Q}`);let U=Y+"="+K;if(!N)return U;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);U+="; Max-Age="+N.maxAge}if(N.domain){if(!lE.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);U+="; Domain="+N.domain}if(N.path){if(!iE.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);U+="; Path="+N.path}if(N.expires){if(!tE(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);U+="; Expires="+N.expires.toUTCString()}if(N.httpOnly)U+="; HttpOnly";if(N.secure)U+="; Secure";if(N.partitioned)U+="; Partitioned";if(N.priority)switch(typeof N.priority==="string"?N.priority.toLowerCase():void 0){case"low":U+="; Priority=Low";break;case"medium":U+="; Priority=Medium";break;case"high":U+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite==="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":U+="; SameSite=Strict";break;case"lax":U+="; SameSite=Lax";break;case"none":U+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return U}function rE(Y){if(Y.indexOf("%")===-1)return Y;try{return decodeURIComponent(Y)}catch(Q){return Y}}function tE(Y){return nE.call(Y)==="[object Date]"}});var XV=B5((kP)=>{kP.__esModule=!0;kP.distance=kP.closest=void 0;var p5=new Uint32Array(65536),MP=function(Y,Q){var N=Y.length,$=Q.length,K=1<<N-1,U=-1,_=0,L=N,O=N;while(O--)p5[Y.charCodeAt(O)]|=1<<O;for(O=0;O<$;O++){var V=p5[Q.charCodeAt(O)],E=V|_;if(V|=(V&U)+U^U,_|=~(V|U),U&=V,_&K)L++;if(U&K)L--;_=_<<1|1,U=U<<1|~(E|_),_&=E}O=N;while(O--)p5[Y.charCodeAt(O)]=0;return L},SP=function(Y,Q){var N=Q.length,$=Y.length,K=[],U=[],_=Math.ceil(N/32),L=Math.ceil($/32);for(var O=0;O<_;O++)U[O]=-1,K[O]=0;var V=0;for(;V<L-1;V++){var E=0,A=-1,F=V*32,R=Math.min(32,$)+F;for(var M=F;M<R;M++)p5[Y.charCodeAt(M)]|=1<<M;for(var O=0;O<N;O++){var h=p5[Q.charCodeAt(O)],S=U[O/32|0]>>>O&1,k=K[O/32|0]>>>O&1,f=h|E,l=((h|k)&A)+A^A|h|k,p=E|~(l|A),X0=A&l;if(p>>>31^S)U[O/32|0]^=1<<O;if(X0>>>31^k)K[O/32|0]^=1<<O;p=p<<1|S,X0=X0<<1|k,A=X0|~(f|p),E=p&f}for(var M=F;M<R;M++)p5[Y.charCodeAt(M)]=0}var x0=0,_0=-1,S0=V*32,L0=Math.min(32,$-S0)+S0;for(var M=S0;M<L0;M++)p5[Y.charCodeAt(M)]|=1<<M;var e0=$;for(var O=0;O<N;O++){var h=p5[Q.charCodeAt(O)],S=U[O/32|0]>>>O&1,k=K[O/32|0]>>>O&1,f=h|x0,l=((h|k)&_0)+_0^_0|h|k,p=x0|~(l|_0),X0=_0&l;if(e0+=p>>>$-1&1,e0-=X0>>>$-1&1,p>>>31^S)U[O/32|0]^=1<<O;if(X0>>>31^k)K[O/32|0]^=1<<O;p=p<<1|S,X0=X0<<1|k,_0=X0|~(f|p),x0=p&f}for(var M=S0;M<L0;M++)p5[Y.charCodeAt(M)]=0;return e0},ZV=function(Y,Q){if(Y.length<Q.length){var N=Q;Q=Y,Y=N}if(Q.length===0)return Y.length;if(Y.length<=32)return MP(Y,Q);return SP(Y,Q)};kP.distance=ZV;var RP=function(Y,Q){var N=1/0,$=0;for(var K=0;K<Q.length;K++){var U=ZV(Y,Q[K]);if(U<N)N=U,$=K}return Q[$]};kP.closest=RP});var BV=B5((PN,a4)=>{(function(){var Y;try{Y=typeof Intl!=="undefined"&&typeof Intl.Collator!=="undefined"?Intl.Collator("generic",{sensitivity:"base"}):null}catch(U){console.log("Collator could not be initialized and wouldn't be used")}var Q=XV(),N=[],$=[],K={get:function(U,_,L){var O=L&&Y&&L.useCollator;if(O){var V=U.length,E=_.length;if(V===0)return E;if(E===0)return V;var A,F,R,M,h;for(R=0;R<E;++R)N[R]=R,$[R]=_.charCodeAt(R);N[E]=E;var S;for(R=0;R<V;++R){F=R+1;for(M=0;M<E;++M){if(A=F,S=Y.compare(U.charAt(R),String.fromCharCode($[M]))===0,F=N[M]+(S?0:1),h=A+1,F>h)F=h;if(h=N[M+1]+1,F>h)F=h;N[M]=A}N[M]=F}return F}return Q.distance(U,_)}};if(typeof define!=="undefined"&&define!==null&&define.amd)define(function(){return K});else if(typeof a4!=="undefined"&&a4!==null&&typeof PN!=="undefined"&&a4.exports===PN)a4.exports=K;else if(typeof self!=="undefined"&&typeof self.postMessage==="function"&&typeof self.importScripts==="function")self.Levenshtein=K;else if(typeof window!=="undefined"&&window!==null)window.Levenshtein=K})()});var G0=B5((sj)=>{var sN=i(f0(),1);(function(){function Y(j){if(j==null)return null;if(typeof j==="function")return j.$$typeof===N0?null:j.displayName||j.name||null;if(typeof j==="string")return j;switch(j){case X0:return"Fragment";case p:return"Portal";case _0:return"Profiler";case x0:return"StrictMode";case W1:return"Suspense";case w1:return"SuspenseList"}if(typeof j==="object")switch(typeof j.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),j.$$typeof){case L0:return(j.displayName||"Context")+".Provider";case S0:return(j._context.displayName||"Context")+".Consumer";case e0:var Z0=j.render;return j=j.displayName,j||(j=Z0.displayName||Z0.name||"",j=j!==""?"ForwardRef("+j+")":"ForwardRef"),j;case BW:return Z0=j.displayName||null,Z0!==null?Z0:Y(j.type)||"Memo";case W0:Z0=j._payload,j=j._init;try{return Y(j(Z0))}catch(Y0){}}return null}function Q(j){return""+j}function N(j){try{Q(j);var Z0=!1}catch(Q1){Z0=!0}if(Z0){Z0=console;var Y0=Z0.error,k0=typeof Symbol==="function"&&Symbol.toStringTag&&j[Symbol.toStringTag]||j.constructor.name||"Object";return Y0.call(Z0,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",k0),Q(j)}}function $(){}function K(){if(B1===0){u1=console.log,uW=console.info,HW=console.warn,h9=console.error,U9=console.group,pW=console.groupCollapsed,H9=console.groupEnd;var j={configurable:!0,enumerable:!0,value:$,writable:!0};Object.defineProperties(console,{info:j,log:j,warn:j,error:j,group:j,groupCollapsed:j,groupEnd:j})}B1++}function U(){if(B1--,B1===0){var j={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:l0({},j,{value:u1}),info:l0({},j,{value:uW}),warn:l0({},j,{value:HW}),error:l0({},j,{value:h9}),group:l0({},j,{value:U9}),groupCollapsed:l0({},j,{value:pW}),groupEnd:l0({},j,{value:H9})})}0>B1&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function _(j){if(_W===void 0)try{throw Error()}catch(Y0){var Z0=Y0.stack.trim().match(/\n( *(at )?)/);_W=Z0&&Z0[1]||"",y0=-1<Y0.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Y0.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_W+j+y0}function L(j,Z0){if(!j||_9)return"";var Y0=wW.get(j);if(Y0!==void 0)return Y0;_9=!0,Y0=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var k0=null;k0=m0.H,m0.H=null,K();try{var Q1={DetermineComponentFrameRoot:function(){try{if(Z0){var OW=function(){throw Error()};if(Object.defineProperty(OW.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(OW,[])}catch(y1){var O9=y1}Reflect.construct(j,[],OW)}else{try{OW.call()}catch(y1){O9=y1}j.call(OW.prototype)}}else{try{throw Error()}catch(y1){O9=y1}(OW=j())&&typeof OW.catch==="function"&&OW.catch(function(){})}}catch(y1){if(y1&&O9&&typeof y1.stack==="string")return[y1.stack,O9.stack]}return[null,null]}};Q1.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s0=Object.getOwnPropertyDescriptor(Q1.DetermineComponentFrameRoot,"name");s0&&s0.configurable&&Object.defineProperty(Q1.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=Q1.DetermineComponentFrameRoot(),T1=a[0],qW=a[1];if(T1&&qW){var G1=T1.split(`
`),cW=qW.split(`
`);for(a=s0=0;s0<G1.length&&!G1[s0].includes("DetermineComponentFrameRoot");)s0++;for(;a<cW.length&&!cW[a].includes("DetermineComponentFrameRoot");)a++;if(s0===G1.length||a===cW.length)for(s0=G1.length-1,a=cW.length-1;1<=s0&&0<=a&&G1[s0]!==cW[a];)a--;for(;1<=s0&&0<=a;s0--,a--)if(G1[s0]!==cW[a]){if(s0!==1||a!==1)do if(s0--,a--,0>a||G1[s0]!==cW[a]){var w9=`
`+G1[s0].replace(" at new "," at ");return j.displayName&&w9.includes("<anonymous>")&&(w9=w9.replace("<anonymous>",j.displayName)),typeof j==="function"&&wW.set(j,w9),w9}while(1<=s0&&0<=a);break}}}finally{_9=!1,m0.H=k0,U(),Error.prepareStackTrace=Y0}return G1=(G1=j?j.displayName||j.name:"")?_(G1):"",typeof j==="function"&&wW.set(j,G1),G1}function O(j){if(j==null)return"";if(typeof j==="function"){var Z0=j.prototype;return L(j,!(!Z0||!Z0.isReactComponent))}if(typeof j==="string")return _(j);switch(j){case W1:return _("Suspense");case w1:return _("SuspenseList")}if(typeof j==="object")switch(j.$$typeof){case e0:return j=L(j.render,!1),j;case BW:return O(j.type);case W0:Z0=j._payload,j=j._init;try{return O(j(Z0))}catch(Y0){}}return""}function V(){var j=m0.A;return j===null?null:j.getOwner()}function E(j){if(n0.call(j,"key")){var Z0=Object.getOwnPropertyDescriptor(j,"key").get;if(Z0&&Z0.isReactWarning)return!1}return j.key!==void 0}function A(j,Z0){function Y0(){xZ||(xZ=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",Z0))}Y0.isReactWarning=!0,Object.defineProperty(j,"key",{get:Y0,configurable:!0})}function F(){var j=Y(this.type);return i0[j]||(i0[j]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),j=this.props.ref,j!==void 0?j:null}function R(j,Z0,Y0,k0,Q1,s0){return Y0=s0.ref,j={$$typeof:l,type:j,key:Z0,props:s0,_owner:Q1},(Y0!==void 0?Y0:null)!==null?Object.defineProperty(j,"ref",{enumerable:!1,get:F}):Object.defineProperty(j,"ref",{enumerable:!1,value:null}),j._store={},Object.defineProperty(j._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(j,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(j.props),Object.freeze(j)),j}function M(j,Z0,Y0,k0,Q1,s0){if(typeof j==="string"||typeof j==="function"||j===X0||j===_0||j===x0||j===W1||j===w1||j===t||typeof j==="object"&&j!==null&&(j.$$typeof===W0||j.$$typeof===BW||j.$$typeof===L0||j.$$typeof===S0||j.$$typeof===e0||j.$$typeof===d0||j.getModuleId!==void 0)){var a=Z0.children;if(a!==void 0)if(k0)if(R0(a)){for(k0=0;k0<a.length;k0++)h(a[k0],j);Object.freeze&&Object.freeze(a)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else h(a,j)}else{if(a="",j===void 0||typeof j==="object"&&j!==null&&Object.keys(j).length===0)a+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";j===null?k0="null":R0(j)?k0="array":j!==void 0&&j.$$typeof===l?(k0="<"+(Y(j.type)||"Unknown")+" />",a=" Did you accidentally export a JSX literal instead of a component?"):k0=typeof j,console.error("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",k0,a)}if(n0.call(Z0,"key")){a=Y(j);var T1=Object.keys(Z0).filter(function(G1){return G1!=="key"});k0=0<T1.length?"{key: someKey, "+T1.join(": ..., ")+": ...}":"{key: someKey}",kG[a+k0]||(T1=0<T1.length?"{"+T1.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,k0,a,T1,a),kG[a+k0]=!0)}if(a=null,Y0!==void 0&&(N(Y0),a=""+Y0),E(Z0)&&(N(Z0.key),a=""+Z0.key),"key"in Z0){Y0={};for(var qW in Z0)qW!=="key"&&(Y0[qW]=Z0[qW])}else Y0=Z0;return a&&A(Y0,typeof j==="function"?j.displayName||j.name||"Unknown":j),R(j,a,s0,Q1,V(),Y0)}function h(j,Z0){if(typeof j==="object"&&j&&j.$$typeof!==H5){if(R0(j))for(var Y0=0;Y0<j.length;Y0++){var k0=j[Y0];S(k0)&&k(k0,Z0)}else if(S(j))j._store&&(j._store.validated=1);else if(j===null||typeof j!=="object"?Y0=null:(Y0=T0&&j[T0]||j["@@iterator"],Y0=typeof Y0==="function"?Y0:null),typeof Y0==="function"&&Y0!==j.entries&&(Y0=Y0.call(j),Y0!==j))for(;!(j=Y0.next()).done;)S(j.value)&&k(j.value,Z0)}}function S(j){return typeof j==="object"&&j!==null&&j.$$typeof===l}function k(j,Z0){if(j._store&&!j._store.validated&&j.key==null&&(j._store.validated=1,Z0=f(Z0),!n5[Z0])){n5[Z0]=!0;var Y0="";j&&j._owner!=null&&j._owner!==V()&&(Y0=null,typeof j._owner.tag==="number"?Y0=Y(j._owner.type):typeof j._owner.name==="string"&&(Y0=j._owner.name),Y0=" It was passed a child from "+Y0+".");var k0=m0.getCurrentStack;m0.getCurrentStack=function(){var Q1=O(j.type);return k0&&(Q1+=k0()||""),Q1},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',Z0,Y0),m0.getCurrentStack=k0}}function f(j){var Z0="",Y0=V();return Y0&&(Y0=Y(Y0.type))&&(Z0=`

Check the render method of \``+Y0+"`."),Z0||(j=Y(j))&&(Z0=`

Check the top-level render call using <`+j+">."),Z0}var l=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),X0=Symbol.for("react.fragment"),x0=Symbol.for("react.strict_mode"),_0=Symbol.for("react.profiler");Symbol.for("react.provider");var S0=Symbol.for("react.consumer"),L0=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),w1=Symbol.for("react.suspense_list"),BW=Symbol.for("react.memo"),W0=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),T0=Symbol.iterator,N0=Symbol.for("react.client.reference"),m0=sN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,n0=Object.prototype.hasOwnProperty,l0=Object.assign,d0=Symbol.for("react.client.reference"),R0=Array.isArray,B1=0,u1,uW,HW,h9,U9,pW,H9;$.__reactDisabledLog=!0;var _W,y0,_9=!1,wW=new(typeof WeakMap==="function"?WeakMap:Map),H5=Symbol.for("react.client.reference"),xZ,i0={},kG={},n5={};sj.Fragment=X0,sj.jsxDEV=function(j,Z0,Y0,k0,Q1,s0){return M(j,Z0,Y0,k0,Q1,s0)}})()});var DJ="./logo-tsnr81fk.png";var PJ="./big_star_and_smaller_star_icon-3e20r8j1.png";var jJ="./search_icon-d2d7x7b5.png";var c0=i(f0(),1),eN=i(Ww(),1);var I1=i(f0(),1),J5=i(f0(),1),K0=i(f0(),1),U0=i(f0(),1),p0=i(f0(),1),cJ=i(f0(),1);var WD=i(f0(),1),GD=i(f0(),1),qw=i(f0(),1),ZD=i(f0(),1),cw=i(f0(),1),iJ=i(f0(),1),lw=i(f0(),1),iw=i(Xw(),1);var Bw="popstate";function zw(Y={}){function Q($,K){let{pathname:U,search:_,hash:L}=$.location;return RJ("",{pathname:U,search:_,hash:L},K.state&&K.state.usr||null,K.state&&K.state.key||"default")}function N($,K){return typeof K==="string"?K:h7(K)}return ZI(Q,N,null,Y)}function K1(Y,Q){if(Y===!1||Y===null||typeof Y==="undefined")throw new Error(Q)}function M9(Y,Q){if(!Y){if(typeof console!=="undefined")console.warn(Q);try{throw new Error(Q)}catch(N){}}}function GI(){return Math.random().toString(36).substring(2,10)}function Qw(Y,Q){return{usr:Y.state,key:Y.key,idx:Q}}function RJ(Y,Q,N=null,$){return{pathname:typeof Y==="string"?Y:Y.pathname,search:"",hash:"",...typeof Q==="string"?DZ(Q):Q,state:N,key:Q&&Q.key||$||GI()}}function h7({pathname:Y="/",search:Q="",hash:N=""}){if(Q&&Q!=="?")Y+=Q.charAt(0)==="?"?Q:"?"+Q;if(N&&N!=="#")Y+=N.charAt(0)==="#"?N:"#"+N;return Y}function DZ(Y){let Q={};if(Y){let N=Y.indexOf("#");if(N>=0)Q.hash=Y.substring(N),Y=Y.substring(0,N);let $=Y.indexOf("?");if($>=0)Q.search=Y.substring($),Y=Y.substring(0,$);if(Y)Q.pathname=Y}return Q}function ZI(Y,Q,N,$={}){let{window:K=document.defaultView,v5Compat:U=!1}=$,_=K.history,L="POP",O=null,V=E();if(V==null)V=0,_.replaceState({..._.state,idx:V},"");function E(){return(_.state||{idx:null}).idx}function A(){L="POP";let S=E(),k=S==null?null:S-V;if(V=S,O)O({action:L,location:h.location,delta:k})}function F(S,k){L="PUSH";let f=RJ(h.location,S,k);if(N)N(f,S);V=E()+1;let l=Qw(f,V),p=h.createHref(f);try{_.pushState(l,"",p)}catch(X0){if(X0 instanceof DOMException&&X0.name==="DataCloneError")throw X0;K.location.assign(p)}if(U&&O)O({action:L,location:h.location,delta:1})}function R(S,k){L="REPLACE";let f=RJ(h.location,S,k);if(N)N(f,S);V=E();let l=Qw(f,V),p=h.createHref(f);if(_.replaceState(l,"",p),U&&O)O({action:L,location:h.location,delta:0})}function M(S){let k=K.location.origin!=="null"?K.location.origin:K.location.href,f=typeof S==="string"?S:h7(S);return f=f.replace(/ $/,"%20"),K1(k,`No window.location.(origin|href) available to create URL for href: ${f}`),new URL(f,k)}let h={get action(){return L},get location(){return Y(K,_)},listen(S){if(O)throw new Error("A history only accepts one active listener");return K.addEventListener(Bw,A),O=S,()=>{K.removeEventListener(Bw,A),O=null}},createHref(S){return Q(K,S)},createURL:M,encodeLocation(S){let k=M(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:F,replace:R,go(S){return _.go(S)}};return h}var YI;YI=new WeakMap;function vJ(Y,Q,N="/"){return XI(Y,Q,N,!1)}function XI(Y,Q,N,$){let K=typeof Q==="string"?DZ(Q):Q,U=Q5(K.pathname||"/",N);if(U==null)return null;let _=Kw(Y);QI(_);let L=null;for(let O=0;L==null&&O<_.length;++O){let V=VI(U);L=wI(_[O],V,$)}return L}function BI(Y,Q){let{route:N,pathname:$,params:K}=Y;return{id:N.id,pathname:$,params:K,data:Q[N.id],handle:N.handle}}function Kw(Y,Q=[],N=[],$=""){let K=(U,_,L)=>{let O={relativePath:L===void 0?U.path||"":L,caseSensitive:U.caseSensitive===!0,childrenIndex:_,route:U};if(O.relativePath.startsWith("/"))K1(O.relativePath.startsWith($),`Absolute route path "${O.relativePath}" nested under path "${$}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),O.relativePath=O.relativePath.slice($.length);let V=g5([$,O.relativePath]),E=N.concat(O);if(U.children&&U.children.length>0)K1(U.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${V}".`),Kw(U.children,Q,E,V);if(U.path==null&&!U.index)return;Q.push({path:V,score:HI(V,U.index),routesMeta:E})};return Y.forEach((U,_)=>{if(U.path===""||!U.path?.includes("?"))K(U,_);else for(let L of Uw(U.path))K(U,_,L)}),Q}function Uw(Y){let Q=Y.split("/");if(Q.length===0)return[];let[N,...$]=Q,K=N.endsWith("?"),U=N.replace(/\?$/,"");if($.length===0)return K?[U,""]:[U];let _=Uw($.join("/")),L=[];if(L.push(..._.map((O)=>O===""?U:[U,O].join("/"))),K)L.push(..._);return L.map((O)=>Y.startsWith("/")&&O===""?"/":O)}function QI(Y){Y.sort((Q,N)=>Q.score!==N.score?N.score-Q.score:_I(Q.routesMeta.map(($)=>$.childrenIndex),N.routesMeta.map(($)=>$.childrenIndex)))}var JI=/^:[\w-]+$/,NI=3,$I=2,zI=1,KI=10,UI=-2,Jw=(Y)=>Y==="*";function HI(Y,Q){let N=Y.split("/"),$=N.length;if(N.some(Jw))$+=UI;if(Q)$+=$I;return N.filter((K)=>!Jw(K)).reduce((K,U)=>K+(JI.test(U)?NI:U===""?zI:KI),$)}function _I(Y,Q){return Y.length===Q.length&&Y.slice(0,-1).every(($,K)=>$===Q[K])?Y[Y.length-1]-Q[Q.length-1]:0}function wI(Y,Q,N=!1){let{routesMeta:$}=Y,K={},U="/",_=[];for(let L=0;L<$.length;++L){let O=$[L],V=L===$.length-1,E=U==="/"?Q:Q.slice(U.length)||"/",A=M4({path:O.relativePath,caseSensitive:O.caseSensitive,end:V},E),F=O.route;if(!A&&V&&N&&!$[$.length-1].route.index)A=M4({path:O.relativePath,caseSensitive:O.caseSensitive,end:!1},E);if(!A)return null;if(Object.assign(K,A.params),_.push({params:K,pathname:g5([U,A.pathname]),pathnameBase:AI(g5([U,A.pathnameBase])),route:F}),A.pathnameBase!=="/")U=g5([U,A.pathnameBase])}return _}function M4(Y,Q){if(typeof Y==="string")Y={path:Y,caseSensitive:!1,end:!0};let[N,$]=OI(Y.path,Y.caseSensitive,Y.end),K=Q.match(N);if(!K)return null;let U=K[0],_=U.replace(/(.)\/+$/,"$1"),L=K.slice(1);return{params:$.reduce((V,{paramName:E,isOptional:A},F)=>{if(E==="*"){let M=L[F]||"";_=U.slice(0,U.length-M.length).replace(/(.)\/+$/,"$1")}let R=L[F];if(A&&!R)V[E]=void 0;else V[E]=(R||"").replace(/%2F/g,"/");return V},{}),pathname:U,pathnameBase:_,pattern:Y}}function OI(Y,Q=!1,N=!0){M9(Y==="*"||!Y.endsWith("*")||Y.endsWith("/*"),`Route path "${Y}" will be treated as if it were "${Y.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Y.replace(/\*$/,"/*")}".`);let $=[],K="^"+Y.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,L,O)=>{return $.push({paramName:L,isOptional:O!=null}),O?"/?([^\\/]+)?":"/([^\\/]+)"});if(Y.endsWith("*"))$.push({paramName:"*"}),K+=Y==="*"||Y==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$";else if(N)K+="\\/*$";else if(Y!==""&&Y!=="/")K+="(?:(?=\\/|$))";return[new RegExp(K,Q?void 0:"i"),$]}function VI(Y){try{return Y.split("/").map((Q)=>decodeURIComponent(Q).replace(/\//g,"%2F")).join("/")}catch(Q){return M9(!1,`The URL path "${Y}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Q}).`),Y}}function Q5(Y,Q){if(Q==="/")return Y;if(!Y.toLowerCase().startsWith(Q.toLowerCase()))return null;let N=Q.endsWith("/")?Q.length-1:Q.length,$=Y.charAt(N);if($&&$!=="/")return null;return Y.slice(N)||"/"}function Hw(Y,Q="/"){let{pathname:N,search:$="",hash:K=""}=typeof Y==="string"?DZ(Y):Y;return{pathname:N?N.startsWith("/")?N:LI(N,Q):Q,search:EI($),hash:II(K)}}function LI(Y,Q){let N=Q.replace(/\/+$/,"").split("/");return Y.split("/").forEach((K)=>{if(K===".."){if(N.length>1)N.pop()}else if(K!==".")N.push(K)}),N.length>1?N.join("/"):"/"}function MJ(Y,Q,N,$){return`Cannot include a '${Y}' character in a manually specified \`to.${Q}\` field [${JSON.stringify($)}].  Please separate it out to the \`to.${N}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TI(Y){return Y.filter((Q,N)=>N===0||Q.route.path&&Q.route.path.length>0)}function _w(Y){let Q=TI(Y);return Q.map((N,$)=>$===Q.length-1?N.pathname:N.pathnameBase)}function ww(Y,Q,N,$=!1){let K;if(typeof Y==="string")K=DZ(Y);else K={...Y},K1(!K.pathname||!K.pathname.includes("?"),MJ("?","pathname","search",K)),K1(!K.pathname||!K.pathname.includes("#"),MJ("#","pathname","hash",K)),K1(!K.search||!K.search.includes("#"),MJ("#","search","hash",K));let U=Y===""||K.pathname==="",_=U?"/":K.pathname,L;if(_==null)L=N;else{let A=Q.length-1;if(!$&&_.startsWith("..")){let F=_.split("/");while(F[0]==="..")F.shift(),A-=1;K.pathname=F.join("/")}L=A>=0?Q[A]:"/"}let O=Hw(K,L),V=_&&_!=="/"&&_.endsWith("/"),E=(U||_===".")&&N.endsWith("/");if(!O.pathname.endsWith("/")&&(V||E))O.pathname+="/";return O}var g5=(Y)=>Y.join("/").replace(/\/\/+/g,"/"),AI=(Y)=>Y.replace(/\/+$/,"").replace(/^\/*/,"/"),EI=(Y)=>!Y||Y==="?"?"":Y.startsWith("?")?Y:"?"+Y,II=(Y)=>!Y||Y==="#"?"":Y.startsWith("#")?Y:"#"+Y;function Ow(Y){return Y!=null&&typeof Y.status==="number"&&typeof Y.statusText==="string"&&typeof Y.internal==="boolean"&&"data"in Y}var Vw=["POST","PUT","PATCH","DELETE"],SF=new Set(Vw),DI=["GET",...Vw],RF=new Set(DI);var kF=Symbol("ResetLoaderData");var PZ=J5.createContext(null);PZ.displayName="DataRouter";var m7=J5.createContext(null);m7.displayName="DataRouterState";var fJ=J5.createContext({isTransitioning:!1});fJ.displayName="ViewTransition";var Lw=J5.createContext(new Map);Lw.displayName="Fetchers";var PI=J5.createContext(null);PI.displayName="Await";var gW=J5.createContext(null);gW.displayName="Navigation";var d7=J5.createContext(null);d7.displayName="Location";var N5=J5.createContext({outlet:null,matches:[],isDataRoute:!1});N5.displayName="Route";var yJ=J5.createContext(null);yJ.displayName="RouteError";var kJ=!0;function Tw(Y,{relative:Q}={}){K1(u7(),"useHref() may be used only in the context of a <Router> component.");let{basename:N,navigator:$}=K0.useContext(gW),{hash:K,pathname:U,search:_}=p7(Y,{relative:Q}),L=U;if(N!=="/")L=U==="/"?N:g5([N,U]);return $.createHref({pathname:L,search:_,hash:K})}function u7(){return K0.useContext(d7)!=null}function $5(){return K1(u7(),"useLocation() may be used only in the context of a <Router> component."),K0.useContext(d7).location}var Aw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ew(Y){if(!K0.useContext(gW).static)K0.useLayoutEffect(Y)}function Iw(){let{isDataRoute:Y}=K0.useContext(N5);return Y?bI():jI()}function jI(){K1(u7(),"useNavigate() may be used only in the context of a <Router> component.");let Y=K0.useContext(PZ),{basename:Q,navigator:N}=K0.useContext(gW),{matches:$}=K0.useContext(N5),{pathname:K}=$5(),U=JSON.stringify(_w($)),_=K0.useRef(!1);return Ew(()=>{_.current=!0}),K0.useCallback((O,V={})=>{if(M9(_.current,Aw),!_.current)return;if(typeof O==="number"){N.go(O);return}let E=ww(O,JSON.parse(U),K,V.relative==="path");if(Y==null&&Q!=="/")E.pathname=E.pathname==="/"?Q:g5([Q,E.pathname]);(V.replace?N.replace:N.push)(E,V.state,V)},[Q,N,U,K,Y])}var xF=K0.createContext(null);function p7(Y,{relative:Q}={}){let{matches:N}=K0.useContext(N5),{pathname:$}=$5(),K=JSON.stringify(_w(N));return K0.useMemo(()=>ww(Y,JSON.parse(K),$,Q==="path"),[Y,K,$,Q])}function Dw(Y,Q){return Pw(Y,Q)}function Pw(Y,Q,N,$){K1(u7(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:K,static:U}=K0.useContext(gW),{matches:_}=K0.useContext(N5),L=_[_.length-1],O=L?L.params:{},V=L?L.pathname:"/",E=L?L.pathnameBase:"/",A=L&&L.route;if(kJ){let f=A&&A.path||"";Fw(V,!A||f.endsWith("*")||f.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${V}" (under <Route path="${f}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${f}"> to <Route path="${f==="/"?"*":`${f}/*`}">.`)}let F=$5(),R;if(Q){let f=typeof Q==="string"?DZ(Q):Q;K1(E==="/"||f.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${f.pathname}" was given in the \`location\` prop.`),R=f}else R=F;let M=R.pathname||"/",h=M;if(E!=="/"){let f=E.replace(/^\//,"").split("/");h="/"+M.replace(/^\//,"").split("/").slice(f.length).join("/")}let S=!U&&N&&N.matches&&N.matches.length>0?N.matches:vJ(Y,{pathname:h});if(kJ)M9(A||S!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),M9(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=SI(S&&S.map((f)=>Object.assign({},f,{params:Object.assign({},O,f.params),pathname:g5([E,K.encodeLocation?K.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?E:g5([E,K.encodeLocation?K.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),_,N,$);if(Q&&k)return K0.createElement(d7.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},k);return k}function CI(){let Y=Cw(),Q=Ow(Y)?`${Y.status} ${Y.statusText}`:Y instanceof Error?Y.message:JSON.stringify(Y),N=Y instanceof Error?Y.stack:null,$="rgba(200,200,200, 0.5)",K={padding:"0.5rem",backgroundColor:$},U={padding:"2px 4px",backgroundColor:$},_=null;if(kJ)console.error("Error handled by React Router default ErrorBoundary:",Y),_=K0.createElement(K0.Fragment,null,K0.createElement("p",null,"\uD83D\uDCBF Hey developer \uD83D\uDC4B"),K0.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K0.createElement("code",{style:U},"ErrorBoundary")," or"," ",K0.createElement("code",{style:U},"errorElement")," prop on your route."));return K0.createElement(K0.Fragment,null,K0.createElement("h2",null,"Unexpected Application Error!"),K0.createElement("h3",{style:{fontStyle:"italic"}},Q),N?K0.createElement("pre",{style:K},N):null,_)}var FI=K0.createElement(CI,null),qI=class extends K0.Component{constructor(Y){super(Y);this.state={location:Y.location,revalidation:Y.revalidation,error:Y.error}}static getDerivedStateFromError(Y){return{error:Y}}static getDerivedStateFromProps(Y,Q){if(Q.location!==Y.location||Q.revalidation!=="idle"&&Y.revalidation==="idle")return{error:Y.error,location:Y.location,revalidation:Y.revalidation};return{error:Y.error!==void 0?Y.error:Q.error,location:Q.location,revalidation:Y.revalidation||Q.revalidation}}componentDidCatch(Y,Q){console.error("React Router caught the following error during render",Y,Q)}render(){return this.state.error!==void 0?K0.createElement(N5.Provider,{value:this.props.routeContext},K0.createElement(yJ.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MI({routeContext:Y,match:Q,children:N}){let $=K0.useContext(PZ);if($&&$.static&&$.staticContext&&(Q.route.errorElement||Q.route.ErrorBoundary))$.staticContext._deepestRenderedBoundaryId=Q.route.id;return K0.createElement(N5.Provider,{value:Y},N)}function SI(Y,Q=[],N=null,$=null){if(Y==null){if(!N)return null;if(N.errors)Y=N.matches;else if(Q.length===0&&!N.initialized&&N.matches.length>0)Y=N.matches;else return null}let K=Y,U=N?.errors;if(U!=null){let O=K.findIndex((V)=>V.route.id&&U?.[V.route.id]!==void 0);K1(O>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(U).join(",")}`),K=K.slice(0,Math.min(K.length,O+1))}let _=!1,L=-1;if(N)for(let O=0;O<K.length;O++){let V=K[O];if(V.route.HydrateFallback||V.route.hydrateFallbackElement)L=O;if(V.route.id){let{loaderData:E,errors:A}=N,F=V.route.loader&&!E.hasOwnProperty(V.route.id)&&(!A||A[V.route.id]===void 0);if(V.route.lazy||F){if(_=!0,L>=0)K=K.slice(0,L+1);else K=[K[0]];break}}}return K.reduceRight((O,V,E)=>{let A,F=!1,R=null,M=null;if(N){if(A=U&&V.route.id?U[V.route.id]:void 0,R=V.route.errorElement||FI,_){if(L<0&&E===0)Fw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,M=null;else if(L===E)F=!0,M=V.route.hydrateFallbackElement||null}}let h=Q.concat(K.slice(0,E+1)),S=()=>{let k;if(A)k=R;else if(F)k=M;else if(V.route.Component)k=K0.createElement(V.route.Component,null);else if(V.route.element)k=V.route.element;else k=O;return K0.createElement(MI,{match:V,routeContext:{outlet:O,matches:h,isDataRoute:N!=null},children:k})};return N&&(V.route.ErrorBoundary||V.route.errorElement||E===0)?K0.createElement(qI,{location:N.location,revalidation:N.revalidation,component:R,error:A,children:S(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):S()},null)}function gJ(Y){return`${Y} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RI(Y){let Q=K0.useContext(PZ);return K1(Q,gJ(Y)),Q}function hJ(Y){let Q=K0.useContext(m7);return K1(Q,gJ(Y)),Q}function kI(Y){let Q=K0.useContext(N5);return K1(Q,gJ(Y)),Q}function mJ(Y){let Q=kI(Y),N=Q.matches[Q.matches.length-1];return K1(N.route.id,`${Y} can only be used on routes that contain a unique "id"`),N.route.id}function xI(){return mJ("useRouteId")}function jw(){return hJ("useNavigation").navigation}function dJ(){let{matches:Y,loaderData:Q}=hJ("useMatches");return K0.useMemo(()=>Y.map((N)=>BI(N,Q)),[Y,Q])}function Cw(){let Y=K0.useContext(yJ),Q=hJ("useRouteError"),N=mJ("useRouteError");if(Y!==void 0)return Y;return Q.errors?.[N]}function bI(){let{router:Y}=RI("useNavigate"),Q=mJ("useNavigate"),N=K0.useRef(!1);return Ew(()=>{N.current=!0}),K0.useCallback(async(K,U={})=>{if(M9(N.current,Aw),!N.current)return;if(typeof K==="number")Y.navigate(K);else await Y.navigate(K,{fromRouteId:Q,...U})},[Y,Q])}var Nw={};function Fw(Y,Q,N){if(!Q&&!Nw[Y])Nw[Y]=!0,M9(!1,N)}var bF=I1.memo(vI);function vI({routes:Y,future:Q,state:N}){return Pw(Y,void 0,N,Q)}function S4(Y){K1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uJ({basename:Y="/",children:Q=null,location:N,navigationType:$="POP",navigator:K,static:U=!1}){K1(!u7(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=Y.replace(/^\/*/,"/"),L=I1.useMemo(()=>({basename:_,navigator:K,static:U,future:{}}),[_,K,U]);if(typeof N==="string")N=DZ(N);let{pathname:O="/",search:V="",hash:E="",state:A=null,key:F="default"}=N,R=I1.useMemo(()=>{let M=Q5(O,_);if(M==null)return null;return{location:{pathname:M,search:V,hash:E,state:A,key:F},navigationType:$}},[_,O,V,E,A,F,$]);if(M9(R!=null,`<Router basename="${_}"> is not able to match the URL "${O}${V}${E}" because it does not start with the basename, so the <Router> won't render anything.`),R==null)return null;return I1.createElement(gW.Provider,{value:L},I1.createElement(d7.Provider,{children:Q,value:R}))}function V2({children:Y,location:Q}){return Dw(O2(Y),Q)}function O2(Y,Q=[]){let N=[];return I1.Children.forEach(Y,($,K)=>{if(!I1.isValidElement($))return;let U=[...Q,K];if($.type===I1.Fragment){N.push.apply(N,O2($.props.children,U));return}K1($.type===S4,`[${typeof $.type==="string"?$.type:$.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),K1(!$.props.index||!$.props.children,"An index route cannot have child routes.");let _={id:$.props.id||U.join("-"),caseSensitive:$.props.caseSensitive,element:$.props.element,Component:$.props.Component,index:$.props.index,path:$.props.path,loader:$.props.loader,action:$.props.action,hydrateFallbackElement:$.props.hydrateFallbackElement,HydrateFallback:$.props.HydrateFallback,errorElement:$.props.errorElement,ErrorBoundary:$.props.ErrorBoundary,hasErrorBoundary:$.props.hasErrorBoundary===!0||$.props.ErrorBoundary!=null||$.props.errorElement!=null,shouldRevalidate:$.props.shouldRevalidate,handle:$.props.handle,lazy:$.props.lazy};if($.props.children)_.children=O2($.props.children,U);N.push(_)}),N}var _2="get",w2="application/x-www-form-urlencoded";function L2(Y){return Y!=null&&typeof Y.tagName==="string"}function fI(Y){return L2(Y)&&Y.tagName.toLowerCase()==="button"}function yI(Y){return L2(Y)&&Y.tagName.toLowerCase()==="form"}function gI(Y){return L2(Y)&&Y.tagName.toLowerCase()==="input"}function hI(Y){return!!(Y.metaKey||Y.altKey||Y.ctrlKey||Y.shiftKey)}function mI(Y,Q){return Y.button===0&&(!Q||Q==="_self")&&!hI(Y)}var U2=null;function dI(){if(U2===null)try{new FormData(document.createElement("form"),0),U2=!1}catch(Y){U2=!0}return U2}var uI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function SJ(Y){if(Y!=null&&!uI.has(Y))return M9(!1,`"${Y}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${w2}"`),null;return Y}function pI(Y,Q){let N,$,K,U,_;if(yI(Y)){let L=Y.getAttribute("action");$=L?Q5(L,Q):null,N=Y.getAttribute("method")||_2,K=SJ(Y.getAttribute("enctype"))||w2,U=new FormData(Y)}else if(fI(Y)||gI(Y)&&(Y.type==="submit"||Y.type==="image")){let L=Y.form;if(L==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let O=Y.getAttribute("formaction")||L.getAttribute("action");if($=O?Q5(O,Q):null,N=Y.getAttribute("formmethod")||L.getAttribute("method")||_2,K=SJ(Y.getAttribute("formenctype"))||SJ(L.getAttribute("enctype"))||w2,U=new FormData(L,Y),!dI()){let{name:V,type:E,value:A}=Y;if(E==="image"){let F=V?`${V}.`:"";U.append(`${F}x`,"0"),U.append(`${F}y`,"0")}else if(V)U.append(V,A)}}else if(L2(Y))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else N=_2,$=null,K=w2,_=Y;if(U&&K==="text/plain")_=U,U=void 0;return{action:$,method:N.toLowerCase(),encType:K,formData:U,body:_}}function pJ(Y,Q){if(Y===!1||Y===null||typeof Y==="undefined")throw new Error(Q)}async function cI(Y,Q){if(Y.id in Q)return Q[Y.id];try{let N=await import(Y.module);return Q[Y.id]=N,N}catch(N){if(console.error(`Error loading route module \`${Y.module}\`, reloading page...`),console.error(N),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&import.meta.hot)throw N;return window.location.reload(),new Promise(()=>{})}}function lI(Y){return Y!=null&&typeof Y.page==="string"}function iI(Y){if(Y==null)return!1;if(Y.href==null)return Y.rel==="preload"&&typeof Y.imageSrcSet==="string"&&typeof Y.imageSizes==="string";return typeof Y.rel==="string"&&typeof Y.href==="string"}async function nI(Y,Q,N){let $=await Promise.all(Y.map(async(K)=>{let U=Q.routes[K.route.id];if(U){let _=await cI(U,N);return _.links?_.links():[]}return[]}));return rI($.flat(1).filter(iI).filter((K)=>K.rel==="stylesheet"||K.rel==="preload").map((K)=>K.rel==="stylesheet"?{...K,rel:"prefetch",as:"style"}:{...K,rel:"prefetch"}))}function $w(Y,Q,N,$,K,U){let _=(O,V)=>{if(!N[V])return!0;return O.route.id!==N[V].route.id},L=(O,V)=>{return N[V].pathname!==O.pathname||N[V].route.path?.endsWith("*")&&N[V].params["*"]!==O.params["*"]};if(U==="assets")return Q.filter((O,V)=>_(O,V)||L(O,V));if(U==="data")return Q.filter((O,V)=>{let E=$.routes[O.route.id];if(!E||!E.hasLoader)return!1;if(_(O,V)||L(O,V))return!0;if(O.route.shouldRevalidate){let A=O.route.shouldRevalidate({currentUrl:new URL(K.pathname+K.search+K.hash,window.origin),currentParams:N[0]?.params||{},nextUrl:new URL(Y,window.origin),nextParams:O.params,defaultShouldRevalidate:!0});if(typeof A==="boolean")return A}return!0});return[]}function sI(Y,Q,{includeHydrateFallback:N}={}){return oI(Y.map(($)=>{let K=Q.routes[$.route.id];if(!K)return[];let U=[K.module];if(K.clientActionModule)U=U.concat(K.clientActionModule);if(K.clientLoaderModule)U=U.concat(K.clientLoaderModule);if(N&&K.hydrateFallbackModule)U=U.concat(K.hydrateFallbackModule);if(K.imports)U=U.concat(K.imports);return U}).flat(1))}function oI(Y){return[...new Set(Y)]}function aI(Y){let Q={},N=Object.keys(Y).sort();for(let $ of N)Q[$]=Y[$];return Q}function rI(Y,Q){let N=new Set,$=new Set(Q);return Y.reduce((K,U)=>{if(Q&&!lI(U)&&U.as==="script"&&U.href&&$.has(U.href))return K;let L=JSON.stringify(aI(U));if(!N.has(L))N.add(L),K.push({key:L,link:U});return K},[])}var tI=Symbol("SingleFetchRedirect");function eI(Y,Q){let N=typeof Y==="string"?new URL(Y,typeof window==="undefined"?"server://singlefetch/":window.location.origin):Y;if(N.pathname==="/")N.pathname="_root.data";else if(Q&&Q5(N.pathname,Q)==="/")N.pathname=`${Q.replace(/\/$/,"")}/_root.data`;else N.pathname=`${N.pathname.replace(/\/$/,"")}.data`;return N}function Mw(){let Y=p0.useContext(PZ);return pJ(Y,"You must render this element inside a <DataRouterContext.Provider> element"),Y}function YD(){let Y=p0.useContext(m7);return pJ(Y,"You must render this element inside a <DataRouterStateContext.Provider> element"),Y}var R4=p0.createContext(void 0);R4.displayName="FrameworkContext";function Sw(){let Y=p0.useContext(R4);return pJ(Y,"You must render this element inside a <HydratedRouter> element"),Y}function XD(Y,Q){let N=p0.useContext(R4),[$,K]=p0.useState(!1),[U,_]=p0.useState(!1),{onFocus:L,onBlur:O,onMouseEnter:V,onMouseLeave:E,onTouchStart:A}=Q,F=p0.useRef(null);p0.useEffect(()=>{if(Y==="render")_(!0);if(Y==="viewport"){let S=new IntersectionObserver((k)=>{k.forEach((f)=>{_(f.isIntersecting)})},{threshold:0.5});if(F.current)S.observe(F.current);return()=>{S.disconnect()}}},[Y]),p0.useEffect(()=>{if($){let h=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(h)}}},[$]);let R=()=>{K(!0)},M=()=>{K(!1),_(!1)};if(!N)return[!1,F,{}];if(Y!=="intent")return[U,F,{}];return[U,F,{onFocus:q4(L,R),onBlur:q4(O,M),onMouseEnter:q4(V,R),onMouseLeave:q4(E,M),onTouchStart:q4(A,R)}]}function q4(Y,Q){return(N)=>{if(Y&&Y(N),!N.defaultPrevented)Q(N)}}function Rw({page:Y,...Q}){let{router:N}=Mw(),$=p0.useMemo(()=>vJ(N.routes,Y,N.basename),[N.routes,Y,N.basename]);if(!$)return null;return p0.createElement(QD,{page:Y,matches:$,...Q})}function BD(Y){let{manifest:Q,routeModules:N}=Sw(),[$,K]=p0.useState([]);return p0.useEffect(()=>{let U=!1;return nI(Y,Q,N).then((_)=>{if(!U)K(_)}),()=>{U=!0}},[Y,Q,N]),$}function QD({page:Y,matches:Q,...N}){let $=$5(),{manifest:K,routeModules:U}=Sw(),{basename:_}=Mw(),{loaderData:L,matches:O}=YD(),V=p0.useMemo(()=>$w(Y,Q,O,K,$,"data"),[Y,Q,O,K,$]),E=p0.useMemo(()=>$w(Y,Q,O,K,$,"assets"),[Y,Q,O,K,$]),A=p0.useMemo(()=>{if(Y===$.pathname+$.search+$.hash)return[];let M=new Set,h=!1;if(Q.forEach((k)=>{let f=K.routes[k.route.id];if(!f||!f.hasLoader)return;if(!V.some((l)=>l.route.id===k.route.id)&&k.route.id in L&&U[k.route.id]?.shouldRevalidate)h=!0;else if(f.hasClientLoader)h=!0;else M.add(k.route.id)}),M.size===0)return[];let S=eI(Y,_);if(h&&M.size>0)S.searchParams.set("_routes",Q.filter((k)=>M.has(k.route.id)).map((k)=>k.route.id).join(","));return[S.pathname+S.search]},[_,L,$,K,V,Q,Y,U]),F=p0.useMemo(()=>sI(E,K),[E,K]),R=BD(E);return p0.createElement(p0.Fragment,null,A.map((M)=>p0.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...N})),F.map((M)=>p0.createElement("link",{key:M,rel:"modulepreload",href:M,...N})),R.map(({key:M,link:h})=>p0.createElement("link",{key:M,...h})))}function JD(...Y){return(Q)=>{Y.forEach((N)=>{if(typeof N==="function")N(Q);else if(N!=null)N.current=Q})}}var kw=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined";try{if(kw)window.__reactRouterVersion="7.3.0"}catch(Y){}function T2({basename:Y,children:Q,window:N}){let $=U0.useRef();if($.current==null)$.current=zw({window:N,v5Compat:!0});let K=$.current,[U,_]=U0.useState({action:K.action,location:K.location}),L=U0.useCallback((O)=>{U0.startTransition(()=>_(O))},[_]);return U0.useLayoutEffect(()=>K.listen(L),[K,L]),U0.createElement(uJ,{basename:Y,children:Q,location:U.location,navigationType:U.action,navigator:K})}function xw({basename:Y,children:Q,history:N}){let[$,K]=U0.useState({action:N.action,location:N.location}),U=U0.useCallback((_)=>{U0.startTransition(()=>K(_))},[K]);return U0.useLayoutEffect(()=>N.listen(U),[N,U]),U0.createElement(uJ,{basename:Y,children:Q,location:$.location,navigationType:$.action,navigator:N})}xw.displayName="unstable_HistoryRouter";var bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jW=U0.forwardRef(function Y({onClick:Q,discover:N="render",prefetch:$="none",relative:K,reloadDocument:U,replace:_,state:L,target:O,to:V,preventScrollReset:E,viewTransition:A,...F},R){let{basename:M}=U0.useContext(gW),h=typeof V==="string"&&bw.test(V),S,k=!1;if(typeof V==="string"&&h){if(S=V,kw)try{let L0=new URL(window.location.href),e0=V.startsWith("//")?new URL(L0.protocol+V):new URL(V),W1=Q5(e0.pathname,M);if(e0.origin===L0.origin&&W1!=null)V=W1+e0.search+e0.hash;else k=!0}catch(L0){M9(!1,`<Link to="${V}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}}let f=Tw(V,{relative:K}),[l,p,X0]=XD($,F),x0=hw(V,{replace:_,state:L,target:O,preventScrollReset:E,relative:K,viewTransition:A});function _0(L0){if(Q)Q(L0);if(!L0.defaultPrevented)x0(L0)}let S0=U0.createElement("a",{...F,...X0,href:S||f,onClick:k||U?Q:_0,ref:JD(R,p),target:O,"data-discover":!h&&N==="render"?"true":void 0});return l&&!h?U0.createElement(U0.Fragment,null,S0,U0.createElement(Rw,{page:f})):S0});jW.displayName="Link";var vw=U0.forwardRef(function Y({"aria-current":Q="page",caseSensitive:N=!1,className:$="",end:K=!1,style:U,to:_,viewTransition:L,children:O,...V},E){let A=p7(_,{relative:V.relative}),F=$5(),R=U0.useContext(m7),{navigator:M,basename:h}=U0.useContext(gW),S=R!=null&&pw(A)&&L===!0,k=M.encodeLocation?M.encodeLocation(A).pathname:A.pathname,f=F.pathname,l=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;if(!N)f=f.toLowerCase(),l=l?l.toLowerCase():null,k=k.toLowerCase();if(l&&h)l=Q5(l,h)||l;let p=k!=="/"&&k.endsWith("/")?k.length-1:k.length,X0=f===k||!K&&f.startsWith(k)&&f.charAt(p)==="/",x0=l!=null&&(l===k||!K&&l.startsWith(k)&&l.charAt(k.length)==="/"),_0={isActive:X0,isPending:x0,isTransitioning:S},S0=X0?Q:void 0,L0;if(typeof $==="function")L0=$(_0);else L0=[$,X0?"active":null,x0?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let e0=typeof U==="function"?U(_0):U;return U0.createElement(jW,{...V,"aria-current":S0,className:L0,ref:E,style:e0,to:_,viewTransition:L},typeof O==="function"?O(_0):O)});vw.displayName="NavLink";var fw=U0.forwardRef(({discover:Y="render",fetcherKey:Q,navigate:N,reloadDocument:$,replace:K,state:U,method:_=_2,action:L,onSubmit:O,relative:V,preventScrollReset:E,viewTransition:A,...F},R)=>{let M=mw(),h=dw(L,{relative:V}),S=_.toLowerCase()==="get"?"get":"post",k=typeof L==="string"&&bw.test(L);return U0.createElement("form",{ref:R,method:S,action:h,onSubmit:$?O:(l)=>{if(O&&O(l),l.defaultPrevented)return;l.preventDefault();let p=l.nativeEvent.submitter,X0=p?.getAttribute("formmethod")||_;M(p||l.currentTarget,{fetcherKey:Q,method:X0,navigate:N,replace:K,state:U,relative:V,preventScrollReset:E,viewTransition:A})},...F,"data-discover":!k&&Y==="render"?"true":void 0})});fw.displayName="Form";function yw({getKey:Y,storageKey:Q,...N}){let $=U0.useContext(R4),{basename:K}=U0.useContext(gW),U=$5(),_=dJ();uw({getKey:Y,storageKey:Q});let L=U0.useMemo(()=>{if(!$||!Y)return null;let V=bJ(U,_,K,Y);return V!==U.key?V:null},[]);if(!$||$.isSpaMode)return null;let O=((V,E)=>{if(!window.history.state||!window.history.state.key){let A=Math.random().toString(32).slice(2);window.history.replaceState({key:A},"")}try{let F=JSON.parse(sessionStorage.getItem(V)||"{}")[E||window.history.state.key];if(typeof F==="number")window.scrollTo(0,F)}catch(A){console.error(A),sessionStorage.removeItem(V)}}).toString();return U0.createElement("script",{...N,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${O})(${JSON.stringify(Q||xJ)}, ${JSON.stringify(L)})`}})}yw.displayName="ScrollRestoration";function gw(Y){return`${Y} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lJ(Y){let Q=U0.useContext(PZ);return K1(Q,gw(Y)),Q}function ND(Y){let Q=U0.useContext(m7);return K1(Q,gw(Y)),Q}function hw(Y,{target:Q,replace:N,state:$,preventScrollReset:K,relative:U,viewTransition:_}={}){let L=Iw(),O=$5(),V=p7(Y,{relative:U});return U0.useCallback((E)=>{if(mI(E,Q)){E.preventDefault();let A=N!==void 0?N:h7(O)===h7(V);L(Y,{replace:A,state:$,preventScrollReset:K,relative:U,viewTransition:_})}},[O,L,V,N,$,Q,Y,K,U,_])}var $D=0,zD=()=>`__${String(++$D)}__`;function mw(){let{router:Y}=lJ("useSubmit"),{basename:Q}=U0.useContext(gW),N=xI();return U0.useCallback(async($,K={})=>{let{action:U,method:_,encType:L,formData:O,body:V}=pI($,Q);if(K.navigate===!1){let E=K.fetcherKey||zD();await Y.fetch(E,N,K.action||U,{preventScrollReset:K.preventScrollReset,formData:O,body:V,formMethod:K.method||_,formEncType:K.encType||L,flushSync:K.flushSync})}else await Y.navigate(K.action||U,{preventScrollReset:K.preventScrollReset,formData:O,body:V,formMethod:K.method||_,formEncType:K.encType||L,replace:K.replace,state:K.state,fromRouteId:N,flushSync:K.flushSync,viewTransition:K.viewTransition})},[Y,Q,N])}function dw(Y,{relative:Q}={}){let{basename:N}=U0.useContext(gW),$=U0.useContext(N5);K1($,"useFormAction must be used inside a RouteContext");let[K]=$.matches.slice(-1),U={...p7(Y?Y:".",{relative:Q})},_=$5();if(Y==null){U.search=_.search;let L=new URLSearchParams(U.search),O=L.getAll("index");if(O.some((E)=>E==="")){L.delete("index"),O.filter((A)=>A).forEach((A)=>L.append("index",A));let E=L.toString();U.search=E?`?${E}`:""}}if((!Y||Y===".")&&K.route.index)U.search=U.search?U.search.replace(/^\?/,"?index&"):"?index";if(N!=="/")U.pathname=U.pathname==="/"?N:g5([N,U.pathname]);return h7(U)}var xJ="react-router-scroll-positions",H2={};function bJ(Y,Q,N,$){let K=null;if($)if(N!=="/")K=$({...Y,pathname:Q5(Y.pathname,N)||Y.pathname},Q);else K=$(Y,Q);if(K==null)K=Y.key;return K}function uw({getKey:Y,storageKey:Q}={}){let{router:N}=lJ("useScrollRestoration"),{restoreScrollPosition:$,preventScrollReset:K}=ND("useScrollRestoration"),{basename:U}=U0.useContext(gW),_=$5(),L=dJ(),O=jw();if(U0.useEffect(()=>{return window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}},[]),KD(U0.useCallback(()=>{if(O.state==="idle"){let V=bJ(_,L,U,Y);H2[V]=window.scrollY}try{sessionStorage.setItem(Q||xJ,JSON.stringify(H2))}catch(V){M9(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${V}).`)}window.history.scrollRestoration="auto"},[O.state,Y,U,_,L,Q])),typeof document!=="undefined")U0.useLayoutEffect(()=>{try{let V=sessionStorage.getItem(Q||xJ);if(V)H2=JSON.parse(V)}catch(V){}},[Q]),U0.useLayoutEffect(()=>{let V=N?.enableScrollRestoration(H2,()=>window.scrollY,Y?(E,A)=>bJ(E,A,U,Y):void 0);return()=>V&&V()},[N,U,Y]),U0.useLayoutEffect(()=>{if($===!1)return;if(typeof $==="number"){window.scrollTo(0,$);return}if(_.hash){let V=document.getElementById(decodeURIComponent(_.hash.slice(1)));if(V){V.scrollIntoView();return}}if(K===!0)return;window.scrollTo(0,0)},[_,$,K])}function KD(Y,Q){let{capture:N}=Q||{};U0.useEffect(()=>{let $=N!=null?{capture:N}:void 0;return window.addEventListener("pagehide",Y,$),()=>{window.removeEventListener("pagehide",Y,$)}},[Y,N])}function pw(Y,Q={}){let N=U0.useContext(fJ);K1(N!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:$}=lJ("useViewTransitionState"),K=p7(Y,{relative:Q.relative});if(!N.isTransitioning)return!1;let U=Q5(N.currentLocation.pathname,$)||N.currentLocation.pathname,_=Q5(N.nextLocation.pathname,$)||N.nextLocation.pathname;return M4(K.pathname,_)!=null||M4(K.pathname,U)!=null}var sJ=x4(),H0=(Y)=>k4(Y,sJ),oJ=x4();H0.write=(Y)=>k4(Y,oJ);var A2=x4();H0.onStart=(Y)=>k4(Y,A2);var aJ=x4();H0.onFrame=(Y)=>k4(Y,aJ);var rJ=x4();H0.onFinish=(Y)=>k4(Y,rJ);var c7=[];H0.setTimeout=(Y,Q)=>{let N=H0.now()+Q,$=()=>{let U=c7.findIndex((_)=>_.cancel==$);if(~U)c7.splice(U,1);jG-=~U?1:0},K={time:N,handler:Y,cancel:$};return c7.splice(nw(N),0,K),jG+=1,sw(),K};var nw=(Y)=>~(~c7.findIndex((Q)=>Q.time>Y)||~c7.length);H0.cancel=(Y)=>{A2.delete(Y),aJ.delete(Y),rJ.delete(Y),sJ.delete(Y),oJ.delete(Y)};H0.sync=(Y)=>{nJ=!0,H0.batchedUpdates(Y),nJ=!1};H0.throttle=(Y)=>{let Q;function N(){try{Y(...Q)}finally{Q=null}}function $(...K){Q=K,H0.onStart(N)}return $.handler=Y,$.cancel=()=>{A2.delete(N),Q=null},$};var tJ=typeof window!="undefined"?window.requestAnimationFrame:()=>{};H0.use=(Y)=>tJ=Y;H0.now=typeof performance!="undefined"?()=>performance.now():Date.now;H0.batchedUpdates=(Y)=>Y();H0.catch=console.error;H0.frameLoop="always";H0.advance=()=>{if(H0.frameLoop!=="demand")console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand");else aw()};var PG=-1,jG=0,nJ=!1;function k4(Y,Q){if(nJ)Q.delete(Y),Y(0);else Q.add(Y),sw()}function sw(){if(PG<0){if(PG=0,H0.frameLoop!=="demand")tJ(ow)}}function UD(){PG=-1}function ow(){if(~PG)tJ(ow),H0.batchedUpdates(aw)}function aw(){let Y=PG;PG=H0.now();let Q=nw(PG);if(Q)rw(c7.splice(0,Q),(N)=>N.handler()),jG-=Q;if(!jG){UD();return}A2.flush(),sJ.flush(Y?Math.min(64,PG-Y):16.667),aJ.flush(),oJ.flush(),rJ.flush()}function x4(){let Y=new Set,Q=Y;return{add(N){jG+=Q==Y&&!Y.has(N)?1:0,Y.add(N)},delete(N){return jG-=Q==Y&&Y.has(N)?1:0,Y.delete(N)},flush(N){if(Q.size)Y=new Set,jG-=Q.size,rw(Q,($)=>$(N)&&Y.add($)),jG+=Y.size,Q=Y}}}function rw(Y,Q){Y.forEach((N)=>{try{Q(N)}catch($){H0.catch($)}})}var hD=i(f0(),1),OO=i(f0(),1),VO=i(f0(),1),x2=i(f0(),1),n7=i(f0(),1),TO=i(f0(),1),b2=i(f0(),1),pD=i(f0(),1);var HD=Object.defineProperty,_D=(Y,Q)=>{for(var N in Q)HD(Y,N,{get:Q[N],enumerable:!0})},x1={};_D(x1,{assign:()=>wD,colors:()=>CG,createStringInterpolator:()=>XN,skipAnimation:()=>NO,to:()=>JO,willAdvance:()=>BN});function q2(){}var QO=(Y,Q,N)=>Object.defineProperty(Y,Q,{value:N,writable:!0,configurable:!0}),n={arr:Array.isArray,obj:(Y)=>!!Y&&Y.constructor.name==="Object",fun:(Y)=>typeof Y==="function",str:(Y)=>typeof Y==="string",num:(Y)=>typeof Y==="number",und:(Y)=>Y===void 0};function R9(Y,Q){if(n.arr(Y)){if(!n.arr(Q)||Y.length!==Q.length)return!1;for(let N=0;N<Y.length;N++)if(Y[N]!==Q[N])return!1;return!0}return Y===Q}var w0=(Y,Q)=>Y.forEach(Q);function a1(Y,Q,N){if(n.arr(Y)){for(let $=0;$<Y.length;$++)Q.call(N,Y[$],`${$}`);return}for(let $ in Y)if(Y.hasOwnProperty($))Q.call(N,Y[$],$)}var b1=(Y)=>n.und(Y)?[]:n.arr(Y)?Y:[Y];function jZ(Y,Q){if(Y.size){let N=Array.from(Y);Y.clear(),w0(N,Q)}}var CZ=(Y,...Q)=>jZ(Y,(N)=>N(...Q)),YN=()=>typeof window==="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),XN,JO,CG=null,NO=!1,BN=q2,wD=(Y)=>{if(Y.to)JO=Y.to;if(Y.now)H0.now=Y.now;if(Y.colors!==void 0)CG=Y.colors;if(Y.skipAnimation!=null)NO=Y.skipAnimation;if(Y.createStringInterpolator)XN=Y.createStringInterpolator;if(Y.requestAnimationFrame)H0.use(Y.requestAnimationFrame);if(Y.batchedUpdates)H0.batchedUpdates=Y.batchedUpdates;if(Y.willAdvance)BN=Y.willAdvance;if(Y.frameLoop)H0.frameLoop=Y.frameLoop},b4=new Set,N9=[],eJ=[],j2=0,h5={get idle(){return!b4.size&&!N9.length},start(Y){if(j2>Y.priority)b4.add(Y),H0.onStart(OD);else $O(Y),H0(ZN)},advance:ZN,sort(Y){if(j2)H0.onFrame(()=>h5.sort(Y));else{let Q=N9.indexOf(Y);if(~Q)N9.splice(Q,1),zO(Y)}},clear(){N9=[],b4.clear()}};function OD(){b4.forEach($O),b4.clear(),H0(ZN)}function $O(Y){if(!N9.includes(Y))zO(Y)}function zO(Y){N9.splice(VD(N9,(Q)=>Q.priority>Y.priority),0,Y)}function ZN(Y){let Q=eJ;for(let N=0;N<N9.length;N++){let $=N9[N];if(j2=$.priority,!$.idle){if(BN($),$.advance(Y),!$.idle)Q.push($)}}return j2=0,eJ=N9,eJ.length=0,N9=Q,N9.length>0}function VD(Y,Q){let N=Y.findIndex(Q);return N<0?Y.length:N}var LD=(Y,Q,N)=>Math.min(Math.max(N,Y),Q),KO={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},S9="[-+]?\\d*\\.?\\d+",C2=S9+"%";function M2(...Y){return"\\(\\s*("+Y.join(")\\s*,\\s*(")+")\\s*\\)"}var TD=new RegExp("rgb"+M2(S9,S9,S9)),AD=new RegExp("rgba"+M2(S9,S9,S9,S9)),ED=new RegExp("hsl"+M2(S9,C2,C2)),ID=new RegExp("hsla"+M2(S9,C2,C2,S9)),DD=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,PD=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,jD=/^#([0-9a-fA-F]{6})$/,CD=/^#([0-9a-fA-F]{8})$/;function FD(Y){let Q;if(typeof Y==="number")return Y>>>0===Y&&Y>=0&&Y<=4294967295?Y:null;if(Q=jD.exec(Y))return parseInt(Q[1]+"ff",16)>>>0;if(CG&&CG[Y]!==void 0)return CG[Y];if(Q=TD.exec(Y))return(l7(Q[1])<<24|l7(Q[2])<<16|l7(Q[3])<<8|255)>>>0;if(Q=AD.exec(Y))return(l7(Q[1])<<24|l7(Q[2])<<16|l7(Q[3])<<8|WO(Q[4]))>>>0;if(Q=DD.exec(Y))return parseInt(Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]+"ff",16)>>>0;if(Q=CD.exec(Y))return parseInt(Q[1],16)>>>0;if(Q=PD.exec(Y))return parseInt(Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]+Q[4]+Q[4],16)>>>0;if(Q=ED.exec(Y))return(tw(ew(Q[1]),E2(Q[2]),E2(Q[3]))|255)>>>0;if(Q=ID.exec(Y))return(tw(ew(Q[1]),E2(Q[2]),E2(Q[3]))|WO(Q[4]))>>>0;return null}function WN(Y,Q,N){if(N<0)N+=1;if(N>1)N-=1;if(N<0.16666666666666666)return Y+(Q-Y)*6*N;if(N<0.5)return Q;if(N<0.6666666666666666)return Y+(Q-Y)*(0.6666666666666666-N)*6;return Y}function tw(Y,Q,N){let $=N<0.5?N*(1+Q):N+Q-N*Q,K=2*N-$,U=WN(K,$,Y+0.3333333333333333),_=WN(K,$,Y),L=WN(K,$,Y-0.3333333333333333);return Math.round(U*255)<<24|Math.round(_*255)<<16|Math.round(L*255)<<8}function l7(Y){let Q=parseInt(Y,10);if(Q<0)return 0;if(Q>255)return 255;return Q}function ew(Y){return(parseFloat(Y)%360+360)%360/360}function WO(Y){let Q=parseFloat(Y);if(Q<0)return 0;if(Q>1)return 255;return Math.round(Q*255)}function E2(Y){let Q=parseFloat(Y);if(Q<0)return 0;if(Q>100)return 1;return Q/100}function GO(Y){let Q=FD(Y);if(Q===null)return Y;Q=Q||0;let N=(Q&4278190080)>>>24,$=(Q&16711680)>>>16,K=(Q&65280)>>>8,U=(Q&255)/255;return`rgba(${N}, ${$}, ${K}, ${U})`}var FG=(Y,Q,N)=>{if(n.fun(Y))return Y;if(n.arr(Y))return FG({range:Y,output:Q,extrapolate:N});if(n.str(Y.output[0]))return XN(Y);let $=Y,K=$.output,U=$.range||[0,1],_=$.extrapolateLeft||$.extrapolate||"extend",L=$.extrapolateRight||$.extrapolate||"extend",O=$.easing||((V)=>V);return(V)=>{let E=MD(V,U);return qD(V,U[E],U[E+1],K[E],K[E+1],O,_,L,$.map)}};function qD(Y,Q,N,$,K,U,_,L,O){let V=O?O(Y):Y;if(V<Q){if(_==="identity")return V;else if(_==="clamp")V=Q}if(V>N){if(L==="identity")return V;else if(L==="clamp")V=N}if($===K)return $;if(Q===N)return Y<=Q?$:K;if(Q===-1/0)V=-V;else if(N===1/0)V=V-Q;else V=(V-Q)/(N-Q);if(V=U(V),$===-1/0)V=-V;else if(K===1/0)V=V+$;else V=V*(K-$)+$;return V}function MD(Y,Q){for(var N=1;N<Q.length-1;++N)if(Q[N]>=Y)break;return N-1}var SD=(Y,Q="end")=>(N)=>{N=Q==="end"?Math.min(N,0.999):Math.max(N,0.001);let $=N*Y,K=Q==="end"?Math.floor($):Math.ceil($);return LD(0,1,K/Y)},F2=1.70158,I2=F2*1.525,ZO=F2+1,YO=2*Math.PI/3,XO=2*Math.PI/4.5,D2=(Y)=>{if(Y<0.36363636363636365)return 7.5625*Y*Y;else if(Y<0.7272727272727273)return 7.5625*(Y-=0.5454545454545454)*Y+0.75;else if(Y<0.9090909090909091)return 7.5625*(Y-=0.8181818181818182)*Y+0.9375;else return 7.5625*(Y-=0.9545454545454546)*Y+0.984375},QN={linear:(Y)=>Y,easeInQuad:(Y)=>Y*Y,easeOutQuad:(Y)=>1-(1-Y)*(1-Y),easeInOutQuad:(Y)=>Y<0.5?2*Y*Y:1-Math.pow(-2*Y+2,2)/2,easeInCubic:(Y)=>Y*Y*Y,easeOutCubic:(Y)=>1-Math.pow(1-Y,3),easeInOutCubic:(Y)=>Y<0.5?4*Y*Y*Y:1-Math.pow(-2*Y+2,3)/2,easeInQuart:(Y)=>Y*Y*Y*Y,easeOutQuart:(Y)=>1-Math.pow(1-Y,4),easeInOutQuart:(Y)=>Y<0.5?8*Y*Y*Y*Y:1-Math.pow(-2*Y+2,4)/2,easeInQuint:(Y)=>Y*Y*Y*Y*Y,easeOutQuint:(Y)=>1-Math.pow(1-Y,5),easeInOutQuint:(Y)=>Y<0.5?16*Y*Y*Y*Y*Y:1-Math.pow(-2*Y+2,5)/2,easeInSine:(Y)=>1-Math.cos(Y*Math.PI/2),easeOutSine:(Y)=>Math.sin(Y*Math.PI/2),easeInOutSine:(Y)=>-(Math.cos(Math.PI*Y)-1)/2,easeInExpo:(Y)=>Y===0?0:Math.pow(2,10*Y-10),easeOutExpo:(Y)=>Y===1?1:1-Math.pow(2,-10*Y),easeInOutExpo:(Y)=>Y===0?0:Y===1?1:Y<0.5?Math.pow(2,20*Y-10)/2:(2-Math.pow(2,-20*Y+10))/2,easeInCirc:(Y)=>1-Math.sqrt(1-Math.pow(Y,2)),easeOutCirc:(Y)=>Math.sqrt(1-Math.pow(Y-1,2)),easeInOutCirc:(Y)=>Y<0.5?(1-Math.sqrt(1-Math.pow(2*Y,2)))/2:(Math.sqrt(1-Math.pow(-2*Y+2,2))+1)/2,easeInBack:(Y)=>ZO*Y*Y*Y-F2*Y*Y,easeOutBack:(Y)=>1+ZO*Math.pow(Y-1,3)+F2*Math.pow(Y-1,2),easeInOutBack:(Y)=>Y<0.5?Math.pow(2*Y,2)*((I2+1)*2*Y-I2)/2:(Math.pow(2*Y-2,2)*((I2+1)*(Y*2-2)+I2)+2)/2,easeInElastic:(Y)=>Y===0?0:Y===1?1:-Math.pow(2,10*Y-10)*Math.sin((Y*10-10.75)*YO),easeOutElastic:(Y)=>Y===0?0:Y===1?1:Math.pow(2,-10*Y)*Math.sin((Y*10-0.75)*YO)+1,easeInOutElastic:(Y)=>Y===0?0:Y===1?1:Y<0.5?-(Math.pow(2,20*Y-10)*Math.sin((20*Y-11.125)*XO))/2:Math.pow(2,-20*Y+10)*Math.sin((20*Y-11.125)*XO)/2+1,easeInBounce:(Y)=>1-D2(1-Y),easeOutBounce:D2,easeInOutBounce:(Y)=>Y<0.5?(1-D2(1-2*Y))/2:(1+D2(2*Y-1))/2,steps:SD},v4=Symbol.for("FluidValue.get"),i7=Symbol.for("FluidValue.observers"),XW=(Y)=>Boolean(Y&&Y[v4]),v1=(Y)=>Y&&Y[v4]?Y[v4]():Y,JN=(Y)=>Y[i7]||null;function RD(Y,Q){if(Y.eventObserved)Y.eventObserved(Q);else Y(Q)}function m5(Y,Q){let N=Y[i7];if(N)N.forEach(($)=>{RD($,Q)})}var S2=class{constructor(Y){if(!Y&&!(Y=this.get))throw Error("Unknown getter");kD(this,Y)}},kD=(Y,Q)=>UO(Y,v4,Q);function k9(Y,Q){if(Y[v4]){let N=Y[i7];if(!N)UO(Y,i7,N=new Set);if(!N.has(Q)){if(N.add(Q),Y.observerAdded)Y.observerAdded(N.size,Q)}}return Q}function d5(Y,Q){let N=Y[i7];if(N&&N.has(Q)){let $=N.size-1;if($)N.delete(Q);else Y[i7]=null;if(Y.observerRemoved)Y.observerRemoved($,Q)}}var UO=(Y,Q,N)=>Object.defineProperty(Y,Q,{value:N,writable:!0,configurable:!0}),P2=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,xD=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,BO=new RegExp(`(${P2.source})(%|[a-z]+)`,"i"),bD=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,R2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,HO=(Y)=>{let[Q,N]=vD(Y);if(!Q||YN())return Y;let $=window.getComputedStyle(document.documentElement).getPropertyValue(Q);if($)return $.trim();else if(N&&N.startsWith("--")){let K=window.getComputedStyle(document.documentElement).getPropertyValue(N);if(K)return K;else return Y}else if(N&&R2.test(N))return HO(N);else if(N)return N;return Y},vD=(Y)=>{let Q=R2.exec(Y);if(!Q)return[,];let[,N,$]=Q;return[N,$]},GN,fD=(Y,Q,N,$,K)=>`rgba(${Math.round(Q)}, ${Math.round(N)}, ${Math.round($)}, ${K})`,k2=(Y)=>{if(!GN)GN=CG?new RegExp(`(${Object.keys(CG).join("|")})(?!\\w)`,"g"):/^\b$/;let Q=Y.output.map((U)=>{return v1(U).replace(R2,HO).replace(xD,GO).replace(GN,GO)}),N=Q.map((U)=>U.match(P2).map(Number)),K=N[0].map((U,_)=>N.map((L)=>{if(!(_ in L))throw Error('The arity of each "output" value must be equal');return L[_]})).map((U)=>FG({...Y,output:U}));return(U)=>{let _=!BO.test(Q[0])&&Q.find((O)=>BO.test(O))?.replace(P2,""),L=0;return Q[0].replace(P2,()=>`${K[L++](U)}${_||""}`).replace(bD,fD)}},NN="react-spring: ",_O=(Y)=>{let Q=Y,N=!1;if(typeof Q!="function")throw new TypeError(`${NN}once requires a function parameter`);return(...$)=>{if(!N)Q(...$),N=!0}},yD=_O(console.warn);function $N(){yD(`${NN}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var gD=_O(console.warn);function wO(){gD(`${NN}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function qG(Y){return n.str(Y)&&(Y[0]=="#"||/\d/.test(Y)||!YN()&&R2.test(Y)||(Y in(CG||{})))}var $9=YN()?x2.useEffect:x2.useLayoutEffect,mD=()=>{let Y=VO.useRef(!1);return $9(()=>{return Y.current=!0,()=>{Y.current=!1}},[]),Y};function f4(){let Y=OO.useState()[1],Q=mD();return()=>{if(Q.current)Y(Math.random())}}function LO(Y,Q){let[N]=n7.useState(()=>({inputs:Q,result:Y()})),$=n7.useRef(),K=$.current,U=K;if(U){if(!Boolean(Q&&U.inputs&&dD(Q,U.inputs)))U={inputs:Q,result:Y()}}else U=N;return n7.useEffect(()=>{if($.current=U,K==N)N.inputs=N.result=void 0},[U]),U.result}function dD(Y,Q){if(Y.length!==Q.length)return!1;for(let N=0;N<Y.length;N++)if(Y[N]!==Q[N])return!1;return!0}var s7=(Y)=>TO.useEffect(Y,uD),uD=[];function v2(Y){let Q=b2.useRef();return b2.useEffect(()=>{Q.current=Y}),Q.current}var z5=i(f0(),1);var jO=i(f0(),1),u5=i(f0(),1);var y4=Symbol.for("Animated:node"),cD=(Y)=>!!Y&&Y[y4]===Y,hW=(Y)=>Y&&Y[y4],g4=(Y,Q)=>QO(Y,y4,Q),o7=(Y)=>Y&&Y[y4]&&Y[y4].getPayload(),DO=class{constructor(){g4(this,this)}getPayload(){return this.payload||[]}},a7=class extends DO{constructor(Y){super();if(this._value=Y,this.done=!0,this.durationProgress=0,n.num(this._value))this.lastPosition=this._value}static create(Y){return new a7(Y)}getPayload(){return[this]}getValue(){return this._value}setValue(Y,Q){if(n.num(Y)){if(this.lastPosition=Y,Q){if(Y=Math.round(Y/Q)*Q,this.done)this.lastPosition=Y}}if(this._value===Y)return!1;return this._value=Y,!0}reset(){let{done:Y}=this;if(this.done=!1,n.num(this._value)){if(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,Y)this.lastVelocity=null;this.v0=null}}},r7=class extends a7{constructor(Y){super(0);this._string=null,this._toString=FG({output:[Y,Y]})}static create(Y){return new r7(Y)}getValue(){let Y=this._string;return Y==null?this._string=this._toString(this._value):Y}setValue(Y){if(n.str(Y)){if(Y==this._string)return!1;this._string=Y,this._value=1}else if(super.setValue(Y))this._string=null;else return!1;return!0}reset(Y){if(Y)this._toString=FG({output:[this.getValue(),Y]});this._value=0,super.reset()}},f2={dependencies:null},h4=class extends DO{constructor(Y){super();this.source=Y,this.setValue(Y)}getValue(Y){let Q={};return a1(this.source,(N,$)=>{if(cD(N))Q[$]=N.getValue(Y);else if(XW(N))Q[$]=v1(N);else if(!Y)Q[$]=N}),Q}setValue(Y){this.source=Y,this.payload=this._makePayload(Y)}reset(){if(this.payload)w0(this.payload,(Y)=>Y.reset())}_makePayload(Y){if(Y){let Q=new Set;return a1(Y,this._addToPayload,Q),Array.from(Q)}}_addToPayload(Y){if(f2.dependencies&&XW(Y))f2.dependencies.add(Y);let Q=o7(Y);if(Q)w0(Q,(N)=>this.add(N))}},PO=class extends h4{constructor(Y){super(Y)}static create(Y){return new PO(Y)}getValue(){return this.source.map((Y)=>Y.getValue())}setValue(Y){let Q=this.getPayload();if(Y.length==Q.length)return Q.map((N,$)=>N.setValue(Y[$])).some(Boolean);return super.setValue(Y.map(lD)),!0}};function lD(Y){return(qG(Y)?r7:a7).create(Y)}function m4(Y){let Q=hW(Y);return Q?Q.constructor:n.arr(Y)?PO:qG(Y)?r7:a7}var AO=(Y,Q)=>{let N=!n.fun(Y)||Y.prototype&&Y.prototype.isReactComponent;return u5.forwardRef(($,K)=>{let U=u5.useRef(null),_=N&&u5.useCallback((M)=>{U.current=sD(K,M)},[K]),[L,O]=nD($,Q),V=f4(),E=()=>{let M=U.current;if(N&&!M)return;if((M?Q.applyAnimatedValues(M,L.getValue(!0)):!1)===!1)V()},A=new iD(E,O),F=u5.useRef();$9(()=>{return F.current=A,w0(O,(M)=>k9(M,A)),()=>{if(F.current)w0(F.current.deps,(M)=>d5(M,F.current)),H0.cancel(F.current.update)}}),u5.useEffect(E,[]),s7(()=>()=>{let M=F.current;w0(M.deps,(h)=>d5(h,M))});let R=Q.getComponentProps(L.getValue());return jO.createElement(Y,{...R,ref:_})})},iD=class{constructor(Y,Q){this.update=Y,this.deps=Q}eventObserved(Y){if(Y.type=="change")H0.write(this.update)}};function nD(Y,Q){let N=new Set;if(f2.dependencies=N,Y.style)Y={...Y,style:Q.createAnimatedStyle(Y.style)};return Y=new h4(Y),f2.dependencies=null,[Y,N]}function sD(Y,Q){if(Y)if(n.fun(Y))Y(Q);else Y.current=Q;return Q}var EO=Symbol.for("AnimatedComponent"),CO=(Y,{applyAnimatedValues:Q=()=>!1,createAnimatedStyle:N=(K)=>new h4(K),getComponentProps:$=(K)=>K}={})=>{let K={applyAnimatedValues:Q,createAnimatedStyle:N,getComponentProps:$},U=(_)=>{let L=IO(_)||"Anonymous";if(n.str(_))_=U[_]||(U[_]=AO(_,K));else _=_[EO]||(_[EO]=AO(_,K));return _.displayName=`Animated(${L})`,_};return a1(Y,(_,L)=>{if(n.arr(Y))L=IO(_);U[L]=U(_)}),{animated:U}},IO=(Y)=>n.str(Y)?Y:Y&&n.str(Y.displayName)?Y.displayName:n.fun(Y)&&Y.name||null;var g2=i(f0(),1),aO=i(f0(),1);var wP=i(f0(),1);var rO=i(f0(),1),IN=i(f0(),1);var tO=i(f0(),1);function FZ(Y,...Q){return n.fun(Y)?Y(...Q):Y}var c4=(Y,Q)=>Y===!0||!!(Q&&Y&&(n.fun(Y)?Y(Q):b1(Y).includes(Q))),yO=(Y,Q)=>n.obj(Y)?Q&&Y[Q]:Y,gO=(Y,Q)=>Y.default===!0?Y[Q]:Y.default?Y.default[Q]:void 0,oD=(Y)=>Y,LN=(Y,Q=oD)=>{let N=aD;if(Y.default&&Y.default!==!0)Y=Y.default,N=Object.keys(Y);let $={};for(let K of N){let U=Q(Y[K],K);if(!n.und(U))$[K]=U}return $},aD=["config","onProps","onStart","onChange","onPause","onResume","onRest"],rD={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function tD(Y){let Q={},N=0;if(a1(Y,($,K)=>{if(!rD[K])Q[K]=$,N++}),N)return Q}function hO(Y){let Q=tD(Y);if(Q){let N={to:Q};return a1(Y,($,K)=>(K in Q)||(N[K]=$)),N}return{...Y}}function l4(Y){return Y=v1(Y),n.arr(Y)?Y.map(l4):qG(Y)?x1.createStringInterpolator({range:[0,1],output:[Y,Y]})(1):Y}function eD(Y){for(let Q in Y)return!0;return!1}function UN(Y){return n.fun(Y)||n.arr(Y)&&n.obj(Y[0])}function WP(Y,Q){Y.ref?.delete(Y),Q?.delete(Y)}function GP(Y,Q){if(Q&&Y.ref!==Q)Y.ref?.delete(Y),Q.add(Y),Y.ref=Q}var ZP={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},HN={...ZP.default,mass:1,damping:1,easing:QN.linear,clamp:!1},YP=class{constructor(){this.velocity=0,Object.assign(this,HN)}};function XP(Y,Q,N){if(N)N={...N},FO(N,Q),Q={...N,...Q};FO(Y,Q),Object.assign(Y,Q);for(let _ in HN)if(Y[_]==null)Y[_]=HN[_];let{frequency:$,damping:K}=Y,{mass:U}=Y;if(!n.und($)){if($<0.01)$=0.01;if(K<0)K=0;Y.tension=Math.pow(2*Math.PI/$,2)*U,Y.friction=4*Math.PI*K*U/$}return Y}function FO(Y,Q){if(!n.und(Q.decay))Y.duration=void 0;else{let N=!n.und(Q.tension)||!n.und(Q.friction);if(N||!n.und(Q.frequency)||!n.und(Q.damping)||!n.und(Q.mass))Y.duration=void 0,Y.decay=void 0;if(N)Y.frequency=void 0}}var qO=[],BP=class{constructor(){this.changed=!1,this.values=qO,this.toValues=null,this.fromValues=qO,this.config=new YP,this.immediate=!1}};function mO(Y,{key:Q,props:N,defaultProps:$,state:K,actions:U}){return new Promise((_,L)=>{let O,V,E=c4(N.cancel??$?.cancel,Q);if(E)R();else{if(!n.und(N.pause))K.paused=c4(N.pause,Q);let M=$?.pause;if(M!==!0)M=K.paused||c4(M,Q);if(O=FZ(N.delay||0,Q),M)K.resumeQueue.add(F),U.pause();else U.resume(),F()}function A(){K.resumeQueue.add(F),K.timeouts.delete(V),V.cancel(),O=V.time-H0.now()}function F(){if(O>0&&!x1.skipAnimation)K.delayed=!0,V=H0.setTimeout(R,O),K.pauseQueue.add(A),K.timeouts.add(V);else R()}function R(){if(K.delayed)K.delayed=!1;if(K.pauseQueue.delete(A),K.timeouts.delete(V),Y<=(K.cancelId||0))E=!0;try{U.start({...N,callId:Y,cancel:E},_)}catch(M){L(M)}}})}var TN=(Y,Q)=>Q.length==1?Q[0]:Q.some((N)=>N.cancelled)?t7(Y.get()):Q.every((N)=>N.noop)?dO(Y.get()):x9(Y.get(),Q.every((N)=>N.finished)),dO=(Y)=>({value:Y,noop:!0,finished:!0,cancelled:!1}),x9=(Y,Q,N=!1)=>({value:Y,finished:Q,cancelled:N}),t7=(Y)=>({value:Y,cancelled:!0,finished:!1});function uO(Y,Q,N,$){let{callId:K,parentId:U,onRest:_}=Q,{asyncTo:L,promise:O}=N;if(!U&&Y===L&&!Q.reset)return O;return N.promise=(async()=>{N.asyncId=K,N.asyncTo=Y;let V=LN(Q,(S,k)=>k==="onRest"?void 0:S),E,A,F=new Promise((S,k)=>(E=S,A=k)),R=(S)=>{let k=K<=(N.cancelId||0)&&t7($)||K!==N.asyncId&&x9($,!1);if(k)throw S.result=k,A(S),S},M=(S,k)=>{let f=new MO,l=new SO;return(async()=>{if(x1.skipAnimation)throw i4(N),l.result=x9($,!1),A(l),l;R(f);let p=n.obj(S)?{...S}:{...k,to:S};p.parentId=K,a1(V,(x0,_0)=>{if(n.und(p[_0]))p[_0]=x0});let X0=await $.start(p);if(R(f),N.paused)await new Promise((x0)=>{N.resumeQueue.add(x0)});return X0})()},h;if(x1.skipAnimation)return i4(N),x9($,!1);try{let S;if(n.arr(Y))S=(async(k)=>{for(let f of k)await M(f)})(Y);else S=Promise.resolve(Y(M,$.stop.bind($)));await Promise.all([S.then(E),F]),h=x9($.get(),!0,!1)}catch(S){if(S instanceof MO)h=S.result;else if(S instanceof SO)h=S.result;else throw S}finally{if(K==N.asyncId)N.asyncId=U,N.asyncTo=U?L:void 0,N.promise=U?O:void 0}if(n.fun(_))H0.batchedUpdates(()=>{_(h,$,$.item)});return h})()}function i4(Y,Q){if(jZ(Y.timeouts,(N)=>N.cancel()),Y.pauseQueue.clear(),Y.resumeQueue.clear(),Y.asyncId=Y.asyncTo=Y.promise=void 0,Q)Y.cancelId=Q}var MO=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},SO=class extends Error{constructor(){super("SkipAnimationSignal")}},_N=(Y)=>Y instanceof AN,QP=1,AN=class extends S2{constructor(){super(...arguments);this.id=QP++,this._priority=0}get priority(){return this._priority}set priority(Y){if(this._priority!=Y)this._priority=Y,this._onPriorityChange(Y)}get(){let Y=hW(this);return Y&&Y.getValue()}to(...Y){return x1.to(this,Y)}interpolate(...Y){return $N(),x1.to(this,Y)}toJSON(){return this.get()}observerAdded(Y){if(Y==1)this._attach()}observerRemoved(Y){if(Y==0)this._detach()}_attach(){}_detach(){}_onChange(Y,Q=!1){m5(this,{type:"change",parent:this,value:Y,idle:Q})}_onPriorityChange(Y){if(!this.idle)h5.sort(this);m5(this,{type:"priority",parent:this,priority:Y})}},qZ=Symbol.for("SpringPhase"),pO=1,wN=2,ON=4,zN=(Y)=>(Y[qZ]&pO)>0,MG=(Y)=>(Y[qZ]&wN)>0,d4=(Y)=>(Y[qZ]&ON)>0,RO=(Y,Q)=>Q?Y[qZ]|=wN|pO:Y[qZ]&=~wN,kO=(Y,Q)=>Q?Y[qZ]|=ON:Y[qZ]&=~ON,JP=class extends AN{constructor(Y,Q){super();if(this.animation=new BP,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!n.und(Y)||!n.und(Q)){let N=n.obj(Y)?{...Y}:{...Q,from:Y};if(n.und(N.default))N.default=!0;this.start(N)}}get idle(){return!(MG(this)||this._state.asyncTo)||d4(this)}get goal(){return v1(this.animation.to)}get velocity(){let Y=hW(this);return Y instanceof a7?Y.lastVelocity||0:Y.getPayload().map((Q)=>Q.lastVelocity||0)}get hasAnimated(){return zN(this)}get isAnimating(){return MG(this)}get isPaused(){return d4(this)}get isDelayed(){return this._state.delayed}advance(Y){let Q=!0,N=!1,$=this.animation,{toValues:K}=$,{config:U}=$,_=o7($.to);if(!_&&XW($.to))K=b1(v1($.to));$.values.forEach((V,E)=>{if(V.done)return;let A=V.constructor==r7?1:_?_[E].lastPosition:K[E],F=$.immediate,R=A;if(!F){if(R=V.lastPosition,U.tension<=0){V.done=!0;return}let M=V.elapsedTime+=Y,h=$.fromValues[E],S=V.v0!=null?V.v0:V.v0=n.arr(U.velocity)?U.velocity[E]:U.velocity,k,f=U.precision||(h==A?0.005:Math.min(1,Math.abs(A-h)*0.001));if(!n.und(U.duration)){let l=1;if(U.duration>0){if(this._memoizedDuration!==U.duration){if(this._memoizedDuration=U.duration,V.durationProgress>0)V.elapsedTime=U.duration*V.durationProgress,M=V.elapsedTime+=Y}l=(U.progress||0)+M/this._memoizedDuration,l=l>1?1:l<0?0:l,V.durationProgress=l}R=h+U.easing(l)*(A-h),k=(R-V.lastPosition)/Y,F=l==1}else if(U.decay){let l=U.decay===!0?0.998:U.decay,p=Math.exp(-(1-l)*M);R=h+S/(1-l)*(1-p),F=Math.abs(V.lastPosition-R)<=f,k=S*p}else{k=V.lastVelocity==null?S:V.lastVelocity;let l=U.restVelocity||f/10,p=U.clamp?0:U.bounce,X0=!n.und(p),x0=h==A?V.v0>0:h<A,_0,S0=!1,L0=1,e0=Math.ceil(Y/L0);for(let W1=0;W1<e0;++W1){if(_0=Math.abs(k)>l,!_0){if(F=Math.abs(A-R)<=f,F)break}if(X0){if(S0=R==A||R>A==x0,S0)k=-k*p,R=A}let w1=-U.tension*0.000001*(R-A),BW=-U.friction*0.001*k,W0=(w1+BW)/U.mass;k=k+W0*L0,R=R+k*L0}}if(V.lastVelocity=k,Number.isNaN(R))console.warn("Got NaN while animating:",this),F=!0}if(_&&!_[E].done)F=!1;if(F)V.done=!0;else Q=!1;if(V.setValue(R,U.round))N=!0});let L=hW(this),O=L.getValue();if(Q){let V=v1($.to);if((O!==V||N)&&!U.decay)L.setValue(V),this._onChange(V);else if(N&&U.decay)this._onChange(O);this._stop()}else if(N)this._onChange(O)}set(Y){return H0.batchedUpdates(()=>{this._stop(),this._focus(Y),this._set(Y)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(MG(this)){let{to:Y,config:Q}=this.animation;H0.batchedUpdates(()=>{if(this._onStart(),!Q.decay)this._set(Y,!1);this._stop()})}return this}update(Y){return(this.queue||(this.queue=[])).push(Y),this}start(Y,Q){let N;if(!n.und(Y))N=[n.obj(Y)?Y:{...Q,to:Y}];else N=this.queue||[],this.queue=[];return Promise.all(N.map(($)=>{return this._update($)})).then(($)=>TN(this,$))}stop(Y){let{to:Q}=this.animation;return this._focus(this.get()),i4(this._state,Y&&this._lastCallId),H0.batchedUpdates(()=>this._stop(Q,Y)),this}reset(){this._update({reset:!0})}eventObserved(Y){if(Y.type=="change")this._start();else if(Y.type=="priority")this.priority=Y.priority+1}_prepareNode(Y){let Q=this.key||"",{to:N,from:$}=Y;if(N=n.obj(N)?N[Q]:N,N==null||UN(N))N=void 0;if($=n.obj($)?$[Q]:$,$==null)$=void 0;let K={to:N,from:$};if(!zN(this)){if(Y.reverse)[N,$]=[$,N];if($=v1($),!n.und($))this._set($);else if(!hW(this))this._set(N)}return K}_update({...Y},Q){let{key:N,defaultProps:$}=this;if(Y.default)Object.assign($,LN(Y,(_,L)=>/^on/.test(L)?yO(_,N):_));bO(this,Y,"onProps"),p4(this,"onProps",Y,this);let K=this._prepareNode(Y);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let U=this._state;return mO(++this._lastCallId,{key:N,props:Y,defaultProps:$,state:U,actions:{pause:()=>{if(!d4(this))kO(this,!0),CZ(U.pauseQueue),p4(this,"onPause",x9(this,u4(this,this.animation.to)),this)},resume:()=>{if(d4(this)){if(kO(this,!1),MG(this))this._resume();CZ(U.resumeQueue),p4(this,"onResume",x9(this,u4(this,this.animation.to)),this)}},start:this._merge.bind(this,K)}}).then((_)=>{if(Y.loop&&_.finished&&!(Q&&_.noop)){let L=cO(Y);if(L)return this._update(L,!0)}return _})}_merge(Y,Q,N){if(Q.cancel)return this.stop(!0),N(t7(this));let $=!n.und(Y.to),K=!n.und(Y.from);if($||K)if(Q.callId>this._lastToId)this._lastToId=Q.callId;else return N(t7(this));let{key:U,defaultProps:_,animation:L}=this,{to:O,from:V}=L,{to:E=O,from:A=V}=Y;if(K&&!$&&(!Q.default||n.und(E)))E=A;if(Q.reverse)[E,A]=[A,E];let F=!R9(A,V);if(F)L.from=A;A=v1(A);let R=!R9(E,O);if(R)this._focus(E);let M=UN(Q.to),{config:h}=L,{decay:S,velocity:k}=h;if($||K)h.velocity=0;if(Q.config&&!M)XP(h,FZ(Q.config,U),Q.config!==_.config?FZ(_.config,U):void 0);let f=hW(this);if(!f||n.und(E))return N(x9(this,!0));let l=n.und(Q.reset)?K&&!Q.default:!n.und(A)&&c4(Q.reset,U),p=l?A:this.get(),X0=l4(E),x0=n.num(X0)||n.arr(X0)||qG(X0),_0=!M&&(!x0||c4(_.immediate||Q.immediate,U));if(R){let W1=m4(E);if(W1!==f.constructor)if(_0)f=this._set(X0);else throw Error(`Cannot animate between ${f.constructor.name} and ${W1.name}, as the "to" prop suggests`)}let S0=f.constructor,L0=XW(E),e0=!1;if(!L0){let W1=l||!zN(this)&&F;if(R||W1)e0=R9(l4(p),X0),L0=!e0;if(!R9(L.immediate,_0)&&!_0||!R9(h.decay,S)||!R9(h.velocity,k))L0=!0}if(e0&&MG(this)){if(L.changed&&!l)L0=!0;else if(!L0)this._stop(O)}if(!M){if(L0||XW(O))L.values=f.getPayload(),L.toValues=XW(E)?null:S0==r7?[1]:b1(X0);if(L.immediate!=_0){if(L.immediate=_0,!_0&&!l)this._set(O)}if(L0){let{onRest:W1}=L;w0($P,(BW)=>bO(this,Q,BW));let w1=x9(this,u4(this,O));if(CZ(this._pendingCalls,w1),this._pendingCalls.add(N),L.changed)H0.batchedUpdates(()=>{if(L.changed=!l,W1?.(w1,this),l)FZ(_.onRest,w1);else L.onStart?.(w1,this)})}}if(l)this._set(p);if(M)N(uO(Q.to,Q,this._state,this));else if(L0)this._start();else if(MG(this)&&!R)this._pendingCalls.add(N);else N(dO(p))}_focus(Y){let Q=this.animation;if(Y!==Q.to){if(JN(this))this._detach();if(Q.to=Y,JN(this))this._attach()}}_attach(){let Y=0,{to:Q}=this.animation;if(XW(Q)){if(k9(Q,this),_N(Q))Y=Q.priority+1}this.priority=Y}_detach(){let{to:Y}=this.animation;if(XW(Y))d5(Y,this)}_set(Y,Q=!0){let N=v1(Y);if(!n.und(N)){let $=hW(this);if(!$||!R9(N,$.getValue())){let K=m4(N);if(!$||$.constructor!=K)g4(this,K.create(N));else $.setValue(N);if($)H0.batchedUpdates(()=>{this._onChange(N,Q)})}}return hW(this)}_onStart(){let Y=this.animation;if(!Y.changed)Y.changed=!0,p4(this,"onStart",x9(this,u4(this,Y.to)),this)}_onChange(Y,Q){if(!Q)this._onStart(),FZ(this.animation.onChange,Y,this);FZ(this.defaultProps.onChange,Y,this),super._onChange(Y,Q)}_start(){let Y=this.animation;if(hW(this).reset(v1(Y.to)),!Y.immediate)Y.fromValues=Y.values.map((Q)=>Q.lastPosition);if(!MG(this)){if(RO(this,!0),!d4(this))this._resume()}}_resume(){if(x1.skipAnimation)this.finish();else h5.start(this)}_stop(Y,Q){if(MG(this)){RO(this,!1);let N=this.animation;if(w0(N.values,(K)=>{K.done=!0}),N.toValues)N.onChange=N.onPause=N.onResume=void 0;m5(this,{type:"idle",parent:this});let $=Q?t7(this.get()):x9(this.get(),u4(this,Y??N.to));if(CZ(this._pendingCalls,$),N.changed)N.changed=!1,p4(this,"onRest",$,this)}}};function u4(Y,Q){let N=l4(Q),$=l4(Y.get());return R9($,N)}function cO(Y,Q=Y.loop,N=Y.to){let $=FZ(Q);if($){let K=$!==!0&&hO($),U=(K||Y).reverse,_=!K||K.reset;return n4({...Y,loop:Q,default:!1,pause:void 0,to:!U||UN(N)?N:void 0,from:_?Y.from:void 0,reset:_,...K})}}function n4(Y){let{to:Q,from:N}=Y=hO(Y),$=new Set;if(n.obj(Q))xO(Q,$);if(n.obj(N))xO(N,$);return Y.keys=$.size?Array.from($):null,Y}function NP(Y){let Q=n4(Y);if(n.und(Q.default))Q.default=LN(Q);return Q}function xO(Y,Q){a1(Y,(N,$)=>N!=null&&Q.add($))}var $P=["onStart","onRest","onChange","onPause","onResume"];function bO(Y,Q,N){Y.animation[N]=Q[N]!==gO(Q,N)?yO(Q[N],Y.key):void 0}function p4(Y,Q,...N){Y.animation[Q]?.(...N),Y.defaultProps[Q]?.(...N)}var zP=["onStart","onChange","onRest"],KP=1,UP=class{constructor(Y,Q){if(this.id=KP++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),Q)this._flush=Q;if(Y)this.start({default:!0,...Y})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((Y)=>{return Y.idle&&!Y.isDelayed&&!Y.isPaused})}get item(){return this._item}set item(Y){this._item=Y}get(){let Y={};return this.each((Q,N)=>Y[N]=Q.get()),Y}set(Y){for(let Q in Y){let N=Y[Q];if(!n.und(N))this.springs[Q].set(N)}}update(Y){if(Y)this.queue.push(n4(Y));return this}start(Y){let{queue:Q}=this;if(Y)Q=b1(Y).map(n4);else this.queue=[];if(this._flush)return this._flush(this,Q);return oO(this,Q),VN(this,Q)}stop(Y,Q){if(Y!==!!Y)Q=Y;if(Q){let N=this.springs;w0(b1(Q),($)=>N[$].stop(!!Y))}else i4(this._state,this._lastAsyncId),this.each((N)=>N.stop(!!Y));return this}pause(Y){if(n.und(Y))this.start({pause:!0});else{let Q=this.springs;w0(b1(Y),(N)=>Q[N].pause())}return this}resume(Y){if(n.und(Y))this.start({pause:!1});else{let Q=this.springs;w0(b1(Y),(N)=>Q[N].resume())}return this}each(Y){a1(this.springs,Y)}_onFrame(){let{onStart:Y,onChange:Q,onRest:N}=this._events,$=this._active.size>0,K=this._changed.size>0;if($&&!this._started||K&&!this._started)this._started=!0,jZ(Y,([L,O])=>{O.value=this.get(),L(O,this,this._item)});let U=!$&&this._started,_=K||U&&N.size?this.get():null;if(K&&Q.size)jZ(Q,([L,O])=>{O.value=_,L(O,this,this._item)});if(U)this._started=!1,jZ(N,([L,O])=>{O.value=_,L(O,this,this._item)})}eventObserved(Y){if(Y.type=="change"){if(this._changed.add(Y.parent),!Y.idle)this._active.add(Y.parent)}else if(Y.type=="idle")this._active.delete(Y.parent);else return;H0.onFrame(this._onFrame)}};function VN(Y,Q){return Promise.all(Q.map((N)=>lO(Y,N))).then((N)=>TN(Y,N))}async function lO(Y,Q,N){let{keys:$,to:K,from:U,loop:_,onRest:L,onResolve:O}=Q,V=n.obj(Q.default)&&Q.default;if(_)Q.loop=!1;if(K===!1)Q.to=null;if(U===!1)Q.from=null;let E=n.arr(K)||n.fun(K)?K:void 0;if(E){if(Q.to=void 0,Q.onRest=void 0,V)V.onRest=void 0}else w0(zP,(h)=>{let S=Q[h];if(n.fun(S)){let k=Y._events[h];if(Q[h]=({finished:f,cancelled:l})=>{let p=k.get(S);if(p){if(!f)p.finished=!1;if(l)p.cancelled=!0}else k.set(S,{value:null,finished:f||!1,cancelled:l||!1})},V)V[h]=Q[h]}});let A=Y._state;if(Q.pause===!A.paused)A.paused=Q.pause,CZ(Q.pause?A.pauseQueue:A.resumeQueue);else if(A.paused)Q.pause=!0;let F=($||Object.keys(Y.springs)).map((h)=>Y.springs[h].start(Q)),R=Q.cancel===!0||gO(Q,"cancel")===!0;if(E||R&&A.asyncId)F.push(mO(++Y._lastAsyncId,{props:Q,state:A,actions:{pause:q2,resume:q2,start(h,S){if(R)i4(A,Y._lastAsyncId),S(t7(Y));else h.onRest=L,S(uO(E,h,A,Y))}}}));if(A.paused)await new Promise((h)=>{A.resumeQueue.add(h)});let M=TN(Y,await Promise.all(F));if(_&&M.finished&&!(N&&M.noop)){let h=cO(Q,_,K);if(h)return oO(Y,[h]),lO(Y,h,!0)}if(O)H0.batchedUpdates(()=>O(M,Y,Y.item));return M}function vO(Y,Q){let N={...Y.springs};if(Q)w0(b1(Q),($)=>{if(n.und($.keys))$=n4($);if(!n.obj($.to))$={...$,to:void 0};sO(N,$,(K)=>{return nO(K)})});return iO(Y,N),N}function iO(Y,Q){a1(Q,(N,$)=>{if(!Y.springs[$])Y.springs[$]=N,k9(N,Y)})}function nO(Y,Q){let N=new JP;if(N.key=Y,Q)k9(N,Q);return N}function sO(Y,Q,N){if(Q.keys)w0(Q.keys,($)=>{(Y[$]||(Y[$]=N($)))._prepareNode(Q)})}function oO(Y,Q){w0(Q,(N)=>{sO(Y.springs,N,($)=>{return nO($,Y)})})}var h2=({children:Y,...Q})=>{let N=aO.useContext(y2),$=Q.pause||!!N.pause,K=Q.immediate||!!N.immediate;Q=LO(()=>({pause:$,immediate:K}),[$,K]);let{Provider:U}=y2;return g2.createElement(U,{value:Q},Y)},y2=HP(h2,{});h2.Provider=y2.Provider;h2.Consumer=y2.Consumer;function HP(Y,Q){return Object.assign(Y,g2.createContext(Q)),Y.Provider._context=Y,Y.Consumer._context=Y,Y}var _P=()=>{let Y=[],Q=function($){wO();let K=[];return w0(Y,(U,_)=>{if(n.und($))K.push(U.start());else{let L=N($,U,_);if(L)K.push(U.start(L))}}),K};Q.current=Y,Q.add=function($){if(!Y.includes($))Y.push($)},Q.delete=function($){let K=Y.indexOf($);if(~K)Y.splice(K,1)},Q.pause=function(){return w0(Y,($)=>$.pause(...arguments)),this},Q.resume=function(){return w0(Y,($)=>$.resume(...arguments)),this},Q.set=function($){w0(Y,(K,U)=>{let _=n.fun($)?$(U,K):$;if(_)K.set(_)})},Q.start=function($){let K=[];return w0(Y,(U,_)=>{if(n.und($))K.push(U.start());else{let L=this._getProps($,U,_);if(L)K.push(U.start(L))}}),K},Q.stop=function(){return w0(Y,($)=>$.stop(...arguments)),this},Q.update=function($){return w0(Y,(K,U)=>K.update(this._getProps($,K,U))),this};let N=function($,K,U){return n.fun($)?$(U,K):$};return Q._getProps=N,Q};function m2(Y,Q,N){let $=n.fun(Q)&&Q;if($&&!N)N=[];let K=z5.useMemo(()=>$||arguments.length==3?_P():void 0,[]),U=z5.useRef(0),_=f4(),L=z5.useMemo(()=>({ctrls:[],queue:[],flush(k,f){let l=vO(k,f);return U.current>0&&!L.queue.length&&!Object.keys(l).some((X0)=>!k.springs[X0])?VN(k,f):new Promise((X0)=>{iO(k,l),L.queue.push(()=>{X0(VN(k,f))}),_()})}}),[]),O=z5.useRef([...L.ctrls]),V=[],E=v2(Y)||0;z5.useMemo(()=>{w0(O.current.slice(Y,E),(k)=>{WP(k,K),k.stop(!0)}),O.current.length=Y,A(E,Y)},[Y]),z5.useMemo(()=>{A(0,Math.min(E,Y))},N);function A(k,f){for(let l=k;l<f;l++){let p=O.current[l]||(O.current[l]=new UP(null,L.flush)),X0=$?$(l,p):Q[l];if(X0)V[l]=NP(X0)}}let F=O.current.map((k,f)=>vO(k,V[f])),R=z5.useContext(h2),M=v2(R),h=R!==M&&eD(R);$9(()=>{U.current++,L.ctrls=O.current;let{queue:k}=L;if(k.length)L.queue=[],w0(k,(f)=>f());w0(O.current,(f,l)=>{if(K?.add(f),h)f.start({default:R});let p=V[l];if(p)if(GP(f,p.ref),f.ref)f.queue.push(p);else f.start(p)})}),s7(()=>()=>{w0(L.ctrls,(k)=>k.stop(!0))});let S=F.map((k)=>({...k}));return K?[S,K]:S}function EN(Y,Q){let N=n.fun(Y),[[$],K]=m2(1,N?Y:[Y],N?Q||[]:Q);return N||arguments.length==2?[$,K]:$}var OP=class extends AN{constructor(Y,Q){super();this.source=Y,this.idle=!0,this._active=new Set,this.calc=FG(...Q);let N=this._get(),$=m4(N);g4(this,$.create(N))}advance(Y){let Q=this._get(),N=this.get();if(!R9(Q,N))hW(this).setValue(Q),this._onChange(Q,this.idle);if(!this.idle&&fO(this._active))KN(this)}_get(){let Y=n.arr(this.source)?this.source.map(v1):b1(v1(this.source));return this.calc(...Y)}_start(){if(this.idle&&!fO(this._active))if(this.idle=!1,w0(o7(this),(Y)=>{Y.done=!1}),x1.skipAnimation)H0.batchedUpdates(()=>this.advance()),KN(this);else h5.start(this)}_attach(){let Y=1;w0(b1(this.source),(Q)=>{if(XW(Q))k9(Q,this);if(_N(Q)){if(!Q.idle)this._active.add(Q);Y=Math.max(Y,Q.priority+1)}}),this.priority=Y,this._start()}_detach(){w0(b1(this.source),(Y)=>{if(XW(Y))d5(Y,this)}),this._active.clear(),KN(this)}eventObserved(Y){if(Y.type=="change")if(Y.idle)this.advance();else this._active.add(Y.parent),this._start();else if(Y.type=="idle")this._active.delete(Y.parent);else if(Y.type=="priority")this.priority=b1(this.source).reduce((Q,N)=>Math.max(Q,(_N(N)?N.priority:0)+1),0)}};function VP(Y){return Y.idle!==!1}function fO(Y){return!Y.size||Array.from(Y).every(VP)}function KN(Y){if(!Y.idle)Y.idle=!0,w0(o7(Y),(Q)=>{Q.done=!0}),m5(Y,{type:"idle",parent:Y})}x1.assign({createStringInterpolator:k2,to:(Y,Q)=>new OP(Y,Q)});var GS=h5.advance;var WV=i(FJ(),1);var GV=/^--/;function LP(Y,Q){if(Q==null||typeof Q==="boolean"||Q==="")return"";if(typeof Q==="number"&&Q!==0&&!GV.test(Y)&&!(s4.hasOwnProperty(Y)&&s4[Y]))return Q+"px";return(""+Q).trim()}var eO={};function TP(Y,Q){if(!Y.nodeType||!Y.setAttribute)return!1;let N=Y.nodeName==="filter"||Y.parentNode&&Y.parentNode.nodeName==="filter",{className:$,style:K,children:U,scrollTop:_,scrollLeft:L,viewBox:O,...V}=Q,E=Object.values(V),A=Object.keys(V).map((F)=>N||Y.hasAttribute(F)?F:eO[F]||(eO[F]=F.replace(/([A-Z])/g,(R)=>"-"+R.toLowerCase())));if(U!==void 0)Y.textContent=U;for(let F in K)if(K.hasOwnProperty(F)){let R=LP(F,K[F]);if(GV.test(F))Y.style.setProperty(F,R);else Y.style[F]=R}if(A.forEach((F,R)=>{Y.setAttribute(F,E[R])}),$!==void 0)Y.className=$;if(_!==void 0)Y.scrollTop=_;if(L!==void 0)Y.scrollLeft=L;if(O!==void 0)Y.setAttribute("viewBox",O)}var s4={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AP=(Y,Q)=>Y+Q.charAt(0).toUpperCase()+Q.substring(1),EP=["Webkit","Ms","Moz","O"];s4=Object.keys(s4).reduce((Y,Q)=>{return EP.forEach((N)=>Y[AP(N,Q)]=Y[Q]),Y},s4);var IP=/^(matrix|translate|scale|rotate|skew)/,DP=/^(translate)/,PP=/^(rotate|skew)/,DN=(Y,Q)=>n.num(Y)&&Y!==0?Y+Q:Y,d2=(Y,Q)=>n.arr(Y)?Y.every((N)=>d2(N,Q)):n.num(Y)?Y===Q:parseFloat(Y)===Q,jP=class extends h4{constructor({x:Y,y:Q,z:N,...$}){let K=[],U=[];if(Y||Q||N)K.push([Y||0,Q||0,N||0]),U.push((_)=>[`translate3d(${_.map((L)=>DN(L,"px")).join(",")})`,d2(_,0)]);if(a1($,(_,L)=>{if(L==="transform")K.push([_||""]),U.push((O)=>[O,O===""]);else if(IP.test(L)){if(delete $[L],n.und(_))return;let O=DP.test(L)?"px":PP.test(L)?"deg":"";K.push(b1(_)),U.push(L==="rotate3d"?([V,E,A,F])=>[`rotate3d(${V},${E},${A},${DN(F,O)})`,d2(F,0)]:(V)=>[`${L}(${V.map((E)=>DN(E,O)).join(",")})`,d2(V,L.startsWith("scale")?1:0)])}}),K.length)$.transform=new CP(K,U);super($)}},CP=class extends S2{constructor(Y,Q){super();this.inputs=Y,this.transforms=Q,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let Y="",Q=!0;return w0(this.inputs,(N,$)=>{let K=v1(N[0]),[U,_]=this.transforms[$](n.arr(K)?K:N.map(v1));Y+=" "+U,Q=Q&&_}),Q?"none":Y}observerAdded(Y){if(Y==1)w0(this.inputs,(Q)=>w0(Q,(N)=>XW(N)&&k9(N,this)))}observerRemoved(Y){if(Y==0)w0(this.inputs,(Q)=>w0(Q,(N)=>XW(N)&&d5(N,this)))}eventObserved(Y){if(Y.type=="change")this._value=null;m5(this,Y)}},FP=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];x1.assign({batchedUpdates:WV.unstable_batchedUpdates,createStringInterpolator:k2,colors:KO});var qP=CO(FP,{applyAnimatedValues:TP,createAnimatedStyle:(Y)=>new jP(Y),getComponentProps:({scrollTop:Y,scrollLeft:Q,...N})=>N}),o4=qP.animated;var rN=i(BV(),1);function r4(Y,Q){return function N(){return Y.apply(Q,arguments)}}var{toString:vP}=Object.prototype,{getPrototypeOf:CN}=Object,p2=((Y)=>(Q)=>{let N=vP.call(Q);return Y[N]||(Y[N]=N.slice(8,-1).toLowerCase())})(Object.create(null)),b9=(Y)=>{return Y=Y.toLowerCase(),(Q)=>p2(Q)===Y},c2=(Y)=>(Q)=>typeof Q===Y,{isArray:e7}=Array,t4=c2("undefined");function fP(Y){return Y!==null&&!t4(Y)&&Y.constructor!==null&&!t4(Y.constructor)&&mW(Y.constructor.isBuffer)&&Y.constructor.isBuffer(Y)}var JV=b9("ArrayBuffer");function yP(Y){let Q;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView)Q=ArrayBuffer.isView(Y);else Q=Y&&Y.buffer&&JV(Y.buffer);return Q}var gP=c2("string"),mW=c2("function"),NV=c2("number"),l2=(Y)=>Y!==null&&typeof Y==="object",hP=(Y)=>Y===!0||Y===!1,u2=(Y)=>{if(p2(Y)!=="object")return!1;let Q=CN(Y);return(Q===null||Q===Object.prototype||Object.getPrototypeOf(Q)===null)&&!(Symbol.toStringTag in Y)&&!(Symbol.iterator in Y)},mP=b9("Date"),dP=b9("File"),uP=b9("Blob"),pP=b9("FileList"),cP=(Y)=>l2(Y)&&mW(Y.pipe),lP=(Y)=>{let Q;return Y&&(typeof FormData==="function"&&Y instanceof FormData||mW(Y.append)&&((Q=p2(Y))==="formdata"||Q==="object"&&mW(Y.toString)&&Y.toString()==="[object FormData]"))},iP=b9("URLSearchParams"),[nP,sP,oP,aP]=["ReadableStream","Request","Response","Headers"].map(b9),rP=(Y)=>Y.trim?Y.trim():Y.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function e4(Y,Q,{allOwnKeys:N=!1}={}){if(Y===null||typeof Y==="undefined")return;let $,K;if(typeof Y!=="object")Y=[Y];if(e7(Y))for($=0,K=Y.length;$<K;$++)Q.call(null,Y[$],$,Y);else{let U=N?Object.getOwnPropertyNames(Y):Object.keys(Y),_=U.length,L;for($=0;$<_;$++)L=U[$],Q.call(null,Y[L],L,Y)}}function $V(Y,Q){Q=Q.toLowerCase();let N=Object.keys(Y),$=N.length,K;while($-- >0)if(K=N[$],Q===K.toLowerCase())return K;return null}var MZ=(()=>{if(typeof globalThis!=="undefined")return globalThis;return typeof self!=="undefined"?self:typeof window!=="undefined"?window:global})(),zV=(Y)=>!t4(Y)&&Y!==MZ;function jN(){let{caseless:Y}=zV(this)&&this||{},Q={},N=($,K)=>{let U=Y&&$V(Q,K)||K;if(u2(Q[U])&&u2($))Q[U]=jN(Q[U],$);else if(u2($))Q[U]=jN({},$);else if(e7($))Q[U]=$.slice();else Q[U]=$};for(let $=0,K=arguments.length;$<K;$++)arguments[$]&&e4(arguments[$],N);return Q}var tP=(Y,Q,N,{allOwnKeys:$}={})=>{return e4(Q,(K,U)=>{if(N&&mW(K))Y[U]=r4(K,N);else Y[U]=K},{allOwnKeys:$}),Y},eP=(Y)=>{if(Y.charCodeAt(0)===65279)Y=Y.slice(1);return Y},Wj=(Y,Q,N,$)=>{Y.prototype=Object.create(Q.prototype,$),Y.prototype.constructor=Y,Object.defineProperty(Y,"super",{value:Q.prototype}),N&&Object.assign(Y.prototype,N)},Gj=(Y,Q,N,$)=>{let K,U,_,L={};if(Q=Q||{},Y==null)return Q;do{K=Object.getOwnPropertyNames(Y),U=K.length;while(U-- >0)if(_=K[U],(!$||$(_,Y,Q))&&!L[_])Q[_]=Y[_],L[_]=!0;Y=N!==!1&&CN(Y)}while(Y&&(!N||N(Y,Q))&&Y!==Object.prototype);return Q},Zj=(Y,Q,N)=>{if(Y=String(Y),N===void 0||N>Y.length)N=Y.length;N-=Q.length;let $=Y.indexOf(Q,N);return $!==-1&&$===N},Yj=(Y)=>{if(!Y)return null;if(e7(Y))return Y;let Q=Y.length;if(!NV(Q))return null;let N=new Array(Q);while(Q-- >0)N[Q]=Y[Q];return N},Xj=((Y)=>{return(Q)=>{return Y&&Q instanceof Y}})(typeof Uint8Array!=="undefined"&&CN(Uint8Array)),Bj=(Y,Q)=>{let $=(Y&&Y[Symbol.iterator]).call(Y),K;while((K=$.next())&&!K.done){let U=K.value;Q.call(Y,U[0],U[1])}},Qj=(Y,Q)=>{let N,$=[];while((N=Y.exec(Q))!==null)$.push(N);return $},Jj=b9("HTMLFormElement"),Nj=(Y)=>{return Y.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function Q(N,$,K){return $.toUpperCase()+K})},QV=(({hasOwnProperty:Y})=>(Q,N)=>Y.call(Q,N))(Object.prototype),$j=b9("RegExp"),KV=(Y,Q)=>{let N=Object.getOwnPropertyDescriptors(Y),$={};e4(N,(K,U)=>{let _;if((_=Q(K,U,Y))!==!1)$[U]=_||K}),Object.defineProperties(Y,$)},zj=(Y)=>{KV(Y,(Q,N)=>{if(mW(Y)&&["arguments","caller","callee"].indexOf(N)!==-1)return!1;let $=Y[N];if(!mW($))return;if(Q.enumerable=!1,"writable"in Q){Q.writable=!1;return}if(!Q.set)Q.set=()=>{throw Error("Can not rewrite read-only method '"+N+"'")}})},Kj=(Y,Q)=>{let N={},$=(K)=>{K.forEach((U)=>{N[U]=!0})};return e7(Y)?$(Y):$(String(Y).split(Q)),N},Uj=()=>{},Hj=(Y,Q)=>{return Y!=null&&Number.isFinite(Y=+Y)?Y:Q};function _j(Y){return!!(Y&&mW(Y.append)&&Y[Symbol.toStringTag]==="FormData"&&Y[Symbol.iterator])}var wj=(Y)=>{let Q=new Array(10),N=($,K)=>{if(l2($)){if(Q.indexOf($)>=0)return;if(!("toJSON"in $)){Q[K]=$;let U=e7($)?[]:{};return e4($,(_,L)=>{let O=N(_,K+1);!t4(O)&&(U[L]=O)}),Q[K]=void 0,U}}return $};return N(Y,0)},Oj=b9("AsyncFunction"),Vj=(Y)=>Y&&(l2(Y)||mW(Y))&&mW(Y.then)&&mW(Y.catch),UV=((Y,Q)=>{if(Y)return setImmediate;return Q?((N,$)=>{return MZ.addEventListener("message",({source:K,data:U})=>{if(K===MZ&&U===N)$.length&&$.shift()()},!1),(K)=>{$.push(K),MZ.postMessage(N,"*")}})(`axios@${Math.random()}`,[]):(N)=>setTimeout(N)})(typeof setImmediate==="function",mW(MZ.postMessage)),Lj=typeof queueMicrotask!=="undefined"?queueMicrotask.bind(MZ):typeof process!=="undefined"&&process.nextTick||UV,x={isArray:e7,isArrayBuffer:JV,isBuffer:fP,isFormData:lP,isArrayBufferView:yP,isString:gP,isNumber:NV,isBoolean:hP,isObject:l2,isPlainObject:u2,isReadableStream:nP,isRequest:sP,isResponse:oP,isHeaders:aP,isUndefined:t4,isDate:mP,isFile:dP,isBlob:uP,isRegExp:$j,isFunction:mW,isStream:cP,isURLSearchParams:iP,isTypedArray:Xj,isFileList:pP,forEach:e4,merge:jN,extend:tP,trim:rP,stripBOM:eP,inherits:Wj,toFlatObject:Gj,kindOf:p2,kindOfTest:b9,endsWith:Zj,toArray:Yj,forEachEntry:Bj,matchAll:Qj,isHTMLForm:Jj,hasOwnProperty:QV,hasOwnProp:QV,reduceDescriptors:KV,freezeMethods:zj,toObjectSet:Kj,toCamelCase:Nj,noop:Uj,toFiniteNumber:Hj,findKey:$V,global:MZ,isContextDefined:zV,isSpecCompliantForm:_j,toJSONObject:wj,isAsyncFn:Oj,isThenable:Vj,setImmediate:UV,asap:Lj};function WY(Y,Q,N,$,K){if(Error.call(this),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack;if(this.message=Y,this.name="AxiosError",Q&&(this.code=Q),N&&(this.config=N),$&&(this.request=$),K)this.response=K,this.status=K.status?K.status:null}x.inherits(WY,Error,{toJSON:function Y(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:x.toJSONObject(this.config),code:this.code,status:this.status}}});var HV=WY.prototype,_V={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((Y)=>{_V[Y]={value:Y}});Object.defineProperties(WY,_V);Object.defineProperty(HV,"isAxiosError",{value:!0});WY.from=(Y,Q,N,$,K,U)=>{let _=Object.create(HV);return x.toFlatObject(Y,_,function L(O){return O!==Error.prototype},(L)=>{return L!=="isAxiosError"}),WY.call(_,Y.message,Q,N,$,K),_.cause=Y,_.name=Y.name,U&&Object.assign(_,U),_};var O0=WY;var i2=null;function FN(Y){return x.isPlainObject(Y)||x.isArray(Y)}function OV(Y){return x.endsWith(Y,"[]")?Y.slice(0,-2):Y}function wV(Y,Q,N){if(!Y)return Q;return Y.concat(Q).map(function $(K,U){return K=OV(K),!N&&U?"["+K+"]":K}).join(N?".":"")}function Tj(Y){return x.isArray(Y)&&!Y.some(FN)}var Aj=x.toFlatObject(x,{},null,function Y(Q){return/^is[A-Z]/.test(Q)});function Ej(Y,Q,N){if(!x.isObject(Y))throw new TypeError("target must be an object");Q=Q||new(i2||FormData),N=x.toFlatObject(N,{metaTokens:!0,dots:!1,indexes:!1},!1,function M(h,S){return!x.isUndefined(S[h])});let $=N.metaTokens,K=N.visitor||E,U=N.dots,_=N.indexes,O=(N.Blob||typeof Blob!=="undefined"&&Blob)&&x.isSpecCompliantForm(Q);if(!x.isFunction(K))throw new TypeError("visitor must be a function");function V(M){if(M===null)return"";if(x.isDate(M))return M.toISOString();if(!O&&x.isBlob(M))throw new O0("Blob is not supported. Use a Buffer instead.");if(x.isArrayBuffer(M)||x.isTypedArray(M))return O&&typeof Blob==="function"?new Blob([M]):Buffer.from(M);return M}function E(M,h,S){let k=M;if(M&&!S&&typeof M==="object"){if(x.endsWith(h,"{}"))h=$?h:h.slice(0,-2),M=JSON.stringify(M);else if(x.isArray(M)&&Tj(M)||(x.isFileList(M)||x.endsWith(h,"[]"))&&(k=x.toArray(M)))return h=OV(h),k.forEach(function f(l,p){!(x.isUndefined(l)||l===null)&&Q.append(_===!0?wV([h],p,U):_===null?h:h+"[]",V(l))}),!1}if(FN(M))return!0;return Q.append(wV(S,h,U),V(M)),!1}let A=[],F=Object.assign(Aj,{defaultVisitor:E,convertValue:V,isVisitable:FN});function R(M,h){if(x.isUndefined(M))return;if(A.indexOf(M)!==-1)throw Error("Circular reference detected in "+h.join("."));A.push(M),x.forEach(M,function S(k,f){if((!(x.isUndefined(k)||k===null)&&K.call(Q,k,x.isString(f)?f.trim():f,h,F))===!0)R(k,h?h.concat(f):[f])}),A.pop()}if(!x.isObject(Y))throw new TypeError("data must be an object");return R(Y),Q}var SG=Ej;function VV(Y){let Q={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(Y).replace(/[!'()~]|%20|%00/g,function N($){return Q[$]})}function LV(Y,Q){this._pairs=[],Y&&SG(Y,this,Q)}var TV=LV.prototype;TV.append=function Y(Q,N){this._pairs.push([Q,N])};TV.toString=function Y(Q){let N=Q?function($){return Q.call(this,$,VV)}:VV;return this._pairs.map(function $(K){return N(K[0])+"="+N(K[1])},"").join("&")};var n2=LV;function Ij(Y){return encodeURIComponent(Y).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function W8(Y,Q,N){if(!Q)return Y;let $=N&&N.encode||Ij;if(x.isFunction(N))N={serialize:N};let K=N&&N.serialize,U;if(K)U=K(Q,N);else U=x.isURLSearchParams(Q)?Q.toString():new n2(Q,N).toString($);if(U){let _=Y.indexOf("#");if(_!==-1)Y=Y.slice(0,_);Y+=(Y.indexOf("?")===-1?"?":"&")+U}return Y}class AV{constructor(){this.handlers=[]}use(Y,Q,N){return this.handlers.push({fulfilled:Y,rejected:Q,synchronous:N?N.synchronous:!1,runWhen:N?N.runWhen:null}),this.handlers.length-1}eject(Y){if(this.handlers[Y])this.handlers[Y]=null}clear(){if(this.handlers)this.handlers=[]}forEach(Y){x.forEach(this.handlers,function Q(N){if(N!==null)Y(N)})}}var qN=AV;var s2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var EV=typeof URLSearchParams!=="undefined"?URLSearchParams:n2;var IV=typeof FormData!=="undefined"?FormData:null;var DV=typeof Blob!=="undefined"?Blob:null;var PV={isBrowser:!0,classes:{URLSearchParams:EV,FormData:IV,Blob:DV},protocols:["http","https","file","blob","url","data"]};var RN={};vE(RN,{origin:()=>jj,navigator:()=>MN,hasStandardBrowserWebWorkerEnv:()=>Pj,hasStandardBrowserEnv:()=>Dj,hasBrowserEnv:()=>SN});var SN=typeof window!=="undefined"&&typeof document!=="undefined",MN=typeof navigator==="object"&&navigator||void 0,Dj=SN&&(!MN||["ReactNative","NativeScript","NS"].indexOf(MN.product)<0),Pj=(()=>{return typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==="function"})(),jj=SN&&window.location.href||"http://localhost";var V1={...RN,...PV};function kN(Y,Q){return SG(Y,new V1.classes.URLSearchParams,Object.assign({visitor:function(N,$,K,U){if(V1.isNode&&x.isBuffer(N))return this.append($,N.toString("base64")),!1;return U.defaultVisitor.apply(this,arguments)}},Q))}function Cj(Y){return x.matchAll(/\w+|\[(\w*)]/g,Y).map((Q)=>{return Q[0]==="[]"?"":Q[1]||Q[0]})}function Fj(Y){let Q={},N=Object.keys(Y),$,K=N.length,U;for($=0;$<K;$++)U=N[$],Q[U]=Y[U];return Q}function qj(Y){function Q(N,$,K,U){let _=N[U++];if(_==="__proto__")return!0;let L=Number.isFinite(+_),O=U>=N.length;if(_=!_&&x.isArray(K)?K.length:_,O){if(x.hasOwnProp(K,_))K[_]=[K[_],$];else K[_]=$;return!L}if(!K[_]||!x.isObject(K[_]))K[_]=[];if(Q(N,$,K[_],U)&&x.isArray(K[_]))K[_]=Fj(K[_]);return!L}if(x.isFormData(Y)&&x.isFunction(Y.entries)){let N={};return x.forEachEntry(Y,($,K)=>{Q(Cj($),K,N,0)}),N}return null}var o2=qj;function Mj(Y,Q,N){if(x.isString(Y))try{return(Q||JSON.parse)(Y),x.trim(Y)}catch($){if($.name!=="SyntaxError")throw $}return(N||JSON.stringify)(Y)}var xN={transitional:s2,adapter:["xhr","http","fetch"],transformRequest:[function Y(Q,N){let $=N.getContentType()||"",K=$.indexOf("application/json")>-1,U=x.isObject(Q);if(U&&x.isHTMLForm(Q))Q=new FormData(Q);if(x.isFormData(Q))return K?JSON.stringify(o2(Q)):Q;if(x.isArrayBuffer(Q)||x.isBuffer(Q)||x.isStream(Q)||x.isFile(Q)||x.isBlob(Q)||x.isReadableStream(Q))return Q;if(x.isArrayBufferView(Q))return Q.buffer;if(x.isURLSearchParams(Q))return N.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),Q.toString();let L;if(U){if($.indexOf("application/x-www-form-urlencoded")>-1)return kN(Q,this.formSerializer).toString();if((L=x.isFileList(Q))||$.indexOf("multipart/form-data")>-1){let O=this.env&&this.env.FormData;return SG(L?{"files[]":Q}:Q,O&&new O,this.formSerializer)}}if(U||K)return N.setContentType("application/json",!1),Mj(Q);return Q}],transformResponse:[function Y(Q){let N=this.transitional||xN.transitional,$=N&&N.forcedJSONParsing,K=this.responseType==="json";if(x.isResponse(Q)||x.isReadableStream(Q))return Q;if(Q&&x.isString(Q)&&($&&!this.responseType||K)){let _=!(N&&N.silentJSONParsing)&&K;try{return JSON.parse(Q)}catch(L){if(_){if(L.name==="SyntaxError")throw O0.from(L,O0.ERR_BAD_RESPONSE,this,null,this.response);throw L}}}return Q}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:V1.classes.FormData,Blob:V1.classes.Blob},validateStatus:function Y(Q){return Q>=200&&Q<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};x.forEach(["delete","get","head","post","put","patch"],(Y)=>{xN.headers[Y]={}});var GY=xN;var Sj=x.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jV=(Y)=>{let Q={},N,$,K;return Y&&Y.split(`
`).forEach(function U(_){if(K=_.indexOf(":"),N=_.substring(0,K).trim().toLowerCase(),$=_.substring(K+1).trim(),!N||Q[N]&&Sj[N])return;if(N==="set-cookie")if(Q[N])Q[N].push($);else Q[N]=[$];else Q[N]=Q[N]?Q[N]+", "+$:$}),Q};var CV=Symbol("internals");function G8(Y){return Y&&String(Y).trim().toLowerCase()}function a2(Y){if(Y===!1||Y==null)return Y;return x.isArray(Y)?Y.map(a2):String(Y)}function Rj(Y){let Q=Object.create(null),N=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,$;while($=N.exec(Y))Q[$[1]]=$[2];return Q}var kj=(Y)=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Y.trim());function bN(Y,Q,N,$,K){if(x.isFunction($))return $.call(this,Q,N);if(K)Q=N;if(!x.isString(Q))return;if(x.isString($))return Q.indexOf($)!==-1;if(x.isRegExp($))return $.test(Q)}function xj(Y){return Y.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(Q,N,$)=>{return N.toUpperCase()+$})}function bj(Y,Q){let N=x.toCamelCase(" "+Q);["get","set","has"].forEach(($)=>{Object.defineProperty(Y,$+N,{value:function(K,U,_){return this[$].call(this,Q,K,U,_)},configurable:!0})})}class Z8{constructor(Y){Y&&this.set(Y)}set(Y,Q,N){let $=this;function K(_,L,O){let V=G8(L);if(!V)throw new Error("header name must be a non-empty string");let E=x.findKey($,V);if(!E||$[E]===void 0||O===!0||O===void 0&&$[E]!==!1)$[E||L]=a2(_)}let U=(_,L)=>x.forEach(_,(O,V)=>K(O,V,L));if(x.isPlainObject(Y)||Y instanceof this.constructor)U(Y,Q);else if(x.isString(Y)&&(Y=Y.trim())&&!kj(Y))U(jV(Y),Q);else if(x.isHeaders(Y))for(let[_,L]of Y.entries())K(L,_,N);else Y!=null&&K(Q,Y,N);return this}get(Y,Q){if(Y=G8(Y),Y){let N=x.findKey(this,Y);if(N){let $=this[N];if(!Q)return $;if(Q===!0)return Rj($);if(x.isFunction(Q))return Q.call(this,$,N);if(x.isRegExp(Q))return Q.exec($);throw new TypeError("parser must be boolean|regexp|function")}}}has(Y,Q){if(Y=G8(Y),Y){let N=x.findKey(this,Y);return!!(N&&this[N]!==void 0&&(!Q||bN(this,this[N],N,Q)))}return!1}delete(Y,Q){let N=this,$=!1;function K(U){if(U=G8(U),U){let _=x.findKey(N,U);if(_&&(!Q||bN(N,N[_],_,Q)))delete N[_],$=!0}}if(x.isArray(Y))Y.forEach(K);else K(Y);return $}clear(Y){let Q=Object.keys(this),N=Q.length,$=!1;while(N--){let K=Q[N];if(!Y||bN(this,this[K],K,Y,!0))delete this[K],$=!0}return $}normalize(Y){let Q=this,N={};return x.forEach(this,($,K)=>{let U=x.findKey(N,K);if(U){Q[U]=a2($),delete Q[K];return}let _=Y?xj(K):String(K).trim();if(_!==K)delete Q[K];Q[_]=a2($),N[_]=!0}),this}concat(...Y){return this.constructor.concat(this,...Y)}toJSON(Y){let Q=Object.create(null);return x.forEach(this,(N,$)=>{N!=null&&N!==!1&&(Q[$]=Y&&x.isArray(N)?N.join(", "):N)}),Q}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([Y,Q])=>Y+": "+Q).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(Y){return Y instanceof this?Y:new this(Y)}static concat(Y,...Q){let N=new this(Y);return Q.forEach(($)=>N.set($)),N}static accessor(Y){let N=(this[CV]=this[CV]={accessors:{}}).accessors,$=this.prototype;function K(U){let _=G8(U);if(!N[_])bj($,U),N[_]=!0}return x.isArray(Y)?Y.forEach(K):K(Y),this}}Z8.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);x.reduceDescriptors(Z8.prototype,({value:Y},Q)=>{let N=Q[0].toUpperCase()+Q.slice(1);return{get:()=>Y,set($){this[N]=$}}});x.freezeMethods(Z8);var f1=Z8;function Y8(Y,Q){let N=this||GY,$=Q||N,K=f1.from($.headers),U=$.data;return x.forEach(Y,function _(L){U=L.call(N,U,K.normalize(),Q?Q.status:void 0)}),K.normalize(),U}function X8(Y){return!!(Y&&Y.__CANCEL__)}function FV(Y,Q,N){O0.call(this,Y==null?"canceled":Y,O0.ERR_CANCELED,Q,N),this.name="CanceledError"}x.inherits(FV,O0,{__CANCEL__:!0});var K5=FV;function B8(Y,Q,N){let $=N.config.validateStatus;if(!N.status||!$||$(N.status))Y(N);else Q(new O0("Request failed with status code "+N.status,[O0.ERR_BAD_REQUEST,O0.ERR_BAD_RESPONSE][Math.floor(N.status/100)-4],N.config,N.request,N))}function vN(Y){let Q=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Y);return Q&&Q[1]||""}function vj(Y,Q){Y=Y||10;let N=new Array(Y),$=new Array(Y),K=0,U=0,_;return Q=Q!==void 0?Q:1000,function L(O){let V=Date.now(),E=$[U];if(!_)_=V;N[K]=O,$[K]=V;let A=U,F=0;while(A!==K)F+=N[A++],A=A%Y;if(K=(K+1)%Y,K===U)U=(U+1)%Y;if(V-_<Q)return;let R=E&&V-E;return R?Math.round(F*1000/R):void 0}}var qV=vj;function fj(Y,Q){let N=0,$=1000/Q,K,U,_=(V,E=Date.now())=>{if(N=E,K=null,U)clearTimeout(U),U=null;Y.apply(null,V)};return[(...V)=>{let E=Date.now(),A=E-N;if(A>=$)_(V,E);else if(K=V,!U)U=setTimeout(()=>{U=null,_(K)},$-A)},()=>K&&_(K)]}var MV=fj;var ZY=(Y,Q,N=3)=>{let $=0,K=qV(50,250);return MV((U)=>{let _=U.loaded,L=U.lengthComputable?U.total:void 0,O=_-$,V=K(O),E=_<=L;$=_;let A={loaded:_,total:L,progress:L?_/L:void 0,bytes:O,rate:V?V:void 0,estimated:V&&L&&E?(L-_)/V:void 0,event:U,lengthComputable:L!=null,[Q?"download":"upload"]:!0};Y(A)},N)},fN=(Y,Q)=>{let N=Y!=null;return[($)=>Q[0]({lengthComputable:N,total:Y,loaded:$}),Q[1]]},yN=(Y)=>(...Q)=>x.asap(()=>Y(...Q));var SV=V1.hasStandardBrowserEnv?((Y,Q)=>(N)=>{return N=new URL(N,V1.origin),Y.protocol===N.protocol&&Y.host===N.host&&(Q||Y.port===N.port)})(new URL(V1.origin),V1.navigator&&/(msie|trident)/i.test(V1.navigator.userAgent)):()=>!0;var RV=V1.hasStandardBrowserEnv?{write(Y,Q,N,$,K,U){let _=[Y+"="+encodeURIComponent(Q)];x.isNumber(N)&&_.push("expires="+new Date(N).toGMTString()),x.isString($)&&_.push("path="+$),x.isString(K)&&_.push("domain="+K),U===!0&&_.push("secure"),document.cookie=_.join("; ")},read(Y){let Q=document.cookie.match(new RegExp("(^|;\\s*)("+Y+")=([^;]*)"));return Q?decodeURIComponent(Q[3]):null},remove(Y){this.write(Y,"",Date.now()-86400000)}}:{write(){},read(){return null},remove(){}};function gN(Y){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Y)}function hN(Y,Q){return Q?Y.replace(/\/?\/$/,"")+"/"+Q.replace(/^\/+/,""):Y}function Q8(Y,Q,N){let $=!gN(Q);if(Y&&$||N==!1)return hN(Y,Q);return Q}var kV=(Y)=>Y instanceof f1?{...Y}:Y;function v9(Y,Q){Q=Q||{};let N={};function $(V,E,A,F){if(x.isPlainObject(V)&&x.isPlainObject(E))return x.merge.call({caseless:F},V,E);else if(x.isPlainObject(E))return x.merge({},E);else if(x.isArray(E))return E.slice();return E}function K(V,E,A,F){if(!x.isUndefined(E))return $(V,E,A,F);else if(!x.isUndefined(V))return $(void 0,V,A,F)}function U(V,E){if(!x.isUndefined(E))return $(void 0,E)}function _(V,E){if(!x.isUndefined(E))return $(void 0,E);else if(!x.isUndefined(V))return $(void 0,V)}function L(V,E,A){if(A in Q)return $(V,E);else if(A in Y)return $(void 0,V)}let O={url:U,method:U,data:U,baseURL:_,transformRequest:_,transformResponse:_,paramsSerializer:_,timeout:_,timeoutMessage:_,withCredentials:_,withXSRFToken:_,adapter:_,responseType:_,xsrfCookieName:_,xsrfHeaderName:_,onUploadProgress:_,onDownloadProgress:_,decompress:_,maxContentLength:_,maxBodyLength:_,beforeRedirect:_,transport:_,httpAgent:_,httpsAgent:_,cancelToken:_,socketPath:_,responseEncoding:_,validateStatus:L,headers:(V,E,A)=>K(kV(V),kV(E),A,!0)};return x.forEach(Object.keys(Object.assign({},Y,Q)),function V(E){let A=O[E]||K,F=A(Y[E],Q[E],E);x.isUndefined(F)&&A!==L||(N[E]=F)}),N}var r2=(Y)=>{let Q=v9({},Y),{data:N,withXSRFToken:$,xsrfHeaderName:K,xsrfCookieName:U,headers:_,auth:L}=Q;if(Q.headers=_=f1.from(_),Q.url=W8(Q8(Q.baseURL,Q.url,Q.allowAbsoluteUrls),Y.params,Y.paramsSerializer),L)_.set("Authorization","Basic "+btoa((L.username||"")+":"+(L.password?unescape(encodeURIComponent(L.password)):"")));let O;if(x.isFormData(N)){if(V1.hasStandardBrowserEnv||V1.hasStandardBrowserWebWorkerEnv)_.setContentType(void 0);else if((O=_.getContentType())!==!1){let[V,...E]=O?O.split(";").map((A)=>A.trim()).filter(Boolean):[];_.setContentType([V||"multipart/form-data",...E].join("; "))}}if(V1.hasStandardBrowserEnv){if($&&x.isFunction($)&&($=$(Q)),$||$!==!1&&SV(Q.url)){let V=K&&U&&RV.read(U);if(V)_.set(K,V)}}return Q};var yj=typeof XMLHttpRequest!=="undefined",xV=yj&&function(Y){return new Promise(function Q(N,$){let K=r2(Y),U=K.data,_=f1.from(K.headers).normalize(),{responseType:L,onUploadProgress:O,onDownloadProgress:V}=K,E,A,F,R,M;function h(){R&&R(),M&&M(),K.cancelToken&&K.cancelToken.unsubscribe(E),K.signal&&K.signal.removeEventListener("abort",E)}let S=new XMLHttpRequest;S.open(K.method.toUpperCase(),K.url,!0),S.timeout=K.timeout;function k(){if(!S)return;let l=f1.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),X0={data:!L||L==="text"||L==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:l,config:Y,request:S};B8(function x0(_0){N(_0),h()},function x0(_0){$(_0),h()},X0),S=null}if("onloadend"in S)S.onloadend=k;else S.onreadystatechange=function l(){if(!S||S.readyState!==4)return;if(S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0))return;setTimeout(k)};if(S.onabort=function l(){if(!S)return;$(new O0("Request aborted",O0.ECONNABORTED,Y,S)),S=null},S.onerror=function l(){$(new O0("Network Error",O0.ERR_NETWORK,Y,S)),S=null},S.ontimeout=function l(){let p=K.timeout?"timeout of "+K.timeout+"ms exceeded":"timeout exceeded",X0=K.transitional||s2;if(K.timeoutErrorMessage)p=K.timeoutErrorMessage;$(new O0(p,X0.clarifyTimeoutError?O0.ETIMEDOUT:O0.ECONNABORTED,Y,S)),S=null},U===void 0&&_.setContentType(null),"setRequestHeader"in S)x.forEach(_.toJSON(),function l(p,X0){S.setRequestHeader(X0,p)});if(!x.isUndefined(K.withCredentials))S.withCredentials=!!K.withCredentials;if(L&&L!=="json")S.responseType=K.responseType;if(V)[F,M]=ZY(V,!0),S.addEventListener("progress",F);if(O&&S.upload)[A,R]=ZY(O),S.upload.addEventListener("progress",A),S.upload.addEventListener("loadend",R);if(K.cancelToken||K.signal){if(E=(l)=>{if(!S)return;$(!l||l.type?new K5(null,Y,S):l),S.abort(),S=null},K.cancelToken&&K.cancelToken.subscribe(E),K.signal)K.signal.aborted?E():K.signal.addEventListener("abort",E)}let f=vN(K.url);if(f&&V1.protocols.indexOf(f)===-1){$(new O0("Unsupported protocol "+f+":",O0.ERR_BAD_REQUEST,Y));return}S.send(U||null)})};var gj=(Y,Q)=>{let{length:N}=Y=Y?Y.filter(Boolean):[];if(Q||N){let $=new AbortController,K,U=function(V){if(!K){K=!0,L();let E=V instanceof Error?V:this.reason;$.abort(E instanceof O0?E:new K5(E instanceof Error?E.message:E))}},_=Q&&setTimeout(()=>{_=null,U(new O0(`timeout ${Q} of ms exceeded`,O0.ETIMEDOUT))},Q),L=()=>{if(Y)_&&clearTimeout(_),_=null,Y.forEach((V)=>{V.unsubscribe?V.unsubscribe(U):V.removeEventListener("abort",U)}),Y=null};Y.forEach((V)=>V.addEventListener("abort",U));let{signal:O}=$;return O.unsubscribe=()=>x.asap(L),O}},bV=gj;var hj=function*(Y,Q){let N=Y.byteLength;if(!Q||N<Q){yield Y;return}let $=0,K;while($<N)K=$+Q,yield Y.slice($,K),$=K},mj=async function*(Y,Q){for await(let N of dj(Y))yield*hj(N,Q)},dj=async function*(Y){if(Y[Symbol.asyncIterator]){yield*Y;return}let Q=Y.getReader();try{for(;;){let{done:N,value:$}=await Q.read();if(N)break;yield $}}finally{await Q.cancel()}},mN=(Y,Q,N,$)=>{let K=mj(Y,Q),U=0,_,L=(O)=>{if(!_)_=!0,$&&$(O)};return new ReadableStream({async pull(O){try{let{done:V,value:E}=await K.next();if(V){L(),O.close();return}let A=E.byteLength;if(N){let F=U+=A;N(F)}O.enqueue(new Uint8Array(E))}catch(V){throw L(V),V}},cancel(O){return L(O),K.return()}},{highWaterMark:2})};var e2=typeof fetch==="function"&&typeof Request==="function"&&typeof Response==="function",fV=e2&&typeof ReadableStream==="function",uj=e2&&(typeof TextEncoder==="function"?((Y)=>(Q)=>Y.encode(Q))(new TextEncoder):async(Y)=>new Uint8Array(await new Response(Y).arrayBuffer())),yV=(Y,...Q)=>{try{return!!Y(...Q)}catch(N){return!1}},pj=fV&&yV(()=>{let Y=!1,Q=new Request(V1.origin,{body:new ReadableStream,method:"POST",get duplex(){return Y=!0,"half"}}).headers.has("Content-Type");return Y&&!Q}),vV=65536,dN=fV&&yV(()=>x.isReadableStream(new Response("").body)),t2={stream:dN&&((Y)=>Y.body)};e2&&((Y)=>{["text","arrayBuffer","blob","formData","stream"].forEach((Q)=>{!t2[Q]&&(t2[Q]=x.isFunction(Y[Q])?(N)=>N[Q]():(N,$)=>{throw new O0(`Response type '${Q}' is not supported`,O0.ERR_NOT_SUPPORT,$)})})})(new Response);var cj=async(Y)=>{if(Y==null)return 0;if(x.isBlob(Y))return Y.size;if(x.isSpecCompliantForm(Y))return(await new Request(V1.origin,{method:"POST",body:Y}).arrayBuffer()).byteLength;if(x.isArrayBufferView(Y)||x.isArrayBuffer(Y))return Y.byteLength;if(x.isURLSearchParams(Y))Y=Y+"";if(x.isString(Y))return(await uj(Y)).byteLength},lj=async(Y,Q)=>{let N=x.toFiniteNumber(Y.getContentLength());return N==null?cj(Q):N},gV=e2&&(async(Y)=>{let{url:Q,method:N,data:$,signal:K,cancelToken:U,timeout:_,onDownloadProgress:L,onUploadProgress:O,responseType:V,headers:E,withCredentials:A="same-origin",fetchOptions:F}=r2(Y);V=V?(V+"").toLowerCase():"text";let R=bV([K,U&&U.toAbortSignal()],_),M,h=R&&R.unsubscribe&&(()=>{R.unsubscribe()}),S;try{if(O&&pj&&N!=="get"&&N!=="head"&&(S=await lj(E,$))!==0){let X0=new Request(Q,{method:"POST",body:$,duplex:"half"}),x0;if(x.isFormData($)&&(x0=X0.headers.get("content-type")))E.setContentType(x0);if(X0.body){let[_0,S0]=fN(S,ZY(yN(O)));$=mN(X0.body,vV,_0,S0)}}if(!x.isString(A))A=A?"include":"omit";let k="credentials"in Request.prototype;M=new Request(Q,{...F,signal:R,method:N.toUpperCase(),headers:E.normalize().toJSON(),body:$,duplex:"half",credentials:k?A:void 0});let f=await fetch(M),l=dN&&(V==="stream"||V==="response");if(dN&&(L||l&&h)){let X0={};["status","statusText","headers"].forEach((L0)=>{X0[L0]=f[L0]});let x0=x.toFiniteNumber(f.headers.get("content-length")),[_0,S0]=L&&fN(x0,ZY(yN(L),!0))||[];f=new Response(mN(f.body,vV,_0,()=>{S0&&S0(),h&&h()}),X0)}V=V||"text";let p=await t2[x.findKey(t2,V)||"text"](f,Y);return!l&&h&&h(),await new Promise((X0,x0)=>{B8(X0,x0,{data:p,headers:f1.from(f.headers),status:f.status,statusText:f.statusText,config:Y,request:M})})}catch(k){if(h&&h(),k&&k.name==="TypeError"&&/fetch/i.test(k.message))throw Object.assign(new O0("Network Error",O0.ERR_NETWORK,Y,M),{cause:k.cause||k});throw O0.from(k,k&&k.code,Y,M)}});var uN={http:i2,xhr:xV,fetch:gV};x.forEach(uN,(Y,Q)=>{if(Y){try{Object.defineProperty(Y,"name",{value:Q})}catch(N){}Object.defineProperty(Y,"adapterName",{value:Q})}});var hV=(Y)=>`- ${Y}`,ij=(Y)=>x.isFunction(Y)||Y===null||Y===!1,WB={getAdapter:(Y)=>{Y=x.isArray(Y)?Y:[Y];let{length:Q}=Y,N,$,K={};for(let U=0;U<Q;U++){N=Y[U];let _;if($=N,!ij(N)){if($=uN[(_=String(N)).toLowerCase()],$===void 0)throw new O0(`Unknown adapter '${_}'`)}if($)break;K[_||"#"+U]=$}if(!$){let U=Object.entries(K).map(([L,O])=>`adapter ${L} `+(O===!1?"is not supported by the environment":"is not available in the build")),_=Q?U.length>1?`since :
`+U.map(hV).join(`
`):" "+hV(U[0]):"as no adapter specified";throw new O0("There is no suitable adapter to dispatch the request "+_,"ERR_NOT_SUPPORT")}return $},adapters:uN};function pN(Y){if(Y.cancelToken)Y.cancelToken.throwIfRequested();if(Y.signal&&Y.signal.aborted)throw new K5(null,Y)}function GB(Y){if(pN(Y),Y.headers=f1.from(Y.headers),Y.data=Y8.call(Y,Y.transformRequest),["post","put","patch"].indexOf(Y.method)!==-1)Y.headers.setContentType("application/x-www-form-urlencoded",!1);return WB.getAdapter(Y.adapter||GY.adapter)(Y).then(function N($){return pN(Y),$.data=Y8.call(Y,Y.transformResponse,$),$.headers=f1.from($.headers),$},function N($){if(!X8($)){if(pN(Y),$&&$.response)$.response.data=Y8.call(Y,Y.transformResponse,$.response),$.response.headers=f1.from($.response.headers)}return Promise.reject($)})}var ZB="1.8.3";var YB={};["object","boolean","number","function","string","symbol"].forEach((Y,Q)=>{YB[Y]=function N($){return typeof $===Y||"a"+(Q<1?"n ":" ")+Y}});var mV={};YB.transitional=function Y(Q,N,$){function K(U,_){return"[Axios v"+ZB+"] Transitional option '"+U+"'"+_+($?". "+$:"")}return(U,_,L)=>{if(Q===!1)throw new O0(K(_," has been removed"+(N?" in "+N:"")),O0.ERR_DEPRECATED);if(N&&!mV[_])mV[_]=!0,console.warn(K(_," has been deprecated since v"+N+" and will be removed in the near future"));return Q?Q(U,_,L):!0}};YB.spelling=function Y(Q){return(N,$)=>{return console.warn(`${$} is likely a misspelling of ${Q}`),!0}};function nj(Y,Q,N){if(typeof Y!=="object")throw new O0("options must be an object",O0.ERR_BAD_OPTION_VALUE);let $=Object.keys(Y),K=$.length;while(K-- >0){let U=$[K],_=Q[U];if(_){let L=Y[U],O=L===void 0||_(L,U,Y);if(O!==!0)throw new O0("option "+U+" must be "+O,O0.ERR_BAD_OPTION_VALUE);continue}if(N!==!0)throw new O0("Unknown option "+U,O0.ERR_BAD_OPTION)}}var J8={assertOptions:nj,validators:YB};var U5=J8.validators;class N8{constructor(Y){this.defaults=Y,this.interceptors={request:new qN,response:new qN}}async request(Y,Q){try{return await this._request(Y,Q)}catch(N){if(N instanceof Error){let $={};Error.captureStackTrace?Error.captureStackTrace($):$=new Error;let K=$.stack?$.stack.replace(/^.+\n/,""):"";try{if(!N.stack)N.stack=K;else if(K&&!String(N.stack).endsWith(K.replace(/^.+\n.+\n/,"")))N.stack+=`
`+K}catch(U){}}throw N}}_request(Y,Q){if(typeof Y==="string")Q=Q||{},Q.url=Y;else Q=Y||{};Q=v9(this.defaults,Q);let{transitional:N,paramsSerializer:$,headers:K}=Q;if(N!==void 0)J8.assertOptions(N,{silentJSONParsing:U5.transitional(U5.boolean),forcedJSONParsing:U5.transitional(U5.boolean),clarifyTimeoutError:U5.transitional(U5.boolean)},!1);if($!=null)if(x.isFunction($))Q.paramsSerializer={serialize:$};else J8.assertOptions($,{encode:U5.function,serialize:U5.function},!0);if(Q.allowAbsoluteUrls!==void 0);else if(this.defaults.allowAbsoluteUrls!==void 0)Q.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls;else Q.allowAbsoluteUrls=!0;J8.assertOptions(Q,{baseUrl:U5.spelling("baseURL"),withXsrfToken:U5.spelling("withXSRFToken")},!0),Q.method=(Q.method||this.defaults.method||"get").toLowerCase();let U=K&&x.merge(K.common,K[Q.method]);K&&x.forEach(["delete","get","head","post","put","patch","common"],(R)=>{delete K[R]}),Q.headers=f1.concat(U,K);let _=[],L=!0;this.interceptors.request.forEach(function R(M){if(typeof M.runWhen==="function"&&M.runWhen(Q)===!1)return;L=L&&M.synchronous,_.unshift(M.fulfilled,M.rejected)});let O=[];this.interceptors.response.forEach(function R(M){O.push(M.fulfilled,M.rejected)});let V,E=0,A;if(!L){let R=[GB.bind(this),void 0];R.unshift.apply(R,_),R.push.apply(R,O),A=R.length,V=Promise.resolve(Q);while(E<A)V=V.then(R[E++],R[E++]);return V}A=_.length;let F=Q;E=0;while(E<A){let R=_[E++],M=_[E++];try{F=R(F)}catch(h){M.call(this,h);break}}try{V=GB.call(this,F)}catch(R){return Promise.reject(R)}E=0,A=O.length;while(E<A)V=V.then(O[E++],O[E++]);return V}getUri(Y){Y=v9(this.defaults,Y);let Q=Q8(Y.baseURL,Y.url,Y.allowAbsoluteUrls);return W8(Q,Y.params,Y.paramsSerializer)}}x.forEach(["delete","get","head","options"],function Y(Q){N8.prototype[Q]=function(N,$){return this.request(v9($||{},{method:Q,url:N,data:($||{}).data}))}});x.forEach(["post","put","patch"],function Y(Q){function N($){return function K(U,_,L){return this.request(v9(L||{},{method:Q,headers:$?{"Content-Type":"multipart/form-data"}:{},url:U,data:_}))}}N8.prototype[Q]=N(),N8.prototype[Q+"Form"]=N(!0)});var $8=N8;class cN{constructor(Y){if(typeof Y!=="function")throw new TypeError("executor must be a function.");let Q;this.promise=new Promise(function $(K){Q=K});let N=this;this.promise.then(($)=>{if(!N._listeners)return;let K=N._listeners.length;while(K-- >0)N._listeners[K]($);N._listeners=null}),this.promise.then=($)=>{let K,U=new Promise((_)=>{N.subscribe(_),K=_}).then($);return U.cancel=function _(){N.unsubscribe(K)},U},Y(function $(K,U,_){if(N.reason)return;N.reason=new K5(K,U,_),Q(N.reason)})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(Y){if(this.reason){Y(this.reason);return}if(this._listeners)this._listeners.push(Y);else this._listeners=[Y]}unsubscribe(Y){if(!this._listeners)return;let Q=this._listeners.indexOf(Y);if(Q!==-1)this._listeners.splice(Q,1)}toAbortSignal(){let Y=new AbortController,Q=(N)=>{Y.abort(N)};return this.subscribe(Q),Y.signal.unsubscribe=()=>this.unsubscribe(Q),Y.signal}static source(){let Y;return{token:new cN(function N($){Y=$}),cancel:Y}}}var dV=cN;function lN(Y){return function Q(N){return Y.apply(null,N)}}function iN(Y){return x.isObject(Y)&&Y.isAxiosError===!0}var nN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nN).forEach(([Y,Q])=>{nN[Q]=Y});var uV=nN;function pV(Y){let Q=new $8(Y),N=r4($8.prototype.request,Q);return x.extend(N,$8.prototype,Q,{allOwnKeys:!0}),x.extend(N,Q,null,{allOwnKeys:!0}),N.create=function $(K){return pV(v9(Y,K))},N}var M1=pV(GY);M1.Axios=$8;M1.CanceledError=K5;M1.CancelToken=dV;M1.isCancel=X8;M1.VERSION=ZB;M1.toFormData=SG;M1.AxiosError=O0;M1.Cancel=M1.CanceledError;M1.all=function Y(Q){return Promise.all(Q)};M1.spread=lN;M1.isAxiosError=iN;M1.mergeConfig=v9;M1.AxiosHeaders=f1;M1.formToJSON=(Y)=>o2(x.isHTMLForm(Y)?new FormData(Y):Y);M1.getAdapter=WB.getAdapter;M1.HttpStatusCode=uV;M1.default=M1;var XB=M1;function cV(){return{query:Y,touch:Q};async function Y(N){return(await XB.get(N)).data}async function Q(N,$){return(await XB.post(N,$)).data}}var BB=cV();function YY(Y,Q){if(Y)return;throw Q}var c5=i(G0(),1);function lV({urls:Y,msIntervalSleep:Q=1e4,animation:N={duration:1e4},style:$,children:K,...U}){let _=c0.useState(0),L=m2(Y.length,Y.map((O,V)=>({transform:`translateX(${100*(V-_[0])}%)`,config:N})));return c0.useEffect(()=>{let O=setInterval(()=>_[1]((V)=>(V+1)%Y.length),Q);return()=>clearInterval(O)},[]),c5.jsxDEV(c5.Fragment,{children:c5.jsxDEV("div",{style:{borderRadius:10,boxShadow:z9,position:"relative",overflowX:"hidden",overflowY:"hidden",...$},...U,children:[L.map((O,V)=>c5.jsxDEV(c5.Fragment,{children:c5.jsxDEV(o4.div,{style:{...O,position:"absolute",width:"100%",height:"100%",flex:1,backgroundImage:`url(${Y[V]})`,backgroundSize:"cover",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat"}},V,!1,void 0,this)},void 0,!1,void 0,this)),c5.jsxDEV("div",{style:{position:"relative",zIndex:"2",width:"100%",height:"100%",flex:1},children:K},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var U1=["#0C0527","#FAF6F6","#F1D550"];var L1=["Konkhmer Sleokchher","Core Sans A","Maria"];var z9="rgba(0, 0, 0, 0.05) 0px 0px 0px 1px";var z8=i(G0(),1);function QB({style:Y,children:Q,...N}){return z8.jsxDEV(z8.Fragment,{children:z8.jsxDEV("button",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:"1em",fontWeight:"normal",fontFamily:L1[1],color:U1[1],boxShadow:z9,background:U1[0],padding:5,borderRadius:5,width:"100%",height:"auto",flexGrow:1,...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var K8=i(G0(),1);function SZ({style:Y,...Q}){return K8.jsxDEV(K8.Fragment,{children:K8.jsxDEV("input",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,...Y},...Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var U8=i(G0(),1);function JB({style:Y,children:Q,...N}){return U8.jsxDEV(U8.Fragment,{children:U8.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:L1[1],color:U1[0],...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var H8=i(G0(),1);function NB({style:Y,children:Q,...N}){return H8.jsxDEV(H8.Fragment,{children:H8.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:L1[1],color:U1[0],boxShadow:z9,padding:20,borderRadius:5,gap:20,background:"white",...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var f9=i(G0(),1);function iV({sections:Y,...Q}){return f9.jsxDEV(f9.Fragment,{children:f9.jsxDEV(nV,{...Q,children:[f9.jsxDEV(oN,{children:Y[0]},void 0,!1,void 0,this),f9.jsxDEV(oN,{children:Y[1]},void 0,!1,void 0,this),f9.jsxDEV(oN,{children:Y[2]},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}function oN({style:Y,children:Q,...N}){return f9.jsxDEV(f9.Fragment,{children:f9.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var RZ=i(G0(),1);function nV({navbar:Y,footer:Q,style:N,children:$,...K}){return RZ.jsxDEV(RZ.Fragment,{children:RZ.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",width:"100vw",height:"100vh",background:"white",...N},...K,children:RZ.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",minWidth:1024,maxWidth:1440,width:"100%",height:"100%",flex:1,paddingLeft:64,paddingRight:64},children:[Y,RZ.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexGrow:1,width:"100%",height:"100%"},children:$},void 0,!1,void 0,this),Q]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var _8=i(G0(),1);function aN({style:Y,children:Q,...N}){return _8.jsxDEV(_8.Fragment,{children:_8.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,gap:10,...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var y9=i(G0(),1);function XY({icon:Y,iconStyle:Q,childStyle:N,animation:$,fontSizeOnMouseEnter:K="0.6em",fontSizeOnMouseLeave:U="0.7em",style:_,children:L,...O}){let V=EN(()=>({fontSize:U}));return y9.jsxDEV(y9.Fragment,{children:y9.jsxDEV("div",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"8px",gap:"5px",textDecorationLine:"none",..._},...O,children:[Y?y9.jsxDEV(y9.Fragment,{children:y9.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundImage:`url(${Y})`,backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"15px",aspectRatio:"1 / 1",...Q}},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,L?y9.jsxDEV(y9.Fragment,{children:y9.jsxDEV(o4.div,{onMouseEnter:()=>{V[1].start({fontSize:K,config:$});return},onMouseLeave:()=>{V[1].start({fontSize:U,config:$});return},style:{fontWeight:"normal",fontFamily:L1[1],color:U1[0],...V[0],...N},children:L},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var w8=i(G0(),1);function sV({style:Y,...Q}){return w8.jsxDEV(w8.Fragment,{children:w8.jsxDEV($B,{url:PJ,style:{width:"25px",...Y},...Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var RG=i(G0(),1);function oV({to:Y,style:Q,children:N,...$}){return RG.jsxDEV(RG.Fragment,{children:RG.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,position:"relative",background:U1[0],borderRadius:"10px",...Q},children:[RG.jsxDEV(sV,{style:{position:"absolute",right:"100%",bottom:"100%"}},void 0,!1,void 0,this),RG.jsxDEV(jW,{to:Y,children:RG.jsxDEV(XY,{childStyle:{color:U1[1]},children:N},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var BY=i(G0(),1);function aV({style:Y,...Q}){return BY.jsxDEV(BY.Fragment,{children:BY.jsxDEV(jW,{to:"/",style:{display:"contents"},children:BY.jsxDEV(zB,{url:DJ,style:{cursor:"pointer",width:"150px",aspectRatio:"2 / 1",...Y},...Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var dW=i(G0(),1);function rV({materials:Y,materialFocus:Q,toggled:N,style:$,children:K,...U}){return dW.jsxDEV(dW.Fragment,{children:dW.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...$},...U,children:[dW.jsxDEV("div",{onClick:()=>N[1](!0),style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:L1[1],color:U1[0],cursor:"pointer"},children:K},void 0,!1,void 0,this),N[0]?dW.jsxDEV(dW.Fragment,{children:dW.jsxDEV("div",{onMouseLeave:()=>N[1](!1),style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"120%",gap:20,padding:10,boxShadow:z9},children:Y[0].map((_)=>dW.jsxDEV(dW.Fragment,{children:dW.jsxDEV(jW,{to:"/show_room",onClick:()=>Q[1](_),children:dW.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"0.75em",fontWeight:"normal",fontFamily:L1[1],color:U1[0],cursor:"pointer"},children:_},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var O8=i(G0(),1);function tV({materials:Y,materialFocus:Q,products:N,productFocus:$,user:K,userIsSignedIn:U}){let _=c0.useState(!1),L=c0.useState(!1),O=c0.useState("");return O8.jsxDEV(O8.Fragment,{children:O8.jsxDEV(eV,{materials:Y,materialFocus:Q,materialsDropDownButtonToggled:_,products:N,productFocus:$,searchBarToggled:L,searchBarInput:O,user:K,userIsSignedIn:U},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var V8=i(G0(),1);function WL({products:Y,productFocus:Q,...N}){let $=c0.useState(!1),K=c0.useState(""),U=c0.useState([]);return V8.jsxDEV(V8.Fragment,{children:V8.jsxDEV(GL,{products:Y,productFocus:Q,toggled:$,input:K,suggestions:U,...N},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var CW=i(G0(),1);function GL({products:Y,productFocus:Q,toggled:N,input:$,suggestions:K,style:U,..._}){return c0.useEffect(()=>{let L=$[0];if(L.trim().length===0){N[1](!0);return}let O=Y[0];O.map((V)=>({...V,score:rN.get(L,V.name?.toLocaleLowerCase()||"")})).sort((V,E)=>V.score-E.score).slice(0,10),K[1](O),N[1](!0);return},[$[0]]),CW.jsxDEV(CW.Fragment,{children:CW.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",width:"100%",height:"auto",flex:"1",...U},..._,children:[CW.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",boxShadow:z9,padding:10,flex:1,gap:10},children:[CW.jsxDEV($B,{url:jJ,style:{width:"15px"}},void 0,!1,void 0,this),CW.jsxDEV("input",{value:$[0],onChange:(L)=>$[1](L.target.value),style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:L1[1]}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),N[0]?CW.jsxDEV(CW.Fragment,{children:CW.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"100%",width:"100%",height:"auto",flex:1,boxShadow:z9,background:"white"},children:K[0].map((L)=>CW.jsxDEV(CW.Fragment,{children:CW.jsxDEV(ZL,{to:"/product",products:Y,productFocus:Q,suggested:L},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var l5=i(G0(),1);function YL({username:Y,password:Q,response:N,user:$,userIsSignedIn:K,onValidation:U,onSignIn:_,...L}){return l5.jsxDEV(l5.Fragment,{children:l5.jsxDEV(NB,{...L,children:[l5.jsxDEV(JB,{children:N[0]},void 0,!1,void 0,this),l5.jsxDEV(SZ,{value:Y[0],placeholder:"Username",onChange:(O)=>Y[1](O.target.value)},void 0,!1,void 0,this),l5.jsxDEV(SZ,{value:Q[0],placeholder:"Password",onChange:(O)=>Q[1](O.target.value)},void 0,!1,void 0,this),l5.jsxDEV(QB,{onClick:async()=>{let O,V;if([O,V]=await U(Y[0],Q[0]),O===!1){N[1](V);return}if([O,V]=await _(Y[0],Q[0]),O===!1){N[1](V);return}N[1](null);return},children:"Sign In"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var K9=i(G0(),1);function XL({username:Y,password:Q,email:N,response:$,onValidation:K,onSignUp:U,..._}){return K9.jsxDEV(K9.Fragment,{children:K9.jsxDEV(NB,{..._,children:[$[0]?K9.jsxDEV(K9.Fragment,{children:K9.jsxDEV(JB,{children:$[0]},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,K9.jsxDEV(SZ,{value:N[0],placeholder:"Email",onChange:(L)=>N[1](L.target.value)},void 0,!1,void 0,this),K9.jsxDEV(SZ,{value:Y[0],placeholder:"Username",onChange:(L)=>Y[1](L.target.value)},void 0,!1,void 0,this),K9.jsxDEV(SZ,{value:Q[0],placeholder:"Password",onChange:(L)=>Q[1](L.target.value)},void 0,!1,void 0,this),K9.jsxDEV(QB,{onClick:async()=>{let L,O;if([L,O]=await K(Y[0],Q[0],N[0]),L===!1){$[1](O);return}if([L,O]=await U(Y[0],Q[0],N[0]),L===!1){$[1](O);return}$[1](null);return},children:"Sign Up"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var g9=i(G0(),1);function BL({user:Y,userIsSignedIn:Q,...N}){let $=c0.useState(!1),K=c0.useState(!1),U=c0.useState(!1),_=c0.useState(""),L=c0.useState(""),O=c0.useState(""),V=c0.useState(null);return g9.jsxDEV(g9.Fragment,{children:g9.jsxDEV(QL,{toggled:$,signUpToggled:K,signInToggled:U,signUpForm:g9.jsxDEV(g9.Fragment,{children:g9.jsxDEV(XL,{username:_,password:L,email:O,response:V,onValidation:async(E,A,F)=>{try{return YY(E.trim().length!==0,""),YY(A.trim().length!==0,""),YY(F.trim().length!==0,""),[!0,null]}catch(R){return[!1,String(R)]}},onSignUp:async(E,A,F)=>{if((await BB.touch("/username_is_available",{username:E})).success){let R=await BB.touch("/sign_up",{username:E,password:A,email:F});if(R)return[!1,R];return[!0,null]}return[!1,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),signInForm:g9.jsxDEV(g9.Fragment,{children:g9.jsxDEV(YL,{username:_,password:L,response:V,user:Y,userIsSignedIn:Q,onValidation:async(E,A)=>{try{return YY(E.trim().length!==0,""),YY(A.trim().length!==0,""),[!0,null]}catch(F){return[!1,String(F)]}},onSignIn:async(E,A)=>{let F=await BB.touch("/sign_in",{username:E,password:A});if(F)return[!1,F];return[!0,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),...N},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var kZ=i(G0(),1);function QL({toggled:Y,signUpToggled:Q,signInToggled:N,signUpForm:$,signInForm:K,style:U,..._}){return kZ.jsxDEV(kZ.Fragment,{children:kZ.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...U},..._,children:[kZ.jsxDEV(XY,{onClick:()=>{Y[1](!0),N[1](!1),Q[1](!0);return},children:"Sign Up"},void 0,!1,void 0,this),kZ.jsxDEV("div",{onClick:()=>{Y[1](!0),N[1](!0),N[1](!1)},style:{},children:"Sign In"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var i5=i(G0(),1);function ZL({products:Y,productFocus:Q,suggested:N,to:$,style:K,...U}){return i5.jsxDEV(i5.Fragment,{children:i5.jsxDEV(jW,{style:{display:"contents"},to:$,children:i5.jsxDEV("div",{onClick:()=>{let L=Y[0].filter((O)=>O.name===N?.name).at(0)||null;if(L)Q[1](L);return},style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,padding:8,cursor:"pointer",...K},...U,children:[i5.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:U1[0],fontSize:"1em",fontWeight:"normal",fontFamily:L1[1]},children:N.name},void 0,!1,void 0,this),i5.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:U1[0],fontSize:"1em",fontWeight:"normal",fontFamily:L1[1]},children:["£",N.price.toFixed(2).toString()]},void 0,!0,void 0,this),i5.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:U1[0],fontSize:"1em",fontWeight:"normal",fontFamily:L1[1]},children:[N.stock.toFixed(0)," left"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var FW=i(G0(),1);function eV({materials:Y,materialFocus:Q,materialsDropDownButtonToggled:N,products:$,productFocus:K,searchBarToggled:U,searchBarInput:_,user:L,userIsSignedIn:O,style:V,...E}){return FW.jsxDEV(FW.Fragment,{children:FW.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",height:"auto",flex:1,paddingTop:30,paddingBottom:30,gap:40,zIndex:2000,...V},...E,children:[FW.jsxDEV(aV,{},void 0,!1,void 0,this),FW.jsxDEV(aN,{children:[FW.jsxDEV(oV,{to:"/for_you",children:"For You"},void 0,!1,void 0,this),FW.jsxDEV(rV,{materials:Y,materialFocus:Q,toggled:N},void 0,!1,void 0,this)]},void 0,!0,void 0,this),FW.jsxDEV(WL,{products:$,productFocus:K},void 0,!1,void 0,this),FW.jsxDEV(aN,{children:[FW.jsxDEV(jW,{to:"/basket",children:FW.jsxDEV(XY,{children:"Basket"},void 0,!1,void 0,this)},void 0,!1,void 0,this),FW.jsxDEV(BL,{user:L,userIsSignedIn:O},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var r1=i(G0(),1);function JL({imageCarouselUrls:Y,imageCarouselMsIntervalSleep:Q,imageCarouselAnimation:N,heading:$,subHeadings:K,...U}){return r1.jsxDEV(r1.Fragment,{children:r1.jsxDEV(iV,{sections:[r1.jsxDEV(r1.Fragment,{children:r1.jsxDEV(lV,{style:{width:"100%",height:"auto",flex:"1",margin:"10px"},urls:Y,msIntervalSleep:Q,animation:N,children:r1.jsxDEV(tN,{style:{fontSize:"9em",color:U1[0]},children:$},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),r1.jsxDEV(r1.Fragment,{children:r1.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto"},children:K.map((_)=>r1.jsxDEV(r1.Fragment,{children:r1.jsxDEV(tN,{children:_},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),r1.jsxDEV(r1.Fragment,{},void 0,!1,void 0,this)],...U},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var L8=i(G0(),1);function $B({style:Y,children:Q,...N}){return L8.jsxDEV(L8.Fragment,{children:L8.jsxDEV(zB,{style:{aspectRatio:"1 / 1",...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var T8=i(G0(),1);function zB({url:Y,style:Q,children:N,...$}){return T8.jsxDEV(T8.Fragment,{children:T8.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundImage:`url(${Y})`,backgroundSize:"contain",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat",...Q},...$,children:N},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var NL=i(G0(),1);var $L=i(G0(),1);var zL=i(G0(),1);var KL=i(G0(),1);var UL=i(G0(),1);var HL=i(G0(),1);var _L=i(G0(),1);var A8=i(G0(),1);function tN({style:Y,children:Q,...N}){return A8.jsxDEV(A8.Fragment,{children:A8.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:L1[1],...Y},...N,children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function wL(Y){let Q=document.getElementById("root");if(Q===null)throw"ERR_MISSING_ROOT_ELEMENT";eN.createRoot(Q).render(Y)}var t1=i(G0(),1);function oj(){let Y=c0.useState([]),Q=c0.useState(""),N=c0.useState([]),$=c0.useState(null),K=c0.useState(null),U=c0.useState(!1);return t1.jsxDEV(t1.Fragment,{children:t1.jsxDEV(T2,{children:t1.jsxDEV(V2,{children:t1.jsxDEV(S4,{path:"/",element:t1.jsxDEV(t1.Fragment,{children:t1.jsxDEV(JL,{imageCarouselUrls:[],imageCarouselMsIntervalSleep:30000,imageCarouselAnimation:{duration:30000},heading:"OFFCUTS",subHeadings:["Revive.","Reuse.","R."],navbar:t1.jsxDEV(t1.Fragment,{children:t1.jsxDEV(tV,{materials:Y,materialFocus:Q,products:N,productFocus:$,user:K,userIsSignedIn:U},void 0,!1,void 0,this)},void 0,!1,void 0,this),footer:t1.jsxDEV(t1.Fragment,{children:t1.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto"},children:"TODO"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}wL(t1.jsxDEV(oj,{},void 0,!1,void 0,this));

//# debugId=1EB21C0EE26EA43164756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi5cXC4uXFxub2RlX21vZHVsZXNcXHJlYWN0XFxjanNcXHJlYWN0LmRldmVsb3BtZW50LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxzY2hlZHVsZXJcXGNqc1xcc2NoZWR1bGVyLmRldmVsb3BtZW50LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdC1kb21cXGNqc1xccmVhY3QtZG9tLmRldmVsb3BtZW50LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdC1kb21cXGluZGV4LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdC1kb21cXGNqc1xccmVhY3QtZG9tLWNsaWVudC5kZXZlbG9wbWVudC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xccmVhY3QtZG9tXFxjbGllbnQuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXHJlYWN0LXJvdXRlclxcbm9kZV9tb2R1bGVzXFxjb29raWVcXGRpc3RcXGluZGV4LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxmYXN0ZXN0LWxldmVuc2h0ZWluXFxtb2QuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGZhc3QtbGV2ZW5zaHRlaW5cXGxldmVuc2h0ZWluLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdFxcY2pzXFxyZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiLCAibW9kLnRzeCIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xccmVhY3Qtcm91dGVyXFxkaXN0XFxkZXZlbG9wbWVudFxcY2h1bmstSzZDU0VYUE0ubWpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxAcmVhY3Qtc3ByaW5nXFxyYWZ6XFxkaXN0XFxyZWFjdC1zcHJpbmdfcmFmei5tb2Rlcm4ubWpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxAcmVhY3Qtc3ByaW5nXFxzaGFyZWRcXGRpc3RcXHJlYWN0LXNwcmluZ19zaGFyZWQubW9kZXJuLm1qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcQHJlYWN0LXNwcmluZ1xcY29yZVxcZGlzdFxccmVhY3Qtc3ByaW5nX2NvcmUubW9kZXJuLm1qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcQHJlYWN0LXNwcmluZ1xcYW5pbWF0ZWRcXGRpc3RcXHJlYWN0LXNwcmluZ19hbmltYXRlZC5tb2Rlcm4ubWpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxAcmVhY3Qtc3ByaW5nXFx3ZWJcXGRpc3RcXHJlYWN0LXNwcmluZ193ZWIubW9kZXJuLm1qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcYmluZC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcdXRpbHMuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXEF4aW9zRXJyb3IuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXG51bGwuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHRvRm9ybURhdGEuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXEF4aW9zVVJMU2VhcmNoUGFyYW1zLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxidWlsZFVSTC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY29yZVxcSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxkZWZhdWx0c1xcdHJhbnNpdGlvbmFsLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcYnJvd3NlclxcY2xhc3Nlc1xcVVJMU2VhcmNoUGFyYW1zLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcYnJvd3NlclxcY2xhc3Nlc1xcRm9ybURhdGEuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXHBsYXRmb3JtXFxicm93c2VyXFxjbGFzc2VzXFxCbG9iLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcYnJvd3NlclxcaW5kZXguanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXHBsYXRmb3JtXFxjb21tb25cXHV0aWxzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcaW5kZXguanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHRvVVJMRW5jb2RlZEZvcm0uanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXGZvcm1EYXRhVG9KU09OLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxkZWZhdWx0c1xcaW5kZXguanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHBhcnNlSGVhZGVycy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY29yZVxcQXhpb3NIZWFkZXJzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjb3JlXFx0cmFuc2Zvcm1EYXRhLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjYW5jZWxcXGlzQ2FuY2VsLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjYW5jZWxcXENhbmNlbGVkRXJyb3IuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXHNldHRsZS5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xccGFyc2VQcm90b2NvbC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcc3BlZWRvbWV0ZXIuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHRocm90dGxlLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxwcm9ncmVzc0V2ZW50UmVkdWNlci5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcaXNVUkxTYW1lT3JpZ2luLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxjb29raWVzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxpc0Fic29sdXRlVVJMLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxjb21iaW5lVVJMcy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY29yZVxcYnVpbGRGdWxsUGF0aC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY29yZVxcbWVyZ2VDb25maWcuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHJlc29sdmVDb25maWcuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGFkYXB0ZXJzXFx4aHIuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXGNvbXBvc2VTaWduYWxzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFx0cmFja1N0cmVhbS5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcYWRhcHRlcnNcXGZldGNoLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxhZGFwdGVyc1xcYWRhcHRlcnMuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXGRpc3BhdGNoUmVxdWVzdC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcZW52XFxkYXRhLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFx2YWxpZGF0b3IuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXEF4aW9zLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjYW5jZWxcXENhbmNlbFRva2VuLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxzcHJlYWQuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXGlzQXhpb3NFcnJvci5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcSHR0cFN0YXR1c0NvZGUuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGF4aW9zLmpzIiwgImNvbW1vblxcc2VydmVyLnRzIiwgImNvbW1vblxcY29uc3RhbnRcXGJyaWRnZS50cyIsICJjb21tb25cXHV0aWxcXHJlcXVpcmUudHMiLCAiY29tcG9uZW50XFxhbmltYXRpb25cXGltYWdlX2Nhcm91c2VsLnRzeCIsICJjb21wb25lbnRcXGNvbnN0YW50XFxjb2xvci50c3giLCAiY29tcG9uZW50XFxjb25zdGFudFxcZm9udC50c3giLCAiY29tcG9uZW50XFxjb25zdGFudFxcc2hhZG93LnRzeCIsICJjb21wb25lbnRcXGZvcm1cXGZvcm1fYnV0dG9uLnRzeCIsICJjb21wb25lbnRcXGZvcm1cXGZvcm1faW5wdXQudHN4IiwgImNvbXBvbmVudFxcZm9ybVxcZm9ybV9tZXNzYWdlLnRzeCIsICJjb21wb25lbnRcXGZvcm1cXGZvcm0udHN4IiwgImNvbXBvbmVudFxcbGF5b3V0XFxwYWdlX3dpdGhfM192ZXJ0aWNhbF9zZWN0aW9ucy50c3giLCAiY29tcG9uZW50XFxsYXlvdXRcXHBhZ2UudHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfYnV0dG9uX2dyb3VwLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X2J1dHRvbi50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9jYWxsX3RvX2FjdGlvbl9idXR0b25faWNvbi50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9jYWxsX3RvX2FjdGlvbl9idXR0b24udHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfbG9nby50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9tYXRlcmlhbHNfZHJvcF9kb3duX2J1dHRvbi50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9wYXJ0aWFsX2J1aWxkLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X3NlYXJjaF9iYXJfcGFydGlhbF9idWlsZC50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9zZWFyY2hfYmFyLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X3NpZ25faW5fZm9ybS50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9zaWduX3VwX2Zvcm0udHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfc2lnbmVyX2Ryb3BfZG93bl9idXR0b25fcGFydGlhbF9idWlsZC50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvbi50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9zdWdnZXN0aW9uLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2LnRzeCIsICJjb21wb25lbnRcXHBhZ2VcXGhvbWVfcGFnZS50c3giLCAiY29tcG9uZW50XFxzcHJpdGVcXHNwcml0ZV9pY29uLnRzeCIsICJjb21wb25lbnRcXHNwcml0ZVxcc3ByaXRlLnRzeCIsICJjb21wb25lbnRcXHR5cG9ncmFwaHlcXHR5cG9ncmFwaHkudHN4IiwgImNvbXBvbmVudFxcdXRpbFxccmVuZGVyLnRzeCIsICJhcHAudHN4Il0sCiAgInNvdXJjZXNDb250ZW50IjogWwogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyhtZXRob2ROYW1lLCBpbmZvKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29tcG9uZW50LnByb3RvdHlwZSwgbWV0aG9kTmFtZSwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIiVzKC4uLikgaXMgZGVwcmVjYXRlZCBpbiBwbGFpbiBKYXZhU2NyaXB0IFJlYWN0IGNsYXNzZXMuICVzXCIsXG4gICAgICAgICAgICBpbmZvWzBdLFxuICAgICAgICAgICAgaW5mb1sxXVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgICAgIGlmIChudWxsID09PSBtYXliZUl0ZXJhYmxlIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIG1heWJlSXRlcmFibGUgPVxuICAgICAgICAoTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSkgfHxcbiAgICAgICAgbWF5YmVJdGVyYWJsZVtcIkBAaXRlcmF0b3JcIl07XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSA/IG1heWJlSXRlcmFibGUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgY2FsbGVyTmFtZSkge1xuICAgICAgcHVibGljSW5zdGFuY2UgPVxuICAgICAgICAoKHB1YmxpY0luc3RhbmNlID0gcHVibGljSW5zdGFuY2UuY29uc3RydWN0b3IpICYmXG4gICAgICAgICAgKHB1YmxpY0luc3RhbmNlLmRpc3BsYXlOYW1lIHx8IHB1YmxpY0luc3RhbmNlLm5hbWUpKSB8fFxuICAgICAgICBcIlJlYWN0Q2xhc3NcIjtcbiAgICAgIHZhciB3YXJuaW5nS2V5ID0gcHVibGljSW5zdGFuY2UgKyBcIi5cIiArIGNhbGxlck5hbWU7XG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJDYW4ndCBjYWxsICVzIG9uIGEgY29tcG9uZW50IHRoYXQgaXMgbm90IHlldCBtb3VudGVkLiBUaGlzIGlzIGEgbm8tb3AsIGJ1dCBpdCBtaWdodCBpbmRpY2F0ZSBhIGJ1ZyBpbiB5b3VyIGFwcGxpY2F0aW9uLiBJbnN0ZWFkLCBhc3NpZ24gdG8gYHRoaXMuc3RhdGVgIGRpcmVjdGx5IG9yIGRlZmluZSBhIGBzdGF0ZSA9IHt9O2AgY2xhc3MgcHJvcGVydHkgd2l0aCB0aGUgZGVzaXJlZCBzdGF0ZSBpbiB0aGUgJXMgY29tcG9uZW50LlwiLFxuICAgICAgICAgIGNhbGxlck5hbWUsXG4gICAgICAgICAgcHVibGljSW5zdGFuY2VcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSA9ICEwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50RHVtbXkoKSB7fVxuICAgIGZ1bmN0aW9uIFB1cmVDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgICAgIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDtcbiAgICAgIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDJcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiB0eXBlO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN0cmljdE1vZGVcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZS50YWcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICB0eXBlLiQkdHlwZW9mKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Qcm92aWRlclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OU1VNRVJfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgIHZhciBpbm5lclR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgdHlwZSB8fFxuICAgICAgICAgICAgICAoKHR5cGUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICAgICh0eXBlID0gXCJcIiAhPT0gdHlwZSA/IFwiRm9yd2FyZFJlZihcIiArIHR5cGUgKyBcIilcIiA6IFwiRm9yd2FyZFJlZlwiKSk7XG4gICAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChpbm5lclR5cGUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGwpLFxuICAgICAgICAgICAgICBudWxsICE9PSBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA/IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgIDogZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJNZW1vXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICBpbm5lclR5cGUgPSB0eXBlLl9wYXlsb2FkO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuX2luaXQ7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUoaW5uZXJUeXBlKSk7XG4gICAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgICAgIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8XG4gICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxIHx8XG4gICAgICAgICAgICB2b2lkIDAgIT09IHR5cGUuZ2V0TW9kdWxlSWQpKVxuICAgICAgICA/ICEwXG4gICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cbiAgICBmdW5jdGlvbiBkaXNhYmxlTG9ncygpIHtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHByZXZMb2cgPSBjb25zb2xlLmxvZztcbiAgICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICAgIHByZXZXYXJuID0gY29uc29sZS53YXJuO1xuICAgICAgICBwcmV2RXJyb3IgPSBjb25zb2xlLmVycm9yO1xuICAgICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgICBwcmV2R3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkO1xuICAgICAgICBwcmV2R3JvdXBFbmQgPSBjb25zb2xlLmdyb3VwRW5kO1xuICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgICB2YWx1ZTogZGlzYWJsZWRMb2csXG4gICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgICBsb2c6IHByb3BzLFxuICAgICAgICAgIHdhcm46IHByb3BzLFxuICAgICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgICBncm91cDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IHByb3BzLFxuICAgICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGRpc2FibGVkRGVwdGgrKztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICAgICAgZGlzYWJsZWREZXB0aC0tO1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgdmFyIHByb3BzID0geyBjb25maWd1cmFibGU6ICEwLCBlbnVtZXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBsb2c6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZMb2cgfSksXG4gICAgICAgICAgaW5mbzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkluZm8gfSksXG4gICAgICAgICAgd2FybjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldldhcm4gfSksXG4gICAgICAgICAgZXJyb3I6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZFcnJvciB9KSxcbiAgICAgICAgICBncm91cDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwIH0pLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWQgfSksXG4gICAgICAgICAgZ3JvdXBFbmQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cEVuZCB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIDAgPiBkaXNhYmxlZERlcHRoICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gcHJlZml4KVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICAgIHByZWZpeCA9IChtYXRjaCAmJiBtYXRjaFsxXSkgfHwgXCJcIjtcbiAgICAgICAgICBzdWZmaXggPVxuICAgICAgICAgICAgLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJcXG4gICAgYXRcIilcbiAgICAgICAgICAgICAgPyBcIiAoPGFub255bW91cz4pXCJcbiAgICAgICAgICAgICAgOiAtMSA8IHguc3RhY2suaW5kZXhPZihcIkBcIilcbiAgICAgICAgICAgICAgICA/IFwiQHVua25vd246MDowXCJcbiAgICAgICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlxcblwiICsgcHJlZml4ICsgbmFtZSArIHN1ZmZpeDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7XG4gICAgICBpZiAoIWZuIHx8IHJlZW50cnkpIHJldHVybiBcIlwiO1xuICAgICAgdmFyIGZyYW1lID0gY29tcG9uZW50RnJhbWVDYWNoZS5nZXQoZm4pO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gZnJhbWUpIHJldHVybiBmcmFtZTtcbiAgICAgIHJlZW50cnkgPSAhMDtcbiAgICAgIGZyYW1lID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHZvaWQgMDtcbiAgICAgIHZhciBwcmV2aW91c0Rpc3BhdGNoZXIgPSBudWxsO1xuICAgICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBudWxsO1xuICAgICAgZGlzYWJsZUxvZ3MoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBSdW5JblJvb3RGcmFtZSA9IHtcbiAgICAgICAgICBEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmFrZS5wcm90b3R5cGUsIFwicHJvcHNcIiwge1xuICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBSZWZsZWN0ICYmIFJlZmxlY3QuY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChGYWtlLCBbXSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sID0geDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQxKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sID0geCQxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoRmFrZSA9IGZuKCkpICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBGYWtlLmNhdGNoICYmXG4gICAgICAgICAgICAgICAgICBGYWtlLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoc2FtcGxlKSB7XG4gICAgICAgICAgICAgIGlmIChzYW1wbGUgJiYgY29udHJvbCAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2FtcGxlLnN0YWNrKVxuICAgICAgICAgICAgICAgIHJldHVybiBbc2FtcGxlLnN0YWNrLCBjb250cm9sLnN0YWNrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPVxuICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCI7XG4gICAgICAgIHZhciBuYW1lUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICBcIm5hbWVcIlxuICAgICAgICApO1xuICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IuY29uZmlndXJhYmxlICYmXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgICB7IHZhbHVlOiBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiIH1cbiAgICAgICAgICApO1xuICAgICAgICB2YXIgX1J1bkluUm9vdEZyYW1lJERldGVyID1cbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCgpLFxuICAgICAgICAgIHNhbXBsZVN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzBdLFxuICAgICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcbiAgICAgICAgaWYgKHNhbXBsZVN0YWNrICYmIGNvbnRyb2xTdGFjaykge1xuICAgICAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KFwiXFxuXCIpLFxuICAgICAgICAgICAgY29udHJvbExpbmVzID0gY29udHJvbFN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBuYW1lUHJvcERlc2NyaXB0b3IgPSAwO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yIDwgc2FtcGxlTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvcisrO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPCBjb250cm9sTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIrKztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID09PSBjb250cm9sTGluZXMubGVuZ3RoXG4gICAgICAgICAgKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID0gc2FtcGxlTGluZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBjb250cm9sTGluZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICAgICAgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgJiZcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXTtcblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXI7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3ItLSwgX1J1bkluUm9vdEZyYW1lJERldGVyLS1cbiAgICAgICAgICApXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKDEgIT09IG5hbWVQcm9wRGVzY3JpcHRvciB8fCAxICE9PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpIHtcbiAgICAgICAgICAgICAgICBkb1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAobmFtZVByb3BEZXNjcmlwdG9yLS0sXG4gICAgICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tLFxuICAgICAgICAgICAgICAgICAgICAwID4gX1J1bkluUm9vdEZyYW1lJERldGVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPVxuICAgICAgICAgICAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0ucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IG5ldyBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IFwiXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZm4uZGlzcGxheU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuaW5jbHVkZXMoXCI8YW5vbnltb3VzPlwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgIChfZnJhbWUgPSBfZnJhbWUucmVwbGFjZShcIjxhbm9ueW1vdXM+XCIsIGZuLmRpc3BsYXlOYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmXG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIF9mcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZnJhbWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKHJlZW50cnkgPSAhMSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2aW91c0Rpc3BhdGNoZXIpLFxuICAgICAgICAgIHJlZW5hYmxlTG9ncygpLFxuICAgICAgICAgIChFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IGZyYW1lKTtcbiAgICAgIH1cbiAgICAgIHNhbXBsZUxpbmVzID0gKHNhbXBsZUxpbmVzID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogXCJcIilcbiAgICAgICAgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShzYW1wbGVMaW5lcylcbiAgICAgICAgOiBcIlwiO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiYgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIHNhbXBsZUxpbmVzKTtcbiAgICAgIHJldHVybiBzYW1wbGVMaW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBcIlwiO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpIHtcbiAgICAgICAgdmFyIHByb3RvdHlwZSA9IHR5cGUucHJvdG90eXBlO1xuICAgICAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgICEoIXByb3RvdHlwZSB8fCAhcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSh0eXBlKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VcIik7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlTGlzdFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlID0gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZSh0eXBlLnJlbmRlciwgITEpKSwgdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIHByb3RvdHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZShwcm90b3R5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25lcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTtcbiAgICAgIHJldHVybiBudWxsID09PSBkaXNwYXRjaGVyID8gbnVsbCA6IGRpc3BhdGNoZXIuZ2V0T3duZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICAgICAgc2VsZiA9IHByb3BzLnJlZjtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBudWxsICE9PSAodm9pZCAwICE9PSBzZWxmID8gc2VsZiA6IG51bGwpXG4gICAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0OiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHsgZW51bWVyYWJsZTogITEsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgdHlwZS5fc3RvcmUgPSB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdJbmZvXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh0eXBlLnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh0eXBlKSk7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvbmVBbmRSZXBsYWNlS2V5KG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICAgICAgbmV3S2V5ID0gUmVhY3RFbGVtZW50KFxuICAgICAgICBvbGRFbGVtZW50LnR5cGUsXG4gICAgICAgIG5ld0tleSxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIG9sZEVsZW1lbnQuX293bmVyLFxuICAgICAgICBvbGRFbGVtZW50LnByb3BzXG4gICAgICApO1xuICAgICAgbmV3S2V5Ll9zdG9yZS52YWxpZGF0ZWQgPSBvbGRFbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQ7XG4gICAgICByZXR1cm4gbmV3S2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgIG5vZGUgJiZcbiAgICAgICAgbm9kZS4kJHR5cGVvZiAhPT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgKVxuICAgICAgICBpZiAoaXNBcnJheUltcGwobm9kZSkpXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQoY2hpbGQpICYmIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZEVsZW1lbnQobm9kZSkpXG4gICAgICAgICAgbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAoKGkgPSBnZXRJdGVyYXRvckZuKG5vZGUpKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpICYmXG4gICAgICAgICAgICBpICE9PSBub2RlLmVudHJpZXMgJiZcbiAgICAgICAgICAgICgoaSA9IGkuY2FsbChub2RlKSksIGkgIT09IG5vZGUpKVxuICAgICAgICApXG4gICAgICAgICAgZm9yICg7ICEobm9kZSA9IGkubmV4dCgpKS5kb25lOyApXG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChub2RlLnZhbHVlKSAmJlxuICAgICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KG5vZGUudmFsdWUsIHBhcmVudFR5cGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvYmplY3QgJiZcbiAgICAgICAgbnVsbCAhPT0gb2JqZWN0ICYmXG4gICAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgZWxlbWVudC5fc3RvcmUgJiZcbiAgICAgICAgIWVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCAmJlxuICAgICAgICBudWxsID09IGVsZW1lbnQua2V5ICYmXG4gICAgICAgICgoZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gMSksXG4gICAgICAgIChwYXJlbnRUeXBlID0gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSksXG4gICAgICAgICFvd25lckhhc0tleVVzZVdhcm5pbmdbcGFyZW50VHlwZV0pXG4gICAgICApIHtcbiAgICAgICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW3BhcmVudFR5cGVdID0gITA7XG4gICAgICAgIHZhciBjaGlsZE93bmVyID0gXCJcIjtcbiAgICAgICAgZWxlbWVudCAmJlxuICAgICAgICAgIG51bGwgIT0gZWxlbWVudC5fb3duZXIgJiZcbiAgICAgICAgICBlbGVtZW50Ll9vd25lciAhPT0gZ2V0T3duZXIoKSAmJlxuICAgICAgICAgICgoY2hpbGRPd25lciA9IG51bGwpLFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBlbGVtZW50Ll9vd25lci50YWdcbiAgICAgICAgICAgID8gKGNoaWxkT3duZXIgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkpXG4gICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBlbGVtZW50Ll9vd25lci5uYW1lICYmXG4gICAgICAgICAgICAgIChjaGlsZE93bmVyID0gZWxlbWVudC5fb3duZXIubmFtZSksXG4gICAgICAgICAgKGNoaWxkT3duZXIgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGNoaWxkT3duZXIgKyBcIi5cIikpO1xuICAgICAgICB2YXIgcHJldkdldEN1cnJlbnRTdGFjayA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjaztcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUpO1xuICAgICAgICAgIHByZXZHZXRDdXJyZW50U3RhY2sgJiYgKHN0YWNrICs9IHByZXZHZXRDdXJyZW50U3RhY2soKSB8fCBcIlwiKTtcbiAgICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4lcyVzIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLFxuICAgICAgICAgIHBhcmVudFR5cGUsXG4gICAgICAgICAgY2hpbGRPd25lclxuICAgICAgICApO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBwcmV2R2V0Q3VycmVudFN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAgICAgIHZhciBpbmZvID0gXCJcIixcbiAgICAgICAgb3duZXIgPSBnZXRPd25lcigpO1xuICAgICAgb3duZXIgJiZcbiAgICAgICAgKG93bmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKG93bmVyLnR5cGUpKSAmJlxuICAgICAgICAoaW5mbyA9IFwiXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYFwiICsgb3duZXIgKyBcImAuXCIpO1xuICAgICAgaW5mbyB8fFxuICAgICAgICAoKHBhcmVudFR5cGUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUocGFyZW50VHlwZSkpICYmXG4gICAgICAgICAgKGluZm8gPVxuICAgICAgICAgICAgXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudFR5cGUgKyBcIj4uXCIpKTtcbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gICAgICB2YXIgZXNjYXBlckxvb2t1cCA9IHsgXCI9XCI6IFwiPTBcIiwgXCI6XCI6IFwiPTJcIiB9O1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCIkXCIgK1xuICAgICAgICBrZXkucmVwbGFjZSgvWz06XS9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgICAgICByZXR1cm4gZXNjYXBlckxvb2t1cFttYXRjaF07XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFbGVtZW50S2V5KGVsZW1lbnQsIGluZGV4KSB7XG4gICAgICByZXR1cm4gXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVsZW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPT0gZWxlbWVudCAmJlxuICAgICAgICBudWxsICE9IGVsZW1lbnQua2V5XG4gICAgICAgID8gKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oZWxlbWVudC5rZXkpLCBlc2NhcGUoXCJcIiArIGVsZW1lbnQua2V5KSlcbiAgICAgICAgOiBpbmRleC50b1N0cmluZygzNik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMSgpIHt9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVRoZW5hYmxlKHRoZW5hYmxlKSB7XG4gICAgICBzd2l0Y2ggKHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgdGhlbmFibGUuc3RhdHVzXG4gICAgICAgICAgICAgID8gdGhlbmFibGUudGhlbihub29wJDEsIG5vb3AkMSlcbiAgICAgICAgICAgICAgOiAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicGVuZGluZ1wiKSxcbiAgICAgICAgICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGZ1bGZpbGxlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICh0aGVuYWJsZS52YWx1ZSA9IGZ1bGZpbGxlZFZhbHVlKSk7XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKHRoZW5hYmxlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgKHRoZW5hYmxlLnJlYXNvbiA9IGVycm9yKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICB0aGVuYWJsZS5zdGF0dXMpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgICAgICB0aHJvdyB0aGVuYWJsZS5yZWFzb247XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcEludG9BcnJheShjaGlsZHJlbiwgYXJyYXksIGVzY2FwZWRQcmVmaXgsIG5hbWVTb0ZhciwgY2FsbGJhY2spIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIGNoaWxkcmVuO1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGUgfHwgXCJib29sZWFuXCIgPT09IHR5cGUpIGNoaWxkcmVuID0gbnVsbDtcbiAgICAgIHZhciBpbnZva2VDYWxsYmFjayA9ICExO1xuICAgICAgaWYgKG51bGwgPT09IGNoaWxkcmVuKSBpbnZva2VDYWxsYmFjayA9ICEwO1xuICAgICAgZWxzZVxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICBzd2l0Y2ggKGNoaWxkcmVuLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbi5faW5pdCksXG4gICAgICAgICAgICAgICAgICBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgIGludm9rZUNhbGxiYWNrKGNoaWxkcmVuLl9wYXlsb2FkKSxcbiAgICAgICAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBpZiAoaW52b2tlQ2FsbGJhY2spIHtcbiAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSBjaGlsZHJlbjtcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayhpbnZva2VDYWxsYmFjayk7XG4gICAgICAgIHZhciBjaGlsZEtleSA9XG4gICAgICAgICAgXCJcIiA9PT0gbmFtZVNvRmFyID8gXCIuXCIgKyBnZXRFbGVtZW50S2V5KGludm9rZUNhbGxiYWNrLCAwKSA6IG5hbWVTb0ZhcjtcbiAgICAgICAgaXNBcnJheUltcGwoY2FsbGJhY2spXG4gICAgICAgICAgPyAoKGVzY2FwZWRQcmVmaXggPSBcIlwiKSxcbiAgICAgICAgICAgIG51bGwgIT0gY2hpbGRLZXkgJiZcbiAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXggPVxuICAgICAgICAgICAgICAgIGNoaWxkS2V5LnJlcGxhY2UodXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsIFwiJCYvXCIpICsgXCIvXCIpLFxuICAgICAgICAgICAgbWFwSW50b0FycmF5KGNhbGxiYWNrLCBhcnJheSwgZXNjYXBlZFByZWZpeCwgXCJcIiwgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICA6IG51bGwgIT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIChpc1ZhbGlkRWxlbWVudChjYWxsYmFjaykgJiZcbiAgICAgICAgICAgICAgKG51bGwgIT0gY2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgKChpbnZva2VDYWxsYmFjayAmJiBpbnZva2VDYWxsYmFjay5rZXkgPT09IGNhbGxiYWNrLmtleSkgfHxcbiAgICAgICAgICAgICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY2FsbGJhY2sua2V5KSksXG4gICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4ID0gY2xvbmVBbmRSZXBsYWNlS2V5KFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXggK1xuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY2FsbGJhY2sua2V5IHx8XG4gICAgICAgICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgJiYgaW52b2tlQ2FsbGJhY2sua2V5ID09PSBjYWxsYmFjay5rZXkpXG4gICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICA6IChcIlwiICsgY2FsbGJhY2sua2V5KS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiQmL1wiXG4gICAgICAgICAgICAgICAgICAgICAgKSArIFwiL1wiKSArXG4gICAgICAgICAgICAgICAgICBjaGlsZEtleVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgXCJcIiAhPT0gbmFtZVNvRmFyICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBpbnZva2VDYWxsYmFjayAmJlxuICAgICAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KGludm9rZUNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAgIG51bGwgPT0gaW52b2tlQ2FsbGJhY2sua2V5ICYmXG4gICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2suX3N0b3JlICYmXG4gICAgICAgICAgICAgICAgIWludm9rZUNhbGxiYWNrLl9zdG9yZS52YWxpZGF0ZWQgJiZcbiAgICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeC5fc3RvcmUudmFsaWRhdGVkID0gMiksXG4gICAgICAgICAgICAgIChjYWxsYmFjayA9IGVzY2FwZWRQcmVmaXgpKSxcbiAgICAgICAgICAgIGFycmF5LnB1c2goY2FsbGJhY2spKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG4gICAgICBpbnZva2VDYWxsYmFjayA9IDA7XG4gICAgICBjaGlsZEtleSA9IFwiXCIgPT09IG5hbWVTb0ZhciA/IFwiLlwiIDogbmFtZVNvRmFyICsgXCI6XCI7XG4gICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIChuYW1lU29GYXIgPSBjaGlsZHJlbltpXSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkpKSxcbiAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayArPSBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICAgIGVzY2FwZWRQcmVmaXgsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgICApKTtcbiAgICAgIGVsc2UgaWYgKCgoaSA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pKSwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSkpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgaSA9PT0gY2hpbGRyZW4uZW50cmllcyAmJlxuICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgfHxcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIFwiVXNpbmcgTWFwcyBhcyBjaGlsZHJlbiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYW4gYXJyYXkgb2Yga2V5ZWQgUmVhY3RFbGVtZW50cyBpbnN0ZWFkLlwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FybkFib3V0TWFwcyA9ICEwKSksXG4gICAgICAgICAgICBjaGlsZHJlbiA9IGkuY2FsbChjaGlsZHJlbiksXG4gICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAhKG5hbWVTb0ZhciA9IGNoaWxkcmVuLm5leHQoKSkuZG9uZTtcblxuICAgICAgICApXG4gICAgICAgICAgKG5hbWVTb0ZhciA9IG5hbWVTb0Zhci52YWx1ZSksXG4gICAgICAgICAgICAodHlwZSA9IGNoaWxkS2V5ICsgZ2V0RWxlbWVudEtleShuYW1lU29GYXIsIGkrKykpLFxuICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICs9IG1hcEludG9BcnJheShcbiAgICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICkpO1xuICAgICAgZWxzZSBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZSkge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY2hpbGRyZW4udGhlbilcbiAgICAgICAgICByZXR1cm4gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgcmVzb2x2ZVRoZW5hYmxlKGNoaWxkcmVuKSxcbiAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgIG5hbWVTb0ZhcixcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgKTtcbiAgICAgICAgYXJyYXkgPSBTdHJpbmcoY2hpbGRyZW4pO1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogXCIgK1xuICAgICAgICAgICAgKFwiW29iamVjdCBPYmplY3RdXCIgPT09IGFycmF5XG4gICAgICAgICAgICAgID8gXCJvYmplY3Qgd2l0aCBrZXlzIHtcIiArIE9iamVjdC5rZXlzKGNoaWxkcmVuKS5qb2luKFwiLCBcIikgKyBcIn1cIlxuICAgICAgICAgICAgICA6IGFycmF5KSArXG4gICAgICAgICAgICBcIikuIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgaW5zdGVhZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGludm9rZUNhbGxiYWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuYywgY29udGV4dCkge1xuICAgICAgaWYgKG51bGwgPT0gY2hpbGRyZW4pIHJldHVybiBjaGlsZHJlbjtcbiAgICAgIHZhciByZXN1bHQgPSBbXSxcbiAgICAgICAgY291bnQgPSAwO1xuICAgICAgbWFwSW50b0FycmF5KGNoaWxkcmVuLCByZXN1bHQsIFwiXCIsIFwiXCIsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gZnVuYy5jYWxsKGNvbnRleHQsIGNoaWxkLCBjb3VudCsrKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGF6eUluaXRpYWxpemVyKHBheWxvYWQpIHtcbiAgICAgIGlmICgtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKSB7XG4gICAgICAgIHZhciBjdG9yID0gcGF5bG9hZC5fcmVzdWx0O1xuICAgICAgICBjdG9yID0gY3RvcigpO1xuICAgICAgICBjdG9yLnRoZW4oXG4gICAgICAgICAgZnVuY3Rpb24gKG1vZHVsZU9iamVjdCkge1xuICAgICAgICAgICAgaWYgKDAgPT09IHBheWxvYWQuX3N0YXR1cyB8fCAtMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICAgICAgICAocGF5bG9hZC5fc3RhdHVzID0gMSksIChwYXlsb2FkLl9yZXN1bHQgPSBtb2R1bGVPYmplY3QpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcGF5bG9hZC5fc3RhdHVzIHx8IC0xID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgICAgICAgIChwYXlsb2FkLl9zdGF0dXMgPSAyKSwgKHBheWxvYWQuX3Jlc3VsdCA9IGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIC0xID09PSBwYXlsb2FkLl9zdGF0dXMgJiZcbiAgICAgICAgICAoKHBheWxvYWQuX3N0YXR1cyA9IDApLCAocGF5bG9hZC5fcmVzdWx0ID0gY3RvcikpO1xuICAgICAgfVxuICAgICAgaWYgKDEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoY3RvciA9IHBheWxvYWQuX3Jlc3VsdCksXG4gICAgICAgICAgdm9pZCAwID09PSBjdG9yICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImxhenk6IEV4cGVjdGVkIHRoZSByZXN1bHQgb2YgYSBkeW5hbWljIGltcG9ydCgpIGNhbGwuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXFxuXFxuWW91ciBjb2RlIHNob3VsZCBsb29rIGxpa2U6IFxcbiAgY29uc3QgTXlDb21wb25lbnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9NeUNvbXBvbmVudCcpKVxcblxcbkRpZCB5b3UgYWNjaWRlbnRhbGx5IHB1dCBjdXJseSBicmFjZXMgYXJvdW5kIHRoZSBpbXBvcnQ/XCIsXG4gICAgICAgICAgICAgIGN0b3JcbiAgICAgICAgICAgICksXG4gICAgICAgICAgXCJkZWZhdWx0XCIgaW4gY3RvciB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJsYXp5OiBFeHBlY3RlZCB0aGUgcmVzdWx0IG9mIGEgZHluYW1pYyBpbXBvcnQoKSBjYWxsLiBJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gIGNvbnN0IE15Q29tcG9uZW50ID0gbGF6eSgoKSA9PiBpbXBvcnQoJy4vTXlDb21wb25lbnQnKSlcIixcbiAgICAgICAgICAgICAgY3RvclxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBjdG9yLmRlZmF1bHRcbiAgICAgICAgKTtcbiAgICAgIHRocm93IHBheWxvYWQuX3Jlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZURpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBudWxsID09PSBkaXNwYXRjaGVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yIG9uZSBvZiB0aGUgZm9sbG93aW5nIHJlYXNvbnM6XFxuMS4gWW91IG1pZ2h0IGhhdmUgbWlzbWF0Y2hpbmcgdmVyc2lvbnMgb2YgUmVhY3QgYW5kIHRoZSByZW5kZXJlciAoc3VjaCBhcyBSZWFjdCBET00pXFxuMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbjMuIFlvdSBtaWdodCBoYXZlIG1vcmUgdGhhbiBvbmUgY29weSBvZiBSZWFjdCBpbiB0aGUgc2FtZSBhcHBcXG5TZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uXCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVGFzayh0YXNrKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZW5xdWV1ZVRhc2tJbXBsKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciByZXF1aXJlU3RyaW5nID0gKFwicmVxdWlyZVwiICsgTWF0aC5yYW5kb20oKSkuc2xpY2UoMCwgNyk7XG4gICAgICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gKG1vZHVsZSAmJiBtb2R1bGVbcmVxdWlyZVN0cmluZ10pLmNhbGwoXG4gICAgICAgICAgICBtb2R1bGUsXG4gICAgICAgICAgICBcInRpbWVyc1wiXG4gICAgICAgICAgKS5zZXRJbW1lZGlhdGU7XG4gICAgICAgIH0gY2F0Y2ggKF9lcnIpIHtcbiAgICAgICAgICBlbnF1ZXVlVGFza0ltcGwgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICExID09PSBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCAmJlxuICAgICAgICAgICAgICAoKGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsID0gITApLFxuICAgICAgICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBhIE1lc3NhZ2VDaGFubmVsIGltcGxlbWVudGF0aW9uLCBzbyBlbnF1ZXVpbmcgdGFza3MgdmlhIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pIHdpbGwgZmFpbC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUgYXQgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3VlcyBpZiB5b3UgZW5jb3VudGVyIHRoaXMgd2FybmluZy5cIlxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gY2FsbGJhY2s7XG4gICAgICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKHZvaWQgMCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIGVucXVldWVUYXNrSW1wbCh0YXNrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWdncmVnYXRlRXJyb3JzKGVycm9ycykge1xuICAgICAgcmV0dXJuIDEgPCBlcnJvcnMubGVuZ3RoICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEFnZ3JlZ2F0ZUVycm9yXG4gICAgICAgID8gbmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycylcbiAgICAgICAgOiBlcnJvcnNbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgIHByZXZBY3RTY29wZURlcHRoICE9PSBhY3RTY29wZURlcHRoIC0gMSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiWW91IHNlZW0gdG8gaGF2ZSBvdmVybGFwcGluZyBhY3QoKSBjYWxscywgdGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBCZSBzdXJlIHRvIGF3YWl0IHByZXZpb3VzIGFjdCgpIGNhbGxzIGJlZm9yZSBtYWtpbmcgYSBuZXcgb25lLiBcIlxuICAgICAgICApO1xuICAgICAgYWN0U2NvcGVEZXB0aCA9IHByZXZBY3RTY29wZURlcHRoO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciBxdWV1ZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlO1xuICAgICAgaWYgKG51bGwgIT09IHF1ZXVlKVxuICAgICAgICBpZiAoMCAhPT0gcXVldWUubGVuZ3RoKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmbHVzaEFjdFF1ZXVlKHF1ZXVlKTtcbiAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsocmV0dXJuVmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGw7XG4gICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICA/ICgocXVldWUgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICByZWplY3QocXVldWUpKVxuICAgICAgICA6IHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaEFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgICBpZiAoIWlzRmx1c2hpbmcpIHtcbiAgICAgICAgaXNGbHVzaGluZyA9ICEwO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZm9yICg7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gcXVldWVbaV07XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmRpZFVzZVByb21pc2UgPSAhMTtcbiAgICAgICAgICAgICAgdmFyIGNvbnRpbnVhdGlvbiA9IGNhbGxiYWNrKCExKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGNvbnRpbnVhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICBxdWV1ZVtpXSA9IGNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsYmFjayA9IGNvbnRpbnVhdGlvbjtcbiAgICAgICAgICAgICAgfSBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgfSB3aGlsZSAoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHF1ZXVlLmxlbmd0aCA9IDA7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcXVldWUuc3BsaWNlKDAsIGkgKyAxKSwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzRmx1c2hpbmcgPSAhMTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIHZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpO1xuICAgIHZhciBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKSxcbiAgICAgIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcixcbiAgICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudCA9IHt9LFxuICAgICAgUmVhY3ROb29wVXBkYXRlUXVldWUgPSB7XG4gICAgICAgIGlzTW91bnRlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZUZvcmNlVXBkYXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJmb3JjZVVwZGF0ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwicmVwbGFjZVN0YXRlXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlU2V0U3RhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcInNldFN0YXRlXCIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbixcbiAgICAgIGVtcHR5T2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmZyZWV6ZShlbXB0eU9iamVjdCk7XG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgIT09IHR5cGVvZiBwYXJ0aWFsU3RhdGUgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcGFydGlhbFN0YXRlICYmXG4gICAgICAgIG51bGwgIT0gcGFydGlhbFN0YXRlXG4gICAgICApXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwidGFrZXMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcyB0byB1cGRhdGUgb3IgYSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuXCJcbiAgICAgICAgKTtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlU2V0U3RhdGUodGhpcywgcGFydGlhbFN0YXRlLCBjYWxsYmFjaywgXCJzZXRTdGF0ZVwiKTtcbiAgICB9O1xuICAgIENvbXBvbmVudC5wcm90b3R5cGUuZm9yY2VVcGRhdGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlRm9yY2VVcGRhdGUodGhpcywgY2FsbGJhY2ssIFwiZm9yY2VVcGRhdGVcIik7XG4gICAgfTtcbiAgICB2YXIgZGVwcmVjYXRlZEFQSXMgPSB7XG4gICAgICAgIGlzTW91bnRlZDogW1xuICAgICAgICAgIFwiaXNNb3VudGVkXCIsXG4gICAgICAgICAgXCJJbnN0ZWFkLCBtYWtlIHN1cmUgdG8gY2xlYW4gdXAgc3Vic2NyaXB0aW9ucyBhbmQgcGVuZGluZyByZXF1ZXN0cyBpbiBjb21wb25lbnRXaWxsVW5tb3VudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy5cIlxuICAgICAgICBdLFxuICAgICAgICByZXBsYWNlU3RhdGU6IFtcbiAgICAgICAgICBcInJlcGxhY2VTdGF0ZVwiLFxuICAgICAgICAgIFwiUmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBzZXRTdGF0ZSBpbnN0ZWFkIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS5cIlxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgZm5OYW1lO1xuICAgIGZvciAoZm5OYW1lIGluIGRlcHJlY2F0ZWRBUElzKVxuICAgICAgZGVwcmVjYXRlZEFQSXMuaGFzT3duUHJvcGVydHkoZm5OYW1lKSAmJlxuICAgICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICBDb21wb25lbnREdW1teS5wcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICAgIGRlcHJlY2F0ZWRBUElzID0gUHVyZUNvbXBvbmVudC5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50RHVtbXkoKTtcbiAgICBkZXByZWNhdGVkQVBJcy5jb25zdHJ1Y3RvciA9IFB1cmVDb21wb25lbnQ7XG4gICAgYXNzaWduKGRlcHJlY2F0ZWRBUElzLCBDb21wb25lbnQucHJvdG90eXBlKTtcbiAgICBkZXByZWNhdGVkQVBJcy5pc1B1cmVSZWFjdENvbXBvbmVudCA9ICEwO1xuICAgIHZhciBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0ge1xuICAgICAgICBIOiBudWxsLFxuICAgICAgICBBOiBudWxsLFxuICAgICAgICBUOiBudWxsLFxuICAgICAgICBTOiBudWxsLFxuICAgICAgICBhY3RRdWV1ZTogbnVsbCxcbiAgICAgICAgaXNCYXRjaGluZ0xlZ2FjeTogITEsXG4gICAgICAgIGRpZFNjaGVkdWxlTGVnYWN5VXBkYXRlOiAhMSxcbiAgICAgICAgZGlkVXNlUHJvbWlzZTogITEsXG4gICAgICAgIHRocm93bkVycm9yczogW10sXG4gICAgICAgIGdldEN1cnJlbnRTdGFjazogbnVsbFxuICAgICAgfSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgZGlzYWJsZWREZXB0aCA9IDAsXG4gICAgICBwcmV2TG9nLFxuICAgICAgcHJldkluZm8sXG4gICAgICBwcmV2V2FybixcbiAgICAgIHByZXZFcnJvcixcbiAgICAgIHByZXZHcm91cCxcbiAgICAgIHByZXZHcm91cENvbGxhcHNlZCxcbiAgICAgIHByZXZHcm91cEVuZDtcbiAgICBkaXNhYmxlZExvZy5fX3JlYWN0RGlzYWJsZWRMb2cgPSAhMDtcbiAgICB2YXIgcHJlZml4LFxuICAgICAgc3VmZml4LFxuICAgICAgcmVlbnRyeSA9ICExO1xuICAgIHZhciBjb21wb25lbnRGcmFtZUNhY2hlID0gbmV3IChcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtNYXAgPyBXZWFrTWFwIDogTWFwXG4gICAgKSgpO1xuICAgIHZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bixcbiAgICAgIGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWU7XG4gICAgdmFyIGRpZFdhcm5BYm91dEVsZW1lbnRSZWYgPSB7fTtcbiAgICB2YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge30sXG4gICAgICBkaWRXYXJuQWJvdXRNYXBzID0gITEsXG4gICAgICB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCA9IC9cXC8rL2csXG4gICAgICByZXBvcnRHbG9iYWxFcnJvciA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlcG9ydEVycm9yXG4gICAgICAgICAgPyByZXBvcnRFcnJvclxuICAgICAgICAgIDogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygd2luZG93ICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygd2luZG93LkVycm9yRXZlbnRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IHdpbmRvdy5FcnJvckV2ZW50KFwiZXJyb3JcIiwge1xuICAgICAgICAgICAgICAgICAgYnViYmxlczogITAsXG4gICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgID8gU3RyaW5nKGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCkpIHJldHVybjtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcHJvY2VzcyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByb2Nlc3MuZW1pdFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoXCJ1bmNhdWdodEV4Y2VwdGlvblwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgIGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsID0gITEsXG4gICAgICBlbnF1ZXVlVGFza0ltcGwgPSBudWxsLFxuICAgICAgYWN0U2NvcGVEZXB0aCA9IDAsXG4gICAgICBkaWRXYXJuTm9Bd2FpdEFjdCA9ICExLFxuICAgICAgaXNGbHVzaGluZyA9ICExLFxuICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHF1ZXVlTWljcm90YXNrXG4gICAgICAgICAgPyBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZU1pY3JvdGFzayhjYWxsYmFjayk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIDogZW5xdWV1ZVRhc2s7XG4gICAgZXhwb3J0cy5DaGlsZHJlbiA9IHtcbiAgICAgIG1hcDogbWFwQ2hpbGRyZW4sXG4gICAgICBmb3JFYWNoOiBmdW5jdGlvbiAoY2hpbGRyZW4sIGZvckVhY2hGdW5jLCBmb3JFYWNoQ29udGV4dCkge1xuICAgICAgICBtYXBDaGlsZHJlbihcbiAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmb3JFYWNoRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZm9yRWFjaENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBjb3VudDogZnVuY3Rpb24gKGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbjtcbiAgICAgIH0sXG4gICAgICB0b0FycmF5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgfSkgfHwgW11cbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBvbmx5OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChjaGlsZHJlbikpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0LkNoaWxkcmVuLm9ubHkgZXhwZWN0ZWQgdG8gcmVjZWl2ZSBhIHNpbmdsZSBSZWFjdCBlbGVtZW50IGNoaWxkLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5Qcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG4gICAgZXhwb3J0cy5QdXJlQ29tcG9uZW50ID0gUHVyZUNvbXBvbmVudDtcbiAgICBleHBvcnRzLlN0cmljdE1vZGUgPSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xuICAgIGV4cG9ydHMuU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuICAgIGV4cG9ydHMuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFID1cbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzO1xuICAgIGV4cG9ydHMuYWN0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgcHJldkFjdFF1ZXVlID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUsXG4gICAgICAgIHByZXZBY3RTY29wZURlcHRoID0gYWN0U2NvcGVEZXB0aDtcbiAgICAgIGFjdFNjb3BlRGVwdGgrKztcbiAgICAgIHZhciBxdWV1ZSA9IChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9XG4gICAgICAgICAgbnVsbCAhPT0gcHJldkFjdFF1ZXVlID8gcHJldkFjdFF1ZXVlIDogW10pLFxuICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjYWxsYmFjaygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgfVxuICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpLFxuICAgICAgICAgIChjYWxsYmFjayA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIGNhbGxiYWNrKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSByZXN1bHQgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJlc3VsdCAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXN1bHQudGhlblxuICAgICAgKSB7XG4gICAgICAgIHZhciB0aGVuYWJsZSA9IHJlc3VsdDtcbiAgICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZGlkQXdhaXRBY3RDYWxsIHx8XG4gICAgICAgICAgICBkaWRXYXJuTm9Bd2FpdEFjdCB8fFxuICAgICAgICAgICAgKChkaWRXYXJuTm9Bd2FpdEFjdCA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IGNhbGxlZCBhY3QoYXN5bmMgKCkgPT4gLi4uKSB3aXRob3V0IGF3YWl0LiBUaGlzIGNvdWxkIGxlYWQgdG8gdW5leHBlY3RlZCB0ZXN0aW5nIGJlaGF2aW91ciwgaW50ZXJsZWF2aW5nIG11bHRpcGxlIGFjdCBjYWxscyBhbmQgbWl4aW5nIHRoZWlyIHNjb3Blcy4gWW91IHNob3VsZCAtIGF3YWl0IGFjdChhc3luYyAoKSA9PiAuLi4pO1wiXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZGlkQXdhaXRBY3RDYWxsID0gITA7XG4gICAgICAgICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICAgICAgICBmdW5jdGlvbiAocmV0dXJuVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gcHJldkFjdFNjb3BlRGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZsdXNoQWN0UXVldWUocXVldWUpLFxuICAgICAgICAgICAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IkMikge1xuICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvciQyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3Rocm93bkVycm9yID0gYWdncmVnYXRlRXJyb3JzKFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9yc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KF90aHJvd25FcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgICAgICAgICAgICAwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgPyAoKGVycm9yID0gYWdncmVnYXRlRXJyb3JzKFxuICAgICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9yc1xuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKSlcbiAgICAgICAgICAgICAgICAgIDogcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICB2YXIgcmV0dXJuVmFsdWUkanNjb21wJDAgPSByZXN1bHQ7XG4gICAgICBwb3BBY3RTY29wZShwcmV2QWN0UXVldWUsIHByZXZBY3RTY29wZURlcHRoKTtcbiAgICAgIDAgPT09IHByZXZBY3RTY29wZURlcHRoICYmXG4gICAgICAgIChmbHVzaEFjdFF1ZXVlKHF1ZXVlKSxcbiAgICAgICAgMCAhPT0gcXVldWUubGVuZ3RoICYmXG4gICAgICAgICAgcXVldWVTZXZlcmFsTWljcm90YXNrcyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgfHxcbiAgICAgICAgICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgfHxcbiAgICAgICAgICAgICAgKChkaWRXYXJuTm9Bd2FpdEFjdCA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIkEgY29tcG9uZW50IHN1c3BlbmRlZCBpbnNpZGUgYW4gYGFjdGAgc2NvcGUsIGJ1dCB0aGUgYGFjdGAgY2FsbCB3YXMgbm90IGF3YWl0ZWQuIFdoZW4gdGVzdGluZyBSZWFjdCBjb21wb25lbnRzIHRoYXQgZGVwZW5kIG9uIGFzeW5jaHJvbm91cyBkYXRhLCB5b3UgbXVzdCBhd2FpdCB0aGUgcmVzdWx0OlxcblxcbmF3YWl0IGFjdCgoKSA9PiAuLi4pXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgfSksXG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSA9IG51bGwpKTtcbiAgICAgIGlmICgwIDwgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aClcbiAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICgoY2FsbGJhY2sgPSBhZ2dyZWdhdGVFcnJvcnMoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwKSxcbiAgICAgICAgICBjYWxsYmFjaylcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMDtcbiAgICAgICAgICAwID09PSBwcmV2QWN0U2NvcGVEZXB0aFxuICAgICAgICAgICAgPyAoKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gcXVldWUpLFxuICAgICAgICAgICAgICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsoXG4gICAgICAgICAgICAgICAgICByZXR1cm5WYWx1ZSRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUsXG4gICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIDogcmVzb2x2ZShyZXR1cm5WYWx1ZSRqc2NvbXAkMCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLmNhY2hlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLmNsb25lRWxlbWVudCA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICBpZiAobnVsbCA9PT0gZWxlbWVudCB8fCB2b2lkIDAgPT09IGVsZW1lbnQpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiVGhlIGFyZ3VtZW50IG11c3QgYmUgYSBSZWFjdCBlbGVtZW50LCBidXQgeW91IHBhc3NlZCBcIiArXG4gICAgICAgICAgICBlbGVtZW50ICtcbiAgICAgICAgICAgIFwiLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgcHJvcHMgPSBhc3NpZ24oe30sIGVsZW1lbnQucHJvcHMpLFxuICAgICAgICBrZXkgPSBlbGVtZW50LmtleSxcbiAgICAgICAgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIGlmIChudWxsICE9IGNvbmZpZykge1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0O1xuICAgICAgICBhOiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwicmVmXCIpICYmXG4gICAgICAgICAgICAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgICBcInJlZlwiXG4gICAgICAgICAgICApLmdldCkgJiZcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5pc1JlYWN0V2FybmluZ1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSB2b2lkIDAgIT09IGNvbmZpZy5yZWY7XG4gICAgICAgIH1cbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ICYmIChvd25lciA9IGdldE93bmVyKCkpO1xuICAgICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgICAgKGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSksIChrZXkgPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICAhaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSB8fFxuICAgICAgICAgICAgXCJrZXlcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zZWxmXCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICBcIl9fc291cmNlXCIgPT09IHByb3BOYW1lIHx8XG4gICAgICAgICAgICAoXCJyZWZcIiA9PT0gcHJvcE5hbWUgJiYgdm9pZCAwID09PSBjb25maWcucmVmKSB8fFxuICAgICAgICAgICAgKHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgfVxuICAgICAgdmFyIHByb3BOYW1lID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG4gICAgICBpZiAoMSA9PT0gcHJvcE5hbWUpIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBlbHNlIGlmICgxIDwgcHJvcE5hbWUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gQXJyYXkocHJvcE5hbWUpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BOYW1lOyBpKyspXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0W2ldID0gYXJndW1lbnRzW2kgKyAyXTtcbiAgICAgICAgcHJvcHMuY2hpbGRyZW4gPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICB9XG4gICAgICBwcm9wcyA9IFJlYWN0RWxlbWVudChlbGVtZW50LnR5cGUsIGtleSwgdm9pZCAwLCB2b2lkIDAsIG93bmVyLCBwcm9wcyk7XG4gICAgICBmb3IgKGtleSA9IDI7IGtleSA8IGFyZ3VtZW50cy5sZW5ndGg7IGtleSsrKVxuICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNba2V5XSwgcHJvcHMudHlwZSk7XG4gICAgICByZXR1cm4gcHJvcHM7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICAgIF9jdXJyZW50VmFsdWU6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTI6IGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgX3RocmVhZENvdW50OiAwLFxuICAgICAgICBQcm92aWRlcjogbnVsbCxcbiAgICAgICAgQ29uc3VtZXI6IG51bGxcbiAgICAgIH07XG4gICAgICBkZWZhdWx0VmFsdWUuUHJvdmlkZXIgPSBkZWZhdWx0VmFsdWU7XG4gICAgICBkZWZhdWx0VmFsdWUuQ29uc3VtZXIgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05TVU1FUl9UWVBFLFxuICAgICAgICBfY29udGV4dDogZGVmYXVsdFZhbHVlXG4gICAgICB9O1xuICAgICAgZGVmYXVsdFZhbHVlLl9jdXJyZW50UmVuZGVyZXIgPSBudWxsO1xuICAgICAgZGVmYXVsdFZhbHVlLl9jdXJyZW50UmVuZGVyZXIyID0gbnVsbDtcbiAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZUVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSwgY29uZmlnLCBjaGlsZHJlbikge1xuICAgICAgaWYgKGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSlcbiAgICAgICAgZm9yICh2YXIgaSA9IDI7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCB0eXBlKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpID0gXCJcIjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHZvaWQgMCA9PT0gdHlwZSB8fFxuICAgICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgMCA9PT0gT2JqZWN0LmtleXModHlwZSkubGVuZ3RoKVxuICAgICAgICApXG4gICAgICAgICAgaSArPVxuICAgICAgICAgICAgXCIgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgICAgICBpZiAobnVsbCA9PT0gdHlwZSkgdmFyIHR5cGVTdHJpbmcgPSBcIm51bGxcIjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGlzQXJyYXlJbXBsKHR5cGUpXG4gICAgICAgICAgICA/ICh0eXBlU3RyaW5nID0gXCJhcnJheVwiKVxuICAgICAgICAgICAgOiB2b2lkIDAgIT09IHR5cGUgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICAgICAgICAgID8gKCh0eXBlU3RyaW5nID1cbiAgICAgICAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgICAgICAgIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIlVua25vd25cIikgK1xuICAgICAgICAgICAgICAgICAgXCIgLz5cIiksXG4gICAgICAgICAgICAgICAgKGkgPVxuICAgICAgICAgICAgICAgICAgXCIgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD9cIikpXG4gICAgICAgICAgICAgIDogKHR5cGVTdHJpbmcgPSB0eXBlb2YgdHlwZSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZWFjdC5jcmVhdGVFbGVtZW50OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzXCIsXG4gICAgICAgICAgdHlwZVN0cmluZyxcbiAgICAgICAgICBpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcE5hbWU7XG4gICAgICBpID0ge307XG4gICAgICB0eXBlU3RyaW5nID0gbnVsbDtcbiAgICAgIGlmIChudWxsICE9IGNvbmZpZylcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiAoZGlkV2FybkFib3V0T2xkSlNYUnVudGltZSB8fFxuICAgICAgICAgICEoXCJfX3NlbGZcIiBpbiBjb25maWcpIHx8XG4gICAgICAgICAgXCJrZXlcIiBpbiBjb25maWcgfHxcbiAgICAgICAgICAoKGRpZFdhcm5BYm91dE9sZEpTWFJ1bnRpbWUgPSAhMCksXG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgXCJZb3VyIGFwcCAob3Igb25lIG9mIGl0cyBkZXBlbmRlbmNpZXMpIGlzIHVzaW5nIGFuIG91dGRhdGVkIEpTWCB0cmFuc2Zvcm0uIFVwZGF0ZSB0byB0aGUgbW9kZXJuIEpTWCB0cmFuc2Zvcm0gZm9yIGZhc3RlciBwZXJmb3JtYW5jZTogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9uZXctanN4LXRyYW5zZm9ybVwiXG4gICAgICAgICAgKSksXG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKHR5cGVTdHJpbmcgPSBcIlwiICsgY29uZmlnLmtleSkpLFxuICAgICAgICBjb25maWcpKVxuICAgICAgICAgIGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiZcbiAgICAgICAgICAgIFwia2V5XCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICBcIl9fc2VsZlwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgXCJfX3NvdXJjZVwiICE9PSBwcm9wTmFtZSAmJlxuICAgICAgICAgICAgKGlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB2YXIgY2hpbGRyZW5MZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBjaGlsZHJlbkxlbmd0aCkgaS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgICAgZWxzZSBpZiAoMSA8IGNoaWxkcmVuTGVuZ3RoKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCksIF9pID0gMDtcbiAgICAgICAgICBfaSA8IGNoaWxkcmVuTGVuZ3RoO1xuICAgICAgICAgIF9pKytcbiAgICAgICAgKVxuICAgICAgICAgIGNoaWxkQXJyYXlbX2ldID0gYXJndW1lbnRzW19pICsgMl07XG4gICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZEFycmF5KTtcbiAgICAgICAgaS5jaGlsZHJlbiA9IGNoaWxkQXJyYXk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcylcbiAgICAgICAgZm9yIChwcm9wTmFtZSBpbiAoKGNoaWxkcmVuTGVuZ3RoID0gdHlwZS5kZWZhdWx0UHJvcHMpLCBjaGlsZHJlbkxlbmd0aCkpXG4gICAgICAgICAgdm9pZCAwID09PSBpW3Byb3BOYW1lXSAmJiAoaVtwcm9wTmFtZV0gPSBjaGlsZHJlbkxlbmd0aFtwcm9wTmFtZV0pO1xuICAgICAgdHlwZVN0cmluZyAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBpLFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGVcbiAgICAgICAgICAgID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgXCJVbmtub3duXCJcbiAgICAgICAgICAgIDogdHlwZVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCB0eXBlU3RyaW5nLCB2b2lkIDAsIHZvaWQgMCwgZ2V0T3duZXIoKSwgaSk7XG4gICAgfTtcbiAgICBleHBvcnRzLmNyZWF0ZVJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZWZPYmplY3QgPSB7IGN1cnJlbnQ6IG51bGwgfTtcbiAgICAgIE9iamVjdC5zZWFsKHJlZk9iamVjdCk7XG4gICAgICByZXR1cm4gcmVmT2JqZWN0O1xuICAgIH07XG4gICAgZXhwb3J0cy5mb3J3YXJkUmVmID0gZnVuY3Rpb24gKHJlbmRlcikge1xuICAgICAgbnVsbCAhPSByZW5kZXIgJiYgcmVuZGVyLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEVcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCByZWNlaXZlZCBhIGBtZW1vYCBjb21wb25lbnQuIEluc3RlYWQgb2YgZm9yd2FyZFJlZihtZW1vKC4uLikpLCB1c2UgbWVtbyhmb3J3YXJkUmVmKC4uLikpLlwiXG4gICAgICAgICAgKVxuICAgICAgICA6IFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJlbmRlclxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlcXVpcmVzIGEgcmVuZGVyIGZ1bmN0aW9uIGJ1dCB3YXMgZ2l2ZW4gJXMuXCIsXG4gICAgICAgICAgICAgIG51bGwgPT09IHJlbmRlciA/IFwibnVsbFwiIDogdHlwZW9mIHJlbmRlclxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogMCAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgMiAhPT0gcmVuZGVyLmxlbmd0aCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgYWNjZXB0IGV4YWN0bHkgdHdvIHBhcmFtZXRlcnM6IHByb3BzIGFuZCByZWYuICVzXCIsXG4gICAgICAgICAgICAgIDEgPT09IHJlbmRlci5sZW5ndGhcbiAgICAgICAgICAgICAgICA/IFwiRGlkIHlvdSBmb3JnZXQgdG8gdXNlIHRoZSByZWYgcGFyYW1ldGVyP1wiXG4gICAgICAgICAgICAgICAgOiBcIkFueSBhZGRpdGlvbmFsIHBhcmFtZXRlciB3aWxsIGJlIHVuZGVmaW5lZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgIG51bGwgIT0gcmVuZGVyICYmXG4gICAgICAgIG51bGwgIT0gcmVuZGVyLmRlZmF1bHRQcm9wcyAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGRvIG5vdCBzdXBwb3J0IGRlZmF1bHRQcm9wcy4gRGlkIHlvdSBhY2NpZGVudGFsbHkgcGFzcyBhIFJlYWN0IGNvbXBvbmVudD9cIlxuICAgICAgICApO1xuICAgICAgdmFyIGVsZW1lbnRUeXBlID0geyAkJHR5cGVvZjogUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSwgcmVuZGVyOiByZW5kZXIgfSxcbiAgICAgICAgb3duTmFtZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50VHlwZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHJlbmRlci5uYW1lIHx8XG4gICAgICAgICAgICByZW5kZXIuZGlzcGxheU5hbWUgfHxcbiAgICAgICAgICAgIChPYmplY3QuZGVmaW5lUHJvcGVydHkocmVuZGVyLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgIChyZW5kZXIuZGlzcGxheU5hbWUgPSBuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGVsZW1lbnRUeXBlO1xuICAgIH07XG4gICAgZXhwb3J0cy5pc1ZhbGlkRWxlbWVudCA9IGlzVmFsaWRFbGVtZW50O1xuICAgIGV4cG9ydHMubGF6eSA9IGZ1bmN0aW9uIChjdG9yKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfTEFaWV9UWVBFLFxuICAgICAgICBfcGF5bG9hZDogeyBfc3RhdHVzOiAtMSwgX3Jlc3VsdDogY3RvciB9LFxuICAgICAgICBfaW5pdDogbGF6eUluaXRpYWxpemVyXG4gICAgICB9O1xuICAgIH07XG4gICAgZXhwb3J0cy5tZW1vID0gZnVuY3Rpb24gKHR5cGUsIGNvbXBhcmUpIHtcbiAgICAgIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwibWVtbzogVGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBjb21wb25lbnQuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXCIsXG4gICAgICAgICAgbnVsbCA9PT0gdHlwZSA/IFwibnVsbFwiIDogdHlwZW9mIHR5cGVcbiAgICAgICAgKTtcbiAgICAgIGNvbXBhcmUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9NRU1PX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGNvbXBhcmU6IHZvaWQgMCA9PT0gY29tcGFyZSA/IG51bGwgOiBjb21wYXJlXG4gICAgICB9O1xuICAgICAgdmFyIG93bk5hbWU7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29tcGFyZSwgXCJkaXNwbGF5TmFtZVwiLCB7XG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gb3duTmFtZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIG93bk5hbWUgPSBuYW1lO1xuICAgICAgICAgIHR5cGUubmFtZSB8fFxuICAgICAgICAgICAgdHlwZS5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KSxcbiAgICAgICAgICAgICh0eXBlLmRpc3BsYXlOYW1lID0gbmFtZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjb21wYXJlO1xuICAgIH07XG4gICAgZXhwb3J0cy5zdGFydFRyYW5zaXRpb24gPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0ge307XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gY3VycmVudFRyYW5zaXRpb247XG4gICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHNjb3BlKCksXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgICAgICBudWxsICE9PSBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKGN1cnJlbnRUcmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiAmJlxuICAgICAgICAgIHJldHVyblZhbHVlLnRoZW4obm9vcCwgcmVwb3J0R2xvYmFsRXJyb3IpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgbnVsbCA9PT0gcHJldlRyYW5zaXRpb24gJiZcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICgoc2NvcGUgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5jbGVhcigpLFxuICAgICAgICAgIDEwIDwgc2NvcGUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJEZXRlY3RlZCBhIGxhcmdlIG51bWJlciBvZiB1cGRhdGVzIGluc2lkZSBzdGFydFRyYW5zaXRpb24uIElmIHRoaXMgaXMgZHVlIHRvIGEgc3Vic2NyaXB0aW9uIHBsZWFzZSByZS13cml0ZSBpdCB0byB1c2UgUmVhY3QgcHJvdmlkZWQgaG9va3MuIE90aGVyd2lzZSBjb25jdXJyZW50IG1vZGUgZ3VhcmFudGVlcyBhcmUgb2ZmIHRoZSB0YWJsZS5cIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbik7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3VzZUNhY2hlUmVmcmVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUNhY2hlUmVmcmVzaCgpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2UgPSBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2UodXNhYmxlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uLCBpbml0aWFsU3RhdGUsIHBlcm1hbGluaykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQWN0aW9uU3RhdGUoXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgICBwZXJtYWxpbmtcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUNvbnRleHQgPSBmdW5jdGlvbiAoQ29udGV4dCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuICAgICAgQ29udGV4dC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OU1VNRVJfVFlQRSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQ2FsbGluZyB1c2VDb250ZXh0KENvbnRleHQuQ29uc3VtZXIpIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgY2F1c2UgYnVncy4gRGlkIHlvdSBtZWFuIHRvIGNhbGwgdXNlQ29udGV4dChDb250ZXh0KSBpbnN0ZWFkP1wiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlci51c2VDb250ZXh0KENvbnRleHQpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWJ1Z1ZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBmb3JtYXR0ZXJGbikge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRGVidWdWYWx1ZSh2YWx1ZSwgZm9ybWF0dGVyRm4pO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VEZWZlcnJlZFZhbHVlID0gZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUlkKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUltcGVyYXRpdmVIYW5kbGUgPSBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VJbnNlcnRpb25FZmZlY3QgPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VJbnNlcnRpb25FZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTGF5b3V0RWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlTGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZU1lbW8gPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAocGFzc3Rocm91Z2gsIHJlZHVjZXIpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZU9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VSZWR1Y2VyID0gZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVJlZiA9IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVJlZihpbml0aWFsVmFsdWUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VTdGF0ZSA9IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZVN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVN5bmNFeHRlcm5hbFN0b3JlID0gZnVuY3Rpb24gKFxuICAgICAgc3Vic2NyaWJlLFxuICAgICAgZ2V0U25hcHNob3QsXG4gICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VUcmFuc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlVHJhbnNpdGlvbigpO1xuICAgIH07XG4gICAgZXhwb3J0cy52ZXJzaW9uID0gXCIxOS4wLjBcIjtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgfSkoKTtcbiIsCiAgICAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogc2NoZWR1bGVyLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSgpIHtcbiAgICAgIGlmIChpc01lc3NhZ2VMb29wUnVubmluZykge1xuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBleHBvcnRzLnVuc3RhYmxlX25vdygpO1xuICAgICAgICBzdGFydFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgICAgdmFyIGhhc01vcmVXb3JrID0gITA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSAhMTtcbiAgICAgICAgICAgIGlzSG9zdFRpbWVvdXRTY2hlZHVsZWQgJiZcbiAgICAgICAgICAgICAgKChpc0hvc3RUaW1lb3V0U2NoZWR1bGVkID0gITEpLFxuICAgICAgICAgICAgICBsb2NhbENsZWFyVGltZW91dCh0YXNrVGltZW91dElEKSxcbiAgICAgICAgICAgICAgKHRhc2tUaW1lb3V0SUQgPSAtMSkpO1xuICAgICAgICAgICAgaXNQZXJmb3JtaW5nV29yayA9ICEwO1xuICAgICAgICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICAgIGFkdmFuY2VUaW1lcnMoY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50VGFzayA9IHBlZWsodGFza1F1ZXVlKTtcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRUYXNrICYmXG4gICAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzay5leHBpcmF0aW9uVGltZSA+IGN1cnJlbnRUaW1lICYmXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFlpZWxkVG9Ib3N0KClcbiAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGN1cnJlbnRUYXNrLmNhbGxiYWNrO1xuICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrLmNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBjdXJyZW50VGFzay5wcmlvcml0eUxldmVsO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGludWF0aW9uQ2FsbGJhY2sgPSBjYWxsYmFjayhcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFzay5leHBpcmF0aW9uVGltZSA8PSBjdXJyZW50VGltZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGltZSA9IGV4cG9ydHMudW5zdGFibGVfbm93KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjb250aW51YXRpb25DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrLmNhbGxiYWNrID0gY29udGludWF0aW9uQ2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgICAgaGFzTW9yZVdvcmsgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrID09PSBwZWVrKHRhc2tRdWV1ZSkgJiYgcG9wKHRhc2tRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkdmFuY2VUaW1lcnMoY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHBvcCh0YXNrUXVldWUpO1xuICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2sgPSBwZWVrKHRhc2tRdWV1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50VGFzaykgaGFzTW9yZVdvcmsgPSAhMDtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhciBmaXJzdFRpbWVyID0gcGVlayh0aW1lclF1ZXVlKTtcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGZpcnN0VGltZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhvc3RUaW1lb3V0KFxuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVRpbWVvdXQsXG4gICAgICAgICAgICAgICAgICAgICAgZmlyc3RUaW1lci5zdGFydFRpbWUgLSBjdXJyZW50VGltZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgaGFzTW9yZVdvcmsgPSAhMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIChjdXJyZW50VGFzayA9IG51bGwpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbCksXG4gICAgICAgICAgICAgICAgKGlzUGVyZm9ybWluZ1dvcmsgPSAhMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYXNNb3JlV29yayA9IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaGFzTW9yZVdvcmtcbiAgICAgICAgICAgID8gc2NoZWR1bGVQZXJmb3JtV29ya1VudGlsRGVhZGxpbmUoKVxuICAgICAgICAgICAgOiAoaXNNZXNzYWdlTG9vcFJ1bm5pbmcgPSAhMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaChoZWFwLCBub2RlKSB7XG4gICAgICB2YXIgaW5kZXggPSBoZWFwLmxlbmd0aDtcbiAgICAgIGhlYXAucHVzaChub2RlKTtcbiAgICAgIGE6IGZvciAoOyAwIDwgaW5kZXg7ICkge1xuICAgICAgICB2YXIgcGFyZW50SW5kZXggPSAoaW5kZXggLSAxKSA+Pj4gMSxcbiAgICAgICAgICBwYXJlbnQgPSBoZWFwW3BhcmVudEluZGV4XTtcbiAgICAgICAgaWYgKDAgPCBjb21wYXJlKHBhcmVudCwgbm9kZSkpXG4gICAgICAgICAgKGhlYXBbcGFyZW50SW5kZXhdID0gbm9kZSksXG4gICAgICAgICAgICAoaGVhcFtpbmRleF0gPSBwYXJlbnQpLFxuICAgICAgICAgICAgKGluZGV4ID0gcGFyZW50SW5kZXgpO1xuICAgICAgICBlbHNlIGJyZWFrIGE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZWsoaGVhcCkge1xuICAgICAgcmV0dXJuIDAgPT09IGhlYXAubGVuZ3RoID8gbnVsbCA6IGhlYXBbMF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcChoZWFwKSB7XG4gICAgICBpZiAoMCA9PT0gaGVhcC5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgdmFyIGZpcnN0ID0gaGVhcFswXSxcbiAgICAgICAgbGFzdCA9IGhlYXAucG9wKCk7XG4gICAgICBpZiAobGFzdCAhPT0gZmlyc3QpIHtcbiAgICAgICAgaGVhcFswXSA9IGxhc3Q7XG4gICAgICAgIGE6IGZvciAoXG4gICAgICAgICAgdmFyIGluZGV4ID0gMCwgbGVuZ3RoID0gaGVhcC5sZW5ndGgsIGhhbGZMZW5ndGggPSBsZW5ndGggPj4+IDE7XG4gICAgICAgICAgaW5kZXggPCBoYWxmTGVuZ3RoO1xuXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBsZWZ0SW5kZXggPSAyICogKGluZGV4ICsgMSkgLSAxLFxuICAgICAgICAgICAgbGVmdCA9IGhlYXBbbGVmdEluZGV4XSxcbiAgICAgICAgICAgIHJpZ2h0SW5kZXggPSBsZWZ0SW5kZXggKyAxLFxuICAgICAgICAgICAgcmlnaHQgPSBoZWFwW3JpZ2h0SW5kZXhdO1xuICAgICAgICAgIGlmICgwID4gY29tcGFyZShsZWZ0LCBsYXN0KSlcbiAgICAgICAgICAgIHJpZ2h0SW5kZXggPCBsZW5ndGggJiYgMCA+IGNvbXBhcmUocmlnaHQsIGxlZnQpXG4gICAgICAgICAgICAgID8gKChoZWFwW2luZGV4XSA9IHJpZ2h0KSxcbiAgICAgICAgICAgICAgICAoaGVhcFtyaWdodEluZGV4XSA9IGxhc3QpLFxuICAgICAgICAgICAgICAgIChpbmRleCA9IHJpZ2h0SW5kZXgpKVxuICAgICAgICAgICAgICA6ICgoaGVhcFtpbmRleF0gPSBsZWZ0KSxcbiAgICAgICAgICAgICAgICAoaGVhcFtsZWZ0SW5kZXhdID0gbGFzdCksXG4gICAgICAgICAgICAgICAgKGluZGV4ID0gbGVmdEluZGV4KSk7XG4gICAgICAgICAgZWxzZSBpZiAocmlnaHRJbmRleCA8IGxlbmd0aCAmJiAwID4gY29tcGFyZShyaWdodCwgbGFzdCkpXG4gICAgICAgICAgICAoaGVhcFtpbmRleF0gPSByaWdodCksXG4gICAgICAgICAgICAgIChoZWFwW3JpZ2h0SW5kZXhdID0gbGFzdCksXG4gICAgICAgICAgICAgIChpbmRleCA9IHJpZ2h0SW5kZXgpO1xuICAgICAgICAgIGVsc2UgYnJlYWsgYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZpcnN0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wYXJlKGEsIGIpIHtcbiAgICAgIHZhciBkaWZmID0gYS5zb3J0SW5kZXggLSBiLnNvcnRJbmRleDtcbiAgICAgIHJldHVybiAwICE9PSBkaWZmID8gZGlmZiA6IGEuaWQgLSBiLmlkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKSB7XG4gICAgICBmb3IgKHZhciB0aW1lciA9IHBlZWsodGltZXJRdWV1ZSk7IG51bGwgIT09IHRpbWVyOyApIHtcbiAgICAgICAgaWYgKG51bGwgPT09IHRpbWVyLmNhbGxiYWNrKSBwb3AodGltZXJRdWV1ZSk7XG4gICAgICAgIGVsc2UgaWYgKHRpbWVyLnN0YXJ0VGltZSA8PSBjdXJyZW50VGltZSlcbiAgICAgICAgICBwb3AodGltZXJRdWV1ZSksXG4gICAgICAgICAgICAodGltZXIuc29ydEluZGV4ID0gdGltZXIuZXhwaXJhdGlvblRpbWUpLFxuICAgICAgICAgICAgcHVzaCh0YXNrUXVldWUsIHRpbWVyKTtcbiAgICAgICAgZWxzZSBicmVhaztcbiAgICAgICAgdGltZXIgPSBwZWVrKHRpbWVyUXVldWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KGN1cnJlbnRUaW1lKSB7XG4gICAgICBpc0hvc3RUaW1lb3V0U2NoZWR1bGVkID0gITE7XG4gICAgICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgICAgIGlmICghaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQpXG4gICAgICAgIGlmIChudWxsICE9PSBwZWVrKHRhc2tRdWV1ZSkpXG4gICAgICAgICAgKGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITApLCByZXF1ZXN0SG9zdENhbGxiYWNrKCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBmaXJzdFRpbWVyID0gcGVlayh0aW1lclF1ZXVlKTtcbiAgICAgICAgICBudWxsICE9PSBmaXJzdFRpbWVyICYmXG4gICAgICAgICAgICByZXF1ZXN0SG9zdFRpbWVvdXQoXG4gICAgICAgICAgICAgIGhhbmRsZVRpbWVvdXQsXG4gICAgICAgICAgICAgIGZpcnN0VGltZXIuc3RhcnRUaW1lIC0gY3VycmVudFRpbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkWWllbGRUb0hvc3QoKSB7XG4gICAgICByZXR1cm4gZXhwb3J0cy51bnN0YWJsZV9ub3coKSAtIHN0YXJ0VGltZSA8IGZyYW1lSW50ZXJ2YWwgPyAhMSA6ICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0SG9zdENhbGxiYWNrKCkge1xuICAgICAgaXNNZXNzYWdlTG9vcFJ1bm5pbmcgfHxcbiAgICAgICAgKChpc01lc3NhZ2VMb29wUnVubmluZyA9ICEwKSwgc2NoZWR1bGVQZXJmb3JtV29ya1VudGlsRGVhZGxpbmUoKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3RIb3N0VGltZW91dChjYWxsYmFjaywgbXMpIHtcbiAgICAgIHRhc2tUaW1lb3V0SUQgPSBsb2NhbFNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhleHBvcnRzLnVuc3RhYmxlX25vdygpKTtcbiAgICAgIH0sIG1zKTtcbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChFcnJvcigpKTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX25vdyA9IHZvaWQgMDtcbiAgICBpZiAoXG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcGVyZm9ybWFuY2UgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHBlcmZvcm1hbmNlLm5vd1xuICAgICkge1xuICAgICAgdmFyIGxvY2FsUGVyZm9ybWFuY2UgPSBwZXJmb3JtYW5jZTtcbiAgICAgIGV4cG9ydHMudW5zdGFibGVfbm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbG9jYWxQZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBsb2NhbERhdGUgPSBEYXRlLFxuICAgICAgICBpbml0aWFsVGltZSA9IGxvY2FsRGF0ZS5ub3coKTtcbiAgICAgIGV4cG9ydHMudW5zdGFibGVfbm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbG9jYWxEYXRlLm5vdygpIC0gaW5pdGlhbFRpbWU7XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgdGFza1F1ZXVlID0gW10sXG4gICAgICB0aW1lclF1ZXVlID0gW10sXG4gICAgICB0YXNrSWRDb3VudGVyID0gMSxcbiAgICAgIGN1cnJlbnRUYXNrID0gbnVsbCxcbiAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gMyxcbiAgICAgIGlzUGVyZm9ybWluZ1dvcmsgPSAhMSxcbiAgICAgIGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkID0gITEsXG4gICAgICBpc0hvc3RUaW1lb3V0U2NoZWR1bGVkID0gITEsXG4gICAgICBsb2NhbFNldFRpbWVvdXQgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzZXRUaW1lb3V0ID8gc2V0VGltZW91dCA6IG51bGwsXG4gICAgICBsb2NhbENsZWFyVGltZW91dCA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNsZWFyVGltZW91dCA/IGNsZWFyVGltZW91dCA6IG51bGwsXG4gICAgICBsb2NhbFNldEltbWVkaWF0ZSA9XG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBzZXRJbW1lZGlhdGUgPyBzZXRJbW1lZGlhdGUgOiBudWxsLFxuICAgICAgaXNNZXNzYWdlTG9vcFJ1bm5pbmcgPSAhMSxcbiAgICAgIHRhc2tUaW1lb3V0SUQgPSAtMSxcbiAgICAgIGZyYW1lSW50ZXJ2YWwgPSA1LFxuICAgICAgc3RhcnRUaW1lID0gLTE7XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGxvY2FsU2V0SW1tZWRpYXRlKVxuICAgICAgdmFyIHNjaGVkdWxlUGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2NhbFNldEltbWVkaWF0ZShwZXJmb3JtV29ya1VudGlsRGVhZGxpbmUpO1xuICAgICAgfTtcbiAgICBlbHNlIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgTWVzc2FnZUNoYW5uZWwpIHtcbiAgICAgIHZhciBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsKCksXG4gICAgICAgIHBvcnQgPSBjaGFubmVsLnBvcnQyO1xuICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBwZXJmb3JtV29ya1VudGlsRGVhZGxpbmU7XG4gICAgICBzY2hlZHVsZVBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcG9ydC5wb3N0TWVzc2FnZShudWxsKTtcbiAgICAgIH07XG4gICAgfSBlbHNlXG4gICAgICBzY2hlZHVsZVBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9jYWxTZXRUaW1lb3V0KHBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSwgMCk7XG4gICAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfSWRsZVByaW9yaXR5ID0gNTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX0ltbWVkaWF0ZVByaW9yaXR5ID0gMTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX0xvd1ByaW9yaXR5ID0gNDtcbiAgICBleHBvcnRzLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5ID0gMztcbiAgICBleHBvcnRzLnVuc3RhYmxlX1Byb2ZpbGluZyA9IG51bGw7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9Vc2VyQmxvY2tpbmdQcmlvcml0eSA9IDI7XG4gICAgZXhwb3J0cy51bnN0YWJsZV9jYW5jZWxDYWxsYmFjayA9IGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICB0YXNrLmNhbGxiYWNrID0gbnVsbDtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfY29udGludWVFeGVjdXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCB8fFxuICAgICAgICBpc1BlcmZvcm1pbmdXb3JrIHx8XG4gICAgICAgICgoaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSAhMCksIHJlcXVlc3RIb3N0Q2FsbGJhY2soKSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2ZvcmNlRnJhbWVSYXRlID0gZnVuY3Rpb24gKGZwcykge1xuICAgICAgMCA+IGZwcyB8fCAxMjUgPCBmcHNcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJmb3JjZUZyYW1lUmF0ZSB0YWtlcyBhIHBvc2l0aXZlIGludCBiZXR3ZWVuIDAgYW5kIDEyNSwgZm9yY2luZyBmcmFtZSByYXRlcyBoaWdoZXIgdGhhbiAxMjUgZnBzIGlzIG5vdCBzdXBwb3J0ZWRcIlxuICAgICAgICAgIClcbiAgICAgICAgOiAoZnJhbWVJbnRlcnZhbCA9IDAgPCBmcHMgPyBNYXRoLmZsb29yKDFlMyAvIGZwcykgOiA1KTtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2dldEZpcnN0Q2FsbGJhY2tOb2RlID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHBlZWsodGFza1F1ZXVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfbmV4dCA9IGZ1bmN0aW9uIChldmVudEhhbmRsZXIpIHtcbiAgICAgIHN3aXRjaCAoY3VycmVudFByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICB2YXIgcHJpb3JpdHlMZXZlbCA9IDM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgfVxuICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmlvcml0eUxldmVsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGV2ZW50SGFuZGxlcigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmV2aW91c1ByaW9yaXR5TGV2ZWw7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3BhdXNlRXhlY3V0aW9uID0gZnVuY3Rpb24gKCkge307XG4gICAgZXhwb3J0cy51bnN0YWJsZV9yZXF1ZXN0UGFpbnQgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3J1bldpdGhQcmlvcml0eSA9IGZ1bmN0aW9uIChwcmlvcml0eUxldmVsLCBldmVudEhhbmRsZXIpIHtcbiAgICAgIHN3aXRjaCAocHJpb3JpdHlMZXZlbCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICBjYXNlIDQ6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwcmlvcml0eUxldmVsID0gMztcbiAgICAgIH1cbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJpb3JpdHlMZXZlbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBldmVudEhhbmRsZXIoKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJldmlvdXNQcmlvcml0eUxldmVsO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrID0gZnVuY3Rpb24gKFxuICAgICAgcHJpb3JpdHlMZXZlbCxcbiAgICAgIGNhbGxiYWNrLFxuICAgICAgb3B0aW9uc1xuICAgICkge1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gZXhwb3J0cy51bnN0YWJsZV9ub3coKTtcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmIG51bGwgIT09IG9wdGlvbnNcbiAgICAgICAgPyAoKG9wdGlvbnMgPSBvcHRpb25zLmRlbGF5KSxcbiAgICAgICAgICAob3B0aW9ucyA9XG4gICAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJiAwIDwgb3B0aW9uc1xuICAgICAgICAgICAgICA/IGN1cnJlbnRUaW1lICsgb3B0aW9uc1xuICAgICAgICAgICAgICA6IGN1cnJlbnRUaW1lKSlcbiAgICAgICAgOiAob3B0aW9ucyA9IGN1cnJlbnRUaW1lKTtcbiAgICAgIHN3aXRjaCAocHJpb3JpdHlMZXZlbCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgdmFyIHRpbWVvdXQgPSAtMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHRpbWVvdXQgPSAyNTA7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICB0aW1lb3V0ID0gMTA3Mzc0MTgyMztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHRpbWVvdXQgPSAxZTQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGltZW91dCA9IDVlMztcbiAgICAgIH1cbiAgICAgIHRpbWVvdXQgPSBvcHRpb25zICsgdGltZW91dDtcbiAgICAgIHByaW9yaXR5TGV2ZWwgPSB7XG4gICAgICAgIGlkOiB0YXNrSWRDb3VudGVyKyssXG4gICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgcHJpb3JpdHlMZXZlbDogcHJpb3JpdHlMZXZlbCxcbiAgICAgICAgc3RhcnRUaW1lOiBvcHRpb25zLFxuICAgICAgICBleHBpcmF0aW9uVGltZTogdGltZW91dCxcbiAgICAgICAgc29ydEluZGV4OiAtMVxuICAgICAgfTtcbiAgICAgIG9wdGlvbnMgPiBjdXJyZW50VGltZVxuICAgICAgICA/ICgocHJpb3JpdHlMZXZlbC5zb3J0SW5kZXggPSBvcHRpb25zKSxcbiAgICAgICAgICBwdXNoKHRpbWVyUXVldWUsIHByaW9yaXR5TGV2ZWwpLFxuICAgICAgICAgIG51bGwgPT09IHBlZWsodGFza1F1ZXVlKSAmJlxuICAgICAgICAgICAgcHJpb3JpdHlMZXZlbCA9PT0gcGVlayh0aW1lclF1ZXVlKSAmJlxuICAgICAgICAgICAgKGlzSG9zdFRpbWVvdXRTY2hlZHVsZWRcbiAgICAgICAgICAgICAgPyAobG9jYWxDbGVhclRpbWVvdXQodGFza1RpbWVvdXRJRCksICh0YXNrVGltZW91dElEID0gLTEpKVxuICAgICAgICAgICAgICA6IChpc0hvc3RUaW1lb3V0U2NoZWR1bGVkID0gITApLFxuICAgICAgICAgICAgcmVxdWVzdEhvc3RUaW1lb3V0KGhhbmRsZVRpbWVvdXQsIG9wdGlvbnMgLSBjdXJyZW50VGltZSkpKVxuICAgICAgICA6ICgocHJpb3JpdHlMZXZlbC5zb3J0SW5kZXggPSB0aW1lb3V0KSxcbiAgICAgICAgICBwdXNoKHRhc2tRdWV1ZSwgcHJpb3JpdHlMZXZlbCksXG4gICAgICAgICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgfHxcbiAgICAgICAgICAgIGlzUGVyZm9ybWluZ1dvcmsgfHxcbiAgICAgICAgICAgICgoaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSAhMCksIHJlcXVlc3RIb3N0Q2FsbGJhY2soKSkpO1xuICAgICAgcmV0dXJuIHByaW9yaXR5TGV2ZWw7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3Nob3VsZFlpZWxkID0gc2hvdWxkWWllbGRUb0hvc3Q7XG4gICAgZXhwb3J0cy51bnN0YWJsZV93cmFwQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBwYXJlbnRQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJldmlvdXNQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcGFyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKEVycm9yKCkpO1xuICB9KSgpO1xuIiwKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1kb20uZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVQb3J0YWwkMShjaGlsZHJlbiwgY29udGFpbmVySW5mbywgaW1wbGVtZW50YXRpb24pIHtcbiAgICAgIHZhciBrZXkgPVxuICAgICAgICAzIDwgYXJndW1lbnRzLmxlbmd0aCAmJiB2b2lkIDAgIT09IGFyZ3VtZW50c1szXSA/IGFyZ3VtZW50c1szXSA6IG51bGw7XG4gICAgICB0cnkge1xuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24oa2V5KTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCAmJlxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICBrZXlbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICAgIGtleS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgICBcIk9iamVjdFwiXG4gICAgICAgICksXG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbihrZXkpKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9QT1JUQUxfVFlQRSxcbiAgICAgICAga2V5OiBudWxsID09IGtleSA/IG51bGwgOiBcIlwiICsga2V5LFxuICAgICAgICBjaGlsZHJlbjogY2hpbGRyZW4sXG4gICAgICAgIGNvbnRhaW5lckluZm86IGNvbnRhaW5lckluZm8sXG4gICAgICAgIGltcGxlbWVudGF0aW9uOiBpbXBsZW1lbnRhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhhcywgaW5wdXQpIHtcbiAgICAgIGlmIChcImZvbnRcIiA9PT0gYXMpIHJldHVybiBcIlwiO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBpbnB1dClcbiAgICAgICAgcmV0dXJuIFwidXNlLWNyZWRlbnRpYWxzXCIgPT09IGlucHV0ID8gaW5wdXQgOiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKHRoaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gdGhpbmdcbiAgICAgICAgPyBcImBudWxsYFwiXG4gICAgICAgIDogdm9pZCAwID09PSB0aGluZ1xuICAgICAgICAgID8gXCJgdW5kZWZpbmVkYFwiXG4gICAgICAgICAgOiBcIlwiID09PSB0aGluZ1xuICAgICAgICAgICAgPyBcImFuIGVtcHR5IHN0cmluZ1wiXG4gICAgICAgICAgICA6ICdzb21ldGhpbmcgd2l0aCB0eXBlIFwiJyArIHR5cGVvZiB0aGluZyArICdcIic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKHRoaW5nKSB7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gdGhpbmdcbiAgICAgICAgPyBcImBudWxsYFwiXG4gICAgICAgIDogdm9pZCAwID09PSB0aGluZ1xuICAgICAgICAgID8gXCJgdW5kZWZpbmVkYFwiXG4gICAgICAgICAgOiBcIlwiID09PSB0aGluZ1xuICAgICAgICAgICAgPyBcImFuIGVtcHR5IHN0cmluZ1wiXG4gICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGluZ1xuICAgICAgICAgICAgICA/IEpTT04uc3RyaW5naWZ5KHRoaW5nKVxuICAgICAgICAgICAgICA6IFwibnVtYmVyXCIgPT09IHR5cGVvZiB0aGluZ1xuICAgICAgICAgICAgICAgID8gXCJgXCIgKyB0aGluZyArIFwiYFwiXG4gICAgICAgICAgICAgICAgOiAnc29tZXRoaW5nIHdpdGggdHlwZSBcIicgKyB0eXBlb2YgdGhpbmcgKyAnXCInO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlRGlzcGF0Y2hlcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgIG51bGwgPT09IGRpc3BhdGNoZXIgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkludmFsaWQgaG9vayBjYWxsLiBIb29rcyBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIG9mIHRoZSBib2R5IG9mIGEgZnVuY3Rpb24gY29tcG9uZW50LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3Igb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4xLiBZb3UgbWlnaHQgaGF2ZSBtaXNtYXRjaGluZyB2ZXJzaW9ucyBvZiBSZWFjdCBhbmQgdGhlIHJlbmRlcmVyIChzdWNoIGFzIFJlYWN0IERPTSlcXG4yLiBZb3UgbWlnaHQgYmUgYnJlYWtpbmcgdGhlIFJ1bGVzIG9mIEhvb2tzXFxuMy4gWW91IG1pZ2h0IGhhdmUgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0IGluIHRoZSBzYW1lIGFwcFxcblNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtaG9vay1jYWxsIGZvciB0aXBzIGFib3V0IGhvdyB0byBkZWJ1ZyBhbmQgZml4IHRoaXMgcHJvYmxlbS5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXI7XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgdmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpLFxuICAgICAgSW50ZXJuYWxzID0ge1xuICAgICAgICBkOiB7XG4gICAgICAgICAgZjogbm9vcCxcbiAgICAgICAgICByOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIGZvcm0gZWxlbWVudC4gcmVxdWVzdEZvcm1SZXNldCBtdXN0IGJlIHBhc3NlZCBhIGZvcm0gdGhhdCB3YXMgcmVuZGVyZWQgYnkgUmVhY3QuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBEOiBub29wLFxuICAgICAgICAgIEM6IG5vb3AsXG4gICAgICAgICAgTDogbm9vcCxcbiAgICAgICAgICBtOiBub29wLFxuICAgICAgICAgIFg6IG5vb3AsXG4gICAgICAgICAgUzogbm9vcCxcbiAgICAgICAgICBNOiBub29wXG4gICAgICAgIH0sXG4gICAgICAgIHA6IDAsXG4gICAgICAgIGZpbmRET01Ob2RlOiBudWxsXG4gICAgICB9LFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREU7XG4gICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE1hcCAmJlxuICAgICAgbnVsbCAhPSBNYXAucHJvdG90eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBNYXAucHJvdG90eXBlLmZvckVhY2ggJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldCAmJlxuICAgICAgbnVsbCAhPSBTZXQucHJvdG90eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQucHJvdG90eXBlLmNsZWFyICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQucHJvdG90eXBlLmZvckVhY2gpIHx8XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIlJlYWN0IGRlcGVuZHMgb24gTWFwIGFuZCBTZXQgYnVpbHQtaW4gdHlwZXMuIE1ha2Ugc3VyZSB0aGF0IHlvdSBsb2FkIGEgcG9seWZpbGwgaW4gb2xkZXIgYnJvd3NlcnMuIGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9yZWFjdC1wb2x5ZmlsbHNcIlxuICAgICAgKTtcbiAgICBleHBvcnRzLl9fRE9NX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSA9XG4gICAgICBJbnRlcm5hbHM7XG4gICAgZXhwb3J0cy5jcmVhdGVQb3J0YWwgPSBmdW5jdGlvbiAoY2hpbGRyZW4sIGNvbnRhaW5lcikge1xuICAgICAgdmFyIGtleSA9XG4gICAgICAgIDIgPCBhcmd1bWVudHMubGVuZ3RoICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzJdID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICAgIGlmIChcbiAgICAgICAgIWNvbnRhaW5lciB8fFxuICAgICAgICAoMSAhPT0gY29udGFpbmVyLm5vZGVUeXBlICYmXG4gICAgICAgICAgOSAhPT0gY29udGFpbmVyLm5vZGVUeXBlICYmXG4gICAgICAgICAgMTEgIT09IGNvbnRhaW5lci5ub2RlVHlwZSlcbiAgICAgIClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LlwiKTtcbiAgICAgIHJldHVybiBjcmVhdGVQb3J0YWwkMShjaGlsZHJlbiwgY29udGFpbmVyLCBudWxsLCBrZXkpO1xuICAgIH07XG4gICAgZXhwb3J0cy5mbHVzaFN5bmMgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHZhciBwcmV2aW91c1RyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICBwcmV2aW91c1VwZGF0ZVByaW9yaXR5ID0gSW50ZXJuYWxzLnA7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoKChSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbCksIChJbnRlcm5hbHMucCA9IDIpLCBmbikpXG4gICAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZpb3VzVHJhbnNpdGlvbiksXG4gICAgICAgICAgKEludGVybmFscy5wID0gcHJldmlvdXNVcGRhdGVQcmlvcml0eSksXG4gICAgICAgICAgSW50ZXJuYWxzLmQuZigpICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImZsdXNoU3luYyB3YXMgY2FsbGVkIGZyb20gaW5zaWRlIGEgbGlmZWN5Y2xlIG1ldGhvZC4gUmVhY3QgY2Fubm90IGZsdXNoIHdoZW4gUmVhY3QgaXMgYWxyZWFkeSByZW5kZXJpbmcuIENvbnNpZGVyIG1vdmluZyB0aGlzIGNhbGwgdG8gYSBzY2hlZHVsZXIgdGFzayBvciBtaWNybyB0YXNrLlwiXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5wcmVjb25uZWN0ID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWZcbiAgICAgICAgPyBudWxsICE9IG9wdGlvbnMgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlY29ubmVjdCgpOiBFeHBlY3RlZCB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IChzZWNvbmQpIHRvIGJlIGFuIG9iamVjdCBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC4gVGhlIG9ubHkgc3VwcG9ydGVkIG9wdGlvbiBhdCB0aGlzIHRpbWUgaXMgYGNyb3NzT3JpZ2luYCB3aGljaCBhY2NlcHRzIGEgc3RyaW5nLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogbnVsbCAhPSBvcHRpb25zICYmXG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2Ygb3B0aW9ucy5jcm9zc09yaWdpbiAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVjb25uZWN0KCk6IEV4cGVjdGVkIHRoZSBgY3Jvc3NPcmlnaW5gIG9wdGlvbiAoc2Vjb25kIGFyZ3VtZW50KSB0byBiZSBhIHN0cmluZyBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC4gVHJ5IHJlbW92aW5nIHRoaXMgb3B0aW9uIG9yIHBhc3NpbmcgYSBzdHJpbmcgdmFsdWUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zLmNyb3NzT3JpZ2luKVxuICAgICAgICAgICAgKVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0RE9NLnByZWNvbm5lY3QoKTogRXhwZWN0ZWQgdGhlIGBocmVmYCBhcmd1bWVudCAoZmlyc3QpIHRvIGJlIGEgbm9uLWVtcHR5IHN0cmluZyBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZilcbiAgICAgICAgICApO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiZcbiAgICAgICAgKG9wdGlvbnNcbiAgICAgICAgICA/ICgob3B0aW9ucyA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4pLFxuICAgICAgICAgICAgKG9wdGlvbnMgPVxuICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICAgICAgICAgID8gXCJ1c2UtY3JlZGVudGlhbHNcIiA9PT0gb3B0aW9uc1xuICAgICAgICAgICAgICAgICAgPyBvcHRpb25zXG4gICAgICAgICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgICAgICAgICA6IHZvaWQgMCkpXG4gICAgICAgICAgOiAob3B0aW9ucyA9IG51bGwpLFxuICAgICAgICBJbnRlcm5hbHMuZC5DKGhyZWYsIG9wdGlvbnMpKTtcbiAgICB9O1xuICAgIGV4cG9ydHMucHJlZmV0Y2hETlMgPSBmdW5jdGlvbiAoaHJlZikge1xuICAgICAgaWYgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBocmVmIHx8ICFocmVmKVxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3RET00ucHJlZmV0Y2hETlMoKTogRXhwZWN0ZWQgdGhlIGBocmVmYCBhcmd1bWVudCAoZmlyc3QpIHRvIGJlIGEgbm9uLWVtcHR5IHN0cmluZyBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpXG4gICAgICAgICk7XG4gICAgICBlbHNlIGlmICgxIDwgYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiYgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShcImNyb3NzT3JpZ2luXCIpXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWZldGNoRE5TKCk6IEV4cGVjdGVkIG9ubHkgb25lIGFyZ3VtZW50LCBgaHJlZmAsIGJ1dCBlbmNvdW50ZXJlZCAlcyBhcyBhIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkLiBUaGlzIGFyZ3VtZW50IGlzIHJlc2VydmVkIGZvciBmdXR1cmUgb3B0aW9ucyBhbmQgaXMgY3VycmVudGx5IGRpc2FsbG93ZWQuIEl0IGxvb2tzIGxpa2UgdGhlIHlvdSBhcmUgYXR0ZW1wdGluZyB0byBzZXQgYSBjcm9zc09yaWdpbiBwcm9wZXJ0eSBmb3IgdGhpcyBETlMgbG9va3VwIGhpbnQuIEJyb3dzZXJzIGRvIG5vdCBwZXJmb3JtIEROUyBxdWVyaWVzIHVzaW5nIENPUlMgYW5kIHNldHRpbmcgdGhpcyBhdHRyaWJ1dGUgb24gdGhlIHJlc291cmNlIGhpbnQgaGFzIG5vIGVmZmVjdC4gVHJ5IGNhbGxpbmcgUmVhY3RET00ucHJlZmV0Y2hETlMoKSB3aXRoIGp1c3QgYSBzaW5nbGUgc3RyaW5nIGFyZ3VtZW50LCBgaHJlZmAuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMpXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWZldGNoRE5TKCk6IEV4cGVjdGVkIG9ubHkgb25lIGFyZ3VtZW50LCBgaHJlZmAsIGJ1dCBlbmNvdW50ZXJlZCAlcyBhcyBhIHNlY29uZCBhcmd1bWVudCBpbnN0ZWFkLiBUaGlzIGFyZ3VtZW50IGlzIHJlc2VydmVkIGZvciBmdXR1cmUgb3B0aW9ucyBhbmQgaXMgY3VycmVudGx5IGRpc2FsbG93ZWQuIFRyeSBjYWxsaW5nIFJlYWN0RE9NLnByZWZldGNoRE5TKCkgd2l0aCBqdXN0IGEgc2luZ2xlIHN0cmluZyBhcmd1bWVudCwgYGhyZWZgLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zKVxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIEludGVybmFscy5kLkQoaHJlZik7XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWluaXQgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZlxuICAgICAgICA/IG51bGwgPT0gb3B0aW9ucyB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVpbml0KCk6IEV4cGVjdGVkIHRoZSBgb3B0aW9uc2AgYXJndW1lbnQgKHNlY29uZCkgdG8gYmUgYW4gb2JqZWN0IHdpdGggYW4gYGFzYCBwcm9wZXJ0eSBkZXNjcmliaW5nIHRoZSB0eXBlIG9mIHJlc291cmNlIHRvIGJlIHByZWluaXRpYWxpemVkIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zKVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogXCJzdHlsZVwiICE9PSBvcHRpb25zLmFzICYmXG4gICAgICAgICAgICBcInNjcmlwdFwiICE9PSBvcHRpb25zLmFzICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnUmVhY3RET00ucHJlaW5pdCgpOiBFeHBlY3RlZCB0aGUgYGFzYCBwcm9wZXJ0eSBpbiB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IChzZWNvbmQpIHRvIGNvbnRhaW4gYSB2YWxpZCB2YWx1ZSBkZXNjcmliaW5nIHRoZSB0eXBlIG9mIHJlc291cmNlIHRvIGJlIHByZWluaXRpYWxpemVkIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLiBWYWxpZCB2YWx1ZXMgZm9yIGBhc2AgYXJlIFwic3R5bGVcIiBhbmQgXCJzY3JpcHRcIi4nLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zLmFzKVxuICAgICAgICAgICAgKVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0RE9NLnByZWluaXQoKTogRXhwZWN0ZWQgdGhlIGBocmVmYCBhcmd1bWVudCAoZmlyc3QpIHRvIGJlIGEgbm9uLWVtcHR5IHN0cmluZyBidXQgZW5jb3VudGVyZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZilcbiAgICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJlxuICAgICAgICBvcHRpb25zICYmXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzXG4gICAgICApIHtcbiAgICAgICAgdmFyIGFzID0gb3B0aW9ucy5hcyxcbiAgICAgICAgICBjcm9zc09yaWdpbiA9IGdldENyb3NzT3JpZ2luU3RyaW5nQXMoYXMsIG9wdGlvbnMuY3Jvc3NPcmlnaW4pLFxuICAgICAgICAgIGludGVncml0eSA9XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbnRlZ3JpdHkgPyBvcHRpb25zLmludGVncml0eSA6IHZvaWQgMCxcbiAgICAgICAgICBmZXRjaFByaW9yaXR5ID1cbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgPyBvcHRpb25zLmZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgOiB2b2lkIDA7XG4gICAgICAgIFwic3R5bGVcIiA9PT0gYXNcbiAgICAgICAgICA/IEludGVybmFscy5kLlMoXG4gICAgICAgICAgICAgIGhyZWYsXG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLnByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICA/IG9wdGlvbnMucHJlY2VkZW5jZVxuICAgICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IGNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgIGludGVncml0eTogaW50ZWdyaXR5LFxuICAgICAgICAgICAgICAgIGZldGNoUHJpb3JpdHk6IGZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogXCJzY3JpcHRcIiA9PT0gYXMgJiZcbiAgICAgICAgICAgIEludGVybmFscy5kLlgoaHJlZiwge1xuICAgICAgICAgICAgICBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgIGludGVncml0eTogaW50ZWdyaXR5LFxuICAgICAgICAgICAgICBmZXRjaFByaW9yaXR5OiBmZXRjaFByaW9yaXR5LFxuICAgICAgICAgICAgICBub25jZTogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMubm9uY2UgPyBvcHRpb25zLm5vbmNlIDogdm9pZCAwXG4gICAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMucHJlaW5pdE1vZHVsZSA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZW5jb3VudGVyZWQgPSBcIlwiO1xuICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWYpIHx8XG4gICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgIFwiIFRoZSBgaHJlZmAgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpICtcbiAgICAgICAgICBcIi5cIik7XG4gICAgICB2b2lkIDAgIT09IG9wdGlvbnMgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgPyAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgb3B0aW9uc2AgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucykgK1xuICAgICAgICAgICAgXCIuXCIpXG4gICAgICAgIDogb3B0aW9ucyAmJlxuICAgICAgICAgIFwiYXNcIiBpbiBvcHRpb25zICYmXG4gICAgICAgICAgXCJzY3JpcHRcIiAhPT0gb3B0aW9ucy5hcyAmJlxuICAgICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBhc2Agb3B0aW9uIGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhvcHRpb25zLmFzKSArXG4gICAgICAgICAgICBcIi5cIik7XG4gICAgICBpZiAoZW5jb3VudGVyZWQpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZWFjdERPTS5wcmVpbml0TW9kdWxlKCk6IEV4cGVjdGVkIHVwIHRvIHR3byBhcmd1bWVudHMsIGEgbm9uLWVtcHR5IGBocmVmYCBzdHJpbmcgYW5kLCBvcHRpb25hbGx5LCBhbiBgb3B0aW9uc2Agb2JqZWN0IHdpdGggYSB2YWxpZCBgYXNgIHByb3BlcnR5LiVzXCIsXG4gICAgICAgICAgZW5jb3VudGVyZWRcbiAgICAgICAgKTtcbiAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoKGVuY291bnRlcmVkID1cbiAgICAgICAgICAgIG9wdGlvbnMgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXMgPyBvcHRpb25zLmFzIDogXCJzY3JpcHRcIiksXG4gICAgICAgICAgZW5jb3VudGVyZWQpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAoZW5jb3VudGVyZWQgPVxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdFbnVtRm9yV2FybmluZyhlbmNvdW50ZXJlZCkpLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdSZWFjdERPTS5wcmVpbml0TW9kdWxlKCk6IEN1cnJlbnRseSB0aGUgb25seSBzdXBwb3J0ZWQgXCJhc1wiIHR5cGUgZm9yIHRoaXMgZnVuY3Rpb24gaXMgXCJzY3JpcHRcIiBidXQgcmVjZWl2ZWQgXCIlc1wiIGluc3RlYWQuIFRoaXMgd2FybmluZyB3YXMgZ2VuZXJhdGVkIGZvciBgaHJlZmAgXCIlc1wiLiBJbiB0aGUgZnV0dXJlIG90aGVyIG1vZHVsZSB0eXBlcyB3aWxsIGJlIHN1cHBvcnRlZCwgYWxpZ25pbmcgd2l0aCB0aGUgaW1wb3J0LWF0dHJpYnV0ZXMgcHJvcG9zYWwuIExlYXJuIG1vcmUgaGVyZTogKGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLWltcG9ydC1hdHRyaWJ1dGVzKScsXG4gICAgICAgICAgICAgICAgZW5jb3VudGVyZWQsXG4gICAgICAgICAgICAgICAgaHJlZlxuICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYpXG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJiBudWxsICE9PSBvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKG51bGwgPT0gb3B0aW9ucy5hcyB8fCBcInNjcmlwdFwiID09PSBvcHRpb25zLmFzKVxuICAgICAgICAgICAgKGVuY291bnRlcmVkID0gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhcbiAgICAgICAgICAgICAgb3B0aW9ucy5hcyxcbiAgICAgICAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpblxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIEludGVybmFscy5kLk0oaHJlZiwge1xuICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBlbmNvdW50ZXJlZCxcbiAgICAgICAgICAgICAgICBpbnRlZ3JpdHk6XG4gICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmludGVncml0eVxuICAgICAgICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICBub25jZTpcbiAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLm5vbmNlID8gb3B0aW9ucy5ub25jZSA6IHZvaWQgMFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIG51bGwgPT0gb3B0aW9ucyAmJiBJbnRlcm5hbHMuZC5NKGhyZWYpO1xuICAgIH07XG4gICAgZXhwb3J0cy5wcmVsb2FkID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBlbmNvdW50ZXJlZCA9IFwiXCI7XG4gICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZikgfHxcbiAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgXCIgVGhlIGBocmVmYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZikgK1xuICAgICAgICAgIFwiLlwiKTtcbiAgICAgIG51bGwgPT0gb3B0aW9ucyB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICA/IChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBvcHRpb25zYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zKSArXG4gICAgICAgICAgICBcIi5cIilcbiAgICAgICAgOiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXMgJiYgb3B0aW9ucy5hcykgfHxcbiAgICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgYXNgIG9wdGlvbiBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zLmFzKSArXG4gICAgICAgICAgICBcIi5cIik7XG4gICAgICBlbmNvdW50ZXJlZCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdSZWFjdERPTS5wcmVsb2FkKCk6IEV4cGVjdGVkIHR3byBhcmd1bWVudHMsIGEgbm9uLWVtcHR5IGBocmVmYCBzdHJpbmcgYW5kIGFuIGBvcHRpb25zYCBvYmplY3Qgd2l0aCBhbiBgYXNgIHByb3BlcnR5IHZhbGlkIGZvciBhIGA8bGluayByZWw9XCJwcmVsb2FkXCIgYXM9XCIuLi5cIiAvPmAgdGFnLiVzJyxcbiAgICAgICAgICBlbmNvdW50ZXJlZFxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJlxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJlxuICAgICAgICBudWxsICE9PSBvcHRpb25zICYmXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzXG4gICAgICApIHtcbiAgICAgICAgZW5jb3VudGVyZWQgPSBvcHRpb25zLmFzO1xuICAgICAgICB2YXIgY3Jvc3NPcmlnaW4gPSBnZXRDcm9zc09yaWdpblN0cmluZ0FzKFxuICAgICAgICAgIGVuY291bnRlcmVkLFxuICAgICAgICAgIG9wdGlvbnMuY3Jvc3NPcmlnaW5cbiAgICAgICAgKTtcbiAgICAgICAgSW50ZXJuYWxzLmQuTChocmVmLCBlbmNvdW50ZXJlZCwge1xuICAgICAgICAgIGNyb3NzT3JpZ2luOiBjcm9zc09yaWdpbixcbiAgICAgICAgICBpbnRlZ3JpdHk6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbnRlZ3JpdHkgPyBvcHRpb25zLmludGVncml0eSA6IHZvaWQgMCxcbiAgICAgICAgICBub25jZTogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMubm9uY2UgPyBvcHRpb25zLm5vbmNlIDogdm9pZCAwLFxuICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLnR5cGUgPyBvcHRpb25zLnR5cGUgOiB2b2lkIDAsXG4gICAgICAgICAgZmV0Y2hQcmlvcml0eTpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgPyBvcHRpb25zLmZldGNoUHJpb3JpdHlcbiAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgcmVmZXJyZXJQb2xpY3k6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5yZWZlcnJlclBvbGljeVxuICAgICAgICAgICAgICA/IG9wdGlvbnMucmVmZXJyZXJQb2xpY3lcbiAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgaW1hZ2VTcmNTZXQ6XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbWFnZVNyY1NldFxuICAgICAgICAgICAgICA/IG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgaW1hZ2VTaXplczpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmltYWdlU2l6ZXNcbiAgICAgICAgICAgICAgPyBvcHRpb25zLmltYWdlU2l6ZXNcbiAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgbWVkaWE6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLm1lZGlhID8gb3B0aW9ucy5tZWRpYSA6IHZvaWQgMFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMucHJlbG9hZE1vZHVsZSA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICB2YXIgZW5jb3VudGVyZWQgPSBcIlwiO1xuICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWYpIHx8XG4gICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgIFwiIFRoZSBgaHJlZmAgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKGhyZWYpICtcbiAgICAgICAgICBcIi5cIik7XG4gICAgICB2b2lkIDAgIT09IG9wdGlvbnMgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9wdGlvbnNcbiAgICAgICAgPyAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgb3B0aW9uc2AgYXJndW1lbnQgZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcob3B0aW9ucykgK1xuICAgICAgICAgICAgXCIuXCIpXG4gICAgICAgIDogb3B0aW9ucyAmJlxuICAgICAgICAgIFwiYXNcIiBpbiBvcHRpb25zICYmXG4gICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIG9wdGlvbnMuYXMgJiZcbiAgICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICAgIFwiIFRoZSBgYXNgIG9wdGlvbiBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zLmFzKSArXG4gICAgICAgICAgICBcIi5cIik7XG4gICAgICBlbmNvdW50ZXJlZCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICdSZWFjdERPTS5wcmVsb2FkTW9kdWxlKCk6IEV4cGVjdGVkIHR3byBhcmd1bWVudHMsIGEgbm9uLWVtcHR5IGBocmVmYCBzdHJpbmcgYW5kLCBvcHRpb25hbGx5LCBhbiBgb3B0aW9uc2Agb2JqZWN0IHdpdGggYW4gYGFzYCBwcm9wZXJ0eSB2YWxpZCBmb3IgYSBgPGxpbmsgcmVsPVwibW9kdWxlcHJlbG9hZFwiIGFzPVwiLi4uXCIgLz5gIHRhZy4lcycsXG4gICAgICAgICAgZW5jb3VudGVyZWRcbiAgICAgICAgKTtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmXG4gICAgICAgIChvcHRpb25zXG4gICAgICAgICAgPyAoKGVuY291bnRlcmVkID0gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhcbiAgICAgICAgICAgICAgb3B0aW9ucy5hcyxcbiAgICAgICAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpblxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBJbnRlcm5hbHMuZC5tKGhyZWYsIHtcbiAgICAgICAgICAgICAgYXM6XG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXMgJiYgXCJzY3JpcHRcIiAhPT0gb3B0aW9ucy5hc1xuICAgICAgICAgICAgICAgICAgPyBvcHRpb25zLmFzXG4gICAgICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IGVuY291bnRlcmVkLFxuICAgICAgICAgICAgICBpbnRlZ3JpdHk6XG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW50ZWdyaXR5XG4gICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuaW50ZWdyaXR5XG4gICAgICAgICAgICAgICAgICA6IHZvaWQgMFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgOiBJbnRlcm5hbHMuZC5tKGhyZWYpKTtcbiAgICB9O1xuICAgIGV4cG9ydHMucmVxdWVzdEZvcm1SZXNldCA9IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICBJbnRlcm5hbHMuZC5yKGZvcm0pO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyA9IGZ1bmN0aW9uIChmbiwgYSkge1xuICAgICAgcmV0dXJuIGZuKGEpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uLCBpbml0aWFsU3RhdGUsIHBlcm1hbGluaykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRm9ybVN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlLCBwZXJtYWxpbmspO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VGb3JtU3RhdHVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMoKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMC4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gY2hlY2tEQ0UoKSB7XG4gIC8qIGdsb2JhbCBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gKi9cbiAgaWYgKFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRSAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBUaGlzIGJyYW5jaCBpcyB1bnJlYWNoYWJsZSBiZWNhdXNlIHRoaXMgZnVuY3Rpb24gaXMgb25seSBjYWxsZWRcbiAgICAvLyBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGNvbmRpdGlvbiBpcyB0cnVlIG9ubHkgaW4gZGV2ZWxvcG1lbnQuXG4gICAgLy8gVGhlcmVmb3JlIGlmIHRoZSBicmFuY2ggaXMgc3RpbGwgaGVyZSwgZGVhZCBjb2RlIGVsaW1pbmF0aW9uIHdhc24ndFxuICAgIC8vIHByb3Blcmx5IGFwcGxpZWQuXG4gICAgLy8gRG9uJ3QgY2hhbmdlIHRoZSBtZXNzYWdlLiBSZWFjdCBEZXZUb29scyByZWxpZXMgb24gaXQuIEFsc28gbWFrZSBzdXJlXG4gICAgLy8gdGhpcyBtZXNzYWdlIGRvZXNuJ3Qgb2NjdXIgZWxzZXdoZXJlIGluIHRoaXMgZnVuY3Rpb24sIG9yIGl0IHdpbGwgY2F1c2VcbiAgICAvLyBhIGZhbHNlIHBvc2l0aXZlLlxuICAgIHRocm93IG5ldyBFcnJvcignXl9eJyk7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBWZXJpZnkgdGhhdCB0aGUgY29kZSBhYm92ZSBoYXMgYmVlbiBkZWFkIGNvZGUgZWxpbWluYXRlZCAoRENFJ2QpLlxuICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShjaGVja0RDRSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIERldlRvb2xzIHNob3VsZG4ndCBjcmFzaCBSZWFjdCwgbm8gbWF0dGVyIHdoYXQuXG4gICAgLy8gV2Ugc2hvdWxkIHN0aWxsIHJlcG9ydCBpbiBjYXNlIHdlIGJyZWFrIHRoaXMgY29kZS5cbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gRENFIGNoZWNrIHNob3VsZCBoYXBwZW4gYmVmb3JlIFJlYWN0RE9NIGJ1bmRsZSBleGVjdXRlcyBzbyB0aGF0XG4gIC8vIERldlRvb2xzIGNhbiByZXBvcnQgYmFkIG1pbmlmaWNhdGlvbiBkdXJpbmcgaW5qZWN0aW9uLlxuICBjaGVja0RDRSgpO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5wcm9kdWN0aW9uLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1kb20tY2xpZW50LmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4vKlxuIE1vZGVybml6ciAzLjAuMHByZSAoQ3VzdG9tIEJ1aWxkKSB8IE1JVFxuKi9cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZmluZEhvb2soZmliZXIsIGlkKSB7XG4gICAgICBmb3IgKGZpYmVyID0gZmliZXIubWVtb2l6ZWRTdGF0ZTsgbnVsbCAhPT0gZmliZXIgJiYgMCA8IGlkOyApXG4gICAgICAgIChmaWJlciA9IGZpYmVyLm5leHQpLCBpZC0tO1xuICAgICAgcmV0dXJuIGZpYmVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5V2l0aFNldEltcGwob2JqLCBwYXRoLCBpbmRleCwgdmFsdWUpIHtcbiAgICAgIGlmIChpbmRleCA+PSBwYXRoLmxlbmd0aCkgcmV0dXJuIHZhbHVlO1xuICAgICAgdmFyIGtleSA9IHBhdGhbaW5kZXhdLFxuICAgICAgICB1cGRhdGVkID0gaXNBcnJheUltcGwob2JqKSA/IG9iai5zbGljZSgpIDogYXNzaWduKHt9LCBvYmopO1xuICAgICAgdXBkYXRlZFtrZXldID0gY29weVdpdGhTZXRJbXBsKG9ialtrZXldLCBwYXRoLCBpbmRleCArIDEsIHZhbHVlKTtcbiAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5V2l0aFJlbmFtZShvYmosIG9sZFBhdGgsIG5ld1BhdGgpIHtcbiAgICAgIGlmIChvbGRQYXRoLmxlbmd0aCAhPT0gbmV3UGF0aC5sZW5ndGgpXG4gICAgICAgIGNvbnNvbGUud2FybihcImNvcHlXaXRoUmVuYW1lKCkgZXhwZWN0cyBwYXRocyBvZiB0aGUgc2FtZSBsZW5ndGhcIik7XG4gICAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdQYXRoLmxlbmd0aCAtIDE7IGkrKylcbiAgICAgICAgICBpZiAob2xkUGF0aFtpXSAhPT0gbmV3UGF0aFtpXSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBcImNvcHlXaXRoUmVuYW1lKCkgZXhwZWN0cyBwYXRocyB0byBiZSB0aGUgc2FtZSBleGNlcHQgZm9yIHRoZSBkZWVwZXN0IGtleVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvcHlXaXRoUmVuYW1lSW1wbChvYmosIG9sZFBhdGgsIG5ld1BhdGgsIDApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb3B5V2l0aFJlbmFtZUltcGwob2JqLCBvbGRQYXRoLCBuZXdQYXRoLCBpbmRleCkge1xuICAgICAgdmFyIG9sZEtleSA9IG9sZFBhdGhbaW5kZXhdLFxuICAgICAgICB1cGRhdGVkID0gaXNBcnJheUltcGwob2JqKSA/IG9iai5zbGljZSgpIDogYXNzaWduKHt9LCBvYmopO1xuICAgICAgaW5kZXggKyAxID09PSBvbGRQYXRoLmxlbmd0aFxuICAgICAgICA/ICgodXBkYXRlZFtuZXdQYXRoW2luZGV4XV0gPSB1cGRhdGVkW29sZEtleV0pLFxuICAgICAgICAgIGlzQXJyYXlJbXBsKHVwZGF0ZWQpXG4gICAgICAgICAgICA/IHVwZGF0ZWQuc3BsaWNlKG9sZEtleSwgMSlcbiAgICAgICAgICAgIDogZGVsZXRlIHVwZGF0ZWRbb2xkS2V5XSlcbiAgICAgICAgOiAodXBkYXRlZFtvbGRLZXldID0gY29weVdpdGhSZW5hbWVJbXBsKFxuICAgICAgICAgICAgb2JqW29sZEtleV0sXG4gICAgICAgICAgICBvbGRQYXRoLFxuICAgICAgICAgICAgbmV3UGF0aCxcbiAgICAgICAgICAgIGluZGV4ICsgMVxuICAgICAgICAgICkpO1xuICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvcHlXaXRoRGVsZXRlSW1wbChvYmosIHBhdGgsIGluZGV4KSB7XG4gICAgICB2YXIga2V5ID0gcGF0aFtpbmRleF0sXG4gICAgICAgIHVwZGF0ZWQgPSBpc0FycmF5SW1wbChvYmopID8gb2JqLnNsaWNlKCkgOiBhc3NpZ24oe30sIG9iaik7XG4gICAgICBpZiAoaW5kZXggKyAxID09PSBwYXRoLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpc0FycmF5SW1wbCh1cGRhdGVkKSA/IHVwZGF0ZWQuc3BsaWNlKGtleSwgMSkgOiBkZWxldGUgdXBkYXRlZFtrZXldLFxuICAgICAgICAgIHVwZGF0ZWRcbiAgICAgICAgKTtcbiAgICAgIHVwZGF0ZWRba2V5XSA9IGNvcHlXaXRoRGVsZXRlSW1wbChvYmpba2V5XSwgcGF0aCwgaW5kZXggKyAxKTtcbiAgICAgIHJldHVybiB1cGRhdGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRTdXNwZW5kSW1wbCgpIHtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkRXJyb3JJbXBsKCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpIHtcbiAgICAgIHJldHVybiBuZXcgRmliZXJOb2RlKHRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIkRvIG5vdCBjYWxsIEhvb2tzIGluc2lkZSB1c2VFZmZlY3QoLi4uKSwgdXNlTWVtbyguLi4pLCBvciBvdGhlciBidWlsdC1pbiBIb29rcy4gWW91IGNhbiBvbmx5IGNhbGwgSG9va3MgYXQgdGhlIHRvcCBsZXZlbCBvZiB5b3VyIFJlYWN0IGZ1bmN0aW9uLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcnVsZXMtb2YtaG9va3NcIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkludmFsaWRDb250ZXh0QWNjZXNzKCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJDb250ZXh0IGNhbiBvbmx5IGJlIHJlYWQgd2hpbGUgUmVhY3QgaXMgcmVuZGVyaW5nLiBJbiBjbGFzc2VzLCB5b3UgY2FuIHJlYWQgaXQgaW4gdGhlIHJlbmRlciBtZXRob2Qgb3IgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiBJbiBmdW5jdGlvbiBjb21wb25lbnRzLCB5b3UgY2FuIHJlYWQgaXQgZGlyZWN0bHkgaW4gdGhlIGZ1bmN0aW9uIGJvZHksIGJ1dCBub3QgaW5zaWRlIEhvb2tzIGxpa2UgdXNlUmVkdWNlcigpIG9yIHVzZU1lbW8oKS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCQyKCkge31cbiAgICBmdW5jdGlvbiB3YXJuRm9yTWlzc2luZ0tleSgpIHt9XG4gICAgZnVuY3Rpb24gc2V0VG9Tb3J0ZWRTdHJpbmcoc2V0KSB7XG4gICAgICB2YXIgYXJyYXkgPSBbXTtcbiAgICAgIHNldC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBhcnJheS5wdXNoKHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGFycmF5LnNvcnQoKS5qb2luKFwiLCBcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUm9vdChyb290LCBlbGVtZW50KSB7XG4gICAgICByb290LmNvbnRleHQgPT09IGVtcHR5Q29udGV4dE9iamVjdCAmJlxuICAgICAgICAodXBkYXRlQ29udGFpbmVyU3luYyhlbGVtZW50LCByb290LCBudWxsLCBudWxsKSwgZmx1c2hTeW5jV29yayQxKCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVJlZnJlc2gocm9vdCwgdXBkYXRlKSB7XG4gICAgICBpZiAobnVsbCAhPT0gcmVzb2x2ZUZhbWlseSkge1xuICAgICAgICB2YXIgc3RhbGVGYW1pbGllcyA9IHVwZGF0ZS5zdGFsZUZhbWlsaWVzO1xuICAgICAgICB1cGRhdGUgPSB1cGRhdGUudXBkYXRlZEZhbWlsaWVzO1xuICAgICAgICBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7XG4gICAgICAgIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoXG4gICAgICAgICAgcm9vdC5jdXJyZW50LFxuICAgICAgICAgIHVwZGF0ZSxcbiAgICAgICAgICBzdGFsZUZhbWlsaWVzXG4gICAgICAgICk7XG4gICAgICAgIGZsdXNoU3luY1dvcmskMSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRSZWZyZXNoSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICByZXNvbHZlRmFtaWx5ID0gaGFuZGxlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNWYWxpZENvbnRhaW5lcihub2RlKSB7XG4gICAgICByZXR1cm4gIShcbiAgICAgICAgIW5vZGUgfHxcbiAgICAgICAgKDEgIT09IG5vZGUubm9kZVR5cGUgJiYgOSAhPT0gbm9kZS5ub2RlVHlwZSAmJiAxMSAhPT0gbm9kZS5ub2RlVHlwZSlcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgICAgaWYgKG51bGwgPT09IG1heWJlSXRlcmFibGUgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG1heWJlSXRlcmFibGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgbWF5YmVJdGVyYWJsZSA9XG4gICAgICAgIChNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgICBtYXliZUl0ZXJhYmxlW1wiQEBpdGVyYXRvclwiXTtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlID8gbWF5YmVJdGVyYWJsZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlLnRhZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIHR5cGUuJCR0eXBlb2YpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLlByb3ZpZGVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLl9jb250ZXh0LmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgdmFyIGlubmVyVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB0eXBlIHx8XG4gICAgICAgICAgICAgICgodHlwZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBcIlwiICE9PSB0eXBlID8gXCJGb3J3YXJkUmVmKFwiICsgdHlwZSArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGlubmVyVHlwZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbCksXG4gICAgICAgICAgICAgIG51bGwgIT09IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgID8gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgOiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIk1lbW9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIGlubmVyVHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZShpbm5lclR5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbU93bmVyKG93bmVyKSB7XG4gICAgICByZXR1cm4gXCJudW1iZXJcIiA9PT0gdHlwZW9mIG93bmVyLnRhZ1xuICAgICAgICA/IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIob3duZXIpXG4gICAgICAgIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG93bmVyLm5hbWVcbiAgICAgICAgICA/IG93bmVyLm5hbWVcbiAgICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHtcbiAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmV0dXJuIFwiQ2FjaGVcIjtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICAgIHJldHVybiAodHlwZS5fY29udGV4dC5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Db25zdW1lclwiO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHJldHVybiAodHlwZS5kaXNwbGF5TmFtZSB8fCBcIkNvbnRleHRcIikgKyBcIi5Qcm92aWRlclwiO1xuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIHJldHVybiBcIkRlaHlkcmF0ZWRGcmFnbWVudFwiO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZmliZXIgPSB0eXBlLnJlbmRlciksXG4gICAgICAgICAgICAoZmliZXIgPSBmaWJlci5kaXNwbGF5TmFtZSB8fCBmaWJlci5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgdHlwZS5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgICAoXCJcIiAhPT0gZmliZXIgPyBcIkZvcndhcmRSZWYoXCIgKyBmaWJlciArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiBcIlBvcnRhbFwiO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcmV0dXJuIFwiUm9vdFwiO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcmV0dXJuIFwiVGV4dFwiO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICByZXR1cm4gdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA/IFwiU3RyaWN0TW9kZVwiIDogXCJNb2RlXCI7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcmV0dXJuIFwiT2Zmc2NyZWVuXCI7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgcmV0dXJuIFwiUHJvZmlsZXJcIjtcbiAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICByZXR1cm4gXCJTY29wZVwiO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlXCI7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgcmV0dXJuIFwiVHJhY2luZ01hcmtlclwiO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgdHlwZSA9IGZpYmVyLl9kZWJ1Z0luZm87XG4gICAgICAgICAgaWYgKG51bGwgIT0gdHlwZSlcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSB0eXBlLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKVxuICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGVbaV0ubmFtZSkgcmV0dXJuIHR5cGVbaV0ubmFtZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gZmliZXIucmV0dXJuKVxuICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIucmV0dXJuKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNhYmxlZExvZygpIHt9XG4gICAgZnVuY3Rpb24gZGlzYWJsZUxvZ3MoKSB7XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICBwcmV2TG9nID0gY29uc29sZS5sb2c7XG4gICAgICAgIHByZXZJbmZvID0gY29uc29sZS5pbmZvO1xuICAgICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgICAgcHJldkVycm9yID0gY29uc29sZS5lcnJvcjtcbiAgICAgICAgcHJldkdyb3VwID0gY29uc29sZS5ncm91cDtcbiAgICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgICAgcHJldkdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZDtcbiAgICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuICAgICAgICAgIHdyaXRhYmxlOiAhMFxuICAgICAgICB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgICB3YXJuOiBwcm9wcyxcbiAgICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBwcm9wcyxcbiAgICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBkaXNhYmxlZERlcHRoKys7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAgICAgIGRpc2FibGVkRGVwdGgtLTtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHZhciBwcm9wcyA9IHsgY29uZmlndXJhYmxlOiAhMCwgZW51bWVyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2TG9nIH0pLFxuICAgICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZJbmZvIH0pLFxuICAgICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZXYXJuIH0pLFxuICAgICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2RXJyb3IgfSksXG4gICAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cCB9KSxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkIH0pLFxuICAgICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBFbmQgfSlcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAwID4gZGlzYWJsZWREZXB0aCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IHByZWZpeClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgdmFyIG1hdGNoID0geC5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgICBwcmVmaXggPSAobWF0Y2ggJiYgbWF0Y2hbMV0pIHx8IFwiXCI7XG4gICAgICAgICAgc3VmZml4ID1cbiAgICAgICAgICAgIC0xIDwgeC5zdGFjay5pbmRleE9mKFwiXFxuICAgIGF0XCIpXG4gICAgICAgICAgICAgID8gXCIgKDxhbm9ueW1vdXM+KVwiXG4gICAgICAgICAgICAgIDogLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJAXCIpXG4gICAgICAgICAgICAgICAgPyBcIkB1bmtub3duOjA6MFwiXG4gICAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gXCJcXG5cIiArIHByZWZpeCArIG5hbWUgKyBzdWZmaXg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAgICAgaWYgKCFmbiB8fCByZWVudHJ5KSByZXR1cm4gXCJcIjtcbiAgICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcbiAgICAgIGlmICh2b2lkIDAgIT09IGZyYW1lKSByZXR1cm4gZnJhbWU7XG4gICAgICByZWVudHJ5ID0gITA7XG4gICAgICBmcmFtZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlO1xuICAgICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB2b2lkIDA7XG4gICAgICB2YXIgcHJldmlvdXNEaXNwYXRjaGVyID0gbnVsbDtcbiAgICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gbnVsbDtcbiAgICAgIGRpc2FibGVMb2dzKCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgICAgICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCBcInByb3BzXCIsIHtcbiAgICAgICAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgUmVmbGVjdCAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoRmFrZSwgW10pO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbCA9IHg7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChmbiwgW10sIEZha2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBGYWtlLmNhbGwoKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMCkge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sID0geCQwO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZm4uY2FsbChGYWtlLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgkMSkge1xuICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKEZha2UgPSBmbigpKSAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgRmFrZS5jYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgRmFrZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKHNhbXBsZSkge1xuICAgICAgICAgICAgICBpZiAoc2FtcGxlICYmIGNvbnRyb2wgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNhbXBsZS5zdGFjaylcbiAgICAgICAgICAgICAgICByZXR1cm4gW3NhbXBsZS5zdGFjaywgY29udHJvbC5zdGFja107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LmRpc3BsYXlOYW1lID1cbiAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiO1xuICAgICAgICB2YXIgbmFtZVByb3BEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgXCJuYW1lXCJcbiAgICAgICAgKTtcbiAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSAmJlxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICAgIFwibmFtZVwiLFxuICAgICAgICAgICAgeyB2YWx1ZTogXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIiB9XG4gICAgICAgICAgKTtcbiAgICAgICAgdmFyIF9SdW5JblJvb3RGcmFtZSREZXRlciA9XG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgICBzYW1wbGVTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclswXSxcbiAgICAgICAgICBjb250cm9sU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMV07XG4gICAgICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgICAgICB2YXIgc2FtcGxlTGluZXMgPSBzYW1wbGVTdGFjay5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgIGNvbnRyb2xMaW5lcyA9IGNvbnRyb2xTdGFjay5zcGxpdChcIlxcblwiKTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gbmFtZVByb3BEZXNjcmlwdG9yID0gMDtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIXNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IrKztcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyIDwgY29udHJvbExpbmVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgIWNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyKys7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID09PSBzYW1wbGVMaW5lcy5sZW5ndGggfHxcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9PT0gY29udHJvbExpbmVzLmxlbmd0aFxuICAgICAgICAgIClcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9IHNhbXBsZUxpbmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmXG4gICAgICAgICAgICAgIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyICYmXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl07XG5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS07XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yLS0sIF9SdW5JblJvb3RGcmFtZSREZXRlci0tXG4gICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICgxICE9PSBuYW1lUHJvcERlc2NyaXB0b3IgfHwgMSAhPT0gX1J1bkluUm9vdEZyYW1lJERldGVyKSB7XG4gICAgICAgICAgICAgICAgZG9cbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKG5hbWVQcm9wRGVzY3JpcHRvci0tLFxuICAgICAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLSxcbiAgICAgICAgICAgICAgICAgICAgMCA+IF9SdW5JblJvb3RGcmFtZSREZXRlciB8fFxuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXSlcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID1cbiAgICAgICAgICAgICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBuZXcgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBhdCBcIlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGZuLmRpc3BsYXlOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgX2ZyYW1lLmluY2x1ZGVzKFwiPGFub255bW91cz5cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoX2ZyYW1lID0gX2ZyYW1lLnJlcGxhY2UoXCI8YW5vbnltb3VzPlwiLCBmbi5kaXNwbGF5TmFtZSkpO1xuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdoaWxlICgxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChyZWVudHJ5ID0gITEpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldmlvdXNEaXNwYXRjaGVyKSxcbiAgICAgICAgICByZWVuYWJsZUxvZ3MoKSxcbiAgICAgICAgICAoRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBmcmFtZSk7XG4gICAgICB9XG4gICAgICBzYW1wbGVMaW5lcyA9IChzYW1wbGVMaW5lcyA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6IFwiXCIpXG4gICAgICAgID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoc2FtcGxlTGluZXMpXG4gICAgICAgIDogXCJcIjtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBzYW1wbGVMaW5lcyk7XG4gICAgICByZXR1cm4gc2FtcGxlTGluZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRmliZXIoZmliZXIpIHtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoZmliZXIudHlwZSk7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiTGF6eVwiKTtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZVwiKTtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZUxpc3RcIik7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZXR1cm4gKGZpYmVyID0gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmaWJlci50eXBlLCAhMSkpLCBmaWJlcjtcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGZpYmVyID0gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmaWJlci50eXBlLnJlbmRlciwgITEpKSwgZmliZXJcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIChmaWJlciA9IGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZmliZXIudHlwZSwgITApKSwgZmliZXI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZCh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGluZm8gPSBcIlwiO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgaW5mbyArPSBkZXNjcmliZUZpYmVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICB2YXIgZGVidWdJbmZvID0gd29ya0luUHJvZ3Jlc3MuX2RlYnVnSW5mbztcbiAgICAgICAgICBpZiAoZGVidWdJbmZvKVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlYnVnSW5mby5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBkZWJ1Z0luZm9baV07XG4gICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgZW50cnkubmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBpbmZvLFxuICAgICAgICAgICAgICAgICAgZW52ID0gZW50cnkuZW52O1xuICAgICAgICAgICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcbiAgICAgICAgICAgICAgICAgIGVudHJ5Lm5hbWUgKyAoZW52ID8gXCIgW1wiICsgZW52ICsgXCJdXCIgOiBcIlwiKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaW5mbyA9IEpTQ29tcGlsZXJfdGVtcF9jb25zdCArIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgICAgICB9IHdoaWxlICh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICByZXR1cm4gXCJcXG5FcnJvciBnZW5lcmF0aW5nIHN0YWNrOiBcIiArIHgubWVzc2FnZSArIFwiXFxuXCIgKyB4LnN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpIHtcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBvd25lciA9IGN1cnJlbnQuX2RlYnVnT3duZXI7XG4gICAgICByZXR1cm4gbnVsbCAhPSBvd25lciA/IGdldENvbXBvbmVudE5hbWVGcm9tT3duZXIob3duZXIpIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldigpIHtcbiAgICAgIHJldHVybiBudWxsID09PSBjdXJyZW50ID8gXCJcIiA6IGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZChjdXJyZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuV2l0aEZpYmVySW5ERVYoZmliZXIsIGNhbGxiYWNrLCBhcmcwLCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0KSB7XG4gICAgICB2YXIgcHJldmlvdXNGaWJlciA9IGN1cnJlbnQ7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPVxuICAgICAgICBudWxsID09PSBmaWJlciA/IG51bGwgOiBnZXRDdXJyZW50RmliZXJTdGFja0luRGV2O1xuICAgICAgaXNSZW5kZXJpbmcgPSAhMTtcbiAgICAgIGN1cnJlbnQgPSBmaWJlcjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhhcmcwLCBhcmcxLCBhcmcyLCBhcmczLCBhcmc0KTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGN1cnJlbnQgPSBwcmV2aW91c0ZpYmVyO1xuICAgICAgfVxuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIFwicnVuV2l0aEZpYmVySW5ERVYgc2hvdWxkIG5ldmVyIGJlIGNhbGxlZCBpbiBwcm9kdWN0aW9uLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZWFyZXN0TW91bnRlZEZpYmVyKGZpYmVyKSB7XG4gICAgICB2YXIgbm9kZSA9IGZpYmVyLFxuICAgICAgICBuZWFyZXN0TW91bnRlZCA9IGZpYmVyO1xuICAgICAgaWYgKGZpYmVyLmFsdGVybmF0ZSkgZm9yICg7IG5vZGUucmV0dXJuOyApIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICAgIGVsc2Uge1xuICAgICAgICBmaWJlciA9IG5vZGU7XG4gICAgICAgIGRvXG4gICAgICAgICAgKG5vZGUgPSBmaWJlciksXG4gICAgICAgICAgICAwICE9PSAobm9kZS5mbGFncyAmIDQwOTgpICYmIChuZWFyZXN0TW91bnRlZCA9IG5vZGUucmV0dXJuKSxcbiAgICAgICAgICAgIChmaWJlciA9IG5vZGUucmV0dXJuKTtcbiAgICAgICAgd2hpbGUgKGZpYmVyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAzID09PSBub2RlLnRhZyA/IG5lYXJlc3RNb3VudGVkIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3VzcGVuc2VJbnN0YW5jZUZyb21GaWJlcihmaWJlcikge1xuICAgICAgaWYgKDEzID09PSBmaWJlci50YWcpIHtcbiAgICAgICAgdmFyIHN1c3BlbnNlU3RhdGUgPSBmaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgICBudWxsID09PSBzdXNwZW5zZVN0YXRlICYmXG4gICAgICAgICAgKChmaWJlciA9IGZpYmVyLmFsdGVybmF0ZSksXG4gICAgICAgICAgbnVsbCAhPT0gZmliZXIgJiYgKHN1c3BlbnNlU3RhdGUgPSBmaWJlci5tZW1vaXplZFN0YXRlKSk7XG4gICAgICAgIGlmIChudWxsICE9PSBzdXNwZW5zZVN0YXRlKSByZXR1cm4gc3VzcGVuc2VTdGF0ZS5kZWh5ZHJhdGVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFzc2VydElzTW91bnRlZChmaWJlcikge1xuICAgICAgaWYgKGdldE5lYXJlc3RNb3VudGVkRmliZXIoZmliZXIpICE9PSBmaWJlcilcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChmaWJlcikge1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIGlmICghYWx0ZXJuYXRlKSB7XG4gICAgICAgIGFsdGVybmF0ZSA9IGdldE5lYXJlc3RNb3VudGVkRmliZXIoZmliZXIpO1xuICAgICAgICBpZiAobnVsbCA9PT0gYWx0ZXJuYXRlKVxuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICAgICAgcmV0dXJuIGFsdGVybmF0ZSAhPT0gZmliZXIgPyBudWxsIDogZmliZXI7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBhID0gZmliZXIsIGIgPSBhbHRlcm5hdGU7IDsgKSB7XG4gICAgICAgIHZhciBwYXJlbnRBID0gYS5yZXR1cm47XG4gICAgICAgIGlmIChudWxsID09PSBwYXJlbnRBKSBicmVhaztcbiAgICAgICAgdmFyIHBhcmVudEIgPSBwYXJlbnRBLmFsdGVybmF0ZTtcbiAgICAgICAgaWYgKG51bGwgPT09IHBhcmVudEIpIHtcbiAgICAgICAgICBiID0gcGFyZW50QS5yZXR1cm47XG4gICAgICAgICAgaWYgKG51bGwgIT09IGIpIHtcbiAgICAgICAgICAgIGEgPSBiO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJlbnRBLmNoaWxkID09PSBwYXJlbnRCLmNoaWxkKSB7XG4gICAgICAgICAgZm9yIChwYXJlbnRCID0gcGFyZW50QS5jaGlsZDsgcGFyZW50QjsgKSB7XG4gICAgICAgICAgICBpZiAocGFyZW50QiA9PT0gYSkgcmV0dXJuIGFzc2VydElzTW91bnRlZChwYXJlbnRBKSwgZmliZXI7XG4gICAgICAgICAgICBpZiAocGFyZW50QiA9PT0gYikgcmV0dXJuIGFzc2VydElzTW91bnRlZChwYXJlbnRBKSwgYWx0ZXJuYXRlO1xuICAgICAgICAgICAgcGFyZW50QiA9IHBhcmVudEIuc2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhLnJldHVybiAhPT0gYi5yZXR1cm4pIChhID0gcGFyZW50QSksIChiID0gcGFyZW50Qik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGZvciAodmFyIGRpZEZpbmRDaGlsZCA9ICExLCBfY2hpbGQgPSBwYXJlbnRBLmNoaWxkOyBfY2hpbGQ7ICkge1xuICAgICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYSkge1xuICAgICAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSAhMDtcbiAgICAgICAgICAgICAgYSA9IHBhcmVudEE7XG4gICAgICAgICAgICAgIGIgPSBwYXJlbnRCO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICAgICAgZGlkRmluZENoaWxkID0gITA7XG4gICAgICAgICAgICAgIGIgPSBwYXJlbnRBO1xuICAgICAgICAgICAgICBhID0gcGFyZW50QjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfY2hpbGQgPSBfY2hpbGQuc2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFkaWRGaW5kQ2hpbGQpIHtcbiAgICAgICAgICAgIGZvciAoX2NoaWxkID0gcGFyZW50Qi5jaGlsZDsgX2NoaWxkOyApIHtcbiAgICAgICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYSkge1xuICAgICAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9ICEwO1xuICAgICAgICAgICAgICAgIGEgPSBwYXJlbnRCO1xuICAgICAgICAgICAgICAgIGIgPSBwYXJlbnRBO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChfY2hpbGQgPT09IGIpIHtcbiAgICAgICAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSAhMDtcbiAgICAgICAgICAgICAgICBiID0gcGFyZW50QjtcbiAgICAgICAgICAgICAgICBhID0gcGFyZW50QTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfY2hpbGQgPSBfY2hpbGQuc2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGlkRmluZENoaWxkKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIkNoaWxkIHdhcyBub3QgZm91bmQgaW4gZWl0aGVyIHBhcmVudCBzZXQuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIGluIFJlYWN0IHJlbGF0ZWQgdG8gdGhlIHJldHVybiBwb2ludGVyLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYS5hbHRlcm5hdGUgIT09IGIpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlJldHVybiBmaWJlcnMgc2hvdWxkIGFsd2F5cyBiZSBlYWNoIG90aGVycycgYWx0ZXJuYXRlcy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoMyAhPT0gYS50YWcpXG4gICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICAgIHJldHVybiBhLnN0YXRlTm9kZS5jdXJyZW50ID09PSBhID8gZmliZXIgOiBhbHRlcm5hdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRDdXJyZW50SG9zdEZpYmVySW1wbChub2RlKSB7XG4gICAgICB2YXIgdGFnID0gbm9kZS50YWc7XG4gICAgICBpZiAoNSA9PT0gdGFnIHx8IDI2ID09PSB0YWcgfHwgMjcgPT09IHRhZyB8fCA2ID09PSB0YWcpIHJldHVybiBub2RlO1xuICAgICAgZm9yIChub2RlID0gbm9kZS5jaGlsZDsgbnVsbCAhPT0gbm9kZTsgKSB7XG4gICAgICAgIHRhZyA9IGZpbmRDdXJyZW50SG9zdEZpYmVySW1wbChub2RlKTtcbiAgICAgICAgaWYgKG51bGwgIT09IHRhZykgcmV0dXJuIHRhZztcbiAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDdXJzb3IoZGVmYXVsdFZhbHVlKSB7XG4gICAgICByZXR1cm4geyBjdXJyZW50OiBkZWZhdWx0VmFsdWUgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wKGN1cnNvciwgZmliZXIpIHtcbiAgICAgIDAgPiBpbmRleCRqc2NvbXAkMFxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIHBvcC5cIilcbiAgICAgICAgOiAoZmliZXIgIT09IGZpYmVyU3RhY2tbaW5kZXgkanNjb21wJDBdICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiVW5leHBlY3RlZCBGaWJlciBwb3BwZWQuXCIpLFxuICAgICAgICAgIChjdXJzb3IuY3VycmVudCA9IHZhbHVlU3RhY2tbaW5kZXgkanNjb21wJDBdKSxcbiAgICAgICAgICAodmFsdWVTdGFja1tpbmRleCRqc2NvbXAkMF0gPSBudWxsKSxcbiAgICAgICAgICAoZmliZXJTdGFja1tpbmRleCRqc2NvbXAkMF0gPSBudWxsKSxcbiAgICAgICAgICBpbmRleCRqc2NvbXAkMC0tKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaChjdXJzb3IsIHZhbHVlLCBmaWJlcikge1xuICAgICAgaW5kZXgkanNjb21wJDArKztcbiAgICAgIHZhbHVlU3RhY2tbaW5kZXgkanNjb21wJDBdID0gY3Vyc29yLmN1cnJlbnQ7XG4gICAgICBmaWJlclN0YWNrW2luZGV4JGpzY29tcCQwXSA9IGZpYmVyO1xuICAgICAgY3Vyc29yLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWlyZWRDb250ZXh0KGMpIHtcbiAgICAgIG51bGwgPT09IGMgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIGhvc3QgY29udGV4dCB0byBleGlzdC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hIb3N0Q29udGFpbmVyKGZpYmVyLCBuZXh0Um9vdEluc3RhbmNlKSB7XG4gICAgICBwdXNoKHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLCBuZXh0Um9vdEluc3RhbmNlLCBmaWJlcik7XG4gICAgICBwdXNoKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlciwgZmliZXIpO1xuICAgICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG51bGwsIGZpYmVyKTtcbiAgICAgIHZhciBuZXh0Um9vdENvbnRleHQgPSBuZXh0Um9vdEluc3RhbmNlLm5vZGVUeXBlO1xuICAgICAgc3dpdGNoIChuZXh0Um9vdENvbnRleHQpIHtcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIG5leHRSb290Q29udGV4dCA9IDkgPT09IG5leHRSb290Q29udGV4dCA/IFwiI2RvY3VtZW50XCIgOiBcIiNmcmFnbWVudFwiO1xuICAgICAgICAgIG5leHRSb290SW5zdGFuY2UgPSAobmV4dFJvb3RJbnN0YW5jZSA9XG4gICAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlLmRvY3VtZW50RWxlbWVudClcbiAgICAgICAgICAgID8gKG5leHRSb290SW5zdGFuY2UgPSBuZXh0Um9vdEluc3RhbmNlLm5hbWVzcGFjZVVSSSlcbiAgICAgICAgICAgICAgPyBnZXRPd25Ib3N0Q29udGV4dChuZXh0Um9vdEluc3RhbmNlKVxuICAgICAgICAgICAgICA6IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZVxuICAgICAgICAgICAgOiBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKChuZXh0Um9vdEluc3RhbmNlID1cbiAgICAgICAgICAgICAgOCA9PT0gbmV4dFJvb3RDb250ZXh0XG4gICAgICAgICAgICAgICAgPyBuZXh0Um9vdEluc3RhbmNlLnBhcmVudE5vZGVcbiAgICAgICAgICAgICAgICA6IG5leHRSb290SW5zdGFuY2UpLFxuICAgICAgICAgICAgKG5leHRSb290Q29udGV4dCA9IG5leHRSb290SW5zdGFuY2UudGFnTmFtZSksXG4gICAgICAgICAgICAobmV4dFJvb3RJbnN0YW5jZSA9IG5leHRSb290SW5zdGFuY2UubmFtZXNwYWNlVVJJKSlcbiAgICAgICAgICApXG4gICAgICAgICAgICAobmV4dFJvb3RJbnN0YW5jZSA9IGdldE93bkhvc3RDb250ZXh0KG5leHRSb290SW5zdGFuY2UpKSxcbiAgICAgICAgICAgICAgKG5leHRSb290SW5zdGFuY2UgPSBnZXRDaGlsZEhvc3RDb250ZXh0UHJvZChcbiAgICAgICAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlLFxuICAgICAgICAgICAgICAgIG5leHRSb290Q29udGV4dFxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBzd2l0Y2ggKG5leHRSb290Q29udGV4dCkge1xuICAgICAgICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZSA9IEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwibWF0aFwiOlxuICAgICAgICAgICAgICAgIG5leHRSb290SW5zdGFuY2UgPSBIb3N0Q29udGV4dE5hbWVzcGFjZU1hdGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZSA9IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5leHRSb290Q29udGV4dCA9IG5leHRSb290Q29udGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgICAgbmV4dFJvb3RDb250ZXh0ID0gdXBkYXRlZEFuY2VzdG9ySW5mb0RldihudWxsLCBuZXh0Um9vdENvbnRleHQpO1xuICAgICAgbmV4dFJvb3RDb250ZXh0ID0ge1xuICAgICAgICBjb250ZXh0OiBuZXh0Um9vdEluc3RhbmNlLFxuICAgICAgICBhbmNlc3RvckluZm86IG5leHRSb290Q29udGV4dFxuICAgICAgfTtcbiAgICAgIHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBuZXh0Um9vdENvbnRleHQsIGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wSG9zdENvbnRhaW5lcihmaWJlcikge1xuICAgICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgICAgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgICBwb3Aocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SG9zdENvbnRleHQoKSB7XG4gICAgICByZXR1cm4gcmVxdWlyZWRDb250ZXh0KGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaEhvc3RDb250ZXh0KGZpYmVyKSB7XG4gICAgICBudWxsICE9PSBmaWJlci5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgIHB1c2goaG9zdFRyYW5zaXRpb25Qcm92aWRlckN1cnNvciwgZmliZXIsIGZpYmVyKTtcbiAgICAgIHZhciBjb250ZXh0ID0gcmVxdWlyZWRDb250ZXh0KGNvbnRleHRTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZTtcbiAgICAgIHZhciBuZXh0Q29udGV4dCA9IGdldENoaWxkSG9zdENvbnRleHRQcm9kKGNvbnRleHQuY29udGV4dCwgdHlwZSk7XG4gICAgICB0eXBlID0gdXBkYXRlZEFuY2VzdG9ySW5mb0Rldihjb250ZXh0LmFuY2VzdG9ySW5mbywgdHlwZSk7XG4gICAgICBuZXh0Q29udGV4dCA9IHsgY29udGV4dDogbmV4dENvbnRleHQsIGFuY2VzdG9ySW5mbzogdHlwZSB9O1xuICAgICAgY29udGV4dCAhPT0gbmV4dENvbnRleHQgJiZcbiAgICAgICAgKHB1c2goY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyLCBmaWJlciksXG4gICAgICAgIHB1c2goY29udGV4dFN0YWNrQ3Vyc29yLCBuZXh0Q29udGV4dCwgZmliZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wSG9zdENvbnRleHQoZmliZXIpIHtcbiAgICAgIGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLmN1cnJlbnQgPT09IGZpYmVyICYmXG4gICAgICAgIChwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlciksIHBvcChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIpKTtcbiAgICAgIGhvc3RUcmFuc2l0aW9uUHJvdmlkZXJDdXJzb3IuY3VycmVudCA9PT0gZmliZXIgJiZcbiAgICAgICAgKHBvcChob3N0VHJhbnNpdGlvblByb3ZpZGVyQ3Vyc29yLCBmaWJlciksXG4gICAgICAgIChIb3N0VHJhbnNpdGlvbkNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IE5vdFBlbmRpbmdUcmFuc2l0aW9uKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHR5cGVOYW1lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICBcIk9iamVjdFwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSksICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgYXR0cmlidXRlTmFtZSkge1xuICAgICAgaWYgKHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgcHJvdmlkZWQgYCVzYCBhdHRyaWJ1dGUgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgdHlwZU5hbWUodmFsdWUpXG4gICAgICAgICAgKSxcbiAgICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrQ1NTUHJvcGVydHlTdHJpbmdDb2VyY2lvbih2YWx1ZSwgcHJvcE5hbWUpIHtcbiAgICAgIGlmICh3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGAlc2AgQ1NTIHByb3BlcnR5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgICAgICB0eXBlTmFtZSh2YWx1ZSlcbiAgICAgICAgICApLFxuICAgICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSlcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tGb3JtRmllbGRWYWx1ZVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkZvcm0gZmllbGQgdmFsdWVzICh2YWx1ZSwgY2hlY2tlZCwgZGVmYXVsdFZhbHVlLCBvciBkZWZhdWx0Q2hlY2tlZCBwcm9wcykgbXVzdCBiZSBzdHJpbmdzLCBub3QgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgICAgdHlwZU5hbWUodmFsdWUpXG4gICAgICAgICAgKSxcbiAgICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluamVjdEludGVybmFscyhpbnRlcm5hbHMpIHtcbiAgICAgIGlmIChcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fKSByZXR1cm4gITE7XG4gICAgICB2YXIgaG9vayA9IF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcbiAgICAgIGlmIChob29rLmlzRGlzYWJsZWQpIHJldHVybiAhMDtcbiAgICAgIGlmICghaG9vay5zdXBwb3J0c0ZpYmVyKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSBpbnN0YWxsZWQgdmVyc2lvbiBvZiBSZWFjdCBEZXZUb29scyBpcyB0b28gb2xkIGFuZCB3aWxsIG5vdCB3b3JrIHdpdGggdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBSZWFjdC4gUGxlYXNlIHVwZGF0ZSBSZWFjdCBEZXZUb29scy4gaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9yZWFjdC1kZXZ0b29sc1wiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAhMFxuICAgICAgICApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgKHJlbmRlcmVySUQgPSBob29rLmluamVjdChpbnRlcm5hbHMpKSwgKGluamVjdGVkSG9vayA9IGhvb2spO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzLlwiLCBlcnIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhvb2suY2hlY2tEQ0UgPyAhMCA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkNvbW1pdFJvb3QkMShyb290LCBldmVudFByaW9yaXR5KSB7XG4gICAgICBpZiAoaW5qZWN0ZWRIb29rICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkSG9vay5vbkNvbW1pdEZpYmVyUm9vdClcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgZGlkRXJyb3IgPSAxMjggPT09IChyb290LmN1cnJlbnQuZmxhZ3MgJiAxMjgpO1xuICAgICAgICAgIHN3aXRjaCAoZXZlbnRQcmlvcml0eSkge1xuICAgICAgICAgICAgY2FzZSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHZhciBzY2hlZHVsZXJQcmlvcml0eSA9IEltbWVkaWF0ZVByaW9yaXR5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQ29udGludW91c0V2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHNjaGVkdWxlclByaW9yaXR5ID0gVXNlckJsb2NraW5nUHJpb3JpdHk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBEZWZhdWx0RXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgICAgc2NoZWR1bGVyUHJpb3JpdHkgPSBOb3JtYWxQcmlvcml0eSQxO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgSWRsZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICAgIHNjaGVkdWxlclByaW9yaXR5ID0gSWRsZVByaW9yaXR5O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHNjaGVkdWxlclByaW9yaXR5ID0gTm9ybWFsUHJpb3JpdHkkMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5qZWN0ZWRIb29rLm9uQ29tbWl0RmliZXJSb290KFxuICAgICAgICAgICAgcmVuZGVyZXJJRCxcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBzY2hlZHVsZXJQcmlvcml0eSxcbiAgICAgICAgICAgIGRpZEVycm9yXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaGFzTG9nZ2VkRXJyb3IgfHxcbiAgICAgICAgICAgICgoaGFzTG9nZ2VkRXJyb3IgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGluc3RydW1lbnRhdGlvbiBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXNcIixcbiAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyhuZXdJc1N0cmljdE1vZGUpIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGxvZyQxICYmXG4gICAgICAgIHVuc3RhYmxlX3NldERpc2FibGVZaWVsZFZhbHVlKG5ld0lzU3RyaWN0TW9kZSk7XG4gICAgICBpZiAoaW5qZWN0ZWRIb29rICYmIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkSG9vay5zZXRTdHJpY3RNb2RlKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGluamVjdGVkSG9vay5zZXRTdHJpY3RNb2RlKHJlbmRlcmVySUQsIG5ld0lzU3RyaWN0TW9kZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGhhc0xvZ2dlZEVycm9yIHx8XG4gICAgICAgICAgICAoKGhhc0xvZ2dlZEVycm9yID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsXG4gICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW5qZWN0UHJvZmlsaW5nSG9va3MocHJvZmlsaW5nSG9va3MpIHtcbiAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MgPSBwcm9maWxpbmdIb29rcztcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya0NvbW1pdFN0b3BwZWQoKSB7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbW1pdFN0b3BwZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tbWl0U3RvcHBlZCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZChmaWJlcikge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZChmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCkge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUmVuZGVyU3RhcnRlZChsYW5lcykge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTdGFydGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclN0YXJ0ZWQobGFuZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUmVuZGVyU3RvcHBlZCgpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU3RvcHBlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTdG9wcGVkKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChmaWJlciwgbGFuZSkge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChmaWJlciwgbGFuZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsejMyRmFsbGJhY2soeCkge1xuICAgICAgeCA+Pj49IDA7XG4gICAgICByZXR1cm4gMCA9PT0geCA/IDMyIDogKDMxIC0gKChsb2coeCkgLyBMTjIpIHwgMCkpIHwgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGFiZWxGb3JMYW5lKGxhbmUpIHtcbiAgICAgIGlmIChsYW5lICYgMSkgcmV0dXJuIFwiU3luY0h5ZHJhdGlvbkxhbmVcIjtcbiAgICAgIGlmIChsYW5lICYgMikgcmV0dXJuIFwiU3luY1wiO1xuICAgICAgaWYgKGxhbmUgJiA0KSByZXR1cm4gXCJJbnB1dENvbnRpbnVvdXNIeWRyYXRpb25cIjtcbiAgICAgIGlmIChsYW5lICYgOCkgcmV0dXJuIFwiSW5wdXRDb250aW51b3VzXCI7XG4gICAgICBpZiAobGFuZSAmIDE2KSByZXR1cm4gXCJEZWZhdWx0SHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDMyKSByZXR1cm4gXCJEZWZhdWx0XCI7XG4gICAgICBpZiAobGFuZSAmIDY0KSByZXR1cm4gXCJUcmFuc2l0aW9uSHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDQxOTQxNzYpIHJldHVybiBcIlRyYW5zaXRpb25cIjtcbiAgICAgIGlmIChsYW5lICYgNjI5MTQ1NjApIHJldHVybiBcIlJldHJ5XCI7XG4gICAgICBpZiAobGFuZSAmIDY3MTA4ODY0KSByZXR1cm4gXCJTZWxlY3RpdmVIeWRyYXRpb25cIjtcbiAgICAgIGlmIChsYW5lICYgMTM0MjE3NzI4KSByZXR1cm4gXCJJZGxlSHlkcmF0aW9uXCI7XG4gICAgICBpZiAobGFuZSAmIDI2ODQzNTQ1NikgcmV0dXJuIFwiSWRsZVwiO1xuICAgICAgaWYgKGxhbmUgJiA1MzY4NzA5MTIpIHJldHVybiBcIk9mZnNjcmVlblwiO1xuICAgICAgaWYgKGxhbmUgJiAxMDczNzQxODI0KSByZXR1cm4gXCJEZWZlcnJlZFwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhsYW5lcykge1xuICAgICAgdmFyIHBlbmRpbmdTeW5jTGFuZXMgPSBsYW5lcyAmIDQyO1xuICAgICAgaWYgKDAgIT09IHBlbmRpbmdTeW5jTGFuZXMpIHJldHVybiBwZW5kaW5nU3luY0xhbmVzO1xuICAgICAgc3dpdGNoIChsYW5lcyAmIC1sYW5lcykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gMjtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiA0O1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgcmV0dXJuIDg7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgcmV0dXJuIDE2O1xuICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgIHJldHVybiAzMjtcbiAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgICByZXR1cm4gNjQ7XG4gICAgICAgIGNhc2UgMTI4OlxuICAgICAgICBjYXNlIDI1NjpcbiAgICAgICAgY2FzZSA1MTI6XG4gICAgICAgIGNhc2UgMTAyNDpcbiAgICAgICAgY2FzZSAyMDQ4OlxuICAgICAgICBjYXNlIDQwOTY6XG4gICAgICAgIGNhc2UgODE5MjpcbiAgICAgICAgY2FzZSAxNjM4NDpcbiAgICAgICAgY2FzZSAzMjc2ODpcbiAgICAgICAgY2FzZSA2NTUzNjpcbiAgICAgICAgY2FzZSAxMzEwNzI6XG4gICAgICAgIGNhc2UgMjYyMTQ0OlxuICAgICAgICBjYXNlIDUyNDI4ODpcbiAgICAgICAgY2FzZSAxMDQ4NTc2OlxuICAgICAgICBjYXNlIDIwOTcxNTI6XG4gICAgICAgICAgcmV0dXJuIGxhbmVzICYgNDE5NDE3NjtcbiAgICAgICAgY2FzZSA0MTk0MzA0OlxuICAgICAgICBjYXNlIDgzODg2MDg6XG4gICAgICAgIGNhc2UgMTY3NzcyMTY6XG4gICAgICAgIGNhc2UgMzM1NTQ0MzI6XG4gICAgICAgICAgcmV0dXJuIGxhbmVzICYgNjI5MTQ1NjA7XG4gICAgICAgIGNhc2UgNjcxMDg4NjQ6XG4gICAgICAgICAgcmV0dXJuIDY3MTA4ODY0O1xuICAgICAgICBjYXNlIDEzNDIxNzcyODpcbiAgICAgICAgICByZXR1cm4gMTM0MjE3NzI4O1xuICAgICAgICBjYXNlIDI2ODQzNTQ1NjpcbiAgICAgICAgICByZXR1cm4gMjY4NDM1NDU2O1xuICAgICAgICBjYXNlIDUzNjg3MDkxMjpcbiAgICAgICAgICByZXR1cm4gNTM2ODcwOTEyO1xuICAgICAgICBjYXNlIDEwNzM3NDE4MjQ6XG4gICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiU2hvdWxkIGhhdmUgZm91bmQgbWF0Y2hpbmcgbGFuZXMuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5leHRMYW5lcyhyb290LCB3aXBMYW5lcykge1xuICAgICAgdmFyIHBlbmRpbmdMYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgaWYgKDAgPT09IHBlbmRpbmdMYW5lcykgcmV0dXJuIDA7XG4gICAgICB2YXIgbmV4dExhbmVzID0gMCxcbiAgICAgICAgc3VzcGVuZGVkTGFuZXMgPSByb290LnN1c3BlbmRlZExhbmVzLFxuICAgICAgICBwaW5nZWRMYW5lcyA9IHJvb3QucGluZ2VkTGFuZXMsXG4gICAgICAgIHdhcm1MYW5lcyA9IHJvb3Qud2FybUxhbmVzO1xuICAgICAgcm9vdCA9IDAgIT09IHJvb3QuZmluaXNoZWRMYW5lcztcbiAgICAgIHZhciBub25JZGxlUGVuZGluZ0xhbmVzID0gcGVuZGluZ0xhbmVzICYgMTM0MjE3NzI3O1xuICAgICAgMCAhPT0gbm9uSWRsZVBlbmRpbmdMYW5lc1xuICAgICAgICA/ICgocGVuZGluZ0xhbmVzID0gbm9uSWRsZVBlbmRpbmdMYW5lcyAmIH5zdXNwZW5kZWRMYW5lcyksXG4gICAgICAgICAgMCAhPT0gcGVuZGluZ0xhbmVzXG4gICAgICAgICAgICA/IChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhwZW5kaW5nTGFuZXMpKVxuICAgICAgICAgICAgOiAoKHBpbmdlZExhbmVzICY9IG5vbklkbGVQZW5kaW5nTGFuZXMpLFxuICAgICAgICAgICAgICAwICE9PSBwaW5nZWRMYW5lc1xuICAgICAgICAgICAgICAgID8gKG5leHRMYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKHBpbmdlZExhbmVzKSlcbiAgICAgICAgICAgICAgICA6IHJvb3QgfHxcbiAgICAgICAgICAgICAgICAgICgod2FybUxhbmVzID0gbm9uSWRsZVBlbmRpbmdMYW5lcyAmIH53YXJtTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgMCAhPT0gd2FybUxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAgIChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyh3YXJtTGFuZXMpKSkpKVxuICAgICAgICA6ICgobm9uSWRsZVBlbmRpbmdMYW5lcyA9IHBlbmRpbmdMYW5lcyAmIH5zdXNwZW5kZWRMYW5lcyksXG4gICAgICAgICAgMCAhPT0gbm9uSWRsZVBlbmRpbmdMYW5lc1xuICAgICAgICAgICAgPyAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMobm9uSWRsZVBlbmRpbmdMYW5lcykpXG4gICAgICAgICAgICA6IDAgIT09IHBpbmdlZExhbmVzXG4gICAgICAgICAgICAgID8gKG5leHRMYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKHBpbmdlZExhbmVzKSlcbiAgICAgICAgICAgICAgOiByb290IHx8XG4gICAgICAgICAgICAgICAgKCh3YXJtTGFuZXMgPSBwZW5kaW5nTGFuZXMgJiB+d2FybUxhbmVzKSxcbiAgICAgICAgICAgICAgICAwICE9PSB3YXJtTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgIChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyh3YXJtTGFuZXMpKSkpO1xuICAgICAgcmV0dXJuIDAgPT09IG5leHRMYW5lc1xuICAgICAgICA/IDBcbiAgICAgICAgOiAwICE9PSB3aXBMYW5lcyAmJlxuICAgICAgICAgICAgd2lwTGFuZXMgIT09IG5leHRMYW5lcyAmJlxuICAgICAgICAgICAgMCA9PT0gKHdpcExhbmVzICYgc3VzcGVuZGVkTGFuZXMpICYmXG4gICAgICAgICAgICAoKHN1c3BlbmRlZExhbmVzID0gbmV4dExhbmVzICYgLW5leHRMYW5lcyksXG4gICAgICAgICAgICAod2FybUxhbmVzID0gd2lwTGFuZXMgJiAtd2lwTGFuZXMpLFxuICAgICAgICAgICAgc3VzcGVuZGVkTGFuZXMgPj0gd2FybUxhbmVzIHx8XG4gICAgICAgICAgICAgICgzMiA9PT0gc3VzcGVuZGVkTGFuZXMgJiYgMCAhPT0gKHdhcm1MYW5lcyAmIDQxOTQxNzYpKSlcbiAgICAgICAgICA/IHdpcExhbmVzXG4gICAgICAgICAgOiBuZXh0TGFuZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcocm9vdCwgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDAgPT09XG4gICAgICAgIChyb290LnBlbmRpbmdMYW5lcyAmXG4gICAgICAgICAgfihyb290LnN1c3BlbmRlZExhbmVzICYgfnJvb3QucGluZ2VkTGFuZXMpICZcbiAgICAgICAgICByZW5kZXJMYW5lcylcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXB1dGVFeHBpcmF0aW9uVGltZShsYW5lLCBjdXJyZW50VGltZSkge1xuICAgICAgc3dpdGNoIChsYW5lKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICBjYXNlIDQ6XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICByZXR1cm4gY3VycmVudFRpbWUgKyAyNTA7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgIGNhc2UgNjQ6XG4gICAgICAgIGNhc2UgMTI4OlxuICAgICAgICBjYXNlIDI1NjpcbiAgICAgICAgY2FzZSA1MTI6XG4gICAgICAgIGNhc2UgMTAyNDpcbiAgICAgICAgY2FzZSAyMDQ4OlxuICAgICAgICBjYXNlIDQwOTY6XG4gICAgICAgIGNhc2UgODE5MjpcbiAgICAgICAgY2FzZSAxNjM4NDpcbiAgICAgICAgY2FzZSAzMjc2ODpcbiAgICAgICAgY2FzZSA2NTUzNjpcbiAgICAgICAgY2FzZSAxMzEwNzI6XG4gICAgICAgIGNhc2UgMjYyMTQ0OlxuICAgICAgICBjYXNlIDUyNDI4ODpcbiAgICAgICAgY2FzZSAxMDQ4NTc2OlxuICAgICAgICBjYXNlIDIwOTcxNTI6XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnRUaW1lICsgNWUzO1xuICAgICAgICBjYXNlIDQxOTQzMDQ6XG4gICAgICAgIGNhc2UgODM4ODYwODpcbiAgICAgICAgY2FzZSAxNjc3NzIxNjpcbiAgICAgICAgY2FzZSAzMzU1NDQzMjpcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGNhc2UgNjcxMDg4NjQ6XG4gICAgICAgIGNhc2UgMTM0MjE3NzI4OlxuICAgICAgICBjYXNlIDI2ODQzNTQ1NjpcbiAgICAgICAgY2FzZSA1MzY4NzA5MTI6XG4gICAgICAgIGNhc2UgMTA3Mzc0MTgyNDpcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiU2hvdWxkIGhhdmUgZm91bmQgbWF0Y2hpbmcgbGFuZXMuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAtMVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsYWltTmV4dFRyYW5zaXRpb25MYW5lKCkge1xuICAgICAgdmFyIGxhbmUgPSBuZXh0VHJhbnNpdGlvbkxhbmU7XG4gICAgICBuZXh0VHJhbnNpdGlvbkxhbmUgPDw9IDE7XG4gICAgICAwID09PSAobmV4dFRyYW5zaXRpb25MYW5lICYgNDE5NDE3NikgJiYgKG5leHRUcmFuc2l0aW9uTGFuZSA9IDEyOCk7XG4gICAgICByZXR1cm4gbGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xhaW1OZXh0UmV0cnlMYW5lKCkge1xuICAgICAgdmFyIGxhbmUgPSBuZXh0UmV0cnlMYW5lO1xuICAgICAgbmV4dFJldHJ5TGFuZSA8PD0gMTtcbiAgICAgIDAgPT09IChuZXh0UmV0cnlMYW5lICYgNjI5MTQ1NjApICYmIChuZXh0UmV0cnlMYW5lID0gNDE5NDMwNCk7XG4gICAgICByZXR1cm4gbGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlTGFuZU1hcChpbml0aWFsKSB7XG4gICAgICBmb3IgKHZhciBsYW5lTWFwID0gW10sIGkgPSAwOyAzMSA+IGk7IGkrKykgbGFuZU1hcC5wdXNoKGluaXRpYWwpO1xuICAgICAgcmV0dXJuIGxhbmVNYXA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSb290VXBkYXRlZCQxKHJvb3QsIHVwZGF0ZUxhbmUpIHtcbiAgICAgIHJvb3QucGVuZGluZ0xhbmVzIHw9IHVwZGF0ZUxhbmU7XG4gICAgICAyNjg0MzU0NTYgIT09IHVwZGF0ZUxhbmUgJiZcbiAgICAgICAgKChyb290LnN1c3BlbmRlZExhbmVzID0gMCksXG4gICAgICAgIChyb290LnBpbmdlZExhbmVzID0gMCksXG4gICAgICAgIChyb290Lndhcm1MYW5lcyA9IDApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1Jvb3RGaW5pc2hlZChcbiAgICAgIHJvb3QsXG4gICAgICBmaW5pc2hlZExhbmVzLFxuICAgICAgcmVtYWluaW5nTGFuZXMsXG4gICAgICBzcGF3bmVkTGFuZSxcbiAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXNcbiAgICApIHtcbiAgICAgIHZhciBwcmV2aW91c2x5UGVuZGluZ0xhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICByb290LnBlbmRpbmdMYW5lcyA9IHJlbWFpbmluZ0xhbmVzO1xuICAgICAgcm9vdC5zdXNwZW5kZWRMYW5lcyA9IDA7XG4gICAgICByb290LnBpbmdlZExhbmVzID0gMDtcbiAgICAgIHJvb3Qud2FybUxhbmVzID0gMDtcbiAgICAgIHJvb3QuZXhwaXJlZExhbmVzICY9IHJlbWFpbmluZ0xhbmVzO1xuICAgICAgcm9vdC5lbnRhbmdsZWRMYW5lcyAmPSByZW1haW5pbmdMYW5lcztcbiAgICAgIHJvb3QuZXJyb3JSZWNvdmVyeURpc2FibGVkTGFuZXMgJj0gcmVtYWluaW5nTGFuZXM7XG4gICAgICByb290LnNoZWxsU3VzcGVuZENvdW50ZXIgPSAwO1xuICAgICAgdmFyIGVudGFuZ2xlbWVudHMgPSByb290LmVudGFuZ2xlbWVudHMsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lcyA9IHJvb3QuZXhwaXJhdGlvblRpbWVzLFxuICAgICAgICBoaWRkZW5VcGRhdGVzID0gcm9vdC5oaWRkZW5VcGRhdGVzO1xuICAgICAgZm9yIChcbiAgICAgICAgcmVtYWluaW5nTGFuZXMgPSBwcmV2aW91c2x5UGVuZGluZ0xhbmVzICYgfnJlbWFpbmluZ0xhbmVzO1xuICAgICAgICAwIDwgcmVtYWluaW5nTGFuZXM7XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKHJlbWFpbmluZ0xhbmVzKSxcbiAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleDtcbiAgICAgICAgZW50YW5nbGVtZW50c1tpbmRleF0gPSAwO1xuICAgICAgICBleHBpcmF0aW9uVGltZXNbaW5kZXhdID0gLTE7XG4gICAgICAgIHZhciBoaWRkZW5VcGRhdGVzRm9yTGFuZSA9IGhpZGRlblVwZGF0ZXNbaW5kZXhdO1xuICAgICAgICBpZiAobnVsbCAhPT0gaGlkZGVuVXBkYXRlc0ZvckxhbmUpXG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIGhpZGRlblVwZGF0ZXNbaW5kZXhdID0gbnVsbCwgaW5kZXggPSAwO1xuICAgICAgICAgICAgaW5kZXggPCBoaWRkZW5VcGRhdGVzRm9yTGFuZS5sZW5ndGg7XG4gICAgICAgICAgICBpbmRleCsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgdXBkYXRlID0gaGlkZGVuVXBkYXRlc0ZvckxhbmVbaW5kZXhdO1xuICAgICAgICAgICAgbnVsbCAhPT0gdXBkYXRlICYmICh1cGRhdGUubGFuZSAmPSAtNTM2ODcwOTEzKTtcbiAgICAgICAgICB9XG4gICAgICAgIHJlbWFpbmluZ0xhbmVzICY9IH5sYW5lO1xuICAgICAgfVxuICAgICAgMCAhPT0gc3Bhd25lZExhbmUgJiYgbWFya1NwYXduZWREZWZlcnJlZExhbmUocm9vdCwgc3Bhd25lZExhbmUsIDApO1xuICAgICAgMCAhPT0gc3VzcGVuZGVkUmV0cnlMYW5lcyAmJlxuICAgICAgICAwID09PSB1cGRhdGVkTGFuZXMgJiZcbiAgICAgICAgMCAhPT0gcm9vdC50YWcgJiZcbiAgICAgICAgKHJvb3Quc3VzcGVuZGVkTGFuZXMgfD1cbiAgICAgICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzICYgfihwcmV2aW91c2x5UGVuZGluZ0xhbmVzICYgfmZpbmlzaGVkTGFuZXMpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1NwYXduZWREZWZlcnJlZExhbmUocm9vdCwgc3Bhd25lZExhbmUsIGVudGFuZ2xlZExhbmVzKSB7XG4gICAgICByb290LnBlbmRpbmdMYW5lcyB8PSBzcGF3bmVkTGFuZTtcbiAgICAgIHJvb3Quc3VzcGVuZGVkTGFuZXMgJj0gfnNwYXduZWRMYW5lO1xuICAgICAgdmFyIHNwYXduZWRMYW5lSW5kZXggPSAzMSAtIGNsejMyKHNwYXduZWRMYW5lKTtcbiAgICAgIHJvb3QuZW50YW5nbGVkTGFuZXMgfD0gc3Bhd25lZExhbmU7XG4gICAgICByb290LmVudGFuZ2xlbWVudHNbc3Bhd25lZExhbmVJbmRleF0gPVxuICAgICAgICByb290LmVudGFuZ2xlbWVudHNbc3Bhd25lZExhbmVJbmRleF0gfFxuICAgICAgICAxMDczNzQxODI0IHxcbiAgICAgICAgKGVudGFuZ2xlZExhbmVzICYgNDE5NDIxOCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSb290RW50YW5nbGVkKHJvb3QsIGVudGFuZ2xlZExhbmVzKSB7XG4gICAgICB2YXIgcm9vdEVudGFuZ2xlZExhbmVzID0gKHJvb3QuZW50YW5nbGVkTGFuZXMgfD0gZW50YW5nbGVkTGFuZXMpO1xuICAgICAgZm9yIChyb290ID0gcm9vdC5lbnRhbmdsZW1lbnRzOyByb290RW50YW5nbGVkTGFuZXM7ICkge1xuICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKHJvb3RFbnRhbmdsZWRMYW5lcyksXG4gICAgICAgICAgbGFuZSA9IDEgPDwgaW5kZXg7XG4gICAgICAgIChsYW5lICYgZW50YW5nbGVkTGFuZXMpIHwgKHJvb3RbaW5kZXhdICYgZW50YW5nbGVkTGFuZXMpICYmXG4gICAgICAgICAgKHJvb3RbaW5kZXhdIHw9IGVudGFuZ2xlZExhbmVzKTtcbiAgICAgICAgcm9vdEVudGFuZ2xlZExhbmVzICY9IH5sYW5lO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRGaWJlclRvTGFuZXNNYXAocm9vdCwgZmliZXIsIGxhbmVzKSB7XG4gICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpXG4gICAgICAgIGZvciAocm9vdCA9IHJvb3QucGVuZGluZ1VwZGF0ZXJzTGFuZU1hcDsgMCA8IGxhbmVzOyApIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKGxhbmVzKSxcbiAgICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4O1xuICAgICAgICAgIHJvb3RbaW5kZXhdLmFkZChmaWJlcik7XG4gICAgICAgICAgbGFuZXMgJj0gfmxhbmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbW92ZVBlbmRpbmdGaWJlcnNUb01lbW9pemVkKHJvb3QsIGxhbmVzKSB7XG4gICAgICBpZiAoaXNEZXZUb29sc1ByZXNlbnQpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIHBlbmRpbmdVcGRhdGVyc0xhbmVNYXAgPSByb290LnBlbmRpbmdVcGRhdGVyc0xhbmVNYXAsXG4gICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzID0gcm9vdC5tZW1vaXplZFVwZGF0ZXJzO1xuICAgICAgICAgIDAgPCBsYW5lcztcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKGxhbmVzKTtcbiAgICAgICAgICByb290ID0gMSA8PCBpbmRleDtcbiAgICAgICAgICBpbmRleCA9IHBlbmRpbmdVcGRhdGVyc0xhbmVNYXBbaW5kZXhdO1xuICAgICAgICAgIDAgPCBpbmRleC5zaXplICYmXG4gICAgICAgICAgICAoaW5kZXguZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgICAgICAgICAgKG51bGwgIT09IGFsdGVybmF0ZSAmJiBtZW1vaXplZFVwZGF0ZXJzLmhhcyhhbHRlcm5hdGUpKSB8fFxuICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMuYWRkKGZpYmVyKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgaW5kZXguY2xlYXIoKSk7XG4gICAgICAgICAgbGFuZXMgJj0gfnJvb3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbGFuZXNUb0V2ZW50UHJpb3JpdHkobGFuZXMpIHtcbiAgICAgIGxhbmVzICY9IC1sYW5lcztcbiAgICAgIHJldHVybiAwICE9PSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkgJiYgRGlzY3JldGVFdmVudFByaW9yaXR5IDwgbGFuZXNcbiAgICAgICAgPyAwICE9PSBDb250aW51b3VzRXZlbnRQcmlvcml0eSAmJiBDb250aW51b3VzRXZlbnRQcmlvcml0eSA8IGxhbmVzXG4gICAgICAgICAgPyAwICE9PSAobGFuZXMgJiAxMzQyMTc3MjcpXG4gICAgICAgICAgICA/IERlZmF1bHRFdmVudFByaW9yaXR5XG4gICAgICAgICAgICA6IElkbGVFdmVudFByaW9yaXR5XG4gICAgICAgICAgOiBDb250aW51b3VzRXZlbnRQcmlvcml0eVxuICAgICAgICA6IERpc2NyZXRlRXZlbnRQcmlvcml0eTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVVwZGF0ZVByaW9yaXR5KCkge1xuICAgICAgdmFyIHVwZGF0ZVByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIGlmICgwICE9PSB1cGRhdGVQcmlvcml0eSkgcmV0dXJuIHVwZGF0ZVByaW9yaXR5O1xuICAgICAgdXBkYXRlUHJpb3JpdHkgPSB3aW5kb3cuZXZlbnQ7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSB1cGRhdGVQcmlvcml0eVxuICAgICAgICA/IERlZmF1bHRFdmVudFByaW9yaXR5XG4gICAgICAgIDogZ2V0RXZlbnRQcmlvcml0eSh1cGRhdGVQcmlvcml0eS50eXBlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuV2l0aFByaW9yaXR5KHByaW9yaXR5LCBmbikge1xuICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJpb3JpdHkpLCBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzUHJpb3JpdHk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRldGFjaERlbGV0ZWRJbnN0YW5jZShub2RlKSB7XG4gICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XTtcbiAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsUHJvcHNLZXldO1xuICAgICAgZGVsZXRlIG5vZGVbaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5XTtcbiAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVyTGlzdGVuZXJzS2V5XTtcbiAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsRXZlbnRIYW5kbGVzU2V0S2V5XTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0Tm9kZSkge1xuICAgICAgdmFyIHRhcmdldEluc3QgPSB0YXJnZXROb2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuICAgICAgaWYgKHRhcmdldEluc3QpIHJldHVybiB0YXJnZXRJbnN0O1xuICAgICAgZm9yICh2YXIgcGFyZW50Tm9kZSA9IHRhcmdldE5vZGUucGFyZW50Tm9kZTsgcGFyZW50Tm9kZTsgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAodGFyZ2V0SW5zdCA9XG4gICAgICAgICAgICBwYXJlbnROb2RlW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldIHx8XG4gICAgICAgICAgICBwYXJlbnROb2RlW2ludGVybmFsSW5zdGFuY2VLZXldKVxuICAgICAgICApIHtcbiAgICAgICAgICBwYXJlbnROb2RlID0gdGFyZ2V0SW5zdC5hbHRlcm5hdGU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCAhPT0gdGFyZ2V0SW5zdC5jaGlsZCB8fFxuICAgICAgICAgICAgKG51bGwgIT09IHBhcmVudE5vZGUgJiYgbnVsbCAhPT0gcGFyZW50Tm9kZS5jaGlsZClcbiAgICAgICAgICApXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICB0YXJnZXROb2RlID0gZ2V0UGFyZW50U3VzcGVuc2VJbnN0YW5jZSh0YXJnZXROb2RlKTtcbiAgICAgICAgICAgICAgbnVsbCAhPT0gdGFyZ2V0Tm9kZTtcblxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGlmICgocGFyZW50Tm9kZSA9IHRhcmdldE5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJlbnROb2RlO1xuICAgICAgICAgICAgICB0YXJnZXROb2RlID0gZ2V0UGFyZW50U3VzcGVuc2VJbnN0YW5jZSh0YXJnZXROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXROb2RlID0gcGFyZW50Tm9kZTtcbiAgICAgICAgcGFyZW50Tm9kZSA9IHRhcmdldE5vZGUucGFyZW50Tm9kZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbnN0YW5jZUZyb21Ob2RlKG5vZGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgKG5vZGUgPSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldIHx8IG5vZGVbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV0pXG4gICAgICApIHtcbiAgICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgNSA9PT0gdGFnIHx8XG4gICAgICAgICAgNiA9PT0gdGFnIHx8XG4gICAgICAgICAgMTMgPT09IHRhZyB8fFxuICAgICAgICAgIDI2ID09PSB0YWcgfHxcbiAgICAgICAgICAyNyA9PT0gdGFnIHx8XG4gICAgICAgICAgMyA9PT0gdGFnXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROb2RlRnJvbUluc3RhbmNlKGluc3QpIHtcbiAgICAgIHZhciB0YWcgPSBpbnN0LnRhZztcbiAgICAgIGlmICg1ID09PSB0YWcgfHwgMjYgPT09IHRhZyB8fCAyNyA9PT0gdGFnIHx8IDYgPT09IHRhZylcbiAgICAgICAgcmV0dXJuIGluc3Quc3RhdGVOb2RlO1xuICAgICAgdGhyb3cgRXJyb3IoXCJnZXROb2RlRnJvbUluc3RhbmNlOiBJbnZhbGlkIGFyZ3VtZW50LlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmVzb3VyY2VzRnJvbVJvb3Qocm9vdCkge1xuICAgICAgdmFyIHJlc291cmNlcyA9IHJvb3RbaW50ZXJuYWxSb290Tm9kZVJlc291cmNlc0tleV07XG4gICAgICByZXNvdXJjZXMgfHxcbiAgICAgICAgKHJlc291cmNlcyA9IHJvb3RbaW50ZXJuYWxSb290Tm9kZVJlc291cmNlc0tleV0gPVxuICAgICAgICAgIHsgaG9pc3RhYmxlU3R5bGVzOiBuZXcgTWFwKCksIGhvaXN0YWJsZVNjcmlwdHM6IG5ldyBNYXAoKSB9KTtcbiAgICAgIHJldHVybiByZXNvdXJjZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtOb2RlQXNIb2lzdGFibGUobm9kZSkge1xuICAgICAgbm9kZVtpbnRlcm5hbEhvaXN0YWJsZU1hcmtlcl0gPSAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJUd29QaGFzZUV2ZW50KHJlZ2lzdHJhdGlvbk5hbWUsIGRlcGVuZGVuY2llcykge1xuICAgICAgcmVnaXN0ZXJEaXJlY3RFdmVudChyZWdpc3RyYXRpb25OYW1lLCBkZXBlbmRlbmNpZXMpO1xuICAgICAgcmVnaXN0ZXJEaXJlY3RFdmVudChyZWdpc3RyYXRpb25OYW1lICsgXCJDYXB0dXJlXCIsIGRlcGVuZGVuY2llcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0RXZlbnQocmVnaXN0cmF0aW9uTmFtZSwgZGVwZW5kZW5jaWVzKSB7XG4gICAgICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFdmVudFJlZ2lzdHJ5OiBNb3JlIHRoYW4gb25lIHBsdWdpbiBhdHRlbXB0ZWQgdG8gcHVibGlzaCB0aGUgc2FtZSByZWdpc3RyYXRpb24gbmFtZSwgYCVzYC5cIixcbiAgICAgICAgICByZWdpc3RyYXRpb25OYW1lXG4gICAgICAgICk7XG4gICAgICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzW3JlZ2lzdHJhdGlvbk5hbWVdID0gZGVwZW5kZW5jaWVzO1xuICAgICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gcmVnaXN0cmF0aW9uTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1tsb3dlckNhc2VkTmFtZV0gPSByZWdpc3RyYXRpb25OYW1lO1xuICAgICAgXCJvbkRvdWJsZUNsaWNrXCIgPT09IHJlZ2lzdHJhdGlvbk5hbWUgJiZcbiAgICAgICAgKHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMub25kYmxjbGljayA9IHJlZ2lzdHJhdGlvbk5hbWUpO1xuICAgICAgZm9yIChcbiAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSA9IDA7XG4gICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUgPCBkZXBlbmRlbmNpZXMubGVuZ3RoO1xuICAgICAgICByZWdpc3RyYXRpb25OYW1lKytcbiAgICAgIClcbiAgICAgICAgYWxsTmF0aXZlRXZlbnRzLmFkZChkZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKHRhZ05hbWUsIHByb3BzKSB7XG4gICAgICBoYXNSZWFkT25seVZhbHVlW3Byb3BzLnR5cGVdIHx8XG4gICAgICAgIHByb3BzLm9uQ2hhbmdlIHx8XG4gICAgICAgIHByb3BzLm9uSW5wdXQgfHxcbiAgICAgICAgcHJvcHMucmVhZE9ubHkgfHxcbiAgICAgICAgcHJvcHMuZGlzYWJsZWQgfHxcbiAgICAgICAgbnVsbCA9PSBwcm9wcy52YWx1ZSB8fFxuICAgICAgICAoXCJzZWxlY3RcIiA9PT0gdGFnTmFtZVxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgcHJvdmlkZWQgYSBgdmFsdWVgIHByb3AgdG8gYSBmb3JtIGZpZWxkIHdpdGhvdXQgYW4gYG9uQ2hhbmdlYCBoYW5kbGVyLiBUaGlzIHdpbGwgcmVuZGVyIGEgcmVhZC1vbmx5IGZpZWxkLiBJZiB0aGUgZmllbGQgc2hvdWxkIGJlIG11dGFibGUgdXNlIGBkZWZhdWx0VmFsdWVgLiBPdGhlcndpc2UsIHNldCBgb25DaGFuZ2VgLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBwcm92aWRlZCBhIGB2YWx1ZWAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiBgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmIHRoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRWYWx1ZWAuIE90aGVyd2lzZSwgc2V0IGVpdGhlciBgb25DaGFuZ2VgIG9yIGByZWFkT25seWAuXCJcbiAgICAgICAgICAgICkpO1xuICAgICAgcHJvcHMub25DaGFuZ2UgfHxcbiAgICAgICAgcHJvcHMucmVhZE9ubHkgfHxcbiAgICAgICAgcHJvcHMuZGlzYWJsZWQgfHxcbiAgICAgICAgbnVsbCA9PSBwcm9wcy5jaGVja2VkIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJZb3UgcHJvdmlkZWQgYSBgY2hlY2tlZGAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiBgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmIHRoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRDaGVja2VkYC4gT3RoZXJ3aXNlLCBzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0F0dHJpYnV0ZU5hbWVTYWZlKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSwgYXR0cmlidXRlTmFtZSkpXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUsIGF0dHJpYnV0ZU5hbWUpKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBpZiAoVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVgudGVzdChhdHRyaWJ1dGVOYW1lKSlcbiAgICAgICAgcmV0dXJuICh2YWxpZGF0ZWRBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSAhMCk7XG4gICAgICBpbGxlZ2FsQXR0cmlidXRlTmFtZUNhY2hlW2F0dHJpYnV0ZU5hbWVdID0gITA7XG4gICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBhdHRyaWJ1dGUgbmFtZTogYCVzYFwiLCBhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVGb3JBdHRyaWJ1dGVPbkN1c3RvbUNvbXBvbmVudChub2RlLCBuYW1lLCBleHBlY3RlZCkge1xuICAgICAgaWYgKGlzQXR0cmlidXRlTmFtZVNhZmUobmFtZSkpIHtcbiAgICAgICAgaWYgKCFub2RlLmhhc0F0dHJpYnV0ZShuYW1lKSkge1xuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIGV4cGVjdGVkKSB7XG4gICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICBpZiAoITEgPT09IGV4cGVjdGVkKSByZXR1cm4gZXhwZWN0ZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IGV4cGVjdGVkID8gdm9pZCAwIDogbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbm9kZS5nZXRBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIGlmIChcIlwiID09PSBub2RlICYmICEwID09PSBleHBlY3RlZCkgcmV0dXJuICEwO1xuICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKGV4cGVjdGVkLCBuYW1lKTtcbiAgICAgICAgcmV0dXJuIG5vZGUgPT09IFwiXCIgKyBleHBlY3RlZCA/IGV4cGVjdGVkIDogbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VmFsdWVGb3JBdHRyaWJ1dGUobm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChpc0F0dHJpYnV0ZU5hbWVTYWZlKG5hbWUpKVxuICAgICAgICBpZiAobnVsbCA9PT0gdmFsdWUpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gbmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDUpO1xuICAgICAgICAgICAgICBpZiAoXCJkYXRhLVwiICE9PSBwcmVmaXggJiYgXCJhcmlhLVwiICE9PSBwcmVmaXgpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgbmFtZSk7XG4gICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgXCJcIiArIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKG5vZGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gdmFsdWUpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgbmFtZSk7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKG5hbWUsIFwiXCIgKyB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShub2RlLCBuYW1lc3BhY2UsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gdmFsdWUpIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgbmFtZSk7XG4gICAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMobmFtZXNwYWNlLCBuYW1lLCBcIlwiICsgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgcmV0dXJuIGNoZWNrRm9ybUZpZWxkVmFsdWVTdHJpbmdDb2VyY2lvbih2YWx1ZSksIHZhbHVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc0NoZWNrYWJsZShlbGVtKSB7XG4gICAgICB2YXIgdHlwZSA9IGVsZW0udHlwZTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChlbGVtID0gZWxlbS5ub2RlTmFtZSkgJiZcbiAgICAgICAgXCJpbnB1dFwiID09PSBlbGVtLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAgICAgKFwiY2hlY2tib3hcIiA9PT0gdHlwZSB8fCBcInJhZGlvXCIgPT09IHR5cGUpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0cmFja1ZhbHVlT25Ob2RlKG5vZGUpIHtcbiAgICAgIHZhciB2YWx1ZUZpZWxkID0gaXNDaGVja2FibGUobm9kZSkgPyBcImNoZWNrZWRcIiA6IFwidmFsdWVcIixcbiAgICAgICAgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgbm9kZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsXG4gICAgICAgICAgdmFsdWVGaWVsZFxuICAgICAgICApO1xuICAgICAgY2hlY2tGb3JtRmllbGRWYWx1ZVN0cmluZ0NvZXJjaW9uKG5vZGVbdmFsdWVGaWVsZF0pO1xuICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IFwiXCIgKyBub2RlW3ZhbHVlRmllbGRdO1xuICAgICAgaWYgKFxuICAgICAgICAhbm9kZS5oYXNPd25Qcm9wZXJ0eSh2YWx1ZUZpZWxkKSAmJlxuICAgICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgZGVzY3JpcHRvciAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBkZXNjcmlwdG9yLmdldCAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBkZXNjcmlwdG9yLnNldFxuICAgICAgKSB7XG4gICAgICAgIHZhciBnZXQgPSBkZXNjcmlwdG9yLmdldCxcbiAgICAgICAgICBzZXQgPSBkZXNjcmlwdG9yLnNldDtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIHZhbHVlRmllbGQsIHtcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldC5jYWxsKHRoaXMpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNoZWNrRm9ybUZpZWxkVmFsdWVTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBcIlwiICsgdmFsdWU7XG4gICAgICAgICAgICBzZXQuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIHZhbHVlRmllbGQsIHtcbiAgICAgICAgICBlbnVtZXJhYmxlOiBkZXNjcmlwdG9yLmVudW1lcmFibGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgZ2V0VmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBjaGVja0Zvcm1GaWVsZFZhbHVlU3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gXCJcIiArIHZhbHVlO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RvcFRyYWNraW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBub2RlLl92YWx1ZVRyYWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgZGVsZXRlIG5vZGVbdmFsdWVGaWVsZF07XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB0cmFjayhub2RlKSB7XG4gICAgICBub2RlLl92YWx1ZVRyYWNrZXIgfHwgKG5vZGUuX3ZhbHVlVHJhY2tlciA9IHRyYWNrVmFsdWVPbk5vZGUobm9kZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVWYWx1ZUlmQ2hhbmdlZChub2RlKSB7XG4gICAgICBpZiAoIW5vZGUpIHJldHVybiAhMTtcbiAgICAgIHZhciB0cmFja2VyID0gbm9kZS5fdmFsdWVUcmFja2VyO1xuICAgICAgaWYgKCF0cmFja2VyKSByZXR1cm4gITA7XG4gICAgICB2YXIgbGFzdFZhbHVlID0gdHJhY2tlci5nZXRWYWx1ZSgpO1xuICAgICAgdmFyIHZhbHVlID0gXCJcIjtcbiAgICAgIG5vZGUgJiZcbiAgICAgICAgKHZhbHVlID0gaXNDaGVja2FibGUobm9kZSlcbiAgICAgICAgICA/IG5vZGUuY2hlY2tlZFxuICAgICAgICAgICAgPyBcInRydWVcIlxuICAgICAgICAgICAgOiBcImZhbHNlXCJcbiAgICAgICAgICA6IG5vZGUudmFsdWUpO1xuICAgICAgbm9kZSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIG5vZGUgIT09IGxhc3RWYWx1ZSA/ICh0cmFja2VyLnNldFZhbHVlKG5vZGUpLCAhMCkgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QWN0aXZlRWxlbWVudChkb2MpIHtcbiAgICAgIGRvYyA9IGRvYyB8fCAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGRvY3VtZW50ID8gZG9jdW1lbnQgOiB2b2lkIDApO1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBkb2MpIHJldHVybiBudWxsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRvYy5hY3RpdmVFbGVtZW50IHx8IGRvYy5ib2R5O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZG9jLmJvZHk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXModmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKFxuICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzUmVnZXgsXG4gICAgICAgIGZ1bmN0aW9uIChjaCkge1xuICAgICAgICAgIHJldHVybiBcIlxcXFxcIiArIGNoLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpICsgXCIgXCI7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRQcm9wcyhlbGVtZW50LCBwcm9wcykge1xuICAgICAgdm9pZCAwID09PSBwcm9wcy5jaGVja2VkIHx8XG4gICAgICAgIHZvaWQgMCA9PT0gcHJvcHMuZGVmYXVsdENoZWNrZWQgfHxcbiAgICAgICAgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIiVzIGNvbnRhaW5zIGFuIGlucHV0IG9mIHR5cGUgJXMgd2l0aCBib3RoIGNoZWNrZWQgYW5kIGRlZmF1bHRDaGVja2VkIHByb3BzLiBJbnB1dCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAoc3BlY2lmeSBlaXRoZXIgdGhlIGNoZWNrZWQgcHJvcCwgb3IgdGhlIGRlZmF1bHRDaGVja2VkIHByb3AsIGJ1dCBub3QgYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiLFxuICAgICAgICAgIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCkgfHwgXCJBIGNvbXBvbmVudFwiLFxuICAgICAgICAgIHByb3BzLnR5cGVcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5DaGVja2VkRGVmYXVsdENoZWNrZWQgPSAhMCkpO1xuICAgICAgdm9pZCAwID09PSBwcm9wcy52YWx1ZSB8fFxuICAgICAgICB2b2lkIDAgPT09IHByb3BzLmRlZmF1bHRWYWx1ZSB8fFxuICAgICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIiVzIGNvbnRhaW5zIGFuIGlucHV0IG9mIHR5cGUgJXMgd2l0aCBib3RoIHZhbHVlIGFuZCBkZWZhdWx0VmFsdWUgcHJvcHMuIElucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIChzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90IGJvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0IGVsZW1lbnQgYW5kIHJlbW92ZSBvbmUgb2YgdGhlc2UgcHJvcHMuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIixcbiAgICAgICAgICBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpIHx8IFwiQSBjb21wb25lbnRcIixcbiAgICAgICAgICBwcm9wcy50eXBlXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSA9ICEwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUlucHV0KFxuICAgICAgZWxlbWVudCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgbGFzdERlZmF1bHRWYWx1ZSxcbiAgICAgIGNoZWNrZWQsXG4gICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgIHR5cGUsXG4gICAgICBuYW1lXG4gICAgKSB7XG4gICAgICBlbGVtZW50Lm5hbWUgPSBcIlwiO1xuICAgICAgbnVsbCAhPSB0eXBlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgXCJib29sZWFuXCIgIT09IHR5cGVvZiB0eXBlXG4gICAgICAgID8gKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odHlwZSwgXCJ0eXBlXCIpLCAoZWxlbWVudC50eXBlID0gdHlwZSkpXG4gICAgICAgIDogZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0eXBlXCIpO1xuICAgICAgaWYgKG51bGwgIT0gdmFsdWUpXG4gICAgICAgIGlmIChcIm51bWJlclwiID09PSB0eXBlKSB7XG4gICAgICAgICAgaWYgKCgwID09PSB2YWx1ZSAmJiBcIlwiID09PSBlbGVtZW50LnZhbHVlKSB8fCBlbGVtZW50LnZhbHVlICE9IHZhbHVlKVxuICAgICAgICAgICAgZWxlbWVudC52YWx1ZSA9IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZWxlbWVudC52YWx1ZSAhPT0gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUodmFsdWUpICYmXG4gICAgICAgICAgICAoZWxlbWVudC52YWx1ZSA9IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSk7XG4gICAgICBlbHNlXG4gICAgICAgIChcInN1Ym1pdFwiICE9PSB0eXBlICYmIFwicmVzZXRcIiAhPT0gdHlwZSkgfHxcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpO1xuICAgICAgbnVsbCAhPSB2YWx1ZVxuICAgICAgICA/IHNldERlZmF1bHRWYWx1ZShlbGVtZW50LCB0eXBlLCBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSlcbiAgICAgICAgOiBudWxsICE9IGRlZmF1bHRWYWx1ZVxuICAgICAgICAgID8gc2V0RGVmYXVsdFZhbHVlKGVsZW1lbnQsIHR5cGUsIGdldFRvU3RyaW5nVmFsdWUoZGVmYXVsdFZhbHVlKSlcbiAgICAgICAgICA6IG51bGwgIT0gbGFzdERlZmF1bHRWYWx1ZSAmJiBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpO1xuICAgICAgbnVsbCA9PSBjaGVja2VkICYmXG4gICAgICAgIG51bGwgIT0gZGVmYXVsdENoZWNrZWQgJiZcbiAgICAgICAgKGVsZW1lbnQuZGVmYXVsdENoZWNrZWQgPSAhIWRlZmF1bHRDaGVja2VkKTtcbiAgICAgIG51bGwgIT0gY2hlY2tlZCAmJlxuICAgICAgICAoZWxlbWVudC5jaGVja2VkID1cbiAgICAgICAgICBjaGVja2VkICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY2hlY2tlZCAmJlxuICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBjaGVja2VkKTtcbiAgICAgIG51bGwgIT0gbmFtZSAmJlxuICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgbmFtZSAmJlxuICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIG5hbWUgJiZcbiAgICAgIFwiYm9vbGVhblwiICE9PSB0eXBlb2YgbmFtZVxuICAgICAgICA/IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKG5hbWUsIFwibmFtZVwiKSxcbiAgICAgICAgICAoZWxlbWVudC5uYW1lID0gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUobmFtZSkpKVxuICAgICAgICA6IGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwibmFtZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdElucHV0KFxuICAgICAgZWxlbWVudCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgY2hlY2tlZCxcbiAgICAgIGRlZmF1bHRDaGVja2VkLFxuICAgICAgdHlwZSxcbiAgICAgIG5hbWUsXG4gICAgICBpc0h5ZHJhdGluZ1xuICAgICkge1xuICAgICAgbnVsbCAhPSB0eXBlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgXCJib29sZWFuXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHR5cGUsIFwidHlwZVwiKSwgKGVsZW1lbnQudHlwZSA9IHR5cGUpKTtcbiAgICAgIGlmIChudWxsICE9IHZhbHVlIHx8IG51bGwgIT0gZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhKFxuICAgICAgICAgICAgKFwic3VibWl0XCIgIT09IHR5cGUgJiYgXCJyZXNldFwiICE9PSB0eXBlKSB8fFxuICAgICAgICAgICAgKHZvaWQgMCAhPT0gdmFsdWUgJiYgbnVsbCAhPT0gdmFsdWUpXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkZWZhdWx0VmFsdWUgPVxuICAgICAgICAgIG51bGwgIT0gZGVmYXVsdFZhbHVlID8gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUoZGVmYXVsdFZhbHVlKSA6IFwiXCI7XG4gICAgICAgIHZhbHVlID0gbnVsbCAhPSB2YWx1ZSA/IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSA6IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgaXNIeWRyYXRpbmcgfHwgdmFsdWUgPT09IGVsZW1lbnQudmFsdWUgfHwgKGVsZW1lbnQudmFsdWUgPSB2YWx1ZSk7XG4gICAgICAgIGVsZW1lbnQuZGVmYXVsdFZhbHVlID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBjaGVja2VkID0gbnVsbCAhPSBjaGVja2VkID8gY2hlY2tlZCA6IGRlZmF1bHRDaGVja2VkO1xuICAgICAgY2hlY2tlZCA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNoZWNrZWQgJiZcbiAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIGNoZWNrZWQgJiZcbiAgICAgICAgISFjaGVja2VkO1xuICAgICAgZWxlbWVudC5jaGVja2VkID0gaXNIeWRyYXRpbmcgPyBlbGVtZW50LmNoZWNrZWQgOiAhIWNoZWNrZWQ7XG4gICAgICBlbGVtZW50LmRlZmF1bHRDaGVja2VkID0gISFjaGVja2VkO1xuICAgICAgbnVsbCAhPSBuYW1lICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIG5hbWUgJiZcbiAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIG5hbWUgJiZcbiAgICAgICAgXCJib29sZWFuXCIgIT09IHR5cGVvZiBuYW1lICYmXG4gICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKG5hbWUsIFwibmFtZVwiKSwgKGVsZW1lbnQubmFtZSA9IG5hbWUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0RGVmYXVsdFZhbHVlKG5vZGUsIHR5cGUsIHZhbHVlKSB7XG4gICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZSAmJiBnZXRBY3RpdmVFbGVtZW50KG5vZGUub3duZXJEb2N1bWVudCkgPT09IG5vZGUpIHx8XG4gICAgICAgIG5vZGUuZGVmYXVsdFZhbHVlID09PSBcIlwiICsgdmFsdWUgfHxcbiAgICAgICAgKG5vZGUuZGVmYXVsdFZhbHVlID0gXCJcIiArIHZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVPcHRpb25Qcm9wcyhlbGVtZW50LCBwcm9wcykge1xuICAgICAgbnVsbCA9PSBwcm9wcy52YWx1ZSAmJlxuICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb3BzLmNoaWxkcmVuICYmIG51bGwgIT09IHByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgPyBSZWFjdC5DaGlsZHJlbi5mb3JFYWNoKHByb3BzLmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgbnVsbCA9PSBjaGlsZCB8fFxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBjaGlsZCB8fFxuICAgICAgICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBjaGlsZCB8fFxuICAgICAgICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBjaGlsZCB8fFxuICAgICAgICAgICAgICAgIGRpZFdhcm5JbnZhbGlkQ2hpbGQgfHxcbiAgICAgICAgICAgICAgICAoKGRpZFdhcm5JbnZhbGlkQ2hpbGQgPSAhMCksXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IGluZmVyIHRoZSBvcHRpb24gdmFsdWUgb2YgY29tcGxleCBjaGlsZHJlbi4gUGFzcyBhIGB2YWx1ZWAgcHJvcCBvciB1c2UgYSBwbGFpbiBzdHJpbmcgYXMgY2hpbGRyZW4gdG8gPG9wdGlvbj4uXCJcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiBudWxsID09IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIHx8XG4gICAgICAgICAgICBkaWRXYXJuSW52YWxpZElubmVySFRNTCB8fFxuICAgICAgICAgICAgKChkaWRXYXJuSW52YWxpZElubmVySFRNTCA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUGFzcyBhIGB2YWx1ZWAgcHJvcCBpZiB5b3Ugc2V0IGRhbmdlcm91c2x5SW5uZXJIVE1MIHNvIFJlYWN0IGtub3dzIHdoaWNoIHZhbHVlIHNob3VsZCBiZSBzZWxlY3RlZC5cIlxuICAgICAgICAgICAgKSkpO1xuICAgICAgbnVsbCA9PSBwcm9wcy5zZWxlY3RlZCB8fFxuICAgICAgICBkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBvbiA8c2VsZWN0PiBpbnN0ZWFkIG9mIHNldHRpbmcgYHNlbGVjdGVkYCBvbiA8b3B0aW9uPi5cIlxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblNlbGVjdGVkU2V0T25PcHRpb24gPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gICAgICB2YXIgb3duZXJOYW1lID0gZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKTtcbiAgICAgIHJldHVybiBvd25lck5hbWVcbiAgICAgICAgPyBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIG93bmVyTmFtZSArIFwiYC5cIlxuICAgICAgICA6IFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMobm9kZSwgbXVsdGlwbGUsIHByb3BWYWx1ZSwgc2V0RGVmYXVsdFNlbGVjdGVkKSB7XG4gICAgICBub2RlID0gbm9kZS5vcHRpb25zO1xuICAgICAgaWYgKG11bHRpcGxlKSB7XG4gICAgICAgIG11bHRpcGxlID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcFZhbHVlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgIG11bHRpcGxlW1wiJFwiICsgcHJvcFZhbHVlW2ldXSA9ICEwO1xuICAgICAgICBmb3IgKHByb3BWYWx1ZSA9IDA7IHByb3BWYWx1ZSA8IG5vZGUubGVuZ3RoOyBwcm9wVmFsdWUrKylcbiAgICAgICAgICAoaSA9IG11bHRpcGxlLmhhc093blByb3BlcnR5KFwiJFwiICsgbm9kZVtwcm9wVmFsdWVdLnZhbHVlKSksXG4gICAgICAgICAgICBub2RlW3Byb3BWYWx1ZV0uc2VsZWN0ZWQgIT09IGkgJiYgKG5vZGVbcHJvcFZhbHVlXS5zZWxlY3RlZCA9IGkpLFxuICAgICAgICAgICAgaSAmJiBzZXREZWZhdWx0U2VsZWN0ZWQgJiYgKG5vZGVbcHJvcFZhbHVlXS5kZWZhdWx0U2VsZWN0ZWQgPSAhMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9wVmFsdWUgPSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZShwcm9wVmFsdWUpO1xuICAgICAgICBtdWx0aXBsZSA9IG51bGw7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG5vZGVbaV0udmFsdWUgPT09IHByb3BWYWx1ZSkge1xuICAgICAgICAgICAgbm9kZVtpXS5zZWxlY3RlZCA9ICEwO1xuICAgICAgICAgICAgc2V0RGVmYXVsdFNlbGVjdGVkICYmIChub2RlW2ldLmRlZmF1bHRTZWxlY3RlZCA9ICEwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbnVsbCAhPT0gbXVsdGlwbGUgfHwgbm9kZVtpXS5kaXNhYmxlZCB8fCAobXVsdGlwbGUgPSBub2RlW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBudWxsICE9PSBtdWx0aXBsZSAmJiAobXVsdGlwbGUuc2VsZWN0ZWQgPSAhMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlU2VsZWN0UHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICAgIGZvciAoZWxlbWVudCA9IDA7IGVsZW1lbnQgPCB2YWx1ZVByb3BOYW1lcy5sZW5ndGg7IGVsZW1lbnQrKykge1xuICAgICAgICB2YXIgcHJvcE5hbWUgPSB2YWx1ZVByb3BOYW1lc1tlbGVtZW50XTtcbiAgICAgICAgaWYgKG51bGwgIT0gcHJvcHNbcHJvcE5hbWVdKSB7XG4gICAgICAgICAgdmFyIHByb3BOYW1lSXNBcnJheSA9IGlzQXJyYXlJbXBsKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgICAgICAgcHJvcHMubXVsdGlwbGUgJiYgIXByb3BOYW1lSXNBcnJheVxuICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlIGAlc2AgcHJvcCBzdXBwbGllZCB0byA8c2VsZWN0PiBtdXN0IGJlIGFuIGFycmF5IGlmIGBtdWx0aXBsZWAgaXMgdHJ1ZS4lc1wiLFxuICAgICAgICAgICAgICAgIHByb3BOYW1lLFxuICAgICAgICAgICAgICAgIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogIXByb3BzLm11bHRpcGxlICYmXG4gICAgICAgICAgICAgIHByb3BOYW1lSXNBcnJheSAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlIGAlc2AgcHJvcCBzdXBwbGllZCB0byA8c2VsZWN0PiBtdXN0IGJlIGEgc2NhbGFyIHZhbHVlIGlmIGBtdWx0aXBsZWAgaXMgZmFsc2UuJXNcIixcbiAgICAgICAgICAgICAgICBwcm9wTmFtZSxcbiAgICAgICAgICAgICAgICBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKVxuICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2b2lkIDAgPT09IHByb3BzLnZhbHVlIHx8XG4gICAgICAgIHZvaWQgMCA9PT0gcHJvcHMuZGVmYXVsdFZhbHVlIHx8XG4gICAgICAgIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlNlbGVjdCBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCBib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBzZWxlY3QgZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUgPSAhMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVRleHRhcmVhUHJvcHMoZWxlbWVudCwgcHJvcHMpIHtcbiAgICAgIHZvaWQgMCA9PT0gcHJvcHMudmFsdWUgfHxcbiAgICAgICAgdm9pZCAwID09PSBwcm9wcy5kZWZhdWx0VmFsdWUgfHxcbiAgICAgICAgZGlkV2FyblZhbERlZmF1bHRWYWwgfHxcbiAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCIlcyBjb250YWlucyBhIHRleHRhcmVhIHdpdGggYm90aCB2YWx1ZSBhbmQgZGVmYXVsdFZhbHVlIHByb3BzLiBUZXh0YXJlYSBlbGVtZW50cyBtdXN0IGJlIGVpdGhlciBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCAoc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCBib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCB0ZXh0YXJlYSBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiLFxuICAgICAgICAgIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCkgfHwgXCJBIGNvbXBvbmVudFwiXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuVmFsRGVmYXVsdFZhbCA9ICEwKSk7XG4gICAgICBudWxsICE9IHByb3BzLmNoaWxkcmVuICYmXG4gICAgICAgIG51bGwgPT0gcHJvcHMudmFsdWUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzZSB0aGUgYGRlZmF1bHRWYWx1ZWAgb3IgYHZhbHVlYCBwcm9wcyBpbnN0ZWFkIG9mIHNldHRpbmcgY2hpbGRyZW4gb24gPHRleHRhcmVhPi5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVUZXh0YXJlYShlbGVtZW50LCB2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgKCh2YWx1ZSA9IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKSksXG4gICAgICAgIHZhbHVlICE9PSBlbGVtZW50LnZhbHVlICYmIChlbGVtZW50LnZhbHVlID0gdmFsdWUpLFxuICAgICAgICBudWxsID09IGRlZmF1bHRWYWx1ZSlcbiAgICAgICkge1xuICAgICAgICBlbGVtZW50LmRlZmF1bHRWYWx1ZSAhPT0gdmFsdWUgJiYgKGVsZW1lbnQuZGVmYXVsdFZhbHVlID0gdmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBlbGVtZW50LmRlZmF1bHRWYWx1ZSA9XG4gICAgICAgIG51bGwgIT0gZGVmYXVsdFZhbHVlID8gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUoZGVmYXVsdFZhbHVlKSA6IFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRUZXh0YXJlYShlbGVtZW50LCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCBjaGlsZHJlbikge1xuICAgICAgaWYgKG51bGwgPT0gdmFsdWUpIHtcbiAgICAgICAgaWYgKG51bGwgIT0gY2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAobnVsbCAhPSBkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJJZiB5b3Ugc3VwcGx5IGBkZWZhdWx0VmFsdWVgIG9uIGEgPHRleHRhcmVhPiwgZG8gbm90IHBhc3MgY2hpbGRyZW4uXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgaWYgKDEgPCBjaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFwiPHRleHRhcmVhPiBjYW4gb25seSBoYXZlIGF0IG1vc3Qgb25lIGNoaWxkLlwiKTtcbiAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IGNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIG51bGwgPT0gZGVmYXVsdFZhbHVlICYmIChkZWZhdWx0VmFsdWUgPSBcIlwiKTtcbiAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICB9XG4gICAgICBkZWZhdWx0VmFsdWUgPSBnZXRUb1N0cmluZ1ZhbHVlKHZhbHVlKTtcbiAgICAgIGVsZW1lbnQuZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgY2hpbGRyZW4gPSBlbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgY2hpbGRyZW4gPT09IGRlZmF1bHRWYWx1ZSAmJlxuICAgICAgICBcIlwiICE9PSBjaGlsZHJlbiAmJlxuICAgICAgICBudWxsICE9PSBjaGlsZHJlbiAmJlxuICAgICAgICAoZWxlbWVudC52YWx1ZSA9IGNoaWxkcmVuKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZE5vdGFibGVOb2RlKG5vZGUsIGluZGVudCkge1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gbm9kZS5zZXJ2ZXJQcm9wcyAmJlxuICAgICAgICAwID09PSBub2RlLnNlcnZlclRhaWwubGVuZ3RoICYmXG4gICAgICAgIDEgPT09IG5vZGUuY2hpbGRyZW4ubGVuZ3RoICYmXG4gICAgICAgIDMgPCBub2RlLmRpc3RhbmNlRnJvbUxlYWYgJiZcbiAgICAgICAgbm9kZS5kaXN0YW5jZUZyb21MZWFmID4gMTUgLSBpbmRlbnRcbiAgICAgICAgPyBmaW5kTm90YWJsZU5vZGUobm9kZS5jaGlsZHJlblswXSwgaW5kZW50KVxuICAgICAgICA6IG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluZGVudGF0aW9uKGluZGVudCkge1xuICAgICAgcmV0dXJuIFwiICBcIiArIFwiICBcIi5yZXBlYXQoaW5kZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkZWQoaW5kZW50KSB7XG4gICAgICByZXR1cm4gXCIrIFwiICsgXCIgIFwiLnJlcGVhdChpbmRlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVkKGluZGVudCkge1xuICAgICAgcmV0dXJuIFwiLSBcIiArIFwiICBcIi5yZXBlYXQoaW5kZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVGaWJlclR5cGUoZmliZXIpIHtcbiAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gZmliZXIudHlwZTtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICByZXR1cm4gXCJMYXp5XCI7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJldHVybiAoZmliZXIgPSBmaWJlci50eXBlKSwgZmliZXIuZGlzcGxheU5hbWUgfHwgZmliZXIubmFtZSB8fCBudWxsO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZmliZXIgPSBmaWJlci50eXBlLnJlbmRlciksIGZpYmVyLmRpc3BsYXlOYW1lIHx8IGZpYmVyLm5hbWUgfHwgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gKGZpYmVyID0gZmliZXIudHlwZSksIGZpYmVyLmRpc3BsYXlOYW1lIHx8IGZpYmVyLm5hbWUgfHwgbnVsbDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVUZXh0Tm9kZShjb250ZW50LCBtYXhMZW5ndGgpIHtcbiAgICAgIHJldHVybiBuZWVkc0VzY2FwaW5nLnRlc3QoY29udGVudClcbiAgICAgICAgPyAoKGNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShjb250ZW50KSksXG4gICAgICAgICAgY29udGVudC5sZW5ndGggPiBtYXhMZW5ndGggLSAyXG4gICAgICAgICAgICA/IDggPiBtYXhMZW5ndGhcbiAgICAgICAgICAgICAgPyAne1wiLi4uXCJ9J1xuICAgICAgICAgICAgICA6IFwie1wiICsgY29udGVudC5zbGljZSgwLCBtYXhMZW5ndGggLSA3KSArICcuLi5cIn0nXG4gICAgICAgICAgICA6IFwie1wiICsgY29udGVudCArIFwifVwiKVxuICAgICAgICA6IGNvbnRlbnQubGVuZ3RoID4gbWF4TGVuZ3RoXG4gICAgICAgICAgPyA1ID4gbWF4TGVuZ3RoXG4gICAgICAgICAgICA/ICd7XCIuLi5cIn0nXG4gICAgICAgICAgICA6IGNvbnRlbnQuc2xpY2UoMCwgbWF4TGVuZ3RoIC0gMykgKyBcIi4uLlwiXG4gICAgICAgICAgOiBjb250ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVRleHREaWZmKGNsaWVudFRleHQsIHNlcnZlclByb3BzLCBpbmRlbnQpIHtcbiAgICAgIHZhciBtYXhMZW5ndGggPSAxMjAgLSAyICogaW5kZW50O1xuICAgICAgaWYgKG51bGwgPT09IHNlcnZlclByb3BzKVxuICAgICAgICByZXR1cm4gYWRkZWQoaW5kZW50KSArIGRlc2NyaWJlVGV4dE5vZGUoY2xpZW50VGV4dCwgbWF4TGVuZ3RoKSArIFwiXFxuXCI7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNlcnZlclByb3BzKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGZpcnN0RGlmZiA9IDA7XG4gICAgICAgICAgZmlyc3REaWZmIDwgc2VydmVyUHJvcHMubGVuZ3RoICYmXG4gICAgICAgICAgZmlyc3REaWZmIDwgY2xpZW50VGV4dC5sZW5ndGggJiZcbiAgICAgICAgICBzZXJ2ZXJQcm9wcy5jaGFyQ29kZUF0KGZpcnN0RGlmZikgPT09XG4gICAgICAgICAgICBjbGllbnRUZXh0LmNoYXJDb2RlQXQoZmlyc3REaWZmKTtcbiAgICAgICAgICBmaXJzdERpZmYrK1xuICAgICAgICApO1xuICAgICAgICBmaXJzdERpZmYgPiBtYXhMZW5ndGggLSA4ICYmXG4gICAgICAgICAgMTAgPCBmaXJzdERpZmYgJiZcbiAgICAgICAgICAoKGNsaWVudFRleHQgPSBcIi4uLlwiICsgY2xpZW50VGV4dC5zbGljZShmaXJzdERpZmYgLSA4KSksXG4gICAgICAgICAgKHNlcnZlclByb3BzID0gXCIuLi5cIiArIHNlcnZlclByb3BzLnNsaWNlKGZpcnN0RGlmZiAtIDgpKSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgYWRkZWQoaW5kZW50KSArXG4gICAgICAgICAgZGVzY3JpYmVUZXh0Tm9kZShjbGllbnRUZXh0LCBtYXhMZW5ndGgpICtcbiAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICByZW1vdmVkKGluZGVudCkgK1xuICAgICAgICAgIGRlc2NyaWJlVGV4dE5vZGUoc2VydmVyUHJvcHMsIG1heExlbmd0aCkgK1xuICAgICAgICAgIFwiXFxuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoXG4gICAgICAgIGluZGVudGF0aW9uKGluZGVudCkgKyBkZXNjcmliZVRleHROb2RlKGNsaWVudFRleHQsIG1heExlbmd0aCkgKyBcIlxcblwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvYmplY3ROYW1lKG9iamVjdCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcbiAgICAgICAgLmNhbGwob2JqZWN0KVxuICAgICAgICAucmVwbGFjZSgvXlxcW29iamVjdCAoLiopXFxdJC8sIGZ1bmN0aW9uIChtLCBwMCkge1xuICAgICAgICAgIHJldHVybiBwMDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlVmFsdWUodmFsdWUsIG1heExlbmd0aCkge1xuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAodmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSkpLFxuICAgICAgICAgICAgdmFsdWUubGVuZ3RoID4gbWF4TGVuZ3RoXG4gICAgICAgICAgICAgID8gNSA+IG1heExlbmd0aFxuICAgICAgICAgICAgICAgID8gJ1wiLi4uXCInXG4gICAgICAgICAgICAgICAgOiB2YWx1ZS5zbGljZSgwLCBtYXhMZW5ndGggLSA0KSArICcuLi5cIidcbiAgICAgICAgICAgICAgOiB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICBpZiAobnVsbCA9PT0gdmFsdWUpIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwodmFsdWUpKSByZXR1cm4gXCJbLi4uXVwiO1xuICAgICAgICAgIGlmICh2YWx1ZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFKVxuICAgICAgICAgICAgcmV0dXJuIChtYXhMZW5ndGggPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodmFsdWUudHlwZSkpXG4gICAgICAgICAgICAgID8gXCI8XCIgKyBtYXhMZW5ndGggKyBcIj5cIlxuICAgICAgICAgICAgICA6IFwiPC4uLj5cIjtcbiAgICAgICAgICB2YXIgbmFtZSA9IG9iamVjdE5hbWUodmFsdWUpO1xuICAgICAgICAgIGlmIChcIk9iamVjdFwiID09PSBuYW1lKSB7XG4gICAgICAgICAgICBuYW1lID0gXCJcIjtcbiAgICAgICAgICAgIG1heExlbmd0aCAtPSAyO1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gdmFsdWUpXG4gICAgICAgICAgICAgIGlmICh2YWx1ZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICAgICAgICB2YXIganNvblByb3BOYW1lID0gSlNPTi5zdHJpbmdpZnkocHJvcE5hbWUpO1xuICAgICAgICAgICAgICAgIGpzb25Qcm9wTmFtZSAhPT0gJ1wiJyArIHByb3BOYW1lICsgJ1wiJyAmJlxuICAgICAgICAgICAgICAgICAgKHByb3BOYW1lID0ganNvblByb3BOYW1lKTtcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGggLT0gcHJvcE5hbWUubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgICAgICBqc29uUHJvcE5hbWUgPSBkZXNjcmliZVZhbHVlKFxuICAgICAgICAgICAgICAgICAgdmFsdWVbcHJvcE5hbWVdLFxuICAgICAgICAgICAgICAgICAgMTUgPiBtYXhMZW5ndGggPyBtYXhMZW5ndGggOiAxNVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoIC09IGpzb25Qcm9wTmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKDAgPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgIG5hbWUgKz0gXCJcIiA9PT0gbmFtZSA/IFwiLi4uXCIgOiBcIiwgLi4uXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmFtZSArPVxuICAgICAgICAgICAgICAgICAgKFwiXCIgPT09IG5hbWUgPyBcIlwiIDogXCIsXCIpICsgcHJvcE5hbWUgKyBcIjpcIiArIGpzb25Qcm9wTmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwie1wiICsgbmFtZSArIFwifVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmFtZTtcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgcmV0dXJuIChtYXhMZW5ndGggPSB2YWx1ZS5kaXNwbGF5TmFtZSB8fCB2YWx1ZS5uYW1lKVxuICAgICAgICAgICAgPyBcImZ1bmN0aW9uIFwiICsgbWF4TGVuZ3RoXG4gICAgICAgICAgICA6IFwiZnVuY3Rpb25cIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVQcm9wVmFsdWUodmFsdWUsIG1heExlbmd0aCkge1xuICAgICAgcmV0dXJuIFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZSB8fCBuZWVkc0VzY2FwaW5nLnRlc3QodmFsdWUpXG4gICAgICAgID8gXCJ7XCIgKyBkZXNjcmliZVZhbHVlKHZhbHVlLCBtYXhMZW5ndGggLSAyKSArIFwifVwiXG4gICAgICAgIDogdmFsdWUubGVuZ3RoID4gbWF4TGVuZ3RoIC0gMlxuICAgICAgICAgID8gNSA+IG1heExlbmd0aFxuICAgICAgICAgICAgPyAnXCIuLi5cIidcbiAgICAgICAgICAgIDogJ1wiJyArIHZhbHVlLnNsaWNlKDAsIG1heExlbmd0aCAtIDUpICsgJy4uLlwiJ1xuICAgICAgICAgIDogJ1wiJyArIHZhbHVlICsgJ1wiJztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFeHBhbmRlZEVsZW1lbnQodHlwZSwgcHJvcHMsIHJvd1ByZWZpeCkge1xuICAgICAgdmFyIHJlbWFpbmluZ1Jvd0xlbmd0aCA9IDEyMCAtIHJvd1ByZWZpeC5sZW5ndGggLSB0eXBlLmxlbmd0aCxcbiAgICAgICAgcHJvcGVydGllcyA9IFtdLFxuICAgICAgICBwcm9wTmFtZTtcbiAgICAgIGZvciAocHJvcE5hbWUgaW4gcHJvcHMpXG4gICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiYgXCJjaGlsZHJlblwiICE9PSBwcm9wTmFtZSkge1xuICAgICAgICAgIHZhciBwcm9wVmFsdWUgPSBkZXNjcmliZVByb3BWYWx1ZShcbiAgICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSxcbiAgICAgICAgICAgIDEyMCAtIHJvd1ByZWZpeC5sZW5ndGggLSBwcm9wTmFtZS5sZW5ndGggLSAxXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZW1haW5pbmdSb3dMZW5ndGggLT0gcHJvcE5hbWUubGVuZ3RoICsgcHJvcFZhbHVlLmxlbmd0aCArIDI7XG4gICAgICAgICAgcHJvcGVydGllcy5wdXNoKHByb3BOYW1lICsgXCI9XCIgKyBwcm9wVmFsdWUpO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gMCA9PT0gcHJvcGVydGllcy5sZW5ndGhcbiAgICAgICAgPyByb3dQcmVmaXggKyBcIjxcIiArIHR5cGUgKyBcIj5cXG5cIlxuICAgICAgICA6IDAgPCByZW1haW5pbmdSb3dMZW5ndGhcbiAgICAgICAgICA/IHJvd1ByZWZpeCArIFwiPFwiICsgdHlwZSArIFwiIFwiICsgcHJvcGVydGllcy5qb2luKFwiIFwiKSArIFwiPlxcblwiXG4gICAgICAgICAgOiByb3dQcmVmaXggK1xuICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgdHlwZSArXG4gICAgICAgICAgICBcIlxcblwiICtcbiAgICAgICAgICAgIHJvd1ByZWZpeCArXG4gICAgICAgICAgICBcIiAgXCIgK1xuICAgICAgICAgICAgcHJvcGVydGllcy5qb2luKFwiXFxuXCIgKyByb3dQcmVmaXggKyBcIiAgXCIpICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgcm93UHJlZml4ICtcbiAgICAgICAgICAgIFwiPlxcblwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVByb3BlcnRpZXNEaWZmKGNsaWVudE9iamVjdCwgc2VydmVyT2JqZWN0LCBpbmRlbnQpIHtcbiAgICAgIHZhciBwcm9wZXJ0aWVzID0gXCJcIixcbiAgICAgICAgcmVtYWluaW5nU2VydmVyUHJvcGVydGllcyA9IGFzc2lnbih7fSwgc2VydmVyT2JqZWN0KSxcbiAgICAgICAgcHJvcE5hbWU7XG4gICAgICBmb3IgKHByb3BOYW1lIGluIGNsaWVudE9iamVjdClcbiAgICAgICAgaWYgKGNsaWVudE9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgICBkZWxldGUgcmVtYWluaW5nU2VydmVyUHJvcGVydGllc1twcm9wTmFtZV07XG4gICAgICAgICAgdmFyIG1heExlbmd0aCA9IDEyMCAtIDIgKiBpbmRlbnQgLSBwcm9wTmFtZS5sZW5ndGggLSAyLFxuICAgICAgICAgICAgY2xpZW50UHJvcFZhbHVlID0gZGVzY3JpYmVWYWx1ZShjbGllbnRPYmplY3RbcHJvcE5hbWVdLCBtYXhMZW5ndGgpO1xuICAgICAgICAgIHNlcnZlck9iamVjdC5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSlcbiAgICAgICAgICAgID8gKChtYXhMZW5ndGggPSBkZXNjcmliZVZhbHVlKHNlcnZlck9iamVjdFtwcm9wTmFtZV0sIG1heExlbmd0aCkpLFxuICAgICAgICAgICAgICAocHJvcGVydGllcyArPVxuICAgICAgICAgICAgICAgIGFkZGVkKGluZGVudCkgKyBwcm9wTmFtZSArIFwiOiBcIiArIGNsaWVudFByb3BWYWx1ZSArIFwiXFxuXCIpLFxuICAgICAgICAgICAgICAocHJvcGVydGllcyArPVxuICAgICAgICAgICAgICAgIHJlbW92ZWQoaW5kZW50KSArIHByb3BOYW1lICsgXCI6IFwiICsgbWF4TGVuZ3RoICsgXCJcXG5cIikpXG4gICAgICAgICAgICA6IChwcm9wZXJ0aWVzICs9XG4gICAgICAgICAgICAgICAgYWRkZWQoaW5kZW50KSArIHByb3BOYW1lICsgXCI6IFwiICsgY2xpZW50UHJvcFZhbHVlICsgXCJcXG5cIik7XG4gICAgICAgIH1cbiAgICAgIGZvciAodmFyIF9wcm9wTmFtZSBpbiByZW1haW5pbmdTZXJ2ZXJQcm9wZXJ0aWVzKVxuICAgICAgICByZW1haW5pbmdTZXJ2ZXJQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KF9wcm9wTmFtZSkgJiZcbiAgICAgICAgICAoKGNsaWVudE9iamVjdCA9IGRlc2NyaWJlVmFsdWUoXG4gICAgICAgICAgICByZW1haW5pbmdTZXJ2ZXJQcm9wZXJ0aWVzW19wcm9wTmFtZV0sXG4gICAgICAgICAgICAxMjAgLSAyICogaW5kZW50IC0gX3Byb3BOYW1lLmxlbmd0aCAtIDJcbiAgICAgICAgICApKSxcbiAgICAgICAgICAocHJvcGVydGllcyArPVxuICAgICAgICAgICAgcmVtb3ZlZChpbmRlbnQpICsgX3Byb3BOYW1lICsgXCI6IFwiICsgY2xpZW50T2JqZWN0ICsgXCJcXG5cIikpO1xuICAgICAgcmV0dXJuIHByb3BlcnRpZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRWxlbWVudERpZmYodHlwZSwgY2xpZW50UHJvcHMsIHNlcnZlclByb3BzLCBpbmRlbnQpIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIixcbiAgICAgICAgc2VydmVyUHJvcE5hbWVzID0gbmV3IE1hcCgpO1xuICAgICAgZm9yIChwcm9wTmFtZSRqc2NvbXAkMCBpbiBzZXJ2ZXJQcm9wcylcbiAgICAgICAgc2VydmVyUHJvcHMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUkanNjb21wJDApICYmXG4gICAgICAgICAgc2VydmVyUHJvcE5hbWVzLnNldChcbiAgICAgICAgICAgIHByb3BOYW1lJGpzY29tcCQwLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICBwcm9wTmFtZSRqc2NvbXAkMFxuICAgICAgICAgICk7XG4gICAgICBpZiAoMSA9PT0gc2VydmVyUHJvcE5hbWVzLnNpemUgJiYgc2VydmVyUHJvcE5hbWVzLmhhcyhcImNoaWxkcmVuXCIpKVxuICAgICAgICBjb250ZW50ICs9IGRlc2NyaWJlRXhwYW5kZWRFbGVtZW50KFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgY2xpZW50UHJvcHMsXG4gICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50KVxuICAgICAgICApO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAodmFyIF9wcm9wTmFtZTIgaW4gY2xpZW50UHJvcHMpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgY2xpZW50UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BOYW1lMikgJiZcbiAgICAgICAgICAgIFwiY2hpbGRyZW5cIiAhPT0gX3Byb3BOYW1lMlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIG1heExlbmd0aCRqc2NvbXAkMCA9XG4gICAgICAgICAgICAgICAgMTIwIC0gMiAqIChpbmRlbnQgKyAxKSAtIF9wcm9wTmFtZTIubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWUgPSBzZXJ2ZXJQcm9wTmFtZXMuZ2V0KF9wcm9wTmFtZTIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBzZXJ2ZXJQcm9wTmFtZSkge1xuICAgICAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMuZGVsZXRlKF9wcm9wTmFtZTIudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgIHZhciBwcm9wTmFtZSRqc2NvbXAkMCA9IGNsaWVudFByb3BzW19wcm9wTmFtZTJdO1xuICAgICAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZSA9IHNlcnZlclByb3BzW3NlcnZlclByb3BOYW1lXTtcbiAgICAgICAgICAgICAgdmFyIGNsaWVudFByb3BWYWx1ZSA9IGRlc2NyaWJlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICAgIHByb3BOYW1lJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgIG1heExlbmd0aCRqc2NvbXAkMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBtYXhMZW5ndGgkanNjb21wJDAgPSBkZXNjcmliZVByb3BWYWx1ZShcbiAgICAgICAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZSxcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGgkanNjb21wJDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHByb3BOYW1lJGpzY29tcCQwICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IHByb3BOYW1lJGpzY29tcCQwICYmXG4gICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBzZXJ2ZXJQcm9wTmFtZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBzZXJ2ZXJQcm9wTmFtZSAmJlxuICAgICAgICAgICAgICBcIk9iamVjdFwiID09PSBvYmplY3ROYW1lKHByb3BOYW1lJGpzY29tcCQwKSAmJlxuICAgICAgICAgICAgICBcIk9iamVjdFwiID09PSBvYmplY3ROYW1lKHNlcnZlclByb3BOYW1lKSAmJlxuICAgICAgICAgICAgICAoMiA8IE9iamVjdC5rZXlzKHByb3BOYW1lJGpzY29tcCQwKS5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAyIDwgT2JqZWN0LmtleXMoc2VydmVyUHJvcE5hbWUpLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgIC0xIDwgY2xpZW50UHJvcFZhbHVlLmluZGV4T2YoXCIuLi5cIikgfHxcbiAgICAgICAgICAgICAgICAtMSA8IG1heExlbmd0aCRqc2NvbXAkMC5pbmRleE9mKFwiLi4uXCIpKVxuICAgICAgICAgICAgICAgID8gKGNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICAgICAgICBfcHJvcE5hbWUyICtcbiAgICAgICAgICAgICAgICAgICAgXCI9e3tcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaWJlUHJvcGVydGllc0RpZmYoXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcE5hbWUkanNjb21wJDAsXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyUHJvcE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgaW5kZW50ICsgMlxuICAgICAgICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICAgICAgICBcIn19XFxuXCIpXG4gICAgICAgICAgICAgICAgOiAoKGNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgICAgICAgYWRkZWQoaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICAgICAgICBfcHJvcE5hbWUyICtcbiAgICAgICAgICAgICAgICAgICAgXCI9XCIgK1xuICAgICAgICAgICAgICAgICAgICBjbGllbnRQcm9wVmFsdWUgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcblwiKSxcbiAgICAgICAgICAgICAgICAgIChjb250ZW50ICs9XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZWQoaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICAgICAgICBfcHJvcE5hbWUyICtcbiAgICAgICAgICAgICAgICAgICAgXCI9XCIgK1xuICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGgkanNjb21wJDAgK1xuICAgICAgICAgICAgICAgICAgICBcIlxcblwiKSk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgY29udGVudCArPVxuICAgICAgICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgICBfcHJvcE5hbWUyICtcbiAgICAgICAgICAgICAgICBcIj1cIiArXG4gICAgICAgICAgICAgICAgZGVzY3JpYmVQcm9wVmFsdWUoY2xpZW50UHJvcHNbX3Byb3BOYW1lMl0sIG1heExlbmd0aCRqc2NvbXAkMCkgK1xuICAgICAgICAgICAgICAgIFwiXFxuXCI7XG4gICAgICAgICAgfVxuICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAocHJvcE5hbWUpIHtcbiAgICAgICAgICBpZiAoXCJjaGlsZHJlblwiICE9PSBwcm9wTmFtZSkge1xuICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IDEyMCAtIDIgKiAoaW5kZW50ICsgMSkgLSBwcm9wTmFtZS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgY29udGVudCArPVxuICAgICAgICAgICAgICByZW1vdmVkKGluZGVudCArIDEpICtcbiAgICAgICAgICAgICAgcHJvcE5hbWUgK1xuICAgICAgICAgICAgICBcIj1cIiArXG4gICAgICAgICAgICAgIGRlc2NyaWJlUHJvcFZhbHVlKHNlcnZlclByb3BzW3Byb3BOYW1lXSwgbWF4TGVuZ3RoKSArXG4gICAgICAgICAgICAgIFwiXFxuXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGVudCA9XG4gICAgICAgICAgXCJcIiA9PT0gY29udGVudFxuICAgICAgICAgICAgPyBpbmRlbnRhdGlvbihpbmRlbnQpICsgXCI8XCIgKyB0eXBlICsgXCI+XFxuXCJcbiAgICAgICAgICAgIDogaW5kZW50YXRpb24oaW5kZW50KSArXG4gICAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgICAgdHlwZSArXG4gICAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgICBjb250ZW50ICtcbiAgICAgICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50KSArXG4gICAgICAgICAgICAgIFwiPlxcblwiO1xuICAgICAgfVxuICAgICAgdHlwZSA9IHNlcnZlclByb3BzLmNoaWxkcmVuO1xuICAgICAgY2xpZW50UHJvcHMgPSBjbGllbnRQcm9wcy5jaGlsZHJlbjtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIHR5cGVcbiAgICAgICkge1xuICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMgPSBcIlwiO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzIHx8XG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzIHx8XG4gICAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzXG4gICAgICAgIClcbiAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMgPSBcIlwiICsgY2xpZW50UHJvcHM7XG4gICAgICAgIGNvbnRlbnQgKz0gZGVzY3JpYmVUZXh0RGlmZihzZXJ2ZXJQcm9wTmFtZXMsIFwiXCIgKyB0eXBlLCBpbmRlbnQgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBjbGllbnRQcm9wcyB8fFxuICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgY2xpZW50UHJvcHMgfHxcbiAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzXG4gICAgICApXG4gICAgICAgIGNvbnRlbnQgPVxuICAgICAgICAgIG51bGwgPT0gdHlwZVxuICAgICAgICAgICAgPyBjb250ZW50ICsgZGVzY3JpYmVUZXh0RGlmZihcIlwiICsgY2xpZW50UHJvcHMsIG51bGwsIGluZGVudCArIDEpXG4gICAgICAgICAgICA6IGNvbnRlbnQgKyBkZXNjcmliZVRleHREaWZmKFwiXCIgKyBjbGllbnRQcm9wcywgdm9pZCAwLCBpbmRlbnQgKyAxKTtcbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVNpYmxpbmdGaWJlcihmaWJlciwgaW5kZW50KSB7XG4gICAgICB2YXIgdHlwZSA9IGRlc2NyaWJlRmliZXJUeXBlKGZpYmVyKTtcbiAgICAgIGlmIChudWxsID09PSB0eXBlKSB7XG4gICAgICAgIHR5cGUgPSBcIlwiO1xuICAgICAgICBmb3IgKGZpYmVyID0gZmliZXIuY2hpbGQ7IGZpYmVyOyApXG4gICAgICAgICAgKHR5cGUgKz0gZGVzY3JpYmVTaWJsaW5nRmliZXIoZmliZXIsIGluZGVudCkpLFxuICAgICAgICAgICAgKGZpYmVyID0gZmliZXIuc2libGluZyk7XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGVudGF0aW9uKGluZGVudCkgKyBcIjxcIiArIHR5cGUgKyBcIj5cXG5cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVOb2RlKG5vZGUsIGluZGVudCkge1xuICAgICAgdmFyIHNraXBUb05vZGUgPSBmaW5kTm90YWJsZU5vZGUobm9kZSwgaW5kZW50KTtcbiAgICAgIGlmIChcbiAgICAgICAgc2tpcFRvTm9kZSAhPT0gbm9kZSAmJlxuICAgICAgICAoMSAhPT0gbm9kZS5jaGlsZHJlbi5sZW5ndGggfHwgbm9kZS5jaGlsZHJlblswXSAhPT0gc2tpcFRvTm9kZSlcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQpICsgXCIuLi5cXG5cIiArIGRlc2NyaWJlTm9kZShza2lwVG9Ob2RlLCBpbmRlbnQgKyAxKVxuICAgICAgICApO1xuICAgICAgc2tpcFRvTm9kZSA9IFwiXCI7XG4gICAgICB2YXIgZGVidWdJbmZvID0gbm9kZS5maWJlci5fZGVidWdJbmZvO1xuICAgICAgaWYgKGRlYnVnSW5mbylcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWJ1Z0luZm8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc2VydmVyQ29tcG9uZW50TmFtZSA9IGRlYnVnSW5mb1tpXS5uYW1lO1xuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzZXJ2ZXJDb21wb25lbnROYW1lICYmXG4gICAgICAgICAgICAoKHNraXBUb05vZGUgKz1cbiAgICAgICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50KSArIFwiPFwiICsgc2VydmVyQ29tcG9uZW50TmFtZSArIFwiPlxcblwiKSxcbiAgICAgICAgICAgIGluZGVudCsrKTtcbiAgICAgICAgfVxuICAgICAgZGVidWdJbmZvID0gXCJcIjtcbiAgICAgIGkgPSBub2RlLmZpYmVyLnBlbmRpbmdQcm9wcztcbiAgICAgIGlmICg2ID09PSBub2RlLmZpYmVyLnRhZylcbiAgICAgICAgKGRlYnVnSW5mbyA9IGRlc2NyaWJlVGV4dERpZmYoaSwgbm9kZS5zZXJ2ZXJQcm9wcywgaW5kZW50KSksIGluZGVudCsrO1xuICAgICAgZWxzZSBpZiAoXG4gICAgICAgICgoc2VydmVyQ29tcG9uZW50TmFtZSA9IGRlc2NyaWJlRmliZXJUeXBlKG5vZGUuZmliZXIpKSxcbiAgICAgICAgbnVsbCAhPT0gc2VydmVyQ29tcG9uZW50TmFtZSlcbiAgICAgIClcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gbm9kZS5zZXJ2ZXJQcm9wcykge1xuICAgICAgICAgIGRlYnVnSW5mbyA9IGluZGVudDtcbiAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMTIwIC0gMiAqIGRlYnVnSW5mbyAtIHNlcnZlckNvbXBvbmVudE5hbWUubGVuZ3RoIC0gMixcbiAgICAgICAgICAgIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgIGZvciAocHJvcE5hbWUgaW4gaSlcbiAgICAgICAgICAgIGlmIChpLmhhc093blByb3BlcnR5KHByb3BOYW1lKSAmJiBcImNoaWxkcmVuXCIgIT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9wVmFsdWUgPSBkZXNjcmliZVByb3BWYWx1ZShpW3Byb3BOYW1lXSwgMTUpO1xuICAgICAgICAgICAgICBtYXhMZW5ndGggLT0gcHJvcE5hbWUubGVuZ3RoICsgcHJvcFZhbHVlLmxlbmd0aCArIDI7XG4gICAgICAgICAgICAgIGlmICgwID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCArPSBcIiAuLi5cIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250ZW50ICs9IFwiIFwiICsgcHJvcE5hbWUgKyBcIj1cIiArIHByb3BWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBkZWJ1Z0luZm8gPVxuICAgICAgICAgICAgaW5kZW50YXRpb24oZGVidWdJbmZvKSArXG4gICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lICtcbiAgICAgICAgICAgIGNvbnRlbnQgK1xuICAgICAgICAgICAgXCI+XFxuXCI7XG4gICAgICAgICAgaW5kZW50Kys7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIG51bGwgPT09IG5vZGUuc2VydmVyUHJvcHNcbiAgICAgICAgICAgID8gKChkZWJ1Z0luZm8gPSBkZXNjcmliZUV4cGFuZGVkRWxlbWVudChcbiAgICAgICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lLFxuICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgYWRkZWQoaW5kZW50KVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgaW5kZW50KyspXG4gICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBub2RlLnNlcnZlclByb3BzXG4gICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiU2hvdWxkIG5vdCBoYXZlIG1hdGNoZWQgYSBub24gSG9zdFRleHQgZmliZXIgdG8gYSBUZXh0IG5vZGUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogKChkZWJ1Z0luZm8gPSBkZXNjcmliZUVsZW1lbnREaWZmKFxuICAgICAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgICBub2RlLnNlcnZlclByb3BzLFxuICAgICAgICAgICAgICAgICAgaW5kZW50XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgaW5kZW50KyspO1xuICAgICAgdmFyIHByb3BOYW1lID0gXCJcIjtcbiAgICAgIGkgPSBub2RlLmZpYmVyLmNoaWxkO1xuICAgICAgZm9yIChcbiAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSA9IDA7XG4gICAgICAgIGkgJiYgc2VydmVyQ29tcG9uZW50TmFtZSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuXG4gICAgICApXG4gICAgICAgIChtYXhMZW5ndGggPSBub2RlLmNoaWxkcmVuW3NlcnZlckNvbXBvbmVudE5hbWVdKSxcbiAgICAgICAgICBtYXhMZW5ndGguZmliZXIgPT09IGlcbiAgICAgICAgICAgID8gKChwcm9wTmFtZSArPSBkZXNjcmliZU5vZGUobWF4TGVuZ3RoLCBpbmRlbnQpKSxcbiAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZSsrKVxuICAgICAgICAgICAgOiAocHJvcE5hbWUgKz0gZGVzY3JpYmVTaWJsaW5nRmliZXIoaSwgaW5kZW50KSksXG4gICAgICAgICAgKGkgPSBpLnNpYmxpbmcpO1xuICAgICAgaSAmJlxuICAgICAgICAwIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGggJiZcbiAgICAgICAgKHByb3BOYW1lICs9IGluZGVudGF0aW9uKGluZGVudCkgKyBcIi4uLlxcblwiKTtcbiAgICAgIGkgPSBub2RlLnNlcnZlclRhaWw7XG4gICAgICBudWxsID09PSBub2RlLnNlcnZlclByb3BzICYmIGluZGVudC0tO1xuICAgICAgZm9yIChub2RlID0gMDsgbm9kZSA8IGkubGVuZ3RoOyBub2RlKyspXG4gICAgICAgIChzZXJ2ZXJDb21wb25lbnROYW1lID0gaVtub2RlXSksXG4gICAgICAgICAgKHByb3BOYW1lID1cbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzZXJ2ZXJDb21wb25lbnROYW1lXG4gICAgICAgICAgICAgID8gcHJvcE5hbWUgK1xuICAgICAgICAgICAgICAgIChyZW1vdmVkKGluZGVudCkgK1xuICAgICAgICAgICAgICAgICAgZGVzY3JpYmVUZXh0Tm9kZShzZXJ2ZXJDb21wb25lbnROYW1lLCAxMjAgLSAyICogaW5kZW50KSArXG4gICAgICAgICAgICAgICAgICBcIlxcblwiKVxuICAgICAgICAgICAgICA6IHByb3BOYW1lICtcbiAgICAgICAgICAgICAgICBkZXNjcmliZUV4cGFuZGVkRWxlbWVudChcbiAgICAgICAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUudHlwZSxcbiAgICAgICAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUucHJvcHMsXG4gICAgICAgICAgICAgICAgICByZW1vdmVkKGluZGVudClcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgIHJldHVybiBza2lwVG9Ob2RlICsgZGVidWdJbmZvICsgcHJvcE5hbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlRGlmZihyb290Tm9kZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIFwiXFxuXFxuXCIgKyBkZXNjcmliZU5vZGUocm9vdE5vZGUsIDApO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVBbmNlc3RvcnMoYW5jZXN0b3IsIGNoaWxkLCBwcm9wcykge1xuICAgICAgZm9yICh2YXIgZmliZXIgPSBjaGlsZCwgbm9kZSA9IG51bGwsIGRpc3RhbmNlRnJvbUxlYWYgPSAwOyBmaWJlcjsgKVxuICAgICAgICBmaWJlciA9PT0gYW5jZXN0b3IgJiYgKGRpc3RhbmNlRnJvbUxlYWYgPSAwKSxcbiAgICAgICAgICAobm9kZSA9IHtcbiAgICAgICAgICAgIGZpYmVyOiBmaWJlcixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBudWxsICE9PSBub2RlID8gW25vZGVdIDogW10sXG4gICAgICAgICAgICBzZXJ2ZXJQcm9wczpcbiAgICAgICAgICAgICAgZmliZXIgPT09IGNoaWxkID8gcHJvcHMgOiBmaWJlciA9PT0gYW5jZXN0b3IgPyBudWxsIDogdm9pZCAwLFxuICAgICAgICAgICAgc2VydmVyVGFpbDogW10sXG4gICAgICAgICAgICBkaXN0YW5jZUZyb21MZWFmOiBkaXN0YW5jZUZyb21MZWFmXG4gICAgICAgICAgfSksXG4gICAgICAgICAgZGlzdGFuY2VGcm9tTGVhZisrLFxuICAgICAgICAgIChmaWJlciA9IGZpYmVyLnJldHVybik7XG4gICAgICByZXR1cm4gbnVsbCAhPT0gbm9kZSA/IGRlc2NyaWJlRGlmZihub2RlKS5yZXBsYWNlQWxsKC9eWystXS9nbSwgXCI+XCIpIDogXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlZEFuY2VzdG9ySW5mb0RldihvbGRJbmZvLCB0YWcpIHtcbiAgICAgIG9sZEluZm8gPSBhc3NpZ24oe30sIG9sZEluZm8gfHwgZW1wdHlBbmNlc3RvckluZm9EZXYpO1xuICAgICAgdmFyIGluZm8gPSB7IHRhZzogdGFnIH07XG4gICAgICAtMSAhPT0gaW5TY29wZVRhZ3MuaW5kZXhPZih0YWcpICYmXG4gICAgICAgICgob2xkSW5mby5hVGFnSW5TY29wZSA9IG51bGwpLFxuICAgICAgICAob2xkSW5mby5idXR0b25UYWdJblNjb3BlID0gbnVsbCksXG4gICAgICAgIChvbGRJbmZvLm5vYnJUYWdJblNjb3BlID0gbnVsbCkpO1xuICAgICAgLTEgIT09IGJ1dHRvblNjb3BlVGFncy5pbmRleE9mKHRhZykgJiYgKG9sZEluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBudWxsKTtcbiAgICAgIC0xICE9PSBzcGVjaWFsVGFncy5pbmRleE9mKHRhZykgJiZcbiAgICAgICAgXCJhZGRyZXNzXCIgIT09IHRhZyAmJlxuICAgICAgICBcImRpdlwiICE9PSB0YWcgJiZcbiAgICAgICAgXCJwXCIgIT09IHRhZyAmJlxuICAgICAgICAoKG9sZEluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGwpLFxuICAgICAgICAob2xkSW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IG51bGwpKTtcbiAgICAgIG9sZEluZm8uY3VycmVudCA9IGluZm87XG4gICAgICBcImZvcm1cIiA9PT0gdGFnICYmIChvbGRJbmZvLmZvcm1UYWcgPSBpbmZvKTtcbiAgICAgIFwiYVwiID09PSB0YWcgJiYgKG9sZEluZm8uYVRhZ0luU2NvcGUgPSBpbmZvKTtcbiAgICAgIFwiYnV0dG9uXCIgPT09IHRhZyAmJiAob2xkSW5mby5idXR0b25UYWdJblNjb3BlID0gaW5mbyk7XG4gICAgICBcIm5vYnJcIiA9PT0gdGFnICYmIChvbGRJbmZvLm5vYnJUYWdJblNjb3BlID0gaW5mbyk7XG4gICAgICBcInBcIiA9PT0gdGFnICYmIChvbGRJbmZvLnBUYWdJbkJ1dHRvblNjb3BlID0gaW5mbyk7XG4gICAgICBcImxpXCIgPT09IHRhZyAmJiAob2xkSW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gaW5mbyk7XG4gICAgICBpZiAoXCJkZFwiID09PSB0YWcgfHwgXCJkdFwiID09PSB0YWcpIG9sZEluZm8uZGxJdGVtVGFnQXV0b2Nsb3NpbmcgPSBpbmZvO1xuICAgICAgXCIjZG9jdW1lbnRcIiA9PT0gdGFnIHx8IFwiaHRtbFwiID09PSB0YWdcbiAgICAgICAgPyAob2xkSW5mby5jb250YWluZXJUYWdJblNjb3BlID0gbnVsbClcbiAgICAgICAgOiBvbGRJbmZvLmNvbnRhaW5lclRhZ0luU2NvcGUgfHwgKG9sZEluZm8uY29udGFpbmVyVGFnSW5TY29wZSA9IGluZm8pO1xuICAgICAgcmV0dXJuIG9sZEluZm87XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVGFnVmFsaWRXaXRoUGFyZW50KHRhZywgcGFyZW50VGFnKSB7XG4gICAgICBzd2l0Y2ggKHBhcmVudFRhZykge1xuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwiaHJcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIm9wdGlvblwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwib3B0Z3JvdXBcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIiN0ZXh0XCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJvcHRncm91cFwiOlxuICAgICAgICAgIHJldHVybiBcIm9wdGlvblwiID09PSB0YWcgfHwgXCIjdGV4dFwiID09PSB0YWc7XG4gICAgICAgIGNhc2UgXCJvcHRpb25cIjpcbiAgICAgICAgICByZXR1cm4gXCIjdGV4dFwiID09PSB0YWc7XG4gICAgICAgIGNhc2UgXCJ0clwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcInRoXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0ZFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic3R5bGVcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInNjcmlwdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGVtcGxhdGVcIiA9PT0gdGFnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcInRib2R5XCI6XG4gICAgICAgIGNhc2UgXCJ0aGVhZFwiOlxuICAgICAgICBjYXNlIFwidGZvb3RcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJ0clwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic3R5bGVcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInNjcmlwdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGVtcGxhdGVcIiA9PT0gdGFnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcImNvbGdyb3VwXCI6XG4gICAgICAgICAgcmV0dXJuIFwiY29sXCIgPT09IHRhZyB8fCBcInRlbXBsYXRlXCIgPT09IHRhZztcbiAgICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwiY2FwdGlvblwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwiY29sZ3JvdXBcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRib2R5XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0Zm9vdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGhlYWRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInN0eWxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRlbXBsYXRlXCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJoZWFkXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwiYmFzZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwiYmFzZWZvbnRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcImJnc291bmRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcImxpbmtcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIm1ldGFcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRpdGxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJub3NjcmlwdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwibm9mcmFtZXNcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInN0eWxlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzY3JpcHRcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRlbXBsYXRlXCIgPT09IHRhZ1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgcmV0dXJuIFwiaGVhZFwiID09PSB0YWcgfHwgXCJib2R5XCIgPT09IHRhZyB8fCBcImZyYW1lc2V0XCIgPT09IHRhZztcbiAgICAgICAgY2FzZSBcImZyYW1lc2V0XCI6XG4gICAgICAgICAgcmV0dXJuIFwiZnJhbWVcIiA9PT0gdGFnO1xuICAgICAgICBjYXNlIFwiI2RvY3VtZW50XCI6XG4gICAgICAgICAgcmV0dXJuIFwiaHRtbFwiID09PSB0YWc7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIFwiaDFcIjpcbiAgICAgICAgY2FzZSBcImgyXCI6XG4gICAgICAgIGNhc2UgXCJoM1wiOlxuICAgICAgICBjYXNlIFwiaDRcIjpcbiAgICAgICAgY2FzZSBcImg1XCI6XG4gICAgICAgIGNhc2UgXCJoNlwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcImgxXCIgIT09IHBhcmVudFRhZyAmJlxuICAgICAgICAgICAgXCJoMlwiICE9PSBwYXJlbnRUYWcgJiZcbiAgICAgICAgICAgIFwiaDNcIiAhPT0gcGFyZW50VGFnICYmXG4gICAgICAgICAgICBcImg0XCIgIT09IHBhcmVudFRhZyAmJlxuICAgICAgICAgICAgXCJoNVwiICE9PSBwYXJlbnRUYWcgJiZcbiAgICAgICAgICAgIFwiaDZcIiAhPT0gcGFyZW50VGFnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcInJwXCI6XG4gICAgICAgIGNhc2UgXCJydFwiOlxuICAgICAgICAgIHJldHVybiAtMSA9PT0gaW1wbGllZEVuZFRhZ3MuaW5kZXhPZihwYXJlbnRUYWcpO1xuICAgICAgICBjYXNlIFwiYm9keVwiOlxuICAgICAgICBjYXNlIFwiY2FwdGlvblwiOlxuICAgICAgICBjYXNlIFwiY29sXCI6XG4gICAgICAgIGNhc2UgXCJjb2xncm91cFwiOlxuICAgICAgICBjYXNlIFwiZnJhbWVzZXRcIjpcbiAgICAgICAgY2FzZSBcImZyYW1lXCI6XG4gICAgICAgIGNhc2UgXCJoZWFkXCI6XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgIGNhc2UgXCJ0Ym9keVwiOlxuICAgICAgICBjYXNlIFwidGRcIjpcbiAgICAgICAgY2FzZSBcInRmb290XCI6XG4gICAgICAgIGNhc2UgXCJ0aFwiOlxuICAgICAgICBjYXNlIFwidGhlYWRcIjpcbiAgICAgICAgY2FzZSBcInRyXCI6XG4gICAgICAgICAgcmV0dXJuIG51bGwgPT0gcGFyZW50VGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnKHRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIFwiYWRkcmVzc1wiOlxuICAgICAgICBjYXNlIFwiYXJ0aWNsZVwiOlxuICAgICAgICBjYXNlIFwiYXNpZGVcIjpcbiAgICAgICAgY2FzZSBcImJsb2NrcXVvdGVcIjpcbiAgICAgICAgY2FzZSBcImNlbnRlclwiOlxuICAgICAgICBjYXNlIFwiZGV0YWlsc1wiOlxuICAgICAgICBjYXNlIFwiZGlhbG9nXCI6XG4gICAgICAgIGNhc2UgXCJkaXJcIjpcbiAgICAgICAgY2FzZSBcImRpdlwiOlxuICAgICAgICBjYXNlIFwiZGxcIjpcbiAgICAgICAgY2FzZSBcImZpZWxkc2V0XCI6XG4gICAgICAgIGNhc2UgXCJmaWdjYXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJmaWd1cmVcIjpcbiAgICAgICAgY2FzZSBcImZvb3RlclwiOlxuICAgICAgICBjYXNlIFwiaGVhZGVyXCI6XG4gICAgICAgIGNhc2UgXCJoZ3JvdXBcIjpcbiAgICAgICAgY2FzZSBcIm1haW5cIjpcbiAgICAgICAgY2FzZSBcIm1lbnVcIjpcbiAgICAgICAgY2FzZSBcIm5hdlwiOlxuICAgICAgICBjYXNlIFwib2xcIjpcbiAgICAgICAgY2FzZSBcInBcIjpcbiAgICAgICAgY2FzZSBcInNlY3Rpb25cIjpcbiAgICAgICAgY2FzZSBcInN1bW1hcnlcIjpcbiAgICAgICAgY2FzZSBcInVsXCI6XG4gICAgICAgIGNhc2UgXCJwcmVcIjpcbiAgICAgICAgY2FzZSBcImxpc3RpbmdcIjpcbiAgICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgIGNhc2UgXCJoclwiOlxuICAgICAgICBjYXNlIFwieG1wXCI6XG4gICAgICAgIGNhc2UgXCJoMVwiOlxuICAgICAgICBjYXNlIFwiaDJcIjpcbiAgICAgICAgY2FzZSBcImgzXCI6XG4gICAgICAgIGNhc2UgXCJoNFwiOlxuICAgICAgICBjYXNlIFwiaDVcIjpcbiAgICAgICAgY2FzZSBcImg2XCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5wVGFnSW5CdXR0b25TY29wZTtcbiAgICAgICAgY2FzZSBcImZvcm1cIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmZvcm1UYWcgfHwgYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuICAgICAgICBjYXNlIFwibGlcIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3Npbmc7XG4gICAgICAgIGNhc2UgXCJkZFwiOlxuICAgICAgICBjYXNlIFwiZHRcIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nO1xuICAgICAgICBjYXNlIFwiYnV0dG9uXCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5idXR0b25UYWdJblNjb3BlO1xuICAgICAgICBjYXNlIFwiYVwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uYVRhZ0luU2NvcGU7XG4gICAgICAgIGNhc2UgXCJub2JyXCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5ub2JyVGFnSW5TY29wZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kQW5jZXN0b3IocGFyZW50LCB0YWdOYW1lKSB7XG4gICAgICBmb3IgKDsgcGFyZW50OyApIHtcbiAgICAgICAgc3dpdGNoIChwYXJlbnQudGFnKSB7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgIGlmIChwYXJlbnQudHlwZSA9PT0gdGFnTmFtZSkgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgfVxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRE9NTmVzdGluZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKSB7XG4gICAgICBhbmNlc3RvckluZm8gPSBhbmNlc3RvckluZm8gfHwgZW1wdHlBbmNlc3RvckluZm9EZXY7XG4gICAgICB2YXIgcGFyZW50SW5mbyA9IGFuY2VzdG9ySW5mby5jdXJyZW50O1xuICAgICAgYW5jZXN0b3JJbmZvID0gKHBhcmVudEluZm8gPSBpc1RhZ1ZhbGlkV2l0aFBhcmVudChcbiAgICAgICAgY2hpbGRUYWcsXG4gICAgICAgIHBhcmVudEluZm8gJiYgcGFyZW50SW5mby50YWdcbiAgICAgIClcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogcGFyZW50SW5mbylcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogZmluZEludmFsaWRBbmNlc3RvckZvclRhZyhjaGlsZFRhZywgYW5jZXN0b3JJbmZvKTtcbiAgICAgIGFuY2VzdG9ySW5mbyA9IHBhcmVudEluZm8gfHwgYW5jZXN0b3JJbmZvO1xuICAgICAgaWYgKCFhbmNlc3RvckluZm8pIHJldHVybiAhMDtcbiAgICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mby50YWc7XG4gICAgICB2YXIgd2FybktleSA9IFN0cmluZyghIXBhcmVudEluZm8pICsgXCJ8XCIgKyBjaGlsZFRhZyArIFwifFwiICsgYW5jZXN0b3JJbmZvO1xuICAgICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHJldHVybiAhMTtcbiAgICAgIGRpZFdhcm5bd2FybktleV0gPSAhMDtcbiAgICAgIHZhciBhbmNlc3RvciA9ICh3YXJuS2V5ID0gY3VycmVudClcbiAgICAgICAgPyBmaW5kQW5jZXN0b3Iod2FybktleS5yZXR1cm4sIGFuY2VzdG9ySW5mbylcbiAgICAgICAgOiBudWxsO1xuICAgICAgd2FybktleSA9XG4gICAgICAgIG51bGwgIT09IHdhcm5LZXkgJiYgbnVsbCAhPT0gYW5jZXN0b3JcbiAgICAgICAgICA/IGRlc2NyaWJlQW5jZXN0b3JzKGFuY2VzdG9yLCB3YXJuS2V5LCBudWxsKVxuICAgICAgICAgIDogXCJcIjtcbiAgICAgIGFuY2VzdG9yID0gXCI8XCIgKyBjaGlsZFRhZyArIFwiPlwiO1xuICAgICAgcGFyZW50SW5mb1xuICAgICAgICA/ICgocGFyZW50SW5mbyA9IFwiXCIpLFxuICAgICAgICAgIFwidGFibGVcIiA9PT0gYW5jZXN0b3JJbmZvICYmXG4gICAgICAgICAgICBcInRyXCIgPT09IGNoaWxkVGFnICYmXG4gICAgICAgICAgICAocGFyZW50SW5mbyArPVxuICAgICAgICAgICAgICBcIiBBZGQgYSA8dGJvZHk+LCA8dGhlYWQ+IG9yIDx0Zm9vdD4gdG8geW91ciBjb2RlIHRvIG1hdGNoIHRoZSBET00gdHJlZSBnZW5lcmF0ZWQgYnkgdGhlIGJyb3dzZXIuXCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkluIEhUTUwsICVzIGNhbm5vdCBiZSBhIGNoaWxkIG9mIDwlcz4uJXNcXG5UaGlzIHdpbGwgY2F1c2UgYSBoeWRyYXRpb24gZXJyb3IuJXNcIixcbiAgICAgICAgICAgIGFuY2VzdG9yLFxuICAgICAgICAgICAgYW5jZXN0b3JJbmZvLFxuICAgICAgICAgICAgcGFyZW50SW5mbyxcbiAgICAgICAgICAgIHdhcm5LZXlcbiAgICAgICAgICApKVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkluIEhUTUwsICVzIGNhbm5vdCBiZSBhIGRlc2NlbmRhbnQgb2YgPCVzPi5cXG5UaGlzIHdpbGwgY2F1c2UgYSBoeWRyYXRpb24gZXJyb3IuJXNcIixcbiAgICAgICAgICAgIGFuY2VzdG9yLFxuICAgICAgICAgICAgYW5jZXN0b3JJbmZvLFxuICAgICAgICAgICAgd2FybktleVxuICAgICAgICAgICk7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlVGV4dE5lc3RpbmcoY2hpbGRUZXh0LCBwYXJlbnRUYWcpIHtcbiAgICAgIGlmIChpc1RhZ1ZhbGlkV2l0aFBhcmVudChcIiN0ZXh0XCIsIHBhcmVudFRhZykpIHJldHVybiAhMDtcbiAgICAgIHZhciB3YXJuS2V5ID0gXCIjdGV4dHxcIiArIHBhcmVudFRhZztcbiAgICAgIGlmIChkaWRXYXJuW3dhcm5LZXldKSByZXR1cm4gITE7XG4gICAgICBkaWRXYXJuW3dhcm5LZXldID0gITA7XG4gICAgICB2YXIgYW5jZXN0b3IgPSAod2FybktleSA9IGN1cnJlbnQpXG4gICAgICAgID8gZmluZEFuY2VzdG9yKHdhcm5LZXksIHBhcmVudFRhZylcbiAgICAgICAgOiBudWxsO1xuICAgICAgd2FybktleSA9XG4gICAgICAgIG51bGwgIT09IHdhcm5LZXkgJiYgbnVsbCAhPT0gYW5jZXN0b3JcbiAgICAgICAgICA/IGRlc2NyaWJlQW5jZXN0b3JzKFxuICAgICAgICAgICAgICBhbmNlc3RvcixcbiAgICAgICAgICAgICAgd2FybktleSxcbiAgICAgICAgICAgICAgNiAhPT0gd2FybktleS50YWcgPyB7IGNoaWxkcmVuOiBudWxsIH0gOiBudWxsXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBcIlwiO1xuICAgICAgL1xcUy8udGVzdChjaGlsZFRleHQpXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW4gSFRNTCwgdGV4dCBub2RlcyBjYW5ub3QgYmUgYSBjaGlsZCBvZiA8JXM+LlxcblRoaXMgd2lsbCBjYXVzZSBhIGh5ZHJhdGlvbiBlcnJvci4lc1wiLFxuICAgICAgICAgICAgcGFyZW50VGFnLFxuICAgICAgICAgICAgd2FybktleVxuICAgICAgICAgIClcbiAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbiBIVE1MLCB3aGl0ZXNwYWNlIHRleHQgbm9kZXMgY2Fubm90IGJlIGEgY2hpbGQgb2YgPCVzPi4gTWFrZSBzdXJlIHlvdSBkb24ndCBoYXZlIGFueSBleHRyYSB3aGl0ZXNwYWNlIGJldHdlZW4gdGFncyBvbiBlYWNoIGxpbmUgb2YgeW91ciBzb3VyY2UgY29kZS5cXG5UaGlzIHdpbGwgY2F1c2UgYSBoeWRyYXRpb24gZXJyb3IuJXNcIixcbiAgICAgICAgICAgIHBhcmVudFRhZyxcbiAgICAgICAgICAgIHdhcm5LZXlcbiAgICAgICAgICApO1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRUZXh0Q29udGVudChub2RlLCB0ZXh0KSB7XG4gICAgICBpZiAodGV4dCkge1xuICAgICAgICB2YXIgZmlyc3RDaGlsZCA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGZpcnN0Q2hpbGQgJiZcbiAgICAgICAgICBmaXJzdENoaWxkID09PSBub2RlLmxhc3RDaGlsZCAmJlxuICAgICAgICAgIDMgPT09IGZpcnN0Q2hpbGQubm9kZVR5cGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgZmlyc3RDaGlsZC5ub2RlVmFsdWUgPSB0ZXh0O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbWVsaXplKHN0cmluZykge1xuICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGh5cGhlblBhdHRlcm4sIGZ1bmN0aW9uIChfLCBjaGFyYWN0ZXIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJhY3Rlci50b1VwcGVyQ2FzZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFZhbHVlRm9yU3R5bGUoc3R5bGUsIHN0eWxlTmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBpc0N1c3RvbVByb3BlcnR5ID0gMCA9PT0gc3R5bGVOYW1lLmluZGV4T2YoXCItLVwiKTtcbiAgICAgIGlzQ3VzdG9tUHJvcGVydHkgfHxcbiAgICAgICAgKC0xIDwgc3R5bGVOYW1lLmluZGV4T2YoXCItXCIpXG4gICAgICAgICAgPyAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpICYmXG4gICAgICAgICAgICAgIHdhcm5lZFN0eWxlTmFtZXNbc3R5bGVOYW1lXSkgfHxcbiAgICAgICAgICAgICgod2FybmVkU3R5bGVOYW1lc1tzdHlsZU5hbWVdID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJVbnN1cHBvcnRlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzP1wiLFxuICAgICAgICAgICAgICBzdHlsZU5hbWUsXG4gICAgICAgICAgICAgIGNhbWVsaXplKHN0eWxlTmFtZS5yZXBsYWNlKG1zUGF0dGVybiwgXCJtcy1cIikpXG4gICAgICAgICAgICApKVxuICAgICAgICAgIDogYmFkVmVuZG9yZWRTdHlsZU5hbWVQYXR0ZXJuLnRlc3Qoc3R5bGVOYW1lKVxuICAgICAgICAgICAgPyAod2FybmVkU3R5bGVOYW1lcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpICYmXG4gICAgICAgICAgICAgICAgd2FybmVkU3R5bGVOYW1lc1tzdHlsZU5hbWVdKSB8fFxuICAgICAgICAgICAgICAoKHdhcm5lZFN0eWxlTmFtZXNbc3R5bGVOYW1lXSA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlVuc3VwcG9ydGVkIHZlbmRvci1wcmVmaXhlZCBzdHlsZSBwcm9wZXJ0eSAlcy4gRGlkIHlvdSBtZWFuICVzP1wiLFxuICAgICAgICAgICAgICAgIHN0eWxlTmFtZSxcbiAgICAgICAgICAgICAgICBzdHlsZU5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHlsZU5hbWUuc2xpY2UoMSlcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIDogIWJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybi50ZXN0KHZhbHVlKSB8fFxuICAgICAgICAgICAgICAod2FybmVkU3R5bGVWYWx1ZXMuaGFzT3duUHJvcGVydHkodmFsdWUpICYmXG4gICAgICAgICAgICAgICAgd2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdKSB8fFxuICAgICAgICAgICAgICAoKHdhcm5lZFN0eWxlVmFsdWVzW3ZhbHVlXSA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnU3R5bGUgcHJvcGVydHkgdmFsdWVzIHNob3VsZG5cXCd0IGNvbnRhaW4gYSBzZW1pY29sb24uIFRyeSBcIiVzOiAlc1wiIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgICBzdHlsZU5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWUucmVwbGFjZShiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4sIFwiXCIpXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAoaXNOYU4odmFsdWUpXG4gICAgICAgICAgICA/IHdhcm5lZEZvck5hTlZhbHVlIHx8XG4gICAgICAgICAgICAgICgod2FybmVkRm9yTmFOVmFsdWUgPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJgTmFOYCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgYCVzYCBjc3Mgc3R5bGUgcHJvcGVydHkuXCIsXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6IGlzRmluaXRlKHZhbHVlKSB8fFxuICAgICAgICAgICAgICB3YXJuZWRGb3JJbmZpbml0eVZhbHVlIHx8XG4gICAgICAgICAgICAgICgod2FybmVkRm9ySW5maW5pdHlWYWx1ZSA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcImBJbmZpbml0eWAgaXMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgdGhlIGAlc2AgY3NzIHN0eWxlIHByb3BlcnR5LlwiLFxuICAgICAgICAgICAgICAgIHN0eWxlTmFtZVxuICAgICAgICAgICAgICApKSkpO1xuICAgICAgbnVsbCA9PSB2YWx1ZSB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHZhbHVlIHx8IFwiXCIgPT09IHZhbHVlXG4gICAgICAgID8gaXNDdXN0b21Qcm9wZXJ0eVxuICAgICAgICAgID8gc3R5bGUuc2V0UHJvcGVydHkoc3R5bGVOYW1lLCBcIlwiKVxuICAgICAgICAgIDogXCJmbG9hdFwiID09PSBzdHlsZU5hbWVcbiAgICAgICAgICAgID8gKHN0eWxlLmNzc0Zsb2F0ID0gXCJcIilcbiAgICAgICAgICAgIDogKHN0eWxlW3N0eWxlTmFtZV0gPSBcIlwiKVxuICAgICAgICA6IGlzQ3VzdG9tUHJvcGVydHlcbiAgICAgICAgICA/IHN0eWxlLnNldFByb3BlcnR5KHN0eWxlTmFtZSwgdmFsdWUpXG4gICAgICAgICAgOiBcIm51bWJlclwiICE9PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgICAgMCA9PT0gdmFsdWUgfHxcbiAgICAgICAgICAgICAgdW5pdGxlc3NOdW1iZXJzLmhhcyhzdHlsZU5hbWUpXG4gICAgICAgICAgICA/IFwiZmxvYXRcIiA9PT0gc3R5bGVOYW1lXG4gICAgICAgICAgICAgID8gKHN0eWxlLmNzc0Zsb2F0ID0gdmFsdWUpXG4gICAgICAgICAgICAgIDogKGNoZWNrQ1NTUHJvcGVydHlTdHJpbmdDb2VyY2lvbih2YWx1ZSwgc3R5bGVOYW1lKSxcbiAgICAgICAgICAgICAgICAoc3R5bGVbc3R5bGVOYW1lXSA9IChcIlwiICsgdmFsdWUpLnRyaW0oKSkpXG4gICAgICAgICAgICA6IChzdHlsZVtzdHlsZU5hbWVdID0gdmFsdWUgKyBcInB4XCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUZvclN0eWxlcyhub2RlLCBzdHlsZXMsIHByZXZTdHlsZXMpIHtcbiAgICAgIGlmIChudWxsICE9IHN0eWxlcyAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2Ygc3R5bGVzKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlRoZSBgc3R5bGVgIHByb3AgZXhwZWN0cyBhIG1hcHBpbmcgZnJvbSBzdHlsZSBwcm9wZXJ0aWVzIHRvIHZhbHVlcywgbm90IGEgc3RyaW5nLiBGb3IgZXhhbXBsZSwgc3R5bGU9e3ttYXJnaW5SaWdodDogc3BhY2luZyArICdlbSd9fSB3aGVuIHVzaW5nIEpTWC5cIlxuICAgICAgICApO1xuICAgICAgc3R5bGVzICYmIE9iamVjdC5mcmVlemUoc3R5bGVzKTtcbiAgICAgIG5vZGUgPSBub2RlLnN0eWxlO1xuICAgICAgaWYgKG51bGwgIT0gcHJldlN0eWxlcykge1xuICAgICAgICBpZiAoc3R5bGVzKSB7XG4gICAgICAgICAgdmFyIGV4cGFuZGVkVXBkYXRlcyA9IHt9O1xuICAgICAgICAgIGlmIChwcmV2U3R5bGVzKVxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHByZXZTdHlsZXMpXG4gICAgICAgICAgICAgIGlmIChwcmV2U3R5bGVzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXN0eWxlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICB2YXIgbG9uZ2hhbmRzID0gc2hvcnRoYW5kVG9Mb25naGFuZFtrZXldIHx8IFtrZXldLCBpID0gMDtcbiAgICAgICAgICAgICAgICAgIGkgPCBsb25naGFuZHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgaSsrXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgZXhwYW5kZWRVcGRhdGVzW2xvbmdoYW5kc1tpXV0gPSBrZXk7XG4gICAgICAgICAgZm9yICh2YXIgX2tleSBpbiBzdHlsZXMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShfa2V5KSAmJlxuICAgICAgICAgICAgICAoIXByZXZTdHlsZXMgfHwgcHJldlN0eWxlc1tfa2V5XSAhPT0gc3R5bGVzW19rZXldKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGtleSA9IHNob3J0aGFuZFRvTG9uZ2hhbmRbX2tleV0gfHwgW19rZXldLCBsb25naGFuZHMgPSAwO1xuICAgICAgICAgICAgICAgIGxvbmdoYW5kcyA8IGtleS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbG9uZ2hhbmRzKytcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGV4cGFuZGVkVXBkYXRlc1trZXlbbG9uZ2hhbmRzXV0gPSBfa2V5O1xuICAgICAgICAgIF9rZXkgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBrZXkkanNjb21wJDAgaW4gc3R5bGVzKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAga2V5ID0gc2hvcnRoYW5kVG9Mb25naGFuZFtrZXkkanNjb21wJDBdIHx8IFtrZXkkanNjb21wJDBdLFxuICAgICAgICAgICAgICAgIGxvbmdoYW5kcyA9IDA7XG4gICAgICAgICAgICAgIGxvbmdoYW5kcyA8IGtleS5sZW5ndGg7XG4gICAgICAgICAgICAgIGxvbmdoYW5kcysrXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIF9rZXlba2V5W2xvbmdoYW5kc11dID0ga2V5JGpzY29tcCQwO1xuICAgICAgICAgIGtleSRqc2NvbXAkMCA9IHt9O1xuICAgICAgICAgIGZvciAodmFyIF9rZXkyIGluIGV4cGFuZGVkVXBkYXRlcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChrZXkgPSBleHBhbmRlZFVwZGF0ZXNbX2tleTJdKSxcbiAgICAgICAgICAgICAgKGxvbmdoYW5kcyA9IF9rZXlbX2tleTJdKSAmJlxuICAgICAgICAgICAgICAgIGtleSAhPT0gbG9uZ2hhbmRzICYmXG4gICAgICAgICAgICAgICAgKChpID0ga2V5ICsgXCIsXCIgKyBsb25naGFuZHMpLCAha2V5JGpzY29tcCQwW2ldKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBrZXkkanNjb21wJDBbaV0gPSAhMDtcbiAgICAgICAgICAgICAgaSA9IGNvbnNvbGU7XG4gICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHN0eWxlc1trZXldO1xuICAgICAgICAgICAgICBpLmVycm9yLmNhbGwoXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBcIiVzIGEgc3R5bGUgcHJvcGVydHkgZHVyaW5nIHJlcmVuZGVyICglcykgd2hlbiBhIGNvbmZsaWN0aW5nIHByb3BlcnR5IGlzIHNldCAoJXMpIGNhbiBsZWFkIHRvIHN0eWxpbmcgYnVncy4gVG8gYXZvaWQgdGhpcywgZG9uJ3QgbWl4IHNob3J0aGFuZCBhbmQgbm9uLXNob3J0aGFuZCBwcm9wZXJ0aWVzIGZvciB0aGUgc2FtZSB2YWx1ZTsgaW5zdGVhZCwgcmVwbGFjZSB0aGUgc2hvcnRoYW5kIHdpdGggc2VwYXJhdGUgdmFsdWVzLlwiLFxuICAgICAgICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHwgXCJib29sZWFuXCIgPT09IHR5cGVvZiB2YWx1ZSB8fCBcIlwiID09PSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgPyBcIlJlbW92aW5nXCJcbiAgICAgICAgICAgICAgICAgIDogXCJVcGRhdGluZ1wiLFxuICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICBsb25naGFuZHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBzdHlsZU5hbWUgaW4gcHJldlN0eWxlcylcbiAgICAgICAgICAhcHJldlN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpIHx8XG4gICAgICAgICAgICAobnVsbCAhPSBzdHlsZXMgJiYgc3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHx8XG4gICAgICAgICAgICAoMCA9PT0gc3R5bGVOYW1lLmluZGV4T2YoXCItLVwiKVxuICAgICAgICAgICAgICA/IG5vZGUuc2V0UHJvcGVydHkoc3R5bGVOYW1lLCBcIlwiKVxuICAgICAgICAgICAgICA6IFwiZmxvYXRcIiA9PT0gc3R5bGVOYW1lXG4gICAgICAgICAgICAgICAgPyAobm9kZS5jc3NGbG9hdCA9IFwiXCIpXG4gICAgICAgICAgICAgICAgOiAobm9kZVtzdHlsZU5hbWVdID0gXCJcIikpO1xuICAgICAgICBmb3IgKHZhciBfc3R5bGVOYW1lIGluIHN0eWxlcylcbiAgICAgICAgICAoX2tleTIgPSBzdHlsZXNbX3N0eWxlTmFtZV0pLFxuICAgICAgICAgICAgc3R5bGVzLmhhc093blByb3BlcnR5KF9zdHlsZU5hbWUpICYmXG4gICAgICAgICAgICAgIHByZXZTdHlsZXNbX3N0eWxlTmFtZV0gIT09IF9rZXkyICYmXG4gICAgICAgICAgICAgIHNldFZhbHVlRm9yU3R5bGUobm9kZSwgX3N0eWxlTmFtZSwgX2tleTIpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGZvciAoZXhwYW5kZWRVcGRhdGVzIGluIHN0eWxlcylcbiAgICAgICAgICBzdHlsZXMuaGFzT3duUHJvcGVydHkoZXhwYW5kZWRVcGRhdGVzKSAmJlxuICAgICAgICAgICAgc2V0VmFsdWVGb3JTdHlsZShub2RlLCBleHBhbmRlZFVwZGF0ZXMsIHN0eWxlc1tleHBhbmRlZFVwZGF0ZXNdKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNDdXN0b21FbGVtZW50KHRhZ05hbWUpIHtcbiAgICAgIGlmICgtMSA9PT0gdGFnTmFtZS5pbmRleE9mKFwiLVwiKSkgcmV0dXJuICExO1xuICAgICAgc3dpdGNoICh0YWdOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJhbm5vdGF0aW9uLXhtbFwiOlxuICAgICAgICBjYXNlIFwiY29sb3ItcHJvZmlsZVwiOlxuICAgICAgICBjYXNlIFwiZm9udC1mYWNlXCI6XG4gICAgICAgIGNhc2UgXCJmb250LWZhY2Utc3JjXCI6XG4gICAgICAgIGNhc2UgXCJmb250LWZhY2UtdXJpXCI6XG4gICAgICAgIGNhc2UgXCJmb250LWZhY2UtZm9ybWF0XCI6XG4gICAgICAgIGNhc2UgXCJmb250LWZhY2UtbmFtZVwiOlxuICAgICAgICBjYXNlIFwibWlzc2luZy1nbHlwaFwiOlxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEF0dHJpYnV0ZUFsaWFzKG5hbWUpIHtcbiAgICAgIHJldHVybiBhbGlhc2VzLmdldChuYW1lKSB8fCBuYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5JDEodGFnTmFtZSwgbmFtZSkge1xuICAgICAgaWYgKFxuICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFByb3BlcnRpZXMkMSwgbmFtZSkgJiZcbiAgICAgICAgd2FybmVkUHJvcGVydGllcyQxW25hbWVdXG4gICAgICApXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIGlmIChyQVJJQUNhbWVsJDEudGVzdChuYW1lKSkge1xuICAgICAgICB0YWdOYW1lID0gXCJhcmlhLVwiICsgbmFtZS5zbGljZSg0KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB0YWdOYW1lID0gYXJpYVByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkodGFnTmFtZSkgPyB0YWdOYW1lIDogbnVsbDtcbiAgICAgICAgaWYgKG51bGwgPT0gdGFnTmFtZSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIEFSSUEgYXR0cmlidXRlcyBmb2xsb3cgdGhlIHBhdHRlcm4gYXJpYS0qIGFuZCBtdXN0IGJlIGxvd2VyY2FzZS5cIixcbiAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgICBpZiAobmFtZSAhPT0gdGFnTmFtZSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIEFSSUEgYXR0cmlidXRlIGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgP1wiLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICB0YWdOYW1lXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9ICEwKVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAockFSSUEkMS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRhZ05hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHRhZ05hbWUgPSBhcmlhUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSA/IHRhZ05hbWUgOiBudWxsO1xuICAgICAgICBpZiAobnVsbCA9PSB0YWdOYW1lKSByZXR1cm4gKHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9ICEwKSwgITE7XG4gICAgICAgIG5hbWUgIT09IHRhZ05hbWUgJiZcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVW5rbm93biBBUklBIGF0dHJpYnV0ZSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD9cIixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB0YWdOYW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gITApKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0aWVzJDIodHlwZSwgcHJvcHMpIHtcbiAgICAgIHZhciBpbnZhbGlkUHJvcHMgPSBbXSxcbiAgICAgICAga2V5O1xuICAgICAgZm9yIChrZXkgaW4gcHJvcHMpXG4gICAgICAgIHZhbGlkYXRlUHJvcGVydHkkMSh0eXBlLCBrZXkpIHx8IGludmFsaWRQcm9wcy5wdXNoKGtleSk7XG4gICAgICBwcm9wcyA9IGludmFsaWRQcm9wc1xuICAgICAgICAubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYFwiICsgcHJvcCArIFwiYFwiO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbihcIiwgXCIpO1xuICAgICAgMSA9PT0gaW52YWxpZFByb3BzLmxlbmd0aFxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkludmFsaWQgYXJpYSBwcm9wICVzIG9uIDwlcz4gdGFnLiBGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1hcmlhLXByb3BzXCIsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICApXG4gICAgICAgIDogMSA8IGludmFsaWRQcm9wcy5sZW5ndGggJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbnZhbGlkIGFyaWEgcHJvcHMgJXMgb24gPCVzPiB0YWcuIEZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWFyaWEtcHJvcHNcIixcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHkodGFnTmFtZSwgbmFtZSwgdmFsdWUsIGV2ZW50UmVnaXN0cnkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHdhcm5lZFByb3BlcnRpZXMsIG5hbWUpICYmIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0pXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIHZhciBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChcIm9uZm9jdXNpblwiID09PSBsb3dlckNhc2VkTmFtZSB8fCBcIm9uZm9jdXNvdXRcIiA9PT0gbG93ZXJDYXNlZE5hbWUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3QgdXNlcyBvbkZvY3VzIGFuZCBvbkJsdXIgaW5zdGVhZCBvZiBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQuIEFsbCBSZWFjdCBldmVudHMgYXJlIG5vcm1hbGl6ZWQgdG8gYnViYmxlLCBzbyBvbkZvY3VzSW4gYW5kIG9uRm9jdXNPdXQgYXJlIG5vdCBuZWVkZWQvc3VwcG9ydGVkIGJ5IFJlYWN0LlwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAoKFwiZm9ybVwiID09PSB0YWdOYW1lICYmIFwiYWN0aW9uXCIgPT09IG5hbWUpIHx8XG4gICAgICAgICAgKFwiaW5wdXRcIiA9PT0gdGFnTmFtZSAmJiBcImZvcm1BY3Rpb25cIiA9PT0gbmFtZSkgfHxcbiAgICAgICAgICAoXCJidXR0b25cIiA9PT0gdGFnTmFtZSAmJiBcImZvcm1BY3Rpb25cIiA9PT0gbmFtZSkpXG4gICAgICApXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIGlmIChudWxsICE9IGV2ZW50UmVnaXN0cnkpIHtcbiAgICAgICAgdGFnTmFtZSA9IGV2ZW50UmVnaXN0cnkucG9zc2libGVSZWdpc3RyYXRpb25OYW1lcztcbiAgICAgICAgaWYgKGV2ZW50UmVnaXN0cnkucmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSlcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGV2ZW50UmVnaXN0cnkgPSB0YWdOYW1lLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICAgID8gdGFnTmFtZVtsb3dlckNhc2VkTmFtZV1cbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGlmIChudWxsICE9IGV2ZW50UmVnaXN0cnkpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgP1wiLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBldmVudFJlZ2lzdHJ5XG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoRVZFTlRfTkFNRV9SRUdFWC50ZXN0KG5hbWUpKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlVua25vd24gZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSBgJXNgLiBJdCB3aWxsIGJlIGlnbm9yZWQuXCIsXG4gICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKEVWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBJTlZBTElEX0VWRU5UX05BTUVfUkVHRVgudGVzdChuYW1lKSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gUmVhY3QgZXZlbnRzIHVzZSB0aGUgY2FtZWxDYXNlIG5hbWluZyBjb252ZW50aW9uLCBmb3IgZXhhbXBsZSBgb25DbGlja2AuXCIsXG4gICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChyQVJJQS50ZXN0KG5hbWUpIHx8IHJBUklBQ2FtZWwudGVzdChuYW1lKSkgcmV0dXJuICEwO1xuICAgICAgaWYgKFwiaW5uZXJodG1sXCIgPT09IGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkRpcmVjdGx5IHNldHRpbmcgcHJvcGVydHkgYGlubmVySFRNTGAgaXMgbm90IHBlcm1pdHRlZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIGxvb2t1cCBkb2N1bWVudGF0aW9uIG9uIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAoXCJhcmlhXCIgPT09IGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSBgYXJpYWAgYXR0cmlidXRlIGlzIHJlc2VydmVkIGZvciBmdXR1cmUgdXNlIGluIFJlYWN0LiBQYXNzIGluZGl2aWR1YWwgYGFyaWEtYCBhdHRyaWJ1dGVzIGluc3RlYWQuXCJcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIFwiaXNcIiA9PT0gbG93ZXJDYXNlZE5hbWUgJiZcbiAgICAgICAgbnVsbCAhPT0gdmFsdWUgJiZcbiAgICAgICAgdm9pZCAwICE9PSB2YWx1ZSAmJlxuICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgdmFsdWVcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWNlaXZlZCBhIGAlc2AgZm9yIGEgc3RyaW5nIGF0dHJpYnV0ZSBgaXNgLiBJZiB0aGlzIGlzIGV4cGVjdGVkLCBjYXN0IHRoZSB2YWx1ZSB0byBhIHN0cmluZy5cIixcbiAgICAgICAgICAgIHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgJiYgaXNOYU4odmFsdWUpKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlY2VpdmVkIE5hTiBmb3IgdGhlIGAlc2AgYXR0cmlidXRlLiBJZiB0aGlzIGlzIGV4cGVjdGVkLCBjYXN0IHRoZSB2YWx1ZSB0byBhIHN0cmluZy5cIixcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAocG9zc2libGVTdGFuZGFyZE5hbWVzLmhhc093blByb3BlcnR5KGxvd2VyQ2FzZWROYW1lKSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKChsb3dlckNhc2VkTmFtZSA9IHBvc3NpYmxlU3RhbmRhcmROYW1lc1tsb3dlckNhc2VkTmFtZV0pLFxuICAgICAgICAgIGxvd2VyQ2FzZWROYW1lICE9PSBuYW1lKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBET00gcHJvcGVydHkgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/XCIsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGxvd2VyQ2FzZWROYW1lXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgICApO1xuICAgICAgfSBlbHNlIGlmIChuYW1lICE9PSBsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdCBkb2VzIG5vdCByZWNvZ25pemUgdGhlIGAlc2AgcHJvcCBvbiBhIERPTSBlbGVtZW50LiBJZiB5b3UgaW50ZW50aW9uYWxseSB3YW50IGl0IHRvIGFwcGVhciBpbiB0aGUgRE9NIGFzIGEgY3VzdG9tIGF0dHJpYnV0ZSwgc3BlbGwgaXQgYXMgbG93ZXJjYXNlIGAlc2AgaW5zdGVhZC4gSWYgeW91IGFjY2lkZW50YWxseSBwYXNzZWQgaXQgZnJvbSBhIHBhcmVudCBjb21wb25lbnQsIHJlbW92ZSBpdCBmcm9tIHRoZSBET00gZWxlbWVudC5cIixcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBsb3dlckNhc2VkTmFtZVxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICBjYXNlIFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpcbiAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgY2FzZSBcImlubmVySFRNTFwiOlxuICAgICAgICBjYXNlIFwicmVmXCI6XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwiaW5uZXJUZXh0XCI6XG4gICAgICAgIGNhc2UgXCJ0ZXh0Q29udGVudFwiOlxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgICAgICBjYXNlIFwiYXV0b0ZvY3VzXCI6XG4gICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICBjYXNlIFwibXV0ZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgY2FzZSBcImNvbnRlbnRFZGl0YWJsZVwiOlxuICAgICAgICAgICAgY2FzZSBcInNwZWxsQ2hlY2tcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkcmFnZ2FibGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgY2FzZSBcImF1dG9SZXZlcnNlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiOlxuICAgICAgICAgICAgY2FzZSBcImZvY3VzYWJsZVwiOlxuICAgICAgICAgICAgY2FzZSBcInByZXNlcnZlQWxwaGFcIjpcbiAgICAgICAgICAgIGNhc2UgXCJhbGxvd0Z1bGxTY3JlZW5cIjpcbiAgICAgICAgICAgIGNhc2UgXCJhc3luY1wiOlxuICAgICAgICAgICAgY2FzZSBcImF1dG9QbGF5XCI6XG4gICAgICAgICAgICBjYXNlIFwiY29udHJvbHNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XG4gICAgICAgICAgICBjYXNlIFwiZGVmZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlZFwiOlxuICAgICAgICAgICAgY2FzZSBcImRpc2FibGVQaWN0dXJlSW5QaWN0dXJlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6XG4gICAgICAgICAgICBjYXNlIFwiZm9ybU5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgICAgIGNhc2UgXCJsb29wXCI6XG4gICAgICAgICAgICBjYXNlIFwibm9Nb2R1bGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJub1ZhbGlkYXRlXCI6XG4gICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgY2FzZSBcInBsYXlzSW5saW5lXCI6XG4gICAgICAgICAgICBjYXNlIFwicmVhZE9ubHlcIjpcbiAgICAgICAgICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgICAgICAgY2FzZSBcInJldmVyc2VkXCI6XG4gICAgICAgICAgICBjYXNlIFwic2NvcGVkXCI6XG4gICAgICAgICAgICBjYXNlIFwic2VhbWxlc3NcIjpcbiAgICAgICAgICAgIGNhc2UgXCJpdGVtU2NvcGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJjYXB0dXJlXCI6XG4gICAgICAgICAgICBjYXNlIFwiZG93bmxvYWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJpbmVydFwiOlxuICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICBsb3dlckNhc2VkTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKS5zbGljZSgwLCA1KTtcbiAgICAgICAgICAgICAgaWYgKFwiZGF0YS1cIiA9PT0gbG93ZXJDYXNlZE5hbWUgfHwgXCJhcmlhLVwiID09PSBsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnUmVjZWl2ZWQgYCVzYCBmb3IgYSBub24tYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC5cXG5cXG5JZiB5b3Ugd2FudCB0byB3cml0ZSBpdCB0byB0aGUgRE9NLCBwYXNzIGEgc3RyaW5nIGluc3RlYWQ6ICVzPVwiJXNcIiBvciAlcz17dmFsdWUudG9TdHJpbmcoKX0uJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnUmVjZWl2ZWQgYCVzYCBmb3IgYSBub24tYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC5cXG5cXG5JZiB5b3Ugd2FudCB0byB3cml0ZSBpdCB0byB0aGUgRE9NLCBwYXNzIGEgc3RyaW5nIGluc3RlYWQ6ICVzPVwiJXNcIiBvciAlcz17dmFsdWUudG9TdHJpbmcoKX0uXFxuXFxuSWYgeW91IHVzZWQgdG8gY29uZGl0aW9uYWxseSBvbWl0IGl0IHdpdGggJXM9e2NvbmRpdGlvbiAmJiB2YWx1ZX0sIHBhc3MgJXM9e2NvbmRpdGlvbiA/IHZhbHVlIDogdW5kZWZpbmVkfSBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICByZXR1cm4gKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMCksICExO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgaWYgKFwiZmFsc2VcIiA9PT0gdmFsdWUgfHwgXCJ0cnVlXCIgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwibXV0ZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImFsbG93RnVsbFNjcmVlblwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYXN5bmNcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImF1dG9QbGF5XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJjb250cm9sc1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGVmZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRpc2FibGVkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJmb3JtTm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJsb29wXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJub01vZHVsZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwibm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICBjYXNlIFwicGxheXNJbmxpbmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInJlYWRPbmx5XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwicmV2ZXJzZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNjb3BlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2VhbWxlc3NcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIml0ZW1TY29wZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiaW5lcnRcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIHRoZSBzdHJpbmcgYCVzYCBmb3IgdGhlIGJvb2xlYW4gYXR0cmlidXRlIGAlc2AuICVzIERpZCB5b3UgbWVhbiAlcz17JXN9P1wiLFxuICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgXCJmYWxzZVwiID09PSB2YWx1ZVxuICAgICAgICAgICAgICAgID8gXCJUaGUgYnJvd3NlciB3aWxsIGludGVycHJldCBpdCBhcyBhIHRydXRoeSB2YWx1ZS5cIlxuICAgICAgICAgICAgICAgIDogJ0FsdGhvdWdoIHRoaXMgd29ya3MsIGl0IHdpbGwgbm90IHdvcmsgYXMgZXhwZWN0ZWQgaWYgeW91IHBhc3MgdGhlIHN0cmluZyBcImZhbHNlXCIuJyxcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITA7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuVW5rbm93blByb3BlcnRpZXModHlwZSwgcHJvcHMsIGV2ZW50UmVnaXN0cnkpIHtcbiAgICAgIHZhciB1bmtub3duUHJvcHMgPSBbXSxcbiAgICAgICAga2V5O1xuICAgICAgZm9yIChrZXkgaW4gcHJvcHMpXG4gICAgICAgIHZhbGlkYXRlUHJvcGVydHkodHlwZSwga2V5LCBwcm9wc1trZXldLCBldmVudFJlZ2lzdHJ5KSB8fFxuICAgICAgICAgIHVua25vd25Qcm9wcy5wdXNoKGtleSk7XG4gICAgICBwcm9wcyA9IHVua25vd25Qcm9wc1xuICAgICAgICAubWFwKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYFwiICsgcHJvcCArIFwiYFwiO1xuICAgICAgICB9KVxuICAgICAgICAuam9pbihcIiwgXCIpO1xuICAgICAgMSA9PT0gdW5rbm93blByb3BzLmxlbmd0aFxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkludmFsaWQgdmFsdWUgZm9yIHByb3AgJXMgb24gPCVzPiB0YWcuIEVpdGhlciByZW1vdmUgaXQgZnJvbSB0aGUgZWxlbWVudCwgb3IgcGFzcyBhIHN0cmluZyBvciBudW1iZXIgdmFsdWUgdG8ga2VlcCBpdCBpbiB0aGUgRE9NLiBGb3IgZGV0YWlscywgc2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvYXR0cmlidXRlLWJlaGF2aW9yIFwiLFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgICAgKVxuICAgICAgICA6IDEgPCB1bmtub3duUHJvcHMubGVuZ3RoICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW52YWxpZCB2YWx1ZXMgZm9yIHByb3BzICVzIG9uIDwlcz4gdGFnLiBFaXRoZXIgcmVtb3ZlIHRoZW0gZnJvbSB0aGUgZWxlbWVudCwgb3IgcGFzcyBhIHN0cmluZyBvciBudW1iZXIgdmFsdWUgdG8ga2VlcCB0aGVtIGluIHRoZSBET00uIEZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9hdHRyaWJ1dGUtYmVoYXZpb3IgXCIsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzYW5pdGl6ZVVSTCh1cmwpIHtcbiAgICAgIHJldHVybiBpc0phdmFTY3JpcHRQcm90b2NvbC50ZXN0KFwiXCIgKyB1cmwpXG4gICAgICAgID8gXCJqYXZhc2NyaXB0OnRocm93IG5ldyBFcnJvcignUmVhY3QgaGFzIGJsb2NrZWQgYSBqYXZhc2NyaXB0OiBVUkwgYXMgYSBzZWN1cml0eSBwcmVjYXV0aW9uLicpXCJcbiAgICAgICAgOiB1cmw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KSB7XG4gICAgICBuYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50LnRhcmdldCB8fCBuYXRpdmVFdmVudC5zcmNFbGVtZW50IHx8IHdpbmRvdztcbiAgICAgIG5hdGl2ZUV2ZW50LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50ICYmXG4gICAgICAgIChuYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50LmNvcnJlc3BvbmRpbmdVc2VFbGVtZW50KTtcbiAgICAgIHJldHVybiAzID09PSBuYXRpdmVFdmVudC5ub2RlVHlwZSA/IG5hdGl2ZUV2ZW50LnBhcmVudE5vZGUgOiBuYXRpdmVFdmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzdG9yZVN0YXRlT2ZUYXJnZXQodGFyZ2V0KSB7XG4gICAgICB2YXIgaW50ZXJuYWxJbnN0YW5jZSA9IGdldEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0KTtcbiAgICAgIGlmIChpbnRlcm5hbEluc3RhbmNlICYmICh0YXJnZXQgPSBpbnRlcm5hbEluc3RhbmNlLnN0YXRlTm9kZSkpIHtcbiAgICAgICAgdmFyIHByb3BzID0gdGFyZ2V0W2ludGVybmFsUHJvcHNLZXldIHx8IG51bGw7XG4gICAgICAgIGE6IHN3aXRjaCAoXG4gICAgICAgICAgKCh0YXJnZXQgPSBpbnRlcm5hbEluc3RhbmNlLnN0YXRlTm9kZSksIGludGVybmFsSW5zdGFuY2UudHlwZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgICAgICB1cGRhdGVJbnB1dChcbiAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICBwcm9wcy52YWx1ZSxcbiAgICAgICAgICAgICAgcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgIHByb3BzLmNoZWNrZWQsXG4gICAgICAgICAgICAgIHByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgICBwcm9wcy50eXBlLFxuICAgICAgICAgICAgICBwcm9wcy5uYW1lXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA9IHByb3BzLm5hbWU7XG4gICAgICAgICAgICBpZiAoXCJyYWRpb1wiID09PSBwcm9wcy50eXBlICYmIG51bGwgIT0gaW50ZXJuYWxJbnN0YW5jZSkge1xuICAgICAgICAgICAgICBmb3IgKHByb3BzID0gdGFyZ2V0OyBwcm9wcy5wYXJlbnROb2RlOyApIHByb3BzID0gcHJvcHMucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihpbnRlcm5hbEluc3RhbmNlLCBcIm5hbWVcIik7XG4gICAgICAgICAgICAgIHByb3BzID0gcHJvcHMucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICAgICAnaW5wdXRbbmFtZT1cIicgK1xuICAgICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhcbiAgICAgICAgICAgICAgICAgICAgXCJcIiArIGludGVybmFsSW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgJ1wiXVt0eXBlPVwicmFkaW9cIl0nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSA8IHByb3BzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlKytcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIG90aGVyTm9kZSA9IHByb3BzW2ludGVybmFsSW5zdGFuY2VdO1xuICAgICAgICAgICAgICAgIGlmIChvdGhlck5vZGUgIT09IHRhcmdldCAmJiBvdGhlck5vZGUuZm9ybSA9PT0gdGFyZ2V0LmZvcm0pIHtcbiAgICAgICAgICAgICAgICAgIHZhciBvdGhlclByb3BzID0gb3RoZXJOb2RlW2ludGVybmFsUHJvcHNLZXldIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICBpZiAoIW90aGVyUHJvcHMpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiUmVhY3RET01JbnB1dDogTWl4aW5nIFJlYWN0IGFuZCBub24tUmVhY3QgcmFkaW8gaW5wdXRzIHdpdGggdGhlIHNhbWUgYG5hbWVgIGlzIG5vdCBzdXBwb3J0ZWQuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUlucHV0KFxuICAgICAgICAgICAgICAgICAgICBvdGhlck5vZGUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy5jaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMubmFtZVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlIDwgcHJvcHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UrK1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKG90aGVyTm9kZSA9IHByb3BzW2ludGVybmFsSW5zdGFuY2VdKSxcbiAgICAgICAgICAgICAgICAgIG90aGVyTm9kZS5mb3JtID09PSB0YXJnZXQuZm9ybSAmJlxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVWYWx1ZUlmQ2hhbmdlZChvdGhlck5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICAgIHVwZGF0ZVRleHRhcmVhKHRhcmdldCwgcHJvcHMudmFsdWUsIHByb3BzLmRlZmF1bHRWYWx1ZSk7XG4gICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICAgIChpbnRlcm5hbEluc3RhbmNlID0gcHJvcHMudmFsdWUpLFxuICAgICAgICAgICAgICBudWxsICE9IGludGVybmFsSW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICB1cGRhdGVPcHRpb25zKHRhcmdldCwgISFwcm9wcy5tdWx0aXBsZSwgaW50ZXJuYWxJbnN0YW5jZSwgITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJhdGNoZWRVcGRhdGVzJDEoZm4sIGEsIGIpIHtcbiAgICAgIGlmIChpc0luc2lkZUV2ZW50SGFuZGxlcikgcmV0dXJuIGZuKGEsIGIpO1xuICAgICAgaXNJbnNpZGVFdmVudEhhbmRsZXIgPSAhMDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBmbihhKTtcbiAgICAgICAgcmV0dXJuIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKGlzSW5zaWRlRXZlbnRIYW5kbGVyID0gITEpLFxuICAgICAgICAgIG51bGwgIT09IHJlc3RvcmVUYXJnZXQgfHwgbnVsbCAhPT0gcmVzdG9yZVF1ZXVlKVxuICAgICAgICApXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGZsdXNoU3luY1dvcmskMSgpLFxuICAgICAgICAgICAgcmVzdG9yZVRhcmdldCAmJlxuICAgICAgICAgICAgICAoKGEgPSByZXN0b3JlVGFyZ2V0KSxcbiAgICAgICAgICAgICAgKGZuID0gcmVzdG9yZVF1ZXVlKSxcbiAgICAgICAgICAgICAgKHJlc3RvcmVRdWV1ZSA9IHJlc3RvcmVUYXJnZXQgPSBudWxsKSxcbiAgICAgICAgICAgICAgcmVzdG9yZVN0YXRlT2ZUYXJnZXQoYSksXG4gICAgICAgICAgICAgIGZuKSlcbiAgICAgICAgICApXG4gICAgICAgICAgICBmb3IgKGEgPSAwOyBhIDwgZm4ubGVuZ3RoOyBhKyspIHJlc3RvcmVTdGF0ZU9mVGFyZ2V0KGZuW2FdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGlzdGVuZXIoaW5zdCwgcmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgdmFyIHN0YXRlTm9kZSA9IGluc3Quc3RhdGVOb2RlO1xuICAgICAgaWYgKG51bGwgPT09IHN0YXRlTm9kZSkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgcHJvcHMgPSBzdGF0ZU5vZGVbaW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbDtcbiAgICAgIGlmIChudWxsID09PSBwcm9wcykgcmV0dXJuIG51bGw7XG4gICAgICBzdGF0ZU5vZGUgPSBwcm9wc1tyZWdpc3RyYXRpb25OYW1lXTtcbiAgICAgIGE6IHN3aXRjaCAocmVnaXN0cmF0aW9uTmFtZSkge1xuICAgICAgICBjYXNlIFwib25DbGlja1wiOlxuICAgICAgICBjYXNlIFwib25DbGlja0NhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcIm9uRG91YmxlQ2xpY2tcIjpcbiAgICAgICAgY2FzZSBcIm9uRG91YmxlQ2xpY2tDYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlRG93blwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZURvd25DYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlTW92ZVwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZU1vdmVDYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlVXBcIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VVcENhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VFbnRlclwiOlxuICAgICAgICAgIChwcm9wcyA9ICFwcm9wcy5kaXNhYmxlZCkgfHxcbiAgICAgICAgICAgICgoaW5zdCA9IGluc3QudHlwZSksXG4gICAgICAgICAgICAocHJvcHMgPSAhKFxuICAgICAgICAgICAgICBcImJ1dHRvblwiID09PSBpbnN0IHx8XG4gICAgICAgICAgICAgIFwiaW5wdXRcIiA9PT0gaW5zdCB8fFxuICAgICAgICAgICAgICBcInNlbGVjdFwiID09PSBpbnN0IHx8XG4gICAgICAgICAgICAgIFwidGV4dGFyZWFcIiA9PT0gaW5zdFxuICAgICAgICAgICAgKSkpO1xuICAgICAgICAgIGluc3QgPSAhcHJvcHM7XG4gICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpbnN0ID0gITE7XG4gICAgICB9XG4gICAgICBpZiAoaW5zdCkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoc3RhdGVOb2RlICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHN0YXRlTm9kZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCBgXCIgK1xuICAgICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSArXG4gICAgICAgICAgICBcImAgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYSB2YWx1ZSBvZiBgXCIgK1xuICAgICAgICAgICAgdHlwZW9mIHN0YXRlTm9kZSArXG4gICAgICAgICAgICBcImAgdHlwZS5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHN0YXRlTm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAgIGlmIChmYWxsYmFja1RleHQpIHJldHVybiBmYWxsYmFja1RleHQ7XG4gICAgICB2YXIgc3RhcnQsXG4gICAgICAgIHN0YXJ0VmFsdWUgPSBzdGFydFRleHQsXG4gICAgICAgIHN0YXJ0TGVuZ3RoID0gc3RhcnRWYWx1ZS5sZW5ndGgsXG4gICAgICAgIGVuZCxcbiAgICAgICAgZW5kVmFsdWUgPSBcInZhbHVlXCIgaW4gcm9vdCA/IHJvb3QudmFsdWUgOiByb290LnRleHRDb250ZW50LFxuICAgICAgICBlbmRMZW5ndGggPSBlbmRWYWx1ZS5sZW5ndGg7XG4gICAgICBmb3IgKFxuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIHN0YXJ0IDwgc3RhcnRMZW5ndGggJiYgc3RhcnRWYWx1ZVtzdGFydF0gPT09IGVuZFZhbHVlW3N0YXJ0XTtcbiAgICAgICAgc3RhcnQrK1xuICAgICAgKTtcbiAgICAgIHZhciBtaW5FbmQgPSBzdGFydExlbmd0aCAtIHN0YXJ0O1xuICAgICAgZm9yIChcbiAgICAgICAgZW5kID0gMTtcbiAgICAgICAgZW5kIDw9IG1pbkVuZCAmJlxuICAgICAgICBzdGFydFZhbHVlW3N0YXJ0TGVuZ3RoIC0gZW5kXSA9PT0gZW5kVmFsdWVbZW5kTGVuZ3RoIC0gZW5kXTtcbiAgICAgICAgZW5kKytcbiAgICAgICk7XG4gICAgICByZXR1cm4gKGZhbGxiYWNrVGV4dCA9IGVuZFZhbHVlLnNsaWNlKHN0YXJ0LCAxIDwgZW5kID8gMSAtIGVuZCA6IHZvaWQgMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSB7XG4gICAgICB2YXIga2V5Q29kZSA9IG5hdGl2ZUV2ZW50LmtleUNvZGU7XG4gICAgICBcImNoYXJDb2RlXCIgaW4gbmF0aXZlRXZlbnRcbiAgICAgICAgPyAoKG5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQuY2hhckNvZGUpLFxuICAgICAgICAgIDAgPT09IG5hdGl2ZUV2ZW50ICYmIDEzID09PSBrZXlDb2RlICYmIChuYXRpdmVFdmVudCA9IDEzKSlcbiAgICAgICAgOiAobmF0aXZlRXZlbnQgPSBrZXlDb2RlKTtcbiAgICAgIDEwID09PSBuYXRpdmVFdmVudCAmJiAobmF0aXZlRXZlbnQgPSAxMyk7XG4gICAgICByZXR1cm4gMzIgPD0gbmF0aXZlRXZlbnQgfHwgMTMgPT09IG5hdGl2ZUV2ZW50ID8gbmF0aXZlRXZlbnQgOiAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSgpIHtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlKCkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVTeW50aGV0aWNFdmVudChJbnRlcmZhY2UpIHtcbiAgICAgIGZ1bmN0aW9uIFN5bnRoZXRpY0Jhc2VFdmVudChcbiAgICAgICAgcmVhY3ROYW1lLFxuICAgICAgICByZWFjdEV2ZW50VHlwZSxcbiAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICApIHtcbiAgICAgICAgdGhpcy5fcmVhY3ROYW1lID0gcmVhY3ROYW1lO1xuICAgICAgICB0aGlzLl90YXJnZXRJbnN0ID0gdGFyZ2V0SW5zdDtcbiAgICAgICAgdGhpcy50eXBlID0gcmVhY3RFdmVudFR5cGU7XG4gICAgICAgIHRoaXMubmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBuYXRpdmVFdmVudFRhcmdldDtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgcHJvcE5hbWUgaW4gSW50ZXJmYWNlKVxuICAgICAgICAgIEludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkgJiZcbiAgICAgICAgICAgICgocmVhY3ROYW1lID0gSW50ZXJmYWNlW3Byb3BOYW1lXSksXG4gICAgICAgICAgICAodGhpc1twcm9wTmFtZV0gPSByZWFjdE5hbWVcbiAgICAgICAgICAgICAgPyByZWFjdE5hbWUobmF0aXZlRXZlbnQpXG4gICAgICAgICAgICAgIDogbmF0aXZlRXZlbnRbcHJvcE5hbWVdKSk7XG4gICAgICAgIHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gKFxuICAgICAgICAgIG51bGwgIT0gbmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZFxuICAgICAgICAgICAgPyBuYXRpdmVFdmVudC5kZWZhdWx0UHJldmVudGVkXG4gICAgICAgICAgICA6ICExID09PSBuYXRpdmVFdmVudC5yZXR1cm5WYWx1ZVxuICAgICAgICApXG4gICAgICAgICAgPyBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZVxuICAgICAgICAgIDogZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlO1xuICAgICAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZnVuY3Rpb25UaGF0UmV0dXJuc0ZhbHNlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIGFzc2lnbihTeW50aGV0aWNCYXNlRXZlbnQucHJvdG90eXBlLCB7XG4gICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gITA7XG4gICAgICAgICAgdmFyIGV2ZW50ID0gdGhpcy5uYXRpdmVFdmVudDtcbiAgICAgICAgICBldmVudCAmJlxuICAgICAgICAgICAgKGV2ZW50LnByZXZlbnREZWZhdWx0XG4gICAgICAgICAgICAgID8gZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICA6IFwidW5rbm93blwiICE9PSB0eXBlb2YgZXZlbnQucmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICAgICAgICAoZXZlbnQucmV0dXJuVmFsdWUgPSAhMSksXG4gICAgICAgICAgICAodGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvblRoYXRSZXR1cm5zVHJ1ZSkpO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wUHJvcGFnYXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgICAgIGV2ZW50ICYmXG4gICAgICAgICAgICAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uXG4gICAgICAgICAgICAgID8gZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgICAgOiBcInVua25vd25cIiAhPT0gdHlwZW9mIGV2ZW50LmNhbmNlbEJ1YmJsZSAmJlxuICAgICAgICAgICAgICAgIChldmVudC5jYW5jZWxCdWJibGUgPSAhMCksXG4gICAgICAgICAgICAodGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IGZ1bmN0aW9uVGhhdFJldHVybnNUcnVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBlcnNpc3Q6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBpc1BlcnNpc3RlbnQ6IGZ1bmN0aW9uVGhhdFJldHVybnNUcnVlXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBTeW50aGV0aWNCYXNlRXZlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vZGlmaWVyU3RhdGVHZXR0ZXIoa2V5QXJnKSB7XG4gICAgICB2YXIgbmF0aXZlRXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmdldE1vZGlmaWVyU3RhdGVcbiAgICAgICAgPyBuYXRpdmVFdmVudC5nZXRNb2RpZmllclN0YXRlKGtleUFyZylcbiAgICAgICAgOiAoa2V5QXJnID0gbW9kaWZpZXJLZXlUb1Byb3Bba2V5QXJnXSlcbiAgICAgICAgICA/ICEhbmF0aXZlRXZlbnRba2V5QXJnXVxuICAgICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV2ZW50TW9kaWZpZXJTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBtb2RpZmllclN0YXRlR2V0dGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkge1xuICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgY2FzZSBcImtleXVwXCI6XG4gICAgICAgICAgcmV0dXJuIC0xICE9PSBFTkRfS0VZQ09ERVMuaW5kZXhPZihuYXRpdmVFdmVudC5rZXlDb2RlKTtcbiAgICAgICAgY2FzZSBcImtleWRvd25cIjpcbiAgICAgICAgICByZXR1cm4gbmF0aXZlRXZlbnQua2V5Q29kZSAhPT0gU1RBUlRfS0VZQ09ERTtcbiAgICAgICAgY2FzZSBcImtleXByZXNzXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgY2FzZSBcImZvY3Vzb3V0XCI6XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCkge1xuICAgICAgbmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudC5kZXRhaWw7XG4gICAgICByZXR1cm4gXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5hdGl2ZUV2ZW50ICYmIFwiZGF0YVwiIGluIG5hdGl2ZUV2ZW50XG4gICAgICAgID8gbmF0aXZlRXZlbnQuZGF0YVxuICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5hdGl2ZUJlZm9yZUlucHV0Q2hhcnMoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkge1xuICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIGdldERhdGFGcm9tQ3VzdG9tRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgICBpZiAobmF0aXZlRXZlbnQud2hpY2ggIT09IFNQQUNFQkFSX0NPREUpIHJldHVybiBudWxsO1xuICAgICAgICAgIGhhc1NwYWNlS2V5cHJlc3MgPSAhMDtcbiAgICAgICAgICByZXR1cm4gU1BBQ0VCQVJfQ0hBUjtcbiAgICAgICAgY2FzZSBcInRleHRJbnB1dFwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZG9tRXZlbnROYW1lID0gbmF0aXZlRXZlbnQuZGF0YSksXG4gICAgICAgICAgICBkb21FdmVudE5hbWUgPT09IFNQQUNFQkFSX0NIQVIgJiYgaGFzU3BhY2VLZXlwcmVzc1xuICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgOiBkb21FdmVudE5hbWVcbiAgICAgICAgICApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRGYWxsYmFja0JlZm9yZUlucHV0Q2hhcnMoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkge1xuICAgICAgaWYgKGlzQ29tcG9zaW5nKVxuICAgICAgICByZXR1cm4gXCJjb21wb3NpdGlvbmVuZFwiID09PSBkb21FdmVudE5hbWUgfHxcbiAgICAgICAgICAoIWNhblVzZUNvbXBvc2l0aW9uRXZlbnQgJiZcbiAgICAgICAgICAgIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSlcbiAgICAgICAgICA/ICgoZG9tRXZlbnROYW1lID0gZ2V0RGF0YSgpKSxcbiAgICAgICAgICAgIChmYWxsYmFja1RleHQgPSBzdGFydFRleHQgPSByb290ID0gbnVsbCksXG4gICAgICAgICAgICAoaXNDb21wb3NpbmcgPSAhMSksXG4gICAgICAgICAgICBkb21FdmVudE5hbWUpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgY2FzZSBcInBhc3RlXCI6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LmN0cmxLZXkgfHxcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnQuYWx0S2V5IHx8XG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50Lm1ldGFLZXlcbiAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgIChuYXRpdmVFdmVudC5jdHJsS2V5ICYmIG5hdGl2ZUV2ZW50LmFsdEtleSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChuYXRpdmVFdmVudC5jaGFyICYmIDEgPCBuYXRpdmVFdmVudC5jaGFyLmxlbmd0aClcbiAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUV2ZW50LmNoYXI7XG4gICAgICAgICAgICBpZiAobmF0aXZlRXZlbnQud2hpY2gpXG4gICAgICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG5hdGl2ZUV2ZW50LndoaWNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbmVuZFwiOlxuICAgICAgICAgIHJldHVybiB1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSAmJiBcImtvXCIgIT09IG5hdGl2ZUV2ZW50LmxvY2FsZVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IG5hdGl2ZUV2ZW50LmRhdGE7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVGV4dElucHV0RWxlbWVudChlbGVtKSB7XG4gICAgICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIFwiaW5wdXRcIiA9PT0gbm9kZU5hbWVcbiAgICAgICAgPyAhIXN1cHBvcnRlZElucHV0VHlwZXNbZWxlbS50eXBlXVxuICAgICAgICA6IFwidGV4dGFyZWFcIiA9PT0gbm9kZU5hbWVcbiAgICAgICAgICA/ICEwXG4gICAgICAgICAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNFdmVudFN1cHBvcnRlZChldmVudE5hbWVTdWZmaXgpIHtcbiAgICAgIGlmICghY2FuVXNlRE9NKSByZXR1cm4gITE7XG4gICAgICBldmVudE5hbWVTdWZmaXggPSBcIm9uXCIgKyBldmVudE5hbWVTdWZmaXg7XG4gICAgICB2YXIgaXNTdXBwb3J0ZWQgPSBldmVudE5hbWVTdWZmaXggaW4gZG9jdW1lbnQ7XG4gICAgICBpc1N1cHBvcnRlZCB8fFxuICAgICAgICAoKGlzU3VwcG9ydGVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSksXG4gICAgICAgIGlzU3VwcG9ydGVkLnNldEF0dHJpYnV0ZShldmVudE5hbWVTdWZmaXgsIFwicmV0dXJuO1wiKSxcbiAgICAgICAgKGlzU3VwcG9ydGVkID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaXNTdXBwb3J0ZWRbZXZlbnROYW1lU3VmZml4XSkpO1xuICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoXG4gICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgaW5zdCxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgdGFyZ2V0XG4gICAgKSB7XG4gICAgICByZXN0b3JlVGFyZ2V0XG4gICAgICAgID8gcmVzdG9yZVF1ZXVlXG4gICAgICAgICAgPyByZXN0b3JlUXVldWUucHVzaCh0YXJnZXQpXG4gICAgICAgICAgOiAocmVzdG9yZVF1ZXVlID0gW3RhcmdldF0pXG4gICAgICAgIDogKHJlc3RvcmVUYXJnZXQgPSB0YXJnZXQpO1xuICAgICAgaW5zdCA9IGFjY3VtdWxhdGVUd29QaGFzZUxpc3RlbmVycyhpbnN0LCBcIm9uQ2hhbmdlXCIpO1xuICAgICAgMCA8IGluc3QubGVuZ3RoICYmXG4gICAgICAgICgobmF0aXZlRXZlbnQgPSBuZXcgU3ludGhldGljRXZlbnQoXG4gICAgICAgICAgXCJvbkNoYW5nZVwiLFxuICAgICAgICAgIFwiY2hhbmdlXCIsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICB0YXJnZXRcbiAgICAgICAgKSksXG4gICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7IGV2ZW50OiBuYXRpdmVFdmVudCwgbGlzdGVuZXJzOiBpbnN0IH0pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcnVuRXZlbnRJbkJhdGNoKGRpc3BhdGNoUXVldWUpIHtcbiAgICAgIHByb2Nlc3NEaXNwYXRjaFF1ZXVlKGRpc3BhdGNoUXVldWUsIDApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQodGFyZ2V0SW5zdCkge1xuICAgICAgdmFyIHRhcmdldE5vZGUgPSBnZXROb2RlRnJvbUluc3RhbmNlKHRhcmdldEluc3QpO1xuICAgICAgaWYgKHVwZGF0ZVZhbHVlSWZDaGFuZ2VkKHRhcmdldE5vZGUpKSByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50KGRvbUV2ZW50TmFtZSwgdGFyZ2V0SW5zdCkge1xuICAgICAgaWYgKFwiY2hhbmdlXCIgPT09IGRvbUV2ZW50TmFtZSkgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCkge1xuICAgICAgYWN0aXZlRWxlbWVudCQxICYmXG4gICAgICAgIChhY3RpdmVFbGVtZW50JDEuZGV0YWNoRXZlbnQoXCJvbnByb3BlcnR5Y2hhbmdlXCIsIGhhbmRsZVByb3BlcnR5Q2hhbmdlKSxcbiAgICAgICAgKGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSBhY3RpdmVFbGVtZW50JDEgPSBudWxsKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVByb3BlcnR5Q2hhbmdlKG5hdGl2ZUV2ZW50KSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwidmFsdWVcIiA9PT0gbmF0aXZlRXZlbnQucHJvcGVydHlOYW1lICYmXG4gICAgICAgIGdldEluc3RJZlZhbHVlQ2hhbmdlZChhY3RpdmVFbGVtZW50SW5zdCQxKVxuICAgICAgKSB7XG4gICAgICAgIHZhciBkaXNwYXRjaFF1ZXVlID0gW107XG4gICAgICAgIGNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudChcbiAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEsXG4gICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpXG4gICAgICAgICk7XG4gICAgICAgIGJhdGNoZWRVcGRhdGVzJDEocnVuRXZlbnRJbkJhdGNoLCBkaXNwYXRjaFF1ZXVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRXZlbnRzRm9ySW5wdXRFdmVudFBvbHlmaWxsKFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgdGFyZ2V0LFxuICAgICAgdGFyZ2V0SW5zdFxuICAgICkge1xuICAgICAgXCJmb2N1c2luXCIgPT09IGRvbUV2ZW50TmFtZVxuICAgICAgICA/IChzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpLFxuICAgICAgICAgIChhY3RpdmVFbGVtZW50JDEgPSB0YXJnZXQpLFxuICAgICAgICAgIChhY3RpdmVFbGVtZW50SW5zdCQxID0gdGFyZ2V0SW5zdCksXG4gICAgICAgICAgYWN0aXZlRWxlbWVudCQxLmF0dGFjaEV2ZW50KFwib25wcm9wZXJ0eWNoYW5nZVwiLCBoYW5kbGVQcm9wZXJ0eUNoYW5nZSkpXG4gICAgICAgIDogXCJmb2N1c291dFwiID09PSBkb21FdmVudE5hbWUgJiYgc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvcklucHV0RXZlbnRQb2x5ZmlsbChkb21FdmVudE5hbWUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzZWxlY3Rpb25jaGFuZ2VcIiA9PT0gZG9tRXZlbnROYW1lIHx8XG4gICAgICAgIFwia2V5dXBcIiA9PT0gZG9tRXZlbnROYW1lIHx8XG4gICAgICAgIFwia2V5ZG93blwiID09PSBkb21FdmVudE5hbWVcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZChhY3RpdmVFbGVtZW50SW5zdCQxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQoZG9tRXZlbnROYW1lLCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAoXCJjbGlja1wiID09PSBkb21FdmVudE5hbWUpIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQodGFyZ2V0SW5zdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhcmdldEluc3RGb3JJbnB1dE9yQ2hhbmdlRXZlbnQoZG9tRXZlbnROYW1lLCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAoXCJpbnB1dFwiID09PSBkb21FdmVudE5hbWUgfHwgXCJjaGFuZ2VcIiA9PT0gZG9tRXZlbnROYW1lKVxuICAgICAgICByZXR1cm4gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKHRhcmdldEluc3QpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgICByZXR1cm4gKHggPT09IHkgJiYgKDAgIT09IHggfHwgMSAvIHggPT09IDEgLyB5KSkgfHwgKHggIT09IHggJiYgeSAhPT0geSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNoYWxsb3dFcXVhbChvYmpBLCBvYmpCKSB7XG4gICAgICBpZiAob2JqZWN0SXMob2JqQSwgb2JqQikpIHJldHVybiAhMDtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG9iakEgfHxcbiAgICAgICAgbnVsbCA9PT0gb2JqQSB8fFxuICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb2JqQiB8fFxuICAgICAgICBudWxsID09PSBvYmpCXG4gICAgICApXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIHZhciBrZXlzQSA9IE9iamVjdC5rZXlzKG9iakEpLFxuICAgICAgICBrZXlzQiA9IE9iamVjdC5rZXlzKG9iakIpO1xuICAgICAgaWYgKGtleXNBLmxlbmd0aCAhPT0ga2V5c0IubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgICBmb3IgKGtleXNCID0gMDsga2V5c0IgPCBrZXlzQS5sZW5ndGg7IGtleXNCKyspIHtcbiAgICAgICAgdmFyIGN1cnJlbnRLZXkgPSBrZXlzQVtrZXlzQl07XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhaGFzT3duUHJvcGVydHkuY2FsbChvYmpCLCBjdXJyZW50S2V5KSB8fFxuICAgICAgICAgICFvYmplY3RJcyhvYmpBW2N1cnJlbnRLZXldLCBvYmpCW2N1cnJlbnRLZXldKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMZWFmTm9kZShub2RlKSB7XG4gICAgICBmb3IgKDsgbm9kZSAmJiBub2RlLmZpcnN0Q2hpbGQ7ICkgbm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KHJvb3QsIG9mZnNldCkge1xuICAgICAgdmFyIG5vZGUgPSBnZXRMZWFmTm9kZShyb290KTtcbiAgICAgIHJvb3QgPSAwO1xuICAgICAgZm9yICh2YXIgbm9kZUVuZDsgbm9kZTsgKSB7XG4gICAgICAgIGlmICgzID09PSBub2RlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgbm9kZUVuZCA9IHJvb3QgKyBub2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICAgICAgICBpZiAocm9vdCA8PSBvZmZzZXQgJiYgbm9kZUVuZCA+PSBvZmZzZXQpXG4gICAgICAgICAgICByZXR1cm4geyBub2RlOiBub2RlLCBvZmZzZXQ6IG9mZnNldCAtIHJvb3QgfTtcbiAgICAgICAgICByb290ID0gbm9kZUVuZDtcbiAgICAgICAgfVxuICAgICAgICBhOiB7XG4gICAgICAgICAgZm9yICg7IG5vZGU7ICkge1xuICAgICAgICAgICAgaWYgKG5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBnZXRMZWFmTm9kZShub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29udGFpbnNOb2RlKG91dGVyTm9kZSwgaW5uZXJOb2RlKSB7XG4gICAgICByZXR1cm4gb3V0ZXJOb2RlICYmIGlubmVyTm9kZVxuICAgICAgICA/IG91dGVyTm9kZSA9PT0gaW5uZXJOb2RlXG4gICAgICAgICAgPyAhMFxuICAgICAgICAgIDogb3V0ZXJOb2RlICYmIDMgPT09IG91dGVyTm9kZS5ub2RlVHlwZVxuICAgICAgICAgICAgPyAhMVxuICAgICAgICAgICAgOiBpbm5lck5vZGUgJiYgMyA9PT0gaW5uZXJOb2RlLm5vZGVUeXBlXG4gICAgICAgICAgICAgID8gY29udGFpbnNOb2RlKG91dGVyTm9kZSwgaW5uZXJOb2RlLnBhcmVudE5vZGUpXG4gICAgICAgICAgICAgIDogXCJjb250YWluc1wiIGluIG91dGVyTm9kZVxuICAgICAgICAgICAgICAgID8gb3V0ZXJOb2RlLmNvbnRhaW5zKGlubmVyTm9kZSlcbiAgICAgICAgICAgICAgICA6IG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgPyAhIShvdXRlck5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oaW5uZXJOb2RlKSAmIDE2KVxuICAgICAgICAgICAgICAgICAgOiAhMVxuICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50RGVlcChjb250YWluZXJJbmZvKSB7XG4gICAgICBjb250YWluZXJJbmZvID1cbiAgICAgICAgbnVsbCAhPSBjb250YWluZXJJbmZvICYmXG4gICAgICAgIG51bGwgIT0gY29udGFpbmVySW5mby5vd25lckRvY3VtZW50ICYmXG4gICAgICAgIG51bGwgIT0gY29udGFpbmVySW5mby5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3XG4gICAgICAgICAgPyBjb250YWluZXJJbmZvLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXdcbiAgICAgICAgICA6IHdpbmRvdztcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBlbGVtZW50ID0gZ2V0QWN0aXZlRWxlbWVudChjb250YWluZXJJbmZvLmRvY3VtZW50KTtcbiAgICAgICAgZWxlbWVudCBpbnN0YW5jZW9mIGNvbnRhaW5lckluZm8uSFRNTElGcmFtZUVsZW1lbnQ7XG5cbiAgICAgICkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPVxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVsZW1lbnQuY29udGVudFdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSBjb250YWluZXJJbmZvID0gZWxlbWVudC5jb250ZW50V2luZG93O1xuICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgICBlbGVtZW50ID0gZ2V0QWN0aXZlRWxlbWVudChjb250YWluZXJJbmZvLmRvY3VtZW50KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZWxlbSkge1xuICAgICAgdmFyIG5vZGVOYW1lID0gZWxlbSAmJiBlbGVtLm5vZGVOYW1lICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG5vZGVOYW1lICYmXG4gICAgICAgICgoXCJpbnB1dFwiID09PSBub2RlTmFtZSAmJlxuICAgICAgICAgIChcInRleHRcIiA9PT0gZWxlbS50eXBlIHx8XG4gICAgICAgICAgICBcInNlYXJjaFwiID09PSBlbGVtLnR5cGUgfHxcbiAgICAgICAgICAgIFwidGVsXCIgPT09IGVsZW0udHlwZSB8fFxuICAgICAgICAgICAgXCJ1cmxcIiA9PT0gZWxlbS50eXBlIHx8XG4gICAgICAgICAgICBcInBhc3N3b3JkXCIgPT09IGVsZW0udHlwZSkpIHx8XG4gICAgICAgICAgXCJ0ZXh0YXJlYVwiID09PSBub2RlTmFtZSB8fFxuICAgICAgICAgIFwidHJ1ZVwiID09PSBlbGVtLmNvbnRlbnRFZGl0YWJsZSlcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc3RvcmVTZWxlY3Rpb24ocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiwgY29udGFpbmVySW5mbykge1xuICAgICAgdmFyIGN1ckZvY3VzZWRFbGVtID0gZ2V0QWN0aXZlRWxlbWVudERlZXAoY29udGFpbmVySW5mbyk7XG4gICAgICBjb250YWluZXJJbmZvID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5mb2N1c2VkRWxlbTtcbiAgICAgIHZhciBwcmlvclNlbGVjdGlvblJhbmdlID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5zZWxlY3Rpb25SYW5nZTtcbiAgICAgIGlmIChcbiAgICAgICAgY3VyRm9jdXNlZEVsZW0gIT09IGNvbnRhaW5lckluZm8gJiZcbiAgICAgICAgY29udGFpbmVySW5mbyAmJlxuICAgICAgICBjb250YWluZXJJbmZvLm93bmVyRG9jdW1lbnQgJiZcbiAgICAgICAgY29udGFpbnNOb2RlKGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIGNvbnRhaW5lckluZm8pXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG51bGwgIT09IHByaW9yU2VsZWN0aW9uUmFuZ2UgJiZcbiAgICAgICAgICBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoY29udGFpbmVySW5mbylcbiAgICAgICAgKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICgocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiA9IHByaW9yU2VsZWN0aW9uUmFuZ2Uuc3RhcnQpLFxuICAgICAgICAgICAgKGN1ckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25SYW5nZS5lbmQpLFxuICAgICAgICAgICAgdm9pZCAwID09PSBjdXJGb2N1c2VkRWxlbSAmJlxuICAgICAgICAgICAgICAoY3VyRm9jdXNlZEVsZW0gPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSxcbiAgICAgICAgICAgIFwic2VsZWN0aW9uU3RhcnRcIiBpbiBjb250YWluZXJJbmZvKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIChjb250YWluZXJJbmZvLnNlbGVjdGlvblN0YXJ0ID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiksXG4gICAgICAgICAgICAgIChjb250YWluZXJJbmZvLnNlbGVjdGlvbkVuZCA9IE1hdGgubWluKFxuICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckluZm8udmFsdWUubGVuZ3RoXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgKChjdXJGb2N1c2VkRWxlbSA9XG4gICAgICAgICAgICAgICgocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiA9XG4gICAgICAgICAgICAgICAgY29udGFpbmVySW5mby5vd25lckRvY3VtZW50IHx8IGRvY3VtZW50KSAmJlxuICAgICAgICAgICAgICAgIHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uZGVmYXVsdFZpZXcpIHx8XG4gICAgICAgICAgICAgIHdpbmRvdyksXG4gICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5nZXRTZWxlY3Rpb24pXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjdXJGb2N1c2VkRWxlbSA9IGN1ckZvY3VzZWRFbGVtLmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgdmFyIGxlbmd0aCA9IGNvbnRhaW5lckluZm8udGV4dENvbnRlbnQubGVuZ3RoLFxuICAgICAgICAgICAgICBzdGFydCA9IE1hdGgubWluKHByaW9yU2VsZWN0aW9uUmFuZ2Uuc3RhcnQsIGxlbmd0aCk7XG4gICAgICAgICAgICBwcmlvclNlbGVjdGlvblJhbmdlID1cbiAgICAgICAgICAgICAgdm9pZCAwID09PSBwcmlvclNlbGVjdGlvblJhbmdlLmVuZFxuICAgICAgICAgICAgICAgID8gc3RhcnRcbiAgICAgICAgICAgICAgICA6IE1hdGgubWluKHByaW9yU2VsZWN0aW9uUmFuZ2UuZW5kLCBsZW5ndGgpO1xuICAgICAgICAgICAgIWN1ckZvY3VzZWRFbGVtLmV4dGVuZCAmJlxuICAgICAgICAgICAgICBzdGFydCA+IHByaW9yU2VsZWN0aW9uUmFuZ2UgJiZcbiAgICAgICAgICAgICAgKChsZW5ndGggPSBwcmlvclNlbGVjdGlvblJhbmdlKSxcbiAgICAgICAgICAgICAgKHByaW9yU2VsZWN0aW9uUmFuZ2UgPSBzdGFydCksXG4gICAgICAgICAgICAgIChzdGFydCA9IGxlbmd0aCkpO1xuICAgICAgICAgICAgbGVuZ3RoID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChjb250YWluZXJJbmZvLCBzdGFydCk7XG4gICAgICAgICAgICB2YXIgZW5kTWFya2VyID0gZ2V0Tm9kZUZvckNoYXJhY3Rlck9mZnNldChcbiAgICAgICAgICAgICAgY29udGFpbmVySW5mbyxcbiAgICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25SYW5nZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGxlbmd0aCAmJlxuICAgICAgICAgICAgICBlbmRNYXJrZXIgJiZcbiAgICAgICAgICAgICAgKDEgIT09IGN1ckZvY3VzZWRFbGVtLnJhbmdlQ291bnQgfHxcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5hbmNob3JOb2RlICE9PSBsZW5ndGgubm9kZSB8fFxuICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmFuY2hvck9mZnNldCAhPT0gbGVuZ3RoLm9mZnNldCB8fFxuICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmZvY3VzTm9kZSAhPT0gZW5kTWFya2VyLm5vZGUgfHxcbiAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5mb2N1c09mZnNldCAhPT0gZW5kTWFya2VyLm9mZnNldCkgJiZcbiAgICAgICAgICAgICAgKChwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uID1cbiAgICAgICAgICAgICAgICBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmNyZWF0ZVJhbmdlKCkpLFxuICAgICAgICAgICAgICBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnNldFN0YXJ0KGxlbmd0aC5ub2RlLCBsZW5ndGgub2Zmc2V0KSxcbiAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0ucmVtb3ZlQWxsUmFuZ2VzKCksXG4gICAgICAgICAgICAgIHN0YXJ0ID4gcHJpb3JTZWxlY3Rpb25SYW5nZVxuICAgICAgICAgICAgICAgID8gKGN1ckZvY3VzZWRFbGVtLmFkZFJhbmdlKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24pLFxuICAgICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uZXh0ZW5kKGVuZE1hcmtlci5ub2RlLCBlbmRNYXJrZXIub2Zmc2V0KSlcbiAgICAgICAgICAgICAgICA6IChwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnNldEVuZChcbiAgICAgICAgICAgICAgICAgICAgZW5kTWFya2VyLm5vZGUsXG4gICAgICAgICAgICAgICAgICAgIGVuZE1hcmtlci5vZmZzZXRcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5hZGRSYW5nZShwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiA9IFtdO1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGN1ckZvY3VzZWRFbGVtID0gY29udGFpbmVySW5mbztcbiAgICAgICAgICAoY3VyRm9jdXNlZEVsZW0gPSBjdXJGb2N1c2VkRWxlbS5wYXJlbnROb2RlKTtcblxuICAgICAgICApXG4gICAgICAgICAgMSA9PT0gY3VyRm9jdXNlZEVsZW0ubm9kZVR5cGUgJiZcbiAgICAgICAgICAgIHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24ucHVzaCh7XG4gICAgICAgICAgICAgIGVsZW1lbnQ6IGN1ckZvY3VzZWRFbGVtLFxuICAgICAgICAgICAgICBsZWZ0OiBjdXJGb2N1c2VkRWxlbS5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICB0b3A6IGN1ckZvY3VzZWRFbGVtLnNjcm9sbFRvcFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNvbnRhaW5lckluZm8uZm9jdXMgJiYgY29udGFpbmVySW5mby5mb2N1cygpO1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGNvbnRhaW5lckluZm8gPSAwO1xuICAgICAgICAgIGNvbnRhaW5lckluZm8gPCBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmxlbmd0aDtcbiAgICAgICAgICBjb250YWluZXJJbmZvKytcbiAgICAgICAgKVxuICAgICAgICAgIChjdXJGb2N1c2VkRWxlbSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb25bY29udGFpbmVySW5mb10pLFxuICAgICAgICAgICAgKGN1ckZvY3VzZWRFbGVtLmVsZW1lbnQuc2Nyb2xsTGVmdCA9IGN1ckZvY3VzZWRFbGVtLmxlZnQpLFxuICAgICAgICAgICAgKGN1ckZvY3VzZWRFbGVtLmVsZW1lbnQuc2Nyb2xsVG9wID0gY3VyRm9jdXNlZEVsZW0udG9wKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29uc3RydWN0U2VsZWN0RXZlbnQoXG4gICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICkge1xuICAgICAgdmFyIGRvYyA9XG4gICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0LndpbmRvdyA9PT0gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICA/IG5hdGl2ZUV2ZW50VGFyZ2V0LmRvY3VtZW50XG4gICAgICAgICAgOiA5ID09PSBuYXRpdmVFdmVudFRhcmdldC5ub2RlVHlwZVxuICAgICAgICAgICAgPyBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgOiBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50O1xuICAgICAgbW91c2VEb3duIHx8XG4gICAgICAgIG51bGwgPT0gYWN0aXZlRWxlbWVudCB8fFxuICAgICAgICBhY3RpdmVFbGVtZW50ICE9PSBnZXRBY3RpdmVFbGVtZW50KGRvYykgfHxcbiAgICAgICAgKChkb2MgPSBhY3RpdmVFbGVtZW50KSxcbiAgICAgICAgXCJzZWxlY3Rpb25TdGFydFwiIGluIGRvYyAmJiBoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMoZG9jKVxuICAgICAgICAgID8gKGRvYyA9IHsgc3RhcnQ6IGRvYy5zZWxlY3Rpb25TdGFydCwgZW5kOiBkb2Muc2VsZWN0aW9uRW5kIH0pXG4gICAgICAgICAgOiAoKGRvYyA9IChcbiAgICAgICAgICAgICAgKGRvYy5vd25lckRvY3VtZW50ICYmIGRvYy5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB8fFxuICAgICAgICAgICAgICB3aW5kb3dcbiAgICAgICAgICAgICkuZ2V0U2VsZWN0aW9uKCkpLFxuICAgICAgICAgICAgKGRvYyA9IHtcbiAgICAgICAgICAgICAgYW5jaG9yTm9kZTogZG9jLmFuY2hvck5vZGUsXG4gICAgICAgICAgICAgIGFuY2hvck9mZnNldDogZG9jLmFuY2hvck9mZnNldCxcbiAgICAgICAgICAgICAgZm9jdXNOb2RlOiBkb2MuZm9jdXNOb2RlLFxuICAgICAgICAgICAgICBmb2N1c09mZnNldDogZG9jLmZvY3VzT2Zmc2V0XG4gICAgICAgICAgICB9KSksXG4gICAgICAgIChsYXN0U2VsZWN0aW9uICYmIHNoYWxsb3dFcXVhbChsYXN0U2VsZWN0aW9uLCBkb2MpKSB8fFxuICAgICAgICAgICgobGFzdFNlbGVjdGlvbiA9IGRvYyksXG4gICAgICAgICAgKGRvYyA9IGFjY3VtdWxhdGVUd29QaGFzZUxpc3RlbmVycyhhY3RpdmVFbGVtZW50SW5zdCwgXCJvblNlbGVjdFwiKSksXG4gICAgICAgICAgMCA8IGRvYy5sZW5ndGggJiZcbiAgICAgICAgICAgICgobmF0aXZlRXZlbnQgPSBuZXcgU3ludGhldGljRXZlbnQoXG4gICAgICAgICAgICAgIFwib25TZWxlY3RcIixcbiAgICAgICAgICAgICAgXCJzZWxlY3RcIixcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7IGV2ZW50OiBuYXRpdmVFdmVudCwgbGlzdGVuZXJzOiBkb2MgfSksXG4gICAgICAgICAgICAobmF0aXZlRXZlbnQudGFyZ2V0ID0gYWN0aXZlRWxlbWVudCkpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VQcmVmaXhNYXAoc3R5bGVQcm9wLCBldmVudE5hbWUpIHtcbiAgICAgIHZhciBwcmVmaXhlcyA9IHt9O1xuICAgICAgcHJlZml4ZXNbc3R5bGVQcm9wLnRvTG93ZXJDYXNlKCldID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBwcmVmaXhlc1tcIldlYmtpdFwiICsgc3R5bGVQcm9wXSA9IFwid2Via2l0XCIgKyBldmVudE5hbWU7XG4gICAgICBwcmVmaXhlc1tcIk1velwiICsgc3R5bGVQcm9wXSA9IFwibW96XCIgKyBldmVudE5hbWU7XG4gICAgICByZXR1cm4gcHJlZml4ZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKGV2ZW50TmFtZSkge1xuICAgICAgaWYgKHByZWZpeGVkRXZlbnROYW1lc1tldmVudE5hbWVdKSByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gICAgICBpZiAoIXZlbmRvclByZWZpeGVzW2V2ZW50TmFtZV0pIHJldHVybiBldmVudE5hbWU7XG4gICAgICB2YXIgcHJlZml4TWFwID0gdmVuZG9yUHJlZml4ZXNbZXZlbnROYW1lXSxcbiAgICAgICAgc3R5bGVQcm9wO1xuICAgICAgZm9yIChzdHlsZVByb3AgaW4gcHJlZml4TWFwKVxuICAgICAgICBpZiAocHJlZml4TWFwLmhhc093blByb3BlcnR5KHN0eWxlUHJvcCkgJiYgc3R5bGVQcm9wIGluIHN0eWxlKVxuICAgICAgICAgIHJldHVybiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0gPSBwcmVmaXhNYXBbc3R5bGVQcm9wXSk7XG4gICAgICByZXR1cm4gZXZlbnROYW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlclNpbXBsZUV2ZW50KGRvbUV2ZW50TmFtZSwgcmVhY3ROYW1lKSB7XG4gICAgICB0b3BMZXZlbEV2ZW50c1RvUmVhY3ROYW1lcy5zZXQoZG9tRXZlbnROYW1lLCByZWFjdE5hbWUpO1xuICAgICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KHJlYWN0TmFtZSwgW2RvbUV2ZW50TmFtZV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5pc2hRdWV1ZWluZ0NvbmN1cnJlbnRVcGRhdGVzKCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIGVuZEluZGV4ID0gY29uY3VycmVudFF1ZXVlc0luZGV4LFxuICAgICAgICAgIGkgPSAoY29uY3VycmVudGx5VXBkYXRlZExhbmVzID0gY29uY3VycmVudFF1ZXVlc0luZGV4ID0gMCk7XG4gICAgICAgIGkgPCBlbmRJbmRleDtcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBmaWJlciA9IGNvbmN1cnJlbnRRdWV1ZXNbaV07XG4gICAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbaSsrXSA9IG51bGw7XG4gICAgICAgIHZhciBxdWV1ZSA9IGNvbmN1cnJlbnRRdWV1ZXNbaV07XG4gICAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbaSsrXSA9IG51bGw7XG4gICAgICAgIHZhciB1cGRhdGUgPSBjb25jdXJyZW50UXVldWVzW2ldO1xuICAgICAgICBjb25jdXJyZW50UXVldWVzW2krK10gPSBudWxsO1xuICAgICAgICB2YXIgbGFuZSA9IGNvbmN1cnJlbnRRdWV1ZXNbaV07XG4gICAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbaSsrXSA9IG51bGw7XG4gICAgICAgIGlmIChudWxsICE9PSBxdWV1ZSAmJiBudWxsICE9PSB1cGRhdGUpIHtcbiAgICAgICAgICB2YXIgcGVuZGluZyA9IHF1ZXVlLnBlbmRpbmc7XG4gICAgICAgICAgbnVsbCA9PT0gcGVuZGluZ1xuICAgICAgICAgICAgPyAodXBkYXRlLm5leHQgPSB1cGRhdGUpXG4gICAgICAgICAgICA6ICgodXBkYXRlLm5leHQgPSBwZW5kaW5nLm5leHQpLCAocGVuZGluZy5uZXh0ID0gdXBkYXRlKSk7XG4gICAgICAgICAgcXVldWUucGVuZGluZyA9IHVwZGF0ZTtcbiAgICAgICAgfVxuICAgICAgICAwICE9PSBsYW5lICYmIG1hcmtVcGRhdGVMYW5lRnJvbUZpYmVyVG9Sb290KGZpYmVyLCB1cGRhdGUsIGxhbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVXBkYXRlJDEoZmliZXIsIHF1ZXVlLCB1cGRhdGUsIGxhbmUpIHtcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbY29uY3VycmVudFF1ZXVlc0luZGV4KytdID0gZmliZXI7XG4gICAgICBjb25jdXJyZW50UXVldWVzW2NvbmN1cnJlbnRRdWV1ZXNJbmRleCsrXSA9IHF1ZXVlO1xuICAgICAgY29uY3VycmVudFF1ZXVlc1tjb25jdXJyZW50UXVldWVzSW5kZXgrK10gPSB1cGRhdGU7XG4gICAgICBjb25jdXJyZW50UXVldWVzW2NvbmN1cnJlbnRRdWV1ZXNJbmRleCsrXSA9IGxhbmU7XG4gICAgICBjb25jdXJyZW50bHlVcGRhdGVkTGFuZXMgfD0gbGFuZTtcbiAgICAgIGZpYmVyLmxhbmVzIHw9IGxhbmU7XG4gICAgICBmaWJlciA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgIT09IGZpYmVyICYmIChmaWJlci5sYW5lcyB8PSBsYW5lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZUNvbmN1cnJlbnRIb29rVXBkYXRlKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCBsYW5lKSB7XG4gICAgICBlbnF1ZXVlVXBkYXRlJDEoZmliZXIsIHF1ZXVlLCB1cGRhdGUsIGxhbmUpO1xuICAgICAgcmV0dXJuIGdldFJvb3RGb3JVcGRhdGVkRmliZXIoZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIGxhbmUpIHtcbiAgICAgIGVucXVldWVVcGRhdGUkMShmaWJlciwgbnVsbCwgbnVsbCwgbGFuZSk7XG4gICAgICByZXR1cm4gZ2V0Um9vdEZvclVwZGF0ZWRGaWJlcihmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtVcGRhdGVMYW5lRnJvbUZpYmVyVG9Sb290KHNvdXJjZUZpYmVyLCB1cGRhdGUsIGxhbmUpIHtcbiAgICAgIHNvdXJjZUZpYmVyLmxhbmVzIHw9IGxhbmU7XG4gICAgICB2YXIgYWx0ZXJuYXRlID0gc291cmNlRmliZXIuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCAhPT0gYWx0ZXJuYXRlICYmIChhbHRlcm5hdGUubGFuZXMgfD0gbGFuZSk7XG4gICAgICBmb3IgKHZhciBpc0hpZGRlbiA9ICExLCBwYXJlbnQgPSBzb3VyY2VGaWJlci5yZXR1cm47IG51bGwgIT09IHBhcmVudDsgKVxuICAgICAgICAocGFyZW50LmNoaWxkTGFuZXMgfD0gbGFuZSksXG4gICAgICAgICAgKGFsdGVybmF0ZSA9IHBhcmVudC5hbHRlcm5hdGUpLFxuICAgICAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiAoYWx0ZXJuYXRlLmNoaWxkTGFuZXMgfD0gbGFuZSksXG4gICAgICAgICAgMjIgPT09IHBhcmVudC50YWcgJiZcbiAgICAgICAgICAgICgoc291cmNlRmliZXIgPSBwYXJlbnQuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgIG51bGwgPT09IHNvdXJjZUZpYmVyIHx8XG4gICAgICAgICAgICAgIHNvdXJjZUZpYmVyLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuVmlzaWJsZSB8fFxuICAgICAgICAgICAgICAoaXNIaWRkZW4gPSAhMCkpLFxuICAgICAgICAgIChzb3VyY2VGaWJlciA9IHBhcmVudCksXG4gICAgICAgICAgKHBhcmVudCA9IHBhcmVudC5yZXR1cm4pO1xuICAgICAgaXNIaWRkZW4gJiZcbiAgICAgICAgbnVsbCAhPT0gdXBkYXRlICYmXG4gICAgICAgIDMgPT09IHNvdXJjZUZpYmVyLnRhZyAmJlxuICAgICAgICAoKHBhcmVudCA9IHNvdXJjZUZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgIChpc0hpZGRlbiA9IDMxIC0gY2x6MzIobGFuZSkpLFxuICAgICAgICAocGFyZW50ID0gcGFyZW50LmhpZGRlblVwZGF0ZXMpLFxuICAgICAgICAoc291cmNlRmliZXIgPSBwYXJlbnRbaXNIaWRkZW5dKSxcbiAgICAgICAgbnVsbCA9PT0gc291cmNlRmliZXJcbiAgICAgICAgICA/IChwYXJlbnRbaXNIaWRkZW5dID0gW3VwZGF0ZV0pXG4gICAgICAgICAgOiBzb3VyY2VGaWJlci5wdXNoKHVwZGF0ZSksXG4gICAgICAgICh1cGRhdGUubGFuZSA9IGxhbmUgfCA1MzY4NzA5MTIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Um9vdEZvclVwZGF0ZWRGaWJlcihzb3VyY2VGaWJlcikge1xuICAgICAgaWYgKG5lc3RlZFVwZGF0ZUNvdW50ID4gTkVTVEVEX1VQREFURV9MSU1JVClcbiAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICgobmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gbmVzdGVkVXBkYXRlQ291bnQgPSAwKSxcbiAgICAgICAgICAocm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlcyA9IHJvb3RXaXRoTmVzdGVkVXBkYXRlcyA9IG51bGwpLFxuICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgXCJNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gYSBjb21wb25lbnQgcmVwZWF0ZWRseSBjYWxscyBzZXRTdGF0ZSBpbnNpZGUgY29tcG9uZW50V2lsbFVwZGF0ZSBvciBjb21wb25lbnREaWRVcGRhdGUuIFJlYWN0IGxpbWl0cyB0aGUgbnVtYmVyIG9mIG5lc3RlZCB1cGRhdGVzIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHMuXCJcbiAgICAgICAgICApKVxuICAgICAgICApO1xuICAgICAgbmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID4gTkVTVEVEX1BBU1NJVkVfVVBEQVRFX0xJTUlUICYmXG4gICAgICAgICgobmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gMCksXG4gICAgICAgIChyb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzID0gbnVsbCksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJNYXhpbXVtIHVwZGF0ZSBkZXB0aCBleGNlZWRlZC4gVGhpcyBjYW4gaGFwcGVuIHdoZW4gYSBjb21wb25lbnQgY2FsbHMgc2V0U3RhdGUgaW5zaWRlIHVzZUVmZmVjdCwgYnV0IHVzZUVmZmVjdCBlaXRoZXIgZG9lc24ndCBoYXZlIGEgZGVwZW5kZW5jeSBhcnJheSwgb3Igb25lIG9mIHRoZSBkZXBlbmRlbmNpZXMgY2hhbmdlcyBvbiBldmVyeSByZW5kZXIuXCJcbiAgICAgICAgKSk7XG4gICAgICBudWxsID09PSBzb3VyY2VGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgMCAhPT0gKHNvdXJjZUZpYmVyLmZsYWdzICYgNDA5OCkgJiZcbiAgICAgICAgd2FybkFib3V0VXBkYXRlT25Ob3RZZXRNb3VudGVkRmliZXJJbkRFVihzb3VyY2VGaWJlcik7XG4gICAgICBmb3IgKHZhciBub2RlID0gc291cmNlRmliZXIsIHBhcmVudCA9IG5vZGUucmV0dXJuOyBudWxsICE9PSBwYXJlbnQ7IClcbiAgICAgICAgbnVsbCA9PT0gbm9kZS5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAwICE9PSAobm9kZS5mbGFncyAmIDQwOTgpICYmXG4gICAgICAgICAgd2FybkFib3V0VXBkYXRlT25Ob3RZZXRNb3VudGVkRmliZXJJbkRFVihzb3VyY2VGaWJlciksXG4gICAgICAgICAgKG5vZGUgPSBwYXJlbnQpLFxuICAgICAgICAgIChwYXJlbnQgPSBub2RlLnJldHVybik7XG4gICAgICByZXR1cm4gMyA9PT0gbm9kZS50YWcgPyBub2RlLnN0YXRlTm9kZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gcmVzb2x2ZUZhbWlseSkgcmV0dXJuIHR5cGU7XG4gICAgICB2YXIgZmFtaWx5ID0gcmVzb2x2ZUZhbWlseSh0eXBlKTtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGZhbWlseSA/IHR5cGUgOiBmYW1pbHkuY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmcodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT09IHJlc29sdmVGYW1pbHkpIHJldHVybiB0eXBlO1xuICAgICAgdmFyIGZhbWlseSA9IHJlc29sdmVGYW1pbHkodHlwZSk7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBmYW1pbHlcbiAgICAgICAgPyBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgdm9pZCAwICE9PSB0eXBlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZS5yZW5kZXIgJiZcbiAgICAgICAgICAoKGZhbWlseSA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyh0eXBlLnJlbmRlcikpLFxuICAgICAgICAgIHR5cGUucmVuZGVyICE9PSBmYW1pbHkpXG4gICAgICAgICAgPyAoKGZhbWlseSA9IHsgJCR0eXBlb2Y6IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUsIHJlbmRlcjogZmFtaWx5IH0pLFxuICAgICAgICAgICAgdm9pZCAwICE9PSB0eXBlLmRpc3BsYXlOYW1lICYmXG4gICAgICAgICAgICAgIChmYW1pbHkuZGlzcGxheU5hbWUgPSB0eXBlLmRpc3BsYXlOYW1lKSxcbiAgICAgICAgICAgIGZhbWlseSlcbiAgICAgICAgICA6IHR5cGVcbiAgICAgICAgOiBmYW1pbHkuY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNDb21wYXRpYmxlRmFtaWx5Rm9ySG90UmVsb2FkaW5nKGZpYmVyLCBlbGVtZW50KSB7XG4gICAgICBpZiAobnVsbCA9PT0gcmVzb2x2ZUZhbWlseSkgcmV0dXJuICExO1xuICAgICAgdmFyIHByZXZUeXBlID0gZmliZXIuZWxlbWVudFR5cGU7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudC50eXBlO1xuICAgICAgdmFyIG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITEsXG4gICAgICAgICQkdHlwZW9mTmV4dFR5cGUgPVxuICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlbGVtZW50ICYmIG51bGwgIT09IGVsZW1lbnRcbiAgICAgICAgICAgID8gZWxlbWVudC4kJHR5cGVvZlxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGVsZW1lbnQgJiYgKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZWxlbWVudFxuICAgICAgICAgICAgPyAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMClcbiAgICAgICAgICAgIDogJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgIChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAkJHR5cGVvZk5leHRUeXBlID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFXG4gICAgICAgICAgICA/IChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKVxuICAgICAgICAgICAgOiAkJHR5cGVvZk5leHRUeXBlID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAgICAgKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX01FTU9fVFlQRVxuICAgICAgICAgICAgPyAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMClcbiAgICAgICAgICAgIDogJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgIChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmVlZHNDb21wYXJlRmFtaWxpZXMgJiZcbiAgICAgICAgKChmaWJlciA9IHJlc29sdmVGYW1pbHkocHJldlR5cGUpKSxcbiAgICAgICAgdm9pZCAwICE9PSBmaWJlciAmJiBmaWJlciA9PT0gcmVzb2x2ZUZhbWlseShlbGVtZW50KSlcbiAgICAgICAgPyAhMFxuICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrRmFpbGVkRXJyb3JCb3VuZGFyeUZvckhvdFJlbG9hZGluZyhmaWJlcikge1xuICAgICAgbnVsbCAhPT0gcmVzb2x2ZUZhbWlseSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrU2V0ICYmXG4gICAgICAgIChudWxsID09PSBmYWlsZWRCb3VuZGFyaWVzICYmIChmYWlsZWRCb3VuZGFyaWVzID0gbmV3IFdlYWtTZXQoKSksXG4gICAgICAgIGZhaWxlZEJvdW5kYXJpZXMuYWRkKGZpYmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoXG4gICAgICBmaWJlcixcbiAgICAgIHVwZGF0ZWRGYW1pbGllcyxcbiAgICAgIHN0YWxlRmFtaWxpZXNcbiAgICApIHtcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGUsXG4gICAgICAgIGNoaWxkID0gZmliZXIuY2hpbGQsXG4gICAgICAgIHNpYmxpbmcgPSBmaWJlci5zaWJsaW5nLFxuICAgICAgICB0YWcgPSBmaWJlci50YWcsXG4gICAgICAgIHR5cGUgPSBmaWJlci50eXBlLFxuICAgICAgICBjYW5kaWRhdGVUeXBlID0gbnVsbDtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGNhbmRpZGF0ZVR5cGUgPSB0eXBlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGNhbmRpZGF0ZVR5cGUgPSB0eXBlLnJlbmRlcjtcbiAgICAgIH1cbiAgICAgIGlmIChudWxsID09PSByZXNvbHZlRmFtaWx5KVxuICAgICAgICB0aHJvdyBFcnJvcihcIkV4cGVjdGVkIHJlc29sdmVGYW1pbHkgdG8gYmUgc2V0IGR1cmluZyBob3QgcmVsb2FkLlwiKTtcbiAgICAgIHZhciBuZWVkc1JlbmRlciA9ICExO1xuICAgICAgdHlwZSA9ICExO1xuICAgICAgbnVsbCAhPT0gY2FuZGlkYXRlVHlwZSAmJlxuICAgICAgICAoKGNhbmRpZGF0ZVR5cGUgPSByZXNvbHZlRmFtaWx5KGNhbmRpZGF0ZVR5cGUpKSxcbiAgICAgICAgdm9pZCAwICE9PSBjYW5kaWRhdGVUeXBlICYmXG4gICAgICAgICAgKHN0YWxlRmFtaWxpZXMuaGFzKGNhbmRpZGF0ZVR5cGUpXG4gICAgICAgICAgICA/ICh0eXBlID0gITApXG4gICAgICAgICAgICA6IHVwZGF0ZWRGYW1pbGllcy5oYXMoY2FuZGlkYXRlVHlwZSkgJiZcbiAgICAgICAgICAgICAgKDEgPT09IHRhZyA/ICh0eXBlID0gITApIDogKG5lZWRzUmVuZGVyID0gITApKSkpO1xuICAgICAgbnVsbCAhPT0gZmFpbGVkQm91bmRhcmllcyAmJlxuICAgICAgICAoZmFpbGVkQm91bmRhcmllcy5oYXMoZmliZXIpIHx8XG4gICAgICAgICAgKG51bGwgIT09IGFsdGVybmF0ZSAmJiBmYWlsZWRCb3VuZGFyaWVzLmhhcyhhbHRlcm5hdGUpKSkgJiZcbiAgICAgICAgKHR5cGUgPSAhMCk7XG4gICAgICB0eXBlICYmIChmaWJlci5fZGVidWdOZWVkc1JlbW91bnQgPSAhMCk7XG4gICAgICBpZiAodHlwZSB8fCBuZWVkc1JlbmRlcilcbiAgICAgICAgKGFsdGVybmF0ZSA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIoYWx0ZXJuYXRlLCBmaWJlciwgMik7XG4gICAgICBudWxsID09PSBjaGlsZCB8fFxuICAgICAgICB0eXBlIHx8XG4gICAgICAgIHNjaGVkdWxlRmliZXJzV2l0aEZhbWlsaWVzUmVjdXJzaXZlbHkoXG4gICAgICAgICAgY2hpbGQsXG4gICAgICAgICAgdXBkYXRlZEZhbWlsaWVzLFxuICAgICAgICAgIHN0YWxlRmFtaWxpZXNcbiAgICAgICAgKTtcbiAgICAgIG51bGwgIT09IHNpYmxpbmcgJiZcbiAgICAgICAgc2NoZWR1bGVGaWJlcnNXaXRoRmFtaWxpZXNSZWN1cnNpdmVseShcbiAgICAgICAgICBzaWJsaW5nLFxuICAgICAgICAgIHVwZGF0ZWRGYW1pbGllcyxcbiAgICAgICAgICBzdGFsZUZhbWlsaWVzXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKSB7XG4gICAgICB2YXIgcHJldkVmZmVjdER1cmF0aW9uID0gcHJvZmlsZXJFZmZlY3REdXJhdGlvbjtcbiAgICAgIHByb2ZpbGVyRWZmZWN0RHVyYXRpb24gPSAwO1xuICAgICAgcmV0dXJuIHByZXZFZmZlY3REdXJhdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbikge1xuICAgICAgdmFyIGVsYXBzZWRUaW1lID0gcHJvZmlsZXJFZmZlY3REdXJhdGlvbjtcbiAgICAgIHByb2ZpbGVyRWZmZWN0RHVyYXRpb24gPSBwcmV2RWZmZWN0RHVyYXRpb247XG4gICAgICByZXR1cm4gZWxhcHNlZFRpbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ1YmJsZU5lc3RlZEVmZmVjdER1cmF0aW9ucyhwcmV2RWZmZWN0RHVyYXRpb24pIHtcbiAgICAgIHZhciBlbGFwc2VkVGltZSA9IHByb2ZpbGVyRWZmZWN0RHVyYXRpb247XG4gICAgICBwcm9maWxlckVmZmVjdER1cmF0aW9uICs9IHByZXZFZmZlY3REdXJhdGlvbjtcbiAgICAgIHJldHVybiBlbGFwc2VkVGltZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRQcm9maWxlclRpbWVyKGZpYmVyKSB7XG4gICAgICBwcm9maWxlclN0YXJ0VGltZSA9IG5vdygpO1xuICAgICAgMCA+IGZpYmVyLmFjdHVhbFN0YXJ0VGltZSAmJiAoZmliZXIuYWN0dWFsU3RhcnRUaW1lID0gcHJvZmlsZXJTdGFydFRpbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZER1cmF0aW9uKGZpYmVyKSB7XG4gICAgICBpZiAoMCA8PSBwcm9maWxlclN0YXJ0VGltZSkge1xuICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBub3coKSAtIHByb2ZpbGVyU3RhcnRUaW1lO1xuICAgICAgICBmaWJlci5hY3R1YWxEdXJhdGlvbiArPSBlbGFwc2VkVGltZTtcbiAgICAgICAgZmliZXIuc2VsZkJhc2VEdXJhdGlvbiA9IGVsYXBzZWRUaW1lO1xuICAgICAgICBwcm9maWxlclN0YXJ0VGltZSA9IC0xO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZEluY29tcGxldGVEdXJhdGlvbihmaWJlcikge1xuICAgICAgaWYgKDAgPD0gcHJvZmlsZXJTdGFydFRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWRUaW1lID0gbm93KCkgLSBwcm9maWxlclN0YXJ0VGltZTtcbiAgICAgICAgZmliZXIuYWN0dWFsRHVyYXRpb24gKz0gZWxhcHNlZFRpbWU7XG4gICAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29yZEVmZmVjdER1cmF0aW9uKCkge1xuICAgICAgaWYgKDAgPD0gcHJvZmlsZXJTdGFydFRpbWUpIHtcbiAgICAgICAgdmFyIGVsYXBzZWRUaW1lID0gbm93KCkgLSBwcm9maWxlclN0YXJ0VGltZTtcbiAgICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSAtMTtcbiAgICAgICAgcHJvZmlsZXJFZmZlY3REdXJhdGlvbiArPSBlbGFwc2VkVGltZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRFZmZlY3RUaW1lcigpIHtcbiAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gbm93KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYW5zZmVyQWN0dWFsRHVyYXRpb24oZmliZXIpIHtcbiAgICAgIGZvciAodmFyIGNoaWxkID0gZmliZXIuY2hpbGQ7IGNoaWxkOyApXG4gICAgICAgIChmaWJlci5hY3R1YWxEdXJhdGlvbiArPSBjaGlsZC5hY3R1YWxEdXJhdGlvbiksIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih2YWx1ZSwgc291cmNlKSB7XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHZhbHVlICYmIG51bGwgIT09IHZhbHVlKSB7XG4gICAgICAgIHZhciBleGlzdGluZyA9IENhcHR1cmVkU3RhY2tzLmdldCh2YWx1ZSk7XG4gICAgICAgIGlmICh2b2lkIDAgIT09IGV4aXN0aW5nKSByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICAgIHNvdXJjZSA9IHtcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgc3RhY2s6IGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZChzb3VyY2UpXG4gICAgICAgIH07XG4gICAgICAgIENhcHR1cmVkU3RhY2tzLnNldCh2YWx1ZSwgc291cmNlKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgIHN0YWNrOiBnZXRTdGFja0J5RmliZXJJbkRldkFuZFByb2Qoc291cmNlKVxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFRyZWVGb3JrKHdvcmtJblByb2dyZXNzLCB0b3RhbENoaWxkcmVuKSB7XG4gICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKTtcbiAgICAgIGZvcmtTdGFja1tmb3JrU3RhY2tJbmRleCsrXSA9IHRyZWVGb3JrQ291bnQ7XG4gICAgICBmb3JrU3RhY2tbZm9ya1N0YWNrSW5kZXgrK10gPSB0cmVlRm9ya1Byb3ZpZGVyO1xuICAgICAgdHJlZUZvcmtQcm92aWRlciA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgdHJlZUZvcmtDb3VudCA9IHRvdGFsQ2hpbGRyZW47XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hUcmVlSWQod29ya0luUHJvZ3Jlc3MsIHRvdGFsQ2hpbGRyZW4sIGluZGV4KSB7XG4gICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKTtcbiAgICAgIGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRJZDtcbiAgICAgIGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRPdmVyZmxvdztcbiAgICAgIGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRQcm92aWRlcjtcbiAgICAgIHRyZWVDb250ZXh0UHJvdmlkZXIgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHZhciBiYXNlSWRXaXRoTGVhZGluZ0JpdCA9IHRyZWVDb250ZXh0SWQ7XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHRyZWVDb250ZXh0T3ZlcmZsb3c7XG4gICAgICB2YXIgYmFzZUxlbmd0aCA9IDMyIC0gY2x6MzIoYmFzZUlkV2l0aExlYWRpbmdCaXQpIC0gMTtcbiAgICAgIGJhc2VJZFdpdGhMZWFkaW5nQml0ICY9IH4oMSA8PCBiYXNlTGVuZ3RoKTtcbiAgICAgIGluZGV4ICs9IDE7XG4gICAgICB2YXIgbGVuZ3RoID0gMzIgLSBjbHozMih0b3RhbENoaWxkcmVuKSArIGJhc2VMZW5ndGg7XG4gICAgICBpZiAoMzAgPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIG51bWJlck9mT3ZlcmZsb3dCaXRzID0gYmFzZUxlbmd0aCAtIChiYXNlTGVuZ3RoICUgNSk7XG4gICAgICAgIGxlbmd0aCA9IChcbiAgICAgICAgICBiYXNlSWRXaXRoTGVhZGluZ0JpdCAmXG4gICAgICAgICAgKCgxIDw8IG51bWJlck9mT3ZlcmZsb3dCaXRzKSAtIDEpXG4gICAgICAgICkudG9TdHJpbmcoMzIpO1xuICAgICAgICBiYXNlSWRXaXRoTGVhZGluZ0JpdCA+Pj0gbnVtYmVyT2ZPdmVyZmxvd0JpdHM7XG4gICAgICAgIGJhc2VMZW5ndGggLT0gbnVtYmVyT2ZPdmVyZmxvd0JpdHM7XG4gICAgICAgIHRyZWVDb250ZXh0SWQgPVxuICAgICAgICAgICgxIDw8ICgzMiAtIGNsejMyKHRvdGFsQ2hpbGRyZW4pICsgYmFzZUxlbmd0aCkpIHxcbiAgICAgICAgICAoaW5kZXggPDwgYmFzZUxlbmd0aCkgfFxuICAgICAgICAgIGJhc2VJZFdpdGhMZWFkaW5nQml0O1xuICAgICAgICB0cmVlQ29udGV4dE92ZXJmbG93ID0gbGVuZ3RoICsgd29ya0luUHJvZ3Jlc3M7XG4gICAgICB9IGVsc2VcbiAgICAgICAgKHRyZWVDb250ZXh0SWQgPVxuICAgICAgICAgICgxIDw8IGxlbmd0aCkgfCAoaW5kZXggPDwgYmFzZUxlbmd0aCkgfCBiYXNlSWRXaXRoTGVhZGluZ0JpdCksXG4gICAgICAgICAgKHRyZWVDb250ZXh0T3ZlcmZsb3cgPSB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hNYXRlcmlhbGl6ZWRUcmVlSWQod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHdhcm5JZk5vdEh5ZHJhdGluZygpO1xuICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MucmV0dXJuICYmXG4gICAgICAgIChwdXNoVHJlZUZvcmsod29ya0luUHJvZ3Jlc3MsIDEpLCBwdXNoVHJlZUlkKHdvcmtJblByb2dyZXNzLCAxLCAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcFRyZWVDb250ZXh0KHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBmb3IgKDsgd29ya0luUHJvZ3Jlc3MgPT09IHRyZWVGb3JrUHJvdmlkZXI7IClcbiAgICAgICAgKHRyZWVGb3JrUHJvdmlkZXIgPSBmb3JrU3RhY2tbLS1mb3JrU3RhY2tJbmRleF0pLFxuICAgICAgICAgIChmb3JrU3RhY2tbZm9ya1N0YWNrSW5kZXhdID0gbnVsbCksXG4gICAgICAgICAgKHRyZWVGb3JrQ291bnQgPSBmb3JrU3RhY2tbLS1mb3JrU3RhY2tJbmRleF0pLFxuICAgICAgICAgIChmb3JrU3RhY2tbZm9ya1N0YWNrSW5kZXhdID0gbnVsbCk7XG4gICAgICBmb3IgKDsgd29ya0luUHJvZ3Jlc3MgPT09IHRyZWVDb250ZXh0UHJvdmlkZXI7IClcbiAgICAgICAgKHRyZWVDb250ZXh0UHJvdmlkZXIgPSBpZFN0YWNrWy0taWRTdGFja0luZGV4XSksXG4gICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4XSA9IG51bGwpLFxuICAgICAgICAgICh0cmVlQ29udGV4dE92ZXJmbG93ID0gaWRTdGFja1stLWlkU3RhY2tJbmRleF0pLFxuICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleF0gPSBudWxsKSxcbiAgICAgICAgICAodHJlZUNvbnRleHRJZCA9IGlkU3RhY2tbLS1pZFN0YWNrSW5kZXhdKSxcbiAgICAgICAgICAoaWRTdGFja1tpZFN0YWNrSW5kZXhdID0gbnVsbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JZk5vdEh5ZHJhdGluZygpIHtcbiAgICAgIGlzSHlkcmF0aW5nIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB0byBiZSBoeWRyYXRpbmcuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUoZmliZXIsIGRpc3RhbmNlRnJvbUxlYWYpIHtcbiAgICAgIGlmIChudWxsID09PSBmaWJlci5yZXR1cm4pIHtcbiAgICAgICAgaWYgKG51bGwgPT09IGh5ZHJhdGlvbkRpZmZSb290REVWKVxuICAgICAgICAgIGh5ZHJhdGlvbkRpZmZSb290REVWID0ge1xuICAgICAgICAgICAgZmliZXI6IGZpYmVyLFxuICAgICAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICAgICAgc2VydmVyUHJvcHM6IHZvaWQgMCxcbiAgICAgICAgICAgIHNlcnZlclRhaWw6IFtdLFxuICAgICAgICAgICAgZGlzdGFuY2VGcm9tTGVhZjogZGlzdGFuY2VGcm9tTGVhZlxuICAgICAgICAgIH07XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChoeWRyYXRpb25EaWZmUm9vdERFVi5maWJlciAhPT0gZmliZXIpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJTYXcgbXVsdGlwbGUgaHlkcmF0aW9uIGRpZmYgcm9vdHMgaW4gYSBwYXNzLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGh5ZHJhdGlvbkRpZmZSb290REVWLmRpc3RhbmNlRnJvbUxlYWYgPiBkaXN0YW5jZUZyb21MZWFmICYmXG4gICAgICAgICAgICAoaHlkcmF0aW9uRGlmZlJvb3RERVYuZGlzdGFuY2VGcm9tTGVhZiA9IGRpc3RhbmNlRnJvbUxlYWYpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoeWRyYXRpb25EaWZmUm9vdERFVjtcbiAgICAgIH1cbiAgICAgIHZhciBzaWJsaW5ncyA9IGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUoXG4gICAgICAgIGZpYmVyLnJldHVybixcbiAgICAgICAgZGlzdGFuY2VGcm9tTGVhZiArIDFcbiAgICAgICkuY2hpbGRyZW47XG4gICAgICBpZiAoMCA8IHNpYmxpbmdzLmxlbmd0aCAmJiBzaWJsaW5nc1tzaWJsaW5ncy5sZW5ndGggLSAxXS5maWJlciA9PT0gZmliZXIpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKHNpYmxpbmdzID0gc2libGluZ3Nbc2libGluZ3MubGVuZ3RoIC0gMV0pLFxuICAgICAgICAgIHNpYmxpbmdzLmRpc3RhbmNlRnJvbUxlYWYgPiBkaXN0YW5jZUZyb21MZWFmICYmXG4gICAgICAgICAgICAoc2libGluZ3MuZGlzdGFuY2VGcm9tTGVhZiA9IGRpc3RhbmNlRnJvbUxlYWYpLFxuICAgICAgICAgIHNpYmxpbmdzXG4gICAgICAgICk7XG4gICAgICBkaXN0YW5jZUZyb21MZWFmID0ge1xuICAgICAgICBmaWJlcjogZmliZXIsXG4gICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgc2VydmVyUHJvcHM6IHZvaWQgMCxcbiAgICAgICAgc2VydmVyVGFpbDogW10sXG4gICAgICAgIGRpc3RhbmNlRnJvbUxlYWY6IGRpc3RhbmNlRnJvbUxlYWZcbiAgICAgIH07XG4gICAgICBzaWJsaW5ncy5wdXNoKGRpc3RhbmNlRnJvbUxlYWYpO1xuICAgICAgcmV0dXJuIGRpc3RhbmNlRnJvbUxlYWY7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Ob25IeWRyYXRlZEluc3RhbmNlKGZpYmVyLCByZWplY3RlZENhbmRpZGF0ZSkge1xuICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgfHxcbiAgICAgICAgKChmaWJlciA9IGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUoZmliZXIsIDApKSxcbiAgICAgICAgKGZpYmVyLnNlcnZlclByb3BzID0gbnVsbCksXG4gICAgICAgIG51bGwgIT09IHJlamVjdGVkQ2FuZGlkYXRlICYmXG4gICAgICAgICAgKChyZWplY3RlZENhbmRpZGF0ZSA9XG4gICAgICAgICAgICBkZXNjcmliZUh5ZHJhdGFibGVJbnN0YW5jZUZvckRldldhcm5pbmdzKHJlamVjdGVkQ2FuZGlkYXRlKSksXG4gICAgICAgICAgZmliZXIuc2VydmVyVGFpbC5wdXNoKHJlamVjdGVkQ2FuZGlkYXRlKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2goZmliZXIpIHtcbiAgICAgIHZhciBkaWZmID0gXCJcIixcbiAgICAgICAgZGlmZlJvb3QgPSBoeWRyYXRpb25EaWZmUm9vdERFVjtcbiAgICAgIG51bGwgIT09IGRpZmZSb290ICYmXG4gICAgICAgICgoaHlkcmF0aW9uRGlmZlJvb3RERVYgPSBudWxsKSwgKGRpZmYgPSBkZXNjcmliZURpZmYoZGlmZlJvb3QpKSk7XG4gICAgICBxdWV1ZUh5ZHJhdGlvbkVycm9yKFxuICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihcbiAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgIFwiSHlkcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSBzZXJ2ZXIgcmVuZGVyZWQgSFRNTCBkaWRuJ3QgbWF0Y2ggdGhlIGNsaWVudC4gQXMgYSByZXN1bHQgdGhpcyB0cmVlIHdpbGwgYmUgcmVnZW5lcmF0ZWQgb24gdGhlIGNsaWVudC4gVGhpcyBjYW4gaGFwcGVuIGlmIGEgU1NSLWVkIENsaWVudCBDb21wb25lbnQgdXNlZDpcXG5cXG4tIEEgc2VydmVyL2NsaWVudCBicmFuY2ggYGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylgLlxcbi0gVmFyaWFibGUgaW5wdXQgc3VjaCBhcyBgRGF0ZS5ub3coKWAgb3IgYE1hdGgucmFuZG9tKClgIHdoaWNoIGNoYW5nZXMgZWFjaCB0aW1lIGl0J3MgY2FsbGVkLlxcbi0gRGF0ZSBmb3JtYXR0aW5nIGluIGEgdXNlcidzIGxvY2FsZSB3aGljaCBkb2Vzbid0IG1hdGNoIHRoZSBzZXJ2ZXIuXFxuLSBFeHRlcm5hbCBjaGFuZ2luZyBkYXRhIHdpdGhvdXQgc2VuZGluZyBhIHNuYXBzaG90IG9mIGl0IGFsb25nIHdpdGggdGhlIEhUTUwuXFxuLSBJbnZhbGlkIEhUTUwgdGFnIG5lc3RpbmcuXFxuXFxuSXQgY2FuIGFsc28gaGFwcGVuIGlmIHRoZSBjbGllbnQgaGFzIGEgYnJvd3NlciBleHRlbnNpb24gaW5zdGFsbGVkIHdoaWNoIG1lc3NlcyB3aXRoIHRoZSBIVE1MIGJlZm9yZSBSZWFjdCBsb2FkZWQuXFxuXFxuaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9oeWRyYXRpb24tbWlzbWF0Y2hcIiArXG4gICAgICAgICAgICAgIGRpZmZcbiAgICAgICAgICApLFxuICAgICAgICAgIGZpYmVyXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0aHJvdyBIeWRyYXRpb25NaXNtYXRjaEV4Y2VwdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlcGFyZVRvSHlkcmF0ZUhvc3RJbnN0YW5jZShmaWJlcikge1xuICAgICAgdmFyIGRpZEh5ZHJhdGUgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgICB2YXIgdHlwZSA9IGZpYmVyLnR5cGUsXG4gICAgICAgIHByb3BzID0gZmliZXIubWVtb2l6ZWRQcm9wcztcbiAgICAgIGRpZEh5ZHJhdGVbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSBmaWJlcjtcbiAgICAgIGRpZEh5ZHJhdGVbaW50ZXJuYWxQcm9wc0tleV0gPSBwcm9wcztcbiAgICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodHlwZSwgcHJvcHMpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJkaWFsb2dcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiY2FuY2VsXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJjbG9zZVwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlmcmFtZVwiOlxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIGNhc2UgXCJlbWJlZFwiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidmlkZW9cIjpcbiAgICAgICAgY2FzZSBcImF1ZGlvXCI6XG4gICAgICAgICAgZm9yICh0eXBlID0gMDsgdHlwZSA8IG1lZGlhRXZlbnRUeXBlcy5sZW5ndGg7IHR5cGUrKylcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQobWVkaWFFdmVudFR5cGVzW3R5cGVdLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNvdXJjZVwiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJlcnJvclwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiZXJyb3JcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImxvYWRcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkZXRhaWxzXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInRvZ2dsZVwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgICAgY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyhcImlucHV0XCIsIHByb3BzKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICB2YWxpZGF0ZUlucHV0UHJvcHMoZGlkSHlkcmF0ZSwgcHJvcHMpO1xuICAgICAgICAgIGluaXRJbnB1dChcbiAgICAgICAgICAgIGRpZEh5ZHJhdGUsXG4gICAgICAgICAgICBwcm9wcy52YWx1ZSxcbiAgICAgICAgICAgIHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIHByb3BzLmNoZWNrZWQsXG4gICAgICAgICAgICBwcm9wcy5kZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgIHByb3BzLnR5cGUsXG4gICAgICAgICAgICBwcm9wcy5uYW1lLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgICAgIHRyYWNrKGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib3B0aW9uXCI6XG4gICAgICAgICAgdmFsaWRhdGVPcHRpb25Qcm9wcyhkaWRIeWRyYXRlLCBwcm9wcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwic2VsZWN0XCIsIHByb3BzKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICB2YWxpZGF0ZVNlbGVjdFByb3BzKGRpZEh5ZHJhdGUsIHByb3BzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyhcInRleHRhcmVhXCIsIHByb3BzKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRpZEh5ZHJhdGUpLFxuICAgICAgICAgICAgdmFsaWRhdGVUZXh0YXJlYVByb3BzKGRpZEh5ZHJhdGUsIHByb3BzKSxcbiAgICAgICAgICAgIGluaXRUZXh0YXJlYShcbiAgICAgICAgICAgICAgZGlkSHlkcmF0ZSxcbiAgICAgICAgICAgICAgcHJvcHMudmFsdWUsXG4gICAgICAgICAgICAgIHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgcHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB0cmFjayhkaWRIeWRyYXRlKTtcbiAgICAgIH1cbiAgICAgIHR5cGUgPSBwcm9wcy5jaGlsZHJlbjtcbiAgICAgIChcInN0cmluZ1wiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBcIm51bWJlclwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBcImJpZ2ludFwiICE9PSB0eXBlb2YgdHlwZSkgfHxcbiAgICAgIGRpZEh5ZHJhdGUudGV4dENvbnRlbnQgPT09IFwiXCIgKyB0eXBlIHx8XG4gICAgICAhMCA9PT0gcHJvcHMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIHx8XG4gICAgICBjaGVja0ZvclVubWF0Y2hlZFRleHQoZGlkSHlkcmF0ZS50ZXh0Q29udGVudCwgdHlwZSlcbiAgICAgICAgPyAobnVsbCAhPSBwcm9wcy5wb3BvdmVyICYmXG4gICAgICAgICAgICAobGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImJlZm9yZXRvZ2dsZVwiLCBkaWRIeWRyYXRlKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJ0b2dnbGVcIiwgZGlkSHlkcmF0ZSkpLFxuICAgICAgICAgIG51bGwgIT0gcHJvcHMub25TY3JvbGwgJiZcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxcIiwgZGlkSHlkcmF0ZSksXG4gICAgICAgICAgbnVsbCAhPSBwcm9wcy5vblNjcm9sbEVuZCAmJlxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbGVuZFwiLCBkaWRIeWRyYXRlKSxcbiAgICAgICAgICBudWxsICE9IHByb3BzLm9uQ2xpY2sgJiYgKGRpZEh5ZHJhdGUub25jbGljayA9IG5vb3AkMSksXG4gICAgICAgICAgKGRpZEh5ZHJhdGUgPSAhMCkpXG4gICAgICAgIDogKGRpZEh5ZHJhdGUgPSAhMSk7XG4gICAgICBkaWRIeWRyYXRlIHx8IHRocm93T25IeWRyYXRpb25NaXNtYXRjaChmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpIHtcbiAgICAgIGZvciAoaHlkcmF0aW9uUGFyZW50RmliZXIgPSBmaWJlci5yZXR1cm47IGh5ZHJhdGlvblBhcmVudEZpYmVyOyApXG4gICAgICAgIHN3aXRjaCAoaHlkcmF0aW9uUGFyZW50RmliZXIudGFnKSB7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICByb290T3JTaW5nbGV0b25Db250ZXh0ID0gITA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICByb290T3JTaW5nbGV0b25Db250ZXh0ID0gITE7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gaHlkcmF0aW9uUGFyZW50RmliZXIucmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEh5ZHJhdGlvblN0YXRlKGZpYmVyKSB7XG4gICAgICBpZiAoZmliZXIgIT09IGh5ZHJhdGlvblBhcmVudEZpYmVyKSByZXR1cm4gITE7XG4gICAgICBpZiAoIWlzSHlkcmF0aW5nKVxuICAgICAgICByZXR1cm4gcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlciksIChpc0h5ZHJhdGluZyA9ICEwKSwgITE7XG4gICAgICB2YXIgc2hvdWxkQ2xlYXIgPSAhMSxcbiAgICAgICAgSlNDb21waWxlcl90ZW1wO1xuICAgICAgaWYgKChKU0NvbXBpbGVyX3RlbXAgPSAzICE9PSBmaWJlci50YWcgJiYgMjcgIT09IGZpYmVyLnRhZykpIHtcbiAgICAgICAgaWYgKChKU0NvbXBpbGVyX3RlbXAgPSA1ID09PSBmaWJlci50YWcpKVxuICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPSBmaWJlci50eXBlKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPVxuICAgICAgICAgICAgICAhKFwiZm9ybVwiICE9PSBKU0NvbXBpbGVyX3RlbXAgJiYgXCJidXR0b25cIiAhPT0gSlNDb21waWxlcl90ZW1wKSB8fFxuICAgICAgICAgICAgICBzaG91bGRTZXRUZXh0Q29udGVudChmaWJlci50eXBlLCBmaWJlci5tZW1vaXplZFByb3BzKSk7XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9ICFKU0NvbXBpbGVyX3RlbXA7XG4gICAgICB9XG4gICAgICBKU0NvbXBpbGVyX3RlbXAgJiYgKHNob3VsZENsZWFyID0gITApO1xuICAgICAgaWYgKHNob3VsZENsZWFyICYmIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UpIHtcbiAgICAgICAgZm9yIChzaG91bGRDbGVhciA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7IHNob3VsZENsZWFyOyApIHtcbiAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKGZpYmVyLCAwKTtcbiAgICAgICAgICB2YXIgZGVzY3JpcHRpb24gPVxuICAgICAgICAgICAgZGVzY3JpYmVIeWRyYXRhYmxlSW5zdGFuY2VGb3JEZXZXYXJuaW5ncyhzaG91bGRDbGVhcik7XG4gICAgICAgICAgSlNDb21waWxlcl90ZW1wLnNlcnZlclRhaWwucHVzaChkZXNjcmlwdGlvbik7XG4gICAgICAgICAgc2hvdWxkQ2xlYXIgPVxuICAgICAgICAgICAgXCJTdXNwZW5zZVwiID09PSBkZXNjcmlwdGlvbi50eXBlXG4gICAgICAgICAgICAgID8gZ2V0TmV4dEh5ZHJhdGFibGVJbnN0YW5jZUFmdGVyU3VzcGVuc2VJbnN0YW5jZShzaG91bGRDbGVhcilcbiAgICAgICAgICAgICAgOiBnZXROZXh0SHlkcmF0YWJsZShzaG91bGRDbGVhci5uZXh0U2libGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKGZpYmVyKTtcbiAgICAgIH1cbiAgICAgIHBvcFRvTmV4dEhvc3RQYXJlbnQoZmliZXIpO1xuICAgICAgaWYgKDEzID09PSBmaWJlci50YWcpIHtcbiAgICAgICAgZmliZXIgPSBmaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgICBmaWJlciA9IG51bGwgIT09IGZpYmVyID8gZmliZXIuZGVoeWRyYXRlZCA6IG51bGw7XG4gICAgICAgIGlmICghZmliZXIpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGhhdmUgYSBoeWRyYXRlZCBzdXNwZW5zZSBpbnN0YW5jZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPVxuICAgICAgICAgIGdldE5leHRIeWRyYXRhYmxlSW5zdGFuY2VBZnRlclN1c3BlbnNlSW5zdGFuY2UoZmliZXIpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb25QYXJlbnRGaWJlclxuICAgICAgICAgID8gZ2V0TmV4dEh5ZHJhdGFibGUoZmliZXIuc3RhdGVOb2RlLm5leHRTaWJsaW5nKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRIeWRyYXRpb25TdGF0ZSgpIHtcbiAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBoeWRyYXRpb25QYXJlbnRGaWJlciA9IG51bGw7XG4gICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViA9IGlzSHlkcmF0aW5nID0gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHF1ZXVlSHlkcmF0aW9uRXJyb3IoZXJyb3IpIHtcbiAgICAgIG51bGwgPT09IGh5ZHJhdGlvbkVycm9yc1xuICAgICAgICA/IChoeWRyYXRpb25FcnJvcnMgPSBbZXJyb3JdKVxuICAgICAgICA6IGh5ZHJhdGlvbkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW1pdFBlbmRpbmdIeWRyYXRpb25XYXJuaW5ncygpIHtcbiAgICAgIHZhciBkaWZmUm9vdCA9IGh5ZHJhdGlvbkRpZmZSb290REVWO1xuICAgICAgbnVsbCAhPT0gZGlmZlJvb3QgJiZcbiAgICAgICAgKChoeWRyYXRpb25EaWZmUm9vdERFViA9IG51bGwpLFxuICAgICAgICAoZGlmZlJvb3QgPSBkZXNjcmliZURpZmYoZGlmZlJvb3QpKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkEgdHJlZSBoeWRyYXRlZCBidXQgc29tZSBhdHRyaWJ1dGVzIG9mIHRoZSBzZXJ2ZXIgcmVuZGVyZWQgSFRNTCBkaWRuJ3QgbWF0Y2ggdGhlIGNsaWVudCBwcm9wZXJ0aWVzLiBUaGlzIHdvbid0IGJlIHBhdGNoZWQgdXAuIFRoaXMgY2FuIGhhcHBlbiBpZiBhIFNTUi1lZCBDbGllbnQgQ29tcG9uZW50IHVzZWQ6XFxuXFxuLSBBIHNlcnZlci9jbGllbnQgYnJhbmNoIGBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpYC5cXG4tIFZhcmlhYmxlIGlucHV0IHN1Y2ggYXMgYERhdGUubm93KClgIG9yIGBNYXRoLnJhbmRvbSgpYCB3aGljaCBjaGFuZ2VzIGVhY2ggdGltZSBpdCdzIGNhbGxlZC5cXG4tIERhdGUgZm9ybWF0dGluZyBpbiBhIHVzZXIncyBsb2NhbGUgd2hpY2ggZG9lc24ndCBtYXRjaCB0aGUgc2VydmVyLlxcbi0gRXh0ZXJuYWwgY2hhbmdpbmcgZGF0YSB3aXRob3V0IHNlbmRpbmcgYSBzbmFwc2hvdCBvZiBpdCBhbG9uZyB3aXRoIHRoZSBIVE1MLlxcbi0gSW52YWxpZCBIVE1MIHRhZyBuZXN0aW5nLlxcblxcbkl0IGNhbiBhbHNvIGhhcHBlbiBpZiB0aGUgY2xpZW50IGhhcyBhIGJyb3dzZXIgZXh0ZW5zaW9uIGluc3RhbGxlZCB3aGljaCBtZXNzZXMgd2l0aCB0aGUgSFRNTCBiZWZvcmUgUmVhY3QgbG9hZGVkLlxcblxcbiVzJXNcIixcbiAgICAgICAgICBcImh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaHlkcmF0aW9uLW1pc21hdGNoXCIsXG4gICAgICAgICAgZGlmZlJvb3RcbiAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVRoZW5hYmxlU3RhdGUoKSB7XG4gICAgICByZXR1cm4geyBkaWRXYXJuQWJvdXRVbmNhY2hlZFByb21pc2U6ICExLCB0aGVuYWJsZXM6IFtdIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVGhlbmFibGVSZXNvbHZlZCh0aGVuYWJsZSkge1xuICAgICAgdGhlbmFibGUgPSB0aGVuYWJsZS5zdGF0dXM7XG4gICAgICByZXR1cm4gXCJmdWxmaWxsZWRcIiA9PT0gdGhlbmFibGUgfHwgXCJyZWplY3RlZFwiID09PSB0aGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCQzKCkge31cbiAgICBmdW5jdGlvbiB0cmFja1VzZWRUaGVuYWJsZSh0aGVuYWJsZVN0YXRlLCB0aGVuYWJsZSwgaW5kZXgpIHtcbiAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlICYmXG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5kaWRVc2VQcm9taXNlID0gITApO1xuICAgICAgdmFyIHRyYWNrZWRUaGVuYWJsZXMgPSB0aGVuYWJsZVN0YXRlLnRoZW5hYmxlcztcbiAgICAgIGluZGV4ID0gdHJhY2tlZFRoZW5hYmxlc1tpbmRleF07XG4gICAgICB2b2lkIDAgPT09IGluZGV4XG4gICAgICAgID8gdHJhY2tlZFRoZW5hYmxlcy5wdXNoKHRoZW5hYmxlKVxuICAgICAgICA6IGluZGV4ICE9PSB0aGVuYWJsZSAmJlxuICAgICAgICAgICh0aGVuYWJsZVN0YXRlLmRpZFdhcm5BYm91dFVuY2FjaGVkUHJvbWlzZSB8fFxuICAgICAgICAgICAgKCh0aGVuYWJsZVN0YXRlLmRpZFdhcm5BYm91dFVuY2FjaGVkUHJvbWlzZSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgd2FzIHN1c3BlbmRlZCBieSBhbiB1bmNhY2hlZCBwcm9taXNlLiBDcmVhdGluZyBwcm9taXNlcyBpbnNpZGUgYSBDbGllbnQgQ29tcG9uZW50IG9yIGhvb2sgaXMgbm90IHlldCBzdXBwb3J0ZWQsIGV4Y2VwdCB2aWEgYSBTdXNwZW5zZS1jb21wYXRpYmxlIGxpYnJhcnkgb3IgZnJhbWV3b3JrLlwiXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICB0aGVuYWJsZS50aGVuKG5vb3AkMywgbm9vcCQzKSxcbiAgICAgICAgICAodGhlbmFibGUgPSBpbmRleCkpO1xuICAgICAgc3dpdGNoICh0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgY2FzZSBcImZ1bGZpbGxlZFwiOlxuICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgKCh0aGVuYWJsZVN0YXRlID0gdGhlbmFibGUucmVhc29uKSxcbiAgICAgICAgICAgIGNoZWNrSWZVc2VXcmFwcGVkSW5Bc3luY0NhdGNoKHRoZW5hYmxlU3RhdGUpLFxuICAgICAgICAgICAgdGhlbmFibGVTdGF0ZSlcbiAgICAgICAgICApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdGhlbmFibGUuc3RhdHVzKVxuICAgICAgICAgICAgdGhlbmFibGUudGhlbihub29wJDMsIG5vb3AkMyk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGVuYWJsZVN0YXRlID0gd29ya0luUHJvZ3Jlc3NSb290O1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBudWxsICE9PSB0aGVuYWJsZVN0YXRlICYmXG4gICAgICAgICAgICAgIDEwMCA8IHRoZW5hYmxlU3RhdGUuc2hlbGxTdXNwZW5kQ291bnRlclxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcImFzeW5jL2F3YWl0IGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGluIENsaWVudCBDb21wb25lbnRzLCBvbmx5IFNlcnZlciBDb21wb25lbnRzLiBUaGlzIGVycm9yIGlzIG9mdGVuIGNhdXNlZCBieSBhY2NpZGVudGFsbHkgYWRkaW5nIGAndXNlIGNsaWVudCdgIHRvIGEgbW9kdWxlIHRoYXQgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBmb3IgdGhlIHNlcnZlci5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhlbmFibGVTdGF0ZSA9IHRoZW5hYmxlO1xuICAgICAgICAgICAgdGhlbmFibGVTdGF0ZS5zdGF0dXMgPSBcInBlbmRpbmdcIjtcbiAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUudGhlbihcbiAgICAgICAgICAgICAgZnVuY3Rpb24gKGZ1bGZpbGxlZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwicGVuZGluZ1wiID09PSB0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBmdWxmaWxsZWRUaGVuYWJsZSA9IHRoZW5hYmxlO1xuICAgICAgICAgICAgICAgICAgZnVsZmlsbGVkVGhlbmFibGUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIjtcbiAgICAgICAgICAgICAgICAgIGZ1bGZpbGxlZFRoZW5hYmxlLnZhbHVlID0gZnVsZmlsbGVkVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJwZW5kaW5nXCIgPT09IHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgdmFyIHJlamVjdGVkVGhlbmFibGUgPSB0aGVuYWJsZTtcbiAgICAgICAgICAgICAgICAgIHJlamVjdGVkVGhlbmFibGUuc3RhdHVzID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgICAgICAgICAgcmVqZWN0ZWRUaGVuYWJsZS5yZWFzb24gPSBlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAodGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgICAgIHJldHVybiB0aGVuYWJsZS52YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAgICAgKCh0aGVuYWJsZVN0YXRlID0gdGhlbmFibGUucmVhc29uKSxcbiAgICAgICAgICAgICAgICBjaGVja0lmVXNlV3JhcHBlZEluQXN5bmNDYXRjaCh0aGVuYWJsZVN0YXRlKSxcbiAgICAgICAgICAgICAgICB0aGVuYWJsZVN0YXRlKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdXNwZW5kZWRUaGVuYWJsZSA9IHRoZW5hYmxlO1xuICAgICAgICAgIG5lZWRzVG9SZXNldFN1c3BlbmRlZFRoZW5hYmxlREVWID0gITA7XG4gICAgICAgICAgdGhyb3cgU3VzcGVuc2VFeGNlcHRpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN1c3BlbmRlZFRoZW5hYmxlKCkge1xuICAgICAgaWYgKG51bGwgPT09IHN1c3BlbmRlZFRoZW5hYmxlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIGEgc3VzcGVuZGVkIHRoZW5hYmxlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHRoZW5hYmxlID0gc3VzcGVuZGVkVGhlbmFibGU7XG4gICAgICBzdXNwZW5kZWRUaGVuYWJsZSA9IG51bGw7XG4gICAgICBuZWVkc1RvUmVzZXRTdXNwZW5kZWRUaGVuYWJsZURFViA9ICExO1xuICAgICAgcmV0dXJuIHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0lmVXNlV3JhcHBlZEluQXN5bmNDYXRjaChyZWplY3RlZFJlYXNvbikge1xuICAgICAgaWYgKHJlamVjdGVkUmVhc29uID09PSBTdXNwZW5zZUV4Y2VwdGlvbilcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJIb29rcyBhcmUgbm90IHN1cHBvcnRlZCBpbnNpZGUgYW4gYXN5bmMgY29tcG9uZW50LiBUaGlzIGVycm9yIGlzIG9mdGVuIGNhdXNlZCBieSBhY2NpZGVudGFsbHkgYWRkaW5nIGAndXNlIGNsaWVudCdgIHRvIGEgbW9kdWxlIHRoYXQgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBmb3IgdGhlIHNlcnZlci5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoRGVidWdJbmZvKGRlYnVnSW5mbykge1xuICAgICAgdmFyIHByZXZpb3VzRGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgIG51bGwgIT0gZGVidWdJbmZvICYmXG4gICAgICAgIChjdXJyZW50RGVidWdJbmZvID1cbiAgICAgICAgICBudWxsID09PSBwcmV2aW91c0RlYnVnSW5mb1xuICAgICAgICAgICAgPyBkZWJ1Z0luZm9cbiAgICAgICAgICAgIDogcHJldmlvdXNEZWJ1Z0luZm8uY29uY2F0KGRlYnVnSW5mbykpO1xuICAgICAgcmV0dXJuIHByZXZpb3VzRGVidWdJbmZvO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZWxlbWVudCwgZmliZXIsIHJldHVybkZpYmVyKSB7XG4gICAgICBmb3IgKHZhciBrZXlzID0gT2JqZWN0LmtleXMoZWxlbWVudC5wcm9wcyksIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgaWYgKFwiY2hpbGRyZW5cIiAhPT0ga2V5ICYmIFwia2V5XCIgIT09IGtleSkge1xuICAgICAgICAgIG51bGwgPT09IGZpYmVyICYmXG4gICAgICAgICAgICAoKGZpYmVyID0gY3JlYXRlRmliZXJGcm9tRWxlbWVudChlbGVtZW50LCByZXR1cm5GaWJlci5tb2RlLCAwKSksXG4gICAgICAgICAgICAoZmliZXIuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgKGZpYmVyLnJldHVybiA9IHJldHVybkZpYmVyKSk7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcmVkS2V5KSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJJbnZhbGlkIHByb3AgYCVzYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLiBSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLlwiLFxuICAgICAgICAgICAgICAgIGVycm9yZWRLZXlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBrZXlcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVud3JhcFRoZW5hYmxlKHRoZW5hYmxlKSB7XG4gICAgICB2YXIgaW5kZXggPSB0aGVuYWJsZUluZGV4Q291bnRlciQxO1xuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIkMSArPSAxO1xuICAgICAgbnVsbCA9PT0gdGhlbmFibGVTdGF0ZSQxICYmICh0aGVuYWJsZVN0YXRlJDEgPSBjcmVhdGVUaGVuYWJsZVN0YXRlKCkpO1xuICAgICAgcmV0dXJuIHRyYWNrVXNlZFRoZW5hYmxlKHRoZW5hYmxlU3RhdGUkMSwgdGhlbmFibGUsIGluZGV4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29lcmNlUmVmKHdvcmtJblByb2dyZXNzLCBlbGVtZW50KSB7XG4gICAgICBlbGVtZW50ID0gZWxlbWVudC5wcm9wcy5yZWY7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5yZWYgPSB2b2lkIDAgIT09IGVsZW1lbnQgPyBlbGVtZW50IDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCkge1xuICAgICAgaWYgKG5ld0NoaWxkLiQkdHlwZW9mID09PSBSRUFDVF9MRUdBQ1lfRUxFTUVOVF9UWVBFKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAnQSBSZWFjdCBFbGVtZW50IGZyb20gYW4gb2xkZXIgdmVyc2lvbiBvZiBSZWFjdCB3YXMgcmVuZGVyZWQuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC4gSXQgY2FuIGhhcHBlbiBpZjpcXG4tIE11bHRpcGxlIGNvcGllcyBvZiB0aGUgXCJyZWFjdFwiIHBhY2thZ2UgaXMgdXNlZC5cXG4tIEEgbGlicmFyeSBwcmUtYnVuZGxlZCBhbiBvbGQgY29weSBvZiBcInJlYWN0XCIgb3IgXCJyZWFjdC9qc3gtcnVudGltZVwiLlxcbi0gQSBjb21waWxlciB0cmllcyB0byBcImlubGluZVwiIEpTWCBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBydW50aW1lLidcbiAgICAgICAgKTtcbiAgICAgIHJldHVybkZpYmVyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0NoaWxkKTtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogXCIgK1xuICAgICAgICAgIChcIltvYmplY3QgT2JqZWN0XVwiID09PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgPyBcIm9iamVjdCB3aXRoIGtleXMge1wiICsgT2JqZWN0LmtleXMobmV3Q2hpbGQpLmpvaW4oXCIsIFwiKSArIFwifVwiXG4gICAgICAgICAgICA6IHJldHVybkZpYmVyKSArXG4gICAgICAgICAgXCIpLiBJZiB5b3UgbWVhbnQgdG8gcmVuZGVyIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiwgdXNlIGFuIGFycmF5IGluc3RlYWQuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5PbkZ1bmN0aW9uVHlwZShyZXR1cm5GaWJlciwgaW52YWxpZENoaWxkKSB7XG4gICAgICB2YXIgcGFyZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIocmV0dXJuRmliZXIpIHx8IFwiQ29tcG9uZW50XCI7XG4gICAgICBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmdbcGFyZW50TmFtZV0gfHxcbiAgICAgICAgKChvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmdbcGFyZW50TmFtZV0gPSAhMCksXG4gICAgICAgIChpbnZhbGlkQ2hpbGQgPVxuICAgICAgICAgIGludmFsaWRDaGlsZC5kaXNwbGF5TmFtZSB8fCBpbnZhbGlkQ2hpbGQubmFtZSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgMyA9PT0gcmV0dXJuRmliZXIudGFnXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkZ1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiB5b3UgcmV0dXJuICVzIGluc3RlYWQgb2YgPCVzIC8+IGZyb20gcmVuZGVyLiBPciBtYXliZSB5b3UgbWVhbnQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHJldHVybiBpdC5cXG4gIHJvb3QucmVuZGVyKCVzKVwiLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZCxcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkZ1bmN0aW9ucyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuIFRoaXMgbWF5IGhhcHBlbiBpZiB5b3UgcmV0dXJuICVzIGluc3RlYWQgb2YgPCVzIC8+IGZyb20gcmVuZGVyLiBPciBtYXliZSB5b3UgbWVhbnQgdG8gY2FsbCB0aGlzIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHJldHVybiBpdC5cXG4gIDwlcz57JXN9PC8lcz5cIixcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIHBhcmVudE5hbWUsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZCxcbiAgICAgICAgICAgICAgcGFyZW50TmFtZVxuICAgICAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5PblN5bWJvbFR5cGUocmV0dXJuRmliZXIsIGludmFsaWRDaGlsZCkge1xuICAgICAgdmFyIHBhcmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHJldHVybkZpYmVyKSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgb3duZXJIYXNTeW1ib2xUeXBlV2FybmluZ1twYXJlbnROYW1lXSB8fFxuICAgICAgICAoKG93bmVySGFzU3ltYm9sVHlwZVdhcm5pbmdbcGFyZW50TmFtZV0gPSAhMCksXG4gICAgICAgIChpbnZhbGlkQ2hpbGQgPSBTdHJpbmcoaW52YWxpZENoaWxkKSksXG4gICAgICAgIDMgPT09IHJldHVybkZpYmVyLnRhZ1xuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJTeW1ib2xzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZC5cXG4gIHJvb3QucmVuZGVyKCVzKVwiLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGRcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiU3ltYm9scyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQuXFxuICA8JXM+JXM8LyVzPlwiLFxuICAgICAgICAgICAgICBwYXJlbnROYW1lLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIHBhcmVudE5hbWVcbiAgICAgICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDaGlsZFJlY29uY2lsZXIoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgZnVuY3Rpb24gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkVG9EZWxldGUpIHtcbiAgICAgICAgaWYgKHNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHtcbiAgICAgICAgICB2YXIgZGVsZXRpb25zID0gcmV0dXJuRmliZXIuZGVsZXRpb25zO1xuICAgICAgICAgIG51bGwgPT09IGRlbGV0aW9uc1xuICAgICAgICAgICAgPyAoKHJldHVybkZpYmVyLmRlbGV0aW9ucyA9IFtjaGlsZFRvRGVsZXRlXSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlci5mbGFncyB8PSAxNikpXG4gICAgICAgICAgICA6IGRlbGV0aW9ucy5wdXNoKGNoaWxkVG9EZWxldGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpIHtcbiAgICAgICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKSByZXR1cm4gbnVsbDtcbiAgICAgICAgZm9yICg7IG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkOyApXG4gICAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKSxcbiAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmcpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIG1hcFJlbWFpbmluZ0NoaWxkcmVuKGN1cnJlbnRGaXJzdENoaWxkKSB7XG4gICAgICAgIGZvciAodmFyIGV4aXN0aW5nQ2hpbGRyZW4gPSBuZXcgTWFwKCk7IG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkOyApXG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQua2V5XG4gICAgICAgICAgICA/IGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGN1cnJlbnRGaXJzdENoaWxkLmtleSwgY3VycmVudEZpcnN0Q2hpbGQpXG4gICAgICAgICAgICA6IGV4aXN0aW5nQ2hpbGRyZW4uc2V0KGN1cnJlbnRGaXJzdENoaWxkLmluZGV4LCBjdXJyZW50Rmlyc3RDaGlsZCksXG4gICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGRyZW47XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1c2VGaWJlcihmaWJlciwgcGVuZGluZ1Byb3BzKSB7XG4gICAgICAgIGZpYmVyID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoZmliZXIsIHBlbmRpbmdQcm9wcyk7XG4gICAgICAgIGZpYmVyLmluZGV4ID0gMDtcbiAgICAgICAgZmliZXIuc2libGluZyA9IG51bGw7XG4gICAgICAgIHJldHVybiBmaWJlcjtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHBsYWNlQ2hpbGQobmV3RmliZXIsIGxhc3RQbGFjZWRJbmRleCwgbmV3SW5kZXgpIHtcbiAgICAgICAgbmV3RmliZXIuaW5kZXggPSBuZXdJbmRleDtcbiAgICAgICAgaWYgKCFzaG91bGRUcmFja1NpZGVFZmZlY3RzKVxuICAgICAgICAgIHJldHVybiAobmV3RmliZXIuZmxhZ3MgfD0gMTA0ODU3NiksIGxhc3RQbGFjZWRJbmRleDtcbiAgICAgICAgbmV3SW5kZXggPSBuZXdGaWJlci5hbHRlcm5hdGU7XG4gICAgICAgIGlmIChudWxsICE9PSBuZXdJbmRleClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKG5ld0luZGV4ID0gbmV3SW5kZXguaW5kZXgpLFxuICAgICAgICAgICAgbmV3SW5kZXggPCBsYXN0UGxhY2VkSW5kZXhcbiAgICAgICAgICAgICAgPyAoKG5ld0ZpYmVyLmZsYWdzIHw9IDMzNTU0NDM0KSwgbGFzdFBsYWNlZEluZGV4KVxuICAgICAgICAgICAgICA6IG5ld0luZGV4XG4gICAgICAgICAgKTtcbiAgICAgICAgbmV3RmliZXIuZmxhZ3MgfD0gMzM1NTQ0MzQ7XG4gICAgICAgIHJldHVybiBsYXN0UGxhY2VkSW5kZXg7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBwbGFjZVNpbmdsZUNoaWxkKG5ld0ZpYmVyKSB7XG4gICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICBudWxsID09PSBuZXdGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAobmV3RmliZXIuZmxhZ3MgfD0gMzM1NTQ0MzQpO1xuICAgICAgICByZXR1cm4gbmV3RmliZXI7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVUZXh0Tm9kZShyZXR1cm5GaWJlciwgY3VycmVudCwgdGV4dENvbnRlbnQsIGxhbmVzKSB7XG4gICAgICAgIGlmIChudWxsID09PSBjdXJyZW50IHx8IDYgIT09IGN1cnJlbnQudGFnKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IGNyZWF0ZUZpYmVyRnJvbVRleHQoXG4gICAgICAgICAgICAgIHRleHRDb250ZW50LFxuICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAoY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50ID0gdXNlRmliZXIoY3VycmVudCwgdGV4dENvbnRlbnQpO1xuICAgICAgICBjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICBjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUVsZW1lbnQocmV0dXJuRmliZXIsIGN1cnJlbnQsIGVsZW1lbnQsIGxhbmVzKSB7XG4gICAgICAgIHZhciBlbGVtZW50VHlwZSA9IGVsZW1lbnQudHlwZTtcbiAgICAgICAgaWYgKGVsZW1lbnRUeXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IHVwZGF0ZUZyYWdtZW50KFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgZWxlbWVudC5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgIGVsZW1lbnQua2V5XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50LCBjdXJyZW50LCByZXR1cm5GaWJlciksXG4gICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAoY3VycmVudC5lbGVtZW50VHlwZSA9PT0gZWxlbWVudFR5cGUgfHxcbiAgICAgICAgICAgIGlzQ29tcGF0aWJsZUZhbWlseUZvckhvdFJlbG9hZGluZyhjdXJyZW50LCBlbGVtZW50KSB8fFxuICAgICAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBlbGVtZW50VHlwZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBlbGVtZW50VHlwZSAmJlxuICAgICAgICAgICAgICBlbGVtZW50VHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgIGNhbGxMYXp5SW5pdEluREVWKGVsZW1lbnRUeXBlKSA9PT0gY3VycmVudC50eXBlKSlcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IHVzZUZpYmVyKGN1cnJlbnQsIGVsZW1lbnQucHJvcHMpKSxcbiAgICAgICAgICAgIGNvZXJjZVJlZihjdXJyZW50LCBlbGVtZW50KSxcbiAgICAgICAgICAgIChjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z093bmVyID0gZWxlbWVudC5fb3duZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIHJldHVybkZpYmVyLm1vZGUsIGxhbmVzKTtcbiAgICAgICAgY29lcmNlUmVmKGN1cnJlbnQsIGVsZW1lbnQpO1xuICAgICAgICBjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICBjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVBvcnRhbChyZXR1cm5GaWJlciwgY3VycmVudCwgcG9ydGFsLCBsYW5lcykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgIDQgIT09IGN1cnJlbnQudGFnIHx8XG4gICAgICAgICAgY3VycmVudC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyAhPT0gcG9ydGFsLmNvbnRhaW5lckluZm8gfHxcbiAgICAgICAgICBjdXJyZW50LnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiAhPT0gcG9ydGFsLmltcGxlbWVudGF0aW9uXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwocG9ydGFsLCByZXR1cm5GaWJlci5tb2RlLCBsYW5lcykpLFxuICAgICAgICAgICAgKGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQgPSB1c2VGaWJlcihjdXJyZW50LCBwb3J0YWwuY2hpbGRyZW4gfHwgW10pO1xuICAgICAgICBjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICBjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZyYWdtZW50KHJldHVybkZpYmVyLCBjdXJyZW50LCBmcmFnbWVudCwgbGFuZXMsIGtleSkge1xuICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCB8fCA3ICE9PSBjdXJyZW50LnRhZylcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgZnJhZ21lbnQsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudCA9IHVzZUZpYmVyKGN1cnJlbnQsIGZyYWdtZW50KTtcbiAgICAgICAgY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGQsIGxhbmVzKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIFwiXCIgIT09IG5ld0NoaWxkKSB8fFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBuZXdDaGlsZCB8fFxuICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBuZXdDaGlsZFxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChuZXdDaGlsZCA9IGNyZWF0ZUZpYmVyRnJvbVRleHQoXG4gICAgICAgICAgICAgIFwiXCIgKyBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKG5ld0NoaWxkLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChuZXdDaGlsZC5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChuZXdDaGlsZC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICBuZXdDaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgbnVsbCAhPT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAobGFuZXMgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBjb2VyY2VSZWYobGFuZXMsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKG5ld0NoaWxkID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKFxuICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAobmV3Q2hpbGQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChuZXdDaGlsZC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICB2YXIgX3ByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pO1xuICAgICAgICAgICAgICBuZXdDaGlsZCA9IGNhbGxMYXp5SW5pdEluREVWKG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBjcmVhdGVDaGlsZChyZXR1cm5GaWJlciwgbmV3Q2hpbGQsIGxhbmVzKTtcbiAgICAgICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IF9wcmV2RGVidWdJbmZvO1xuICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAobGFuZXMgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgIChsYW5lcy5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQudGhlbilcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChfcHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBjcmVhdGVDaGlsZChcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICB1bndyYXBUaGVuYWJsZShuZXdDaGlsZCksXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gX3ByZXZEZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3Q2hpbGQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVDaGlsZChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHJlYWRDb250ZXh0RHVyaW5nUmVjb25jaWxpYXRpb24ocmV0dXJuRmliZXIsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiZcbiAgICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIHdhcm5PblN5bWJvbFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgbmV3Q2hpbGQsIGxhbmVzKSB7XG4gICAgICAgIHZhciBrZXkgPSBudWxsICE9PSBvbGRGaWJlciA/IG9sZEZpYmVyLmtleSA6IG51bGw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIFwiXCIgIT09IG5ld0NoaWxkKSB8fFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBuZXdDaGlsZCB8fFxuICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBuZXdDaGlsZFxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIG51bGwgIT09IGtleVxuICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICA6IHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBvbGRGaWJlciwgXCJcIiArIG5ld0NoaWxkLCBsYW5lcyk7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgbnVsbCAhPT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld0NoaWxkLmtleSA9PT0ga2V5XG4gICAgICAgICAgICAgICAgPyAoKGtleSA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBrZXkpLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIpXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIG5ld0NoaWxkLmtleSA9PT0ga2V5XG4gICAgICAgICAgICAgICAgPyB1cGRhdGVQb3J0YWwocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgbGFuZXMpXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKGtleSA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgIChuZXdDaGlsZCA9IGNhbGxMYXp5SW5pdEluREVWKG5ld0NoaWxkKSksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlU2xvdChcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBrZXkpLFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChuZXdDaGlsZCkgfHwgZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBrZXkpIHJldHVybiBudWxsO1xuICAgICAgICAgICAga2V5ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgIHJldHVybkZpYmVyID0gdXBkYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IGtleTtcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5GaWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkLnRoZW4pXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoa2V5ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZVNsb3QoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgdW53cmFwVGhlbmFibGUobmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IGtleSksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXdDaGlsZC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFKVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVNsb3QoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgcmVhZENvbnRleHREdXJpbmdSZWNvbmNpbGlhdGlvbihyZXR1cm5GaWJlciwgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJlxuICAgICAgICAgIHdhcm5PbkZ1bmN0aW9uVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgd2Fybk9uU3ltYm9sVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZUZyb21NYXAoXG4gICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBuZXdJZHgsXG4gICAgICAgIG5ld0NoaWxkLFxuICAgICAgICBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIFwiXCIgIT09IG5ld0NoaWxkKSB8fFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBuZXdDaGlsZCB8fFxuICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBuZXdDaGlsZFxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChleGlzdGluZ0NoaWxkcmVuID0gZXhpc3RpbmdDaGlsZHJlbi5nZXQobmV3SWR4KSB8fCBudWxsKSxcbiAgICAgICAgICAgIHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBleGlzdGluZ0NoaWxkcmVuLCBcIlwiICsgbmV3Q2hpbGQsIGxhbmVzKVxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgbnVsbCAhPT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAobmV3SWR4ID1cbiAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KFxuICAgICAgICAgICAgICAgICAgICBudWxsID09PSBuZXdDaGlsZC5rZXkgPyBuZXdJZHggOiBuZXdDaGlsZC5rZXlcbiAgICAgICAgICAgICAgICAgICkgfHwgbnVsbCksXG4gICAgICAgICAgICAgICAgKGV4aXN0aW5nQ2hpbGRyZW4gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBleGlzdGluZ0NoaWxkcmVuKSxcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAoZXhpc3RpbmdDaGlsZHJlbiA9XG4gICAgICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLmdldChcbiAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV3Q2hpbGQua2V5ID8gbmV3SWR4IDogbmV3Q2hpbGQua2V5XG4gICAgICAgICAgICAgICAgICApIHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZVBvcnRhbChyZXR1cm5GaWJlciwgZXhpc3RpbmdDaGlsZHJlbiwgbmV3Q2hpbGQsIGxhbmVzKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgIHZhciBfcHJldkRlYnVnSW5mbzcgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pO1xuICAgICAgICAgICAgICBuZXdDaGlsZCA9IGNhbGxMYXp5SW5pdEluREVWKG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBfcHJldkRlYnVnSW5mbzc7XG4gICAgICAgICAgICAgIHJldHVybiByZXR1cm5GaWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5ld0NoaWxkKSB8fCBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSlcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChuZXdJZHggPSBleGlzdGluZ0NoaWxkcmVuLmdldChuZXdJZHgpIHx8IG51bGwpLFxuICAgICAgICAgICAgICAoZXhpc3RpbmdDaGlsZHJlbiA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVGcmFnbWVudChcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBleGlzdGluZ0NoaWxkcmVuKSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkLnRoZW4pXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoX3ByZXZEZWJ1Z0luZm83ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZUZyb21NYXAoXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlbixcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICAgICAgdW53cmFwVGhlbmFibGUobmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IF9wcmV2RGVidWdJbmZvNyksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXdDaGlsZC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFKVxuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUZyb21NYXAoXG4gICAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICAgIHJlYWRDb250ZXh0RHVyaW5nUmVjb25jaWxpYXRpb24ocmV0dXJuRmliZXIsIG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdGhyb3dPbkludmFsaWRPYmplY3RUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiZcbiAgICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIHdhcm5PblN5bWJvbFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiB3YXJuT25JbnZhbGlkS2V5KHJldHVybkZpYmVyLCB3b3JrSW5Qcm9ncmVzcywgY2hpbGQsIGtub3duS2V5cykge1xuICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdHlwZW9mIGNoaWxkIHx8IG51bGwgPT09IGNoaWxkKSByZXR1cm4ga25vd25LZXlzO1xuICAgICAgICBzd2l0Y2ggKGNoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgIHdhcm5Gb3JNaXNzaW5nS2V5KHJldHVybkZpYmVyLCB3b3JrSW5Qcm9ncmVzcywgY2hpbGQpO1xuICAgICAgICAgICAgdmFyIGtleSA9IGNoaWxkLmtleTtcbiAgICAgICAgICAgIGlmIChcInN0cmluZ1wiICE9PSB0eXBlb2Yga2V5KSBicmVhaztcbiAgICAgICAgICAgIGlmIChudWxsID09PSBrbm93bktleXMpIHtcbiAgICAgICAgICAgICAga25vd25LZXlzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICBrbm93bktleXMuYWRkKGtleSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFrbm93bktleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAga25vd25LZXlzLmFkZChrZXkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKHdvcmtJblByb2dyZXNzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJFbmNvdW50ZXJlZCB0d28gY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSBrZXksIGAlc2AuIEtleXMgc2hvdWxkIGJlIHVuaXF1ZSBzbyB0aGF0IGNvbXBvbmVudHMgbWFpbnRhaW4gdGhlaXIgaWRlbnRpdHkgYWNyb3NzIHVwZGF0ZXMuIE5vbi11bmlxdWUga2V5cyBtYXkgY2F1c2UgY2hpbGRyZW4gdG8gYmUgZHVwbGljYXRlZCBhbmQvb3Igb21pdHRlZCBcXHUyMDE0IHRoZSBiZWhhdmlvciBpcyB1bnN1cHBvcnRlZCBhbmQgY291bGQgY2hhbmdlIGluIGEgZnV0dXJlIHZlcnNpb24uXCIsXG4gICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgKGNoaWxkID0gY2FsbExhenlJbml0SW5ERVYoY2hpbGQpKSxcbiAgICAgICAgICAgICAgd2Fybk9uSW52YWxpZEtleShyZXR1cm5GaWJlciwgd29ya0luUHJvZ3Jlc3MsIGNoaWxkLCBrbm93bktleXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrbm93bktleXM7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZHJlbkFycmF5KFxuICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgIG5ld0NoaWxkcmVuLFxuICAgICAgICBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGtub3duS2V5cyA9IG51bGwsXG4gICAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkID0gbnVsbCxcbiAgICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBudWxsLFxuICAgICAgICAgICAgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5ld0lkeCA9IChjdXJyZW50Rmlyc3RDaGlsZCA9IDApLFxuICAgICAgICAgICAgbmV4dE9sZEZpYmVyID0gbnVsbDtcbiAgICAgICAgICBudWxsICE9PSBvbGRGaWJlciAmJiBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgbmV3SWR4KytcbiAgICAgICAgKSB7XG4gICAgICAgICAgb2xkRmliZXIuaW5kZXggPiBuZXdJZHhcbiAgICAgICAgICAgID8gKChuZXh0T2xkRmliZXIgPSBvbGRGaWJlciksIChvbGRGaWJlciA9IG51bGwpKVxuICAgICAgICAgICAgOiAobmV4dE9sZEZpYmVyID0gb2xkRmliZXIuc2libGluZyk7XG4gICAgICAgICAgdmFyIG5ld0ZpYmVyID0gdXBkYXRlU2xvdChcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChudWxsID09PSBuZXdGaWJlcikge1xuICAgICAgICAgICAgbnVsbCA9PT0gb2xkRmliZXIgJiYgKG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBuZXdGaWJlcixcbiAgICAgICAgICAgIG5ld0NoaWxkcmVuW25ld0lkeF0sXG4gICAgICAgICAgICBrbm93bktleXNcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICAgIG9sZEZpYmVyICYmXG4gICAgICAgICAgICBudWxsID09PSBuZXdGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQgPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3SWR4KTtcbiAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gbmV3RmliZXIpXG4gICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBuZXdGaWJlcik7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IG5ld0ZpYmVyO1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXdJZHggPT09IG5ld0NoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIG9sZEZpYmVyKSxcbiAgICAgICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KSxcbiAgICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBpZiAobnVsbCA9PT0gb2xkRmliZXIpIHtcbiAgICAgICAgICBmb3IgKDsgbmV3SWR4IDwgbmV3Q2hpbGRyZW4ubGVuZ3RoOyBuZXdJZHgrKylcbiAgICAgICAgICAgIChvbGRGaWJlciA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBuZXdDaGlsZHJlbltuZXdJZHhdLCBsYW5lcykpLFxuICAgICAgICAgICAgICBudWxsICE9PSBvbGRGaWJlciAmJlxuICAgICAgICAgICAgICAgICgoa25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBuZXdJZHhcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gb2xkRmliZXIpXG4gICAgICAgICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBvbGRGaWJlciksXG4gICAgICAgICAgICAgICAgKHByZXZpb3VzTmV3RmliZXIgPSBvbGRGaWJlcikpO1xuICAgICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIG9sZEZpYmVyID0gbWFwUmVtYWluaW5nQ2hpbGRyZW4ob2xkRmliZXIpO1xuICAgICAgICAgIG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICBuZXdJZHgrK1xuICAgICAgICApXG4gICAgICAgICAgKG5leHRPbGRGaWJlciA9IHVwZGF0ZUZyb21NYXAoXG4gICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgKSksXG4gICAgICAgICAgICBudWxsICE9PSBuZXh0T2xkRmliZXIgJiZcbiAgICAgICAgICAgICAgKChrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG5leHRPbGRGaWJlcixcbiAgICAgICAgICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT09IG5leHRPbGRGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgICBvbGRGaWJlci5kZWxldGUoXG4gICAgICAgICAgICAgICAgICBudWxsID09PSBuZXh0T2xkRmliZXIua2V5ID8gbmV3SWR4IDogbmV4dE9sZEZpYmVyLmtleVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQoXG4gICAgICAgICAgICAgICAgbmV4dE9sZEZpYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgIG5ld0lkeFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgICAgID8gKHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXh0T2xkRmliZXIpXG4gICAgICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV4dE9sZEZpYmVyKSxcbiAgICAgICAgICAgICAgKHByZXZpb3VzTmV3RmliZXIgPSBuZXh0T2xkRmliZXIpKTtcbiAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgIG9sZEZpYmVyLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgaXNIeWRyYXRpbmcgJiYgcHVzaFRyZWVGb3JrKHJldHVybkZpYmVyLCBuZXdJZHgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuSXRlcmF0b3IoXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgbmV3Q2hpbGRyZW4sXG4gICAgICAgIGxhbmVzXG4gICAgICApIHtcbiAgICAgICAgaWYgKG51bGwgPT0gbmV3Q2hpbGRyZW4pXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJBbiBpdGVyYWJsZSBvYmplY3QgcHJvdmlkZWQgbm8gaXRlcmF0b3IuXCIpO1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciByZXN1bHRpbmdGaXJzdENoaWxkID0gbnVsbCxcbiAgICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBudWxsLFxuICAgICAgICAgICAgb2xkRmliZXIgPSBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgIG5ld0lkeCA9IChjdXJyZW50Rmlyc3RDaGlsZCA9IDApLFxuICAgICAgICAgICAgbmV4dE9sZEZpYmVyID0gbnVsbCxcbiAgICAgICAgICAgIGtub3duS2V5cyA9IG51bGwsXG4gICAgICAgICAgICBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpO1xuICAgICAgICAgIG51bGwgIT09IG9sZEZpYmVyICYmICFzdGVwLmRvbmU7XG4gICAgICAgICAgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KClcbiAgICAgICAgKSB7XG4gICAgICAgICAgb2xkRmliZXIuaW5kZXggPiBuZXdJZHhcbiAgICAgICAgICAgID8gKChuZXh0T2xkRmliZXIgPSBvbGRGaWJlciksIChvbGRGaWJlciA9IG51bGwpKVxuICAgICAgICAgICAgOiAobmV4dE9sZEZpYmVyID0gb2xkRmliZXIuc2libGluZyk7XG4gICAgICAgICAgdmFyIG5ld0ZpYmVyID0gdXBkYXRlU2xvdChyZXR1cm5GaWJlciwgb2xkRmliZXIsIHN0ZXAudmFsdWUsIGxhbmVzKTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gbmV3RmliZXIpIHtcbiAgICAgICAgICAgIG51bGwgPT09IG9sZEZpYmVyICYmIChvbGRGaWJlciA9IG5leHRPbGRGaWJlcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAga25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgbmV3RmliZXIsXG4gICAgICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgICBvbGRGaWJlciAmJlxuICAgICAgICAgICAgbnVsbCA9PT0gbmV3RmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgb2xkRmliZXIpO1xuICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChuZXdGaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0lkeCk7XG4gICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5ld0ZpYmVyKVxuICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV3RmliZXIpO1xuICAgICAgICAgIHByZXZpb3VzTmV3RmliZXIgPSBuZXdGaWJlcjtcbiAgICAgICAgICBvbGRGaWJlciA9IG5leHRPbGRGaWJlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RlcC5kb25lKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgb2xkRmliZXIpLFxuICAgICAgICAgICAgaXNIeWRyYXRpbmcgJiYgcHVzaFRyZWVGb3JrKHJldHVybkZpYmVyLCBuZXdJZHgpLFxuICAgICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChudWxsID09PSBvbGRGaWJlcikge1xuICAgICAgICAgIGZvciAoOyAhc3RlcC5kb25lOyBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKSlcbiAgICAgICAgICAgIChvbGRGaWJlciA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBzdGVwLnZhbHVlLCBsYW5lcykpLFxuICAgICAgICAgICAgICBudWxsICE9PSBvbGRGaWJlciAmJlxuICAgICAgICAgICAgICAgICgoa25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChcbiAgICAgICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBuZXdJZHhcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gb2xkRmliZXIpXG4gICAgICAgICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBvbGRGaWJlciksXG4gICAgICAgICAgICAgICAgKHByZXZpb3VzTmV3RmliZXIgPSBvbGRGaWJlcikpO1xuICAgICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIG9sZEZpYmVyID0gbWFwUmVtYWluaW5nQ2hpbGRyZW4ob2xkRmliZXIpO1xuICAgICAgICAgICFzdGVwLmRvbmU7XG4gICAgICAgICAgbmV3SWR4KyssIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KClcbiAgICAgICAgKVxuICAgICAgICAgIChuZXh0T2xkRmliZXIgPSB1cGRhdGVGcm9tTWFwKFxuICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgIHN0ZXAudmFsdWUsXG4gICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICkpLFxuICAgICAgICAgICAgbnVsbCAhPT0gbmV4dE9sZEZpYmVyICYmXG4gICAgICAgICAgICAgICgoa25vd25LZXlzID0gd2Fybk9uSW52YWxpZEtleShcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBuZXh0T2xkRmliZXIsXG4gICAgICAgICAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgICAgICAgICBrbm93bktleXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0T2xkRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgb2xkRmliZXIuZGVsZXRlKFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV4dE9sZEZpYmVyLmtleSA/IG5ld0lkeCA6IG5leHRPbGRGaWJlci5rZXlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBwbGFjZUNoaWxkKFxuICAgICAgICAgICAgICAgIG5leHRPbGRGaWJlcixcbiAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICBuZXdJZHhcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzTmV3RmliZXJcbiAgICAgICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gbmV4dE9sZEZpYmVyKVxuICAgICAgICAgICAgICAgIDogKHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5leHRPbGRGaWJlciksXG4gICAgICAgICAgICAgIChwcmV2aW91c05ld0ZpYmVyID0gbmV4dE9sZEZpYmVyKSk7XG4gICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICBvbGRGaWJlci5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjaGlsZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIGlzSHlkcmF0aW5nICYmIHB1c2hUcmVlRm9yayhyZXR1cm5GaWJlciwgbmV3SWR4KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdGluZ0ZpcnN0Q2hpbGQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgIGxhbmVzXG4gICAgICApIHtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmXG4gICAgICAgICAgbnVsbCAhPT0gbmV3Q2hpbGQgJiZcbiAgICAgICAgICBuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFICYmXG4gICAgICAgICAgbnVsbCA9PT0gbmV3Q2hpbGQua2V5ICYmXG4gICAgICAgICAgKHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhuZXdDaGlsZCwgbnVsbCwgcmV0dXJuRmliZXIpLFxuICAgICAgICAgIChuZXdDaGlsZCA9IG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuKSk7XG4gICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgbnVsbCAhPT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICBzd2l0Y2ggKG5ld0NoaWxkLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICAgICAgdmFyIHByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pO1xuICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5ID0gbmV3Q2hpbGQua2V5OyBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZDsgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY3VycmVudEZpcnN0Q2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAga2V5ID0gbmV3Q2hpbGQudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICg3ID09PSBjdXJyZW50Rmlyc3RDaGlsZC50YWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc2libGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVzID0gdXNlRmliZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlblxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZXMuX2RlYnVnT3duZXIgPSBuZXdDaGlsZC5fb3duZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhuZXdDaGlsZCwgbGFuZXMsIHJldHVybkZpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyID0gbGFuZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5lbGVtZW50VHlwZSA9PT0ga2V5IHx8XG4gICAgICAgICAgICAgICAgICAgICAgaXNDb21wYXRpYmxlRmFtaWx5Rm9ySG90UmVsb2FkaW5nKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZFxuICAgICAgICAgICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIGtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0ga2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXkuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbExhenlJbml0SW5ERVYoa2V5KSA9PT0gY3VycmVudEZpcnN0Q2hpbGQudHlwZSlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzID0gdXNlRmliZXIoY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLnByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb2VyY2VSZWYobGFuZXMsIG5ld0NoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5fZGVidWdPd25lciA9IG5ld0NoaWxkLl9vd25lcjtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGxhbmVzO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQuc2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQudHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRVxuICAgICAgICAgICAgICAgICAgPyAoKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZC5rZXlcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgIChsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVGcmFnbWVudFByb3BzKG5ld0NoaWxkLCBsYW5lcywgcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBsYW5lcykpXG4gICAgICAgICAgICAgICAgICA6ICgobGFuZXMgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgIGNvZXJjZVJlZihsYW5lcywgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBsYW5lcykpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybkZpYmVyID0gcGxhY2VTaW5nbGVDaGlsZChyZXR1cm5GaWJlcik7XG4gICAgICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvO1xuICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mbyA9IG5ld0NoaWxkO1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCA9IHByZXZEZWJ1Z0luZm8ua2V5O1xuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQ7XG5cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Rmlyc3RDaGlsZC5rZXkgPT09IG5ld0NoaWxkKVxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgNCA9PT0gY3VycmVudEZpcnN0Q2hpbGQudGFnICYmXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm8gPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLmNvbnRhaW5lckluZm8gJiZcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zdGF0ZU5vZGUuaW1wbGVtZW50YXRpb24gPT09XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLmltcGxlbWVudGF0aW9uXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcyA9IHVzZUZpYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvLmNoaWxkcmVuIHx8IFtdXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGxhbmVzO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZWxzZSBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChcbiAgICAgICAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8sXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyID0gbGFuZXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHBsYWNlU2luZ2xlQ2hpbGQocmV0dXJuRmliZXIpO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAobmV3Q2hpbGQgPSBjYWxsTGF6eUluaXRJbkRFVihuZXdDaGlsZCkpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlY29uY2lsZUNoaWxkRmliZXJzSW1wbChcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwobmV3Q2hpbGQpKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcmVjb25jaWxlQ2hpbGRyZW5BcnJheShcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKSB7XG4gICAgICAgICAgICBwcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKTtcbiAgICAgICAgICAgIGtleSA9IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpO1xuICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGtleSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJBbiBvYmplY3QgaXMgbm90IGFuIGl0ZXJhYmxlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2YXIgbmV3Q2hpbGRyZW4gPSBrZXkuY2FsbChuZXdDaGlsZCk7XG4gICAgICAgICAgICBpZiAobmV3Q2hpbGRyZW4gPT09IG5ld0NoaWxkKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAwICE9PSByZXR1cm5GaWJlci50YWcgfHxcbiAgICAgICAgICAgICAgICBcIltvYmplY3QgR2VuZXJhdG9yRnVuY3Rpb25dXCIgIT09XG4gICAgICAgICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocmV0dXJuRmliZXIudHlwZSkgfHxcbiAgICAgICAgICAgICAgICBcIltvYmplY3QgR2VuZXJhdG9yXVwiICE9PVxuICAgICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0NoaWxkcmVuKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgZGlkV2FybkFib3V0R2VuZXJhdG9ycyB8fFxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJVc2luZyBJdGVyYXRvcnMgYXMgY2hpbGRyZW4gaXMgdW5zdXBwb3J0ZWQgYW5kIHdpbGwgbGlrZWx5IHlpZWxkIHVuZXhwZWN0ZWQgcmVzdWx0cyBiZWNhdXNlIGVudW1lcmF0aW5nIGEgZ2VuZXJhdG9yIG11dGF0ZXMgaXQuIFlvdSBtYXkgY29udmVydCBpdCB0byBhbiBhcnJheSB3aXRoIGBBcnJheS5mcm9tKClgIG9yIHRoZSBgWy4uLnNwcmVhZF1gIG9wZXJhdG9yIGJlZm9yZSByZW5kZXJpbmcuIFlvdSBjYW4gYWxzbyB1c2UgYW4gSXRlcmFibGUgdGhhdCBjYW4gaXRlcmF0ZSBtdWx0aXBsZSB0aW1lcyBvdmVyIHRoZSBzYW1lIGl0ZW1zLlwiXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgKGRpZFdhcm5BYm91dEdlbmVyYXRvcnMgPSAhMCk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgbmV3Q2hpbGQuZW50cmllcyAhPT0ga2V5IHx8XG4gICAgICAgICAgICAgICAgZGlkV2FybkFib3V0TWFwcyB8fFxuICAgICAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJVc2luZyBNYXBzIGFzIGNoaWxkcmVuIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhbiBhcnJheSBvZiBrZXllZCBSZWFjdEVsZW1lbnRzIGluc3RlYWQuXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChkaWRXYXJuQWJvdXRNYXBzID0gITApKTtcbiAgICAgICAgICAgIHJldHVybkZpYmVyID0gcmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvcihcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICBuZXdDaGlsZHJlbixcbiAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbztcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5GaWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkLnRoZW4pXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAocHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgdW53cmFwVGhlbmFibGUobmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IHByZXZEZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAobmV3Q2hpbGQuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSlcbiAgICAgICAgICAgIHJldHVybiByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgcmVhZENvbnRleHREdXJpbmdSZWNvbmNpbGlhdGlvbihyZXR1cm5GaWJlciwgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXG4gICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBcIlwiICE9PSBuZXdDaGlsZCkgfHxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgbmV3Q2hpbGQgfHxcbiAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgbmV3Q2hpbGRcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocHJldkRlYnVnSW5mbyA9IFwiXCIgKyBuZXdDaGlsZCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZCAmJiA2ID09PSBjdXJyZW50Rmlyc3RDaGlsZC50YWdcbiAgICAgICAgICAgICAgPyAoZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmdcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChsYW5lcyA9IHVzZUZpYmVyKGN1cnJlbnRGaXJzdENoaWxkLCBwcmV2RGVidWdJbmZvKSksXG4gICAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBsYW5lcykpXG4gICAgICAgICAgICAgIDogKGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCksXG4gICAgICAgICAgICAgICAgKGxhbmVzID0gY3JlYXRlRmliZXJGcm9tVGV4dChcbiAgICAgICAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8sXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGxhbmVzKSksXG4gICAgICAgICAgICBwbGFjZVNpbmdsZUNoaWxkKHJldHVybkZpYmVyKVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmXG4gICAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiB3YXJuT25TeW1ib2xUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIHJldHVybiBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQsIG5ld0NoaWxkLCBsYW5lcykge1xuICAgICAgICB2YXIgcHJldkRlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgPSAwO1xuICAgICAgICAgIHZhciBmaXJzdENoaWxkRmliZXIgPSByZWNvbmNpbGVDaGlsZEZpYmVyc0ltcGwoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgICAgdGhlbmFibGVTdGF0ZSQxID0gbnVsbDtcbiAgICAgICAgICByZXR1cm4gZmlyc3RDaGlsZEZpYmVyO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgaWYgKHggPT09IFN1c3BlbnNlRXhjZXB0aW9uKSB0aHJvdyB4O1xuICAgICAgICAgIHZhciBmaWJlciA9IGNyZWF0ZUZpYmVyKDI5LCB4LCBudWxsLCByZXR1cm5GaWJlci5tb2RlKTtcbiAgICAgICAgICBmaWJlci5sYW5lcyA9IGxhbmVzO1xuICAgICAgICAgIGZpYmVyLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgIHZhciBkZWJ1Z0luZm8gPSAoZmliZXIuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pO1xuICAgICAgICAgIGZpYmVyLl9kZWJ1Z093bmVyID0gcmV0dXJuRmliZXIuX2RlYnVnT3duZXI7XG4gICAgICAgICAgaWYgKG51bGwgIT0gZGVidWdJbmZvKVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGRlYnVnSW5mby5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcbiAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBkZWJ1Z0luZm9baV0uc3RhY2spIHtcbiAgICAgICAgICAgICAgICBmaWJlci5fZGVidWdPd25lciA9IGRlYnVnSW5mb1tpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmaWJlcjtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbztcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaEhpZGRlbkNvbnRleHQoZmliZXIsIGNvbnRleHQpIHtcbiAgICAgIHZhciBwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXMgPSBlbnRhbmdsZWRSZW5kZXJMYW5lcztcbiAgICAgIHB1c2gocHJldkVudGFuZ2xlZFJlbmRlckxhbmVzQ3Vyc29yLCBwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXMsIGZpYmVyKTtcbiAgICAgIHB1c2goY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvciwgY29udGV4dCwgZmliZXIpO1xuICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXMgPSBwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXMgfCBjb250ZXh0LmJhc2VMYW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV1c2VIaWRkZW5Db250ZXh0T25TdGFjayhmaWJlcikge1xuICAgICAgcHVzaChwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXNDdXJzb3IsIGVudGFuZ2xlZFJlbmRlckxhbmVzLCBmaWJlcik7XG4gICAgICBwdXNoKFxuICAgICAgICBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLFxuICAgICAgICBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLmN1cnJlbnQsXG4gICAgICAgIGZpYmVyXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BIaWRkZW5Db250ZXh0KGZpYmVyKSB7XG4gICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lcyA9IHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lc0N1cnNvci5jdXJyZW50O1xuICAgICAgcG9wKGN1cnJlbnRUcmVlSGlkZGVuU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICAgIHBvcChwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXNDdXJzb3IsIGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgIHZhciBjdXJyZW50ID0gaGFuZGxlci5hbHRlcm5hdGU7XG4gICAgICBwdXNoKFxuICAgICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yLFxuICAgICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQgJiBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzayxcbiAgICAgICAgaGFuZGxlclxuICAgICAgKTtcbiAgICAgIHB1c2goc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IsIGhhbmRsZXIsIGhhbmRsZXIpO1xuICAgICAgbnVsbCA9PT0gc2hlbGxCb3VuZGFyeSAmJlxuICAgICAgICAobnVsbCA9PT0gY3VycmVudCB8fCBudWxsICE9PSBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLmN1cnJlbnRcbiAgICAgICAgICA/IChzaGVsbEJvdW5kYXJ5ID0gaGFuZGxlcilcbiAgICAgICAgICA6IG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJiAoc2hlbGxCb3VuZGFyeSA9IGhhbmRsZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaE9mZnNjcmVlblN1c3BlbnNlSGFuZGxlcihmaWJlcikge1xuICAgICAgaWYgKDIyID09PSBmaWJlci50YWcpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChwdXNoKHN1c3BlbnNlU3RhY2tDdXJzb3IsIHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCwgZmliZXIpLFxuICAgICAgICAgIHB1c2goc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IsIGZpYmVyLCBmaWJlciksXG4gICAgICAgICAgbnVsbCA9PT0gc2hlbGxCb3VuZGFyeSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnQgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAoc2hlbGxCb3VuZGFyeSA9IGZpYmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayhmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayhmaWJlcikge1xuICAgICAgcHVzaChzdXNwZW5zZVN0YWNrQ3Vyc29yLCBzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQsIGZpYmVyKTtcbiAgICAgIHB1c2goXG4gICAgICAgIHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLFxuICAgICAgICBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50LFxuICAgICAgICBmaWJlclxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wU3VzcGVuc2VIYW5kbGVyKGZpYmVyKSB7XG4gICAgICBwb3Aoc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICAgIHNoZWxsQm91bmRhcnkgPT09IGZpYmVyICYmIChzaGVsbEJvdW5kYXJ5ID0gbnVsbCk7XG4gICAgICBwb3Aoc3VzcGVuc2VTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kRmlyc3RTdXNwZW5kZWQocm93KSB7XG4gICAgICBmb3IgKHZhciBub2RlID0gcm93OyBudWxsICE9PSBub2RlOyApIHtcbiAgICAgICAgaWYgKDEzID09PSBub2RlLnRhZykge1xuICAgICAgICAgIHZhciBzdGF0ZSA9IG5vZGUubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsICE9PSBzdGF0ZSAmJlxuICAgICAgICAgICAgKChzdGF0ZSA9IHN0YXRlLmRlaHlkcmF0ZWQpLFxuICAgICAgICAgICAgbnVsbCA9PT0gc3RhdGUgfHxcbiAgICAgICAgICAgICAgc3RhdGUuZGF0YSA9PT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICAgIHN0YXRlLmRhdGEgPT09IFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgMTkgPT09IG5vZGUudGFnICYmXG4gICAgICAgICAgdm9pZCAwICE9PSBub2RlLm1lbW9pemVkUHJvcHMucmV2ZWFsT3JkZXJcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKDAgIT09IChub2RlLmZsYWdzICYgMTI4KSkgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0gZWxzZSBpZiAobnVsbCAhPT0gbm9kZS5jaGlsZCkge1xuICAgICAgICAgIG5vZGUuY2hpbGQucmV0dXJuID0gbm9kZTtcbiAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZDtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZSA9PT0gcm93KSBicmVhaztcbiAgICAgICAgZm9yICg7IG51bGwgPT09IG5vZGUuc2libGluZzsgKSB7XG4gICAgICAgICAgaWYgKG51bGwgPT09IG5vZGUucmV0dXJuIHx8IG5vZGUucmV0dXJuID09PSByb3cpIHJldHVybiBudWxsO1xuICAgICAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250cm9sbGVyOiBuZXcgQWJvcnRDb250cm9sbGVyTG9jYWwoKSxcbiAgICAgICAgZGF0YTogbmV3IE1hcCgpLFxuICAgICAgICByZWZDb3VudDogMFxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0YWluQ2FjaGUoY2FjaGUpIHtcbiAgICAgIGNhY2hlLmNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiQSBjYWNoZSBpbnN0YW5jZSB3YXMgcmV0YWluZWQgYWZ0ZXIgaXQgd2FzIGFscmVhZHkgZnJlZWQuIFRoaXMgbGlrZWx5IGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgY2FjaGUucmVmQ291bnQrKztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVsZWFzZUNhY2hlKGNhY2hlKSB7XG4gICAgICBjYWNoZS5yZWZDb3VudC0tO1xuICAgICAgMCA+IGNhY2hlLnJlZkNvdW50ICYmXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIkEgY2FjaGUgaW5zdGFuY2Ugd2FzIHJlbGVhc2VkIGFmdGVyIGl0IHdhcyBhbHJlYWR5IGZyZWVkLiBUaGlzIGxpa2VseSBpbmRpY2F0ZXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgKTtcbiAgICAgIDAgPT09IGNhY2hlLnJlZkNvdW50ICYmXG4gICAgICAgIHNjaGVkdWxlQ2FsbGJhY2skMihOb3JtYWxQcmlvcml0eSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNhY2hlLmNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVudGFuZ2xlQXN5bmNBY3Rpb24odHJhbnNpdGlvbiwgdGhlbmFibGUpIHtcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzKSB7XG4gICAgICAgIHZhciBlbnRhbmdsZWRMaXN0ZW5lcnMgPSAoY3VycmVudEVudGFuZ2xlZExpc3RlbmVycyA9IFtdKTtcbiAgICAgICAgY3VycmVudEVudGFuZ2xlZFBlbmRpbmdDb3VudCA9IDA7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRMYW5lID0gcmVxdWVzdFRyYW5zaXRpb25MYW5lKCk7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSA9IHtcbiAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgICAgICAgIHZhbHVlOiB2b2lkIDAsXG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGVudGFuZ2xlZExpc3RlbmVycy5wdXNoKHJlc29sdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRFbnRhbmdsZWRQZW5kaW5nQ291bnQrKztcbiAgICAgIHRoZW5hYmxlLnRoZW4ocGluZ0VuZ3RhbmdsZWRBY3Rpb25TY29wZSwgcGluZ0VuZ3RhbmdsZWRBY3Rpb25TY29wZSk7XG4gICAgICByZXR1cm4gdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBpbmdFbmd0YW5nbGVkQWN0aW9uU2NvcGUoKSB7XG4gICAgICBpZiAoXG4gICAgICAgIDAgPT09IC0tY3VycmVudEVudGFuZ2xlZFBlbmRpbmdDb3VudCAmJlxuICAgICAgICBudWxsICE9PSBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzXG4gICAgICApIHtcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlICYmXG4gICAgICAgICAgKGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiKTtcbiAgICAgICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRFbnRhbmdsZWRMaXN0ZW5lcnM7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRMaXN0ZW5lcnMgPSBudWxsO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkTGFuZSA9IDA7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSAoMCwgbGlzdGVuZXJzW2ldKSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjaGFpblRoZW5hYmxlVmFsdWUodGhlbmFibGUsIHJlc3VsdCkge1xuICAgICAgdmFyIGxpc3RlbmVycyA9IFtdLFxuICAgICAgICB0aGVuYWJsZVdpdGhPdmVycmlkZSA9IHtcbiAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgIHJlYXNvbjogbnVsbCxcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2gocmVzb2x2ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgdGhlbmFibGUudGhlbihcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoZW5hYmxlV2l0aE92ZXJyaWRlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCI7XG4gICAgICAgICAgdGhlbmFibGVXaXRoT3ZlcnJpZGUudmFsdWUgPSByZXN1bHQ7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspICgwLCBsaXN0ZW5lcnNbaV0pKHJlc3VsdCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIHRoZW5hYmxlV2l0aE92ZXJyaWRlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIjtcbiAgICAgICAgICB0aGVuYWJsZVdpdGhPdmVycmlkZS5yZWFzb24gPSBlcnJvcjtcbiAgICAgICAgICBmb3IgKGVycm9yID0gMDsgZXJyb3IgPCBsaXN0ZW5lcnMubGVuZ3RoOyBlcnJvcisrKVxuICAgICAgICAgICAgKDAsIGxpc3RlbmVyc1tlcnJvcl0pKHZvaWQgMCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhlbmFibGVXaXRoT3ZlcnJpZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlZWtDYWNoZUZyb21Qb29sKCkge1xuICAgICAgdmFyIGNhY2hlUmVzdW1lZEZyb21QcmV2aW91c1JlbmRlciA9IHJlc3VtZWRDYWNoZS5jdXJyZW50O1xuICAgICAgcmV0dXJuIG51bGwgIT09IGNhY2hlUmVzdW1lZEZyb21QcmV2aW91c1JlbmRlclxuICAgICAgICA/IGNhY2hlUmVzdW1lZEZyb21QcmV2aW91c1JlbmRlclxuICAgICAgICA6IHdvcmtJblByb2dyZXNzUm9vdC5wb29sZWRDYWNoZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFRyYW5zaXRpb24ob2Zmc2NyZWVuV29ya0luUHJvZ3Jlc3MsIHByZXZDYWNoZVBvb2wpIHtcbiAgICAgIG51bGwgPT09IHByZXZDYWNoZVBvb2xcbiAgICAgICAgPyBwdXNoKHJlc3VtZWRDYWNoZSwgcmVzdW1lZENhY2hlLmN1cnJlbnQsIG9mZnNjcmVlbldvcmtJblByb2dyZXNzKVxuICAgICAgICA6IHB1c2gocmVzdW1lZENhY2hlLCBwcmV2Q2FjaGVQb29sLnBvb2wsIG9mZnNjcmVlbldvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3VzcGVuZGVkQ2FjaGUoKSB7XG4gICAgICB2YXIgY2FjaGVGcm9tUG9vbCA9IHBlZWtDYWNoZUZyb21Qb29sKCk7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gY2FjaGVGcm9tUG9vbFxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiB7IHBhcmVudDogQ2FjaGVDb250ZXh0Ll9jdXJyZW50VmFsdWUsIHBvb2w6IGNhY2hlRnJvbVBvb2wgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRIb29rVHlwZXNEZXYoKSB7XG4gICAgICB2YXIgaG9va05hbWUgPSBjdXJyZW50SG9va05hbWVJbkRldjtcbiAgICAgIG51bGwgPT09IGhvb2tUeXBlc0RldlxuICAgICAgICA/IChob29rVHlwZXNEZXYgPSBbaG9va05hbWVdKVxuICAgICAgICA6IGhvb2tUeXBlc0Rldi5wdXNoKGhvb2tOYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlSG9va1R5cGVzRGV2KCkge1xuICAgICAgdmFyIGhvb2tOYW1lID0gY3VycmVudEhvb2tOYW1lSW5EZXY7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IGhvb2tUeXBlc0RldiAmJlxuICAgICAgICAoaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYrKyxcbiAgICAgICAgaG9va1R5cGVzRGV2W2hvb2tUeXBlc1VwZGF0ZUluZGV4RGV2XSAhPT0gaG9va05hbWUpXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKFxuICAgICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDFcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFkaWRXYXJuQWJvdXRNaXNtYXRjaGVkSG9va3NGb3JDb21wb25lbnQuaGFzKGNvbXBvbmVudE5hbWUpICYmXG4gICAgICAgICAgKGRpZFdhcm5BYm91dE1pc21hdGNoZWRIb29rc0ZvckNvbXBvbmVudC5hZGQoY29tcG9uZW50TmFtZSksXG4gICAgICAgICAgbnVsbCAhPT0gaG9va1R5cGVzRGV2KVxuICAgICAgICApIHtcbiAgICAgICAgICBmb3IgKHZhciB0YWJsZSA9IFwiXCIsIGkgPSAwOyBpIDw9IGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2OyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvbGRIb29rTmFtZSA9IGhvb2tUeXBlc0RldltpXSxcbiAgICAgICAgICAgICAgbmV3SG9va05hbWUgPVxuICAgICAgICAgICAgICAgIGkgPT09IGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID8gaG9va05hbWUgOiBvbGRIb29rTmFtZTtcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIG9sZEhvb2tOYW1lID0gaSArIDEgKyBcIi4gXCIgKyBvbGRIb29rTmFtZTtcbiAgICAgICAgICAgICAgMzAgPiBvbGRIb29rTmFtZS5sZW5ndGg7XG5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgb2xkSG9va05hbWUgKz0gXCIgXCI7XG4gICAgICAgICAgICBvbGRIb29rTmFtZSArPSBuZXdIb29rTmFtZSArIFwiXFxuXCI7XG4gICAgICAgICAgICB0YWJsZSArPSBvbGRIb29rTmFtZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3QgaGFzIGRldGVjdGVkIGEgY2hhbmdlIGluIHRoZSBvcmRlciBvZiBIb29rcyBjYWxsZWQgYnkgJXMuIFRoaXMgd2lsbCBsZWFkIHRvIGJ1Z3MgYW5kIGVycm9ycyBpZiBub3QgZml4ZWQuIEZvciBtb3JlIGluZm9ybWF0aW9uLCByZWFkIHRoZSBSdWxlcyBvZiBIb29rczogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9ydWxlcy1vZi1ob29rc1xcblxcbiAgIFByZXZpb3VzIHJlbmRlciAgICAgICAgICAgIE5leHQgcmVuZGVyXFxuICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuJXMgICBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5cXG5cIixcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICB0YWJsZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcykge1xuICAgICAgdm9pZCAwID09PSBkZXBzIHx8XG4gICAgICAgIG51bGwgPT09IGRlcHMgfHxcbiAgICAgICAgaXNBcnJheUltcGwoZGVwcykgfHxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIiVzIHJlY2VpdmVkIGEgZmluYWwgYXJndW1lbnQgdGhhdCBpcyBub3QgYW4gYXJyYXkgKGluc3RlYWQsIHJlY2VpdmVkIGAlc2ApLiBXaGVuIHNwZWNpZmllZCwgdGhlIGZpbmFsIGFyZ3VtZW50IG11c3QgYmUgYW4gYXJyYXkuXCIsXG4gICAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYsXG4gICAgICAgICAgdHlwZW9mIGRlcHNcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSk7XG4gICAgICBkaWRXYXJuQWJvdXRVc2VGb3JtU3RhdGUuaGFzKGNvbXBvbmVudE5hbWUpIHx8XG4gICAgICAgIChkaWRXYXJuQWJvdXRVc2VGb3JtU3RhdGUuYWRkKGNvbXBvbmVudE5hbWUpLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3RET00udXNlRm9ybVN0YXRlIGhhcyBiZWVuIHJlbmFtZWQgdG8gUmVhY3QudXNlQWN0aW9uU3RhdGUuIFBsZWFzZSB1cGRhdGUgJXMgdG8gdXNlIFJlYWN0LnVzZUFjdGlvblN0YXRlLlwiLFxuICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93SW52YWxpZEhvb2tFcnJvcigpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIkludmFsaWQgaG9vayBjYWxsLiBIb29rcyBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIG9mIHRoZSBib2R5IG9mIGEgZnVuY3Rpb24gY29tcG9uZW50LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3Igb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4xLiBZb3UgbWlnaHQgaGF2ZSBtaXNtYXRjaGluZyB2ZXJzaW9ucyBvZiBSZWFjdCBhbmQgdGhlIHJlbmRlcmVyIChzdWNoIGFzIFJlYWN0IERPTSlcXG4yLiBZb3UgbWlnaHQgYmUgYnJlYWtpbmcgdGhlIFJ1bGVzIG9mIEhvb2tzXFxuMy4gWW91IG1pZ2h0IGhhdmUgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0IGluIHRoZSBzYW1lIGFwcFxcblNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtaG9vay1jYWxsIGZvciB0aXBzIGFib3V0IGhvdyB0byBkZWJ1ZyBhbmQgZml4IHRoaXMgcHJvYmxlbS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXJlSG9va0lucHV0c0VxdWFsKG5leHREZXBzLCBwcmV2RGVwcykge1xuICAgICAgaWYgKGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzKSByZXR1cm4gITE7XG4gICAgICBpZiAobnVsbCA9PT0gcHJldkRlcHMpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgcmVjZWl2ZWQgYSBmaW5hbCBhcmd1bWVudCBkdXJpbmcgdGhpcyByZW5kZXIsIGJ1dCBub3QgZHVyaW5nIHRoZSBwcmV2aW91cyByZW5kZXIuIEV2ZW4gdGhvdWdoIHRoZSBmaW5hbCBhcmd1bWVudCBpcyBvcHRpb25hbCwgaXRzIHR5cGUgY2Fubm90IGNoYW5nZSBiZXR3ZWVuIHJlbmRlcnMuXCIsXG4gICAgICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldlxuICAgICAgICAgICksXG4gICAgICAgICAgITFcbiAgICAgICAgKTtcbiAgICAgIG5leHREZXBzLmxlbmd0aCAhPT0gcHJldkRlcHMubGVuZ3RoICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgZmluYWwgYXJndW1lbnQgcGFzc2VkIHRvICVzIGNoYW5nZWQgc2l6ZSBiZXR3ZWVuIHJlbmRlcnMuIFRoZSBvcmRlciBhbmQgc2l6ZSBvZiB0aGlzIGFycmF5IG11c3QgcmVtYWluIGNvbnN0YW50LlxcblxcblByZXZpb3VzOiAlc1xcbkluY29taW5nOiAlc1wiLFxuICAgICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2LFxuICAgICAgICAgIFwiW1wiICsgcHJldkRlcHMuam9pbihcIiwgXCIpICsgXCJdXCIsXG4gICAgICAgICAgXCJbXCIgKyBuZXh0RGVwcy5qb2luKFwiLCBcIikgKyBcIl1cIlxuICAgICAgICApO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmV2RGVwcy5sZW5ndGggJiYgaSA8IG5leHREZXBzLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoIW9iamVjdElzKG5leHREZXBzW2ldLCBwcmV2RGVwc1tpXSkpIHJldHVybiAhMTtcbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyV2l0aEhvb2tzKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgcHJvcHMsXG4gICAgICBzZWNvbmRBcmcsXG4gICAgICBuZXh0UmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHJlbmRlckxhbmVzID0gbmV4dFJlbmRlckxhbmVzO1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgaG9va1R5cGVzRGV2ID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQuX2RlYnVnSG9va1R5cGVzIDogbnVsbDtcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7XG4gICAgICBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcyA9XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgY3VycmVudC50eXBlICE9PSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgaWYgKFxuICAgICAgICBcIltvYmplY3QgQXN5bmNGdW5jdGlvbl1cIiA9PT1cbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQ29tcG9uZW50KSB8fFxuICAgICAgICBcIltvYmplY3QgQXN5bmNHZW5lcmF0b3JGdW5jdGlvbl1cIiA9PT1cbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoQ29tcG9uZW50KVxuICAgICAgKVxuICAgICAgICAobmV4dFJlbmRlckxhbmVzID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihcbiAgICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxXG4gICAgICAgICkpLFxuICAgICAgICAgIGRpZFdhcm5BYm91dEFzeW5jQ2xpZW50Q29tcG9uZW50LmhhcyhuZXh0UmVuZGVyTGFuZXMpIHx8XG4gICAgICAgICAgICAoZGlkV2FybkFib3V0QXN5bmNDbGllbnRDb21wb25lbnQuYWRkKG5leHRSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImFzeW5jL2F3YWl0IGlzIG5vdCB5ZXQgc3VwcG9ydGVkIGluIENsaWVudCBDb21wb25lbnRzLCBvbmx5IFNlcnZlciBDb21wb25lbnRzLiBUaGlzIGVycm9yIGlzIG9mdGVuIGNhdXNlZCBieSBhY2NpZGVudGFsbHkgYWRkaW5nIGAndXNlIGNsaWVudCdgIHRvIGEgbW9kdWxlIHRoYXQgd2FzIG9yaWdpbmFsbHkgd3JpdHRlbiBmb3IgdGhlIHNlcnZlci5cIlxuICAgICAgICAgICAgKSk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzLmxhbmVzID0gMDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPVxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgID8gSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVlxuICAgICAgICAgIDogbnVsbCAhPT0gaG9va1R5cGVzRGV2XG4gICAgICAgICAgICA/IEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVZcbiAgICAgICAgICAgIDogSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYgPSBuZXh0UmVuZGVyTGFuZXMgPVxuICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpICE9PSBOb01vZGU7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBjYWxsQ29tcG9uZW50SW5ERVYoQ29tcG9uZW50LCBwcm9wcywgc2Vjb25kQXJnKTtcbiAgICAgIHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWID0gITE7XG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MgJiZcbiAgICAgICAgKGNoaWxkcmVuID0gcmVuZGVyV2l0aEhvb2tzQWdhaW4oXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgIHNlY29uZEFyZ1xuICAgICAgICApKTtcbiAgICAgIGlmIChuZXh0UmVuZGVyTGFuZXMpIHtcbiAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNoaWxkcmVuID0gcmVuZGVyV2l0aEhvb2tzQWdhaW4oXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgc2Vjb25kQXJnXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZpbmlzaFJlbmRlcmluZ0hvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluaXNoUmVuZGVyaW5nSG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z0hvb2tUeXBlcyA9IGhvb2tUeXBlc0RldjtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llc1xuICAgICAgICA/IG51bGwgIT09IHRoZW5hYmxlU3RhdGUgJiZcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzID0ge1xuICAgICAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgICAgICBmaXJzdENvbnRleHQ6IG51bGwsXG4gICAgICAgICAgICBfZGVidWdUaGVuYWJsZVN0YXRlOiB0aGVuYWJsZVN0YXRlXG4gICAgICAgICAgfSlcbiAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzLl9kZWJ1Z1RoZW5hYmxlU3RhdGUgPSB0aGVuYWJsZVN0YXRlKTtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBDb250ZXh0T25seURpc3BhdGNoZXI7XG4gICAgICB2YXIgZGlkUmVuZGVyVG9vRmV3SG9va3MgPVxuICAgICAgICBudWxsICE9PSBjdXJyZW50SG9vayAmJiBudWxsICE9PSBjdXJyZW50SG9vay5uZXh0O1xuICAgICAgcmVuZGVyTGFuZXMgPSAwO1xuICAgICAgaG9va1R5cGVzRGV2ID1cbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc0hvb2sgPVxuICAgICAgICBjdXJyZW50SG9vayA9XG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPVxuICAgICAgICAgIG51bGw7XG4gICAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xO1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAoY3VycmVudC5mbGFncyAmIDMxNDU3MjgwKSAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMzE0NTcyODApICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnRlcm5hbCBSZWFjdCBlcnJvcjogRXhwZWN0ZWQgc3RhdGljIGZsYWcgd2FzIG1pc3NpbmcuIFBsZWFzZSBub3RpZnkgdGhlIFJlYWN0IHRlYW0uXCJcbiAgICAgICAgKTtcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSAhMTtcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyID0gMDtcbiAgICAgIHRoZW5hYmxlU3RhdGUgPSBudWxsO1xuICAgICAgaWYgKGRpZFJlbmRlclRvb0Zld0hvb2tzKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIlJlbmRlcmVkIGZld2VyIGhvb2tzIHRoYW4gZXhwZWN0ZWQuIFRoaXMgbWF5IGJlIGNhdXNlZCBieSBhbiBhY2NpZGVudGFsIGVhcmx5IHJldHVybiBzdGF0ZW1lbnQuXCJcbiAgICAgICAgKTtcbiAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSB8fFxuICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50LmRlcGVuZGVuY2llcyksXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICBjaGVja0lmQ29udGV4dENoYW5nZWQoY3VycmVudCkgJiZcbiAgICAgICAgICAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKSk7XG4gICAgICBuZWVkc1RvUmVzZXRTdXNwZW5kZWRUaGVuYWJsZURFVlxuICAgICAgICA/ICgobmVlZHNUb1Jlc2V0U3VzcGVuZGVkVGhlbmFibGVERVYgPSAhMSksIChjdXJyZW50ID0gITApKVxuICAgICAgICA6IChjdXJyZW50ID0gITEpO1xuICAgICAgY3VycmVudCAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHdvcmtJblByb2dyZXNzKSB8fCBcIlVua25vd25cIiksXG4gICAgICAgIGRpZFdhcm5BYm91dFVzZVdyYXBwZWRJblRyeUNhdGNoLmhhcyh3b3JrSW5Qcm9ncmVzcykgfHxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRBc3luY0NsaWVudENvbXBvbmVudC5oYXMod29ya0luUHJvZ3Jlc3MpIHx8XG4gICAgICAgICAgKGRpZFdhcm5BYm91dFVzZVdyYXBwZWRJblRyeUNhdGNoLmFkZCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiYHVzZWAgd2FzIGNhbGxlZCBmcm9tIGluc2lkZSBhIHRyeS9jYXRjaCBibG9jay4gVGhpcyBpcyBub3QgYWxsb3dlZCBhbmQgY2FuIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci4gVG8gaGFuZGxlIGVycm9ycyB0cmlnZ2VyZWQgYnkgYHVzZWAsIHdyYXAgeW91ciBjb21wb25lbnQgaW4gYSBlcnJvciBib3VuZGFyeS5cIlxuICAgICAgICAgICkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyV2l0aEhvb2tzQWdhaW4od29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgcHJvcHMsIHNlY29uZEFyZykge1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgdmFyIG51bWJlck9mUmVSZW5kZXJzID0gMDtcbiAgICAgIGRvIHtcbiAgICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzICYmICh0aGVuYWJsZVN0YXRlID0gbnVsbCk7XG4gICAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyID0gMDtcbiAgICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzID0gITE7XG4gICAgICAgIGlmIChudW1iZXJPZlJlUmVuZGVycyA+PSBSRV9SRU5ERVJfTElNSVQpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlRvbyBtYW55IHJlLXJlbmRlcnMuIFJlYWN0IGxpbWl0cyB0aGUgbnVtYmVyIG9mIHJlbmRlcnMgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgbnVtYmVyT2ZSZVJlbmRlcnMgKz0gMTtcbiAgICAgICAgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMgPSAhMTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NIb29rID0gY3VycmVudEhvb2sgPSBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSkge1xuICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIGNoaWxkcmVuLmxhc3RFZmZlY3QgPSBudWxsO1xuICAgICAgICAgIGNoaWxkcmVuLmV2ZW50cyA9IG51bGw7XG4gICAgICAgICAgY2hpbGRyZW4uc3RvcmVzID0gbnVsbDtcbiAgICAgICAgICBudWxsICE9IGNoaWxkcmVuLm1lbW9DYWNoZSAmJiAoY2hpbGRyZW4ubWVtb0NhY2hlLmluZGV4ID0gMCk7XG4gICAgICAgIH1cbiAgICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVjtcbiAgICAgICAgY2hpbGRyZW4gPSBjYWxsQ29tcG9uZW50SW5ERVYoQ29tcG9uZW50LCBwcm9wcywgc2Vjb25kQXJnKTtcbiAgICAgIH0gd2hpbGUgKGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyk7XG4gICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgfVxuICAgIGZ1bmN0aW9uIFRyYW5zaXRpb25Bd2FyZUhvc3RDb21wb25lbnQoKSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkgsXG4gICAgICAgIG1heWJlVGhlbmFibGUgPSBkaXNwYXRjaGVyLnVzZVN0YXRlKClbMF07XG4gICAgICBtYXliZVRoZW5hYmxlID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbWF5YmVUaGVuYWJsZS50aGVuXG4gICAgICAgICAgPyB1c2VUaGVuYWJsZShtYXliZVRoZW5hYmxlKVxuICAgICAgICAgIDogbWF5YmVUaGVuYWJsZTtcbiAgICAgIGRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyLnVzZVN0YXRlKClbMF07XG4gICAgICAobnVsbCAhPT0gY3VycmVudEhvb2sgPyBjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlIDogbnVsbCkgIT09XG4gICAgICAgIGRpc3BhdGNoZXIgJiYgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuZmxhZ3MgfD0gMTAyNCk7XG4gICAgICByZXR1cm4gbWF5YmVUaGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tEaWRSZW5kZXJJZEhvb2soKSB7XG4gICAgICB2YXIgZGlkUmVuZGVySWRIb29rID0gMCAhPT0gbG9jYWxJZENvdW50ZXI7XG4gICAgICBsb2NhbElkQ291bnRlciA9IDA7XG4gICAgICByZXR1cm4gZGlkUmVuZGVySWRIb29rO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiYWlsb3V0SG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIGxhbmVzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQudXBkYXRlUXVldWU7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyA9XG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGVcbiAgICAgICAgICA/IHdvcmtJblByb2dyZXNzLmZsYWdzICYgLTIwMTMyODY0NVxuICAgICAgICAgIDogd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAtMjA1MztcbiAgICAgIGN1cnJlbnQubGFuZXMgJj0gfmxhbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldEhvb2tzT25VbndpbmQod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIGlmIChkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlKSB7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzO1xuXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBxdWV1ZSA9IHdvcmtJblByb2dyZXNzLnF1ZXVlO1xuICAgICAgICAgIG51bGwgIT09IHF1ZXVlICYmIChxdWV1ZS5wZW5kaW5nID0gbnVsbCk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzcy5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSAhMTtcbiAgICAgIH1cbiAgICAgIHJlbmRlckxhbmVzID0gMDtcbiAgICAgIGhvb2tUeXBlc0RldiA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzSG9vayA9XG4gICAgICAgIGN1cnJlbnRIb29rID1cbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IG51bGw7XG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MgPSAhMTtcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyID0gbG9jYWxJZENvdW50ZXIgPSAwO1xuICAgICAgdGhlbmFibGVTdGF0ZSA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCkge1xuICAgICAgdmFyIGhvb2sgPSB7XG4gICAgICAgIG1lbW9pemVkU3RhdGU6IG51bGwsXG4gICAgICAgIGJhc2VTdGF0ZTogbnVsbCxcbiAgICAgICAgYmFzZVF1ZXVlOiBudWxsLFxuICAgICAgICBxdWV1ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzSG9va1xuICAgICAgICA/IChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1lbW9pemVkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBob29rKVxuICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzc0hvb2sgPSB3b3JrSW5Qcm9ncmVzc0hvb2submV4dCA9IGhvb2spO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzSG9vaztcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkge1xuICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnRIb29rKSB7XG4gICAgICAgIHZhciBuZXh0Q3VycmVudEhvb2sgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmFsdGVybmF0ZTtcbiAgICAgICAgbmV4dEN1cnJlbnRIb29rID1cbiAgICAgICAgICBudWxsICE9PSBuZXh0Q3VycmVudEhvb2sgPyBuZXh0Q3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSA6IG51bGw7XG4gICAgICB9IGVsc2UgbmV4dEN1cnJlbnRIb29rID0gY3VycmVudEhvb2submV4dDtcbiAgICAgIHZhciBuZXh0V29ya0luUHJvZ3Jlc3NIb29rID1cbiAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NIb29rXG4gICAgICAgICAgPyBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1lbW9pemVkU3RhdGVcbiAgICAgICAgICA6IHdvcmtJblByb2dyZXNzSG9vay5uZXh0O1xuICAgICAgaWYgKG51bGwgIT09IG5leHRXb3JrSW5Qcm9ncmVzc0hvb2spXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc0hvb2sgPSBuZXh0V29ya0luUHJvZ3Jlc3NIb29rKSxcbiAgICAgICAgICAoY3VycmVudEhvb2sgPSBuZXh0Q3VycmVudEhvb2spO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChudWxsID09PSBuZXh0Q3VycmVudEhvb2spIHtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5hbHRlcm5hdGUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJVcGRhdGUgaG9vayBjYWxsZWQgb24gaW5pdGlhbCByZW5kZXIuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlJlbmRlcmVkIG1vcmUgaG9va3MgdGhhbiBkdXJpbmcgdGhlIHByZXZpb3VzIHJlbmRlci5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudEhvb2sgPSBuZXh0Q3VycmVudEhvb2s7XG4gICAgICAgIG5leHRDdXJyZW50SG9vayA9IHtcbiAgICAgICAgICBtZW1vaXplZFN0YXRlOiBjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlLFxuICAgICAgICAgIGJhc2VTdGF0ZTogY3VycmVudEhvb2suYmFzZVN0YXRlLFxuICAgICAgICAgIGJhc2VRdWV1ZTogY3VycmVudEhvb2suYmFzZVF1ZXVlLFxuICAgICAgICAgIHF1ZXVlOiBjdXJyZW50SG9vay5xdWV1ZSxcbiAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzSG9va1xuICAgICAgICAgID8gKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubWVtb2l6ZWRTdGF0ZSA9IHdvcmtJblByb2dyZXNzSG9vayA9XG4gICAgICAgICAgICAgIG5leHRDdXJyZW50SG9vaylcbiAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzc0hvb2sgPSB3b3JrSW5Qcm9ncmVzc0hvb2submV4dCA9IG5leHRDdXJyZW50SG9vayk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3NIb29rO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2VUaGVuYWJsZSh0aGVuYWJsZSkge1xuICAgICAgdmFyIGluZGV4ID0gdGhlbmFibGVJbmRleENvdW50ZXI7XG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciArPSAxO1xuICAgICAgbnVsbCA9PT0gdGhlbmFibGVTdGF0ZSAmJiAodGhlbmFibGVTdGF0ZSA9IGNyZWF0ZVRoZW5hYmxlU3RhdGUoKSk7XG4gICAgICB0aGVuYWJsZSA9IHRyYWNrVXNlZFRoZW5hYmxlKHRoZW5hYmxlU3RhdGUsIHRoZW5hYmxlLCBpbmRleCk7XG4gICAgICBpbmRleCA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDE7XG4gICAgICBudWxsID09PVxuICAgICAgICAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NIb29rXG4gICAgICAgICAgPyBpbmRleC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc0hvb2submV4dCkgJiZcbiAgICAgICAgKChpbmRleCA9IGluZGV4LmFsdGVybmF0ZSksXG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5IID1cbiAgICAgICAgICBudWxsICE9PSBpbmRleCAmJiBudWxsICE9PSBpbmRleC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/IEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVZcbiAgICAgICAgICAgIDogSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWKSk7XG4gICAgICByZXR1cm4gdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZSh1c2FibGUpIHtcbiAgICAgIGlmIChudWxsICE9PSB1c2FibGUgJiYgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHVzYWJsZSkge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdXNhYmxlLnRoZW4pIHJldHVybiB1c2VUaGVuYWJsZSh1c2FibGUpO1xuICAgICAgICBpZiAodXNhYmxlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUpIHJldHVybiByZWFkQ29udGV4dCh1c2FibGUpO1xuICAgICAgfVxuICAgICAgdGhyb3cgRXJyb3IoXCJBbiB1bnN1cHBvcnRlZCB0eXBlIHdhcyBwYXNzZWQgdG8gdXNlKCk6IFwiICsgU3RyaW5nKHVzYWJsZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2VNZW1vQ2FjaGUoc2l6ZSkge1xuICAgICAgdmFyIG1lbW9DYWNoZSA9IG51bGwsXG4gICAgICAgIHVwZGF0ZVF1ZXVlID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZTtcbiAgICAgIG51bGwgIT09IHVwZGF0ZVF1ZXVlICYmIChtZW1vQ2FjaGUgPSB1cGRhdGVRdWV1ZS5tZW1vQ2FjaGUpO1xuICAgICAgaWYgKG51bGwgPT0gbWVtb0NhY2hlKSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5hbHRlcm5hdGU7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50Lm1lbW9DYWNoZSksXG4gICAgICAgICAgICBudWxsICE9IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgKG1lbW9DYWNoZSA9IHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdXJyZW50LmRhdGEubWFwKGZ1bmN0aW9uIChhcnJheSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5LnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgaW5kZXg6IDBcbiAgICAgICAgICAgICAgfSkpKTtcbiAgICAgIH1cbiAgICAgIG51bGwgPT0gbWVtb0NhY2hlICYmIChtZW1vQ2FjaGUgPSB7IGRhdGE6IFtdLCBpbmRleDogMCB9KTtcbiAgICAgIG51bGwgPT09IHVwZGF0ZVF1ZXVlICYmXG4gICAgICAgICgodXBkYXRlUXVldWUgPSBjcmVhdGVGdW5jdGlvbkNvbXBvbmVudFVwZGF0ZVF1ZXVlKCkpLFxuICAgICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZSA9IHVwZGF0ZVF1ZXVlKSk7XG4gICAgICB1cGRhdGVRdWV1ZS5tZW1vQ2FjaGUgPSBtZW1vQ2FjaGU7XG4gICAgICB1cGRhdGVRdWV1ZSA9IG1lbW9DYWNoZS5kYXRhW21lbW9DYWNoZS5pbmRleF07XG4gICAgICBpZiAodm9pZCAwID09PSB1cGRhdGVRdWV1ZSB8fCBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB1cGRhdGVRdWV1ZSA9IG1lbW9DYWNoZS5kYXRhW21lbW9DYWNoZS5pbmRleF0gPSBBcnJheShzaXplKSxcbiAgICAgICAgICAgIGN1cnJlbnQgPSAwO1xuICAgICAgICAgIGN1cnJlbnQgPCBzaXplO1xuICAgICAgICAgIGN1cnJlbnQrK1xuICAgICAgICApXG4gICAgICAgICAgdXBkYXRlUXVldWVbY3VycmVudF0gPSBSRUFDVF9NRU1PX0NBQ0hFX1NFTlRJTkVMO1xuICAgICAgZWxzZVxuICAgICAgICB1cGRhdGVRdWV1ZS5sZW5ndGggIT09IHNpemUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBhIGNvbnN0YW50IHNpemUgYXJndW1lbnQgZm9yIGVhY2ggaW52b2NhdGlvbiBvZiB1c2VNZW1vQ2FjaGUuIFRoZSBwcmV2aW91cyBjYWNoZSB3YXMgYWxsb2NhdGVkIHdpdGggc2l6ZSAlcyBidXQgc2l6ZSAlcyB3YXMgcmVxdWVzdGVkLlwiLFxuICAgICAgICAgICAgdXBkYXRlUXVldWUubGVuZ3RoLFxuICAgICAgICAgICAgc2l6ZVxuICAgICAgICAgICk7XG4gICAgICBtZW1vQ2FjaGUuaW5kZXgrKztcbiAgICAgIHJldHVybiB1cGRhdGVRdWV1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmFzaWNTdGF0ZVJlZHVjZXIoc3RhdGUsIGFjdGlvbikge1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFjdGlvbiA/IGFjdGlvbihzdGF0ZSkgOiBhY3Rpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpZiAodm9pZCAwICE9PSBpbml0KSB7XG4gICAgICAgIHZhciBpbml0aWFsU3RhdGUgPSBpbml0KGluaXRpYWxBcmcpO1xuICAgICAgICBpZiAoc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYpIHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGluaXQoaW5pdGlhbEFyZyk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpbml0aWFsU3RhdGUgPSBpbml0aWFsQXJnO1xuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gaG9vay5iYXNlU3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICByZWR1Y2VyID0ge1xuICAgICAgICBwZW5kaW5nOiBudWxsLFxuICAgICAgICBsYW5lczogMCxcbiAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgIGxhc3RSZW5kZXJlZFJlZHVjZXI6IHJlZHVjZXIsXG4gICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBpbml0aWFsU3RhdGVcbiAgICAgIH07XG4gICAgICBob29rLnF1ZXVlID0gcmVkdWNlcjtcbiAgICAgIHJlZHVjZXIgPSByZWR1Y2VyLmRpc3BhdGNoID0gZGlzcGF0Y2hSZWR1Y2VyQWN0aW9uLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIHJlZHVjZXJcbiAgICAgICk7XG4gICAgICByZXR1cm4gW2hvb2subWVtb2l6ZWRTdGF0ZSwgcmVkdWNlcl07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVJlZHVjZXIocmVkdWNlcikge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VySW1wbChob29rLCBjdXJyZW50SG9vaywgcmVkdWNlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVJlZHVjZXJJbXBsKGhvb2ssIGN1cnJlbnQsIHJlZHVjZXIpIHtcbiAgICAgIHZhciBxdWV1ZSA9IGhvb2sucXVldWU7XG4gICAgICBpZiAobnVsbCA9PT0gcXVldWUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiU2hvdWxkIGhhdmUgYSBxdWV1ZS4gWW91IGFyZSBsaWtlbHkgY2FsbGluZyBIb29rcyBjb25kaXRpb25hbGx5LCB3aGljaCBpcyBub3QgYWxsb3dlZC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwpXCJcbiAgICAgICAgKTtcbiAgICAgIHF1ZXVlLmxhc3RSZW5kZXJlZFJlZHVjZXIgPSByZWR1Y2VyO1xuICAgICAgdmFyIGJhc2VRdWV1ZSA9IGhvb2suYmFzZVF1ZXVlLFxuICAgICAgICBwZW5kaW5nUXVldWUgPSBxdWV1ZS5wZW5kaW5nO1xuICAgICAgaWYgKG51bGwgIT09IHBlbmRpbmdRdWV1ZSkge1xuICAgICAgICBpZiAobnVsbCAhPT0gYmFzZVF1ZXVlKSB7XG4gICAgICAgICAgdmFyIGJhc2VGaXJzdCA9IGJhc2VRdWV1ZS5uZXh0O1xuICAgICAgICAgIGJhc2VRdWV1ZS5uZXh0ID0gcGVuZGluZ1F1ZXVlLm5leHQ7XG4gICAgICAgICAgcGVuZGluZ1F1ZXVlLm5leHQgPSBiYXNlRmlyc3Q7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudC5iYXNlUXVldWUgIT09IGJhc2VRdWV1ZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkludGVybmFsIGVycm9yOiBFeHBlY3RlZCB3b3JrLWluLXByb2dyZXNzIHF1ZXVlIHRvIGJlIGEgY2xvbmUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50LmJhc2VRdWV1ZSA9IGJhc2VRdWV1ZSA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgICAgcXVldWUucGVuZGluZyA9IG51bGw7XG4gICAgICB9XG4gICAgICBwZW5kaW5nUXVldWUgPSBob29rLmJhc2VTdGF0ZTtcbiAgICAgIGlmIChudWxsID09PSBiYXNlUXVldWUpIGhvb2subWVtb2l6ZWRTdGF0ZSA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBjdXJyZW50ID0gYmFzZVF1ZXVlLm5leHQ7XG4gICAgICAgIHZhciBuZXdCYXNlUXVldWVGaXJzdCA9IChiYXNlRmlyc3QgPSBudWxsKSxcbiAgICAgICAgICBuZXdCYXNlUXVldWVMYXN0ID0gbnVsbCxcbiAgICAgICAgICB1cGRhdGUgPSBjdXJyZW50LFxuICAgICAgICAgIGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgIHZhciB1cGRhdGVMYW5lID0gdXBkYXRlLmxhbmUgJiAtNTM2ODcwOTEzO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHVwZGF0ZUxhbmUgIT09IHVwZGF0ZS5sYW5lXG4gICAgICAgICAgICAgID8gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgdXBkYXRlTGFuZSkgPT09IHVwZGF0ZUxhbmVcbiAgICAgICAgICAgICAgOiAocmVuZGVyTGFuZXMgJiB1cGRhdGVMYW5lKSA9PT0gdXBkYXRlTGFuZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHJldmVydExhbmUgPSB1cGRhdGUucmV2ZXJ0TGFuZTtcbiAgICAgICAgICAgIGlmICgwID09PSByZXZlcnRMYW5lKVxuICAgICAgICAgICAgICBudWxsICE9PSBuZXdCYXNlUXVldWVMYXN0ICYmXG4gICAgICAgICAgICAgICAgKG5ld0Jhc2VRdWV1ZUxhc3QgPSBuZXdCYXNlUXVldWVMYXN0Lm5leHQgPVxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYW5lOiAwLFxuICAgICAgICAgICAgICAgICAgICByZXZlcnRMYW5lOiAwLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IHVwZGF0ZS5hY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGhhc0VhZ2VyU3RhdGU6IHVwZGF0ZS5oYXNFYWdlclN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBlYWdlclN0YXRlOiB1cGRhdGUuZWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdXBkYXRlTGFuZSA9PT0gY3VycmVudEVudGFuZ2xlZExhbmUgJiZcbiAgICAgICAgICAgICAgICAgIChkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITApO1xuICAgICAgICAgICAgZWxzZSBpZiAoKHJlbmRlckxhbmVzICYgcmV2ZXJ0TGFuZSkgPT09IHJldmVydExhbmUpIHtcbiAgICAgICAgICAgICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gICAgICAgICAgICAgIHJldmVydExhbmUgPT09IGN1cnJlbnRFbnRhbmdsZWRMYW5lICYmXG4gICAgICAgICAgICAgICAgKGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICh1cGRhdGVMYW5lID0ge1xuICAgICAgICAgICAgICAgIGxhbmU6IDAsXG4gICAgICAgICAgICAgICAgcmV2ZXJ0TGFuZTogdXBkYXRlLnJldmVydExhbmUsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB1cGRhdGUuYWN0aW9uLFxuICAgICAgICAgICAgICAgIGhhc0VhZ2VyU3RhdGU6IHVwZGF0ZS5oYXNFYWdlclN0YXRlLFxuICAgICAgICAgICAgICAgIGVhZ2VyU3RhdGU6IHVwZGF0ZS5lYWdlclN0YXRlLFxuICAgICAgICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gbmV3QmFzZVF1ZXVlTGFzdFxuICAgICAgICAgICAgICAgICAgPyAoKG5ld0Jhc2VRdWV1ZUZpcnN0ID0gbmV3QmFzZVF1ZXVlTGFzdCA9IHVwZGF0ZUxhbmUpLFxuICAgICAgICAgICAgICAgICAgICAoYmFzZUZpcnN0ID0gcGVuZGluZ1F1ZXVlKSlcbiAgICAgICAgICAgICAgICAgIDogKG5ld0Jhc2VRdWV1ZUxhc3QgPSBuZXdCYXNlUXVldWVMYXN0Lm5leHQgPSB1cGRhdGVMYW5lKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5sYW5lcyB8PSByZXZlcnRMYW5lKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IHJldmVydExhbmUpO1xuICAgICAgICAgICAgdXBkYXRlTGFuZSA9IHVwZGF0ZS5hY3Rpb247XG4gICAgICAgICAgICBzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFViAmJlxuICAgICAgICAgICAgICByZWR1Y2VyKHBlbmRpbmdRdWV1ZSwgdXBkYXRlTGFuZSk7XG4gICAgICAgICAgICBwZW5kaW5nUXVldWUgPSB1cGRhdGUuaGFzRWFnZXJTdGF0ZVxuICAgICAgICAgICAgICA/IHVwZGF0ZS5lYWdlclN0YXRlXG4gICAgICAgICAgICAgIDogcmVkdWNlcihwZW5kaW5nUXVldWUsIHVwZGF0ZUxhbmUpO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgKHJldmVydExhbmUgPSB7XG4gICAgICAgICAgICAgIGxhbmU6IHVwZGF0ZUxhbmUsXG4gICAgICAgICAgICAgIHJldmVydExhbmU6IHVwZGF0ZS5yZXZlcnRMYW5lLFxuICAgICAgICAgICAgICBhY3Rpb246IHVwZGF0ZS5hY3Rpb24sXG4gICAgICAgICAgICAgIGhhc0VhZ2VyU3RhdGU6IHVwZGF0ZS5oYXNFYWdlclN0YXRlLFxuICAgICAgICAgICAgICBlYWdlclN0YXRlOiB1cGRhdGUuZWFnZXJTdGF0ZSxcbiAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIG51bGwgPT09IG5ld0Jhc2VRdWV1ZUxhc3RcbiAgICAgICAgICAgICAgICA/ICgobmV3QmFzZVF1ZXVlRmlyc3QgPSBuZXdCYXNlUXVldWVMYXN0ID0gcmV2ZXJ0TGFuZSksXG4gICAgICAgICAgICAgICAgICAoYmFzZUZpcnN0ID0gcGVuZGluZ1F1ZXVlKSlcbiAgICAgICAgICAgICAgICA6IChuZXdCYXNlUXVldWVMYXN0ID0gbmV3QmFzZVF1ZXVlTGFzdC5uZXh0ID0gcmV2ZXJ0TGFuZSksXG4gICAgICAgICAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmxhbmVzIHw9IHVwZGF0ZUxhbmUpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IHVwZGF0ZUxhbmUpO1xuICAgICAgICAgIHVwZGF0ZSA9IHVwZGF0ZS5uZXh0O1xuICAgICAgICB9IHdoaWxlIChudWxsICE9PSB1cGRhdGUgJiYgdXBkYXRlICE9PSBjdXJyZW50KTtcbiAgICAgICAgbnVsbCA9PT0gbmV3QmFzZVF1ZXVlTGFzdFxuICAgICAgICAgID8gKGJhc2VGaXJzdCA9IHBlbmRpbmdRdWV1ZSlcbiAgICAgICAgICA6IChuZXdCYXNlUXVldWVMYXN0Lm5leHQgPSBuZXdCYXNlUXVldWVGaXJzdCk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhb2JqZWN0SXMocGVuZGluZ1F1ZXVlLCBob29rLm1lbW9pemVkU3RhdGUpICYmXG4gICAgICAgICAgKChkaWRSZWNlaXZlVXBkYXRlID0gITApLFxuICAgICAgICAgIGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gJiZcbiAgICAgICAgICAgICgocmVkdWNlciA9IGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSksIG51bGwgIT09IHJlZHVjZXIpKVxuICAgICAgICApXG4gICAgICAgICAgdGhyb3cgcmVkdWNlcjtcbiAgICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gcGVuZGluZ1F1ZXVlO1xuICAgICAgICBob29rLmJhc2VTdGF0ZSA9IGJhc2VGaXJzdDtcbiAgICAgICAgaG9vay5iYXNlUXVldWUgPSBuZXdCYXNlUXVldWVMYXN0O1xuICAgICAgICBxdWV1ZS5sYXN0UmVuZGVyZWRTdGF0ZSA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgIH1cbiAgICAgIG51bGwgPT09IGJhc2VRdWV1ZSAmJiAocXVldWUubGFuZXMgPSAwKTtcbiAgICAgIHJldHVybiBbaG9vay5tZW1vaXplZFN0YXRlLCBxdWV1ZS5kaXNwYXRjaF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcmVuZGVyUmVkdWNlcihyZWR1Y2VyKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLFxuICAgICAgICBxdWV1ZSA9IGhvb2sucXVldWU7XG4gICAgICBpZiAobnVsbCA9PT0gcXVldWUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiU2hvdWxkIGhhdmUgYSBxdWV1ZS4gWW91IGFyZSBsaWtlbHkgY2FsbGluZyBIb29rcyBjb25kaXRpb25hbGx5LCB3aGljaCBpcyBub3QgYWxsb3dlZC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwpXCJcbiAgICAgICAgKTtcbiAgICAgIHF1ZXVlLmxhc3RSZW5kZXJlZFJlZHVjZXIgPSByZWR1Y2VyO1xuICAgICAgdmFyIGRpc3BhdGNoID0gcXVldWUuZGlzcGF0Y2gsXG4gICAgICAgIGxhc3RSZW5kZXJQaGFzZVVwZGF0ZSA9IHF1ZXVlLnBlbmRpbmcsXG4gICAgICAgIG5ld1N0YXRlID0gaG9vay5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKG51bGwgIT09IGxhc3RSZW5kZXJQaGFzZVVwZGF0ZSkge1xuICAgICAgICBxdWV1ZS5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IChsYXN0UmVuZGVyUGhhc2VVcGRhdGUgPSBsYXN0UmVuZGVyUGhhc2VVcGRhdGUubmV4dCk7XG4gICAgICAgIGRvXG4gICAgICAgICAgKG5ld1N0YXRlID0gcmVkdWNlcihuZXdTdGF0ZSwgdXBkYXRlLmFjdGlvbikpLCAodXBkYXRlID0gdXBkYXRlLm5leHQpO1xuICAgICAgICB3aGlsZSAodXBkYXRlICE9PSBsYXN0UmVuZGVyUGhhc2VVcGRhdGUpO1xuICAgICAgICBvYmplY3RJcyhuZXdTdGF0ZSwgaG9vay5tZW1vaXplZFN0YXRlKSB8fCAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKTtcbiAgICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIG51bGwgPT09IGhvb2suYmFzZVF1ZXVlICYmIChob29rLmJhc2VTdGF0ZSA9IG5ld1N0YXRlKTtcbiAgICAgICAgcXVldWUubGFzdFJlbmRlcmVkU3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbbmV3U3RhdGUsIGRpc3BhdGNoXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTeW5jRXh0ZXJuYWxTdG9yZShzdWJzY3JpYmUsIGdldFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCkge1xuICAgICAgdmFyIGZpYmVyID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZ2V0U2VydmVyU25hcHNob3QpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIk1pc3NpbmcgZ2V0U2VydmVyU25hcHNob3QsIHdoaWNoIGlzIHJlcXVpcmVkIGZvciBzZXJ2ZXItcmVuZGVyZWQgY29udGVudC4gV2lsbCByZXZlcnQgdG8gY2xpZW50IHJlbmRlcmluZy5cIlxuICAgICAgICAgICk7XG4gICAgICAgIHZhciBuZXh0U25hcHNob3QgPSBnZXRTZXJ2ZXJTbmFwc2hvdCgpO1xuICAgICAgICBkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdCB8fFxuICAgICAgICAgIG5leHRTbmFwc2hvdCA9PT0gZ2V0U2VydmVyU25hcHNob3QoKSB8fFxuICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgcmVzdWx0IG9mIGdldFNlcnZlclNuYXBzaG90IHNob3VsZCBiZSBjYWNoZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgPSAhMCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dFNuYXBzaG90ID0gZ2V0U25hcHNob3QoKTtcbiAgICAgICAgZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgfHxcbiAgICAgICAgICAoKGdldFNlcnZlclNuYXBzaG90ID0gZ2V0U25hcHNob3QoKSksXG4gICAgICAgICAgb2JqZWN0SXMobmV4dFNuYXBzaG90LCBnZXRTZXJ2ZXJTbmFwc2hvdCkgfHxcbiAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlRoZSByZXN1bHQgb2YgZ2V0U25hcHNob3Qgc2hvdWxkIGJlIGNhY2hlZCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgPSAhMCkpKTtcbiAgICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdClcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYSB3b3JrLWluLXByb2dyZXNzIHJvb3QuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgMCAhPT0gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNjApIHx8XG4gICAgICAgICAgcHVzaFN0b3JlQ29uc2lzdGVuY3lDaGVjayhmaWJlciwgZ2V0U25hcHNob3QsIG5leHRTbmFwc2hvdCk7XG4gICAgICB9XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBuZXh0U25hcHNob3Q7XG4gICAgICBnZXRTZXJ2ZXJTbmFwc2hvdCA9IHsgdmFsdWU6IG5leHRTbmFwc2hvdCwgZ2V0U25hcHNob3Q6IGdldFNuYXBzaG90IH07XG4gICAgICBob29rLnF1ZXVlID0gZ2V0U2VydmVyU25hcHNob3Q7XG4gICAgICBtb3VudEVmZmVjdChcbiAgICAgICAgc3Vic2NyaWJlVG9TdG9yZS5iaW5kKG51bGwsIGZpYmVyLCBnZXRTZXJ2ZXJTbmFwc2hvdCwgc3Vic2NyaWJlKSxcbiAgICAgICAgW3N1YnNjcmliZV1cbiAgICAgICk7XG4gICAgICBmaWJlci5mbGFncyB8PSAyMDQ4O1xuICAgICAgcHVzaEVmZmVjdChcbiAgICAgICAgSGFzRWZmZWN0IHwgUGFzc2l2ZSxcbiAgICAgICAgdXBkYXRlU3RvcmVJbnN0YW5jZS5iaW5kKFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgZmliZXIsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3QsXG4gICAgICAgICAgbmV4dFNuYXBzaG90LFxuICAgICAgICAgIGdldFNuYXBzaG90XG4gICAgICAgICksXG4gICAgICAgIHsgZGVzdHJveTogdm9pZCAwIH0sXG4gICAgICAgIG51bGxcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV4dFNuYXBzaG90O1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgIHN1YnNjcmliZSxcbiAgICAgIGdldFNuYXBzaG90LFxuICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICApIHtcbiAgICAgIHZhciBmaWJlciA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKSxcbiAgICAgICAgaXNIeWRyYXRpbmckanNjb21wJDAgPSBpc0h5ZHJhdGluZztcbiAgICAgIGlmIChpc0h5ZHJhdGluZyRqc2NvbXAkMCkge1xuICAgICAgICBpZiAodm9pZCAwID09PSBnZXRTZXJ2ZXJTbmFwc2hvdClcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiTWlzc2luZyBnZXRTZXJ2ZXJTbmFwc2hvdCwgd2hpY2ggaXMgcmVxdWlyZWQgZm9yIHNlcnZlci1yZW5kZXJlZCBjb250ZW50LiBXaWxsIHJldmVydCB0byBjbGllbnQgcmVuZGVyaW5nLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3QgPSBnZXRTZXJ2ZXJTbmFwc2hvdCgpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgKChnZXRTZXJ2ZXJTbmFwc2hvdCA9IGdldFNuYXBzaG90KCkpLCAhZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QpXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNhY2hlZFNuYXBzaG90ID0gZ2V0U25hcHNob3QoKTtcbiAgICAgICAgb2JqZWN0SXMoZ2V0U2VydmVyU25hcHNob3QsIGNhY2hlZFNuYXBzaG90KSB8fFxuICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgcmVzdWx0IG9mIGdldFNuYXBzaG90IHNob3VsZCBiZSBjYWNoZWQgdG8gYXZvaWQgYW4gaW5maW5pdGUgbG9vcFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FyblVuY2FjaGVkR2V0U25hcHNob3QgPSAhMCkpO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICAoY2FjaGVkU25hcHNob3QgPSAhb2JqZWN0SXMoXG4gICAgICAgICAgKGN1cnJlbnRIb29rIHx8IGhvb2spLm1lbW9pemVkU3RhdGUsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKSlcbiAgICAgIClcbiAgICAgICAgKGhvb2subWVtb2l6ZWRTdGF0ZSA9IGdldFNlcnZlclNuYXBzaG90KSwgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCk7XG4gICAgICBob29rID0gaG9vay5xdWV1ZTtcbiAgICAgIHZhciBjcmVhdGUgPSBzdWJzY3JpYmVUb1N0b3JlLmJpbmQobnVsbCwgZmliZXIsIGhvb2ssIHN1YnNjcmliZSk7XG4gICAgICB1cGRhdGVFZmZlY3RJbXBsKDIwNDgsIFBhc3NpdmUsIGNyZWF0ZSwgW3N1YnNjcmliZV0pO1xuICAgICAgaWYgKFxuICAgICAgICBob29rLmdldFNuYXBzaG90ICE9PSBnZXRTbmFwc2hvdCB8fFxuICAgICAgICBjYWNoZWRTbmFwc2hvdCB8fFxuICAgICAgICAobnVsbCAhPT0gd29ya0luUHJvZ3Jlc3NIb29rICYmXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NIb29rLm1lbW9pemVkU3RhdGUudGFnICYgSGFzRWZmZWN0KVxuICAgICAgKSB7XG4gICAgICAgIGZpYmVyLmZsYWdzIHw9IDIwNDg7XG4gICAgICAgIHB1c2hFZmZlY3QoXG4gICAgICAgICAgSGFzRWZmZWN0IHwgUGFzc2l2ZSxcbiAgICAgICAgICB1cGRhdGVTdG9yZUluc3RhbmNlLmJpbmQoXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBob29rLFxuICAgICAgICAgICAgZ2V0U2VydmVyU25hcHNob3QsXG4gICAgICAgICAgICBnZXRTbmFwc2hvdFxuICAgICAgICAgICksXG4gICAgICAgICAgeyBkZXN0cm95OiB2b2lkIDAgfSxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICAgIGlmIChudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGEgd29yay1pbi1wcm9ncmVzcyByb290LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGlzSHlkcmF0aW5nJGpzY29tcCQwIHx8XG4gICAgICAgICAgMCAhPT0gKHJlbmRlckxhbmVzICYgNjApIHx8XG4gICAgICAgICAgcHVzaFN0b3JlQ29uc2lzdGVuY3lDaGVjayhmaWJlciwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBnZXRTZXJ2ZXJTbmFwc2hvdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFN0b3JlQ29uc2lzdGVuY3lDaGVjayhmaWJlciwgZ2V0U25hcHNob3QsIHJlbmRlcmVkU25hcHNob3QpIHtcbiAgICAgIGZpYmVyLmZsYWdzIHw9IDE2Mzg0O1xuICAgICAgZmliZXIgPSB7IGdldFNuYXBzaG90OiBnZXRTbmFwc2hvdCwgdmFsdWU6IHJlbmRlcmVkU25hcHNob3QgfTtcbiAgICAgIGdldFNuYXBzaG90ID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZTtcbiAgICAgIG51bGwgPT09IGdldFNuYXBzaG90XG4gICAgICAgID8gKChnZXRTbmFwc2hvdCA9IGNyZWF0ZUZ1bmN0aW9uQ29tcG9uZW50VXBkYXRlUXVldWUoKSksXG4gICAgICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWUgPSBnZXRTbmFwc2hvdCksXG4gICAgICAgICAgKGdldFNuYXBzaG90LnN0b3JlcyA9IFtmaWJlcl0pKVxuICAgICAgICA6ICgocmVuZGVyZWRTbmFwc2hvdCA9IGdldFNuYXBzaG90LnN0b3JlcyksXG4gICAgICAgICAgbnVsbCA9PT0gcmVuZGVyZWRTbmFwc2hvdFxuICAgICAgICAgICAgPyAoZ2V0U25hcHNob3Quc3RvcmVzID0gW2ZpYmVyXSlcbiAgICAgICAgICAgIDogcmVuZGVyZWRTbmFwc2hvdC5wdXNoKGZpYmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN0b3JlSW5zdGFuY2UoZmliZXIsIGluc3QsIG5leHRTbmFwc2hvdCwgZ2V0U25hcHNob3QpIHtcbiAgICAgIGluc3QudmFsdWUgPSBuZXh0U25hcHNob3Q7XG4gICAgICBpbnN0LmdldFNuYXBzaG90ID0gZ2V0U25hcHNob3Q7XG4gICAgICBjaGVja0lmU25hcHNob3RDaGFuZ2VkKGluc3QpICYmIGZvcmNlU3RvcmVSZXJlbmRlcihmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1YnNjcmliZVRvU3RvcmUoZmliZXIsIGluc3QsIHN1YnNjcmliZSkge1xuICAgICAgcmV0dXJuIHN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoZWNrSWZTbmFwc2hvdENoYW5nZWQoaW5zdCkgJiYgZm9yY2VTdG9yZVJlcmVuZGVyKGZpYmVyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0lmU25hcHNob3RDaGFuZ2VkKGluc3QpIHtcbiAgICAgIHZhciBsYXRlc3RHZXRTbmFwc2hvdCA9IGluc3QuZ2V0U25hcHNob3Q7XG4gICAgICBpbnN0ID0gaW5zdC52YWx1ZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBuZXh0VmFsdWUgPSBsYXRlc3RHZXRTbmFwc2hvdCgpO1xuICAgICAgICByZXR1cm4gIW9iamVjdElzKGluc3QsIG5leHRWYWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZvcmNlU3RvcmVSZXJlbmRlcihmaWJlcikge1xuICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gcm9vdCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFN0YXRlSW1wbChpbml0aWFsU3RhdGUpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgdmFyIGluaXRpYWxTdGF0ZUluaXRpYWxpemVyID0gaW5pdGlhbFN0YXRlO1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGVJbml0aWFsaXplcigpO1xuICAgICAgICBpZiAoc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYpIHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGluaXRpYWxTdGF0ZUluaXRpYWxpemVyKCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IGhvb2suYmFzZVN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgICAgaG9vay5xdWV1ZSA9IHtcbiAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBiYXNpY1N0YXRlUmVkdWNlcixcbiAgICAgICAgbGFzdFJlbmRlcmVkU3RhdGU6IGluaXRpYWxTdGF0ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiBob29rO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFN0YXRlKGluaXRpYWxTdGF0ZSkge1xuICAgICAgaW5pdGlhbFN0YXRlID0gbW91bnRTdGF0ZUltcGwoaW5pdGlhbFN0YXRlKTtcbiAgICAgIHZhciBxdWV1ZSA9IGluaXRpYWxTdGF0ZS5xdWV1ZSxcbiAgICAgICAgZGlzcGF0Y2ggPSBkaXNwYXRjaFNldFN0YXRlLmJpbmQoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICAgIHF1ZXVlXG4gICAgICAgICk7XG4gICAgICBxdWV1ZS5kaXNwYXRjaCA9IGRpc3BhdGNoO1xuICAgICAgcmV0dXJuIFtpbml0aWFsU3RhdGUubWVtb2l6ZWRTdGF0ZSwgZGlzcGF0Y2hdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudE9wdGltaXN0aWMocGFzc3Rocm91Z2gpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IGhvb2suYmFzZVN0YXRlID0gcGFzc3Rocm91Z2g7XG4gICAgICB2YXIgcXVldWUgPSB7XG4gICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgIGxhbmVzOiAwLFxuICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogbnVsbCxcbiAgICAgICAgbGFzdFJlbmRlcmVkU3RhdGU6IG51bGxcbiAgICAgIH07XG4gICAgICBob29rLnF1ZXVlID0gcXVldWU7XG4gICAgICBob29rID0gZGlzcGF0Y2hPcHRpbWlzdGljU2V0U3RhdGUuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgITAsXG4gICAgICAgIHF1ZXVlXG4gICAgICApO1xuICAgICAgcXVldWUuZGlzcGF0Y2ggPSBob29rO1xuICAgICAgcmV0dXJuIFtwYXNzdGhyb3VnaCwgaG9va107XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gdXBkYXRlT3B0aW1pc3RpY0ltcGwoaG9vaywgY3VycmVudEhvb2ssIHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlT3B0aW1pc3RpY0ltcGwoaG9vaywgY3VycmVudCwgcGFzc3Rocm91Z2gsIHJlZHVjZXIpIHtcbiAgICAgIGhvb2suYmFzZVN0YXRlID0gcGFzc3Rocm91Z2g7XG4gICAgICByZXR1cm4gdXBkYXRlUmVkdWNlckltcGwoXG4gICAgICAgIGhvb2ssXG4gICAgICAgIGN1cnJlbnRIb29rLFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWR1Y2VyID8gcmVkdWNlciA6IGJhc2ljU3RhdGVSZWR1Y2VyXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXJlbmRlck9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudEhvb2spXG4gICAgICAgIHJldHVybiB1cGRhdGVPcHRpbWlzdGljSW1wbChob29rLCBjdXJyZW50SG9vaywgcGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgICAgaG9vay5iYXNlU3RhdGUgPSBwYXNzdGhyb3VnaDtcbiAgICAgIHJldHVybiBbcGFzc3Rocm91Z2gsIGhvb2sucXVldWUuZGlzcGF0Y2hdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaEFjdGlvblN0YXRlKFxuICAgICAgZmliZXIsXG4gICAgICBhY3Rpb25RdWV1ZSxcbiAgICAgIHNldFBlbmRpbmdTdGF0ZSxcbiAgICAgIHNldFN0YXRlLFxuICAgICAgcGF5bG9hZFxuICAgICkge1xuICAgICAgaWYgKGlzUmVuZGVyUGhhc2VVcGRhdGUoZmliZXIpKVxuICAgICAgICB0aHJvdyBFcnJvcihcIkNhbm5vdCB1cGRhdGUgZm9ybSBzdGF0ZSB3aGlsZSByZW5kZXJpbmcuXCIpO1xuICAgICAgZmliZXIgPSBhY3Rpb25RdWV1ZS5hY3Rpb247XG4gICAgICBpZiAobnVsbCAhPT0gZmliZXIpIHtcbiAgICAgICAgdmFyIGFjdGlvbk5vZGUgPSB7XG4gICAgICAgICAgcGF5bG9hZDogcGF5bG9hZCxcbiAgICAgICAgICBhY3Rpb246IGZpYmVyLFxuICAgICAgICAgIG5leHQ6IG51bGwsXG4gICAgICAgICAgaXNUcmFuc2l0aW9uOiAhMCxcbiAgICAgICAgICBzdGF0dXM6IFwicGVuZGluZ1wiLFxuICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgIHJlYXNvbjogbnVsbCxcbiAgICAgICAgICBsaXN0ZW5lcnM6IFtdLFxuICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgYWN0aW9uTm9kZS5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5UXG4gICAgICAgICAgPyBzZXRQZW5kaW5nU3RhdGUoITApXG4gICAgICAgICAgOiAoYWN0aW9uTm9kZS5pc1RyYW5zaXRpb24gPSAhMSk7XG4gICAgICAgIHNldFN0YXRlKGFjdGlvbk5vZGUpO1xuICAgICAgICBzZXRQZW5kaW5nU3RhdGUgPSBhY3Rpb25RdWV1ZS5wZW5kaW5nO1xuICAgICAgICBudWxsID09PSBzZXRQZW5kaW5nU3RhdGVcbiAgICAgICAgICA/ICgoYWN0aW9uTm9kZS5uZXh0ID0gYWN0aW9uUXVldWUucGVuZGluZyA9IGFjdGlvbk5vZGUpLFxuICAgICAgICAgICAgcnVuQWN0aW9uU3RhdGVBY3Rpb24oYWN0aW9uUXVldWUsIGFjdGlvbk5vZGUpKVxuICAgICAgICAgIDogKChhY3Rpb25Ob2RlLm5leHQgPSBzZXRQZW5kaW5nU3RhdGUubmV4dCksXG4gICAgICAgICAgICAoYWN0aW9uUXVldWUucGVuZGluZyA9IHNldFBlbmRpbmdTdGF0ZS5uZXh0ID0gYWN0aW9uTm9kZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBydW5BY3Rpb25TdGF0ZUFjdGlvbihhY3Rpb25RdWV1ZSwgbm9kZSkge1xuICAgICAgdmFyIGFjdGlvbiA9IG5vZGUuYWN0aW9uLFxuICAgICAgICBwYXlsb2FkID0gbm9kZS5wYXlsb2FkLFxuICAgICAgICBwcmV2U3RhdGUgPSBhY3Rpb25RdWV1ZS5zdGF0ZTtcbiAgICAgIGlmIChub2RlLmlzVHJhbnNpdGlvbikge1xuICAgICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0ge307XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBjdXJyZW50VHJhbnNpdGlvbjtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVC5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBhY3Rpb24ocHJldlN0YXRlLCBwYXlsb2FkKSxcbiAgICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUztcbiAgICAgICAgICBudWxsICE9PSBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2goY3VycmVudFRyYW5zaXRpb24sIHJldHVyblZhbHVlKTtcbiAgICAgICAgICBoYW5kbGVBY3Rpb25SZXR1cm5WYWx1ZShhY3Rpb25RdWV1ZSwgbm9kZSwgcmV0dXJuVmFsdWUpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIG9uQWN0aW9uRXJyb3IoYWN0aW9uUXVldWUsIG5vZGUsIGVycm9yKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKSxcbiAgICAgICAgICAgIG51bGwgPT09IHByZXZUcmFuc2l0aW9uICYmXG4gICAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzICYmXG4gICAgICAgICAgICAgICgoYWN0aW9uUXVldWUgPSBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5zaXplKSxcbiAgICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuY2xlYXIoKSxcbiAgICAgICAgICAgICAgMTAgPCBhY3Rpb25RdWV1ZSAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgIFwiRGV0ZWN0ZWQgYSBsYXJnZSBudW1iZXIgb2YgdXBkYXRlcyBpbnNpZGUgc3RhcnRUcmFuc2l0aW9uLiBJZiB0aGlzIGlzIGR1ZSB0byBhIHN1YnNjcmlwdGlvbiBwbGVhc2UgcmUtd3JpdGUgaXQgdG8gdXNlIFJlYWN0IHByb3ZpZGVkIGhvb2tzLiBPdGhlcndpc2UgY29uY3VycmVudCBtb2RlIGd1YXJhbnRlZXMgYXJlIG9mZiB0aGUgdGFibGUuXCJcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgKGN1cnJlbnRUcmFuc2l0aW9uID0gYWN0aW9uKHByZXZTdGF0ZSwgcGF5bG9hZCkpLFxuICAgICAgICAgICAgaGFuZGxlQWN0aW9uUmV0dXJuVmFsdWUoYWN0aW9uUXVldWUsIG5vZGUsIGN1cnJlbnRUcmFuc2l0aW9uKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IkMykge1xuICAgICAgICAgIG9uQWN0aW9uRXJyb3IoYWN0aW9uUXVldWUsIG5vZGUsIGVycm9yJDMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUFjdGlvblJldHVyblZhbHVlKGFjdGlvblF1ZXVlLCBub2RlLCByZXR1cm5WYWx1ZSkge1xuICAgICAgbnVsbCAhPT0gcmV0dXJuVmFsdWUgJiZcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZSAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlblxuICAgICAgICA/IChyZXR1cm5WYWx1ZS50aGVuKFxuICAgICAgICAgICAgZnVuY3Rpb24gKG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgICBvbkFjdGlvblN1Y2Nlc3MoYWN0aW9uUXVldWUsIG5vZGUsIG5leHRTdGF0ZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiBvbkFjdGlvbkVycm9yKGFjdGlvblF1ZXVlLCBub2RlLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgICBub2RlLmlzVHJhbnNpdGlvbiB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJBbiBhc3luYyBmdW5jdGlvbiB3YXMgcGFzc2VkIHRvIHVzZUFjdGlvblN0YXRlLCBidXQgaXQgd2FzIGRpc3BhdGNoZWQgb3V0c2lkZSBvZiBhbiBhY3Rpb24gY29udGV4dC4gVGhpcyBpcyBsaWtlbHkgbm90IHdoYXQgeW91IGludGVuZGVkLiBFaXRoZXIgcGFzcyB0aGUgZGlzcGF0Y2ggZnVuY3Rpb24gdG8gYW4gYGFjdGlvbmAgcHJvcCwgb3IgZGlzcGF0Y2ggbWFudWFsbHkgaW5zaWRlIGBzdGFydFRyYW5zaXRpb25gXCJcbiAgICAgICAgICAgICkpXG4gICAgICAgIDogb25BY3Rpb25TdWNjZXNzKGFjdGlvblF1ZXVlLCBub2RlLCByZXR1cm5WYWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQWN0aW9uU3VjY2VzcyhhY3Rpb25RdWV1ZSwgYWN0aW9uTm9kZSwgbmV4dFN0YXRlKSB7XG4gICAgICBhY3Rpb25Ob2RlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCI7XG4gICAgICBhY3Rpb25Ob2RlLnZhbHVlID0gbmV4dFN0YXRlO1xuICAgICAgbm90aWZ5QWN0aW9uTGlzdGVuZXJzKGFjdGlvbk5vZGUpO1xuICAgICAgYWN0aW9uUXVldWUuc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICBhY3Rpb25Ob2RlID0gYWN0aW9uUXVldWUucGVuZGluZztcbiAgICAgIG51bGwgIT09IGFjdGlvbk5vZGUgJiZcbiAgICAgICAgKChuZXh0U3RhdGUgPSBhY3Rpb25Ob2RlLm5leHQpLFxuICAgICAgICBuZXh0U3RhdGUgPT09IGFjdGlvbk5vZGVcbiAgICAgICAgICA/IChhY3Rpb25RdWV1ZS5wZW5kaW5nID0gbnVsbClcbiAgICAgICAgICA6ICgobmV4dFN0YXRlID0gbmV4dFN0YXRlLm5leHQpLFxuICAgICAgICAgICAgKGFjdGlvbk5vZGUubmV4dCA9IG5leHRTdGF0ZSksXG4gICAgICAgICAgICBydW5BY3Rpb25TdGF0ZUFjdGlvbihhY3Rpb25RdWV1ZSwgbmV4dFN0YXRlKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvbkFjdGlvbkVycm9yKGFjdGlvblF1ZXVlLCBhY3Rpb25Ob2RlLCBlcnJvcikge1xuICAgICAgdmFyIGxhc3QgPSBhY3Rpb25RdWV1ZS5wZW5kaW5nO1xuICAgICAgYWN0aW9uUXVldWUucGVuZGluZyA9IG51bGw7XG4gICAgICBpZiAobnVsbCAhPT0gbGFzdCkge1xuICAgICAgICBsYXN0ID0gbGFzdC5uZXh0O1xuICAgICAgICBkb1xuICAgICAgICAgIChhY3Rpb25Ob2RlLnN0YXR1cyA9IFwicmVqZWN0ZWRcIiksXG4gICAgICAgICAgICAoYWN0aW9uTm9kZS5yZWFzb24gPSBlcnJvciksXG4gICAgICAgICAgICBub3RpZnlBY3Rpb25MaXN0ZW5lcnMoYWN0aW9uTm9kZSksXG4gICAgICAgICAgICAoYWN0aW9uTm9kZSA9IGFjdGlvbk5vZGUubmV4dCk7XG4gICAgICAgIHdoaWxlIChhY3Rpb25Ob2RlICE9PSBsYXN0KTtcbiAgICAgIH1cbiAgICAgIGFjdGlvblF1ZXVlLmFjdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vdGlmeUFjdGlvbkxpc3RlbmVycyhhY3Rpb25Ob2RlKSB7XG4gICAgICBhY3Rpb25Ob2RlID0gYWN0aW9uTm9kZS5saXN0ZW5lcnM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGlvbk5vZGUubGVuZ3RoOyBpKyspICgwLCBhY3Rpb25Ob2RlW2ldKSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY3Rpb25TdGF0ZVJlZHVjZXIob2xkU3RhdGUsIG5ld1N0YXRlKSB7XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGVQcm9wKSB7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgdmFyIHNzckZvcm1TdGF0ZSA9IHdvcmtJblByb2dyZXNzUm9vdC5mb3JtU3RhdGU7XG4gICAgICAgIGlmIChudWxsICE9PSBzc3JGb3JtU3RhdGUpIHtcbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICB2YXIgaXNNYXRjaGluZyA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDE7XG4gICAgICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICAgICAgaWYgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICBiOiB7XG4gICAgICAgICAgICAgICAgICB2YXIgbWFya2VySW5zdGFuY2UgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluUm9vdE9yU2luZ2xldG9uID0gcm9vdE9yU2luZ2xldG9uQ29udGV4dDtcbiAgICAgICAgICAgICAgICAgICAgOCAhPT0gbWFya2VySW5zdGFuY2Uubm9kZVR5cGU7XG5cbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWluUm9vdE9yU2luZ2xldG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShcbiAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZS5uZXh0U2libGluZ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gbWFya2VySW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaW5Sb290T3JTaW5nbGV0b24gPSBtYXJrZXJJbnN0YW5jZS5kYXRhO1xuICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UgPVxuICAgICAgICAgICAgICAgICAgICBpblJvb3RPclNpbmdsZXRvbiA9PT0gRk9STV9TVEFURV9JU19NQVRDSElORyB8fFxuICAgICAgICAgICAgICAgICAgICBpblJvb3RPclNpbmdsZXRvbiA9PT0gRk9STV9TVEFURV9JU19OT1RfTUFUQ0hJTkdcbiAgICAgICAgICAgICAgICAgICAgICA/IG1hcmtlckluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWFya2VySW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShcbiAgICAgICAgICAgICAgICAgICAgbWFya2VySW5zdGFuY2UubmV4dFNpYmxpbmdcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBpc01hdGNoaW5nID0gbWFya2VySW5zdGFuY2UuZGF0YSA9PT0gRk9STV9TVEFURV9JU19NQVRDSElORztcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHRocm93T25IeWRyYXRpb25NaXNtYXRjaChpc01hdGNoaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlzTWF0Y2hpbmcgPSAhMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaXNNYXRjaGluZyAmJiAoaW5pdGlhbFN0YXRlUHJvcCA9IHNzckZvcm1TdGF0ZVswXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNzckZvcm1TdGF0ZSA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBzc3JGb3JtU3RhdGUubWVtb2l6ZWRTdGF0ZSA9IHNzckZvcm1TdGF0ZS5iYXNlU3RhdGUgPSBpbml0aWFsU3RhdGVQcm9wO1xuICAgICAgaXNNYXRjaGluZyA9IHtcbiAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBhY3Rpb25TdGF0ZVJlZHVjZXIsXG4gICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBpbml0aWFsU3RhdGVQcm9wXG4gICAgICB9O1xuICAgICAgc3NyRm9ybVN0YXRlLnF1ZXVlID0gaXNNYXRjaGluZztcbiAgICAgIHNzckZvcm1TdGF0ZSA9IGRpc3BhdGNoU2V0U3RhdGUuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgaXNNYXRjaGluZ1xuICAgICAgKTtcbiAgICAgIGlzTWF0Y2hpbmcuZGlzcGF0Y2ggPSBzc3JGb3JtU3RhdGU7XG4gICAgICBpc01hdGNoaW5nID0gbW91bnRTdGF0ZUltcGwoITEpO1xuICAgICAgaW5Sb290T3JTaW5nbGV0b24gPSBkaXNwYXRjaE9wdGltaXN0aWNTZXRTdGF0ZS5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICAhMSxcbiAgICAgICAgaXNNYXRjaGluZy5xdWV1ZVxuICAgICAgKTtcbiAgICAgIGlzTWF0Y2hpbmcgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgbWFya2VySW5zdGFuY2UgPSB7XG4gICAgICAgIHN0YXRlOiBpbml0aWFsU3RhdGVQcm9wLFxuICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIHBlbmRpbmc6IG51bGxcbiAgICAgIH07XG4gICAgICBpc01hdGNoaW5nLnF1ZXVlID0gbWFya2VySW5zdGFuY2U7XG4gICAgICBzc3JGb3JtU3RhdGUgPSBkaXNwYXRjaEFjdGlvblN0YXRlLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgIG1hcmtlckluc3RhbmNlLFxuICAgICAgICBpblJvb3RPclNpbmdsZXRvbixcbiAgICAgICAgc3NyRm9ybVN0YXRlXG4gICAgICApO1xuICAgICAgbWFya2VySW5zdGFuY2UuZGlzcGF0Y2ggPSBzc3JGb3JtU3RhdGU7XG4gICAgICBpc01hdGNoaW5nLm1lbW9pemVkU3RhdGUgPSBhY3Rpb247XG4gICAgICByZXR1cm4gW2luaXRpYWxTdGF0ZVByb3AsIHNzckZvcm1TdGF0ZSwgITFdO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVBY3Rpb25TdGF0ZShhY3Rpb24pIHtcbiAgICAgIHZhciBzdGF0ZUhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZUltcGwoc3RhdGVIb29rLCBjdXJyZW50SG9vaywgYWN0aW9uKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQWN0aW9uU3RhdGVJbXBsKHN0YXRlSG9vaywgY3VycmVudFN0YXRlSG9vaywgYWN0aW9uKSB7XG4gICAgICBjdXJyZW50U3RhdGVIb29rID0gdXBkYXRlUmVkdWNlckltcGwoXG4gICAgICAgIHN0YXRlSG9vayxcbiAgICAgICAgY3VycmVudFN0YXRlSG9vayxcbiAgICAgICAgYWN0aW9uU3RhdGVSZWR1Y2VyXG4gICAgICApWzBdO1xuICAgICAgc3RhdGVIb29rID0gdXBkYXRlUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcilbMF07XG4gICAgICBjdXJyZW50U3RhdGVIb29rID1cbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGN1cnJlbnRTdGF0ZUhvb2sgJiZcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudFN0YXRlSG9vayAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjdXJyZW50U3RhdGVIb29rLnRoZW5cbiAgICAgICAgICA/IHVzZVRoZW5hYmxlKGN1cnJlbnRTdGF0ZUhvb2spXG4gICAgICAgICAgOiBjdXJyZW50U3RhdGVIb29rO1xuICAgICAgdmFyIGFjdGlvblF1ZXVlSG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLFxuICAgICAgICBhY3Rpb25RdWV1ZSA9IGFjdGlvblF1ZXVlSG9vay5xdWV1ZSxcbiAgICAgICAgZGlzcGF0Y2ggPSBhY3Rpb25RdWV1ZS5kaXNwYXRjaDtcbiAgICAgIGFjdGlvbiAhPT0gYWN0aW9uUXVldWVIb29rLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgKChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmZsYWdzIHw9IDIwNDgpLFxuICAgICAgICBwdXNoRWZmZWN0KFxuICAgICAgICAgIEhhc0VmZmVjdCB8IFBhc3NpdmUsXG4gICAgICAgICAgYWN0aW9uU3RhdGVBY3Rpb25FZmZlY3QuYmluZChudWxsLCBhY3Rpb25RdWV1ZSwgYWN0aW9uKSxcbiAgICAgICAgICB7IGRlc3Ryb3k6IHZvaWQgMCB9LFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKSk7XG4gICAgICByZXR1cm4gW2N1cnJlbnRTdGF0ZUhvb2ssIGRpc3BhdGNoLCBzdGF0ZUhvb2tdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY3Rpb25TdGF0ZUFjdGlvbkVmZmVjdChhY3Rpb25RdWV1ZSwgYWN0aW9uKSB7XG4gICAgICBhY3Rpb25RdWV1ZS5hY3Rpb24gPSBhY3Rpb247XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcmVuZGVyQWN0aW9uU3RhdGUoYWN0aW9uKSB7XG4gICAgICB2YXIgc3RhdGVIb29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCksXG4gICAgICAgIGN1cnJlbnRTdGF0ZUhvb2sgPSBjdXJyZW50SG9vaztcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50U3RhdGVIb29rKVxuICAgICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGVJbXBsKHN0YXRlSG9vaywgY3VycmVudFN0YXRlSG9vaywgYWN0aW9uKTtcbiAgICAgIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgc3RhdGVIb29rID0gc3RhdGVIb29rLm1lbW9pemVkU3RhdGU7XG4gICAgICBjdXJyZW50U3RhdGVIb29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICB2YXIgZGlzcGF0Y2ggPSBjdXJyZW50U3RhdGVIb29rLnF1ZXVlLmRpc3BhdGNoO1xuICAgICAgY3VycmVudFN0YXRlSG9vay5tZW1vaXplZFN0YXRlID0gYWN0aW9uO1xuICAgICAgcmV0dXJuIFtzdGF0ZUhvb2ssIGRpc3BhdGNoLCAhMV07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hFZmZlY3QodGFnLCBjcmVhdGUsIGluc3QsIGRlcHMpIHtcbiAgICAgIHRhZyA9IHsgdGFnOiB0YWcsIGNyZWF0ZTogY3JlYXRlLCBpbnN0OiBpbnN0LCBkZXBzOiBkZXBzLCBuZXh0OiBudWxsIH07XG4gICAgICBjcmVhdGUgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLnVwZGF0ZVF1ZXVlO1xuICAgICAgbnVsbCA9PT0gY3JlYXRlICYmXG4gICAgICAgICgoY3JlYXRlID0gY3JlYXRlRnVuY3Rpb25Db21wb25lbnRVcGRhdGVRdWV1ZSgpKSxcbiAgICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWUgPSBjcmVhdGUpKTtcbiAgICAgIGluc3QgPSBjcmVhdGUubGFzdEVmZmVjdDtcbiAgICAgIG51bGwgPT09IGluc3RcbiAgICAgICAgPyAoY3JlYXRlLmxhc3RFZmZlY3QgPSB0YWcubmV4dCA9IHRhZylcbiAgICAgICAgOiAoKGRlcHMgPSBpbnN0Lm5leHQpLFxuICAgICAgICAgIChpbnN0Lm5leHQgPSB0YWcpLFxuICAgICAgICAgICh0YWcubmV4dCA9IGRlcHMpLFxuICAgICAgICAgIChjcmVhdGUubGFzdEVmZmVjdCA9IHRhZykpO1xuICAgICAgcmV0dXJuIHRhZztcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRSZWYoaW5pdGlhbFZhbHVlKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBpbml0aWFsVmFsdWUgPSB7IGN1cnJlbnQ6IGluaXRpYWxWYWx1ZSB9O1xuICAgICAgcmV0dXJuIChob29rLm1lbW9pemVkU3RhdGUgPSBpbml0aWFsVmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEVmZmVjdEltcGwoZmliZXJGbGFncywgaG9va0ZsYWdzLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuZmxhZ3MgfD0gZmliZXJGbGFncztcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IHB1c2hFZmZlY3QoXG4gICAgICAgIEhhc0VmZmVjdCB8IGhvb2tGbGFncyxcbiAgICAgICAgY3JlYXRlLFxuICAgICAgICB7IGRlc3Ryb3k6IHZvaWQgMCB9LFxuICAgICAgICB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwc1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRWZmZWN0SW1wbChmaWJlckZsYWdzLCBob29rRmxhZ3MsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGRlcHMgPSB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwcztcbiAgICAgIHZhciBpbnN0ID0gaG9vay5tZW1vaXplZFN0YXRlLmluc3Q7XG4gICAgICBudWxsICE9PSBjdXJyZW50SG9vayAmJlxuICAgICAgbnVsbCAhPT0gZGVwcyAmJlxuICAgICAgYXJlSG9va0lucHV0c0VxdWFsKGRlcHMsIGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUuZGVwcylcbiAgICAgICAgPyAoaG9vay5tZW1vaXplZFN0YXRlID0gcHVzaEVmZmVjdChob29rRmxhZ3MsIGNyZWF0ZSwgaW5zdCwgZGVwcykpXG4gICAgICAgIDogKChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmZsYWdzIHw9IGZpYmVyRmxhZ3MpLFxuICAgICAgICAgIChob29rLm1lbW9pemVkU3RhdGUgPSBwdXNoRWZmZWN0KFxuICAgICAgICAgICAgSGFzRWZmZWN0IHwgaG9va0ZsYWdzLFxuICAgICAgICAgICAgY3JlYXRlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGRlcHNcbiAgICAgICAgICApKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcykge1xuICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tb2RlICYgTm9TdHJpY3RQYXNzaXZlRWZmZWN0c01vZGUpID09PSBOb01vZGVcbiAgICAgICAgPyBtb3VudEVmZmVjdEltcGwoMTQyNjA4Mzg0LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpXG4gICAgICAgIDogbW91bnRFZmZlY3RJbXBsKDgzOTA2NTYsIFBhc3NpdmUsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50TGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcykge1xuICAgICAgdmFyIGZpYmVyRmxhZ3MgPSA0MTk0MzA4O1xuICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgIChmaWJlckZsYWdzIHw9IDY3MTA4ODY0KTtcbiAgICAgIHJldHVybiBtb3VudEVmZmVjdEltcGwoZmliZXJGbGFncywgTGF5b3V0LCBjcmVhdGUsIGRlcHMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbXBlcmF0aXZlSGFuZGxlRWZmZWN0KGNyZWF0ZSwgcmVmKSB7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVmKSB7XG4gICAgICAgIGNyZWF0ZSA9IGNyZWF0ZSgpO1xuICAgICAgICB2YXIgcmVmQ2xlYW51cCA9IHJlZihjcmVhdGUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlZkNsZWFudXAgPyByZWZDbGVhbnVwKCkgOiByZWYobnVsbCk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAobnVsbCAhPT0gcmVmICYmIHZvaWQgMCAhPT0gcmVmKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHJlZi5oYXNPd25Qcm9wZXJ0eShcImN1cnJlbnRcIikgfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgdXNlSW1wZXJhdGl2ZUhhbmRsZSgpIGZpcnN0IGFyZ3VtZW50IHRvIGVpdGhlciBiZSBhIHJlZiBjYWxsYmFjayBvciBSZWFjdC5jcmVhdGVSZWYoKSBvYmplY3QuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICAgICAgICBcImFuIG9iamVjdCB3aXRoIGtleXMge1wiICsgT2JqZWN0LmtleXMocmVmKS5qb2luKFwiLCBcIikgKyBcIn1cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAoY3JlYXRlID0gY3JlYXRlKCkpLFxuICAgICAgICAgIChyZWYuY3VycmVudCA9IGNyZWF0ZSksXG4gICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIHVzZUltcGVyYXRpdmVIYW5kbGUoKSBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBoYW5kbGUuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICAgIG51bGwgIT09IGNyZWF0ZSA/IHR5cGVvZiBjcmVhdGUgOiBcIm51bGxcIlxuICAgICAgICApO1xuICAgICAgZGVwcyA9IG51bGwgIT09IGRlcHMgJiYgdm9pZCAwICE9PSBkZXBzID8gZGVwcy5jb25jYXQoW3JlZl0pIDogbnVsbDtcbiAgICAgIHZhciBmaWJlckZsYWdzID0gNDE5NDMwODtcbiAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAoZmliZXJGbGFncyB8PSA2NzEwODg2NCk7XG4gICAgICBtb3VudEVmZmVjdEltcGwoXG4gICAgICAgIGZpYmVyRmxhZ3MsXG4gICAgICAgIExheW91dCxcbiAgICAgICAgaW1wZXJhdGl2ZUhhbmRsZUVmZmVjdC5iaW5kKG51bGwsIGNyZWF0ZSwgcmVmKSxcbiAgICAgICAgZGVwc1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY3JlYXRlICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB1c2VJbXBlcmF0aXZlSGFuZGxlKCkgc2Vjb25kIGFyZ3VtZW50IHRvIGJlIGEgZnVuY3Rpb24gdGhhdCBjcmVhdGVzIGEgaGFuZGxlLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICBudWxsICE9PSBjcmVhdGUgPyB0eXBlb2YgY3JlYXRlIDogXCJudWxsXCJcbiAgICAgICAgKTtcbiAgICAgIGRlcHMgPSBudWxsICE9PSBkZXBzICYmIHZvaWQgMCAhPT0gZGVwcyA/IGRlcHMuY29uY2F0KFtyZWZdKSA6IG51bGw7XG4gICAgICB1cGRhdGVFZmZlY3RJbXBsKFxuICAgICAgICA0LFxuICAgICAgICBMYXlvdXQsXG4gICAgICAgIGltcGVyYXRpdmVIYW5kbGVFZmZlY3QuYmluZChudWxsLCBjcmVhdGUsIHJlZiksXG4gICAgICAgIGRlcHNcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50Q2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgIG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZSA9IFtcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIHZvaWQgMCA9PT0gZGVwcyA/IG51bGwgOiBkZXBzXG4gICAgICBdO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDYWxsYmFjayhjYWxsYmFjaywgZGVwcykge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGRlcHMgPSB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwcztcbiAgICAgIHZhciBwcmV2U3RhdGUgPSBob29rLm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAobnVsbCAhPT0gZGVwcyAmJiBhcmVIb29rSW5wdXRzRXF1YWwoZGVwcywgcHJldlN0YXRlWzFdKSlcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZVswXTtcbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IFtjYWxsYmFjaywgZGVwc107XG4gICAgICByZXR1cm4gY2FsbGJhY2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50TWVtbyhuZXh0Q3JlYXRlLCBkZXBzKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBkZXBzID0gdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHM7XG4gICAgICB2YXIgbmV4dFZhbHVlID0gbmV4dENyZWF0ZSgpO1xuICAgICAgaWYgKHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWKSB7XG4gICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuZXh0Q3JlYXRlKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBbbmV4dFZhbHVlLCBkZXBzXTtcbiAgICAgIHJldHVybiBuZXh0VmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU1lbW8obmV4dENyZWF0ZSwgZGVwcykge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGRlcHMgPSB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwcztcbiAgICAgIHZhciBwcmV2U3RhdGUgPSBob29rLm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAobnVsbCAhPT0gZGVwcyAmJiBhcmVIb29rSW5wdXRzRXF1YWwoZGVwcywgcHJldlN0YXRlWzFdKSlcbiAgICAgICAgcmV0dXJuIHByZXZTdGF0ZVswXTtcbiAgICAgIHByZXZTdGF0ZSA9IG5leHRDcmVhdGUoKTtcbiAgICAgIGlmIChzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFVikge1xuICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbmV4dENyZWF0ZSgpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gW3ByZXZTdGF0ZSwgZGVwc107XG4gICAgICByZXR1cm4gcHJldlN0YXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudERlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgcmV0dXJuIG1vdW50RGVmZXJyZWRWYWx1ZUltcGwoaG9vaywgdmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiB1cGRhdGVEZWZlcnJlZFZhbHVlSW1wbChcbiAgICAgICAgaG9vayxcbiAgICAgICAgY3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGluaXRpYWxWYWx1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVyZW5kZXJEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gY3VycmVudEhvb2tcbiAgICAgICAgPyBtb3VudERlZmVycmVkVmFsdWVJbXBsKGhvb2ssIHZhbHVlLCBpbml0aWFsVmFsdWUpXG4gICAgICAgIDogdXBkYXRlRGVmZXJyZWRWYWx1ZUltcGwoXG4gICAgICAgICAgICBob29rLFxuICAgICAgICAgICAgY3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgaW5pdGlhbFZhbHVlXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnREZWZlcnJlZFZhbHVlSW1wbChob29rLCB2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBpbml0aWFsVmFsdWUgfHwgMCAhPT0gKHJlbmRlckxhbmVzICYgMTA3Mzc0MTgyNCkpXG4gICAgICAgIHJldHVybiAoaG9vay5tZW1vaXplZFN0YXRlID0gdmFsdWUpO1xuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gaW5pdGlhbFZhbHVlO1xuICAgICAgaG9vayA9IHJlcXVlc3REZWZlcnJlZExhbmUoKTtcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubGFuZXMgfD0gaG9vaztcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSBob29rO1xuICAgICAgcmV0dXJuIGluaXRpYWxWYWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRGVmZXJyZWRWYWx1ZUltcGwoaG9vaywgcHJldlZhbHVlLCB2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICBpZiAob2JqZWN0SXModmFsdWUsIHByZXZWYWx1ZSkpIHJldHVybiB2YWx1ZTtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLmN1cnJlbnQpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGhvb2sgPSBtb3VudERlZmVycmVkVmFsdWVJbXBsKGhvb2ssIHZhbHVlLCBpbml0aWFsVmFsdWUpKSxcbiAgICAgICAgICBvYmplY3RJcyhob29rLCBwcmV2VmFsdWUpIHx8IChkaWRSZWNlaXZlVXBkYXRlID0gITApLFxuICAgICAgICAgIGhvb2tcbiAgICAgICAgKTtcbiAgICAgIGlmICgwID09PSAocmVuZGVyTGFuZXMgJiA0MikpXG4gICAgICAgIHJldHVybiAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKSwgKGhvb2subWVtb2l6ZWRTdGF0ZSA9IHZhbHVlKTtcbiAgICAgIGhvb2sgPSByZXF1ZXN0RGVmZXJyZWRMYW5lKCk7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmxhbmVzIHw9IGhvb2s7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgfD0gaG9vaztcbiAgICAgIHJldHVybiBwcmV2VmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0VHJhbnNpdGlvbihcbiAgICAgIGZpYmVyLFxuICAgICAgcXVldWUsXG4gICAgICBwZW5kaW5nU3RhdGUsXG4gICAgICBmaW5pc2hlZFN0YXRlLFxuICAgICAgY2FsbGJhY2tcbiAgICApIHtcbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPVxuICAgICAgICAwICE9PSBwcmV2aW91c1ByaW9yaXR5ICYmIHByZXZpb3VzUHJpb3JpdHkgPCBDb250aW51b3VzRXZlbnRQcmlvcml0eVxuICAgICAgICAgID8gcHJldmlvdXNQcmlvcml0eVxuICAgICAgICAgIDogQ29udGludW91c0V2ZW50UHJpb3JpdHk7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICBjdXJyZW50VHJhbnNpdGlvbiA9IHt9O1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IGN1cnJlbnRUcmFuc2l0aW9uO1xuICAgICAgZGlzcGF0Y2hPcHRpbWlzdGljU2V0U3RhdGUoZmliZXIsICExLCBxdWV1ZSwgcGVuZGluZ1N0YXRlKTtcbiAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzID0gbmV3IFNldCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gY2FsbGJhY2soKSxcbiAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlM7XG4gICAgICAgIG51bGwgIT09IG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoICYmXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2goY3VycmVudFRyYW5zaXRpb24sIHJldHVyblZhbHVlKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgdGhlbmFibGVGb3JGaW5pc2hlZFN0YXRlID0gY2hhaW5UaGVuYWJsZVZhbHVlKFxuICAgICAgICAgICAgcmV0dXJuVmFsdWUsXG4gICAgICAgICAgICBmaW5pc2hlZFN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaXNwYXRjaFNldFN0YXRlSW50ZXJuYWwoXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIHF1ZXVlLFxuICAgICAgICAgICAgdGhlbmFibGVGb3JGaW5pc2hlZFN0YXRlLFxuICAgICAgICAgICAgcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICAgIGZpbmlzaGVkU3RhdGUsXG4gICAgICAgICAgICByZXF1ZXN0VXBkYXRlTGFuZShmaWJlcilcbiAgICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgIHF1ZXVlLFxuICAgICAgICAgIHsgdGhlbjogZnVuY3Rpb24gKCkge30sIHN0YXR1czogXCJyZWplY3RlZFwiLCByZWFzb246IGVycm9yIH0sXG4gICAgICAgICAgcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpXG4gICAgICAgICk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzUHJpb3JpdHkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pLFxuICAgICAgICAgIG51bGwgPT09IHByZXZUcmFuc2l0aW9uICYmXG4gICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyAmJlxuICAgICAgICAgICAgKChmaWJlciA9IGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLnNpemUpLFxuICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuY2xlYXIoKSxcbiAgICAgICAgICAgIDEwIDwgZmliZXIgJiZcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgIFwiRGV0ZWN0ZWQgYSBsYXJnZSBudW1iZXIgb2YgdXBkYXRlcyBpbnNpZGUgc3RhcnRUcmFuc2l0aW9uLiBJZiB0aGlzIGlzIGR1ZSB0byBhIHN1YnNjcmlwdGlvbiBwbGVhc2UgcmUtd3JpdGUgaXQgdG8gdXNlIFJlYWN0IHByb3ZpZGVkIGhvb2tzLiBPdGhlcndpc2UgY29uY3VycmVudCBtb2RlIGd1YXJhbnRlZXMgYXJlIG9mZiB0aGUgdGFibGUuXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0SG9zdFRyYW5zaXRpb24oZm9ybUZpYmVyLCBwZW5kaW5nU3RhdGUsIGFjdGlvbiwgZm9ybURhdGEpIHtcbiAgICAgIGlmICg1ICE9PSBmb3JtRmliZXIudGFnKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIHRoZSBmb3JtIGluc3RhbmNlIHRvIGJlIGEgSG9zdENvbXBvbmVudC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHF1ZXVlID0gZW5zdXJlRm9ybUNvbXBvbmVudElzU3RhdGVmdWwoZm9ybUZpYmVyKS5xdWV1ZTtcbiAgICAgIHN0YXJ0VHJhbnNpdGlvbihcbiAgICAgICAgZm9ybUZpYmVyLFxuICAgICAgICBxdWV1ZSxcbiAgICAgICAgcGVuZGluZ1N0YXRlLFxuICAgICAgICBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgbnVsbCA9PT0gYWN0aW9uXG4gICAgICAgICAgPyBub29wJDJcbiAgICAgICAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmVxdWVzdEZvcm1SZXNldCQxKGZvcm1GaWJlcik7XG4gICAgICAgICAgICAgIHJldHVybiBhY3Rpb24oZm9ybURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5zdXJlRm9ybUNvbXBvbmVudElzU3RhdGVmdWwoZm9ybUZpYmVyKSB7XG4gICAgICB2YXIgZXhpc3RpbmdTdGF0ZUhvb2sgPSBmb3JtRmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGlmIChudWxsICE9PSBleGlzdGluZ1N0YXRlSG9vaykgcmV0dXJuIGV4aXN0aW5nU3RhdGVIb29rO1xuICAgICAgZXhpc3RpbmdTdGF0ZUhvb2sgPSB7XG4gICAgICAgIG1lbW9pemVkU3RhdGU6IE5vdFBlbmRpbmdUcmFuc2l0aW9uLFxuICAgICAgICBiYXNlU3RhdGU6IE5vdFBlbmRpbmdUcmFuc2l0aW9uLFxuICAgICAgICBiYXNlUXVldWU6IG51bGwsXG4gICAgICAgIHF1ZXVlOiB7XG4gICAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgICBsYW5lczogMCxcbiAgICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBiYXNpY1N0YXRlUmVkdWNlcixcbiAgICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogTm90UGVuZGluZ1RyYW5zaXRpb25cbiAgICAgICAgfSxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIHZhciBpbml0aWFsUmVzZXRTdGF0ZSA9IHt9O1xuICAgICAgZXhpc3RpbmdTdGF0ZUhvb2submV4dCA9IHtcbiAgICAgICAgbWVtb2l6ZWRTdGF0ZTogaW5pdGlhbFJlc2V0U3RhdGUsXG4gICAgICAgIGJhc2VTdGF0ZTogaW5pdGlhbFJlc2V0U3RhdGUsXG4gICAgICAgIGJhc2VRdWV1ZTogbnVsbCxcbiAgICAgICAgcXVldWU6IHtcbiAgICAgICAgICBwZW5kaW5nOiBudWxsLFxuICAgICAgICAgIGxhbmVzOiAwLFxuICAgICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICAgIGxhc3RSZW5kZXJlZFJlZHVjZXI6IGJhc2ljU3RhdGVSZWR1Y2VyLFxuICAgICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBpbml0aWFsUmVzZXRTdGF0ZVxuICAgICAgICB9LFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgZm9ybUZpYmVyLm1lbW9pemVkU3RhdGUgPSBleGlzdGluZ1N0YXRlSG9vaztcbiAgICAgIGZvcm1GaWJlciA9IGZvcm1GaWJlci5hbHRlcm5hdGU7XG4gICAgICBudWxsICE9PSBmb3JtRmliZXIgJiYgKGZvcm1GaWJlci5tZW1vaXplZFN0YXRlID0gZXhpc3RpbmdTdGF0ZUhvb2spO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nU3RhdGVIb29rO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0Rm9ybVJlc2V0JDEoZm9ybUZpYmVyKSB7XG4gICAgICBudWxsID09PSBSZWFjdFNoYXJlZEludGVybmFscy5UICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJyZXF1ZXN0Rm9ybVJlc2V0IHdhcyBjYWxsZWQgb3V0c2lkZSBhIHRyYW5zaXRpb24gb3IgYWN0aW9uLiBUbyBmaXgsIG1vdmUgdG8gYW4gYWN0aW9uLCBvciB3cmFwIHdpdGggc3RhcnRUcmFuc2l0aW9uLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgcmVzZXRTdGF0ZVF1ZXVlID0gZW5zdXJlRm9ybUNvbXBvbmVudElzU3RhdGVmdWwoZm9ybUZpYmVyKS5uZXh0LnF1ZXVlO1xuICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICBmb3JtRmliZXIsXG4gICAgICAgIHJlc2V0U3RhdGVRdWV1ZSxcbiAgICAgICAge30sXG4gICAgICAgIHJlcXVlc3RVcGRhdGVMYW5lKGZvcm1GaWJlcilcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50VHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciBzdGF0ZUhvb2sgPSBtb3VudFN0YXRlSW1wbCghMSk7XG4gICAgICBzdGF0ZUhvb2sgPSBzdGFydFRyYW5zaXRpb24uYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgc3RhdGVIb29rLnF1ZXVlLFxuICAgICAgICAhMCxcbiAgICAgICAgITFcbiAgICAgICk7XG4gICAgICBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGUgPSBzdGF0ZUhvb2s7XG4gICAgICByZXR1cm4gWyExLCBzdGF0ZUhvb2tdO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIGJvb2xlYW5PclRoZW5hYmxlID0gdXBkYXRlUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcilbMF0sXG4gICAgICAgIHN0YXJ0ID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgYm9vbGVhbk9yVGhlbmFibGVcbiAgICAgICAgICA/IGJvb2xlYW5PclRoZW5hYmxlXG4gICAgICAgICAgOiB1c2VUaGVuYWJsZShib29sZWFuT3JUaGVuYWJsZSksXG4gICAgICAgIHN0YXJ0XG4gICAgICBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXJlbmRlclRyYW5zaXRpb24oKSB7XG4gICAgICB2YXIgYm9vbGVhbk9yVGhlbmFibGUgPSByZXJlbmRlclJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpWzBdLFxuICAgICAgICBzdGFydCA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICByZXR1cm4gW1xuICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIGJvb2xlYW5PclRoZW5hYmxlXG4gICAgICAgICAgPyBib29sZWFuT3JUaGVuYWJsZVxuICAgICAgICAgIDogdXNlVGhlbmFibGUoYm9vbGVhbk9yVGhlbmFibGUpLFxuICAgICAgICBzdGFydFxuICAgICAgXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlSG9zdFRyYW5zaXRpb25TdGF0dXMoKSB7XG4gICAgICByZXR1cm4gcmVhZENvbnRleHQoSG9zdFRyYW5zaXRpb25Db250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRJZCgpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCA9IHdvcmtJblByb2dyZXNzUm9vdC5pZGVudGlmaWVyUHJlZml4O1xuICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgIHZhciB0cmVlSWQgPSB0cmVlQ29udGV4dE92ZXJmbG93O1xuICAgICAgICB2YXIgaWRXaXRoTGVhZGluZ0JpdCA9IHRyZWVDb250ZXh0SWQ7XG4gICAgICAgIHRyZWVJZCA9XG4gICAgICAgICAgKFxuICAgICAgICAgICAgaWRXaXRoTGVhZGluZ0JpdCAmIH4oMSA8PCAoMzIgLSBjbHozMihpZFdpdGhMZWFkaW5nQml0KSAtIDEpKVxuICAgICAgICAgICkudG9TdHJpbmcoMzIpICsgdHJlZUlkO1xuICAgICAgICBpZGVudGlmaWVyUHJlZml4ID0gXCI6XCIgKyBpZGVudGlmaWVyUHJlZml4ICsgXCJSXCIgKyB0cmVlSWQ7XG4gICAgICAgIHRyZWVJZCA9IGxvY2FsSWRDb3VudGVyKys7XG4gICAgICAgIDAgPCB0cmVlSWQgJiYgKGlkZW50aWZpZXJQcmVmaXggKz0gXCJIXCIgKyB0cmVlSWQudG9TdHJpbmcoMzIpKTtcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCArPSBcIjpcIjtcbiAgICAgIH0gZWxzZVxuICAgICAgICAodHJlZUlkID0gZ2xvYmFsQ2xpZW50SWRDb3VudGVyKyspLFxuICAgICAgICAgIChpZGVudGlmaWVyUHJlZml4ID1cbiAgICAgICAgICAgIFwiOlwiICsgaWRlbnRpZmllclByZWZpeCArIFwiclwiICsgdHJlZUlkLnRvU3RyaW5nKDMyKSArIFwiOlwiKTtcbiAgICAgIHJldHVybiAoaG9vay5tZW1vaXplZFN0YXRlID0gaWRlbnRpZmllclByZWZpeCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50UmVmcmVzaCgpIHtcbiAgICAgIHJldHVybiAobW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlID0gcmVmcmVzaENhY2hlLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDFcbiAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWZyZXNoQ2FjaGUoZmliZXIsIHNlZWRLZXkpIHtcbiAgICAgIGZvciAodmFyIHByb3ZpZGVyID0gZmliZXIucmV0dXJuOyBudWxsICE9PSBwcm92aWRlcjsgKSB7XG4gICAgICAgIHN3aXRjaCAocHJvdmlkZXIudGFnKSB7XG4gICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKHByb3ZpZGVyKTtcbiAgICAgICAgICAgIGZpYmVyID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlVXBkYXRlKHByb3ZpZGVyLCBmaWJlciwgbGFuZSk7XG4gICAgICAgICAgICBudWxsICE9PSByb290ICYmXG4gICAgICAgICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgcHJvdmlkZXIsIGxhbmUpLFxuICAgICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25zKHJvb3QsIHByb3ZpZGVyLCBsYW5lKSk7XG4gICAgICAgICAgICBwcm92aWRlciA9IGNyZWF0ZUNhY2hlKCk7XG4gICAgICAgICAgICBudWxsICE9PSBzZWVkS2V5ICYmXG4gICAgICAgICAgICAgIHZvaWQgMCAhPT0gc2VlZEtleSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSByb290ICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJUaGUgc2VlZCBhcmd1bWVudCBpcyBub3QgZW5hYmxlZCBvdXRzaWRlIGV4cGVyaW1lbnRhbCBjaGFubmVscy5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZmliZXIucGF5bG9hZCA9IHsgY2FjaGU6IHByb3ZpZGVyIH07XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlci5yZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoUmVkdWNlckFjdGlvbihcbiAgICAgIGZpYmVyLFxuICAgICAgcXVldWUsXG4gICAgICBhY3Rpb24sXG4gICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDBcbiAgICApIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiU3RhdGUgdXBkYXRlcyBmcm9tIHRoZSB1c2VTdGF0ZSgpIGFuZCB1c2VSZWR1Y2VyKCkgSG9va3MgZG9uJ3Qgc3VwcG9ydCB0aGUgc2Vjb25kIGNhbGxiYWNrIGFyZ3VtZW50LiBUbyBleGVjdXRlIGEgc2lkZSBlZmZlY3QgYWZ0ZXIgcmVuZGVyaW5nLCBkZWNsYXJlIGl0IGluIHRoZSBjb21wb25lbnQgYm9keSB3aXRoIHVzZUVmZmVjdCgpLlwiXG4gICAgICAgICk7XG4gICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDAgPSByZXF1ZXN0VXBkYXRlTGFuZShmaWJlcik7XG4gICAgICBhY3Rpb24gPSB7XG4gICAgICAgIGxhbmU6IEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMCxcbiAgICAgICAgcmV2ZXJ0TGFuZTogMCxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGhhc0VhZ2VyU3RhdGU6ICExLFxuICAgICAgICBlYWdlclN0YXRlOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgaXNSZW5kZXJQaGFzZVVwZGF0ZShmaWJlcilcbiAgICAgICAgPyBlbnF1ZXVlUmVuZGVyUGhhc2VVcGRhdGUocXVldWUsIGFjdGlvbilcbiAgICAgICAgOiAoKGFjdGlvbiA9IGVucXVldWVDb25jdXJyZW50SG9va1VwZGF0ZShcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgcXVldWUsXG4gICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDBcbiAgICAgICAgICApKSxcbiAgICAgICAgICBudWxsICE9PSBhY3Rpb24gJiZcbiAgICAgICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIoXG4gICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvblVwZGF0ZShcbiAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwXG4gICAgICAgICAgICApKSk7XG4gICAgICBtYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoZmliZXIsIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoU2V0U3RhdGUoXG4gICAgICBmaWJlcixcbiAgICAgIHF1ZXVlLFxuICAgICAgYWN0aW9uLFxuICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxXG4gICAgKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDEgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlN0YXRlIHVwZGF0ZXMgZnJvbSB0aGUgdXNlU3RhdGUoKSBhbmQgdXNlUmVkdWNlcigpIEhvb2tzIGRvbid0IHN1cHBvcnQgdGhlIHNlY29uZCBjYWxsYmFjayBhcmd1bWVudC4gVG8gZXhlY3V0ZSBhIHNpZGUgZWZmZWN0IGFmdGVyIHJlbmRlcmluZywgZGVjbGFyZSBpdCBpbiB0aGUgY29tcG9uZW50IGJvZHkgd2l0aCB1c2VFZmZlY3QoKS5cIlxuICAgICAgICApO1xuICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxID0gcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpO1xuICAgICAgZGlzcGF0Y2hTZXRTdGF0ZUludGVybmFsKFxuICAgICAgICBmaWJlcixcbiAgICAgICAgcXVldWUsXG4gICAgICAgIGFjdGlvbixcbiAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AxXG4gICAgICApO1xuICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGZpYmVyLCBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaFNldFN0YXRlSW50ZXJuYWwoZmliZXIsIHF1ZXVlLCBhY3Rpb24sIGxhbmUpIHtcbiAgICAgIHZhciB1cGRhdGUgPSB7XG4gICAgICAgIGxhbmU6IGxhbmUsXG4gICAgICAgIHJldmVydExhbmU6IDAsXG4gICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICBoYXNFYWdlclN0YXRlOiAhMSxcbiAgICAgICAgZWFnZXJTdGF0ZTogbnVsbCxcbiAgICAgICAgbmV4dDogbnVsbFxuICAgICAgfTtcbiAgICAgIGlmIChpc1JlbmRlclBoYXNlVXBkYXRlKGZpYmVyKSkgZW5xdWV1ZVJlbmRlclBoYXNlVXBkYXRlKHF1ZXVlLCB1cGRhdGUpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciBhbHRlcm5hdGUgPSBmaWJlci5hbHRlcm5hdGU7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAwID09PSBmaWJlci5sYW5lcyAmJlxuICAgICAgICAgIChudWxsID09PSBhbHRlcm5hdGUgfHwgMCA9PT0gYWx0ZXJuYXRlLmxhbmVzKSAmJlxuICAgICAgICAgICgoYWx0ZXJuYXRlID0gcXVldWUubGFzdFJlbmRlcmVkUmVkdWNlciksIG51bGwgIT09IGFsdGVybmF0ZSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSBxdWV1ZS5sYXN0UmVuZGVyZWRTdGF0ZSxcbiAgICAgICAgICAgICAgZWFnZXJTdGF0ZSA9IGFsdGVybmF0ZShjdXJyZW50U3RhdGUsIGFjdGlvbik7XG4gICAgICAgICAgICB1cGRhdGUuaGFzRWFnZXJTdGF0ZSA9ICEwO1xuICAgICAgICAgICAgdXBkYXRlLmVhZ2VyU3RhdGUgPSBlYWdlclN0YXRlO1xuICAgICAgICAgICAgaWYgKG9iamVjdElzKGVhZ2VyU3RhdGUsIGN1cnJlbnRTdGF0ZSkpXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgZW5xdWV1ZVVwZGF0ZSQxKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCAwKSxcbiAgICAgICAgICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgJiZcbiAgICAgICAgICAgICAgICAgIGZpbmlzaFF1ZXVlaW5nQ29uY3VycmVudFVwZGF0ZXMoKSxcbiAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYWN0aW9uID0gZW5xdWV1ZUNvbmN1cnJlbnRIb29rVXBkYXRlKGZpYmVyLCBxdWV1ZSwgdXBkYXRlLCBsYW5lKTtcbiAgICAgICAgaWYgKG51bGwgIT09IGFjdGlvbilcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKGFjdGlvbiwgZmliZXIsIGxhbmUpLFxuICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9uVXBkYXRlKGFjdGlvbiwgcXVldWUsIGxhbmUpLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaE9wdGltaXN0aWNTZXRTdGF0ZShcbiAgICAgIGZpYmVyLFxuICAgICAgdGhyb3dJZkR1cmluZ1JlbmRlcixcbiAgICAgIHF1ZXVlLFxuICAgICAgYWN0aW9uXG4gICAgKSB7XG4gICAgICBudWxsID09PSBSZWFjdFNoYXJlZEludGVybmFscy5UICYmXG4gICAgICAgIDAgPT09IGN1cnJlbnRFbnRhbmdsZWRMYW5lICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBbiBvcHRpbWlzdGljIHN0YXRlIHVwZGF0ZSBvY2N1cnJlZCBvdXRzaWRlIGEgdHJhbnNpdGlvbiBvciBhY3Rpb24uIFRvIGZpeCwgbW92ZSB0aGUgdXBkYXRlIHRvIGFuIGFjdGlvbiwgb3Igd3JhcCB3aXRoIHN0YXJ0VHJhbnNpdGlvbi5cIlxuICAgICAgICApO1xuICAgICAgYWN0aW9uID0ge1xuICAgICAgICBsYW5lOiAyLFxuICAgICAgICByZXZlcnRMYW5lOiByZXF1ZXN0VHJhbnNpdGlvbkxhbmUoKSxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGhhc0VhZ2VyU3RhdGU6ICExLFxuICAgICAgICBlYWdlclN0YXRlOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgaWYgKGlzUmVuZGVyUGhhc2VVcGRhdGUoZmliZXIpKSB7XG4gICAgICAgIGlmICh0aHJvd0lmRHVyaW5nUmVuZGVyKVxuICAgICAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IHVwZGF0ZSBvcHRpbWlzdGljIHN0YXRlIHdoaWxlIHJlbmRlcmluZy5cIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJDYW5ub3QgY2FsbCBzdGFydFRyYW5zaXRpb24gd2hpbGUgcmVuZGVyaW5nLlwiKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICAodGhyb3dJZkR1cmluZ1JlbmRlciA9IGVucXVldWVDb25jdXJyZW50SG9va1VwZGF0ZShcbiAgICAgICAgICBmaWJlcixcbiAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgMlxuICAgICAgICApKSxcbiAgICAgICAgICBudWxsICE9PSB0aHJvd0lmRHVyaW5nUmVuZGVyICYmXG4gICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIodGhyb3dJZkR1cmluZ1JlbmRlciwgZmliZXIsIDIpO1xuICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGZpYmVyLCAyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNSZW5kZXJQaGFzZVVwZGF0ZShmaWJlcikge1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIGZpYmVyID09PSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxIHx8XG4gICAgICAgIChudWxsICE9PSBhbHRlcm5hdGUgJiYgYWx0ZXJuYXRlID09PSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZVJlbmRlclBoYXNlVXBkYXRlKHF1ZXVlLCB1cGRhdGUpIHtcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyA9XG4gICAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUgPSAhMDtcbiAgICAgIHZhciBwZW5kaW5nID0gcXVldWUucGVuZGluZztcbiAgICAgIG51bGwgPT09IHBlbmRpbmdcbiAgICAgICAgPyAodXBkYXRlLm5leHQgPSB1cGRhdGUpXG4gICAgICAgIDogKCh1cGRhdGUubmV4dCA9IHBlbmRpbmcubmV4dCksIChwZW5kaW5nLm5leHQgPSB1cGRhdGUpKTtcbiAgICAgIHF1ZXVlLnBlbmRpbmcgPSB1cGRhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVudGFuZ2xlVHJhbnNpdGlvblVwZGF0ZShyb290LCBxdWV1ZSwgbGFuZSkge1xuICAgICAgaWYgKDAgIT09IChsYW5lICYgNDE5NDE3NikpIHtcbiAgICAgICAgdmFyIHF1ZXVlTGFuZXMgPSBxdWV1ZS5sYW5lcztcbiAgICAgICAgcXVldWVMYW5lcyAmPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgICAgbGFuZSB8PSBxdWV1ZUxhbmVzO1xuICAgICAgICBxdWV1ZS5sYW5lcyA9IGxhbmU7XG4gICAgICAgIG1hcmtSb290RW50YW5nbGVkKHJvb3QsIGxhbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICAgIGlmIChudWxsICE9PSBjYWxsYmFjayAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjaykge1xuICAgICAgICB2YXIga2V5ID0gU3RyaW5nKGNhbGxiYWNrKTtcbiAgICAgICAgZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrLmhhcyhrZXkpIHx8XG4gICAgICAgICAgKGRpZFdhcm5PbkludmFsaWRDYWxsYmFjay5hZGQoa2V5KSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICApKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIGN0b3IsXG4gICAgICBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMsXG4gICAgICBuZXh0UHJvcHNcbiAgICApIHtcbiAgICAgIHZhciBwcmV2U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLFxuICAgICAgICBwYXJ0aWFsU3RhdGUgPSBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwYXJ0aWFsU3RhdGUgPSBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdm9pZCAwID09PSBwYXJ0aWFsU3RhdGUgJiZcbiAgICAgICAgKChjdG9yID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGN0b3IpIHx8IFwiQ29tcG9uZW50XCIpLFxuICAgICAgICBkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUuaGFzKGN0b3IpIHx8XG4gICAgICAgICAgKGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZS5hZGQoY3RvciksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCk6IEEgdmFsaWQgc3RhdGUgb2JqZWN0IChvciBudWxsKSBtdXN0IGJlIHJldHVybmVkLiBZb3UgaGF2ZSByZXR1cm5lZCB1bmRlZmluZWQuXCIsXG4gICAgICAgICAgICBjdG9yXG4gICAgICAgICAgKSkpO1xuICAgICAgcHJldlN0YXRlID1cbiAgICAgICAgbnVsbCA9PT0gcGFydGlhbFN0YXRlIHx8IHZvaWQgMCA9PT0gcGFydGlhbFN0YXRlXG4gICAgICAgICAgPyBwcmV2U3RhdGVcbiAgICAgICAgICA6IGFzc2lnbih7fSwgcHJldlN0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHByZXZTdGF0ZTtcbiAgICAgIDAgPT09IHdvcmtJblByb2dyZXNzLmxhbmVzICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5iYXNlU3RhdGUgPSBwcmV2U3RhdGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZShcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgY3RvcixcbiAgICAgIG9sZFByb3BzLFxuICAgICAgbmV3UHJvcHMsXG4gICAgICBvbGRTdGF0ZSxcbiAgICAgIG5ld1N0YXRlLFxuICAgICAgbmV4dENvbnRleHRcbiAgICApIHtcbiAgICAgIHZhciBpbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUpIHtcbiAgICAgICAgb2xkUHJvcHMgPSBpbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgbmV4dENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvbGRQcm9wcyA9IGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZShcbiAgICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgICAgICBuZXh0Q29udGV4dFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2b2lkIDAgPT09IG9sZFByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMuc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk6IFJldHVybmVkIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIGEgYm9vbGVhbiB2YWx1ZS4gTWFrZSBzdXJlIHRvIHJldHVybiB0cnVlIG9yIGZhbHNlLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGN0b3IpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICByZXR1cm4gb2xkUHJvcHM7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3Rvci5wcm90b3R5cGUgJiYgY3Rvci5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnRcbiAgICAgICAgPyAhc2hhbGxvd0VxdWFsKG9sZFByb3BzLCBuZXdQcm9wcykgfHwgIXNoYWxsb3dFcXVhbChvbGRTdGF0ZSwgbmV3U3RhdGUpXG4gICAgICAgIDogITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIG5ld1Byb3BzLFxuICAgICAgbmV4dENvbnRleHRcbiAgICApIHtcbiAgICAgIHZhciBvbGRTdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXdQcm9wcywgbmV4dENvbnRleHQpO1xuICAgICAgaW5zdGFuY2Uuc3RhdGUgIT09IG9sZFN0YXRlICYmXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3MgPVxuICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIod29ya0luUHJvZ3Jlc3MpIHx8IFwiQ29tcG9uZW50XCIpLFxuICAgICAgICBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuaGFzKHdvcmtJblByb2dyZXNzKSB8fFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQuYWRkKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcy5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk6IEFzc2lnbmluZyBkaXJlY3RseSB0byB0aGlzLnN0YXRlIGlzIGRlcHJlY2F0ZWQgKGV4Y2VwdCBpbnNpZGUgYSBjb21wb25lbnQncyBjb25zdHJ1Y3RvcikuIFVzZSBzZXRTdGF0ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApKSxcbiAgICAgICAgY2xhc3NDb21wb25lbnRVcGRhdGVyLmVucXVldWVSZXBsYWNlU3RhdGUoXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgaW5zdGFuY2Uuc3RhdGUsXG4gICAgICAgICAgbnVsbFxuICAgICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoQ29tcG9uZW50LCBiYXNlUHJvcHMpIHtcbiAgICAgIHZhciBuZXdQcm9wcyA9IGJhc2VQcm9wcztcbiAgICAgIGlmIChcInJlZlwiIGluIGJhc2VQcm9wcykge1xuICAgICAgICBuZXdQcm9wcyA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBiYXNlUHJvcHMpXG4gICAgICAgICAgXCJyZWZcIiAhPT0gcHJvcE5hbWUgJiYgKG5ld1Byb3BzW3Byb3BOYW1lXSA9IGJhc2VQcm9wc1twcm9wTmFtZV0pO1xuICAgICAgfVxuICAgICAgaWYgKChDb21wb25lbnQgPSBDb21wb25lbnQuZGVmYXVsdFByb3BzKSkge1xuICAgICAgICBuZXdQcm9wcyA9PT0gYmFzZVByb3BzICYmIChuZXdQcm9wcyA9IGFzc2lnbih7fSwgbmV3UHJvcHMpKTtcbiAgICAgICAgZm9yICh2YXIgX3Byb3BOYW1lIGluIENvbXBvbmVudClcbiAgICAgICAgICB2b2lkIDAgPT09IG5ld1Byb3BzW19wcm9wTmFtZV0gJiZcbiAgICAgICAgICAgIChuZXdQcm9wc1tfcHJvcE5hbWVdID0gQ29tcG9uZW50W19wcm9wTmFtZV0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld1Byb3BzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZhdWx0T25VbmNhdWdodEVycm9yKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICAgIGVycm9yID0gY29tcG9uZW50TmFtZVxuICAgICAgICA/IFwiQW4gZXJyb3Igb2NjdXJyZWQgaW4gdGhlIDxcIiArIGNvbXBvbmVudE5hbWUgKyBcIj4gY29tcG9uZW50LlwiXG4gICAgICAgIDogXCJBbiBlcnJvciBvY2N1cnJlZCBpbiBvbmUgb2YgeW91ciBSZWFjdCBjb21wb25lbnRzLlwiO1xuICAgICAgdmFyIHByZXZHZXRDdXJyZW50U3RhY2sgPSBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2ssXG4gICAgICAgIGNvbXBvbmVudFN0YWNrID1cbiAgICAgICAgICBudWxsICE9IGVycm9ySW5mby5jb21wb25lbnRTdGFjayA/IGVycm9ySW5mby5jb21wb25lbnRTdGFjayA6IFwiXCI7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjb21wb25lbnRTdGFjaztcbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCIlc1xcblxcbiVzXFxuXCIsXG4gICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgXCJDb25zaWRlciBhZGRpbmcgYW4gZXJyb3IgYm91bmRhcnkgdG8geW91ciB0cmVlIHRvIGN1c3RvbWl6ZSBlcnJvciBoYW5kbGluZyBiZWhhdmlvci5cXG5WaXNpdCBodHRwczovL3JlYWN0LmRldi9saW5rL2Vycm9yLWJvdW5kYXJpZXMgdG8gbGVhcm4gbW9yZSBhYm91dCBlcnJvciBib3VuZGFyaWVzLlwiXG4gICAgICAgICk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBwcmV2R2V0Q3VycmVudFN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZhdWx0T25DYXVnaHRFcnJvcihlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZU1lc3NhZ2UgPSBjb21wb25lbnROYW1lXG4gICAgICAgICAgPyBcIlRoZSBhYm92ZSBlcnJvciBvY2N1cnJlZCBpbiB0aGUgPFwiICsgY29tcG9uZW50TmFtZSArIFwiPiBjb21wb25lbnQuXCJcbiAgICAgICAgICA6IFwiVGhlIGFib3ZlIGVycm9yIG9jY3VycmVkIGluIG9uZSBvZiB5b3VyIFJlYWN0IGNvbXBvbmVudHMuXCIsXG4gICAgICAgIHJlY3JlYXRlTWVzc2FnZSA9XG4gICAgICAgICAgXCJSZWFjdCB3aWxsIHRyeSB0byByZWNyZWF0ZSB0aGlzIGNvbXBvbmVudCB0cmVlIGZyb20gc2NyYXRjaCB1c2luZyB0aGUgZXJyb3IgYm91bmRhcnkgeW91IHByb3ZpZGVkLCBcIiArXG4gICAgICAgICAgKChlcnJvckJvdW5kYXJ5TmFtZSB8fCBcIkFub255bW91c1wiKSArIFwiLlwiKSxcbiAgICAgICAgcHJldkdldEN1cnJlbnRTdGFjayA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayxcbiAgICAgICAgY29tcG9uZW50U3RhY2sgPVxuICAgICAgICAgIG51bGwgIT0gZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrID8gZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrIDogXCJcIjtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFN0YWNrO1xuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlcnJvciAmJlxuICAgICAgICBudWxsICE9PSBlcnJvciAmJlxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyb3IuZW52aXJvbm1lbnROYW1lXG4gICAgICAgICAgPyBiaW5kVG9Db25zb2xlKFxuICAgICAgICAgICAgICBcImVycm9yXCIsXG4gICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICBcIiVvXFxuXFxuJXNcXG5cXG4lc1xcblwiLFxuICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVNZXNzYWdlLFxuICAgICAgICAgICAgICAgIHJlY3JlYXRlTWVzc2FnZVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBlcnJvci5lbnZpcm9ubWVudE5hbWVcbiAgICAgICAgICAgICkoKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCIlb1xcblxcbiVzXFxuXFxuJXNcXG5cIixcbiAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVNZXNzYWdlLFxuICAgICAgICAgICAgICByZWNyZWF0ZU1lc3NhZ2VcbiAgICAgICAgICAgICk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBwcmV2R2V0Q3VycmVudFN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZhdWx0T25SZWNvdmVyYWJsZUVycm9yKGVycm9yKSB7XG4gICAgICByZXBvcnRHbG9iYWxFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvZ1VuY2F1Z2h0RXJyb3Iocm9vdCwgZXJyb3JJbmZvKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb21wb25lbnROYW1lID0gZXJyb3JJbmZvLnNvdXJjZVxuICAgICAgICAgID8gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihlcnJvckluZm8uc291cmNlKVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgPSBudWxsO1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvckluZm8udmFsdWU7XG4gICAgICAgIGlmIChudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSlcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBvblVuY2F1Z2h0RXJyb3IgPSByb290Lm9uVW5jYXVnaHRFcnJvcjtcbiAgICAgICAgICBvblVuY2F1Z2h0RXJyb3IoZXJyb3IsIHsgY29tcG9uZW50U3RhY2s6IGVycm9ySW5mby5zdGFjayB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSQ0KSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRocm93IGUkNDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxvZ0NhdWdodEVycm9yKHJvb3QsIGJvdW5kYXJ5LCBlcnJvckluZm8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbXBvbmVudE5hbWUgPSBlcnJvckluZm8uc291cmNlXG4gICAgICAgICAgPyBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGVycm9ySW5mby5zb3VyY2UpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICBlcnJvckJvdW5kYXJ5TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoYm91bmRhcnkpO1xuICAgICAgICB2YXIgb25DYXVnaHRFcnJvciA9IHJvb3Qub25DYXVnaHRFcnJvcjtcbiAgICAgICAgb25DYXVnaHRFcnJvcihlcnJvckluZm8udmFsdWUsIHtcbiAgICAgICAgICBjb21wb25lbnRTdGFjazogZXJyb3JJbmZvLnN0YWNrLFxuICAgICAgICAgIGVycm9yQm91bmRhcnk6IDEgPT09IGJvdW5kYXJ5LnRhZyA/IGJvdW5kYXJ5LnN0YXRlTm9kZSA6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlJDUpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgZSQ1O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlUm9vdEVycm9yVXBkYXRlKHJvb3QsIGVycm9ySW5mbywgbGFuZSkge1xuICAgICAgbGFuZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgIGxhbmUudGFnID0gQ2FwdHVyZVVwZGF0ZTtcbiAgICAgIGxhbmUucGF5bG9hZCA9IHsgZWxlbWVudDogbnVsbCB9O1xuICAgICAgbGFuZS5jYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZXJyb3JJbmZvLnNvdXJjZSwgbG9nVW5jYXVnaHRFcnJvciwgcm9vdCwgZXJyb3JJbmZvKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gbGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlQ2xhc3NFcnJvclVwZGF0ZShsYW5lKSB7XG4gICAgICBsYW5lID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgbGFuZS50YWcgPSBDYXB0dXJlVXBkYXRlO1xuICAgICAgcmV0dXJuIGxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVDbGFzc0Vycm9yVXBkYXRlKHVwZGF0ZSwgcm9vdCwgZmliZXIsIGVycm9ySW5mbykge1xuICAgICAgdmFyIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvciA9IGZpYmVyLnR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcikge1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvckluZm8udmFsdWU7XG4gICAgICAgIHVwZGF0ZS5wYXlsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICB1cGRhdGUuY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbWFya0ZhaWxlZEVycm9yQm91bmRhcnlGb3JIb3RSZWxvYWRpbmcoZmliZXIpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZXJyb3JJbmZvLnNvdXJjZSxcbiAgICAgICAgICAgIGxvZ0NhdWdodEVycm9yLFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgZXJyb3JJbmZvXG4gICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciBpbnN0ID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgbnVsbCAhPT0gaW5zdCAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0LmNvbXBvbmVudERpZENhdGNoICYmXG4gICAgICAgICh1cGRhdGUuY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgbWFya0ZhaWxlZEVycm9yQm91bmRhcnlGb3JIb3RSZWxvYWRpbmcoZmliZXIpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZXJyb3JJbmZvLnNvdXJjZSxcbiAgICAgICAgICAgIGxvZ0NhdWdodEVycm9yLFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgZXJyb3JJbmZvXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgJiZcbiAgICAgICAgICAgIChudWxsID09PSBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZFxuICAgICAgICAgICAgICA/IChsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG5ldyBTZXQoW3RoaXNdKSlcbiAgICAgICAgICAgICAgOiBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZC5hZGQodGhpcykpO1xuICAgICAgICAgIGNhbGxDb21wb25lbnREaWRDYXRjaEluREVWKHRoaXMsIGVycm9ySW5mbyk7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIHx8XG4gICAgICAgICAgICAoMCA9PT0gKGZpYmVyLmxhbmVzICYgMikgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIiVzOiBFcnJvciBib3VuZGFyaWVzIHNob3VsZCBpbXBsZW1lbnQgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKCkuIEluIHRoYXQgbWV0aG9kLCByZXR1cm4gYSBzdGF0ZSB1cGRhdGUgdG8gZGlzcGxheSBhbiBlcnJvciBtZXNzYWdlIG9yIGZhbGxiYWNrIFVJLlwiLFxuICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dFeGNlcHRpb24oXG4gICAgICByb290LFxuICAgICAgcmV0dXJuRmliZXIsXG4gICAgICBzb3VyY2VGaWJlcixcbiAgICAgIHZhbHVlLFxuICAgICAgcm9vdFJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBzb3VyY2VGaWJlci5mbGFncyB8PSAzMjc2ODtcbiAgICAgIGlzRGV2VG9vbHNQcmVzZW50ICYmIHJlc3RvcmVQZW5kaW5nVXBkYXRlcnMocm9vdCwgcm9vdFJlbmRlckxhbmVzKTtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gdmFsdWUgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlLnRoZW5cbiAgICAgICkge1xuICAgICAgICByZXR1cm5GaWJlciA9IHNvdXJjZUZpYmVyLmFsdGVybmF0ZTtcbiAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXIgJiZcbiAgICAgICAgICBwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgc291cmNlRmliZXIsXG4gICAgICAgICAgICByb290UmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICAgIGlzSHlkcmF0aW5nICYmIChkaWRTdXNwZW5kT3JFcnJvckRFViA9ICEwKTtcbiAgICAgICAgc291cmNlRmliZXIgPSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50O1xuICAgICAgICBpZiAobnVsbCAhPT0gc291cmNlRmliZXIpIHtcbiAgICAgICAgICBzd2l0Y2ggKHNvdXJjZUZpYmVyLnRhZykge1xuICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBudWxsID09PSBzaGVsbEJvdW5kYXJ5XG4gICAgICAgICAgICAgICAgICA/IHJlbmRlckRpZFN1c3BlbmREZWxheUlmUG9zc2libGUoKVxuICAgICAgICAgICAgICAgICAgOiBudWxsID09PSBzb3VyY2VGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdEluUHJvZ3Jlc3MgJiZcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290U3VzcGVuZGVkKSxcbiAgICAgICAgICAgICAgICAoc291cmNlRmliZXIuZmxhZ3MgJj0gLTI1NyksXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgICAoc291cmNlRmliZXIubGFuZXMgPSByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgIHZhbHVlID09PSBub29wU3VzcGVuc2V5Q29tbWl0VGhlbmFibGVcbiAgICAgICAgICAgICAgICAgID8gKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDE2Mzg0KVxuICAgICAgICAgICAgICAgICAgOiAoKHJldHVybkZpYmVyID0gc291cmNlRmliZXIudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgICAgICAgICBudWxsID09PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgICAgID8gKHNvdXJjZUZpYmVyLnVwZGF0ZVF1ZXVlID0gbmV3IFNldChbdmFsdWVdKSlcbiAgICAgICAgICAgICAgICAgICAgICA6IHJldHVybkZpYmVyLmFkZCh2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBpbmdMaXN0ZW5lcihyb290LCB2YWx1ZSwgcm9vdFJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9PT0gbm9vcFN1c3BlbnNleUNvbW1pdFRoZW5hYmxlXG4gICAgICAgICAgICAgICAgICA/IChzb3VyY2VGaWJlci5mbGFncyB8PSAxNjM4NClcbiAgICAgICAgICAgICAgICAgIDogKChyZXR1cm5GaWJlciA9IHNvdXJjZUZpYmVyLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgICAgICA/ICgocmV0dXJuRmliZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ5UXVldWU6IG5ldyBTZXQoW3ZhbHVlXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLnVwZGF0ZVF1ZXVlID0gcmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICAgICAgICAgIDogKChzb3VyY2VGaWJlciA9IHJldHVybkZpYmVyLnJldHJ5UXVldWUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gc291cmNlRmliZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAocmV0dXJuRmliZXIucmV0cnlRdWV1ZSA9IG5ldyBTZXQoW3ZhbHVlXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogc291cmNlRmliZXIuYWRkKHZhbHVlKSksXG4gICAgICAgICAgICAgICAgICAgIGF0dGFjaFBpbmdMaXN0ZW5lcihyb290LCB2YWx1ZSwgcm9vdFJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlVuZXhwZWN0ZWQgU3VzcGVuc2UgaGFuZGxlciB0YWcgKFwiICtcbiAgICAgICAgICAgICAgc291cmNlRmliZXIudGFnICtcbiAgICAgICAgICAgICAgXCIpLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBhdHRhY2hQaW5nTGlzdGVuZXIocm9vdCwgdmFsdWUsIHJvb3RSZW5kZXJMYW5lcyk7XG4gICAgICAgIHJlbmRlckRpZFN1c3BlbmREZWxheUlmUG9zc2libGUoKTtcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgaWYgKGlzSHlkcmF0aW5nKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChkaWRTdXNwZW5kT3JFcnJvckRFViA9ICEwKSxcbiAgICAgICAgICAocmV0dXJuRmliZXIgPSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50KSxcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgPyAoMCA9PT0gKHJldHVybkZpYmVyLmZsYWdzICYgNjU1MzYpICYmIChyZXR1cm5GaWJlci5mbGFncyB8PSAyNTYpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIuZmxhZ3MgfD0gNjU1MzYpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIubGFuZXMgPSByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICB2YWx1ZSAhPT0gSHlkcmF0aW9uTWlzbWF0Y2hFeGNlcHRpb24gJiZcbiAgICAgICAgICAgICAgICBxdWV1ZUh5ZHJhdGlvbkVycm9yKFxuICAgICAgICAgICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgICAgICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiVGhlcmUgd2FzIGFuIGVycm9yIHdoaWxlIGh5ZHJhdGluZyBidXQgUmVhY3Qgd2FzIGFibGUgdG8gcmVjb3ZlciBieSBpbnN0ZWFkIGNsaWVudCByZW5kZXJpbmcgZnJvbSB0aGUgbmVhcmVzdCBTdXNwZW5zZSBib3VuZGFyeS5cIixcbiAgICAgICAgICAgICAgICAgICAgICB7IGNhdXNlOiB2YWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUZpYmVyXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIDogKHZhbHVlICE9PSBIeWRyYXRpb25NaXNtYXRjaEV4Y2VwdGlvbiAmJlxuICAgICAgICAgICAgICAgIHF1ZXVlSHlkcmF0aW9uRXJyb3IoXG4gICAgICAgICAgICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihcbiAgICAgICAgICAgICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJUaGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgaHlkcmF0aW5nIGJ1dCBSZWFjdCB3YXMgYWJsZSB0byByZWNvdmVyIGJ5IGluc3RlYWQgY2xpZW50IHJlbmRlcmluZyB0aGUgZW50aXJlIHJvb3QuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgeyBjYXVzZTogdmFsdWUgfVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VGaWJlclxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChyb290ID0gcm9vdC5jdXJyZW50LmFsdGVybmF0ZSksXG4gICAgICAgICAgICAgIChyb290LmZsYWdzIHw9IDY1NTM2KSxcbiAgICAgICAgICAgICAgKHJvb3RSZW5kZXJMYW5lcyAmPSAtcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgKHJvb3QubGFuZXMgfD0gcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgKHZhbHVlID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodmFsdWUsIHNvdXJjZUZpYmVyKSksXG4gICAgICAgICAgICAgIChyb290UmVuZGVyTGFuZXMgPSBjcmVhdGVSb290RXJyb3JVcGRhdGUoXG4gICAgICAgICAgICAgICAgcm9vdC5zdGF0ZU5vZGUsXG4gICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgcm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUocm9vdCwgcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyAhPT0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheSAmJlxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEVycm9yZWQpKSxcbiAgICAgICAgICAhMVxuICAgICAgICApO1xuICAgICAgdmFyIGVycm9yID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoXG4gICAgICAgIEVycm9yKFxuICAgICAgICAgIFwiVGhlcmUgd2FzIGFuIGVycm9yIGR1cmluZyBjb25jdXJyZW50IHJlbmRlcmluZyBidXQgUmVhY3Qgd2FzIGFibGUgdG8gcmVjb3ZlciBieSBpbnN0ZWFkIHN5bmNocm9ub3VzbHkgcmVuZGVyaW5nIHRoZSBlbnRpcmUgcm9vdC5cIixcbiAgICAgICAgICB7IGNhdXNlOiB2YWx1ZSB9XG4gICAgICAgICksXG4gICAgICAgIHNvdXJjZUZpYmVyXG4gICAgICApO1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9yc1xuICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzID0gW2Vycm9yXSlcbiAgICAgICAgOiB3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyAhPT0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheSAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RFcnJvcmVkKTtcbiAgICAgIGlmIChudWxsID09PSByZXR1cm5GaWJlcikgcmV0dXJuICEwO1xuICAgICAgdmFsdWUgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih2YWx1ZSwgc291cmNlRmliZXIpO1xuICAgICAgc291cmNlRmliZXIgPSByZXR1cm5GaWJlcjtcbiAgICAgIGRvIHtcbiAgICAgICAgc3dpdGNoIChzb3VyY2VGaWJlci50YWcpIHtcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoc291cmNlRmliZXIuZmxhZ3MgfD0gNjU1MzYpLFxuICAgICAgICAgICAgICAocm9vdCA9IHJvb3RSZW5kZXJMYW5lcyAmIC1yb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAoc291cmNlRmliZXIubGFuZXMgfD0gcm9vdCksXG4gICAgICAgICAgICAgIChyb290ID0gY3JlYXRlUm9vdEVycm9yVXBkYXRlKFxuICAgICAgICAgICAgICAgIHNvdXJjZUZpYmVyLnN0YXRlTm9kZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICByb290XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUoc291cmNlRmliZXIsIHJvb3QpLFxuICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgocmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlci50eXBlKSxcbiAgICAgICAgICAgICAgKGVycm9yID0gc291cmNlRmliZXIuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgICAgMCA9PT0gKHNvdXJjZUZpYmVyLmZsYWdzICYgMTI4KSAmJlxuICAgICAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXR1cm5GaWJlci5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgfHxcbiAgICAgICAgICAgICAgICAgIChudWxsICE9PSBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBlcnJvci5jb21wb25lbnREaWRDYXRjaCAmJlxuICAgICAgICAgICAgICAgICAgICAobnVsbCA9PT0gbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAhbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQuaGFzKGVycm9yKSkpKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAoc291cmNlRmliZXIuZmxhZ3MgfD0gNjU1MzYpLFxuICAgICAgICAgICAgICAgIChyb290UmVuZGVyTGFuZXMgJj0gLXJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgKHNvdXJjZUZpYmVyLmxhbmVzIHw9IHJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgKHJvb3RSZW5kZXJMYW5lcyA9IGNyZWF0ZUNsYXNzRXJyb3JVcGRhdGUocm9vdFJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgaW5pdGlhbGl6ZUNsYXNzRXJyb3JVcGRhdGUoXG4gICAgICAgICAgICAgICAgICByb290UmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgc291cmNlRmliZXIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHNvdXJjZUZpYmVyLCByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlRmliZXIgPSBzb3VyY2VGaWJlci5yZXR1cm47XG4gICAgICB9IHdoaWxlIChudWxsICE9PSBzb3VyY2VGaWJlcik7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID1cbiAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgID8gbW91bnRDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgbnVsbCwgbmV4dENoaWxkcmVuLCByZW5kZXJMYW5lcylcbiAgICAgICAgICA6IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgY3VycmVudC5jaGlsZCxcbiAgICAgICAgICAgICAgbmV4dENoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRm9yd2FyZFJlZihcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIG5leHRQcm9wcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBDb21wb25lbnQgPSBDb21wb25lbnQucmVuZGVyO1xuICAgICAgdmFyIHJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICAgIGlmIChcInJlZlwiIGluIG5leHRQcm9wcykge1xuICAgICAgICB2YXIgcHJvcHNXaXRob3V0UmVmID0ge307XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgXCJyZWZcIiAhPT0ga2V5ICYmIChwcm9wc1dpdGhvdXRSZWZba2V5XSA9IG5leHRQcm9wc1trZXldKTtcbiAgICAgIH0gZWxzZSBwcm9wc1dpdGhvdXRSZWYgPSBuZXh0UHJvcHM7XG4gICAgICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBuZXh0UHJvcHMgPSByZW5kZXJXaXRoSG9va3MoXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIHByb3BzV2l0aG91dFJlZixcbiAgICAgICAgcmVmLFxuICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgKTtcbiAgICAgIGtleSA9IGNoZWNrRGlkUmVuZGVySWRIb29rKCk7XG4gICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpO1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgIWRpZFJlY2VpdmVVcGRhdGUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgYmFpbG91dEhvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpXG4gICAgICAgICk7XG4gICAgICBpc0h5ZHJhdGluZyAmJiBrZXkgJiYgcHVzaE1hdGVyaWFsaXplZFRyZWVJZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxO1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgcmVuZGVyTGFuZXMpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVNZW1vQ29tcG9uZW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSB7XG4gICAgICAgIHZhciB0eXBlID0gQ29tcG9uZW50LnR5cGU7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgIXNob3VsZENvbnN0cnVjdCh0eXBlKSAmJlxuICAgICAgICAgIHZvaWQgMCA9PT0gdHlwZS5kZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgICBudWxsID09PSBDb21wb25lbnQuY29tcGFyZVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChDb21wb25lbnQgPSByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcodHlwZSkpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRhZyA9IDE1KSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gQ29tcG9uZW50KSxcbiAgICAgICAgICAgIHZhbGlkYXRlRnVuY3Rpb25Db21wb25lbnRJbkRldih3b3JrSW5Qcm9ncmVzcywgdHlwZSksXG4gICAgICAgICAgICB1cGRhdGVTaW1wbGVNZW1vQ29tcG9uZW50KFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudCA9IGNyZWF0ZUZpYmVyRnJvbVR5cGVBbmRQcm9wcyhcbiAgICAgICAgICBDb21wb25lbnQudHlwZSxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlLFxuICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQucmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgICAgICBjdXJyZW50LnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICByZXR1cm4gKHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudCk7XG4gICAgICB9XG4gICAgICB0eXBlID0gY3VycmVudC5jaGlsZDtcbiAgICAgIGlmICghY2hlY2tTY2hlZHVsZWRVcGRhdGVPckNvbnRleHQoY3VycmVudCwgcmVuZGVyTGFuZXMpKSB7XG4gICAgICAgIHZhciBwcmV2UHJvcHMgPSB0eXBlLm1lbW9pemVkUHJvcHM7XG4gICAgICAgIENvbXBvbmVudCA9IENvbXBvbmVudC5jb21wYXJlO1xuICAgICAgICBDb21wb25lbnQgPSBudWxsICE9PSBDb21wb25lbnQgPyBDb21wb25lbnQgOiBzaGFsbG93RXF1YWw7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBDb21wb25lbnQocHJldlByb3BzLCBuZXh0UHJvcHMpICYmXG4gICAgICAgICAgY3VycmVudC5yZWYgPT09IHdvcmtJblByb2dyZXNzLnJlZlxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxO1xuICAgICAgY3VycmVudCA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKHR5cGUsIG5leHRQcm9wcyk7XG4gICAgICBjdXJyZW50LnJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICAgIGN1cnJlbnQucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICByZXR1cm4gKHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVNpbXBsZU1lbW9Db21wb25lbnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIHByZXZQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHNoYWxsb3dFcXVhbChwcmV2UHJvcHMsIG5leHRQcm9wcykgJiZcbiAgICAgICAgICBjdXJyZW50LnJlZiA9PT0gd29ya0luUHJvZ3Jlc3MucmVmICYmXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9PT0gY3VycmVudC50eXBlXG4gICAgICAgIClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoKGRpZFJlY2VpdmVVcGRhdGUgPSAhMSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzID0gbmV4dFByb3BzID0gcHJldlByb3BzKSxcbiAgICAgICAgICAgIGNoZWNrU2NoZWR1bGVkVXBkYXRlT3JDb250ZXh0KGN1cnJlbnQsIHJlbmRlckxhbmVzKSlcbiAgICAgICAgICApXG4gICAgICAgICAgICAwICE9PSAoY3VycmVudC5mbGFncyAmIDEzMTA3MikgJiYgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gY3VycmVudC5sYW5lcyksXG4gICAgICAgICAgICAgIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKVxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1cGRhdGVGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlT2Zmc2NyZWVuQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgbmV4dENoaWxkcmVuID0gbmV4dFByb3BzLmNoaWxkcmVuLFxuICAgICAgICBuZXh0SXNEZXRhY2hlZCA9XG4gICAgICAgICAgMCAhPT1cbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLl9wZW5kaW5nVmlzaWJpbGl0eSAmIE9mZnNjcmVlbkRldGFjaGVkKSxcbiAgICAgICAgcHJldlN0YXRlID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSA6IG51bGw7XG4gICAgICBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGlmIChcImhpZGRlblwiID09PSBuZXh0UHJvcHMubW9kZSB8fCBuZXh0SXNEZXRhY2hlZCkge1xuICAgICAgICBpZiAoMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KSkge1xuICAgICAgICAgIG5leHRQcm9wcyA9XG4gICAgICAgICAgICBudWxsICE9PSBwcmV2U3RhdGVcbiAgICAgICAgICAgICAgPyBwcmV2U3RhdGUuYmFzZUxhbmVzIHwgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgOiByZW5kZXJMYW5lcztcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICAgICAgbmV4dENoaWxkcmVuID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50LmNoaWxkO1xuICAgICAgICAgICAgZm9yIChuZXh0SXNEZXRhY2hlZCA9IDA7IG51bGwgIT09IG5leHRDaGlsZHJlbjsgKVxuICAgICAgICAgICAgICAobmV4dElzRGV0YWNoZWQgPVxuICAgICAgICAgICAgICAgIG5leHRJc0RldGFjaGVkIHwgbmV4dENoaWxkcmVuLmxhbmVzIHwgbmV4dENoaWxkcmVuLmNoaWxkTGFuZXMpLFxuICAgICAgICAgICAgICAgIChuZXh0Q2hpbGRyZW4gPSBuZXh0Q2hpbGRyZW4uc2libGluZyk7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzID0gbmV4dElzRGV0YWNoZWQgJiB+bmV4dFByb3BzO1xuICAgICAgICAgIH0gZWxzZSAod29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IDApLCAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBudWxsKTtcbiAgICAgICAgICByZXR1cm4gZGVmZXJIaWRkZW5PZmZzY3JlZW5Db21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDAgIT09IChyZW5kZXJMYW5lcyAmIDUzNjg3MDkxMikpXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7IGJhc2VMYW5lczogMCwgY2FjaGVQb29sOiBudWxsIH0pLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBwdXNoVHJhbnNpdGlvbihcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBwcmV2U3RhdGUgPyBwcmV2U3RhdGUuY2FjaGVQb29sIDogbnVsbFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlXG4gICAgICAgICAgICAgID8gcHVzaEhpZGRlbkNvbnRleHQod29ya0luUHJvZ3Jlc3MsIHByZXZTdGF0ZSlcbiAgICAgICAgICAgICAgOiByZXVzZUhpZGRlbkNvbnRleHRPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHB1c2hPZmZzY3JlZW5TdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSA1MzY4NzA5MTIpLFxuICAgICAgICAgICAgZGVmZXJIaWRkZW5PZmZzY3JlZW5Db21wb25lbnQoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBudWxsICE9PSBwcmV2U3RhdGVcbiAgICAgICAgICAgICAgICA/IHByZXZTdGF0ZS5iYXNlTGFuZXMgfCByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgIDogcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICBudWxsICE9PSBwcmV2U3RhdGVcbiAgICAgICAgICA/IChwdXNoVHJhbnNpdGlvbih3b3JrSW5Qcm9ncmVzcywgcHJldlN0YXRlLmNhY2hlUG9vbCksXG4gICAgICAgICAgICBwdXNoSGlkZGVuQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgcHJldlN0YXRlKSxcbiAgICAgICAgICAgIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGwpKVxuICAgICAgICAgIDogKG51bGwgIT09IGN1cnJlbnQgJiYgcHVzaFRyYW5zaXRpb24od29ya0luUHJvZ3Jlc3MsIG51bGwpLFxuICAgICAgICAgICAgcmV1c2VIaWRkZW5Db250ZXh0T25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpKTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmZXJIaWRkZW5PZmZzY3JlZW5Db21wb25lbnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBuZXh0QmFzZUxhbmVzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBwZWVrQ2FjaGVGcm9tUG9vbCgpO1xuICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID1cbiAgICAgICAgbnVsbCA9PT0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0XG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIHBhcmVudDogQ2FjaGVDb250ZXh0Ll9jdXJyZW50VmFsdWUsXG4gICAgICAgICAgICAgIHBvb2w6IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdFxuICAgICAgICAgICAgfTtcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSB7XG4gICAgICAgIGJhc2VMYW5lczogbmV4dEJhc2VMYW5lcyxcbiAgICAgICAgY2FjaGVQb29sOiBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRcbiAgICAgIH07XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmIHB1c2hUcmFuc2l0aW9uKHdvcmtJblByb2dyZXNzLCBudWxsKTtcbiAgICAgIHJldXNlSGlkZGVuQ29udGV4dE9uU3RhY2sod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcHVzaE9mZnNjcmVlblN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgIHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcywgITApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHZhciByZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgICBpZiAobnVsbCA9PT0gcmVmKVxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5yZWYgJiZcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA5NzY2NCk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJlZiAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2YgcmVmKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCByZWYgdG8gYmUgYSBmdW5jdGlvbiwgYW4gb2JqZWN0IHJldHVybmVkIGJ5IFJlYWN0LmNyZWF0ZVJlZigpLCBvciB1bmRlZmluZWQvbnVsbC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChudWxsID09PSBjdXJyZW50IHx8IGN1cnJlbnQucmVmICE9PSByZWYpXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA5NzY2NDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRnVuY3Rpb25Db21wb25lbnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBDb21wb25lbnQucHJvdG90eXBlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5wcm90b3R5cGUucmVuZGVyXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIlVua25vd25cIjtcbiAgICAgICAgZGlkV2FybkFib3V0QmFkQ2xhc3NbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIDwlcyAvPiBjb21wb25lbnQgYXBwZWFycyB0byBoYXZlIGEgcmVuZGVyIG1ldGhvZCwgYnV0IGRvZXNuJ3QgZXh0ZW5kIFJlYWN0LkNvbXBvbmVudC4gVGhpcyBpcyBsaWtlbHkgdG8gY2F1c2UgZXJyb3JzLiBDaGFuZ2UgJXMgdG8gZXh0ZW5kIFJlYWN0LkNvbXBvbmVudCBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRCYWRDbGFzc1tjb21wb25lbnROYW1lXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJlxuICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICBudWxsID09PSBjdXJyZW50ICYmXG4gICAgICAgICh2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYod29ya0luUHJvZ3Jlc3MsIHdvcmtJblByb2dyZXNzLnR5cGUpLFxuICAgICAgICBDb21wb25lbnQuY29udGV4dFR5cGVzICYmXG4gICAgICAgICAgKChjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJVbmtub3duXCIpLFxuICAgICAgICAgIGRpZFdhcm5BYm91dENvbnRleHRUeXBlc1tjb21wb25lbnROYW1lXSB8fFxuICAgICAgICAgICAgKChkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXNbY29tcG9uZW50TmFtZV0gPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIiVzIHVzZXMgdGhlIGxlZ2FjeSBjb250ZXh0VHlwZXMgQVBJIHdoaWNoIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiBVc2UgUmVhY3QuY3JlYXRlQ29udGV4dCgpIHdpdGggUmVhY3QudXNlQ29udGV4dCgpIGluc3RlYWQuIChodHRwczovL3JlYWN0LmRldi9saW5rL2xlZ2FjeS1jb250ZXh0KVwiLFxuICAgICAgICAgICAgICBjb21wb25lbnROYW1lXG4gICAgICAgICAgICApKSkpO1xuICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgQ29tcG9uZW50ID0gcmVuZGVyV2l0aEhvb2tzKFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICk7XG4gICAgICBuZXh0UHJvcHMgPSBjaGVja0RpZFJlbmRlcklkSG9vaygpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKTtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmICFkaWRSZWNlaXZlVXBkYXRlKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGJhaWxvdXRIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKVxuICAgICAgICApO1xuICAgICAgaXNIeWRyYXRpbmcgJiYgbmV4dFByb3BzICYmIHB1c2hNYXRlcmlhbGl6ZWRUcmVlSWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBDb21wb25lbnQsIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGF5RnVuY3Rpb25Db21wb25lbnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBzZWNvbmRBcmcsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgICAgIGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzID1cbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBjdXJyZW50LnR5cGUgIT09IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IG51bGw7XG4gICAgICBuZXh0UHJvcHMgPSByZW5kZXJXaXRoSG9va3NBZ2FpbihcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICBzZWNvbmRBcmdcbiAgICAgICk7XG4gICAgICBmaW5pc2hSZW5kZXJpbmdIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBDb21wb25lbnQgPSBjaGVja0RpZFJlbmRlcklkSG9vaygpO1xuICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKTtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmICFkaWRSZWNlaXZlVXBkYXRlKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGJhaWxvdXRIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKVxuICAgICAgICApO1xuICAgICAgaXNIeWRyYXRpbmcgJiYgQ29tcG9uZW50ICYmIHB1c2hNYXRlcmlhbGl6ZWRUcmVlSWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgIHJlY29uY2lsZUNoaWxkcmVuKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIHJlbmRlckxhbmVzKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NDb21wb25lbnQoXG4gICAgICBjdXJyZW50JGpzY29tcCQwLFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgc3dpdGNoIChzaG91bGRFcnJvckltcGwod29ya0luUHJvZ3Jlc3MpKSB7XG4gICAgICAgIGNhc2UgITE6XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSxcbiAgICAgICAgICAgIHN0YXRlID0gbmV3IHdvcmtJblByb2dyZXNzLnR5cGUoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMsXG4gICAgICAgICAgICAgIF9pbnN0YW5jZS5jb250ZXh0XG4gICAgICAgICAgICApLnN0YXRlO1xuICAgICAgICAgIF9pbnN0YW5jZS51cGRhdGVyLmVucXVldWVTZXRTdGF0ZShfaW5zdGFuY2UsIHN0YXRlLCBudWxsKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAhMDpcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjg7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjU1MzY7XG4gICAgICAgICAgX2luc3RhbmNlID0gRXJyb3IoXCJTaW11bGF0ZWQgZXJyb3IgY29taW5nIGZyb20gRGV2VG9vbHNcIik7XG4gICAgICAgICAgdmFyIGxhbmUgPSByZW5kZXJMYW5lcyAmIC1yZW5kZXJMYW5lcztcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyB8PSBsYW5lO1xuICAgICAgICAgIHN0YXRlID0gd29ya0luUHJvZ3Jlc3NSb290O1xuICAgICAgICAgIGlmIChudWxsID09PSBzdGF0ZSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIGEgd29yay1pbi1wcm9ncmVzcyByb290LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBsYW5lID0gY3JlYXRlQ2xhc3NFcnJvclVwZGF0ZShsYW5lKTtcbiAgICAgICAgICBpbml0aWFsaXplQ2xhc3NFcnJvclVwZGF0ZShcbiAgICAgICAgICAgIGxhbmUsXG4gICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoX2luc3RhbmNlLCB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICApO1xuICAgICAgICAgIGVucXVldWVDYXB0dXJlZFVwZGF0ZSh3b3JrSW5Qcm9ncmVzcywgbGFuZSk7XG4gICAgICB9XG4gICAgICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKSB7XG4gICAgICAgIHN0YXRlID0gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgICBfaW5zdGFuY2UgPSBDb21wb25lbnQuY29udGV4dFR5cGU7XG4gICAgICAgIFwiY29udGV4dFR5cGVcIiBpbiBDb21wb25lbnQgJiZcbiAgICAgICAgICBudWxsICE9PSBfaW5zdGFuY2UgJiZcbiAgICAgICAgICAodm9pZCAwID09PSBfaW5zdGFuY2UgfHwgX2luc3RhbmNlLiQkdHlwZW9mICE9PSBSRUFDVF9DT05URVhUX1RZUEUpICYmXG4gICAgICAgICAgIWRpZFdhcm5BYm91dEludmFsaWRhdGVDb250ZXh0VHlwZS5oYXMoQ29tcG9uZW50KSAmJlxuICAgICAgICAgIChkaWRXYXJuQWJvdXRJbnZhbGlkYXRlQ29udGV4dFR5cGUuYWRkKENvbXBvbmVudCksXG4gICAgICAgICAgKGxhbmUgPVxuICAgICAgICAgICAgdm9pZCAwID09PSBfaW5zdGFuY2VcbiAgICAgICAgICAgICAgPyBcIiBIb3dldmVyLCBpdCBpcyBzZXQgdG8gdW5kZWZpbmVkLiBUaGlzIGNhbiBiZSBjYXVzZWQgYnkgYSB0eXBvIG9yIGJ5IG1peGluZyB1cCBuYW1lZCBhbmQgZGVmYXVsdCBpbXBvcnRzLiBUaGlzIGNhbiBhbHNvIGhhcHBlbiBkdWUgdG8gYSBjaXJjdWxhciBkZXBlbmRlbmN5LCBzbyB0cnkgbW92aW5nIHRoZSBjcmVhdGVDb250ZXh0KCkgY2FsbCB0byBhIHNlcGFyYXRlIGZpbGUuXCJcbiAgICAgICAgICAgICAgOiBcIm9iamVjdFwiICE9PSB0eXBlb2YgX2luc3RhbmNlXG4gICAgICAgICAgICAgICAgPyBcIiBIb3dldmVyLCBpdCBpcyBzZXQgdG8gYSBcIiArIHR5cGVvZiBfaW5zdGFuY2UgKyBcIi5cIlxuICAgICAgICAgICAgICAgIDogX2luc3RhbmNlLiQkdHlwZW9mID09PSBSRUFDVF9DT05TVU1FUl9UWVBFXG4gICAgICAgICAgICAgICAgICA/IFwiIERpZCB5b3UgYWNjaWRlbnRhbGx5IHBhc3MgdGhlIENvbnRleHQuQ29uc3VtZXIgaW5zdGVhZD9cIlxuICAgICAgICAgICAgICAgICAgOiBcIiBIb3dldmVyLCBpdCBpcyBzZXQgdG8gYW4gb2JqZWN0IHdpdGgga2V5cyB7XCIgK1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhfaW5zdGFuY2UpLmpvaW4oXCIsIFwiKSArXG4gICAgICAgICAgICAgICAgICAgIFwifS5cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgZGVmaW5lcyBhbiBpbnZhbGlkIGNvbnRleHRUeXBlLiBjb250ZXh0VHlwZSBzaG91bGQgcG9pbnQgdG8gdGhlIENvbnRleHQgb2JqZWN0IHJldHVybmVkIGJ5IFJlYWN0LmNyZWF0ZUNvbnRleHQoKS4lc1wiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJDb21wb25lbnRcIixcbiAgICAgICAgICAgIGxhbmVcbiAgICAgICAgICApKTtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIF9pbnN0YW5jZSAmJlxuICAgICAgICAgIG51bGwgIT09IF9pbnN0YW5jZSAmJlxuICAgICAgICAgIChzdGF0ZSA9IHJlYWRDb250ZXh0KF9pbnN0YW5jZSkpO1xuICAgICAgICBfaW5zdGFuY2UgPSBuZXcgQ29tcG9uZW50KG5leHRQcm9wcywgc3RhdGUpO1xuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpIHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIF9pbnN0YW5jZSA9IG5ldyBDb21wb25lbnQobmV4dFByb3BzLCBzdGF0ZSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgICBudWxsICE9PSBfaW5zdGFuY2Uuc3RhdGUgJiYgdm9pZCAwICE9PSBfaW5zdGFuY2Uuc3RhdGVcbiAgICAgICAgICAgID8gX2luc3RhbmNlLnN0YXRlXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICAgIF9pbnN0YW5jZS51cGRhdGVyID0gY2xhc3NDb21wb25lbnRVcGRhdGVyO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBfaW5zdGFuY2U7XG4gICAgICAgIF9pbnN0YW5jZS5fcmVhY3RJbnRlcm5hbHMgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgX2luc3RhbmNlLl9yZWFjdEludGVybmFsSW5zdGFuY2UgPSBmYWtlSW50ZXJuYWxJbnN0YW5jZTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAmJlxuICAgICAgICAgIG51bGwgPT09IHN0YXRlICYmXG4gICAgICAgICAgKChzdGF0ZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQ29tcG9uZW50XCIpLFxuICAgICAgICAgIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZS5oYXMoc3RhdGUpIHx8XG4gICAgICAgICAgICAoZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlLmFkZChzdGF0ZSksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImAlc2AgdXNlcyBgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzYCBidXQgaXRzIGluaXRpYWwgc3RhdGUgaXMgJXMuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkLiBJbnN0ZWFkLCBkZWZpbmUgdGhlIGluaXRpYWwgc3RhdGUgYnkgYXNzaWduaW5nIGFuIG9iamVjdCB0byBgdGhpcy5zdGF0ZWAgaW4gdGhlIGNvbnN0cnVjdG9yIG9mIGAlc2AuIFRoaXMgZW5zdXJlcyB0aGF0IGBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNgIGFyZ3VtZW50cyBoYXZlIGEgY29uc2lzdGVudCBzaGFwZS5cIixcbiAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgIG51bGwgPT09IF9pbnN0YW5jZS5zdGF0ZSA/IFwibnVsbFwiIDogXCJ1bmRlZmluZWRcIixcbiAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGVcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSAobGFuZSA9IHN0YXRlID0gbnVsbCk7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICEwICE9PSBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICAgID8gKHN0YXRlID0gXCJjb21wb25lbnRXaWxsTW91bnRcIilcbiAgICAgICAgICAgIDogXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgICAgKHN0YXRlID0gXCJVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50XCIpO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgITAgIT09XG4gICAgICAgICAgICBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgICA/IChsYW5lID0gXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIpXG4gICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgICAgIChsYW5lID0gXCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1wiKTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICEwICE9PSBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgICA/IChmb3VuZFdpbGxVcGRhdGVOYW1lID0gXCJjb21wb25lbnRXaWxsVXBkYXRlXCIpXG4gICAgICAgICAgICA6IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICAgICAoZm91bmRXaWxsVXBkYXRlTmFtZSA9IFwiVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVcIik7XG4gICAgICAgICAgaWYgKG51bGwgIT09IHN0YXRlIHx8IG51bGwgIT09IGxhbmUgfHwgbnVsbCAhPT0gZm91bmRXaWxsVXBkYXRlTmFtZSkge1xuICAgICAgICAgICAgX2luc3RhbmNlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgICAgICAgIHZhciBuZXdBcGlOYW1lID1cbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc1xuICAgICAgICAgICAgICAgID8gXCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKVwiXG4gICAgICAgICAgICAgICAgOiBcImdldFNuYXBzaG90QmVmb3JlVXBkYXRlKClcIjtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuaGFzKF9pbnN0YW5jZSkgfHxcbiAgICAgICAgICAgICAgKGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUuYWRkKF9pbnN0YW5jZSksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJVbnNhZmUgbGVnYWN5IGxpZmVjeWNsZXMgd2lsbCBub3QgYmUgY2FsbGVkIGZvciBjb21wb25lbnRzIHVzaW5nIG5ldyBjb21wb25lbnQgQVBJcy5cXG5cXG4lcyB1c2VzICVzIGJ1dCBhbHNvIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgbGVnYWN5IGxpZmVjeWNsZXM6JXMlcyVzXFxuXFxuVGhlIGFib3ZlIGxpZmVjeWNsZXMgc2hvdWxkIGJlIHJlbW92ZWQuIExlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6XFxuaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXNcIixcbiAgICAgICAgICAgICAgICBfaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgbmV3QXBpTmFtZSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBzdGF0ZSA/IFwiXFxuICBcIiArIHN0YXRlIDogXCJcIixcbiAgICAgICAgICAgICAgICBudWxsICE9PSBsYW5lID8gXCJcXG4gIFwiICsgbGFuZSA6IFwiXCIsXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gZm91bmRXaWxsVXBkYXRlTmFtZSA/IFwiXFxuICBcIiArIGZvdW5kV2lsbFVwZGF0ZU5hbWUgOiBcIlwiXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIHN0YXRlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgICAgX2luc3RhbmNlLnJlbmRlciB8fFxuICAgICAgICAgIChDb21wb25lbnQucHJvdG90eXBlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXJcbiAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIk5vIGByZW5kZXJgIG1ldGhvZCBmb3VuZCBvbiB0aGUgJXMgaW5zdGFuY2U6IGRpZCB5b3UgYWNjaWRlbnRhbGx5IHJldHVybiBhbiBvYmplY3QgZnJvbSB0aGUgY29uc3RydWN0b3I/XCIsXG4gICAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSAlcyBpbnN0YW5jZTogeW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBkZWZpbmUgYHJlbmRlcmAuXCIsXG4gICAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICFfaW5zdGFuY2UuZ2V0SW5pdGlhbFN0YXRlIHx8XG4gICAgICAgICAgX2luc3RhbmNlLmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCB8fFxuICAgICAgICAgIF9pbnN0YW5jZS5zdGF0ZSB8fFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImdldEluaXRpYWxTdGF0ZSB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiBUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBjbGFzc2VzIGNyZWF0ZWQgdXNpbmcgUmVhY3QuY3JlYXRlQ2xhc3MuIERpZCB5b3UgbWVhbiB0byBkZWZpbmUgYSBzdGF0ZSBwcm9wZXJ0eSBpbnN0ZWFkP1wiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBfaW5zdGFuY2UuZ2V0RGVmYXVsdFByb3BzICYmXG4gICAgICAgICAgIV9pbnN0YW5jZS5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJnZXREZWZhdWx0UHJvcHMgd2FzIGRlZmluZWQgb24gJXMsIGEgcGxhaW4gSmF2YVNjcmlwdCBjbGFzcy4gVGhpcyBpcyBvbmx5IHN1cHBvcnRlZCBmb3IgY2xhc3NlcyBjcmVhdGVkIHVzaW5nIFJlYWN0LmNyZWF0ZUNsYXNzLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgdG8gZGVmaW5lIGRlZmF1bHRQcm9wcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBfaW5zdGFuY2UuY29udGV4dFR5cGUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJjb250ZXh0VHlwZSB3YXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBwcm9wZXJ0eSBvbiAlcy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IHRvIGRlZmluZSBjb250ZXh0VHlwZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMgJiZcbiAgICAgICAgICAhZGlkV2FybkFib3V0Q2hpbGRDb250ZXh0VHlwZXMuaGFzKENvbXBvbmVudCkgJiZcbiAgICAgICAgICAoZGlkV2FybkFib3V0Q2hpbGRDb250ZXh0VHlwZXMuYWRkKENvbXBvbmVudCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgdXNlcyB0aGUgbGVnYWN5IGNoaWxkQ29udGV4dFR5cGVzIEFQSSB3aGljaCB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gVXNlIFJlYWN0LmNyZWF0ZUNvbnRleHQoKSBpbnN0ZWFkLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9sZWdhY3ktY29udGV4dClcIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKSk7XG4gICAgICAgIENvbXBvbmVudC5jb250ZXh0VHlwZXMgJiZcbiAgICAgICAgICAhZGlkV2FybkFib3V0Q29udGV4dFR5cGVzJDEuaGFzKENvbXBvbmVudCkgJiZcbiAgICAgICAgICAoZGlkV2FybkFib3V0Q29udGV4dFR5cGVzJDEuYWRkKENvbXBvbmVudCksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgdXNlcyB0aGUgbGVnYWN5IGNvbnRleHRUeXBlcyBBUEkgd2hpY2ggd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIFVzZSBSZWFjdC5jcmVhdGVDb250ZXh0KCkgd2l0aCBzdGF0aWMgY29udGV4dFR5cGUgaW5zdGVhZC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbGVnYWN5LWNvbnRleHQpXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICkpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50U2hvdWxkVXBkYXRlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBjb21wb25lbnRTaG91bGRVcGRhdGUoKS4gRGlkIHlvdSBtZWFuIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpPyBUaGUgbmFtZSBpcyBwaHJhc2VkIGFzIGEgcXVlc3Rpb24gYmVjYXVzZSB0aGUgZnVuY3Rpb24gaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGEgdmFsdWUuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIENvbXBvbmVudC5wcm90b3R5cGUgJiZcbiAgICAgICAgICBDb21wb25lbnQucHJvdG90eXBlLmlzUHVyZVJlYWN0Q29tcG9uZW50ICYmXG4gICAgICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5zaG91bGRDb21wb25lbnRVcGRhdGUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpLiBzaG91bGRDb21wb25lbnRVcGRhdGUgc2hvdWxkIG5vdCBiZSB1c2VkIHdoZW4gZXh0ZW5kaW5nIFJlYWN0LlB1cmVDb21wb25lbnQuIFBsZWFzZSBleHRlbmQgUmVhY3QuQ29tcG9uZW50IGlmIHNob3VsZENvbXBvbmVudFVwZGF0ZSBpcyB1c2VkLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJBIHB1cmUgY29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVW5tb3VudCAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgY29tcG9uZW50RGlkVW5tb3VudCgpLiBCdXQgdGhlcmUgaXMgbm8gc3VjaCBsaWZlY3ljbGUgbWV0aG9kLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFVubW91bnQoKT9cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzKCkuIEJ1dCB0aGVyZSBpcyBubyBzdWNoIGxpZmVjeWNsZSBtZXRob2QuIElmIHlvdSBtZWFudCB0byB1cGRhdGUgdGhlIHN0YXRlIGluIHJlc3BvbnNlIHRvIGNoYW5naW5nIHByb3BzLCB1c2UgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpLiBJZiB5b3UgbWVhbnQgdG8gZmV0Y2ggZGF0YSBvciBydW4gc2lkZS1lZmZlY3RzIG9yIG11dGF0aW9ucyBhZnRlciBSZWFjdCBoYXMgdXBkYXRlZCB0aGUgVUksIHVzZSBjb21wb25lbnREaWRVcGRhdGUoKS5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIGNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gRGlkIHlvdSBtZWFuIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT9cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKT9cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgbGFuZSA9IF9pbnN0YW5jZS5wcm9wcyAhPT0gbmV4dFByb3BzO1xuICAgICAgICB2b2lkIDAgIT09IF9pbnN0YW5jZS5wcm9wcyAmJlxuICAgICAgICAgIGxhbmUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJXaGVuIGNhbGxpbmcgc3VwZXIoKSBpbiBgJXNgLCBtYWtlIHN1cmUgdG8gcGFzcyB1cCB0aGUgc2FtZSBwcm9wcyB0aGF0IHlvdXIgY29tcG9uZW50J3MgY29uc3RydWN0b3Igd2FzIHBhc3NlZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgX2luc3RhbmNlLmRlZmF1bHRQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlNldHRpbmcgZGVmYXVsdFByb3BzIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzIGlzIG5vdCBzdXBwb3J0ZWQgYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVmaW5lIGRlZmF1bHRQcm9wcyBhcyBhIHN0YXRpYyBwcm9wZXJ0eSBvbiAlcy5cIixcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlIHx8XG4gICAgICAgICAgZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlLmhhcyhDb21wb25lbnQpIHx8XG4gICAgICAgICAgKGRpZFdhcm5BYm91dEdldFNuYXBzaG90QmVmb3JlVXBkYXRlV2l0aG91dERpZFVwZGF0ZS5hZGQoQ29tcG9uZW50KSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBzaG91bGQgYmUgdXNlZCB3aXRoIGNvbXBvbmVudERpZFVwZGF0ZSgpLiBUaGlzIGNvbXBvbmVudCBkZWZpbmVzIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgb25seS5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpXG4gICAgICAgICAgKSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCkgaXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBtZXRob2QgYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhIHN0YXRpYyBtZXRob2QuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKCkgaXMgZGVmaW5lZCBhcyBhbiBpbnN0YW5jZSBtZXRob2QgYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhIHN0YXRpYyBtZXRob2QuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIGlzIGRlZmluZWQgYXMgYSBzdGF0aWMgbWV0aG9kIGFuZCB3aWxsIGJlIGlnbm9yZWQuIEluc3RlYWQsIGRlY2xhcmUgaXQgYXMgYW4gaW5zdGFuY2UgbWV0aG9kLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICAobGFuZSA9IF9pbnN0YW5jZS5zdGF0ZSkgJiZcbiAgICAgICAgICAoXCJvYmplY3RcIiAhPT0gdHlwZW9mIGxhbmUgfHwgaXNBcnJheUltcGwobGFuZSkpICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIiVzLnN0YXRlOiBtdXN0IGJlIHNldCB0byBhbiBvYmplY3Qgb3IgbnVsbFwiLCBzdGF0ZSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRDaGlsZENvbnRleHQgJiZcbiAgICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2YgQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMuZ2V0Q2hpbGRDb250ZXh0KCk6IGNoaWxkQ29udGV4dFR5cGVzIG11c3QgYmUgZGVmaW5lZCBpbiBvcmRlciB0byB1c2UgZ2V0Q2hpbGRDb250ZXh0KCkuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgX2luc3RhbmNlLnByb3BzID0gbmV4dFByb3BzO1xuICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICBfaW5zdGFuY2UucmVmcyA9IHt9O1xuICAgICAgICBpbml0aWFsaXplVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBzdGF0ZSA9IENvbXBvbmVudC5jb250ZXh0VHlwZTtcbiAgICAgICAgX2luc3RhbmNlLmNvbnRleHQgPVxuICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBzdGF0ZSAmJiBudWxsICE9PSBzdGF0ZVxuICAgICAgICAgICAgPyByZWFkQ29udGV4dChzdGF0ZSlcbiAgICAgICAgICAgIDogZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPT09IG5leHRQcm9wcyAmJlxuICAgICAgICAgICgoc3RhdGUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIkNvbXBvbmVudFwiKSxcbiAgICAgICAgICBkaWRXYXJuQWJvdXREaXJlY3RseUFzc2lnbmluZ1Byb3BzVG9TdGF0ZS5oYXMoc3RhdGUpIHx8XG4gICAgICAgICAgICAoZGlkV2FybkFib3V0RGlyZWN0bHlBc3NpZ25pbmdQcm9wc1RvU3RhdGUuYWRkKHN0YXRlKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiJXM6IEl0IGlzIG5vdCByZWNvbW1lbmRlZCB0byBhc3NpZ24gcHJvcHMgZGlyZWN0bHkgdG8gc3RhdGUgYmVjYXVzZSB1cGRhdGVzIHRvIHByb3BzIHdvbid0IGJlIHJlZmxlY3RlZCBpbiBzdGF0ZS4gSW4gbW9zdCBjYXNlcywgaXQgaXMgYmV0dGVyIHRvIHVzZSBwcm9wcyBkaXJlY3RseS5cIixcbiAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICkpKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUgJiZcbiAgICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyhcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgX2luc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MucmVjb3JkVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgX2luc3RhbmNlXG4gICAgICAgICk7XG4gICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIHN0YXRlID0gQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygc3RhdGUgJiZcbiAgICAgICAgICAoYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgbmV4dFByb3BzXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoX2luc3RhbmNlLnN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSkpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KSB8fFxuICAgICAgICAgICgoc3RhdGUgPSBfaW5zdGFuY2Uuc3RhdGUpLFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQoKSxcbiAgICAgICAgICBzdGF0ZSAhPT0gX2luc3RhbmNlLnN0YXRlICYmXG4gICAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCIlcy5jb21wb25lbnRXaWxsTW91bnQoKTogQXNzaWduaW5nIGRpcmVjdGx5IHRvIHRoaXMuc3RhdGUgaXMgZGVwcmVjYXRlZCAoZXhjZXB0IGluc2lkZSBhIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yKS4gVXNlIHNldFN0YXRlIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIod29ya0luUHJvZ3Jlc3MpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBjbGFzc0NvbXBvbmVudFVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZShcbiAgICAgICAgICAgICAgX2luc3RhbmNlLFxuICAgICAgICAgICAgICBfaW5zdGFuY2Uuc3RhdGUsXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCBfaW5zdGFuY2UsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCksXG4gICAgICAgICAgKF9pbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQxOTQzMDgpO1xuICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY3MTA4ODY0KTtcbiAgICAgICAgX2luc3RhbmNlID0gITA7XG4gICAgICB9IGVsc2UgaWYgKG51bGwgPT09IGN1cnJlbnQkanNjb21wJDApIHtcbiAgICAgICAgX2luc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICB2YXIgdW5yZXNvbHZlZE9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgbGFuZSA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKENvbXBvbmVudCwgdW5yZXNvbHZlZE9sZFByb3BzKTtcbiAgICAgICAgX2luc3RhbmNlLnByb3BzID0gbGFuZTtcbiAgICAgICAgdmFyIG9sZENvbnRleHQgPSBfaW5zdGFuY2UuY29udGV4dDtcbiAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9IENvbXBvbmVudC5jb250ZXh0VHlwZTtcbiAgICAgICAgc3RhdGUgPSBlbXB0eUNvbnRleHRPYmplY3Q7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBmb3VuZFdpbGxVcGRhdGVOYW1lICYmXG4gICAgICAgICAgbnVsbCAhPT0gZm91bmRXaWxsVXBkYXRlTmFtZSAmJlxuICAgICAgICAgIChzdGF0ZSA9IHJlYWRDb250ZXh0KGZvdW5kV2lsbFVwZGF0ZU5hbWUpKTtcbiAgICAgICAgbmV3QXBpTmFtZSA9IENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM7XG4gICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPVxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0FwaU5hbWUgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGU7XG4gICAgICAgIHVucmVzb2x2ZWRPbGRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyAhPT0gdW5yZXNvbHZlZE9sZFByb3BzO1xuICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lIHx8XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMpIHx8XG4gICAgICAgICAgKCh1bnJlc29sdmVkT2xkUHJvcHMgfHwgb2xkQ29udGV4dCAhPT0gc3RhdGUpICYmXG4gICAgICAgICAgICBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIF9pbnN0YW5jZSxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIGhhc0ZvcmNlVXBkYXRlID0gITE7XG4gICAgICAgIHZhciBvbGRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IG9sZFN0YXRlO1xuICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgX2luc3RhbmNlLCByZW5kZXJMYW5lcyk7XG4gICAgICAgIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKTtcbiAgICAgICAgb2xkQ29udGV4dCA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIHVucmVzb2x2ZWRPbGRQcm9wcyB8fCBvbGRTdGF0ZSAhPT0gb2xkQ29udGV4dCB8fCBoYXNGb3JjZVVwZGF0ZVxuICAgICAgICAgID8gKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0FwaU5hbWUgJiZcbiAgICAgICAgICAgICAgKGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBuZXdBcGlOYW1lLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAob2xkQ29udGV4dCA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpKSxcbiAgICAgICAgICAgIChsYW5lID1cbiAgICAgICAgICAgICAgaGFzRm9yY2VVcGRhdGUgfHxcbiAgICAgICAgICAgICAgY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGxhbmUsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgIG9sZFN0YXRlLFxuICAgICAgICAgICAgICAgIG9sZENvbnRleHQsXG4gICAgICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgPyAoZm91bmRXaWxsVXBkYXRlTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQpIHx8XG4gICAgICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50KCksXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpKSxcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0MTk0MzA4KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjcxMDg4NjQpKVxuICAgICAgICAgICAgICA6IChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0MTk0MzA4KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjcxMDg4NjQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG9sZENvbnRleHQpKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UucHJvcHMgPSBuZXh0UHJvcHMpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5zdGF0ZSA9IG9sZENvbnRleHQpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5jb250ZXh0ID0gc3RhdGUpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZSA9IGxhbmUpKVxuICAgICAgICAgIDogKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDE5NDMwOCksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA2NzEwODg2NCksXG4gICAgICAgICAgICAoX2luc3RhbmNlID0gITEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgY2xvbmVVcGRhdGVRdWV1ZShjdXJyZW50JGpzY29tcCQwLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKENvbXBvbmVudCwgc3RhdGUpO1xuICAgICAgICBfaW5zdGFuY2UucHJvcHMgPSBmb3VuZFdpbGxVcGRhdGVOYW1lO1xuICAgICAgICBuZXdBcGlOYW1lID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgICAgICBvbGRTdGF0ZSA9IF9pbnN0YW5jZS5jb250ZXh0O1xuICAgICAgICBvbGRDb250ZXh0ID0gQ29tcG9uZW50LmNvbnRleHRUeXBlO1xuICAgICAgICBsYW5lID0gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb2xkQ29udGV4dCAmJlxuICAgICAgICAgIG51bGwgIT09IG9sZENvbnRleHQgJiZcbiAgICAgICAgICAobGFuZSA9IHJlYWRDb250ZXh0KG9sZENvbnRleHQpKTtcbiAgICAgICAgdW5yZXNvbHZlZE9sZFByb3BzID0gQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcbiAgICAgICAgKG9sZENvbnRleHQgPVxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHVucmVzb2x2ZWRPbGRQcm9wcyB8fFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSkgfHxcbiAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgfHxcbiAgICAgICAgICAoKHN0YXRlICE9PSBuZXdBcGlOYW1lIHx8IG9sZFN0YXRlICE9PSBsYW5lKSAmJlxuICAgICAgICAgICAgY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBfaW5zdGFuY2UsXG4gICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgbGFuZVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIGhhc0ZvcmNlVXBkYXRlID0gITE7XG4gICAgICAgIG9sZFN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgX2luc3RhbmNlLnN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCBfaW5zdGFuY2UsIHJlbmRlckxhbmVzKTtcbiAgICAgICAgc3VzcGVuZElmVXBkYXRlUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbigpO1xuICAgICAgICB2YXIgbmV3U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICBzdGF0ZSAhPT0gbmV3QXBpTmFtZSB8fFxuICAgICAgICBvbGRTdGF0ZSAhPT0gbmV3U3RhdGUgfHxcbiAgICAgICAgaGFzRm9yY2VVcGRhdGUgfHxcbiAgICAgICAgKG51bGwgIT09IGN1cnJlbnQkanNjb21wJDAgJiZcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50JGpzY29tcCQwLmRlcGVuZGVuY2llcyAmJlxuICAgICAgICAgIGNoZWNrSWZDb250ZXh0Q2hhbmdlZChjdXJyZW50JGpzY29tcCQwLmRlcGVuZGVuY2llcykpXG4gICAgICAgICAgPyAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdW5yZXNvbHZlZE9sZFByb3BzICYmXG4gICAgICAgICAgICAgIChhcHBseURlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgdW5yZXNvbHZlZE9sZFByb3BzLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAobmV3U3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSksXG4gICAgICAgICAgICAoZm91bmRXaWxsVXBkYXRlTmFtZSA9XG4gICAgICAgICAgICAgIGhhc0ZvcmNlVXBkYXRlIHx8XG4gICAgICAgICAgICAgIGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICBvbGRTdGF0ZSxcbiAgICAgICAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICBsYW5lXG4gICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnQkanNjb21wJDAgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50JGpzY29tcCQwLmRlcGVuZGVuY2llcyAmJlxuICAgICAgICAgICAgICAgIGNoZWNrSWZDb250ZXh0Q2hhbmdlZChjdXJyZW50JGpzY29tcCQwLmRlcGVuZGVuY2llcykpKVxuICAgICAgICAgICAgICA/IChvbGRDb250ZXh0IHx8XG4gICAgICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlKSB8fFxuICAgICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlKG5leHRQcm9wcywgbmV3U3RhdGUsIGxhbmUpLFxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgbGFuZVxuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTAyNCkpXG4gICAgICAgICAgICAgIDogKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgfHxcbiAgICAgICAgICAgICAgICAgIChzdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgICAgIG9sZFN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkU3RhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8XG4gICAgICAgICAgICAgICAgICAoc3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFN0YXRlKSB8fFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEwMjQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG5ld1N0YXRlKSksXG4gICAgICAgICAgICAoX2luc3RhbmNlLnByb3BzID0gbmV4dFByb3BzKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2Uuc3RhdGUgPSBuZXdTdGF0ZSksXG4gICAgICAgICAgICAoX2luc3RhbmNlLmNvbnRleHQgPSBsYW5lKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UgPSBmb3VuZFdpbGxVcGRhdGVOYW1lKSlcbiAgICAgICAgICA6IChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlIHx8XG4gICAgICAgICAgICAgIChzdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpLFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlIHx8XG4gICAgICAgICAgICAgIChzdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEwMjQpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZSA9ICExKSk7XG4gICAgICB9XG4gICAgICBsYW5lID0gX2luc3RhbmNlO1xuICAgICAgbWFya1JlZihjdXJyZW50JGpzY29tcCQwLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBzdGF0ZSA9IDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCk7XG4gICAgICBpZiAobGFuZSB8fCBzdGF0ZSkge1xuICAgICAgICBsYW5lID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPVxuICAgICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzID8gbnVsbCA6IGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXY7XG4gICAgICAgIGlzUmVuZGVyaW5nID0gITE7XG4gICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgaWYgKHN0YXRlICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IpXG4gICAgICAgICAgKENvbXBvbmVudCA9IG51bGwpLCAocHJvZmlsZXJTdGFydFRpbWUgPSAtMSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBDb21wb25lbnQgPSBjYWxsUmVuZGVySW5ERVYobGFuZSk7XG4gICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjYWxsUmVuZGVySW5ERVYobGFuZSk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTtcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCRqc2NvbXAkMCAmJiBzdGF0ZVxuICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgY3VycmVudCRqc2NvbXAkMC5jaGlsZCxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApKSlcbiAgICAgICAgICA6IHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50JGpzY29tcCQwLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IGxhbmUuc3RhdGU7XG4gICAgICAgIGN1cnJlbnQkanNjb21wJDAgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgIH0gZWxzZVxuICAgICAgICBjdXJyZW50JGpzY29tcCQwID0gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhcbiAgICAgICAgICBjdXJyZW50JGpzY29tcCQwLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICk7XG4gICAgICByZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgIF9pbnN0YW5jZSAmJlxuICAgICAgICByZW5kZXJMYW5lcy5wcm9wcyAhPT0gbmV4dFByb3BzICYmXG4gICAgICAgIChkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzIHx8XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSXQgbG9va3MgbGlrZSAlcyBpcyByZWFzc2lnbmluZyBpdHMgb3duIGB0aGlzLnByb3BzYCB3aGlsZSByZW5kZXJpbmcuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBhbmQgY2FuIGxlYWQgdG8gY29uZnVzaW5nIGJ1Z3MuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHdvcmtJblByb2dyZXNzKSB8fCBcImEgY29tcG9uZW50XCJcbiAgICAgICAgICApLFxuICAgICAgICAoZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyA9ICEwKSk7XG4gICAgICByZXR1cm4gY3VycmVudCRqc2NvbXAkMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRIb3N0Um9vdFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSgpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjU2O1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbiwgcmVuZGVyTGFuZXMpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUZ1bmN0aW9uQ29tcG9uZW50SW5EZXYod29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCkge1xuICAgICAgQ29tcG9uZW50ICYmXG4gICAgICAgIENvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcyAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiY2hpbGRDb250ZXh0VHlwZXMgY2Fubm90IGJlIGRlZmluZWQgb24gYSBmdW5jdGlvbiBjb21wb25lbnQuXFxuICAlcy5jaGlsZENvbnRleHRUeXBlcyA9IC4uLlwiLFxuICAgICAgICAgIENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBDb21wb25lbnQubmFtZSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICk7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICYmXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3MgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIlVua25vd25cIiksXG4gICAgICAgIGRpZFdhcm5BYm91dEdldERlcml2ZWRTdGF0ZU9uRnVuY3Rpb25Db21wb25lbnRbd29ya0luUHJvZ3Jlc3NdIHx8XG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBGdW5jdGlvbiBjb21wb25lbnRzIGRvIG5vdCBzdXBwb3J0IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cIixcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbkNvbXBvbmVudFt3b3JrSW5Qcm9ncmVzc10gPVxuICAgICAgICAgICAgITApKSk7XG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgQ29tcG9uZW50LmNvbnRleHRUeXBlICYmXG4gICAgICAgIG51bGwgIT09IENvbXBvbmVudC5jb250ZXh0VHlwZSAmJlxuICAgICAgICAoKENvbXBvbmVudCA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiVW5rbm93blwiKSxcbiAgICAgICAgZGlkV2FybkFib3V0Q29udGV4dFR5cGVPbkZ1bmN0aW9uQ29tcG9uZW50W0NvbXBvbmVudF0gfHxcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IEZ1bmN0aW9uIGNvbXBvbmVudHMgZG8gbm90IHN1cHBvcnQgY29udGV4dFR5cGUuXCIsXG4gICAgICAgICAgICBDb21wb25lbnRcbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRDb250ZXh0VHlwZU9uRnVuY3Rpb25Db21wb25lbnRbQ29tcG9uZW50XSA9ICEwKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFN1c3BlbnNlT2Zmc2NyZWVuU3RhdGUocmVuZGVyTGFuZXMpIHtcbiAgICAgIHJldHVybiB7IGJhc2VMYW5lczogcmVuZGVyTGFuZXMsIGNhY2hlUG9vbDogZ2V0U3VzcGVuZGVkQ2FjaGUoKSB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSZW1haW5pbmdXb3JrSW5QcmltYXJ5VHJlZShcbiAgICAgIGN1cnJlbnQsXG4gICAgICBwcmltYXJ5VHJlZURpZERlZmVyLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIGN1cnJlbnQgPSBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5jaGlsZExhbmVzICYgfnJlbmRlckxhbmVzIDogMDtcbiAgICAgIHByaW1hcnlUcmVlRGlkRGVmZXIgJiYgKGN1cnJlbnQgfD0gd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUpO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN1c3BlbnNlQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgdmFyIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNztcbiAgICAgIHZhciBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgIHNob3VsZFN1c3BlbmRJbXBsKHdvcmtJblByb2dyZXNzKSAmJiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KTtcbiAgICAgIHZhciBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9ICExO1xuICAgICAgdmFyIGRpZFN1c3BlbmQgPSAwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpO1xuICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9IGRpZFN1c3BlbmQpIHx8XG4gICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPVxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCA9PT0gY3VycmVudC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/ICExXG4gICAgICAgICAgICA6IDAgIT09IChzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQgJiBGb3JjZVN1c3BlbnNlRmFsbGJhY2spKTtcbiAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyAmJlxuICAgICAgICAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID0gITApLFxuICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTEyOSkpO1xuICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID0gMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMzIpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTMzO1xuICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTlcbiAgICAgICAgICAgID8gcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgOiByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICAgICAgdmFyIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlO1xuICAgICAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcDtcbiAgICAgICAgICAgIGlmICghKEpTQ29tcGlsZXJfdGVtcCA9ICFKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2KSkge1xuICAgICAgICAgICAgICBjOiB7XG4gICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNjtcbiAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gcm9vdE9yU2luZ2xldG9uQ29udGV4dDtcbiAgICAgICAgICAgICAgICAgIDggIT09IGluc3RhbmNlLm5vZGVUeXBlO1xuXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIUpTQ29tcGlsZXJfdGVtcCkge1xuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhayBjO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShpbnN0YW5jZS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gaW5zdGFuY2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl90ZW1wXG4gICAgICAgICAgICAgICAgPyAod2FybklmTm90SHlkcmF0aW5nKCksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVoeWRyYXRlZDogSlNDb21waWxlcl90ZW1wLFxuICAgICAgICAgICAgICAgICAgICB0cmVlQ29udGV4dDpcbiAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSB0cmVlQ29udGV4dFByb3ZpZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgaWQ6IHRyZWVDb250ZXh0SWQsIG92ZXJmbG93OiB0cmVlQ29udGV4dE92ZXJmbG93IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlMYW5lOiA1MzY4NzA5MTJcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgKGluc3RhbmNlID0gY3JlYXRlRmliZXIoMTgsIG51bGwsIG51bGwsIE5vTW9kZSkpLFxuICAgICAgICAgICAgICAgICAgKGluc3RhbmNlLnN0YXRlTm9kZSA9IEpTQ29tcGlsZXJfdGVtcCksXG4gICAgICAgICAgICAgICAgICAoaW5zdGFuY2UucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgICAgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPSAhMCkpXG4gICAgICAgICAgICAgICAgOiAoSlNDb21waWxlcl90ZW1wID0gITEpO1xuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSAhSlNDb21waWxlcl90ZW1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wICYmXG4gICAgICAgICAgICAgICh3YXJuTm9uSHlkcmF0ZWRJbnN0YW5jZShcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIHRocm93T25IeWRyYXRpb25NaXNtYXRjaCh3b3JrSW5Qcm9ncmVzcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ICYmXG4gICAgICAgICAgICAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPVxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRlaHlkcmF0ZWQpLFxuICAgICAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNilcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRhdGEgPT09XG4gICAgICAgICAgICAgIFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEFcbiAgICAgICAgICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDE2KVxuICAgICAgICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzLmxhbmVzID0gNTM2ODcwOTEyKSxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPVxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmNoaWxkcmVuO1xuICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguZmFsbGJhY2s7XG4gICAgICAgIGlmIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPVxuICAgICAgICAgICAgICBtb3VudFdvcmtJblByb2dyZXNzT2Zmc2NyZWVuRmliZXIoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbW9kZTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCxcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTksXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LnJldHVybiA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5zaWJsaW5nID1cbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgICAgICAgIG1vdW50U3VzcGVuc2VPZmZzY3JlZW5TdGF0ZShyZW5kZXJMYW5lcykpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LmNoaWxkTGFuZXMgPVxuICAgICAgICAgICAgICBnZXRSZW1haW5pbmdXb3JrSW5QcmltYXJ5VHJlZShcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gU1VTUEVOREVEX01BUktFUiksXG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOFxuICAgICAgICAgICk7XG4gICAgICAgIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJldHVybiBtb3VudFN1c3BlbnNlUHJpbWFyeUNoaWxkcmVuKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTZcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcmV2U3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHByZXZTdGF0ZSAmJlxuICAgICAgICAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSBwcmV2U3RhdGUuZGVoeWRyYXRlZCksXG4gICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpXG4gICAgICApIHtcbiAgICAgICAgaWYgKGRpZFN1c3BlbmQpXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAyNTZcbiAgICAgICAgICAgID8gKHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMjU3KSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gcmV0cnlTdXNwZW5zZUNvbXBvbmVudFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApKSlcbiAgICAgICAgICAgIDogbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgICA/IChyZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IG51bGwpKVxuICAgICAgICAgICAgICA6IChyZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5mYWxsYmFjayksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSB3b3JrSW5Qcm9ncmVzcy5tb2RlKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPVxuICAgICAgICAgICAgICAgICAgbW91bnRXb3JrSW5Qcm9ncmVzc09mZnNjcmVlbkZpYmVyKFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgbW9kZTogXCJ2aXNpYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTZcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICAgICAgICBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTksXG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkuZmxhZ3MgfD0gMiksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnJldHVybiA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkucmV0dXJuID1cbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguc2libGluZyA9XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpLFxuICAgICAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LmNoaWxkLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4Lm1lbW9pemVkU3RhdGUgPVxuICAgICAgICAgICAgICAgICAgbW91bnRTdXNwZW5zZU9mZnNjcmVlblN0YXRlKHJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmNoaWxkTGFuZXMgPVxuICAgICAgICAgICAgICAgICAgZ2V0UmVtYWluaW5nV29ya0luUHJpbWFyeVRyZWUoXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gU1VTUEVOREVEX01BUktFUiksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID1cbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5KSk7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIChwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIGlzSHlkcmF0aW5nICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIldlIHNob3VsZCBub3QgYmUgaHlkcmF0aW5nIGhlcmUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGEgYnVnLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuZGF0YSA9PT1cbiAgICAgICAgICAgIFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEpXG4gICAgICAgICkge1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2Lm5leHRTaWJsaW5nICYmXG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2Lm5leHRTaWJsaW5nLmRhdGFzZXQ7XG4gICAgICAgICAgaWYgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNykge1xuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LmRnc3Q7XG4gICAgICAgICAgICB2YXIgbWVzc2FnZSA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5tc2c7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5zdGNrO1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudFN0YWNrID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LmNzdGNrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gbWVzc2FnZTtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPSBKU0NvbXBpbGVyX3RlbXA7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSBpbnN0YW5jZTtcbiAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICBjb21wb25lbnRTdGFjaztcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICAgID8gRXJyb3IoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNilcbiAgICAgICAgICAgICAgOiBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVGhlIHNlcnZlciBjb3VsZCBub3QgZmluaXNoIHRoaXMgU3VzcGVuc2UgYm91bmRhcnksIGxpa2VseSBkdWUgdG8gYW4gZXJyb3IgZHVyaW5nIHNlcnZlciByZW5kZXJpbmcuIFN3aXRjaGVkIHRvIGNsaWVudCByZW5kZXJpbmcuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LnN0YWNrID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4IHx8IFwiXCI7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkuZGlnZXN0ID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNztcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPVxuICAgICAgICAgICAgdm9pZCAwID09PSBKU0NvbXBpbGVyX3RlbXAgPyBudWxsIDogSlNDb21waWxlcl90ZW1wO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0ge1xuICAgICAgICAgICAgdmFsdWU6IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LFxuICAgICAgICAgICAgc291cmNlOiBudWxsLFxuICAgICAgICAgICAgc3RhY2s6IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxN1xuICAgICAgICAgIH07XG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyAmJlxuICAgICAgICAgICAgQ2FwdHVyZWRTdGFja3Muc2V0KFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSxcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcXVldWVIeWRyYXRpb25FcnJvcihKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSByZXRyeVN1c3BlbnNlQ29tcG9uZW50V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAoZGlkUmVjZWl2ZVVwZGF0ZSB8fFxuICAgICAgICAgICAgcHJvcGFnYXRlUGFyZW50Q29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9XG4gICAgICAgICAgICAwICE9PSAocmVuZGVyTGFuZXMgJiBjdXJyZW50LmNoaWxkTGFuZXMpKSxcbiAgICAgICAgICBkaWRSZWNlaXZlVXBkYXRlIHx8IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNylcbiAgICAgICAgKSB7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID0gd29ya0luUHJvZ3Jlc3NSb290O1xuICAgICAgICAgIGlmIChudWxsICE9PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcpIHtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gcmVuZGVyTGFuZXMgJiAtcmVuZGVyTGFuZXM7XG4gICAgICAgICAgICBpZiAoMCAhPT0gKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ICYgNDIpKVxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDE7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHN3aXRjaCAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDE7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDMyOlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAxNjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI4OlxuICAgICAgICAgICAgICAgIGNhc2UgMjU2OlxuICAgICAgICAgICAgICAgIGNhc2UgNTEyOlxuICAgICAgICAgICAgICAgIGNhc2UgMTAyNDpcbiAgICAgICAgICAgICAgICBjYXNlIDIwNDg6XG4gICAgICAgICAgICAgICAgY2FzZSA0MDk2OlxuICAgICAgICAgICAgICAgIGNhc2UgODE5MjpcbiAgICAgICAgICAgICAgICBjYXNlIDE2Mzg0OlxuICAgICAgICAgICAgICAgIGNhc2UgMzI3Njg6XG4gICAgICAgICAgICAgICAgY2FzZSA2NTUzNjpcbiAgICAgICAgICAgICAgICBjYXNlIDEzMTA3MjpcbiAgICAgICAgICAgICAgICBjYXNlIDI2MjE0NDpcbiAgICAgICAgICAgICAgICBjYXNlIDUyNDI4ODpcbiAgICAgICAgICAgICAgICBjYXNlIDEwNDg1NzY6XG4gICAgICAgICAgICAgICAgY2FzZSAyMDk3MTUyOlxuICAgICAgICAgICAgICAgIGNhc2UgNDE5NDMwNDpcbiAgICAgICAgICAgICAgICBjYXNlIDgzODg2MDg6XG4gICAgICAgICAgICAgICAgY2FzZSAxNjc3NzIxNjpcbiAgICAgICAgICAgICAgICBjYXNlIDMzNTU0NDMyOlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSA2NDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjY4NDM1NDU2OlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAxMzQyMTc3Mjg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9XG4gICAgICAgICAgICAgIDAgIT09XG4gICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCAmXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5zdXNwZW5kZWRMYW5lcyB8XG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcykpXG4gICAgICAgICAgICAgICAgPyAwXG4gICAgICAgICAgICAgICAgOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxODtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgMCAhPT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggJiZcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggIT09IHByZXZTdGF0ZS5yZXRyeUxhbmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgICAgICgocHJldlN0YXRlLnJldHJ5TGFuZSA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KSxcbiAgICAgICAgICAgICAgICBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcihcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgU2VsZWN0aXZlSHlkcmF0aW9uRXhjZXB0aW9uKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmRhdGEgPT09XG4gICAgICAgICAgICBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEEgfHwgcmVuZGVyRGlkU3VzcGVuZERlbGF5SWZQb3NzaWJsZSgpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gcmV0cnlTdXNwZW5zZUNvbXBvbmVudFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuZGF0YSA9PT1cbiAgICAgICAgICBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEFcbiAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50LmNoaWxkKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gcmV0cnlEZWh5ZHJhdGVkU3VzcGVuc2VCb3VuZGFyeS5iaW5kKFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuX3JlYWN0UmV0cnkgPVxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gbnVsbCkpXG4gICAgICAgICAgICA6ICgoY3VycmVudCA9IHByZXZTdGF0ZS50cmVlQ29udGV4dCksXG4gICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5uZXh0U2libGluZ1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAoaXNIeWRyYXRpbmcgPSAhMCksXG4gICAgICAgICAgICAgIChoeWRyYXRpb25FcnJvcnMgPSBudWxsKSxcbiAgICAgICAgICAgICAgKGRpZFN1c3BlbmRPckVycm9yREVWID0gITEpLFxuICAgICAgICAgICAgICAoaHlkcmF0aW9uRGlmZlJvb3RERVYgPSBudWxsKSxcbiAgICAgICAgICAgICAgKHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMSksXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAod2FybklmTm90SHlkcmF0aW5nKCksXG4gICAgICAgICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRJZCksXG4gICAgICAgICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRPdmVyZmxvdyksXG4gICAgICAgICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4KytdID0gdHJlZUNvbnRleHRQcm92aWRlciksXG4gICAgICAgICAgICAgICAgKHRyZWVDb250ZXh0SWQgPSBjdXJyZW50LmlkKSxcbiAgICAgICAgICAgICAgICAodHJlZUNvbnRleHRPdmVyZmxvdyA9IGN1cnJlbnQub3ZlcmZsb3cpLFxuICAgICAgICAgICAgICAgICh0cmVlQ29udGV4dFByb3ZpZGVyID0gd29ya0luUHJvZ3Jlc3MpKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gbW91bnRTdXNwZW5zZVByaW1hcnlDaGlsZHJlbihcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlblxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQwOTYpKTtcbiAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgfVxuICAgICAgaWYgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmZhbGxiYWNrKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IHdvcmtJblByb2dyZXNzLm1vZGUpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPSBjdXJyZW50LmNoaWxkKSxcbiAgICAgICAgICAoaW5zdGFuY2UgPSBKU0NvbXBpbGVyX3RlbXAuc2libGluZyksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoXG4gICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1vZGU6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlblxuICAgICAgICAgICAgfVxuICAgICAgICAgICkpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5zdWJ0cmVlRmxhZ3MgPVxuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLnN1YnRyZWVGbGFncyAmIDMxNDU3MjgwKSxcbiAgICAgICAgICBudWxsICE9PSBpbnN0YW5jZVxuICAgICAgICAgICAgPyAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICAgIGNyZWF0ZVdvcmtJblByb2dyZXNzKFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOVxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICA6ICgoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgICAgIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTksXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5mbGFncyB8PSAyKSksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LnJldHVybiA9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnJldHVybiA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguc2libGluZyA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gY3VycmVudC5jaGlsZC5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICBudWxsID09PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2XG4gICAgICAgICAgICA/IChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID1cbiAgICAgICAgICAgICAgICBtb3VudFN1c3BlbnNlT2Zmc2NyZWVuU3RhdGUocmVuZGVyTGFuZXMpKVxuICAgICAgICAgICAgOiAoKEpTQ29tcGlsZXJfdGVtcCA9XG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5jYWNoZVBvb2wpLFxuICAgICAgICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX3RlbXBcbiAgICAgICAgICAgICAgICA/ICgoaW5zdGFuY2UgPSBDYWNoZUNvbnRleHQuX2N1cnJlbnRWYWx1ZSksXG4gICAgICAgICAgICAgICAgICAoSlNDb21waWxlcl90ZW1wID1cbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLnBhcmVudCAhPT0gaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICA/IHsgcGFyZW50OiBpbnN0YW5jZSwgcG9vbDogaW5zdGFuY2UgfVxuICAgICAgICAgICAgICAgICAgICAgIDogSlNDb21waWxlcl90ZW1wKSlcbiAgICAgICAgICAgICAgICA6IChKU0NvbXBpbGVyX3RlbXAgPSBnZXRTdXNwZW5kZWRDYWNoZSgpKSxcbiAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSB7XG4gICAgICAgICAgICAgICAgYmFzZUxhbmVzOlxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5iYXNlTGFuZXMgfCByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICBjYWNoZVBvb2w6IEpTQ29tcGlsZXJfdGVtcFxuICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5Lm1lbW9pemVkU3RhdGUgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LmNoaWxkTGFuZXMgPVxuICAgICAgICAgICAgZ2V0UmVtYWluaW5nV29ya0luUHJpbWFyeVRyZWUoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gU1VTUEVOREVEX01BUktFUiksXG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMThcbiAgICAgICAgKTtcbiAgICAgIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICByZW5kZXJMYW5lcyA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgICBjdXJyZW50ID0gcmVuZGVyTGFuZXMuc2libGluZztcbiAgICAgIHJlbmRlckxhbmVzID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MocmVuZGVyTGFuZXMsIHtcbiAgICAgICAgbW9kZTogXCJ2aXNpYmxlXCIsXG4gICAgICAgIGNoaWxkcmVuOiBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5jaGlsZHJlblxuICAgICAgfSk7XG4gICAgICByZW5kZXJMYW5lcy5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHJlbmRlckxhbmVzLnNpYmxpbmcgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAoKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9IHdvcmtJblByb2dyZXNzLmRlbGV0aW9ucyksXG4gICAgICAgIG51bGwgPT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxN1xuICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5kZWxldGlvbnMgPSBbY3VycmVudF0pLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE2KSlcbiAgICAgICAgICA6IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNy5wdXNoKGN1cnJlbnQpKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVuZGVyTGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIHJldHVybiByZW5kZXJMYW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRTdXNwZW5zZVByaW1hcnlDaGlsZHJlbih3b3JrSW5Qcm9ncmVzcywgcHJpbWFyeUNoaWxkcmVuKSB7XG4gICAgICBwcmltYXJ5Q2hpbGRyZW4gPSBtb3VudFdvcmtJblByb2dyZXNzT2Zmc2NyZWVuRmliZXIoXG4gICAgICAgIHsgbW9kZTogXCJ2aXNpYmxlXCIsIGNoaWxkcmVuOiBwcmltYXJ5Q2hpbGRyZW4gfSxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZVxuICAgICAgKTtcbiAgICAgIHByaW1hcnlDaGlsZHJlbi5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHJldHVybiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBwcmltYXJ5Q2hpbGRyZW4pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFdvcmtJblByb2dyZXNzT2Zmc2NyZWVuRmliZXIob2Zmc2NyZWVuUHJvcHMsIG1vZGUpIHtcbiAgICAgIHJldHVybiBjcmVhdGVGaWJlckZyb21PZmZzY3JlZW4ob2Zmc2NyZWVuUHJvcHMsIG1vZGUsIDAsIG51bGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXRyeVN1c3BlbnNlQ29tcG9uZW50V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICByZWNvbmNpbGVDaGlsZEZpYmVycyh3b3JrSW5Qcm9ncmVzcywgY3VycmVudC5jaGlsZCwgbnVsbCwgcmVuZGVyTGFuZXMpO1xuICAgICAgY3VycmVudCA9IG1vdW50U3VzcGVuc2VQcmltYXJ5Q2hpbGRyZW4oXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW5cbiAgICAgICk7XG4gICAgICBjdXJyZW50LmZsYWdzIHw9IDI7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbDtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVN1c3BlbnNlV29ya09uRmliZXIoZmliZXIsIHJlbmRlckxhbmVzLCBwcm9wYWdhdGlvblJvb3QpIHtcbiAgICAgIGZpYmVyLmxhbmVzIHw9IHJlbmRlckxhbmVzO1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiAoYWx0ZXJuYXRlLmxhbmVzIHw9IHJlbmRlckxhbmVzKTtcbiAgICAgIHNjaGVkdWxlQ29udGV4dFdvcmtPblBhcmVudFBhdGgoXG4gICAgICAgIGZpYmVyLnJldHVybixcbiAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgIHByb3BhZ2F0aW9uUm9vdFxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVTdXNwZW5zZUxpc3ROZXN0ZWRDaGlsZChjaGlsZFNsb3QsIGluZGV4KSB7XG4gICAgICB2YXIgaXNBbkFycmF5ID0gaXNBcnJheUltcGwoY2hpbGRTbG90KTtcbiAgICAgIGNoaWxkU2xvdCA9ICFpc0FuQXJyYXkgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZ2V0SXRlcmF0b3JGbihjaGlsZFNsb3QpO1xuICAgICAgcmV0dXJuIGlzQW5BcnJheSB8fCBjaGlsZFNsb3RcbiAgICAgICAgPyAoKGlzQW5BcnJheSA9IGlzQW5BcnJheSA/IFwiYXJyYXlcIiA6IFwiaXRlcmFibGVcIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiQSBuZXN0ZWQgJXMgd2FzIHBhc3NlZCB0byByb3cgIyVzIGluIDxTdXNwZW5zZUxpc3QgLz4uIFdyYXAgaXQgaW4gYW4gYWRkaXRpb25hbCBTdXNwZW5zZUxpc3QgdG8gY29uZmlndXJlIGl0cyByZXZlYWxPcmRlcjogPFN1c3BlbnNlTGlzdCByZXZlYWxPcmRlcj0uLi4+IC4uLiA8U3VzcGVuc2VMaXN0IHJldmVhbE9yZGVyPS4uLj57JXN9PC9TdXNwZW5zZUxpc3Q+IC4uLiA8L1N1c3BlbnNlTGlzdD5cIixcbiAgICAgICAgICAgIGlzQW5BcnJheSxcbiAgICAgICAgICAgIGluZGV4LFxuICAgICAgICAgICAgaXNBbkFycmF5XG4gICAgICAgICAgKSxcbiAgICAgICAgICAhMSlcbiAgICAgICAgOiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdFN1c3BlbnNlTGlzdFJlbmRlclN0YXRlKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBpc0JhY2t3YXJkcyxcbiAgICAgIHRhaWwsXG4gICAgICBsYXN0Q29udGVudFJvdyxcbiAgICAgIHRhaWxNb2RlXG4gICAgKSB7XG4gICAgICB2YXIgcmVuZGVyU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgbnVsbCA9PT0gcmVuZGVyU3RhdGVcbiAgICAgICAgPyAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHtcbiAgICAgICAgICAgIGlzQmFja3dhcmRzOiBpc0JhY2t3YXJkcyxcbiAgICAgICAgICAgIHJlbmRlcmluZzogbnVsbCxcbiAgICAgICAgICAgIHJlbmRlcmluZ1N0YXJ0VGltZTogMCxcbiAgICAgICAgICAgIGxhc3Q6IGxhc3RDb250ZW50Um93LFxuICAgICAgICAgICAgdGFpbDogdGFpbCxcbiAgICAgICAgICAgIHRhaWxNb2RlOiB0YWlsTW9kZVxuICAgICAgICAgIH0pXG4gICAgICAgIDogKChyZW5kZXJTdGF0ZS5pc0JhY2t3YXJkcyA9IGlzQmFja3dhcmRzKSxcbiAgICAgICAgICAocmVuZGVyU3RhdGUucmVuZGVyaW5nID0gbnVsbCksXG4gICAgICAgICAgKHJlbmRlclN0YXRlLnJlbmRlcmluZ1N0YXJ0VGltZSA9IDApLFxuICAgICAgICAgIChyZW5kZXJTdGF0ZS5sYXN0ID0gbGFzdENvbnRlbnRSb3cpLFxuICAgICAgICAgIChyZW5kZXJTdGF0ZS50YWlsID0gdGFpbCksXG4gICAgICAgICAgKHJlbmRlclN0YXRlLnRhaWxNb2RlID0gdGFpbE1vZGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU3VzcGVuc2VMaXN0Q29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgdmFyIG5leHRQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgcmV2ZWFsT3JkZXIgPSBuZXh0UHJvcHMucmV2ZWFsT3JkZXIsXG4gICAgICAgIHRhaWxNb2RlID0gbmV4dFByb3BzLnRhaWw7XG4gICAgICBuZXh0UHJvcHMgPSBuZXh0UHJvcHMuY2hpbGRyZW47XG4gICAgICBpZiAoXG4gICAgICAgIHZvaWQgMCAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgXCJmb3J3YXJkc1wiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICBcImJhY2t3YXJkc1wiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICBcInRvZ2V0aGVyXCIgIT09IHJldmVhbE9yZGVyICYmXG4gICAgICAgICFkaWRXYXJuQWJvdXRSZXZlYWxPcmRlcltyZXZlYWxPcmRlcl1cbiAgICAgIClcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgoZGlkV2FybkFib3V0UmV2ZWFsT3JkZXJbcmV2ZWFsT3JkZXJdID0gITApLFxuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiByZXZlYWxPcmRlcilcbiAgICAgICAgKVxuICAgICAgICAgIHN3aXRjaCAocmV2ZWFsT3JkZXIudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgY2FzZSBcInRvZ2V0aGVyXCI6XG4gICAgICAgICAgICBjYXNlIFwiZm9yd2FyZHNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJiYWNrd2FyZHNcIjpcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnXCIlc1wiIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciByZXZlYWxPcmRlciBvbiA8U3VzcGVuc2VMaXN0IC8+LiBVc2UgbG93ZXJjYXNlIFwiJXNcIiBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXIsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXIudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJmb3J3YXJkXCI6XG4gICAgICAgICAgICBjYXNlIFwiYmFja3dhcmRcIjpcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnXCIlc1wiIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciByZXZlYWxPcmRlciBvbiA8U3VzcGVuc2VMaXN0IC8+LiBSZWFjdCB1c2VzIHRoZSAtcyBzdWZmaXggaW4gdGhlIHNwZWxsaW5nLiBVc2UgXCIlc3NcIiBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXIsXG4gICAgICAgICAgICAgICAgcmV2ZWFsT3JkZXIudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1wiJXNcIiBpcyBub3QgYSBzdXBwb3J0ZWQgcmV2ZWFsT3JkZXIgb24gPFN1c3BlbnNlTGlzdCAvPi4gRGlkIHlvdSBtZWFuIFwidG9nZXRoZXJcIiwgXCJmb3J3YXJkc1wiIG9yIFwiYmFja3dhcmRzXCI/JyxcbiAgICAgICAgICAgICAgICByZXZlYWxPcmRlclxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnJXMgaXMgbm90IGEgc3VwcG9ydGVkIHZhbHVlIGZvciByZXZlYWxPcmRlciBvbiA8U3VzcGVuc2VMaXN0IC8+LiBEaWQgeW91IG1lYW4gXCJ0b2dldGhlclwiLCBcImZvcndhcmRzXCIgb3IgXCJiYWNrd2FyZHNcIj8nLFxuICAgICAgICAgICAgcmV2ZWFsT3JkZXJcbiAgICAgICAgICApO1xuICAgICAgdm9pZCAwID09PSB0YWlsTW9kZSB8fFxuICAgICAgICBkaWRXYXJuQWJvdXRUYWlsT3B0aW9uc1t0YWlsTW9kZV0gfHxcbiAgICAgICAgKFwiY29sbGFwc2VkXCIgIT09IHRhaWxNb2RlICYmIFwiaGlkZGVuXCIgIT09IHRhaWxNb2RlXG4gICAgICAgICAgPyAoKGRpZFdhcm5BYm91dFRhaWxPcHRpb25zW3RhaWxNb2RlXSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICdcIiVzXCIgaXMgbm90IGEgc3VwcG9ydGVkIHZhbHVlIGZvciB0YWlsIG9uIDxTdXNwZW5zZUxpc3QgLz4uIERpZCB5b3UgbWVhbiBcImNvbGxhcHNlZFwiIG9yIFwiaGlkZGVuXCI/JyxcbiAgICAgICAgICAgICAgdGFpbE1vZGVcbiAgICAgICAgICAgICkpXG4gICAgICAgICAgOiBcImZvcndhcmRzXCIgIT09IHJldmVhbE9yZGVyICYmXG4gICAgICAgICAgICBcImJhY2t3YXJkc1wiICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICAgICAgKChkaWRXYXJuQWJvdXRUYWlsT3B0aW9uc1t0YWlsTW9kZV0gPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnPFN1c3BlbnNlTGlzdCB0YWlsPVwiJXNcIiAvPiBpcyBvbmx5IHZhbGlkIGlmIHJldmVhbE9yZGVyIGlzIFwiZm9yd2FyZHNcIiBvciBcImJhY2t3YXJkc1wiLiBEaWQgeW91IG1lYW4gdG8gc3BlY2lmeSByZXZlYWxPcmRlcj1cImZvcndhcmRzXCI/JyxcbiAgICAgICAgICAgICAgdGFpbE1vZGVcbiAgICAgICAgICAgICkpKTtcbiAgICAgIGE6IGlmIChcbiAgICAgICAgKFwiZm9yd2FyZHNcIiA9PT0gcmV2ZWFsT3JkZXIgfHwgXCJiYWNrd2FyZHNcIiA9PT0gcmV2ZWFsT3JkZXIpICYmXG4gICAgICAgIHZvaWQgMCAhPT0gbmV4dFByb3BzICYmXG4gICAgICAgIG51bGwgIT09IG5leHRQcm9wcyAmJlxuICAgICAgICAhMSAhPT0gbmV4dFByb3BzXG4gICAgICApXG4gICAgICAgIGlmIChpc0FycmF5SW1wbChuZXh0UHJvcHMpKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV4dFByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlU3VzcGVuc2VMaXN0TmVzdGVkQ2hpbGQobmV4dFByb3BzW2ldLCBpKSkgYnJlYWsgYTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCgoaSA9IGdldEl0ZXJhdG9yRm4obmV4dFByb3BzKSksIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkpKSB7XG4gICAgICAgICAgaWYgKChpID0gaS5jYWxsKG5leHRQcm9wcykpKVxuICAgICAgICAgICAgZm9yICh2YXIgc3RlcCA9IGkubmV4dCgpLCBfaSA9IDA7ICFzdGVwLmRvbmU7IHN0ZXAgPSBpLm5leHQoKSkge1xuICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlU3VzcGVuc2VMaXN0TmVzdGVkQ2hpbGQoc3RlcC52YWx1ZSwgX2kpKSBicmVhayBhO1xuICAgICAgICAgICAgICBfaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ0Egc2luZ2xlIHJvdyB3YXMgcGFzc2VkIHRvIGEgPFN1c3BlbnNlTGlzdCByZXZlYWxPcmRlcj1cIiVzXCIgLz4uIFRoaXMgaXMgbm90IHVzZWZ1bCBzaW5jZSBpdCBuZWVkcyBtdWx0aXBsZSByb3dzLiBEaWQgeW91IG1lYW4gdG8gcGFzcyBtdWx0aXBsZSBjaGlsZHJlbiBvciBhbiBhcnJheT8nLFxuICAgICAgICAgICAgcmV2ZWFsT3JkZXJcbiAgICAgICAgICApO1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgcmVuZGVyTGFuZXMpO1xuICAgICAgbmV4dFByb3BzID0gc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50O1xuICAgICAgaWYgKDAgIT09IChuZXh0UHJvcHMgJiBGb3JjZVN1c3BlbnNlRmFsbGJhY2spKVxuICAgICAgICAobmV4dFByb3BzID1cbiAgICAgICAgICAobmV4dFByb3BzICYgU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2spIHwgRm9yY2VTdXNwZW5zZUZhbGxiYWNrKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiAwICE9PSAoY3VycmVudC5mbGFncyAmIDEyOCkpXG4gICAgICAgICAgYTogZm9yIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7IG51bGwgIT09IGN1cnJlbnQ7ICkge1xuICAgICAgICAgICAgaWYgKDEzID09PSBjdXJyZW50LnRhZylcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVTdXNwZW5zZVdvcmtPbkZpYmVyKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZWxzZSBpZiAoMTkgPT09IGN1cnJlbnQudGFnKVxuICAgICAgICAgICAgICBzY2hlZHVsZVN1c3BlbnNlV29ya09uRmliZXIoY3VycmVudCwgcmVuZGVyTGFuZXMsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG51bGwgIT09IGN1cnJlbnQuY2hpbGQpIHtcbiAgICAgICAgICAgICAgY3VycmVudC5jaGlsZC5yZXR1cm4gPSBjdXJyZW50O1xuICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jaGlsZDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gd29ya0luUHJvZ3Jlc3MpIGJyZWFrIGE7XG4gICAgICAgICAgICBmb3IgKDsgbnVsbCA9PT0gY3VycmVudC5zaWJsaW5nOyApIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQucmV0dXJuIHx8IGN1cnJlbnQucmV0dXJuID09PSB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5yZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50LnNpYmxpbmcucmV0dXJuID0gY3VycmVudC5yZXR1cm47XG4gICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zaWJsaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgbmV4dFByb3BzICY9IFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrO1xuICAgICAgfVxuICAgICAgcHVzaChzdXNwZW5zZVN0YWNrQ3Vyc29yLCBuZXh0UHJvcHMsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHN3aXRjaCAocmV2ZWFsT3JkZXIpIHtcbiAgICAgICAgY2FzZSBcImZvcndhcmRzXCI6XG4gICAgICAgICAgcmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICAgICAgICBmb3IgKHJldmVhbE9yZGVyID0gbnVsbDsgbnVsbCAhPT0gcmVuZGVyTGFuZXM7IClcbiAgICAgICAgICAgIChjdXJyZW50ID0gcmVuZGVyTGFuZXMuYWx0ZXJuYXRlKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICAgIG51bGwgPT09IGZpbmRGaXJzdFN1c3BlbmRlZChjdXJyZW50KSAmJlxuICAgICAgICAgICAgICAgIChyZXZlYWxPcmRlciA9IHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gcmVuZGVyTGFuZXMuc2libGluZyk7XG4gICAgICAgICAgcmVuZGVyTGFuZXMgPSByZXZlYWxPcmRlcjtcbiAgICAgICAgICBudWxsID09PSByZW5kZXJMYW5lc1xuICAgICAgICAgICAgPyAoKHJldmVhbE9yZGVyID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBudWxsKSlcbiAgICAgICAgICAgIDogKChyZXZlYWxPcmRlciA9IHJlbmRlckxhbmVzLnNpYmxpbmcpLFxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMuc2libGluZyA9IG51bGwpKTtcbiAgICAgICAgICBpbml0U3VzcGVuc2VMaXN0UmVuZGVyU3RhdGUoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICExLFxuICAgICAgICAgICAgcmV2ZWFsT3JkZXIsXG4gICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgIHRhaWxNb2RlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImJhY2t3YXJkc1wiOlxuICAgICAgICAgIHJlbmRlckxhbmVzID0gbnVsbDtcbiAgICAgICAgICByZXZlYWxPcmRlciA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICAgIGZvciAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBudWxsOyBudWxsICE9PSByZXZlYWxPcmRlcjsgKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gcmV2ZWFsT3JkZXIuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCA9PT0gZmluZEZpcnN0U3VzcGVuZGVkKGN1cnJlbnQpKSB7XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmV2ZWFsT3JkZXI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IHJldmVhbE9yZGVyLnNpYmxpbmc7XG4gICAgICAgICAgICByZXZlYWxPcmRlci5zaWJsaW5nID0gcmVuZGVyTGFuZXM7XG4gICAgICAgICAgICByZW5kZXJMYW5lcyA9IHJldmVhbE9yZGVyO1xuICAgICAgICAgICAgcmV2ZWFsT3JkZXIgPSBjdXJyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbml0U3VzcGVuc2VMaXN0UmVuZGVyU3RhdGUoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICEwLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgdGFpbE1vZGVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidG9nZXRoZXJcIjpcbiAgICAgICAgICBpbml0U3VzcGVuc2VMaXN0UmVuZGVyU3RhdGUod29ya0luUHJvZ3Jlc3MsICExLCBudWxsLCBudWxsLCB2b2lkIDApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgKHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9IGN1cnJlbnQuZGVwZW5kZW5jaWVzKTtcbiAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTE7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgfD0gd29ya0luUHJvZ3Jlc3MubGFuZXM7XG4gICAgICBpZiAoMCA9PT0gKHJlbmRlckxhbmVzICYgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcykpXG4gICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICExXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgMCA9PT0gKHJlbmRlckxhbmVzICYgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcykpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0gZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIHdvcmtJblByb2dyZXNzLmNoaWxkICE9PSBjdXJyZW50LmNoaWxkKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlJlc3VtaW5nIHdvcmsgbm90IHlldCBpbXBsZW1lbnRlZC5cIik7XG4gICAgICBpZiAobnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpIHtcbiAgICAgICAgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICByZW5kZXJMYW5lcyA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnQsIGN1cnJlbnQucGVuZGluZ1Byb3BzKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZW5kZXJMYW5lcztcbiAgICAgICAgZm9yIChyZW5kZXJMYW5lcy5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzczsgbnVsbCAhPT0gY3VycmVudC5zaWJsaW5nOyApXG4gICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50LnNpYmxpbmcpLFxuICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gcmVuZGVyTGFuZXMuc2libGluZyA9XG4gICAgICAgICAgICAgIGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnQsIGN1cnJlbnQucGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAocmVuZGVyTGFuZXMucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICByZW5kZXJMYW5lcy5zaWJsaW5nID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcy5jaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tTY2hlZHVsZWRVcGRhdGVPckNvbnRleHQoY3VycmVudCwgcmVuZGVyTGFuZXMpIHtcbiAgICAgIGlmICgwICE9PSAoY3VycmVudC5sYW5lcyAmIHJlbmRlckxhbmVzKSkgcmV0dXJuICEwO1xuICAgICAgY3VycmVudCA9IGN1cnJlbnQuZGVwZW5kZW5jaWVzO1xuICAgICAgcmV0dXJuIG51bGwgIT09IGN1cnJlbnQgJiYgY2hlY2tJZkNvbnRleHRDaGFuZ2VkKGN1cnJlbnQpID8gITAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdEVhcmx5QmFpbG91dElmTm9TY2hlZHVsZWRVcGRhdGUoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHB1c2hIb3N0Q29udGFpbmVyKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgICAgcHVzaFByb3ZpZGVyKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBDYWNoZUNvbnRleHQsXG4gICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHB1c2hIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBwdXNoSG9zdENvbnRhaW5lcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHB1c2hQcm92aWRlcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMudmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIDAgIT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpICYmXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA0ODtcbiAgICAgICAgICB2YXIgc3RhdGVOb2RlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICAgIHN0YXRlTm9kZS5lZmZlY3REdXJhdGlvbiA9IC0wO1xuICAgICAgICAgIHN0YXRlTm9kZS5wYXNzaXZlRWZmZWN0RHVyYXRpb24gPSAtMDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBzdGF0ZU5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGlmIChudWxsICE9PSBzdGF0ZU5vZGUpIHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBzdGF0ZU5vZGUuZGVoeWRyYXRlZClcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICgwICE9PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZC5jaGlsZExhbmVzKSlcbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVN1c3BlbnNlQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICBjdXJyZW50ID0gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50LnNpYmxpbmcgOiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHZhciBkaWRTdXNwZW5kQmVmb3JlID0gMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMjgpO1xuICAgICAgICAgIHN0YXRlTm9kZSA9IDAgIT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpO1xuICAgICAgICAgIHN0YXRlTm9kZSB8fFxuICAgICAgICAgICAgKHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICExXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHN0YXRlTm9kZSA9IDAgIT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMpKSk7XG4gICAgICAgICAgaWYgKGRpZFN1c3BlbmRCZWZvcmUpIHtcbiAgICAgICAgICAgIGlmIChzdGF0ZU5vZGUpXG4gICAgICAgICAgICAgIHJldHVybiB1cGRhdGVTdXNwZW5zZUxpc3RDb21wb25lbnQoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4O1xuICAgICAgICAgIH1cbiAgICAgICAgICBkaWRTdXNwZW5kQmVmb3JlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBudWxsICE9PSBkaWRTdXNwZW5kQmVmb3JlICYmXG4gICAgICAgICAgICAoKGRpZFN1c3BlbmRCZWZvcmUucmVuZGVyaW5nID0gbnVsbCksXG4gICAgICAgICAgICAoZGlkU3VzcGVuZEJlZm9yZS50YWlsID0gbnVsbCksXG4gICAgICAgICAgICAoZGlkU3VzcGVuZEJlZm9yZS5sYXN0RWZmZWN0ID0gbnVsbCkpO1xuICAgICAgICAgIHB1c2goXG4gICAgICAgICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yLFxuICAgICAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChzdGF0ZU5vZGUpIGJyZWFrO1xuICAgICAgICAgIGVsc2UgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDApLFxuICAgICAgICAgICAgdXBkYXRlT2Zmc2NyZWVuQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcylcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHB1c2hQcm92aWRlcihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgQ2FjaGVDb250ZXh0LFxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJlZ2luV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5fZGVidWdOZWVkc1JlbW91bnQgJiYgbnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICByZW5kZXJMYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbVR5cGVBbmRQcm9wcyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmtleSxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnT3duZXIgfHwgbnVsbCxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmxhbmVzXG4gICAgICAgICk7XG4gICAgICAgIHZhciByZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnJldHVybjtcbiAgICAgICAgaWYgKG51bGwgPT09IHJldHVybkZpYmVyKSB0aHJvdyBFcnJvcihcIkNhbm5vdCBzd2FwIHRoZSByb290IGZpYmVyLlwiKTtcbiAgICAgICAgY3VycmVudC5hbHRlcm5hdGUgPSBudWxsO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBudWxsO1xuICAgICAgICByZW5kZXJMYW5lcy5pbmRleCA9IHdvcmtJblByb2dyZXNzLmluZGV4O1xuICAgICAgICByZW5kZXJMYW5lcy5zaWJsaW5nID0gd29ya0luUHJvZ3Jlc3Muc2libGluZztcbiAgICAgICAgcmVuZGVyTGFuZXMucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgICAgICByZW5kZXJMYW5lcy5yZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgICAgIHJlbmRlckxhbmVzLl9kZWJ1Z0luZm8gPSB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJbmZvO1xuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MgPT09IHJldHVybkZpYmVyLmNoaWxkKVxuICAgICAgICAgIHJldHVybkZpYmVyLmNoaWxkID0gcmVuZGVyTGFuZXM7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciBwcmV2U2libGluZyA9IHJldHVybkZpYmVyLmNoaWxkO1xuICAgICAgICAgIGlmIChudWxsID09PSBwcmV2U2libGluZylcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgcGFyZW50IHRvIGhhdmUgYSBjaGlsZC5cIik7XG4gICAgICAgICAgZm9yICg7IHByZXZTaWJsaW5nLnNpYmxpbmcgIT09IHdvcmtJblByb2dyZXNzOyApXG4gICAgICAgICAgICBpZiAoKChwcmV2U2libGluZyA9IHByZXZTaWJsaW5nLnNpYmxpbmcpLCBudWxsID09PSBwcmV2U2libGluZykpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgdG8gZmluZCB0aGUgcHJldmlvdXMgc2libGluZy5cIik7XG4gICAgICAgICAgcHJldlNpYmxpbmcuc2libGluZyA9IHJlbmRlckxhbmVzO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXIuZGVsZXRpb25zO1xuICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgID8gKChyZXR1cm5GaWJlci5kZWxldGlvbnMgPSBbY3VycmVudF0pLCAocmV0dXJuRmliZXIuZmxhZ3MgfD0gMTYpKVxuICAgICAgICAgIDogd29ya0luUHJvZ3Jlc3MucHVzaChjdXJyZW50KTtcbiAgICAgICAgcmVuZGVyTGFuZXMuZmxhZ3MgfD0gMjtcbiAgICAgICAgcmV0dXJuIHJlbmRlckxhbmVzO1xuICAgICAgfVxuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpXG4gICAgICAgIGlmIChcbiAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHMgIT09IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyB8fFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgIT09IGN1cnJlbnQudHlwZVxuICAgICAgICApXG4gICAgICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhY2hlY2tTY2hlZHVsZWRVcGRhdGVPckNvbnRleHQoY3VycmVudCwgcmVuZGVyTGFuZXMpICYmXG4gICAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMSksXG4gICAgICAgICAgICAgIGF0dGVtcHRFYXJseUJhaWxvdXRJZk5vU2NoZWR1bGVkVXBkYXRlKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBkaWRSZWNlaXZlVXBkYXRlID0gMCAhPT0gKGN1cnJlbnQuZmxhZ3MgJiAxMzEwNzIpID8gITAgOiAhMTtcbiAgICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGRpZFJlY2VpdmVVcGRhdGUgPSAhMTtcbiAgICAgICAgaWYgKChyZXR1cm5GaWJlciA9IGlzSHlkcmF0aW5nKSlcbiAgICAgICAgICB3YXJuSWZOb3RIeWRyYXRpbmcoKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEwNDg1NzYpKTtcbiAgICAgICAgcmV0dXJuRmliZXIgJiZcbiAgICAgICAgICAoKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MuaW5kZXgpLFxuICAgICAgICAgIHdhcm5JZk5vdEh5ZHJhdGluZygpLFxuICAgICAgICAgIHB1c2hUcmVlSWQod29ya0luUHJvZ3Jlc3MsIHRyZWVGb3JrQ291bnQsIHJldHVybkZpYmVyKSk7XG4gICAgICB9XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IDA7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIGE6IGlmIChcbiAgICAgICAgICAgICgocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgKGN1cnJlbnQgPSBjYWxsTGF6eUluaXRJbkRFVih3b3JrSW5Qcm9ncmVzcy5lbGVtZW50VHlwZSkpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50KSxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGN1cnJlbnQpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgc2hvdWxkQ29uc3RydWN0KGN1cnJlbnQpXG4gICAgICAgICAgICAgID8gKChyZXR1cm5GaWJlciA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRhZyA9IDEpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcoY3VycmVudCkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9IHVwZGF0ZUNsYXNzQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApKSlcbiAgICAgICAgICAgICAgOiAoKHdvcmtJblByb2dyZXNzLnRhZyA9IDApLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRlRnVuY3Rpb25Db21wb25lbnRJbkRldih3b3JrSW5Qcm9ncmVzcywgY3VycmVudCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgIHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyhjdXJyZW50KSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gdXBkYXRlRnVuY3Rpb25Db21wb25lbnQoXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICkpKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudClcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICgocHJldlNpYmxpbmcgPSBjdXJyZW50LiQkdHlwZW9mKSxcbiAgICAgICAgICAgICAgICBwcmV2U2libGluZyA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSlcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnID0gMTE7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmcoY3VycmVudCk7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB1cGRhdGVGb3J3YXJkUmVmKFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldlNpYmxpbmcgPT09IFJFQUNUX01FTU9fVFlQRSkge1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyA9IDE0O1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gdXBkYXRlTWVtb0NvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IFwiXCI7XG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIGN1cnJlbnQuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICAgIFwiIERpZCB5b3Ugd3JhcCBhIGNvbXBvbmVudCBpbiBSZWFjdC5sYXp5KCkgbW9yZSB0aGFuIG9uY2U/XCIpO1xuICAgICAgICAgICAgY3VycmVudCA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShjdXJyZW50KSB8fCBjdXJyZW50O1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiRWxlbWVudCB0eXBlIGlzIGludmFsaWQuIFJlY2VpdmVkIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvOiBcIiArXG4gICAgICAgICAgICAgICAgY3VycmVudCArXG4gICAgICAgICAgICAgICAgXCIuIExhenkgZWxlbWVudCB0eXBlIG11c3QgcmVzb2x2ZSB0byBhIGNsYXNzIG9yIGZ1bmN0aW9uLlwiICtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy50eXBlKSxcbiAgICAgICAgICAgIChwcmV2U2libGluZyA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHVwZGF0ZUNsYXNzQ29tcG9uZW50KFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICBwdXNoSG9zdENvbnRhaW5lcihcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiU2hvdWxkIGhhdmUgYSBjdXJyZW50IGZpYmVyLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgICAgICAgICAgcHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBwcmV2U2libGluZy5lbGVtZW50O1xuICAgICAgICAgICAgY2xvbmVVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgbnVsbCwgcmVuZGVyTGFuZXMpO1xuICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICBuZXh0UHJvcHMgPSBuZXh0U3RhdGUuY2FjaGU7XG4gICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIENhY2hlQ29udGV4dCwgbmV4dFByb3BzKTtcbiAgICAgICAgICAgIG5leHRQcm9wcyAhPT0gcHJldlNpYmxpbmcuY2FjaGUgJiZcbiAgICAgICAgICAgICAgcHJvcGFnYXRlQ29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgW0NhY2hlQ29udGV4dF0sXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgITBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKTtcbiAgICAgICAgICAgIG5leHRQcm9wcyA9IG5leHRTdGF0ZS5lbGVtZW50O1xuICAgICAgICAgICAgaWYgKHByZXZTaWJsaW5nLmlzRGVoeWRyYXRlZClcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICgocHJldlNpYmxpbmcgPSB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50OiBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICBpc0RlaHlkcmF0ZWQ6ICExLFxuICAgICAgICAgICAgICAgICAgY2FjaGU6IG5leHRTdGF0ZS5jYWNoZVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5iYXNlU3RhdGUgPSBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAyNTYpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gbW91bnRIb3N0Um9vdFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0UHJvcHMgIT09IHJldHVybkZpYmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihcbiAgICAgICAgICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIlRoaXMgcm9vdCByZWNlaXZlZCBhbiBlYXJseSB1cGRhdGUsIGJlZm9yZSBhbnl0aGluZyB3YXMgYWJsZSBoeWRyYXRlLiBTd2l0Y2hlZCB0aGUgZW50aXJlIHJvb3QgdG8gY2xpZW50IHJlbmRlcmluZy5cIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBxdWV1ZUh5ZHJhdGlvbkVycm9yKHJldHVybkZpYmVyKTtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG1vdW50SG9zdFJvb3RXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICBuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvLmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgIGlzSHlkcmF0aW5nID0gITAsXG4gICAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvbkVycm9ycyA9IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIGRpZFN1c3BlbmRPckVycm9yREVWID0gITEsXG4gICAgICAgICAgICAgICAgICAgIGh5ZHJhdGlvbkRpZmZSb290REVWID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICEwLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbW91bnRDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50O1xuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKGN1cnJlbnQuZmxhZ3MgPSAoY3VycmVudC5mbGFncyAmIC0zKSB8IDQwOTYpLFxuICAgICAgICAgICAgICAgICAgICAoY3VycmVudCA9IGN1cnJlbnQuc2libGluZyk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSgpO1xuICAgICAgICAgICAgICBpZiAobmV4dFByb3BzID09PSByZXR1cm5GaWJlcikge1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgICAgICA/IChjdXJyZW50ID0gZ2V0UmVzb3VyY2UoXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgID8gKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50KVxuICAgICAgICAgICAgICAgIDogaXNIeWRyYXRpbmcgfHxcbiAgICAgICAgICAgICAgICAgICgoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLnR5cGUpLFxuICAgICAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlcXVpcmVkQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgcm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudFxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPVxuICAgICAgICAgICAgICAgICAgICBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIoXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgICAgKS5jcmVhdGVFbGVtZW50KGN1cnJlbnQpKSxcbiAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlcltpbnRlcm5hbEluc3RhbmNlS2V5XSA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlcltpbnRlcm5hbFByb3BzS2V5XSA9IHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKHJldHVybkZpYmVyLCBjdXJyZW50LCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSByZXR1cm5GaWJlcikpXG4gICAgICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBnZXRSZXNvdXJjZShcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHMsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwdXNoSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBpc0h5ZHJhdGluZyAmJlxuICAgICAgICAgICAgICAoKHByZXZTaWJsaW5nID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gZ2V0SG9zdENvbnRleHQoKSksXG4gICAgICAgICAgICAgIChwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZVNpbmdsZXRvbkluc3RhbmNlKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViB8fFxuICAgICAgICAgICAgICAgICgocmV0dXJuRmliZXIgPSBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgICAgcHJldlNpYmxpbmcsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSByZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgICAgICAgKGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUod29ya0luUHJvZ3Jlc3MsIDApLnNlcnZlclByb3BzID1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIpKSxcbiAgICAgICAgICAgICAgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAocm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICEwKSxcbiAgICAgICAgICAgICAgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShcbiAgICAgICAgICAgICAgICBwcmV2U2libGluZy5maXJzdENoaWxkXG4gICAgICAgICAgICAgICkpKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbiksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50IHx8IGlzSHlkcmF0aW5nXG4gICAgICAgICAgICAgID8gcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlY29uY2lsZUNoaWxkRmliZXJzKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBpc0h5ZHJhdGluZyAmJlxuICAgICAgICAgICAgICAoKG5leHRQcm9wcyA9IGdldEhvc3RDb250ZXh0KCkpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB2YWxpZGF0ZURPTU5lc3RpbmcoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHMuYW5jZXN0b3JJbmZvXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAocHJldlNpYmxpbmcgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlKSxcbiAgICAgICAgICAgICAgKG5leHRTdGF0ZSA9ICFwcmV2U2libGluZykgfHxcbiAgICAgICAgICAgICAgICAoKG5leHRTdGF0ZSA9IGNhbkh5ZHJhdGVJbnN0YW5jZShcbiAgICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJvb3RPclNpbmdsZXRvbkNvbnRleHRcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0U3RhdGVcbiAgICAgICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBuZXh0U3RhdGUpLFxuICAgICAgICAgICAgICAgICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViB8fFxuICAgICAgICAgICAgICAgICAgICAgICgobmV4dFByb3BzID0gZGlmZkh5ZHJhdGVkUHJvcGVydGllcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKHdvcmtJblByb2dyZXNzLCAwKS5zZXJ2ZXJQcm9wcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcykpLFxuICAgICAgICAgICAgICAgICAgICAoaHlkcmF0aW9uUGFyZW50RmliZXIgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgIChuZXh0SHlkcmF0YWJsZUluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlLmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgIChyb290T3JTaW5nbGV0b25Db250ZXh0ID0gITEpLFxuICAgICAgICAgICAgICAgICAgICAobmV4dFByb3BzID0gITApKVxuICAgICAgICAgICAgICAgICAgOiAobmV4dFByb3BzID0gITEpLFxuICAgICAgICAgICAgICAgIChuZXh0U3RhdGUgPSAhbmV4dFByb3BzKSksXG4gICAgICAgICAgICAgIG5leHRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciAmJlxuICAgICAgICAgICAgICAgICAgd2Fybk5vbkh5ZHJhdGVkSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHByZXZTaWJsaW5nKSxcbiAgICAgICAgICAgICAgICB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2god29ya0luUHJvZ3Jlc3MpKSksXG4gICAgICAgICAgICBwdXNoSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gd29ya0luUHJvZ3Jlc3MudHlwZSksXG4gICAgICAgICAgICAobmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgIChuZXh0U3RhdGUgPSBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogbnVsbCksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSBuZXh0UHJvcHMuY2hpbGRyZW4pLFxuICAgICAgICAgICAgc2hvdWxkU2V0VGV4dENvbnRlbnQocHJldlNpYmxpbmcsIG5leHRQcm9wcylcbiAgICAgICAgICAgICAgPyAocmV0dXJuRmliZXIgPSBudWxsKVxuICAgICAgICAgICAgICA6IG51bGwgIT09IG5leHRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgIHNob3VsZFNldFRleHRDb250ZW50KHByZXZTaWJsaW5nLCBuZXh0U3RhdGUpICYmXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDMyKSxcbiAgICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgKChwcmV2U2libGluZyA9IHJlbmRlcldpdGhIb29rcyhcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIFRyYW5zaXRpb25Bd2FyZUhvc3RDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoSG9zdFRyYW5zaXRpb25Db250ZXh0Ll9jdXJyZW50VmFsdWUgPSBwcmV2U2libGluZykpLFxuICAgICAgICAgICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIGlzSHlkcmF0aW5nICYmXG4gICAgICAgICAgICAgICgoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IGdldEhvc3RDb250ZXh0KCkuYW5jZXN0b3JJbmZvLmN1cnJlbnQpLFxuICAgICAgICAgICAgICAoY3VycmVudCA9XG4gICAgICAgICAgICAgICAgbnVsbCAhPSByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgPyB2YWxpZGF0ZVRleHROZXN0aW5nKGN1cnJlbnQsIHJlbmRlckxhbmVzLnRhZylcbiAgICAgICAgICAgICAgICAgIDogITApLFxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSBuZXh0SHlkcmF0YWJsZUluc3RhbmNlKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gIXJlbmRlckxhbmVzKSB8fFxuICAgICAgICAgICAgICAgICgocmV0dXJuRmliZXIgPSBjYW5IeWRyYXRlVGV4dEluc3RhbmNlKFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICByb290T3JTaW5nbGV0b25Db250ZXh0XG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gITApKVxuICAgICAgICAgICAgICAgICAgOiAocmV0dXJuRmliZXIgPSAhMSksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gIXJldHVybkZpYmVyKSksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyICYmXG4gICAgICAgICAgICAgICAgKGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAgIHdhcm5Ob25IeWRyYXRlZEluc3RhbmNlKHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKHdvcmtJblByb2dyZXNzKSkpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVN1c3BlbnNlQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyk7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcHVzaEhvc3RDb250YWluZXIoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgICAgICAgID8gKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgOiByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIHJldHVybiB1cGRhdGVGb3J3YXJkUmVmKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA0OCksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyLmVmZmVjdER1cmF0aW9uID0gLTApLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyLnBhc3NpdmVFZmZlY3REdXJhdGlvbiA9IC0wKSxcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MudHlwZSksXG4gICAgICAgICAgICAocHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgKG5leHRQcm9wcyA9IHByZXZTaWJsaW5nLnZhbHVlKSxcbiAgICAgICAgICAgIFwidmFsdWVcIiBpbiBwcmV2U2libGluZyB8fFxuICAgICAgICAgICAgICBoYXNXYXJuZWRBYm91dFVzaW5nTm9WYWx1ZVByb3BPbkNvbnRleHRQcm92aWRlciB8fFxuICAgICAgICAgICAgICAoKGhhc1dhcm5lZEFib3V0VXNpbmdOb1ZhbHVlUHJvcE9uQ29udGV4dFByb3ZpZGVyID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhlIGB2YWx1ZWAgcHJvcCBpcyByZXF1aXJlZCBmb3IgdGhlIGA8Q29udGV4dC5Qcm92aWRlcj5gLiBEaWQgeW91IG1pc3NwZWxsIGl0IG9yIGZvcmdldCB0byBwYXNzIGl0P1wiXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCByZXR1cm5GaWJlciwgbmV4dFByb3BzKSxcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcHJldlNpYmxpbmcuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzLnR5cGUuX2NvbnRleHQpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuKSxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHJldHVybkZpYmVyICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJBIGNvbnRleHQgY29uc3VtZXIgd2FzIHJlbmRlcmVkIHdpdGggbXVsdGlwbGUgY2hpbGRyZW4sIG9yIGEgY2hpbGQgdGhhdCBpc24ndCBhIGZ1bmN0aW9uLiBBIGNvbnRleHQgY29uc3VtZXIgZXhwZWN0cyBhIHNpbmdsZSBjaGlsZCB0aGF0IGlzIGEgZnVuY3Rpb24uIElmIHlvdSBkaWQgcGFzcyBhIGZ1bmN0aW9uLCBtYWtlIHN1cmUgdGhlcmUgaXMgbm8gdHJhaWxpbmcgb3IgbGVhZGluZyB3aGl0ZXNwYWNlIGFyb3VuZCBpdC5cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gcmVhZENvbnRleHQocHJldlNpYmxpbmcpKSxcbiAgICAgICAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGNhbGxDb21wb25lbnRJbkRFVihcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHByZXZTaWJsaW5nLFxuICAgICAgICAgICAgICB2b2lkIDBcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxKSxcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIHJldHVybiB1cGRhdGVNZW1vQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlU2ltcGxlTWVtb0NvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVN1c3BlbnNlTGlzdENvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlT2Zmc2NyZWVuQ29tcG9uZW50KGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyk7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlYWRDb250ZXh0KENhY2hlQ29udGV4dCkpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgICAgICA/ICgocHJldlNpYmxpbmcgPSBwZWVrQ2FjaGVGcm9tUG9vbCgpKSxcbiAgICAgICAgICAgICAgICBudWxsID09PSBwcmV2U2libGluZyAmJlxuICAgICAgICAgICAgICAgICAgKChwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzUm9vdCksXG4gICAgICAgICAgICAgICAgICAobmV4dFByb3BzID0gY3JlYXRlQ2FjaGUoKSksXG4gICAgICAgICAgICAgICAgICAocHJldlNpYmxpbmcucG9vbGVkQ2FjaGUgPSBuZXh0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgcmV0YWluQ2FjaGUobmV4dFByb3BzKSxcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IG5leHRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICAocHJldlNpYmxpbmcucG9vbGVkQ2FjaGVMYW5lcyB8PSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICAocHJldlNpYmxpbmcgPSBuZXh0UHJvcHMpKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgIHBhcmVudDogcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBjYWNoZTogcHJldlNpYmxpbmdcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgQ2FjaGVDb250ZXh0LCBwcmV2U2libGluZykpXG4gICAgICAgICAgICAgIDogKDAgIT09IChjdXJyZW50LmxhbmVzICYgcmVuZGVyTGFuZXMpICYmXG4gICAgICAgICAgICAgICAgICAoY2xvbmVVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICBwcm9jZXNzVXBkYXRlUXVldWUod29ya0luUHJvZ3Jlc3MsIG51bGwsIG51bGwsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAgIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKSksXG4gICAgICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gY3VycmVudC5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAgICAgICAobmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgICAgICAgcHJldlNpYmxpbmcucGFyZW50ICE9PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgPyAoKHByZXZTaWJsaW5nID0ge1xuICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHByZXZTaWJsaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgMCA9PT0gd29ya0luUHJvZ3Jlc3MubGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZS5iYXNlU3RhdGUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2U2libGluZyksXG4gICAgICAgICAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgQ2FjaGVDb250ZXh0LCByZXR1cm5GaWJlcikpXG4gICAgICAgICAgICAgICAgICA6ICgocmV0dXJuRmliZXIgPSBuZXh0UHJvcHMuY2FjaGUpLFxuICAgICAgICAgICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIENhY2hlQ29udGV4dCwgcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciAhPT0gcHJldlNpYmxpbmcuY2FjaGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgW0NhY2hlQ29udGV4dF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICEwXG4gICAgICAgICAgICAgICAgICAgICAgKSkpLFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI5OlxuICAgICAgICAgIHRocm93IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIlVua25vd24gdW5pdCBvZiB3b3JrIHRhZyAoXCIgK1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyArXG4gICAgICAgICAgXCIpLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKSB7XG4gICAgICBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciA9IG51bGw7XG4gICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hQcm92aWRlcihwcm92aWRlckZpYmVyLCBjb250ZXh0LCBuZXh0VmFsdWUpIHtcbiAgICAgIHB1c2godmFsdWVDdXJzb3IsIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSwgcHJvdmlkZXJGaWJlcik7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50VmFsdWUgPSBuZXh0VmFsdWU7XG4gICAgICBwdXNoKHJlbmRlcmVyQ3Vyc29yREVWLCBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIsIHByb3ZpZGVyRmliZXIpO1xuICAgICAgdm9pZCAwICE9PSBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgJiZcbiAgICAgICAgbnVsbCAhPT0gY29udGV4dC5fY3VycmVudFJlbmRlcmVyICYmXG4gICAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciAhPT0gcmVuZGVyZXJTaWdpbCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRGV0ZWN0ZWQgbXVsdGlwbGUgcmVuZGVyZXJzIGNvbmN1cnJlbnRseSByZW5kZXJpbmcgdGhlIHNhbWUgY29udGV4dCBwcm92aWRlci4gVGhpcyBpcyBjdXJyZW50bHkgdW5zdXBwb3J0ZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IHJlbmRlcmVyU2lnaWw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcFByb3ZpZGVyKGNvbnRleHQsIHByb3ZpZGVyRmliZXIpIHtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IHZhbHVlQ3Vyc29yLmN1cnJlbnQ7XG4gICAgICB2YXIgY3VycmVudFJlbmRlcmVyID0gcmVuZGVyZXJDdXJzb3JERVYuY3VycmVudDtcbiAgICAgIHBvcChyZW5kZXJlckN1cnNvckRFViwgcHJvdmlkZXJGaWJlcik7XG4gICAgICBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgPSBjdXJyZW50UmVuZGVyZXI7XG4gICAgICBwb3AodmFsdWVDdXJzb3IsIHByb3ZpZGVyRmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUNvbnRleHRXb3JrT25QYXJlbnRQYXRoKFxuICAgICAgcGFyZW50LFxuICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICBwcm9wYWdhdGlvblJvb3RcbiAgICApIHtcbiAgICAgIGZvciAoOyBudWxsICE9PSBwYXJlbnQ7ICkge1xuICAgICAgICB2YXIgYWx0ZXJuYXRlID0gcGFyZW50LmFsdGVybmF0ZTtcbiAgICAgICAgKHBhcmVudC5jaGlsZExhbmVzICYgcmVuZGVyTGFuZXMpICE9PSByZW5kZXJMYW5lc1xuICAgICAgICAgID8gKChwYXJlbnQuY2hpbGRMYW5lcyB8PSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgKGFsdGVybmF0ZS5jaGlsZExhbmVzIHw9IHJlbmRlckxhbmVzKSlcbiAgICAgICAgICA6IG51bGwgIT09IGFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgKGFsdGVybmF0ZS5jaGlsZExhbmVzICYgcmVuZGVyTGFuZXMpICE9PSByZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICAgKGFsdGVybmF0ZS5jaGlsZExhbmVzIHw9IHJlbmRlckxhbmVzKTtcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gcHJvcGFnYXRpb25Sb290KSBicmVhaztcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcmVudCAhPT0gcHJvcGFnYXRpb25Sb290ICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJFeHBlY3RlZCB0byBmaW5kIHRoZSBwcm9wYWdhdGlvbiByb290IHdoZW4gc2NoZWR1bGluZyBjb250ZXh0IHdvcmsuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvcGFnYXRlQ29udGV4dENoYW5nZXMoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIGNvbnRleHRzLFxuICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICBmb3JjZVByb3BhZ2F0ZUVudGlyZVRyZWVcbiAgICApIHtcbiAgICAgIHZhciBmaWJlciA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgbnVsbCAhPT0gZmliZXIgJiYgKGZpYmVyLnJldHVybiA9IHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGZvciAoOyBudWxsICE9PSBmaWJlcjsgKSB7XG4gICAgICAgIHZhciBsaXN0ID0gZmliZXIuZGVwZW5kZW5jaWVzO1xuICAgICAgICBpZiAobnVsbCAhPT0gbGlzdCkge1xuICAgICAgICAgIHZhciBuZXh0RmliZXIgPSBmaWJlci5jaGlsZDtcbiAgICAgICAgICBsaXN0ID0gbGlzdC5maXJzdENvbnRleHQ7XG4gICAgICAgICAgYTogZm9yICg7IG51bGwgIT09IGxpc3Q7ICkge1xuICAgICAgICAgICAgdmFyIGRlcGVuZGVuY3kgPSBsaXN0O1xuICAgICAgICAgICAgbGlzdCA9IGZpYmVyO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb250ZXh0cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgaWYgKGRlcGVuZGVuY3kuY29udGV4dCA9PT0gY29udGV4dHNbaV0pIHtcbiAgICAgICAgICAgICAgICBsaXN0LmxhbmVzIHw9IHJlbmRlckxhbmVzO1xuICAgICAgICAgICAgICAgIGRlcGVuZGVuY3kgPSBsaXN0LmFsdGVybmF0ZTtcbiAgICAgICAgICAgICAgICBudWxsICE9PSBkZXBlbmRlbmN5ICYmIChkZXBlbmRlbmN5LmxhbmVzIHw9IHJlbmRlckxhbmVzKTtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZUNvbnRleHRXb3JrT25QYXJlbnRQYXRoKFxuICAgICAgICAgICAgICAgICAgbGlzdC5yZXR1cm4sXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBmb3JjZVByb3BhZ2F0ZUVudGlyZVRyZWUgfHwgKG5leHRGaWJlciA9IG51bGwpO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3QgPSBkZXBlbmRlbmN5Lm5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKDE4ID09PSBmaWJlci50YWcpIHtcbiAgICAgICAgICBuZXh0RmliZXIgPSBmaWJlci5yZXR1cm47XG4gICAgICAgICAgaWYgKG51bGwgPT09IG5leHRGaWJlcilcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIldlIGp1c3QgY2FtZSBmcm9tIGEgcGFyZW50IHNvIHdlIG11c3QgaGF2ZSBoYWQgYSBwYXJlbnQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbmV4dEZpYmVyLmxhbmVzIHw9IHJlbmRlckxhbmVzO1xuICAgICAgICAgIGxpc3QgPSBuZXh0RmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICAgIG51bGwgIT09IGxpc3QgJiYgKGxpc3QubGFuZXMgfD0gcmVuZGVyTGFuZXMpO1xuICAgICAgICAgIHNjaGVkdWxlQ29udGV4dFdvcmtPblBhcmVudFBhdGgoXG4gICAgICAgICAgICBuZXh0RmliZXIsXG4gICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBuZXh0RmliZXIgPSBudWxsO1xuICAgICAgICB9IGVsc2UgbmV4dEZpYmVyID0gZmliZXIuY2hpbGQ7XG4gICAgICAgIGlmIChudWxsICE9PSBuZXh0RmliZXIpIG5leHRGaWJlci5yZXR1cm4gPSBmaWJlcjtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGZvciAobmV4dEZpYmVyID0gZmliZXI7IG51bGwgIT09IG5leHRGaWJlcjsgKSB7XG4gICAgICAgICAgICBpZiAobmV4dEZpYmVyID09PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICAgICAgICBuZXh0RmliZXIgPSBudWxsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpYmVyID0gbmV4dEZpYmVyLnNpYmxpbmc7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gZmliZXIpIHtcbiAgICAgICAgICAgICAgZmliZXIucmV0dXJuID0gbmV4dEZpYmVyLnJldHVybjtcbiAgICAgICAgICAgICAgbmV4dEZpYmVyID0gZmliZXI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dEZpYmVyID0gbmV4dEZpYmVyLnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIGZpYmVyID0gbmV4dEZpYmVyO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgZm9yY2VQcm9wYWdhdGVFbnRpcmVUcmVlXG4gICAgKSB7XG4gICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBwYXJlbnQgPSB3b3JrSW5Qcm9ncmVzcywgaXNJbnNpZGVQcm9wYWdhdGlvbkJhaWxvdXQgPSAhMTtcbiAgICAgICAgbnVsbCAhPT0gcGFyZW50O1xuXG4gICAgICApIHtcbiAgICAgICAgaWYgKCFpc0luc2lkZVByb3BhZ2F0aW9uQmFpbG91dClcbiAgICAgICAgICBpZiAoMCAhPT0gKHBhcmVudC5mbGFncyAmIDUyNDI4OCkpIGlzSW5zaWRlUHJvcGFnYXRpb25CYWlsb3V0ID0gITA7XG4gICAgICAgICAgZWxzZSBpZiAoMCAhPT0gKHBhcmVudC5mbGFncyAmIDI2MjE0NCkpIGJyZWFrO1xuICAgICAgICBpZiAoMTAgPT09IHBhcmVudC50YWcpIHtcbiAgICAgICAgICB2YXIgY3VycmVudFBhcmVudCA9IHBhcmVudC5hbHRlcm5hdGU7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnRQYXJlbnQpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNob3VsZCBoYXZlIGEgY3VycmVudCBmaWJlci4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIik7XG4gICAgICAgICAgY3VycmVudFBhcmVudCA9IGN1cnJlbnRQYXJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudFBhcmVudCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBwYXJlbnQudHlwZTtcbiAgICAgICAgICAgIG9iamVjdElzKHBhcmVudC5wZW5kaW5nUHJvcHMudmFsdWUsIGN1cnJlbnRQYXJlbnQudmFsdWUpIHx8XG4gICAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50XG4gICAgICAgICAgICAgICAgPyBjdXJyZW50LnB1c2goY29udGV4dClcbiAgICAgICAgICAgICAgICA6IChjdXJyZW50ID0gW2NvbnRleHRdKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHBhcmVudCA9PT0gaG9zdFRyYW5zaXRpb25Qcm92aWRlckN1cnNvci5jdXJyZW50KSB7XG4gICAgICAgICAgY3VycmVudFBhcmVudCA9IHBhcmVudC5hbHRlcm5hdGU7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnRQYXJlbnQpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNob3VsZCBoYXZlIGEgY3VycmVudCBmaWJlci4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIik7XG4gICAgICAgICAgY3VycmVudFBhcmVudC5tZW1vaXplZFN0YXRlLm1lbW9pemVkU3RhdGUgIT09XG4gICAgICAgICAgICBwYXJlbnQubWVtb2l6ZWRTdGF0ZS5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudFxuICAgICAgICAgICAgICA/IGN1cnJlbnQucHVzaChIb3N0VHJhbnNpdGlvbkNvbnRleHQpXG4gICAgICAgICAgICAgIDogKGN1cnJlbnQgPSBbSG9zdFRyYW5zaXRpb25Db250ZXh0XSkpO1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5yZXR1cm47XG4gICAgICB9XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgZm9yY2VQcm9wYWdhdGVFbnRpcmVUcmVlXG4gICAgICAgICk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyNjIxNDQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrSWZDb250ZXh0Q2hhbmdlZChjdXJyZW50RGVwZW5kZW5jaWVzKSB7XG4gICAgICBmb3IgKFxuICAgICAgICBjdXJyZW50RGVwZW5kZW5jaWVzID0gY3VycmVudERlcGVuZGVuY2llcy5maXJzdENvbnRleHQ7XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnREZXBlbmRlbmNpZXM7XG5cbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIW9iamVjdElzKFxuICAgICAgICAgICAgY3VycmVudERlcGVuZGVuY2llcy5jb250ZXh0Ll9jdXJyZW50VmFsdWUsXG4gICAgICAgICAgICBjdXJyZW50RGVwZW5kZW5jaWVzLm1lbW9pemVkVmFsdWVcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGN1cnJlbnREZXBlbmRlbmNpZXMgPSBjdXJyZW50RGVwZW5kZW5jaWVzLm5leHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzO1xuICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MgJiYgKHdvcmtJblByb2dyZXNzLmZpcnN0Q29udGV4dCA9IG51bGwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkQ29udGV4dChjb250ZXh0KSB7XG4gICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJDb250ZXh0IGNhbiBvbmx5IGJlIHJlYWQgd2hpbGUgUmVhY3QgaXMgcmVuZGVyaW5nLiBJbiBjbGFzc2VzLCB5b3UgY2FuIHJlYWQgaXQgaW4gdGhlIHJlbmRlciBtZXRob2Qgb3IgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiBJbiBmdW5jdGlvbiBjb21wb25lbnRzLCB5b3UgY2FuIHJlYWQgaXQgZGlyZWN0bHkgaW4gdGhlIGZ1bmN0aW9uIGJvZHksIGJ1dCBub3QgaW5zaWRlIEhvb2tzIGxpa2UgdXNlUmVkdWNlcigpIG9yIHVzZU1lbW8oKS5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHJlYWRDb250ZXh0Rm9yQ29uc3VtZXIoY3VycmVudGx5UmVuZGVyaW5nRmliZXIsIGNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFkQ29udGV4dER1cmluZ1JlY29uY2lsaWF0aW9uKGNvbnN1bWVyLCBjb250ZXh0KSB7XG4gICAgICBudWxsID09PSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciAmJiBwcmVwYXJlVG9SZWFkQ29udGV4dChjb25zdW1lcik7XG4gICAgICByZXR1cm4gcmVhZENvbnRleHRGb3JDb25zdW1lcihjb25zdW1lciwgY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRDb250ZXh0Rm9yQ29uc3VtZXIoY29uc3VtZXIsIGNvbnRleHQpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGNvbnRleHQuX2N1cnJlbnRWYWx1ZTtcbiAgICAgIGNvbnRleHQgPSB7IGNvbnRleHQ6IGNvbnRleHQsIG1lbW9pemVkVmFsdWU6IHZhbHVlLCBuZXh0OiBudWxsIH07XG4gICAgICBpZiAobnVsbCA9PT0gbGFzdENvbnRleHREZXBlbmRlbmN5KSB7XG4gICAgICAgIGlmIChudWxsID09PSBjb25zdW1lcilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiQ29udGV4dCBjYW4gb25seSBiZSByZWFkIHdoaWxlIFJlYWN0IGlzIHJlbmRlcmluZy4gSW4gY2xhc3NlcywgeW91IGNhbiByZWFkIGl0IGluIHRoZSByZW5kZXIgbWV0aG9kIG9yIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gSW4gZnVuY3Rpb24gY29tcG9uZW50cywgeW91IGNhbiByZWFkIGl0IGRpcmVjdGx5IGluIHRoZSBmdW5jdGlvbiBib2R5LCBidXQgbm90IGluc2lkZSBIb29rcyBsaWtlIHVzZVJlZHVjZXIoKSBvciB1c2VNZW1vKCkuXCJcbiAgICAgICAgICApO1xuICAgICAgICBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBjb250ZXh0O1xuICAgICAgICBjb25zdW1lci5kZXBlbmRlbmNpZXMgPSB7XG4gICAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgICAgZmlyc3RDb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgIF9kZWJ1Z1RoZW5hYmxlU3RhdGU6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3VtZXIuZmxhZ3MgfD0gNTI0Mjg4O1xuICAgICAgfSBlbHNlIGxhc3RDb250ZXh0RGVwZW5kZW5jeSA9IGxhc3RDb250ZXh0RGVwZW5kZW5jeS5uZXh0ID0gY29udGV4dDtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVVwZGF0ZVF1ZXVlKGZpYmVyKSB7XG4gICAgICBmaWJlci51cGRhdGVRdWV1ZSA9IHtcbiAgICAgICAgYmFzZVN0YXRlOiBmaWJlci5tZW1vaXplZFN0YXRlLFxuICAgICAgICBmaXJzdEJhc2VVcGRhdGU6IG51bGwsXG4gICAgICAgIGxhc3RCYXNlVXBkYXRlOiBudWxsLFxuICAgICAgICBzaGFyZWQ6IHsgcGVuZGluZzogbnVsbCwgbGFuZXM6IDAsIGhpZGRlbkNhbGxiYWNrczogbnVsbCB9LFxuICAgICAgICBjYWxsYmFja3M6IG51bGxcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsb25lVXBkYXRlUXVldWUoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0ge1xuICAgICAgICAgIGJhc2VTdGF0ZTogY3VycmVudC5iYXNlU3RhdGUsXG4gICAgICAgICAgZmlyc3RCYXNlVXBkYXRlOiBjdXJyZW50LmZpcnN0QmFzZVVwZGF0ZSxcbiAgICAgICAgICBsYXN0QmFzZVVwZGF0ZTogY3VycmVudC5sYXN0QmFzZVVwZGF0ZSxcbiAgICAgICAgICBzaGFyZWQ6IGN1cnJlbnQuc2hhcmVkLFxuICAgICAgICAgIGNhbGxiYWNrczogbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlVXBkYXRlKGxhbmUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxhbmU6IGxhbmUsXG4gICAgICAgIHRhZzogVXBkYXRlU3RhdGUsXG4gICAgICAgIHBheWxvYWQ6IG51bGwsXG4gICAgICAgIGNhbGxiYWNrOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlVXBkYXRlKGZpYmVyLCB1cGRhdGUsIGxhbmUpIHtcbiAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpYmVyLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKG51bGwgPT09IHVwZGF0ZVF1ZXVlKSByZXR1cm4gbnVsbDtcbiAgICAgIHVwZGF0ZVF1ZXVlID0gdXBkYXRlUXVldWUuc2hhcmVkO1xuICAgICAgaWYgKFxuICAgICAgICBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPT09IHVwZGF0ZVF1ZXVlICYmXG4gICAgICAgICFkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFuIHVwZGF0ZSAoc2V0U3RhdGUsIHJlcGxhY2VTdGF0ZSwgb3IgZm9yY2VVcGRhdGUpIHdhcyBzY2hlZHVsZWQgZnJvbSBpbnNpZGUgYW4gdXBkYXRlIGZ1bmN0aW9uLiBVcGRhdGUgZnVuY3Rpb25zIHNob3VsZCBiZSBwdXJlLCB3aXRoIHplcm8gc2lkZS1lZmZlY3RzLiBDb25zaWRlciB1c2luZyBjb21wb25lbnREaWRVcGRhdGUgb3IgYSBjYWxsYmFjay5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50OiAlc1wiLFxuICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgZGlkV2FyblVwZGF0ZUluc2lkZVVwZGF0ZSA9ICEwO1xuICAgICAgfVxuICAgICAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgIT09IE5vQ29udGV4dClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoY29tcG9uZW50TmFtZSA9IHVwZGF0ZVF1ZXVlLnBlbmRpbmcpLFxuICAgICAgICAgIG51bGwgPT09IGNvbXBvbmVudE5hbWVcbiAgICAgICAgICAgID8gKHVwZGF0ZS5uZXh0ID0gdXBkYXRlKVxuICAgICAgICAgICAgOiAoKHVwZGF0ZS5uZXh0ID0gY29tcG9uZW50TmFtZS5uZXh0KSxcbiAgICAgICAgICAgICAgKGNvbXBvbmVudE5hbWUubmV4dCA9IHVwZGF0ZSkpLFxuICAgICAgICAgICh1cGRhdGVRdWV1ZS5wZW5kaW5nID0gdXBkYXRlKSxcbiAgICAgICAgICAodXBkYXRlID0gZ2V0Um9vdEZvclVwZGF0ZWRGaWJlcihmaWJlcikpLFxuICAgICAgICAgIG1hcmtVcGRhdGVMYW5lRnJvbUZpYmVyVG9Sb290KGZpYmVyLCBudWxsLCBsYW5lKSxcbiAgICAgICAgICB1cGRhdGVcbiAgICAgICAgKTtcbiAgICAgIGVucXVldWVVcGRhdGUkMShmaWJlciwgdXBkYXRlUXVldWUsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICByZXR1cm4gZ2V0Um9vdEZvclVwZGF0ZWRGaWJlcihmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVudGFuZ2xlVHJhbnNpdGlvbnMocm9vdCwgZmliZXIsIGxhbmUpIHtcbiAgICAgIGZpYmVyID0gZmliZXIudXBkYXRlUXVldWU7XG4gICAgICBpZiAobnVsbCAhPT0gZmliZXIgJiYgKChmaWJlciA9IGZpYmVyLnNoYXJlZCksIDAgIT09IChsYW5lICYgNDE5NDE3NikpKSB7XG4gICAgICAgIHZhciBxdWV1ZUxhbmVzID0gZmliZXIubGFuZXM7XG4gICAgICAgIHF1ZXVlTGFuZXMgJj0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICAgIGxhbmUgfD0gcXVldWVMYW5lcztcbiAgICAgICAgZmliZXIubGFuZXMgPSBsYW5lO1xuICAgICAgICBtYXJrUm9vdEVudGFuZ2xlZChyb290LCBsYW5lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHdvcmtJblByb2dyZXNzLCBjYXB0dXJlZFVwZGF0ZSkge1xuICAgICAgdmFyIHF1ZXVlID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUsXG4gICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGU7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC51cGRhdGVRdWV1ZSksIHF1ZXVlID09PSBjdXJyZW50KVxuICAgICAgKSB7XG4gICAgICAgIHZhciBuZXdGaXJzdCA9IG51bGwsXG4gICAgICAgICAgbmV3TGFzdCA9IG51bGw7XG4gICAgICAgIHF1ZXVlID0gcXVldWUuZmlyc3RCYXNlVXBkYXRlO1xuICAgICAgICBpZiAobnVsbCAhPT0gcXVldWUpIHtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICB2YXIgY2xvbmUgPSB7XG4gICAgICAgICAgICAgIGxhbmU6IHF1ZXVlLmxhbmUsXG4gICAgICAgICAgICAgIHRhZzogcXVldWUudGFnLFxuICAgICAgICAgICAgICBwYXlsb2FkOiBxdWV1ZS5wYXlsb2FkLFxuICAgICAgICAgICAgICBjYWxsYmFjazogbnVsbCxcbiAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG51bGwgPT09IG5ld0xhc3RcbiAgICAgICAgICAgICAgPyAobmV3Rmlyc3QgPSBuZXdMYXN0ID0gY2xvbmUpXG4gICAgICAgICAgICAgIDogKG5ld0xhc3QgPSBuZXdMYXN0Lm5leHQgPSBjbG9uZSk7XG4gICAgICAgICAgICBxdWV1ZSA9IHF1ZXVlLm5leHQ7XG4gICAgICAgICAgfSB3aGlsZSAobnVsbCAhPT0gcXVldWUpO1xuICAgICAgICAgIG51bGwgPT09IG5ld0xhc3RcbiAgICAgICAgICAgID8gKG5ld0ZpcnN0ID0gbmV3TGFzdCA9IGNhcHR1cmVkVXBkYXRlKVxuICAgICAgICAgICAgOiAobmV3TGFzdCA9IG5ld0xhc3QubmV4dCA9IGNhcHR1cmVkVXBkYXRlKTtcbiAgICAgICAgfSBlbHNlIG5ld0ZpcnN0ID0gbmV3TGFzdCA9IGNhcHR1cmVkVXBkYXRlO1xuICAgICAgICBxdWV1ZSA9IHtcbiAgICAgICAgICBiYXNlU3RhdGU6IGN1cnJlbnQuYmFzZVN0YXRlLFxuICAgICAgICAgIGZpcnN0QmFzZVVwZGF0ZTogbmV3Rmlyc3QsXG4gICAgICAgICAgbGFzdEJhc2VVcGRhdGU6IG5ld0xhc3QsXG4gICAgICAgICAgc2hhcmVkOiBjdXJyZW50LnNoYXJlZCxcbiAgICAgICAgICBjYWxsYmFja3M6IGN1cnJlbnQuY2FsbGJhY2tzXG4gICAgICAgIH07XG4gICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gcXVldWU7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdvcmtJblByb2dyZXNzID0gcXVldWUubGFzdEJhc2VVcGRhdGU7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICA/IChxdWV1ZS5maXJzdEJhc2VVcGRhdGUgPSBjYXB0dXJlZFVwZGF0ZSlcbiAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MubmV4dCA9IGNhcHR1cmVkVXBkYXRlKTtcbiAgICAgIHF1ZXVlLmxhc3RCYXNlVXBkYXRlID0gY2FwdHVyZWRVcGRhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKSB7XG4gICAgICBpZiAoZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbikge1xuICAgICAgICB2YXIgZW50YW5nbGVkQWN0aW9uVGhlbmFibGUgPSBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGU7XG4gICAgICAgIGlmIChudWxsICE9PSBlbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSkgdGhyb3cgZW50YW5nbGVkQWN0aW9uVGhlbmFibGU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb2Nlc3NVcGRhdGVRdWV1ZShcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgcHJvcHMsXG4gICAgICBpbnN0YW5jZSRqc2NvbXAkMCxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITE7XG4gICAgICB2YXIgcXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZTtcbiAgICAgIGhhc0ZvcmNlVXBkYXRlID0gITE7XG4gICAgICBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSBxdWV1ZS5zaGFyZWQ7XG4gICAgICB2YXIgZmlyc3RCYXNlVXBkYXRlID0gcXVldWUuZmlyc3RCYXNlVXBkYXRlLFxuICAgICAgICBsYXN0QmFzZVVwZGF0ZSA9IHF1ZXVlLmxhc3RCYXNlVXBkYXRlLFxuICAgICAgICBwZW5kaW5nUXVldWUgPSBxdWV1ZS5zaGFyZWQucGVuZGluZztcbiAgICAgIGlmIChudWxsICE9PSBwZW5kaW5nUXVldWUpIHtcbiAgICAgICAgcXVldWUuc2hhcmVkLnBlbmRpbmcgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFBlbmRpbmdVcGRhdGUgPSBwZW5kaW5nUXVldWUsXG4gICAgICAgICAgZmlyc3RQZW5kaW5nVXBkYXRlID0gbGFzdFBlbmRpbmdVcGRhdGUubmV4dDtcbiAgICAgICAgbGFzdFBlbmRpbmdVcGRhdGUubmV4dCA9IG51bGw7XG4gICAgICAgIG51bGwgPT09IGxhc3RCYXNlVXBkYXRlXG4gICAgICAgICAgPyAoZmlyc3RCYXNlVXBkYXRlID0gZmlyc3RQZW5kaW5nVXBkYXRlKVxuICAgICAgICAgIDogKGxhc3RCYXNlVXBkYXRlLm5leHQgPSBmaXJzdFBlbmRpbmdVcGRhdGUpO1xuICAgICAgICBsYXN0QmFzZVVwZGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlO1xuICAgICAgICB2YXIgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICgoY3VycmVudCA9IGN1cnJlbnQudXBkYXRlUXVldWUpLFxuICAgICAgICAgIChwZW5kaW5nUXVldWUgPSBjdXJyZW50Lmxhc3RCYXNlVXBkYXRlKSxcbiAgICAgICAgICBwZW5kaW5nUXVldWUgIT09IGxhc3RCYXNlVXBkYXRlICYmXG4gICAgICAgICAgICAobnVsbCA9PT0gcGVuZGluZ1F1ZXVlXG4gICAgICAgICAgICAgID8gKGN1cnJlbnQuZmlyc3RCYXNlVXBkYXRlID0gZmlyc3RQZW5kaW5nVXBkYXRlKVxuICAgICAgICAgICAgICA6IChwZW5kaW5nUXVldWUubmV4dCA9IGZpcnN0UGVuZGluZ1VwZGF0ZSksXG4gICAgICAgICAgICAoY3VycmVudC5sYXN0QmFzZVVwZGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlKSkpO1xuICAgICAgfVxuICAgICAgaWYgKG51bGwgIT09IGZpcnN0QmFzZVVwZGF0ZSkge1xuICAgICAgICB2YXIgbmV3U3RhdGUgPSBxdWV1ZS5iYXNlU3RhdGU7XG4gICAgICAgIGxhc3RCYXNlVXBkYXRlID0gMDtcbiAgICAgICAgY3VycmVudCA9IGZpcnN0UGVuZGluZ1VwZGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlID0gbnVsbDtcbiAgICAgICAgcGVuZGluZ1F1ZXVlID0gZmlyc3RCYXNlVXBkYXRlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFyIHVwZGF0ZUxhbmUgPSBwZW5kaW5nUXVldWUubGFuZSAmIC01MzY4NzA5MTMsXG4gICAgICAgICAgICBpc0hpZGRlblVwZGF0ZSA9IHVwZGF0ZUxhbmUgIT09IHBlbmRpbmdRdWV1ZS5sYW5lO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGlzSGlkZGVuVXBkYXRlXG4gICAgICAgICAgICAgID8gKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgdXBkYXRlTGFuZSkgPT09IHVwZGF0ZUxhbmVcbiAgICAgICAgICAgICAgOiAocmVuZGVyTGFuZXMgJiB1cGRhdGVMYW5lKSA9PT0gdXBkYXRlTGFuZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgMCAhPT0gdXBkYXRlTGFuZSAmJlxuICAgICAgICAgICAgICB1cGRhdGVMYW5lID09PSBjdXJyZW50RW50YW5nbGVkTGFuZSAmJlxuICAgICAgICAgICAgICAoZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiA9ICEwKTtcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50Lm5leHQgPVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGxhbmU6IDAsXG4gICAgICAgICAgICAgICAgICB0YWc6IHBlbmRpbmdRdWV1ZS50YWcsXG4gICAgICAgICAgICAgICAgICBwYXlsb2FkOiBwZW5kaW5nUXVldWUucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBudWxsLFxuICAgICAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICB1cGRhdGVMYW5lID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgIHZhciBwYXJ0aWFsU3RhdGUgPSBwZW5kaW5nUXVldWU7XG4gICAgICAgICAgICAgIHZhciBuZXh0UHJvcHMgPSBwcm9wcyxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlJGpzY29tcCQwO1xuICAgICAgICAgICAgICBzd2l0Y2ggKHBhcnRpYWxTdGF0ZS50YWcpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFJlcGxhY2VTdGF0ZTpcbiAgICAgICAgICAgICAgICAgIHBhcnRpYWxTdGF0ZSA9IHBhcnRpYWxTdGF0ZS5wYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0U3RhdGUgPSBwYXJ0aWFsU3RhdGUuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZGF0ZUxhbmUubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpYWxTdGF0ZS5jYWxsKGluc3RhbmNlLCBuZXdTdGF0ZSwgbmV4dFByb3BzKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITE7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSBwYXJ0aWFsU3RhdGU7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgQ2FwdHVyZVVwZGF0ZTpcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZUxhbmUuZmxhZ3MgPSAodXBkYXRlTGFuZS5mbGFncyAmIC02NTUzNykgfCAxMjg7XG4gICAgICAgICAgICAgICAgY2FzZSBVcGRhdGVTdGF0ZTpcbiAgICAgICAgICAgICAgICAgIG5leHRTdGF0ZSA9IHBhcnRpYWxTdGF0ZS5wYXlsb2FkO1xuICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5leHRTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITA7XG4gICAgICAgICAgICAgICAgICAgIHBhcnRpYWxTdGF0ZSA9IG5leHRTdGF0ZS5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlTGFuZS5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlLmNhbGwoaW5zdGFuY2UsIG5ld1N0YXRlLCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlzRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYgPSAhMTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBwYXJ0aWFsU3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gcGFydGlhbFN0YXRlIHx8IHZvaWQgMCA9PT0gcGFydGlhbFN0YXRlKSBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSBhc3NpZ24oe30sIG5ld1N0YXRlLCBwYXJ0aWFsU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIEZvcmNlVXBkYXRlOlxuICAgICAgICAgICAgICAgICAgaGFzRm9yY2VVcGRhdGUgPSAhMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlTGFuZSA9IHBlbmRpbmdRdWV1ZS5jYWxsYmFjaztcbiAgICAgICAgICAgIG51bGwgIT09IHVwZGF0ZUxhbmUgJiZcbiAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA2NCksXG4gICAgICAgICAgICAgIGlzSGlkZGVuVXBkYXRlICYmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyKSxcbiAgICAgICAgICAgICAgKGlzSGlkZGVuVXBkYXRlID0gcXVldWUuY2FsbGJhY2tzKSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gaXNIaWRkZW5VcGRhdGVcbiAgICAgICAgICAgICAgICA/IChxdWV1ZS5jYWxsYmFja3MgPSBbdXBkYXRlTGFuZV0pXG4gICAgICAgICAgICAgICAgOiBpc0hpZGRlblVwZGF0ZS5wdXNoKHVwZGF0ZUxhbmUpKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIChpc0hpZGRlblVwZGF0ZSA9IHtcbiAgICAgICAgICAgICAgbGFuZTogdXBkYXRlTGFuZSxcbiAgICAgICAgICAgICAgdGFnOiBwZW5kaW5nUXVldWUudGFnLFxuICAgICAgICAgICAgICBwYXlsb2FkOiBwZW5kaW5nUXVldWUucGF5bG9hZCxcbiAgICAgICAgICAgICAgY2FsbGJhY2s6IHBlbmRpbmdRdWV1ZS5jYWxsYmFjayxcbiAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgICA/ICgoZmlyc3RQZW5kaW5nVXBkYXRlID0gY3VycmVudCA9IGlzSGlkZGVuVXBkYXRlKSxcbiAgICAgICAgICAgICAgICAgIChsYXN0UGVuZGluZ1VwZGF0ZSA9IG5ld1N0YXRlKSlcbiAgICAgICAgICAgICAgICA6IChjdXJyZW50ID0gY3VycmVudC5uZXh0ID0gaXNIaWRkZW5VcGRhdGUpLFxuICAgICAgICAgICAgICAobGFzdEJhc2VVcGRhdGUgfD0gdXBkYXRlTGFuZSk7XG4gICAgICAgICAgcGVuZGluZ1F1ZXVlID0gcGVuZGluZ1F1ZXVlLm5leHQ7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHBlbmRpbmdRdWV1ZSlcbiAgICAgICAgICAgIGlmICgoKHBlbmRpbmdRdWV1ZSA9IHF1ZXVlLnNoYXJlZC5wZW5kaW5nKSwgbnVsbCA9PT0gcGVuZGluZ1F1ZXVlKSlcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIChpc0hpZGRlblVwZGF0ZSA9IHBlbmRpbmdRdWV1ZSksXG4gICAgICAgICAgICAgICAgKHBlbmRpbmdRdWV1ZSA9IGlzSGlkZGVuVXBkYXRlLm5leHQpLFxuICAgICAgICAgICAgICAgIChpc0hpZGRlblVwZGF0ZS5uZXh0ID0gbnVsbCksXG4gICAgICAgICAgICAgICAgKHF1ZXVlLmxhc3RCYXNlVXBkYXRlID0gaXNIaWRkZW5VcGRhdGUpLFxuICAgICAgICAgICAgICAgIChxdWV1ZS5zaGFyZWQucGVuZGluZyA9IG51bGwpO1xuICAgICAgICB9IHdoaWxlICgxKTtcbiAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJiAobGFzdFBlbmRpbmdVcGRhdGUgPSBuZXdTdGF0ZSk7XG4gICAgICAgIHF1ZXVlLmJhc2VTdGF0ZSA9IGxhc3RQZW5kaW5nVXBkYXRlO1xuICAgICAgICBxdWV1ZS5maXJzdEJhc2VVcGRhdGUgPSBmaXJzdFBlbmRpbmdVcGRhdGU7XG4gICAgICAgIHF1ZXVlLmxhc3RCYXNlVXBkYXRlID0gY3VycmVudDtcbiAgICAgICAgbnVsbCA9PT0gZmlyc3RCYXNlVXBkYXRlICYmIChxdWV1ZS5zaGFyZWQubGFuZXMgPSAwKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IGxhc3RCYXNlVXBkYXRlO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IGxhc3RCYXNlVXBkYXRlO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICB9XG4gICAgICBjdXJyZW50bHlQcm9jZXNzaW5nUXVldWUgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsQ2FsbGJhY2soY2FsbGJhY2ssIGNvbnRleHQpIHtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjYWxsYmFjaylcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJJbnZhbGlkIGFyZ3VtZW50IHBhc3NlZCBhcyBjYWxsYmFjay4gRXhwZWN0ZWQgYSBmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogXCIgK1xuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgKTtcbiAgICAgIGNhbGxiYWNrLmNhbGwoY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhpZGRlbkNhbGxiYWNrcyh1cGRhdGVRdWV1ZSwgY29udGV4dCkge1xuICAgICAgdmFyIGhpZGRlbkNhbGxiYWNrcyA9IHVwZGF0ZVF1ZXVlLnNoYXJlZC5oaWRkZW5DYWxsYmFja3M7XG4gICAgICBpZiAobnVsbCAhPT0gaGlkZGVuQ2FsbGJhY2tzKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHVwZGF0ZVF1ZXVlLnNoYXJlZC5oaWRkZW5DYWxsYmFja3MgPSBudWxsLCB1cGRhdGVRdWV1ZSA9IDA7XG4gICAgICAgICAgdXBkYXRlUXVldWUgPCBoaWRkZW5DYWxsYmFja3MubGVuZ3RoO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlKytcbiAgICAgICAgKVxuICAgICAgICAgIGNhbGxDYWxsYmFjayhoaWRkZW5DYWxsYmFja3NbdXBkYXRlUXVldWVdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Q2FsbGJhY2tzKHVwZGF0ZVF1ZXVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgY2FsbGJhY2tzID0gdXBkYXRlUXVldWUuY2FsbGJhY2tzO1xuICAgICAgaWYgKG51bGwgIT09IGNhbGxiYWNrcylcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB1cGRhdGVRdWV1ZS5jYWxsYmFja3MgPSBudWxsLCB1cGRhdGVRdWV1ZSA9IDA7XG4gICAgICAgICAgdXBkYXRlUXVldWUgPCBjYWxsYmFja3MubGVuZ3RoO1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlKytcbiAgICAgICAgKVxuICAgICAgICAgIGNhbGxDYWxsYmFjayhjYWxsYmFja3NbdXBkYXRlUXVldWVdLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkUHJvZmlsZShjdXJyZW50KSB7XG4gICAgICByZXR1cm4gKGN1cnJlbnQubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmssIGhvb2tGbGFncykge1xuICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGhvb2tGbGFncywgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IGNvbW1pdEhvb2tFZmZlY3RMaXN0TW91bnQoaG9va0ZsYWdzLCBmaW5pc2hlZFdvcmspO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rTGF5b3V0VW5tb3VudEVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgaG9va0ZsYWdzXG4gICAgKSB7XG4gICAgICBzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaylcbiAgICAgICAgPyAoc3RhcnRFZmZlY3RUaW1lcigpLFxuICAgICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgIGhvb2tGbGFncyxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICAgICAgICApLFxuICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgIDogY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgICAgICAgaG9va0ZsYWdzLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvb2tFZmZlY3RMaXN0TW91bnQoZmxhZ3MsIGZpbmlzaGVkV29yaykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlLFxuICAgICAgICAgIGxhc3RFZmZlY3QgPSBudWxsICE9PSB1cGRhdGVRdWV1ZSA/IHVwZGF0ZVF1ZXVlLmxhc3RFZmZlY3QgOiBudWxsO1xuICAgICAgICBpZiAobnVsbCAhPT0gbGFzdEVmZmVjdCkge1xuICAgICAgICAgIHZhciBmaXJzdEVmZmVjdCA9IGxhc3RFZmZlY3QubmV4dDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSA9IGZpcnN0RWZmZWN0O1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKHVwZGF0ZVF1ZXVlLnRhZyAmIGZsYWdzKSA9PT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgKChmbGFncyAmIFBhc3NpdmUpICE9PSBOb0ZsYWdzXG4gICAgICAgICAgICAgICAgPyBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0TW91bnRTdGFydGVkICYmXG4gICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0TW91bnRTdGFydGVkKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IChmbGFncyAmIExheW91dCkgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdE1vdW50U3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0TW91bnRTdGFydGVkKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChsYXN0RWZmZWN0ID0gdm9pZCAwKSxcbiAgICAgICAgICAgICAgKGZsYWdzICYgSW5zZXJ0aW9uKSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgIChpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMCksXG4gICAgICAgICAgICAgIChsYXN0RWZmZWN0ID0gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNhbGxDcmVhdGVJbkRFVixcbiAgICAgICAgICAgICAgICB1cGRhdGVRdWV1ZVxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGZsYWdzICYgSW5zZXJ0aW9uKSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgIChpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMSksXG4gICAgICAgICAgICAgIChmbGFncyAmIFBhc3NpdmUpICE9PSBOb0ZsYWdzXG4gICAgICAgICAgICAgICAgPyBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0TW91bnRTdG9wcGVkICYmXG4gICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0TW91bnRTdG9wcGVkKClcbiAgICAgICAgICAgICAgICA6IChmbGFncyAmIExheW91dCkgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdE1vdW50U3RvcHBlZCAmJlxuICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0TW91bnRTdG9wcGVkKCksXG4gICAgICAgICAgICAgIHZvaWQgMCAhPT0gbGFzdEVmZmVjdCAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBsYXN0RWZmZWN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciBob29rTmFtZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgaG9va05hbWUgPVxuICAgICAgICAgICAgICAgIDAgIT09ICh1cGRhdGVRdWV1ZS50YWcgJiBMYXlvdXQpXG4gICAgICAgICAgICAgICAgICA/IFwidXNlTGF5b3V0RWZmZWN0XCJcbiAgICAgICAgICAgICAgICAgIDogMCAhPT0gKHVwZGF0ZVF1ZXVlLnRhZyAmIEluc2VydGlvbilcbiAgICAgICAgICAgICAgICAgICAgPyBcInVzZUluc2VydGlvbkVmZmVjdFwiXG4gICAgICAgICAgICAgICAgICAgIDogXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgICAgICAgdmFyIGFkZGVuZHVtID0gdm9pZCAwO1xuICAgICAgICAgICAgICBhZGRlbmR1bSA9XG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gbGFzdEVmZmVjdFxuICAgICAgICAgICAgICAgICAgPyBcIiBZb3UgcmV0dXJuZWQgbnVsbC4gSWYgeW91ciBlZmZlY3QgZG9lcyBub3QgcmVxdWlyZSBjbGVhbiB1cCwgcmV0dXJuIHVuZGVmaW5lZCAob3Igbm90aGluZykuXCJcbiAgICAgICAgICAgICAgICAgIDogXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbGFzdEVmZmVjdC50aGVuXG4gICAgICAgICAgICAgICAgICAgID8gXCJcXG5cXG5JdCBsb29rcyBsaWtlIHlvdSB3cm90ZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgaG9va05hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiKGFzeW5jICgpID0+IC4uLikgb3IgcmV0dXJuZWQgYSBQcm9taXNlLiBJbnN0ZWFkLCB3cml0ZSB0aGUgYXN5bmMgZnVuY3Rpb24gaW5zaWRlIHlvdXIgZWZmZWN0IGFuZCBjYWxsIGl0IGltbWVkaWF0ZWx5OlxcblxcblwiICtcbiAgICAgICAgICAgICAgICAgICAgICBob29rTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgXCIoKCkgPT4ge1xcbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hEYXRhKCkge1xcbiAgICAvLyBZb3UgY2FuIGF3YWl0IGhlcmVcXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBNeUFQSS5nZXREYXRhKHNvbWVJZCk7XFxuICAgIC8vIC4uLlxcbiAgfVxcbiAgZmV0Y2hEYXRhKCk7XFxufSwgW3NvbWVJZF0pOyAvLyBPciBbXSBpZiBlZmZlY3QgZG9lc24ndCBuZWVkIHByb3BzIG9yIHN0YXRlXFxuXFxuTGVhcm4gbW9yZSBhYm91dCBkYXRhIGZldGNoaW5nIHdpdGggSG9va3M6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaG9va3MtZGF0YS1mZXRjaGluZ1wiXG4gICAgICAgICAgICAgICAgICAgIDogXCIgWW91IHJldHVybmVkOiBcIiArIGxhc3RFZmZlY3Q7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAobiwgYSkge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCIlcyBtdXN0IG5vdCByZXR1cm4gYW55dGhpbmcgYmVzaWRlcyBhIGZ1bmN0aW9uLCB3aGljaCBpcyB1c2VkIGZvciBjbGVhbi11cC4lc1wiLFxuICAgICAgICAgICAgICAgICAgICBuLFxuICAgICAgICAgICAgICAgICAgICBhXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaG9va05hbWUsXG4gICAgICAgICAgICAgICAgYWRkZW5kdW1cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVwZGF0ZVF1ZXVlID0gdXBkYXRlUXVldWUubmV4dDtcbiAgICAgICAgICB9IHdoaWxlICh1cGRhdGVRdWV1ZSAhPT0gZmlyc3RFZmZlY3QpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgZmxhZ3MsXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUsXG4gICAgICAgICAgbGFzdEVmZmVjdCA9IG51bGwgIT09IHVwZGF0ZVF1ZXVlID8gdXBkYXRlUXVldWUubGFzdEVmZmVjdCA6IG51bGw7XG4gICAgICAgIGlmIChudWxsICE9PSBsYXN0RWZmZWN0KSB7XG4gICAgICAgICAgdmFyIGZpcnN0RWZmZWN0ID0gbGFzdEVmZmVjdC5uZXh0O1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlID0gZmlyc3RFZmZlY3Q7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKCh1cGRhdGVRdWV1ZS50YWcgJiBmbGFncykgPT09IGZsYWdzKSB7XG4gICAgICAgICAgICAgIHZhciBpbnN0ID0gdXBkYXRlUXVldWUuaW5zdCxcbiAgICAgICAgICAgICAgICBkZXN0cm95ID0gaW5zdC5kZXN0cm95O1xuICAgICAgICAgICAgICB2b2lkIDAgIT09IGRlc3Ryb3kgJiZcbiAgICAgICAgICAgICAgICAoKGluc3QuZGVzdHJveSA9IHZvaWQgMCksXG4gICAgICAgICAgICAgICAgKGZsYWdzICYgUGFzc2l2ZSkgIT09IE5vRmxhZ3NcbiAgICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RVbm1vdW50U3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0VW5tb3VudFN0YXJ0ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIDogKGZsYWdzICYgTGF5b3V0KSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0VW5tb3VudFN0YXJ0ZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0VW5tb3VudFN0YXJ0ZWQoXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKGZsYWdzICYgSW5zZXJ0aW9uKSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgICAgKGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCA9ICEwKSxcbiAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNhbGxEZXN0cm95SW5ERVYsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICAgICAgZGVzdHJveVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKGZsYWdzICYgSW5zZXJ0aW9uKSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgICAgKGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCA9ICExKSxcbiAgICAgICAgICAgICAgICAoZmxhZ3MgJiBQYXNzaXZlKSAhPT0gTm9GbGFnc1xuICAgICAgICAgICAgICAgICAgPyBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdFVubW91bnRTdG9wcGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RVbm1vdW50U3RvcHBlZCgpXG4gICAgICAgICAgICAgICAgICA6IChmbGFncyAmIExheW91dCkgIT09IE5vRmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdFVubW91bnRTdG9wcGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudExheW91dEVmZmVjdFVubW91bnRTdG9wcGVkKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlUXVldWUgPSB1cGRhdGVRdWV1ZS5uZXh0O1xuICAgICAgICAgIH0gd2hpbGUgKHVwZGF0ZVF1ZXVlICE9PSBmaXJzdEVmZmVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rUGFzc2l2ZU1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmssIGhvb2tGbGFncykge1xuICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KGhvb2tGbGFncywgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IGNvbW1pdEhvb2tFZmZlY3RMaXN0TW91bnQoaG9va0ZsYWdzLCBmaW5pc2hlZFdvcmspO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rUGFzc2l2ZVVubW91bnRFZmZlY3RzKFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIGhvb2tGbGFnc1xuICAgICkge1xuICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICBob29rRmxhZ3MsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgICAgICAgKSxcbiAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICA6IGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgIGhvb2tGbGFncyxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRDbGFzc0NhbGxiYWNrcyhmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChudWxsICE9PSB1cGRhdGVRdWV1ZSkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICBmaW5pc2hlZFdvcmsudHlwZS5kZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgICBcInJlZlwiIGluIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgICAgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyB8fFxuICAgICAgICAgIChpbnN0YW5jZS5wcm9wcyAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgcHJvcHMgdG8gbWF0Y2ggbWVtb2l6ZWQgcHJvcHMgYmVmb3JlIHByb2Nlc3NpbmcgdGhlIHVwZGF0ZSBxdWV1ZS4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIGluc3RhbmNlLnN0YXRlICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBzdGF0ZSB0byBtYXRjaCBtZW1vaXplZCBzdGF0ZSBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgdXBkYXRlIHF1ZXVlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnN0YXRlYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0Q2FsbGJhY2tzLFxuICAgICAgICAgICAgdXBkYXRlUXVldWUsXG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbEdldFNuYXBzaG90QmVmb3JlVXBkYXRlcyhpbnN0YW5jZSwgcHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdENsYXNzU25hcHNob3QoZmluaXNoZWRXb3JrLCBjdXJyZW50KSB7XG4gICAgICB2YXIgcHJldlByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzLFxuICAgICAgICBwcmV2U3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICBjdXJyZW50ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgIGZpbmlzaGVkV29yay50eXBlLmRlZmF1bHRQcm9wcyB8fFxuICAgICAgICBcInJlZlwiIGluIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgIGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgfHxcbiAgICAgICAgKGN1cnJlbnQucHJvcHMgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgcHJvcHMgdG8gbWF0Y2ggbWVtb2l6ZWQgcHJvcHMgYmVmb3JlIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnByb3BzYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgKSxcbiAgICAgICAgY3VycmVudC5zdGF0ZSAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBzdGF0ZSB0byBtYXRjaCBtZW1vaXplZCBzdGF0ZSBiZWZvcmUgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMuc3RhdGVgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICApKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXNvbHZlZFByZXZQcm9wcyA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuZWxlbWVudFR5cGUgPT09IGZpbmlzaGVkV29yay50eXBlXG4gICAgICAgICk7XG4gICAgICAgIHZhciBzbmFwc2hvdCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICBjYWxsR2V0U25hcHNob3RCZWZvcmVVcGRhdGVzLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgcmVzb2x2ZWRQcmV2UHJvcHMsXG4gICAgICAgICAgcHJldlN0YXRlXG4gICAgICAgICk7XG4gICAgICAgIHByZXZQcm9wcyA9IGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlO1xuICAgICAgICB2b2lkIDAgIT09IHNuYXBzaG90IHx8XG4gICAgICAgICAgcHJldlByb3BzLmhhcyhmaW5pc2hlZFdvcmsudHlwZSkgfHxcbiAgICAgICAgICAocHJldlByb3BzLmFkZChmaW5pc2hlZFdvcmsudHlwZSksXG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZmluaXNoZWRXb3JrLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIiVzLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCk6IEEgc25hcHNob3QgdmFsdWUgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQuIFlvdSBoYXZlIHJldHVybmVkIHVuZGVmaW5lZC5cIixcbiAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgY3VycmVudC5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IHNuYXBzaG90O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNhZmVseUNhbGxDb21wb25lbnRXaWxsVW5tb3VudChcbiAgICAgIGN1cnJlbnQsXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgaW5zdGFuY2VcbiAgICApIHtcbiAgICAgIGluc3RhbmNlLnByb3BzID0gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoXG4gICAgICAgIGN1cnJlbnQudHlwZSxcbiAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzXG4gICAgICApO1xuICAgICAgaW5zdGFuY2Uuc3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICBzaG91bGRQcm9maWxlKGN1cnJlbnQpXG4gICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICBjYWxsQ29tcG9uZW50V2lsbFVubW91bnRJbkRFVixcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICApLFxuICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgIDogcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgY2FsbENvbXBvbmVudFdpbGxVbm1vdW50SW5ERVYsXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0QXR0YWNoUmVmKGZpbmlzaGVkV29yaykge1xuICAgICAgdmFyIHJlZiA9IGZpbmlzaGVkV29yay5yZWY7XG4gICAgICBpZiAobnVsbCAhPT0gcmVmKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWYpXG4gICAgICAgICAgaWYgKHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKSlcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHN0YXJ0RWZmZWN0VGltZXIoKSwgKGZpbmlzaGVkV29yay5yZWZDbGVhbnVwID0gcmVmKGluc3RhbmNlKSk7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgZmluaXNoZWRXb3JrLnJlZkNsZWFudXAgPSByZWYoaW5zdGFuY2UpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHJlZlxuICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFwiU3RyaW5nIHJlZnMgYXJlIG5vIGxvbmdlciBzdXBwb3J0ZWQuXCIpXG4gICAgICAgICAgICA6IHJlZi5oYXNPd25Qcm9wZXJ0eShcImN1cnJlbnRcIikgfHxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgcmVmIG9iamVjdCBwcm92aWRlZCBmb3IgJXMuIFVzZSBlaXRoZXIgYSByZWYtc2V0dGVyIGZ1bmN0aW9uIG9yIFJlYWN0LmNyZWF0ZVJlZigpLlwiLFxuICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKVxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgKHJlZi5jdXJyZW50ID0gaW5zdGFuY2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzYWZlbHlBdHRhY2hSZWYoY3VycmVudCwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoY3VycmVudCwgY29tbWl0QXR0YWNoUmVmLCBjdXJyZW50KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpIHtcbiAgICAgIHZhciByZWYgPSBjdXJyZW50LnJlZixcbiAgICAgICAgcmVmQ2xlYW51cCA9IGN1cnJlbnQucmVmQ2xlYW51cDtcbiAgICAgIGlmIChudWxsICE9PSByZWYpXG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWZDbGVhbnVwKVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoc2hvdWxkUHJvZmlsZShjdXJyZW50KSlcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzdGFydEVmZmVjdFRpbWVyKCksIHJ1bldpdGhGaWJlckluREVWKGN1cnJlbnQsIHJlZkNsZWFudXApO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKGN1cnJlbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHJ1bldpdGhGaWJlckluREVWKGN1cnJlbnQsIHJlZkNsZWFudXApO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLCBlcnJvcik7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIChjdXJyZW50LnJlZkNsZWFudXAgPSBudWxsKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnQgPSBjdXJyZW50LmFsdGVybmF0ZSksXG4gICAgICAgICAgICAgIG51bGwgIT0gY3VycmVudCAmJiAoY3VycmVudC5yZWZDbGVhbnVwID0gbnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWYpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChzaG91bGRQcm9maWxlKGN1cnJlbnQpKVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0YXJ0RWZmZWN0VGltZXIoKSwgcnVuV2l0aEZpYmVySW5ERVYoY3VycmVudCwgcmVmLCBudWxsKTtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbihjdXJyZW50KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBydW5XaXRoRmliZXJJbkRFVihjdXJyZW50LCByZWYsIG51bGwpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yJDYpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yJDYpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSByZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFByb2ZpbGVyKFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgY3VycmVudCxcbiAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgIGVmZmVjdER1cmF0aW9uXG4gICAgKSB7XG4gICAgICB2YXIgX2ZpbmlzaGVkV29yayRtZW1vaXplID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMsXG4gICAgICAgIGlkID0gX2ZpbmlzaGVkV29yayRtZW1vaXplLmlkLFxuICAgICAgICBvbkNvbW1pdCA9IF9maW5pc2hlZFdvcmskbWVtb2l6ZS5vbkNvbW1pdDtcbiAgICAgIF9maW5pc2hlZFdvcmskbWVtb2l6ZSA9IF9maW5pc2hlZFdvcmskbWVtb2l6ZS5vblJlbmRlcjtcbiAgICAgIGN1cnJlbnQgPSBudWxsID09PSBjdXJyZW50ID8gXCJtb3VudFwiIDogXCJ1cGRhdGVcIjtcbiAgICAgIGN1cnJlbnRVcGRhdGVJc05lc3RlZCAmJiAoY3VycmVudCA9IFwibmVzdGVkLXVwZGF0ZVwiKTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9maW5pc2hlZFdvcmskbWVtb2l6ZSAmJlxuICAgICAgICBfZmluaXNoZWRXb3JrJG1lbW9pemUoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuYWN0dWFsRHVyYXRpb24sXG4gICAgICAgICAgZmluaXNoZWRXb3JrLnRyZWVCYXNlRHVyYXRpb24sXG4gICAgICAgICAgZmluaXNoZWRXb3JrLmFjdHVhbFN0YXJ0VGltZSxcbiAgICAgICAgICBjb21taXRTdGFydFRpbWVcbiAgICAgICAgKTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG9uQ29tbWl0ICYmXG4gICAgICAgIG9uQ29tbWl0KFxuICAgICAgICAgIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLmlkLFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgZWZmZWN0RHVyYXRpb24sXG4gICAgICAgICAgY29tbWl0U3RhcnRUaW1lXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFByb2ZpbGVyUG9zdENvbW1pdEltcGwoXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBjdXJyZW50LFxuICAgICAgY29tbWl0U3RhcnRUaW1lLFxuICAgICAgcGFzc2l2ZUVmZmVjdER1cmF0aW9uXG4gICAgKSB7XG4gICAgICB2YXIgX2ZpbmlzaGVkV29yayRtZW1vaXplMiA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgZmluaXNoZWRXb3JrID0gX2ZpbmlzaGVkV29yayRtZW1vaXplMi5pZDtcbiAgICAgIF9maW5pc2hlZFdvcmskbWVtb2l6ZTIgPSBfZmluaXNoZWRXb3JrJG1lbW9pemUyLm9uUG9zdENvbW1pdDtcbiAgICAgIGN1cnJlbnQgPSBudWxsID09PSBjdXJyZW50ID8gXCJtb3VudFwiIDogXCJ1cGRhdGVcIjtcbiAgICAgIGN1cnJlbnRVcGRhdGVJc05lc3RlZCAmJiAoY3VycmVudCA9IFwibmVzdGVkLXVwZGF0ZVwiKTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9maW5pc2hlZFdvcmskbWVtb2l6ZTIgJiZcbiAgICAgICAgX2ZpbmlzaGVkV29yayRtZW1vaXplMihcbiAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBwYXNzaXZlRWZmZWN0RHVyYXRpb24sXG4gICAgICAgICAgY29tbWl0U3RhcnRUaW1lXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvc3RNb3VudChmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciB0eXBlID0gZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgIHByb3BzID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMsXG4gICAgICAgIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICBjb21taXRNb3VudCxcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIHByb3BzLFxuICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvc3RVcGRhdGUoZmluaXNoZWRXb3JrLCBuZXdQcm9wcywgb2xkUHJvcHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICBjb21taXRVcGRhdGUsXG4gICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZSxcbiAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICBvbGRQcm9wcyxcbiAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc0hvc3RQYXJlbnQoZmliZXIpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDUgPT09IGZpYmVyLnRhZyB8fFxuICAgICAgICAzID09PSBmaWJlci50YWcgfHxcbiAgICAgICAgMjYgPT09IGZpYmVyLnRhZyB8fFxuICAgICAgICAyNyA9PT0gZmliZXIudGFnIHx8XG4gICAgICAgIDQgPT09IGZpYmVyLnRhZ1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SG9zdFNpYmxpbmcoZmliZXIpIHtcbiAgICAgIGE6IGZvciAoOzspIHtcbiAgICAgICAgZm9yICg7IG51bGwgPT09IGZpYmVyLnNpYmxpbmc7ICkge1xuICAgICAgICAgIGlmIChudWxsID09PSBmaWJlci5yZXR1cm4gfHwgaXNIb3N0UGFyZW50KGZpYmVyLnJldHVybikpIHJldHVybiBudWxsO1xuICAgICAgICAgIGZpYmVyID0gZmliZXIucmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZpYmVyLnNpYmxpbmcucmV0dXJuID0gZmliZXIucmV0dXJuO1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIGZpYmVyID0gZmliZXIuc2libGluZztcbiAgICAgICAgICA1ICE9PSBmaWJlci50YWcgJiZcbiAgICAgICAgICA2ICE9PSBmaWJlci50YWcgJiZcbiAgICAgICAgICAyNyAhPT0gZmliZXIudGFnICYmXG4gICAgICAgICAgMTggIT09IGZpYmVyLnRhZztcblxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoZmliZXIuZmxhZ3MgJiAyKSBjb250aW51ZSBhO1xuICAgICAgICAgIGlmIChudWxsID09PSBmaWJlci5jaGlsZCB8fCA0ID09PSBmaWJlci50YWcpIGNvbnRpbnVlIGE7XG4gICAgICAgICAgZWxzZSAoZmliZXIuY2hpbGQucmV0dXJuID0gZmliZXIpLCAoZmliZXIgPSBmaWJlci5jaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCEoZmliZXIuZmxhZ3MgJiAyKSkgcmV0dXJuIGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlSW50b0NvbnRhaW5lcihub2RlLCBiZWZvcmUsIHBhcmVudCkge1xuICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgaWYgKDUgPT09IHRhZyB8fCA2ID09PSB0YWcpXG4gICAgICAgIChub2RlID0gbm9kZS5zdGF0ZU5vZGUpLFxuICAgICAgICAgIGJlZm9yZVxuICAgICAgICAgICAgPyA4ID09PSBwYXJlbnQubm9kZVR5cGVcbiAgICAgICAgICAgICAgPyBwYXJlbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlKVxuICAgICAgICAgICAgICA6IHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlKVxuICAgICAgICAgICAgOiAoOCA9PT0gcGFyZW50Lm5vZGVUeXBlXG4gICAgICAgICAgICAgICAgPyAoKGJlZm9yZSA9IHBhcmVudC5wYXJlbnROb2RlKSxcbiAgICAgICAgICAgICAgICAgIGJlZm9yZS5pbnNlcnRCZWZvcmUobm9kZSwgcGFyZW50KSlcbiAgICAgICAgICAgICAgICA6ICgoYmVmb3JlID0gcGFyZW50KSwgYmVmb3JlLmFwcGVuZENoaWxkKG5vZGUpKSxcbiAgICAgICAgICAgICAgKHBhcmVudCA9IHBhcmVudC5fcmVhY3RSb290Q29udGFpbmVyKSxcbiAgICAgICAgICAgICAgKG51bGwgIT09IHBhcmVudCAmJiB2b2lkIDAgIT09IHBhcmVudCkgfHxcbiAgICAgICAgICAgICAgICBudWxsICE9PSBiZWZvcmUub25jbGljayB8fFxuICAgICAgICAgICAgICAgIChiZWZvcmUub25jbGljayA9IG5vb3AkMSkpO1xuICAgICAgZWxzZSBpZiAoNCAhPT0gdGFnICYmIDI3ICE9PSB0YWcgJiYgKChub2RlID0gbm9kZS5jaGlsZCksIG51bGwgIT09IG5vZGUpKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZUludG9Db250YWluZXIobm9kZSwgYmVmb3JlLCBwYXJlbnQpLFxuICAgICAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgICAgICBudWxsICE9PSBub2RlO1xuXG4gICAgICAgIClcbiAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGVJbnRvQ29udGFpbmVyKG5vZGUsIGJlZm9yZSwgcGFyZW50KSxcbiAgICAgICAgICAgIChub2RlID0gbm9kZS5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlKG5vZGUsIGJlZm9yZSwgcGFyZW50KSB7XG4gICAgICB2YXIgdGFnID0gbm9kZS50YWc7XG4gICAgICBpZiAoNSA9PT0gdGFnIHx8IDYgPT09IHRhZylcbiAgICAgICAgKG5vZGUgPSBub2RlLnN0YXRlTm9kZSksXG4gICAgICAgICAgYmVmb3JlID8gcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBiZWZvcmUpIDogcGFyZW50LmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgZWxzZSBpZiAoNCAhPT0gdGFnICYmIDI3ICE9PSB0YWcgJiYgKChub2RlID0gbm9kZS5jaGlsZCksIG51bGwgIT09IG5vZGUpKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZShub2RlLCBiZWZvcmUsIHBhcmVudCksXG4gICAgICAgICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgICAgIG51bGwgIT09IG5vZGU7XG5cbiAgICAgICAgKVxuICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZShub2RlLCBiZWZvcmUsIHBhcmVudCksXG4gICAgICAgICAgICAobm9kZSA9IG5vZGUuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFBsYWNlbWVudChmaW5pc2hlZFdvcmspIHtcbiAgICAgIGlmICgyNyAhPT0gZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBhOiB7XG4gICAgICAgICAgZm9yICh2YXIgcGFyZW50ID0gZmluaXNoZWRXb3JrLnJldHVybjsgbnVsbCAhPT0gcGFyZW50OyApIHtcbiAgICAgICAgICAgIGlmIChpc0hvc3RQYXJlbnQocGFyZW50KSkge1xuICAgICAgICAgICAgICB2YXIgcGFyZW50RmliZXIgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gZmluZCBhIGhvc3QgcGFyZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHBhcmVudEZpYmVyLnRhZykge1xuICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBwYXJlbnRGaWJlciA9IGdldEhvc3RTaWJsaW5nKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGUoZmluaXNoZWRXb3JrLCBwYXJlbnRGaWJlciwgcGFyZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHBhcmVudEZpYmVyLmZsYWdzICYgMzIgJiZcbiAgICAgICAgICAgICAgKHJlc2V0VGV4dENvbnRlbnQocGFyZW50KSwgKHBhcmVudEZpYmVyLmZsYWdzICY9IC0zMykpO1xuICAgICAgICAgICAgcGFyZW50RmliZXIgPSBnZXRIb3N0U2libGluZyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlKGZpbmlzaGVkV29yaywgcGFyZW50RmliZXIsIHBhcmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICBwYXJlbnRGaWJlciA9IGdldEhvc3RTaWJsaW5nKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGVJbnRvQ29udGFpbmVyKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgICBwYXJlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSW52YWxpZCBob3N0IHBhcmVudCBmaWJlci4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRCZWZvcmVNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmlyc3RDaGlsZCkge1xuICAgICAgcm9vdCA9IHJvb3QuY29udGFpbmVySW5mbztcbiAgICAgIGV2ZW50c0VuYWJsZWQgPSBfZW5hYmxlZDtcbiAgICAgIHJvb3QgPSBnZXRBY3RpdmVFbGVtZW50RGVlcChyb290KTtcbiAgICAgIGlmIChoYXNTZWxlY3Rpb25DYXBhYmlsaXRpZXMocm9vdCkpIHtcbiAgICAgICAgaWYgKFwic2VsZWN0aW9uU3RhcnRcIiBpbiByb290KVxuICAgICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXAgPSB7XG4gICAgICAgICAgICBzdGFydDogcm9vdC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICAgIGVuZDogcm9vdC5zZWxlY3Rpb25FbmRcbiAgICAgICAgICB9O1xuICAgICAgICBlbHNlXG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID1cbiAgICAgICAgICAgICAgKChKU0NvbXBpbGVyX3RlbXAgPSByb290Lm93bmVyRG9jdW1lbnQpICYmXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLmRlZmF1bHRWaWV3KSB8fFxuICAgICAgICAgICAgICB3aW5kb3c7XG4gICAgICAgICAgICB2YXIgc2VsZWN0aW9uID1cbiAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLmdldFNlbGVjdGlvbiAmJiBKU0NvbXBpbGVyX3RlbXAuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIDAgIT09IHNlbGVjdGlvbi5yYW5nZUNvdW50KSB7XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IHNlbGVjdGlvbi5hbmNob3JOb2RlO1xuICAgICAgICAgICAgICB2YXIgYW5jaG9yT2Zmc2V0ID0gc2VsZWN0aW9uLmFuY2hvck9mZnNldCxcbiAgICAgICAgICAgICAgICBmb2N1c05vZGUgPSBzZWxlY3Rpb24uZm9jdXNOb2RlO1xuICAgICAgICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZm9jdXNPZmZzZXQ7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wLm5vZGVUeXBlLCBmb2N1c05vZGUubm9kZVR5cGU7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUkMikge1xuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gMCxcbiAgICAgICAgICAgICAgICBzdGFydCA9IC0xLFxuICAgICAgICAgICAgICAgIGVuZCA9IC0xLFxuICAgICAgICAgICAgICAgIGluZGV4V2l0aGluQW5jaG9yID0gMCxcbiAgICAgICAgICAgICAgICBpbmRleFdpdGhpbkZvY3VzID0gMCxcbiAgICAgICAgICAgICAgICBub2RlID0gcm9vdCxcbiAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgYjogZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIG5leHQ7IDsgKSB7XG4gICAgICAgICAgICAgICAgICBub2RlICE9PSBKU0NvbXBpbGVyX3RlbXAgfHxcbiAgICAgICAgICAgICAgICAgICAgKDAgIT09IGFuY2hvck9mZnNldCAmJiAzICE9PSBub2RlLm5vZGVUeXBlKSB8fFxuICAgICAgICAgICAgICAgICAgICAoc3RhcnQgPSBsZW5ndGggKyBhbmNob3JPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgbm9kZSAhPT0gZm9jdXNOb2RlIHx8XG4gICAgICAgICAgICAgICAgICAgICgwICE9PSBzZWxlY3Rpb24gJiYgMyAhPT0gbm9kZS5ub2RlVHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKGVuZCA9IGxlbmd0aCArIHNlbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgICAzID09PSBub2RlLm5vZGVUeXBlICYmIChsZW5ndGggKz0gbm9kZS5ub2RlVmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSAobmV4dCA9IG5vZGUuZmlyc3RDaGlsZCkpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9IG5vZGU7XG4gICAgICAgICAgICAgICAgICBub2RlID0gbmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgICAgaWYgKG5vZGUgPT09IHJvb3QpIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICBwYXJlbnROb2RlID09PSBKU0NvbXBpbGVyX3RlbXAgJiZcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleFdpdGhpbkFuY2hvciA9PT0gYW5jaG9yT2Zmc2V0ICYmXG4gICAgICAgICAgICAgICAgICAgIChzdGFydCA9IGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICBwYXJlbnROb2RlID09PSBmb2N1c05vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgKytpbmRleFdpdGhpbkZvY3VzID09PSBzZWxlY3Rpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgKGVuZCA9IGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gKG5leHQgPSBub2RlLm5leHRTaWJsaW5nKSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBub2RlID0gcGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBuZXh0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9XG4gICAgICAgICAgICAgICAgLTEgPT09IHN0YXJ0IHx8IC0xID09PSBlbmQgPyBudWxsIDogeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH07XG4gICAgICAgICAgICB9IGVsc2UgSlNDb21waWxlcl90ZW1wID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IEpTQ29tcGlsZXJfdGVtcCB8fCB7IHN0YXJ0OiAwLCBlbmQ6IDAgfTtcbiAgICAgIH0gZWxzZSBKU0NvbXBpbGVyX3RlbXAgPSBudWxsO1xuICAgICAgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSB7XG4gICAgICAgIGZvY3VzZWRFbGVtOiByb290LFxuICAgICAgICBzZWxlY3Rpb25SYW5nZTogSlNDb21waWxlcl90ZW1wXG4gICAgICB9O1xuICAgICAgX2VuYWJsZWQgPSAhMTtcbiAgICAgIGZvciAobmV4dEVmZmVjdCA9IGZpcnN0Q2hpbGQ7IG51bGwgIT09IG5leHRFZmZlY3Q7IClcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgoZmlyc3RDaGlsZCA9IG5leHRFZmZlY3QpLFxuICAgICAgICAgIChyb290ID0gZmlyc3RDaGlsZC5jaGlsZCksXG4gICAgICAgICAgMCAhPT0gKGZpcnN0Q2hpbGQuc3VidHJlZUZsYWdzICYgMTAyOCkgJiYgbnVsbCAhPT0gcm9vdClcbiAgICAgICAgKVxuICAgICAgICAgIChyb290LnJldHVybiA9IGZpcnN0Q2hpbGQpLCAobmV4dEVmZmVjdCA9IHJvb3QpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZm9yICg7IG51bGwgIT09IG5leHRFZmZlY3Q7ICkge1xuICAgICAgICAgICAgcm9vdCA9IGZpcnN0Q2hpbGQgPSBuZXh0RWZmZWN0O1xuICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gcm9vdC5hbHRlcm5hdGU7XG4gICAgICAgICAgICBhbmNob3JPZmZzZXQgPSByb290LmZsYWdzO1xuICAgICAgICAgICAgc3dpdGNoIChyb290LnRhZykge1xuICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAwICE9PSAoYW5jaG9yT2Zmc2V0ICYgMTAyNCkgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfdGVtcCAmJlxuICAgICAgICAgICAgICAgICAgY29tbWl0Q2xhc3NTbmFwc2hvdChyb290LCBKU0NvbXBpbGVyX3RlbXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgaWYgKDAgIT09IChhbmNob3JPZmZzZXQgJiAxMDI0KSlcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKChyb290ID0gcm9vdC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyksXG4gICAgICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPSByb290Lm5vZGVUeXBlKSxcbiAgICAgICAgICAgICAgICAgICAgOSA9PT0gSlNDb21waWxlcl90ZW1wKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRhaW5lclNwYXJpbmdseShyb290KTtcbiAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKDEgPT09IEpTQ29tcGlsZXJfdGVtcClcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyb290Lm5vZGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhFQURcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSFRNTFwiOlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJCT0RZXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckNvbnRhaW5lclNwYXJpbmdseShyb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByb290LnRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICgwICE9PSAoYW5jaG9yT2Zmc2V0ICYgMTAyNCkpXG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJUaGlzIHVuaXQgb2Ygd29yayB0YWcgc2hvdWxkIG5vdCBoYXZlIHNpZGUtZWZmZWN0cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3QgPSBmaXJzdENoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gcm9vdCkge1xuICAgICAgICAgICAgICByb290LnJldHVybiA9IGZpcnN0Q2hpbGQucmV0dXJuO1xuICAgICAgICAgICAgICBuZXh0RWZmZWN0ID0gcm9vdDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0RWZmZWN0ID0gZmlyc3RDaGlsZC5yZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgZmlyc3RDaGlsZCA9IHNob3VsZEZpcmVBZnRlckFjdGl2ZUluc3RhbmNlQmx1cjtcbiAgICAgIHNob3VsZEZpcmVBZnRlckFjdGl2ZUluc3RhbmNlQmx1ciA9ICExO1xuICAgICAgcmV0dXJuIGZpcnN0Q2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdExheW91dEVmZmVjdE9uRmliZXIoZmluaXNoZWRSb290LCBjdXJyZW50LCBmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgY29tbWl0SG9va0xheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCBMYXlvdXQgfCBIYXNFZmZlY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGlmIChmbGFncyAmIDQpXG4gICAgICAgICAgICBpZiAoKChmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKSwgbnVsbCA9PT0gY3VycmVudCkpXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLmRlZmF1bHRQcm9wcyB8fFxuICAgICAgICAgICAgICAgIFwicmVmXCIgaW4gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgfHxcbiAgICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzIHx8XG4gICAgICAgICAgICAgICAgKGZpbmlzaGVkUm9vdC5wcm9wcyAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgcHJvcHMgdG8gbWF0Y2ggbWVtb2l6ZWQgcHJvcHMgYmVmb3JlIGNvbXBvbmVudERpZE1vdW50LiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnByb3BzYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LnN0YXRlICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBzdGF0ZSB0byBtYXRjaCBtZW1vaXplZCBzdGF0ZSBiZWZvcmUgY29tcG9uZW50RGlkTW91bnQuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMuc3RhdGVgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkTW91bnRJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgICAgICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsQ29tcG9uZW50RGlkTW91bnRJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHByZXZQcm9wcyA9IHJlc29sdmVDbGFzc0NvbXBvbmVudFByb3BzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZS5kZWZhdWx0UHJvcHMgfHxcbiAgICAgICAgICAgICAgICBcInJlZlwiIGluIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgICAgICAgICAgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyB8fFxuICAgICAgICAgICAgICAgIChmaW5pc2hlZFJvb3QucHJvcHMgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHByb3BzIHRvIG1hdGNoIG1lbW9pemVkIHByb3BzIGJlZm9yZSBjb21wb25lbnREaWRVcGRhdGUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMucHJvcHNgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3Quc3RhdGUgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHN0YXRlIHRvIG1hdGNoIG1lbW9pemVkIHN0YXRlIGJlZm9yZSBjb21wb25lbnREaWRVcGRhdGUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMuc3RhdGVgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICAgICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgIGNhbGxDb21wb25lbnREaWRVcGRhdGVJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290Ll9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgICAgICAgICA6IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgIGNhbGxDb21wb25lbnREaWRVcGRhdGVJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290Ll9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGZsYWdzICYgNjQgJiYgY29tbWl0Q2xhc3NDYWxsYmFja3MoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJiBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGN1cnJlbnQgPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZsYWdzICYgNjQgJiZcbiAgICAgICAgICAgICgoZmxhZ3MgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUpLCBudWxsICE9PSBmbGFncylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHByZXZQcm9wcyA9IG51bGw7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gZmluaXNoZWRXb3JrLmNoaWxkKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay5jaGlsZC50YWcpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgIHByZXZQcm9wcyA9IGZpbmlzaGVkV29yay5jaGlsZC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICBwcmV2UHJvcHMgPSBmaW5pc2hlZFdvcmsuY2hpbGQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0Q2FsbGJhY2tzLFxuICAgICAgICAgICAgICAgIGZsYWdzLFxuICAgICAgICAgICAgICAgIHByZXZQcm9wc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpbmlzaGVkUm9vdC5lZmZlY3REdXJhdGlvbiArPSBwb3BOZXN0ZWRFZmZlY3REdXJhdGlvbnMoY3VycmVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiYgZmxhZ3MgJiA0ICYmIGNvbW1pdEhvc3RNb3VudChmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIGlmIChmbGFncyAmIDQpIHtcbiAgICAgICAgICAgIGZsYWdzID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5lZmZlY3REdXJhdGlvbiArPSBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMoZmxhZ3MpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdFByb2ZpbGVyLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QuZWZmZWN0RHVyYXRpb25cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgY29tbWl0U3VzcGVuc2VIeWRyYXRpb25DYWxsYmFja3MoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHByZXZQcm9wcyA9XG4gICAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSB8fCBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW47XG4gICAgICAgICAgaWYgKCFwcmV2UHJvcHMpIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPVxuICAgICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpIHx8XG4gICAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW47XG4gICAgICAgICAgICB2YXIgcHJldk9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbixcbiAgICAgICAgICAgICAgcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuO1xuICAgICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gcHJldlByb3BzO1xuICAgICAgICAgICAgKG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBjdXJyZW50KSAmJlxuICAgICAgICAgICAgIXByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuXG4gICAgICAgICAgICAgID8gcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIDAgIT09IChmaW5pc2hlZFdvcmsuc3VidHJlZUZsYWdzICYgODc3MilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gcHJldk9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbjtcbiAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBwcmV2T2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbjtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiZcbiAgICAgICAgICAgIChcIm1hbnVhbFwiID09PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcy5tb2RlXG4gICAgICAgICAgICAgID8gc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybilcbiAgICAgICAgICAgICAgOiBzYWZlbHlEZXRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhY2hGaWJlckFmdGVyRWZmZWN0cyhmaWJlcikge1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJlxuICAgICAgICAoKGZpYmVyLmFsdGVybmF0ZSA9IG51bGwpLCBkZXRhY2hGaWJlckFmdGVyRWZmZWN0cyhhbHRlcm5hdGUpKTtcbiAgICAgIGZpYmVyLmNoaWxkID0gbnVsbDtcbiAgICAgIGZpYmVyLmRlbGV0aW9ucyA9IG51bGw7XG4gICAgICBmaWJlci5zaWJsaW5nID0gbnVsbDtcbiAgICAgIDUgPT09IGZpYmVyLnRhZyAmJlxuICAgICAgICAoKGFsdGVybmF0ZSA9IGZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiBkZXRhY2hEZWxldGVkSW5zdGFuY2UoYWx0ZXJuYXRlKSk7XG4gICAgICBmaWJlci5zdGF0ZU5vZGUgPSBudWxsO1xuICAgICAgZmliZXIuX2RlYnVnT3duZXIgPSBudWxsO1xuICAgICAgZmliZXIucmV0dXJuID0gbnVsbDtcbiAgICAgIGZpYmVyLmRlcGVuZGVuY2llcyA9IG51bGw7XG4gICAgICBmaWJlci5tZW1vaXplZFByb3BzID0gbnVsbDtcbiAgICAgIGZpYmVyLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuICAgICAgZmliZXIucGVuZGluZ1Byb3BzID0gbnVsbDtcbiAgICAgIGZpYmVyLnN0YXRlTm9kZSA9IG51bGw7XG4gICAgICBmaWJlci51cGRhdGVRdWV1ZSA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgcGFyZW50XG4gICAgKSB7XG4gICAgICBmb3IgKHBhcmVudCA9IHBhcmVudC5jaGlsZDsgbnVsbCAhPT0gcGFyZW50OyApXG4gICAgICAgIGNvbW1pdERlbGV0aW9uRWZmZWN0c09uRmliZXIoXG4gICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgcGFyZW50XG4gICAgICAgICksXG4gICAgICAgICAgKHBhcmVudCA9IHBhcmVudC5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0RGVsZXRpb25FZmZlY3RzT25GaWJlcihcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICBkZWxldGVkRmliZXJcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgaW5qZWN0ZWRIb29rICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkSG9vay5vbkNvbW1pdEZpYmVyVW5tb3VudFxuICAgICAgKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGluamVjdGVkSG9vay5vbkNvbW1pdEZpYmVyVW5tb3VudChyZW5kZXJlcklELCBkZWxldGVkRmliZXIpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBoYXNMb2dnZWRFcnJvciB8fFxuICAgICAgICAgICAgKChoYXNMb2dnZWRFcnJvciA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlc1wiLFxuICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICBzd2l0Y2ggKGRlbGV0ZWRGaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZGVsZXRlZEZpYmVyLCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgZGVsZXRlZEZpYmVyLm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgID8gZGVsZXRlZEZpYmVyLm1lbW9pemVkU3RhdGUuY291bnQtLVxuICAgICAgICAgICAgOiBkZWxldGVkRmliZXIuc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICgoZGVsZXRlZEZpYmVyID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgIGRlbGV0ZWRGaWJlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGRlbGV0ZWRGaWJlcikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihkZWxldGVkRmliZXIsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpO1xuICAgICAgICAgIHZhciBwcmV2SG9zdFBhcmVudCA9IGhvc3RQYXJlbnQsXG4gICAgICAgICAgICBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyID0gaG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkZWxldGVkRmliZXIgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIGZvciAoZmluaXNoZWRSb290ID0gZGVsZXRlZEZpYmVyLmF0dHJpYnV0ZXM7IGZpbmlzaGVkUm9vdC5sZW5ndGg7IClcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlci5yZW1vdmVBdHRyaWJ1dGVOb2RlKGZpbmlzaGVkUm9vdFswXSk7XG4gICAgICAgICAgZGV0YWNoRGVsZXRlZEluc3RhbmNlKGRlbGV0ZWRGaWJlcik7XG4gICAgICAgICAgaG9zdFBhcmVudCA9IHByZXZIb3N0UGFyZW50O1xuICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IHByZXZIb3N0UGFyZW50SXNDb250YWluZXI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZGVsZXRlZEZpYmVyLCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKTtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIHByZXZIb3N0UGFyZW50ID0gaG9zdFBhcmVudDtcbiAgICAgICAgICBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyID0gaG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBudWxsO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBob3N0UGFyZW50ID0gcHJldkhvc3RQYXJlbnQ7XG4gICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gaG9zdFBhcmVudClcbiAgICAgICAgICAgIGlmIChob3N0UGFyZW50SXNDb250YWluZXIpXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW1vdmVDaGlsZEZyb21Db250YWluZXIsXG4gICAgICAgICAgICAgICAgICBob3N0UGFyZW50LFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLnN0YXRlTm9kZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW1vdmVDaGlsZCxcbiAgICAgICAgICAgICAgICAgIGhvc3RQYXJlbnQsXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIuc3RhdGVOb2RlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICBudWxsICE9PSBob3N0UGFyZW50ICYmXG4gICAgICAgICAgICAoaG9zdFBhcmVudElzQ29udGFpbmVyXG4gICAgICAgICAgICAgID8gKChmaW5pc2hlZFJvb3QgPSBob3N0UGFyZW50KSxcbiAgICAgICAgICAgICAgICAoZGVsZXRlZEZpYmVyID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgICAgOCA9PT0gZmluaXNoZWRSb290Lm5vZGVUeXBlXG4gICAgICAgICAgICAgICAgICA/IGNsZWFyU3VzcGVuc2VCb3VuZGFyeShmaW5pc2hlZFJvb3QucGFyZW50Tm9kZSwgZGVsZXRlZEZpYmVyKVxuICAgICAgICAgICAgICAgICAgOiAxID09PSBmaW5pc2hlZFJvb3Qubm9kZVR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJTdXNwZW5zZUJvdW5kYXJ5KGZpbmlzaGVkUm9vdCwgZGVsZXRlZEZpYmVyKSxcbiAgICAgICAgICAgICAgICByZXRyeUlmQmxvY2tlZE9uKGZpbmlzaGVkUm9vdCkpXG4gICAgICAgICAgICAgIDogY2xlYXJTdXNwZW5zZUJvdW5kYXJ5KGhvc3RQYXJlbnQsIGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHByZXZIb3N0UGFyZW50ID0gaG9zdFBhcmVudDtcbiAgICAgICAgICBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyID0gaG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gITA7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBwcmV2SG9zdFBhcmVudDtcbiAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgICAgICAgICBJbnNlcnRpb24sXG4gICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBjb21taXRIb29rTGF5b3V0VW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgTGF5b3V0XG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIChzYWZlbHlEZXRhY2hSZWYoZGVsZXRlZEZpYmVyLCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKSxcbiAgICAgICAgICAgIChwcmV2SG9zdFBhcmVudCA9IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJldkhvc3RQYXJlbnQuY29tcG9uZW50V2lsbFVubW91bnQgJiZcbiAgICAgICAgICAgICAgc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KFxuICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICAgIHByZXZIb3N0UGFyZW50XG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGRlbGV0ZWRGaWJlciwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcik7XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9XG4gICAgICAgICAgICAocHJldkhvc3RQYXJlbnQgPSBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuKSB8fFxuICAgICAgICAgICAgbnVsbCAhPT0gZGVsZXRlZEZpYmVyLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBwcmV2SG9zdFBhcmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFN1c3BlbnNlSHlkcmF0aW9uQ2FsbGJhY2tzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICgoZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZSksXG4gICAgICAgIG51bGwgIT09IGZpbmlzaGVkUm9vdCAmJlxuICAgICAgICAgICgoZmluaXNoZWRSb290ID0gZmluaXNoZWRSb290Lm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkUm9vdCAmJlxuICAgICAgICAgICAgKChmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFJvb3QuZGVoeWRyYXRlZCksIG51bGwgIT09IGZpbmlzaGVkUm9vdCkpKVxuICAgICAgKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0SHlkcmF0ZWRTdXNwZW5zZUluc3RhbmNlLFxuICAgICAgICAgICAgZmluaXNoZWRSb290XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSZXRyeUNhY2hlKGZpbmlzaGVkV29yaykge1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgdmFyIHJldHJ5Q2FjaGUgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIG51bGwgPT09IHJldHJ5Q2FjaGUgJiZcbiAgICAgICAgICAgIChyZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSA9IG5ldyBQb3NzaWJseVdlYWtTZXQoKSk7XG4gICAgICAgICAgcmV0dXJuIHJldHJ5Q2FjaGU7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChmaW5pc2hlZFdvcmsgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgIChyZXRyeUNhY2hlID0gZmluaXNoZWRXb3JrLl9yZXRyeUNhY2hlKSxcbiAgICAgICAgICAgIG51bGwgPT09IHJldHJ5Q2FjaGUgJiZcbiAgICAgICAgICAgICAgKHJldHJ5Q2FjaGUgPSBmaW5pc2hlZFdvcmsuX3JldHJ5Q2FjaGUgPSBuZXcgUG9zc2libHlXZWFrU2V0KCkpLFxuICAgICAgICAgICAgcmV0cnlDYWNoZVxuICAgICAgICAgICk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlVuZXhwZWN0ZWQgU3VzcGVuc2UgaGFuZGxlciB0YWcgKFwiICtcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnRhZyArXG4gICAgICAgICAgICAgIFwiKS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrLCB3YWtlYWJsZXMpIHtcbiAgICAgIHZhciByZXRyeUNhY2hlID0gZ2V0UmV0cnlDYWNoZShmaW5pc2hlZFdvcmspO1xuICAgICAgd2FrZWFibGVzLmZvckVhY2goZnVuY3Rpb24gKHdha2VhYmxlKSB7XG4gICAgICAgIHZhciByZXRyeSA9IHJlc29sdmVSZXRyeVdha2VhYmxlLmJpbmQobnVsbCwgZmluaXNoZWRXb3JrLCB3YWtlYWJsZSk7XG4gICAgICAgIGlmICghcmV0cnlDYWNoZS5oYXMod2FrZWFibGUpKSB7XG4gICAgICAgICAgcmV0cnlDYWNoZS5hZGQod2FrZWFibGUpO1xuICAgICAgICAgIGlmIChpc0RldlRvb2xzUHJlc2VudClcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBpblByb2dyZXNzTGFuZXMgJiYgbnVsbCAhPT0gaW5Qcm9ncmVzc1Jvb3QpXG4gICAgICAgICAgICAgIHJlc3RvcmVQZW5kaW5nVXBkYXRlcnMoaW5Qcm9ncmVzc1Jvb3QsIGluUHJvZ3Jlc3NMYW5lcyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgZmluaXNoZWQgcm9vdCBhbmQgbGFuZXMgdG8gYmUgc2V0LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgd2FrZWFibGUudGhlbihyZXRyeSwgcmV0cnkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0TXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yaywgY29tbWl0dGVkTGFuZXMpIHtcbiAgICAgIGluUHJvZ3Jlc3NMYW5lcyA9IGNvbW1pdHRlZExhbmVzO1xuICAgICAgaW5Qcm9ncmVzc1Jvb3QgPSByb290O1xuICAgICAgY29tbWl0TXV0YXRpb25FZmZlY3RzT25GaWJlcihmaW5pc2hlZFdvcmssIHJvb3QpO1xuICAgICAgaW5Qcm9ncmVzc1Jvb3QgPSBpblByb2dyZXNzTGFuZXMgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QkanNjb21wJDAsIHBhcmVudEZpYmVyKSB7XG4gICAgICB2YXIgZGVsZXRpb25zID0gcGFyZW50RmliZXIuZGVsZXRpb25zO1xuICAgICAgaWYgKG51bGwgIT09IGRlbGV0aW9ucylcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxldGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgcm9vdCA9IHJvb3QkanNjb21wJDAsXG4gICAgICAgICAgICByZXR1cm5GaWJlciA9IHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyID0gZGVsZXRpb25zW2ldLFxuICAgICAgICAgICAgcGFyZW50ID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgYTogZm9yICg7IG51bGwgIT09IHBhcmVudDsgKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcmVudC50YWcpIHtcbiAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICExO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICEwO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBob3N0UGFyZW50ID0gcGFyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvO1xuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICEwO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobnVsbCA9PT0gaG9zdFBhcmVudClcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGZpbmQgYSBob3N0IHBhcmVudC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjb21taXREZWxldGlvbkVmZmVjdHNPbkZpYmVyKHJvb3QsIHJldHVybkZpYmVyLCBkZWxldGVkRmliZXIpO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBudWxsO1xuICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9ICExO1xuICAgICAgICAgIHJvb3QgPSBkZWxldGVkRmliZXI7XG4gICAgICAgICAgcmV0dXJuRmliZXIgPSByb290LmFsdGVybmF0ZTtcbiAgICAgICAgICBudWxsICE9PSByZXR1cm5GaWJlciAmJiAocmV0dXJuRmliZXIucmV0dXJuID0gbnVsbCk7XG4gICAgICAgICAgcm9vdC5yZXR1cm4gPSBudWxsO1xuICAgICAgICB9XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTM4NzgpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgICBjb21taXRNdXRhdGlvbkVmZmVjdHNPbkZpYmVyKHBhcmVudEZpYmVyLCByb290JGpzY29tcCQwKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRNdXRhdGlvbkVmZmVjdHNPbkZpYmVyKGZpbmlzaGVkV29yaywgcm9vdCkge1xuICAgICAgdmFyIGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgKGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgICAgSW5zZXJ0aW9uIHwgSGFzRWZmZWN0LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5yZXR1cm5cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdE1vdW50KEluc2VydGlvbiB8IEhhc0VmZmVjdCwgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICAgIGNvbW1pdEhvb2tMYXlvdXRVbm1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuLFxuICAgICAgICAgICAgICBMYXlvdXQgfCBIYXNFZmZlY3RcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmXG4gICAgICAgICAgICAob2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50LCBjdXJyZW50LnJldHVybikpO1xuICAgICAgICAgIGZsYWdzICYgNjQgJiZcbiAgICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiAmJlxuICAgICAgICAgICAgKChmaW5pc2hlZFdvcmsgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrICYmXG4gICAgICAgICAgICAgICgoZmxhZ3MgPSBmaW5pc2hlZFdvcmsuY2FsbGJhY2tzKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAoKGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsuc2hhcmVkLmhpZGRlbkNhbGxiYWNrcyksXG4gICAgICAgICAgICAgICAgKGZpbmlzaGVkV29yay5zaGFyZWQuaGlkZGVuQ2FsbGJhY2tzID1cbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgPyBmbGFncyA6IGN1cnJlbnQuY29uY2F0KGZsYWdzKSkpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgdmFyIGhvaXN0YWJsZVJvb3QgPSBjdXJyZW50SG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiZcbiAgICAgICAgICAgIChvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQsIGN1cnJlbnQucmV0dXJuKSk7XG4gICAgICAgICAgaWYgKGZsYWdzICYgNClcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChyb290ID0gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSA6IG51bGwpLFxuICAgICAgICAgICAgICAoZmxhZ3MgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIGlmIChudWxsID09PSBmbGFncylcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSkge1xuICAgICAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgICAgICBmbGFncyA9IGZpbmlzaGVkV29yay50eXBlO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICAgICAgICAgICAgYjogc3dpdGNoIChmbGFncykge1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0aXRsZVwiKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIWhvaXN0YWJsZVJvb3QgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFtpbnRlcm5hbEhvaXN0YWJsZU1hcmtlcl0gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFtpbnRlcm5hbEluc3RhbmNlS2V5XSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290Lm5hbWVzcGFjZVVSSSA9PT0gU1ZHX05BTUVTUEFDRSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290Lmhhc0F0dHJpYnV0ZShcIml0ZW1wcm9wXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChob2lzdGFibGVSb290ID0gcm9vdC5jcmVhdGVFbGVtZW50KGZsYWdzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5oZWFkLmluc2VydEJlZm9yZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290LnF1ZXJ5U2VsZWN0b3IoXCJoZWFkID4gdGl0bGVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaG9pc3RhYmxlUm9vdCwgZmxhZ3MsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncyA9IGhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF5YmVOb2RlcyA9IGdldEh5ZHJhdGFibGVIb2lzdGFibGVDYWNoZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsaW5rXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiaHJlZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByb290XG4gICAgICAgICAgICAgICAgICAgICAgICApLmdldChmbGFncyArIChjdXJyZW50LmhyZWYgfHwgXCJcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heWJlTm9kZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF5YmVOb2Rlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGhvaXN0YWJsZVJvb3QgPSBtYXliZU5vZGVzW2ldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5ocmVmID8gbnVsbCA6IGN1cnJlbnQuaHJlZikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJyZWxcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5yZWwgPyBudWxsIDogY3VycmVudC5yZWwpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwidGl0bGVcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC50aXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQudGl0bGUpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5jcm9zc09yaWdpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQuY3Jvc3NPcmlnaW4pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVOb2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSByb290LmNyZWF0ZUVsZW1lbnQoZmxhZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaG9pc3RhYmxlUm9vdCwgZmxhZ3MsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5oZWFkLmFwcGVuZENoaWxkKGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKG1heWJlTm9kZXMgPSBnZXRIeWRyYXRhYmxlSG9pc3RhYmxlQ2FjaGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtZXRhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLmdldChmbGFncyArIChjdXJyZW50LmNvbnRlbnQgfHwgXCJcIikpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbWF5YmVOb2Rlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGhvaXN0YWJsZVJvb3QgPSBtYXliZU5vZGVzW2ldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQuY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIiArIGN1cnJlbnQuY29udGVudCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQubmFtZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJwcm9wZXJ0eVwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LnByb3BlcnR5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5wcm9wZXJ0eSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJodHRwLWVxdWl2XCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQuaHR0cEVxdWl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5odHRwRXF1aXYpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwiY2hhcnNldFwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LmNoYXJTZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LmNoYXJTZXQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVOb2Rlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSByb290LmNyZWF0ZUVsZW1lbnQoZmxhZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaG9pc3RhYmxlUm9vdCwgZmxhZ3MsIGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5oZWFkLmFwcGVuZENoaWxkKGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnZ2V0Tm9kZXNGb3JUeXBlIGVuY291bnRlcmVkIGEgdHlwZSBpdCBkaWQgbm90IGV4cGVjdDogXCInICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFncyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1wiLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LidcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdFtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgICAgICAgICAgZmxhZ3MgPSBob2lzdGFibGVSb290O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZSA9IGZsYWdzO1xuICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgbW91bnRIb2lzdGFibGUoXG4gICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZSA9IGFjcXVpcmVSZXNvdXJjZShcbiAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgICBmbGFncyxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgcm9vdCAhPT0gZmxhZ3NcbiAgICAgICAgICAgICAgICA/IChudWxsID09PSByb290XG4gICAgICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gY3VycmVudC5zdGF0ZU5vZGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50LnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGN1cnJlbnQpKVxuICAgICAgICAgICAgICAgICAgICA6IHJvb3QuY291bnQtLSxcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IGZsYWdzXG4gICAgICAgICAgICAgICAgICAgID8gbW91bnRIb2lzdGFibGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LFxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6IGFjcXVpcmVSZXNvdXJjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICA6IG51bGwgPT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICAgICBjb21taXRIb3N0VXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgaWYgKGZsYWdzICYgNCAmJiBudWxsID09PSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlKSB7XG4gICAgICAgICAgICBob2lzdGFibGVSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIG1heWJlTm9kZXMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvciAoaSA9IGhvaXN0YWJsZVJvb3QuZmlyc3RDaGlsZDsgaTsgKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHROb2RlID0gaS5uZXh0U2libGluZyxcbiAgICAgICAgICAgICAgICAgIG5vZGVOYW1lID0gaS5ub2RlTmFtZTtcbiAgICAgICAgICAgICAgICBpW2ludGVybmFsSG9pc3RhYmxlTWFya2VyXSB8fFxuICAgICAgICAgICAgICAgICAgXCJIRUFEXCIgPT09IG5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgICAgICBcIkJPRFlcIiA9PT0gbm9kZU5hbWUgfHxcbiAgICAgICAgICAgICAgICAgIFwiU0NSSVBUXCIgPT09IG5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgICAgICBcIlNUWUxFXCIgPT09IG5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgICAgICAoXCJMSU5LXCIgPT09IG5vZGVOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3R5bGVzaGVldFwiID09PSBpLnJlbC50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5yZW1vdmVDaGlsZChpKTtcbiAgICAgICAgICAgICAgICBpID0gbmV4dE5vZGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGFjcXVpcmVTaW5nbGV0b25JbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICAgICAgICBtYXliZU5vZGVzLFxuICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiZcbiAgICAgICAgICAgIChvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQsIGN1cnJlbnQucmV0dXJuKSk7XG4gICAgICAgICAgaWYgKGZpbmlzaGVkV29yay5mbGFncyAmIDMyKSB7XG4gICAgICAgICAgICByb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpbmlzaGVkV29yaywgcmVzZXRUZXh0Q29udGVudCwgcm9vdCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICBudWxsICE9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgJiZcbiAgICAgICAgICAgICgocm9vdCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzKSxcbiAgICAgICAgICAgIGNvbW1pdEhvc3RVcGRhdGUoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyA6IHJvb3RcbiAgICAgICAgICAgICkpO1xuICAgICAgICAgIGZsYWdzICYgMTAyNCAmJlxuICAgICAgICAgICAgKChuZWVkc0Zvcm1SZXNldCA9ICEwKSxcbiAgICAgICAgICAgIFwiZm9ybVwiICE9PSBmaW5pc2hlZFdvcmsudHlwZSAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVW5leHBlY3RlZCBob3N0IGNvbXBvbmVudCB0eXBlLiBFeHBlY3RlZCBhIGZvcm0uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgaWYgKGZsYWdzICYgNCkge1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhpcyBzaG91bGQgaGF2ZSBhIHRleHQgbm9kZSBpbml0aWFsaXplZC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZmxhZ3MgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgIGN1cnJlbnQgPSBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogZmxhZ3M7XG4gICAgICAgICAgICByb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRUZXh0VXBkYXRlLFxuICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICBmbGFnc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICB0YWdDYWNoZXMgPSBudWxsO1xuICAgICAgICAgIG1heWJlTm9kZXMgPSBjdXJyZW50SG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IGdldEhvaXN0YWJsZVJvb3Qocm9vdC5jb250YWluZXJJbmZvKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBtYXliZU5vZGVzO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZFxuICAgICAgICAgIClcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRIeWRyYXRlZENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICByb290LmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIG5lZWRzRm9ybVJlc2V0ICYmXG4gICAgICAgICAgICAoKG5lZWRzRm9ybVJlc2V0ID0gITEpLCByZWN1cnNpdmVseVJlc2V0Rm9ybXMoZmluaXNoZWRXb3JrKSk7XG4gICAgICAgICAgcm9vdC5lZmZlY3REdXJhdGlvbiArPSBwb3BOZXN0ZWRFZmZlY3REdXJhdGlvbnMoaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBmbGFncyA9IGN1cnJlbnRIb2lzdGFibGVSb290O1xuICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gZ2V0SG9pc3RhYmxlUm9vdChcbiAgICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gZmxhZ3M7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgZmxhZ3MgPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUuZWZmZWN0RHVyYXRpb24gKz1cbiAgICAgICAgICAgIGJ1YmJsZU5lc3RlZEVmZmVjdER1cmF0aW9ucyhmbGFncyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5jaGlsZC5mbGFncyAmIDgxOTIgJiZcbiAgICAgICAgICAgIChudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSkgIT09XG4gICAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkgJiZcbiAgICAgICAgICAgIChnbG9iYWxNb3N0UmVjZW50RmFsbGJhY2tUaW1lID0gbm93JDEoKSk7XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICAoKGZsYWdzID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgIG51bGwgIT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICgoZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlID0gbnVsbCksXG4gICAgICAgICAgICAgIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrLCBmbGFncykpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJlxuICAgICAgICAgICAgKG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCwgY3VycmVudC5yZXR1cm4pKTtcbiAgICAgICAgICBpID0gbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbmV4dE5vZGUgPSBudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBub2RlTmFtZSA9IG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbjtcbiAgICAgICAgICB2YXIgcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiA9IG5vZGVOYW1lIHx8IGk7XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9IHByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8IG5leHROb2RlO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW47XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gbm9kZU5hbWU7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgcm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgcm9vdC5fY3VycmVudCA9IGZpbmlzaGVkV29yaztcbiAgICAgICAgICByb290Ll92aXNpYmlsaXR5ICY9IH5PZmZzY3JlZW5EZXRhY2hlZDtcbiAgICAgICAgICByb290Ll92aXNpYmlsaXR5IHw9IHJvb3QuX3BlbmRpbmdWaXNpYmlsaXR5ICYgT2Zmc2NyZWVuRGV0YWNoZWQ7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmxhZ3MgJiA4MTkyICYmXG4gICAgICAgICAgICAoKHJvb3QuX3Zpc2liaWxpdHkgPSBpXG4gICAgICAgICAgICAgID8gcm9vdC5fdmlzaWJpbGl0eSAmIH5PZmZzY3JlZW5WaXNpYmxlXG4gICAgICAgICAgICAgIDogcm9vdC5fdmlzaWJpbGl0eSB8IE9mZnNjcmVlblZpc2libGUpLFxuICAgICAgICAgICAgaSAmJlxuICAgICAgICAgICAgICAoKHJvb3QgPSBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gfHwgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiksXG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgICBuZXh0Tm9kZSB8fFxuICAgICAgICAgICAgICAgIHJvb3QgfHxcbiAgICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspKSxcbiAgICAgICAgICAgIG51bGwgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzIHx8XG4gICAgICAgICAgICAgIFwibWFudWFsXCIgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLm1vZGUpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgYTogZm9yIChjdXJyZW50ID0gbnVsbCwgcm9vdCA9IGZpbmlzaGVkV29yazsgOyApIHtcbiAgICAgICAgICAgICAgaWYgKDUgPT09IHJvb3QudGFnIHx8IDI2ID09PSByb290LnRhZyB8fCAyNyA9PT0gcm9vdC50YWcpIHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSBjdXJyZW50ID0gcm9vdDtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIChob2lzdGFibGVSb290ID0gbmV4dE5vZGUuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgICAgICAgICAgICBpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGVJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290XG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5oaWRlSW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUuc3RhdGVOb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHROb2RlLm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKG5leHROb2RlLCBuZXh0Tm9kZS5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoNiA9PT0gcm9vdC50YWcpIHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgbmV4dE5vZGUgPSByb290O1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgKG1heWJlTm9kZXMgPSBuZXh0Tm9kZS5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICAgICAgICAgIGlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRleHRJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZU5vZGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5oaWRlVGV4dEluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlTm9kZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IobmV4dE5vZGUsIG5leHROb2RlLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAoKDIyICE9PSByb290LnRhZyAmJiAyMyAhPT0gcm9vdC50YWcpIHx8XG4gICAgICAgICAgICAgICAgICBudWxsID09PSByb290Lm1lbW9pemVkU3RhdGUgfHxcbiAgICAgICAgICAgICAgICAgIHJvb3QgPT09IGZpbmlzaGVkV29yaykgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9PSByb290LmNoaWxkXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJvb3QuY2hpbGQucmV0dXJuID0gcm9vdDtcbiAgICAgICAgICAgICAgICByb290ID0gcm9vdC5jaGlsZDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocm9vdCA9PT0gZmluaXNoZWRXb3JrKSBicmVhayBhO1xuICAgICAgICAgICAgICBmb3IgKDsgbnVsbCA9PT0gcm9vdC5zaWJsaW5nOyApIHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gcm9vdC5yZXR1cm4gfHwgcm9vdC5yZXR1cm4gPT09IGZpbmlzaGVkV29yaylcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9PT0gcm9vdCAmJiAoY3VycmVudCA9IG51bGwpO1xuICAgICAgICAgICAgICAgIHJvb3QgPSByb290LnJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyZW50ID09PSByb290ICYmIChjdXJyZW50ID0gbnVsbCk7XG4gICAgICAgICAgICAgIHJvb3Quc2libGluZy5yZXR1cm4gPSByb290LnJldHVybjtcbiAgICAgICAgICAgICAgcm9vdCA9IHJvb3Quc2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgICgoZmxhZ3MgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgKChjdXJyZW50ID0gZmxhZ3MucmV0cnlRdWV1ZSksXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgICAoKGZsYWdzLnJldHJ5UXVldWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgICBhdHRhY2hTdXNwZW5zZVJldHJ5TGlzdGVuZXJzKGZpbmlzaGVkV29yaywgY3VycmVudCkpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgKChmbGFncyA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICBudWxsICE9PSBmbGFncyAmJlxuICAgICAgICAgICAgICAoKGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICBhdHRhY2hTdXNwZW5zZVJldHJ5TGlzdGVuZXJzKGZpbmlzaGVkV29yaywgZmxhZ3MpKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspLFxuICAgICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFJlY29uY2lsaWF0aW9uRWZmZWN0cyhmaW5pc2hlZFdvcmspIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIGlmIChmbGFncyAmIDIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaW5pc2hlZFdvcmssIGNvbW1pdFBsYWNlbWVudCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hlZFdvcmsuZmxhZ3MgJj0gLTM7XG4gICAgICB9XG4gICAgICBmbGFncyAmIDQwOTYgJiYgKGZpbmlzaGVkV29yay5mbGFncyAmPSAtNDA5Nyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5UmVzZXRGb3JtcyhwYXJlbnRGaWJlcikge1xuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEwMjQpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7ICkge1xuICAgICAgICAgIHZhciBmaWJlciA9IHBhcmVudEZpYmVyO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5UmVzZXRGb3JtcyhmaWJlcik7XG4gICAgICAgICAgNSA9PT0gZmliZXIudGFnICYmIGZpYmVyLmZsYWdzICYgMTAyNCAmJiBmaWJlci5zdGF0ZU5vZGUucmVzZXQoKTtcbiAgICAgICAgICBwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0TGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmssIHJvb3QsIGNvbW1pdHRlZExhbmVzKSB7XG4gICAgICBpblByb2dyZXNzTGFuZXMgPSBjb21taXR0ZWRMYW5lcztcbiAgICAgIGluUHJvZ3Jlc3NSb290ID0gcm9vdDtcbiAgICAgIGNvbW1pdExheW91dEVmZmVjdE9uRmliZXIocm9vdCwgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSwgZmluaXNoZWRXb3JrKTtcbiAgICAgIGluUHJvZ3Jlc3NSb290ID0gaW5Qcm9ncmVzc0xhbmVzID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZUxheW91dEVmZmVjdHMocm9vdCwgcGFyZW50RmliZXIpIHtcbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiA4NzcyKVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgICAgY29tbWl0TGF5b3V0RWZmZWN0T25GaWJlcihyb290LCBwYXJlbnRGaWJlci5hbHRlcm5hdGUsIHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaykge1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBjb21taXRIb29rTGF5b3V0VW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuLFxuICAgICAgICAgICAgTGF5b3V0XG4gICAgICAgICAgKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVW5tb3VudCAmJlxuICAgICAgICAgICAgc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5yZXR1cm4sXG4gICAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHNhZmVseURldGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIG51bGwgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKHBhcmVudEZpYmVyKSB7XG4gICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgIGRpc2FwcGVhckxheW91dEVmZmVjdHMocGFyZW50RmliZXIpLFxuICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBjdXJyZW50LFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICkge1xuICAgICAgdmFyIGZsYWdzID0gZmluaXNoZWRXb3JrLmZsYWdzO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgY29tbWl0SG9va0xheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCBMYXlvdXQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGN1cnJlbnQuY29tcG9uZW50RGlkTW91bnQgJiZcbiAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGNhbGxDb21wb25lbnREaWRNb3VudEluREVWLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY3VycmVudCA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICAgICAgZmluaXNoZWRSb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRIaWRkZW5DYWxsYmFja3MsXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3RcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgICAgICBmbGFncyAmIDY0ICYmXG4gICAgICAgICAgICBjb21taXRDbGFzc0NhbGxiYWNrcyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiZcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgY29tbWl0SG9zdE1vdW50KGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgaWYgKGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiYgZmxhZ3MgJiA0KSB7XG4gICAgICAgICAgICBmbGFncyA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzLmVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICAgIGJ1YmJsZU5lc3RlZEVmZmVjdER1cmF0aW9ucyhmbGFncyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0UHJvZmlsZXIsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgY29tbWl0U3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMuZWZmZWN0RHVyYXRpb25cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiZcbiAgICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgY29tbWl0U3VzcGVuc2VIeWRyYXRpb25DYWxsYmFja3MoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIG51bGwgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBwYXJlbnRGaWJlcixcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICApIHtcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgPVxuICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmIDAgIT09IChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiA4NzcyKTtcbiAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgcmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICBwYXJlbnRGaWJlci5hbHRlcm5hdGUsXG4gICAgICAgICAgcGFyZW50RmliZXIsXG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICApLFxuICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRPZmZzY3JlZW5QYXNzaXZlTW91bnRFZmZlY3RzKGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgICAgdmFyIHByZXZpb3VzQ2FjaGUgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAocHJldmlvdXNDYWNoZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCk7XG4gICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAoY3VycmVudCA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKTtcbiAgICAgIGN1cnJlbnQgIT09IHByZXZpb3VzQ2FjaGUgJiZcbiAgICAgICAgKG51bGwgIT0gY3VycmVudCAmJiByZXRhaW5DYWNoZShjdXJyZW50KSxcbiAgICAgICAgbnVsbCAhPSBwcmV2aW91c0NhY2hlICYmIHJlbGVhc2VDYWNoZShwcmV2aW91c0NhY2hlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdENhY2hlUGFzc2l2ZU1vdW50RWZmZWN0KGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlICYmXG4gICAgICAgIChjdXJyZW50ID0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZS5tZW1vaXplZFN0YXRlLmNhY2hlKTtcbiAgICAgIGZpbmlzaGVkV29yayA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlLmNhY2hlO1xuICAgICAgZmluaXNoZWRXb3JrICE9PSBjdXJyZW50ICYmXG4gICAgICAgIChyZXRhaW5DYWNoZShmaW5pc2hlZFdvcmspLCBudWxsICE9IGN1cnJlbnQgJiYgcmVsZWFzZUNhY2hlKGN1cnJlbnQpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICByb290LFxuICAgICAgcGFyZW50RmliZXIsXG4gICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgKSB7XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTAyNTYpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgICBjb21taXRQYXNzaXZlTW91bnRPbkZpYmVyKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0UGFzc2l2ZU1vdW50T25GaWJlcihcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICApIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlTW91bnRFZmZlY3RzKGZpbmlzaGVkV29yaywgUGFzc2l2ZSB8IEhhc0VmZmVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICB2YXIgcHJldkVmZmVjdER1cmF0aW9uID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICAoKGNvbW1pdHRlZExhbmVzID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgIChjb21taXR0ZWRMYW5lcyA9IGZpbmlzaGVkV29yay5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZS5jYWNoZSksXG4gICAgICAgICAgICAoZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUuY2FjaGUpLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrICE9PSBjb21taXR0ZWRMYW5lcyAmJlxuICAgICAgICAgICAgICAocmV0YWluQ2FjaGUoZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBjb21taXR0ZWRMYW5lcyAmJiByZWxlYXNlQ2FjaGUoY29tbWl0dGVkTGFuZXMpKSk7XG4gICAgICAgICAgZmluaXNoZWRSb290LnBhc3NpdmVFZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgcG9wTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgaWYgKGZsYWdzICYgMjA0OCkge1xuICAgICAgICAgICAgcHJldkVmZmVjdER1cmF0aW9uID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgZmluaXNoZWRSb290LnBhc3NpdmVFZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgICBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRQcm9maWxlclBvc3RDb21taXRJbXBsLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QucGFzc2l2ZUVmZmVjdER1cmF0aW9uXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHByZXZFZmZlY3REdXJhdGlvbiA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgID8gcHJldkVmZmVjdER1cmF0aW9uLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWRcbiAgICAgICAgICAgICAgPyByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBwcmV2RWZmZWN0RHVyYXRpb24uX3Zpc2liaWxpdHkgJiBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZFxuICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiAoKHByZXZFZmZlY3REdXJhdGlvbi5fdmlzaWJpbGl0eSB8PVxuICAgICAgICAgICAgICAgICAgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQpLFxuICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgICAwICE9PSAoZmluaXNoZWRXb3JrLnN1YnRyZWVGbGFncyAmIDEwMjU2KVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgY29tbWl0T2Zmc2NyZWVuUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICk7XG4gICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRDYWNoZVBhc3NpdmVNb3VudEVmZmVjdChmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICApIHtcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgPVxuICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgIDAgIT09IChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAxMDI1Nik7XG4gICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgIHJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICBwYXJlbnRGaWJlcixcbiAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICksXG4gICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICApIHtcbiAgICAgIHZhciBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlTW91bnRFZmZlY3RzKGZpbmlzaGVkV29yaywgUGFzc2l2ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgdmFyIF9pbnN0YW5jZTIgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICA/IF9pbnN0YW5jZTIuX3Zpc2liaWxpdHkgJiBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZFxuICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogKChfaW5zdGFuY2UyLl92aXNpYmlsaXR5IHw9IE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkKSxcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdE9mZnNjcmVlblBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRDYWNoZVBhc3NpdmVNb3VudEVmZmVjdChmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290JGpzY29tcCQwLFxuICAgICAgcGFyZW50RmliZXJcbiAgICApIHtcbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAxMDI1NilcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKSB7XG4gICAgICAgICAgdmFyIGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkUm9vdCRqc2NvbXAkMCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayA9IHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlQXRvbWljUGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgICAgICBjb21taXRPZmZzY3JlZW5QYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICAgICAgY29tbWl0Q2FjaGVQYXNzaXZlTW91bnRFZmZlY3QoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlQXRvbWljUGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KHBhcmVudEZpYmVyKSB7XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgc3VzcGVuc2V5Q29tbWl0RmxhZylcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICAgIGFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXRPbkZpYmVyKHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0T25GaWJlcihmaWJlcikge1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpO1xuICAgICAgICAgIGZpYmVyLmZsYWdzICYgc3VzcGVuc2V5Q29tbWl0RmxhZyAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gZmliZXIubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgc3VzcGVuZFJlc291cmNlKFxuICAgICAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCxcbiAgICAgICAgICAgICAgZmliZXIubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgICAgICAgZmliZXIubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChmaWJlcik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHZhciBwcmV2aW91c0hvaXN0YWJsZVJvb3QgPSBjdXJyZW50SG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IGdldEhvaXN0YWJsZVJvb3QoXG4gICAgICAgICAgICBmaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKTtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IHByZXZpb3VzSG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBudWxsID09PSBmaWJlci5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAoKHByZXZpb3VzSG9pc3RhYmxlUm9vdCA9IGZpYmVyLmFsdGVybmF0ZSksXG4gICAgICAgICAgICBudWxsICE9PSBwcmV2aW91c0hvaXN0YWJsZVJvb3QgJiZcbiAgICAgICAgICAgIG51bGwgIT09IHByZXZpb3VzSG9pc3RhYmxlUm9vdC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICAgID8gKChwcmV2aW91c0hvaXN0YWJsZVJvb3QgPSBzdXNwZW5zZXlDb21taXRGbGFnKSxcbiAgICAgICAgICAgICAgICAoc3VzcGVuc2V5Q29tbWl0RmxhZyA9IDE2Nzc3MjE2KSxcbiAgICAgICAgICAgICAgICByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpLFxuICAgICAgICAgICAgICAgIChzdXNwZW5zZXlDb21taXRGbGFnID0gcHJldmlvdXNIb2lzdGFibGVSb290KSlcbiAgICAgICAgICAgICAgOiByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXRhY2hBbHRlcm5hdGVTaWJsaW5ncyhwYXJlbnRGaWJlcikge1xuICAgICAgdmFyIHByZXZpb3VzRmliZXIgPSBwYXJlbnRGaWJlci5hbHRlcm5hdGU7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHByZXZpb3VzRmliZXIgJiZcbiAgICAgICAgKChwYXJlbnRGaWJlciA9IHByZXZpb3VzRmliZXIuY2hpbGQpLCBudWxsICE9PSBwYXJlbnRGaWJlcilcbiAgICAgICkge1xuICAgICAgICBwcmV2aW91c0ZpYmVyLmNoaWxkID0gbnVsbDtcbiAgICAgICAgZG9cbiAgICAgICAgICAocHJldmlvdXNGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyLnNpYmxpbmcgPSBudWxsKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHByZXZpb3VzRmliZXIpO1xuICAgICAgICB3aGlsZSAobnVsbCAhPT0gcGFyZW50RmliZXIpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZVVubW91bnRFZmZlY3RzKHBhcmVudEZpYmVyKSB7XG4gICAgICB2YXIgZGVsZXRpb25zID0gcGFyZW50RmliZXIuZGVsZXRpb25zO1xuICAgICAgaWYgKDAgIT09IChwYXJlbnRGaWJlci5mbGFncyAmIDE2KSkge1xuICAgICAgICBpZiAobnVsbCAhPT0gZGVsZXRpb25zKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsZXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGRlbGV0aW9uc1tpXTtcbiAgICAgICAgICAgIG5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgICAgICAgY29tbWl0UGFzc2l2ZVVubW91bnRFZmZlY3RzSW5zaWRlT2ZEZWxldGVkVHJlZV9iZWdpbihcbiAgICAgICAgICAgICAgY2hpbGRUb0RlbGV0ZSxcbiAgICAgICAgICAgICAgcGFyZW50RmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICBkZXRhY2hBbHRlcm5hdGVTaWJsaW5ncyhwYXJlbnRGaWJlcik7XG4gICAgICB9XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTAyNTYpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgICBjb21taXRQYXNzaXZlVW5tb3VudE9uRmliZXIocGFyZW50RmliZXIpLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFBhc3NpdmVVbm1vdW50T25GaWJlcihmaW5pc2hlZFdvcmspIHtcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5mbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlVW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVybixcbiAgICAgICAgICAgICAgUGFzc2l2ZSB8IEhhc0VmZmVjdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHZhciBwcmV2RWZmZWN0RHVyYXRpb24gPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUucGFzc2l2ZUVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICBwb3BOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBwcmV2RWZmZWN0RHVyYXRpb24gPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGUucGFzc2l2ZUVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICBidWJibGVOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBwcmV2RWZmZWN0RHVyYXRpb24gPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgcHJldkVmZmVjdER1cmF0aW9uLl92aXNpYmlsaXR5ICYgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQgJiZcbiAgICAgICAgICAobnVsbCA9PT0gZmluaXNoZWRXb3JrLnJldHVybiB8fCAxMyAhPT0gZmluaXNoZWRXb3JrLnJldHVybi50YWcpXG4gICAgICAgICAgICA/ICgocHJldkVmZmVjdER1cmF0aW9uLl92aXNpYmlsaXR5ICY9XG4gICAgICAgICAgICAgICAgfk9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkKSxcbiAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhmaW5pc2hlZFdvcmspKVxuICAgICAgICAgICAgOiByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZVVubW91bnRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVVbm1vdW50RWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlRGlzY29ubmVjdFBhc3NpdmVFZmZlY3RzKHBhcmVudEZpYmVyKSB7XG4gICAgICB2YXIgZGVsZXRpb25zID0gcGFyZW50RmliZXIuZGVsZXRpb25zO1xuICAgICAgaWYgKDAgIT09IChwYXJlbnRGaWJlci5mbGFncyAmIDE2KSkge1xuICAgICAgICBpZiAobnVsbCAhPT0gZGVsZXRpb25zKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsZXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRUb0RlbGV0ZSA9IGRlbGV0aW9uc1tpXTtcbiAgICAgICAgICAgIG5leHRFZmZlY3QgPSBjaGlsZFRvRGVsZXRlO1xuICAgICAgICAgICAgY29tbWl0UGFzc2l2ZVVubW91bnRFZmZlY3RzSW5zaWRlT2ZEZWxldGVkVHJlZV9iZWdpbihcbiAgICAgICAgICAgICAgY2hpbGRUb0RlbGV0ZSxcbiAgICAgICAgICAgICAgcGFyZW50RmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICBkZXRhY2hBbHRlcm5hdGVTaWJsaW5ncyhwYXJlbnRGaWJlcik7XG4gICAgICB9XG4gICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgIGRpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0KHBhcmVudEZpYmVyKSxcbiAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzY29ubmVjdFBhc3NpdmVFZmZlY3QoZmluaXNoZWRXb3JrKSB7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlVW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuLFxuICAgICAgICAgICAgUGFzc2l2ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgaW5zdGFuY2UuX3Zpc2liaWxpdHkgJiBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCAmJlxuICAgICAgICAgICAgKChpbnN0YW5jZS5fdmlzaWJpbGl0eSAmPSB+T2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQpLFxuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0cyhmaW5pc2hlZFdvcmspKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzY29ubmVjdFBhc3NpdmVFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFBhc3NpdmVVbm1vdW50RWZmZWN0c0luc2lkZU9mRGVsZXRlZFRyZWVfYmVnaW4oXG4gICAgICBkZWxldGVkU3VidHJlZVJvb3QsXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgKSB7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gbmV4dEVmZmVjdDsgKSB7XG4gICAgICAgIHZhciBmaWJlciA9IG5leHRFZmZlY3QsXG4gICAgICAgICAgY3VycmVudCA9IGZpYmVyO1xuICAgICAgICBzd2l0Y2ggKGN1cnJlbnQudGFnKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgIGNvbW1pdEhvb2tQYXNzaXZlVW5tb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgIFBhc3NpdmVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpLFxuICAgICAgICAgICAgICBudWxsICE9IGN1cnJlbnQgJiYgcmV0YWluQ2FjaGUoY3VycmVudCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICAgIHJlbGVhc2VDYWNoZShjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGUpO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnQgPSBmaWJlci5jaGlsZDtcbiAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIChjdXJyZW50LnJldHVybiA9IGZpYmVyKSwgKG5leHRFZmZlY3QgPSBjdXJyZW50KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGE6IGZvciAoZmliZXIgPSBkZWxldGVkU3VidHJlZVJvb3Q7IG51bGwgIT09IG5leHRFZmZlY3Q7ICkge1xuICAgICAgICAgICAgY3VycmVudCA9IG5leHRFZmZlY3Q7XG4gICAgICAgICAgICB2YXIgc2libGluZyA9IGN1cnJlbnQuc2libGluZyxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBjdXJyZW50LnJldHVybjtcbiAgICAgICAgICAgIGRldGFjaEZpYmVyQWZ0ZXJFZmZlY3RzKGN1cnJlbnQpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IGZpYmVyKSB7XG4gICAgICAgICAgICAgIG5leHRFZmZlY3QgPSBudWxsO1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG51bGwgIT09IHNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgc2libGluZy5yZXR1cm4gPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgICAgbmV4dEVmZmVjdCA9IHNpYmxpbmc7XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0RWZmZWN0ID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBGaWJlck5vZGUodGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSkge1xuICAgICAgdGhpcy50YWcgPSB0YWc7XG4gICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgIHRoaXMuc2libGluZyA9XG4gICAgICAgIHRoaXMuY2hpbGQgPVxuICAgICAgICB0aGlzLnJldHVybiA9XG4gICAgICAgIHRoaXMuc3RhdGVOb2RlID1cbiAgICAgICAgdGhpcy50eXBlID1cbiAgICAgICAgdGhpcy5lbGVtZW50VHlwZSA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIHRoaXMuaW5kZXggPSAwO1xuICAgICAgdGhpcy5yZWZDbGVhbnVwID0gdGhpcy5yZWYgPSBudWxsO1xuICAgICAgdGhpcy5wZW5kaW5nUHJvcHMgPSBwZW5kaW5nUHJvcHM7XG4gICAgICB0aGlzLmRlcGVuZGVuY2llcyA9XG4gICAgICAgIHRoaXMubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgIHRoaXMudXBkYXRlUXVldWUgPVxuICAgICAgICB0aGlzLm1lbW9pemVkUHJvcHMgPVxuICAgICAgICAgIG51bGw7XG4gICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgdGhpcy5zdWJ0cmVlRmxhZ3MgPSB0aGlzLmZsYWdzID0gMDtcbiAgICAgIHRoaXMuZGVsZXRpb25zID0gbnVsbDtcbiAgICAgIHRoaXMuY2hpbGRMYW5lcyA9IHRoaXMubGFuZXMgPSAwO1xuICAgICAgdGhpcy5hbHRlcm5hdGUgPSBudWxsO1xuICAgICAgdGhpcy5hY3R1YWxEdXJhdGlvbiA9IC0wO1xuICAgICAgdGhpcy5hY3R1YWxTdGFydFRpbWUgPSAtMS4xO1xuICAgICAgdGhpcy50cmVlQmFzZUR1cmF0aW9uID0gdGhpcy5zZWxmQmFzZUR1cmF0aW9uID0gLTA7XG4gICAgICB0aGlzLl9kZWJ1Z093bmVyID0gdGhpcy5fZGVidWdJbmZvID0gbnVsbDtcbiAgICAgIHRoaXMuX2RlYnVnTmVlZHNSZW1vdW50ID0gITE7XG4gICAgICB0aGlzLl9kZWJ1Z0hvb2tUeXBlcyA9IG51bGw7XG4gICAgICBoYXNCYWRNYXBQb2x5ZmlsbCB8fFxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBPYmplY3QucHJldmVudEV4dGVuc2lvbnMgfHxcbiAgICAgICAgT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHRoaXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gICAgICBDb21wb25lbnQgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICAgICAgcmV0dXJuICEoIUNvbXBvbmVudCB8fCAhQ29tcG9uZW50LmlzUmVhY3RDb21wb25lbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhjdXJyZW50LCBwZW5kaW5nUHJvcHMpIHtcbiAgICAgIHZhciB3b3JrSW5Qcm9ncmVzcyA9IGN1cnJlbnQuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzID0gY3JlYXRlRmliZXIoXG4gICAgICAgICAgICBjdXJyZW50LnRhZyxcbiAgICAgICAgICAgIHBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIGN1cnJlbnQua2V5LFxuICAgICAgICAgICAgY3VycmVudC5tb2RlXG4gICAgICAgICAgKSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmVsZW1lbnRUeXBlID0gY3VycmVudC5lbGVtZW50VHlwZSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50LnR5cGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50LnN0YXRlTm9kZSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLl9kZWJ1Z093bmVyID0gY3VycmVudC5fZGVidWdPd25lciksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLl9kZWJ1Z0hvb2tUeXBlcyA9IGN1cnJlbnQuX2RlYnVnSG9va1R5cGVzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlID0gY3VycmVudCksXG4gICAgICAgICAgKGN1cnJlbnQuYWx0ZXJuYXRlID0gd29ya0luUHJvZ3Jlc3MpKVxuICAgICAgICA6ICgod29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQudHlwZSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzID0gMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5kZWxldGlvbnMgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuYWN0dWFsRHVyYXRpb24gPSAtMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmFjdHVhbFN0YXJ0VGltZSA9IC0xLjEpKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzID0gY3VycmVudC5mbGFncyAmIDMxNDU3MjgwO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IGN1cnJlbnQuY2hpbGRMYW5lcztcbiAgICAgIHdvcmtJblByb2dyZXNzLmxhbmVzID0gY3VycmVudC5sYW5lcztcbiAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZDtcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlO1xuICAgICAgcGVuZGluZ1Byb3BzID0gY3VycmVudC5kZXBlbmRlbmNpZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPVxuICAgICAgICBudWxsID09PSBwZW5kaW5nUHJvcHNcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgbGFuZXM6IHBlbmRpbmdQcm9wcy5sYW5lcyxcbiAgICAgICAgICAgICAgZmlyc3RDb250ZXh0OiBwZW5kaW5nUHJvcHMuZmlyc3RDb250ZXh0LFxuICAgICAgICAgICAgICBfZGVidWdUaGVuYWJsZVN0YXRlOiBwZW5kaW5nUHJvcHMuX2RlYnVnVGhlbmFibGVTdGF0ZVxuICAgICAgICAgICAgfTtcbiAgICAgIHdvcmtJblByb2dyZXNzLnNpYmxpbmcgPSBjdXJyZW50LnNpYmxpbmc7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5pbmRleCA9IGN1cnJlbnQuaW5kZXg7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5yZWYgPSBjdXJyZW50LnJlZjtcbiAgICAgIHdvcmtJblByb2dyZXNzLnJlZkNsZWFudXAgPSBjdXJyZW50LnJlZkNsZWFudXA7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5zZWxmQmFzZUR1cmF0aW9uID0gY3VycmVudC5zZWxmQmFzZUR1cmF0aW9uO1xuICAgICAgd29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiA9IGN1cnJlbnQudHJlZUJhc2VEdXJhdGlvbjtcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z0luZm8gPSBjdXJyZW50Ll9kZWJ1Z0luZm87XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdOZWVkc1JlbW91bnQgPSBjdXJyZW50Ll9kZWJ1Z05lZWRzUmVtb3VudDtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQudHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQudHlwZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSA9IHJlc29sdmVGb3J3YXJkUmVmRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQudHlwZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0V29ya0luUHJvZ3Jlc3Mod29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAzMTQ1NzI4MjtcbiAgICAgIHZhciBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3VidHJlZUZsYWdzID0gMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnNlbGZCYXNlRHVyYXRpb24gPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiA9IDApKVxuICAgICAgICA6ICgod29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IGN1cnJlbnQuY2hpbGRMYW5lcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gY3VycmVudC5sYW5lcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5kZWxldGlvbnMgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQudXBkYXRlUXVldWUpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudC50eXBlKSxcbiAgICAgICAgICAocmVuZGVyTGFuZXMgPSBjdXJyZW50LmRlcGVuZGVuY2llcyksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9XG4gICAgICAgICAgICBudWxsID09PSByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICBsYW5lczogcmVuZGVyTGFuZXMubGFuZXMsXG4gICAgICAgICAgICAgICAgICBmaXJzdENvbnRleHQ6IHJlbmRlckxhbmVzLmZpcnN0Q29udGV4dCxcbiAgICAgICAgICAgICAgICAgIF9kZWJ1Z1RoZW5hYmxlU3RhdGU6IHJlbmRlckxhbmVzLl9kZWJ1Z1RoZW5hYmxlU3RhdGVcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc2VsZkJhc2VEdXJhdGlvbiA9IGN1cnJlbnQuc2VsZkJhc2VEdXJhdGlvbiksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gPSBjdXJyZW50LnRyZWVCYXNlRHVyYXRpb24pKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzKFxuICAgICAgdHlwZSxcbiAgICAgIGtleSxcbiAgICAgIHBlbmRpbmdQcm9wcyxcbiAgICAgIG93bmVyLFxuICAgICAgbW9kZSxcbiAgICAgIGxhbmVzXG4gICAgKSB7XG4gICAgICB2YXIgZmliZXJUYWcgPSAwLFxuICAgICAgICByZXNvbHZlZFR5cGUgPSB0eXBlO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHNob3VsZENvbnN0cnVjdCh0eXBlKSAmJiAoZmliZXJUYWcgPSAxKSxcbiAgICAgICAgICAocmVzb2x2ZWRUeXBlID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKHJlc29sdmVkVHlwZSkpO1xuICAgICAgZWxzZSBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIChmaWJlclRhZyA9IGdldEhvc3RDb250ZXh0KCkpLFxuICAgICAgICAgIChmaWJlclRhZyA9IGlzSG9zdEhvaXN0YWJsZVR5cGUodHlwZSwgcGVuZGluZ1Byb3BzLCBmaWJlclRhZylcbiAgICAgICAgICAgID8gMjZcbiAgICAgICAgICAgIDogXCJodG1sXCIgPT09IHR5cGUgfHwgXCJoZWFkXCIgPT09IHR5cGUgfHwgXCJib2R5XCIgPT09IHR5cGVcbiAgICAgICAgICAgICAgPyAyN1xuICAgICAgICAgICAgICA6IDUpO1xuICAgICAgZWxzZVxuICAgICAgICBhOiBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgIHBlbmRpbmdQcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgICBmaWJlclRhZyA9IDg7XG4gICAgICAgICAgICBtb2RlIHw9IFN0cmljdExlZ2FjeU1vZGU7XG4gICAgICAgICAgICBtb2RlIHw9IFN0cmljdEVmZmVjdHNNb2RlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKHR5cGUgPSBwZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgICAob3duZXIgPSBtb2RlKSxcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHR5cGUuaWQgJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgJ1Byb2ZpbGVyIG11c3Qgc3BlY2lmeSBhbiBcImlkXCIgb2YgdHlwZSBgc3RyaW5nYCBhcyBhIHByb3AuIFJlY2VpdmVkIHRoZSB0eXBlIGAlc2AgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICAgICAgdHlwZW9mIHR5cGUuaWRcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAoa2V5ID0gY3JlYXRlRmliZXIoMTIsIHR5cGUsIGtleSwgb3duZXIgfCBQcm9maWxlTW9kZSkpLFxuICAgICAgICAgICAgICAoa2V5LmVsZW1lbnRUeXBlID0gUkVBQ1RfUFJPRklMRVJfVFlQRSksXG4gICAgICAgICAgICAgIChrZXkubGFuZXMgPSBsYW5lcyksXG4gICAgICAgICAgICAgIChrZXkuc3RhdGVOb2RlID0geyBlZmZlY3REdXJhdGlvbjogMCwgcGFzc2l2ZUVmZmVjdER1cmF0aW9uOiAwIH0pLFxuICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGtleSA9IGNyZWF0ZUZpYmVyKDEzLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSkpLFxuICAgICAgICAgICAgICAoa2V5LmVsZW1lbnRUeXBlID0gUkVBQ1RfU1VTUEVOU0VfVFlQRSksXG4gICAgICAgICAgICAgIChrZXkubGFuZXMgPSBsYW5lcyksXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChrZXkgPSBjcmVhdGVGaWJlcigxOSwgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpKSxcbiAgICAgICAgICAgICAgKGtleS5lbGVtZW50VHlwZSA9IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSksXG4gICAgICAgICAgICAgIChrZXkubGFuZXMgPSBsYW5lcyksXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX09GRlNDUkVFTl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbU9mZnNjcmVlbihwZW5kaW5nUHJvcHMsIG1vZGUsIGxhbmVzLCBrZXkpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiYgbnVsbCAhPT0gdHlwZSlcbiAgICAgICAgICAgICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgICAgICAgZmliZXJUYWcgPSAxMDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgICAgICAgZmliZXJUYWcgPSA5O1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICAgICAgICBmaWJlclRhZyA9IDExO1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gcmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmcocmVzb2x2ZWRUeXBlKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICAgICAgICBmaWJlclRhZyA9IDE0O1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gMTY7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlZFR5cGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gXCJcIjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgdm9pZCAwID09PSB0eXBlIHx8XG4gICAgICAgICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgICAwID09PSBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJlc29sdmVkVHlwZSArPVxuICAgICAgICAgICAgICAgIFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIGl0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgICAgICAgIG51bGwgPT09IHR5cGVcbiAgICAgICAgICAgICAgPyAocGVuZGluZ1Byb3BzID0gXCJudWxsXCIpXG4gICAgICAgICAgICAgIDogaXNBcnJheUltcGwodHlwZSlcbiAgICAgICAgICAgICAgICA/IChwZW5kaW5nUHJvcHMgPSBcImFycmF5XCIpXG4gICAgICAgICAgICAgICAgOiB2b2lkIDAgIT09IHR5cGUgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICAgICAgICAgICAgICA/ICgocGVuZGluZ1Byb3BzID1cbiAgICAgICAgICAgICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICAgICAgICAgICAgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiVW5rbm93blwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgXCIgLz5cIiksXG4gICAgICAgICAgICAgICAgICAgIChyZXNvbHZlZFR5cGUgPVxuICAgICAgICAgICAgICAgICAgICAgIFwiIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/XCIpKVxuICAgICAgICAgICAgICAgICAgOiAocGVuZGluZ1Byb3BzID0gdHlwZW9mIHR5cGUpO1xuICAgICAgICAgICAgKGZpYmVyVGFnID0gb3duZXIgPyBnZXRDb21wb25lbnROYW1lRnJvbU93bmVyKG93bmVyKSA6IG51bGwpICYmXG4gICAgICAgICAgICAgIChyZXNvbHZlZFR5cGUgKz1cbiAgICAgICAgICAgICAgICBcIlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGBcIiArIGZpYmVyVGFnICsgXCJgLlwiKTtcbiAgICAgICAgICAgIGZpYmVyVGFnID0gMjk7XG4gICAgICAgICAgICBwZW5kaW5nUHJvcHMgPSBFcnJvcihcbiAgICAgICAgICAgICAgXCJFbGVtZW50IHR5cGUgaXMgaW52YWxpZDogZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6IFwiICtcbiAgICAgICAgICAgICAgICAocGVuZGluZ1Byb3BzICsgXCIuXCIgKyByZXNvbHZlZFR5cGUpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzb2x2ZWRUeXBlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAga2V5ID0gY3JlYXRlRmliZXIoZmliZXJUYWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKTtcbiAgICAgIGtleS5lbGVtZW50VHlwZSA9IHR5cGU7XG4gICAgICBrZXkudHlwZSA9IHJlc29sdmVkVHlwZTtcbiAgICAgIGtleS5sYW5lcyA9IGxhbmVzO1xuICAgICAga2V5Ll9kZWJ1Z093bmVyID0gb3duZXI7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIG1vZGUsIGxhbmVzKSB7XG4gICAgICBtb2RlID0gY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzKFxuICAgICAgICBlbGVtZW50LnR5cGUsXG4gICAgICAgIGVsZW1lbnQua2V5LFxuICAgICAgICBlbGVtZW50LnByb3BzLFxuICAgICAgICBlbGVtZW50Ll9vd25lcixcbiAgICAgICAgbW9kZSxcbiAgICAgICAgbGFuZXNcbiAgICAgICk7XG4gICAgICBtb2RlLl9kZWJ1Z093bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICByZXR1cm4gbW9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoZWxlbWVudHMsIG1vZGUsIGxhbmVzLCBrZXkpIHtcbiAgICAgIGVsZW1lbnRzID0gY3JlYXRlRmliZXIoNywgZWxlbWVudHMsIGtleSwgbW9kZSk7XG4gICAgICBlbGVtZW50cy5sYW5lcyA9IGxhbmVzO1xuICAgICAgcmV0dXJuIGVsZW1lbnRzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlckZyb21PZmZzY3JlZW4ocGVuZGluZ1Byb3BzLCBtb2RlLCBsYW5lcywga2V5KSB7XG4gICAgICBwZW5kaW5nUHJvcHMgPSBjcmVhdGVGaWJlcigyMiwgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xuICAgICAgcGVuZGluZ1Byb3BzLmVsZW1lbnRUeXBlID0gUkVBQ1RfT0ZGU0NSRUVOX1RZUEU7XG4gICAgICBwZW5kaW5nUHJvcHMubGFuZXMgPSBsYW5lcztcbiAgICAgIHZhciBwcmltYXJ5Q2hpbGRJbnN0YW5jZSA9IHtcbiAgICAgICAgX3Zpc2liaWxpdHk6IE9mZnNjcmVlblZpc2libGUsXG4gICAgICAgIF9wZW5kaW5nVmlzaWJpbGl0eTogT2Zmc2NyZWVuVmlzaWJsZSxcbiAgICAgICAgX3BlbmRpbmdNYXJrZXJzOiBudWxsLFxuICAgICAgICBfcmV0cnlDYWNoZTogbnVsbCxcbiAgICAgICAgX3RyYW5zaXRpb25zOiBudWxsLFxuICAgICAgICBfY3VycmVudDogbnVsbCxcbiAgICAgICAgZGV0YWNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gcHJpbWFyeUNoaWxkSW5zdGFuY2UsXG4gICAgICAgICAgICBmaWJlciA9IGluc3RhbmNlLl9jdXJyZW50O1xuICAgICAgICAgIGlmIChudWxsID09PSBmaWJlcilcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkNhbGxpbmcgT2Zmc2NyZWVuLmRldGFjaCBiZWZvcmUgaW5zdGFuY2UgaGFuZGxlIGhhcyBiZWVuIHNldC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoMCA9PT0gKGluc3RhbmNlLl9wZW5kaW5nVmlzaWJpbGl0eSAmIE9mZnNjcmVlbkRldGFjaGVkKSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJlxuICAgICAgICAgICAgICAoKGluc3RhbmNlLl9wZW5kaW5nVmlzaWJpbGl0eSB8PSBPZmZzY3JlZW5EZXRhY2hlZCksXG4gICAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgMikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYXR0YWNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gcHJpbWFyeUNoaWxkSW5zdGFuY2UsXG4gICAgICAgICAgICBmaWJlciA9IGluc3RhbmNlLl9jdXJyZW50O1xuICAgICAgICAgIGlmIChudWxsID09PSBmaWJlcilcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkNhbGxpbmcgT2Zmc2NyZWVuLmRldGFjaCBiZWZvcmUgaW5zdGFuY2UgaGFuZGxlIGhhcyBiZWVuIHNldC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoMCAhPT0gKGluc3RhbmNlLl9wZW5kaW5nVmlzaWJpbGl0eSAmIE9mZnNjcmVlbkRldGFjaGVkKSkge1xuICAgICAgICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJlxuICAgICAgICAgICAgICAoKGluc3RhbmNlLl9wZW5kaW5nVmlzaWJpbGl0eSAmPSB+T2Zmc2NyZWVuRGV0YWNoZWQpLFxuICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwZW5kaW5nUHJvcHMuc3RhdGVOb2RlID0gcHJpbWFyeUNoaWxkSW5zdGFuY2U7XG4gICAgICByZXR1cm4gcGVuZGluZ1Byb3BzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlckZyb21UZXh0KGNvbnRlbnQsIG1vZGUsIGxhbmVzKSB7XG4gICAgICBjb250ZW50ID0gY3JlYXRlRmliZXIoNiwgY29udGVudCwgbnVsbCwgbW9kZSk7XG4gICAgICBjb250ZW50LmxhbmVzID0gbGFuZXM7XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJGcm9tUG9ydGFsKHBvcnRhbCwgbW9kZSwgbGFuZXMpIHtcbiAgICAgIG1vZGUgPSBjcmVhdGVGaWJlcihcbiAgICAgICAgNCxcbiAgICAgICAgbnVsbCAhPT0gcG9ydGFsLmNoaWxkcmVuID8gcG9ydGFsLmNoaWxkcmVuIDogW10sXG4gICAgICAgIHBvcnRhbC5rZXksXG4gICAgICAgIG1vZGVcbiAgICAgICk7XG4gICAgICBtb2RlLmxhbmVzID0gbGFuZXM7XG4gICAgICBtb2RlLnN0YXRlTm9kZSA9IHtcbiAgICAgICAgY29udGFpbmVySW5mbzogcG9ydGFsLmNvbnRhaW5lckluZm8sXG4gICAgICAgIHBlbmRpbmdDaGlsZHJlbjogbnVsbCxcbiAgICAgICAgaW1wbGVtZW50YXRpb246IHBvcnRhbC5pbXBsZW1lbnRhdGlvblxuICAgICAgfTtcbiAgICAgIHJldHVybiBtb2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVsb2FkUmVzb3VyY2VBbmRTdXNwZW5kSWZOZWVkZWQod29ya0luUHJvZ3Jlc3MsIHJlc291cmNlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3R5bGVzaGVldFwiICE9PSByZXNvdXJjZS50eXBlIHx8XG4gICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nICYgSW5zZXJ0ZWQpICE9PSBOb3RMb2FkZWRcbiAgICAgIClcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTE2Nzc3MjE3O1xuICAgICAgZWxzZSBpZiAoXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTY3NzcyMTYpLCAhcHJlbG9hZFJlc291cmNlKHJlc291cmNlKSlcbiAgICAgICkge1xuICAgICAgICByZXNvdXJjZSA9IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBudWxsICE9PSByZXNvdXJjZSAmJlxuICAgICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA0MTk0MTc2KSA9PT1cbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICAgPyBudWxsICE9PSBzaGVsbEJvdW5kYXJ5XG4gICAgICAgICAgICA6ICgod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA2MjkxNDU2MCkgIT09XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA1MzY4NzA5MTIpKSB8fFxuICAgICAgICAgICAgICByZXNvdXJjZSAhPT0gc2hlbGxCb3VuZGFyeSlcbiAgICAgICAgKVxuICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICgoc3VzcGVuZGVkVGhlbmFibGUgPSBub29wU3VzcGVuc2V5Q29tbWl0VGhlbmFibGUpLFxuICAgICAgICAgICAgU3VzcGVuc2V5Q29tbWl0RXhjZXB0aW9uKVxuICAgICAgICAgICk7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDgxOTI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUmV0cnlFZmZlY3Qod29ya0luUHJvZ3Jlc3MsIHJldHJ5UXVldWUpIHtcbiAgICAgIG51bGwgIT09IHJldHJ5UXVldWUgJiYgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxNjM4NCAmJlxuICAgICAgICAoKHJldHJ5UXVldWUgPVxuICAgICAgICAgIDIyICE9PSB3b3JrSW5Qcm9ncmVzcy50YWcgPyBjbGFpbU5leHRSZXRyeUxhbmUoKSA6IDUzNjg3MDkxMiksXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyB8PSByZXRyeVF1ZXVlKSxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyB8PSByZXRyeVF1ZXVlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGN1dE9mZlRhaWxJZk5lZWRlZChyZW5kZXJTdGF0ZSwgaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrKSB7XG4gICAgICBpZiAoIWlzSHlkcmF0aW5nKVxuICAgICAgICBzd2l0Y2ggKHJlbmRlclN0YXRlLnRhaWxNb2RlKSB7XG4gICAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICAgICAgaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrID0gcmVuZGVyU3RhdGUudGFpbDtcbiAgICAgICAgICAgIGZvciAodmFyIGxhc3RUYWlsTm9kZSA9IG51bGw7IG51bGwgIT09IGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjazsgKVxuICAgICAgICAgICAgICBudWxsICE9PSBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2suYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgKGxhc3RUYWlsTm9kZSA9IGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjayksXG4gICAgICAgICAgICAgICAgKGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjayA9IGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjay5zaWJsaW5nKTtcbiAgICAgICAgICAgIG51bGwgPT09IGxhc3RUYWlsTm9kZVxuICAgICAgICAgICAgICA/IChyZW5kZXJTdGF0ZS50YWlsID0gbnVsbClcbiAgICAgICAgICAgICAgOiAobGFzdFRhaWxOb2RlLnNpYmxpbmcgPSBudWxsKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJjb2xsYXBzZWRcIjpcbiAgICAgICAgICAgIGxhc3RUYWlsTm9kZSA9IHJlbmRlclN0YXRlLnRhaWw7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGFzdFRhaWxOb2RlID0gbnVsbDsgbnVsbCAhPT0gbGFzdFRhaWxOb2RlOyApXG4gICAgICAgICAgICAgIG51bGwgIT09IGxhc3RUYWlsTm9kZS5hbHRlcm5hdGUgJiYgKF9sYXN0VGFpbE5vZGUgPSBsYXN0VGFpbE5vZGUpLFxuICAgICAgICAgICAgICAgIChsYXN0VGFpbE5vZGUgPSBsYXN0VGFpbE5vZGUuc2libGluZyk7XG4gICAgICAgICAgICBudWxsID09PSBfbGFzdFRhaWxOb2RlXG4gICAgICAgICAgICAgID8gaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrIHx8IG51bGwgPT09IHJlbmRlclN0YXRlLnRhaWxcbiAgICAgICAgICAgICAgICA/IChyZW5kZXJTdGF0ZS50YWlsID0gbnVsbClcbiAgICAgICAgICAgICAgICA6IChyZW5kZXJTdGF0ZS50YWlsLnNpYmxpbmcgPSBudWxsKVxuICAgICAgICAgICAgICA6IChfbGFzdFRhaWxOb2RlLnNpYmxpbmcgPSBudWxsKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBidWJibGVQcm9wZXJ0aWVzKGNvbXBsZXRlZFdvcmspIHtcbiAgICAgIHZhciBkaWRCYWlsb3V0ID1cbiAgICAgICAgICBudWxsICE9PSBjb21wbGV0ZWRXb3JrLmFsdGVybmF0ZSAmJlxuICAgICAgICAgIGNvbXBsZXRlZFdvcmsuYWx0ZXJuYXRlLmNoaWxkID09PSBjb21wbGV0ZWRXb3JrLmNoaWxkLFxuICAgICAgICBuZXdDaGlsZExhbmVzID0gMCxcbiAgICAgICAgc3VidHJlZUZsYWdzID0gMDtcbiAgICAgIGlmIChkaWRCYWlsb3V0KVxuICAgICAgICBpZiAoKGNvbXBsZXRlZFdvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlKSB7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIHZhciBfdHJlZUJhc2VEdXJhdGlvbiA9IGNvbXBsZXRlZFdvcmsuc2VsZkJhc2VEdXJhdGlvbixcbiAgICAgICAgICAgICAgX2NoaWxkMiA9IGNvbXBsZXRlZFdvcmsuY2hpbGQ7XG4gICAgICAgICAgICBudWxsICE9PSBfY2hpbGQyO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgKG5ld0NoaWxkTGFuZXMgfD0gX2NoaWxkMi5sYW5lcyB8IF9jaGlsZDIuY2hpbGRMYW5lcyksXG4gICAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX2NoaWxkMi5zdWJ0cmVlRmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX2NoaWxkMi5mbGFncyAmIDMxNDU3MjgwKSxcbiAgICAgICAgICAgICAgKF90cmVlQmFzZUR1cmF0aW9uICs9IF9jaGlsZDIudHJlZUJhc2VEdXJhdGlvbiksXG4gICAgICAgICAgICAgIChfY2hpbGQyID0gX2NoaWxkMi5zaWJsaW5nKTtcbiAgICAgICAgICBjb21wbGV0ZWRXb3JrLnRyZWVCYXNlRHVyYXRpb24gPSBfdHJlZUJhc2VEdXJhdGlvbjtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uID0gY29tcGxldGVkV29yay5jaGlsZDtcbiAgICAgICAgICAgIG51bGwgIT09IF90cmVlQmFzZUR1cmF0aW9uO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgKG5ld0NoaWxkTGFuZXMgfD1cbiAgICAgICAgICAgICAgX3RyZWVCYXNlRHVyYXRpb24ubGFuZXMgfCBfdHJlZUJhc2VEdXJhdGlvbi5jaGlsZExhbmVzKSxcbiAgICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBfdHJlZUJhc2VEdXJhdGlvbi5zdWJ0cmVlRmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX3RyZWVCYXNlRHVyYXRpb24uZmxhZ3MgJiAzMTQ1NzI4MCksXG4gICAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbi5yZXR1cm4gPSBjb21wbGV0ZWRXb3JrKSxcbiAgICAgICAgICAgICAgKF90cmVlQmFzZUR1cmF0aW9uID0gX3RyZWVCYXNlRHVyYXRpb24uc2libGluZyk7XG4gICAgICBlbHNlIGlmICgoY29tcGxldGVkV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUpIHtcbiAgICAgICAgX3RyZWVCYXNlRHVyYXRpb24gPSBjb21wbGV0ZWRXb3JrLmFjdHVhbER1cmF0aW9uO1xuICAgICAgICBfY2hpbGQyID0gY29tcGxldGVkV29yay5zZWxmQmFzZUR1cmF0aW9uO1xuICAgICAgICBmb3IgKHZhciBjaGlsZCA9IGNvbXBsZXRlZFdvcmsuY2hpbGQ7IG51bGwgIT09IGNoaWxkOyApXG4gICAgICAgICAgKG5ld0NoaWxkTGFuZXMgfD0gY2hpbGQubGFuZXMgfCBjaGlsZC5jaGlsZExhbmVzKSxcbiAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gY2hpbGQuc3VidHJlZUZsYWdzKSxcbiAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gY2hpbGQuZmxhZ3MpLFxuICAgICAgICAgICAgKF90cmVlQmFzZUR1cmF0aW9uICs9IGNoaWxkLmFjdHVhbER1cmF0aW9uKSxcbiAgICAgICAgICAgIChfY2hpbGQyICs9IGNoaWxkLnRyZWVCYXNlRHVyYXRpb24pLFxuICAgICAgICAgICAgKGNoaWxkID0gY2hpbGQuc2libGluZyk7XG4gICAgICAgIGNvbXBsZXRlZFdvcmsuYWN0dWFsRHVyYXRpb24gPSBfdHJlZUJhc2VEdXJhdGlvbjtcbiAgICAgICAgY29tcGxldGVkV29yay50cmVlQmFzZUR1cmF0aW9uID0gX2NoaWxkMjtcbiAgICAgIH0gZWxzZVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uID0gY29tcGxldGVkV29yay5jaGlsZDtcbiAgICAgICAgICBudWxsICE9PSBfdHJlZUJhc2VEdXJhdGlvbjtcblxuICAgICAgICApXG4gICAgICAgICAgKG5ld0NoaWxkTGFuZXMgfD1cbiAgICAgICAgICAgIF90cmVlQmFzZUR1cmF0aW9uLmxhbmVzIHwgX3RyZWVCYXNlRHVyYXRpb24uY2hpbGRMYW5lcyksXG4gICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF90cmVlQmFzZUR1cmF0aW9uLnN1YnRyZWVGbGFncyksXG4gICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF90cmVlQmFzZUR1cmF0aW9uLmZsYWdzKSxcbiAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbi5yZXR1cm4gPSBjb21wbGV0ZWRXb3JrKSxcbiAgICAgICAgICAgIChfdHJlZUJhc2VEdXJhdGlvbiA9IF90cmVlQmFzZUR1cmF0aW9uLnNpYmxpbmcpO1xuICAgICAgY29tcGxldGVkV29yay5zdWJ0cmVlRmxhZ3MgfD0gc3VidHJlZUZsYWdzO1xuICAgICAgY29tcGxldGVkV29yay5jaGlsZExhbmVzID0gbmV3Q2hpbGRMYW5lcztcbiAgICAgIHJldHVybiBkaWRCYWlsb3V0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSB7XG4gICAgICB2YXIgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICBwb3BUcmVlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgNzpcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICBjYXNlIDEyOlxuICAgICAgICBjYXNlIDk6XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgcmV0dXJuIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgcmVuZGVyTGFuZXMgPSBudWxsO1xuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgKHJlbmRlckxhbmVzID0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLmNhY2hlICE9PSByZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwNDgpO1xuICAgICAgICAgIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIG5ld1Byb3BzLnBlbmRpbmdDb250ZXh0ICYmXG4gICAgICAgICAgICAoKG5ld1Byb3BzLmNvbnRleHQgPSBuZXdQcm9wcy5wZW5kaW5nQ29udGV4dCksXG4gICAgICAgICAgICAobmV3UHJvcHMucGVuZGluZ0NvbnRleHQgPSBudWxsKSk7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQgfHwgbnVsbCA9PT0gY3VycmVudC5jaGlsZClcbiAgICAgICAgICAgIHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICA/IChlbWl0UGVuZGluZ0h5ZHJhdGlvbldhcm5pbmdzKCksIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpKVxuICAgICAgICAgICAgICA6IG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgICAoY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCAmJlxuICAgICAgICAgICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMjU2KSkgfHxcbiAgICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEwMjQpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IGh5ZHJhdGlvbkVycm9ycyAmJlxuICAgICAgICAgICAgICAgICAgKHF1ZXVlUmVjb3ZlcmFibGVFcnJvcnMoaHlkcmF0aW9uRXJyb3JzKSxcbiAgICAgICAgICAgICAgICAgIChoeWRyYXRpb25FcnJvcnMgPSBudWxsKSkpO1xuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyAobWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgID8gKGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkUmVzb3VyY2VBbmRTdXNwZW5kSWZOZWVkZWQoXG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgIDogKGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTE2Nzc3MjE3KSkpXG4gICAgICAgICAgICAgIDogcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICA/IHJlbmRlckxhbmVzICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgICAgICAgID8gKG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgcHJlbG9hZFJlc291cmNlQW5kU3VzcGVuZElmTmVlZGVkKFxuICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICA6IChidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNykpXG4gICAgICAgICAgICAgICAgOiAoY3VycmVudC5tZW1vaXplZFByb3BzICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNykpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJlbmRlckxhbmVzID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgICAgICAgIHZhciBfdHlwZSA9IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpXG4gICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHMgIT09IG5ld1Byb3BzICYmIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFuZXdQcm9wcykge1xuICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJXZSBtdXN0IGhhdmUgbmV3IHByb3BzIGZvciBuZXcgbW91bnRzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgPyBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKHdvcmtJblByb2dyZXNzLCBjdXJyZW50KVxuICAgICAgICAgICAgICA6ICgoY3VycmVudCA9IHJlc29sdmVTaW5nbGV0b25JbnN0YW5jZShcbiAgICAgICAgICAgICAgICAgIF90eXBlLFxuICAgICAgICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAhMFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50KSxcbiAgICAgICAgICAgICAgICBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSlcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wcyAhPT0gbmV3UHJvcHMgJiYgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIW5ld1Byb3BzKSB7XG4gICAgICAgICAgICAgIGlmIChudWxsID09PSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIldlIG11c3QgaGF2ZSBuZXcgcHJvcHMgZm9yIG5ldyBtb3VudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdHlwZSA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICBpZiAocG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpKVxuICAgICAgICAgICAgICBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKHdvcmtJblByb2dyZXNzLCBfdHlwZSk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgY3VycmVudCA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICAgICAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nKHJlbmRlckxhbmVzLCBfdHlwZS5hbmNlc3RvckluZm8pO1xuICAgICAgICAgICAgICBfdHlwZSA9IF90eXBlLmNvbnRleHQ7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIoY3VycmVudCk7XG4gICAgICAgICAgICAgIHN3aXRjaCAoX3R5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnOlxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY3JlYXRlRWxlbWVudE5TKFNWR19OQU1FU1BBQ0UsIHJlbmRlckxhbmVzKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgSG9zdENvbnRleHROYW1lc3BhY2VNYXRoOlxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgICAgICAgICBNQVRIX05BTUVTUEFDRSxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZW5kZXJMYW5lcykge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgICAgICAgICAgICAgU1ZHX05BTUVTUEFDRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1hdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgICAgICAgICAgICAgICBNQVRIX05BTUVTUEFDRSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5pbm5lckhUTUwgPSBcIjxzY3JpcHQ+XFx4M2Mvc2NyaXB0PlwiO1xuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnJlbW92ZUNoaWxkKGN1cnJlbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdQcm9wcy5pc1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGN1cnJlbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiLCB7IGlzOiBuZXdQcm9wcy5pcyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcy5tdWx0aXBsZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoY3VycmVudC5tdWx0aXBsZSA9ICEwKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXdQcm9wcy5zaXplICYmIChjdXJyZW50LnNpemUgPSBuZXdQcm9wcy5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAoY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgbmV3UHJvcHMuaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjdXJyZW50LmNyZWF0ZUVsZW1lbnQocmVuZGVyTGFuZXMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzOiBuZXdQcm9wcy5pc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5jcmVhdGVFbGVtZW50KHJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAtMSA9PT0gcmVuZGVyTGFuZXMuaW5kZXhPZihcIi1cIikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKHJlbmRlckxhbmVzICE9PSByZW5kZXJMYW5lcy50b0xvd2VyQ2FzZSgpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPCVzIC8+IGlzIHVzaW5nIGluY29ycmVjdCBjYXNpbmcuIFVzZSBQYXNjYWxDYXNlIGZvciBSZWFjdCBjb21wb25lbnRzLCBvciBsb3dlcmNhc2UgZm9yIEhUTUwgZWxlbWVudHMuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiW29iamVjdCBIVE1MVW5rbm93bkVsZW1lbnRdXCIgIT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGN1cnJlbnQpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5lZFVua25vd25UYWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCh3YXJuZWRVbmtub3duVGFnc1tyZW5kZXJMYW5lc10gPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVGhlIHRhZyA8JXM+IGlzIHVucmVjb2duaXplZCBpbiB0aGlzIGJyb3dzZXIuIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBSZWFjdCBjb21wb25lbnQsIHN0YXJ0IGl0cyBuYW1lIHdpdGggYW4gdXBwZXJjYXNlIGxldHRlci5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSkpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnJlbnRbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgY3VycmVudFtpbnRlcm5hbFByb3BzS2V5XSA9IG5ld1Byb3BzO1xuICAgICAgICAgICAgICBhOiBmb3IgKF90eXBlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7IG51bGwgIT09IF90eXBlOyApIHtcbiAgICAgICAgICAgICAgICBpZiAoNSA9PT0gX3R5cGUudGFnIHx8IDYgPT09IF90eXBlLnRhZylcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXBwZW5kQ2hpbGQoX3R5cGUuc3RhdGVOb2RlKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICAgIDQgIT09IF90eXBlLnRhZyAmJlxuICAgICAgICAgICAgICAgICAgMjcgIT09IF90eXBlLnRhZyAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUuY2hpbGRcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIF90eXBlLmNoaWxkLnJldHVybiA9IF90eXBlO1xuICAgICAgICAgICAgICAgICAgX3R5cGUgPSBfdHlwZS5jaGlsZDtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoX3R5cGUgPT09IHdvcmtJblByb2dyZXNzKSBicmVhayBhO1xuICAgICAgICAgICAgICAgIGZvciAoOyBudWxsID09PSBfdHlwZS5zaWJsaW5nOyApIHtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBfdHlwZS5yZXR1cm4gfHwgX3R5cGUucmV0dXJuID09PSB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgIF90eXBlID0gX3R5cGUucmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdHlwZS5zaWJsaW5nLnJldHVybiA9IF90eXBlLnJldHVybjtcbiAgICAgICAgICAgICAgICBfdHlwZSA9IF90eXBlLnNpYmxpbmc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudDtcbiAgICAgICAgICAgICAgYTogc3dpdGNoIChcbiAgICAgICAgICAgICAgICAoc2V0SW5pdGlhbFByb3BlcnRpZXMoY3VycmVudCwgcmVuZGVyTGFuZXMsIG5ld1Byb3BzKSxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lcylcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSAhIW5ld1Byb3BzLmF1dG9Gb2N1cztcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9ICEwO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9ICExO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnJlbnQgJiYgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0xNjc3NzIxNztcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIGlmIChjdXJyZW50ICYmIG51bGwgIT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKVxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzICE9PSBuZXdQcm9wcyAmJiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIldlIG11c3QgaGF2ZSBuZXcgcHJvcHMgZm9yIG5ldyBtb3VudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSByZXF1aXJlZENvbnRleHQocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgICAgICAgICByZW5kZXJMYW5lcyA9IGdldEhvc3RDb250ZXh0KCk7XG4gICAgICAgICAgICBpZiAocG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgICAgX3R5cGUgPSAhZGlkU3VzcGVuZE9yRXJyb3JERVY7XG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzID0gbnVsbDtcbiAgICAgICAgICAgICAgdmFyIHJldHVybkZpYmVyID0gaHlkcmF0aW9uUGFyZW50RmliZXI7XG4gICAgICAgICAgICAgIGlmIChudWxsICE9PSByZXR1cm5GaWJlcilcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHJldHVybkZpYmVyLnRhZykge1xuICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICgoX3R5cGUgPSBkaWZmSHlkcmF0ZWRUZXh0Rm9yRGV2V2FybmluZ3MoXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVpbGRIeWRyYXRpb25EaWZmTm9kZSh3b3JrSW5Qcm9ncmVzcywgMCkuc2VydmVyUHJvcHMgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICBfdHlwZSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHJldHVybkZpYmVyLm1lbW9pemVkUHJvcHMpLFxuICAgICAgICAgICAgICAgICAgICAgIF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoKF90eXBlID0gZGlmZkh5ZHJhdGVkVGV4dEZvckRldldhcm5pbmdzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLnNlcnZlclByb3BzID0gX3R5cGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnJlbnRbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgY3VycmVudCA9XG4gICAgICAgICAgICAgICAgY3VycmVudC5ub2RlVmFsdWUgPT09IG5ld1Byb3BzIHx8XG4gICAgICAgICAgICAgICAgKG51bGwgIT09IHJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAgICAgICAhMCA9PT0gcmVuZGVyTGFuZXMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKSB8fFxuICAgICAgICAgICAgICAgIGNoZWNrRm9yVW5tYXRjaGVkVGV4dChjdXJyZW50Lm5vZGVWYWx1ZSwgbmV3UHJvcHMpXG4gICAgICAgICAgICAgICAgICA/ICEwXG4gICAgICAgICAgICAgICAgICA6ICExO1xuICAgICAgICAgICAgICBjdXJyZW50IHx8IHRocm93T25IeWRyYXRpb25NaXNtYXRjaCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gcmVuZGVyTGFuZXMuYW5jZXN0b3JJbmZvLmN1cnJlbnQpLFxuICAgICAgICAgICAgICAgIG51bGwgIT0gcmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRlVGV4dE5lc3RpbmcobmV3UHJvcHMsIHJlbmRlckxhbmVzLnRhZyksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKGN1cnJlbnQpLmNyZWF0ZVRleHROb2RlKFxuICAgICAgICAgICAgICAgICAgICBuZXdQcm9wc1xuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuZGVoeWRyYXRlZClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIF90eXBlID0gcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IG5ld1Byb3BzICYmIG51bGwgIT09IG5ld1Byb3BzLmRlaHlkcmF0ZWQpIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIV90eXBlKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiQSBkZWh5ZHJhdGVkIHN1c3BlbnNlIGNvbXBvbmVudCB3YXMgY29tcGxldGVkIHdpdGhvdXQgYSBoeWRyYXRlZCBub2RlLiBUaGlzIGlzIHByb2JhYmx5IGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIF90eXBlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgICBfdHlwZSA9IG51bGwgIT09IF90eXBlID8gX3R5cGUuZGVoeWRyYXRlZCA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFfdHlwZSlcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIHRvIGhhdmUgYSBoeWRyYXRlZCBzdXNwZW5zZSBpbnN0YW5jZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBfdHlwZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgICAgICAoKF90eXBlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gLT1cbiAgICAgICAgICAgICAgICAgICAgICBfdHlwZS50cmVlQmFzZUR1cmF0aW9uKSk7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIGVtaXRQZW5kaW5nSHlkcmF0aW9uV2FybmluZ3MoKSxcbiAgICAgICAgICAgICAgICAgIHJlc2V0SHlkcmF0aW9uU3RhdGUoKSxcbiAgICAgICAgICAgICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KSxcbiAgICAgICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICAoKF90eXBlID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQpLFxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uIC09XG4gICAgICAgICAgICAgICAgICAgICAgICBfdHlwZS50cmVlQmFzZUR1cmF0aW9uKSk7XG4gICAgICAgICAgICAgIF90eXBlID0gITE7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaHlkcmF0aW9uRXJyb3JzICYmXG4gICAgICAgICAgICAgICAgKHF1ZXVlUmVjb3ZlcmFibGVFcnJvcnMoaHlkcmF0aW9uRXJyb3JzKSxcbiAgICAgICAgICAgICAgICAoaHlkcmF0aW9uRXJyb3JzID0gbnVsbCkpLFxuICAgICAgICAgICAgICAgIChfdHlwZSA9ICEwKTtcbiAgICAgICAgICAgIGlmICghX3R5cGUpIHtcbiAgICAgICAgICAgICAgaWYgKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMjU2KVxuICAgICAgICAgICAgICAgIHJldHVybiBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLCB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgaWYgKDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCkpXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSByZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICB0cmFuc2ZlckFjdHVhbER1cmF0aW9uKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgbmV3UHJvcHMgPSBudWxsICE9PSBuZXdQcm9wcztcbiAgICAgICAgICBjdXJyZW50ID0gbnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICgocmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAoX3R5cGUgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IHJlbmRlckxhbmVzLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgICAgICAgKF90eXBlID0gcmVuZGVyTGFuZXMuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lcy5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IHJlbmRlckxhbmVzLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlbmRlckxhbmVzLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIgIT09IF90eXBlICYmIChyZW5kZXJMYW5lcy5mbGFncyB8PSAyMDQ4KSk7XG4gICAgICAgICAgbmV3UHJvcHMgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgIG5ld1Byb3BzICYmXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQuZmxhZ3MgfD0gODE5Mik7XG4gICAgICAgICAgc2NoZWR1bGVSZXRyeUVmZmVjdCh3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUpO1xuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgIG5ld1Byb3BzICYmXG4gICAgICAgICAgICAoKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uIC09IGN1cnJlbnQudHJlZUJhc2VEdXJhdGlvbikpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBsaXN0ZW5Ub0FsbFN1cHBvcnRlZEV2ZW50cyhcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MudHlwZSwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICBwb3Aoc3VzcGVuc2VTdGFja0N1cnNvciwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIF90eXBlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gX3R5cGUpIHJldHVybiBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgICBuZXdQcm9wcyA9IDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCk7XG4gICAgICAgICAgcmV0dXJuRmliZXIgPSBfdHlwZS5yZW5kZXJpbmc7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHJldHVybkZpYmVyKVxuICAgICAgICAgICAgaWYgKG5ld1Byb3BzKSBjdXRPZmZUYWlsSWZOZWVkZWQoX3R5cGUsICExKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyAhPT0gUm9vdEluUHJvZ3Jlc3MgfHxcbiAgICAgICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudCAmJiAwICE9PSAoY3VycmVudC5mbGFncyAmIDEyOCkpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBmb3IgKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDsgbnVsbCAhPT0gY3VycmVudDsgKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGZpbmRGaXJzdFN1c3BlbmRlZChjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSByZXR1cm5GaWJlcikge1xuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjg7XG4gICAgICAgICAgICAgICAgICAgIGN1dE9mZlRhaWxJZk5lZWRlZChfdHlwZSwgITEpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gcmV0dXJuRmliZXIudXBkYXRlUXVldWU7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVSZXRyeUVmZmVjdCh3b3JrSW5Qcm9ncmVzcywgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN1YnRyZWVGbGFncyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSByZW5kZXJMYW5lcztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLmNoaWxkOyBudWxsICE9PSBuZXdQcm9wczsgKVxuICAgICAgICAgICAgICAgICAgICAgIHJlc2V0V29ya0luUHJvZ3Jlc3MobmV3UHJvcHMsIGN1cnJlbnQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgKG5ld1Byb3BzID0gbmV3UHJvcHMuc2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgIHB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2VTdGFja0N1cnNvcixcbiAgICAgICAgICAgICAgICAgICAgICAoc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50ICZcbiAgICAgICAgICAgICAgICAgICAgICAgIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrKSB8XG4gICAgICAgICAgICAgICAgICAgICAgICBGb3JjZVN1c3BlbnNlRmFsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuc2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG51bGwgIT09IF90eXBlLnRhaWwgJiZcbiAgICAgICAgICAgICAgICBub3ckMSgpID4gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyVGFyZ2V0VGltZSAmJlxuICAgICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgICAobmV3UHJvcHMgPSAhMCksXG4gICAgICAgICAgICAgICAgY3V0T2ZmVGFpbElmTmVlZGVkKF90eXBlLCAhMSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gNDE5NDMwNCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFuZXdQcm9wcylcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICgoY3VycmVudCA9IGZpbmRGaXJzdFN1c3BlbmRlZChyZXR1cm5GaWJlcikpLCBudWxsICE9PSBjdXJyZW50KVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCksXG4gICAgICAgICAgICAgICAgICAobmV3UHJvcHMgPSAhMCksXG4gICAgICAgICAgICAgICAgICAoY3VycmVudCA9IGN1cnJlbnQudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudCksXG4gICAgICAgICAgICAgICAgICBzY2hlZHVsZVJldHJ5RWZmZWN0KHdvcmtJblByb2dyZXNzLCBjdXJyZW50KSxcbiAgICAgICAgICAgICAgICAgIGN1dE9mZlRhaWxJZk5lZWRlZChfdHlwZSwgITApLFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gX3R5cGUudGFpbCAmJlxuICAgICAgICAgICAgICAgICAgICBcImhpZGRlblwiID09PSBfdHlwZS50YWlsTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAhcmV0dXJuRmliZXIuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgICAgICAgICFpc0h5ZHJhdGluZylcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICByZXR1cm4gYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIDIgKiBub3ckMSgpIC0gX3R5cGUucmVuZGVyaW5nU3RhcnRUaW1lID5cbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlclRhcmdldFRpbWUgJiZcbiAgICAgICAgICAgICAgICAgIDUzNjg3MDkxMiAhPT0gcmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgICAgIChuZXdQcm9wcyA9ICEwKSxcbiAgICAgICAgICAgICAgICAgIGN1dE9mZlRhaWxJZk5lZWRlZChfdHlwZSwgITEpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gNDE5NDMwNCkpO1xuICAgICAgICAgICAgX3R5cGUuaXNCYWNrd2FyZHNcbiAgICAgICAgICAgICAgPyAoKHJldHVybkZpYmVyLnNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmV0dXJuRmliZXIpKVxuICAgICAgICAgICAgICA6ICgoY3VycmVudCA9IF90eXBlLmxhc3QpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgID8gKGN1cnJlbnQuc2libGluZyA9IHJldHVybkZpYmVyKVxuICAgICAgICAgICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgKF90eXBlLmxhc3QgPSByZXR1cm5GaWJlcikpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobnVsbCAhPT0gX3R5cGUudGFpbClcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChjdXJyZW50ID0gX3R5cGUudGFpbCksXG4gICAgICAgICAgICAgIChfdHlwZS5yZW5kZXJpbmcgPSBjdXJyZW50KSxcbiAgICAgICAgICAgICAgKF90eXBlLnRhaWwgPSBjdXJyZW50LnNpYmxpbmcpLFxuICAgICAgICAgICAgICAoX3R5cGUucmVuZGVyaW5nU3RhcnRUaW1lID0gbm93JDEoKSksXG4gICAgICAgICAgICAgIChjdXJyZW50LnNpYmxpbmcgPSBudWxsKSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50KSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gbmV3UHJvcHNcbiAgICAgICAgICAgICAgICA/IChyZW5kZXJMYW5lcyAmIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrKSB8XG4gICAgICAgICAgICAgICAgICBGb3JjZVN1c3BlbnNlRmFsbGJhY2tcbiAgICAgICAgICAgICAgICA6IHJlbmRlckxhbmVzICYgU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2spLFxuICAgICAgICAgICAgICBwdXNoKHN1c3BlbnNlU3RhY2tDdXJzb3IsIHJlbmRlckxhbmVzLCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBwb3BIaWRkZW5Db250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChuZXdQcm9wcyA9IG51bGwgIT09IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudFxuICAgICAgICAgICAgICA/IChudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyKVxuICAgICAgICAgICAgICA6IG5ld1Byb3BzICYmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA4MTkyKSxcbiAgICAgICAgICAgIG5ld1Byb3BzXG4gICAgICAgICAgICAgID8gMCAhPT0gKHJlbmRlckxhbmVzICYgNTM2ODcwOTEyKSAmJlxuICAgICAgICAgICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCkgJiZcbiAgICAgICAgICAgICAgICAoYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3VidHJlZUZsYWdzICYgNiAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDgxOTIpKVxuICAgICAgICAgICAgICA6IGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgc2NoZWR1bGVSZXRyeUVmZmVjdCh3b3JrSW5Qcm9ncmVzcywgbmV3UHJvcHMucmV0cnlRdWV1ZSksXG4gICAgICAgICAgICAobmV3UHJvcHMgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgICAgICAgKG5ld1Byb3BzID0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKSxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzICE9PSBuZXdQcm9wcyAmJiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA0OCksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIHBvcChyZXN1bWVkQ2FjaGUsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAobmV3UHJvcHMgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgKG5ld1Byb3BzID0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUuY2FjaGUgIT09IG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyMDQ4KSxcbiAgICAgICAgICAgIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIlVua25vd24gdW5pdCBvZiB3b3JrIHRhZyAoXCIgK1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnRhZyArXG4gICAgICAgICAgXCIpLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bndpbmRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSB7XG4gICAgICBwb3BUcmVlQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuZmxhZ3MpLFxuICAgICAgICAgICAgY3VycmVudCAmIDY1NTM2XG4gICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IChjdXJyZW50ICYgLTY1NTM3KSB8IDEyOCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgdHJhbnNmZXJBY3R1YWxEdXJhdGlvbih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcG9wUHJvdmlkZXIoQ2FjaGVDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuZmxhZ3MpLFxuICAgICAgICAgICAgMCAhPT0gKGN1cnJlbnQgJiA2NTUzNikgJiYgMCA9PT0gKGN1cnJlbnQgJiAxMjgpXG4gICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IChjdXJyZW50ICYgLTY1NTM3KSB8IDEyOCksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXR1cm4gcG9wSG9zdENvbnRleHQod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudC5kZWh5ZHJhdGVkKSB7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlRocmV3IGluIG5ld2x5IG1vdW50ZWQgZGVoeWRyYXRlZCBjb21wb25lbnQuIFRoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuZmxhZ3M7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnQgJiA2NTUzNlxuICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmZsYWdzID0gKGN1cnJlbnQgJiAtNjU1MzcpIHwgMTI4KSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgIHRyYW5zZmVyQWN0dWFsRHVyYXRpb24od29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZXR1cm4gcG9wKHN1c3BlbnNlU3RhY2tDdXJzb3IsIHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiBwb3BIb3N0Q29udGFpbmVyKHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICByZXR1cm4gcG9wUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MudHlwZSwgd29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcG9wSGlkZGVuQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIHBvcChyZXN1bWVkQ2FjaGUsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuZmxhZ3MpLFxuICAgICAgICAgICAgY3VycmVudCAmIDY1NTM2XG4gICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyA9IChjdXJyZW50ICYgLTY1NTM3KSB8IDEyOCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgdHJhbnNmZXJBY3R1YWxEdXJhdGlvbih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgIDogbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmV0dXJuIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgd29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1bndpbmRJbnRlcnJ1cHRlZFdvcmsoY3VycmVudCwgaW50ZXJydXB0ZWRXb3JrKSB7XG4gICAgICBwb3BUcmVlQ29udGV4dChpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgc3dpdGNoIChpbnRlcnJ1cHRlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcihpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcG9wSG9zdENvbnRleHQoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHBvcEhvc3RDb250YWluZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICBwb3Aoc3VzcGVuc2VTdGFja0N1cnNvciwgaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBwb3BQcm92aWRlcihpbnRlcnJ1cHRlZFdvcmsudHlwZSwgaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBwb3BIaWRkZW5Db250ZXh0KGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBwb3AocmVzdW1lZENhY2hlLCBpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gb25Db21taXRSb290KCkge1xuICAgICAgY29tbWl0SG9va3MuZm9yRWFjaChmdW5jdGlvbiAoY29tbWl0SG9vaykge1xuICAgICAgICByZXR1cm4gY29tbWl0SG9vaygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQ29uY3VycmVudEFjdEVudmlyb25tZW50KCkge1xuICAgICAgdmFyIGlzUmVhY3RBY3RFbnZpcm9ubWVudEdsb2JhbCA9XG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBJU19SRUFDVF9BQ1RfRU5WSVJPTk1FTlRcbiAgICAgICAgICA/IElTX1JFQUNUX0FDVF9FTlZJUk9OTUVOVFxuICAgICAgICAgIDogdm9pZCAwO1xuICAgICAgaXNSZWFjdEFjdEVudmlyb25tZW50R2xvYmFsIHx8XG4gICAgICAgIG51bGwgPT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJUaGUgY3VycmVudCB0ZXN0aW5nIGVudmlyb25tZW50IGlzIG5vdCBjb25maWd1cmVkIHRvIHN1cHBvcnQgYWN0KC4uLilcIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGlzUmVhY3RBY3RFbnZpcm9ubWVudEdsb2JhbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdFVwZGF0ZUxhbmUoZmliZXIpIHtcbiAgICAgIGlmIChcbiAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSAhPT0gTm9Db250ZXh0ICYmXG4gICAgICAgIDAgIT09IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICApXG4gICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIC13b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcztcbiAgICAgIHZhciB0cmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVDtcbiAgICAgIHJldHVybiBudWxsICE9PSB0cmFuc2l0aW9uXG4gICAgICAgID8gKHRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgfHwgKHRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgPSBuZXcgU2V0KCkpLFxuICAgICAgICAgIHRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuYWRkKGZpYmVyKSxcbiAgICAgICAgICAoZmliZXIgPSBjdXJyZW50RW50YW5nbGVkTGFuZSksXG4gICAgICAgICAgMCAhPT0gZmliZXIgPyBmaWJlciA6IHJlcXVlc3RUcmFuc2l0aW9uTGFuZSgpKVxuICAgICAgICA6IHJlc29sdmVVcGRhdGVQcmlvcml0eSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0RGVmZXJyZWRMYW5lKCkge1xuICAgICAgMCA9PT0gd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lID1cbiAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA1MzY4NzA5MTIpIHx8IGlzSHlkcmF0aW5nXG4gICAgICAgICAgICA/IGNsYWltTmV4dFRyYW5zaXRpb25MYW5lKClcbiAgICAgICAgICAgIDogNTM2ODcwOTEyKTtcbiAgICAgIHZhciBzdXNwZW5zZUhhbmRsZXIgPSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50O1xuICAgICAgbnVsbCAhPT0gc3VzcGVuc2VIYW5kbGVyICYmIChzdXNwZW5zZUhhbmRsZXIuZmxhZ3MgfD0gMzIpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIGxhbmUpIHtcbiAgICAgIGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFwidXNlSW5zZXJ0aW9uRWZmZWN0IG11c3Qgbm90IHNjaGVkdWxlIHVwZGF0ZXMuXCIpO1xuICAgICAgaXNGbHVzaGluZ1Bhc3NpdmVFZmZlY3RzICYmIChkaWRTY2hlZHVsZVVwZGF0ZUR1cmluZ1Bhc3NpdmVFZmZlY3RzID0gITApO1xuICAgICAgaWYgKFxuICAgICAgICAocm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ICYmXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRGF0YSkgfHxcbiAgICAgICAgbnVsbCAhPT0gcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0XG4gICAgICApXG4gICAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIDApLFxuICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAhMVxuICAgICAgICAgICk7XG4gICAgICBtYXJrUm9vdFVwZGF0ZWQkMShyb290LCBsYW5lKTtcbiAgICAgIGlmIChcbiAgICAgICAgMCAhPT0gKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSAmJlxuICAgICAgICByb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3RcbiAgICAgICkge1xuICAgICAgICBpZiAoaXNSZW5kZXJpbmcpXG4gICAgICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICByb290ID1cbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgJiYgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcih3b3JrSW5Qcm9ncmVzcykpIHx8XG4gICAgICAgICAgICAgICAgXCJVbmtub3duXCI7XG4gICAgICAgICAgICAgIGRpZFdhcm5BYm91dFVwZGF0ZUluUmVuZGVyRm9yQW5vdGhlckNvbXBvbmVudC5oYXMocm9vdCkgfHxcbiAgICAgICAgICAgICAgICAoZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXJGb3JBbm90aGVyQ29tcG9uZW50LmFkZChyb290KSxcbiAgICAgICAgICAgICAgICAoZmliZXIgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIlVua25vd25cIiksXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHVwZGF0ZSBhIGNvbXBvbmVudCAoYCVzYCkgd2hpbGUgcmVuZGVyaW5nIGEgZGlmZmVyZW50IGNvbXBvbmVudCAoYCVzYCkuIFRvIGxvY2F0ZSB0aGUgYmFkIHNldFN0YXRlKCkgY2FsbCBpbnNpZGUgYCVzYCwgZm9sbG93IHRoZSBzdGFjayB0cmFjZSBhcyBkZXNjcmliZWQgaW4gaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9zZXRzdGF0ZS1pbi1yZW5kZXJcIixcbiAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIHJvb3RcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgIGRpZFdhcm5BYm91dFVwZGF0ZUluUmVuZGVyIHx8XG4gICAgICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbm5vdCB1cGRhdGUgZHVyaW5nIGFuIGV4aXN0aW5nIHN0YXRlIHRyYW5zaXRpb24gKHN1Y2ggYXMgd2l0aGluIGByZW5kZXJgKS4gUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuXCJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlciA9ICEwKSk7XG4gICAgICAgICAgfVxuICAgICAgfSBlbHNlXG4gICAgICAgIGlzRGV2VG9vbHNQcmVzZW50ICYmIGFkZEZpYmVyVG9MYW5lc01hcChyb290LCBmaWJlciwgbGFuZSksXG4gICAgICAgICAgd2FybklmVXBkYXRlc05vdFdyYXBwZWRXaXRoQWN0REVWKGZpYmVyKSxcbiAgICAgICAgICByb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgJiZcbiAgICAgICAgICAgICgoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpID09PSBOb0NvbnRleHQgJiZcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzIHw9IGxhbmUpLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheSAmJlxuICAgICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVyZm9ybVdvcmtPblJvb3Qocm9vdCwgbGFuZXMsIGZvcmNlU3luYykge1xuICAgICAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09IE5vQ29udGV4dClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgbm90IGFscmVhZHkgYmUgd29ya2luZy5cIik7XG4gICAgICB2YXIgc2hvdWxkVGltZVNsaWNlID1cbiAgICAgICAgICAoIWZvcmNlU3luYyAmJlxuICAgICAgICAgICAgMCA9PT0gKGxhbmVzICYgNjApICYmXG4gICAgICAgICAgICAwID09PSAobGFuZXMgJiByb290LmV4cGlyZWRMYW5lcykpIHx8XG4gICAgICAgICAgY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhyb290LCBsYW5lcyksXG4gICAgICAgIGV4aXRTdGF0dXMgPSBzaG91bGRUaW1lU2xpY2VcbiAgICAgICAgICA/IHJlbmRlclJvb3RDb25jdXJyZW50KHJvb3QsIGxhbmVzKVxuICAgICAgICAgIDogcmVuZGVyUm9vdFN5bmMocm9vdCwgbGFuZXMsICEwKSxcbiAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudCA9IHNob3VsZFRpbWVTbGljZTtcbiAgICAgIGRvIHtcbiAgICAgICAgaWYgKGV4aXRTdGF0dXMgPT09IFJvb3RJblByb2dyZXNzKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmcgJiZcbiAgICAgICAgICAgICFzaG91bGRUaW1lU2xpY2UgJiZcbiAgICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKHJvb3QsIGxhbmVzLCAwLCAhMSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoZXhpdFN0YXR1cyA9PT0gUm9vdERpZE5vdENvbXBsZXRlKVxuICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgICF3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3NcbiAgICAgICAgICApO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBmb3JjZVN5bmMgPSByb290LmN1cnJlbnQuYWx0ZXJuYXRlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQgJiZcbiAgICAgICAgICAgICFpc1JlbmRlckNvbnNpc3RlbnRXaXRoRXh0ZXJuYWxTdG9yZXMoZm9yY2VTeW5jKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZXhpdFN0YXR1cyA9IHJlbmRlclJvb3RTeW5jKHJvb3QsIGxhbmVzLCAhMSk7XG4gICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50ID0gITE7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV4aXRTdGF0dXMgPT09IFJvb3RFcnJvcmVkKSB7XG4gICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50ID0gbGFuZXM7XG4gICAgICAgICAgICBpZiAocm9vdC5lcnJvclJlY292ZXJ5RGlzYWJsZWRMYW5lcyAmIHJlbmRlcldhc0NvbmN1cnJlbnQpXG4gICAgICAgICAgICAgIHZhciBlcnJvclJldHJ5TGFuZXMgPSAwO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAoZXJyb3JSZXRyeUxhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXMgJiAtNTM2ODcwOTEzKSxcbiAgICAgICAgICAgICAgICAoZXJyb3JSZXRyeUxhbmVzID1cbiAgICAgICAgICAgICAgICAgIDAgIT09IGVycm9yUmV0cnlMYW5lc1xuICAgICAgICAgICAgICAgICAgICA/IGVycm9yUmV0cnlMYW5lc1xuICAgICAgICAgICAgICAgICAgICA6IGVycm9yUmV0cnlMYW5lcyAmIDUzNjg3MDkxMlxuICAgICAgICAgICAgICAgICAgICAgID8gNTM2ODcwOTEyXG4gICAgICAgICAgICAgICAgICAgICAgOiAwKTtcbiAgICAgICAgICAgIGlmICgwICE9PSBlcnJvclJldHJ5TGFuZXMpIHtcbiAgICAgICAgICAgICAgbGFuZXMgPSBlcnJvclJldHJ5TGFuZXM7XG4gICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICBleGl0U3RhdHVzID0gcm9vdDtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwID0gZXJyb3JSZXRyeUxhbmVzO1xuICAgICAgICAgICAgICAgIGVycm9yUmV0cnlMYW5lcyA9IHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnM7XG4gICAgICAgICAgICAgICAgdmFyIHdhc1Jvb3REZWh5ZHJhdGVkID1cbiAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZDtcbiAgICAgICAgICAgICAgICB3YXNSb290RGVoeWRyYXRlZCAmJlxuICAgICAgICAgICAgICAgICAgKHByZXBhcmVGcmVzaFN0YWNrKFxuICAgICAgICAgICAgICAgICAgICBleGl0U3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBlcnJvclJldHJ5TGFuZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICkuZmxhZ3MgfD0gMjU2KTtcbiAgICAgICAgICAgICAgICBlcnJvclJldHJ5TGFuZXMkanNjb21wJDAgPSByZW5kZXJSb290U3luYyhcbiAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMsXG4gICAgICAgICAgICAgICAgICBlcnJvclJldHJ5TGFuZXMkanNjb21wJDAsXG4gICAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yUmV0cnlMYW5lcyRqc2NvbXAkMCAhPT0gUm9vdEVycm9yZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkQXR0YWNoUGluZ0xpc3RlbmVyICYmXG4gICAgICAgICAgICAgICAgICAgICF3YXNSb290RGVoeWRyYXRlZFxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMuZXJyb3JSZWNvdmVyeURpc2FibGVkTGFuZXMgfD1cbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyB8PVxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMgPSBSb290U3VzcGVuZGVkV2l0aERlbGF5O1xuICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZXhpdFN0YXR1cyA9IHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzO1xuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMgPSBlcnJvclJldHJ5TGFuZXM7XG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBleGl0U3RhdHVzICYmIHF1ZXVlUmVjb3ZlcmFibGVFcnJvcnMoZXhpdFN0YXR1cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMgPSBlcnJvclJldHJ5TGFuZXMkanNjb21wJDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudCA9ICExO1xuICAgICAgICAgICAgICBpZiAoZXhpdFN0YXR1cyAhPT0gUm9vdEVycm9yZWQpIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXhpdFN0YXR1cyA9PT0gUm9vdEZhdGFsRXJyb3JlZCkge1xuICAgICAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgMCk7XG4gICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChyb290LCBsYW5lcywgMCwgITApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSA9IHJvb3Q7XG4gICAgICAgICAgICBzd2l0Y2ggKGV4aXRTdGF0dXMpIHtcbiAgICAgICAgICAgICAgY2FzZSBSb290SW5Qcm9ncmVzczpcbiAgICAgICAgICAgICAgY2FzZSBSb290RmF0YWxFcnJvcmVkOlxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiUm9vdCBkaWQgbm90IGNvbXBsZXRlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiKTtcbiAgICAgICAgICAgICAgY2FzZSBSb290U3VzcGVuZGVkV2l0aERlbGF5OlxuICAgICAgICAgICAgICAgIGlmICgobGFuZXMgJiA0MTk0MTc2KSA9PT0gbGFuZXMpIHtcbiAgICAgICAgICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICAgICAgIXdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5nc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJvb3RFcnJvcmVkOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSb290U3VzcGVuZGVkOlxuICAgICAgICAgICAgICBjYXNlIFJvb3RDb21wbGV0ZWQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIHJvb3QgZXhpdCBzdGF0dXMuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLmZpbmlzaGVkV29yayA9IGZvcmNlU3luYztcbiAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZS5maW5pc2hlZExhbmVzID0gbGFuZXM7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUpXG4gICAgICAgICAgICAgIGNvbW1pdFJvb3QoXG4gICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICAgICAgICAgICAgSU1NRURJQVRFX0NPTU1JVCxcbiAgICAgICAgICAgICAgICByZW5kZXJTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAobGFuZXMgJiA2MjkxNDU2MCkgPT09IGxhbmVzICYmXG4gICAgICAgICAgICAgICAgKChleGl0U3RhdHVzID1cbiAgICAgICAgICAgICAgICAgIGdsb2JhbE1vc3RSZWNlbnRGYWxsYmFja1RpbWUgK1xuICAgICAgICAgICAgICAgICAgRkFMTEJBQ0tfVEhST1RUTEVfTVMgLVxuICAgICAgICAgICAgICAgICAgbm93JDEoKSksXG4gICAgICAgICAgICAgICAgMTAgPCBleGl0U3RhdHVzKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSxcbiAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgICAhd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gZ2V0TmV4dExhbmVzKHNob3VsZFRpbWVTbGljZSwgMCkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLnRpbWVvdXRIYW5kbGUgPSBzY2hlZHVsZVRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICBjb21taXRSb290V2hlblJlYWR5LmJpbmQoXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSxcbiAgICAgICAgICAgICAgICAgICAgZm9yY2VTeW5jLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3MsXG4gICAgICAgICAgICAgICAgICAgIFRIUk9UVExFRF9DT01NSVQsXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29tbWl0Um9vdFdoZW5SZWFkeShcbiAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgZm9yY2VTeW5jLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSxcbiAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzLFxuICAgICAgICAgICAgICAgIElNTUVESUFURV9DT01NSVQsXG4gICAgICAgICAgICAgICAgcmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9IHdoaWxlICgxKTtcbiAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcXVldWVSZWNvdmVyYWJsZUVycm9ycyhlcnJvcnMpIHtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzXG4gICAgICAgID8gKHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gZXJyb3JzKVxuICAgICAgICA6IHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzLnB1c2guYXBwbHkoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgIGVycm9yc1xuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFJvb3RXaGVuUmVhZHkoXG4gICAgICByb290LFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICB0cmFuc2l0aW9ucyxcbiAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgIGxhbmVzLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgZGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzLFxuICAgICAgc3VzcGVuZGVkQ29tbWl0UmVhc29uLFxuICAgICAgY29tcGxldGVkUmVuZGVyU3RhcnRUaW1lLFxuICAgICAgY29tcGxldGVkUmVuZGVyRW5kVGltZVxuICAgICkge1xuICAgICAgdmFyIHN1YnRyZWVGbGFncyA9IGZpbmlzaGVkV29yay5zdWJ0cmVlRmxhZ3M7XG4gICAgICBpZiAoc3VidHJlZUZsYWdzICYgODE5MiB8fCAxNjc4NTQwOCA9PT0gKHN1YnRyZWVGbGFncyAmIDE2Nzg1NDA4KSlcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgoc3VzcGVuZGVkU3RhdGUgPSB7IHN0eWxlc2hlZXRzOiBudWxsLCBjb3VudDogMCwgdW5zdXNwZW5kOiBub29wIH0pLFxuICAgICAgICAgIGFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXRPbkZpYmVyKGZpbmlzaGVkV29yayksXG4gICAgICAgICAgKGZpbmlzaGVkV29yayA9IHdhaXRGb3JDb21taXRUb0JlUmVhZHkoKSksXG4gICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrKVxuICAgICAgICApIHtcbiAgICAgICAgICByb290LmNhbmNlbFBlbmRpbmdDb21taXQgPSBmaW5pc2hlZFdvcmsoXG4gICAgICAgICAgICBjb21taXRSb290LmJpbmQoXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9ucyxcbiAgICAgICAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgICAgICAgICBzcGF3bmVkTGFuZSxcbiAgICAgICAgICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgICAgICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgICBTVVNQRU5ERURfQ09NTUlULFxuICAgICAgICAgICAgICBjb21wbGV0ZWRSZW5kZXJTdGFydFRpbWUsXG4gICAgICAgICAgICAgIGNvbXBsZXRlZFJlbmRlckVuZFRpbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgICAgICAhZGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGNvbW1pdFJvb3QoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICB0cmFuc2l0aW9ucyxcbiAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgICBzcGF3bmVkTGFuZSxcbiAgICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICBzdXNwZW5kZWRDb21taXRSZWFzb24sXG4gICAgICAgIGNvbXBsZXRlZFJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgY29tcGxldGVkUmVuZGVyRW5kVGltZVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNSZW5kZXJDb25zaXN0ZW50V2l0aEV4dGVybmFsU3RvcmVzKGZpbmlzaGVkV29yaykge1xuICAgICAgZm9yICh2YXIgbm9kZSA9IGZpbmlzaGVkV29yazsgOyApIHtcbiAgICAgICAgdmFyIHRhZyA9IG5vZGUudGFnO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKDAgPT09IHRhZyB8fCAxMSA9PT0gdGFnIHx8IDE1ID09PSB0YWcpICYmXG4gICAgICAgICAgbm9kZS5mbGFncyAmIDE2Mzg0ICYmXG4gICAgICAgICAgKCh0YWcgPSBub2RlLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICBudWxsICE9PSB0YWcgJiYgKCh0YWcgPSB0YWcuc3RvcmVzKSwgbnVsbCAhPT0gdGFnKSlcbiAgICAgICAgKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFnLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hlY2sgPSB0YWdbaV0sXG4gICAgICAgICAgICAgIGdldFNuYXBzaG90ID0gY2hlY2suZ2V0U25hcHNob3Q7XG4gICAgICAgICAgICBjaGVjayA9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKCFvYmplY3RJcyhnZXRTbmFwc2hvdCgpLCBjaGVjaykpIHJldHVybiAhMTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIHRhZyA9IG5vZGUuY2hpbGQ7XG4gICAgICAgIGlmIChub2RlLnN1YnRyZWVGbGFncyAmIDE2Mzg0ICYmIG51bGwgIT09IHRhZylcbiAgICAgICAgICAodGFnLnJldHVybiA9IG5vZGUpLCAobm9kZSA9IHRhZyk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChub2RlID09PSBmaW5pc2hlZFdvcmspIGJyZWFrO1xuICAgICAgICAgIGZvciAoOyBudWxsID09PSBub2RlLnNpYmxpbmc7ICkge1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IG5vZGUucmV0dXJuIHx8IG5vZGUucmV0dXJuID09PSBmaW5pc2hlZFdvcmspIHJldHVybiAhMDtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbm9kZS5zaWJsaW5nLnJldHVybiA9IG5vZGUucmV0dXJuO1xuICAgICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICByb290LFxuICAgICAgc3VzcGVuZGVkTGFuZXMsXG4gICAgICBzcGF3bmVkTGFuZSxcbiAgICAgIGRpZEF0dGVtcHRFbnRpcmVUcmVlXG4gICAgKSB7XG4gICAgICBzdXNwZW5kZWRMYW5lcyAmPSB+d29ya0luUHJvZ3Jlc3NSb290UGluZ2VkTGFuZXM7XG4gICAgICBzdXNwZW5kZWRMYW5lcyAmPSB+d29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXM7XG4gICAgICByb290LnN1c3BlbmRlZExhbmVzIHw9IHN1c3BlbmRlZExhbmVzO1xuICAgICAgcm9vdC5waW5nZWRMYW5lcyAmPSB+c3VzcGVuZGVkTGFuZXM7XG4gICAgICBkaWRBdHRlbXB0RW50aXJlVHJlZSAmJiAocm9vdC53YXJtTGFuZXMgfD0gc3VzcGVuZGVkTGFuZXMpO1xuICAgICAgZGlkQXR0ZW1wdEVudGlyZVRyZWUgPSByb290LmV4cGlyYXRpb25UaW1lcztcbiAgICAgIGZvciAodmFyIGxhbmVzID0gc3VzcGVuZGVkTGFuZXM7IDAgPCBsYW5lczsgKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDMxIC0gY2x6MzIobGFuZXMpLFxuICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4O1xuICAgICAgICBkaWRBdHRlbXB0RW50aXJlVHJlZVtpbmRleF0gPSAtMTtcbiAgICAgICAgbGFuZXMgJj0gfmxhbmU7XG4gICAgICB9XG4gICAgICAwICE9PSBzcGF3bmVkTGFuZSAmJlxuICAgICAgICBtYXJrU3Bhd25lZERlZmVycmVkTGFuZShyb290LCBzcGF3bmVkTGFuZSwgc3VzcGVuZGVkTGFuZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaFN5bmNXb3JrJDEoKSB7XG4gICAgICByZXR1cm4gKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSA9PT0gTm9Db250ZXh0XG4gICAgICAgID8gKGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKDAsICExKSwgITEpXG4gICAgICAgIDogITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0V29ya0luUHJvZ3Jlc3NTdGFjaygpIHtcbiAgICAgIGlmIChudWxsICE9PSB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPT09IE5vdFN1c3BlbmRlZClcbiAgICAgICAgICB2YXIgaW50ZXJydXB0ZWRXb3JrID0gd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgKGludGVycnVwdGVkV29yayA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHJlc2V0Q29udGV4dERlcGVuZGVuY2llcygpLFxuICAgICAgICAgICAgcmVzZXRIb29rc09uVW53aW5kKGludGVycnVwdGVkV29yayksXG4gICAgICAgICAgICAodGhlbmFibGVTdGF0ZSQxID0gbnVsbCksXG4gICAgICAgICAgICAodGhlbmFibGVJbmRleENvdW50ZXIkMSA9IDApLFxuICAgICAgICAgICAgKGludGVycnVwdGVkV29yayA9IHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgZm9yICg7IG51bGwgIT09IGludGVycnVwdGVkV29yazsgKVxuICAgICAgICAgIHVud2luZEludGVycnVwdGVkV29yayhpbnRlcnJ1cHRlZFdvcmsuYWx0ZXJuYXRlLCBpbnRlcnJ1cHRlZFdvcmspLFxuICAgICAgICAgICAgKGludGVycnVwdGVkV29yayA9IGludGVycnVwdGVkV29yay5yZXR1cm4pO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIGxhbmVzKSB7XG4gICAgICByb290LmZpbmlzaGVkV29yayA9IG51bGw7XG4gICAgICByb290LmZpbmlzaGVkTGFuZXMgPSAwO1xuICAgICAgdmFyIHRpbWVvdXRIYW5kbGUgPSByb290LnRpbWVvdXRIYW5kbGU7XG4gICAgICB0aW1lb3V0SGFuZGxlICE9PSBub1RpbWVvdXQgJiZcbiAgICAgICAgKChyb290LnRpbWVvdXRIYW5kbGUgPSBub1RpbWVvdXQpLCBjYW5jZWxUaW1lb3V0KHRpbWVvdXRIYW5kbGUpKTtcbiAgICAgIHRpbWVvdXRIYW5kbGUgPSByb290LmNhbmNlbFBlbmRpbmdDb21taXQ7XG4gICAgICBudWxsICE9PSB0aW1lb3V0SGFuZGxlICYmXG4gICAgICAgICgocm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0ID0gbnVsbCksIHRpbWVvdXRIYW5kbGUoKSk7XG4gICAgICByZXNldFdvcmtJblByb2dyZXNzU3RhY2soKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9IHJvb3Q7XG4gICAgICB3b3JrSW5Qcm9ncmVzcyA9IHRpbWVvdXRIYW5kbGUgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhyb290LmN1cnJlbnQsIG51bGwpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgPSBsYW5lcztcbiAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3MgPSAhMTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nID0gY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhyb290LCBsYW5lcyk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRBdHRhY2hQaW5nTGlzdGVuZXIgPSAhMTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290SW5Qcm9ncmVzcztcbiAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UGluZ2VkTGFuZXMgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyA9XG4gICAgICAgICAgMDtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzID0gd29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9ycyA9XG4gICAgICAgIG51bGw7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRJbmNsdWRlUmVjdXJzaXZlUmVuZGVyVXBkYXRlID0gITE7XG4gICAgICAwICE9PSAobGFuZXMgJiA4KSAmJiAobGFuZXMgfD0gbGFuZXMgJiAzMik7XG4gICAgICB2YXIgYWxsRW50YW5nbGVkTGFuZXMgPSByb290LmVudGFuZ2xlZExhbmVzO1xuICAgICAgaWYgKDAgIT09IGFsbEVudGFuZ2xlZExhbmVzKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHJvb3QgPSByb290LmVudGFuZ2xlbWVudHMsIGFsbEVudGFuZ2xlZExhbmVzICY9IGxhbmVzO1xuICAgICAgICAgIDAgPCBhbGxFbnRhbmdsZWRMYW5lcztcblxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKGFsbEVudGFuZ2xlZExhbmVzKSxcbiAgICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4O1xuICAgICAgICAgIGxhbmVzIHw9IHJvb3RbaW5kZXhdO1xuICAgICAgICAgIGFsbEVudGFuZ2xlZExhbmVzICY9IH5sYW5lO1xuICAgICAgICB9XG4gICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lcyA9IGxhbmVzO1xuICAgICAgZmluaXNoUXVldWVpbmdDb25jdXJyZW50VXBkYXRlcygpO1xuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZGlzY2FyZFBlbmRpbmdXYXJuaW5ncygpO1xuICAgICAgcmV0dXJuIHRpbWVvdXRIYW5kbGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVRocm93KHJvb3QsIHRocm93blZhbHVlKSB7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxID0gbnVsbDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBDb250ZXh0T25seURpc3BhdGNoZXI7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBudWxsO1xuICAgICAgaXNSZW5kZXJpbmcgPSAhMTtcbiAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgdGhyb3duVmFsdWUgPT09IFN1c3BlbnNlRXhjZXB0aW9uXG4gICAgICAgID8gKCh0aHJvd25WYWx1ZSA9IGdldFN1c3BlbmRlZFRoZW5hYmxlKCkpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IFN1c3BlbmRlZE9uSW1tZWRpYXRlKSlcbiAgICAgICAgOiB0aHJvd25WYWx1ZSA9PT0gU3VzcGVuc2V5Q29tbWl0RXhjZXB0aW9uXG4gICAgICAgICAgPyAoKHRocm93blZhbHVlID0gZ2V0U3VzcGVuZGVkVGhlbmFibGUoKSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBTdXNwZW5kZWRPbkluc3RhbmNlKSlcbiAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9XG4gICAgICAgICAgICAgIHRocm93blZhbHVlID09PSBTZWxlY3RpdmVIeWRyYXRpb25FeGNlcHRpb25cbiAgICAgICAgICAgICAgICA/IFN1c3BlbmRlZE9uSHlkcmF0aW9uXG4gICAgICAgICAgICAgICAgOiBudWxsICE9PSB0aHJvd25WYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdGhyb3duVmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdGhyb3duVmFsdWUudGhlblxuICAgICAgICAgICAgICAgICAgPyBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2VcbiAgICAgICAgICAgICAgICAgIDogU3VzcGVuZGVkT25FcnJvcik7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gdGhyb3duVmFsdWU7XG4gICAgICB2YXIgZXJyb3JlZFdvcmsgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIGlmIChudWxsID09PSBlcnJvcmVkV29yaylcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RmF0YWxFcnJvcmVkKSxcbiAgICAgICAgICBsb2dVbmNhdWdodEVycm9yKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKHRocm93blZhbHVlLCByb290LmN1cnJlbnQpXG4gICAgICAgICAgKTtcbiAgICAgIGVsc2VcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoZXJyb3JlZFdvcmsubW9kZSAmIFByb2ZpbGVNb2RlICYmXG4gICAgICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZER1cmF0aW9uKGVycm9yZWRXb3JrKSxcbiAgICAgICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRXJyb3I6XG4gICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50RXJyb3JlZCAmJlxuICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRFcnJvcmVkKFxuICAgICAgICAgICAgICAgIGVycm9yZWRXb3JrLFxuICAgICAgICAgICAgICAgIHRocm93blZhbHVlLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGF0YTpcbiAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSW1tZWRpYXRlOlxuICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlOlxuICAgICAgICAgIGNhc2UgU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlOlxuICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFN1c3BlbmRlZCAmJlxuICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRTdXNwZW5kZWQoXG4gICAgICAgICAgICAgICAgZXJyb3JlZFdvcmssXG4gICAgICAgICAgICAgICAgdGhyb3duVmFsdWUsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoRGlzcGF0Y2hlcigpIHtcbiAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gQ29udGV4dE9ubHlEaXNwYXRjaGVyO1xuICAgICAgcmV0dXJuIG51bGwgPT09IHByZXZEaXNwYXRjaGVyID8gQ29udGV4dE9ubHlEaXNwYXRjaGVyIDogcHJldkRpc3BhdGNoZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hBc3luY0Rpc3BhdGNoZXIoKSB7XG4gICAgICB2YXIgcHJldkFzeW5jRGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkE7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5BID0gRGVmYXVsdEFzeW5jRGlzcGF0Y2hlcjtcbiAgICAgIHJldHVybiBwcmV2QXN5bmNEaXNwYXRjaGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5kZXJEaWRTdXNwZW5kRGVsYXlJZlBvc3NpYmxlKCkge1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3MgfHxcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDQxOTQxNzYpICE9PVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYmXG4gICAgICAgICAgbnVsbCAhPT0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudCkgfHxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nID0gITApO1xuICAgICAgKDAgPT09ICh3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgJiAxMzQyMTc3MjcpICYmXG4gICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyAmIDEzNDIxNzcyNykpIHx8XG4gICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdCB8fFxuICAgICAgICBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgITFcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyUm9vdFN5bmMocm9vdCwgbGFuZXMsIHNob3VsZFlpZWxkRm9yUHJlcmVuZGVyaW5nKSB7XG4gICAgICB2YXIgcHJldkV4ZWN1dGlvbkNvbnRleHQgPSBleGVjdXRpb25Db250ZXh0O1xuICAgICAgZXhlY3V0aW9uQ29udGV4dCB8PSBSZW5kZXJDb250ZXh0O1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gcHVzaERpc3BhdGNoZXIoKSxcbiAgICAgICAgcHJldkFzeW5jRGlzcGF0Y2hlciA9IHB1c2hBc3luY0Rpc3BhdGNoZXIoKTtcbiAgICAgIGlmIChcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290ICE9PSByb290IHx8XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICE9PSBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGlmIChpc0RldlRvb2xzUHJlc2VudCkge1xuICAgICAgICAgIHZhciBtZW1vaXplZFVwZGF0ZXJzID0gcm9vdC5tZW1vaXplZFVwZGF0ZXJzO1xuICAgICAgICAgIDAgPCBtZW1vaXplZFVwZGF0ZXJzLnNpemUgJiZcbiAgICAgICAgICAgIChyZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKHJvb3QsIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMuY2xlYXIoKSk7XG4gICAgICAgICAgbW92ZVBlbmRpbmdGaWJlcnNUb01lbW9pemVkKHJvb3QsIGxhbmVzKTtcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zID0gbnVsbDtcbiAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgbGFuZXMpO1xuICAgICAgfVxuICAgICAgbWFya1JlbmRlclN0YXJ0ZWQobGFuZXMpO1xuICAgICAgbGFuZXMgPSAhMTtcbiAgICAgIG1lbW9pemVkVXBkYXRlcnMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzO1xuICAgICAgYTogZG9cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiAhPT0gTm90U3VzcGVuZGVkICYmXG4gICAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIHVuaXRPZldvcmsgPSB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgdGhyb3duVmFsdWUgPSB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlO1xuICAgICAgICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbikge1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSHlkcmF0aW9uOlxuICAgICAgICAgICAgICAgIHJlc2V0V29ya0luUHJvZ3Jlc3NTdGFjaygpO1xuICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMgPSBSb290RGlkTm90Q29tcGxldGU7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkltbWVkaWF0ZTpcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkRhdGE6XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlOlxuICAgICAgICAgICAgICAgIG51bGwgPT09IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQgJiYgKGxhbmVzID0gITApO1xuICAgICAgICAgICAgICAgIHZhciByZWFzb24gPSB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbjtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvd0FuZFVud2luZFdvcmtMb29wKHJvb3QsIHVuaXRPZldvcmssIHRocm93blZhbHVlLCByZWFzb24pO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgIHNob3VsZFlpZWxkRm9yUHJlcmVuZGVyaW5nICYmXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZ1xuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyA9IFJvb3RJblByb2dyZXNzO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgKHJlYXNvbiA9IHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZCksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChyb290LCB1bml0T2ZXb3JrLCB0aHJvd25WYWx1ZSwgcmVhc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgd29ya0xvb3BTeW5jKCk7XG4gICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyA9IHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gY2F0Y2ggKHRocm93blZhbHVlJDgpIHtcbiAgICAgICAgICBoYW5kbGVUaHJvdyhyb290LCB0aHJvd25WYWx1ZSQ4KTtcbiAgICAgICAgfVxuICAgICAgd2hpbGUgKDEpO1xuICAgICAgbGFuZXMgJiYgcm9vdC5zaGVsbFN1c3BlbmRDb3VudGVyKys7XG4gICAgICByZXNldENvbnRleHREZXBlbmRlbmNpZXMoKTtcbiAgICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkEgPSBwcmV2QXN5bmNEaXNwYXRjaGVyO1xuICAgICAgbWFya1JlbmRlclN0b3BwZWQoKTtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzICYmXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbCksXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyA9IDApLFxuICAgICAgICBmaW5pc2hRdWV1ZWluZ0NvbmN1cnJlbnRVcGRhdGVzKCkpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkVXBkYXRlcnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdvcmtMb29wU3luYygpIHtcbiAgICAgIGZvciAoOyBudWxsICE9PSB3b3JrSW5Qcm9ncmVzczsgKSBwZXJmb3JtVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlclJvb3RDb25jdXJyZW50KHJvb3QsIGxhbmVzKSB7XG4gICAgICB2YXIgcHJldkV4ZWN1dGlvbkNvbnRleHQgPSBleGVjdXRpb25Db250ZXh0O1xuICAgICAgZXhlY3V0aW9uQ29udGV4dCB8PSBSZW5kZXJDb250ZXh0O1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gcHVzaERpc3BhdGNoZXIoKSxcbiAgICAgICAgcHJldkFzeW5jRGlzcGF0Y2hlciA9IHB1c2hBc3luY0Rpc3BhdGNoZXIoKTtcbiAgICAgIGlmIChcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290ICE9PSByb290IHx8XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICE9PSBsYW5lc1xuICAgICAgKSB7XG4gICAgICAgIGlmIChpc0RldlRvb2xzUHJlc2VudCkge1xuICAgICAgICAgIHZhciBtZW1vaXplZFVwZGF0ZXJzID0gcm9vdC5tZW1vaXplZFVwZGF0ZXJzO1xuICAgICAgICAgIDAgPCBtZW1vaXplZFVwZGF0ZXJzLnNpemUgJiZcbiAgICAgICAgICAgIChyZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKHJvb3QsIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMuY2xlYXIoKSk7XG4gICAgICAgICAgbW92ZVBlbmRpbmdGaWJlcnNUb01lbW9pemVkKHJvb3QsIGxhbmVzKTtcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zID0gbnVsbDtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyVGFyZ2V0VGltZSA9IG5vdyQxKCkgKyBSRU5ERVJfVElNRU9VVF9NUztcbiAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgbGFuZXMpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nID0gY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhcbiAgICAgICAgICByb290LFxuICAgICAgICAgIGxhbmVzXG4gICAgICAgICk7XG4gICAgICBtYXJrUmVuZGVyU3RhcnRlZChsYW5lcyk7XG4gICAgICBhOiBkb1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uICE9PSBOb3RTdXNwZW5kZWQgJiZcbiAgICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKVxuICAgICAgICAgICAgYjogc3dpdGNoIChcbiAgICAgICAgICAgICAgKChsYW5lcyA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgKG1lbW9pemVkVXBkYXRlcnMgPSB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlKSxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24pXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkVycm9yOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLFxuICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkT25FcnJvclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EYXRhOlxuICAgICAgICAgICAgICAgIGlmIChpc1RoZW5hYmxlUmVzb2x2ZWQobWVtb2l6ZWRVcGRhdGVycykpIHtcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICByZXBsYXlTdXNwZW5kZWRVbml0T2ZXb3JrKGxhbmVzKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsYW5lcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRhdGEgJiZcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290ID09PSByb290ICYmXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlKTtcbiAgICAgICAgICAgICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMudGhlbihsYW5lcywgbGFuZXMpO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25JbW1lZGlhdGU6XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWU7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkluc3RhbmNlOlxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID1cbiAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZE9uSW5zdGFuY2VBbmRSZWFkeVRvQ29udGludWU7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWU6XG4gICAgICAgICAgICAgICAgaXNUaGVuYWJsZVJlc29sdmVkKG1lbW9pemVkVXBkYXRlcnMpXG4gICAgICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQpLFxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICByZXBsYXlTdXNwZW5kZWRVbml0T2ZXb3JrKGxhbmVzKSlcbiAgICAgICAgICAgICAgICAgIDogKCh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZCksXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3AoXG4gICAgICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkluc3RhbmNlQW5kUmVhZHlUb0NvbnRpbnVlOlxuICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgICAgIHZhciBob3N0RmliZXIgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlID8gcHJlbG9hZFJlc291cmNlKHJlc291cmNlKSA6IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgc2libGluZyA9IGhvc3RGaWJlci5zaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBzaWJsaW5nKSB3b3JrSW5Qcm9ncmVzcyA9IHNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuRmliZXIgPSBob3N0RmliZXIucmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlVW5pdE9mV29yayhyZXR1cm5GaWJlcikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzID0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiVW5leHBlY3RlZCB0eXBlIG9mIGZpYmVyIHRyaWdnZXJlZCBhIHN1c3BlbnNleSBjb21taXQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMsXG4gICAgICAgICAgICAgICAgICBTdXNwZW5kZWRPbkluc3RhbmNlQW5kUmVhZHlUb0NvbnRpbnVlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2U6XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMsXG4gICAgICAgICAgICAgICAgICBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSHlkcmF0aW9uOlxuICAgICAgICAgICAgICAgIHJlc2V0V29ya0luUHJvZ3Jlc3NTdGFjaygpO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RGlkTm90Q29tcGxldGU7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVW5leHBlY3RlZCBTdXNwZW5kZWRSZWFzb24uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlXG4gICAgICAgICAgICA/IHdvcmtMb29wU3luYygpXG4gICAgICAgICAgICA6IHdvcmtMb29wQ29uY3VycmVudCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IGNhdGNoICh0aHJvd25WYWx1ZSQ5KSB7XG4gICAgICAgICAgaGFuZGxlVGhyb3cocm9vdCwgdGhyb3duVmFsdWUkOSk7XG4gICAgICAgIH1cbiAgICAgIHdoaWxlICgxKTtcbiAgICAgIHJlc2V0Q29udGV4dERlcGVuZGVuY2llcygpO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuQSA9IHByZXZBc3luY0Rpc3BhdGNoZXI7XG4gICAgICBleGVjdXRpb25Db250ZXh0ID0gcHJldkV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICBpZiAobnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyWWllbGRlZCAmJlxuICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyWWllbGRlZCgpLFxuICAgICAgICAgIFJvb3RJblByb2dyZXNzXG4gICAgICAgICk7XG4gICAgICBtYXJrUmVuZGVyU3RvcHBlZCgpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzID0gMDtcbiAgICAgIGZpbmlzaFF1ZXVlaW5nQ29uY3VycmVudFVwZGF0ZXMoKTtcbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3b3JrTG9vcENvbmN1cnJlbnQoKSB7XG4gICAgICBmb3IgKDsgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MgJiYgIXNob3VsZFlpZWxkKCk7IClcbiAgICAgICAgcGVyZm9ybVVuaXRPZldvcmsod29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZXJmb3JtVW5pdE9mV29yayh1bml0T2ZXb3JrKSB7XG4gICAgICB2YXIgY3VycmVudCA9IHVuaXRPZldvcmsuYWx0ZXJuYXRlO1xuICAgICAgKHVuaXRPZldvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlXG4gICAgICAgID8gKHN0YXJ0UHJvZmlsZXJUaW1lcih1bml0T2ZXb3JrKSxcbiAgICAgICAgICAoY3VycmVudCA9IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIGJlZ2luV29yayxcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXNcbiAgICAgICAgICApKSxcbiAgICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZER1cmF0aW9uKHVuaXRPZldvcmspKVxuICAgICAgICA6IChjdXJyZW50ID0gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgYmVnaW5Xb3JrLFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lc1xuICAgICAgICAgICkpO1xuICAgICAgdW5pdE9mV29yay5tZW1vaXplZFByb3BzID0gdW5pdE9mV29yay5wZW5kaW5nUHJvcHM7XG4gICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgID8gY29tcGxldGVVbml0T2ZXb3JrKHVuaXRPZldvcmspXG4gICAgICAgIDogKHdvcmtJblByb2dyZXNzID0gY3VycmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxheVN1c3BlbmRlZFVuaXRPZldvcmsodW5pdE9mV29yaykge1xuICAgICAgdmFyIG5leHQgPSBydW5XaXRoRmliZXJJbkRFVih1bml0T2ZXb3JrLCByZXBsYXlCZWdpbldvcmssIHVuaXRPZldvcmspO1xuICAgICAgdW5pdE9mV29yay5tZW1vaXplZFByb3BzID0gdW5pdE9mV29yay5wZW5kaW5nUHJvcHM7XG4gICAgICBudWxsID09PSBuZXh0ID8gY29tcGxldGVVbml0T2ZXb3JrKHVuaXRPZldvcmspIDogKHdvcmtJblByb2dyZXNzID0gbmV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxheUJlZ2luV29yayh1bml0T2ZXb3JrKSB7XG4gICAgICB2YXIgY3VycmVudCA9IHVuaXRPZldvcmsuYWx0ZXJuYXRlLFxuICAgICAgICBpc1Byb2ZpbGluZ01vZGUgPSAodW5pdE9mV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGU7XG4gICAgICBpc1Byb2ZpbGluZ01vZGUgJiYgc3RhcnRQcm9maWxlclRpbWVyKHVuaXRPZldvcmspO1xuICAgICAgc3dpdGNoICh1bml0T2ZXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDE1OlxuICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgY3VycmVudCA9IHJlcGxheUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICB1bml0T2ZXb3JrLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHVuaXRPZldvcmsudHlwZSxcbiAgICAgICAgICAgIHZvaWQgMCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjdXJyZW50ID0gcmVwbGF5RnVuY3Rpb25Db21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIHVuaXRPZldvcmsucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgdW5pdE9mV29yay50eXBlLnJlbmRlcixcbiAgICAgICAgICAgIHVuaXRPZldvcmsucmVmLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmVzZXRIb29rc09uVW53aW5kKHVuaXRPZldvcmspO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHVud2luZEludGVycnVwdGVkV29yayhjdXJyZW50LCB1bml0T2ZXb3JrKSxcbiAgICAgICAgICAgICh1bml0T2ZXb3JrID0gd29ya0luUHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICByZXNldFdvcmtJblByb2dyZXNzKHVuaXRPZldvcmssIGVudGFuZ2xlZFJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAoY3VycmVudCA9IGJlZ2luV29yayhjdXJyZW50LCB1bml0T2ZXb3JrLCBlbnRhbmdsZWRSZW5kZXJMYW5lcykpO1xuICAgICAgfVxuICAgICAgaXNQcm9maWxpbmdNb2RlICYmXG4gICAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkRHVyYXRpb24odW5pdE9mV29yayk7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dBbmRVbndpbmRXb3JrTG9vcChcbiAgICAgIHJvb3QsXG4gICAgICB1bml0T2ZXb3JrLFxuICAgICAgdGhyb3duVmFsdWUsXG4gICAgICBzdXNwZW5kZWRSZWFzb25cbiAgICApIHtcbiAgICAgIHJlc2V0Q29udGV4dERlcGVuZGVuY2llcygpO1xuICAgICAgcmVzZXRIb29rc09uVW53aW5kKHVuaXRPZldvcmspO1xuICAgICAgdGhlbmFibGVTdGF0ZSQxID0gbnVsbDtcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgPSAwO1xuICAgICAgdmFyIHJldHVybkZpYmVyID0gdW5pdE9mV29yay5yZXR1cm47XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdGhyb3dFeGNlcHRpb24oXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgdGhyb3duVmFsdWUsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RGYXRhbEVycm9yZWQ7XG4gICAgICAgICAgbG9nVW5jYXVnaHRFcnJvcihcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih0aHJvd25WYWx1ZSwgcm9vdC5jdXJyZW50KVxuICAgICAgICAgICk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKG51bGwgIT09IHJldHVybkZpYmVyKSB0aHJvdyAoKHdvcmtJblByb2dyZXNzID0gcmV0dXJuRmliZXIpLCBlcnJvcik7XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RmF0YWxFcnJvcmVkO1xuICAgICAgICBsb2dVbmNhdWdodEVycm9yKFxuICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodGhyb3duVmFsdWUsIHJvb3QuY3VycmVudClcbiAgICAgICAgKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodW5pdE9mV29yay5mbGFncyAmIDMyNzY4KSB7XG4gICAgICAgIGlmIChpc0h5ZHJhdGluZyB8fCBzdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRXJyb3IpIHJvb3QgPSAhMDtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmcgfHxcbiAgICAgICAgICAwICE9PSAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA1MzY4NzA5MTIpXG4gICAgICAgIClcbiAgICAgICAgICByb290ID0gITE7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICgod29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzID0gcm9vdCA9ICEwKSxcbiAgICAgICAgICBzdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRGF0YSB8fFxuICAgICAgICAgICAgc3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkltbWVkaWF0ZSB8fFxuICAgICAgICAgICAgc3VzcGVuZGVkUmVhc29uID09PSBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2UpXG4gICAgICAgIClcbiAgICAgICAgICAoc3VzcGVuZGVkUmVhc29uID0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudCksXG4gICAgICAgICAgICBudWxsICE9PSBzdXNwZW5kZWRSZWFzb24gJiZcbiAgICAgICAgICAgICAgMTMgPT09IHN1c3BlbmRlZFJlYXNvbi50YWcgJiZcbiAgICAgICAgICAgICAgKHN1c3BlbmRlZFJlYXNvbi5mbGFncyB8PSAxNjM4NCk7XG4gICAgICAgIHVud2luZFVuaXRPZldvcmsodW5pdE9mV29yaywgcm9vdCk7XG4gICAgICB9IGVsc2UgY29tcGxldGVVbml0T2ZXb3JrKHVuaXRPZldvcmspO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVVuaXRPZldvcmsodW5pdE9mV29yaykge1xuICAgICAgdmFyIGNvbXBsZXRlZFdvcmsgPSB1bml0T2ZXb3JrO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoMCAhPT0gKGNvbXBsZXRlZFdvcmsuZmxhZ3MgJiAzMjc2OCkpIHtcbiAgICAgICAgICB1bndpbmRVbml0T2ZXb3JrKFxuICAgICAgICAgICAgY29tcGxldGVkV29yayxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5nc1xuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50ID0gY29tcGxldGVkV29yay5hbHRlcm5hdGU7XG4gICAgICAgIHVuaXRPZldvcmsgPSBjb21wbGV0ZWRXb3JrLnJldHVybjtcbiAgICAgICAgc3RhcnRQcm9maWxlclRpbWVyKGNvbXBsZXRlZFdvcmspO1xuICAgICAgICBjdXJyZW50ID0gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgY29tcGxldGVkV29yayxcbiAgICAgICAgICBjb21wbGV0ZVdvcmssXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBjb21wbGV0ZWRXb3JrLFxuICAgICAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzXG4gICAgICAgICk7XG4gICAgICAgIChjb21wbGV0ZWRXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkSW5jb21wbGV0ZUR1cmF0aW9uKGNvbXBsZXRlZFdvcmspO1xuICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gY3VycmVudDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29tcGxldGVkV29yayA9IGNvbXBsZXRlZFdvcmsuc2libGluZztcbiAgICAgICAgaWYgKG51bGwgIT09IGNvbXBsZXRlZFdvcmspIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IGNvbXBsZXRlZFdvcms7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gY29tcGxldGVkV29yayA9IHVuaXRPZldvcms7XG4gICAgICB9IHdoaWxlIChudWxsICE9PSBjb21wbGV0ZWRXb3JrKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RJblByb2dyZXNzICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdENvbXBsZXRlZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVud2luZFVuaXRPZldvcmsodW5pdE9mV29yaywgc2tpcFNpYmxpbmdzKSB7XG4gICAgICBkbyB7XG4gICAgICAgIHZhciBuZXh0ID0gdW53aW5kV29yayh1bml0T2ZXb3JrLmFsdGVybmF0ZSwgdW5pdE9mV29yayk7XG4gICAgICAgIGlmIChudWxsICE9PSBuZXh0KSB7XG4gICAgICAgICAgbmV4dC5mbGFncyAmPSAzMjc2NztcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG5leHQ7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICgodW5pdE9mV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUpIHtcbiAgICAgICAgICBzdG9wUHJvZmlsZXJUaW1lcklmUnVubmluZ0FuZFJlY29yZEluY29tcGxldGVEdXJhdGlvbih1bml0T2ZXb3JrKTtcbiAgICAgICAgICBuZXh0ID0gdW5pdE9mV29yay5hY3R1YWxEdXJhdGlvbjtcbiAgICAgICAgICBmb3IgKHZhciBjaGlsZCA9IHVuaXRPZldvcmsuY2hpbGQ7IG51bGwgIT09IGNoaWxkOyApXG4gICAgICAgICAgICAobmV4dCArPSBjaGlsZC5hY3R1YWxEdXJhdGlvbiksIChjaGlsZCA9IGNoaWxkLnNpYmxpbmcpO1xuICAgICAgICAgIHVuaXRPZldvcmsuYWN0dWFsRHVyYXRpb24gPSBuZXh0O1xuICAgICAgICB9XG4gICAgICAgIG5leHQgPSB1bml0T2ZXb3JrLnJldHVybjtcbiAgICAgICAgbnVsbCAhPT0gbmV4dCAmJlxuICAgICAgICAgICgobmV4dC5mbGFncyB8PSAzMjc2OCksXG4gICAgICAgICAgKG5leHQuc3VidHJlZUZsYWdzID0gMCksXG4gICAgICAgICAgKG5leHQuZGVsZXRpb25zID0gbnVsbCkpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIXNraXBTaWJsaW5ncyAmJlxuICAgICAgICAgICgodW5pdE9mV29yayA9IHVuaXRPZldvcmsuc2libGluZyksIG51bGwgIT09IHVuaXRPZldvcmspXG4gICAgICAgICkge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gdW5pdE9mV29yaztcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB1bml0T2ZXb3JrID0gbmV4dDtcbiAgICAgIH0gd2hpbGUgKG51bGwgIT09IHVuaXRPZldvcmspO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3REaWROb3RDb21wbGV0ZTtcbiAgICAgIHdvcmtJblByb2dyZXNzID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Um9vdChcbiAgICAgIHJvb3QsXG4gICAgICByZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgIHRyYW5zaXRpb25zLFxuICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgc3Bhd25lZExhbmUsXG4gICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgc3VzcGVuZGVkQ29tbWl0UmVhc29uLFxuICAgICAgY29tcGxldGVkUmVuZGVyU3RhcnRUaW1lLFxuICAgICAgY29tcGxldGVkUmVuZGVyRW5kVGltZVxuICAgICkge1xuICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgcHJldmlvdXNVcGRhdGVMYW5lUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgdHJ5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbCksXG4gICAgICAgICAgY29tbWl0Um9vdEltcGwoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgICAgICB0cmFuc2l0aW9ucyxcbiAgICAgICAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgICAgICAgIHByZXZpb3VzVXBkYXRlTGFuZVByaW9yaXR5LFxuICAgICAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICAgICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzLFxuICAgICAgICAgICAgc3VzcGVuZGVkQ29tbWl0UmVhc29uLFxuICAgICAgICAgICAgY29tcGxldGVkUmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICAgICAgY29tcGxldGVkUmVuZGVyRW5kVGltZVxuICAgICAgICAgICk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKSxcbiAgICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzVXBkYXRlTGFuZVByaW9yaXR5KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Um9vdEltcGwoXG4gICAgICByb290LFxuICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICB0cmFuc2l0aW9ucyxcbiAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSxcbiAgICAgIHJlbmRlclByaW9yaXR5TGV2ZWwsXG4gICAgICBzcGF3bmVkTGFuZSxcbiAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXNcbiAgICApIHtcbiAgICAgIGRvIGZsdXNoUGFzc2l2ZUVmZmVjdHMoKTtcbiAgICAgIHdoaWxlIChudWxsICE9PSByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyk7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaExlZ2FjeUNvbnRleHRXYXJuaW5nKCk7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncygpO1xuICAgICAgaWYgKChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09IE5vQ29udGV4dClcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJTaG91bGQgbm90IGFscmVhZHkgYmUgd29ya2luZy5cIik7XG4gICAgICB2YXIgZmluaXNoZWRXb3JrID0gcm9vdC5maW5pc2hlZFdvcms7XG4gICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUgPSByb290LmZpbmlzaGVkTGFuZXM7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbW1pdFN0YXJ0ZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tbWl0U3RhcnRlZChkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUpO1xuICAgICAgaWYgKG51bGwgPT09IGZpbmlzaGVkV29yaykgcmV0dXJuIG1hcmtDb21taXRTdG9wcGVkKCksIG51bGw7XG4gICAgICAwID09PSBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcInJvb3QuZmluaXNoZWRMYW5lcyBzaG91bGQgbm90IGJlIGVtcHR5IGR1cmluZyBhIGNvbW1pdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgcm9vdC5maW5pc2hlZFdvcmsgPSBudWxsO1xuICAgICAgcm9vdC5maW5pc2hlZExhbmVzID0gMDtcbiAgICAgIGlmIChmaW5pc2hlZFdvcmsgPT09IHJvb3QuY3VycmVudClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJDYW5ub3QgY29tbWl0IHRoZSBzYW1lIHRyZWUgYXMgYmVmb3JlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICByb290LmNhbGxiYWNrTm9kZSA9IG51bGw7XG4gICAgICByb290LmNhbGxiYWNrUHJpb3JpdHkgPSAwO1xuICAgICAgcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0ID0gbnVsbDtcbiAgICAgIHZhciByZW1haW5pbmdMYW5lcyA9IGZpbmlzaGVkV29yay5sYW5lcyB8IGZpbmlzaGVkV29yay5jaGlsZExhbmVzO1xuICAgICAgcmVtYWluaW5nTGFuZXMgfD0gY29uY3VycmVudGx5VXBkYXRlZExhbmVzO1xuICAgICAgbWFya1Jvb3RGaW5pc2hlZChcbiAgICAgICAgcm9vdCxcbiAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgICByZW1haW5pbmdMYW5lcyxcbiAgICAgICAgc3Bhd25lZExhbmUsXG4gICAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lc1xuICAgICAgKTtcbiAgICAgIHJvb3QgPT09IHdvcmtJblByb2dyZXNzUm9vdCAmJlxuICAgICAgICAoKHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbCksXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyA9IDApKTtcbiAgICAgICgwID09PSAoZmluaXNoZWRXb3JrLnN1YnRyZWVGbGFncyAmIDEwMjU2KSAmJlxuICAgICAgICAwID09PSAoZmluaXNoZWRXb3JrLmZsYWdzICYgMTAyNTYpKSB8fFxuICAgICAgICByb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cyB8fFxuICAgICAgICAoKHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzID0gITApLFxuICAgICAgICAocGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVtYWluaW5nTGFuZXMgPSByZW1haW5pbmdMYW5lcyksXG4gICAgICAgIChwZW5kaW5nUGFzc2l2ZVRyYW5zaXRpb25zID0gdHJhbnNpdGlvbnMpLFxuICAgICAgICBzY2hlZHVsZUNhbGxiYWNrJDEoTm9ybWFsUHJpb3JpdHkkMSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZsdXNoUGFzc2l2ZUVmZmVjdHMoITApO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9KSk7XG4gICAgICBjb21taXRTdGFydFRpbWUgPSBub3coKTtcbiAgICAgIHRyYW5zaXRpb25zID0gMCAhPT0gKGZpbmlzaGVkV29yay5mbGFncyAmIDE1OTkwKTtcbiAgICAgIDAgIT09IChmaW5pc2hlZFdvcmsuc3VidHJlZUZsYWdzICYgMTU5OTApIHx8IHRyYW5zaXRpb25zXG4gICAgICAgID8gKCh0cmFuc2l0aW9ucyA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbCksXG4gICAgICAgICAgKHNwYXduZWRMYW5lID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCksXG4gICAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkpLFxuICAgICAgICAgICh1cGRhdGVkTGFuZXMgPSBleGVjdXRpb25Db250ZXh0KSxcbiAgICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCB8PSBDb21taXRDb250ZXh0KSxcbiAgICAgICAgICBjb21taXRCZWZvcmVNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICBjb21taXRNdXRhdGlvbkVmZmVjdHMoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlXG4gICAgICAgICAgKSxcbiAgICAgICAgICByZXN0b3JlU2VsZWN0aW9uKHNlbGVjdGlvbkluZm9ybWF0aW9uLCByb290LmNvbnRhaW5lckluZm8pLFxuICAgICAgICAgIChfZW5hYmxlZCA9ICEhZXZlbnRzRW5hYmxlZCksXG4gICAgICAgICAgKHNlbGVjdGlvbkluZm9ybWF0aW9uID0gZXZlbnRzRW5hYmxlZCA9IG51bGwpLFxuICAgICAgICAgIChyb290LmN1cnJlbnQgPSBmaW5pc2hlZFdvcmspLFxuICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0xheW91dEVmZmVjdHNTdGFydGVkICYmXG4gICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtMYXlvdXRFZmZlY3RzU3RhcnRlZChcbiAgICAgICAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlXG4gICAgICAgICAgICApLFxuICAgICAgICAgIGNvbW1pdExheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrLCByb290LCBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUpLFxuICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0xheW91dEVmZmVjdHNTdG9wcGVkICYmXG4gICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtMYXlvdXRFZmZlY3RzU3RvcHBlZCgpLFxuICAgICAgICAgIHJlcXVlc3RQYWludCgpLFxuICAgICAgICAgIChleGVjdXRpb25Db250ZXh0ID0gdXBkYXRlZExhbmVzKSxcbiAgICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHNwYXduZWRMYW5lKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHRyYW5zaXRpb25zKSlcbiAgICAgICAgOiAocm9vdC5jdXJyZW50ID0gZmluaXNoZWRXb3JrKTtcbiAgICAgICh0cmFuc2l0aW9ucyA9IHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzKVxuICAgICAgICA/ICgocm9vdERvZXNIYXZlUGFzc2l2ZUVmZmVjdHMgPSAhMSksXG4gICAgICAgICAgKHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzID0gcm9vdCksXG4gICAgICAgICAgKHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzID0gZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlKSlcbiAgICAgICAgOiAocmVsZWFzZVJvb3RQb29sZWRDYWNoZShyb290LCByZW1haW5pbmdMYW5lcyksXG4gICAgICAgICAgKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDApLFxuICAgICAgICAgIChyb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzID0gbnVsbCkpO1xuICAgICAgcmVtYWluaW5nTGFuZXMgPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgIDAgPT09IHJlbWFpbmluZ0xhbmVzICYmIChsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG51bGwpO1xuICAgICAgdHJhbnNpdGlvbnMgfHwgY29tbWl0RG91YmxlSW52b2tlRWZmZWN0c0luREVWKHJvb3QpO1xuICAgICAgb25Db21taXRSb290JDEoZmluaXNoZWRXb3JrLnN0YXRlTm9kZSwgcmVuZGVyUHJpb3JpdHlMZXZlbCk7XG4gICAgICBpc0RldlRvb2xzUHJlc2VudCAmJiByb290Lm1lbW9pemVkVXBkYXRlcnMuY2xlYXIoKTtcbiAgICAgIG9uQ29tbWl0Um9vdCgpO1xuICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgICAgaWYgKG51bGwgIT09IHJlY292ZXJhYmxlRXJyb3JzKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHJlbmRlclByaW9yaXR5TGV2ZWwgPSByb290Lm9uUmVjb3ZlcmFibGVFcnJvciwgZmluaXNoZWRXb3JrID0gMDtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsgPCByZWNvdmVyYWJsZUVycm9ycy5sZW5ndGg7XG4gICAgICAgICAgZmluaXNoZWRXb3JrKytcbiAgICAgICAgKVxuICAgICAgICAgIChyZW1haW5pbmdMYW5lcyA9IHJlY292ZXJhYmxlRXJyb3JzW2ZpbmlzaGVkV29ya10pLFxuICAgICAgICAgICAgKHRyYW5zaXRpb25zID0gbWFrZUVycm9ySW5mbyhyZW1haW5pbmdMYW5lcy5zdGFjaykpLFxuICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgIHJlbWFpbmluZ0xhbmVzLnNvdXJjZSxcbiAgICAgICAgICAgICAgcmVuZGVyUHJpb3JpdHlMZXZlbCxcbiAgICAgICAgICAgICAgcmVtYWluaW5nTGFuZXMudmFsdWUsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgMCAhPT0gKHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzICYgMykgJiYgZmx1c2hQYXNzaXZlRWZmZWN0cygpO1xuICAgICAgcmVtYWluaW5nTGFuZXMgPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgIDAgIT09IChkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUgJiA0MTk0MjE4KSAmJlxuICAgICAgMCAhPT0gKHJlbWFpbmluZ0xhbmVzICYgNDIpXG4gICAgICAgID8gKChuZXN0ZWRVcGRhdGVTY2hlZHVsZWQgPSAhMCksXG4gICAgICAgICAgcm9vdCA9PT0gcm9vdFdpdGhOZXN0ZWRVcGRhdGVzXG4gICAgICAgICAgICA/IG5lc3RlZFVwZGF0ZUNvdW50KytcbiAgICAgICAgICAgIDogKChuZXN0ZWRVcGRhdGVDb3VudCA9IDApLCAocm9vdFdpdGhOZXN0ZWRVcGRhdGVzID0gcm9vdCkpKVxuICAgICAgICA6IChuZXN0ZWRVcGRhdGVDb3VudCA9IDApO1xuICAgICAgZmx1c2hTeW5jV29ya0Fjcm9zc1Jvb3RzX2ltcGwoMCwgITEpO1xuICAgICAgbWFya0NvbW1pdFN0b3BwZWQoKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYWtlRXJyb3JJbmZvKGNvbXBvbmVudFN0YWNrKSB7XG4gICAgICBjb21wb25lbnRTdGFjayA9IHsgY29tcG9uZW50U3RhY2s6IGNvbXBvbmVudFN0YWNrIH07XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29tcG9uZW50U3RhY2ssIFwiZGlnZXN0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdZb3UgYXJlIGFjY2Vzc2luZyBcImRpZ2VzdFwiIGZyb20gdGhlIGVycm9ySW5mbyBvYmplY3QgcGFzc2VkIHRvIG9uUmVjb3ZlcmFibGVFcnJvci4gVGhpcyBwcm9wZXJ0eSBpcyBubyBsb25nZXIgcHJvdmlkZWQgYXMgcGFydCBvZiBlcnJvckluZm8gYnV0IGNhbiBiZSBhY2Nlc3NlZCBhcyBhIHByb3BlcnR5IG9mIHRoZSBFcnJvciBpbnN0YW5jZSBpdHNlbGYuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbXBvbmVudFN0YWNrO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWxlYXNlUm9vdFBvb2xlZENhY2hlKHJvb3QsIHJlbWFpbmluZ0xhbmVzKSB7XG4gICAgICAwID09PSAocm9vdC5wb29sZWRDYWNoZUxhbmVzICY9IHJlbWFpbmluZ0xhbmVzKSAmJlxuICAgICAgICAoKHJlbWFpbmluZ0xhbmVzID0gcm9vdC5wb29sZWRDYWNoZSksXG4gICAgICAgIG51bGwgIT0gcmVtYWluaW5nTGFuZXMgJiZcbiAgICAgICAgICAoKHJvb3QucG9vbGVkQ2FjaGUgPSBudWxsKSwgcmVsZWFzZUNhY2hlKHJlbWFpbmluZ0xhbmVzKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaFBhc3NpdmVFZmZlY3RzKCkge1xuICAgICAgaWYgKG51bGwgIT09IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzKSB7XG4gICAgICAgIHZhciByb290ID0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMsXG4gICAgICAgICAgcmVtYWluaW5nTGFuZXMgPSBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNSZW1haW5pbmdMYW5lcztcbiAgICAgICAgcGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVtYWluaW5nTGFuZXMgPSAwO1xuICAgICAgICB2YXIgcmVuZGVyUHJpb3JpdHkgPSBsYW5lc1RvRXZlbnRQcmlvcml0eShwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcyksXG4gICAgICAgICAgcHJpb3JpdHkgPVxuICAgICAgICAgICAgMCA9PT0gRGVmYXVsdEV2ZW50UHJpb3JpdHkgfHwgRGVmYXVsdEV2ZW50UHJpb3JpdHkgPiByZW5kZXJQcmlvcml0eVxuICAgICAgICAgICAgICA/IERlZmF1bHRFdmVudFByaW9yaXR5XG4gICAgICAgICAgICAgIDogcmVuZGVyUHJpb3JpdHk7XG4gICAgICAgIHJlbmRlclByaW9yaXR5ID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVDtcbiAgICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmlvcml0eTtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMpXG4gICAgICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwcmlvcml0eSA9IHBlbmRpbmdQYXNzaXZlVHJhbnNpdGlvbnM7XG4gICAgICAgICAgICBwZW5kaW5nUGFzc2l2ZVRyYW5zaXRpb25zID0gbnVsbDtcbiAgICAgICAgICAgIHZhciByb290JGpzY29tcCQwID0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMsXG4gICAgICAgICAgICAgIGxhbmVzID0gcGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXM7XG4gICAgICAgICAgICByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyA9IG51bGw7XG4gICAgICAgICAgICBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcyA9IDA7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09XG4gICAgICAgICAgICAgIE5vQ29udGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIkNhbm5vdCBmbHVzaCBwYXNzaXZlIGVmZmVjdHMgd2hpbGUgYWxyZWFkeSByZW5kZXJpbmcuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlzRmx1c2hpbmdQYXNzaXZlRWZmZWN0cyA9ICEwO1xuICAgICAgICAgICAgZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0cyA9ICExO1xuICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1Bhc3NpdmVFZmZlY3RzU3RhcnRlZCAmJlxuICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtQYXNzaXZlRWZmZWN0c1N0YXJ0ZWQobGFuZXMpO1xuICAgICAgICAgICAgdmFyIHByZXZFeGVjdXRpb25Db250ZXh0ID0gZXhlY3V0aW9uQ29udGV4dDtcbiAgICAgICAgICAgIGV4ZWN1dGlvbkNvbnRleHQgfD0gQ29tbWl0Q29udGV4dDtcbiAgICAgICAgICAgIGNvbW1pdFBhc3NpdmVVbm1vdW50T25GaWJlcihyb290JGpzY29tcCQwLmN1cnJlbnQpO1xuICAgICAgICAgICAgY29tbWl0UGFzc2l2ZU1vdW50T25GaWJlcihcbiAgICAgICAgICAgICAgcm9vdCRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgcm9vdCRqc2NvbXAkMC5jdXJyZW50LFxuICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgcHJpb3JpdHlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUGFzc2l2ZUVmZmVjdHNTdG9wcGVkICYmXG4gICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1Bhc3NpdmVFZmZlY3RzU3RvcHBlZCgpO1xuICAgICAgICAgICAgY29tbWl0RG91YmxlSW52b2tlRWZmZWN0c0luREVWKHJvb3QkanNjb21wJDApO1xuICAgICAgICAgICAgZXhlY3V0aW9uQ29udGV4dCA9IHByZXZFeGVjdXRpb25Db250ZXh0O1xuICAgICAgICAgICAgZmx1c2hTeW5jV29ya0Fjcm9zc1Jvb3RzX2ltcGwoMCwgITEpO1xuICAgICAgICAgICAgZGlkU2NoZWR1bGVVcGRhdGVEdXJpbmdQYXNzaXZlRWZmZWN0c1xuICAgICAgICAgICAgICA/IHJvb3QkanNjb21wJDAgPT09IHJvb3RXaXRoUGFzc2l2ZU5lc3RlZFVwZGF0ZXNcbiAgICAgICAgICAgICAgICA/IG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCsrXG4gICAgICAgICAgICAgICAgOiAoKG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDApLFxuICAgICAgICAgICAgICAgICAgKHJvb3RXaXRoUGFzc2l2ZU5lc3RlZFVwZGF0ZXMgPSByb290JGpzY29tcCQwKSlcbiAgICAgICAgICAgICAgOiAobmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gMCk7XG4gICAgICAgICAgICBkaWRTY2hlZHVsZVVwZGF0ZUR1cmluZ1Bhc3NpdmVFZmZlY3RzID0gaXNGbHVzaGluZ1Bhc3NpdmVFZmZlY3RzID1cbiAgICAgICAgICAgICAgITE7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGluamVjdGVkSG9vayAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2sub25Qb3N0Q29tbWl0RmliZXJSb290XG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaW5qZWN0ZWRIb29rLm9uUG9zdENvbW1pdEZpYmVyUm9vdChyZW5kZXJlcklELCByb290JGpzY29tcCQwKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaGFzTG9nZ2VkRXJyb3IgfHxcbiAgICAgICAgICAgICAgICAgICgoaGFzTG9nZ2VkRXJyb3IgPSAhMCksXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIlJlYWN0IGluc3RydW1lbnRhdGlvbiBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXNcIixcbiAgICAgICAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0YXRlTm9kZSA9IHJvb3QkanNjb21wJDAuY3VycmVudC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBzdGF0ZU5vZGUuZWZmZWN0RHVyYXRpb24gPSAwO1xuICAgICAgICAgICAgc3RhdGVOb2RlLnBhc3NpdmVFZmZlY3REdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzUHJpb3JpdHkpLFxuICAgICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSByZW5kZXJQcmlvcml0eSksXG4gICAgICAgICAgICByZWxlYXNlUm9vdFBvb2xlZENhY2hlKHJvb3QsIHJlbWFpbmluZ0xhbmVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvck9uUm9vdChyb290RmliZXIsIHNvdXJjZUZpYmVyLCBlcnJvcikge1xuICAgICAgc291cmNlRmliZXIgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihlcnJvciwgc291cmNlRmliZXIpO1xuICAgICAgc291cmNlRmliZXIgPSBjcmVhdGVSb290RXJyb3JVcGRhdGUocm9vdEZpYmVyLnN0YXRlTm9kZSwgc291cmNlRmliZXIsIDIpO1xuICAgICAgcm9vdEZpYmVyID0gZW5xdWV1ZVVwZGF0ZShyb290RmliZXIsIHNvdXJjZUZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IHJvb3RGaWJlciAmJlxuICAgICAgICAobWFya1Jvb3RVcGRhdGVkJDEocm9vdEZpYmVyLCAyKSwgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3RGaWJlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihcbiAgICAgIHNvdXJjZUZpYmVyLFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIGVycm9yXG4gICAgKSB7XG4gICAgICBpc1J1bm5pbmdJbnNlcnRpb25FZmZlY3QgPSAhMTtcbiAgICAgIGlmICgzID09PSBzb3VyY2VGaWJlci50YWcpXG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yT25Sb290KHNvdXJjZUZpYmVyLCBzb3VyY2VGaWJlciwgZXJyb3IpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGZvciAoOyBudWxsICE9PSBuZWFyZXN0TW91bnRlZEFuY2VzdG9yOyApIHtcbiAgICAgICAgICBpZiAoMyA9PT0gbmVhcmVzdE1vdW50ZWRBbmNlc3Rvci50YWcpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yT25Sb290KFxuICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICBzb3VyY2VGaWJlcixcbiAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgxID09PSBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLnRhZykge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gbmVhcmVzdE1vdW50ZWRBbmNlc3Rvci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvci50eXBlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciB8fFxuICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50RGlkQ2F0Y2ggJiZcbiAgICAgICAgICAgICAgICAobnVsbCA9PT0gbGVnYWN5RXJyb3JCb3VuZGFyaWVzVGhhdEFscmVhZHlGYWlsZWQgfHxcbiAgICAgICAgICAgICAgICAgICFsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZC5oYXMoaW5zdGFuY2UpKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBzb3VyY2VGaWJlciA9IGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKGVycm9yLCBzb3VyY2VGaWJlcik7XG4gICAgICAgICAgICAgIGVycm9yID0gY3JlYXRlQ2xhc3NFcnJvclVwZGF0ZSgyKTtcbiAgICAgICAgICAgICAgaW5zdGFuY2UgPSBlbnF1ZXVlVXBkYXRlKG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yLCAyKTtcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5zdGFuY2UgJiZcbiAgICAgICAgICAgICAgICAoaW5pdGlhbGl6ZUNsYXNzRXJyb3JVcGRhdGUoXG4gICAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgICAgIHNvdXJjZUZpYmVyXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBtYXJrUm9vdFVwZGF0ZWQkMShpbnN0YW5jZSwgMiksXG4gICAgICAgICAgICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKGluc3RhbmNlKSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciA9IG5lYXJlc3RNb3VudGVkQW5jZXN0b3IucmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJJbnRlcm5hbCBSZWFjdCBlcnJvcjogQXR0ZW1wdGVkIHRvIGNhcHR1cmUgYSBjb21taXQgcGhhc2UgZXJyb3IgaW5zaWRlIGEgZGV0YWNoZWQgdHJlZS4gVGhpcyBpbmRpY2F0ZXMgYSBidWcgaW4gUmVhY3QuIFBvdGVudGlhbCBjYXVzZXMgaW5jbHVkZSBkZWxldGluZyB0aGUgc2FtZSBmaWJlciBtb3JlIHRoYW4gb25jZSwgY29tbWl0dGluZyBhbiBhbHJlYWR5LWZpbmlzaGVkIHRyZWUsIG9yIGFuIGluY29uc2lzdGVudCByZXR1cm4gcG9pbnRlci5cXG5cXG5FcnJvciBtZXNzYWdlOlxcblxcbiVzXCIsXG4gICAgICAgICAgZXJyb3JcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0YWNoUGluZ0xpc3RlbmVyKHJvb3QsIHdha2VhYmxlLCBsYW5lcykge1xuICAgICAgdmFyIHBpbmdDYWNoZSA9IHJvb3QucGluZ0NhY2hlO1xuICAgICAgaWYgKG51bGwgPT09IHBpbmdDYWNoZSkge1xuICAgICAgICBwaW5nQ2FjaGUgPSByb290LnBpbmdDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbiAgICAgICAgdmFyIHRocmVhZElEcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgcGluZ0NhY2hlLnNldCh3YWtlYWJsZSwgdGhyZWFkSURzKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICAodGhyZWFkSURzID0gcGluZ0NhY2hlLmdldCh3YWtlYWJsZSkpLFxuICAgICAgICAgIHZvaWQgMCA9PT0gdGhyZWFkSURzICYmXG4gICAgICAgICAgICAoKHRocmVhZElEcyA9IG5ldyBTZXQoKSksIHBpbmdDYWNoZS5zZXQod2FrZWFibGUsIHRocmVhZElEcykpO1xuICAgICAgdGhyZWFkSURzLmhhcyhsYW5lcykgfHxcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzc1Jvb3REaWRBdHRhY2hQaW5nTGlzdGVuZXIgPSAhMCksXG4gICAgICAgIHRocmVhZElEcy5hZGQobGFuZXMpLFxuICAgICAgICAocGluZ0NhY2hlID0gcGluZ1N1c3BlbmRlZFJvb3QuYmluZChudWxsLCByb290LCB3YWtlYWJsZSwgbGFuZXMpKSxcbiAgICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiYgcmVzdG9yZVBlbmRpbmdVcGRhdGVycyhyb290LCBsYW5lcyksXG4gICAgICAgIHdha2VhYmxlLnRoZW4ocGluZ0NhY2hlLCBwaW5nQ2FjaGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGluZ1N1c3BlbmRlZFJvb3Qocm9vdCwgd2FrZWFibGUsIHBpbmdlZExhbmVzKSB7XG4gICAgICB2YXIgcGluZ0NhY2hlID0gcm9vdC5waW5nQ2FjaGU7XG4gICAgICBudWxsICE9PSBwaW5nQ2FjaGUgJiYgcGluZ0NhY2hlLmRlbGV0ZSh3YWtlYWJsZSk7XG4gICAgICByb290LnBpbmdlZExhbmVzIHw9IHJvb3Quc3VzcGVuZGVkTGFuZXMgJiBwaW5nZWRMYW5lcztcbiAgICAgIHJvb3Qud2FybUxhbmVzICY9IH5waW5nZWRMYW5lcztcbiAgICAgIGlzQ29uY3VycmVudEFjdEVudmlyb25tZW50KCkgJiZcbiAgICAgICAgbnVsbCA9PT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkEgc3VzcGVuZGVkIHJlc291cmNlIGZpbmlzaGVkIGxvYWRpbmcgaW5zaWRlIGEgdGVzdCwgYnV0IHRoZSBldmVudCB3YXMgbm90IHdyYXBwZWQgaW4gYWN0KC4uLikuXFxuXFxuV2hlbiB0ZXN0aW5nLCBjb2RlIHRoYXQgcmVzb2x2ZXMgc3VzcGVuZGVkIGRhdGEgc2hvdWxkIGJlIHdyYXBwZWQgaW50byBhY3QoLi4uKTpcXG5cXG5hY3QoKCkgPT4ge1xcbiAgLyogZmluaXNoIGxvYWRpbmcgc3VzcGVuZGVkIGRhdGEgKi9cXG59KTtcXG4vKiBhc3NlcnQgb24gdGhlIG91dHB1dCAqL1xcblxcblRoaXMgZW5zdXJlcyB0aGF0IHlvdSdyZSB0ZXN0aW5nIHRoZSBiZWhhdmlvciB0aGUgdXNlciB3b3VsZCBzZWUgaW4gdGhlIGJyb3dzZXIuIExlYXJuIG1vcmUgYXQgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93cmFwLXRlc3RzLXdpdGgtYWN0XCJcbiAgICAgICAgKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdCA9PT0gcm9vdCAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiBwaW5nZWRMYW5lcykgPT09IHBpbmdlZExhbmVzICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290U3VzcGVuZGVkV2l0aERlbGF5IHx8XG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290U3VzcGVuZGVkICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNjI5MTQ1NjApID09PVxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICBub3ckMSgpIC0gZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSA8IEZBTExCQUNLX1RIUk9UVExFX01TKVxuICAgICAgICAgID8gKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSA9PT0gTm9Db250ZXh0ICYmXG4gICAgICAgICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCAwKVxuICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzUm9vdFBpbmdlZExhbmVzIHw9IHBpbmdlZExhbmVzKSxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMgPSAwKSk7XG4gICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldHJ5VGltZWRPdXRCb3VuZGFyeShib3VuZGFyeUZpYmVyLCByZXRyeUxhbmUpIHtcbiAgICAgIDAgPT09IHJldHJ5TGFuZSAmJiAocmV0cnlMYW5lID0gY2xhaW1OZXh0UmV0cnlMYW5lKCkpO1xuICAgICAgYm91bmRhcnlGaWJlciA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShib3VuZGFyeUZpYmVyLCByZXRyeUxhbmUpO1xuICAgICAgbnVsbCAhPT0gYm91bmRhcnlGaWJlciAmJlxuICAgICAgICAobWFya1Jvb3RVcGRhdGVkJDEoYm91bmRhcnlGaWJlciwgcmV0cnlMYW5lKSxcbiAgICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKGJvdW5kYXJ5RmliZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0cnlEZWh5ZHJhdGVkU3VzcGVuc2VCb3VuZGFyeShib3VuZGFyeUZpYmVyKSB7XG4gICAgICB2YXIgc3VzcGVuc2VTdGF0ZSA9IGJvdW5kYXJ5RmliZXIubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgcmV0cnlMYW5lID0gMDtcbiAgICAgIG51bGwgIT09IHN1c3BlbnNlU3RhdGUgJiYgKHJldHJ5TGFuZSA9IHN1c3BlbnNlU3RhdGUucmV0cnlMYW5lKTtcbiAgICAgIHJldHJ5VGltZWRPdXRCb3VuZGFyeShib3VuZGFyeUZpYmVyLCByZXRyeUxhbmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlUmV0cnlXYWtlYWJsZShib3VuZGFyeUZpYmVyLCB3YWtlYWJsZSkge1xuICAgICAgdmFyIHJldHJ5TGFuZSA9IDA7XG4gICAgICBzd2l0Y2ggKGJvdW5kYXJ5RmliZXIudGFnKSB7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgdmFyIHJldHJ5Q2FjaGUgPSBib3VuZGFyeUZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICB2YXIgc3VzcGVuc2VTdGF0ZSA9IGJvdW5kYXJ5RmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBudWxsICE9PSBzdXNwZW5zZVN0YXRlICYmIChyZXRyeUxhbmUgPSBzdXNwZW5zZVN0YXRlLnJldHJ5TGFuZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgcmV0cnlDYWNoZSA9IGJvdW5kYXJ5RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHJldHJ5Q2FjaGUgPSBib3VuZGFyeUZpYmVyLnN0YXRlTm9kZS5fcmV0cnlDYWNoZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiUGluZ2VkIHVua25vd24gc3VzcGVuc2UgYm91bmRhcnkgdHlwZS4gVGhpcyBpcyBwcm9iYWJseSBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICBudWxsICE9PSByZXRyeUNhY2hlICYmIHJldHJ5Q2FjaGUuZGVsZXRlKHdha2VhYmxlKTtcbiAgICAgIHJldHJ5VGltZWRPdXRCb3VuZGFyeShib3VuZGFyeUZpYmVyLCByZXRyeUxhbmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlQW5kRG91YmxlSW52b2tlRWZmZWN0c0luREVWKFxuICAgICAgcm9vdCRqc2NvbXAkMCxcbiAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgaXNJblN0cmljdE1vZGVcbiAgICApIHtcbiAgICAgIGlmICgwICE9PSAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMzM1NjI2MjQpKVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApIHtcbiAgICAgICAgICB2YXIgcm9vdCA9IHJvb3QkanNjb21wJDAsXG4gICAgICAgICAgICBmaWJlciA9IHBhcmVudEZpYmVyLFxuICAgICAgICAgICAgaXNTdHJpY3RNb2RlRmliZXIgPSBmaWJlci50eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFO1xuICAgICAgICAgIGlzU3RyaWN0TW9kZUZpYmVyID0gaXNJblN0cmljdE1vZGUgfHwgaXNTdHJpY3RNb2RlRmliZXI7XG4gICAgICAgICAgMjIgIT09IGZpYmVyLnRhZ1xuICAgICAgICAgICAgPyBmaWJlci5mbGFncyAmIDMzNTU0NDMyXG4gICAgICAgICAgICAgID8gaXNTdHJpY3RNb2RlRmliZXIgJiZcbiAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgZG91YmxlSW52b2tlRWZmZWN0c09uRmliZXIsXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICAoZmliZXIubW9kZSAmIE5vU3RyaWN0UGFzc2l2ZUVmZmVjdHNNb2RlKSA9PT0gTm9Nb2RlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5VHJhdmVyc2VBbmREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYoXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICBpc1N0cmljdE1vZGVGaWJlclxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogbnVsbCA9PT0gZmliZXIubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICAoaXNTdHJpY3RNb2RlRmliZXIgJiYgZmliZXIuZmxhZ3MgJiA4MTkyXG4gICAgICAgICAgICAgICAgPyBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICAgIGRvdWJsZUludm9rZUVmZmVjdHNPbkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgICBmaWJlclxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogZmliZXIuc3VidHJlZUZsYWdzICYgMzM1NTQ0MzIgJiZcbiAgICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUFuZERvdWJsZUludm9rZUVmZmVjdHNJbkRFVixcbiAgICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICAgIGlzU3RyaWN0TW9kZUZpYmVyXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZG91YmxlSW52b2tlRWZmZWN0c09uRmliZXIocm9vdCwgZmliZXIpIHtcbiAgICAgIHZhciBzaG91bGREb3VibGVJbnZva2VQYXNzaXZlRWZmZWN0cyA9XG4gICAgICAgIDIgPCBhcmd1bWVudHMubGVuZ3RoICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzJdID8gYXJndW1lbnRzWzJdIDogITA7XG4gICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICB0cnkge1xuICAgICAgICBkaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpYmVyKSxcbiAgICAgICAgICBzaG91bGREb3VibGVJbnZva2VQYXNzaXZlRWZmZWN0cyAmJiBkaXNjb25uZWN0UGFzc2l2ZUVmZmVjdChmaWJlciksXG4gICAgICAgICAgcmVhcHBlYXJMYXlvdXRFZmZlY3RzKHJvb3QsIGZpYmVyLmFsdGVybmF0ZSwgZmliZXIsICExKSxcbiAgICAgICAgICBzaG91bGREb3VibGVJbnZva2VQYXNzaXZlRWZmZWN0cyAmJlxuICAgICAgICAgICAgcmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMocm9vdCwgZmliZXIsIDAsIG51bGwsICExKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0RG91YmxlSW52b2tlRWZmZWN0c0luREVWKHJvb3QpIHtcbiAgICAgIHZhciBkb3VibGVJbnZva2VFZmZlY3RzID0gITA7XG4gICAgICByb290LmN1cnJlbnQubW9kZSAmIChTdHJpY3RMZWdhY3lNb2RlIHwgU3RyaWN0RWZmZWN0c01vZGUpIHx8XG4gICAgICAgIChkb3VibGVJbnZva2VFZmZlY3RzID0gITEpO1xuICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZUFuZERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihcbiAgICAgICAgcm9vdCxcbiAgICAgICAgcm9vdC5jdXJyZW50LFxuICAgICAgICBkb3VibGVJbnZva2VFZmZlY3RzXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuQWJvdXRVcGRhdGVPbk5vdFlldE1vdW50ZWRGaWJlckluREVWKGZpYmVyKSB7XG4gICAgICBpZiAoKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSA9PT0gTm9Db250ZXh0KSB7XG4gICAgICAgIHZhciB0YWcgPSBmaWJlci50YWc7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAzID09PSB0YWcgfHxcbiAgICAgICAgICAxID09PSB0YWcgfHxcbiAgICAgICAgICAwID09PSB0YWcgfHxcbiAgICAgICAgICAxMSA9PT0gdGFnIHx8XG4gICAgICAgICAgMTQgPT09IHRhZyB8fFxuICAgICAgICAgIDE1ID09PSB0YWdcbiAgICAgICAgKSB7XG4gICAgICAgICAgdGFnID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJSZWFjdENvbXBvbmVudFwiO1xuICAgICAgICAgIGlmIChudWxsICE9PSBkaWRXYXJuU3RhdGVVcGRhdGVGb3JOb3RZZXRNb3VudGVkQ29tcG9uZW50KSB7XG4gICAgICAgICAgICBpZiAoZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudC5oYXModGFnKSkgcmV0dXJuO1xuICAgICAgICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudC5hZGQodGFnKTtcbiAgICAgICAgICB9IGVsc2UgZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudCA9IG5ldyBTZXQoW3RhZ10pO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkNhbid0IHBlcmZvcm0gYSBSZWFjdCBzdGF0ZSB1cGRhdGUgb24gYSBjb21wb25lbnQgdGhhdCBoYXNuJ3QgbW91bnRlZCB5ZXQuIFRoaXMgaW5kaWNhdGVzIHRoYXQgeW91IGhhdmUgYSBzaWRlLWVmZmVjdCBpbiB5b3VyIHJlbmRlciBmdW5jdGlvbiB0aGF0IGFzeW5jaHJvbm91c2x5IGxhdGVyIGNhbGxzIHRyaWVzIHRvIHVwZGF0ZSB0aGUgY29tcG9uZW50LiBNb3ZlIHRoaXMgd29yayB0byB1c2VFZmZlY3QgaW5zdGVhZC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKHJvb3QsIGxhbmVzKSB7XG4gICAgICBpc0RldlRvb2xzUHJlc2VudCAmJlxuICAgICAgICByb290Lm1lbW9pemVkVXBkYXRlcnMuZm9yRWFjaChmdW5jdGlvbiAoc2NoZWR1bGluZ0ZpYmVyKSB7XG4gICAgICAgICAgYWRkRmliZXJUb0xhbmVzTWFwKHJvb3QsIHNjaGVkdWxpbmdGaWJlciwgbGFuZXMpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVDYWxsYmFjayQxKHByaW9yaXR5TGV2ZWwsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgYWN0UXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZTtcbiAgICAgIHJldHVybiBudWxsICE9PSBhY3RRdWV1ZVxuICAgICAgICA/IChhY3RRdWV1ZS5wdXNoKGNhbGxiYWNrKSwgZmFrZUFjdENhbGxiYWNrTm9kZSQxKVxuICAgICAgICA6IHNjaGVkdWxlQ2FsbGJhY2skMyhwcmlvcml0eUxldmVsLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JZlVwZGF0ZXNOb3RXcmFwcGVkV2l0aEFjdERFVihmaWJlcikge1xuICAgICAgaXNDb25jdXJyZW50QWN0RW52aXJvbm1lbnQoKSAmJlxuICAgICAgICBudWxsID09PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSAmJlxuICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkFuIHVwZGF0ZSB0byAlcyBpbnNpZGUgYSB0ZXN0IHdhcyBub3Qgd3JhcHBlZCBpbiBhY3QoLi4uKS5cXG5cXG5XaGVuIHRlc3RpbmcsIGNvZGUgdGhhdCBjYXVzZXMgUmVhY3Qgc3RhdGUgdXBkYXRlcyBzaG91bGQgYmUgd3JhcHBlZCBpbnRvIGFjdCguLi4pOlxcblxcbmFjdCgoKSA9PiB7XFxuICAvKiBmaXJlIGV2ZW50cyB0aGF0IHVwZGF0ZSBzdGF0ZSAqL1xcbn0pO1xcbi8qIGFzc2VydCBvbiB0aGUgb3V0cHV0ICovXFxuXFxuVGhpcyBlbnN1cmVzIHRoYXQgeW91J3JlIHRlc3RpbmcgdGhlIGJlaGF2aW9yIHRoZSB1c2VyIHdvdWxkIHNlZSBpbiB0aGUgYnJvd3Nlci4gTGVhcm4gbW9yZSBhdCBodHRwczovL3JlYWN0LmRldi9saW5rL3dyYXAtdGVzdHMtd2l0aC1hY3RcIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KSB7XG4gICAgICByb290ICE9PSBsYXN0U2NoZWR1bGVkUm9vdCAmJlxuICAgICAgICBudWxsID09PSByb290Lm5leHQgJiZcbiAgICAgICAgKG51bGwgPT09IGxhc3RTY2hlZHVsZWRSb290XG4gICAgICAgICAgPyAoZmlyc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QgPSByb290KVxuICAgICAgICAgIDogKGxhc3RTY2hlZHVsZWRSb290ID0gbGFzdFNjaGVkdWxlZFJvb3QubmV4dCA9IHJvb3QpKTtcbiAgICAgIG1pZ2h0SGF2ZVBlbmRpbmdTeW5jV29yayA9ICEwO1xuICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWVcbiAgICAgICAgPyBkaWRTY2hlZHVsZU1pY3JvdGFza19hY3QgfHxcbiAgICAgICAgICAoKGRpZFNjaGVkdWxlTWljcm90YXNrX2FjdCA9ICEwKSxcbiAgICAgICAgICBzY2hlZHVsZUltbWVkaWF0ZVRhc2socHJvY2Vzc1Jvb3RTY2hlZHVsZUluTWljcm90YXNrKSlcbiAgICAgICAgOiBkaWRTY2hlZHVsZU1pY3JvdGFzayB8fFxuICAgICAgICAgICgoZGlkU2NoZWR1bGVNaWNyb3Rhc2sgPSAhMCksXG4gICAgICAgICAgc2NoZWR1bGVJbW1lZGlhdGVUYXNrKHByb2Nlc3NSb290U2NoZWR1bGVJbk1pY3JvdGFzaykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbChzeW5jVHJhbnNpdGlvbkxhbmVzLCBvbmx5TGVnYWN5KSB7XG4gICAgICBpZiAoIWlzRmx1c2hpbmdXb3JrICYmIG1pZ2h0SGF2ZVBlbmRpbmdTeW5jV29yaykge1xuICAgICAgICBpc0ZsdXNoaW5nV29yayA9ICEwO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFyIGRpZFBlcmZvcm1Tb21lV29yayA9ICExO1xuICAgICAgICAgIGZvciAodmFyIHJvb3QgPSBmaXJzdFNjaGVkdWxlZFJvb3Q7IG51bGwgIT09IHJvb3Q7ICkge1xuICAgICAgICAgICAgaWYgKCFvbmx5TGVnYWN5KVxuICAgICAgICAgICAgICBpZiAoMCAhPT0gc3luY1RyYW5zaXRpb25MYW5lcykge1xuICAgICAgICAgICAgICAgIHZhciBwZW5kaW5nTGFuZXMgPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gcGVuZGluZ0xhbmVzKSB2YXIgbmV4dExhbmVzID0gMDtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhciBzdXNwZW5kZWRMYW5lcyA9IHJvb3Quc3VzcGVuZGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgICAgIHBpbmdlZExhbmVzID0gcm9vdC5waW5nZWRMYW5lcztcbiAgICAgICAgICAgICAgICAgIG5leHRMYW5lcyA9XG4gICAgICAgICAgICAgICAgICAgICgxIDw8ICgzMSAtIGNsejMyKDQyIHwgc3luY1RyYW5zaXRpb25MYW5lcykgKyAxKSkgLSAxO1xuICAgICAgICAgICAgICAgICAgbmV4dExhbmVzICY9IHBlbmRpbmdMYW5lcyAmIH4oc3VzcGVuZGVkTGFuZXMgJiB+cGluZ2VkTGFuZXMpO1xuICAgICAgICAgICAgICAgICAgbmV4dExhbmVzID1cbiAgICAgICAgICAgICAgICAgICAgbmV4dExhbmVzICYgMjAxMzI2Njc3XG4gICAgICAgICAgICAgICAgICAgICAgPyAobmV4dExhbmVzICYgMjAxMzI2Njc3KSB8IDFcbiAgICAgICAgICAgICAgICAgICAgICA6IG5leHRMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXh0TGFuZXMgfCAyXG4gICAgICAgICAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDAgIT09IG5leHRMYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgKChkaWRQZXJmb3JtU29tZVdvcmsgPSAhMCksXG4gICAgICAgICAgICAgICAgICBwZXJmb3JtU3luY1dvcmtPblJvb3Qocm9vdCwgbmV4dExhbmVzKSk7XG4gICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgIChuZXh0TGFuZXMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgICAobmV4dExhbmVzID0gZ2V0TmV4dExhbmVzKFxuICAgICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgICByb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgPyBuZXh0TGFuZXMgOiAwXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgIDAgPT09IChuZXh0TGFuZXMgJiAzKSB8fFxuICAgICAgICAgICAgICAgICAgICBjaGVja0lmUm9vdElzUHJlcmVuZGVyaW5nKHJvb3QsIG5leHRMYW5lcykgfHxcbiAgICAgICAgICAgICAgICAgICAgKChkaWRQZXJmb3JtU29tZVdvcmsgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgIHBlcmZvcm1TeW5jV29ya09uUm9vdChyb290LCBuZXh0TGFuZXMpKTtcbiAgICAgICAgICAgIHJvb3QgPSByb290Lm5leHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChkaWRQZXJmb3JtU29tZVdvcmspO1xuICAgICAgICBpc0ZsdXNoaW5nV29yayA9ICExO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9jZXNzUm9vdFNjaGVkdWxlSW5NaWNyb3Rhc2soKSB7XG4gICAgICBtaWdodEhhdmVQZW5kaW5nU3luY1dvcmsgPVxuICAgICAgICBkaWRTY2hlZHVsZU1pY3JvdGFza19hY3QgPVxuICAgICAgICBkaWRTY2hlZHVsZU1pY3JvdGFzayA9XG4gICAgICAgICAgITE7XG4gICAgICB2YXIgc3luY1RyYW5zaXRpb25MYW5lcyA9IDA7XG4gICAgICAwICE9PSBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSAmJlxuICAgICAgICAoc2hvdWxkQXR0ZW1wdEVhZ2VyVHJhbnNpdGlvbigpICYmXG4gICAgICAgICAgKHN5bmNUcmFuc2l0aW9uTGFuZXMgPSBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSksXG4gICAgICAgIChjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSA9IDApKTtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG5vdyQxKCksIHByZXYgPSBudWxsLCByb290ID0gZmlyc3RTY2hlZHVsZWRSb290O1xuICAgICAgICBudWxsICE9PSByb290O1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIG5leHQgPSByb290Lm5leHQsXG4gICAgICAgICAgbmV4dExhbmVzID0gc2NoZWR1bGVUYXNrRm9yUm9vdER1cmluZ01pY3JvdGFzayhyb290LCBjdXJyZW50VGltZSk7XG4gICAgICAgIGlmICgwID09PSBuZXh0TGFuZXMpXG4gICAgICAgICAgKHJvb3QubmV4dCA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCA9PT0gcHJldiA/IChmaXJzdFNjaGVkdWxlZFJvb3QgPSBuZXh0KSA6IChwcmV2Lm5leHQgPSBuZXh0KSxcbiAgICAgICAgICAgIG51bGwgPT09IG5leHQgJiYgKGxhc3RTY2hlZHVsZWRSb290ID0gcHJldik7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICgocHJldiA9IHJvb3QpLCAwICE9PSBzeW5jVHJhbnNpdGlvbkxhbmVzIHx8IDAgIT09IChuZXh0TGFuZXMgJiAzKSlcbiAgICAgICAgKVxuICAgICAgICAgIG1pZ2h0SGF2ZVBlbmRpbmdTeW5jV29yayA9ICEwO1xuICAgICAgICByb290ID0gbmV4dDtcbiAgICAgIH1cbiAgICAgIGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKHN5bmNUcmFuc2l0aW9uTGFuZXMsICExKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVUYXNrRm9yUm9vdER1cmluZ01pY3JvdGFzayhyb290LCBjdXJyZW50VGltZSkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIHN1c3BlbmRlZExhbmVzID0gcm9vdC5zdXNwZW5kZWRMYW5lcyxcbiAgICAgICAgICBwaW5nZWRMYW5lcyA9IHJvb3QucGluZ2VkTGFuZXMsXG4gICAgICAgICAgZXhwaXJhdGlvblRpbWVzID0gcm9vdC5leHBpcmF0aW9uVGltZXMsXG4gICAgICAgICAgbGFuZXMgPSByb290LnBlbmRpbmdMYW5lcyAmIC02MjkxNDU2MTtcbiAgICAgICAgMCA8IGxhbmVzO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihsYW5lcyksXG4gICAgICAgICAgbGFuZSA9IDEgPDwgaW5kZXgsXG4gICAgICAgICAgZXhwaXJhdGlvblRpbWUgPSBleHBpcmF0aW9uVGltZXNbaW5kZXhdO1xuICAgICAgICBpZiAoLTEgPT09IGV4cGlyYXRpb25UaW1lKSB7XG4gICAgICAgICAgaWYgKDAgPT09IChsYW5lICYgc3VzcGVuZGVkTGFuZXMpIHx8IDAgIT09IChsYW5lICYgcGluZ2VkTGFuZXMpKVxuICAgICAgICAgICAgZXhwaXJhdGlvblRpbWVzW2luZGV4XSA9IGNvbXB1dGVFeHBpcmF0aW9uVGltZShsYW5lLCBjdXJyZW50VGltZSk7XG4gICAgICAgIH0gZWxzZSBleHBpcmF0aW9uVGltZSA8PSBjdXJyZW50VGltZSAmJiAocm9vdC5leHBpcmVkTGFuZXMgfD0gbGFuZSk7XG4gICAgICAgIGxhbmVzICY9IH5sYW5lO1xuICAgICAgfVxuICAgICAgY3VycmVudFRpbWUgPSB3b3JrSW5Qcm9ncmVzc1Jvb3Q7XG4gICAgICBzdXNwZW5kZWRMYW5lcyA9IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzO1xuICAgICAgc3VzcGVuZGVkTGFuZXMgPSBnZXROZXh0TGFuZXMoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHJvb3QgPT09IGN1cnJlbnRUaW1lID8gc3VzcGVuZGVkTGFuZXMgOiAwXG4gICAgICApO1xuICAgICAgcGluZ2VkTGFuZXMgPSByb290LmNhbGxiYWNrTm9kZTtcbiAgICAgIGlmIChcbiAgICAgICAgMCA9PT0gc3VzcGVuZGVkTGFuZXMgfHxcbiAgICAgICAgKHJvb3QgPT09IGN1cnJlbnRUaW1lICYmXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRGF0YSkgfHxcbiAgICAgICAgbnVsbCAhPT0gcm9vdC5jYW5jZWxQZW5kaW5nQ29tbWl0XG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgbnVsbCAhPT0gcGluZ2VkTGFuZXMgJiYgY2FuY2VsQ2FsbGJhY2socGluZ2VkTGFuZXMpLFxuICAgICAgICAgIChyb290LmNhbGxiYWNrTm9kZSA9IG51bGwpLFxuICAgICAgICAgIChyb290LmNhbGxiYWNrUHJpb3JpdHkgPSAwKVxuICAgICAgICApO1xuICAgICAgaWYgKFxuICAgICAgICAwID09PSAoc3VzcGVuZGVkTGFuZXMgJiAzKSB8fFxuICAgICAgICBjaGVja0lmUm9vdElzUHJlcmVuZGVyaW5nKHJvb3QsIHN1c3BlbmRlZExhbmVzKVxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRUaW1lID0gc3VzcGVuZGVkTGFuZXMgJiAtc3VzcGVuZGVkTGFuZXM7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBjdXJyZW50VGltZSAhPT0gcm9vdC5jYWxsYmFja1ByaW9yaXR5IHx8XG4gICAgICAgICAgKG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlICYmXG4gICAgICAgICAgICBwaW5nZWRMYW5lcyAhPT0gZmFrZUFjdENhbGxiYWNrTm9kZSlcbiAgICAgICAgKVxuICAgICAgICAgIGNhbmNlbENhbGxiYWNrKHBpbmdlZExhbmVzKTtcbiAgICAgICAgZWxzZSByZXR1cm4gY3VycmVudFRpbWU7XG4gICAgICAgIHN3aXRjaCAobGFuZXNUb0V2ZW50UHJpb3JpdHkoc3VzcGVuZGVkTGFuZXMpKSB7XG4gICAgICAgICAgY2FzZSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgY2FzZSBDb250aW51b3VzRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID0gVXNlckJsb2NraW5nUHJpb3JpdHk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIERlZmF1bHRFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgc3VzcGVuZGVkTGFuZXMgPSBOb3JtYWxQcmlvcml0eSQxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBJZGxlRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID0gSWRsZVByaW9yaXR5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHN1c3BlbmRlZExhbmVzID0gTm9ybWFsUHJpb3JpdHkkMTtcbiAgICAgICAgfVxuICAgICAgICBwaW5nZWRMYW5lcyA9IHBlcmZvcm1Xb3JrT25Sb290VmlhU2NoZWR1bGVyVGFzay5iaW5kKG51bGwsIHJvb3QpO1xuICAgICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZVxuICAgICAgICAgID8gKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlLnB1c2gocGluZ2VkTGFuZXMpLFxuICAgICAgICAgICAgKHN1c3BlbmRlZExhbmVzID0gZmFrZUFjdENhbGxiYWNrTm9kZSkpXG4gICAgICAgICAgOiAoc3VzcGVuZGVkTGFuZXMgPSBzY2hlZHVsZUNhbGxiYWNrJDMoc3VzcGVuZGVkTGFuZXMsIHBpbmdlZExhbmVzKSk7XG4gICAgICAgIHJvb3QuY2FsbGJhY2tQcmlvcml0eSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICByb290LmNhbGxiYWNrTm9kZSA9IHN1c3BlbmRlZExhbmVzO1xuICAgICAgICByZXR1cm4gY3VycmVudFRpbWU7XG4gICAgICB9XG4gICAgICBudWxsICE9PSBwaW5nZWRMYW5lcyAmJiBjYW5jZWxDYWxsYmFjayhwaW5nZWRMYW5lcyk7XG4gICAgICByb290LmNhbGxiYWNrUHJpb3JpdHkgPSAyO1xuICAgICAgcm9vdC5jYWxsYmFja05vZGUgPSBudWxsO1xuICAgICAgcmV0dXJuIDI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlcmZvcm1Xb3JrT25Sb290VmlhU2NoZWR1bGVyVGFzayhyb290LCBkaWRUaW1lb3V0KSB7XG4gICAgICBuZXN0ZWRVcGRhdGVTY2hlZHVsZWQgPSBjdXJyZW50VXBkYXRlSXNOZXN0ZWQgPSAhMTtcbiAgICAgIHZhciBvcmlnaW5hbENhbGxiYWNrTm9kZSA9IHJvb3QuY2FsbGJhY2tOb2RlO1xuICAgICAgaWYgKGZsdXNoUGFzc2l2ZUVmZmVjdHMoKSAmJiByb290LmNhbGxiYWNrTm9kZSAhPT0gb3JpZ2luYWxDYWxsYmFja05vZGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgdmFyIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzJGpzY29tcCQwID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXM7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyRqc2NvbXAkMCA9IGdldE5leHRMYW5lcyhcbiAgICAgICAgcm9vdCxcbiAgICAgICAgcm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ID8gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMkanNjb21wJDAgOiAwXG4gICAgICApO1xuICAgICAgaWYgKDAgPT09IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzJGpzY29tcCQwKSByZXR1cm4gbnVsbDtcbiAgICAgIHBlcmZvcm1Xb3JrT25Sb290KFxuICAgICAgICByb290LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyRqc2NvbXAkMCxcbiAgICAgICAgZGlkVGltZW91dFxuICAgICAgKTtcbiAgICAgIHNjaGVkdWxlVGFza0ZvclJvb3REdXJpbmdNaWNyb3Rhc2socm9vdCwgbm93JDEoKSk7XG4gICAgICByZXR1cm4gbnVsbCAhPSByb290LmNhbGxiYWNrTm9kZSAmJlxuICAgICAgICByb290LmNhbGxiYWNrTm9kZSA9PT0gb3JpZ2luYWxDYWxsYmFja05vZGVcbiAgICAgICAgPyBwZXJmb3JtV29ya09uUm9vdFZpYVNjaGVkdWxlclRhc2suYmluZChudWxsLCByb290KVxuICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlcmZvcm1TeW5jV29ya09uUm9vdChyb290LCBsYW5lcykge1xuICAgICAgaWYgKGZsdXNoUGFzc2l2ZUVmZmVjdHMoKSkgcmV0dXJuIG51bGw7XG4gICAgICBjdXJyZW50VXBkYXRlSXNOZXN0ZWQgPSBuZXN0ZWRVcGRhdGVTY2hlZHVsZWQ7XG4gICAgICBuZXN0ZWRVcGRhdGVTY2hlZHVsZWQgPSAhMTtcbiAgICAgIHBlcmZvcm1Xb3JrT25Sb290KHJvb3QsIGxhbmVzLCAhMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbmNlbENhbGxiYWNrKGNhbGxiYWNrTm9kZSkge1xuICAgICAgY2FsbGJhY2tOb2RlICE9PSBmYWtlQWN0Q2FsbGJhY2tOb2RlICYmXG4gICAgICAgIG51bGwgIT09IGNhbGxiYWNrTm9kZSAmJlxuICAgICAgICBjYW5jZWxDYWxsYmFjayQxKGNhbGxiYWNrTm9kZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlSW1tZWRpYXRlVGFzayhjYikge1xuICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgJiZcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICBzY2hlZHVsZU1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09IE5vQ29udGV4dFxuICAgICAgICAgID8gc2NoZWR1bGVDYWxsYmFjayQzKEltbWVkaWF0ZVByaW9yaXR5LCBjYilcbiAgICAgICAgICA6IGNiKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdFRyYW5zaXRpb25MYW5lKCkge1xuICAgICAgMCA9PT0gY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUgJiZcbiAgICAgICAgKGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lID0gY2xhaW1OZXh0VHJhbnNpdGlvbkxhbmUoKSk7XG4gICAgICByZXR1cm4gY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvZXJjZUZvcm1BY3Rpb25Qcm9wKGFjdGlvblByb3ApIHtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCA9PSBhY3Rpb25Qcm9wIHx8XG4gICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiBhY3Rpb25Qcm9wIHx8XG4gICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgYWN0aW9uUHJvcFxuICAgICAgKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY3Rpb25Qcm9wKSByZXR1cm4gYWN0aW9uUHJvcDtcbiAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oYWN0aW9uUHJvcCwgXCJhY3Rpb25cIik7XG4gICAgICByZXR1cm4gc2FuaXRpemVVUkwoXCJcIiArIGFjdGlvblByb3ApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGb3JtRGF0YVdpdGhTdWJtaXR0ZXIoZm9ybSwgc3VibWl0dGVyKSB7XG4gICAgICB2YXIgdGVtcCA9IHN1Ym1pdHRlci5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgIHRlbXAubmFtZSA9IHN1Ym1pdHRlci5uYW1lO1xuICAgICAgdGVtcC52YWx1ZSA9IHN1Ym1pdHRlci52YWx1ZTtcbiAgICAgIGZvcm0uaWQgJiYgdGVtcC5zZXRBdHRyaWJ1dGUoXCJmb3JtXCIsIGZvcm0uaWQpO1xuICAgICAgc3VibWl0dGVyLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRlbXAsIHN1Ym1pdHRlcik7XG4gICAgICBmb3JtID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgdGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRlbXApO1xuICAgICAgcmV0dXJuIGZvcm07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGV4dHJhY3RFdmVudHMkMShcbiAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBtYXliZVRhcmdldEluc3QsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3VibWl0XCIgPT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICBtYXliZVRhcmdldEluc3QgJiZcbiAgICAgICAgbWF5YmVUYXJnZXRJbnN0LnN0YXRlTm9kZSA9PT0gbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICkge1xuICAgICAgICB2YXIgYWN0aW9uID0gY29lcmNlRm9ybUFjdGlvblByb3AoXG4gICAgICAgICAgICAobmF0aXZlRXZlbnRUYXJnZXRbaW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbCkuYWN0aW9uXG4gICAgICAgICAgKSxcbiAgICAgICAgICBzdWJtaXR0ZXIgPSBuYXRpdmVFdmVudC5zdWJtaXR0ZXI7XG4gICAgICAgIHN1Ym1pdHRlciAmJlxuICAgICAgICAgICgoZG9tRXZlbnROYW1lID0gKGRvbUV2ZW50TmFtZSA9IHN1Ym1pdHRlcltpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsKVxuICAgICAgICAgICAgPyBjb2VyY2VGb3JtQWN0aW9uUHJvcChkb21FdmVudE5hbWUuZm9ybUFjdGlvbilcbiAgICAgICAgICAgIDogc3VibWl0dGVyLmdldEF0dHJpYnV0ZShcImZvcm1BY3Rpb25cIikpLFxuICAgICAgICAgIG51bGwgIT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgICAgKChhY3Rpb24gPSBkb21FdmVudE5hbWUpLCAoc3VibWl0dGVyID0gbnVsbCkpKTtcbiAgICAgICAgdmFyIGV2ZW50ID0gbmV3IFN5bnRoZXRpY0V2ZW50KFxuICAgICAgICAgIFwiYWN0aW9uXCIsXG4gICAgICAgICAgXCJhY3Rpb25cIixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICk7XG4gICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7XG4gICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgIGxpc3RlbmVyczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgICAgICAgICAgbGlzdGVuZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAobmF0aXZlRXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgICAgICAgaWYgKDAgIT09IGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtRGF0YSA9IHN1Ym1pdHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVGb3JtRGF0YVdpdGhTdWJtaXR0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEZvcm1EYXRhKG5hdGl2ZUV2ZW50VGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nOiAhMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBuYXRpdmVFdmVudFRhcmdldC5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvblxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUocGVuZGluZ1N0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRIb3N0VHJhbnNpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICBtYXliZVRhcmdldEluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFjdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICAoZXZlbnQucHJldmVudERlZmF1bHQoKSxcbiAgICAgICAgICAgICAgICAgICAgKGZvcm1EYXRhID0gc3VibWl0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgPyBjcmVhdGVGb3JtRGF0YVdpdGhTdWJtaXR0ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICA6IG5ldyBGb3JtRGF0YShuYXRpdmVFdmVudFRhcmdldCkpLFxuICAgICAgICAgICAgICAgICAgICAocGVuZGluZ1N0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmc6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbmF0aXZlRXZlbnRUYXJnZXQubWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKHBlbmRpbmdTdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0SG9zdFRyYW5zaXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgbWF5YmVUYXJnZXRJbnN0LFxuICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGFcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQ6IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvY2Vzc0Rpc3BhdGNoUXVldWUoZGlzcGF0Y2hRdWV1ZSwgZXZlbnRTeXN0ZW1GbGFncykge1xuICAgICAgZXZlbnRTeXN0ZW1GbGFncyA9IDAgIT09IChldmVudFN5c3RlbUZsYWdzICYgNCk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3BhdGNoUXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIF9kaXNwYXRjaFF1ZXVlJGkgPSBkaXNwYXRjaFF1ZXVlW2ldO1xuICAgICAgICBhOiB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzSW5zdGFuY2UgPSB2b2lkIDAsXG4gICAgICAgICAgICBldmVudCA9IF9kaXNwYXRjaFF1ZXVlJGkuZXZlbnQ7XG4gICAgICAgICAgX2Rpc3BhdGNoUXVldWUkaSA9IF9kaXNwYXRjaFF1ZXVlJGkubGlzdGVuZXJzO1xuICAgICAgICAgIGlmIChldmVudFN5c3RlbUZsYWdzKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgdmFyIGkkanNjb21wJDAgPSBfZGlzcGF0Y2hRdWV1ZSRpLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgIDAgPD0gaSRqc2NvbXAkMDtcbiAgICAgICAgICAgICAgaSRqc2NvbXAkMC0tXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIF9kaXNwYXRjaExpc3RlbmVycyRpID0gX2Rpc3BhdGNoUXVldWUkaVtpJGpzY29tcCQwXSxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmluc3RhbmNlLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICBfZGlzcGF0Y2hMaXN0ZW5lcnMkaSA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmxpc3RlbmVyO1xuICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgIT09IHByZXZpb3VzSW5zdGFuY2UgJiYgZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlID0gZXZlbnQ7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkocHJldmlvdXNJbnN0YW5jZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBpJGpzY29tcCQwID0gMDtcbiAgICAgICAgICAgICAgaSRqc2NvbXAkMCA8IF9kaXNwYXRjaFF1ZXVlJGkubGVuZ3RoO1xuICAgICAgICAgICAgICBpJGpzY29tcCQwKytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBfZGlzcGF0Y2hMaXN0ZW5lcnMkaSA9IF9kaXNwYXRjaFF1ZXVlJGlbaSRqc2NvbXAkMF07XG4gICAgICAgICAgICAgIGluc3RhbmNlID0gX2Rpc3BhdGNoTGlzdGVuZXJzJGkuaW5zdGFuY2U7XG4gICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgICBfZGlzcGF0Y2hMaXN0ZW5lcnMkaSA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmxpc3RlbmVyO1xuICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UgIT09IHByZXZpb3VzSW5zdGFuY2UgJiYgZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSlcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBwcmV2aW91c0luc3RhbmNlID0gZXZlbnQ7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX2Rpc3BhdGNoTGlzdGVuZXJzJGkocHJldmlvdXNJbnN0YW5jZSk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UuY3VycmVudFRhcmdldCA9IG51bGw7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KGRvbUV2ZW50TmFtZSwgdGFyZ2V0RWxlbWVudCkge1xuICAgICAgbm9uRGVsZWdhdGVkRXZlbnRzLmhhcyhkb21FdmVudE5hbWUpIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGEgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudCgpIGNhbGwgZm9yIFwiJXNcIi4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyxcbiAgICAgICAgICBkb21FdmVudE5hbWVcbiAgICAgICAgKTtcbiAgICAgIHZhciBsaXN0ZW5lclNldCA9IHRhcmdldEVsZW1lbnRbaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5XTtcbiAgICAgIHZvaWQgMCA9PT0gbGlzdGVuZXJTZXQgJiZcbiAgICAgICAgKGxpc3RlbmVyU2V0ID0gdGFyZ2V0RWxlbWVudFtpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXldID0gbmV3IFNldCgpKTtcbiAgICAgIHZhciBsaXN0ZW5lclNldEtleSA9IGRvbUV2ZW50TmFtZSArIFwiX19idWJibGVcIjtcbiAgICAgIGxpc3RlbmVyU2V0LmhhcyhsaXN0ZW5lclNldEtleSkgfHxcbiAgICAgICAgKGFkZFRyYXBwZWRFdmVudExpc3RlbmVyKHRhcmdldEVsZW1lbnQsIGRvbUV2ZW50TmFtZSwgMiwgITEpLFxuICAgICAgICBsaXN0ZW5lclNldC5hZGQobGlzdGVuZXJTZXRLZXkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGlzdGVuVG9OYXRpdmVFdmVudChkb21FdmVudE5hbWUsIGlzQ2FwdHVyZVBoYXNlTGlzdGVuZXIsIHRhcmdldCkge1xuICAgICAgbm9uRGVsZWdhdGVkRXZlbnRzLmhhcyhkb21FdmVudE5hbWUpICYmXG4gICAgICAgICFpc0NhcHR1cmVQaGFzZUxpc3RlbmVyICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0RpZCBub3QgZXhwZWN0IGEgbGlzdGVuVG9OYXRpdmVFdmVudCgpIGNhbGwgZm9yIFwiJXNcIiBpbiB0aGUgYnViYmxlIHBoYXNlLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nLFxuICAgICAgICAgIGRvbUV2ZW50TmFtZVxuICAgICAgICApO1xuICAgICAgdmFyIGV2ZW50U3lzdGVtRmxhZ3MgPSAwO1xuICAgICAgaXNDYXB0dXJlUGhhc2VMaXN0ZW5lciAmJiAoZXZlbnRTeXN0ZW1GbGFncyB8PSA0KTtcbiAgICAgIGFkZFRyYXBwZWRFdmVudExpc3RlbmVyKFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgaXNDYXB0dXJlUGhhc2VMaXN0ZW5lclxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbGlzdGVuVG9BbGxTdXBwb3J0ZWRFdmVudHMocm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgICAgIGlmICghcm9vdENvbnRhaW5lckVsZW1lbnRbbGlzdGVuaW5nTWFya2VyXSkge1xuICAgICAgICByb290Q29udGFpbmVyRWxlbWVudFtsaXN0ZW5pbmdNYXJrZXJdID0gITA7XG4gICAgICAgIGFsbE5hdGl2ZUV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgICBcInNlbGVjdGlvbmNoYW5nZVwiICE9PSBkb21FdmVudE5hbWUgJiZcbiAgICAgICAgICAgIChub25EZWxlZ2F0ZWRFdmVudHMuaGFzKGRvbUV2ZW50TmFtZSkgfHxcbiAgICAgICAgICAgICAgbGlzdGVuVG9OYXRpdmVFdmVudChkb21FdmVudE5hbWUsICExLCByb290Q29udGFpbmVyRWxlbWVudCksXG4gICAgICAgICAgICBsaXN0ZW5Ub05hdGl2ZUV2ZW50KGRvbUV2ZW50TmFtZSwgITAsIHJvb3RDb250YWluZXJFbGVtZW50KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9XG4gICAgICAgICAgOSA9PT0gcm9vdENvbnRhaW5lckVsZW1lbnQubm9kZVR5cGVcbiAgICAgICAgICAgID8gcm9vdENvbnRhaW5lckVsZW1lbnRcbiAgICAgICAgICAgIDogcm9vdENvbnRhaW5lckVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgbnVsbCA9PT0gb3duZXJEb2N1bWVudCB8fFxuICAgICAgICAgIG93bmVyRG9jdW1lbnRbbGlzdGVuaW5nTWFya2VyXSB8fFxuICAgICAgICAgICgob3duZXJEb2N1bWVudFtsaXN0ZW5pbmdNYXJrZXJdID0gITApLFxuICAgICAgICAgIGxpc3RlblRvTmF0aXZlRXZlbnQoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgITEsIG93bmVyRG9jdW1lbnQpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkVHJhcHBlZEV2ZW50TGlzdGVuZXIoXG4gICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgaXNDYXB0dXJlUGhhc2VMaXN0ZW5lclxuICAgICkge1xuICAgICAgc3dpdGNoIChnZXRFdmVudFByaW9yaXR5KGRvbUV2ZW50TmFtZSkpIHtcbiAgICAgICAgY2FzZSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgdmFyIGxpc3RlbmVyV3JhcHBlciA9IGRpc3BhdGNoRGlzY3JldGVFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBDb250aW51b3VzRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICBsaXN0ZW5lcldyYXBwZXIgPSBkaXNwYXRjaENvbnRpbnVvdXNFdmVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBsaXN0ZW5lcldyYXBwZXIgPSBkaXNwYXRjaEV2ZW50O1xuICAgICAgfVxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyA9IGxpc3RlbmVyV3JhcHBlci5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICAgKTtcbiAgICAgIGxpc3RlbmVyV3JhcHBlciA9IHZvaWQgMDtcbiAgICAgICFwYXNzaXZlQnJvd3NlckV2ZW50c1N1cHBvcnRlZCB8fFxuICAgICAgICAoXCJ0b3VjaHN0YXJ0XCIgIT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgIFwidG91Y2htb3ZlXCIgIT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgIFwid2hlZWxcIiAhPT0gZG9tRXZlbnROYW1lKSB8fFxuICAgICAgICAobGlzdGVuZXJXcmFwcGVyID0gITApO1xuICAgICAgaXNDYXB0dXJlUGhhc2VMaXN0ZW5lclxuICAgICAgICA/IHZvaWQgMCAhPT0gbGlzdGVuZXJXcmFwcGVyXG4gICAgICAgICAgPyB0YXJnZXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsIHtcbiAgICAgICAgICAgICAgY2FwdHVyZTogITAsXG4gICAgICAgICAgICAgIHBhc3NpdmU6IGxpc3RlbmVyV3JhcHBlclxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IHRhcmdldENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKGRvbUV2ZW50TmFtZSwgZXZlbnRTeXN0ZW1GbGFncywgITApXG4gICAgICAgIDogdm9pZCAwICE9PSBsaXN0ZW5lcldyYXBwZXJcbiAgICAgICAgICA/IHRhcmdldENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKGRvbUV2ZW50TmFtZSwgZXZlbnRTeXN0ZW1GbGFncywge1xuICAgICAgICAgICAgICBwYXNzaXZlOiBsaXN0ZW5lcldyYXBwZXJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgOiB0YXJnZXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudEZvclBsdWdpbkV2ZW50U3lzdGVtKFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgdGFyZ2V0SW5zdCRqc2NvbXAkMCxcbiAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICkge1xuICAgICAgdmFyIGFuY2VzdG9ySW5zdCA9IHRhcmdldEluc3QkanNjb21wJDA7XG4gICAgICBpZiAoXG4gICAgICAgIDAgPT09IChldmVudFN5c3RlbUZsYWdzICYgMSkgJiZcbiAgICAgICAgMCA9PT0gKGV2ZW50U3lzdGVtRmxhZ3MgJiAyKSAmJlxuICAgICAgICBudWxsICE9PSB0YXJnZXRJbnN0JGpzY29tcCQwXG4gICAgICApXG4gICAgICAgIGE6IGZvciAoOzspIHtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gdGFyZ2V0SW5zdCRqc2NvbXAkMCkgcmV0dXJuO1xuICAgICAgICAgIHZhciBub2RlVGFnID0gdGFyZ2V0SW5zdCRqc2NvbXAkMC50YWc7XG4gICAgICAgICAgaWYgKDMgPT09IG5vZGVUYWcgfHwgNCA9PT0gbm9kZVRhZykge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRhcmdldEluc3QkanNjb21wJDAuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIGNvbnRhaW5lciA9PT0gdGFyZ2V0Q29udGFpbmVyIHx8XG4gICAgICAgICAgICAgICg4ID09PSBjb250YWluZXIubm9kZVR5cGUgJiZcbiAgICAgICAgICAgICAgICBjb250YWluZXIucGFyZW50Tm9kZSA9PT0gdGFyZ2V0Q29udGFpbmVyKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmICg0ID09PSBub2RlVGFnKVxuICAgICAgICAgICAgICBmb3IgKG5vZGVUYWcgPSB0YXJnZXRJbnN0JGpzY29tcCQwLnJldHVybjsgbnVsbCAhPT0gbm9kZVRhZzsgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGdyYW5kVGFnID0gbm9kZVRhZy50YWc7XG4gICAgICAgICAgICAgICAgaWYgKDMgPT09IGdyYW5kVGFnIHx8IDQgPT09IGdyYW5kVGFnKVxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAoKGdyYW5kVGFnID0gbm9kZVRhZy5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyksXG4gICAgICAgICAgICAgICAgICAgIGdyYW5kVGFnID09PSB0YXJnZXRDb250YWluZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoOCA9PT0gZ3JhbmRUYWcubm9kZVR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYW5kVGFnLnBhcmVudE5vZGUgPT09IHRhcmdldENvbnRhaW5lcikpXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBub2RlVGFnID0gbm9kZVRhZy5yZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoOyBudWxsICE9PSBjb250YWluZXI7ICkge1xuICAgICAgICAgICAgICBub2RlVGFnID0gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IG5vZGVUYWcpIHJldHVybjtcbiAgICAgICAgICAgICAgZ3JhbmRUYWcgPSBub2RlVGFnLnRhZztcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIDUgPT09IGdyYW5kVGFnIHx8XG4gICAgICAgICAgICAgICAgNiA9PT0gZ3JhbmRUYWcgfHxcbiAgICAgICAgICAgICAgICAyNiA9PT0gZ3JhbmRUYWcgfHxcbiAgICAgICAgICAgICAgICAyNyA9PT0gZ3JhbmRUYWdcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0SW5zdCRqc2NvbXAkMCA9IGFuY2VzdG9ySW5zdCA9IG5vZGVUYWc7XG4gICAgICAgICAgICAgICAgY29udGludWUgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb250YWluZXIgPSBjb250YWluZXIucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGFyZ2V0SW5zdCRqc2NvbXAkMCA9IHRhcmdldEluc3QkanNjb21wJDAucmV0dXJuO1xuICAgICAgICB9XG4gICAgICBiYXRjaGVkVXBkYXRlcyQxKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRhcmdldEluc3QgPSBhbmNlc3Rvckluc3QsXG4gICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXQgPSBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCksXG4gICAgICAgICAgZGlzcGF0Y2hRdWV1ZSA9IFtdO1xuICAgICAgICBhOiB7XG4gICAgICAgICAgdmFyIHJlYWN0TmFtZSA9IHRvcExldmVsRXZlbnRzVG9SZWFjdE5hbWVzLmdldChkb21FdmVudE5hbWUpO1xuICAgICAgICAgIGlmICh2b2lkIDAgIT09IHJlYWN0TmFtZSkge1xuICAgICAgICAgICAgdmFyIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0V2ZW50LFxuICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSA9IGRvbUV2ZW50TmFtZTtcbiAgICAgICAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxuICAgICAgICAgICAgICAgIGlmICgwID09PSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBcImtleWRvd25cIjpcbiAgICAgICAgICAgICAgY2FzZSBcImtleXVwXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljS2V5Ym9hcmRFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImZvY3VzaW5cIjpcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSA9IFwiZm9jdXNcIjtcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiZm9jdXNvdXRcIjpcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSA9IFwiYmx1clwiO1xuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJiZWZvcmVibHVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJhZnRlcmJsdXJcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNGb2N1c0V2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiY2xpY2tcIjpcbiAgICAgICAgICAgICAgICBpZiAoMiA9PT0gbmF0aXZlRXZlbnQuYnV0dG9uKSBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIFwiYXV4Y2xpY2tcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRibGNsaWNrXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm1vdXNlbW92ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwibW91c2V1cFwiOlxuICAgICAgICAgICAgICBjYXNlIFwibW91c2VvdXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm1vdXNlb3ZlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwiY29udGV4dG1lbnVcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2VuZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcmFnZXhpdFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ2xlYXZlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcmFnb3ZlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZHJhZ3N0YXJ0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcm9wXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljRHJhZ0V2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidG91Y2hjYW5jZWxcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInRvdWNoZW5kXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3VjaG1vdmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInRvdWNoc3RhcnRcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNUb3VjaEV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIEFOSU1BVElPTl9FTkQ6XG4gICAgICAgICAgICAgIGNhc2UgQU5JTUFUSU9OX0lURVJBVElPTjpcbiAgICAgICAgICAgICAgY2FzZSBBTklNQVRJT05fU1RBUlQ6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljQW5pbWF0aW9uRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgVFJBTlNJVElPTl9FTkQ6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljVHJhbnNpdGlvbkV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwic2Nyb2xsXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxlbmRcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNVSUV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwid2hlZWxcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNXaGVlbEV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiY29weVwiOlxuICAgICAgICAgICAgICBjYXNlIFwiY3V0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwYXN0ZVwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0NsaXBib2FyZEV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiZ290cG9pbnRlcmNhcHR1cmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImxvc3Rwb2ludGVyY2FwdHVyZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcmNhbmNlbFwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcmRvd25cIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJtb3ZlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyb3V0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyb3ZlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcnVwXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljUG9pbnRlckV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwidG9nZ2xlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJiZWZvcmV0b2dnbGVcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNUb2dnbGVFdmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbkNhcHR1cmVQaGFzZSA9IDAgIT09IChldmVudFN5c3RlbUZsYWdzICYgNCksXG4gICAgICAgICAgICAgIGFjY3VtdWxhdGVUYXJnZXRPbmx5ID1cbiAgICAgICAgICAgICAgICAhaW5DYXB0dXJlUGhhc2UgJiZcbiAgICAgICAgICAgICAgICAoXCJzY3JvbGxcIiA9PT0gZG9tRXZlbnROYW1lIHx8IFwic2Nyb2xsZW5kXCIgPT09IGRvbUV2ZW50TmFtZSksXG4gICAgICAgICAgICAgIHJlYWN0RXZlbnROYW1lID0gaW5DYXB0dXJlUGhhc2VcbiAgICAgICAgICAgICAgICA/IG51bGwgIT09IHJlYWN0TmFtZVxuICAgICAgICAgICAgICAgICAgPyByZWFjdE5hbWUgKyBcIkNhcHR1cmVcIlxuICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgICAgOiByZWFjdE5hbWU7XG4gICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IFtdO1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGFyZ2V0SW5zdCwgbGFzdEhvc3RDb21wb25lbnQ7XG4gICAgICAgICAgICAgIG51bGwgIT09IGluc3RhbmNlO1xuXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIF9pbnN0YW5jZTIgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQgPSBfaW5zdGFuY2UyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IF9pbnN0YW5jZTIudGFnO1xuICAgICAgICAgICAgICAoNSAhPT0gX2luc3RhbmNlMiAmJiAyNiAhPT0gX2luc3RhbmNlMiAmJiAyNyAhPT0gX2luc3RhbmNlMikgfHxcbiAgICAgICAgICAgICAgICBudWxsID09PSBsYXN0SG9zdENvbXBvbmVudCB8fFxuICAgICAgICAgICAgICAgIG51bGwgPT09IHJlYWN0RXZlbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgKChfaW5zdGFuY2UyID0gZ2V0TGlzdGVuZXIoaW5zdGFuY2UsIHJlYWN0RXZlbnROYW1lKSksXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBfaW5zdGFuY2UyICYmXG4gICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZS5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIsXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgIGlmIChhY2N1bXVsYXRlVGFyZ2V0T25seSkgYnJlYWs7XG4gICAgICAgICAgICAgIGluc3RhbmNlID0gaW5zdGFuY2UucmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgMCA8IGluQ2FwdHVyZVBoYXNlLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAoKHJlYWN0TmFtZSA9IG5ldyBTeW50aGV0aWNFdmVudEN0b3IoXG4gICAgICAgICAgICAgICAgcmVhY3ROYW1lLFxuICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IHJlYWN0TmFtZSxcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnM6IGluQ2FwdHVyZVBoYXNlXG4gICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDAgPT09IChldmVudFN5c3RlbUZsYWdzICYgNykpIHtcbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICByZWFjdE5hbWUgPVxuICAgICAgICAgICAgICBcIm1vdXNlb3ZlclwiID09PSBkb21FdmVudE5hbWUgfHwgXCJwb2ludGVyb3ZlclwiID09PSBkb21FdmVudE5hbWU7XG4gICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPVxuICAgICAgICAgICAgICBcIm1vdXNlb3V0XCIgPT09IGRvbUV2ZW50TmFtZSB8fCBcInBvaW50ZXJvdXRcIiA9PT0gZG9tRXZlbnROYW1lO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICByZWFjdE5hbWUgJiZcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnQgIT09IGN1cnJlbnRSZXBsYXlpbmdFdmVudCAmJlxuICAgICAgICAgICAgICAocmVhY3RFdmVudFR5cGUgPVxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQuZnJvbUVsZW1lbnQpICYmXG4gICAgICAgICAgICAgIChnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShyZWFjdEV2ZW50VHlwZSkgfHxcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZVtpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIGlmIChTeW50aGV0aWNFdmVudEN0b3IgfHwgcmVhY3ROYW1lKSB7XG4gICAgICAgICAgICAgIHJlYWN0TmFtZSA9XG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXQud2luZG93ID09PSBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICAgICAgPyBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICAgICAgOiAocmVhY3ROYW1lID0gbmF0aXZlRXZlbnRUYXJnZXQub3duZXJEb2N1bWVudClcbiAgICAgICAgICAgICAgICAgICAgPyByZWFjdE5hbWUuZGVmYXVsdFZpZXcgfHwgcmVhY3ROYW1lLnBhcmVudFdpbmRvd1xuICAgICAgICAgICAgICAgICAgICA6IHdpbmRvdztcbiAgICAgICAgICAgICAgaWYgKFN5bnRoZXRpY0V2ZW50Q3Rvcikge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICgocmVhY3RFdmVudFR5cGUgPVxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudC5yZWxhdGVkVGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LnRvRWxlbWVudCksXG4gICAgICAgICAgICAgICAgICAoU3ludGhldGljRXZlbnRDdG9yID0gdGFyZ2V0SW5zdCksXG4gICAgICAgICAgICAgICAgICAocmVhY3RFdmVudFR5cGUgPSByZWFjdEV2ZW50VHlwZVxuICAgICAgICAgICAgICAgICAgICA/IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHJlYWN0RXZlbnRUeXBlKVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwpLFxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcmVhY3RFdmVudFR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgKChhY2N1bXVsYXRlVGFyZ2V0T25seSA9XG4gICAgICAgICAgICAgICAgICAgICAgZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcihyZWFjdEV2ZW50VHlwZSkpLFxuICAgICAgICAgICAgICAgICAgICAoaW5DYXB0dXJlUGhhc2UgPSByZWFjdEV2ZW50VHlwZS50YWcpLFxuICAgICAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSAhPT0gYWNjdW11bGF0ZVRhcmdldE9ubHkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoNSAhPT0gaW5DYXB0dXJlUGhhc2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIDI3ICE9PSBpbkNhcHR1cmVQaGFzZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgNiAhPT0gaW5DYXB0dXJlUGhhc2UpKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgIH0gZWxzZSAoU3ludGhldGljRXZlbnRDdG9yID0gbnVsbCksIChyZWFjdEV2ZW50VHlwZSA9IHRhcmdldEluc3QpO1xuICAgICAgICAgICAgICBpZiAoU3ludGhldGljRXZlbnRDdG9yICE9PSByZWFjdEV2ZW50VHlwZSkge1xuICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID0gU3ludGhldGljTW91c2VFdmVudDtcbiAgICAgICAgICAgICAgICBfaW5zdGFuY2UyID0gXCJvbk1vdXNlTGVhdmVcIjtcbiAgICAgICAgICAgICAgICByZWFjdEV2ZW50TmFtZSA9IFwib25Nb3VzZUVudGVyXCI7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UgPSBcIm1vdXNlXCI7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgXCJwb2ludGVyb3V0XCIgPT09IGRvbUV2ZW50TmFtZSB8fFxuICAgICAgICAgICAgICAgICAgXCJwb2ludGVyb3ZlclwiID09PSBkb21FdmVudE5hbWVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAoaW5DYXB0dXJlUGhhc2UgPSBTeW50aGV0aWNQb2ludGVyRXZlbnQpLFxuICAgICAgICAgICAgICAgICAgICAoX2luc3RhbmNlMiA9IFwib25Qb2ludGVyTGVhdmVcIiksXG4gICAgICAgICAgICAgICAgICAgIChyZWFjdEV2ZW50TmFtZSA9IFwib25Qb2ludGVyRW50ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIChpbnN0YW5jZSA9IFwicG9pbnRlclwiKTtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRlVGFyZ2V0T25seSA9XG4gICAgICAgICAgICAgICAgICBudWxsID09IFN5bnRoZXRpY0V2ZW50Q3RvclxuICAgICAgICAgICAgICAgICAgICA/IHJlYWN0TmFtZVxuICAgICAgICAgICAgICAgICAgICA6IGdldE5vZGVGcm9tSW5zdGFuY2UoU3ludGhldGljRXZlbnRDdG9yKTtcbiAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudCA9XG4gICAgICAgICAgICAgICAgICBudWxsID09IHJlYWN0RXZlbnRUeXBlXG4gICAgICAgICAgICAgICAgICAgID8gcmVhY3ROYW1lXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0Tm9kZUZyb21JbnN0YW5jZShyZWFjdEV2ZW50VHlwZSk7XG4gICAgICAgICAgICAgICAgcmVhY3ROYW1lID0gbmV3IGluQ2FwdHVyZVBoYXNlKFxuICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMixcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlICsgXCJsZWF2ZVwiLFxuICAgICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yLFxuICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgcmVhY3ROYW1lLnRhcmdldCA9IGFjY3VtdWxhdGVUYXJnZXRPbmx5O1xuICAgICAgICAgICAgICAgIHJlYWN0TmFtZS5yZWxhdGVkVGFyZ2V0ID0gbGFzdEhvc3RDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IG51bGw7XG4gICAgICAgICAgICAgICAgZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUobmF0aXZlRXZlbnRUYXJnZXQpID09PSB0YXJnZXRJbnN0ICYmXG4gICAgICAgICAgICAgICAgICAoKGluQ2FwdHVyZVBoYXNlID0gbmV3IGluQ2FwdHVyZVBoYXNlKFxuICAgICAgICAgICAgICAgICAgICByZWFjdEV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgKyBcImVudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgKGluQ2FwdHVyZVBoYXNlLnRhcmdldCA9IGxhc3RIb3N0Q29tcG9uZW50KSxcbiAgICAgICAgICAgICAgICAgIChpbkNhcHR1cmVQaGFzZS5yZWxhdGVkVGFyZ2V0ID0gYWNjdW11bGF0ZVRhcmdldE9ubHkpLFxuICAgICAgICAgICAgICAgICAgKF9pbnN0YW5jZTIgPSBpbkNhcHR1cmVQaGFzZSkpO1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVUYXJnZXRPbmx5ID0gX2luc3RhbmNlMjtcbiAgICAgICAgICAgICAgICBpZiAoU3ludGhldGljRXZlbnRDdG9yICYmIHJlYWN0RXZlbnRUeXBlKVxuICAgICAgICAgICAgICAgICAgYjoge1xuICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IFN5bnRoZXRpY0V2ZW50Q3RvcjtcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudE5hbWUgPSByZWFjdEV2ZW50VHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50ID0gaW5DYXB0dXJlUGhhc2U7XG4gICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQgPSBnZXRQYXJlbnQobGFzdEhvc3RDb21wb25lbnQpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSsrO1xuICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IHJlYWN0RXZlbnROYW1lO1xuICAgICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZTI7XG4gICAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMiA9IGdldFBhcmVudChfaW5zdGFuY2UyKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQrKztcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IDAgPCBpbnN0YW5jZSAtIGxhc3RIb3N0Q29tcG9uZW50OyApXG4gICAgICAgICAgICAgICAgICAgICAgKGluQ2FwdHVyZVBoYXNlID0gZ2V0UGFyZW50KGluQ2FwdHVyZVBoYXNlKSksIGluc3RhbmNlLS07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoOyAwIDwgbGFzdEhvc3RDb21wb25lbnQgLSBpbnN0YW5jZTsgKVxuICAgICAgICAgICAgICAgICAgICAgIChyZWFjdEV2ZW50TmFtZSA9IGdldFBhcmVudChyZWFjdEV2ZW50TmFtZSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQtLTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGluc3RhbmNlLS07ICkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID09PSByZWFjdEV2ZW50TmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgIT09IHJlYWN0RXZlbnROYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID09PSByZWFjdEV2ZW50TmFtZS5hbHRlcm5hdGUpXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSA9IGdldFBhcmVudChpbkNhcHR1cmVQaGFzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudE5hbWUgPSBnZXRQYXJlbnQocmVhY3RFdmVudE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGluQ2FwdHVyZVBoYXNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBudWxsICE9PSBTeW50aGV0aWNFdmVudEN0b3IgJiZcbiAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVFbnRlckxlYXZlTGlzdGVuZXJzRm9yRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yLFxuICAgICAgICAgICAgICAgICAgICBpbkNhcHR1cmVQaGFzZSxcbiAgICAgICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gcmVhY3RFdmVudFR5cGUgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGFjY3VtdWxhdGVUYXJnZXRPbmx5ICYmXG4gICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlRW50ZXJMZWF2ZUxpc3RlbmVyc0ZvckV2ZW50KFxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgICAgICAgICBhY2N1bXVsYXRlVGFyZ2V0T25seSxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlLFxuICAgICAgICAgICAgICAgICAgICAhMFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICByZWFjdE5hbWUgPSB0YXJnZXRJbnN0ID8gZ2V0Tm9kZUZyb21JbnN0YW5jZSh0YXJnZXRJbnN0KSA6IHdpbmRvdztcbiAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9XG4gICAgICAgICAgICAgIHJlYWN0TmFtZS5ub2RlTmFtZSAmJiByZWFjdE5hbWUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJzZWxlY3RcIiA9PT0gU3ludGhldGljRXZlbnRDdG9yIHx8XG4gICAgICAgICAgICAgIChcImlucHV0XCIgPT09IFN5bnRoZXRpY0V2ZW50Q3RvciAmJiBcImZpbGVcIiA9PT0gcmVhY3ROYW1lLnR5cGUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHZhciBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVGV4dElucHV0RWxlbWVudChyZWFjdE5hbWUpKVxuICAgICAgICAgICAgICBpZiAoaXNJbnB1dEV2ZW50U3VwcG9ydGVkKVxuICAgICAgICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvcklucHV0T3JDaGFuZ2VFdmVudDtcbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudFBvbHlmaWxsO1xuICAgICAgICAgICAgICAgIHZhciBoYW5kbGVFdmVudEZ1bmMgPSBoYW5kbGVFdmVudHNGb3JJbnB1dEV2ZW50UG9seWZpbGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgKFN5bnRoZXRpY0V2ZW50Q3RvciA9IHJlYWN0TmFtZS5ub2RlTmFtZSksXG4gICAgICAgICAgICAgICAgIVN5bnRoZXRpY0V2ZW50Q3RvciB8fFxuICAgICAgICAgICAgICAgIFwiaW5wdXRcIiAhPT0gU3ludGhldGljRXZlbnRDdG9yLnRvTG93ZXJDYXNlKCkgfHxcbiAgICAgICAgICAgICAgICAoXCJjaGVja2JveFwiICE9PSByZWFjdE5hbWUudHlwZSAmJiBcInJhZGlvXCIgIT09IHJlYWN0TmFtZS50eXBlKVxuICAgICAgICAgICAgICAgICAgPyB0YXJnZXRJbnN0ICYmXG4gICAgICAgICAgICAgICAgICAgIGlzQ3VzdG9tRWxlbWVudCh0YXJnZXRJbnN0LmVsZW1lbnRUeXBlKSAmJlxuICAgICAgICAgICAgICAgICAgICAoZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQpXG4gICAgICAgICAgICAgICAgICA6IChnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDbGlja0V2ZW50KTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgJiZcbiAgICAgICAgICAgICAgKGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZ1bmMoZG9tRXZlbnROYW1lLCB0YXJnZXRJbnN0KSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjcmVhdGVBbmRBY2N1bXVsYXRlQ2hhbmdlRXZlbnQoXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlRXZlbnRGdW5jICYmXG4gICAgICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyhkb21FdmVudE5hbWUsIHJlYWN0TmFtZSwgdGFyZ2V0SW5zdCk7XG4gICAgICAgICAgICBcImZvY3Vzb3V0XCIgPT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgICAgICB0YXJnZXRJbnN0ICYmXG4gICAgICAgICAgICAgIFwibnVtYmVyXCIgPT09IHJlYWN0TmFtZS50eXBlICYmXG4gICAgICAgICAgICAgIG51bGwgIT0gdGFyZ2V0SW5zdC5tZW1vaXplZFByb3BzLnZhbHVlICYmXG4gICAgICAgICAgICAgIHNldERlZmF1bHRWYWx1ZShyZWFjdE5hbWUsIFwibnVtYmVyXCIsIHJlYWN0TmFtZS52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZUV2ZW50RnVuYyA9IHRhcmdldEluc3RcbiAgICAgICAgICAgID8gZ2V0Tm9kZUZyb21JbnN0YW5jZSh0YXJnZXRJbnN0KVxuICAgICAgICAgICAgOiB3aW5kb3c7XG4gICAgICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBpc1RleHRJbnB1dEVsZW1lbnQoaGFuZGxlRXZlbnRGdW5jKSB8fFxuICAgICAgICAgICAgICAgIFwidHJ1ZVwiID09PSBoYW5kbGVFdmVudEZ1bmMuY29udGVudEVkaXRhYmxlXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAoYWN0aXZlRWxlbWVudCA9IGhhbmRsZUV2ZW50RnVuYyksXG4gICAgICAgICAgICAgICAgICAoYWN0aXZlRWxlbWVudEluc3QgPSB0YXJnZXRJbnN0KSxcbiAgICAgICAgICAgICAgICAgIChsYXN0U2VsZWN0aW9uID0gbnVsbCk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZvY3Vzb3V0XCI6XG4gICAgICAgICAgICAgIGxhc3RTZWxlY3Rpb24gPSBhY3RpdmVFbGVtZW50SW5zdCA9IGFjdGl2ZUVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgICAgICAgbW91c2VEb3duID0gITA7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImNvbnRleHRtZW51XCI6XG4gICAgICAgICAgICBjYXNlIFwibW91c2V1cFwiOlxuICAgICAgICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgICAgICAgbW91c2VEb3duID0gITE7XG4gICAgICAgICAgICAgIGNvbnN0cnVjdFNlbGVjdEV2ZW50KFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2VsZWN0aW9uY2hhbmdlXCI6XG4gICAgICAgICAgICAgIGlmIChza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQpIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImtleWRvd25cIjpcbiAgICAgICAgICAgIGNhc2UgXCJrZXl1cFwiOlxuICAgICAgICAgICAgICBjb25zdHJ1Y3RTZWxlY3RFdmVudChcbiAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBmYWxsYmFja0RhdGE7XG4gICAgICAgICAgaWYgKGNhblVzZUNvbXBvc2l0aW9uRXZlbnQpXG4gICAgICAgICAgICBiOiB7XG4gICAgICAgICAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uc3RhcnRcIjpcbiAgICAgICAgICAgICAgICAgIHZhciBldmVudFR5cGUgPSBcIm9uQ29tcG9zaXRpb25TdGFydFwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpcbiAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IFwib25Db21wb3NpdGlvbkVuZFwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb251cGRhdGVcIjpcbiAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IFwib25Db21wb3NpdGlvblVwZGF0ZVwiO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBldmVudFR5cGUgPSB2b2lkIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgaXNDb21wb3NpbmdcbiAgICAgICAgICAgICAgPyBpc0ZhbGxiYWNrQ29tcG9zaXRpb25FbmQoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkgJiZcbiAgICAgICAgICAgICAgICAoZXZlbnRUeXBlID0gXCJvbkNvbXBvc2l0aW9uRW5kXCIpXG4gICAgICAgICAgICAgIDogXCJrZXlkb3duXCIgPT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LmtleUNvZGUgPT09IFNUQVJUX0tFWUNPREUgJiZcbiAgICAgICAgICAgICAgICAoZXZlbnRUeXBlID0gXCJvbkNvbXBvc2l0aW9uU3RhcnRcIik7XG4gICAgICAgICAgZXZlbnRUeXBlICYmXG4gICAgICAgICAgICAodXNlRmFsbGJhY2tDb21wb3NpdGlvbkRhdGEgJiZcbiAgICAgICAgICAgICAgXCJrb1wiICE9PSBuYXRpdmVFdmVudC5sb2NhbGUgJiZcbiAgICAgICAgICAgICAgKGlzQ29tcG9zaW5nIHx8IFwib25Db21wb3NpdGlvblN0YXJ0XCIgIT09IGV2ZW50VHlwZVxuICAgICAgICAgICAgICAgID8gXCJvbkNvbXBvc2l0aW9uRW5kXCIgPT09IGV2ZW50VHlwZSAmJlxuICAgICAgICAgICAgICAgICAgaXNDb21wb3NpbmcgJiZcbiAgICAgICAgICAgICAgICAgIChmYWxsYmFja0RhdGEgPSBnZXREYXRhKCkpXG4gICAgICAgICAgICAgICAgOiAoKHJvb3QgPSBuYXRpdmVFdmVudFRhcmdldCksXG4gICAgICAgICAgICAgICAgICAoc3RhcnRUZXh0ID0gXCJ2YWx1ZVwiIGluIHJvb3QgPyByb290LnZhbHVlIDogcm9vdC50ZXh0Q29udGVudCksXG4gICAgICAgICAgICAgICAgICAoaXNDb21wb3NpbmcgPSAhMCkpKSxcbiAgICAgICAgICAgIChoYW5kbGVFdmVudEZ1bmMgPSBhY2N1bXVsYXRlVHdvUGhhc2VMaXN0ZW5lcnMoXG4gICAgICAgICAgICAgIHRhcmdldEluc3QsXG4gICAgICAgICAgICAgIGV2ZW50VHlwZVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAwIDwgaGFuZGxlRXZlbnRGdW5jLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAoKGV2ZW50VHlwZSA9IG5ldyBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50KFxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBldmVudDogZXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogaGFuZGxlRXZlbnRGdW5jXG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBmYWxsYmFja0RhdGFcbiAgICAgICAgICAgICAgICA/IChldmVudFR5cGUuZGF0YSA9IGZhbGxiYWNrRGF0YSlcbiAgICAgICAgICAgICAgICA6ICgoZmFsbGJhY2tEYXRhID0gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCkpLFxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZmFsbGJhY2tEYXRhICYmIChldmVudFR5cGUuZGF0YSA9IGZhbGxiYWNrRGF0YSkpKSk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGZhbGxiYWNrRGF0YSA9IGNhblVzZVRleHRJbnB1dEV2ZW50XG4gICAgICAgICAgICAgID8gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyhkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KVxuICAgICAgICAgICAgICA6IGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyhkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSlcbiAgICAgICAgICApXG4gICAgICAgICAgICAoZXZlbnRUeXBlID0gYWNjdW11bGF0ZVR3b1BoYXNlTGlzdGVuZXJzKFxuICAgICAgICAgICAgICB0YXJnZXRJbnN0LFxuICAgICAgICAgICAgICBcIm9uQmVmb3JlSW5wdXRcIlxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIDAgPCBldmVudFR5cGUubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgKChoYW5kbGVFdmVudEZ1bmMgPSBuZXcgU3ludGhldGljSW5wdXRFdmVudChcbiAgICAgICAgICAgICAgICAgIFwib25CZWZvcmVJbnB1dFwiLFxuICAgICAgICAgICAgICAgICAgXCJiZWZvcmVpbnB1dFwiLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgZXZlbnQ6IGhhbmRsZUV2ZW50RnVuYyxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyczogZXZlbnRUeXBlXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKGhhbmRsZUV2ZW50RnVuYy5kYXRhID0gZmFsbGJhY2tEYXRhKSk7XG4gICAgICAgICAgZXh0cmFjdEV2ZW50cyQxKFxuICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgIHRhcmdldEluc3QsXG4gICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzRGlzcGF0Y2hRdWV1ZShkaXNwYXRjaFF1ZXVlLCBldmVudFN5c3RlbUZsYWdzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKGluc3RhbmNlLCBsaXN0ZW5lciwgY3VycmVudFRhcmdldCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLFxuICAgICAgICBsaXN0ZW5lcjogbGlzdGVuZXIsXG4gICAgICAgIGN1cnJlbnRUYXJnZXQ6IGN1cnJlbnRUYXJnZXRcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVUd29QaGFzZUxpc3RlbmVycyh0YXJnZXRGaWJlciwgcmVhY3ROYW1lKSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgY2FwdHVyZU5hbWUgPSByZWFjdE5hbWUgKyBcIkNhcHR1cmVcIiwgbGlzdGVuZXJzID0gW107XG4gICAgICAgIG51bGwgIT09IHRhcmdldEZpYmVyO1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIF9pbnN0YW5jZTMgPSB0YXJnZXRGaWJlcixcbiAgICAgICAgICBzdGF0ZU5vZGUgPSBfaW5zdGFuY2UzLnN0YXRlTm9kZTtcbiAgICAgICAgX2luc3RhbmNlMyA9IF9pbnN0YW5jZTMudGFnO1xuICAgICAgICAoNSAhPT0gX2luc3RhbmNlMyAmJiAyNiAhPT0gX2luc3RhbmNlMyAmJiAyNyAhPT0gX2luc3RhbmNlMykgfHxcbiAgICAgICAgICBudWxsID09PSBzdGF0ZU5vZGUgfHxcbiAgICAgICAgICAoKF9pbnN0YW5jZTMgPSBnZXRMaXN0ZW5lcih0YXJnZXRGaWJlciwgY2FwdHVyZU5hbWUpKSxcbiAgICAgICAgICBudWxsICE9IF9pbnN0YW5jZTMgJiZcbiAgICAgICAgICAgIGxpc3RlbmVycy51bnNoaWZ0KFxuICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKHRhcmdldEZpYmVyLCBfaW5zdGFuY2UzLCBzdGF0ZU5vZGUpXG4gICAgICAgICAgICApLFxuICAgICAgICAgIChfaW5zdGFuY2UzID0gZ2V0TGlzdGVuZXIodGFyZ2V0RmliZXIsIHJlYWN0TmFtZSkpLFxuICAgICAgICAgIG51bGwgIT0gX2luc3RhbmNlMyAmJlxuICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goXG4gICAgICAgICAgICAgIGNyZWF0ZURpc3BhdGNoTGlzdGVuZXIodGFyZ2V0RmliZXIsIF9pbnN0YW5jZTMsIHN0YXRlTm9kZSlcbiAgICAgICAgICAgICkpO1xuICAgICAgICB0YXJnZXRGaWJlciA9IHRhcmdldEZpYmVyLnJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsaXN0ZW5lcnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBhcmVudChpbnN0KSB7XG4gICAgICBpZiAobnVsbCA9PT0gaW5zdCkgcmV0dXJuIG51bGw7XG4gICAgICBkbyBpbnN0ID0gaW5zdC5yZXR1cm47XG4gICAgICB3aGlsZSAoaW5zdCAmJiA1ICE9PSBpbnN0LnRhZyAmJiAyNyAhPT0gaW5zdC50YWcpO1xuICAgICAgcmV0dXJuIGluc3QgPyBpbnN0IDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZUVudGVyTGVhdmVMaXN0ZW5lcnNGb3JFdmVudChcbiAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICBldmVudCxcbiAgICAgIHRhcmdldCxcbiAgICAgIGNvbW1vbixcbiAgICAgIGluQ2FwdHVyZVBoYXNlXG4gICAgKSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgcmVnaXN0cmF0aW9uTmFtZSA9IGV2ZW50Ll9yZWFjdE5hbWUsIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICBudWxsICE9PSB0YXJnZXQgJiYgdGFyZ2V0ICE9PSBjb21tb247XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgX2luc3RhbmNlNCA9IHRhcmdldCxcbiAgICAgICAgICBhbHRlcm5hdGUgPSBfaW5zdGFuY2U0LmFsdGVybmF0ZSxcbiAgICAgICAgICBzdGF0ZU5vZGUgPSBfaW5zdGFuY2U0LnN0YXRlTm9kZTtcbiAgICAgICAgX2luc3RhbmNlNCA9IF9pbnN0YW5jZTQudGFnO1xuICAgICAgICBpZiAobnVsbCAhPT0gYWx0ZXJuYXRlICYmIGFsdGVybmF0ZSA9PT0gY29tbW9uKSBicmVhaztcbiAgICAgICAgKDUgIT09IF9pbnN0YW5jZTQgJiYgMjYgIT09IF9pbnN0YW5jZTQgJiYgMjcgIT09IF9pbnN0YW5jZTQpIHx8XG4gICAgICAgICAgbnVsbCA9PT0gc3RhdGVOb2RlIHx8XG4gICAgICAgICAgKChhbHRlcm5hdGUgPSBzdGF0ZU5vZGUpLFxuICAgICAgICAgIGluQ2FwdHVyZVBoYXNlXG4gICAgICAgICAgICA/ICgoc3RhdGVOb2RlID0gZ2V0TGlzdGVuZXIodGFyZ2V0LCByZWdpc3RyYXRpb25OYW1lKSksXG4gICAgICAgICAgICAgIG51bGwgIT0gc3RhdGVOb2RlICYmXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnVuc2hpZnQoXG4gICAgICAgICAgICAgICAgICBjcmVhdGVEaXNwYXRjaExpc3RlbmVyKHRhcmdldCwgc3RhdGVOb2RlLCBhbHRlcm5hdGUpXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIDogaW5DYXB0dXJlUGhhc2UgfHxcbiAgICAgICAgICAgICAgKChzdGF0ZU5vZGUgPSBnZXRMaXN0ZW5lcih0YXJnZXQsIHJlZ2lzdHJhdGlvbk5hbWUpKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBzdGF0ZU5vZGUgJiZcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZURpc3BhdGNoTGlzdGVuZXIodGFyZ2V0LCBzdGF0ZU5vZGUsIGFsdGVybmF0ZSlcbiAgICAgICAgICAgICAgICApKSk7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC5yZXR1cm47XG4gICAgICB9XG4gICAgICAwICE9PSBsaXN0ZW5lcnMubGVuZ3RoICYmXG4gICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7IGV2ZW50OiBldmVudCwgbGlzdGVuZXJzOiBsaXN0ZW5lcnMgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodHlwZSwgcHJvcHMpIHtcbiAgICAgIHZhbGlkYXRlUHJvcGVydGllcyQyKHR5cGUsIHByb3BzKTtcbiAgICAgIChcImlucHV0XCIgIT09IHR5cGUgJiYgXCJ0ZXh0YXJlYVwiICE9PSB0eXBlICYmIFwic2VsZWN0XCIgIT09IHR5cGUpIHx8XG4gICAgICAgIG51bGwgPT0gcHJvcHMgfHxcbiAgICAgICAgbnVsbCAhPT0gcHJvcHMudmFsdWUgfHxcbiAgICAgICAgZGlkV2FyblZhbHVlTnVsbCB8fFxuICAgICAgICAoKGRpZFdhcm5WYWx1ZU51bGwgPSAhMCksXG4gICAgICAgIFwic2VsZWN0XCIgPT09IHR5cGUgJiYgcHJvcHMubXVsdGlwbGVcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiYHZhbHVlYCBwcm9wIG9uIGAlc2Agc2hvdWxkIG5vdCBiZSBudWxsLiBDb25zaWRlciB1c2luZyBhbiBlbXB0eSBhcnJheSB3aGVuIGBtdWx0aXBsZWAgaXMgc2V0IHRvIGB0cnVlYCB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgIGZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy5cIixcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJgdmFsdWVgIHByb3Agb24gYCVzYCBzaG91bGQgbm90IGJlIG51bGwuIENvbnNpZGVyIHVzaW5nIGFuIGVtcHR5IHN0cmluZyB0byBjbGVhciB0aGUgY29tcG9uZW50IG9yIGB1bmRlZmluZWRgIGZvciB1bmNvbnRyb2xsZWQgY29tcG9uZW50cy5cIixcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgKSk7XG4gICAgICB2YXIgZXZlbnRSZWdpc3RyeSA9IHtcbiAgICAgICAgcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llczogcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcyxcbiAgICAgICAgcG9zc2libGVSZWdpc3RyYXRpb25OYW1lczogcG9zc2libGVSZWdpc3RyYXRpb25OYW1lc1xuICAgICAgfTtcbiAgICAgIGlzQ3VzdG9tRWxlbWVudCh0eXBlKSB8fFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMuaXMgfHxcbiAgICAgICAgd2FyblVua25vd25Qcm9wZXJ0aWVzKHR5cGUsIHByb3BzLCBldmVudFJlZ2lzdHJ5KTtcbiAgICAgIHByb3BzLmNvbnRlbnRFZGl0YWJsZSAmJlxuICAgICAgICAhcHJvcHMuc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nICYmXG4gICAgICAgIG51bGwgIT0gcHJvcHMuY2hpbGRyZW4gJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkEgY29tcG9uZW50IGlzIGBjb250ZW50RWRpdGFibGVgIGFuZCBjb250YWlucyBgY2hpbGRyZW5gIG1hbmFnZWQgYnkgUmVhY3QuIEl0IGlzIG5vdyB5b3VyIHJlc3BvbnNpYmlsaXR5IHRvIGd1YXJhbnRlZSB0aGF0IG5vbmUgb2YgdGhvc2Ugbm9kZXMgYXJlIHVuZXhwZWN0ZWRseSBtb2RpZmllZCBvciBkdXBsaWNhdGVkLiBUaGlzIGlzIHByb2JhYmx5IG5vdCBpbnRlbnRpb25hbC5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICBwcm9wTmFtZSxcbiAgICAgIHNlcnZlclZhbHVlLFxuICAgICAgY2xpZW50VmFsdWUsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgc2VydmVyVmFsdWUgIT09IGNsaWVudFZhbHVlICYmXG4gICAgICAgICgoY2xpZW50VmFsdWUgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VmFsdWUpKSxcbiAgICAgICAgbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHNlcnZlclZhbHVlKSAhPT0gY2xpZW50VmFsdWUgJiZcbiAgICAgICAgICAoc2VydmVyRGlmZmVyZW5jZXNbcHJvcE5hbWVdID0gc2VydmVyVmFsdWUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkZvckV4dHJhQXR0cmlidXRlcyhcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBhdHRyaWJ1dGVOYW1lcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBhdHRyaWJ1dGVOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICAgIHNlcnZlckRpZmZlcmVuY2VzW2dldFByb3BOYW1lRnJvbUF0dHJpYnV0ZU5hbWUoYXR0cmlidXRlTmFtZSldID1cbiAgICAgICAgICBcInN0eWxlXCIgPT09IGF0dHJpYnV0ZU5hbWVcbiAgICAgICAgICAgID8gZ2V0U3R5bGVzT2JqZWN0RnJvbUVsZW1lbnQoZG9tRWxlbWVudClcbiAgICAgICAgICAgIDogZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHJlZ2lzdHJhdGlvbk5hbWUsIGxpc3RlbmVyKSB7XG4gICAgICAhMSA9PT0gbGlzdGVuZXJcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBgJXNgIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24sIGluc3RlYWQgZ290IGBmYWxzZWAuXFxuXFxuSWYgeW91IHVzZWQgdG8gY29uZGl0aW9uYWxseSBvbWl0IGl0IHdpdGggJXM9e2NvbmRpdGlvbiAmJiB2YWx1ZX0sIHBhc3MgJXM9e2NvbmRpdGlvbiA/IHZhbHVlIDogdW5kZWZpbmVkfSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSxcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUsXG4gICAgICAgICAgICByZWdpc3RyYXRpb25OYW1lXG4gICAgICAgICAgKVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGAlc2AgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYSB2YWx1ZSBvZiBgJXNgIHR5cGUuXCIsXG4gICAgICAgICAgICByZWdpc3RyYXRpb25OYW1lLFxuICAgICAgICAgICAgdHlwZW9mIGxpc3RlbmVyXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9ybWFsaXplSFRNTChwYXJlbnQsIGh0bWwpIHtcbiAgICAgIHBhcmVudCA9XG4gICAgICAgIHBhcmVudC5uYW1lc3BhY2VVUkkgPT09IE1BVEhfTkFNRVNQQUNFIHx8XG4gICAgICAgIHBhcmVudC5uYW1lc3BhY2VVUkkgPT09IFNWR19OQU1FU1BBQ0VcbiAgICAgICAgICA/IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgcGFyZW50Lm5hbWVzcGFjZVVSSSxcbiAgICAgICAgICAgICAgcGFyZW50LnRhZ05hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IHBhcmVudC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQocGFyZW50LnRhZ05hbWUpO1xuICAgICAgcGFyZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgICByZXR1cm4gcGFyZW50LmlubmVySFRNTDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKG1hcmt1cCkge1xuICAgICAgd2lsbENvZXJjaW9uVGhyb3cobWFya3VwKSAmJlxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBIVE1MIG1hcmt1cCB1c2VzIGEgdmFsdWUgb2YgdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgdHlwZU5hbWUobWFya3VwKVxuICAgICAgICApLFxuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24obWFya3VwKSk7XG4gICAgICByZXR1cm4gKFwic3RyaW5nXCIgPT09IHR5cGVvZiBtYXJrdXAgPyBtYXJrdXAgOiBcIlwiICsgbWFya3VwKVxuICAgICAgICAucmVwbGFjZShOT1JNQUxJWkVfTkVXTElORVNfUkVHRVgsIFwiXFxuXCIpXG4gICAgICAgIC5yZXBsYWNlKE5PUk1BTElaRV9OVUxMX0FORF9SRVBMQUNFTUVOVF9SRUdFWCwgXCJcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrRm9yVW5tYXRjaGVkVGV4dChzZXJ2ZXJUZXh0LCBjbGllbnRUZXh0KSB7XG4gICAgICBjbGllbnRUZXh0ID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKGNsaWVudFRleHQpO1xuICAgICAgcmV0dXJuIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShzZXJ2ZXJUZXh0KSA9PT0gY2xpZW50VGV4dFxuICAgICAgICA/ICEwXG4gICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AkMSgpIHt9XG4gICAgZnVuY3Rpb24gc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGtleSwgdmFsdWUsIHByb3BzLCBwcmV2VmFsdWUpIHtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWUpXG4gICAgICAgICAgICB2YWxpZGF0ZVRleHROZXN0aW5nKHZhbHVlLCB0YWcpLFxuICAgICAgICAgICAgICBcImJvZHlcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICAgICAgKFwidGV4dGFyZWFcIiA9PT0gdGFnICYmIFwiXCIgPT09IHZhbHVlKSB8fFxuICAgICAgICAgICAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIHZhbHVlKTtcbiAgICAgICAgICBlbHNlIGlmIChcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgfHwgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIHZhbHVlKVxuICAgICAgICAgICAgdmFsaWRhdGVUZXh0TmVzdGluZyhcIlwiICsgdmFsdWUsIHRhZyksXG4gICAgICAgICAgICAgIFwiYm9keVwiICE9PSB0YWcgJiYgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNsYXNzTmFtZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yS25vd25BdHRyaWJ1dGUoZG9tRWxlbWVudCwgXCJjbGFzc1wiLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0YWJJbmRleFwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yS25vd25BdHRyaWJ1dGUoZG9tRWxlbWVudCwgXCJ0YWJpbmRleFwiLCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkaXJcIjpcbiAgICAgICAgY2FzZSBcInJvbGVcIjpcbiAgICAgICAgY2FzZSBcInZpZXdCb3hcIjpcbiAgICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgIGNhc2UgXCJoZWlnaHRcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKGRvbUVsZW1lbnQsIGtleSwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvclN0eWxlcyhkb21FbGVtZW50LCB2YWx1ZSwgcHJldlZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhdGFcIjpcbiAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdGFnKSB7XG4gICAgICAgICAgICBzZXRWYWx1ZUZvcktub3duQXR0cmlidXRlKGRvbUVsZW1lbnQsIFwiZGF0YVwiLCB2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzcmNcIjpcbiAgICAgICAgY2FzZSBcImhyZWZcIjpcbiAgICAgICAgICBpZiAoXCJcIiA9PT0gdmFsdWUgJiYgKFwiYVwiICE9PSB0YWcgfHwgXCJocmVmXCIgIT09IGtleSkpIHtcbiAgICAgICAgICAgIFwic3JjXCIgPT09IGtleVxuICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAnQW4gZW1wdHkgc3RyaW5nIChcIlwiKSB3YXMgcGFzc2VkIHRvIHRoZSAlcyBhdHRyaWJ1dGUuIFRoaXMgbWF5IGNhdXNlIHRoZSBicm93c2VyIHRvIGRvd25sb2FkIHRoZSB3aG9sZSBwYWdlIGFnYWluIG92ZXIgdGhlIG5ldHdvcmsuIFRvIGZpeCB0aGlzLCBlaXRoZXIgZG8gbm90IHJlbmRlciB0aGUgZWxlbWVudCBhdCBhbGwgb3IgcGFzcyBudWxsIHRvICVzIGluc3RlYWQgb2YgYW4gZW1wdHkgc3RyaW5nLicsXG4gICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICdBbiBlbXB0eSBzdHJpbmcgKFwiXCIpIHdhcyBwYXNzZWQgdG8gdGhlICVzIGF0dHJpYnV0ZS4gVG8gZml4IHRoaXMsIGVpdGhlciBkbyBub3QgcmVuZGVyIHRoZSBlbGVtZW50IGF0IGFsbCBvciBwYXNzIG51bGwgdG8gJXMgaW5zdGVhZCBvZiBhbiBlbXB0eSBzdHJpbmcuJyxcbiAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KTtcbiAgICAgICAgICB2YWx1ZSA9IHNhbml0aXplVVJMKFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhY3Rpb25cIjpcbiAgICAgICAgY2FzZSBcImZvcm1BY3Rpb25cIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmb3JtXCIgPT09IHRhZ1xuICAgICAgICAgICAgICA/IFwiZm9ybUFjdGlvblwiID09PSBrZXlcbiAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiWW91IGNhbiBvbmx5IHBhc3MgdGhlIGZvcm1BY3Rpb24gcHJvcCB0byA8aW5wdXQ+IG9yIDxidXR0b24+LiBVc2UgdGhlIGFjdGlvbiBwcm9wIG9uIDxmb3JtPi5cIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICgobnVsbCA9PSBwcm9wcy5lbmNUeXBlICYmIG51bGwgPT0gcHJvcHMubWV0aG9kKSB8fFxuICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvbk1ldGhvZCB8fFxuICAgICAgICAgICAgICAgICAgICAoKGRpZFdhcm5Gb3JtQWN0aW9uTWV0aG9kID0gITApLFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHNwZWNpZnkgYSBlbmNUeXBlIG9yIG1ldGhvZCBmb3IgYSBmb3JtIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgdGhlIGFjdGlvbi4gUmVhY3QgcHJvdmlkZXMgdGhvc2UgYXV0b21hdGljYWxseS4gVGhleSB3aWxsIGdldCBvdmVycmlkZGVuLlwiXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy50YXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25UYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9ybUFjdGlvblRhcmdldCA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCBzcGVjaWZ5IGEgdGFyZ2V0IGZvciBhIGZvcm0gdGhhdCBzcGVjaWZpZXMgYSBmdW5jdGlvbiBhcyB0aGUgYWN0aW9uLiBUaGUgZnVuY3Rpb24gd2lsbCBhbHdheXMgYmUgZXhlY3V0ZWQgaW4gdGhlIHNhbWUgd2luZG93LlwiXG4gICAgICAgICAgICAgICAgICAgICkpKVxuICAgICAgICAgICAgICA6IFwiaW5wdXRcIiA9PT0gdGFnIHx8IFwiYnV0dG9uXCIgPT09IHRhZ1xuICAgICAgICAgICAgICAgID8gXCJhY3Rpb25cIiA9PT0ga2V5XG4gICAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJZb3UgY2FuIG9ubHkgcGFzcyB0aGUgYWN0aW9uIHByb3AgdG8gPGZvcm0+LiBVc2UgdGhlIGZvcm1BY3Rpb24gcHJvcCBvbiA8aW5wdXQ+IG9yIDxidXR0b24+LlwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIDogXCJpbnB1dFwiICE9PSB0YWcgfHxcbiAgICAgICAgICAgICAgICAgICAgICBcInN1Ym1pdFwiID09PSBwcm9wcy50eXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgXCJpbWFnZVwiID09PSBwcm9wcy50eXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25UeXBlXG4gICAgICAgICAgICAgICAgICAgID8gXCJidXR0b25cIiAhPT0gdGFnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy50eXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgXCJzdWJtaXRcIiA9PT0gcHJvcHMudHlwZSB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVHlwZVxuICAgICAgICAgICAgICAgICAgICAgID8gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IHByb3BzLm5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25OYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvcm1BY3Rpb25OYW1lID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdDYW5ub3Qgc3BlY2lmeSBhIFwibmFtZVwiIHByb3AgZm9yIGEgYnV0dG9uIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgYSBmb3JtQWN0aW9uLiBSZWFjdCBuZWVkcyBpdCB0byBlbmNvZGUgd2hpY2ggYWN0aW9uIHNob3VsZCBiZSBpbnZva2VkLiBJdCB3aWxsIGdldCBvdmVycmlkZGVuLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBwcm9wcy5mb3JtRW5jVHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsID09IHByb3BzLmZvcm1NZXRob2QpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uTWV0aG9kIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvcm1BY3Rpb25NZXRob2QgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3Qgc3BlY2lmeSBhIGZvcm1FbmNUeXBlIG9yIGZvcm1NZXRob2QgZm9yIGEgYnV0dG9uIHRoYXQgc3BlY2lmaWVzIGEgZnVuY3Rpb24gYXMgYSBmb3JtQWN0aW9uLiBSZWFjdCBwcm92aWRlcyB0aG9zZSBhdXRvbWF0aWNhbGx5LiBUaGV5IHdpbGwgZ2V0IG92ZXJyaWRkZW4uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsID09IHByb3BzLmZvcm1UYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25UYXJnZXQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9ybUFjdGlvblRhcmdldCA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCBzcGVjaWZ5IGEgZm9ybVRhcmdldCBmb3IgYSBidXR0b24gdGhhdCBzcGVjaWZpZXMgYSBmdW5jdGlvbiBhcyBhIGZvcm1BY3Rpb24uIFRoZSBmdW5jdGlvbiB3aWxsIGFsd2F5cyBiZSBleGVjdXRlZCBpbiB0aGUgc2FtZSB3aW5kb3cuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSkpXG4gICAgICAgICAgICAgICAgICAgICAgOiAoKGRpZFdhcm5Gb3JtQWN0aW9uVHlwZSA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdBIGJ1dHRvbiBjYW4gb25seSBzcGVjaWZ5IGEgZm9ybUFjdGlvbiBhbG9uZyB3aXRoIHR5cGU9XCJzdWJtaXRcIiBvciBubyB0eXBlLidcbiAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgIDogKChkaWRXYXJuRm9ybUFjdGlvblR5cGUgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICdBbiBpbnB1dCBjYW4gb25seSBzcGVjaWZ5IGEgZm9ybUFjdGlvbiBhbG9uZyB3aXRoIHR5cGU9XCJzdWJtaXRcIiBvciB0eXBlPVwiaW1hZ2VcIi4nXG4gICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICA6IFwiYWN0aW9uXCIgPT09IGtleVxuICAgICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiWW91IGNhbiBvbmx5IHBhc3MgdGhlIGFjdGlvbiBwcm9wIHRvIDxmb3JtPi5cIlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJZb3UgY2FuIG9ubHkgcGFzcyB0aGUgZm9ybUFjdGlvbiBwcm9wIHRvIDxpbnB1dD4gb3IgPGJ1dHRvbj4uXCJcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICBcImphdmFzY3JpcHQ6dGhyb3cgbmV3IEVycm9yKCdBIFJlYWN0IGZvcm0gd2FzIHVuZXhwZWN0ZWRseSBzdWJtaXR0ZWQuIElmIHlvdSBjYWxsZWQgZm9ybS5zdWJtaXQoKSBtYW51YWxseSwgY29uc2lkZXIgdXNpbmcgZm9ybS5yZXF1ZXN0U3VibWl0KCkgaW5zdGVhZC4gSWYgeW91XFxcXCdyZSB0cnlpbmcgdG8gdXNlIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpIGluIGEgc3VibWl0IGV2ZW50IGhhbmRsZXIsIGNvbnNpZGVyIGFsc28gY2FsbGluZyBldmVudC5wcmV2ZW50RGVmYXVsdCgpLicpXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByZXZWYWx1ZSAmJlxuICAgICAgICAgICAgICAoXCJmb3JtQWN0aW9uXCIgPT09IGtleVxuICAgICAgICAgICAgICAgID8gKFwiaW5wdXRcIiAhPT0gdGFnICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBcIm5hbWVcIiwgcHJvcHMubmFtZSwgcHJvcHMsIG51bGwpLFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm1FbmNUeXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmZvcm1FbmNUeXBlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgXCJmb3JtTWV0aG9kXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLmZvcm1NZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm1UYXJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuZm9ybVRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgOiAoc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBcImVuY1R5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuZW5jVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgXCJtZXRob2RcIiwgcHJvcHMubWV0aG9kLCBwcm9wcywgbnVsbCksXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIFwidGFyZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICkpKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsID09IHZhbHVlIHx8XG4gICAgICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KTtcbiAgICAgICAgICB2YWx1ZSA9IHNhbml0aXplVVJMKFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvbkNsaWNrXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIChkb21FbGVtZW50Lm9uY2xpY2sgPSBub29wJDEpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uU2Nyb2xsXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxcIiwgZG9tRWxlbWVudCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25TY3JvbGxFbmRcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbGVuZFwiLCBkb21FbGVtZW50KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgIGlmIChudWxsICE9IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdHlwZW9mIHZhbHVlIHx8ICEoXCJfX2h0bWxcIiBpbiB2YWx1ZSkpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBtdXN0IGJlIGluIHRoZSBmb3JtIGB7X19odG1sOiAuLi59YC4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvZGFuZ2Vyb3VzbHktc2V0LWlubmVyLWh0bWwgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGtleSA9IHZhbHVlLl9faHRtbDtcbiAgICAgICAgICAgIGlmIChudWxsICE9IGtleSkge1xuICAgICAgICAgICAgICBpZiAobnVsbCAhPSBwcm9wcy5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiQ2FuIG9ubHkgc2V0IG9uZSBvZiBgY2hpbGRyZW5gIG9yIGBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBkb21FbGVtZW50LmlubmVySFRNTCA9IGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgIGRvbUVsZW1lbnQubXVsdGlwbGUgPVxuICAgICAgICAgICAgdmFsdWUgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiYgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibXV0ZWRcIjpcbiAgICAgICAgICBkb21FbGVtZW50Lm11dGVkID1cbiAgICAgICAgICAgIHZhbHVlICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImRlZmF1bHRDaGVja2VkXCI6XG4gICAgICAgIGNhc2UgXCJpbm5lckhUTUxcIjpcbiAgICAgICAgY2FzZSBcInJlZlwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYXV0b0ZvY3VzXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua0hyZWZcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsID09IHZhbHVlIHx8XG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJib29sZWFuXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInhsaW5rOmhyZWZcIik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KTtcbiAgICAgICAgICBrZXkgPSBzYW5pdGl6ZVVSTChcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlTlMoeGxpbmtOYW1lc3BhY2UsIFwieGxpbms6aHJlZlwiLCBrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY29udGVudEVkaXRhYmxlXCI6XG4gICAgICAgIGNhc2UgXCJzcGVsbENoZWNrXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnZ2FibGVcIjpcbiAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJhdXRvUmV2ZXJzZVwiOlxuICAgICAgICBjYXNlIFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNhYmxlXCI6XG4gICAgICAgIGNhc2UgXCJwcmVzZXJ2ZUFscGhhXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlXG4gICAgICAgICAgICA/IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIFwiXCIgKyB2YWx1ZSkpXG4gICAgICAgICAgICA6IGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbmVydFwiOlxuICAgICAgICAgIFwiXCIgIT09IHZhbHVlIHx8XG4gICAgICAgICAgICBkaWRXYXJuRm9yTmV3Qm9vbGVhblByb3BzV2l0aEVtcHR5VmFsdWVba2V5XSB8fFxuICAgICAgICAgICAgKChkaWRXYXJuRm9yTmV3Qm9vbGVhblByb3BzV2l0aEVtcHR5VmFsdWVba2V5XSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gZW1wdHkgc3RyaW5nIGZvciBhIGJvb2xlYW4gYXR0cmlidXRlIGAlc2AuIFRoaXMgd2lsbCB0cmVhdCB0aGUgYXR0cmlidXRlIGFzIGlmIGl0IHdlcmUgZmFsc2UuIEVpdGhlciBwYXNzIGBmYWxzZWAgdG8gc2lsZW5jZSB0aGlzIHdhcm5pbmcsIG9yIHBhc3MgYHRydWVgIGlmIHlvdSB1c2VkIGFuIGVtcHR5IHN0cmluZyBpbiBlYXJsaWVyIHZlcnNpb25zIG9mIFJlYWN0IHRvIGluZGljYXRlIHRoaXMgYXR0cmlidXRlIGlzIHRydWUuXCIsXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIGNhc2UgXCJhbGxvd0Z1bGxTY3JlZW5cIjpcbiAgICAgICAgY2FzZSBcImFzeW5jXCI6XG4gICAgICAgIGNhc2UgXCJhdXRvUGxheVwiOlxuICAgICAgICBjYXNlIFwiY29udHJvbHNcIjpcbiAgICAgICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgICAgY2FzZSBcImRlZmVyXCI6XG4gICAgICAgIGNhc2UgXCJkaXNhYmxlZFwiOlxuICAgICAgICBjYXNlIFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIjpcbiAgICAgICAgY2FzZSBcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiOlxuICAgICAgICBjYXNlIFwiZm9ybU5vVmFsaWRhdGVcIjpcbiAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICBjYXNlIFwibG9vcFwiOlxuICAgICAgICBjYXNlIFwibm9Nb2R1bGVcIjpcbiAgICAgICAgY2FzZSBcIm5vVmFsaWRhdGVcIjpcbiAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgY2FzZSBcInBsYXlzSW5saW5lXCI6XG4gICAgICAgIGNhc2UgXCJyZWFkT25seVwiOlxuICAgICAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgICAgY2FzZSBcInJldmVyc2VkXCI6XG4gICAgICAgIGNhc2UgXCJzY29wZWRcIjpcbiAgICAgICAgY2FzZSBcInNlYW1sZXNzXCI6XG4gICAgICAgIGNhc2UgXCJpdGVtU2NvcGVcIjpcbiAgICAgICAgICB2YWx1ZSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICAgID8gZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBcIlwiKVxuICAgICAgICAgICAgOiBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwiZG93bmxvYWRcIjpcbiAgICAgICAgICAhMCA9PT0gdmFsdWVcbiAgICAgICAgICAgID8gZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBcIlwiKVxuICAgICAgICAgICAgOiAhMSAhPT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICAgICAgPyAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KSxcbiAgICAgICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKSlcbiAgICAgICAgICAgICAgOiBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY29sc1wiOlxuICAgICAgICBjYXNlIFwicm93c1wiOlxuICAgICAgICBjYXNlIFwic2l6ZVwiOlxuICAgICAgICBjYXNlIFwic3BhblwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICFpc05hTih2YWx1ZSkgJiZcbiAgICAgICAgICAxIDw9IHZhbHVlXG4gICAgICAgICAgICA/IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKSlcbiAgICAgICAgICAgIDogZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInJvd1NwYW5cIjpcbiAgICAgICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgaXNOYU4odmFsdWUpXG4gICAgICAgICAgICA/IGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSlcbiAgICAgICAgICAgIDogKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcG92ZXJcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiYmVmb3JldG9nZ2xlXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJ0b2dnbGVcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZG9tRWxlbWVudCwgXCJwb3BvdmVyXCIsIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rQWN0dWF0ZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6YWN0dWF0ZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtBcmNyb2xlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhsaW5rTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bGluazphcmNyb2xlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua1JvbGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOnJvbGVcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rU2hvd1wiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6c2hvd1wiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtUaXRsZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6dGl0bGVcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rVHlwZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6dHlwZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieG1sQmFzZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bWxOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhtbDpiYXNlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bWxMYW5nXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhtbE5hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieG1sOmxhbmdcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhtbFNwYWNlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhtbE5hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieG1sOnNwYWNlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpc1wiOlxuICAgICAgICAgIG51bGwgIT0gcHJldlZhbHVlICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAnQ2Fubm90IHVwZGF0ZSB0aGUgXCJpc1wiIHByb3AgYWZ0ZXIgaXQgaGFzIGJlZW4gaW5pdGlhbGl6ZWQuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBzZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBcImlzXCIsIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlubmVyVGV4dFwiOlxuICAgICAgICBjYXNlIFwidGV4dENvbnRlbnRcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInBvcG92ZXJUYXJnZXRcIjpcbiAgICAgICAgICBkaWRXYXJuUG9wb3ZlclRhcmdldE9iamVjdCB8fFxuICAgICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5Qb3BvdmVyVGFyZ2V0T2JqZWN0ID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJUaGUgYHBvcG92ZXJUYXJnZXRgIHByb3AgZXhwZWN0cyB0aGUgSUQgb2YgYW4gRWxlbWVudCBhcyBhIHN0cmluZy4gUmVjZWl2ZWQgJXMgaW5zdGVhZC5cIixcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICEoMiA8IGtleS5sZW5ndGgpIHx8XG4gICAgICAgICAgKFwib1wiICE9PSBrZXlbMF0gJiYgXCJPXCIgIT09IGtleVswXSkgfHxcbiAgICAgICAgICAoXCJuXCIgIT09IGtleVsxXSAmJiBcIk5cIiAhPT0ga2V5WzFdKVxuICAgICAgICAgICAgPyAoKGtleSA9IGdldEF0dHJpYnV0ZUFsaWFzKGtleSkpLFxuICAgICAgICAgICAgICBzZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBrZXksIHZhbHVlKSlcbiAgICAgICAgICAgIDogcmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmXG4gICAgICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRQcm9wT25DdXN0b21FbGVtZW50KFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIHRhZyxcbiAgICAgIGtleSxcbiAgICAgIHZhbHVlLFxuICAgICAgcHJvcHMsXG4gICAgICBwcmV2VmFsdWVcbiAgICApIHtcbiAgICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yU3R5bGVzKGRvbUVsZW1lbnQsIHZhbHVlLCBwcmV2VmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICBpZiAobnVsbCAhPSB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHR5cGVvZiB2YWx1ZSB8fCAhKFwiX19odG1sXCIgaW4gdmFsdWUpKVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcImBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAgbXVzdCBiZSBpbiB0aGUgZm9ybSBge19faHRtbDogLi4ufWAuIFBsZWFzZSB2aXNpdCBodHRwczovL3JlYWN0LmRldi9saW5rL2Rhbmdlcm91c2x5LXNldC1pbm5lci1odG1sIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBrZXkgPSB2YWx1ZS5fX2h0bWw7XG4gICAgICAgICAgICBpZiAobnVsbCAhPSBrZXkpIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT0gcHJvcHMuY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIkNhbiBvbmx5IHNldCBvbmUgb2YgYGNoaWxkcmVuYCBvciBgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZG9tRWxlbWVudC5pbm5lckhUTUwgPSBrZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICAgID8gc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgdmFsdWUpXG4gICAgICAgICAgICA6IChcIm51bWJlclwiID09PSB0eXBlb2YgdmFsdWUgfHwgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIHZhbHVlKSAmJlxuICAgICAgICAgICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCBcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25TY3JvbGxcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbFwiLCBkb21FbGVtZW50KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvblNjcm9sbEVuZFwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwic2Nyb2xsZW5kXCIsIGRvbUVsZW1lbnQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uQ2xpY2tcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgKGRvbUVsZW1lbnQub25jbGljayA9IG5vb3AkMSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpcbiAgICAgICAgY2FzZSBcImlubmVySFRNTFwiOlxuICAgICAgICBjYXNlIFwicmVmXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbm5lclRleHRcIjpcbiAgICAgICAgY2FzZSBcInRleHRDb250ZW50XCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFwib1wiID09PSBrZXlbMF0gJiZcbiAgICAgICAgICAgICAgICBcIm5cIiA9PT0ga2V5WzFdICYmXG4gICAgICAgICAgICAgICAgKChwcm9wcyA9IGtleS5lbmRzV2l0aChcIkNhcHR1cmVcIikpLFxuICAgICAgICAgICAgICAgICh0YWcgPSBrZXkuc2xpY2UoMiwgcHJvcHMgPyBrZXkubGVuZ3RoIC0gNyA6IHZvaWQgMCkpLFxuICAgICAgICAgICAgICAgIChwcmV2VmFsdWUgPSBkb21FbGVtZW50W2ludGVybmFsUHJvcHNLZXldIHx8IG51bGwpLFxuICAgICAgICAgICAgICAgIChwcmV2VmFsdWUgPSBudWxsICE9IHByZXZWYWx1ZSA/IHByZXZWYWx1ZVtrZXldIDogbnVsbCksXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJldlZhbHVlICYmXG4gICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodGFnLCBwcmV2VmFsdWUsIHByb3BzKSxcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSlcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcHJldlZhbHVlICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBwcmV2VmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgIChrZXkgaW4gZG9tRWxlbWVudFxuICAgICAgICAgICAgICAgICAgICA/IChkb21FbGVtZW50W2tleV0gPSBudWxsKVxuICAgICAgICAgICAgICAgICAgICA6IGRvbUVsZW1lbnQuaGFzQXR0cmlidXRlKGtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpKTtcbiAgICAgICAgICAgICAgICBkb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodGFnLCB2YWx1ZSwgcHJvcHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAga2V5IGluIGRvbUVsZW1lbnRcbiAgICAgICAgICAgICAgICA/IChkb21FbGVtZW50W2tleV0gPSB2YWx1ZSlcbiAgICAgICAgICAgICAgICA6ICEwID09PSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgPyBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIFwiXCIpXG4gICAgICAgICAgICAgICAgICA6IHNldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRJbml0aWFsUHJvcGVydGllcyhkb21FbGVtZW50LCB0YWcsIHByb3BzKSB7XG4gICAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHRhZywgcHJvcHMpO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSBcImRpdlwiOlxuICAgICAgICBjYXNlIFwic3BhblwiOlxuICAgICAgICBjYXNlIFwic3ZnXCI6XG4gICAgICAgIGNhc2UgXCJwYXRoXCI6XG4gICAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgIGNhc2UgXCJnXCI6XG4gICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgIGNhc2UgXCJsaVwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImVycm9yXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHZhciBoYXNTcmMgPSAhMSxcbiAgICAgICAgICAgIGhhc1NyY1NldCA9ICExLFxuICAgICAgICAgICAgcHJvcEtleTtcbiAgICAgICAgICBmb3IgKHByb3BLZXkgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BLZXldO1xuICAgICAgICAgICAgICBpZiAobnVsbCAhPSBwcm9wVmFsdWUpXG4gICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgICAgICAgICAgIGhhc1NyYyA9ICEwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzcmNTZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFzU3JjU2V0ID0gITA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBwcm9wS2V5LCBwcm9wVmFsdWUsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgaGFzU3JjU2V0ICYmXG4gICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgXCJzcmNTZXRcIiwgcHJvcHMuc3JjU2V0LCBwcm9wcywgbnVsbCk7XG4gICAgICAgICAgaGFzU3JjICYmIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBcInNyY1wiLCBwcm9wcy5zcmMsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJpbnB1dFwiLCBwcm9wcyk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IChwcm9wS2V5ID0gcHJvcFZhbHVlID0gaGFzU3JjU2V0ID0gbnVsbCksXG4gICAgICAgICAgICBjaGVja2VkID0gbnVsbCxcbiAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkID0gbnVsbDtcbiAgICAgICAgICBmb3IgKGhhc1NyYyBpbiBwcm9wcylcbiAgICAgICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShoYXNTcmMpKSB7XG4gICAgICAgICAgICAgIHZhciBfcHJvcFZhbHVlID0gcHJvcHNbaGFzU3JjXTtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT0gX3Byb3BWYWx1ZSlcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGhhc1NyYykge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIm5hbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFzU3JjU2V0ID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwidHlwZVwiOlxuICAgICAgICAgICAgICAgICAgICBwcm9wVmFsdWUgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IF9wcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBfcHJvcFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCIgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2UgYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGhhc1NyYywgX3Byb3BWYWx1ZSwgcHJvcHMsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB2YWxpZGF0ZUlucHV0UHJvcHMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgICAgIGluaXRJbnB1dChcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgY2hlY2tlZCxcbiAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgcHJvcFZhbHVlLFxuICAgICAgICAgICAgaGFzU3JjU2V0LFxuICAgICAgICAgICAgITFcbiAgICAgICAgICApO1xuICAgICAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJzZWxlY3RcIiwgcHJvcHMpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGhhc1NyYyA9IHByb3BWYWx1ZSA9IHByb3BLZXkgPSBudWxsO1xuICAgICAgICAgIGZvciAoaGFzU3JjU2V0IGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShoYXNTcmNTZXQpICYmXG4gICAgICAgICAgICAgICgoZGVmYXVsdFZhbHVlID0gcHJvcHNbaGFzU3JjU2V0XSksIG51bGwgIT0gZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGhhc1NyY1NldCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgcHJvcEtleSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICAgICAgaGFzU3JjID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIGhhc1NyY1NldCxcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHZhbGlkYXRlU2VsZWN0UHJvcHMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgICAgIHRhZyA9IHByb3BLZXk7XG4gICAgICAgICAgcHJvcHMgPSBwcm9wVmFsdWU7XG4gICAgICAgICAgZG9tRWxlbWVudC5tdWx0aXBsZSA9ICEhaGFzU3JjO1xuICAgICAgICAgIG51bGwgIT0gdGFnXG4gICAgICAgICAgICA/IHVwZGF0ZU9wdGlvbnMoZG9tRWxlbWVudCwgISFoYXNTcmMsIHRhZywgITEpXG4gICAgICAgICAgICA6IG51bGwgIT0gcHJvcHMgJiYgdXBkYXRlT3B0aW9ucyhkb21FbGVtZW50LCAhIWhhc1NyYywgcHJvcHMsICEwKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJ0ZXh0YXJlYVwiLCBwcm9wcyk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgcHJvcEtleSA9IGhhc1NyY1NldCA9IGhhc1NyYyA9IG51bGw7XG4gICAgICAgICAgZm9yIChwcm9wVmFsdWUgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KHByb3BWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgKChkZWZhdWx0VmFsdWUgPSBwcm9wc1twcm9wVmFsdWVdKSwgbnVsbCAhPSBkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAocHJvcFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBoYXNTcmMgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBoYXNTcmNTZXQgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIGRvZXMgbm90IG1ha2Ugc2Vuc2Ugb24gPHRleHRhcmVhPi5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgdmFsaWRhdGVUZXh0YXJlYVByb3BzKGRvbUVsZW1lbnQsIHByb3BzKTtcbiAgICAgICAgICBpbml0VGV4dGFyZWEoZG9tRWxlbWVudCwgaGFzU3JjLCBoYXNTcmNTZXQsIHByb3BLZXkpO1xuICAgICAgICAgIHRyYWNrKGRvbUVsZW1lbnQpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcIm9wdGlvblwiOlxuICAgICAgICAgIHZhbGlkYXRlT3B0aW9uUHJvcHMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgICAgIGZvciAoY2hlY2tlZCBpbiBwcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkoY2hlY2tlZCkgJiZcbiAgICAgICAgICAgICAgKChoYXNTcmMgPSBwcm9wc1tjaGVja2VkXSksIG51bGwgIT0gaGFzU3JjKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2VsZWN0ZWQgPVxuICAgICAgICAgICAgICAgICAgICBoYXNTcmMgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgaGFzU3JjICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBoYXNTcmM7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGNoZWNrZWQsIGhhc1NyYywgcHJvcHMsIG51bGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwiZGlhbG9nXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImNhbmNlbFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiY2xvc2VcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpZnJhbWVcIjpcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidmlkZW9cIjpcbiAgICAgICAgY2FzZSBcImF1ZGlvXCI6XG4gICAgICAgICAgZm9yIChoYXNTcmMgPSAwOyBoYXNTcmMgPCBtZWRpYUV2ZW50VHlwZXMubGVuZ3RoOyBoYXNTcmMrKylcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQobWVkaWFFdmVudFR5cGVzW2hhc1NyY10sIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiZXJyb3JcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImxvYWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkZXRhaWxzXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInRvZ2dsZVwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVtYmVkXCI6XG4gICAgICAgIGNhc2UgXCJzb3VyY2VcIjpcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiZXJyb3JcIiwgZG9tRWxlbWVudCksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgY2FzZSBcImFyZWFcIjpcbiAgICAgICAgY2FzZSBcImJhc2VcIjpcbiAgICAgICAgY2FzZSBcImJyXCI6XG4gICAgICAgIGNhc2UgXCJjb2xcIjpcbiAgICAgICAgY2FzZSBcImhyXCI6XG4gICAgICAgIGNhc2UgXCJrZXlnZW5cIjpcbiAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgY2FzZSBcInBhcmFtXCI6XG4gICAgICAgIGNhc2UgXCJ0cmFja1wiOlxuICAgICAgICBjYXNlIFwid2JyXCI6XG4gICAgICAgIGNhc2UgXCJtZW51aXRlbVwiOlxuICAgICAgICAgIGZvciAoZGVmYXVsdENoZWNrZWQgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRDaGVja2VkKSAmJlxuICAgICAgICAgICAgICAoKGhhc1NyYyA9IHByb3BzW2RlZmF1bHRDaGVja2VkXSksIG51bGwgIT0gaGFzU3JjKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGRlZmF1bHRDaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICBcIiBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgZGVmYXVsdENoZWNrZWQsIGhhc1NyYywgcHJvcHMsIG51bGwpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChpc0N1c3RvbUVsZW1lbnQodGFnKSkge1xuICAgICAgICAgICAgZm9yIChfcHJvcFZhbHVlIGluIHByb3BzKVxuICAgICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcFZhbHVlKSAmJlxuICAgICAgICAgICAgICAgICgoaGFzU3JjID0gcHJvcHNbX3Byb3BWYWx1ZV0pLFxuICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gaGFzU3JjICYmXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wT25DdXN0b21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGhhc1NyYyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMFxuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yIChkZWZhdWx0VmFsdWUgaW4gcHJvcHMpXG4gICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRWYWx1ZSkgJiZcbiAgICAgICAgICAoKGhhc1NyYyA9IHByb3BzW2RlZmF1bHRWYWx1ZV0pLFxuICAgICAgICAgIG51bGwgIT0gaGFzU3JjICYmXG4gICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgZGVmYXVsdFZhbHVlLCBoYXNTcmMsIHByb3BzLCBudWxsKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdGFnLCBsYXN0UHJvcHMsIG5leHRQcm9wcykge1xuICAgICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0YWcsIG5leHRQcm9wcyk7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIFwiZGl2XCI6XG4gICAgICAgIGNhc2UgXCJzcGFuXCI6XG4gICAgICAgIGNhc2UgXCJzdmdcIjpcbiAgICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgY2FzZSBcImdcIjpcbiAgICAgICAgY2FzZSBcInBcIjpcbiAgICAgICAgY2FzZSBcImxpXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICAgIHZhciBuYW1lID0gbnVsbCxcbiAgICAgICAgICAgIHR5cGUgPSBudWxsLFxuICAgICAgICAgICAgdmFsdWUgPSBudWxsLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlID0gbnVsbCxcbiAgICAgICAgICAgIGxhc3REZWZhdWx0VmFsdWUgPSBudWxsLFxuICAgICAgICAgICAgY2hlY2tlZCA9IG51bGwsXG4gICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IG51bGw7XG4gICAgICAgICAgZm9yIChwcm9wS2V5IGluIGxhc3RQcm9wcykge1xuICAgICAgICAgICAgdmFyIGxhc3RQcm9wID0gbGFzdFByb3BzW3Byb3BLZXldO1xuICAgICAgICAgICAgaWYgKGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSAmJiBudWxsICE9IGxhc3RQcm9wKVxuICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlID0gbGFzdFByb3A7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSB8fFxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdFByb3BcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhciBfcHJvcEtleTggaW4gbmV4dFByb3BzKSB7XG4gICAgICAgICAgICB2YXIgcHJvcEtleSA9IG5leHRQcm9wc1tfcHJvcEtleThdO1xuICAgICAgICAgICAgbGFzdFByb3AgPSBsYXN0UHJvcHNbX3Byb3BLZXk4XTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5OCkgJiZcbiAgICAgICAgICAgICAgKG51bGwgIT0gcHJvcEtleSB8fCBudWxsICE9IGxhc3RQcm9wKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKF9wcm9wS2V5OCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0eXBlXCI6XG4gICAgICAgICAgICAgICAgICB0eXBlID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJuYW1lXCI6XG4gICAgICAgICAgICAgICAgICBuYW1lID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgICBjaGVja2VkID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQgPSBwcm9wS2V5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBwcm9wS2V5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBwcm9wS2V5KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICB0YWcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2UgYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgIT09IGxhc3RQcm9wICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4LFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3RQcm9wXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgdGFnID1cbiAgICAgICAgICAgIFwiY2hlY2tib3hcIiA9PT0gbGFzdFByb3BzLnR5cGUgfHwgXCJyYWRpb1wiID09PSBsYXN0UHJvcHMudHlwZVxuICAgICAgICAgICAgICA/IG51bGwgIT0gbGFzdFByb3BzLmNoZWNrZWRcbiAgICAgICAgICAgICAgOiBudWxsICE9IGxhc3RQcm9wcy52YWx1ZTtcbiAgICAgICAgICBuZXh0UHJvcHMgPVxuICAgICAgICAgICAgXCJjaGVja2JveFwiID09PSBuZXh0UHJvcHMudHlwZSB8fCBcInJhZGlvXCIgPT09IG5leHRQcm9wcy50eXBlXG4gICAgICAgICAgICAgID8gbnVsbCAhPSBuZXh0UHJvcHMuY2hlY2tlZFxuICAgICAgICAgICAgICA6IG51bGwgIT0gbmV4dFByb3BzLnZhbHVlO1xuICAgICAgICAgIHRhZyB8fFxuICAgICAgICAgICAgIW5leHRQcm9wcyB8fFxuICAgICAgICAgICAgZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCB8fFxuICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgYW4gdW5jb250cm9sbGVkIGlucHV0IHRvIGJlIGNvbnRyb2xsZWQuIFRoaXMgaXMgbGlrZWx5IGNhdXNlZCBieSB0aGUgdmFsdWUgY2hhbmdpbmcgZnJvbSB1bmRlZmluZWQgdG8gYSBkZWZpbmVkIHZhbHVlLCB3aGljaCBzaG91bGQgbm90IGhhcHBlbi4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCBlbGVtZW50IGZvciB0aGUgbGlmZXRpbWUgb2YgdGhlIGNvbXBvbmVudC4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKGRpZFdhcm5VbmNvbnRyb2xsZWRUb0NvbnRyb2xsZWQgPSAhMCkpO1xuICAgICAgICAgICF0YWcgfHxcbiAgICAgICAgICAgIG5leHRQcm9wcyB8fFxuICAgICAgICAgICAgZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCB8fFxuICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgYSBjb250cm9sbGVkIGlucHV0IHRvIGJlIHVuY29udHJvbGxlZC4gVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IHRoZSB2YWx1ZSBjaGFuZ2luZyBmcm9tIGEgZGVmaW5lZCB0byB1bmRlZmluZWQsIHdoaWNoIHNob3VsZCBub3QgaGFwcGVuLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0IGVsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvY29udHJvbGxlZC1jb21wb25lbnRzXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCA9ICEwKSk7XG4gICAgICAgICAgdXBkYXRlSW5wdXQoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgY2hlY2tlZCxcbiAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgIHByb3BLZXkgPSB2YWx1ZSA9IGRlZmF1bHRWYWx1ZSA9IF9wcm9wS2V5OCA9IG51bGw7XG4gICAgICAgICAgZm9yICh0eXBlIGluIGxhc3RQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChsYXN0RGVmYXVsdFZhbHVlID0gbGFzdFByb3BzW3R5cGVdKSxcbiAgICAgICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KHR5cGUpICYmIG51bGwgIT0gbGFzdERlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBsYXN0RGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkodHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3REZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIGZvciAobmFtZSBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgodHlwZSA9IG5leHRQcm9wc1tuYW1lXSksXG4gICAgICAgICAgICAgIChsYXN0RGVmYXVsdFZhbHVlID0gbGFzdFByb3BzW25hbWVdKSxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KG5hbWUpICYmXG4gICAgICAgICAgICAgICAgKG51bGwgIT0gdHlwZSB8fCBudWxsICE9IGxhc3REZWZhdWx0VmFsdWUpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHR5cGUgIT09IGxhc3REZWZhdWx0VmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIGxhc3REZWZhdWx0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIG5leHRQcm9wcyA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICB0YWcgPSB2YWx1ZTtcbiAgICAgICAgICBsYXN0UHJvcHMgPSBwcm9wS2V5O1xuICAgICAgICAgIG51bGwgIT0gX3Byb3BLZXk4XG4gICAgICAgICAgICA/IHVwZGF0ZU9wdGlvbnMoZG9tRWxlbWVudCwgISF0YWcsIF9wcm9wS2V5OCwgITEpXG4gICAgICAgICAgICA6ICEhbGFzdFByb3BzICE9PSAhIXRhZyAmJlxuICAgICAgICAgICAgICAobnVsbCAhPSBuZXh0UHJvcHNcbiAgICAgICAgICAgICAgICA/IHVwZGF0ZU9wdGlvbnMoZG9tRWxlbWVudCwgISF0YWcsIG5leHRQcm9wcywgITApXG4gICAgICAgICAgICAgICAgOiB1cGRhdGVPcHRpb25zKGRvbUVsZW1lbnQsICEhdGFnLCB0YWcgPyBbXSA6IFwiXCIsICExKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICBwcm9wS2V5ID0gX3Byb3BLZXk4ID0gbnVsbDtcbiAgICAgICAgICBmb3IgKGRlZmF1bHRWYWx1ZSBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgobmFtZSA9IGxhc3RQcm9wc1tkZWZhdWx0VmFsdWVdKSxcbiAgICAgICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRWYWx1ZSkgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9IG5hbWUgJiZcbiAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRWYWx1ZSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAoZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgZGVmYXVsdFZhbHVlLCBudWxsLCBuZXh0UHJvcHMsIG5hbWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgZm9yICh2YWx1ZSBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgobmFtZSA9IG5leHRQcm9wc1t2YWx1ZV0pLFxuICAgICAgICAgICAgICAodHlwZSA9IGxhc3RQcm9wc1t2YWx1ZV0pLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkodmFsdWUpICYmIChudWxsICE9IG5hbWUgfHwgbnVsbCAhPSB0eXBlKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4ID0gbmFtZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBuYW1lO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IG5hbWUpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBkb2VzIG5vdCBtYWtlIHNlbnNlIG9uIDx0ZXh0YXJlYT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBuYW1lICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCB2YWx1ZSwgbmFtZSwgbmV4dFByb3BzLCB0eXBlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVRleHRhcmVhKGRvbUVsZW1lbnQsIF9wcm9wS2V5OCwgcHJvcEtleSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwib3B0aW9uXCI6XG4gICAgICAgICAgZm9yICh2YXIgX3Byb3BLZXkxMyBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICgoX3Byb3BLZXk4ID0gbGFzdFByb3BzW19wcm9wS2V5MTNdKSxcbiAgICAgICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTMpICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTMpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKF9wcm9wS2V5MTMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2VsZWN0ZWQgPSAhMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5MTMsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChsYXN0RGVmYXVsdFZhbHVlIGluIG5leHRQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChfcHJvcEtleTggPSBuZXh0UHJvcHNbbGFzdERlZmF1bHRWYWx1ZV0pLFxuICAgICAgICAgICAgICAocHJvcEtleSA9IGxhc3RQcm9wc1tsYXN0RGVmYXVsdFZhbHVlXSksXG4gICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShsYXN0RGVmYXVsdFZhbHVlKSAmJlxuICAgICAgICAgICAgICAgIF9wcm9wS2V5OCAhPT0gcHJvcEtleSAmJlxuICAgICAgICAgICAgICAgIChudWxsICE9IF9wcm9wS2V5OCB8fCBudWxsICE9IHByb3BLZXkpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGxhc3REZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2VsZWN0ZWQgPVxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX3Byb3BLZXk4ICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiBfcHJvcEtleTg7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBsYXN0RGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTgsXG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcImltZ1wiOlxuICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICBjYXNlIFwiYXJlYVwiOlxuICAgICAgICBjYXNlIFwiYmFzZVwiOlxuICAgICAgICBjYXNlIFwiYnJcIjpcbiAgICAgICAgY2FzZSBcImNvbFwiOlxuICAgICAgICBjYXNlIFwiZW1iZWRcIjpcbiAgICAgICAgY2FzZSBcImhyXCI6XG4gICAgICAgIGNhc2UgXCJrZXlnZW5cIjpcbiAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgY2FzZSBcInBhcmFtXCI6XG4gICAgICAgIGNhc2UgXCJzb3VyY2VcIjpcbiAgICAgICAgY2FzZSBcInRyYWNrXCI6XG4gICAgICAgIGNhc2UgXCJ3YnJcIjpcbiAgICAgICAgY2FzZSBcIm1lbnVpdGVtXCI6XG4gICAgICAgICAgZm9yICh2YXIgX3Byb3BLZXkxNSBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICAoX3Byb3BLZXk4ID0gbGFzdFByb3BzW19wcm9wS2V5MTVdKSxcbiAgICAgICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTUpICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPSBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTUpICYmXG4gICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICBfcHJvcEtleTE1LFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgZm9yIChjaGVja2VkIGluIG5leHRQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChfcHJvcEtleTggPSBuZXh0UHJvcHNbY2hlY2tlZF0pLFxuICAgICAgICAgICAgICAocHJvcEtleSA9IGxhc3RQcm9wc1tjaGVja2VkXSksXG4gICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShjaGVja2VkKSAmJlxuICAgICAgICAgICAgICAgIF9wcm9wS2V5OCAhPT0gcHJvcEtleSAmJlxuICAgICAgICAgICAgICAgIChudWxsICE9IF9wcm9wS2V5OCB8fCBudWxsICE9IHByb3BLZXkpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IF9wcm9wS2V5OClcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgdGFnICtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChpc0N1c3RvbUVsZW1lbnQodGFnKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgX3Byb3BLZXkxNyBpbiBsYXN0UHJvcHMpXG4gICAgICAgICAgICAgIChfcHJvcEtleTggPSBsYXN0UHJvcHNbX3Byb3BLZXkxN10pLFxuICAgICAgICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE3KSAmJlxuICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxNykgJiZcbiAgICAgICAgICAgICAgICAgIHNldFByb3BPbkN1c3RvbUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXkxNyxcbiAgICAgICAgICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OFxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZvciAoZGVmYXVsdENoZWNrZWQgaW4gbmV4dFByb3BzKVxuICAgICAgICAgICAgICAoX3Byb3BLZXk4ID0gbmV4dFByb3BzW2RlZmF1bHRDaGVja2VkXSksXG4gICAgICAgICAgICAgICAgKHByb3BLZXkgPSBsYXN0UHJvcHNbZGVmYXVsdENoZWNrZWRdKSxcbiAgICAgICAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KGRlZmF1bHRDaGVja2VkKSB8fFxuICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4ID09PSBwcm9wS2V5IHx8XG4gICAgICAgICAgICAgICAgICAodm9pZCAwID09PSBfcHJvcEtleTggJiYgdm9pZCAwID09PSBwcm9wS2V5KSB8fFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcE9uQ3VzdG9tRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4LFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgZm9yICh2YXIgX3Byb3BLZXkxOSBpbiBsYXN0UHJvcHMpXG4gICAgICAgIChfcHJvcEtleTggPSBsYXN0UHJvcHNbX3Byb3BLZXkxOV0pLFxuICAgICAgICAgIGxhc3RQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE5KSAmJlxuICAgICAgICAgICAgbnVsbCAhPSBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxOSkgJiZcbiAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBfcHJvcEtleTE5LCBudWxsLCBuZXh0UHJvcHMsIF9wcm9wS2V5OCk7XG4gICAgICBmb3IgKGxhc3RQcm9wIGluIG5leHRQcm9wcylcbiAgICAgICAgKF9wcm9wS2V5OCA9IG5leHRQcm9wc1tsYXN0UHJvcF0pLFxuICAgICAgICAgIChwcm9wS2V5ID0gbGFzdFByb3BzW2xhc3RQcm9wXSksXG4gICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShsYXN0UHJvcCkgfHxcbiAgICAgICAgICAgIF9wcm9wS2V5OCA9PT0gcHJvcEtleSB8fFxuICAgICAgICAgICAgKG51bGwgPT0gX3Byb3BLZXk4ICYmIG51bGwgPT0gcHJvcEtleSkgfHxcbiAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBsYXN0UHJvcCwgX3Byb3BLZXk4LCBuZXh0UHJvcHMsIHByb3BLZXkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRQcm9wTmFtZUZyb21BdHRyaWJ1dGVOYW1lKGF0dHJOYW1lKSB7XG4gICAgICBzd2l0Y2ggKGF0dHJOYW1lKSB7XG4gICAgICAgIGNhc2UgXCJjbGFzc1wiOlxuICAgICAgICAgIHJldHVybiBcImNsYXNzTmFtZVwiO1xuICAgICAgICBjYXNlIFwiZm9yXCI6XG4gICAgICAgICAgcmV0dXJuIFwiaHRtbEZvclwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBhdHRyTmFtZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGVzT2JqZWN0RnJvbUVsZW1lbnQoZG9tRWxlbWVudCkge1xuICAgICAgdmFyIHNlcnZlclZhbHVlSW5PYmplY3RGb3JtID0ge307XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5zdHlsZTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9tRWxlbWVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc3R5bGVOYW1lID0gZG9tRWxlbWVudFtpXTtcbiAgICAgICAgc2VydmVyVmFsdWVJbk9iamVjdEZvcm1bc3R5bGVOYW1lXSA9XG4gICAgICAgICAgZG9tRWxlbWVudC5nZXRQcm9wZXJ0eVZhbHVlKHN0eWxlTmFtZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VydmVyVmFsdWVJbk9iamVjdEZvcm07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZIeWRyYXRlZFN0eWxlcyhkb21FbGVtZW50LCB2YWx1ZSRqc2NvbXAkMCwgc2VydmVyRGlmZmVyZW5jZXMpIHtcbiAgICAgIGlmIChudWxsICE9IHZhbHVlJGpzY29tcCQwICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiB2YWx1ZSRqc2NvbXAkMClcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlRoZSBgc3R5bGVgIHByb3AgZXhwZWN0cyBhIG1hcHBpbmcgZnJvbSBzdHlsZSBwcm9wZXJ0aWVzIHRvIHZhbHVlcywgbm90IGEgc3RyaW5nLiBGb3IgZXhhbXBsZSwgc3R5bGU9e3ttYXJnaW5SaWdodDogc3BhY2luZyArICdlbSd9fSB3aGVuIHVzaW5nIEpTWC5cIlxuICAgICAgICApO1xuICAgICAgZWxzZSBpZiAoY2FuRGlmZlN0eWxlRm9ySHlkcmF0aW9uV2FybmluZykge1xuICAgICAgICB2YXIgY2xpZW50VmFsdWU7XG4gICAgICAgIHZhciBkZWxpbWl0ZXIgPSAoY2xpZW50VmFsdWUgPSBcIlwiKSxcbiAgICAgICAgICBzdHlsZU5hbWU7XG4gICAgICAgIGZvciAoc3R5bGVOYW1lIGluIHZhbHVlJGpzY29tcCQwKVxuICAgICAgICAgIGlmICh2YWx1ZSRqc2NvbXAkMC5oYXNPd25Qcm9wZXJ0eShzdHlsZU5hbWUpKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZSRqc2NvbXAkMFtzdHlsZU5hbWVdO1xuICAgICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgICBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIFwiXCIgIT09IHZhbHVlICYmXG4gICAgICAgICAgICAgICgwID09PSBzdHlsZU5hbWUuaW5kZXhPZihcIi0tXCIpXG4gICAgICAgICAgICAgICAgPyAoY2hlY2tDU1NQcm9wZXJ0eVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBzdHlsZU5hbWUpLFxuICAgICAgICAgICAgICAgICAgKGNsaWVudFZhbHVlICs9XG4gICAgICAgICAgICAgICAgICAgIGRlbGltaXRlciArIHN0eWxlTmFtZSArIFwiOlwiICsgKFwiXCIgKyB2YWx1ZSkudHJpbSgpKSlcbiAgICAgICAgICAgICAgICA6IFwibnVtYmVyXCIgIT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgICAgICAgICAwID09PSB2YWx1ZSB8fFxuICAgICAgICAgICAgICAgICAgICB1bml0bGVzc051bWJlcnMuaGFzKHN0eWxlTmFtZSlcbiAgICAgICAgICAgICAgICAgID8gKGNoZWNrQ1NTUHJvcGVydHlTdHJpbmdDb2VyY2lvbih2YWx1ZSwgc3R5bGVOYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgKGNsaWVudFZhbHVlICs9XG4gICAgICAgICAgICAgICAgICAgICAgZGVsaW1pdGVyICtcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHVwcGVyY2FzZVBhdHRlcm4sIFwiLSQxXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UobXNQYXR0ZXJuJDEsIFwiLW1zLVwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgXCI6XCIgK1xuICAgICAgICAgICAgICAgICAgICAgIChcIlwiICsgdmFsdWUpLnRyaW0oKSkpXG4gICAgICAgICAgICAgICAgICA6IChjbGllbnRWYWx1ZSArPVxuICAgICAgICAgICAgICAgICAgICAgIGRlbGltaXRlciArXG4gICAgICAgICAgICAgICAgICAgICAgc3R5bGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSh1cHBlcmNhc2VQYXR0ZXJuLCBcIi0kMVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKG1zUGF0dGVybiQxLCBcIi1tcy1cIikgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiOlwiICtcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSArXG4gICAgICAgICAgICAgICAgICAgICAgXCJweFwiKSxcbiAgICAgICAgICAgICAgKGRlbGltaXRlciA9IFwiO1wiKSk7XG4gICAgICAgICAgfVxuICAgICAgICBjbGllbnRWYWx1ZSA9IGNsaWVudFZhbHVlIHx8IG51bGw7XG4gICAgICAgIHZhbHVlJGpzY29tcCQwID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcbiAgICAgICAgdmFsdWUkanNjb21wJDAgIT09IGNsaWVudFZhbHVlICYmXG4gICAgICAgICAgKChjbGllbnRWYWx1ZSA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShjbGllbnRWYWx1ZSkpLFxuICAgICAgICAgIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSh2YWx1ZSRqc2NvbXAkMCkgIT09IGNsaWVudFZhbHVlICYmXG4gICAgICAgICAgICAoc2VydmVyRGlmZmVyZW5jZXMuc3R5bGUgPSBnZXRTdHlsZXNPYmplY3RGcm9tRWxlbWVudChkb21FbGVtZW50KSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIHByb3BLZXksXG4gICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGlmIChudWxsID09PSBkb21FbGVtZW50KVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZWxzZSBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBwcm9wS2V5KSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudCA9PT0gXCJcIiArIHZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlQm9vbGVhbkF0dHJpYnV0ZShcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBwcm9wS2V5LFxuICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZG9tRWxlbWVudCkge1xuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm47XG4gICAgICB9IGVsc2VcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKHZhbHVlKSByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlQm9vbGVhbmlzaEF0dHJpYnV0ZShcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBwcm9wS2V5LFxuICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZG9tRWxlbWVudClcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBlbHNlIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBhdHRyaWJ1dGVOYW1lKSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudCA9PT0gXCJcIiArIHZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoeWRyYXRlTnVtZXJpY0F0dHJpYnV0ZShcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBwcm9wS2V5LFxuICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZG9tRWxlbWVudClcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChpc05hTih2YWx1ZSkpIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgZWxzZSBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICFpc05hTih2YWx1ZSkgJiZcbiAgICAgICAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIHByb3BLZXkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50ID09PSBcIlwiICsgdmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIGRvbUVsZW1lbnQsIHZhbHVlLCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGh5ZHJhdGVTYW5pdGl6ZWRBdHRyaWJ1dGUoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgcHJvcEtleSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgaWYgKG51bGwgPT09IGRvbUVsZW1lbnQpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBlbHNlIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIHByb3BLZXkpLFxuICAgICAgICAgICAgICAoYXR0cmlidXRlTmFtZSA9IHNhbml0aXplVVJMKFwiXCIgKyB2YWx1ZSkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50ID09PSBhdHRyaWJ1dGVOYW1lKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShwcm9wS2V5LCBkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHRhZywgcHJvcHMsIGhvc3RDb250ZXh0KSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgc2VydmVyRGlmZmVyZW5jZXMgPSB7fSxcbiAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMgPSBuZXcgU2V0KCksXG4gICAgICAgICAgYXR0cmlidXRlcyA9IGRvbUVsZW1lbnQuYXR0cmlidXRlcyxcbiAgICAgICAgICBpID0gMDtcbiAgICAgICAgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoO1xuICAgICAgICBpKytcbiAgICAgIClcbiAgICAgICAgc3dpdGNoIChhdHRyaWJ1dGVzW2ldLm5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5hZGQoYXR0cmlidXRlc1tpXS5uYW1lKTtcbiAgICAgICAgfVxuICAgICAgaWYgKGlzQ3VzdG9tRWxlbWVudCh0YWcpKVxuICAgICAgICBmb3IgKHZhciBwcm9wS2V5IGluIHByb3BzKSB7XG4gICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBwcm9wc1twcm9wS2V5XTtcbiAgICAgICAgICAgIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSlcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHByb3BLZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgZWxzZSBpZiAoITAgIT09IHByb3BzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZylcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgICAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHZhbHVlICYmIFwibnVtYmVyXCIgIT09IHR5cGVvZiB2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRDaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiaW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwicmVmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlLl9faHRtbCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICgodmFsdWUgPSBub3JtYWxpemVIVE1MKGRvbUVsZW1lbnQsIHZhbHVlKSksXG4gICAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUocHJvcEtleSk7XG4gICAgICAgICAgICAgICAgICAgIGRpZmZIeWRyYXRlZFN0eWxlcyhkb21FbGVtZW50LCB2YWx1ZSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZzZXRQYXJlbnRcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZzZXRUb3BcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZzZXRMZWZ0XCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib2Zmc2V0V2lkdGhcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZzZXRIZWlnaHRcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJpc0NvbnRlbnRFZGl0YWJsZVwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIm91dGVyVGV4dFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIm91dGVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHByb3BLZXkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJBc3NpZ25tZW50IHRvIHJlYWQtb25seSBwcm9wZXJ0eSB3aWxsIHJlc3VsdCBpbiBhIG5vLW9wOiBgJXNgXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjbGFzc05hbWVcIjpcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImNsYXNzXCIpO1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZ2V0VmFsdWVGb3JBdHRyaWJ1dGVPbkN1c3RvbUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIixcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc05hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaG9zdENvbnRleHQuY29udGV4dCA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VOb25lICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3ZnXCIgIT09IHRhZyAmJlxuICAgICAgICAgICAgICAgICAgICBcIm1hdGhcIiAhPT0gdGFnXG4gICAgICAgICAgICAgICAgICAgICAgPyBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHByb3BLZXkudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGV4dHJhQXR0cmlidXRlcy5kZWxldGUocHJvcEtleSksXG4gICAgICAgICAgICAgICAgICAgICAgKGF0dHJpYnV0ZXMgPSBnZXRWYWx1ZUZvckF0dHJpYnV0ZU9uQ3VzdG9tQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICBmb3IgKHZhbHVlIGluIHByb3BzKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KHZhbHVlKSAmJlxuICAgICAgICAgICAgKChwcm9wS2V5ID0gcHJvcHNbdmFsdWVdKSwgbnVsbCAhPSBwcm9wS2V5KVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHZhbHVlKSlcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcHJvcEtleSAmJlxuICAgICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcih2YWx1ZSwgcHJvcEtleSk7XG4gICAgICAgICAgICBlbHNlIGlmICghMCAhPT0gcHJvcHMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKVxuICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJudW1iZXJcIiAhPT0gdHlwZW9mIHByb3BLZXkpIHx8XG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICBcImNoaWxkcmVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJpbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVmXCI6XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmlubmVySFRNTDtcbiAgICAgICAgICAgICAgICAgIHByb3BLZXkgPSBwcm9wS2V5ID8gcHJvcEtleS5fX2h0bWwgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICBudWxsICE9IHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgKChwcm9wS2V5ID0gbm9ybWFsaXplSFRNTChkb21FbGVtZW50LCBwcm9wS2V5KSksXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgIT09IHByb3BLZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAoc2VydmVyRGlmZmVyZW5jZXNbdmFsdWVdID0geyBfX2h0bWw6IGF0dHJpYnV0ZXMgfSkpO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNsYXNzTmFtZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0YWJJbmRleFwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwidGFiaW5kZXhcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBkaWZmSHlkcmF0ZWRTdHlsZXMoZG9tRWxlbWVudCwgcHJvcEtleSwgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQubXVsdGlwbGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm11dGVkXCI6XG4gICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQubXV0ZWQsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImF1dG9Gb2N1c1wiOlxuICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImF1dG9mb2N1c1wiKTtcbiAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuYXV0b2ZvY3VzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkYXRhXCI6XG4gICAgICAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdGFnKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhXCIpO1xuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJzcmNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaHJlZlwiOlxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IHByb3BLZXkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoXCJhXCIgPT09IHRhZyAmJiBcImhyZWZcIiA9PT0gdmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKFwib2JqZWN0XCIgPT09IHRhZyAmJiBcImRhdGFcIiA9PT0gdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBcInNyY1wiID09PSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FuIGVtcHR5IHN0cmluZyAoXCJcIikgd2FzIHBhc3NlZCB0byB0aGUgJXMgYXR0cmlidXRlLiBUaGlzIG1heSBjYXVzZSB0aGUgYnJvd3NlciB0byBkb3dubG9hZCB0aGUgd2hvbGUgcGFnZSBhZ2FpbiBvdmVyIHRoZSBuZXR3b3JrLiBUbyBmaXggdGhpcywgZWl0aGVyIGRvIG5vdCByZW5kZXIgdGhlIGVsZW1lbnQgYXQgYWxsIG9yIHBhc3MgbnVsbCB0byAlcyBpbnN0ZWFkIG9mIGFuIGVtcHR5IHN0cmluZy4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdBbiBlbXB0eSBzdHJpbmcgKFwiXCIpIHdhcyBwYXNzZWQgdG8gdGhlICVzIGF0dHJpYnV0ZS4gVG8gZml4IHRoaXMsIGVpdGhlciBkbyBub3QgcmVuZGVyIHRoZSBlbGVtZW50IGF0IGFsbCBvciBwYXNzIG51bGwgdG8gJXMgaW5zdGVhZCBvZiBhbiBlbXB0eSBzdHJpbmcuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBoeWRyYXRlU2FuaXRpemVkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlU2FuaXRpemVkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWN0aW9uXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZvcm1BY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICBcImZvcm1BY3Rpb25cIiA9PT0gdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICA/IChleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwibmFtZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJmb3JtZW5jdHlwZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJmb3JtbWV0aG9kXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImZvcm10YXJnZXRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgOiAoZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImVuY3R5cGVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwibWV0aG9kXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcInRhcmdldFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhdHRyaWJ1dGVzID09PSBFWFBFQ1RFRF9GT1JNX0FDVElPTl9VUkwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZVNhbml0aXplZEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtIcmVmXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlU2FuaXRpemVkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpocmVmXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29udGVudEVkaXRhYmxlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQm9vbGVhbmlzaEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwiY29udGVudGVkaXRhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3BlbGxDaGVja1wiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUJvb2xlYW5pc2hBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInNwZWxsY2hlY2tcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkcmFnZ2FibGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b1JldmVyc2VcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXh0ZXJuYWxSZXNvdXJjZXNSZXF1aXJlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJmb2N1c2FibGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicHJlc2VydmVBbHBoYVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUJvb2xlYW5pc2hBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhbGxvd0Z1bGxTY3JlZW5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXN5bmNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b1BsYXlcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29udHJvbHNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZlclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybU5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImxvb3BcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibm9Nb2R1bGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInBsYXlzSW5saW5lXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlYWRPbmx5XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlcXVpcmVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInJldmVyc2VkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNjb3BlZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzZWFtbGVzc1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJpdGVtU2NvcGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVCb29sZWFuQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjYXB0dXJlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRvd25sb2FkXCI6XG4gICAgICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBkb21FbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IChhdHRyaWJ1dGVzID0gdmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwID0gc2VydmVyRGlmZmVyZW5jZXM7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGkpXG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITEgPT09IHByb3BLZXkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChudWxsICE9IHByb3BLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEwID09PSBwcm9wS2V5ICYmIFwiXCIgPT09IGkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHByb3BLZXksIGF0dHJpYnV0ZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IFwiXCIgKyBwcm9wS2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbHNcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicm93c1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJzaXplXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNwYW5cIjpcbiAgICAgICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGRvbUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgPSBhdHRyaWJ1dGVzID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwID0gc2VydmVyRGlmZmVyZW5jZXM7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGkpXG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKHByb3BLZXkpIHx8IDEgPiBwcm9wS2V5KSBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobnVsbCAhPSBwcm9wS2V5KVxuICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIShpc05hTihwcm9wS2V5KSB8fCAxID4gcHJvcEtleSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihwcm9wS2V5LCBhdHRyaWJ1dGVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID09PSBcIlwiICsgcHJvcEtleSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyb3dTcGFuXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlTnVtZXJpY0F0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwicm93c3BhblwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlTnVtZXJpY0F0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhIZWlnaHRcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcIngtaGVpZ2h0XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtBY3R1YXRlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazphY3R1YXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtBcmNyb2xlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazphcmNyb2xlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtSb2xlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpyb2xlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtTaG93XCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpzaG93XCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieGxpbmtUaXRsZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6dGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bGlua1R5cGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhsaW5rOnR5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bWxCYXNlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bWw6YmFzZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhtbExhbmdcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhtbDpsYW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieG1sU3BhY2VcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhtbDpzcGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImluZXJ0XCI6XG4gICAgICAgICAgICAgICAgICBcIlwiICE9PSBwcm9wS2V5IHx8XG4gICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JOZXdCb29sZWFuUHJvcHNXaXRoRW1wdHlWYWx1ZVt2YWx1ZV0gfHxcbiAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9yTmV3Qm9vbGVhblByb3BzV2l0aEVtcHR5VmFsdWVbdmFsdWVdID0gITApLFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiUmVjZWl2ZWQgYW4gZW1wdHkgc3RyaW5nIGZvciBhIGJvb2xlYW4gYXR0cmlidXRlIGAlc2AuIFRoaXMgd2lsbCB0cmVhdCB0aGUgYXR0cmlidXRlIGFzIGlmIGl0IHdlcmUgZmFsc2UuIEVpdGhlciBwYXNzIGBmYWxzZWAgdG8gc2lsZW5jZSB0aGlzIHdhcm5pbmcsIG9yIHBhc3MgYHRydWVgIGlmIHlvdSB1c2VkIGFuIGVtcHR5IHN0cmluZyBpbiBlYXJsaWVyIHZlcnNpb25zIG9mIFJlYWN0IHRvIGluZGljYXRlIHRoaXMgYXR0cmlidXRlIGlzIHRydWUuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQm9vbGVhbkF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgISgyIDwgdmFsdWUubGVuZ3RoKSB8fFxuICAgICAgICAgICAgICAgICAgICAoXCJvXCIgIT09IHZhbHVlWzBdICYmIFwiT1wiICE9PSB2YWx1ZVswXSkgfHxcbiAgICAgICAgICAgICAgICAgICAgKFwiblwiICE9PSB2YWx1ZVsxXSAmJiBcIk5cIiAhPT0gdmFsdWVbMV0pXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGdldEF0dHJpYnV0ZUFsaWFzKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9ICExO1xuICAgICAgICAgICAgICAgICAgICBob3N0Q29udGV4dC5jb250ZXh0ID09PSBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmUgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdmdcIiAhPT0gdGFnICYmXG4gICAgICAgICAgICAgICAgICAgIFwibWF0aFwiICE9PSB0YWdcbiAgICAgICAgICAgICAgICAgICAgICA/IGV4dHJhQXR0cmlidXRlcy5kZWxldGUoaS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICAgIDogKChhdHRyaWJ1dGVOYW1lID0gdmFsdWUudG9Mb3dlckNhc2UoKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAoYXR0cmlidXRlTmFtZSA9IHBvc3NpYmxlU3RhbmRhcmROYW1lcy5oYXNPd25Qcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IHBvc3NpYmxlU3RhbmRhcmROYW1lc1thdHRyaWJ1dGVOYW1lXSB8fCBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBhdHRyaWJ1dGVOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUgIT09IHZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICgoYXR0cmlidXRlcyA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGkpKTtcbiAgICAgICAgICAgICAgICAgICAgYTogaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICgoYXR0cmlidXRlTmFtZSA9IGRvbUVsZW1lbnQpLFxuICAgICAgICAgICAgICAgICAgICAgIChzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMCA9IGkpLFxuICAgICAgICAgICAgICAgICAgICAgIChpID0gcHJvcEtleSksXG4gICAgICAgICAgICAgICAgICAgICAgaXNBdHRyaWJ1dGVOYW1lU2FmZShzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMCkpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lLmhhc0F0dHJpYnV0ZShzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMClcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAoYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWUuZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMFxuICAgICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoaSA9IGF0dHJpYnV0ZU5hbWUgPT09IFwiXCIgKyBpID8gaSA6IGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChhdHRyaWJ1dGVOYW1lID0gc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNsaWNlKDAsIDUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1cIiAhPT0gYXR0cmlidXRlTmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFyaWEtXCIgIT09IGF0dHJpYnV0ZU5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB2b2lkIDAgPT09IGkgPyB2b2lkIDAgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzIHx8XG4gICAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgMCA8IGV4dHJhQXR0cmlidXRlcy5zaXplICYmXG4gICAgICAgICEwICE9PSBwcm9wcy5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgJiZcbiAgICAgICAgd2FybkZvckV4dHJhQXR0cmlidXRlcyhkb21FbGVtZW50LCBleHRyYUF0dHJpYnV0ZXMsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICAgIHJldHVybiAwID09PSBPYmplY3Qua2V5cyhzZXJ2ZXJEaWZmZXJlbmNlcykubGVuZ3RoXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHNlcnZlckRpZmZlcmVuY2VzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wTmFtZXNMaXN0Sm9pbihsaXN0LCBjb21iaW5hdG9yKSB7XG4gICAgICBzd2l0Y2ggKGxpc3QubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiBsaXN0WzBdO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgcmV0dXJuIGxpc3RbMF0gKyBcIiBcIiArIGNvbWJpbmF0b3IgKyBcIiBcIiArIGxpc3RbMV07XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGxpc3Quc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKSArXG4gICAgICAgICAgICBcIiwgXCIgK1xuICAgICAgICAgICAgY29tYmluYXRvciArXG4gICAgICAgICAgICBcIiBcIiArXG4gICAgICAgICAgICBsaXN0W2xpc3QubGVuZ3RoIC0gMV1cbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIocm9vdENvbnRhaW5lckVsZW1lbnQpIHtcbiAgICAgIHJldHVybiA5ID09PSByb290Q29udGFpbmVyRWxlbWVudC5ub2RlVHlwZVxuICAgICAgICA/IHJvb3RDb250YWluZXJFbGVtZW50XG4gICAgICAgIDogcm9vdENvbnRhaW5lckVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0T3duSG9zdENvbnRleHQobmFtZXNwYWNlVVJJKSB7XG4gICAgICBzd2l0Y2ggKG5hbWVzcGFjZVVSSSkge1xuICAgICAgICBjYXNlIFNWR19OQU1FU1BBQ0U6XG4gICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnO1xuICAgICAgICBjYXNlIE1BVEhfTkFNRVNQQUNFOlxuICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZU1hdGg7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q2hpbGRIb3N0Q29udGV4dFByb2QocGFyZW50TmFtZXNwYWNlLCB0eXBlKSB7XG4gICAgICBpZiAocGFyZW50TmFtZXNwYWNlID09PSBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmUpXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJzdmdcIjpcbiAgICAgICAgICAgIHJldHVybiBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZztcbiAgICAgICAgICBjYXNlIFwibWF0aFwiOlxuICAgICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlTWF0aDtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIHBhcmVudE5hbWVzcGFjZSA9PT0gSG9zdENvbnRleHROYW1lc3BhY2VTdmcgJiZcbiAgICAgICAgXCJmb3JlaWduT2JqZWN0XCIgPT09IHR5cGVcbiAgICAgICAgPyBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmVcbiAgICAgICAgOiBwYXJlbnROYW1lc3BhY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZFNldFRleHRDb250ZW50KHR5cGUsIHByb3BzKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcInRleHRhcmVhXCIgPT09IHR5cGUgfHxcbiAgICAgICAgXCJub3NjcmlwdFwiID09PSB0eXBlIHx8XG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiB8fFxuICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gfHxcbiAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIHByb3BzLmNoaWxkcmVuIHx8XG4gICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgJiZcbiAgICAgICAgICBudWxsICE9PSBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAmJlxuICAgICAgICAgIG51bGwgIT0gcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwuX19odG1sKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkQXR0ZW1wdEVhZ2VyVHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciBldmVudCA9IHdpbmRvdy5ldmVudDtcbiAgICAgIGlmIChldmVudCAmJiBcInBvcHN0YXRlXCIgPT09IGV2ZW50LnR5cGUpIHtcbiAgICAgICAgaWYgKGV2ZW50ID09PSBjdXJyZW50UG9wc3RhdGVUcmFuc2l0aW9uRXZlbnQpIHJldHVybiAhMTtcbiAgICAgICAgY3VycmVudFBvcHN0YXRlVHJhbnNpdGlvbkV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRQb3BzdGF0ZVRyYW5zaXRpb25FdmVudCA9IG51bGw7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9ySW5OZXh0VGljayhlcnJvcikge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdE1vdW50KGRvbUVsZW1lbnQsIHR5cGUsIG5ld1Byb3BzKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImJ1dHRvblwiOlxuICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICBuZXdQcm9wcy5hdXRvRm9jdXMgJiYgZG9tRWxlbWVudC5mb2N1cygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgICAgbmV3UHJvcHMuc3JjXG4gICAgICAgICAgICA/IChkb21FbGVtZW50LnNyYyA9IG5ld1Byb3BzLnNyYylcbiAgICAgICAgICAgIDogbmV3UHJvcHMuc3JjU2V0ICYmIChkb21FbGVtZW50LnNyY3NldCA9IG5ld1Byb3BzLnNyY1NldCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdFVwZGF0ZShkb21FbGVtZW50LCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMpIHtcbiAgICAgIHVwZGF0ZVByb3BlcnRpZXMoZG9tRWxlbWVudCwgdHlwZSwgb2xkUHJvcHMsIG5ld1Byb3BzKTtcbiAgICAgIGRvbUVsZW1lbnRbaW50ZXJuYWxQcm9wc0tleV0gPSBuZXdQcm9wcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRUZXh0Q29udGVudChkb21FbGVtZW50KSB7XG4gICAgICBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCBcIlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0VGV4dFVwZGF0ZSh0ZXh0SW5zdGFuY2UsIG9sZFRleHQsIG5ld1RleHQpIHtcbiAgICAgIHRleHRJbnN0YW5jZS5ub2RlVmFsdWUgPSBuZXdUZXh0O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVDaGlsZChwYXJlbnRJbnN0YW5jZSwgY2hpbGQpIHtcbiAgICAgIHBhcmVudEluc3RhbmNlLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRGcm9tQ29udGFpbmVyKGNvbnRhaW5lciwgY2hpbGQpIHtcbiAgICAgIDggPT09IGNvbnRhaW5lci5ub2RlVHlwZVxuICAgICAgICA/IGNvbnRhaW5lci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNoaWxkKVxuICAgICAgICA6IGNvbnRhaW5lci5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFyU3VzcGVuc2VCb3VuZGFyeShwYXJlbnRJbnN0YW5jZSwgc3VzcGVuc2VJbnN0YW5jZSkge1xuICAgICAgdmFyIG5vZGUgPSBzdXNwZW5zZUluc3RhbmNlLFxuICAgICAgICBkZXB0aCA9IDA7XG4gICAgICBkbyB7XG4gICAgICAgIHZhciBuZXh0Tm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIHBhcmVudEluc3RhbmNlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgICBpZiAobmV4dE5vZGUgJiYgOCA9PT0gbmV4dE5vZGUubm9kZVR5cGUpXG4gICAgICAgICAgaWYgKCgobm9kZSA9IG5leHROb2RlLmRhdGEpLCBub2RlID09PSBTVVNQRU5TRV9FTkRfREFUQSkpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBkZXB0aCkge1xuICAgICAgICAgICAgICBwYXJlbnRJbnN0YW5jZS5yZW1vdmVDaGlsZChuZXh0Tm9kZSk7XG4gICAgICAgICAgICAgIHJldHJ5SWZCbG9ja2VkT24oc3VzcGVuc2VJbnN0YW5jZSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAobm9kZSAhPT0gU1VTUEVOU0VfU1RBUlRfREFUQSAmJlxuICAgICAgICAgICAgICBub2RlICE9PSBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEEgJiZcbiAgICAgICAgICAgICAgbm9kZSAhPT0gU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSkgfHxcbiAgICAgICAgICAgICAgZGVwdGgrKztcbiAgICAgICAgbm9kZSA9IG5leHROb2RlO1xuICAgICAgfSB3aGlsZSAobm9kZSk7XG4gICAgICByZXRyeUlmQmxvY2tlZE9uKHN1c3BlbnNlSW5zdGFuY2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoaWRlSW5zdGFuY2UoaW5zdGFuY2UpIHtcbiAgICAgIGluc3RhbmNlID0gaW5zdGFuY2Uuc3R5bGU7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5zZXRQcm9wZXJ0eVxuICAgICAgICA/IGluc3RhbmNlLnNldFByb3BlcnR5KFwiZGlzcGxheVwiLCBcIm5vbmVcIiwgXCJpbXBvcnRhbnRcIilcbiAgICAgICAgOiAoaW5zdGFuY2UuZGlzcGxheSA9IFwibm9uZVwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGlkZVRleHRJbnN0YW5jZSh0ZXh0SW5zdGFuY2UpIHtcbiAgICAgIHRleHRJbnN0YW5jZS5ub2RlVmFsdWUgPSBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bmhpZGVJbnN0YW5jZShpbnN0YW5jZSwgcHJvcHMpIHtcbiAgICAgIHByb3BzID0gcHJvcHNbU1RZTEVdO1xuICAgICAgcHJvcHMgPVxuICAgICAgICB2b2lkIDAgIT09IHByb3BzICYmIG51bGwgIT09IHByb3BzICYmIHByb3BzLmhhc093blByb3BlcnR5KFwiZGlzcGxheVwiKVxuICAgICAgICAgID8gcHJvcHMuZGlzcGxheVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgIGluc3RhbmNlLnN0eWxlLmRpc3BsYXkgPVxuICAgICAgICBudWxsID09IHByb3BzIHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2YgcHJvcHMgPyBcIlwiIDogKFwiXCIgKyBwcm9wcykudHJpbSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1bmhpZGVUZXh0SW5zdGFuY2UodGV4dEluc3RhbmNlLCB0ZXh0KSB7XG4gICAgICB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlID0gdGV4dDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYXJDb250YWluZXJTcGFyaW5nbHkoY29udGFpbmVyKSB7XG4gICAgICB2YXIgbmV4dE5vZGUgPSBjb250YWluZXIuZmlyc3RDaGlsZDtcbiAgICAgIG5leHROb2RlICYmIDEwID09PSBuZXh0Tm9kZS5ub2RlVHlwZSAmJiAobmV4dE5vZGUgPSBuZXh0Tm9kZS5uZXh0U2libGluZyk7XG4gICAgICBmb3IgKDsgbmV4dE5vZGU7ICkge1xuICAgICAgICB2YXIgbm9kZSA9IG5leHROb2RlO1xuICAgICAgICBuZXh0Tm9kZSA9IG5leHROb2RlLm5leHRTaWJsaW5nO1xuICAgICAgICBzd2l0Y2ggKG5vZGUubm9kZU5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwiSFRNTFwiOlxuICAgICAgICAgIGNhc2UgXCJIRUFEXCI6XG4gICAgICAgICAgY2FzZSBcIkJPRFlcIjpcbiAgICAgICAgICAgIGNsZWFyQ29udGFpbmVyU3BhcmluZ2x5KG5vZGUpO1xuICAgICAgICAgICAgZGV0YWNoRGVsZXRlZEluc3RhbmNlKG5vZGUpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSBcIlNDUklQVFwiOlxuICAgICAgICAgIGNhc2UgXCJTVFlMRVwiOlxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgY2FzZSBcIkxJTktcIjpcbiAgICAgICAgICAgIGlmIChcInN0eWxlc2hlZXRcIiA9PT0gbm9kZS5yZWwudG9Mb3dlckNhc2UoKSkgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYW5IeWRyYXRlSW5zdGFuY2UoaW5zdGFuY2UsIHR5cGUsIHByb3BzLCBpblJvb3RPclNpbmdsZXRvbikge1xuICAgICAgZm9yICg7IDEgPT09IGluc3RhbmNlLm5vZGVUeXBlOyApIHtcbiAgICAgICAgdmFyIGFueVByb3BzID0gcHJvcHM7XG4gICAgICAgIGlmIChpbnN0YW5jZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSB0eXBlLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaW5Sb290T3JTaW5nbGV0b24gJiZcbiAgICAgICAgICAgIChcIklOUFVUXCIgIT09IGluc3RhbmNlLm5vZGVOYW1lIHx8IFwiaGlkZGVuXCIgIT09IGluc3RhbmNlLnR5cGUpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoIWluUm9vdE9yU2luZ2xldG9uKVxuICAgICAgICAgIGlmIChcImlucHV0XCIgPT09IHR5cGUgJiYgXCJoaWRkZW5cIiA9PT0gaW5zdGFuY2UudHlwZSkge1xuICAgICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihhbnlQcm9wcy5uYW1lLCBcIm5hbWVcIik7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IG51bGwgPT0gYW55UHJvcHMubmFtZSA/IG51bGwgOiBcIlwiICsgYW55UHJvcHMubmFtZTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJoaWRkZW5cIiA9PT0gYW55UHJvcHMudHlwZSAmJlxuICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpID09PSBuYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICB9IGVsc2UgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICBlbHNlIGlmICghaW5zdGFuY2VbaW50ZXJuYWxIb2lzdGFibGVNYXJrZXJdKVxuICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgICAgICAgaWYgKCFpbnN0YW5jZS5oYXNBdHRyaWJ1dGUoXCJpdGVtcHJvcFwiKSkgYnJlYWs7XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgICAgIG5hbWUgPSBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJyZWxcIik7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gbmFtZSAmJlxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmhhc0F0dHJpYnV0ZShcImRhdGEtcHJlY2VkZW5jZVwiKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIG5hbWUgIT09IGFueVByb3BzLnJlbCB8fFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmdldEF0dHJpYnV0ZShcImhyZWZcIikgIT09XG4gICAgICAgICAgICAgICAgICAobnVsbCA9PSBhbnlQcm9wcy5ocmVmID8gbnVsbCA6IGFueVByb3BzLmhyZWYpIHx8XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIikgIT09XG4gICAgICAgICAgICAgICAgICAobnVsbCA9PSBhbnlQcm9wcy5jcm9zc09yaWdpblxuICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgOiBhbnlQcm9wcy5jcm9zc09yaWdpbikgfHxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiKSAhPT1cbiAgICAgICAgICAgICAgICAgIChudWxsID09IGFueVByb3BzLnRpdGxlID8gbnVsbCA6IGFueVByb3BzLnRpdGxlKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UuaGFzQXR0cmlidXRlKFwiZGF0YS1wcmVjZWRlbmNlXCIpKSBicmVhaztcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICBuYW1lID0gaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKG5hbWUgIT09IChudWxsID09IGFueVByb3BzLnNyYyA/IG51bGwgOiBhbnlQcm9wcy5zcmMpIHx8XG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpICE9PVxuICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBhbnlQcm9wcy50eXBlID8gbnVsbCA6IGFueVByb3BzLnR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gYW55UHJvcHMuY3Jvc3NPcmlnaW5cbiAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICA6IGFueVByb3BzLmNyb3NzT3JpZ2luKSkgJiZcbiAgICAgICAgICAgICAgICBuYW1lICYmXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaGFzQXR0cmlidXRlKFwiYXN5bmNcIikgJiZcbiAgICAgICAgICAgICAgICAhaW5zdGFuY2UuaGFzQXR0cmlidXRlKFwiaXRlbXByb3BcIilcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKGluc3RhbmNlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgaWYgKG51bGwgPT09IGluc3RhbmNlKSBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYW5IeWRyYXRlVGV4dEluc3RhbmNlKGluc3RhbmNlLCB0ZXh0LCBpblJvb3RPclNpbmdsZXRvbikge1xuICAgICAgaWYgKFwiXCIgPT09IHRleHQpIHJldHVybiBudWxsO1xuICAgICAgZm9yICg7IDMgIT09IGluc3RhbmNlLm5vZGVUeXBlOyApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgxICE9PSBpbnN0YW5jZS5ub2RlVHlwZSB8fFxuICAgICAgICAgICAgXCJJTlBVVFwiICE9PSBpbnN0YW5jZS5ub2RlTmFtZSB8fFxuICAgICAgICAgICAgXCJoaWRkZW5cIiAhPT0gaW5zdGFuY2UudHlwZSkgJiZcbiAgICAgICAgICAhaW5Sb290T3JTaW5nbGV0b25cbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKGluc3RhbmNlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgaWYgKG51bGwgPT09IGluc3RhbmNlKSByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmV4dEh5ZHJhdGFibGUobm9kZSkge1xuICAgICAgZm9yICg7IG51bGwgIT0gbm9kZTsgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZTtcbiAgICAgICAgaWYgKDEgPT09IG5vZGVUeXBlIHx8IDMgPT09IG5vZGVUeXBlKSBicmVhaztcbiAgICAgICAgaWYgKDggPT09IG5vZGVUeXBlKSB7XG4gICAgICAgICAgbm9kZVR5cGUgPSBub2RlLmRhdGE7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbm9kZVR5cGUgPT09IFNVU1BFTlNFX1NUQVJUX0RBVEEgfHxcbiAgICAgICAgICAgIG5vZGVUeXBlID09PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBub2RlVHlwZSA9PT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBub2RlVHlwZSA9PT0gRk9STV9TVEFURV9JU19NQVRDSElORyB8fFxuICAgICAgICAgICAgbm9kZVR5cGUgPT09IEZPUk1fU1RBVEVfSVNfTk9UX01BVENISU5HXG4gICAgICAgICAgKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgaWYgKG5vZGVUeXBlID09PSBTVVNQRU5TRV9FTkRfREFUQSkgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUh5ZHJhdGFibGVJbnN0YW5jZUZvckRldldhcm5pbmdzKGluc3RhbmNlKSB7XG4gICAgICBpZiAoMSA9PT0gaW5zdGFuY2Uubm9kZVR5cGUpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gaW5zdGFuY2Uubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzID0ge30sXG4gICAgICAgICAgICBhdHRyaWJ1dGVzID0gaW5zdGFuY2UuYXR0cmlidXRlcyxcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgIGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDtcbiAgICAgICAgICBpKytcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGF0dHIgPSBhdHRyaWJ1dGVzW2ldO1xuICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzW2dldFByb3BOYW1lRnJvbUF0dHJpYnV0ZU5hbWUoYXR0ci5uYW1lKV0gPVxuICAgICAgICAgICAgXCJzdHlsZVwiID09PSBhdHRyLm5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICA/IGdldFN0eWxlc09iamVjdEZyb21FbGVtZW50KGluc3RhbmNlKVxuICAgICAgICAgICAgICA6IGF0dHIudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdHlwZTogSlNDb21waWxlcl90ZW1wX2NvbnN0LCBwcm9wczogc2VydmVyRGlmZmVyZW5jZXMgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiA4ID09PSBpbnN0YW5jZS5ub2RlVHlwZVxuICAgICAgICA/IHsgdHlwZTogXCJTdXNwZW5zZVwiLCBwcm9wczoge30gfVxuICAgICAgICA6IGluc3RhbmNlLm5vZGVWYWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZkh5ZHJhdGVkVGV4dEZvckRldldhcm5pbmdzKHRleHRJbnN0YW5jZSwgdGV4dCwgcGFyZW50UHJvcHMpIHtcbiAgICAgIHJldHVybiBudWxsID09PSBwYXJlbnRQcm9wcyB8fFxuICAgICAgICAhMCAhPT0gcGFyZW50UHJvcHNbU1VQUFJFU1NfSFlEUkFUSU9OX1dBUk5JTkddXG4gICAgICAgID8gKHRleHRJbnN0YW5jZS5ub2RlVmFsdWUgPT09IHRleHRcbiAgICAgICAgICAgID8gKHRleHRJbnN0YW5jZSA9IG51bGwpXG4gICAgICAgICAgICA6ICgodGV4dCA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSh0ZXh0KSksXG4gICAgICAgICAgICAgICh0ZXh0SW5zdGFuY2UgPVxuICAgICAgICAgICAgICAgIG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZSh0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlKSA9PT1cbiAgICAgICAgICAgICAgICB0ZXh0XG4gICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgIDogdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSkpLFxuICAgICAgICAgIHRleHRJbnN0YW5jZSlcbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZXh0SHlkcmF0YWJsZUluc3RhbmNlQWZ0ZXJTdXNwZW5zZUluc3RhbmNlKHN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgICAgIHN1c3BlbnNlSW5zdGFuY2UgPSBzdXNwZW5zZUluc3RhbmNlLm5leHRTaWJsaW5nO1xuICAgICAgZm9yICh2YXIgZGVwdGggPSAwOyBzdXNwZW5zZUluc3RhbmNlOyApIHtcbiAgICAgICAgaWYgKDggPT09IHN1c3BlbnNlSW5zdGFuY2Uubm9kZVR5cGUpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IHN1c3BlbnNlSW5zdGFuY2UuZGF0YTtcbiAgICAgICAgICBpZiAoZGF0YSA9PT0gU1VTUEVOU0VfRU5EX0RBVEEpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBkZXB0aClcbiAgICAgICAgICAgICAgcmV0dXJuIGdldE5leHRIeWRyYXRhYmxlKHN1c3BlbnNlSW5zdGFuY2UubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIChkYXRhICE9PSBTVVNQRU5TRV9TVEFSVF9EQVRBICYmXG4gICAgICAgICAgICAgIGRhdGEgIT09IFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEgJiZcbiAgICAgICAgICAgICAgZGF0YSAhPT0gU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBKSB8fFxuICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICB9XG4gICAgICAgIHN1c3BlbnNlSW5zdGFuY2UgPSBzdXNwZW5zZUluc3RhbmNlLm5leHRTaWJsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFBhcmVudFN1c3BlbnNlSW5zdGFuY2UodGFyZ2V0SW5zdGFuY2UpIHtcbiAgICAgIHRhcmdldEluc3RhbmNlID0gdGFyZ2V0SW5zdGFuY2UucHJldmlvdXNTaWJsaW5nO1xuICAgICAgZm9yICh2YXIgZGVwdGggPSAwOyB0YXJnZXRJbnN0YW5jZTsgKSB7XG4gICAgICAgIGlmICg4ID09PSB0YXJnZXRJbnN0YW5jZS5ub2RlVHlwZSkge1xuICAgICAgICAgIHZhciBkYXRhID0gdGFyZ2V0SW5zdGFuY2UuZGF0YTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBkYXRhID09PSBTVVNQRU5TRV9TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBkYXRhID09PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBIHx8XG4gICAgICAgICAgICBkYXRhID09PSBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEFcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmICgwID09PSBkZXB0aCkgcmV0dXJuIHRhcmdldEluc3RhbmNlO1xuICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICB9IGVsc2UgZGF0YSA9PT0gU1VTUEVOU0VfRU5EX0RBVEEgJiYgZGVwdGgrKztcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXRJbnN0YW5jZSA9IHRhcmdldEluc3RhbmNlLnByZXZpb3VzU2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIeWRyYXRlZENvbnRhaW5lcihjb250YWluZXIpIHtcbiAgICAgIHJldHJ5SWZCbG9ja2VkT24oY29udGFpbmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SHlkcmF0ZWRTdXNwZW5zZUluc3RhbmNlKHN1c3BlbnNlSW5zdGFuY2UpIHtcbiAgICAgIHJldHJ5SWZCbG9ja2VkT24oc3VzcGVuc2VJbnN0YW5jZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVTaW5nbGV0b25JbnN0YW5jZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIHJvb3RDb250YWluZXJJbnN0YW5jZSxcbiAgICAgIGhvc3RDb250ZXh0LFxuICAgICAgdmFsaWRhdGVET01OZXN0aW5nRGV2XG4gICAgKSB7XG4gICAgICB2YWxpZGF0ZURPTU5lc3RpbmdEZXYgJiZcbiAgICAgICAgdmFsaWRhdGVET01OZXN0aW5nKHR5cGUsIGhvc3RDb250ZXh0LmFuY2VzdG9ySW5mbyk7XG4gICAgICBwcm9wcyA9IGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihyb290Q29udGFpbmVySW5zdGFuY2UpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgICAgdHlwZSA9IHByb3BzLmRvY3VtZW50RWxlbWVudDtcbiAgICAgICAgICBpZiAoIXR5cGUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBleHBlY3RlZCBhbiA8aHRtbD4gZWxlbWVudCAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB0byBleGlzdCBpbiB0aGUgRG9jdW1lbnQgYnV0IG9uZSB3YXMgbm90IGZvdW5kLiBSZWFjdCBuZXZlciByZW1vdmVzIHRoZSBkb2N1bWVudEVsZW1lbnQgZm9yIGFueSBEb2N1bWVudCBpdCByZW5kZXJzIGludG8gc28gdGhlIGNhdXNlIGlzIGxpa2VseSBpbiBzb21lIG90aGVyIHNjcmlwdCBydW5uaW5nIG9uIHRoaXMgcGFnZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgY2FzZSBcImhlYWRcIjpcbiAgICAgICAgICB0eXBlID0gcHJvcHMuaGVhZDtcbiAgICAgICAgICBpZiAoIXR5cGUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBleHBlY3RlZCBhIDxoZWFkPiBlbGVtZW50IChkb2N1bWVudC5oZWFkKSB0byBleGlzdCBpbiB0aGUgRG9jdW1lbnQgYnV0IG9uZSB3YXMgbm90IGZvdW5kLiBSZWFjdCBuZXZlciByZW1vdmVzIHRoZSBoZWFkIGZvciBhbnkgRG9jdW1lbnQgaXQgcmVuZGVycyBpbnRvIHNvIHRoZSBjYXVzZSBpcyBsaWtlbHkgaW4gc29tZSBvdGhlciBzY3JpcHQgcnVubmluZyBvbiB0aGlzIHBhZ2UuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgIGNhc2UgXCJib2R5XCI6XG4gICAgICAgICAgdHlwZSA9IHByb3BzLmJvZHk7XG4gICAgICAgICAgaWYgKCF0eXBlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgZXhwZWN0ZWQgYSA8Ym9keT4gZWxlbWVudCAoZG9jdW1lbnQuYm9keSkgdG8gZXhpc3QgaW4gdGhlIERvY3VtZW50IGJ1dCBvbmUgd2FzIG5vdCBmb3VuZC4gUmVhY3QgbmV2ZXIgcmVtb3ZlcyB0aGUgYm9keSBmb3IgYW55IERvY3VtZW50IGl0IHJlbmRlcnMgaW50byBzbyB0aGUgY2F1c2UgaXMgbGlrZWx5IGluIHNvbWUgb3RoZXIgc2NyaXB0IHJ1bm5pbmcgb24gdGhpcyBwYWdlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJyZXNvbHZlU2luZ2xldG9uSW5zdGFuY2Ugd2FzIGNhbGxlZCB3aXRoIGFuIGVsZW1lbnQgdHlwZSB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhY3F1aXJlU2luZ2xldG9uSW5zdGFuY2UoXG4gICAgICB0eXBlLFxuICAgICAgcHJvcHMsXG4gICAgICBpbnN0YW5jZSxcbiAgICAgIGludGVybmFsSW5zdGFuY2VIYW5kbGVcbiAgICApIHtcbiAgICAgIGlmIChnZXRJbnN0YW5jZUZyb21Ob2RlKGluc3RhbmNlKSkge1xuICAgICAgICB2YXIgdGFnTmFtZSA9IGluc3RhbmNlLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIllvdSBhcmUgbW91bnRpbmcgYSBuZXcgJXMgY29tcG9uZW50IHdoZW4gYSBwcmV2aW91cyBvbmUgaGFzIG5vdCBmaXJzdCB1bm1vdW50ZWQuIEl0IGlzIGFuIGVycm9yIHRvIHJlbmRlciBtb3JlIHRoYW4gb25lICVzIGNvbXBvbmVudCBhdCBhIHRpbWUgYW5kIGF0dHJpYnV0ZXMgYW5kIGNoaWxkcmVuIG9mIHRoZXNlIGNvbXBvbmVudHMgd2lsbCBsaWtlbHkgZmFpbCBpbiB1bnByZWRpY3RhYmxlIHdheXMuIFBsZWFzZSBvbmx5IHJlbmRlciBhIHNpbmdsZSBpbnN0YW5jZSBvZiA8JXM+IGFuZCBpZiB5b3UgbmVlZCB0byBtb3VudCBhIG5ldyBvbmUsIGVuc3VyZSBhbnkgcHJldmlvdXMgb25lcyBoYXZlIHVubW91bnRlZCBmaXJzdC5cIixcbiAgICAgICAgICB0YWdOYW1lLFxuICAgICAgICAgIHRhZ05hbWUsXG4gICAgICAgICAgdGFnTmFtZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJodG1sXCI6XG4gICAgICAgIGNhc2UgXCJoZWFkXCI6XG4gICAgICAgIGNhc2UgXCJib2R5XCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiYWNxdWlyZVNpbmdsZXRvbkluc3RhbmNlIHdhcyBjYWxsZWQgd2l0aCBhbiBlbGVtZW50IHR5cGUgdGhhdCBpcyBub3Qgc3VwcG9ydGVkLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGZvciAodGFnTmFtZSA9IGluc3RhbmNlLmF0dHJpYnV0ZXM7IHRhZ05hbWUubGVuZ3RoOyApXG4gICAgICAgIGluc3RhbmNlLnJlbW92ZUF0dHJpYnV0ZU5vZGUodGFnTmFtZVswXSk7XG4gICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhpbnN0YW5jZSwgdHlwZSwgcHJvcHMpO1xuICAgICAgaW5zdGFuY2VbaW50ZXJuYWxJbnN0YW5jZUtleV0gPSBpbnRlcm5hbEluc3RhbmNlSGFuZGxlO1xuICAgICAgaW5zdGFuY2VbaW50ZXJuYWxQcm9wc0tleV0gPSBwcm9wcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SG9pc3RhYmxlUm9vdChjb250YWluZXIpIHtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjb250YWluZXIuZ2V0Um9vdE5vZGVcbiAgICAgICAgPyBjb250YWluZXIuZ2V0Um9vdE5vZGUoKVxuICAgICAgICA6IGNvbnRhaW5lci5vd25lckRvY3VtZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVjb25uZWN0QXMocmVsLCBocmVmLCBjcm9zc09yaWdpbikge1xuICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBnbG9iYWxEb2N1bWVudDtcbiAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmIGhyZWYpIHtcbiAgICAgICAgdmFyIGxpbWl0ZWRFc2NhcGVkSHJlZiA9XG4gICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhocmVmKTtcbiAgICAgICAgbGltaXRlZEVzY2FwZWRIcmVmID1cbiAgICAgICAgICAnbGlua1tyZWw9XCInICsgcmVsICsgJ1wiXVtocmVmPVwiJyArIGxpbWl0ZWRFc2NhcGVkSHJlZiArICdcIl0nO1xuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgY3Jvc3NPcmlnaW4gJiZcbiAgICAgICAgICAobGltaXRlZEVzY2FwZWRIcmVmICs9ICdbY3Jvc3NvcmlnaW49XCInICsgY3Jvc3NPcmlnaW4gKyAnXCJdJyk7XG4gICAgICAgIHByZWNvbm5lY3RzU2V0LmhhcyhsaW1pdGVkRXNjYXBlZEhyZWYpIHx8XG4gICAgICAgICAgKHByZWNvbm5lY3RzU2V0LmFkZChsaW1pdGVkRXNjYXBlZEhyZWYpLFxuICAgICAgICAgIChyZWwgPSB7IHJlbDogcmVsLCBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sIGhyZWY6IGhyZWYgfSksXG4gICAgICAgICAgbnVsbCA9PT0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxpbWl0ZWRFc2NhcGVkSHJlZikgJiZcbiAgICAgICAgICAgICgoaHJlZiA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIikpLFxuICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaHJlZiwgXCJsaW5rXCIsIHJlbCksXG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGhyZWYpLFxuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGhyZWYpKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJlc291cmNlKHR5cGUsIGN1cnJlbnRQcm9wcywgcGVuZGluZ1Byb3BzLCBjdXJyZW50UmVzb3VyY2UpIHtcbiAgICAgIHZhciByZXNvdXJjZVJvb3QgPSAocmVzb3VyY2VSb290ID0gcm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudClcbiAgICAgICAgPyBnZXRIb2lzdGFibGVSb290KHJlc291cmNlUm9vdClcbiAgICAgICAgOiBudWxsO1xuICAgICAgaWYgKCFyZXNvdXJjZVJvb3QpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICdcInJlc291cmNlUm9vdFwiIHdhcyBleHBlY3RlZCB0byBleGlzdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4nXG4gICAgICAgICk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcIm1ldGFcIjpcbiAgICAgICAgY2FzZSBcInRpdGxlXCI6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiID09PSB0eXBlb2YgcGVuZGluZ1Byb3BzLnByZWNlZGVuY2UgJiZcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwZW5kaW5nUHJvcHMuaHJlZlxuICAgICAgICAgICAgPyAoKHBlbmRpbmdQcm9wcyA9IGdldFN0eWxlS2V5KHBlbmRpbmdQcm9wcy5ocmVmKSksXG4gICAgICAgICAgICAgIChjdXJyZW50UHJvcHMgPVxuICAgICAgICAgICAgICAgIGdldFJlc291cmNlc0Zyb21Sb290KHJlc291cmNlUm9vdCkuaG9pc3RhYmxlU3R5bGVzKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnRSZXNvdXJjZSA9IGN1cnJlbnRQcm9wcy5nZXQocGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAgIGN1cnJlbnRSZXNvdXJjZSB8fFxuICAgICAgICAgICAgICAgICgoY3VycmVudFJlc291cmNlID0ge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHlsZVwiLFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY3VycmVudFByb3BzLnNldChwZW5kaW5nUHJvcHMsIGN1cnJlbnRSZXNvdXJjZSkpLFxuICAgICAgICAgICAgICBjdXJyZW50UmVzb3VyY2UpXG4gICAgICAgICAgICA6IHsgdHlwZTogXCJ2b2lkXCIsIGluc3RhbmNlOiBudWxsLCBjb3VudDogMCwgc3RhdGU6IG51bGwgfTtcbiAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gcGVuZGluZ1Byb3BzLnJlbCAmJlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBlbmRpbmdQcm9wcy5ocmVmICYmXG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcGVuZGluZ1Byb3BzLnByZWNlZGVuY2VcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHR5cGUgPSBnZXRTdHlsZUtleShwZW5kaW5nUHJvcHMuaHJlZik7XG4gICAgICAgICAgICB2YXIgX3N0eWxlcyA9IGdldFJlc291cmNlc0Zyb21Sb290KHJlc291cmNlUm9vdCkuaG9pc3RhYmxlU3R5bGVzLFxuICAgICAgICAgICAgICBfcmVzb3VyY2UgPSBfc3R5bGVzLmdldCh0eXBlKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgIV9yZXNvdXJjZSAmJlxuICAgICAgICAgICAgICAoKHJlc291cmNlUm9vdCA9IHJlc291cmNlUm9vdC5vd25lckRvY3VtZW50IHx8IHJlc291cmNlUm9vdCksXG4gICAgICAgICAgICAgIChfcmVzb3VyY2UgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJzdHlsZXNoZWV0XCIsXG4gICAgICAgICAgICAgICAgaW5zdGFuY2U6IG51bGwsXG4gICAgICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHsgbG9hZGluZzogTm90TG9hZGVkLCBwcmVsb2FkOiBudWxsIH1cbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIF9zdHlsZXMuc2V0KHR5cGUsIF9yZXNvdXJjZSksXG4gICAgICAgICAgICAgIChfc3R5bGVzID0gcmVzb3VyY2VSb290LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleSh0eXBlKVxuICAgICAgICAgICAgICApKSAmJlxuICAgICAgICAgICAgICAgICFfc3R5bGVzLl9wICYmXG4gICAgICAgICAgICAgICAgKChfcmVzb3VyY2UuaW5zdGFuY2UgPSBfc3R5bGVzKSxcbiAgICAgICAgICAgICAgICAoX3Jlc291cmNlLnN0YXRlLmxvYWRpbmcgPSBMb2FkZWQgfCBJbnNlcnRlZCkpLFxuICAgICAgICAgICAgICAhcHJlbG9hZFByb3BzTWFwLmhhcyh0eXBlKSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB2YXIgcHJlbG9hZFByb3BzID0ge1xuICAgICAgICAgICAgICAgIHJlbDogXCJwcmVsb2FkXCIsXG4gICAgICAgICAgICAgICAgYXM6IFwic3R5bGVcIixcbiAgICAgICAgICAgICAgICBocmVmOiBwZW5kaW5nUHJvcHMuaHJlZixcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogcGVuZGluZ1Byb3BzLmNyb3NzT3JpZ2luLFxuICAgICAgICAgICAgICAgIGludGVncml0eTogcGVuZGluZ1Byb3BzLmludGVncml0eSxcbiAgICAgICAgICAgICAgICBtZWRpYTogcGVuZGluZ1Byb3BzLm1lZGlhLFxuICAgICAgICAgICAgICAgIGhyZWZMYW5nOiBwZW5kaW5nUHJvcHMuaHJlZkxhbmcsXG4gICAgICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3k6IHBlbmRpbmdQcm9wcy5yZWZlcnJlclBvbGljeVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBwcmVsb2FkUHJvcHNNYXAuc2V0KHR5cGUsIHByZWxvYWRQcm9wcyk7XG4gICAgICAgICAgICAgIF9zdHlsZXMgfHxcbiAgICAgICAgICAgICAgICBwcmVsb2FkU3R5bGVzaGVldChcbiAgICAgICAgICAgICAgICAgIHJlc291cmNlUm9vdCxcbiAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICBwcmVsb2FkUHJvcHMsXG4gICAgICAgICAgICAgICAgICBfcmVzb3VyY2Uuc3RhdGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQcm9wcyAmJiBudWxsID09PSBjdXJyZW50UmVzb3VyY2UpXG4gICAgICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICAgICAoKHBlbmRpbmdQcm9wcyA9XG4gICAgICAgICAgICAgICAgICBcIlxcblxcbiAgLSBcIiArXG4gICAgICAgICAgICAgICAgICBkZXNjcmliZUxpbmtGb3JSZXNvdXJjZUVycm9yREVWKGN1cnJlbnRQcm9wcykgK1xuICAgICAgICAgICAgICAgICAgXCJcXG4gICsgXCIgK1xuICAgICAgICAgICAgICAgICAgZGVzY3JpYmVMaW5rRm9yUmVzb3VyY2VFcnJvckRFVihwZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgPGxpbms+IG5vdCB0byB1cGRhdGUgdG8gYmUgdXBkYXRlZCB0byBhIHN0eWxlc2hlZXQgd2l0aCBwcmVjZWRlbmNlLiBDaGVjayB0aGUgYHJlbGAsIGBocmVmYCwgYW5kIGBwcmVjZWRlbmNlYCBwcm9wcyBvZiB0aGlzIGNvbXBvbmVudC4gQWx0ZXJuYXRpdmVseSwgY2hlY2sgd2hldGhlciB0d28gZGlmZmVyZW50IDxsaW5rPiBjb21wb25lbnRzIHJlbmRlciBpbiB0aGUgc2FtZSBzbG90IG9yIHNoYXJlIHRoZSBzYW1lIGtleS5cIiArXG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdQcm9wc1xuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gX3Jlc291cmNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY3VycmVudFByb3BzICYmIG51bGwgIT09IGN1cnJlbnRSZXNvdXJjZSlcbiAgICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICAgKChwZW5kaW5nUHJvcHMgPVxuICAgICAgICAgICAgICAgIFwiXFxuXFxuICAtIFwiICtcbiAgICAgICAgICAgICAgICBkZXNjcmliZUxpbmtGb3JSZXNvdXJjZUVycm9yREVWKGN1cnJlbnRQcm9wcykgK1xuICAgICAgICAgICAgICAgIFwiXFxuICArIFwiICtcbiAgICAgICAgICAgICAgICBkZXNjcmliZUxpbmtGb3JSZXNvdXJjZUVycm9yREVWKHBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICBcIkV4cGVjdGVkIHN0eWxlc2hlZXQgd2l0aCBwcmVjZWRlbmNlIHRvIG5vdCBiZSB1cGRhdGVkIHRvIGEgZGlmZmVyZW50IGtpbmQgb2YgPGxpbms+LiBDaGVjayB0aGUgYHJlbGAsIGBocmVmYCwgYW5kIGBwcmVjZWRlbmNlYCBwcm9wcyBvZiB0aGlzIGNvbXBvbmVudC4gQWx0ZXJuYXRpdmVseSwgY2hlY2sgd2hldGhlciB0d28gZGlmZmVyZW50IDxsaW5rPiBjb21wb25lbnRzIHJlbmRlciBpbiB0aGUgc2FtZSBzbG90IG9yIHNoYXJlIHRoZSBzYW1lIGtleS5cIiArXG4gICAgICAgICAgICAgICAgICBwZW5kaW5nUHJvcHNcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnRQcm9wcyA9IHBlbmRpbmdQcm9wcy5hc3luYyksXG4gICAgICAgICAgICAocGVuZGluZ1Byb3BzID0gcGVuZGluZ1Byb3BzLnNyYyksXG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcGVuZGluZ1Byb3BzICYmXG4gICAgICAgICAgICBjdXJyZW50UHJvcHMgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGN1cnJlbnRQcm9wcyAmJlxuICAgICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIGN1cnJlbnRQcm9wc1xuICAgICAgICAgICAgICA/ICgocGVuZGluZ1Byb3BzID0gZ2V0U2NyaXB0S2V5KHBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50UHJvcHMgPVxuICAgICAgICAgICAgICAgICAgZ2V0UmVzb3VyY2VzRnJvbVJvb3QocmVzb3VyY2VSb290KS5ob2lzdGFibGVTY3JpcHRzKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudFJlc291cmNlID0gY3VycmVudFByb3BzLmdldChwZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVzb3VyY2UgfHxcbiAgICAgICAgICAgICAgICAgICgoY3VycmVudFJlc291cmNlID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgY291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiBudWxsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wcy5zZXQocGVuZGluZ1Byb3BzLCBjdXJyZW50UmVzb3VyY2UpKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVzb3VyY2UpXG4gICAgICAgICAgICAgIDogeyB0eXBlOiBcInZvaWRcIiwgaW5zdGFuY2U6IG51bGwsIGNvdW50OiAwLCBzdGF0ZTogbnVsbCB9XG4gICAgICAgICAgKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICdnZXRSZXNvdXJjZSBlbmNvdW50ZXJlZCBhIHR5cGUgaXQgZGlkIG5vdCBleHBlY3Q6IFwiJyArXG4gICAgICAgICAgICAgIHR5cGUgK1xuICAgICAgICAgICAgICAnXCIuIHRoaXMgaXMgYSBidWcgaW4gUmVhY3QuJ1xuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlTGlua0ZvclJlc291cmNlRXJyb3JERVYocHJvcHMpIHtcbiAgICAgIHZhciBkZXNjcmliZWRQcm9wcyA9IDAsXG4gICAgICAgIGRlc2NyaXB0aW9uID0gXCI8bGlua1wiO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLnJlbFxuICAgICAgICA/IChkZXNjcmliZWRQcm9wcysrLCAoZGVzY3JpcHRpb24gKz0gJyByZWw9XCInICsgcHJvcHMucmVsICsgJ1wiJykpXG4gICAgICAgIDogaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJyZWxcIikgJiZcbiAgICAgICAgICAoZGVzY3JpYmVkUHJvcHMrKyxcbiAgICAgICAgICAoZGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgICcgcmVsPVwiJyArXG4gICAgICAgICAgICAobnVsbCA9PT0gcHJvcHMucmVsID8gXCJudWxsXCIgOiBcImludmFsaWQgdHlwZSBcIiArIHR5cGVvZiBwcm9wcy5yZWwpICtcbiAgICAgICAgICAgICdcIicpKTtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5ocmVmXG4gICAgICAgID8gKGRlc2NyaWJlZFByb3BzKyssIChkZXNjcmlwdGlvbiArPSAnIGhyZWY9XCInICsgcHJvcHMuaHJlZiArICdcIicpKVxuICAgICAgICA6IGhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwiaHJlZlwiKSAmJlxuICAgICAgICAgIChkZXNjcmliZWRQcm9wcysrLFxuICAgICAgICAgIChkZXNjcmlwdGlvbiArPVxuICAgICAgICAgICAgJyBocmVmPVwiJyArXG4gICAgICAgICAgICAobnVsbCA9PT0gcHJvcHMuaHJlZlxuICAgICAgICAgICAgICA/IFwibnVsbFwiXG4gICAgICAgICAgICAgIDogXCJpbnZhbGlkIHR5cGUgXCIgKyB0eXBlb2YgcHJvcHMuaHJlZikgK1xuICAgICAgICAgICAgJ1wiJykpO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLnByZWNlZGVuY2VcbiAgICAgICAgPyAoZGVzY3JpYmVkUHJvcHMrKyxcbiAgICAgICAgICAoZGVzY3JpcHRpb24gKz0gJyBwcmVjZWRlbmNlPVwiJyArIHByb3BzLnByZWNlZGVuY2UgKyAnXCInKSlcbiAgICAgICAgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcInByZWNlZGVuY2VcIikgJiZcbiAgICAgICAgICAoZGVzY3JpYmVkUHJvcHMrKyxcbiAgICAgICAgICAoZGVzY3JpcHRpb24gKz1cbiAgICAgICAgICAgIFwiIHByZWNlZGVuY2U9e1wiICtcbiAgICAgICAgICAgIChudWxsID09PSBwcm9wcy5wcmVjZWRlbmNlXG4gICAgICAgICAgICAgID8gXCJudWxsXCJcbiAgICAgICAgICAgICAgOiBcImludmFsaWQgdHlwZSBcIiArIHR5cGVvZiBwcm9wcy5wcmVjZWRlbmNlKSArXG4gICAgICAgICAgICBcIn1cIikpO1xuICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvcHMpLmxlbmd0aCA+IGRlc2NyaWJlZFByb3BzICYmXG4gICAgICAgIChkZXNjcmlwdGlvbiArPSBcIiAuLi5cIik7XG4gICAgICByZXR1cm4gZGVzY3JpcHRpb24gKyBcIiAvPlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdHlsZUtleShocmVmKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAnaHJlZj1cIicgKyBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGhyZWYpICsgJ1wiJ1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleShrZXkpIHtcbiAgICAgIHJldHVybiAnbGlua1tyZWw9XCJzdHlsZXNoZWV0XCJdWycgKyBrZXkgKyBcIl1cIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3R5bGVzaGVldFByb3BzRnJvbVJhd1Byb3BzKHJhd1Byb3BzKSB7XG4gICAgICByZXR1cm4gYXNzaWduKHt9LCByYXdQcm9wcywge1xuICAgICAgICBcImRhdGEtcHJlY2VkZW5jZVwiOiByYXdQcm9wcy5wcmVjZWRlbmNlLFxuICAgICAgICBwcmVjZWRlbmNlOiBudWxsXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlbG9hZFN0eWxlc2hlZXQob3duZXJEb2N1bWVudCwga2V5LCBwcmVsb2FkUHJvcHMsIHN0YXRlKSB7XG4gICAgICBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICdsaW5rW3JlbD1cInByZWxvYWRcIl1bYXM9XCJzdHlsZVwiXVsnICsga2V5ICsgXCJdXCJcbiAgICAgIClcbiAgICAgICAgPyAoc3RhdGUubG9hZGluZyA9IExvYWRlZClcbiAgICAgICAgOiAoKGtleSA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIikpLFxuICAgICAgICAgIChzdGF0ZS5wcmVsb2FkID0ga2V5KSxcbiAgICAgICAgICBrZXkuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIChzdGF0ZS5sb2FkaW5nIHw9IExvYWRlZCk7XG4gICAgICAgICAgfSksXG4gICAgICAgICAga2V5LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHN0YXRlLmxvYWRpbmcgfD0gRXJyb3JlZCk7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoa2V5LCBcImxpbmtcIiwgcHJlbG9hZFByb3BzKSxcbiAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGtleSksXG4gICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGtleSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTY3JpcHRLZXkoc3JjKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAnW3NyYz1cIicgKyBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKHNyYykgKyAnXCJdJ1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KGtleSkge1xuICAgICAgcmV0dXJuIFwic2NyaXB0W2FzeW5jXVwiICsga2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY3F1aXJlUmVzb3VyY2UoaG9pc3RhYmxlUm9vdCwgcmVzb3VyY2UsIHByb3BzKSB7XG4gICAgICByZXNvdXJjZS5jb3VudCsrO1xuICAgICAgaWYgKG51bGwgPT09IHJlc291cmNlLmluc3RhbmNlKVxuICAgICAgICBzd2l0Y2ggKHJlc291cmNlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGhvaXN0YWJsZVJvb3QucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgJ3N0eWxlW2RhdGEtaHJlZn49XCInICtcbiAgICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKHByb3BzLmhyZWYpICtcbiAgICAgICAgICAgICAgICAnXCJdJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSlcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAocmVzb3VyY2UuaW5zdGFuY2UgPSBpbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShpbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZhciBzdHlsZVByb3BzID0gYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgICAgICBcImRhdGEtaHJlZlwiOiBwcm9wcy5ocmVmLFxuICAgICAgICAgICAgICBcImRhdGEtcHJlY2VkZW5jZVwiOiBwcm9wcy5wcmVjZWRlbmNlLFxuICAgICAgICAgICAgICBocmVmOiBudWxsLFxuICAgICAgICAgICAgICBwcmVjZWRlbmNlOiBudWxsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGluc3RhbmNlID0gKFxuICAgICAgICAgICAgICBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdFxuICAgICAgICAgICAgKS5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGluc3RhbmNlKTtcbiAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGluc3RhbmNlLCBcInN0eWxlXCIsIHN0eWxlUHJvcHMpO1xuICAgICAgICAgICAgaW5zZXJ0U3R5bGVzaGVldChpbnN0YW5jZSwgcHJvcHMucHJlY2VkZW5jZSwgaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgICByZXR1cm4gKHJlc291cmNlLmluc3RhbmNlID0gaW5zdGFuY2UpO1xuICAgICAgICAgIGNhc2UgXCJzdHlsZXNoZWV0XCI6XG4gICAgICAgICAgICBzdHlsZVByb3BzID0gZ2V0U3R5bGVLZXkocHJvcHMuaHJlZik7XG4gICAgICAgICAgICB2YXIgX2luc3RhbmNlID0gaG9pc3RhYmxlUm9vdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICBnZXRTdHlsZXNoZWV0U2VsZWN0b3JGcm9tS2V5KHN0eWxlUHJvcHMpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKF9pbnN0YW5jZSlcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZCksXG4gICAgICAgICAgICAgICAgKHJlc291cmNlLmluc3RhbmNlID0gX2luc3RhbmNlKSxcbiAgICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKF9pbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgX2luc3RhbmNlXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IHN0eWxlc2hlZXRQcm9wc0Zyb21SYXdQcm9wcyhwcm9wcyk7XG4gICAgICAgICAgICAoc3R5bGVQcm9wcyA9IHByZWxvYWRQcm9wc01hcC5nZXQoc3R5bGVQcm9wcykpICYmXG4gICAgICAgICAgICAgIGFkb3B0UHJlbG9hZFByb3BzRm9yU3R5bGVzaGVldChpbnN0YW5jZSwgc3R5bGVQcm9wcyk7XG4gICAgICAgICAgICBfaW5zdGFuY2UgPSAoXG4gICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3Qub3duZXJEb2N1bWVudCB8fCBob2lzdGFibGVSb290XG4gICAgICAgICAgICApLmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShfaW5zdGFuY2UpO1xuICAgICAgICAgICAgdmFyIGxpbmtJbnN0YW5jZSA9IF9pbnN0YW5jZTtcbiAgICAgICAgICAgIGxpbmtJbnN0YW5jZS5fcCA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgbGlua0luc3RhbmNlLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICAgICAgICAgIGxpbmtJbnN0YW5jZS5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhfaW5zdGFuY2UsIFwibGlua1wiLCBpbnN0YW5jZSk7XG4gICAgICAgICAgICByZXNvdXJjZS5zdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkO1xuICAgICAgICAgICAgaW5zZXJ0U3R5bGVzaGVldChfaW5zdGFuY2UsIHByb3BzLnByZWNlZGVuY2UsIGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXNvdXJjZS5pbnN0YW5jZSA9IF9pbnN0YW5jZSk7XG4gICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgX2luc3RhbmNlID0gZ2V0U2NyaXB0S2V5KHByb3BzLnNyYyk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChzdHlsZVByb3BzID0gaG9pc3RhYmxlUm9vdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgIGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShfaW5zdGFuY2UpXG4gICAgICAgICAgICAgICkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgKHJlc291cmNlLmluc3RhbmNlID0gc3R5bGVQcm9wcyksXG4gICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShzdHlsZVByb3BzKSxcbiAgICAgICAgICAgICAgICBzdHlsZVByb3BzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbnN0YW5jZSA9IHByb3BzO1xuICAgICAgICAgICAgaWYgKChzdHlsZVByb3BzID0gcHJlbG9hZFByb3BzTWFwLmdldChfaW5zdGFuY2UpKSlcbiAgICAgICAgICAgICAgKGluc3RhbmNlID0gYXNzaWduKHt9LCBwcm9wcykpLFxuICAgICAgICAgICAgICAgIGFkb3B0UHJlbG9hZFByb3BzRm9yU2NyaXB0KGluc3RhbmNlLCBzdHlsZVByb3BzKTtcbiAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICAgIHN0eWxlUHJvcHMgPSBob2lzdGFibGVSb290LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKHN0eWxlUHJvcHMpO1xuICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoc3R5bGVQcm9wcywgXCJsaW5rXCIsIGluc3RhbmNlKTtcbiAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuaGVhZC5hcHBlbmRDaGlsZChzdHlsZVByb3BzKTtcbiAgICAgICAgICAgIHJldHVybiAocmVzb3VyY2UuaW5zdGFuY2UgPSBzdHlsZVByb3BzKTtcbiAgICAgICAgICBjYXNlIFwidm9pZFwiOlxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAnYWNxdWlyZVJlc291cmNlIGVuY291bnRlcmVkIGEgcmVzb3VyY2UgdHlwZSBpdCBkaWQgbm90IGV4cGVjdDogXCInICtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS50eXBlICtcbiAgICAgICAgICAgICAgICAnXCIuIHRoaXMgaXMgYSBidWcgaW4gUmVhY3QuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgZWxzZVxuICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gcmVzb3VyY2UudHlwZSAmJlxuICAgICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nICYgSW5zZXJ0ZWQpID09PSBOb3RMb2FkZWQgJiZcbiAgICAgICAgICAoKGluc3RhbmNlID0gcmVzb3VyY2UuaW5zdGFuY2UpLFxuICAgICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkKSxcbiAgICAgICAgICBpbnNlcnRTdHlsZXNoZWV0KGluc3RhbmNlLCBwcm9wcy5wcmVjZWRlbmNlLCBob2lzdGFibGVSb290KSk7XG4gICAgICByZXR1cm4gcmVzb3VyY2UuaW5zdGFuY2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydFN0eWxlc2hlZXQoaW5zdGFuY2UsIHByZWNlZGVuY2UsIHJvb3QpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBub2RlcyA9IHJvb3QucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICAgICAgICdsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl1bZGF0YS1wcmVjZWRlbmNlXSxzdHlsZVtkYXRhLXByZWNlZGVuY2VdJ1xuICAgICAgICAgICksXG4gICAgICAgICAgbGFzdCA9IG5vZGVzLmxlbmd0aCA/IG5vZGVzW25vZGVzLmxlbmd0aCAtIDFdIDogbnVsbCxcbiAgICAgICAgICBwcmlvciA9IGxhc3QsXG4gICAgICAgICAgaSA9IDA7XG4gICAgICAgIGkgPCBub2Rlcy5sZW5ndGg7XG4gICAgICAgIGkrK1xuICAgICAgKSB7XG4gICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLmRhdGFzZXQucHJlY2VkZW5jZSA9PT0gcHJlY2VkZW5jZSkgcHJpb3IgPSBub2RlO1xuICAgICAgICBlbHNlIGlmIChwcmlvciAhPT0gbGFzdCkgYnJlYWs7XG4gICAgICB9XG4gICAgICBwcmlvclxuICAgICAgICA/IHByaW9yLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGluc3RhbmNlLCBwcmlvci5uZXh0U2libGluZylcbiAgICAgICAgOiAoKHByZWNlZGVuY2UgPSA5ID09PSByb290Lm5vZGVUeXBlID8gcm9vdC5oZWFkIDogcm9vdCksXG4gICAgICAgICAgcHJlY2VkZW5jZS5pbnNlcnRCZWZvcmUoaW5zdGFuY2UsIHByZWNlZGVuY2UuZmlyc3RDaGlsZCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZG9wdFByZWxvYWRQcm9wc0ZvclN0eWxlc2hlZXQoc3R5bGVzaGVldFByb3BzLCBwcmVsb2FkUHJvcHMpIHtcbiAgICAgIG51bGwgPT0gc3R5bGVzaGVldFByb3BzLmNyb3NzT3JpZ2luICYmXG4gICAgICAgIChzdHlsZXNoZWV0UHJvcHMuY3Jvc3NPcmlnaW4gPSBwcmVsb2FkUHJvcHMuY3Jvc3NPcmlnaW4pO1xuICAgICAgbnVsbCA9PSBzdHlsZXNoZWV0UHJvcHMucmVmZXJyZXJQb2xpY3kgJiZcbiAgICAgICAgKHN0eWxlc2hlZXRQcm9wcy5yZWZlcnJlclBvbGljeSA9IHByZWxvYWRQcm9wcy5yZWZlcnJlclBvbGljeSk7XG4gICAgICBudWxsID09IHN0eWxlc2hlZXRQcm9wcy50aXRsZSAmJlxuICAgICAgICAoc3R5bGVzaGVldFByb3BzLnRpdGxlID0gcHJlbG9hZFByb3BzLnRpdGxlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRvcHRQcmVsb2FkUHJvcHNGb3JTY3JpcHQoc2NyaXB0UHJvcHMsIHByZWxvYWRQcm9wcykge1xuICAgICAgbnVsbCA9PSBzY3JpcHRQcm9wcy5jcm9zc09yaWdpbiAmJlxuICAgICAgICAoc2NyaXB0UHJvcHMuY3Jvc3NPcmlnaW4gPSBwcmVsb2FkUHJvcHMuY3Jvc3NPcmlnaW4pO1xuICAgICAgbnVsbCA9PSBzY3JpcHRQcm9wcy5yZWZlcnJlclBvbGljeSAmJlxuICAgICAgICAoc2NyaXB0UHJvcHMucmVmZXJyZXJQb2xpY3kgPSBwcmVsb2FkUHJvcHMucmVmZXJyZXJQb2xpY3kpO1xuICAgICAgbnVsbCA9PSBzY3JpcHRQcm9wcy5pbnRlZ3JpdHkgJiZcbiAgICAgICAgKHNjcmlwdFByb3BzLmludGVncml0eSA9IHByZWxvYWRQcm9wcy5pbnRlZ3JpdHkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRIeWRyYXRhYmxlSG9pc3RhYmxlQ2FjaGUodHlwZSwga2V5QXR0cmlidXRlLCBvd25lckRvY3VtZW50KSB7XG4gICAgICBpZiAobnVsbCA9PT0gdGFnQ2FjaGVzKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IG5ldyBNYXAoKTtcbiAgICAgICAgdmFyIGNhY2hlcyA9ICh0YWdDYWNoZXMgPSBuZXcgTWFwKCkpO1xuICAgICAgICBjYWNoZXMuc2V0KG93bmVyRG9jdW1lbnQsIGNhY2hlKTtcbiAgICAgIH0gZWxzZVxuICAgICAgICAoY2FjaGVzID0gdGFnQ2FjaGVzKSxcbiAgICAgICAgICAoY2FjaGUgPSBjYWNoZXMuZ2V0KG93bmVyRG9jdW1lbnQpKSxcbiAgICAgICAgICBjYWNoZSB8fCAoKGNhY2hlID0gbmV3IE1hcCgpKSwgY2FjaGVzLnNldChvd25lckRvY3VtZW50LCBjYWNoZSkpO1xuICAgICAgaWYgKGNhY2hlLmhhcyh0eXBlKSkgcmV0dXJuIGNhY2hlO1xuICAgICAgY2FjaGUuc2V0KHR5cGUsIG51bGwpO1xuICAgICAgb3duZXJEb2N1bWVudCA9IG93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUodHlwZSk7XG4gICAgICBmb3IgKGNhY2hlcyA9IDA7IGNhY2hlcyA8IG93bmVyRG9jdW1lbnQubGVuZ3RoOyBjYWNoZXMrKykge1xuICAgICAgICB2YXIgbm9kZSA9IG93bmVyRG9jdW1lbnRbY2FjaGVzXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICEoXG4gICAgICAgICAgICBub2RlW2ludGVybmFsSG9pc3RhYmxlTWFya2VyXSB8fFxuICAgICAgICAgICAgbm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSB8fFxuICAgICAgICAgICAgKFwibGlua1wiID09PSB0eXBlICYmIFwic3R5bGVzaGVldFwiID09PSBub2RlLmdldEF0dHJpYnV0ZShcInJlbFwiKSlcbiAgICAgICAgICApICYmXG4gICAgICAgICAgbm9kZS5uYW1lc3BhY2VVUkkgIT09IFNWR19OQU1FU1BBQ0VcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIG5vZGVLZXkgPSBub2RlLmdldEF0dHJpYnV0ZShrZXlBdHRyaWJ1dGUpIHx8IFwiXCI7XG4gICAgICAgICAgbm9kZUtleSA9IHR5cGUgKyBub2RlS2V5O1xuICAgICAgICAgIHZhciBleGlzdGluZyA9IGNhY2hlLmdldChub2RlS2V5KTtcbiAgICAgICAgICBleGlzdGluZyA/IGV4aXN0aW5nLnB1c2gobm9kZSkgOiBjYWNoZS5zZXQobm9kZUtleSwgW25vZGVdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGNhY2hlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEhvaXN0YWJsZShob2lzdGFibGVSb290LCB0eXBlLCBpbnN0YW5jZSkge1xuICAgICAgaG9pc3RhYmxlUm9vdCA9IGhvaXN0YWJsZVJvb3Qub3duZXJEb2N1bWVudCB8fCBob2lzdGFibGVSb290O1xuICAgICAgaG9pc3RhYmxlUm9vdC5oZWFkLmluc2VydEJlZm9yZShcbiAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgIFwidGl0bGVcIiA9PT0gdHlwZSA/IGhvaXN0YWJsZVJvb3QucXVlcnlTZWxlY3RvcihcImhlYWQgPiB0aXRsZVwiKSA6IG51bGxcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzSG9zdEhvaXN0YWJsZVR5cGUodHlwZSwgcHJvcHMsIGhvc3RDb250ZXh0KSB7XG4gICAgICB2YXIgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ID1cbiAgICAgICAgIWhvc3RDb250ZXh0LmFuY2VzdG9ySW5mby5jb250YWluZXJUYWdJblNjb3BlO1xuICAgICAgaWYgKFxuICAgICAgICBob3N0Q29udGV4dC5jb250ZXh0ID09PSBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZyB8fFxuICAgICAgICBudWxsICE9IHByb3BzLml0ZW1Qcm9wXG4gICAgICApXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgIW91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCB8fFxuICAgICAgICAgICAgbnVsbCA9PSBwcm9wcy5pdGVtUHJvcCB8fFxuICAgICAgICAgICAgKFwibWV0YVwiICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgIFwidGl0bGVcIiAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgICBcInN0eWxlXCIgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgXCJsaW5rXCIgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgXCJzY3JpcHRcIiAhPT0gdHlwZSkgfHxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQ2Fubm90IHJlbmRlciBhIDwlcz4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudCBpZiBpdCBoYXMgYW4gYGl0ZW1Qcm9wYCBwcm9wLiBgaXRlbVByb3BgIHN1Z2dlc3RzIHRoZSB0YWcgYmVsb25ncyB0byBhbiBgaXRlbVNjb3BlYCB3aGljaCBjYW4gYXBwZWFyIGFueXdoZXJlIGluIHRoZSBET00uIElmIHlvdSB3ZXJlIGludGVuZGluZyBmb3IgUmVhY3QgdG8gaG9pc3QgdGhpcyA8JXM+IHJlbW92ZSB0aGUgYGl0ZW1Qcm9wYCBwcm9wLiBPdGhlcndpc2UsIHRyeSBtb3ZpbmcgdGhpcyB0YWcgaW50byB0aGUgPGhlYWQ+IG9yIDxib2R5PiBvZiB0aGUgRG9jdW1lbnQuXCIsXG4gICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgITFcbiAgICAgICAgKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwibWV0YVwiOlxuICAgICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5wcmVjZWRlbmNlIHx8XG4gICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMuaHJlZiB8fFxuICAgICAgICAgICAgXCJcIiA9PT0gcHJvcHMuaHJlZlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ0Nhbm5vdCByZW5kZXIgYSA8c3R5bGU+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgd2l0aG91dCBrbm93aW5nIGl0cyBwcmVjZWRlbmNlIGFuZCBhIHVuaXF1ZSBocmVmIGtleS4gUmVhY3QgY2FuIGhvaXN0IGFuZCBkZWR1cGxpY2F0ZSA8c3R5bGU+IHRhZ3MgaWYgeW91IHByb3ZpZGUgYSBgcHJlY2VkZW5jZWAgcHJvcCBhbG9uZyB3aXRoIGFuIGBocmVmYCBwcm9wIHRoYXQgZG9lcyBub3QgY29uZmxpYyB3aXRoIHRoZSBgaHJlZmAgdmFsdWVzIHVzZWQgaW4gYW55IG90aGVyIGhvaXN0ZWQgPHN0eWxlPiBvciA8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgLi4uPiB0YWdzLiAgTm90ZSB0aGF0IGhvaXN0aW5nIDxzdHlsZT4gdGFncyBpcyBjb25zaWRlcmVkIGFuIGFkdmFuY2VkIGZlYXR1cmUgdGhhdCBtb3N0IHdpbGwgbm90IHVzZSBkaXJlY3RseS4gQ29uc2lkZXIgbW92aW5nIHRoZSA8c3R5bGU+IHRhZyB0byB0aGUgPGhlYWQ+IG9yIGNvbnNpZGVyIGFkZGluZyBhIGBwcmVjZWRlbmNlPVwiZGVmYXVsdFwiYCBhbmQgYGhyZWY9XCJzb21lIHVuaXF1ZSByZXNvdXJjZSBpZGVudGlmaWVyXCJgLCBvciBtb3ZlIHRoZSA8c3R5bGU+IHRvIHRoZSA8c3R5bGU+IHRhZy4nXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5yZWwgfHxcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5ocmVmIHx8XG4gICAgICAgICAgICBcIlwiID09PSBwcm9wcy5ocmVmIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkxvYWQgfHxcbiAgICAgICAgICAgIHByb3BzLm9uRXJyb3JcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IHByb3BzLnJlbCAmJlxuICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMucHJlY2VkZW5jZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHR5cGUgPSBwcm9wcy5ocmVmO1xuICAgICAgICAgICAgICB2YXIgb25FcnJvciA9IHByb3BzLm9uRXJyb3IsXG4gICAgICAgICAgICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZDtcbiAgICAgICAgICAgICAgaG9zdENvbnRleHQgPSBbXTtcbiAgICAgICAgICAgICAgcHJvcHMub25Mb2FkICYmIGhvc3RDb250ZXh0LnB1c2goXCJgb25Mb2FkYFwiKTtcbiAgICAgICAgICAgICAgb25FcnJvciAmJiBob3N0Q29udGV4dC5wdXNoKFwiYG9uRXJyb3JgXCIpO1xuICAgICAgICAgICAgICBudWxsICE9IGRpc2FibGVkICYmIGhvc3RDb250ZXh0LnB1c2goXCJgZGlzYWJsZWRgXCIpO1xuICAgICAgICAgICAgICBvbkVycm9yID0gcHJvcE5hbWVzTGlzdEpvaW4oaG9zdENvbnRleHQsIFwiYW5kXCIpO1xuICAgICAgICAgICAgICBvbkVycm9yICs9IDEgPT09IGhvc3RDb250ZXh0Lmxlbmd0aCA/IFwiIHByb3BcIiA6IFwiIHByb3BzXCI7XG4gICAgICAgICAgICAgIGRpc2FibGVkID1cbiAgICAgICAgICAgICAgICAxID09PSBob3N0Q29udGV4dC5sZW5ndGggPyBcImFuIFwiICsgb25FcnJvciA6IFwidGhlIFwiICsgb25FcnJvcjtcbiAgICAgICAgICAgICAgaG9zdENvbnRleHQubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICdSZWFjdCBlbmNvdW50ZXJlZCBhIDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiJXNcIiAuLi4gLz4gd2l0aCBhIGBwcmVjZWRlbmNlYCBwcm9wIHRoYXQgYWxzbyBpbmNsdWRlZCAlcy4gVGhlIHByZXNlbmNlIG9mIGxvYWRpbmcgYW5kIGVycm9yIGhhbmRsZXJzIGluZGljYXRlcyBhbiBpbnRlbnQgdG8gbWFuYWdlIHRoZSBzdHlsZXNoZWV0IGxvYWRpbmcgc3RhdGUgZnJvbSB5b3VyIGZyb20geW91ciBDb21wb25lbnQgY29kZSBhbmQgUmVhY3Qgd2lsbCBub3QgaG9pc3Qgb3IgZGVkdXBsaWNhdGUgdGhpcyBzdHlsZXNoZWV0LiBJZiB5b3VyIGludGVudCB3YXMgdG8gaGF2ZSBSZWFjdCBob2lzdCBhbmQgZGVkdXBsY2lhdGUgdGhpcyBzdHlsZXNoZWV0IHVzaW5nIHRoZSBgcHJlY2VkZW5jZWAgcHJvcCByZW1vdmUgdGhlICVzLCBvdGhlcndpc2UgcmVtb3ZlIHRoZSBgcHJlY2VkZW5jZWAgcHJvcC4nLFxuICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGRpc2FibGVkLFxuICAgICAgICAgICAgICAgICAgb25FcnJvclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgJiZcbiAgICAgICAgICAgICAgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5yZWwgfHxcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLmhyZWYgfHxcbiAgICAgICAgICAgICAgXCJcIiA9PT0gcHJvcHMuaHJlZlxuICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIGEgPGxpbms+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgd2l0aG91dCBhIGByZWxgIGFuZCBgaHJlZmAgcHJvcC4gVHJ5IGFkZGluZyBhIGByZWxgIGFuZC9vciBgaHJlZmAgcHJvcCB0byB0aGlzIDxsaW5rPiBvciBtb3ZpbmcgdGhlIGxpbmsgaW50byB0aGUgPGhlYWQ+IHRhZ1wiXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiAocHJvcHMub25FcnJvciB8fCBwcm9wcy5vbkxvYWQpICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgYSA8bGluaz4gd2l0aCBvbkxvYWQgb3Igb25FcnJvciBsaXN0ZW5lcnMgb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudC4gVHJ5IHJlbW92aW5nIG9uTG9hZD17Li4ufSBhbmQgb25FcnJvcj17Li4ufSBvciBtb3ZpbmcgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnIG9yIHNvbWV3aGVyZSBpbiB0aGUgPGJvZHk+LlwiXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzd2l0Y2ggKHByb3BzLnJlbCkge1xuICAgICAgICAgICAgY2FzZSBcInN0eWxlc2hlZXRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAodHlwZSA9IHByb3BzLnByZWNlZGVuY2UpLFxuICAgICAgICAgICAgICAgIChwcm9wcyA9IHByb3BzLmRpc2FibGVkKSxcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IHJlbmRlciBhIDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiAvPiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IHdpdGhvdXQga25vd2luZyBpdHMgcHJlY2VkZW5jZS4gQ29uc2lkZXIgYWRkaW5nIHByZWNlZGVuY2U9XCJkZWZhdWx0XCIgb3IgbW92aW5nIGl0IGludG8gdGhlIHJvb3QgPGhlYWQ+IHRhZy4nXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlICYmIG51bGwgPT0gcHJvcHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJzY3JpcHRcIjpcbiAgICAgICAgICB0eXBlID1cbiAgICAgICAgICAgIHByb3BzLmFzeW5jICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBwcm9wcy5hc3luYyAmJlxuICAgICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHByb3BzLmFzeW5jO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICF0eXBlIHx8XG4gICAgICAgICAgICBwcm9wcy5vbkxvYWQgfHxcbiAgICAgICAgICAgIHByb3BzLm9uRXJyb3IgfHxcbiAgICAgICAgICAgICFwcm9wcy5zcmMgfHxcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5zcmNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCAmJlxuICAgICAgICAgICAgICAodHlwZVxuICAgICAgICAgICAgICAgID8gcHJvcHMub25Mb2FkIHx8IHByb3BzLm9uRXJyb3JcbiAgICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgYSA8c2NyaXB0PiB3aXRoIG9uTG9hZCBvciBvbkVycm9yIGxpc3RlbmVycyBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50LiBUcnkgcmVtb3Zpbmcgb25Mb2FkPXsuLi59IGFuZCBvbkVycm9yPXsuLi59IG9yIG1vdmluZyBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcgb3Igc29tZXdoZXJlIGluIHRoZSA8Ym9keT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHJlbmRlciBhIDxzY3JpcHQ+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgd2l0aG91dCBgYXN5bmM9e3RydWV9YCBhbmQgYSBub24tZW1wdHkgYHNyY2AgcHJvcC4gRW5zdXJlIHRoZXJlIGlzIGEgdmFsaWQgYHNyY2AgYW5kIGVpdGhlciBtYWtlIHRoZSBzY3JpcHQgYXN5bmMgb3IgbW92ZSBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcgb3Igc29tZXdoZXJlIGluIHRoZSA8Ym9keT4uXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCByZW5kZXIgYSBzeW5jIG9yIGRlZmVyIDxzY3JpcHQ+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgd2l0aG91dCBrbm93aW5nIGl0cyBvcmRlci4gVHJ5IGFkZGluZyBhc3luYz1cIlwiIG9yIG1vdmluZyBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcuJ1xuICAgICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwibm9zY3JpcHRcIjpcbiAgICAgICAgY2FzZSBcInRlbXBsYXRlXCI6XG4gICAgICAgICAgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgPCVzPiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50LiBUcnkgbW92aW5nIGl0IGludG8gdGhlIHJvb3QgPGhlYWQ+IHRhZy5cIixcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlbG9hZFJlc291cmNlKHJlc291cmNlKSB7XG4gICAgICByZXR1cm4gXCJzdHlsZXNoZWV0XCIgPT09IHJlc291cmNlLnR5cGUgJiZcbiAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBTZXR0bGVkKSA9PT0gTm90TG9hZGVkXG4gICAgICAgID8gITFcbiAgICAgICAgOiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCgpIHt9XG4gICAgZnVuY3Rpb24gc3VzcGVuZFJlc291cmNlKGhvaXN0YWJsZVJvb3QsIHJlc291cmNlLCBwcm9wcykge1xuICAgICAgaWYgKG51bGwgPT09IHN1c3BlbmRlZFN0YXRlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkludGVybmFsIFJlYWN0IEVycm9yOiBzdXNwZW5kZWRTdGF0ZSBudWxsIHdoZW4gaXQgd2FzIGV4cGVjdGVkIHRvIGV4aXN0cy4gUGxlYXNlIHJlcG9ydCB0aGlzIGFzIGEgUmVhY3QgYnVnLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgc3RhdGUgPSBzdXNwZW5kZWRTdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IHJlc291cmNlLnR5cGUgJiZcbiAgICAgICAgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5tZWRpYSB8fFxuICAgICAgICAgICExICE9PSBtYXRjaE1lZGlhKHByb3BzLm1lZGlhKS5tYXRjaGVzKSAmJlxuICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIEluc2VydGVkKSA9PT0gTm90TG9hZGVkXG4gICAgICApIHtcbiAgICAgICAgaWYgKG51bGwgPT09IHJlc291cmNlLmluc3RhbmNlKSB7XG4gICAgICAgICAgdmFyIGtleSA9IGdldFN0eWxlS2V5KHByb3BzLmhyZWYpLFxuICAgICAgICAgICAgaW5zdGFuY2UgPSBob2lzdGFibGVSb290LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkoa2V5KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSBpbnN0YW5jZS5fcDtcbiAgICAgICAgICAgIG51bGwgIT09IGhvaXN0YWJsZVJvb3QgJiZcbiAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGhvaXN0YWJsZVJvb3QgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaG9pc3RhYmxlUm9vdC50aGVuICYmXG4gICAgICAgICAgICAgIChzdGF0ZS5jb3VudCsrLFxuICAgICAgICAgICAgICAoc3RhdGUgPSBvblVuc3VzcGVuZC5iaW5kKHN0YXRlKSksXG4gICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QudGhlbihzdGF0ZSwgc3RhdGUpKTtcbiAgICAgICAgICAgIHJlc291cmNlLnN0YXRlLmxvYWRpbmcgfD0gSW5zZXJ0ZWQ7XG4gICAgICAgICAgICByZXNvdXJjZS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShpbnN0YW5jZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGluc3RhbmNlID0gaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgcHJvcHMgPSBzdHlsZXNoZWV0UHJvcHNGcm9tUmF3UHJvcHMocHJvcHMpO1xuICAgICAgICAgIChrZXkgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KGtleSkpICYmXG4gICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclN0eWxlc2hlZXQocHJvcHMsIGtleSk7XG4gICAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGluc3RhbmNlKTtcbiAgICAgICAgICB2YXIgbGlua0luc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgbGlua0luc3RhbmNlLl9wID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgbGlua0luc3RhbmNlLm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICAgICAgICBsaW5rSW5zdGFuY2Uub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhpbnN0YW5jZSwgXCJsaW5rXCIsIHByb3BzKTtcbiAgICAgICAgICByZXNvdXJjZS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgICAgIG51bGwgPT09IHN0YXRlLnN0eWxlc2hlZXRzICYmIChzdGF0ZS5zdHlsZXNoZWV0cyA9IG5ldyBNYXAoKSk7XG4gICAgICAgIHN0YXRlLnN0eWxlc2hlZXRzLnNldChyZXNvdXJjZSwgaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgIChob2lzdGFibGVSb290ID0gcmVzb3VyY2Uuc3RhdGUucHJlbG9hZCkgJiZcbiAgICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIFNldHRsZWQpID09PSBOb3RMb2FkZWQgJiZcbiAgICAgICAgICAoc3RhdGUuY291bnQrKyxcbiAgICAgICAgICAocmVzb3VyY2UgPSBvblVuc3VzcGVuZC5iaW5kKHN0YXRlKSksXG4gICAgICAgICAgaG9pc3RhYmxlUm9vdC5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCByZXNvdXJjZSksXG4gICAgICAgICAgaG9pc3RhYmxlUm9vdC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgcmVzb3VyY2UpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gd2FpdEZvckNvbW1pdFRvQmVSZWFkeSgpIHtcbiAgICAgIGlmIChudWxsID09PSBzdXNwZW5kZWRTdGF0ZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJJbnRlcm5hbCBSZWFjdCBFcnJvcjogc3VzcGVuZGVkU3RhdGUgbnVsbCB3aGVuIGl0IHdhcyBleHBlY3RlZCB0byBleGlzdHMuIFBsZWFzZSByZXBvcnQgdGhpcyBhcyBhIFJlYWN0IGJ1Zy5cIlxuICAgICAgICApO1xuICAgICAgdmFyIHN0YXRlID0gc3VzcGVuZGVkU3RhdGU7XG4gICAgICBzdGF0ZS5zdHlsZXNoZWV0cyAmJlxuICAgICAgICAwID09PSBzdGF0ZS5jb3VudCAmJlxuICAgICAgICBpbnNlcnRTdXNwZW5kZWRTdHlsZXNoZWV0cyhzdGF0ZSwgc3RhdGUuc3R5bGVzaGVldHMpO1xuICAgICAgcmV0dXJuIDAgPCBzdGF0ZS5jb3VudFxuICAgICAgICA/IGZ1bmN0aW9uIChjb21taXQpIHtcbiAgICAgICAgICAgIHZhciBzdHlsZXNoZWV0VGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgc3RhdGUuc3R5bGVzaGVldHMgJiZcbiAgICAgICAgICAgICAgICBpbnNlcnRTdXNwZW5kZWRTdHlsZXNoZWV0cyhzdGF0ZSwgc3RhdGUuc3R5bGVzaGVldHMpO1xuICAgICAgICAgICAgICBpZiAoc3RhdGUudW5zdXNwZW5kKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVuc3VzcGVuZCA9IHN0YXRlLnVuc3VzcGVuZDtcbiAgICAgICAgICAgICAgICBzdGF0ZS51bnN1c3BlbmQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHVuc3VzcGVuZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA2ZTQpO1xuICAgICAgICAgICAgc3RhdGUudW5zdXNwZW5kID0gY29tbWl0O1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgc3RhdGUudW5zdXNwZW5kID0gbnVsbDtcbiAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHN0eWxlc2hlZXRUaW1lcik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblVuc3VzcGVuZCgpIHtcbiAgICAgIHRoaXMuY291bnQtLTtcbiAgICAgIGlmICgwID09PSB0aGlzLmNvdW50KVxuICAgICAgICBpZiAodGhpcy5zdHlsZXNoZWV0cylcbiAgICAgICAgICBpbnNlcnRTdXNwZW5kZWRTdHlsZXNoZWV0cyh0aGlzLCB0aGlzLnN0eWxlc2hlZXRzKTtcbiAgICAgICAgZWxzZSBpZiAodGhpcy51bnN1c3BlbmQpIHtcbiAgICAgICAgICB2YXIgdW5zdXNwZW5kID0gdGhpcy51bnN1c3BlbmQ7XG4gICAgICAgICAgdGhpcy51bnN1c3BlbmQgPSBudWxsO1xuICAgICAgICAgIHVuc3VzcGVuZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydFN1c3BlbmRlZFN0eWxlc2hlZXRzKHN0YXRlLCByZXNvdXJjZXMpIHtcbiAgICAgIHN0YXRlLnN0eWxlc2hlZXRzID0gbnVsbDtcbiAgICAgIG51bGwgIT09IHN0YXRlLnVuc3VzcGVuZCAmJlxuICAgICAgICAoc3RhdGUuY291bnQrKyxcbiAgICAgICAgKHByZWNlZGVuY2VzQnlSb290ID0gbmV3IE1hcCgpKSxcbiAgICAgICAgcmVzb3VyY2VzLmZvckVhY2goaW5zZXJ0U3R5bGVzaGVldEludG9Sb290LCBzdGF0ZSksXG4gICAgICAgIChwcmVjZWRlbmNlc0J5Um9vdCA9IG51bGwpLFxuICAgICAgICBvblVuc3VzcGVuZC5jYWxsKHN0YXRlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluc2VydFN0eWxlc2hlZXRJbnRvUm9vdChyb290LCByZXNvdXJjZSkge1xuICAgICAgaWYgKCEocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIEluc2VydGVkKSkge1xuICAgICAgICB2YXIgcHJlY2VkZW5jZXMgPSBwcmVjZWRlbmNlc0J5Um9vdC5nZXQocm9vdCk7XG4gICAgICAgIGlmIChwcmVjZWRlbmNlcykgdmFyIGxhc3QgPSBwcmVjZWRlbmNlcy5nZXQoTEFTVF9QUkVDRURFTkNFKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcHJlY2VkZW5jZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgICAgcHJlY2VkZW5jZXNCeVJvb3Quc2V0KHJvb3QsIHByZWNlZGVuY2VzKTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgdmFyIG5vZGVzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgICAgICAgIFwibGlua1tkYXRhLXByZWNlZGVuY2VdLHN0eWxlW2RhdGEtcHJlY2VkZW5jZV1cIlxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBpID0gMDtcbiAgICAgICAgICAgIGkgPCBub2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBpKytcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gbm9kZXNbaV07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIFwiTElOS1wiID09PSBub2RlLm5vZGVOYW1lIHx8XG4gICAgICAgICAgICAgIFwibm90IGFsbFwiICE9PSBub2RlLmdldEF0dHJpYnV0ZShcIm1lZGlhXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHByZWNlZGVuY2VzLnNldChub2RlLmRhdGFzZXQucHJlY2VkZW5jZSwgbm9kZSksIChsYXN0ID0gbm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxhc3QgJiYgcHJlY2VkZW5jZXMuc2V0KExBU1RfUFJFQ0VERU5DRSwgbGFzdCk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZXMgPSByZXNvdXJjZS5pbnN0YW5jZTtcbiAgICAgICAgbm9kZSA9IG5vZGVzLmdldEF0dHJpYnV0ZShcImRhdGEtcHJlY2VkZW5jZVwiKTtcbiAgICAgICAgaSA9IHByZWNlZGVuY2VzLmdldChub2RlKSB8fCBsYXN0O1xuICAgICAgICBpID09PSBsYXN0ICYmIHByZWNlZGVuY2VzLnNldChMQVNUX1BSRUNFREVOQ0UsIG5vZGVzKTtcbiAgICAgICAgcHJlY2VkZW5jZXMuc2V0KG5vZGUsIG5vZGVzKTtcbiAgICAgICAgdGhpcy5jb3VudCsrO1xuICAgICAgICBsYXN0ID0gb25VbnN1c3BlbmQuYmluZCh0aGlzKTtcbiAgICAgICAgbm9kZXMuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgbGFzdCk7XG4gICAgICAgIG5vZGVzLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBsYXN0KTtcbiAgICAgICAgaVxuICAgICAgICAgID8gaS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlcywgaS5uZXh0U2libGluZylcbiAgICAgICAgICA6ICgocm9vdCA9IDkgPT09IHJvb3Qubm9kZVR5cGUgPyByb290LmhlYWQgOiByb290KSxcbiAgICAgICAgICAgIHJvb3QuaW5zZXJ0QmVmb3JlKG5vZGVzLCByb290LmZpcnN0Q2hpbGQpKTtcbiAgICAgICAgcmVzb3VyY2Uuc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYmluZFRvQ29uc29sZShtZXRob2ROYW1lLCBhcmdzLCBiYWRnZU5hbWUpIHtcbiAgICAgIHZhciBvZmZzZXQgPSAwO1xuICAgICAgc3dpdGNoIChtZXRob2ROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJkaXJcIjpcbiAgICAgICAgY2FzZSBcImRpcnhtbFwiOlxuICAgICAgICBjYXNlIFwiZ3JvdXBFbmRcIjpcbiAgICAgICAgY2FzZSBcInRhYmxlXCI6XG4gICAgICAgICAgcmV0dXJuIGJpbmQuYXBwbHkoY29uc29sZVttZXRob2ROYW1lXSwgW2NvbnNvbGVdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgIGNhc2UgXCJhc3NlcnRcIjpcbiAgICAgICAgICBvZmZzZXQgPSAxO1xuICAgICAgfVxuICAgICAgYXJncyA9IGFyZ3Muc2xpY2UoMCk7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgYXJnc1tvZmZzZXRdXG4gICAgICAgID8gYXJncy5zcGxpY2UoXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAxLFxuICAgICAgICAgICAgYmFkZ2VGb3JtYXQgKyBhcmdzW29mZnNldF0sXG4gICAgICAgICAgICBiYWRnZVN0eWxlLFxuICAgICAgICAgICAgcGFkICsgYmFkZ2VOYW1lICsgcGFkLFxuICAgICAgICAgICAgcmVzZXRTdHlsZVxuICAgICAgICAgIClcbiAgICAgICAgOiBhcmdzLnNwbGljZShcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBiYWRnZUZvcm1hdCxcbiAgICAgICAgICAgIGJhZGdlU3R5bGUsXG4gICAgICAgICAgICBwYWQgKyBiYWRnZU5hbWUgKyBwYWQsXG4gICAgICAgICAgICByZXNldFN0eWxlXG4gICAgICAgICAgKTtcbiAgICAgIGFyZ3MudW5zaGlmdChjb25zb2xlKTtcbiAgICAgIHJldHVybiBiaW5kLmFwcGx5KGNvbnNvbGVbbWV0aG9kTmFtZV0sIGFyZ3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBGaWJlclJvb3ROb2RlKFxuICAgICAgY29udGFpbmVySW5mbyxcbiAgICAgIHRhZyxcbiAgICAgIGh5ZHJhdGUsXG4gICAgICBpZGVudGlmaWVyUHJlZml4LFxuICAgICAgb25VbmNhdWdodEVycm9yLFxuICAgICAgb25DYXVnaHRFcnJvcixcbiAgICAgIG9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgIGZvcm1TdGF0ZVxuICAgICkge1xuICAgICAgdGhpcy50YWcgPSAxO1xuICAgICAgdGhpcy5jb250YWluZXJJbmZvID0gY29udGFpbmVySW5mbztcbiAgICAgIHRoaXMuZmluaXNoZWRXb3JrID1cbiAgICAgICAgdGhpcy5waW5nQ2FjaGUgPVxuICAgICAgICB0aGlzLmN1cnJlbnQgPVxuICAgICAgICB0aGlzLnBlbmRpbmdDaGlsZHJlbiA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIHRoaXMudGltZW91dEhhbmRsZSA9IG5vVGltZW91dDtcbiAgICAgIHRoaXMuY2FsbGJhY2tOb2RlID1cbiAgICAgICAgdGhpcy5uZXh0ID1cbiAgICAgICAgdGhpcy5wZW5kaW5nQ29udGV4dCA9XG4gICAgICAgIHRoaXMuY29udGV4dCA9XG4gICAgICAgIHRoaXMuY2FuY2VsUGVuZGluZ0NvbW1pdCA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIHRoaXMuY2FsbGJhY2tQcmlvcml0eSA9IDA7XG4gICAgICB0aGlzLmV4cGlyYXRpb25UaW1lcyA9IGNyZWF0ZUxhbmVNYXAoLTEpO1xuICAgICAgdGhpcy5lbnRhbmdsZWRMYW5lcyA9XG4gICAgICAgIHRoaXMuc2hlbGxTdXNwZW5kQ291bnRlciA9XG4gICAgICAgIHRoaXMuZXJyb3JSZWNvdmVyeURpc2FibGVkTGFuZXMgPVxuICAgICAgICB0aGlzLmZpbmlzaGVkTGFuZXMgPVxuICAgICAgICB0aGlzLmV4cGlyZWRMYW5lcyA9XG4gICAgICAgIHRoaXMud2FybUxhbmVzID1cbiAgICAgICAgdGhpcy5waW5nZWRMYW5lcyA9XG4gICAgICAgIHRoaXMuc3VzcGVuZGVkTGFuZXMgPVxuICAgICAgICB0aGlzLnBlbmRpbmdMYW5lcyA9XG4gICAgICAgICAgMDtcbiAgICAgIHRoaXMuZW50YW5nbGVtZW50cyA9IGNyZWF0ZUxhbmVNYXAoMCk7XG4gICAgICB0aGlzLmhpZGRlblVwZGF0ZXMgPSBjcmVhdGVMYW5lTWFwKG51bGwpO1xuICAgICAgdGhpcy5pZGVudGlmaWVyUHJlZml4ID0gaWRlbnRpZmllclByZWZpeDtcbiAgICAgIHRoaXMub25VbmNhdWdodEVycm9yID0gb25VbmNhdWdodEVycm9yO1xuICAgICAgdGhpcy5vbkNhdWdodEVycm9yID0gb25DYXVnaHRFcnJvcjtcbiAgICAgIHRoaXMub25SZWNvdmVyYWJsZUVycm9yID0gb25SZWNvdmVyYWJsZUVycm9yO1xuICAgICAgdGhpcy5wb29sZWRDYWNoZSA9IG51bGw7XG4gICAgICB0aGlzLnBvb2xlZENhY2hlTGFuZXMgPSAwO1xuICAgICAgdGhpcy5mb3JtU3RhdGUgPSBmb3JtU3RhdGU7XG4gICAgICB0aGlzLmluY29tcGxldGVUcmFuc2l0aW9ucyA9IG5ldyBNYXAoKTtcbiAgICAgIHRoaXMucGFzc2l2ZUVmZmVjdER1cmF0aW9uID0gdGhpcy5lZmZlY3REdXJhdGlvbiA9IC0wO1xuICAgICAgdGhpcy5tZW1vaXplZFVwZGF0ZXJzID0gbmV3IFNldCgpO1xuICAgICAgY29udGFpbmVySW5mbyA9IHRoaXMucGVuZGluZ1VwZGF0ZXJzTGFuZU1hcCA9IFtdO1xuICAgICAgZm9yICh0YWcgPSAwOyAzMSA+IHRhZzsgdGFnKyspIGNvbnRhaW5lckluZm8ucHVzaChuZXcgU2V0KCkpO1xuICAgICAgdGhpcy5fZGVidWdSb290VHlwZSA9IGh5ZHJhdGUgPyBcImh5ZHJhdGVSb290KClcIiA6IFwiY3JlYXRlUm9vdCgpXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyUm9vdChcbiAgICAgIGNvbnRhaW5lckluZm8sXG4gICAgICB0YWcsXG4gICAgICBoeWRyYXRlLFxuICAgICAgaW5pdGlhbENoaWxkcmVuLFxuICAgICAgaHlkcmF0aW9uQ2FsbGJhY2tzLFxuICAgICAgaXNTdHJpY3RNb2RlLFxuICAgICAgaWRlbnRpZmllclByZWZpeCxcbiAgICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgICAgIG9uQ2F1Z2h0RXJyb3IsXG4gICAgICBvblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICB0cmFuc2l0aW9uQ2FsbGJhY2tzLFxuICAgICAgZm9ybVN0YXRlXG4gICAgKSB7XG4gICAgICBjb250YWluZXJJbmZvID0gbmV3IEZpYmVyUm9vdE5vZGUoXG4gICAgICAgIGNvbnRhaW5lckluZm8sXG4gICAgICAgIHRhZyxcbiAgICAgICAgaHlkcmF0ZSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCxcbiAgICAgICAgb25VbmNhdWdodEVycm9yLFxuICAgICAgICBvbkNhdWdodEVycm9yLFxuICAgICAgICBvblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICAgIGZvcm1TdGF0ZVxuICAgICAgKTtcbiAgICAgIHRhZyA9IENvbmN1cnJlbnRNb2RlO1xuICAgICAgITAgPT09IGlzU3RyaWN0TW9kZSAmJiAodGFnIHw9IFN0cmljdExlZ2FjeU1vZGUgfCBTdHJpY3RFZmZlY3RzTW9kZSk7XG4gICAgICBpc0RldlRvb2xzUHJlc2VudCAmJiAodGFnIHw9IFByb2ZpbGVNb2RlKTtcbiAgICAgIGlzU3RyaWN0TW9kZSA9IGNyZWF0ZUZpYmVyKDMsIG51bGwsIG51bGwsIHRhZyk7XG4gICAgICBjb250YWluZXJJbmZvLmN1cnJlbnQgPSBpc1N0cmljdE1vZGU7XG4gICAgICBpc1N0cmljdE1vZGUuc3RhdGVOb2RlID0gY29udGFpbmVySW5mbztcbiAgICAgIHRhZyA9IGNyZWF0ZUNhY2hlKCk7XG4gICAgICByZXRhaW5DYWNoZSh0YWcpO1xuICAgICAgY29udGFpbmVySW5mby5wb29sZWRDYWNoZSA9IHRhZztcbiAgICAgIHJldGFpbkNhY2hlKHRhZyk7XG4gICAgICBpc1N0cmljdE1vZGUubWVtb2l6ZWRTdGF0ZSA9IHtcbiAgICAgICAgZWxlbWVudDogaW5pdGlhbENoaWxkcmVuLFxuICAgICAgICBpc0RlaHlkcmF0ZWQ6IGh5ZHJhdGUsXG4gICAgICAgIGNhY2hlOiB0YWdcbiAgICAgIH07XG4gICAgICBpbml0aWFsaXplVXBkYXRlUXVldWUoaXNTdHJpY3RNb2RlKTtcbiAgICAgIHJldHVybiBjb250YWluZXJJbmZvO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb250ZXh0Rm9yU3VidHJlZShwYXJlbnRDb21wb25lbnQpIHtcbiAgICAgIGlmICghcGFyZW50Q29tcG9uZW50KSByZXR1cm4gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgcGFyZW50Q29tcG9uZW50ID0gZW1wdHlDb250ZXh0T2JqZWN0O1xuICAgICAgcmV0dXJuIHBhcmVudENvbXBvbmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ29udGFpbmVyU3luYyhcbiAgICAgIGVsZW1lbnQsXG4gICAgICBjb250YWluZXIsXG4gICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICBjYWxsYmFja1xuICAgICkge1xuICAgICAgMCA9PT0gY29udGFpbmVyLnRhZyAmJiBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7XG4gICAgICB1cGRhdGVDb250YWluZXJJbXBsKFxuICAgICAgICBjb250YWluZXIuY3VycmVudCxcbiAgICAgICAgMixcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICBwYXJlbnRDb21wb25lbnQsXG4gICAgICAgIGNhbGxiYWNrXG4gICAgICApO1xuICAgICAgcmV0dXJuIDI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbnRhaW5lckltcGwoXG4gICAgICByb290RmliZXIsXG4gICAgICBsYW5lLFxuICAgICAgZWxlbWVudCxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIGNhbGxiYWNrXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGluamVjdGVkSG9vayAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZEhvb2sub25TY2hlZHVsZUZpYmVyUm9vdFxuICAgICAgKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGluamVjdGVkSG9vay5vblNjaGVkdWxlRmliZXJSb290KHJlbmRlcmVySUQsIGNvbnRhaW5lciwgZWxlbWVudCk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGhhc0xvZ2dlZEVycm9yIHx8XG4gICAgICAgICAgICAoKGhhc0xvZ2dlZEVycm9yID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsXG4gICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU2NoZWR1bGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclNjaGVkdWxlZChsYW5lKTtcbiAgICAgIHBhcmVudENvbXBvbmVudCA9IGdldENvbnRleHRGb3JTdWJ0cmVlKHBhcmVudENvbXBvbmVudCk7XG4gICAgICBudWxsID09PSBjb250YWluZXIuY29udGV4dFxuICAgICAgICA/IChjb250YWluZXIuY29udGV4dCA9IHBhcmVudENvbXBvbmVudClcbiAgICAgICAgOiAoY29udGFpbmVyLnBlbmRpbmdDb250ZXh0ID0gcGFyZW50Q29tcG9uZW50KTtcbiAgICAgIGlzUmVuZGVyaW5nICYmXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgIWRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgJiZcbiAgICAgICAgKChkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVuZGVyIG1ldGhvZHMgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGU7IHRyaWdnZXJpbmcgbmVzdGVkIGNvbXBvbmVudCB1cGRhdGVzIGZyb20gcmVuZGVyIGlzIG5vdCBhbGxvd2VkLiBJZiBuZWNlc3NhcnksIHRyaWdnZXIgbmVzdGVkIHVwZGF0ZXMgaW4gY29tcG9uZW50RGlkVXBkYXRlLlxcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mICVzLlwiLFxuICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoY3VycmVudCkgfHwgXCJVbmtub3duXCJcbiAgICAgICAgKSk7XG4gICAgICBjb250YWluZXIgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICBjb250YWluZXIucGF5bG9hZCA9IHsgZWxlbWVudDogZWxlbWVudCB9O1xuICAgICAgY2FsbGJhY2sgPSB2b2lkIDAgPT09IGNhbGxiYWNrID8gbnVsbCA6IGNhbGxiYWNrO1xuICAgICAgbnVsbCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNhbGxiYWNrICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdGhlIGxhc3Qgb3B0aW9uYWwgYGNhbGxiYWNrYCBhcmd1bWVudCB0byBiZSBhIGZ1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcy5cIixcbiAgICAgICAgICAgIGNhbGxiYWNrXG4gICAgICAgICAgKSxcbiAgICAgICAgKGNvbnRhaW5lci5jYWxsYmFjayA9IGNhbGxiYWNrKSk7XG4gICAgICBlbGVtZW50ID0gZW5xdWV1ZVVwZGF0ZShyb290RmliZXIsIGNvbnRhaW5lciwgbGFuZSk7XG4gICAgICBudWxsICE9PSBlbGVtZW50ICYmXG4gICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIoZWxlbWVudCwgcm9vdEZpYmVyLCBsYW5lKSxcbiAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9ucyhlbGVtZW50LCByb290RmliZXIsIGxhbmUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1JldHJ5TGFuZUltcGwoZmliZXIsIHJldHJ5TGFuZSkge1xuICAgICAgZmliZXIgPSBmaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKG51bGwgIT09IGZpYmVyICYmIG51bGwgIT09IGZpYmVyLmRlaHlkcmF0ZWQpIHtcbiAgICAgICAgdmFyIGEgPSBmaWJlci5yZXRyeUxhbmU7XG4gICAgICAgIGZpYmVyLnJldHJ5TGFuZSA9IDAgIT09IGEgJiYgYSA8IHJldHJ5TGFuZSA/IGEgOiByZXRyeUxhbmU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSZXRyeUxhbmVJZk5vdEh5ZHJhdGVkKGZpYmVyLCByZXRyeUxhbmUpIHtcbiAgICAgIG1hcmtSZXRyeUxhbmVJbXBsKGZpYmVyLCByZXRyeUxhbmUpO1xuICAgICAgKGZpYmVyID0gZmliZXIuYWx0ZXJuYXRlKSAmJiBtYXJrUmV0cnlMYW5lSW1wbChmaWJlciwgcmV0cnlMYW5lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdENvbnRpbnVvdXNIeWRyYXRpb24oZmliZXIpIHtcbiAgICAgIGlmICgxMyA9PT0gZmliZXIudGFnKSB7XG4gICAgICAgIHZhciByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCA2NzEwODg2NCk7XG4gICAgICAgIG51bGwgIT09IHJvb3QgJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCA2NzEwODg2NCk7XG4gICAgICAgIG1hcmtSZXRyeUxhbmVJZk5vdEh5ZHJhdGVkKGZpYmVyLCA2NzEwODg2NCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlckZvckRldlRvb2xzKCkge1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExhbmVMYWJlbE1hcCgpIHtcbiAgICAgIGZvciAodmFyIG1hcCA9IG5ldyBNYXAoKSwgbGFuZSA9IDEsIGluZGV4ID0gMDsgMzEgPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgbGFiZWwgPSBnZXRMYWJlbEZvckxhbmUobGFuZSk7XG4gICAgICAgIG1hcC5zZXQobGFuZSwgbGFiZWwpO1xuICAgICAgICBsYW5lICo9IDI7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaERpc2NyZXRlRXZlbnQoXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgY29udGFpbmVyLFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApIHtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQ7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gbnVsbDtcbiAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5ID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gRGlzY3JldGVFdmVudFByaW9yaXR5KSxcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50KGRvbUV2ZW50TmFtZSwgZXZlbnRTeXN0ZW1GbGFncywgY29udGFpbmVyLCBuYXRpdmVFdmVudCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzUHJpb3JpdHkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaENvbnRpbnVvdXNFdmVudChcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICBjb250YWluZXIsXG4gICAgICBuYXRpdmVFdmVudFxuICAgICkge1xuICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBudWxsO1xuICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgdHJ5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBDb250aW51b3VzRXZlbnRQcmlvcml0eSksXG4gICAgICAgICAgZGlzcGF0Y2hFdmVudChkb21FdmVudE5hbWUsIGV2ZW50U3lzdGVtRmxhZ3MsIGNvbnRhaW5lciwgbmF0aXZlRXZlbnQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmV2aW91c1ByaW9yaXR5KSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICBuYXRpdmVFdmVudFxuICAgICkge1xuICAgICAgaWYgKF9lbmFibGVkKSB7XG4gICAgICAgIHZhciBibG9ja2VkT24gPSBmaW5kSW5zdGFuY2VCbG9ja2luZ0V2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgaWYgKG51bGwgPT09IGJsb2NrZWRPbilcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50Rm9yUGx1Z2luRXZlbnRTeXN0ZW0oXG4gICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICByZXR1cm5fdGFyZ2V0SW5zdCxcbiAgICAgICAgICAgIHRhcmdldENvbnRhaW5lclxuICAgICAgICAgICksXG4gICAgICAgICAgICBjbGVhcklmQ29udGludW91c0V2ZW50KGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICBxdWV1ZUlmQ29udGludW91c0V2ZW50KFxuICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgICAgbmF0aXZlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIChjbGVhcklmQ29udGludW91c0V2ZW50KGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpLFxuICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICAtMSA8IGRpc2NyZXRlUmVwbGF5YWJsZUV2ZW50cy5pbmRleE9mKGRvbUV2ZW50TmFtZSkpXG4gICAgICAgICkge1xuICAgICAgICAgIGZvciAoOyBudWxsICE9PSBibG9ja2VkT247ICkge1xuICAgICAgICAgICAgdmFyIGZpYmVyID0gZ2V0SW5zdGFuY2VGcm9tTm9kZShibG9ja2VkT24pO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGZpYmVyKVxuICAgICAgICAgICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgIGZpYmVyID0gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICAgICAgaWYgKGZpYmVyLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMoZmliZXIucGVuZGluZ0xhbmVzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKDAgIT09IGxhbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIHJvb3QgPSBmaWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICByb290LnBlbmRpbmdMYW5lcyB8PSAyO1xuICAgICAgICAgICAgICAgICAgICAgIGZvciAocm9vdC5lbnRhbmdsZWRMYW5lcyB8PSAyOyBsYW5lczsgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFuZSA9IDEgPDwgKDMxIC0gY2x6MzIobGFuZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QuZW50YW5nbGVtZW50c1sxXSB8PSBsYW5lO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZXMgJj0gfmxhbmU7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChmaWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIE5vQ29udGV4dCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJUYXJnZXRUaW1lID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbm93JDEoKSArIFJFTkRFUl9USU1FT1VUX01TKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKDAsICExKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAocm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSByb290ICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgMiksXG4gICAgICAgICAgICAgICAgICAgIGZsdXNoU3luY1dvcmskMSgpLFxuICAgICAgICAgICAgICAgICAgICBtYXJrUmV0cnlMYW5lSWZOb3RIeWRyYXRlZChmaWJlciwgMik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpYmVyID0gZmluZEluc3RhbmNlQmxvY2tpbmdFdmVudChuYXRpdmVFdmVudCk7XG4gICAgICAgICAgICBudWxsID09PSBmaWJlciAmJlxuICAgICAgICAgICAgICBkaXNwYXRjaEV2ZW50Rm9yUGx1Z2luRXZlbnRTeXN0ZW0oXG4gICAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgcmV0dXJuX3RhcmdldEluc3QsXG4gICAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZmliZXIgPT09IGJsb2NrZWRPbikgYnJlYWs7XG4gICAgICAgICAgICBibG9ja2VkT24gPSBmaWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbnVsbCAhPT0gYmxvY2tlZE9uICYmIG5hdGl2ZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50Rm9yUGx1Z2luRXZlbnRTeXN0ZW0oXG4gICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEluc3RhbmNlQmxvY2tpbmdFdmVudChuYXRpdmVFdmVudCkge1xuICAgICAgbmF0aXZlRXZlbnQgPSBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudCk7XG4gICAgICByZXR1cm4gZmluZEluc3RhbmNlQmxvY2tpbmdUYXJnZXQobmF0aXZlRXZlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kSW5zdGFuY2VCbG9ja2luZ1RhcmdldCh0YXJnZXROb2RlKSB7XG4gICAgICByZXR1cm5fdGFyZ2V0SW5zdCA9IG51bGw7XG4gICAgICB0YXJnZXROb2RlID0gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUodGFyZ2V0Tm9kZSk7XG4gICAgICBpZiAobnVsbCAhPT0gdGFyZ2V0Tm9kZSkge1xuICAgICAgICB2YXIgbmVhcmVzdE1vdW50ZWQgPSBnZXROZWFyZXN0TW91bnRlZEZpYmVyKHRhcmdldE5vZGUpO1xuICAgICAgICBpZiAobnVsbCA9PT0gbmVhcmVzdE1vdW50ZWQpIHRhcmdldE5vZGUgPSBudWxsO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgdGFnID0gbmVhcmVzdE1vdW50ZWQudGFnO1xuICAgICAgICAgIGlmICgxMyA9PT0gdGFnKSB7XG4gICAgICAgICAgICB0YXJnZXROb2RlID0gZ2V0U3VzcGVuc2VJbnN0YW5jZUZyb21GaWJlcihuZWFyZXN0TW91bnRlZCk7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gdGFyZ2V0Tm9kZSkgcmV0dXJuIHRhcmdldE5vZGU7XG4gICAgICAgICAgICB0YXJnZXROb2RlID0gbnVsbDtcbiAgICAgICAgICB9IGVsc2UgaWYgKDMgPT09IHRhZykge1xuICAgICAgICAgICAgaWYgKG5lYXJlc3RNb3VudGVkLnN0YXRlTm9kZS5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkKVxuICAgICAgICAgICAgICByZXR1cm4gMyA9PT0gbmVhcmVzdE1vdW50ZWQudGFnXG4gICAgICAgICAgICAgICAgPyBuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIHRhcmdldE5vZGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSBuZWFyZXN0TW91bnRlZCAhPT0gdGFyZ2V0Tm9kZSAmJiAodGFyZ2V0Tm9kZSA9IG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm5fdGFyZ2V0SW5zdCA9IHRhcmdldE5vZGU7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRQcmlvcml0eShkb21FdmVudE5hbWUpIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJiZWZvcmV0b2dnbGVcIjpcbiAgICAgICAgY2FzZSBcImNhbmNlbFwiOlxuICAgICAgICBjYXNlIFwiY2xpY2tcIjpcbiAgICAgICAgY2FzZSBcImNsb3NlXCI6XG4gICAgICAgIGNhc2UgXCJjb250ZXh0bWVudVwiOlxuICAgICAgICBjYXNlIFwiY29weVwiOlxuICAgICAgICBjYXNlIFwiY3V0XCI6XG4gICAgICAgIGNhc2UgXCJhdXhjbGlja1wiOlxuICAgICAgICBjYXNlIFwiZGJsY2xpY2tcIjpcbiAgICAgICAgY2FzZSBcImRyYWdlbmRcIjpcbiAgICAgICAgY2FzZSBcImRyYWdzdGFydFwiOlxuICAgICAgICBjYXNlIFwiZHJvcFwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNvdXRcIjpcbiAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgIGNhc2UgXCJpbnZhbGlkXCI6XG4gICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XG4gICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxuICAgICAgICBjYXNlIFwia2V5dXBcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlZG93blwiOlxuICAgICAgICBjYXNlIFwibW91c2V1cFwiOlxuICAgICAgICBjYXNlIFwicGFzdGVcIjpcbiAgICAgICAgY2FzZSBcInBhdXNlXCI6XG4gICAgICAgIGNhc2UgXCJwbGF5XCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVyY2FuY2VsXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVyZG93blwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcnVwXCI6XG4gICAgICAgIGNhc2UgXCJyYXRlY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJyZXNldFwiOlxuICAgICAgICBjYXNlIFwicmVzaXplXCI6XG4gICAgICAgIGNhc2UgXCJzZWVrZWRcIjpcbiAgICAgICAgY2FzZSBcInN1Ym1pdFwiOlxuICAgICAgICBjYXNlIFwidG9nZ2xlXCI6XG4gICAgICAgIGNhc2UgXCJ0b3VjaGNhbmNlbFwiOlxuICAgICAgICBjYXNlIFwidG91Y2hlbmRcIjpcbiAgICAgICAgY2FzZSBcInRvdWNoc3RhcnRcIjpcbiAgICAgICAgY2FzZSBcInZvbHVtZWNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwiY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJzZWxlY3Rpb25jaGFuZ2VcIjpcbiAgICAgICAgY2FzZSBcInRleHRJbnB1dFwiOlxuICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25zdGFydFwiOlxuICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpcbiAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9udXBkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJiZWZvcmVibHVyXCI6XG4gICAgICAgIGNhc2UgXCJhZnRlcmJsdXJcIjpcbiAgICAgICAgY2FzZSBcImJlZm9yZWlucHV0XCI6XG4gICAgICAgIGNhc2UgXCJibHVyXCI6XG4gICAgICAgIGNhc2UgXCJmdWxsc2NyZWVuY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJmb2N1c1wiOlxuICAgICAgICBjYXNlIFwiaGFzaGNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwicG9wc3RhdGVcIjpcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICBjYXNlIFwic2VsZWN0c3RhcnRcIjpcbiAgICAgICAgICByZXR1cm4gRGlzY3JldGVFdmVudFByaW9yaXR5O1xuICAgICAgICBjYXNlIFwiZHJhZ1wiOlxuICAgICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnZXhpdFwiOlxuICAgICAgICBjYXNlIFwiZHJhZ2xlYXZlXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnb3ZlclwiOlxuICAgICAgICBjYXNlIFwibW91c2Vtb3ZlXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZW91dFwiOlxuICAgICAgICBjYXNlIFwibW91c2VvdmVyXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVybW92ZVwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcm91dFwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjpcbiAgICAgICAgY2FzZSBcInNjcm9sbFwiOlxuICAgICAgICBjYXNlIFwidG91Y2htb3ZlXCI6XG4gICAgICAgIGNhc2UgXCJ3aGVlbFwiOlxuICAgICAgICBjYXNlIFwibW91c2VlbnRlclwiOlxuICAgICAgICBjYXNlIFwibW91c2VsZWF2ZVwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcmVudGVyXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVybGVhdmVcIjpcbiAgICAgICAgICByZXR1cm4gQ29udGludW91c0V2ZW50UHJpb3JpdHk7XG4gICAgICAgIGNhc2UgXCJtZXNzYWdlXCI6XG4gICAgICAgICAgc3dpdGNoIChnZXRDdXJyZW50UHJpb3JpdHlMZXZlbCgpKSB7XG4gICAgICAgICAgICBjYXNlIEltbWVkaWF0ZVByaW9yaXR5OlxuICAgICAgICAgICAgICByZXR1cm4gRGlzY3JldGVFdmVudFByaW9yaXR5O1xuICAgICAgICAgICAgY2FzZSBVc2VyQmxvY2tpbmdQcmlvcml0eTpcbiAgICAgICAgICAgICAgcmV0dXJuIENvbnRpbnVvdXNFdmVudFByaW9yaXR5O1xuICAgICAgICAgICAgY2FzZSBOb3JtYWxQcmlvcml0eSQxOlxuICAgICAgICAgICAgY2FzZSBMb3dQcmlvcml0eTpcbiAgICAgICAgICAgICAgcmV0dXJuIERlZmF1bHRFdmVudFByaW9yaXR5O1xuICAgICAgICAgICAgY2FzZSBJZGxlUHJpb3JpdHk6XG4gICAgICAgICAgICAgIHJldHVybiBJZGxlRXZlbnRQcmlvcml0eTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBEZWZhdWx0RXZlbnRQcmlvcml0eTtcbiAgICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIERlZmF1bHRFdmVudFByaW9yaXR5O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhcklmQ29udGludW91c0V2ZW50KGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxuICAgICAgICAgIHF1ZXVlZEZvY3VzID0gbnVsbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgICBjYXNlIFwiZHJhZ2xlYXZlXCI6XG4gICAgICAgICAgcXVldWVkRHJhZyA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtb3VzZW92ZXJcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlb3V0XCI6XG4gICAgICAgICAgcXVldWVkTW91c2UgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdXRcIjpcbiAgICAgICAgICBxdWV1ZWRQb2ludGVycy5kZWxldGUobmF0aXZlRXZlbnQucG9pbnRlcklkKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImdvdHBvaW50ZXJjYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJsb3N0cG9pbnRlcmNhcHR1cmVcIjpcbiAgICAgICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMuZGVsZXRlKG5hdGl2ZUV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICBleGlzdGluZ1F1ZXVlZEV2ZW50LFxuICAgICAgYmxvY2tlZE9uLFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgPT09IGV4aXN0aW5nUXVldWVkRXZlbnQgfHxcbiAgICAgICAgZXhpc3RpbmdRdWV1ZWRFdmVudC5uYXRpdmVFdmVudCAhPT0gbmF0aXZlRXZlbnRcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoZXhpc3RpbmdRdWV1ZWRFdmVudCA9IHtcbiAgICAgICAgICAgIGJsb2NrZWRPbjogYmxvY2tlZE9uLFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lOiBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzOiBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyczogW3RhcmdldENvbnRhaW5lcl1cbiAgICAgICAgICB9KSxcbiAgICAgICAgICBudWxsICE9PSBibG9ja2VkT24gJiZcbiAgICAgICAgICAgICgoYmxvY2tlZE9uID0gZ2V0SW5zdGFuY2VGcm9tTm9kZShibG9ja2VkT24pKSxcbiAgICAgICAgICAgIG51bGwgIT09IGJsb2NrZWRPbiAmJiBhdHRlbXB0Q29udGludW91c0h5ZHJhdGlvbihibG9ja2VkT24pKSxcbiAgICAgICAgICBleGlzdGluZ1F1ZXVlZEV2ZW50XG4gICAgICAgICk7XG4gICAgICBleGlzdGluZ1F1ZXVlZEV2ZW50LmV2ZW50U3lzdGVtRmxhZ3MgfD0gZXZlbnRTeXN0ZW1GbGFncztcbiAgICAgIGJsb2NrZWRPbiA9IGV4aXN0aW5nUXVldWVkRXZlbnQudGFyZ2V0Q29udGFpbmVycztcbiAgICAgIG51bGwgIT09IHRhcmdldENvbnRhaW5lciAmJlxuICAgICAgICAtMSA9PT0gYmxvY2tlZE9uLmluZGV4T2YodGFyZ2V0Q29udGFpbmVyKSAmJlxuICAgICAgICBibG9ja2VkT24ucHVzaCh0YXJnZXRDb250YWluZXIpO1xuICAgICAgcmV0dXJuIGV4aXN0aW5nUXVldWVkRXZlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHF1ZXVlSWZDb250aW51b3VzRXZlbnQoXG4gICAgICBibG9ja2VkT24sXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApIHtcbiAgICAgIHN3aXRjaCAoZG9tRXZlbnROYW1lKSB7XG4gICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChxdWV1ZWRGb2N1cyA9IGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICAgICAgICAgIHF1ZXVlZEZvY3VzLFxuICAgICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJkcmFnZW50ZXJcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHF1ZXVlZERyYWcgPSBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgICAgICAgICBxdWV1ZWREcmFnLFxuICAgICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgXCJtb3VzZW92ZXJcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHF1ZXVlZE1vdXNlID0gYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChcbiAgICAgICAgICAgICAgcXVldWVkTW91c2UsXG4gICAgICAgICAgICAgIGJsb2NrZWRPbixcbiAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcInBvaW50ZXJvdmVyXCI6XG4gICAgICAgICAgdmFyIHBvaW50ZXJJZCA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJJZDtcbiAgICAgICAgICBxdWV1ZWRQb2ludGVycy5zZXQoXG4gICAgICAgICAgICBwb2ludGVySWQsXG4gICAgICAgICAgICBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgICAgICAgICBxdWV1ZWRQb2ludGVycy5nZXQocG9pbnRlcklkKSB8fCBudWxsLFxuICAgICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICBjYXNlIFwiZ290cG9pbnRlcmNhcHR1cmVcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHBvaW50ZXJJZCA9IG5hdGl2ZUV2ZW50LnBvaW50ZXJJZCksXG4gICAgICAgICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMuc2V0KFxuICAgICAgICAgICAgICBwb2ludGVySWQsXG4gICAgICAgICAgICAgIGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICAgICAgICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzLmdldChwb2ludGVySWQpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQocXVldWVkVGFyZ2V0KSB7XG4gICAgICB2YXIgdGFyZ2V0SW5zdCA9IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHF1ZXVlZFRhcmdldC50YXJnZXQpO1xuICAgICAgaWYgKG51bGwgIT09IHRhcmdldEluc3QpIHtcbiAgICAgICAgdmFyIG5lYXJlc3RNb3VudGVkID0gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcih0YXJnZXRJbnN0KTtcbiAgICAgICAgaWYgKG51bGwgIT09IG5lYXJlc3RNb3VudGVkKVxuICAgICAgICAgIGlmICgoKHRhcmdldEluc3QgPSBuZWFyZXN0TW91bnRlZC50YWcpLCAxMyA9PT0gdGFyZ2V0SW5zdCkpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKCh0YXJnZXRJbnN0ID0gZ2V0U3VzcGVuc2VJbnN0YW5jZUZyb21GaWJlcihuZWFyZXN0TW91bnRlZCkpLFxuICAgICAgICAgICAgICBudWxsICE9PSB0YXJnZXRJbnN0KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHF1ZXVlZFRhcmdldC5ibG9ja2VkT24gPSB0YXJnZXRJbnN0O1xuICAgICAgICAgICAgICBydW5XaXRoUHJpb3JpdHkocXVldWVkVGFyZ2V0LnByaW9yaXR5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKDEzID09PSBuZWFyZXN0TW91bnRlZC50YWcpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBsYW5lID0gcmVxdWVzdFVwZGF0ZUxhbmUobmVhcmVzdE1vdW50ZWQpLFxuICAgICAgICAgICAgICAgICAgICByb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKG5lYXJlc3RNb3VudGVkLCBsYW5lKTtcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IHJvb3QgJiZcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIG5lYXJlc3RNb3VudGVkLCBsYW5lKTtcbiAgICAgICAgICAgICAgICAgIG1hcmtSZXRyeUxhbmVJZk5vdEh5ZHJhdGVkKG5lYXJlc3RNb3VudGVkLCBsYW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgIDMgPT09IHRhcmdldEluc3QgJiZcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkLnN0YXRlTm9kZS5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID1cbiAgICAgICAgICAgICAgMyA9PT0gbmVhcmVzdE1vdW50ZWQudGFnXG4gICAgICAgICAgICAgICAgPyBuZWFyZXN0TW91bnRlZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWRFdmVudCkge1xuICAgICAgaWYgKG51bGwgIT09IHF1ZXVlZEV2ZW50LmJsb2NrZWRPbikgcmV0dXJuICExO1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIHRhcmdldENvbnRhaW5lcnMgPSBxdWV1ZWRFdmVudC50YXJnZXRDb250YWluZXJzO1xuICAgICAgICAwIDwgdGFyZ2V0Q29udGFpbmVycy5sZW5ndGg7XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgbmV4dEJsb2NrZWRPbiA9IGZpbmRJbnN0YW5jZUJsb2NraW5nRXZlbnQocXVldWVkRXZlbnQubmF0aXZlRXZlbnQpO1xuICAgICAgICBpZiAobnVsbCA9PT0gbmV4dEJsb2NrZWRPbikge1xuICAgICAgICAgIG5leHRCbG9ja2VkT24gPSBxdWV1ZWRFdmVudC5uYXRpdmVFdmVudDtcbiAgICAgICAgICB2YXIgbmF0aXZlRXZlbnRDbG9uZSA9IG5ldyBuZXh0QmxvY2tlZE9uLmNvbnN0cnVjdG9yKFxuICAgICAgICAgICAgICBuZXh0QmxvY2tlZE9uLnR5cGUsXG4gICAgICAgICAgICAgIG5leHRCbG9ja2VkT25cbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBldmVudCA9IG5hdGl2ZUV2ZW50Q2xvbmU7XG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudFJlcGxheWluZ0V2ZW50ICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIGN1cnJlbnRseSByZXBsYXlpbmcgZXZlbnQgdG8gYmUgbnVsbC4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjdXJyZW50UmVwbGF5aW5nRXZlbnQgPSBldmVudDtcbiAgICAgICAgICBuZXh0QmxvY2tlZE9uLnRhcmdldC5kaXNwYXRjaEV2ZW50KG5hdGl2ZUV2ZW50Q2xvbmUpO1xuICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRSZXBsYXlpbmdFdmVudCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCBjdXJyZW50bHkgcmVwbGF5aW5nIGV2ZW50IHRvIG5vdCBiZSBudWxsLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGN1cnJlbnRSZXBsYXlpbmdFdmVudCA9IG51bGw7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAodGFyZ2V0Q29udGFpbmVycyA9IGdldEluc3RhbmNlRnJvbU5vZGUobmV4dEJsb2NrZWRPbikpLFxuICAgICAgICAgICAgbnVsbCAhPT0gdGFyZ2V0Q29udGFpbmVycyAmJlxuICAgICAgICAgICAgICBhdHRlbXB0Q29udGludW91c0h5ZHJhdGlvbih0YXJnZXRDb250YWluZXJzKSxcbiAgICAgICAgICAgIChxdWV1ZWRFdmVudC5ibG9ja2VkT24gPSBuZXh0QmxvY2tlZE9uKSxcbiAgICAgICAgICAgICExXG4gICAgICAgICAgKTtcbiAgICAgICAgdGFyZ2V0Q29udGFpbmVycy5zaGlmdCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50SW5NYXAocXVldWVkRXZlbnQsIGtleSwgbWFwKSB7XG4gICAgICBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZEV2ZW50KSAmJiBtYXAuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcGxheVVuYmxvY2tlZEV2ZW50cygpIHtcbiAgICAgIGhhc1NjaGVkdWxlZFJlcGxheUF0dGVtcHQgPSAhMTtcbiAgICAgIG51bGwgIT09IHF1ZXVlZEZvY3VzICYmXG4gICAgICAgIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQocXVldWVkRm9jdXMpICYmXG4gICAgICAgIChxdWV1ZWRGb2N1cyA9IG51bGwpO1xuICAgICAgbnVsbCAhPT0gcXVldWVkRHJhZyAmJlxuICAgICAgICBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZERyYWcpICYmXG4gICAgICAgIChxdWV1ZWREcmFnID0gbnVsbCk7XG4gICAgICBudWxsICE9PSBxdWV1ZWRNb3VzZSAmJlxuICAgICAgICBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZE1vdXNlKSAmJlxuICAgICAgICAocXVldWVkTW91c2UgPSBudWxsKTtcbiAgICAgIHF1ZXVlZFBvaW50ZXJzLmZvckVhY2goYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudEluTWFwKTtcbiAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcy5mb3JFYWNoKGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnRJbk1hcCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWRFdmVudCwgdW5ibG9ja2VkKSB7XG4gICAgICBxdWV1ZWRFdmVudC5ibG9ja2VkT24gPT09IHVuYmxvY2tlZCAmJlxuICAgICAgICAoKHF1ZXVlZEV2ZW50LmJsb2NrZWRPbiA9IG51bGwpLFxuICAgICAgICBoYXNTY2hlZHVsZWRSZXBsYXlBdHRlbXB0IHx8XG4gICAgICAgICAgKChoYXNTY2hlZHVsZWRSZXBsYXlBdHRlbXB0ID0gITApLFxuICAgICAgICAgIFNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrKFxuICAgICAgICAgICAgU2NoZWR1bGVyLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LFxuICAgICAgICAgICAgcmVwbGF5VW5ibG9ja2VkRXZlbnRzXG4gICAgICAgICAgKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVJlcGxheVF1ZXVlSWZOZWVkZWQoZm9ybVJlcGxheWluZ1F1ZXVlKSB7XG4gICAgICBsYXN0U2NoZWR1bGVkUmVwbGF5UXVldWUgIT09IGZvcm1SZXBsYXlpbmdRdWV1ZSAmJlxuICAgICAgICAoKGxhc3RTY2hlZHVsZWRSZXBsYXlRdWV1ZSA9IGZvcm1SZXBsYXlpbmdRdWV1ZSksXG4gICAgICAgIFNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrKFxuICAgICAgICAgIFNjaGVkdWxlci51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsYXN0U2NoZWR1bGVkUmVwbGF5UXVldWUgPT09IGZvcm1SZXBsYXlpbmdRdWV1ZSAmJlxuICAgICAgICAgICAgICAobGFzdFNjaGVkdWxlZFJlcGxheVF1ZXVlID0gbnVsbCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcm1SZXBsYXlpbmdRdWV1ZS5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgICB2YXIgZm9ybSA9IGZvcm1SZXBsYXlpbmdRdWV1ZVtpXSxcbiAgICAgICAgICAgICAgICBzdWJtaXR0ZXJPckFjdGlvbiA9IGZvcm1SZXBsYXlpbmdRdWV1ZVtpICsgMV0sXG4gICAgICAgICAgICAgICAgZm9ybURhdGEgPSBmb3JtUmVwbGF5aW5nUXVldWVbaSArIDJdO1xuICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2Ygc3VibWl0dGVyT3JBY3Rpb24pXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gZmluZEluc3RhbmNlQmxvY2tpbmdUYXJnZXQoc3VibWl0dGVyT3JBY3Rpb24gfHwgZm9ybSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgICAgICAgICB2YXIgZm9ybUluc3QgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKGZvcm0pO1xuICAgICAgICAgICAgICBudWxsICE9PSBmb3JtSW5zdCAmJlxuICAgICAgICAgICAgICAgIChmb3JtUmVwbGF5aW5nUXVldWUuc3BsaWNlKGksIDMpLFxuICAgICAgICAgICAgICAgIChpIC09IDMpLFxuICAgICAgICAgICAgICAgIChmb3JtID0ge1xuICAgICAgICAgICAgICAgICAgcGVuZGluZzogITAsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZDogZm9ybS5tZXRob2QsXG4gICAgICAgICAgICAgICAgICBhY3Rpb246IHN1Ym1pdHRlck9yQWN0aW9uXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShmb3JtKSxcbiAgICAgICAgICAgICAgICBzdGFydEhvc3RUcmFuc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgZm9ybUluc3QsXG4gICAgICAgICAgICAgICAgICBmb3JtLFxuICAgICAgICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24sXG4gICAgICAgICAgICAgICAgICBmb3JtRGF0YVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldHJ5SWZCbG9ja2VkT24odW5ibG9ja2VkKSB7XG4gICAgICBmdW5jdGlvbiB1bmJsb2NrKHF1ZXVlZEV2ZW50KSB7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkRXZlbnQsIHVuYmxvY2tlZCk7XG4gICAgICB9XG4gICAgICBudWxsICE9PSBxdWV1ZWRGb2N1cyAmJlxuICAgICAgICBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkRm9jdXMsIHVuYmxvY2tlZCk7XG4gICAgICBudWxsICE9PSBxdWV1ZWREcmFnICYmIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWREcmFnLCB1bmJsb2NrZWQpO1xuICAgICAgbnVsbCAhPT0gcXVldWVkTW91c2UgJiZcbiAgICAgICAgc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZE1vdXNlLCB1bmJsb2NrZWQpO1xuICAgICAgcXVldWVkUG9pbnRlcnMuZm9yRWFjaCh1bmJsb2NrKTtcbiAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcy5mb3JFYWNoKHVuYmxvY2spO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHF1ZXVlZFRhcmdldCA9IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0c1tpXTtcbiAgICAgICAgcXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9PT0gdW5ibG9ja2VkICYmIChxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID0gbnVsbCk7XG4gICAgICB9XG4gICAgICBmb3IgKFxuICAgICAgICA7XG4gICAgICAgIDAgPCBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMubGVuZ3RoICYmXG4gICAgICAgICgoaSA9IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0c1swXSksIG51bGwgPT09IGkuYmxvY2tlZE9uKTtcblxuICAgICAgKVxuICAgICAgICBhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQoaSksXG4gICAgICAgICAgbnVsbCA9PT0gaS5ibG9ja2VkT24gJiYgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLnNoaWZ0KCk7XG4gICAgICBpID0gKHVuYmxvY2tlZC5vd25lckRvY3VtZW50IHx8IHVuYmxvY2tlZCkuJCRyZWFjdEZvcm1SZXBsYXk7XG4gICAgICBpZiAobnVsbCAhPSBpKVxuICAgICAgICBmb3IgKHF1ZXVlZFRhcmdldCA9IDA7IHF1ZXVlZFRhcmdldCA8IGkubGVuZ3RoOyBxdWV1ZWRUYXJnZXQgKz0gMykge1xuICAgICAgICAgIHZhciBmb3JtID0gaVtxdWV1ZWRUYXJnZXRdLFxuICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24gPSBpW3F1ZXVlZFRhcmdldCArIDFdLFxuICAgICAgICAgICAgZm9ybVByb3BzID0gZm9ybVtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsO1xuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzdWJtaXR0ZXJPckFjdGlvbilcbiAgICAgICAgICAgIGZvcm1Qcm9wcyB8fCBzY2hlZHVsZVJlcGxheVF1ZXVlSWZOZWVkZWQoaSk7XG4gICAgICAgICAgZWxzZSBpZiAoZm9ybVByb3BzKSB7XG4gICAgICAgICAgICB2YXIgYWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24gJiZcbiAgICAgICAgICAgICAgc3VibWl0dGVyT3JBY3Rpb24uaGFzQXR0cmlidXRlKFwiZm9ybUFjdGlvblwiKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKChmb3JtID0gc3VibWl0dGVyT3JBY3Rpb24pLFxuICAgICAgICAgICAgICAgIChmb3JtUHJvcHMgPSBzdWJtaXR0ZXJPckFjdGlvbltpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsKSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGFjdGlvbiA9IGZvcm1Qcm9wcy5mb3JtQWN0aW9uO1xuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gZmluZEluc3RhbmNlQmxvY2tpbmdUYXJnZXQoZm9ybSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGFjdGlvbiA9IGZvcm1Qcm9wcy5hY3Rpb247XG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBhY3Rpb25cbiAgICAgICAgICAgICAgPyAoaVtxdWV1ZWRUYXJnZXQgKyAxXSA9IGFjdGlvbilcbiAgICAgICAgICAgICAgOiAoaS5zcGxpY2UocXVldWVkVGFyZ2V0LCAzKSwgKHF1ZXVlZFRhcmdldCAtPSAzKSk7XG4gICAgICAgICAgICBzY2hlZHVsZVJlcGxheVF1ZXVlSWZOZWVkZWQoaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RE9NUm9vdChpbnRlcm5hbFJvb3QpIHtcbiAgICAgIHRoaXMuX2ludGVybmFsUm9vdCA9IGludGVybmFsUm9vdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RET01IeWRyYXRpb25Sb290KGludGVybmFsUm9vdCkge1xuICAgICAgdGhpcy5faW50ZXJuYWxSb290ID0gaW50ZXJuYWxSb290O1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSWZSZWFjdERPTUNvbnRhaW5lckluREVWKGNvbnRhaW5lcikge1xuICAgICAgY29udGFpbmVyW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldICYmXG4gICAgICAgIChjb250YWluZXIuX3JlYWN0Um9vdENvbnRhaW5lclxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgYXJlIGNhbGxpbmcgUmVhY3RET01DbGllbnQuY3JlYXRlUm9vdCgpIG9uIGEgY29udGFpbmVyIHRoYXQgd2FzIHByZXZpb3VzbHkgcGFzc2VkIHRvIFJlYWN0RE9NLnJlbmRlcigpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IGFyZSBjYWxsaW5nIFJlYWN0RE9NQ2xpZW50LmNyZWF0ZVJvb3QoKSBvbiBhIGNvbnRhaW5lciB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gcGFzc2VkIHRvIGNyZWF0ZVJvb3QoKSBiZWZvcmUuIEluc3RlYWQsIGNhbGwgcm9vdC5yZW5kZXIoKSBvbiB0aGUgZXhpc3Rpbmcgcm9vdCBpbnN0ZWFkIGlmIHlvdSB3YW50IHRvIHVwZGF0ZSBpdC5cIlxuICAgICAgICAgICAgKSk7XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgdmFyIFNjaGVkdWxlciA9IHJlcXVpcmUoXCJzY2hlZHVsZXJcIiksXG4gICAgICBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKSxcbiAgICAgIFJlYWN0RE9NID0gcmVxdWlyZShcInJlYWN0LWRvbVwiKSxcbiAgICAgIFJFQUNUX0xFR0FDWV9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKSxcbiAgICAgIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIiksXG4gICAgICBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3Quc2NvcGVcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LmRlYnVnX3RyYWNlX21vZGVcIik7XG4gICAgdmFyIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3QubGVnYWN5X2hpZGRlblwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3QudHJhY2luZ19tYXJrZXJcIik7XG4gICAgdmFyIFJFQUNUX01FTU9fQ0FDSEVfU0VOVElORUwgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSxcbiAgICAgIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcixcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzID1cbiAgICAgICAgUmVhY3QuX19DTElFTlRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFLFxuICAgICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbixcbiAgICAgIGRpc2FibGVkRGVwdGggPSAwLFxuICAgICAgcHJldkxvZyxcbiAgICAgIHByZXZJbmZvLFxuICAgICAgcHJldldhcm4sXG4gICAgICBwcmV2RXJyb3IsXG4gICAgICBwcmV2R3JvdXAsXG4gICAgICBwcmV2R3JvdXBDb2xsYXBzZWQsXG4gICAgICBwcmV2R3JvdXBFbmQ7XG4gICAgZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gITA7XG4gICAgdmFyIHByZWZpeCxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIHJlZW50cnkgPSAhMTtcbiAgICB2YXIgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyAoXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrTWFwID8gV2Vha01hcCA6IE1hcFxuICAgICkoKTtcbiAgICB2YXIgY3VycmVudCA9IG51bGwsXG4gICAgICBpc1JlbmRlcmluZyA9ICExLFxuICAgICAgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5LFxuICAgICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdERPTS5fX0RPTV9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBOb3RQZW5kaW5nID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIHBlbmRpbmc6ICExLFxuICAgICAgICBkYXRhOiBudWxsLFxuICAgICAgICBtZXRob2Q6IG51bGwsXG4gICAgICAgIGFjdGlvbjogbnVsbFxuICAgICAgfSksXG4gICAgICB2YWx1ZVN0YWNrID0gW107XG4gICAgdmFyIGZpYmVyU3RhY2sgPSBbXTtcbiAgICB2YXIgaW5kZXgkanNjb21wJDAgPSAtMSxcbiAgICAgIGNvbnRleHRTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgcm9vdEluc3RhbmNlU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBob3N0VHJhbnNpdGlvblByb3ZpZGVyQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgc2NoZWR1bGVDYWxsYmFjayQzID0gU2NoZWR1bGVyLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2ssXG4gICAgICBjYW5jZWxDYWxsYmFjayQxID0gU2NoZWR1bGVyLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrLFxuICAgICAgc2hvdWxkWWllbGQgPSBTY2hlZHVsZXIudW5zdGFibGVfc2hvdWxkWWllbGQsXG4gICAgICByZXF1ZXN0UGFpbnQgPSBTY2hlZHVsZXIudW5zdGFibGVfcmVxdWVzdFBhaW50LFxuICAgICAgbm93JDEgPSBTY2hlZHVsZXIudW5zdGFibGVfbm93LFxuICAgICAgZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwgPSBTY2hlZHVsZXIudW5zdGFibGVfZ2V0Q3VycmVudFByaW9yaXR5TGV2ZWwsXG4gICAgICBJbW1lZGlhdGVQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9JbW1lZGlhdGVQcmlvcml0eSxcbiAgICAgIFVzZXJCbG9ja2luZ1ByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5LFxuICAgICAgTm9ybWFsUHJpb3JpdHkkMSA9IFNjaGVkdWxlci51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxcbiAgICAgIExvd1ByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX0xvd1ByaW9yaXR5LFxuICAgICAgSWRsZVByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX0lkbGVQcmlvcml0eSxcbiAgICAgIGxvZyQxID0gU2NoZWR1bGVyLmxvZyxcbiAgICAgIHVuc3RhYmxlX3NldERpc2FibGVZaWVsZFZhbHVlID0gU2NoZWR1bGVyLnVuc3RhYmxlX3NldERpc2FibGVZaWVsZFZhbHVlLFxuICAgICAgcmVuZGVyZXJJRCA9IG51bGwsXG4gICAgICBpbmplY3RlZEhvb2sgPSBudWxsLFxuICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcyA9IG51bGwsXG4gICAgICBoYXNMb2dnZWRFcnJvciA9ICExLFxuICAgICAgaXNEZXZUb29sc1ByZXNlbnQgPSBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLFxuICAgICAgY2x6MzIgPSBNYXRoLmNsejMyID8gTWF0aC5jbHozMiA6IGNsejMyRmFsbGJhY2ssXG4gICAgICBsb2cgPSBNYXRoLmxvZyxcbiAgICAgIExOMiA9IE1hdGguTE4yLFxuICAgICAgbmV4dFRyYW5zaXRpb25MYW5lID0gMTI4LFxuICAgICAgbmV4dFJldHJ5TGFuZSA9IDQxOTQzMDQsXG4gICAgICBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkgPSAyLFxuICAgICAgQ29udGludW91c0V2ZW50UHJpb3JpdHkgPSA4LFxuICAgICAgRGVmYXVsdEV2ZW50UHJpb3JpdHkgPSAzMixcbiAgICAgIElkbGVFdmVudFByaW9yaXR5ID0gMjY4NDM1NDU2LFxuICAgICAgcmFuZG9tS2V5ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksXG4gICAgICBpbnRlcm5hbEluc3RhbmNlS2V5ID0gXCJfX3JlYWN0RmliZXIkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbFByb3BzS2V5ID0gXCJfX3JlYWN0UHJvcHMkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5ID0gXCJfX3JlYWN0Q29udGFpbmVyJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxFdmVudEhhbmRsZXJzS2V5ID0gXCJfX3JlYWN0RXZlbnRzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxFdmVudEhhbmRsZXJMaXN0ZW5lcnNLZXkgPSBcIl9fcmVhY3RMaXN0ZW5lcnMkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbEV2ZW50SGFuZGxlc1NldEtleSA9IFwiX19yZWFjdEhhbmRsZXMkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbFJvb3ROb2RlUmVzb3VyY2VzS2V5ID0gXCJfX3JlYWN0UmVzb3VyY2VzJFwiICsgcmFuZG9tS2V5LFxuICAgICAgaW50ZXJuYWxIb2lzdGFibGVNYXJrZXIgPSBcIl9fcmVhY3RNYXJrZXIkXCIgKyByYW5kb21LZXksXG4gICAgICBhbGxOYXRpdmVFdmVudHMgPSBuZXcgU2V0KCksXG4gICAgICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzID0ge30sXG4gICAgICBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzID0ge30sXG4gICAgICBjYW5Vc2VET00gPSAhKFxuICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2Ygd2luZG93IHx8XG4gICAgICAgIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgfHxcbiAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50XG4gICAgICApLFxuICAgICAgaGFzUmVhZE9ubHlWYWx1ZSA9IHtcbiAgICAgICAgYnV0dG9uOiAhMCxcbiAgICAgICAgY2hlY2tib3g6ICEwLFxuICAgICAgICBpbWFnZTogITAsXG4gICAgICAgIGhpZGRlbjogITAsXG4gICAgICAgIHJhZGlvOiAhMCxcbiAgICAgICAgcmVzZXQ6ICEwLFxuICAgICAgICBzdWJtaXQ6ICEwXG4gICAgICB9LFxuICAgICAgVkFMSURfQVRUUklCVVRFX05BTUVfUkVHRVggPSBSZWdFeHAoXG4gICAgICAgIFwiXls6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXVs6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKiRcIlxuICAgICAgKSxcbiAgICAgIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGUgPSB7fSxcbiAgICAgIHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9LFxuICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3Rlc1JlZ2V4ID0gL1tcXG5cIlxcXFxdL2csXG4gICAgICBkaWRXYXJuVmFsdWVEZWZhdWx0VmFsdWUkMSA9ICExLFxuICAgICAgZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9ICExLFxuICAgICAgZGlkV2FyblNlbGVjdGVkU2V0T25PcHRpb24gPSAhMSxcbiAgICAgIGRpZFdhcm5JbnZhbGlkQ2hpbGQgPSAhMSxcbiAgICAgIGRpZFdhcm5JbnZhbGlkSW5uZXJIVE1MID0gITE7XG4gICAgdmFyIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSA9ICExO1xuICAgIHZhciB2YWx1ZVByb3BOYW1lcyA9IFtcInZhbHVlXCIsIFwiZGVmYXVsdFZhbHVlXCJdLFxuICAgICAgZGlkV2FyblZhbERlZmF1bHRWYWwgPSAhMSxcbiAgICAgIG5lZWRzRXNjYXBpbmcgPSAvW1wiJyY8PlxcblxcdF18Xlxcc3xcXHMkLyxcbiAgICAgIHNwZWNpYWxUYWdzID1cbiAgICAgICAgXCJhZGRyZXNzIGFwcGxldCBhcmVhIGFydGljbGUgYXNpZGUgYmFzZSBiYXNlZm9udCBiZ3NvdW5kIGJsb2NrcXVvdGUgYm9keSBiciBidXR0b24gY2FwdGlvbiBjZW50ZXIgY29sIGNvbGdyb3VwIGRkIGRldGFpbHMgZGlyIGRpdiBkbCBkdCBlbWJlZCBmaWVsZHNldCBmaWdjYXB0aW9uIGZpZ3VyZSBmb290ZXIgZm9ybSBmcmFtZSBmcmFtZXNldCBoMSBoMiBoMyBoNCBoNSBoNiBoZWFkIGhlYWRlciBoZ3JvdXAgaHIgaHRtbCBpZnJhbWUgaW1nIGlucHV0IGlzaW5kZXggbGkgbGluayBsaXN0aW5nIG1haW4gbWFycXVlZSBtZW51IG1lbnVpdGVtIG1ldGEgbmF2IG5vZW1iZWQgbm9mcmFtZXMgbm9zY3JpcHQgb2JqZWN0IG9sIHAgcGFyYW0gcGxhaW50ZXh0IHByZSBzY3JpcHQgc2VjdGlvbiBzZWxlY3Qgc291cmNlIHN0eWxlIHN1bW1hcnkgdGFibGUgdGJvZHkgdGQgdGVtcGxhdGUgdGV4dGFyZWEgdGZvb3QgdGggdGhlYWQgdGl0bGUgdHIgdHJhY2sgdWwgd2JyIHhtcFwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICBpblNjb3BlVGFncyA9XG4gICAgICAgIFwiYXBwbGV0IGNhcHRpb24gaHRtbCB0YWJsZSB0ZCB0aCBtYXJxdWVlIG9iamVjdCB0ZW1wbGF0ZSBmb3JlaWduT2JqZWN0IGRlc2MgdGl0bGVcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgYnV0dG9uU2NvcGVUYWdzID0gaW5TY29wZVRhZ3MuY29uY2F0KFtcImJ1dHRvblwiXSksXG4gICAgICBpbXBsaWVkRW5kVGFncyA9IFwiZGQgZHQgbGkgb3B0aW9uIG9wdGdyb3VwIHAgcnAgcnRcIi5zcGxpdChcIiBcIiksXG4gICAgICBlbXB0eUFuY2VzdG9ySW5mb0RldiA9IHtcbiAgICAgICAgY3VycmVudDogbnVsbCxcbiAgICAgICAgZm9ybVRhZzogbnVsbCxcbiAgICAgICAgYVRhZ0luU2NvcGU6IG51bGwsXG4gICAgICAgIGJ1dHRvblRhZ0luU2NvcGU6IG51bGwsXG4gICAgICAgIG5vYnJUYWdJblNjb3BlOiBudWxsLFxuICAgICAgICBwVGFnSW5CdXR0b25TY29wZTogbnVsbCxcbiAgICAgICAgbGlzdEl0ZW1UYWdBdXRvY2xvc2luZzogbnVsbCxcbiAgICAgICAgZGxJdGVtVGFnQXV0b2Nsb3Npbmc6IG51bGwsXG4gICAgICAgIGNvbnRhaW5lclRhZ0luU2NvcGU6IG51bGxcbiAgICAgIH0sXG4gICAgICBkaWRXYXJuID0ge30sXG4gICAgICBNQVRIX05BTUVTUEFDRSA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTFwiLFxuICAgICAgU1ZHX05BTUVTUEFDRSA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICAgIHNob3J0aGFuZFRvTG9uZ2hhbmQgPSB7XG4gICAgICAgIGFuaW1hdGlvbjpcbiAgICAgICAgICBcImFuaW1hdGlvbkRlbGF5IGFuaW1hdGlvbkRpcmVjdGlvbiBhbmltYXRpb25EdXJhdGlvbiBhbmltYXRpb25GaWxsTW9kZSBhbmltYXRpb25JdGVyYXRpb25Db3VudCBhbmltYXRpb25OYW1lIGFuaW1hdGlvblBsYXlTdGF0ZSBhbmltYXRpb25UaW1pbmdGdW5jdGlvblwiLnNwbGl0KFxuICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICApLFxuICAgICAgICBiYWNrZ3JvdW5kOlxuICAgICAgICAgIFwiYmFja2dyb3VuZEF0dGFjaG1lbnQgYmFja2dyb3VuZENsaXAgYmFja2dyb3VuZENvbG9yIGJhY2tncm91bmRJbWFnZSBiYWNrZ3JvdW5kT3JpZ2luIGJhY2tncm91bmRQb3NpdGlvblggYmFja2dyb3VuZFBvc2l0aW9uWSBiYWNrZ3JvdW5kUmVwZWF0IGJhY2tncm91bmRTaXplXCIuc3BsaXQoXG4gICAgICAgICAgICBcIiBcIlxuICAgICAgICAgICksXG4gICAgICAgIGJhY2tncm91bmRQb3NpdGlvbjogW1wiYmFja2dyb3VuZFBvc2l0aW9uWFwiLCBcImJhY2tncm91bmRQb3NpdGlvbllcIl0sXG4gICAgICAgIGJvcmRlcjpcbiAgICAgICAgICBcImJvcmRlckJvdHRvbUNvbG9yIGJvcmRlckJvdHRvbVN0eWxlIGJvcmRlckJvdHRvbVdpZHRoIGJvcmRlckltYWdlT3V0c2V0IGJvcmRlckltYWdlUmVwZWF0IGJvcmRlckltYWdlU2xpY2UgYm9yZGVySW1hZ2VTb3VyY2UgYm9yZGVySW1hZ2VXaWR0aCBib3JkZXJMZWZ0Q29sb3IgYm9yZGVyTGVmdFN0eWxlIGJvcmRlckxlZnRXaWR0aCBib3JkZXJSaWdodENvbG9yIGJvcmRlclJpZ2h0U3R5bGUgYm9yZGVyUmlnaHRXaWR0aCBib3JkZXJUb3BDb2xvciBib3JkZXJUb3BTdHlsZSBib3JkZXJUb3BXaWR0aFwiLnNwbGl0KFxuICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICApLFxuICAgICAgICBib3JkZXJCbG9ja0VuZDogW1xuICAgICAgICAgIFwiYm9yZGVyQmxvY2tFbmRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyQmxvY2tFbmRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyQmxvY2tFbmRXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlckJsb2NrU3RhcnQ6IFtcbiAgICAgICAgICBcImJvcmRlckJsb2NrU3RhcnRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyQmxvY2tTdGFydFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJCbG9ja1N0YXJ0V2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJCb3R0b206IFtcbiAgICAgICAgICBcImJvcmRlckJvdHRvbUNvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21TdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyQm90dG9tV2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJDb2xvcjogW1xuICAgICAgICAgIFwiYm9yZGVyQm90dG9tQ29sb3JcIixcbiAgICAgICAgICBcImJvcmRlckxlZnRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyUmlnaHRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyVG9wQ29sb3JcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJJbWFnZTogW1xuICAgICAgICAgIFwiYm9yZGVySW1hZ2VPdXRzZXRcIixcbiAgICAgICAgICBcImJvcmRlckltYWdlUmVwZWF0XCIsXG4gICAgICAgICAgXCJib3JkZXJJbWFnZVNsaWNlXCIsXG4gICAgICAgICAgXCJib3JkZXJJbWFnZVNvdXJjZVwiLFxuICAgICAgICAgIFwiYm9yZGVySW1hZ2VXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlcklubGluZUVuZDogW1xuICAgICAgICAgIFwiYm9yZGVySW5saW5lRW5kQ29sb3JcIixcbiAgICAgICAgICBcImJvcmRlcklubGluZUVuZFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVFbmRXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlcklubGluZVN0YXJ0OiBbXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVTdGFydENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVTdGFydFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVTdGFydFdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyTGVmdDogW1wiYm9yZGVyTGVmdENvbG9yXCIsIFwiYm9yZGVyTGVmdFN0eWxlXCIsIFwiYm9yZGVyTGVmdFdpZHRoXCJdLFxuICAgICAgICBib3JkZXJSYWRpdXM6IFtcbiAgICAgICAgICBcImJvcmRlckJvdHRvbUxlZnRSYWRpdXNcIixcbiAgICAgICAgICBcImJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzXCIsXG4gICAgICAgICAgXCJib3JkZXJUb3BMZWZ0UmFkaXVzXCIsXG4gICAgICAgICAgXCJib3JkZXJUb3BSaWdodFJhZGl1c1wiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlclJpZ2h0OiBbXG4gICAgICAgICAgXCJib3JkZXJSaWdodENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJSaWdodFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJSaWdodFdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyU3R5bGU6IFtcbiAgICAgICAgICBcImJvcmRlckJvdHRvbVN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJMZWZ0U3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlclJpZ2h0U3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlclRvcFN0eWxlXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyVG9wOiBbXCJib3JkZXJUb3BDb2xvclwiLCBcImJvcmRlclRvcFN0eWxlXCIsIFwiYm9yZGVyVG9wV2lkdGhcIl0sXG4gICAgICAgIGJvcmRlcldpZHRoOiBbXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21XaWR0aFwiLFxuICAgICAgICAgIFwiYm9yZGVyTGVmdFdpZHRoXCIsXG4gICAgICAgICAgXCJib3JkZXJSaWdodFdpZHRoXCIsXG4gICAgICAgICAgXCJib3JkZXJUb3BXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGNvbHVtblJ1bGU6IFtcImNvbHVtblJ1bGVDb2xvclwiLCBcImNvbHVtblJ1bGVTdHlsZVwiLCBcImNvbHVtblJ1bGVXaWR0aFwiXSxcbiAgICAgICAgY29sdW1uczogW1wiY29sdW1uQ291bnRcIiwgXCJjb2x1bW5XaWR0aFwiXSxcbiAgICAgICAgZmxleDogW1wiZmxleEJhc2lzXCIsIFwiZmxleEdyb3dcIiwgXCJmbGV4U2hyaW5rXCJdLFxuICAgICAgICBmbGV4RmxvdzogW1wiZmxleERpcmVjdGlvblwiLCBcImZsZXhXcmFwXCJdLFxuICAgICAgICBmb250OiBcImZvbnRGYW1pbHkgZm9udEZlYXR1cmVTZXR0aW5ncyBmb250S2VybmluZyBmb250TGFuZ3VhZ2VPdmVycmlkZSBmb250U2l6ZSBmb250U2l6ZUFkanVzdCBmb250U3RyZXRjaCBmb250U3R5bGUgZm9udFZhcmlhbnQgZm9udFZhcmlhbnRBbHRlcm5hdGVzIGZvbnRWYXJpYW50Q2FwcyBmb250VmFyaWFudEVhc3RBc2lhbiBmb250VmFyaWFudExpZ2F0dXJlcyBmb250VmFyaWFudE51bWVyaWMgZm9udFZhcmlhbnRQb3NpdGlvbiBmb250V2VpZ2h0IGxpbmVIZWlnaHRcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgICBmb250VmFyaWFudDpcbiAgICAgICAgICBcImZvbnRWYXJpYW50QWx0ZXJuYXRlcyBmb250VmFyaWFudENhcHMgZm9udFZhcmlhbnRFYXN0QXNpYW4gZm9udFZhcmlhbnRMaWdhdHVyZXMgZm9udFZhcmlhbnROdW1lcmljIGZvbnRWYXJpYW50UG9zaXRpb25cIi5zcGxpdChcbiAgICAgICAgICAgIFwiIFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgZ2FwOiBbXCJjb2x1bW5HYXBcIiwgXCJyb3dHYXBcIl0sXG4gICAgICAgIGdyaWQ6IFwiZ3JpZEF1dG9Db2x1bW5zIGdyaWRBdXRvRmxvdyBncmlkQXV0b1Jvd3MgZ3JpZFRlbXBsYXRlQXJlYXMgZ3JpZFRlbXBsYXRlQ29sdW1ucyBncmlkVGVtcGxhdGVSb3dzXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgICAgZ3JpZEFyZWE6IFtcbiAgICAgICAgICBcImdyaWRDb2x1bW5FbmRcIixcbiAgICAgICAgICBcImdyaWRDb2x1bW5TdGFydFwiLFxuICAgICAgICAgIFwiZ3JpZFJvd0VuZFwiLFxuICAgICAgICAgIFwiZ3JpZFJvd1N0YXJ0XCJcbiAgICAgICAgXSxcbiAgICAgICAgZ3JpZENvbHVtbjogW1wiZ3JpZENvbHVtbkVuZFwiLCBcImdyaWRDb2x1bW5TdGFydFwiXSxcbiAgICAgICAgZ3JpZENvbHVtbkdhcDogW1wiY29sdW1uR2FwXCJdLFxuICAgICAgICBncmlkR2FwOiBbXCJjb2x1bW5HYXBcIiwgXCJyb3dHYXBcIl0sXG4gICAgICAgIGdyaWRSb3c6IFtcImdyaWRSb3dFbmRcIiwgXCJncmlkUm93U3RhcnRcIl0sXG4gICAgICAgIGdyaWRSb3dHYXA6IFtcInJvd0dhcFwiXSxcbiAgICAgICAgZ3JpZFRlbXBsYXRlOiBbXG4gICAgICAgICAgXCJncmlkVGVtcGxhdGVBcmVhc1wiLFxuICAgICAgICAgIFwiZ3JpZFRlbXBsYXRlQ29sdW1uc1wiLFxuICAgICAgICAgIFwiZ3JpZFRlbXBsYXRlUm93c1wiXG4gICAgICAgIF0sXG4gICAgICAgIGxpc3RTdHlsZTogW1wibGlzdFN0eWxlSW1hZ2VcIiwgXCJsaXN0U3R5bGVQb3NpdGlvblwiLCBcImxpc3RTdHlsZVR5cGVcIl0sXG4gICAgICAgIG1hcmdpbjogW1wibWFyZ2luQm90dG9tXCIsIFwibWFyZ2luTGVmdFwiLCBcIm1hcmdpblJpZ2h0XCIsIFwibWFyZ2luVG9wXCJdLFxuICAgICAgICBtYXJrZXI6IFtcIm1hcmtlckVuZFwiLCBcIm1hcmtlck1pZFwiLCBcIm1hcmtlclN0YXJ0XCJdLFxuICAgICAgICBtYXNrOiBcIm1hc2tDbGlwIG1hc2tDb21wb3NpdGUgbWFza0ltYWdlIG1hc2tNb2RlIG1hc2tPcmlnaW4gbWFza1Bvc2l0aW9uWCBtYXNrUG9zaXRpb25ZIG1hc2tSZXBlYXQgbWFza1NpemVcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgICBtYXNrUG9zaXRpb246IFtcIm1hc2tQb3NpdGlvblhcIiwgXCJtYXNrUG9zaXRpb25ZXCJdLFxuICAgICAgICBvdXRsaW5lOiBbXCJvdXRsaW5lQ29sb3JcIiwgXCJvdXRsaW5lU3R5bGVcIiwgXCJvdXRsaW5lV2lkdGhcIl0sXG4gICAgICAgIG92ZXJmbG93OiBbXCJvdmVyZmxvd1hcIiwgXCJvdmVyZmxvd1lcIl0sXG4gICAgICAgIHBhZGRpbmc6IFtcInBhZGRpbmdCb3R0b21cIiwgXCJwYWRkaW5nTGVmdFwiLCBcInBhZGRpbmdSaWdodFwiLCBcInBhZGRpbmdUb3BcIl0sXG4gICAgICAgIHBsYWNlQ29udGVudDogW1wiYWxpZ25Db250ZW50XCIsIFwianVzdGlmeUNvbnRlbnRcIl0sXG4gICAgICAgIHBsYWNlSXRlbXM6IFtcImFsaWduSXRlbXNcIiwgXCJqdXN0aWZ5SXRlbXNcIl0sXG4gICAgICAgIHBsYWNlU2VsZjogW1wiYWxpZ25TZWxmXCIsIFwianVzdGlmeVNlbGZcIl0sXG4gICAgICAgIHRleHREZWNvcmF0aW9uOiBbXG4gICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvbkNvbG9yXCIsXG4gICAgICAgICAgXCJ0ZXh0RGVjb3JhdGlvbkxpbmVcIixcbiAgICAgICAgICBcInRleHREZWNvcmF0aW9uU3R5bGVcIlxuICAgICAgICBdLFxuICAgICAgICB0ZXh0RW1waGFzaXM6IFtcInRleHRFbXBoYXNpc0NvbG9yXCIsIFwidGV4dEVtcGhhc2lzU3R5bGVcIl0sXG4gICAgICAgIHRyYW5zaXRpb246IFtcbiAgICAgICAgICBcInRyYW5zaXRpb25EZWxheVwiLFxuICAgICAgICAgIFwidHJhbnNpdGlvbkR1cmF0aW9uXCIsXG4gICAgICAgICAgXCJ0cmFuc2l0aW9uUHJvcGVydHlcIixcbiAgICAgICAgICBcInRyYW5zaXRpb25UaW1pbmdGdW5jdGlvblwiXG4gICAgICAgIF0sXG4gICAgICAgIHdvcmRXcmFwOiBbXCJvdmVyZmxvd1dyYXBcIl1cbiAgICAgIH0sXG4gICAgICB1cHBlcmNhc2VQYXR0ZXJuID0gLyhbQS1aXSkvZyxcbiAgICAgIG1zUGF0dGVybiQxID0gL15tcy0vLFxuICAgICAgYmFkVmVuZG9yZWRTdHlsZU5hbWVQYXR0ZXJuID0gL14oPzp3ZWJraXR8bW96fG8pW0EtWl0vLFxuICAgICAgbXNQYXR0ZXJuID0gL14tbXMtLyxcbiAgICAgIGh5cGhlblBhdHRlcm4gPSAvLSguKS9nLFxuICAgICAgYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuID0gLztcXHMqJC8sXG4gICAgICB3YXJuZWRTdHlsZU5hbWVzID0ge30sXG4gICAgICB3YXJuZWRTdHlsZVZhbHVlcyA9IHt9LFxuICAgICAgd2FybmVkRm9yTmFOVmFsdWUgPSAhMSxcbiAgICAgIHdhcm5lZEZvckluZmluaXR5VmFsdWUgPSAhMSxcbiAgICAgIHVuaXRsZXNzTnVtYmVycyA9IG5ldyBTZXQoXG4gICAgICAgIFwiYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgYXNwZWN0UmF0aW8gYm9yZGVySW1hZ2VPdXRzZXQgYm9yZGVySW1hZ2VTbGljZSBib3JkZXJJbWFnZVdpZHRoIGJveEZsZXggYm94RmxleEdyb3VwIGJveE9yZGluYWxHcm91cCBjb2x1bW5Db3VudCBjb2x1bW5zIGZsZXggZmxleEdyb3cgZmxleFBvc2l0aXZlIGZsZXhTaHJpbmsgZmxleE5lZ2F0aXZlIGZsZXhPcmRlciBncmlkQXJlYSBncmlkUm93IGdyaWRSb3dFbmQgZ3JpZFJvd1NwYW4gZ3JpZFJvd1N0YXJ0IGdyaWRDb2x1bW4gZ3JpZENvbHVtbkVuZCBncmlkQ29sdW1uU3BhbiBncmlkQ29sdW1uU3RhcnQgZm9udFdlaWdodCBsaW5lQ2xhbXAgbGluZUhlaWdodCBvcGFjaXR5IG9yZGVyIG9ycGhhbnMgc2NhbGUgdGFiU2l6ZSB3aWRvd3MgekluZGV4IHpvb20gZmlsbE9wYWNpdHkgZmxvb2RPcGFjaXR5IHN0b3BPcGFjaXR5IHN0cm9rZURhc2hhcnJheSBzdHJva2VEYXNob2Zmc2V0IHN0cm9rZU1pdGVybGltaXQgc3Ryb2tlT3BhY2l0eSBzdHJva2VXaWR0aCBNb3pBbmltYXRpb25JdGVyYXRpb25Db3VudCBNb3pCb3hGbGV4IE1vekJveEZsZXhHcm91cCBNb3pMaW5lQ2xhbXAgbXNBbmltYXRpb25JdGVyYXRpb25Db3VudCBtc0ZsZXggbXNab29tIG1zRmxleEdyb3cgbXNGbGV4TmVnYXRpdmUgbXNGbGV4T3JkZXIgbXNGbGV4UG9zaXRpdmUgbXNGbGV4U2hyaW5rIG1zR3JpZENvbHVtbiBtc0dyaWRDb2x1bW5TcGFuIG1zR3JpZFJvdyBtc0dyaWRSb3dTcGFuIFdlYmtpdEFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IFdlYmtpdEJveEZsZXggV2ViS2l0Qm94RmxleEdyb3VwIFdlYmtpdEJveE9yZGluYWxHcm91cCBXZWJraXRDb2x1bW5Db3VudCBXZWJraXRDb2x1bW5zIFdlYmtpdEZsZXggV2Via2l0RmxleEdyb3cgV2Via2l0RmxleFBvc2l0aXZlIFdlYmtpdEZsZXhTaHJpbmsgV2Via2l0TGluZUNsYW1wXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIGFsaWFzZXMgPSBuZXcgTWFwKFtcbiAgICAgICAgW1wiYWNjZXB0Q2hhcnNldFwiLCBcImFjY2VwdC1jaGFyc2V0XCJdLFxuICAgICAgICBbXCJodG1sRm9yXCIsIFwiZm9yXCJdLFxuICAgICAgICBbXCJodHRwRXF1aXZcIiwgXCJodHRwLWVxdWl2XCJdLFxuICAgICAgICBbXCJjcm9zc09yaWdpblwiLCBcImNyb3Nzb3JpZ2luXCJdLFxuICAgICAgICBbXCJhY2NlbnRIZWlnaHRcIiwgXCJhY2NlbnQtaGVpZ2h0XCJdLFxuICAgICAgICBbXCJhbGlnbm1lbnRCYXNlbGluZVwiLCBcImFsaWdubWVudC1iYXNlbGluZVwiXSxcbiAgICAgICAgW1wiYXJhYmljRm9ybVwiLCBcImFyYWJpYy1mb3JtXCJdLFxuICAgICAgICBbXCJiYXNlbGluZVNoaWZ0XCIsIFwiYmFzZWxpbmUtc2hpZnRcIl0sXG4gICAgICAgIFtcImNhcEhlaWdodFwiLCBcImNhcC1oZWlnaHRcIl0sXG4gICAgICAgIFtcImNsaXBQYXRoXCIsIFwiY2xpcC1wYXRoXCJdLFxuICAgICAgICBbXCJjbGlwUnVsZVwiLCBcImNsaXAtcnVsZVwiXSxcbiAgICAgICAgW1wiY29sb3JJbnRlcnBvbGF0aW9uXCIsIFwiY29sb3ItaW50ZXJwb2xhdGlvblwiXSxcbiAgICAgICAgW1wiY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc1wiLCBcImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVyc1wiXSxcbiAgICAgICAgW1wiY29sb3JQcm9maWxlXCIsIFwiY29sb3ItcHJvZmlsZVwiXSxcbiAgICAgICAgW1wiY29sb3JSZW5kZXJpbmdcIiwgXCJjb2xvci1yZW5kZXJpbmdcIl0sXG4gICAgICAgIFtcImRvbWluYW50QmFzZWxpbmVcIiwgXCJkb21pbmFudC1iYXNlbGluZVwiXSxcbiAgICAgICAgW1wiZW5hYmxlQmFja2dyb3VuZFwiLCBcImVuYWJsZS1iYWNrZ3JvdW5kXCJdLFxuICAgICAgICBbXCJmaWxsT3BhY2l0eVwiLCBcImZpbGwtb3BhY2l0eVwiXSxcbiAgICAgICAgW1wiZmlsbFJ1bGVcIiwgXCJmaWxsLXJ1bGVcIl0sXG4gICAgICAgIFtcImZsb29kQ29sb3JcIiwgXCJmbG9vZC1jb2xvclwiXSxcbiAgICAgICAgW1wiZmxvb2RPcGFjaXR5XCIsIFwiZmxvb2Qtb3BhY2l0eVwiXSxcbiAgICAgICAgW1wiZm9udEZhbWlseVwiLCBcImZvbnQtZmFtaWx5XCJdLFxuICAgICAgICBbXCJmb250U2l6ZVwiLCBcImZvbnQtc2l6ZVwiXSxcbiAgICAgICAgW1wiZm9udFNpemVBZGp1c3RcIiwgXCJmb250LXNpemUtYWRqdXN0XCJdLFxuICAgICAgICBbXCJmb250U3RyZXRjaFwiLCBcImZvbnQtc3RyZXRjaFwiXSxcbiAgICAgICAgW1wiZm9udFN0eWxlXCIsIFwiZm9udC1zdHlsZVwiXSxcbiAgICAgICAgW1wiZm9udFZhcmlhbnRcIiwgXCJmb250LXZhcmlhbnRcIl0sXG4gICAgICAgIFtcImZvbnRXZWlnaHRcIiwgXCJmb250LXdlaWdodFwiXSxcbiAgICAgICAgW1wiZ2x5cGhOYW1lXCIsIFwiZ2x5cGgtbmFtZVwiXSxcbiAgICAgICAgW1wiZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWxcIiwgXCJnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsXCJdLFxuICAgICAgICBbXCJnbHlwaE9yaWVudGF0aW9uVmVydGljYWxcIiwgXCJnbHlwaC1vcmllbnRhdGlvbi12ZXJ0aWNhbFwiXSxcbiAgICAgICAgW1wiaG9yaXpBZHZYXCIsIFwiaG9yaXotYWR2LXhcIl0sXG4gICAgICAgIFtcImhvcml6T3JpZ2luWFwiLCBcImhvcml6LW9yaWdpbi14XCJdLFxuICAgICAgICBbXCJpbWFnZVJlbmRlcmluZ1wiLCBcImltYWdlLXJlbmRlcmluZ1wiXSxcbiAgICAgICAgW1wibGV0dGVyU3BhY2luZ1wiLCBcImxldHRlci1zcGFjaW5nXCJdLFxuICAgICAgICBbXCJsaWdodGluZ0NvbG9yXCIsIFwibGlnaHRpbmctY29sb3JcIl0sXG4gICAgICAgIFtcIm1hcmtlckVuZFwiLCBcIm1hcmtlci1lbmRcIl0sXG4gICAgICAgIFtcIm1hcmtlck1pZFwiLCBcIm1hcmtlci1taWRcIl0sXG4gICAgICAgIFtcIm1hcmtlclN0YXJ0XCIsIFwibWFya2VyLXN0YXJ0XCJdLFxuICAgICAgICBbXCJvdmVybGluZVBvc2l0aW9uXCIsIFwib3ZlcmxpbmUtcG9zaXRpb25cIl0sXG4gICAgICAgIFtcIm92ZXJsaW5lVGhpY2tuZXNzXCIsIFwib3ZlcmxpbmUtdGhpY2tuZXNzXCJdLFxuICAgICAgICBbXCJwYWludE9yZGVyXCIsIFwicGFpbnQtb3JkZXJcIl0sXG4gICAgICAgIFtcInBhbm9zZS0xXCIsIFwicGFub3NlLTFcIl0sXG4gICAgICAgIFtcInBvaW50ZXJFdmVudHNcIiwgXCJwb2ludGVyLWV2ZW50c1wiXSxcbiAgICAgICAgW1wicmVuZGVyaW5nSW50ZW50XCIsIFwicmVuZGVyaW5nLWludGVudFwiXSxcbiAgICAgICAgW1wic2hhcGVSZW5kZXJpbmdcIiwgXCJzaGFwZS1yZW5kZXJpbmdcIl0sXG4gICAgICAgIFtcInN0b3BDb2xvclwiLCBcInN0b3AtY29sb3JcIl0sXG4gICAgICAgIFtcInN0b3BPcGFjaXR5XCIsIFwic3RvcC1vcGFjaXR5XCJdLFxuICAgICAgICBbXCJzdHJpa2V0aHJvdWdoUG9zaXRpb25cIiwgXCJzdHJpa2V0aHJvdWdoLXBvc2l0aW9uXCJdLFxuICAgICAgICBbXCJzdHJpa2V0aHJvdWdoVGhpY2tuZXNzXCIsIFwic3RyaWtldGhyb3VnaC10aGlja25lc3NcIl0sXG4gICAgICAgIFtcInN0cm9rZURhc2hhcnJheVwiLCBcInN0cm9rZS1kYXNoYXJyYXlcIl0sXG4gICAgICAgIFtcInN0cm9rZURhc2hvZmZzZXRcIiwgXCJzdHJva2UtZGFzaG9mZnNldFwiXSxcbiAgICAgICAgW1wic3Ryb2tlTGluZWNhcFwiLCBcInN0cm9rZS1saW5lY2FwXCJdLFxuICAgICAgICBbXCJzdHJva2VMaW5lam9pblwiLCBcInN0cm9rZS1saW5lam9pblwiXSxcbiAgICAgICAgW1wic3Ryb2tlTWl0ZXJsaW1pdFwiLCBcInN0cm9rZS1taXRlcmxpbWl0XCJdLFxuICAgICAgICBbXCJzdHJva2VPcGFjaXR5XCIsIFwic3Ryb2tlLW9wYWNpdHlcIl0sXG4gICAgICAgIFtcInN0cm9rZVdpZHRoXCIsIFwic3Ryb2tlLXdpZHRoXCJdLFxuICAgICAgICBbXCJ0ZXh0QW5jaG9yXCIsIFwidGV4dC1hbmNob3JcIl0sXG4gICAgICAgIFtcInRleHREZWNvcmF0aW9uXCIsIFwidGV4dC1kZWNvcmF0aW9uXCJdLFxuICAgICAgICBbXCJ0ZXh0UmVuZGVyaW5nXCIsIFwidGV4dC1yZW5kZXJpbmdcIl0sXG4gICAgICAgIFtcInRyYW5zZm9ybU9yaWdpblwiLCBcInRyYW5zZm9ybS1vcmlnaW5cIl0sXG4gICAgICAgIFtcInVuZGVybGluZVBvc2l0aW9uXCIsIFwidW5kZXJsaW5lLXBvc2l0aW9uXCJdLFxuICAgICAgICBbXCJ1bmRlcmxpbmVUaGlja25lc3NcIiwgXCJ1bmRlcmxpbmUtdGhpY2tuZXNzXCJdLFxuICAgICAgICBbXCJ1bmljb2RlQmlkaVwiLCBcInVuaWNvZGUtYmlkaVwiXSxcbiAgICAgICAgW1widW5pY29kZVJhbmdlXCIsIFwidW5pY29kZS1yYW5nZVwiXSxcbiAgICAgICAgW1widW5pdHNQZXJFbVwiLCBcInVuaXRzLXBlci1lbVwiXSxcbiAgICAgICAgW1widkFscGhhYmV0aWNcIiwgXCJ2LWFscGhhYmV0aWNcIl0sXG4gICAgICAgIFtcInZIYW5naW5nXCIsIFwidi1oYW5naW5nXCJdLFxuICAgICAgICBbXCJ2SWRlb2dyYXBoaWNcIiwgXCJ2LWlkZW9ncmFwaGljXCJdLFxuICAgICAgICBbXCJ2TWF0aGVtYXRpY2FsXCIsIFwidi1tYXRoZW1hdGljYWxcIl0sXG4gICAgICAgIFtcInZlY3RvckVmZmVjdFwiLCBcInZlY3Rvci1lZmZlY3RcIl0sXG4gICAgICAgIFtcInZlcnRBZHZZXCIsIFwidmVydC1hZHYteVwiXSxcbiAgICAgICAgW1widmVydE9yaWdpblhcIiwgXCJ2ZXJ0LW9yaWdpbi14XCJdLFxuICAgICAgICBbXCJ2ZXJ0T3JpZ2luWVwiLCBcInZlcnQtb3JpZ2luLXlcIl0sXG4gICAgICAgIFtcIndvcmRTcGFjaW5nXCIsIFwid29yZC1zcGFjaW5nXCJdLFxuICAgICAgICBbXCJ3cml0aW5nTW9kZVwiLCBcIndyaXRpbmctbW9kZVwiXSxcbiAgICAgICAgW1wieG1sbnNYbGlua1wiLCBcInhtbG5zOnhsaW5rXCJdLFxuICAgICAgICBbXCJ4SGVpZ2h0XCIsIFwieC1oZWlnaHRcIl1cbiAgICAgIF0pLFxuICAgICAgcG9zc2libGVTdGFuZGFyZE5hbWVzID0ge1xuICAgICAgICBhY2NlcHQ6IFwiYWNjZXB0XCIsXG4gICAgICAgIGFjY2VwdGNoYXJzZXQ6IFwiYWNjZXB0Q2hhcnNldFwiLFxuICAgICAgICBcImFjY2VwdC1jaGFyc2V0XCI6IFwiYWNjZXB0Q2hhcnNldFwiLFxuICAgICAgICBhY2Nlc3NrZXk6IFwiYWNjZXNzS2V5XCIsXG4gICAgICAgIGFjdGlvbjogXCJhY3Rpb25cIixcbiAgICAgICAgYWxsb3dmdWxsc2NyZWVuOiBcImFsbG93RnVsbFNjcmVlblwiLFxuICAgICAgICBhbHQ6IFwiYWx0XCIsXG4gICAgICAgIGFzOiBcImFzXCIsXG4gICAgICAgIGFzeW5jOiBcImFzeW5jXCIsXG4gICAgICAgIGF1dG9jYXBpdGFsaXplOiBcImF1dG9DYXBpdGFsaXplXCIsXG4gICAgICAgIGF1dG9jb21wbGV0ZTogXCJhdXRvQ29tcGxldGVcIixcbiAgICAgICAgYXV0b2NvcnJlY3Q6IFwiYXV0b0NvcnJlY3RcIixcbiAgICAgICAgYXV0b2ZvY3VzOiBcImF1dG9Gb2N1c1wiLFxuICAgICAgICBhdXRvcGxheTogXCJhdXRvUGxheVwiLFxuICAgICAgICBhdXRvc2F2ZTogXCJhdXRvU2F2ZVwiLFxuICAgICAgICBjYXB0dXJlOiBcImNhcHR1cmVcIixcbiAgICAgICAgY2VsbHBhZGRpbmc6IFwiY2VsbFBhZGRpbmdcIixcbiAgICAgICAgY2VsbHNwYWNpbmc6IFwiY2VsbFNwYWNpbmdcIixcbiAgICAgICAgY2hhbGxlbmdlOiBcImNoYWxsZW5nZVwiLFxuICAgICAgICBjaGFyc2V0OiBcImNoYXJTZXRcIixcbiAgICAgICAgY2hlY2tlZDogXCJjaGVja2VkXCIsXG4gICAgICAgIGNoaWxkcmVuOiBcImNoaWxkcmVuXCIsXG4gICAgICAgIGNpdGU6IFwiY2l0ZVwiLFxuICAgICAgICBjbGFzczogXCJjbGFzc05hbWVcIixcbiAgICAgICAgY2xhc3NpZDogXCJjbGFzc0lEXCIsXG4gICAgICAgIGNsYXNzbmFtZTogXCJjbGFzc05hbWVcIixcbiAgICAgICAgY29sczogXCJjb2xzXCIsXG4gICAgICAgIGNvbHNwYW46IFwiY29sU3BhblwiLFxuICAgICAgICBjb250ZW50OiBcImNvbnRlbnRcIixcbiAgICAgICAgY29udGVudGVkaXRhYmxlOiBcImNvbnRlbnRFZGl0YWJsZVwiLFxuICAgICAgICBjb250ZXh0bWVudTogXCJjb250ZXh0TWVudVwiLFxuICAgICAgICBjb250cm9sczogXCJjb250cm9sc1wiLFxuICAgICAgICBjb250cm9sc2xpc3Q6IFwiY29udHJvbHNMaXN0XCIsXG4gICAgICAgIGNvb3JkczogXCJjb29yZHNcIixcbiAgICAgICAgY3Jvc3NvcmlnaW46IFwiY3Jvc3NPcmlnaW5cIixcbiAgICAgICAgZGFuZ2Vyb3VzbHlzZXRpbm5lcmh0bWw6IFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIixcbiAgICAgICAgZGF0YTogXCJkYXRhXCIsXG4gICAgICAgIGRhdGV0aW1lOiBcImRhdGVUaW1lXCIsXG4gICAgICAgIGRlZmF1bHQ6IFwiZGVmYXVsdFwiLFxuICAgICAgICBkZWZhdWx0Y2hlY2tlZDogXCJkZWZhdWx0Q2hlY2tlZFwiLFxuICAgICAgICBkZWZhdWx0dmFsdWU6IFwiZGVmYXVsdFZhbHVlXCIsXG4gICAgICAgIGRlZmVyOiBcImRlZmVyXCIsXG4gICAgICAgIGRpcjogXCJkaXJcIixcbiAgICAgICAgZGlzYWJsZWQ6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgZGlzYWJsZXBpY3R1cmVpbnBpY3R1cmU6IFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIixcbiAgICAgICAgZGlzYWJsZXJlbW90ZXBsYXliYWNrOiBcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiLFxuICAgICAgICBkb3dubG9hZDogXCJkb3dubG9hZFwiLFxuICAgICAgICBkcmFnZ2FibGU6IFwiZHJhZ2dhYmxlXCIsXG4gICAgICAgIGVuY3R5cGU6IFwiZW5jVHlwZVwiLFxuICAgICAgICBlbnRlcmtleWhpbnQ6IFwiZW50ZXJLZXlIaW50XCIsXG4gICAgICAgIGZldGNocHJpb3JpdHk6IFwiZmV0Y2hQcmlvcml0eVwiLFxuICAgICAgICBmb3I6IFwiaHRtbEZvclwiLFxuICAgICAgICBmb3JtOiBcImZvcm1cIixcbiAgICAgICAgZm9ybW1ldGhvZDogXCJmb3JtTWV0aG9kXCIsXG4gICAgICAgIGZvcm1hY3Rpb246IFwiZm9ybUFjdGlvblwiLFxuICAgICAgICBmb3JtZW5jdHlwZTogXCJmb3JtRW5jVHlwZVwiLFxuICAgICAgICBmb3Jtbm92YWxpZGF0ZTogXCJmb3JtTm9WYWxpZGF0ZVwiLFxuICAgICAgICBmb3JtdGFyZ2V0OiBcImZvcm1UYXJnZXRcIixcbiAgICAgICAgZnJhbWVib3JkZXI6IFwiZnJhbWVCb3JkZXJcIixcbiAgICAgICAgaGVhZGVyczogXCJoZWFkZXJzXCIsXG4gICAgICAgIGhlaWdodDogXCJoZWlnaHRcIixcbiAgICAgICAgaGlkZGVuOiBcImhpZGRlblwiLFxuICAgICAgICBoaWdoOiBcImhpZ2hcIixcbiAgICAgICAgaHJlZjogXCJocmVmXCIsXG4gICAgICAgIGhyZWZsYW5nOiBcImhyZWZMYW5nXCIsXG4gICAgICAgIGh0bWxmb3I6IFwiaHRtbEZvclwiLFxuICAgICAgICBodHRwZXF1aXY6IFwiaHR0cEVxdWl2XCIsXG4gICAgICAgIFwiaHR0cC1lcXVpdlwiOiBcImh0dHBFcXVpdlwiLFxuICAgICAgICBpY29uOiBcImljb25cIixcbiAgICAgICAgaWQ6IFwiaWRcIixcbiAgICAgICAgaW1hZ2VzaXplczogXCJpbWFnZVNpemVzXCIsXG4gICAgICAgIGltYWdlc3Jjc2V0OiBcImltYWdlU3JjU2V0XCIsXG4gICAgICAgIGluZXJ0OiBcImluZXJ0XCIsXG4gICAgICAgIGlubmVyaHRtbDogXCJpbm5lckhUTUxcIixcbiAgICAgICAgaW5wdXRtb2RlOiBcImlucHV0TW9kZVwiLFxuICAgICAgICBpbnRlZ3JpdHk6IFwiaW50ZWdyaXR5XCIsXG4gICAgICAgIGlzOiBcImlzXCIsXG4gICAgICAgIGl0ZW1pZDogXCJpdGVtSURcIixcbiAgICAgICAgaXRlbXByb3A6IFwiaXRlbVByb3BcIixcbiAgICAgICAgaXRlbXJlZjogXCJpdGVtUmVmXCIsXG4gICAgICAgIGl0ZW1zY29wZTogXCJpdGVtU2NvcGVcIixcbiAgICAgICAgaXRlbXR5cGU6IFwiaXRlbVR5cGVcIixcbiAgICAgICAga2V5cGFyYW1zOiBcImtleVBhcmFtc1wiLFxuICAgICAgICBrZXl0eXBlOiBcImtleVR5cGVcIixcbiAgICAgICAga2luZDogXCJraW5kXCIsXG4gICAgICAgIGxhYmVsOiBcImxhYmVsXCIsXG4gICAgICAgIGxhbmc6IFwibGFuZ1wiLFxuICAgICAgICBsaXN0OiBcImxpc3RcIixcbiAgICAgICAgbG9vcDogXCJsb29wXCIsXG4gICAgICAgIGxvdzogXCJsb3dcIixcbiAgICAgICAgbWFuaWZlc3Q6IFwibWFuaWZlc3RcIixcbiAgICAgICAgbWFyZ2lud2lkdGg6IFwibWFyZ2luV2lkdGhcIixcbiAgICAgICAgbWFyZ2luaGVpZ2h0OiBcIm1hcmdpbkhlaWdodFwiLFxuICAgICAgICBtYXg6IFwibWF4XCIsXG4gICAgICAgIG1heGxlbmd0aDogXCJtYXhMZW5ndGhcIixcbiAgICAgICAgbWVkaWE6IFwibWVkaWFcIixcbiAgICAgICAgbWVkaWFncm91cDogXCJtZWRpYUdyb3VwXCIsXG4gICAgICAgIG1ldGhvZDogXCJtZXRob2RcIixcbiAgICAgICAgbWluOiBcIm1pblwiLFxuICAgICAgICBtaW5sZW5ndGg6IFwibWluTGVuZ3RoXCIsXG4gICAgICAgIG11bHRpcGxlOiBcIm11bHRpcGxlXCIsXG4gICAgICAgIG11dGVkOiBcIm11dGVkXCIsXG4gICAgICAgIG5hbWU6IFwibmFtZVwiLFxuICAgICAgICBub21vZHVsZTogXCJub01vZHVsZVwiLFxuICAgICAgICBub25jZTogXCJub25jZVwiLFxuICAgICAgICBub3ZhbGlkYXRlOiBcIm5vVmFsaWRhdGVcIixcbiAgICAgICAgb3BlbjogXCJvcGVuXCIsXG4gICAgICAgIG9wdGltdW06IFwib3B0aW11bVwiLFxuICAgICAgICBwYXR0ZXJuOiBcInBhdHRlcm5cIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwicGxhY2Vob2xkZXJcIixcbiAgICAgICAgcGxheXNpbmxpbmU6IFwicGxheXNJbmxpbmVcIixcbiAgICAgICAgcG9zdGVyOiBcInBvc3RlclwiLFxuICAgICAgICBwcmVsb2FkOiBcInByZWxvYWRcIixcbiAgICAgICAgcHJvZmlsZTogXCJwcm9maWxlXCIsXG4gICAgICAgIHJhZGlvZ3JvdXA6IFwicmFkaW9Hcm91cFwiLFxuICAgICAgICByZWFkb25seTogXCJyZWFkT25seVwiLFxuICAgICAgICByZWZlcnJlcnBvbGljeTogXCJyZWZlcnJlclBvbGljeVwiLFxuICAgICAgICByZWw6IFwicmVsXCIsXG4gICAgICAgIHJlcXVpcmVkOiBcInJlcXVpcmVkXCIsXG4gICAgICAgIHJldmVyc2VkOiBcInJldmVyc2VkXCIsXG4gICAgICAgIHJvbGU6IFwicm9sZVwiLFxuICAgICAgICByb3dzOiBcInJvd3NcIixcbiAgICAgICAgcm93c3BhbjogXCJyb3dTcGFuXCIsXG4gICAgICAgIHNhbmRib3g6IFwic2FuZGJveFwiLFxuICAgICAgICBzY29wZTogXCJzY29wZVwiLFxuICAgICAgICBzY29wZWQ6IFwic2NvcGVkXCIsXG4gICAgICAgIHNjcm9sbGluZzogXCJzY3JvbGxpbmdcIixcbiAgICAgICAgc2VhbWxlc3M6IFwic2VhbWxlc3NcIixcbiAgICAgICAgc2VsZWN0ZWQ6IFwic2VsZWN0ZWRcIixcbiAgICAgICAgc2hhcGU6IFwic2hhcGVcIixcbiAgICAgICAgc2l6ZTogXCJzaXplXCIsXG4gICAgICAgIHNpemVzOiBcInNpemVzXCIsXG4gICAgICAgIHNwYW46IFwic3BhblwiLFxuICAgICAgICBzcGVsbGNoZWNrOiBcInNwZWxsQ2hlY2tcIixcbiAgICAgICAgc3JjOiBcInNyY1wiLFxuICAgICAgICBzcmNkb2M6IFwic3JjRG9jXCIsXG4gICAgICAgIHNyY2xhbmc6IFwic3JjTGFuZ1wiLFxuICAgICAgICBzcmNzZXQ6IFwic3JjU2V0XCIsXG4gICAgICAgIHN0YXJ0OiBcInN0YXJ0XCIsXG4gICAgICAgIHN0ZXA6IFwic3RlcFwiLFxuICAgICAgICBzdHlsZTogXCJzdHlsZVwiLFxuICAgICAgICBzdW1tYXJ5OiBcInN1bW1hcnlcIixcbiAgICAgICAgdGFiaW5kZXg6IFwidGFiSW5kZXhcIixcbiAgICAgICAgdGFyZ2V0OiBcInRhcmdldFwiLFxuICAgICAgICB0aXRsZTogXCJ0aXRsZVwiLFxuICAgICAgICB0eXBlOiBcInR5cGVcIixcbiAgICAgICAgdXNlbWFwOiBcInVzZU1hcFwiLFxuICAgICAgICB2YWx1ZTogXCJ2YWx1ZVwiLFxuICAgICAgICB3aWR0aDogXCJ3aWR0aFwiLFxuICAgICAgICB3bW9kZTogXCJ3bW9kZVwiLFxuICAgICAgICB3cmFwOiBcIndyYXBcIixcbiAgICAgICAgYWJvdXQ6IFwiYWJvdXRcIixcbiAgICAgICAgYWNjZW50aGVpZ2h0OiBcImFjY2VudEhlaWdodFwiLFxuICAgICAgICBcImFjY2VudC1oZWlnaHRcIjogXCJhY2NlbnRIZWlnaHRcIixcbiAgICAgICAgYWNjdW11bGF0ZTogXCJhY2N1bXVsYXRlXCIsXG4gICAgICAgIGFkZGl0aXZlOiBcImFkZGl0aXZlXCIsXG4gICAgICAgIGFsaWdubWVudGJhc2VsaW5lOiBcImFsaWdubWVudEJhc2VsaW5lXCIsXG4gICAgICAgIFwiYWxpZ25tZW50LWJhc2VsaW5lXCI6IFwiYWxpZ25tZW50QmFzZWxpbmVcIixcbiAgICAgICAgYWxsb3dyZW9yZGVyOiBcImFsbG93UmVvcmRlclwiLFxuICAgICAgICBhbHBoYWJldGljOiBcImFscGhhYmV0aWNcIixcbiAgICAgICAgYW1wbGl0dWRlOiBcImFtcGxpdHVkZVwiLFxuICAgICAgICBhcmFiaWNmb3JtOiBcImFyYWJpY0Zvcm1cIixcbiAgICAgICAgXCJhcmFiaWMtZm9ybVwiOiBcImFyYWJpY0Zvcm1cIixcbiAgICAgICAgYXNjZW50OiBcImFzY2VudFwiLFxuICAgICAgICBhdHRyaWJ1dGVuYW1lOiBcImF0dHJpYnV0ZU5hbWVcIixcbiAgICAgICAgYXR0cmlidXRldHlwZTogXCJhdHRyaWJ1dGVUeXBlXCIsXG4gICAgICAgIGF1dG9yZXZlcnNlOiBcImF1dG9SZXZlcnNlXCIsXG4gICAgICAgIGF6aW11dGg6IFwiYXppbXV0aFwiLFxuICAgICAgICBiYXNlZnJlcXVlbmN5OiBcImJhc2VGcmVxdWVuY3lcIixcbiAgICAgICAgYmFzZWxpbmVzaGlmdDogXCJiYXNlbGluZVNoaWZ0XCIsXG4gICAgICAgIFwiYmFzZWxpbmUtc2hpZnRcIjogXCJiYXNlbGluZVNoaWZ0XCIsXG4gICAgICAgIGJhc2Vwcm9maWxlOiBcImJhc2VQcm9maWxlXCIsXG4gICAgICAgIGJib3g6IFwiYmJveFwiLFxuICAgICAgICBiZWdpbjogXCJiZWdpblwiLFxuICAgICAgICBiaWFzOiBcImJpYXNcIixcbiAgICAgICAgYnk6IFwiYnlcIixcbiAgICAgICAgY2FsY21vZGU6IFwiY2FsY01vZGVcIixcbiAgICAgICAgY2FwaGVpZ2h0OiBcImNhcEhlaWdodFwiLFxuICAgICAgICBcImNhcC1oZWlnaHRcIjogXCJjYXBIZWlnaHRcIixcbiAgICAgICAgY2xpcDogXCJjbGlwXCIsXG4gICAgICAgIGNsaXBwYXRoOiBcImNsaXBQYXRoXCIsXG4gICAgICAgIFwiY2xpcC1wYXRoXCI6IFwiY2xpcFBhdGhcIixcbiAgICAgICAgY2xpcHBhdGh1bml0czogXCJjbGlwUGF0aFVuaXRzXCIsXG4gICAgICAgIGNsaXBydWxlOiBcImNsaXBSdWxlXCIsXG4gICAgICAgIFwiY2xpcC1ydWxlXCI6IFwiY2xpcFJ1bGVcIixcbiAgICAgICAgY29sb3I6IFwiY29sb3JcIixcbiAgICAgICAgY29sb3JpbnRlcnBvbGF0aW9uOiBcImNvbG9ySW50ZXJwb2xhdGlvblwiLFxuICAgICAgICBcImNvbG9yLWludGVycG9sYXRpb25cIjogXCJjb2xvckludGVycG9sYXRpb25cIixcbiAgICAgICAgY29sb3JpbnRlcnBvbGF0aW9uZmlsdGVyczogXCJjb2xvckludGVycG9sYXRpb25GaWx0ZXJzXCIsXG4gICAgICAgIFwiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzXCI6IFwiY29sb3JJbnRlcnBvbGF0aW9uRmlsdGVyc1wiLFxuICAgICAgICBjb2xvcnByb2ZpbGU6IFwiY29sb3JQcm9maWxlXCIsXG4gICAgICAgIFwiY29sb3ItcHJvZmlsZVwiOiBcImNvbG9yUHJvZmlsZVwiLFxuICAgICAgICBjb2xvcnJlbmRlcmluZzogXCJjb2xvclJlbmRlcmluZ1wiLFxuICAgICAgICBcImNvbG9yLXJlbmRlcmluZ1wiOiBcImNvbG9yUmVuZGVyaW5nXCIsXG4gICAgICAgIGNvbnRlbnRzY3JpcHR0eXBlOiBcImNvbnRlbnRTY3JpcHRUeXBlXCIsXG4gICAgICAgIGNvbnRlbnRzdHlsZXR5cGU6IFwiY29udGVudFN0eWxlVHlwZVwiLFxuICAgICAgICBjdXJzb3I6IFwiY3Vyc29yXCIsXG4gICAgICAgIGN4OiBcImN4XCIsXG4gICAgICAgIGN5OiBcImN5XCIsXG4gICAgICAgIGQ6IFwiZFwiLFxuICAgICAgICBkYXRhdHlwZTogXCJkYXRhdHlwZVwiLFxuICAgICAgICBkZWNlbGVyYXRlOiBcImRlY2VsZXJhdGVcIixcbiAgICAgICAgZGVzY2VudDogXCJkZXNjZW50XCIsXG4gICAgICAgIGRpZmZ1c2Vjb25zdGFudDogXCJkaWZmdXNlQ29uc3RhbnRcIixcbiAgICAgICAgZGlyZWN0aW9uOiBcImRpcmVjdGlvblwiLFxuICAgICAgICBkaXNwbGF5OiBcImRpc3BsYXlcIixcbiAgICAgICAgZGl2aXNvcjogXCJkaXZpc29yXCIsXG4gICAgICAgIGRvbWluYW50YmFzZWxpbmU6IFwiZG9taW5hbnRCYXNlbGluZVwiLFxuICAgICAgICBcImRvbWluYW50LWJhc2VsaW5lXCI6IFwiZG9taW5hbnRCYXNlbGluZVwiLFxuICAgICAgICBkdXI6IFwiZHVyXCIsXG4gICAgICAgIGR4OiBcImR4XCIsXG4gICAgICAgIGR5OiBcImR5XCIsXG4gICAgICAgIGVkZ2Vtb2RlOiBcImVkZ2VNb2RlXCIsXG4gICAgICAgIGVsZXZhdGlvbjogXCJlbGV2YXRpb25cIixcbiAgICAgICAgZW5hYmxlYmFja2dyb3VuZDogXCJlbmFibGVCYWNrZ3JvdW5kXCIsXG4gICAgICAgIFwiZW5hYmxlLWJhY2tncm91bmRcIjogXCJlbmFibGVCYWNrZ3JvdW5kXCIsXG4gICAgICAgIGVuZDogXCJlbmRcIixcbiAgICAgICAgZXhwb25lbnQ6IFwiZXhwb25lbnRcIixcbiAgICAgICAgZXh0ZXJuYWxyZXNvdXJjZXNyZXF1aXJlZDogXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCIsXG4gICAgICAgIGZpbGw6IFwiZmlsbFwiLFxuICAgICAgICBmaWxsb3BhY2l0eTogXCJmaWxsT3BhY2l0eVwiLFxuICAgICAgICBcImZpbGwtb3BhY2l0eVwiOiBcImZpbGxPcGFjaXR5XCIsXG4gICAgICAgIGZpbGxydWxlOiBcImZpbGxSdWxlXCIsXG4gICAgICAgIFwiZmlsbC1ydWxlXCI6IFwiZmlsbFJ1bGVcIixcbiAgICAgICAgZmlsdGVyOiBcImZpbHRlclwiLFxuICAgICAgICBmaWx0ZXJyZXM6IFwiZmlsdGVyUmVzXCIsXG4gICAgICAgIGZpbHRlcnVuaXRzOiBcImZpbHRlclVuaXRzXCIsXG4gICAgICAgIGZsb29kb3BhY2l0eTogXCJmbG9vZE9wYWNpdHlcIixcbiAgICAgICAgXCJmbG9vZC1vcGFjaXR5XCI6IFwiZmxvb2RPcGFjaXR5XCIsXG4gICAgICAgIGZsb29kY29sb3I6IFwiZmxvb2RDb2xvclwiLFxuICAgICAgICBcImZsb29kLWNvbG9yXCI6IFwiZmxvb2RDb2xvclwiLFxuICAgICAgICBmb2N1c2FibGU6IFwiZm9jdXNhYmxlXCIsXG4gICAgICAgIGZvbnRmYW1pbHk6IFwiZm9udEZhbWlseVwiLFxuICAgICAgICBcImZvbnQtZmFtaWx5XCI6IFwiZm9udEZhbWlseVwiLFxuICAgICAgICBmb250c2l6ZTogXCJmb250U2l6ZVwiLFxuICAgICAgICBcImZvbnQtc2l6ZVwiOiBcImZvbnRTaXplXCIsXG4gICAgICAgIGZvbnRzaXplYWRqdXN0OiBcImZvbnRTaXplQWRqdXN0XCIsXG4gICAgICAgIFwiZm9udC1zaXplLWFkanVzdFwiOiBcImZvbnRTaXplQWRqdXN0XCIsXG4gICAgICAgIGZvbnRzdHJldGNoOiBcImZvbnRTdHJldGNoXCIsXG4gICAgICAgIFwiZm9udC1zdHJldGNoXCI6IFwiZm9udFN0cmV0Y2hcIixcbiAgICAgICAgZm9udHN0eWxlOiBcImZvbnRTdHlsZVwiLFxuICAgICAgICBcImZvbnQtc3R5bGVcIjogXCJmb250U3R5bGVcIixcbiAgICAgICAgZm9udHZhcmlhbnQ6IFwiZm9udFZhcmlhbnRcIixcbiAgICAgICAgXCJmb250LXZhcmlhbnRcIjogXCJmb250VmFyaWFudFwiLFxuICAgICAgICBmb250d2VpZ2h0OiBcImZvbnRXZWlnaHRcIixcbiAgICAgICAgXCJmb250LXdlaWdodFwiOiBcImZvbnRXZWlnaHRcIixcbiAgICAgICAgZm9ybWF0OiBcImZvcm1hdFwiLFxuICAgICAgICBmcm9tOiBcImZyb21cIixcbiAgICAgICAgZng6IFwiZnhcIixcbiAgICAgICAgZnk6IFwiZnlcIixcbiAgICAgICAgZzE6IFwiZzFcIixcbiAgICAgICAgZzI6IFwiZzJcIixcbiAgICAgICAgZ2x5cGhuYW1lOiBcImdseXBoTmFtZVwiLFxuICAgICAgICBcImdseXBoLW5hbWVcIjogXCJnbHlwaE5hbWVcIixcbiAgICAgICAgZ2x5cGhvcmllbnRhdGlvbmhvcml6b250YWw6IFwiZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWxcIixcbiAgICAgICAgXCJnbHlwaC1vcmllbnRhdGlvbi1ob3Jpem9udGFsXCI6IFwiZ2x5cGhPcmllbnRhdGlvbkhvcml6b250YWxcIixcbiAgICAgICAgZ2x5cGhvcmllbnRhdGlvbnZlcnRpY2FsOiBcImdseXBoT3JpZW50YXRpb25WZXJ0aWNhbFwiLFxuICAgICAgICBcImdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsXCI6IFwiZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsXCIsXG4gICAgICAgIGdseXBocmVmOiBcImdseXBoUmVmXCIsXG4gICAgICAgIGdyYWRpZW50dHJhbnNmb3JtOiBcImdyYWRpZW50VHJhbnNmb3JtXCIsXG4gICAgICAgIGdyYWRpZW50dW5pdHM6IFwiZ3JhZGllbnRVbml0c1wiLFxuICAgICAgICBoYW5naW5nOiBcImhhbmdpbmdcIixcbiAgICAgICAgaG9yaXphZHZ4OiBcImhvcml6QWR2WFwiLFxuICAgICAgICBcImhvcml6LWFkdi14XCI6IFwiaG9yaXpBZHZYXCIsXG4gICAgICAgIGhvcml6b3JpZ2lueDogXCJob3Jpek9yaWdpblhcIixcbiAgICAgICAgXCJob3Jpei1vcmlnaW4teFwiOiBcImhvcml6T3JpZ2luWFwiLFxuICAgICAgICBpZGVvZ3JhcGhpYzogXCJpZGVvZ3JhcGhpY1wiLFxuICAgICAgICBpbWFnZXJlbmRlcmluZzogXCJpbWFnZVJlbmRlcmluZ1wiLFxuICAgICAgICBcImltYWdlLXJlbmRlcmluZ1wiOiBcImltYWdlUmVuZGVyaW5nXCIsXG4gICAgICAgIGluMjogXCJpbjJcIixcbiAgICAgICAgaW46IFwiaW5cIixcbiAgICAgICAgaW5saXN0OiBcImlubGlzdFwiLFxuICAgICAgICBpbnRlcmNlcHQ6IFwiaW50ZXJjZXB0XCIsXG4gICAgICAgIGsxOiBcImsxXCIsXG4gICAgICAgIGsyOiBcImsyXCIsXG4gICAgICAgIGszOiBcImszXCIsXG4gICAgICAgIGs0OiBcIms0XCIsXG4gICAgICAgIGs6IFwia1wiLFxuICAgICAgICBrZXJuZWxtYXRyaXg6IFwia2VybmVsTWF0cml4XCIsXG4gICAgICAgIGtlcm5lbHVuaXRsZW5ndGg6IFwia2VybmVsVW5pdExlbmd0aFwiLFxuICAgICAgICBrZXJuaW5nOiBcImtlcm5pbmdcIixcbiAgICAgICAga2V5cG9pbnRzOiBcImtleVBvaW50c1wiLFxuICAgICAgICBrZXlzcGxpbmVzOiBcImtleVNwbGluZXNcIixcbiAgICAgICAga2V5dGltZXM6IFwia2V5VGltZXNcIixcbiAgICAgICAgbGVuZ3RoYWRqdXN0OiBcImxlbmd0aEFkanVzdFwiLFxuICAgICAgICBsZXR0ZXJzcGFjaW5nOiBcImxldHRlclNwYWNpbmdcIixcbiAgICAgICAgXCJsZXR0ZXItc3BhY2luZ1wiOiBcImxldHRlclNwYWNpbmdcIixcbiAgICAgICAgbGlnaHRpbmdjb2xvcjogXCJsaWdodGluZ0NvbG9yXCIsXG4gICAgICAgIFwibGlnaHRpbmctY29sb3JcIjogXCJsaWdodGluZ0NvbG9yXCIsXG4gICAgICAgIGxpbWl0aW5nY29uZWFuZ2xlOiBcImxpbWl0aW5nQ29uZUFuZ2xlXCIsXG4gICAgICAgIGxvY2FsOiBcImxvY2FsXCIsXG4gICAgICAgIG1hcmtlcmVuZDogXCJtYXJrZXJFbmRcIixcbiAgICAgICAgXCJtYXJrZXItZW5kXCI6IFwibWFya2VyRW5kXCIsXG4gICAgICAgIG1hcmtlcmhlaWdodDogXCJtYXJrZXJIZWlnaHRcIixcbiAgICAgICAgbWFya2VybWlkOiBcIm1hcmtlck1pZFwiLFxuICAgICAgICBcIm1hcmtlci1taWRcIjogXCJtYXJrZXJNaWRcIixcbiAgICAgICAgbWFya2Vyc3RhcnQ6IFwibWFya2VyU3RhcnRcIixcbiAgICAgICAgXCJtYXJrZXItc3RhcnRcIjogXCJtYXJrZXJTdGFydFwiLFxuICAgICAgICBtYXJrZXJ1bml0czogXCJtYXJrZXJVbml0c1wiLFxuICAgICAgICBtYXJrZXJ3aWR0aDogXCJtYXJrZXJXaWR0aFwiLFxuICAgICAgICBtYXNrOiBcIm1hc2tcIixcbiAgICAgICAgbWFza2NvbnRlbnR1bml0czogXCJtYXNrQ29udGVudFVuaXRzXCIsXG4gICAgICAgIG1hc2t1bml0czogXCJtYXNrVW5pdHNcIixcbiAgICAgICAgbWF0aGVtYXRpY2FsOiBcIm1hdGhlbWF0aWNhbFwiLFxuICAgICAgICBtb2RlOiBcIm1vZGVcIixcbiAgICAgICAgbnVtb2N0YXZlczogXCJudW1PY3RhdmVzXCIsXG4gICAgICAgIG9mZnNldDogXCJvZmZzZXRcIixcbiAgICAgICAgb3BhY2l0eTogXCJvcGFjaXR5XCIsXG4gICAgICAgIG9wZXJhdG9yOiBcIm9wZXJhdG9yXCIsXG4gICAgICAgIG9yZGVyOiBcIm9yZGVyXCIsXG4gICAgICAgIG9yaWVudDogXCJvcmllbnRcIixcbiAgICAgICAgb3JpZW50YXRpb246IFwib3JpZW50YXRpb25cIixcbiAgICAgICAgb3JpZ2luOiBcIm9yaWdpblwiLFxuICAgICAgICBvdmVyZmxvdzogXCJvdmVyZmxvd1wiLFxuICAgICAgICBvdmVybGluZXBvc2l0aW9uOiBcIm92ZXJsaW5lUG9zaXRpb25cIixcbiAgICAgICAgXCJvdmVybGluZS1wb3NpdGlvblwiOiBcIm92ZXJsaW5lUG9zaXRpb25cIixcbiAgICAgICAgb3ZlcmxpbmV0aGlja25lc3M6IFwib3ZlcmxpbmVUaGlja25lc3NcIixcbiAgICAgICAgXCJvdmVybGluZS10aGlja25lc3NcIjogXCJvdmVybGluZVRoaWNrbmVzc1wiLFxuICAgICAgICBwYWludG9yZGVyOiBcInBhaW50T3JkZXJcIixcbiAgICAgICAgXCJwYWludC1vcmRlclwiOiBcInBhaW50T3JkZXJcIixcbiAgICAgICAgcGFub3NlMTogXCJwYW5vc2UxXCIsXG4gICAgICAgIFwicGFub3NlLTFcIjogXCJwYW5vc2UxXCIsXG4gICAgICAgIHBhdGhsZW5ndGg6IFwicGF0aExlbmd0aFwiLFxuICAgICAgICBwYXR0ZXJuY29udGVudHVuaXRzOiBcInBhdHRlcm5Db250ZW50VW5pdHNcIixcbiAgICAgICAgcGF0dGVybnRyYW5zZm9ybTogXCJwYXR0ZXJuVHJhbnNmb3JtXCIsXG4gICAgICAgIHBhdHRlcm51bml0czogXCJwYXR0ZXJuVW5pdHNcIixcbiAgICAgICAgcG9pbnRlcmV2ZW50czogXCJwb2ludGVyRXZlbnRzXCIsXG4gICAgICAgIFwicG9pbnRlci1ldmVudHNcIjogXCJwb2ludGVyRXZlbnRzXCIsXG4gICAgICAgIHBvaW50czogXCJwb2ludHNcIixcbiAgICAgICAgcG9pbnRzYXR4OiBcInBvaW50c0F0WFwiLFxuICAgICAgICBwb2ludHNhdHk6IFwicG9pbnRzQXRZXCIsXG4gICAgICAgIHBvaW50c2F0ejogXCJwb2ludHNBdFpcIixcbiAgICAgICAgcG9wb3ZlcjogXCJwb3BvdmVyXCIsXG4gICAgICAgIHBvcG92ZXJ0YXJnZXQ6IFwicG9wb3ZlclRhcmdldFwiLFxuICAgICAgICBwb3BvdmVydGFyZ2V0YWN0aW9uOiBcInBvcG92ZXJUYXJnZXRBY3Rpb25cIixcbiAgICAgICAgcHJlZml4OiBcInByZWZpeFwiLFxuICAgICAgICBwcmVzZXJ2ZWFscGhhOiBcInByZXNlcnZlQWxwaGFcIixcbiAgICAgICAgcHJlc2VydmVhc3BlY3RyYXRpbzogXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsXG4gICAgICAgIHByaW1pdGl2ZXVuaXRzOiBcInByaW1pdGl2ZVVuaXRzXCIsXG4gICAgICAgIHByb3BlcnR5OiBcInByb3BlcnR5XCIsXG4gICAgICAgIHI6IFwiclwiLFxuICAgICAgICByYWRpdXM6IFwicmFkaXVzXCIsXG4gICAgICAgIHJlZng6IFwicmVmWFwiLFxuICAgICAgICByZWZ5OiBcInJlZllcIixcbiAgICAgICAgcmVuZGVyaW5naW50ZW50OiBcInJlbmRlcmluZ0ludGVudFwiLFxuICAgICAgICBcInJlbmRlcmluZy1pbnRlbnRcIjogXCJyZW5kZXJpbmdJbnRlbnRcIixcbiAgICAgICAgcmVwZWF0Y291bnQ6IFwicmVwZWF0Q291bnRcIixcbiAgICAgICAgcmVwZWF0ZHVyOiBcInJlcGVhdER1clwiLFxuICAgICAgICByZXF1aXJlZGV4dGVuc2lvbnM6IFwicmVxdWlyZWRFeHRlbnNpb25zXCIsXG4gICAgICAgIHJlcXVpcmVkZmVhdHVyZXM6IFwicmVxdWlyZWRGZWF0dXJlc1wiLFxuICAgICAgICByZXNvdXJjZTogXCJyZXNvdXJjZVwiLFxuICAgICAgICByZXN0YXJ0OiBcInJlc3RhcnRcIixcbiAgICAgICAgcmVzdWx0OiBcInJlc3VsdFwiLFxuICAgICAgICByZXN1bHRzOiBcInJlc3VsdHNcIixcbiAgICAgICAgcm90YXRlOiBcInJvdGF0ZVwiLFxuICAgICAgICByeDogXCJyeFwiLFxuICAgICAgICByeTogXCJyeVwiLFxuICAgICAgICBzY2FsZTogXCJzY2FsZVwiLFxuICAgICAgICBzZWN1cml0eTogXCJzZWN1cml0eVwiLFxuICAgICAgICBzZWVkOiBcInNlZWRcIixcbiAgICAgICAgc2hhcGVyZW5kZXJpbmc6IFwic2hhcGVSZW5kZXJpbmdcIixcbiAgICAgICAgXCJzaGFwZS1yZW5kZXJpbmdcIjogXCJzaGFwZVJlbmRlcmluZ1wiLFxuICAgICAgICBzbG9wZTogXCJzbG9wZVwiLFxuICAgICAgICBzcGFjaW5nOiBcInNwYWNpbmdcIixcbiAgICAgICAgc3BlY3VsYXJjb25zdGFudDogXCJzcGVjdWxhckNvbnN0YW50XCIsXG4gICAgICAgIHNwZWN1bGFyZXhwb25lbnQ6IFwic3BlY3VsYXJFeHBvbmVudFwiLFxuICAgICAgICBzcGVlZDogXCJzcGVlZFwiLFxuICAgICAgICBzcHJlYWRtZXRob2Q6IFwic3ByZWFkTWV0aG9kXCIsXG4gICAgICAgIHN0YXJ0b2Zmc2V0OiBcInN0YXJ0T2Zmc2V0XCIsXG4gICAgICAgIHN0ZGRldmlhdGlvbjogXCJzdGREZXZpYXRpb25cIixcbiAgICAgICAgc3RlbWg6IFwic3RlbWhcIixcbiAgICAgICAgc3RlbXY6IFwic3RlbXZcIixcbiAgICAgICAgc3RpdGNodGlsZXM6IFwic3RpdGNoVGlsZXNcIixcbiAgICAgICAgc3RvcGNvbG9yOiBcInN0b3BDb2xvclwiLFxuICAgICAgICBcInN0b3AtY29sb3JcIjogXCJzdG9wQ29sb3JcIixcbiAgICAgICAgc3RvcG9wYWNpdHk6IFwic3RvcE9wYWNpdHlcIixcbiAgICAgICAgXCJzdG9wLW9wYWNpdHlcIjogXCJzdG9wT3BhY2l0eVwiLFxuICAgICAgICBzdHJpa2V0aHJvdWdocG9zaXRpb246IFwic3RyaWtldGhyb3VnaFBvc2l0aW9uXCIsXG4gICAgICAgIFwic3RyaWtldGhyb3VnaC1wb3NpdGlvblwiOiBcInN0cmlrZXRocm91Z2hQb3NpdGlvblwiLFxuICAgICAgICBzdHJpa2V0aHJvdWdodGhpY2tuZXNzOiBcInN0cmlrZXRocm91Z2hUaGlja25lc3NcIixcbiAgICAgICAgXCJzdHJpa2V0aHJvdWdoLXRoaWNrbmVzc1wiOiBcInN0cmlrZXRocm91Z2hUaGlja25lc3NcIixcbiAgICAgICAgc3RyaW5nOiBcInN0cmluZ1wiLFxuICAgICAgICBzdHJva2U6IFwic3Ryb2tlXCIsXG4gICAgICAgIHN0cm9rZWRhc2hhcnJheTogXCJzdHJva2VEYXNoYXJyYXlcIixcbiAgICAgICAgXCJzdHJva2UtZGFzaGFycmF5XCI6IFwic3Ryb2tlRGFzaGFycmF5XCIsXG4gICAgICAgIHN0cm9rZWRhc2hvZmZzZXQ6IFwic3Ryb2tlRGFzaG9mZnNldFwiLFxuICAgICAgICBcInN0cm9rZS1kYXNob2Zmc2V0XCI6IFwic3Ryb2tlRGFzaG9mZnNldFwiLFxuICAgICAgICBzdHJva2VsaW5lY2FwOiBcInN0cm9rZUxpbmVjYXBcIixcbiAgICAgICAgXCJzdHJva2UtbGluZWNhcFwiOiBcInN0cm9rZUxpbmVjYXBcIixcbiAgICAgICAgc3Ryb2tlbGluZWpvaW46IFwic3Ryb2tlTGluZWpvaW5cIixcbiAgICAgICAgXCJzdHJva2UtbGluZWpvaW5cIjogXCJzdHJva2VMaW5lam9pblwiLFxuICAgICAgICBzdHJva2VtaXRlcmxpbWl0OiBcInN0cm9rZU1pdGVybGltaXRcIixcbiAgICAgICAgXCJzdHJva2UtbWl0ZXJsaW1pdFwiOiBcInN0cm9rZU1pdGVybGltaXRcIixcbiAgICAgICAgc3Ryb2tld2lkdGg6IFwic3Ryb2tlV2lkdGhcIixcbiAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogXCJzdHJva2VXaWR0aFwiLFxuICAgICAgICBzdHJva2VvcGFjaXR5OiBcInN0cm9rZU9wYWNpdHlcIixcbiAgICAgICAgXCJzdHJva2Utb3BhY2l0eVwiOiBcInN0cm9rZU9wYWNpdHlcIixcbiAgICAgICAgc3VwcHJlc3Njb250ZW50ZWRpdGFibGV3YXJuaW5nOiBcInN1cHByZXNzQ29udGVudEVkaXRhYmxlV2FybmluZ1wiLFxuICAgICAgICBzdXBwcmVzc2h5ZHJhdGlvbndhcm5pbmc6IFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIsXG4gICAgICAgIHN1cmZhY2VzY2FsZTogXCJzdXJmYWNlU2NhbGVcIixcbiAgICAgICAgc3lzdGVtbGFuZ3VhZ2U6IFwic3lzdGVtTGFuZ3VhZ2VcIixcbiAgICAgICAgdGFibGV2YWx1ZXM6IFwidGFibGVWYWx1ZXNcIixcbiAgICAgICAgdGFyZ2V0eDogXCJ0YXJnZXRYXCIsXG4gICAgICAgIHRhcmdldHk6IFwidGFyZ2V0WVwiLFxuICAgICAgICB0ZXh0YW5jaG9yOiBcInRleHRBbmNob3JcIixcbiAgICAgICAgXCJ0ZXh0LWFuY2hvclwiOiBcInRleHRBbmNob3JcIixcbiAgICAgICAgdGV4dGRlY29yYXRpb246IFwidGV4dERlY29yYXRpb25cIixcbiAgICAgICAgXCJ0ZXh0LWRlY29yYXRpb25cIjogXCJ0ZXh0RGVjb3JhdGlvblwiLFxuICAgICAgICB0ZXh0bGVuZ3RoOiBcInRleHRMZW5ndGhcIixcbiAgICAgICAgdGV4dHJlbmRlcmluZzogXCJ0ZXh0UmVuZGVyaW5nXCIsXG4gICAgICAgIFwidGV4dC1yZW5kZXJpbmdcIjogXCJ0ZXh0UmVuZGVyaW5nXCIsXG4gICAgICAgIHRvOiBcInRvXCIsXG4gICAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgdHJhbnNmb3Jtb3JpZ2luOiBcInRyYW5zZm9ybU9yaWdpblwiLFxuICAgICAgICBcInRyYW5zZm9ybS1vcmlnaW5cIjogXCJ0cmFuc2Zvcm1PcmlnaW5cIixcbiAgICAgICAgdHlwZW9mOiBcInR5cGVvZlwiLFxuICAgICAgICB1MTogXCJ1MVwiLFxuICAgICAgICB1MjogXCJ1MlwiLFxuICAgICAgICB1bmRlcmxpbmVwb3NpdGlvbjogXCJ1bmRlcmxpbmVQb3NpdGlvblwiLFxuICAgICAgICBcInVuZGVybGluZS1wb3NpdGlvblwiOiBcInVuZGVybGluZVBvc2l0aW9uXCIsXG4gICAgICAgIHVuZGVybGluZXRoaWNrbmVzczogXCJ1bmRlcmxpbmVUaGlja25lc3NcIixcbiAgICAgICAgXCJ1bmRlcmxpbmUtdGhpY2tuZXNzXCI6IFwidW5kZXJsaW5lVGhpY2tuZXNzXCIsXG4gICAgICAgIHVuaWNvZGU6IFwidW5pY29kZVwiLFxuICAgICAgICB1bmljb2RlYmlkaTogXCJ1bmljb2RlQmlkaVwiLFxuICAgICAgICBcInVuaWNvZGUtYmlkaVwiOiBcInVuaWNvZGVCaWRpXCIsXG4gICAgICAgIHVuaWNvZGVyYW5nZTogXCJ1bmljb2RlUmFuZ2VcIixcbiAgICAgICAgXCJ1bmljb2RlLXJhbmdlXCI6IFwidW5pY29kZVJhbmdlXCIsXG4gICAgICAgIHVuaXRzcGVyZW06IFwidW5pdHNQZXJFbVwiLFxuICAgICAgICBcInVuaXRzLXBlci1lbVwiOiBcInVuaXRzUGVyRW1cIixcbiAgICAgICAgdW5zZWxlY3RhYmxlOiBcInVuc2VsZWN0YWJsZVwiLFxuICAgICAgICB2YWxwaGFiZXRpYzogXCJ2QWxwaGFiZXRpY1wiLFxuICAgICAgICBcInYtYWxwaGFiZXRpY1wiOiBcInZBbHBoYWJldGljXCIsXG4gICAgICAgIHZhbHVlczogXCJ2YWx1ZXNcIixcbiAgICAgICAgdmVjdG9yZWZmZWN0OiBcInZlY3RvckVmZmVjdFwiLFxuICAgICAgICBcInZlY3Rvci1lZmZlY3RcIjogXCJ2ZWN0b3JFZmZlY3RcIixcbiAgICAgICAgdmVyc2lvbjogXCJ2ZXJzaW9uXCIsXG4gICAgICAgIHZlcnRhZHZ5OiBcInZlcnRBZHZZXCIsXG4gICAgICAgIFwidmVydC1hZHYteVwiOiBcInZlcnRBZHZZXCIsXG4gICAgICAgIHZlcnRvcmlnaW54OiBcInZlcnRPcmlnaW5YXCIsXG4gICAgICAgIFwidmVydC1vcmlnaW4teFwiOiBcInZlcnRPcmlnaW5YXCIsXG4gICAgICAgIHZlcnRvcmlnaW55OiBcInZlcnRPcmlnaW5ZXCIsXG4gICAgICAgIFwidmVydC1vcmlnaW4teVwiOiBcInZlcnRPcmlnaW5ZXCIsXG4gICAgICAgIHZoYW5naW5nOiBcInZIYW5naW5nXCIsXG4gICAgICAgIFwidi1oYW5naW5nXCI6IFwidkhhbmdpbmdcIixcbiAgICAgICAgdmlkZW9ncmFwaGljOiBcInZJZGVvZ3JhcGhpY1wiLFxuICAgICAgICBcInYtaWRlb2dyYXBoaWNcIjogXCJ2SWRlb2dyYXBoaWNcIixcbiAgICAgICAgdmlld2JveDogXCJ2aWV3Qm94XCIsXG4gICAgICAgIHZpZXd0YXJnZXQ6IFwidmlld1RhcmdldFwiLFxuICAgICAgICB2aXNpYmlsaXR5OiBcInZpc2liaWxpdHlcIixcbiAgICAgICAgdm1hdGhlbWF0aWNhbDogXCJ2TWF0aGVtYXRpY2FsXCIsXG4gICAgICAgIFwidi1tYXRoZW1hdGljYWxcIjogXCJ2TWF0aGVtYXRpY2FsXCIsXG4gICAgICAgIHZvY2FiOiBcInZvY2FiXCIsXG4gICAgICAgIHdpZHRoczogXCJ3aWR0aHNcIixcbiAgICAgICAgd29yZHNwYWNpbmc6IFwid29yZFNwYWNpbmdcIixcbiAgICAgICAgXCJ3b3JkLXNwYWNpbmdcIjogXCJ3b3JkU3BhY2luZ1wiLFxuICAgICAgICB3cml0aW5nbW9kZTogXCJ3cml0aW5nTW9kZVwiLFxuICAgICAgICBcIndyaXRpbmctbW9kZVwiOiBcIndyaXRpbmdNb2RlXCIsXG4gICAgICAgIHgxOiBcIngxXCIsXG4gICAgICAgIHgyOiBcIngyXCIsXG4gICAgICAgIHg6IFwieFwiLFxuICAgICAgICB4Y2hhbm5lbHNlbGVjdG9yOiBcInhDaGFubmVsU2VsZWN0b3JcIixcbiAgICAgICAgeGhlaWdodDogXCJ4SGVpZ2h0XCIsXG4gICAgICAgIFwieC1oZWlnaHRcIjogXCJ4SGVpZ2h0XCIsXG4gICAgICAgIHhsaW5rYWN0dWF0ZTogXCJ4bGlua0FjdHVhdGVcIixcbiAgICAgICAgXCJ4bGluazphY3R1YXRlXCI6IFwieGxpbmtBY3R1YXRlXCIsXG4gICAgICAgIHhsaW5rYXJjcm9sZTogXCJ4bGlua0FyY3JvbGVcIixcbiAgICAgICAgXCJ4bGluazphcmNyb2xlXCI6IFwieGxpbmtBcmNyb2xlXCIsXG4gICAgICAgIHhsaW5raHJlZjogXCJ4bGlua0hyZWZcIixcbiAgICAgICAgXCJ4bGluazpocmVmXCI6IFwieGxpbmtIcmVmXCIsXG4gICAgICAgIHhsaW5rcm9sZTogXCJ4bGlua1JvbGVcIixcbiAgICAgICAgXCJ4bGluazpyb2xlXCI6IFwieGxpbmtSb2xlXCIsXG4gICAgICAgIHhsaW5rc2hvdzogXCJ4bGlua1Nob3dcIixcbiAgICAgICAgXCJ4bGluazpzaG93XCI6IFwieGxpbmtTaG93XCIsXG4gICAgICAgIHhsaW5rdGl0bGU6IFwieGxpbmtUaXRsZVwiLFxuICAgICAgICBcInhsaW5rOnRpdGxlXCI6IFwieGxpbmtUaXRsZVwiLFxuICAgICAgICB4bGlua3R5cGU6IFwieGxpbmtUeXBlXCIsXG4gICAgICAgIFwieGxpbms6dHlwZVwiOiBcInhsaW5rVHlwZVwiLFxuICAgICAgICB4bWxiYXNlOiBcInhtbEJhc2VcIixcbiAgICAgICAgXCJ4bWw6YmFzZVwiOiBcInhtbEJhc2VcIixcbiAgICAgICAgeG1sbGFuZzogXCJ4bWxMYW5nXCIsXG4gICAgICAgIFwieG1sOmxhbmdcIjogXCJ4bWxMYW5nXCIsXG4gICAgICAgIHhtbG5zOiBcInhtbG5zXCIsXG4gICAgICAgIFwieG1sOnNwYWNlXCI6IFwieG1sU3BhY2VcIixcbiAgICAgICAgeG1sbnN4bGluazogXCJ4bWxuc1hsaW5rXCIsXG4gICAgICAgIFwieG1sbnM6eGxpbmtcIjogXCJ4bWxuc1hsaW5rXCIsXG4gICAgICAgIHhtbHNwYWNlOiBcInhtbFNwYWNlXCIsXG4gICAgICAgIHkxOiBcInkxXCIsXG4gICAgICAgIHkyOiBcInkyXCIsXG4gICAgICAgIHk6IFwieVwiLFxuICAgICAgICB5Y2hhbm5lbHNlbGVjdG9yOiBcInlDaGFubmVsU2VsZWN0b3JcIixcbiAgICAgICAgejogXCJ6XCIsXG4gICAgICAgIHpvb21hbmRwYW46IFwiem9vbUFuZFBhblwiXG4gICAgICB9LFxuICAgICAgYXJpYVByb3BlcnRpZXMgPSB7XG4gICAgICAgIFwiYXJpYS1jdXJyZW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1kZXNjcmlwdGlvblwiOiAwLFxuICAgICAgICBcImFyaWEtZGV0YWlsc1wiOiAwLFxuICAgICAgICBcImFyaWEtZGlzYWJsZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLWhpZGRlblwiOiAwLFxuICAgICAgICBcImFyaWEtaW52YWxpZFwiOiAwLFxuICAgICAgICBcImFyaWEta2V5c2hvcnRjdXRzXCI6IDAsXG4gICAgICAgIFwiYXJpYS1sYWJlbFwiOiAwLFxuICAgICAgICBcImFyaWEtcm9sZWRlc2NyaXB0aW9uXCI6IDAsXG4gICAgICAgIFwiYXJpYS1hdXRvY29tcGxldGVcIjogMCxcbiAgICAgICAgXCJhcmlhLWNoZWNrZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1oYXNwb3B1cFwiOiAwLFxuICAgICAgICBcImFyaWEtbGV2ZWxcIjogMCxcbiAgICAgICAgXCJhcmlhLW1vZGFsXCI6IDAsXG4gICAgICAgIFwiYXJpYS1tdWx0aWxpbmVcIjogMCxcbiAgICAgICAgXCJhcmlhLW11bHRpc2VsZWN0YWJsZVwiOiAwLFxuICAgICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogMCxcbiAgICAgICAgXCJhcmlhLXBsYWNlaG9sZGVyXCI6IDAsXG4gICAgICAgIFwiYXJpYS1wcmVzc2VkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1yZWFkb25seVwiOiAwLFxuICAgICAgICBcImFyaWEtcmVxdWlyZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1zb3J0XCI6IDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiAwLFxuICAgICAgICBcImFyaWEtdmFsdWVtaW5cIjogMCxcbiAgICAgICAgXCJhcmlhLXZhbHVlbm93XCI6IDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZXRleHRcIjogMCxcbiAgICAgICAgXCJhcmlhLWF0b21pY1wiOiAwLFxuICAgICAgICBcImFyaWEtYnVzeVwiOiAwLFxuICAgICAgICBcImFyaWEtbGl2ZVwiOiAwLFxuICAgICAgICBcImFyaWEtcmVsZXZhbnRcIjogMCxcbiAgICAgICAgXCJhcmlhLWRyb3BlZmZlY3RcIjogMCxcbiAgICAgICAgXCJhcmlhLWdyYWJiZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjogMCxcbiAgICAgICAgXCJhcmlhLWNvbGNvdW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1jb2xpbmRleFwiOiAwLFxuICAgICAgICBcImFyaWEtY29sc3BhblwiOiAwLFxuICAgICAgICBcImFyaWEtY29udHJvbHNcIjogMCxcbiAgICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IDAsXG4gICAgICAgIFwiYXJpYS1lcnJvcm1lc3NhZ2VcIjogMCxcbiAgICAgICAgXCJhcmlhLWZsb3d0b1wiOiAwLFxuICAgICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiAwLFxuICAgICAgICBcImFyaWEtb3duc1wiOiAwLFxuICAgICAgICBcImFyaWEtcG9zaW5zZXRcIjogMCxcbiAgICAgICAgXCJhcmlhLXJvd2NvdW50XCI6IDAsXG4gICAgICAgIFwiYXJpYS1yb3dpbmRleFwiOiAwLFxuICAgICAgICBcImFyaWEtcm93c3BhblwiOiAwLFxuICAgICAgICBcImFyaWEtc2V0c2l6ZVwiOiAwXG4gICAgICB9LFxuICAgICAgd2FybmVkUHJvcGVydGllcyQxID0ge30sXG4gICAgICByQVJJQSQxID0gUmVnRXhwKFxuICAgICAgICBcIl4oYXJpYSktWzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF0qJFwiXG4gICAgICApLFxuICAgICAgckFSSUFDYW1lbCQxID0gUmVnRXhwKFxuICAgICAgICBcIl4oYXJpYSlbQS1aXVs6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKiRcIlxuICAgICAgKSxcbiAgICAgIGRpZFdhcm5WYWx1ZU51bGwgPSAhMSxcbiAgICAgIHdhcm5lZFByb3BlcnRpZXMgPSB7fSxcbiAgICAgIEVWRU5UX05BTUVfUkVHRVggPSAvXm9uLi8sXG4gICAgICBJTlZBTElEX0VWRU5UX05BTUVfUkVHRVggPSAvXm9uW15BLVpdLyxcbiAgICAgIHJBUklBID0gUmVnRXhwKFxuICAgICAgICBcIl4oYXJpYSktWzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF0qJFwiXG4gICAgICApLFxuICAgICAgckFSSUFDYW1lbCA9IFJlZ0V4cChcbiAgICAgICAgXCJeKGFyaWEpW0EtWl1bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFxcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwXSokXCJcbiAgICAgICksXG4gICAgICBpc0phdmFTY3JpcHRQcm90b2NvbCA9XG4gICAgICAgIC9eW1xcdTAwMDAtXFx1MDAxRiBdKmpbXFxyXFxuXFx0XSphW1xcclxcblxcdF0qdltcXHJcXG5cXHRdKmFbXFxyXFxuXFx0XSpzW1xcclxcblxcdF0qY1tcXHJcXG5cXHRdKnJbXFxyXFxuXFx0XSppW1xcclxcblxcdF0qcFtcXHJcXG5cXHRdKnRbXFxyXFxuXFx0XSo6L2ksXG4gICAgICBjdXJyZW50UmVwbGF5aW5nRXZlbnQgPSBudWxsLFxuICAgICAgcmVzdG9yZVRhcmdldCA9IG51bGwsXG4gICAgICByZXN0b3JlUXVldWUgPSBudWxsLFxuICAgICAgaXNJbnNpZGVFdmVudEhhbmRsZXIgPSAhMSxcbiAgICAgIHBhc3NpdmVCcm93c2VyRXZlbnRzU3VwcG9ydGVkID0gITE7XG4gICAgaWYgKGNhblVzZURPTSlcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBvcHRpb25zJGpzY29tcCQwID0ge307XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvcHRpb25zJGpzY29tcCQwLCBcInBhc3NpdmVcIiwge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGFzc2l2ZUJyb3dzZXJFdmVudHNTdXBwb3J0ZWQgPSAhMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgb3B0aW9ucyRqc2NvbXAkMCwgb3B0aW9ucyRqc2NvbXAkMCk7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFwiLCBvcHRpb25zJGpzY29tcCQwLCBvcHRpb25zJGpzY29tcCQwKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcGFzc2l2ZUJyb3dzZXJFdmVudHNTdXBwb3J0ZWQgPSAhMTtcbiAgICAgIH1cbiAgICB2YXIgcm9vdCA9IG51bGwsXG4gICAgICBzdGFydFRleHQgPSBudWxsLFxuICAgICAgZmFsbGJhY2tUZXh0ID0gbnVsbCxcbiAgICAgIEV2ZW50SW50ZXJmYWNlID0ge1xuICAgICAgICBldmVudFBoYXNlOiAwLFxuICAgICAgICBidWJibGVzOiAwLFxuICAgICAgICBjYW5jZWxhYmxlOiAwLFxuICAgICAgICB0aW1lU3RhbXA6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBldmVudC50aW1lU3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogMCxcbiAgICAgICAgaXNUcnVzdGVkOiAwXG4gICAgICB9LFxuICAgICAgU3ludGhldGljRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChFdmVudEludGVyZmFjZSksXG4gICAgICBVSUV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBFdmVudEludGVyZmFjZSwgeyB2aWV3OiAwLCBkZXRhaWw6IDAgfSksXG4gICAgICBTeW50aGV0aWNVSUV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoVUlFdmVudEludGVyZmFjZSksXG4gICAgICBsYXN0TW92ZW1lbnRYLFxuICAgICAgbGFzdE1vdmVtZW50WSxcbiAgICAgIGxhc3RNb3VzZUV2ZW50LFxuICAgICAgTW91c2VFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgVUlFdmVudEludGVyZmFjZSwge1xuICAgICAgICBzY3JlZW5YOiAwLFxuICAgICAgICBzY3JlZW5ZOiAwLFxuICAgICAgICBjbGllbnRYOiAwLFxuICAgICAgICBjbGllbnRZOiAwLFxuICAgICAgICBwYWdlWDogMCxcbiAgICAgICAgcGFnZVk6IDAsXG4gICAgICAgIGN0cmxLZXk6IDAsXG4gICAgICAgIHNoaWZ0S2V5OiAwLFxuICAgICAgICBhbHRLZXk6IDAsXG4gICAgICAgIG1ldGFLZXk6IDAsXG4gICAgICAgIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZSxcbiAgICAgICAgYnV0dG9uOiAwLFxuICAgICAgICBidXR0b25zOiAwLFxuICAgICAgICByZWxhdGVkVGFyZ2V0OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSBldmVudC5yZWxhdGVkVGFyZ2V0XG4gICAgICAgICAgICA/IGV2ZW50LmZyb21FbGVtZW50ID09PSBldmVudC5zcmNFbGVtZW50XG4gICAgICAgICAgICAgID8gZXZlbnQudG9FbGVtZW50XG4gICAgICAgICAgICAgIDogZXZlbnQuZnJvbUVsZW1lbnRcbiAgICAgICAgICAgIDogZXZlbnQucmVsYXRlZFRhcmdldDtcbiAgICAgICAgfSxcbiAgICAgICAgbW92ZW1lbnRYOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICBpZiAoXCJtb3ZlbWVudFhcIiBpbiBldmVudCkgcmV0dXJuIGV2ZW50Lm1vdmVtZW50WDtcbiAgICAgICAgICBldmVudCAhPT0gbGFzdE1vdXNlRXZlbnQgJiZcbiAgICAgICAgICAgIChsYXN0TW91c2VFdmVudCAmJiBcIm1vdXNlbW92ZVwiID09PSBldmVudC50eXBlXG4gICAgICAgICAgICAgID8gKChsYXN0TW92ZW1lbnRYID0gZXZlbnQuc2NyZWVuWCAtIGxhc3RNb3VzZUV2ZW50LnNjcmVlblgpLFxuICAgICAgICAgICAgICAgIChsYXN0TW92ZW1lbnRZID0gZXZlbnQuc2NyZWVuWSAtIGxhc3RNb3VzZUV2ZW50LnNjcmVlblkpKVxuICAgICAgICAgICAgICA6IChsYXN0TW92ZW1lbnRZID0gbGFzdE1vdmVtZW50WCA9IDApLFxuICAgICAgICAgICAgKGxhc3RNb3VzZUV2ZW50ID0gZXZlbnQpKTtcbiAgICAgICAgICByZXR1cm4gbGFzdE1vdmVtZW50WDtcbiAgICAgICAgfSxcbiAgICAgICAgbW92ZW1lbnRZOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJtb3ZlbWVudFlcIiBpbiBldmVudCA/IGV2ZW50Lm1vdmVtZW50WSA6IGxhc3RNb3ZlbWVudFk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljTW91c2VFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KE1vdXNlRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgRHJhZ0V2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBNb3VzZUV2ZW50SW50ZXJmYWNlLCB7IGRhdGFUcmFuc2ZlcjogMCB9KSxcbiAgICAgIFN5bnRoZXRpY0RyYWdFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KERyYWdFdmVudEludGVyZmFjZSksXG4gICAgICBGb2N1c0V2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBVSUV2ZW50SW50ZXJmYWNlLCB7IHJlbGF0ZWRUYXJnZXQ6IDAgfSksXG4gICAgICBTeW50aGV0aWNGb2N1c0V2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoRm9jdXNFdmVudEludGVyZmFjZSksXG4gICAgICBBbmltYXRpb25FdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgYW5pbWF0aW9uTmFtZTogMCxcbiAgICAgICAgZWxhcHNlZFRpbWU6IDAsXG4gICAgICAgIHBzZXVkb0VsZW1lbnQ6IDBcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljQW5pbWF0aW9uRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChBbmltYXRpb25FdmVudEludGVyZmFjZSksXG4gICAgICBDbGlwYm9hcmRFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgY2xpcGJvYXJkRGF0YTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwiY2xpcGJvYXJkRGF0YVwiIGluIGV2ZW50XG4gICAgICAgICAgICA/IGV2ZW50LmNsaXBib2FyZERhdGFcbiAgICAgICAgICAgIDogd2luZG93LmNsaXBib2FyZERhdGE7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljQ2xpcGJvYXJkRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChDbGlwYm9hcmRFdmVudEludGVyZmFjZSksXG4gICAgICBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBFdmVudEludGVyZmFjZSwgeyBkYXRhOiAwIH0pLFxuICAgICAgU3ludGhldGljQ29tcG9zaXRpb25FdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KFxuICAgICAgICBDb21wb3NpdGlvbkV2ZW50SW50ZXJmYWNlXG4gICAgICApLFxuICAgICAgU3ludGhldGljSW5wdXRFdmVudCA9IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQsXG4gICAgICBub3JtYWxpemVLZXkgPSB7XG4gICAgICAgIEVzYzogXCJFc2NhcGVcIixcbiAgICAgICAgU3BhY2ViYXI6IFwiIFwiLFxuICAgICAgICBMZWZ0OiBcIkFycm93TGVmdFwiLFxuICAgICAgICBVcDogXCJBcnJvd1VwXCIsXG4gICAgICAgIFJpZ2h0OiBcIkFycm93UmlnaHRcIixcbiAgICAgICAgRG93bjogXCJBcnJvd0Rvd25cIixcbiAgICAgICAgRGVsOiBcIkRlbGV0ZVwiLFxuICAgICAgICBXaW46IFwiT1NcIixcbiAgICAgICAgTWVudTogXCJDb250ZXh0TWVudVwiLFxuICAgICAgICBBcHBzOiBcIkNvbnRleHRNZW51XCIsXG4gICAgICAgIFNjcm9sbDogXCJTY3JvbGxMb2NrXCIsXG4gICAgICAgIE1velByaW50YWJsZUtleTogXCJVbmlkZW50aWZpZWRcIlxuICAgICAgfSxcbiAgICAgIHRyYW5zbGF0ZVRvS2V5ID0ge1xuICAgICAgICA4OiBcIkJhY2tzcGFjZVwiLFxuICAgICAgICA5OiBcIlRhYlwiLFxuICAgICAgICAxMjogXCJDbGVhclwiLFxuICAgICAgICAxMzogXCJFbnRlclwiLFxuICAgICAgICAxNjogXCJTaGlmdFwiLFxuICAgICAgICAxNzogXCJDb250cm9sXCIsXG4gICAgICAgIDE4OiBcIkFsdFwiLFxuICAgICAgICAxOTogXCJQYXVzZVwiLFxuICAgICAgICAyMDogXCJDYXBzTG9ja1wiLFxuICAgICAgICAyNzogXCJFc2NhcGVcIixcbiAgICAgICAgMzI6IFwiIFwiLFxuICAgICAgICAzMzogXCJQYWdlVXBcIixcbiAgICAgICAgMzQ6IFwiUGFnZURvd25cIixcbiAgICAgICAgMzU6IFwiRW5kXCIsXG4gICAgICAgIDM2OiBcIkhvbWVcIixcbiAgICAgICAgMzc6IFwiQXJyb3dMZWZ0XCIsXG4gICAgICAgIDM4OiBcIkFycm93VXBcIixcbiAgICAgICAgMzk6IFwiQXJyb3dSaWdodFwiLFxuICAgICAgICA0MDogXCJBcnJvd0Rvd25cIixcbiAgICAgICAgNDU6IFwiSW5zZXJ0XCIsXG4gICAgICAgIDQ2OiBcIkRlbGV0ZVwiLFxuICAgICAgICAxMTI6IFwiRjFcIixcbiAgICAgICAgMTEzOiBcIkYyXCIsXG4gICAgICAgIDExNDogXCJGM1wiLFxuICAgICAgICAxMTU6IFwiRjRcIixcbiAgICAgICAgMTE2OiBcIkY1XCIsXG4gICAgICAgIDExNzogXCJGNlwiLFxuICAgICAgICAxMTg6IFwiRjdcIixcbiAgICAgICAgMTE5OiBcIkY4XCIsXG4gICAgICAgIDEyMDogXCJGOVwiLFxuICAgICAgICAxMjE6IFwiRjEwXCIsXG4gICAgICAgIDEyMjogXCJGMTFcIixcbiAgICAgICAgMTIzOiBcIkYxMlwiLFxuICAgICAgICAxNDQ6IFwiTnVtTG9ja1wiLFxuICAgICAgICAxNDU6IFwiU2Nyb2xsTG9ja1wiLFxuICAgICAgICAyMjQ6IFwiTWV0YVwiXG4gICAgICB9LFxuICAgICAgbW9kaWZpZXJLZXlUb1Byb3AgPSB7XG4gICAgICAgIEFsdDogXCJhbHRLZXlcIixcbiAgICAgICAgQ29udHJvbDogXCJjdHJsS2V5XCIsXG4gICAgICAgIE1ldGE6IFwibWV0YUtleVwiLFxuICAgICAgICBTaGlmdDogXCJzaGlmdEtleVwiXG4gICAgICB9LFxuICAgICAgS2V5Ym9hcmRFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgVUlFdmVudEludGVyZmFjZSwge1xuICAgICAgICBrZXk6IGZ1bmN0aW9uIChuYXRpdmVFdmVudCkge1xuICAgICAgICAgIGlmIChuYXRpdmVFdmVudC5rZXkpIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBub3JtYWxpemVLZXlbbmF0aXZlRXZlbnQua2V5XSB8fCBuYXRpdmVFdmVudC5rZXk7XG4gICAgICAgICAgICBpZiAoXCJVbmlkZW50aWZpZWRcIiAhPT0ga2V5KSByZXR1cm4ga2V5O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCJrZXlwcmVzc1wiID09PSBuYXRpdmVFdmVudC50eXBlXG4gICAgICAgICAgICA/ICgobmF0aXZlRXZlbnQgPSBnZXRFdmVudENoYXJDb2RlKG5hdGl2ZUV2ZW50KSksXG4gICAgICAgICAgICAgIDEzID09PSBuYXRpdmVFdmVudCA/IFwiRW50ZXJcIiA6IFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQpKVxuICAgICAgICAgICAgOiBcImtleWRvd25cIiA9PT0gbmF0aXZlRXZlbnQudHlwZSB8fCBcImtleXVwXCIgPT09IG5hdGl2ZUV2ZW50LnR5cGVcbiAgICAgICAgICAgICAgPyB0cmFuc2xhdGVUb0tleVtuYXRpdmVFdmVudC5rZXlDb2RlXSB8fCBcIlVuaWRlbnRpZmllZFwiXG4gICAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgfSxcbiAgICAgICAgY29kZTogMCxcbiAgICAgICAgbG9jYXRpb246IDAsXG4gICAgICAgIGN0cmxLZXk6IDAsXG4gICAgICAgIHNoaWZ0S2V5OiAwLFxuICAgICAgICBhbHRLZXk6IDAsXG4gICAgICAgIG1ldGFLZXk6IDAsXG4gICAgICAgIHJlcGVhdDogMCxcbiAgICAgICAgbG9jYWxlOiAwLFxuICAgICAgICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGUsXG4gICAgICAgIGNoYXJDb2RlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlwcmVzc1wiID09PSBldmVudC50eXBlID8gZ2V0RXZlbnRDaGFyQ29kZShldmVudCkgOiAwO1xuICAgICAgICB9LFxuICAgICAgICBrZXlDb2RlOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJrZXlkb3duXCIgPT09IGV2ZW50LnR5cGUgfHwgXCJrZXl1cFwiID09PSBldmVudC50eXBlXG4gICAgICAgICAgICA/IGV2ZW50LmtleUNvZGVcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgfSxcbiAgICAgICAgd2hpY2g6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImtleXByZXNzXCIgPT09IGV2ZW50LnR5cGVcbiAgICAgICAgICAgID8gZ2V0RXZlbnRDaGFyQ29kZShldmVudClcbiAgICAgICAgICAgIDogXCJrZXlkb3duXCIgPT09IGV2ZW50LnR5cGUgfHwgXCJrZXl1cFwiID09PSBldmVudC50eXBlXG4gICAgICAgICAgICAgID8gZXZlbnQua2V5Q29kZVxuICAgICAgICAgICAgICA6IDA7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljS2V5Ym9hcmRFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KEtleWJvYXJkRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgUG9pbnRlckV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBNb3VzZUV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIHBvaW50ZXJJZDogMCxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIGhlaWdodDogMCxcbiAgICAgICAgcHJlc3N1cmU6IDAsXG4gICAgICAgIHRhbmdlbnRpYWxQcmVzc3VyZTogMCxcbiAgICAgICAgdGlsdFg6IDAsXG4gICAgICAgIHRpbHRZOiAwLFxuICAgICAgICB0d2lzdDogMCxcbiAgICAgICAgcG9pbnRlclR5cGU6IDAsXG4gICAgICAgIGlzUHJpbWFyeTogMFxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNQb2ludGVyRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChQb2ludGVyRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgVG91Y2hFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgVUlFdmVudEludGVyZmFjZSwge1xuICAgICAgICB0b3VjaGVzOiAwLFxuICAgICAgICB0YXJnZXRUb3VjaGVzOiAwLFxuICAgICAgICBjaGFuZ2VkVG91Y2hlczogMCxcbiAgICAgICAgYWx0S2V5OiAwLFxuICAgICAgICBtZXRhS2V5OiAwLFxuICAgICAgICBjdHJsS2V5OiAwLFxuICAgICAgICBzaGlmdEtleTogMCxcbiAgICAgICAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY1RvdWNoRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChUb3VjaEV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFRyYW5zaXRpb25FdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgcHJvcGVydHlOYW1lOiAwLFxuICAgICAgICBlbGFwc2VkVGltZTogMCxcbiAgICAgICAgcHNldWRvRWxlbWVudDogMFxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChUcmFuc2l0aW9uRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgV2hlZWxFdmVudEludGVyZmFjZSA9IGFzc2lnbih7fSwgTW91c2VFdmVudEludGVyZmFjZSwge1xuICAgICAgICBkZWx0YVg6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImRlbHRhWFwiIGluIGV2ZW50XG4gICAgICAgICAgICA/IGV2ZW50LmRlbHRhWFxuICAgICAgICAgICAgOiBcIndoZWVsRGVsdGFYXCIgaW4gZXZlbnRcbiAgICAgICAgICAgICAgPyAtZXZlbnQud2hlZWxEZWx0YVhcbiAgICAgICAgICAgICAgOiAwO1xuICAgICAgICB9LFxuICAgICAgICBkZWx0YVk6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImRlbHRhWVwiIGluIGV2ZW50XG4gICAgICAgICAgICA/IGV2ZW50LmRlbHRhWVxuICAgICAgICAgICAgOiBcIndoZWVsRGVsdGFZXCIgaW4gZXZlbnRcbiAgICAgICAgICAgICAgPyAtZXZlbnQud2hlZWxEZWx0YVlcbiAgICAgICAgICAgICAgOiBcIndoZWVsRGVsdGFcIiBpbiBldmVudFxuICAgICAgICAgICAgICAgID8gLWV2ZW50LndoZWVsRGVsdGFcbiAgICAgICAgICAgICAgICA6IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbHRhWjogMCxcbiAgICAgICAgZGVsdGFNb2RlOiAwXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY1doZWVsRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChXaGVlbEV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFRvZ2dsZUV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBFdmVudEludGVyZmFjZSwge1xuICAgICAgICBuZXdTdGF0ZTogMCxcbiAgICAgICAgb2xkU3RhdGU6IDBcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljVG9nZ2xlRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChUb2dnbGVFdmVudEludGVyZmFjZSksXG4gICAgICBFTkRfS0VZQ09ERVMgPSBbOSwgMTMsIDI3LCAzMl0sXG4gICAgICBTVEFSVF9LRVlDT0RFID0gMjI5LFxuICAgICAgY2FuVXNlQ29tcG9zaXRpb25FdmVudCA9IGNhblVzZURPTSAmJiBcIkNvbXBvc2l0aW9uRXZlbnRcIiBpbiB3aW5kb3csXG4gICAgICBkb2N1bWVudE1vZGUgPSBudWxsO1xuICAgIGNhblVzZURPTSAmJlxuICAgICAgXCJkb2N1bWVudE1vZGVcIiBpbiBkb2N1bWVudCAmJlxuICAgICAgKGRvY3VtZW50TW9kZSA9IGRvY3VtZW50LmRvY3VtZW50TW9kZSk7XG4gICAgdmFyIGNhblVzZVRleHRJbnB1dEV2ZW50ID1cbiAgICAgICAgY2FuVXNlRE9NICYmIFwiVGV4dEV2ZW50XCIgaW4gd2luZG93ICYmICFkb2N1bWVudE1vZGUsXG4gICAgICB1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSA9XG4gICAgICAgIGNhblVzZURPTSAmJlxuICAgICAgICAoIWNhblVzZUNvbXBvc2l0aW9uRXZlbnQgfHxcbiAgICAgICAgICAoZG9jdW1lbnRNb2RlICYmIDggPCBkb2N1bWVudE1vZGUgJiYgMTEgPj0gZG9jdW1lbnRNb2RlKSksXG4gICAgICBTUEFDRUJBUl9DT0RFID0gMzIsXG4gICAgICBTUEFDRUJBUl9DSEFSID0gU3RyaW5nLmZyb21DaGFyQ29kZShTUEFDRUJBUl9DT0RFKSxcbiAgICAgIGhhc1NwYWNlS2V5cHJlc3MgPSAhMSxcbiAgICAgIGlzQ29tcG9zaW5nID0gITEsXG4gICAgICBzdXBwb3J0ZWRJbnB1dFR5cGVzID0ge1xuICAgICAgICBjb2xvcjogITAsXG4gICAgICAgIGRhdGU6ICEwLFxuICAgICAgICBkYXRldGltZTogITAsXG4gICAgICAgIFwiZGF0ZXRpbWUtbG9jYWxcIjogITAsXG4gICAgICAgIGVtYWlsOiAhMCxcbiAgICAgICAgbW9udGg6ICEwLFxuICAgICAgICBudW1iZXI6ICEwLFxuICAgICAgICBwYXNzd29yZDogITAsXG4gICAgICAgIHJhbmdlOiAhMCxcbiAgICAgICAgc2VhcmNoOiAhMCxcbiAgICAgICAgdGVsOiAhMCxcbiAgICAgICAgdGV4dDogITAsXG4gICAgICAgIHRpbWU6ICEwLFxuICAgICAgICB1cmw6ICEwLFxuICAgICAgICB3ZWVrOiAhMFxuICAgICAgfSxcbiAgICAgIGFjdGl2ZUVsZW1lbnQkMSA9IG51bGwsXG4gICAgICBhY3RpdmVFbGVtZW50SW5zdCQxID0gbnVsbCxcbiAgICAgIGlzSW5wdXRFdmVudFN1cHBvcnRlZCA9ICExO1xuICAgIGNhblVzZURPTSAmJlxuICAgICAgKGlzSW5wdXRFdmVudFN1cHBvcnRlZCA9XG4gICAgICAgIGlzRXZlbnRTdXBwb3J0ZWQoXCJpbnB1dFwiKSAmJlxuICAgICAgICAoIWRvY3VtZW50LmRvY3VtZW50TW9kZSB8fCA5IDwgZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSk7XG4gICAgdmFyIG9iamVjdElzID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgT2JqZWN0LmlzID8gT2JqZWN0LmlzIDogaXMsXG4gICAgICBza2lwU2VsZWN0aW9uQ2hhbmdlRXZlbnQgPVxuICAgICAgICBjYW5Vc2VET00gJiYgXCJkb2N1bWVudE1vZGVcIiBpbiBkb2N1bWVudCAmJiAxMSA+PSBkb2N1bWVudC5kb2N1bWVudE1vZGUsXG4gICAgICBhY3RpdmVFbGVtZW50ID0gbnVsbCxcbiAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0ID0gbnVsbCxcbiAgICAgIGxhc3RTZWxlY3Rpb24gPSBudWxsLFxuICAgICAgbW91c2VEb3duID0gITEsXG4gICAgICB2ZW5kb3JQcmVmaXhlcyA9IHtcbiAgICAgICAgYW5pbWF0aW9uZW5kOiBtYWtlUHJlZml4TWFwKFwiQW5pbWF0aW9uXCIsIFwiQW5pbWF0aW9uRW5kXCIpLFxuICAgICAgICBhbmltYXRpb25pdGVyYXRpb246IG1ha2VQcmVmaXhNYXAoXCJBbmltYXRpb25cIiwgXCJBbmltYXRpb25JdGVyYXRpb25cIiksXG4gICAgICAgIGFuaW1hdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKFwiQW5pbWF0aW9uXCIsIFwiQW5pbWF0aW9uU3RhcnRcIiksXG4gICAgICAgIHRyYW5zaXRpb25ydW46IG1ha2VQcmVmaXhNYXAoXCJUcmFuc2l0aW9uXCIsIFwiVHJhbnNpdGlvblJ1blwiKSxcbiAgICAgICAgdHJhbnNpdGlvbnN0YXJ0OiBtYWtlUHJlZml4TWFwKFwiVHJhbnNpdGlvblwiLCBcIlRyYW5zaXRpb25TdGFydFwiKSxcbiAgICAgICAgdHJhbnNpdGlvbmNhbmNlbDogbWFrZVByZWZpeE1hcChcIlRyYW5zaXRpb25cIiwgXCJUcmFuc2l0aW9uQ2FuY2VsXCIpLFxuICAgICAgICB0cmFuc2l0aW9uZW5kOiBtYWtlUHJlZml4TWFwKFwiVHJhbnNpdGlvblwiLCBcIlRyYW5zaXRpb25FbmRcIilcbiAgICAgIH0sXG4gICAgICBwcmVmaXhlZEV2ZW50TmFtZXMgPSB7fSxcbiAgICAgIHN0eWxlID0ge307XG4gICAgY2FuVXNlRE9NICYmXG4gICAgICAoKHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKS5zdHlsZSksXG4gICAgICBcIkFuaW1hdGlvbkV2ZW50XCIgaW4gd2luZG93IHx8XG4gICAgICAgIChkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uZW5kLmFuaW1hdGlvbixcbiAgICAgICAgZGVsZXRlIHZlbmRvclByZWZpeGVzLmFuaW1hdGlvbml0ZXJhdGlvbi5hbmltYXRpb24sXG4gICAgICAgIGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25zdGFydC5hbmltYXRpb24pLFxuICAgICAgXCJUcmFuc2l0aW9uRXZlbnRcIiBpbiB3aW5kb3cgfHxcbiAgICAgICAgZGVsZXRlIHZlbmRvclByZWZpeGVzLnRyYW5zaXRpb25lbmQudHJhbnNpdGlvbik7XG4gICAgdmFyIEFOSU1BVElPTl9FTkQgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcImFuaW1hdGlvbmVuZFwiKSxcbiAgICAgIEFOSU1BVElPTl9JVEVSQVRJT04gPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcImFuaW1hdGlvbml0ZXJhdGlvblwiKSxcbiAgICAgIEFOSU1BVElPTl9TVEFSVCA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwiYW5pbWF0aW9uc3RhcnRcIiksXG4gICAgICBUUkFOU0lUSU9OX1JVTiA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwidHJhbnNpdGlvbnJ1blwiKSxcbiAgICAgIFRSQU5TSVRJT05fU1RBUlQgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcInRyYW5zaXRpb25zdGFydFwiKSxcbiAgICAgIFRSQU5TSVRJT05fQ0FOQ0VMID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJ0cmFuc2l0aW9uY2FuY2VsXCIpLFxuICAgICAgVFJBTlNJVElPTl9FTkQgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcInRyYW5zaXRpb25lbmRcIiksXG4gICAgICB0b3BMZXZlbEV2ZW50c1RvUmVhY3ROYW1lcyA9IG5ldyBNYXAoKSxcbiAgICAgIHNpbXBsZUV2ZW50UGx1Z2luRXZlbnRzID1cbiAgICAgICAgXCJhYm9ydCBhdXhDbGljayBiZWZvcmVUb2dnbGUgY2FuY2VsIGNhblBsYXkgY2FuUGxheVRocm91Z2ggY2xpY2sgY2xvc2UgY29udGV4dE1lbnUgY29weSBjdXQgZHJhZyBkcmFnRW5kIGRyYWdFbnRlciBkcmFnRXhpdCBkcmFnTGVhdmUgZHJhZ092ZXIgZHJhZ1N0YXJ0IGRyb3AgZHVyYXRpb25DaGFuZ2UgZW1wdGllZCBlbmNyeXB0ZWQgZW5kZWQgZXJyb3IgZ290UG9pbnRlckNhcHR1cmUgaW5wdXQgaW52YWxpZCBrZXlEb3duIGtleVByZXNzIGtleVVwIGxvYWQgbG9hZGVkRGF0YSBsb2FkZWRNZXRhZGF0YSBsb2FkU3RhcnQgbG9zdFBvaW50ZXJDYXB0dXJlIG1vdXNlRG93biBtb3VzZU1vdmUgbW91c2VPdXQgbW91c2VPdmVyIG1vdXNlVXAgcGFzdGUgcGF1c2UgcGxheSBwbGF5aW5nIHBvaW50ZXJDYW5jZWwgcG9pbnRlckRvd24gcG9pbnRlck1vdmUgcG9pbnRlck91dCBwb2ludGVyT3ZlciBwb2ludGVyVXAgcHJvZ3Jlc3MgcmF0ZUNoYW5nZSByZXNldCByZXNpemUgc2Vla2VkIHNlZWtpbmcgc3RhbGxlZCBzdWJtaXQgc3VzcGVuZCB0aW1lVXBkYXRlIHRvdWNoQ2FuY2VsIHRvdWNoRW5kIHRvdWNoU3RhcnQgdm9sdW1lQ2hhbmdlIHNjcm9sbCBzY3JvbGxFbmQgdG9nZ2xlIHRvdWNoTW92ZSB3YWl0aW5nIHdoZWVsXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgIE9mZnNjcmVlblZpc2libGUgPSAxLFxuICAgICAgT2Zmc2NyZWVuRGV0YWNoZWQgPSAyLFxuICAgICAgT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQgPSA0LFxuICAgICAgY29uY3VycmVudFF1ZXVlcyA9IFtdLFxuICAgICAgY29uY3VycmVudFF1ZXVlc0luZGV4ID0gMCxcbiAgICAgIGNvbmN1cnJlbnRseVVwZGF0ZWRMYW5lcyA9IDAsXG4gICAgICBlbXB0eUNvbnRleHRPYmplY3QgPSB7fTtcbiAgICBPYmplY3QuZnJlZXplKGVtcHR5Q29udGV4dE9iamVjdCk7XG4gICAgdmFyIHJlc29sdmVGYW1pbHkgPSBudWxsLFxuICAgICAgZmFpbGVkQm91bmRhcmllcyA9IG51bGwsXG4gICAgICBOb01vZGUgPSAwLFxuICAgICAgQ29uY3VycmVudE1vZGUgPSAxLFxuICAgICAgUHJvZmlsZU1vZGUgPSAyLFxuICAgICAgU3RyaWN0TGVnYWN5TW9kZSA9IDgsXG4gICAgICBTdHJpY3RFZmZlY3RzTW9kZSA9IDE2LFxuICAgICAgTm9TdHJpY3RQYXNzaXZlRWZmZWN0c01vZGUgPSA2NCxcbiAgICAgIG5vdyA9IFNjaGVkdWxlci51bnN0YWJsZV9ub3csXG4gICAgICByZW5kZXJTdGFydFRpbWUgPSAtMCxcbiAgICAgIGNvbW1pdFN0YXJ0VGltZSA9IC0wLFxuICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSAtMS4xLFxuICAgICAgcHJvZmlsZXJFZmZlY3REdXJhdGlvbiA9IC0wLFxuICAgICAgY3VycmVudFVwZGF0ZUlzTmVzdGVkID0gITEsXG4gICAgICBuZXN0ZWRVcGRhdGVTY2hlZHVsZWQgPSAhMSxcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzID0ge1xuICAgICAgICByZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5nczogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIGZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgcmVjb3JkTGVnYWN5Q29udGV4dFdhcm5pbmc6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBmbHVzaExlZ2FjeUNvbnRleHRXYXJuaW5nOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgZGlzY2FyZFBlbmRpbmdXYXJuaW5nczogZnVuY3Rpb24gKCkge31cbiAgICAgIH0sXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXSxcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXSxcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXSxcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW10sXG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdLFxuICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcyA9IG5ldyBTZXQoKTtcbiAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IGZ1bmN0aW9uIChcbiAgICAgIGZpYmVyLFxuICAgICAgaW5zdGFuY2VcbiAgICApIHtcbiAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuaGFzKGZpYmVyLnR5cGUpIHx8XG4gICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAhMCAhPT0gaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50Ll9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgJiZcbiAgICAgICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MucHVzaChmaWJlciksXG4gICAgICAgIGZpYmVyLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MucHVzaChmaWJlciksXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICAhMCAhPT1cbiAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAmJlxuICAgICAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MucHVzaChmaWJlciksXG4gICAgICAgIGZpYmVyLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5wdXNoKGZpYmVyKSxcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVwZGF0ZSAmJlxuICAgICAgICAgICEwICE9PSBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgJiZcbiAgICAgICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLnB1c2goZmliZXIpLFxuICAgICAgICBmaWJlci5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MucHVzaChmaWJlcikpO1xuICAgIH07XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgIH0pLFxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW10pKTtcbiAgICAgIHZhciBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5sZW5ndGggJiZcbiAgICAgICAgKHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgIH0pLFxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdKSk7XG4gICAgICB2YXIgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXSkpO1xuICAgICAgdmFyIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5mb3JFYWNoKFxuICAgICAgICAgIGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcy5hZGQoXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdKSk7XG4gICAgICB2YXIgY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzID0gbmV3IFNldCgpO1xuICAgICAgMCA8IHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICB9KSxcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXSkpO1xuICAgICAgdmFyIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgIH0pLFxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXSkpO1xuICAgICAgaWYgKDAgPCBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMuc2l6ZSkge1xuICAgICAgICB2YXIgc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhcbiAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXNcbiAgICAgICAgKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzaW5nIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgaW4gc3RyaWN0IG1vZGUgaXMgbm90IHJlY29tbWVuZGVkIGFuZCBtYXkgaW5kaWNhdGUgYnVncyBpbiB5b3VyIGNvZGUuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgY29kZSB3aXRoIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRNb3VudCwgYW5kIHNldCBpbml0aWFsIHN0YXRlIGluIHRoZSBjb25zdHJ1Y3Rvci5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcIixcbiAgICAgICAgICBzb3J0ZWROYW1lc1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgMCA8IFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMuc2l6ZSAmJlxuICAgICAgICAoKHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoXG4gICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lc1xuICAgICAgICApKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVzaW5nIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGluIHN0cmljdCBtb2RlIGlzIG5vdCByZWNvbW1lbmRlZCBhbmQgbWF5IGluZGljYXRlIGJ1Z3MgaW4geW91ciBjb2RlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGRhdGEgZmV0Y2hpbmcgY29kZSBvciBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkVXBkYXRlLlxcbiogSWYgeW91J3JlIHVwZGF0aW5nIHN0YXRlIHdoZW5ldmVyIHByb3BzIGNoYW5nZSwgcmVmYWN0b3IgeW91ciBjb2RlIHRvIHVzZSBtZW1vaXphdGlvbiB0ZWNobmlxdWVzIG9yIG1vdmUgaXQgdG8gc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy4gTGVhcm4gbW9yZSBhdDogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9kZXJpdmVkLXN0YXRlXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgICAwIDwgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcy5zaXplICYmXG4gICAgICAgICgoc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhcbiAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzXG4gICAgICAgICkpLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVXNpbmcgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgaW4gc3RyaWN0IG1vZGUgaXMgbm90IHJlY29tbWVuZGVkIGFuZCBtYXkgaW5kaWNhdGUgYnVncyBpbiB5b3VyIGNvZGUuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgZGF0YSBmZXRjaGluZyBjb2RlIG9yIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRVcGRhdGUuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgICAwIDwgY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMuc2l6ZSAmJlxuICAgICAgICAoKHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoY29tcG9uZW50V2lsbE1vdW50VW5pcXVlTmFtZXMpKSxcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiY29tcG9uZW50V2lsbE1vdW50IGhhcyBiZWVuIHJlbmFtZWQsIGFuZCBpcyBub3QgcmVjb21tZW5kZWQgZm9yIHVzZS4gU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbiogTW92ZSBjb2RlIHdpdGggc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZE1vdW50LCBhbmQgc2V0IGluaXRpYWwgc3RhdGUgaW4gdGhlIGNvbnN0cnVjdG9yLlxcbiogUmVuYW1lIGNvbXBvbmVudFdpbGxNb3VudCB0byBVTlNBRkVfY29tcG9uZW50V2lsbE1vdW50IHRvIHN1cHByZXNzIHRoaXMgd2FybmluZyBpbiBub24tc3RyaWN0IG1vZGUuIEluIFJlYWN0IDE4LngsIG9ubHkgdGhlIFVOU0FGRV8gbmFtZSB3aWxsIHdvcmsuIFRvIHJlbmFtZSBhbGwgZGVwcmVjYXRlZCBsaWZlY3ljbGVzIHRvIHRoZWlyIG5ldyBuYW1lcywgeW91IGNhbiBydW4gYG5weCByZWFjdC1jb2RlbW9kIHJlbmFtZS11bnNhZmUtbGlmZWN5Y2xlc2AgaW4geW91ciBwcm9qZWN0IHNvdXJjZSBmb2xkZXIuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgICAwIDwgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLnNpemUgJiZcbiAgICAgICAgKChzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKFxuICAgICAgICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lc1xuICAgICAgICApKSxcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyBoYXMgYmVlbiByZW5hbWVkLCBhbmQgaXMgbm90IHJlY29tbWVuZGVkIGZvciB1c2UuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgZGF0YSBmZXRjaGluZyBjb2RlIG9yIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRVcGRhdGUuXFxuKiBJZiB5b3UncmUgdXBkYXRpbmcgc3RhdGUgd2hlbmV2ZXIgcHJvcHMgY2hhbmdlLCByZWZhY3RvciB5b3VyIGNvZGUgdG8gdXNlIG1lbW9pemF0aW9uIHRlY2huaXF1ZXMgb3IgbW92ZSBpdCB0byBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiBMZWFybiBtb3JlIGF0OiBodHRwczovL3JlYWN0LmRldi9saW5rL2Rlcml2ZWQtc3RhdGVcXG4qIFJlbmFtZSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIHRvIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIHRvIHN1cHByZXNzIHRoaXMgd2FybmluZyBpbiBub24tc3RyaWN0IG1vZGUuIEluIFJlYWN0IDE4LngsIG9ubHkgdGhlIFVOU0FGRV8gbmFtZSB3aWxsIHdvcmsuIFRvIHJlbmFtZSBhbGwgZGVwcmVjYXRlZCBsaWZlY3ljbGVzIHRvIHRoZWlyIG5ldyBuYW1lcywgeW91IGNhbiBydW4gYG5weCByZWFjdC1jb2RlbW9kIHJlbmFtZS11bnNhZmUtbGlmZWN5Y2xlc2AgaW4geW91ciBwcm9qZWN0IHNvdXJjZSBmb2xkZXIuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgICAwIDwgY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzLnNpemUgJiZcbiAgICAgICAgKChzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKGNvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcykpLFxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJjb21wb25lbnRXaWxsVXBkYXRlIGhhcyBiZWVuIHJlbmFtZWQsIGFuZCBpcyBub3QgcmVjb21tZW5kZWQgZm9yIHVzZS4gU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbiogTW92ZSBkYXRhIGZldGNoaW5nIGNvZGUgb3Igc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZFVwZGF0ZS5cXG4qIFJlbmFtZSBjb21wb25lbnRXaWxsVXBkYXRlIHRvIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlIHRvIHN1cHByZXNzIHRoaXMgd2FybmluZyBpbiBub24tc3RyaWN0IG1vZGUuIEluIFJlYWN0IDE4LngsIG9ubHkgdGhlIFVOU0FGRV8gbmFtZSB3aWxsIHdvcmsuIFRvIHJlbmFtZSBhbGwgZGVwcmVjYXRlZCBsaWZlY3ljbGVzIHRvIHRoZWlyIG5ldyBuYW1lcywgeW91IGNhbiBydW4gYG5weCByZWFjdC1jb2RlbW9kIHJlbmFtZS11bnNhZmUtbGlmZWN5Y2xlc2AgaW4geW91ciBwcm9qZWN0IHNvdXJjZSBmb2xkZXIuXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXCIsXG4gICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgKSk7XG4gICAgfTtcbiAgICB2YXIgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nID0gbmV3IE1hcCgpLFxuICAgICAgZGlkV2FybkFib3V0TGVnYWN5Q29udGV4dCA9IG5ldyBTZXQoKTtcbiAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZyA9IGZ1bmN0aW9uIChcbiAgICAgIGZpYmVyLFxuICAgICAgaW5zdGFuY2VcbiAgICApIHtcbiAgICAgIHZhciBzdHJpY3RSb290ID0gbnVsbDtcbiAgICAgIGZvciAodmFyIG5vZGUgPSBmaWJlcjsgbnVsbCAhPT0gbm9kZTsgKVxuICAgICAgICBub2RlLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmIChzdHJpY3RSb290ID0gbm9kZSksXG4gICAgICAgICAgKG5vZGUgPSBub2RlLnJldHVybik7XG4gICAgICBudWxsID09PSBzdHJpY3RSb290XG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gZmluZCBhIFN0cmljdE1vZGUgY29tcG9uZW50IGluIGEgc3RyaWN0IG1vZGUgdHJlZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgIClcbiAgICAgICAgOiAhZGlkV2FybkFib3V0TGVnYWN5Q29udGV4dC5oYXMoZmliZXIudHlwZSkgJiZcbiAgICAgICAgICAoKG5vZGUgPSBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcuZ2V0KHN0cmljdFJvb3QpKSxcbiAgICAgICAgICBudWxsICE9IGZpYmVyLnR5cGUuY29udGV4dFR5cGVzIHx8XG4gICAgICAgICAgICBudWxsICE9IGZpYmVyLnR5cGUuY2hpbGRDb250ZXh0VHlwZXMgfHxcbiAgICAgICAgICAgIChudWxsICE9PSBpbnN0YW5jZSAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5nZXRDaGlsZENvbnRleHQpKSAmJlxuICAgICAgICAgICh2b2lkIDAgPT09IG5vZGUgJiZcbiAgICAgICAgICAgICgobm9kZSA9IFtdKSwgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nLnNldChzdHJpY3RSb290LCBub2RlKSksXG4gICAgICAgICAgbm9kZS5wdXNoKGZpYmVyKSk7XG4gICAgfTtcbiAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaExlZ2FjeUNvbnRleHRXYXJuaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgcGVuZGluZ0xlZ2FjeUNvbnRleHRXYXJuaW5nLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyQXJyYXkpIHtcbiAgICAgICAgaWYgKDAgIT09IGZpYmVyQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGZpcnN0RmliZXIgPSBmaWJlckFycmF5WzBdLFxuICAgICAgICAgICAgdW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgZmliZXJBcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgICAgdW5pcXVlTmFtZXMuYWRkKGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiQ29tcG9uZW50XCIpO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0TGVnYWN5Q29udGV4dC5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcodW5pcXVlTmFtZXMpO1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpcnN0RmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiTGVnYWN5IGNvbnRleHQgQVBJIGhhcyBiZWVuIGRldGVjdGVkIHdpdGhpbiBhIHN0cmljdC1tb2RlIHRyZWUuXFxuXFxuVGhlIG9sZCBBUEkgd2lsbCBiZSBzdXBwb3J0ZWQgaW4gYWxsIDE2LnggcmVsZWFzZXMsIGJ1dCBhcHBsaWNhdGlvbnMgdXNpbmcgaXQgc2hvdWxkIG1pZ3JhdGUgdG8gdGhlIG5ldyB2ZXJzaW9uLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1xcblxcbkxlYXJuIG1vcmUgYWJvdXQgdGhpcyB3YXJuaW5nIGhlcmU6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbGVnYWN5LWNvbnRleHRcIixcbiAgICAgICAgICAgICAgc29ydGVkTmFtZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MuZGlzY2FyZFBlbmRpbmdXYXJuaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW107XG4gICAgICBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcgPSBuZXcgTWFwKCk7XG4gICAgfTtcbiAgICB2YXIgQ2FwdHVyZWRTdGFja3MgPSBuZXcgV2Vha01hcCgpLFxuICAgICAgZm9ya1N0YWNrID0gW10sXG4gICAgICBmb3JrU3RhY2tJbmRleCA9IDAsXG4gICAgICB0cmVlRm9ya1Byb3ZpZGVyID0gbnVsbCxcbiAgICAgIHRyZWVGb3JrQ291bnQgPSAwLFxuICAgICAgaWRTdGFjayA9IFtdLFxuICAgICAgaWRTdGFja0luZGV4ID0gMCxcbiAgICAgIHRyZWVDb250ZXh0UHJvdmlkZXIgPSBudWxsLFxuICAgICAgdHJlZUNvbnRleHRJZCA9IDEsXG4gICAgICB0cmVlQ29udGV4dE92ZXJmbG93ID0gXCJcIixcbiAgICAgIGh5ZHJhdGlvblBhcmVudEZpYmVyID0gbnVsbCxcbiAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBudWxsLFxuICAgICAgaXNIeWRyYXRpbmcgPSAhMSxcbiAgICAgIGRpZFN1c3BlbmRPckVycm9yREVWID0gITEsXG4gICAgICBoeWRyYXRpb25EaWZmUm9vdERFViA9IG51bGwsXG4gICAgICBoeWRyYXRpb25FcnJvcnMgPSBudWxsLFxuICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICExLFxuICAgICAgSHlkcmF0aW9uTWlzbWF0Y2hFeGNlcHRpb24gPSBFcnJvcihcbiAgICAgICAgXCJIeWRyYXRpb24gTWlzbWF0Y2ggRXhjZXB0aW9uOiBUaGlzIGlzIG5vdCBhIHJlYWwgZXJyb3IsIGFuZCBzaG91bGQgbm90IGxlYWsgaW50byB1c2Vyc3BhY2UuIElmIHlvdSdyZSBzZWVpbmcgdGhpcywgaXQncyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICksXG4gICAgICBTdXNwZW5zZUV4Y2VwdGlvbiA9IEVycm9yKFxuICAgICAgICBcIlN1c3BlbnNlIEV4Y2VwdGlvbjogVGhpcyBpcyBub3QgYSByZWFsIGVycm9yISBJdCdzIGFuIGltcGxlbWVudGF0aW9uIGRldGFpbCBvZiBgdXNlYCB0byBpbnRlcnJ1cHQgdGhlIGN1cnJlbnQgcmVuZGVyLiBZb3UgbXVzdCBlaXRoZXIgcmV0aHJvdyBpdCBpbW1lZGlhdGVseSwgb3IgbW92ZSB0aGUgYHVzZWAgY2FsbCBvdXRzaWRlIG9mIHRoZSBgdHJ5L2NhdGNoYCBibG9jay4gQ2FwdHVyaW5nIHdpdGhvdXQgcmV0aHJvd2luZyB3aWxsIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci5cXG5cXG5UbyBoYW5kbGUgYXN5bmMgZXJyb3JzLCB3cmFwIHlvdXIgY29tcG9uZW50IGluIGFuIGVycm9yIGJvdW5kYXJ5LCBvciBjYWxsIHRoZSBwcm9taXNlJ3MgYC5jYXRjaGAgbWV0aG9kIGFuZCBwYXNzIHRoZSByZXN1bHQgdG8gYHVzZWBcIlxuICAgICAgKSxcbiAgICAgIFN1c3BlbnNleUNvbW1pdEV4Y2VwdGlvbiA9IEVycm9yKFxuICAgICAgICBcIlN1c3BlbnNlIEV4Y2VwdGlvbjogVGhpcyBpcyBub3QgYSByZWFsIGVycm9yLCBhbmQgc2hvdWxkIG5vdCBsZWFrIGludG8gdXNlcnNwYWNlLiBJZiB5b3UncmUgc2VlaW5nIHRoaXMsIGl0J3MgbGlrZWx5IGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICApLFxuICAgICAgbm9vcFN1c3BlbnNleUNvbW1pdFRoZW5hYmxlID0ge1xuICAgICAgICB0aGVuOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdJbnRlcm5hbCBSZWFjdCBlcnJvcjogQSBsaXN0ZW5lciB3YXMgdW5leHBlY3RlZGx5IGF0dGFjaGVkIHRvIGEgXCJub29wXCIgdGhlbmFibGUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3VzcGVuZGVkVGhlbmFibGUgPSBudWxsLFxuICAgICAgbmVlZHNUb1Jlc2V0U3VzcGVuZGVkVGhlbmFibGVERVYgPSAhMSxcbiAgICAgIGNhbGxDb21wb25lbnQgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChDb21wb25lbnQsIHByb3BzLCBzZWNvbmRBcmcpIHtcbiAgICAgICAgICB2YXIgd2FzUmVuZGVyaW5nID0gaXNSZW5kZXJpbmc7XG4gICAgICAgICAgaXNSZW5kZXJpbmcgPSAhMDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIENvbXBvbmVudChwcm9wcywgc2Vjb25kQXJnKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaXNSZW5kZXJpbmcgPSB3YXNSZW5kZXJpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbENvbXBvbmVudEluREVWID1cbiAgICAgICAgY2FsbENvbXBvbmVudFtcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXS5iaW5kKGNhbGxDb21wb25lbnQpLFxuICAgICAgY2FsbFJlbmRlciA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgICAgdmFyIHdhc1JlbmRlcmluZyA9IGlzUmVuZGVyaW5nO1xuICAgICAgICAgIGlzUmVuZGVyaW5nID0gITA7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5yZW5kZXIoKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaXNSZW5kZXJpbmcgPSB3YXNSZW5kZXJpbmc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbFJlbmRlckluREVWID0gY2FsbFJlbmRlcltcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXS5iaW5kKGNhbGxSZW5kZXIpLFxuICAgICAgY2FsbENvbXBvbmVudERpZE1vdW50ID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoZmluaXNoZWRXb3JrLCBpbnN0YW5jZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCgpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ29tcG9uZW50RGlkTW91bnRJbkRFViA9IGNhbGxDb21wb25lbnREaWRNb3VudFtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIlxuICAgICAgXS5iaW5kKGNhbGxDb21wb25lbnREaWRNb3VudCksXG4gICAgICBjYWxsQ29tcG9uZW50RGlkVXBkYXRlID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHByZXZQcm9wcyxcbiAgICAgICAgICBwcmV2U3RhdGUsXG4gICAgICAgICAgc25hcHNob3RcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHMsIHByZXZTdGF0ZSwgc25hcHNob3QpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ29tcG9uZW50RGlkVXBkYXRlSW5ERVYgPSBjYWxsQ29tcG9uZW50RGlkVXBkYXRlW1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXG4gICAgICBdLmJpbmQoY2FsbENvbXBvbmVudERpZFVwZGF0ZSksXG4gICAgICBjYWxsQ29tcG9uZW50RGlkQ2F0Y2ggPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChpbnN0YW5jZSwgZXJyb3JJbmZvKSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gZXJyb3JJbmZvLnN0YWNrO1xuICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZENhdGNoKGVycm9ySW5mby52YWx1ZSwge1xuICAgICAgICAgICAgY29tcG9uZW50U3RhY2s6IG51bGwgIT09IHN0YWNrID8gc3RhY2sgOiBcIlwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ29tcG9uZW50RGlkQ2F0Y2hJbkRFViA9IGNhbGxDb21wb25lbnREaWRDYXRjaFtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIlxuICAgICAgXS5iaW5kKGNhbGxDb21wb25lbnREaWRDYXRjaCksXG4gICAgICBjYWxsQ29tcG9uZW50V2lsbFVubW91bnQgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ29tcG9uZW50V2lsbFVubW91bnRJbkRFViA9IGNhbGxDb21wb25lbnRXaWxsVW5tb3VudFtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIlxuICAgICAgXS5iaW5kKGNhbGxDb21wb25lbnRXaWxsVW5tb3VudCksXG4gICAgICBjYWxsQ3JlYXRlID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoZWZmZWN0KSB7XG4gICAgICAgICAgdmFyIGNyZWF0ZSA9IGVmZmVjdC5jcmVhdGU7XG4gICAgICAgICAgZWZmZWN0ID0gZWZmZWN0Lmluc3Q7XG4gICAgICAgICAgY3JlYXRlID0gY3JlYXRlKCk7XG4gICAgICAgICAgcmV0dXJuIChlZmZlY3QuZGVzdHJveSA9IGNyZWF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ3JlYXRlSW5ERVYgPSBjYWxsQ3JlYXRlW1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoY2FsbENyZWF0ZSksXG4gICAgICBjYWxsRGVzdHJveSA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICBkZXN0cm95XG4gICAgICAgICkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZXN0cm95KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsRGVzdHJveUluREVWID1cbiAgICAgICAgY2FsbERlc3Ryb3lbXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIl0uYmluZChjYWxsRGVzdHJveSksXG4gICAgICBjYWxsTGF6eUluaXQgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChsYXp5KSB7XG4gICAgICAgICAgdmFyIGluaXQgPSBsYXp5Ll9pbml0O1xuICAgICAgICAgIHJldHVybiBpbml0KGxhenkuX3BheWxvYWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2FsbExhenlJbml0SW5ERVYgPVxuICAgICAgICBjYWxsTGF6eUluaXRbXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIl0uYmluZChjYWxsTGF6eUluaXQpLFxuICAgICAgdGhlbmFibGVTdGF0ZSQxID0gbnVsbCxcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyJDEgPSAwLFxuICAgICAgY3VycmVudERlYnVnSW5mbyA9IG51bGwsXG4gICAgICBkaWRXYXJuQWJvdXRNYXBzO1xuICAgIHZhciBkaWRXYXJuQWJvdXRHZW5lcmF0b3JzID0gKGRpZFdhcm5BYm91dE1hcHMgPSAhMSk7XG4gICAgdmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuICAgIHZhciBvd25lckhhc0Z1bmN0aW9uVHlwZVdhcm5pbmcgPSB7fTtcbiAgICB2YXIgb3duZXJIYXNTeW1ib2xUeXBlV2FybmluZyA9IHt9O1xuICAgIHdhcm5Gb3JNaXNzaW5nS2V5ID0gZnVuY3Rpb24gKHJldHVybkZpYmVyLCB3b3JrSW5Qcm9ncmVzcywgY2hpbGQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gY2hpbGQgJiZcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGNoaWxkICYmXG4gICAgICAgIGNoaWxkLl9zdG9yZSAmJlxuICAgICAgICAoKCFjaGlsZC5fc3RvcmUudmFsaWRhdGVkICYmIG51bGwgPT0gY2hpbGQua2V5KSB8fFxuICAgICAgICAgIDIgPT09IGNoaWxkLl9zdG9yZS52YWxpZGF0ZWQpXG4gICAgICApIHtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgIT09IHR5cGVvZiBjaGlsZC5fc3RvcmUpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0IENvbXBvbmVudCBpbiB3YXJuRm9yTWlzc2luZ0tleSBzaG91bGQgaGF2ZSBhIF9zdG9yZS4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGNoaWxkLl9zdG9yZS52YWxpZGF0ZWQgPSAxO1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIocmV0dXJuRmliZXIpLFxuICAgICAgICAgIGNvbXBvbmVudEtleSA9IGNvbXBvbmVudE5hbWUgfHwgXCJudWxsXCI7XG4gICAgICAgIGlmICghb3duZXJIYXNLZXlVc2VXYXJuaW5nW2NvbXBvbmVudEtleV0pIHtcbiAgICAgICAgICBvd25lckhhc0tleVVzZVdhcm5pbmdbY29tcG9uZW50S2V5XSA9ICEwO1xuICAgICAgICAgIGNoaWxkID0gY2hpbGQuX293bmVyO1xuICAgICAgICAgIHJldHVybkZpYmVyID0gcmV0dXJuRmliZXIuX2RlYnVnT3duZXI7XG4gICAgICAgICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBcIlwiO1xuICAgICAgICAgIHJldHVybkZpYmVyICYmXG4gICAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgcmV0dXJuRmliZXIudGFnICYmXG4gICAgICAgICAgICAoY29tcG9uZW50S2V5ID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihyZXR1cm5GaWJlcikpICYmXG4gICAgICAgICAgICAoY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9XG4gICAgICAgICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYFwiICsgY29tcG9uZW50S2V5ICsgXCJgLlwiKTtcbiAgICAgICAgICBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvIHx8XG4gICAgICAgICAgICAoY29tcG9uZW50TmFtZSAmJlxuICAgICAgICAgICAgICAoY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9XG4gICAgICAgICAgICAgICAgXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArXG4gICAgICAgICAgICAgICAgY29tcG9uZW50TmFtZSArXG4gICAgICAgICAgICAgICAgXCI+LlwiKSk7XG4gICAgICAgICAgdmFyIGNoaWxkT3duZXJBcHBlbmRpeCA9IFwiXCI7XG4gICAgICAgICAgbnVsbCAhPSBjaGlsZCAmJlxuICAgICAgICAgICAgcmV0dXJuRmliZXIgIT09IGNoaWxkICYmXG4gICAgICAgICAgICAoKGNvbXBvbmVudE5hbWUgPSBudWxsKSxcbiAgICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBjaGlsZC50YWdcbiAgICAgICAgICAgICAgPyAoY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoY2hpbGQpKVxuICAgICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBjaGlsZC5uYW1lICYmIChjb21wb25lbnROYW1lID0gY2hpbGQubmFtZSksXG4gICAgICAgICAgICBjb21wb25lbnROYW1lICYmXG4gICAgICAgICAgICAgIChjaGlsZE93bmVyQXBwZW5kaXggPVxuICAgICAgICAgICAgICAgIFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgY29tcG9uZW50TmFtZSArIFwiLlwiKSk7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYod29ya0luUHJvZ3Jlc3MsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyxcbiAgICAgICAgICAgICAgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyxcbiAgICAgICAgICAgICAgY2hpbGRPd25lckFwcGVuZGl4XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgcmVjb25jaWxlQ2hpbGRGaWJlcnMgPSBjcmVhdGVDaGlsZFJlY29uY2lsZXIoITApLFxuICAgICAgbW91bnRDaGlsZEZpYmVycyA9IGNyZWF0ZUNoaWxkUmVjb25jaWxlcighMSksXG4gICAgICBjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgcHJldkVudGFuZ2xlZFJlbmRlckxhbmVzQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKDApLFxuICAgICAgc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBzaGVsbEJvdW5kYXJ5ID0gbnVsbCxcbiAgICAgIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrID0gMSxcbiAgICAgIEZvcmNlU3VzcGVuc2VGYWxsYmFjayA9IDIsXG4gICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKDApLFxuICAgICAgTm9GbGFncyA9IDAsXG4gICAgICBIYXNFZmZlY3QgPSAxLFxuICAgICAgSW5zZXJ0aW9uID0gMixcbiAgICAgIExheW91dCA9IDQsXG4gICAgICBQYXNzaXZlID0gOCxcbiAgICAgIEFib3J0Q29udHJvbGxlckxvY2FsID1cbiAgICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIEFib3J0Q29udHJvbGxlclxuICAgICAgICAgID8gQWJvcnRDb250cm9sbGVyXG4gICAgICAgICAgOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBsaXN0ZW5lcnMgPSBbXSxcbiAgICAgICAgICAgICAgICBzaWduYWwgPSAodGhpcy5zaWduYWwgPSB7XG4gICAgICAgICAgICAgICAgICBhYm9ydGVkOiAhMSxcbiAgICAgICAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHRoaXMuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2lnbmFsLmFib3J0ZWQgPSAhMDtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgIHNjaGVkdWxlQ2FsbGJhY2skMiA9IFNjaGVkdWxlci51bnN0YWJsZV9zY2hlZHVsZUNhbGxiYWNrLFxuICAgICAgTm9ybWFsUHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfTm9ybWFsUHJpb3JpdHksXG4gICAgICBDYWNoZUNvbnRleHQgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9DT05URVhUX1RZUEUsXG4gICAgICAgIENvbnN1bWVyOiBudWxsLFxuICAgICAgICBQcm92aWRlcjogbnVsbCxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTogbnVsbCxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTI6IG51bGwsXG4gICAgICAgIF90aHJlYWRDb3VudDogMCxcbiAgICAgICAgX2N1cnJlbnRSZW5kZXJlcjogbnVsbCxcbiAgICAgICAgX2N1cnJlbnRSZW5kZXJlcjI6IG51bGxcbiAgICAgIH0sXG4gICAgICBjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzID0gbnVsbCxcbiAgICAgIGN1cnJlbnRFbnRhbmdsZWRQZW5kaW5nQ291bnQgPSAwLFxuICAgICAgY3VycmVudEVudGFuZ2xlZExhbmUgPSAwLFxuICAgICAgY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlID0gbnVsbCxcbiAgICAgIHByZXZPblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlM7XG4gICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuUyA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uLCByZXR1cm5WYWx1ZSkge1xuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlICYmXG4gICAgICAgIG51bGwgIT09IHJldHVyblZhbHVlICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlLnRoZW4gJiZcbiAgICAgICAgZW50YW5nbGVBc3luY0FjdGlvbih0cmFuc2l0aW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICBudWxsICE9PSBwcmV2T25TdGFydFRyYW5zaXRpb25GaW5pc2ggJiZcbiAgICAgICAgcHJldk9uU3RhcnRUcmFuc2l0aW9uRmluaXNoKHRyYW5zaXRpb24sIHJldHVyblZhbHVlKTtcbiAgICB9O1xuICAgIHZhciByZXN1bWVkQ2FjaGUgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdDtcbiAgICB2YXIgZGlkV2FybkFib3V0TWlzbWF0Y2hlZEhvb2tzRm9yQ29tcG9uZW50ID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRVc2VXcmFwcGVkSW5UcnlDYXRjaCA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0QXN5bmNDbGllbnRDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dFVzZUZvcm1TdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgcmVuZGVyTGFuZXMgPSAwLFxuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9IG51bGwsXG4gICAgICBjdXJyZW50SG9vayA9IG51bGwsXG4gICAgICB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBudWxsLFxuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSA9ICExLFxuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzID0gITEsXG4gICAgICBzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFViA9ICExLFxuICAgICAgbG9jYWxJZENvdW50ZXIgPSAwLFxuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIgPSAwLFxuICAgICAgdGhlbmFibGVTdGF0ZSA9IG51bGwsXG4gICAgICBnbG9iYWxDbGllbnRJZENvdW50ZXIgPSAwLFxuICAgICAgUkVfUkVOREVSX0xJTUlUID0gMjUsXG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IG51bGwsXG4gICAgICBob29rVHlwZXNEZXYgPSBudWxsLFxuICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMSxcbiAgICAgIGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzID0gITE7XG4gICAgdmFyIGNyZWF0ZUZ1bmN0aW9uQ29tcG9uZW50VXBkYXRlUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4geyBsYXN0RWZmZWN0OiBudWxsLCBldmVudHM6IG51bGwsIHN0b3JlczogbnVsbCwgbWVtb0NhY2hlOiBudWxsIH07XG4gICAgfTtcbiAgICB2YXIgQ29udGV4dE9ubHlEaXNwYXRjaGVyID0ge1xuICAgICAgcmVhZENvbnRleHQ6IHJlYWRDb250ZXh0LFxuICAgICAgdXNlOiB1c2UsXG4gICAgICB1c2VDYWxsYmFjazogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlQ29udGV4dDogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlRWZmZWN0OiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlTWVtbzogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlUmVkdWNlcjogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlUmVmOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VTdGF0ZTogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlRGVidWdWYWx1ZTogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlVHJhbnNpdGlvbjogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUlkOiB0aHJvd0ludmFsaWRIb29rRXJyb3JcbiAgICB9O1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VDYWNoZVJlZnJlc2ggPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZU1lbW9DYWNoZSA9IHRocm93SW52YWxpZEhvb2tFcnJvcjtcbiAgICBDb250ZXh0T25seURpc3BhdGNoZXIudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZUZvcm1TdGF0ZSA9IHRocm93SW52YWxpZEhvb2tFcnJvcjtcbiAgICBDb250ZXh0T25seURpc3BhdGNoZXIudXNlQWN0aW9uU3RhdGUgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZU9wdGltaXN0aWMgPSB0aHJvd0ludmFsaWRIb29rRXJyb3I7XG4gICAgdmFyIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFViA9IG51bGwsXG4gICAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWID0gbnVsbCxcbiAgICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSBudWxsLFxuICAgICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWID0gbnVsbCxcbiAgICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYgPSBudWxsLFxuICAgICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSBudWxsLFxuICAgICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFViA9IG51bGw7XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IHVzZSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICByZXR1cm4gbW91bnRDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICByZXR1cm4gbW91bnRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcyk7XG4gICAgICAgIHJldHVybiBtb3VudEltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICBtb3VudEVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICByZXR1cm4gbW91bnRMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIGNoZWNrRGVwc0FyZUFycmF5RGV2KGRlcHMpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SWQoKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRSZWZyZXNoKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlTWVtb0NhY2hlID0gdXNlTWVtb0NhY2hlO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbiwgaW5pdGlhbFN0YXRlKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAocGFzc3Rocm91Z2gpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50T3B0aW1pc3RpYyhwYXNzdGhyb3VnaCk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IHVzZSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgbW91bnRFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50TGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50TWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SWQoKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmcmVzaCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVi51c2VNZW1vQ2FjaGUgPSB1c2VNZW1vQ2FjaGU7XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB3YXJuT25Vc2VGb3JtU3RhdGVJbkRldigpO1xuICAgICAgcmV0dXJuIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvbixcbiAgICAgIGluaXRpYWxTdGF0ZVxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRPcHRpbWlzdGljKHBhc3N0aHJvdWdoKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogdXNlLFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdXBkYXRlRWZmZWN0SW1wbCgyMDQ4LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIExheW91dCwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfVxuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VNZW1vQ2FjaGUgPSB1c2VNZW1vQ2FjaGU7XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoLFxuICAgICAgcmVkdWNlclxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZU9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IHVzZSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHVwZGF0ZUVmZmVjdEltcGwoMjA0OCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHJlcmVuZGVyUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gcmVyZW5kZXJSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVyZW5kZXJEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZXJlbmRlclRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfVxuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZU1lbW9DYWNoZSA9IHVzZU1lbW9DYWNoZTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgd2Fybk9uVXNlRm9ybVN0YXRlSW5EZXYoKTtcbiAgICAgIHJldHVybiByZXJlbmRlckFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKFxuICAgICAgcGFzc3Rocm91Z2gsXG4gICAgICByZWR1Y2VyXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgd2FybkludmFsaWRDb250ZXh0QWNjZXNzKCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IGZ1bmN0aW9uICh1c2FibGUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2UodXNhYmxlKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50Q2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIG1vdW50RWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudExheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudE1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50UmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudERlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50VHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudElkKCk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50UmVmcmVzaCgpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW9DYWNoZTogZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2VNZW1vQ2FjaGUoc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uLFxuICAgICAgaW5pdGlhbFN0YXRlXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uLFxuICAgICAgaW5pdGlhbFN0YXRlXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50T3B0aW1pc3RpYyhwYXNzdGhyb3VnaCk7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB3YXJuSW52YWxpZENvbnRleHRBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZSh1c2FibGUpO1xuICAgICAgfSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHVwZGF0ZUVmZmVjdEltcGwoMjA0OCwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVEZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlVHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vQ2FjaGU6IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlTWVtb0NhY2hlKHNpemUpO1xuICAgICAgfVxuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb25cbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoLFxuICAgICAgcmVkdWNlclxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHdhcm5JbnZhbGlkQ29udGV4dEFjY2VzcygpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlKHVzYWJsZSk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdXBkYXRlRWZmZWN0SW1wbCgyMDQ4LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIExheW91dCwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHJlcmVuZGVyUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZlwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gcmVyZW5kZXJSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZXJlbmRlckRlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZXJlbmRlclRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICB1c2VJZDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSWRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlTWVtb0NhY2hlOiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW9DYWNoZShzaXplKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb25cbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvblxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChcbiAgICAgIHBhc3N0aHJvdWdoLFxuICAgICAgcmVkdWNlclxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIHZhciBmYWtlSW50ZXJuYWxJbnN0YW5jZSA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRTdGF0ZUFzc2lnbm1lbnRGb3JDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dFVuaW5pdGlhbGl6ZWRTdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRMZWdhY3lMaWZlY3ljbGVzQW5kRGVyaXZlZFN0YXRlID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXREaXJlY3RseUFzc2lnbmluZ1Byb3BzVG9TdGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXMkMSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0Q2hpbGRDb250ZXh0VHlwZXMgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dEludmFsaWRhdGVDb250ZXh0VHlwZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrID0gbmV3IFNldCgpO1xuICAgIE9iamVjdC5mcmVlemUoZmFrZUludGVybmFsSW5zdGFuY2UpO1xuICAgIHZhciBjbGFzc0NvbXBvbmVudFVwZGF0ZXIgPSB7XG4gICAgICAgIGlzTW91bnRlZDogZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICAgIHZhciBvd25lciA9IGN1cnJlbnQ7XG4gICAgICAgICAgaWYgKG51bGwgIT09IG93bmVyICYmIGlzUmVuZGVyaW5nICYmIDEgPT09IG93bmVyLnRhZykge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gb3duZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgaW5zdGFuY2UuX3dhcm5lZEFib3V0UmVmc0luUmVuZGVyIHx8XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCIlcyBpcyBhY2Nlc3NpbmcgaXNNb3VudGVkIGluc2lkZSBpdHMgcmVuZGVyKCkgZnVuY3Rpb24uIHJlbmRlcigpIHNob3VsZCBiZSBhIHB1cmUgZnVuY3Rpb24gb2YgcHJvcHMgYW5kIHN0YXRlLiBJdCBzaG91bGQgbmV2ZXIgYWNjZXNzIHNvbWV0aGluZyB0aGF0IHJlcXVpcmVzIHN0YWxlIGRhdGEgZnJvbSB0aGUgcHJldmlvdXMgcmVuZGVyLCBzdWNoIGFzIHJlZnMuIE1vdmUgdGhpcyBsb2dpYyB0byBjb21wb25lbnREaWRNb3VudCBhbmQgY29tcG9uZW50RGlkVXBkYXRlIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihvd25lcikgfHwgXCJBIGNvbXBvbmVudFwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbnN0YW5jZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgPSAhMDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChjb21wb25lbnQgPSBjb21wb25lbnQuX3JlYWN0SW50ZXJuYWxzKVxuICAgICAgICAgICAgPyBnZXROZWFyZXN0TW91bnRlZEZpYmVyKGNvbXBvbmVudCkgPT09IGNvbXBvbmVudFxuICAgICAgICAgICAgOiAhMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAoaW5zdCwgcGF5bG9hZCwgY2FsbGJhY2spIHtcbiAgICAgICAgICBpbnN0ID0gaW5zdC5fcmVhY3RJbnRlcm5hbHM7XG4gICAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShpbnN0KSxcbiAgICAgICAgICAgIHVwZGF0ZSA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgICAgICB1cGRhdGUucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgICAgdm9pZCAwICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgICh3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2spLCAodXBkYXRlLmNhbGxiYWNrID0gY2FsbGJhY2spKTtcbiAgICAgICAgICBwYXlsb2FkID0gZW5xdWV1ZVVwZGF0ZShpbnN0LCB1cGRhdGUsIGxhbmUpO1xuICAgICAgICAgIG51bGwgIT09IHBheWxvYWQgJiZcbiAgICAgICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF5bG9hZCwgaW5zdCwgbGFuZSksXG4gICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25zKHBheWxvYWQsIGluc3QsIGxhbmUpKTtcbiAgICAgICAgICBtYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoaW5zdCwgbGFuZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVSZXBsYWNlU3RhdGU6IGZ1bmN0aW9uIChpbnN0LCBwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgICAgICAgIGluc3QgPSBpbnN0Ll9yZWFjdEludGVybmFscztcbiAgICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKGluc3QpLFxuICAgICAgICAgICAgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgICAgIHVwZGF0ZS50YWcgPSBSZXBsYWNlU3RhdGU7XG4gICAgICAgICAgdXBkYXRlLnBheWxvYWQgPSBwYXlsb2FkO1xuICAgICAgICAgIHZvaWQgMCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAod2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrKSwgKHVwZGF0ZS5jYWxsYmFjayA9IGNhbGxiYWNrKSk7XG4gICAgICAgICAgcGF5bG9hZCA9IGVucXVldWVVcGRhdGUoaW5zdCwgdXBkYXRlLCBsYW5lKTtcbiAgICAgICAgICBudWxsICE9PSBwYXlsb2FkICYmXG4gICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHBheWxvYWQsIGluc3QsIGxhbmUpLFxuICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9ucyhwYXlsb2FkLCBpbnN0LCBsYW5lKSk7XG4gICAgICAgICAgbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGluc3QsIGxhbmUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIChpbnN0LCBjYWxsYmFjaykge1xuICAgICAgICAgIGluc3QgPSBpbnN0Ll9yZWFjdEludGVybmFscztcbiAgICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKGluc3QpLFxuICAgICAgICAgICAgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgICAgIHVwZGF0ZS50YWcgPSBGb3JjZVVwZGF0ZTtcbiAgICAgICAgICB2b2lkIDAgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICBudWxsICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgKHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjayksICh1cGRhdGUuY2FsbGJhY2sgPSBjYWxsYmFjaykpO1xuICAgICAgICAgIGNhbGxiYWNrID0gZW5xdWV1ZVVwZGF0ZShpbnN0LCB1cGRhdGUsIGxhbmUpO1xuICAgICAgICAgIG51bGwgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAoc2NoZWR1bGVVcGRhdGVPbkZpYmVyKGNhbGxiYWNrLCBpbnN0LCBsYW5lKSxcbiAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvbnMoY2FsbGJhY2ssIGluc3QsIGxhbmUpKTtcbiAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtGb3JjZVVwZGF0ZVNjaGVkdWxlZCAmJlxuICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrRm9yY2VVcGRhdGVTY2hlZHVsZWQoaW5zdCwgbGFuZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZXBvcnRHbG9iYWxFcnJvciA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlcG9ydEVycm9yXG4gICAgICAgICAgPyByZXBvcnRFcnJvclxuICAgICAgICAgIDogZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygd2luZG93ICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygd2luZG93LkVycm9yRXZlbnRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IHdpbmRvdy5FcnJvckV2ZW50KFwiZXJyb3JcIiwge1xuICAgICAgICAgICAgICAgICAgYnViYmxlczogITAsXG4gICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiAhMCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XG4gICAgICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBlcnJvciAmJlxuICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgID8gU3RyaW5nKGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgOiBTdHJpbmcoZXJyb3IpLFxuICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKCF3aW5kb3cuZGlzcGF0Y2hFdmVudChldmVudCkpIHJldHVybjtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcHJvY2VzcyAmJlxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHByb2Nlc3MuZW1pdFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzLmVtaXQoXCJ1bmNhdWdodEV4Y2VwdGlvblwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSxcbiAgICAgIGNvbXBvbmVudE5hbWUgPSBudWxsLFxuICAgICAgZXJyb3JCb3VuZGFyeU5hbWUgPSBudWxsLFxuICAgICAgU2VsZWN0aXZlSHlkcmF0aW9uRXhjZXB0aW9uID0gRXJyb3IoXG4gICAgICAgIFwiVGhpcyBpcyBub3QgYSByZWFsIGVycm9yLiBJdCdzIGFuIGltcGxlbWVudGF0aW9uIGRldGFpbCBvZiBSZWFjdCdzIHNlbGVjdGl2ZSBoeWRyYXRpb24gZmVhdHVyZS4gSWYgdGhpcyBsZWFrcyBpbnRvIHVzZXJzcGFjZSwgaXQncyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICksXG4gICAgICBkaWRSZWNlaXZlVXBkYXRlID0gITE7XG4gICAgdmFyIGRpZFdhcm5BYm91dEJhZENsYXNzID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dENvbnRleHRUeXBlT25GdW5jdGlvbkNvbXBvbmVudCA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXMgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbkNvbXBvbmVudCA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzID0gITE7XG4gICAgdmFyIGRpZFdhcm5BYm91dFJldmVhbE9yZGVyID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dFRhaWxPcHRpb25zID0ge307XG4gICAgdmFyIFNVU1BFTkRFRF9NQVJLRVIgPSB7XG4gICAgICAgIGRlaHlkcmF0ZWQ6IG51bGwsXG4gICAgICAgIHRyZWVDb250ZXh0OiBudWxsLFxuICAgICAgICByZXRyeUxhbmU6IDBcbiAgICAgIH0sXG4gICAgICBoYXNXYXJuZWRBYm91dFVzaW5nTm9WYWx1ZVByb3BPbkNvbnRleHRQcm92aWRlciA9ICExLFxuICAgICAgdmFsdWVDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCk7XG4gICAgdmFyIHJlbmRlcmVyQ3Vyc29yREVWID0gY3JlYXRlQ3Vyc29yKG51bGwpO1xuICAgIHZhciByZW5kZXJlclNpZ2lsID0ge307XG4gICAgdmFyIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyID0gbnVsbCxcbiAgICAgIGxhc3RDb250ZXh0RGVwZW5kZW5jeSA9IG51bGwsXG4gICAgICBpc0Rpc2FsbG93ZWRDb250ZXh0UmVhZEluREVWID0gITEsXG4gICAgICBVcGRhdGVTdGF0ZSA9IDAsXG4gICAgICBSZXBsYWNlU3RhdGUgPSAxLFxuICAgICAgRm9yY2VVcGRhdGUgPSAyLFxuICAgICAgQ2FwdHVyZVVwZGF0ZSA9IDMsXG4gICAgICBoYXNGb3JjZVVwZGF0ZSA9ICExO1xuICAgIHZhciBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gITE7XG4gICAgdmFyIGN1cnJlbnRseVByb2Nlc3NpbmdRdWV1ZSA9IG51bGw7XG4gICAgdmFyIGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMSxcbiAgICAgIGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlID0gbnVsbDtcbiAgICBkaWRXYXJuQWJvdXRVbmRlZmluZWRTbmFwc2hvdEJlZm9yZVVwZGF0ZSA9IG5ldyBTZXQoKTtcbiAgICB2YXIgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gITEsXG4gICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gITEsXG4gICAgICBuZWVkc0Zvcm1SZXNldCA9ICExLFxuICAgICAgUG9zc2libHlXZWFrU2V0ID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha1NldCA/IFdlYWtTZXQgOiBTZXQsXG4gICAgICBuZXh0RWZmZWN0ID0gbnVsbCxcbiAgICAgIGluUHJvZ3Jlc3NMYW5lcyA9IG51bGwsXG4gICAgICBpblByb2dyZXNzUm9vdCA9IG51bGwsXG4gICAgICBzaG91bGRGaXJlQWZ0ZXJBY3RpdmVJbnN0YW5jZUJsdXIgPSAhMSxcbiAgICAgIGhvc3RQYXJlbnQgPSBudWxsLFxuICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gITEsXG4gICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IG51bGwsXG4gICAgICBzdXNwZW5zZXlDb21taXRGbGFnID0gODE5MjtcbiAgICB2YXIgaGFzQmFkTWFwUG9seWZpbGwgPSAhMTtcbiAgICB0cnkge1xuICAgICAgdmFyIG5vbkV4dGVuc2libGVPYmplY3QgPSBPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pO1xuICAgICAgbmV3IE1hcChbW25vbkV4dGVuc2libGVPYmplY3QsIG51bGxdXSk7XG4gICAgICBuZXcgU2V0KFtub25FeHRlbnNpYmxlT2JqZWN0XSk7XG4gICAgfSBjYXRjaCAoZSQ3KSB7XG4gICAgICBoYXNCYWRNYXBQb2x5ZmlsbCA9ICEwO1xuICAgIH1cbiAgICB2YXIgRGVmYXVsdEFzeW5jRGlzcGF0Y2hlciA9IHtcbiAgICAgIGdldENhY2hlRm9yVHlwZTogZnVuY3Rpb24gKHJlc291cmNlVHlwZSkge1xuICAgICAgICB2YXIgY2FjaGUgPSByZWFkQ29udGV4dChDYWNoZUNvbnRleHQpLFxuICAgICAgICAgIGNhY2hlRm9yVHlwZSA9IGNhY2hlLmRhdGEuZ2V0KHJlc291cmNlVHlwZSk7XG4gICAgICAgIHZvaWQgMCA9PT0gY2FjaGVGb3JUeXBlICYmXG4gICAgICAgICAgKChjYWNoZUZvclR5cGUgPSByZXNvdXJjZVR5cGUoKSksXG4gICAgICAgICAgY2FjaGUuZGF0YS5zZXQocmVzb3VyY2VUeXBlLCBjYWNoZUZvclR5cGUpKTtcbiAgICAgICAgcmV0dXJuIGNhY2hlRm9yVHlwZTtcbiAgICAgIH0sXG4gICAgICBnZXRPd25lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLmZvcikge1xuICAgICAgdmFyIHN5bWJvbEZvciA9IFN5bWJvbC5mb3I7XG4gICAgICBzeW1ib2xGb3IoXCJzZWxlY3Rvci5jb21wb25lbnRcIik7XG4gICAgICBzeW1ib2xGb3IoXCJzZWxlY3Rvci5oYXNfcHNldWRvX2NsYXNzXCIpO1xuICAgICAgc3ltYm9sRm9yKFwic2VsZWN0b3Iucm9sZVwiKTtcbiAgICAgIHN5bWJvbEZvcihcInNlbGVjdG9yLnRlc3RfaWRcIik7XG4gICAgICBzeW1ib2xGb3IoXCJzZWxlY3Rvci50ZXh0XCIpO1xuICAgIH1cbiAgICB2YXIgY29tbWl0SG9va3MgPSBbXSxcbiAgICAgIFBvc3NpYmx5V2Vha01hcCA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtNYXAgPyBXZWFrTWFwIDogTWFwLFxuICAgICAgTm9Db250ZXh0ID0gMCxcbiAgICAgIFJlbmRlckNvbnRleHQgPSAyLFxuICAgICAgQ29tbWl0Q29udGV4dCA9IDQsXG4gICAgICBSb290SW5Qcm9ncmVzcyA9IDAsXG4gICAgICBSb290RmF0YWxFcnJvcmVkID0gMSxcbiAgICAgIFJvb3RFcnJvcmVkID0gMixcbiAgICAgIFJvb3RTdXNwZW5kZWQgPSAzLFxuICAgICAgUm9vdFN1c3BlbmRlZFdpdGhEZWxheSA9IDQsXG4gICAgICBSb290Q29tcGxldGVkID0gNSxcbiAgICAgIFJvb3REaWROb3RDb21wbGV0ZSA9IDYsXG4gICAgICBleGVjdXRpb25Db250ZXh0ID0gTm9Db250ZXh0LFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290ID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzID0gMCxcbiAgICAgIE5vdFN1c3BlbmRlZCA9IDAsXG4gICAgICBTdXNwZW5kZWRPbkVycm9yID0gMSxcbiAgICAgIFN1c3BlbmRlZE9uRGF0YSA9IDIsXG4gICAgICBTdXNwZW5kZWRPbkltbWVkaWF0ZSA9IDMsXG4gICAgICBTdXNwZW5kZWRPbkluc3RhbmNlID0gNCxcbiAgICAgIFN1c3BlbmRlZE9uSW5zdGFuY2VBbmRSZWFkeVRvQ29udGludWUgPSA1LFxuICAgICAgU3VzcGVuZGVkT25EZXByZWNhdGVkVGhyb3dQcm9taXNlID0gNixcbiAgICAgIFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZSA9IDcsXG4gICAgICBTdXNwZW5kZWRPbkh5ZHJhdGlvbiA9IDgsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZCxcbiAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzID0gITEsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyA9ICExLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkQXR0YWNoUGluZ0xpc3RlbmVyID0gITEsXG4gICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lcyA9IDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEluUHJvZ3Jlc3MsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UGluZ2VkTGFuZXMgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnMgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkSW5jbHVkZVJlY3Vyc2l2ZVJlbmRlclVwZGF0ZSA9ICExLFxuICAgICAgZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSA9IDAsXG4gICAgICBGQUxMQkFDS19USFJPVFRMRV9NUyA9IDMwMCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlclRhcmdldFRpbWUgPSBJbmZpbml0eSxcbiAgICAgIFJFTkRFUl9USU1FT1VUX01TID0gNTAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyA9IG51bGwsXG4gICAgICBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCA9IG51bGwsXG4gICAgICByb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cyA9ICExLFxuICAgICAgcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPSBudWxsLFxuICAgICAgcGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXMgPSAwLFxuICAgICAgcGVuZGluZ1Bhc3NpdmVFZmZlY3RzUmVtYWluaW5nTGFuZXMgPSAwLFxuICAgICAgcGVuZGluZ1Bhc3NpdmVUcmFuc2l0aW9ucyA9IG51bGwsXG4gICAgICBORVNURURfVVBEQVRFX0xJTUlUID0gNTAsXG4gICAgICBuZXN0ZWRVcGRhdGVDb3VudCA9IDAsXG4gICAgICByb290V2l0aE5lc3RlZFVwZGF0ZXMgPSBudWxsLFxuICAgICAgaXNGbHVzaGluZ1Bhc3NpdmVFZmZlY3RzID0gITEsXG4gICAgICBkaWRTY2hlZHVsZVVwZGF0ZUR1cmluZ1Bhc3NpdmVFZmZlY3RzID0gITEsXG4gICAgICBORVNURURfUEFTU0lWRV9VUERBVEVfTElNSVQgPSA1MCxcbiAgICAgIG5lc3RlZFBhc3NpdmVVcGRhdGVDb3VudCA9IDAsXG4gICAgICByb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzID0gbnVsbCxcbiAgICAgIGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCA9ICExLFxuICAgICAgSU1NRURJQVRFX0NPTU1JVCA9IDAsXG4gICAgICBTVVNQRU5ERURfQ09NTUlUID0gMSxcbiAgICAgIFRIUk9UVExFRF9DT01NSVQgPSAyLFxuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yTm90WWV0TW91bnRlZENvbXBvbmVudCA9IG51bGwsXG4gICAgICBkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlciA9ICExO1xuICAgIHZhciBkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlckZvckFub3RoZXJDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGZha2VBY3RDYWxsYmFja05vZGUkMSA9IHt9LFxuICAgICAgZmlyc3RTY2hlZHVsZWRSb290ID0gbnVsbCxcbiAgICAgIGxhc3RTY2hlZHVsZWRSb290ID0gbnVsbCxcbiAgICAgIGRpZFNjaGVkdWxlTWljcm90YXNrID0gITEsXG4gICAgICBkaWRTY2hlZHVsZU1pY3JvdGFza19hY3QgPSAhMSxcbiAgICAgIG1pZ2h0SGF2ZVBlbmRpbmdTeW5jV29yayA9ICExLFxuICAgICAgaXNGbHVzaGluZ1dvcmsgPSAhMSxcbiAgICAgIGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lID0gMCxcbiAgICAgIGZha2VBY3RDYWxsYmFja05vZGUgPSB7fTtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaW1wbGVFdmVudFBsdWdpbkV2ZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZXZlbnROYW1lID0gc2ltcGxlRXZlbnRQbHVnaW5FdmVudHNbaV0sXG4gICAgICAgICAgZG9tRXZlbnROYW1lID0gZXZlbnROYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGV2ZW50TmFtZSA9IGV2ZW50TmFtZVswXS50b1VwcGVyQ2FzZSgpICsgZXZlbnROYW1lLnNsaWNlKDEpO1xuICAgICAgICByZWdpc3RlclNpbXBsZUV2ZW50KGRvbUV2ZW50TmFtZSwgXCJvblwiICsgZXZlbnROYW1lKTtcbiAgICAgIH1cbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoQU5JTUFUSU9OX0VORCwgXCJvbkFuaW1hdGlvbkVuZFwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoQU5JTUFUSU9OX0lURVJBVElPTiwgXCJvbkFuaW1hdGlvbkl0ZXJhdGlvblwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoQU5JTUFUSU9OX1NUQVJULCBcIm9uQW5pbWF0aW9uU3RhcnRcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFwiZGJsY2xpY2tcIiwgXCJvbkRvdWJsZUNsaWNrXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChcImZvY3VzaW5cIiwgXCJvbkZvY3VzXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChcImZvY3Vzb3V0XCIsIFwib25CbHVyXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChUUkFOU0lUSU9OX1JVTiwgXCJvblRyYW5zaXRpb25SdW5cIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFRSQU5TSVRJT05fU1RBUlQsIFwib25UcmFuc2l0aW9uU3RhcnRcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFRSQU5TSVRJT05fQ0FOQ0VMLCBcIm9uVHJhbnNpdGlvbkNhbmNlbFwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoVFJBTlNJVElPTl9FTkQsIFwib25UcmFuc2l0aW9uRW5kXCIpO1xuICAgIH0pKCk7XG4gICAgcmVnaXN0ZXJEaXJlY3RFdmVudChcIm9uTW91c2VFbnRlclwiLCBbXCJtb3VzZW91dFwiLCBcIm1vdXNlb3ZlclwiXSk7XG4gICAgcmVnaXN0ZXJEaXJlY3RFdmVudChcIm9uTW91c2VMZWF2ZVwiLCBbXCJtb3VzZW91dFwiLCBcIm1vdXNlb3ZlclwiXSk7XG4gICAgcmVnaXN0ZXJEaXJlY3RFdmVudChcIm9uUG9pbnRlckVudGVyXCIsIFtcInBvaW50ZXJvdXRcIiwgXCJwb2ludGVyb3ZlclwiXSk7XG4gICAgcmVnaXN0ZXJEaXJlY3RFdmVudChcIm9uUG9pbnRlckxlYXZlXCIsIFtcInBvaW50ZXJvdXRcIiwgXCJwb2ludGVyb3ZlclwiXSk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFxuICAgICAgXCJvbkNoYW5nZVwiLFxuICAgICAgXCJjaGFuZ2UgY2xpY2sgZm9jdXNpbiBmb2N1c291dCBpbnB1dCBrZXlkb3duIGtleXVwIHNlbGVjdGlvbmNoYW5nZVwiLnNwbGl0KFxuICAgICAgICBcIiBcIlxuICAgICAgKVxuICAgICk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFxuICAgICAgXCJvblNlbGVjdFwiLFxuICAgICAgXCJmb2N1c291dCBjb250ZXh0bWVudSBkcmFnZW5kIGZvY3VzaW4ga2V5ZG93biBrZXl1cCBtb3VzZWRvd24gbW91c2V1cCBzZWxlY3Rpb25jaGFuZ2VcIi5zcGxpdChcbiAgICAgICAgXCIgXCJcbiAgICAgIClcbiAgICApO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcIm9uQmVmb3JlSW5wdXRcIiwgW1xuICAgICAgXCJjb21wb3NpdGlvbmVuZFwiLFxuICAgICAgXCJrZXlwcmVzc1wiLFxuICAgICAgXCJ0ZXh0SW5wdXRcIixcbiAgICAgIFwicGFzdGVcIlxuICAgIF0pO1xuICAgIHJlZ2lzdGVyVHdvUGhhc2VFdmVudChcbiAgICAgIFwib25Db21wb3NpdGlvbkVuZFwiLFxuICAgICAgXCJjb21wb3NpdGlvbmVuZCBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKVxuICAgICk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFxuICAgICAgXCJvbkNvbXBvc2l0aW9uU3RhcnRcIixcbiAgICAgIFwiY29tcG9zaXRpb25zdGFydCBmb2N1c291dCBrZXlkb3duIGtleXByZXNzIGtleXVwIG1vdXNlZG93blwiLnNwbGl0KFwiIFwiKVxuICAgICk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFxuICAgICAgXCJvbkNvbXBvc2l0aW9uVXBkYXRlXCIsXG4gICAgICBcImNvbXBvc2l0aW9udXBkYXRlIGZvY3Vzb3V0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpXG4gICAgKTtcbiAgICB2YXIgbWVkaWFFdmVudFR5cGVzID1cbiAgICAgICAgXCJhYm9ydCBjYW5wbGF5IGNhbnBsYXl0aHJvdWdoIGR1cmF0aW9uY2hhbmdlIGVtcHRpZWQgZW5jcnlwdGVkIGVuZGVkIGVycm9yIGxvYWRlZGRhdGEgbG9hZGVkbWV0YWRhdGEgbG9hZHN0YXJ0IHBhdXNlIHBsYXkgcGxheWluZyBwcm9ncmVzcyByYXRlY2hhbmdlIHJlc2l6ZSBzZWVrZWQgc2Vla2luZyBzdGFsbGVkIHN1c3BlbmQgdGltZXVwZGF0ZSB2b2x1bWVjaGFuZ2Ugd2FpdGluZ1wiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICBub25EZWxlZ2F0ZWRFdmVudHMgPSBuZXcgU2V0KFxuICAgICAgICBcImJlZm9yZXRvZ2dsZSBjYW5jZWwgY2xvc2UgaW52YWxpZCBsb2FkIHNjcm9sbCBzY3JvbGxlbmQgdG9nZ2xlXCJcbiAgICAgICAgICAuc3BsaXQoXCIgXCIpXG4gICAgICAgICAgLmNvbmNhdChtZWRpYUV2ZW50VHlwZXMpXG4gICAgICApLFxuICAgICAgbGlzdGVuaW5nTWFya2VyID0gXCJfcmVhY3RMaXN0ZW5pbmdcIiArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpLFxuICAgICAgZGlkV2FybkNvbnRyb2xsZWRUb1VuY29udHJvbGxlZCA9ICExLFxuICAgICAgZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCA9ICExLFxuICAgICAgZGlkV2FybkZvcm1BY3Rpb25UeXBlID0gITEsXG4gICAgICBkaWRXYXJuRm9ybUFjdGlvbk5hbWUgPSAhMSxcbiAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uVGFyZ2V0ID0gITEsXG4gICAgICBkaWRXYXJuRm9ybUFjdGlvbk1ldGhvZCA9ICExLFxuICAgICAgZGlkV2FyblBvcG92ZXJUYXJnZXRPYmplY3QgPSAhMTtcbiAgICB2YXIgZGlkV2FybkZvck5ld0Jvb2xlYW5Qcm9wc1dpdGhFbXB0eVZhbHVlID0ge307XG4gICAgdmFyIGNhbkRpZmZTdHlsZUZvckh5ZHJhdGlvbldhcm5pbmcgPSAhMDtcbiAgICB2YXIgTk9STUFMSVpFX05FV0xJTkVTX1JFR0VYID0gL1xcclxcbj8vZyxcbiAgICAgIE5PUk1BTElaRV9OVUxMX0FORF9SRVBMQUNFTUVOVF9SRUdFWCA9IC9cXHUwMDAwfFxcdUZGRkQvZyxcbiAgICAgIHhsaW5rTmFtZXNwYWNlID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsXG4gICAgICB4bWxOYW1lc3BhY2UgPSBcImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZVwiLFxuICAgICAgRVhQRUNURURfRk9STV9BQ1RJT05fVVJMID1cbiAgICAgICAgXCJqYXZhc2NyaXB0OnRocm93IG5ldyBFcnJvcignUmVhY3QgZm9ybSB1bmV4cGVjdGVkbHkgc3VibWl0dGVkLicpXCIsXG4gICAgICBTVVBQUkVTU19IWURSQVRJT05fV0FSTklORyA9IFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCIsXG4gICAgICBTVVNQRU5TRV9TVEFSVF9EQVRBID0gXCIkXCIsXG4gICAgICBTVVNQRU5TRV9FTkRfREFUQSA9IFwiLyRcIixcbiAgICAgIFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSA9IFwiJD9cIixcbiAgICAgIFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEgPSBcIiQhXCIsXG4gICAgICBGT1JNX1NUQVRFX0lTX01BVENISU5HID0gXCJGIVwiLFxuICAgICAgRk9STV9TVEFURV9JU19OT1RfTUFUQ0hJTkcgPSBcIkZcIixcbiAgICAgIFNUWUxFID0gXCJzdHlsZVwiLFxuICAgICAgSG9zdENvbnRleHROYW1lc3BhY2VOb25lID0gMCxcbiAgICAgIEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnID0gMSxcbiAgICAgIEhvc3RDb250ZXh0TmFtZXNwYWNlTWF0aCA9IDIsXG4gICAgICBldmVudHNFbmFibGVkID0gbnVsbCxcbiAgICAgIHNlbGVjdGlvbkluZm9ybWF0aW9uID0gbnVsbCxcbiAgICAgIHdhcm5lZFVua25vd25UYWdzID0geyBkaWFsb2c6ICEwLCB3ZWJ2aWV3OiAhMCB9LFxuICAgICAgY3VycmVudFBvcHN0YXRlVHJhbnNpdGlvbkV2ZW50ID0gbnVsbCxcbiAgICAgIHNjaGVkdWxlVGltZW91dCA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHNldFRpbWVvdXQgPyBzZXRUaW1lb3V0IDogdm9pZCAwLFxuICAgICAgY2FuY2VsVGltZW91dCA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNsZWFyVGltZW91dCA/IGNsZWFyVGltZW91dCA6IHZvaWQgMCxcbiAgICAgIG5vVGltZW91dCA9IC0xLFxuICAgICAgbG9jYWxQcm9taXNlID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgUHJvbWlzZSA/IFByb21pc2UgOiB2b2lkIDAsXG4gICAgICBzY2hlZHVsZU1pY3JvdGFzayA9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHF1ZXVlTWljcm90YXNrXG4gICAgICAgICAgPyBxdWV1ZU1pY3JvdGFza1xuICAgICAgICAgIDogXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGxvY2FsUHJvbWlzZVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxQcm9taXNlXG4gICAgICAgICAgICAgICAgICAucmVzb2x2ZShudWxsKVxuICAgICAgICAgICAgICAgICAgLnRoZW4oY2FsbGJhY2spXG4gICAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlRXJyb3JJbk5leHRUaWNrKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBzY2hlZHVsZVRpbWVvdXQsXG4gICAgICBOb3RMb2FkZWQgPSAwLFxuICAgICAgTG9hZGVkID0gMSxcbiAgICAgIEVycm9yZWQgPSAyLFxuICAgICAgU2V0dGxlZCA9IDMsXG4gICAgICBJbnNlcnRlZCA9IDQsXG4gICAgICBwcmVsb2FkUHJvcHNNYXAgPSBuZXcgTWFwKCksXG4gICAgICBwcmVjb25uZWN0c1NldCA9IG5ldyBTZXQoKSxcbiAgICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLmQ7XG4gICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMuZCA9IHtcbiAgICAgIGY6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByZXZpb3VzV2FzUmVuZGVyaW5nID0gcHJldmlvdXNEaXNwYXRjaGVyLmYoKSxcbiAgICAgICAgICB3YXNSZW5kZXJpbmcgPSBmbHVzaFN5bmNXb3JrJDEoKTtcbiAgICAgICAgcmV0dXJuIHByZXZpb3VzV2FzUmVuZGVyaW5nIHx8IHdhc1JlbmRlcmluZztcbiAgICAgIH0sXG4gICAgICByOiBmdW5jdGlvbiAoZm9ybSkge1xuICAgICAgICB2YXIgZm9ybUluc3QgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKGZvcm0pO1xuICAgICAgICBudWxsICE9PSBmb3JtSW5zdCAmJiA1ID09PSBmb3JtSW5zdC50YWcgJiYgXCJmb3JtXCIgPT09IGZvcm1JbnN0LnR5cGVcbiAgICAgICAgICA/IHJlcXVlc3RGb3JtUmVzZXQkMShmb3JtSW5zdClcbiAgICAgICAgICA6IHByZXZpb3VzRGlzcGF0Y2hlci5yKGZvcm0pO1xuICAgICAgfSxcbiAgICAgIEQ6IGZ1bmN0aW9uIChocmVmKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5EKGhyZWYpO1xuICAgICAgICBwcmVjb25uZWN0QXMoXCJkbnMtcHJlZmV0Y2hcIiwgaHJlZiwgbnVsbCk7XG4gICAgICB9LFxuICAgICAgQzogZnVuY3Rpb24gKGhyZWYsIGNyb3NzT3JpZ2luKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5DKGhyZWYsIGNyb3NzT3JpZ2luKTtcbiAgICAgICAgcHJlY29ubmVjdEFzKFwicHJlY29ubmVjdFwiLCBocmVmLCBjcm9zc09yaWdpbik7XG4gICAgICB9LFxuICAgICAgTDogZnVuY3Rpb24gKGhyZWYsIGFzLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5MKGhyZWYsIGFzLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBnbG9iYWxEb2N1bWVudDtcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiYgaHJlZiAmJiBhcykge1xuICAgICAgICAgIHZhciBwcmVsb2FkU2VsZWN0b3IgPVxuICAgICAgICAgICAgJ2xpbmtbcmVsPVwicHJlbG9hZFwiXVthcz1cIicgK1xuICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhhcykgK1xuICAgICAgICAgICAgJ1wiXSc7XG4gICAgICAgICAgXCJpbWFnZVwiID09PSBhc1xuICAgICAgICAgICAgPyBvcHRpb25zICYmIG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgPyAoKHByZWxvYWRTZWxlY3RvciArPVxuICAgICAgICAgICAgICAgICAgJ1tpbWFnZXNyY3NldD1cIicgK1xuICAgICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5pbWFnZVNyY1NldFxuICAgICAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICAgICAnXCJdJyksXG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW1hZ2VTaXplcyAmJlxuICAgICAgICAgICAgICAgICAgKHByZWxvYWRTZWxlY3RvciArPVxuICAgICAgICAgICAgICAgICAgICAnW2ltYWdlc2l6ZXM9XCInICtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhcbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmltYWdlU2l6ZXNcbiAgICAgICAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICAgICAgICdcIl0nKSlcbiAgICAgICAgICAgICAgOiAocHJlbG9hZFNlbGVjdG9yICs9XG4gICAgICAgICAgICAgICAgICAnW2hyZWY9XCInICtcbiAgICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoaHJlZikgK1xuICAgICAgICAgICAgICAgICAgJ1wiXScpXG4gICAgICAgICAgICA6IChwcmVsb2FkU2VsZWN0b3IgKz1cbiAgICAgICAgICAgICAgICAnW2hyZWY9XCInICtcbiAgICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGhyZWYpICtcbiAgICAgICAgICAgICAgICAnXCJdJyk7XG4gICAgICAgICAgdmFyIGtleSA9IHByZWxvYWRTZWxlY3RvcjtcbiAgICAgICAgICBzd2l0Y2ggKGFzKSB7XG4gICAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgICAga2V5ID0gZ2V0U3R5bGVLZXkoaHJlZik7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICBrZXkgPSBnZXRTY3JpcHRLZXkoaHJlZik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByZWxvYWRQcm9wc01hcC5oYXMoa2V5KSB8fFxuICAgICAgICAgICAgKChocmVmID0gYXNzaWduKFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmVsOiBcInByZWxvYWRcIixcbiAgICAgICAgICAgICAgICBocmVmOlxuICAgICAgICAgICAgICAgICAgXCJpbWFnZVwiID09PSBhcyAmJiBvcHRpb25zICYmIG9wdGlvbnMuaW1hZ2VTcmNTZXRcbiAgICAgICAgICAgICAgICAgICAgPyB2b2lkIDBcbiAgICAgICAgICAgICAgICAgICAgOiBocmVmLFxuICAgICAgICAgICAgICAgIGFzOiBhc1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHByZWxvYWRQcm9wc01hcC5zZXQoa2V5LCBocmVmKSxcbiAgICAgICAgICAgIG51bGwgIT09IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihwcmVsb2FkU2VsZWN0b3IpIHx8XG4gICAgICAgICAgICAgIChcInN0eWxlXCIgPT09IGFzICYmXG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgICAgZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleShrZXkpXG4gICAgICAgICAgICAgICAgKSkgfHxcbiAgICAgICAgICAgICAgKFwic2NyaXB0XCIgPT09IGFzICYmXG4gICAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShrZXkpKSkgfHxcbiAgICAgICAgICAgICAgKChhcyA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIikpLFxuICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhhcywgXCJsaW5rXCIsIGhyZWYpLFxuICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGFzKSxcbiAgICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGFzKSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbTogZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgICAgcHJldmlvdXNEaXNwYXRjaGVyLm0oaHJlZiwgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIGhyZWYpIHtcbiAgICAgICAgICB2YXIgYXMgPVxuICAgICAgICAgICAgICBvcHRpb25zICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmFzID8gb3B0aW9ucy5hcyA6IFwic2NyaXB0XCIsXG4gICAgICAgICAgICBwcmVsb2FkU2VsZWN0b3IgPVxuICAgICAgICAgICAgICAnbGlua1tyZWw9XCJtb2R1bGVwcmVsb2FkXCJdW2FzPVwiJyArXG4gICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoYXMpICtcbiAgICAgICAgICAgICAgJ1wiXVtocmVmPVwiJyArXG4gICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoaHJlZikgK1xuICAgICAgICAgICAgICAnXCJdJyxcbiAgICAgICAgICAgIGtleSA9IHByZWxvYWRTZWxlY3RvcjtcbiAgICAgICAgICBzd2l0Y2ggKGFzKSB7XG4gICAgICAgICAgICBjYXNlIFwiYXVkaW93b3JrbGV0XCI6XG4gICAgICAgICAgICBjYXNlIFwicGFpbnR3b3JrbGV0XCI6XG4gICAgICAgICAgICBjYXNlIFwic2VydmljZXdvcmtlclwiOlxuICAgICAgICAgICAgY2FzZSBcInNoYXJlZHdvcmtlclwiOlxuICAgICAgICAgICAgY2FzZSBcIndvcmtlclwiOlxuICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICBrZXkgPSBnZXRTY3JpcHRLZXkoaHJlZik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFwcmVsb2FkUHJvcHNNYXAuaGFzKGtleSkgJiZcbiAgICAgICAgICAgICgoaHJlZiA9IGFzc2lnbih7IHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsIGhyZWY6IGhyZWYgfSwgb3B0aW9ucykpLFxuICAgICAgICAgICAgcHJlbG9hZFByb3BzTWFwLnNldChrZXksIGhyZWYpLFxuICAgICAgICAgICAgbnVsbCA9PT0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByZWxvYWRTZWxlY3RvcikpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGFzKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJhdWRpb3dvcmtsZXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBhaW50d29ya2xldFwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2VydmljZXdvcmtlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2hhcmVkd29ya2VyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJ3b3JrZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgICAgIGlmIChvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KGtleSkpKVxuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXMgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoYXMsIFwibGlua1wiLCBocmVmKTtcbiAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoYXMpO1xuICAgICAgICAgICAgb3duZXJEb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGFzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBYOiBmdW5jdGlvbiAoc3JjLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5YKHNyYywgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIHNyYykge1xuICAgICAgICAgIHZhciBzY3JpcHRzID0gZ2V0UmVzb3VyY2VzRnJvbVJvb3Qob3duZXJEb2N1bWVudCkuaG9pc3RhYmxlU2NyaXB0cyxcbiAgICAgICAgICAgIGtleSA9IGdldFNjcmlwdEtleShzcmMpLFxuICAgICAgICAgICAgcmVzb3VyY2UgPSBzY3JpcHRzLmdldChrZXkpO1xuICAgICAgICAgIHJlc291cmNlIHx8XG4gICAgICAgICAgICAoKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICBnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoa2V5KVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICByZXNvdXJjZSB8fFxuICAgICAgICAgICAgICAoKHNyYyA9IGFzc2lnbih7IHNyYzogc3JjLCBhc3luYzogITAgfSwgb3B0aW9ucykpLFxuICAgICAgICAgICAgICAob3B0aW9ucyA9IHByZWxvYWRQcm9wc01hcC5nZXQoa2V5KSkgJiZcbiAgICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclNjcmlwdChzcmMsIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpLFxuICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKHJlc291cmNlKSxcbiAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMocmVzb3VyY2UsIFwibGlua1wiLCBzcmMpLFxuICAgICAgICAgICAgICBvd25lckRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocmVzb3VyY2UpKSxcbiAgICAgICAgICAgIChyZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJzY3JpcHRcIixcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgc3RhdGU6IG51bGxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc2NyaXB0cy5zZXQoa2V5LCByZXNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgUzogZnVuY3Rpb24gKGhyZWYsIHByZWNlZGVuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgcHJldmlvdXNEaXNwYXRjaGVyLlMoaHJlZiwgcHJlY2VkZW5jZSwgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIGhyZWYpIHtcbiAgICAgICAgICB2YXIgc3R5bGVzID0gZ2V0UmVzb3VyY2VzRnJvbVJvb3Qob3duZXJEb2N1bWVudCkuaG9pc3RhYmxlU3R5bGVzLFxuICAgICAgICAgICAga2V5ID0gZ2V0U3R5bGVLZXkoaHJlZik7XG4gICAgICAgICAgcHJlY2VkZW5jZSA9IHByZWNlZGVuY2UgfHwgXCJkZWZhdWx0XCI7XG4gICAgICAgICAgdmFyIHJlc291cmNlID0gc3R5bGVzLmdldChrZXkpO1xuICAgICAgICAgIGlmICghcmVzb3VyY2UpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHsgbG9hZGluZzogTm90TG9hZGVkLCBwcmVsb2FkOiBudWxsIH07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIChyZXNvdXJjZSA9IG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICBnZXRTdHlsZXNoZWV0U2VsZWN0b3JGcm9tS2V5KGtleSlcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3RhdGUubG9hZGluZyA9IExvYWRlZCB8IEluc2VydGVkO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGhyZWYgPSBhc3NpZ24oXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgcmVsOiBcInN0eWxlc2hlZXRcIixcbiAgICAgICAgICAgICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgICAgICAgICAgICBcImRhdGEtcHJlY2VkZW5jZVwiOiBwcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIChvcHRpb25zID0gcHJlbG9hZFByb3BzTWFwLmdldChrZXkpKSAmJlxuICAgICAgICAgICAgICAgIGFkb3B0UHJlbG9hZFByb3BzRm9yU3R5bGVzaGVldChocmVmLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgdmFyIGxpbmsgPSAocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpKTtcbiAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShsaW5rKTtcbiAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMobGluaywgXCJsaW5rXCIsIGhyZWYpO1xuICAgICAgICAgICAgICBsaW5rLl9wID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIGxpbmsub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgICBsaW5rLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5sb2FkaW5nIHw9IExvYWRlZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZS5sb2FkaW5nIHw9IEVycm9yZWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBzdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkO1xuICAgICAgICAgICAgICBpbnNlcnRTdHlsZXNoZWV0KHJlc291cmNlLCBwcmVjZWRlbmNlLCBvd25lckRvY3VtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc291cmNlID0ge1xuICAgICAgICAgICAgICB0eXBlOiBcInN0eWxlc2hlZXRcIixcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgc3RhdGU6IHN0YXRlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3R5bGVzLnNldChrZXksIHJlc291cmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBNOiBmdW5jdGlvbiAoc3JjLCBvcHRpb25zKSB7XG4gICAgICAgIHByZXZpb3VzRGlzcGF0Y2hlci5NKHNyYywgb3B0aW9ucyk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID0gZ2xvYmFsRG9jdW1lbnQ7XG4gICAgICAgIGlmIChvd25lckRvY3VtZW50ICYmIHNyYykge1xuICAgICAgICAgIHZhciBzY3JpcHRzID0gZ2V0UmVzb3VyY2VzRnJvbVJvb3Qob3duZXJEb2N1bWVudCkuaG9pc3RhYmxlU2NyaXB0cyxcbiAgICAgICAgICAgIGtleSA9IGdldFNjcmlwdEtleShzcmMpLFxuICAgICAgICAgICAgcmVzb3VyY2UgPSBzY3JpcHRzLmdldChrZXkpO1xuICAgICAgICAgIHJlc291cmNlIHx8XG4gICAgICAgICAgICAoKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICBnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoa2V5KVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICByZXNvdXJjZSB8fFxuICAgICAgICAgICAgICAoKHNyYyA9IGFzc2lnbih7IHNyYzogc3JjLCBhc3luYzogITAsIHR5cGU6IFwibW9kdWxlXCIgfSwgb3B0aW9ucykpLFxuICAgICAgICAgICAgICAob3B0aW9ucyA9IHByZWxvYWRQcm9wc01hcC5nZXQoa2V5KSkgJiZcbiAgICAgICAgICAgICAgICBhZG9wdFByZWxvYWRQcm9wc0ZvclNjcmlwdChzcmMsIG9wdGlvbnMpLFxuICAgICAgICAgICAgICAocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIikpLFxuICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKHJlc291cmNlKSxcbiAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMocmVzb3VyY2UsIFwibGlua1wiLCBzcmMpLFxuICAgICAgICAgICAgICBvd25lckRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocmVzb3VyY2UpKSxcbiAgICAgICAgICAgIChyZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJzY3JpcHRcIixcbiAgICAgICAgICAgICAgaW5zdGFuY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgc3RhdGU6IG51bGxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgc2NyaXB0cy5zZXQoa2V5LCByZXNvdXJjZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZ2xvYmFsRG9jdW1lbnQgPSBcInVuZGVmaW5lZFwiID09PSB0eXBlb2YgZG9jdW1lbnQgPyBudWxsIDogZG9jdW1lbnQsXG4gICAgICB0YWdDYWNoZXMgPSBudWxsLFxuICAgICAgc3VzcGVuZGVkU3RhdGUgPSBudWxsLFxuICAgICAgTEFTVF9QUkVDRURFTkNFID0gbnVsbCxcbiAgICAgIHByZWNlZGVuY2VzQnlSb290ID0gbnVsbCxcbiAgICAgIE5vdFBlbmRpbmdUcmFuc2l0aW9uID0gTm90UGVuZGluZyxcbiAgICAgIEhvc3RUcmFuc2l0aW9uQ29udGV4dCA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlRFWFRfVFlQRSxcbiAgICAgICAgUHJvdmlkZXI6IG51bGwsXG4gICAgICAgIENvbnN1bWVyOiBudWxsLFxuICAgICAgICBfY3VycmVudFZhbHVlOiBOb3RQZW5kaW5nVHJhbnNpdGlvbixcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTI6IE5vdFBlbmRpbmdUcmFuc2l0aW9uLFxuICAgICAgICBfdGhyZWFkQ291bnQ6IDBcbiAgICAgIH0sXG4gICAgICBiYWRnZUZvcm1hdCA9IFwiJWMlcyVjIFwiLFxuICAgICAgYmFkZ2VTdHlsZSA9XG4gICAgICAgIFwiYmFja2dyb3VuZDogI2U2ZTZlNjtiYWNrZ3JvdW5kOiBsaWdodC1kYXJrKHJnYmEoMCwwLDAsMC4xKSwgcmdiYSgyNTUsMjU1LDI1NSwwLjI1KSk7Y29sb3I6ICMwMDAwMDA7Y29sb3I6IGxpZ2h0LWRhcmsoIzAwMDAwMCwgI2ZmZmZmZik7Ym9yZGVyLXJhZGl1czogMnB4XCIsXG4gICAgICByZXNldFN0eWxlID0gXCJcIixcbiAgICAgIHBhZCA9IFwiIFwiLFxuICAgICAgYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuICAgIHZhciBkaWRXYXJuQWJvdXROZXN0ZWRVcGRhdGVzID0gITE7XG4gICAgdmFyIG92ZXJyaWRlSG9va1N0YXRlID0gbnVsbCxcbiAgICAgIG92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aCA9IG51bGwsXG4gICAgICBvdmVycmlkZUhvb2tTdGF0ZVJlbmFtZVBhdGggPSBudWxsLFxuICAgICAgb3ZlcnJpZGVQcm9wcyA9IG51bGwsXG4gICAgICBvdmVycmlkZVByb3BzRGVsZXRlUGF0aCA9IG51bGwsXG4gICAgICBvdmVycmlkZVByb3BzUmVuYW1lUGF0aCA9IG51bGwsXG4gICAgICBzY2hlZHVsZVVwZGF0ZSA9IG51bGwsXG4gICAgICBzZXRFcnJvckhhbmRsZXIgPSBudWxsLFxuICAgICAgc2V0U3VzcGVuc2VIYW5kbGVyID0gbnVsbDtcbiAgICBvdmVycmlkZUhvb2tTdGF0ZSA9IGZ1bmN0aW9uIChmaWJlciwgaWQsIHBhdGgsIHZhbHVlKSB7XG4gICAgICBpZCA9IGZpbmRIb29rKGZpYmVyLCBpZCk7XG4gICAgICBudWxsICE9PSBpZCAmJlxuICAgICAgICAoKHBhdGggPSBjb3B5V2l0aFNldEltcGwoaWQubWVtb2l6ZWRTdGF0ZSwgcGF0aCwgMCwgdmFsdWUpKSxcbiAgICAgICAgKGlkLm1lbW9pemVkU3RhdGUgPSBwYXRoKSxcbiAgICAgICAgKGlkLmJhc2VTdGF0ZSA9IHBhdGgpLFxuICAgICAgICAoZmliZXIubWVtb2l6ZWRQcm9wcyA9IGFzc2lnbih7fSwgZmliZXIubWVtb2l6ZWRQcm9wcykpLFxuICAgICAgICAocGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICBudWxsICE9PSBwYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXRoLCBmaWJlciwgMikpO1xuICAgIH07XG4gICAgb3ZlcnJpZGVIb29rU3RhdGVEZWxldGVQYXRoID0gZnVuY3Rpb24gKGZpYmVyLCBpZCwgcGF0aCkge1xuICAgICAgaWQgPSBmaW5kSG9vayhmaWJlciwgaWQpO1xuICAgICAgbnVsbCAhPT0gaWQgJiZcbiAgICAgICAgKChwYXRoID0gY29weVdpdGhEZWxldGVJbXBsKGlkLm1lbW9pemVkU3RhdGUsIHBhdGgsIDApKSxcbiAgICAgICAgKGlkLm1lbW9pemVkU3RhdGUgPSBwYXRoKSxcbiAgICAgICAgKGlkLmJhc2VTdGF0ZSA9IHBhdGgpLFxuICAgICAgICAoZmliZXIubWVtb2l6ZWRQcm9wcyA9IGFzc2lnbih7fSwgZmliZXIubWVtb2l6ZWRQcm9wcykpLFxuICAgICAgICAocGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMikpLFxuICAgICAgICBudWxsICE9PSBwYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXRoLCBmaWJlciwgMikpO1xuICAgIH07XG4gICAgb3ZlcnJpZGVIb29rU3RhdGVSZW5hbWVQYXRoID0gZnVuY3Rpb24gKGZpYmVyLCBpZCwgb2xkUGF0aCwgbmV3UGF0aCkge1xuICAgICAgaWQgPSBmaW5kSG9vayhmaWJlciwgaWQpO1xuICAgICAgbnVsbCAhPT0gaWQgJiZcbiAgICAgICAgKChvbGRQYXRoID0gY29weVdpdGhSZW5hbWUoaWQubWVtb2l6ZWRTdGF0ZSwgb2xkUGF0aCwgbmV3UGF0aCkpLFxuICAgICAgICAoaWQubWVtb2l6ZWRTdGF0ZSA9IG9sZFBhdGgpLFxuICAgICAgICAoaWQuYmFzZVN0YXRlID0gb2xkUGF0aCksXG4gICAgICAgIChmaWJlci5tZW1vaXplZFByb3BzID0gYXNzaWduKHt9LCBmaWJlci5tZW1vaXplZFByb3BzKSksXG4gICAgICAgIChvbGRQYXRoID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKSksXG4gICAgICAgIG51bGwgIT09IG9sZFBhdGggJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKG9sZFBhdGgsIGZpYmVyLCAyKSk7XG4gICAgfTtcbiAgICBvdmVycmlkZVByb3BzID0gZnVuY3Rpb24gKGZpYmVyLCBwYXRoLCB2YWx1ZSkge1xuICAgICAgZmliZXIucGVuZGluZ1Byb3BzID0gY29weVdpdGhTZXRJbXBsKGZpYmVyLm1lbW9pemVkUHJvcHMsIHBhdGgsIDAsIHZhbHVlKTtcbiAgICAgIGZpYmVyLmFsdGVybmF0ZSAmJiAoZmliZXIuYWx0ZXJuYXRlLnBlbmRpbmdQcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcyk7XG4gICAgICBwYXRoID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IHBhdGggJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHBhdGgsIGZpYmVyLCAyKTtcbiAgICB9O1xuICAgIG92ZXJyaWRlUHJvcHNEZWxldGVQYXRoID0gZnVuY3Rpb24gKGZpYmVyLCBwYXRoKSB7XG4gICAgICBmaWJlci5wZW5kaW5nUHJvcHMgPSBjb3B5V2l0aERlbGV0ZUltcGwoZmliZXIubWVtb2l6ZWRQcm9wcywgcGF0aCwgMCk7XG4gICAgICBmaWJlci5hbHRlcm5hdGUgJiYgKGZpYmVyLmFsdGVybmF0ZS5wZW5kaW5nUHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHMpO1xuICAgICAgcGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICBudWxsICE9PSBwYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXRoLCBmaWJlciwgMik7XG4gICAgfTtcbiAgICBvdmVycmlkZVByb3BzUmVuYW1lUGF0aCA9IGZ1bmN0aW9uIChmaWJlciwgb2xkUGF0aCwgbmV3UGF0aCkge1xuICAgICAgZmliZXIucGVuZGluZ1Byb3BzID0gY29weVdpdGhSZW5hbWUoXG4gICAgICAgIGZpYmVyLm1lbW9pemVkUHJvcHMsXG4gICAgICAgIG9sZFBhdGgsXG4gICAgICAgIG5ld1BhdGhcbiAgICAgICk7XG4gICAgICBmaWJlci5hbHRlcm5hdGUgJiYgKGZpYmVyLmFsdGVybmF0ZS5wZW5kaW5nUHJvcHMgPSBmaWJlci5wZW5kaW5nUHJvcHMpO1xuICAgICAgb2xkUGF0aCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICBudWxsICE9PSBvbGRQYXRoICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihvbGRQYXRoLCBmaWJlciwgMik7XG4gICAgfTtcbiAgICBzY2hlZHVsZVVwZGF0ZSA9IGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gcm9vdCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDIpO1xuICAgIH07XG4gICAgc2V0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKG5ld1Nob3VsZEVycm9ySW1wbCkge1xuICAgICAgc2hvdWxkRXJyb3JJbXBsID0gbmV3U2hvdWxkRXJyb3JJbXBsO1xuICAgIH07XG4gICAgc2V0U3VzcGVuc2VIYW5kbGVyID0gZnVuY3Rpb24gKG5ld1Nob3VsZFN1c3BlbmRJbXBsKSB7XG4gICAgICBzaG91bGRTdXNwZW5kSW1wbCA9IG5ld1Nob3VsZFN1c3BlbmRJbXBsO1xuICAgIH07XG4gICAgdmFyIF9lbmFibGVkID0gITAsXG4gICAgICByZXR1cm5fdGFyZ2V0SW5zdCA9IG51bGwsXG4gICAgICBoYXNTY2hlZHVsZWRSZXBsYXlBdHRlbXB0ID0gITEsXG4gICAgICBxdWV1ZWRGb2N1cyA9IG51bGwsXG4gICAgICBxdWV1ZWREcmFnID0gbnVsbCxcbiAgICAgIHF1ZXVlZE1vdXNlID0gbnVsbCxcbiAgICAgIHF1ZXVlZFBvaW50ZXJzID0gbmV3IE1hcCgpLFxuICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzID0gbmV3IE1hcCgpLFxuICAgICAgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzID0gW10sXG4gICAgICBkaXNjcmV0ZVJlcGxheWFibGVFdmVudHMgPVxuICAgICAgICBcIm1vdXNlZG93biBtb3VzZXVwIHRvdWNoY2FuY2VsIHRvdWNoZW5kIHRvdWNoc3RhcnQgYXV4Y2xpY2sgZGJsY2xpY2sgcG9pbnRlcmNhbmNlbCBwb2ludGVyZG93biBwb2ludGVydXAgZHJhZ2VuZCBkcmFnc3RhcnQgZHJvcCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnN0YXJ0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgaW5wdXQgdGV4dElucHV0IGNvcHkgY3V0IHBhc3RlIGNsaWNrIGNoYW5nZSBjb250ZXh0bWVudSByZXNldFwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICBsYXN0U2NoZWR1bGVkUmVwbGF5UXVldWUgPSBudWxsO1xuICAgIFJlYWN0RE9NSHlkcmF0aW9uUm9vdC5wcm90b3R5cGUucmVuZGVyID0gUmVhY3RET01Sb290LnByb3RvdHlwZS5yZW5kZXIgPVxuICAgICAgZnVuY3Rpb24gKGNoaWxkcmVuLCBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIpIHtcbiAgICAgICAgdmFyIHJvb3QgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gICAgICAgIGlmIChudWxsID09PSByb290KSB0aHJvdyBFcnJvcihcIkNhbm5vdCB1cGRhdGUgYW4gdW5tb3VudGVkIHJvb3QuXCIpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDJcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZG9lcyBub3Qgc3VwcG9ydCB0aGUgc2Vjb25kIGNhbGxiYWNrIGFyZ3VtZW50LiBUbyBleGVjdXRlIGEgc2lkZSBlZmZlY3QgYWZ0ZXIgcmVuZGVyaW5nLCBkZWNsYXJlIGl0IGluIGEgY29tcG9uZW50IGJvZHkgd2l0aCB1c2VFZmZlY3QoKS5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogaXNWYWxpZENvbnRhaW5lcihKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIpXG4gICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJZb3UgcGFzc2VkIGEgY29udGFpbmVyIHRvIHRoZSBzZWNvbmQgYXJndW1lbnQgb2Ygcm9vdC5yZW5kZXIoLi4uKS4gWW91IGRvbid0IG5lZWQgdG8gcGFzcyBpdCBhZ2FpbiBzaW5jZSB5b3UgYWxyZWFkeSBwYXNzZWQgaXQgdG8gY3JlYXRlIHRoZSByb290LlwiXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIDogXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMiAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiWW91IHBhc3NlZCBhIHNlY29uZCBhcmd1bWVudCB0byByb290LnJlbmRlciguLi4pIGJ1dCBpdCBvbmx5IGFjY2VwdHMgb25lIGFyZ3VtZW50LlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMiA9IHJvb3QuY3VycmVudDtcbiAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDIpO1xuICAgICAgICB1cGRhdGVDb250YWluZXJJbXBsKFxuICAgICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMixcbiAgICAgICAgICBsYW5lLFxuICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBudWxsXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgIFJlYWN0RE9NSHlkcmF0aW9uUm9vdC5wcm90b3R5cGUudW5tb3VudCA9IFJlYWN0RE9NUm9vdC5wcm90b3R5cGUudW5tb3VudCA9XG4gICAgICBmdW5jdGlvbiAoSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzKSB7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImRvZXMgbm90IHN1cHBvcnQgYSBjYWxsYmFjayBhcmd1bWVudC4gVG8gZXhlY3V0ZSBhIHNpZGUgZWZmZWN0IGFmdGVyIHJlbmRlcmluZywgZGVjbGFyZSBpdCBpbiBhIGNvbXBvbmVudCBib2R5IHdpdGggdXNlRWZmZWN0KCkuXCJcbiAgICAgICAgICApO1xuICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMgPSB0aGlzLl9pbnRlcm5hbFJvb3Q7XG4gICAgICAgIGlmIChudWxsICE9PSBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMpIHtcbiAgICAgICAgICB0aGlzLl9pbnRlcm5hbFJvb3QgPSBudWxsO1xuICAgICAgICAgIHZhciBjb250YWluZXIgPSBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMuY29udGFpbmVySW5mbztcbiAgICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpICE9PSBOb0NvbnRleHQgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQXR0ZW1wdGVkIHRvIHN5bmNocm9ub3VzbHkgdW5tb3VudCBhIHJvb3Qgd2hpbGUgUmVhY3Qgd2FzIGFscmVhZHkgcmVuZGVyaW5nLiBSZWFjdCBjYW5ub3QgZmluaXNoIHVubW91bnRpbmcgdGhlIHJvb3QgdW50aWwgdGhlIGN1cnJlbnQgcmVuZGVyIGhhcyBjb21wbGV0ZWQsIHdoaWNoIG1heSBsZWFkIHRvIGEgcmFjZSBjb25kaXRpb24uXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgdXBkYXRlQ29udGFpbmVyU3luYyhcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMsXG4gICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgICAgZmx1c2hTeW5jV29yayQxKCk7XG4gICAgICAgICAgY29udGFpbmVyW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBSZWFjdERPTUh5ZHJhdGlvblJvb3QucHJvdG90eXBlLnVuc3RhYmxlX3NjaGVkdWxlSHlkcmF0aW9uID0gZnVuY3Rpb24gKFxuICAgICAgdGFyZ2V0XG4gICAgKSB7XG4gICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgIHZhciB1cGRhdGVQcmlvcml0eSA9IHJlc29sdmVVcGRhdGVQcmlvcml0eSgpO1xuICAgICAgICB0YXJnZXQgPSB7IGJsb2NrZWRPbjogbnVsbCwgdGFyZ2V0OiB0YXJnZXQsIHByaW9yaXR5OiB1cGRhdGVQcmlvcml0eSB9O1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICBpIDwgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLmxlbmd0aCAmJlxuICAgICAgICAgIDAgIT09IHVwZGF0ZVByaW9yaXR5ICYmXG4gICAgICAgICAgdXBkYXRlUHJpb3JpdHkgPCBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHNbaV0ucHJpb3JpdHk7XG4gICAgICAgICAgaSsrXG4gICAgICAgICk7XG4gICAgICAgIHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5zcGxpY2UoaSwgMCwgdGFyZ2V0KTtcbiAgICAgICAgMCA9PT0gaSAmJiBhdHRlbXB0RXhwbGljaXRIeWRyYXRpb25UYXJnZXQodGFyZ2V0KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgaXNvbW9ycGhpY1JlYWN0UGFja2FnZVZlcnNpb24gPSBSZWFjdC52ZXJzaW9uO1xuICAgICAgaWYgKFwiMTkuMC4wXCIgIT09IGlzb21vcnBoaWNSZWFjdFBhY2thZ2VWZXJzaW9uKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAnSW5jb21wYXRpYmxlIFJlYWN0IHZlcnNpb25zOiBUaGUgXCJyZWFjdFwiIGFuZCBcInJlYWN0LWRvbVwiIHBhY2thZ2VzIG11c3QgaGF2ZSB0aGUgZXhhY3Qgc2FtZSB2ZXJzaW9uLiBJbnN0ZWFkIGdvdDpcXG4gIC0gcmVhY3Q6ICAgICAgJyArXG4gICAgICAgICAgICAoaXNvbW9ycGhpY1JlYWN0UGFja2FnZVZlcnNpb24gK1xuICAgICAgICAgICAgICBcIlxcbiAgLSByZWFjdC1kb206ICAxOS4wLjBcXG5MZWFybiBtb3JlOiBodHRwczovL3JlYWN0LmRldi93YXJuaW5ncy92ZXJzaW9uLW1pc21hdGNoXCIpXG4gICAgICAgICk7XG4gICAgfSkoKTtcbiAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgTWFwICYmXG4gICAgICBudWxsICE9IE1hcC5wcm90b3R5cGUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE1hcC5wcm90b3R5cGUuZm9yRWFjaCAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0ICYmXG4gICAgICBudWxsICE9IFNldC5wcm90b3R5cGUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldC5wcm90b3R5cGUuY2xlYXIgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldC5wcm90b3R5cGUuZm9yRWFjaCkgfHxcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiUmVhY3QgZGVwZW5kcyBvbiBNYXAgYW5kIFNldCBidWlsdC1pbiB0eXBlcy4gTWFrZSBzdXJlIHRoYXQgeW91IGxvYWQgYSBwb2x5ZmlsbCBpbiBvbGRlciBicm93c2Vycy4gaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9yZWFjdC1wb2x5ZmlsbHNcIlxuICAgICAgKTtcbiAgICBSZWFjdERPTVNoYXJlZEludGVybmFscy5maW5kRE9NTm9kZSA9IGZ1bmN0aW9uIChjb21wb25lbnRPckVsZW1lbnQpIHtcbiAgICAgIHZhciBmaWJlciA9IGNvbXBvbmVudE9yRWxlbWVudC5fcmVhY3RJbnRlcm5hbHM7XG4gICAgICBpZiAodm9pZCAwID09PSBmaWJlcikge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY29tcG9uZW50T3JFbGVtZW50LnJlbmRlcilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICAgIGNvbXBvbmVudE9yRWxlbWVudCA9IE9iamVjdC5rZXlzKGNvbXBvbmVudE9yRWxlbWVudCkuam9pbihcIixcIik7XG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiQXJndW1lbnQgYXBwZWFycyB0byBub3QgYmUgYSBSZWFjdENvbXBvbmVudC4gS2V5czogXCIgK1xuICAgICAgICAgICAgY29tcG9uZW50T3JFbGVtZW50XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb21wb25lbnRPckVsZW1lbnQgPSBmaW5kQ3VycmVudEZpYmVyVXNpbmdTbG93UGF0aChmaWJlcik7XG4gICAgICBjb21wb25lbnRPckVsZW1lbnQgPVxuICAgICAgICBudWxsICE9PSBjb21wb25lbnRPckVsZW1lbnRcbiAgICAgICAgICA/IGZpbmRDdXJyZW50SG9zdEZpYmVySW1wbChjb21wb25lbnRPckVsZW1lbnQpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgY29tcG9uZW50T3JFbGVtZW50ID1cbiAgICAgICAgbnVsbCA9PT0gY29tcG9uZW50T3JFbGVtZW50ID8gbnVsbCA6IGNvbXBvbmVudE9yRWxlbWVudC5zdGF0ZU5vZGU7XG4gICAgICByZXR1cm4gY29tcG9uZW50T3JFbGVtZW50O1xuICAgIH07XG4gICAgaWYgKFxuICAgICAgIShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnRlcm5hbHMgPSB7XG4gICAgICAgICAgYnVuZGxlVHlwZTogMSxcbiAgICAgICAgICB2ZXJzaW9uOiBcIjE5LjAuMFwiLFxuICAgICAgICAgIHJlbmRlcmVyUGFja2FnZU5hbWU6IFwicmVhY3QtZG9tXCIsXG4gICAgICAgICAgY3VycmVudERpc3BhdGNoZXJSZWY6IFJlYWN0U2hhcmVkSW50ZXJuYWxzLFxuICAgICAgICAgIGZpbmRGaWJlckJ5SG9zdEluc3RhbmNlOiBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSxcbiAgICAgICAgICByZWNvbmNpbGVyVmVyc2lvbjogXCIxOS4wLjBcIlxuICAgICAgICB9O1xuICAgICAgICBpbnRlcm5hbHMub3ZlcnJpZGVIb29rU3RhdGUgPSBvdmVycmlkZUhvb2tTdGF0ZTtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aCA9IG92ZXJyaWRlSG9va1N0YXRlRGVsZXRlUGF0aDtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlSG9va1N0YXRlUmVuYW1lUGF0aCA9IG92ZXJyaWRlSG9va1N0YXRlUmVuYW1lUGF0aDtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlUHJvcHMgPSBvdmVycmlkZVByb3BzO1xuICAgICAgICBpbnRlcm5hbHMub3ZlcnJpZGVQcm9wc0RlbGV0ZVBhdGggPSBvdmVycmlkZVByb3BzRGVsZXRlUGF0aDtcbiAgICAgICAgaW50ZXJuYWxzLm92ZXJyaWRlUHJvcHNSZW5hbWVQYXRoID0gb3ZlcnJpZGVQcm9wc1JlbmFtZVBhdGg7XG4gICAgICAgIGludGVybmFscy5zY2hlZHVsZVVwZGF0ZSA9IHNjaGVkdWxlVXBkYXRlO1xuICAgICAgICBpbnRlcm5hbHMuc2V0RXJyb3JIYW5kbGVyID0gc2V0RXJyb3JIYW5kbGVyO1xuICAgICAgICBpbnRlcm5hbHMuc2V0U3VzcGVuc2VIYW5kbGVyID0gc2V0U3VzcGVuc2VIYW5kbGVyO1xuICAgICAgICBpbnRlcm5hbHMuc2NoZWR1bGVSZWZyZXNoID0gc2NoZWR1bGVSZWZyZXNoO1xuICAgICAgICBpbnRlcm5hbHMuc2NoZWR1bGVSb290ID0gc2NoZWR1bGVSb290O1xuICAgICAgICBpbnRlcm5hbHMuc2V0UmVmcmVzaEhhbmRsZXIgPSBzZXRSZWZyZXNoSGFuZGxlcjtcbiAgICAgICAgaW50ZXJuYWxzLmdldEN1cnJlbnRGaWJlciA9IGdldEN1cnJlbnRGaWJlckZvckRldlRvb2xzO1xuICAgICAgICBpbnRlcm5hbHMuZ2V0TGFuZUxhYmVsTWFwID0gZ2V0TGFuZUxhYmVsTWFwO1xuICAgICAgICBpbnRlcm5hbHMuaW5qZWN0UHJvZmlsaW5nSG9va3MgPSBpbmplY3RQcm9maWxpbmdIb29rcztcbiAgICAgICAgcmV0dXJuIGluamVjdEludGVybmFscyhpbnRlcm5hbHMpO1xuICAgICAgfSkoKSAmJlxuICAgICAgY2FuVXNlRE9NICYmXG4gICAgICB3aW5kb3cudG9wID09PSB3aW5kb3cuc2VsZiAmJlxuICAgICAgKCgtMSA8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkNocm9tZVwiKSAmJlxuICAgICAgICAtMSA9PT0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRWRnZVwiKSkgfHxcbiAgICAgICAgLTEgPCBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJGaXJlZm94XCIpKVxuICAgICkge1xuICAgICAgdmFyIHByb3RvY29sID0gd2luZG93LmxvY2F0aW9uLnByb3RvY29sO1xuICAgICAgL14oaHR0cHM/fGZpbGUpOiQvLnRlc3QocHJvdG9jb2wpICYmXG4gICAgICAgIGNvbnNvbGUuaW5mbyhcbiAgICAgICAgICBcIiVjRG93bmxvYWQgdGhlIFJlYWN0IERldlRvb2xzIGZvciBhIGJldHRlciBkZXZlbG9wbWVudCBleHBlcmllbmNlOiBodHRwczovL3JlYWN0LmRldi9saW5rL3JlYWN0LWRldnRvb2xzXCIgK1xuICAgICAgICAgICAgKFwiZmlsZTpcIiA9PT0gcHJvdG9jb2xcbiAgICAgICAgICAgICAgPyBcIlxcbllvdSBtaWdodCBuZWVkIHRvIHVzZSBhIGxvY2FsIEhUVFAgc2VydmVyIChpbnN0ZWFkIG9mIGZpbGU6Ly8pOiBodHRwczovL3JlYWN0LmRldi9saW5rL3JlYWN0LWRldnRvb2xzLWZhcVwiXG4gICAgICAgICAgICAgIDogXCJcIiksXG4gICAgICAgICAgXCJmb250LXdlaWdodDpib2xkXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZXhwb3J0cy5jcmVhdGVSb290ID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgaWYgKCFpc1ZhbGlkQ29udGFpbmVyKGNvbnRhaW5lcikpXG4gICAgICAgIHRocm93IEVycm9yKFwiVGFyZ2V0IGNvbnRhaW5lciBpcyBub3QgYSBET00gZWxlbWVudC5cIik7XG4gICAgICB3YXJuSWZSZWFjdERPTUNvbnRhaW5lckluREVWKGNvbnRhaW5lcik7XG4gICAgICB2YXIgaXNTdHJpY3RNb2RlID0gITEsXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXggPSBcIlwiLFxuICAgICAgICBvblVuY2F1Z2h0RXJyb3IgPSBkZWZhdWx0T25VbmNhdWdodEVycm9yLFxuICAgICAgICBvbkNhdWdodEVycm9yID0gZGVmYXVsdE9uQ2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uUmVjb3ZlcmFibGVFcnJvciA9IGRlZmF1bHRPblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICAgIHRyYW5zaXRpb25DYWxsYmFja3MgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgKG9wdGlvbnMuaHlkcmF0ZVxuICAgICAgICAgID8gY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBcImh5ZHJhdGUgdGhyb3VnaCBjcmVhdGVSb290IGlzIGRlcHJlY2F0ZWQuIFVzZSBSZWFjdERPTUNsaWVudC5oeWRyYXRlUm9vdChjb250YWluZXIsIDxBcHAgLz4pIGluc3RlYWQuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmXG4gICAgICAgICAgICBudWxsICE9PSBvcHRpb25zICYmXG4gICAgICAgICAgICBvcHRpb25zLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IHBhc3NlZCBhIEpTWCBlbGVtZW50IHRvIGNyZWF0ZVJvb3QuIFlvdSBwcm9iYWJseSBtZWFudCB0byBjYWxsIHJvb3QucmVuZGVyIGluc3RlYWQuIEV4YW1wbGUgdXNhZ2U6XFxuXFxuICBsZXQgcm9vdCA9IGNyZWF0ZVJvb3QoZG9tQ29udGFpbmVyKTtcXG4gIHJvb3QucmVuZGVyKDxBcHAgLz4pO1wiXG4gICAgICAgICAgICApLFxuICAgICAgICAhMCA9PT0gb3B0aW9ucy51bnN0YWJsZV9zdHJpY3RNb2RlICYmIChpc1N0cmljdE1vZGUgPSAhMCksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5pZGVudGlmaWVyUHJlZml4ICYmXG4gICAgICAgICAgKGlkZW50aWZpZXJQcmVmaXggPSBvcHRpb25zLmlkZW50aWZpZXJQcmVmaXgpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25VbmNhdWdodEVycm9yICYmXG4gICAgICAgICAgKG9uVW5jYXVnaHRFcnJvciA9IG9wdGlvbnMub25VbmNhdWdodEVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uQ2F1Z2h0RXJyb3IgJiZcbiAgICAgICAgICAob25DYXVnaHRFcnJvciA9IG9wdGlvbnMub25DYXVnaHRFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vblJlY292ZXJhYmxlRXJyb3IgJiZcbiAgICAgICAgICAob25SZWNvdmVyYWJsZUVycm9yID0gb3B0aW9ucy5vblJlY292ZXJhYmxlRXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMudW5zdGFibGVfdHJhbnNpdGlvbkNhbGxiYWNrcyAmJlxuICAgICAgICAgICh0cmFuc2l0aW9uQ2FsbGJhY2tzID0gb3B0aW9ucy51bnN0YWJsZV90cmFuc2l0aW9uQ2FsbGJhY2tzKSk7XG4gICAgICBvcHRpb25zID0gY3JlYXRlRmliZXJSb290KFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIDEsXG4gICAgICAgICExLFxuICAgICAgICBudWxsLFxuICAgICAgICBudWxsLFxuICAgICAgICBpc1N0cmljdE1vZGUsXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXgsXG4gICAgICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgICAgICAgb25DYXVnaHRFcnJvcixcbiAgICAgICAgb25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgICB0cmFuc2l0aW9uQ2FsbGJhY2tzLFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgY29udGFpbmVyW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldID0gb3B0aW9ucy5jdXJyZW50O1xuICAgICAgbGlzdGVuVG9BbGxTdXBwb3J0ZWRFdmVudHMoXG4gICAgICAgIDggPT09IGNvbnRhaW5lci5ub2RlVHlwZSA/IGNvbnRhaW5lci5wYXJlbnROb2RlIDogY29udGFpbmVyXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5ldyBSZWFjdERPTVJvb3Qob3B0aW9ucyk7XG4gICAgfTtcbiAgICBleHBvcnRzLmh5ZHJhdGVSb290ID0gZnVuY3Rpb24gKGNvbnRhaW5lciwgaW5pdGlhbENoaWxkcmVuLCBvcHRpb25zKSB7XG4gICAgICBpZiAoIWlzVmFsaWRDb250YWluZXIoY29udGFpbmVyKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LlwiKTtcbiAgICAgIHdhcm5JZlJlYWN0RE9NQ29udGFpbmVySW5ERVYoY29udGFpbmVyKTtcbiAgICAgIHZvaWQgMCA9PT0gaW5pdGlhbENoaWxkcmVuICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJNdXN0IHByb3ZpZGUgaW5pdGlhbCBjaGlsZHJlbiBhcyBzZWNvbmQgYXJndW1lbnQgdG8gaHlkcmF0ZVJvb3QuIEV4YW1wbGUgdXNhZ2U6IGh5ZHJhdGVSb290KGRvbUNvbnRhaW5lciwgPEFwcCAvPilcIlxuICAgICAgICApO1xuICAgICAgdmFyIGlzU3RyaWN0TW9kZSA9ICExLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4ID0gXCJcIixcbiAgICAgICAgb25VbmNhdWdodEVycm9yID0gZGVmYXVsdE9uVW5jYXVnaHRFcnJvcixcbiAgICAgICAgb25DYXVnaHRFcnJvciA9IGRlZmF1bHRPbkNhdWdodEVycm9yLFxuICAgICAgICBvblJlY292ZXJhYmxlRXJyb3IgPSBkZWZhdWx0T25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgICB0cmFuc2l0aW9uQ2FsbGJhY2tzID0gbnVsbCxcbiAgICAgICAgZm9ybVN0YXRlID0gbnVsbDtcbiAgICAgIG51bGwgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zICYmXG4gICAgICAgICghMCA9PT0gb3B0aW9ucy51bnN0YWJsZV9zdHJpY3RNb2RlICYmIChpc1N0cmljdE1vZGUgPSAhMCksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5pZGVudGlmaWVyUHJlZml4ICYmXG4gICAgICAgICAgKGlkZW50aWZpZXJQcmVmaXggPSBvcHRpb25zLmlkZW50aWZpZXJQcmVmaXgpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25VbmNhdWdodEVycm9yICYmXG4gICAgICAgICAgKG9uVW5jYXVnaHRFcnJvciA9IG9wdGlvbnMub25VbmNhdWdodEVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uQ2F1Z2h0RXJyb3IgJiZcbiAgICAgICAgICAob25DYXVnaHRFcnJvciA9IG9wdGlvbnMub25DYXVnaHRFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vblJlY292ZXJhYmxlRXJyb3IgJiZcbiAgICAgICAgICAob25SZWNvdmVyYWJsZUVycm9yID0gb3B0aW9ucy5vblJlY292ZXJhYmxlRXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMudW5zdGFibGVfdHJhbnNpdGlvbkNhbGxiYWNrcyAmJlxuICAgICAgICAgICh0cmFuc2l0aW9uQ2FsbGJhY2tzID0gb3B0aW9ucy51bnN0YWJsZV90cmFuc2l0aW9uQ2FsbGJhY2tzKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLmZvcm1TdGF0ZSAmJiAoZm9ybVN0YXRlID0gb3B0aW9ucy5mb3JtU3RhdGUpKTtcbiAgICAgIGluaXRpYWxDaGlsZHJlbiA9IGNyZWF0ZUZpYmVyUm9vdChcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICAxLFxuICAgICAgICAhMCxcbiAgICAgICAgaW5pdGlhbENoaWxkcmVuLFxuICAgICAgICBudWxsICE9IG9wdGlvbnMgPyBvcHRpb25zIDogbnVsbCxcbiAgICAgICAgaXNTdHJpY3RNb2RlLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4LFxuICAgICAgICBvblVuY2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgICAgdHJhbnNpdGlvbkNhbGxiYWNrcyxcbiAgICAgICAgZm9ybVN0YXRlXG4gICAgICApO1xuICAgICAgaW5pdGlhbENoaWxkcmVuLmNvbnRleHQgPSBnZXRDb250ZXh0Rm9yU3VidHJlZShudWxsKTtcbiAgICAgIG9wdGlvbnMgPSBpbml0aWFsQ2hpbGRyZW4uY3VycmVudDtcbiAgICAgIGlzU3RyaWN0TW9kZSA9IHJlcXVlc3RVcGRhdGVMYW5lKG9wdGlvbnMpO1xuICAgICAgaWRlbnRpZmllclByZWZpeCA9IGNyZWF0ZVVwZGF0ZShpc1N0cmljdE1vZGUpO1xuICAgICAgaWRlbnRpZmllclByZWZpeC5jYWxsYmFjayA9IG51bGw7XG4gICAgICBlbnF1ZXVlVXBkYXRlKG9wdGlvbnMsIGlkZW50aWZpZXJQcmVmaXgsIGlzU3RyaWN0TW9kZSk7XG4gICAgICBpbml0aWFsQ2hpbGRyZW4uY3VycmVudC5sYW5lcyA9IGlzU3RyaWN0TW9kZTtcbiAgICAgIG1hcmtSb290VXBkYXRlZCQxKGluaXRpYWxDaGlsZHJlbiwgaXNTdHJpY3RNb2RlKTtcbiAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChpbml0aWFsQ2hpbGRyZW4pO1xuICAgICAgY29udGFpbmVyW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldID0gaW5pdGlhbENoaWxkcmVuLmN1cnJlbnQ7XG4gICAgICBsaXN0ZW5Ub0FsbFN1cHBvcnRlZEV2ZW50cyhjb250YWluZXIpO1xuICAgICAgcmV0dXJuIG5ldyBSZWFjdERPTUh5ZHJhdGlvblJvb3QoaW5pdGlhbENoaWxkcmVuKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudmVyc2lvbiA9IFwiMTkuMC4wXCI7XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gY2hlY2tEQ0UoKSB7XG4gIC8qIGdsb2JhbCBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gKi9cbiAgaWYgKFxuICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRSAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAvLyBUaGlzIGJyYW5jaCBpcyB1bnJlYWNoYWJsZSBiZWNhdXNlIHRoaXMgZnVuY3Rpb24gaXMgb25seSBjYWxsZWRcbiAgICAvLyBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGNvbmRpdGlvbiBpcyB0cnVlIG9ubHkgaW4gZGV2ZWxvcG1lbnQuXG4gICAgLy8gVGhlcmVmb3JlIGlmIHRoZSBicmFuY2ggaXMgc3RpbGwgaGVyZSwgZGVhZCBjb2RlIGVsaW1pbmF0aW9uIHdhc24ndFxuICAgIC8vIHByb3Blcmx5IGFwcGxpZWQuXG4gICAgLy8gRG9uJ3QgY2hhbmdlIHRoZSBtZXNzYWdlLiBSZWFjdCBEZXZUb29scyByZWxpZXMgb24gaXQuIEFsc28gbWFrZSBzdXJlXG4gICAgLy8gdGhpcyBtZXNzYWdlIGRvZXNuJ3Qgb2NjdXIgZWxzZXdoZXJlIGluIHRoaXMgZnVuY3Rpb24sIG9yIGl0IHdpbGwgY2F1c2VcbiAgICAvLyBhIGZhbHNlIHBvc2l0aXZlLlxuICAgIHRocm93IG5ldyBFcnJvcignXl9eJyk7XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBWZXJpZnkgdGhhdCB0aGUgY29kZSBhYm92ZSBoYXMgYmVlbiBkZWFkIGNvZGUgZWxpbWluYXRlZCAoRENFJ2QpLlxuICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5jaGVja0RDRShjaGVja0RDRSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIERldlRvb2xzIHNob3VsZG4ndCBjcmFzaCBSZWFjdCwgbm8gbWF0dGVyIHdoYXQuXG4gICAgLy8gV2Ugc2hvdWxkIHN0aWxsIHJlcG9ydCBpbiBjYXNlIHdlIGJyZWFrIHRoaXMgY29kZS5cbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH1cbn1cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgLy8gRENFIGNoZWNrIHNob3VsZCBoYXBwZW4gYmVmb3JlIFJlYWN0RE9NIGJ1bmRsZSBleGVjdXRlcyBzbyB0aGF0XG4gIC8vIERldlRvb2xzIGNhbiByZXBvcnQgYmFkIG1pbmlmaWNhdGlvbiBkdXJpbmcgaW5qZWN0aW9uLlxuICBjaGVja0RDRSgpO1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS1jbGllbnQucHJvZHVjdGlvbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1kb20tY2xpZW50LmRldmVsb3BtZW50LmpzJyk7XG59XG4iLAogICAgIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5wYXJzZSA9IHBhcnNlO1xuZXhwb3J0cy5zZXJpYWxpemUgPSBzZXJpYWxpemU7XG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBjb29raWUtbmFtZSBpbiBSRkMgNjI2NSBzZWMgNC4xLjFcbiAqIFRoaXMgcmVmZXJzIG91dCB0byB0aGUgb2Jzb2xldGVkIGRlZmluaXRpb24gb2YgdG9rZW4gaW4gUkZDIDI2MTYgc2VjIDIuMlxuICogd2hpY2ggaGFzIGJlZW4gcmVwbGFjZWQgYnkgdGhlIHRva2VuIGRlZmluaXRpb24gaW4gUkZDIDcyMzAgYXBwZW5kaXggQi5cbiAqXG4gKiBjb29raWUtbmFtZSAgICAgICA9IHRva2VuXG4gKiB0b2tlbiAgICAgICAgICAgICA9IDEqdGNoYXJcbiAqIHRjaGFyICAgICAgICAgICAgID0gXCIhXCIgLyBcIiNcIiAvIFwiJFwiIC8gXCIlXCIgLyBcIiZcIiAvIFwiJ1wiIC9cbiAqICAgICAgICAgICAgICAgICAgICAgXCIqXCIgLyBcIitcIiAvIFwiLVwiIC8gXCIuXCIgLyBcIl5cIiAvIFwiX1wiIC9cbiAqICAgICAgICAgICAgICAgICAgICAgXCJgXCIgLyBcInxcIiAvIFwiflwiIC8gRElHSVQgLyBBTFBIQVxuICpcbiAqIE5vdGU6IEFsbG93aW5nIG1vcmUgY2hhcmFjdGVycyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9qc2h0dHAvY29va2llL2lzc3Vlcy8xOTFcbiAqIEFsbG93IHNhbWUgcmFuZ2UgYXMgY29va2llIHZhbHVlLCBleGNlcHQgYD1gLCB3aGljaCBkZWxpbWl0cyBlbmQgb2YgbmFtZS5cbiAqL1xuY29uc3QgY29va2llTmFtZVJlZ0V4cCA9IC9eW1xcdTAwMjEtXFx1MDAzQVxcdTAwM0NcXHUwMDNFLVxcdTAwN0VdKyQvO1xuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggY29va2llLXZhbHVlIGluIFJGQyA2MjY1IHNlYyA0LjEuMVxuICpcbiAqIGNvb2tpZS12YWx1ZSAgICAgID0gKmNvb2tpZS1vY3RldCAvICggRFFVT1RFICpjb29raWUtb2N0ZXQgRFFVT1RFIClcbiAqIGNvb2tpZS1vY3RldCAgICAgID0gJXgyMSAvICV4MjMtMkIgLyAleDJELTNBIC8gJXgzQy01QiAvICV4NUQtN0VcbiAqICAgICAgICAgICAgICAgICAgICAgOyBVUy1BU0NJSSBjaGFyYWN0ZXJzIGV4Y2x1ZGluZyBDVExzLFxuICogICAgICAgICAgICAgICAgICAgICA7IHdoaXRlc3BhY2UgRFFVT1RFLCBjb21tYSwgc2VtaWNvbG9uLFxuICogICAgICAgICAgICAgICAgICAgICA7IGFuZCBiYWNrc2xhc2hcbiAqXG4gKiBBbGxvd2luZyBtb3JlIGNoYXJhY3RlcnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9qc2h0dHAvY29va2llL2lzc3Vlcy8xOTFcbiAqIENvbW1hLCBiYWNrc2xhc2gsIGFuZCBEUVVPVEUgYXJlIG5vdCBwYXJ0IG9mIHRoZSBwYXJzaW5nIGFsZ29yaXRobS5cbiAqL1xuY29uc3QgY29va2llVmFsdWVSZWdFeHAgPSAvXltcXHUwMDIxLVxcdTAwM0FcXHUwMDNDLVxcdTAwN0VdKiQvO1xuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggZG9tYWluLXZhbHVlIGluIFJGQyA2MjY1IHNlYyA0LjEuMVxuICpcbiAqIGRvbWFpbi12YWx1ZSAgICAgID0gPHN1YmRvbWFpbj5cbiAqICAgICAgICAgICAgICAgICAgICAgOyBkZWZpbmVkIGluIFtSRkMxMDM0XSwgU2VjdGlvbiAzLjUsIGFzXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgZW5oYW5jZWQgYnkgW1JGQzExMjNdLCBTZWN0aW9uIDIuMVxuICogPHN1YmRvbWFpbj4gICAgICAgPSA8bGFiZWw+IHwgPHN1YmRvbWFpbj4gXCIuXCIgPGxhYmVsPlxuICogPGxhYmVsPiAgICAgICAgICAgPSA8bGV0LWRpZz4gWyBbIDxsZGgtc3RyPiBdIDxsZXQtZGlnPiBdXG4gKiAgICAgICAgICAgICAgICAgICAgIExhYmVscyBtdXN0IGJlIDYzIGNoYXJhY3RlcnMgb3IgbGVzcy5cbiAqICAgICAgICAgICAgICAgICAgICAgJ2xldC1kaWcnIG5vdCAnbGV0dGVyJyBpbiB0aGUgZmlyc3QgY2hhciwgcGVyIFJGQzExMjNcbiAqIDxsZGgtc3RyPiAgICAgICAgID0gPGxldC1kaWctaHlwPiB8IDxsZXQtZGlnLWh5cD4gPGxkaC1zdHI+XG4gKiA8bGV0LWRpZy1oeXA+ICAgICA9IDxsZXQtZGlnPiB8IFwiLVwiXG4gKiA8bGV0LWRpZz4gICAgICAgICA9IDxsZXR0ZXI+IHwgPGRpZ2l0PlxuICogPGxldHRlcj4gICAgICAgICAgPSBhbnkgb25lIG9mIHRoZSA1MiBhbHBoYWJldGljIGNoYXJhY3RlcnMgQSB0aHJvdWdoIFogaW5cbiAqICAgICAgICAgICAgICAgICAgICAgdXBwZXIgY2FzZSBhbmQgYSB0aHJvdWdoIHogaW4gbG93ZXIgY2FzZVxuICogPGRpZ2l0PiAgICAgICAgICAgPSBhbnkgb25lIG9mIHRoZSB0ZW4gZGlnaXRzIDAgdGhyb3VnaCA5XG4gKlxuICogS2VlcCBzdXBwb3J0IGZvciBsZWFkaW5nIGRvdDogaHR0cHM6Ly9naXRodWIuY29tL2pzaHR0cC9jb29raWUvaXNzdWVzLzE3M1xuICpcbiAqID4gKE5vdGUgdGhhdCBhIGxlYWRpbmcgJXgyRSAoXCIuXCIpLCBpZiBwcmVzZW50LCBpcyBpZ25vcmVkIGV2ZW4gdGhvdWdoIHRoYXRcbiAqIGNoYXJhY3RlciBpcyBub3QgcGVybWl0dGVkLCBidXQgYSB0cmFpbGluZyAleDJFIChcIi5cIiksIGlmIHByZXNlbnQsIHdpbGxcbiAqIGNhdXNlIHRoZSB1c2VyIGFnZW50IHRvIGlnbm9yZSB0aGUgYXR0cmlidXRlLilcbiAqL1xuY29uc3QgZG9tYWluVmFsdWVSZWdFeHAgPSAvXihbLl0/W2EtejAtOV0oW2EtejAtOS1dezAsNjF9W2EtejAtOV0pPykoWy5dW2EtejAtOV0oW2EtejAtOS1dezAsNjF9W2EtejAtOV0pPykqJC9pO1xuLyoqXG4gKiBSZWdFeHAgdG8gbWF0Y2ggcGF0aC12YWx1ZSBpbiBSRkMgNjI2NSBzZWMgNC4xLjFcbiAqXG4gKiBwYXRoLXZhbHVlICAgICAgICA9IDxhbnkgQ0hBUiBleGNlcHQgQ1RMcyBvciBcIjtcIj5cbiAqIENIQVIgICAgICAgICAgICAgID0gJXgwMS03RlxuICogICAgICAgICAgICAgICAgICAgICA7IGRlZmluZWQgaW4gUkZDIDUyMzQgYXBwZW5kaXggQi4xXG4gKi9cbmNvbnN0IHBhdGhWYWx1ZVJlZ0V4cCA9IC9eW1xcdTAwMjAtXFx1MDAzQVxcdTAwM0QtXFx1MDA3RV0qJC87XG5jb25zdCBfX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbmNvbnN0IE51bGxPYmplY3QgPSAvKiBAX19QVVJFX18gKi8gKCgpID0+IHtcbiAgICBjb25zdCBDID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIEMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICByZXR1cm4gQztcbn0pKCk7XG4vKipcbiAqIFBhcnNlIGEgY29va2llIGhlYWRlci5cbiAqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gY29va2llIGhlYWRlciBzdHJpbmcgaW50byBhbiBvYmplY3RcbiAqIFRoZSBvYmplY3QgaGFzIHRoZSB2YXJpb3VzIGNvb2tpZXMgYXMga2V5cyhuYW1lcykgPT4gdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKHN0ciwgb3B0aW9ucykge1xuICAgIGNvbnN0IG9iaiA9IG5ldyBOdWxsT2JqZWN0KCk7XG4gICAgY29uc3QgbGVuID0gc3RyLmxlbmd0aDtcbiAgICAvLyBSRkMgNjI2NSBzZWMgNC4xLjEsIFJGQyAyNjE2IDIuMiBkZWZpbmVzIGEgY29va2llIG5hbWUgY29uc2lzdHMgb2Ygb25lIGNoYXIgbWluaW11bSwgcGx1cyAnPScuXG4gICAgaWYgKGxlbiA8IDIpXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgY29uc3QgZGVjID0gb3B0aW9ucz8uZGVjb2RlIHx8IGRlY29kZTtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGRvIHtcbiAgICAgICAgY29uc3QgZXFJZHggPSBzdHIuaW5kZXhPZihcIj1cIiwgaW5kZXgpO1xuICAgICAgICBpZiAoZXFJZHggPT09IC0xKVxuICAgICAgICAgICAgYnJlYWs7IC8vIE5vIG1vcmUgY29va2llIHBhaXJzLlxuICAgICAgICBjb25zdCBjb2xvbklkeCA9IHN0ci5pbmRleE9mKFwiO1wiLCBpbmRleCk7XG4gICAgICAgIGNvbnN0IGVuZElkeCA9IGNvbG9uSWR4ID09PSAtMSA/IGxlbiA6IGNvbG9uSWR4O1xuICAgICAgICBpZiAoZXFJZHggPiBlbmRJZHgpIHtcbiAgICAgICAgICAgIC8vIGJhY2t0cmFjayBvbiBwcmlvciBzZW1pY29sb25cbiAgICAgICAgICAgIGluZGV4ID0gc3RyLmxhc3RJbmRleE9mKFwiO1wiLCBlcUlkeCAtIDEpICsgMTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleVN0YXJ0SWR4ID0gc3RhcnRJbmRleChzdHIsIGluZGV4LCBlcUlkeCk7XG4gICAgICAgIGNvbnN0IGtleUVuZElkeCA9IGVuZEluZGV4KHN0ciwgZXFJZHgsIGtleVN0YXJ0SWR4KTtcbiAgICAgICAgY29uc3Qga2V5ID0gc3RyLnNsaWNlKGtleVN0YXJ0SWR4LCBrZXlFbmRJZHgpO1xuICAgICAgICAvLyBvbmx5IGFzc2lnbiBvbmNlXG4gICAgICAgIGlmIChvYmpba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZXQgdmFsU3RhcnRJZHggPSBzdGFydEluZGV4KHN0ciwgZXFJZHggKyAxLCBlbmRJZHgpO1xuICAgICAgICAgICAgbGV0IHZhbEVuZElkeCA9IGVuZEluZGV4KHN0ciwgZW5kSWR4LCB2YWxTdGFydElkeCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGRlYyhzdHIuc2xpY2UodmFsU3RhcnRJZHgsIHZhbEVuZElkeCkpO1xuICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmRleCA9IGVuZElkeCArIDE7XG4gICAgfSB3aGlsZSAoaW5kZXggPCBsZW4pO1xuICAgIHJldHVybiBvYmo7XG59XG5mdW5jdGlvbiBzdGFydEluZGV4KHN0ciwgaW5kZXgsIG1heCkge1xuICAgIGRvIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHN0ci5jaGFyQ29kZUF0KGluZGV4KTtcbiAgICAgICAgaWYgKGNvZGUgIT09IDB4MjAgLyogICAqLyAmJiBjb2RlICE9PSAweDA5IC8qIFxcdCAqLylcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9IHdoaWxlICgrK2luZGV4IDwgbWF4KTtcbiAgICByZXR1cm4gbWF4O1xufVxuZnVuY3Rpb24gZW5kSW5kZXgoc3RyLCBpbmRleCwgbWluKSB7XG4gICAgd2hpbGUgKGluZGV4ID4gbWluKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBzdHIuY2hhckNvZGVBdCgtLWluZGV4KTtcbiAgICAgICAgaWYgKGNvZGUgIT09IDB4MjAgLyogICAqLyAmJiBjb2RlICE9PSAweDA5IC8qIFxcdCAqLylcbiAgICAgICAgICAgIHJldHVybiBpbmRleCArIDE7XG4gICAgfVxuICAgIHJldHVybiBtaW47XG59XG4vKipcbiAqIFNlcmlhbGl6ZSBkYXRhIGludG8gYSBjb29raWUgaGVhZGVyLlxuICpcbiAqIFNlcmlhbGl6ZSBhIG5hbWUgdmFsdWUgcGFpciBpbnRvIGEgY29va2llIHN0cmluZyBzdWl0YWJsZSBmb3JcbiAqIGh0dHAgaGVhZGVycy4gQW4gb3B0aW9uYWwgb3B0aW9ucyBvYmplY3Qgc3BlY2lmaWVzIGNvb2tpZSBwYXJhbWV0ZXJzLlxuICpcbiAqIHNlcmlhbGl6ZSgnZm9vJywgJ2JhcicsIHsgaHR0cE9ubHk6IHRydWUgfSlcbiAqICAgPT4gXCJmb289YmFyOyBodHRwT25seVwiXG4gKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZShuYW1lLCB2YWwsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBlbmMgPSBvcHRpb25zPy5lbmNvZGUgfHwgZW5jb2RlVVJJQ29tcG9uZW50O1xuICAgIGlmICghY29va2llTmFtZVJlZ0V4cC50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGFyZ3VtZW50IG5hbWUgaXMgaW52YWxpZDogJHtuYW1lfWApO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IGVuYyh2YWwpO1xuICAgIGlmICghY29va2llVmFsdWVSZWdFeHAudGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgYXJndW1lbnQgdmFsIGlzIGludmFsaWQ6ICR7dmFsfWApO1xuICAgIH1cbiAgICBsZXQgc3RyID0gbmFtZSArIFwiPVwiICsgdmFsdWU7XG4gICAgaWYgKCFvcHRpb25zKVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIGlmIChvcHRpb25zLm1heEFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihvcHRpb25zLm1heEFnZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBtYXhBZ2UgaXMgaW52YWxpZDogJHtvcHRpb25zLm1heEFnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCI7IE1heC1BZ2U9XCIgKyBvcHRpb25zLm1heEFnZTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuZG9tYWluKSB7XG4gICAgICAgIGlmICghZG9tYWluVmFsdWVSZWdFeHAudGVzdChvcHRpb25zLmRvbWFpbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBkb21haW4gaXMgaW52YWxpZDogJHtvcHRpb25zLmRvbWFpbn1gKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCI7IERvbWFpbj1cIiArIG9wdGlvbnMuZG9tYWluO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wYXRoKSB7XG4gICAgICAgIGlmICghcGF0aFZhbHVlUmVnRXhwLnRlc3Qob3B0aW9ucy5wYXRoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIHBhdGggaXMgaW52YWxpZDogJHtvcHRpb25zLnBhdGh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiOyBQYXRoPVwiICsgb3B0aW9ucy5wYXRoO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5leHBpcmVzKSB7XG4gICAgICAgIGlmICghaXNEYXRlKG9wdGlvbnMuZXhwaXJlcykgfHxcbiAgICAgICAgICAgICFOdW1iZXIuaXNGaW5pdGUob3B0aW9ucy5leHBpcmVzLnZhbHVlT2YoKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBleHBpcmVzIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5leHBpcmVzfWApO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIjsgRXhwaXJlcz1cIiArIG9wdGlvbnMuZXhwaXJlcy50b1VUQ1N0cmluZygpO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5odHRwT25seSkge1xuICAgICAgICBzdHIgKz0gXCI7IEh0dHBPbmx5XCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnNlY3VyZSkge1xuICAgICAgICBzdHIgKz0gXCI7IFNlY3VyZVwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5wYXJ0aXRpb25lZCkge1xuICAgICAgICBzdHIgKz0gXCI7IFBhcnRpdGlvbmVkXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnByaW9yaXR5KSB7XG4gICAgICAgIGNvbnN0IHByaW9yaXR5ID0gdHlwZW9mIG9wdGlvbnMucHJpb3JpdHkgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgID8gb3B0aW9ucy5wcmlvcml0eS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgc3dpdGNoIChwcmlvcml0eSkge1xuICAgICAgICAgICAgY2FzZSBcImxvd1wiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgUHJpb3JpdHk9TG93XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWVkaXVtXCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBQcmlvcml0eT1NZWRpdW1cIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJoaWdoXCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBQcmlvcml0eT1IaWdoXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBwcmlvcml0eSBpcyBpbnZhbGlkOiAke29wdGlvbnMucHJpb3JpdHl9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc2FtZVNpdGUpIHtcbiAgICAgICAgY29uc3Qgc2FtZVNpdGUgPSB0eXBlb2Ygb3B0aW9ucy5zYW1lU2l0ZSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBvcHRpb25zLnNhbWVTaXRlLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIDogb3B0aW9ucy5zYW1lU2l0ZTtcbiAgICAgICAgc3dpdGNoIChzYW1lU2l0ZSkge1xuICAgICAgICAgICAgY2FzZSB0cnVlOlxuICAgICAgICAgICAgY2FzZSBcInN0cmljdFwiOlxuICAgICAgICAgICAgICAgIHN0ciArPSBcIjsgU2FtZVNpdGU9U3RyaWN0XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibGF4XCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBTYW1lU2l0ZT1MYXhcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJub25lXCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBTYW1lU2l0ZT1Ob25lXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYG9wdGlvbiBzYW1lU2l0ZSBpcyBpbnZhbGlkOiAke29wdGlvbnMuc2FtZVNpdGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbi8qKlxuICogVVJMLWRlY29kZSBzdHJpbmcgdmFsdWUuIE9wdGltaXplZCB0byBza2lwIG5hdGl2ZSBjYWxsIHdoZW4gbm8gJS5cbiAqL1xuZnVuY3Rpb24gZGVjb2RlKHN0cikge1xuICAgIGlmIChzdHIuaW5kZXhPZihcIiVcIikgPT09IC0xKVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZSBpZiB2YWx1ZSBpcyBhIERhdGUuXG4gKi9cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgICByZXR1cm4gX190b1N0cmluZy5jYWxsKHZhbCkgPT09IFwiW29iamVjdCBEYXRlXVwiO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwKICAgICJcInVzZSBzdHJpY3RcIjtcbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRpc3RhbmNlID0gZXhwb3J0cy5jbG9zZXN0ID0gdm9pZCAwO1xudmFyIHBlcSA9IG5ldyBVaW50MzJBcnJheSgweDEwMDAwKTtcbnZhciBteWVyc18zMiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIG4gPSBhLmxlbmd0aDtcbiAgICB2YXIgbSA9IGIubGVuZ3RoO1xuICAgIHZhciBsc3QgPSAxIDw8IChuIC0gMSk7XG4gICAgdmFyIHB2ID0gLTE7XG4gICAgdmFyIG12ID0gMDtcbiAgICB2YXIgc2MgPSBuO1xuICAgIHZhciBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIHBlcVthLmNoYXJDb2RlQXQoaSldIHw9IDEgPDwgaTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IG07IGkrKykge1xuICAgICAgICB2YXIgZXEgPSBwZXFbYi5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgdmFyIHh2ID0gZXEgfCBtdjtcbiAgICAgICAgZXEgfD0gKChlcSAmIHB2KSArIHB2KSBeIHB2O1xuICAgICAgICBtdiB8PSB+KGVxIHwgcHYpO1xuICAgICAgICBwdiAmPSBlcTtcbiAgICAgICAgaWYgKG12ICYgbHN0KSB7XG4gICAgICAgICAgICBzYysrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwdiAmIGxzdCkge1xuICAgICAgICAgICAgc2MtLTtcbiAgICAgICAgfVxuICAgICAgICBtdiA9IChtdiA8PCAxKSB8IDE7XG4gICAgICAgIHB2ID0gKHB2IDw8IDEpIHwgfih4diB8IG12KTtcbiAgICAgICAgbXYgJj0geHY7XG4gICAgfVxuICAgIGkgPSBuO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgcGVxW2EuY2hhckNvZGVBdChpKV0gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gc2M7XG59O1xudmFyIG15ZXJzX3ggPSBmdW5jdGlvbiAoYiwgYSkge1xuICAgIHZhciBuID0gYS5sZW5ndGg7XG4gICAgdmFyIG0gPSBiLmxlbmd0aDtcbiAgICB2YXIgbWhjID0gW107XG4gICAgdmFyIHBoYyA9IFtdO1xuICAgIHZhciBoc2l6ZSA9IE1hdGguY2VpbChuIC8gMzIpO1xuICAgIHZhciB2c2l6ZSA9IE1hdGguY2VpbChtIC8gMzIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaHNpemU7IGkrKykge1xuICAgICAgICBwaGNbaV0gPSAtMTtcbiAgICAgICAgbWhjW2ldID0gMDtcbiAgICB9XG4gICAgdmFyIGogPSAwO1xuICAgIGZvciAoOyBqIDwgdnNpemUgLSAxOyBqKyspIHtcbiAgICAgICAgdmFyIG12XzEgPSAwO1xuICAgICAgICB2YXIgcHZfMSA9IC0xO1xuICAgICAgICB2YXIgc3RhcnRfMSA9IGogKiAzMjtcbiAgICAgICAgdmFyIHZsZW5fMSA9IE1hdGgubWluKDMyLCBtKSArIHN0YXJ0XzE7XG4gICAgICAgIGZvciAodmFyIGsgPSBzdGFydF8xOyBrIDwgdmxlbl8xOyBrKyspIHtcbiAgICAgICAgICAgIHBlcVtiLmNoYXJDb2RlQXQoayldIHw9IDEgPDwgaztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgdmFyIGVxID0gcGVxW2EuY2hhckNvZGVBdChpKV07XG4gICAgICAgICAgICB2YXIgcGIgPSAocGhjWyhpIC8gMzIpIHwgMF0gPj4+IGkpICYgMTtcbiAgICAgICAgICAgIHZhciBtYiA9IChtaGNbKGkgLyAzMikgfCAwXSA+Pj4gaSkgJiAxO1xuICAgICAgICAgICAgdmFyIHh2ID0gZXEgfCBtdl8xO1xuICAgICAgICAgICAgdmFyIHhoID0gKCgoKGVxIHwgbWIpICYgcHZfMSkgKyBwdl8xKSBeIHB2XzEpIHwgZXEgfCBtYjtcbiAgICAgICAgICAgIHZhciBwaCA9IG12XzEgfCB+KHhoIHwgcHZfMSk7XG4gICAgICAgICAgICB2YXIgbWggPSBwdl8xICYgeGg7XG4gICAgICAgICAgICBpZiAoKHBoID4+PiAzMSkgXiBwYikge1xuICAgICAgICAgICAgICAgIHBoY1soaSAvIDMyKSB8IDBdIF49IDEgPDwgaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgobWggPj4+IDMxKSBeIG1iKSB7XG4gICAgICAgICAgICAgICAgbWhjWyhpIC8gMzIpIHwgMF0gXj0gMSA8PCBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGggPSAocGggPDwgMSkgfCBwYjtcbiAgICAgICAgICAgIG1oID0gKG1oIDw8IDEpIHwgbWI7XG4gICAgICAgICAgICBwdl8xID0gbWggfCB+KHh2IHwgcGgpO1xuICAgICAgICAgICAgbXZfMSA9IHBoICYgeHY7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgayA9IHN0YXJ0XzE7IGsgPCB2bGVuXzE7IGsrKykge1xuICAgICAgICAgICAgcGVxW2IuY2hhckNvZGVBdChrKV0gPSAwO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBtdiA9IDA7XG4gICAgdmFyIHB2ID0gLTE7XG4gICAgdmFyIHN0YXJ0ID0gaiAqIDMyO1xuICAgIHZhciB2bGVuID0gTWF0aC5taW4oMzIsIG0gLSBzdGFydCkgKyBzdGFydDtcbiAgICBmb3IgKHZhciBrID0gc3RhcnQ7IGsgPCB2bGVuOyBrKyspIHtcbiAgICAgICAgcGVxW2IuY2hhckNvZGVBdChrKV0gfD0gMSA8PCBrO1xuICAgIH1cbiAgICB2YXIgc2NvcmUgPSBtO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHZhciBlcSA9IHBlcVthLmNoYXJDb2RlQXQoaSldO1xuICAgICAgICB2YXIgcGIgPSAocGhjWyhpIC8gMzIpIHwgMF0gPj4+IGkpICYgMTtcbiAgICAgICAgdmFyIG1iID0gKG1oY1soaSAvIDMyKSB8IDBdID4+PiBpKSAmIDE7XG4gICAgICAgIHZhciB4diA9IGVxIHwgbXY7XG4gICAgICAgIHZhciB4aCA9ICgoKChlcSB8IG1iKSAmIHB2KSArIHB2KSBeIHB2KSB8IGVxIHwgbWI7XG4gICAgICAgIHZhciBwaCA9IG12IHwgfih4aCB8IHB2KTtcbiAgICAgICAgdmFyIG1oID0gcHYgJiB4aDtcbiAgICAgICAgc2NvcmUgKz0gKHBoID4+PiAobSAtIDEpKSAmIDE7XG4gICAgICAgIHNjb3JlIC09IChtaCA+Pj4gKG0gLSAxKSkgJiAxO1xuICAgICAgICBpZiAoKHBoID4+PiAzMSkgXiBwYikge1xuICAgICAgICAgICAgcGhjWyhpIC8gMzIpIHwgMF0gXj0gMSA8PCBpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgobWggPj4+IDMxKSBeIG1iKSB7XG4gICAgICAgICAgICBtaGNbKGkgLyAzMikgfCAwXSBePSAxIDw8IGk7XG4gICAgICAgIH1cbiAgICAgICAgcGggPSAocGggPDwgMSkgfCBwYjtcbiAgICAgICAgbWggPSAobWggPDwgMSkgfCBtYjtcbiAgICAgICAgcHYgPSBtaCB8IH4oeHYgfCBwaCk7XG4gICAgICAgIG12ID0gcGggJiB4djtcbiAgICB9XG4gICAgZm9yICh2YXIgayA9IHN0YXJ0OyBrIDwgdmxlbjsgaysrKSB7XG4gICAgICAgIHBlcVtiLmNoYXJDb2RlQXQoayldID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHNjb3JlO1xufTtcbnZhciBkaXN0YW5jZSA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgaWYgKGEubGVuZ3RoIDwgYi5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHRtcCA9IGI7XG4gICAgICAgIGIgPSBhO1xuICAgICAgICBhID0gdG1wO1xuICAgIH1cbiAgICBpZiAoYi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGEubGVuZ3RoO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggPD0gMzIpIHtcbiAgICAgICAgcmV0dXJuIG15ZXJzXzMyKGEsIGIpO1xuICAgIH1cbiAgICByZXR1cm4gbXllcnNfeChhLCBiKTtcbn07XG5leHBvcnRzLmRpc3RhbmNlID0gZGlzdGFuY2U7XG52YXIgY2xvc2VzdCA9IGZ1bmN0aW9uIChzdHIsIGFycikge1xuICAgIHZhciBtaW5fZGlzdGFuY2UgPSBJbmZpbml0eTtcbiAgICB2YXIgbWluX2luZGV4ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZGlzdCA9IGRpc3RhbmNlKHN0ciwgYXJyW2ldKTtcbiAgICAgICAgaWYgKGRpc3QgPCBtaW5fZGlzdGFuY2UpIHtcbiAgICAgICAgICAgIG1pbl9kaXN0YW5jZSA9IGRpc3Q7XG4gICAgICAgICAgICBtaW5faW5kZXggPSBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJbbWluX2luZGV4XTtcbn07XG5leHBvcnRzLmNsb3Nlc3QgPSBjbG9zZXN0O1xuIiwKICAgICIoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgXG4gIHZhciBjb2xsYXRvcjtcbiAgdHJ5IHtcbiAgICBjb2xsYXRvciA9ICh0eXBlb2YgSW50bCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgSW50bC5Db2xsYXRvciAhPT0gXCJ1bmRlZmluZWRcIikgPyBJbnRsLkNvbGxhdG9yKFwiZ2VuZXJpY1wiLCB7IHNlbnNpdGl2aXR5OiBcImJhc2VcIiB9KSA6IG51bGw7XG4gIH0gY2F0Y2ggKGVycil7XG4gICAgY29uc29sZS5sb2coXCJDb2xsYXRvciBjb3VsZCBub3QgYmUgaW5pdGlhbGl6ZWQgYW5kIHdvdWxkbid0IGJlIHVzZWRcIik7XG4gIH1cblxuICB2YXIgbGV2ZW5zaHRlaW4gPSByZXF1aXJlKCdmYXN0ZXN0LWxldmVuc2h0ZWluJyk7XG5cbiAgLy8gYXJyYXlzIHRvIHJlLXVzZVxuICB2YXIgcHJldlJvdyA9IFtdLFxuICAgIHN0cjJDaGFyID0gW107XG4gIFxuICAvKipcbiAgICogQmFzZWQgb24gdGhlIGFsZ29yaXRobSBhdCBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xldmVuc2h0ZWluX2Rpc3RhbmNlLlxuICAgKi9cbiAgdmFyIExldmVuc2h0ZWluID0ge1xuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZSBsZXZlbnNodGVpbiBkaXN0YW5jZSBvZiB0aGUgdHdvIHN0cmluZ3MuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc3RyMSBTdHJpbmcgdGhlIGZpcnN0IHN0cmluZy5cbiAgICAgKiBAcGFyYW0gc3RyMiBTdHJpbmcgdGhlIHNlY29uZCBzdHJpbmcuXG4gICAgICogQHBhcmFtIFtvcHRpb25zXSBBZGRpdGlvbmFsIG9wdGlvbnMuXG4gICAgICogQHBhcmFtIFtvcHRpb25zLnVzZUNvbGxhdG9yXSBVc2UgYEludGwuQ29sbGF0b3JgIGZvciBsb2NhbGUtc2Vuc2l0aXZlIHN0cmluZyBjb21wYXJpc29uLlxuICAgICAqIEByZXR1cm4gSW50ZWdlciB0aGUgbGV2ZW5zaHRlaW4gZGlzdGFuY2UgKDAgYW5kIGFib3ZlKS5cbiAgICAgKi9cbiAgICBnZXQ6IGZ1bmN0aW9uKHN0cjEsIHN0cjIsIG9wdGlvbnMpIHtcbiAgICAgIHZhciB1c2VDb2xsYXRvciA9IChvcHRpb25zICYmIGNvbGxhdG9yICYmIG9wdGlvbnMudXNlQ29sbGF0b3IpO1xuICAgICAgXG4gICAgICBpZiAodXNlQ29sbGF0b3IpIHtcbiAgICAgICAgdmFyIHN0cjFMZW4gPSBzdHIxLmxlbmd0aCxcbiAgICAgICAgICBzdHIyTGVuID0gc3RyMi5sZW5ndGg7XG4gICAgICAgIFxuICAgICAgICAvLyBiYXNlIGNhc2VzXG4gICAgICAgIGlmIChzdHIxTGVuID09PSAwKSByZXR1cm4gc3RyMkxlbjtcbiAgICAgICAgaWYgKHN0cjJMZW4gPT09IDApIHJldHVybiBzdHIxTGVuO1xuXG4gICAgICAgIC8vIHR3byByb3dzXG4gICAgICAgIHZhciBjdXJDb2wsIG5leHRDb2wsIGksIGosIHRtcDtcblxuICAgICAgICAvLyBpbml0aWFsaXNlIHByZXZpb3VzIHJvd1xuICAgICAgICBmb3IgKGk9MDsgaTxzdHIyTGVuOyArK2kpIHtcbiAgICAgICAgICBwcmV2Um93W2ldID0gaTtcbiAgICAgICAgICBzdHIyQ2hhcltpXSA9IHN0cjIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2Um93W3N0cjJMZW5dID0gc3RyMkxlbjtcblxuICAgICAgICB2YXIgc3RyQ21wO1xuICAgICAgICAvLyBjYWxjdWxhdGUgY3VycmVudCByb3cgZGlzdGFuY2UgZnJvbSBwcmV2aW91cyByb3cgdXNpbmcgY29sbGF0b3JcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHN0cjFMZW47ICsraSkge1xuICAgICAgICAgIG5leHRDb2wgPSBpICsgMTtcblxuICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBzdHIyTGVuOyArK2opIHtcbiAgICAgICAgICAgIGN1ckNvbCA9IG5leHRDb2w7XG5cbiAgICAgICAgICAgIC8vIHN1YnN0dXRpb25cbiAgICAgICAgICAgIHN0ckNtcCA9IDAgPT09IGNvbGxhdG9yLmNvbXBhcmUoc3RyMS5jaGFyQXQoaSksIFN0cmluZy5mcm9tQ2hhckNvZGUoc3RyMkNoYXJbal0pKTtcblxuICAgICAgICAgICAgbmV4dENvbCA9IHByZXZSb3dbal0gKyAoc3RyQ21wID8gMCA6IDEpO1xuXG4gICAgICAgICAgICAvLyBpbnNlcnRpb25cbiAgICAgICAgICAgIHRtcCA9IGN1ckNvbCArIDE7XG4gICAgICAgICAgICBpZiAobmV4dENvbCA+IHRtcCkge1xuICAgICAgICAgICAgICBuZXh0Q29sID0gdG1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZGVsZXRpb25cbiAgICAgICAgICAgIHRtcCA9IHByZXZSb3dbaiArIDFdICsgMTtcbiAgICAgICAgICAgIGlmIChuZXh0Q29sID4gdG1wKSB7XG4gICAgICAgICAgICAgIG5leHRDb2wgPSB0bXA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNvcHkgY3VycmVudCBjb2wgdmFsdWUgaW50byBwcmV2aW91cyAoaW4gcHJlcGFyYXRpb24gZm9yIG5leHQgaXRlcmF0aW9uKVxuICAgICAgICAgICAgcHJldlJvd1tqXSA9IGN1ckNvbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBjb3B5IGxhc3QgY29sIHZhbHVlIGludG8gcHJldmlvdXMgKGluIHByZXBhcmF0aW9uIGZvciBuZXh0IGl0ZXJhdGlvbilcbiAgICAgICAgICBwcmV2Um93W2pdID0gbmV4dENvbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dENvbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBsZXZlbnNodGVpbi5kaXN0YW5jZShzdHIxLCBzdHIyKTtcbiAgICB9XG5cbiAgfTtcblxuICAvLyBhbWRcbiAgaWYgKHR5cGVvZiBkZWZpbmUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGVmaW5lICE9PSBudWxsICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTGV2ZW5zaHRlaW47XG4gICAgfSk7XG4gIH1cbiAgLy8gY29tbW9uanNcbiAgZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUgIT09IG51bGwgJiYgdHlwZW9mIGV4cG9ydHMgIT09IFwidW5kZWZpbmVkXCIgJiYgbW9kdWxlLmV4cG9ydHMgPT09IGV4cG9ydHMpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IExldmVuc2h0ZWluO1xuICB9XG4gIC8vIHdlYiB3b3JrZXJcbiAgZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHNlbGYucG9zdE1lc3NhZ2UgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHNlbGYuTGV2ZW5zaHRlaW4gPSBMZXZlbnNodGVpbjtcbiAgfVxuICAvLyBicm93c2VyIG1haW4gdGhyZWFkXG4gIGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93ICE9PSBudWxsKSB7XG4gICAgd2luZG93LkxldmVuc2h0ZWluID0gTGV2ZW5zaHRlaW47XG4gIH1cbn0oKSk7XG4iLAogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMlxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlLnRhZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIHR5cGUuJCR0eXBlb2YpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLlByb3ZpZGVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLl9jb250ZXh0LmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgdmFyIGlubmVyVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB0eXBlIHx8XG4gICAgICAgICAgICAgICgodHlwZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBcIlwiICE9PSB0eXBlID8gXCJGb3J3YXJkUmVmKFwiICsgdHlwZSArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGlubmVyVHlwZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbCksXG4gICAgICAgICAgICAgIG51bGwgIT09IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgID8gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgOiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIk1lbW9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIGlubmVyVHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZShpbm5lclR5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0KSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGNvbnNvbGU7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQuZXJyb3I7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDAgPVxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICAgIFN5bWJvbC50b1N0cmluZ1RhZyAmJlxuICAgICAgICAgICAgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSkgfHxcbiAgICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgICAgXCJPYmplY3RcIjtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wX2NvbnN0LmNhbGwoXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQkanNjb21wJDBcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cbiAgICBmdW5jdGlvbiBkaXNhYmxlTG9ncygpIHtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHByZXZMb2cgPSBjb25zb2xlLmxvZztcbiAgICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICAgIHByZXZXYXJuID0gY29uc29sZS53YXJuO1xuICAgICAgICBwcmV2RXJyb3IgPSBjb25zb2xlLmVycm9yO1xuICAgICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgICBwcmV2R3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkO1xuICAgICAgICBwcmV2R3JvdXBFbmQgPSBjb25zb2xlLmdyb3VwRW5kO1xuICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgICB2YWx1ZTogZGlzYWJsZWRMb2csXG4gICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgICBsb2c6IHByb3BzLFxuICAgICAgICAgIHdhcm46IHByb3BzLFxuICAgICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgICBncm91cDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IHByb3BzLFxuICAgICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGRpc2FibGVkRGVwdGgrKztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICAgICAgZGlzYWJsZWREZXB0aC0tO1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgdmFyIHByb3BzID0geyBjb25maWd1cmFibGU6ICEwLCBlbnVtZXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBsb2c6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZMb2cgfSksXG4gICAgICAgICAgaW5mbzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkluZm8gfSksXG4gICAgICAgICAgd2FybjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldldhcm4gfSksXG4gICAgICAgICAgZXJyb3I6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZFcnJvciB9KSxcbiAgICAgICAgICBncm91cDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwIH0pLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWQgfSksXG4gICAgICAgICAgZ3JvdXBFbmQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cEVuZCB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIDAgPiBkaXNhYmxlZERlcHRoICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gcHJlZml4KVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICAgIHByZWZpeCA9IChtYXRjaCAmJiBtYXRjaFsxXSkgfHwgXCJcIjtcbiAgICAgICAgICBzdWZmaXggPVxuICAgICAgICAgICAgLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJcXG4gICAgYXRcIilcbiAgICAgICAgICAgICAgPyBcIiAoPGFub255bW91cz4pXCJcbiAgICAgICAgICAgICAgOiAtMSA8IHguc3RhY2suaW5kZXhPZihcIkBcIilcbiAgICAgICAgICAgICAgICA/IFwiQHVua25vd246MDowXCJcbiAgICAgICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlxcblwiICsgcHJlZml4ICsgbmFtZSArIHN1ZmZpeDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7XG4gICAgICBpZiAoIWZuIHx8IHJlZW50cnkpIHJldHVybiBcIlwiO1xuICAgICAgdmFyIGZyYW1lID0gY29tcG9uZW50RnJhbWVDYWNoZS5nZXQoZm4pO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gZnJhbWUpIHJldHVybiBmcmFtZTtcbiAgICAgIHJlZW50cnkgPSAhMDtcbiAgICAgIGZyYW1lID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHZvaWQgMDtcbiAgICAgIHZhciBwcmV2aW91c0Rpc3BhdGNoZXIgPSBudWxsO1xuICAgICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBudWxsO1xuICAgICAgZGlzYWJsZUxvZ3MoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBSdW5JblJvb3RGcmFtZSA9IHtcbiAgICAgICAgICBEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmFrZS5wcm90b3R5cGUsIFwicHJvcHNcIiwge1xuICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBSZWZsZWN0ICYmIFJlZmxlY3QuY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChGYWtlLCBbXSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sID0geDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQxKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sID0geCQxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoRmFrZSA9IGZuKCkpICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBGYWtlLmNhdGNoICYmXG4gICAgICAgICAgICAgICAgICBGYWtlLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoc2FtcGxlKSB7XG4gICAgICAgICAgICAgIGlmIChzYW1wbGUgJiYgY29udHJvbCAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2FtcGxlLnN0YWNrKVxuICAgICAgICAgICAgICAgIHJldHVybiBbc2FtcGxlLnN0YWNrLCBjb250cm9sLnN0YWNrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPVxuICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCI7XG4gICAgICAgIHZhciBuYW1lUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICBcIm5hbWVcIlxuICAgICAgICApO1xuICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IuY29uZmlndXJhYmxlICYmXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgICB7IHZhbHVlOiBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiIH1cbiAgICAgICAgICApO1xuICAgICAgICB2YXIgX1J1bkluUm9vdEZyYW1lJERldGVyID1cbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCgpLFxuICAgICAgICAgIHNhbXBsZVN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzBdLFxuICAgICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcbiAgICAgICAgaWYgKHNhbXBsZVN0YWNrICYmIGNvbnRyb2xTdGFjaykge1xuICAgICAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KFwiXFxuXCIpLFxuICAgICAgICAgICAgY29udHJvbExpbmVzID0gY29udHJvbFN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBuYW1lUHJvcERlc2NyaXB0b3IgPSAwO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yIDwgc2FtcGxlTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvcisrO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPCBjb250cm9sTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIrKztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID09PSBjb250cm9sTGluZXMubGVuZ3RoXG4gICAgICAgICAgKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID0gc2FtcGxlTGluZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBjb250cm9sTGluZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICAgICAgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgJiZcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXTtcblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXI7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3ItLSwgX1J1bkluUm9vdEZyYW1lJERldGVyLS1cbiAgICAgICAgICApXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKDEgIT09IG5hbWVQcm9wRGVzY3JpcHRvciB8fCAxICE9PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpIHtcbiAgICAgICAgICAgICAgICBkb1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAobmFtZVByb3BEZXNjcmlwdG9yLS0sXG4gICAgICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tLFxuICAgICAgICAgICAgICAgICAgICAwID4gX1J1bkluUm9vdEZyYW1lJERldGVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPVxuICAgICAgICAgICAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0ucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IG5ldyBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IFwiXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZm4uZGlzcGxheU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuaW5jbHVkZXMoXCI8YW5vbnltb3VzPlwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgIChfZnJhbWUgPSBfZnJhbWUucmVwbGFjZShcIjxhbm9ueW1vdXM+XCIsIGZuLmRpc3BsYXlOYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmXG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIF9mcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZnJhbWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKHJlZW50cnkgPSAhMSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2aW91c0Rpc3BhdGNoZXIpLFxuICAgICAgICAgIHJlZW5hYmxlTG9ncygpLFxuICAgICAgICAgIChFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IGZyYW1lKTtcbiAgICAgIH1cbiAgICAgIHNhbXBsZUxpbmVzID0gKHNhbXBsZUxpbmVzID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogXCJcIilcbiAgICAgICAgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShzYW1wbGVMaW5lcylcbiAgICAgICAgOiBcIlwiO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiYgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIHNhbXBsZUxpbmVzKTtcbiAgICAgIHJldHVybiBzYW1wbGVMaW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBcIlwiO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpIHtcbiAgICAgICAgdmFyIHByb3RvdHlwZSA9IHR5cGUucHJvdG90eXBlO1xuICAgICAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgICEoIXByb3RvdHlwZSB8fCAhcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUpIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSh0eXBlKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VcIik7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlTGlzdFwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlID0gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZSh0eXBlLnJlbmRlciwgITEpKSwgdHlwZTtcbiAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIHByb3RvdHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZShwcm90b3R5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25lcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTtcbiAgICAgIHJldHVybiBudWxsID09PSBkaXNwYXRjaGVyID8gbnVsbCA6IGRpc3BhdGNoZXIuZ2V0T3duZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgXCJrZXlcIikuZ2V0O1xuICAgICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykgcmV0dXJuICExO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29uZmlnLmtleTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBmdW5jdGlvbiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkoKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duIHx8XG4gICAgICAgICAgKChzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lIHZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgcHJvcC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvc3BlY2lhbC1wcm9wcylcIixcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lXG4gICAgICAgICAgKSk7XG4gICAgICB9XG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSAhMDtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgXCJrZXlcIiwge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nKCkge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodGhpcy50eXBlKTtcbiAgICAgIGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gfHxcbiAgICAgICAgKChkaWRXYXJuQWJvdXRFbGVtZW50UmVmW2NvbXBvbmVudE5hbWVdID0gITApLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQWNjZXNzaW5nIGVsZW1lbnQucmVmIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiByZWYgaXMgbm93IGEgcmVndWxhciBwcm9wLiBJdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgSlNYIEVsZW1lbnQgdHlwZSBpbiBhIGZ1dHVyZSByZWxlYXNlLlwiXG4gICAgICAgICkpO1xuICAgICAgY29tcG9uZW50TmFtZSA9IHRoaXMucHJvcHMucmVmO1xuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gY29tcG9uZW50TmFtZSA/IGNvbXBvbmVudE5hbWUgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICAgICAgc2VsZiA9IHByb3BzLnJlZjtcbiAgICAgIHR5cGUgPSB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcm9wczogcHJvcHMsXG4gICAgICAgIF9vd25lcjogb3duZXJcbiAgICAgIH07XG4gICAgICBudWxsICE9PSAodm9pZCAwICE9PSBzZWxmID8gc2VsZiA6IG51bGwpXG4gICAgICAgID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICAgICAgZ2V0OiBlbGVtZW50UmVmR2V0dGVyV2l0aERlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgIH0pXG4gICAgICAgIDogT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwicmVmXCIsIHsgZW51bWVyYWJsZTogITEsIHZhbHVlOiBudWxsIH0pO1xuICAgICAgdHlwZS5fc3RvcmUgPSB7fTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLl9zdG9yZSwgXCJ2YWxpZGF0ZWRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogMFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJfZGVidWdJbmZvXCIsIHtcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMSxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmZyZWV6ZSAmJiAoT2JqZWN0LmZyZWV6ZSh0eXBlLnByb3BzKSwgT2JqZWN0LmZyZWV6ZSh0eXBlKSk7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG4gICAgZnVuY3Rpb24ganN4REVWSW1wbChcbiAgICAgIHR5cGUsXG4gICAgICBjb25maWcsXG4gICAgICBtYXliZUtleSxcbiAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICBzb3VyY2UsXG4gICAgICBzZWxmXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgfHxcbiAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05TVU1FUl9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDEgfHxcbiAgICAgICAgICAgIHZvaWQgMCAhPT0gdHlwZS5nZXRNb2R1bGVJZCkpXG4gICAgICApIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gY29uZmlnLmNoaWxkcmVuO1xuICAgICAgICBpZiAodm9pZCAwICE9PSBjaGlsZHJlbilcbiAgICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbilcbiAgICAgICAgICAgIGlmIChpc0FycmF5SW1wbChjaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID0gMDtcbiAgICAgICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuIDwgY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4rK1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baXNTdGF0aWNDaGlsZHJlbl0sIHR5cGUpO1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplICYmIE9iamVjdC5mcmVlemUoY2hpbGRyZW4pO1xuICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJSZWFjdC5qc3g6IFN0YXRpYyBjaGlsZHJlbiBzaG91bGQgYWx3YXlzIGJlIGFuIGFycmF5LiBZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuIFVzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICBlbHNlIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuID0gXCJcIjtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHZvaWQgMCA9PT0gdHlwZSB8fFxuICAgICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgMCA9PT0gT2JqZWN0LmtleXModHlwZSkubGVuZ3RoKVxuICAgICAgICApXG4gICAgICAgICAgY2hpbGRyZW4gKz1cbiAgICAgICAgICAgIFwiIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlIGl0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgICAgbnVsbCA9PT0gdHlwZVxuICAgICAgICAgID8gKGlzU3RhdGljQ2hpbGRyZW4gPSBcIm51bGxcIilcbiAgICAgICAgICA6IGlzQXJyYXlJbXBsKHR5cGUpXG4gICAgICAgICAgICA/IChpc1N0YXRpY0NoaWxkcmVuID0gXCJhcnJheVwiKVxuICAgICAgICAgICAgOiB2b2lkIDAgIT09IHR5cGUgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICAgICAgICAgID8gKChpc1N0YXRpY0NoaWxkcmVuID1cbiAgICAgICAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgICAgICAgIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIlVua25vd25cIikgK1xuICAgICAgICAgICAgICAgICAgXCIgLz5cIiksXG4gICAgICAgICAgICAgICAgKGNoaWxkcmVuID1cbiAgICAgICAgICAgICAgICAgIFwiIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/XCIpKVxuICAgICAgICAgICAgICA6IChpc1N0YXRpY0NoaWxkcmVuID0gdHlwZW9mIHR5cGUpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiUmVhY3QuanN4OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciBidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlIGNvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzXCIsXG4gICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgICBjaGlsZHJlblxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBcImtleVwiKSkge1xuICAgICAgICBjaGlsZHJlbiA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICAgIHJldHVybiBcImtleVwiICE9PSBrO1xuICAgICAgICB9KTtcbiAgICAgICAgaXNTdGF0aWNDaGlsZHJlbiA9XG4gICAgICAgICAgMCA8IGtleXMubGVuZ3RoXG4gICAgICAgICAgICA/IFwie2tleTogc29tZUtleSwgXCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIlxuICAgICAgICAgICAgOiBcIntrZXk6IHNvbWVLZXl9XCI7XG4gICAgICAgIGRpZFdhcm5BYm91dEtleVNwcmVhZFtjaGlsZHJlbiArIGlzU3RhdGljQ2hpbGRyZW5dIHx8XG4gICAgICAgICAgKChrZXlzID1cbiAgICAgICAgICAgIDAgPCBrZXlzLmxlbmd0aCA/IFwie1wiICsga2V5cy5qb2luKFwiOiAuLi4sIFwiKSArIFwiOiAuLi59XCIgOiBcInt9XCIpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyB7Li4ucHJvcHN9IC8+XFxuUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuICBsZXQgcHJvcHMgPSAlcztcXG4gIDwlcyBrZXk9e3NvbWVLZXl9IHsuLi5wcm9wc30gLz4nLFxuICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAga2V5cyxcbiAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gPSAhMCkpO1xuICAgICAgfVxuICAgICAgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgdm9pZCAwICE9PSBtYXliZUtleSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihtYXliZUtleSksIChjaGlsZHJlbiA9IFwiXCIgKyBtYXliZUtleSkpO1xuICAgICAgaGFzVmFsaWRLZXkoY29uZmlnKSAmJlxuICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIGNvbmZpZy5rZXkpKTtcbiAgICAgIGlmIChcImtleVwiIGluIGNvbmZpZykge1xuICAgICAgICBtYXliZUtleSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBjb25maWcpXG4gICAgICAgICAgXCJrZXlcIiAhPT0gcHJvcE5hbWUgJiYgKG1heWJlS2V5W3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV0pO1xuICAgICAgfSBlbHNlIG1heWJlS2V5ID0gY29uZmlnO1xuICAgICAgY2hpbGRyZW4gJiZcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIoXG4gICAgICAgICAgbWF5YmVLZXksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZVxuICAgICAgICAgICAgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgOiB0eXBlXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGNoaWxkcmVuLCBzZWxmLCBzb3VyY2UsIGdldE93bmVyKCksIG1heWJlS2V5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygbm9kZSAmJlxuICAgICAgICBub2RlICYmXG4gICAgICAgIG5vZGUuJCR0eXBlb2YgIT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0VcbiAgICAgIClcbiAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5vZGUpKVxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KGNoaWxkKSAmJiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKVxuICAgICAgICAgIG5vZGUuX3N0b3JlICYmIChub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSAxKTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgKG51bGwgPT09IG5vZGUgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG5vZGVcbiAgICAgICAgICAgID8gKGkgPSBudWxsKVxuICAgICAgICAgICAgOiAoKGkgPVxuICAgICAgICAgICAgICAgIChNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbm9kZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgICAgICAgICAgIG5vZGVbXCJAQGl0ZXJhdG9yXCJdKSxcbiAgICAgICAgICAgICAgKGkgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpID8gaSA6IG51bGwpKSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpICYmXG4gICAgICAgICAgICBpICE9PSBub2RlLmVudHJpZXMgJiZcbiAgICAgICAgICAgICgoaSA9IGkuY2FsbChub2RlKSksIGkgIT09IG5vZGUpKVxuICAgICAgICApXG4gICAgICAgICAgZm9yICg7ICEobm9kZSA9IGkubmV4dCgpKS5kb25lOyApXG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChub2RlLnZhbHVlKSAmJlxuICAgICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KG5vZGUudmFsdWUsIHBhcmVudFR5cGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvYmplY3QgJiZcbiAgICAgICAgbnVsbCAhPT0gb2JqZWN0ICYmXG4gICAgICAgIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgZWxlbWVudC5fc3RvcmUgJiZcbiAgICAgICAgIWVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCAmJlxuICAgICAgICBudWxsID09IGVsZW1lbnQua2V5ICYmXG4gICAgICAgICgoZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gMSksXG4gICAgICAgIChwYXJlbnRUeXBlID0gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSksXG4gICAgICAgICFvd25lckhhc0tleVVzZVdhcm5pbmdbcGFyZW50VHlwZV0pXG4gICAgICApIHtcbiAgICAgICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW3BhcmVudFR5cGVdID0gITA7XG4gICAgICAgIHZhciBjaGlsZE93bmVyID0gXCJcIjtcbiAgICAgICAgZWxlbWVudCAmJlxuICAgICAgICAgIG51bGwgIT0gZWxlbWVudC5fb3duZXIgJiZcbiAgICAgICAgICBlbGVtZW50Ll9vd25lciAhPT0gZ2V0T3duZXIoKSAmJlxuICAgICAgICAgICgoY2hpbGRPd25lciA9IG51bGwpLFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBlbGVtZW50Ll9vd25lci50YWdcbiAgICAgICAgICAgID8gKGNoaWxkT3duZXIgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkpXG4gICAgICAgICAgICA6IFwic3RyaW5nXCIgPT09IHR5cGVvZiBlbGVtZW50Ll9vd25lci5uYW1lICYmXG4gICAgICAgICAgICAgIChjaGlsZE93bmVyID0gZWxlbWVudC5fb3duZXIubmFtZSksXG4gICAgICAgICAgKGNoaWxkT3duZXIgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGNoaWxkT3duZXIgKyBcIi5cIikpO1xuICAgICAgICB2YXIgcHJldkdldEN1cnJlbnRTdGFjayA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjaztcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUpO1xuICAgICAgICAgIHByZXZHZXRDdXJyZW50U3RhY2sgJiYgKHN0YWNrICs9IHByZXZHZXRDdXJyZW50U3RhY2soKSB8fCBcIlwiKTtcbiAgICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4lcyVzIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLFxuICAgICAgICAgIHBhcmVudFR5cGUsXG4gICAgICAgICAgY2hpbGRPd25lclxuICAgICAgICApO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBwcmV2R2V0Q3VycmVudFN0YWNrO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAgICAgIHZhciBpbmZvID0gXCJcIixcbiAgICAgICAgb3duZXIgPSBnZXRPd25lcigpO1xuICAgICAgb3duZXIgJiZcbiAgICAgICAgKG93bmVyID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKG93bmVyLnR5cGUpKSAmJlxuICAgICAgICAoaW5mbyA9IFwiXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYFwiICsgb3duZXIgKyBcImAuXCIpO1xuICAgICAgaW5mbyB8fFxuICAgICAgICAoKHBhcmVudFR5cGUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUocGFyZW50VHlwZSkpICYmXG4gICAgICAgICAgKGluZm8gPVxuICAgICAgICAgICAgXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudFR5cGUgKyBcIj4uXCIpKTtcbiAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cbiAgICB2YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIiksXG4gICAgICBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QudHJhbnNpdGlvbmFsLmVsZW1lbnRcIiksXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZyYWdtZW50XCIpLFxuICAgICAgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKSxcbiAgICAgIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik7XG4gICAgU3ltYm9sLmZvcihcInJlYWN0LnByb3ZpZGVyXCIpO1xuICAgIHZhciBSRUFDVF9DT05TVU1FUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnN1bWVyXCIpLFxuICAgICAgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIiksXG4gICAgICBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKSxcbiAgICAgIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZV9saXN0XCIpLFxuICAgICAgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIiksXG4gICAgICBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKSxcbiAgICAgIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0Lm9mZnNjcmVlblwiKSxcbiAgICAgIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcixcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMiA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduLFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBkaXNhYmxlZERlcHRoID0gMCxcbiAgICAgIHByZXZMb2csXG4gICAgICBwcmV2SW5mbyxcbiAgICAgIHByZXZXYXJuLFxuICAgICAgcHJldkVycm9yLFxuICAgICAgcHJldkdyb3VwLFxuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkLFxuICAgICAgcHJldkdyb3VwRW5kO1xuICAgIGRpc2FibGVkTG9nLl9fcmVhY3REaXNhYmxlZExvZyA9ICEwO1xuICAgIHZhciBwcmVmaXgsXG4gICAgICBzdWZmaXgsXG4gICAgICByZWVudHJ5ID0gITE7XG4gICAgdmFyIGNvbXBvbmVudEZyYW1lQ2FjaGUgPSBuZXcgKFxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha01hcCA/IFdlYWtNYXAgOiBNYXBcbiAgICApKCk7XG4gICAgdmFyIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xuICAgIHZhciBkaWRXYXJuQWJvdXRFbGVtZW50UmVmID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dEtleVNwcmVhZCA9IHt9LFxuICAgICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gICAgZXhwb3J0cy5GcmFnbWVudCA9IFJFQUNUX0ZSQUdNRU5UX1RZUEU7XG4gICAgZXhwb3J0cy5qc3hERVYgPSBmdW5jdGlvbiAoXG4gICAgICB0eXBlLFxuICAgICAgY29uZmlnLFxuICAgICAgbWF5YmVLZXksXG4gICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgc291cmNlLFxuICAgICAgc2VsZlxuICAgICkge1xuICAgICAgcmV0dXJuIGpzeERFVkltcGwodHlwZSwgY29uZmlnLCBtYXliZUtleSwgaXNTdGF0aWNDaGlsZHJlbiwgc291cmNlLCBzZWxmKTtcbiAgICB9O1xuICB9KSgpO1xuIiwKICAgICIvLyBAdHMtaWdub3JlXG5pbXBvcnQgTE9HTyBmcm9tIFwiLi9pbWcvbG9nby5wbmdcIjsgZXhwb3J0IHsgTE9HTyB9O1xuXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgQklHX1NUQVJfQU5EX1NNQUxMRVJfU1RBUl9JQ09OIGZyb20gXCIuL2ltZy9iaWdfc3Rhcl9hbmRfc21hbGxlcl9zdGFyX2ljb24ucG5nXCI7IGV4cG9ydCB7IEJJR19TVEFSX0FORF9TTUFMTEVSX1NUQVJfSUNPTiB9O1xuXG4vLyBAdHMtaWdub3JlXG5pbXBvcnQgU0VBUkNIX0JBUl9JQ09OIGZyb20gXCIuL2ltZy9zZWFyY2hfaWNvbi5wbmdcIjsgZXhwb3J0IHsgU0VBUkNIX0JBUl9JQ09OIH07XG5cbmV4cG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBEaXNwYXRjaCxcbiAgICB0eXBlIFNldFN0YXRlQWN0aW9uLFxuICAgIHR5cGUgQ1NTUHJvcGVydGllcyxcbiAgICB1c2VFZmZlY3QsXG4gICAgdXNlU3RhdGVcbn0gZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCB7XG4gICAgY3JlYXRlUm9vdCBhcyBSb290XG59IGZyb20gXCJyZWFjdC1kb20vY2xpZW50XCI7XG5cbmV4cG9ydCB7XG4gICAgQnJvd3NlclJvdXRlcixcbiAgICBSb3V0ZXMsXG4gICAgUm91dGUsXG4gICAgTGluayxcbiAgICB0eXBlIExpbmtQcm9wc1xufSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG5leHBvcnQge1xuICAgIHR5cGUgU3ByaW5nQ29uZmlnLFxuICAgIHVzZVNwcmluZyxcbiAgICB1c2VTcHJpbmdzLFxuICAgIGFuaW1hdGVkXG59IGZyb20gXCJyZWFjdC1zcHJpbmdcIjtcblxuZXhwb3J0IHtcbiAgICBnZXQgYXMgc29ydCBcbn0gZnJvbSBcImZhc3QtbGV2ZW5zaHRlaW5cIjtcblxuZXhwb3J0ICogZnJvbSBcIkBjb21tb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9hbmltYXRpb24vaW1hZ2VfY2Fyb3VzZWxcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9jb25zdGFudC9jb2xvclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2NvbnN0YW50L2ZvbnRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9jb25zdGFudC9zaGFkb3dcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9mb3JtL2Zvcm1fYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtX2lucHV0XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtX21lc3NhZ2VcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9mb3JtL2Zvcm1cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9sYXlvdXQvcGFnZV93aXRoXzNfdmVydGljYWxfc2VjdGlvbnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9sYXlvdXQvcGFnZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfYnV0dG9uX2dyb3VwXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X2NhbGxfdG9fYWN0aW9uX2J1dHRvbl9pY29uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9jYWxsX3RvX2FjdGlvbl9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X2xvZ29cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X21hdGVyaWFsc19kcm9wX2Rvd25fYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9wYXJ0aWFsX2J1aWxkXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zZWFyY2hfYmFyX3BhcnRpYWxfYnVpbGRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NlYXJjaF9iYXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NpZ25faW5fZm9ybVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc2lnbl91cF9mb3JtXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvbl9wYXJ0aWFsX2J1aWxkXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc3VnZ2VzdGlvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9wYWdlL2hvbWVfcGFnZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3Nwcml0ZS9zcHJpdGVfaWNvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3Nwcml0ZS9zcHJpdGVcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9ib2R5XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfY2FwdGlvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX2hlYWRpbmdcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9pdGVtXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfcm93XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfc3ltYm9sX2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX3dyYXBwZXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90eXBvZ3JhcGh5L3R5cG9ncmFwaHlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC91dGlsL3JlbmRlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3V0aWxfdHlwZS9zdGF0ZVwiOyIsCiAgICAiLyoqXG4gKiByZWFjdC1yb3V0ZXIgdjcuMy4wXG4gKlxuICogQ29weXJpZ2h0IChjKSBSZW1peCBTb2Z0d2FyZSBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFLm1kIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogQGxpY2Vuc2UgTUlUXG4gKi9cbnZhciBfX3R5cGVFcnJvciA9IChtc2cpID0+IHtcbiAgdGhyb3cgVHlwZUVycm9yKG1zZyk7XG59O1xudmFyIF9fYWNjZXNzQ2hlY2sgPSAob2JqLCBtZW1iZXIsIG1zZykgPT4gbWVtYmVyLmhhcyhvYmopIHx8IF9fdHlwZUVycm9yKFwiQ2Fubm90IFwiICsgbXNnKTtcbnZhciBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIiksIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaikpO1xudmFyIF9fcHJpdmF0ZUFkZCA9IChvYmosIG1lbWJlciwgdmFsdWUpID0+IG1lbWJlci5oYXMob2JqKSA/IF9fdHlwZUVycm9yKFwiQ2Fubm90IGFkZCB0aGUgc2FtZSBwcml2YXRlIG1lbWJlciBtb3JlIHRoYW4gb25jZVwiKSA6IG1lbWJlciBpbnN0YW5jZW9mIFdlYWtTZXQgPyBtZW1iZXIuYWRkKG9iaikgOiBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpO1xuXG4vLyBsaWIvcm91dGVyL2hpc3RvcnkudHNcbnZhciBBY3Rpb24gPSAvKiBAX19QVVJFX18gKi8gKChBY3Rpb24yKSA9PiB7XG4gIEFjdGlvbjJbXCJQb3BcIl0gPSBcIlBPUFwiO1xuICBBY3Rpb24yW1wiUHVzaFwiXSA9IFwiUFVTSFwiO1xuICBBY3Rpb24yW1wiUmVwbGFjZVwiXSA9IFwiUkVQTEFDRVwiO1xuICByZXR1cm4gQWN0aW9uMjtcbn0pKEFjdGlvbiB8fCB7fSk7XG52YXIgUG9wU3RhdGVFdmVudFR5cGUgPSBcInBvcHN0YXRlXCI7XG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlIaXN0b3J5KG9wdGlvbnMgPSB7fSkge1xuICBsZXQgeyBpbml0aWFsRW50cmllcyA9IFtcIi9cIl0sIGluaXRpYWxJbmRleCwgdjVDb21wYXQgPSBmYWxzZSB9ID0gb3B0aW9ucztcbiAgbGV0IGVudHJpZXM7XG4gIGVudHJpZXMgPSBpbml0aWFsRW50cmllcy5tYXAoXG4gICAgKGVudHJ5LCBpbmRleDIpID0+IGNyZWF0ZU1lbW9yeUxvY2F0aW9uKFxuICAgICAgZW50cnksXG4gICAgICB0eXBlb2YgZW50cnkgPT09IFwic3RyaW5nXCIgPyBudWxsIDogZW50cnkuc3RhdGUsXG4gICAgICBpbmRleDIgPT09IDAgPyBcImRlZmF1bHRcIiA6IHZvaWQgMFxuICAgIClcbiAgKTtcbiAgbGV0IGluZGV4ID0gY2xhbXBJbmRleChcbiAgICBpbml0aWFsSW5kZXggPT0gbnVsbCA/IGVudHJpZXMubGVuZ3RoIC0gMSA6IGluaXRpYWxJbmRleFxuICApO1xuICBsZXQgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gIGxldCBsaXN0ZW5lciA9IG51bGw7XG4gIGZ1bmN0aW9uIGNsYW1wSW5kZXgobikge1xuICAgIHJldHVybiBNYXRoLm1pbihNYXRoLm1heChuLCAwKSwgZW50cmllcy5sZW5ndGggLSAxKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oKSB7XG4gICAgcmV0dXJuIGVudHJpZXNbaW5kZXhdO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUxvY2F0aW9uKHRvLCBzdGF0ZSA9IG51bGwsIGtleSkge1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFxuICAgICAgZW50cmllcyA/IGdldEN1cnJlbnRMb2NhdGlvbigpLnBhdGhuYW1lIDogXCIvXCIsXG4gICAgICB0byxcbiAgICAgIHN0YXRlLFxuICAgICAga2V5XG4gICAgKTtcbiAgICB3YXJuaW5nKFxuICAgICAgbG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApID09PSBcIi9cIixcbiAgICAgIGByZWxhdGl2ZSBwYXRobmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gbWVtb3J5IGhpc3Rvcnk6ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIHRvXG4gICAgICApfWBcbiAgICApO1xuICAgIHJldHVybiBsb2NhdGlvbjtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVIcmVmMih0bykge1xuICAgIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICB9XG4gIGxldCBoaXN0b3J5ID0ge1xuICAgIGdldCBpbmRleCgpIHtcbiAgICAgIHJldHVybiBpbmRleDtcbiAgICB9LFxuICAgIGdldCBhY3Rpb24oKSB7XG4gICAgICByZXR1cm4gYWN0aW9uO1xuICAgIH0sXG4gICAgZ2V0IGxvY2F0aW9uKCkge1xuICAgICAgcmV0dXJuIGdldEN1cnJlbnRMb2NhdGlvbigpO1xuICAgIH0sXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZjIsXG4gICAgY3JlYXRlVVJMKHRvKSB7XG4gICAgICByZXR1cm4gbmV3IFVSTChjcmVhdGVIcmVmMih0byksIFwiaHR0cDovL2xvY2FsaG9zdFwiKTtcbiAgICB9LFxuICAgIGVuY29kZUxvY2F0aW9uKHRvKSB7XG4gICAgICBsZXQgcGF0aCA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aCh0bykgOiB0bztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGhuYW1lOiBwYXRoLnBhdGhuYW1lIHx8IFwiXCIsXG4gICAgICAgIHNlYXJjaDogcGF0aC5zZWFyY2ggfHwgXCJcIixcbiAgICAgICAgaGFzaDogcGF0aC5oYXNoIHx8IFwiXCJcbiAgICAgIH07XG4gICAgfSxcbiAgICBwdXNoKHRvLCBzdGF0ZSkge1xuICAgICAgYWN0aW9uID0gXCJQVVNIXCIgLyogUHVzaCAqLztcbiAgICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVNZW1vcnlMb2NhdGlvbih0bywgc3RhdGUpO1xuICAgICAgaW5kZXggKz0gMTtcbiAgICAgIGVudHJpZXMuc3BsaWNlKGluZGV4LCBlbnRyaWVzLmxlbmd0aCwgbmV4dExvY2F0aW9uKTtcbiAgICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IG5leHRMb2NhdGlvbiwgZGVsdGE6IDEgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZXBsYWNlKHRvLCBzdGF0ZSkge1xuICAgICAgYWN0aW9uID0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLztcbiAgICAgIGxldCBuZXh0TG9jYXRpb24gPSBjcmVhdGVNZW1vcnlMb2NhdGlvbih0bywgc3RhdGUpO1xuICAgICAgZW50cmllc1tpbmRleF0gPSBuZXh0TG9jYXRpb247XG4gICAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sIGRlbHRhOiAwIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgZ28oZGVsdGEpIHtcbiAgICAgIGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICAgICAgbGV0IG5leHRJbmRleCA9IGNsYW1wSW5kZXgoaW5kZXggKyBkZWx0YSk7XG4gICAgICBsZXQgbmV4dExvY2F0aW9uID0gZW50cmllc1tuZXh0SW5kZXhdO1xuICAgICAgaW5kZXggPSBuZXh0SW5kZXg7XG4gICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBuZXh0TG9jYXRpb24sIGRlbHRhIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgbGlzdGVuKGZuKSB7XG4gICAgICBsaXN0ZW5lciA9IGZuO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBoaXN0b3J5O1xufVxuZnVuY3Rpb24gY3JlYXRlQnJvd3Nlckhpc3Rvcnkob3B0aW9ucyA9IHt9KSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJMb2NhdGlvbih3aW5kb3cyLCBnbG9iYWxIaXN0b3J5KSB7XG4gICAgbGV0IHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9ID0gd2luZG93Mi5sb2NhdGlvbjtcbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24oXG4gICAgICBcIlwiLFxuICAgICAgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0sXG4gICAgICAvLyBzdGF0ZSBkZWZhdWx0cyB0byBgbnVsbGAgYmVjYXVzZSBgd2luZG93Lmhpc3Rvcnkuc3RhdGVgIGRvZXNcbiAgICAgIGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS51c3IgfHwgbnVsbCxcbiAgICAgIGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS5rZXkgfHwgXCJkZWZhdWx0XCJcbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIcmVmKHdpbmRvdzIsIHRvKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gIH1cbiAgcmV0dXJuIGdldFVybEJhc2VkSGlzdG9yeShcbiAgICBjcmVhdGVCcm93c2VyTG9jYXRpb24sXG4gICAgY3JlYXRlQnJvd3NlckhyZWYsXG4gICAgbnVsbCxcbiAgICBvcHRpb25zXG4gICk7XG59XG5mdW5jdGlvbiBjcmVhdGVIYXNoSGlzdG9yeShvcHRpb25zID0ge30pIHtcbiAgZnVuY3Rpb24gY3JlYXRlSGFzaExvY2F0aW9uKHdpbmRvdzIsIGdsb2JhbEhpc3RvcnkpIHtcbiAgICBsZXQge1xuICAgICAgcGF0aG5hbWUgPSBcIi9cIixcbiAgICAgIHNlYXJjaCA9IFwiXCIsXG4gICAgICBoYXNoID0gXCJcIlxuICAgIH0gPSBwYXJzZVBhdGgod2luZG93Mi5sb2NhdGlvbi5oYXNoLnN1YnN0cmluZygxKSk7XG4gICAgaWYgKCFwYXRobmFtZS5zdGFydHNXaXRoKFwiL1wiKSAmJiAhcGF0aG5hbWUuc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgIHBhdGhuYW1lID0gXCIvXCIgKyBwYXRobmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUxvY2F0aW9uKFxuICAgICAgXCJcIixcbiAgICAgIHsgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCB9LFxuICAgICAgLy8gc3RhdGUgZGVmYXVsdHMgdG8gYG51bGxgIGJlY2F1c2UgYHdpbmRvdy5oaXN0b3J5LnN0YXRlYCBkb2VzXG4gICAgICBnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUudXNyIHx8IG51bGwsXG4gICAgICBnbG9iYWxIaXN0b3J5LnN0YXRlICYmIGdsb2JhbEhpc3Rvcnkuc3RhdGUua2V5IHx8IFwiZGVmYXVsdFwiXG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBjcmVhdGVIYXNoSHJlZih3aW5kb3cyLCB0bykge1xuICAgIGxldCBiYXNlID0gd2luZG93Mi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYmFzZVwiKTtcbiAgICBsZXQgaHJlZjIgPSBcIlwiO1xuICAgIGlmIChiYXNlICYmIGJhc2UuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSkge1xuICAgICAgbGV0IHVybCA9IHdpbmRvdzIubG9jYXRpb24uaHJlZjtcbiAgICAgIGxldCBoYXNoSW5kZXggPSB1cmwuaW5kZXhPZihcIiNcIik7XG4gICAgICBocmVmMiA9IGhhc2hJbmRleCA9PT0gLTEgPyB1cmwgOiB1cmwuc2xpY2UoMCwgaGFzaEluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIGhyZWYyICsgXCIjXCIgKyAodHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKSk7XG4gIH1cbiAgZnVuY3Rpb24gdmFsaWRhdGVIYXNoTG9jYXRpb24obG9jYXRpb24sIHRvKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGxvY2F0aW9uLnBhdGhuYW1lLmNoYXJBdCgwKSA9PT0gXCIvXCIsXG4gICAgICBgcmVsYXRpdmUgcGF0aG5hbWVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGhhc2ggaGlzdG9yeS5wdXNoKCR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIHRvXG4gICAgICApfSlgXG4gICAgKTtcbiAgfVxuICByZXR1cm4gZ2V0VXJsQmFzZWRIaXN0b3J5KFxuICAgIGNyZWF0ZUhhc2hMb2NhdGlvbixcbiAgICBjcmVhdGVIYXNoSHJlZixcbiAgICB2YWxpZGF0ZUhhc2hMb2NhdGlvbixcbiAgICBvcHRpb25zXG4gICk7XG59XG5mdW5jdGlvbiBpbnZhcmlhbnQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhcm5pbmcoY29uZCwgbWVzc2FnZSkge1xuICBpZiAoIWNvbmQpIHtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICB0cnkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUtleSgpIHtcbiAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMCk7XG59XG5mdW5jdGlvbiBnZXRIaXN0b3J5U3RhdGUobG9jYXRpb24sIGluZGV4KSB7XG4gIHJldHVybiB7XG4gICAgdXNyOiBsb2NhdGlvbi5zdGF0ZSxcbiAgICBrZXk6IGxvY2F0aW9uLmtleSxcbiAgICBpZHg6IGluZGV4XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVMb2NhdGlvbihjdXJyZW50LCB0bywgc3RhdGUgPSBudWxsLCBrZXkpIHtcbiAgbGV0IGxvY2F0aW9uID0ge1xuICAgIHBhdGhuYW1lOiB0eXBlb2YgY3VycmVudCA9PT0gXCJzdHJpbmdcIiA/IGN1cnJlbnQgOiBjdXJyZW50LnBhdGhuYW1lLFxuICAgIHNlYXJjaDogXCJcIixcbiAgICBoYXNoOiBcIlwiLFxuICAgIC4uLnR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aCh0bykgOiB0byxcbiAgICBzdGF0ZSxcbiAgICAvLyBUT0RPOiBUaGlzIGNvdWxkIGJlIGNsZWFuZWQgdXAuICBwdXNoL3JlcGxhY2Ugc2hvdWxkIHByb2JhYmx5IGp1c3QgdGFrZVxuICAgIC8vIGZ1bGwgTG9jYXRpb25zIG5vdyBhbmQgYXZvaWQgdGhlIG5lZWQgdG8gcnVuIHRocm91Z2ggdGhpcyBmbG93IGF0IGFsbFxuICAgIC8vIEJ1dCB0aGF0J3MgYSBwcmV0dHkgYmlnIHJlZmFjdG9yIHRvIHRoZSBjdXJyZW50IHRlc3Qgc3VpdGUgc28gZ29pbmcgdG9cbiAgICAvLyBrZWVwIGFzIGlzIGZvciB0aGUgdGltZSBiZWluZyBhbmQganVzdCBsZXQgYW55IGluY29taW5nIGtleXMgdGFrZSBwcmVjZWRlbmNlXG4gICAga2V5OiB0byAmJiB0by5rZXkgfHwga2V5IHx8IGNyZWF0ZUtleSgpXG4gIH07XG4gIHJldHVybiBsb2NhdGlvbjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhdGgoe1xuICBwYXRobmFtZSA9IFwiL1wiLFxuICBzZWFyY2ggPSBcIlwiLFxuICBoYXNoID0gXCJcIlxufSkge1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaCAhPT0gXCI/XCIpXG4gICAgcGF0aG5hbWUgKz0gc2VhcmNoLmNoYXJBdCgwKSA9PT0gXCI/XCIgPyBzZWFyY2ggOiBcIj9cIiArIHNlYXJjaDtcbiAgaWYgKGhhc2ggJiYgaGFzaCAhPT0gXCIjXCIpXG4gICAgcGF0aG5hbWUgKz0gaGFzaC5jaGFyQXQoMCkgPT09IFwiI1wiID8gaGFzaCA6IFwiI1wiICsgaGFzaDtcbiAgcmV0dXJuIHBhdGhuYW1lO1xufVxuZnVuY3Rpb24gcGFyc2VQYXRoKHBhdGgpIHtcbiAgbGV0IHBhcnNlZFBhdGggPSB7fTtcbiAgaWYgKHBhdGgpIHtcbiAgICBsZXQgaGFzaEluZGV4ID0gcGF0aC5pbmRleE9mKFwiI1wiKTtcbiAgICBpZiAoaGFzaEluZGV4ID49IDApIHtcbiAgICAgIHBhcnNlZFBhdGguaGFzaCA9IHBhdGguc3Vic3RyaW5nKGhhc2hJbmRleCk7XG4gICAgICBwYXRoID0gcGF0aC5zdWJzdHJpbmcoMCwgaGFzaEluZGV4KTtcbiAgICB9XG4gICAgbGV0IHNlYXJjaEluZGV4ID0gcGF0aC5pbmRleE9mKFwiP1wiKTtcbiAgICBpZiAoc2VhcmNoSW5kZXggPj0gMCkge1xuICAgICAgcGFyc2VkUGF0aC5zZWFyY2ggPSBwYXRoLnN1YnN0cmluZyhzZWFyY2hJbmRleCk7XG4gICAgICBwYXRoID0gcGF0aC5zdWJzdHJpbmcoMCwgc2VhcmNoSW5kZXgpO1xuICAgIH1cbiAgICBpZiAocGF0aCkge1xuICAgICAgcGFyc2VkUGF0aC5wYXRobmFtZSA9IHBhdGg7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXJzZWRQYXRoO1xufVxuZnVuY3Rpb24gZ2V0VXJsQmFzZWRIaXN0b3J5KGdldExvY2F0aW9uLCBjcmVhdGVIcmVmMiwgdmFsaWRhdGVMb2NhdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gIGxldCB7IHdpbmRvdzogd2luZG93MiA9IGRvY3VtZW50LmRlZmF1bHRWaWV3LCB2NUNvbXBhdCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBsZXQgZ2xvYmFsSGlzdG9yeSA9IHdpbmRvdzIuaGlzdG9yeTtcbiAgbGV0IGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICBsZXQgbGlzdGVuZXIgPSBudWxsO1xuICBsZXQgaW5kZXggPSBnZXRJbmRleCgpO1xuICBpZiAoaW5kZXggPT0gbnVsbCkge1xuICAgIGluZGV4ID0gMDtcbiAgICBnbG9iYWxIaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IC4uLmdsb2JhbEhpc3Rvcnkuc3RhdGUsIGlkeDogaW5kZXggfSwgXCJcIik7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0SW5kZXgoKSB7XG4gICAgbGV0IHN0YXRlID0gZ2xvYmFsSGlzdG9yeS5zdGF0ZSB8fCB7IGlkeDogbnVsbCB9O1xuICAgIHJldHVybiBzdGF0ZS5pZHg7XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlUG9wKCkge1xuICAgIGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICAgIGxldCBuZXh0SW5kZXggPSBnZXRJbmRleCgpO1xuICAgIGxldCBkZWx0YSA9IG5leHRJbmRleCA9PSBudWxsID8gbnVsbCA6IG5leHRJbmRleCAtIGluZGV4O1xuICAgIGluZGV4ID0gbmV4dEluZGV4O1xuICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLCBkZWx0YSB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVzaCh0bywgc3RhdGUpIHtcbiAgICBhY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKGhpc3RvcnkubG9jYXRpb24sIHRvLCBzdGF0ZSk7XG4gICAgaWYgKHZhbGlkYXRlTG9jYXRpb24pIHZhbGlkYXRlTG9jYXRpb24obG9jYXRpb24sIHRvKTtcbiAgICBpbmRleCA9IGdldEluZGV4KCkgKyAxO1xuICAgIGxldCBoaXN0b3J5U3RhdGUgPSBnZXRIaXN0b3J5U3RhdGUobG9jYXRpb24sIGluZGV4KTtcbiAgICBsZXQgdXJsID0gaGlzdG9yeS5jcmVhdGVIcmVmKGxvY2F0aW9uKTtcbiAgICB0cnkge1xuICAgICAgZ2xvYmFsSGlzdG9yeS5wdXNoU3RhdGUoaGlzdG9yeVN0YXRlLCBcIlwiLCB1cmwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgZXJyb3IubmFtZSA9PT0gXCJEYXRhQ2xvbmVFcnJvclwiKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgd2luZG93Mi5sb2NhdGlvbi5hc3NpZ24odXJsKTtcbiAgICB9XG4gICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sIGRlbHRhOiAxIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiByZXBsYWNlMih0bywgc3RhdGUpIHtcbiAgICBhY3Rpb24gPSBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKGhpc3RvcnkubG9jYXRpb24sIHRvLCBzdGF0ZSk7XG4gICAgaWYgKHZhbGlkYXRlTG9jYXRpb24pIHZhbGlkYXRlTG9jYXRpb24obG9jYXRpb24sIHRvKTtcbiAgICBpbmRleCA9IGdldEluZGV4KCk7XG4gICAgbGV0IGhpc3RvcnlTdGF0ZSA9IGdldEhpc3RvcnlTdGF0ZShsb2NhdGlvbiwgaW5kZXgpO1xuICAgIGxldCB1cmwgPSBoaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKGhpc3RvcnlTdGF0ZSwgXCJcIiwgdXJsKTtcbiAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbiwgZGVsdGE6IDAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZVVSTCh0bykge1xuICAgIGxldCBiYXNlID0gd2luZG93Mi5sb2NhdGlvbi5vcmlnaW4gIT09IFwibnVsbFwiID8gd2luZG93Mi5sb2NhdGlvbi5vcmlnaW4gOiB3aW5kb3cyLmxvY2F0aW9uLmhyZWY7XG4gICAgbGV0IGhyZWYyID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgICBocmVmMiA9IGhyZWYyLnJlcGxhY2UoLyAkLywgXCIlMjBcIik7XG4gICAgaW52YXJpYW50KFxuICAgICAgYmFzZSxcbiAgICAgIGBObyB3aW5kb3cubG9jYXRpb24uKG9yaWdpbnxocmVmKSBhdmFpbGFibGUgdG8gY3JlYXRlIFVSTCBmb3IgaHJlZjogJHtocmVmMn1gXG4gICAgKTtcbiAgICByZXR1cm4gbmV3IFVSTChocmVmMiwgYmFzZSk7XG4gIH1cbiAgbGV0IGhpc3RvcnkgPSB7XG4gICAgZ2V0IGFjdGlvbigpIHtcbiAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfSxcbiAgICBnZXQgbG9jYXRpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0TG9jYXRpb24od2luZG93MiwgZ2xvYmFsSGlzdG9yeSk7XG4gICAgfSxcbiAgICBsaXN0ZW4oZm4pIHtcbiAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBIGhpc3Rvcnkgb25seSBhY2NlcHRzIG9uZSBhY3RpdmUgbGlzdGVuZXJcIik7XG4gICAgICB9XG4gICAgICB3aW5kb3cyLmFkZEV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudFR5cGUsIGhhbmRsZVBvcCk7XG4gICAgICBsaXN0ZW5lciA9IGZuO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgd2luZG93Mi5yZW1vdmVFdmVudExpc3RlbmVyKFBvcFN0YXRlRXZlbnRUeXBlLCBoYW5kbGVQb3ApO1xuICAgICAgICBsaXN0ZW5lciA9IG51bGw7XG4gICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlSHJlZih0bykge1xuICAgICAgcmV0dXJuIGNyZWF0ZUhyZWYyKHdpbmRvdzIsIHRvKTtcbiAgICB9LFxuICAgIGNyZWF0ZVVSTCxcbiAgICBlbmNvZGVMb2NhdGlvbih0bykge1xuICAgICAgbGV0IHVybCA9IGNyZWF0ZVVSTCh0byk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRobmFtZTogdXJsLnBhdGhuYW1lLFxuICAgICAgICBzZWFyY2g6IHVybC5zZWFyY2gsXG4gICAgICAgIGhhc2g6IHVybC5oYXNoXG4gICAgICB9O1xuICAgIH0sXG4gICAgcHVzaCxcbiAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICBnbyhuKSB7XG4gICAgICByZXR1cm4gZ2xvYmFsSGlzdG9yeS5nbyhuKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBoaXN0b3J5O1xufVxuXG4vLyBsaWIvcm91dGVyL3V0aWxzLnRzXG5mdW5jdGlvbiB1bnN0YWJsZV9jcmVhdGVDb250ZXh0KGRlZmF1bHRWYWx1ZSkge1xuICByZXR1cm4geyBkZWZhdWx0VmFsdWUgfTtcbn1cbnZhciBfbWFwO1xudmFyIHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoaW5pdCkge1xuICAgIF9fcHJpdmF0ZUFkZCh0aGlzLCBfbWFwLCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpKTtcbiAgICBpZiAoaW5pdCkge1xuICAgICAgZm9yIChsZXQgW2NvbnRleHQsIHZhbHVlXSBvZiBpbml0KSB7XG4gICAgICAgIHRoaXMuc2V0KGNvbnRleHQsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZ2V0KGNvbnRleHQpIHtcbiAgICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9tYXApLmhhcyhjb250ZXh0KSkge1xuICAgICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBfbWFwKS5nZXQoY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LmRlZmF1bHRWYWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gY29udGV4dC5kZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHZhbHVlIGZvdW5kIGZvciBjb250ZXh0XCIpO1xuICB9XG4gIHNldChjb250ZXh0LCB2YWx1ZSkge1xuICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfbWFwKS5zZXQoY29udGV4dCwgdmFsdWUpO1xuICB9XG59O1xuX21hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgaW1tdXRhYmxlUm91dGVLZXlzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICBcImxhenlcIixcbiAgXCJjYXNlU2Vuc2l0aXZlXCIsXG4gIFwicGF0aFwiLFxuICBcImlkXCIsXG4gIFwiaW5kZXhcIixcbiAgXCJjaGlsZHJlblwiXG5dKTtcbmZ1bmN0aW9uIGlzSW5kZXhSb3V0ZShyb3V0ZSkge1xuICByZXR1cm4gcm91dGUuaW5kZXggPT09IHRydWU7XG59XG5mdW5jdGlvbiBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKHJvdXRlcywgbWFwUm91dGVQcm9wZXJ0aWVzMiwgcGFyZW50UGF0aCA9IFtdLCBtYW5pZmVzdCA9IHt9KSB7XG4gIHJldHVybiByb3V0ZXMubWFwKChyb3V0ZSwgaW5kZXgpID0+IHtcbiAgICBsZXQgdHJlZVBhdGggPSBbLi4ucGFyZW50UGF0aCwgU3RyaW5nKGluZGV4KV07XG4gICAgbGV0IGlkID0gdHlwZW9mIHJvdXRlLmlkID09PSBcInN0cmluZ1wiID8gcm91dGUuaWQgOiB0cmVlUGF0aC5qb2luKFwiLVwiKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByb3V0ZS5pbmRleCAhPT0gdHJ1ZSB8fCAhcm91dGUuY2hpbGRyZW4sXG4gICAgICBgQ2Fubm90IHNwZWNpZnkgY2hpbGRyZW4gb24gYW4gaW5kZXggcm91dGVgXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhbWFuaWZlc3RbaWRdLFxuICAgICAgYEZvdW5kIGEgcm91dGUgaWQgY29sbGlzaW9uIG9uIGlkIFwiJHtpZH1cIi4gIFJvdXRlIGlkJ3MgbXVzdCBiZSBnbG9iYWxseSB1bmlxdWUgd2l0aGluIERhdGEgUm91dGVyIHVzYWdlc2BcbiAgICApO1xuICAgIGlmIChpc0luZGV4Um91dGUocm91dGUpKSB7XG4gICAgICBsZXQgaW5kZXhSb3V0ZSA9IHtcbiAgICAgICAgLi4ucm91dGUsXG4gICAgICAgIC4uLm1hcFJvdXRlUHJvcGVydGllczIocm91dGUpLFxuICAgICAgICBpZFxuICAgICAgfTtcbiAgICAgIG1hbmlmZXN0W2lkXSA9IGluZGV4Um91dGU7XG4gICAgICByZXR1cm4gaW5kZXhSb3V0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHBhdGhPckxheW91dFJvdXRlID0ge1xuICAgICAgICAuLi5yb3V0ZSxcbiAgICAgICAgLi4ubWFwUm91dGVQcm9wZXJ0aWVzMihyb3V0ZSksXG4gICAgICAgIGlkLFxuICAgICAgICBjaGlsZHJlbjogdm9pZCAwXG4gICAgICB9O1xuICAgICAgbWFuaWZlc3RbaWRdID0gcGF0aE9yTGF5b3V0Um91dGU7XG4gICAgICBpZiAocm91dGUuY2hpbGRyZW4pIHtcbiAgICAgICAgcGF0aE9yTGF5b3V0Um91dGUuY2hpbGRyZW4gPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgICAgICAgIHJvdXRlLmNoaWxkcmVuLFxuICAgICAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICAgICAgdHJlZVBhdGgsXG4gICAgICAgICAgbWFuaWZlc3RcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXRoT3JMYXlvdXRSb3V0ZTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gbWF0Y2hSb3V0ZXMocm91dGVzLCBsb2NhdGlvbkFyZywgYmFzZW5hbWUgPSBcIi9cIikge1xuICByZXR1cm4gbWF0Y2hSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcsIGJhc2VuYW1lLCBmYWxzZSk7XG59XG5mdW5jdGlvbiBtYXRjaFJvdXRlc0ltcGwocm91dGVzLCBsb2NhdGlvbkFyZywgYmFzZW5hbWUsIGFsbG93UGFydGlhbCkge1xuICBsZXQgbG9jYXRpb24gPSB0eXBlb2YgbG9jYXRpb25BcmcgPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgobG9jYXRpb25BcmcpIDogbG9jYXRpb25Bcmc7XG4gIGxldCBwYXRobmFtZSA9IHN0cmlwQmFzZW5hbWUobG9jYXRpb24ucGF0aG5hbWUgfHwgXCIvXCIsIGJhc2VuYW1lKTtcbiAgaWYgKHBhdGhuYW1lID09IG51bGwpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgYnJhbmNoZXMgPSBmbGF0dGVuUm91dGVzKHJvdXRlcyk7XG4gIHJhbmtSb3V0ZUJyYW5jaGVzKGJyYW5jaGVzKTtcbiAgbGV0IG1hdGNoZXMgPSBudWxsO1xuICBmb3IgKGxldCBpID0gMDsgbWF0Y2hlcyA9PSBudWxsICYmIGkgPCBicmFuY2hlcy5sZW5ndGg7ICsraSkge1xuICAgIGxldCBkZWNvZGVkID0gZGVjb2RlUGF0aChwYXRobmFtZSk7XG4gICAgbWF0Y2hlcyA9IG1hdGNoUm91dGVCcmFuY2goXG4gICAgICBicmFuY2hlc1tpXSxcbiAgICAgIGRlY29kZWQsXG4gICAgICBhbGxvd1BhcnRpYWxcbiAgICApO1xuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxuZnVuY3Rpb24gY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2gobWF0Y2gsIGxvYWRlckRhdGEpIHtcbiAgbGV0IHsgcm91dGUsIHBhdGhuYW1lLCBwYXJhbXMgfSA9IG1hdGNoO1xuICByZXR1cm4ge1xuICAgIGlkOiByb3V0ZS5pZCxcbiAgICBwYXRobmFtZSxcbiAgICBwYXJhbXMsXG4gICAgZGF0YTogbG9hZGVyRGF0YVtyb3V0ZS5pZF0sXG4gICAgaGFuZGxlOiByb3V0ZS5oYW5kbGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGZsYXR0ZW5Sb3V0ZXMocm91dGVzLCBicmFuY2hlcyA9IFtdLCBwYXJlbnRzTWV0YSA9IFtdLCBwYXJlbnRQYXRoID0gXCJcIikge1xuICBsZXQgZmxhdHRlblJvdXRlID0gKHJvdXRlLCBpbmRleCwgcmVsYXRpdmVQYXRoKSA9PiB7XG4gICAgbGV0IG1ldGEgPSB7XG4gICAgICByZWxhdGl2ZVBhdGg6IHJlbGF0aXZlUGF0aCA9PT0gdm9pZCAwID8gcm91dGUucGF0aCB8fCBcIlwiIDogcmVsYXRpdmVQYXRoLFxuICAgICAgY2FzZVNlbnNpdGl2ZTogcm91dGUuY2FzZVNlbnNpdGl2ZSA9PT0gdHJ1ZSxcbiAgICAgIGNoaWxkcmVuSW5kZXg6IGluZGV4LFxuICAgICAgcm91dGVcbiAgICB9O1xuICAgIGlmIChtZXRhLnJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKFwiL1wiKSkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICBtZXRhLnJlbGF0aXZlUGF0aC5zdGFydHNXaXRoKHBhcmVudFBhdGgpLFxuICAgICAgICBgQWJzb2x1dGUgcm91dGUgcGF0aCBcIiR7bWV0YS5yZWxhdGl2ZVBhdGh9XCIgbmVzdGVkIHVuZGVyIHBhdGggXCIke3BhcmVudFBhdGh9XCIgaXMgbm90IHZhbGlkLiBBbiBhYnNvbHV0ZSBjaGlsZCByb3V0ZSBwYXRoIG11c3Qgc3RhcnQgd2l0aCB0aGUgY29tYmluZWQgcGF0aCBvZiBhbGwgaXRzIHBhcmVudCByb3V0ZXMuYFxuICAgICAgKTtcbiAgICAgIG1ldGEucmVsYXRpdmVQYXRoID0gbWV0YS5yZWxhdGl2ZVBhdGguc2xpY2UocGFyZW50UGF0aC5sZW5ndGgpO1xuICAgIH1cbiAgICBsZXQgcGF0aCA9IGpvaW5QYXRocyhbcGFyZW50UGF0aCwgbWV0YS5yZWxhdGl2ZVBhdGhdKTtcbiAgICBsZXQgcm91dGVzTWV0YSA9IHBhcmVudHNNZXRhLmNvbmNhdChtZXRhKTtcbiAgICBpZiAocm91dGUuY2hpbGRyZW4gJiYgcm91dGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAvLyBPdXIgdHlwZXMga25vdyBiZXR0ZXIsIGJ1dCBydW50aW1lIEpTIG1heSBub3QhXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgcm91dGUuaW5kZXggIT09IHRydWUsXG4gICAgICAgIGBJbmRleCByb3V0ZXMgbXVzdCBub3QgaGF2ZSBjaGlsZCByb3V0ZXMuIFBsZWFzZSByZW1vdmUgYWxsIGNoaWxkIHJvdXRlcyBmcm9tIHJvdXRlIHBhdGggXCIke3BhdGh9XCIuYFxuICAgICAgKTtcbiAgICAgIGZsYXR0ZW5Sb3V0ZXMocm91dGUuY2hpbGRyZW4sIGJyYW5jaGVzLCByb3V0ZXNNZXRhLCBwYXRoKTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLnBhdGggPT0gbnVsbCAmJiAhcm91dGUuaW5kZXgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYnJhbmNoZXMucHVzaCh7XG4gICAgICBwYXRoLFxuICAgICAgc2NvcmU6IGNvbXB1dGVTY29yZShwYXRoLCByb3V0ZS5pbmRleCksXG4gICAgICByb3V0ZXNNZXRhXG4gICAgfSk7XG4gIH07XG4gIHJvdXRlcy5mb3JFYWNoKChyb3V0ZSwgaW5kZXgpID0+IHtcbiAgICBpZiAocm91dGUucGF0aCA9PT0gXCJcIiB8fCAhcm91dGUucGF0aD8uaW5jbHVkZXMoXCI/XCIpKSB7XG4gICAgICBmbGF0dGVuUm91dGUocm91dGUsIGluZGV4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChsZXQgZXhwbG9kZWQgb2YgZXhwbG9kZU9wdGlvbmFsU2VnbWVudHMocm91dGUucGF0aCkpIHtcbiAgICAgICAgZmxhdHRlblJvdXRlKHJvdXRlLCBpbmRleCwgZXhwbG9kZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBicmFuY2hlcztcbn1cbmZ1bmN0aW9uIGV4cGxvZGVPcHRpb25hbFNlZ21lbnRzKHBhdGgpIHtcbiAgbGV0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi9cIik7XG4gIGlmIChzZWdtZW50cy5sZW5ndGggPT09IDApIHJldHVybiBbXTtcbiAgbGV0IFtmaXJzdCwgLi4ucmVzdF0gPSBzZWdtZW50cztcbiAgbGV0IGlzT3B0aW9uYWwgPSBmaXJzdC5lbmRzV2l0aChcIj9cIik7XG4gIGxldCByZXF1aXJlZCA9IGZpcnN0LnJlcGxhY2UoL1xcPyQvLCBcIlwiKTtcbiAgaWYgKHJlc3QubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGlzT3B0aW9uYWwgPyBbcmVxdWlyZWQsIFwiXCJdIDogW3JlcXVpcmVkXTtcbiAgfVxuICBsZXQgcmVzdEV4cGxvZGVkID0gZXhwbG9kZU9wdGlvbmFsU2VnbWVudHMocmVzdC5qb2luKFwiL1wiKSk7XG4gIGxldCByZXN1bHQgPSBbXTtcbiAgcmVzdWx0LnB1c2goXG4gICAgLi4ucmVzdEV4cGxvZGVkLm1hcChcbiAgICAgIChzdWJwYXRoKSA9PiBzdWJwYXRoID09PSBcIlwiID8gcmVxdWlyZWQgOiBbcmVxdWlyZWQsIHN1YnBhdGhdLmpvaW4oXCIvXCIpXG4gICAgKVxuICApO1xuICBpZiAoaXNPcHRpb25hbCkge1xuICAgIHJlc3VsdC5wdXNoKC4uLnJlc3RFeHBsb2RlZCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdC5tYXAoXG4gICAgKGV4cGxvZGVkKSA9PiBwYXRoLnN0YXJ0c1dpdGgoXCIvXCIpICYmIGV4cGxvZGVkID09PSBcIlwiID8gXCIvXCIgOiBleHBsb2RlZFxuICApO1xufVxuZnVuY3Rpb24gcmFua1JvdXRlQnJhbmNoZXMoYnJhbmNoZXMpIHtcbiAgYnJhbmNoZXMuc29ydChcbiAgICAoYSwgYikgPT4gYS5zY29yZSAhPT0gYi5zY29yZSA/IGIuc2NvcmUgLSBhLnNjb3JlIDogY29tcGFyZUluZGV4ZXMoXG4gICAgICBhLnJvdXRlc01ldGEubWFwKChtZXRhKSA9PiBtZXRhLmNoaWxkcmVuSW5kZXgpLFxuICAgICAgYi5yb3V0ZXNNZXRhLm1hcCgobWV0YSkgPT4gbWV0YS5jaGlsZHJlbkluZGV4KVxuICAgIClcbiAgKTtcbn1cbnZhciBwYXJhbVJlID0gL146W1xcdy1dKyQvO1xudmFyIGR5bmFtaWNTZWdtZW50VmFsdWUgPSAzO1xudmFyIGluZGV4Um91dGVWYWx1ZSA9IDI7XG52YXIgZW1wdHlTZWdtZW50VmFsdWUgPSAxO1xudmFyIHN0YXRpY1NlZ21lbnRWYWx1ZSA9IDEwO1xudmFyIHNwbGF0UGVuYWx0eSA9IC0yO1xudmFyIGlzU3BsYXQgPSAocykgPT4gcyA9PT0gXCIqXCI7XG5mdW5jdGlvbiBjb21wdXRlU2NvcmUocGF0aCwgaW5kZXgpIHtcbiAgbGV0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi9cIik7XG4gIGxldCBpbml0aWFsU2NvcmUgPSBzZWdtZW50cy5sZW5ndGg7XG4gIGlmIChzZWdtZW50cy5zb21lKGlzU3BsYXQpKSB7XG4gICAgaW5pdGlhbFNjb3JlICs9IHNwbGF0UGVuYWx0eTtcbiAgfVxuICBpZiAoaW5kZXgpIHtcbiAgICBpbml0aWFsU2NvcmUgKz0gaW5kZXhSb3V0ZVZhbHVlO1xuICB9XG4gIHJldHVybiBzZWdtZW50cy5maWx0ZXIoKHMpID0+ICFpc1NwbGF0KHMpKS5yZWR1Y2UoXG4gICAgKHNjb3JlLCBzZWdtZW50KSA9PiBzY29yZSArIChwYXJhbVJlLnRlc3Qoc2VnbWVudCkgPyBkeW5hbWljU2VnbWVudFZhbHVlIDogc2VnbWVudCA9PT0gXCJcIiA/IGVtcHR5U2VnbWVudFZhbHVlIDogc3RhdGljU2VnbWVudFZhbHVlKSxcbiAgICBpbml0aWFsU2NvcmVcbiAgKTtcbn1cbmZ1bmN0aW9uIGNvbXBhcmVJbmRleGVzKGEsIGIpIHtcbiAgbGV0IHNpYmxpbmdzID0gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuc2xpY2UoMCwgLTEpLmV2ZXJ5KChuLCBpKSA9PiBuID09PSBiW2ldKTtcbiAgcmV0dXJuIHNpYmxpbmdzID8gKFxuICAgIC8vIElmIHR3byByb3V0ZXMgYXJlIHNpYmxpbmdzLCB3ZSBzaG91bGQgdHJ5IHRvIG1hdGNoIHRoZSBlYXJsaWVyIHNpYmxpbmdcbiAgICAvLyBmaXJzdC4gVGhpcyBhbGxvd3MgcGVvcGxlIHRvIGhhdmUgZmluZS1ncmFpbmVkIGNvbnRyb2wgb3ZlciB0aGUgbWF0Y2hpbmdcbiAgICAvLyBiZWhhdmlvciBieSBzaW1wbHkgcHV0dGluZyByb3V0ZXMgd2l0aCBpZGVudGljYWwgcGF0aHMgaW4gdGhlIG9yZGVyIHRoZXlcbiAgICAvLyB3YW50IHRoZW0gdHJpZWQuXG4gICAgYVthLmxlbmd0aCAtIDFdIC0gYltiLmxlbmd0aCAtIDFdXG4gICkgOiAoXG4gICAgLy8gT3RoZXJ3aXNlLCBpdCBkb2Vzbid0IHJlYWxseSBtYWtlIHNlbnNlIHRvIHJhbmsgbm9uLXNpYmxpbmdzIGJ5IGluZGV4LFxuICAgIC8vIHNvIHRoZXkgc29ydCBlcXVhbGx5LlxuICAgIDBcbiAgKTtcbn1cbmZ1bmN0aW9uIG1hdGNoUm91dGVCcmFuY2goYnJhbmNoLCBwYXRobmFtZSwgYWxsb3dQYXJ0aWFsID0gZmFsc2UpIHtcbiAgbGV0IHsgcm91dGVzTWV0YSB9ID0gYnJhbmNoO1xuICBsZXQgbWF0Y2hlZFBhcmFtcyA9IHt9O1xuICBsZXQgbWF0Y2hlZFBhdGhuYW1lID0gXCIvXCI7XG4gIGxldCBtYXRjaGVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcm91dGVzTWV0YS5sZW5ndGg7ICsraSkge1xuICAgIGxldCBtZXRhID0gcm91dGVzTWV0YVtpXTtcbiAgICBsZXQgZW5kID0gaSA9PT0gcm91dGVzTWV0YS5sZW5ndGggLSAxO1xuICAgIGxldCByZW1haW5pbmdQYXRobmFtZSA9IG1hdGNoZWRQYXRobmFtZSA9PT0gXCIvXCIgPyBwYXRobmFtZSA6IHBhdGhuYW1lLnNsaWNlKG1hdGNoZWRQYXRobmFtZS5sZW5ndGgpIHx8IFwiL1wiO1xuICAgIGxldCBtYXRjaCA9IG1hdGNoUGF0aChcbiAgICAgIHsgcGF0aDogbWV0YS5yZWxhdGl2ZVBhdGgsIGNhc2VTZW5zaXRpdmU6IG1ldGEuY2FzZVNlbnNpdGl2ZSwgZW5kIH0sXG4gICAgICByZW1haW5pbmdQYXRobmFtZVxuICAgICk7XG4gICAgbGV0IHJvdXRlID0gbWV0YS5yb3V0ZTtcbiAgICBpZiAoIW1hdGNoICYmIGVuZCAmJiBhbGxvd1BhcnRpYWwgJiYgIXJvdXRlc01ldGFbcm91dGVzTWV0YS5sZW5ndGggLSAxXS5yb3V0ZS5pbmRleCkge1xuICAgICAgbWF0Y2ggPSBtYXRjaFBhdGgoXG4gICAgICAgIHtcbiAgICAgICAgICBwYXRoOiBtZXRhLnJlbGF0aXZlUGF0aCxcbiAgICAgICAgICBjYXNlU2Vuc2l0aXZlOiBtZXRhLmNhc2VTZW5zaXRpdmUsXG4gICAgICAgICAgZW5kOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICByZW1haW5pbmdQYXRobmFtZVxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24obWF0Y2hlZFBhcmFtcywgbWF0Y2gucGFyYW1zKTtcbiAgICBtYXRjaGVzLnB1c2goe1xuICAgICAgLy8gVE9ETzogQ2FuIHRoaXMgYXMgYmUgYXZvaWRlZD9cbiAgICAgIHBhcmFtczogbWF0Y2hlZFBhcmFtcyxcbiAgICAgIHBhdGhuYW1lOiBqb2luUGF0aHMoW21hdGNoZWRQYXRobmFtZSwgbWF0Y2gucGF0aG5hbWVdKSxcbiAgICAgIHBhdGhuYW1lQmFzZTogbm9ybWFsaXplUGF0aG5hbWUoXG4gICAgICAgIGpvaW5QYXRocyhbbWF0Y2hlZFBhdGhuYW1lLCBtYXRjaC5wYXRobmFtZUJhc2VdKVxuICAgICAgKSxcbiAgICAgIHJvdXRlXG4gICAgfSk7XG4gICAgaWYgKG1hdGNoLnBhdGhuYW1lQmFzZSAhPT0gXCIvXCIpIHtcbiAgICAgIG1hdGNoZWRQYXRobmFtZSA9IGpvaW5QYXRocyhbbWF0Y2hlZFBhdGhuYW1lLCBtYXRjaC5wYXRobmFtZUJhc2VdKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZVBhdGgob3JpZ2luYWxQYXRoLCBwYXJhbXMgPSB7fSkge1xuICBsZXQgcGF0aCA9IG9yaWdpbmFsUGF0aDtcbiAgaWYgKHBhdGguZW5kc1dpdGgoXCIqXCIpICYmIHBhdGggIT09IFwiKlwiICYmICFwYXRoLmVuZHNXaXRoKFwiLypcIikpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBgUm91dGUgcGF0aCBcIiR7cGF0aH1cIiB3aWxsIGJlIHRyZWF0ZWQgYXMgaWYgaXQgd2VyZSBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIiBiZWNhdXNlIHRoZSBcXGAqXFxgIGNoYXJhY3RlciBtdXN0IGFsd2F5cyBmb2xsb3cgYSBcXGAvXFxgIGluIHRoZSBwYXR0ZXJuLiBUbyBnZXQgcmlkIG9mIHRoaXMgd2FybmluZywgcGxlYXNlIGNoYW5nZSB0aGUgcm91dGUgcGF0aCB0byBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIi5gXG4gICAgKTtcbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKTtcbiAgfVxuICBjb25zdCBwcmVmaXggPSBwYXRoLnN0YXJ0c1dpdGgoXCIvXCIpID8gXCIvXCIgOiBcIlwiO1xuICBjb25zdCBzdHJpbmdpZnkgPSAocCkgPT4gcCA9PSBudWxsID8gXCJcIiA6IHR5cGVvZiBwID09PSBcInN0cmluZ1wiID8gcCA6IFN0cmluZyhwKTtcbiAgY29uc3Qgc2VnbWVudHMgPSBwYXRoLnNwbGl0KC9cXC8rLykubWFwKChzZWdtZW50LCBpbmRleCwgYXJyYXkpID0+IHtcbiAgICBjb25zdCBpc0xhc3RTZWdtZW50ID0gaW5kZXggPT09IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgaWYgKGlzTGFzdFNlZ21lbnQgJiYgc2VnbWVudCA9PT0gXCIqXCIpIHtcbiAgICAgIGNvbnN0IHN0YXIgPSBcIipcIjtcbiAgICAgIHJldHVybiBzdHJpbmdpZnkocGFyYW1zW3N0YXJdKTtcbiAgICB9XG4gICAgY29uc3Qga2V5TWF0Y2ggPSBzZWdtZW50Lm1hdGNoKC9eOihbXFx3LV0rKShcXD8/KSQvKTtcbiAgICBpZiAoa2V5TWF0Y2gpIHtcbiAgICAgIGNvbnN0IFssIGtleSwgb3B0aW9uYWxdID0ga2V5TWF0Y2g7XG4gICAgICBsZXQgcGFyYW0gPSBwYXJhbXNba2V5XTtcbiAgICAgIGludmFyaWFudChvcHRpb25hbCA9PT0gXCI/XCIgfHwgcGFyYW0gIT0gbnVsbCwgYE1pc3NpbmcgXCI6JHtrZXl9XCIgcGFyYW1gKTtcbiAgICAgIHJldHVybiBzdHJpbmdpZnkocGFyYW0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VnbWVudC5yZXBsYWNlKC9cXD8kL2csIFwiXCIpO1xuICB9KS5maWx0ZXIoKHNlZ21lbnQpID0+ICEhc2VnbWVudCk7XG4gIHJldHVybiBwcmVmaXggKyBzZWdtZW50cy5qb2luKFwiL1wiKTtcbn1cbmZ1bmN0aW9uIG1hdGNoUGF0aChwYXR0ZXJuLCBwYXRobmFtZSkge1xuICBpZiAodHlwZW9mIHBhdHRlcm4gPT09IFwic3RyaW5nXCIpIHtcbiAgICBwYXR0ZXJuID0geyBwYXRoOiBwYXR0ZXJuLCBjYXNlU2Vuc2l0aXZlOiBmYWxzZSwgZW5kOiB0cnVlIH07XG4gIH1cbiAgbGV0IFttYXRjaGVyLCBjb21waWxlZFBhcmFtc10gPSBjb21waWxlUGF0aChcbiAgICBwYXR0ZXJuLnBhdGgsXG4gICAgcGF0dGVybi5jYXNlU2Vuc2l0aXZlLFxuICAgIHBhdHRlcm4uZW5kXG4gICk7XG4gIGxldCBtYXRjaCA9IHBhdGhuYW1lLm1hdGNoKG1hdGNoZXIpO1xuICBpZiAoIW1hdGNoKSByZXR1cm4gbnVsbDtcbiAgbGV0IG1hdGNoZWRQYXRobmFtZSA9IG1hdGNoWzBdO1xuICBsZXQgcGF0aG5hbWVCYXNlID0gbWF0Y2hlZFBhdGhuYW1lLnJlcGxhY2UoLyguKVxcLyskLywgXCIkMVwiKTtcbiAgbGV0IGNhcHR1cmVHcm91cHMgPSBtYXRjaC5zbGljZSgxKTtcbiAgbGV0IHBhcmFtcyA9IGNvbXBpbGVkUGFyYW1zLnJlZHVjZShcbiAgICAobWVtbzIsIHsgcGFyYW1OYW1lLCBpc09wdGlvbmFsIH0sIGluZGV4KSA9PiB7XG4gICAgICBpZiAocGFyYW1OYW1lID09PSBcIipcIikge1xuICAgICAgICBsZXQgc3BsYXRWYWx1ZSA9IGNhcHR1cmVHcm91cHNbaW5kZXhdIHx8IFwiXCI7XG4gICAgICAgIHBhdGhuYW1lQmFzZSA9IG1hdGNoZWRQYXRobmFtZS5zbGljZSgwLCBtYXRjaGVkUGF0aG5hbWUubGVuZ3RoIC0gc3BsYXRWYWx1ZS5sZW5ndGgpLnJlcGxhY2UoLyguKVxcLyskLywgXCIkMVwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlID0gY2FwdHVyZUdyb3Vwc1tpbmRleF07XG4gICAgICBpZiAoaXNPcHRpb25hbCAmJiAhdmFsdWUpIHtcbiAgICAgICAgbWVtbzJbcGFyYW1OYW1lXSA9IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lbW8yW3BhcmFtTmFtZV0gPSAodmFsdWUgfHwgXCJcIikucmVwbGFjZSgvJTJGL2csIFwiL1wiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZW1vMjtcbiAgICB9LFxuICAgIHt9XG4gICk7XG4gIHJldHVybiB7XG4gICAgcGFyYW1zLFxuICAgIHBhdGhuYW1lOiBtYXRjaGVkUGF0aG5hbWUsXG4gICAgcGF0aG5hbWVCYXNlLFxuICAgIHBhdHRlcm5cbiAgfTtcbn1cbmZ1bmN0aW9uIGNvbXBpbGVQYXRoKHBhdGgsIGNhc2VTZW5zaXRpdmUgPSBmYWxzZSwgZW5kID0gdHJ1ZSkge1xuICB3YXJuaW5nKFxuICAgIHBhdGggPT09IFwiKlwiIHx8ICFwYXRoLmVuZHNXaXRoKFwiKlwiKSB8fCBwYXRoLmVuZHNXaXRoKFwiLypcIiksXG4gICAgYFJvdXRlIHBhdGggXCIke3BhdGh9XCIgd2lsbCBiZSB0cmVhdGVkIGFzIGlmIGl0IHdlcmUgXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIgYmVjYXVzZSB0aGUgXFxgKlxcYCBjaGFyYWN0ZXIgbXVzdCBhbHdheXMgZm9sbG93IGEgXFxgL1xcYCBpbiB0aGUgcGF0dGVybi4gVG8gZ2V0IHJpZCBvZiB0aGlzIHdhcm5pbmcsIHBsZWFzZSBjaGFuZ2UgdGhlIHJvdXRlIHBhdGggdG8gXCIke3BhdGgucmVwbGFjZSgvXFwqJC8sIFwiLypcIil9XCIuYFxuICApO1xuICBsZXQgcGFyYW1zID0gW107XG4gIGxldCByZWdleHBTb3VyY2UgPSBcIl5cIiArIHBhdGgucmVwbGFjZSgvXFwvKlxcKj8kLywgXCJcIikucmVwbGFjZSgvXlxcLyovLCBcIi9cIikucmVwbGFjZSgvW1xcXFwuKiteJHt9fCgpW1xcXV0vZywgXCJcXFxcJCZcIikucmVwbGFjZShcbiAgICAvXFwvOihbXFx3LV0rKShcXD8pPy9nLFxuICAgIChfLCBwYXJhbU5hbWUsIGlzT3B0aW9uYWwpID0+IHtcbiAgICAgIHBhcmFtcy5wdXNoKHsgcGFyYW1OYW1lLCBpc09wdGlvbmFsOiBpc09wdGlvbmFsICE9IG51bGwgfSk7XG4gICAgICByZXR1cm4gaXNPcHRpb25hbCA/IFwiLz8oW15cXFxcL10rKT9cIiA6IFwiLyhbXlxcXFwvXSspXCI7XG4gICAgfVxuICApO1xuICBpZiAocGF0aC5lbmRzV2l0aChcIipcIikpIHtcbiAgICBwYXJhbXMucHVzaCh7IHBhcmFtTmFtZTogXCIqXCIgfSk7XG4gICAgcmVnZXhwU291cmNlICs9IHBhdGggPT09IFwiKlwiIHx8IHBhdGggPT09IFwiLypcIiA/IFwiKC4qKSRcIiA6IFwiKD86XFxcXC8oLispfFxcXFwvKikkXCI7XG4gIH0gZWxzZSBpZiAoZW5kKSB7XG4gICAgcmVnZXhwU291cmNlICs9IFwiXFxcXC8qJFwiO1xuICB9IGVsc2UgaWYgKHBhdGggIT09IFwiXCIgJiYgcGF0aCAhPT0gXCIvXCIpIHtcbiAgICByZWdleHBTb3VyY2UgKz0gXCIoPzooPz1cXFxcL3wkKSlcIjtcbiAgfSBlbHNlIHtcbiAgfVxuICBsZXQgbWF0Y2hlciA9IG5ldyBSZWdFeHAocmVnZXhwU291cmNlLCBjYXNlU2Vuc2l0aXZlID8gdm9pZCAwIDogXCJpXCIpO1xuICByZXR1cm4gW21hdGNoZXIsIHBhcmFtc107XG59XG5mdW5jdGlvbiBkZWNvZGVQYXRoKHZhbHVlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHZhbHVlLnNwbGl0KFwiL1wiKS5tYXAoKHYpID0+IGRlY29kZVVSSUNvbXBvbmVudCh2KS5yZXBsYWNlKC9cXC8vZywgXCIlMkZcIikpLmpvaW4oXCIvXCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgIGBUaGUgVVJMIHBhdGggXCIke3ZhbHVlfVwiIGNvdWxkIG5vdCBiZSBkZWNvZGVkIGJlY2F1c2UgaXQgaXMgYSBtYWxmb3JtZWQgVVJMIHNlZ21lbnQuIFRoaXMgaXMgcHJvYmFibHkgZHVlIHRvIGEgYmFkIHBlcmNlbnQgZW5jb2RpbmcgKCR7ZXJyb3J9KS5gXG4gICAgKTtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbn1cbmZ1bmN0aW9uIHN0cmlwQmFzZW5hbWUocGF0aG5hbWUsIGJhc2VuYW1lKSB7XG4gIGlmIChiYXNlbmFtZSA9PT0gXCIvXCIpIHJldHVybiBwYXRobmFtZTtcbiAgaWYgKCFwYXRobmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoYmFzZW5hbWUudG9Mb3dlckNhc2UoKSkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgc3RhcnRJbmRleCA9IGJhc2VuYW1lLmVuZHNXaXRoKFwiL1wiKSA/IGJhc2VuYW1lLmxlbmd0aCAtIDEgOiBiYXNlbmFtZS5sZW5ndGg7XG4gIGxldCBuZXh0Q2hhciA9IHBhdGhuYW1lLmNoYXJBdChzdGFydEluZGV4KTtcbiAgaWYgKG5leHRDaGFyICYmIG5leHRDaGFyICE9PSBcIi9cIikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBwYXRobmFtZS5zbGljZShzdGFydEluZGV4KSB8fCBcIi9cIjtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQYXRoKHRvLCBmcm9tUGF0aG5hbWUgPSBcIi9cIikge1xuICBsZXQge1xuICAgIHBhdGhuYW1lOiB0b1BhdGhuYW1lLFxuICAgIHNlYXJjaCA9IFwiXCIsXG4gICAgaGFzaCA9IFwiXCJcbiAgfSA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aCh0bykgOiB0bztcbiAgbGV0IHBhdGhuYW1lID0gdG9QYXRobmFtZSA/IHRvUGF0aG5hbWUuc3RhcnRzV2l0aChcIi9cIikgPyB0b1BhdGhuYW1lIDogcmVzb2x2ZVBhdGhuYW1lKHRvUGF0aG5hbWUsIGZyb21QYXRobmFtZSkgOiBmcm9tUGF0aG5hbWU7XG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBub3JtYWxpemVTZWFyY2goc2VhcmNoKSxcbiAgICBoYXNoOiBub3JtYWxpemVIYXNoKGhhc2gpXG4gIH07XG59XG5mdW5jdGlvbiByZXNvbHZlUGF0aG5hbWUocmVsYXRpdmVQYXRoLCBmcm9tUGF0aG5hbWUpIHtcbiAgbGV0IHNlZ21lbnRzID0gZnJvbVBhdGhuYW1lLnJlcGxhY2UoL1xcLyskLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICBsZXQgcmVsYXRpdmVTZWdtZW50cyA9IHJlbGF0aXZlUGF0aC5zcGxpdChcIi9cIik7XG4gIHJlbGF0aXZlU2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudCkgPT4ge1xuICAgIGlmIChzZWdtZW50ID09PSBcIi4uXCIpIHtcbiAgICAgIGlmIChzZWdtZW50cy5sZW5ndGggPiAxKSBzZWdtZW50cy5wb3AoKTtcbiAgICB9IGVsc2UgaWYgKHNlZ21lbnQgIT09IFwiLlwiKSB7XG4gICAgICBzZWdtZW50cy5wdXNoKHNlZ21lbnQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzZWdtZW50cy5sZW5ndGggPiAxID8gc2VnbWVudHMuam9pbihcIi9cIikgOiBcIi9cIjtcbn1cbmZ1bmN0aW9uIGdldEludmFsaWRQYXRoRXJyb3IoY2hhciwgZmllbGQsIGRlc3QsIHBhdGgpIHtcbiAgcmV0dXJuIGBDYW5ub3QgaW5jbHVkZSBhICcke2NoYXJ9JyBjaGFyYWN0ZXIgaW4gYSBtYW51YWxseSBzcGVjaWZpZWQgXFxgdG8uJHtmaWVsZH1cXGAgZmllbGQgWyR7SlNPTi5zdHJpbmdpZnkoXG4gICAgcGF0aFxuICApfV0uICBQbGVhc2Ugc2VwYXJhdGUgaXQgb3V0IHRvIHRoZSBcXGB0by4ke2Rlc3R9XFxgIGZpZWxkLiBBbHRlcm5hdGl2ZWx5IHlvdSBtYXkgcHJvdmlkZSB0aGUgZnVsbCBwYXRoIGFzIGEgc3RyaW5nIGluIDxMaW5rIHRvPVwiLi4uXCI+IGFuZCB0aGUgcm91dGVyIHdpbGwgcGFyc2UgaXQgZm9yIHlvdS5gO1xufVxuZnVuY3Rpb24gZ2V0UGF0aENvbnRyaWJ1dGluZ01hdGNoZXMobWF0Y2hlcykge1xuICByZXR1cm4gbWF0Y2hlcy5maWx0ZXIoXG4gICAgKG1hdGNoLCBpbmRleCkgPT4gaW5kZXggPT09IDAgfHwgbWF0Y2gucm91dGUucGF0aCAmJiBtYXRjaC5yb3V0ZS5wYXRoLmxlbmd0aCA+IDBcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcykge1xuICBsZXQgcGF0aE1hdGNoZXMgPSBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlcyhtYXRjaGVzKTtcbiAgcmV0dXJuIHBhdGhNYXRjaGVzLm1hcChcbiAgICAobWF0Y2gsIGlkeCkgPT4gaWR4ID09PSBwYXRoTWF0Y2hlcy5sZW5ndGggLSAxID8gbWF0Y2gucGF0aG5hbWUgOiBtYXRjaC5wYXRobmFtZUJhc2VcbiAgKTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVUbyh0b0FyZywgcm91dGVQYXRobmFtZXMsIGxvY2F0aW9uUGF0aG5hbWUsIGlzUGF0aFJlbGF0aXZlID0gZmFsc2UpIHtcbiAgbGV0IHRvO1xuICBpZiAodHlwZW9mIHRvQXJnID09PSBcInN0cmluZ1wiKSB7XG4gICAgdG8gPSBwYXJzZVBhdGgodG9BcmcpO1xuICB9IGVsc2Uge1xuICAgIHRvID0geyAuLi50b0FyZyB9O1xuICAgIGludmFyaWFudChcbiAgICAgICF0by5wYXRobmFtZSB8fCAhdG8ucGF0aG5hbWUuaW5jbHVkZXMoXCI/XCIpLFxuICAgICAgZ2V0SW52YWxpZFBhdGhFcnJvcihcIj9cIiwgXCJwYXRobmFtZVwiLCBcInNlYXJjaFwiLCB0bylcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICF0by5wYXRobmFtZSB8fCAhdG8ucGF0aG5hbWUuaW5jbHVkZXMoXCIjXCIpLFxuICAgICAgZ2V0SW52YWxpZFBhdGhFcnJvcihcIiNcIiwgXCJwYXRobmFtZVwiLCBcImhhc2hcIiwgdG8pXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhdG8uc2VhcmNoIHx8ICF0by5zZWFyY2guaW5jbHVkZXMoXCIjXCIpLFxuICAgICAgZ2V0SW52YWxpZFBhdGhFcnJvcihcIiNcIiwgXCJzZWFyY2hcIiwgXCJoYXNoXCIsIHRvKVxuICAgICk7XG4gIH1cbiAgbGV0IGlzRW1wdHlQYXRoID0gdG9BcmcgPT09IFwiXCIgfHwgdG8ucGF0aG5hbWUgPT09IFwiXCI7XG4gIGxldCB0b1BhdGhuYW1lID0gaXNFbXB0eVBhdGggPyBcIi9cIiA6IHRvLnBhdGhuYW1lO1xuICBsZXQgZnJvbTtcbiAgaWYgKHRvUGF0aG5hbWUgPT0gbnVsbCkge1xuICAgIGZyb20gPSBsb2NhdGlvblBhdGhuYW1lO1xuICB9IGVsc2Uge1xuICAgIGxldCByb3V0ZVBhdGhuYW1lSW5kZXggPSByb3V0ZVBhdGhuYW1lcy5sZW5ndGggLSAxO1xuICAgIGlmICghaXNQYXRoUmVsYXRpdmUgJiYgdG9QYXRobmFtZS5zdGFydHNXaXRoKFwiLi5cIikpIHtcbiAgICAgIGxldCB0b1NlZ21lbnRzID0gdG9QYXRobmFtZS5zcGxpdChcIi9cIik7XG4gICAgICB3aGlsZSAodG9TZWdtZW50c1swXSA9PT0gXCIuLlwiKSB7XG4gICAgICAgIHRvU2VnbWVudHMuc2hpZnQoKTtcbiAgICAgICAgcm91dGVQYXRobmFtZUluZGV4IC09IDE7XG4gICAgICB9XG4gICAgICB0by5wYXRobmFtZSA9IHRvU2VnbWVudHMuam9pbihcIi9cIik7XG4gICAgfVxuICAgIGZyb20gPSByb3V0ZVBhdGhuYW1lSW5kZXggPj0gMCA/IHJvdXRlUGF0aG5hbWVzW3JvdXRlUGF0aG5hbWVJbmRleF0gOiBcIi9cIjtcbiAgfVxuICBsZXQgcGF0aCA9IHJlc29sdmVQYXRoKHRvLCBmcm9tKTtcbiAgbGV0IGhhc0V4cGxpY2l0VHJhaWxpbmdTbGFzaCA9IHRvUGF0aG5hbWUgJiYgdG9QYXRobmFtZSAhPT0gXCIvXCIgJiYgdG9QYXRobmFtZS5lbmRzV2l0aChcIi9cIik7XG4gIGxldCBoYXNDdXJyZW50VHJhaWxpbmdTbGFzaCA9IChpc0VtcHR5UGF0aCB8fCB0b1BhdGhuYW1lID09PSBcIi5cIikgJiYgbG9jYXRpb25QYXRobmFtZS5lbmRzV2l0aChcIi9cIik7XG4gIGlmICghcGF0aC5wYXRobmFtZS5lbmRzV2l0aChcIi9cIikgJiYgKGhhc0V4cGxpY2l0VHJhaWxpbmdTbGFzaCB8fCBoYXNDdXJyZW50VHJhaWxpbmdTbGFzaCkpIHtcbiAgICBwYXRoLnBhdGhuYW1lICs9IFwiL1wiO1xuICB9XG4gIHJldHVybiBwYXRoO1xufVxudmFyIGpvaW5QYXRocyA9IChwYXRocykgPT4gcGF0aHMuam9pbihcIi9cIikucmVwbGFjZSgvXFwvXFwvKy9nLCBcIi9cIik7XG52YXIgbm9ybWFsaXplUGF0aG5hbWUgPSAocGF0aG5hbWUpID0+IHBhdGhuYW1lLnJlcGxhY2UoL1xcLyskLywgXCJcIikucmVwbGFjZSgvXlxcLyovLCBcIi9cIik7XG52YXIgbm9ybWFsaXplU2VhcmNoID0gKHNlYXJjaCkgPT4gIXNlYXJjaCB8fCBzZWFyY2ggPT09IFwiP1wiID8gXCJcIiA6IHNlYXJjaC5zdGFydHNXaXRoKFwiP1wiKSA/IHNlYXJjaCA6IFwiP1wiICsgc2VhcmNoO1xudmFyIG5vcm1hbGl6ZUhhc2ggPSAoaGFzaCkgPT4gIWhhc2ggfHwgaGFzaCA9PT0gXCIjXCIgPyBcIlwiIDogaGFzaC5zdGFydHNXaXRoKFwiI1wiKSA/IGhhc2ggOiBcIiNcIiArIGhhc2g7XG52YXIgRGF0YVdpdGhSZXNwb25zZUluaXQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGRhdGEyLCBpbml0KSB7XG4gICAgdGhpcy50eXBlID0gXCJEYXRhV2l0aFJlc3BvbnNlSW5pdFwiO1xuICAgIHRoaXMuZGF0YSA9IGRhdGEyO1xuICAgIHRoaXMuaW5pdCA9IGluaXQgfHwgbnVsbDtcbiAgfVxufTtcbmZ1bmN0aW9uIGRhdGEoZGF0YTIsIGluaXQpIHtcbiAgcmV0dXJuIG5ldyBEYXRhV2l0aFJlc3BvbnNlSW5pdChcbiAgICBkYXRhMixcbiAgICB0eXBlb2YgaW5pdCA9PT0gXCJudW1iZXJcIiA/IHsgc3RhdHVzOiBpbml0IH0gOiBpbml0XG4gICk7XG59XG52YXIgcmVkaXJlY3QgPSAodXJsLCBpbml0ID0gMzAyKSA9PiB7XG4gIGxldCByZXNwb25zZUluaXQgPSBpbml0O1xuICBpZiAodHlwZW9mIHJlc3BvbnNlSW5pdCA9PT0gXCJudW1iZXJcIikge1xuICAgIHJlc3BvbnNlSW5pdCA9IHsgc3RhdHVzOiByZXNwb25zZUluaXQgfTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgcmVzcG9uc2VJbml0LnN0YXR1cyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHJlc3BvbnNlSW5pdC5zdGF0dXMgPSAzMDI7XG4gIH1cbiAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhyZXNwb25zZUluaXQuaGVhZGVycyk7XG4gIGhlYWRlcnMuc2V0KFwiTG9jYXRpb25cIiwgdXJsKTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7IC4uLnJlc3BvbnNlSW5pdCwgaGVhZGVycyB9KTtcbn07XG52YXIgcmVkaXJlY3REb2N1bWVudCA9ICh1cmwsIGluaXQpID0+IHtcbiAgbGV0IHJlc3BvbnNlID0gcmVkaXJlY3QodXJsLCBpbml0KTtcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiLCBcInRydWVcIik7XG4gIHJldHVybiByZXNwb25zZTtcbn07XG52YXIgcmVwbGFjZSA9ICh1cmwsIGluaXQpID0+IHtcbiAgbGV0IHJlc3BvbnNlID0gcmVkaXJlY3QodXJsLCBpbml0KTtcbiAgcmVzcG9uc2UuaGVhZGVycy5zZXQoXCJYLVJlbWl4LVJlcGxhY2VcIiwgXCJ0cnVlXCIpO1xuICByZXR1cm4gcmVzcG9uc2U7XG59O1xudmFyIEVycm9yUmVzcG9uc2VJbXBsID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihzdGF0dXMsIHN0YXR1c1RleHQsIGRhdGEyLCBpbnRlcm5hbCA9IGZhbHNlKSB7XG4gICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgdGhpcy5zdGF0dXNUZXh0ID0gc3RhdHVzVGV4dCB8fCBcIlwiO1xuICAgIHRoaXMuaW50ZXJuYWwgPSBpbnRlcm5hbDtcbiAgICBpZiAoZGF0YTIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTIudG9TdHJpbmcoKTtcbiAgICAgIHRoaXMuZXJyb3IgPSBkYXRhMjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kYXRhID0gZGF0YTI7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpIHtcbiAgcmV0dXJuIGVycm9yICE9IG51bGwgJiYgdHlwZW9mIGVycm9yLnN0YXR1cyA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgZXJyb3Iuc3RhdHVzVGV4dCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZXJyb3IuaW50ZXJuYWwgPT09IFwiYm9vbGVhblwiICYmIFwiZGF0YVwiIGluIGVycm9yO1xufVxuXG4vLyBsaWIvcm91dGVyL3JvdXRlci50c1xudmFyIHZhbGlkTXV0YXRpb25NZXRob2RzQXJyID0gW1xuICBcIlBPU1RcIixcbiAgXCJQVVRcIixcbiAgXCJQQVRDSFwiLFxuICBcIkRFTEVURVwiXG5dO1xudmFyIHZhbGlkTXV0YXRpb25NZXRob2RzID0gbmV3IFNldChcbiAgdmFsaWRNdXRhdGlvbk1ldGhvZHNBcnJcbik7XG52YXIgdmFsaWRSZXF1ZXN0TWV0aG9kc0FyciA9IFtcbiAgXCJHRVRcIixcbiAgLi4udmFsaWRNdXRhdGlvbk1ldGhvZHNBcnJcbl07XG52YXIgdmFsaWRSZXF1ZXN0TWV0aG9kcyA9IG5ldyBTZXQodmFsaWRSZXF1ZXN0TWV0aG9kc0Fycik7XG52YXIgcmVkaXJlY3RTdGF0dXNDb2RlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF0pO1xudmFyIHJlZGlyZWN0UHJlc2VydmVNZXRob2RTdGF0dXNDb2RlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFszMDcsIDMwOF0pO1xudmFyIElETEVfTkFWSUdBVElPTiA9IHtcbiAgc3RhdGU6IFwiaWRsZVwiLFxuICBsb2NhdGlvbjogdm9pZCAwLFxuICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgZm9ybURhdGE6IHZvaWQgMCxcbiAganNvbjogdm9pZCAwLFxuICB0ZXh0OiB2b2lkIDBcbn07XG52YXIgSURMRV9GRVRDSEVSID0ge1xuICBzdGF0ZTogXCJpZGxlXCIsXG4gIGRhdGE6IHZvaWQgMCxcbiAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gIGZvcm1EYXRhOiB2b2lkIDAsXG4gIGpzb246IHZvaWQgMCxcbiAgdGV4dDogdm9pZCAwXG59O1xudmFyIElETEVfQkxPQ0tFUiA9IHtcbiAgc3RhdGU6IFwidW5ibG9ja2VkXCIsXG4gIHByb2NlZWQ6IHZvaWQgMCxcbiAgcmVzZXQ6IHZvaWQgMCxcbiAgbG9jYXRpb246IHZvaWQgMFxufTtcbnZhciBBQlNPTFVURV9VUkxfUkVHRVggPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG52YXIgZGVmYXVsdE1hcFJvdXRlUHJvcGVydGllcyA9IChyb3V0ZSkgPT4gKHtcbiAgaGFzRXJyb3JCb3VuZGFyeTogQm9vbGVhbihyb3V0ZS5oYXNFcnJvckJvdW5kYXJ5KVxufSk7XG52YXIgVFJBTlNJVElPTlNfU1RPUkFHRV9LRVkgPSBcInJlbWl4LXJvdXRlci10cmFuc2l0aW9uc1wiO1xudmFyIFJlc2V0TG9hZGVyRGF0YVN5bWJvbCA9IFN5bWJvbChcIlJlc2V0TG9hZGVyRGF0YVwiKTtcbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlcihpbml0KSB7XG4gIGNvbnN0IHJvdXRlcldpbmRvdyA9IGluaXQud2luZG93ID8gaW5pdC53aW5kb3cgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdm9pZCAwO1xuICBjb25zdCBpc0Jyb3dzZXIyID0gdHlwZW9mIHJvdXRlcldpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygcm91dGVyV2luZG93LmRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiByb3V0ZXJXaW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgaW52YXJpYW50KFxuICAgIGluaXQucm91dGVzLmxlbmd0aCA+IDAsXG4gICAgXCJZb3UgbXVzdCBwcm92aWRlIGEgbm9uLWVtcHR5IHJvdXRlcyBhcnJheSB0byBjcmVhdGVSb3V0ZXJcIlxuICApO1xuICBsZXQgbWFwUm91dGVQcm9wZXJ0aWVzMiA9IGluaXQubWFwUm91dGVQcm9wZXJ0aWVzIHx8IGRlZmF1bHRNYXBSb3V0ZVByb3BlcnRpZXM7XG4gIGxldCBtYW5pZmVzdCA9IHt9O1xuICBsZXQgZGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgaW5pdC5yb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICB2b2lkIDAsXG4gICAgbWFuaWZlc3RcbiAgKTtcbiAgbGV0IGluRmxpZ2h0RGF0YVJvdXRlcztcbiAgbGV0IGJhc2VuYW1lID0gaW5pdC5iYXNlbmFtZSB8fCBcIi9cIjtcbiAgbGV0IGRhdGFTdHJhdGVneUltcGwgPSBpbml0LmRhdGFTdHJhdGVneSB8fCBkZWZhdWx0RGF0YVN0cmF0ZWd5V2l0aE1pZGRsZXdhcmU7XG4gIGxldCBmdXR1cmUgPSB7XG4gICAgdW5zdGFibGVfbWlkZGxld2FyZTogZmFsc2UsXG4gICAgLi4uaW5pdC5mdXR1cmVcbiAgfTtcbiAgbGV0IHVubGlzdGVuSGlzdG9yeSA9IG51bGw7XG4gIGxldCBzdWJzY3JpYmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBzYXZlZFNjcm9sbFBvc2l0aW9uczIgPSBudWxsO1xuICBsZXQgZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkyID0gbnVsbDtcbiAgbGV0IGdldFNjcm9sbFBvc2l0aW9uID0gbnVsbDtcbiAgbGV0IGluaXRpYWxTY3JvbGxSZXN0b3JlZCA9IGluaXQuaHlkcmF0aW9uRGF0YSAhPSBudWxsO1xuICBsZXQgaW5pdGlhbE1hdGNoZXMgPSBtYXRjaFJvdXRlcyhkYXRhUm91dGVzLCBpbml0Lmhpc3RvcnkubG9jYXRpb24sIGJhc2VuYW1lKTtcbiAgbGV0IGluaXRpYWxNYXRjaGVzSXNGT1cgPSBmYWxzZTtcbiAgbGV0IGluaXRpYWxFcnJvcnMgPSBudWxsO1xuICBpZiAoaW5pdGlhbE1hdGNoZXMgPT0gbnVsbCAmJiAhaW5pdC5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbikge1xuICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7XG4gICAgICBwYXRobmFtZTogaW5pdC5oaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgfSk7XG4gICAgbGV0IHsgbWF0Y2hlcywgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMoZGF0YVJvdXRlcyk7XG4gICAgaW5pdGlhbE1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGluaXRpYWxFcnJvcnMgPSB7IFtyb3V0ZS5pZF06IGVycm9yIH07XG4gIH1cbiAgaWYgKGluaXRpYWxNYXRjaGVzICYmICFpbml0Lmh5ZHJhdGlvbkRhdGEpIHtcbiAgICBsZXQgZm9nT2ZXYXIgPSBjaGVja0ZvZ09mV2FyKFxuICAgICAgaW5pdGlhbE1hdGNoZXMsXG4gICAgICBkYXRhUm91dGVzLFxuICAgICAgaW5pdC5oaXN0b3J5LmxvY2F0aW9uLnBhdGhuYW1lXG4gICAgKTtcbiAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlKSB7XG4gICAgICBpbml0aWFsTWF0Y2hlcyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGxldCBpbml0aWFsaXplZDtcbiAgaWYgKCFpbml0aWFsTWF0Y2hlcykge1xuICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgaW5pdGlhbE1hdGNoZXMgPSBbXTtcbiAgICBsZXQgZm9nT2ZXYXIgPSBjaGVja0ZvZ09mV2FyKFxuICAgICAgbnVsbCxcbiAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICBpbml0Lmhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWVcbiAgICApO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgaW5pdGlhbE1hdGNoZXNJc0ZPVyA9IHRydWU7XG4gICAgICBpbml0aWFsTWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgfVxuICB9IGVsc2UgaWYgKGluaXRpYWxNYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUubGF6eSkpIHtcbiAgICBpbml0aWFsaXplZCA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKCFpbml0aWFsTWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLmxvYWRlcikpIHtcbiAgICBpbml0aWFsaXplZCA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgbGV0IGxvYWRlckRhdGEgPSBpbml0Lmh5ZHJhdGlvbkRhdGEgPyBpbml0Lmh5ZHJhdGlvbkRhdGEubG9hZGVyRGF0YSA6IG51bGw7XG4gICAgbGV0IGVycm9ycyA9IGluaXQuaHlkcmF0aW9uRGF0YSA/IGluaXQuaHlkcmF0aW9uRGF0YS5lcnJvcnMgOiBudWxsO1xuICAgIGlmIChlcnJvcnMpIHtcbiAgICAgIGxldCBpZHggPSBpbml0aWFsTWF0Y2hlcy5maW5kSW5kZXgoXG4gICAgICAgIChtKSA9PiBlcnJvcnNbbS5yb3V0ZS5pZF0gIT09IHZvaWQgMFxuICAgICAgKTtcbiAgICAgIGluaXRpYWxpemVkID0gaW5pdGlhbE1hdGNoZXMuc2xpY2UoMCwgaWR4ICsgMSkuZXZlcnkoKG0pID0+ICFzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihtLnJvdXRlLCBsb2FkZXJEYXRhLCBlcnJvcnMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdGlhbGl6ZWQgPSBpbml0aWFsTWF0Y2hlcy5ldmVyeShcbiAgICAgICAgKG0pID0+ICFzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihtLnJvdXRlLCBsb2FkZXJEYXRhLCBlcnJvcnMpXG4gICAgICApO1xuICAgIH1cbiAgfVxuICBsZXQgcm91dGVyO1xuICBsZXQgc3RhdGUgPSB7XG4gICAgaGlzdG9yeUFjdGlvbjogaW5pdC5oaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaW5pdC5oaXN0b3J5LmxvY2F0aW9uLFxuICAgIG1hdGNoZXM6IGluaXRpYWxNYXRjaGVzLFxuICAgIGluaXRpYWxpemVkLFxuICAgIG5hdmlnYXRpb246IElETEVfTkFWSUdBVElPTixcbiAgICAvLyBEb24ndCByZXN0b3JlIG9uIGluaXRpYWwgdXBkYXRlU3RhdGUoKSBpZiB3ZSB3ZXJlIFNTUidkXG4gICAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiBpbml0Lmh5ZHJhdGlvbkRhdGEgIT0gbnVsbCA/IGZhbHNlIDogbnVsbCxcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IGZhbHNlLFxuICAgIHJldmFsaWRhdGlvbjogXCJpZGxlXCIsXG4gICAgbG9hZGVyRGF0YTogaW5pdC5oeWRyYXRpb25EYXRhICYmIGluaXQuaHlkcmF0aW9uRGF0YS5sb2FkZXJEYXRhIHx8IHt9LFxuICAgIGFjdGlvbkRhdGE6IGluaXQuaHlkcmF0aW9uRGF0YSAmJiBpbml0Lmh5ZHJhdGlvbkRhdGEuYWN0aW9uRGF0YSB8fCBudWxsLFxuICAgIGVycm9yczogaW5pdC5oeWRyYXRpb25EYXRhICYmIGluaXQuaHlkcmF0aW9uRGF0YS5lcnJvcnMgfHwgaW5pdGlhbEVycm9ycyxcbiAgICBmZXRjaGVyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICBibG9ja2VyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICB9O1xuICBsZXQgcGVuZGluZ0FjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICBsZXQgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9IGZhbHNlO1xuICBsZXQgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyO1xuICBsZXQgcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICBsZXQgYXBwbGllZFZpZXdUcmFuc2l0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCByZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIgPSBudWxsO1xuICBsZXQgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID0gZmFsc2U7XG4gIGxldCBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gIGxldCBjYW5jZWxsZWRGZXRjaGVyTG9hZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgZmV0Y2hDb250cm9sbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBpbmNyZW1lbnRpbmdMb2FkSWQgPSAwO1xuICBsZXQgcGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPSAtMTtcbiAgbGV0IGZldGNoUmVsb2FkSWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGZldGNoUmVkaXJlY3RJZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgZmV0Y2hMb2FkTWF0Y2hlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBhY3RpdmVGZXRjaGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IGJsb2NrZXJGdW5jdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlID0gdm9pZCAwO1xuICBsZXQgcGVuZGluZ1JldmFsaWRhdGlvbkRmZCA9IG51bGw7XG4gIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XG4gICAgdW5saXN0ZW5IaXN0b3J5ID0gaW5pdC5oaXN0b3J5Lmxpc3RlbihcbiAgICAgICh7IGFjdGlvbjogaGlzdG9yeUFjdGlvbiwgbG9jYXRpb24sIGRlbHRhIH0pID0+IHtcbiAgICAgICAgaWYgKHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSkge1xuICAgICAgICAgIHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSgpO1xuICAgICAgICAgIHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSA9IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBibG9ja2VyRnVuY3Rpb25zLnNpemUgPT09IDAgfHwgZGVsdGEgIT0gbnVsbCxcbiAgICAgICAgICBcIllvdSBhcmUgdHJ5aW5nIHRvIHVzZSBhIGJsb2NrZXIgb24gYSBQT1AgbmF2aWdhdGlvbiB0byBhIGxvY2F0aW9uIHRoYXQgd2FzIG5vdCBjcmVhdGVkIGJ5IEByZW1peC1ydW4vcm91dGVyLiBUaGlzIHdpbGwgZmFpbCBzaWxlbnRseSBpbiBwcm9kdWN0aW9uLiBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IGFyZSBuYXZpZ2F0aW5nIG91dHNpZGUgdGhlIHJvdXRlciB2aWEgYHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZWAvYHdpbmRvdy5sb2NhdGlvbi5oYXNoYCBpbnN0ZWFkIG9mIHVzaW5nIHJvdXRlciBuYXZpZ2F0aW9uIEFQSXMuICBUaGlzIGNhbiBhbHNvIGhhcHBlbiBpZiB5b3UgYXJlIHVzaW5nIGNyZWF0ZUhhc2hSb3V0ZXIgYW5kIHRoZSB1c2VyIG1hbnVhbGx5IGNoYW5nZXMgdGhlIFVSTC5cIlxuICAgICAgICApO1xuICAgICAgICBsZXQgYmxvY2tlcktleSA9IHNob3VsZEJsb2NrTmF2aWdhdGlvbih7XG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIGhpc3RvcnlBY3Rpb25cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChibG9ja2VyS2V5ICYmIGRlbHRhICE9IG51bGwpIHtcbiAgICAgICAgICBsZXQgbmV4dEhpc3RvcnlVcGRhdGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHVuYmxvY2tCbG9ja2VySGlzdG9yeVVwZGF0ZSA9IHJlc29sdmU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5pdC5oaXN0b3J5LmdvKGRlbHRhICogLTEpO1xuICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICAgICAgc3RhdGU6IFwiYmxvY2tlZFwiLFxuICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICBwcm9jZWVkKCkge1xuICAgICAgICAgICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgICAgICAgICBzdGF0ZTogXCJwcm9jZWVkaW5nXCIsXG4gICAgICAgICAgICAgICAgcHJvY2VlZDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIHJlc2V0OiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgbG9jYXRpb25cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIG5leHRIaXN0b3J5VXBkYXRlUHJvbWlzZS50aGVuKCgpID0+IGluaXQuaGlzdG9yeS5nbyhkZWx0YSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc2V0KCkge1xuICAgICAgICAgICAgICBsZXQgYmxvY2tlcnMgPSBuZXcgTWFwKHN0YXRlLmJsb2NrZXJzKTtcbiAgICAgICAgICAgICAgYmxvY2tlcnMuc2V0KGJsb2NrZXJLZXksIElETEVfQkxPQ0tFUik7XG4gICAgICAgICAgICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdGFydE5hdmlnYXRpb24oaGlzdG9yeUFjdGlvbiwgbG9jYXRpb24pO1xuICAgICAgfVxuICAgICk7XG4gICAgaWYgKGlzQnJvd3NlcjIpIHtcbiAgICAgIHJlc3RvcmVBcHBsaWVkVHJhbnNpdGlvbnMocm91dGVyV2luZG93LCBhcHBsaWVkVmlld1RyYW5zaXRpb25zKTtcbiAgICAgIGxldCBfc2F2ZUFwcGxpZWRUcmFuc2l0aW9ucyA9ICgpID0+IHBlcnNpc3RBcHBsaWVkVHJhbnNpdGlvbnMocm91dGVyV2luZG93LCBhcHBsaWVkVmlld1RyYW5zaXRpb25zKTtcbiAgICAgIHJvdXRlcldpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgX3NhdmVBcHBsaWVkVHJhbnNpdGlvbnMpO1xuICAgICAgcmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyID0gKCkgPT4gcm91dGVyV2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBfc2F2ZUFwcGxpZWRUcmFuc2l0aW9ucyk7XG4gICAgfVxuICAgIGlmICghc3RhdGUuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIHN0YXJ0TmF2aWdhdGlvbihcIlBPUFwiIC8qIFBvcCAqLywgc3RhdGUubG9jYXRpb24sIHtcbiAgICAgICAgaW5pdGlhbEh5ZHJhdGlvbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZXI7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICBpZiAodW5saXN0ZW5IaXN0b3J5KSB7XG4gICAgICB1bmxpc3Rlbkhpc3RvcnkoKTtcbiAgICB9XG4gICAgaWYgKHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgcmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyKCk7XG4gICAgfVxuICAgIHN1YnNjcmliZXJzLmNsZWFyKCk7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyICYmIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5hYm9ydCgpO1xuICAgIHN0YXRlLmZldGNoZXJzLmZvckVhY2goKF8sIGtleSkgPT4gZGVsZXRlRmV0Y2hlcihrZXkpKTtcbiAgICBzdGF0ZS5ibG9ja2Vycy5mb3JFYWNoKChfLCBrZXkpID0+IGRlbGV0ZUJsb2NrZXIoa2V5KSk7XG4gIH1cbiAgZnVuY3Rpb24gc3Vic2NyaWJlKGZuKSB7XG4gICAgc3Vic2NyaWJlcnMuYWRkKGZuKTtcbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaWJlcnMuZGVsZXRlKGZuKTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVTdGF0ZShuZXdTdGF0ZSwgb3B0cyA9IHt9KSB7XG4gICAgc3RhdGUgPSB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIC4uLm5ld1N0YXRlXG4gICAgfTtcbiAgICBsZXQgdW5tb3VudGVkRmV0Y2hlcnMgPSBbXTtcbiAgICBsZXQgbW91bnRlZEZldGNoZXJzID0gW107XG4gICAgc3RhdGUuZmV0Y2hlcnMuZm9yRWFjaCgoZmV0Y2hlciwga2V5KSA9PiB7XG4gICAgICBpZiAoZmV0Y2hlci5zdGF0ZSA9PT0gXCJpZGxlXCIpIHtcbiAgICAgICAgaWYgKGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uaGFzKGtleSkpIHtcbiAgICAgICAgICB1bm1vdW50ZWRGZXRjaGVycy5wdXNoKGtleSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbW91bnRlZEZldGNoZXJzLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICBpZiAoIXN0YXRlLmZldGNoZXJzLmhhcyhrZXkpICYmICFmZXRjaENvbnRyb2xsZXJzLmhhcyhrZXkpKSB7XG4gICAgICAgIHVubW91bnRlZEZldGNoZXJzLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBbLi4uc3Vic2NyaWJlcnNdLmZvckVhY2goXG4gICAgICAoc3Vic2NyaWJlcikgPT4gc3Vic2NyaWJlcihzdGF0ZSwge1xuICAgICAgICBkZWxldGVkRmV0Y2hlcnM6IHVubW91bnRlZEZldGNoZXJzLFxuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHM6IG9wdHMudmlld1RyYW5zaXRpb25PcHRzLFxuICAgICAgICBmbHVzaFN5bmM6IG9wdHMuZmx1c2hTeW5jID09PSB0cnVlXG4gICAgICB9KVxuICAgICk7XG4gICAgdW5tb3VudGVkRmV0Y2hlcnMuZm9yRWFjaCgoa2V5KSA9PiBkZWxldGVGZXRjaGVyKGtleSkpO1xuICAgIG1vdW50ZWRGZXRjaGVycy5mb3JFYWNoKChrZXkpID0+IHN0YXRlLmZldGNoZXJzLmRlbGV0ZShrZXkpKTtcbiAgfVxuICBmdW5jdGlvbiBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIG5ld1N0YXRlLCB7IGZsdXNoU3luYyB9ID0ge30pIHtcbiAgICBsZXQgaXNBY3Rpb25SZWxvYWQgPSBzdGF0ZS5hY3Rpb25EYXRhICE9IG51bGwgJiYgc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kICE9IG51bGwgJiYgaXNNdXRhdGlvbk1ldGhvZChzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QpICYmIHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgPT09IFwibG9hZGluZ1wiICYmIGxvY2F0aW9uLnN0YXRlPy5faXNSZWRpcmVjdCAhPT0gdHJ1ZTtcbiAgICBsZXQgYWN0aW9uRGF0YTtcbiAgICBpZiAobmV3U3RhdGUuYWN0aW9uRGF0YSkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1N0YXRlLmFjdGlvbkRhdGEpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYWN0aW9uRGF0YSA9IG5ld1N0YXRlLmFjdGlvbkRhdGE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3Rpb25EYXRhID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzQWN0aW9uUmVsb2FkKSB7XG4gICAgICBhY3Rpb25EYXRhID0gc3RhdGUuYWN0aW9uRGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aW9uRGF0YSA9IG51bGw7XG4gICAgfVxuICAgIGxldCBsb2FkZXJEYXRhID0gbmV3U3RhdGUubG9hZGVyRGF0YSA/IG1lcmdlTG9hZGVyRGF0YShcbiAgICAgIHN0YXRlLmxvYWRlckRhdGEsXG4gICAgICBuZXdTdGF0ZS5sb2FkZXJEYXRhLFxuICAgICAgbmV3U3RhdGUubWF0Y2hlcyB8fCBbXSxcbiAgICAgIG5ld1N0YXRlLmVycm9yc1xuICAgICkgOiBzdGF0ZS5sb2FkZXJEYXRhO1xuICAgIGxldCBibG9ja2VycyA9IHN0YXRlLmJsb2NrZXJzO1xuICAgIGlmIChibG9ja2Vycy5zaXplID4gMCkge1xuICAgICAgYmxvY2tlcnMgPSBuZXcgTWFwKGJsb2NrZXJzKTtcbiAgICAgIGJsb2NrZXJzLmZvckVhY2goKF8sIGspID0+IGJsb2NrZXJzLnNldChrLCBJRExFX0JMT0NLRVIpKTtcbiAgICB9XG4gICAgbGV0IHByZXZlbnRTY3JvbGxSZXNldCA9IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPT09IHRydWUgfHwgc3RhdGUubmF2aWdhdGlvbi5mb3JtTWV0aG9kICE9IG51bGwgJiYgaXNNdXRhdGlvbk1ldGhvZChzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QpICYmIGxvY2F0aW9uLnN0YXRlPy5faXNSZWRpcmVjdCAhPT0gdHJ1ZTtcbiAgICBpZiAoaW5GbGlnaHREYXRhUm91dGVzKSB7XG4gICAgICBkYXRhUm91dGVzID0gaW5GbGlnaHREYXRhUm91dGVzO1xuICAgICAgaW5GbGlnaHREYXRhUm91dGVzID0gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uKSB7XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uID09PSBcIlBPUFwiIC8qIFBvcCAqLykge1xuICAgIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvbiA9PT0gXCJQVVNIXCIgLyogUHVzaCAqLykge1xuICAgICAgaW5pdC5oaXN0b3J5LnB1c2gobG9jYXRpb24sIGxvY2F0aW9uLnN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb24gPT09IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi8pIHtcbiAgICAgIGluaXQuaGlzdG9yeS5yZXBsYWNlKGxvY2F0aW9uLCBsb2NhdGlvbi5zdGF0ZSk7XG4gICAgfVxuICAgIGxldCB2aWV3VHJhbnNpdGlvbk9wdHM7XG4gICAgaWYgKHBlbmRpbmdBY3Rpb24gPT09IFwiUE9QXCIgLyogUG9wICovKSB7XG4gICAgICBsZXQgcHJpb3JQYXRocyA9IGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMuZ2V0KHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgIGlmIChwcmlvclBhdGhzICYmIHByaW9yUGF0aHMuaGFzKGxvY2F0aW9uLnBhdGhuYW1lKSkge1xuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPSB7XG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IGxvY2F0aW9uXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMuaGFzKGxvY2F0aW9uLnBhdGhuYW1lKSkge1xuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPSB7XG4gICAgICAgICAgY3VycmVudExvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkKSB7XG4gICAgICBsZXQgdG9QYXRocyA9IGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMuZ2V0KHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgIGlmICh0b1BhdGhzKSB7XG4gICAgICAgIHRvUGF0aHMuYWRkKGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvUGF0aHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbbG9jYXRpb24ucGF0aG5hbWVdKTtcbiAgICAgICAgYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5zZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUsIHRvUGF0aHMpO1xuICAgICAgfVxuICAgICAgdmlld1RyYW5zaXRpb25PcHRzID0ge1xuICAgICAgICBjdXJyZW50TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICBuZXh0TG9jYXRpb246IGxvY2F0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZShcbiAgICAgIHtcbiAgICAgICAgLi4ubmV3U3RhdGUsXG4gICAgICAgIC8vIG1hdGNoZXMsIGVycm9ycywgZmV0Y2hlcnMgZ28gdGhyb3VnaCBhcy1pc1xuICAgICAgICBhY3Rpb25EYXRhLFxuICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICBoaXN0b3J5QWN0aW9uOiBwZW5kaW5nQWN0aW9uLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICAgIG5hdmlnYXRpb246IElETEVfTkFWSUdBVElPTixcbiAgICAgICAgcmV2YWxpZGF0aW9uOiBcImlkbGVcIixcbiAgICAgICAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKFxuICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgIG5ld1N0YXRlLm1hdGNoZXMgfHwgc3RhdGUubWF0Y2hlc1xuICAgICAgICApLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIGJsb2NrZXJzXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHMsXG4gICAgICAgIGZsdXNoU3luYzogZmx1c2hTeW5jID09PSB0cnVlXG4gICAgICB9XG4gICAgKTtcbiAgICBwZW5kaW5nQWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gICAgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9IGZhbHNlO1xuICAgIHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPSBmYWxzZTtcbiAgICBpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gPSBmYWxzZTtcbiAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gICAgcGVuZGluZ1JldmFsaWRhdGlvbkRmZD8ucmVzb2x2ZSgpO1xuICAgIHBlbmRpbmdSZXZhbGlkYXRpb25EZmQgPSBudWxsO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIG5hdmlnYXRlKHRvLCBvcHRzKSB7XG4gICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgaW5pdC5oaXN0b3J5LmdvKHRvKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplVG8oXG4gICAgICBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIHN0YXRlLm1hdGNoZXMsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIHRvLFxuICAgICAgb3B0cz8uZnJvbVJvdXRlSWQsXG4gICAgICBvcHRzPy5yZWxhdGl2ZVxuICAgICk7XG4gICAgbGV0IHsgcGF0aCwgc3VibWlzc2lvbiwgZXJyb3IgfSA9IG5vcm1hbGl6ZU5hdmlnYXRlT3B0aW9ucyhcbiAgICAgIGZhbHNlLFxuICAgICAgbm9ybWFsaXplZFBhdGgsXG4gICAgICBvcHRzXG4gICAgKTtcbiAgICBsZXQgY3VycmVudExvY2F0aW9uID0gc3RhdGUubG9jYXRpb247XG4gICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHN0YXRlLmxvY2F0aW9uLCBwYXRoLCBvcHRzICYmIG9wdHMuc3RhdGUpO1xuICAgIG5leHRMb2NhdGlvbiA9IHtcbiAgICAgIC4uLm5leHRMb2NhdGlvbixcbiAgICAgIC4uLmluaXQuaGlzdG9yeS5lbmNvZGVMb2NhdGlvbihuZXh0TG9jYXRpb24pXG4gICAgfTtcbiAgICBsZXQgdXNlclJlcGxhY2UgPSBvcHRzICYmIG9wdHMucmVwbGFjZSAhPSBudWxsID8gb3B0cy5yZXBsYWNlIDogdm9pZCAwO1xuICAgIGxldCBoaXN0b3J5QWN0aW9uID0gXCJQVVNIXCIgLyogUHVzaCAqLztcbiAgICBpZiAodXNlclJlcGxhY2UgPT09IHRydWUpIHtcbiAgICAgIGhpc3RvcnlBY3Rpb24gPSBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovO1xuICAgIH0gZWxzZSBpZiAodXNlclJlcGxhY2UgPT09IGZhbHNlKSB7XG4gICAgfSBlbHNlIGlmIChzdWJtaXNzaW9uICE9IG51bGwgJiYgaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpICYmIHN1Ym1pc3Npb24uZm9ybUFjdGlvbiA9PT0gc3RhdGUubG9jYXRpb24ucGF0aG5hbWUgKyBzdGF0ZS5sb2NhdGlvbi5zZWFyY2gpIHtcbiAgICAgIGhpc3RvcnlBY3Rpb24gPSBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovO1xuICAgIH1cbiAgICBsZXQgcHJldmVudFNjcm9sbFJlc2V0ID0gb3B0cyAmJiBcInByZXZlbnRTY3JvbGxSZXNldFwiIGluIG9wdHMgPyBvcHRzLnByZXZlbnRTY3JvbGxSZXNldCA9PT0gdHJ1ZSA6IHZvaWQgMDtcbiAgICBsZXQgZmx1c2hTeW5jID0gKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlO1xuICAgIGxldCBibG9ja2VyS2V5ID0gc2hvdWxkQmxvY2tOYXZpZ2F0aW9uKHtcbiAgICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICAgIG5leHRMb2NhdGlvbixcbiAgICAgIGhpc3RvcnlBY3Rpb25cbiAgICB9KTtcbiAgICBpZiAoYmxvY2tlcktleSkge1xuICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5LCB7XG4gICAgICAgIHN0YXRlOiBcImJsb2NrZWRcIixcbiAgICAgICAgbG9jYXRpb246IG5leHRMb2NhdGlvbixcbiAgICAgICAgcHJvY2VlZCgpIHtcbiAgICAgICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgICAgIHN0YXRlOiBcInByb2NlZWRpbmdcIixcbiAgICAgICAgICAgIHByb2NlZWQ6IHZvaWQgMCxcbiAgICAgICAgICAgIHJlc2V0OiB2b2lkIDAsXG4gICAgICAgICAgICBsb2NhdGlvbjogbmV4dExvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmF2aWdhdGUodG8sIG9wdHMpO1xuICAgICAgICB9LFxuICAgICAgICByZXNldCgpIHtcbiAgICAgICAgICBsZXQgYmxvY2tlcnMgPSBuZXcgTWFwKHN0YXRlLmJsb2NrZXJzKTtcbiAgICAgICAgICBibG9ja2Vycy5zZXQoYmxvY2tlcktleSwgSURMRV9CTE9DS0VSKTtcbiAgICAgICAgICB1cGRhdGVTdGF0ZSh7IGJsb2NrZXJzIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgc3RhcnROYXZpZ2F0aW9uKGhpc3RvcnlBY3Rpb24sIG5leHRMb2NhdGlvbiwge1xuICAgICAgc3VibWlzc2lvbixcbiAgICAgIC8vIFNlbmQgdGhyb3VnaCB0aGUgZm9ybURhdGEgc2VyaWFsaXphdGlvbiBlcnJvciBpZiB3ZSBoYXZlIG9uZSBzbyB3ZSBjYW5cbiAgICAgIC8vIHJlbmRlciBhdCB0aGUgcmlnaHQgZXJyb3IgYm91bmRhcnkgYWZ0ZXIgd2UgbWF0Y2ggcm91dGVzXG4gICAgICBwZW5kaW5nRXJyb3I6IGVycm9yLFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgcmVwbGFjZTogb3B0cyAmJiBvcHRzLnJlcGxhY2UsXG4gICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogb3B0cyAmJiBvcHRzLnZpZXdUcmFuc2l0aW9uLFxuICAgICAgZmx1c2hTeW5jXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcmV2YWxpZGF0ZSgpIHtcbiAgICBpZiAoIXBlbmRpbmdSZXZhbGlkYXRpb25EZmQpIHtcbiAgICAgIHBlbmRpbmdSZXZhbGlkYXRpb25EZmQgPSBjcmVhdGVEZWZlcnJlZCgpO1xuICAgIH1cbiAgICBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpO1xuICAgIHVwZGF0ZVN0YXRlKHsgcmV2YWxpZGF0aW9uOiBcImxvYWRpbmdcIiB9KTtcbiAgICBsZXQgcHJvbWlzZSA9IHBlbmRpbmdSZXZhbGlkYXRpb25EZmQucHJvbWlzZTtcbiAgICBpZiAoc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJzdWJtaXR0aW5nXCIpIHtcbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cbiAgICBpZiAoc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJpZGxlXCIpIHtcbiAgICAgIHN0YXJ0TmF2aWdhdGlvbihzdGF0ZS5oaXN0b3J5QWN0aW9uLCBzdGF0ZS5sb2NhdGlvbiwge1xuICAgICAgICBzdGFydFVuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb246IHRydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIHN0YXJ0TmF2aWdhdGlvbihcbiAgICAgIHBlbmRpbmdBY3Rpb24gfHwgc3RhdGUuaGlzdG9yeUFjdGlvbixcbiAgICAgIHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24sXG4gICAgICB7XG4gICAgICAgIG92ZXJyaWRlTmF2aWdhdGlvbjogc3RhdGUubmF2aWdhdGlvbixcbiAgICAgICAgLy8gUHJveHkgdGhyb3VnaCBhbnkgcmVuZGluZyB2aWV3IHRyYW5zaXRpb25cbiAgICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgPT09IHRydWVcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0TmF2aWdhdGlvbihoaXN0b3J5QWN0aW9uLCBsb2NhdGlvbiwgb3B0cykge1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciAmJiBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuICAgIHBlbmRpbmdBY3Rpb24gPSBoaXN0b3J5QWN0aW9uO1xuICAgIGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA9IChvcHRzICYmIG9wdHMuc3RhcnRVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uKSA9PT0gdHJ1ZTtcbiAgICBzYXZlU2Nyb2xsUG9zaXRpb24oc3RhdGUubG9jYXRpb24sIHN0YXRlLm1hdGNoZXMpO1xuICAgIHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQgPSAob3B0cyAmJiBvcHRzLnByZXZlbnRTY3JvbGxSZXNldCkgPT09IHRydWU7XG4gICAgcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9IChvcHRzICYmIG9wdHMuZW5hYmxlVmlld1RyYW5zaXRpb24pID09PSB0cnVlO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCBsb2FkaW5nTmF2aWdhdGlvbiA9IG9wdHMgJiYgb3B0cy5vdmVycmlkZU5hdmlnYXRpb247XG4gICAgbGV0IG1hdGNoZXMgPSBvcHRzPy5pbml0aWFsSHlkcmF0aW9uICYmIHN0YXRlLm1hdGNoZXMgJiYgc3RhdGUubWF0Y2hlcy5sZW5ndGggPiAwICYmICFpbml0aWFsTWF0Y2hlc0lzRk9XID8gKFxuICAgICAgLy8gYG1hdGNoUm91dGVzKClgIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkIGlmIHdlJ3JlIGluIGhlcmUgdmlhIGByb3V0ZXIuaW5pdGlhbGl6ZSgpYFxuICAgICAgc3RhdGUubWF0Y2hlc1xuICAgICkgOiBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgbG9jYXRpb24sIGJhc2VuYW1lKTtcbiAgICBsZXQgZmx1c2hTeW5jID0gKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlO1xuICAgIGlmIChtYXRjaGVzICYmIHN0YXRlLmluaXRpYWxpemVkICYmICFpc1JldmFsaWRhdGlvblJlcXVpcmVkICYmIGlzSGFzaENoYW5nZU9ubHkoc3RhdGUubG9jYXRpb24sIGxvY2F0aW9uKSAmJiAhKG9wdHMgJiYgb3B0cy5zdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2Qob3B0cy5zdWJtaXNzaW9uLmZvcm1NZXRob2QpKSkge1xuICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKGxvY2F0aW9uLCB7IG1hdGNoZXMgfSwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIobWF0Y2hlcywgcm91dGVzVG9Vc2UsIGxvY2F0aW9uLnBhdGhuYW1lKTtcbiAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlICYmIGZvZ09mV2FyLm1hdGNoZXMpIHtcbiAgICAgIG1hdGNoZXMgPSBmb2dPZldhci5tYXRjaGVzO1xuICAgIH1cbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIGxldCB7IGVycm9yLCBub3RGb3VuZE1hdGNoZXMsIHJvdXRlIH0gPSBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQoXG4gICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICApO1xuICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAge1xuICAgICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbGV0IHJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLnNpZ25hbCxcbiAgICAgIG9wdHMgJiYgb3B0cy5zdWJtaXNzaW9uXG4gICAgKTtcbiAgICBsZXQgc2NvcGVkQ29udGV4dCA9IG5ldyB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIoXG4gICAgICBpbml0LnVuc3RhYmxlX2dldENvbnRleHQgPyBhd2FpdCBpbml0LnVuc3RhYmxlX2dldENvbnRleHQoKSA6IHZvaWQgMFxuICAgICk7XG4gICAgbGV0IHBlbmRpbmdBY3Rpb25SZXN1bHQ7XG4gICAgaWYgKG9wdHMgJiYgb3B0cy5wZW5kaW5nRXJyb3IpIHtcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQgPSBbXG4gICAgICAgIGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcykucm91dGUuaWQsXG4gICAgICAgIHsgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLCBlcnJvcjogb3B0cy5wZW5kaW5nRXJyb3IgfVxuICAgICAgXTtcbiAgICB9IGVsc2UgaWYgKG9wdHMgJiYgb3B0cy5zdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2Qob3B0cy5zdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgICBsZXQgYWN0aW9uUmVzdWx0ID0gYXdhaXQgaGFuZGxlQWN0aW9uKFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgb3B0cy5zdWJtaXNzaW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICAgIHsgcmVwbGFjZTogb3B0cy5yZXBsYWNlLCBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIGlmIChhY3Rpb25SZXN1bHQuc2hvcnRDaXJjdWl0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGFjdGlvblJlc3VsdC5wZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgICAgIGxldCBbcm91dGVJZCwgcmVzdWx0XSA9IGFjdGlvblJlc3VsdC5wZW5kaW5nQWN0aW9uUmVzdWx0O1xuICAgICAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpICYmIGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcikgJiYgcmVzdWx0LmVycm9yLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcbiAgICAgICAgICBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIHtcbiAgICAgICAgICAgIG1hdGNoZXM6IGFjdGlvblJlc3VsdC5tYXRjaGVzLFxuICAgICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgICAgW3JvdXRlSWRdOiByZXN1bHQuZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG1hdGNoZXMgPSBhY3Rpb25SZXN1bHQubWF0Y2hlcyB8fCBtYXRjaGVzO1xuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCA9IGFjdGlvblJlc3VsdC5wZW5kaW5nQWN0aW9uUmVzdWx0O1xuICAgICAgbG9hZGluZ05hdmlnYXRpb24gPSBnZXRMb2FkaW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgb3B0cy5zdWJtaXNzaW9uKTtcbiAgICAgIGZsdXNoU3luYyA9IGZhbHNlO1xuICAgICAgZm9nT2ZXYXIuYWN0aXZlID0gZmFsc2U7XG4gICAgICByZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgICAgcmVxdWVzdC51cmwsXG4gICAgICAgIHJlcXVlc3Quc2lnbmFsXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQge1xuICAgICAgc2hvcnRDaXJjdWl0ZWQsXG4gICAgICBtYXRjaGVzOiB1cGRhdGVkTWF0Y2hlcyxcbiAgICAgIGxvYWRlckRhdGEsXG4gICAgICBlcnJvcnNcbiAgICB9ID0gYXdhaXQgaGFuZGxlTG9hZGVycyhcbiAgICAgIHJlcXVlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgbG9hZGluZ05hdmlnYXRpb24sXG4gICAgICBvcHRzICYmIG9wdHMuc3VibWlzc2lvbixcbiAgICAgIG9wdHMgJiYgb3B0cy5mZXRjaGVyU3VibWlzc2lvbixcbiAgICAgIG9wdHMgJiYgb3B0cy5yZXBsYWNlLFxuICAgICAgb3B0cyAmJiBvcHRzLmluaXRpYWxIeWRyYXRpb24gPT09IHRydWUsXG4gICAgICBmbHVzaFN5bmMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0XG4gICAgKTtcbiAgICBpZiAoc2hvcnRDaXJjdWl0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcbiAgICBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIHtcbiAgICAgIG1hdGNoZXM6IHVwZGF0ZWRNYXRjaGVzIHx8IG1hdGNoZXMsXG4gICAgICAuLi5nZXRBY3Rpb25EYXRhRm9yQ29tbWl0KHBlbmRpbmdBY3Rpb25SZXN1bHQpLFxuICAgICAgbG9hZGVyRGF0YSxcbiAgICAgIGVycm9yc1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFjdGlvbihyZXF1ZXN0LCBsb2NhdGlvbiwgc3VibWlzc2lvbiwgbWF0Y2hlcywgc2NvcGVkQ29udGV4dCwgaXNGb2dPZldhciwgb3B0cyA9IHt9KSB7XG4gICAgaW50ZXJydXB0QWN0aXZlTG9hZHMoKTtcbiAgICBsZXQgbmF2aWdhdGlvbiA9IGdldFN1Ym1pdHRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKTtcbiAgICB1cGRhdGVTdGF0ZSh7IG5hdmlnYXRpb24gfSwgeyBmbHVzaFN5bmM6IG9wdHMuZmx1c2hTeW5jID09PSB0cnVlIH0pO1xuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHJlcXVlc3Quc2lnbmFsXG4gICAgICApO1xuICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBsZXQgYm91bmRhcnlJZCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMpLnJvdXRlLmlkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzLFxuICAgICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFtcbiAgICAgICAgICAgIGJvdW5kYXJ5SWQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgICAgICAgZXJyb3I6IGRpc2NvdmVyUmVzdWx0LmVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBsZXQgeyBub3RGb3VuZE1hdGNoZXMsIGVycm9yLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFtcbiAgICAgICAgICAgIHJvdXRlLmlkLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCByZXN1bHQ7XG4gICAgbGV0IGFjdGlvbk1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pO1xuICAgIGlmICghYWN0aW9uTWF0Y2gucm91dGUuYWN0aW9uICYmICFhY3Rpb25NYXRjaC5yb3V0ZS5sYXp5KSB7XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgICAgcm91dGVJZDogYWN0aW9uTWF0Y2gucm91dGUuaWRcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgXCJhY3Rpb25cIixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgW2FjdGlvbk1hdGNoXSxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgICAgbnVsbFxuICAgICAgKTtcbiAgICAgIHJlc3VsdCA9IHJlc3VsdHNbYWN0aW9uTWF0Y2gucm91dGUuaWRdO1xuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgZm9yIChsZXQgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgICAgICAgIGlmIChyZXN1bHRzW21hdGNoLnJvdXRlLmlkXSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCByZXBsYWNlMjtcbiAgICAgIGlmIChvcHRzICYmIG9wdHMucmVwbGFjZSAhPSBudWxsKSB7XG4gICAgICAgIHJlcGxhY2UyID0gb3B0cy5yZXBsYWNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGxvY2F0aW9uMiA9IG5vcm1hbGl6ZVJlZGlyZWN0TG9jYXRpb24oXG4gICAgICAgICAgcmVzdWx0LnJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIiksXG4gICAgICAgICAgbmV3IFVSTChyZXF1ZXN0LnVybCksXG4gICAgICAgICAgYmFzZW5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgcmVwbGFjZTIgPSBsb2NhdGlvbjIgPT09IHN0YXRlLmxvY2F0aW9uLnBhdGhuYW1lICsgc3RhdGUubG9jYXRpb24uc2VhcmNoO1xuICAgICAgfVxuICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVzdWx0LCB0cnVlLCB7XG4gICAgICAgIHN1Ym1pc3Npb24sXG4gICAgICAgIHJlcGxhY2U6IHJlcGxhY2UyXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBhY3Rpb25NYXRjaC5yb3V0ZS5pZCk7XG4gICAgICBpZiAoKG9wdHMgJiYgb3B0cy5yZXBsYWNlKSAhPT0gdHJ1ZSkge1xuICAgICAgICBwZW5kaW5nQWN0aW9uID0gXCJQVVNIXCIgLyogUHVzaCAqLztcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkLCByZXN1bHRdXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlcyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQ6IFthY3Rpb25NYXRjaC5yb3V0ZS5pZCwgcmVzdWx0XVxuICAgIH07XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlTG9hZGVycyhyZXF1ZXN0LCBsb2NhdGlvbiwgbWF0Y2hlcywgc2NvcGVkQ29udGV4dCwgaXNGb2dPZldhciwgb3ZlcnJpZGVOYXZpZ2F0aW9uLCBzdWJtaXNzaW9uLCBmZXRjaGVyU3VibWlzc2lvbiwgcmVwbGFjZTIsIGluaXRpYWxIeWRyYXRpb24sIGZsdXNoU3luYywgcGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIGxldCBsb2FkaW5nTmF2aWdhdGlvbiA9IG92ZXJyaWRlTmF2aWdhdGlvbiB8fCBnZXRMb2FkaW5nTmF2aWdhdGlvbihsb2NhdGlvbiwgc3VibWlzc2lvbik7XG4gICAgbGV0IGFjdGl2ZVN1Ym1pc3Npb24gPSBzdWJtaXNzaW9uIHx8IGZldGNoZXJTdWJtaXNzaW9uIHx8IGdldFN1Ym1pc3Npb25Gcm9tTmF2aWdhdGlvbihsb2FkaW5nTmF2aWdhdGlvbik7XG4gICAgbGV0IHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSA9ICFpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gJiYgIWluaXRpYWxIeWRyYXRpb247XG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGlmIChzaG91bGRVcGRhdGVOYXZpZ2F0aW9uU3RhdGUpIHtcbiAgICAgICAgbGV0IGFjdGlvbkRhdGEgPSBnZXRVcGRhdGVkQWN0aW9uRGF0YShwZW5kaW5nQWN0aW9uUmVzdWx0KTtcbiAgICAgICAgdXBkYXRlU3RhdGUoXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmF2aWdhdGlvbjogbG9hZGluZ05hdmlnYXRpb24sXG4gICAgICAgICAgICAuLi5hY3Rpb25EYXRhICE9PSB2b2lkIDAgPyB7IGFjdGlvbkRhdGEgfSA6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICBmbHVzaFN5bmNcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICAgIHJlcXVlc3Quc2lnbmFsXG4gICAgICApO1xuICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBsZXQgYm91bmRhcnlJZCA9IGZpbmROZWFyZXN0Qm91bmRhcnkoZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMpLnJvdXRlLmlkO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IGRpc2NvdmVyUmVzdWx0LnBhcnRpYWxNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW2JvdW5kYXJ5SWRdOiBkaXNjb3ZlclJlc3VsdC5lcnJvclxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgbGV0IHsgZXJyb3IsIG5vdEZvdW5kTWF0Y2hlcywgcm91dGUgfSA9IGhhbmRsZU5hdmlnYXRpb25hbDQwNChcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2hlcyA9IGRpc2NvdmVyUmVzdWx0Lm1hdGNoZXM7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCBbbWF0Y2hlc1RvTG9hZCwgcmV2YWxpZGF0aW5nRmV0Y2hlcnNdID0gZ2V0TWF0Y2hlc1RvTG9hZChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGFjdGl2ZVN1Ym1pc3Npb24sXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGluaXRpYWxIeWRyYXRpb24gPT09IHRydWUsXG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkLFxuICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLFxuICAgICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbixcbiAgICAgIGZldGNoTG9hZE1hdGNoZXMsXG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLFxuICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgICApO1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID0gKytpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgaWYgKG1hdGNoZXNUb0xvYWQubGVuZ3RoID09PSAwICYmIHJldmFsaWRhdGluZ0ZldGNoZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgbGV0IHVwZGF0ZWRGZXRjaGVyczIgPSBtYXJrRmV0Y2hSZWRpcmVjdHNEb25lKCk7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICB7XG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICAvLyBDb21taXQgcGVuZGluZyBlcnJvciBpZiB3ZSdyZSBzaG9ydCBjaXJjdWl0aW5nXG4gICAgICAgICAgZXJyb3JzOiBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkgPyB7IFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvciB9IDogbnVsbCxcbiAgICAgICAgICAuLi5nZXRBY3Rpb25EYXRhRm9yQ29tbWl0KHBlbmRpbmdBY3Rpb25SZXN1bHQpLFxuICAgICAgICAgIC4uLnVwZGF0ZWRGZXRjaGVyczIgPyB7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9IDoge31cbiAgICAgICAgfSxcbiAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuICAgIGlmIChzaG91bGRVcGRhdGVOYXZpZ2F0aW9uU3RhdGUpIHtcbiAgICAgIGxldCB1cGRhdGVzID0ge307XG4gICAgICBpZiAoIWlzRm9nT2ZXYXIpIHtcbiAgICAgICAgdXBkYXRlcy5uYXZpZ2F0aW9uID0gbG9hZGluZ05hdmlnYXRpb247XG4gICAgICAgIGxldCBhY3Rpb25EYXRhID0gZ2V0VXBkYXRlZEFjdGlvbkRhdGEocGVuZGluZ0FjdGlvblJlc3VsdCk7XG4gICAgICAgIGlmIChhY3Rpb25EYXRhICE9PSB2b2lkIDApIHtcbiAgICAgICAgICB1cGRhdGVzLmFjdGlvbkRhdGEgPSBhY3Rpb25EYXRhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICB1cGRhdGVzLmZldGNoZXJzID0gZ2V0VXBkYXRlZFJldmFsaWRhdGluZ0ZldGNoZXJzKHJldmFsaWRhdGluZ0ZldGNoZXJzKTtcbiAgICAgIH1cbiAgICAgIHVwZGF0ZVN0YXRlKHVwZGF0ZXMsIHsgZmx1c2hTeW5jIH0pO1xuICAgIH1cbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4ge1xuICAgICAgYWJvcnRGZXRjaGVyKHJmLmtleSk7XG4gICAgICBpZiAocmYuY29udHJvbGxlcikge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLnNldChyZi5rZXksIHJmLmNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGxldCBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnMgPSAoKSA9PiByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChmKSA9PiBhYm9ydEZldGNoZXIoZi5rZXkpKTtcbiAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyKSB7XG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiYWJvcnRcIixcbiAgICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgeyBsb2FkZXJSZXN1bHRzLCBmZXRjaGVyUmVzdWx0cyB9ID0gYXdhaXQgY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBzY29wZWRDb250ZXh0XG4gICAgKTtcbiAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlcikge1xuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgICBcImFib3J0XCIsXG4gICAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKHJmLmtleSkpO1xuICAgIGxldCByZWRpcmVjdDIgPSBmaW5kUmVkaXJlY3QobG9hZGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0Mikge1xuICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVkaXJlY3QyLnJlc3VsdCwgdHJ1ZSwge1xuICAgICAgICByZXBsYWNlOiByZXBsYWNlMlxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICByZWRpcmVjdDIgPSBmaW5kUmVkaXJlY3QoZmV0Y2hlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdDIpIHtcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKHJlZGlyZWN0Mi5rZXkpO1xuICAgICAgYXdhaXQgc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24ocmVxdWVzdCwgcmVkaXJlY3QyLnJlc3VsdCwgdHJ1ZSwge1xuICAgICAgICByZXBsYWNlOiByZXBsYWNlMlxuICAgICAgfSk7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NMb2FkZXJEYXRhKFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHQsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIGZldGNoZXJSZXN1bHRzXG4gICAgKTtcbiAgICBpZiAoaW5pdGlhbEh5ZHJhdGlvbiAmJiBzdGF0ZS5lcnJvcnMpIHtcbiAgICAgIGVycm9ycyA9IHsgLi4uc3RhdGUuZXJyb3JzLCAuLi5lcnJvcnMgfTtcbiAgICB9XG4gICAgbGV0IHVwZGF0ZWRGZXRjaGVycyA9IG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKTtcbiAgICBsZXQgZGlkQWJvcnRGZXRjaExvYWRzID0gYWJvcnRTdGFsZUZldGNoTG9hZHMocGVuZGluZ05hdmlnYXRpb25Mb2FkSWQpO1xuICAgIGxldCBzaG91bGRVcGRhdGVGZXRjaGVycyA9IHVwZGF0ZWRGZXRjaGVycyB8fCBkaWRBYm9ydEZldGNoTG9hZHMgfHwgcmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoID4gMDtcbiAgICByZXR1cm4ge1xuICAgICAgbWF0Y2hlcyxcbiAgICAgIGxvYWRlckRhdGEsXG4gICAgICBlcnJvcnMsXG4gICAgICAuLi5zaG91bGRVcGRhdGVGZXRjaGVycyA/IHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0gOiB7fVxuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VXBkYXRlZEFjdGlvbkRhdGEocGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIGlmIChwZW5kaW5nQWN0aW9uUmVzdWx0ICYmICFpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZGF0YVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmFjdGlvbkRhdGEpIHtcbiAgICAgIGlmIChPYmplY3Qua2V5cyhzdGF0ZS5hY3Rpb25EYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gc3RhdGUuYWN0aW9uRGF0YTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0VXBkYXRlZFJldmFsaWRhdGluZ0ZldGNoZXJzKHJldmFsaWRhdGluZ0ZldGNoZXJzKSB7XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IHtcbiAgICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KHJmLmtleSk7XG4gICAgICBsZXQgcmV2YWxpZGF0aW5nRmV0Y2hlciA9IGdldExvYWRpbmdGZXRjaGVyKFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIGZldGNoZXIgPyBmZXRjaGVyLmRhdGEgOiB2b2lkIDBcbiAgICAgICk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQocmYua2V5LCByZXZhbGlkYXRpbmdGZXRjaGVyKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IE1hcChzdGF0ZS5mZXRjaGVycyk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gZmV0Y2gyKGtleSwgcm91dGVJZCwgaHJlZjIsIG9wdHMpIHtcbiAgICBhYm9ydEZldGNoZXIoa2V5KTtcbiAgICBsZXQgZmx1c2hTeW5jID0gKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZVRvKFxuICAgICAgc3RhdGUubG9jYXRpb24sXG4gICAgICBzdGF0ZS5tYXRjaGVzLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBocmVmMixcbiAgICAgIHJvdXRlSWQsXG4gICAgICBvcHRzPy5yZWxhdGl2ZVxuICAgICk7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgbm9ybWFsaXplZFBhdGgsIGJhc2VuYW1lKTtcbiAgICBsZXQgZm9nT2ZXYXIgPSBjaGVja0ZvZ09mV2FyKG1hdGNoZXMsIHJvdXRlc1RvVXNlLCBub3JtYWxpemVkUGF0aCk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSAmJiBmb2dPZldhci5tYXRjaGVzKSB7XG4gICAgICBtYXRjaGVzID0gZm9nT2ZXYXIubWF0Y2hlcztcbiAgICB9XG4gICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICBzZXRGZXRjaGVyRXJyb3IoXG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZCxcbiAgICAgICAgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IG5vcm1hbGl6ZWRQYXRoIH0pLFxuICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgeyBwYXRoLCBzdWJtaXNzaW9uLCBlcnJvciB9ID0gbm9ybWFsaXplTmF2aWdhdGVPcHRpb25zKFxuICAgICAgdHJ1ZSxcbiAgICAgIG5vcm1hbGl6ZWRQYXRoLFxuICAgICAgb3B0c1xuICAgICk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBlcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBtYXRjaCA9IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIHBhdGgpO1xuICAgIGxldCBzY29wZWRDb250ZXh0ID0gbmV3IHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcihcbiAgICAgIGluaXQudW5zdGFibGVfZ2V0Q29udGV4dCA/IGF3YWl0IGluaXQudW5zdGFibGVfZ2V0Q29udGV4dCgpIDogdm9pZCAwXG4gICAgKTtcbiAgICBsZXQgcHJldmVudFNjcm9sbFJlc2V0ID0gKG9wdHMgJiYgb3B0cy5wcmV2ZW50U2Nyb2xsUmVzZXQpID09PSB0cnVlO1xuICAgIGlmIChzdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgICAgYXdhaXQgaGFuZGxlRmV0Y2hlckFjdGlvbihcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkLFxuICAgICAgICBwYXRoLFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgICBmbHVzaFN5bmMsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgc3VibWlzc2lvblxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5zZXQoa2V5LCB7IHJvdXRlSWQsIHBhdGggfSk7XG4gICAgYXdhaXQgaGFuZGxlRmV0Y2hlckxvYWRlcihcbiAgICAgIGtleSxcbiAgICAgIHJvdXRlSWQsXG4gICAgICBwYXRoLFxuICAgICAgbWF0Y2gsXG4gICAgICBtYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgIGZsdXNoU3luYyxcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHN1Ym1pc3Npb25cbiAgICApO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZldGNoZXJBY3Rpb24oa2V5LCByb3V0ZUlkLCBwYXRoLCBtYXRjaCwgcmVxdWVzdE1hdGNoZXMsIHNjb3BlZENvbnRleHQsIGlzRm9nT2ZXYXIsIGZsdXNoU3luYywgcHJldmVudFNjcm9sbFJlc2V0LCBzdWJtaXNzaW9uKSB7XG4gICAgaW50ZXJydXB0QWN0aXZlTG9hZHMoKTtcbiAgICBmZXRjaExvYWRNYXRjaGVzLmRlbGV0ZShrZXkpO1xuICAgIGZ1bmN0aW9uIGRldGVjdEFuZEhhbmRsZTQwNUVycm9yKG0pIHtcbiAgICAgIGlmICghbS5yb3V0ZS5hY3Rpb24gJiYgIW0ucm91dGUubGF6eSkge1xuICAgICAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICAgIG1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgICAgICAgIHBhdGhuYW1lOiBwYXRoLFxuICAgICAgICAgIHJvdXRlSWRcbiAgICAgICAgfSk7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghaXNGb2dPZldhciAmJiBkZXRlY3RBbmRIYW5kbGU0MDVFcnJvcihtYXRjaCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGV4aXN0aW5nRmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldFN1Ym1pdHRpbmdGZXRjaGVyKHN1Ym1pc3Npb24sIGV4aXN0aW5nRmV0Y2hlciksIHtcbiAgICAgIGZsdXNoU3luY1xuICAgIH0pO1xuICAgIGxldCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbGV0IGZldGNoUmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgcGF0aCxcbiAgICAgIGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICBzdWJtaXNzaW9uXG4gICAgKTtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgbGV0IGRpc2NvdmVyUmVzdWx0ID0gYXdhaXQgZGlzY292ZXJSb3V0ZXMoXG4gICAgICAgIHJlcXVlc3RNYXRjaGVzLFxuICAgICAgICBwYXRoLFxuICAgICAgICBmZXRjaFJlcXVlc3Quc2lnbmFsLFxuICAgICAgICBrZXlcbiAgICAgICk7XG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZGlzY292ZXJSZXN1bHQuZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogcGF0aCB9KSxcbiAgICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3RNYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgICAgbWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChyZXF1ZXN0TWF0Y2hlcywgcGF0aCk7XG4gICAgICAgIGlmIChkZXRlY3RBbmRIYW5kbGU0MDVFcnJvcihtYXRjaCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZmV0Y2hDb250cm9sbGVycy5zZXQoa2V5LCBhYm9ydENvbnRyb2xsZXIpO1xuICAgIGxldCBvcmlnaW5hdGluZ0xvYWRJZCA9IGluY3JlbWVudGluZ0xvYWRJZDtcbiAgICBsZXQgYWN0aW9uUmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBcImFjdGlvblwiLFxuICAgICAgZmV0Y2hSZXF1ZXN0LFxuICAgICAgW21hdGNoXSxcbiAgICAgIHJlcXVlc3RNYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIGtleVxuICAgICk7XG4gICAgbGV0IGFjdGlvblJlc3VsdCA9IGFjdGlvblJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuICAgIGlmIChmZXRjaFJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmdldChrZXkpID09PSBhYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uaGFzKGtleSkpIHtcbiAgICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KGFjdGlvblJlc3VsdCkgfHwgaXNFcnJvclJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHZvaWQgMCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICAgICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID4gb3JpZ2luYXRpbmdMb2FkSWQpIHtcbiAgICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih2b2lkIDApKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQoa2V5KTtcbiAgICAgICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXRMb2FkaW5nRmV0Y2hlcihzdWJtaXNzaW9uKSk7XG4gICAgICAgICAgcmV0dXJuIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKGZldGNoUmVxdWVzdCwgYWN0aW9uUmVzdWx0LCBmYWxzZSwge1xuICAgICAgICAgICAgZmV0Y2hlclN1Ym1pc3Npb246IHN1Ym1pc3Npb24sXG4gICAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzRXJyb3JSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBhY3Rpb25SZXN1bHQuZXJyb3IpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBuZXh0TG9jYXRpb24gPSBzdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uIHx8IHN0YXRlLmxvY2F0aW9uO1xuICAgIGxldCByZXZhbGlkYXRpb25SZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBuZXh0TG9jYXRpb24sXG4gICAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgKTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgbWF0Y2hlcyA9IHN0YXRlLm5hdmlnYXRpb24uc3RhdGUgIT09IFwiaWRsZVwiID8gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24sIGJhc2VuYW1lKSA6IHN0YXRlLm1hdGNoZXM7XG4gICAgaW52YXJpYW50KG1hdGNoZXMsIFwiRGlkbid0IGZpbmQgYW55IG1hdGNoZXMgYWZ0ZXIgZmV0Y2hlciBhY3Rpb25cIik7XG4gICAgbGV0IGxvYWRJZCA9ICsraW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGZldGNoUmVsb2FkSWRzLnNldChrZXksIGxvYWRJZCk7XG4gICAgbGV0IGxvYWRGZXRjaGVyID0gZ2V0TG9hZGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgYWN0aW9uUmVzdWx0LmRhdGEpO1xuICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGxvYWRGZXRjaGVyKTtcbiAgICBsZXQgW21hdGNoZXNUb0xvYWQsIHJldmFsaWRhdGluZ0ZldGNoZXJzXSA9IGdldE1hdGNoZXNUb0xvYWQoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzdWJtaXNzaW9uLFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgZmFsc2UsXG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkLFxuICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLFxuICAgICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbixcbiAgICAgIGZldGNoTG9hZE1hdGNoZXMsXG4gICAgICBmZXRjaFJlZGlyZWN0SWRzLFxuICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIFttYXRjaC5yb3V0ZS5pZCwgYWN0aW9uUmVzdWx0XVxuICAgICk7XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZmlsdGVyKChyZikgPT4gcmYua2V5ICE9PSBrZXkpLmZvckVhY2goKHJmKSA9PiB7XG4gICAgICBsZXQgc3RhbGVLZXkgPSByZi5rZXk7XG4gICAgICBsZXQgZXhpc3RpbmdGZXRjaGVyMiA9IHN0YXRlLmZldGNoZXJzLmdldChzdGFsZUtleSk7XG4gICAgICBsZXQgcmV2YWxpZGF0aW5nRmV0Y2hlciA9IGdldExvYWRpbmdGZXRjaGVyKFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIGV4aXN0aW5nRmV0Y2hlcjIgPyBleGlzdGluZ0ZldGNoZXIyLmRhdGEgOiB2b2lkIDBcbiAgICAgICk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoc3RhbGVLZXksIHJldmFsaWRhdGluZ0ZldGNoZXIpO1xuICAgICAgYWJvcnRGZXRjaGVyKHN0YWxlS2V5KTtcbiAgICAgIGlmIChyZi5jb250cm9sbGVyKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KHN0YWxlS2V5LCByZi5jb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1cGRhdGVTdGF0ZSh7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9KTtcbiAgICBsZXQgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zID0gKCkgPT4gcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IGFib3J0RmV0Y2hlcihyZi5rZXkpKTtcbiAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICBcImFib3J0XCIsXG4gICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICApO1xuICAgIGxldCB7IGxvYWRlclJlc3VsdHMsIGZldGNoZXJSZXN1bHRzIH0gPSBhd2FpdCBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEoXG4gICAgICBtYXRjaGVzLFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgcmV2YWxpZGF0aW9uUmVxdWVzdCxcbiAgICAgIHNjb3BlZENvbnRleHRcbiAgICApO1xuICAgIGlmIChhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgXCJhYm9ydFwiLFxuICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgKTtcbiAgICBmZXRjaFJlbG9hZElkcy5kZWxldGUoa2V5KTtcbiAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHIpID0+IGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKHIua2V5KSk7XG4gICAgbGV0IHJlZGlyZWN0MiA9IGZpbmRSZWRpcmVjdChsb2FkZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QyKSB7XG4gICAgICByZXR1cm4gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oXG4gICAgICAgIHJldmFsaWRhdGlvblJlcXVlc3QsXG4gICAgICAgIHJlZGlyZWN0Mi5yZXN1bHQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7IHByZXZlbnRTY3JvbGxSZXNldCB9XG4gICAgICApO1xuICAgIH1cbiAgICByZWRpcmVjdDIgPSBmaW5kUmVkaXJlY3QoZmV0Y2hlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdDIpIHtcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKHJlZGlyZWN0Mi5rZXkpO1xuICAgICAgcmV0dXJuIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKFxuICAgICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgICByZWRpcmVjdDIucmVzdWx0LFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgeyBwcmV2ZW50U2Nyb2xsUmVzZXQgfVxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzIH0gPSBwcm9jZXNzTG9hZGVyRGF0YShcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICB2b2lkIDAsXG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycyxcbiAgICAgIGZldGNoZXJSZXN1bHRzXG4gICAgKTtcbiAgICBpZiAoc3RhdGUuZmV0Y2hlcnMuaGFzKGtleSkpIHtcbiAgICAgIGxldCBkb25lRmV0Y2hlciA9IGdldERvbmVGZXRjaGVyKGFjdGlvblJlc3VsdC5kYXRhKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGRvbmVGZXRjaGVyKTtcbiAgICB9XG4gICAgYWJvcnRTdGFsZUZldGNoTG9hZHMobG9hZElkKTtcbiAgICBpZiAoc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIgJiYgbG9hZElkID4gcGVuZGluZ05hdmlnYXRpb25Mb2FkSWQpIHtcbiAgICAgIGludmFyaWFudChwZW5kaW5nQWN0aW9uLCBcIkV4cGVjdGVkIHBlbmRpbmcgYWN0aW9uXCIpO1xuICAgICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyICYmIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgY29tcGxldGVOYXZpZ2F0aW9uKHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24sIHtcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YSxcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycylcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGVTdGF0ZSh7XG4gICAgICAgIGVycm9ycyxcbiAgICAgICAgbG9hZGVyRGF0YTogbWVyZ2VMb2FkZXJEYXRhKFxuICAgICAgICAgIHN0YXRlLmxvYWRlckRhdGEsXG4gICAgICAgICAgbG9hZGVyRGF0YSxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGVycm9yc1xuICAgICAgICApLFxuICAgICAgICBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycylcbiAgICAgIH0pO1xuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVGZXRjaGVyTG9hZGVyKGtleSwgcm91dGVJZCwgcGF0aCwgbWF0Y2gsIG1hdGNoZXMsIHNjb3BlZENvbnRleHQsIGlzRm9nT2ZXYXIsIGZsdXNoU3luYywgcHJldmVudFNjcm9sbFJlc2V0LCBzdWJtaXNzaW9uKSB7XG4gICAgbGV0IGV4aXN0aW5nRmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShcbiAgICAgIGtleSxcbiAgICAgIGdldExvYWRpbmdGZXRjaGVyKFxuICAgICAgICBzdWJtaXNzaW9uLFxuICAgICAgICBleGlzdGluZ0ZldGNoZXIgPyBleGlzdGluZ0ZldGNoZXIuZGF0YSA6IHZvaWQgMFxuICAgICAgKSxcbiAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICApO1xuICAgIGxldCBhYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgbGV0IGZldGNoUmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgcGF0aCxcbiAgICAgIGFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgICApO1xuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcGF0aCxcbiAgICAgICAgZmV0Y2hSZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAga2V5XG4gICAgICApO1xuICAgICAgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiYWJvcnRlZFwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGRpc2NvdmVyUmVzdWx0LmVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3IoXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IHBhdGggfSksXG4gICAgICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgICAgbWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBwYXRoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZmV0Y2hDb250cm9sbGVycy5zZXQoa2V5LCBhYm9ydENvbnRyb2xsZXIpO1xuICAgIGxldCBvcmlnaW5hdGluZ0xvYWRJZCA9IGluY3JlbWVudGluZ0xvYWRJZDtcbiAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBcImxvYWRlclwiLFxuICAgICAgZmV0Y2hSZXF1ZXN0LFxuICAgICAgW21hdGNoXSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAga2V5XG4gICAgKTtcbiAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgaWYgKGZldGNoQ29udHJvbGxlcnMuZ2V0KGtleSkgPT09IGFib3J0Q29udHJvbGxlcikge1xuICAgICAgZmV0Y2hDb250cm9sbGVycy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgaWYgKGZldGNoUmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodm9pZCAwKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA+IG9yaWdpbmF0aW5nTG9hZElkKSB7XG4gICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHZvaWQgMCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChrZXkpO1xuICAgICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihmZXRjaFJlcXVlc3QsIHJlc3VsdCwgZmFsc2UsIHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgcmVzdWx0LmVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIocmVzdWx0LmRhdGEpKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZWRpcmVjdDIsIGlzTmF2aWdhdGlvbiwge1xuICAgIHN1Ym1pc3Npb24sXG4gICAgZmV0Y2hlclN1Ym1pc3Npb24sXG4gICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgIHJlcGxhY2U6IHJlcGxhY2UyXG4gIH0gPSB7fSkge1xuICAgIGlmIChyZWRpcmVjdDIucmVzcG9uc2UuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJldmFsaWRhdGVcIikpIHtcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSB0cnVlO1xuICAgIH1cbiAgICBsZXQgbG9jYXRpb24gPSByZWRpcmVjdDIucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgICBpbnZhcmlhbnQobG9jYXRpb24sIFwiRXhwZWN0ZWQgYSBMb2NhdGlvbiBoZWFkZXIgb24gdGhlIHJlZGlyZWN0IFJlc3BvbnNlXCIpO1xuICAgIGxvY2F0aW9uID0gbm9ybWFsaXplUmVkaXJlY3RMb2NhdGlvbihcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbmV3IFVSTChyZXF1ZXN0LnVybCksXG4gICAgICBiYXNlbmFtZVxuICAgICk7XG4gICAgbGV0IHJlZGlyZWN0TG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihzdGF0ZS5sb2NhdGlvbiwgbG9jYXRpb24sIHtcbiAgICAgIF9pc1JlZGlyZWN0OiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKGlzQnJvd3NlcjIpIHtcbiAgICAgIGxldCBpc0RvY3VtZW50UmVsb2FkID0gZmFsc2U7XG4gICAgICBpZiAocmVkaXJlY3QyLnJlc3BvbnNlLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIikpIHtcbiAgICAgICAgaXNEb2N1bWVudFJlbG9hZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKEFCU09MVVRFX1VSTF9SRUdFWC50ZXN0KGxvY2F0aW9uKSkge1xuICAgICAgICBjb25zdCB1cmwgPSBpbml0Lmhpc3RvcnkuY3JlYXRlVVJMKGxvY2F0aW9uKTtcbiAgICAgICAgaXNEb2N1bWVudFJlbG9hZCA9IC8vIEhhcmQgcmVsb2FkIGlmIGl0J3MgYW4gYWJzb2x1dGUgVVJMIHRvIGEgbmV3IG9yaWdpblxuICAgICAgICB1cmwub3JpZ2luICE9PSByb3V0ZXJXaW5kb3cubG9jYXRpb24ub3JpZ2luIHx8IC8vIEhhcmQgcmVsb2FkIGlmIGl0J3MgYW4gYWJzb2x1dGUgVVJMIHRoYXQgZG9lcyBub3QgbWF0Y2ggb3VyIGJhc2VuYW1lXG4gICAgICAgIHN0cmlwQmFzZW5hbWUodXJsLnBhdGhuYW1lLCBiYXNlbmFtZSkgPT0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RvY3VtZW50UmVsb2FkKSB7XG4gICAgICAgIGlmIChyZXBsYWNlMikge1xuICAgICAgICAgIHJvdXRlcldpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKGxvY2F0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByb3V0ZXJXaW5kb3cubG9jYXRpb24uYXNzaWduKGxvY2F0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IHJlZGlyZWN0TmF2aWdhdGlvblR5cGUgPSByZXBsYWNlMiA9PT0gdHJ1ZSB8fCByZWRpcmVjdDIucmVzcG9uc2UuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlcGxhY2VcIikgPyBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovIDogXCJQVVNIXCIgLyogUHVzaCAqLztcbiAgICBsZXQgeyBmb3JtTWV0aG9kLCBmb3JtQWN0aW9uLCBmb3JtRW5jVHlwZSB9ID0gc3RhdGUubmF2aWdhdGlvbjtcbiAgICBpZiAoIXN1Ym1pc3Npb24gJiYgIWZldGNoZXJTdWJtaXNzaW9uICYmIGZvcm1NZXRob2QgJiYgZm9ybUFjdGlvbiAmJiBmb3JtRW5jVHlwZSkge1xuICAgICAgc3VibWlzc2lvbiA9IGdldFN1Ym1pc3Npb25Gcm9tTmF2aWdhdGlvbihzdGF0ZS5uYXZpZ2F0aW9uKTtcbiAgICB9XG4gICAgbGV0IGFjdGl2ZVN1Ym1pc3Npb24gPSBzdWJtaXNzaW9uIHx8IGZldGNoZXJTdWJtaXNzaW9uO1xuICAgIGlmIChyZWRpcmVjdFByZXNlcnZlTWV0aG9kU3RhdHVzQ29kZXMuaGFzKHJlZGlyZWN0Mi5yZXNwb25zZS5zdGF0dXMpICYmIGFjdGl2ZVN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChhY3RpdmVTdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgICBhd2FpdCBzdGFydE5hdmlnYXRpb24ocmVkaXJlY3ROYXZpZ2F0aW9uVHlwZSwgcmVkaXJlY3RMb2NhdGlvbiwge1xuICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgLi4uYWN0aXZlU3VibWlzc2lvbixcbiAgICAgICAgICBmb3JtQWN0aW9uOiBsb2NhdGlvblxuICAgICAgICB9LFxuICAgICAgICAvLyBQcmVzZXJ2ZSB0aGVzZSBmbGFncyBhY3Jvc3MgcmVkaXJlY3RzXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogcHJldmVudFNjcm9sbFJlc2V0IHx8IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBpc05hdmlnYXRpb24gPyBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkIDogdm9pZCAwXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IG92ZXJyaWRlTmF2aWdhdGlvbiA9IGdldExvYWRpbmdOYXZpZ2F0aW9uKFxuICAgICAgICByZWRpcmVjdExvY2F0aW9uLFxuICAgICAgICBzdWJtaXNzaW9uXG4gICAgICApO1xuICAgICAgYXdhaXQgc3RhcnROYXZpZ2F0aW9uKHJlZGlyZWN0TmF2aWdhdGlvblR5cGUsIHJlZGlyZWN0TG9jYXRpb24sIHtcbiAgICAgICAgb3ZlcnJpZGVOYXZpZ2F0aW9uLFxuICAgICAgICAvLyBTZW5kIGZldGNoZXIgc3VibWlzc2lvbnMgdGhyb3VnaCBmb3Igc2hvdWxkUmV2YWxpZGF0ZVxuICAgICAgICBmZXRjaGVyU3VibWlzc2lvbixcbiAgICAgICAgLy8gUHJlc2VydmUgdGhlc2UgZmxhZ3MgYWNyb3NzIHJlZGlyZWN0c1xuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IHByZXZlbnRTY3JvbGxSZXNldCB8fCBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogaXNOYXZpZ2F0aW9uID8gcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA6IHZvaWQgMFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3kodHlwZSwgcmVxdWVzdCwgbWF0Y2hlc1RvTG9hZCwgbWF0Y2hlcywgc2NvcGVkQ29udGV4dCwgZmV0Y2hlcktleSkge1xuICAgIGxldCByZXN1bHRzO1xuICAgIGxldCBkYXRhUmVzdWx0cyA9IHt9O1xuICAgIHRyeSB7XG4gICAgICByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneUltcGwoXG4gICAgICAgIGRhdGFTdHJhdGVneUltcGwsXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGZldGNoZXJLZXksXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICBmdXR1cmUudW5zdGFibGVfbWlkZGxld2FyZVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBtYXRjaGVzVG9Mb2FkLmZvckVhY2goKG0pID0+IHtcbiAgICAgICAgZGF0YVJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7XG4gICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgIGVycm9yOiBlXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgICB9XG4gICAgZm9yIChsZXQgW3JvdXRlSWQsIHJlc3VsdF0gb2YgT2JqZWN0LmVudHJpZXMocmVzdWx0cykpIHtcbiAgICAgIGlmIChpc1JlZGlyZWN0RGF0YVN0cmF0ZWd5UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgZGF0YVJlc3VsdHNbcm91dGVJZF0gPSB7XG4gICAgICAgICAgdHlwZTogXCJyZWRpcmVjdFwiIC8qIHJlZGlyZWN0ICovLFxuICAgICAgICAgIHJlc3BvbnNlOiBub3JtYWxpemVSZWxhdGl2ZVJvdXRpbmdSZWRpcmVjdFJlc3BvbnNlKFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBiYXNlbmFtZVxuICAgICAgICAgIClcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFSZXN1bHRzW3JvdXRlSWRdID0gYXdhaXQgY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChcbiAgICAgICAgICByZXN1bHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRhdGFSZXN1bHRzO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGNhbGxMb2FkZXJzQW5kTWF5YmVSZXNvbHZlRGF0YShtYXRjaGVzLCBtYXRjaGVzVG9Mb2FkLCBmZXRjaGVyc1RvTG9hZCwgcmVxdWVzdCwgc2NvcGVkQ29udGV4dCkge1xuICAgIGxldCBsb2FkZXJSZXN1bHRzUHJvbWlzZSA9IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICBcImxvYWRlclwiLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIG1hdGNoZXNUb0xvYWQsXG4gICAgICBtYXRjaGVzLFxuICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgIG51bGxcbiAgICApO1xuICAgIGxldCBmZXRjaGVyUmVzdWx0c1Byb21pc2UgPSBQcm9taXNlLmFsbChcbiAgICAgIGZldGNoZXJzVG9Mb2FkLm1hcChhc3luYyAoZikgPT4ge1xuICAgICAgICBpZiAoZi5tYXRjaGVzICYmIGYubWF0Y2ggJiYgZi5jb250cm9sbGVyKSB7XG4gICAgICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgICAgICAgXCJsb2FkZXJcIixcbiAgICAgICAgICAgIGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KGluaXQuaGlzdG9yeSwgZi5wYXRoLCBmLmNvbnRyb2xsZXIuc2lnbmFsKSxcbiAgICAgICAgICAgIFtmLm1hdGNoXSxcbiAgICAgICAgICAgIGYubWF0Y2hlcyxcbiAgICAgICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgICAgICBmLmtleVxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbZi5tYXRjaC5yb3V0ZS5pZF07XG4gICAgICAgICAgcmV0dXJuIHsgW2Yua2V5XTogcmVzdWx0IH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICBbZi5rZXldOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgICAgICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7XG4gICAgICAgICAgICAgICAgcGF0aG5hbWU6IGYucGF0aFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gICAgbGV0IGxvYWRlclJlc3VsdHMgPSBhd2FpdCBsb2FkZXJSZXN1bHRzUHJvbWlzZTtcbiAgICBsZXQgZmV0Y2hlclJlc3VsdHMgPSAoYXdhaXQgZmV0Y2hlclJlc3VsdHNQcm9taXNlKS5yZWR1Y2UoXG4gICAgICAoYWNjLCByKSA9PiBPYmplY3QuYXNzaWduKGFjYywgciksXG4gICAgICB7fVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvYWRlclJlc3VsdHMsXG4gICAgICBmZXRjaGVyUmVzdWx0c1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gaW50ZXJydXB0QWN0aXZlTG9hZHMoKSB7XG4gICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IHRydWU7XG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmhhcyhrZXkpKSB7XG4gICAgICAgIGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5hZGQoa2V5KTtcbiAgICAgIH1cbiAgICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGZldGNoZXIsIG9wdHMgPSB7fSkge1xuICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGZldGNoZXIpO1xuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAgeyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSxcbiAgICAgIHsgZmx1c2hTeW5jOiAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWUgfVxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZXJyb3IsIG9wdHMgPSB7fSkge1xuICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShzdGF0ZS5tYXRjaGVzLCByb3V0ZUlkKTtcbiAgICBkZWxldGVGZXRjaGVyKGtleSk7XG4gICAgdXBkYXRlU3RhdGUoXG4gICAgICB7XG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgfSxcbiAgICAgICAgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpXG4gICAgICB9LFxuICAgICAgeyBmbHVzaFN5bmM6IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZSB9XG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRGZXRjaGVyKGtleSkge1xuICAgIGFjdGl2ZUZldGNoZXJzLnNldChrZXksIChhY3RpdmVGZXRjaGVycy5nZXQoa2V5KSB8fCAwKSArIDEpO1xuICAgIGlmIChmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSkgfHwgSURMRV9GRVRDSEVSO1xuICB9XG4gIGZ1bmN0aW9uIGRlbGV0ZUZldGNoZXIoa2V5KSB7XG4gICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5oYXMoa2V5KSAmJiAhKGZldGNoZXIgJiYgZmV0Y2hlci5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIgJiYgZmV0Y2hSZWxvYWRJZHMuaGFzKGtleSkpKSB7XG4gICAgICBhYm9ydEZldGNoZXIoa2V5KTtcbiAgICB9XG4gICAgZmV0Y2hMb2FkTWF0Y2hlcy5kZWxldGUoa2V5KTtcbiAgICBmZXRjaFJlbG9hZElkcy5kZWxldGUoa2V5KTtcbiAgICBmZXRjaFJlZGlyZWN0SWRzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uZGVsZXRlKGtleSk7XG4gICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmRlbGV0ZShrZXkpO1xuICAgIHN0YXRlLmZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHF1ZXVlRmV0Y2hlckZvckRlbGV0aW9uKGtleSkge1xuICAgIGxldCBjb3VudCA9IChhY3RpdmVGZXRjaGVycy5nZXQoa2V5KSB8fCAwKSAtIDE7XG4gICAgaWYgKGNvdW50IDw9IDApIHtcbiAgICAgIGFjdGl2ZUZldGNoZXJzLmRlbGV0ZShrZXkpO1xuICAgICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5hZGQoa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0aXZlRmV0Y2hlcnMuc2V0KGtleSwgY291bnQpO1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZSh7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9KTtcbiAgfVxuICBmdW5jdGlvbiBhYm9ydEZldGNoZXIoa2V5KSB7XG4gICAgbGV0IGNvbnRyb2xsZXIgPSBmZXRjaENvbnRyb2xsZXJzLmdldChrZXkpO1xuICAgIGlmIChjb250cm9sbGVyKSB7XG4gICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtYXJrRmV0Y2hlcnNEb25lKGtleXMpIHtcbiAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgbGV0IGZldGNoZXIgPSBnZXRGZXRjaGVyKGtleSk7XG4gICAgICBsZXQgZG9uZUZldGNoZXIgPSBnZXREb25lRmV0Y2hlcihmZXRjaGVyLmRhdGEpO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZG9uZUZldGNoZXIpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtYXJrRmV0Y2hSZWRpcmVjdHNEb25lKCkge1xuICAgIGxldCBkb25lS2V5cyA9IFtdO1xuICAgIGxldCB1cGRhdGVkRmV0Y2hlcnMgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBrZXkgb2YgZmV0Y2hSZWRpcmVjdElkcykge1xuICAgICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICAgIGludmFyaWFudChmZXRjaGVyLCBgRXhwZWN0ZWQgZmV0Y2hlcjogJHtrZXl9YCk7XG4gICAgICBpZiAoZmV0Y2hlci5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIpIHtcbiAgICAgICAgZmV0Y2hSZWRpcmVjdElkcy5kZWxldGUoa2V5KTtcbiAgICAgICAgZG9uZUtleXMucHVzaChrZXkpO1xuICAgICAgICB1cGRhdGVkRmV0Y2hlcnMgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBtYXJrRmV0Y2hlcnNEb25lKGRvbmVLZXlzKTtcbiAgICByZXR1cm4gdXBkYXRlZEZldGNoZXJzO1xuICB9XG4gIGZ1bmN0aW9uIGFib3J0U3RhbGVGZXRjaExvYWRzKGxhbmRlZElkKSB7XG4gICAgbGV0IHllZXRlZEtleXMgPSBbXTtcbiAgICBmb3IgKGxldCBba2V5LCBpZF0gb2YgZmV0Y2hSZWxvYWRJZHMpIHtcbiAgICAgIGlmIChpZCA8IGxhbmRlZElkKSB7XG4gICAgICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgICAgIGludmFyaWFudChmZXRjaGVyLCBgRXhwZWN0ZWQgZmV0Y2hlcjogJHtrZXl9YCk7XG4gICAgICAgIGlmIChmZXRjaGVyLnN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgICAgICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgICAgICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgICAgICAgIHllZXRlZEtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIG1hcmtGZXRjaGVyc0RvbmUoeWVldGVkS2V5cyk7XG4gICAgcmV0dXJuIHllZXRlZEtleXMubGVuZ3RoID4gMDtcbiAgfVxuICBmdW5jdGlvbiBnZXRCbG9ja2VyKGtleSwgZm4pIHtcbiAgICBsZXQgYmxvY2tlciA9IHN0YXRlLmJsb2NrZXJzLmdldChrZXkpIHx8IElETEVfQkxPQ0tFUjtcbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9ucy5nZXQoa2V5KSAhPT0gZm4pIHtcbiAgICAgIGJsb2NrZXJGdW5jdGlvbnMuc2V0KGtleSwgZm4pO1xuICAgIH1cbiAgICByZXR1cm4gYmxvY2tlcjtcbiAgfVxuICBmdW5jdGlvbiBkZWxldGVCbG9ja2VyKGtleSkge1xuICAgIHN0YXRlLmJsb2NrZXJzLmRlbGV0ZShrZXkpO1xuICAgIGJsb2NrZXJGdW5jdGlvbnMuZGVsZXRlKGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlQmxvY2tlcihrZXksIG5ld0Jsb2NrZXIpIHtcbiAgICBsZXQgYmxvY2tlciA9IHN0YXRlLmJsb2NrZXJzLmdldChrZXkpIHx8IElETEVfQkxPQ0tFUjtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBibG9ja2VyLnN0YXRlID09PSBcInVuYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiIHx8IGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiIHx8IGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwicHJvY2VlZGluZ1wiIHx8IGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmIG5ld0Jsb2NrZXIuc3RhdGUgPT09IFwidW5ibG9ja2VkXCIgfHwgYmxvY2tlci5zdGF0ZSA9PT0gXCJwcm9jZWVkaW5nXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJ1bmJsb2NrZWRcIixcbiAgICAgIGBJbnZhbGlkIGJsb2NrZXIgc3RhdGUgdHJhbnNpdGlvbjogJHtibG9ja2VyLnN0YXRlfSAtPiAke25ld0Jsb2NrZXIuc3RhdGV9YFxuICAgICk7XG4gICAgbGV0IGJsb2NrZXJzID0gbmV3IE1hcChzdGF0ZS5ibG9ja2Vycyk7XG4gICAgYmxvY2tlcnMuc2V0KGtleSwgbmV3QmxvY2tlcik7XG4gICAgdXBkYXRlU3RhdGUoeyBibG9ja2VycyB9KTtcbiAgfVxuICBmdW5jdGlvbiBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgIGN1cnJlbnRMb2NhdGlvbixcbiAgICBuZXh0TG9jYXRpb24sXG4gICAgaGlzdG9yeUFjdGlvblxuICB9KSB7XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbnMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9ucy5zaXplID4gMSkge1xuICAgICAgd2FybmluZyhmYWxzZSwgXCJBIHJvdXRlciBvbmx5IHN1cHBvcnRzIG9uZSBibG9ja2VyIGF0IGEgdGltZVwiKTtcbiAgICB9XG4gICAgbGV0IGVudHJpZXMgPSBBcnJheS5mcm9tKGJsb2NrZXJGdW5jdGlvbnMuZW50cmllcygpKTtcbiAgICBsZXQgW2Jsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbl0gPSBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV07XG4gICAgbGV0IGJsb2NrZXIgPSBzdGF0ZS5ibG9ja2Vycy5nZXQoYmxvY2tlcktleSk7XG4gICAgaWYgKGJsb2NrZXIgJiYgYmxvY2tlci5zdGF0ZSA9PT0gXCJwcm9jZWVkaW5nXCIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJsb2NrZXJGdW5jdGlvbih7IGN1cnJlbnRMb2NhdGlvbiwgbmV4dExvY2F0aW9uLCBoaXN0b3J5QWN0aW9uIH0pKSB7XG4gICAgICByZXR1cm4gYmxvY2tlcktleTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KHBhdGhuYW1lKSB7XG4gICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWUgfSk7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IHsgbWF0Y2hlcywgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMocm91dGVzVG9Vc2UpO1xuICAgIHJldHVybiB7IG5vdEZvdW5kTWF0Y2hlczogbWF0Y2hlcywgcm91dGUsIGVycm9yIH07XG4gIH1cbiAgZnVuY3Rpb24gZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24ocG9zaXRpb25zLCBnZXRQb3NpdGlvbiwgZ2V0S2V5KSB7XG4gICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMyID0gcG9zaXRpb25zO1xuICAgIGdldFNjcm9sbFBvc2l0aW9uID0gZ2V0UG9zaXRpb247XG4gICAgZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkyID0gZ2V0S2V5IHx8IG51bGw7XG4gICAgaWYgKCFpbml0aWFsU2Nyb2xsUmVzdG9yZWQgJiYgc3RhdGUubmF2aWdhdGlvbiA9PT0gSURMRV9OQVZJR0FUSU9OKSB7XG4gICAgICBpbml0aWFsU2Nyb2xsUmVzdG9yZWQgPSB0cnVlO1xuICAgICAgbGV0IHkgPSBnZXRTYXZlZFNjcm9sbFBvc2l0aW9uKHN0YXRlLmxvY2F0aW9uLCBzdGF0ZS5tYXRjaGVzKTtcbiAgICAgIGlmICh5ICE9IG51bGwpIHtcbiAgICAgICAgdXBkYXRlU3RhdGUoeyByZXN0b3JlU2Nyb2xsUG9zaXRpb246IHkgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzYXZlZFNjcm9sbFBvc2l0aW9uczIgPSBudWxsO1xuICAgICAgZ2V0U2Nyb2xsUG9zaXRpb24gPSBudWxsO1xuICAgICAgZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkyID0gbnVsbDtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIGdldFNjcm9sbEtleShsb2NhdGlvbiwgbWF0Y2hlcykge1xuICAgIGlmIChnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIpIHtcbiAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIoXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLm1hcCgobSkgPT4gY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2gobSwgc3RhdGUubG9hZGVyRGF0YSkpXG4gICAgICApO1xuICAgICAgcmV0dXJuIGtleSB8fCBsb2NhdGlvbi5rZXk7XG4gICAgfVxuICAgIHJldHVybiBsb2NhdGlvbi5rZXk7XG4gIH1cbiAgZnVuY3Rpb24gc2F2ZVNjcm9sbFBvc2l0aW9uKGxvY2F0aW9uLCBtYXRjaGVzKSB7XG4gICAgaWYgKHNhdmVkU2Nyb2xsUG9zaXRpb25zMiAmJiBnZXRTY3JvbGxQb3NpdGlvbikge1xuICAgICAgbGV0IGtleSA9IGdldFNjcm9sbEtleShsb2NhdGlvbiwgbWF0Y2hlcyk7XG4gICAgICBzYXZlZFNjcm9sbFBvc2l0aW9uczJba2V5XSA9IGdldFNjcm9sbFBvc2l0aW9uKCk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGdldFNhdmVkU2Nyb2xsUG9zaXRpb24obG9jYXRpb24sIG1hdGNoZXMpIHtcbiAgICBpZiAoc2F2ZWRTY3JvbGxQb3NpdGlvbnMyKSB7XG4gICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsS2V5KGxvY2F0aW9uLCBtYXRjaGVzKTtcbiAgICAgIGxldCB5ID0gc2F2ZWRTY3JvbGxQb3NpdGlvbnMyW2tleV07XG4gICAgICBpZiAodHlwZW9mIHkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGZ1bmN0aW9uIGNoZWNrRm9nT2ZXYXIobWF0Y2hlcywgcm91dGVzVG9Vc2UsIHBhdGhuYW1lKSB7XG4gICAgaWYgKGluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24pIHtcbiAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICBsZXQgZm9nTWF0Y2hlcyA9IG1hdGNoUm91dGVzSW1wbChcbiAgICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7IGFjdGl2ZTogdHJ1ZSwgbWF0Y2hlczogZm9nTWF0Y2hlcyB8fCBbXSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1hdGNoZXNbMF0ucGFyYW1zKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgbGV0IHBhcnRpYWxNYXRjaGVzID0gbWF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHsgYWN0aXZlOiB0cnVlLCBtYXRjaGVzOiBwYXJ0aWFsTWF0Y2hlcyB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGFjdGl2ZTogZmFsc2UsIG1hdGNoZXM6IG51bGwgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBkaXNjb3ZlclJvdXRlcyhtYXRjaGVzLCBwYXRobmFtZSwgc2lnbmFsLCBmZXRjaGVyS2V5KSB7XG4gICAgaWYgKCFpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWF0Y2hlcyB9O1xuICAgIH1cbiAgICBsZXQgcGFydGlhbE1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBsZXQgaXNOb25ITVIgPSBpbkZsaWdodERhdGFSb3V0ZXMgPT0gbnVsbDtcbiAgICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgICAgbGV0IGxvY2FsTWFuaWZlc3QgPSBtYW5pZmVzdDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24oe1xuICAgICAgICAgIHNpZ25hbCxcbiAgICAgICAgICBwYXRoOiBwYXRobmFtZSxcbiAgICAgICAgICBtYXRjaGVzOiBwYXJ0aWFsTWF0Y2hlcyxcbiAgICAgICAgICBmZXRjaGVyS2V5LFxuICAgICAgICAgIHBhdGNoOiAocm91dGVJZCwgY2hpbGRyZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkgcmV0dXJuO1xuICAgICAgICAgICAgcGF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgICAgICBjaGlsZHJlbixcbiAgICAgICAgICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICAgICAgICAgIGxvY2FsTWFuaWZlc3QsXG4gICAgICAgICAgICAgIG1hcFJvdXRlUHJvcGVydGllczJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogZSwgcGFydGlhbE1hdGNoZXMgfTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmIChpc05vbkhNUiAmJiAhc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICBkYXRhUm91dGVzID0gWy4uLmRhdGFSb3V0ZXNdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJhYm9ydGVkXCIgfTtcbiAgICAgIH1cbiAgICAgIGxldCBuZXdNYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIHBhdGhuYW1lLCBiYXNlbmFtZSk7XG4gICAgICBpZiAobmV3TWF0Y2hlcykge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInN1Y2Nlc3NcIiwgbWF0Y2hlczogbmV3TWF0Y2hlcyB9O1xuICAgICAgfVxuICAgICAgbGV0IG5ld1BhcnRpYWxNYXRjaGVzID0gbWF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICB0cnVlXG4gICAgICApO1xuICAgICAgaWYgKCFuZXdQYXJ0aWFsTWF0Y2hlcyB8fCBwYXJ0aWFsTWF0Y2hlcy5sZW5ndGggPT09IG5ld1BhcnRpYWxNYXRjaGVzLmxlbmd0aCAmJiBwYXJ0aWFsTWF0Y2hlcy5ldmVyeShcbiAgICAgICAgKG0sIGkpID0+IG0ucm91dGUuaWQgPT09IG5ld1BhcnRpYWxNYXRjaGVzW2ldLnJvdXRlLmlkXG4gICAgICApKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwic3VjY2Vzc1wiLCBtYXRjaGVzOiBudWxsIH07XG4gICAgICB9XG4gICAgICBwYXJ0aWFsTWF0Y2hlcyA9IG5ld1BhcnRpYWxNYXRjaGVzO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBfaW50ZXJuYWxTZXRSb3V0ZXMobmV3Um91dGVzKSB7XG4gICAgbWFuaWZlc3QgPSB7fTtcbiAgICBpbkZsaWdodERhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgICAgbmV3Um91dGVzLFxuICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgIHZvaWQgMCxcbiAgICAgIG1hbmlmZXN0XG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBwYXRjaFJvdXRlcyhyb3V0ZUlkLCBjaGlsZHJlbikge1xuICAgIGxldCBpc05vbkhNUiA9IGluRmxpZ2h0RGF0YVJvdXRlcyA9PSBudWxsO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIHBhdGNoUm91dGVzSW1wbChcbiAgICAgIHJvdXRlSWQsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyXG4gICAgKTtcbiAgICBpZiAoaXNOb25ITVIpIHtcbiAgICAgIGRhdGFSb3V0ZXMgPSBbLi4uZGF0YVJvdXRlc107XG4gICAgICB1cGRhdGVTdGF0ZSh7fSk7XG4gICAgfVxuICB9XG4gIHJvdXRlciA9IHtcbiAgICBnZXQgYmFzZW5hbWUoKSB7XG4gICAgICByZXR1cm4gYmFzZW5hbWU7XG4gICAgfSxcbiAgICBnZXQgZnV0dXJlKCkge1xuICAgICAgcmV0dXJuIGZ1dHVyZTtcbiAgICB9LFxuICAgIGdldCBzdGF0ZSgpIHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuICAgIGdldCByb3V0ZXMoKSB7XG4gICAgICByZXR1cm4gZGF0YVJvdXRlcztcbiAgICB9LFxuICAgIGdldCB3aW5kb3coKSB7XG4gICAgICByZXR1cm4gcm91dGVyV2luZG93O1xuICAgIH0sXG4gICAgaW5pdGlhbGl6ZSxcbiAgICBzdWJzY3JpYmUsXG4gICAgZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24sXG4gICAgbmF2aWdhdGUsXG4gICAgZmV0Y2g6IGZldGNoMixcbiAgICByZXZhbGlkYXRlLFxuICAgIC8vIFBhc3N0aHJvdWdoIHRvIGhpc3RvcnktYXdhcmUgY3JlYXRlSHJlZiB1c2VkIGJ5IHVzZUhyZWYgc28gd2UgZ2V0IHByb3BlclxuICAgIC8vIGhhc2gtYXdhcmUgVVJMcyBpbiBET00gcGF0aHNcbiAgICBjcmVhdGVIcmVmOiAodG8pID0+IGluaXQuaGlzdG9yeS5jcmVhdGVIcmVmKHRvKSxcbiAgICBlbmNvZGVMb2NhdGlvbjogKHRvKSA9PiBpbml0Lmhpc3RvcnkuZW5jb2RlTG9jYXRpb24odG8pLFxuICAgIGdldEZldGNoZXIsXG4gICAgZGVsZXRlRmV0Y2hlcjogcXVldWVGZXRjaGVyRm9yRGVsZXRpb24sXG4gICAgZGlzcG9zZSxcbiAgICBnZXRCbG9ja2VyLFxuICAgIGRlbGV0ZUJsb2NrZXIsXG4gICAgcGF0Y2hSb3V0ZXMsXG4gICAgX2ludGVybmFsRmV0Y2hDb250cm9sbGVyczogZmV0Y2hDb250cm9sbGVycyxcbiAgICAvLyBUT0RPOiBSZW1vdmUgc2V0Um91dGVzLCBpdCdzIHRlbXBvcmFyeSB0byBhdm9pZCBkZWFsaW5nIHdpdGhcbiAgICAvLyB1cGRhdGluZyB0aGUgdHJlZSB3aGlsZSB2YWxpZGF0aW5nIHRoZSB1cGRhdGUgYWxnb3JpdGhtLlxuICAgIF9pbnRlcm5hbFNldFJvdXRlc1xuICB9O1xuICByZXR1cm4gcm91dGVyO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljSGFuZGxlcihyb3V0ZXMsIG9wdHMpIHtcbiAgaW52YXJpYW50KFxuICAgIHJvdXRlcy5sZW5ndGggPiAwLFxuICAgIFwiWW91IG11c3QgcHJvdmlkZSBhIG5vbi1lbXB0eSByb3V0ZXMgYXJyYXkgdG8gY3JlYXRlU3RhdGljSGFuZGxlclwiXG4gICk7XG4gIGxldCBtYW5pZmVzdCA9IHt9O1xuICBsZXQgYmFzZW5hbWUgPSAob3B0cyA/IG9wdHMuYmFzZW5hbWUgOiBudWxsKSB8fCBcIi9cIjtcbiAgbGV0IG1hcFJvdXRlUHJvcGVydGllczIgPSBvcHRzPy5tYXBSb3V0ZVByb3BlcnRpZXMgfHwgZGVmYXVsdE1hcFJvdXRlUHJvcGVydGllcztcbiAgbGV0IGRhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgIHZvaWQgMCxcbiAgICBtYW5pZmVzdFxuICApO1xuICBhc3luYyBmdW5jdGlvbiBxdWVyeShyZXF1ZXN0LCB7XG4gICAgcmVxdWVzdENvbnRleHQsXG4gICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCxcbiAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICBza2lwUmV2YWxpZGF0aW9uLFxuICAgIGRhdGFTdHJhdGVneSxcbiAgICB1bnN0YWJsZV9yZXNwb25kOiByZXNwb25kXG4gIH0gPSB7fSkge1xuICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBsZXQgbWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oXCJcIiwgY3JlYXRlUGF0aCh1cmwpLCBudWxsLCBcImRlZmF1bHRcIik7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhkYXRhUm91dGVzLCBsb2NhdGlvbiwgYmFzZW5hbWUpO1xuICAgIHJlcXVlc3RDb250ZXh0ID0gcmVxdWVzdENvbnRleHQgIT0gbnVsbCA/IHJlcXVlc3RDb250ZXh0IDogbmV3IHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcigpO1xuICAgIGlmICghaXNWYWxpZE1ldGhvZChtZXRob2QpICYmIG1ldGhvZCAhPT0gXCJIRUFEXCIpIHtcbiAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7IG1ldGhvZCB9KTtcbiAgICAgIGxldCB7IG1hdGNoZXM6IG1ldGhvZE5vdEFsbG93ZWRNYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICAgIGxldCBzdGF0aWNDb250ZXh0ID0ge1xuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXM6IG1ldGhvZE5vdEFsbG93ZWRNYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgfSxcbiAgICAgICAgc3RhdHVzQ29kZTogZXJyb3Iuc3RhdHVzLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge31cbiAgICAgIH07XG4gICAgICByZXR1cm4gcmVzcG9uZCA/IHJlc3BvbmQoc3RhdGljQ29udGV4dCkgOiBzdGF0aWNDb250ZXh0O1xuICAgIH0gZWxzZSBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSB9KTtcbiAgICAgIGxldCB7IG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcywgcm91dGUgfSA9IGdldFNob3J0Q2lyY3VpdE1hdGNoZXMoZGF0YVJvdXRlcyk7XG4gICAgICBsZXQgc3RhdGljQ29udGV4dCA9IHtcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvclxuICAgICAgICB9LFxuICAgICAgICBzdGF0dXNDb2RlOiBlcnJvci5zdGF0dXMsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICAgIHJldHVybiByZXNwb25kID8gcmVzcG9uZChzdGF0aWNDb250ZXh0KSA6IHN0YXRpY0NvbnRleHQ7XG4gICAgfVxuICAgIGlmIChyZXNwb25kICYmIG1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS51bnN0YWJsZV9taWRkbGV3YXJlKSkge1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICByZXF1ZXN0Q29udGV4dCBpbnN0YW5jZW9mIHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcixcbiAgICAgICAgXCJXaGVuIHVzaW5nIG1pZGRsZXdhcmUgaW4gYHN0YXRpY0hhbmRsZXIucXVlcnkoKWAsIGFueSBwcm92aWRlZCBgcmVxdWVzdENvbnRleHRgIG11c3QgYmVhbiBpbnN0YW5jZSBvZiBgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyYFwiXG4gICAgICApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlbmRlcmVkU3RhdGljQ29udGV4dDtcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgcGFyYW1zOiBtYXRjaGVzWzBdLnBhcmFtcyxcbiAgICAgICAgICAgIC8vIElmIHdlJ3JlIGNhbGxpbmcgbWlkZGxld2FyZSB0aGVuIGl0IG11c3QgYmUgZW5hYmxlZCBzbyB3ZSBjYW4gY2FzdFxuICAgICAgICAgICAgLy8gdGhpcyB0byB0aGUgcHJvcGVyIHR5cGUga25vd2luZyBpdCdzIG5vdCBhbiBgQXBwTG9hZENvbnRleHRgXG4gICAgICAgICAgICBjb250ZXh0OiByZXF1ZXN0Q29udGV4dFxuICAgICAgICAgIH0sXG4gICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0MiA9IGF3YWl0IHF1ZXJ5SW1wbChcbiAgICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICAgICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgICAgICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcgPT09IHRydWUsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgc2tpcFJldmFsaWRhdGlvbiA9PT0gdHJ1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdDIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVuZGVyZWRTdGF0aWNDb250ZXh0ID0geyBsb2NhdGlvbiwgYmFzZW5hbWUsIC4uLnJlc3VsdDIgfTtcbiAgICAgICAgICAgIGxldCByZXMgPSBhd2FpdCByZXNwb25kKHJlbmRlcmVkU3RhdGljQ29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1Jlc3BvbnNlKGUuZXJyb3IpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBlLmVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlbmRlcmVkU3RhdGljQ29udGV4dCkge1xuICAgICAgICAgICAgICBpZiAoZS5yb3V0ZUlkIGluIHJlbmRlcmVkU3RhdGljQ29udGV4dC5sb2FkZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgcmVuZGVyZWRTdGF0aWNDb250ZXh0LmxvYWRlckRhdGFbZS5yb3V0ZUlkXSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uZChcbiAgICAgICAgICAgICAgICBnZXRTdGF0aWNDb250ZXh0RnJvbUVycm9yKFxuICAgICAgICAgICAgICAgICAgZGF0YVJvdXRlcyxcbiAgICAgICAgICAgICAgICAgIHJlbmRlcmVkU3RhdGljQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgIGUuZXJyb3IsXG4gICAgICAgICAgICAgICAgICBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGUucm91dGVJZCkucm91dGUuaWRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsZXQgbG9hZGVySWR4ID0gbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUubG9hZGVyKTtcbiAgICAgICAgICAgICAgbGV0IGJvdW5kYXJ5ID0gbG9hZGVySWR4ID49IDAgPyBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIG1hdGNoZXNbbG9hZGVySWR4XS5yb3V0ZS5pZCkgOiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMpO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uZCh7XG4gICAgICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgICAgICAgW2JvdW5kYXJ5LnJvdXRlLmlkXTogZS5lcnJvclxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UoZS5lcnJvcikgPyBlLmVycm9yLnN0YXR1cyA6IDUwMCxcbiAgICAgICAgICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIGludmFyaWFudChpc1Jlc3BvbnNlKHJlc3BvbnNlKSwgXCJFeHBlY3RlZCBhIHJlc3BvbnNlIGluIHF1ZXJ5KClcIik7XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGlzUmVzcG9uc2UoZSkpIHtcbiAgICAgICAgICByZXR1cm4gZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA9PT0gdHJ1ZSxcbiAgICAgIG51bGwsXG4gICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkIHx8IG51bGwsXG4gICAgICBza2lwUmV2YWxpZGF0aW9uID09PSB0cnVlXG4gICAgKTtcbiAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4geyBsb2NhdGlvbiwgYmFzZW5hbWUsIC4uLnJlc3VsdCB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5Um91dGUocmVxdWVzdCwge1xuICAgIHJvdXRlSWQsXG4gICAgcmVxdWVzdENvbnRleHQsXG4gICAgZGF0YVN0cmF0ZWd5LFxuICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IHJlc3BvbmRcbiAgfSA9IHt9KSB7XG4gICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGxldCBtZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihcIlwiLCBjcmVhdGVQYXRoKHVybCksIG51bGwsIFwiZGVmYXVsdFwiKTtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gICAgcmVxdWVzdENvbnRleHQgPSByZXF1ZXN0Q29udGV4dCAhPSBudWxsID8gcmVxdWVzdENvbnRleHQgOiBuZXcgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyKCk7XG4gICAgaWYgKCFpc1ZhbGlkTWV0aG9kKG1ldGhvZCkgJiYgbWV0aG9kICE9PSBcIkhFQURcIiAmJiBtZXRob2QgIT09IFwiT1BUSU9OU1wiKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2QgfSk7XG4gICAgfSBlbHNlIGlmICghbWF0Y2hlcykge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgIH1cbiAgICBsZXQgbWF0Y2ggPSByb3V0ZUlkID8gbWF0Y2hlcy5maW5kKChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSA6IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKTtcbiAgICBpZiAocm91dGVJZCAmJiAhbWF0Y2gpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAzLCB7XG4gICAgICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcm91dGVJZFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghbWF0Y2gpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSB9KTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbmQgJiYgbWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLnVuc3RhYmxlX21pZGRsZXdhcmUpKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHJlcXVlc3RDb250ZXh0IGluc3RhbmNlb2YgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyLFxuICAgICAgICBcIldoZW4gdXNpbmcgbWlkZGxld2FyZSBpbiBgc3RhdGljSGFuZGxlci5xdWVyeVJvdXRlKClgLCBhbnkgcHJvdmlkZWQgYHJlcXVlc3RDb250ZXh0YCBtdXN0IGJlYW4gaW5zdGFuY2Ugb2YgYHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcmBcIlxuICAgICAgKTtcbiAgICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAge1xuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBwYXJhbXM6IG1hdGNoZXNbMF0ucGFyYW1zLFxuICAgICAgICAgIC8vIElmIHdlJ3JlIGNhbGxpbmcgbWlkZGxld2FyZSB0aGVuIGl0IG11c3QgYmUgZW5hYmxlZCBzbyB3ZSBjYW4gY2FzdFxuICAgICAgICAgIC8vIHRoaXMgdG8gdGhlIHByb3BlciB0eXBlIGtub3dpbmcgaXQncyBub3QgYW4gYEFwcExvYWRDb250ZXh0YFxuICAgICAgICAgIGNvbnRleHQ6IHJlcXVlc3RDb250ZXh0XG4gICAgICAgIH0sXG4gICAgICAgIHRydWUsXG4gICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBsZXQgcmVzdWx0MiA9IGF3YWl0IHF1ZXJ5SW1wbChcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgICAgIGRhdGFTdHJhdGVneSB8fCBudWxsLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0MikpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25kKHJlc3VsdDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgZXJyb3IyID0gcmVzdWx0Mi5lcnJvcnMgPyBPYmplY3QudmFsdWVzKHJlc3VsdDIuZXJyb3JzKVswXSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAoZXJyb3IyICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yMjtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IHZhbHVlID0gcmVzdWx0Mi5hY3Rpb25EYXRhID8gT2JqZWN0LnZhbHVlcyhyZXN1bHQyLmFjdGlvbkRhdGEpWzBdIDogT2JqZWN0LnZhbHVlcyhyZXN1bHQyLmxvYWRlckRhdGEpWzBdO1xuICAgICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgPyBuZXcgUmVzcG9uc2UodmFsdWUpIDogUmVzcG9uc2UuanNvbih2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIChlKSA9PiB7XG4gICAgICAgICAgaWYgKGlzUmVzcG9uc2UoZS5lcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25kKGUuZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFN0cmluZyhlLmVycm9yKSwge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDAsXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiBcIlVuZXhwZWN0ZWQgU2VydmVyIEVycm9yXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IHF1ZXJ5SW1wbChcbiAgICAgIHJlcXVlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSB8fCBudWxsLFxuICAgICAgZmFsc2UsXG4gICAgICBtYXRjaCxcbiAgICAgIG51bGwsXG4gICAgICBmYWxzZVxuICAgICk7XG4gICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgbGV0IGVycm9yID0gcmVzdWx0LmVycm9ycyA/IE9iamVjdC52YWx1ZXMocmVzdWx0LmVycm9ycylbMF0gOiB2b2lkIDA7XG4gICAgaWYgKGVycm9yICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmFjdGlvbkRhdGEpIHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlc3VsdC5hY3Rpb25EYXRhKVswXTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5sb2FkZXJEYXRhKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyZXN1bHQubG9hZGVyRGF0YSlbMF07XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnlJbXBsKHJlcXVlc3QsIGxvY2F0aW9uLCBtYXRjaGVzLCByZXF1ZXN0Q29udGV4dCwgZGF0YVN0cmF0ZWd5LCBza2lwTG9hZGVyRXJyb3JCdWJibGluZywgcm91dGVNYXRjaCwgZmlsdGVyTWF0Y2hlc1RvTG9hZCwgc2tpcFJldmFsaWRhdGlvbikge1xuICAgIGludmFyaWFudChcbiAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgXCJxdWVyeSgpL3F1ZXJ5Um91dGUoKSByZXF1ZXN0cyBtdXN0IGNvbnRhaW4gYW4gQWJvcnRDb250cm9sbGVyIHNpZ25hbFwiXG4gICAgKTtcbiAgICB0cnkge1xuICAgICAgaWYgKGlzTXV0YXRpb25NZXRob2QocmVxdWVzdC5tZXRob2QpKSB7XG4gICAgICAgIGxldCByZXN1bHQyID0gYXdhaXQgc3VibWl0KFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICByb3V0ZU1hdGNoIHx8IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKSxcbiAgICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICAgICAgcm91dGVNYXRjaCAhPSBudWxsLFxuICAgICAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWQsXG4gICAgICAgICAgc2tpcFJldmFsaWRhdGlvblxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICAgIH1cbiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgICAgcm91dGVNYXRjaCxcbiAgICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZFxuICAgICAgKTtcbiAgICAgIHJldHVybiBpc1Jlc3BvbnNlKHJlc3VsdCkgPyByZXN1bHQgOiB7XG4gICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge31cbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgaWYgKGlzRGF0YVN0cmF0ZWd5UmVzdWx0KGUpICYmIGlzUmVzcG9uc2UoZS5yZXN1bHQpKSB7XG4gICAgICAgIGlmIChlLnR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLykge1xuICAgICAgICAgIHRocm93IGUucmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlLnJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZGlyZWN0UmVzcG9uc2UoZSkpIHtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgfVxuICBhc3luYyBmdW5jdGlvbiBzdWJtaXQocmVxdWVzdCwgbWF0Y2hlcywgYWN0aW9uTWF0Y2gsIHJlcXVlc3RDb250ZXh0LCBkYXRhU3RyYXRlZ3ksIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLCBpc1JvdXRlUmVxdWVzdCwgZmlsdGVyTWF0Y2hlc1RvTG9hZCwgc2tpcFJldmFsaWRhdGlvbikge1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKCFhY3Rpb25NYXRjaC5yb3V0ZS5hY3Rpb24gJiYgIWFjdGlvbk1hdGNoLnJvdXRlLmxhenkpIHtcbiAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICAgIHBhdGhuYW1lOiBuZXcgVVJMKHJlcXVlc3QudXJsKS5wYXRobmFtZSxcbiAgICAgICAgcm91dGVJZDogYWN0aW9uTWF0Y2gucm91dGUuaWRcbiAgICAgIH0pO1xuICAgICAgaWYgKGlzUm91dGVSZXF1ZXN0KSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgICAgcmVzdWx0ID0ge1xuICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgIGVycm9yXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICAgIFwiYWN0aW9uXCIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIFthY3Rpb25NYXRjaF0sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGlzUm91dGVSZXF1ZXN0LFxuICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgZGF0YVN0cmF0ZWd5XG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0c1thY3Rpb25NYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICB0aHJvd1N0YXRpY0hhbmRsZXJBYm9ydGVkRXJyb3IocmVxdWVzdCwgaXNSb3V0ZVJlcXVlc3QpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICB0aHJvdyBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICBzdGF0dXM6IHJlc3VsdC5yZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBMb2NhdGlvbjogcmVzdWx0LnJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIilcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc1JvdXRlUmVxdWVzdCkge1xuICAgICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBtYXRjaGVzOiBbYWN0aW9uTWF0Y2hdLFxuICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgYWN0aW9uRGF0YTogeyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZGF0YSB9LFxuICAgICAgICBlcnJvcnM6IG51bGwsXG4gICAgICAgIC8vIE5vdGU6IHN0YXR1c0NvZGUgKyBoZWFkZXJzIGFyZSB1bnVzZWQgaGVyZSBzaW5jZSBxdWVyeVJvdXRlIHdpbGxcbiAgICAgICAgLy8gcmV0dXJuIHRoZSByYXcgUmVzcG9uc2Ugb3IgdmFsdWVcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fSxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge31cbiAgICAgIH07XG4gICAgfVxuICAgIGlmIChza2lwUmV2YWxpZGF0aW9uKSB7XG4gICAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gc2tpcExvYWRlckVycm9yQnViYmxpbmcgPyBhY3Rpb25NYXRjaCA6IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgYWN0aW9uTWF0Y2gucm91dGUuaWQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcikgPyByZXN1bHQuZXJyb3Iuc3RhdHVzIDogcmVzdWx0LnN0YXR1c0NvZGUgIT0gbnVsbCA/IHJlc3VsdC5zdGF0dXNDb2RlIDogNTAwLFxuICAgICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgICAgYWN0aW9uSGVhZGVyczoge1xuICAgICAgICAgICAgLi4ucmVzdWx0LmhlYWRlcnMgPyB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5oZWFkZXJzIH0gOiB7fVxuICAgICAgICAgIH0sXG4gICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICAgIFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmVycm9yXG4gICAgICAgICAgfSxcbiAgICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhY3Rpb25EYXRhOiB7XG4gICAgICAgICAgICBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZGF0YVxuICAgICAgICAgIH0sXG4gICAgICAgICAgYWN0aW9uSGVhZGVyczogcmVzdWx0LmhlYWRlcnMgPyB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5oZWFkZXJzIH0gOiB7fSxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczogbnVsbCxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzQ29kZSB8fCAyMDAsXG4gICAgICAgICAgbG9hZGVySGVhZGVyczoge31cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGxvYWRlclJlcXVlc3QgPSBuZXcgUmVxdWVzdChyZXF1ZXN0LnVybCwge1xuICAgICAgaGVhZGVyczogcmVxdWVzdC5oZWFkZXJzLFxuICAgICAgcmVkaXJlY3Q6IHJlcXVlc3QucmVkaXJlY3QsXG4gICAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsXG4gICAgfSk7XG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA/IGFjdGlvbk1hdGNoIDogZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBhY3Rpb25NYXRjaC5yb3V0ZS5pZCk7XG4gICAgICBsZXQgaGFuZGxlckNvbnRleHQyID0gYXdhaXQgbG9hZFJvdXRlRGF0YShcbiAgICAgICAgbG9hZGVyUmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmcsXG4gICAgICAgIG51bGwsXG4gICAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWQsXG4gICAgICAgIFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkLCByZXN1bHRdXG4gICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uaGFuZGxlckNvbnRleHQyLFxuICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpID8gcmVzdWx0LmVycm9yLnN0YXR1cyA6IHJlc3VsdC5zdGF0dXNDb2RlICE9IG51bGwgPyByZXN1bHQuc3RhdHVzQ29kZSA6IDUwMCxcbiAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgYWN0aW9uSGVhZGVyczoge1xuICAgICAgICAgIC4uLnJlc3VsdC5oZWFkZXJzID8geyBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiByZXN1bHQuaGVhZGVycyB9IDoge31cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGhhbmRsZXJDb250ZXh0ID0gYXdhaXQgbG9hZFJvdXRlRGF0YShcbiAgICAgIGxvYWRlclJlcXVlc3QsXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgIG51bGwsXG4gICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uaGFuZGxlckNvbnRleHQsXG4gICAgICBhY3Rpb25EYXRhOiB7XG4gICAgICAgIFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5kYXRhXG4gICAgICB9LFxuICAgICAgLy8gYWN0aW9uIHN0YXR1cyBjb2RlcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBsb2FkZXIgc3RhdHVzIGNvZGVzXG4gICAgICAuLi5yZXN1bHQuc3RhdHVzQ29kZSA/IHsgc3RhdHVzQ29kZTogcmVzdWx0LnN0YXR1c0NvZGUgfSA6IHt9LFxuICAgICAgYWN0aW9uSGVhZGVyczogcmVzdWx0LmhlYWRlcnMgPyB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5oZWFkZXJzIH0gOiB7fVxuICAgIH07XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZFJvdXRlRGF0YShyZXF1ZXN0LCBtYXRjaGVzLCByZXF1ZXN0Q29udGV4dCwgZGF0YVN0cmF0ZWd5LCBza2lwTG9hZGVyRXJyb3JCdWJibGluZywgcm91dGVNYXRjaCwgZmlsdGVyTWF0Y2hlc1RvTG9hZCwgcGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIGxldCBpc1JvdXRlUmVxdWVzdCA9IHJvdXRlTWF0Y2ggIT0gbnVsbDtcbiAgICBpZiAoaXNSb3V0ZVJlcXVlc3QgJiYgIXJvdXRlTWF0Y2g/LnJvdXRlLmxvYWRlciAmJiAhcm91dGVNYXRjaD8ucm91dGUubGF6eSkge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDAsIHtcbiAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgcGF0aG5hbWU6IG5ldyBVUkwocmVxdWVzdC51cmwpLnBhdGhuYW1lLFxuICAgICAgICByb3V0ZUlkOiByb3V0ZU1hdGNoPy5yb3V0ZS5pZFxuICAgICAgfSk7XG4gICAgfVxuICAgIGxldCByZXF1ZXN0TWF0Y2hlcyA9IHJvdXRlTWF0Y2ggPyBbcm91dGVNYXRjaF0gOiBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkgPyBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShtYXRjaGVzLCBwZW5kaW5nQWN0aW9uUmVzdWx0WzBdKSA6IG1hdGNoZXM7XG4gICAgbGV0IG1hdGNoZXNUb0xvYWQgPSByZXF1ZXN0TWF0Y2hlcy5maWx0ZXIoXG4gICAgICAobSkgPT4gKG0ucm91dGUubG9hZGVyIHx8IG0ucm91dGUubGF6eSkgJiYgKCFmaWx0ZXJNYXRjaGVzVG9Mb2FkIHx8IGZpbHRlck1hdGNoZXNUb0xvYWQobSkpXG4gICAgKTtcbiAgICBpZiAobWF0Y2hlc1RvTG9hZC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIC8vIEFkZCBhIG51bGwgZm9yIGFsbCBtYXRjaGVkIHJvdXRlcyBmb3IgcHJvcGVyIHJldmFsaWRhdGlvbiBvbiB0aGUgY2xpZW50XG4gICAgICAgIGxvYWRlckRhdGE6IG1hdGNoZXMucmVkdWNlKFxuICAgICAgICAgIChhY2MsIG0pID0+IE9iamVjdC5hc3NpZ24oYWNjLCB7IFttLnJvdXRlLmlkXTogbnVsbCB9KSxcbiAgICAgICAgICB7fVxuICAgICAgICApLFxuICAgICAgICBlcnJvcnM6IHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHtcbiAgICAgICAgICBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3JcbiAgICAgICAgfSA6IG51bGwsXG4gICAgICAgIHN0YXR1c0NvZGU6IDIwMCxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge31cbiAgICAgIH07XG4gICAgfVxuICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwibG9hZGVyXCIsXG4gICAgICByZXF1ZXN0LFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBpc1JvdXRlUmVxdWVzdCxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5XG4gICAgKTtcbiAgICBpZiAocmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgdGhyb3dTdGF0aWNIYW5kbGVyQWJvcnRlZEVycm9yKHJlcXVlc3QsIGlzUm91dGVSZXF1ZXN0KTtcbiAgICB9XG4gICAgbGV0IGhhbmRsZXJDb250ZXh0ID0gcHJvY2Vzc1JvdXRlTG9hZGVyRGF0YShcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXN1bHRzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCxcbiAgICAgIHRydWUsXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZ1xuICAgICk7XG4gICAgbGV0IGV4ZWN1dGVkTG9hZGVycyA9IG5ldyBTZXQoXG4gICAgICBtYXRjaGVzVG9Mb2FkLm1hcCgobWF0Y2gpID0+IG1hdGNoLnJvdXRlLmlkKVxuICAgICk7XG4gICAgbWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT4ge1xuICAgICAgaWYgKCFleGVjdXRlZExvYWRlcnMuaGFzKG1hdGNoLnJvdXRlLmlkKSkge1xuICAgICAgICBoYW5kbGVyQ29udGV4dC5sb2FkZXJEYXRhW21hdGNoLnJvdXRlLmlkXSA9IG51bGw7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmhhbmRsZXJDb250ZXh0LFxuICAgICAgbWF0Y2hlc1xuICAgIH07XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gY2FsbERhdGFTdHJhdGVneSh0eXBlLCByZXF1ZXN0LCBtYXRjaGVzVG9Mb2FkLCBtYXRjaGVzLCBpc1JvdXRlUmVxdWVzdCwgcmVxdWVzdENvbnRleHQsIGRhdGFTdHJhdGVneSkge1xuICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneUltcGwoXG4gICAgICBkYXRhU3RyYXRlZ3kgfHwgZGVmYXVsdERhdGFTdHJhdGVneSxcbiAgICAgIHR5cGUsXG4gICAgICByZXF1ZXN0LFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBudWxsLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBmYWxzZVxuICAgICAgLy8gbWlkZGxld2FyZSBub3QgZG9uZSB2aWEgZGF0YVN0cmF0ZWd5IGluIHRoZSBzdGF0aWMgaGFuZGxlclxuICAgICk7XG4gICAgbGV0IGRhdGFSZXN1bHRzID0ge307XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICBtYXRjaGVzLm1hcChhc3luYyAobWF0Y2gpID0+IHtcbiAgICAgICAgaWYgKCEobWF0Y2gucm91dGUuaWQgaW4gcmVzdWx0cykpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgICBpZiAoaXNSZWRpcmVjdERhdGFTdHJhdGVneVJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgICAgbGV0IHJlc3BvbnNlID0gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICB0aHJvdyBub3JtYWxpemVSZWxhdGl2ZVJvdXRpbmdSZWRpcmVjdFJlc3BvbnNlKFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgbWF0Y2gucm91dGUuaWQsXG4gICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgYmFzZW5hbWVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdC5yZXN1bHQpICYmIGlzUm91dGVSZXF1ZXN0KSB7XG4gICAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGRhdGFSZXN1bHRzW21hdGNoLnJvdXRlLmlkXSA9IGF3YWl0IGNvbnZlcnREYXRhU3RyYXRlZ3lSZXN1bHRUb0RhdGFSZXN1bHQocmVzdWx0KTtcbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm4gZGF0YVJlc3VsdHM7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBkYXRhUm91dGVzLFxuICAgIHF1ZXJ5LFxuICAgIHF1ZXJ5Um91dGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFN0YXRpY0NvbnRleHRGcm9tRXJyb3Iocm91dGVzLCBoYW5kbGVyQ29udGV4dCwgZXJyb3IsIGJvdW5kYXJ5SWQpIHtcbiAgbGV0IGVycm9yQm91bmRhcnlJZCA9IGJvdW5kYXJ5SWQgfHwgaGFuZGxlckNvbnRleHQuX2RlZXBlc3RSZW5kZXJlZEJvdW5kYXJ5SWQgfHwgcm91dGVzWzBdLmlkO1xuICByZXR1cm4ge1xuICAgIC4uLmhhbmRsZXJDb250ZXh0LFxuICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSA/IGVycm9yLnN0YXR1cyA6IDUwMCxcbiAgICBlcnJvcnM6IHtcbiAgICAgIFtlcnJvckJvdW5kYXJ5SWRdOiBlcnJvclxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihyZXF1ZXN0LCBpc1JvdXRlUmVxdWVzdCkge1xuICBpZiAocmVxdWVzdC5zaWduYWwucmVhc29uICE9PSB2b2lkIDApIHtcbiAgICB0aHJvdyByZXF1ZXN0LnNpZ25hbC5yZWFzb247XG4gIH1cbiAgbGV0IG1ldGhvZCA9IGlzUm91dGVSZXF1ZXN0ID8gXCJxdWVyeVJvdXRlXCIgOiBcInF1ZXJ5XCI7XG4gIHRocm93IG5ldyBFcnJvcihcbiAgICBgJHttZXRob2R9KCkgY2FsbCBhYm9ydGVkIHdpdGhvdXQgYW4gXFxgQWJvcnRTaWduYWwucmVhc29uXFxgOiAke3JlcXVlc3QubWV0aG9kfSAke3JlcXVlc3QudXJsfWBcbiAgKTtcbn1cbmZ1bmN0aW9uIGlzU3VibWlzc2lvbk5hdmlnYXRpb24ob3B0cykge1xuICByZXR1cm4gb3B0cyAhPSBudWxsICYmIChcImZvcm1EYXRhXCIgaW4gb3B0cyAmJiBvcHRzLmZvcm1EYXRhICE9IG51bGwgfHwgXCJib2R5XCIgaW4gb3B0cyAmJiBvcHRzLmJvZHkgIT09IHZvaWQgMCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVUbyhsb2NhdGlvbiwgbWF0Y2hlcywgYmFzZW5hbWUsIHRvLCBmcm9tUm91dGVJZCwgcmVsYXRpdmUpIHtcbiAgbGV0IGNvbnRleHR1YWxNYXRjaGVzO1xuICBsZXQgYWN0aXZlUm91dGVNYXRjaDtcbiAgaWYgKGZyb21Sb3V0ZUlkKSB7XG4gICAgY29udGV4dHVhbE1hdGNoZXMgPSBbXTtcbiAgICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICBjb250ZXh0dWFsTWF0Y2hlcy5wdXNoKG1hdGNoKTtcbiAgICAgIGlmIChtYXRjaC5yb3V0ZS5pZCA9PT0gZnJvbVJvdXRlSWQpIHtcbiAgICAgICAgYWN0aXZlUm91dGVNYXRjaCA9IG1hdGNoO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29udGV4dHVhbE1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGFjdGl2ZVJvdXRlTWF0Y2ggPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV07XG4gIH1cbiAgbGV0IHBhdGggPSByZXNvbHZlVG8oXG4gICAgdG8gPyB0byA6IFwiLlwiLFxuICAgIGdldFJlc29sdmVUb01hdGNoZXMoY29udGV4dHVhbE1hdGNoZXMpLFxuICAgIHN0cmlwQmFzZW5hbWUobG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICByZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgKTtcbiAgaWYgKHRvID09IG51bGwpIHtcbiAgICBwYXRoLnNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcbiAgICBwYXRoLmhhc2ggPSBsb2NhdGlvbi5oYXNoO1xuICB9XG4gIGlmICgodG8gPT0gbnVsbCB8fCB0byA9PT0gXCJcIiB8fCB0byA9PT0gXCIuXCIpICYmIGFjdGl2ZVJvdXRlTWF0Y2gpIHtcbiAgICBsZXQgbmFrZWRJbmRleCA9IGhhc05ha2VkSW5kZXhRdWVyeShwYXRoLnNlYXJjaCk7XG4gICAgaWYgKGFjdGl2ZVJvdXRlTWF0Y2gucm91dGUuaW5kZXggJiYgIW5ha2VkSW5kZXgpIHtcbiAgICAgIHBhdGguc2VhcmNoID0gcGF0aC5zZWFyY2ggPyBwYXRoLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgXCI/aW5kZXgmXCIpIDogXCI/aW5kZXhcIjtcbiAgICB9IGVsc2UgaWYgKCFhY3RpdmVSb3V0ZU1hdGNoLnJvdXRlLmluZGV4ICYmIG5ha2VkSW5kZXgpIHtcbiAgICAgIGxldCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhdGguc2VhcmNoKTtcbiAgICAgIGxldCBpbmRleFZhbHVlcyA9IHBhcmFtcy5nZXRBbGwoXCJpbmRleFwiKTtcbiAgICAgIHBhcmFtcy5kZWxldGUoXCJpbmRleFwiKTtcbiAgICAgIGluZGV4VmFsdWVzLmZpbHRlcigodikgPT4gdikuZm9yRWFjaCgodikgPT4gcGFyYW1zLmFwcGVuZChcImluZGV4XCIsIHYpKTtcbiAgICAgIGxldCBxcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICAgICAgcGF0aC5zZWFyY2ggPSBxcyA/IGA/JHtxc31gIDogXCJcIjtcbiAgICB9XG4gIH1cbiAgaWYgKGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgIHBhdGgucGF0aG5hbWUgPSBwYXRoLnBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aC5wYXRobmFtZV0pO1xuICB9XG4gIHJldHVybiBjcmVhdGVQYXRoKHBhdGgpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplTmF2aWdhdGVPcHRpb25zKGlzRmV0Y2hlciwgcGF0aCwgb3B0cykge1xuICBpZiAoIW9wdHMgfHwgIWlzU3VibWlzc2lvbk5hdmlnYXRpb24ob3B0cykpIHtcbiAgICByZXR1cm4geyBwYXRoIH07XG4gIH1cbiAgaWYgKG9wdHMuZm9ybU1ldGhvZCAmJiAhaXNWYWxpZE1ldGhvZChvcHRzLmZvcm1NZXRob2QpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGgsXG4gICAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHsgbWV0aG9kOiBvcHRzLmZvcm1NZXRob2QgfSlcbiAgICB9O1xuICB9XG4gIGxldCBnZXRJbnZhbGlkQm9keUVycm9yID0gKCkgPT4gKHtcbiAgICBwYXRoLFxuICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwgeyB0eXBlOiBcImludmFsaWQtYm9keVwiIH0pXG4gIH0pO1xuICBsZXQgcmF3Rm9ybU1ldGhvZCA9IG9wdHMuZm9ybU1ldGhvZCB8fCBcImdldFwiO1xuICBsZXQgZm9ybU1ldGhvZCA9IHJhd0Zvcm1NZXRob2QudG9VcHBlckNhc2UoKTtcbiAgbGV0IGZvcm1BY3Rpb24gPSBzdHJpcEhhc2hGcm9tUGF0aChwYXRoKTtcbiAgaWYgKG9wdHMuYm9keSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKG9wdHMuZm9ybUVuY1R5cGUgPT09IFwidGV4dC9wbGFpblwiKSB7XG4gICAgICBpZiAoIWlzTXV0YXRpb25NZXRob2QoZm9ybU1ldGhvZCkpIHtcbiAgICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIGxldCB0ZXh0ID0gdHlwZW9mIG9wdHMuYm9keSA9PT0gXCJzdHJpbmdcIiA/IG9wdHMuYm9keSA6IG9wdHMuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhIHx8IG9wdHMuYm9keSBpbnN0YW5jZW9mIFVSTFNlYXJjaFBhcmFtcyA/IChcbiAgICAgICAgLy8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybS1jb250cm9sLWluZnJhc3RydWN0dXJlLmh0bWwjcGxhaW4tdGV4dC1mb3JtLWRhdGFcbiAgICAgICAgQXJyYXkuZnJvbShvcHRzLmJvZHkuZW50cmllcygpKS5yZWR1Y2UoXG4gICAgICAgICAgKGFjYywgW25hbWUsIHZhbHVlXSkgPT4gYCR7YWNjfSR7bmFtZX09JHt2YWx1ZX1cbmAsXG4gICAgICAgICAgXCJcIlxuICAgICAgICApXG4gICAgICApIDogU3RyaW5nKG9wdHMuYm9keSk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYXRoLFxuICAgICAgICBzdWJtaXNzaW9uOiB7XG4gICAgICAgICAgZm9ybU1ldGhvZCxcbiAgICAgICAgICBmb3JtQWN0aW9uLFxuICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRzLmZvcm1FbmNUeXBlLFxuICAgICAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICAgICAganNvbjogdm9pZCAwLFxuICAgICAgICAgIHRleHRcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgaWYgKG9wdHMuZm9ybUVuY1R5cGUgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICBpZiAoIWlzTXV0YXRpb25NZXRob2QoZm9ybU1ldGhvZCkpIHtcbiAgICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBqc29uID0gdHlwZW9mIG9wdHMuYm9keSA9PT0gXCJzdHJpbmdcIiA/IEpTT04ucGFyc2Uob3B0cy5ib2R5KSA6IG9wdHMuYm9keTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICAgIGZvcm1NZXRob2QsXG4gICAgICAgICAgICBmb3JtQWN0aW9uLFxuICAgICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdHMuZm9ybUVuY1R5cGUsXG4gICAgICAgICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAgICAgICAganNvbixcbiAgICAgICAgICAgIHRleHQ6IHZvaWQgMFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaW52YXJpYW50KFxuICAgIHR5cGVvZiBGb3JtRGF0YSA9PT0gXCJmdW5jdGlvblwiLFxuICAgIFwiRm9ybURhdGEgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGlzIGVudmlyb25tZW50XCJcbiAgKTtcbiAgbGV0IHNlYXJjaFBhcmFtcztcbiAgbGV0IGZvcm1EYXRhO1xuICBpZiAob3B0cy5mb3JtRGF0YSkge1xuICAgIHNlYXJjaFBhcmFtcyA9IGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKG9wdHMuZm9ybURhdGEpO1xuICAgIGZvcm1EYXRhID0gb3B0cy5mb3JtRGF0YTtcbiAgfSBlbHNlIGlmIChvcHRzLmJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuICAgIHNlYXJjaFBhcmFtcyA9IGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKG9wdHMuYm9keSk7XG4gICAgZm9ybURhdGEgPSBvcHRzLmJvZHk7XG4gIH0gZWxzZSBpZiAob3B0cy5ib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gb3B0cy5ib2R5O1xuICAgIGZvcm1EYXRhID0gY29udmVydFNlYXJjaFBhcmFtc1RvRm9ybURhdGEoc2VhcmNoUGFyYW1zKTtcbiAgfSBlbHNlIGlmIChvcHRzLmJvZHkgPT0gbnVsbCkge1xuICAgIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcbiAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKG9wdHMuYm9keSk7XG4gICAgICBmb3JtRGF0YSA9IGNvbnZlcnRTZWFyY2hQYXJhbXNUb0Zvcm1EYXRhKHNlYXJjaFBhcmFtcyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGdldEludmFsaWRCb2R5RXJyb3IoKTtcbiAgICB9XG4gIH1cbiAgbGV0IHN1Ym1pc3Npb24gPSB7XG4gICAgZm9ybU1ldGhvZCxcbiAgICBmb3JtQWN0aW9uLFxuICAgIGZvcm1FbmNUeXBlOiBvcHRzICYmIG9wdHMuZm9ybUVuY1R5cGUgfHwgXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixcbiAgICBmb3JtRGF0YSxcbiAgICBqc29uOiB2b2lkIDAsXG4gICAgdGV4dDogdm9pZCAwXG4gIH07XG4gIGlmIChpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICByZXR1cm4geyBwYXRoLCBzdWJtaXNzaW9uIH07XG4gIH1cbiAgbGV0IHBhcnNlZFBhdGggPSBwYXJzZVBhdGgocGF0aCk7XG4gIGlmIChpc0ZldGNoZXIgJiYgcGFyc2VkUGF0aC5zZWFyY2ggJiYgaGFzTmFrZWRJbmRleFF1ZXJ5KHBhcnNlZFBhdGguc2VhcmNoKSkge1xuICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCBcIlwiKTtcbiAgfVxuICBwYXJzZWRQYXRoLnNlYXJjaCA9IGA/JHtzZWFyY2hQYXJhbXN9YDtcbiAgcmV0dXJuIHsgcGF0aDogY3JlYXRlUGF0aChwYXJzZWRQYXRoKSwgc3VibWlzc2lvbiB9O1xufVxuZnVuY3Rpb24gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkobWF0Y2hlcywgYm91bmRhcnlJZCwgaW5jbHVkZUJvdW5kYXJ5ID0gZmFsc2UpIHtcbiAgbGV0IGluZGV4ID0gbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUuaWQgPT09IGJvdW5kYXJ5SWQpO1xuICBpZiAoaW5kZXggPj0gMCkge1xuICAgIHJldHVybiBtYXRjaGVzLnNsaWNlKDAsIGluY2x1ZGVCb3VuZGFyeSA/IGluZGV4ICsgMSA6IGluZGV4KTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcztcbn1cbmZ1bmN0aW9uIGdldE1hdGNoZXNUb0xvYWQoaGlzdG9yeSwgc3RhdGUsIG1hdGNoZXMsIHN1Ym1pc3Npb24sIGxvY2F0aW9uLCBpbml0aWFsSHlkcmF0aW9uLCBpc1JldmFsaWRhdGlvblJlcXVpcmVkLCBjYW5jZWxsZWRGZXRjaGVyTG9hZHMsIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24sIGZldGNoTG9hZE1hdGNoZXMsIGZldGNoUmVkaXJlY3RJZHMsIHJvdXRlc1RvVXNlLCBiYXNlbmFtZSwgcGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICBsZXQgYWN0aW9uUmVzdWx0ID0gcGVuZGluZ0FjdGlvblJlc3VsdCA/IGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkgPyBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yIDogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5kYXRhIDogdm9pZCAwO1xuICBsZXQgY3VycmVudFVybCA9IGhpc3RvcnkuY3JlYXRlVVJMKHN0YXRlLmxvY2F0aW9uKTtcbiAgbGV0IG5leHRVcmwgPSBoaXN0b3J5LmNyZWF0ZVVSTChsb2NhdGlvbik7XG4gIGxldCBib3VuZGFyeU1hdGNoZXMgPSBtYXRjaGVzO1xuICBpZiAoaW5pdGlhbEh5ZHJhdGlvbiAmJiBzdGF0ZS5lcnJvcnMpIHtcbiAgICBib3VuZGFyeU1hdGNoZXMgPSBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShcbiAgICAgIG1hdGNoZXMsXG4gICAgICBPYmplY3Qua2V5cyhzdGF0ZS5lcnJvcnMpWzBdLFxuICAgICAgdHJ1ZVxuICAgICk7XG4gIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pKSB7XG4gICAgYm91bmRhcnlNYXRjaGVzID0gZ2V0TG9hZGVyTWF0Y2hlc1VudGlsQm91bmRhcnkoXG4gICAgICBtYXRjaGVzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdFswXVxuICAgICk7XG4gIH1cbiAgbGV0IGFjdGlvblN0YXR1cyA9IHBlbmRpbmdBY3Rpb25SZXN1bHQgPyBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLnN0YXR1c0NvZGUgOiB2b2lkIDA7XG4gIGxldCBzaG91bGRTa2lwUmV2YWxpZGF0aW9uID0gYWN0aW9uU3RhdHVzICYmIGFjdGlvblN0YXR1cyA+PSA0MDA7XG4gIGxldCBuYXZpZ2F0aW9uTWF0Y2hlcyA9IGJvdW5kYXJ5TWF0Y2hlcy5maWx0ZXIoKG1hdGNoLCBpbmRleCkgPT4ge1xuICAgIGxldCB7IHJvdXRlIH0gPSBtYXRjaDtcbiAgICBpZiAocm91dGUubGF6eSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChyb3V0ZS5sb2FkZXIgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaW5pdGlhbEh5ZHJhdGlvbikge1xuICAgICAgcmV0dXJuIHNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKHJvdXRlLCBzdGF0ZS5sb2FkZXJEYXRhLCBzdGF0ZS5lcnJvcnMpO1xuICAgIH1cbiAgICBpZiAoaXNOZXdMb2FkZXIoc3RhdGUubG9hZGVyRGF0YSwgc3RhdGUubWF0Y2hlc1tpbmRleF0sIG1hdGNoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxldCBjdXJyZW50Um91dGVNYXRjaCA9IHN0YXRlLm1hdGNoZXNbaW5kZXhdO1xuICAgIGxldCBuZXh0Um91dGVNYXRjaCA9IG1hdGNoO1xuICAgIHJldHVybiBzaG91bGRSZXZhbGlkYXRlTG9hZGVyKG1hdGNoLCB7XG4gICAgICBjdXJyZW50VXJsLFxuICAgICAgY3VycmVudFBhcmFtczogY3VycmVudFJvdXRlTWF0Y2gucGFyYW1zLFxuICAgICAgbmV4dFVybCxcbiAgICAgIG5leHRQYXJhbXM6IG5leHRSb3V0ZU1hdGNoLnBhcmFtcyxcbiAgICAgIC4uLnN1Ym1pc3Npb24sXG4gICAgICBhY3Rpb25SZXN1bHQsXG4gICAgICBhY3Rpb25TdGF0dXMsXG4gICAgICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogc2hvdWxkU2tpcFJldmFsaWRhdGlvbiA/IGZhbHNlIDogKFxuICAgICAgICAvLyBGb3JjZWQgcmV2YWxpZGF0aW9uIGR1ZSB0byBzdWJtaXNzaW9uLCB1c2VSZXZhbGlkYXRvciwgb3IgWC1SZW1peC1SZXZhbGlkYXRlXG4gICAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgfHwgY3VycmVudFVybC5wYXRobmFtZSArIGN1cnJlbnRVcmwuc2VhcmNoID09PSBuZXh0VXJsLnBhdGhuYW1lICsgbmV4dFVybC5zZWFyY2ggfHwgLy8gU2VhcmNoIHBhcmFtcyBhZmZlY3QgYWxsIGxvYWRlcnNcbiAgICAgICAgY3VycmVudFVybC5zZWFyY2ggIT09IG5leHRVcmwuc2VhcmNoIHx8IGlzTmV3Um91dGVJbnN0YW5jZShjdXJyZW50Um91dGVNYXRjaCwgbmV4dFJvdXRlTWF0Y2gpXG4gICAgICApXG4gICAgfSk7XG4gIH0pO1xuICBsZXQgcmV2YWxpZGF0aW5nRmV0Y2hlcnMgPSBbXTtcbiAgZmV0Y2hMb2FkTWF0Y2hlcy5mb3JFYWNoKChmLCBrZXkpID0+IHtcbiAgICBpZiAoaW5pdGlhbEh5ZHJhdGlvbiB8fCAhbWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLmlkID09PSBmLnJvdXRlSWQpIHx8IGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uaGFzKGtleSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZldGNoZXJNYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVzVG9Vc2UsIGYucGF0aCwgYmFzZW5hbWUpO1xuICAgIGlmICghZmV0Y2hlck1hdGNoZXMpIHtcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLnB1c2goe1xuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQ6IGYucm91dGVJZCxcbiAgICAgICAgcGF0aDogZi5wYXRoLFxuICAgICAgICBtYXRjaGVzOiBudWxsLFxuICAgICAgICBtYXRjaDogbnVsbCxcbiAgICAgICAgY29udHJvbGxlcjogbnVsbFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBmZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgbGV0IGZldGNoZXJNYXRjaCA9IGdldFRhcmdldE1hdGNoKGZldGNoZXJNYXRjaGVzLCBmLnBhdGgpO1xuICAgIGxldCBzaG91bGRSZXZhbGlkYXRlID0gZmFsc2U7XG4gICAgaWYgKGZldGNoUmVkaXJlY3RJZHMuaGFzKGtleSkpIHtcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKGNhbmNlbGxlZEZldGNoZXJMb2Fkcy5oYXMoa2V5KSkge1xuICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmRlbGV0ZShrZXkpO1xuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChmZXRjaGVyICYmIGZldGNoZXIuc3RhdGUgIT09IFwiaWRsZVwiICYmIGZldGNoZXIuZGF0YSA9PT0gdm9pZCAwKSB7XG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gaXNSZXZhbGlkYXRpb25SZXF1aXJlZDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IHNob3VsZFJldmFsaWRhdGVMb2FkZXIoZmV0Y2hlck1hdGNoLCB7XG4gICAgICAgIGN1cnJlbnRVcmwsXG4gICAgICAgIGN1cnJlbnRQYXJhbXM6IHN0YXRlLm1hdGNoZXNbc3RhdGUubWF0Y2hlcy5sZW5ndGggLSAxXS5wYXJhbXMsXG4gICAgICAgIG5leHRVcmwsXG4gICAgICAgIG5leHRQYXJhbXM6IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5wYXJhbXMsXG4gICAgICAgIC4uLnN1Ym1pc3Npb24sXG4gICAgICAgIGFjdGlvblJlc3VsdCxcbiAgICAgICAgYWN0aW9uU3RhdHVzLFxuICAgICAgICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogc2hvdWxkU2tpcFJldmFsaWRhdGlvbiA/IGZhbHNlIDogaXNSZXZhbGlkYXRpb25SZXF1aXJlZFxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5wdXNoKHtcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkOiBmLnJvdXRlSWQsXG4gICAgICAgIHBhdGg6IGYucGF0aCxcbiAgICAgICAgbWF0Y2hlczogZmV0Y2hlck1hdGNoZXMsXG4gICAgICAgIG1hdGNoOiBmZXRjaGVyTWF0Y2gsXG4gICAgICAgIGNvbnRyb2xsZXI6IG5ldyBBYm9ydENvbnRyb2xsZXIoKVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIFtuYXZpZ2F0aW9uTWF0Y2hlcywgcmV2YWxpZGF0aW5nRmV0Y2hlcnNdO1xufVxuZnVuY3Rpb24gc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24ocm91dGUsIGxvYWRlckRhdGEsIGVycm9ycykge1xuICBpZiAocm91dGUubGF6eSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICghcm91dGUubG9hZGVyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBoYXNEYXRhID0gbG9hZGVyRGF0YSAhPSBudWxsICYmIGxvYWRlckRhdGFbcm91dGUuaWRdICE9PSB2b2lkIDA7XG4gIGxldCBoYXNFcnJvciA9IGVycm9ycyAhPSBudWxsICYmIGVycm9yc1tyb3V0ZS5pZF0gIT09IHZvaWQgMDtcbiAgaWYgKCFoYXNEYXRhICYmIGhhc0Vycm9yKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh0eXBlb2Ygcm91dGUubG9hZGVyID09PSBcImZ1bmN0aW9uXCIgJiYgcm91dGUubG9hZGVyLmh5ZHJhdGUgPT09IHRydWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gIWhhc0RhdGEgJiYgIWhhc0Vycm9yO1xufVxuZnVuY3Rpb24gaXNOZXdMb2FkZXIoY3VycmVudExvYWRlckRhdGEsIGN1cnJlbnRNYXRjaCwgbWF0Y2gpIHtcbiAgbGV0IGlzTmV3ID0gKFxuICAgIC8vIFthXSAtPiBbYSwgYl1cbiAgICAhY3VycmVudE1hdGNoIHx8IC8vIFthLCBiXSAtPiBbYSwgY11cbiAgICBtYXRjaC5yb3V0ZS5pZCAhPT0gY3VycmVudE1hdGNoLnJvdXRlLmlkXG4gICk7XG4gIGxldCBpc01pc3NpbmdEYXRhID0gIWN1cnJlbnRMb2FkZXJEYXRhLmhhc093blByb3BlcnR5KG1hdGNoLnJvdXRlLmlkKTtcbiAgcmV0dXJuIGlzTmV3IHx8IGlzTWlzc2luZ0RhdGE7XG59XG5mdW5jdGlvbiBpc05ld1JvdXRlSW5zdGFuY2UoY3VycmVudE1hdGNoLCBtYXRjaCkge1xuICBsZXQgY3VycmVudFBhdGggPSBjdXJyZW50TWF0Y2gucm91dGUucGF0aDtcbiAgcmV0dXJuIChcbiAgICAvLyBwYXJhbSBjaGFuZ2UgZm9yIHRoaXMgbWF0Y2gsIC91c2Vycy8xMjMgLT4gL3VzZXJzLzQ1NlxuICAgIGN1cnJlbnRNYXRjaC5wYXRobmFtZSAhPT0gbWF0Y2gucGF0aG5hbWUgfHwgLy8gc3BsYXQgcGFyYW0gY2hhbmdlZCwgd2hpY2ggaXMgbm90IHByZXNlbnQgaW4gbWF0Y2gucGF0aFxuICAgIC8vIGUuZy4gL2ZpbGVzL2ltYWdlcy9hdmF0YXIuanBnIC0+IGZpbGVzL2ZpbmFuY2VzLnhsc1xuICAgIGN1cnJlbnRQYXRoICE9IG51bGwgJiYgY3VycmVudFBhdGguZW5kc1dpdGgoXCIqXCIpICYmIGN1cnJlbnRNYXRjaC5wYXJhbXNbXCIqXCJdICE9PSBtYXRjaC5wYXJhbXNbXCIqXCJdXG4gICk7XG59XG5mdW5jdGlvbiBzaG91bGRSZXZhbGlkYXRlTG9hZGVyKGxvYWRlck1hdGNoLCBhcmcpIHtcbiAgaWYgKGxvYWRlck1hdGNoLnJvdXRlLnNob3VsZFJldmFsaWRhdGUpIHtcbiAgICBsZXQgcm91dGVDaG9pY2UgPSBsb2FkZXJNYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKGFyZyk7XG4gICAgaWYgKHR5cGVvZiByb3V0ZUNob2ljZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJldHVybiByb3V0ZUNob2ljZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFyZy5kZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTtcbn1cbmZ1bmN0aW9uIHBhdGNoUm91dGVzSW1wbChyb3V0ZUlkLCBjaGlsZHJlbiwgcm91dGVzVG9Vc2UsIG1hbmlmZXN0LCBtYXBSb3V0ZVByb3BlcnRpZXMyKSB7XG4gIGxldCBjaGlsZHJlblRvUGF0Y2g7XG4gIGlmIChyb3V0ZUlkKSB7XG4gICAgbGV0IHJvdXRlID0gbWFuaWZlc3Rbcm91dGVJZF07XG4gICAgaW52YXJpYW50KFxuICAgICAgcm91dGUsXG4gICAgICBgTm8gcm91dGUgZm91bmQgdG8gcGF0Y2ggY2hpbGRyZW4gaW50bzogcm91dGVJZCA9ICR7cm91dGVJZH1gXG4gICAgKTtcbiAgICBpZiAoIXJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICByb3V0ZS5jaGlsZHJlbiA9IFtdO1xuICAgIH1cbiAgICBjaGlsZHJlblRvUGF0Y2ggPSByb3V0ZS5jaGlsZHJlbjtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZHJlblRvUGF0Y2ggPSByb3V0ZXNUb1VzZTtcbiAgfVxuICBsZXQgdW5pcXVlQ2hpbGRyZW4gPSBjaGlsZHJlbi5maWx0ZXIoXG4gICAgKG5ld1JvdXRlKSA9PiAhY2hpbGRyZW5Ub1BhdGNoLnNvbWUoXG4gICAgICAoZXhpc3RpbmdSb3V0ZSkgPT4gaXNTYW1lUm91dGUobmV3Um91dGUsIGV4aXN0aW5nUm91dGUpXG4gICAgKVxuICApO1xuICBsZXQgbmV3Um91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICB1bmlxdWVDaGlsZHJlbixcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgIFtyb3V0ZUlkIHx8IFwiX1wiLCBcInBhdGNoXCIsIFN0cmluZyhjaGlsZHJlblRvUGF0Y2g/Lmxlbmd0aCB8fCBcIjBcIildLFxuICAgIG1hbmlmZXN0XG4gICk7XG4gIGNoaWxkcmVuVG9QYXRjaC5wdXNoKC4uLm5ld1JvdXRlcyk7XG59XG5mdW5jdGlvbiBpc1NhbWVSb3V0ZShuZXdSb3V0ZSwgZXhpc3RpbmdSb3V0ZSkge1xuICBpZiAoXCJpZFwiIGluIG5ld1JvdXRlICYmIFwiaWRcIiBpbiBleGlzdGluZ1JvdXRlICYmIG5ld1JvdXRlLmlkID09PSBleGlzdGluZ1JvdXRlLmlkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCEobmV3Um91dGUuaW5kZXggPT09IGV4aXN0aW5nUm91dGUuaW5kZXggJiYgbmV3Um91dGUucGF0aCA9PT0gZXhpc3RpbmdSb3V0ZS5wYXRoICYmIG5ld1JvdXRlLmNhc2VTZW5zaXRpdmUgPT09IGV4aXN0aW5nUm91dGUuY2FzZVNlbnNpdGl2ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCghbmV3Um91dGUuY2hpbGRyZW4gfHwgbmV3Um91dGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSAmJiAoIWV4aXN0aW5nUm91dGUuY2hpbGRyZW4gfHwgZXhpc3RpbmdSb3V0ZS5jaGlsZHJlbi5sZW5ndGggPT09IDApKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIG5ld1JvdXRlLmNoaWxkcmVuLmV2ZXJ5KFxuICAgIChhQ2hpbGQsIGkpID0+IGV4aXN0aW5nUm91dGUuY2hpbGRyZW4/LnNvbWUoKGJDaGlsZCkgPT4gaXNTYW1lUm91dGUoYUNoaWxkLCBiQ2hpbGQpKVxuICApO1xufVxuYXN5bmMgZnVuY3Rpb24gbG9hZExhenlSb3V0ZU1vZHVsZShyb3V0ZSwgbWFwUm91dGVQcm9wZXJ0aWVzMiwgbWFuaWZlc3QpIHtcbiAgaWYgKCFyb3V0ZS5sYXp5KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBsYXp5Um91dGUgPSBhd2FpdCByb3V0ZS5sYXp5KCk7XG4gIGlmICghcm91dGUubGF6eSkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgcm91dGVUb1VwZGF0ZSA9IG1hbmlmZXN0W3JvdXRlLmlkXTtcbiAgaW52YXJpYW50KHJvdXRlVG9VcGRhdGUsIFwiTm8gcm91dGUgZm91bmQgaW4gbWFuaWZlc3RcIik7XG4gIGxldCByb3V0ZVVwZGF0ZXMgPSB7fTtcbiAgZm9yIChsZXQgbGF6eVJvdXRlUHJvcGVydHkgaW4gbGF6eVJvdXRlKSB7XG4gICAgbGV0IHN0YXRpY1JvdXRlVmFsdWUgPSByb3V0ZVRvVXBkYXRlW2xhenlSb3V0ZVByb3BlcnR5XTtcbiAgICBsZXQgaXNQcm9wZXJ0eVN0YXRpY2FsbHlEZWZpbmVkID0gc3RhdGljUm91dGVWYWx1ZSAhPT0gdm9pZCAwICYmIC8vIFRoaXMgcHJvcGVydHkgaXNuJ3Qgc3RhdGljIHNpbmNlIGl0IHNob3VsZCBhbHdheXMgYmUgdXBkYXRlZCBiYXNlZFxuICAgIC8vIG9uIHRoZSByb3V0ZSB1cGRhdGVzXG4gICAgbGF6eVJvdXRlUHJvcGVydHkgIT09IFwiaGFzRXJyb3JCb3VuZGFyeVwiO1xuICAgIHdhcm5pbmcoXG4gICAgICAhaXNQcm9wZXJ0eVN0YXRpY2FsbHlEZWZpbmVkLFxuICAgICAgYFJvdXRlIFwiJHtyb3V0ZVRvVXBkYXRlLmlkfVwiIGhhcyBhIHN0YXRpYyBwcm9wZXJ0eSBcIiR7bGF6eVJvdXRlUHJvcGVydHl9XCIgZGVmaW5lZCBidXQgaXRzIGxhenkgZnVuY3Rpb24gaXMgYWxzbyByZXR1cm5pbmcgYSB2YWx1ZSBmb3IgdGhpcyBwcm9wZXJ0eS4gVGhlIGxhenkgcm91dGUgcHJvcGVydHkgXCIke2xhenlSb3V0ZVByb3BlcnR5fVwiIHdpbGwgYmUgaWdub3JlZC5gXG4gICAgKTtcbiAgICBpZiAoIWlzUHJvcGVydHlTdGF0aWNhbGx5RGVmaW5lZCAmJiAhaW1tdXRhYmxlUm91dGVLZXlzLmhhcyhsYXp5Um91dGVQcm9wZXJ0eSkpIHtcbiAgICAgIHJvdXRlVXBkYXRlc1tsYXp5Um91dGVQcm9wZXJ0eV0gPSBsYXp5Um91dGVbbGF6eVJvdXRlUHJvcGVydHldO1xuICAgIH1cbiAgfVxuICBPYmplY3QuYXNzaWduKHJvdXRlVG9VcGRhdGUsIHJvdXRlVXBkYXRlcyk7XG4gIE9iamVjdC5hc3NpZ24ocm91dGVUb1VwZGF0ZSwge1xuICAgIC8vIFRvIGtlZXAgdGhpbmdzIGZyYW1ld29yayBhZ25vc3RpYywgd2UgdXNlIHRoZSBwcm92aWRlZCBgbWFwUm91dGVQcm9wZXJ0aWVzYFxuICAgIC8vIGZ1bmN0aW9uIHRvIHNldCB0aGUgZnJhbWV3b3JrLWF3YXJlIHByb3BlcnRpZXMgKGBlbGVtZW50YC9gaGFzRXJyb3JCb3VuZGFyeWApXG4gICAgLy8gc2luY2UgdGhlIGxvZ2ljIHdpbGwgZGlmZmVyIGJldHdlZW4gZnJhbWV3b3Jrcy5cbiAgICAuLi5tYXBSb3V0ZVByb3BlcnRpZXMyKHJvdXRlVG9VcGRhdGUpLFxuICAgIGxhenk6IHZvaWQgMFxuICB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlZmF1bHREYXRhU3RyYXRlZ3koYXJncykge1xuICBsZXQgbWF0Y2hlc1RvTG9hZCA9IGFyZ3MubWF0Y2hlcy5maWx0ZXIoKG0pID0+IG0uc2hvdWxkTG9hZCk7XG4gIGxldCBrZXllZFJlc3VsdHMgPSB7fTtcbiAgbGV0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChtYXRjaGVzVG9Mb2FkLm1hcCgobSkgPT4gbS5yZXNvbHZlKCkpKTtcbiAgcmVzdWx0cy5mb3JFYWNoKChyZXN1bHQsIGkpID0+IHtcbiAgICBrZXllZFJlc3VsdHNbbWF0Y2hlc1RvTG9hZFtpXS5yb3V0ZS5pZF0gPSByZXN1bHQ7XG4gIH0pO1xuICByZXR1cm4ga2V5ZWRSZXN1bHRzO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdERhdGFTdHJhdGVneVdpdGhNaWRkbGV3YXJlKGFyZ3MpIHtcbiAgaWYgKCFhcmdzLm1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS51bnN0YWJsZV9taWRkbGV3YXJlKSkge1xuICAgIHJldHVybiBkZWZhdWx0RGF0YVN0cmF0ZWd5KGFyZ3MpO1xuICB9XG4gIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgYXJncyxcbiAgICBmYWxzZSxcbiAgICAoKSA9PiBkZWZhdWx0RGF0YVN0cmF0ZWd5KGFyZ3MpLFxuICAgIChlKSA9PiAoeyBbZS5yb3V0ZUlkXTogeyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZS5lcnJvciB9IH0pXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoYXJncywgcHJvcGFnYXRlUmVzdWx0LCBoYW5kbGVyLCBlcnJvckhhbmRsZXIpIHtcbiAgbGV0IHsgbWF0Y2hlcywgcmVxdWVzdCwgcGFyYW1zLCBjb250ZXh0IH0gPSBhcmdzO1xuICBsZXQgbWlkZGxld2FyZVN0YXRlID0ge1xuICAgIGhhbmRsZXJSZXN1bHQ6IHZvaWQgMCxcbiAgICBwcm9wYWdhdGVSZXN1bHRcbiAgfTtcbiAgdHJ5IHtcbiAgICBsZXQgdHVwbGVzID0gbWF0Y2hlcy5mbGF0TWFwKFxuICAgICAgKG0pID0+IG0ucm91dGUudW5zdGFibGVfbWlkZGxld2FyZSA/IG0ucm91dGUudW5zdGFibGVfbWlkZGxld2FyZS5tYXAoKGZuKSA9PiBbbS5yb3V0ZS5pZCwgZm5dKSA6IFtdXG4gICAgKTtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgY2FsbFJvdXRlTWlkZGxld2FyZShcbiAgICAgIHsgcmVxdWVzdCwgcGFyYW1zLCBjb250ZXh0IH0sXG4gICAgICB0dXBsZXMsXG4gICAgICBtaWRkbGV3YXJlU3RhdGUsXG4gICAgICBoYW5kbGVyXG4gICAgKTtcbiAgICByZXR1cm4gbWlkZGxld2FyZVN0YXRlLnByb3BhZ2F0ZVJlc3VsdCA/IHJlc3VsdCA6IG1pZGRsZXdhcmVTdGF0ZS5oYW5kbGVyUmVzdWx0O1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKCEoZSBpbnN0YW5jZW9mIE1pZGRsZXdhcmVFcnJvcikpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBlcnJvckhhbmRsZXIoZSk7XG4gICAgaWYgKHByb3BhZ2F0ZVJlc3VsdCB8fCAhbWlkZGxld2FyZVN0YXRlLmhhbmRsZXJSZXN1bHQpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG1pZGRsZXdhcmVTdGF0ZS5oYW5kbGVyUmVzdWx0LCByZXN1bHQpO1xuICB9XG59XG52YXIgTWlkZGxld2FyZUVycm9yID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihyb3V0ZUlkLCBlcnJvcikge1xuICAgIHRoaXMucm91dGVJZCA9IHJvdXRlSWQ7XG4gICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICB9XG59O1xuYXN5bmMgZnVuY3Rpb24gY2FsbFJvdXRlTWlkZGxld2FyZShhcmdzLCBtaWRkbGV3YXJlcywgbWlkZGxld2FyZVN0YXRlLCBoYW5kbGVyLCBpZHggPSAwKSB7XG4gIGxldCB7IHJlcXVlc3QgfSA9IGFyZ3M7XG4gIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsLnJlYXNvbikge1xuICAgICAgdGhyb3cgcmVxdWVzdC5zaWduYWwucmVhc29uO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgUmVxdWVzdCBhYm9ydGVkIHdpdGhvdXQgYW4gXFxgQWJvcnRTaWduYWwucmVhc29uXFxgOiAke3JlcXVlc3QubWV0aG9kfSAke3JlcXVlc3QudXJsfWBcbiAgICApO1xuICB9XG4gIGxldCB0dXBsZSA9IG1pZGRsZXdhcmVzW2lkeF07XG4gIGlmICghdHVwbGUpIHtcbiAgICBtaWRkbGV3YXJlU3RhdGUuaGFuZGxlclJlc3VsdCA9IGF3YWl0IGhhbmRsZXIoKTtcbiAgICByZXR1cm4gbWlkZGxld2FyZVN0YXRlLmhhbmRsZXJSZXN1bHQ7XG4gIH1cbiAgbGV0IFtyb3V0ZUlkLCBtaWRkbGV3YXJlXSA9IHR1cGxlO1xuICBsZXQgbmV4dENhbGxlZCA9IGZhbHNlO1xuICBsZXQgbmV4dFJlc3VsdCA9IHZvaWQgMDtcbiAgbGV0IG5leHQgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKG5leHRDYWxsZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIllvdSBtYXkgb25seSBjYWxsIGBuZXh0KClgIG9uY2UgcGVyIG1pZGRsZXdhcmVcIik7XG4gICAgfVxuICAgIG5leHRDYWxsZWQgPSB0cnVlO1xuICAgIGxldCByZXN1bHQgPSBhd2FpdCBjYWxsUm91dGVNaWRkbGV3YXJlKFxuICAgICAgYXJncyxcbiAgICAgIG1pZGRsZXdhcmVzLFxuICAgICAgbWlkZGxld2FyZVN0YXRlLFxuICAgICAgaGFuZGxlcixcbiAgICAgIGlkeCArIDFcbiAgICApO1xuICAgIGlmIChtaWRkbGV3YXJlU3RhdGUucHJvcGFnYXRlUmVzdWx0KSB7XG4gICAgICBuZXh0UmVzdWx0ID0gcmVzdWx0O1xuICAgICAgcmV0dXJuIG5leHRSZXN1bHQ7XG4gICAgfVxuICB9O1xuICB0cnkge1xuICAgIGxldCByZXN1bHQgPSBhd2FpdCBtaWRkbGV3YXJlKFxuICAgICAge1xuICAgICAgICByZXF1ZXN0OiBhcmdzLnJlcXVlc3QsXG4gICAgICAgIHBhcmFtczogYXJncy5wYXJhbXMsXG4gICAgICAgIGNvbnRleHQ6IGFyZ3MuY29udGV4dFxuICAgICAgfSxcbiAgICAgIG5leHRcbiAgICApO1xuICAgIGlmIChuZXh0Q2FsbGVkKSB7XG4gICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIG5leHRSZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgTWlkZGxld2FyZUVycm9yKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgTWlkZGxld2FyZUVycm9yKHJvdXRlSWQsIGUpO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBjYWxsRGF0YVN0cmF0ZWd5SW1wbChkYXRhU3RyYXRlZ3lJbXBsLCB0eXBlLCByZXF1ZXN0LCBtYXRjaGVzVG9Mb2FkLCBtYXRjaGVzLCBmZXRjaGVyS2V5LCBtYW5pZmVzdCwgbWFwUm91dGVQcm9wZXJ0aWVzMiwgc2NvcGVkQ29udGV4dCwgZW5hYmxlTWlkZGxld2FyZSkge1xuICBsZXQgbG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlcyA9IG1hdGNoZXMubWFwKFxuICAgIChtKSA9PiBtLnJvdXRlLmxhenkgPyBsb2FkTGF6eVJvdXRlTW9kdWxlKG0ucm91dGUsIG1hcFJvdXRlUHJvcGVydGllczIsIG1hbmlmZXN0KSA6IHZvaWQgMFxuICApO1xuICBpZiAoZW5hYmxlTWlkZGxld2FyZSkge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKGxvYWRSb3V0ZURlZmluaXRpb25zUHJvbWlzZXMpO1xuICB9XG4gIGxldCBkc01hdGNoZXMgPSBtYXRjaGVzLm1hcCgobWF0Y2gsIGkpID0+IHtcbiAgICBsZXQgbG9hZFJvdXRlUHJvbWlzZSA9IGxvYWRSb3V0ZURlZmluaXRpb25zUHJvbWlzZXNbaV07XG4gICAgbGV0IHNob3VsZExvYWQgPSBtYXRjaGVzVG9Mb2FkLnNvbWUoKG0pID0+IG0ucm91dGUuaWQgPT09IG1hdGNoLnJvdXRlLmlkKTtcbiAgICBsZXQgcmVzb2x2ZSA9IGFzeW5jIChoYW5kbGVyT3ZlcnJpZGUpID0+IHtcbiAgICAgIGlmIChoYW5kbGVyT3ZlcnJpZGUgJiYgcmVxdWVzdC5tZXRob2QgPT09IFwiR0VUXCIgJiYgKG1hdGNoLnJvdXRlLmxhenkgfHwgbWF0Y2gucm91dGUubG9hZGVyKSkge1xuICAgICAgICBzaG91bGRMb2FkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaG91bGRMb2FkID8gY2FsbExvYWRlck9yQWN0aW9uKFxuICAgICAgICB0eXBlLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgbG9hZFJvdXRlUHJvbWlzZSxcbiAgICAgICAgaGFuZGxlck92ZXJyaWRlLFxuICAgICAgICBzY29wZWRDb250ZXh0XG4gICAgICApIDogUHJvbWlzZS5yZXNvbHZlKHsgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLywgcmVzdWx0OiB2b2lkIDAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ubWF0Y2gsXG4gICAgICBzaG91bGRMb2FkLFxuICAgICAgcmVzb2x2ZVxuICAgIH07XG4gIH0pO1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IGRhdGFTdHJhdGVneUltcGwoe1xuICAgIG1hdGNoZXM6IGRzTWF0Y2hlcyxcbiAgICByZXF1ZXN0LFxuICAgIHBhcmFtczogbWF0Y2hlc1swXS5wYXJhbXMsXG4gICAgZmV0Y2hlcktleSxcbiAgICBjb250ZXh0OiBzY29wZWRDb250ZXh0XG4gIH0pO1xuICB0cnkge1xuICAgIGF3YWl0IFByb21pc2UuYWxsKGxvYWRSb3V0ZURlZmluaXRpb25zUHJvbWlzZXMpO1xuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5hc3luYyBmdW5jdGlvbiBjYWxsTG9hZGVyT3JBY3Rpb24odHlwZSwgcmVxdWVzdCwgbWF0Y2gsIGxvYWRSb3V0ZVByb21pc2UsIGhhbmRsZXJPdmVycmlkZSwgc2NvcGVkQ29udGV4dCkge1xuICBsZXQgcmVzdWx0O1xuICBsZXQgb25SZWplY3Q7XG4gIGxldCBydW5IYW5kbGVyID0gKGhhbmRsZXIpID0+IHtcbiAgICBsZXQgcmVqZWN0O1xuICAgIGxldCBhYm9ydFByb21pc2UgPSBuZXcgUHJvbWlzZSgoXywgcikgPT4gcmVqZWN0ID0gcik7XG4gICAgb25SZWplY3QgPSAoKSA9PiByZWplY3QoKTtcbiAgICByZXF1ZXN0LnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25SZWplY3QpO1xuICAgIGxldCBhY3R1YWxIYW5kbGVyID0gKGN0eCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgICAgIG5ldyBFcnJvcihcbiAgICAgICAgICAgIGBZb3UgY2Fubm90IGNhbGwgdGhlIGhhbmRsZXIgZm9yIGEgcm91dGUgd2hpY2ggZGVmaW5lcyBhIGJvb2xlYW4gXCIke3R5cGV9XCIgW3JvdXRlSWQ6ICR7bWF0Y2gucm91dGUuaWR9XWBcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFuZGxlcihcbiAgICAgICAge1xuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgcGFyYW1zOiBtYXRjaC5wYXJhbXMsXG4gICAgICAgICAgY29udGV4dDogc2NvcGVkQ29udGV4dFxuICAgICAgICB9LFxuICAgICAgICAuLi5jdHggIT09IHZvaWQgMCA/IFtjdHhdIDogW11cbiAgICAgICk7XG4gICAgfTtcbiAgICBsZXQgaGFuZGxlclByb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHZhbCA9IGF3YWl0IChoYW5kbGVyT3ZlcnJpZGUgPyBoYW5kbGVyT3ZlcnJpZGUoKGN0eCkgPT4gYWN0dWFsSGFuZGxlcihjdHgpKSA6IGFjdHVhbEhhbmRsZXIoKSk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiLCByZXN1bHQ6IHZhbCB9O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZSB9O1xuICAgICAgfVxuICAgIH0pKCk7XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShbaGFuZGxlclByb21pc2UsIGFib3J0UHJvbWlzZV0pO1xuICB9O1xuICB0cnkge1xuICAgIGxldCBoYW5kbGVyID0gbWF0Y2gucm91dGVbdHlwZV07XG4gICAgaWYgKGxvYWRSb3V0ZVByb21pc2UpIHtcbiAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIGxldCBoYW5kbGVyRXJyb3I7XG4gICAgICAgIGxldCBbdmFsdWVdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIC8vIElmIHRoZSBoYW5kbGVyIHRocm93cywgZG9uJ3QgbGV0IGl0IGltbWVkaWF0ZWx5IGJ1YmJsZSBvdXQsXG4gICAgICAgICAgLy8gc2luY2Ugd2UgbmVlZCB0byBsZXQgdGhlIGxhenkoKSBleGVjdXRpb24gZmluaXNoIHNvIHdlIGtub3cgaWYgdGhpc1xuICAgICAgICAgIC8vIHJvdXRlIGhhcyBhIGJvdW5kYXJ5IHRoYXQgY2FuIGhhbmRsZSB0aGUgZXJyb3JcbiAgICAgICAgICBydW5IYW5kbGVyKGhhbmRsZXIpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBoYW5kbGVyRXJyb3IgPSBlO1xuICAgICAgICAgIH0pLFxuICAgICAgICAgIGxvYWRSb3V0ZVByb21pc2VcbiAgICAgICAgXSk7XG4gICAgICAgIGlmIChoYW5kbGVyRXJyb3IgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHRocm93IGhhbmRsZXJFcnJvcjtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IGxvYWRSb3V0ZVByb21pc2U7XG4gICAgICAgIGhhbmRsZXIgPSBtYXRjaC5yb3V0ZVt0eXBlXTtcbiAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICByZXN1bHQgPSBhd2FpdCBydW5IYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwiYWN0aW9uXCIpIHtcbiAgICAgICAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICAgICAgbGV0IHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaDtcbiAgICAgICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwge1xuICAgICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgIHBhdGhuYW1lLFxuICAgICAgICAgICAgcm91dGVJZDogbWF0Y2gucm91dGUuaWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiAvKiBkYXRhICovLCByZXN1bHQ6IHZvaWQgMCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICghaGFuZGxlcikge1xuICAgICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgbGV0IHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaDtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7XG4gICAgICAgIHBhdGhuYW1lXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgcnVuSGFuZGxlcihoYW5kbGVyKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sIHJlc3VsdDogZSB9O1xuICB9IGZpbmFsbHkge1xuICAgIGlmIChvblJlamVjdCkge1xuICAgICAgcmVxdWVzdC5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIG9uUmVqZWN0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGNvbnZlcnREYXRhU3RyYXRlZ3lSZXN1bHRUb0RhdGFSZXN1bHQoZGF0YVN0cmF0ZWd5UmVzdWx0KSB7XG4gIGxldCB7IHJlc3VsdCwgdHlwZSB9ID0gZGF0YVN0cmF0ZWd5UmVzdWx0O1xuICBpZiAoaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgbGV0IGRhdGEyO1xuICAgIHRyeSB7XG4gICAgICBsZXQgY29udGVudFR5cGUgPSByZXN1bHQuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIik7XG4gICAgICBpZiAoY29udGVudFR5cGUgJiYgL1xcYmFwcGxpY2F0aW9uXFwvanNvblxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5ib2R5ID09IG51bGwpIHtcbiAgICAgICAgICBkYXRhMiA9IG51bGw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF0YTIgPSBhd2FpdCByZXN1bHQuanNvbigpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhMiA9IGF3YWl0IHJlc3VsdC50ZXh0KCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLCBlcnJvcjogZSB9O1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gXCJlcnJvclwiIC8qIGVycm9yICovKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3JSZXNwb25zZUltcGwocmVzdWx0LnN0YXR1cywgcmVzdWx0LnN0YXR1c1RleHQsIGRhdGEyKSxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgaGVhZGVyczogcmVzdWx0LmhlYWRlcnNcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImRhdGFcIiAvKiBkYXRhICovLFxuICAgICAgZGF0YTogZGF0YTIsXG4gICAgICBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzLFxuICAgICAgaGVhZGVyczogcmVzdWx0LmhlYWRlcnNcbiAgICB9O1xuICB9XG4gIGlmICh0eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi8pIHtcbiAgICBpZiAoaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChyZXN1bHQpKSB7XG4gICAgICBpZiAocmVzdWx0LmRhdGEgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgICBlcnJvcjogcmVzdWx0LmRhdGEsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LmluaXQ/LnN0YXR1cyxcbiAgICAgICAgICBoZWFkZXJzOiByZXN1bHQuaW5pdD8uaGVhZGVycyA/IG5ldyBIZWFkZXJzKHJlc3VsdC5pbml0LmhlYWRlcnMpIDogdm9pZCAwXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgIGVycm9yOiBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgICAgICAgcmVzdWx0LmluaXQ/LnN0YXR1cyB8fCA1MDAsXG4gICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgIHJlc3VsdC5kYXRhXG4gICAgICAgICksXG4gICAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdCkgPyByZXN1bHQuc3RhdHVzIDogdm9pZCAwLFxuICAgICAgICBoZWFkZXJzOiByZXN1bHQuaW5pdD8uaGVhZGVycyA/IG5ldyBIZWFkZXJzKHJlc3VsdC5pbml0LmhlYWRlcnMpIDogdm9pZCAwXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgZXJyb3I6IHJlc3VsdCxcbiAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdCkgPyByZXN1bHQuc3RhdHVzIDogdm9pZCAwXG4gICAgfTtcbiAgfVxuICBpZiAoaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChyZXN1bHQpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sXG4gICAgICBkYXRhOiByZXN1bHQuZGF0YSxcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5pbml0Py5zdGF0dXMsXG4gICAgICBoZWFkZXJzOiByZXN1bHQuaW5pdD8uaGVhZGVycyA/IG5ldyBIZWFkZXJzKHJlc3VsdC5pbml0LmhlYWRlcnMpIDogdm9pZCAwXG4gICAgfTtcbiAgfVxuICByZXR1cm4geyB0eXBlOiBcImRhdGFcIiAvKiBkYXRhICovLCBkYXRhOiByZXN1bHQgfTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJlbGF0aXZlUm91dGluZ1JlZGlyZWN0UmVzcG9uc2UocmVzcG9uc2UsIHJlcXVlc3QsIHJvdXRlSWQsIG1hdGNoZXMsIGJhc2VuYW1lKSB7XG4gIGxldCBsb2NhdGlvbiA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIik7XG4gIGludmFyaWFudChcbiAgICBsb2NhdGlvbixcbiAgICBcIlJlZGlyZWN0cyByZXR1cm5lZC90aHJvd24gZnJvbSBsb2FkZXJzL2FjdGlvbnMgbXVzdCBoYXZlIGEgTG9jYXRpb24gaGVhZGVyXCJcbiAgKTtcbiAgaWYgKCFBQlNPTFVURV9VUkxfUkVHRVgudGVzdChsb2NhdGlvbikpIHtcbiAgICBsZXQgdHJpbW1lZE1hdGNoZXMgPSBtYXRjaGVzLnNsaWNlKFxuICAgICAgMCxcbiAgICAgIG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBtLnJvdXRlLmlkID09PSByb3V0ZUlkKSArIDFcbiAgICApO1xuICAgIGxvY2F0aW9uID0gbm9ybWFsaXplVG8oXG4gICAgICBuZXcgVVJMKHJlcXVlc3QudXJsKSxcbiAgICAgIHRyaW1tZWRNYXRjaGVzLFxuICAgICAgYmFzZW5hbWUsXG4gICAgICBsb2NhdGlvblxuICAgICk7XG4gICAgcmVzcG9uc2UuaGVhZGVycy5zZXQoXCJMb2NhdGlvblwiLCBsb2NhdGlvbik7XG4gIH1cbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUmVkaXJlY3RMb2NhdGlvbihsb2NhdGlvbiwgY3VycmVudFVybCwgYmFzZW5hbWUpIHtcbiAgaWYgKEFCU09MVVRFX1VSTF9SRUdFWC50ZXN0KGxvY2F0aW9uKSkge1xuICAgIGxldCBub3JtYWxpemVkTG9jYXRpb24gPSBsb2NhdGlvbjtcbiAgICBsZXQgdXJsID0gbm9ybWFsaXplZExvY2F0aW9uLnN0YXJ0c1dpdGgoXCIvL1wiKSA/IG5ldyBVUkwoY3VycmVudFVybC5wcm90b2NvbCArIG5vcm1hbGl6ZWRMb2NhdGlvbikgOiBuZXcgVVJMKG5vcm1hbGl6ZWRMb2NhdGlvbik7XG4gICAgbGV0IGlzU2FtZUJhc2VuYW1lID0gc3RyaXBCYXNlbmFtZSh1cmwucGF0aG5hbWUsIGJhc2VuYW1lKSAhPSBudWxsO1xuICAgIGlmICh1cmwub3JpZ2luID09PSBjdXJyZW50VXJsLm9yaWdpbiAmJiBpc1NhbWVCYXNlbmFtZSkge1xuICAgICAgcmV0dXJuIHVybC5wYXRobmFtZSArIHVybC5zZWFyY2ggKyB1cmwuaGFzaDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxvY2F0aW9uO1xufVxuZnVuY3Rpb24gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoaGlzdG9yeSwgbG9jYXRpb24sIHNpZ25hbCwgc3VibWlzc2lvbikge1xuICBsZXQgdXJsID0gaGlzdG9yeS5jcmVhdGVVUkwoc3RyaXBIYXNoRnJvbVBhdGgobG9jYXRpb24pKS50b1N0cmluZygpO1xuICBsZXQgaW5pdCA9IHsgc2lnbmFsIH07XG4gIGlmIChzdWJtaXNzaW9uICYmIGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgIGxldCB7IGZvcm1NZXRob2QsIGZvcm1FbmNUeXBlIH0gPSBzdWJtaXNzaW9uO1xuICAgIGluaXQubWV0aG9kID0gZm9ybU1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICAgIGlmIChmb3JtRW5jVHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgIGluaXQuaGVhZGVycyA9IG5ldyBIZWFkZXJzKHsgXCJDb250ZW50LVR5cGVcIjogZm9ybUVuY1R5cGUgfSk7XG4gICAgICBpbml0LmJvZHkgPSBKU09OLnN0cmluZ2lmeShzdWJtaXNzaW9uLmpzb24pO1xuICAgIH0gZWxzZSBpZiAoZm9ybUVuY1R5cGUgPT09IFwidGV4dC9wbGFpblwiKSB7XG4gICAgICBpbml0LmJvZHkgPSBzdWJtaXNzaW9uLnRleHQ7XG4gICAgfSBlbHNlIGlmIChmb3JtRW5jVHlwZSA9PT0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiAmJiBzdWJtaXNzaW9uLmZvcm1EYXRhKSB7XG4gICAgICBpbml0LmJvZHkgPSBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhzdWJtaXNzaW9uLmZvcm1EYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdC5ib2R5ID0gc3VibWlzc2lvbi5mb3JtRGF0YTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybCwgaW5pdCk7XG59XG5mdW5jdGlvbiBjb252ZXJ0Rm9ybURhdGFUb1NlYXJjaFBhcmFtcyhmb3JtRGF0YSkge1xuICBsZXQgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgZm9ybURhdGEuZW50cmllcygpKSB7XG4gICAgc2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlIDogdmFsdWUubmFtZSk7XG4gIH1cbiAgcmV0dXJuIHNlYXJjaFBhcmFtcztcbn1cbmZ1bmN0aW9uIGNvbnZlcnRTZWFyY2hQYXJhbXNUb0Zvcm1EYXRhKHNlYXJjaFBhcmFtcykge1xuICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIHNlYXJjaFBhcmFtcy5lbnRyaWVzKCkpIHtcbiAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gIH1cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuZnVuY3Rpb24gcHJvY2Vzc1JvdXRlTG9hZGVyRGF0YShtYXRjaGVzLCByZXN1bHRzLCBwZW5kaW5nQWN0aW9uUmVzdWx0LCBpc1N0YXRpY0hhbmRsZXIgPSBmYWxzZSwgc2tpcExvYWRlckVycm9yQnViYmxpbmcgPSBmYWxzZSkge1xuICBsZXQgbG9hZGVyRGF0YSA9IHt9O1xuICBsZXQgZXJyb3JzID0gbnVsbDtcbiAgbGV0IHN0YXR1c0NvZGU7XG4gIGxldCBmb3VuZEVycm9yID0gZmFsc2U7XG4gIGxldCBsb2FkZXJIZWFkZXJzID0ge307XG4gIGxldCBwZW5kaW5nRXJyb3IgPSBwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkgPyBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yIDogdm9pZCAwO1xuICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgaWYgKCEobWF0Y2gucm91dGUuaWQgaW4gcmVzdWx0cykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgbGV0IHJlc3VsdCA9IHJlc3VsdHNbaWRdO1xuICAgIGludmFyaWFudChcbiAgICAgICFpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCksXG4gICAgICBcIkNhbm5vdCBoYW5kbGUgcmVkaXJlY3QgcmVzdWx0cyBpbiBwcm9jZXNzTG9hZGVyRGF0YVwiXG4gICAgKTtcbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgZXJyb3IgPSByZXN1bHQuZXJyb3I7XG4gICAgICBpZiAocGVuZGluZ0Vycm9yICE9PSB2b2lkIDApIHtcbiAgICAgICAgZXJyb3IgPSBwZW5kaW5nRXJyb3I7XG4gICAgICAgIHBlbmRpbmdFcnJvciA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGVycm9ycyA9IGVycm9ycyB8fCB7fTtcbiAgICAgIGlmIChza2lwTG9hZGVyRXJyb3JCdWJibGluZykge1xuICAgICAgICBlcnJvcnNbaWRdID0gZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgaWQpO1xuICAgICAgICBpZiAoZXJyb3JzW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdID09IG51bGwpIHtcbiAgICAgICAgICBlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0gPSBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFpc1N0YXRpY0hhbmRsZXIpIHtcbiAgICAgICAgbG9hZGVyRGF0YVtpZF0gPSBSZXNldExvYWRlckRhdGFTeW1ib2w7XG4gICAgICB9XG4gICAgICBpZiAoIWZvdW5kRXJyb3IpIHtcbiAgICAgICAgZm91bmRFcnJvciA9IHRydWU7XG4gICAgICAgIHN0YXR1c0NvZGUgPSBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQuZXJyb3IpID8gcmVzdWx0LmVycm9yLnN0YXR1cyA6IDUwMDtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQuaGVhZGVycykge1xuICAgICAgICBsb2FkZXJIZWFkZXJzW2lkXSA9IHJlc3VsdC5oZWFkZXJzO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2FkZXJEYXRhW2lkXSA9IHJlc3VsdC5kYXRhO1xuICAgICAgaWYgKHJlc3VsdC5zdGF0dXNDb2RlICYmIHJlc3VsdC5zdGF0dXNDb2RlICE9PSAyMDAgJiYgIWZvdW5kRXJyb3IpIHtcbiAgICAgICAgc3RhdHVzQ29kZSA9IHJlc3VsdC5zdGF0dXNDb2RlO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdC5oZWFkZXJzKSB7XG4gICAgICAgIGxvYWRlckhlYWRlcnNbaWRdID0gcmVzdWx0LmhlYWRlcnM7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKHBlbmRpbmdFcnJvciAhPT0gdm9pZCAwICYmIHBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICBlcnJvcnMgPSB7IFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0Vycm9yIH07XG4gICAgbG9hZGVyRGF0YVtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXSA9IHZvaWQgMDtcbiAgfVxuICByZXR1cm4ge1xuICAgIGxvYWRlckRhdGEsXG4gICAgZXJyb3JzLFxuICAgIHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUgfHwgMjAwLFxuICAgIGxvYWRlckhlYWRlcnNcbiAgfTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NMb2FkZXJEYXRhKHN0YXRlLCBtYXRjaGVzLCByZXN1bHRzLCBwZW5kaW5nQWN0aW9uUmVzdWx0LCByZXZhbGlkYXRpbmdGZXRjaGVycywgZmV0Y2hlclJlc3VsdHMpIHtcbiAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzIH0gPSBwcm9jZXNzUm91dGVMb2FkZXJEYXRhKFxuICAgIG1hdGNoZXMsXG4gICAgcmVzdWx0cyxcbiAgICBwZW5kaW5nQWN0aW9uUmVzdWx0XG4gICk7XG4gIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiB7XG4gICAgbGV0IHsga2V5LCBtYXRjaCwgY29udHJvbGxlciB9ID0gcmY7XG4gICAgbGV0IHJlc3VsdCA9IGZldGNoZXJSZXN1bHRzW2tleV07XG4gICAgaW52YXJpYW50KHJlc3VsdCwgXCJEaWQgbm90IGZpbmQgY29ycmVzcG9uZGluZyBmZXRjaGVyIHJlc3VsdFwiKTtcbiAgICBpZiAoY29udHJvbGxlciAmJiBjb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShzdGF0ZS5tYXRjaGVzLCBtYXRjaD8ucm91dGUuaWQpO1xuICAgICAgaWYgKCEoZXJyb3JzICYmIGVycm9yc1tib3VuZGFyeU1hdGNoLnJvdXRlLmlkXSkpIHtcbiAgICAgICAgZXJyb3JzID0ge1xuICAgICAgICAgIC4uLmVycm9ycyxcbiAgICAgICAgICBbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5lcnJvclxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3RhdGUuZmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gICAgfSBlbHNlIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGludmFyaWFudChmYWxzZSwgXCJVbmhhbmRsZWQgZmV0Y2hlciByZXZhbGlkYXRpb24gcmVkaXJlY3RcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBkb25lRmV0Y2hlciA9IGdldERvbmVGZXRjaGVyKHJlc3VsdC5kYXRhKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChrZXksIGRvbmVGZXRjaGVyKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4geyBsb2FkZXJEYXRhLCBlcnJvcnMgfTtcbn1cbmZ1bmN0aW9uIG1lcmdlTG9hZGVyRGF0YShsb2FkZXJEYXRhLCBuZXdMb2FkZXJEYXRhLCBtYXRjaGVzLCBlcnJvcnMpIHtcbiAgbGV0IG1lcmdlZExvYWRlckRhdGEgPSBPYmplY3QuZW50cmllcyhuZXdMb2FkZXJEYXRhKS5maWx0ZXIoKFssIHZdKSA9PiB2ICE9PSBSZXNldExvYWRlckRhdGFTeW1ib2wpLnJlZHVjZSgobWVyZ2VkLCBbaywgdl0pID0+IHtcbiAgICBtZXJnZWRba10gPSB2O1xuICAgIHJldHVybiBtZXJnZWQ7XG4gIH0sIHt9KTtcbiAgZm9yIChsZXQgbWF0Y2ggb2YgbWF0Y2hlcykge1xuICAgIGxldCBpZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgIGlmICghbmV3TG9hZGVyRGF0YS5oYXNPd25Qcm9wZXJ0eShpZCkgJiYgbG9hZGVyRGF0YS5oYXNPd25Qcm9wZXJ0eShpZCkgJiYgbWF0Y2gucm91dGUubG9hZGVyKSB7XG4gICAgICBtZXJnZWRMb2FkZXJEYXRhW2lkXSA9IGxvYWRlckRhdGFbaWRdO1xuICAgIH1cbiAgICBpZiAoZXJyb3JzICYmIGVycm9ycy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWVyZ2VkTG9hZGVyRGF0YTtcbn1cbmZ1bmN0aW9uIGdldEFjdGlvbkRhdGFGb3JDb21taXQocGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICBpZiAoIXBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbiAgcmV0dXJuIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkgPyB7XG4gICAgLy8gQ2xlYXIgb3V0IHByaW9yIGFjdGlvbkRhdGEgb24gZXJyb3JzXG4gICAgYWN0aW9uRGF0YToge31cbiAgfSA6IHtcbiAgICBhY3Rpb25EYXRhOiB7XG4gICAgICBbcGVuZGluZ0FjdGlvblJlc3VsdFswXV06IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZGF0YVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgcm91dGVJZCkge1xuICBsZXQgZWxpZ2libGVNYXRjaGVzID0gcm91dGVJZCA/IG1hdGNoZXMuc2xpY2UoMCwgbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpICsgMSkgOiBbLi4ubWF0Y2hlc107XG4gIHJldHVybiBlbGlnaWJsZU1hdGNoZXMucmV2ZXJzZSgpLmZpbmQoKG0pID0+IG0ucm91dGUuaGFzRXJyb3JCb3VuZGFyeSA9PT0gdHJ1ZSkgfHwgbWF0Y2hlc1swXTtcbn1cbmZ1bmN0aW9uIGdldFNob3J0Q2lyY3VpdE1hdGNoZXMocm91dGVzKSB7XG4gIGxldCByb3V0ZSA9IHJvdXRlcy5sZW5ndGggPT09IDEgPyByb3V0ZXNbMF0gOiByb3V0ZXMuZmluZCgocikgPT4gci5pbmRleCB8fCAhci5wYXRoIHx8IHIucGF0aCA9PT0gXCIvXCIpIHx8IHtcbiAgICBpZDogYF9fc2hpbS1lcnJvci1yb3V0ZV9fYFxuICB9O1xuICByZXR1cm4ge1xuICAgIG1hdGNoZXM6IFtcbiAgICAgIHtcbiAgICAgICAgcGFyYW1zOiB7fSxcbiAgICAgICAgcGF0aG5hbWU6IFwiXCIsXG4gICAgICAgIHBhdGhuYW1lQmFzZTogXCJcIixcbiAgICAgICAgcm91dGVcbiAgICAgIH1cbiAgICBdLFxuICAgIHJvdXRlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKHN0YXR1cywge1xuICBwYXRobmFtZSxcbiAgcm91dGVJZCxcbiAgbWV0aG9kLFxuICB0eXBlLFxuICBtZXNzYWdlXG59ID0ge30pIHtcbiAgbGV0IHN0YXR1c1RleHQgPSBcIlVua25vd24gU2VydmVyIEVycm9yXCI7XG4gIGxldCBlcnJvck1lc3NhZ2UgPSBcIlVua25vd24gQHJlbWl4LXJ1bi9yb3V0ZXIgZXJyb3JcIjtcbiAgaWYgKHN0YXR1cyA9PT0gNDAwKSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiQmFkIFJlcXVlc3RcIjtcbiAgICBpZiAobWV0aG9kICYmIHBhdGhuYW1lICYmIHJvdXRlSWQpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGBZb3UgbWFkZSBhICR7bWV0aG9kfSByZXF1ZXN0IHRvIFwiJHtwYXRobmFtZX1cIiBidXQgZGlkIG5vdCBwcm92aWRlIGEgXFxgbG9hZGVyXFxgIGZvciByb3V0ZSBcIiR7cm91dGVJZH1cIiwgc28gdGhlcmUgaXMgbm8gd2F5IHRvIGhhbmRsZSB0aGUgcmVxdWVzdC5gO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJpbnZhbGlkLWJvZHlcIikge1xuICAgICAgZXJyb3JNZXNzYWdlID0gXCJVbmFibGUgdG8gZW5jb2RlIHN1Ym1pc3Npb24gYm9keVwiO1xuICAgIH1cbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgIHN0YXR1c1RleHQgPSBcIkZvcmJpZGRlblwiO1xuICAgIGVycm9yTWVzc2FnZSA9IGBSb3V0ZSBcIiR7cm91dGVJZH1cIiBkb2VzIG5vdCBtYXRjaCBVUkwgXCIke3BhdGhuYW1lfVwiYDtcbiAgfSBlbHNlIGlmIChzdGF0dXMgPT09IDQwNCkge1xuICAgIHN0YXR1c1RleHQgPSBcIk5vdCBGb3VuZFwiO1xuICAgIGVycm9yTWVzc2FnZSA9IGBObyByb3V0ZSBtYXRjaGVzIFVSTCBcIiR7cGF0aG5hbWV9XCJgO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDA1KSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiTWV0aG9kIE5vdCBBbGxvd2VkXCI7XG4gICAgaWYgKG1ldGhvZCAmJiBwYXRobmFtZSAmJiByb3V0ZUlkKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBgWW91IG1hZGUgYSAke21ldGhvZC50b1VwcGVyQ2FzZSgpfSByZXF1ZXN0IHRvIFwiJHtwYXRobmFtZX1cIiBidXQgZGlkIG5vdCBwcm92aWRlIGFuIFxcYGFjdGlvblxcYCBmb3Igcm91dGUgXCIke3JvdXRlSWR9XCIsIHNvIHRoZXJlIGlzIG5vIHdheSB0byBoYW5kbGUgdGhlIHJlcXVlc3QuYDtcbiAgICB9IGVsc2UgaWYgKG1ldGhvZCkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYEludmFsaWQgcmVxdWVzdCBtZXRob2QgXCIke21ldGhvZC50b1VwcGVyQ2FzZSgpfVwiYDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICBzdGF0dXMgfHwgNTAwLFxuICAgIHN0YXR1c1RleHQsXG4gICAgbmV3IEVycm9yKGVycm9yTWVzc2FnZSksXG4gICAgdHJ1ZVxuICApO1xufVxuZnVuY3Rpb24gZmluZFJlZGlyZWN0KHJlc3VsdHMpIHtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhyZXN1bHRzKTtcbiAgZm9yIChsZXQgaSA9IGVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBsZXQgW2tleSwgcmVzdWx0XSA9IGVudHJpZXNbaV07XG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgcmV0dXJuIHsga2V5LCByZXN1bHQgfTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHN0cmlwSGFzaEZyb21QYXRoKHBhdGgpIHtcbiAgbGV0IHBhcnNlZFBhdGggPSB0eXBlb2YgcGF0aCA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChwYXRoKSA6IHBhdGg7XG4gIHJldHVybiBjcmVhdGVQYXRoKHsgLi4ucGFyc2VkUGF0aCwgaGFzaDogXCJcIiB9KTtcbn1cbmZ1bmN0aW9uIGlzSGFzaENoYW5nZU9ubHkoYSwgYikge1xuICBpZiAoYS5wYXRobmFtZSAhPT0gYi5wYXRobmFtZSB8fCBhLnNlYXJjaCAhPT0gYi5zZWFyY2gpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGEuaGFzaCA9PT0gXCJcIikge1xuICAgIHJldHVybiBiLmhhc2ggIT09IFwiXCI7XG4gIH0gZWxzZSBpZiAoYS5oYXNoID09PSBiLmhhc2gpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChiLmhhc2ggIT09IFwiXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc0RhdGFTdHJhdGVneVJlc3VsdChyZXN1bHQpIHtcbiAgcmV0dXJuIHJlc3VsdCAhPSBudWxsICYmIHR5cGVvZiByZXN1bHQgPT09IFwib2JqZWN0XCIgJiYgXCJ0eXBlXCIgaW4gcmVzdWx0ICYmIFwicmVzdWx0XCIgaW4gcmVzdWx0ICYmIChyZXN1bHQudHlwZSA9PT0gXCJkYXRhXCIgLyogZGF0YSAqLyB8fCByZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiIC8qIGVycm9yICovKTtcbn1cbmZ1bmN0aW9uIGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiBpc1Jlc3BvbnNlKHJlc3VsdC5yZXN1bHQpICYmIHJlZGlyZWN0U3RhdHVzQ29kZXMuaGFzKHJlc3VsdC5yZXN1bHQuc3RhdHVzKTtcbn1cbmZ1bmN0aW9uIGlzRXJyb3JSZXN1bHQocmVzdWx0KSB7XG4gIHJldHVybiByZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiIC8qIGVycm9yICovO1xufVxuZnVuY3Rpb24gaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpIHtcbiAgcmV0dXJuIChyZXN1bHQgJiYgcmVzdWx0LnR5cGUpID09PSBcInJlZGlyZWN0XCIgLyogcmVkaXJlY3QgKi87XG59XG5mdW5jdGlvbiBpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT0gbnVsbCAmJiBcInR5cGVcIiBpbiB2YWx1ZSAmJiBcImRhdGFcIiBpbiB2YWx1ZSAmJiBcImluaXRcIiBpbiB2YWx1ZSAmJiB2YWx1ZS50eXBlID09PSBcIkRhdGFXaXRoUmVzcG9uc2VJbml0XCI7XG59XG5mdW5jdGlvbiBpc1Jlc3BvbnNlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZS5zdGF0dXMgPT09IFwibnVtYmVyXCIgJiYgdHlwZW9mIHZhbHVlLnN0YXR1c1RleHQgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIHZhbHVlLmhlYWRlcnMgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLmJvZHkgIT09IFwidW5kZWZpbmVkXCI7XG59XG5mdW5jdGlvbiBpc1JlZGlyZWN0U3RhdHVzQ29kZShzdGF0dXNDb2RlKSB7XG4gIHJldHVybiByZWRpcmVjdFN0YXR1c0NvZGVzLmhhcyhzdGF0dXNDb2RlKTtcbn1cbmZ1bmN0aW9uIGlzUmVkaXJlY3RSZXNwb25zZShyZXN1bHQpIHtcbiAgcmV0dXJuIGlzUmVzcG9uc2UocmVzdWx0KSAmJiBpc1JlZGlyZWN0U3RhdHVzQ29kZShyZXN1bHQuc3RhdHVzKSAmJiByZXN1bHQuaGVhZGVycy5oYXMoXCJMb2NhdGlvblwiKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRNZXRob2QobWV0aG9kKSB7XG4gIHJldHVybiB2YWxpZFJlcXVlc3RNZXRob2RzLmhhcyhtZXRob2QudG9VcHBlckNhc2UoKSk7XG59XG5mdW5jdGlvbiBpc011dGF0aW9uTWV0aG9kKG1ldGhvZCkge1xuICByZXR1cm4gdmFsaWRNdXRhdGlvbk1ldGhvZHMuaGFzKG1ldGhvZC50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGhhc05ha2VkSW5kZXhRdWVyeShzZWFyY2gpIHtcbiAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoc2VhcmNoKS5nZXRBbGwoXCJpbmRleFwiKS5zb21lKCh2KSA9PiB2ID09PSBcIlwiKTtcbn1cbmZ1bmN0aW9uIGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIGxvY2F0aW9uKSB7XG4gIGxldCBzZWFyY2ggPSB0eXBlb2YgbG9jYXRpb24gPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgobG9jYXRpb24pLnNlYXJjaCA6IGxvY2F0aW9uLnNlYXJjaDtcbiAgaWYgKG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5pbmRleCAmJiBoYXNOYWtlZEluZGV4UXVlcnkoc2VhcmNoIHx8IFwiXCIpKSB7XG4gICAgcmV0dXJuIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgfVxuICBsZXQgcGF0aE1hdGNoZXMgPSBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlcyhtYXRjaGVzKTtcbiAgcmV0dXJuIHBhdGhNYXRjaGVzW3BhdGhNYXRjaGVzLmxlbmd0aCAtIDFdO1xufVxuZnVuY3Rpb24gZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKG5hdmlnYXRpb24pIHtcbiAgbGV0IHsgZm9ybU1ldGhvZCwgZm9ybUFjdGlvbiwgZm9ybUVuY1R5cGUsIHRleHQsIGZvcm1EYXRhLCBqc29uIH0gPSBuYXZpZ2F0aW9uO1xuICBpZiAoIWZvcm1NZXRob2QgfHwgIWZvcm1BY3Rpb24gfHwgIWZvcm1FbmNUeXBlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICh0ZXh0ICE9IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICBqc29uOiB2b2lkIDAsXG4gICAgICB0ZXh0XG4gICAgfTtcbiAgfSBlbHNlIGlmIChmb3JtRGF0YSAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YSxcbiAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgIHRleHQ6IHZvaWQgMFxuICAgIH07XG4gIH0gZWxzZSBpZiAoanNvbiAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAganNvbixcbiAgICAgIHRleHQ6IHZvaWQgMFxuICAgIH07XG4gIH1cbn1cbmZ1bmN0aW9uIGdldExvYWRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKSB7XG4gIGlmIChzdWJtaXNzaW9uKSB7XG4gICAgbGV0IG5hdmlnYXRpb24gPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHRcbiAgICB9O1xuICAgIHJldHVybiBuYXZpZ2F0aW9uO1xuICB9IGVsc2Uge1xuICAgIGxldCBuYXZpZ2F0aW9uID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gICAgICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gICAgICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgIHRleHQ6IHZvaWQgMFxuICAgIH07XG4gICAgcmV0dXJuIG5hdmlnYXRpb247XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFN1Ym1pdHRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKSB7XG4gIGxldCBuYXZpZ2F0aW9uID0ge1xuICAgIHN0YXRlOiBcInN1Ym1pdHRpbmdcIixcbiAgICBsb2NhdGlvbixcbiAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgIGZvcm1FbmNUeXBlOiBzdWJtaXNzaW9uLmZvcm1FbmNUeXBlLFxuICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICB0ZXh0OiBzdWJtaXNzaW9uLnRleHRcbiAgfTtcbiAgcmV0dXJuIG5hdmlnYXRpb247XG59XG5mdW5jdGlvbiBnZXRMb2FkaW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBkYXRhMikge1xuICBpZiAoc3VibWlzc2lvbikge1xuICAgIGxldCBmZXRjaGVyID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCxcbiAgICAgIGRhdGE6IGRhdGEyXG4gICAgfTtcbiAgICByZXR1cm4gZmV0Y2hlcjtcbiAgfSBlbHNlIHtcbiAgICBsZXQgZmV0Y2hlciA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgICAgIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgICAgIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAganNvbjogdm9pZCAwLFxuICAgICAgdGV4dDogdm9pZCAwLFxuICAgICAgZGF0YTogZGF0YTJcbiAgICB9O1xuICAgIHJldHVybiBmZXRjaGVyO1xuICB9XG59XG5mdW5jdGlvbiBnZXRTdWJtaXR0aW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBleGlzdGluZ0ZldGNoZXIpIHtcbiAgbGV0IGZldGNoZXIgPSB7XG4gICAgc3RhdGU6IFwic3VibWl0dGluZ1wiLFxuICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dCxcbiAgICBkYXRhOiBleGlzdGluZ0ZldGNoZXIgPyBleGlzdGluZ0ZldGNoZXIuZGF0YSA6IHZvaWQgMFxuICB9O1xuICByZXR1cm4gZmV0Y2hlcjtcbn1cbmZ1bmN0aW9uIGdldERvbmVGZXRjaGVyKGRhdGEyKSB7XG4gIGxldCBmZXRjaGVyID0ge1xuICAgIHN0YXRlOiBcImlkbGVcIixcbiAgICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gICAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICAgIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICBqc29uOiB2b2lkIDAsXG4gICAgdGV4dDogdm9pZCAwLFxuICAgIGRhdGE6IGRhdGEyXG4gIH07XG4gIHJldHVybiBmZXRjaGVyO1xufVxuZnVuY3Rpb24gcmVzdG9yZUFwcGxpZWRUcmFuc2l0aW9ucyhfd2luZG93LCB0cmFuc2l0aW9ucykge1xuICB0cnkge1xuICAgIGxldCBzZXNzaW9uUG9zaXRpb25zID0gX3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFxuICAgICAgVFJBTlNJVElPTlNfU1RPUkFHRV9LRVlcbiAgICApO1xuICAgIGlmIChzZXNzaW9uUG9zaXRpb25zKSB7XG4gICAgICBsZXQganNvbiA9IEpTT04ucGFyc2Uoc2Vzc2lvblBvc2l0aW9ucyk7XG4gICAgICBmb3IgKGxldCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoanNvbiB8fCB7fSkpIHtcbiAgICAgICAgaWYgKHYgJiYgQXJyYXkuaXNBcnJheSh2KSkge1xuICAgICAgICAgIHRyYW5zaXRpb25zLnNldChrLCBuZXcgU2V0KHYgfHwgW10pKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICB9XG59XG5mdW5jdGlvbiBwZXJzaXN0QXBwbGllZFRyYW5zaXRpb25zKF93aW5kb3csIHRyYW5zaXRpb25zKSB7XG4gIGlmICh0cmFuc2l0aW9ucy5zaXplID4gMCkge1xuICAgIGxldCBqc29uID0ge307XG4gICAgZm9yIChsZXQgW2ssIHZdIG9mIHRyYW5zaXRpb25zKSB7XG4gICAgICBqc29uW2tdID0gWy4uLnZdO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgX3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICBUUkFOU0lUSU9OU19TVE9SQUdFX0tFWSxcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoanNvbilcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHdhcm5pbmcoXG4gICAgICAgIGZhbHNlLFxuICAgICAgICBgRmFpbGVkIHRvIHNhdmUgYXBwbGllZCB2aWV3IHRyYW5zaXRpb25zIGluIHNlc3Npb25TdG9yYWdlICgke2Vycm9yfSkuYFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmVycmVkKCkge1xuICBsZXQgcmVzb2x2ZTtcbiAgbGV0IHJlamVjdDtcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICByZXNvbHZlID0gYXN5bmMgKHZhbCkgPT4ge1xuICAgICAgcmVzKHZhbCk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH07XG4gICAgcmVqZWN0ID0gYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICByZWooZXJyb3IpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBwcm9taXNlLFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlc29sdmUsXG4gICAgLy9AdHMtaWdub3JlXG4gICAgcmVqZWN0XG4gIH07XG59XG5cbi8vIGxpYi9jb21wb25lbnRzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QzIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBsaWIvY29udGV4dC50c1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG52YXIgRGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuRGF0YVJvdXRlckNvbnRleHQuZGlzcGxheU5hbWUgPSBcIkRhdGFSb3V0ZXJcIjtcbnZhciBEYXRhUm91dGVyU3RhdGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbkRhdGFSb3V0ZXJTdGF0ZUNvbnRleHQuZGlzcGxheU5hbWUgPSBcIkRhdGFSb3V0ZXJTdGF0ZVwiO1xudmFyIFZpZXdUcmFuc2l0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoe1xuICBpc1RyYW5zaXRpb25pbmc6IGZhbHNlXG59KTtcblZpZXdUcmFuc2l0aW9uQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiVmlld1RyYW5zaXRpb25cIjtcbnZhciBGZXRjaGVyc0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KFxuICAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpXG4pO1xuRmV0Y2hlcnNDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJGZXRjaGVyc1wiO1xudmFyIEF3YWl0Q29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5Bd2FpdENvbnRleHQuZGlzcGxheU5hbWUgPSBcIkF3YWl0XCI7XG52YXIgTmF2aWdhdGlvbkNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KFxuICBudWxsXG4pO1xuTmF2aWdhdGlvbkNvbnRleHQuZGlzcGxheU5hbWUgPSBcIk5hdmlnYXRpb25cIjtcbnZhciBMb2NhdGlvbkNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KFxuICBudWxsXG4pO1xuTG9jYXRpb25Db250ZXh0LmRpc3BsYXlOYW1lID0gXCJMb2NhdGlvblwiO1xudmFyIFJvdXRlQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoe1xuICBvdXRsZXQ6IG51bGwsXG4gIG1hdGNoZXM6IFtdLFxuICBpc0RhdGFSb3V0ZTogZmFsc2Vcbn0pO1xuUm91dGVDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJSb3V0ZVwiO1xudmFyIFJvdXRlRXJyb3JDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcblJvdXRlRXJyb3JDb250ZXh0LmRpc3BsYXlOYW1lID0gXCJSb3V0ZUVycm9yXCI7XG5cbi8vIGxpYi9ob29rcy50c3hcbmltcG9ydCAqIGFzIFJlYWN0MiBmcm9tIFwicmVhY3RcIjtcbnZhciBFTkFCTEVfREVWX1dBUk5JTkdTID0gdHJ1ZTtcbmZ1bmN0aW9uIHVzZUhyZWYodG8sIHsgcmVsYXRpdmUgfSA9IHt9KSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZUhyZWYoKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IHsgYmFzZW5hbWUsIG5hdmlnYXRvcjogbmF2aWdhdG9yMiB9ID0gUmVhY3QyLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgeyBoYXNoLCBwYXRobmFtZSwgc2VhcmNoIH0gPSB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmUgfSk7XG4gIGxldCBqb2luZWRQYXRobmFtZSA9IHBhdGhuYW1lO1xuICBpZiAoYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgam9pbmVkUGF0aG5hbWUgPSBwYXRobmFtZSA9PT0gXCIvXCIgPyBiYXNlbmFtZSA6IGpvaW5QYXRocyhbYmFzZW5hbWUsIHBhdGhuYW1lXSk7XG4gIH1cbiAgcmV0dXJuIG5hdmlnYXRvcjIuY3JlYXRlSHJlZih7IHBhdGhuYW1lOiBqb2luZWRQYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0pO1xufVxuZnVuY3Rpb24gdXNlSW5Sb3V0ZXJDb250ZXh0KCkge1xuICByZXR1cm4gUmVhY3QyLnVzZUNvbnRleHQoTG9jYXRpb25Db250ZXh0KSAhPSBudWxsO1xufVxuZnVuY3Rpb24gdXNlTG9jYXRpb24oKSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZUxvY2F0aW9uKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIHJldHVybiBSZWFjdDIudXNlQ29udGV4dChMb2NhdGlvbkNvbnRleHQpLmxvY2F0aW9uO1xufVxuZnVuY3Rpb24gdXNlTmF2aWdhdGlvblR5cGUoKSB7XG4gIHJldHVybiBSZWFjdDIudXNlQ29udGV4dChMb2NhdGlvbkNvbnRleHQpLm5hdmlnYXRpb25UeXBlO1xufVxuZnVuY3Rpb24gdXNlTWF0Y2gocGF0dGVybikge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VNYXRjaCgpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgeyBwYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VNZW1vKFxuICAgICgpID0+IG1hdGNoUGF0aChwYXR0ZXJuLCBkZWNvZGVQYXRoKHBhdGhuYW1lKSksXG4gICAgW3BhdGhuYW1lLCBwYXR0ZXJuXVxuICApO1xufVxudmFyIG5hdmlnYXRlRWZmZWN0V2FybmluZyA9IGBZb3Ugc2hvdWxkIGNhbGwgbmF2aWdhdGUoKSBpbiBhIFJlYWN0LnVzZUVmZmVjdCgpLCBub3Qgd2hlbiB5b3VyIGNvbXBvbmVudCBpcyBmaXJzdCByZW5kZXJlZC5gO1xuZnVuY3Rpb24gdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChjYikge1xuICBsZXQgaXNTdGF0aWMgPSBSZWFjdDIudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCkuc3RhdGljO1xuICBpZiAoIWlzU3RhdGljKSB7XG4gICAgUmVhY3QyLnVzZUxheW91dEVmZmVjdChjYik7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZU5hdmlnYXRlKCkge1xuICBsZXQgeyBpc0RhdGFSb3V0ZSB9ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgcmV0dXJuIGlzRGF0YVJvdXRlID8gdXNlTmF2aWdhdGVTdGFibGUoKSA6IHVzZU5hdmlnYXRlVW5zdGFibGUoKTtcbn1cbmZ1bmN0aW9uIHVzZU5hdmlnYXRlVW5zdGFibGUoKSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZU5hdmlnYXRlKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0Mi51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgbGV0IHsgYmFzZW5hbWUsIG5hdmlnYXRvcjogbmF2aWdhdG9yMiB9ID0gUmVhY3QyLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgeyBwYXRobmFtZTogbG9jYXRpb25QYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHJvdXRlUGF0aG5hbWVzSnNvbiA9IEpTT04uc3RyaW5naWZ5KGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcykpO1xuICBsZXQgYWN0aXZlUmVmID0gUmVhY3QyLnVzZVJlZihmYWxzZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGFjdGl2ZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgfSk7XG4gIGxldCBuYXZpZ2F0ZSA9IFJlYWN0Mi51c2VDYWxsYmFjayhcbiAgICAodG8sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgd2FybmluZyhhY3RpdmVSZWYuY3VycmVudCwgbmF2aWdhdGVFZmZlY3RXYXJuaW5nKTtcbiAgICAgIGlmICghYWN0aXZlUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICAgIGlmICh0eXBlb2YgdG8gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgbmF2aWdhdG9yMi5nbyh0byk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBwYXRoID0gcmVzb2x2ZVRvKFxuICAgICAgICB0byxcbiAgICAgICAgSlNPTi5wYXJzZShyb3V0ZVBhdGhuYW1lc0pzb24pLFxuICAgICAgICBsb2NhdGlvblBhdGhuYW1lLFxuICAgICAgICBvcHRpb25zLnJlbGF0aXZlID09PSBcInBhdGhcIlxuICAgICAgKTtcbiAgICAgIGlmIChkYXRhUm91dGVyQ29udGV4dCA9PSBudWxsICYmIGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgICAgICBwYXRoLnBhdGhuYW1lID0gcGF0aC5wYXRobmFtZSA9PT0gXCIvXCIgPyBiYXNlbmFtZSA6IGpvaW5QYXRocyhbYmFzZW5hbWUsIHBhdGgucGF0aG5hbWVdKTtcbiAgICAgIH1cbiAgICAgICghIW9wdGlvbnMucmVwbGFjZSA/IG5hdmlnYXRvcjIucmVwbGFjZSA6IG5hdmlnYXRvcjIucHVzaCkoXG4gICAgICAgIHBhdGgsXG4gICAgICAgIG9wdGlvbnMuc3RhdGUsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgICk7XG4gICAgfSxcbiAgICBbXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIG5hdmlnYXRvcjIsXG4gICAgICByb3V0ZVBhdGhuYW1lc0pzb24sXG4gICAgICBsb2NhdGlvblBhdGhuYW1lLFxuICAgICAgZGF0YVJvdXRlckNvbnRleHRcbiAgICBdXG4gICk7XG4gIHJldHVybiBuYXZpZ2F0ZTtcbn1cbnZhciBPdXRsZXRDb250ZXh0ID0gUmVhY3QyLmNyZWF0ZUNvbnRleHQobnVsbCk7XG5mdW5jdGlvbiB1c2VPdXRsZXRDb250ZXh0KCkge1xuICByZXR1cm4gUmVhY3QyLnVzZUNvbnRleHQoT3V0bGV0Q29udGV4dCk7XG59XG5mdW5jdGlvbiB1c2VPdXRsZXQoY29udGV4dCkge1xuICBsZXQgb3V0bGV0ID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KS5vdXRsZXQ7XG4gIGlmIChvdXRsZXQpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KE91dGxldENvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGNvbnRleHQgfSwgb3V0bGV0KTtcbiAgfVxuICByZXR1cm4gb3V0bGV0O1xufVxuZnVuY3Rpb24gdXNlUGFyYW1zKCkge1xuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgcm91dGVNYXRjaCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhcmFtcyA6IHt9O1xufVxuZnVuY3Rpb24gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlIH0gPSB7fSkge1xuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgeyBwYXRobmFtZTogbG9jYXRpb25QYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHJvdXRlUGF0aG5hbWVzSnNvbiA9IEpTT04uc3RyaW5naWZ5KGdldFJlc29sdmVUb01hdGNoZXMobWF0Y2hlcykpO1xuICByZXR1cm4gUmVhY3QyLnVzZU1lbW8oXG4gICAgKCkgPT4gcmVzb2x2ZVRvKFxuICAgICAgdG8sXG4gICAgICBKU09OLnBhcnNlKHJvdXRlUGF0aG5hbWVzSnNvbiksXG4gICAgICBsb2NhdGlvblBhdGhuYW1lLFxuICAgICAgcmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICAgKSxcbiAgICBbdG8sIHJvdXRlUGF0aG5hbWVzSnNvbiwgbG9jYXRpb25QYXRobmFtZSwgcmVsYXRpdmVdXG4gICk7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZXMocm91dGVzLCBsb2NhdGlvbkFyZykge1xuICByZXR1cm4gdXNlUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnKTtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlc0ltcGwocm91dGVzLCBsb2NhdGlvbkFyZywgZGF0YVJvdXRlclN0YXRlLCBmdXR1cmUpIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlUm91dGVzKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCB7IG5hdmlnYXRvcjogbmF2aWdhdG9yMiwgc3RhdGljOiBpc1N0YXRpYyB9ID0gUmVhY3QyLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgeyBtYXRjaGVzOiBwYXJlbnRNYXRjaGVzIH0gPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgcm91dGVNYXRjaCA9IHBhcmVudE1hdGNoZXNbcGFyZW50TWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgbGV0IHBhcmVudFBhcmFtcyA9IHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhcmFtcyA6IHt9O1xuICBsZXQgcGFyZW50UGF0aG5hbWUgPSByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXRobmFtZSA6IFwiL1wiO1xuICBsZXQgcGFyZW50UGF0aG5hbWVCYXNlID0gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGF0aG5hbWVCYXNlIDogXCIvXCI7XG4gIGxldCBwYXJlbnRSb3V0ZSA9IHJvdXRlTWF0Y2ggJiYgcm91dGVNYXRjaC5yb3V0ZTtcbiAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MpIHtcbiAgICBsZXQgcGFyZW50UGF0aCA9IHBhcmVudFJvdXRlICYmIHBhcmVudFJvdXRlLnBhdGggfHwgXCJcIjtcbiAgICB3YXJuaW5nT25jZShcbiAgICAgIHBhcmVudFBhdGhuYW1lLFxuICAgICAgIXBhcmVudFJvdXRlIHx8IHBhcmVudFBhdGguZW5kc1dpdGgoXCIqXCIpIHx8IHBhcmVudFBhdGguZW5kc1dpdGgoXCIqP1wiKSxcbiAgICAgIGBZb3UgcmVuZGVyZWQgZGVzY2VuZGFudCA8Um91dGVzPiAob3IgY2FsbGVkIFxcYHVzZVJvdXRlcygpXFxgKSBhdCBcIiR7cGFyZW50UGF0aG5hbWV9XCIgKHVuZGVyIDxSb3V0ZSBwYXRoPVwiJHtwYXJlbnRQYXRofVwiPikgYnV0IHRoZSBwYXJlbnQgcm91dGUgcGF0aCBoYXMgbm8gdHJhaWxpbmcgXCIqXCIuIFRoaXMgbWVhbnMgaWYgeW91IG5hdmlnYXRlIGRlZXBlciwgdGhlIHBhcmVudCB3b24ndCBtYXRjaCBhbnltb3JlIGFuZCB0aGVyZWZvcmUgdGhlIGNoaWxkIHJvdXRlcyB3aWxsIG5ldmVyIHJlbmRlci5cblxuUGxlYXNlIGNoYW5nZSB0aGUgcGFyZW50IDxSb3V0ZSBwYXRoPVwiJHtwYXJlbnRQYXRofVwiPiB0byA8Um91dGUgcGF0aD1cIiR7cGFyZW50UGF0aCA9PT0gXCIvXCIgPyBcIipcIiA6IGAke3BhcmVudFBhdGh9LypgfVwiPi5gXG4gICAgKTtcbiAgfVxuICBsZXQgbG9jYXRpb25Gcm9tQ29udGV4dCA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBsb2NhdGlvbjtcbiAgaWYgKGxvY2F0aW9uQXJnKSB7XG4gICAgbGV0IHBhcnNlZExvY2F0aW9uQXJnID0gdHlwZW9mIGxvY2F0aW9uQXJnID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKGxvY2F0aW9uQXJnKSA6IGxvY2F0aW9uQXJnO1xuICAgIGludmFyaWFudChcbiAgICAgIHBhcmVudFBhdGhuYW1lQmFzZSA9PT0gXCIvXCIgfHwgcGFyc2VkTG9jYXRpb25BcmcucGF0aG5hbWU/LnN0YXJ0c1dpdGgocGFyZW50UGF0aG5hbWVCYXNlKSxcbiAgICAgIGBXaGVuIG92ZXJyaWRpbmcgdGhlIGxvY2F0aW9uIHVzaW5nIFxcYDxSb3V0ZXMgbG9jYXRpb24+XFxgIG9yIFxcYHVzZVJvdXRlcyhyb3V0ZXMsIGxvY2F0aW9uKVxcYCwgdGhlIGxvY2F0aW9uIHBhdGhuYW1lIG11c3QgYmVnaW4gd2l0aCB0aGUgcG9ydGlvbiBvZiB0aGUgVVJMIHBhdGhuYW1lIHRoYXQgd2FzIG1hdGNoZWQgYnkgYWxsIHBhcmVudCByb3V0ZXMuIFRoZSBjdXJyZW50IHBhdGhuYW1lIGJhc2UgaXMgXCIke3BhcmVudFBhdGhuYW1lQmFzZX1cIiBidXQgcGF0aG5hbWUgXCIke3BhcnNlZExvY2F0aW9uQXJnLnBhdGhuYW1lfVwiIHdhcyBnaXZlbiBpbiB0aGUgXFxgbG9jYXRpb25cXGAgcHJvcC5gXG4gICAgKTtcbiAgICBsb2NhdGlvbiA9IHBhcnNlZExvY2F0aW9uQXJnO1xuICB9IGVsc2Uge1xuICAgIGxvY2F0aW9uID0gbG9jYXRpb25Gcm9tQ29udGV4dDtcbiAgfVxuICBsZXQgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZSB8fCBcIi9cIjtcbiAgbGV0IHJlbWFpbmluZ1BhdGhuYW1lID0gcGF0aG5hbWU7XG4gIGlmIChwYXJlbnRQYXRobmFtZUJhc2UgIT09IFwiL1wiKSB7XG4gICAgbGV0IHBhcmVudFNlZ21lbnRzID0gcGFyZW50UGF0aG5hbWVCYXNlLnJlcGxhY2UoL15cXC8vLCBcIlwiKS5zcGxpdChcIi9cIik7XG4gICAgbGV0IHNlZ21lbnRzID0gcGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sIFwiXCIpLnNwbGl0KFwiL1wiKTtcbiAgICByZW1haW5pbmdQYXRobmFtZSA9IFwiL1wiICsgc2VnbWVudHMuc2xpY2UocGFyZW50U2VnbWVudHMubGVuZ3RoKS5qb2luKFwiL1wiKTtcbiAgfVxuICBsZXQgbWF0Y2hlcyA9ICFpc1N0YXRpYyAmJiBkYXRhUm91dGVyU3RhdGUgJiYgZGF0YVJvdXRlclN0YXRlLm1hdGNoZXMgJiYgZGF0YVJvdXRlclN0YXRlLm1hdGNoZXMubGVuZ3RoID4gMCA/IGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzIDogbWF0Y2hSb3V0ZXMocm91dGVzLCB7IHBhdGhuYW1lOiByZW1haW5pbmdQYXRobmFtZSB9KTtcbiAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgcGFyZW50Um91dGUgfHwgbWF0Y2hlcyAhPSBudWxsLFxuICAgICAgYE5vIHJvdXRlcyBtYXRjaGVkIGxvY2F0aW9uIFwiJHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH0ke2xvY2F0aW9uLmhhc2h9XCIgYFxuICAgICk7XG4gICAgd2FybmluZyhcbiAgICAgIG1hdGNoZXMgPT0gbnVsbCB8fCBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuZWxlbWVudCAhPT0gdm9pZCAwIHx8IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5Db21wb25lbnQgIT09IHZvaWQgMCB8fCBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUubGF6eSAhPT0gdm9pZCAwLFxuICAgICAgYE1hdGNoZWQgbGVhZiByb3V0ZSBhdCBsb2NhdGlvbiBcIiR7bG9jYXRpb24ucGF0aG5hbWV9JHtsb2NhdGlvbi5zZWFyY2h9JHtsb2NhdGlvbi5oYXNofVwiIGRvZXMgbm90IGhhdmUgYW4gZWxlbWVudCBvciBDb21wb25lbnQuIFRoaXMgbWVhbnMgaXQgd2lsbCByZW5kZXIgYW4gPE91dGxldCAvPiB3aXRoIGEgbnVsbCB2YWx1ZSBieSBkZWZhdWx0IHJlc3VsdGluZyBpbiBhbiBcImVtcHR5XCIgcGFnZS5gXG4gICAgKTtcbiAgfVxuICBsZXQgcmVuZGVyZWRNYXRjaGVzID0gX3JlbmRlck1hdGNoZXMoXG4gICAgbWF0Y2hlcyAmJiBtYXRjaGVzLm1hcChcbiAgICAgIChtYXRjaCkgPT4gT2JqZWN0LmFzc2lnbih7fSwgbWF0Y2gsIHtcbiAgICAgICAgcGFyYW1zOiBPYmplY3QuYXNzaWduKHt9LCBwYXJlbnRQYXJhbXMsIG1hdGNoLnBhcmFtcyksXG4gICAgICAgIHBhdGhuYW1lOiBqb2luUGF0aHMoW1xuICAgICAgICAgIHBhcmVudFBhdGhuYW1lQmFzZSxcbiAgICAgICAgICAvLyBSZS1lbmNvZGUgcGF0aG5hbWVzIHRoYXQgd2VyZSBkZWNvZGVkIGluc2lkZSBtYXRjaFJvdXRlc1xuICAgICAgICAgIG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24gPyBuYXZpZ2F0b3IyLmVuY29kZUxvY2F0aW9uKG1hdGNoLnBhdGhuYW1lKS5wYXRobmFtZSA6IG1hdGNoLnBhdGhuYW1lXG4gICAgICAgIF0pLFxuICAgICAgICBwYXRobmFtZUJhc2U6IG1hdGNoLnBhdGhuYW1lQmFzZSA9PT0gXCIvXCIgPyBwYXJlbnRQYXRobmFtZUJhc2UgOiBqb2luUGF0aHMoW1xuICAgICAgICAgIHBhcmVudFBhdGhuYW1lQmFzZSxcbiAgICAgICAgICAvLyBSZS1lbmNvZGUgcGF0aG5hbWVzIHRoYXQgd2VyZSBkZWNvZGVkIGluc2lkZSBtYXRjaFJvdXRlc1xuICAgICAgICAgIG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24gPyBuYXZpZ2F0b3IyLmVuY29kZUxvY2F0aW9uKG1hdGNoLnBhdGhuYW1lQmFzZSkucGF0aG5hbWUgOiBtYXRjaC5wYXRobmFtZUJhc2VcbiAgICAgICAgXSlcbiAgICAgIH0pXG4gICAgKSxcbiAgICBwYXJlbnRNYXRjaGVzLFxuICAgIGRhdGFSb3V0ZXJTdGF0ZSxcbiAgICBmdXR1cmVcbiAgKTtcbiAgaWYgKGxvY2F0aW9uQXJnICYmIHJlbmRlcmVkTWF0Y2hlcykge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBMb2NhdGlvbkNvbnRleHQuUHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgIHBhdGhuYW1lOiBcIi9cIixcbiAgICAgICAgICAgIHNlYXJjaDogXCJcIixcbiAgICAgICAgICAgIGhhc2g6IFwiXCIsXG4gICAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICAgIGtleTogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAuLi5sb2NhdGlvblxuICAgICAgICAgIH0sXG4gICAgICAgICAgbmF2aWdhdGlvblR5cGU6IFwiUE9QXCIgLyogUG9wICovXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZW5kZXJlZE1hdGNoZXNcbiAgICApO1xuICB9XG4gIHJldHVybiByZW5kZXJlZE1hdGNoZXM7XG59XG5mdW5jdGlvbiBEZWZhdWx0RXJyb3JDb21wb25lbnQoKSB7XG4gIGxldCBlcnJvciA9IHVzZVJvdXRlRXJyb3IoKTtcbiAgbGV0IG1lc3NhZ2UgPSBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikgPyBgJHtlcnJvci5zdGF0dXN9ICR7ZXJyb3Iuc3RhdHVzVGV4dH1gIDogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBKU09OLnN0cmluZ2lmeShlcnJvcik7XG4gIGxldCBzdGFjayA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6IG51bGw7XG4gIGxldCBsaWdodGdyZXkgPSBcInJnYmEoMjAwLDIwMCwyMDAsIDAuNSlcIjtcbiAgbGV0IHByZVN0eWxlcyA9IHsgcGFkZGluZzogXCIwLjVyZW1cIiwgYmFja2dyb3VuZENvbG9yOiBsaWdodGdyZXkgfTtcbiAgbGV0IGNvZGVTdHlsZXMgPSB7IHBhZGRpbmc6IFwiMnB4IDRweFwiLCBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Z3JleSB9O1xuICBsZXQgZGV2SW5mbyA9IG51bGw7XG4gIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiRXJyb3IgaGFuZGxlZCBieSBSZWFjdCBSb3V0ZXIgZGVmYXVsdCBFcnJvckJvdW5kYXJ5OlwiLFxuICAgICAgZXJyb3JcbiAgICApO1xuICAgIGRldkluZm8gPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUmVhY3QyLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsIFwiXFx1ezFGNEJGfSBIZXkgZGV2ZWxvcGVyIFxcdXsxRjQ0Qn1cIiksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJZb3UgY2FuIHByb3ZpZGUgYSB3YXkgYmV0dGVyIFVYIHRoYW4gdGhpcyB3aGVuIHlvdXIgYXBwIHRocm93cyBlcnJvcnMgYnkgcHJvdmlkaW5nIHlvdXIgb3duIFwiLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIHsgc3R5bGU6IGNvZGVTdHlsZXMgfSwgXCJFcnJvckJvdW5kYXJ5XCIpLCBcIiBvclwiLCBcIiBcIiwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiY29kZVwiLCB7IHN0eWxlOiBjb2RlU3R5bGVzIH0sIFwiZXJyb3JFbGVtZW50XCIpLCBcIiBwcm9wIG9uIHlvdXIgcm91dGUuXCIpKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJlYWN0Mi5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiaDJcIiwgbnVsbCwgXCJVbmV4cGVjdGVkIEFwcGxpY2F0aW9uIEVycm9yIVwiKSwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiaDNcIiwgeyBzdHlsZTogeyBmb250U3R5bGU6IFwiaXRhbGljXCIgfSB9LCBtZXNzYWdlKSwgc3RhY2sgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJwcmVcIiwgeyBzdHlsZTogcHJlU3R5bGVzIH0sIHN0YWNrKSA6IG51bGwsIGRldkluZm8pO1xufVxudmFyIGRlZmF1bHRFcnJvckVsZW1lbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoRGVmYXVsdEVycm9yQ29tcG9uZW50LCBudWxsKTtcbnZhciBSZW5kZXJFcnJvckJvdW5kYXJ5ID0gY2xhc3MgZXh0ZW5kcyBSZWFjdDIuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbixcbiAgICAgIHJldmFsaWRhdGlvbjogcHJvcHMucmV2YWxpZGF0aW9uLFxuICAgICAgZXJyb3I6IHByb3BzLmVycm9yXG4gICAgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5sb2NhdGlvbiAhPT0gcHJvcHMubG9jYXRpb24gfHwgc3RhdGUucmV2YWxpZGF0aW9uICE9PSBcImlkbGVcIiAmJiBwcm9wcy5yZXZhbGlkYXRpb24gPT09IFwiaWRsZVwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlcnJvcjogcHJvcHMuZXJyb3IsXG4gICAgICAgIGxvY2F0aW9uOiBwcm9wcy5sb2NhdGlvbixcbiAgICAgICAgcmV2YWxpZGF0aW9uOiBwcm9wcy5yZXZhbGlkYXRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogcHJvcHMuZXJyb3IgIT09IHZvaWQgMCA/IHByb3BzLmVycm9yIDogc3RhdGUuZXJyb3IsXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICByZXZhbGlkYXRpb246IHByb3BzLnJldmFsaWRhdGlvbiB8fCBzdGF0ZS5yZXZhbGlkYXRpb25cbiAgICB9O1xuICB9XG4gIGNvbXBvbmVudERpZENhdGNoKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJSZWFjdCBSb3V0ZXIgY2F1Z2h0IHRoZSBmb2xsb3dpbmcgZXJyb3IgZHVyaW5nIHJlbmRlclwiLFxuICAgICAgZXJyb3IsXG4gICAgICBlcnJvckluZm9cbiAgICApO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5lcnJvciAhPT0gdm9pZCAwID8gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJvdXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogdGhpcy5wcm9wcy5yb3V0ZUNvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgUm91dGVFcnJvckNvbnRleHQuUHJvdmlkZXIsXG4gICAgICB7XG4gICAgICAgIHZhbHVlOiB0aGlzLnN0YXRlLmVycm9yLFxuICAgICAgICBjaGlsZHJlbjogdGhpcy5wcm9wcy5jb21wb25lbnRcbiAgICAgIH1cbiAgICApKSA6IHRoaXMucHJvcHMuY2hpbGRyZW47XG4gIH1cbn07XG5mdW5jdGlvbiBSZW5kZXJlZFJvdXRlKHsgcm91dGVDb250ZXh0LCBtYXRjaCwgY2hpbGRyZW4gfSkge1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdDIudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGlmIChkYXRhUm91dGVyQ29udGV4dCAmJiBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWMgJiYgZGF0YVJvdXRlckNvbnRleHQuc3RhdGljQ29udGV4dCAmJiAobWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IG1hdGNoLnJvdXRlLkVycm9yQm91bmRhcnkpKSB7XG4gICAgZGF0YVJvdXRlckNvbnRleHQuc3RhdGljQ29udGV4dC5fZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZCA9IG1hdGNoLnJvdXRlLmlkO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUm91dGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiByb3V0ZUNvbnRleHQgfSwgY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gX3JlbmRlck1hdGNoZXMobWF0Y2hlcywgcGFyZW50TWF0Y2hlcyA9IFtdLCBkYXRhUm91dGVyU3RhdGUgPSBudWxsLCBmdXR1cmUgPSBudWxsKSB7XG4gIGlmIChtYXRjaGVzID09IG51bGwpIHtcbiAgICBpZiAoIWRhdGFSb3V0ZXJTdGF0ZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChkYXRhUm91dGVyU3RhdGUuZXJyb3JzKSB7XG4gICAgICBtYXRjaGVzID0gZGF0YVJvdXRlclN0YXRlLm1hdGNoZXM7XG4gICAgfSBlbHNlIGlmIChwYXJlbnRNYXRjaGVzLmxlbmd0aCA9PT0gMCAmJiAhZGF0YVJvdXRlclN0YXRlLmluaXRpYWxpemVkICYmIGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIG1hdGNoZXMgPSBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG4gIGxldCByZW5kZXJlZE1hdGNoZXMgPSBtYXRjaGVzO1xuICBsZXQgZXJyb3JzID0gZGF0YVJvdXRlclN0YXRlPy5lcnJvcnM7XG4gIGlmIChlcnJvcnMgIT0gbnVsbCkge1xuICAgIGxldCBlcnJvckluZGV4ID0gcmVuZGVyZWRNYXRjaGVzLmZpbmRJbmRleChcbiAgICAgIChtKSA9PiBtLnJvdXRlLmlkICYmIGVycm9ycz8uW20ucm91dGUuaWRdICE9PSB2b2lkIDBcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgIGVycm9ySW5kZXggPj0gMCxcbiAgICAgIGBDb3VsZCBub3QgZmluZCBhIG1hdGNoaW5nIHJvdXRlIGZvciBlcnJvcnMgb24gcm91dGUgSURzOiAke09iamVjdC5rZXlzKFxuICAgICAgICBlcnJvcnNcbiAgICAgICkuam9pbihcIixcIil9YFxuICAgICk7XG4gICAgcmVuZGVyZWRNYXRjaGVzID0gcmVuZGVyZWRNYXRjaGVzLnNsaWNlKFxuICAgICAgMCxcbiAgICAgIE1hdGgubWluKHJlbmRlcmVkTWF0Y2hlcy5sZW5ndGgsIGVycm9ySW5kZXggKyAxKVxuICAgICk7XG4gIH1cbiAgbGV0IHJlbmRlckZhbGxiYWNrID0gZmFsc2U7XG4gIGxldCBmYWxsYmFja0luZGV4ID0gLTE7XG4gIGlmIChkYXRhUm91dGVyU3RhdGUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcmVkTWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG1hdGNoID0gcmVuZGVyZWRNYXRjaGVzW2ldO1xuICAgICAgaWYgKG1hdGNoLnJvdXRlLkh5ZHJhdGVGYWxsYmFjayB8fCBtYXRjaC5yb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50KSB7XG4gICAgICAgIGZhbGxiYWNrSW5kZXggPSBpO1xuICAgICAgfVxuICAgICAgaWYgKG1hdGNoLnJvdXRlLmlkKSB7XG4gICAgICAgIGxldCB7IGxvYWRlckRhdGEsIGVycm9yczogZXJyb3JzMiB9ID0gZGF0YVJvdXRlclN0YXRlO1xuICAgICAgICBsZXQgbmVlZHNUb1J1bkxvYWRlciA9IG1hdGNoLnJvdXRlLmxvYWRlciAmJiAhbG9hZGVyRGF0YS5oYXNPd25Qcm9wZXJ0eShtYXRjaC5yb3V0ZS5pZCkgJiYgKCFlcnJvcnMyIHx8IGVycm9yczJbbWF0Y2gucm91dGUuaWRdID09PSB2b2lkIDApO1xuICAgICAgICBpZiAobWF0Y2gucm91dGUubGF6eSB8fCBuZWVkc1RvUnVuTG9hZGVyKSB7XG4gICAgICAgICAgcmVuZGVyRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgIGlmIChmYWxsYmFja0luZGV4ID49IDApIHtcbiAgICAgICAgICAgIHJlbmRlcmVkTWF0Y2hlcyA9IHJlbmRlcmVkTWF0Y2hlcy5zbGljZSgwLCBmYWxsYmFja0luZGV4ICsgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbmRlcmVkTWF0Y2hlcyA9IFtyZW5kZXJlZE1hdGNoZXNbMF1dO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVuZGVyZWRNYXRjaGVzLnJlZHVjZVJpZ2h0KChvdXRsZXQsIG1hdGNoLCBpbmRleCkgPT4ge1xuICAgIGxldCBlcnJvcjtcbiAgICBsZXQgc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrID0gZmFsc2U7XG4gICAgbGV0IGVycm9yRWxlbWVudCA9IG51bGw7XG4gICAgbGV0IGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgPSBudWxsO1xuICAgIGlmIChkYXRhUm91dGVyU3RhdGUpIHtcbiAgICAgIGVycm9yID0gZXJyb3JzICYmIG1hdGNoLnJvdXRlLmlkID8gZXJyb3JzW21hdGNoLnJvdXRlLmlkXSA6IHZvaWQgMDtcbiAgICAgIGVycm9yRWxlbWVudCA9IG1hdGNoLnJvdXRlLmVycm9yRWxlbWVudCB8fCBkZWZhdWx0RXJyb3JFbGVtZW50O1xuICAgICAgaWYgKHJlbmRlckZhbGxiYWNrKSB7XG4gICAgICAgIGlmIChmYWxsYmFja0luZGV4IDwgMCAmJiBpbmRleCA9PT0gMCkge1xuICAgICAgICAgIHdhcm5pbmdPbmNlKFxuICAgICAgICAgICAgXCJyb3V0ZS1mYWxsYmFja1wiLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBcIk5vIGBIeWRyYXRlRmFsbGJhY2tgIGVsZW1lbnQgcHJvdmlkZWQgdG8gcmVuZGVyIGR1cmluZyBpbml0aWFsIGh5ZHJhdGlvblwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZhbGxiYWNrSW5kZXggPT09IGluZGV4KSB7XG4gICAgICAgICAgc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50ID0gbWF0Y2gucm91dGUuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCB8fCBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtYXRjaGVzMiA9IHBhcmVudE1hdGNoZXMuY29uY2F0KHJlbmRlcmVkTWF0Y2hlcy5zbGljZSgwLCBpbmRleCArIDEpKTtcbiAgICBsZXQgZ2V0Q2hpbGRyZW4gPSAoKSA9PiB7XG4gICAgICBsZXQgY2hpbGRyZW47XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBlcnJvckVsZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjaykge1xuICAgICAgICBjaGlsZHJlbiA9IGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ7XG4gICAgICB9IGVsc2UgaWYgKG1hdGNoLnJvdXRlLkNvbXBvbmVudCkge1xuICAgICAgICBjaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChtYXRjaC5yb3V0ZS5Db21wb25lbnQsIG51bGwpO1xuICAgICAgfSBlbHNlIGlmIChtYXRjaC5yb3V0ZS5lbGVtZW50KSB7XG4gICAgICAgIGNoaWxkcmVuID0gbWF0Y2gucm91dGUuZWxlbWVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoaWxkcmVuID0gb3V0bGV0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgICAgUmVuZGVyZWRSb3V0ZSxcbiAgICAgICAge1xuICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgIHJvdXRlQ29udGV4dDoge1xuICAgICAgICAgICAgb3V0bGV0LFxuICAgICAgICAgICAgbWF0Y2hlczogbWF0Y2hlczIsXG4gICAgICAgICAgICBpc0RhdGFSb3V0ZTogZGF0YVJvdXRlclN0YXRlICE9IG51bGxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcbiAgICByZXR1cm4gZGF0YVJvdXRlclN0YXRlICYmIChtYXRjaC5yb3V0ZS5FcnJvckJvdW5kYXJ5IHx8IG1hdGNoLnJvdXRlLmVycm9yRWxlbWVudCB8fCBpbmRleCA9PT0gMCkgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBSZW5kZXJFcnJvckJvdW5kYXJ5LFxuICAgICAge1xuICAgICAgICBsb2NhdGlvbjogZGF0YVJvdXRlclN0YXRlLmxvY2F0aW9uLFxuICAgICAgICByZXZhbGlkYXRpb246IGRhdGFSb3V0ZXJTdGF0ZS5yZXZhbGlkYXRpb24sXG4gICAgICAgIGNvbXBvbmVudDogZXJyb3JFbGVtZW50LFxuICAgICAgICBlcnJvcixcbiAgICAgICAgY2hpbGRyZW46IGdldENoaWxkcmVuKCksXG4gICAgICAgIHJvdXRlQ29udGV4dDogeyBvdXRsZXQ6IG51bGwsIG1hdGNoZXM6IG1hdGNoZXMyLCBpc0RhdGFSb3V0ZTogdHJ1ZSB9XG4gICAgICB9XG4gICAgKSA6IGdldENoaWxkcmVuKCk7XG4gIH0sIG51bGwpO1xufVxuZnVuY3Rpb24gZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihob29rTmFtZSkge1xuICByZXR1cm4gYCR7aG9va05hbWV9IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBkYXRhIHJvdXRlci4gIFNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS9lbi9tYWluL3JvdXRlcnMvcGlja2luZy1hLXJvdXRlci5gO1xufVxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlckNvbnRleHQoaG9va05hbWUpIHtcbiAgbGV0IGN0eCA9IFJlYWN0Mi51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgaW52YXJpYW50KGN0eCwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihob29rTmFtZSkpO1xuICByZXR1cm4gY3R4O1xufVxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlclN0YXRlKGhvb2tOYW1lKSB7XG4gIGxldCBzdGF0ZSA9IFJlYWN0Mi51c2VDb250ZXh0KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQpO1xuICBpbnZhcmlhbnQoc3RhdGUsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IoaG9va05hbWUpKTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gdXNlUm91dGVDb250ZXh0KGhvb2tOYW1lKSB7XG4gIGxldCByb3V0ZSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGludmFyaWFudChyb3V0ZSwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihob29rTmFtZSkpO1xuICByZXR1cm4gcm91dGU7XG59XG5mdW5jdGlvbiB1c2VDdXJyZW50Um91dGVJZChob29rTmFtZSkge1xuICBsZXQgcm91dGUgPSB1c2VSb3V0ZUNvbnRleHQoaG9va05hbWUpO1xuICBsZXQgdGhpc1JvdXRlID0gcm91dGUubWF0Y2hlc1tyb3V0ZS5tYXRjaGVzLmxlbmd0aCAtIDFdO1xuICBpbnZhcmlhbnQoXG4gICAgdGhpc1JvdXRlLnJvdXRlLmlkLFxuICAgIGAke2hvb2tOYW1lfSBjYW4gb25seSBiZSB1c2VkIG9uIHJvdXRlcyB0aGF0IGNvbnRhaW4gYSB1bmlxdWUgXCJpZFwiYFxuICApO1xuICByZXR1cm4gdGhpc1JvdXRlLnJvdXRlLmlkO1xufVxuZnVuY3Rpb24gdXNlUm91dGVJZCgpIHtcbiAgcmV0dXJuIHVzZUN1cnJlbnRSb3V0ZUlkKFwidXNlUm91dGVJZFwiIC8qIFVzZVJvdXRlSWQgKi8pO1xufVxuZnVuY3Rpb24gdXNlTmF2aWdhdGlvbigpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlTmF2aWdhdGlvblwiIC8qIFVzZU5hdmlnYXRpb24gKi8pO1xuICByZXR1cm4gc3RhdGUubmF2aWdhdGlvbjtcbn1cbmZ1bmN0aW9uIHVzZVJldmFsaWRhdG9yKCkge1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSB1c2VEYXRhUm91dGVyQ29udGV4dChcInVzZVJldmFsaWRhdG9yXCIgLyogVXNlUmV2YWxpZGF0b3IgKi8pO1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VSZXZhbGlkYXRvclwiIC8qIFVzZVJldmFsaWRhdG9yICovKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBhc3luYyByZXZhbGlkYXRlKCkge1xuICAgICAgICBhd2FpdCBkYXRhUm91dGVyQ29udGV4dC5yb3V0ZXIucmV2YWxpZGF0ZSgpO1xuICAgICAgfSxcbiAgICAgIHN0YXRlOiBzdGF0ZS5yZXZhbGlkYXRpb25cbiAgICB9KSxcbiAgICBbZGF0YVJvdXRlckNvbnRleHQucm91dGVyLCBzdGF0ZS5yZXZhbGlkYXRpb25dXG4gICk7XG59XG5mdW5jdGlvbiB1c2VNYXRjaGVzKCkge1xuICBsZXQgeyBtYXRjaGVzLCBsb2FkZXJEYXRhIH0gPSB1c2VEYXRhUm91dGVyU3RhdGUoXG4gICAgXCJ1c2VNYXRjaGVzXCIgLyogVXNlTWF0Y2hlcyAqL1xuICApO1xuICByZXR1cm4gUmVhY3QyLnVzZU1lbW8oXG4gICAgKCkgPT4gbWF0Y2hlcy5tYXAoKG0pID0+IGNvbnZlcnRSb3V0ZU1hdGNoVG9VaU1hdGNoKG0sIGxvYWRlckRhdGEpKSxcbiAgICBbbWF0Y2hlcywgbG9hZGVyRGF0YV1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZUxvYWRlckRhdGEoKSB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZUxvYWRlckRhdGFcIiAvKiBVc2VMb2FkZXJEYXRhICovKTtcbiAgbGV0IHJvdXRlSWQgPSB1c2VDdXJyZW50Um91dGVJZChcInVzZUxvYWRlckRhdGFcIiAvKiBVc2VMb2FkZXJEYXRhICovKTtcbiAgcmV0dXJuIHN0YXRlLmxvYWRlckRhdGFbcm91dGVJZF07XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUxvYWRlckRhdGEocm91dGVJZCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VSb3V0ZUxvYWRlckRhdGFcIiAvKiBVc2VSb3V0ZUxvYWRlckRhdGEgKi8pO1xuICByZXR1cm4gc3RhdGUubG9hZGVyRGF0YVtyb3V0ZUlkXTtcbn1cbmZ1bmN0aW9uIHVzZUFjdGlvbkRhdGEoKSB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZUFjdGlvbkRhdGFcIiAvKiBVc2VBY3Rpb25EYXRhICovKTtcbiAgbGV0IHJvdXRlSWQgPSB1c2VDdXJyZW50Um91dGVJZChcInVzZUxvYWRlckRhdGFcIiAvKiBVc2VMb2FkZXJEYXRhICovKTtcbiAgcmV0dXJuIHN0YXRlLmFjdGlvbkRhdGEgPyBzdGF0ZS5hY3Rpb25EYXRhW3JvdXRlSWRdIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gdXNlUm91dGVFcnJvcigpIHtcbiAgbGV0IGVycm9yID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVFcnJvckNvbnRleHQpO1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VSb3V0ZUVycm9yXCIgLyogVXNlUm91dGVFcnJvciAqLyk7XG4gIGxldCByb3V0ZUlkID0gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VSb3V0ZUVycm9yXCIgLyogVXNlUm91dGVFcnJvciAqLyk7XG4gIGlmIChlcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIHJldHVybiBzdGF0ZS5lcnJvcnM/Lltyb3V0ZUlkXTtcbn1cbmZ1bmN0aW9uIHVzZUFzeW5jVmFsdWUoKSB7XG4gIGxldCB2YWx1ZSA9IFJlYWN0Mi51c2VDb250ZXh0KEF3YWl0Q29udGV4dCk7XG4gIHJldHVybiB2YWx1ZT8uX2RhdGE7XG59XG5mdW5jdGlvbiB1c2VBc3luY0Vycm9yKCkge1xuICBsZXQgdmFsdWUgPSBSZWFjdDIudXNlQ29udGV4dChBd2FpdENvbnRleHQpO1xuICByZXR1cm4gdmFsdWU/Ll9lcnJvcjtcbn1cbnZhciBibG9ja2VySWQgPSAwO1xuZnVuY3Rpb24gdXNlQmxvY2tlcihzaG91bGRCbG9jaykge1xuICBsZXQgeyByb3V0ZXIsIGJhc2VuYW1lIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dChcInVzZUJsb2NrZXJcIiAvKiBVc2VCbG9ja2VyICovKTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlQmxvY2tlclwiIC8qIFVzZUJsb2NrZXIgKi8pO1xuICBsZXQgW2Jsb2NrZXJLZXksIHNldEJsb2NrZXJLZXldID0gUmVhY3QyLnVzZVN0YXRlKFwiXCIpO1xuICBsZXQgYmxvY2tlckZ1bmN0aW9uID0gUmVhY3QyLnVzZUNhbGxiYWNrKFxuICAgIChhcmcpID0+IHtcbiAgICAgIGlmICh0eXBlb2Ygc2hvdWxkQmxvY2sgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gISFzaG91bGRCbG9jaztcbiAgICAgIH1cbiAgICAgIGlmIChiYXNlbmFtZSA9PT0gXCIvXCIpIHtcbiAgICAgICAgcmV0dXJuIHNob3VsZEJsb2NrKGFyZyk7XG4gICAgICB9XG4gICAgICBsZXQgeyBjdXJyZW50TG9jYXRpb24sIG5leHRMb2NhdGlvbiwgaGlzdG9yeUFjdGlvbiB9ID0gYXJnO1xuICAgICAgcmV0dXJuIHNob3VsZEJsb2NrKHtcbiAgICAgICAgY3VycmVudExvY2F0aW9uOiB7XG4gICAgICAgICAgLi4uY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgIHBhdGhuYW1lOiBzdHJpcEJhc2VuYW1lKGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IGN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICB9LFxuICAgICAgICBuZXh0TG9jYXRpb246IHtcbiAgICAgICAgICAuLi5uZXh0TG9jYXRpb24sXG4gICAgICAgICAgcGF0aG5hbWU6IHN0cmlwQmFzZW5hbWUobmV4dExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgbmV4dExvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIGhpc3RvcnlBY3Rpb25cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2Jhc2VuYW1lLCBzaG91bGRCbG9ja11cbiAgKTtcbiAgUmVhY3QyLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGtleSA9IFN0cmluZygrK2Jsb2NrZXJJZCk7XG4gICAgc2V0QmxvY2tlcktleShrZXkpO1xuICAgIHJldHVybiAoKSA9PiByb3V0ZXIuZGVsZXRlQmxvY2tlcihrZXkpO1xuICB9LCBbcm91dGVyXSk7XG4gIFJlYWN0Mi51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChibG9ja2VyS2V5ICE9PSBcIlwiKSB7XG4gICAgICByb3V0ZXIuZ2V0QmxvY2tlcihibG9ja2VyS2V5LCBibG9ja2VyRnVuY3Rpb24pO1xuICAgIH1cbiAgfSwgW3JvdXRlciwgYmxvY2tlcktleSwgYmxvY2tlckZ1bmN0aW9uXSk7XG4gIHJldHVybiBibG9ja2VyS2V5ICYmIHN0YXRlLmJsb2NrZXJzLmhhcyhibG9ja2VyS2V5KSA/IHN0YXRlLmJsb2NrZXJzLmdldChibG9ja2VyS2V5KSA6IElETEVfQkxPQ0tFUjtcbn1cbmZ1bmN0aW9uIHVzZU5hdmlnYXRlU3RhYmxlKCkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0KFwidXNlTmF2aWdhdGVcIiAvKiBVc2VOYXZpZ2F0ZVN0YWJsZSAqLyk7XG4gIGxldCBpZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKFwidXNlTmF2aWdhdGVcIiAvKiBVc2VOYXZpZ2F0ZVN0YWJsZSAqLyk7XG4gIGxldCBhY3RpdmVSZWYgPSBSZWFjdDIudXNlUmVmKGZhbHNlKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgYWN0aXZlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICB9KTtcbiAgbGV0IG5hdmlnYXRlID0gUmVhY3QyLnVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh0bywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICB3YXJuaW5nKGFjdGl2ZVJlZi5jdXJyZW50LCBuYXZpZ2F0ZUVmZmVjdFdhcm5pbmcpO1xuICAgICAgaWYgKCFhY3RpdmVSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByb3V0ZXIubmF2aWdhdGUodG8pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgcm91dGVyLm5hdmlnYXRlKHRvLCB7IGZyb21Sb3V0ZUlkOiBpZCwgLi4ub3B0aW9ucyB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtyb3V0ZXIsIGlkXVxuICApO1xuICByZXR1cm4gbmF2aWdhdGU7XG59XG52YXIgYWxyZWFkeVdhcm5lZCA9IHt9O1xuZnVuY3Rpb24gd2FybmluZ09uY2Uoa2V5LCBjb25kLCBtZXNzYWdlKSB7XG4gIGlmICghY29uZCAmJiAhYWxyZWFkeVdhcm5lZFtrZXldKSB7XG4gICAgYWxyZWFkeVdhcm5lZFtrZXldID0gdHJ1ZTtcbiAgICB3YXJuaW5nKGZhbHNlLCBtZXNzYWdlKTtcbiAgfVxufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvd2FybmluZ3MudHNcbnZhciBhbHJlYWR5V2FybmVkMiA9IHt9O1xuZnVuY3Rpb24gd2Fybk9uY2UoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmICghY29uZGl0aW9uICYmICFhbHJlYWR5V2FybmVkMlttZXNzYWdlXSkge1xuICAgIGFscmVhZHlXYXJuZWQyW21lc3NhZ2VdID0gdHJ1ZTtcbiAgICBjb25zb2xlLndhcm4obWVzc2FnZSk7XG4gIH1cbn1cblxuLy8gbGliL2NvbXBvbmVudHMudHN4XG52YXIgRU5BQkxFX0RFVl9XQVJOSU5HUzIgPSB0cnVlO1xuZnVuY3Rpb24gbWFwUm91dGVQcm9wZXJ0aWVzKHJvdXRlKSB7XG4gIGxldCB1cGRhdGVzID0ge1xuICAgIC8vIE5vdGU6IHRoaXMgY2hlY2sgYWxzbyBvY2N1cnMgaW4gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuIHNvIHVwZGF0ZVxuICAgIC8vIHRoZXJlIGlmIHlvdSBjaGFuZ2UgdGhpcyAtLSBwbGVhc2UgYW5kIHRoYW5rIHlvdSFcbiAgICBoYXNFcnJvckJvdW5kYXJ5OiByb3V0ZS5oYXNFcnJvckJvdW5kYXJ5IHx8IHJvdXRlLkVycm9yQm91bmRhcnkgIT0gbnVsbCB8fCByb3V0ZS5lcnJvckVsZW1lbnQgIT0gbnVsbFxuICB9O1xuICBpZiAocm91dGUuQ29tcG9uZW50KSB7XG4gICAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MyKSB7XG4gICAgICBpZiAocm91dGUuZWxlbWVudCkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSBib3RoIGBDb21wb25lbnRgIGFuZCBgZWxlbWVudGAgb24geW91ciByb3V0ZSAtIGBDb21wb25lbnRgIHdpbGwgYmUgdXNlZC5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBPYmplY3QuYXNzaWduKHVwZGF0ZXMsIHtcbiAgICAgIGVsZW1lbnQ6IFJlYWN0My5jcmVhdGVFbGVtZW50KHJvdXRlLkNvbXBvbmVudCksXG4gICAgICBDb21wb25lbnQ6IHZvaWQgMFxuICAgIH0pO1xuICB9XG4gIGlmIChyb3V0ZS5IeWRyYXRlRmFsbGJhY2spIHtcbiAgICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUzIpIHtcbiAgICAgIGlmIChyb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50KSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIGJvdGggYEh5ZHJhdGVGYWxsYmFja2AgYW5kIGBoeWRyYXRlRmFsbGJhY2tFbGVtZW50YCBvbiB5b3VyIHJvdXRlIC0gYEh5ZHJhdGVGYWxsYmFja2Agd2lsbCBiZSB1c2VkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24odXBkYXRlcywge1xuICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDogUmVhY3QzLmNyZWF0ZUVsZW1lbnQocm91dGUuSHlkcmF0ZUZhbGxiYWNrKSxcbiAgICAgIEh5ZHJhdGVGYWxsYmFjazogdm9pZCAwXG4gICAgfSk7XG4gIH1cbiAgaWYgKHJvdXRlLkVycm9yQm91bmRhcnkpIHtcbiAgICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUzIpIHtcbiAgICAgIGlmIChyb3V0ZS5lcnJvckVsZW1lbnQpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgYm90aCBgRXJyb3JCb3VuZGFyeWAgYW5kIGBlcnJvckVsZW1lbnRgIG9uIHlvdXIgcm91dGUgLSBgRXJyb3JCb3VuZGFyeWAgd2lsbCBiZSB1c2VkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24odXBkYXRlcywge1xuICAgICAgZXJyb3JFbGVtZW50OiBSZWFjdDMuY3JlYXRlRWxlbWVudChyb3V0ZS5FcnJvckJvdW5kYXJ5KSxcbiAgICAgIEVycm9yQm91bmRhcnk6IHZvaWQgMFxuICAgIH0pO1xuICB9XG4gIHJldHVybiB1cGRhdGVzO1xufVxuZnVuY3Rpb24gY3JlYXRlTWVtb3J5Um91dGVyKHJvdXRlcywgb3B0cykge1xuICByZXR1cm4gY3JlYXRlUm91dGVyKHtcbiAgICBiYXNlbmFtZTogb3B0cz8uYmFzZW5hbWUsXG4gICAgdW5zdGFibGVfZ2V0Q29udGV4dDogb3B0cz8udW5zdGFibGVfZ2V0Q29udGV4dCxcbiAgICBmdXR1cmU6IG9wdHM/LmZ1dHVyZSxcbiAgICBoaXN0b3J5OiBjcmVhdGVNZW1vcnlIaXN0b3J5KHtcbiAgICAgIGluaXRpYWxFbnRyaWVzOiBvcHRzPy5pbml0aWFsRW50cmllcyxcbiAgICAgIGluaXRpYWxJbmRleDogb3B0cz8uaW5pdGlhbEluZGV4XG4gICAgfSksXG4gICAgaHlkcmF0aW9uRGF0YTogb3B0cz8uaHlkcmF0aW9uRGF0YSxcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIGRhdGFTdHJhdGVneTogb3B0cz8uZGF0YVN0cmF0ZWd5LFxuICAgIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uOiBvcHRzPy5wYXRjaFJvdXRlc09uTmF2aWdhdGlvblxuICB9KS5pbml0aWFsaXplKCk7XG59XG52YXIgRGVmZXJyZWQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuc3RhdHVzID0gXCJwZW5kaW5nXCI7XG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdGhpcy5yZXNvbHZlID0gKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgICAgICB0aGlzLnN0YXR1cyA9IFwicmVzb2x2ZWRcIjtcbiAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHRoaXMucmVqZWN0ID0gKHJlYXNvbikgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IFwicGVuZGluZ1wiKSB7XG4gICAgICAgICAgdGhpcy5zdGF0dXMgPSBcInJlamVjdGVkXCI7XG4gICAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cbn07XG5mdW5jdGlvbiBSb3V0ZXJQcm92aWRlcih7XG4gIHJvdXRlcixcbiAgZmx1c2hTeW5jOiByZWFjdERvbUZsdXNoU3luY0ltcGxcbn0pIHtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0My51c2VTdGF0ZShyb3V0ZXIuc3RhdGUpO1xuICBsZXQgW3BlbmRpbmdTdGF0ZSwgc2V0UGVuZGluZ1N0YXRlXSA9IFJlYWN0My51c2VTdGF0ZSgpO1xuICBsZXQgW3Z0Q29udGV4dCwgc2V0VnRDb250ZXh0XSA9IFJlYWN0My51c2VTdGF0ZSh7XG4gICAgaXNUcmFuc2l0aW9uaW5nOiBmYWxzZVxuICB9KTtcbiAgbGV0IFtyZW5kZXJEZmQsIHNldFJlbmRlckRmZF0gPSBSZWFjdDMudXNlU3RhdGUoKTtcbiAgbGV0IFt0cmFuc2l0aW9uLCBzZXRUcmFuc2l0aW9uXSA9IFJlYWN0My51c2VTdGF0ZSgpO1xuICBsZXQgW2ludGVycnVwdGlvbiwgc2V0SW50ZXJydXB0aW9uXSA9IFJlYWN0My51c2VTdGF0ZSgpO1xuICBsZXQgZmV0Y2hlckRhdGEgPSBSZWFjdDMudXNlUmVmKC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdDMudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlLCB7IGRlbGV0ZWRGZXRjaGVycywgZmx1c2hTeW5jLCB2aWV3VHJhbnNpdGlvbk9wdHMgfSkgPT4ge1xuICAgICAgbmV3U3RhdGUuZmV0Y2hlcnMuZm9yRWFjaCgoZmV0Y2hlciwga2V5KSA9PiB7XG4gICAgICAgIGlmIChmZXRjaGVyLmRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICAgIGZldGNoZXJEYXRhLmN1cnJlbnQuc2V0KGtleSwgZmV0Y2hlci5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkZWxldGVkRmV0Y2hlcnMuZm9yRWFjaCgoa2V5KSA9PiBmZXRjaGVyRGF0YS5jdXJyZW50LmRlbGV0ZShrZXkpKTtcbiAgICAgIHdhcm5PbmNlKFxuICAgICAgICBmbHVzaFN5bmMgPT09IGZhbHNlIHx8IHJlYWN0RG9tRmx1c2hTeW5jSW1wbCAhPSBudWxsLFxuICAgICAgICAnWW91IHByb3ZpZGVkIHRoZSBgZmx1c2hTeW5jYCBvcHRpb24gdG8gYSByb3V0ZXIgdXBkYXRlLCBidXQgeW91IGFyZSBub3QgdXNpbmcgdGhlIGA8Um91dGVyUHJvdmlkZXI+YCBmcm9tIGByZWFjdC1yb3V0ZXIvZG9tYCBzbyBgUmVhY3RET00uZmx1c2hTeW5jKClgIGlzIHVuYXZhaWxhYmxlLiAgUGxlYXNlIHVwZGF0ZSB5b3VyIGFwcCB0byBgaW1wb3J0IHsgUm91dGVyUHJvdmlkZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyL2RvbVwiYCBhbmQgZW5zdXJlIHlvdSBoYXZlIGByZWFjdC1kb21gIGluc3RhbGxlZCBhcyBhIGRlcGVuZGVuY3kgdG8gdXNlIHRoZSBgZmx1c2hTeW5jYCBvcHRpb24uJ1xuICAgICAgKTtcbiAgICAgIGxldCBpc1ZpZXdUcmFuc2l0aW9uQXZhaWxhYmxlID0gcm91dGVyLndpbmRvdyAhPSBudWxsICYmIHJvdXRlci53aW5kb3cuZG9jdW1lbnQgIT0gbnVsbCAmJiB0eXBlb2Ygcm91dGVyLndpbmRvdy5kb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uID09PSBcImZ1bmN0aW9uXCI7XG4gICAgICB3YXJuT25jZShcbiAgICAgICAgdmlld1RyYW5zaXRpb25PcHRzID09IG51bGwgfHwgaXNWaWV3VHJhbnNpdGlvbkF2YWlsYWJsZSxcbiAgICAgICAgXCJZb3UgcHJvdmlkZWQgdGhlIGB2aWV3VHJhbnNpdGlvbmAgb3B0aW9uIHRvIGEgcm91dGVyIHVwZGF0ZSwgYnV0IHlvdSBkbyBub3QgYXBwZWFyIHRvIGJlIHJ1bm5pbmcgaW4gYSBET00gZW52aXJvbm1lbnQgYXMgYHdpbmRvdy5zdGFydFZpZXdUcmFuc2l0aW9uYCBpcyBub3QgYXZhaWxhYmxlLlwiXG4gICAgICApO1xuICAgICAgaWYgKCF2aWV3VHJhbnNpdGlvbk9wdHMgfHwgIWlzVmlld1RyYW5zaXRpb25BdmFpbGFibGUpIHtcbiAgICAgICAgaWYgKHJlYWN0RG9tRmx1c2hTeW5jSW1wbCAmJiBmbHVzaFN5bmMpIHtcbiAgICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgUmVhY3QzLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocmVhY3REb21GbHVzaFN5bmNJbXBsICYmIGZsdXNoU3luYykge1xuICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4ge1xuICAgICAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgICAgICByZW5kZXJEZmQgJiYgcmVuZGVyRGZkLnJlc29sdmUoKTtcbiAgICAgICAgICAgIHRyYW5zaXRpb24uc2tpcFRyYW5zaXRpb24oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0VnRDb250ZXh0KHtcbiAgICAgICAgICAgIGlzVHJhbnNpdGlvbmluZzogdHJ1ZSxcbiAgICAgICAgICAgIGZsdXNoU3luYzogdHJ1ZSxcbiAgICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICAgIG5leHRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLm5leHRMb2NhdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHQgPSByb3V0ZXIud2luZG93LmRvY3VtZW50LnN0YXJ0Vmlld1RyYW5zaXRpb24oKCkgPT4ge1xuICAgICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHQuZmluaXNoZWQuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHtcbiAgICAgICAgICAgIHNldFJlbmRlckRmZCh2b2lkIDApO1xuICAgICAgICAgICAgc2V0VHJhbnNpdGlvbih2b2lkIDApO1xuICAgICAgICAgICAgc2V0UGVuZGluZ1N0YXRlKHZvaWQgMCk7XG4gICAgICAgICAgICBzZXRWdENvbnRleHQoeyBpc1RyYW5zaXRpb25pbmc6IGZhbHNlIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHNldFRyYW5zaXRpb24odCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICByZW5kZXJEZmQgJiYgcmVuZGVyRGZkLnJlc29sdmUoKTtcbiAgICAgICAgdHJhbnNpdGlvbi5za2lwVHJhbnNpdGlvbigpO1xuICAgICAgICBzZXRJbnRlcnJ1cHRpb24oe1xuICAgICAgICAgIHN0YXRlOiBuZXdTdGF0ZSxcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMubmV4dExvY2F0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0UGVuZGluZ1N0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgc2V0VnRDb250ZXh0KHtcbiAgICAgICAgICBpc1RyYW5zaXRpb25pbmc6IHRydWUsXG4gICAgICAgICAgZmx1c2hTeW5jOiBmYWxzZSxcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgbmV4dExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMubmV4dExvY2F0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3JvdXRlci53aW5kb3csIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCwgdHJhbnNpdGlvbiwgcmVuZGVyRGZkXVxuICApO1xuICBSZWFjdDMudXNlTGF5b3V0RWZmZWN0KCgpID0+IHJvdXRlci5zdWJzY3JpYmUoc2V0U3RhdGUpLCBbcm91dGVyLCBzZXRTdGF0ZV0pO1xuICBSZWFjdDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodnRDb250ZXh0LmlzVHJhbnNpdGlvbmluZyAmJiAhdnRDb250ZXh0LmZsdXNoU3luYykge1xuICAgICAgc2V0UmVuZGVyRGZkKG5ldyBEZWZlcnJlZCgpKTtcbiAgICB9XG4gIH0sIFt2dENvbnRleHRdKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlbmRlckRmZCAmJiBwZW5kaW5nU3RhdGUgJiYgcm91dGVyLndpbmRvdykge1xuICAgICAgbGV0IG5ld1N0YXRlID0gcGVuZGluZ1N0YXRlO1xuICAgICAgbGV0IHJlbmRlclByb21pc2UgPSByZW5kZXJEZmQucHJvbWlzZTtcbiAgICAgIGxldCB0cmFuc2l0aW9uMiA9IHJvdXRlci53aW5kb3cuZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvbihhc3luYyAoKSA9PiB7XG4gICAgICAgIFJlYWN0My5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgICAgIGF3YWl0IHJlbmRlclByb21pc2U7XG4gICAgICB9KTtcbiAgICAgIHRyYW5zaXRpb24yLmZpbmlzaGVkLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICBzZXRSZW5kZXJEZmQodm9pZCAwKTtcbiAgICAgICAgc2V0VHJhbnNpdGlvbih2b2lkIDApO1xuICAgICAgICBzZXRQZW5kaW5nU3RhdGUodm9pZCAwKTtcbiAgICAgICAgc2V0VnRDb250ZXh0KHsgaXNUcmFuc2l0aW9uaW5nOiBmYWxzZSB9KTtcbiAgICAgIH0pO1xuICAgICAgc2V0VHJhbnNpdGlvbih0cmFuc2l0aW9uMik7XG4gICAgfVxuICB9LCBbcGVuZGluZ1N0YXRlLCByZW5kZXJEZmQsIHJvdXRlci53aW5kb3ddKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHJlbmRlckRmZCAmJiBwZW5kaW5nU3RhdGUgJiYgc3RhdGUubG9jYXRpb24ua2V5ID09PSBwZW5kaW5nU3RhdGUubG9jYXRpb24ua2V5KSB7XG4gICAgICByZW5kZXJEZmQucmVzb2x2ZSgpO1xuICAgIH1cbiAgfSwgW3JlbmRlckRmZCwgdHJhbnNpdGlvbiwgc3RhdGUubG9jYXRpb24sIHBlbmRpbmdTdGF0ZV0pO1xuICBSZWFjdDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXZ0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcgJiYgaW50ZXJydXB0aW9uKSB7XG4gICAgICBzZXRQZW5kaW5nU3RhdGUoaW50ZXJydXB0aW9uLnN0YXRlKTtcbiAgICAgIHNldFZ0Q29udGV4dCh7XG4gICAgICAgIGlzVHJhbnNpdGlvbmluZzogdHJ1ZSxcbiAgICAgICAgZmx1c2hTeW5jOiBmYWxzZSxcbiAgICAgICAgY3VycmVudExvY2F0aW9uOiBpbnRlcnJ1cHRpb24uY3VycmVudExvY2F0aW9uLFxuICAgICAgICBuZXh0TG9jYXRpb246IGludGVycnVwdGlvbi5uZXh0TG9jYXRpb25cbiAgICAgIH0pO1xuICAgICAgc2V0SW50ZXJydXB0aW9uKHZvaWQgMCk7XG4gICAgfVxuICB9LCBbdnRDb250ZXh0LmlzVHJhbnNpdGlvbmluZywgaW50ZXJydXB0aW9uXSk7XG4gIGxldCBuYXZpZ2F0b3IyID0gUmVhY3QzLnVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVIcmVmOiByb3V0ZXIuY3JlYXRlSHJlZixcbiAgICAgIGVuY29kZUxvY2F0aW9uOiByb3V0ZXIuZW5jb2RlTG9jYXRpb24sXG4gICAgICBnbzogKG4pID0+IHJvdXRlci5uYXZpZ2F0ZShuKSxcbiAgICAgIHB1c2g6ICh0bywgc3RhdGUyLCBvcHRzKSA9PiByb3V0ZXIubmF2aWdhdGUodG8sIHtcbiAgICAgICAgc3RhdGU6IHN0YXRlMixcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRzPy5wcmV2ZW50U2Nyb2xsUmVzZXRcbiAgICAgIH0pLFxuICAgICAgcmVwbGFjZTogKHRvLCBzdGF0ZTIsIG9wdHMpID0+IHJvdXRlci5uYXZpZ2F0ZSh0bywge1xuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICBzdGF0ZTogc3RhdGUyLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdHM/LnByZXZlbnRTY3JvbGxSZXNldFxuICAgICAgfSlcbiAgICB9O1xuICB9LCBbcm91dGVyXSk7XG4gIGxldCBiYXNlbmFtZSA9IHJvdXRlci5iYXNlbmFtZSB8fCBcIi9cIjtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QzLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHJvdXRlcixcbiAgICAgIG5hdmlnYXRvcjogbmF2aWdhdG9yMixcbiAgICAgIHN0YXRpYzogZmFsc2UsXG4gICAgICBiYXNlbmFtZVxuICAgIH0pLFxuICAgIFtyb3V0ZXIsIG5hdmlnYXRvcjIsIGJhc2VuYW1lXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFJlYWN0My5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KERhdGFSb3V0ZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBkYXRhUm91dGVyQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoRGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc3RhdGUgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEZldGNoZXJzQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogZmV0Y2hlckRhdGEuY3VycmVudCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoVmlld1RyYW5zaXRpb25Db250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB2dENvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5oaXN0b3J5QWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyXG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBNZW1vaXplZERhdGFSb3V0ZXMsXG4gICAgICB7XG4gICAgICAgIHJvdXRlczogcm91dGVyLnJvdXRlcyxcbiAgICAgICAgZnV0dXJlOiByb3V0ZXIuZnV0dXJlLFxuICAgICAgICBzdGF0ZVxuICAgICAgfVxuICAgIClcbiAgKSkpKSksIG51bGwpO1xufVxudmFyIE1lbW9pemVkRGF0YVJvdXRlcyA9IFJlYWN0My5tZW1vKERhdGFSb3V0ZXMpO1xuZnVuY3Rpb24gRGF0YVJvdXRlcyh7XG4gIHJvdXRlcyxcbiAgZnV0dXJlLFxuICBzdGF0ZVxufSkge1xuICByZXR1cm4gdXNlUm91dGVzSW1wbChyb3V0ZXMsIHZvaWQgMCwgc3RhdGUsIGZ1dHVyZSk7XG59XG5mdW5jdGlvbiBNZW1vcnlSb3V0ZXIoe1xuICBiYXNlbmFtZSxcbiAgY2hpbGRyZW4sXG4gIGluaXRpYWxFbnRyaWVzLFxuICBpbml0aWFsSW5kZXhcbn0pIHtcbiAgbGV0IGhpc3RvcnlSZWYgPSBSZWFjdDMudXNlUmVmKCk7XG4gIGlmIChoaXN0b3J5UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgIGhpc3RvcnlSZWYuY3VycmVudCA9IGNyZWF0ZU1lbW9yeUhpc3Rvcnkoe1xuICAgICAgaW5pdGlhbEVudHJpZXMsXG4gICAgICBpbml0aWFsSW5kZXgsXG4gICAgICB2NUNvbXBhdDogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIGxldCBoaXN0b3J5ID0gaGlzdG9yeVJlZi5jdXJyZW50O1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QzLnVzZVN0YXRlKHtcbiAgICBhY3Rpb246IGhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uXG4gIH0pO1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdDMudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlKSA9PiB7XG4gICAgICBSZWFjdDMuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QzLnVzZUxheW91dEVmZmVjdCgoKSA9PiBoaXN0b3J5Lmxpc3RlbihzZXRTdGF0ZSksIFtoaXN0b3J5LCBzZXRTdGF0ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogaGlzdG9yeVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIE5hdmlnYXRlKHtcbiAgdG8sXG4gIHJlcGxhY2U6IHJlcGxhY2UyLFxuICBzdGF0ZSxcbiAgcmVsYXRpdmVcbn0pIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mXG4gICAgLy8gdGhlIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgPE5hdmlnYXRlPiBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IHsgc3RhdGljOiBpc1N0YXRpYyB9ID0gUmVhY3QzLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICB3YXJuaW5nKFxuICAgICFpc1N0YXRpYyxcbiAgICBgPE5hdmlnYXRlPiBtdXN0IG5vdCBiZSB1c2VkIG9uIHRoZSBpbml0aWFsIHJlbmRlciBpbiBhIDxTdGF0aWNSb3V0ZXI+LiBUaGlzIGlzIGEgbm8tb3AsIGJ1dCB5b3Ugc2hvdWxkIG1vZGlmeSB5b3VyIGNvZGUgc28gdGhlIDxOYXZpZ2F0ZT4gaXMgb25seSBldmVyIHJlbmRlcmVkIGluIHJlc3BvbnNlIHRvIHNvbWUgdXNlciBpbnRlcmFjdGlvbiBvciBzdGF0ZSBjaGFuZ2UuYFxuICApO1xuICBsZXQgeyBtYXRjaGVzIH0gPSBSZWFjdDMudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgeyBwYXRobmFtZTogbG9jYXRpb25QYXRobmFtZSB9ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgbGV0IHBhdGggPSByZXNvbHZlVG8oXG4gICAgdG8sXG4gICAgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzKSxcbiAgICBsb2NhdGlvblBhdGhuYW1lLFxuICAgIHJlbGF0aXZlID09PSBcInBhdGhcIlxuICApO1xuICBsZXQganNvblBhdGggPSBKU09OLnN0cmluZ2lmeShwYXRoKTtcbiAgUmVhY3QzLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbmF2aWdhdGUoSlNPTi5wYXJzZShqc29uUGF0aCksIHsgcmVwbGFjZTogcmVwbGFjZTIsIHN0YXRlLCByZWxhdGl2ZSB9KTtcbiAgfSwgW25hdmlnYXRlLCBqc29uUGF0aCwgcmVsYXRpdmUsIHJlcGxhY2UyLCBzdGF0ZV0pO1xuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIE91dGxldChwcm9wcykge1xuICByZXR1cm4gdXNlT3V0bGV0KHByb3BzLmNvbnRleHQpO1xufVxuZnVuY3Rpb24gUm91dGUoX3Byb3BzKSB7XG4gIGludmFyaWFudChcbiAgICBmYWxzZSxcbiAgICBgQSA8Um91dGU+IGlzIG9ubHkgZXZlciB0byBiZSB1c2VkIGFzIHRoZSBjaGlsZCBvZiA8Um91dGVzPiBlbGVtZW50LCBuZXZlciByZW5kZXJlZCBkaXJlY3RseS4gUGxlYXNlIHdyYXAgeW91ciA8Um91dGU+IGluIGEgPFJvdXRlcz4uYFxuICApO1xufVxuZnVuY3Rpb24gUm91dGVyKHtcbiAgYmFzZW5hbWU6IGJhc2VuYW1lUHJvcCA9IFwiL1wiLFxuICBjaGlsZHJlbiA9IG51bGwsXG4gIGxvY2F0aW9uOiBsb2NhdGlvblByb3AsXG4gIG5hdmlnYXRpb25UeXBlID0gXCJQT1BcIiAvKiBQb3AgKi8sXG4gIG5hdmlnYXRvcjogbmF2aWdhdG9yMixcbiAgc3RhdGljOiBzdGF0aWNQcm9wID0gZmFsc2Vcbn0pIHtcbiAgaW52YXJpYW50KFxuICAgICF1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICBgWW91IGNhbm5vdCByZW5kZXIgYSA8Um91dGVyPiBpbnNpZGUgYW5vdGhlciA8Um91dGVyPi4gWW91IHNob3VsZCBuZXZlciBoYXZlIG1vcmUgdGhhbiBvbmUgaW4geW91ciBhcHAuYFxuICApO1xuICBsZXQgYmFzZW5hbWUgPSBiYXNlbmFtZVByb3AucmVwbGFjZSgvXlxcLyovLCBcIi9cIik7XG4gIGxldCBuYXZpZ2F0aW9uQ29udGV4dCA9IFJlYWN0My51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIG5hdmlnYXRvcjogbmF2aWdhdG9yMixcbiAgICAgIHN0YXRpYzogc3RhdGljUHJvcCxcbiAgICAgIGZ1dHVyZToge31cbiAgICB9KSxcbiAgICBbYmFzZW5hbWUsIG5hdmlnYXRvcjIsIHN0YXRpY1Byb3BdXG4gICk7XG4gIGlmICh0eXBlb2YgbG9jYXRpb25Qcm9wID09PSBcInN0cmluZ1wiKSB7XG4gICAgbG9jYXRpb25Qcm9wID0gcGFyc2VQYXRoKGxvY2F0aW9uUHJvcCk7XG4gIH1cbiAgbGV0IHtcbiAgICBwYXRobmFtZSA9IFwiL1wiLFxuICAgIHNlYXJjaCA9IFwiXCIsXG4gICAgaGFzaCA9IFwiXCIsXG4gICAgc3RhdGUgPSBudWxsLFxuICAgIGtleSA9IFwiZGVmYXVsdFwiXG4gIH0gPSBsb2NhdGlvblByb3A7XG4gIGxldCBsb2NhdGlvbkNvbnRleHQgPSBSZWFjdDMudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IHRyYWlsaW5nUGF0aG5hbWUgPSBzdHJpcEJhc2VuYW1lKHBhdGhuYW1lLCBiYXNlbmFtZSk7XG4gICAgaWYgKHRyYWlsaW5nUGF0aG5hbWUgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBsb2NhdGlvbjoge1xuICAgICAgICBwYXRobmFtZTogdHJhaWxpbmdQYXRobmFtZSxcbiAgICAgICAgc2VhcmNoLFxuICAgICAgICBoYXNoLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAga2V5XG4gICAgICB9LFxuICAgICAgbmF2aWdhdGlvblR5cGVcbiAgICB9O1xuICB9LCBbYmFzZW5hbWUsIHBhdGhuYW1lLCBzZWFyY2gsIGhhc2gsIHN0YXRlLCBrZXksIG5hdmlnYXRpb25UeXBlXSk7XG4gIHdhcm5pbmcoXG4gICAgbG9jYXRpb25Db250ZXh0ICE9IG51bGwsXG4gICAgYDxSb3V0ZXIgYmFzZW5hbWU9XCIke2Jhc2VuYW1lfVwiPiBpcyBub3QgYWJsZSB0byBtYXRjaCB0aGUgVVJMIFwiJHtwYXRobmFtZX0ke3NlYXJjaH0ke2hhc2h9XCIgYmVjYXVzZSBpdCBkb2VzIG5vdCBzdGFydCB3aXRoIHRoZSBiYXNlbmFtZSwgc28gdGhlIDxSb3V0ZXI+IHdvbid0IHJlbmRlciBhbnl0aGluZy5gXG4gICk7XG4gIGlmIChsb2NhdGlvbkNvbnRleHQgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoTmF2aWdhdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IG5hdmlnYXRpb25Db250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChMb2NhdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgY2hpbGRyZW4sIHZhbHVlOiBsb2NhdGlvbkNvbnRleHQgfSkpO1xufVxuZnVuY3Rpb24gUm91dGVzKHtcbiAgY2hpbGRyZW4sXG4gIGxvY2F0aW9uXG59KSB7XG4gIHJldHVybiB1c2VSb3V0ZXMoY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKGNoaWxkcmVuKSwgbG9jYXRpb24pO1xufVxuZnVuY3Rpb24gQXdhaXQoe1xuICBjaGlsZHJlbixcbiAgZXJyb3JFbGVtZW50LFxuICByZXNvbHZlXG59KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoQXdhaXRFcnJvckJvdW5kYXJ5LCB7IHJlc29sdmUsIGVycm9yRWxlbWVudCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoUmVzb2x2ZUF3YWl0LCBudWxsLCBjaGlsZHJlbikpO1xufVxudmFyIEF3YWl0RXJyb3JCb3VuZGFyeSA9IGNsYXNzIGV4dGVuZHMgUmVhY3QzLkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGVycm9yOiBudWxsIH07XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH1cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGVycm9ySW5mbykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIjxBd2FpdD4gY2F1Z2h0IHRoZSBmb2xsb3dpbmcgZXJyb3IgZHVyaW5nIHJlbmRlclwiLFxuICAgICAgZXJyb3IsXG4gICAgICBlcnJvckluZm9cbiAgICApO1xuICB9XG4gIHJlbmRlcigpIHtcbiAgICBsZXQgeyBjaGlsZHJlbiwgZXJyb3JFbGVtZW50LCByZXNvbHZlIH0gPSB0aGlzLnByb3BzO1xuICAgIGxldCBwcm9taXNlID0gbnVsbDtcbiAgICBsZXQgc3RhdHVzID0gMCAvKiBwZW5kaW5nICovO1xuICAgIGlmICghKHJlc29sdmUgaW5zdGFuY2VvZiBQcm9taXNlKSkge1xuICAgICAgc3RhdHVzID0gMSAvKiBzdWNjZXNzICovO1xuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX3RyYWNrZWRcIiwgeyBnZXQ6ICgpID0+IHRydWUgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfZGF0YVwiLCB7IGdldDogKCkgPT4gcmVzb2x2ZSB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHN0YXR1cyA9IDIgLyogZXJyb3IgKi87XG4gICAgICBsZXQgcmVuZGVyRXJyb3IgPSB0aGlzLnN0YXRlLmVycm9yO1xuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KCkuY2F0Y2goKCkgPT4ge1xuICAgICAgfSk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfdHJhY2tlZFwiLCB7IGdldDogKCkgPT4gdHJ1ZSB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl9lcnJvclwiLCB7IGdldDogKCkgPT4gcmVuZGVyRXJyb3IgfSk7XG4gICAgfSBlbHNlIGlmIChyZXNvbHZlLl90cmFja2VkKSB7XG4gICAgICBwcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIHN0YXR1cyA9IFwiX2Vycm9yXCIgaW4gcHJvbWlzZSA/IDIgLyogZXJyb3IgKi8gOiBcIl9kYXRhXCIgaW4gcHJvbWlzZSA/IDEgLyogc3VjY2VzcyAqLyA6IDAgLyogcGVuZGluZyAqLztcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdHVzID0gMCAvKiBwZW5kaW5nICovO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc29sdmUsIFwiX3RyYWNrZWRcIiwgeyBnZXQ6ICgpID0+IHRydWUgfSk7XG4gICAgICBwcm9taXNlID0gcmVzb2x2ZS50aGVuKFxuICAgICAgICAoZGF0YTIpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvbHZlLCBcIl9kYXRhXCIsIHsgZ2V0OiAoKSA9PiBkYXRhMiB9KSxcbiAgICAgICAgKGVycm9yKSA9PiBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfZXJyb3JcIiwgeyBnZXQ6ICgpID0+IGVycm9yIH0pXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSAyIC8qIGVycm9yICovICYmICFlcnJvckVsZW1lbnQpIHtcbiAgICAgIHRocm93IHByb21pc2UuX2Vycm9yO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSAyIC8qIGVycm9yICovKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEF3YWl0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcHJvbWlzZSwgY2hpbGRyZW46IGVycm9yRWxlbWVudCB9KTtcbiAgICB9XG4gICAgaWYgKHN0YXR1cyA9PT0gMSAvKiBzdWNjZXNzICovKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KEF3YWl0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcHJvbWlzZSwgY2hpbGRyZW4gfSk7XG4gICAgfVxuICAgIHRocm93IHByb21pc2U7XG4gIH1cbn07XG5mdW5jdGlvbiBSZXNvbHZlQXdhaXQoe1xuICBjaGlsZHJlblxufSkge1xuICBsZXQgZGF0YTIgPSB1c2VBc3luY1ZhbHVlKCk7XG4gIGxldCB0b1JlbmRlciA9IHR5cGVvZiBjaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gY2hpbGRyZW4oZGF0YTIpIDogY2hpbGRyZW47XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoUmVhY3QzLkZyYWdtZW50LCBudWxsLCB0b1JlbmRlcik7XG59XG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oY2hpbGRyZW4sIHBhcmVudFBhdGggPSBbXSkge1xuICBsZXQgcm91dGVzID0gW107XG4gIFJlYWN0My5DaGlsZHJlbi5mb3JFYWNoKGNoaWxkcmVuLCAoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIVJlYWN0My5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgdHJlZVBhdGggPSBbLi4ucGFyZW50UGF0aCwgaW5kZXhdO1xuICAgIGlmIChlbGVtZW50LnR5cGUgPT09IFJlYWN0My5GcmFnbWVudCkge1xuICAgICAgcm91dGVzLnB1c2guYXBwbHkoXG4gICAgICAgIHJvdXRlcyxcbiAgICAgICAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuKGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sIHRyZWVQYXRoKVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW52YXJpYW50KFxuICAgICAgZWxlbWVudC50eXBlID09PSBSb3V0ZSxcbiAgICAgIGBbJHt0eXBlb2YgZWxlbWVudC50eXBlID09PSBcInN0cmluZ1wiID8gZWxlbWVudC50eXBlIDogZWxlbWVudC50eXBlLm5hbWV9XSBpcyBub3QgYSA8Um91dGU+IGNvbXBvbmVudC4gQWxsIGNvbXBvbmVudCBjaGlsZHJlbiBvZiA8Um91dGVzPiBtdXN0IGJlIGEgPFJvdXRlPiBvciA8UmVhY3QuRnJhZ21lbnQ+YFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIWVsZW1lbnQucHJvcHMuaW5kZXggfHwgIWVsZW1lbnQucHJvcHMuY2hpbGRyZW4sXG4gICAgICBcIkFuIGluZGV4IHJvdXRlIGNhbm5vdCBoYXZlIGNoaWxkIHJvdXRlcy5cIlxuICAgICk7XG4gICAgbGV0IHJvdXRlID0ge1xuICAgICAgaWQ6IGVsZW1lbnQucHJvcHMuaWQgfHwgdHJlZVBhdGguam9pbihcIi1cIiksXG4gICAgICBjYXNlU2Vuc2l0aXZlOiBlbGVtZW50LnByb3BzLmNhc2VTZW5zaXRpdmUsXG4gICAgICBlbGVtZW50OiBlbGVtZW50LnByb3BzLmVsZW1lbnQsXG4gICAgICBDb21wb25lbnQ6IGVsZW1lbnQucHJvcHMuQ29tcG9uZW50LFxuICAgICAgaW5kZXg6IGVsZW1lbnQucHJvcHMuaW5kZXgsXG4gICAgICBwYXRoOiBlbGVtZW50LnByb3BzLnBhdGgsXG4gICAgICBsb2FkZXI6IGVsZW1lbnQucHJvcHMubG9hZGVyLFxuICAgICAgYWN0aW9uOiBlbGVtZW50LnByb3BzLmFjdGlvbixcbiAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQ6IGVsZW1lbnQucHJvcHMuaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCxcbiAgICAgIEh5ZHJhdGVGYWxsYmFjazogZWxlbWVudC5wcm9wcy5IeWRyYXRlRmFsbGJhY2ssXG4gICAgICBlcnJvckVsZW1lbnQ6IGVsZW1lbnQucHJvcHMuZXJyb3JFbGVtZW50LFxuICAgICAgRXJyb3JCb3VuZGFyeTogZWxlbWVudC5wcm9wcy5FcnJvckJvdW5kYXJ5LFxuICAgICAgaGFzRXJyb3JCb3VuZGFyeTogZWxlbWVudC5wcm9wcy5oYXNFcnJvckJvdW5kYXJ5ID09PSB0cnVlIHx8IGVsZW1lbnQucHJvcHMuRXJyb3JCb3VuZGFyeSAhPSBudWxsIHx8IGVsZW1lbnQucHJvcHMuZXJyb3JFbGVtZW50ICE9IG51bGwsXG4gICAgICBzaG91bGRSZXZhbGlkYXRlOiBlbGVtZW50LnByb3BzLnNob3VsZFJldmFsaWRhdGUsXG4gICAgICBoYW5kbGU6IGVsZW1lbnQucHJvcHMuaGFuZGxlLFxuICAgICAgbGF6eTogZWxlbWVudC5wcm9wcy5sYXp5XG4gICAgfTtcbiAgICBpZiAoZWxlbWVudC5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgcm91dGUuY2hpbGRyZW4gPSBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oXG4gICAgICAgIGVsZW1lbnQucHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIHRyZWVQYXRoXG4gICAgICApO1xuICAgIH1cbiAgICByb3V0ZXMucHVzaChyb3V0ZSk7XG4gIH0pO1xuICByZXR1cm4gcm91dGVzO1xufVxudmFyIGNyZWF0ZVJvdXRlc0Zyb21FbGVtZW50cyA9IGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbjtcbmZ1bmN0aW9uIHJlbmRlck1hdGNoZXMobWF0Y2hlcykge1xuICByZXR1cm4gX3JlbmRlck1hdGNoZXMobWF0Y2hlcyk7XG59XG5cbi8vIGxpYi9kb20vbGliLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMCBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RvbS9kb20udHNcbnZhciBkZWZhdWx0TWV0aG9kID0gXCJnZXRcIjtcbnZhciBkZWZhdWx0RW5jVHlwZSA9IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCI7XG5mdW5jdGlvbiBpc0h0bWxFbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgdHlwZW9mIG9iamVjdC50YWdOYW1lID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNCdXR0b25FbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gaXNIdG1sRWxlbWVudChvYmplY3QpICYmIG9iamVjdC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYnV0dG9uXCI7XG59XG5mdW5jdGlvbiBpc0Zvcm1FbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gaXNIdG1sRWxlbWVudChvYmplY3QpICYmIG9iamVjdC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiZm9ybVwiO1xufVxuZnVuY3Rpb24gaXNJbnB1dEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBpc0h0bWxFbGVtZW50KG9iamVjdCkgJiYgb2JqZWN0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJpbnB1dFwiO1xufVxuZnVuY3Rpb24gaXNNb2RpZmllZEV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiAhIShldmVudC5tZXRhS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5KTtcbn1cbmZ1bmN0aW9uIHNob3VsZFByb2Nlc3NMaW5rQ2xpY2soZXZlbnQsIHRhcmdldCkge1xuICByZXR1cm4gZXZlbnQuYnV0dG9uID09PSAwICYmIC8vIElnbm9yZSBldmVyeXRoaW5nIGJ1dCBsZWZ0IGNsaWNrc1xuICAoIXRhcmdldCB8fCB0YXJnZXQgPT09IFwiX3NlbGZcIikgJiYgLy8gTGV0IGJyb3dzZXIgaGFuZGxlIFwidGFyZ2V0PV9ibGFua1wiIGV0Yy5cbiAgIWlzTW9kaWZpZWRFdmVudChldmVudCk7XG59XG5mdW5jdGlvbiBjcmVhdGVTZWFyY2hQYXJhbXMoaW5pdCA9IFwiXCIpIHtcbiAgcmV0dXJuIG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgdHlwZW9mIGluaXQgPT09IFwic3RyaW5nXCIgfHwgQXJyYXkuaXNBcnJheShpbml0KSB8fCBpbml0IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zID8gaW5pdCA6IE9iamVjdC5rZXlzKGluaXQpLnJlZHVjZSgobWVtbzIsIGtleSkgPT4ge1xuICAgICAgbGV0IHZhbHVlID0gaW5pdFtrZXldO1xuICAgICAgcmV0dXJuIG1lbW8yLmNvbmNhdChcbiAgICAgICAgQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5tYXAoKHYpID0+IFtrZXksIHZdKSA6IFtba2V5LCB2YWx1ZV1dXG4gICAgICApO1xuICAgIH0sIFtdKVxuICApO1xufVxuZnVuY3Rpb24gZ2V0U2VhcmNoUGFyYW1zRm9yTG9jYXRpb24obG9jYXRpb25TZWFyY2gsIGRlZmF1bHRTZWFyY2hQYXJhbXMpIHtcbiAgbGV0IHNlYXJjaFBhcmFtcyA9IGNyZWF0ZVNlYXJjaFBhcmFtcyhsb2NhdGlvblNlYXJjaCk7XG4gIGlmIChkZWZhdWx0U2VhcmNoUGFyYW1zKSB7XG4gICAgZGVmYXVsdFNlYXJjaFBhcmFtcy5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgIGlmICghc2VhcmNoUGFyYW1zLmhhcyhrZXkpKSB7XG4gICAgICAgIGRlZmF1bHRTZWFyY2hQYXJhbXMuZ2V0QWxsKGtleSkuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICAgICAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gc2VhcmNoUGFyYW1zO1xufVxudmFyIF9mb3JtRGF0YVN1cHBvcnRzU3VibWl0dGVyID0gbnVsbDtcbmZ1bmN0aW9uIGlzRm9ybURhdGFTdWJtaXR0ZXJTdXBwb3J0ZWQoKSB7XG4gIGlmIChfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlciA9PT0gbnVsbCkge1xuICAgIHRyeSB7XG4gICAgICBuZXcgRm9ybURhdGEoXG4gICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpLFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGlmIEZvcm1EYXRhIHN1cHBvcnRzIHRoZSBzdWJtaXR0ZXIgcGFyYW1ldGVyLCB0aGlzIHdpbGwgdGhyb3dcbiAgICAgICAgMFxuICAgICAgKTtcbiAgICAgIF9mb3JtRGF0YVN1cHBvcnRzU3VibWl0dGVyID0gZmFsc2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXIgPSB0cnVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXI7XG59XG52YXIgc3VwcG9ydGVkRm9ybUVuY1R5cGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoW1xuICBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuICBcIm11bHRpcGFydC9mb3JtLWRhdGFcIixcbiAgXCJ0ZXh0L3BsYWluXCJcbl0pO1xuZnVuY3Rpb24gZ2V0Rm9ybUVuY1R5cGUoZW5jVHlwZSkge1xuICBpZiAoZW5jVHlwZSAhPSBudWxsICYmICFzdXBwb3J0ZWRGb3JtRW5jVHlwZXMuaGFzKGVuY1R5cGUpKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgYFwiJHtlbmNUeXBlfVwiIGlzIG5vdCBhIHZhbGlkIFxcYGVuY1R5cGVcXGAgZm9yIFxcYDxGb3JtPlxcYC9cXGA8ZmV0Y2hlci5Gb3JtPlxcYCBhbmQgd2lsbCBkZWZhdWx0IHRvIFwiJHtkZWZhdWx0RW5jVHlwZX1cImBcbiAgICApO1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBlbmNUeXBlO1xufVxuZnVuY3Rpb24gZ2V0Rm9ybVN1Ym1pc3Npb25JbmZvKHRhcmdldCwgYmFzZW5hbWUpIHtcbiAgbGV0IG1ldGhvZDtcbiAgbGV0IGFjdGlvbjtcbiAgbGV0IGVuY1R5cGU7XG4gIGxldCBmb3JtRGF0YTtcbiAgbGV0IGJvZHk7XG4gIGlmIChpc0Zvcm1FbGVtZW50KHRhcmdldCkpIHtcbiAgICBsZXQgYXR0ciA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIik7XG4gICAgYWN0aW9uID0gYXR0ciA/IHN0cmlwQmFzZW5hbWUoYXR0ciwgYmFzZW5hbWUpIDogbnVsbDtcbiAgICBtZXRob2QgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwibWV0aG9kXCIpIHx8IGRlZmF1bHRNZXRob2Q7XG4gICAgZW5jVHlwZSA9IGdldEZvcm1FbmNUeXBlKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJlbmN0eXBlXCIpKSB8fCBkZWZhdWx0RW5jVHlwZTtcbiAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSh0YXJnZXQpO1xuICB9IGVsc2UgaWYgKGlzQnV0dG9uRWxlbWVudCh0YXJnZXQpIHx8IGlzSW5wdXRFbGVtZW50KHRhcmdldCkgJiYgKHRhcmdldC50eXBlID09PSBcInN1Ym1pdFwiIHx8IHRhcmdldC50eXBlID09PSBcImltYWdlXCIpKSB7XG4gICAgbGV0IGZvcm0gPSB0YXJnZXQuZm9ybTtcbiAgICBpZiAoZm9ybSA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBDYW5ub3Qgc3VibWl0IGEgPGJ1dHRvbj4gb3IgPGlucHV0IHR5cGU9XCJzdWJtaXRcIj4gd2l0aG91dCBhIDxmb3JtPmBcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCBhdHRyID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImZvcm1hY3Rpb25cIikgfHwgZm9ybS5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIik7XG4gICAgYWN0aW9uID0gYXR0ciA/IHN0cmlwQmFzZW5hbWUoYXR0ciwgYmFzZW5hbWUpIDogbnVsbDtcbiAgICBtZXRob2QgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZm9ybW1ldGhvZFwiKSB8fCBmb3JtLmdldEF0dHJpYnV0ZShcIm1ldGhvZFwiKSB8fCBkZWZhdWx0TWV0aG9kO1xuICAgIGVuY1R5cGUgPSBnZXRGb3JtRW5jVHlwZSh0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZm9ybWVuY3R5cGVcIikpIHx8IGdldEZvcm1FbmNUeXBlKGZvcm0uZ2V0QXR0cmlidXRlKFwiZW5jdHlwZVwiKSkgfHwgZGVmYXVsdEVuY1R5cGU7XG4gICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZm9ybSwgdGFyZ2V0KTtcbiAgICBpZiAoIWlzRm9ybURhdGFTdWJtaXR0ZXJTdXBwb3J0ZWQoKSkge1xuICAgICAgbGV0IHsgbmFtZSwgdHlwZSwgdmFsdWUgfSA9IHRhcmdldDtcbiAgICAgIGlmICh0eXBlID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgbGV0IHByZWZpeCA9IG5hbWUgPyBgJHtuYW1lfS5gIDogXCJcIjtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKGAke3ByZWZpeH14YCwgXCIwXCIpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoYCR7cHJlZml4fXlgLCBcIjBcIik7XG4gICAgICB9IGVsc2UgaWYgKG5hbWUpIHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNIdG1sRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYENhbm5vdCBzdWJtaXQgZWxlbWVudCB0aGF0IGlzIG5vdCA8Zm9ybT4sIDxidXR0b24+LCBvciA8aW5wdXQgdHlwZT1cInN1Ym1pdHxpbWFnZVwiPmBcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIG1ldGhvZCA9IGRlZmF1bHRNZXRob2Q7XG4gICAgYWN0aW9uID0gbnVsbDtcbiAgICBlbmNUeXBlID0gZGVmYXVsdEVuY1R5cGU7XG4gICAgYm9keSA9IHRhcmdldDtcbiAgfVxuICBpZiAoZm9ybURhdGEgJiYgZW5jVHlwZSA9PT0gXCJ0ZXh0L3BsYWluXCIpIHtcbiAgICBib2R5ID0gZm9ybURhdGE7XG4gICAgZm9ybURhdGEgPSB2b2lkIDA7XG4gIH1cbiAgcmV0dXJuIHsgYWN0aW9uLCBtZXRob2Q6IG1ldGhvZC50b0xvd2VyQ2FzZSgpLCBlbmNUeXBlLCBmb3JtRGF0YSwgYm9keSB9O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9jb21wb25lbnRzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q5IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBsaWIvZG9tL3Nzci9pbnZhcmlhbnQudHNcbmZ1bmN0aW9uIGludmFyaWFudDIodmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cblxuLy8gbGliL2RvbS9zc3Ivcm91dGVNb2R1bGVzLnRzXG5hc3luYyBmdW5jdGlvbiBsb2FkUm91dGVNb2R1bGUocm91dGUsIHJvdXRlTW9kdWxlc0NhY2hlKSB7XG4gIGlmIChyb3V0ZS5pZCBpbiByb3V0ZU1vZHVsZXNDYWNoZSkge1xuICAgIHJldHVybiByb3V0ZU1vZHVsZXNDYWNoZVtyb3V0ZS5pZF07XG4gIH1cbiAgdHJ5IHtcbiAgICBsZXQgcm91dGVNb2R1bGUgPSBhd2FpdCBpbXBvcnQoXG4gICAgICAvKiBAdml0ZS1pZ25vcmUgKi9cbiAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgIHJvdXRlLm1vZHVsZVxuICAgICk7XG4gICAgcm91dGVNb2R1bGVzQ2FjaGVbcm91dGUuaWRdID0gcm91dGVNb2R1bGU7XG4gICAgcmV0dXJuIHJvdXRlTW9kdWxlO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBgRXJyb3IgbG9hZGluZyByb3V0ZSBtb2R1bGUgXFxgJHtyb3V0ZS5tb2R1bGV9XFxgLCByZWxvYWRpbmcgcGFnZS4uLmBcbiAgICApO1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIGlmICh3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQgJiYgd2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LmlzU3BhTW9kZSAmJiAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgaW1wb3J0Lm1ldGEuaG90KSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKSA9PiB7XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gbGliL2RvbS9zc3IvbGlua3MudHNcbmZ1bmN0aW9uIGdldEtleWVkTGlua3NGb3JNYXRjaGVzKG1hdGNoZXMsIHJvdXRlTW9kdWxlcywgbWFuaWZlc3QpIHtcbiAgbGV0IGRlc2NyaXB0b3JzID0gbWF0Y2hlcy5tYXAoKG1hdGNoKSA9PiB7XG4gICAgbGV0IG1vZHVsZSA9IHJvdXRlTW9kdWxlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgbGV0IHJvdXRlID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICByZXR1cm4gW1xuICAgICAgcm91dGUgJiYgcm91dGUuY3NzID8gcm91dGUuY3NzLm1hcCgoaHJlZjIpID0+ICh7IHJlbDogXCJzdHlsZXNoZWV0XCIsIGhyZWY6IGhyZWYyIH0pKSA6IFtdLFxuICAgICAgbW9kdWxlPy5saW5rcz8uKCkgfHwgW11cbiAgICBdO1xuICB9KS5mbGF0KDIpO1xuICBsZXQgcHJlbG9hZHMgPSBnZXRNb2R1bGVMaW5rSHJlZnMobWF0Y2hlcywgbWFuaWZlc3QpO1xuICByZXR1cm4gZGVkdXBlTGlua0Rlc2NyaXB0b3JzKGRlc2NyaXB0b3JzLCBwcmVsb2Fkcyk7XG59XG5mdW5jdGlvbiBnZXRSb3V0ZUNzc0Rlc2NyaXB0b3JzKHJvdXRlKSB7XG4gIGlmICghcm91dGUuY3NzKSByZXR1cm4gW107XG4gIHJldHVybiByb3V0ZS5jc3MubWFwKChocmVmMikgPT4gKHsgcmVsOiBcInN0eWxlc2hlZXRcIiwgaHJlZjogaHJlZjIgfSkpO1xufVxuYXN5bmMgZnVuY3Rpb24gcHJlZmV0Y2hSb3V0ZUNzcyhyb3V0ZSkge1xuICBpZiAoIXJvdXRlLmNzcykgcmV0dXJuO1xuICBsZXQgZGVzY3JpcHRvcnMgPSBnZXRSb3V0ZUNzc0Rlc2NyaXB0b3JzKHJvdXRlKTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoZGVzY3JpcHRvcnMubWFwKHByZWZldGNoU3R5bGVMaW5rKSk7XG59XG5hc3luYyBmdW5jdGlvbiBwcmVmZXRjaFN0eWxlTGlua3Mocm91dGUsIHJvdXRlTW9kdWxlKSB7XG4gIGlmICghcm91dGUuY3NzICYmICFyb3V0ZU1vZHVsZS5saW5rcyB8fCAhaXNQcmVsb2FkU3VwcG9ydGVkKCkpIHJldHVybjtcbiAgbGV0IGRlc2NyaXB0b3JzID0gW107XG4gIGlmIChyb3V0ZS5jc3MpIHtcbiAgICBkZXNjcmlwdG9ycy5wdXNoKC4uLmdldFJvdXRlQ3NzRGVzY3JpcHRvcnMocm91dGUpKTtcbiAgfVxuICBpZiAocm91dGVNb2R1bGUubGlua3MpIHtcbiAgICBkZXNjcmlwdG9ycy5wdXNoKC4uLnJvdXRlTW9kdWxlLmxpbmtzKCkpO1xuICB9XG4gIGlmIChkZXNjcmlwdG9ycy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgbGV0IHN0eWxlTGlua3MgPSBbXTtcbiAgZm9yIChsZXQgZGVzY3JpcHRvciBvZiBkZXNjcmlwdG9ycykge1xuICAgIGlmICghaXNQYWdlTGlua0Rlc2NyaXB0b3IoZGVzY3JpcHRvcikgJiYgZGVzY3JpcHRvci5yZWwgPT09IFwic3R5bGVzaGVldFwiKSB7XG4gICAgICBzdHlsZUxpbmtzLnB1c2goe1xuICAgICAgICAuLi5kZXNjcmlwdG9yLFxuICAgICAgICByZWw6IFwicHJlbG9hZFwiLFxuICAgICAgICBhczogXCJzdHlsZVwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgYXdhaXQgUHJvbWlzZS5hbGwoc3R5bGVMaW5rcy5tYXAocHJlZmV0Y2hTdHlsZUxpbmspKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByZWZldGNoU3R5bGVMaW5rKGRlc2NyaXB0b3IpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgaWYgKGRlc2NyaXB0b3IubWVkaWEgJiYgIXdpbmRvdy5tYXRjaE1lZGlhKGRlc2NyaXB0b3IubWVkaWEpLm1hdGNoZXMgfHwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIGBsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl1baHJlZj1cIiR7ZGVzY3JpcHRvci5ocmVmfVwiXWBcbiAgICApKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgIH1cbiAgICBsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgIE9iamVjdC5hc3NpZ24obGluaywgZGVzY3JpcHRvcik7XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGluaygpIHtcbiAgICAgIGlmIChkb2N1bWVudC5oZWFkLmNvbnRhaW5zKGxpbmspKSB7XG4gICAgICAgIGRvY3VtZW50LmhlYWQucmVtb3ZlQ2hpbGQobGluayk7XG4gICAgICB9XG4gICAgfVxuICAgIGxpbmsub25sb2FkID0gKCkgPT4ge1xuICAgICAgcmVtb3ZlTGluaygpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH07XG4gICAgbGluay5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgcmVtb3ZlTGluaygpO1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChsaW5rKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBpc1BhZ2VMaW5rRGVzY3JpcHRvcihvYmplY3QpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIHR5cGVvZiBvYmplY3QucGFnZSA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzSHRtbExpbmtEZXNjcmlwdG9yKG9iamVjdCkge1xuICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKG9iamVjdC5ocmVmID09IG51bGwpIHtcbiAgICByZXR1cm4gb2JqZWN0LnJlbCA9PT0gXCJwcmVsb2FkXCIgJiYgdHlwZW9mIG9iamVjdC5pbWFnZVNyY1NldCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygb2JqZWN0LmltYWdlU2l6ZXMgPT09IFwic3RyaW5nXCI7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBvYmplY3QucmVsID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBvYmplY3QuaHJlZiA9PT0gXCJzdHJpbmdcIjtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEtleWVkUHJlZmV0Y2hMaW5rcyhtYXRjaGVzLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzKSB7XG4gIGxldCBsaW5rcyA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgIG1hdGNoZXMubWFwKGFzeW5jIChtYXRjaCkgPT4ge1xuICAgICAgbGV0IHJvdXRlID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICBsZXQgbW9kID0gYXdhaXQgbG9hZFJvdXRlTW9kdWxlKHJvdXRlLCByb3V0ZU1vZHVsZXMpO1xuICAgICAgICByZXR1cm4gbW9kLmxpbmtzID8gbW9kLmxpbmtzKCkgOiBbXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXTtcbiAgICB9KVxuICApO1xuICByZXR1cm4gZGVkdXBlTGlua0Rlc2NyaXB0b3JzKFxuICAgIGxpbmtzLmZsYXQoMSkuZmlsdGVyKGlzSHRtbExpbmtEZXNjcmlwdG9yKS5maWx0ZXIoKGxpbmspID0+IGxpbmsucmVsID09PSBcInN0eWxlc2hlZXRcIiB8fCBsaW5rLnJlbCA9PT0gXCJwcmVsb2FkXCIpLm1hcChcbiAgICAgIChsaW5rKSA9PiBsaW5rLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIgPyB7IC4uLmxpbmssIHJlbDogXCJwcmVmZXRjaFwiLCBhczogXCJzdHlsZVwiIH0gOiB7IC4uLmxpbmssIHJlbDogXCJwcmVmZXRjaFwiIH1cbiAgICApXG4gICk7XG59XG5mdW5jdGlvbiBnZXROZXdNYXRjaGVzRm9yTGlua3MocGFnZSwgbmV4dE1hdGNoZXMsIGN1cnJlbnRNYXRjaGVzLCBtYW5pZmVzdCwgbG9jYXRpb24sIG1vZGUpIHtcbiAgbGV0IGlzTmV3ID0gKG1hdGNoLCBpbmRleCkgPT4ge1xuICAgIGlmICghY3VycmVudE1hdGNoZXNbaW5kZXhdKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gbWF0Y2gucm91dGUuaWQgIT09IGN1cnJlbnRNYXRjaGVzW2luZGV4XS5yb3V0ZS5pZDtcbiAgfTtcbiAgbGV0IG1hdGNoUGF0aENoYW5nZWQgPSAobWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIC8vIHBhcmFtIGNoYW5nZSwgL3VzZXJzLzEyMyAtPiAvdXNlcnMvNDU2XG4gICAgICBjdXJyZW50TWF0Y2hlc1tpbmRleF0ucGF0aG5hbWUgIT09IG1hdGNoLnBhdGhuYW1lIHx8IC8vIHNwbGF0IHBhcmFtIGNoYW5nZWQsIHdoaWNoIGlzIG5vdCBwcmVzZW50IGluIG1hdGNoLnBhdGhcbiAgICAgIC8vIGUuZy4gL2ZpbGVzL2ltYWdlcy9hdmF0YXIuanBnIC0+IGZpbGVzL2ZpbmFuY2VzLnhsc1xuICAgICAgY3VycmVudE1hdGNoZXNbaW5kZXhdLnJvdXRlLnBhdGg/LmVuZHNXaXRoKFwiKlwiKSAmJiBjdXJyZW50TWF0Y2hlc1tpbmRleF0ucGFyYW1zW1wiKlwiXSAhPT0gbWF0Y2gucGFyYW1zW1wiKlwiXVxuICAgICk7XG4gIH07XG4gIGlmIChtb2RlID09PSBcImFzc2V0c1wiKSB7XG4gICAgcmV0dXJuIG5leHRNYXRjaGVzLmZpbHRlcihcbiAgICAgIChtYXRjaCwgaW5kZXgpID0+IGlzTmV3KG1hdGNoLCBpbmRleCkgfHwgbWF0Y2hQYXRoQ2hhbmdlZChtYXRjaCwgaW5kZXgpXG4gICAgKTtcbiAgfVxuICBpZiAobW9kZSA9PT0gXCJkYXRhXCIpIHtcbiAgICByZXR1cm4gbmV4dE1hdGNoZXMuZmlsdGVyKChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICAgIGxldCBtYW5pZmVzdFJvdXRlID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmICghbWFuaWZlc3RSb3V0ZSB8fCAhbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzTmV3KG1hdGNoLCBpbmRleCkgfHwgbWF0Y2hQYXRoQ2hhbmdlZChtYXRjaCwgaW5kZXgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG1hdGNoLnJvdXRlLnNob3VsZFJldmFsaWRhdGUpIHtcbiAgICAgICAgbGV0IHJvdXRlQ2hvaWNlID0gbWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZSh7XG4gICAgICAgICAgY3VycmVudFVybDogbmV3IFVSTChcbiAgICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lICsgbG9jYXRpb24uc2VhcmNoICsgbG9jYXRpb24uaGFzaCxcbiAgICAgICAgICAgIHdpbmRvdy5vcmlnaW5cbiAgICAgICAgICApLFxuICAgICAgICAgIGN1cnJlbnRQYXJhbXM6IGN1cnJlbnRNYXRjaGVzWzBdPy5wYXJhbXMgfHwge30sXG4gICAgICAgICAgbmV4dFVybDogbmV3IFVSTChwYWdlLCB3aW5kb3cub3JpZ2luKSxcbiAgICAgICAgICBuZXh0UGFyYW1zOiBtYXRjaC5wYXJhbXMsXG4gICAgICAgICAgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0eXBlb2Ygcm91dGVDaG9pY2UgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgICAgcmV0dXJuIHJvdXRlQ2hvaWNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gW107XG59XG5mdW5jdGlvbiBnZXRNb2R1bGVMaW5rSHJlZnMobWF0Y2hlcywgbWFuaWZlc3QsIHsgaW5jbHVkZUh5ZHJhdGVGYWxsYmFjayB9ID0ge30pIHtcbiAgcmV0dXJuIGRlZHVwZUhyZWZzKFxuICAgIG1hdGNoZXMubWFwKChtYXRjaCkgPT4ge1xuICAgICAgbGV0IHJvdXRlID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmICghcm91dGUpIHJldHVybiBbXTtcbiAgICAgIGxldCBocmVmcyA9IFtyb3V0ZS5tb2R1bGVdO1xuICAgICAgaWYgKHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSkge1xuICAgICAgICBocmVmcyA9IGhyZWZzLmNvbmNhdChyb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSkge1xuICAgICAgICBocmVmcyA9IGhyZWZzLmNvbmNhdChyb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKGluY2x1ZGVIeWRyYXRlRmFsbGJhY2sgJiYgcm91dGUuaHlkcmF0ZUZhbGxiYWNrTW9kdWxlKSB7XG4gICAgICAgIGhyZWZzID0gaHJlZnMuY29uY2F0KHJvdXRlLmh5ZHJhdGVGYWxsYmFja01vZHVsZSk7XG4gICAgICB9XG4gICAgICBpZiAocm91dGUuaW1wb3J0cykge1xuICAgICAgICBocmVmcyA9IGhyZWZzLmNvbmNhdChyb3V0ZS5pbXBvcnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBocmVmcztcbiAgICB9KS5mbGF0KDEpXG4gICk7XG59XG5mdW5jdGlvbiBkZWR1cGVIcmVmcyhocmVmcykge1xuICByZXR1cm4gWy4uLm5ldyBTZXQoaHJlZnMpXTtcbn1cbmZ1bmN0aW9uIHNvcnRLZXlzKG9iaikge1xuICBsZXQgc29ydGVkID0ge307XG4gIGxldCBrZXlzID0gT2JqZWN0LmtleXMob2JqKS5zb3J0KCk7XG4gIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgc29ydGVkW2tleV0gPSBvYmpba2V5XTtcbiAgfVxuICByZXR1cm4gc29ydGVkO1xufVxuZnVuY3Rpb24gZGVkdXBlTGlua0Rlc2NyaXB0b3JzKGRlc2NyaXB0b3JzLCBwcmVsb2Fkcykge1xuICBsZXQgc2V0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IHByZWxvYWRzU2V0ID0gbmV3IFNldChwcmVsb2Fkcyk7XG4gIHJldHVybiBkZXNjcmlwdG9ycy5yZWR1Y2UoKGRlZHVwZWQsIGRlc2NyaXB0b3IpID0+IHtcbiAgICBsZXQgYWxyZWFkeU1vZHVsZVByZWxvYWQgPSBwcmVsb2FkcyAmJiAhaXNQYWdlTGlua0Rlc2NyaXB0b3IoZGVzY3JpcHRvcikgJiYgZGVzY3JpcHRvci5hcyA9PT0gXCJzY3JpcHRcIiAmJiBkZXNjcmlwdG9yLmhyZWYgJiYgcHJlbG9hZHNTZXQuaGFzKGRlc2NyaXB0b3IuaHJlZik7XG4gICAgaWYgKGFscmVhZHlNb2R1bGVQcmVsb2FkKSB7XG4gICAgICByZXR1cm4gZGVkdXBlZDtcbiAgICB9XG4gICAgbGV0IGtleSA9IEpTT04uc3RyaW5naWZ5KHNvcnRLZXlzKGRlc2NyaXB0b3IpKTtcbiAgICBpZiAoIXNldC5oYXMoa2V5KSkge1xuICAgICAgc2V0LmFkZChrZXkpO1xuICAgICAgZGVkdXBlZC5wdXNoKHsga2V5LCBsaW5rOiBkZXNjcmlwdG9yIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGVkdXBlZDtcbiAgfSwgW10pO1xufVxudmFyIF9pc1ByZWxvYWRTdXBwb3J0ZWQ7XG5mdW5jdGlvbiBpc1ByZWxvYWRTdXBwb3J0ZWQoKSB7XG4gIGlmIChfaXNQcmVsb2FkU3VwcG9ydGVkICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gX2lzUHJlbG9hZFN1cHBvcnRlZDtcbiAgfVxuICBsZXQgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtcbiAgX2lzUHJlbG9hZFN1cHBvcnRlZCA9IGVsLnJlbExpc3Quc3VwcG9ydHMoXCJwcmVsb2FkXCIpO1xuICBlbCA9IG51bGw7XG4gIHJldHVybiBfaXNQcmVsb2FkU3VwcG9ydGVkO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9tYXJrdXAudHNcbnZhciBFU0NBUEVfTE9PS1VQID0ge1xuICBcIiZcIjogXCJcXFxcdTAwMjZcIixcbiAgXCI+XCI6IFwiXFxcXHUwMDNlXCIsXG4gIFwiPFwiOiBcIlxcXFx1MDAzY1wiLFxuICBcIlxcdTIwMjhcIjogXCJcXFxcdTIwMjhcIixcbiAgXCJcXHUyMDI5XCI6IFwiXFxcXHUyMDI5XCJcbn07XG52YXIgRVNDQVBFX1JFR0VYID0gL1smPjxcXHUyMDI4XFx1MjAyOV0vZztcbmZ1bmN0aW9uIGVzY2FwZUh0bWwoaHRtbCkge1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKEVTQ0FQRV9SRUdFWCwgKG1hdGNoKSA9PiBFU0NBUEVfTE9PS1VQW21hdGNoXSk7XG59XG5mdW5jdGlvbiBjcmVhdGVIdG1sKGh0bWwpIHtcbiAgcmV0dXJuIHsgX19odG1sOiBodG1sIH07XG59XG5cbi8vIGxpYi9kb20vc3NyL3NpbmdsZS1mZXRjaC50c3hcbmltcG9ydCAqIGFzIFJlYWN0NCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGRlY29kZSB9IGZyb20gXCJ0dXJiby1zdHJlYW1cIjtcblxuLy8gbGliL2RvbS9zc3IvZGF0YS50c1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlUmVxdWVzdEluaXQocmVxdWVzdCkge1xuICBsZXQgaW5pdCA9IHsgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbCB9O1xuICBpZiAocmVxdWVzdC5tZXRob2QgIT09IFwiR0VUXCIpIHtcbiAgICBpbml0Lm1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgIGxldCBjb250ZW50VHlwZSA9IHJlcXVlc3QuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIik7XG4gICAgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJhcHBsaWNhdGlvblxcL2pzb25cXGIvLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICBpbml0LmhlYWRlcnMgPSB7IFwiQ29udGVudC1UeXBlXCI6IGNvbnRlbnRUeXBlIH07XG4gICAgICBpbml0LmJvZHkgPSBKU09OLnN0cmluZ2lmeShhd2FpdCByZXF1ZXN0Lmpzb24oKSk7XG4gICAgfSBlbHNlIGlmIChjb250ZW50VHlwZSAmJiAvXFxidGV4dFxcL3BsYWluXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgaW5pdC5oZWFkZXJzID0geyBcIkNvbnRlbnQtVHlwZVwiOiBjb250ZW50VHlwZSB9O1xuICAgICAgaW5pdC5ib2R5ID0gYXdhaXQgcmVxdWVzdC50ZXh0KCk7XG4gICAgfSBlbHNlIGlmIChjb250ZW50VHlwZSAmJiAvXFxiYXBwbGljYXRpb25cXC94LXd3dy1mb3JtLXVybGVuY29kZWRcXGIvLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICBpbml0LmJvZHkgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGF3YWl0IHJlcXVlc3QudGV4dCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5pdC5ib2R5ID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gaW5pdDtcbn1cblxuLy8gbGliL2RvbS9zc3Ivc2luZ2xlLWZldGNoLnRzeFxudmFyIFNpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2wgPSBTeW1ib2woXCJTaW5nbGVGZXRjaFJlZGlyZWN0XCIpO1xuZnVuY3Rpb24gU3RyZWFtVHJhbnNmZXIoe1xuICBjb250ZXh0LFxuICBpZGVudGlmaWVyLFxuICByZWFkZXIsXG4gIHRleHREZWNvZGVyLFxuICBub25jZVxufSkge1xuICBpZiAoIWNvbnRleHQucmVuZGVyTWV0YSB8fCAhY29udGV4dC5yZW5kZXJNZXRhLmRpZFJlbmRlclNjcmlwdHMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIWNvbnRleHQucmVuZGVyTWV0YS5zdHJlYW1DYWNoZSkge1xuICAgIGNvbnRleHQucmVuZGVyTWV0YS5zdHJlYW1DYWNoZSA9IHt9O1xuICB9XG4gIGxldCB7IHN0cmVhbUNhY2hlIH0gPSBjb250ZXh0LnJlbmRlck1ldGE7XG4gIGxldCBwcm9taXNlID0gc3RyZWFtQ2FjaGVbaWRlbnRpZmllcl07XG4gIGlmICghcHJvbWlzZSkge1xuICAgIHByb21pc2UgPSBzdHJlYW1DYWNoZVtpZGVudGlmaWVyXSA9IHJlYWRlci5yZWFkKCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBzdHJlYW1DYWNoZVtpZGVudGlmaWVyXS5yZXN1bHQgPSB7XG4gICAgICAgIGRvbmU6IHJlc3VsdC5kb25lLFxuICAgICAgICB2YWx1ZTogdGV4dERlY29kZXIuZGVjb2RlKHJlc3VsdC52YWx1ZSwgeyBzdHJlYW06IHRydWUgfSlcbiAgICAgIH07XG4gICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIHN0cmVhbUNhY2hlW2lkZW50aWZpZXJdLmVycm9yID0gZTtcbiAgICB9KTtcbiAgfVxuICBpZiAocHJvbWlzZS5lcnJvcikge1xuICAgIHRocm93IHByb21pc2UuZXJyb3I7XG4gIH1cbiAgaWYgKHByb21pc2UucmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICB0aHJvdyBwcm9taXNlO1xuICB9XG4gIGxldCB7IGRvbmUsIHZhbHVlIH0gPSBwcm9taXNlLnJlc3VsdDtcbiAgbGV0IHNjcmlwdFRhZyA9IHZhbHVlID8gLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFxuICAgIFwic2NyaXB0XCIsXG4gICAge1xuICAgICAgbm9uY2UsXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICBfX2h0bWw6IGB3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQuc3RyZWFtQ29udHJvbGxlci5lbnF1ZXVlKCR7ZXNjYXBlSHRtbChcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh2YWx1ZSlcbiAgICAgICAgKX0pO2BcbiAgICAgIH1cbiAgICB9XG4gICkgOiBudWxsO1xuICBpZiAoZG9uZSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoUmVhY3Q0LkZyYWdtZW50LCBudWxsLCBzY3JpcHRUYWcsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChcbiAgICAgIFwic2NyaXB0XCIsXG4gICAgICB7XG4gICAgICAgIG5vbmNlLFxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgIF9faHRtbDogYHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5zdHJlYW1Db250cm9sbGVyLmNsb3NlKCk7YFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChSZWFjdDQuRnJhZ21lbnQsIG51bGwsIHNjcmlwdFRhZywgLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFJlYWN0NC5TdXNwZW5zZSwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFxuICAgICAgU3RyZWFtVHJhbnNmZXIsXG4gICAgICB7XG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIgKyAxLFxuICAgICAgICByZWFkZXIsXG4gICAgICAgIHRleHREZWNvZGVyLFxuICAgICAgICBub25jZVxuICAgICAgfVxuICAgICkpKTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0U2luZ2xlRmV0Y2hEYXRhU3RyYXRlZ3kobWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgc3NyLCBiYXNlbmFtZSwgZ2V0Um91dGVyKSB7XG4gIHJldHVybiBhc3luYyAoYXJncykgPT4ge1xuICAgIGxldCB7IHJlcXVlc3QsIG1hdGNoZXMsIGZldGNoZXJLZXkgfSA9IGFyZ3M7XG4gICAgaWYgKHJlcXVlc3QubWV0aG9kICE9PSBcIkdFVFwiKSB7XG4gICAgICByZXR1cm4gcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgICAgICBhcmdzLFxuICAgICAgICBmYWxzZSxcbiAgICAgICAgKCkgPT4gc2luZ2xlRmV0Y2hBY3Rpb25TdHJhdGVneShyZXF1ZXN0LCBtYXRjaGVzLCBiYXNlbmFtZSksXG4gICAgICAgIChlKSA9PiAoeyBbZS5yb3V0ZUlkXTogeyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZS5lcnJvciB9IH0pXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXNzcikge1xuICAgICAgbGV0IGZvdW5kUmV2YWxpZGF0aW5nU2VydmVyTG9hZGVyID0gbWF0Y2hlcy5zb21lKFxuICAgICAgICAobSkgPT4gbS5zaG91bGRMb2FkICYmIG1hbmlmZXN0LnJvdXRlc1ttLnJvdXRlLmlkXT8uaGFzTG9hZGVyICYmICFtYW5pZmVzdC5yb3V0ZXNbbS5yb3V0ZS5pZF0/Lmhhc0NsaWVudExvYWRlclxuICAgICAgKTtcbiAgICAgIGlmICghZm91bmRSZXZhbGlkYXRpbmdTZXJ2ZXJMb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAgICBhcmdzLFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICgpID0+IG5vblNzclN0cmF0ZWd5KG1hbmlmZXN0LCByZXF1ZXN0LCBtYXRjaGVzLCBiYXNlbmFtZSksXG4gICAgICAgICAgKGUpID0+ICh7IFtlLnJvdXRlSWRdOiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlLmVycm9yIH0gfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZldGNoZXJLZXkpIHtcbiAgICAgIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICAgIGFyZ3MsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAoKSA9PiBzaW5nbGVGZXRjaExvYWRlckZldGNoZXJTdHJhdGVneShyZXF1ZXN0LCBtYXRjaGVzLCBiYXNlbmFtZSksXG4gICAgICAgIChlKSA9PiAoeyBbZS5yb3V0ZUlkXTogeyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZS5lcnJvciB9IH0pXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgICAgYXJncyxcbiAgICAgIGZhbHNlLFxuICAgICAgKCkgPT4gc2luZ2xlRmV0Y2hMb2FkZXJOYXZpZ2F0aW9uU3RyYXRlZ3koXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICByb3V0ZU1vZHVsZXMsXG4gICAgICAgIHNzcixcbiAgICAgICAgZ2V0Um91dGVyKCksXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGJhc2VuYW1lXG4gICAgICApLFxuICAgICAgKGUpID0+ICh7IFtlLnJvdXRlSWRdOiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlLmVycm9yIH0gfSlcbiAgICApO1xuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gc2luZ2xlRmV0Y2hBY3Rpb25TdHJhdGVneShyZXF1ZXN0LCBtYXRjaGVzLCBiYXNlbmFtZSkge1xuICBsZXQgYWN0aW9uTWF0Y2ggPSBtYXRjaGVzLmZpbmQoKG0pID0+IG0uc2hvdWxkTG9hZCk7XG4gIGludmFyaWFudDIoYWN0aW9uTWF0Y2gsIFwiTm8gYWN0aW9uIG1hdGNoIGZvdW5kXCIpO1xuICBsZXQgYWN0aW9uU3RhdHVzID0gdm9pZCAwO1xuICBsZXQgcmVzdWx0ID0gYXdhaXQgYWN0aW9uTWF0Y2gucmVzb2x2ZShhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgIGxldCByZXN1bHQyID0gYXdhaXQgaGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgdXJsID0gc2luZ2xlRmV0Y2hVcmwocmVxdWVzdC51cmwsIGJhc2VuYW1lKTtcbiAgICAgIGxldCBpbml0ID0gYXdhaXQgY3JlYXRlUmVxdWVzdEluaXQocmVxdWVzdCk7XG4gICAgICBsZXQgeyBkYXRhOiBkYXRhMiwgc3RhdHVzIH0gPSBhd2FpdCBmZXRjaEFuZERlY29kZSh1cmwsIGluaXQpO1xuICAgICAgYWN0aW9uU3RhdHVzID0gc3RhdHVzO1xuICAgICAgcmV0dXJuIHVud3JhcFNpbmdsZUZldGNoUmVzdWx0KFxuICAgICAgICBkYXRhMixcbiAgICAgICAgYWN0aW9uTWF0Y2gucm91dGUuaWRcbiAgICAgICk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDI7XG4gIH0pO1xuICBpZiAoaXNSZXNwb25zZShyZXN1bHQucmVzdWx0KSB8fCBpc1JvdXRlRXJyb3JSZXNwb25zZShyZXN1bHQucmVzdWx0KSkge1xuICAgIHJldHVybiB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdCB9O1xuICB9XG4gIHJldHVybiB7XG4gICAgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXToge1xuICAgICAgdHlwZTogcmVzdWx0LnR5cGUsXG4gICAgICByZXN1bHQ6IGRhdGEocmVzdWx0LnJlc3VsdCwgYWN0aW9uU3RhdHVzKVxuICAgIH1cbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIG5vblNzclN0cmF0ZWd5KG1hbmlmZXN0LCByZXF1ZXN0LCBtYXRjaGVzLCBiYXNlbmFtZSkge1xuICBsZXQgbWF0Y2hlc1RvTG9hZCA9IG1hdGNoZXMuZmlsdGVyKChtKSA9PiBtLnNob3VsZExvYWQpO1xuICBsZXQgdXJsID0gc3RyaXBJbmRleFBhcmFtKHNpbmdsZUZldGNoVXJsKHJlcXVlc3QudXJsLCBiYXNlbmFtZSkpO1xuICBsZXQgaW5pdCA9IGF3YWl0IGNyZWF0ZVJlcXVlc3RJbml0KHJlcXVlc3QpO1xuICBsZXQgcmVzdWx0cyA9IHt9O1xuICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBtYXRjaGVzVG9Mb2FkLm1hcChcbiAgICAgIChtKSA9PiBtLnJlc29sdmUoYXN5bmMgKGhhbmRsZXIpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gbWFuaWZlc3Qucm91dGVzW20ucm91dGUuaWRdPy5oYXNDbGllbnRMb2FkZXIgPyBhd2FpdCBmZXRjaFNpbmdsZUxvYWRlcihoYW5kbGVyLCB1cmwsIGluaXQsIG0ucm91dGUuaWQpIDogYXdhaXQgaGFuZGxlcigpO1xuICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7IHR5cGU6IFwiZGF0YVwiLCByZXN1bHQgfTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlIH07XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKVxuICApO1xuICByZXR1cm4gcmVzdWx0cztcbn1cbmZ1bmN0aW9uIGlzT3B0ZWRPdXQobWFuaWZlc3RSb3V0ZSwgcm91dGVNb2R1bGUsIG1hdGNoLCByb3V0ZXIpIHtcbiAgcmV0dXJuIG1hdGNoLnJvdXRlLmlkIGluIHJvdXRlci5zdGF0ZS5sb2FkZXJEYXRhICYmIG1hbmlmZXN0Um91dGUgJiYgbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIgJiYgcm91dGVNb2R1bGUgJiYgcm91dGVNb2R1bGUuc2hvdWxkUmV2YWxpZGF0ZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoTG9hZGVyTmF2aWdhdGlvblN0cmF0ZWd5KG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHNzciwgcm91dGVyLCByZXF1ZXN0LCBtYXRjaGVzLCBiYXNlbmFtZSkge1xuICBsZXQgcm91dGVzUGFyYW1zID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IGZvdW5kT3B0T3V0Um91dGUgPSBmYWxzZTtcbiAgbGV0IHJvdXRlRGZkcyA9IG1hdGNoZXMubWFwKCgpID0+IGNyZWF0ZURlZmVycmVkMigpKTtcbiAgbGV0IHJvdXRlc0xvYWRlZFByb21pc2UgPSBQcm9taXNlLmFsbChyb3V0ZURmZHMubWFwKChkKSA9PiBkLnByb21pc2UpKTtcbiAgbGV0IHNpbmdsZUZldGNoRGZkID0gY3JlYXRlRGVmZXJyZWQyKCk7XG4gIGxldCB1cmwgPSBzdHJpcEluZGV4UGFyYW0oc2luZ2xlRmV0Y2hVcmwocmVxdWVzdC51cmwsIGJhc2VuYW1lKSk7XG4gIGxldCBpbml0ID0gYXdhaXQgY3JlYXRlUmVxdWVzdEluaXQocmVxdWVzdCk7XG4gIGxldCByZXN1bHRzID0ge307XG4gIGxldCByZXNvbHZlUHJvbWlzZSA9IFByb21pc2UuYWxsKFxuICAgIG1hdGNoZXMubWFwKFxuICAgICAgYXN5bmMgKG0sIGkpID0+IG0ucmVzb2x2ZShhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICByb3V0ZURmZHNbaV0ucmVzb2x2ZSgpO1xuICAgICAgICBsZXQgbWFuaWZlc3RSb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttLnJvdXRlLmlkXTtcbiAgICAgICAgaWYgKCFtLnNob3VsZExvYWQpIHtcbiAgICAgICAgICBpZiAoIXJvdXRlci5zdGF0ZS5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNPcHRlZE91dChtYW5pZmVzdFJvdXRlLCByb3V0ZU1vZHVsZXNbbS5yb3V0ZS5pZF0sIG0sIHJvdXRlcikpIHtcbiAgICAgICAgICAgIGZvdW5kT3B0T3V0Um91dGUgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobWFuaWZlc3RSb3V0ZSAmJiBtYW5pZmVzdFJvdXRlLmhhc0NsaWVudExvYWRlcikge1xuICAgICAgICAgIGlmIChtYW5pZmVzdFJvdXRlLmhhc0xvYWRlcikge1xuICAgICAgICAgICAgZm91bmRPcHRPdXRSb3V0ZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgZmV0Y2hTaW5nbGVMb2FkZXIoXG4gICAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgaW5pdCxcbiAgICAgICAgICAgICAgbS5yb3V0ZS5pZFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7IHR5cGU6IFwiZGF0YVwiLCByZXN1bHQgfTtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0geyB0eXBlOiBcImVycm9yXCIsIHJlc3VsdDogZSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hbmlmZXN0Um91dGUgJiYgbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIpIHtcbiAgICAgICAgICByb3V0ZXNQYXJhbXMuYWRkKG0ucm91dGUuaWQpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGRhdGEyID0gYXdhaXQgc2luZ2xlRmV0Y2hEZmQucHJvbWlzZTtcbiAgICAgICAgICAgIHJldHVybiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdHMoZGF0YTIsIG0ucm91dGUuaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7XG4gICAgICAgICAgICB0eXBlOiBcImRhdGFcIixcbiAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXN1bHRzW20ucm91dGUuaWRdID0ge1xuICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgcmVzdWx0OiBlXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gICk7XG4gIGF3YWl0IHJvdXRlc0xvYWRlZFByb21pc2U7XG4gIGlmICgoIXJvdXRlci5zdGF0ZS5pbml0aWFsaXplZCB8fCByb3V0ZXNQYXJhbXMuc2l6ZSA9PT0gMCkgJiYgIXdpbmRvdy5fX3JlYWN0Um91dGVySGRyQWN0aXZlKSB7XG4gICAgc2luZ2xlRmV0Y2hEZmQucmVzb2x2ZSh7fSk7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChzc3IgJiYgZm91bmRPcHRPdXRSb3V0ZSAmJiByb3V0ZXNQYXJhbXMuc2l6ZSA+IDApIHtcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXG4gICAgICAgICAgXCJfcm91dGVzXCIsXG4gICAgICAgICAgbWF0Y2hlcy5maWx0ZXIoKG0pID0+IHJvdXRlc1BhcmFtcy5oYXMobS5yb3V0ZS5pZCkpLm1hcCgobSkgPT4gbS5yb3V0ZS5pZCkuam9pbihcIixcIilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGxldCBkYXRhMiA9IGF3YWl0IGZldGNoQW5kRGVjb2RlKHVybCwgaW5pdCk7XG4gICAgICBzaW5nbGVGZXRjaERmZC5yZXNvbHZlKGRhdGEyLmRhdGEpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHNpbmdsZUZldGNoRGZkLnJlamVjdChlKTtcbiAgICB9XG4gIH1cbiAgYXdhaXQgcmVzb2x2ZVByb21pc2U7XG4gIHJldHVybiByZXN1bHRzO1xufVxuYXN5bmMgZnVuY3Rpb24gc2luZ2xlRmV0Y2hMb2FkZXJGZXRjaGVyU3RyYXRlZ3kocmVxdWVzdCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IGZldGNoZXJNYXRjaCA9IG1hdGNoZXMuZmluZCgobSkgPT4gbS5zaG91bGRMb2FkKTtcbiAgaW52YXJpYW50MihmZXRjaGVyTWF0Y2gsIFwiTm8gZmV0Y2hlciBtYXRjaCBmb3VuZFwiKTtcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoZXJNYXRjaC5yZXNvbHZlKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgbGV0IHVybCA9IHN0cmlwSW5kZXhQYXJhbShzaW5nbGVGZXRjaFVybChyZXF1ZXN0LnVybCwgYmFzZW5hbWUpKTtcbiAgICBsZXQgaW5pdCA9IGF3YWl0IGNyZWF0ZVJlcXVlc3RJbml0KHJlcXVlc3QpO1xuICAgIHJldHVybiBmZXRjaFNpbmdsZUxvYWRlcihoYW5kbGVyLCB1cmwsIGluaXQsIGZldGNoZXJNYXRjaC5yb3V0ZS5pZCk7XG4gIH0pO1xuICByZXR1cm4geyBbZmV0Y2hlck1hdGNoLnJvdXRlLmlkXTogcmVzdWx0IH07XG59XG5mdW5jdGlvbiBmZXRjaFNpbmdsZUxvYWRlcihoYW5kbGVyLCB1cmwsIGluaXQsIHJvdXRlSWQpIHtcbiAgcmV0dXJuIGhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgIGxldCBzaW5nbGVMb2FkZXJVcmwgPSBuZXcgVVJMKHVybCk7XG4gICAgc2luZ2xlTG9hZGVyVXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJfcm91dGVzXCIsIHJvdXRlSWQpO1xuICAgIGxldCB7IGRhdGE6IGRhdGEyIH0gPSBhd2FpdCBmZXRjaEFuZERlY29kZShzaW5nbGVMb2FkZXJVcmwsIGluaXQpO1xuICAgIHJldHVybiB1bndyYXBTaW5nbGVGZXRjaFJlc3VsdHMoZGF0YTIsIHJvdXRlSWQpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHN0cmlwSW5kZXhQYXJhbSh1cmwpIHtcbiAgbGV0IGluZGV4VmFsdWVzID0gdXJsLnNlYXJjaFBhcmFtcy5nZXRBbGwoXCJpbmRleFwiKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoXCJpbmRleFwiKTtcbiAgbGV0IGluZGV4VmFsdWVzVG9LZWVwID0gW107XG4gIGZvciAobGV0IGluZGV4VmFsdWUgb2YgaW5kZXhWYWx1ZXMpIHtcbiAgICBpZiAoaW5kZXhWYWx1ZSkge1xuICAgICAgaW5kZXhWYWx1ZXNUb0tlZXAucHVzaChpbmRleFZhbHVlKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgdG9LZWVwIG9mIGluZGV4VmFsdWVzVG9LZWVwKSB7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB0b0tlZXApO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5mdW5jdGlvbiBzaW5nbGVGZXRjaFVybChyZXFVcmwsIGJhc2VuYW1lKSB7XG4gIGxldCB1cmwgPSB0eXBlb2YgcmVxVXJsID09PSBcInN0cmluZ1wiID8gbmV3IFVSTChcbiAgICByZXFVcmwsXG4gICAgLy8gVGhpcyBjYW4gYmUgY2FsbGVkIGR1cmluZyB0aGUgU1NSIGZsb3cgdmlhIFByZWZldGNoUGFnZUxpbmtzSW1wbCBzb1xuICAgIC8vIGRvbid0IGFzc3VtZSB3aW5kb3cgaXMgYXZhaWxhYmxlXG4gICAgdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiA/IFwic2VydmVyOi8vc2luZ2xlZmV0Y2gvXCIgOiB3aW5kb3cubG9jYXRpb24ub3JpZ2luXG4gICkgOiByZXFVcmw7XG4gIGlmICh1cmwucGF0aG5hbWUgPT09IFwiL1wiKSB7XG4gICAgdXJsLnBhdGhuYW1lID0gXCJfcm9vdC5kYXRhXCI7XG4gIH0gZWxzZSBpZiAoYmFzZW5hbWUgJiYgc3RyaXBCYXNlbmFtZSh1cmwucGF0aG5hbWUsIGJhc2VuYW1lKSA9PT0gXCIvXCIpIHtcbiAgICB1cmwucGF0aG5hbWUgPSBgJHtiYXNlbmFtZS5yZXBsYWNlKC9cXC8kLywgXCJcIil9L19yb290LmRhdGFgO1xuICB9IGVsc2Uge1xuICAgIHVybC5wYXRobmFtZSA9IGAke3VybC5wYXRobmFtZS5yZXBsYWNlKC9cXC8kLywgXCJcIil9LmRhdGFgO1xuICB9XG4gIHJldHVybiB1cmw7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEFuZERlY29kZSh1cmwsIGluaXQpIHtcbiAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgaW5pdCk7XG4gIGlmIChyZXMuc3RhdHVzID09PSA0MDQgJiYgIXJlcy5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVzcG9uc2VcIikpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3JSZXNwb25zZUltcGwoNDA0LCBcIk5vdCBGb3VuZFwiLCB0cnVlKTtcbiAgfVxuICBjb25zdCBOT19CT0RZX1NUQVRVU19DT0RFUzIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbMTAwLCAxMDEsIDIwNCwgMjA1XSk7XG4gIGlmIChOT19CT0RZX1NUQVRVU19DT0RFUzIuaGFzKHJlcy5zdGF0dXMpKSB7XG4gICAgaWYgKCFpbml0Lm1ldGhvZCB8fCBpbml0Lm1ldGhvZCA9PT0gXCJHRVRcIikge1xuICAgICAgcmV0dXJuIHsgc3RhdHVzOiByZXMuc3RhdHVzLCBkYXRhOiB7fSB9O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4geyBzdGF0dXM6IHJlcy5zdGF0dXMsIGRhdGE6IHsgZGF0YTogdm9pZCAwIH0gfTtcbiAgICB9XG4gIH1cbiAgaW52YXJpYW50MihyZXMuYm9keSwgXCJObyByZXNwb25zZSBib2R5IHRvIGRlY29kZVwiKTtcbiAgdHJ5IHtcbiAgICBsZXQgZGVjb2RlZCA9IGF3YWl0IGRlY29kZVZpYVR1cmJvU3RyZWFtKHJlcy5ib2R5LCB3aW5kb3cpO1xuICAgIHJldHVybiB7IHN0YXR1czogcmVzLnN0YXR1cywgZGF0YTogZGVjb2RlZC52YWx1ZSB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGRlY29kZSB0dXJiby1zdHJlYW0gcmVzcG9uc2VcIik7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlY29kZVZpYVR1cmJvU3RyZWFtKGJvZHksIGdsb2JhbDIpIHtcbiAgcmV0dXJuIGRlY29kZShib2R5LCB7XG4gICAgcGx1Z2luczogW1xuICAgICAgKHR5cGUsIC4uLnJlc3QpID0+IHtcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiU2FuaXRpemVkRXJyb3JcIikge1xuICAgICAgICAgIGxldCBbbmFtZSwgbWVzc2FnZSwgc3RhY2tdID0gcmVzdDtcbiAgICAgICAgICBsZXQgQ29uc3RydWN0b3IgPSBFcnJvcjtcbiAgICAgICAgICBpZiAobmFtZSAmJiBuYW1lIGluIGdsb2JhbDIgJiYgdHlwZW9mIGdsb2JhbDJbbmFtZV0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgQ29uc3RydWN0b3IgPSBnbG9iYWwyW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgZXJyb3IgPSBuZXcgQ29uc3RydWN0b3IobWVzc2FnZSk7XG4gICAgICAgICAgZXJyb3Iuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogZXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJFcnJvclJlc3BvbnNlXCIpIHtcbiAgICAgICAgICBsZXQgW2RhdGEyLCBzdGF0dXMsIHN0YXR1c1RleHRdID0gcmVzdDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IG5ldyBFcnJvclJlc3BvbnNlSW1wbChzdGF0dXMsIHN0YXR1c1RleHQsIGRhdGEyKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IFwiU2luZ2xlRmV0Y2hSZWRpcmVjdFwiKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHsgW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdOiByZXN0WzBdIH0gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJTaW5nbGVGZXRjaENsYXNzSW5zdGFuY2VcIikge1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiByZXN0WzBdIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09IFwiU2luZ2xlRmV0Y2hGYWxsYmFja1wiKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9KTtcbn1cbmZ1bmN0aW9uIHVud3JhcFNpbmdsZUZldGNoUmVzdWx0cyhyZXN1bHRzLCByb3V0ZUlkKSB7XG4gIGxldCByZWRpcmVjdDIgPSByZXN1bHRzW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdO1xuICBpZiAocmVkaXJlY3QyKSB7XG4gICAgcmV0dXJuIHVud3JhcFNpbmdsZUZldGNoUmVzdWx0KHJlZGlyZWN0Miwgcm91dGVJZCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdHNbcm91dGVJZF0gIT09IHZvaWQgMCA/IHVud3JhcFNpbmdsZUZldGNoUmVzdWx0KHJlc3VsdHNbcm91dGVJZF0sIHJvdXRlSWQpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIHVud3JhcFNpbmdsZUZldGNoUmVzdWx0KHJlc3VsdCwgcm91dGVJZCkge1xuICBpZiAoXCJlcnJvclwiIGluIHJlc3VsdCkge1xuICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgfSBlbHNlIGlmIChcInJlZGlyZWN0XCIgaW4gcmVzdWx0KSB7XG4gICAgbGV0IGhlYWRlcnMgPSB7fTtcbiAgICBpZiAocmVzdWx0LnJldmFsaWRhdGUpIHtcbiAgICAgIGhlYWRlcnNbXCJYLVJlbWl4LVJldmFsaWRhdGVcIl0gPSBcInllc1wiO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LnJlbG9hZCkge1xuICAgICAgaGVhZGVyc1tcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCJdID0gXCJ5ZXNcIjtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5yZXBsYWNlKSB7XG4gICAgICBoZWFkZXJzW1wiWC1SZW1peC1SZXBsYWNlXCJdID0gXCJ5ZXNcIjtcbiAgICB9XG4gICAgdGhyb3cgcmVkaXJlY3QocmVzdWx0LnJlZGlyZWN0LCB7IHN0YXR1czogcmVzdWx0LnN0YXR1cywgaGVhZGVycyB9KTtcbiAgfSBlbHNlIGlmIChcImRhdGFcIiBpbiByZXN1bHQpIHtcbiAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBObyByZXNwb25zZSBmb3VuZCBmb3Igcm91dGVJZCBcIiR7cm91dGVJZH1cImApO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVEZWZlcnJlZDIoKSB7XG4gIGxldCByZXNvbHZlO1xuICBsZXQgcmVqZWN0O1xuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIHJlc29sdmUgPSBhc3luYyAodmFsKSA9PiB7XG4gICAgICByZXModmFsKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfTtcbiAgICByZWplY3QgPSBhc3luYyAoZXJyb3IpID0+IHtcbiAgICAgIHJlaihlcnJvcik7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHByb21pc2UsXG4gICAgLy9AdHMtaWdub3JlXG4gICAgcmVzb2x2ZSxcbiAgICAvL0B0cy1pZ25vcmVcbiAgICByZWplY3RcbiAgfTtcbn1cblxuLy8gbGliL2RvbS9zc3IvZm9nLW9mLXdhci50c1xuaW1wb3J0ICogYXMgUmVhY3Q4IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBsaWIvZG9tL3Nzci9yb3V0ZXMudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDcgZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vc3NyL2Vycm9yQm91bmRhcmllcy50c3hcbmltcG9ydCAqIGFzIFJlYWN0NSBmcm9tIFwicmVhY3RcIjtcbnZhciBSZW1peEVycm9yQm91bmRhcnkgPSBjbGFzcyBleHRlbmRzIFJlYWN0NS5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0geyBlcnJvcjogcHJvcHMuZXJyb3IgfHwgbnVsbCwgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uIH07XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgIHJldHVybiB7IGVycm9yIH07XG4gIH1cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhwcm9wcywgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUubG9jYXRpb24gIT09IHByb3BzLmxvY2F0aW9uKSB7XG4gICAgICByZXR1cm4geyBlcnJvcjogcHJvcHMuZXJyb3IgfHwgbnVsbCwgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uIH07XG4gICAgfVxuICAgIHJldHVybiB7IGVycm9yOiBwcm9wcy5lcnJvciB8fCBzdGF0ZS5lcnJvciwgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uIH07XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmVycm9yKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFxuICAgICAgICBSZW1peFJvb3REZWZhdWx0RXJyb3JCb3VuZGFyeSxcbiAgICAgICAge1xuICAgICAgICAgIGVycm9yOiB0aGlzLnN0YXRlLmVycm9yLFxuICAgICAgICAgIGlzT3V0c2lkZVJlbWl4QXBwOiB0cnVlXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIFJlbWl4Um9vdERlZmF1bHRFcnJvckJvdW5kYXJ5KHtcbiAgZXJyb3IsXG4gIGlzT3V0c2lkZVJlbWl4QXBwXG59KSB7XG4gIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICBsZXQgaGV5RGV2ZWxvcGVyID0gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFxuICAgIFwic2NyaXB0XCIsXG4gICAge1xuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHtcbiAgICAgICAgX19odG1sOiBgXG4gICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgIFwiXFx1ezFGNEJGfSBIZXkgZGV2ZWxvcGVyIFxcdXsxRjQ0Qn0uIFlvdSBjYW4gcHJvdmlkZSBhIHdheSBiZXR0ZXIgVVggdGhhbiB0aGlzIHdoZW4geW91ciBhcHAgdGhyb3dzIGVycm9ycy4gQ2hlY2sgb3V0IGh0dHBzOi8vcmVtaXgucnVuL2d1aWRlcy9lcnJvcnMgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCJcbiAgICAgICAgKTtcbiAgICAgIGBcbiAgICAgIH1cbiAgICB9XG4gICk7XG4gIGlmIChpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikpIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KEJvdW5kYXJ5U2hlbGwsIHsgdGl0bGU6IFwiVW5oYW5kbGVkIFRocm93biBSZXNwb25zZSFcIiB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJoMVwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjI0cHhcIiB9IH0sIGVycm9yLnN0YXR1cywgXCIgXCIsIGVycm9yLnN0YXR1c1RleHQpLCBoZXlEZXZlbG9wZXIpO1xuICB9XG4gIGxldCBlcnJvckluc3RhbmNlO1xuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIGVycm9ySW5zdGFuY2UgPSBlcnJvcjtcbiAgfSBlbHNlIHtcbiAgICBsZXQgZXJyb3JTdHJpbmcgPSBlcnJvciA9PSBudWxsID8gXCJVbmtub3duIEVycm9yXCIgOiB0eXBlb2YgZXJyb3IgPT09IFwib2JqZWN0XCIgJiYgXCJ0b1N0cmluZ1wiIGluIGVycm9yID8gZXJyb3IudG9TdHJpbmcoKSA6IEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbiAgICBlcnJvckluc3RhbmNlID0gbmV3IEVycm9yKGVycm9yU3RyaW5nKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFxuICAgIEJvdW5kYXJ5U2hlbGwsXG4gICAge1xuICAgICAgdGl0bGU6IFwiQXBwbGljYXRpb24gRXJyb3IhXCIsXG4gICAgICBpc091dHNpZGVSZW1peEFwcFxuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwiaDFcIiwgeyBzdHlsZTogeyBmb250U2l6ZTogXCIyNHB4XCIgfSB9LCBcIkFwcGxpY2F0aW9uIEVycm9yXCIpLFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcbiAgICAgIFwicHJlXCIsXG4gICAgICB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcGFkZGluZzogXCIycmVtXCIsXG4gICAgICAgICAgYmFja2dyb3VuZDogXCJoc2xhKDEwLCA1MCUsIDUwJSwgMC4xKVwiLFxuICAgICAgICAgIGNvbG9yOiBcInJlZFwiLFxuICAgICAgICAgIG92ZXJmbG93OiBcImF1dG9cIlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZXJyb3JJbnN0YW5jZS5zdGFja1xuICAgICksXG4gICAgaGV5RGV2ZWxvcGVyXG4gICk7XG59XG5mdW5jdGlvbiBCb3VuZGFyeVNoZWxsKHtcbiAgdGl0bGUsXG4gIHJlbmRlclNjcmlwdHMsXG4gIGlzT3V0c2lkZVJlbWl4QXBwLFxuICBjaGlsZHJlblxufSkge1xuICBsZXQgeyByb3V0ZU1vZHVsZXMgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgaWYgKHJvdXRlTW9kdWxlcy5yb290Py5MYXlvdXQgJiYgIWlzT3V0c2lkZVJlbWl4QXBwKSB7XG4gICAgcmV0dXJuIGNoaWxkcmVuO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJodG1sXCIsIHsgbGFuZzogXCJlblwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImhlYWRcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwibWV0YVwiLCB7IGNoYXJTZXQ6IFwidXRmLThcIiB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFxuICAgIFwibWV0YVwiLFxuICAgIHtcbiAgICAgIG5hbWU6IFwidmlld3BvcnRcIixcbiAgICAgIGNvbnRlbnQ6IFwid2lkdGg9ZGV2aWNlLXdpZHRoLGluaXRpYWwtc2NhbGU9MSx2aWV3cG9ydC1maXQ9Y292ZXJcIlxuICAgIH1cbiAgKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgbnVsbCwgdGl0bGUpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwiYm9keVwiLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJtYWluXCIsIHsgc3R5bGU6IHsgZm9udEZhbWlseTogXCJzeXN0ZW0tdWksIHNhbnMtc2VyaWZcIiwgcGFkZGluZzogXCIycmVtXCIgfSB9LCBjaGlsZHJlbiwgcmVuZGVyU2NyaXB0cyA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChTY3JpcHRzLCBudWxsKSA6IG51bGwpKSk7XG59XG5cbi8vIGxpYi9kb20vc3NyL2ZhbGxiYWNrLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q2IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gUmVtaXhSb290RGVmYXVsdEh5ZHJhdGVGYWxsYmFjaygpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYuY3JlYXRlRWxlbWVudChCb3VuZGFyeVNoZWxsLCB7IHRpdGxlOiBcIkxvYWRpbmcuLi5cIiwgcmVuZGVyU2NyaXB0czogdHJ1ZSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICAgICAgXCJcXHV7MUY0QkZ9IEhleSBkZXZlbG9wZXIgXFx1ezFGNDRCfS4gWW91IGNhbiBwcm92aWRlIGEgd2F5IGJldHRlciBVWCB0aGFuIHRoaXMgXCIgK1xuICAgICAgICAgICAgICAgIFwid2hlbiB5b3VyIGFwcCBpcyBsb2FkaW5nIEpTIG1vZHVsZXMgYW5kL29yIHJ1bm5pbmcgXFxgY2xpZW50TG9hZGVyXFxgIFwiICtcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9ucy4gQ2hlY2sgb3V0IGh0dHBzOi8vcmVtaXgucnVuL3JvdXRlL2h5ZHJhdGUtZmFsbGJhY2sgXCIgK1xuICAgICAgICAgICAgICAgIFwiZm9yIG1vcmUgaW5mb3JtYXRpb24uXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGBcbiAgICAgIH1cbiAgICB9XG4gICkpO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9yb3V0ZXMudHN4XG5mdW5jdGlvbiBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpIHtcbiAgbGV0IHJvdXRlcyA9IHt9O1xuICBPYmplY3QudmFsdWVzKG1hbmlmZXN0KS5mb3JFYWNoKChyb3V0ZSkgPT4ge1xuICAgIGlmIChyb3V0ZSkge1xuICAgICAgbGV0IHBhcmVudElkID0gcm91dGUucGFyZW50SWQgfHwgXCJcIjtcbiAgICAgIGlmICghcm91dGVzW3BhcmVudElkXSkge1xuICAgICAgICByb3V0ZXNbcGFyZW50SWRdID0gW107XG4gICAgICB9XG4gICAgICByb3V0ZXNbcGFyZW50SWRdLnB1c2gocm91dGUpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByb3V0ZXM7XG59XG5mdW5jdGlvbiBnZXRSb3V0ZUNvbXBvbmVudHMocm91dGUsIHJvdXRlTW9kdWxlLCBpc1NwYU1vZGUpIHtcbiAgbGV0IENvbXBvbmVudDQgPSBnZXRSb3V0ZU1vZHVsZUNvbXBvbmVudChyb3V0ZU1vZHVsZSk7XG4gIGxldCBIeWRyYXRlRmFsbGJhY2sgPSByb3V0ZU1vZHVsZS5IeWRyYXRlRmFsbGJhY2sgJiYgKCFpc1NwYU1vZGUgfHwgcm91dGUuaWQgPT09IFwicm9vdFwiKSA/IHJvdXRlTW9kdWxlLkh5ZHJhdGVGYWxsYmFjayA6IHJvdXRlLmlkID09PSBcInJvb3RcIiA/IFJlbWl4Um9vdERlZmF1bHRIeWRyYXRlRmFsbGJhY2sgOiB2b2lkIDA7XG4gIGxldCBFcnJvckJvdW5kYXJ5ID0gcm91dGVNb2R1bGUuRXJyb3JCb3VuZGFyeSA/IHJvdXRlTW9kdWxlLkVycm9yQm91bmRhcnkgOiByb3V0ZS5pZCA9PT0gXCJyb290XCIgPyAoKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoUmVtaXhSb290RGVmYXVsdEVycm9yQm91bmRhcnksIHsgZXJyb3I6IHVzZVJvdXRlRXJyb3IoKSB9KSA6IHZvaWQgMDtcbiAgaWYgKHJvdXRlLmlkID09PSBcInJvb3RcIiAmJiByb3V0ZU1vZHVsZS5MYXlvdXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uQ29tcG9uZW50NCA/IHtcbiAgICAgICAgZWxlbWVudDogLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KHJvdXRlTW9kdWxlLkxheW91dCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KENvbXBvbmVudDQsIG51bGwpKVxuICAgICAgfSA6IHsgQ29tcG9uZW50OiBDb21wb25lbnQ0IH0sXG4gICAgICAuLi5FcnJvckJvdW5kYXJ5ID8ge1xuICAgICAgICBlcnJvckVsZW1lbnQ6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChyb3V0ZU1vZHVsZS5MYXlvdXQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChFcnJvckJvdW5kYXJ5LCBudWxsKSlcbiAgICAgIH0gOiB7IEVycm9yQm91bmRhcnkgfSxcbiAgICAgIC4uLkh5ZHJhdGVGYWxsYmFjayA/IHtcbiAgICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDogLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KHJvdXRlTW9kdWxlLkxheW91dCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KEh5ZHJhdGVGYWxsYmFjaywgbnVsbCkpXG4gICAgICB9IDogeyBIeWRyYXRlRmFsbGJhY2sgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgQ29tcG9uZW50OiBDb21wb25lbnQ0LCBFcnJvckJvdW5kYXJ5LCBIeWRyYXRlRmFsbGJhY2sgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNlcnZlclJvdXRlcyhtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBmdXR1cmUsIGlzU3BhTW9kZSwgcGFyZW50SWQgPSBcIlwiLCByb3V0ZXNCeVBhcmVudElkID0gZ3JvdXBSb3V0ZXNCeVBhcmVudElkKG1hbmlmZXN0KSwgc3BhTW9kZUxhenlQcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHsgQ29tcG9uZW50OiAoKSA9PiBudWxsIH0pKSB7XG4gIHJldHVybiAocm91dGVzQnlQYXJlbnRJZFtwYXJlbnRJZF0gfHwgW10pLm1hcCgocm91dGUpID0+IHtcbiAgICBsZXQgcm91dGVNb2R1bGUgPSByb3V0ZU1vZHVsZXNbcm91dGUuaWRdO1xuICAgIGludmFyaWFudDIoXG4gICAgICByb3V0ZU1vZHVsZSxcbiAgICAgIFwiTm8gYHJvdXRlTW9kdWxlYCBhdmFpbGFibGUgdG8gY3JlYXRlIHNlcnZlciByb3V0ZXNcIlxuICAgICk7XG4gICAgbGV0IGRhdGFSb3V0ZSA9IHtcbiAgICAgIC4uLmdldFJvdXRlQ29tcG9uZW50cyhyb3V0ZSwgcm91dGVNb2R1bGUsIGlzU3BhTW9kZSksXG4gICAgICBjYXNlU2Vuc2l0aXZlOiByb3V0ZS5jYXNlU2Vuc2l0aXZlLFxuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgaW5kZXg6IHJvdXRlLmluZGV4LFxuICAgICAgcGF0aDogcm91dGUucGF0aCxcbiAgICAgIGhhbmRsZTogcm91dGVNb2R1bGUuaGFuZGxlLFxuICAgICAgLy8gRm9yIFNQQSBNb2RlLCBhbGwgcm91dGVzIGFyZSBsYXp5IGV4Y2VwdCByb290LiAgSG93ZXZlciB3ZSB0ZWxsIHRoZVxuICAgICAgLy8gcm91dGVyIHJvb3QgaXMgYWxzbyBsYXp5IGhlcmUgdG9vIHNpbmNlIHdlIGRvbid0IG5lZWQgYSBmdWxsXG4gICAgICAvLyBpbXBsZW1lbnRhdGlvbiAtIHdlIGp1c3QgbmVlZCBhIGBsYXp5YCBwcm9wIHRvIHRlbGwgdGhlIFJSIHJlbmRlcmluZ1xuICAgICAgLy8gd2hlcmUgdG8gc3RvcCB3aGljaCBpcyBhbHdheXMgYXQgdGhlIHJvb3Qgcm91dGUgaW4gU1BBIG1vZGVcbiAgICAgIGxhenk6IGlzU3BhTW9kZSA/ICgpID0+IHNwYU1vZGVMYXp5UHJvbWlzZSA6IHZvaWQgMCxcbiAgICAgIC8vIEZvciBwYXJ0aWFsIGh5ZHJhdGlvbiByZW5kZXJpbmcsIHdlIG5lZWQgdG8gaW5kaWNhdGUgd2hlbiB0aGUgcm91dGVcbiAgICAgIC8vIGhhcyBhIGxvYWRlci9jbGllbnRMb2FkZXIsIGJ1dCBpdCB3b24ndCBldmVyIGJlIGNhbGxlZCBkdXJpbmcgdGhlIHN0YXRpY1xuICAgICAgLy8gcmVuZGVyLCBzbyBqdXN0IGdpdmUgaXQgYSBuby1vcCBmdW5jdGlvbiBzbyB3ZSBjYW4gcmVuZGVyIGRvd24gdG8gdGhlXG4gICAgICAvLyBwcm9wZXIgZmFsbGJhY2tcbiAgICAgIGxvYWRlcjogcm91dGUuaGFzTG9hZGVyIHx8IHJvdXRlLmhhc0NsaWVudExvYWRlciA/ICgpID0+IG51bGwgOiB2b2lkIDBcbiAgICAgIC8vIFdlIGRvbid0IG5lZWQgbWlkZGxld2FyZS9hY3Rpb24vc2hvdWxkUmV2YWxpZGF0ZSBvbiB0aGVzZSByb3V0ZXMgc2luY2VcbiAgICAgIC8vIHRoZXkncmUgZm9yIGEgc3RhdGljIHJlbmRlclxuICAgIH07XG4gICAgbGV0IGNoaWxkcmVuID0gY3JlYXRlU2VydmVyUm91dGVzKFxuICAgICAgbWFuaWZlc3QsXG4gICAgICByb3V0ZU1vZHVsZXMsXG4gICAgICBmdXR1cmUsXG4gICAgICBpc1NwYU1vZGUsXG4gICAgICByb3V0ZS5pZCxcbiAgICAgIHJvdXRlc0J5UGFyZW50SWQsXG4gICAgICBzcGFNb2RlTGF6eVByb21pc2VcbiAgICApO1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSBkYXRhUm91dGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICByZXR1cm4gZGF0YVJvdXRlO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNsaWVudFJvdXRlc1dpdGhITVJSZXZhbGlkYXRpb25PcHRPdXQobmVlZHNSZXZhbGlkYXRpb24sIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXNDYWNoZSwgaW5pdGlhbFN0YXRlLCBzc3IsIGlzU3BhTW9kZSkge1xuICByZXR1cm4gY3JlYXRlQ2xpZW50Um91dGVzKFxuICAgIG1hbmlmZXN0LFxuICAgIHJvdXRlTW9kdWxlc0NhY2hlLFxuICAgIGluaXRpYWxTdGF0ZSxcbiAgICBzc3IsXG4gICAgaXNTcGFNb2RlLFxuICAgIFwiXCIsXG4gICAgZ3JvdXBSb3V0ZXNCeVBhcmVudElkKG1hbmlmZXN0KSxcbiAgICBuZWVkc1JldmFsaWRhdGlvblxuICApO1xufVxuZnVuY3Rpb24gcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbCh0eXBlLCByb3V0ZSkge1xuICBpZiAodHlwZSA9PT0gXCJsb2FkZXJcIiAmJiAhcm91dGUuaGFzTG9hZGVyIHx8IHR5cGUgPT09IFwiYWN0aW9uXCIgJiYgIXJvdXRlLmhhc0FjdGlvbikge1xuICAgIGxldCBmbiA9IHR5cGUgPT09IFwiYWN0aW9uXCIgPyBcInNlcnZlckFjdGlvbigpXCIgOiBcInNlcnZlckxvYWRlcigpXCI7XG4gICAgbGV0IG1zZyA9IGBZb3UgYXJlIHRyeWluZyB0byBjYWxsICR7Zm59IG9uIGEgcm91dGUgdGhhdCBkb2VzIG5vdCBoYXZlIGEgc2VydmVyICR7dHlwZX0gKHJvdXRlSWQ6IFwiJHtyb3V0ZS5pZH1cIilgO1xuICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICB0aHJvdyBuZXcgRXJyb3JSZXNwb25zZUltcGwoNDAwLCBcIkJhZCBSZXF1ZXN0XCIsIG5ldyBFcnJvcihtc2cpLCB0cnVlKTtcbiAgfVxufVxuZnVuY3Rpb24gbm9BY3Rpb25EZWZpbmVkRXJyb3IodHlwZSwgcm91dGVJZCkge1xuICBsZXQgYXJ0aWNsZSA9IHR5cGUgPT09IFwiY2xpZW50QWN0aW9uXCIgPyBcImFcIiA6IFwiYW5cIjtcbiAgbGV0IG1zZyA9IGBSb3V0ZSBcIiR7cm91dGVJZH1cIiBkb2VzIG5vdCBoYXZlICR7YXJ0aWNsZX0gJHt0eXBlfSwgYnV0IHlvdSBhcmUgdHJ5aW5nIHRvIHN1Ym1pdCB0byBpdC4gVG8gZml4IHRoaXMsIHBsZWFzZSBhZGQgJHthcnRpY2xlfSBcXGAke3R5cGV9XFxgIGZ1bmN0aW9uIHRvIHRoZSByb3V0ZWA7XG4gIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgdGhyb3cgbmV3IEVycm9yUmVzcG9uc2VJbXBsKDQwNSwgXCJNZXRob2QgTm90IEFsbG93ZWRcIiwgbmV3IEVycm9yKG1zZyksIHRydWUpO1xufVxuZnVuY3Rpb24gY3JlYXRlQ2xpZW50Um91dGVzKG1hbmlmZXN0LCByb3V0ZU1vZHVsZXNDYWNoZSwgaW5pdGlhbFN0YXRlLCBzc3IsIGlzU3BhTW9kZSwgcGFyZW50SWQgPSBcIlwiLCByb3V0ZXNCeVBhcmVudElkID0gZ3JvdXBSb3V0ZXNCeVBhcmVudElkKG1hbmlmZXN0KSwgbmVlZHNSZXZhbGlkYXRpb24pIHtcbiAgcmV0dXJuIChyb3V0ZXNCeVBhcmVudElkW3BhcmVudElkXSB8fCBbXSkubWFwKChyb3V0ZSkgPT4ge1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IHJvdXRlTW9kdWxlc0NhY2hlW3JvdXRlLmlkXTtcbiAgICBmdW5jdGlvbiBmZXRjaFNlcnZlckhhbmRsZXIoc2luZ2xlRmV0Y2gpIHtcbiAgICAgIGludmFyaWFudDIoXG4gICAgICAgIHR5cGVvZiBzaW5nbGVGZXRjaCA9PT0gXCJmdW5jdGlvblwiLFxuICAgICAgICBcIk5vIHNpbmdsZSBmZXRjaCBmdW5jdGlvbiBhdmFpbGFibGUgZm9yIHJvdXRlIGhhbmRsZXJcIlxuICAgICAgKTtcbiAgICAgIHJldHVybiBzaW5nbGVGZXRjaCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCkge1xuICAgICAgaWYgKCFyb3V0ZS5oYXNMb2FkZXIpIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJIYW5kbGVyKHNpbmdsZUZldGNoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpIHtcbiAgICAgIGlmICghcm91dGUuaGFzQWN0aW9uKSB7XG4gICAgICAgIHRocm93IG5vQWN0aW9uRGVmaW5lZEVycm9yKFwiYWN0aW9uXCIsIHJvdXRlLmlkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmZXRjaFNlcnZlckhhbmRsZXIoc2luZ2xlRmV0Y2gpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVmZXRjaE1vZHVsZShtb2R1bGVQYXRoKSB7XG4gICAgICBpbXBvcnQoXG4gICAgICAgIC8qIEB2aXRlLWlnbm9yZSAqL1xuICAgICAgICAvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovXG4gICAgICAgIG1vZHVsZVBhdGhcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWZldGNoUm91dGVNb2R1bGVDaHVua3Mocm91dGUyKSB7XG4gICAgICBpZiAocm91dGUyLmNsaWVudEFjdGlvbk1vZHVsZSkge1xuICAgICAgICBwcmVmZXRjaE1vZHVsZShyb3V0ZTIuY2xpZW50QWN0aW9uTW9kdWxlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyb3V0ZTIuY2xpZW50TG9hZGVyTW9kdWxlKSB7XG4gICAgICAgIHByZWZldGNoTW9kdWxlKHJvdXRlMi5jbGllbnRMb2FkZXJNb2R1bGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBwcmVmZXRjaFN0eWxlc0FuZENhbGxIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgIGxldCBjYWNoZWRNb2R1bGUgPSByb3V0ZU1vZHVsZXNDYWNoZVtyb3V0ZS5pZF07XG4gICAgICBsZXQgbGlua1ByZWZldGNoUHJvbWlzZSA9IGNhY2hlZE1vZHVsZSA/IHByZWZldGNoU3R5bGVMaW5rcyhyb3V0ZSwgY2FjaGVkTW9kdWxlKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIoKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGF3YWl0IGxpbmtQcmVmZXRjaFByb21pc2U7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBkYXRhUm91dGUgPSB7XG4gICAgICBpZDogcm91dGUuaWQsXG4gICAgICBpbmRleDogcm91dGUuaW5kZXgsXG4gICAgICBwYXRoOiByb3V0ZS5wYXRoXG4gICAgfTtcbiAgICBpZiAocm91dGVNb2R1bGUpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24oZGF0YVJvdXRlLCB7XG4gICAgICAgIC4uLmRhdGFSb3V0ZSxcbiAgICAgICAgLi4uZ2V0Um91dGVDb21wb25lbnRzKHJvdXRlLCByb3V0ZU1vZHVsZSwgaXNTcGFNb2RlKSxcbiAgICAgICAgdW5zdGFibGVfbWlkZGxld2FyZTogcm91dGVNb2R1bGUudW5zdGFibGVfY2xpZW50TWlkZGxld2FyZSxcbiAgICAgICAgaGFuZGxlOiByb3V0ZU1vZHVsZS5oYW5kbGUsXG4gICAgICAgIHNob3VsZFJldmFsaWRhdGU6IGdldFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbihcbiAgICAgICAgICByb3V0ZU1vZHVsZSxcbiAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICBzc3IsXG4gICAgICAgICAgbmVlZHNSZXZhbGlkYXRpb25cbiAgICAgICAgKVxuICAgICAgfSk7XG4gICAgICBsZXQgaGFzSW5pdGlhbERhdGEgPSBpbml0aWFsU3RhdGUgJiYgaW5pdGlhbFN0YXRlLmxvYWRlckRhdGEgJiYgcm91dGUuaWQgaW4gaW5pdGlhbFN0YXRlLmxvYWRlckRhdGE7XG4gICAgICBsZXQgaW5pdGlhbERhdGEgPSBoYXNJbml0aWFsRGF0YSA/IGluaXRpYWxTdGF0ZT8ubG9hZGVyRGF0YT8uW3JvdXRlLmlkXSA6IHZvaWQgMDtcbiAgICAgIGxldCBoYXNJbml0aWFsRXJyb3IgPSBpbml0aWFsU3RhdGUgJiYgaW5pdGlhbFN0YXRlLmVycm9ycyAmJiByb3V0ZS5pZCBpbiBpbml0aWFsU3RhdGUuZXJyb3JzO1xuICAgICAgbGV0IGluaXRpYWxFcnJvciA9IGhhc0luaXRpYWxFcnJvciA/IGluaXRpYWxTdGF0ZT8uZXJyb3JzPy5bcm91dGUuaWRdIDogdm9pZCAwO1xuICAgICAgbGV0IGlzSHlkcmF0aW9uUmVxdWVzdCA9IG5lZWRzUmV2YWxpZGF0aW9uID09IG51bGwgJiYgKHJvdXRlTW9kdWxlLmNsaWVudExvYWRlcj8uaHlkcmF0ZSA9PT0gdHJ1ZSB8fCAhcm91dGUuaGFzTG9hZGVyKTtcbiAgICAgIGRhdGFSb3V0ZS5sb2FkZXIgPSBhc3luYyAoeyByZXF1ZXN0LCBwYXJhbXMsIGNvbnRleHQgfSwgc2luZ2xlRmV0Y2gpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcHJlZmV0Y2hTdHlsZXNBbmRDYWxsSGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBpbnZhcmlhbnQyKFxuICAgICAgICAgICAgICByb3V0ZU1vZHVsZSxcbiAgICAgICAgICAgICAgXCJObyBgcm91dGVNb2R1bGVgIGF2YWlsYWJsZSBmb3IgY3JpdGljYWwtcm91dGUgbG9hZGVyXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoIXJvdXRlTW9kdWxlLmNsaWVudExvYWRlcikge1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmNsaWVudExvYWRlcih7XG4gICAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgICAgYXN5bmMgc2VydmVyTG9hZGVyKCkge1xuICAgICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJsb2FkZXJcIiwgcm91dGUpO1xuICAgICAgICAgICAgICAgIGlmIChpc0h5ZHJhdGlvblJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChoYXNJbml0aWFsRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5pdGlhbERhdGE7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoaGFzSW5pdGlhbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGluaXRpYWxFcnJvcjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpc0h5ZHJhdGlvblJlcXVlc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGRhdGFSb3V0ZS5sb2FkZXIuaHlkcmF0ZSA9IHNob3VsZEh5ZHJhdGVSb3V0ZUxvYWRlcihcbiAgICAgICAgcm91dGUsXG4gICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICBpc1NwYU1vZGVcbiAgICAgICk7XG4gICAgICBkYXRhUm91dGUuYWN0aW9uID0gKHsgcmVxdWVzdCwgcGFyYW1zLCBjb250ZXh0IH0sIHNpbmdsZUZldGNoKSA9PiB7XG4gICAgICAgIHJldHVybiBwcmVmZXRjaFN0eWxlc0FuZENhbGxIYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgICBpbnZhcmlhbnQyKFxuICAgICAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgICAgICBcIk5vIGByb3V0ZU1vZHVsZWAgYXZhaWxhYmxlIGZvciBjcml0aWNhbC1yb3V0ZSBhY3Rpb25cIlxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKCFyb3V0ZU1vZHVsZS5jbGllbnRBY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChpc1NwYU1vZGUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbm9BY3Rpb25EZWZpbmVkRXJyb3IoXCJjbGllbnRBY3Rpb25cIiwgcm91dGUuaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmNsaWVudEFjdGlvbih7XG4gICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICAgIGFzeW5jIHNlcnZlckFjdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImFjdGlvblwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFyb3V0ZS5oYXNDbGllbnRMb2FkZXIpIHtcbiAgICAgICAgZGF0YVJvdXRlLmxvYWRlciA9IChfLCBzaW5nbGVGZXRjaCkgPT4gcHJlZmV0Y2hTdHlsZXNBbmRDYWxsSGFuZGxlcigoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSkge1xuICAgICAgICBkYXRhUm91dGUubG9hZGVyID0gYXN5bmMgKGFyZ3MsIHNpbmdsZUZldGNoKSA9PiB7XG4gICAgICAgICAgaW52YXJpYW50Mihyb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGUpO1xuICAgICAgICAgIGxldCB7IGNsaWVudExvYWRlciB9ID0gYXdhaXQgaW1wb3J0KFxuICAgICAgICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAgICAgICAvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovXG4gICAgICAgICAgICByb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBjbGllbnRMb2FkZXIoe1xuICAgICAgICAgICAgLi4uYXJncyxcbiAgICAgICAgICAgIGFzeW5jIHNlcnZlckxvYWRlcigpIHtcbiAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImxvYWRlclwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAoIXJvdXRlLmhhc0NsaWVudEFjdGlvbikge1xuICAgICAgICBkYXRhUm91dGUuYWN0aW9uID0gKF8sIHNpbmdsZUZldGNoKSA9PiBwcmVmZXRjaFN0eWxlc0FuZENhbGxIYW5kbGVyKCgpID0+IHtcbiAgICAgICAgICBpZiAoaXNTcGFNb2RlKSB7XG4gICAgICAgICAgICB0aHJvdyBub0FjdGlvbkRlZmluZWRFcnJvcihcImNsaWVudEFjdGlvblwiLCByb3V0ZS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpIHtcbiAgICAgICAgZGF0YVJvdXRlLmFjdGlvbiA9IGFzeW5jIChhcmdzLCBzaW5nbGVGZXRjaCkgPT4ge1xuICAgICAgICAgIGludmFyaWFudDIocm91dGUuY2xpZW50QWN0aW9uTW9kdWxlKTtcbiAgICAgICAgICBwcmVmZXRjaFJvdXRlTW9kdWxlQ2h1bmtzKHJvdXRlKTtcbiAgICAgICAgICBsZXQgeyBjbGllbnRBY3Rpb24gfSA9IGF3YWl0IGltcG9ydChcbiAgICAgICAgICAgIC8qIEB2aXRlLWlnbm9yZSAqL1xuICAgICAgICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgICAgICAgcm91dGUuY2xpZW50QWN0aW9uTW9kdWxlXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gY2xpZW50QWN0aW9uKHtcbiAgICAgICAgICAgIC4uLmFyZ3MsXG4gICAgICAgICAgICBhc3luYyBzZXJ2ZXJBY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHByZXZlbnRJbnZhbGlkU2VydmVySGFuZGxlckNhbGwoXCJhY3Rpb25cIiwgcm91dGUpO1xuICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZGF0YVJvdXRlLmxhenkgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmIChyb3V0ZS5jbGllbnRMb2FkZXJNb2R1bGUgfHwgcm91dGUuY2xpZW50QWN0aW9uTW9kdWxlKSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMCkpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtb2RQcm9taXNlID0gbG9hZFJvdXRlTW9kdWxlV2l0aEJsb2NraW5nTGlua3MoXG4gICAgICAgICAgcm91dGUsXG4gICAgICAgICAgcm91dGVNb2R1bGVzQ2FjaGVcbiAgICAgICAgKTtcbiAgICAgICAgcHJlZmV0Y2hSb3V0ZU1vZHVsZUNodW5rcyhyb3V0ZSk7XG4gICAgICAgIGxldCBtb2QgPSBhd2FpdCBtb2RQcm9taXNlO1xuICAgICAgICBsZXQgbGF6eVJvdXRlID0geyAuLi5tb2QgfTtcbiAgICAgICAgaWYgKG1vZC5jbGllbnRMb2FkZXIpIHtcbiAgICAgICAgICBsZXQgY2xpZW50TG9hZGVyID0gbW9kLmNsaWVudExvYWRlcjtcbiAgICAgICAgICBsYXp5Um91dGUubG9hZGVyID0gKGFyZ3MsIHNpbmdsZUZldGNoKSA9PiBjbGllbnRMb2FkZXIoe1xuICAgICAgICAgICAgLi4uYXJncyxcbiAgICAgICAgICAgIGFzeW5jIHNlcnZlckxvYWRlcigpIHtcbiAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImxvYWRlclwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vZC5jbGllbnRBY3Rpb24pIHtcbiAgICAgICAgICBsZXQgY2xpZW50QWN0aW9uID0gbW9kLmNsaWVudEFjdGlvbjtcbiAgICAgICAgICBsYXp5Um91dGUuYWN0aW9uID0gKGFyZ3MsIHNpbmdsZUZldGNoKSA9PiBjbGllbnRBY3Rpb24oe1xuICAgICAgICAgICAgLi4uYXJncyxcbiAgICAgICAgICAgIGFzeW5jIHNlcnZlckFjdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImFjdGlvblwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5sYXp5Um91dGUubG9hZGVyID8geyBsb2FkZXI6IGxhenlSb3V0ZS5sb2FkZXIgfSA6IHt9LFxuICAgICAgICAgIC4uLmxhenlSb3V0ZS5hY3Rpb24gPyB7IGFjdGlvbjogbGF6eVJvdXRlLmFjdGlvbiB9IDoge30sXG4gICAgICAgICAgdW5zdGFibGVfbWlkZGxld2FyZTogbW9kLnVuc3RhYmxlX2NsaWVudE1pZGRsZXdhcmUsXG4gICAgICAgICAgaGFzRXJyb3JCb3VuZGFyeTogbGF6eVJvdXRlLmhhc0Vycm9yQm91bmRhcnksXG4gICAgICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogZ2V0U2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uKFxuICAgICAgICAgICAgbGF6eVJvdXRlLFxuICAgICAgICAgICAgcm91dGUsXG4gICAgICAgICAgICBzc3IsXG4gICAgICAgICAgICBuZWVkc1JldmFsaWRhdGlvblxuICAgICAgICAgICksXG4gICAgICAgICAgaGFuZGxlOiBsYXp5Um91dGUuaGFuZGxlLFxuICAgICAgICAgIC8vIE5vIG5lZWQgdG8gd3JhcCB0aGVzZSBpbiBsYXlvdXQgc2luY2UgdGhlIHJvb3Qgcm91dGUgaXMgbmV2ZXJcbiAgICAgICAgICAvLyBsb2FkZWQgdmlhIHJvdXRlLmxhenkoKVxuICAgICAgICAgIENvbXBvbmVudDogbGF6eVJvdXRlLkNvbXBvbmVudCxcbiAgICAgICAgICBFcnJvckJvdW5kYXJ5OiBsYXp5Um91dGUuRXJyb3JCb3VuZGFyeVxuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IGNoaWxkcmVuID0gY3JlYXRlQ2xpZW50Um91dGVzKFxuICAgICAgbWFuaWZlc3QsXG4gICAgICByb3V0ZU1vZHVsZXNDYWNoZSxcbiAgICAgIGluaXRpYWxTdGF0ZSxcbiAgICAgIHNzcixcbiAgICAgIGlzU3BhTW9kZSxcbiAgICAgIHJvdXRlLmlkLFxuICAgICAgcm91dGVzQnlQYXJlbnRJZCxcbiAgICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICAgKTtcbiAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMCkgZGF0YVJvdXRlLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgcmV0dXJuIGRhdGFSb3V0ZTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb24ocm91dGUsIG1hbmlmZXN0Um91dGUsIHNzciwgbmVlZHNSZXZhbGlkYXRpb24pIHtcbiAgaWYgKG5lZWRzUmV2YWxpZGF0aW9uKSB7XG4gICAgcmV0dXJuIHdyYXBTaG91bGRSZXZhbGlkYXRlRm9ySGRyKFxuICAgICAgbWFuaWZlc3RSb3V0ZS5pZCxcbiAgICAgIHJvdXRlLnNob3VsZFJldmFsaWRhdGUsXG4gICAgICBuZWVkc1JldmFsaWRhdGlvblxuICAgICk7XG4gIH1cbiAgaWYgKCFzc3IgJiYgbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIgJiYgIW1hbmlmZXN0Um91dGUuaGFzQ2xpZW50TG9hZGVyKSB7XG4gICAgaWYgKHJvdXRlLnNob3VsZFJldmFsaWRhdGUpIHtcbiAgICAgIGxldCBmbiA9IHJvdXRlLnNob3VsZFJldmFsaWRhdGU7XG4gICAgICByZXR1cm4gKG9wdHMpID0+IGZuKHsgLi4ub3B0cywgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IGZhbHNlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gKCkgPT4gZmFsc2U7XG4gICAgfVxuICB9XG4gIGlmIChzc3IgJiYgcm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgIGxldCBmbiA9IHJvdXRlLnNob3VsZFJldmFsaWRhdGU7XG4gICAgcmV0dXJuIChvcHRzKSA9PiBmbih7IC4uLm9wdHMsIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiB0cnVlIH0pO1xuICB9XG4gIHJldHVybiByb3V0ZS5zaG91bGRSZXZhbGlkYXRlO1xufVxuZnVuY3Rpb24gd3JhcFNob3VsZFJldmFsaWRhdGVGb3JIZHIocm91dGVJZCwgcm91dGVTaG91bGRSZXZhbGlkYXRlLCBuZWVkc1JldmFsaWRhdGlvbikge1xuICBsZXQgaGFuZGxlZFJldmFsaWRhdGlvbiA9IGZhbHNlO1xuICByZXR1cm4gKGFyZykgPT4ge1xuICAgIGlmICghaGFuZGxlZFJldmFsaWRhdGlvbikge1xuICAgICAgaGFuZGxlZFJldmFsaWRhdGlvbiA9IHRydWU7XG4gICAgICByZXR1cm4gbmVlZHNSZXZhbGlkYXRpb24uaGFzKHJvdXRlSWQpO1xuICAgIH1cbiAgICByZXR1cm4gcm91dGVTaG91bGRSZXZhbGlkYXRlID8gcm91dGVTaG91bGRSZXZhbGlkYXRlKGFyZykgOiBhcmcuZGVmYXVsdFNob3VsZFJldmFsaWRhdGU7XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkUm91dGVNb2R1bGVXaXRoQmxvY2tpbmdMaW5rcyhyb3V0ZSwgcm91dGVNb2R1bGVzKSB7XG4gIGxldCByb3V0ZU1vZHVsZVByb21pc2UgPSBsb2FkUm91dGVNb2R1bGUocm91dGUsIHJvdXRlTW9kdWxlcyk7XG4gIGxldCBwcmVmZXRjaFJvdXRlQ3NzUHJvbWlzZSA9IHByZWZldGNoUm91dGVDc3Mocm91dGUpO1xuICBsZXQgcm91dGVNb2R1bGUgPSBhd2FpdCByb3V0ZU1vZHVsZVByb21pc2U7XG4gIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICBwcmVmZXRjaFJvdXRlQ3NzUHJvbWlzZSxcbiAgICBwcmVmZXRjaFN0eWxlTGlua3Mocm91dGUsIHJvdXRlTW9kdWxlKVxuICBdKTtcbiAgcmV0dXJuIHtcbiAgICBDb21wb25lbnQ6IGdldFJvdXRlTW9kdWxlQ29tcG9uZW50KHJvdXRlTW9kdWxlKSxcbiAgICBFcnJvckJvdW5kYXJ5OiByb3V0ZU1vZHVsZS5FcnJvckJvdW5kYXJ5LFxuICAgIHVuc3RhYmxlX2NsaWVudE1pZGRsZXdhcmU6IHJvdXRlTW9kdWxlLnVuc3RhYmxlX2NsaWVudE1pZGRsZXdhcmUsXG4gICAgY2xpZW50QWN0aW9uOiByb3V0ZU1vZHVsZS5jbGllbnRBY3Rpb24sXG4gICAgY2xpZW50TG9hZGVyOiByb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIsXG4gICAgaGFuZGxlOiByb3V0ZU1vZHVsZS5oYW5kbGUsXG4gICAgbGlua3M6IHJvdXRlTW9kdWxlLmxpbmtzLFxuICAgIG1ldGE6IHJvdXRlTW9kdWxlLm1ldGEsXG4gICAgc2hvdWxkUmV2YWxpZGF0ZTogcm91dGVNb2R1bGUuc2hvdWxkUmV2YWxpZGF0ZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0Um91dGVNb2R1bGVDb21wb25lbnQocm91dGVNb2R1bGUpIHtcbiAgaWYgKHJvdXRlTW9kdWxlLmRlZmF1bHQgPT0gbnVsbCkgcmV0dXJuIHZvaWQgMDtcbiAgbGV0IGlzRW1wdHlPYmplY3QgPSB0eXBlb2Ygcm91dGVNb2R1bGUuZGVmYXVsdCA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3Qua2V5cyhyb3V0ZU1vZHVsZS5kZWZhdWx0KS5sZW5ndGggPT09IDA7XG4gIGlmICghaXNFbXB0eU9iamVjdCkge1xuICAgIHJldHVybiByb3V0ZU1vZHVsZS5kZWZhdWx0O1xuICB9XG59XG5mdW5jdGlvbiBzaG91bGRIeWRyYXRlUm91dGVMb2FkZXIocm91dGUsIHJvdXRlTW9kdWxlLCBpc1NwYU1vZGUpIHtcbiAgcmV0dXJuIGlzU3BhTW9kZSAmJiByb3V0ZS5pZCAhPT0gXCJyb290XCIgfHwgcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyICE9IG51bGwgJiYgKHJvdXRlTW9kdWxlLmNsaWVudExvYWRlci5oeWRyYXRlID09PSB0cnVlIHx8IHJvdXRlLmhhc0xvYWRlciAhPT0gdHJ1ZSk7XG59XG5cbi8vIGxpYi9kb20vc3NyL2ZvZy1vZi13YXIudHNcbnZhciBuZXh0UGF0aHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xudmFyIGRpc2NvdmVyZWRQYXRoc01heFNpemUgPSAxZTM7XG52YXIgZGlzY292ZXJlZFBhdGhzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBVUkxfTElNSVQgPSA3NjgwO1xuZnVuY3Rpb24gaXNGb2dPZldhckVuYWJsZWQoc3NyKSB7XG4gIHJldHVybiBzc3IgPT09IHRydWU7XG59XG5mdW5jdGlvbiBnZXRQYXJ0aWFsTWFuaWZlc3QobWFuaWZlc3QsIHJvdXRlcikge1xuICBsZXQgcm91dGVJZHMgPSBuZXcgU2V0KHJvdXRlci5zdGF0ZS5tYXRjaGVzLm1hcCgobSkgPT4gbS5yb3V0ZS5pZCkpO1xuICBsZXQgc2VnbWVudHMgPSByb3V0ZXIuc3RhdGUubG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpLmZpbHRlcihCb29sZWFuKTtcbiAgbGV0IHBhdGhzID0gW1wiL1wiXTtcbiAgc2VnbWVudHMucG9wKCk7XG4gIHdoaWxlIChzZWdtZW50cy5sZW5ndGggPiAwKSB7XG4gICAgcGF0aHMucHVzaChgLyR7c2VnbWVudHMuam9pbihcIi9cIil9YCk7XG4gICAgc2VnbWVudHMucG9wKCk7XG4gIH1cbiAgcGF0aHMuZm9yRWFjaCgocGF0aCkgPT4ge1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMocm91dGVyLnJvdXRlcywgcGF0aCwgcm91dGVyLmJhc2VuYW1lKTtcbiAgICBpZiAobWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcy5mb3JFYWNoKChtKSA9PiByb3V0ZUlkcy5hZGQobS5yb3V0ZS5pZCkpO1xuICAgIH1cbiAgfSk7XG4gIGxldCBpbml0aWFsUm91dGVzID0gWy4uLnJvdXRlSWRzXS5yZWR1Y2UoXG4gICAgKGFjYywgaWQpID0+IE9iamVjdC5hc3NpZ24oYWNjLCB7IFtpZF06IG1hbmlmZXN0LnJvdXRlc1tpZF0gfSksXG4gICAge31cbiAgKTtcbiAgcmV0dXJuIHtcbiAgICAuLi5tYW5pZmVzdCxcbiAgICByb3V0ZXM6IGluaXRpYWxSb3V0ZXNcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldFBhdGNoUm91dGVzT25OYXZpZ2F0aW9uRnVuY3Rpb24obWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgc3NyLCBpc1NwYU1vZGUsIGJhc2VuYW1lKSB7XG4gIGlmICghaXNGb2dPZldhckVuYWJsZWQoc3NyKSkge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgcmV0dXJuIGFzeW5jICh7IHBhdGgsIHBhdGNoLCBzaWduYWwsIGZldGNoZXJLZXkgfSkgPT4ge1xuICAgIGlmIChkaXNjb3ZlcmVkUGF0aHMuaGFzKHBhdGgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IGZldGNoQW5kQXBwbHlNYW5pZmVzdFBhdGNoZXMoXG4gICAgICBbcGF0aF0sXG4gICAgICBmZXRjaGVyS2V5ID8gd2luZG93LmxvY2F0aW9uLmhyZWYgOiBwYXRoLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICByb3V0ZU1vZHVsZXMsXG4gICAgICBzc3IsXG4gICAgICBpc1NwYU1vZGUsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIHBhdGNoLFxuICAgICAgc2lnbmFsXG4gICAgKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHVzZUZvZ09GV2FyRGlzY292ZXJ5KHJvdXRlciwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgc3NyLCBpc1NwYU1vZGUpIHtcbiAgUmVhY3Q4LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0ZvZ09mV2FyRW5hYmxlZChzc3IpIHx8IG5hdmlnYXRvci5jb25uZWN0aW9uPy5zYXZlRGF0YSA9PT0gdHJ1ZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlckVsZW1lbnQoZWwpIHtcbiAgICAgIGxldCBwYXRoID0gZWwudGFnTmFtZSA9PT0gXCJGT1JNXCIgPyBlbC5nZXRBdHRyaWJ1dGUoXCJhY3Rpb25cIikgOiBlbC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBwYXRobmFtZSA9IGVsLnRhZ05hbWUgPT09IFwiQVwiID8gZWwucGF0aG5hbWUgOiBuZXcgVVJMKHBhdGgsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pLnBhdGhuYW1lO1xuICAgICAgaWYgKCFkaXNjb3ZlcmVkUGF0aHMuaGFzKHBhdGhuYW1lKSkge1xuICAgICAgICBuZXh0UGF0aHMuYWRkKHBhdGhuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hQYXRjaGVzKCkge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImFbZGF0YS1kaXNjb3Zlcl0sIGZvcm1bZGF0YS1kaXNjb3Zlcl1cIikuZm9yRWFjaChyZWdpc3RlckVsZW1lbnQpO1xuICAgICAgbGV0IGxhenlQYXRocyA9IEFycmF5LmZyb20obmV4dFBhdGhzLmtleXMoKSkuZmlsdGVyKChwYXRoKSA9PiB7XG4gICAgICAgIGlmIChkaXNjb3ZlcmVkUGF0aHMuaGFzKHBhdGgpKSB7XG4gICAgICAgICAgbmV4dFBhdGhzLmRlbGV0ZShwYXRoKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICAgIGlmIChsYXp5UGF0aHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGZldGNoQW5kQXBwbHlNYW5pZmVzdFBhdGNoZXMoXG4gICAgICAgICAgbGF6eVBhdGhzLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgICAgIHNzcixcbiAgICAgICAgICBpc1NwYU1vZGUsXG4gICAgICAgICAgcm91dGVyLmJhc2VuYW1lLFxuICAgICAgICAgIHJvdXRlci5wYXRjaFJvdXRlc1xuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIG1hbmlmZXN0IHBhdGNoZXNcIiwgZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBkZWJvdW5jZWRGZXRjaFBhdGNoZXMgPSBkZWJvdW5jZShmZXRjaFBhdGNoZXMsIDEwMCk7XG4gICAgZmV0Y2hQYXRjaGVzKCk7XG4gICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKCkgPT4gZGVib3VuY2VkRmV0Y2hQYXRjaGVzKCkpO1xuICAgIG9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB7XG4gICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgIGF0dHJpYnV0ZUZpbHRlcjogW1wiZGF0YS1kaXNjb3ZlclwiLCBcImhyZWZcIiwgXCJhY3Rpb25cIl1cbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICB9LCBbc3NyLCBpc1NwYU1vZGUsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHJvdXRlcl0pO1xufVxudmFyIE1BTklGRVNUX1ZFUlNJT05fU1RPUkFHRV9LRVkgPSBcInJlYWN0LXJvdXRlci1tYW5pZmVzdC12ZXJzaW9uXCI7XG5hc3luYyBmdW5jdGlvbiBmZXRjaEFuZEFwcGx5TWFuaWZlc3RQYXRjaGVzKHBhdGhzLCBlcnJvclJlbG9hZFBhdGgsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIHNzciwgaXNTcGFNb2RlLCBiYXNlbmFtZSwgcGF0Y2hSb3V0ZXMsIHNpZ25hbCkge1xuICBsZXQgbWFuaWZlc3RQYXRoID0gYCR7YmFzZW5hbWUgIT0gbnVsbCA/IGJhc2VuYW1lIDogXCIvXCJ9L19fbWFuaWZlc3RgLnJlcGxhY2UoXG4gICAgL1xcLysvZyxcbiAgICBcIi9cIlxuICApO1xuICBsZXQgdXJsID0gbmV3IFVSTChtYW5pZmVzdFBhdGgsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4pO1xuICBwYXRocy5zb3J0KCkuZm9yRWFjaCgocGF0aCkgPT4gdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJwXCIsIHBhdGgpKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJ2ZXJzaW9uXCIsIG1hbmlmZXN0LnZlcnNpb24pO1xuICBpZiAodXJsLnRvU3RyaW5nKCkubGVuZ3RoID4gVVJMX0xJTUlUKSB7XG4gICAgbmV4dFBhdGhzLmNsZWFyKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzZXJ2ZXJQYXRjaGVzO1xuICB0cnkge1xuICAgIGxldCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHsgc2lnbmFsIH0pO1xuICAgIGlmICghcmVzLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVzLnN0YXR1c30gJHtyZXMuc3RhdHVzVGV4dH1gKTtcbiAgICB9IGVsc2UgaWYgKHJlcy5zdGF0dXMgPT09IDIwNCAmJiByZXMuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiKSkge1xuICAgICAgaWYgKCFlcnJvclJlbG9hZFBhdGgpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiRGV0ZWN0ZWQgYSBtYW5pZmVzdCB2ZXJzaW9uIG1pc21hdGNoIGR1cmluZyBlYWdlciByb3V0ZSBkaXNjb3ZlcnkuIFRoZSBuZXh0IG5hdmlnYXRpb24vZmV0Y2ggdG8gYW4gdW5kaXNjb3ZlcmVkIHJvdXRlIHdpbGwgcmVzdWx0IGluIGEgbmV3IGRvY3VtZW50IG5hdmlnYXRpb24gdG8gc3luYyB1cCB3aXRoIHRoZSBsYXRlc3QgbWFuaWZlc3QuXCJcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oTUFOSUZFU1RfVkVSU0lPTl9TVE9SQUdFX0tFWSkgPT09IG1hbmlmZXN0LnZlcnNpb24pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlVuYWJsZSB0byBkaXNjb3ZlciByb3V0ZXMgZHVlIHRvIG1hbmlmZXN0IHZlcnNpb24gbWlzbWF0Y2guXCJcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShNQU5JRkVTVF9WRVJTSU9OX1NUT1JBR0VfS0VZLCBtYW5pZmVzdC52ZXJzaW9uKTtcbiAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZXJyb3JSZWxvYWRQYXRoO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGV0ZWN0ZWQgbWFuaWZlc3QgdmVyc2lvbiBtaXNtYXRjaCwgcmVsb2FkaW5nLi4uXCIpO1xuICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA+PSA0MDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihhd2FpdCByZXMudGV4dCgpKTtcbiAgICB9XG4gICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShNQU5JRkVTVF9WRVJTSU9OX1NUT1JBR0VfS0VZKTtcbiAgICBzZXJ2ZXJQYXRjaGVzID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChzaWduYWw/LmFib3J0ZWQpIHJldHVybjtcbiAgICB0aHJvdyBlO1xuICB9XG4gIGxldCBrbm93blJvdXRlcyA9IG5ldyBTZXQoT2JqZWN0LmtleXMobWFuaWZlc3Qucm91dGVzKSk7XG4gIGxldCBwYXRjaGVzID0gT2JqZWN0LnZhbHVlcyhzZXJ2ZXJQYXRjaGVzKS5yZWR1Y2UoKGFjYywgcm91dGUpID0+IHtcbiAgICBpZiAocm91dGUgJiYgIWtub3duUm91dGVzLmhhcyhyb3V0ZS5pZCkpIHtcbiAgICAgIGFjY1tyb3V0ZS5pZF0gPSByb3V0ZTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwge30pO1xuICBPYmplY3QuYXNzaWduKG1hbmlmZXN0LnJvdXRlcywgcGF0Y2hlcyk7XG4gIHBhdGhzLmZvckVhY2goKHApID0+IGFkZFRvRmlmb1F1ZXVlKHAsIGRpc2NvdmVyZWRQYXRocykpO1xuICBsZXQgcGFyZW50SWRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgT2JqZWN0LnZhbHVlcyhwYXRjaGVzKS5mb3JFYWNoKChwYXRjaCkgPT4ge1xuICAgIGlmIChwYXRjaCAmJiAoIXBhdGNoLnBhcmVudElkIHx8ICFwYXRjaGVzW3BhdGNoLnBhcmVudElkXSkpIHtcbiAgICAgIHBhcmVudElkcy5hZGQocGF0Y2gucGFyZW50SWQpO1xuICAgIH1cbiAgfSk7XG4gIHBhcmVudElkcy5mb3JFYWNoKFxuICAgIChwYXJlbnRJZCkgPT4gcGF0Y2hSb3V0ZXMoXG4gICAgICBwYXJlbnRJZCB8fCBudWxsLFxuICAgICAgY3JlYXRlQ2xpZW50Um91dGVzKHBhdGNoZXMsIHJvdXRlTW9kdWxlcywgbnVsbCwgc3NyLCBpc1NwYU1vZGUsIHBhcmVudElkKVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGFkZFRvRmlmb1F1ZXVlKHBhdGgsIHF1ZXVlKSB7XG4gIGlmIChxdWV1ZS5zaXplID49IGRpc2NvdmVyZWRQYXRoc01heFNpemUpIHtcbiAgICBsZXQgZmlyc3QgPSBxdWV1ZS52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG4gICAgcXVldWUuZGVsZXRlKGZpcnN0KTtcbiAgfVxuICBxdWV1ZS5hZGQocGF0aCk7XG59XG5mdW5jdGlvbiBkZWJvdW5jZShjYWxsYmFjaywgd2FpdCkge1xuICBsZXQgdGltZW91dElkO1xuICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgdGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2soLi4uYXJncyksIHdhaXQpO1xuICB9O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9jb21wb25lbnRzLnRzeFxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlckNvbnRleHQyKCkge1xuICBsZXQgY29udGV4dCA9IFJlYWN0OS51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgaW52YXJpYW50MihcbiAgICBjb250ZXh0LFxuICAgIFwiWW91IG11c3QgcmVuZGVyIHRoaXMgZWxlbWVudCBpbnNpZGUgYSA8RGF0YVJvdXRlckNvbnRleHQuUHJvdmlkZXI+IGVsZW1lbnRcIlxuICApO1xuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKSB7XG4gIGxldCBjb250ZXh0ID0gUmVhY3Q5LnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gIGludmFyaWFudDIoXG4gICAgY29udGV4dCxcbiAgICBcIllvdSBtdXN0IHJlbmRlciB0aGlzIGVsZW1lbnQgaW5zaWRlIGEgPERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQuUHJvdmlkZXI+IGVsZW1lbnRcIlxuICApO1xuICByZXR1cm4gY29udGV4dDtcbn1cbnZhciBGcmFtZXdvcmtDb250ZXh0ID0gUmVhY3Q5LmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcbkZyYW1ld29ya0NvbnRleHQuZGlzcGxheU5hbWUgPSBcIkZyYW1ld29ya0NvbnRleHRcIjtcbmZ1bmN0aW9uIHVzZUZyYW1ld29ya0NvbnRleHQoKSB7XG4gIGxldCBjb250ZXh0ID0gUmVhY3Q5LnVzZUNvbnRleHQoRnJhbWV3b3JrQ29udGV4dCk7XG4gIGludmFyaWFudDIoXG4gICAgY29udGV4dCxcbiAgICBcIllvdSBtdXN0IHJlbmRlciB0aGlzIGVsZW1lbnQgaW5zaWRlIGEgPEh5ZHJhdGVkUm91dGVyPiBlbGVtZW50XCJcbiAgKTtcbiAgcmV0dXJuIGNvbnRleHQ7XG59XG5mdW5jdGlvbiB1c2VQcmVmZXRjaEJlaGF2aW9yKHByZWZldGNoLCB0aGVpckVsZW1lbnRQcm9wcykge1xuICBsZXQgZnJhbWV3b3JrQ29udGV4dCA9IFJlYWN0OS51c2VDb250ZXh0KEZyYW1ld29ya0NvbnRleHQpO1xuICBsZXQgW21heWJlUHJlZmV0Y2gsIHNldE1heWJlUHJlZmV0Y2hdID0gUmVhY3Q5LnVzZVN0YXRlKGZhbHNlKTtcbiAgbGV0IFtzaG91bGRQcmVmZXRjaCwgc2V0U2hvdWxkUHJlZmV0Y2hdID0gUmVhY3Q5LnVzZVN0YXRlKGZhbHNlKTtcbiAgbGV0IHsgb25Gb2N1cywgb25CbHVyLCBvbk1vdXNlRW50ZXIsIG9uTW91c2VMZWF2ZSwgb25Ub3VjaFN0YXJ0IH0gPSB0aGVpckVsZW1lbnRQcm9wcztcbiAgbGV0IHJlZiA9IFJlYWN0OS51c2VSZWYobnVsbCk7XG4gIFJlYWN0OS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcmVmZXRjaCA9PT0gXCJyZW5kZXJcIikge1xuICAgICAgc2V0U2hvdWxkUHJlZmV0Y2godHJ1ZSk7XG4gICAgfVxuICAgIGlmIChwcmVmZXRjaCA9PT0gXCJ2aWV3cG9ydFwiKSB7XG4gICAgICBsZXQgY2FsbGJhY2sgPSAoZW50cmllcykgPT4ge1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgc2V0U2hvdWxkUHJlZmV0Y2goZW50cnkuaXNJbnRlcnNlY3RpbmcpO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoY2FsbGJhY2ssIHsgdGhyZXNob2xkOiAwLjUgfSk7XG4gICAgICBpZiAocmVmLmN1cnJlbnQpIG9ic2VydmVyLm9ic2VydmUocmVmLmN1cnJlbnQpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgfTtcbiAgICB9XG4gIH0sIFtwcmVmZXRjaF0pO1xuICBSZWFjdDkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobWF5YmVQcmVmZXRjaCkge1xuICAgICAgbGV0IGlkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHNldFNob3VsZFByZWZldGNoKHRydWUpO1xuICAgICAgfSwgMTAwKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW21heWJlUHJlZmV0Y2hdKTtcbiAgbGV0IHNldEludGVudCA9ICgpID0+IHtcbiAgICBzZXRNYXliZVByZWZldGNoKHRydWUpO1xuICB9O1xuICBsZXQgY2FuY2VsSW50ZW50ID0gKCkgPT4ge1xuICAgIHNldE1heWJlUHJlZmV0Y2goZmFsc2UpO1xuICAgIHNldFNob3VsZFByZWZldGNoKGZhbHNlKTtcbiAgfTtcbiAgaWYgKCFmcmFtZXdvcmtDb250ZXh0KSB7XG4gICAgcmV0dXJuIFtmYWxzZSwgcmVmLCB7fV07XG4gIH1cbiAgaWYgKHByZWZldGNoICE9PSBcImludGVudFwiKSB7XG4gICAgcmV0dXJuIFtzaG91bGRQcmVmZXRjaCwgcmVmLCB7fV07XG4gIH1cbiAgcmV0dXJuIFtcbiAgICBzaG91bGRQcmVmZXRjaCxcbiAgICByZWYsXG4gICAge1xuICAgICAgb25Gb2N1czogY29tcG9zZUV2ZW50SGFuZGxlcnMob25Gb2N1cywgc2V0SW50ZW50KSxcbiAgICAgIG9uQmx1cjogY29tcG9zZUV2ZW50SGFuZGxlcnMob25CbHVyLCBjYW5jZWxJbnRlbnQpLFxuICAgICAgb25Nb3VzZUVudGVyOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbk1vdXNlRW50ZXIsIHNldEludGVudCksXG4gICAgICBvbk1vdXNlTGVhdmU6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uTW91c2VMZWF2ZSwgY2FuY2VsSW50ZW50KSxcbiAgICAgIG9uVG91Y2hTdGFydDogY29tcG9zZUV2ZW50SGFuZGxlcnMob25Ub3VjaFN0YXJ0LCBzZXRJbnRlbnQpXG4gICAgfVxuICBdO1xufVxuZnVuY3Rpb24gY29tcG9zZUV2ZW50SGFuZGxlcnModGhlaXJIYW5kbGVyLCBvdXJIYW5kbGVyKSB7XG4gIHJldHVybiAoZXZlbnQpID0+IHtcbiAgICB0aGVpckhhbmRsZXIgJiYgdGhlaXJIYW5kbGVyKGV2ZW50KTtcbiAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgIG91ckhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEFjdGl2ZU1hdGNoZXMobWF0Y2hlcywgZXJyb3JzLCBpc1NwYU1vZGUpIHtcbiAgaWYgKGlzU3BhTW9kZSAmJiAhaXNIeWRyYXRlZCkge1xuICAgIHJldHVybiBbbWF0Y2hlc1swXV07XG4gIH1cbiAgaWYgKGVycm9ycykge1xuICAgIGxldCBlcnJvcklkeCA9IG1hdGNoZXMuZmluZEluZGV4KChtKSA9PiBlcnJvcnNbbS5yb3V0ZS5pZF0gIT09IHZvaWQgMCk7XG4gICAgcmV0dXJuIG1hdGNoZXMuc2xpY2UoMCwgZXJyb3JJZHggKyAxKTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcztcbn1cbmZ1bmN0aW9uIExpbmtzKCkge1xuICBsZXQgeyBpc1NwYU1vZGUsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIGNyaXRpY2FsQ3NzIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGxldCB7IGVycm9ycywgbWF0Y2hlczogcm91dGVyTWF0Y2hlcyB9ID0gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpO1xuICBsZXQgbWF0Y2hlcyA9IGdldEFjdGl2ZU1hdGNoZXMocm91dGVyTWF0Y2hlcywgZXJyb3JzLCBpc1NwYU1vZGUpO1xuICBsZXQga2V5ZWRMaW5rcyA9IFJlYWN0OS51c2VNZW1vKFxuICAgICgpID0+IGdldEtleWVkTGlua3NGb3JNYXRjaGVzKG1hdGNoZXMsIHJvdXRlTW9kdWxlcywgbWFuaWZlc3QpLFxuICAgIFttYXRjaGVzLCByb3V0ZU1vZHVsZXMsIG1hbmlmZXN0XVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFJlYWN0OS5GcmFnbWVudCwgbnVsbCwgdHlwZW9mIGNyaXRpY2FsQ3NzID09PSBcInN0cmluZ1wiID8gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiwgeyBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGNyaXRpY2FsQ3NzIH0gfSkgOiBudWxsLCB0eXBlb2YgY3JpdGljYWxDc3MgPT09IFwib2JqZWN0XCIgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHsgcmVsOiBcInN0eWxlc2hlZXRcIiwgaHJlZjogY3JpdGljYWxDc3MuaHJlZiB9KSA6IG51bGwsIGtleWVkTGlua3MubWFwKFxuICAgICh7IGtleSwgbGluayB9KSA9PiBpc1BhZ2VMaW5rRGVzY3JpcHRvcihsaW5rKSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChQcmVmZXRjaFBhZ2VMaW5rcywgeyBrZXksIC4uLmxpbmsgfSkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHsga2V5LCAuLi5saW5rIH0pXG4gICkpO1xufVxuZnVuY3Rpb24gUHJlZmV0Y2hQYWdlTGlua3Moe1xuICBwYWdlLFxuICAuLi5kYXRhTGlua1Byb3BzXG59KSB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQyKCk7XG4gIGxldCBtYXRjaGVzID0gUmVhY3Q5LnVzZU1lbW8oXG4gICAgKCkgPT4gbWF0Y2hSb3V0ZXMocm91dGVyLnJvdXRlcywgcGFnZSwgcm91dGVyLmJhc2VuYW1lKSxcbiAgICBbcm91dGVyLnJvdXRlcywgcGFnZSwgcm91dGVyLmJhc2VuYW1lXVxuICApO1xuICBpZiAoIW1hdGNoZXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFByZWZldGNoUGFnZUxpbmtzSW1wbCwgeyBwYWdlLCBtYXRjaGVzLCAuLi5kYXRhTGlua1Byb3BzIH0pO1xufVxuZnVuY3Rpb24gdXNlS2V5ZWRQcmVmZXRjaExpbmtzKG1hdGNoZXMpIHtcbiAgbGV0IHsgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQgW2tleWVkUHJlZmV0Y2hMaW5rcywgc2V0S2V5ZWRQcmVmZXRjaExpbmtzXSA9IFJlYWN0OS51c2VTdGF0ZShbXSk7XG4gIFJlYWN0OS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpbnRlcnJ1cHRlZCA9IGZhbHNlO1xuICAgIHZvaWQgZ2V0S2V5ZWRQcmVmZXRjaExpbmtzKG1hdGNoZXMsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMpLnRoZW4oXG4gICAgICAobGlua3MpID0+IHtcbiAgICAgICAgaWYgKCFpbnRlcnJ1cHRlZCkge1xuICAgICAgICAgIHNldEtleWVkUHJlZmV0Y2hMaW5rcyhsaW5rcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpbnRlcnJ1cHRlZCA9IHRydWU7XG4gICAgfTtcbiAgfSwgW21hdGNoZXMsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXNdKTtcbiAgcmV0dXJuIGtleWVkUHJlZmV0Y2hMaW5rcztcbn1cbmZ1bmN0aW9uIFByZWZldGNoUGFnZUxpbmtzSW1wbCh7XG4gIHBhZ2UsXG4gIG1hdGNoZXM6IG5leHRNYXRjaGVzLFxuICAuLi5saW5rUHJvcHNcbn0pIHtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IHsgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQyKCk7XG4gIGxldCB7IGxvYWRlckRhdGEsIG1hdGNoZXMgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IG5ld01hdGNoZXNGb3JEYXRhID0gUmVhY3Q5LnVzZU1lbW8oXG4gICAgKCkgPT4gZ2V0TmV3TWF0Y2hlc0ZvckxpbmtzKFxuICAgICAgcGFnZSxcbiAgICAgIG5leHRNYXRjaGVzLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBcImRhdGFcIlxuICAgICksXG4gICAgW3BhZ2UsIG5leHRNYXRjaGVzLCBtYXRjaGVzLCBtYW5pZmVzdCwgbG9jYXRpb25dXG4gICk7XG4gIGxldCBuZXdNYXRjaGVzRm9yQXNzZXRzID0gUmVhY3Q5LnVzZU1lbW8oXG4gICAgKCkgPT4gZ2V0TmV3TWF0Y2hlc0ZvckxpbmtzKFxuICAgICAgcGFnZSxcbiAgICAgIG5leHRNYXRjaGVzLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG1hbmlmZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBcImFzc2V0c1wiXG4gICAgKSxcbiAgICBbcGFnZSwgbmV4dE1hdGNoZXMsIG1hdGNoZXMsIG1hbmlmZXN0LCBsb2NhdGlvbl1cbiAgKTtcbiAgbGV0IGRhdGFIcmVmcyA9IFJlYWN0OS51c2VNZW1vKCgpID0+IHtcbiAgICBpZiAocGFnZSA9PT0gbG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2ggKyBsb2NhdGlvbi5oYXNoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCByb3V0ZXNQYXJhbXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIGxldCBmb3VuZE9wdE91dFJvdXRlID0gZmFsc2U7XG4gICAgbmV4dE1hdGNoZXMuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgbGV0IG1hbmlmZXN0Um91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbS5yb3V0ZS5pZF07XG4gICAgICBpZiAoIW1hbmlmZXN0Um91dGUgfHwgIW1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghbmV3TWF0Y2hlc0ZvckRhdGEuc29tZSgobTIpID0+IG0yLnJvdXRlLmlkID09PSBtLnJvdXRlLmlkKSAmJiBtLnJvdXRlLmlkIGluIGxvYWRlckRhdGEgJiYgcm91dGVNb2R1bGVzW20ucm91dGUuaWRdPy5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgICAgIGZvdW5kT3B0T3V0Um91dGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChtYW5pZmVzdFJvdXRlLmhhc0NsaWVudExvYWRlcikge1xuICAgICAgICBmb3VuZE9wdE91dFJvdXRlID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJvdXRlc1BhcmFtcy5hZGQobS5yb3V0ZS5pZCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHJvdXRlc1BhcmFtcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCB1cmwgPSBzaW5nbGVGZXRjaFVybChwYWdlLCBiYXNlbmFtZSk7XG4gICAgaWYgKGZvdW5kT3B0T3V0Um91dGUgJiYgcm91dGVzUGFyYW1zLnNpemUgPiAwKSB7XG4gICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcbiAgICAgICAgXCJfcm91dGVzXCIsXG4gICAgICAgIG5leHRNYXRjaGVzLmZpbHRlcigobSkgPT4gcm91dGVzUGFyYW1zLmhhcyhtLnJvdXRlLmlkKSkubWFwKChtKSA9PiBtLnJvdXRlLmlkKS5qb2luKFwiLFwiKVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIFt1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoXTtcbiAgfSwgW1xuICAgIGJhc2VuYW1lLFxuICAgIGxvYWRlckRhdGEsXG4gICAgbG9jYXRpb24sXG4gICAgbWFuaWZlc3QsXG4gICAgbmV3TWF0Y2hlc0ZvckRhdGEsXG4gICAgbmV4dE1hdGNoZXMsXG4gICAgcGFnZSxcbiAgICByb3V0ZU1vZHVsZXNcbiAgXSk7XG4gIGxldCBtb2R1bGVIcmVmcyA9IFJlYWN0OS51c2VNZW1vKFxuICAgICgpID0+IGdldE1vZHVsZUxpbmtIcmVmcyhuZXdNYXRjaGVzRm9yQXNzZXRzLCBtYW5pZmVzdCksXG4gICAgW25ld01hdGNoZXNGb3JBc3NldHMsIG1hbmlmZXN0XVxuICApO1xuICBsZXQga2V5ZWRQcmVmZXRjaExpbmtzID0gdXNlS2V5ZWRQcmVmZXRjaExpbmtzKG5ld01hdGNoZXNGb3JBc3NldHMpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFJlYWN0OS5GcmFnbWVudCwgbnVsbCwgZGF0YUhyZWZzLm1hcCgoaHJlZjIpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyBrZXk6IGhyZWYyLCByZWw6IFwicHJlZmV0Y2hcIiwgYXM6IFwiZmV0Y2hcIiwgaHJlZjogaHJlZjIsIC4uLmxpbmtQcm9wcyB9KSksIG1vZHVsZUhyZWZzLm1hcCgoaHJlZjIpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyBrZXk6IGhyZWYyLCByZWw6IFwibW9kdWxlcHJlbG9hZFwiLCBocmVmOiBocmVmMiwgLi4ubGlua1Byb3BzIH0pKSwga2V5ZWRQcmVmZXRjaExpbmtzLm1hcCgoeyBrZXksIGxpbmsgfSkgPT4gKFxuICAgIC8vIHRoZXNlIGRvbid0IHNwcmVhZCBgbGlua1Byb3BzYCBiZWNhdXNlIHRoZXkgYXJlIGZ1bGwgbGluayBkZXNjcmlwdG9yc1xuICAgIC8vIGFscmVhZHkgd2l0aCB0aGVpciBvd24gcHJvcHNcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHsga2V5LCAuLi5saW5rIH0pXG4gICkpKTtcbn1cbmZ1bmN0aW9uIE1ldGEoKSB7XG4gIGxldCB7IGlzU3BhTW9kZSwgcm91dGVNb2R1bGVzIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGxldCB7XG4gICAgZXJyb3JzLFxuICAgIG1hdGNoZXM6IHJvdXRlck1hdGNoZXMsXG4gICAgbG9hZGVyRGF0YVxuICB9ID0gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpO1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgX21hdGNoZXMgPSBnZXRBY3RpdmVNYXRjaGVzKHJvdXRlck1hdGNoZXMsIGVycm9ycywgaXNTcGFNb2RlKTtcbiAgbGV0IGVycm9yID0gbnVsbDtcbiAgaWYgKGVycm9ycykge1xuICAgIGVycm9yID0gZXJyb3JzW19tYXRjaGVzW19tYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmlkXTtcbiAgfVxuICBsZXQgbWV0YSA9IFtdO1xuICBsZXQgbGVhZk1ldGEgPSBudWxsO1xuICBsZXQgbWF0Y2hlcyA9IFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IF9tYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IF9tYXRjaCA9IF9tYXRjaGVzW2ldO1xuICAgIGxldCByb3V0ZUlkID0gX21hdGNoLnJvdXRlLmlkO1xuICAgIGxldCBkYXRhMiA9IGxvYWRlckRhdGFbcm91dGVJZF07XG4gICAgbGV0IHBhcmFtcyA9IF9tYXRjaC5wYXJhbXM7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gcm91dGVNb2R1bGVzW3JvdXRlSWRdO1xuICAgIGxldCByb3V0ZU1ldGEgPSBbXTtcbiAgICBsZXQgbWF0Y2ggPSB7XG4gICAgICBpZDogcm91dGVJZCxcbiAgICAgIGRhdGE6IGRhdGEyLFxuICAgICAgbWV0YTogW10sXG4gICAgICBwYXJhbXM6IF9tYXRjaC5wYXJhbXMsXG4gICAgICBwYXRobmFtZTogX21hdGNoLnBhdGhuYW1lLFxuICAgICAgaGFuZGxlOiBfbWF0Y2gucm91dGUuaGFuZGxlLFxuICAgICAgZXJyb3JcbiAgICB9O1xuICAgIG1hdGNoZXNbaV0gPSBtYXRjaDtcbiAgICBpZiAocm91dGVNb2R1bGU/Lm1ldGEpIHtcbiAgICAgIHJvdXRlTWV0YSA9IHR5cGVvZiByb3V0ZU1vZHVsZS5tZXRhID09PSBcImZ1bmN0aW9uXCIgPyByb3V0ZU1vZHVsZS5tZXRhKHtcbiAgICAgICAgZGF0YTogZGF0YTIsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGVycm9yXG4gICAgICB9KSA6IEFycmF5LmlzQXJyYXkocm91dGVNb2R1bGUubWV0YSkgPyBbLi4ucm91dGVNb2R1bGUubWV0YV0gOiByb3V0ZU1vZHVsZS5tZXRhO1xuICAgIH0gZWxzZSBpZiAobGVhZk1ldGEpIHtcbiAgICAgIHJvdXRlTWV0YSA9IFsuLi5sZWFmTWV0YV07XG4gICAgfVxuICAgIHJvdXRlTWV0YSA9IHJvdXRlTWV0YSB8fCBbXTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkocm91dGVNZXRhKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRoZSByb3V0ZSBhdCBcIiArIF9tYXRjaC5yb3V0ZS5wYXRoICsgXCIgcmV0dXJucyBhbiBpbnZhbGlkIHZhbHVlLiBBbGwgcm91dGUgbWV0YSBmdW5jdGlvbnMgbXVzdCByZXR1cm4gYW4gYXJyYXkgb2YgbWV0YSBvYmplY3RzLlxcblxcblRvIHJlZmVyZW5jZSB0aGUgbWV0YSBmdW5jdGlvbiBBUEksIHNlZSBodHRwczovL3JlbWl4LnJ1bi9yb3V0ZS9tZXRhXCJcbiAgICAgICk7XG4gICAgfVxuICAgIG1hdGNoLm1ldGEgPSByb3V0ZU1ldGE7XG4gICAgbWF0Y2hlc1tpXSA9IG1hdGNoO1xuICAgIG1ldGEgPSBbLi4ucm91dGVNZXRhXTtcbiAgICBsZWFmTWV0YSA9IG1ldGE7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChSZWFjdDkuRnJhZ21lbnQsIG51bGwsIG1ldGEuZmxhdCgpLm1hcCgobWV0YVByb3BzKSA9PiB7XG4gICAgaWYgKCFtZXRhUHJvcHMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoXCJ0YWdOYW1lXCIgaW4gbWV0YVByb3BzKSB7XG4gICAgICBsZXQgeyB0YWdOYW1lLCAuLi5yZXN0IH0gPSBtZXRhUHJvcHM7XG4gICAgICBpZiAoIWlzVmFsaWRNZXRhVGFnKHRhZ05hbWUpKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBgQSBtZXRhIG9iamVjdCB1c2VzIGFuIGludmFsaWQgdGFnTmFtZTogJHt0YWdOYW1lfS4gRXhwZWN0ZWQgZWl0aGVyICdsaW5rJyBvciAnbWV0YSdgXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgbGV0IENvbXAgPSB0YWdOYW1lO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChDb21wLCB7IGtleTogSlNPTi5zdHJpbmdpZnkocmVzdCksIC4uLnJlc3QgfSk7XG4gICAgfVxuICAgIGlmIChcInRpdGxlXCIgaW4gbWV0YVByb3BzKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwidGl0bGVcIiwgeyBrZXk6IFwidGl0bGVcIiB9LCBTdHJpbmcobWV0YVByb3BzLnRpdGxlKSk7XG4gICAgfVxuICAgIGlmIChcImNoYXJzZXRcIiBpbiBtZXRhUHJvcHMpIHtcbiAgICAgIG1ldGFQcm9wcy5jaGFyU2V0ID8/IChtZXRhUHJvcHMuY2hhclNldCA9IG1ldGFQcm9wcy5jaGFyc2V0KTtcbiAgICAgIGRlbGV0ZSBtZXRhUHJvcHMuY2hhcnNldDtcbiAgICB9XG4gICAgaWYgKFwiY2hhclNldFwiIGluIG1ldGFQcm9wcyAmJiBtZXRhUHJvcHMuY2hhclNldCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG1ldGFQcm9wcy5jaGFyU2V0ID09PSBcInN0cmluZ1wiID8gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibWV0YVwiLCB7IGtleTogXCJjaGFyU2V0XCIsIGNoYXJTZXQ6IG1ldGFQcm9wcy5jaGFyU2V0IH0pIDogbnVsbDtcbiAgICB9XG4gICAgaWYgKFwic2NyaXB0OmxkK2pzb25cIiBpbiBtZXRhUHJvcHMpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCBqc29uID0gSlNPTi5zdHJpbmdpZnkobWV0YVByb3BzW1wic2NyaXB0OmxkK2pzb25cIl0pO1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIFwic2NyaXB0XCIsXG4gICAgICAgICAge1xuICAgICAgICAgICAga2V5OiBgc2NyaXB0OmxkK2pzb246JHtqc29ufWAsXG4gICAgICAgICAgICB0eXBlOiBcImFwcGxpY2F0aW9uL2xkK2pzb25cIixcbiAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDoganNvbiB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibWV0YVwiLCB7IGtleTogSlNPTi5zdHJpbmdpZnkobWV0YVByb3BzKSwgLi4ubWV0YVByb3BzIH0pO1xuICB9KSk7XG59XG5mdW5jdGlvbiBpc1ZhbGlkTWV0YVRhZyh0YWdOYW1lKSB7XG4gIHJldHVybiB0eXBlb2YgdGFnTmFtZSA9PT0gXCJzdHJpbmdcIiAmJiAvXihtZXRhfGxpbmspJC8udGVzdCh0YWdOYW1lKTtcbn1cbnZhciBpc0h5ZHJhdGVkID0gZmFsc2U7XG5mdW5jdGlvbiBTY3JpcHRzKHByb3BzKSB7XG4gIGxldCB7IG1hbmlmZXN0LCBzZXJ2ZXJIYW5kb2ZmU3RyaW5nLCBpc1NwYU1vZGUsIHNzciwgcmVuZGVyTWV0YSB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBsZXQgeyByb3V0ZXIsIHN0YXRpYzogaXNTdGF0aWMsIHN0YXRpY0NvbnRleHQgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MigpO1xuICBsZXQgeyBtYXRjaGVzOiByb3V0ZXJNYXRjaGVzIH0gPSB1c2VEYXRhUm91dGVyU3RhdGVDb250ZXh0KCk7XG4gIGxldCBlbmFibGVGb2dPZldhciA9IGlzRm9nT2ZXYXJFbmFibGVkKHNzcik7XG4gIGlmIChyZW5kZXJNZXRhKSB7XG4gICAgcmVuZGVyTWV0YS5kaWRSZW5kZXJTY3JpcHRzID0gdHJ1ZTtcbiAgfVxuICBsZXQgbWF0Y2hlcyA9IGdldEFjdGl2ZU1hdGNoZXMocm91dGVyTWF0Y2hlcywgbnVsbCwgaXNTcGFNb2RlKTtcbiAgUmVhY3Q5LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaXNIeWRyYXRlZCA9IHRydWU7XG4gIH0sIFtdKTtcbiAgbGV0IGluaXRpYWxTY3JpcHRzID0gUmVhY3Q5LnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBzdHJlYW1TY3JpcHQgPSBcIndpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5zdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe3N0YXJ0KGNvbnRyb2xsZXIpe3dpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5zdHJlYW1Db250cm9sbGVyID0gY29udHJvbGxlcjt9fSkucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpO1wiO1xuICAgIGxldCBjb250ZXh0U2NyaXB0ID0gc3RhdGljQ29udGV4dCA/IGB3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQgPSAke3NlcnZlckhhbmRvZmZTdHJpbmd9OyR7c3RyZWFtU2NyaXB0fWAgOiBcIiBcIjtcbiAgICBsZXQgcm91dGVNb2R1bGVzU2NyaXB0ID0gIWlzU3RhdGljID8gXCIgXCIgOiBgJHttYW5pZmVzdC5obXI/LnJ1bnRpbWUgPyBgaW1wb3J0ICR7SlNPTi5zdHJpbmdpZnkobWFuaWZlc3QuaG1yLnJ1bnRpbWUpfTtgIDogXCJcIn0keyFlbmFibGVGb2dPZldhciA/IGBpbXBvcnQgJHtKU09OLnN0cmluZ2lmeShtYW5pZmVzdC51cmwpfWAgOiBcIlwifTtcbiR7bWF0Y2hlcy5tYXAoKG1hdGNoLCByb3V0ZUluZGV4KSA9PiB7XG4gICAgICBsZXQgcm91dGVWYXJOYW1lID0gYHJvdXRlJHtyb3V0ZUluZGV4fWA7XG4gICAgICBsZXQgbWFuaWZlc3RFbnRyeSA9IG1hbmlmZXN0LnJvdXRlc1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpbnZhcmlhbnQyKG1hbmlmZXN0RW50cnksIGBSb3V0ZSAke21hdGNoLnJvdXRlLmlkfSBub3QgZm91bmQgaW4gbWFuaWZlc3RgKTtcbiAgICAgIGxldCB7XG4gICAgICAgIGNsaWVudEFjdGlvbk1vZHVsZSxcbiAgICAgICAgY2xpZW50TG9hZGVyTW9kdWxlLFxuICAgICAgICBoeWRyYXRlRmFsbGJhY2tNb2R1bGUsXG4gICAgICAgIG1vZHVsZVxuICAgICAgfSA9IG1hbmlmZXN0RW50cnk7XG4gICAgICBsZXQgY2h1bmtzID0gW1xuICAgICAgICAuLi5jbGllbnRBY3Rpb25Nb2R1bGUgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9kdWxlOiBjbGllbnRBY3Rpb25Nb2R1bGUsXG4gICAgICAgICAgICB2YXJOYW1lOiBgJHtyb3V0ZVZhck5hbWV9X2NsaWVudEFjdGlvbmBcbiAgICAgICAgICB9XG4gICAgICAgIF0gOiBbXSxcbiAgICAgICAgLi4uY2xpZW50TG9hZGVyTW9kdWxlID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1vZHVsZTogY2xpZW50TG9hZGVyTW9kdWxlLFxuICAgICAgICAgICAgdmFyTmFtZTogYCR7cm91dGVWYXJOYW1lfV9jbGllbnRMb2FkZXJgXG4gICAgICAgICAgfVxuICAgICAgICBdIDogW10sXG4gICAgICAgIC4uLmh5ZHJhdGVGYWxsYmFja01vZHVsZSA/IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtb2R1bGU6IGh5ZHJhdGVGYWxsYmFja01vZHVsZSxcbiAgICAgICAgICAgIHZhck5hbWU6IGAke3JvdXRlVmFyTmFtZX1fSHlkcmF0ZUZhbGxiYWNrYFxuICAgICAgICAgIH1cbiAgICAgICAgXSA6IFtdLFxuICAgICAgICB7IG1vZHVsZSwgdmFyTmFtZTogYCR7cm91dGVWYXJOYW1lfV9tYWluYCB9XG4gICAgICBdO1xuICAgICAgaWYgKGNodW5rcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGBpbXBvcnQgKiBhcyAke3JvdXRlVmFyTmFtZX0gZnJvbSAke0pTT04uc3RyaW5naWZ5KG1vZHVsZSl9O2A7XG4gICAgICB9XG4gICAgICBsZXQgY2h1bmtJbXBvcnRzU25pcHBldCA9IGNodW5rcy5tYXAoKGNodW5rKSA9PiBgaW1wb3J0ICogYXMgJHtjaHVuay52YXJOYW1lfSBmcm9tIFwiJHtjaHVuay5tb2R1bGV9XCI7YCkuam9pbihcIlxcblwiKTtcbiAgICAgIGxldCBtZXJnZWRDaHVua3NTbmlwcGV0ID0gYGNvbnN0ICR7cm91dGVWYXJOYW1lfSA9IHske2NodW5rcy5tYXAoKGNodW5rKSA9PiBgLi4uJHtjaHVuay52YXJOYW1lfWApLmpvaW4oXCIsXCIpfX07YDtcbiAgICAgIHJldHVybiBbY2h1bmtJbXBvcnRzU25pcHBldCwgbWVyZ2VkQ2h1bmtzU25pcHBldF0uam9pbihcIlxcblwiKTtcbiAgICB9KS5qb2luKFwiXFxuXCIpfVxuICAke2VuYWJsZUZvZ09mV2FyID8gKFxuICAgICAgLy8gSW5saW5lIGEgbWluaW1hbCBtYW5pZmVzdCB3aXRoIHRoZSBTU1IgbWF0Y2hlc1xuICAgICAgYHdpbmRvdy5fX3JlYWN0Um91dGVyTWFuaWZlc3QgPSAke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICBnZXRQYXJ0aWFsTWFuaWZlc3QobWFuaWZlc3QsIHJvdXRlciksXG4gICAgICAgIG51bGwsXG4gICAgICAgIDJcbiAgICAgICl9O2BcbiAgICApIDogXCJcIn1cbiAgd2luZG93Ll9fcmVhY3RSb3V0ZXJSb3V0ZU1vZHVsZXMgPSB7JHttYXRjaGVzLm1hcCgobWF0Y2gsIGluZGV4KSA9PiBgJHtKU09OLnN0cmluZ2lmeShtYXRjaC5yb3V0ZS5pZCl9OnJvdXRlJHtpbmRleH1gKS5qb2luKFwiLFwiKX19O1xuXG5pbXBvcnQoJHtKU09OLnN0cmluZ2lmeShtYW5pZmVzdC5lbnRyeS5tb2R1bGUpfSk7YDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFJlYWN0OS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJzY3JpcHRcIixcbiAgICAgIHtcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZSxcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IGNyZWF0ZUh0bWwoY29udGV4dFNjcmlwdCksXG4gICAgICAgIHR5cGU6IHZvaWQgMFxuICAgICAgfVxuICAgICksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICAgIFwic2NyaXB0XCIsXG4gICAgICB7XG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWUsXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiBjcmVhdGVIdG1sKHJvdXRlTW9kdWxlc1NjcmlwdCksXG4gICAgICAgIHR5cGU6IFwibW9kdWxlXCIsXG4gICAgICAgIGFzeW5jOiB0cnVlXG4gICAgICB9XG4gICAgKSk7XG4gIH0sIFtdKTtcbiAgbGV0IHByZWxvYWRzID0gaXNIeWRyYXRlZCA/IFtdIDogbWFuaWZlc3QuZW50cnkuaW1wb3J0cy5jb25jYXQoXG4gICAgZ2V0TW9kdWxlTGlua0hyZWZzKG1hdGNoZXMsIG1hbmlmZXN0LCB7XG4gICAgICBpbmNsdWRlSHlkcmF0ZUZhbGxiYWNrOiB0cnVlXG4gICAgfSlcbiAgKTtcbiAgcmV0dXJuIGlzSHlkcmF0ZWQgPyBudWxsIDogLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFJlYWN0OS5GcmFnbWVudCwgbnVsbCwgIWVuYWJsZUZvZ09mV2FyID8gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgIFwibGlua1wiLFxuICAgIHtcbiAgICAgIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsXG4gICAgICBocmVmOiBtYW5pZmVzdC51cmwsXG4gICAgICBjcm9zc09yaWdpbjogcHJvcHMuY3Jvc3NPcmlnaW5cbiAgICB9XG4gICkgOiBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJsaW5rXCIsXG4gICAge1xuICAgICAgcmVsOiBcIm1vZHVsZXByZWxvYWRcIixcbiAgICAgIGhyZWY6IG1hbmlmZXN0LmVudHJ5Lm1vZHVsZSxcbiAgICAgIGNyb3NzT3JpZ2luOiBwcm9wcy5jcm9zc09yaWdpblxuICAgIH1cbiAgKSwgZGVkdXBlKHByZWxvYWRzKS5tYXAoKHBhdGgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICBcImxpbmtcIixcbiAgICB7XG4gICAgICBrZXk6IHBhdGgsXG4gICAgICByZWw6IFwibW9kdWxlcHJlbG9hZFwiLFxuICAgICAgaHJlZjogcGF0aCxcbiAgICAgIGNyb3NzT3JpZ2luOiBwcm9wcy5jcm9zc09yaWdpblxuICAgIH1cbiAgKSksIGluaXRpYWxTY3JpcHRzKTtcbn1cbmZ1bmN0aW9uIGRlZHVwZShhcnJheSkge1xuICByZXR1cm4gWy4uLm5ldyBTZXQoYXJyYXkpXTtcbn1cbmZ1bmN0aW9uIG1lcmdlUmVmcyguLi5yZWZzKSB7XG4gIHJldHVybiAodmFsdWUpID0+IHtcbiAgICByZWZzLmZvckVhY2goKHJlZikgPT4ge1xuICAgICAgaWYgKHR5cGVvZiByZWYgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZWYodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmIChyZWYgIT0gbnVsbCkge1xuICAgICAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vLyBsaWIvZG9tL2xpYi50c3hcbnZhciBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xudHJ5IHtcbiAgaWYgKGlzQnJvd3Nlcikge1xuICAgIHdpbmRvdy5fX3JlYWN0Um91dGVyVmVyc2lvbiA9IFwiNy4zLjBcIjtcbiAgfVxufSBjYXRjaCAoZSkge1xufVxuZnVuY3Rpb24gY3JlYXRlQnJvd3NlclJvdXRlcihyb3V0ZXMsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlcih7XG4gICAgYmFzZW5hbWU6IG9wdHM/LmJhc2VuYW1lLFxuICAgIHVuc3RhYmxlX2dldENvbnRleHQ6IG9wdHM/LnVuc3RhYmxlX2dldENvbnRleHQsXG4gICAgZnV0dXJlOiBvcHRzPy5mdXR1cmUsXG4gICAgaGlzdG9yeTogY3JlYXRlQnJvd3Nlckhpc3RvcnkoeyB3aW5kb3c6IG9wdHM/LndpbmRvdyB9KSxcbiAgICBoeWRyYXRpb25EYXRhOiBvcHRzPy5oeWRyYXRpb25EYXRhIHx8IHBhcnNlSHlkcmF0aW9uRGF0YSgpLFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgZGF0YVN0cmF0ZWd5OiBvcHRzPy5kYXRhU3RyYXRlZ3ksXG4gICAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb246IG9wdHM/LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uLFxuICAgIHdpbmRvdzogb3B0cz8ud2luZG93XG4gIH0pLmluaXRpYWxpemUoKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUhhc2hSb3V0ZXIocm91dGVzLCBvcHRzKSB7XG4gIHJldHVybiBjcmVhdGVSb3V0ZXIoe1xuICAgIGJhc2VuYW1lOiBvcHRzPy5iYXNlbmFtZSxcbiAgICB1bnN0YWJsZV9nZXRDb250ZXh0OiBvcHRzPy51bnN0YWJsZV9nZXRDb250ZXh0LFxuICAgIGZ1dHVyZTogb3B0cz8uZnV0dXJlLFxuICAgIGhpc3Rvcnk6IGNyZWF0ZUhhc2hIaXN0b3J5KHsgd2luZG93OiBvcHRzPy53aW5kb3cgfSksXG4gICAgaHlkcmF0aW9uRGF0YTogb3B0cz8uaHlkcmF0aW9uRGF0YSB8fCBwYXJzZUh5ZHJhdGlvbkRhdGEoKSxcbiAgICByb3V0ZXMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICAgIGRhdGFTdHJhdGVneTogb3B0cz8uZGF0YVN0cmF0ZWd5LFxuICAgIHBhdGNoUm91dGVzT25OYXZpZ2F0aW9uOiBvcHRzPy5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbixcbiAgICB3aW5kb3c6IG9wdHM/LndpbmRvd1xuICB9KS5pbml0aWFsaXplKCk7XG59XG5mdW5jdGlvbiBwYXJzZUh5ZHJhdGlvbkRhdGEoKSB7XG4gIGxldCBzdGF0ZSA9IHdpbmRvdz8uX19zdGF0aWNSb3V0ZXJIeWRyYXRpb25EYXRhO1xuICBpZiAoc3RhdGUgJiYgc3RhdGUuZXJyb3JzKSB7XG4gICAgc3RhdGUgPSB7XG4gICAgICAuLi5zdGF0ZSxcbiAgICAgIGVycm9yczogZGVzZXJpYWxpemVFcnJvcnMoc3RhdGUuZXJyb3JzKVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gZGVzZXJpYWxpemVFcnJvcnMoZXJyb3JzKSB7XG4gIGlmICghZXJyb3JzKSByZXR1cm4gbnVsbDtcbiAgbGV0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhlcnJvcnMpO1xuICBsZXQgc2VyaWFsaXplZCA9IHt9O1xuICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGVudHJpZXMpIHtcbiAgICBpZiAodmFsICYmIHZhbC5fX3R5cGUgPT09IFwiUm91dGVFcnJvclJlc3BvbnNlXCIpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgdmFsLnN0YXR1cyxcbiAgICAgICAgdmFsLnN0YXR1c1RleHQsXG4gICAgICAgIHZhbC5kYXRhLFxuICAgICAgICB2YWwuaW50ZXJuYWwgPT09IHRydWVcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh2YWwgJiYgdmFsLl9fdHlwZSA9PT0gXCJFcnJvclwiKSB7XG4gICAgICBpZiAodmFsLl9fc3ViVHlwZSkge1xuICAgICAgICBsZXQgRXJyb3JDb25zdHJ1Y3RvciA9IHdpbmRvd1t2YWwuX19zdWJUeXBlXTtcbiAgICAgICAgaWYgKHR5cGVvZiBFcnJvckNvbnN0cnVjdG9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yQ29uc3RydWN0b3IodmFsLm1lc3NhZ2UpO1xuICAgICAgICAgICAgZXJyb3Iuc3RhY2sgPSBcIlwiO1xuICAgICAgICAgICAgc2VyaWFsaXplZFtrZXldID0gZXJyb3I7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNlcmlhbGl6ZWRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvcih2YWwubWVzc2FnZSk7XG4gICAgICAgIGVycm9yLnN0YWNrID0gXCJcIjtcbiAgICAgICAgc2VyaWFsaXplZFtrZXldID0gZXJyb3I7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5mdW5jdGlvbiBCcm93c2VyUm91dGVyKHtcbiAgYmFzZW5hbWUsXG4gIGNoaWxkcmVuLFxuICB3aW5kb3c6IHdpbmRvdzJcbn0pIHtcbiAgbGV0IGhpc3RvcnlSZWYgPSBSZWFjdDEwLnVzZVJlZigpO1xuICBpZiAoaGlzdG9yeVJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICBoaXN0b3J5UmVmLmN1cnJlbnQgPSBjcmVhdGVCcm93c2VySGlzdG9yeSh7IHdpbmRvdzogd2luZG93MiwgdjVDb21wYXQ6IHRydWUgfSk7XG4gIH1cbiAgbGV0IGhpc3RvcnkgPSBoaXN0b3J5UmVmLmN1cnJlbnQ7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDEwLnVzZVN0YXRlKHtcbiAgICBhY3Rpb246IGhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uXG4gIH0pO1xuICBsZXQgc2V0U3RhdGUgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChuZXdTdGF0ZSkgPT4ge1xuICAgICAgUmVhY3QxMC5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgfSxcbiAgICBbc2V0U3RhdGVJbXBsXVxuICApO1xuICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiBoaXN0b3J5Lmxpc3RlbihzZXRTdGF0ZSksIFtoaXN0b3J5LCBzZXRTdGF0ZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWUsXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5hY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IGhpc3RvcnlcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBIYXNoUm91dGVyKHsgYmFzZW5hbWUsIGNoaWxkcmVuLCB3aW5kb3c6IHdpbmRvdzIgfSkge1xuICBsZXQgaGlzdG9yeVJlZiA9IFJlYWN0MTAudXNlUmVmKCk7XG4gIGlmIChoaXN0b3J5UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgIGhpc3RvcnlSZWYuY3VycmVudCA9IGNyZWF0ZUhhc2hIaXN0b3J5KHsgd2luZG93OiB3aW5kb3cyLCB2NUNvbXBhdDogdHJ1ZSB9KTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IGhpc3RvcnlSZWYuY3VycmVudDtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0MTAudXNlU3RhdGUoe1xuICAgIGFjdGlvbjogaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb25cbiAgfSk7XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlKSA9PiB7XG4gICAgICBSZWFjdDEwLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICB9LFxuICAgIFtzZXRTdGF0ZUltcGxdXG4gICk7XG4gIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IGhpc3RvcnkubGlzdGVuKHNldFN0YXRlKSwgW2hpc3RvcnksIHNldFN0YXRlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogaGlzdG9yeVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIEhpc3RvcnlSb3V0ZXIoe1xuICBiYXNlbmFtZSxcbiAgY2hpbGRyZW4sXG4gIGhpc3Rvcnlcbn0pIHtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0MTAudXNlU3RhdGUoe1xuICAgIGFjdGlvbjogaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb25cbiAgfSk7XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlKSA9PiB7XG4gICAgICBSZWFjdDEwLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICB9LFxuICAgIFtzZXRTdGF0ZUltcGxdXG4gICk7XG4gIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IGhpc3RvcnkubGlzdGVuKHNldFN0YXRlKSwgW2hpc3RvcnksIHNldFN0YXRlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogaGlzdG9yeVxuICAgIH1cbiAgKTtcbn1cbkhpc3RvcnlSb3V0ZXIuZGlzcGxheU5hbWUgPSBcInVuc3RhYmxlX0hpc3RvcnlSb3V0ZXJcIjtcbnZhciBBQlNPTFVURV9VUkxfUkVHRVgyID0gL14oPzpbYS16XVthLXowLTkrLi1dKjp8XFwvXFwvKS9pO1xudmFyIExpbmsgPSBSZWFjdDEwLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uIExpbmtXaXRoUmVmKHtcbiAgICBvbkNsaWNrLFxuICAgIGRpc2NvdmVyID0gXCJyZW5kZXJcIixcbiAgICBwcmVmZXRjaCA9IFwibm9uZVwiLFxuICAgIHJlbGF0aXZlLFxuICAgIHJlbG9hZERvY3VtZW50LFxuICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgIHN0YXRlLFxuICAgIHRhcmdldCxcbiAgICB0byxcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgdmlld1RyYW5zaXRpb24sXG4gICAgLi4ucmVzdFxuICB9LCBmb3J3YXJkZWRSZWYpIHtcbiAgICBsZXQgeyBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgICBsZXQgaXNBYnNvbHV0ZSA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiAmJiBBQlNPTFVURV9VUkxfUkVHRVgyLnRlc3QodG8pO1xuICAgIGxldCBhYnNvbHV0ZUhyZWY7XG4gICAgbGV0IGlzRXh0ZXJuYWwgPSBmYWxzZTtcbiAgICBpZiAodHlwZW9mIHRvID09PSBcInN0cmluZ1wiICYmIGlzQWJzb2x1dGUpIHtcbiAgICAgIGFic29sdXRlSHJlZiA9IHRvO1xuICAgICAgaWYgKGlzQnJvd3Nlcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCBjdXJyZW50VXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgICAgICAgbGV0IHRhcmdldFVybCA9IHRvLnN0YXJ0c1dpdGgoXCIvL1wiKSA/IG5ldyBVUkwoY3VycmVudFVybC5wcm90b2NvbCArIHRvKSA6IG5ldyBVUkwodG8pO1xuICAgICAgICAgIGxldCBwYXRoID0gc3RyaXBCYXNlbmFtZSh0YXJnZXRVcmwucGF0aG5hbWUsIGJhc2VuYW1lKTtcbiAgICAgICAgICBpZiAodGFyZ2V0VXJsLm9yaWdpbiA9PT0gY3VycmVudFVybC5vcmlnaW4gJiYgcGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0byA9IHBhdGggKyB0YXJnZXRVcmwuc2VhcmNoICsgdGFyZ2V0VXJsLmhhc2g7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlzRXh0ZXJuYWwgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGA8TGluayB0bz1cIiR7dG99XCI+IGNvbnRhaW5zIGFuIGludmFsaWQgVVJMIHdoaWNoIHdpbGwgcHJvYmFibHkgYnJlYWsgd2hlbiBjbGlja2VkIC0gcGxlYXNlIHVwZGF0ZSB0byBhIHZhbGlkIFVSTCBwYXRoLmBcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBocmVmMiA9IHVzZUhyZWYodG8sIHsgcmVsYXRpdmUgfSk7XG4gICAgbGV0IFtzaG91bGRQcmVmZXRjaCwgcHJlZmV0Y2hSZWYsIHByZWZldGNoSGFuZGxlcnNdID0gdXNlUHJlZmV0Y2hCZWhhdmlvcihcbiAgICAgIHByZWZldGNoLFxuICAgICAgcmVzdFxuICAgICk7XG4gICAgbGV0IGludGVybmFsT25DbGljayA9IHVzZUxpbmtDbGlja0hhbmRsZXIodG8sIHtcbiAgICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgICAgc3RhdGUsXG4gICAgICB0YXJnZXQsXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICByZWxhdGl2ZSxcbiAgICAgIHZpZXdUcmFuc2l0aW9uXG4gICAgfSk7XG4gICAgZnVuY3Rpb24gaGFuZGxlQ2xpY2soZXZlbnQpIHtcbiAgICAgIGlmIChvbkNsaWNrKSBvbkNsaWNrKGV2ZW50KTtcbiAgICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICBpbnRlcm5hbE9uQ2xpY2soZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbGluayA9IChcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBqc3gtYTExeS9hbmNob3ItaGFzLWNvbnRlbnRcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFwiYVwiLFxuICAgICAgICB7XG4gICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAuLi5wcmVmZXRjaEhhbmRsZXJzLFxuICAgICAgICAgIGhyZWY6IGFic29sdXRlSHJlZiB8fCBocmVmMixcbiAgICAgICAgICBvbkNsaWNrOiBpc0V4dGVybmFsIHx8IHJlbG9hZERvY3VtZW50ID8gb25DbGljayA6IGhhbmRsZUNsaWNrLFxuICAgICAgICAgIHJlZjogbWVyZ2VSZWZzKGZvcndhcmRlZFJlZiwgcHJlZmV0Y2hSZWYpLFxuICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICBcImRhdGEtZGlzY292ZXJcIjogIWlzQWJzb2x1dGUgJiYgZGlzY292ZXIgPT09IFwicmVuZGVyXCIgPyBcInRydWVcIiA6IHZvaWQgMFxuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgICByZXR1cm4gc2hvdWxkUHJlZmV0Y2ggJiYgIWlzQWJzb2x1dGUgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFJlYWN0MTAuRnJhZ21lbnQsIG51bGwsIGxpbmssIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoUHJlZmV0Y2hQYWdlTGlua3MsIHsgcGFnZTogaHJlZjIgfSkpIDogbGluaztcbiAgfVxuKTtcbkxpbmsuZGlzcGxheU5hbWUgPSBcIkxpbmtcIjtcbnZhciBOYXZMaW5rID0gUmVhY3QxMC5mb3J3YXJkUmVmKFxuICBmdW5jdGlvbiBOYXZMaW5rV2l0aFJlZih7XG4gICAgXCJhcmlhLWN1cnJlbnRcIjogYXJpYUN1cnJlbnRQcm9wID0gXCJwYWdlXCIsXG4gICAgY2FzZVNlbnNpdGl2ZSA9IGZhbHNlLFxuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lUHJvcCA9IFwiXCIsXG4gICAgZW5kID0gZmFsc2UsXG4gICAgc3R5bGU6IHN0eWxlUHJvcCxcbiAgICB0byxcbiAgICB2aWV3VHJhbnNpdGlvbixcbiAgICBjaGlsZHJlbixcbiAgICAuLi5yZXN0XG4gIH0sIHJlZikge1xuICAgIGxldCBwYXRoID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlOiByZXN0LnJlbGF0aXZlIH0pO1xuICAgIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gICAgbGV0IHJvdXRlclN0YXRlID0gUmVhY3QxMC51c2VDb250ZXh0KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQpO1xuICAgIGxldCB7IG5hdmlnYXRvcjogbmF2aWdhdG9yMiwgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gICAgbGV0IGlzVHJhbnNpdGlvbmluZyA9IHJvdXRlclN0YXRlICE9IG51bGwgJiYgLy8gQ29uZGl0aW9uYWwgdXNhZ2UgaXMgT0sgaGVyZSBiZWNhdXNlIHRoZSB1c2FnZSBvZiBhIGRhdGEgcm91dGVyIGlzIHN0YXRpY1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9ydWxlcy1vZi1ob29rc1xuICAgIHVzZVZpZXdUcmFuc2l0aW9uU3RhdGUocGF0aCkgJiYgdmlld1RyYW5zaXRpb24gPT09IHRydWU7XG4gICAgbGV0IHRvUGF0aG5hbWUgPSBuYXZpZ2F0b3IyLmVuY29kZUxvY2F0aW9uID8gbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbihwYXRoKS5wYXRobmFtZSA6IHBhdGgucGF0aG5hbWU7XG4gICAgbGV0IGxvY2F0aW9uUGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICBsZXQgbmV4dExvY2F0aW9uUGF0aG5hbWUgPSByb3V0ZXJTdGF0ZSAmJiByb3V0ZXJTdGF0ZS5uYXZpZ2F0aW9uICYmIHJvdXRlclN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24gPyByb3V0ZXJTdGF0ZS5uYXZpZ2F0aW9uLmxvY2F0aW9uLnBhdGhuYW1lIDogbnVsbDtcbiAgICBpZiAoIWNhc2VTZW5zaXRpdmUpIHtcbiAgICAgIGxvY2F0aW9uUGF0aG5hbWUgPSBsb2NhdGlvblBhdGhuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBuZXh0TG9jYXRpb25QYXRobmFtZSA9IG5leHRMb2NhdGlvblBhdGhuYW1lID8gbmV4dExvY2F0aW9uUGF0aG5hbWUudG9Mb3dlckNhc2UoKSA6IG51bGw7XG4gICAgICB0b1BhdGhuYW1lID0gdG9QYXRobmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cbiAgICBpZiAobmV4dExvY2F0aW9uUGF0aG5hbWUgJiYgYmFzZW5hbWUpIHtcbiAgICAgIG5leHRMb2NhdGlvblBhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShuZXh0TG9jYXRpb25QYXRobmFtZSwgYmFzZW5hbWUpIHx8IG5leHRMb2NhdGlvblBhdGhuYW1lO1xuICAgIH1cbiAgICBjb25zdCBlbmRTbGFzaFBvc2l0aW9uID0gdG9QYXRobmFtZSAhPT0gXCIvXCIgJiYgdG9QYXRobmFtZS5lbmRzV2l0aChcIi9cIikgPyB0b1BhdGhuYW1lLmxlbmd0aCAtIDEgOiB0b1BhdGhuYW1lLmxlbmd0aDtcbiAgICBsZXQgaXNBY3RpdmUgPSBsb2NhdGlvblBhdGhuYW1lID09PSB0b1BhdGhuYW1lIHx8ICFlbmQgJiYgbG9jYXRpb25QYXRobmFtZS5zdGFydHNXaXRoKHRvUGF0aG5hbWUpICYmIGxvY2F0aW9uUGF0aG5hbWUuY2hhckF0KGVuZFNsYXNoUG9zaXRpb24pID09PSBcIi9cIjtcbiAgICBsZXQgaXNQZW5kaW5nID0gbmV4dExvY2F0aW9uUGF0aG5hbWUgIT0gbnVsbCAmJiAobmV4dExvY2F0aW9uUGF0aG5hbWUgPT09IHRvUGF0aG5hbWUgfHwgIWVuZCAmJiBuZXh0TG9jYXRpb25QYXRobmFtZS5zdGFydHNXaXRoKHRvUGF0aG5hbWUpICYmIG5leHRMb2NhdGlvblBhdGhuYW1lLmNoYXJBdCh0b1BhdGhuYW1lLmxlbmd0aCkgPT09IFwiL1wiKTtcbiAgICBsZXQgcmVuZGVyUHJvcHMgPSB7XG4gICAgICBpc0FjdGl2ZSxcbiAgICAgIGlzUGVuZGluZyxcbiAgICAgIGlzVHJhbnNpdGlvbmluZ1xuICAgIH07XG4gICAgbGV0IGFyaWFDdXJyZW50ID0gaXNBY3RpdmUgPyBhcmlhQ3VycmVudFByb3AgOiB2b2lkIDA7XG4gICAgbGV0IGNsYXNzTmFtZTtcbiAgICBpZiAodHlwZW9mIGNsYXNzTmFtZVByb3AgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lUHJvcChyZW5kZXJQcm9wcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNsYXNzTmFtZSA9IFtcbiAgICAgICAgY2xhc3NOYW1lUHJvcCxcbiAgICAgICAgaXNBY3RpdmUgPyBcImFjdGl2ZVwiIDogbnVsbCxcbiAgICAgICAgaXNQZW5kaW5nID8gXCJwZW5kaW5nXCIgOiBudWxsLFxuICAgICAgICBpc1RyYW5zaXRpb25pbmcgPyBcInRyYW5zaXRpb25pbmdcIiA6IG51bGxcbiAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xuICAgIH1cbiAgICBsZXQgc3R5bGUgPSB0eXBlb2Ygc3R5bGVQcm9wID09PSBcImZ1bmN0aW9uXCIgPyBzdHlsZVByb3AocmVuZGVyUHJvcHMpIDogc3R5bGVQcm9wO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgICAgTGluayxcbiAgICAgIHtcbiAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgXCJhcmlhLWN1cnJlbnRcIjogYXJpYUN1cnJlbnQsXG4gICAgICAgIGNsYXNzTmFtZSxcbiAgICAgICAgcmVmLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgdG8sXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uXG4gICAgICB9LFxuICAgICAgdHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIgPyBjaGlsZHJlbihyZW5kZXJQcm9wcykgOiBjaGlsZHJlblxuICAgICk7XG4gIH1cbik7XG5OYXZMaW5rLmRpc3BsYXlOYW1lID0gXCJOYXZMaW5rXCI7XG52YXIgRm9ybSA9IFJlYWN0MTAuZm9yd2FyZFJlZihcbiAgKHtcbiAgICBkaXNjb3ZlciA9IFwicmVuZGVyXCIsXG4gICAgZmV0Y2hlcktleSxcbiAgICBuYXZpZ2F0ZSxcbiAgICByZWxvYWREb2N1bWVudCxcbiAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICBzdGF0ZSxcbiAgICBtZXRob2QgPSBkZWZhdWx0TWV0aG9kLFxuICAgIGFjdGlvbixcbiAgICBvblN1Ym1pdCxcbiAgICByZWxhdGl2ZSxcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgdmlld1RyYW5zaXRpb24sXG4gICAgLi4ucHJvcHNcbiAgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgbGV0IHN1Ym1pdCA9IHVzZVN1Ym1pdCgpO1xuICAgIGxldCBmb3JtQWN0aW9uID0gdXNlRm9ybUFjdGlvbihhY3Rpb24sIHsgcmVsYXRpdmUgfSk7XG4gICAgbGV0IGZvcm1NZXRob2QgPSBtZXRob2QudG9Mb3dlckNhc2UoKSA9PT0gXCJnZXRcIiA/IFwiZ2V0XCIgOiBcInBvc3RcIjtcbiAgICBsZXQgaXNBYnNvbHV0ZSA9IHR5cGVvZiBhY3Rpb24gPT09IFwic3RyaW5nXCIgJiYgQUJTT0xVVEVfVVJMX1JFR0VYMi50ZXN0KGFjdGlvbik7XG4gICAgbGV0IHN1Ym1pdEhhbmRsZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgIG9uU3VibWl0ICYmIG9uU3VibWl0KGV2ZW50KTtcbiAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSByZXR1cm47XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGV0IHN1Ym1pdHRlciA9IGV2ZW50Lm5hdGl2ZUV2ZW50LnN1Ym1pdHRlcjtcbiAgICAgIGxldCBzdWJtaXRNZXRob2QgPSBzdWJtaXR0ZXI/LmdldEF0dHJpYnV0ZShcImZvcm1tZXRob2RcIikgfHwgbWV0aG9kO1xuICAgICAgc3VibWl0KHN1Ym1pdHRlciB8fCBldmVudC5jdXJyZW50VGFyZ2V0LCB7XG4gICAgICAgIGZldGNoZXJLZXksXG4gICAgICAgIG1ldGhvZDogc3VibWl0TWV0aG9kLFxuICAgICAgICBuYXZpZ2F0ZSxcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICByZWxhdGl2ZSxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICB2aWV3VHJhbnNpdGlvblxuICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICAgIFwiZm9ybVwiLFxuICAgICAge1xuICAgICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgICAgbWV0aG9kOiBmb3JtTWV0aG9kLFxuICAgICAgICBhY3Rpb246IGZvcm1BY3Rpb24sXG4gICAgICAgIG9uU3VibWl0OiByZWxvYWREb2N1bWVudCA/IG9uU3VibWl0IDogc3VibWl0SGFuZGxlcixcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIFwiZGF0YS1kaXNjb3ZlclwiOiAhaXNBYnNvbHV0ZSAmJiBkaXNjb3ZlciA9PT0gXCJyZW5kZXJcIiA/IFwidHJ1ZVwiIDogdm9pZCAwXG4gICAgICB9XG4gICAgKTtcbiAgfVxuKTtcbkZvcm0uZGlzcGxheU5hbWUgPSBcIkZvcm1cIjtcbmZ1bmN0aW9uIFNjcm9sbFJlc3RvcmF0aW9uKHtcbiAgZ2V0S2V5LFxuICBzdG9yYWdlS2V5LFxuICAuLi5wcm9wc1xufSkge1xuICBsZXQgcmVtaXhDb250ZXh0ID0gUmVhY3QxMC51c2VDb250ZXh0KEZyYW1ld29ya0NvbnRleHQpO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IG1hdGNoZXMgPSB1c2VNYXRjaGVzKCk7XG4gIHVzZVNjcm9sbFJlc3RvcmF0aW9uKHsgZ2V0S2V5LCBzdG9yYWdlS2V5IH0pO1xuICBsZXQgc3NyS2V5ID0gUmVhY3QxMC51c2VNZW1vKFxuICAgICgpID0+IHtcbiAgICAgIGlmICghcmVtaXhDb250ZXh0IHx8ICFnZXRLZXkpIHJldHVybiBudWxsO1xuICAgICAgbGV0IHVzZXJLZXkgPSBnZXRTY3JvbGxSZXN0b3JhdGlvbktleShcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICBnZXRLZXlcbiAgICAgICk7XG4gICAgICByZXR1cm4gdXNlcktleSAhPT0gbG9jYXRpb24ua2V5ID8gdXNlcktleSA6IG51bGw7XG4gICAgfSxcbiAgICAvLyBOYWgsIHdlIG9ubHkgbmVlZCB0aGlzIHRoZSBmaXJzdCB0aW1lIGZvciB0aGUgU1NSIHJlbmRlclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICBbXVxuICApO1xuICBpZiAoIXJlbWl4Q29udGV4dCB8fCByZW1peENvbnRleHQuaXNTcGFNb2RlKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHJlc3RvcmVTY3JvbGwgPSAoKHN0b3JhZ2VLZXkyLCByZXN0b3JlS2V5KSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuaGlzdG9yeS5zdGF0ZSB8fCAhd2luZG93Lmhpc3Rvcnkuc3RhdGUua2V5KSB7XG4gICAgICBsZXQga2V5ID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzMikuc2xpY2UoMik7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoeyBrZXkgfSwgXCJcIik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBsZXQgcG9zaXRpb25zID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkyKSB8fCBcInt9XCIpO1xuICAgICAgbGV0IHN0b3JlZFkgPSBwb3NpdGlvbnNbcmVzdG9yZUtleSB8fCB3aW5kb3cuaGlzdG9yeS5zdGF0ZS5rZXldO1xuICAgICAgaWYgKHR5cGVvZiBzdG9yZWRZID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCBzdG9yZWRZKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHN0b3JhZ2VLZXkyKTtcbiAgICB9XG4gIH0pLnRvU3RyaW5nKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgIFwic2NyaXB0XCIsXG4gICAge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWUsXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICBfX2h0bWw6IGAoJHtyZXN0b3JlU2Nyb2xsfSkoJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICBzdG9yYWdlS2V5IHx8IFNDUk9MTF9SRVNUT1JBVElPTl9TVE9SQUdFX0tFWVxuICAgICAgICApfSwgJHtKU09OLnN0cmluZ2lmeShzc3JLZXkpfSlgXG4gICAgICB9XG4gICAgfVxuICApO1xufVxuU2Nyb2xsUmVzdG9yYXRpb24uZGlzcGxheU5hbWUgPSBcIlNjcm9sbFJlc3RvcmF0aW9uXCI7XG5mdW5jdGlvbiBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yMihob29rTmFtZSkge1xuICByZXR1cm4gYCR7aG9va05hbWV9IG11c3QgYmUgdXNlZCB3aXRoaW4gYSBkYXRhIHJvdXRlci4gIFNlZSBodHRwczovL3JlYWN0cm91dGVyLmNvbS9lbi9tYWluL3JvdXRlcnMvcGlja2luZy1hLXJvdXRlci5gO1xufVxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlckNvbnRleHQzKGhvb2tOYW1lKSB7XG4gIGxldCBjdHggPSBSZWFjdDEwLnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpbnZhcmlhbnQoY3R4LCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yMihob29rTmFtZSkpO1xuICByZXR1cm4gY3R4O1xufVxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlclN0YXRlMihob29rTmFtZSkge1xuICBsZXQgc3RhdGUgPSBSZWFjdDEwLnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gIGludmFyaWFudChzdGF0ZSwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcjIoaG9va05hbWUpKTtcbiAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gdXNlTGlua0NsaWNrSGFuZGxlcih0bywge1xuICB0YXJnZXQsXG4gIHJlcGxhY2U6IHJlcGxhY2VQcm9wLFxuICBzdGF0ZSxcbiAgcHJldmVudFNjcm9sbFJlc2V0LFxuICByZWxhdGl2ZSxcbiAgdmlld1RyYW5zaXRpb25cbn0gPSB7fSkge1xuICBsZXQgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgcGF0aCA9IHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZSB9KTtcbiAgcmV0dXJuIFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBpZiAoc2hvdWxkUHJvY2Vzc0xpbmtDbGljayhldmVudCwgdGFyZ2V0KSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBsZXQgcmVwbGFjZTIgPSByZXBsYWNlUHJvcCAhPT0gdm9pZCAwID8gcmVwbGFjZVByb3AgOiBjcmVhdGVQYXRoKGxvY2F0aW9uKSA9PT0gY3JlYXRlUGF0aChwYXRoKTtcbiAgICAgICAgbmF2aWdhdGUodG8sIHtcbiAgICAgICAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgICAgcmVsYXRpdmUsXG4gICAgICAgICAgdmlld1RyYW5zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG5hdmlnYXRlLFxuICAgICAgcGF0aCxcbiAgICAgIHJlcGxhY2VQcm9wLFxuICAgICAgc3RhdGUsXG4gICAgICB0YXJnZXQsXG4gICAgICB0byxcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHJlbGF0aXZlLFxuICAgICAgdmlld1RyYW5zaXRpb25cbiAgICBdXG4gICk7XG59XG5mdW5jdGlvbiB1c2VTZWFyY2hQYXJhbXMoZGVmYXVsdEluaXQpIHtcbiAgd2FybmluZyhcbiAgICB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSBcInVuZGVmaW5lZFwiLFxuICAgIGBZb3UgY2Fubm90IHVzZSB0aGUgXFxgdXNlU2VhcmNoUGFyYW1zXFxgIGhvb2sgaW4gYSBicm93c2VyIHRoYXQgZG9lcyBub3Qgc3VwcG9ydCB0aGUgVVJMU2VhcmNoUGFyYW1zIEFQSS4gSWYgeW91IG5lZWQgdG8gc3VwcG9ydCBJbnRlcm5ldCBFeHBsb3JlciAxMSwgd2UgcmVjb21tZW5kIHlvdSBsb2FkIGEgcG9seWZpbGwgc3VjaCBhcyBodHRwczovL2dpdGh1Yi5jb20vdW5nYXAvdXJsLXNlYXJjaC1wYXJhbXMuYFxuICApO1xuICBsZXQgZGVmYXVsdFNlYXJjaFBhcmFtc1JlZiA9IFJlYWN0MTAudXNlUmVmKGNyZWF0ZVNlYXJjaFBhcmFtcyhkZWZhdWx0SW5pdCkpO1xuICBsZXQgaGFzU2V0U2VhcmNoUGFyYW1zUmVmID0gUmVhY3QxMC51c2VSZWYoZmFsc2UpO1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgc2VhcmNoUGFyYW1zID0gUmVhY3QxMC51c2VNZW1vKFxuICAgICgpID0+IChcbiAgICAgIC8vIE9ubHkgbWVyZ2UgaW4gdGhlIGRlZmF1bHRzIGlmIHdlIGhhdmVuJ3QgeWV0IGNhbGxlZCBzZXRTZWFyY2hQYXJhbXMuXG4gICAgICAvLyBPbmNlIHdlIGNhbGwgdGhhdCB3ZSB3YW50IHRob3NlIHRvIHRha2UgcHJlY2VkZW5jZSwgb3RoZXJ3aXNlIHlvdSBjYW4ndFxuICAgICAgLy8gcmVtb3ZlIGEgcGFyYW0gd2l0aCBzZXRTZWFyY2hQYXJhbXMoe30pIGlmIGl0IGhhcyBhbiBpbml0aWFsIHZhbHVlXG4gICAgICBnZXRTZWFyY2hQYXJhbXNGb3JMb2NhdGlvbihcbiAgICAgICAgbG9jYXRpb24uc2VhcmNoLFxuICAgICAgICBoYXNTZXRTZWFyY2hQYXJhbXNSZWYuY3VycmVudCA/IG51bGwgOiBkZWZhdWx0U2VhcmNoUGFyYW1zUmVmLmN1cnJlbnRcbiAgICAgIClcbiAgICApLFxuICAgIFtsb2NhdGlvbi5zZWFyY2hdXG4gICk7XG4gIGxldCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGxldCBzZXRTZWFyY2hQYXJhbXMgPSBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIChuZXh0SW5pdCwgbmF2aWdhdGVPcHRpb25zKSA9PiB7XG4gICAgICBjb25zdCBuZXdTZWFyY2hQYXJhbXMgPSBjcmVhdGVTZWFyY2hQYXJhbXMoXG4gICAgICAgIHR5cGVvZiBuZXh0SW5pdCA9PT0gXCJmdW5jdGlvblwiID8gbmV4dEluaXQoc2VhcmNoUGFyYW1zKSA6IG5leHRJbml0XG4gICAgICApO1xuICAgICAgaGFzU2V0U2VhcmNoUGFyYW1zUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgbmF2aWdhdGUoXCI/XCIgKyBuZXdTZWFyY2hQYXJhbXMsIG5hdmlnYXRlT3B0aW9ucyk7XG4gICAgfSxcbiAgICBbbmF2aWdhdGUsIHNlYXJjaFBhcmFtc11cbiAgKTtcbiAgcmV0dXJuIFtzZWFyY2hQYXJhbXMsIHNldFNlYXJjaFBhcmFtc107XG59XG52YXIgZmV0Y2hlcklkID0gMDtcbnZhciBnZXRVbmlxdWVGZXRjaGVySWQgPSAoKSA9PiBgX18ke1N0cmluZygrK2ZldGNoZXJJZCl9X19gO1xuZnVuY3Rpb24gdXNlU3VibWl0KCkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MyhcInVzZVN1Ym1pdFwiIC8qIFVzZVN1Ym1pdCAqLyk7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgY3VycmVudFJvdXRlSWQgPSB1c2VSb3V0ZUlkKCk7XG4gIHJldHVybiBSZWFjdDEwLnVzZUNhbGxiYWNrKFxuICAgIGFzeW5jICh0YXJnZXQsIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgbGV0IHsgYWN0aW9uLCBtZXRob2QsIGVuY1R5cGUsIGZvcm1EYXRhLCBib2R5IH0gPSBnZXRGb3JtU3VibWlzc2lvbkluZm8oXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgYmFzZW5hbWVcbiAgICAgICk7XG4gICAgICBpZiAob3B0aW9ucy5uYXZpZ2F0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgbGV0IGtleSA9IG9wdGlvbnMuZmV0Y2hlcktleSB8fCBnZXRVbmlxdWVGZXRjaGVySWQoKTtcbiAgICAgICAgYXdhaXQgcm91dGVyLmZldGNoKGtleSwgY3VycmVudFJvdXRlSWQsIG9wdGlvbnMuYWN0aW9uIHx8IGFjdGlvbiwge1xuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0aW9ucy5wcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgICAgZm9ybURhdGEsXG4gICAgICAgICAgYm9keSxcbiAgICAgICAgICBmb3JtTWV0aG9kOiBvcHRpb25zLm1ldGhvZCB8fCBtZXRob2QsXG4gICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdGlvbnMuZW5jVHlwZSB8fCBlbmNUeXBlLFxuICAgICAgICAgIGZsdXNoU3luYzogb3B0aW9ucy5mbHVzaFN5bmNcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCByb3V0ZXIubmF2aWdhdGUob3B0aW9ucy5hY3Rpb24gfHwgYWN0aW9uLCB7XG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRpb25zLnByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgICBmb3JtRGF0YSxcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIGZvcm1NZXRob2Q6IG9wdGlvbnMubWV0aG9kIHx8IG1ldGhvZCxcbiAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0aW9ucy5lbmNUeXBlIHx8IGVuY1R5cGUsXG4gICAgICAgICAgcmVwbGFjZTogb3B0aW9ucy5yZXBsYWNlLFxuICAgICAgICAgIHN0YXRlOiBvcHRpb25zLnN0YXRlLFxuICAgICAgICAgIGZyb21Sb3V0ZUlkOiBjdXJyZW50Um91dGVJZCxcbiAgICAgICAgICBmbHVzaFN5bmM6IG9wdGlvbnMuZmx1c2hTeW5jLFxuICAgICAgICAgIHZpZXdUcmFuc2l0aW9uOiBvcHRpb25zLnZpZXdUcmFuc2l0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3JvdXRlciwgYmFzZW5hbWUsIGN1cnJlbnRSb3V0ZUlkXVxuICApO1xufVxuZnVuY3Rpb24gdXNlRm9ybUFjdGlvbihhY3Rpb24sIHsgcmVsYXRpdmUgfSA9IHt9KSB7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgcm91dGVDb250ZXh0ID0gUmVhY3QxMC51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGludmFyaWFudChyb3V0ZUNvbnRleHQsIFwidXNlRm9ybUFjdGlvbiBtdXN0IGJlIHVzZWQgaW5zaWRlIGEgUm91dGVDb250ZXh0XCIpO1xuICBsZXQgW21hdGNoXSA9IHJvdXRlQ29udGV4dC5tYXRjaGVzLnNsaWNlKC0xKTtcbiAgbGV0IHBhdGggPSB7IC4uLnVzZVJlc29sdmVkUGF0aChhY3Rpb24gPyBhY3Rpb24gOiBcIi5cIiwgeyByZWxhdGl2ZSB9KSB9O1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBpZiAoYWN0aW9uID09IG51bGwpIHtcbiAgICBwYXRoLnNlYXJjaCA9IGxvY2F0aW9uLnNlYXJjaDtcbiAgICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhwYXRoLnNlYXJjaCk7XG4gICAgbGV0IGluZGV4VmFsdWVzID0gcGFyYW1zLmdldEFsbChcImluZGV4XCIpO1xuICAgIGxldCBoYXNOYWtlZEluZGV4UGFyYW0gPSBpbmRleFZhbHVlcy5zb21lKCh2KSA9PiB2ID09PSBcIlwiKTtcbiAgICBpZiAoaGFzTmFrZWRJbmRleFBhcmFtKSB7XG4gICAgICBwYXJhbXMuZGVsZXRlKFwiaW5kZXhcIik7XG4gICAgICBpbmRleFZhbHVlcy5maWx0ZXIoKHYpID0+IHYpLmZvckVhY2goKHYpID0+IHBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB2KSk7XG4gICAgICBsZXQgcXMgPSBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgIHBhdGguc2VhcmNoID0gcXMgPyBgPyR7cXN9YCA6IFwiXCI7XG4gICAgfVxuICB9XG4gIGlmICgoIWFjdGlvbiB8fCBhY3Rpb24gPT09IFwiLlwiKSAmJiBtYXRjaC5yb3V0ZS5pbmRleCkge1xuICAgIHBhdGguc2VhcmNoID0gcGF0aC5zZWFyY2ggPyBwYXRoLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgXCI/aW5kZXgmXCIpIDogXCI/aW5kZXhcIjtcbiAgfVxuICBpZiAoYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgcGF0aC5wYXRobmFtZSA9IHBhdGgucGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRoLnBhdGhuYW1lXSk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVBhdGgocGF0aCk7XG59XG5mdW5jdGlvbiB1c2VGZXRjaGVyKHtcbiAga2V5XG59ID0ge30pIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDMoXCJ1c2VGZXRjaGVyXCIgLyogVXNlRmV0Y2hlciAqLyk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZTIoXCJ1c2VGZXRjaGVyXCIgLyogVXNlRmV0Y2hlciAqLyk7XG4gIGxldCBmZXRjaGVyRGF0YSA9IFJlYWN0MTAudXNlQ29udGV4dChGZXRjaGVyc0NvbnRleHQpO1xuICBsZXQgcm91dGUgPSBSZWFjdDEwLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgbGV0IHJvdXRlSWQgPSByb3V0ZS5tYXRjaGVzW3JvdXRlLm1hdGNoZXMubGVuZ3RoIC0gMV0/LnJvdXRlLmlkO1xuICBpbnZhcmlhbnQoZmV0Y2hlckRhdGEsIGB1c2VGZXRjaGVyIG11c3QgYmUgdXNlZCBpbnNpZGUgYSBGZXRjaGVyc0NvbnRleHRgKTtcbiAgaW52YXJpYW50KHJvdXRlLCBgdXNlRmV0Y2hlciBtdXN0IGJlIHVzZWQgaW5zaWRlIGEgUm91dGVDb250ZXh0YCk7XG4gIGludmFyaWFudChcbiAgICByb3V0ZUlkICE9IG51bGwsXG4gICAgYHVzZUZldGNoZXIgY2FuIG9ubHkgYmUgdXNlZCBvbiByb3V0ZXMgdGhhdCBjb250YWluIGEgdW5pcXVlIFwiaWRcImBcbiAgKTtcbiAgbGV0IGRlZmF1bHRLZXkgPSBSZWFjdDEwLnVzZUlkKCk7XG4gIGxldCBbZmV0Y2hlcktleSwgc2V0RmV0Y2hlcktleV0gPSBSZWFjdDEwLnVzZVN0YXRlKGtleSB8fCBkZWZhdWx0S2V5KTtcbiAgaWYgKGtleSAmJiBrZXkgIT09IGZldGNoZXJLZXkpIHtcbiAgICBzZXRGZXRjaGVyS2V5KGtleSk7XG4gIH1cbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJvdXRlci5nZXRGZXRjaGVyKGZldGNoZXJLZXkpO1xuICAgIHJldHVybiAoKSA9PiByb3V0ZXIuZGVsZXRlRmV0Y2hlcihmZXRjaGVyS2V5KTtcbiAgfSwgW3JvdXRlciwgZmV0Y2hlcktleV0pO1xuICBsZXQgbG9hZCA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKGhyZWYyLCBvcHRzKSA9PiB7XG4gICAgICBpbnZhcmlhbnQocm91dGVJZCwgXCJObyByb3V0ZUlkIGF2YWlsYWJsZSBmb3IgZmV0Y2hlci5sb2FkKClcIik7XG4gICAgICBhd2FpdCByb3V0ZXIuZmV0Y2goZmV0Y2hlcktleSwgcm91dGVJZCwgaHJlZjIsIG9wdHMpO1xuICAgIH0sXG4gICAgW2ZldGNoZXJLZXksIHJvdXRlSWQsIHJvdXRlcl1cbiAgKTtcbiAgbGV0IHN1Ym1pdEltcGwgPSB1c2VTdWJtaXQoKTtcbiAgbGV0IHN1Ym1pdCA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRhcmdldCwgb3B0cykgPT4ge1xuICAgICAgYXdhaXQgc3VibWl0SW1wbCh0YXJnZXQsIHtcbiAgICAgICAgLi4ub3B0cyxcbiAgICAgICAgbmF2aWdhdGU6IGZhbHNlLFxuICAgICAgICBmZXRjaGVyS2V5XG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtmZXRjaGVyS2V5LCBzdWJtaXRJbXBsXVxuICApO1xuICBsZXQgRmV0Y2hlckZvcm0gPSBSZWFjdDEwLnVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBGZXRjaGVyRm9ybTIgPSBSZWFjdDEwLmZvcndhcmRSZWYoXG4gICAgICAocHJvcHMsIHJlZikgPT4ge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChGb3JtLCB7IC4uLnByb3BzLCBuYXZpZ2F0ZTogZmFsc2UsIGZldGNoZXJLZXksIHJlZiB9KTtcbiAgICAgIH1cbiAgICApO1xuICAgIEZldGNoZXJGb3JtMi5kaXNwbGF5TmFtZSA9IFwiZmV0Y2hlci5Gb3JtXCI7XG4gICAgcmV0dXJuIEZldGNoZXJGb3JtMjtcbiAgfSwgW2ZldGNoZXJLZXldKTtcbiAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoZmV0Y2hlcktleSkgfHwgSURMRV9GRVRDSEVSO1xuICBsZXQgZGF0YTIgPSBmZXRjaGVyRGF0YS5nZXQoZmV0Y2hlcktleSk7XG4gIGxldCBmZXRjaGVyV2l0aENvbXBvbmVudHMgPSBSZWFjdDEwLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIEZvcm06IEZldGNoZXJGb3JtLFxuICAgICAgc3VibWl0LFxuICAgICAgbG9hZCxcbiAgICAgIC4uLmZldGNoZXIsXG4gICAgICBkYXRhOiBkYXRhMlxuICAgIH0pLFxuICAgIFtGZXRjaGVyRm9ybSwgc3VibWl0LCBsb2FkLCBmZXRjaGVyLCBkYXRhMl1cbiAgKTtcbiAgcmV0dXJuIGZldGNoZXJXaXRoQ29tcG9uZW50cztcbn1cbmZ1bmN0aW9uIHVzZUZldGNoZXJzKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUyKFwidXNlRmV0Y2hlcnNcIiAvKiBVc2VGZXRjaGVycyAqLyk7XG4gIHJldHVybiBBcnJheS5mcm9tKHN0YXRlLmZldGNoZXJzLmVudHJpZXMoKSkubWFwKChba2V5LCBmZXRjaGVyXSkgPT4gKHtcbiAgICAuLi5mZXRjaGVyLFxuICAgIGtleVxuICB9KSk7XG59XG52YXIgU0NST0xMX1JFU1RPUkFUSU9OX1NUT1JBR0VfS0VZID0gXCJyZWFjdC1yb3V0ZXItc2Nyb2xsLXBvc2l0aW9uc1wiO1xudmFyIHNhdmVkU2Nyb2xsUG9zaXRpb25zID0ge307XG5mdW5jdGlvbiBnZXRTY3JvbGxSZXN0b3JhdGlvbktleShsb2NhdGlvbiwgbWF0Y2hlcywgYmFzZW5hbWUsIGdldEtleSkge1xuICBsZXQga2V5ID0gbnVsbDtcbiAgaWYgKGdldEtleSkge1xuICAgIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICAgIGtleSA9IGdldEtleShcbiAgICAgICAge1xuICAgICAgICAgIC4uLmxvY2F0aW9uLFxuICAgICAgICAgIHBhdGhuYW1lOiBzdHJpcEJhc2VuYW1lKGxvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgbWF0Y2hlc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5ID0gZ2V0S2V5KGxvY2F0aW9uLCBtYXRjaGVzKTtcbiAgICB9XG4gIH1cbiAgaWYgKGtleSA9PSBudWxsKSB7XG4gICAga2V5ID0gbG9jYXRpb24ua2V5O1xuICB9XG4gIHJldHVybiBrZXk7XG59XG5mdW5jdGlvbiB1c2VTY3JvbGxSZXN0b3JhdGlvbih7XG4gIGdldEtleSxcbiAgc3RvcmFnZUtleVxufSA9IHt9KSB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQzKFwidXNlU2Nyb2xsUmVzdG9yYXRpb25cIiAvKiBVc2VTY3JvbGxSZXN0b3JhdGlvbiAqLyk7XG4gIGxldCB7IHJlc3RvcmVTY3JvbGxQb3NpdGlvbiwgcHJldmVudFNjcm9sbFJlc2V0IH0gPSB1c2VEYXRhUm91dGVyU3RhdGUyKFxuICAgIFwidXNlU2Nyb2xsUmVzdG9yYXRpb25cIiAvKiBVc2VTY3JvbGxSZXN0b3JhdGlvbiAqL1xuICApO1xuICBsZXQgeyBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IG1hdGNoZXMgPSB1c2VNYXRjaGVzKCk7XG4gIGxldCBuYXZpZ2F0aW9uID0gdXNlTmF2aWdhdGlvbigpO1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgd2luZG93Lmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcIm1hbnVhbFwiO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cuaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IFwiYXV0b1wiO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgdXNlUGFnZUhpZGUoXG4gICAgUmVhY3QxMC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBpZiAobmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJpZGxlXCIpIHtcbiAgICAgICAgbGV0IGtleSA9IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KGxvY2F0aW9uLCBtYXRjaGVzLCBiYXNlbmFtZSwgZ2V0S2V5KTtcbiAgICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnNba2V5XSA9IHdpbmRvdy5zY3JvbGxZO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgICBzdG9yYWdlS2V5IHx8IFNDUk9MTF9SRVNUT1JBVElPTl9TVE9SQUdFX0tFWSxcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShzYXZlZFNjcm9sbFBvc2l0aW9ucylcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgYEZhaWxlZCB0byBzYXZlIHNjcm9sbCBwb3NpdGlvbnMgaW4gc2Vzc2lvblN0b3JhZ2UsIDxTY3JvbGxSZXN0b3JhdGlvbiAvPiB3aWxsIG5vdCB3b3JrIHByb3Blcmx5ICgke2Vycm9yfSkuYFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgd2luZG93Lmhpc3Rvcnkuc2Nyb2xsUmVzdG9yYXRpb24gPSBcImF1dG9cIjtcbiAgICB9LCBbbmF2aWdhdGlvbi5zdGF0ZSwgZ2V0S2V5LCBiYXNlbmFtZSwgbG9jYXRpb24sIG1hdGNoZXMsIHN0b3JhZ2VLZXldKVxuICApO1xuICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHNlc3Npb25Qb3NpdGlvbnMgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFxuICAgICAgICAgIHN0b3JhZ2VLZXkgfHwgU0NST0xMX1JFU1RPUkFUSU9OX1NUT1JBR0VfS0VZXG4gICAgICAgICk7XG4gICAgICAgIGlmIChzZXNzaW9uUG9zaXRpb25zKSB7XG4gICAgICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMgPSBKU09OLnBhcnNlKHNlc3Npb25Qb3NpdGlvbnMpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfSwgW3N0b3JhZ2VLZXldKTtcbiAgICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBsZXQgZGlzYWJsZVNjcm9sbFJlc3RvcmF0aW9uID0gcm91dGVyPy5lbmFibGVTY3JvbGxSZXN0b3JhdGlvbihcbiAgICAgICAgc2F2ZWRTY3JvbGxQb3NpdGlvbnMsXG4gICAgICAgICgpID0+IHdpbmRvdy5zY3JvbGxZLFxuICAgICAgICBnZXRLZXkgPyAobG9jYXRpb24yLCBtYXRjaGVzMikgPT4gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkobG9jYXRpb24yLCBtYXRjaGVzMiwgYmFzZW5hbWUsIGdldEtleSkgOiB2b2lkIDBcbiAgICAgICk7XG4gICAgICByZXR1cm4gKCkgPT4gZGlzYWJsZVNjcm9sbFJlc3RvcmF0aW9uICYmIGRpc2FibGVTY3JvbGxSZXN0b3JhdGlvbigpO1xuICAgIH0sIFtyb3V0ZXIsIGJhc2VuYW1lLCBnZXRLZXldKTtcbiAgICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAocmVzdG9yZVNjcm9sbFBvc2l0aW9uID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHJlc3RvcmVTY3JvbGxQb3NpdGlvbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgcmVzdG9yZVNjcm9sbFBvc2l0aW9uKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgICAgbGV0IGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXG4gICAgICAgICAgZGVjb2RlVVJJQ29tcG9uZW50KGxvY2F0aW9uLmhhc2guc2xpY2UoMSkpXG4gICAgICAgICk7XG4gICAgICAgIGlmIChlbCkge1xuICAgICAgICAgIGVsLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJldmVudFNjcm9sbFJlc2V0ID09PSB0cnVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcbiAgICB9LCBbbG9jYXRpb24sIHJlc3RvcmVTY3JvbGxQb3NpdGlvbiwgcHJldmVudFNjcm9sbFJlc2V0XSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZUJlZm9yZVVubG9hZChjYWxsYmFjaywgb3B0aW9ucykge1xuICBsZXQgeyBjYXB0dXJlIH0gPSBvcHRpb25zIHx8IHt9O1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG9wdHMgPSBjYXB0dXJlICE9IG51bGwgPyB7IGNhcHR1cmUgfSA6IHZvaWQgMDtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICB9O1xuICB9LCBbY2FsbGJhY2ssIGNhcHR1cmVdKTtcbn1cbmZ1bmN0aW9uIHVzZVBhZ2VIaWRlKGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gIGxldCB7IGNhcHR1cmUgfSA9IG9wdGlvbnMgfHwge307XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgb3B0cyA9IGNhcHR1cmUgIT0gbnVsbCA/IHsgY2FwdHVyZSB9IDogdm9pZCAwO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICB9O1xuICB9LCBbY2FsbGJhY2ssIGNhcHR1cmVdKTtcbn1cbmZ1bmN0aW9uIHVzZVByb21wdCh7XG4gIHdoZW4sXG4gIG1lc3NhZ2Vcbn0pIHtcbiAgbGV0IGJsb2NrZXIgPSB1c2VCbG9ja2VyKHdoZW4pO1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiKSB7XG4gICAgICBsZXQgcHJvY2VlZCA9IHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpO1xuICAgICAgaWYgKHByb2NlZWQpIHtcbiAgICAgICAgc2V0VGltZW91dChibG9ja2VyLnByb2NlZWQsIDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmxvY2tlci5yZXNldCgpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2Jsb2NrZXIsIG1lc3NhZ2VdKTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChibG9ja2VyLnN0YXRlID09PSBcImJsb2NrZWRcIiAmJiAhd2hlbikge1xuICAgICAgYmxvY2tlci5yZXNldCgpO1xuICAgIH1cbiAgfSwgW2Jsb2NrZXIsIHdoZW5dKTtcbn1cbmZ1bmN0aW9uIHVzZVZpZXdUcmFuc2l0aW9uU3RhdGUodG8sIG9wdHMgPSB7fSkge1xuICBsZXQgdnRDb250ZXh0ID0gUmVhY3QxMC51c2VDb250ZXh0KFZpZXdUcmFuc2l0aW9uQ29udGV4dCk7XG4gIGludmFyaWFudChcbiAgICB2dENvbnRleHQgIT0gbnVsbCxcbiAgICBcImB1c2VWaWV3VHJhbnNpdGlvblN0YXRlYCBtdXN0IGJlIHVzZWQgd2l0aGluIGByZWFjdC1yb3V0ZXItZG9tYCdzIGBSb3V0ZXJQcm92aWRlcmAuICBEaWQgeW91IGFjY2lkZW50YWxseSBpbXBvcnQgYFJvdXRlclByb3ZpZGVyYCBmcm9tIGByZWFjdC1yb3V0ZXJgP1wiXG4gICk7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDMoXG4gICAgXCJ1c2VWaWV3VHJhbnNpdGlvblN0YXRlXCIgLyogdXNlVmlld1RyYW5zaXRpb25TdGF0ZSAqL1xuICApO1xuICBsZXQgcGF0aCA9IHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZTogb3B0cy5yZWxhdGl2ZSB9KTtcbiAgaWYgKCF2dENvbnRleHQuaXNUcmFuc2l0aW9uaW5nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBjdXJyZW50UGF0aCA9IHN0cmlwQmFzZW5hbWUodnRDb250ZXh0LmN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IHZ0Q29udGV4dC5jdXJyZW50TG9jYXRpb24ucGF0aG5hbWU7XG4gIGxldCBuZXh0UGF0aCA9IHN0cmlwQmFzZW5hbWUodnRDb250ZXh0Lm5leHRMb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IHZ0Q29udGV4dC5uZXh0TG9jYXRpb24ucGF0aG5hbWU7XG4gIHJldHVybiBtYXRjaFBhdGgocGF0aC5wYXRobmFtZSwgbmV4dFBhdGgpICE9IG51bGwgfHwgbWF0Y2hQYXRoKHBhdGgucGF0aG5hbWUsIGN1cnJlbnRQYXRoKSAhPSBudWxsO1xufVxuXG4vLyBsaWIvZG9tL3NlcnZlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTEgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdGF0aWNSb3V0ZXIoe1xuICBiYXNlbmFtZSxcbiAgY2hpbGRyZW4sXG4gIGxvY2F0aW9uOiBsb2NhdGlvblByb3AgPSBcIi9cIlxufSkge1xuICBpZiAodHlwZW9mIGxvY2F0aW9uUHJvcCA9PT0gXCJzdHJpbmdcIikge1xuICAgIGxvY2F0aW9uUHJvcCA9IHBhcnNlUGF0aChsb2NhdGlvblByb3ApO1xuICB9XG4gIGxldCBhY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgbGV0IGxvY2F0aW9uID0ge1xuICAgIHBhdGhuYW1lOiBsb2NhdGlvblByb3AucGF0aG5hbWUgfHwgXCIvXCIsXG4gICAgc2VhcmNoOiBsb2NhdGlvblByb3Auc2VhcmNoIHx8IFwiXCIsXG4gICAgaGFzaDogbG9jYXRpb25Qcm9wLmhhc2ggfHwgXCJcIixcbiAgICBzdGF0ZTogbG9jYXRpb25Qcm9wLnN0YXRlICE9IG51bGwgPyBsb2NhdGlvblByb3Auc3RhdGUgOiBudWxsLFxuICAgIGtleTogbG9jYXRpb25Qcm9wLmtleSB8fCBcImRlZmF1bHRcIlxuICB9O1xuICBsZXQgc3RhdGljTmF2aWdhdG9yID0gZ2V0U3RhdGVsZXNzTmF2aWdhdG9yKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBzdGF0aWNOYXZpZ2F0b3IsXG4gICAgICBzdGF0aWM6IHRydWVcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBTdGF0aWNSb3V0ZXJQcm92aWRlcih7XG4gIGNvbnRleHQsXG4gIHJvdXRlcixcbiAgaHlkcmF0ZSA9IHRydWUsXG4gIG5vbmNlXG59KSB7XG4gIGludmFyaWFudChcbiAgICByb3V0ZXIgJiYgY29udGV4dCxcbiAgICBcIllvdSBtdXN0IHByb3ZpZGUgYHJvdXRlcmAgYW5kIGBjb250ZXh0YCB0byA8U3RhdGljUm91dGVyUHJvdmlkZXI+XCJcbiAgKTtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0ge1xuICAgIHJvdXRlcixcbiAgICBuYXZpZ2F0b3I6IGdldFN0YXRlbGVzc05hdmlnYXRvcigpLFxuICAgIHN0YXRpYzogdHJ1ZSxcbiAgICBzdGF0aWNDb250ZXh0OiBjb250ZXh0LFxuICAgIGJhc2VuYW1lOiBjb250ZXh0LmJhc2VuYW1lIHx8IFwiL1wiXG4gIH07XG4gIGxldCBmZXRjaGVyc0NvbnRleHQgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgaHlkcmF0ZVNjcmlwdCA9IFwiXCI7XG4gIGlmIChoeWRyYXRlICE9PSBmYWxzZSkge1xuICAgIGxldCBkYXRhMiA9IHtcbiAgICAgIGxvYWRlckRhdGE6IGNvbnRleHQubG9hZGVyRGF0YSxcbiAgICAgIGFjdGlvbkRhdGE6IGNvbnRleHQuYWN0aW9uRGF0YSxcbiAgICAgIGVycm9yczogc2VyaWFsaXplRXJyb3JzKGNvbnRleHQuZXJyb3JzKVxuICAgIH07XG4gICAgbGV0IGpzb24gPSBodG1sRXNjYXBlKEpTT04uc3RyaW5naWZ5KEpTT04uc3RyaW5naWZ5KGRhdGEyKSkpO1xuICAgIGh5ZHJhdGVTY3JpcHQgPSBgd2luZG93Ll9fc3RhdGljUm91dGVySHlkcmF0aW9uRGF0YSA9IEpTT04ucGFyc2UoJHtqc29ufSk7YDtcbiAgfVxuICBsZXQgeyBzdGF0ZSB9ID0gZGF0YVJvdXRlckNvbnRleHQucm91dGVyO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChSZWFjdDExLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KERhdGFSb3V0ZXJDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBkYXRhUm91dGVyQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHN0YXRlIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoRmV0Y2hlcnNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBmZXRjaGVyc0NvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChWaWV3VHJhbnNpdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgaXNUcmFuc2l0aW9uaW5nOiBmYWxzZSB9IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lOiBkYXRhUm91dGVyQ29udGV4dC5iYXNlbmFtZSxcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBzdGF0ZS5oaXN0b3J5QWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBkYXRhUm91dGVyQ29udGV4dC5uYXZpZ2F0b3IsXG4gICAgICBzdGF0aWM6IGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpY1xuICAgIH0sXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcbiAgICAgIERhdGFSb3V0ZXMyLFxuICAgICAge1xuICAgICAgICByb3V0ZXM6IHJvdXRlci5yb3V0ZXMsXG4gICAgICAgIGZ1dHVyZTogcm91dGVyLmZ1dHVyZSxcbiAgICAgICAgc3RhdGVcbiAgICAgIH1cbiAgICApXG4gICkpKSkpLCBoeWRyYXRlU2NyaXB0ID8gLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcbiAgICBcInNjcmlwdFwiLFxuICAgIHtcbiAgICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZSxcbiAgICAgIG5vbmNlLFxuICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBoeWRyYXRlU2NyaXB0IH1cbiAgICB9XG4gICkgOiBudWxsKTtcbn1cbmZ1bmN0aW9uIERhdGFSb3V0ZXMyKHtcbiAgcm91dGVzLFxuICBmdXR1cmUsXG4gIHN0YXRlXG59KSB7XG4gIHJldHVybiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgdm9pZCAwLCBzdGF0ZSwgZnV0dXJlKTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUVycm9ycyhlcnJvcnMpIHtcbiAgaWYgKCFlcnJvcnMpIHJldHVybiBudWxsO1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVycm9ycyk7XG4gIGxldCBzZXJpYWxpemVkID0ge307XG4gIGZvciAobGV0IFtrZXksIHZhbF0gb2YgZW50cmllcykge1xuICAgIGlmIChpc1JvdXRlRXJyb3JSZXNwb25zZSh2YWwpKSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB7IC4uLnZhbCwgX190eXBlOiBcIlJvdXRlRXJyb3JSZXNwb25zZVwiIH07XG4gICAgfSBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0ge1xuICAgICAgICBtZXNzYWdlOiB2YWwubWVzc2FnZSxcbiAgICAgICAgX190eXBlOiBcIkVycm9yXCIsXG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBzdWJjbGFzcyAoaS5lLiwgUmVmZXJlbmNlRXJyb3IpLCBzZW5kIHVwIHRoZSB0eXBlIHNvIHdlXG4gICAgICAgIC8vIGNhbiByZS1jcmVhdGUgdGhlIHNhbWUgdHlwZSBkdXJpbmcgaHlkcmF0aW9uLlxuICAgICAgICAuLi52YWwubmFtZSAhPT0gXCJFcnJvclwiID8ge1xuICAgICAgICAgIF9fc3ViVHlwZTogdmFsLm5hbWVcbiAgICAgICAgfSA6IHt9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZXJpYWxpemVkO1xufVxuZnVuY3Rpb24gZ2V0U3RhdGVsZXNzTmF2aWdhdG9yKCkge1xuICByZXR1cm4ge1xuICAgIGNyZWF0ZUhyZWYsXG4gICAgZW5jb2RlTG9jYXRpb24sXG4gICAgcHVzaCh0bykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLnB1c2goKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuIFRoaXMgZXJyb3Igd2FzIHByb2JhYmx5IHRyaWdnZXJlZCB3aGVuIHlvdSBkaWQgYSBcXGBuYXZpZ2F0ZSgke0pTT04uc3RyaW5naWZ5KHRvKX0pXFxgIHNvbWV3aGVyZSBpbiB5b3VyIGFwcC5gXG4gICAgICApO1xuICAgIH0sXG4gICAgcmVwbGFjZSh0bykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLnJlcGxhY2UoKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuIFRoaXMgZXJyb3Igd2FzIHByb2JhYmx5IHRyaWdnZXJlZCB3aGVuIHlvdSBkaWQgYSBcXGBuYXZpZ2F0ZSgke0pTT04uc3RyaW5naWZ5KHRvKX0sIHsgcmVwbGFjZTogdHJ1ZSB9KVxcYCBzb21ld2hlcmUgaW4geW91ciBhcHAuYFxuICAgICAgKTtcbiAgICB9LFxuICAgIGdvKGRlbHRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IuZ28oKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuIFRoaXMgZXJyb3Igd2FzIHByb2JhYmx5IHRyaWdnZXJlZCB3aGVuIHlvdSBkaWQgYSBcXGBuYXZpZ2F0ZSgke2RlbHRhfSlcXGAgc29tZXdoZXJlIGluIHlvdXIgYXBwLmBcbiAgICAgICk7XG4gICAgfSxcbiAgICBiYWNrKCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgWW91IGNhbm5vdCB1c2UgbmF2aWdhdG9yLmJhY2soKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnQuYFxuICAgICAgKTtcbiAgICB9LFxuICAgIGZvcndhcmQoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IuZm9yd2FyZCgpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC5gXG4gICAgICApO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY0hhbmRsZXIyKHJvdXRlcywgb3B0cykge1xuICByZXR1cm4gY3JlYXRlU3RhdGljSGFuZGxlcihyb3V0ZXMsIHtcbiAgICAuLi5vcHRzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllc1xuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRpY1JvdXRlcihyb3V0ZXMsIGNvbnRleHQsIG9wdHMgPSB7fSkge1xuICBsZXQgbWFuaWZlc3QgPSB7fTtcbiAgbGV0IGRhdGFSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgdm9pZCAwLFxuICAgIG1hbmlmZXN0XG4gICk7XG4gIGxldCBtYXRjaGVzID0gY29udGV4dC5tYXRjaGVzLm1hcCgobWF0Y2gpID0+IHtcbiAgICBsZXQgcm91dGUgPSBtYW5pZmVzdFttYXRjaC5yb3V0ZS5pZF0gfHwgbWF0Y2gucm91dGU7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm1hdGNoLFxuICAgICAgcm91dGVcbiAgICB9O1xuICB9KTtcbiAgbGV0IG1zZyA9IChtZXRob2QpID0+IGBZb3UgY2Fubm90IHVzZSByb3V0ZXIuJHttZXRob2R9KCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50YDtcbiAgcmV0dXJuIHtcbiAgICBnZXQgYmFzZW5hbWUoKSB7XG4gICAgICByZXR1cm4gY29udGV4dC5iYXNlbmFtZTtcbiAgICB9LFxuICAgIGdldCBmdXR1cmUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiBmYWxzZSxcbiAgICAgICAgLi4ub3B0cz8uZnV0dXJlXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaGlzdG9yeUFjdGlvbjogXCJQT1BcIiAvKiBQb3AgKi8sXG4gICAgICAgIGxvY2F0aW9uOiBjb250ZXh0LmxvY2F0aW9uLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhOiBjb250ZXh0LmxvYWRlckRhdGEsXG4gICAgICAgIGFjdGlvbkRhdGE6IGNvbnRleHQuYWN0aW9uRGF0YSxcbiAgICAgICAgZXJyb3JzOiBjb250ZXh0LmVycm9ycyxcbiAgICAgICAgaW5pdGlhbGl6ZWQ6IHRydWUsXG4gICAgICAgIG5hdmlnYXRpb246IElETEVfTkFWSUdBVElPTixcbiAgICAgICAgcmVzdG9yZVNjcm9sbFBvc2l0aW9uOiBudWxsLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IGZhbHNlLFxuICAgICAgICByZXZhbGlkYXRpb246IFwiaWRsZVwiLFxuICAgICAgICBmZXRjaGVyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgICAgYmxvY2tlcnM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXQgcm91dGVzKCkge1xuICAgICAgcmV0dXJuIGRhdGFSb3V0ZXM7XG4gICAgfSxcbiAgICBnZXQgd2luZG93KCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9LFxuICAgIGluaXRpYWxpemUoKSB7XG4gICAgICB0aHJvdyBtc2coXCJpbml0aWFsaXplXCIpO1xuICAgIH0sXG4gICAgc3Vic2NyaWJlKCkge1xuICAgICAgdGhyb3cgbXNnKFwic3Vic2NyaWJlXCIpO1xuICAgIH0sXG4gICAgZW5hYmxlU2Nyb2xsUmVzdG9yYXRpb24oKSB7XG4gICAgICB0aHJvdyBtc2coXCJlbmFibGVTY3JvbGxSZXN0b3JhdGlvblwiKTtcbiAgICB9LFxuICAgIG5hdmlnYXRlKCkge1xuICAgICAgdGhyb3cgbXNnKFwibmF2aWdhdGVcIik7XG4gICAgfSxcbiAgICBmZXRjaCgpIHtcbiAgICAgIHRocm93IG1zZyhcImZldGNoXCIpO1xuICAgIH0sXG4gICAgcmV2YWxpZGF0ZSgpIHtcbiAgICAgIHRocm93IG1zZyhcInJldmFsaWRhdGVcIik7XG4gICAgfSxcbiAgICBjcmVhdGVIcmVmLFxuICAgIGVuY29kZUxvY2F0aW9uLFxuICAgIGdldEZldGNoZXIoKSB7XG4gICAgICByZXR1cm4gSURMRV9GRVRDSEVSO1xuICAgIH0sXG4gICAgZGVsZXRlRmV0Y2hlcigpIHtcbiAgICAgIHRocm93IG1zZyhcImRlbGV0ZUZldGNoZXJcIik7XG4gICAgfSxcbiAgICBkaXNwb3NlKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZGlzcG9zZVwiKTtcbiAgICB9LFxuICAgIGdldEJsb2NrZXIoKSB7XG4gICAgICByZXR1cm4gSURMRV9CTE9DS0VSO1xuICAgIH0sXG4gICAgZGVsZXRlQmxvY2tlcigpIHtcbiAgICAgIHRocm93IG1zZyhcImRlbGV0ZUJsb2NrZXJcIik7XG4gICAgfSxcbiAgICBwYXRjaFJvdXRlcygpIHtcbiAgICAgIHRocm93IG1zZyhcInBhdGNoUm91dGVzXCIpO1xuICAgIH0sXG4gICAgX2ludGVybmFsRmV0Y2hDb250cm9sbGVyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICBfaW50ZXJuYWxTZXRSb3V0ZXMoKSB7XG4gICAgICB0aHJvdyBtc2coXCJfaW50ZXJuYWxTZXRSb3V0ZXNcIik7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSHJlZih0bykge1xuICByZXR1cm4gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbn1cbmZ1bmN0aW9uIGVuY29kZUxvY2F0aW9uKHRvKSB7XG4gIGxldCBocmVmMiA9IHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gIGhyZWYyID0gaHJlZjIucmVwbGFjZSgvICQvLCBcIiUyMFwiKTtcbiAgbGV0IGVuY29kZWQgPSBBQlNPTFVURV9VUkxfUkVHRVgzLnRlc3QoaHJlZjIpID8gbmV3IFVSTChocmVmMikgOiBuZXcgVVJMKGhyZWYyLCBcImh0dHA6Ly9sb2NhbGhvc3RcIik7XG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IGVuY29kZWQucGF0aG5hbWUsXG4gICAgc2VhcmNoOiBlbmNvZGVkLnNlYXJjaCxcbiAgICBoYXNoOiBlbmNvZGVkLmhhc2hcbiAgfTtcbn1cbnZhciBBQlNPTFVURV9VUkxfUkVHRVgzID0gL14oPzpbYS16XVthLXowLTkrLi1dKjp8XFwvXFwvKS9pO1xudmFyIEVTQ0FQRV9MT09LVVAyID0ge1xuICBcIiZcIjogXCJcXFxcdTAwMjZcIixcbiAgXCI+XCI6IFwiXFxcXHUwMDNlXCIsXG4gIFwiPFwiOiBcIlxcXFx1MDAzY1wiLFxuICBcIlxcdTIwMjhcIjogXCJcXFxcdTIwMjhcIixcbiAgXCJcXHUyMDI5XCI6IFwiXFxcXHUyMDI5XCJcbn07XG52YXIgRVNDQVBFX1JFR0VYMiA9IC9bJj48XFx1MjAyOFxcdTIwMjldL2c7XG5mdW5jdGlvbiBodG1sRXNjYXBlKHN0cikge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoRVNDQVBFX1JFR0VYMiwgKG1hdGNoKSA9PiBFU0NBUEVfTE9PS1VQMlttYXRjaF0pO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9zZXJ2ZXIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEyIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU2VydmVyUm91dGVyKHtcbiAgY29udGV4dCxcbiAgdXJsLFxuICBub25jZVxufSkge1xuICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIikge1xuICAgIHVybCA9IG5ldyBVUkwodXJsKTtcbiAgfVxuICBsZXQgeyBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBjcml0aWNhbENzcywgc2VydmVySGFuZG9mZlN0cmluZyB9ID0gY29udGV4dDtcbiAgbGV0IHJvdXRlcyA9IGNyZWF0ZVNlcnZlclJvdXRlcyhcbiAgICBtYW5pZmVzdC5yb3V0ZXMsXG4gICAgcm91dGVNb2R1bGVzLFxuICAgIGNvbnRleHQuZnV0dXJlLFxuICAgIGNvbnRleHQuaXNTcGFNb2RlXG4gICk7XG4gIGNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQubG9hZGVyRGF0YSA9IHtcbiAgICAuLi5jb250ZXh0LnN0YXRpY0hhbmRsZXJDb250ZXh0LmxvYWRlckRhdGFcbiAgfTtcbiAgZm9yIChsZXQgbWF0Y2ggb2YgY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dC5tYXRjaGVzKSB7XG4gICAgbGV0IHJvdXRlSWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICBsZXQgcm91dGUgPSByb3V0ZU1vZHVsZXNbcm91dGVJZF07XG4gICAgbGV0IG1hbmlmZXN0Um91dGUgPSBjb250ZXh0Lm1hbmlmZXN0LnJvdXRlc1tyb3V0ZUlkXTtcbiAgICBpZiAocm91dGUgJiYgbWFuaWZlc3RSb3V0ZSAmJiBzaG91bGRIeWRyYXRlUm91dGVMb2FkZXIobWFuaWZlc3RSb3V0ZSwgcm91dGUsIGNvbnRleHQuaXNTcGFNb2RlKSAmJiAocm91dGUuSHlkcmF0ZUZhbGxiYWNrIHx8ICFtYW5pZmVzdFJvdXRlLmhhc0xvYWRlcikpIHtcbiAgICAgIGRlbGV0ZSBjb250ZXh0LnN0YXRpY0hhbmRsZXJDb250ZXh0LmxvYWRlckRhdGFbcm91dGVJZF07XG4gICAgfVxuICB9XG4gIGxldCByb3V0ZXIgPSBjcmVhdGVTdGF0aWNSb3V0ZXIocm91dGVzLCBjb250ZXh0LnN0YXRpY0hhbmRsZXJDb250ZXh0KTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMi5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcbiAgICBGcmFtZXdvcmtDb250ZXh0LlByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICByb3V0ZU1vZHVsZXMsXG4gICAgICAgIGNyaXRpY2FsQ3NzLFxuICAgICAgICBzZXJ2ZXJIYW5kb2ZmU3RyaW5nLFxuICAgICAgICBmdXR1cmU6IGNvbnRleHQuZnV0dXJlLFxuICAgICAgICBzc3I6IGNvbnRleHQuc3NyLFxuICAgICAgICBpc1NwYU1vZGU6IGNvbnRleHQuaXNTcGFNb2RlLFxuICAgICAgICBzZXJpYWxpemVFcnJvcjogY29udGV4dC5zZXJpYWxpemVFcnJvcixcbiAgICAgICAgcmVuZGVyTWV0YTogY29udGV4dC5yZW5kZXJNZXRhXG4gICAgICB9XG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFJlbWl4RXJyb3JCb3VuZGFyeSwgeyBsb2NhdGlvbjogcm91dGVyLnN0YXRlLmxvY2F0aW9uIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBTdGF0aWNSb3V0ZXJQcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgcm91dGVyLFxuICAgICAgICBjb250ZXh0OiBjb250ZXh0LnN0YXRpY0hhbmRsZXJDb250ZXh0LFxuICAgICAgICBoeWRyYXRlOiBmYWxzZVxuICAgICAgfVxuICAgICkpXG4gICksIGNvbnRleHQuc2VydmVySGFuZG9mZlN0cmVhbSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMi5TdXNwZW5zZSwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcbiAgICBTdHJlYW1UcmFuc2ZlcixcbiAgICB7XG4gICAgICBjb250ZXh0LFxuICAgICAgaWRlbnRpZmllcjogMCxcbiAgICAgIHJlYWRlcjogY29udGV4dC5zZXJ2ZXJIYW5kb2ZmU3RyZWFtLmdldFJlYWRlcigpLFxuICAgICAgdGV4dERlY29kZXI6IG5ldyBUZXh0RGVjb2RlcigpLFxuICAgICAgbm9uY2VcbiAgICB9XG4gICkpIDogbnVsbCk7XG59XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlcy10ZXN0LXN0dWIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEzIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gY3JlYXRlUm91dGVzU3R1Yihyb3V0ZXMsIHVuc3RhYmxlX2dldENvbnRleHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIFJvdXRlc1Rlc3RTdHViKHtcbiAgICBpbml0aWFsRW50cmllcyxcbiAgICBpbml0aWFsSW5kZXgsXG4gICAgaHlkcmF0aW9uRGF0YSxcbiAgICBmdXR1cmVcbiAgfSkge1xuICAgIGxldCByb3V0ZXJSZWYgPSBSZWFjdDEzLnVzZVJlZigpO1xuICAgIGxldCByZW1peENvbnRleHRSZWYgPSBSZWFjdDEzLnVzZVJlZigpO1xuICAgIGlmIChyb3V0ZXJSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgICByZW1peENvbnRleHRSZWYuY3VycmVudCA9IHtcbiAgICAgICAgZnV0dXJlOiB7XG4gICAgICAgICAgdW5zdGFibGVfbWlkZGxld2FyZTogZnV0dXJlPy51bnN0YWJsZV9taWRkbGV3YXJlID09PSB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIG1hbmlmZXN0OiB7XG4gICAgICAgICAgcm91dGVzOiB7fSxcbiAgICAgICAgICBlbnRyeTogeyBpbXBvcnRzOiBbXSwgbW9kdWxlOiBcIlwiIH0sXG4gICAgICAgICAgdXJsOiBcIlwiLFxuICAgICAgICAgIHZlcnNpb246IFwiXCJcbiAgICAgICAgfSxcbiAgICAgICAgcm91dGVNb2R1bGVzOiB7fSxcbiAgICAgICAgc3NyOiBmYWxzZSxcbiAgICAgICAgaXNTcGFNb2RlOiBmYWxzZVxuICAgICAgfTtcbiAgICAgIGxldCBwYXRjaGVkID0gcHJvY2Vzc1JvdXRlcyhcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBgU3R1YlJvdXRlT2JqZWN0YCBpcyBzdHJpY3RlciBhYm91dCBgbG9hZGVyYC9gYWN0aW9uYFxuICAgICAgICAvLyB0eXBlcyBjb21wYXJlZCB0byBgQWdub3N0aWNSb3V0ZU9iamVjdGBcbiAgICAgICAgY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhyb3V0ZXMsIChyKSA9PiByKSxcbiAgICAgICAgcmVtaXhDb250ZXh0UmVmLmN1cnJlbnQubWFuaWZlc3QsXG4gICAgICAgIHJlbWl4Q29udGV4dFJlZi5jdXJyZW50LnJvdXRlTW9kdWxlc1xuICAgICAgKTtcbiAgICAgIHJvdXRlclJlZi5jdXJyZW50ID0gY3JlYXRlTWVtb3J5Um91dGVyKHBhdGNoZWQsIHtcbiAgICAgICAgdW5zdGFibGVfZ2V0Q29udGV4dCxcbiAgICAgICAgaW5pdGlhbEVudHJpZXMsXG4gICAgICAgIGluaXRpYWxJbmRleCxcbiAgICAgICAgaHlkcmF0aW9uRGF0YVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KEZyYW1ld29ya0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHJlbWl4Q29udGV4dFJlZi5jdXJyZW50IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoUm91dGVyUHJvdmlkZXIsIHsgcm91dGVyOiByb3V0ZXJSZWYuY3VycmVudCB9KSk7XG4gIH07XG59XG5mdW5jdGlvbiBwcm9jZXNzUm91dGVzKHJvdXRlcywgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgcGFyZW50SWQpIHtcbiAgcmV0dXJuIHJvdXRlcy5tYXAoKHJvdXRlKSA9PiB7XG4gICAgaWYgKCFyb3V0ZS5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkV4cGVjdGVkIGEgcm91dGUuaWQgaW4gQHJlbWl4LXJ1bi90ZXN0aW5nIHByb2Nlc3NSb3V0ZXMoKSBmdW5jdGlvblwiXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgbmV3Um91dGUgPSB7XG4gICAgICBpZDogcm91dGUuaWQsXG4gICAgICBwYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgaW5kZXg6IHJvdXRlLmluZGV4LFxuICAgICAgQ29tcG9uZW50OiByb3V0ZS5Db21wb25lbnQsXG4gICAgICBIeWRyYXRlRmFsbGJhY2s6IHJvdXRlLkh5ZHJhdGVGYWxsYmFjayxcbiAgICAgIEVycm9yQm91bmRhcnk6IHJvdXRlLkVycm9yQm91bmRhcnksXG4gICAgICBhY3Rpb246IHJvdXRlLmFjdGlvbixcbiAgICAgIGxvYWRlcjogcm91dGUubG9hZGVyLFxuICAgICAgaGFuZGxlOiByb3V0ZS5oYW5kbGUsXG4gICAgICBzaG91bGRSZXZhbGlkYXRlOiByb3V0ZS5zaG91bGRSZXZhbGlkYXRlXG4gICAgfTtcbiAgICBsZXQgZW50cnlSb3V0ZSA9IHtcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGgsXG4gICAgICBpbmRleDogcm91dGUuaW5kZXgsXG4gICAgICBwYXJlbnRJZCxcbiAgICAgIGhhc0FjdGlvbjogcm91dGUuYWN0aW9uICE9IG51bGwsXG4gICAgICBoYXNMb2FkZXI6IHJvdXRlLmxvYWRlciAhPSBudWxsLFxuICAgICAgLy8gV2hlbiB0ZXN0aW5nIHJvdXRlcywgeW91IHNob3VsZCBqdXN0IGJlIHN0dWJiaW5nIGxvYWRlci9hY3Rpb24sIG5vdFxuICAgICAgLy8gdHJ5aW5nIHRvIHJlLWltcGxlbWVudCB0aGUgZnVsbCBsb2FkZXIvY2xpZW50TG9hZGVyL1NTUi9oeWRyYXRpb24gZmxvdy5cbiAgICAgIC8vIFRoYXQgaXMgYmV0dGVyIHRlc3RlZCB2aWEgRTJFIHRlc3RzLlxuICAgICAgaGFzQ2xpZW50QWN0aW9uOiBmYWxzZSxcbiAgICAgIGhhc0NsaWVudExvYWRlcjogZmFsc2UsXG4gICAgICBoYXNFcnJvckJvdW5kYXJ5OiByb3V0ZS5FcnJvckJvdW5kYXJ5ICE9IG51bGwsXG4gICAgICAvLyBhbnkgbmVlZCBmb3IgdGhlc2U/XG4gICAgICBtb2R1bGU6IFwiYnVpbGQvc3R1Yi1wYXRoLXRvLW1vZHVsZS5qc1wiLFxuICAgICAgY2xpZW50QWN0aW9uTW9kdWxlOiB2b2lkIDAsXG4gICAgICBjbGllbnRMb2FkZXJNb2R1bGU6IHZvaWQgMCxcbiAgICAgIGh5ZHJhdGVGYWxsYmFja01vZHVsZTogdm9pZCAwXG4gICAgfTtcbiAgICBtYW5pZmVzdC5yb3V0ZXNbbmV3Um91dGUuaWRdID0gZW50cnlSb3V0ZTtcbiAgICByb3V0ZU1vZHVsZXNbcm91dGUuaWRdID0ge1xuICAgICAgZGVmYXVsdDogcm91dGUuQ29tcG9uZW50IHx8IE91dGxldCxcbiAgICAgIEVycm9yQm91bmRhcnk6IHJvdXRlLkVycm9yQm91bmRhcnkgfHwgdm9pZCAwLFxuICAgICAgaGFuZGxlOiByb3V0ZS5oYW5kbGUsXG4gICAgICBsaW5rczogcm91dGUubGlua3MsXG4gICAgICBtZXRhOiByb3V0ZS5tZXRhLFxuICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogcm91dGUuc2hvdWxkUmV2YWxpZGF0ZVxuICAgIH07XG4gICAgaWYgKHJvdXRlLmNoaWxkcmVuKSB7XG4gICAgICBuZXdSb3V0ZS5jaGlsZHJlbiA9IHByb2Nlc3NSb3V0ZXMoXG4gICAgICAgIHJvdXRlLmNoaWxkcmVuLFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgcm91dGVNb2R1bGVzLFxuICAgICAgICBuZXdSb3V0ZS5pZFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld1JvdXRlO1xuICB9KTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2Nvb2tpZXMudHNcbmltcG9ydCB7IHBhcnNlLCBzZXJpYWxpemUgfSBmcm9tIFwiY29va2llXCI7XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9jcnlwdG8udHNcbnZhciBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XG52YXIgc2lnbiA9IGFzeW5jICh2YWx1ZSwgc2VjcmV0KSA9PiB7XG4gIGxldCBkYXRhMiA9IGVuY29kZXIuZW5jb2RlKHZhbHVlKTtcbiAgbGV0IGtleSA9IGF3YWl0IGNyZWF0ZUtleTIoc2VjcmV0LCBbXCJzaWduXCJdKTtcbiAgbGV0IHNpZ25hdHVyZSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuc2lnbihcIkhNQUNcIiwga2V5LCBkYXRhMik7XG4gIGxldCBoYXNoID0gYnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlKC4uLm5ldyBVaW50OEFycmF5KHNpZ25hdHVyZSkpKS5yZXBsYWNlKFxuICAgIC89KyQvLFxuICAgIFwiXCJcbiAgKTtcbiAgcmV0dXJuIHZhbHVlICsgXCIuXCIgKyBoYXNoO1xufTtcbnZhciB1bnNpZ24gPSBhc3luYyAoY29va2llLCBzZWNyZXQpID0+IHtcbiAgbGV0IGluZGV4ID0gY29va2llLmxhc3RJbmRleE9mKFwiLlwiKTtcbiAgbGV0IHZhbHVlID0gY29va2llLnNsaWNlKDAsIGluZGV4KTtcbiAgbGV0IGhhc2ggPSBjb29raWUuc2xpY2UoaW5kZXggKyAxKTtcbiAgbGV0IGRhdGEyID0gZW5jb2Rlci5lbmNvZGUodmFsdWUpO1xuICBsZXQga2V5ID0gYXdhaXQgY3JlYXRlS2V5MihzZWNyZXQsIFtcInZlcmlmeVwiXSk7XG4gIGxldCBzaWduYXR1cmUgPSBieXRlU3RyaW5nVG9VaW50OEFycmF5KGF0b2IoaGFzaCkpO1xuICBsZXQgdmFsaWQgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnZlcmlmeShcIkhNQUNcIiwga2V5LCBzaWduYXR1cmUsIGRhdGEyKTtcbiAgcmV0dXJuIHZhbGlkID8gdmFsdWUgOiBmYWxzZTtcbn07XG52YXIgY3JlYXRlS2V5MiA9IGFzeW5jIChzZWNyZXQsIHVzYWdlcykgPT4gY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXG4gIFwicmF3XCIsXG4gIGVuY29kZXIuZW5jb2RlKHNlY3JldCksXG4gIHsgbmFtZTogXCJITUFDXCIsIGhhc2g6IFwiU0hBLTI1NlwiIH0sXG4gIGZhbHNlLFxuICB1c2FnZXNcbik7XG5mdW5jdGlvbiBieXRlU3RyaW5nVG9VaW50OEFycmF5KGJ5dGVTdHJpbmcpIHtcbiAgbGV0IGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICBhcnJheVtpXSA9IGJ5dGVTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gYXJyYXk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9jb29raWVzLnRzXG52YXIgY3JlYXRlQ29va2llID0gKG5hbWUsIGNvb2tpZU9wdGlvbnMgPSB7fSkgPT4ge1xuICBsZXQgeyBzZWNyZXRzID0gW10sIC4uLm9wdGlvbnMgfSA9IHtcbiAgICBwYXRoOiBcIi9cIixcbiAgICBzYW1lU2l0ZTogXCJsYXhcIixcbiAgICAuLi5jb29raWVPcHRpb25zXG4gIH07XG4gIHdhcm5PbmNlQWJvdXRFeHBpcmVzQ29va2llKG5hbWUsIG9wdGlvbnMuZXhwaXJlcyk7XG4gIHJldHVybiB7XG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICByZXR1cm4gbmFtZTtcbiAgICB9LFxuICAgIGdldCBpc1NpZ25lZCgpIHtcbiAgICAgIHJldHVybiBzZWNyZXRzLmxlbmd0aCA+IDA7XG4gICAgfSxcbiAgICBnZXQgZXhwaXJlcygpIHtcbiAgICAgIHJldHVybiB0eXBlb2Ygb3B0aW9ucy5tYXhBZ2UgIT09IFwidW5kZWZpbmVkXCIgPyBuZXcgRGF0ZShEYXRlLm5vdygpICsgb3B0aW9ucy5tYXhBZ2UgKiAxZTMpIDogb3B0aW9ucy5leHBpcmVzO1xuICAgIH0sXG4gICAgYXN5bmMgcGFyc2UoY29va2llSGVhZGVyLCBwYXJzZU9wdGlvbnMpIHtcbiAgICAgIGlmICghY29va2llSGVhZGVyKSByZXR1cm4gbnVsbDtcbiAgICAgIGxldCBjb29raWVzID0gcGFyc2UoY29va2llSGVhZGVyLCB7IC4uLm9wdGlvbnMsIC4uLnBhcnNlT3B0aW9ucyB9KTtcbiAgICAgIGlmIChuYW1lIGluIGNvb2tpZXMpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gY29va2llc1tuYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiAmJiB2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgIGxldCBkZWNvZGVkID0gYXdhaXQgZGVjb2RlQ29va2llVmFsdWUodmFsdWUsIHNlY3JldHMpO1xuICAgICAgICAgIHJldHVybiBkZWNvZGVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIHNlcmlhbGl6ZSh2YWx1ZSwgc2VyaWFsaXplT3B0aW9ucykge1xuICAgICAgcmV0dXJuIHNlcmlhbGl6ZShcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdmFsdWUgPT09IFwiXCIgPyBcIlwiIDogYXdhaXQgZW5jb2RlQ29va2llVmFsdWUodmFsdWUsIHNlY3JldHMpLFxuICAgICAgICB7XG4gICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAuLi5zZXJpYWxpemVPcHRpb25zXG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICB9O1xufTtcbnZhciBpc0Nvb2tpZSA9IChvYmplY3QpID0+IHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIHR5cGVvZiBvYmplY3QubmFtZSA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygb2JqZWN0LmlzU2lnbmVkID09PSBcImJvb2xlYW5cIiAmJiB0eXBlb2Ygb2JqZWN0LnBhcnNlID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iamVjdC5zZXJpYWxpemUgPT09IFwiZnVuY3Rpb25cIjtcbn07XG5hc3luYyBmdW5jdGlvbiBlbmNvZGVDb29raWVWYWx1ZSh2YWx1ZSwgc2VjcmV0cykge1xuICBsZXQgZW5jb2RlZCA9IGVuY29kZURhdGEodmFsdWUpO1xuICBpZiAoc2VjcmV0cy5sZW5ndGggPiAwKSB7XG4gICAgZW5jb2RlZCA9IGF3YWl0IHNpZ24oZW5jb2RlZCwgc2VjcmV0c1swXSk7XG4gIH1cbiAgcmV0dXJuIGVuY29kZWQ7XG59XG5hc3luYyBmdW5jdGlvbiBkZWNvZGVDb29raWVWYWx1ZSh2YWx1ZSwgc2VjcmV0cykge1xuICBpZiAoc2VjcmV0cy5sZW5ndGggPiAwKSB7XG4gICAgZm9yIChsZXQgc2VjcmV0IG9mIHNlY3JldHMpIHtcbiAgICAgIGxldCB1bnNpZ25lZFZhbHVlID0gYXdhaXQgdW5zaWduKHZhbHVlLCBzZWNyZXQpO1xuICAgICAgaWYgKHVuc2lnbmVkVmFsdWUgIT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVEYXRhKHVuc2lnbmVkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZGVjb2RlRGF0YSh2YWx1ZSk7XG59XG5mdW5jdGlvbiBlbmNvZGVEYXRhKHZhbHVlKSB7XG4gIHJldHVybiBidG9hKG15VW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbHVlKSkpKTtcbn1cbmZ1bmN0aW9uIGRlY29kZURhdGEodmFsdWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQobXlFc2NhcGUoYXRvYih2YWx1ZSkpKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG5mdW5jdGlvbiBteUVzY2FwZSh2YWx1ZSkge1xuICBsZXQgc3RyID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gIGxldCBpbmRleCA9IDA7XG4gIGxldCBjaHIsIGNvZGU7XG4gIHdoaWxlIChpbmRleCA8IHN0ci5sZW5ndGgpIHtcbiAgICBjaHIgPSBzdHIuY2hhckF0KGluZGV4KyspO1xuICAgIGlmICgvW1xcdyorXFwtLi9AXS8uZXhlYyhjaHIpKSB7XG4gICAgICByZXN1bHQgKz0gY2hyO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb2RlID0gY2hyLmNoYXJDb2RlQXQoMCk7XG4gICAgICBpZiAoY29kZSA8IDI1Nikge1xuICAgICAgICByZXN1bHQgKz0gXCIlXCIgKyBoZXgoY29kZSwgMik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQgKz0gXCIldVwiICsgaGV4KGNvZGUsIDQpLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBoZXgoY29kZSwgbGVuZ3RoKSB7XG4gIGxldCByZXN1bHQgPSBjb2RlLnRvU3RyaW5nKDE2KTtcbiAgd2hpbGUgKHJlc3VsdC5sZW5ndGggPCBsZW5ndGgpIHJlc3VsdCA9IFwiMFwiICsgcmVzdWx0O1xuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gbXlVbmVzY2FwZSh2YWx1ZSkge1xuICBsZXQgc3RyID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gIGxldCBpbmRleCA9IDA7XG4gIGxldCBjaHIsIHBhcnQ7XG4gIHdoaWxlIChpbmRleCA8IHN0ci5sZW5ndGgpIHtcbiAgICBjaHIgPSBzdHIuY2hhckF0KGluZGV4KyspO1xuICAgIGlmIChjaHIgPT09IFwiJVwiKSB7XG4gICAgICBpZiAoc3RyLmNoYXJBdChpbmRleCkgPT09IFwidVwiKSB7XG4gICAgICAgIHBhcnQgPSBzdHIuc2xpY2UoaW5kZXggKyAxLCBpbmRleCArIDUpO1xuICAgICAgICBpZiAoL15bXFxkYS1mXXs0fSQvaS5leGVjKHBhcnQpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQocGFydCwgMTYpKTtcbiAgICAgICAgICBpbmRleCArPSA1O1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0ID0gc3RyLnNsaWNlKGluZGV4LCBpbmRleCArIDIpO1xuICAgICAgICBpZiAoL15bXFxkYS1mXXsyfSQvaS5leGVjKHBhcnQpKSB7XG4gICAgICAgICAgcmVzdWx0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQocGFydCwgMTYpKTtcbiAgICAgICAgICBpbmRleCArPSAyO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdCArPSBjaHI7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHdhcm5PbmNlQWJvdXRFeHBpcmVzQ29va2llKG5hbWUsIGV4cGlyZXMpIHtcbiAgd2Fybk9uY2UoXG4gICAgIWV4cGlyZXMsXG4gICAgYFRoZSBcIiR7bmFtZX1cIiBjb29raWUgaGFzIGFuIFwiZXhwaXJlc1wiIHByb3BlcnR5IHNldC4gVGhpcyB3aWxsIGNhdXNlIHRoZSBleHBpcmVzIHZhbHVlIHRvIG5vdCBiZSB1cGRhdGVkIHdoZW4gdGhlIHNlc3Npb24gaXMgY29tbWl0dGVkLiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIHNldCB0aGUgZXhwaXJlcyB2YWx1ZSB3aGVuIHNlcmlhbGl6aW5nIHRoZSBjb29raWUuIFlvdSBjYW4gdXNlIFxcYGNvbW1pdFNlc3Npb24oc2Vzc2lvbiwgeyBleHBpcmVzIH0pXFxgIGlmIHVzaW5nIGEgc2Vzc2lvbiBzdG9yYWdlIG9iamVjdCwgb3IgXFxgY29va2llLnNlcmlhbGl6ZShcInZhbHVlXCIsIHsgZXhwaXJlcyB9KVxcYCBpZiB5b3UncmUgdXNpbmcgdGhlIGNvb2tpZSBkaXJlY3RseS5gXG4gICk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9lbnRyeS50c1xuZnVuY3Rpb24gY3JlYXRlRW50cnlSb3V0ZU1vZHVsZXMobWFuaWZlc3QpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG1hbmlmZXN0KS5yZWR1Y2UoKG1lbW8yLCByb3V0ZUlkKSA9PiB7XG4gICAgbGV0IHJvdXRlID0gbWFuaWZlc3Rbcm91dGVJZF07XG4gICAgaWYgKHJvdXRlKSB7XG4gICAgICBtZW1vMltyb3V0ZUlkXSA9IHJvdXRlLm1vZHVsZTtcbiAgICB9XG4gICAgcmV0dXJuIG1lbW8yO1xuICB9LCB7fSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9tb2RlLnRzXG52YXIgU2VydmVyTW9kZSA9IC8qIEBfX1BVUkVfXyAqLyAoKFNlcnZlck1vZGUyKSA9PiB7XG4gIFNlcnZlck1vZGUyW1wiRGV2ZWxvcG1lbnRcIl0gPSBcImRldmVsb3BtZW50XCI7XG4gIFNlcnZlck1vZGUyW1wiUHJvZHVjdGlvblwiXSA9IFwicHJvZHVjdGlvblwiO1xuICBTZXJ2ZXJNb2RlMltcIlRlc3RcIl0gPSBcInRlc3RcIjtcbiAgcmV0dXJuIFNlcnZlck1vZGUyO1xufSkoU2VydmVyTW9kZSB8fCB7fSk7XG5mdW5jdGlvbiBpc1NlcnZlck1vZGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSBcImRldmVsb3BtZW50XCIgLyogRGV2ZWxvcG1lbnQgKi8gfHwgdmFsdWUgPT09IFwicHJvZHVjdGlvblwiIC8qIFByb2R1Y3Rpb24gKi8gfHwgdmFsdWUgPT09IFwidGVzdFwiIC8qIFRlc3QgKi87XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9lcnJvcnMudHNcbmZ1bmN0aW9uIHNhbml0aXplRXJyb3IoZXJyb3IsIHNlcnZlck1vZGUpIHtcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgc2VydmVyTW9kZSAhPT0gXCJkZXZlbG9wbWVudFwiIC8qIERldmVsb3BtZW50ICovKSB7XG4gICAgbGV0IHNhbml0aXplZCA9IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgU2VydmVyIEVycm9yXCIpO1xuICAgIHNhbml0aXplZC5zdGFjayA9IHZvaWQgMDtcbiAgICByZXR1cm4gc2FuaXRpemVkO1xuICB9XG4gIHJldHVybiBlcnJvcjtcbn1cbmZ1bmN0aW9uIHNhbml0aXplRXJyb3JzKGVycm9ycywgc2VydmVyTW9kZSkge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoZXJyb3JzKS5yZWR1Y2UoKGFjYywgW3JvdXRlSWQsIGVycm9yXSkgPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGFjYywgeyBbcm91dGVJZF06IHNhbml0aXplRXJyb3IoZXJyb3IsIHNlcnZlck1vZGUpIH0pO1xuICB9LCB7fSk7XG59XG5mdW5jdGlvbiBzZXJpYWxpemVFcnJvcihlcnJvciwgc2VydmVyTW9kZSkge1xuICBsZXQgc2FuaXRpemVkID0gc2FuaXRpemVFcnJvcihlcnJvciwgc2VydmVyTW9kZSk7XG4gIHJldHVybiB7XG4gICAgbWVzc2FnZTogc2FuaXRpemVkLm1lc3NhZ2UsXG4gICAgc3RhY2s6IHNhbml0aXplZC5zdGFja1xuICB9O1xufVxuZnVuY3Rpb24gc2VyaWFsaXplRXJyb3JzMihlcnJvcnMsIHNlcnZlck1vZGUpIHtcbiAgaWYgKCFlcnJvcnMpIHJldHVybiBudWxsO1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVycm9ycyk7XG4gIGxldCBzZXJpYWxpemVkID0ge307XG4gIGZvciAobGV0IFtrZXksIHZhbF0gb2YgZW50cmllcykge1xuICAgIGlmIChpc1JvdXRlRXJyb3JSZXNwb25zZSh2YWwpKSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB7IC4uLnZhbCwgX190eXBlOiBcIlJvdXRlRXJyb3JSZXNwb25zZVwiIH07XG4gICAgfSBlbHNlIGlmICh2YWwgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgbGV0IHNhbml0aXplZCA9IHNhbml0aXplRXJyb3IodmFsLCBzZXJ2ZXJNb2RlKTtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHtcbiAgICAgICAgbWVzc2FnZTogc2FuaXRpemVkLm1lc3NhZ2UsXG4gICAgICAgIHN0YWNrOiBzYW5pdGl6ZWQuc3RhY2ssXG4gICAgICAgIF9fdHlwZTogXCJFcnJvclwiLFxuICAgICAgICAvLyBJZiB0aGlzIGlzIGEgc3ViY2xhc3MgKGkuZS4sIFJlZmVyZW5jZUVycm9yKSwgc2VuZCB1cCB0aGUgdHlwZSBzbyB3ZVxuICAgICAgICAvLyBjYW4gcmUtY3JlYXRlIHRoZSBzYW1lIHR5cGUgZHVyaW5nIGh5ZHJhdGlvbi4gIFRoaXMgd2lsbCBvbmx5IGFwcGx5XG4gICAgICAgIC8vIGluIGRldiBtb2RlIHNpbmNlIGFsbCBwcm9kdWN0aW9uIGVycm9ycyBhcmUgc2FuaXRpemVkIHRvIG5vcm1hbFxuICAgICAgICAvLyBFcnJvciBpbnN0YW5jZXNcbiAgICAgICAgLi4uc2FuaXRpemVkLm5hbWUgIT09IFwiRXJyb3JcIiA/IHtcbiAgICAgICAgICBfX3N1YlR5cGU6IHNhbml0aXplZC5uYW1lXG4gICAgICAgIH0gOiB7fVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VyaWFsaXplZDtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3JvdXRlTWF0Y2hpbmcudHNcbmZ1bmN0aW9uIG1hdGNoU2VydmVyUm91dGVzKHJvdXRlcywgcGF0aG5hbWUsIGJhc2VuYW1lKSB7XG4gIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMoXG4gICAgcm91dGVzLFxuICAgIHBhdGhuYW1lLFxuICAgIGJhc2VuYW1lXG4gICk7XG4gIGlmICghbWF0Y2hlcykgcmV0dXJuIG51bGw7XG4gIHJldHVybiBtYXRjaGVzLm1hcCgobWF0Y2gpID0+ICh7XG4gICAgcGFyYW1zOiBtYXRjaC5wYXJhbXMsXG4gICAgcGF0aG5hbWU6IG1hdGNoLnBhdGhuYW1lLFxuICAgIHJvdXRlOiBtYXRjaC5yb3V0ZVxuICB9KSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9kYXRhLnRzXG5hc3luYyBmdW5jdGlvbiBjYWxsUm91dGVIYW5kbGVyKGhhbmRsZXIsIGFyZ3MpIHtcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IGhhbmRsZXIoe1xuICAgIHJlcXVlc3Q6IHN0cmlwUm91dGVzUGFyYW0oc3RyaXBJbmRleFBhcmFtMihhcmdzLnJlcXVlc3QpKSxcbiAgICBwYXJhbXM6IGFyZ3MucGFyYW1zLFxuICAgIGNvbnRleHQ6IGFyZ3MuY29udGV4dFxuICB9KTtcbiAgaWYgKGlzRGF0YVdpdGhSZXNwb25zZUluaXQocmVzdWx0KSAmJiByZXN1bHQuaW5pdCAmJiByZXN1bHQuaW5pdC5zdGF0dXMgJiYgaXNSZWRpcmVjdFN0YXR1c0NvZGUocmVzdWx0LmluaXQuc3RhdHVzKSkge1xuICAgIHRocm93IG5ldyBSZXNwb25zZShudWxsLCByZXN1bHQuaW5pdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHN0cmlwSW5kZXhQYXJhbTIocmVxdWVzdCkge1xuICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gIGxldCBpbmRleFZhbHVlcyA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0QWxsKFwiaW5kZXhcIik7XG4gIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKFwiaW5kZXhcIik7XG4gIGxldCBpbmRleFZhbHVlc1RvS2VlcCA9IFtdO1xuICBmb3IgKGxldCBpbmRleFZhbHVlIG9mIGluZGV4VmFsdWVzKSB7XG4gICAgaWYgKGluZGV4VmFsdWUpIHtcbiAgICAgIGluZGV4VmFsdWVzVG9LZWVwLnB1c2goaW5kZXhWYWx1ZSk7XG4gICAgfVxuICB9XG4gIGZvciAobGV0IHRvS2VlcCBvZiBpbmRleFZhbHVlc1RvS2VlcCkge1xuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgdG9LZWVwKTtcbiAgfVxuICBsZXQgaW5pdCA9IHtcbiAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgIGJvZHk6IHJlcXVlc3QuYm9keSxcbiAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbFxuICB9O1xuICBpZiAoaW5pdC5ib2R5KSB7XG4gICAgaW5pdC5kdXBsZXggPSBcImhhbGZcIjtcbiAgfVxuICByZXR1cm4gbmV3IFJlcXVlc3QodXJsLmhyZWYsIGluaXQpO1xufVxuZnVuY3Rpb24gc3RyaXBSb3V0ZXNQYXJhbShyZXF1ZXN0KSB7XG4gIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoXCJfcm91dGVzXCIpO1xuICBsZXQgaW5pdCA9IHtcbiAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgIGJvZHk6IHJlcXVlc3QuYm9keSxcbiAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgc2lnbmFsOiByZXF1ZXN0LnNpZ25hbFxuICB9O1xuICBpZiAoaW5pdC5ib2R5KSB7XG4gICAgaW5pdC5kdXBsZXggPSBcImhhbGZcIjtcbiAgfVxuICByZXR1cm4gbmV3IFJlcXVlc3QodXJsLmhyZWYsIGluaXQpO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvaW52YXJpYW50LnRzXG5mdW5jdGlvbiBpbnZhcmlhbnQzKHZhbHVlLCBtZXNzYWdlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT09IG51bGwgfHwgdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiVGhlIGZvbGxvd2luZyBlcnJvciBpcyBhIGJ1ZyBpbiBSZWFjdCBSb3V0ZXI7IHBsZWFzZSBvcGVuIGFuIGlzc3VlISBodHRwczovL2dpdGh1Yi5jb20vcmVtaXgtcnVuL3JlYWN0LXJvdXRlci9pc3N1ZXMvbmV3L2Nob29zZVwiXG4gICAgKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH1cbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3JvdXRlcy50c1xuZnVuY3Rpb24gZ3JvdXBSb3V0ZXNCeVBhcmVudElkMihtYW5pZmVzdCkge1xuICBsZXQgcm91dGVzID0ge307XG4gIE9iamVjdC52YWx1ZXMobWFuaWZlc3QpLmZvckVhY2goKHJvdXRlKSA9PiB7XG4gICAgaWYgKHJvdXRlKSB7XG4gICAgICBsZXQgcGFyZW50SWQgPSByb3V0ZS5wYXJlbnRJZCB8fCBcIlwiO1xuICAgICAgaWYgKCFyb3V0ZXNbcGFyZW50SWRdKSB7XG4gICAgICAgIHJvdXRlc1twYXJlbnRJZF0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHJvdXRlc1twYXJlbnRJZF0ucHVzaChyb3V0ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJvdXRlcztcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlcyhtYW5pZmVzdCwgcGFyZW50SWQgPSBcIlwiLCByb3V0ZXNCeVBhcmVudElkID0gZ3JvdXBSb3V0ZXNCeVBhcmVudElkMihtYW5pZmVzdCkpIHtcbiAgcmV0dXJuIChyb3V0ZXNCeVBhcmVudElkW3BhcmVudElkXSB8fCBbXSkubWFwKChyb3V0ZSkgPT4gKHtcbiAgICAuLi5yb3V0ZSxcbiAgICBjaGlsZHJlbjogY3JlYXRlUm91dGVzKG1hbmlmZXN0LCByb3V0ZS5pZCwgcm91dGVzQnlQYXJlbnRJZClcbiAgfSkpO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljSGFuZGxlckRhdGFSb3V0ZXMobWFuaWZlc3QsIGZ1dHVyZSwgcGFyZW50SWQgPSBcIlwiLCByb3V0ZXNCeVBhcmVudElkID0gZ3JvdXBSb3V0ZXNCeVBhcmVudElkMihtYW5pZmVzdCkpIHtcbiAgcmV0dXJuIChyb3V0ZXNCeVBhcmVudElkW3BhcmVudElkXSB8fCBbXSkubWFwKChyb3V0ZSkgPT4ge1xuICAgIGxldCBjb21tb25Sb3V0ZSA9IHtcbiAgICAgIC8vIEFsd2F5cyBpbmNsdWRlIHJvb3QgZHVlIHRvIGRlZmF1bHQgYm91bmRhcmllc1xuICAgICAgaGFzRXJyb3JCb3VuZGFyeTogcm91dGUuaWQgPT09IFwicm9vdFwiIHx8IHJvdXRlLm1vZHVsZS5FcnJvckJvdW5kYXJ5ICE9IG51bGwsXG4gICAgICBpZDogcm91dGUuaWQsXG4gICAgICBwYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgdW5zdGFibGVfbWlkZGxld2FyZTogcm91dGUubW9kdWxlLnVuc3RhYmxlX21pZGRsZXdhcmUsXG4gICAgICAvLyBOZWVkIHRvIHVzZSBSUidzIHZlcnNpb24gaW4gdGhlIHBhcmFtIHR5cGVkIGhlcmUgdG8gcGVybWl0IHRoZSBvcHRpb25hbFxuICAgICAgLy8gY29udGV4dCBldmVuIHRob3VnaCB3ZSBrbm93IGl0J2xsIGFsd2F5cyBiZSBwcm92aWRlZCBpbiByZW1peFxuICAgICAgbG9hZGVyOiByb3V0ZS5tb2R1bGUubG9hZGVyID8gYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgaWYgKGFyZ3MucmVxdWVzdC5oZWFkZXJzLmhhcyhcIlgtUmVhY3QtUm91dGVyLVByZXJlbmRlci1EYXRhXCIpKSB7XG4gICAgICAgICAgY29uc3QgcHJlUmVuZGVyZWREYXRhID0gYXJncy5yZXF1ZXN0LmhlYWRlcnMuZ2V0KFxuICAgICAgICAgICAgXCJYLVJlYWN0LVJvdXRlci1QcmVyZW5kZXItRGF0YVwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgZW5jb2RlZCA9IHByZVJlbmRlcmVkRGF0YSA/IGRlY29kZVVSSShwcmVSZW5kZXJlZERhdGEpIDogcHJlUmVuZGVyZWREYXRhO1xuICAgICAgICAgIGludmFyaWFudDMoZW5jb2RlZCwgXCJNaXNzaW5nIHByZXJlbmRlcmVkIGRhdGEgZm9yIHJvdXRlXCIpO1xuICAgICAgICAgIGxldCB1aW50OGFycmF5ID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGVuY29kZWQpO1xuICAgICAgICAgIGxldCBzdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodWludDhhcnJheSk7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBsZXQgZGVjb2RlZCA9IGF3YWl0IGRlY29kZVZpYVR1cmJvU3RyZWFtKHN0cmVhbSwgZ2xvYmFsKTtcbiAgICAgICAgICBsZXQgZGF0YTIgPSBkZWNvZGVkLnZhbHVlO1xuICAgICAgICAgIGludmFyaWFudDMoXG4gICAgICAgICAgICBkYXRhMiAmJiByb3V0ZS5pZCBpbiBkYXRhMixcbiAgICAgICAgICAgIFwiVW5hYmxlIHRvIGRlY29kZSBwcmVyZW5kZXJlZCBkYXRhXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCByZXN1bHQgPSBkYXRhMltyb3V0ZS5pZF07XG4gICAgICAgICAgaW52YXJpYW50MyhcImRhdGFcIiBpbiByZXN1bHQsIFwiVW5hYmxlIHRvIHByb2Nlc3MgcHJlcmVuZGVyZWQgZGF0YVwiKTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZhbCA9IGF3YWl0IGNhbGxSb3V0ZUhhbmRsZXIocm91dGUubW9kdWxlLmxvYWRlciwgYXJncyk7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9IDogdm9pZCAwLFxuICAgICAgYWN0aW9uOiByb3V0ZS5tb2R1bGUuYWN0aW9uID8gKGFyZ3MpID0+IGNhbGxSb3V0ZUhhbmRsZXIocm91dGUubW9kdWxlLmFjdGlvbiwgYXJncykgOiB2b2lkIDAsXG4gICAgICBoYW5kbGU6IHJvdXRlLm1vZHVsZS5oYW5kbGVcbiAgICB9O1xuICAgIHJldHVybiByb3V0ZS5pbmRleCA/IHtcbiAgICAgIGluZGV4OiB0cnVlLFxuICAgICAgLi4uY29tbW9uUm91dGVcbiAgICB9IDoge1xuICAgICAgY2FzZVNlbnNpdGl2ZTogcm91dGUuY2FzZVNlbnNpdGl2ZSxcbiAgICAgIGNoaWxkcmVuOiBjcmVhdGVTdGF0aWNIYW5kbGVyRGF0YVJvdXRlcyhcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIGZ1dHVyZSxcbiAgICAgICAgcm91dGUuaWQsXG4gICAgICAgIHJvdXRlc0J5UGFyZW50SWRcbiAgICAgICksXG4gICAgICAuLi5jb21tb25Sb3V0ZVxuICAgIH07XG4gIH0pO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvbWFya3VwLnRzXG52YXIgRVNDQVBFX0xPT0tVUDMgPSB7XG4gIFwiJlwiOiBcIlxcXFx1MDAyNlwiLFxuICBcIj5cIjogXCJcXFxcdTAwM2VcIixcbiAgXCI8XCI6IFwiXFxcXHUwMDNjXCIsXG4gIFwiXFx1MjAyOFwiOiBcIlxcXFx1MjAyOFwiLFxuICBcIlxcdTIwMjlcIjogXCJcXFxcdTIwMjlcIlxufTtcbnZhciBFU0NBUEVfUkVHRVgzID0gL1smPjxcXHUyMDI4XFx1MjAyOV0vZztcbmZ1bmN0aW9uIGVzY2FwZUh0bWwyKGh0bWwpIHtcbiAgcmV0dXJuIGh0bWwucmVwbGFjZShFU0NBUEVfUkVHRVgzLCAobWF0Y2gpID0+IEVTQ0FQRV9MT09LVVAzW21hdGNoXSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zZXJ2ZXJIYW5kb2ZmLnRzXG5mdW5jdGlvbiBjcmVhdGVTZXJ2ZXJIYW5kb2ZmU3RyaW5nKHNlcnZlckhhbmRvZmYpIHtcbiAgcmV0dXJuIGVzY2FwZUh0bWwyKEpTT04uc3RyaW5naWZ5KHNlcnZlckhhbmRvZmYpKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2Rldi50c1xudmFyIGdsb2JhbERldlNlcnZlckhvb2tzS2V5ID0gXCJfX3JlYWN0Um91dGVyRGV2U2VydmVySG9va3NcIjtcbmZ1bmN0aW9uIHNldERldlNlcnZlckhvb2tzKGRldlNlcnZlckhvb2tzKSB7XG4gIGdsb2JhbFRoaXNbZ2xvYmFsRGV2U2VydmVySG9va3NLZXldID0gZGV2U2VydmVySG9va3M7XG59XG5mdW5jdGlvbiBnZXREZXZTZXJ2ZXJIb29rcygpIHtcbiAgcmV0dXJuIGdsb2JhbFRoaXNbZ2xvYmFsRGV2U2VydmVySG9va3NLZXldO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2luZ2xlLWZldGNoLnRzXG5pbXBvcnQgeyBlbmNvZGUgfSBmcm9tIFwidHVyYm8tc3RyZWFtXCI7XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9oZWFkZXJzLnRzXG5pbXBvcnQgeyBzcGxpdENvb2tpZXNTdHJpbmcgfSBmcm9tIFwic2V0LWNvb2tpZS1wYXJzZXJcIjtcbmZ1bmN0aW9uIGdldERvY3VtZW50SGVhZGVycyhidWlsZCwgY29udGV4dCkge1xuICBsZXQgYm91bmRhcnlJZHggPSBjb250ZXh0LmVycm9ycyA/IGNvbnRleHQubWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IGNvbnRleHQuZXJyb3JzW20ucm91dGUuaWRdKSA6IC0xO1xuICBsZXQgbWF0Y2hlcyA9IGJvdW5kYXJ5SWR4ID49IDAgPyBjb250ZXh0Lm1hdGNoZXMuc2xpY2UoMCwgYm91bmRhcnlJZHggKyAxKSA6IGNvbnRleHQubWF0Y2hlcztcbiAgbGV0IGVycm9ySGVhZGVycztcbiAgaWYgKGJvdW5kYXJ5SWR4ID49IDApIHtcbiAgICBsZXQgeyBhY3Rpb25IZWFkZXJzLCBhY3Rpb25EYXRhLCBsb2FkZXJIZWFkZXJzLCBsb2FkZXJEYXRhIH0gPSBjb250ZXh0O1xuICAgIGNvbnRleHQubWF0Y2hlcy5zbGljZShib3VuZGFyeUlkeCkuc29tZSgobWF0Y2gpID0+IHtcbiAgICAgIGxldCBpZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgICAgaWYgKGFjdGlvbkhlYWRlcnNbaWRdICYmICghYWN0aW9uRGF0YSB8fCAhYWN0aW9uRGF0YS5oYXNPd25Qcm9wZXJ0eShpZCkpKSB7XG4gICAgICAgIGVycm9ySGVhZGVycyA9IGFjdGlvbkhlYWRlcnNbaWRdO1xuICAgICAgfSBlbHNlIGlmIChsb2FkZXJIZWFkZXJzW2lkXSAmJiAhbG9hZGVyRGF0YS5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgICAgZXJyb3JIZWFkZXJzID0gbG9hZGVySGVhZGVyc1tpZF07XG4gICAgICB9XG4gICAgICByZXR1cm4gZXJyb3JIZWFkZXJzICE9IG51bGw7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXMucmVkdWNlKChwYXJlbnRIZWFkZXJzLCBtYXRjaCwgaWR4KSA9PiB7XG4gICAgbGV0IHsgaWQgfSA9IG1hdGNoLnJvdXRlO1xuICAgIGxldCByb3V0ZSA9IGJ1aWxkLnJvdXRlc1tpZF07XG4gICAgaW52YXJpYW50Myhyb3V0ZSwgYFJvdXRlIHdpdGggaWQgXCIke2lkfVwiIG5vdCBmb3VuZCBpbiBidWlsZGApO1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IHJvdXRlLm1vZHVsZTtcbiAgICBsZXQgbG9hZGVySGVhZGVycyA9IGNvbnRleHQubG9hZGVySGVhZGVyc1tpZF0gfHwgbmV3IEhlYWRlcnMoKTtcbiAgICBsZXQgYWN0aW9uSGVhZGVycyA9IGNvbnRleHQuYWN0aW9uSGVhZGVyc1tpZF0gfHwgbmV3IEhlYWRlcnMoKTtcbiAgICBsZXQgaW5jbHVkZUVycm9ySGVhZGVycyA9IGVycm9ySGVhZGVycyAhPSBudWxsICYmIGlkeCA9PT0gbWF0Y2hlcy5sZW5ndGggLSAxO1xuICAgIGxldCBpbmNsdWRlRXJyb3JDb29raWVzID0gaW5jbHVkZUVycm9ySGVhZGVycyAmJiBlcnJvckhlYWRlcnMgIT09IGxvYWRlckhlYWRlcnMgJiYgZXJyb3JIZWFkZXJzICE9PSBhY3Rpb25IZWFkZXJzO1xuICAgIGlmIChyb3V0ZU1vZHVsZS5oZWFkZXJzID09IG51bGwpIHtcbiAgICAgIGxldCBoZWFkZXJzMiA9IG5ldyBIZWFkZXJzKHBhcmVudEhlYWRlcnMpO1xuICAgICAgaWYgKGluY2x1ZGVFcnJvckNvb2tpZXMpIHtcbiAgICAgICAgcHJlcGVuZENvb2tpZXMoZXJyb3JIZWFkZXJzLCBoZWFkZXJzMik7XG4gICAgICB9XG4gICAgICBwcmVwZW5kQ29va2llcyhhY3Rpb25IZWFkZXJzLCBoZWFkZXJzMik7XG4gICAgICBwcmVwZW5kQ29va2llcyhsb2FkZXJIZWFkZXJzLCBoZWFkZXJzMik7XG4gICAgICByZXR1cm4gaGVhZGVyczI7XG4gICAgfVxuICAgIGxldCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoXG4gICAgICByb3V0ZU1vZHVsZS5oZWFkZXJzID8gdHlwZW9mIHJvdXRlTW9kdWxlLmhlYWRlcnMgPT09IFwiZnVuY3Rpb25cIiA/IHJvdXRlTW9kdWxlLmhlYWRlcnMoe1xuICAgICAgICBsb2FkZXJIZWFkZXJzLFxuICAgICAgICBwYXJlbnRIZWFkZXJzLFxuICAgICAgICBhY3Rpb25IZWFkZXJzLFxuICAgICAgICBlcnJvckhlYWRlcnM6IGluY2x1ZGVFcnJvckhlYWRlcnMgPyBlcnJvckhlYWRlcnMgOiB2b2lkIDBcbiAgICAgIH0pIDogcm91dGVNb2R1bGUuaGVhZGVycyA6IHZvaWQgMFxuICAgICk7XG4gICAgaWYgKGluY2x1ZGVFcnJvckNvb2tpZXMpIHtcbiAgICAgIHByZXBlbmRDb29raWVzKGVycm9ySGVhZGVycywgaGVhZGVycyk7XG4gICAgfVxuICAgIHByZXBlbmRDb29raWVzKGFjdGlvbkhlYWRlcnMsIGhlYWRlcnMpO1xuICAgIHByZXBlbmRDb29raWVzKGxvYWRlckhlYWRlcnMsIGhlYWRlcnMpO1xuICAgIHByZXBlbmRDb29raWVzKHBhcmVudEhlYWRlcnMsIGhlYWRlcnMpO1xuICAgIHJldHVybiBoZWFkZXJzO1xuICB9LCBuZXcgSGVhZGVycygpKTtcbn1cbmZ1bmN0aW9uIHByZXBlbmRDb29raWVzKHBhcmVudEhlYWRlcnMsIGNoaWxkSGVhZGVycykge1xuICBsZXQgcGFyZW50U2V0Q29va2llU3RyaW5nID0gcGFyZW50SGVhZGVycy5nZXQoXCJTZXQtQ29va2llXCIpO1xuICBpZiAocGFyZW50U2V0Q29va2llU3RyaW5nKSB7XG4gICAgbGV0IGNvb2tpZXMgPSBzcGxpdENvb2tpZXNTdHJpbmcocGFyZW50U2V0Q29va2llU3RyaW5nKTtcbiAgICBsZXQgY2hpbGRDb29raWVzID0gbmV3IFNldChjaGlsZEhlYWRlcnMuZ2V0U2V0Q29va2llKCkpO1xuICAgIGNvb2tpZXMuZm9yRWFjaCgoY29va2llKSA9PiB7XG4gICAgICBpZiAoIWNoaWxkQ29va2llcy5oYXMoY29va2llKSkge1xuICAgICAgICBjaGlsZEhlYWRlcnMuYXBwZW5kKFwiU2V0LUNvb2tpZVwiLCBjb29raWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zaW5nbGUtZmV0Y2gudHNcbnZhciBOT19CT0RZX1NUQVRVU19DT0RFUyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFsxMDAsIDEwMSwgMjA0LCAyMDUsIDMwNF0pO1xudmFyIFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVMgPSAyMDI7XG5hc3luYyBmdW5jdGlvbiBzaW5nbGVGZXRjaEFjdGlvbihidWlsZCwgc2VydmVyTW9kZSwgc3RhdGljSGFuZGxlciwgcmVxdWVzdCwgaGFuZGxlclVybCwgbG9hZENvbnRleHQsIGhhbmRsZUVycm9yKSB7XG4gIHRyeSB7XG4gICAgbGV0IHJlc3BvbmQyID0gZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgbGV0IGhlYWRlcnMgPSBnZXREb2N1bWVudEhlYWRlcnMoYnVpbGQsIGNvbnRleHQpO1xuICAgICAgaWYgKGlzUmVkaXJlY3RTdGF0dXNDb2RlKGNvbnRleHQuc3RhdHVzQ29kZSkgJiYgaGVhZGVycy5oYXMoXCJMb2NhdGlvblwiKSkge1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICAgICAgcmVzdWx0OiBnZXRTaW5nbGVGZXRjaFJlZGlyZWN0KFxuICAgICAgICAgICAgY29udGV4dC5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIGJ1aWxkLmJhc2VuYW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIHN0YXR1czogU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVU1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbnRleHQuZXJyb3JzKS5mb3JFYWNoKChlcnIpID0+IHtcbiAgICAgICAgICBpZiAoIWlzUm91dGVFcnJvclJlc3BvbnNlKGVycikgfHwgZXJyLmVycm9yKSB7XG4gICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRleHQuZXJyb3JzID0gc2FuaXRpemVFcnJvcnMoY29udGV4dC5lcnJvcnMsIHNlcnZlck1vZGUpO1xuICAgICAgfVxuICAgICAgbGV0IHNpbmdsZUZldGNoUmVzdWx0O1xuICAgICAgaWYgKGNvbnRleHQuZXJyb3JzKSB7XG4gICAgICAgIHNpbmdsZUZldGNoUmVzdWx0ID0geyBlcnJvcjogT2JqZWN0LnZhbHVlcyhjb250ZXh0LmVycm9ycylbMF0gfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNpbmdsZUZldGNoUmVzdWx0ID0ge1xuICAgICAgICAgIGRhdGE6IE9iamVjdC52YWx1ZXMoY29udGV4dC5hY3Rpb25EYXRhIHx8IHt9KVswXVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICByZXN1bHQ6IHNpbmdsZUZldGNoUmVzdWx0LFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IGNvbnRleHQuc3RhdHVzQ29kZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgcmVzcG9uZCA9IHJlc3BvbmQyO1xuICAgIGxldCBoYW5kbGVyUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGhhbmRsZXJVcmwsIHtcbiAgICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgICBib2R5OiByZXF1ZXN0LmJvZHksXG4gICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsLFxuICAgICAgLi4ucmVxdWVzdC5ib2R5ID8geyBkdXBsZXg6IFwiaGFsZlwiIH0gOiB2b2lkIDBcbiAgICB9KTtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgc3RhdGljSGFuZGxlci5xdWVyeShoYW5kbGVyUmVxdWVzdCwge1xuICAgICAgcmVxdWVzdENvbnRleHQ6IGxvYWRDb250ZXh0LFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmc6IHRydWUsXG4gICAgICBza2lwUmV2YWxpZGF0aW9uOiB0cnVlLFxuICAgICAgdW5zdGFibGVfcmVzcG9uZDogcmVzcG9uZDJcbiAgICB9KTtcbiAgICBpZiAoIWlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmVzdWx0ID0gcmVzcG9uZDIocmVzdWx0KTtcbiAgICB9XG4gICAgaWYgKGlzUmVkaXJlY3RSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICAgIHJlc3VsdDogZ2V0U2luZ2xlRmV0Y2hSZWRpcmVjdChcbiAgICAgICAgICByZXN1bHQuc3RhdHVzLFxuICAgICAgICAgIHJlc3VsdC5oZWFkZXJzLFxuICAgICAgICAgIGJ1aWxkLmJhc2VuYW1lXG4gICAgICAgICksXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVNcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICByZXN1bHQ6IHsgZXJyb3IgfSxcbiAgICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKCksXG4gICAgICBzdGF0dXM6IDUwMFxuICAgIH0pO1xuICB9XG59XG5hc3luYyBmdW5jdGlvbiBzaW5nbGVGZXRjaExvYWRlcnMoYnVpbGQsIHNlcnZlck1vZGUsIHN0YXRpY0hhbmRsZXIsIHJlcXVlc3QsIGhhbmRsZXJVcmwsIGxvYWRDb250ZXh0LCBoYW5kbGVFcnJvcikge1xuICB0cnkge1xuICAgIGxldCByZXNwb25kMiA9IGZ1bmN0aW9uKGNvbnRleHQpIHtcbiAgICAgIGxldCBoZWFkZXJzID0gZ2V0RG9jdW1lbnRIZWFkZXJzKGJ1aWxkLCBjb250ZXh0KTtcbiAgICAgIGlmIChpc1JlZGlyZWN0U3RhdHVzQ29kZShjb250ZXh0LnN0YXR1c0NvZGUpICYmIGhlYWRlcnMuaGFzKFwiTG9jYXRpb25cIikpIHtcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgICAgW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdOiBnZXRTaW5nbGVGZXRjaFJlZGlyZWN0KFxuICAgICAgICAgICAgICBjb250ZXh0LnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgIGJ1aWxkLmJhc2VuYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSxcbiAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgIHN0YXR1czogU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVU1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgICBPYmplY3QudmFsdWVzKGNvbnRleHQuZXJyb3JzKS5mb3JFYWNoKChlcnIpID0+IHtcbiAgICAgICAgICBpZiAoIWlzUm91dGVFcnJvclJlc3BvbnNlKGVycikgfHwgZXJyLmVycm9yKSB7XG4gICAgICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnRleHQuZXJyb3JzID0gc2FuaXRpemVFcnJvcnMoY29udGV4dC5lcnJvcnMsIHNlcnZlck1vZGUpO1xuICAgICAgfVxuICAgICAgbGV0IHJlc3VsdHMgPSB7fTtcbiAgICAgIGxldCBsb2FkZWRNYXRjaGVzID0gbmV3IFNldChcbiAgICAgICAgY29udGV4dC5tYXRjaGVzLmZpbHRlcihcbiAgICAgICAgICAobSkgPT4gbG9hZFJvdXRlSWRzID8gbG9hZFJvdXRlSWRzLmhhcyhtLnJvdXRlLmlkKSA6IG0ucm91dGUubG9hZGVyICE9IG51bGxcbiAgICAgICAgKS5tYXAoKG0pID0+IG0ucm91dGUuaWQpXG4gICAgICApO1xuICAgICAgaWYgKGNvbnRleHQuZXJyb3JzKSB7XG4gICAgICAgIGZvciAobGV0IFtpZCwgZXJyb3JdIG9mIE9iamVjdC5lbnRyaWVzKGNvbnRleHQuZXJyb3JzKSkge1xuICAgICAgICAgIHJlc3VsdHNbaWRdID0geyBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGxldCBbaWQsIGRhdGEyXSBvZiBPYmplY3QuZW50cmllcyhjb250ZXh0LmxvYWRlckRhdGEpKSB7XG4gICAgICAgIGlmICghKGlkIGluIHJlc3VsdHMpICYmIGxvYWRlZE1hdGNoZXMuaGFzKGlkKSkge1xuICAgICAgICAgIHJlc3VsdHNbaWRdID0geyBkYXRhOiBkYXRhMiB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICAgIHJlc3VsdDogcmVzdWx0cyxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgc3RhdHVzOiBjb250ZXh0LnN0YXR1c0NvZGVcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIHJlc3BvbmQgPSByZXNwb25kMjtcbiAgICBsZXQgaGFuZGxlclJlcXVlc3QgPSBuZXcgUmVxdWVzdChoYW5kbGVyVXJsLCB7XG4gICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsXG4gICAgfSk7XG4gICAgbGV0IHJvdXRlc1BhcmFtID0gbmV3IFVSTChyZXF1ZXN0LnVybCkuc2VhcmNoUGFyYW1zLmdldChcIl9yb3V0ZXNcIik7XG4gICAgbGV0IGxvYWRSb3V0ZUlkcyA9IHJvdXRlc1BhcmFtID8gbmV3IFNldChyb3V0ZXNQYXJhbS5zcGxpdChcIixcIikpIDogbnVsbDtcbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgc3RhdGljSGFuZGxlci5xdWVyeShoYW5kbGVyUmVxdWVzdCwge1xuICAgICAgcmVxdWVzdENvbnRleHQ6IGxvYWRDb250ZXh0LFxuICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZDogKG0pID0+ICFsb2FkUm91dGVJZHMgfHwgbG9hZFJvdXRlSWRzLmhhcyhtLnJvdXRlLmlkKSxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nOiB0cnVlLFxuICAgICAgdW5zdGFibGVfcmVzcG9uZDogcmVzcG9uZDJcbiAgICB9KTtcbiAgICBpZiAoIWlzUmVzcG9uc2UocmVzdWx0KSkge1xuICAgICAgcmVzdWx0ID0gcmVzcG9uZDIocmVzdWx0KTtcbiAgICB9XG4gICAgaWYgKGlzUmVkaXJlY3RSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgIFtTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXTogZ2V0U2luZ2xlRmV0Y2hSZWRpcmVjdChcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMsXG4gICAgICAgICAgICByZXN1bHQuaGVhZGVycyxcbiAgICAgICAgICAgIGJ1aWxkLmJhc2VuYW1lXG4gICAgICAgICAgKVxuICAgICAgICB9LFxuICAgICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVycyxcbiAgICAgICAgc3RhdHVzOiBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICAgICAgcmVzdWx0OiB7IHJvb3Q6IHsgZXJyb3IgfSB9LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoKSxcbiAgICAgIHN0YXR1czogNTAwXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdlbmVyYXRlU2luZ2xlRmV0Y2hSZXNwb25zZShyZXF1ZXN0LCBidWlsZCwgc2VydmVyTW9kZSwge1xuICByZXN1bHQsXG4gIGhlYWRlcnMsXG4gIHN0YXR1c1xufSkge1xuICBsZXQgcmVzdWx0SGVhZGVycyA9IG5ldyBIZWFkZXJzKGhlYWRlcnMpO1xuICByZXN1bHRIZWFkZXJzLnNldChcIlgtUmVtaXgtUmVzcG9uc2VcIiwgXCJ5ZXNcIik7XG4gIGlmIChOT19CT0RZX1NUQVRVU19DT0RFUy5oYXMoc3RhdHVzKSkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgeyBzdGF0dXMsIGhlYWRlcnM6IHJlc3VsdEhlYWRlcnMgfSk7XG4gIH1cbiAgcmVzdWx0SGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJ0ZXh0L3gtc2NyaXB0XCIpO1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgIGVuY29kZVZpYVR1cmJvU3RyZWFtKFxuICAgICAgcmVzdWx0LFxuICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICBidWlsZC5lbnRyeS5tb2R1bGUuc3RyZWFtVGltZW91dCxcbiAgICAgIHNlcnZlck1vZGVcbiAgICApLFxuICAgIHtcbiAgICAgIHN0YXR1czogc3RhdHVzIHx8IDIwMCxcbiAgICAgIGhlYWRlcnM6IHJlc3VsdEhlYWRlcnNcbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiBnZXRTaW5nbGVGZXRjaFJlZGlyZWN0KHN0YXR1cywgaGVhZGVycywgYmFzZW5hbWUpIHtcbiAgbGV0IHJlZGlyZWN0MiA9IGhlYWRlcnMuZ2V0KFwiTG9jYXRpb25cIik7XG4gIGlmIChiYXNlbmFtZSkge1xuICAgIHJlZGlyZWN0MiA9IHN0cmlwQmFzZW5hbWUocmVkaXJlY3QyLCBiYXNlbmFtZSkgfHwgcmVkaXJlY3QyO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmVkaXJlY3Q6IHJlZGlyZWN0MixcbiAgICBzdGF0dXMsXG4gICAgcmV2YWxpZGF0ZTogKFxuICAgICAgLy8gVGVjaG5pY2FsbHkgWC1SZW1peC1SZXZhbGlkYXRlIGlzbid0IG5lZWRlZCBoZXJlIC0gdGhhdCB3YXMgYW4gaW1wbGVtZW50YXRpb25cbiAgICAgIC8vIGRldGFpbCBvZiA/X2RhdGEgcmVxdWVzdHMgYXMgb3VyIHdheSB0byB0ZWxsIHRoZSBmcm9udCBlbmQgdG8gcmV2YWxpZGF0ZSB3aGVuXG4gICAgICAvLyB3ZSBkaWRuJ3QgaGF2ZSBhIHJlc3BvbnNlIGJvZHkgdG8gaW5jbHVkZSB0aGF0IGluZm9ybWF0aW9uIGluLlxuICAgICAgLy8gV2l0aCBzaW5nbGUgZmV0Y2gsIHdlIHRlbGwgdGhlIGZyb250IGVuZCB2aWEgdGhpcyByZXZhbGlkYXRlIGJvb2xlYW4gZmllbGQuXG4gICAgICAvLyBIb3dldmVyLCB3ZSdyZSByZXNwZWN0aW5nIGl0IGZvciBub3cgYmVjYXVzZSBpdCBtYXkgYmUgc29tZXRoaW5nIGZvbGtzIGhhdmVcbiAgICAgIC8vIHVzZWQgaW4gdGhlaXIgb3duIHJlc3BvbnNlc1xuICAgICAgLy8gVE9ETyh2Myk6IENvbnNpZGVyIHJlbW92aW5nIG9yIG1ha2luZyB0aGlzIG9mZmljaWFsIHB1YmxpYyBBUElcbiAgICAgIGhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXZhbGlkYXRlXCIpIHx8IGhlYWRlcnMuaGFzKFwiU2V0LUNvb2tpZVwiKVxuICAgICksXG4gICAgcmVsb2FkOiBoZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIpLFxuICAgIHJlcGxhY2U6IGhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXBsYWNlXCIpXG4gIH07XG59XG5mdW5jdGlvbiBlbmNvZGVWaWFUdXJib1N0cmVhbShkYXRhMiwgcmVxdWVzdFNpZ25hbCwgc3RyZWFtVGltZW91dCwgc2VydmVyTW9kZSkge1xuICBsZXQgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgbGV0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoXG4gICAgKCkgPT4gY29udHJvbGxlci5hYm9ydChuZXcgRXJyb3IoXCJTZXJ2ZXIgVGltZW91dFwiKSksXG4gICAgdHlwZW9mIHN0cmVhbVRpbWVvdXQgPT09IFwibnVtYmVyXCIgPyBzdHJlYW1UaW1lb3V0IDogNDk1MFxuICApO1xuICByZXF1ZXN0U2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dElkKSk7XG4gIHJldHVybiBlbmNvZGUoZGF0YTIsIHtcbiAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgIHBsdWdpbnM6IFtcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIGxldCB7IG5hbWUsIG1lc3NhZ2UsIHN0YWNrIH0gPSBzZXJ2ZXJNb2RlID09PSBcInByb2R1Y3Rpb25cIiAvKiBQcm9kdWN0aW9uICovID8gc2FuaXRpemVFcnJvcih2YWx1ZSwgc2VydmVyTW9kZSkgOiB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gW1wiU2FuaXRpemVkRXJyb3JcIiwgbmFtZSwgbWVzc2FnZSwgc3RhY2tdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yUmVzcG9uc2VJbXBsKSB7XG4gICAgICAgICAgbGV0IHsgZGF0YTogZGF0YTMsIHN0YXR1cywgc3RhdHVzVGV4dCB9ID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIFtcIkVycm9yUmVzcG9uc2VcIiwgZGF0YTMsIHN0YXR1cywgc3RhdHVzVGV4dF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sIGluIHZhbHVlKSB7XG4gICAgICAgICAgcmV0dXJuIFtcIlNpbmdsZUZldGNoUmVkaXJlY3RcIiwgdmFsdWVbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF1dO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXSxcbiAgICBwb3N0UGx1Z2luczogW1xuICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICghdmFsdWUpIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIikgcmV0dXJuO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgIFwiU2luZ2xlRmV0Y2hDbGFzc0luc3RhbmNlXCIsXG4gICAgICAgICAgT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHZhbHVlKSlcbiAgICAgICAgXTtcbiAgICAgIH0sXG4gICAgICAoKSA9PiBbXCJTaW5nbGVGZXRjaEZhbGxiYWNrXCJdXG4gICAgXVxuICB9KTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3NlcnZlci50c1xuZnVuY3Rpb24gZGVyaXZlKGJ1aWxkLCBtb2RlKSB7XG4gIGxldCByb3V0ZXMgPSBjcmVhdGVSb3V0ZXMoYnVpbGQucm91dGVzKTtcbiAgbGV0IGRhdGFSb3V0ZXMgPSBjcmVhdGVTdGF0aWNIYW5kbGVyRGF0YVJvdXRlcyhidWlsZC5yb3V0ZXMsIGJ1aWxkLmZ1dHVyZSk7XG4gIGxldCBzZXJ2ZXJNb2RlID0gaXNTZXJ2ZXJNb2RlKG1vZGUpID8gbW9kZSA6IFwicHJvZHVjdGlvblwiIC8qIFByb2R1Y3Rpb24gKi87XG4gIGxldCBzdGF0aWNIYW5kbGVyID0gY3JlYXRlU3RhdGljSGFuZGxlcihkYXRhUm91dGVzLCB7XG4gICAgYmFzZW5hbWU6IGJ1aWxkLmJhc2VuYW1lXG4gIH0pO1xuICBsZXQgZXJyb3JIYW5kbGVyID0gYnVpbGQuZW50cnkubW9kdWxlLmhhbmRsZUVycm9yIHx8ICgoZXJyb3IsIHsgcmVxdWVzdCB9KSA9PiB7XG4gICAgaWYgKHNlcnZlck1vZGUgIT09IFwidGVzdFwiIC8qIFRlc3QgKi8gJiYgIXJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVGhpcyBpcyBcInByaXZhdGVcIiBmcm9tIHVzZXJzIGJ1dCBpbnRlbmRlZCBmb3IgaW50ZXJuYWwgdXNlXG4gICAgICAgIGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSAmJiBlcnJvci5lcnJvciA/IGVycm9yLmVycm9yIDogZXJyb3JcbiAgICAgICk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICByb3V0ZXMsXG4gICAgZGF0YVJvdXRlcyxcbiAgICBzZXJ2ZXJNb2RlLFxuICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgZXJyb3JIYW5kbGVyXG4gIH07XG59XG52YXIgY3JlYXRlUmVxdWVzdEhhbmRsZXIgPSAoYnVpbGQsIG1vZGUpID0+IHtcbiAgbGV0IF9idWlsZDtcbiAgbGV0IHJvdXRlcztcbiAgbGV0IHNlcnZlck1vZGU7XG4gIGxldCBzdGF0aWNIYW5kbGVyO1xuICBsZXQgZXJyb3JIYW5kbGVyO1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEhhbmRsZXIocmVxdWVzdCwgaW5pdGlhbENvbnRleHQpIHtcbiAgICBfYnVpbGQgPSB0eXBlb2YgYnVpbGQgPT09IFwiZnVuY3Rpb25cIiA/IGF3YWl0IGJ1aWxkKCkgOiBidWlsZDtcbiAgICBsZXQgbG9hZENvbnRleHQgPSBfYnVpbGQuZnV0dXJlLnVuc3RhYmxlX21pZGRsZXdhcmUgPyBuZXcgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyKFxuICAgICAgaW5pdGlhbENvbnRleHRcbiAgICApIDogaW5pdGlhbENvbnRleHQgfHwge307XG4gICAgaWYgKHR5cGVvZiBidWlsZCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBsZXQgZGVyaXZlZCA9IGRlcml2ZShfYnVpbGQsIG1vZGUpO1xuICAgICAgcm91dGVzID0gZGVyaXZlZC5yb3V0ZXM7XG4gICAgICBzZXJ2ZXJNb2RlID0gZGVyaXZlZC5zZXJ2ZXJNb2RlO1xuICAgICAgc3RhdGljSGFuZGxlciA9IGRlcml2ZWQuc3RhdGljSGFuZGxlcjtcbiAgICAgIGVycm9ySGFuZGxlciA9IGRlcml2ZWQuZXJyb3JIYW5kbGVyO1xuICAgIH0gZWxzZSBpZiAoIXJvdXRlcyB8fCAhc2VydmVyTW9kZSB8fCAhc3RhdGljSGFuZGxlciB8fCAhZXJyb3JIYW5kbGVyKSB7XG4gICAgICBsZXQgZGVyaXZlZCA9IGRlcml2ZShfYnVpbGQsIG1vZGUpO1xuICAgICAgcm91dGVzID0gZGVyaXZlZC5yb3V0ZXM7XG4gICAgICBzZXJ2ZXJNb2RlID0gZGVyaXZlZC5zZXJ2ZXJNb2RlO1xuICAgICAgc3RhdGljSGFuZGxlciA9IGRlcml2ZWQuc3RhdGljSGFuZGxlcjtcbiAgICAgIGVycm9ySGFuZGxlciA9IGRlcml2ZWQuZXJyb3JIYW5kbGVyO1xuICAgIH1cbiAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgbGV0IG5vcm1hbGl6ZWRCYXNlbmFtZSA9IF9idWlsZC5iYXNlbmFtZSB8fCBcIi9cIjtcbiAgICBsZXQgbm9ybWFsaXplZFBhdGggPSB1cmwucGF0aG5hbWU7XG4gICAgaWYgKHN0cmlwQmFzZW5hbWUobm9ybWFsaXplZFBhdGgsIG5vcm1hbGl6ZWRCYXNlbmFtZSkgPT09IFwiL19yb290LmRhdGFcIikge1xuICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkQmFzZW5hbWU7XG4gICAgfSBlbHNlIGlmIChub3JtYWxpemVkUGF0aC5lbmRzV2l0aChcIi5kYXRhXCIpKSB7XG4gICAgICBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZWRQYXRoLnJlcGxhY2UoL1xcLmRhdGEkLywgXCJcIik7XG4gICAgfVxuICAgIGlmIChzdHJpcEJhc2VuYW1lKG5vcm1hbGl6ZWRQYXRoLCBub3JtYWxpemVkQmFzZW5hbWUpICE9PSBcIi9cIiAmJiBub3JtYWxpemVkUGF0aC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgIG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplZFBhdGguc2xpY2UoMCwgLTEpO1xuICAgIH1cbiAgICBsZXQgcGFyYW1zID0ge307XG4gICAgbGV0IGhhbmRsZUVycm9yID0gKGVycm9yKSA9PiB7XG4gICAgICBpZiAobW9kZSA9PT0gXCJkZXZlbG9wbWVudFwiIC8qIERldmVsb3BtZW50ICovKSB7XG4gICAgICAgIGdldERldlNlcnZlckhvb2tzKCk/LnByb2Nlc3NSZXF1ZXN0RXJyb3I/LihlcnJvcik7XG4gICAgICB9XG4gICAgICBlcnJvckhhbmRsZXIoZXJyb3IsIHtcbiAgICAgICAgY29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfSk7XG4gICAgfTtcbiAgICBpZiAoIV9idWlsZC5zc3IpIHtcbiAgICAgIGlmIChfYnVpbGQucHJlcmVuZGVyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KFwiWC1SZWFjdC1Sb3V0ZXItU1BBLU1vZGVcIiwgXCJ5ZXNcIik7XG4gICAgICB9IGVsc2UgaWYgKCFfYnVpbGQucHJlcmVuZGVyLmluY2x1ZGVzKG5vcm1hbGl6ZWRQYXRoKSAmJiAhX2J1aWxkLnByZXJlbmRlci5pbmNsdWRlcyhub3JtYWxpemVkUGF0aCArIFwiL1wiKSkge1xuICAgICAgICBpZiAodXJsLnBhdGhuYW1lLmVuZHNXaXRoKFwiLmRhdGFcIikpIHtcbiAgICAgICAgICBlcnJvckhhbmRsZXIoXG4gICAgICAgICAgICBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgICAgICAgICAgIDQwNCxcbiAgICAgICAgICAgICAgXCJOb3QgRm91bmRcIixcbiAgICAgICAgICAgICAgYFJlZnVzaW5nIHRvIFNTUiB0aGUgcGF0aCBcXGAke25vcm1hbGl6ZWRQYXRofVxcYCBiZWNhdXNlIFxcYHNzcjpmYWxzZVxcYCBpcyBzZXQgYW5kIHRoZSBwYXRoIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgXFxgcHJlcmVuZGVyXFxgIGNvbmZpZywgc28gaW4gcHJvZHVjdGlvbiB0aGUgcGF0aCB3aWxsIGJlIGEgNDA0LmBcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGNvbnRleHQ6IGxvYWRDb250ZXh0LFxuICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgIHJlcXVlc3RcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXCJOb3QgRm91bmRcIiwge1xuICAgICAgICAgICAgc3RhdHVzOiA0MDQsXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiBcIk5vdCBGb3VuZFwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVxdWVzdC5oZWFkZXJzLnNldChcIlgtUmVhY3QtUm91dGVyLVNQQS1Nb2RlXCIsIFwieWVzXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBtYW5pZmVzdFVybCA9IGAke25vcm1hbGl6ZWRCYXNlbmFtZX0vX19tYW5pZmVzdGAucmVwbGFjZSgvXFwvKy9nLCBcIi9cIik7XG4gICAgaWYgKHVybC5wYXRobmFtZSA9PT0gbWFuaWZlc3RVcmwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGxldCByZXMgPSBhd2FpdCBoYW5kbGVNYW5pZmVzdFJlcXVlc3QoX2J1aWxkLCByb3V0ZXMsIHVybCk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGUpO1xuICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiVW5rbm93biBTZXJ2ZXIgRXJyb3JcIiwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFNlcnZlclJvdXRlcyhyb3V0ZXMsIHVybC5wYXRobmFtZSwgX2J1aWxkLmJhc2VuYW1lKTtcbiAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIE9iamVjdC5hc3NpZ24ocGFyYW1zLCBtYXRjaGVzWzBdLnBhcmFtcyk7XG4gICAgfVxuICAgIGxldCByZXNwb25zZTtcbiAgICBpZiAodXJsLnBhdGhuYW1lLmVuZHNXaXRoKFwiLmRhdGFcIikpIHtcbiAgICAgIGxldCBoYW5kbGVyVXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICBoYW5kbGVyVXJsLnBhdGhuYW1lID0gbm9ybWFsaXplZFBhdGg7XG4gICAgICBsZXQgc2luZ2xlRmV0Y2hNYXRjaGVzID0gbWF0Y2hTZXJ2ZXJSb3V0ZXMoXG4gICAgICAgIHJvdXRlcyxcbiAgICAgICAgaGFuZGxlclVybC5wYXRobmFtZSxcbiAgICAgICAgX2J1aWxkLmJhc2VuYW1lXG4gICAgICApO1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVTaW5nbGVGZXRjaFJlcXVlc3QoXG4gICAgICAgIHNlcnZlck1vZGUsXG4gICAgICAgIF9idWlsZCxcbiAgICAgICAgc3RhdGljSGFuZGxlcixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgaGFuZGxlclVybCxcbiAgICAgICAgbG9hZENvbnRleHQsXG4gICAgICAgIGhhbmRsZUVycm9yXG4gICAgICApO1xuICAgICAgaWYgKF9idWlsZC5lbnRyeS5tb2R1bGUuaGFuZGxlRGF0YVJlcXVlc3QpIHtcbiAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBfYnVpbGQuZW50cnkubW9kdWxlLmhhbmRsZURhdGFSZXF1ZXN0KHJlc3BvbnNlLCB7XG4gICAgICAgICAgY29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICAgICAgcGFyYW1zOiBzaW5nbGVGZXRjaE1hdGNoZXMgPyBzaW5nbGVGZXRjaE1hdGNoZXNbMF0ucGFyYW1zIDoge30sXG4gICAgICAgICAgcmVxdWVzdFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzUmVkaXJlY3RSZXNwb25zZShyZXNwb25zZSkpIHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gZ2V0U2luZ2xlRmV0Y2hSZWRpcmVjdChcbiAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgIHJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgICBfYnVpbGQuYmFzZW5hbWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gXCJHRVRcIikge1xuICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICBbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF06IHJlc3VsdFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhyZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICBoZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcInRleHQveC1zY3JpcHRcIik7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgICAgICAgIGVuY29kZVZpYVR1cmJvU3RyZWFtKFxuICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgICAgICAgICBfYnVpbGQuZW50cnkubW9kdWxlLnN0cmVhbVRpbWVvdXQsXG4gICAgICAgICAgICAgIHNlcnZlck1vZGVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXR1czogU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVUyxcbiAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFyZXF1ZXN0LmhlYWRlcnMuaGFzKFwiWC1SZWFjdC1Sb3V0ZXItU1BBLU1vZGVcIikgJiYgbWF0Y2hlcyAmJiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUubW9kdWxlLmRlZmF1bHQgPT0gbnVsbCAmJiBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUubW9kdWxlLkVycm9yQm91bmRhcnkgPT0gbnVsbCkge1xuICAgICAgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVSZXNvdXJjZVJlcXVlc3QoXG4gICAgICAgIHNlcnZlck1vZGUsXG4gICAgICAgIF9idWlsZCxcbiAgICAgICAgc3RhdGljSGFuZGxlcixcbiAgICAgICAgbWF0Y2hlcy5zbGljZSgtMSlbMF0ucm91dGUuaWQsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGxvYWRDb250ZXh0LFxuICAgICAgICBoYW5kbGVFcnJvclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHsgcGF0aG5hbWUgfSA9IHVybDtcbiAgICAgIGxldCBjcml0aWNhbENzcyA9IHZvaWQgMDtcbiAgICAgIGlmIChfYnVpbGQuZ2V0Q3JpdGljYWxDc3MpIHtcbiAgICAgICAgY3JpdGljYWxDc3MgPSBhd2FpdCBfYnVpbGQuZ2V0Q3JpdGljYWxDc3MoeyBwYXRobmFtZSB9KTtcbiAgICAgIH0gZWxzZSBpZiAobW9kZSA9PT0gXCJkZXZlbG9wbWVudFwiIC8qIERldmVsb3BtZW50ICovICYmIGdldERldlNlcnZlckhvb2tzKCk/LmdldENyaXRpY2FsQ3NzKSB7XG4gICAgICAgIGNyaXRpY2FsQ3NzID0gYXdhaXQgZ2V0RGV2U2VydmVySG9va3MoKT8uZ2V0Q3JpdGljYWxDc3M/LihwYXRobmFtZSk7XG4gICAgICB9XG4gICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZURvY3VtZW50UmVxdWVzdChcbiAgICAgICAgc2VydmVyTW9kZSxcbiAgICAgICAgX2J1aWxkLFxuICAgICAgICBzdGF0aWNIYW5kbGVyLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBsb2FkQ29udGV4dCxcbiAgICAgICAgaGFuZGxlRXJyb3IsXG4gICAgICAgIGNyaXRpY2FsQ3NzXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAocmVxdWVzdC5tZXRob2QgPT09IFwiSEVBRFwiKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgaGVhZGVyczogcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHRcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH07XG59O1xuYXN5bmMgZnVuY3Rpb24gaGFuZGxlTWFuaWZlc3RSZXF1ZXN0KGJ1aWxkLCByb3V0ZXMsIHVybCkge1xuICBpZiAoYnVpbGQuYXNzZXRzLnZlcnNpb24gIT09IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwidmVyc2lvblwiKSkge1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgc3RhdHVzOiAyMDQsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIjogXCJ0cnVlXCJcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBsZXQgcGF0Y2hlcyA9IHt9O1xuICBpZiAodXJsLnNlYXJjaFBhcmFtcy5oYXMoXCJwXCIpKSB7XG4gICAgZm9yIChsZXQgcGF0aCBvZiB1cmwuc2VhcmNoUGFyYW1zLmdldEFsbChcInBcIikpIHtcbiAgICAgIGxldCBtYXRjaGVzID0gbWF0Y2hTZXJ2ZXJSb3V0ZXMocm91dGVzLCBwYXRoLCBidWlsZC5iYXNlbmFtZSk7XG4gICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICAgICAgbGV0IHJvdXRlSWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICAgICAgICBsZXQgcm91dGUgPSBidWlsZC5hc3NldHMucm91dGVzW3JvdXRlSWRdO1xuICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgcGF0Y2hlc1tyb3V0ZUlkXSA9IHJvdXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbihwYXRjaGVzLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcInB1YmxpYywgbWF4LWFnZT0zMTUzNjAwMCwgaW1tdXRhYmxlXCJcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IFJlc3BvbnNlKFwiSW52YWxpZCBSZXF1ZXN0XCIsIHsgc3RhdHVzOiA0MDAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVTaW5nbGVGZXRjaFJlcXVlc3Qoc2VydmVyTW9kZSwgYnVpbGQsIHN0YXRpY0hhbmRsZXIsIHJlcXVlc3QsIGhhbmRsZXJVcmwsIGxvYWRDb250ZXh0LCBoYW5kbGVFcnJvcikge1xuICBsZXQgcmVzcG9uc2UgPSByZXF1ZXN0Lm1ldGhvZCAhPT0gXCJHRVRcIiA/IGF3YWl0IHNpbmdsZUZldGNoQWN0aW9uKFxuICAgIGJ1aWxkLFxuICAgIHNlcnZlck1vZGUsXG4gICAgc3RhdGljSGFuZGxlcixcbiAgICByZXF1ZXN0LFxuICAgIGhhbmRsZXJVcmwsXG4gICAgbG9hZENvbnRleHQsXG4gICAgaGFuZGxlRXJyb3JcbiAgKSA6IGF3YWl0IHNpbmdsZUZldGNoTG9hZGVycyhcbiAgICBidWlsZCxcbiAgICBzZXJ2ZXJNb2RlLFxuICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgcmVxdWVzdCxcbiAgICBoYW5kbGVyVXJsLFxuICAgIGxvYWRDb250ZXh0LFxuICAgIGhhbmRsZUVycm9yXG4gICk7XG4gIHJldHVybiByZXNwb25zZTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZURvY3VtZW50UmVxdWVzdChzZXJ2ZXJNb2RlLCBidWlsZCwgc3RhdGljSGFuZGxlciwgcmVxdWVzdCwgbG9hZENvbnRleHQsIGhhbmRsZUVycm9yLCBjcml0aWNhbENzcykge1xuICBsZXQgaXNTcGFNb2RlID0gcmVxdWVzdC5oZWFkZXJzLmhhcyhcIlgtUmVhY3QtUm91dGVyLVNQQS1Nb2RlXCIpO1xuICB0cnkge1xuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHN0YXRpY0hhbmRsZXIucXVlcnkocmVxdWVzdCwge1xuICAgICAgcmVxdWVzdENvbnRleHQ6IGxvYWRDb250ZXh0LFxuICAgICAgdW5zdGFibGVfcmVzcG9uZDogYnVpbGQuZnV0dXJlLnVuc3RhYmxlX21pZGRsZXdhcmUgPyAoY3R4KSA9PiByZW5kZXJIdG1sKGN0eCwgaXNTcGFNb2RlKSA6IHZvaWQgMFxuICAgIH0pO1xuICAgIHJldHVybiBpc1Jlc3BvbnNlKHJlc3BvbnNlKSA/IHJlc3BvbnNlIDogcmVuZGVySHRtbChyZXNwb25zZSwgaXNTcGFNb2RlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHJlbmRlckh0bWwoY29udGV4dCwgaXNTcGFNb2RlMikge1xuICAgIGlmIChpc1Jlc3BvbnNlKGNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gY29udGV4dDtcbiAgICB9XG4gICAgbGV0IGhlYWRlcnMgPSBnZXREb2N1bWVudEhlYWRlcnMoYnVpbGQsIGNvbnRleHQpO1xuICAgIGlmIChOT19CT0RZX1NUQVRVU19DT0RFUy5oYXMoY29udGV4dC5zdGF0dXNDb2RlKSkge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7IHN0YXR1czogY29udGV4dC5zdGF0dXNDb2RlLCBoZWFkZXJzIH0pO1xuICAgIH1cbiAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgIE9iamVjdC52YWx1ZXMoY29udGV4dC5lcnJvcnMpLmZvckVhY2goKGVycikgPT4ge1xuICAgICAgICBpZiAoIWlzUm91dGVFcnJvclJlc3BvbnNlKGVycikgfHwgZXJyLmVycm9yKSB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb250ZXh0LmVycm9ycyA9IHNhbml0aXplRXJyb3JzKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKTtcbiAgICB9XG4gICAgbGV0IHN0YXRlID0ge1xuICAgICAgbG9hZGVyRGF0YTogY29udGV4dC5sb2FkZXJEYXRhLFxuICAgICAgYWN0aW9uRGF0YTogY29udGV4dC5hY3Rpb25EYXRhLFxuICAgICAgZXJyb3JzOiBzZXJpYWxpemVFcnJvcnMyKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKVxuICAgIH07XG4gICAgbGV0IGVudHJ5Q29udGV4dCA9IHtcbiAgICAgIG1hbmlmZXN0OiBidWlsZC5hc3NldHMsXG4gICAgICByb3V0ZU1vZHVsZXM6IGNyZWF0ZUVudHJ5Um91dGVNb2R1bGVzKGJ1aWxkLnJvdXRlcyksXG4gICAgICBzdGF0aWNIYW5kbGVyQ29udGV4dDogY29udGV4dCxcbiAgICAgIGNyaXRpY2FsQ3NzLFxuICAgICAgc2VydmVySGFuZG9mZlN0cmluZzogY3JlYXRlU2VydmVySGFuZG9mZlN0cmluZyh7XG4gICAgICAgIGJhc2VuYW1lOiBidWlsZC5iYXNlbmFtZSxcbiAgICAgICAgY3JpdGljYWxDc3MsXG4gICAgICAgIGZ1dHVyZTogYnVpbGQuZnV0dXJlLFxuICAgICAgICBzc3I6IGJ1aWxkLnNzcixcbiAgICAgICAgaXNTcGFNb2RlOiBpc1NwYU1vZGUyXG4gICAgICB9KSxcbiAgICAgIHNlcnZlckhhbmRvZmZTdHJlYW06IGVuY29kZVZpYVR1cmJvU3RyZWFtKFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGJ1aWxkLmVudHJ5Lm1vZHVsZS5zdHJlYW1UaW1lb3V0LFxuICAgICAgICBzZXJ2ZXJNb2RlXG4gICAgICApLFxuICAgICAgcmVuZGVyTWV0YToge30sXG4gICAgICBmdXR1cmU6IGJ1aWxkLmZ1dHVyZSxcbiAgICAgIHNzcjogYnVpbGQuc3NyLFxuICAgICAgaXNTcGFNb2RlOiBpc1NwYU1vZGUyLFxuICAgICAgc2VyaWFsaXplRXJyb3I6IChlcnIpID0+IHNlcmlhbGl6ZUVycm9yKGVyciwgc2VydmVyTW9kZSlcbiAgICB9O1xuICAgIGxldCBoYW5kbGVEb2N1bWVudFJlcXVlc3RGdW5jdGlvbiA9IGJ1aWxkLmVudHJ5Lm1vZHVsZS5kZWZhdWx0O1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgaGFuZGxlRG9jdW1lbnRSZXF1ZXN0RnVuY3Rpb24oXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGNvbnRleHQuc3RhdHVzQ29kZSxcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgZW50cnlDb250ZXh0LFxuICAgICAgICBsb2FkQ29udGV4dFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgbGV0IGVycm9yRm9yU2Vjb25kUmVuZGVyID0gZXJyb3I7XG4gICAgICBpZiAoaXNSZXNwb25zZShlcnJvcikpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgZGF0YTIgPSBhd2FpdCB1bndyYXBSZXNwb25zZShlcnJvcik7XG4gICAgICAgICAgZXJyb3JGb3JTZWNvbmRSZW5kZXIgPSBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgICAgICAgICBlcnJvci5zdGF0dXMsXG4gICAgICAgICAgICBlcnJvci5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgZGF0YTJcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnRleHQgPSBnZXRTdGF0aWNDb250ZXh0RnJvbUVycm9yKFxuICAgICAgICBzdGF0aWNIYW5kbGVyLmRhdGFSb3V0ZXMsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGVycm9yRm9yU2Vjb25kUmVuZGVyXG4gICAgICApO1xuICAgICAgaWYgKGNvbnRleHQuZXJyb3JzKSB7XG4gICAgICAgIGNvbnRleHQuZXJyb3JzID0gc2FuaXRpemVFcnJvcnMoY29udGV4dC5lcnJvcnMsIHNlcnZlck1vZGUpO1xuICAgICAgfVxuICAgICAgbGV0IHN0YXRlMiA9IHtcbiAgICAgICAgbG9hZGVyRGF0YTogY29udGV4dC5sb2FkZXJEYXRhLFxuICAgICAgICBhY3Rpb25EYXRhOiBjb250ZXh0LmFjdGlvbkRhdGEsXG4gICAgICAgIGVycm9yczogc2VyaWFsaXplRXJyb3JzMihjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSlcbiAgICAgIH07XG4gICAgICBlbnRyeUNvbnRleHQgPSB7XG4gICAgICAgIC4uLmVudHJ5Q29udGV4dCxcbiAgICAgICAgc3RhdGljSGFuZGxlckNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgIHNlcnZlckhhbmRvZmZTdHJpbmc6IGNyZWF0ZVNlcnZlckhhbmRvZmZTdHJpbmcoe1xuICAgICAgICAgIGJhc2VuYW1lOiBidWlsZC5iYXNlbmFtZSxcbiAgICAgICAgICBmdXR1cmU6IGJ1aWxkLmZ1dHVyZSxcbiAgICAgICAgICBzc3I6IGJ1aWxkLnNzcixcbiAgICAgICAgICBpc1NwYU1vZGU6IGlzU3BhTW9kZTJcbiAgICAgICAgfSksXG4gICAgICAgIHNlcnZlckhhbmRvZmZTdHJlYW06IGVuY29kZVZpYVR1cmJvU3RyZWFtKFxuICAgICAgICAgIHN0YXRlMixcbiAgICAgICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAgICBidWlsZC5lbnRyeS5tb2R1bGUuc3RyZWFtVGltZW91dCxcbiAgICAgICAgICBzZXJ2ZXJNb2RlXG4gICAgICAgICksXG4gICAgICAgIHJlbmRlck1ldGE6IHt9XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZURvY3VtZW50UmVxdWVzdEZ1bmN0aW9uKFxuICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgY29udGV4dC5zdGF0dXNDb2RlLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgZW50cnlDb250ZXh0LFxuICAgICAgICAgIGxvYWRDb250ZXh0XG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnJvcjIpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IyKTtcbiAgICAgICAgcmV0dXJuIHJldHVybkxhc3RSZXNvcnRFcnJvclJlc3BvbnNlKGVycm9yMiwgc2VydmVyTW9kZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVSZXNvdXJjZVJlcXVlc3Qoc2VydmVyTW9kZSwgYnVpbGQsIHN0YXRpY0hhbmRsZXIsIHJvdXRlSWQsIHJlcXVlc3QsIGxvYWRDb250ZXh0LCBoYW5kbGVFcnJvcikge1xuICB0cnkge1xuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IHN0YXRpY0hhbmRsZXIucXVlcnlSb3V0ZShyZXF1ZXN0LCB7XG4gICAgICByb3V0ZUlkLFxuICAgICAgcmVxdWVzdENvbnRleHQ6IGxvYWRDb250ZXh0LFxuICAgICAgdW5zdGFibGVfcmVzcG9uZDogYnVpbGQuZnV0dXJlLnVuc3RhYmxlX21pZGRsZXdhcmUgPyAoY3R4KSA9PiBjdHggOiB2b2lkIDBcbiAgICB9KTtcbiAgICBpZiAoaXNSZXNwb25zZShyZXNwb25zZSkpIHtcbiAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiByZXNwb25zZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShyZXNwb25zZSk7XG4gICAgfVxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHJlc3BvbnNlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoaXNSZXNwb25zZShlcnJvcikpIHtcbiAgICAgIGVycm9yLmhlYWRlcnMuc2V0KFwiWC1SZW1peC1DYXRjaFwiLCBcInllc1wiKTtcbiAgICAgIHJldHVybiBlcnJvcjtcbiAgICB9XG4gICAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSkge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlcnJvclJlc3BvbnNlVG9Kc29uKGVycm9yLCBzZXJ2ZXJNb2RlKTtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubWVzc2FnZSA9PT0gXCJFeHBlY3RlZCBhIHJlc3BvbnNlIGZyb20gcXVlcnlSb3V0ZVwiKSB7XG4gICAgICBsZXQgbmV3RXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXhwZWN0ZWQgYSBSZXNwb25zZSB0byBiZSByZXR1cm5lZCBmcm9tIHJlc291cmNlIHJvdXRlIGhhbmRsZXJcIlxuICAgICAgKTtcbiAgICAgIGhhbmRsZUVycm9yKG5ld0Vycm9yKTtcbiAgICAgIHJldHVybiByZXR1cm5MYXN0UmVzb3J0RXJyb3JSZXNwb25zZShuZXdFcnJvciwgc2VydmVyTW9kZSk7XG4gICAgfVxuICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gcmV0dXJuTGFzdFJlc29ydEVycm9yUmVzcG9uc2UoZXJyb3IsIHNlcnZlck1vZGUpO1xuICB9XG59XG5mdW5jdGlvbiBlcnJvclJlc3BvbnNlVG9Kc29uKGVycm9yUmVzcG9uc2UsIHNlcnZlck1vZGUpIHtcbiAgcmV0dXJuIFJlc3BvbnNlLmpzb24oXG4gICAgc2VyaWFsaXplRXJyb3IoXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFRoaXMgaXMgXCJwcml2YXRlXCIgZnJvbSB1c2VycyBidXQgaW50ZW5kZWQgZm9yIGludGVybmFsIHVzZVxuICAgICAgZXJyb3JSZXNwb25zZS5lcnJvciB8fCBuZXcgRXJyb3IoXCJVbmV4cGVjdGVkIFNlcnZlciBFcnJvclwiKSxcbiAgICAgIHNlcnZlck1vZGVcbiAgICApLFxuICAgIHtcbiAgICAgIHN0YXR1czogZXJyb3JSZXNwb25zZS5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiWC1SZW1peC1FcnJvclwiOiBcInllc1wiXG4gICAgICB9XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gcmV0dXJuTGFzdFJlc29ydEVycm9yUmVzcG9uc2UoZXJyb3IsIHNlcnZlck1vZGUpIHtcbiAgbGV0IG1lc3NhZ2UgPSBcIlVuZXhwZWN0ZWQgU2VydmVyIEVycm9yXCI7XG4gIGlmIChzZXJ2ZXJNb2RlICE9PSBcInByb2R1Y3Rpb25cIiAvKiBQcm9kdWN0aW9uICovKSB7XG4gICAgbWVzc2FnZSArPSBgXG5cbiR7U3RyaW5nKGVycm9yKX1gO1xuICB9XG4gIHJldHVybiBuZXcgUmVzcG9uc2UobWVzc2FnZSwge1xuICAgIHN0YXR1czogNTAwLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwidGV4dC9wbGFpblwiXG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIHVud3JhcFJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gIGxldCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpO1xuICByZXR1cm4gY29udGVudFR5cGUgJiYgL1xcYmFwcGxpY2F0aW9uXFwvanNvblxcYi8udGVzdChjb250ZW50VHlwZSkgPyByZXNwb25zZS5ib2R5ID09IG51bGwgPyBudWxsIDogcmVzcG9uc2UuanNvbigpIDogcmVzcG9uc2UudGV4dCgpO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2Vzc2lvbnMudHNcbmZ1bmN0aW9uIGZsYXNoKG5hbWUpIHtcbiAgcmV0dXJuIGBfX2ZsYXNoXyR7bmFtZX1fX2A7XG59XG52YXIgY3JlYXRlU2Vzc2lvbiA9IChpbml0aWFsRGF0YSA9IHt9LCBpZCA9IFwiXCIpID0+IHtcbiAgbGV0IG1hcCA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoaW5pdGlhbERhdGEpKTtcbiAgcmV0dXJuIHtcbiAgICBnZXQgaWQoKSB7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfSxcbiAgICBnZXQgZGF0YSgpIHtcbiAgICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMobWFwKTtcbiAgICB9LFxuICAgIGhhcyhuYW1lKSB7XG4gICAgICByZXR1cm4gbWFwLmhhcyhuYW1lKSB8fCBtYXAuaGFzKGZsYXNoKG5hbWUpKTtcbiAgICB9LFxuICAgIGdldChuYW1lKSB7XG4gICAgICBpZiAobWFwLmhhcyhuYW1lKSkgcmV0dXJuIG1hcC5nZXQobmFtZSk7XG4gICAgICBsZXQgZmxhc2hOYW1lID0gZmxhc2gobmFtZSk7XG4gICAgICBpZiAobWFwLmhhcyhmbGFzaE5hbWUpKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IG1hcC5nZXQoZmxhc2hOYW1lKTtcbiAgICAgICAgbWFwLmRlbGV0ZShmbGFzaE5hbWUpO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0sXG4gICAgc2V0KG5hbWUsIHZhbHVlKSB7XG4gICAgICBtYXAuc2V0KG5hbWUsIHZhbHVlKTtcbiAgICB9LFxuICAgIGZsYXNoKG5hbWUsIHZhbHVlKSB7XG4gICAgICBtYXAuc2V0KGZsYXNoKG5hbWUpLCB2YWx1ZSk7XG4gICAgfSxcbiAgICB1bnNldChuYW1lKSB7XG4gICAgICBtYXAuZGVsZXRlKG5hbWUpO1xuICAgIH1cbiAgfTtcbn07XG52YXIgaXNTZXNzaW9uID0gKG9iamVjdCkgPT4ge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgdHlwZW9mIG9iamVjdC5pZCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygb2JqZWN0LmRhdGEgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG9iamVjdC5oYXMgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqZWN0LmdldCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmplY3Quc2V0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iamVjdC5mbGFzaCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmplY3QudW5zZXQgPT09IFwiZnVuY3Rpb25cIjtcbn07XG5mdW5jdGlvbiBjcmVhdGVTZXNzaW9uU3RvcmFnZSh7XG4gIGNvb2tpZTogY29va2llQXJnLFxuICBjcmVhdGVEYXRhLFxuICByZWFkRGF0YSxcbiAgdXBkYXRlRGF0YSxcbiAgZGVsZXRlRGF0YVxufSkge1xuICBsZXQgY29va2llID0gaXNDb29raWUoY29va2llQXJnKSA/IGNvb2tpZUFyZyA6IGNyZWF0ZUNvb2tpZShjb29raWVBcmc/Lm5hbWUgfHwgXCJfX3Nlc3Npb25cIiwgY29va2llQXJnKTtcbiAgd2Fybk9uY2VBYm91dFNpZ25pbmdTZXNzaW9uQ29va2llKGNvb2tpZSk7XG4gIHJldHVybiB7XG4gICAgYXN5bmMgZ2V0U2Vzc2lvbihjb29raWVIZWFkZXIsIG9wdGlvbnMpIHtcbiAgICAgIGxldCBpZCA9IGNvb2tpZUhlYWRlciAmJiBhd2FpdCBjb29raWUucGFyc2UoY29va2llSGVhZGVyLCBvcHRpb25zKTtcbiAgICAgIGxldCBkYXRhMiA9IGlkICYmIGF3YWl0IHJlYWREYXRhKGlkKTtcbiAgICAgIHJldHVybiBjcmVhdGVTZXNzaW9uKGRhdGEyIHx8IHt9LCBpZCB8fCBcIlwiKTtcbiAgICB9LFxuICAgIGFzeW5jIGNvbW1pdFNlc3Npb24oc2Vzc2lvbiwgb3B0aW9ucykge1xuICAgICAgbGV0IHsgaWQsIGRhdGE6IGRhdGEyIH0gPSBzZXNzaW9uO1xuICAgICAgbGV0IGV4cGlyZXMgPSBvcHRpb25zPy5tYXhBZ2UgIT0gbnVsbCA/IG5ldyBEYXRlKERhdGUubm93KCkgKyBvcHRpb25zLm1heEFnZSAqIDFlMykgOiBvcHRpb25zPy5leHBpcmVzICE9IG51bGwgPyBvcHRpb25zLmV4cGlyZXMgOiBjb29raWUuZXhwaXJlcztcbiAgICAgIGlmIChpZCkge1xuICAgICAgICBhd2FpdCB1cGRhdGVEYXRhKGlkLCBkYXRhMiwgZXhwaXJlcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZCA9IGF3YWl0IGNyZWF0ZURhdGEoZGF0YTIsIGV4cGlyZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvb2tpZS5zZXJpYWxpemUoaWQsIG9wdGlvbnMpO1xuICAgIH0sXG4gICAgYXN5bmMgZGVzdHJveVNlc3Npb24oc2Vzc2lvbiwgb3B0aW9ucykge1xuICAgICAgYXdhaXQgZGVsZXRlRGF0YShzZXNzaW9uLmlkKTtcbiAgICAgIHJldHVybiBjb29raWUuc2VyaWFsaXplKFwiXCIsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgbWF4QWdlOiB2b2lkIDAsXG4gICAgICAgIGV4cGlyZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgwKVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gd2Fybk9uY2VBYm91dFNpZ25pbmdTZXNzaW9uQ29va2llKGNvb2tpZSkge1xuICB3YXJuT25jZShcbiAgICBjb29raWUuaXNTaWduZWQsXG4gICAgYFRoZSBcIiR7Y29va2llLm5hbWV9XCIgY29va2llIGlzIG5vdCBzaWduZWQsIGJ1dCBzZXNzaW9uIGNvb2tpZXMgc2hvdWxkIGJlIHNpZ25lZCB0byBwcmV2ZW50IHRhbXBlcmluZyBvbiB0aGUgY2xpZW50IGJlZm9yZSB0aGV5IGFyZSBzZW50IGJhY2sgdG8gdGhlIHNlcnZlci4gU2VlIGh0dHBzOi8vcmVtaXgucnVuL3V0aWxzL2Nvb2tpZXMjc2lnbmluZy1jb29raWVzIGZvciBtb3JlIGluZm9ybWF0aW9uLmBcbiAgKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3Nlc3Npb25zL2Nvb2tpZVN0b3JhZ2UudHNcbmZ1bmN0aW9uIGNyZWF0ZUNvb2tpZVNlc3Npb25TdG9yYWdlKHsgY29va2llOiBjb29raWVBcmcgfSA9IHt9KSB7XG4gIGxldCBjb29raWUgPSBpc0Nvb2tpZShjb29raWVBcmcpID8gY29va2llQXJnIDogY3JlYXRlQ29va2llKGNvb2tpZUFyZz8ubmFtZSB8fCBcIl9fc2Vzc2lvblwiLCBjb29raWVBcmcpO1xuICB3YXJuT25jZUFib3V0U2lnbmluZ1Nlc3Npb25Db29raWUoY29va2llKTtcbiAgcmV0dXJuIHtcbiAgICBhc3luYyBnZXRTZXNzaW9uKGNvb2tpZUhlYWRlciwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVNlc3Npb24oXG4gICAgICAgIGNvb2tpZUhlYWRlciAmJiBhd2FpdCBjb29raWUucGFyc2UoY29va2llSGVhZGVyLCBvcHRpb25zKSB8fCB7fVxuICAgICAgKTtcbiAgICB9LFxuICAgIGFzeW5jIGNvbW1pdFNlc3Npb24oc2Vzc2lvbiwgb3B0aW9ucykge1xuICAgICAgbGV0IHNlcmlhbGl6ZWRDb29raWUgPSBhd2FpdCBjb29raWUuc2VyaWFsaXplKHNlc3Npb24uZGF0YSwgb3B0aW9ucyk7XG4gICAgICBpZiAoc2VyaWFsaXplZENvb2tpZS5sZW5ndGggPiA0MDk2KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkNvb2tpZSBsZW5ndGggd2lsbCBleGNlZWQgYnJvd3NlciBtYXhpbXVtLiBMZW5ndGg6IFwiICsgc2VyaWFsaXplZENvb2tpZS5sZW5ndGhcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXJpYWxpemVkQ29va2llO1xuICAgIH0sXG4gICAgYXN5bmMgZGVzdHJveVNlc3Npb24oX3Nlc3Npb24sIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBjb29raWUuc2VyaWFsaXplKFwiXCIsIHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgbWF4QWdlOiB2b2lkIDAsXG4gICAgICAgIGV4cGlyZXM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgwKVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2Vzc2lvbnMvbWVtb3J5U3RvcmFnZS50c1xuZnVuY3Rpb24gY3JlYXRlTWVtb3J5U2Vzc2lvblN0b3JhZ2UoeyBjb29raWUgfSA9IHt9KSB7XG4gIGxldCBtYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICByZXR1cm4gY3JlYXRlU2Vzc2lvblN0b3JhZ2Uoe1xuICAgIGNvb2tpZSxcbiAgICBhc3luYyBjcmVhdGVEYXRhKGRhdGEyLCBleHBpcmVzKSB7XG4gICAgICBsZXQgaWQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTApO1xuICAgICAgbWFwLnNldChpZCwgeyBkYXRhOiBkYXRhMiwgZXhwaXJlcyB9KTtcbiAgICAgIHJldHVybiBpZDtcbiAgICB9LFxuICAgIGFzeW5jIHJlYWREYXRhKGlkKSB7XG4gICAgICBpZiAobWFwLmhhcyhpZCkpIHtcbiAgICAgICAgbGV0IHsgZGF0YTogZGF0YTIsIGV4cGlyZXMgfSA9IG1hcC5nZXQoaWQpO1xuICAgICAgICBpZiAoIWV4cGlyZXMgfHwgZXhwaXJlcyA+IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKSB7XG4gICAgICAgICAgcmV0dXJuIGRhdGEyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHBpcmVzKSBtYXAuZGVsZXRlKGlkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgYXN5bmMgdXBkYXRlRGF0YShpZCwgZGF0YTIsIGV4cGlyZXMpIHtcbiAgICAgIG1hcC5zZXQoaWQsIHsgZGF0YTogZGF0YTIsIGV4cGlyZXMgfSk7XG4gICAgfSxcbiAgICBhc3luYyBkZWxldGVEYXRhKGlkKSB7XG4gICAgICBtYXAuZGVsZXRlKGlkKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBsaWIvaHJlZi50c1xuZnVuY3Rpb24gaHJlZihwYXRoLCAuLi5hcmdzKSB7XG4gIGxldCBwYXJhbXMgPSBhcmdzWzBdO1xuICByZXR1cm4gcGF0aC5zcGxpdChcIi9cIikubWFwKChzZWdtZW50KSA9PiB7XG4gICAgY29uc3QgbWF0Y2ggPSBzZWdtZW50Lm1hdGNoKC9eOihbXFx3LV0rKShcXD8pPy8pO1xuICAgIGlmICghbWF0Y2gpIHJldHVybiBzZWdtZW50O1xuICAgIGNvbnN0IHBhcmFtID0gbWF0Y2hbMV07XG4gICAgY29uc3QgdmFsdWUgPSBwYXJhbXMgPyBwYXJhbXNbcGFyYW1dIDogdm9pZCAwO1xuICAgIGNvbnN0IGlzUmVxdWlyZWQgPSBtYXRjaFsyXSA9PT0gdm9pZCAwO1xuICAgIGlmIChpc1JlcXVpcmVkICYmIHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBgUGF0aCAnJHtwYXRofScgcmVxdWlyZXMgcGFyYW0gJyR7cGFyYW19JyBidXQgaXQgd2FzIG5vdCBwcm92aWRlZGBcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfSkuZmlsdGVyKChzZWdtZW50KSA9PiBzZWdtZW50ICE9PSB2b2lkIDApLmpvaW4oXCIvXCIpO1xufVxuXG4vLyBsaWIvZG9tL3Nzci9lcnJvcnMudHNcbmZ1bmN0aW9uIGRlc2VyaWFsaXplRXJyb3JzMihlcnJvcnMpIHtcbiAgaWYgKCFlcnJvcnMpIHJldHVybiBudWxsO1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVycm9ycyk7XG4gIGxldCBzZXJpYWxpemVkID0ge307XG4gIGZvciAobGV0IFtrZXksIHZhbF0gb2YgZW50cmllcykge1xuICAgIGlmICh2YWwgJiYgdmFsLl9fdHlwZSA9PT0gXCJSb3V0ZUVycm9yUmVzcG9uc2VcIikge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICB2YWwuc3RhdHVzLFxuICAgICAgICB2YWwuc3RhdHVzVGV4dCxcbiAgICAgICAgdmFsLmRhdGEsXG4gICAgICAgIHZhbC5pbnRlcm5hbCA9PT0gdHJ1ZVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHZhbCAmJiB2YWwuX190eXBlID09PSBcIkVycm9yXCIpIHtcbiAgICAgIGlmICh2YWwuX19zdWJUeXBlKSB7XG4gICAgICAgIGxldCBFcnJvckNvbnN0cnVjdG9yID0gd2luZG93W3ZhbC5fX3N1YlR5cGVdO1xuICAgICAgICBpZiAodHlwZW9mIEVycm9yQ29uc3RydWN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3JDb25zdHJ1Y3Rvcih2YWwubWVzc2FnZSk7XG4gICAgICAgICAgICBlcnJvci5zdGFjayA9IHZhbC5zdGFjaztcbiAgICAgICAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IGVycm9yO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzZXJpYWxpemVkW2tleV0gPT0gbnVsbCkge1xuICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3IodmFsLm1lc3NhZ2UpO1xuICAgICAgICBlcnJvci5zdGFjayA9IHZhbC5zdGFjaztcbiAgICAgICAgc2VyaWFsaXplZFtrZXldID0gZXJyb3I7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5cbmV4cG9ydCB7XG4gIEFjdGlvbixcbiAgY3JlYXRlQnJvd3Nlckhpc3RvcnksXG4gIGludmFyaWFudCxcbiAgY3JlYXRlUGF0aCxcbiAgcGFyc2VQYXRoLFxuICB1bnN0YWJsZV9jcmVhdGVDb250ZXh0LFxuICB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIsXG4gIG1hdGNoUm91dGVzLFxuICBnZW5lcmF0ZVBhdGgsXG4gIG1hdGNoUGF0aCxcbiAgcmVzb2x2ZVBhdGgsXG4gIGRhdGEsXG4gIHJlZGlyZWN0LFxuICByZWRpcmVjdERvY3VtZW50LFxuICByZXBsYWNlLFxuICBFcnJvclJlc3BvbnNlSW1wbCxcbiAgaXNSb3V0ZUVycm9yUmVzcG9uc2UsXG4gIElETEVfTkFWSUdBVElPTixcbiAgSURMRV9GRVRDSEVSLFxuICBJRExFX0JMT0NLRVIsXG4gIGNyZWF0ZVJvdXRlcixcbiAgRGF0YVJvdXRlckNvbnRleHQsXG4gIERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQsXG4gIFZpZXdUcmFuc2l0aW9uQ29udGV4dCxcbiAgRmV0Y2hlcnNDb250ZXh0LFxuICBOYXZpZ2F0aW9uQ29udGV4dCxcbiAgTG9jYXRpb25Db250ZXh0LFxuICBSb3V0ZUNvbnRleHQsXG4gIHVzZUhyZWYsXG4gIHVzZUluUm91dGVyQ29udGV4dCxcbiAgdXNlTG9jYXRpb24sXG4gIHVzZU5hdmlnYXRpb25UeXBlLFxuICB1c2VNYXRjaCxcbiAgdXNlTmF2aWdhdGUsXG4gIHVzZU91dGxldENvbnRleHQsXG4gIHVzZU91dGxldCxcbiAgdXNlUGFyYW1zLFxuICB1c2VSZXNvbHZlZFBhdGgsXG4gIHVzZVJvdXRlcyxcbiAgdXNlTmF2aWdhdGlvbixcbiAgdXNlUmV2YWxpZGF0b3IsXG4gIHVzZU1hdGNoZXMsXG4gIHVzZUxvYWRlckRhdGEsXG4gIHVzZVJvdXRlTG9hZGVyRGF0YSxcbiAgdXNlQWN0aW9uRGF0YSxcbiAgdXNlUm91dGVFcnJvcixcbiAgdXNlQXN5bmNWYWx1ZSxcbiAgdXNlQXN5bmNFcnJvcixcbiAgdXNlQmxvY2tlcixcbiAgbWFwUm91dGVQcm9wZXJ0aWVzLFxuICBjcmVhdGVNZW1vcnlSb3V0ZXIsXG4gIFJvdXRlclByb3ZpZGVyLFxuICBNZW1vcnlSb3V0ZXIsXG4gIE5hdmlnYXRlLFxuICBPdXRsZXQsXG4gIFJvdXRlLFxuICBSb3V0ZXIsXG4gIFJvdXRlcyxcbiAgQXdhaXQsXG4gIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbixcbiAgY3JlYXRlUm91dGVzRnJvbUVsZW1lbnRzLFxuICByZW5kZXJNYXRjaGVzLFxuICBjcmVhdGVTZWFyY2hQYXJhbXMsXG4gIFNpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2wsXG4gIGdldFNpbmdsZUZldGNoRGF0YVN0cmF0ZWd5LFxuICBkZWNvZGVWaWFUdXJib1N0cmVhbSxcbiAgUmVtaXhFcnJvckJvdW5kYXJ5LFxuICBjcmVhdGVDbGllbnRSb3V0ZXNXaXRoSE1SUmV2YWxpZGF0aW9uT3B0T3V0LFxuICBjcmVhdGVDbGllbnRSb3V0ZXMsXG4gIHNob3VsZEh5ZHJhdGVSb3V0ZUxvYWRlcixcbiAgZ2V0UGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbixcbiAgdXNlRm9nT0ZXYXJEaXNjb3ZlcnksXG4gIEZyYW1ld29ya0NvbnRleHQsXG4gIExpbmtzLFxuICBQcmVmZXRjaFBhZ2VMaW5rcyxcbiAgTWV0YSxcbiAgU2NyaXB0cyxcbiAgY3JlYXRlQnJvd3NlclJvdXRlcixcbiAgY3JlYXRlSGFzaFJvdXRlcixcbiAgQnJvd3NlclJvdXRlcixcbiAgSGFzaFJvdXRlcixcbiAgSGlzdG9yeVJvdXRlcixcbiAgTGluayxcbiAgTmF2TGluayxcbiAgRm9ybSxcbiAgU2Nyb2xsUmVzdG9yYXRpb24sXG4gIHVzZUxpbmtDbGlja0hhbmRsZXIsXG4gIHVzZVNlYXJjaFBhcmFtcyxcbiAgdXNlU3VibWl0LFxuICB1c2VGb3JtQWN0aW9uLFxuICB1c2VGZXRjaGVyLFxuICB1c2VGZXRjaGVycyxcbiAgdXNlU2Nyb2xsUmVzdG9yYXRpb24sXG4gIHVzZUJlZm9yZVVubG9hZCxcbiAgdXNlUHJvbXB0LFxuICB1c2VWaWV3VHJhbnNpdGlvblN0YXRlLFxuICBTdGF0aWNSb3V0ZXIsXG4gIFN0YXRpY1JvdXRlclByb3ZpZGVyLFxuICBjcmVhdGVTdGF0aWNIYW5kbGVyMiBhcyBjcmVhdGVTdGF0aWNIYW5kbGVyLFxuICBjcmVhdGVTdGF0aWNSb3V0ZXIsXG4gIFNlcnZlclJvdXRlcixcbiAgY3JlYXRlUm91dGVzU3R1YixcbiAgY3JlYXRlQ29va2llLFxuICBpc0Nvb2tpZSxcbiAgU2VydmVyTW9kZSxcbiAgc2V0RGV2U2VydmVySG9va3MsXG4gIGNyZWF0ZVJlcXVlc3RIYW5kbGVyLFxuICBjcmVhdGVTZXNzaW9uLFxuICBpc1Nlc3Npb24sXG4gIGNyZWF0ZVNlc3Npb25TdG9yYWdlLFxuICBjcmVhdGVDb29raWVTZXNzaW9uU3RvcmFnZSxcbiAgY3JlYXRlTWVtb3J5U2Vzc2lvblN0b3JhZ2UsXG4gIGhyZWYsXG4gIGRlc2VyaWFsaXplRXJyb3JzMiBhcyBkZXNlcmlhbGl6ZUVycm9yc1xufTtcbiIsCiAgICAiLy8gc3JjL2luZGV4LnRzXG52YXIgdXBkYXRlUXVldWUgPSBtYWtlUXVldWUoKTtcbnZhciByYWYgPSAoZm4pID0+IHNjaGVkdWxlKGZuLCB1cGRhdGVRdWV1ZSk7XG52YXIgd3JpdGVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xucmFmLndyaXRlID0gKGZuKSA9PiBzY2hlZHVsZShmbiwgd3JpdGVRdWV1ZSk7XG52YXIgb25TdGFydFF1ZXVlID0gbWFrZVF1ZXVlKCk7XG5yYWYub25TdGFydCA9IChmbikgPT4gc2NoZWR1bGUoZm4sIG9uU3RhcnRRdWV1ZSk7XG52YXIgb25GcmFtZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG5yYWYub25GcmFtZSA9IChmbikgPT4gc2NoZWR1bGUoZm4sIG9uRnJhbWVRdWV1ZSk7XG52YXIgb25GaW5pc2hRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xucmFmLm9uRmluaXNoID0gKGZuKSA9PiBzY2hlZHVsZShmbiwgb25GaW5pc2hRdWV1ZSk7XG52YXIgdGltZW91dHMgPSBbXTtcbnJhZi5zZXRUaW1lb3V0ID0gKGhhbmRsZXIsIG1zKSA9PiB7XG4gIGNvbnN0IHRpbWUgPSByYWYubm93KCkgKyBtcztcbiAgY29uc3QgY2FuY2VsID0gKCkgPT4ge1xuICAgIGNvbnN0IGkgPSB0aW1lb3V0cy5maW5kSW5kZXgoKHQpID0+IHQuY2FuY2VsID09IGNhbmNlbCk7XG4gICAgaWYgKH5pKVxuICAgICAgdGltZW91dHMuc3BsaWNlKGksIDEpO1xuICAgIHBlbmRpbmdDb3VudCAtPSB+aSA/IDEgOiAwO1xuICB9O1xuICBjb25zdCB0aW1lb3V0ID0geyB0aW1lLCBoYW5kbGVyLCBjYW5jZWwgfTtcbiAgdGltZW91dHMuc3BsaWNlKGZpbmRUaW1lb3V0KHRpbWUpLCAwLCB0aW1lb3V0KTtcbiAgcGVuZGluZ0NvdW50ICs9IDE7XG4gIHN0YXJ0KCk7XG4gIHJldHVybiB0aW1lb3V0O1xufTtcbnZhciBmaW5kVGltZW91dCA9ICh0aW1lKSA9PiB+KH50aW1lb3V0cy5maW5kSW5kZXgoKHQpID0+IHQudGltZSA+IHRpbWUpIHx8IH50aW1lb3V0cy5sZW5ndGgpO1xucmFmLmNhbmNlbCA9IChmbikgPT4ge1xuICBvblN0YXJ0UXVldWUuZGVsZXRlKGZuKTtcbiAgb25GcmFtZVF1ZXVlLmRlbGV0ZShmbik7XG4gIG9uRmluaXNoUXVldWUuZGVsZXRlKGZuKTtcbiAgdXBkYXRlUXVldWUuZGVsZXRlKGZuKTtcbiAgd3JpdGVRdWV1ZS5kZWxldGUoZm4pO1xufTtcbnJhZi5zeW5jID0gKGZuKSA9PiB7XG4gIHN5bmMgPSB0cnVlO1xuICByYWYuYmF0Y2hlZFVwZGF0ZXMoZm4pO1xuICBzeW5jID0gZmFsc2U7XG59O1xucmFmLnRocm90dGxlID0gKGZuKSA9PiB7XG4gIGxldCBsYXN0QXJncztcbiAgZnVuY3Rpb24gcXVldWVkRm4oKSB7XG4gICAgdHJ5IHtcbiAgICAgIGZuKC4uLmxhc3RBcmdzKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgbGFzdEFyZ3MgPSBudWxsO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0aHJvdHRsZWQoLi4uYXJncykge1xuICAgIGxhc3RBcmdzID0gYXJncztcbiAgICByYWYub25TdGFydChxdWV1ZWRGbik7XG4gIH1cbiAgdGhyb3R0bGVkLmhhbmRsZXIgPSBmbjtcbiAgdGhyb3R0bGVkLmNhbmNlbCA9ICgpID0+IHtcbiAgICBvblN0YXJ0UXVldWUuZGVsZXRlKHF1ZXVlZEZuKTtcbiAgICBsYXN0QXJncyA9IG51bGw7XG4gIH07XG4gIHJldHVybiB0aHJvdHRsZWQ7XG59O1xudmFyIG5hdGl2ZVJhZiA9IHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgOiAoXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgKCkgPT4ge1xuICB9XG4pO1xucmFmLnVzZSA9IChpbXBsKSA9PiBuYXRpdmVSYWYgPSBpbXBsO1xucmFmLm5vdyA9IHR5cGVvZiBwZXJmb3JtYW5jZSAhPSBcInVuZGVmaW5lZFwiID8gKCkgPT4gcGVyZm9ybWFuY2Uubm93KCkgOiBEYXRlLm5vdztcbnJhZi5iYXRjaGVkVXBkYXRlcyA9IChmbikgPT4gZm4oKTtcbnJhZi5jYXRjaCA9IGNvbnNvbGUuZXJyb3I7XG5yYWYuZnJhbWVMb29wID0gXCJhbHdheXNcIjtcbnJhZi5hZHZhbmNlID0gKCkgPT4ge1xuICBpZiAocmFmLmZyYW1lTG9vcCAhPT0gXCJkZW1hbmRcIikge1xuICAgIGNvbnNvbGUud2FybihcbiAgICAgIFwiQ2Fubm90IGNhbGwgdGhlIG1hbnVhbCBhZHZhbmNlbWVudCBvZiByYWZ6IHdoaWxzdCBmcmFtZUxvb3AgaXMgbm90IHNldCBhcyBkZW1hbmRcIlxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgdXBkYXRlKCk7XG4gIH1cbn07XG52YXIgdHMgPSAtMTtcbnZhciBwZW5kaW5nQ291bnQgPSAwO1xudmFyIHN5bmMgPSBmYWxzZTtcbmZ1bmN0aW9uIHNjaGVkdWxlKGZuLCBxdWV1ZSkge1xuICBpZiAoc3luYykge1xuICAgIHF1ZXVlLmRlbGV0ZShmbik7XG4gICAgZm4oMCk7XG4gIH0gZWxzZSB7XG4gICAgcXVldWUuYWRkKGZuKTtcbiAgICBzdGFydCgpO1xuICB9XG59XG5mdW5jdGlvbiBzdGFydCgpIHtcbiAgaWYgKHRzIDwgMCkge1xuICAgIHRzID0gMDtcbiAgICBpZiAocmFmLmZyYW1lTG9vcCAhPT0gXCJkZW1hbmRcIikge1xuICAgICAgbmF0aXZlUmFmKGxvb3ApO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc3RvcCgpIHtcbiAgdHMgPSAtMTtcbn1cbmZ1bmN0aW9uIGxvb3AoKSB7XG4gIGlmICh+dHMpIHtcbiAgICBuYXRpdmVSYWYobG9vcCk7XG4gICAgcmFmLmJhdGNoZWRVcGRhdGVzKHVwZGF0ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgY29uc3QgcHJldlRzID0gdHM7XG4gIHRzID0gcmFmLm5vdygpO1xuICBjb25zdCBjb3VudCA9IGZpbmRUaW1lb3V0KHRzKTtcbiAgaWYgKGNvdW50KSB7XG4gICAgZWFjaFNhZmVseSh0aW1lb3V0cy5zcGxpY2UoMCwgY291bnQpLCAodCkgPT4gdC5oYW5kbGVyKCkpO1xuICAgIHBlbmRpbmdDb3VudCAtPSBjb3VudDtcbiAgfVxuICBpZiAoIXBlbmRpbmdDb3VudCkge1xuICAgIHN0b3AoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgb25TdGFydFF1ZXVlLmZsdXNoKCk7XG4gIHVwZGF0ZVF1ZXVlLmZsdXNoKHByZXZUcyA/IE1hdGgubWluKDY0LCB0cyAtIHByZXZUcykgOiAxNi42NjcpO1xuICBvbkZyYW1lUXVldWUuZmx1c2goKTtcbiAgd3JpdGVRdWV1ZS5mbHVzaCgpO1xuICBvbkZpbmlzaFF1ZXVlLmZsdXNoKCk7XG59XG5mdW5jdGlvbiBtYWtlUXVldWUoKSB7XG4gIGxldCBuZXh0ID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IGN1cnJlbnQgPSBuZXh0O1xuICByZXR1cm4ge1xuICAgIGFkZChmbikge1xuICAgICAgcGVuZGluZ0NvdW50ICs9IGN1cnJlbnQgPT0gbmV4dCAmJiAhbmV4dC5oYXMoZm4pID8gMSA6IDA7XG4gICAgICBuZXh0LmFkZChmbik7XG4gICAgfSxcbiAgICBkZWxldGUoZm4pIHtcbiAgICAgIHBlbmRpbmdDb3VudCAtPSBjdXJyZW50ID09IG5leHQgJiYgbmV4dC5oYXMoZm4pID8gMSA6IDA7XG4gICAgICByZXR1cm4gbmV4dC5kZWxldGUoZm4pO1xuICAgIH0sXG4gICAgZmx1c2goYXJnKSB7XG4gICAgICBpZiAoY3VycmVudC5zaXplKSB7XG4gICAgICAgIG5leHQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgICBwZW5kaW5nQ291bnQgLT0gY3VycmVudC5zaXplO1xuICAgICAgICBlYWNoU2FmZWx5KGN1cnJlbnQsIChmbikgPT4gZm4oYXJnKSAmJiBuZXh0LmFkZChmbikpO1xuICAgICAgICBwZW5kaW5nQ291bnQgKz0gbmV4dC5zaXplO1xuICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBlYWNoU2FmZWx5KHZhbHVlcywgZWFjaCkge1xuICB2YWx1ZXMuZm9yRWFjaCgodmFsdWUpID0+IHtcbiAgICB0cnkge1xuICAgICAgZWFjaCh2YWx1ZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmFmLmNhdGNoKGUpO1xuICAgIH1cbiAgfSk7XG59XG52YXIgX19yYWYgPSB7XG4gIC8qKiBUaGUgbnVtYmVyIG9mIHBlbmRpbmcgdGFza3MgKi9cbiAgY291bnQoKSB7XG4gICAgcmV0dXJuIHBlbmRpbmdDb3VudDtcbiAgfSxcbiAgLyoqIFdoZXRoZXIgdGhlcmUncyBhIHJhZiB1cGRhdGUgbG9vcCBydW5uaW5nICovXG4gIGlzUnVubmluZygpIHtcbiAgICByZXR1cm4gdHMgPj0gMDtcbiAgfSxcbiAgLyoqIENsZWFyIGludGVybmFsIHN0YXRlLiBOZXZlciBjYWxsIGZyb20gdXBkYXRlIGxvb3AhICovXG4gIGNsZWFyKCkge1xuICAgIHRzID0gLTE7XG4gICAgdGltZW91dHMgPSBbXTtcbiAgICBvblN0YXJ0UXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICB1cGRhdGVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIG9uRnJhbWVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIHdyaXRlUXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICBvbkZpbmlzaFF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgcGVuZGluZ0NvdW50ID0gMDtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIF9fcmFmLFxuICByYWZcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1zcHJpbmdfcmFmei5tb2Rlcm4ubWpzLm1hcCIsCiAgICAidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4ge1xuICBmb3IgKHZhciBuYW1lIGluIGFsbClcbiAgICBfX2RlZlByb3AodGFyZ2V0LCBuYW1lLCB7IGdldDogYWxsW25hbWVdLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufTtcblxuLy8gc3JjL2dsb2JhbHMudHNcbnZhciBnbG9iYWxzX2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KGdsb2JhbHNfZXhwb3J0cywge1xuICBhc3NpZ246ICgpID0+IGFzc2lnbixcbiAgY29sb3JzOiAoKSA9PiBjb2xvcnMsXG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcjogKCkgPT4gY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yLFxuICBza2lwQW5pbWF0aW9uOiAoKSA9PiBza2lwQW5pbWF0aW9uLFxuICB0bzogKCkgPT4gdG8sXG4gIHdpbGxBZHZhbmNlOiAoKSA9PiB3aWxsQWR2YW5jZVxufSk7XG5pbXBvcnQgeyByYWYgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9yYWZ6XCI7XG5cbi8vIHNyYy9oZWxwZXJzLnRzXG5mdW5jdGlvbiBub29wKCkge1xufVxudmFyIGRlZmluZUhpZGRlbiA9IChvYmosIGtleSwgdmFsdWUpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbnZhciBpcyA9IHtcbiAgYXJyOiBBcnJheS5pc0FycmF5LFxuICBvYmo6IChhKSA9PiAhIWEgJiYgYS5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIk9iamVjdFwiLFxuICBmdW46IChhKSA9PiB0eXBlb2YgYSA9PT0gXCJmdW5jdGlvblwiLFxuICBzdHI6IChhKSA9PiB0eXBlb2YgYSA9PT0gXCJzdHJpbmdcIixcbiAgbnVtOiAoYSkgPT4gdHlwZW9mIGEgPT09IFwibnVtYmVyXCIsXG4gIHVuZDogKGEpID0+IGEgPT09IHZvaWQgMFxufTtcbmZ1bmN0aW9uIGlzRXF1YWwoYSwgYikge1xuICBpZiAoaXMuYXJyKGEpKSB7XG4gICAgaWYgKCFpcy5hcnIoYikgfHwgYS5sZW5ndGggIT09IGIubGVuZ3RoKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFbaV0gIT09IGJbaV0pXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmV0dXJuIGEgPT09IGI7XG59XG52YXIgZWFjaCA9IChvYmosIGZuKSA9PiBvYmouZm9yRWFjaChmbik7XG5mdW5jdGlvbiBlYWNoUHJvcChvYmosIGZuLCBjdHgpIHtcbiAgaWYgKGlzLmFycihvYmopKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvYmoubGVuZ3RoOyBpKyspIHtcbiAgICAgIGZuLmNhbGwoY3R4LCBvYmpbaV0sIGAke2l9YCk7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIGZuLmNhbGwoY3R4LCBvYmpba2V5XSwga2V5KTtcbiAgICB9XG4gIH1cbn1cbnZhciB0b0FycmF5ID0gKGEpID0+IGlzLnVuZChhKSA/IFtdIDogaXMuYXJyKGEpID8gYSA6IFthXTtcbmZ1bmN0aW9uIGZsdXNoKHF1ZXVlLCBpdGVyYXRvcikge1xuICBpZiAocXVldWUuc2l6ZSkge1xuICAgIGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbShxdWV1ZSk7XG4gICAgcXVldWUuY2xlYXIoKTtcbiAgICBlYWNoKGl0ZW1zLCBpdGVyYXRvcik7XG4gIH1cbn1cbnZhciBmbHVzaENhbGxzID0gKHF1ZXVlLCAuLi5hcmdzKSA9PiBmbHVzaChxdWV1ZSwgKGZuKSA9PiBmbiguLi5hcmdzKSk7XG52YXIgaXNTU1IgPSAoKSA9PiB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8ICF3aW5kb3cubmF2aWdhdG9yIHx8IC9TZXJ2ZXJTaWRlUmVuZGVyaW5nfF5EZW5vXFwvLy50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KTtcblxuLy8gc3JjL2dsb2JhbHMudHNcbnZhciBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3I7XG52YXIgdG87XG52YXIgY29sb3JzID0gbnVsbDtcbnZhciBza2lwQW5pbWF0aW9uID0gZmFsc2U7XG52YXIgd2lsbEFkdmFuY2UgPSBub29wO1xudmFyIGFzc2lnbiA9IChnbG9iYWxzKSA9PiB7XG4gIGlmIChnbG9iYWxzLnRvKVxuICAgIHRvID0gZ2xvYmFscy50bztcbiAgaWYgKGdsb2JhbHMubm93KVxuICAgIHJhZi5ub3cgPSBnbG9iYWxzLm5vdztcbiAgaWYgKGdsb2JhbHMuY29sb3JzICE9PSB2b2lkIDApXG4gICAgY29sb3JzID0gZ2xvYmFscy5jb2xvcnM7XG4gIGlmIChnbG9iYWxzLnNraXBBbmltYXRpb24gIT0gbnVsbClcbiAgICBza2lwQW5pbWF0aW9uID0gZ2xvYmFscy5za2lwQW5pbWF0aW9uO1xuICBpZiAoZ2xvYmFscy5jcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IpXG4gICAgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yID0gZ2xvYmFscy5jcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3I7XG4gIGlmIChnbG9iYWxzLnJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAgICByYWYudXNlKGdsb2JhbHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcbiAgaWYgKGdsb2JhbHMuYmF0Y2hlZFVwZGF0ZXMpXG4gICAgcmFmLmJhdGNoZWRVcGRhdGVzID0gZ2xvYmFscy5iYXRjaGVkVXBkYXRlcztcbiAgaWYgKGdsb2JhbHMud2lsbEFkdmFuY2UpXG4gICAgd2lsbEFkdmFuY2UgPSBnbG9iYWxzLndpbGxBZHZhbmNlO1xuICBpZiAoZ2xvYmFscy5mcmFtZUxvb3ApXG4gICAgcmFmLmZyYW1lTG9vcCA9IGdsb2JhbHMuZnJhbWVMb29wO1xufTtcblxuLy8gc3JjL0ZyYW1lTG9vcC50c1xuaW1wb3J0IHsgcmFmIGFzIHJhZjIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9yYWZ6XCI7XG52YXIgc3RhcnRRdWV1ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG52YXIgY3VycmVudEZyYW1lID0gW107XG52YXIgcHJldkZyYW1lID0gW107XG52YXIgcHJpb3JpdHkgPSAwO1xudmFyIGZyYW1lTG9vcCA9IHtcbiAgZ2V0IGlkbGUoKSB7XG4gICAgcmV0dXJuICFzdGFydFF1ZXVlLnNpemUgJiYgIWN1cnJlbnRGcmFtZS5sZW5ndGg7XG4gIH0sXG4gIC8qKiBBZHZhbmNlIHRoZSBnaXZlbiBhbmltYXRpb24gb24gZXZlcnkgZnJhbWUgdW50aWwgaWRsZS4gKi9cbiAgc3RhcnQoYW5pbWF0aW9uKSB7XG4gICAgaWYgKHByaW9yaXR5ID4gYW5pbWF0aW9uLnByaW9yaXR5KSB7XG4gICAgICBzdGFydFF1ZXVlLmFkZChhbmltYXRpb24pO1xuICAgICAgcmFmMi5vblN0YXJ0KGZsdXNoU3RhcnRRdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0U2FmZWx5KGFuaW1hdGlvbik7XG4gICAgICByYWYyKGFkdmFuY2UpO1xuICAgIH1cbiAgfSxcbiAgLyoqIEFkdmFuY2UgYWxsIGFuaW1hdGlvbnMgYnkgdGhlIGdpdmVuIHRpbWUuICovXG4gIGFkdmFuY2UsXG4gIC8qKiBDYWxsIHRoaXMgd2hlbiBhbiBhbmltYXRpb24ncyBwcmlvcml0eSBjaGFuZ2VzLiAqL1xuICBzb3J0KGFuaW1hdGlvbikge1xuICAgIGlmIChwcmlvcml0eSkge1xuICAgICAgcmFmMi5vbkZyYW1lKCgpID0+IGZyYW1lTG9vcC5zb3J0KGFuaW1hdGlvbikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBwcmV2SW5kZXggPSBjdXJyZW50RnJhbWUuaW5kZXhPZihhbmltYXRpb24pO1xuICAgICAgaWYgKH5wcmV2SW5kZXgpIHtcbiAgICAgICAgY3VycmVudEZyYW1lLnNwbGljZShwcmV2SW5kZXgsIDEpO1xuICAgICAgICBzdGFydFVuc2FmZWx5KGFuaW1hdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICAvKipcbiAgICogQ2xlYXIgYWxsIGFuaW1hdGlvbnMuIEZvciB0ZXN0aW5nIHB1cnBvc2VzLlxuICAgKlxuICAgKiDimKDvuI8gTmV2ZXIgY2FsbCB0aGlzIGZyb20gd2l0aGluIHRoZSBmcmFtZWxvb3AuXG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBjdXJyZW50RnJhbWUgPSBbXTtcbiAgICBzdGFydFF1ZXVlLmNsZWFyKCk7XG4gIH1cbn07XG5mdW5jdGlvbiBmbHVzaFN0YXJ0UXVldWUoKSB7XG4gIHN0YXJ0UXVldWUuZm9yRWFjaChzdGFydFNhZmVseSk7XG4gIHN0YXJ0UXVldWUuY2xlYXIoKTtcbiAgcmFmMihhZHZhbmNlKTtcbn1cbmZ1bmN0aW9uIHN0YXJ0U2FmZWx5KGFuaW1hdGlvbikge1xuICBpZiAoIWN1cnJlbnRGcmFtZS5pbmNsdWRlcyhhbmltYXRpb24pKVxuICAgIHN0YXJ0VW5zYWZlbHkoYW5pbWF0aW9uKTtcbn1cbmZ1bmN0aW9uIHN0YXJ0VW5zYWZlbHkoYW5pbWF0aW9uKSB7XG4gIGN1cnJlbnRGcmFtZS5zcGxpY2UoXG4gICAgZmluZEluZGV4KGN1cnJlbnRGcmFtZSwgKG90aGVyKSA9PiBvdGhlci5wcmlvcml0eSA+IGFuaW1hdGlvbi5wcmlvcml0eSksXG4gICAgMCxcbiAgICBhbmltYXRpb25cbiAgKTtcbn1cbmZ1bmN0aW9uIGFkdmFuY2UoZHQpIHtcbiAgY29uc3QgbmV4dEZyYW1lID0gcHJldkZyYW1lO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGN1cnJlbnRGcmFtZS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGFuaW1hdGlvbiA9IGN1cnJlbnRGcmFtZVtpXTtcbiAgICBwcmlvcml0eSA9IGFuaW1hdGlvbi5wcmlvcml0eTtcbiAgICBpZiAoIWFuaW1hdGlvbi5pZGxlKSB7XG4gICAgICB3aWxsQWR2YW5jZShhbmltYXRpb24pO1xuICAgICAgYW5pbWF0aW9uLmFkdmFuY2UoZHQpO1xuICAgICAgaWYgKCFhbmltYXRpb24uaWRsZSkge1xuICAgICAgICBuZXh0RnJhbWUucHVzaChhbmltYXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwcmlvcml0eSA9IDA7XG4gIHByZXZGcmFtZSA9IGN1cnJlbnRGcmFtZTtcbiAgcHJldkZyYW1lLmxlbmd0aCA9IDA7XG4gIGN1cnJlbnRGcmFtZSA9IG5leHRGcmFtZTtcbiAgcmV0dXJuIGN1cnJlbnRGcmFtZS5sZW5ndGggPiAwO1xufVxuZnVuY3Rpb24gZmluZEluZGV4KGFyciwgdGVzdCkge1xuICBjb25zdCBpbmRleCA9IGFyci5maW5kSW5kZXgodGVzdCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBhcnIubGVuZ3RoIDogaW5kZXg7XG59XG5cbi8vIHNyYy9jbGFtcC50c1xudmFyIGNsYW1wID0gKG1pbiwgbWF4LCB2KSA9PiBNYXRoLm1pbihNYXRoLm1heCh2LCBtaW4pLCBtYXgpO1xuXG4vLyBzcmMvY29sb3JzLnRzXG52YXIgY29sb3JzMiA9IHtcbiAgdHJhbnNwYXJlbnQ6IDAsXG4gIGFsaWNlYmx1ZTogNDA0Mjg1MDMwMyxcbiAgYW50aXF1ZXdoaXRlOiA0MjA5NzYwMjU1LFxuICBhcXVhOiAxNjc3NzIxNSxcbiAgYXF1YW1hcmluZTogMjE0NzQ3MjYzOSxcbiAgYXp1cmU6IDQwNDMzMDkwNTUsXG4gIGJlaWdlOiA0MTI2NTMwODE1LFxuICBiaXNxdWU6IDQyOTMxODI3MTksXG4gIGJsYWNrOiAyNTUsXG4gIGJsYW5jaGVkYWxtb25kOiA0MjkzNjQzNzc1LFxuICBibHVlOiA2NTUzNSxcbiAgYmx1ZXZpb2xldDogMjMxODEzMTk2NyxcbiAgYnJvd246IDI3NzEwMDQxNTksXG4gIGJ1cmx5d29vZDogMzczNjYzNTM5MSxcbiAgYnVybnRzaWVubmE6IDM5MzQxNTAxNDMsXG4gIGNhZGV0Ymx1ZTogMTYwNDIzMTQyMyxcbiAgY2hhcnRyZXVzZTogMjE0NzQxODM2NyxcbiAgY2hvY29sYXRlOiAzNTMwMTA0NTc1LFxuICBjb3JhbDogNDI4NjUzMzg4NyxcbiAgY29ybmZsb3dlcmJsdWU6IDE2ODc1NDczOTEsXG4gIGNvcm5zaWxrOiA0Mjk0NDk5NTgzLFxuICBjcmltc29uOiAzNjkyMzEzODU1LFxuICBjeWFuOiAxNjc3NzIxNSxcbiAgZGFya2JsdWU6IDM1ODM5LFxuICBkYXJrY3lhbjogOTE0NTM0MyxcbiAgZGFya2dvbGRlbnJvZDogMzA5NTc5MjYzOSxcbiAgZGFya2dyYXk6IDI4NDY0Njg2MDcsXG4gIGRhcmtncmVlbjogNjU1Mzg1NSxcbiAgZGFya2dyZXk6IDI4NDY0Njg2MDcsXG4gIGRhcmtraGFraTogMzE4MjkxNDU1OSxcbiAgZGFya21hZ2VudGE6IDIzMzIwNjg4NjMsXG4gIGRhcmtvbGl2ZWdyZWVuOiAxNDMzMDg3OTk5LFxuICBkYXJrb3JhbmdlOiA0Mjg3MzY1Mzc1LFxuICBkYXJrb3JjaGlkOiAyNTcwMjQzMzI3LFxuICBkYXJrcmVkOiAyMzMyMDMzMjc5LFxuICBkYXJrc2FsbW9uOiAzOTE4OTUzMjE1LFxuICBkYXJrc2VhZ3JlZW46IDI0MTE0OTk1MTksXG4gIGRhcmtzbGF0ZWJsdWU6IDEyMTE5OTMwODcsXG4gIGRhcmtzbGF0ZWdyYXk6IDc5MzcyNjk3NSxcbiAgZGFya3NsYXRlZ3JleTogNzkzNzI2OTc1LFxuICBkYXJrdHVycXVvaXNlOiAxMzU1NDE3NSxcbiAgZGFya3Zpb2xldDogMjQ4MzA4MjIzOSxcbiAgZGVlcHBpbms6IDQyNzk1Mzg2ODcsXG4gIGRlZXBza3libHVlOiAxMjU4MjkxMSxcbiAgZGltZ3JheTogMTc2ODUxNjA5NSxcbiAgZGltZ3JleTogMTc2ODUxNjA5NSxcbiAgZG9kZ2VyYmx1ZTogNTEyODE5MTk5LFxuICBmaXJlYnJpY2s6IDI5ODg1ODE2MzEsXG4gIGZsb3JhbHdoaXRlOiA0Mjk0NjM1Nzc1LFxuICBmb3Jlc3RncmVlbjogNTc5NTQzODA3LFxuICBmdWNoc2lhOiA0Mjc4MjU1NjE1LFxuICBnYWluc2Jvcm86IDM3MDU0NjIwMTUsXG4gIGdob3N0d2hpdGU6IDQxNzcwNjgwMzEsXG4gIGdvbGQ6IDQyOTIyODA1NzUsXG4gIGdvbGRlbnJvZDogMzY2ODI1NDk3NSxcbiAgZ3JheTogMjE1NTkwNTI3OSxcbiAgZ3JlZW46IDgzODg4NjMsXG4gIGdyZWVueWVsbG93OiAyOTE5MTgyMzM1LFxuICBncmV5OiAyMTU1OTA1Mjc5LFxuICBob25leWRldzogNDA0MzMwNTIxNSxcbiAgaG90cGluazogNDI4NTExNzY5NSxcbiAgaW5kaWFucmVkOiAzNDQ1MzgyMzk5LFxuICBpbmRpZ286IDEyNTgzMjQ3MzUsXG4gIGl2b3J5OiA0Mjk0OTYzNDU1LFxuICBraGFraTogNDA0MTY0MTIxNSxcbiAgbGF2ZW5kZXI6IDM4NzM4OTcyMTUsXG4gIGxhdmVuZGVyYmx1c2g6IDQyOTM5ODE2OTUsXG4gIGxhd25ncmVlbjogMjA5Njg5MDExMSxcbiAgbGVtb25jaGlmZm9uOiA0Mjk0NjI2ODE1LFxuICBsaWdodGJsdWU6IDI5MTY2NzMyNzksXG4gIGxpZ2h0Y29yYWw6IDQwMzQ5NTM0NzEsXG4gIGxpZ2h0Y3lhbjogMzc3NDg3MzU5OSxcbiAgbGlnaHRnb2xkZW5yb2R5ZWxsb3c6IDQyMTA3NDIwMTUsXG4gIGxpZ2h0Z3JheTogMzU1Mzg3NDk0MyxcbiAgbGlnaHRncmVlbjogMjQzMTU1Mzc5MSxcbiAgbGlnaHRncmV5OiAzNTUzODc0OTQzLFxuICBsaWdodHBpbms6IDQyOTAxNjcyOTUsXG4gIGxpZ2h0c2FsbW9uOiA0Mjg4NzA3MzI3LFxuICBsaWdodHNlYWdyZWVuOiA1NDg1ODAwOTUsXG4gIGxpZ2h0c2t5Ymx1ZTogMjI3ODQ4ODgzMSxcbiAgbGlnaHRzbGF0ZWdyYXk6IDIwMDU0NDEwMjMsXG4gIGxpZ2h0c2xhdGVncmV5OiAyMDA1NDQxMDIzLFxuICBsaWdodHN0ZWVsYmx1ZTogMjk2NTY5MjE1OSxcbiAgbGlnaHR5ZWxsb3c6IDQyOTQ5NTkzNTksXG4gIGxpbWU6IDE2NzExOTM1LFxuICBsaW1lZ3JlZW46IDg1MjMwODczNSxcbiAgbGluZW46IDQyMTAwOTE3NzUsXG4gIG1hZ2VudGE6IDQyNzgyNTU2MTUsXG4gIG1hcm9vbjogMjE0NzQ4MzkwMyxcbiAgbWVkaXVtYXF1YW1hcmluZTogMTcyNDc1NDY4NyxcbiAgbWVkaXVtYmx1ZTogNTI3MzUsXG4gIG1lZGl1bW9yY2hpZDogMzEyNjE4NzAwNyxcbiAgbWVkaXVtcHVycGxlOiAyNDczNjQ3MTAzLFxuICBtZWRpdW1zZWFncmVlbjogMTAxODM5MzA4NyxcbiAgbWVkaXVtc2xhdGVibHVlOiAyMDcwNDc0NDk1LFxuICBtZWRpdW1zcHJpbmdncmVlbjogMTY0MjM2NzksXG4gIG1lZGl1bXR1cnF1b2lzZTogMTIyMTcwOTA1NSxcbiAgbWVkaXVtdmlvbGV0cmVkOiAzMzQwMDc2NTQzLFxuICBtaWRuaWdodGJsdWU6IDQyMTA5NzcyNyxcbiAgbWludGNyZWFtOiA0MTI3MTkzODU1LFxuICBtaXN0eXJvc2U6IDQyOTMxOTAxNDMsXG4gIG1vY2Nhc2luOiA0MjkzMTc4ODc5LFxuICBuYXZham93aGl0ZTogNDI5Mjc4MzYxNSxcbiAgbmF2eTogMzMwMjMsXG4gIG9sZGxhY2U6IDQyNjA3NTExMDMsXG4gIG9saXZlOiAyMTU1ODcyNTExLFxuICBvbGl2ZWRyYWI6IDE4MDQ0Nzc0MzksXG4gIG9yYW5nZTogNDI4OTAwMzc3NSxcbiAgb3JhbmdlcmVkOiA0MjgyNzEyMzE5LFxuICBvcmNoaWQ6IDM2NjQ4MjgxNTksXG4gIHBhbGVnb2xkZW5yb2Q6IDQwMDgyMjU1MzUsXG4gIHBhbGVncmVlbjogMjU2NjYyNTUzNSxcbiAgcGFsZXR1cnF1b2lzZTogMjk1MTY3MTU1MSxcbiAgcGFsZXZpb2xldHJlZDogMzY4MTU4ODIyMyxcbiAgcGFwYXlhd2hpcDogNDI5MzkwNzk2NyxcbiAgcGVhY2hwdWZmOiA0MjkyNTI0NTQzLFxuICBwZXJ1OiAzNDQ4MDYxOTUxLFxuICBwaW5rOiA0MjkwODI1MjE1LFxuICBwbHVtOiAzNzE4MzA3MzI3LFxuICBwb3dkZXJibHVlOiAyOTY3NTI5MjE1LFxuICBwdXJwbGU6IDIxNDc1MTY2NzEsXG4gIHJlYmVjY2FwdXJwbGU6IDE3MTQ2NTc3OTEsXG4gIHJlZDogNDI3ODE5MDMzNSxcbiAgcm9zeWJyb3duOiAzMTYzNTI1MTE5LFxuICByb3lhbGJsdWU6IDEwOTc0NTgxNzUsXG4gIHNhZGRsZWJyb3duOiAyMzM2NTYwMTI3LFxuICBzYWxtb246IDQyMDI3MjIwNDcsXG4gIHNhbmR5YnJvd246IDQxMDQ0MTM0MzksXG4gIHNlYWdyZWVuOiA3ODA4ODM5NjcsXG4gIHNlYXNoZWxsOiA0Mjk0MzA3NTgzLFxuICBzaWVubmE6IDI2ODk3NDAyODcsXG4gIHNpbHZlcjogMzIzMzg1Nzc5MSxcbiAgc2t5Ymx1ZTogMjI3ODQ4NDk5MSxcbiAgc2xhdGVibHVlOiAxNzg0MzM1ODcxLFxuICBzbGF0ZWdyYXk6IDE4ODc0NzM5MTksXG4gIHNsYXRlZ3JleTogMTg4NzQ3MzkxOSxcbiAgc25vdzogNDI5NDYzODMzNSxcbiAgc3ByaW5nZ3JlZW46IDE2NzQ0NDQ3LFxuICBzdGVlbGJsdWU6IDExODI5NzExMzUsXG4gIHRhbjogMzUzNTA0NzkzNSxcbiAgdGVhbDogODQyMTYzMSxcbiAgdGhpc3RsZTogMzYzNjQ1MTU4MyxcbiAgdG9tYXRvOiA0Mjg0Njk2NTc1LFxuICB0dXJxdW9pc2U6IDEwODg0NzUzOTEsXG4gIHZpb2xldDogNDAwMTU1ODI3MSxcbiAgd2hlYXQ6IDQxMjUwMTI5OTEsXG4gIHdoaXRlOiA0Mjk0OTY3Mjk1LFxuICB3aGl0ZXNtb2tlOiA0MTI2NTM3MjE1LFxuICB5ZWxsb3c6IDQyOTQ5MDIwMTUsXG4gIHllbGxvd2dyZWVuOiAyNTk3MTM5MTk5XG59O1xuXG4vLyBzcmMvY29sb3JNYXRjaGVycy50c1xudmFyIE5VTUJFUiA9IFwiWy0rXT9cXFxcZCpcXFxcLj9cXFxcZCtcIjtcbnZhciBQRVJDRU5UQUdFID0gTlVNQkVSICsgXCIlXCI7XG5mdW5jdGlvbiBjYWxsKC4uLnBhcnRzKSB7XG4gIHJldHVybiBcIlxcXFwoXFxcXHMqKFwiICsgcGFydHMuam9pbihcIilcXFxccyosXFxcXHMqKFwiKSArIFwiKVxcXFxzKlxcXFwpXCI7XG59XG52YXIgcmdiID0gbmV3IFJlZ0V4cChcInJnYlwiICsgY2FsbChOVU1CRVIsIE5VTUJFUiwgTlVNQkVSKSk7XG52YXIgcmdiYSA9IG5ldyBSZWdFeHAoXCJyZ2JhXCIgKyBjYWxsKE5VTUJFUiwgTlVNQkVSLCBOVU1CRVIsIE5VTUJFUikpO1xudmFyIGhzbCA9IG5ldyBSZWdFeHAoXCJoc2xcIiArIGNhbGwoTlVNQkVSLCBQRVJDRU5UQUdFLCBQRVJDRU5UQUdFKSk7XG52YXIgaHNsYSA9IG5ldyBSZWdFeHAoXG4gIFwiaHNsYVwiICsgY2FsbChOVU1CRVIsIFBFUkNFTlRBR0UsIFBFUkNFTlRBR0UsIE5VTUJFUilcbik7XG52YXIgaGV4MyA9IC9eIyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvO1xudmFyIGhleDQgPSAvXiMoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC87XG52YXIgaGV4NiA9IC9eIyhbMC05YS1mQS1GXXs2fSkkLztcbnZhciBoZXg4ID0gL14jKFswLTlhLWZBLUZdezh9KSQvO1xuXG4vLyBzcmMvbm9ybWFsaXplQ29sb3IudHNcbmZ1bmN0aW9uIG5vcm1hbGl6ZUNvbG9yKGNvbG9yKSB7XG4gIGxldCBtYXRjaDtcbiAgaWYgKHR5cGVvZiBjb2xvciA9PT0gXCJudW1iZXJcIikge1xuICAgIHJldHVybiBjb2xvciA+Pj4gMCA9PT0gY29sb3IgJiYgY29sb3IgPj0gMCAmJiBjb2xvciA8PSA0Mjk0OTY3Mjk1ID8gY29sb3IgOiBudWxsO1xuICB9XG4gIGlmIChtYXRjaCA9IGhleDYuZXhlYyhjb2xvcikpXG4gICAgcmV0dXJuIHBhcnNlSW50KG1hdGNoWzFdICsgXCJmZlwiLCAxNikgPj4+IDA7XG4gIGlmIChjb2xvcnMgJiYgY29sb3JzW2NvbG9yXSAhPT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIGNvbG9yc1tjb2xvcl07XG4gIH1cbiAgaWYgKG1hdGNoID0gcmdiLmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIChwYXJzZTI1NShtYXRjaFsxXSkgPDwgMjQgfCAvLyByXG4gICAgcGFyc2UyNTUobWF0Y2hbMl0pIDw8IDE2IHwgLy8gZ1xuICAgIHBhcnNlMjU1KG1hdGNoWzNdKSA8PCA4IHwgLy8gYlxuICAgIDI1NSkgPj4+IC8vIGFcbiAgICAwO1xuICB9XG4gIGlmIChtYXRjaCA9IHJnYmEuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gKHBhcnNlMjU1KG1hdGNoWzFdKSA8PCAyNCB8IC8vIHJcbiAgICBwYXJzZTI1NShtYXRjaFsyXSkgPDwgMTYgfCAvLyBnXG4gICAgcGFyc2UyNTUobWF0Y2hbM10pIDw8IDggfCAvLyBiXG4gICAgcGFyc2UxKG1hdGNoWzRdKSkgPj4+IC8vIGFcbiAgICAwO1xuICB9XG4gIGlmIChtYXRjaCA9IGhleDMuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQoXG4gICAgICBtYXRjaFsxXSArIG1hdGNoWzFdICsgLy8gclxuICAgICAgbWF0Y2hbMl0gKyBtYXRjaFsyXSArIC8vIGdcbiAgICAgIG1hdGNoWzNdICsgbWF0Y2hbM10gKyAvLyBiXG4gICAgICBcImZmXCIsXG4gICAgICAvLyBhXG4gICAgICAxNlxuICAgICkgPj4+IDA7XG4gIH1cbiAgaWYgKG1hdGNoID0gaGV4OC5leGVjKGNvbG9yKSlcbiAgICByZXR1cm4gcGFyc2VJbnQobWF0Y2hbMV0sIDE2KSA+Pj4gMDtcbiAgaWYgKG1hdGNoID0gaGV4NC5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiBwYXJzZUludChcbiAgICAgIG1hdGNoWzFdICsgbWF0Y2hbMV0gKyAvLyByXG4gICAgICBtYXRjaFsyXSArIG1hdGNoWzJdICsgLy8gZ1xuICAgICAgbWF0Y2hbM10gKyBtYXRjaFszXSArIC8vIGJcbiAgICAgIG1hdGNoWzRdICsgbWF0Y2hbNF0sXG4gICAgICAvLyBhXG4gICAgICAxNlxuICAgICkgPj4+IDA7XG4gIH1cbiAgaWYgKG1hdGNoID0gaHNsLmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIChoc2xUb1JnYihcbiAgICAgIHBhcnNlMzYwKG1hdGNoWzFdKSxcbiAgICAgIC8vIGhcbiAgICAgIHBhcnNlUGVyY2VudGFnZShtYXRjaFsyXSksXG4gICAgICAvLyBzXG4gICAgICBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbM10pXG4gICAgICAvLyBsXG4gICAgKSB8IDI1NSkgPj4+IC8vIGFcbiAgICAwO1xuICB9XG4gIGlmIChtYXRjaCA9IGhzbGEuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gKGhzbFRvUmdiKFxuICAgICAgcGFyc2UzNjAobWF0Y2hbMV0pLFxuICAgICAgLy8gaFxuICAgICAgcGFyc2VQZXJjZW50YWdlKG1hdGNoWzJdKSxcbiAgICAgIC8vIHNcbiAgICAgIHBhcnNlUGVyY2VudGFnZShtYXRjaFszXSlcbiAgICAgIC8vIGxcbiAgICApIHwgcGFyc2UxKG1hdGNoWzRdKSkgPj4+IC8vIGFcbiAgICAwO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gIGlmICh0IDwgMClcbiAgICB0ICs9IDE7XG4gIGlmICh0ID4gMSlcbiAgICB0IC09IDE7XG4gIGlmICh0IDwgMSAvIDYpXG4gICAgcmV0dXJuIHAgKyAocSAtIHApICogNiAqIHQ7XG4gIGlmICh0IDwgMSAvIDIpXG4gICAgcmV0dXJuIHE7XG4gIGlmICh0IDwgMiAvIDMpXG4gICAgcmV0dXJuIHAgKyAocSAtIHApICogKDIgLyAzIC0gdCkgKiA2O1xuICByZXR1cm4gcDtcbn1cbmZ1bmN0aW9uIGhzbFRvUmdiKGgsIHMsIGwpIHtcbiAgY29uc3QgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gIGNvbnN0IHAgPSAyICogbCAtIHE7XG4gIGNvbnN0IHIgPSBodWUycmdiKHAsIHEsIGggKyAxIC8gMyk7XG4gIGNvbnN0IGcgPSBodWUycmdiKHAsIHEsIGgpO1xuICBjb25zdCBiID0gaHVlMnJnYihwLCBxLCBoIC0gMSAvIDMpO1xuICByZXR1cm4gTWF0aC5yb3VuZChyICogMjU1KSA8PCAyNCB8IE1hdGgucm91bmQoZyAqIDI1NSkgPDwgMTYgfCBNYXRoLnJvdW5kKGIgKiAyNTUpIDw8IDg7XG59XG5mdW5jdGlvbiBwYXJzZTI1NShzdHIpIHtcbiAgY29uc3QgaW50ID0gcGFyc2VJbnQoc3RyLCAxMCk7XG4gIGlmIChpbnQgPCAwKVxuICAgIHJldHVybiAwO1xuICBpZiAoaW50ID4gMjU1KVxuICAgIHJldHVybiAyNTU7XG4gIHJldHVybiBpbnQ7XG59XG5mdW5jdGlvbiBwYXJzZTM2MChzdHIpIHtcbiAgY29uc3QgaW50ID0gcGFyc2VGbG9hdChzdHIpO1xuICByZXR1cm4gKGludCAlIDM2MCArIDM2MCkgJSAzNjAgLyAzNjA7XG59XG5mdW5jdGlvbiBwYXJzZTEoc3RyKSB7XG4gIGNvbnN0IG51bSA9IHBhcnNlRmxvYXQoc3RyKTtcbiAgaWYgKG51bSA8IDApXG4gICAgcmV0dXJuIDA7XG4gIGlmIChudW0gPiAxKVxuICAgIHJldHVybiAyNTU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG51bSAqIDI1NSk7XG59XG5mdW5jdGlvbiBwYXJzZVBlcmNlbnRhZ2Uoc3RyKSB7XG4gIGNvbnN0IGludCA9IHBhcnNlRmxvYXQoc3RyKTtcbiAgaWYgKGludCA8IDApXG4gICAgcmV0dXJuIDA7XG4gIGlmIChpbnQgPiAxMDApXG4gICAgcmV0dXJuIDE7XG4gIHJldHVybiBpbnQgLyAxMDA7XG59XG5cbi8vIHNyYy9jb2xvclRvUmdiYS50c1xuZnVuY3Rpb24gY29sb3JUb1JnYmEoaW5wdXQpIHtcbiAgbGV0IGludDMyQ29sb3IgPSBub3JtYWxpemVDb2xvcihpbnB1dCk7XG4gIGlmIChpbnQzMkNvbG9yID09PSBudWxsKVxuICAgIHJldHVybiBpbnB1dDtcbiAgaW50MzJDb2xvciA9IGludDMyQ29sb3IgfHwgMDtcbiAgY29uc3QgciA9IChpbnQzMkNvbG9yICYgNDI3ODE5MDA4MCkgPj4+IDI0O1xuICBjb25zdCBnID0gKGludDMyQ29sb3IgJiAxNjcxMTY4MCkgPj4+IDE2O1xuICBjb25zdCBiID0gKGludDMyQ29sb3IgJiA2NTI4MCkgPj4+IDg7XG4gIGNvbnN0IGEgPSAoaW50MzJDb2xvciAmIDI1NSkgLyAyNTU7XG4gIHJldHVybiBgcmdiYSgke3J9LCAke2d9LCAke2J9LCAke2F9KWA7XG59XG5cbi8vIHNyYy9jcmVhdGVJbnRlcnBvbGF0b3IudHNcbnZhciBjcmVhdGVJbnRlcnBvbGF0b3IgPSAocmFuZ2UsIG91dHB1dCwgZXh0cmFwb2xhdGUpID0+IHtcbiAgaWYgKGlzLmZ1bihyYW5nZSkpIHtcbiAgICByZXR1cm4gcmFuZ2U7XG4gIH1cbiAgaWYgKGlzLmFycihyYW5nZSkpIHtcbiAgICByZXR1cm4gY3JlYXRlSW50ZXJwb2xhdG9yKHtcbiAgICAgIHJhbmdlLFxuICAgICAgb3V0cHV0LFxuICAgICAgZXh0cmFwb2xhdGVcbiAgICB9KTtcbiAgfVxuICBpZiAoaXMuc3RyKHJhbmdlLm91dHB1dFswXSkpIHtcbiAgICByZXR1cm4gY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yKHJhbmdlKTtcbiAgfVxuICBjb25zdCBjb25maWcgPSByYW5nZTtcbiAgY29uc3Qgb3V0cHV0UmFuZ2UgPSBjb25maWcub3V0cHV0O1xuICBjb25zdCBpbnB1dFJhbmdlID0gY29uZmlnLnJhbmdlIHx8IFswLCAxXTtcbiAgY29uc3QgZXh0cmFwb2xhdGVMZWZ0ID0gY29uZmlnLmV4dHJhcG9sYXRlTGVmdCB8fCBjb25maWcuZXh0cmFwb2xhdGUgfHwgXCJleHRlbmRcIjtcbiAgY29uc3QgZXh0cmFwb2xhdGVSaWdodCA9IGNvbmZpZy5leHRyYXBvbGF0ZVJpZ2h0IHx8IGNvbmZpZy5leHRyYXBvbGF0ZSB8fCBcImV4dGVuZFwiO1xuICBjb25zdCBlYXNpbmcgPSBjb25maWcuZWFzaW5nIHx8ICgodCkgPT4gdCk7XG4gIHJldHVybiAoaW5wdXQpID0+IHtcbiAgICBjb25zdCByYW5nZTIgPSBmaW5kUmFuZ2UoaW5wdXQsIGlucHV0UmFuZ2UpO1xuICAgIHJldHVybiBpbnRlcnBvbGF0ZShcbiAgICAgIGlucHV0LFxuICAgICAgaW5wdXRSYW5nZVtyYW5nZTJdLFxuICAgICAgaW5wdXRSYW5nZVtyYW5nZTIgKyAxXSxcbiAgICAgIG91dHB1dFJhbmdlW3JhbmdlMl0sXG4gICAgICBvdXRwdXRSYW5nZVtyYW5nZTIgKyAxXSxcbiAgICAgIGVhc2luZyxcbiAgICAgIGV4dHJhcG9sYXRlTGVmdCxcbiAgICAgIGV4dHJhcG9sYXRlUmlnaHQsXG4gICAgICBjb25maWcubWFwXG4gICAgKTtcbiAgfTtcbn07XG5mdW5jdGlvbiBpbnRlcnBvbGF0ZShpbnB1dCwgaW5wdXRNaW4sIGlucHV0TWF4LCBvdXRwdXRNaW4sIG91dHB1dE1heCwgZWFzaW5nLCBleHRyYXBvbGF0ZUxlZnQsIGV4dHJhcG9sYXRlUmlnaHQsIG1hcCkge1xuICBsZXQgcmVzdWx0ID0gbWFwID8gbWFwKGlucHV0KSA6IGlucHV0O1xuICBpZiAocmVzdWx0IDwgaW5wdXRNaW4pIHtcbiAgICBpZiAoZXh0cmFwb2xhdGVMZWZ0ID09PSBcImlkZW50aXR5XCIpXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIGVsc2UgaWYgKGV4dHJhcG9sYXRlTGVmdCA9PT0gXCJjbGFtcFwiKVxuICAgICAgcmVzdWx0ID0gaW5wdXRNaW47XG4gIH1cbiAgaWYgKHJlc3VsdCA+IGlucHV0TWF4KSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlUmlnaHQgPT09IFwiaWRlbnRpdHlcIilcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgZWxzZSBpZiAoZXh0cmFwb2xhdGVSaWdodCA9PT0gXCJjbGFtcFwiKVxuICAgICAgcmVzdWx0ID0gaW5wdXRNYXg7XG4gIH1cbiAgaWYgKG91dHB1dE1pbiA9PT0gb3V0cHV0TWF4KVxuICAgIHJldHVybiBvdXRwdXRNaW47XG4gIGlmIChpbnB1dE1pbiA9PT0gaW5wdXRNYXgpXG4gICAgcmV0dXJuIGlucHV0IDw9IGlucHV0TWluID8gb3V0cHV0TWluIDogb3V0cHV0TWF4O1xuICBpZiAoaW5wdXRNaW4gPT09IC1JbmZpbml0eSlcbiAgICByZXN1bHQgPSAtcmVzdWx0O1xuICBlbHNlIGlmIChpbnB1dE1heCA9PT0gSW5maW5pdHkpXG4gICAgcmVzdWx0ID0gcmVzdWx0IC0gaW5wdXRNaW47XG4gIGVsc2VcbiAgICByZXN1bHQgPSAocmVzdWx0IC0gaW5wdXRNaW4pIC8gKGlucHV0TWF4IC0gaW5wdXRNaW4pO1xuICByZXN1bHQgPSBlYXNpbmcocmVzdWx0KTtcbiAgaWYgKG91dHB1dE1pbiA9PT0gLUluZmluaXR5KVxuICAgIHJlc3VsdCA9IC1yZXN1bHQ7XG4gIGVsc2UgaWYgKG91dHB1dE1heCA9PT0gSW5maW5pdHkpXG4gICAgcmVzdWx0ID0gcmVzdWx0ICsgb3V0cHV0TWluO1xuICBlbHNlXG4gICAgcmVzdWx0ID0gcmVzdWx0ICogKG91dHB1dE1heCAtIG91dHB1dE1pbikgKyBvdXRwdXRNaW47XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBmaW5kUmFuZ2UoaW5wdXQsIGlucHV0UmFuZ2UpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBpbnB1dFJhbmdlLmxlbmd0aCAtIDE7ICsraSlcbiAgICBpZiAoaW5wdXRSYW5nZVtpXSA+PSBpbnB1dClcbiAgICAgIGJyZWFrO1xuICByZXR1cm4gaSAtIDE7XG59XG5cbi8vIHNyYy9lYXNpbmdzLnRzXG52YXIgc3RlcHMgPSAoc3RlcHMyLCBkaXJlY3Rpb24gPSBcImVuZFwiKSA9PiAocHJvZ3Jlc3MyKSA9PiB7XG4gIHByb2dyZXNzMiA9IGRpcmVjdGlvbiA9PT0gXCJlbmRcIiA/IE1hdGgubWluKHByb2dyZXNzMiwgMC45OTkpIDogTWF0aC5tYXgocHJvZ3Jlc3MyLCAxZS0zKTtcbiAgY29uc3QgZXhwYW5kZWQgPSBwcm9ncmVzczIgKiBzdGVwczI7XG4gIGNvbnN0IHJvdW5kZWQgPSBkaXJlY3Rpb24gPT09IFwiZW5kXCIgPyBNYXRoLmZsb29yKGV4cGFuZGVkKSA6IE1hdGguY2VpbChleHBhbmRlZCk7XG4gIHJldHVybiBjbGFtcCgwLCAxLCByb3VuZGVkIC8gc3RlcHMyKTtcbn07XG52YXIgYzEgPSAxLjcwMTU4O1xudmFyIGMyID0gYzEgKiAxLjUyNTtcbnZhciBjMyA9IGMxICsgMTtcbnZhciBjNCA9IDIgKiBNYXRoLlBJIC8gMztcbnZhciBjNSA9IDIgKiBNYXRoLlBJIC8gNC41O1xudmFyIGJvdW5jZU91dCA9ICh4KSA9PiB7XG4gIGNvbnN0IG4xID0gNy41NjI1O1xuICBjb25zdCBkMSA9IDIuNzU7XG4gIGlmICh4IDwgMSAvIGQxKSB7XG4gICAgcmV0dXJuIG4xICogeCAqIHg7XG4gIH0gZWxzZSBpZiAoeCA8IDIgLyBkMSkge1xuICAgIHJldHVybiBuMSAqICh4IC09IDEuNSAvIGQxKSAqIHggKyAwLjc1O1xuICB9IGVsc2UgaWYgKHggPCAyLjUgLyBkMSkge1xuICAgIHJldHVybiBuMSAqICh4IC09IDIuMjUgLyBkMSkgKiB4ICsgMC45Mzc1O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuMSAqICh4IC09IDIuNjI1IC8gZDEpICogeCArIDAuOTg0Mzc1O1xuICB9XG59O1xudmFyIGVhc2luZ3MgPSB7XG4gIGxpbmVhcjogKHgpID0+IHgsXG4gIGVhc2VJblF1YWQ6ICh4KSA9PiB4ICogeCxcbiAgZWFzZU91dFF1YWQ6ICh4KSA9PiAxIC0gKDEgLSB4KSAqICgxIC0geCksXG4gIGVhc2VJbk91dFF1YWQ6ICh4KSA9PiB4IDwgMC41ID8gMiAqIHggKiB4IDogMSAtIE1hdGgucG93KC0yICogeCArIDIsIDIpIC8gMixcbiAgZWFzZUluQ3ViaWM6ICh4KSA9PiB4ICogeCAqIHgsXG4gIGVhc2VPdXRDdWJpYzogKHgpID0+IDEgLSBNYXRoLnBvdygxIC0geCwgMyksXG4gIGVhc2VJbk91dEN1YmljOiAoeCkgPT4geCA8IDAuNSA/IDQgKiB4ICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgMykgLyAyLFxuICBlYXNlSW5RdWFydDogKHgpID0+IHggKiB4ICogeCAqIHgsXG4gIGVhc2VPdXRRdWFydDogKHgpID0+IDEgLSBNYXRoLnBvdygxIC0geCwgNCksXG4gIGVhc2VJbk91dFF1YXJ0OiAoeCkgPT4geCA8IDAuNSA/IDggKiB4ICogeCAqIHggKiB4IDogMSAtIE1hdGgucG93KC0yICogeCArIDIsIDQpIC8gMixcbiAgZWFzZUluUXVpbnQ6ICh4KSA9PiB4ICogeCAqIHggKiB4ICogeCxcbiAgZWFzZU91dFF1aW50OiAoeCkgPT4gMSAtIE1hdGgucG93KDEgLSB4LCA1KSxcbiAgZWFzZUluT3V0UXVpbnQ6ICh4KSA9PiB4IDwgMC41ID8gMTYgKiB4ICogeCAqIHggKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCA1KSAvIDIsXG4gIGVhc2VJblNpbmU6ICh4KSA9PiAxIC0gTWF0aC5jb3MoeCAqIE1hdGguUEkgLyAyKSxcbiAgZWFzZU91dFNpbmU6ICh4KSA9PiBNYXRoLnNpbih4ICogTWF0aC5QSSAvIDIpLFxuICBlYXNlSW5PdXRTaW5lOiAoeCkgPT4gLShNYXRoLmNvcyhNYXRoLlBJICogeCkgLSAxKSAvIDIsXG4gIGVhc2VJbkV4cG86ICh4KSA9PiB4ID09PSAwID8gMCA6IE1hdGgucG93KDIsIDEwICogeCAtIDEwKSxcbiAgZWFzZU91dEV4cG86ICh4KSA9PiB4ID09PSAxID8gMSA6IDEgLSBNYXRoLnBvdygyLCAtMTAgKiB4KSxcbiAgZWFzZUluT3V0RXhwbzogKHgpID0+IHggPT09IDAgPyAwIDogeCA9PT0gMSA/IDEgOiB4IDwgMC41ID8gTWF0aC5wb3coMiwgMjAgKiB4IC0gMTApIC8gMiA6ICgyIC0gTWF0aC5wb3coMiwgLTIwICogeCArIDEwKSkgLyAyLFxuICBlYXNlSW5DaXJjOiAoeCkgPT4gMSAtIE1hdGguc3FydCgxIC0gTWF0aC5wb3coeCwgMikpLFxuICBlYXNlT3V0Q2lyYzogKHgpID0+IE1hdGguc3FydCgxIC0gTWF0aC5wb3coeCAtIDEsIDIpKSxcbiAgZWFzZUluT3V0Q2lyYzogKHgpID0+IHggPCAwLjUgPyAoMSAtIE1hdGguc3FydCgxIC0gTWF0aC5wb3coMiAqIHgsIDIpKSkgLyAyIDogKE1hdGguc3FydCgxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgMikpICsgMSkgLyAyLFxuICBlYXNlSW5CYWNrOiAoeCkgPT4gYzMgKiB4ICogeCAqIHggLSBjMSAqIHggKiB4LFxuICBlYXNlT3V0QmFjazogKHgpID0+IDEgKyBjMyAqIE1hdGgucG93KHggLSAxLCAzKSArIGMxICogTWF0aC5wb3coeCAtIDEsIDIpLFxuICBlYXNlSW5PdXRCYWNrOiAoeCkgPT4geCA8IDAuNSA/IE1hdGgucG93KDIgKiB4LCAyKSAqICgoYzIgKyAxKSAqIDIgKiB4IC0gYzIpIC8gMiA6IChNYXRoLnBvdygyICogeCAtIDIsIDIpICogKChjMiArIDEpICogKHggKiAyIC0gMikgKyBjMikgKyAyKSAvIDIsXG4gIGVhc2VJbkVsYXN0aWM6ICh4KSA9PiB4ID09PSAwID8gMCA6IHggPT09IDEgPyAxIDogLU1hdGgucG93KDIsIDEwICogeCAtIDEwKSAqIE1hdGguc2luKCh4ICogMTAgLSAxMC43NSkgKiBjNCksXG4gIGVhc2VPdXRFbGFzdGljOiAoeCkgPT4geCA9PT0gMCA/IDAgOiB4ID09PSAxID8gMSA6IE1hdGgucG93KDIsIC0xMCAqIHgpICogTWF0aC5zaW4oKHggKiAxMCAtIDAuNzUpICogYzQpICsgMSxcbiAgZWFzZUluT3V0RWxhc3RpYzogKHgpID0+IHggPT09IDAgPyAwIDogeCA9PT0gMSA/IDEgOiB4IDwgMC41ID8gLShNYXRoLnBvdygyLCAyMCAqIHggLSAxMCkgKiBNYXRoLnNpbigoMjAgKiB4IC0gMTEuMTI1KSAqIGM1KSkgLyAyIDogTWF0aC5wb3coMiwgLTIwICogeCArIDEwKSAqIE1hdGguc2luKCgyMCAqIHggLSAxMS4xMjUpICogYzUpIC8gMiArIDEsXG4gIGVhc2VJbkJvdW5jZTogKHgpID0+IDEgLSBib3VuY2VPdXQoMSAtIHgpLFxuICBlYXNlT3V0Qm91bmNlOiBib3VuY2VPdXQsXG4gIGVhc2VJbk91dEJvdW5jZTogKHgpID0+IHggPCAwLjUgPyAoMSAtIGJvdW5jZU91dCgxIC0gMiAqIHgpKSAvIDIgOiAoMSArIGJvdW5jZU91dCgyICogeCAtIDEpKSAvIDIsXG4gIHN0ZXBzXG59O1xuXG4vLyBzcmMvZmx1aWRzLnRzXG52YXIgJGdldCA9IFN5bWJvbC5mb3IoXCJGbHVpZFZhbHVlLmdldFwiKTtcbnZhciAkb2JzZXJ2ZXJzID0gU3ltYm9sLmZvcihcIkZsdWlkVmFsdWUub2JzZXJ2ZXJzXCIpO1xudmFyIGhhc0ZsdWlkVmFsdWUgPSAoYXJnKSA9PiBCb29sZWFuKGFyZyAmJiBhcmdbJGdldF0pO1xudmFyIGdldEZsdWlkVmFsdWUgPSAoYXJnKSA9PiBhcmcgJiYgYXJnWyRnZXRdID8gYXJnWyRnZXRdKCkgOiBhcmc7XG52YXIgZ2V0Rmx1aWRPYnNlcnZlcnMgPSAodGFyZ2V0KSA9PiB0YXJnZXRbJG9ic2VydmVyc10gfHwgbnVsbDtcbmZ1bmN0aW9uIGNhbGxGbHVpZE9ic2VydmVyKG9ic2VydmVyMiwgZXZlbnQpIHtcbiAgaWYgKG9ic2VydmVyMi5ldmVudE9ic2VydmVkKSB7XG4gICAgb2JzZXJ2ZXIyLmV2ZW50T2JzZXJ2ZWQoZXZlbnQpO1xuICB9IGVsc2Uge1xuICAgIG9ic2VydmVyMihldmVudCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNhbGxGbHVpZE9ic2VydmVycyh0YXJnZXQsIGV2ZW50KSB7XG4gIGNvbnN0IG9ic2VydmVycyA9IHRhcmdldFskb2JzZXJ2ZXJzXTtcbiAgaWYgKG9ic2VydmVycykge1xuICAgIG9ic2VydmVycy5mb3JFYWNoKChvYnNlcnZlcjIpID0+IHtcbiAgICAgIGNhbGxGbHVpZE9ic2VydmVyKG9ic2VydmVyMiwgZXZlbnQpO1xuICAgIH0pO1xuICB9XG59XG52YXIgRmx1aWRWYWx1ZSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZ2V0KSB7XG4gICAgaWYgKCFnZXQgJiYgIShnZXQgPSB0aGlzLmdldCkpIHtcbiAgICAgIHRocm93IEVycm9yKFwiVW5rbm93biBnZXR0ZXJcIik7XG4gICAgfVxuICAgIHNldEZsdWlkR2V0dGVyKHRoaXMsIGdldCk7XG4gIH1cbn07XG4kZ2V0LCAkb2JzZXJ2ZXJzO1xudmFyIHNldEZsdWlkR2V0dGVyID0gKHRhcmdldCwgZ2V0KSA9PiBzZXRIaWRkZW4odGFyZ2V0LCAkZ2V0LCBnZXQpO1xuZnVuY3Rpb24gYWRkRmx1aWRPYnNlcnZlcih0YXJnZXQsIG9ic2VydmVyMikge1xuICBpZiAodGFyZ2V0WyRnZXRdKSB7XG4gICAgbGV0IG9ic2VydmVycyA9IHRhcmdldFskb2JzZXJ2ZXJzXTtcbiAgICBpZiAoIW9ic2VydmVycykge1xuICAgICAgc2V0SGlkZGVuKHRhcmdldCwgJG9ic2VydmVycywgb2JzZXJ2ZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSk7XG4gICAgfVxuICAgIGlmICghb2JzZXJ2ZXJzLmhhcyhvYnNlcnZlcjIpKSB7XG4gICAgICBvYnNlcnZlcnMuYWRkKG9ic2VydmVyMik7XG4gICAgICBpZiAodGFyZ2V0Lm9ic2VydmVyQWRkZWQpIHtcbiAgICAgICAgdGFyZ2V0Lm9ic2VydmVyQWRkZWQob2JzZXJ2ZXJzLnNpemUsIG9ic2VydmVyMik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBvYnNlcnZlcjI7XG59XG5mdW5jdGlvbiByZW1vdmVGbHVpZE9ic2VydmVyKHRhcmdldCwgb2JzZXJ2ZXIyKSB7XG4gIGNvbnN0IG9ic2VydmVycyA9IHRhcmdldFskb2JzZXJ2ZXJzXTtcbiAgaWYgKG9ic2VydmVycyAmJiBvYnNlcnZlcnMuaGFzKG9ic2VydmVyMikpIHtcbiAgICBjb25zdCBjb3VudCA9IG9ic2VydmVycy5zaXplIC0gMTtcbiAgICBpZiAoY291bnQpIHtcbiAgICAgIG9ic2VydmVycy5kZWxldGUob2JzZXJ2ZXIyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGFyZ2V0WyRvYnNlcnZlcnNdID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHRhcmdldC5vYnNlcnZlclJlbW92ZWQpIHtcbiAgICAgIHRhcmdldC5vYnNlcnZlclJlbW92ZWQoY291bnQsIG9ic2VydmVyMik7XG4gICAgfVxuICB9XG59XG52YXIgc2V0SGlkZGVuID0gKHRhcmdldCwga2V5LCB2YWx1ZSkgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCB7XG4gIHZhbHVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxuLy8gc3JjL3JlZ2V4cy50c1xudmFyIG51bWJlclJlZ2V4ID0gL1srXFwtXT8oPzowfFsxLTldXFxkKikoPzpcXC5cXGQqKT8oPzpbZUVdWytcXC1dP1xcZCspPy9nO1xudmFyIGNvbG9yUmVnZXggPSAvKCMoPzpbMC05YS1mXXsyfSl7Miw0fXwoI1swLTlhLWZdezN9KXwocmdifGhzbClhP1xcKCgtP1xcZCslP1ssXFxzXSspezIsM31cXHMqW1xcZFxcLl0rJT9cXCkpL2dpO1xudmFyIHVuaXRSZWdleCA9IG5ldyBSZWdFeHAoYCgke251bWJlclJlZ2V4LnNvdXJjZX0pKCV8W2Etel0rKWAsIFwiaVwiKTtcbnZhciByZ2JhUmVnZXggPSAvcmdiYVxcKChbMC05XFwuLV0rKSwgKFswLTlcXC4tXSspLCAoWzAtOVxcLi1dKyksIChbMC05XFwuLV0rKVxcKS9naTtcbnZhciBjc3NWYXJpYWJsZVJlZ2V4ID0gL3ZhclxcKCgtLVthLXpBLVowLTktX10rKSw/ID8oW2EtekEtWjAtOSAoKSUjLiwtXSspP1xcKS87XG5cbi8vIHNyYy92YXJpYWJsZVRvUmdiYS50c1xudmFyIHZhcmlhYmxlVG9SZ2JhID0gKGlucHV0KSA9PiB7XG4gIGNvbnN0IFt0b2tlbiwgZmFsbGJhY2tdID0gcGFyc2VDU1NWYXJpYWJsZShpbnB1dCk7XG4gIGlmICghdG9rZW4gfHwgaXNTU1IoKSkge1xuICAgIHJldHVybiBpbnB1dDtcbiAgfVxuICBjb25zdCB2YWx1ZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuZ2V0UHJvcGVydHlWYWx1ZSh0b2tlbik7XG4gIGlmICh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS50cmltKCk7XG4gIH0gZWxzZSBpZiAoZmFsbGJhY2sgJiYgZmFsbGJhY2suc3RhcnRzV2l0aChcIi0tXCIpKSB7XG4gICAgY29uc3QgdmFsdWUyID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKGZhbGxiYWNrKTtcbiAgICBpZiAodmFsdWUyKSB7XG4gICAgICByZXR1cm4gdmFsdWUyO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuICB9IGVsc2UgaWYgKGZhbGxiYWNrICYmIGNzc1ZhcmlhYmxlUmVnZXgudGVzdChmYWxsYmFjaykpIHtcbiAgICByZXR1cm4gdmFyaWFibGVUb1JnYmEoZmFsbGJhY2spO1xuICB9IGVsc2UgaWYgKGZhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZhbGxiYWNrO1xuICB9XG4gIHJldHVybiBpbnB1dDtcbn07XG52YXIgcGFyc2VDU1NWYXJpYWJsZSA9IChjdXJyZW50KSA9PiB7XG4gIGNvbnN0IG1hdGNoID0gY3NzVmFyaWFibGVSZWdleC5leGVjKGN1cnJlbnQpO1xuICBpZiAoIW1hdGNoKVxuICAgIHJldHVybiBbLF07XG4gIGNvbnN0IFssIHRva2VuLCBmYWxsYmFja10gPSBtYXRjaDtcbiAgcmV0dXJuIFt0b2tlbiwgZmFsbGJhY2tdO1xufTtcblxuLy8gc3JjL3N0cmluZ0ludGVycG9sYXRpb24udHNcbnZhciBuYW1lZENvbG9yUmVnZXg7XG52YXIgcmdiYVJvdW5kID0gKF8sIHAxLCBwMiwgcDMsIHA0KSA9PiBgcmdiYSgke01hdGgucm91bmQocDEpfSwgJHtNYXRoLnJvdW5kKHAyKX0sICR7TWF0aC5yb3VuZChwMyl9LCAke3A0fSlgO1xudmFyIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcjIgPSAoY29uZmlnKSA9PiB7XG4gIGlmICghbmFtZWRDb2xvclJlZ2V4KVxuICAgIG5hbWVkQ29sb3JSZWdleCA9IGNvbG9ycyA/IChcbiAgICAgIC8vIG1hdGNoIGNvbG9yIG5hbWVzLCBpZ25vcmUgcGFydGlhbCBtYXRjaGVzXG4gICAgICBuZXcgUmVnRXhwKGAoJHtPYmplY3Qua2V5cyhjb2xvcnMpLmpvaW4oXCJ8XCIpfSkoPyFcXFxcdylgLCBcImdcIilcbiAgICApIDogKFxuICAgICAgLy8gbmV2ZXIgbWF0Y2hcbiAgICAgIC9eXFxiJC9cbiAgICApO1xuICBjb25zdCBvdXRwdXQgPSBjb25maWcub3V0cHV0Lm1hcCgodmFsdWUpID0+IHtcbiAgICByZXR1cm4gZ2V0Rmx1aWRWYWx1ZSh2YWx1ZSkucmVwbGFjZShjc3NWYXJpYWJsZVJlZ2V4LCB2YXJpYWJsZVRvUmdiYSkucmVwbGFjZShjb2xvclJlZ2V4LCBjb2xvclRvUmdiYSkucmVwbGFjZShuYW1lZENvbG9yUmVnZXgsIGNvbG9yVG9SZ2JhKTtcbiAgfSk7XG4gIGNvbnN0IGtleWZyYW1lcyA9IG91dHB1dC5tYXAoKHZhbHVlKSA9PiB2YWx1ZS5tYXRjaChudW1iZXJSZWdleCkubWFwKE51bWJlcikpO1xuICBjb25zdCBvdXRwdXRSYW5nZXMgPSBrZXlmcmFtZXNbMF0ubWFwKFxuICAgIChfLCBpKSA9PiBrZXlmcmFtZXMubWFwKCh2YWx1ZXMpID0+IHtcbiAgICAgIGlmICghKGkgaW4gdmFsdWVzKSkge1xuICAgICAgICB0aHJvdyBFcnJvcignVGhlIGFyaXR5IG9mIGVhY2ggXCJvdXRwdXRcIiB2YWx1ZSBtdXN0IGJlIGVxdWFsJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVzW2ldO1xuICAgIH0pXG4gICk7XG4gIGNvbnN0IGludGVycG9sYXRvcnMgPSBvdXRwdXRSYW5nZXMubWFwKFxuICAgIChvdXRwdXQyKSA9PiBjcmVhdGVJbnRlcnBvbGF0b3IoeyAuLi5jb25maWcsIG91dHB1dDogb3V0cHV0MiB9KVxuICApO1xuICByZXR1cm4gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgbWlzc2luZ1VuaXQgPSAhdW5pdFJlZ2V4LnRlc3Qob3V0cHV0WzBdKSAmJiBvdXRwdXQuZmluZCgodmFsdWUpID0+IHVuaXRSZWdleC50ZXN0KHZhbHVlKSk/LnJlcGxhY2UobnVtYmVyUmVnZXgsIFwiXCIpO1xuICAgIGxldCBpID0gMDtcbiAgICByZXR1cm4gb3V0cHV0WzBdLnJlcGxhY2UoXG4gICAgICBudW1iZXJSZWdleCxcbiAgICAgICgpID0+IGAke2ludGVycG9sYXRvcnNbaSsrXShpbnB1dCl9JHttaXNzaW5nVW5pdCB8fCBcIlwifWBcbiAgICApLnJlcGxhY2UocmdiYVJlZ2V4LCByZ2JhUm91bmQpO1xuICB9O1xufTtcblxuLy8gc3JjL2RlcHJlY2F0aW9ucy50c1xudmFyIHByZWZpeCA9IFwicmVhY3Qtc3ByaW5nOiBcIjtcbnZhciBvbmNlID0gKGZuKSA9PiB7XG4gIGNvbnN0IGZ1bmMgPSBmbjtcbiAgbGV0IGNhbGxlZCA9IGZhbHNlO1xuICBpZiAodHlwZW9mIGZ1bmMgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgJHtwcmVmaXh9b25jZSByZXF1aXJlcyBhIGZ1bmN0aW9uIHBhcmFtZXRlcmApO1xuICB9XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIGlmICghY2FsbGVkKSB7XG4gICAgICBmdW5jKC4uLmFyZ3MpO1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG59O1xudmFyIHdhcm5JbnRlcnBvbGF0ZSA9IG9uY2UoY29uc29sZS53YXJuKTtcbmZ1bmN0aW9uIGRlcHJlY2F0ZUludGVycG9sYXRlKCkge1xuICB3YXJuSW50ZXJwb2xhdGUoXG4gICAgYCR7cHJlZml4fVRoZSBcImludGVycG9sYXRlXCIgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCBpbiB2OSAodXNlIFwidG9cIiBpbnN0ZWFkKWBcbiAgKTtcbn1cbnZhciB3YXJuRGlyZWN0Q2FsbCA9IG9uY2UoY29uc29sZS53YXJuKTtcbmZ1bmN0aW9uIGRlcHJlY2F0ZURpcmVjdENhbGwoKSB7XG4gIHdhcm5EaXJlY3RDYWxsKFxuICAgIGAke3ByZWZpeH1EaXJlY3RseSBjYWxsaW5nIHN0YXJ0IGluc3RlYWQgb2YgdXNpbmcgdGhlIGFwaSBvYmplY3QgaXMgZGVwcmVjYXRlZCBpbiB2OSAodXNlIFwiLnN0YXJ0XCIgaW5zdGVhZCksIHRoaXMgd2lsbCBiZSByZW1vdmVkIGluIGxhdGVyIDAuWC4wIHZlcnNpb25zYFxuICApO1xufVxuXG4vLyBzcmMvaXNBbmltYXRlZFN0cmluZy50c1xuZnVuY3Rpb24gaXNBbmltYXRlZFN0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gaXMuc3RyKHZhbHVlKSAmJiAodmFsdWVbMF0gPT0gXCIjXCIgfHwgL1xcZC8udGVzdCh2YWx1ZSkgfHwgLy8gRG8gbm90IGlkZW50aWZ5IGEgQ1NTIHZhcmlhYmxlIGFzIGFuIEFuaW1hdGVkU3RyaW5nIGlmIGl0cyBTU1JcbiAgIWlzU1NSKCkgJiYgY3NzVmFyaWFibGVSZWdleC50ZXN0KHZhbHVlKSB8fCB2YWx1ZSBpbiAoY29sb3JzIHx8IHt9KSk7XG59XG5cbi8vIHNyYy9kb20tZXZlbnRzL3Njcm9sbC9pbmRleC50c1xuaW1wb3J0IHsgcmFmIGFzIHJhZjMgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9yYWZ6XCI7XG5cbi8vIHNyYy9kb20tZXZlbnRzL3Jlc2l6ZS9yZXNpemVFbGVtZW50LnRzXG52YXIgb2JzZXJ2ZXI7XG52YXIgcmVzaXplSGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciBoYW5kbGVPYnNlcnZhdGlvbiA9IChlbnRyaWVzKSA9PiBlbnRyaWVzLmZvckVhY2goKHsgdGFyZ2V0LCBjb250ZW50UmVjdCB9KSA9PiB7XG4gIHJldHVybiByZXNpemVIYW5kbGVycy5nZXQodGFyZ2V0KT8uZm9yRWFjaCgoaGFuZGxlcikgPT4gaGFuZGxlcihjb250ZW50UmVjdCkpO1xufSk7XG5mdW5jdGlvbiByZXNpemVFbGVtZW50KGhhbmRsZXIsIHRhcmdldCkge1xuICBpZiAoIW9ic2VydmVyKSB7XG4gICAgaWYgKHR5cGVvZiBSZXNpemVPYnNlcnZlciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoaGFuZGxlT2JzZXJ2YXRpb24pO1xuICAgIH1cbiAgfVxuICBsZXQgZWxlbWVudEhhbmRsZXJzID0gcmVzaXplSGFuZGxlcnMuZ2V0KHRhcmdldCk7XG4gIGlmICghZWxlbWVudEhhbmRsZXJzKSB7XG4gICAgZWxlbWVudEhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICByZXNpemVIYW5kbGVycy5zZXQodGFyZ2V0LCBlbGVtZW50SGFuZGxlcnMpO1xuICB9XG4gIGVsZW1lbnRIYW5kbGVycy5hZGQoaGFuZGxlcik7XG4gIGlmIChvYnNlcnZlcikge1xuICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0KTtcbiAgfVxuICByZXR1cm4gKCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnRIYW5kbGVyczIgPSByZXNpemVIYW5kbGVycy5nZXQodGFyZ2V0KTtcbiAgICBpZiAoIWVsZW1lbnRIYW5kbGVyczIpXG4gICAgICByZXR1cm47XG4gICAgZWxlbWVudEhhbmRsZXJzMi5kZWxldGUoaGFuZGxlcik7XG4gICAgaWYgKCFlbGVtZW50SGFuZGxlcnMyLnNpemUgJiYgb2JzZXJ2ZXIpIHtcbiAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZSh0YXJnZXQpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gc3JjL2RvbS1ldmVudHMvcmVzaXplL3Jlc2l6ZVdpbmRvdy50c1xudmFyIGxpc3RlbmVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG52YXIgY2xlYW51cFdpbmRvd1Jlc2l6ZUhhbmRsZXI7XG52YXIgY3JlYXRlUmVzaXplSGFuZGxlciA9ICgpID0+IHtcbiAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKFxuICAgICAgKGNhbGxiYWNrKSA9PiBjYWxsYmFjayh7XG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgaGFuZGxlUmVzaXplKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuICB9O1xufTtcbnZhciByZXNpemVXaW5kb3cgPSAoY2FsbGJhY2spID0+IHtcbiAgbGlzdGVuZXJzLmFkZChjYWxsYmFjayk7XG4gIGlmICghY2xlYW51cFdpbmRvd1Jlc2l6ZUhhbmRsZXIpIHtcbiAgICBjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlciA9IGNyZWF0ZVJlc2l6ZUhhbmRsZXIoKTtcbiAgfVxuICByZXR1cm4gKCkgPT4ge1xuICAgIGxpc3RlbmVycy5kZWxldGUoY2FsbGJhY2spO1xuICAgIGlmICghbGlzdGVuZXJzLnNpemUgJiYgY2xlYW51cFdpbmRvd1Jlc2l6ZUhhbmRsZXIpIHtcbiAgICAgIGNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyKCk7XG4gICAgICBjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlciA9IHZvaWQgMDtcbiAgICB9XG4gIH07XG59O1xuXG4vLyBzcmMvZG9tLWV2ZW50cy9yZXNpemUvaW5kZXgudHNcbnZhciBvblJlc2l6ZSA9IChjYWxsYmFjaywgeyBjb250YWluZXIgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfSA9IHt9KSA9PiB7XG4gIGlmIChjb250YWluZXIgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgIHJldHVybiByZXNpemVXaW5kb3coY2FsbGJhY2spO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZXNpemVFbGVtZW50KGNhbGxiYWNrLCBjb250YWluZXIpO1xuICB9XG59O1xuXG4vLyBzcmMvcHJvZ3Jlc3MudHNcbnZhciBwcm9ncmVzcyA9IChtaW4sIG1heCwgdmFsdWUpID0+IG1heCAtIG1pbiA9PT0gMCA/IDEgOiAodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbik7XG5cbi8vIHNyYy9kb20tZXZlbnRzL3Njcm9sbC9TY3JvbGxIYW5kbGVyLnRzXG52YXIgU0NST0xMX0tFWVMgPSB7XG4gIHg6IHtcbiAgICBsZW5ndGg6IFwiV2lkdGhcIixcbiAgICBwb3NpdGlvbjogXCJMZWZ0XCJcbiAgfSxcbiAgeToge1xuICAgIGxlbmd0aDogXCJIZWlnaHRcIixcbiAgICBwb3NpdGlvbjogXCJUb3BcIlxuICB9XG59O1xudmFyIFNjcm9sbEhhbmRsZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNhbGxiYWNrLCBjb250YWluZXIpIHtcbiAgICB0aGlzLmNyZWF0ZUF4aXMgPSAoKSA9PiAoe1xuICAgICAgY3VycmVudDogMCxcbiAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgc2Nyb2xsTGVuZ3RoOiAwXG4gICAgfSk7XG4gICAgdGhpcy51cGRhdGVBeGlzID0gKGF4aXNOYW1lKSA9PiB7XG4gICAgICBjb25zdCBheGlzID0gdGhpcy5pbmZvW2F4aXNOYW1lXTtcbiAgICAgIGNvbnN0IHsgbGVuZ3RoLCBwb3NpdGlvbiB9ID0gU0NST0xMX0tFWVNbYXhpc05hbWVdO1xuICAgICAgYXhpcy5jdXJyZW50ID0gdGhpcy5jb250YWluZXJbYHNjcm9sbCR7cG9zaXRpb259YF07XG4gICAgICBheGlzLnNjcm9sbExlbmd0aCA9IHRoaXMuY29udGFpbmVyW2BzY3JvbGwke2xlbmd0aH1gXSAtIHRoaXMuY29udGFpbmVyW2BjbGllbnQke2xlbmd0aH1gXTtcbiAgICAgIGF4aXMucHJvZ3Jlc3MgPSBwcm9ncmVzcygwLCBheGlzLnNjcm9sbExlbmd0aCwgYXhpcy5jdXJyZW50KTtcbiAgICB9O1xuICAgIHRoaXMudXBkYXRlID0gKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGVBeGlzKFwieFwiKTtcbiAgICAgIHRoaXMudXBkYXRlQXhpcyhcInlcIik7XG4gICAgfTtcbiAgICB0aGlzLnNlbmRFdmVudCA9ICgpID0+IHtcbiAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5pbmZvKTtcbiAgICB9O1xuICAgIHRoaXMuYWR2YW5jZSA9ICgpID0+IHtcbiAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICB0aGlzLnNlbmRFdmVudCgpO1xuICAgIH07XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIHRoaXMuaW5mbyA9IHtcbiAgICAgIHRpbWU6IDAsXG4gICAgICB4OiB0aGlzLmNyZWF0ZUF4aXMoKSxcbiAgICAgIHk6IHRoaXMuY3JlYXRlQXhpcygpXG4gICAgfTtcbiAgfVxufTtcblxuLy8gc3JjL2RvbS1ldmVudHMvc2Nyb2xsL2luZGV4LnRzXG52YXIgc2Nyb2xsTGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgcmVzaXplTGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgb25TY3JvbGxIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIGdldFRhcmdldCA9IChjb250YWluZXIpID0+IGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gd2luZG93IDogY29udGFpbmVyO1xudmFyIG9uU2Nyb2xsID0gKGNhbGxiYWNrLCB7IGNvbnRhaW5lciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB9ID0ge30pID0+IHtcbiAgbGV0IGNvbnRhaW5lckhhbmRsZXJzID0gb25TY3JvbGxIYW5kbGVycy5nZXQoY29udGFpbmVyKTtcbiAgaWYgKCFjb250YWluZXJIYW5kbGVycykge1xuICAgIGNvbnRhaW5lckhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBvblNjcm9sbEhhbmRsZXJzLnNldChjb250YWluZXIsIGNvbnRhaW5lckhhbmRsZXJzKTtcbiAgfVxuICBjb25zdCBjb250YWluZXJIYW5kbGVyID0gbmV3IFNjcm9sbEhhbmRsZXIoY2FsbGJhY2ssIGNvbnRhaW5lcik7XG4gIGNvbnRhaW5lckhhbmRsZXJzLmFkZChjb250YWluZXJIYW5kbGVyKTtcbiAgaWYgKCFzY3JvbGxMaXN0ZW5lcnMuaGFzKGNvbnRhaW5lcikpIHtcbiAgICBjb25zdCBsaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgIGNvbnRhaW5lckhhbmRsZXJzPy5mb3JFYWNoKChoYW5kbGVyKSA9PiBoYW5kbGVyLmFkdmFuY2UoKSk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIHNjcm9sbExpc3RlbmVycy5zZXQoY29udGFpbmVyLCBsaXN0ZW5lcik7XG4gICAgY29uc3QgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGNvbnRhaW5lcik7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgbGlzdGVuZXIsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICBpZiAoY29udGFpbmVyICE9PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHtcbiAgICAgIHJlc2l6ZUxpc3RlbmVycy5zZXQoY29udGFpbmVyLCBvblJlc2l6ZShsaXN0ZW5lciwgeyBjb250YWluZXIgfSkpO1xuICAgIH1cbiAgICB0YXJnZXQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBsaXN0ZW5lciwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICB9XG4gIGNvbnN0IGFuaW1hdGVTY3JvbGwgPSBzY3JvbGxMaXN0ZW5lcnMuZ2V0KGNvbnRhaW5lcik7XG4gIHJhZjMoYW5pbWF0ZVNjcm9sbCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgcmFmMy5jYW5jZWwoYW5pbWF0ZVNjcm9sbCk7XG4gICAgY29uc3QgY29udGFpbmVySGFuZGxlcnMyID0gb25TY3JvbGxIYW5kbGVycy5nZXQoY29udGFpbmVyKTtcbiAgICBpZiAoIWNvbnRhaW5lckhhbmRsZXJzMilcbiAgICAgIHJldHVybjtcbiAgICBjb250YWluZXJIYW5kbGVyczIuZGVsZXRlKGNvbnRhaW5lckhhbmRsZXIpO1xuICAgIGlmIChjb250YWluZXJIYW5kbGVyczIuc2l6ZSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBsaXN0ZW5lciA9IHNjcm9sbExpc3RlbmVycy5nZXQoY29udGFpbmVyKTtcbiAgICBzY3JvbGxMaXN0ZW5lcnMuZGVsZXRlKGNvbnRhaW5lcik7XG4gICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICBnZXRUYXJnZXQoY29udGFpbmVyKS5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGxpc3RlbmVyKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGxpc3RlbmVyKTtcbiAgICAgIHJlc2l6ZUxpc3RlbmVycy5nZXQoY29udGFpbmVyKT8uKCk7XG4gICAgfVxuICB9O1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZUNvbnN0YW50LnRzXG5pbXBvcnQgeyB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZUNvbnN0YW50KGluaXQpIHtcbiAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICBpZiAocmVmLmN1cnJlbnQgPT09IG51bGwpIHtcbiAgICByZWYuY3VycmVudCA9IGluaXQoKTtcbiAgfVxuICByZXR1cm4gcmVmLmN1cnJlbnQ7XG59XG5cbi8vIHNyYy9ob29rcy91c2VGb3JjZVVwZGF0ZS50c1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2hvb2tzL3VzZUlzTW91bnRlZC50c1xuaW1wb3J0IHsgdXNlUmVmIGFzIHVzZVJlZjIgfSBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2hvb2tzL3VzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QudHNcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IGlzU1NSKCkgPyB1c2VFZmZlY3QgOiB1c2VMYXlvdXRFZmZlY3Q7XG5cbi8vIHNyYy9ob29rcy91c2VJc01vdW50ZWQudHNcbnZhciB1c2VJc01vdW50ZWQgPSAoKSA9PiB7XG4gIGNvbnN0IGlzTW91bnRlZCA9IHVzZVJlZjIoZmFsc2UpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpc01vdW50ZWQuY3VycmVudCA9IHRydWU7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZC5jdXJyZW50ID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gaXNNb3VudGVkO1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZUZvcmNlVXBkYXRlLnRzXG5mdW5jdGlvbiB1c2VGb3JjZVVwZGF0ZSgpIHtcbiAgY29uc3QgdXBkYXRlID0gdXNlU3RhdGUoKVsxXTtcbiAgY29uc3QgaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKCk7XG4gIHJldHVybiAoKSA9PiB7XG4gICAgaWYgKGlzTW91bnRlZC5jdXJyZW50KSB7XG4gICAgICB1cGRhdGUoTWF0aC5yYW5kb20oKSk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvaG9va3MvdXNlTWVtb09uZS50c1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDIsIHVzZVJlZiBhcyB1c2VSZWYzLCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTIgfSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIHVzZU1lbW9PbmUoZ2V0UmVzdWx0LCBpbnB1dHMpIHtcbiAgY29uc3QgW2luaXRpYWxdID0gdXNlU3RhdGUyKFxuICAgICgpID0+ICh7XG4gICAgICBpbnB1dHMsXG4gICAgICByZXN1bHQ6IGdldFJlc3VsdCgpXG4gICAgfSlcbiAgKTtcbiAgY29uc3QgY29tbWl0dGVkID0gdXNlUmVmMygpO1xuICBjb25zdCBwcmV2Q2FjaGUgPSBjb21taXR0ZWQuY3VycmVudDtcbiAgbGV0IGNhY2hlID0gcHJldkNhY2hlO1xuICBpZiAoY2FjaGUpIHtcbiAgICBjb25zdCB1c2VDYWNoZSA9IEJvb2xlYW4oXG4gICAgICBpbnB1dHMgJiYgY2FjaGUuaW5wdXRzICYmIGFyZUlucHV0c0VxdWFsKGlucHV0cywgY2FjaGUuaW5wdXRzKVxuICAgICk7XG4gICAgaWYgKCF1c2VDYWNoZSkge1xuICAgICAgY2FjaGUgPSB7XG4gICAgICAgIGlucHV0cyxcbiAgICAgICAgcmVzdWx0OiBnZXRSZXN1bHQoKVxuICAgICAgfTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2FjaGUgPSBpbml0aWFsO1xuICB9XG4gIHVzZUVmZmVjdDIoKCkgPT4ge1xuICAgIGNvbW1pdHRlZC5jdXJyZW50ID0gY2FjaGU7XG4gICAgaWYgKHByZXZDYWNoZSA9PSBpbml0aWFsKSB7XG4gICAgICBpbml0aWFsLmlucHV0cyA9IGluaXRpYWwucmVzdWx0ID0gdm9pZCAwO1xuICAgIH1cbiAgfSwgW2NhY2hlXSk7XG4gIHJldHVybiBjYWNoZS5yZXN1bHQ7XG59XG5mdW5jdGlvbiBhcmVJbnB1dHNFcXVhbChuZXh0LCBwcmV2KSB7XG4gIGlmIChuZXh0Lmxlbmd0aCAhPT0gcHJldi5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG5leHRbaV0gIT09IHByZXZbaV0pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8vIHNyYy9ob29rcy91c2VPbmNlLnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MyB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZU9uY2UgPSAoZWZmZWN0KSA9PiB1c2VFZmZlY3QzKGVmZmVjdCwgZW1wdHlEZXBzKTtcbnZhciBlbXB0eURlcHMgPSBbXTtcblxuLy8gc3JjL2hvb2tzL3VzZVByZXYudHNcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3Q0LCB1c2VSZWYgYXMgdXNlUmVmNCB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlUHJldih2YWx1ZSkge1xuICBjb25zdCBwcmV2UmVmID0gdXNlUmVmNCgpO1xuICB1c2VFZmZlY3Q0KCgpID0+IHtcbiAgICBwcmV2UmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBwcmV2UmVmLmN1cnJlbnQ7XG59XG5cbi8vIHNyYy9ob29rcy91c2VSZWR1Y2VkTW90aW9uLnRzXG5pbXBvcnQgeyB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTMgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VSZWR1Y2VkTW90aW9uID0gKCkgPT4ge1xuICBjb25zdCBbcmVkdWNlZE1vdGlvbiwgc2V0UmVkdWNlZE1vdGlvbl0gPSB1c2VTdGF0ZTMobnVsbCk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG1xbCA9IHdpbmRvdy5tYXRjaE1lZGlhKFwiKHByZWZlcnMtcmVkdWNlZC1tb3Rpb24pXCIpO1xuICAgIGNvbnN0IGhhbmRsZU1lZGlhQ2hhbmdlID0gKGUpID0+IHtcbiAgICAgIHNldFJlZHVjZWRNb3Rpb24oZS5tYXRjaGVzKTtcbiAgICAgIGFzc2lnbih7XG4gICAgICAgIHNraXBBbmltYXRpb246IGUubWF0Y2hlc1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBoYW5kbGVNZWRpYUNoYW5nZShtcWwpO1xuICAgIGlmIChtcWwuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgbXFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlTWVkaWFDaGFuZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtcWwuYWRkTGlzdGVuZXIoaGFuZGxlTWVkaWFDaGFuZ2UpO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKG1xbC5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgIG1xbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIGhhbmRsZU1lZGlhQ2hhbmdlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1xbC5yZW1vdmVMaXN0ZW5lcihoYW5kbGVNZWRpYUNoYW5nZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gcmVkdWNlZE1vdGlvbjtcbn07XG5cbi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHsgcmFmIGFzIHJhZjQgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9yYWZ6XCI7XG5leHBvcnQge1xuICBGbHVpZFZhbHVlLFxuICBnbG9iYWxzX2V4cG9ydHMgYXMgR2xvYmFscyxcbiAgYWRkRmx1aWRPYnNlcnZlcixcbiAgY2FsbEZsdWlkT2JzZXJ2ZXIsXG4gIGNhbGxGbHVpZE9ic2VydmVycyxcbiAgY2xhbXAsXG4gIGNvbG9yVG9SZ2JhLFxuICBjb2xvcnMyIGFzIGNvbG9ycyxcbiAgY3JlYXRlSW50ZXJwb2xhdG9yLFxuICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IyIGFzIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcixcbiAgZGVmaW5lSGlkZGVuLFxuICBkZXByZWNhdGVEaXJlY3RDYWxsLFxuICBkZXByZWNhdGVJbnRlcnBvbGF0ZSxcbiAgZWFjaCxcbiAgZWFjaFByb3AsXG4gIGVhc2luZ3MsXG4gIGZsdXNoLFxuICBmbHVzaENhbGxzLFxuICBmcmFtZUxvb3AsXG4gIGdldEZsdWlkT2JzZXJ2ZXJzLFxuICBnZXRGbHVpZFZhbHVlLFxuICBoYXNGbHVpZFZhbHVlLFxuICBoZXgzLFxuICBoZXg0LFxuICBoZXg2LFxuICBoZXg4LFxuICBoc2wsXG4gIGhzbGEsXG4gIGlzLFxuICBpc0FuaW1hdGVkU3RyaW5nLFxuICBpc0VxdWFsLFxuICBpc1NTUixcbiAgbm9vcCxcbiAgb25SZXNpemUsXG4gIG9uU2Nyb2xsLFxuICBvbmNlLFxuICBwcmVmaXgsXG4gIHJhZjQgYXMgcmFmLFxuICByZW1vdmVGbHVpZE9ic2VydmVyLFxuICByZ2IsXG4gIHJnYmEsXG4gIHNldEZsdWlkR2V0dGVyLFxuICB0b0FycmF5LFxuICB1c2VDb25zdGFudCxcbiAgdXNlRm9yY2VVcGRhdGUsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QsXG4gIHVzZU1lbW9PbmUsXG4gIHVzZU9uY2UsXG4gIHVzZVByZXYsXG4gIHVzZVJlZHVjZWRNb3Rpb25cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1zcHJpbmdfc2hhcmVkLm1vZGVybi5tanMubWFwIiwKICAgICIvLyBzcmMvaG9va3MvdXNlQ2hhaW4udHNcbmltcG9ydCB7IGVhY2gsIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL2hlbHBlcnMudHNcbmltcG9ydCB7XG4gIGlzLFxuICB0b0FycmF5LFxuICBlYWNoUHJvcCxcbiAgZ2V0Rmx1aWRWYWx1ZSxcbiAgaXNBbmltYXRlZFN0cmluZyxcbiAgR2xvYmFscyBhcyBHXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuZnVuY3Rpb24gY2FsbFByb3AodmFsdWUsIC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGlzLmZ1bih2YWx1ZSkgPyB2YWx1ZSguLi5hcmdzKSA6IHZhbHVlO1xufVxudmFyIG1hdGNoUHJvcCA9ICh2YWx1ZSwga2V5KSA9PiB2YWx1ZSA9PT0gdHJ1ZSB8fCAhIShrZXkgJiYgdmFsdWUgJiYgKGlzLmZ1bih2YWx1ZSkgPyB2YWx1ZShrZXkpIDogdG9BcnJheSh2YWx1ZSkuaW5jbHVkZXMoa2V5KSkpO1xudmFyIHJlc29sdmVQcm9wID0gKHByb3AsIGtleSkgPT4gaXMub2JqKHByb3ApID8ga2V5ICYmIHByb3Bba2V5XSA6IHByb3A7XG52YXIgZ2V0RGVmYXVsdFByb3AgPSAocHJvcHMsIGtleSkgPT4gcHJvcHMuZGVmYXVsdCA9PT0gdHJ1ZSA/IHByb3BzW2tleV0gOiBwcm9wcy5kZWZhdWx0ID8gcHJvcHMuZGVmYXVsdFtrZXldIDogdm9pZCAwO1xudmFyIG5vb3BUcmFuc2Zvcm0gPSAodmFsdWUpID0+IHZhbHVlO1xudmFyIGdldERlZmF1bHRQcm9wcyA9IChwcm9wcywgdHJhbnNmb3JtID0gbm9vcFRyYW5zZm9ybSkgPT4ge1xuICBsZXQga2V5cyA9IERFRkFVTFRfUFJPUFM7XG4gIGlmIChwcm9wcy5kZWZhdWx0ICYmIHByb3BzLmRlZmF1bHQgIT09IHRydWUpIHtcbiAgICBwcm9wcyA9IHByb3BzLmRlZmF1bHQ7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHByb3BzKTtcbiAgfVxuICBjb25zdCBkZWZhdWx0czIgPSB7fTtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5cykge1xuICAgIGNvbnN0IHZhbHVlID0gdHJhbnNmb3JtKHByb3BzW2tleV0sIGtleSk7XG4gICAgaWYgKCFpcy51bmQodmFsdWUpKSB7XG4gICAgICBkZWZhdWx0czJba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGVmYXVsdHMyO1xufTtcbnZhciBERUZBVUxUX1BST1BTID0gW1xuICBcImNvbmZpZ1wiLFxuICBcIm9uUHJvcHNcIixcbiAgXCJvblN0YXJ0XCIsXG4gIFwib25DaGFuZ2VcIixcbiAgXCJvblBhdXNlXCIsXG4gIFwib25SZXN1bWVcIixcbiAgXCJvblJlc3RcIlxuXTtcbnZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAgY29uZmlnOiAxLFxuICBmcm9tOiAxLFxuICB0bzogMSxcbiAgcmVmOiAxLFxuICBsb29wOiAxLFxuICByZXNldDogMSxcbiAgcGF1c2U6IDEsXG4gIGNhbmNlbDogMSxcbiAgcmV2ZXJzZTogMSxcbiAgaW1tZWRpYXRlOiAxLFxuICBkZWZhdWx0OiAxLFxuICBkZWxheTogMSxcbiAgb25Qcm9wczogMSxcbiAgb25TdGFydDogMSxcbiAgb25DaGFuZ2U6IDEsXG4gIG9uUGF1c2U6IDEsXG4gIG9uUmVzdW1lOiAxLFxuICBvblJlc3Q6IDEsXG4gIG9uUmVzb2x2ZTogMSxcbiAgLy8gVHJhbnNpdGlvbiBwcm9wc1xuICBpdGVtczogMSxcbiAgdHJhaWw6IDEsXG4gIHNvcnQ6IDEsXG4gIGV4cGlyZXM6IDEsXG4gIGluaXRpYWw6IDEsXG4gIGVudGVyOiAxLFxuICB1cGRhdGU6IDEsXG4gIGxlYXZlOiAxLFxuICBjaGlsZHJlbjogMSxcbiAgb25EZXN0cm95ZWQ6IDEsXG4gIC8vIEludGVybmFsIHByb3BzXG4gIGtleXM6IDEsXG4gIGNhbGxJZDogMSxcbiAgcGFyZW50SWQ6IDFcbn07XG5mdW5jdGlvbiBnZXRGb3J3YXJkUHJvcHMocHJvcHMpIHtcbiAgY29uc3QgZm9yd2FyZCA9IHt9O1xuICBsZXQgY291bnQgPSAwO1xuICBlYWNoUHJvcChwcm9wcywgKHZhbHVlLCBwcm9wKSA9PiB7XG4gICAgaWYgKCFSRVNFUlZFRF9QUk9QU1twcm9wXSkge1xuICAgICAgZm9yd2FyZFtwcm9wXSA9IHZhbHVlO1xuICAgICAgY291bnQrKztcbiAgICB9XG4gIH0pO1xuICBpZiAoY291bnQpIHtcbiAgICByZXR1cm4gZm9yd2FyZDtcbiAgfVxufVxuZnVuY3Rpb24gaW5mZXJUbyhwcm9wcykge1xuICBjb25zdCB0bzIgPSBnZXRGb3J3YXJkUHJvcHMocHJvcHMpO1xuICBpZiAodG8yKSB7XG4gICAgY29uc3Qgb3V0ID0geyB0bzogdG8yIH07XG4gICAgZWFjaFByb3AocHJvcHMsICh2YWwsIGtleSkgPT4ga2V5IGluIHRvMiB8fCAob3V0W2tleV0gPSB2YWwpKTtcbiAgICByZXR1cm4gb3V0O1xuICB9XG4gIHJldHVybiB7IC4uLnByb3BzIH07XG59XG5mdW5jdGlvbiBjb21wdXRlR29hbCh2YWx1ZSkge1xuICB2YWx1ZSA9IGdldEZsdWlkVmFsdWUodmFsdWUpO1xuICByZXR1cm4gaXMuYXJyKHZhbHVlKSA/IHZhbHVlLm1hcChjb21wdXRlR29hbCkgOiBpc0FuaW1hdGVkU3RyaW5nKHZhbHVlKSA/IEcuY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yKHtcbiAgICByYW5nZTogWzAsIDFdLFxuICAgIG91dHB1dDogW3ZhbHVlLCB2YWx1ZV1cbiAgfSkoMSkgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGhhc1Byb3BzKHByb3BzKSB7XG4gIGZvciAoY29uc3QgXyBpbiBwcm9wcylcbiAgICByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNBc3luY1RvKHRvMikge1xuICByZXR1cm4gaXMuZnVuKHRvMikgfHwgaXMuYXJyKHRvMikgJiYgaXMub2JqKHRvMlswXSk7XG59XG5mdW5jdGlvbiBkZXRhY2hSZWZzKGN0cmwsIHJlZikge1xuICBjdHJsLnJlZj8uZGVsZXRlKGN0cmwpO1xuICByZWY/LmRlbGV0ZShjdHJsKTtcbn1cbmZ1bmN0aW9uIHJlcGxhY2VSZWYoY3RybCwgcmVmKSB7XG4gIGlmIChyZWYgJiYgY3RybC5yZWYgIT09IHJlZikge1xuICAgIGN0cmwucmVmPy5kZWxldGUoY3RybCk7XG4gICAgcmVmLmFkZChjdHJsKTtcbiAgICBjdHJsLnJlZiA9IHJlZjtcbiAgfVxufVxuXG4vLyBzcmMvaG9va3MvdXNlQ2hhaW4udHNcbmZ1bmN0aW9uIHVzZUNoYWluKHJlZnMsIHRpbWVTdGVwcywgdGltZUZyYW1lID0gMWUzKSB7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0aW1lU3RlcHMpIHtcbiAgICAgIGxldCBwcmV2RGVsYXkgPSAwO1xuICAgICAgZWFjaChyZWZzLCAocmVmLCBpKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXJzID0gcmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChjb250cm9sbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBsZXQgZGVsYXkgPSB0aW1lRnJhbWUgKiB0aW1lU3RlcHNbaV07XG4gICAgICAgICAgaWYgKGlzTmFOKGRlbGF5KSlcbiAgICAgICAgICAgIGRlbGF5ID0gcHJldkRlbGF5O1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHByZXZEZWxheSA9IGRlbGF5O1xuICAgICAgICAgIGVhY2goY29udHJvbGxlcnMsIChjdHJsKSA9PiB7XG4gICAgICAgICAgICBlYWNoKGN0cmwucXVldWUsIChwcm9wcykgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBtZW1vaXplZERlbGF5UHJvcCA9IHByb3BzLmRlbGF5O1xuICAgICAgICAgICAgICBwcm9wcy5kZWxheSA9IChrZXkpID0+IGRlbGF5ICsgY2FsbFByb3AobWVtb2l6ZWREZWxheVByb3AgfHwgMCwga2V5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlZi5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHAgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIGVhY2gocmVmcywgKHJlZikgPT4ge1xuICAgICAgICBjb25zdCBjb250cm9sbGVycyA9IHJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoY29udHJvbGxlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgY29uc3QgcXVldWVzID0gY29udHJvbGxlcnMubWFwKChjdHJsKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxID0gY3RybC5xdWV1ZTtcbiAgICAgICAgICAgIGN0cmwucXVldWUgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBxO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHAgPSBwLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgZWFjaChcbiAgICAgICAgICAgICAgY29udHJvbGxlcnMsXG4gICAgICAgICAgICAgIChjdHJsLCBpKSA9PiBlYWNoKHF1ZXVlc1tpXSB8fCBbXSwgKHVwZGF0ZTIpID0+IGN0cmwucXVldWUucHVzaCh1cGRhdGUyKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVmLnN0YXJ0KCkpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5nLnRzXG5pbXBvcnQgeyBpcyBhcyBpczkgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZ3MudHNcbmltcG9ydCB7IHVzZUNvbnRleHQgYXMgdXNlQ29udGV4dDIsIHVzZU1lbW8sIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgaXMgYXMgaXM4LFxuICBlYWNoIGFzIGVhY2g1LFxuICB1c2VQcmV2LFxuICB1c2VPbmNlLFxuICB1c2VGb3JjZVVwZGF0ZSxcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0MlxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL1NwcmluZ1ZhbHVlLnRzXG5pbXBvcnQge1xuICBpcyBhcyBpczUsXG4gIHJhZiBhcyByYWYzLFxuICBlYWNoIGFzIGVhY2gyLFxuICBpc0VxdWFsLFxuICB0b0FycmF5IGFzIHRvQXJyYXkyLFxuICBlYWNoUHJvcCBhcyBlYWNoUHJvcDMsXG4gIGZyYW1lTG9vcCBhcyBmcmFtZUxvb3AyLFxuICBmbHVzaENhbGxzLFxuICBnZXRGbHVpZFZhbHVlIGFzIGdldEZsdWlkVmFsdWUyLFxuICBpc0FuaW1hdGVkU3RyaW5nIGFzIGlzQW5pbWF0ZWRTdHJpbmcyLFxuICBHbG9iYWxzIGFzIEc1LFxuICBjYWxsRmx1aWRPYnNlcnZlcnMgYXMgY2FsbEZsdWlkT2JzZXJ2ZXJzMixcbiAgaGFzRmx1aWRWYWx1ZSxcbiAgYWRkRmx1aWRPYnNlcnZlcixcbiAgcmVtb3ZlRmx1aWRPYnNlcnZlcixcbiAgZ2V0Rmx1aWRPYnNlcnZlcnNcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5pbXBvcnQge1xuICBBbmltYXRlZFZhbHVlLFxuICBBbmltYXRlZFN0cmluZyxcbiAgZ2V0UGF5bG9hZCxcbiAgZ2V0QW5pbWF0ZWQgYXMgZ2V0QW5pbWF0ZWQyLFxuICBzZXRBbmltYXRlZCxcbiAgZ2V0QW5pbWF0ZWRUeXBlXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL2FuaW1hdGVkXCI7XG5cbi8vIHNyYy9BbmltYXRpb25Db25maWcudHNcbmltcG9ydCB7IGlzIGFzIGlzMiwgZWFzaW5ncyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvY29uc3RhbnRzLnRzXG52YXIgY29uZmlnID0ge1xuICBkZWZhdWx0OiB7IHRlbnNpb246IDE3MCwgZnJpY3Rpb246IDI2IH0sXG4gIGdlbnRsZTogeyB0ZW5zaW9uOiAxMjAsIGZyaWN0aW9uOiAxNCB9LFxuICB3b2JibHk6IHsgdGVuc2lvbjogMTgwLCBmcmljdGlvbjogMTIgfSxcbiAgc3RpZmY6IHsgdGVuc2lvbjogMjEwLCBmcmljdGlvbjogMjAgfSxcbiAgc2xvdzogeyB0ZW5zaW9uOiAyODAsIGZyaWN0aW9uOiA2MCB9LFxuICBtb2xhc3NlczogeyB0ZW5zaW9uOiAyODAsIGZyaWN0aW9uOiAxMjAgfVxufTtcblxuLy8gc3JjL0FuaW1hdGlvbkNvbmZpZy50c1xudmFyIGRlZmF1bHRzID0ge1xuICAuLi5jb25maWcuZGVmYXVsdCxcbiAgbWFzczogMSxcbiAgZGFtcGluZzogMSxcbiAgZWFzaW5nOiBlYXNpbmdzLmxpbmVhcixcbiAgY2xhbXA6IGZhbHNlXG59O1xudmFyIEFuaW1hdGlvbkNvbmZpZyA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqXG4gICAgICogVGhlIGluaXRpYWwgdmVsb2NpdHkgb2Ygb25lIG9yIG1vcmUgdmFsdWVzLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHRoaXMudmVsb2NpdHkgPSAwO1xuICAgIE9iamVjdC5hc3NpZ24odGhpcywgZGVmYXVsdHMpO1xuICB9XG59O1xuZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnMiwgbmV3Q29uZmlnLCBkZWZhdWx0Q29uZmlnKSB7XG4gIGlmIChkZWZhdWx0Q29uZmlnKSB7XG4gICAgZGVmYXVsdENvbmZpZyA9IHsgLi4uZGVmYXVsdENvbmZpZyB9O1xuICAgIHNhbml0aXplQ29uZmlnKGRlZmF1bHRDb25maWcsIG5ld0NvbmZpZyk7XG4gICAgbmV3Q29uZmlnID0geyAuLi5kZWZhdWx0Q29uZmlnLCAuLi5uZXdDb25maWcgfTtcbiAgfVxuICBzYW5pdGl6ZUNvbmZpZyhjb25maWcyLCBuZXdDb25maWcpO1xuICBPYmplY3QuYXNzaWduKGNvbmZpZzIsIG5ld0NvbmZpZyk7XG4gIGZvciAoY29uc3Qga2V5IGluIGRlZmF1bHRzKSB7XG4gICAgaWYgKGNvbmZpZzJba2V5XSA9PSBudWxsKSB7XG4gICAgICBjb25maWcyW2tleV0gPSBkZWZhdWx0c1trZXldO1xuICAgIH1cbiAgfVxuICBsZXQgeyBmcmVxdWVuY3ksIGRhbXBpbmcgfSA9IGNvbmZpZzI7XG4gIGNvbnN0IHsgbWFzcyB9ID0gY29uZmlnMjtcbiAgaWYgKCFpczIudW5kKGZyZXF1ZW5jeSkpIHtcbiAgICBpZiAoZnJlcXVlbmN5IDwgMC4wMSlcbiAgICAgIGZyZXF1ZW5jeSA9IDAuMDE7XG4gICAgaWYgKGRhbXBpbmcgPCAwKVxuICAgICAgZGFtcGluZyA9IDA7XG4gICAgY29uZmlnMi50ZW5zaW9uID0gTWF0aC5wb3coMiAqIE1hdGguUEkgLyBmcmVxdWVuY3ksIDIpICogbWFzcztcbiAgICBjb25maWcyLmZyaWN0aW9uID0gNCAqIE1hdGguUEkgKiBkYW1waW5nICogbWFzcyAvIGZyZXF1ZW5jeTtcbiAgfVxuICByZXR1cm4gY29uZmlnMjtcbn1cbmZ1bmN0aW9uIHNhbml0aXplQ29uZmlnKGNvbmZpZzIsIHByb3BzKSB7XG4gIGlmICghaXMyLnVuZChwcm9wcy5kZWNheSkpIHtcbiAgICBjb25maWcyLmR1cmF0aW9uID0gdm9pZCAwO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGlzVGVuc2lvbkNvbmZpZyA9ICFpczIudW5kKHByb3BzLnRlbnNpb24pIHx8ICFpczIudW5kKHByb3BzLmZyaWN0aW9uKTtcbiAgICBpZiAoaXNUZW5zaW9uQ29uZmlnIHx8ICFpczIudW5kKHByb3BzLmZyZXF1ZW5jeSkgfHwgIWlzMi51bmQocHJvcHMuZGFtcGluZykgfHwgIWlzMi51bmQocHJvcHMubWFzcykpIHtcbiAgICAgIGNvbmZpZzIuZHVyYXRpb24gPSB2b2lkIDA7XG4gICAgICBjb25maWcyLmRlY2F5ID0gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoaXNUZW5zaW9uQ29uZmlnKSB7XG4gICAgICBjb25maWcyLmZyZXF1ZW5jeSA9IHZvaWQgMDtcbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL0FuaW1hdGlvbi50c1xudmFyIGVtcHR5QXJyYXkgPSBbXTtcbnZhciBBbmltYXRpb24gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuY2hhbmdlZCA9IGZhbHNlO1xuICAgIHRoaXMudmFsdWVzID0gZW1wdHlBcnJheTtcbiAgICB0aGlzLnRvVmFsdWVzID0gbnVsbDtcbiAgICB0aGlzLmZyb21WYWx1ZXMgPSBlbXB0eUFycmF5O1xuICAgIHRoaXMuY29uZmlnID0gbmV3IEFuaW1hdGlvbkNvbmZpZygpO1xuICAgIHRoaXMuaW1tZWRpYXRlID0gZmFsc2U7XG4gIH1cbn07XG5cbi8vIHNyYy9zY2hlZHVsZVByb3BzLnRzXG5pbXBvcnQgeyBpcyBhcyBpczMsIHJhZiwgR2xvYmFscyBhcyBHMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuZnVuY3Rpb24gc2NoZWR1bGVQcm9wcyhjYWxsSWQsIHsga2V5LCBwcm9wcywgZGVmYXVsdFByb3BzLCBzdGF0ZSwgYWN0aW9ucyB9KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgbGV0IGRlbGF5O1xuICAgIGxldCB0aW1lb3V0O1xuICAgIGxldCBjYW5jZWwgPSBtYXRjaFByb3AocHJvcHMuY2FuY2VsID8/IGRlZmF1bHRQcm9wcz8uY2FuY2VsLCBrZXkpO1xuICAgIGlmIChjYW5jZWwpIHtcbiAgICAgIG9uU3RhcnQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFpczMudW5kKHByb3BzLnBhdXNlKSkge1xuICAgICAgICBzdGF0ZS5wYXVzZWQgPSBtYXRjaFByb3AocHJvcHMucGF1c2UsIGtleSk7XG4gICAgICB9XG4gICAgICBsZXQgcGF1c2UgPSBkZWZhdWx0UHJvcHM/LnBhdXNlO1xuICAgICAgaWYgKHBhdXNlICE9PSB0cnVlKSB7XG4gICAgICAgIHBhdXNlID0gc3RhdGUucGF1c2VkIHx8IG1hdGNoUHJvcChwYXVzZSwga2V5KTtcbiAgICAgIH1cbiAgICAgIGRlbGF5ID0gY2FsbFByb3AocHJvcHMuZGVsYXkgfHwgMCwga2V5KTtcbiAgICAgIGlmIChwYXVzZSkge1xuICAgICAgICBzdGF0ZS5yZXN1bWVRdWV1ZS5hZGQob25SZXN1bWUpO1xuICAgICAgICBhY3Rpb25zLnBhdXNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY3Rpb25zLnJlc3VtZSgpO1xuICAgICAgICBvblJlc3VtZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBvblBhdXNlKCkge1xuICAgICAgc3RhdGUucmVzdW1lUXVldWUuYWRkKG9uUmVzdW1lKTtcbiAgICAgIHN0YXRlLnRpbWVvdXRzLmRlbGV0ZSh0aW1lb3V0KTtcbiAgICAgIHRpbWVvdXQuY2FuY2VsKCk7XG4gICAgICBkZWxheSA9IHRpbWVvdXQudGltZSAtIHJhZi5ub3coKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25SZXN1bWUoKSB7XG4gICAgICBpZiAoZGVsYXkgPiAwICYmICFHMi5za2lwQW5pbWF0aW9uKSB7XG4gICAgICAgIHN0YXRlLmRlbGF5ZWQgPSB0cnVlO1xuICAgICAgICB0aW1lb3V0ID0gcmFmLnNldFRpbWVvdXQob25TdGFydCwgZGVsYXkpO1xuICAgICAgICBzdGF0ZS5wYXVzZVF1ZXVlLmFkZChvblBhdXNlKTtcbiAgICAgICAgc3RhdGUudGltZW91dHMuYWRkKHRpbWVvdXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb25TdGFydCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBvblN0YXJ0KCkge1xuICAgICAgaWYgKHN0YXRlLmRlbGF5ZWQpIHtcbiAgICAgICAgc3RhdGUuZGVsYXllZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgc3RhdGUucGF1c2VRdWV1ZS5kZWxldGUob25QYXVzZSk7XG4gICAgICBzdGF0ZS50aW1lb3V0cy5kZWxldGUodGltZW91dCk7XG4gICAgICBpZiAoY2FsbElkIDw9IChzdGF0ZS5jYW5jZWxJZCB8fCAwKSkge1xuICAgICAgICBjYW5jZWwgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgYWN0aW9ucy5zdGFydCh7IC4uLnByb3BzLCBjYWxsSWQsIGNhbmNlbCB9LCByZXNvbHZlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzcmMvcnVuQXN5bmMudHNcbmltcG9ydCB7XG4gIGlzIGFzIGlzNCxcbiAgcmFmIGFzIHJhZjIsXG4gIGZsdXNoLFxuICBlYWNoUHJvcCBhcyBlYWNoUHJvcDIsXG4gIEdsb2JhbHMgYXMgRzNcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9BbmltYXRpb25SZXN1bHQudHNcbnZhciBnZXRDb21iaW5lZFJlc3VsdCA9ICh0YXJnZXQsIHJlc3VsdHMpID0+IHJlc3VsdHMubGVuZ3RoID09IDEgPyByZXN1bHRzWzBdIDogcmVzdWx0cy5zb21lKChyZXN1bHQpID0+IHJlc3VsdC5jYW5jZWxsZWQpID8gZ2V0Q2FuY2VsbGVkUmVzdWx0KHRhcmdldC5nZXQoKSkgOiByZXN1bHRzLmV2ZXJ5KChyZXN1bHQpID0+IHJlc3VsdC5ub29wKSA/IGdldE5vb3BSZXN1bHQodGFyZ2V0LmdldCgpKSA6IGdldEZpbmlzaGVkUmVzdWx0KFxuICB0YXJnZXQuZ2V0KCksXG4gIHJlc3VsdHMuZXZlcnkoKHJlc3VsdCkgPT4gcmVzdWx0LmZpbmlzaGVkKVxuKTtcbnZhciBnZXROb29wUmVzdWx0ID0gKHZhbHVlKSA9PiAoe1xuICB2YWx1ZSxcbiAgbm9vcDogdHJ1ZSxcbiAgZmluaXNoZWQ6IHRydWUsXG4gIGNhbmNlbGxlZDogZmFsc2Vcbn0pO1xudmFyIGdldEZpbmlzaGVkUmVzdWx0ID0gKHZhbHVlLCBmaW5pc2hlZCwgY2FuY2VsbGVkID0gZmFsc2UpID0+ICh7XG4gIHZhbHVlLFxuICBmaW5pc2hlZCxcbiAgY2FuY2VsbGVkXG59KTtcbnZhciBnZXRDYW5jZWxsZWRSZXN1bHQgPSAodmFsdWUpID0+ICh7XG4gIHZhbHVlLFxuICBjYW5jZWxsZWQ6IHRydWUsXG4gIGZpbmlzaGVkOiBmYWxzZVxufSk7XG5cbi8vIHNyYy9ydW5Bc3luYy50c1xuZnVuY3Rpb24gcnVuQXN5bmModG8yLCBwcm9wcywgc3RhdGUsIHRhcmdldCkge1xuICBjb25zdCB7IGNhbGxJZCwgcGFyZW50SWQsIG9uUmVzdCB9ID0gcHJvcHM7XG4gIGNvbnN0IHsgYXN5bmNUbzogcHJldlRvLCBwcm9taXNlOiBwcmV2UHJvbWlzZSB9ID0gc3RhdGU7XG4gIGlmICghcGFyZW50SWQgJiYgdG8yID09PSBwcmV2VG8gJiYgIXByb3BzLnJlc2V0KSB7XG4gICAgcmV0dXJuIHByZXZQcm9taXNlO1xuICB9XG4gIHJldHVybiBzdGF0ZS5wcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICBzdGF0ZS5hc3luY0lkID0gY2FsbElkO1xuICAgIHN0YXRlLmFzeW5jVG8gPSB0bzI7XG4gICAgY29uc3QgZGVmYXVsdFByb3BzID0gZ2V0RGVmYXVsdFByb3BzKFxuICAgICAgcHJvcHMsXG4gICAgICAodmFsdWUsIGtleSkgPT4gKFxuICAgICAgICAvLyBUaGUgYG9uUmVzdGAgcHJvcCBpcyBvbmx5IGNhbGxlZCB3aGVuIHRoZSBgcnVuQXN5bmNgIHByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAgICAgIGtleSA9PT0gXCJvblJlc3RcIiA/IHZvaWQgMCA6IHZhbHVlXG4gICAgICApXG4gICAgKTtcbiAgICBsZXQgcHJldmVudEJhaWw7XG4gICAgbGV0IGJhaWw7XG4gICAgY29uc3QgYmFpbFByb21pc2UgPSBuZXcgUHJvbWlzZShcbiAgICAgIChyZXNvbHZlLCByZWplY3QpID0+IChwcmV2ZW50QmFpbCA9IHJlc29sdmUsIGJhaWwgPSByZWplY3QpXG4gICAgKTtcbiAgICBjb25zdCBiYWlsSWZFbmRlZCA9IChiYWlsU2lnbmFsKSA9PiB7XG4gICAgICBjb25zdCBiYWlsUmVzdWx0ID0gKFxuICAgICAgICAvLyBUaGUgYGNhbmNlbGAgcHJvcCBvciBgc3RvcGAgbWV0aG9kIHdhcyB1c2VkLlxuICAgICAgICBjYWxsSWQgPD0gKHN0YXRlLmNhbmNlbElkIHx8IDApICYmIGdldENhbmNlbGxlZFJlc3VsdCh0YXJnZXQpIHx8IC8vIFRoZSBhc3luYyBgdG9gIHByb3Agd2FzIHJlcGxhY2VkLlxuICAgICAgICBjYWxsSWQgIT09IHN0YXRlLmFzeW5jSWQgJiYgZ2V0RmluaXNoZWRSZXN1bHQodGFyZ2V0LCBmYWxzZSlcbiAgICAgICk7XG4gICAgICBpZiAoYmFpbFJlc3VsdCkge1xuICAgICAgICBiYWlsU2lnbmFsLnJlc3VsdCA9IGJhaWxSZXN1bHQ7XG4gICAgICAgIGJhaWwoYmFpbFNpZ25hbCk7XG4gICAgICAgIHRocm93IGJhaWxTaWduYWw7XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBhbmltYXRlID0gKGFyZzEsIGFyZzIpID0+IHtcbiAgICAgIGNvbnN0IGJhaWxTaWduYWwgPSBuZXcgQmFpbFNpZ25hbCgpO1xuICAgICAgY29uc3Qgc2tpcEFuaW1hdGlvblNpZ25hbCA9IG5ldyBTa2lwQW5pbWF0aW9uU2lnbmFsKCk7XG4gICAgICByZXR1cm4gKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKEczLnNraXBBbmltYXRpb24pIHtcbiAgICAgICAgICBzdG9wQXN5bmMoc3RhdGUpO1xuICAgICAgICAgIHNraXBBbmltYXRpb25TaWduYWwucmVzdWx0ID0gZ2V0RmluaXNoZWRSZXN1bHQodGFyZ2V0LCBmYWxzZSk7XG4gICAgICAgICAgYmFpbChza2lwQW5pbWF0aW9uU2lnbmFsKTtcbiAgICAgICAgICB0aHJvdyBza2lwQW5pbWF0aW9uU2lnbmFsO1xuICAgICAgICB9XG4gICAgICAgIGJhaWxJZkVuZGVkKGJhaWxTaWduYWwpO1xuICAgICAgICBjb25zdCBwcm9wczIgPSBpczQub2JqKGFyZzEpID8geyAuLi5hcmcxIH0gOiB7IC4uLmFyZzIsIHRvOiBhcmcxIH07XG4gICAgICAgIHByb3BzMi5wYXJlbnRJZCA9IGNhbGxJZDtcbiAgICAgICAgZWFjaFByb3AyKGRlZmF1bHRQcm9wcywgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBpZiAoaXM0LnVuZChwcm9wczJba2V5XSkpIHtcbiAgICAgICAgICAgIHByb3BzMltrZXldID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgcmVzdWx0MiA9IGF3YWl0IHRhcmdldC5zdGFydChwcm9wczIpO1xuICAgICAgICBiYWlsSWZFbmRlZChiYWlsU2lnbmFsKTtcbiAgICAgICAgaWYgKHN0YXRlLnBhdXNlZCkge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXN1bWUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLnJlc3VtZVF1ZXVlLmFkZChyZXN1bWUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQyO1xuICAgICAgfSkoKTtcbiAgICB9O1xuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKEczLnNraXBBbmltYXRpb24pIHtcbiAgICAgIHN0b3BBc3luYyhzdGF0ZSk7XG4gICAgICByZXR1cm4gZ2V0RmluaXNoZWRSZXN1bHQodGFyZ2V0LCBmYWxzZSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBsZXQgYW5pbWF0aW5nO1xuICAgICAgaWYgKGlzNC5hcnIodG8yKSkge1xuICAgICAgICBhbmltYXRpbmcgPSAoYXN5bmMgKHF1ZXVlKSA9PiB7XG4gICAgICAgICAgZm9yIChjb25zdCBwcm9wczIgb2YgcXVldWUpIHtcbiAgICAgICAgICAgIGF3YWl0IGFuaW1hdGUocHJvcHMyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKHRvMik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmltYXRpbmcgPSBQcm9taXNlLnJlc29sdmUodG8yKGFuaW1hdGUsIHRhcmdldC5zdG9wLmJpbmQodGFyZ2V0KSkpO1xuICAgICAgfVxuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW2FuaW1hdGluZy50aGVuKHByZXZlbnRCYWlsKSwgYmFpbFByb21pc2VdKTtcbiAgICAgIHJlc3VsdCA9IGdldEZpbmlzaGVkUmVzdWx0KHRhcmdldC5nZXQoKSwgdHJ1ZSwgZmFsc2UpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEJhaWxTaWduYWwpIHtcbiAgICAgICAgcmVzdWx0ID0gZXJyLnJlc3VsdDtcbiAgICAgIH0gZWxzZSBpZiAoZXJyIGluc3RhbmNlb2YgU2tpcEFuaW1hdGlvblNpZ25hbCkge1xuICAgICAgICByZXN1bHQgPSBlcnIucmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoY2FsbElkID09IHN0YXRlLmFzeW5jSWQpIHtcbiAgICAgICAgc3RhdGUuYXN5bmNJZCA9IHBhcmVudElkO1xuICAgICAgICBzdGF0ZS5hc3luY1RvID0gcGFyZW50SWQgPyBwcmV2VG8gOiB2b2lkIDA7XG4gICAgICAgIHN0YXRlLnByb21pc2UgPSBwYXJlbnRJZCA/IHByZXZQcm9taXNlIDogdm9pZCAwO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXM0LmZ1bihvblJlc3QpKSB7XG4gICAgICByYWYyLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgICAgb25SZXN0KHJlc3VsdCwgdGFyZ2V0LCB0YXJnZXQuaXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSkoKTtcbn1cbmZ1bmN0aW9uIHN0b3BBc3luYyhzdGF0ZSwgY2FuY2VsSWQpIHtcbiAgZmx1c2goc3RhdGUudGltZW91dHMsICh0KSA9PiB0LmNhbmNlbCgpKTtcbiAgc3RhdGUucGF1c2VRdWV1ZS5jbGVhcigpO1xuICBzdGF0ZS5yZXN1bWVRdWV1ZS5jbGVhcigpO1xuICBzdGF0ZS5hc3luY0lkID0gc3RhdGUuYXN5bmNUbyA9IHN0YXRlLnByb21pc2UgPSB2b2lkIDA7XG4gIGlmIChjYW5jZWxJZClcbiAgICBzdGF0ZS5jYW5jZWxJZCA9IGNhbmNlbElkO1xufVxudmFyIEJhaWxTaWduYWwgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoXG4gICAgICBcIkFuIGFzeW5jIGFuaW1hdGlvbiBoYXMgYmVlbiBpbnRlcnJ1cHRlZC4gWW91IHNlZSB0aGlzIGVycm9yIGJlY2F1c2UgeW91IGZvcmdvdCB0byB1c2UgYGF3YWl0YCBvciBgLmNhdGNoKC4uLilgIG9uIGl0cyByZXR1cm5lZCBwcm9taXNlLlwiXG4gICAgKTtcbiAgfVxufTtcbnZhciBTa2lwQW5pbWF0aW9uU2lnbmFsID0gY2xhc3MgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKFwiU2tpcEFuaW1hdGlvblNpZ25hbFwiKTtcbiAgfVxufTtcblxuLy8gc3JjL0ZyYW1lVmFsdWUudHNcbmltcG9ydCB7XG4gIGRlcHJlY2F0ZUludGVycG9sYXRlLFxuICBmcmFtZUxvb3AsXG4gIEZsdWlkVmFsdWUgYXMgRmx1aWRWYWx1ZTIsXG4gIEdsb2JhbHMgYXMgRzQsXG4gIGNhbGxGbHVpZE9ic2VydmVyc1xufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmltcG9ydCB7IGdldEFuaW1hdGVkIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvYW5pbWF0ZWRcIjtcbnZhciBpc0ZyYW1lVmFsdWUgPSAodmFsdWUpID0+IHZhbHVlIGluc3RhbmNlb2YgRnJhbWVWYWx1ZTtcbnZhciBuZXh0SWQgPSAxO1xudmFyIEZyYW1lVmFsdWUgPSBjbGFzcyBleHRlbmRzIEZsdWlkVmFsdWUyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmlkID0gbmV4dElkKys7XG4gICAgdGhpcy5fcHJpb3JpdHkgPSAwO1xuICB9XG4gIGdldCBwcmlvcml0eSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJpb3JpdHk7XG4gIH1cbiAgc2V0IHByaW9yaXR5KHByaW9yaXR5KSB7XG4gICAgaWYgKHRoaXMuX3ByaW9yaXR5ICE9IHByaW9yaXR5KSB7XG4gICAgICB0aGlzLl9wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgICAgdGhpcy5fb25Qcmlvcml0eUNoYW5nZShwcmlvcml0eSk7XG4gICAgfVxuICB9XG4gIC8qKiBHZXQgdGhlIGN1cnJlbnQgdmFsdWUgKi9cbiAgZ2V0KCkge1xuICAgIGNvbnN0IG5vZGUgPSBnZXRBbmltYXRlZCh0aGlzKTtcbiAgICByZXR1cm4gbm9kZSAmJiBub2RlLmdldFZhbHVlKCk7XG4gIH1cbiAgLyoqIENyZWF0ZSBhIHNwcmluZyB0aGF0IG1hcHMgb3VyIHZhbHVlIHRvIGFub3RoZXIgdmFsdWUgKi9cbiAgdG8oLi4uYXJncykge1xuICAgIHJldHVybiBHNC50byh0aGlzLCBhcmdzKTtcbiAgfVxuICAvKiogQGRlcHJlY2F0ZWQgVXNlIHRoZSBgdG9gIG1ldGhvZCBpbnN0ZWFkLiAqL1xuICBpbnRlcnBvbGF0ZSguLi5hcmdzKSB7XG4gICAgZGVwcmVjYXRlSW50ZXJwb2xhdGUoKTtcbiAgICByZXR1cm4gRzQudG8odGhpcywgYXJncyk7XG4gIH1cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB0aGlzLmdldCgpO1xuICB9XG4gIG9ic2VydmVyQWRkZWQoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT0gMSlcbiAgICAgIHRoaXMuX2F0dGFjaCgpO1xuICB9XG4gIG9ic2VydmVyUmVtb3ZlZChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSAwKVxuICAgICAgdGhpcy5fZGV0YWNoKCk7XG4gIH1cbiAgLyoqIENhbGxlZCB3aGVuIHRoZSBmaXJzdCBjaGlsZCBpcyBhZGRlZC4gKi9cbiAgX2F0dGFjaCgpIHtcbiAgfVxuICAvKiogQ2FsbGVkIHdoZW4gdGhlIGxhc3QgY2hpbGQgaXMgcmVtb3ZlZC4gKi9cbiAgX2RldGFjaCgpIHtcbiAgfVxuICAvKiogVGVsbCBvdXIgY2hpbGRyZW4gYWJvdXQgb3VyIG5ldyB2YWx1ZSAqL1xuICBfb25DaGFuZ2UodmFsdWUsIGlkbGUgPSBmYWxzZSkge1xuICAgIGNhbGxGbHVpZE9ic2VydmVycyh0aGlzLCB7XG4gICAgICB0eXBlOiBcImNoYW5nZVwiLFxuICAgICAgcGFyZW50OiB0aGlzLFxuICAgICAgdmFsdWUsXG4gICAgICBpZGxlXG4gICAgfSk7XG4gIH1cbiAgLyoqIFRlbGwgb3VyIGNoaWxkcmVuIGFib3V0IG91ciBuZXcgcHJpb3JpdHkgKi9cbiAgX29uUHJpb3JpdHlDaGFuZ2UocHJpb3JpdHkpIHtcbiAgICBpZiAoIXRoaXMuaWRsZSkge1xuICAgICAgZnJhbWVMb29wLnNvcnQodGhpcyk7XG4gICAgfVxuICAgIGNhbGxGbHVpZE9ic2VydmVycyh0aGlzLCB7XG4gICAgICB0eXBlOiBcInByaW9yaXR5XCIsXG4gICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICBwcmlvcml0eVxuICAgIH0pO1xuICB9XG59O1xuXG4vLyBzcmMvU3ByaW5nUGhhc2UudHNcbnZhciAkUCA9IFN5bWJvbC5mb3IoXCJTcHJpbmdQaGFzZVwiKTtcbnZhciBIQVNfQU5JTUFURUQgPSAxO1xudmFyIElTX0FOSU1BVElORyA9IDI7XG52YXIgSVNfUEFVU0VEID0gNDtcbnZhciBoYXNBbmltYXRlZCA9ICh0YXJnZXQpID0+ICh0YXJnZXRbJFBdICYgSEFTX0FOSU1BVEVEKSA+IDA7XG52YXIgaXNBbmltYXRpbmcgPSAodGFyZ2V0KSA9PiAodGFyZ2V0WyRQXSAmIElTX0FOSU1BVElORykgPiAwO1xudmFyIGlzUGF1c2VkID0gKHRhcmdldCkgPT4gKHRhcmdldFskUF0gJiBJU19QQVVTRUQpID4gMDtcbnZhciBzZXRBY3RpdmVCaXQgPSAodGFyZ2V0LCBhY3RpdmUpID0+IGFjdGl2ZSA/IHRhcmdldFskUF0gfD0gSVNfQU5JTUFUSU5HIHwgSEFTX0FOSU1BVEVEIDogdGFyZ2V0WyRQXSAmPSB+SVNfQU5JTUFUSU5HO1xudmFyIHNldFBhdXNlZEJpdCA9ICh0YXJnZXQsIHBhdXNlZCkgPT4gcGF1c2VkID8gdGFyZ2V0WyRQXSB8PSBJU19QQVVTRUQgOiB0YXJnZXRbJFBdICY9IH5JU19QQVVTRUQ7XG5cbi8vIHNyYy9TcHJpbmdWYWx1ZS50c1xudmFyIFNwcmluZ1ZhbHVlID0gY2xhc3MgZXh0ZW5kcyBGcmFtZVZhbHVlIHtcbiAgY29uc3RydWN0b3IoYXJnMSwgYXJnMikge1xuICAgIHN1cGVyKCk7XG4gICAgLyoqIFRoZSBhbmltYXRpb24gc3RhdGUgKi9cbiAgICB0aGlzLmFuaW1hdGlvbiA9IG5ldyBBbmltYXRpb24oKTtcbiAgICAvKiogU29tZSBwcm9wcyBoYXZlIGN1c3RvbWl6YWJsZSBkZWZhdWx0IHZhbHVlcyAqL1xuICAgIHRoaXMuZGVmYXVsdFByb3BzID0ge307XG4gICAgLyoqIFRoZSBzdGF0ZSBmb3IgYHJ1bkFzeW5jYCBjYWxscyAqL1xuICAgIHRoaXMuX3N0YXRlID0ge1xuICAgICAgcGF1c2VkOiBmYWxzZSxcbiAgICAgIGRlbGF5ZWQ6IGZhbHNlLFxuICAgICAgcGF1c2VRdWV1ZTogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSxcbiAgICAgIHJlc3VtZVF1ZXVlOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgICAgdGltZW91dHM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KClcbiAgICB9O1xuICAgIC8qKiBUaGUgcHJvbWlzZSByZXNvbHZlcnMgb2YgcGVuZGluZyBgc3RhcnRgIGNhbGxzICovXG4gICAgdGhpcy5fcGVuZGluZ0NhbGxzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAvKiogVGhlIGNvdW50ZXIgZm9yIHRyYWNraW5nIGBzY2hlZHVsZVByb3BzYCBjYWxscyAqL1xuICAgIHRoaXMuX2xhc3RDYWxsSWQgPSAwO1xuICAgIC8qKiBUaGUgbGFzdCBgc2NoZWR1bGVQcm9wc2AgY2FsbCB0aGF0IGNoYW5nZWQgdGhlIGB0b2AgcHJvcCAqL1xuICAgIHRoaXMuX2xhc3RUb0lkID0gMDtcbiAgICB0aGlzLl9tZW1vaXplZER1cmF0aW9uID0gMDtcbiAgICBpZiAoIWlzNS51bmQoYXJnMSkgfHwgIWlzNS51bmQoYXJnMikpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gaXM1Lm9iaihhcmcxKSA/IHsgLi4uYXJnMSB9IDogeyAuLi5hcmcyLCBmcm9tOiBhcmcxIH07XG4gICAgICBpZiAoaXM1LnVuZChwcm9wcy5kZWZhdWx0KSkge1xuICAgICAgICBwcm9wcy5kZWZhdWx0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RhcnQocHJvcHMpO1xuICAgIH1cbiAgfVxuICAvKiogRXF1YWxzIHRydWUgd2hlbiBub3QgYWR2YW5jaW5nIG9uIGVhY2ggZnJhbWUuICovXG4gIGdldCBpZGxlKCkge1xuICAgIHJldHVybiAhKGlzQW5pbWF0aW5nKHRoaXMpIHx8IHRoaXMuX3N0YXRlLmFzeW5jVG8pIHx8IGlzUGF1c2VkKHRoaXMpO1xuICB9XG4gIGdldCBnb2FsKCkge1xuICAgIHJldHVybiBnZXRGbHVpZFZhbHVlMih0aGlzLmFuaW1hdGlvbi50byk7XG4gIH1cbiAgZ2V0IHZlbG9jaXR5KCkge1xuICAgIGNvbnN0IG5vZGUgPSBnZXRBbmltYXRlZDIodGhpcyk7XG4gICAgcmV0dXJuIG5vZGUgaW5zdGFuY2VvZiBBbmltYXRlZFZhbHVlID8gbm9kZS5sYXN0VmVsb2NpdHkgfHwgMCA6IG5vZGUuZ2V0UGF5bG9hZCgpLm1hcCgobm9kZTIpID0+IG5vZGUyLmxhc3RWZWxvY2l0eSB8fCAwKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0cnVlLCB0aGlzIHZhbHVlIGhhcyBiZWVuIGFuaW1hdGVkIGF0IGxlYXN0IG9uY2UuXG4gICAqL1xuICBnZXQgaGFzQW5pbWF0ZWQoKSB7XG4gICAgcmV0dXJuIGhhc0FuaW1hdGVkKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoaXMgdmFsdWUgaGFzIGFuIHVuZmluaXNoZWQgYW5pbWF0aW9uLFxuICAgKiB3aGljaCBpcyBlaXRoZXIgYWN0aXZlIG9yIHBhdXNlZC5cbiAgICovXG4gIGdldCBpc0FuaW1hdGluZygpIHtcbiAgICByZXR1cm4gaXNBbmltYXRpbmcodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgYWxsIGN1cnJlbnQgYW5kIGZ1dHVyZSBhbmltYXRpb25zIGFyZSBwYXVzZWQuXG4gICAqL1xuICBnZXQgaXNQYXVzZWQoKSB7XG4gICAgcmV0dXJuIGlzUGF1c2VkKHRoaXMpO1xuICB9XG4gIC8qKlxuICAgKlxuICAgKlxuICAgKi9cbiAgZ2V0IGlzRGVsYXllZCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RhdGUuZGVsYXllZDtcbiAgfVxuICAvKiogQWR2YW5jZSB0aGUgY3VycmVudCBhbmltYXRpb24gYnkgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzICovXG4gIGFkdmFuY2UoZHQpIHtcbiAgICBsZXQgaWRsZSA9IHRydWU7XG4gICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgbGV0IHsgdG9WYWx1ZXMgfSA9IGFuaW07XG4gICAgY29uc3QgeyBjb25maWc6IGNvbmZpZzIgfSA9IGFuaW07XG4gICAgY29uc3QgcGF5bG9hZCA9IGdldFBheWxvYWQoYW5pbS50byk7XG4gICAgaWYgKCFwYXlsb2FkICYmIGhhc0ZsdWlkVmFsdWUoYW5pbS50bykpIHtcbiAgICAgIHRvVmFsdWVzID0gdG9BcnJheTIoZ2V0Rmx1aWRWYWx1ZTIoYW5pbS50bykpO1xuICAgIH1cbiAgICBhbmltLnZhbHVlcy5mb3JFYWNoKChub2RlMiwgaSkgPT4ge1xuICAgICAgaWYgKG5vZGUyLmRvbmUpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHRvMiA9IChcbiAgICAgICAgLy8gQW5pbWF0ZWQgc3RyaW5ncyBhbHdheXMgZ28gZnJvbSAwIHRvIDEuXG4gICAgICAgIG5vZGUyLmNvbnN0cnVjdG9yID09IEFuaW1hdGVkU3RyaW5nID8gMSA6IHBheWxvYWQgPyBwYXlsb2FkW2ldLmxhc3RQb3NpdGlvbiA6IHRvVmFsdWVzW2ldXG4gICAgICApO1xuICAgICAgbGV0IGZpbmlzaGVkID0gYW5pbS5pbW1lZGlhdGU7XG4gICAgICBsZXQgcG9zaXRpb24gPSB0bzI7XG4gICAgICBpZiAoIWZpbmlzaGVkKSB7XG4gICAgICAgIHBvc2l0aW9uID0gbm9kZTIubGFzdFBvc2l0aW9uO1xuICAgICAgICBpZiAoY29uZmlnMi50ZW5zaW9uIDw9IDApIHtcbiAgICAgICAgICBub2RlMi5kb25lID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGVsYXBzZWQgPSBub2RlMi5lbGFwc2VkVGltZSArPSBkdDtcbiAgICAgICAgY29uc3QgZnJvbSA9IGFuaW0uZnJvbVZhbHVlc1tpXTtcbiAgICAgICAgY29uc3QgdjAgPSBub2RlMi52MCAhPSBudWxsID8gbm9kZTIudjAgOiBub2RlMi52MCA9IGlzNS5hcnIoY29uZmlnMi52ZWxvY2l0eSkgPyBjb25maWcyLnZlbG9jaXR5W2ldIDogY29uZmlnMi52ZWxvY2l0eTtcbiAgICAgICAgbGV0IHZlbG9jaXR5O1xuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSBjb25maWcyLnByZWNpc2lvbiB8fCAoZnJvbSA9PSB0bzIgPyA1ZS0zIDogTWF0aC5taW4oMSwgTWF0aC5hYnModG8yIC0gZnJvbSkgKiAxZS0zKSk7XG4gICAgICAgIGlmICghaXM1LnVuZChjb25maWcyLmR1cmF0aW9uKSkge1xuICAgICAgICAgIGxldCBwID0gMTtcbiAgICAgICAgICBpZiAoY29uZmlnMi5kdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZW1vaXplZER1cmF0aW9uICE9PSBjb25maWcyLmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgIHRoaXMuX21lbW9pemVkRHVyYXRpb24gPSBjb25maWcyLmR1cmF0aW9uO1xuICAgICAgICAgICAgICBpZiAobm9kZTIuZHVyYXRpb25Qcm9ncmVzcyA+IDApIHtcbiAgICAgICAgICAgICAgICBub2RlMi5lbGFwc2VkVGltZSA9IGNvbmZpZzIuZHVyYXRpb24gKiBub2RlMi5kdXJhdGlvblByb2dyZXNzO1xuICAgICAgICAgICAgICAgIGVsYXBzZWQgPSBub2RlMi5lbGFwc2VkVGltZSArPSBkdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcCA9IChjb25maWcyLnByb2dyZXNzIHx8IDApICsgZWxhcHNlZCAvIHRoaXMuX21lbW9pemVkRHVyYXRpb247XG4gICAgICAgICAgICBwID0gcCA+IDEgPyAxIDogcCA8IDAgPyAwIDogcDtcbiAgICAgICAgICAgIG5vZGUyLmR1cmF0aW9uUHJvZ3Jlc3MgPSBwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwb3NpdGlvbiA9IGZyb20gKyBjb25maWcyLmVhc2luZyhwKSAqICh0bzIgLSBmcm9tKTtcbiAgICAgICAgICB2ZWxvY2l0eSA9IChwb3NpdGlvbiAtIG5vZGUyLmxhc3RQb3NpdGlvbikgLyBkdDtcbiAgICAgICAgICBmaW5pc2hlZCA9IHAgPT0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcyLmRlY2F5KSB7XG4gICAgICAgICAgY29uc3QgZGVjYXkgPSBjb25maWcyLmRlY2F5ID09PSB0cnVlID8gMC45OTggOiBjb25maWcyLmRlY2F5O1xuICAgICAgICAgIGNvbnN0IGUgPSBNYXRoLmV4cCgtKDEgLSBkZWNheSkgKiBlbGFwc2VkKTtcbiAgICAgICAgICBwb3NpdGlvbiA9IGZyb20gKyB2MCAvICgxIC0gZGVjYXkpICogKDEgLSBlKTtcbiAgICAgICAgICBmaW5pc2hlZCA9IE1hdGguYWJzKG5vZGUyLmxhc3RQb3NpdGlvbiAtIHBvc2l0aW9uKSA8PSBwcmVjaXNpb247XG4gICAgICAgICAgdmVsb2NpdHkgPSB2MCAqIGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmVsb2NpdHkgPSBub2RlMi5sYXN0VmVsb2NpdHkgPT0gbnVsbCA/IHYwIDogbm9kZTIubGFzdFZlbG9jaXR5O1xuICAgICAgICAgIGNvbnN0IHJlc3RWZWxvY2l0eSA9IGNvbmZpZzIucmVzdFZlbG9jaXR5IHx8IHByZWNpc2lvbiAvIDEwO1xuICAgICAgICAgIGNvbnN0IGJvdW5jZUZhY3RvciA9IGNvbmZpZzIuY2xhbXAgPyAwIDogY29uZmlnMi5ib3VuY2U7XG4gICAgICAgICAgY29uc3QgY2FuQm91bmNlID0gIWlzNS51bmQoYm91bmNlRmFjdG9yKTtcbiAgICAgICAgICBjb25zdCBpc0dyb3dpbmcgPSBmcm9tID09IHRvMiA/IG5vZGUyLnYwID4gMCA6IGZyb20gPCB0bzI7XG4gICAgICAgICAgbGV0IGlzTW92aW5nO1xuICAgICAgICAgIGxldCBpc0JvdW5jaW5nID0gZmFsc2U7XG4gICAgICAgICAgY29uc3Qgc3RlcCA9IDE7XG4gICAgICAgICAgY29uc3QgbnVtU3RlcHMgPSBNYXRoLmNlaWwoZHQgLyBzdGVwKTtcbiAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IG51bVN0ZXBzOyArK24pIHtcbiAgICAgICAgICAgIGlzTW92aW5nID0gTWF0aC5hYnModmVsb2NpdHkpID4gcmVzdFZlbG9jaXR5O1xuICAgICAgICAgICAgaWYgKCFpc01vdmluZykge1xuICAgICAgICAgICAgICBmaW5pc2hlZCA9IE1hdGguYWJzKHRvMiAtIHBvc2l0aW9uKSA8PSBwcmVjaXNpb247XG4gICAgICAgICAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FuQm91bmNlKSB7XG4gICAgICAgICAgICAgIGlzQm91bmNpbmcgPSBwb3NpdGlvbiA9PSB0bzIgfHwgcG9zaXRpb24gPiB0bzIgPT0gaXNHcm93aW5nO1xuICAgICAgICAgICAgICBpZiAoaXNCb3VuY2luZykge1xuICAgICAgICAgICAgICAgIHZlbG9jaXR5ID0gLXZlbG9jaXR5ICogYm91bmNlRmFjdG9yO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdG8yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzcHJpbmdGb3JjZSA9IC1jb25maWcyLnRlbnNpb24gKiAxZS02ICogKHBvc2l0aW9uIC0gdG8yKTtcbiAgICAgICAgICAgIGNvbnN0IGRhbXBpbmdGb3JjZSA9IC1jb25maWcyLmZyaWN0aW9uICogMWUtMyAqIHZlbG9jaXR5O1xuICAgICAgICAgICAgY29uc3QgYWNjZWxlcmF0aW9uID0gKHNwcmluZ0ZvcmNlICsgZGFtcGluZ0ZvcmNlKSAvIGNvbmZpZzIubWFzcztcbiAgICAgICAgICAgIHZlbG9jaXR5ID0gdmVsb2NpdHkgKyBhY2NlbGVyYXRpb24gKiBzdGVwO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbiArIHZlbG9jaXR5ICogc3RlcDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZTIubGFzdFZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocG9zaXRpb24pKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGBHb3QgTmFOIHdoaWxlIGFuaW1hdGluZzpgLCB0aGlzKTtcbiAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXlsb2FkICYmICFwYXlsb2FkW2ldLmRvbmUpIHtcbiAgICAgICAgZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgICBub2RlMi5kb25lID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkbGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlMi5zZXRWYWx1ZShwb3NpdGlvbiwgY29uZmlnMi5yb3VuZCkpIHtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgbm9kZSA9IGdldEFuaW1hdGVkMih0aGlzKTtcbiAgICBjb25zdCBjdXJyVmFsID0gbm9kZS5nZXRWYWx1ZSgpO1xuICAgIGlmIChpZGxlKSB7XG4gICAgICBjb25zdCBmaW5hbFZhbCA9IGdldEZsdWlkVmFsdWUyKGFuaW0udG8pO1xuICAgICAgaWYgKChjdXJyVmFsICE9PSBmaW5hbFZhbCB8fCBjaGFuZ2VkKSAmJiAhY29uZmlnMi5kZWNheSkge1xuICAgICAgICBub2RlLnNldFZhbHVlKGZpbmFsVmFsKTtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoZmluYWxWYWwpO1xuICAgICAgfSBlbHNlIGlmIChjaGFuZ2VkICYmIGNvbmZpZzIuZGVjYXkpIHtcbiAgICAgICAgdGhpcy5fb25DaGFuZ2UoY3VyclZhbCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zdG9wKCk7XG4gICAgfSBlbHNlIGlmIChjaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9vbkNoYW5nZShjdXJyVmFsKTtcbiAgICB9XG4gIH1cbiAgLyoqIFNldCB0aGUgY3VycmVudCB2YWx1ZSwgd2hpbGUgc3RvcHBpbmcgdGhlIGN1cnJlbnQgYW5pbWF0aW9uICovXG4gIHNldCh2YWx1ZSkge1xuICAgIHJhZjMuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgdGhpcy5fc3RvcCgpO1xuICAgICAgdGhpcy5fZm9jdXModmFsdWUpO1xuICAgICAgdGhpcy5fc2V0KHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogRnJlZXplIHRoZSBhY3RpdmUgYW5pbWF0aW9uIGluIHRpbWUsIGFzIHdlbGwgYXMgYW55IHVwZGF0ZXMgbWVyZ2VkXG4gICAqIGJlZm9yZSBgcmVzdW1lYCBpcyBjYWxsZWQuXG4gICAqL1xuICBwYXVzZSgpIHtcbiAgICB0aGlzLl91cGRhdGUoeyBwYXVzZTogdHJ1ZSB9KTtcbiAgfVxuICAvKiogUmVzdW1lIHRoZSBhbmltYXRpb24gaWYgcGF1c2VkLiAqL1xuICByZXN1bWUoKSB7XG4gICAgdGhpcy5fdXBkYXRlKHsgcGF1c2U6IGZhbHNlIH0pO1xuICB9XG4gIC8qKiBTa2lwIHRvIHRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgYW5pbWF0aW9uLiAqL1xuICBmaW5pc2goKSB7XG4gICAgaWYgKGlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICBjb25zdCB7IHRvOiB0bzIsIGNvbmZpZzogY29uZmlnMiB9ID0gdGhpcy5hbmltYXRpb247XG4gICAgICByYWYzLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgICAgdGhpcy5fb25TdGFydCgpO1xuICAgICAgICBpZiAoIWNvbmZpZzIuZGVjYXkpIHtcbiAgICAgICAgICB0aGlzLl9zZXQodG8yLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RvcCgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKiBQdXNoIHByb3BzIGludG8gdGhlIHBlbmRpbmcgcXVldWUuICovXG4gIHVwZGF0ZShwcm9wcykge1xuICAgIGNvbnN0IHF1ZXVlID0gdGhpcy5xdWV1ZSB8fCAodGhpcy5xdWV1ZSA9IFtdKTtcbiAgICBxdWV1ZS5wdXNoKHByb3BzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICBzdGFydCh0bzIsIGFyZzIpIHtcbiAgICBsZXQgcXVldWU7XG4gICAgaWYgKCFpczUudW5kKHRvMikpIHtcbiAgICAgIHF1ZXVlID0gW2lzNS5vYmoodG8yKSA/IHRvMiA6IHsgLi4uYXJnMiwgdG86IHRvMiB9XTtcbiAgICB9IGVsc2Uge1xuICAgICAgcXVldWUgPSB0aGlzLnF1ZXVlIHx8IFtdO1xuICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICBxdWV1ZS5tYXAoKHByb3BzKSA9PiB7XG4gICAgICAgIGNvbnN0IHVwID0gdGhpcy5fdXBkYXRlKHByb3BzKTtcbiAgICAgICAgcmV0dXJuIHVwO1xuICAgICAgfSlcbiAgICApLnRoZW4oKHJlc3VsdHMpID0+IGdldENvbWJpbmVkUmVzdWx0KHRoaXMsIHJlc3VsdHMpKTtcbiAgfVxuICAvKipcbiAgICogU3RvcCB0aGUgY3VycmVudCBhbmltYXRpb24sIGFuZCBjYW5jZWwgYW55IGRlbGF5ZWQgdXBkYXRlcy5cbiAgICpcbiAgICogUGFzcyBgdHJ1ZWAgdG8gY2FsbCBgb25SZXN0YCB3aXRoIGBjYW5jZWxsZWQ6IHRydWVgLlxuICAgKi9cbiAgc3RvcChjYW5jZWwpIHtcbiAgICBjb25zdCB7IHRvOiB0bzIgfSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIHRoaXMuX2ZvY3VzKHRoaXMuZ2V0KCkpO1xuICAgIHN0b3BBc3luYyh0aGlzLl9zdGF0ZSwgY2FuY2VsICYmIHRoaXMuX2xhc3RDYWxsSWQpO1xuICAgIHJhZjMuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4gdGhpcy5fc3RvcCh0bzIsIGNhbmNlbCkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKiBSZXN0YXJ0IHRoZSBhbmltYXRpb24uICovXG4gIHJlc2V0KCkge1xuICAgIHRoaXMuX3VwZGF0ZSh7IHJlc2V0OiB0cnVlIH0pO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZXZlbnRPYnNlcnZlZChldmVudCkge1xuICAgIGlmIChldmVudC50eXBlID09IFwiY2hhbmdlXCIpIHtcbiAgICAgIHRoaXMuX3N0YXJ0KCk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09IFwicHJpb3JpdHlcIikge1xuICAgICAgdGhpcy5wcmlvcml0eSA9IGV2ZW50LnByaW9yaXR5ICsgMTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlIHRoZSBgdG9gIGFuZCBgZnJvbWAgcmFuZ2UgZnJvbSB0aGUgZ2l2ZW4gYHByb3BzYCBvYmplY3QuXG4gICAqXG4gICAqIFRoaXMgYWxzbyBlbnN1cmVzIHRoZSBpbml0aWFsIHZhbHVlIGlzIGF2YWlsYWJsZSB0byBhbmltYXRlZCBjb21wb25lbnRzXG4gICAqIGR1cmluZyB0aGUgcmVuZGVyIHBoYXNlLlxuICAgKi9cbiAgX3ByZXBhcmVOb2RlKHByb3BzKSB7XG4gICAgY29uc3Qga2V5ID0gdGhpcy5rZXkgfHwgXCJcIjtcbiAgICBsZXQgeyB0bzogdG8yLCBmcm9tIH0gPSBwcm9wcztcbiAgICB0bzIgPSBpczUub2JqKHRvMikgPyB0bzJba2V5XSA6IHRvMjtcbiAgICBpZiAodG8yID09IG51bGwgfHwgaXNBc3luY1RvKHRvMikpIHtcbiAgICAgIHRvMiA9IHZvaWQgMDtcbiAgICB9XG4gICAgZnJvbSA9IGlzNS5vYmooZnJvbSkgPyBmcm9tW2tleV0gOiBmcm9tO1xuICAgIGlmIChmcm9tID09IG51bGwpIHtcbiAgICAgIGZyb20gPSB2b2lkIDA7XG4gICAgfVxuICAgIGNvbnN0IHJhbmdlID0geyB0bzogdG8yLCBmcm9tIH07XG4gICAgaWYgKCFoYXNBbmltYXRlZCh0aGlzKSkge1xuICAgICAgaWYgKHByb3BzLnJldmVyc2UpXG4gICAgICAgIFt0bzIsIGZyb21dID0gW2Zyb20sIHRvMl07XG4gICAgICBmcm9tID0gZ2V0Rmx1aWRWYWx1ZTIoZnJvbSk7XG4gICAgICBpZiAoIWlzNS51bmQoZnJvbSkpIHtcbiAgICAgICAgdGhpcy5fc2V0KGZyb20pO1xuICAgICAgfSBlbHNlIGlmICghZ2V0QW5pbWF0ZWQyKHRoaXMpKSB7XG4gICAgICAgIHRoaXMuX3NldCh0bzIpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmFuZ2U7XG4gIH1cbiAgLyoqIEV2ZXJ5IHVwZGF0ZSBpcyBwcm9jZXNzZWQgYnkgdGhpcyBtZXRob2QgYmVmb3JlIG1lcmdpbmcuICovXG4gIF91cGRhdGUoeyAuLi5wcm9wcyB9LCBpc0xvb3ApIHtcbiAgICBjb25zdCB7IGtleSwgZGVmYXVsdFByb3BzIH0gPSB0aGlzO1xuICAgIGlmIChwcm9wcy5kZWZhdWx0KVxuICAgICAgT2JqZWN0LmFzc2lnbihcbiAgICAgICAgZGVmYXVsdFByb3BzLFxuICAgICAgICBnZXREZWZhdWx0UHJvcHMoXG4gICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgKHZhbHVlLCBwcm9wKSA9PiAvXm9uLy50ZXN0KHByb3ApID8gcmVzb2x2ZVByb3AodmFsdWUsIGtleSkgOiB2YWx1ZVxuICAgICAgICApXG4gICAgICApO1xuICAgIG1lcmdlQWN0aXZlRm4odGhpcywgcHJvcHMsIFwib25Qcm9wc1wiKTtcbiAgICBzZW5kRXZlbnQodGhpcywgXCJvblByb3BzXCIsIHByb3BzLCB0aGlzKTtcbiAgICBjb25zdCByYW5nZSA9IHRoaXMuX3ByZXBhcmVOb2RlKHByb3BzKTtcbiAgICBpZiAoT2JqZWN0LmlzRnJvemVuKHRoaXMpKSB7XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJDYW5ub3QgYW5pbWF0ZSBhIGBTcHJpbmdWYWx1ZWAgb2JqZWN0IHRoYXQgaXMgZnJvemVuLiBEaWQgeW91IGZvcmdldCB0byBwYXNzIHlvdXIgY29tcG9uZW50IHRvIGBhbmltYXRlZCguLi4pYCBiZWZvcmUgYW5pbWF0aW5nIGl0cyBwcm9wcz9cIlxuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLl9zdGF0ZTtcbiAgICByZXR1cm4gc2NoZWR1bGVQcm9wcygrK3RoaXMuX2xhc3RDYWxsSWQsIHtcbiAgICAgIGtleSxcbiAgICAgIHByb3BzLFxuICAgICAgZGVmYXVsdFByb3BzLFxuICAgICAgc3RhdGUsXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHBhdXNlOiAoKSA9PiB7XG4gICAgICAgICAgaWYgKCFpc1BhdXNlZCh0aGlzKSkge1xuICAgICAgICAgICAgc2V0UGF1c2VkQml0KHRoaXMsIHRydWUpO1xuICAgICAgICAgICAgZmx1c2hDYWxscyhzdGF0ZS5wYXVzZVF1ZXVlKTtcbiAgICAgICAgICAgIHNlbmRFdmVudChcbiAgICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgICAgXCJvblBhdXNlXCIsXG4gICAgICAgICAgICAgIGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIGNoZWNrRmluaXNoZWQodGhpcywgdGhpcy5hbmltYXRpb24udG8pKSxcbiAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VtZTogKCkgPT4ge1xuICAgICAgICAgIGlmIChpc1BhdXNlZCh0aGlzKSkge1xuICAgICAgICAgICAgc2V0UGF1c2VkQml0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgICAgICAgICB0aGlzLl9yZXN1bWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZsdXNoQ2FsbHMoc3RhdGUucmVzdW1lUXVldWUpO1xuICAgICAgICAgICAgc2VuZEV2ZW50KFxuICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICBcIm9uUmVzdW1lXCIsXG4gICAgICAgICAgICAgIGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIGNoZWNrRmluaXNoZWQodGhpcywgdGhpcy5hbmltYXRpb24udG8pKSxcbiAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXJ0OiB0aGlzLl9tZXJnZS5iaW5kKHRoaXMsIHJhbmdlKVxuICAgICAgfVxuICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHByb3BzLmxvb3AgJiYgcmVzdWx0LmZpbmlzaGVkICYmICEoaXNMb29wICYmIHJlc3VsdC5ub29wKSkge1xuICAgICAgICBjb25zdCBuZXh0UHJvcHMgPSBjcmVhdGVMb29wVXBkYXRlKHByb3BzKTtcbiAgICAgICAgaWYgKG5leHRQcm9wcykge1xuICAgICAgICAgIHJldHVybiB0aGlzLl91cGRhdGUobmV4dFByb3BzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfVxuICAvKiogTWVyZ2UgcHJvcHMgaW50byB0aGUgY3VycmVudCBhbmltYXRpb24gKi9cbiAgX21lcmdlKHJhbmdlLCBwcm9wcywgcmVzb2x2ZSkge1xuICAgIGlmIChwcm9wcy5jYW5jZWwpIHtcbiAgICAgIHRoaXMuc3RvcCh0cnVlKTtcbiAgICAgIHJldHVybiByZXNvbHZlKGdldENhbmNlbGxlZFJlc3VsdCh0aGlzKSk7XG4gICAgfVxuICAgIGNvbnN0IGhhc1RvUHJvcCA9ICFpczUudW5kKHJhbmdlLnRvKTtcbiAgICBjb25zdCBoYXNGcm9tUHJvcCA9ICFpczUudW5kKHJhbmdlLmZyb20pO1xuICAgIGlmIChoYXNUb1Byb3AgfHwgaGFzRnJvbVByb3ApIHtcbiAgICAgIGlmIChwcm9wcy5jYWxsSWQgPiB0aGlzLl9sYXN0VG9JZCkge1xuICAgICAgICB0aGlzLl9sYXN0VG9JZCA9IHByb3BzLmNhbGxJZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKGdldENhbmNlbGxlZFJlc3VsdCh0aGlzKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHsga2V5LCBkZWZhdWx0UHJvcHMsIGFuaW1hdGlvbjogYW5pbSB9ID0gdGhpcztcbiAgICBjb25zdCB7IHRvOiBwcmV2VG8sIGZyb206IHByZXZGcm9tIH0gPSBhbmltO1xuICAgIGxldCB7IHRvOiB0bzIgPSBwcmV2VG8sIGZyb20gPSBwcmV2RnJvbSB9ID0gcmFuZ2U7XG4gICAgaWYgKGhhc0Zyb21Qcm9wICYmICFoYXNUb1Byb3AgJiYgKCFwcm9wcy5kZWZhdWx0IHx8IGlzNS51bmQodG8yKSkpIHtcbiAgICAgIHRvMiA9IGZyb207XG4gICAgfVxuICAgIGlmIChwcm9wcy5yZXZlcnNlKVxuICAgICAgW3RvMiwgZnJvbV0gPSBbZnJvbSwgdG8yXTtcbiAgICBjb25zdCBoYXNGcm9tQ2hhbmdlZCA9ICFpc0VxdWFsKGZyb20sIHByZXZGcm9tKTtcbiAgICBpZiAoaGFzRnJvbUNoYW5nZWQpIHtcbiAgICAgIGFuaW0uZnJvbSA9IGZyb207XG4gICAgfVxuICAgIGZyb20gPSBnZXRGbHVpZFZhbHVlMihmcm9tKTtcbiAgICBjb25zdCBoYXNUb0NoYW5nZWQgPSAhaXNFcXVhbCh0bzIsIHByZXZUbyk7XG4gICAgaWYgKGhhc1RvQ2hhbmdlZCkge1xuICAgICAgdGhpcy5fZm9jdXModG8yKTtcbiAgICB9XG4gICAgY29uc3QgaGFzQXN5bmNUbyA9IGlzQXN5bmNUbyhwcm9wcy50byk7XG4gICAgY29uc3QgeyBjb25maWc6IGNvbmZpZzIgfSA9IGFuaW07XG4gICAgY29uc3QgeyBkZWNheSwgdmVsb2NpdHkgfSA9IGNvbmZpZzI7XG4gICAgaWYgKGhhc1RvUHJvcCB8fCBoYXNGcm9tUHJvcCkge1xuICAgICAgY29uZmlnMi52ZWxvY2l0eSA9IDA7XG4gICAgfVxuICAgIGlmIChwcm9wcy5jb25maWcgJiYgIWhhc0FzeW5jVG8pIHtcbiAgICAgIG1lcmdlQ29uZmlnKFxuICAgICAgICBjb25maWcyLFxuICAgICAgICBjYWxsUHJvcChwcm9wcy5jb25maWcsIGtleSksXG4gICAgICAgIC8vIEF2b2lkIGNhbGxpbmcgdGhlIHNhbWUgXCJjb25maWdcIiBwcm9wIHR3aWNlLlxuICAgICAgICBwcm9wcy5jb25maWcgIT09IGRlZmF1bHRQcm9wcy5jb25maWcgPyBjYWxsUHJvcChkZWZhdWx0UHJvcHMuY29uZmlnLCBrZXkpIDogdm9pZCAwXG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgbm9kZSA9IGdldEFuaW1hdGVkMih0aGlzKTtcbiAgICBpZiAoIW5vZGUgfHwgaXM1LnVuZCh0bzIpKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZShnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLCB0cnVlKSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc2V0ID0gKFxuICAgICAgLy8gV2hlbiBgcmVzZXRgIGlzIHVuZGVmaW5lZCwgdGhlIGBmcm9tYCBwcm9wIGltcGxpZXMgYHJlc2V0OiB0cnVlYCxcbiAgICAgIC8vIGV4Y2VwdCBmb3IgZGVjbGFyYXRpdmUgdXBkYXRlcy4gV2hlbiBgcmVzZXRgIGlzIGRlZmluZWQsIHRoZXJlXG4gICAgICAvLyBtdXN0IGV4aXN0IGEgdmFsdWUgdG8gYW5pbWF0ZSBmcm9tLlxuICAgICAgaXM1LnVuZChwcm9wcy5yZXNldCkgPyBoYXNGcm9tUHJvcCAmJiAhcHJvcHMuZGVmYXVsdCA6ICFpczUudW5kKGZyb20pICYmIG1hdGNoUHJvcChwcm9wcy5yZXNldCwga2V5KVxuICAgICk7XG4gICAgY29uc3QgdmFsdWUgPSByZXNldCA/IGZyb20gOiB0aGlzLmdldCgpO1xuICAgIGNvbnN0IGdvYWwgPSBjb21wdXRlR29hbCh0bzIpO1xuICAgIGNvbnN0IGlzQW5pbWF0YWJsZSA9IGlzNS5udW0oZ29hbCkgfHwgaXM1LmFycihnb2FsKSB8fCBpc0FuaW1hdGVkU3RyaW5nMihnb2FsKTtcbiAgICBjb25zdCBpbW1lZGlhdGUgPSAhaGFzQXN5bmNUbyAmJiAoIWlzQW5pbWF0YWJsZSB8fCBtYXRjaFByb3AoZGVmYXVsdFByb3BzLmltbWVkaWF0ZSB8fCBwcm9wcy5pbW1lZGlhdGUsIGtleSkpO1xuICAgIGlmIChoYXNUb0NoYW5nZWQpIHtcbiAgICAgIGNvbnN0IG5vZGVUeXBlID0gZ2V0QW5pbWF0ZWRUeXBlKHRvMik7XG4gICAgICBpZiAobm9kZVR5cGUgIT09IG5vZGUuY29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKGltbWVkaWF0ZSkge1xuICAgICAgICAgIG5vZGUgPSB0aGlzLl9zZXQoZ29hbCk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgYENhbm5vdCBhbmltYXRlIGJldHdlZW4gJHtub2RlLmNvbnN0cnVjdG9yLm5hbWV9IGFuZCAke25vZGVUeXBlLm5hbWV9LCBhcyB0aGUgXCJ0b1wiIHByb3Agc3VnZ2VzdHNgXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZ29hbFR5cGUgPSBub2RlLmNvbnN0cnVjdG9yO1xuICAgIGxldCBzdGFydGVkID0gaGFzRmx1aWRWYWx1ZSh0bzIpO1xuICAgIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xuICAgIGlmICghc3RhcnRlZCkge1xuICAgICAgY29uc3QgaGFzVmFsdWVDaGFuZ2VkID0gcmVzZXQgfHwgIWhhc0FuaW1hdGVkKHRoaXMpICYmIGhhc0Zyb21DaGFuZ2VkO1xuICAgICAgaWYgKGhhc1RvQ2hhbmdlZCB8fCBoYXNWYWx1ZUNoYW5nZWQpIHtcbiAgICAgICAgZmluaXNoZWQgPSBpc0VxdWFsKGNvbXB1dGVHb2FsKHZhbHVlKSwgZ29hbCk7XG4gICAgICAgIHN0YXJ0ZWQgPSAhZmluaXNoZWQ7XG4gICAgICB9XG4gICAgICBpZiAoIWlzRXF1YWwoYW5pbS5pbW1lZGlhdGUsIGltbWVkaWF0ZSkgJiYgIWltbWVkaWF0ZSB8fCAhaXNFcXVhbChjb25maWcyLmRlY2F5LCBkZWNheSkgfHwgIWlzRXF1YWwoY29uZmlnMi52ZWxvY2l0eSwgdmVsb2NpdHkpKSB7XG4gICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmluaXNoZWQgJiYgaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgIGlmIChhbmltLmNoYW5nZWQgJiYgIXJlc2V0KSB7XG4gICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICghc3RhcnRlZCkge1xuICAgICAgICB0aGlzLl9zdG9wKHByZXZUbyk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaGFzQXN5bmNUbykge1xuICAgICAgaWYgKHN0YXJ0ZWQgfHwgaGFzRmx1aWRWYWx1ZShwcmV2VG8pKSB7XG4gICAgICAgIGFuaW0udmFsdWVzID0gbm9kZS5nZXRQYXlsb2FkKCk7XG4gICAgICAgIGFuaW0udG9WYWx1ZXMgPSBoYXNGbHVpZFZhbHVlKHRvMikgPyBudWxsIDogZ29hbFR5cGUgPT0gQW5pbWF0ZWRTdHJpbmcgPyBbMV0gOiB0b0FycmF5Mihnb2FsKTtcbiAgICAgIH1cbiAgICAgIGlmIChhbmltLmltbWVkaWF0ZSAhPSBpbW1lZGlhdGUpIHtcbiAgICAgICAgYW5pbS5pbW1lZGlhdGUgPSBpbW1lZGlhdGU7XG4gICAgICAgIGlmICghaW1tZWRpYXRlICYmICFyZXNldCkge1xuICAgICAgICAgIHRoaXMuX3NldChwcmV2VG8pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnRlZCkge1xuICAgICAgICBjb25zdCB7IG9uUmVzdCB9ID0gYW5pbTtcbiAgICAgICAgZWFjaDIoQUNUSVZFX0VWRU5UUywgKHR5cGUpID0+IG1lcmdlQWN0aXZlRm4odGhpcywgcHJvcHMsIHR5cGUpKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgY2hlY2tGaW5pc2hlZCh0aGlzLCBwcmV2VG8pKTtcbiAgICAgICAgZmx1c2hDYWxscyh0aGlzLl9wZW5kaW5nQ2FsbHMsIHJlc3VsdCk7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdDYWxscy5hZGQocmVzb2x2ZSk7XG4gICAgICAgIGlmIChhbmltLmNoYW5nZWQpXG4gICAgICAgICAgcmFmMy5iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgICAgICBhbmltLmNoYW5nZWQgPSAhcmVzZXQ7XG4gICAgICAgICAgICBvblJlc3Q/LihyZXN1bHQsIHRoaXMpO1xuICAgICAgICAgICAgaWYgKHJlc2V0KSB7XG4gICAgICAgICAgICAgIGNhbGxQcm9wKGRlZmF1bHRQcm9wcy5vblJlc3QsIHJlc3VsdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBhbmltLm9uU3RhcnQ/LihyZXN1bHQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVzZXQpIHtcbiAgICAgIHRoaXMuX3NldCh2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChoYXNBc3luY1RvKSB7XG4gICAgICByZXNvbHZlKHJ1bkFzeW5jKHByb3BzLnRvLCBwcm9wcywgdGhpcy5fc3RhdGUsIHRoaXMpKTtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuX3N0YXJ0KCk7XG4gICAgfSBlbHNlIGlmIChpc0FuaW1hdGluZyh0aGlzKSAmJiAhaGFzVG9DaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9wZW5kaW5nQ2FsbHMuYWRkKHJlc29sdmUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKGdldE5vb3BSZXN1bHQodmFsdWUpKTtcbiAgICB9XG4gIH1cbiAgLyoqIFVwZGF0ZSB0aGUgYGFuaW1hdGlvbi50b2AgdmFsdWUsIHdoaWNoIG1pZ2h0IGJlIGEgYEZsdWlkVmFsdWVgICovXG4gIF9mb2N1cyh2YWx1ZSkge1xuICAgIGNvbnN0IGFuaW0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBpZiAodmFsdWUgIT09IGFuaW0udG8pIHtcbiAgICAgIGlmIChnZXRGbHVpZE9ic2VydmVycyh0aGlzKSkge1xuICAgICAgICB0aGlzLl9kZXRhY2goKTtcbiAgICAgIH1cbiAgICAgIGFuaW0udG8gPSB2YWx1ZTtcbiAgICAgIGlmIChnZXRGbHVpZE9ic2VydmVycyh0aGlzKSkge1xuICAgICAgICB0aGlzLl9hdHRhY2goKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX2F0dGFjaCgpIHtcbiAgICBsZXQgcHJpb3JpdHkgPSAwO1xuICAgIGNvbnN0IHsgdG86IHRvMiB9ID0gdGhpcy5hbmltYXRpb247XG4gICAgaWYgKGhhc0ZsdWlkVmFsdWUodG8yKSkge1xuICAgICAgYWRkRmx1aWRPYnNlcnZlcih0bzIsIHRoaXMpO1xuICAgICAgaWYgKGlzRnJhbWVWYWx1ZSh0bzIpKSB7XG4gICAgICAgIHByaW9yaXR5ID0gdG8yLnByaW9yaXR5ICsgMTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICB9XG4gIF9kZXRhY2goKSB7XG4gICAgY29uc3QgeyB0bzogdG8yIH0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBpZiAoaGFzRmx1aWRWYWx1ZSh0bzIpKSB7XG4gICAgICByZW1vdmVGbHVpZE9ic2VydmVyKHRvMiwgdGhpcyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGN1cnJlbnQgdmFsdWUgZnJvbSBvdXRzaWRlIHRoZSBmcmFtZWxvb3AsXG4gICAqIGFuZCByZXR1cm4gdGhlIGBBbmltYXRlZGAgbm9kZS5cbiAgICovXG4gIF9zZXQoYXJnLCBpZGxlID0gdHJ1ZSkge1xuICAgIGNvbnN0IHZhbHVlID0gZ2V0Rmx1aWRWYWx1ZTIoYXJnKTtcbiAgICBpZiAoIWlzNS51bmQodmFsdWUpKSB7XG4gICAgICBjb25zdCBvbGROb2RlID0gZ2V0QW5pbWF0ZWQyKHRoaXMpO1xuICAgICAgaWYgKCFvbGROb2RlIHx8ICFpc0VxdWFsKHZhbHVlLCBvbGROb2RlLmdldFZhbHVlKCkpKSB7XG4gICAgICAgIGNvbnN0IG5vZGVUeXBlID0gZ2V0QW5pbWF0ZWRUeXBlKHZhbHVlKTtcbiAgICAgICAgaWYgKCFvbGROb2RlIHx8IG9sZE5vZGUuY29uc3RydWN0b3IgIT0gbm9kZVR5cGUpIHtcbiAgICAgICAgICBzZXRBbmltYXRlZCh0aGlzLCBub2RlVHlwZS5jcmVhdGUodmFsdWUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvbGROb2RlLnNldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2xkTm9kZSkge1xuICAgICAgICAgIHJhZjMuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25DaGFuZ2UodmFsdWUsIGlkbGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnZXRBbmltYXRlZDIodGhpcyk7XG4gIH1cbiAgX29uU3RhcnQoKSB7XG4gICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGlmICghYW5pbS5jaGFuZ2VkKSB7XG4gICAgICBhbmltLmNoYW5nZWQgPSB0cnVlO1xuICAgICAgc2VuZEV2ZW50KFxuICAgICAgICB0aGlzLFxuICAgICAgICBcIm9uU3RhcnRcIixcbiAgICAgICAgZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgY2hlY2tGaW5pc2hlZCh0aGlzLCBhbmltLnRvKSksXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIF9vbkNoYW5nZSh2YWx1ZSwgaWRsZSkge1xuICAgIGlmICghaWRsZSkge1xuICAgICAgdGhpcy5fb25TdGFydCgpO1xuICAgICAgY2FsbFByb3AodGhpcy5hbmltYXRpb24ub25DaGFuZ2UsIHZhbHVlLCB0aGlzKTtcbiAgICB9XG4gICAgY2FsbFByb3AodGhpcy5kZWZhdWx0UHJvcHMub25DaGFuZ2UsIHZhbHVlLCB0aGlzKTtcbiAgICBzdXBlci5fb25DaGFuZ2UodmFsdWUsIGlkbGUpO1xuICB9XG4gIC8vIFRoaXMgbWV0aG9kIHJlc2V0cyB0aGUgYW5pbWF0aW9uIHN0YXRlIChldmVuIGlmIGFscmVhZHkgYW5pbWF0aW5nKSB0b1xuICAvLyBlbnN1cmUgdGhlIGxhdGVzdCBmcm9tL3RvIHJhbmdlIGlzIHVzZWQsIGFuZCBpdCBhbHNvIGVuc3VyZXMgdGhpcyBzcHJpbmdcbiAgLy8gaXMgYWRkZWQgdG8gdGhlIGZyYW1lbG9vcC5cbiAgX3N0YXJ0KCkge1xuICAgIGNvbnN0IGFuaW0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBnZXRBbmltYXRlZDIodGhpcykucmVzZXQoZ2V0Rmx1aWRWYWx1ZTIoYW5pbS50bykpO1xuICAgIGlmICghYW5pbS5pbW1lZGlhdGUpIHtcbiAgICAgIGFuaW0uZnJvbVZhbHVlcyA9IGFuaW0udmFsdWVzLm1hcCgobm9kZSkgPT4gbm9kZS5sYXN0UG9zaXRpb24pO1xuICAgIH1cbiAgICBpZiAoIWlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICBzZXRBY3RpdmVCaXQodGhpcywgdHJ1ZSk7XG4gICAgICBpZiAoIWlzUGF1c2VkKHRoaXMpKSB7XG4gICAgICAgIHRoaXMuX3Jlc3VtZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfcmVzdW1lKCkge1xuICAgIGlmIChHNS5za2lwQW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLmZpbmlzaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFtZUxvb3AyLnN0YXJ0KHRoaXMpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXhpdCB0aGUgZnJhbWVsb29wIGFuZCBub3RpZnkgYG9uUmVzdGAgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBBbHdheXMgd3JhcCBgX3N0b3BgIGNhbGxzIHdpdGggYGJhdGNoZWRVcGRhdGVzYC5cbiAgICovXG4gIF9zdG9wKGdvYWwsIGNhbmNlbCkge1xuICAgIGlmIChpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgc2V0QWN0aXZlQml0KHRoaXMsIGZhbHNlKTtcbiAgICAgIGNvbnN0IGFuaW0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICAgIGVhY2gyKGFuaW0udmFsdWVzLCAobm9kZSkgPT4ge1xuICAgICAgICBub2RlLmRvbmUgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgICBpZiAoYW5pbS50b1ZhbHVlcykge1xuICAgICAgICBhbmltLm9uQ2hhbmdlID0gYW5pbS5vblBhdXNlID0gYW5pbS5vblJlc3VtZSA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGNhbGxGbHVpZE9ic2VydmVyczIodGhpcywge1xuICAgICAgICB0eXBlOiBcImlkbGVcIixcbiAgICAgICAgcGFyZW50OiB0aGlzXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbmNlbCA/IGdldENhbmNlbGxlZFJlc3VsdCh0aGlzLmdldCgpKSA6IGdldEZpbmlzaGVkUmVzdWx0KHRoaXMuZ2V0KCksIGNoZWNrRmluaXNoZWQodGhpcywgZ29hbCA/PyBhbmltLnRvKSk7XG4gICAgICBmbHVzaENhbGxzKHRoaXMuX3BlbmRpbmdDYWxscywgcmVzdWx0KTtcbiAgICAgIGlmIChhbmltLmNoYW5nZWQpIHtcbiAgICAgICAgYW5pbS5jaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgIHNlbmRFdmVudCh0aGlzLCBcIm9uUmVzdFwiLCByZXN1bHQsIHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIGNoZWNrRmluaXNoZWQodGFyZ2V0LCB0bzIpIHtcbiAgY29uc3QgZ29hbCA9IGNvbXB1dGVHb2FsKHRvMik7XG4gIGNvbnN0IHZhbHVlID0gY29tcHV0ZUdvYWwodGFyZ2V0LmdldCgpKTtcbiAgcmV0dXJuIGlzRXF1YWwodmFsdWUsIGdvYWwpO1xufVxuZnVuY3Rpb24gY3JlYXRlTG9vcFVwZGF0ZShwcm9wcywgbG9vcCA9IHByb3BzLmxvb3AsIHRvMiA9IHByb3BzLnRvKSB7XG4gIGNvbnN0IGxvb3BSZXQgPSBjYWxsUHJvcChsb29wKTtcbiAgaWYgKGxvb3BSZXQpIHtcbiAgICBjb25zdCBvdmVycmlkZXMgPSBsb29wUmV0ICE9PSB0cnVlICYmIGluZmVyVG8obG9vcFJldCk7XG4gICAgY29uc3QgcmV2ZXJzZSA9IChvdmVycmlkZXMgfHwgcHJvcHMpLnJldmVyc2U7XG4gICAgY29uc3QgcmVzZXQgPSAhb3ZlcnJpZGVzIHx8IG92ZXJyaWRlcy5yZXNldDtcbiAgICByZXR1cm4gY3JlYXRlVXBkYXRlKHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgbG9vcCxcbiAgICAgIC8vIEF2b2lkIHVwZGF0aW5nIGRlZmF1bHQgcHJvcHMgd2hlbiBsb29waW5nLlxuICAgICAgZGVmYXVsdDogZmFsc2UsXG4gICAgICAvLyBOZXZlciBsb29wIHRoZSBgcGF1c2VgIHByb3AuXG4gICAgICBwYXVzZTogdm9pZCAwLFxuICAgICAgLy8gRm9yIHRoZSBcInJldmVyc2VcIiBwcm9wIHRvIGxvb3AgYXMgZXhwZWN0ZWQsIHRoZSBcInRvXCIgcHJvcFxuICAgICAgLy8gbXVzdCBiZSB1bmRlZmluZWQuIFRoZSBcInJldmVyc2VcIiBwcm9wIGlzIGlnbm9yZWQgd2hlbiB0aGVcbiAgICAgIC8vIFwidG9cIiBwcm9wIGlzIGFuIGFycmF5IG9yIGZ1bmN0aW9uLlxuICAgICAgdG86ICFyZXZlcnNlIHx8IGlzQXN5bmNUbyh0bzIpID8gdG8yIDogdm9pZCAwLFxuICAgICAgLy8gSWdub3JlIHRoZSBcImZyb21cIiBwcm9wIGV4Y2VwdCBvbiByZXNldC5cbiAgICAgIGZyb206IHJlc2V0ID8gcHJvcHMuZnJvbSA6IHZvaWQgMCxcbiAgICAgIHJlc2V0LFxuICAgICAgLy8gVGhlIFwibG9vcFwiIHByb3AgY2FuIHJldHVybiBhIFwidXNlU3ByaW5nXCIgcHJvcHMgb2JqZWN0IHRvXG4gICAgICAvLyBvdmVycmlkZSBhbnkgb2YgdGhlIG9yaWdpbmFsIHByb3BzLlxuICAgICAgLi4ub3ZlcnJpZGVzXG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZVVwZGF0ZShwcm9wcykge1xuICBjb25zdCB7IHRvOiB0bzIsIGZyb20gfSA9IHByb3BzID0gaW5mZXJUbyhwcm9wcyk7XG4gIGNvbnN0IGtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBpZiAoaXM1Lm9iaih0bzIpKVxuICAgIGZpbmREZWZpbmVkKHRvMiwga2V5cyk7XG4gIGlmIChpczUub2JqKGZyb20pKVxuICAgIGZpbmREZWZpbmVkKGZyb20sIGtleXMpO1xuICBwcm9wcy5rZXlzID0ga2V5cy5zaXplID8gQXJyYXkuZnJvbShrZXlzKSA6IG51bGw7XG4gIHJldHVybiBwcm9wcztcbn1cbmZ1bmN0aW9uIGRlY2xhcmVVcGRhdGUocHJvcHMpIHtcbiAgY29uc3QgdXBkYXRlMiA9IGNyZWF0ZVVwZGF0ZShwcm9wcyk7XG4gIGlmIChpczUudW5kKHVwZGF0ZTIuZGVmYXVsdCkpIHtcbiAgICB1cGRhdGUyLmRlZmF1bHQgPSBnZXREZWZhdWx0UHJvcHModXBkYXRlMik7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZTI7XG59XG5mdW5jdGlvbiBmaW5kRGVmaW5lZCh2YWx1ZXMsIGtleXMpIHtcbiAgZWFjaFByb3AzKHZhbHVlcywgKHZhbHVlLCBrZXkpID0+IHZhbHVlICE9IG51bGwgJiYga2V5cy5hZGQoa2V5KSk7XG59XG52YXIgQUNUSVZFX0VWRU5UUyA9IFtcbiAgXCJvblN0YXJ0XCIsXG4gIFwib25SZXN0XCIsXG4gIFwib25DaGFuZ2VcIixcbiAgXCJvblBhdXNlXCIsXG4gIFwib25SZXN1bWVcIlxuXTtcbmZ1bmN0aW9uIG1lcmdlQWN0aXZlRm4odGFyZ2V0LCBwcm9wcywgdHlwZSkge1xuICB0YXJnZXQuYW5pbWF0aW9uW3R5cGVdID0gcHJvcHNbdHlwZV0gIT09IGdldERlZmF1bHRQcm9wKHByb3BzLCB0eXBlKSA/IHJlc29sdmVQcm9wKHByb3BzW3R5cGVdLCB0YXJnZXQua2V5KSA6IHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHNlbmRFdmVudCh0YXJnZXQsIHR5cGUsIC4uLmFyZ3MpIHtcbiAgdGFyZ2V0LmFuaW1hdGlvblt0eXBlXT8uKC4uLmFyZ3MpO1xuICB0YXJnZXQuZGVmYXVsdFByb3BzW3R5cGVdPy4oLi4uYXJncyk7XG59XG5cbi8vIHNyYy9Db250cm9sbGVyLnRzXG5pbXBvcnQge1xuICBpcyBhcyBpczYsXG4gIHJhZiBhcyByYWY0LFxuICBlYWNoIGFzIGVhY2gzLFxuICBub29wLFxuICBmbHVzaCBhcyBmbHVzaDIsXG4gIHRvQXJyYXkgYXMgdG9BcnJheTMsXG4gIGVhY2hQcm9wIGFzIGVhY2hQcm9wNCxcbiAgZmx1c2hDYWxscyBhcyBmbHVzaENhbGxzMixcbiAgYWRkRmx1aWRPYnNlcnZlciBhcyBhZGRGbHVpZE9ic2VydmVyMlxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciBCQVRDSEVEX0VWRU5UUyA9IFtcIm9uU3RhcnRcIiwgXCJvbkNoYW5nZVwiLCBcIm9uUmVzdFwiXTtcbnZhciBuZXh0SWQyID0gMTtcbnZhciBDb250cm9sbGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihwcm9wcywgZmx1c2gzKSB7XG4gICAgdGhpcy5pZCA9IG5leHRJZDIrKztcbiAgICAvKiogVGhlIGFuaW1hdGVkIHZhbHVlcyAqL1xuICAgIHRoaXMuc3ByaW5ncyA9IHt9O1xuICAgIC8qKiBUaGUgcXVldWUgb2YgcHJvcHMgcGFzc2VkIHRvIHRoZSBgdXBkYXRlYCBtZXRob2QuICovXG4gICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIC8qKiBUaGUgY291bnRlciBmb3IgdHJhY2tpbmcgYHNjaGVkdWxlUHJvcHNgIGNhbGxzICovXG4gICAgdGhpcy5fbGFzdEFzeW5jSWQgPSAwO1xuICAgIC8qKiBUaGUgdmFsdWVzIGN1cnJlbnRseSBiZWluZyBhbmltYXRlZCAqL1xuICAgIHRoaXMuX2FjdGl2ZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgLyoqIFRoZSB2YWx1ZXMgdGhhdCBjaGFuZ2VkIHJlY2VudGx5ICovXG4gICAgdGhpcy5fY2hhbmdlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgLyoqIEVxdWFscyBmYWxzZSB3aGVuIGBvblN0YXJ0YCBsaXN0ZW5lcnMgY2FuIGJlIGNhbGxlZCAqL1xuICAgIHRoaXMuX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAvKiogU3RhdGUgdXNlZCBieSB0aGUgYHJ1bkFzeW5jYCBmdW5jdGlvbiAqL1xuICAgIHRoaXMuX3N0YXRlID0ge1xuICAgICAgcGF1c2VkOiBmYWxzZSxcbiAgICAgIHBhdXNlUXVldWU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gICAgICByZXN1bWVRdWV1ZTogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSxcbiAgICAgIHRpbWVvdXRzOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gICAgfTtcbiAgICAvKiogVGhlIGV2ZW50IHF1ZXVlcyB0aGF0IGFyZSBmbHVzaGVkIG9uY2UgcGVyIGZyYW1lIG1heGltdW0gKi9cbiAgICB0aGlzLl9ldmVudHMgPSB7XG4gICAgICBvblN0YXJ0OiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgb25DaGFuZ2U6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgICBvblJlc3Q6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbiAgICB9O1xuICAgIHRoaXMuX29uRnJhbWUgPSB0aGlzLl9vbkZyYW1lLmJpbmQodGhpcyk7XG4gICAgaWYgKGZsdXNoMykge1xuICAgICAgdGhpcy5fZmx1c2ggPSBmbHVzaDM7XG4gICAgfVxuICAgIGlmIChwcm9wcykge1xuICAgICAgdGhpcy5zdGFydCh7IGRlZmF1bHQ6IHRydWUsIC4uLnByb3BzIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRXF1YWxzIGB0cnVlYCB3aGVuIG5vIHNwcmluZyB2YWx1ZXMgYXJlIGluIHRoZSBmcmFtZWxvb3AsIGFuZFxuICAgKiBubyBhc3luYyBhbmltYXRpb24gaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAgICovXG4gIGdldCBpZGxlKCkge1xuICAgIHJldHVybiAhdGhpcy5fc3RhdGUuYXN5bmNUbyAmJiBPYmplY3QudmFsdWVzKHRoaXMuc3ByaW5ncykuZXZlcnkoKHNwcmluZykgPT4ge1xuICAgICAgcmV0dXJuIHNwcmluZy5pZGxlICYmICFzcHJpbmcuaXNEZWxheWVkICYmICFzcHJpbmcuaXNQYXVzZWQ7XG4gICAgfSk7XG4gIH1cbiAgZ2V0IGl0ZW0oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZW07XG4gIH1cbiAgc2V0IGl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX2l0ZW0gPSBpdGVtO1xuICB9XG4gIC8qKiBHZXQgdGhlIGN1cnJlbnQgdmFsdWVzIG9mIG91ciBzcHJpbmdzICovXG4gIGdldCgpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICB0aGlzLmVhY2goKHNwcmluZywga2V5KSA9PiB2YWx1ZXNba2V5XSA9IHNwcmluZy5nZXQoKSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuICAvKiogU2V0IHRoZSBjdXJyZW50IHZhbHVlcyB3aXRob3V0IGFuaW1hdGluZy4gKi9cbiAgc2V0KHZhbHVlcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIHZhbHVlcykge1xuICAgICAgY29uc3QgdmFsdWUgPSB2YWx1ZXNba2V5XTtcbiAgICAgIGlmICghaXM2LnVuZCh2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy5zcHJpbmdzW2tleV0uc2V0KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqIFB1c2ggYW4gdXBkYXRlIG9udG8gdGhlIHF1ZXVlIG9mIGVhY2ggdmFsdWUuICovXG4gIHVwZGF0ZShwcm9wcykge1xuICAgIGlmIChwcm9wcykge1xuICAgICAgdGhpcy5xdWV1ZS5wdXNoKGNyZWF0ZVVwZGF0ZShwcm9wcykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKipcbiAgICogU3RhcnQgdGhlIHF1ZXVlZCBhbmltYXRpb25zIGZvciBldmVyeSBzcHJpbmcsIGFuZCByZXNvbHZlIHRoZSByZXR1cm5lZFxuICAgKiBwcm9taXNlIG9uY2UgYWxsIHF1ZXVlZCBhbmltYXRpb25zIGhhdmUgZmluaXNoZWQgb3IgYmVlbiBjYW5jZWxsZWQuXG4gICAqXG4gICAqIFdoZW4geW91IHBhc3MgYSBxdWV1ZSAoaW5zdGVhZCBvZiBub3RoaW5nKSwgdGhhdCBxdWV1ZSBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICogdGhlIHF1ZXVlZCBhbmltYXRpb25zIGFkZGVkIHdpdGggdGhlIGB1cGRhdGVgIG1ldGhvZCwgd2hpY2ggYXJlIGxlZnQgYWxvbmUuXG4gICAqL1xuICBzdGFydChwcm9wcykge1xuICAgIGxldCB7IHF1ZXVlIH0gPSB0aGlzO1xuICAgIGlmIChwcm9wcykge1xuICAgICAgcXVldWUgPSB0b0FycmF5Myhwcm9wcykubWFwKGNyZWF0ZVVwZGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2ZsdXNoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZmx1c2godGhpcywgcXVldWUpO1xuICAgIH1cbiAgICBwcmVwYXJlS2V5cyh0aGlzLCBxdWV1ZSk7XG4gICAgcmV0dXJuIGZsdXNoVXBkYXRlUXVldWUodGhpcywgcXVldWUpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RvcChhcmcsIGtleXMpIHtcbiAgICBpZiAoYXJnICE9PSAhIWFyZykge1xuICAgICAga2V5cyA9IGFyZztcbiAgICB9XG4gICAgaWYgKGtleXMpIHtcbiAgICAgIGNvbnN0IHNwcmluZ3MgPSB0aGlzLnNwcmluZ3M7XG4gICAgICBlYWNoMyh0b0FycmF5MyhrZXlzKSwgKGtleSkgPT4gc3ByaW5nc1trZXldLnN0b3AoISFhcmcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RvcEFzeW5jKHRoaXMuX3N0YXRlLCB0aGlzLl9sYXN0QXN5bmNJZCk7XG4gICAgICB0aGlzLmVhY2goKHNwcmluZykgPT4gc3ByaW5nLnN0b3AoISFhcmcpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIEZyZWV6ZSB0aGUgYWN0aXZlIGFuaW1hdGlvbiBpbiB0aW1lICovXG4gIHBhdXNlKGtleXMpIHtcbiAgICBpZiAoaXM2LnVuZChrZXlzKSkge1xuICAgICAgdGhpcy5zdGFydCh7IHBhdXNlOiB0cnVlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzcHJpbmdzID0gdGhpcy5zcHJpbmdzO1xuICAgICAgZWFjaDModG9BcnJheTMoa2V5cyksIChrZXkpID0+IHNwcmluZ3Nba2V5XS5wYXVzZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIFJlc3VtZSB0aGUgYW5pbWF0aW9uIGlmIHBhdXNlZC4gKi9cbiAgcmVzdW1lKGtleXMpIHtcbiAgICBpZiAoaXM2LnVuZChrZXlzKSkge1xuICAgICAgdGhpcy5zdGFydCh7IHBhdXNlOiBmYWxzZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgc3ByaW5ncyA9IHRoaXMuc3ByaW5ncztcbiAgICAgIGVhY2gzKHRvQXJyYXkzKGtleXMpLCAoa2V5KSA9PiBzcHJpbmdzW2tleV0ucmVzdW1lKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogQ2FsbCBhIGZ1bmN0aW9uIG9uY2UgcGVyIHNwcmluZyB2YWx1ZSAqL1xuICBlYWNoKGl0ZXJhdG9yKSB7XG4gICAgZWFjaFByb3A0KHRoaXMuc3ByaW5ncywgaXRlcmF0b3IpO1xuICB9XG4gIC8qKiBAaW50ZXJuYWwgQ2FsbGVkIGF0IHRoZSBlbmQgb2YgZXZlcnkgYW5pbWF0aW9uIGZyYW1lICovXG4gIF9vbkZyYW1lKCkge1xuICAgIGNvbnN0IHsgb25TdGFydCwgb25DaGFuZ2UsIG9uUmVzdCB9ID0gdGhpcy5fZXZlbnRzO1xuICAgIGNvbnN0IGFjdGl2ZSA9IHRoaXMuX2FjdGl2ZS5zaXplID4gMDtcbiAgICBjb25zdCBjaGFuZ2VkID0gdGhpcy5fY2hhbmdlZC5zaXplID4gMDtcbiAgICBpZiAoYWN0aXZlICYmICF0aGlzLl9zdGFydGVkIHx8IGNoYW5nZWQgJiYgIXRoaXMuX3N0YXJ0ZWQpIHtcbiAgICAgIHRoaXMuX3N0YXJ0ZWQgPSB0cnVlO1xuICAgICAgZmx1c2gyKG9uU3RhcnQsIChbb25TdGFydDIsIHJlc3VsdF0pID0+IHtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gdGhpcy5nZXQoKTtcbiAgICAgICAgb25TdGFydDIocmVzdWx0LCB0aGlzLCB0aGlzLl9pdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBpZGxlID0gIWFjdGl2ZSAmJiB0aGlzLl9zdGFydGVkO1xuICAgIGNvbnN0IHZhbHVlcyA9IGNoYW5nZWQgfHwgaWRsZSAmJiBvblJlc3Quc2l6ZSA/IHRoaXMuZ2V0KCkgOiBudWxsO1xuICAgIGlmIChjaGFuZ2VkICYmIG9uQ2hhbmdlLnNpemUpIHtcbiAgICAgIGZsdXNoMihvbkNoYW5nZSwgKFtvbkNoYW5nZTIsIHJlc3VsdF0pID0+IHtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gdmFsdWVzO1xuICAgICAgICBvbkNoYW5nZTIocmVzdWx0LCB0aGlzLCB0aGlzLl9pdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaWRsZSkge1xuICAgICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgZmx1c2gyKG9uUmVzdCwgKFtvblJlc3QyLCByZXN1bHRdKSA9PiB7XG4gICAgICAgIHJlc3VsdC52YWx1ZSA9IHZhbHVlcztcbiAgICAgICAgb25SZXN0MihyZXN1bHQsIHRoaXMsIHRoaXMuX2l0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgZXZlbnRPYnNlcnZlZChldmVudCkge1xuICAgIGlmIChldmVudC50eXBlID09IFwiY2hhbmdlXCIpIHtcbiAgICAgIHRoaXMuX2NoYW5nZWQuYWRkKGV2ZW50LnBhcmVudCk7XG4gICAgICBpZiAoIWV2ZW50LmlkbGUpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZlLmFkZChldmVudC5wYXJlbnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PSBcImlkbGVcIikge1xuICAgICAgdGhpcy5fYWN0aXZlLmRlbGV0ZShldmVudC5wYXJlbnQpO1xuICAgIH0gZWxzZVxuICAgICAgcmV0dXJuO1xuICAgIHJhZjQub25GcmFtZSh0aGlzLl9vbkZyYW1lKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGZsdXNoVXBkYXRlUXVldWUoY3RybCwgcXVldWUpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHF1ZXVlLm1hcCgocHJvcHMpID0+IGZsdXNoVXBkYXRlKGN0cmwsIHByb3BzKSkpLnRoZW4oXG4gICAgKHJlc3VsdHMpID0+IGdldENvbWJpbmVkUmVzdWx0KGN0cmwsIHJlc3VsdHMpXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiBmbHVzaFVwZGF0ZShjdHJsLCBwcm9wcywgaXNMb29wKSB7XG4gIGNvbnN0IHsga2V5cywgdG86IHRvMiwgZnJvbSwgbG9vcCwgb25SZXN0LCBvblJlc29sdmUgfSA9IHByb3BzO1xuICBjb25zdCBkZWZhdWx0czIgPSBpczYub2JqKHByb3BzLmRlZmF1bHQpICYmIHByb3BzLmRlZmF1bHQ7XG4gIGlmIChsb29wKSB7XG4gICAgcHJvcHMubG9vcCA9IGZhbHNlO1xuICB9XG4gIGlmICh0bzIgPT09IGZhbHNlKVxuICAgIHByb3BzLnRvID0gbnVsbDtcbiAgaWYgKGZyb20gPT09IGZhbHNlKVxuICAgIHByb3BzLmZyb20gPSBudWxsO1xuICBjb25zdCBhc3luY1RvID0gaXM2LmFycih0bzIpIHx8IGlzNi5mdW4odG8yKSA/IHRvMiA6IHZvaWQgMDtcbiAgaWYgKGFzeW5jVG8pIHtcbiAgICBwcm9wcy50byA9IHZvaWQgMDtcbiAgICBwcm9wcy5vblJlc3QgPSB2b2lkIDA7XG4gICAgaWYgKGRlZmF1bHRzMikge1xuICAgICAgZGVmYXVsdHMyLm9uUmVzdCA9IHZvaWQgMDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZWFjaDMoQkFUQ0hFRF9FVkVOVFMsIChrZXkpID0+IHtcbiAgICAgIGNvbnN0IGhhbmRsZXIgPSBwcm9wc1trZXldO1xuICAgICAgaWYgKGlzNi5mdW4oaGFuZGxlcikpIHtcbiAgICAgICAgY29uc3QgcXVldWUgPSBjdHJsW1wiX2V2ZW50c1wiXVtrZXldO1xuICAgICAgICBwcm9wc1trZXldID0gKHsgZmluaXNoZWQsIGNhbmNlbGxlZCB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgcmVzdWx0MiA9IHF1ZXVlLmdldChoYW5kbGVyKTtcbiAgICAgICAgICBpZiAocmVzdWx0Mikge1xuICAgICAgICAgICAgaWYgKCFmaW5pc2hlZClcbiAgICAgICAgICAgICAgcmVzdWx0Mi5maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGNhbmNlbGxlZClcbiAgICAgICAgICAgICAgcmVzdWx0Mi5jYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBxdWV1ZS5zZXQoaGFuZGxlciwge1xuICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgZmluaXNoZWQ6IGZpbmlzaGVkIHx8IGZhbHNlLFxuICAgICAgICAgICAgICBjYW5jZWxsZWQ6IGNhbmNlbGxlZCB8fCBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoZGVmYXVsdHMyKSB7XG4gICAgICAgICAgZGVmYXVsdHMyW2tleV0gPSBwcm9wc1trZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgY29uc3Qgc3RhdGUgPSBjdHJsW1wiX3N0YXRlXCJdO1xuICBpZiAocHJvcHMucGF1c2UgPT09ICFzdGF0ZS5wYXVzZWQpIHtcbiAgICBzdGF0ZS5wYXVzZWQgPSBwcm9wcy5wYXVzZTtcbiAgICBmbHVzaENhbGxzMihwcm9wcy5wYXVzZSA/IHN0YXRlLnBhdXNlUXVldWUgOiBzdGF0ZS5yZXN1bWVRdWV1ZSk7XG4gIH0gZWxzZSBpZiAoc3RhdGUucGF1c2VkKSB7XG4gICAgcHJvcHMucGF1c2UgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHByb21pc2VzID0gKGtleXMgfHwgT2JqZWN0LmtleXMoY3RybC5zcHJpbmdzKSkubWFwKFxuICAgIChrZXkpID0+IGN0cmwuc3ByaW5nc1trZXldLnN0YXJ0KHByb3BzKVxuICApO1xuICBjb25zdCBjYW5jZWwgPSBwcm9wcy5jYW5jZWwgPT09IHRydWUgfHwgZ2V0RGVmYXVsdFByb3AocHJvcHMsIFwiY2FuY2VsXCIpID09PSB0cnVlO1xuICBpZiAoYXN5bmNUbyB8fCBjYW5jZWwgJiYgc3RhdGUuYXN5bmNJZCkge1xuICAgIHByb21pc2VzLnB1c2goXG4gICAgICBzY2hlZHVsZVByb3BzKCsrY3RybFtcIl9sYXN0QXN5bmNJZFwiXSwge1xuICAgICAgICBwcm9wcyxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgICBwYXVzZTogbm9vcCxcbiAgICAgICAgICByZXN1bWU6IG5vb3AsXG4gICAgICAgICAgc3RhcnQocHJvcHMyLCByZXNvbHZlKSB7XG4gICAgICAgICAgICBpZiAoY2FuY2VsKSB7XG4gICAgICAgICAgICAgIHN0b3BBc3luYyhzdGF0ZSwgY3RybFtcIl9sYXN0QXN5bmNJZFwiXSk7XG4gICAgICAgICAgICAgIHJlc29sdmUoZ2V0Q2FuY2VsbGVkUmVzdWx0KGN0cmwpKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHByb3BzMi5vblJlc3QgPSBvblJlc3Q7XG4gICAgICAgICAgICAgIHJlc29sdmUoXG4gICAgICAgICAgICAgICAgcnVuQXN5bmMoXG4gICAgICAgICAgICAgICAgICBhc3luY1RvLFxuICAgICAgICAgICAgICAgICAgcHJvcHMyLFxuICAgICAgICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICAgICAgICBjdHJsXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGlmIChzdGF0ZS5wYXVzZWQpIHtcbiAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzdW1lKSA9PiB7XG4gICAgICBzdGF0ZS5yZXN1bWVRdWV1ZS5hZGQocmVzdW1lKTtcbiAgICB9KTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBnZXRDb21iaW5lZFJlc3VsdChjdHJsLCBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcykpO1xuICBpZiAobG9vcCAmJiByZXN1bHQuZmluaXNoZWQgJiYgIShpc0xvb3AgJiYgcmVzdWx0Lm5vb3ApKSB7XG4gICAgY29uc3QgbmV4dFByb3BzID0gY3JlYXRlTG9vcFVwZGF0ZShwcm9wcywgbG9vcCwgdG8yKTtcbiAgICBpZiAobmV4dFByb3BzKSB7XG4gICAgICBwcmVwYXJlS2V5cyhjdHJsLCBbbmV4dFByb3BzXSk7XG4gICAgICByZXR1cm4gZmx1c2hVcGRhdGUoY3RybCwgbmV4dFByb3BzLCB0cnVlKTtcbiAgICB9XG4gIH1cbiAgaWYgKG9uUmVzb2x2ZSkge1xuICAgIHJhZjQuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4gb25SZXNvbHZlKHJlc3VsdCwgY3RybCwgY3RybC5pdGVtKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldFNwcmluZ3MoY3RybCwgcHJvcHMpIHtcbiAgY29uc3Qgc3ByaW5ncyA9IHsgLi4uY3RybC5zcHJpbmdzIH07XG4gIGlmIChwcm9wcykge1xuICAgIGVhY2gzKHRvQXJyYXkzKHByb3BzKSwgKHByb3BzMikgPT4ge1xuICAgICAgaWYgKGlzNi51bmQocHJvcHMyLmtleXMpKSB7XG4gICAgICAgIHByb3BzMiA9IGNyZWF0ZVVwZGF0ZShwcm9wczIpO1xuICAgICAgfVxuICAgICAgaWYgKCFpczYub2JqKHByb3BzMi50bykpIHtcbiAgICAgICAgcHJvcHMyID0geyAuLi5wcm9wczIsIHRvOiB2b2lkIDAgfTtcbiAgICAgIH1cbiAgICAgIHByZXBhcmVTcHJpbmdzKHNwcmluZ3MsIHByb3BzMiwgKGtleSkgPT4ge1xuICAgICAgICByZXR1cm4gY3JlYXRlU3ByaW5nKGtleSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBzZXRTcHJpbmdzKGN0cmwsIHNwcmluZ3MpO1xuICByZXR1cm4gc3ByaW5ncztcbn1cbmZ1bmN0aW9uIHNldFNwcmluZ3MoY3RybCwgc3ByaW5ncykge1xuICBlYWNoUHJvcDQoc3ByaW5ncywgKHNwcmluZywga2V5KSA9PiB7XG4gICAgaWYgKCFjdHJsLnNwcmluZ3Nba2V5XSkge1xuICAgICAgY3RybC5zcHJpbmdzW2tleV0gPSBzcHJpbmc7XG4gICAgICBhZGRGbHVpZE9ic2VydmVyMihzcHJpbmcsIGN0cmwpO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTcHJpbmcoa2V5LCBvYnNlcnZlcikge1xuICBjb25zdCBzcHJpbmcgPSBuZXcgU3ByaW5nVmFsdWUoKTtcbiAgc3ByaW5nLmtleSA9IGtleTtcbiAgaWYgKG9ic2VydmVyKSB7XG4gICAgYWRkRmx1aWRPYnNlcnZlcjIoc3ByaW5nLCBvYnNlcnZlcik7XG4gIH1cbiAgcmV0dXJuIHNwcmluZztcbn1cbmZ1bmN0aW9uIHByZXBhcmVTcHJpbmdzKHNwcmluZ3MsIHByb3BzLCBjcmVhdGUpIHtcbiAgaWYgKHByb3BzLmtleXMpIHtcbiAgICBlYWNoMyhwcm9wcy5rZXlzLCAoa2V5KSA9PiB7XG4gICAgICBjb25zdCBzcHJpbmcgPSBzcHJpbmdzW2tleV0gfHwgKHNwcmluZ3Nba2V5XSA9IGNyZWF0ZShrZXkpKTtcbiAgICAgIHNwcmluZ1tcIl9wcmVwYXJlTm9kZVwiXShwcm9wcyk7XG4gICAgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHByZXBhcmVLZXlzKGN0cmwsIHF1ZXVlKSB7XG4gIGVhY2gzKHF1ZXVlLCAocHJvcHMpID0+IHtcbiAgICBwcmVwYXJlU3ByaW5ncyhjdHJsLnNwcmluZ3MsIHByb3BzLCAoa2V5KSA9PiB7XG4gICAgICByZXR1cm4gY3JlYXRlU3ByaW5nKGtleSwgY3RybCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vLyBzcmMvU3ByaW5nQ29udGV4dC50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ29udGV4dCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTWVtb09uZSB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIFNwcmluZ0NvbnRleHQgPSAoe1xuICBjaGlsZHJlbixcbiAgLi4ucHJvcHNcbn0pID0+IHtcbiAgY29uc3QgaW5oZXJpdGVkID0gdXNlQ29udGV4dChjdHgpO1xuICBjb25zdCBwYXVzZSA9IHByb3BzLnBhdXNlIHx8ICEhaW5oZXJpdGVkLnBhdXNlLCBpbW1lZGlhdGUgPSBwcm9wcy5pbW1lZGlhdGUgfHwgISFpbmhlcml0ZWQuaW1tZWRpYXRlO1xuICBwcm9wcyA9IHVzZU1lbW9PbmUoKCkgPT4gKHsgcGF1c2UsIGltbWVkaWF0ZSB9KSwgW3BhdXNlLCBpbW1lZGlhdGVdKTtcbiAgY29uc3QgeyBQcm92aWRlciB9ID0gY3R4O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvdmlkZXIsIHsgdmFsdWU6IHByb3BzIH0sIGNoaWxkcmVuKTtcbn07XG52YXIgY3R4ID0gbWFrZUNvbnRleHQoU3ByaW5nQ29udGV4dCwge30pO1xuU3ByaW5nQ29udGV4dC5Qcm92aWRlciA9IGN0eC5Qcm92aWRlcjtcblNwcmluZ0NvbnRleHQuQ29uc3VtZXIgPSBjdHguQ29uc3VtZXI7XG5mdW5jdGlvbiBtYWtlQ29udGV4dCh0YXJnZXQsIGluaXQpIHtcbiAgT2JqZWN0LmFzc2lnbih0YXJnZXQsIFJlYWN0LmNyZWF0ZUNvbnRleHQoaW5pdCkpO1xuICB0YXJnZXQuUHJvdmlkZXIuX2NvbnRleHQgPSB0YXJnZXQ7XG4gIHRhcmdldC5Db25zdW1lci5fY29udGV4dCA9IHRhcmdldDtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLy8gc3JjL1NwcmluZ1JlZi50c1xuaW1wb3J0IHsgZWFjaCBhcyBlYWNoNCwgaXMgYXMgaXM3LCBkZXByZWNhdGVEaXJlY3RDYWxsIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgU3ByaW5nUmVmID0gKCkgPT4ge1xuICBjb25zdCBjdXJyZW50ID0gW107XG4gIGNvbnN0IFNwcmluZ1JlZjIgPSBmdW5jdGlvbihwcm9wcykge1xuICAgIGRlcHJlY2F0ZURpcmVjdENhbGwoKTtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIGlmIChpczcudW5kKHByb3BzKSkge1xuICAgICAgICByZXN1bHRzLnB1c2goY3RybC5zdGFydCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZTIgPSBfZ2V0UHJvcHMocHJvcHMsIGN0cmwsIGkpO1xuICAgICAgICBpZiAodXBkYXRlMikge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChjdHJsLnN0YXJ0KHVwZGF0ZTIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuICBTcHJpbmdSZWYyLmN1cnJlbnQgPSBjdXJyZW50O1xuICBTcHJpbmdSZWYyLmFkZCA9IGZ1bmN0aW9uKGN0cmwpIHtcbiAgICBpZiAoIWN1cnJlbnQuaW5jbHVkZXMoY3RybCkpIHtcbiAgICAgIGN1cnJlbnQucHVzaChjdHJsKTtcbiAgICB9XG4gIH07XG4gIFNwcmluZ1JlZjIuZGVsZXRlID0gZnVuY3Rpb24oY3RybCkge1xuICAgIGNvbnN0IGkgPSBjdXJyZW50LmluZGV4T2YoY3RybCk7XG4gICAgaWYgKH5pKVxuICAgICAgY3VycmVudC5zcGxpY2UoaSwgMSk7XG4gIH07XG4gIFNwcmluZ1JlZjIucGF1c2UgPSBmdW5jdGlvbigpIHtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCkgPT4gY3RybC5wYXVzZSguLi5hcmd1bWVudHMpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgU3ByaW5nUmVmMi5yZXN1bWUgPSBmdW5jdGlvbigpIHtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCkgPT4gY3RybC5yZXN1bWUoLi4uYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIFNwcmluZ1JlZjIuc2V0ID0gZnVuY3Rpb24odmFsdWVzKSB7XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIGNvbnN0IHVwZGF0ZTIgPSBpczcuZnVuKHZhbHVlcykgPyB2YWx1ZXMoaSwgY3RybCkgOiB2YWx1ZXM7XG4gICAgICBpZiAodXBkYXRlMikge1xuICAgICAgICBjdHJsLnNldCh1cGRhdGUyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgU3ByaW5nUmVmMi5zdGFydCA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsLCBpKSA9PiB7XG4gICAgICBpZiAoaXM3LnVuZChwcm9wcykpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGN0cmwuc3RhcnQoKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB1cGRhdGUyID0gdGhpcy5fZ2V0UHJvcHMocHJvcHMsIGN0cmwsIGkpO1xuICAgICAgICBpZiAodXBkYXRlMikge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChjdHJsLnN0YXJ0KHVwZGF0ZTIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHRzO1xuICB9O1xuICBTcHJpbmdSZWYyLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCkgPT4gY3RybC5zdG9wKC4uLmFyZ3VtZW50cykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBTcHJpbmdSZWYyLnVwZGF0ZSA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwsIGkpID0+IGN0cmwudXBkYXRlKHRoaXMuX2dldFByb3BzKHByb3BzLCBjdHJsLCBpKSkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBjb25zdCBfZ2V0UHJvcHMgPSBmdW5jdGlvbihhcmcsIGN0cmwsIGluZGV4KSB7XG4gICAgcmV0dXJuIGlzNy5mdW4oYXJnKSA/IGFyZyhpbmRleCwgY3RybCkgOiBhcmc7XG4gIH07XG4gIFNwcmluZ1JlZjIuX2dldFByb3BzID0gX2dldFByb3BzO1xuICByZXR1cm4gU3ByaW5nUmVmMjtcbn07XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmdzLnRzXG5mdW5jdGlvbiB1c2VTcHJpbmdzKGxlbmd0aCwgcHJvcHMsIGRlcHMpIHtcbiAgY29uc3QgcHJvcHNGbiA9IGlzOC5mdW4ocHJvcHMpICYmIHByb3BzO1xuICBpZiAocHJvcHNGbiAmJiAhZGVwcylcbiAgICBkZXBzID0gW107XG4gIGNvbnN0IHJlZiA9IHVzZU1lbW8oXG4gICAgKCkgPT4gcHJvcHNGbiB8fCBhcmd1bWVudHMubGVuZ3RoID09IDMgPyBTcHJpbmdSZWYoKSA6IHZvaWQgMCxcbiAgICBbXVxuICApO1xuICBjb25zdCBsYXlvdXRJZCA9IHVzZVJlZigwKTtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICBjb25zdCBzdGF0ZSA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGN0cmxzOiBbXSxcbiAgICAgIHF1ZXVlOiBbXSxcbiAgICAgIGZsdXNoKGN0cmwsIHVwZGF0ZXMyKSB7XG4gICAgICAgIGNvbnN0IHNwcmluZ3MyID0gZ2V0U3ByaW5ncyhjdHJsLCB1cGRhdGVzMik7XG4gICAgICAgIGNvbnN0IGNhbkZsdXNoU3luYyA9IGxheW91dElkLmN1cnJlbnQgPiAwICYmICFzdGF0ZS5xdWV1ZS5sZW5ndGggJiYgIU9iamVjdC5rZXlzKHNwcmluZ3MyKS5zb21lKChrZXkpID0+ICFjdHJsLnNwcmluZ3Nba2V5XSk7XG4gICAgICAgIHJldHVybiBjYW5GbHVzaFN5bmMgPyBmbHVzaFVwZGF0ZVF1ZXVlKGN0cmwsIHVwZGF0ZXMyKSA6IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgc2V0U3ByaW5ncyhjdHJsLCBzcHJpbmdzMik7XG4gICAgICAgICAgc3RhdGUucXVldWUucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGZsdXNoVXBkYXRlUXVldWUoY3RybCwgdXBkYXRlczIpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBbXVxuICApO1xuICBjb25zdCBjdHJscyA9IHVzZVJlZihbLi4uc3RhdGUuY3RybHNdKTtcbiAgY29uc3QgdXBkYXRlcyA9IFtdO1xuICBjb25zdCBwcmV2TGVuZ3RoID0gdXNlUHJldihsZW5ndGgpIHx8IDA7XG4gIHVzZU1lbW8oKCkgPT4ge1xuICAgIGVhY2g1KGN0cmxzLmN1cnJlbnQuc2xpY2UobGVuZ3RoLCBwcmV2TGVuZ3RoKSwgKGN0cmwpID0+IHtcbiAgICAgIGRldGFjaFJlZnMoY3RybCwgcmVmKTtcbiAgICAgIGN0cmwuc3RvcCh0cnVlKTtcbiAgICB9KTtcbiAgICBjdHJscy5jdXJyZW50Lmxlbmd0aCA9IGxlbmd0aDtcbiAgICBkZWNsYXJlVXBkYXRlcyhwcmV2TGVuZ3RoLCBsZW5ndGgpO1xuICB9LCBbbGVuZ3RoXSk7XG4gIHVzZU1lbW8oKCkgPT4ge1xuICAgIGRlY2xhcmVVcGRhdGVzKDAsIE1hdGgubWluKHByZXZMZW5ndGgsIGxlbmd0aCkpO1xuICB9LCBkZXBzKTtcbiAgZnVuY3Rpb24gZGVjbGFyZVVwZGF0ZXMoc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IGVuZEluZGV4OyBpKyspIHtcbiAgICAgIGNvbnN0IGN0cmwgPSBjdHJscy5jdXJyZW50W2ldIHx8IChjdHJscy5jdXJyZW50W2ldID0gbmV3IENvbnRyb2xsZXIobnVsbCwgc3RhdGUuZmx1c2gpKTtcbiAgICAgIGNvbnN0IHVwZGF0ZTIgPSBwcm9wc0ZuID8gcHJvcHNGbihpLCBjdHJsKSA6IHByb3BzW2ldO1xuICAgICAgaWYgKHVwZGF0ZTIpIHtcbiAgICAgICAgdXBkYXRlc1tpXSA9IGRlY2xhcmVVcGRhdGUodXBkYXRlMik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IHNwcmluZ3MgPSBjdHJscy5jdXJyZW50Lm1hcCgoY3RybCwgaSkgPT4gZ2V0U3ByaW5ncyhjdHJsLCB1cGRhdGVzW2ldKSk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0MihTcHJpbmdDb250ZXh0KTtcbiAgY29uc3QgcHJldkNvbnRleHQgPSB1c2VQcmV2KGNvbnRleHQpO1xuICBjb25zdCBoYXNDb250ZXh0ID0gY29udGV4dCAhPT0gcHJldkNvbnRleHQgJiYgaGFzUHJvcHMoY29udGV4dCk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QyKCgpID0+IHtcbiAgICBsYXlvdXRJZC5jdXJyZW50Kys7XG4gICAgc3RhdGUuY3RybHMgPSBjdHJscy5jdXJyZW50O1xuICAgIGNvbnN0IHsgcXVldWUgfSA9IHN0YXRlO1xuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHN0YXRlLnF1ZXVlID0gW107XG4gICAgICBlYWNoNShxdWV1ZSwgKGNiKSA9PiBjYigpKTtcbiAgICB9XG4gICAgZWFjaDUoY3RybHMuY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIHJlZj8uYWRkKGN0cmwpO1xuICAgICAgaWYgKGhhc0NvbnRleHQpIHtcbiAgICAgICAgY3RybC5zdGFydCh7IGRlZmF1bHQ6IGNvbnRleHQgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCB1cGRhdGUyID0gdXBkYXRlc1tpXTtcbiAgICAgIGlmICh1cGRhdGUyKSB7XG4gICAgICAgIHJlcGxhY2VSZWYoY3RybCwgdXBkYXRlMi5yZWYpO1xuICAgICAgICBpZiAoY3RybC5yZWYpIHtcbiAgICAgICAgICBjdHJsLnF1ZXVlLnB1c2godXBkYXRlMik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3RybC5zdGFydCh1cGRhdGUyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgdXNlT25jZSgoKSA9PiAoKSA9PiB7XG4gICAgZWFjaDUoc3RhdGUuY3RybHMsIChjdHJsKSA9PiBjdHJsLnN0b3AodHJ1ZSkpO1xuICB9KTtcbiAgY29uc3QgdmFsdWVzID0gc3ByaW5ncy5tYXAoKHgpID0+ICh7IC4uLnggfSkpO1xuICByZXR1cm4gcmVmID8gW3ZhbHVlcywgcmVmXSA6IHZhbHVlcztcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZy50c1xuZnVuY3Rpb24gdXNlU3ByaW5nKHByb3BzLCBkZXBzKSB7XG4gIGNvbnN0IGlzRm4gPSBpczkuZnVuKHByb3BzKTtcbiAgY29uc3QgW1t2YWx1ZXNdLCByZWZdID0gdXNlU3ByaW5ncyhcbiAgICAxLFxuICAgIGlzRm4gPyBwcm9wcyA6IFtwcm9wc10sXG4gICAgaXNGbiA/IGRlcHMgfHwgW10gOiBkZXBzXG4gICk7XG4gIHJldHVybiBpc0ZuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT0gMiA/IFt2YWx1ZXMsIHJlZl0gOiB2YWx1ZXM7XG59XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmdSZWYudHNcbmltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgaW5pdFNwcmluZ1JlZiA9ICgpID0+IFNwcmluZ1JlZigpO1xudmFyIHVzZVNwcmluZ1JlZiA9ICgpID0+IHVzZVN0YXRlKGluaXRTcHJpbmdSZWYpWzBdO1xuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5nVmFsdWUudHNcbmltcG9ydCB7IHVzZUNvbnN0YW50LCB1c2VPbmNlIGFzIHVzZU9uY2UyIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgdXNlU3ByaW5nVmFsdWUgPSAoaW5pdGlhbCwgcHJvcHMpID0+IHtcbiAgY29uc3Qgc3ByaW5nVmFsdWUgPSB1c2VDb25zdGFudCgoKSA9PiBuZXcgU3ByaW5nVmFsdWUoaW5pdGlhbCwgcHJvcHMpKTtcbiAgdXNlT25jZTIoKCkgPT4gKCkgPT4ge1xuICAgIHNwcmluZ1ZhbHVlLnN0b3AoKTtcbiAgfSk7XG4gIHJldHVybiBzcHJpbmdWYWx1ZTtcbn07XG5cbi8vIHNyYy9ob29rcy91c2VUcmFpbC50c1xuaW1wb3J0IHsgZWFjaCBhcyBlYWNoNiwgaXMgYXMgaXMxMCwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0MyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuZnVuY3Rpb24gdXNlVHJhaWwobGVuZ3RoLCBwcm9wc0FyZywgZGVwcykge1xuICBjb25zdCBwcm9wc0ZuID0gaXMxMC5mdW4ocHJvcHNBcmcpICYmIHByb3BzQXJnO1xuICBpZiAocHJvcHNGbiAmJiAhZGVwcylcbiAgICBkZXBzID0gW107XG4gIGxldCByZXZlcnNlID0gdHJ1ZTtcbiAgbGV0IHBhc3NlZFJlZiA9IHZvaWQgMDtcbiAgY29uc3QgcmVzdWx0ID0gdXNlU3ByaW5ncyhcbiAgICBsZW5ndGgsXG4gICAgKGksIGN0cmwpID0+IHtcbiAgICAgIGNvbnN0IHByb3BzID0gcHJvcHNGbiA/IHByb3BzRm4oaSwgY3RybCkgOiBwcm9wc0FyZztcbiAgICAgIHBhc3NlZFJlZiA9IHByb3BzLnJlZjtcbiAgICAgIHJldmVyc2UgPSByZXZlcnNlICYmIHByb3BzLnJldmVyc2U7XG4gICAgICByZXR1cm4gcHJvcHM7XG4gICAgfSxcbiAgICAvLyBFbnN1cmUgdGhlIHByb3BzIGZ1bmN0aW9uIGlzIGNhbGxlZCB3aGVuIG5vIGRlcHMgZXhpc3QuXG4gICAgLy8gVGhpcyB3b3JrcyBhcm91bmQgdGhlIDMgYXJndW1lbnQgcnVsZS5cbiAgICBkZXBzIHx8IFt7fV1cbiAgKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDMoKCkgPT4ge1xuICAgIGVhY2g2KHJlc3VsdFsxXS5jdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgY29uc3QgcGFyZW50ID0gcmVzdWx0WzFdLmN1cnJlbnRbaSArIChyZXZlcnNlID8gMSA6IC0xKV07XG4gICAgICByZXBsYWNlUmVmKGN0cmwsIHBhc3NlZFJlZik7XG4gICAgICBpZiAoY3RybC5yZWYpIHtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgIGN0cmwudXBkYXRlKHsgdG86IHBhcmVudC5zcHJpbmdzIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgY3RybC5zdGFydCh7IHRvOiBwYXJlbnQuc3ByaW5ncyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN0cmwuc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgZGVwcyk7XG4gIGlmIChwcm9wc0ZuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT0gMykge1xuICAgIGNvbnN0IHJlZiA9IHBhc3NlZFJlZiA/PyByZXN1bHRbMV07XG4gICAgcmVmW1wiX2dldFByb3BzXCJdID0gKHByb3BzQXJnMiwgY3RybCwgaSkgPT4ge1xuICAgICAgY29uc3QgcHJvcHMgPSBpczEwLmZ1bihwcm9wc0FyZzIpID8gcHJvcHNBcmcyKGksIGN0cmwpIDogcHJvcHNBcmcyO1xuICAgICAgaWYgKHByb3BzKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHJlZi5jdXJyZW50W2kgKyAocHJvcHMucmV2ZXJzZSA/IDEgOiAtMSldO1xuICAgICAgICBpZiAocGFyZW50KVxuICAgICAgICAgIHByb3BzLnRvID0gcGFyZW50LnNwcmluZ3M7XG4gICAgICAgIHJldHVybiBwcm9wcztcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFswXTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVRyYW5zaXRpb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb250ZXh0IGFzIHVzZUNvbnRleHQzLCB1c2VSZWYgYXMgdXNlUmVmMiwgdXNlTWVtbyBhcyB1c2VNZW1vMiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtcbiAgaXMgYXMgaXMxMSxcbiAgdG9BcnJheSBhcyB0b0FycmF5NCxcbiAgdXNlRm9yY2VVcGRhdGUgYXMgdXNlRm9yY2VVcGRhdGUyLFxuICB1c2VPbmNlIGFzIHVzZU9uY2UzLFxuICB1c2VQcmV2IGFzIHVzZVByZXYyLFxuICBlYWNoIGFzIGVhY2g3LFxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q0XG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuZnVuY3Rpb24gdXNlVHJhbnNpdGlvbihkYXRhLCBwcm9wcywgZGVwcykge1xuICBjb25zdCBwcm9wc0ZuID0gaXMxMS5mdW4ocHJvcHMpICYmIHByb3BzO1xuICBjb25zdCB7XG4gICAgcmVzZXQsXG4gICAgc29ydCxcbiAgICB0cmFpbCA9IDAsXG4gICAgZXhwaXJlcyA9IHRydWUsXG4gICAgZXhpdEJlZm9yZUVudGVyID0gZmFsc2UsXG4gICAgb25EZXN0cm95ZWQsXG4gICAgcmVmOiBwcm9wc1JlZixcbiAgICBjb25maWc6IHByb3BzQ29uZmlnXG4gIH0gPSBwcm9wc0ZuID8gcHJvcHNGbigpIDogcHJvcHM7XG4gIGNvbnN0IHJlZiA9IHVzZU1lbW8yKFxuICAgICgpID0+IHByb3BzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAzID8gU3ByaW5nUmVmKCkgOiB2b2lkIDAsXG4gICAgW11cbiAgKTtcbiAgY29uc3QgaXRlbXMgPSB0b0FycmF5NChkYXRhKTtcbiAgY29uc3QgdHJhbnNpdGlvbnMgPSBbXTtcbiAgY29uc3QgdXNlZFRyYW5zaXRpb25zID0gdXNlUmVmMihudWxsKTtcbiAgY29uc3QgcHJldlRyYW5zaXRpb25zID0gcmVzZXQgPyBudWxsIDogdXNlZFRyYW5zaXRpb25zLmN1cnJlbnQ7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q0KCgpID0+IHtcbiAgICB1c2VkVHJhbnNpdGlvbnMuY3VycmVudCA9IHRyYW5zaXRpb25zO1xuICB9KTtcbiAgdXNlT25jZTMoKCkgPT4ge1xuICAgIGVhY2g3KHRyYW5zaXRpb25zLCAodCkgPT4ge1xuICAgICAgcmVmPy5hZGQodC5jdHJsKTtcbiAgICAgIHQuY3RybC5yZWYgPSByZWY7XG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGVhY2g3KHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50LCAodCkgPT4ge1xuICAgICAgICBpZiAodC5leHBpcmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHQuZXhwaXJhdGlvbklkKTtcbiAgICAgICAgfVxuICAgICAgICBkZXRhY2hSZWZzKHQuY3RybCwgcmVmKTtcbiAgICAgICAgdC5jdHJsLnN0b3AodHJ1ZSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9KTtcbiAgY29uc3Qga2V5cyA9IGdldEtleXMoaXRlbXMsIHByb3BzRm4gPyBwcm9wc0ZuKCkgOiBwcm9wcywgcHJldlRyYW5zaXRpb25zKTtcbiAgY29uc3QgZXhwaXJlZCA9IHJlc2V0ICYmIHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50IHx8IFtdO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NChcbiAgICAoKSA9PiBlYWNoNyhleHBpcmVkLCAoeyBjdHJsLCBpdGVtLCBrZXkgfSkgPT4ge1xuICAgICAgZGV0YWNoUmVmcyhjdHJsLCByZWYpO1xuICAgICAgY2FsbFByb3Aob25EZXN0cm95ZWQsIGl0ZW0sIGtleSk7XG4gICAgfSlcbiAgKTtcbiAgY29uc3QgcmV1c2VkID0gW107XG4gIGlmIChwcmV2VHJhbnNpdGlvbnMpXG4gICAgZWFjaDcocHJldlRyYW5zaXRpb25zLCAodCwgaSkgPT4ge1xuICAgICAgaWYgKHQuZXhwaXJlZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodC5leHBpcmF0aW9uSWQpO1xuICAgICAgICBleHBpcmVkLnB1c2godCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpID0gcmV1c2VkW2ldID0ga2V5cy5pbmRleE9mKHQua2V5KTtcbiAgICAgICAgaWYgKH5pKVxuICAgICAgICAgIHRyYW5zaXRpb25zW2ldID0gdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgZWFjaDcoaXRlbXMsIChpdGVtLCBpKSA9PiB7XG4gICAgaWYgKCF0cmFuc2l0aW9uc1tpXSkge1xuICAgICAgdHJhbnNpdGlvbnNbaV0gPSB7XG4gICAgICAgIGtleToga2V5c1tpXSxcbiAgICAgICAgaXRlbSxcbiAgICAgICAgcGhhc2U6IFwibW91bnRcIiAvKiBNT1VOVCAqLyxcbiAgICAgICAgY3RybDogbmV3IENvbnRyb2xsZXIoKVxuICAgICAgfTtcbiAgICAgIHRyYW5zaXRpb25zW2ldLmN0cmwuaXRlbSA9IGl0ZW07XG4gICAgfVxuICB9KTtcbiAgaWYgKHJldXNlZC5sZW5ndGgpIHtcbiAgICBsZXQgaSA9IC0xO1xuICAgIGNvbnN0IHsgbGVhdmUgfSA9IHByb3BzRm4gPyBwcm9wc0ZuKCkgOiBwcm9wcztcbiAgICBlYWNoNyhyZXVzZWQsIChrZXlJbmRleCwgcHJldkluZGV4KSA9PiB7XG4gICAgICBjb25zdCB0ID0gcHJldlRyYW5zaXRpb25zW3ByZXZJbmRleF07XG4gICAgICBpZiAofmtleUluZGV4KSB7XG4gICAgICAgIGkgPSB0cmFuc2l0aW9ucy5pbmRleE9mKHQpO1xuICAgICAgICB0cmFuc2l0aW9uc1tpXSA9IHsgLi4udCwgaXRlbTogaXRlbXNba2V5SW5kZXhdIH07XG4gICAgICB9IGVsc2UgaWYgKGxlYXZlKSB7XG4gICAgICAgIHRyYW5zaXRpb25zLnNwbGljZSgrK2ksIDAsIHQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmIChpczExLmZ1bihzb3J0KSkge1xuICAgIHRyYW5zaXRpb25zLnNvcnQoKGEsIGIpID0+IHNvcnQoYS5pdGVtLCBiLml0ZW0pKTtcbiAgfVxuICBsZXQgZGVsYXkgPSAtdHJhaWw7XG4gIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUyKCk7XG4gIGNvbnN0IGRlZmF1bHRQcm9wcyA9IGdldERlZmF1bHRQcm9wcyhwcm9wcyk7XG4gIGNvbnN0IGNoYW5nZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBjb25zdCBleGl0aW5nVHJhbnNpdGlvbnMgPSB1c2VSZWYyKC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICBjb25zdCBmb3JjZUNoYW5nZSA9IHVzZVJlZjIoZmFsc2UpO1xuICBlYWNoNyh0cmFuc2l0aW9ucywgKHQsIGkpID0+IHtcbiAgICBjb25zdCBrZXkgPSB0LmtleTtcbiAgICBjb25zdCBwcmV2UGhhc2UgPSB0LnBoYXNlO1xuICAgIGNvbnN0IHAgPSBwcm9wc0ZuID8gcHJvcHNGbigpIDogcHJvcHM7XG4gICAgbGV0IHRvMjtcbiAgICBsZXQgcGhhc2U7XG4gICAgY29uc3QgcHJvcHNEZWxheSA9IGNhbGxQcm9wKHAuZGVsYXkgfHwgMCwga2V5KTtcbiAgICBpZiAocHJldlBoYXNlID09IFwibW91bnRcIiAvKiBNT1VOVCAqLykge1xuICAgICAgdG8yID0gcC5lbnRlcjtcbiAgICAgIHBoYXNlID0gXCJlbnRlclwiIC8qIEVOVEVSICovO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBpc0xlYXZlID0ga2V5cy5pbmRleE9mKGtleSkgPCAwO1xuICAgICAgaWYgKHByZXZQaGFzZSAhPSBcImxlYXZlXCIgLyogTEVBVkUgKi8pIHtcbiAgICAgICAgaWYgKGlzTGVhdmUpIHtcbiAgICAgICAgICB0bzIgPSBwLmxlYXZlO1xuICAgICAgICAgIHBoYXNlID0gXCJsZWF2ZVwiIC8qIExFQVZFICovO1xuICAgICAgICB9IGVsc2UgaWYgKHRvMiA9IHAudXBkYXRlKSB7XG4gICAgICAgICAgcGhhc2UgPSBcInVwZGF0ZVwiIC8qIFVQREFURSAqLztcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmICghaXNMZWF2ZSkge1xuICAgICAgICB0bzIgPSBwLmVudGVyO1xuICAgICAgICBwaGFzZSA9IFwiZW50ZXJcIiAvKiBFTlRFUiAqLztcbiAgICAgIH0gZWxzZVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRvMiA9IGNhbGxQcm9wKHRvMiwgdC5pdGVtLCBpKTtcbiAgICB0bzIgPSBpczExLm9iaih0bzIpID8gaW5mZXJUbyh0bzIpIDogeyB0bzogdG8yIH07XG4gICAgaWYgKCF0bzIuY29uZmlnKSB7XG4gICAgICBjb25zdCBjb25maWcyID0gcHJvcHNDb25maWcgfHwgZGVmYXVsdFByb3BzLmNvbmZpZztcbiAgICAgIHRvMi5jb25maWcgPSBjYWxsUHJvcChjb25maWcyLCB0Lml0ZW0sIGksIHBoYXNlKTtcbiAgICB9XG4gICAgZGVsYXkgKz0gdHJhaWw7XG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAgIC8vIHdlIG5lZWQgdG8gYWRkIG91ciBwcm9wcy5kZWxheSB2YWx1ZSB5b3UgaGVyZS5cbiAgICAgIGRlbGF5OiBwcm9wc0RlbGF5ICsgZGVsYXksXG4gICAgICByZWY6IHByb3BzUmVmLFxuICAgICAgaW1tZWRpYXRlOiBwLmltbWVkaWF0ZSxcbiAgICAgIC8vIFRoaXMgcHJldmVudHMgaW1wbGllZCByZXNldHMuXG4gICAgICByZXNldDogZmFsc2UsXG4gICAgICAvLyBNZXJnZSBhbnkgcGhhc2Utc3BlY2lmaWMgcHJvcHMuXG4gICAgICAuLi50bzJcbiAgICB9O1xuICAgIGlmIChwaGFzZSA9PSBcImVudGVyXCIgLyogRU5URVIgKi8gJiYgaXMxMS51bmQocGF5bG9hZC5mcm9tKSkge1xuICAgICAgY29uc3QgcDIgPSBwcm9wc0ZuID8gcHJvcHNGbigpIDogcHJvcHM7XG4gICAgICBjb25zdCBmcm9tID0gaXMxMS51bmQocDIuaW5pdGlhbCkgfHwgcHJldlRyYW5zaXRpb25zID8gcDIuZnJvbSA6IHAyLmluaXRpYWw7XG4gICAgICBwYXlsb2FkLmZyb20gPSBjYWxsUHJvcChmcm9tLCB0Lml0ZW0sIGkpO1xuICAgIH1cbiAgICBjb25zdCB7IG9uUmVzb2x2ZSB9ID0gcGF5bG9hZDtcbiAgICBwYXlsb2FkLm9uUmVzb2x2ZSA9IChyZXN1bHQpID0+IHtcbiAgICAgIGNhbGxQcm9wKG9uUmVzb2x2ZSwgcmVzdWx0KTtcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25zMiA9IHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50O1xuICAgICAgY29uc3QgdDIgPSB0cmFuc2l0aW9uczIuZmluZCgodDMpID0+IHQzLmtleSA9PT0ga2V5KTtcbiAgICAgIGlmICghdDIpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmIChyZXN1bHQuY2FuY2VsbGVkICYmIHQyLnBoYXNlICE9IFwidXBkYXRlXCIgLyogVVBEQVRFICovKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0Mi5jdHJsLmlkbGUpIHtcbiAgICAgICAgY29uc3QgaWRsZSA9IHRyYW5zaXRpb25zMi5ldmVyeSgodDMpID0+IHQzLmN0cmwuaWRsZSk7XG4gICAgICAgIGlmICh0Mi5waGFzZSA9PSBcImxlYXZlXCIgLyogTEVBVkUgKi8pIHtcbiAgICAgICAgICBjb25zdCBleHBpcnkgPSBjYWxsUHJvcChleHBpcmVzLCB0Mi5pdGVtKTtcbiAgICAgICAgICBpZiAoZXhwaXJ5ICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgY29uc3QgZXhwaXJ5TXMgPSBleHBpcnkgPT09IHRydWUgPyAwIDogZXhwaXJ5O1xuICAgICAgICAgICAgdDIuZXhwaXJlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIWlkbGUgJiYgZXhwaXJ5TXMgPiAwKSB7XG4gICAgICAgICAgICAgIGlmIChleHBpcnlNcyA8PSAyMTQ3NDgzNjQ3KVxuICAgICAgICAgICAgICAgIHQyLmV4cGlyYXRpb25JZCA9IHNldFRpbWVvdXQoZm9yY2VVcGRhdGUsIGV4cGlyeU1zKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaWRsZSAmJiB0cmFuc2l0aW9uczIuc29tZSgodDMpID0+IHQzLmV4cGlyZWQpKSB7XG4gICAgICAgICAgZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQuZGVsZXRlKHQyKTtcbiAgICAgICAgICBpZiAoZXhpdEJlZm9yZUVudGVyKSB7XG4gICAgICAgICAgICBmb3JjZUNoYW5nZS5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3ByaW5ncyA9IGdldFNwcmluZ3ModC5jdHJsLCBwYXlsb2FkKTtcbiAgICBpZiAocGhhc2UgPT09IFwibGVhdmVcIiAvKiBMRUFWRSAqLyAmJiBleGl0QmVmb3JlRW50ZXIpIHtcbiAgICAgIGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50LnNldCh0LCB7IHBoYXNlLCBzcHJpbmdzLCBwYXlsb2FkIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGFuZ2VzLnNldCh0LCB7IHBoYXNlLCBzcHJpbmdzLCBwYXlsb2FkIH0pO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0MyhTcHJpbmdDb250ZXh0KTtcbiAgY29uc3QgcHJldkNvbnRleHQgPSB1c2VQcmV2Mihjb250ZXh0KTtcbiAgY29uc3QgaGFzQ29udGV4dCA9IGNvbnRleHQgIT09IHByZXZDb250ZXh0ICYmIGhhc1Byb3BzKGNvbnRleHQpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NCgoKSA9PiB7XG4gICAgaWYgKGhhc0NvbnRleHQpIHtcbiAgICAgIGVhY2g3KHRyYW5zaXRpb25zLCAodCkgPT4ge1xuICAgICAgICB0LmN0cmwuc3RhcnQoeyBkZWZhdWx0OiBjb250ZXh0IH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCBbY29udGV4dF0pO1xuICBlYWNoNyhjaGFuZ2VzLCAoXywgdCkgPT4ge1xuICAgIGlmIChleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudC5zaXplKSB7XG4gICAgICBjb25zdCBpbmQgPSB0cmFuc2l0aW9ucy5maW5kSW5kZXgoKHN0YXRlKSA9PiBzdGF0ZS5rZXkgPT09IHQua2V5KTtcbiAgICAgIHRyYW5zaXRpb25zLnNwbGljZShpbmQsIDEpO1xuICAgIH1cbiAgfSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q0KFxuICAgICgpID0+IHtcbiAgICAgIGVhY2g3KFxuICAgICAgICBleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudC5zaXplID8gZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQgOiBjaGFuZ2VzLFxuICAgICAgICAoeyBwaGFzZSwgcGF5bG9hZCB9LCB0KSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBjdHJsIH0gPSB0O1xuICAgICAgICAgIHQucGhhc2UgPSBwaGFzZTtcbiAgICAgICAgICByZWY/LmFkZChjdHJsKTtcbiAgICAgICAgICBpZiAoaGFzQ29udGV4dCAmJiBwaGFzZSA9PSBcImVudGVyXCIgLyogRU5URVIgKi8pIHtcbiAgICAgICAgICAgIGN0cmwuc3RhcnQoeyBkZWZhdWx0OiBjb250ZXh0IH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGF5bG9hZCkge1xuICAgICAgICAgICAgcmVwbGFjZVJlZihjdHJsLCBwYXlsb2FkLnJlZik7XG4gICAgICAgICAgICBpZiAoKGN0cmwucmVmIHx8IHJlZikgJiYgIWZvcmNlQ2hhbmdlLmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgY3RybC51cGRhdGUocGF5bG9hZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjdHJsLnN0YXJ0KHBheWxvYWQpO1xuICAgICAgICAgICAgICBpZiAoZm9yY2VDaGFuZ2UuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGZvcmNlQ2hhbmdlLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9LFxuICAgIHJlc2V0ID8gdm9pZCAwIDogZGVwc1xuICApO1xuICBjb25zdCByZW5kZXJUcmFuc2l0aW9ucyA9IChyZW5kZXIpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSZWFjdDIuRnJhZ21lbnQsIG51bGwsIHRyYW5zaXRpb25zLm1hcCgodCwgaSkgPT4ge1xuICAgIGNvbnN0IHsgc3ByaW5ncyB9ID0gY2hhbmdlcy5nZXQodCkgfHwgdC5jdHJsO1xuICAgIGNvbnN0IGVsZW0gPSByZW5kZXIoeyAuLi5zcHJpbmdzIH0sIHQuaXRlbSwgdCwgaSk7XG4gICAgcmV0dXJuIGVsZW0gJiYgZWxlbS50eXBlID8gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgZWxlbS50eXBlLFxuICAgICAge1xuICAgICAgICAuLi5lbGVtLnByb3BzLFxuICAgICAgICBrZXk6IGlzMTEuc3RyKHQua2V5KSB8fCBpczExLm51bSh0LmtleSkgPyB0LmtleSA6IHQuY3RybC5pZCxcbiAgICAgICAgcmVmOiBlbGVtLnJlZlxuICAgICAgfVxuICAgICkgOiBlbGVtO1xuICB9KSk7XG4gIHJldHVybiByZWYgPyBbcmVuZGVyVHJhbnNpdGlvbnMsIHJlZl0gOiByZW5kZXJUcmFuc2l0aW9ucztcbn1cbnZhciBuZXh0S2V5ID0gMTtcbmZ1bmN0aW9uIGdldEtleXMoaXRlbXMsIHsga2V5LCBrZXlzID0ga2V5IH0sIHByZXZUcmFuc2l0aW9ucykge1xuICBpZiAoa2V5cyA9PT0gbnVsbCkge1xuICAgIGNvbnN0IHJldXNlZCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgcmV0dXJuIGl0ZW1zLm1hcCgoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgdCA9IHByZXZUcmFuc2l0aW9ucyAmJiBwcmV2VHJhbnNpdGlvbnMuZmluZChcbiAgICAgICAgKHQyKSA9PiB0Mi5pdGVtID09PSBpdGVtICYmIHQyLnBoYXNlICE9PSBcImxlYXZlXCIgLyogTEVBVkUgKi8gJiYgIXJldXNlZC5oYXModDIpXG4gICAgICApO1xuICAgICAgaWYgKHQpIHtcbiAgICAgICAgcmV1c2VkLmFkZCh0KTtcbiAgICAgICAgcmV0dXJuIHQua2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5leHRLZXkrKztcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gaXMxMS51bmQoa2V5cykgPyBpdGVtcyA6IGlzMTEuZnVuKGtleXMpID8gaXRlbXMubWFwKGtleXMpIDogdG9BcnJheTQoa2V5cyk7XG59XG5cbi8vIHNyYy9ob29rcy91c2VTY3JvbGwudHNcbmltcG9ydCB7IGVhY2ggYXMgZWFjaDgsIG9uU2Nyb2xsLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q1IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgdXNlU2Nyb2xsID0gKHtcbiAgY29udGFpbmVyLFxuICAuLi5zcHJpbmdPcHRpb25zXG59ID0ge30pID0+IHtcbiAgY29uc3QgW3Njcm9sbFZhbHVlcywgYXBpXSA9IHVzZVNwcmluZyhcbiAgICAoKSA9PiAoe1xuICAgICAgc2Nyb2xsWDogMCxcbiAgICAgIHNjcm9sbFk6IDAsXG4gICAgICBzY3JvbGxYUHJvZ3Jlc3M6IDAsXG4gICAgICBzY3JvbGxZUHJvZ3Jlc3M6IDAsXG4gICAgICAuLi5zcHJpbmdPcHRpb25zXG4gICAgfSksXG4gICAgW11cbiAgKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDUoKCkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXBTY3JvbGwgPSBvblNjcm9sbChcbiAgICAgICh7IHgsIHkgfSkgPT4ge1xuICAgICAgICBhcGkuc3RhcnQoe1xuICAgICAgICAgIHNjcm9sbFg6IHguY3VycmVudCxcbiAgICAgICAgICBzY3JvbGxYUHJvZ3Jlc3M6IHgucHJvZ3Jlc3MsXG4gICAgICAgICAgc2Nyb2xsWTogeS5jdXJyZW50LFxuICAgICAgICAgIHNjcm9sbFlQcm9ncmVzczogeS5wcm9ncmVzc1xuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB7IGNvbnRhaW5lcjogY29udGFpbmVyPy5jdXJyZW50IHx8IHZvaWQgMCB9XG4gICAgKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWFjaDgoT2JqZWN0LnZhbHVlcyhzY3JvbGxWYWx1ZXMpLCAodmFsdWUpID0+IHZhbHVlLnN0b3AoKSk7XG4gICAgICBjbGVhbnVwU2Nyb2xsKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gc2Nyb2xsVmFsdWVzO1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZVJlc2l6ZS50c1xuaW1wb3J0IHsgb25SZXNpemUsIGVhY2ggYXMgZWFjaDksIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDYgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciB1c2VSZXNpemUgPSAoe1xuICBjb250YWluZXIsXG4gIC4uLnNwcmluZ09wdGlvbnNcbn0pID0+IHtcbiAgY29uc3QgW3NpemVWYWx1ZXMsIGFwaV0gPSB1c2VTcHJpbmcoXG4gICAgKCkgPT4gKHtcbiAgICAgIHdpZHRoOiAwLFxuICAgICAgaGVpZ2h0OiAwLFxuICAgICAgLi4uc3ByaW5nT3B0aW9uc1xuICAgIH0pLFxuICAgIFtdXG4gICk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q2KCgpID0+IHtcbiAgICBjb25zdCBjbGVhbnVwU2Nyb2xsID0gb25SZXNpemUoXG4gICAgICAoeyB3aWR0aCwgaGVpZ2h0IH0pID0+IHtcbiAgICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgaW1tZWRpYXRlOiBzaXplVmFsdWVzLndpZHRoLmdldCgpID09PSAwIHx8IHNpemVWYWx1ZXMuaGVpZ2h0LmdldCgpID09PSAwXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHsgY29udGFpbmVyOiBjb250YWluZXI/LmN1cnJlbnQgfHwgdm9pZCAwIH1cbiAgICApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlYWNoOShPYmplY3QudmFsdWVzKHNpemVWYWx1ZXMpLCAodmFsdWUpID0+IHZhbHVlLnN0b3AoKSk7XG4gICAgICBjbGVhbnVwU2Nyb2xsKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gc2l6ZVZhbHVlcztcbn07XG5cbi8vIHNyYy9ob29rcy91c2VJblZpZXcudHNcbmltcG9ydCB7IHVzZVJlZiBhcyB1c2VSZWYzLCB1c2VTdGF0ZSBhcyB1c2VTdGF0ZTIgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGlzIGFzIGlzMTIsIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDcgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciBkZWZhdWx0VGhyZXNob2xkT3B0aW9ucyA9IHtcbiAgYW55OiAwLFxuICBhbGw6IDFcbn07XG5mdW5jdGlvbiB1c2VJblZpZXcocHJvcHMsIGFyZ3MpIHtcbiAgY29uc3QgW2lzSW5WaWV3LCBzZXRJc0luVmlld10gPSB1c2VTdGF0ZTIoZmFsc2UpO1xuICBjb25zdCByZWYgPSB1c2VSZWYzKCk7XG4gIGNvbnN0IHByb3BzRm4gPSBpczEyLmZ1bihwcm9wcykgJiYgcHJvcHM7XG4gIGNvbnN0IHNwcmluZ3NQcm9wcyA9IHByb3BzRm4gPyBwcm9wc0ZuKCkgOiB7fTtcbiAgY29uc3QgeyB0bzogdG8yID0ge30sIGZyb20gPSB7fSwgLi4ucmVzdFNwcmluZ1Byb3BzIH0gPSBzcHJpbmdzUHJvcHM7XG4gIGNvbnN0IGludGVyc2VjdGlvbkFyZ3VtZW50cyA9IHByb3BzRm4gPyBhcmdzIDogcHJvcHM7XG4gIGNvbnN0IFtzcHJpbmdzLCBhcGldID0gdXNlU3ByaW5nKCgpID0+ICh7IGZyb20sIC4uLnJlc3RTcHJpbmdQcm9wcyB9KSwgW10pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NygoKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IHJlZi5jdXJyZW50O1xuICAgIGNvbnN0IHtcbiAgICAgIHJvb3QsXG4gICAgICBvbmNlLFxuICAgICAgYW1vdW50ID0gXCJhbnlcIixcbiAgICAgIC4uLnJlc3RBcmdzXG4gICAgfSA9IGludGVyc2VjdGlvbkFyZ3VtZW50cyA/PyB7fTtcbiAgICBpZiAoIWVsZW1lbnQgfHwgb25jZSAmJiBpc0luVmlldyB8fCB0eXBlb2YgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPT09IFwidW5kZWZpbmVkXCIpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgYWN0aXZlSW50ZXJzZWN0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuICAgIGNvbnN0IG9uRW50ZXIgPSAoKSA9PiB7XG4gICAgICBpZiAodG8yKSB7XG4gICAgICAgIGFwaS5zdGFydCh0bzIpO1xuICAgICAgfVxuICAgICAgc2V0SXNJblZpZXcodHJ1ZSk7XG4gICAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgIGFwaS5zdGFydChmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRJc0luVmlldyhmYWxzZSk7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIG9uY2UgPyB2b2lkIDAgOiBjbGVhbnVwO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlSW50ZXJzZWN0aW9uID0gKGVudHJpZXMpID0+IHtcbiAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgY29uc3Qgb25MZWF2ZSA9IGFjdGl2ZUludGVyc2VjdGlvbnMuZ2V0KGVudHJ5LnRhcmdldCk7XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZyA9PT0gQm9vbGVhbihvbkxlYXZlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICBjb25zdCBuZXdPbkxlYXZlID0gb25FbnRlcigpO1xuICAgICAgICAgIGlmIChpczEyLmZ1bihuZXdPbkxlYXZlKSkge1xuICAgICAgICAgICAgYWN0aXZlSW50ZXJzZWN0aW9ucy5zZXQoZW50cnkudGFyZ2V0LCBuZXdPbkxlYXZlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG9uTGVhdmUpIHtcbiAgICAgICAgICBvbkxlYXZlKCk7XG4gICAgICAgICAgYWN0aXZlSW50ZXJzZWN0aW9ucy5kZWxldGUoZW50cnkudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihoYW5kbGVJbnRlcnNlY3Rpb24sIHtcbiAgICAgIHJvb3Q6IHJvb3QgJiYgcm9vdC5jdXJyZW50IHx8IHZvaWQgMCxcbiAgICAgIHRocmVzaG9sZDogdHlwZW9mIGFtb3VudCA9PT0gXCJudW1iZXJcIiB8fCBBcnJheS5pc0FycmF5KGFtb3VudCkgPyBhbW91bnQgOiBkZWZhdWx0VGhyZXNob2xkT3B0aW9uc1thbW91bnRdLFxuICAgICAgLi4ucmVzdEFyZ3NcbiAgICB9KTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQpO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci51bm9ic2VydmUoZWxlbWVudCk7XG4gIH0sIFtpbnRlcnNlY3Rpb25Bcmd1bWVudHNdKTtcbiAgaWYgKHByb3BzRm4pIHtcbiAgICByZXR1cm4gW3JlZiwgc3ByaW5nc107XG4gIH1cbiAgcmV0dXJuIFtyZWYsIGlzSW5WaWV3XTtcbn1cblxuLy8gc3JjL2NvbXBvbmVudHMvU3ByaW5nLnRzeFxuZnVuY3Rpb24gU3ByaW5nKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pIHtcbiAgcmV0dXJuIGNoaWxkcmVuKHVzZVNwcmluZyhwcm9wcykpO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9UcmFpbC50c3hcbmltcG9ydCB7IGlzIGFzIGlzMTMgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIFRyYWlsKHtcbiAgaXRlbXMsXG4gIGNoaWxkcmVuLFxuICAuLi5wcm9wc1xufSkge1xuICBjb25zdCB0cmFpbHMgPSB1c2VUcmFpbChpdGVtcy5sZW5ndGgsIHByb3BzKTtcbiAgcmV0dXJuIGl0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICBjb25zdCByZXN1bHQgPSBjaGlsZHJlbihpdGVtLCBpbmRleCk7XG4gICAgcmV0dXJuIGlzMTMuZnVuKHJlc3VsdCkgPyByZXN1bHQodHJhaWxzW2luZGV4XSkgOiByZXN1bHQ7XG4gIH0pO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9UcmFuc2l0aW9uLnRzeFxuZnVuY3Rpb24gVHJhbnNpdGlvbih7XG4gIGl0ZW1zLFxuICBjaGlsZHJlbixcbiAgLi4ucHJvcHNcbn0pIHtcbiAgcmV0dXJuIHVzZVRyYW5zaXRpb24oaXRlbXMsIHByb3BzKShjaGlsZHJlbik7XG59XG5cbi8vIHNyYy9pbnRlcnBvbGF0ZS50c1xuaW1wb3J0IHsgZGVwcmVjYXRlSW50ZXJwb2xhdGUgYXMgZGVwcmVjYXRlSW50ZXJwb2xhdGUyIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9JbnRlcnBvbGF0aW9uLnRzXG5pbXBvcnQge1xuICBpcyBhcyBpczE0LFxuICByYWYgYXMgcmFmNSxcbiAgZWFjaCBhcyBlYWNoMTAsXG4gIGlzRXF1YWwgYXMgaXNFcXVhbDIsXG4gIHRvQXJyYXkgYXMgdG9BcnJheTUsXG4gIGZyYW1lTG9vcCBhcyBmcmFtZUxvb3AzLFxuICBnZXRGbHVpZFZhbHVlIGFzIGdldEZsdWlkVmFsdWUzLFxuICBjcmVhdGVJbnRlcnBvbGF0b3IsXG4gIEdsb2JhbHMgYXMgRzYsXG4gIGNhbGxGbHVpZE9ic2VydmVycyBhcyBjYWxsRmx1aWRPYnNlcnZlcnMzLFxuICBhZGRGbHVpZE9ic2VydmVyIGFzIGFkZEZsdWlkT2JzZXJ2ZXIzLFxuICByZW1vdmVGbHVpZE9ic2VydmVyIGFzIHJlbW92ZUZsdWlkT2JzZXJ2ZXIyLFxuICBoYXNGbHVpZFZhbHVlIGFzIGhhc0ZsdWlkVmFsdWUyXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuaW1wb3J0IHtcbiAgZ2V0QW5pbWF0ZWQgYXMgZ2V0QW5pbWF0ZWQzLFxuICBzZXRBbmltYXRlZCBhcyBzZXRBbmltYXRlZDIsXG4gIGdldEFuaW1hdGVkVHlwZSBhcyBnZXRBbmltYXRlZFR5cGUyLFxuICBnZXRQYXlsb2FkIGFzIGdldFBheWxvYWQyXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL2FuaW1hdGVkXCI7XG52YXIgSW50ZXJwb2xhdGlvbiA9IGNsYXNzIGV4dGVuZHMgRnJhbWVWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZSwgYXJncykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgLyoqIEVxdWFscyBmYWxzZSB3aGVuIGluIHRoZSBmcmFtZWxvb3AgKi9cbiAgICB0aGlzLmlkbGUgPSB0cnVlO1xuICAgIC8qKiBUaGUgaW5wdXRzIHdoaWNoIGFyZSBjdXJyZW50bHkgYW5pbWF0aW5nICovXG4gICAgdGhpcy5fYWN0aXZlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICB0aGlzLmNhbGMgPSBjcmVhdGVJbnRlcnBvbGF0b3IoLi4uYXJncyk7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLl9nZXQoKTtcbiAgICBjb25zdCBub2RlVHlwZSA9IGdldEFuaW1hdGVkVHlwZTIodmFsdWUpO1xuICAgIHNldEFuaW1hdGVkMih0aGlzLCBub2RlVHlwZS5jcmVhdGUodmFsdWUpKTtcbiAgfVxuICBhZHZhbmNlKF9kdCkge1xuICAgIGNvbnN0IHZhbHVlID0gdGhpcy5fZ2V0KCk7XG4gICAgY29uc3Qgb2xkVmFsdWUgPSB0aGlzLmdldCgpO1xuICAgIGlmICghaXNFcXVhbDIodmFsdWUsIG9sZFZhbHVlKSkge1xuICAgICAgZ2V0QW5pbWF0ZWQzKHRoaXMpLnNldFZhbHVlKHZhbHVlKTtcbiAgICAgIHRoaXMuX29uQ2hhbmdlKHZhbHVlLCB0aGlzLmlkbGUpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuaWRsZSAmJiBjaGVja0lkbGUodGhpcy5fYWN0aXZlKSkge1xuICAgICAgYmVjb21lSWRsZSh0aGlzKTtcbiAgICB9XG4gIH1cbiAgX2dldCgpIHtcbiAgICBjb25zdCBpbnB1dHMgPSBpczE0LmFycih0aGlzLnNvdXJjZSkgPyB0aGlzLnNvdXJjZS5tYXAoZ2V0Rmx1aWRWYWx1ZTMpIDogdG9BcnJheTUoZ2V0Rmx1aWRWYWx1ZTModGhpcy5zb3VyY2UpKTtcbiAgICByZXR1cm4gdGhpcy5jYWxjKC4uLmlucHV0cyk7XG4gIH1cbiAgX3N0YXJ0KCkge1xuICAgIGlmICh0aGlzLmlkbGUgJiYgIWNoZWNrSWRsZSh0aGlzLl9hY3RpdmUpKSB7XG4gICAgICB0aGlzLmlkbGUgPSBmYWxzZTtcbiAgICAgIGVhY2gxMChnZXRQYXlsb2FkMih0aGlzKSwgKG5vZGUpID0+IHtcbiAgICAgICAgbm9kZS5kb25lID0gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGlmIChHNi5za2lwQW5pbWF0aW9uKSB7XG4gICAgICAgIHJhZjUuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4gdGhpcy5hZHZhbmNlKCkpO1xuICAgICAgICBiZWNvbWVJZGxlKHRoaXMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnJhbWVMb29wMy5zdGFydCh0aGlzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gT2JzZXJ2ZSBvdXIgc291cmNlcyBvbmx5IHdoZW4gd2UncmUgb2JzZXJ2ZWQuXG4gIF9hdHRhY2goKSB7XG4gICAgbGV0IHByaW9yaXR5ID0gMTtcbiAgICBlYWNoMTAodG9BcnJheTUodGhpcy5zb3VyY2UpLCAoc291cmNlKSA9PiB7XG4gICAgICBpZiAoaGFzRmx1aWRWYWx1ZTIoc291cmNlKSkge1xuICAgICAgICBhZGRGbHVpZE9ic2VydmVyMyhzb3VyY2UsIHRoaXMpO1xuICAgICAgfVxuICAgICAgaWYgKGlzRnJhbWVWYWx1ZShzb3VyY2UpKSB7XG4gICAgICAgIGlmICghc291cmNlLmlkbGUpIHtcbiAgICAgICAgICB0aGlzLl9hY3RpdmUuYWRkKHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcHJpb3JpdHkgPSBNYXRoLm1heChwcmlvcml0eSwgc291cmNlLnByaW9yaXR5ICsgMSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5wcmlvcml0eSA9IHByaW9yaXR5O1xuICAgIHRoaXMuX3N0YXJ0KCk7XG4gIH1cbiAgLy8gU3RvcCBvYnNlcnZpbmcgb3VyIHNvdXJjZXMgb25jZSB3ZSBoYXZlIG5vIG9ic2VydmVycy5cbiAgX2RldGFjaCgpIHtcbiAgICBlYWNoMTAodG9BcnJheTUodGhpcy5zb3VyY2UpLCAoc291cmNlKSA9PiB7XG4gICAgICBpZiAoaGFzRmx1aWRWYWx1ZTIoc291cmNlKSkge1xuICAgICAgICByZW1vdmVGbHVpZE9ic2VydmVyMihzb3VyY2UsIHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX2FjdGl2ZS5jbGVhcigpO1xuICAgIGJlY29tZUlkbGUodGhpcyk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgaWYgKGV2ZW50LmlkbGUpIHtcbiAgICAgICAgdGhpcy5hZHZhbmNlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hY3RpdmUuYWRkKGV2ZW50LnBhcmVudCk7XG4gICAgICAgIHRoaXMuX3N0YXJ0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09IFwiaWRsZVwiKSB7XG4gICAgICB0aGlzLl9hY3RpdmUuZGVsZXRlKGV2ZW50LnBhcmVudCk7XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09IFwicHJpb3JpdHlcIikge1xuICAgICAgdGhpcy5wcmlvcml0eSA9IHRvQXJyYXk1KHRoaXMuc291cmNlKS5yZWR1Y2UoXG4gICAgICAgIChoaWdoZXN0LCBwYXJlbnQpID0+IE1hdGgubWF4KGhpZ2hlc3QsIChpc0ZyYW1lVmFsdWUocGFyZW50KSA/IHBhcmVudC5wcmlvcml0eSA6IDApICsgMSksXG4gICAgICAgIDBcbiAgICAgICk7XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gaXNJZGxlKHNvdXJjZSkge1xuICByZXR1cm4gc291cmNlLmlkbGUgIT09IGZhbHNlO1xufVxuZnVuY3Rpb24gY2hlY2tJZGxlKGFjdGl2ZSkge1xuICByZXR1cm4gIWFjdGl2ZS5zaXplIHx8IEFycmF5LmZyb20oYWN0aXZlKS5ldmVyeShpc0lkbGUpO1xufVxuZnVuY3Rpb24gYmVjb21lSWRsZShzZWxmKSB7XG4gIGlmICghc2VsZi5pZGxlKSB7XG4gICAgc2VsZi5pZGxlID0gdHJ1ZTtcbiAgICBlYWNoMTAoZ2V0UGF5bG9hZDIoc2VsZiksIChub2RlKSA9PiB7XG4gICAgICBub2RlLmRvbmUgPSB0cnVlO1xuICAgIH0pO1xuICAgIGNhbGxGbHVpZE9ic2VydmVyczMoc2VsZiwge1xuICAgICAgdHlwZTogXCJpZGxlXCIsXG4gICAgICBwYXJlbnQ6IHNlbGZcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBzcmMvaW50ZXJwb2xhdGUudHNcbnZhciB0byA9IChzb3VyY2UsIC4uLmFyZ3MpID0+IG5ldyBJbnRlcnBvbGF0aW9uKHNvdXJjZSwgYXJncyk7XG52YXIgaW50ZXJwb2xhdGUgPSAoc291cmNlLCAuLi5hcmdzKSA9PiAoZGVwcmVjYXRlSW50ZXJwb2xhdGUyKCksIG5ldyBJbnRlcnBvbGF0aW9uKHNvdXJjZSwgYXJncykpO1xuXG4vLyBzcmMvZ2xvYmFscy50c1xuaW1wb3J0IHtcbiAgR2xvYmFscyxcbiAgZnJhbWVMb29wIGFzIGZyYW1lTG9vcDQsXG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvclxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbkdsb2JhbHMuYXNzaWduKHtcbiAgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yLFxuICB0bzogKHNvdXJjZSwgYXJncykgPT4gbmV3IEludGVycG9sYXRpb24oc291cmNlLCBhcmdzKVxufSk7XG52YXIgdXBkYXRlID0gZnJhbWVMb29wNC5hZHZhbmNlO1xuXG4vLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7XG4gIGNyZWF0ZUludGVycG9sYXRvciBhcyBjcmVhdGVJbnRlcnBvbGF0b3IyLFxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q4LFxuICB1c2VSZWR1Y2VkTW90aW9uLFxuICBlYXNpbmdzIGFzIGVhc2luZ3MyXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuZXhwb3J0ICogZnJvbSBcIkByZWFjdC1zcHJpbmcvdHlwZXNcIjtcbmV4cG9ydCB7XG4gIEJhaWxTaWduYWwsXG4gIENvbnRyb2xsZXIsXG4gIEZyYW1lVmFsdWUsXG4gIEdsb2JhbHMsXG4gIEludGVycG9sYXRpb24sXG4gIFNwcmluZyxcbiAgU3ByaW5nQ29udGV4dCxcbiAgU3ByaW5nUmVmLFxuICBTcHJpbmdWYWx1ZSxcbiAgVHJhaWwsXG4gIFRyYW5zaXRpb24sXG4gIGNvbmZpZyxcbiAgY3JlYXRlSW50ZXJwb2xhdG9yMiBhcyBjcmVhdGVJbnRlcnBvbGF0b3IsXG4gIGVhc2luZ3MyIGFzIGVhc2luZ3MsXG4gIGluZmVyVG8sXG4gIGludGVycG9sYXRlLFxuICB0byxcbiAgdXBkYXRlLFxuICB1c2VDaGFpbixcbiAgdXNlSW5WaWV3LFxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0OCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0LFxuICB1c2VSZWR1Y2VkTW90aW9uLFxuICB1c2VSZXNpemUsXG4gIHVzZVNjcm9sbCxcbiAgdXNlU3ByaW5nLFxuICB1c2VTcHJpbmdSZWYsXG4gIHVzZVNwcmluZ1ZhbHVlLFxuICB1c2VTcHJpbmdzLFxuICB1c2VUcmFpbCxcbiAgdXNlVHJhbnNpdGlvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXNwcmluZ19jb3JlLm1vZGVybi5tanMubWFwIiwKICAgICIvLyBzcmMvQW5pbWF0ZWQudHNcbmltcG9ydCB7IGRlZmluZUhpZGRlbiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyICRub2RlID0gU3ltYm9sLmZvcihcIkFuaW1hdGVkOm5vZGVcIik7XG52YXIgaXNBbmltYXRlZCA9ICh2YWx1ZSkgPT4gISF2YWx1ZSAmJiB2YWx1ZVskbm9kZV0gPT09IHZhbHVlO1xudmFyIGdldEFuaW1hdGVkID0gKG93bmVyKSA9PiBvd25lciAmJiBvd25lclskbm9kZV07XG52YXIgc2V0QW5pbWF0ZWQgPSAob3duZXIsIG5vZGUpID0+IGRlZmluZUhpZGRlbihvd25lciwgJG5vZGUsIG5vZGUpO1xudmFyIGdldFBheWxvYWQgPSAob3duZXIpID0+IG93bmVyICYmIG93bmVyWyRub2RlXSAmJiBvd25lclskbm9kZV0uZ2V0UGF5bG9hZCgpO1xudmFyIEFuaW1hdGVkID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzZXRBbmltYXRlZCh0aGlzLCB0aGlzKTtcbiAgfVxuICAvKiogR2V0IGV2ZXJ5IGBBbmltYXRlZFZhbHVlYCB1c2VkIGJ5IHRoaXMgbm9kZS4gKi9cbiAgZ2V0UGF5bG9hZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wYXlsb2FkIHx8IFtdO1xuICB9XG59O1xuXG4vLyBzcmMvQW5pbWF0ZWRWYWx1ZS50c1xuaW1wb3J0IHsgaXMgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciBBbmltYXRlZFZhbHVlID0gY2xhc3MgZXh0ZW5kcyBBbmltYXRlZCB7XG4gIGNvbnN0cnVjdG9yKF92YWx1ZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICB0aGlzLmR1cmF0aW9uUHJvZ3Jlc3MgPSAwO1xuICAgIGlmIChpcy5udW0odGhpcy5fdmFsdWUpKSB7XG4gICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHRoaXMuX3ZhbHVlO1xuICAgIH1cbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBjcmVhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkVmFsdWUodmFsdWUpO1xuICB9XG4gIGdldFBheWxvYWQoKSB7XG4gICAgcmV0dXJuIFt0aGlzXTtcbiAgfVxuICBnZXRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gIH1cbiAgc2V0VmFsdWUodmFsdWUsIHN0ZXApIHtcbiAgICBpZiAoaXMubnVtKHZhbHVlKSkge1xuICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgIGlmIChzdGVwKSB7XG4gICAgICAgIHZhbHVlID0gTWF0aC5yb3VuZCh2YWx1ZSAvIHN0ZXApICogc3RlcDtcbiAgICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuX3ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIGNvbnN0IHsgZG9uZSB9ID0gdGhpcztcbiAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICBpZiAoaXMubnVtKHRoaXMuX3ZhbHVlKSkge1xuICAgICAgdGhpcy5lbGFwc2VkVGltZSA9IDA7XG4gICAgICB0aGlzLmR1cmF0aW9uUHJvZ3Jlc3MgPSAwO1xuICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB0aGlzLl92YWx1ZTtcbiAgICAgIGlmIChkb25lKVxuICAgICAgICB0aGlzLmxhc3RWZWxvY2l0eSA9IG51bGw7XG4gICAgICB0aGlzLnYwID0gbnVsbDtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHNyYy9BbmltYXRlZFN0cmluZy50c1xuaW1wb3J0IHsgaXMgYXMgaXMyLCBjcmVhdGVJbnRlcnBvbGF0b3IgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciBBbmltYXRlZFN0cmluZyA9IGNsYXNzIGV4dGVuZHMgQW5pbWF0ZWRWYWx1ZSB7XG4gIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgc3VwZXIoMCk7XG4gICAgdGhpcy5fc3RyaW5nID0gbnVsbDtcbiAgICB0aGlzLl90b1N0cmluZyA9IGNyZWF0ZUludGVycG9sYXRvcih7XG4gICAgICBvdXRwdXQ6IFt2YWx1ZSwgdmFsdWVdXG4gICAgfSk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgY3JlYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZFN0cmluZyh2YWx1ZSk7XG4gIH1cbiAgZ2V0VmFsdWUoKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLl9zdHJpbmc7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyB0aGlzLl9zdHJpbmcgPSB0aGlzLl90b1N0cmluZyh0aGlzLl92YWx1ZSkgOiB2YWx1ZTtcbiAgfVxuICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmIChpczIuc3RyKHZhbHVlKSkge1xuICAgICAgaWYgKHZhbHVlID09IHRoaXMuX3N0cmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLl9zdHJpbmcgPSB2YWx1ZTtcbiAgICAgIHRoaXMuX3ZhbHVlID0gMTtcbiAgICB9IGVsc2UgaWYgKHN1cGVyLnNldFZhbHVlKHZhbHVlKSkge1xuICAgICAgdGhpcy5fc3RyaW5nID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXNldChnb2FsKSB7XG4gICAgaWYgKGdvYWwpIHtcbiAgICAgIHRoaXMuX3RvU3RyaW5nID0gY3JlYXRlSW50ZXJwb2xhdG9yKHtcbiAgICAgICAgb3V0cHV0OiBbdGhpcy5nZXRWYWx1ZSgpLCBnb2FsXVxuICAgICAgfSk7XG4gICAgfVxuICAgIHRoaXMuX3ZhbHVlID0gMDtcbiAgICBzdXBlci5yZXNldCgpO1xuICB9XG59O1xuXG4vLyBzcmMvQW5pbWF0ZWRBcnJheS50c1xuaW1wb3J0IHsgaXNBbmltYXRlZFN0cmluZyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvQW5pbWF0ZWRPYmplY3QudHNcbmltcG9ydCB7XG4gIGVhY2gsXG4gIGVhY2hQcm9wLFxuICBnZXRGbHVpZFZhbHVlLFxuICBoYXNGbHVpZFZhbHVlXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvY29udGV4dC50c1xudmFyIFRyZWVDb250ZXh0ID0geyBkZXBlbmRlbmNpZXM6IG51bGwgfTtcblxuLy8gc3JjL0FuaW1hdGVkT2JqZWN0LnRzXG52YXIgQW5pbWF0ZWRPYmplY3QgPSBjbGFzcyBleHRlbmRzIEFuaW1hdGVkIHtcbiAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB0aGlzLnNldFZhbHVlKHNvdXJjZSk7XG4gIH1cbiAgZ2V0VmFsdWUoYW5pbWF0ZWQpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB7fTtcbiAgICBlYWNoUHJvcCh0aGlzLnNvdXJjZSwgKHNvdXJjZSwga2V5KSA9PiB7XG4gICAgICBpZiAoaXNBbmltYXRlZChzb3VyY2UpKSB7XG4gICAgICAgIHZhbHVlc1trZXldID0gc291cmNlLmdldFZhbHVlKGFuaW1hdGVkKTtcbiAgICAgIH0gZWxzZSBpZiAoaGFzRmx1aWRWYWx1ZShzb3VyY2UpKSB7XG4gICAgICAgIHZhbHVlc1trZXldID0gZ2V0Rmx1aWRWYWx1ZShzb3VyY2UpO1xuICAgICAgfSBlbHNlIGlmICghYW5pbWF0ZWQpIHtcbiAgICAgICAgdmFsdWVzW2tleV0gPSBzb3VyY2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHZhbHVlcztcbiAgfVxuICAvKiogUmVwbGFjZSB0aGUgcmF3IG9iamVjdCBkYXRhICovXG4gIHNldFZhbHVlKHNvdXJjZSkge1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIHRoaXMucGF5bG9hZCA9IHRoaXMuX21ha2VQYXlsb2FkKHNvdXJjZSk7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgaWYgKHRoaXMucGF5bG9hZCkge1xuICAgICAgZWFjaCh0aGlzLnBheWxvYWQsIChub2RlKSA9PiBub2RlLnJlc2V0KCkpO1xuICAgIH1cbiAgfVxuICAvKiogQ3JlYXRlIGEgcGF5bG9hZCBzZXQuICovXG4gIF9tYWtlUGF5bG9hZChzb3VyY2UpIHtcbiAgICBpZiAoc291cmNlKSB7XG4gICAgICBjb25zdCBwYXlsb2FkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAgIGVhY2hQcm9wKHNvdXJjZSwgdGhpcy5fYWRkVG9QYXlsb2FkLCBwYXlsb2FkKTtcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKHBheWxvYWQpO1xuICAgIH1cbiAgfVxuICAvKiogQWRkIHRvIGEgcGF5bG9hZCBzZXQuICovXG4gIF9hZGRUb1BheWxvYWQoc291cmNlKSB7XG4gICAgaWYgKFRyZWVDb250ZXh0LmRlcGVuZGVuY2llcyAmJiBoYXNGbHVpZFZhbHVlKHNvdXJjZSkpIHtcbiAgICAgIFRyZWVDb250ZXh0LmRlcGVuZGVuY2llcy5hZGQoc291cmNlKTtcbiAgICB9XG4gICAgY29uc3QgcGF5bG9hZCA9IGdldFBheWxvYWQoc291cmNlKTtcbiAgICBpZiAocGF5bG9hZCkge1xuICAgICAgZWFjaChwYXlsb2FkLCAobm9kZSkgPT4gdGhpcy5hZGQobm9kZSkpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL0FuaW1hdGVkQXJyYXkudHNcbnZhciBBbmltYXRlZEFycmF5ID0gY2xhc3MgZXh0ZW5kcyBBbmltYXRlZE9iamVjdCB7XG4gIGNvbnN0cnVjdG9yKHNvdXJjZSkge1xuICAgIHN1cGVyKHNvdXJjZSk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdGF0aWMgY3JlYXRlKHNvdXJjZSkge1xuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRBcnJheShzb3VyY2UpO1xuICB9XG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLnNvdXJjZS5tYXAoKG5vZGUpID0+IG5vZGUuZ2V0VmFsdWUoKSk7XG4gIH1cbiAgc2V0VmFsdWUoc291cmNlKSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHRoaXMuZ2V0UGF5bG9hZCgpO1xuICAgIGlmIChzb3VyY2UubGVuZ3RoID09IHBheWxvYWQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gcGF5bG9hZC5tYXAoKG5vZGUsIGkpID0+IG5vZGUuc2V0VmFsdWUoc291cmNlW2ldKSkuc29tZShCb29sZWFuKTtcbiAgICB9XG4gICAgc3VwZXIuc2V0VmFsdWUoc291cmNlLm1hcChtYWtlQW5pbWF0ZWQpKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcbmZ1bmN0aW9uIG1ha2VBbmltYXRlZCh2YWx1ZSkge1xuICBjb25zdCBub2RlVHlwZSA9IGlzQW5pbWF0ZWRTdHJpbmcodmFsdWUpID8gQW5pbWF0ZWRTdHJpbmcgOiBBbmltYXRlZFZhbHVlO1xuICByZXR1cm4gbm9kZVR5cGUuY3JlYXRlKHZhbHVlKTtcbn1cblxuLy8gc3JjL2dldEFuaW1hdGVkVHlwZS50c1xuaW1wb3J0IHsgaXMgYXMgaXMzLCBpc0FuaW1hdGVkU3RyaW5nIGFzIGlzQW5pbWF0ZWRTdHJpbmcyIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiBnZXRBbmltYXRlZFR5cGUodmFsdWUpIHtcbiAgY29uc3QgcGFyZW50Tm9kZSA9IGdldEFuaW1hdGVkKHZhbHVlKTtcbiAgcmV0dXJuIHBhcmVudE5vZGUgPyBwYXJlbnROb2RlLmNvbnN0cnVjdG9yIDogaXMzLmFycih2YWx1ZSkgPyBBbmltYXRlZEFycmF5IDogaXNBbmltYXRlZFN0cmluZzIodmFsdWUpID8gQW5pbWF0ZWRTdHJpbmcgOiBBbmltYXRlZFZhbHVlO1xufVxuXG4vLyBzcmMvY3JlYXRlSG9zdC50c1xuaW1wb3J0IHsgaXMgYXMgaXM1LCBlYWNoUHJvcCBhcyBlYWNoUHJvcDIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL3dpdGhBbmltYXRlZC50c3hcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBpcyBhcyBpczQsXG4gIGVhY2ggYXMgZWFjaDIsXG4gIHJhZixcbiAgdXNlRm9yY2VVcGRhdGUsXG4gIHVzZU9uY2UsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIsXG4gIHJlbW92ZUZsdWlkT2JzZXJ2ZXIsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Rcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgd2l0aEFuaW1hdGVkID0gKENvbXBvbmVudCwgaG9zdCkgPT4ge1xuICBjb25zdCBoYXNJbnN0YW5jZSA9IChcbiAgICAvLyBGdW5jdGlvbiBjb21wb25lbnRzIG11c3QgdXNlIFwiZm9yd2FyZFJlZlwiIHRvIGF2b2lkIGJlaW5nXG4gICAgLy8gcmUtcmVuZGVyZWQgb24gZXZlcnkgYW5pbWF0aW9uIGZyYW1lLlxuICAgICFpczQuZnVuKENvbXBvbmVudCkgfHwgQ29tcG9uZW50LnByb3RvdHlwZSAmJiBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnRcbiAgKTtcbiAgcmV0dXJuIGZvcndhcmRSZWYoKGdpdmVuUHJvcHMsIGdpdmVuUmVmKSA9PiB7XG4gICAgY29uc3QgaW5zdGFuY2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgcmVmID0gaGFzSW5zdGFuY2UgJiYgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgdXNlQ2FsbGJhY2soXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgaW5zdGFuY2VSZWYuY3VycmVudCA9IHVwZGF0ZVJlZihnaXZlblJlZiwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIFtnaXZlblJlZl1cbiAgICApO1xuICAgIGNvbnN0IFtwcm9wcywgZGVwc10gPSBnZXRBbmltYXRlZFN0YXRlKGdpdmVuUHJvcHMsIGhvc3QpO1xuICAgIGNvbnN0IGZvcmNlVXBkYXRlID0gdXNlRm9yY2VVcGRhdGUoKTtcbiAgICBjb25zdCBjYWxsYmFjayA9ICgpID0+IHtcbiAgICAgIGNvbnN0IGluc3RhbmNlID0gaW5zdGFuY2VSZWYuY3VycmVudDtcbiAgICAgIGlmIChoYXNJbnN0YW5jZSAmJiAhaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGlkVXBkYXRlID0gaW5zdGFuY2UgPyBob3N0LmFwcGx5QW5pbWF0ZWRWYWx1ZXMoaW5zdGFuY2UsIHByb3BzLmdldFZhbHVlKHRydWUpKSA6IGZhbHNlO1xuICAgICAgaWYgKGRpZFVwZGF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZm9yY2VVcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IFByb3BzT2JzZXJ2ZXIoY2FsbGJhY2ssIGRlcHMpO1xuICAgIGNvbnN0IG9ic2VydmVyUmVmID0gdXNlUmVmKCk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gb2JzZXJ2ZXI7XG4gICAgICBlYWNoMihkZXBzLCAoZGVwKSA9PiBhZGRGbHVpZE9ic2VydmVyKGRlcCwgb2JzZXJ2ZXIpKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChvYnNlcnZlclJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgZWFjaDIoXG4gICAgICAgICAgICBvYnNlcnZlclJlZi5jdXJyZW50LmRlcHMsXG4gICAgICAgICAgICAoZGVwKSA9PiByZW1vdmVGbHVpZE9ic2VydmVyKGRlcCwgb2JzZXJ2ZXJSZWYuY3VycmVudClcbiAgICAgICAgICApO1xuICAgICAgICAgIHJhZi5jYW5jZWwob2JzZXJ2ZXJSZWYuY3VycmVudC51cGRhdGUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHVzZUVmZmVjdChjYWxsYmFjaywgW10pO1xuICAgIHVzZU9uY2UoKCkgPT4gKCkgPT4ge1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIyID0gb2JzZXJ2ZXJSZWYuY3VycmVudDtcbiAgICAgIGVhY2gyKG9ic2VydmVyMi5kZXBzLCAoZGVwKSA9PiByZW1vdmVGbHVpZE9ic2VydmVyKGRlcCwgb2JzZXJ2ZXIyKSk7XG4gICAgfSk7XG4gICAgY29uc3QgdXNlZFByb3BzID0gaG9zdC5nZXRDb21wb25lbnRQcm9wcyhwcm9wcy5nZXRWYWx1ZSgpKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7IC4uLnVzZWRQcm9wcywgcmVmIH0pO1xuICB9KTtcbn07XG52YXIgUHJvcHNPYnNlcnZlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IodXBkYXRlLCBkZXBzKSB7XG4gICAgdGhpcy51cGRhdGUgPSB1cGRhdGU7XG4gICAgdGhpcy5kZXBzID0gZGVwcztcbiAgfVxuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgcmFmLndyaXRlKHRoaXMudXBkYXRlKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBnZXRBbmltYXRlZFN0YXRlKHByb3BzLCBob3N0KSB7XG4gIGNvbnN0IGRlcGVuZGVuY2llcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIFRyZWVDb250ZXh0LmRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcztcbiAgaWYgKHByb3BzLnN0eWxlKVxuICAgIHByb3BzID0ge1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBzdHlsZTogaG9zdC5jcmVhdGVBbmltYXRlZFN0eWxlKHByb3BzLnN0eWxlKVxuICAgIH07XG4gIHByb3BzID0gbmV3IEFuaW1hdGVkT2JqZWN0KHByb3BzKTtcbiAgVHJlZUNvbnRleHQuZGVwZW5kZW5jaWVzID0gbnVsbDtcbiAgcmV0dXJuIFtwcm9wcywgZGVwZW5kZW5jaWVzXTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVJlZihyZWYsIHZhbHVlKSB7XG4gIGlmIChyZWYpIHtcbiAgICBpZiAoaXM0LmZ1bihyZWYpKVxuICAgICAgcmVmKHZhbHVlKTtcbiAgICBlbHNlXG4gICAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLy8gc3JjL2NyZWF0ZUhvc3QudHNcbnZhciBjYWNoZUtleSA9IFN5bWJvbC5mb3IoXCJBbmltYXRlZENvbXBvbmVudFwiKTtcbnZhciBjcmVhdGVIb3N0ID0gKGNvbXBvbmVudHMsIHtcbiAgYXBwbHlBbmltYXRlZFZhbHVlcyA9ICgpID0+IGZhbHNlLFxuICBjcmVhdGVBbmltYXRlZFN0eWxlID0gKHN0eWxlKSA9PiBuZXcgQW5pbWF0ZWRPYmplY3Qoc3R5bGUpLFxuICBnZXRDb21wb25lbnRQcm9wcyA9IChwcm9wcykgPT4gcHJvcHNcbn0gPSB7fSkgPT4ge1xuICBjb25zdCBob3N0Q29uZmlnID0ge1xuICAgIGFwcGx5QW5pbWF0ZWRWYWx1ZXMsXG4gICAgY3JlYXRlQW5pbWF0ZWRTdHlsZSxcbiAgICBnZXRDb21wb25lbnRQcm9wc1xuICB9O1xuICBjb25zdCBhbmltYXRlZCA9IChDb21wb25lbnQpID0+IHtcbiAgICBjb25zdCBkaXNwbGF5TmFtZSA9IGdldERpc3BsYXlOYW1lKENvbXBvbmVudCkgfHwgXCJBbm9ueW1vdXNcIjtcbiAgICBpZiAoaXM1LnN0cihDb21wb25lbnQpKSB7XG4gICAgICBDb21wb25lbnQgPSBhbmltYXRlZFtDb21wb25lbnRdIHx8IChhbmltYXRlZFtDb21wb25lbnRdID0gd2l0aEFuaW1hdGVkKENvbXBvbmVudCwgaG9zdENvbmZpZykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBDb21wb25lbnQgPSBDb21wb25lbnRbY2FjaGVLZXldIHx8IChDb21wb25lbnRbY2FjaGVLZXldID0gd2l0aEFuaW1hdGVkKENvbXBvbmVudCwgaG9zdENvbmZpZykpO1xuICAgIH1cbiAgICBDb21wb25lbnQuZGlzcGxheU5hbWUgPSBgQW5pbWF0ZWQoJHtkaXNwbGF5TmFtZX0pYDtcbiAgICByZXR1cm4gQ29tcG9uZW50O1xuICB9O1xuICBlYWNoUHJvcDIoY29tcG9uZW50cywgKENvbXBvbmVudCwga2V5KSA9PiB7XG4gICAgaWYgKGlzNS5hcnIoY29tcG9uZW50cykpIHtcbiAgICAgIGtleSA9IGdldERpc3BsYXlOYW1lKENvbXBvbmVudCk7XG4gICAgfVxuICAgIGFuaW1hdGVkW2tleV0gPSBhbmltYXRlZChDb21wb25lbnQpO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBhbmltYXRlZFxuICB9O1xufTtcbnZhciBnZXREaXNwbGF5TmFtZSA9IChhcmcpID0+IGlzNS5zdHIoYXJnKSA/IGFyZyA6IGFyZyAmJiBpczUuc3RyKGFyZy5kaXNwbGF5TmFtZSkgPyBhcmcuZGlzcGxheU5hbWUgOiBpczUuZnVuKGFyZykgJiYgYXJnLm5hbWUgfHwgbnVsbDtcbmV4cG9ydCB7XG4gIEFuaW1hdGVkLFxuICBBbmltYXRlZEFycmF5LFxuICBBbmltYXRlZE9iamVjdCxcbiAgQW5pbWF0ZWRTdHJpbmcsXG4gIEFuaW1hdGVkVmFsdWUsXG4gIGNyZWF0ZUhvc3QsXG4gIGdldEFuaW1hdGVkLFxuICBnZXRBbmltYXRlZFR5cGUsXG4gIGdldFBheWxvYWQsXG4gIGlzQW5pbWF0ZWQsXG4gIHNldEFuaW1hdGVkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3ByaW5nX2FuaW1hdGVkLm1vZGVybi5tanMubWFwIiwKICAgICIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IEdsb2JhbHMgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9jb3JlXCI7XG5pbXBvcnQgeyB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyB9IGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7IGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvciwgY29sb3JzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5pbXBvcnQgeyBjcmVhdGVIb3N0IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvYW5pbWF0ZWRcIjtcblxuLy8gc3JjL2FwcGx5QW5pbWF0ZWRWYWx1ZXMudHNcbnZhciBpc0N1c3RvbVByb3BSRSA9IC9eLS0vO1xuZnVuY3Rpb24gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShuYW1lLCB2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwiYm9vbGVhblwiIHx8IHZhbHVlID09PSBcIlwiKVxuICAgIHJldHVybiBcIlwiO1xuICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmIHZhbHVlICE9PSAwICYmICFpc0N1c3RvbVByb3BSRS50ZXN0KG5hbWUpICYmICEoaXNVbml0bGVzc051bWJlci5oYXNPd25Qcm9wZXJ0eShuYW1lKSAmJiBpc1VuaXRsZXNzTnVtYmVyW25hbWVdKSlcbiAgICByZXR1cm4gdmFsdWUgKyBcInB4XCI7XG4gIHJldHVybiAoXCJcIiArIHZhbHVlKS50cmltKCk7XG59XG52YXIgYXR0cmlidXRlQ2FjaGUgPSB7fTtcbmZ1bmN0aW9uIGFwcGx5QW5pbWF0ZWRWYWx1ZXMoaW5zdGFuY2UsIHByb3BzKSB7XG4gIGlmICghaW5zdGFuY2Uubm9kZVR5cGUgfHwgIWluc3RhbmNlLnNldEF0dHJpYnV0ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBpc0ZpbHRlckVsZW1lbnQgPSBpbnN0YW5jZS5ub2RlTmFtZSA9PT0gXCJmaWx0ZXJcIiB8fCBpbnN0YW5jZS5wYXJlbnROb2RlICYmIGluc3RhbmNlLnBhcmVudE5vZGUubm9kZU5hbWUgPT09IFwiZmlsdGVyXCI7XG4gIGNvbnN0IHtcbiAgICBjbGFzc05hbWUsXG4gICAgc3R5bGUsXG4gICAgY2hpbGRyZW4sXG4gICAgc2Nyb2xsVG9wLFxuICAgIHNjcm9sbExlZnQsXG4gICAgdmlld0JveCxcbiAgICAuLi5hdHRyaWJ1dGVzXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhhdHRyaWJ1dGVzKTtcbiAgY29uc3QgbmFtZXMgPSBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5tYXAoXG4gICAgKG5hbWUpID0+IGlzRmlsdGVyRWxlbWVudCB8fCBpbnN0YW5jZS5oYXNBdHRyaWJ1dGUobmFtZSkgPyBuYW1lIDogYXR0cmlidXRlQ2FjaGVbbmFtZV0gfHwgKGF0dHJpYnV0ZUNhY2hlW25hbWVdID0gbmFtZS5yZXBsYWNlKFxuICAgICAgLyhbQS1aXSkvZyxcbiAgICAgIC8vIEF0dHJpYnV0ZXMgYXJlIHdyaXR0ZW4gaW4gZGFzaCBjYXNlXG4gICAgICAobikgPT4gXCItXCIgKyBuLnRvTG93ZXJDYXNlKClcbiAgICApKVxuICApO1xuICBpZiAoY2hpbGRyZW4gIT09IHZvaWQgMCkge1xuICAgIGluc3RhbmNlLnRleHRDb250ZW50ID0gY2hpbGRyZW47XG4gIH1cbiAgZm9yIChjb25zdCBuYW1lIGluIHN0eWxlKSB7XG4gICAgaWYgKHN0eWxlLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGRhbmdlcm91c1N0eWxlVmFsdWUobmFtZSwgc3R5bGVbbmFtZV0pO1xuICAgICAgaWYgKGlzQ3VzdG9tUHJvcFJFLnRlc3QobmFtZSkpIHtcbiAgICAgICAgaW5zdGFuY2Uuc3R5bGUuc2V0UHJvcGVydHkobmFtZSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2Uuc3R5bGVbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbmFtZXMuZm9yRWFjaCgobmFtZSwgaSkgPT4ge1xuICAgIGluc3RhbmNlLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZXNbaV0pO1xuICB9KTtcbiAgaWYgKGNsYXNzTmFtZSAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2UuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICB9XG4gIGlmIChzY3JvbGxUb3AgIT09IHZvaWQgMCkge1xuICAgIGluc3RhbmNlLnNjcm9sbFRvcCA9IHNjcm9sbFRvcDtcbiAgfVxuICBpZiAoc2Nyb2xsTGVmdCAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2Uuc2Nyb2xsTGVmdCA9IHNjcm9sbExlZnQ7XG4gIH1cbiAgaWYgKHZpZXdCb3ggIT09IHZvaWQgMCkge1xuICAgIGluc3RhbmNlLnNldEF0dHJpYnV0ZShcInZpZXdCb3hcIiwgdmlld0JveCk7XG4gIH1cbn1cbnZhciBpc1VuaXRsZXNzTnVtYmVyID0ge1xuICBhbmltYXRpb25JdGVyYXRpb25Db3VudDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VPdXRzZXQ6IHRydWUsXG4gIGJvcmRlckltYWdlU2xpY2U6IHRydWUsXG4gIGJvcmRlckltYWdlV2lkdGg6IHRydWUsXG4gIGJveEZsZXg6IHRydWUsXG4gIGJveEZsZXhHcm91cDogdHJ1ZSxcbiAgYm94T3JkaW5hbEdyb3VwOiB0cnVlLFxuICBjb2x1bW5Db3VudDogdHJ1ZSxcbiAgY29sdW1uczogdHJ1ZSxcbiAgZmxleDogdHJ1ZSxcbiAgZmxleEdyb3c6IHRydWUsXG4gIGZsZXhQb3NpdGl2ZTogdHJ1ZSxcbiAgZmxleFNocmluazogdHJ1ZSxcbiAgZmxleE5lZ2F0aXZlOiB0cnVlLFxuICBmbGV4T3JkZXI6IHRydWUsXG4gIGdyaWRSb3c6IHRydWUsXG4gIGdyaWRSb3dFbmQ6IHRydWUsXG4gIGdyaWRSb3dTcGFuOiB0cnVlLFxuICBncmlkUm93U3RhcnQ6IHRydWUsXG4gIGdyaWRDb2x1bW46IHRydWUsXG4gIGdyaWRDb2x1bW5FbmQ6IHRydWUsXG4gIGdyaWRDb2x1bW5TcGFuOiB0cnVlLFxuICBncmlkQ29sdW1uU3RhcnQ6IHRydWUsXG4gIGZvbnRXZWlnaHQ6IHRydWUsXG4gIGxpbmVDbGFtcDogdHJ1ZSxcbiAgbGluZUhlaWdodDogdHJ1ZSxcbiAgb3BhY2l0eTogdHJ1ZSxcbiAgb3JkZXI6IHRydWUsXG4gIG9ycGhhbnM6IHRydWUsXG4gIHRhYlNpemU6IHRydWUsXG4gIHdpZG93czogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuICB6b29tOiB0cnVlLFxuICAvLyBTVkctcmVsYXRlZCBwcm9wZXJ0aWVzXG4gIGZpbGxPcGFjaXR5OiB0cnVlLFxuICBmbG9vZE9wYWNpdHk6IHRydWUsXG4gIHN0b3BPcGFjaXR5OiB0cnVlLFxuICBzdHJva2VEYXNoYXJyYXk6IHRydWUsXG4gIHN0cm9rZURhc2hvZmZzZXQ6IHRydWUsXG4gIHN0cm9rZU1pdGVybGltaXQ6IHRydWUsXG4gIHN0cm9rZU9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZVdpZHRoOiB0cnVlXG59O1xudmFyIHByZWZpeEtleSA9IChwcmVmaXgsIGtleSkgPT4gcHJlZml4ICsga2V5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsga2V5LnN1YnN0cmluZygxKTtcbnZhciBwcmVmaXhlcyA9IFtcIldlYmtpdFwiLCBcIk1zXCIsIFwiTW96XCIsIFwiT1wiXTtcbmlzVW5pdGxlc3NOdW1iZXIgPSBPYmplY3Qua2V5cyhpc1VuaXRsZXNzTnVtYmVyKS5yZWR1Y2UoKGFjYywgcHJvcCkgPT4ge1xuICBwcmVmaXhlcy5mb3JFYWNoKChwcmVmaXgpID0+IGFjY1twcmVmaXhLZXkocHJlZml4LCBwcm9wKV0gPSBhY2NbcHJvcF0pO1xuICByZXR1cm4gYWNjO1xufSwgaXNVbml0bGVzc051bWJlcik7XG5cbi8vIHNyYy9BbmltYXRlZFN0eWxlLnRzXG5pbXBvcnQgeyBBbmltYXRlZE9iamVjdCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL2FuaW1hdGVkXCI7XG5pbXBvcnQge1xuICBpcyxcbiAgZWFjaCxcbiAgdG9BcnJheSxcbiAgZWFjaFByb3AsXG4gIEZsdWlkVmFsdWUsXG4gIGdldEZsdWlkVmFsdWUsXG4gIGNhbGxGbHVpZE9ic2VydmVycyxcbiAgaGFzRmx1aWRWYWx1ZSxcbiAgYWRkRmx1aWRPYnNlcnZlcixcbiAgcmVtb3ZlRmx1aWRPYnNlcnZlclxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciBkb21UcmFuc2Zvcm1zID0gL14obWF0cml4fHRyYW5zbGF0ZXxzY2FsZXxyb3RhdGV8c2tldykvO1xudmFyIHB4VHJhbnNmb3JtcyA9IC9eKHRyYW5zbGF0ZSkvO1xudmFyIGRlZ1RyYW5zZm9ybXMgPSAvXihyb3RhdGV8c2tldykvO1xudmFyIGFkZFVuaXQgPSAodmFsdWUsIHVuaXQpID0+IGlzLm51bSh2YWx1ZSkgJiYgdmFsdWUgIT09IDAgPyB2YWx1ZSArIHVuaXQgOiB2YWx1ZTtcbnZhciBpc1ZhbHVlSWRlbnRpdHkgPSAodmFsdWUsIGlkKSA9PiBpcy5hcnIodmFsdWUpID8gdmFsdWUuZXZlcnkoKHYpID0+IGlzVmFsdWVJZGVudGl0eSh2LCBpZCkpIDogaXMubnVtKHZhbHVlKSA/IHZhbHVlID09PSBpZCA6IHBhcnNlRmxvYXQodmFsdWUpID09PSBpZDtcbnZhciBBbmltYXRlZFN0eWxlID0gY2xhc3MgZXh0ZW5kcyBBbmltYXRlZE9iamVjdCB7XG4gIGNvbnN0cnVjdG9yKHsgeCwgeSwgeiwgLi4uc3R5bGUgfSkge1xuICAgIGNvbnN0IGlucHV0cyA9IFtdO1xuICAgIGNvbnN0IHRyYW5zZm9ybXMgPSBbXTtcbiAgICBpZiAoeCB8fCB5IHx8IHopIHtcbiAgICAgIGlucHV0cy5wdXNoKFt4IHx8IDAsIHkgfHwgMCwgeiB8fCAwXSk7XG4gICAgICB0cmFuc2Zvcm1zLnB1c2goKHh5eikgPT4gW1xuICAgICAgICBgdHJhbnNsYXRlM2QoJHt4eXoubWFwKCh2KSA9PiBhZGRVbml0KHYsIFwicHhcIikpLmpvaW4oXCIsXCIpfSlgLFxuICAgICAgICAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgaXNWYWx1ZUlkZW50aXR5KHh5eiwgMClcbiAgICAgIF0pO1xuICAgIH1cbiAgICBlYWNoUHJvcChzdHlsZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGlmIChrZXkgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgaW5wdXRzLnB1c2goW3ZhbHVlIHx8IFwiXCJdKTtcbiAgICAgICAgdHJhbnNmb3Jtcy5wdXNoKCh0cmFuc2Zvcm0pID0+IFt0cmFuc2Zvcm0sIHRyYW5zZm9ybSA9PT0gXCJcIl0pO1xuICAgICAgfSBlbHNlIGlmIChkb21UcmFuc2Zvcm1zLnRlc3Qoa2V5KSkge1xuICAgICAgICBkZWxldGUgc3R5bGVba2V5XTtcbiAgICAgICAgaWYgKGlzLnVuZCh2YWx1ZSkpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB1bml0ID0gcHhUcmFuc2Zvcm1zLnRlc3Qoa2V5KSA/IFwicHhcIiA6IGRlZ1RyYW5zZm9ybXMudGVzdChrZXkpID8gXCJkZWdcIiA6IFwiXCI7XG4gICAgICAgIGlucHV0cy5wdXNoKHRvQXJyYXkodmFsdWUpKTtcbiAgICAgICAgdHJhbnNmb3Jtcy5wdXNoKFxuICAgICAgICAgIGtleSA9PT0gXCJyb3RhdGUzZFwiID8gKFt4MiwgeTIsIHoyLCBkZWddKSA9PiBbXG4gICAgICAgICAgICBgcm90YXRlM2QoJHt4Mn0sJHt5Mn0sJHt6Mn0sJHthZGRVbml0KGRlZywgdW5pdCl9KWAsXG4gICAgICAgICAgICBpc1ZhbHVlSWRlbnRpdHkoZGVnLCAwKVxuICAgICAgICAgIF0gOiAoaW5wdXQpID0+IFtcbiAgICAgICAgICAgIGAke2tleX0oJHtpbnB1dC5tYXAoKHYpID0+IGFkZFVuaXQodiwgdW5pdCkpLmpvaW4oXCIsXCIpfSlgLFxuICAgICAgICAgICAgaXNWYWx1ZUlkZW50aXR5KGlucHV0LCBrZXkuc3RhcnRzV2l0aChcInNjYWxlXCIpID8gMSA6IDApXG4gICAgICAgICAgXVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnB1dHMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS50cmFuc2Zvcm0gPSBuZXcgRmx1aWRUcmFuc2Zvcm0oaW5wdXRzLCB0cmFuc2Zvcm1zKTtcbiAgICB9XG4gICAgc3VwZXIoc3R5bGUpO1xuICB9XG59O1xudmFyIEZsdWlkVHJhbnNmb3JtID0gY2xhc3MgZXh0ZW5kcyBGbHVpZFZhbHVlIHtcbiAgY29uc3RydWN0b3IoaW5wdXRzLCB0cmFuc2Zvcm1zKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmlucHV0cyA9IGlucHV0cztcbiAgICB0aGlzLnRyYW5zZm9ybXMgPSB0cmFuc2Zvcm1zO1xuICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcbiAgfVxuICBnZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlIHx8ICh0aGlzLl92YWx1ZSA9IHRoaXMuX2dldCgpKTtcbiAgfVxuICBfZ2V0KCkge1xuICAgIGxldCB0cmFuc2Zvcm0gPSBcIlwiO1xuICAgIGxldCBpZGVudGl0eSA9IHRydWU7XG4gICAgZWFjaCh0aGlzLmlucHV0cywgKGlucHV0LCBpKSA9PiB7XG4gICAgICBjb25zdCBhcmcxID0gZ2V0Rmx1aWRWYWx1ZShpbnB1dFswXSk7XG4gICAgICBjb25zdCBbdCwgaWRdID0gdGhpcy50cmFuc2Zvcm1zW2ldKFxuICAgICAgICBpcy5hcnIoYXJnMSkgPyBhcmcxIDogaW5wdXQubWFwKGdldEZsdWlkVmFsdWUpXG4gICAgICApO1xuICAgICAgdHJhbnNmb3JtICs9IFwiIFwiICsgdDtcbiAgICAgIGlkZW50aXR5ID0gaWRlbnRpdHkgJiYgaWQ7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlkZW50aXR5ID8gXCJub25lXCIgOiB0cmFuc2Zvcm07XG4gIH1cbiAgLy8gU3RhcnQgb2JzZXJ2aW5nIG91ciBpbnB1dHMgb25jZSB3ZSBoYXZlIGFuIG9ic2VydmVyLlxuICBvYnNlcnZlckFkZGVkKGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09IDEpXG4gICAgICBlYWNoKFxuICAgICAgICB0aGlzLmlucHV0cyxcbiAgICAgICAgKGlucHV0KSA9PiBlYWNoKFxuICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICh2YWx1ZSkgPT4gaGFzRmx1aWRWYWx1ZSh2YWx1ZSkgJiYgYWRkRmx1aWRPYnNlcnZlcih2YWx1ZSwgdGhpcylcbiAgICAgICAgKVxuICAgICAgKTtcbiAgfVxuICAvLyBTdG9wIG9ic2VydmluZyBvdXIgaW5wdXRzIG9uY2Ugd2UgaGF2ZSBubyBvYnNlcnZlcnMuXG4gIG9ic2VydmVyUmVtb3ZlZChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSAwKVxuICAgICAgZWFjaChcbiAgICAgICAgdGhpcy5pbnB1dHMsXG4gICAgICAgIChpbnB1dCkgPT4gZWFjaChcbiAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAodmFsdWUpID0+IGhhc0ZsdWlkVmFsdWUodmFsdWUpICYmIHJlbW92ZUZsdWlkT2JzZXJ2ZXIodmFsdWUsIHRoaXMpXG4gICAgICAgIClcbiAgICAgICk7XG4gIH1cbiAgZXZlbnRPYnNlcnZlZChldmVudCkge1xuICAgIGlmIChldmVudC50eXBlID09IFwiY2hhbmdlXCIpIHtcbiAgICAgIHRoaXMuX3ZhbHVlID0gbnVsbDtcbiAgICB9XG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzKHRoaXMsIGV2ZW50KTtcbiAgfVxufTtcblxuLy8gc3JjL3ByaW1pdGl2ZXMudHNcbnZhciBwcmltaXRpdmVzID0gW1xuICBcImFcIixcbiAgXCJhYmJyXCIsXG4gIFwiYWRkcmVzc1wiLFxuICBcImFyZWFcIixcbiAgXCJhcnRpY2xlXCIsXG4gIFwiYXNpZGVcIixcbiAgXCJhdWRpb1wiLFxuICBcImJcIixcbiAgXCJiYXNlXCIsXG4gIFwiYmRpXCIsXG4gIFwiYmRvXCIsXG4gIFwiYmlnXCIsXG4gIFwiYmxvY2txdW90ZVwiLFxuICBcImJvZHlcIixcbiAgXCJiclwiLFxuICBcImJ1dHRvblwiLFxuICBcImNhbnZhc1wiLFxuICBcImNhcHRpb25cIixcbiAgXCJjaXRlXCIsXG4gIFwiY29kZVwiLFxuICBcImNvbFwiLFxuICBcImNvbGdyb3VwXCIsXG4gIFwiZGF0YVwiLFxuICBcImRhdGFsaXN0XCIsXG4gIFwiZGRcIixcbiAgXCJkZWxcIixcbiAgXCJkZXRhaWxzXCIsXG4gIFwiZGZuXCIsXG4gIFwiZGlhbG9nXCIsXG4gIFwiZGl2XCIsXG4gIFwiZGxcIixcbiAgXCJkdFwiLFxuICBcImVtXCIsXG4gIFwiZW1iZWRcIixcbiAgXCJmaWVsZHNldFwiLFxuICBcImZpZ2NhcHRpb25cIixcbiAgXCJmaWd1cmVcIixcbiAgXCJmb290ZXJcIixcbiAgXCJmb3JtXCIsXG4gIFwiaDFcIixcbiAgXCJoMlwiLFxuICBcImgzXCIsXG4gIFwiaDRcIixcbiAgXCJoNVwiLFxuICBcImg2XCIsXG4gIFwiaGVhZFwiLFxuICBcImhlYWRlclwiLFxuICBcImhncm91cFwiLFxuICBcImhyXCIsXG4gIFwiaHRtbFwiLFxuICBcImlcIixcbiAgXCJpZnJhbWVcIixcbiAgXCJpbWdcIixcbiAgXCJpbnB1dFwiLFxuICBcImluc1wiLFxuICBcImtiZFwiLFxuICBcImtleWdlblwiLFxuICBcImxhYmVsXCIsXG4gIFwibGVnZW5kXCIsXG4gIFwibGlcIixcbiAgXCJsaW5rXCIsXG4gIFwibWFpblwiLFxuICBcIm1hcFwiLFxuICBcIm1hcmtcIixcbiAgXCJtZW51XCIsXG4gIFwibWVudWl0ZW1cIixcbiAgXCJtZXRhXCIsXG4gIFwibWV0ZXJcIixcbiAgXCJuYXZcIixcbiAgXCJub3NjcmlwdFwiLFxuICBcIm9iamVjdFwiLFxuICBcIm9sXCIsXG4gIFwib3B0Z3JvdXBcIixcbiAgXCJvcHRpb25cIixcbiAgXCJvdXRwdXRcIixcbiAgXCJwXCIsXG4gIFwicGFyYW1cIixcbiAgXCJwaWN0dXJlXCIsXG4gIFwicHJlXCIsXG4gIFwicHJvZ3Jlc3NcIixcbiAgXCJxXCIsXG4gIFwicnBcIixcbiAgXCJydFwiLFxuICBcInJ1YnlcIixcbiAgXCJzXCIsXG4gIFwic2FtcFwiLFxuICBcInNjcmlwdFwiLFxuICBcInNlY3Rpb25cIixcbiAgXCJzZWxlY3RcIixcbiAgXCJzbWFsbFwiLFxuICBcInNvdXJjZVwiLFxuICBcInNwYW5cIixcbiAgXCJzdHJvbmdcIixcbiAgXCJzdHlsZVwiLFxuICBcInN1YlwiLFxuICBcInN1bW1hcnlcIixcbiAgXCJzdXBcIixcbiAgXCJ0YWJsZVwiLFxuICBcInRib2R5XCIsXG4gIFwidGRcIixcbiAgXCJ0ZXh0YXJlYVwiLFxuICBcInRmb290XCIsXG4gIFwidGhcIixcbiAgXCJ0aGVhZFwiLFxuICBcInRpbWVcIixcbiAgXCJ0aXRsZVwiLFxuICBcInRyXCIsXG4gIFwidHJhY2tcIixcbiAgXCJ1XCIsXG4gIFwidWxcIixcbiAgXCJ2YXJcIixcbiAgXCJ2aWRlb1wiLFxuICBcIndiclwiLFxuICAvLyBTVkdcbiAgXCJjaXJjbGVcIixcbiAgXCJjbGlwUGF0aFwiLFxuICBcImRlZnNcIixcbiAgXCJlbGxpcHNlXCIsXG4gIFwiZm9yZWlnbk9iamVjdFwiLFxuICBcImdcIixcbiAgXCJpbWFnZVwiLFxuICBcImxpbmVcIixcbiAgXCJsaW5lYXJHcmFkaWVudFwiLFxuICBcIm1hc2tcIixcbiAgXCJwYXRoXCIsXG4gIFwicGF0dGVyblwiLFxuICBcInBvbHlnb25cIixcbiAgXCJwb2x5bGluZVwiLFxuICBcInJhZGlhbEdyYWRpZW50XCIsXG4gIFwicmVjdFwiLFxuICBcInN0b3BcIixcbiAgXCJzdmdcIixcbiAgXCJ0ZXh0XCIsXG4gIFwidHNwYW5cIlxuXTtcblxuLy8gc3JjL2luZGV4LnRzXG5leHBvcnQgKiBmcm9tIFwiQHJlYWN0LXNwcmluZy9jb3JlXCI7XG5HbG9iYWxzLmFzc2lnbih7XG4gIGJhdGNoZWRVcGRhdGVzOiB1bnN0YWJsZV9iYXRjaGVkVXBkYXRlcyxcbiAgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yLFxuICBjb2xvcnNcbn0pO1xudmFyIGhvc3QgPSBjcmVhdGVIb3N0KHByaW1pdGl2ZXMsIHtcbiAgYXBwbHlBbmltYXRlZFZhbHVlcyxcbiAgY3JlYXRlQW5pbWF0ZWRTdHlsZTogKHN0eWxlKSA9PiBuZXcgQW5pbWF0ZWRTdHlsZShzdHlsZSksXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgZ2V0Q29tcG9uZW50UHJvcHM6ICh7IHNjcm9sbFRvcCwgc2Nyb2xsTGVmdCwgLi4ucHJvcHMgfSkgPT4gcHJvcHNcbn0pO1xudmFyIGFuaW1hdGVkID0gaG9zdC5hbmltYXRlZDtcbmV4cG9ydCB7XG4gIGFuaW1hdGVkIGFzIGEsXG4gIGFuaW1hdGVkXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3ByaW5nX3dlYi5tb2Rlcm4ubWpzLm1hcCIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBiaW5kKGZuLCB0aGlzQXJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKCkge1xuICAgIHJldHVybiBmbi5hcHBseSh0aGlzQXJnLCBhcmd1bWVudHMpO1xuICB9O1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBiaW5kIGZyb20gJy4vaGVscGVycy9iaW5kLmpzJztcblxuLy8gdXRpbHMgaXMgYSBsaWJyYXJ5IG9mIGdlbmVyaWMgaGVscGVyIGZ1bmN0aW9ucyBub24tc3BlY2lmaWMgdG8gYXhpb3NcblxuY29uc3Qge3RvU3RyaW5nfSA9IE9iamVjdC5wcm90b3R5cGU7XG5jb25zdCB7Z2V0UHJvdG90eXBlT2Z9ID0gT2JqZWN0O1xuXG5jb25zdCBraW5kT2YgPSAoY2FjaGUgPT4gdGhpbmcgPT4ge1xuICAgIGNvbnN0IHN0ciA9IHRvU3RyaW5nLmNhbGwodGhpbmcpO1xuICAgIHJldHVybiBjYWNoZVtzdHJdIHx8IChjYWNoZVtzdHJdID0gc3RyLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpKTtcbn0pKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuXG5jb25zdCBraW5kT2ZUZXN0ID0gKHR5cGUpID0+IHtcbiAgdHlwZSA9IHR5cGUudG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuICh0aGluZykgPT4ga2luZE9mKHRoaW5nKSA9PT0gdHlwZVxufVxuXG5jb25zdCB0eXBlT2ZUZXN0ID0gdHlwZSA9PiB0aGluZyA9PiB0eXBlb2YgdGhpbmcgPT09IHR5cGU7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXksIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCB7aXNBcnJheX0gPSBBcnJheTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyB1bmRlZmluZWRcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSB2YWx1ZSBpcyB1bmRlZmluZWQsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1VuZGVmaW5lZCA9IHR5cGVPZlRlc3QoJ3VuZGVmaW5lZCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICByZXR1cm4gdmFsICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwpICYmIHZhbC5jb25zdHJ1Y3RvciAhPT0gbnVsbCAmJiAhaXNVbmRlZmluZWQodmFsLmNvbnN0cnVjdG9yKVxuICAgICYmIGlzRnVuY3Rpb24odmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKSAmJiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0FycmF5QnVmZmVyID0ga2luZE9mVGVzdCgnQXJyYXlCdWZmZXInKTtcblxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheUJ1ZmZlclZpZXcodmFsKSB7XG4gIGxldCByZXN1bHQ7XG4gIGlmICgodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJykgJiYgKEFycmF5QnVmZmVyLmlzVmlldykpIHtcbiAgICByZXN1bHQgPSBBcnJheUJ1ZmZlci5pc1ZpZXcodmFsKTtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAodmFsKSAmJiAodmFsLmJ1ZmZlcikgJiYgKGlzQXJyYXlCdWZmZXIodmFsLmJ1ZmZlcikpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJpbmcgPSB0eXBlT2ZUZXN0KCdzdHJpbmcnKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Z1bmN0aW9uID0gdHlwZU9mVGVzdCgnZnVuY3Rpb24nKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIE51bWJlclxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBOdW1iZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc051bWJlciA9IHR5cGVPZlRlc3QoJ251bWJlcicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc09iamVjdCA9ICh0aGluZykgPT4gdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JztcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEJvb2xlYW5cbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJvb2xlYW4sIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jvb2xlYW4gPSB0aGluZyA9PiB0aGluZyA9PT0gdHJ1ZSB8fCB0aGluZyA9PT0gZmFsc2U7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgcGxhaW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNQbGFpbk9iamVjdCA9ICh2YWwpID0+IHtcbiAgaWYgKGtpbmRPZih2YWwpICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IHByb3RvdHlwZSA9IGdldFByb3RvdHlwZU9mKHZhbCk7XG4gIHJldHVybiAocHJvdG90eXBlID09PSBudWxsIHx8IHByb3RvdHlwZSA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG90eXBlKSA9PT0gbnVsbCkgJiYgIShTeW1ib2wudG9TdHJpbmdUYWcgaW4gdmFsKSAmJiAhKFN5bWJvbC5pdGVyYXRvciBpbiB2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRGF0ZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNEYXRlID0ga2luZE9mVGVzdCgnRGF0ZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZVxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlID0ga2luZE9mVGVzdCgnRmlsZScpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQmxvYlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNCbG9iID0ga2luZE9mVGVzdCgnQmxvYicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRmlsZUxpc3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRmlsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRmlsZUxpc3QgPSBraW5kT2ZUZXN0KCdGaWxlTGlzdCcpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmVhbSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzU3RyZWFtID0gKHZhbCkgPT4gaXNPYmplY3QodmFsKSAmJiBpc0Z1bmN0aW9uKHZhbC5waXBlKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGb3JtRGF0YSA9ICh0aGluZykgPT4ge1xuICBsZXQga2luZDtcbiAgcmV0dXJuIHRoaW5nICYmIChcbiAgICAodHlwZW9mIEZvcm1EYXRhID09PSAnZnVuY3Rpb24nICYmIHRoaW5nIGluc3RhbmNlb2YgRm9ybURhdGEpIHx8IChcbiAgICAgIGlzRnVuY3Rpb24odGhpbmcuYXBwZW5kKSAmJiAoXG4gICAgICAgIChraW5kID0ga2luZE9mKHRoaW5nKSkgPT09ICdmb3JtZGF0YScgfHxcbiAgICAgICAgLy8gZGV0ZWN0IGZvcm0tZGF0YSBpbnN0YW5jZVxuICAgICAgICAoa2luZCA9PT0gJ29iamVjdCcgJiYgaXNGdW5jdGlvbih0aGluZy50b1N0cmluZykgJiYgdGhpbmcudG9TdHJpbmcoKSA9PT0gJ1tvYmplY3QgRm9ybURhdGFdJylcbiAgICAgIClcbiAgICApXG4gIClcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVVJMU2VhcmNoUGFyYW1zID0ga2luZE9mVGVzdCgnVVJMU2VhcmNoUGFyYW1zJyk7XG5cbmNvbnN0IFtpc1JlYWRhYmxlU3RyZWFtLCBpc1JlcXVlc3QsIGlzUmVzcG9uc2UsIGlzSGVhZGVyc10gPSBbJ1JlYWRhYmxlU3RyZWFtJywgJ1JlcXVlc3QnLCAnUmVzcG9uc2UnLCAnSGVhZGVycyddLm1hcChraW5kT2ZUZXN0KTtcblxuLyoqXG4gKiBUcmltIGV4Y2VzcyB3aGl0ZXNwYWNlIG9mZiB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gdHJpbVxuICpcbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuY29uc3QgdHJpbSA9IChzdHIpID0+IHN0ci50cmltID9cbiAgc3RyLnRyaW0oKSA6IHN0ci5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZywgJycpO1xuXG4vKipcbiAqIEl0ZXJhdGUgb3ZlciBhbiBBcnJheSBvciBhbiBPYmplY3QgaW52b2tpbmcgYSBmdW5jdGlvbiBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmIGBvYmpgIGlzIGFuIEFycmF5IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwgaW5kZXgsIGFuZCBjb21wbGV0ZSBhcnJheSBmb3IgZWFjaCBpdGVtLlxuICpcbiAqIElmICdvYmonIGlzIGFuIE9iamVjdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGtleSwgYW5kIGNvbXBsZXRlIG9iamVjdCBmb3IgZWFjaCBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIFRoZSBvYmplY3QgdG8gaXRlcmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGNhbGxiYWNrIHRvIGludm9rZSBmb3IgZWFjaCBpdGVtXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5cyA9IGZhbHNlXVxuICogQHJldHVybnMge2FueX1cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaChvYmosIGZuLCB7YWxsT3duS2V5cyA9IGZhbHNlfSA9IHt9KSB7XG4gIC8vIERvbid0IGJvdGhlciBpZiBubyB2YWx1ZSBwcm92aWRlZFxuICBpZiAob2JqID09PSBudWxsIHx8IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IGk7XG4gIGxldCBsO1xuXG4gIC8vIEZvcmNlIGFuIGFycmF5IGlmIG5vdCBhbHJlYWR5IHNvbWV0aGluZyBpdGVyYWJsZVxuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICBvYmogPSBbb2JqXTtcbiAgfVxuXG4gIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgYXJyYXkgdmFsdWVzXG4gICAgZm9yIChpID0gMCwgbCA9IG9iai5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2ldLCBpLCBvYmopO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBJdGVyYXRlIG92ZXIgb2JqZWN0IGtleXNcbiAgICBjb25zdCBrZXlzID0gYWxsT3duS2V5cyA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iaikgOiBPYmplY3Qua2V5cyhvYmopO1xuICAgIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBrZXk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICBmbi5jYWxsKG51bGwsIG9ialtrZXldLCBrZXksIG9iaik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZpbmRLZXkob2JqLCBrZXkpIHtcbiAga2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICBsZXQgX2tleTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBfa2V5ID0ga2V5c1tpXTtcbiAgICBpZiAoa2V5ID09PSBfa2V5LnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgIHJldHVybiBfa2V5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgX2dsb2JhbCA9ICgoKSA9PiB7XG4gIC8qZXNsaW50IG5vLXVuZGVmOjAqL1xuICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09IFwidW5kZWZpbmVkXCIpIHJldHVybiBnbG9iYWxUaGlzO1xuICByZXR1cm4gdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogZ2xvYmFsKVxufSkoKTtcblxuY29uc3QgaXNDb250ZXh0RGVmaW5lZCA9IChjb250ZXh0KSA9PiAhaXNVbmRlZmluZWQoY29udGV4dCkgJiYgY29udGV4dCAhPT0gX2dsb2JhbDtcblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKlxuICogQHJldHVybnMge09iamVjdH0gUmVzdWx0IG9mIGFsbCBtZXJnZSBwcm9wZXJ0aWVzXG4gKi9cbmZ1bmN0aW9uIG1lcmdlKC8qIG9iajEsIG9iajIsIG9iajMsIC4uLiAqLykge1xuICBjb25zdCB7Y2FzZWxlc3N9ID0gaXNDb250ZXh0RGVmaW5lZCh0aGlzKSAmJiB0aGlzIHx8IHt9O1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgY29uc3QgYXNzaWduVmFsdWUgPSAodmFsLCBrZXkpID0+IHtcbiAgICBjb25zdCB0YXJnZXRLZXkgPSBjYXNlbGVzcyAmJiBmaW5kS2V5KHJlc3VsdCwga2V5KSB8fCBrZXk7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QocmVzdWx0W3RhcmdldEtleV0pICYmIGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZShyZXN1bHRbdGFyZ2V0S2V5XSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSBtZXJnZSh7fSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWwuc2xpY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W3RhcmdldEtleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yIChsZXQgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJndW1lbnRzW2ldICYmIGZvckVhY2goYXJndW1lbnRzW2ldLCBhc3NpZ25WYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBFeHRlbmRzIG9iamVjdCBhIGJ5IG11dGFibHkgYWRkaW5nIHRvIGl0IHRoZSBwcm9wZXJ0aWVzIG9mIG9iamVjdCBiLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhIFRoZSBvYmplY3QgdG8gYmUgZXh0ZW5kZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBiIFRoZSBvYmplY3QgdG8gY29weSBwcm9wZXJ0aWVzIGZyb21cbiAqIEBwYXJhbSB7T2JqZWN0fSB0aGlzQXJnIFRoZSBvYmplY3QgdG8gYmluZCBmdW5jdGlvbiB0b1xuICpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2FsbE93bktleXNdXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgcmVzdWx0aW5nIHZhbHVlIG9mIG9iamVjdCBhXG4gKi9cbmNvbnN0IGV4dGVuZCA9IChhLCBiLCB0aGlzQXJnLCB7YWxsT3duS2V5c309IHt9KSA9PiB7XG4gIGZvckVhY2goYiwgKHZhbCwga2V5KSA9PiB7XG4gICAgaWYgKHRoaXNBcmcgJiYgaXNGdW5jdGlvbih2YWwpKSB7XG4gICAgICBhW2tleV0gPSBiaW5kKHZhbCwgdGhpc0FyZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba2V5XSA9IHZhbDtcbiAgICB9XG4gIH0sIHthbGxPd25LZXlzfSk7XG4gIHJldHVybiBhO1xufVxuXG4vKipcbiAqIFJlbW92ZSBieXRlIG9yZGVyIG1hcmtlci4gVGhpcyBjYXRjaGVzIEVGIEJCIEJGICh0aGUgVVRGLTggQk9NKVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50IHdpdGggQk9NXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gY29udGVudCB2YWx1ZSB3aXRob3V0IEJPTVxuICovXG5jb25zdCBzdHJpcEJPTSA9IChjb250ZW50KSA9PiB7XG4gIGlmIChjb250ZW50LmNoYXJDb2RlQXQoMCkgPT09IDB4RkVGRikge1xuICAgIGNvbnRlbnQgPSBjb250ZW50LnNsaWNlKDEpO1xuICB9XG4gIHJldHVybiBjb250ZW50O1xufVxuXG4vKipcbiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ29uc3RydWN0b3JcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcHJvcHNdXG4gKiBAcGFyYW0ge29iamVjdH0gW2Rlc2NyaXB0b3JzXVxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBpbmhlcml0cyA9IChjb25zdHJ1Y3Rvciwgc3VwZXJDb25zdHJ1Y3RvciwgcHJvcHMsIGRlc2NyaXB0b3JzKSA9PiB7XG4gIGNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGRlc2NyaXB0b3JzKTtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY29uc3RydWN0b3I7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb25zdHJ1Y3RvciwgJ3N1cGVyJywge1xuICAgIHZhbHVlOiBzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZVxuICB9KTtcbiAgcHJvcHMgJiYgT2JqZWN0LmFzc2lnbihjb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3BzKTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlIG9iamVjdCB3aXRoIGRlZXAgcHJvdG90eXBlIGNoYWluIHRvIGEgZmxhdCBvYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2VPYmogc291cmNlIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IFtkZXN0T2JqXVxuICogQHBhcmFtIHtGdW5jdGlvbnxCb29sZWFufSBbZmlsdGVyXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BGaWx0ZXJdXG4gKlxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuY29uc3QgdG9GbGF0T2JqZWN0ID0gKHNvdXJjZU9iaiwgZGVzdE9iaiwgZmlsdGVyLCBwcm9wRmlsdGVyKSA9PiB7XG4gIGxldCBwcm9wcztcbiAgbGV0IGk7XG4gIGxldCBwcm9wO1xuICBjb25zdCBtZXJnZWQgPSB7fTtcblxuICBkZXN0T2JqID0gZGVzdE9iaiB8fCB7fTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIGlmIChzb3VyY2VPYmogPT0gbnVsbCkgcmV0dXJuIGRlc3RPYmo7XG5cbiAgZG8ge1xuICAgIHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoc291cmNlT2JqKTtcbiAgICBpID0gcHJvcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICBwcm9wID0gcHJvcHNbaV07XG4gICAgICBpZiAoKCFwcm9wRmlsdGVyIHx8IHByb3BGaWx0ZXIocHJvcCwgc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgIW1lcmdlZFtwcm9wXSkge1xuICAgICAgICBkZXN0T2JqW3Byb3BdID0gc291cmNlT2JqW3Byb3BdO1xuICAgICAgICBtZXJnZWRbcHJvcF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzb3VyY2VPYmogPSBmaWx0ZXIgIT09IGZhbHNlICYmIGdldFByb3RvdHlwZU9mKHNvdXJjZU9iaik7XG4gIH0gd2hpbGUgKHNvdXJjZU9iaiAmJiAoIWZpbHRlciB8fCBmaWx0ZXIoc291cmNlT2JqLCBkZXN0T2JqKSkgJiYgc291cmNlT2JqICE9PSBPYmplY3QucHJvdG90eXBlKTtcblxuICByZXR1cm4gZGVzdE9iajtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgZW5kcyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGEgc3BlY2lmaWVkIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWFyY2hTdHJpbmdcbiAqIEBwYXJhbSB7TnVtYmVyfSBbcG9zaXRpb249IDBdXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IGVuZHNXaXRoID0gKHN0ciwgc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT4ge1xuICBzdHIgPSBTdHJpbmcoc3RyKTtcbiAgaWYgKHBvc2l0aW9uID09PSB1bmRlZmluZWQgfHwgcG9zaXRpb24gPiBzdHIubGVuZ3RoKSB7XG4gICAgcG9zaXRpb24gPSBzdHIubGVuZ3RoO1xuICB9XG4gIHBvc2l0aW9uIC09IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gIGNvbnN0IGxhc3RJbmRleCA9IHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pO1xuICByZXR1cm4gbGFzdEluZGV4ICE9PSAtMSAmJiBsYXN0SW5kZXggPT09IHBvc2l0aW9uO1xufVxuXG5cbi8qKlxuICogUmV0dXJucyBuZXcgYXJyYXkgZnJvbSBhcnJheSBsaWtlIG9iamVjdCBvciBudWxsIGlmIGZhaWxlZFxuICpcbiAqIEBwYXJhbSB7Kn0gW3RoaW5nXVxuICpcbiAqIEByZXR1cm5zIHs/QXJyYXl9XG4gKi9cbmNvbnN0IHRvQXJyYXkgPSAodGhpbmcpID0+IHtcbiAgaWYgKCF0aGluZykgcmV0dXJuIG51bGw7XG4gIGlmIChpc0FycmF5KHRoaW5nKSkgcmV0dXJuIHRoaW5nO1xuICBsZXQgaSA9IHRoaW5nLmxlbmd0aDtcbiAgaWYgKCFpc051bWJlcihpKSkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGFyciA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBhcnJbaV0gPSB0aGluZ1tpXTtcbiAgfVxuICByZXR1cm4gYXJyO1xufVxuXG4vKipcbiAqIENoZWNraW5nIGlmIHRoZSBVaW50OEFycmF5IGV4aXN0cyBhbmQgaWYgaXQgZG9lcywgaXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmIHRoZVxuICogdGhpbmcgcGFzc2VkIGluIGlzIGFuIGluc3RhbmNlIG9mIFVpbnQ4QXJyYXlcbiAqXG4gKiBAcGFyYW0ge1R5cGVkQXJyYXl9XG4gKlxuICogQHJldHVybnMge0FycmF5fVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuY29uc3QgaXNUeXBlZEFycmF5ID0gKFR5cGVkQXJyYXkgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gdGhpbmcgPT4ge1xuICAgIHJldHVybiBUeXBlZEFycmF5ICYmIHRoaW5nIGluc3RhbmNlb2YgVHlwZWRBcnJheTtcbiAgfTtcbn0pKHR5cGVvZiBVaW50OEFycmF5ICE9PSAndW5kZWZpbmVkJyAmJiBnZXRQcm90b3R5cGVPZihVaW50OEFycmF5KSk7XG5cbi8qKlxuICogRm9yIGVhY2ggZW50cnkgaW4gdGhlIG9iamVjdCwgY2FsbCB0aGUgZnVuY3Rpb24gd2l0aCB0aGUga2V5IGFuZCB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBlbnRyeS5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuY29uc3QgZm9yRWFjaEVudHJ5ID0gKG9iaiwgZm4pID0+IHtcbiAgY29uc3QgZ2VuZXJhdG9yID0gb2JqICYmIG9ialtTeW1ib2wuaXRlcmF0b3JdO1xuXG4gIGNvbnN0IGl0ZXJhdG9yID0gZ2VuZXJhdG9yLmNhbGwob2JqKTtcblxuICBsZXQgcmVzdWx0O1xuXG4gIHdoaWxlICgocmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpKSAmJiAhcmVzdWx0LmRvbmUpIHtcbiAgICBjb25zdCBwYWlyID0gcmVzdWx0LnZhbHVlO1xuICAgIGZuLmNhbGwob2JqLCBwYWlyWzBdLCBwYWlyWzFdKTtcbiAgfVxufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcmVndWxhciBleHByZXNzaW9uIGFuZCBhIHN0cmluZywgYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgYWxsIHRoZSBtYXRjaGVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHJlZ0V4cCAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gdG8gbWF0Y2ggYWdhaW5zdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBUaGUgc3RyaW5nIHRvIHNlYXJjaC5cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXk8Ym9vbGVhbj59XG4gKi9cbmNvbnN0IG1hdGNoQWxsID0gKHJlZ0V4cCwgc3RyKSA9PiB7XG4gIGxldCBtYXRjaGVzO1xuICBjb25zdCBhcnIgPSBbXTtcblxuICB3aGlsZSAoKG1hdGNoZXMgPSByZWdFeHAuZXhlYyhzdHIpKSAhPT0gbnVsbCkge1xuICAgIGFyci5wdXNoKG1hdGNoZXMpO1xuICB9XG5cbiAgcmV0dXJuIGFycjtcbn1cblxuLyogQ2hlY2tpbmcgaWYgdGhlIGtpbmRPZlRlc3QgZnVuY3Rpb24gcmV0dXJucyB0cnVlIHdoZW4gcGFzc2VkIGFuIEhUTUxGb3JtRWxlbWVudC4gKi9cbmNvbnN0IGlzSFRNTEZvcm0gPSBraW5kT2ZUZXN0KCdIVE1MRm9ybUVsZW1lbnQnKTtcblxuY29uc3QgdG9DYW1lbENhc2UgPSBzdHIgPT4ge1xuICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fXFxzXShbYS16XFxkXSkoXFx3KikvZyxcbiAgICBmdW5jdGlvbiByZXBsYWNlcihtLCBwMSwgcDIpIHtcbiAgICAgIHJldHVybiBwMS50b1VwcGVyQ2FzZSgpICsgcDI7XG4gICAgfVxuICApO1xufTtcblxuLyogQ3JlYXRpbmcgYSBmdW5jdGlvbiB0aGF0IHdpbGwgY2hlY2sgaWYgYW4gb2JqZWN0IGhhcyBhIHByb3BlcnR5LiAqL1xuY29uc3QgaGFzT3duUHJvcGVydHkgPSAoKHtoYXNPd25Qcm9wZXJ0eX0pID0+IChvYmosIHByb3ApID0+IGhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkoT2JqZWN0LnByb3RvdHlwZSk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBSZWdFeHAgb2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1JlZ0V4cCA9IGtpbmRPZlRlc3QoJ1JlZ0V4cCcpO1xuXG5jb25zdCByZWR1Y2VEZXNjcmlwdG9ycyA9IChvYmosIHJlZHVjZXIpID0+IHtcbiAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopO1xuICBjb25zdCByZWR1Y2VkRGVzY3JpcHRvcnMgPSB7fTtcblxuICBmb3JFYWNoKGRlc2NyaXB0b3JzLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIGxldCByZXQ7XG4gICAgaWYgKChyZXQgPSByZWR1Y2VyKGRlc2NyaXB0b3IsIG5hbWUsIG9iaikpICE9PSBmYWxzZSkge1xuICAgICAgcmVkdWNlZERlc2NyaXB0b3JzW25hbWVdID0gcmV0IHx8IGRlc2NyaXB0b3I7XG4gICAgfVxuICB9KTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHJlZHVjZWREZXNjcmlwdG9ycyk7XG59XG5cbi8qKlxuICogTWFrZXMgYWxsIG1ldGhvZHMgcmVhZC1vbmx5XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKi9cblxuY29uc3QgZnJlZXplTWV0aG9kcyA9IChvYmopID0+IHtcbiAgcmVkdWNlRGVzY3JpcHRvcnMob2JqLCAoZGVzY3JpcHRvciwgbmFtZSkgPT4ge1xuICAgIC8vIHNraXAgcmVzdHJpY3RlZCBwcm9wcyBpbiBzdHJpY3QgbW9kZVxuICAgIGlmIChpc0Z1bmN0aW9uKG9iaikgJiYgWydhcmd1bWVudHMnLCAnY2FsbGVyJywgJ2NhbGxlZSddLmluZGV4T2YobmFtZSkgIT09IC0xKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY29uc3QgdmFsdWUgPSBvYmpbbmFtZV07XG5cbiAgICBpZiAoIWlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm47XG5cbiAgICBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBmYWxzZTtcblxuICAgIGlmICgnd3JpdGFibGUnIGluIGRlc2NyaXB0b3IpIHtcbiAgICAgIGRlc2NyaXB0b3Iud3JpdGFibGUgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWRlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICBkZXNjcmlwdG9yLnNldCA9ICgpID0+IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoJ0NhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kIFxcJycgKyBuYW1lICsgJ1xcJycpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pO1xufVxuXG5jb25zdCB0b09iamVjdFNldCA9IChhcnJheU9yU3RyaW5nLCBkZWxpbWl0ZXIpID0+IHtcbiAgY29uc3Qgb2JqID0ge307XG5cbiAgY29uc3QgZGVmaW5lID0gKGFycikgPT4ge1xuICAgIGFyci5mb3JFYWNoKHZhbHVlID0+IHtcbiAgICAgIG9ialt2YWx1ZV0gPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgaXNBcnJheShhcnJheU9yU3RyaW5nKSA/IGRlZmluZShhcnJheU9yU3RyaW5nKSA6IGRlZmluZShTdHJpbmcoYXJyYXlPclN0cmluZykuc3BsaXQoZGVsaW1pdGVyKSk7XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuY29uc3Qgbm9vcCA9ICgpID0+IHt9XG5cbmNvbnN0IHRvRmluaXRlTnVtYmVyID0gKHZhbHVlLCBkZWZhdWx0VmFsdWUpID0+IHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgTnVtYmVyLmlzRmluaXRlKHZhbHVlID0gK3ZhbHVlKSA/IHZhbHVlIDogZGVmYXVsdFZhbHVlO1xufVxuXG4vKipcbiAqIElmIHRoZSB0aGluZyBpcyBhIEZvcm1EYXRhIG9iamVjdCwgcmV0dXJuIHRydWUsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXG4gKlxuICogQHBhcmFtIHt1bmtub3dufSB0aGluZyAtIFRoZSB0aGluZyB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNTcGVjQ29tcGxpYW50Rm9ybSh0aGluZykge1xuICByZXR1cm4gISEodGhpbmcgJiYgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIHRoaW5nW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdGb3JtRGF0YScgJiYgdGhpbmdbU3ltYm9sLml0ZXJhdG9yXSk7XG59XG5cbmNvbnN0IHRvSlNPTk9iamVjdCA9IChvYmopID0+IHtcbiAgY29uc3Qgc3RhY2sgPSBuZXcgQXJyYXkoMTApO1xuXG4gIGNvbnN0IHZpc2l0ID0gKHNvdXJjZSwgaSkgPT4ge1xuXG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIGlmIChzdGFjay5pbmRleE9mKHNvdXJjZSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmKCEoJ3RvSlNPTicgaW4gc291cmNlKSkge1xuICAgICAgICBzdGFja1tpXSA9IHNvdXJjZTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gaXNBcnJheShzb3VyY2UpID8gW10gOiB7fTtcblxuICAgICAgICBmb3JFYWNoKHNvdXJjZSwgKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICBjb25zdCByZWR1Y2VkVmFsdWUgPSB2aXNpdCh2YWx1ZSwgaSArIDEpO1xuICAgICAgICAgICFpc1VuZGVmaW5lZChyZWR1Y2VkVmFsdWUpICYmICh0YXJnZXRba2V5XSA9IHJlZHVjZWRWYWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHN0YWNrW2ldID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHNvdXJjZTtcbiAgfVxuXG4gIHJldHVybiB2aXNpdChvYmosIDApO1xufVxuXG5jb25zdCBpc0FzeW5jRm4gPSBraW5kT2ZUZXN0KCdBc3luY0Z1bmN0aW9uJyk7XG5cbmNvbnN0IGlzVGhlbmFibGUgPSAodGhpbmcpID0+XG4gIHRoaW5nICYmIChpc09iamVjdCh0aGluZykgfHwgaXNGdW5jdGlvbih0aGluZykpICYmIGlzRnVuY3Rpb24odGhpbmcudGhlbikgJiYgaXNGdW5jdGlvbih0aGluZy5jYXRjaCk7XG5cbi8vIG9yaWdpbmFsIGNvZGVcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9EaWdpdGFsQnJhaW5KUy9BeGlvc1Byb21pc2UvYmxvYi8xNmRlYWIxMzcxMGVjMDk3Nzk5MjIxMzFmM2ZhNTk1NDMyMGY4M2FiL2xpYi91dGlscy5qcyNMMTEtTDM0XG5cbmNvbnN0IF9zZXRJbW1lZGlhdGUgPSAoKHNldEltbWVkaWF0ZVN1cHBvcnRlZCwgcG9zdE1lc3NhZ2VTdXBwb3J0ZWQpID0+IHtcbiAgaWYgKHNldEltbWVkaWF0ZVN1cHBvcnRlZCkge1xuICAgIHJldHVybiBzZXRJbW1lZGlhdGU7XG4gIH1cblxuICByZXR1cm4gcG9zdE1lc3NhZ2VTdXBwb3J0ZWQgPyAoKHRva2VuLCBjYWxsYmFja3MpID0+IHtcbiAgICBfZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsICh7c291cmNlLCBkYXRhfSkgPT4ge1xuICAgICAgaWYgKHNvdXJjZSA9PT0gX2dsb2JhbCAmJiBkYXRhID09PSB0b2tlbikge1xuICAgICAgICBjYWxsYmFja3MubGVuZ3RoICYmIGNhbGxiYWNrcy5zaGlmdCgpKCk7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuXG4gICAgcmV0dXJuIChjYikgPT4ge1xuICAgICAgY2FsbGJhY2tzLnB1c2goY2IpO1xuICAgICAgX2dsb2JhbC5wb3N0TWVzc2FnZSh0b2tlbiwgXCIqXCIpO1xuICAgIH1cbiAgfSkoYGF4aW9zQCR7TWF0aC5yYW5kb20oKX1gLCBbXSkgOiAoY2IpID0+IHNldFRpbWVvdXQoY2IpO1xufSkoXG4gIHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicsXG4gIGlzRnVuY3Rpb24oX2dsb2JhbC5wb3N0TWVzc2FnZSlcbik7XG5cbmNvbnN0IGFzYXAgPSB0eXBlb2YgcXVldWVNaWNyb3Rhc2sgIT09ICd1bmRlZmluZWQnID9cbiAgcXVldWVNaWNyb3Rhc2suYmluZChfZ2xvYmFsKSA6ICggdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHByb2Nlc3MubmV4dFRpY2sgfHwgX3NldEltbWVkaWF0ZSk7XG5cbi8vICoqKioqKioqKioqKioqKioqKioqKlxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzQXJyYXksXG4gIGlzQXJyYXlCdWZmZXIsXG4gIGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldyxcbiAgaXNTdHJpbmcsXG4gIGlzTnVtYmVyLFxuICBpc0Jvb2xlYW4sXG4gIGlzT2JqZWN0LFxuICBpc1BsYWluT2JqZWN0LFxuICBpc1JlYWRhYmxlU3RyZWFtLFxuICBpc1JlcXVlc3QsXG4gIGlzUmVzcG9uc2UsXG4gIGlzSGVhZGVycyxcbiAgaXNVbmRlZmluZWQsXG4gIGlzRGF0ZSxcbiAgaXNGaWxlLFxuICBpc0Jsb2IsXG4gIGlzUmVnRXhwLFxuICBpc0Z1bmN0aW9uLFxuICBpc1N0cmVhbSxcbiAgaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzVHlwZWRBcnJheSxcbiAgaXNGaWxlTGlzdCxcbiAgZm9yRWFjaCxcbiAgbWVyZ2UsXG4gIGV4dGVuZCxcbiAgdHJpbSxcbiAgc3RyaXBCT00sXG4gIGluaGVyaXRzLFxuICB0b0ZsYXRPYmplY3QsXG4gIGtpbmRPZixcbiAga2luZE9mVGVzdCxcbiAgZW5kc1dpdGgsXG4gIHRvQXJyYXksXG4gIGZvckVhY2hFbnRyeSxcbiAgbWF0Y2hBbGwsXG4gIGlzSFRNTEZvcm0sXG4gIGhhc093blByb3BlcnR5LFxuICBoYXNPd25Qcm9wOiBoYXNPd25Qcm9wZXJ0eSwgLy8gYW4gYWxpYXMgdG8gYXZvaWQgRVNMaW50IG5vLXByb3RvdHlwZS1idWlsdGlucyBkZXRlY3Rpb25cbiAgcmVkdWNlRGVzY3JpcHRvcnMsXG4gIGZyZWV6ZU1ldGhvZHMsXG4gIHRvT2JqZWN0U2V0LFxuICB0b0NhbWVsQ2FzZSxcbiAgbm9vcCxcbiAgdG9GaW5pdGVOdW1iZXIsXG4gIGZpbmRLZXksXG4gIGdsb2JhbDogX2dsb2JhbCxcbiAgaXNDb250ZXh0RGVmaW5lZCxcbiAgaXNTcGVjQ29tcGxpYW50Rm9ybSxcbiAgdG9KU09OT2JqZWN0LFxuICBpc0FzeW5jRm4sXG4gIGlzVGhlbmFibGUsXG4gIHNldEltbWVkaWF0ZTogX3NldEltbWVkaWF0ZSxcbiAgYXNhcFxufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZ10gVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVxdWVzdF0gVGhlIHJlcXVlc3QuXG4gKiBAcGFyYW0ge09iamVjdH0gW3Jlc3BvbnNlXSBUaGUgcmVzcG9uc2UuXG4gKlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQXhpb3NFcnJvcihtZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIEVycm9yLmNhbGwodGhpcyk7XG5cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLm5hbWUgPSAnQXhpb3NFcnJvcic7XG4gIGNvZGUgJiYgKHRoaXMuY29kZSA9IGNvZGUpO1xuICBjb25maWcgJiYgKHRoaXMuY29uZmlnID0gY29uZmlnKTtcbiAgcmVxdWVzdCAmJiAodGhpcy5yZXF1ZXN0ID0gcmVxdWVzdCk7XG4gIGlmIChyZXNwb25zZSkge1xuICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB0aGlzLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cyA/IHJlc3BvbnNlLnN0YXR1cyA6IG51bGw7XG4gIH1cbn1cblxudXRpbHMuaW5oZXJpdHMoQXhpb3NFcnJvciwgRXJyb3IsIHtcbiAgdG9KU09OOiBmdW5jdGlvbiB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFN0YW5kYXJkXG4gICAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAvLyBNaWNyb3NvZnRcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgbnVtYmVyOiB0aGlzLm51bWJlcixcbiAgICAgIC8vIE1vemlsbGFcbiAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGVOYW1lLFxuICAgICAgbGluZU51bWJlcjogdGhpcy5saW5lTnVtYmVyLFxuICAgICAgY29sdW1uTnVtYmVyOiB0aGlzLmNvbHVtbk51bWJlcixcbiAgICAgIHN0YWNrOiB0aGlzLnN0YWNrLFxuICAgICAgLy8gQXhpb3NcbiAgICAgIGNvbmZpZzogdXRpbHMudG9KU09OT2JqZWN0KHRoaXMuY29uZmlnKSxcbiAgICAgIGNvZGU6IHRoaXMuY29kZSxcbiAgICAgIHN0YXR1czogdGhpcy5zdGF0dXNcbiAgICB9O1xuICB9XG59KTtcblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NFcnJvci5wcm90b3R5cGU7XG5jb25zdCBkZXNjcmlwdG9ycyA9IHt9O1xuXG5bXG4gICdFUlJfQkFEX09QVElPTl9WQUxVRScsXG4gICdFUlJfQkFEX09QVElPTicsXG4gICdFQ09OTkFCT1JURUQnLFxuICAnRVRJTUVET1VUJyxcbiAgJ0VSUl9ORVRXT1JLJyxcbiAgJ0VSUl9GUl9UT09fTUFOWV9SRURJUkVDVFMnLFxuICAnRVJSX0RFUFJFQ0FURUQnLFxuICAnRVJSX0JBRF9SRVNQT05TRScsXG4gICdFUlJfQkFEX1JFUVVFU1QnLFxuICAnRVJSX0NBTkNFTEVEJyxcbiAgJ0VSUl9OT1RfU1VQUE9SVCcsXG4gICdFUlJfSU5WQUxJRF9VUkwnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXS5mb3JFYWNoKGNvZGUgPT4ge1xuICBkZXNjcmlwdG9yc1tjb2RlXSA9IHt2YWx1ZTogY29kZX07XG59KTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoQXhpb3NFcnJvciwgZGVzY3JpcHRvcnMpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3RvdHlwZSwgJ2lzQXhpb3NFcnJvcicsIHt2YWx1ZTogdHJ1ZX0pO1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuQXhpb3NFcnJvci5mcm9tID0gKGVycm9yLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlLCBjdXN0b21Qcm9wcykgPT4ge1xuICBjb25zdCBheGlvc0Vycm9yID0gT2JqZWN0LmNyZWF0ZShwcm90b3R5cGUpO1xuXG4gIHV0aWxzLnRvRmxhdE9iamVjdChlcnJvciwgYXhpb3NFcnJvciwgZnVuY3Rpb24gZmlsdGVyKG9iaikge1xuICAgIHJldHVybiBvYmogIT09IEVycm9yLnByb3RvdHlwZTtcbiAgfSwgcHJvcCA9PiB7XG4gICAgcmV0dXJuIHByb3AgIT09ICdpc0F4aW9zRXJyb3InO1xuICB9KTtcblxuICBBeGlvc0Vycm9yLmNhbGwoYXhpb3NFcnJvciwgZXJyb3IubWVzc2FnZSwgY29kZSwgY29uZmlnLCByZXF1ZXN0LCByZXNwb25zZSk7XG5cbiAgYXhpb3NFcnJvci5jYXVzZSA9IGVycm9yO1xuXG4gIGF4aW9zRXJyb3IubmFtZSA9IGVycm9yLm5hbWU7XG5cbiAgY3VzdG9tUHJvcHMgJiYgT2JqZWN0LmFzc2lnbihheGlvc0Vycm9yLCBjdXN0b21Qcm9wcyk7XG5cbiAgcmV0dXJuIGF4aW9zRXJyb3I7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc0Vycm9yO1xuIiwKICAgICIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3RyaWN0XG5leHBvcnQgZGVmYXVsdCBudWxsO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuLy8gdGVtcG9yYXJ5IGhvdGZpeCB0byBhdm9pZCBjaXJjdWxhciByZWZlcmVuY2VzIHVudGlsIEF4aW9zVVJMU2VhcmNoUGFyYW1zIGlzIHJlZmFjdG9yZWRcbmltcG9ydCBQbGF0Zm9ybUZvcm1EYXRhIGZyb20gJy4uL3BsYXRmb3JtL25vZGUvY2xhc3Nlcy9Gb3JtRGF0YS5qcyc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0aGUgZ2l2ZW4gdGhpbmcgaXMgYSBhcnJheSBvciBqcyBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHRoaW5nIC0gVGhlIG9iamVjdCBvciBhcnJheSB0byBiZSB2aXNpdGVkLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1Zpc2l0YWJsZSh0aGluZykge1xuICByZXR1cm4gdXRpbHMuaXNQbGFpbk9iamVjdCh0aGluZykgfHwgdXRpbHMuaXNBcnJheSh0aGluZyk7XG59XG5cbi8qKlxuICogSXQgcmVtb3ZlcyB0aGUgYnJhY2tldHMgZnJvbSB0aGUgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIFRoZSBrZXkgb2YgdGhlIHBhcmFtZXRlci5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUga2V5IHdpdGhvdXQgdGhlIGJyYWNrZXRzLlxuICovXG5mdW5jdGlvbiByZW1vdmVCcmFja2V0cyhrZXkpIHtcbiAgcmV0dXJuIHV0aWxzLmVuZHNXaXRoKGtleSwgJ1tdJykgPyBrZXkuc2xpY2UoMCwgLTIpIDoga2V5O1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgcGF0aCwgYSBrZXksIGFuZCBhIGJvb2xlYW4sIGFuZCByZXR1cm5zIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBUaGUgcGF0aCB0byB0aGUgY3VycmVudCBrZXkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgY3VycmVudCBvYmplY3QgYmVpbmcgaXRlcmF0ZWQgb3Zlci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3RzIC0gSWYgdHJ1ZSwgdGhlIGtleSB3aWxsIGJlIHJlbmRlcmVkIHdpdGggZG90cyBpbnN0ZWFkIG9mIGJyYWNrZXRzLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IGtleS5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cykge1xuICBpZiAoIXBhdGgpIHJldHVybiBrZXk7XG4gIHJldHVybiBwYXRoLmNvbmNhdChrZXkpLm1hcChmdW5jdGlvbiBlYWNoKHRva2VuLCBpKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgdG9rZW4gPSByZW1vdmVCcmFja2V0cyh0b2tlbik7XG4gICAgcmV0dXJuICFkb3RzICYmIGkgPyAnWycgKyB0b2tlbiArICddJyA6IHRva2VuO1xuICB9KS5qb2luKGRvdHMgPyAnLicgOiAnJyk7XG59XG5cbi8qKlxuICogSWYgdGhlIGFycmF5IGlzIGFuIGFycmF5IGFuZCBub25lIG9mIGl0cyBlbGVtZW50cyBhcmUgdmlzaXRhYmxlLCB0aGVuIGl0J3MgYSBmbGF0IGFycmF5LlxuICpcbiAqIEBwYXJhbSB7QXJyYXk8YW55Pn0gYXJyIC0gVGhlIGFycmF5IHRvIGNoZWNrXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzRmxhdEFycmF5KGFycikge1xuICByZXR1cm4gdXRpbHMuaXNBcnJheShhcnIpICYmICFhcnIuc29tZShpc1Zpc2l0YWJsZSk7XG59XG5cbmNvbnN0IHByZWRpY2F0ZXMgPSB1dGlscy50b0ZsYXRPYmplY3QodXRpbHMsIHt9LCBudWxsLCBmdW5jdGlvbiBmaWx0ZXIocHJvcCkge1xuICByZXR1cm4gL15pc1tBLVpdLy50ZXN0KHByb3ApO1xufSk7XG5cbi8qKlxuICogQ29udmVydCBhIGRhdGEgb2JqZWN0IHRvIEZvcm1EYXRhXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHs/T2JqZWN0fSBbZm9ybURhdGFdXG4gKiBAcGFyYW0gez9PYmplY3R9IFtvcHRpb25zXVxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMudmlzaXRvcl1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMubWV0YVRva2VucyA9IHRydWVdXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvcHRpb25zLmRvdHMgPSBmYWxzZV1cbiAqIEBwYXJhbSB7P0Jvb2xlYW59IFtvcHRpb25zLmluZGV4ZXMgPSBmYWxzZV1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICoqL1xuXG4vKipcbiAqIEl0IGNvbnZlcnRzIGFuIG9iamVjdCBpbnRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8YW55LCBhbnk+fSBvYmogLSBUaGUgb2JqZWN0IHRvIGNvbnZlcnQgdG8gZm9ybSBkYXRhLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvcm1EYXRhIC0gVGhlIEZvcm1EYXRhIG9iamVjdCB0byBhcHBlbmQgdG8uXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJuc1xuICovXG5mdW5jdGlvbiB0b0Zvcm1EYXRhKG9iaiwgZm9ybURhdGEsIG9wdGlvbnMpIHtcbiAgaWYgKCF1dGlscy5pc09iamVjdChvYmopKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndGFyZ2V0IG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgZm9ybURhdGEgPSBmb3JtRGF0YSB8fCBuZXcgKFBsYXRmb3JtRm9ybURhdGEgfHwgRm9ybURhdGEpKCk7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gIG9wdGlvbnMgPSB1dGlscy50b0ZsYXRPYmplY3Qob3B0aW9ucywge1xuICAgIG1ldGFUb2tlbnM6IHRydWUsXG4gICAgZG90czogZmFsc2UsXG4gICAgaW5kZXhlczogZmFsc2VcbiAgfSwgZmFsc2UsIGZ1bmN0aW9uIGRlZmluZWQob3B0aW9uLCBzb3VyY2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgICByZXR1cm4gIXV0aWxzLmlzVW5kZWZpbmVkKHNvdXJjZVtvcHRpb25dKTtcbiAgfSk7XG5cbiAgY29uc3QgbWV0YVRva2VucyA9IG9wdGlvbnMubWV0YVRva2VucztcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZS1iZWZvcmUtZGVmaW5lXG4gIGNvbnN0IHZpc2l0b3IgPSBvcHRpb25zLnZpc2l0b3IgfHwgZGVmYXVsdFZpc2l0b3I7XG4gIGNvbnN0IGRvdHMgPSBvcHRpb25zLmRvdHM7XG4gIGNvbnN0IGluZGV4ZXMgPSBvcHRpb25zLmluZGV4ZXM7XG4gIGNvbnN0IF9CbG9iID0gb3B0aW9ucy5CbG9iIHx8IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBCbG9iO1xuICBjb25zdCB1c2VCbG9iID0gX0Jsb2IgJiYgdXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShmb3JtRGF0YSk7XG5cbiAgaWYgKCF1dGlscy5pc0Z1bmN0aW9uKHZpc2l0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndmlzaXRvciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnZlcnRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuICcnO1xuXG4gICAgaWYgKHV0aWxzLmlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgIH1cblxuICAgIGlmICghdXNlQmxvYiAmJiB1dGlscy5pc0Jsb2IodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignQmxvYiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYSBCdWZmZXIgaW5zdGVhZC4nKTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcih2YWx1ZSkgfHwgdXRpbHMuaXNUeXBlZEFycmF5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHVzZUJsb2IgJiYgdHlwZW9mIEJsb2IgPT09ICdmdW5jdGlvbicgPyBuZXcgQmxvYihbdmFsdWVdKSA6IEJ1ZmZlci5mcm9tKHZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCB2aXNpdG9yLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0ga2V5XG4gICAqIEBwYXJhbSB7QXJyYXk8U3RyaW5nfE51bWJlcj59IHBhdGhcbiAgICogQHRoaXMge0Zvcm1EYXRhfVxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gcmV0dXJuIHRydWUgdG8gdmlzaXQgdGhlIGVhY2ggcHJvcCBvZiB0aGUgdmFsdWUgcmVjdXJzaXZlbHlcbiAgICovXG4gIGZ1bmN0aW9uIGRlZmF1bHRWaXNpdG9yKHZhbHVlLCBrZXksIHBhdGgpIHtcbiAgICBsZXQgYXJyID0gdmFsdWU7XG5cbiAgICBpZiAodmFsdWUgJiYgIXBhdGggJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgaWYgKHV0aWxzLmVuZHNXaXRoKGtleSwgJ3t9JykpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGtleSA9IG1ldGFUb2tlbnMgPyBrZXkgOiBrZXkuc2xpY2UoMCwgLTIpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgdmFsdWUgPSBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAodXRpbHMuaXNBcnJheSh2YWx1ZSkgJiYgaXNGbGF0QXJyYXkodmFsdWUpKSB8fFxuICAgICAgICAoKHV0aWxzLmlzRmlsZUxpc3QodmFsdWUpIHx8IHV0aWxzLmVuZHNXaXRoKGtleSwgJ1tdJykpICYmIChhcnIgPSB1dGlscy50b0FycmF5KHZhbHVlKSlcbiAgICAgICAgKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gcmVtb3ZlQnJhY2tldHMoa2V5KTtcblxuICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiBlYWNoKGVsLCBpbmRleCkge1xuICAgICAgICAgICEodXRpbHMuaXNVbmRlZmluZWQoZWwpIHx8IGVsID09PSBudWxsKSAmJiBmb3JtRGF0YS5hcHBlbmQoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmVzdGVkLXRlcm5hcnlcbiAgICAgICAgICAgIGluZGV4ZXMgPT09IHRydWUgPyByZW5kZXJLZXkoW2tleV0sIGluZGV4LCBkb3RzKSA6IChpbmRleGVzID09PSBudWxsID8ga2V5IDoga2V5ICsgJ1tdJyksXG4gICAgICAgICAgICBjb252ZXJ0VmFsdWUoZWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNWaXNpdGFibGUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3JtRGF0YS5hcHBlbmQocmVuZGVyS2V5KHBhdGgsIGtleSwgZG90cyksIGNvbnZlcnRWYWx1ZSh2YWx1ZSkpO1xuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3Qgc3RhY2sgPSBbXTtcblxuICBjb25zdCBleHBvc2VkSGVscGVycyA9IE9iamVjdC5hc3NpZ24ocHJlZGljYXRlcywge1xuICAgIGRlZmF1bHRWaXNpdG9yLFxuICAgIGNvbnZlcnRWYWx1ZSxcbiAgICBpc1Zpc2l0YWJsZVxuICB9KTtcblxuICBmdW5jdGlvbiBidWlsZCh2YWx1ZSwgcGF0aCkge1xuICAgIGlmICh1dGlscy5pc1VuZGVmaW5lZCh2YWx1ZSkpIHJldHVybjtcblxuICAgIGlmIChzdGFjay5pbmRleE9mKHZhbHVlKSAhPT0gLTEpIHtcbiAgICAgIHRocm93IEVycm9yKCdDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQgaW4gJyArIHBhdGguam9pbignLicpKTtcbiAgICB9XG5cbiAgICBzdGFjay5wdXNoKHZhbHVlKTtcblxuICAgIHV0aWxzLmZvckVhY2godmFsdWUsIGZ1bmN0aW9uIGVhY2goZWwsIGtleSkge1xuICAgICAgY29uc3QgcmVzdWx0ID0gISh1dGlscy5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIHZpc2l0b3IuY2FsbChcbiAgICAgICAgZm9ybURhdGEsIGVsLCB1dGlscy5pc1N0cmluZyhrZXkpID8ga2V5LnRyaW0oKSA6IGtleSwgcGF0aCwgZXhwb3NlZEhlbHBlcnNcbiAgICAgICk7XG5cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgYnVpbGQoZWwsIHBhdGggPyBwYXRoLmNvbmNhdChrZXkpIDogW2tleV0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc3RhY2sucG9wKCk7XG4gIH1cblxuICBpZiAoIXV0aWxzLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdkYXRhIG11c3QgYmUgYW4gb2JqZWN0Jyk7XG4gIH1cblxuICBidWlsZChvYmopO1xuXG4gIHJldHVybiBmb3JtRGF0YTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdG9Gb3JtRGF0YTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuXG4vKipcbiAqIEl0IGVuY29kZXMgYSBzdHJpbmcgYnkgcmVwbGFjaW5nIGFsbCBjaGFyYWN0ZXJzIHRoYXQgYXJlIG5vdCBpbiB0aGUgdW5yZXNlcnZlZCBzZXQgd2l0aFxuICogdGhlaXIgcGVyY2VudC1lbmNvZGVkIGVxdWl2YWxlbnRzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gZW5jb2RlLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gZW5jb2RlKHN0cikge1xuICBjb25zdCBjaGFyTWFwID0ge1xuICAgICchJzogJyUyMScsXG4gICAgXCInXCI6ICclMjcnLFxuICAgICcoJzogJyUyOCcsXG4gICAgJyknOiAnJTI5JyxcbiAgICAnfic6ICclN0UnLFxuICAgICclMjAnOiAnKycsXG4gICAgJyUwMCc6ICdcXHgwMCdcbiAgfTtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHIpLnJlcGxhY2UoL1shJygpfl18JTIwfCUwMC9nLCBmdW5jdGlvbiByZXBsYWNlcihtYXRjaCkge1xuICAgIHJldHVybiBjaGFyTWFwW21hdGNoXTtcbiAgfSk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXJhbXMgb2JqZWN0IGFuZCBjb252ZXJ0cyBpdCB0byBhIEZvcm1EYXRhIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgdG8gYmUgY29udmVydGVkIHRvIGEgRm9ybURhdGEgb2JqZWN0LlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgb2JqZWN0IHBhc3NlZCB0byB0aGUgQXhpb3MgY29uc3RydWN0b3IuXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykge1xuICB0aGlzLl9wYWlycyA9IFtdO1xuXG4gIHBhcmFtcyAmJiB0b0Zvcm1EYXRhKHBhcmFtcywgdGhpcywgb3B0aW9ucyk7XG59XG5cbmNvbnN0IHByb3RvdHlwZSA9IEF4aW9zVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZTtcblxucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIGFwcGVuZChuYW1lLCB2YWx1ZSkge1xuICB0aGlzLl9wYWlycy5wdXNoKFtuYW1lLCB2YWx1ZV0pO1xufTtcblxucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoZW5jb2Rlcikge1xuICBjb25zdCBfZW5jb2RlID0gZW5jb2RlciA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGVuY29kZXIuY2FsbCh0aGlzLCB2YWx1ZSwgZW5jb2RlKTtcbiAgfSA6IGVuY29kZTtcblxuICByZXR1cm4gdGhpcy5fcGFpcnMubWFwKGZ1bmN0aW9uIGVhY2gocGFpcikge1xuICAgIHJldHVybiBfZW5jb2RlKHBhaXJbMF0pICsgJz0nICsgX2VuY29kZShwYWlyWzFdKTtcbiAgfSwgJycpLmpvaW4oJyYnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zVVJMU2VhcmNoUGFyYW1zO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi4vaGVscGVycy9BeGlvc1VSTFNlYXJjaFBhcmFtcy5qcyc7XG5cbi8qKlxuICogSXQgcmVwbGFjZXMgYWxsIGluc3RhbmNlcyBvZiB0aGUgY2hhcmFjdGVycyBgOmAsIGAkYCwgYCxgLCBgK2AsIGBbYCwgYW5kIGBdYCB3aXRoIHRoZWlyXG4gKiBVUkkgZW5jb2RlZCBjb3VudGVycGFydHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsIFRoZSB2YWx1ZSB0byBiZSBlbmNvZGVkLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBlbmNvZGVkIHZhbHVlLlxuICovXG5mdW5jdGlvbiBlbmNvZGUodmFsKSB7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodmFsKS5cbiAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXG4gICAgcmVwbGFjZSgvJTI0L2csICckJykuXG4gICAgcmVwbGFjZSgvJTJDL2dpLCAnLCcpLlxuICAgIHJlcGxhY2UoLyUyMC9nLCAnKycpLlxuICAgIHJlcGxhY2UoLyU1Qi9naSwgJ1snKS5cbiAgICByZXBsYWNlKC8lNUQvZ2ksICddJyk7XG59XG5cbi8qKlxuICogQnVpbGQgYSBVUkwgYnkgYXBwZW5kaW5nIHBhcmFtcyB0byB0aGUgZW5kXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgYmFzZSBvZiB0aGUgdXJsIChlLmcuLCBodHRwOi8vd3d3Lmdvb2dsZS5jb20pXG4gKiBAcGFyYW0ge29iamVjdH0gW3BhcmFtc10gVGhlIHBhcmFtcyB0byBiZSBhcHBlbmRlZFxuICogQHBhcmFtIHs/KG9iamVjdHxGdW5jdGlvbil9IG9wdGlvbnNcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBidWlsZFVSTCh1cmwsIHBhcmFtcywgb3B0aW9ucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgaWYgKCFwYXJhbXMpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIFxuICBjb25zdCBfZW5jb2RlID0gb3B0aW9ucyAmJiBvcHRpb25zLmVuY29kZSB8fCBlbmNvZGU7XG5cbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2VyaWFsaXplOiBvcHRpb25zXG4gICAgfTtcbiAgfSBcblxuICBjb25zdCBzZXJpYWxpemVGbiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5zZXJpYWxpemU7XG5cbiAgbGV0IHNlcmlhbGl6ZWRQYXJhbXM7XG5cbiAgaWYgKHNlcmlhbGl6ZUZuKSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHNlcmlhbGl6ZUZuKHBhcmFtcywgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgc2VyaWFsaXplZFBhcmFtcyA9IHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykgP1xuICAgICAgcGFyYW1zLnRvU3RyaW5nKCkgOlxuICAgICAgbmV3IEF4aW9zVVJMU2VhcmNoUGFyYW1zKHBhcmFtcywgb3B0aW9ucykudG9TdHJpbmcoX2VuY29kZSk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIGNvbnN0IGhhc2htYXJrSW5kZXggPSB1cmwuaW5kZXhPZihcIiNcIik7XG5cbiAgICBpZiAoaGFzaG1hcmtJbmRleCAhPT0gLTEpIHtcbiAgICAgIHVybCA9IHVybC5zbGljZSgwLCBoYXNobWFya0luZGV4KTtcbiAgICB9XG4gICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbmNsYXNzIEludGVyY2VwdG9yTWFuYWdlciB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaGFuZGxlcnMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bGZpbGxlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGB0aGVuYCBmb3IgYSBgUHJvbWlzZWBcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAgICpcbiAgICogQHJldHVybiB7TnVtYmVyfSBBbiBJRCB1c2VkIHRvIHJlbW92ZSBpbnRlcmNlcHRvciBsYXRlclxuICAgKi9cbiAgdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmhhbmRsZXJzLnB1c2goe1xuICAgICAgZnVsZmlsbGVkLFxuICAgICAgcmVqZWN0ZWQsXG4gICAgICBzeW5jaHJvbm91czogb3B0aW9ucyA/IG9wdGlvbnMuc3luY2hyb25vdXMgOiBmYWxzZSxcbiAgICAgIHJ1bldoZW46IG9wdGlvbnMgPyBvcHRpb25zLnJ1bldoZW4gOiBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuaGFuZGxlcnMubGVuZ3RoIC0gMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYW4gaW50ZXJjZXB0b3IgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGlkIFRoZSBJRCB0aGF0IHdhcyByZXR1cm5lZCBieSBgdXNlYFxuICAgKlxuICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoZSBpbnRlcmNlcHRvciB3YXMgcmVtb3ZlZCwgYGZhbHNlYCBvdGhlcndpc2VcbiAgICovXG4gIGVqZWN0KGlkKSB7XG4gICAgaWYgKHRoaXMuaGFuZGxlcnNbaWRdKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzW2lkXSA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENsZWFyIGFsbCBpbnRlcmNlcHRvcnMgZnJvbSB0aGUgc3RhY2tcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBjbGVhcigpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVycykge1xuICAgICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBpcyBwYXJ0aWN1bGFybHkgdXNlZnVsIGZvciBza2lwcGluZyBvdmVyIGFueVxuICAgKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggaW50ZXJjZXB0b3JcbiAgICpcbiAgICogQHJldHVybnMge3ZvaWR9XG4gICAqL1xuICBmb3JFYWNoKGZuKSB7XG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLCBmdW5jdGlvbiBmb3JFYWNoSGFuZGxlcihoKSB7XG4gICAgICBpZiAoaCAhPT0gbnVsbCkge1xuICAgICAgICBmbihoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzaWxlbnRKU09OUGFyc2luZzogdHJ1ZSxcbiAgZm9yY2VkSlNPTlBhcnNpbmc6IHRydWUsXG4gIGNsYXJpZnlUaW1lb3V0RXJyb3I6IGZhbHNlXG59O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBmcm9tICcuLi8uLi8uLi9oZWxwZXJzL0F4aW9zVVJMU2VhcmNoUGFyYW1zLmpzJztcbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09ICd1bmRlZmluZWQnID8gVVJMU2VhcmNoUGFyYW1zIDogQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEZvcm1EYXRhICE9PSAndW5kZWZpbmVkJyA/IEZvcm1EYXRhIDogbnVsbDtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnXG5cbmV4cG9ydCBkZWZhdWx0IHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyA/IEJsb2IgOiBudWxsXG4iLAogICAgImltcG9ydCBVUkxTZWFyY2hQYXJhbXMgZnJvbSAnLi9jbGFzc2VzL1VSTFNlYXJjaFBhcmFtcy5qcydcbmltcG9ydCBGb3JtRGF0YSBmcm9tICcuL2NsYXNzZXMvRm9ybURhdGEuanMnXG5pbXBvcnQgQmxvYiBmcm9tICcuL2NsYXNzZXMvQmxvYi5qcydcblxuZXhwb3J0IGRlZmF1bHQge1xuICBpc0Jyb3dzZXI6IHRydWUsXG4gIGNsYXNzZXM6IHtcbiAgICBVUkxTZWFyY2hQYXJhbXMsXG4gICAgRm9ybURhdGEsXG4gICAgQmxvYlxuICB9LFxuICBwcm90b2NvbHM6IFsnaHR0cCcsICdodHRwcycsICdmaWxlJywgJ2Jsb2InLCAndXJsJywgJ2RhdGEnXVxufTtcbiIsCiAgICAiY29uc3QgaGFzQnJvd3NlckVudiA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCc7XG5cbmNvbnN0IF9uYXZpZ2F0b3IgPSB0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3IgfHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIFRoaXMgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXIsIGFuZCByZWFjdC1uYXRpdmUuXG4gKiBCb3RoIGVudmlyb25tZW50cyBzdXBwb3J0IFhNTEh0dHBSZXF1ZXN0LCBidXQgbm90IGZ1bGx5IHN0YW5kYXJkIGdsb2JhbHMuXG4gKlxuICogd2ViIHdvcmtlcnM6XG4gKiAgdHlwZW9mIHdpbmRvdyAtPiB1bmRlZmluZWRcbiAqICB0eXBlb2YgZG9jdW1lbnQgLT4gdW5kZWZpbmVkXG4gKlxuICogcmVhY3QtbmF0aXZlOlxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdSZWFjdE5hdGl2ZSdcbiAqIG5hdGl2ZXNjcmlwdFxuICogIG5hdmlnYXRvci5wcm9kdWN0IC0+ICdOYXRpdmVTY3JpcHQnIG9yICdOUydcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyRW52ID0gaGFzQnJvd3NlckVudiAmJlxuICAoIV9uYXZpZ2F0b3IgfHwgWydSZWFjdE5hdGl2ZScsICdOYXRpdmVTY3JpcHQnLCAnTlMnXS5pbmRleE9mKF9uYXZpZ2F0b3IucHJvZHVjdCkgPCAwKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgd2ViV29ya2VyIGVudmlyb25tZW50XG4gKlxuICogQWx0aG91Z2ggdGhlIGBpc1N0YW5kYXJkQnJvd3NlckVudmAgbWV0aG9kIGluZGljYXRlcyB0aGF0XG4gKiBgYWxsb3dzIGF4aW9zIHRvIHJ1biBpbiBhIHdlYiB3b3JrZXJgLCB0aGUgV2ViV29ya2VyIHdpbGwgc3RpbGwgYmVcbiAqIGZpbHRlcmVkIG91dCBkdWUgdG8gaXRzIGp1ZGdtZW50IHN0YW5kYXJkXG4gKiBgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJ2AuXG4gKiBUaGlzIGxlYWRzIHRvIGEgcHJvYmxlbSB3aGVuIGF4aW9zIHBvc3QgYEZvcm1EYXRhYCBpbiB3ZWJXb3JrZXJcbiAqL1xuY29uc3QgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52ID0gKCgpID0+IHtcbiAgcmV0dXJuIChcbiAgICB0eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgc2VsZiBpbnN0YW5jZW9mIFdvcmtlckdsb2JhbFNjb3BlICYmXG4gICAgdHlwZW9mIHNlbGYuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJ1xuICApO1xufSkoKTtcblxuY29uc3Qgb3JpZ2luID0gaGFzQnJvd3NlckVudiAmJiB3aW5kb3cubG9jYXRpb24uaHJlZiB8fCAnaHR0cDovL2xvY2FsaG9zdCc7XG5cbmV4cG9ydCB7XG4gIGhhc0Jyb3dzZXJFbnYsXG4gIGhhc1N0YW5kYXJkQnJvd3NlcldlYldvcmtlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyRW52LFxuICBfbmF2aWdhdG9yIGFzIG5hdmlnYXRvcixcbiAgb3JpZ2luXG59XG4iLAogICAgImltcG9ydCBwbGF0Zm9ybSBmcm9tICcuL25vZGUvaW5kZXguanMnO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSAnLi9jb21tb24vdXRpbHMuanMnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIC4uLnV0aWxzLFxuICAuLi5wbGF0Zm9ybVxufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL3RvRm9ybURhdGEuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdG9VUkxFbmNvZGVkRm9ybShkYXRhLCBvcHRpb25zKSB7XG4gIHJldHVybiB0b0Zvcm1EYXRhKGRhdGEsIG5ldyBwbGF0Zm9ybS5jbGFzc2VzLlVSTFNlYXJjaFBhcmFtcygpLCBPYmplY3QuYXNzaWduKHtcbiAgICB2aXNpdG9yOiBmdW5jdGlvbih2YWx1ZSwga2V5LCBwYXRoLCBoZWxwZXJzKSB7XG4gICAgICBpZiAocGxhdGZvcm0uaXNOb2RlICYmIHV0aWxzLmlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICB0aGlzLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCdiYXNlNjQnKSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhlbHBlcnMuZGVmYXVsdFZpc2l0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH0sIG9wdGlvbnMpKTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEl0IHRha2VzIGEgc3RyaW5nIGxpa2UgYGZvb1t4XVt5XVt6XWAgYW5kIHJldHVybnMgYW4gYXJyYXkgbGlrZSBgWydmb28nLCAneCcsICd5JywgJ3onXVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAqXG4gKiBAcmV0dXJucyBBbiBhcnJheSBvZiBzdHJpbmdzLlxuICovXG5mdW5jdGlvbiBwYXJzZVByb3BQYXRoKG5hbWUpIHtcbiAgLy8gZm9vW3hdW3ldW3pdXG4gIC8vIGZvby54LnkuelxuICAvLyBmb28teC15LXpcbiAgLy8gZm9vIHggeSB6XG4gIHJldHVybiB1dGlscy5tYXRjaEFsbCgvXFx3K3xcXFsoXFx3KildL2csIG5hbWUpLm1hcChtYXRjaCA9PiB7XG4gICAgcmV0dXJuIG1hdGNoWzBdID09PSAnW10nID8gJycgOiBtYXRjaFsxXSB8fCBtYXRjaFswXTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ29udmVydCBhbiBhcnJheSB0byBhbiBvYmplY3QuXG4gKlxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBUaGUgYXJyYXkgdG8gY29udmVydCB0byBhbiBvYmplY3QuXG4gKlxuICogQHJldHVybnMgQW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhbmQgdmFsdWVzIGFzIHRoZSBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlUb09iamVjdChhcnIpIHtcbiAgY29uc3Qgb2JqID0ge307XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhhcnIpO1xuICBsZXQgaTtcbiAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gIGxldCBrZXk7XG4gIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgb2JqW2tleV0gPSBhcnJba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIEl0IHRha2VzIGEgRm9ybURhdGEgb2JqZWN0IGFuZCByZXR1cm5zIGEgSmF2YVNjcmlwdCBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybURhdGEgVGhlIEZvcm1EYXRhIG9iamVjdCB0byBjb252ZXJ0IHRvIEpTT04uXG4gKlxuICogQHJldHVybnMge09iamVjdDxzdHJpbmcsIGFueT4gfCBudWxsfSBUaGUgY29udmVydGVkIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZm9ybURhdGFUb0pTT04oZm9ybURhdGEpIHtcbiAgZnVuY3Rpb24gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXQsIGluZGV4KSB7XG4gICAgbGV0IG5hbWUgPSBwYXRoW2luZGV4KytdO1xuXG4gICAgaWYgKG5hbWUgPT09ICdfX3Byb3RvX18nKSByZXR1cm4gdHJ1ZTtcblxuICAgIGNvbnN0IGlzTnVtZXJpY0tleSA9IE51bWJlci5pc0Zpbml0ZSgrbmFtZSk7XG4gICAgY29uc3QgaXNMYXN0ID0gaW5kZXggPj0gcGF0aC5sZW5ndGg7XG4gICAgbmFtZSA9ICFuYW1lICYmIHV0aWxzLmlzQXJyYXkodGFyZ2V0KSA/IHRhcmdldC5sZW5ndGggOiBuYW1lO1xuXG4gICAgaWYgKGlzTGFzdCkge1xuICAgICAgaWYgKHV0aWxzLmhhc093blByb3AodGFyZ2V0LCBuYW1lKSkge1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSBbdGFyZ2V0W25hbWVdLCB2YWx1ZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXRbbmFtZV0gPSB2YWx1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXRbbmFtZV0gfHwgIXV0aWxzLmlzT2JqZWN0KHRhcmdldFtuYW1lXSkpIHtcbiAgICAgIHRhcmdldFtuYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGJ1aWxkUGF0aChwYXRoLCB2YWx1ZSwgdGFyZ2V0W25hbWVdLCBpbmRleCk7XG5cbiAgICBpZiAocmVzdWx0ICYmIHV0aWxzLmlzQXJyYXkodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gYXJyYXlUb09iamVjdCh0YXJnZXRbbmFtZV0pO1xuICAgIH1cblxuICAgIHJldHVybiAhaXNOdW1lcmljS2V5O1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzRm9ybURhdGEoZm9ybURhdGEpICYmIHV0aWxzLmlzRnVuY3Rpb24oZm9ybURhdGEuZW50cmllcykpIHtcbiAgICBjb25zdCBvYmogPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2hFbnRyeShmb3JtRGF0YSwgKG5hbWUsIHZhbHVlKSA9PiB7XG4gICAgICBidWlsZFBhdGgocGFyc2VQcm9wUGF0aChuYW1lKSwgdmFsdWUsIG9iaiwgMCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZvcm1EYXRhVG9KU09OO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHRyYW5zaXRpb25hbERlZmF1bHRzIGZyb20gJy4vdHJhbnNpdGlvbmFsLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4uL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgdG9VUkxFbmNvZGVkRm9ybSBmcm9tICcuLi9oZWxwZXJzL3RvVVJMRW5jb2RlZEZvcm0uanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuLi9oZWxwZXJzL2Zvcm1EYXRhVG9KU09OLmpzJztcblxuLyoqXG4gKiBJdCB0YWtlcyBhIHN0cmluZywgdHJpZXMgdG8gcGFyc2UgaXQsIGFuZCBpZiBpdCBmYWlscywgaXQgcmV0dXJucyB0aGUgc3RyaW5naWZpZWQgdmVyc2lvblxuICogb2YgdGhlIGlucHV0XG4gKlxuICogQHBhcmFtIHthbnl9IHJhd1ZhbHVlIC0gVGhlIHZhbHVlIHRvIGJlIHN0cmluZ2lmaWVkLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2VyIC0gQSBmdW5jdGlvbiB0aGF0IHBhcnNlcyBhIHN0cmluZyBpbnRvIGEgSmF2YVNjcmlwdCBvYmplY3QuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmNvZGVyIC0gQSBmdW5jdGlvbiB0aGF0IHRha2VzIGEgdmFsdWUgYW5kIHJldHVybnMgYSBzdHJpbmcuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gQSBzdHJpbmdpZmllZCB2ZXJzaW9uIG9mIHRoZSByYXdWYWx1ZS5cbiAqL1xuZnVuY3Rpb24gc3RyaW5naWZ5U2FmZWx5KHJhd1ZhbHVlLCBwYXJzZXIsIGVuY29kZXIpIHtcbiAgaWYgKHV0aWxzLmlzU3RyaW5nKHJhd1ZhbHVlKSkge1xuICAgIHRyeSB7XG4gICAgICAocGFyc2VyIHx8IEpTT04ucGFyc2UpKHJhd1ZhbHVlKTtcbiAgICAgIHJldHVybiB1dGlscy50cmltKHJhd1ZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZS5uYW1lICE9PSAnU3ludGF4RXJyb3InKSB7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChlbmNvZGVyIHx8IEpTT04uc3RyaW5naWZ5KShyYXdWYWx1ZSk7XG59XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuXG4gIHRyYW5zaXRpb25hbDogdHJhbnNpdGlvbmFsRGVmYXVsdHMsXG5cbiAgYWRhcHRlcjogWyd4aHInLCAnaHR0cCcsICdmZXRjaCddLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSB8fCAnJztcbiAgICBjb25zdCBoYXNKU09OQ29udGVudFR5cGUgPSBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPiAtMTtcbiAgICBjb25zdCBpc09iamVjdFBheWxvYWQgPSB1dGlscy5pc09iamVjdChkYXRhKTtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQgJiYgdXRpbHMuaXNIVE1MRm9ybShkYXRhKSkge1xuICAgICAgZGF0YSA9IG5ldyBGb3JtRGF0YShkYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBpc0Zvcm1EYXRhID0gdXRpbHMuaXNGb3JtRGF0YShkYXRhKTtcblxuICAgIGlmIChpc0Zvcm1EYXRhKSB7XG4gICAgICByZXR1cm4gaGFzSlNPTkNvbnRlbnRUeXBlID8gSlNPTi5zdHJpbmdpZnkoZm9ybURhdGFUb0pTT04oZGF0YSkpIDogZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04JywgZmFsc2UpO1xuICAgICAgcmV0dXJuIGRhdGEudG9TdHJpbmcoKTtcbiAgICB9XG5cbiAgICBsZXQgaXNGaWxlTGlzdDtcblxuICAgIGlmIChpc09iamVjdFBheWxvYWQpIHtcbiAgICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKSA+IC0xKSB7XG4gICAgICAgIHJldHVybiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIHRoaXMuZm9ybVNlcmlhbGl6ZXIpLnRvU3RyaW5nKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICgoaXNGaWxlTGlzdCA9IHV0aWxzLmlzRmlsZUxpc3QoZGF0YSkpIHx8IGNvbnRlbnRUeXBlLmluZGV4T2YoJ211bHRpcGFydC9mb3JtLWRhdGEnKSA+IC0xKSB7XG4gICAgICAgIGNvbnN0IF9Gb3JtRGF0YSA9IHRoaXMuZW52ICYmIHRoaXMuZW52LkZvcm1EYXRhO1xuXG4gICAgICAgIHJldHVybiB0b0Zvcm1EYXRhKFxuICAgICAgICAgIGlzRmlsZUxpc3QgPyB7J2ZpbGVzW10nOiBkYXRhfSA6IGRhdGEsXG4gICAgICAgICAgX0Zvcm1EYXRhICYmIG5ldyBfRm9ybURhdGEoKSxcbiAgICAgICAgICB0aGlzLmZvcm1TZXJpYWxpemVyXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCB8fCBoYXNKU09OQ29udGVudFR5cGUgKSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeVNhZmVseShkYXRhKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgdHJhbnNmb3JtUmVzcG9uc2U6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXNwb25zZShkYXRhKSB7XG4gICAgY29uc3QgdHJhbnNpdGlvbmFsID0gdGhpcy50cmFuc2l0aW9uYWwgfHwgZGVmYXVsdHMudHJhbnNpdGlvbmFsO1xuICAgIGNvbnN0IGZvcmNlZEpTT05QYXJzaW5nID0gdHJhbnNpdGlvbmFsICYmIHRyYW5zaXRpb25hbC5mb3JjZWRKU09OUGFyc2luZztcbiAgICBjb25zdCBKU09OUmVxdWVzdGVkID0gdGhpcy5yZXNwb25zZVR5cGUgPT09ICdqc29uJztcblxuICAgIGlmICh1dGlscy5pc1Jlc3BvbnNlKGRhdGEpIHx8IHV0aWxzLmlzUmVhZGFibGVTdHJlYW0oZGF0YSkpIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIGlmIChkYXRhICYmIHV0aWxzLmlzU3RyaW5nKGRhdGEpICYmICgoZm9yY2VkSlNPTlBhcnNpbmcgJiYgIXRoaXMucmVzcG9uc2VUeXBlKSB8fCBKU09OUmVxdWVzdGVkKSkge1xuICAgICAgY29uc3Qgc2lsZW50SlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLnNpbGVudEpTT05QYXJzaW5nO1xuICAgICAgY29uc3Qgc3RyaWN0SlNPTlBhcnNpbmcgPSAhc2lsZW50SlNPTlBhcnNpbmcgJiYgSlNPTlJlcXVlc3RlZDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChzdHJpY3RKU09OUGFyc2luZykge1xuICAgICAgICAgIGlmIChlLm5hbWUgPT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgICAgIHRocm93IEF4aW9zRXJyb3IuZnJvbShlLCBBeGlvc0Vycm9yLkVSUl9CQURfUkVTUE9OU0UsIHRoaXMsIG51bGwsIHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIC8qKlxuICAgKiBBIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzIHRvIGFib3J0IGEgcmVxdWVzdC4gSWYgc2V0IHRvIDAgKGRlZmF1bHQpIGFcbiAgICogdGltZW91dCBpcyBub3QgY3JlYXRlZC5cbiAgICovXG4gIHRpbWVvdXQ6IDAsXG5cbiAgeHNyZkNvb2tpZU5hbWU6ICdYU1JGLVRPS0VOJyxcbiAgeHNyZkhlYWRlck5hbWU6ICdYLVhTUkYtVE9LRU4nLFxuXG4gIG1heENvbnRlbnRMZW5ndGg6IC0xLFxuICBtYXhCb2R5TGVuZ3RoOiAtMSxcblxuICBlbnY6IHtcbiAgICBGb3JtRGF0YTogcGxhdGZvcm0uY2xhc3Nlcy5Gb3JtRGF0YSxcbiAgICBCbG9iOiBwbGF0Zm9ybS5jbGFzc2VzLkJsb2JcbiAgfSxcblxuICB2YWxpZGF0ZVN0YXR1czogZnVuY3Rpb24gdmFsaWRhdGVTdGF0dXMoc3RhdHVzKSB7XG4gICAgcmV0dXJuIHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwO1xuICB9LFxuXG4gIGhlYWRlcnM6IHtcbiAgICBjb21tb246IHtcbiAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcbiAgICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcbiAgICB9XG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgKG1ldGhvZCkgPT4ge1xuICBkZWZhdWx0cy5oZWFkZXJzW21ldGhvZF0gPSB7fTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBkZWZhdWx0cztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbi8vIFJhd0F4aW9zSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbmNvbnN0IGlnbm9yZUR1cGxpY2F0ZU9mID0gdXRpbHMudG9PYmplY3RTZXQoW1xuICAnYWdlJywgJ2F1dGhvcml6YXRpb24nLCAnY29udGVudC1sZW5ndGgnLCAnY29udGVudC10eXBlJywgJ2V0YWcnLFxuICAnZXhwaXJlcycsICdmcm9tJywgJ2hvc3QnLCAnaWYtbW9kaWZpZWQtc2luY2UnLCAnaWYtdW5tb2RpZmllZC1zaW5jZScsXG4gICdsYXN0LW1vZGlmaWVkJywgJ2xvY2F0aW9uJywgJ21heC1mb3J3YXJkcycsICdwcm94eS1hdXRob3JpemF0aW9uJyxcbiAgJ3JlZmVyZXInLCAncmV0cnktYWZ0ZXInLCAndXNlci1hZ2VudCdcbl0pO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcmF3SGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKlxuICogQHJldHVybnMge09iamVjdH0gSGVhZGVycyBwYXJzZWQgaW50byBhbiBvYmplY3RcbiAqL1xuZXhwb3J0IGRlZmF1bHQgcmF3SGVhZGVycyA9PiB7XG4gIGNvbnN0IHBhcnNlZCA9IHt9O1xuICBsZXQga2V5O1xuICBsZXQgdmFsO1xuICBsZXQgaTtcblxuICByYXdIZWFkZXJzICYmIHJhd0hlYWRlcnMuc3BsaXQoJ1xcbicpLmZvckVhY2goZnVuY3Rpb24gcGFyc2VyKGxpbmUpIHtcbiAgICBpID0gbGluZS5pbmRleE9mKCc6Jyk7XG4gICAga2V5ID0gbGluZS5zdWJzdHJpbmcoMCwgaSkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFsID0gbGluZS5zdWJzdHJpbmcoaSArIDEpLnRyaW0oKTtcblxuICAgIGlmICgha2V5IHx8IChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZltrZXldKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChrZXkgPT09ICdzZXQtY29va2llJykge1xuICAgICAgaWYgKHBhcnNlZFtrZXldKSB7XG4gICAgICAgIHBhcnNlZFtrZXldLnB1c2godmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlZFtrZXldID0gW3ZhbF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gcGFyc2VkO1xufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBhcnNlSGVhZGVycyBmcm9tICcuLi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyc7XG5cbmNvbnN0ICRpbnRlcm5hbHMgPSBTeW1ib2woJ2ludGVybmFscycpO1xuXG5mdW5jdGlvbiBub3JtYWxpemVIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIgJiYgU3RyaW5nKGhlYWRlcikudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gZmFsc2UgfHwgdmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB1dGlscy5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcChub3JtYWxpemVWYWx1ZSkgOiBTdHJpbmcodmFsdWUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZVRva2VucyhzdHIpIHtcbiAgY29uc3QgdG9rZW5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgY29uc3QgdG9rZW5zUkUgPSAvKFteXFxzLDs9XSspXFxzKig/Oj1cXHMqKFteLDtdKykpPy9nO1xuICBsZXQgbWF0Y2g7XG5cbiAgd2hpbGUgKChtYXRjaCA9IHRva2Vuc1JFLmV4ZWMoc3RyKSkpIHtcbiAgICB0b2tlbnNbbWF0Y2hbMV1dID0gbWF0Y2hbMl07XG4gIH1cblxuICByZXR1cm4gdG9rZW5zO1xufVxuXG5jb25zdCBpc1ZhbGlkSGVhZGVyTmFtZSA9IChzdHIpID0+IC9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3Qoc3RyLnRyaW0oKSk7XG5cbmZ1bmN0aW9uIG1hdGNoSGVhZGVyVmFsdWUoY29udGV4dCwgdmFsdWUsIGhlYWRlciwgZmlsdGVyLCBpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgaWYgKHV0aWxzLmlzRnVuY3Rpb24oZmlsdGVyKSkge1xuICAgIHJldHVybiBmaWx0ZXIuY2FsbCh0aGlzLCB2YWx1ZSwgaGVhZGVyKTtcbiAgfVxuXG4gIGlmIChpc0hlYWRlck5hbWVGaWx0ZXIpIHtcbiAgICB2YWx1ZSA9IGhlYWRlcjtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNTdHJpbmcodmFsdWUpKSByZXR1cm47XG5cbiAgaWYgKHV0aWxzLmlzU3RyaW5nKGZpbHRlcikpIHtcbiAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihmaWx0ZXIpICE9PSAtMTtcbiAgfVxuXG4gIGlmICh1dGlscy5pc1JlZ0V4cChmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci50ZXN0KHZhbHVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmb3JtYXRIZWFkZXIoaGVhZGVyKSB7XG4gIHJldHVybiBoZWFkZXIudHJpbSgpXG4gICAgLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvKFthLXpcXGRdKShcXHcqKS9nLCAodywgY2hhciwgc3RyKSA9PiB7XG4gICAgICByZXR1cm4gY2hhci50b1VwcGVyQ2FzZSgpICsgc3RyO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBidWlsZEFjY2Vzc29ycyhvYmosIGhlYWRlcikge1xuICBjb25zdCBhY2Nlc3Nvck5hbWUgPSB1dGlscy50b0NhbWVsQ2FzZSgnICcgKyBoZWFkZXIpO1xuXG4gIFsnZ2V0JywgJ3NldCcsICdoYXMnXS5mb3JFYWNoKG1ldGhvZE5hbWUgPT4ge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG1ldGhvZE5hbWUgKyBhY2Nlc3Nvck5hbWUsIHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbihhcmcxLCBhcmcyLCBhcmczKSB7XG4gICAgICAgIHJldHVybiB0aGlzW21ldGhvZE5hbWVdLmNhbGwodGhpcywgaGVhZGVyLCBhcmcxLCBhcmcyLCBhcmczKTtcbiAgICAgIH0sXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG59XG5cbmNsYXNzIEF4aW9zSGVhZGVycyB7XG4gIGNvbnN0cnVjdG9yKGhlYWRlcnMpIHtcbiAgICBoZWFkZXJzICYmIHRoaXMuc2V0KGhlYWRlcnMpO1xuICB9XG5cbiAgc2V0KGhlYWRlciwgdmFsdWVPclJld3JpdGUsIHJld3JpdGUpIHtcbiAgICBjb25zdCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWxIZWFkZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdoZWFkZXIgbmFtZSBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZycpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIGxIZWFkZXIpO1xuXG4gICAgICBpZigha2V5IHx8IHNlbGZba2V5XSA9PT0gdW5kZWZpbmVkIHx8IF9yZXdyaXRlID09PSB0cnVlIHx8IChfcmV3cml0ZSA9PT0gdW5kZWZpbmVkICYmIHNlbGZba2V5XSAhPT0gZmFsc2UpKSB7XG4gICAgICAgIHNlbGZba2V5IHx8IF9oZWFkZXJdID0gbm9ybWFsaXplVmFsdWUoX3ZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGhlYWRlcnMsIF9yZXdyaXRlKSA9PlxuICAgICAgdXRpbHMuZm9yRWFjaChoZWFkZXJzLCAoX3ZhbHVlLCBfaGVhZGVyKSA9PiBzZXRIZWFkZXIoX3ZhbHVlLCBfaGVhZGVyLCBfcmV3cml0ZSkpO1xuXG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QoaGVhZGVyKSB8fCBoZWFkZXIgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSB7XG4gICAgICBzZXRIZWFkZXJzKGhlYWRlciwgdmFsdWVPclJld3JpdGUpXG4gICAgfSBlbHNlIGlmKHV0aWxzLmlzU3RyaW5nKGhlYWRlcikgJiYgKGhlYWRlciA9IGhlYWRlci50cmltKCkpICYmICFpc1ZhbGlkSGVhZGVyTmFtZShoZWFkZXIpKSB7XG4gICAgICBzZXRIZWFkZXJzKHBhcnNlSGVhZGVycyhoZWFkZXIpLCB2YWx1ZU9yUmV3cml0ZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc0hlYWRlcnMoaGVhZGVyKSkge1xuICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaGVhZGVyLmVudHJpZXMoKSkge1xuICAgICAgICBzZXRIZWFkZXIodmFsdWUsIGtleSwgcmV3cml0ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlYWRlciAhPSBudWxsICYmIHNldEhlYWRlcih2YWx1ZU9yUmV3cml0ZSwgaGVhZGVyLCByZXdyaXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGdldChoZWFkZXIsIHBhcnNlcikge1xuICAgIGhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpO1xuXG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleSh0aGlzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpc1trZXldO1xuXG4gICAgICAgIGlmICghcGFyc2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnNlciA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZVRva2Vucyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJzZXIpKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlci5jYWxsKHRoaXMsIHZhbHVlLCBrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzUmVnRXhwKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmV4ZWModmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb24nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBoYXMoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIHJldHVybiAhIShrZXkgJiYgdGhpc1trZXldICE9PSB1bmRlZmluZWQgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZGVsZXRlKGhlYWRlciwgbWF0Y2hlcikge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICBmdW5jdGlvbiBkZWxldGVIZWFkZXIoX2hlYWRlcikge1xuICAgICAgX2hlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKF9oZWFkZXIpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShzZWxmLCBfaGVhZGVyKTtcblxuICAgICAgICBpZiAoa2V5ICYmICghbWF0Y2hlciB8fCBtYXRjaEhlYWRlclZhbHVlKHNlbGYsIHNlbGZba2V5XSwga2V5LCBtYXRjaGVyKSkpIHtcbiAgICAgICAgICBkZWxldGUgc2VsZltrZXldO1xuXG4gICAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXRpbHMuaXNBcnJheShoZWFkZXIpKSB7XG4gICAgICBoZWFkZXIuZm9yRWFjaChkZWxldGVIZWFkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGVsZXRlZDtcbiAgfVxuXG4gIGNsZWFyKG1hdGNoZXIpIHtcbiAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gICAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgICBsZXQgZGVsZXRlZCA9IGZhbHNlO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcbiAgICAgIGlmKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUodGhpcywgdGhpc1trZXldLCBrZXksIG1hdGNoZXIsIHRydWUpKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgICAgIGRlbGV0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgbm9ybWFsaXplKGZvcm1hdCkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7fTtcblxuICAgIHV0aWxzLmZvckVhY2godGhpcywgKHZhbHVlLCBoZWFkZXIpID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoaGVhZGVycywgaGVhZGVyKTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBzZWxmW2tleV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3Qgbm9ybWFsaXplZCA9IGZvcm1hdCA/IGZvcm1hdEhlYWRlcihoZWFkZXIpIDogU3RyaW5nKGhlYWRlcikudHJpbSgpO1xuXG4gICAgICBpZiAobm9ybWFsaXplZCAhPT0gaGVhZGVyKSB7XG4gICAgICAgIGRlbGV0ZSBzZWxmW2hlYWRlcl07XG4gICAgICB9XG5cbiAgICAgIHNlbGZbbm9ybWFsaXplZF0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG5cbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZF0gPSB0cnVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBjb25jYXQoLi4udGFyZ2V0cykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLCAuLi50YXJnZXRzKTtcbiAgfVxuXG4gIHRvSlNPTihhc1N0cmluZ3MpIHtcbiAgICBjb25zdCBvYmogPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgdmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSAhPT0gZmFsc2UgJiYgKG9ialtoZWFkZXJdID0gYXNTdHJpbmdzICYmIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUuam9pbignLCAnKSA6IHZhbHVlKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSlbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICB9XG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHRoaXMudG9KU09OKCkpLm1hcCgoW2hlYWRlciwgdmFsdWVdKSA9PiBoZWFkZXIgKyAnOiAnICsgdmFsdWUpLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgZ2V0IFtTeW1ib2wudG9TdHJpbmdUYWddKCkge1xuICAgIHJldHVybiAnQXhpb3NIZWFkZXJzJztcbiAgfVxuXG4gIHN0YXRpYyBmcm9tKHRoaW5nKSB7XG4gICAgcmV0dXJuIHRoaW5nIGluc3RhbmNlb2YgdGhpcyA/IHRoaW5nIDogbmV3IHRoaXModGhpbmcpO1xuICB9XG5cbiAgc3RhdGljIGNvbmNhdChmaXJzdCwgLi4udGFyZ2V0cykge1xuICAgIGNvbnN0IGNvbXB1dGVkID0gbmV3IHRoaXMoZmlyc3QpO1xuXG4gICAgdGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+IGNvbXB1dGVkLnNldCh0YXJnZXQpKTtcblxuICAgIHJldHVybiBjb21wdXRlZDtcbiAgfVxuXG4gIHN0YXRpYyBhY2Nlc3NvcihoZWFkZXIpIHtcbiAgICBjb25zdCBpbnRlcm5hbHMgPSB0aGlzWyRpbnRlcm5hbHNdID0gKHRoaXNbJGludGVybmFsc10gPSB7XG4gICAgICBhY2Nlc3NvcnM6IHt9XG4gICAgfSk7XG5cbiAgICBjb25zdCBhY2Nlc3NvcnMgPSBpbnRlcm5hbHMuYWNjZXNzb3JzO1xuICAgIGNvbnN0IHByb3RvdHlwZSA9IHRoaXMucHJvdG90eXBlO1xuXG4gICAgZnVuY3Rpb24gZGVmaW5lQWNjZXNzb3IoX2hlYWRlcikge1xuICAgICAgY29uc3QgbEhlYWRlciA9IG5vcm1hbGl6ZUhlYWRlcihfaGVhZGVyKTtcblxuICAgICAgaWYgKCFhY2Nlc3NvcnNbbEhlYWRlcl0pIHtcbiAgICAgICAgYnVpbGRBY2Nlc3NvcnMocHJvdG90eXBlLCBfaGVhZGVyKTtcbiAgICAgICAgYWNjZXNzb3JzW2xIZWFkZXJdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1dGlscy5pc0FycmF5KGhlYWRlcikgPyBoZWFkZXIuZm9yRWFjaChkZWZpbmVBY2Nlc3NvcikgOiBkZWZpbmVBY2Nlc3NvcihoZWFkZXIpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuQXhpb3NIZWFkZXJzLmFjY2Vzc29yKFsnQ29udGVudC1UeXBlJywgJ0NvbnRlbnQtTGVuZ3RoJywgJ0FjY2VwdCcsICdBY2NlcHQtRW5jb2RpbmcnLCAnVXNlci1BZ2VudCcsICdBdXRob3JpemF0aW9uJ10pO1xuXG4vLyByZXNlcnZlZCBuYW1lcyBob3RmaXhcbnV0aWxzLnJlZHVjZURlc2NyaXB0b3JzKEF4aW9zSGVhZGVycy5wcm90b3R5cGUsICh7dmFsdWV9LCBrZXkpID0+IHtcbiAgbGV0IG1hcHBlZCA9IGtleVswXS50b1VwcGVyQ2FzZSgpICsga2V5LnNsaWNlKDEpOyAvLyBtYXAgYHNldGAgPT4gYFNldGBcbiAgcmV0dXJuIHtcbiAgICBnZXQ6ICgpID0+IHZhbHVlLFxuICAgIHNldChoZWFkZXJWYWx1ZSkge1xuICAgICAgdGhpc1ttYXBwZWRdID0gaGVhZGVyVmFsdWU7XG4gICAgfVxuICB9XG59KTtcblxudXRpbHMuZnJlZXplTWV0aG9kcyhBeGlvc0hlYWRlcnMpO1xuXG5leHBvcnQgZGVmYXVsdCBBeGlvc0hlYWRlcnM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuXG4vKipcbiAqIFRyYW5zZm9ybSB0aGUgZGF0YSBmb3IgYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2VcbiAqXG4gKiBAcGFyYW0ge0FycmF5fEZ1bmN0aW9ufSBmbnMgQSBzaW5nbGUgZnVuY3Rpb24gb3IgQXJyYXkgb2YgZnVuY3Rpb25zXG4gKiBAcGFyYW0gez9PYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZSBvYmplY3RcbiAqXG4gKiBAcmV0dXJucyB7Kn0gVGhlIHJlc3VsdGluZyB0cmFuc2Zvcm1lZCBkYXRhXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHRyYW5zZm9ybURhdGEoZm5zLCByZXNwb25zZSkge1xuICBjb25zdCBjb25maWcgPSB0aGlzIHx8IGRlZmF1bHRzO1xuICBjb25zdCBjb250ZXh0ID0gcmVzcG9uc2UgfHwgY29uZmlnO1xuICBjb25zdCBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29udGV4dC5oZWFkZXJzKTtcbiAgbGV0IGRhdGEgPSBjb250ZXh0LmRhdGE7XG5cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbi5jYWxsKGNvbmZpZywgZGF0YSwgaGVhZGVycy5ub3JtYWxpemUoKSwgcmVzcG9uc2UgPyByZXNwb25zZS5zdGF0dXMgOiB1bmRlZmluZWQpO1xuICB9KTtcblxuICBoZWFkZXJzLm5vcm1hbGl6ZSgpO1xuXG4gIHJldHVybiBkYXRhO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQ2FuY2VsKHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX0NBTkNFTF9fKTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBBIGBDYW5jZWxlZEVycm9yYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSBtZXNzYWdlIFRoZSBtZXNzYWdlLlxuICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7T2JqZWN0PX0gcmVxdWVzdCBUaGUgcmVxdWVzdC5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsZWRFcnJvcn0gVGhlIGNyZWF0ZWQgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICBBeGlvc0Vycm9yLmNhbGwodGhpcywgbWVzc2FnZSA9PSBudWxsID8gJ2NhbmNlbGVkJyA6IG1lc3NhZ2UsIEF4aW9zRXJyb3IuRVJSX0NBTkNFTEVELCBjb25maWcsIHJlcXVlc3QpO1xuICB0aGlzLm5hbWUgPSAnQ2FuY2VsZWRFcnJvcic7XG59XG5cbnV0aWxzLmluaGVyaXRzKENhbmNlbGVkRXJyb3IsIEF4aW9zRXJyb3IsIHtcbiAgX19DQU5DRUxfXzogdHJ1ZVxufSk7XG5cbmV4cG9ydCBkZWZhdWx0IENhbmNlbGVkRXJyb3I7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi9BeGlvc0Vycm9yLmpzJztcblxuLyoqXG4gKiBSZXNvbHZlIG9yIHJlamVjdCBhIFByb21pc2UgYmFzZWQgb24gcmVzcG9uc2Ugc3RhdHVzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlc29sdmUgQSBmdW5jdGlvbiB0aGF0IHJlc29sdmVzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0IEEgZnVuY3Rpb24gdGhhdCByZWplY3RzIHRoZSBwcm9taXNlLlxuICogQHBhcmFtIHtvYmplY3R9IHJlc3BvbnNlIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fSBUaGUgcmVzcG9uc2UuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICBpZiAoIXJlc3BvbnNlLnN0YXR1cyB8fCAhdmFsaWRhdGVTdGF0dXMgfHwgdmFsaWRhdGVTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKSkge1xuICAgIHJlc29sdmUocmVzcG9uc2UpO1xuICB9IGVsc2Uge1xuICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICdSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICcgKyByZXNwb25zZS5zdGF0dXMsXG4gICAgICBbQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihyZXNwb25zZS5zdGF0dXMgLyAxMDApIC0gNF0sXG4gICAgICByZXNwb25zZS5jb25maWcsXG4gICAgICByZXNwb25zZS5yZXF1ZXN0LFxuICAgICAgcmVzcG9uc2VcbiAgICApKTtcbiAgfVxufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBhcnNlUHJvdG9jb2wodXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gL14oWy0rXFx3XXsxLDI1fSkoOj9cXC9cXC98OikvLmV4ZWModXJsKTtcbiAgcmV0dXJuIG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQ2FsY3VsYXRlIGRhdGEgbWF4UmF0ZVxuICogQHBhcmFtIHtOdW1iZXJ9IFtzYW1wbGVzQ291bnQ9IDEwXVxuICogQHBhcmFtIHtOdW1iZXJ9IFttaW49IDEwMDBdXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmZ1bmN0aW9uIHNwZWVkb21ldGVyKHNhbXBsZXNDb3VudCwgbWluKSB7XG4gIHNhbXBsZXNDb3VudCA9IHNhbXBsZXNDb3VudCB8fCAxMDtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgQXJyYXkoc2FtcGxlc0NvdW50KTtcbiAgY29uc3QgdGltZXN0YW1wcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBsZXQgaGVhZCA9IDA7XG4gIGxldCB0YWlsID0gMDtcbiAgbGV0IGZpcnN0U2FtcGxlVFM7XG5cbiAgbWluID0gbWluICE9PSB1bmRlZmluZWQgPyBtaW4gOiAxMDAwO1xuXG4gIHJldHVybiBmdW5jdGlvbiBwdXNoKGNodW5rTGVuZ3RoKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcblxuICAgIGNvbnN0IHN0YXJ0ZWRBdCA9IHRpbWVzdGFtcHNbdGFpbF07XG5cbiAgICBpZiAoIWZpcnN0U2FtcGxlVFMpIHtcbiAgICAgIGZpcnN0U2FtcGxlVFMgPSBub3c7XG4gICAgfVxuXG4gICAgYnl0ZXNbaGVhZF0gPSBjaHVua0xlbmd0aDtcbiAgICB0aW1lc3RhbXBzW2hlYWRdID0gbm93O1xuXG4gICAgbGV0IGkgPSB0YWlsO1xuICAgIGxldCBieXRlc0NvdW50ID0gMDtcblxuICAgIHdoaWxlIChpICE9PSBoZWFkKSB7XG4gICAgICBieXRlc0NvdW50ICs9IGJ5dGVzW2krK107XG4gICAgICBpID0gaSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBoZWFkID0gKGhlYWQgKyAxKSAlIHNhbXBsZXNDb3VudDtcblxuICAgIGlmIChoZWFkID09PSB0YWlsKSB7XG4gICAgICB0YWlsID0gKHRhaWwgKyAxKSAlIHNhbXBsZXNDb3VudDtcbiAgICB9XG5cbiAgICBpZiAobm93IC0gZmlyc3RTYW1wbGVUUyA8IG1pbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHBhc3NlZCA9IHN0YXJ0ZWRBdCAmJiBub3cgLSBzdGFydGVkQXQ7XG5cbiAgICByZXR1cm4gcGFzc2VkID8gTWF0aC5yb3VuZChieXRlc0NvdW50ICogMTAwMCAvIHBhc3NlZCkgOiB1bmRlZmluZWQ7XG4gIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNwZWVkb21ldGVyO1xuIiwKICAgICIvKipcbiAqIFRocm90dGxlIGRlY29yYXRvclxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSB7TnVtYmVyfSBmcmVxXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZm4sIGZyZXEpIHtcbiAgbGV0IHRpbWVzdGFtcCA9IDA7XG4gIGxldCB0aHJlc2hvbGQgPSAxMDAwIC8gZnJlcTtcbiAgbGV0IGxhc3RBcmdzO1xuICBsZXQgdGltZXI7XG5cbiAgY29uc3QgaW52b2tlID0gKGFyZ3MsIG5vdyA9IERhdGUubm93KCkpID0+IHtcbiAgICB0aW1lc3RhbXAgPSBub3c7XG4gICAgbGFzdEFyZ3MgPSBudWxsO1xuICAgIGlmICh0aW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICB9XG4gICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gIH1cblxuICBjb25zdCB0aHJvdHRsZWQgPSAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcGFzc2VkID0gbm93IC0gdGltZXN0YW1wO1xuICAgIGlmICggcGFzc2VkID49IHRocmVzaG9sZCkge1xuICAgICAgaW52b2tlKGFyZ3MsIG5vdyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxhc3RBcmdzID0gYXJncztcbiAgICAgIGlmICghdGltZXIpIHtcbiAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgICAgaW52b2tlKGxhc3RBcmdzKVxuICAgICAgICB9LCB0aHJlc2hvbGQgLSBwYXNzZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGZsdXNoID0gKCkgPT4gbGFzdEFyZ3MgJiYgaW52b2tlKGxhc3RBcmdzKTtcblxuICByZXR1cm4gW3Rocm90dGxlZCwgZmx1c2hdO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0aHJvdHRsZTtcbiIsCiAgICAiaW1wb3J0IHNwZWVkb21ldGVyIGZyb20gXCIuL3NwZWVkb21ldGVyLmpzXCI7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSBcIi4vdGhyb3R0bGUuanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcblxuZXhwb3J0IGNvbnN0IHByb2dyZXNzRXZlbnRSZWR1Y2VyID0gKGxpc3RlbmVyLCBpc0Rvd25sb2FkU3RyZWFtLCBmcmVxID0gMykgPT4ge1xuICBsZXQgYnl0ZXNOb3RpZmllZCA9IDA7XG4gIGNvbnN0IF9zcGVlZG9tZXRlciA9IHNwZWVkb21ldGVyKDUwLCAyNTApO1xuXG4gIHJldHVybiB0aHJvdHRsZShlID0+IHtcbiAgICBjb25zdCBsb2FkZWQgPSBlLmxvYWRlZDtcbiAgICBjb25zdCB0b3RhbCA9IGUubGVuZ3RoQ29tcHV0YWJsZSA/IGUudG90YWwgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJvZ3Jlc3NCeXRlcyA9IGxvYWRlZCAtIGJ5dGVzTm90aWZpZWQ7XG4gICAgY29uc3QgcmF0ZSA9IF9zcGVlZG9tZXRlcihwcm9ncmVzc0J5dGVzKTtcbiAgICBjb25zdCBpblJhbmdlID0gbG9hZGVkIDw9IHRvdGFsO1xuXG4gICAgYnl0ZXNOb3RpZmllZCA9IGxvYWRlZDtcblxuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICBsb2FkZWQsXG4gICAgICB0b3RhbCxcbiAgICAgIHByb2dyZXNzOiB0b3RhbCA/IChsb2FkZWQgLyB0b3RhbCkgOiB1bmRlZmluZWQsXG4gICAgICBieXRlczogcHJvZ3Jlc3NCeXRlcyxcbiAgICAgIHJhdGU6IHJhdGUgPyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXN0aW1hdGVkOiByYXRlICYmIHRvdGFsICYmIGluUmFuZ2UgPyAodG90YWwgLSBsb2FkZWQpIC8gcmF0ZSA6IHVuZGVmaW5lZCxcbiAgICAgIGV2ZW50OiBlLFxuICAgICAgbGVuZ3RoQ29tcHV0YWJsZTogdG90YWwgIT0gbnVsbCxcbiAgICAgIFtpc0Rvd25sb2FkU3RyZWFtID8gJ2Rvd25sb2FkJyA6ICd1cGxvYWQnXTogdHJ1ZVxuICAgIH07XG5cbiAgICBsaXN0ZW5lcihkYXRhKTtcbiAgfSwgZnJlcSk7XG59XG5cbmV4cG9ydCBjb25zdCBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yID0gKHRvdGFsLCB0aHJvdHRsZWQpID0+IHtcbiAgY29uc3QgbGVuZ3RoQ29tcHV0YWJsZSA9IHRvdGFsICE9IG51bGw7XG5cbiAgcmV0dXJuIFsobG9hZGVkKSA9PiB0aHJvdHRsZWRbMF0oe1xuICAgIGxlbmd0aENvbXB1dGFibGUsXG4gICAgdG90YWwsXG4gICAgbG9hZGVkXG4gIH0pLCB0aHJvdHRsZWRbMV1dO1xufVxuXG5leHBvcnQgY29uc3QgYXN5bmNEZWNvcmF0b3IgPSAoZm4pID0+ICguLi5hcmdzKSA9PiB1dGlscy5hc2FwKCgpID0+IGZuKC4uLmFyZ3MpKTtcbiIsCiAgICAiaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52ID8gKChvcmlnaW4sIGlzTVNJRSkgPT4gKHVybCkgPT4ge1xuICB1cmwgPSBuZXcgVVJMKHVybCwgcGxhdGZvcm0ub3JpZ2luKTtcblxuICByZXR1cm4gKFxuICAgIG9yaWdpbi5wcm90b2NvbCA9PT0gdXJsLnByb3RvY29sICYmXG4gICAgb3JpZ2luLmhvc3QgPT09IHVybC5ob3N0ICYmXG4gICAgKGlzTVNJRSB8fCBvcmlnaW4ucG9ydCA9PT0gdXJsLnBvcnQpXG4gICk7XG59KShcbiAgbmV3IFVSTChwbGF0Zm9ybS5vcmlnaW4pLFxuICBwbGF0Zm9ybS5uYXZpZ2F0b3IgJiYgLyhtc2llfHRyaWRlbnQpL2kudGVzdChwbGF0Zm9ybS5uYXZpZ2F0b3IudXNlckFnZW50KVxuKSA6ICgpID0+IHRydWU7XG4iLAogICAgImltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIHtcbiAgICB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgIGNvbnN0IGNvb2tpZSA9IFtuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKV07XG5cbiAgICAgIHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpICYmIGNvb2tpZS5wdXNoKCdleHBpcmVzPScgKyBuZXcgRGF0ZShleHBpcmVzKS50b0dNVFN0cmluZygpKTtcblxuICAgICAgdXRpbHMuaXNTdHJpbmcocGF0aCkgJiYgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuXG4gICAgICB1dGlscy5pc1N0cmluZyhkb21haW4pICYmIGNvb2tpZS5wdXNoKCdkb21haW49JyArIGRvbWFpbik7XG5cbiAgICAgIHNlY3VyZSA9PT0gdHJ1ZSAmJiBjb29raWUucHVzaCgnc2VjdXJlJyk7XG5cbiAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgIH0sXG5cbiAgICByZWFkKG5hbWUpIHtcbiAgICAgIGNvbnN0IG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoJyhefDtcXFxccyopKCcgKyBuYW1lICsgJyk9KFteO10qKScpKTtcbiAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgfSxcblxuICAgIHJlbW92ZShuYW1lKSB7XG4gICAgICB0aGlzLndyaXRlKG5hbWUsICcnLCBEYXRlLm5vdygpIC0gODY0MDAwMDApO1xuICAgIH1cbiAgfVxuXG4gIDpcblxuICAvLyBOb24tc3RhbmRhcmQgYnJvd3NlciBlbnYgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIHtcbiAgICB3cml0ZSgpIHt9LFxuICAgIHJlYWQoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHJlbW92ZSgpIHt9XG4gIH07XG5cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHNwZWNpZmllZCBVUkwgaXMgYWJzb2x1dGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZCtcXC0uXSo6KT9cXC9cXC8vaS50ZXN0KHVybCk7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBVUkxcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVsYXRpdmVVUkwpIHtcbiAgcmV0dXJuIHJlbGF0aXZlVVJMXG4gICAgPyBiYXNlVVJMLnJlcGxhY2UoL1xcLz9cXC8kLywgJycpICsgJy8nICsgcmVsYXRpdmVVUkwucmVwbGFjZSgvXlxcLysvLCAnJylcbiAgICA6IGJhc2VVUkw7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGlzQWJzb2x1dGVVUkwgZnJvbSAnLi4vaGVscGVycy9pc0Fic29sdXRlVVJMLmpzJztcbmltcG9ydCBjb21iaW5lVVJMcyBmcm9tICcuLi9oZWxwZXJzL2NvbWJpbmVVUkxzLmpzJztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIGJhc2VVUkwgd2l0aCB0aGUgcmVxdWVzdGVkVVJMLFxuICogb25seSB3aGVuIHRoZSByZXF1ZXN0ZWRVUkwgaXMgbm90IGFscmVhZHkgYW4gYWJzb2x1dGUgVVJMLlxuICogSWYgdGhlIHJlcXVlc3RVUkwgaXMgYWJzb2x1dGUsIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgcmVxdWVzdGVkVVJMIHVudG91Y2hlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXF1ZXN0ZWRVUkwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIHRvIGNvbWJpbmVcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgY29tYmluZWQgZnVsbCBwYXRoXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkRnVsbFBhdGgoYmFzZVVSTCwgcmVxdWVzdGVkVVJMLCBhbGxvd0Fic29sdXRlVXJscykge1xuICBsZXQgaXNSZWxhdGl2ZVVybCA9ICFpc0Fic29sdXRlVVJMKHJlcXVlc3RlZFVSTCk7XG4gIGlmIChiYXNlVVJMICYmIGlzUmVsYXRpdmVVcmwgfHwgYWxsb3dBYnNvbHV0ZVVybHMgPT0gZmFsc2UpIHtcbiAgICByZXR1cm4gY29tYmluZVVSTHMoYmFzZVVSTCwgcmVxdWVzdGVkVVJMKTtcbiAgfVxuICByZXR1cm4gcmVxdWVzdGVkVVJMO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuL0F4aW9zSGVhZGVycy5qc1wiO1xuXG5jb25zdCBoZWFkZXJzVG9PYmplY3QgPSAodGhpbmcpID0+IHRoaW5nIGluc3RhbmNlb2YgQXhpb3NIZWFkZXJzID8geyAuLi50aGluZyB9IDogdGhpbmc7XG5cbi8qKlxuICogQ29uZmlnLXNwZWNpZmljIG1lcmdlLWZ1bmN0aW9uIHdoaWNoIGNyZWF0ZXMgYSBuZXcgY29uZmlnLW9iamVjdFxuICogYnkgbWVyZ2luZyB0d28gY29uZmlndXJhdGlvbiBvYmplY3RzIHRvZ2V0aGVyLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcxXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnMlxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9IE5ldyBvYmplY3QgcmVzdWx0aW5nIGZyb20gbWVyZ2luZyBjb25maWcyIHRvIGNvbmZpZzFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbWVyZ2VDb25maWcoY29uZmlnMSwgY29uZmlnMikge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgY29uZmlnMiA9IGNvbmZpZzIgfHwge307XG4gIGNvbnN0IGNvbmZpZyA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldE1lcmdlZFZhbHVlKHRhcmdldCwgc291cmNlLCBwcm9wLCBjYXNlbGVzcykge1xuICAgIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHRhcmdldCkgJiYgdXRpbHMuaXNQbGFpbk9iamVjdChzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gdXRpbHMubWVyZ2UuY2FsbCh7Y2FzZWxlc3N9LCB0YXJnZXQsIHNvdXJjZSk7XG4gICAgfSBlbHNlIGlmICh1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZSh7fSwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgpO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGVlcFByb3BlcnRpZXMoYSwgYiwgcHJvcCAsIGNhc2VsZXNzKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIsIHByb3AgLCBjYXNlbGVzcyk7XG4gICAgfSBlbHNlIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYSkpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEsIHByb3AgLCBjYXNlbGVzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIHZhbHVlRnJvbUNvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBmdW5jdGlvbiBkZWZhdWx0VG9Db25maWcyKGEsIGIpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBiKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIG1lcmdlRGlyZWN0S2V5cyhhLCBiLCBwcm9wKSB7XG4gICAgaWYgKHByb3AgaW4gY29uZmlnMikge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKGEsIGIpO1xuICAgIH0gZWxzZSBpZiAocHJvcCBpbiBjb25maWcxKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBtZXJnZU1hcCA9IHtcbiAgICB1cmw6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgbWV0aG9kOiB2YWx1ZUZyb21Db25maWcyLFxuICAgIGRhdGE6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgYmFzZVVSTDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHBhcmFtc1NlcmlhbGl6ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdGltZW91dDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0TWVzc2FnZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoQ3JlZGVudGlhbHM6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgd2l0aFhTUkZUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBhZGFwdGVyOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlVHlwZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmQ29va2llTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB4c3JmSGVhZGVyTmFtZTogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBvblVwbG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uRG93bmxvYWRQcm9ncmVzczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBkZWNvbXByZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG1heENvbnRlbnRMZW5ndGg6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Qm9keUxlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBiZWZvcmVSZWRpcmVjdDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0cmFuc3BvcnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cEFnZW50OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGh0dHBzQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgY2FuY2VsVG9rZW46IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgc29ja2V0UGF0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICByZXNwb25zZUVuY29kaW5nOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHZhbGlkYXRlU3RhdHVzOiBtZXJnZURpcmVjdEtleXMsXG4gICAgaGVhZGVyczogKGEsIGIgLCBwcm9wKSA9PiBtZXJnZURlZXBQcm9wZXJ0aWVzKGhlYWRlcnNUb09iamVjdChhKSwgaGVhZGVyc1RvT2JqZWN0KGIpLHByb3AsIHRydWUpXG4gIH07XG5cbiAgdXRpbHMuZm9yRWFjaChPYmplY3Qua2V5cyhPYmplY3QuYXNzaWduKHt9LCBjb25maWcxLCBjb25maWcyKSksIGZ1bmN0aW9uIGNvbXB1dGVDb25maWdWYWx1ZShwcm9wKSB7XG4gICAgY29uc3QgbWVyZ2UgPSBtZXJnZU1hcFtwcm9wXSB8fCBtZXJnZURlZXBQcm9wZXJ0aWVzO1xuICAgIGNvbnN0IGNvbmZpZ1ZhbHVlID0gbWVyZ2UoY29uZmlnMVtwcm9wXSwgY29uZmlnMltwcm9wXSwgcHJvcCk7XG4gICAgKHV0aWxzLmlzVW5kZWZpbmVkKGNvbmZpZ1ZhbHVlKSAmJiBtZXJnZSAhPT0gbWVyZ2VEaXJlY3RLZXlzKSB8fCAoY29uZmlnW3Byb3BdID0gY29uZmlnVmFsdWUpO1xuICB9KTtcblxuICByZXR1cm4gY29uZmlnO1xufVxuIiwKICAgICJpbXBvcnQgcGxhdGZvcm0gZnJvbSBcIi4uL3BsYXRmb3JtL2luZGV4LmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgaXNVUkxTYW1lT3JpZ2luIGZyb20gXCIuL2lzVVJMU2FtZU9yaWdpbi5qc1wiO1xuaW1wb3J0IGNvb2tpZXMgZnJvbSBcIi4vY29va2llcy5qc1wiO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSBcIi4uL2NvcmUvYnVpbGRGdWxsUGF0aC5qc1wiO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gXCIuLi9jb3JlL21lcmdlQ29uZmlnLmpzXCI7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IGJ1aWxkVVJMIGZyb20gXCIuL2J1aWxkVVJMLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IChjb25maWcpID0+IHtcbiAgY29uc3QgbmV3Q29uZmlnID0gbWVyZ2VDb25maWcoe30sIGNvbmZpZyk7XG5cbiAgbGV0IHtkYXRhLCB3aXRoWFNSRlRva2VuLCB4c3JmSGVhZGVyTmFtZSwgeHNyZkNvb2tpZU5hbWUsIGhlYWRlcnMsIGF1dGh9ID0gbmV3Q29uZmlnO1xuXG4gIG5ld0NvbmZpZy5oZWFkZXJzID0gaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKGhlYWRlcnMpO1xuXG4gIG5ld0NvbmZpZy51cmwgPSBidWlsZFVSTChidWlsZEZ1bGxQYXRoKG5ld0NvbmZpZy5iYXNlVVJMLCBuZXdDb25maWcudXJsLCBuZXdDb25maWcuYWxsb3dBYnNvbHV0ZVVybHMpLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcik7XG5cbiAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICBpZiAoYXV0aCkge1xuICAgIGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgK1xuICAgICAgYnRvYSgoYXV0aC51c2VybmFtZSB8fCAnJykgKyAnOicgKyAoYXV0aC5wYXNzd29yZCA/IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChhdXRoLnBhc3N3b3JkKSkgOiAnJykpXG4gICAgKTtcbiAgfVxuXG4gIGxldCBjb250ZW50VHlwZTtcblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSkge1xuICAgIGlmIChwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgfHwgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KSB7XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKHVuZGVmaW5lZCk7IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9IGVsc2UgaWYgKChjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0Q29udGVudFR5cGUoKSkgIT09IGZhbHNlKSB7XG4gICAgICAvLyBmaXggc2VtaWNvbG9uIGR1cGxpY2F0aW9uIGlzc3VlIGZvciBSZWFjdE5hdGl2ZSBGb3JtRGF0YSBpbXBsZW1lbnRhdGlvblxuICAgICAgY29uc3QgW3R5cGUsIC4uLnRva2Vuc10gPSBjb250ZW50VHlwZSA/IGNvbnRlbnRUeXBlLnNwbGl0KCc7JykubWFwKHRva2VuID0+IHRva2VuLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gICAgICBoZWFkZXJzLnNldENvbnRlbnRUeXBlKFt0eXBlIHx8ICdtdWx0aXBhcnQvZm9ybS1kYXRhJywgLi4udG9rZW5zXS5qb2luKCc7ICcpKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgLy8gVGhpcyBpcyBvbmx5IGRvbmUgaWYgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnQuXG4gIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG5cbiAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudikge1xuICAgIHdpdGhYU1JGVG9rZW4gJiYgdXRpbHMuaXNGdW5jdGlvbih3aXRoWFNSRlRva2VuKSAmJiAod2l0aFhTUkZUb2tlbiA9IHdpdGhYU1JGVG9rZW4obmV3Q29uZmlnKSk7XG5cbiAgICBpZiAod2l0aFhTUkZUb2tlbiB8fCAod2l0aFhTUkZUb2tlbiAhPT0gZmFsc2UgJiYgaXNVUkxTYW1lT3JpZ2luKG5ld0NvbmZpZy51cmwpKSkge1xuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICBjb25zdCB4c3JmVmFsdWUgPSB4c3JmSGVhZGVyTmFtZSAmJiB4c3JmQ29va2llTmFtZSAmJiBjb29raWVzLnJlYWQoeHNyZkNvb2tpZU5hbWUpO1xuXG4gICAgICBpZiAoeHNyZlZhbHVlKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0KHhzcmZIZWFkZXJOYW1lLCB4c3JmVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXdDb25maWc7XG59XG5cbiIsCiAgICAiaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHNldHRsZSBmcm9tICcuLy4uL2NvcmUvc2V0dGxlLmpzJztcbmltcG9ydCB0cmFuc2l0aW9uYWxEZWZhdWx0cyBmcm9tICcuLi9kZWZhdWx0cy90cmFuc2l0aW9uYWwuanMnO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSAnLi4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBwYXJzZVByb3RvY29sIGZyb20gJy4uL2hlbHBlcnMvcGFyc2VQcm90b2NvbC5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5pbXBvcnQge3Byb2dyZXNzRXZlbnRSZWR1Y2VyfSBmcm9tICcuLi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzJztcbmltcG9ydCByZXNvbHZlQ29uZmlnIGZyb20gXCIuLi9oZWxwZXJzL3Jlc29sdmVDb25maWcuanNcIjtcblxuY29uc3QgaXNYSFJBZGFwdGVyU3VwcG9ydGVkID0gdHlwZW9mIFhNTEh0dHBSZXF1ZXN0ICE9PSAndW5kZWZpbmVkJztcblxuZXhwb3J0IGRlZmF1bHQgaXNYSFJBZGFwdGVyU3VwcG9ydGVkICYmIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIGRpc3BhdGNoWGhyUmVxdWVzdChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBjb25zdCBfY29uZmlnID0gcmVzb2x2ZUNvbmZpZyhjb25maWcpO1xuICAgIGxldCByZXF1ZXN0RGF0YSA9IF9jb25maWcuZGF0YTtcbiAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKF9jb25maWcuaGVhZGVycykubm9ybWFsaXplKCk7XG4gICAgbGV0IHtyZXNwb25zZVR5cGUsIG9uVXBsb2FkUHJvZ3Jlc3MsIG9uRG93bmxvYWRQcm9ncmVzc30gPSBfY29uZmlnO1xuICAgIGxldCBvbkNhbmNlbGVkO1xuICAgIGxldCB1cGxvYWRUaHJvdHRsZWQsIGRvd25sb2FkVGhyb3R0bGVkO1xuICAgIGxldCBmbHVzaFVwbG9hZCwgZmx1c2hEb3dubG9hZDtcblxuICAgIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgICBmbHVzaFVwbG9hZCAmJiBmbHVzaFVwbG9hZCgpOyAvLyBmbHVzaCBldmVudHNcbiAgICAgIGZsdXNoRG93bmxvYWQgJiYgZmx1c2hEb3dubG9hZCgpOyAvLyBmbHVzaCBldmVudHNcblxuICAgICAgX2NvbmZpZy5jYW5jZWxUb2tlbiAmJiBfY29uZmlnLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuXG4gICAgICBfY29uZmlnLnNpZ25hbCAmJiBfY29uZmlnLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgIH1cblxuICAgIGxldCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cbiAgICByZXF1ZXN0Lm9wZW4oX2NvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgX2NvbmZpZy51cmwsIHRydWUpO1xuXG4gICAgLy8gU2V0IHRoZSByZXF1ZXN0IHRpbWVvdXQgaW4gTVNcbiAgICByZXF1ZXN0LnRpbWVvdXQgPSBfY29uZmlnLnRpbWVvdXQ7XG5cbiAgICBmdW5jdGlvbiBvbmxvYWRlbmQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gUHJlcGFyZSB0aGUgcmVzcG9uc2VcbiAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKFxuICAgICAgICAnZ2V0QWxsUmVzcG9uc2VIZWFkZXJzJyBpbiByZXF1ZXN0ICYmIHJlcXVlc3QuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKClcbiAgICAgICk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSAhcmVzcG9uc2VUeXBlIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3RleHQnIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nID9cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZVRleHQgOiByZXF1ZXN0LnJlc3BvbnNlO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgc3RhdHVzOiByZXF1ZXN0LnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVxdWVzdC5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfTtcblxuICAgICAgc2V0dGxlKGZ1bmN0aW9uIF9yZXNvbHZlKHZhbHVlKSB7XG4gICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCBmdW5jdGlvbiBfcmVqZWN0KGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSwgcmVzcG9uc2UpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoJ29ubG9hZGVuZCcgaW4gcmVxdWVzdCkge1xuICAgICAgLy8gVXNlIG9ubG9hZGVuZCBpZiBhdmFpbGFibGVcbiAgICAgIHJlcXVlc3Qub25sb2FkZW5kID0gb25sb2FkZW5kO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlIHRvIGVtdWxhdGUgb25sb2FkZW5kXG4gICAgICByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uIGhhbmRsZUxvYWQoKSB7XG4gICAgICAgIGlmICghcmVxdWVzdCB8fCByZXF1ZXN0LnJlYWR5U3RhdGUgIT09IDQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaGUgcmVxdWVzdCBlcnJvcmVkIG91dCBhbmQgd2UgZGlkbid0IGdldCBhIHJlc3BvbnNlLCB0aGlzIHdpbGwgYmVcbiAgICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgICAgLy8gV2l0aCBvbmUgZXhjZXB0aW9uOiByZXF1ZXN0IHRoYXQgdXNpbmcgZmlsZTogcHJvdG9jb2wsIG1vc3QgYnJvd3NlcnNcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gc3RhdHVzIGFzIDAgZXZlbiB0aG91Z2ggaXQncyBhIHN1Y2Nlc3NmdWwgcmVxdWVzdFxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVhZHlzdGF0ZSBoYW5kbGVyIGlzIGNhbGxpbmcgYmVmb3JlIG9uZXJyb3Igb3Igb250aW1lb3V0IGhhbmRsZXJzLFxuICAgICAgICAvLyBzbyB3ZSBzaG91bGQgY2FsbCBvbmxvYWRlbmQgb24gdGhlIG5leHQgJ3RpY2snXG4gICAgICAgIHNldFRpbWVvdXQob25sb2FkZW5kKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIGJyb3dzZXIgcmVxdWVzdCBjYW5jZWxsYXRpb24gKGFzIG9wcG9zZWQgdG8gYSBtYW51YWwgY2FuY2VsbGF0aW9uKVxuICAgIHJlcXVlc3Qub25hYm9ydCA9IGZ1bmN0aW9uIGhhbmRsZUFib3J0KCkge1xuICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdSZXF1ZXN0IGFib3J0ZWQnLCBBeGlvc0Vycm9yLkVDT05OQUJPUlRFRCwgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgbG93IGxldmVsIG5ldHdvcmsgZXJyb3JzXG4gICAgcmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gaGFuZGxlRXJyb3IoKSB7XG4gICAgICAvLyBSZWFsIGVycm9ycyBhcmUgaGlkZGVuIGZyb20gdXMgYnkgdGhlIGJyb3dzZXJcbiAgICAgIC8vIG9uZXJyb3Igc2hvdWxkIG9ubHkgZmlyZSBpZiBpdCdzIGEgbmV0d29yayBlcnJvclxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBIYW5kbGUgdGltZW91dFxuICAgIHJlcXVlc3Qub250aW1lb3V0ID0gZnVuY3Rpb24gaGFuZGxlVGltZW91dCgpIHtcbiAgICAgIGxldCB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0ID8gJ3RpbWVvdXQgb2YgJyArIF9jb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcgOiAndGltZW91dCBleGNlZWRlZCc7XG4gICAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSBfY29uZmlnLnRyYW5zaXRpb25hbCB8fCB0cmFuc2l0aW9uYWxEZWZhdWx0cztcbiAgICAgIGlmIChfY29uZmlnLnRpbWVvdXRFcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSA9IF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJlamVjdChuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgdGltZW91dEVycm9yTWVzc2FnZSxcbiAgICAgICAgdHJhbnNpdGlvbmFsLmNsYXJpZnlUaW1lb3V0RXJyb3IgPyBBeGlvc0Vycm9yLkVUSU1FRE9VVCA6IEF4aW9zRXJyb3IuRUNPTk5BQk9SVEVELFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIFJlbW92ZSBDb250ZW50LVR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcbiAgICByZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkICYmIHJlcXVlc3RIZWFkZXJzLnNldENvbnRlbnRUeXBlKG51bGwpO1xuXG4gICAgLy8gQWRkIGhlYWRlcnMgdG8gdGhlIHJlcXVlc3RcbiAgICBpZiAoJ3NldFJlcXVlc3RIZWFkZXInIGluIHJlcXVlc3QpIHtcbiAgICAgIHV0aWxzLmZvckVhY2gocmVxdWVzdEhlYWRlcnMudG9KU09OKCksIGZ1bmN0aW9uIHNldFJlcXVlc3RIZWFkZXIodmFsLCBrZXkpIHtcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFkZCB3aXRoQ3JlZGVudGlhbHMgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKF9jb25maWcud2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSAhIV9jb25maWcud2l0aENyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIC8vIEFkZCByZXNwb25zZVR5cGUgdG8gcmVxdWVzdCBpZiBuZWVkZWRcbiAgICBpZiAocmVzcG9uc2VUeXBlICYmIHJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICByZXF1ZXN0LnJlc3BvbnNlVHlwZSA9IF9jb25maWcucmVzcG9uc2VUeXBlO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAob25Eb3dubG9hZFByb2dyZXNzKSB7XG4gICAgICAoW2Rvd25sb2FkVGhyb3R0bGVkLCBmbHVzaERvd25sb2FkXSA9IHByb2dyZXNzRXZlbnRSZWR1Y2VyKG9uRG93bmxvYWRQcm9ncmVzcywgdHJ1ZSkpO1xuICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGRvd25sb2FkVGhyb3R0bGVkKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmIChvblVwbG9hZFByb2dyZXNzICYmIHJlcXVlc3QudXBsb2FkKSB7XG4gICAgICAoW3VwbG9hZFRocm90dGxlZCwgZmx1c2hVcGxvYWRdID0gcHJvZ3Jlc3NFdmVudFJlZHVjZXIob25VcGxvYWRQcm9ncmVzcykpO1xuXG4gICAgICByZXF1ZXN0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHVwbG9hZFRocm90dGxlZCk7XG5cbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlbmQnLCBmbHVzaFVwbG9hZCk7XG4gICAgfVxuXG4gICAgaWYgKF9jb25maWcuY2FuY2VsVG9rZW4gfHwgX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgICBvbkNhbmNlbGVkID0gY2FuY2VsID0+IHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdCghY2FuY2VsIHx8IGNhbmNlbC50eXBlID8gbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnLCByZXF1ZXN0KSA6IGNhbmNlbCk7XG4gICAgICAgIHJlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgICB9O1xuXG4gICAgICBfY29uZmlnLmNhbmNlbFRva2VuICYmIF9jb25maWcuY2FuY2VsVG9rZW4uc3Vic2NyaWJlKG9uQ2FuY2VsZWQpO1xuICAgICAgaWYgKF9jb25maWcuc2lnbmFsKSB7XG4gICAgICAgIF9jb25maWcuc2lnbmFsLmFib3J0ZWQgPyBvbkNhbmNlbGVkKCkgOiBfY29uZmlnLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uQ2FuY2VsZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByb3RvY29sID0gcGFyc2VQcm90b2NvbChfY29uZmlnLnVybCk7XG5cbiAgICBpZiAocHJvdG9jb2wgJiYgcGxhdGZvcm0ucHJvdG9jb2xzLmluZGV4T2YocHJvdG9jb2wpID09PSAtMSkge1xuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKCdVbnN1cHBvcnRlZCBwcm90b2NvbCAnICsgcHJvdG9jb2wgKyAnOicsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVFVRVNULCBjb25maWcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cblxuICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICByZXF1ZXN0LnNlbmQocmVxdWVzdERhdGEgfHwgbnVsbCk7XG4gIH0pO1xufVxuIiwKICAgICJpbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tIFwiLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanNcIjtcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbmNvbnN0IGNvbXBvc2VTaWduYWxzID0gKHNpZ25hbHMsIHRpbWVvdXQpID0+IHtcbiAgY29uc3Qge2xlbmd0aH0gPSAoc2lnbmFscyA9IHNpZ25hbHMgPyBzaWduYWxzLmZpbHRlcihCb29sZWFuKSA6IFtdKTtcblxuICBpZiAodGltZW91dCB8fCBsZW5ndGgpIHtcbiAgICBsZXQgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcblxuICAgIGxldCBhYm9ydGVkO1xuXG4gICAgY29uc3Qgb25hYm9ydCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGlmICghYWJvcnRlZCkge1xuICAgICAgICBhYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY29uc3QgZXJyID0gcmVhc29uIGluc3RhbmNlb2YgRXJyb3IgPyByZWFzb24gOiB0aGlzLnJlYXNvbjtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydChlcnIgaW5zdGFuY2VvZiBBeGlvc0Vycm9yID8gZXJyIDogbmV3IENhbmNlbGVkRXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IGVycikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxldCB0aW1lciA9IHRpbWVvdXQgJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aW1lciA9IG51bGw7XG4gICAgICBvbmFib3J0KG5ldyBBeGlvc0Vycm9yKGB0aW1lb3V0ICR7dGltZW91dH0gb2YgbXMgZXhjZWVkZWRgLCBBeGlvc0Vycm9yLkVUSU1FRE9VVCkpXG4gICAgfSwgdGltZW91dClcblxuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gKCkgPT4ge1xuICAgICAgaWYgKHNpZ25hbHMpIHtcbiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgdGltZXIgPSBudWxsO1xuICAgICAgICBzaWduYWxzLmZvckVhY2goc2lnbmFsID0+IHtcbiAgICAgICAgICBzaWduYWwudW5zdWJzY3JpYmUgPyBzaWduYWwudW5zdWJzY3JpYmUob25hYm9ydCkgOiBzaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNpZ25hbHMgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHNpZ25hbHMuZm9yRWFjaCgoc2lnbmFsKSA9PiBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBvbmFib3J0KSk7XG5cbiAgICBjb25zdCB7c2lnbmFsfSA9IGNvbnRyb2xsZXI7XG5cbiAgICBzaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB1dGlscy5hc2FwKHVuc3Vic2NyaWJlKTtcblxuICAgIHJldHVybiBzaWduYWw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY29tcG9zZVNpZ25hbHM7XG4iLAogICAgIlxuZXhwb3J0IGNvbnN0IHN0cmVhbUNodW5rID0gZnVuY3Rpb24qIChjaHVuaywgY2h1bmtTaXplKSB7XG4gIGxldCBsZW4gPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gIGlmICghY2h1bmtTaXplIHx8IGxlbiA8IGNodW5rU2l6ZSkge1xuICAgIHlpZWxkIGNodW5rO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBwb3MgPSAwO1xuICBsZXQgZW5kO1xuXG4gIHdoaWxlIChwb3MgPCBsZW4pIHtcbiAgICBlbmQgPSBwb3MgKyBjaHVua1NpemU7XG4gICAgeWllbGQgY2h1bmsuc2xpY2UocG9zLCBlbmQpO1xuICAgIHBvcyA9IGVuZDtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgcmVhZEJ5dGVzID0gYXN5bmMgZnVuY3Rpb24qIChpdGVyYWJsZSwgY2h1bmtTaXplKSB7XG4gIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgcmVhZFN0cmVhbShpdGVyYWJsZSkpIHtcbiAgICB5aWVsZCogc3RyZWFtQ2h1bmsoY2h1bmssIGNodW5rU2l6ZSk7XG4gIH1cbn1cblxuY29uc3QgcmVhZFN0cmVhbSA9IGFzeW5jIGZ1bmN0aW9uKiAoc3RyZWFtKSB7XG4gIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgeWllbGQqIHN0cmVhbTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gIHRyeSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgY29uc3Qge2RvbmUsIHZhbHVlfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICBpZiAoZG9uZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHlpZWxkIHZhbHVlO1xuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IHRyYWNrU3RyZWFtID0gKHN0cmVhbSwgY2h1bmtTaXplLCBvblByb2dyZXNzLCBvbkZpbmlzaCkgPT4ge1xuICBjb25zdCBpdGVyYXRvciA9IHJlYWRCeXRlcyhzdHJlYW0sIGNodW5rU2l6ZSk7XG5cbiAgbGV0IGJ5dGVzID0gMDtcbiAgbGV0IGRvbmU7XG4gIGxldCBfb25GaW5pc2ggPSAoZSkgPT4ge1xuICAgIGlmICghZG9uZSkge1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBvbkZpbmlzaCAmJiBvbkZpbmlzaChlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHtkb25lLCB2YWx1ZX0gPSBhd2FpdCBpdGVyYXRvci5uZXh0KCk7XG5cbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgIF9vbkZpbmlzaCgpO1xuICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGVuID0gdmFsdWUuYnl0ZUxlbmd0aDtcbiAgICAgICAgaWYgKG9uUHJvZ3Jlc3MpIHtcbiAgICAgICAgICBsZXQgbG9hZGVkQnl0ZXMgPSBieXRlcyArPSBsZW47XG4gICAgICAgICAgb25Qcm9ncmVzcyhsb2FkZWRCeXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKG5ldyBVaW50OEFycmF5KHZhbHVlKSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgX29uRmluaXNoKGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbmNlbChyZWFzb24pIHtcbiAgICAgIF9vbkZpbmlzaChyZWFzb24pO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yLnJldHVybigpO1xuICAgIH1cbiAgfSwge1xuICAgIGhpZ2hXYXRlck1hcms6IDJcbiAgfSlcbn1cbiIsCiAgICAiaW1wb3J0IHBsYXRmb3JtIGZyb20gXCIuLi9wbGF0Zm9ybS9pbmRleC5qc1wiO1xuaW1wb3J0IHV0aWxzIGZyb20gXCIuLi91dGlscy5qc1wiO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuaW1wb3J0IGNvbXBvc2VTaWduYWxzIGZyb20gXCIuLi9oZWxwZXJzL2NvbXBvc2VTaWduYWxzLmpzXCI7XG5pbXBvcnQge3RyYWNrU3RyZWFtfSBmcm9tIFwiLi4vaGVscGVycy90cmFja1N0cmVhbS5qc1wiO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCB7cHJvZ3Jlc3NFdmVudFJlZHVjZXIsIHByb2dyZXNzRXZlbnREZWNvcmF0b3IsIGFzeW5jRGVjb3JhdG9yfSBmcm9tIFwiLi4vaGVscGVycy9wcm9ncmVzc0V2ZW50UmVkdWNlci5qc1wiO1xuaW1wb3J0IHJlc29sdmVDb25maWcgZnJvbSBcIi4uL2hlbHBlcnMvcmVzb2x2ZUNvbmZpZy5qc1wiO1xuaW1wb3J0IHNldHRsZSBmcm9tIFwiLi4vY29yZS9zZXR0bGUuanNcIjtcblxuY29uc3QgaXNGZXRjaFN1cHBvcnRlZCA9IHR5cGVvZiBmZXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgUmVzcG9uc2UgPT09ICdmdW5jdGlvbic7XG5jb25zdCBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkID0gaXNGZXRjaFN1cHBvcnRlZCAmJiB0eXBlb2YgUmVhZGFibGVTdHJlYW0gPT09ICdmdW5jdGlvbic7XG5cbi8vIHVzZWQgb25seSBpbnNpZGUgdGhlIGZldGNoIGFkYXB0ZXJcbmNvbnN0IGVuY29kZVRleHQgPSBpc0ZldGNoU3VwcG9ydGVkICYmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgP1xuICAgICgoZW5jb2RlcikgPT4gKHN0cikgPT4gZW5jb2Rlci5lbmNvZGUoc3RyKSkobmV3IFRleHRFbmNvZGVyKCkpIDpcbiAgICBhc3luYyAoc3RyKSA9PiBuZXcgVWludDhBcnJheShhd2FpdCBuZXcgUmVzcG9uc2Uoc3RyKS5hcnJheUJ1ZmZlcigpKVxuKTtcblxuY29uc3QgdGVzdCA9IChmbiwgLi4uYXJncykgPT4ge1xuICB0cnkge1xuICAgIHJldHVybiAhIWZuKC4uLmFyZ3MpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbn1cblxuY29uc3Qgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtID0gaXNSZWFkYWJsZVN0cmVhbVN1cHBvcnRlZCAmJiB0ZXN0KCgpID0+IHtcbiAgbGV0IGR1cGxleEFjY2Vzc2VkID0gZmFsc2U7XG5cbiAgY29uc3QgaGFzQ29udGVudFR5cGUgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICBib2R5OiBuZXcgUmVhZGFibGVTdHJlYW0oKSxcbiAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICBnZXQgZHVwbGV4KCkge1xuICAgICAgZHVwbGV4QWNjZXNzZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuICdoYWxmJztcbiAgICB9LFxuICB9KS5oZWFkZXJzLmhhcygnQ29udGVudC1UeXBlJyk7XG5cbiAgcmV0dXJuIGR1cGxleEFjY2Vzc2VkICYmICFoYXNDb250ZW50VHlwZTtcbn0pO1xuXG5jb25zdCBERUZBVUxUX0NIVU5LX1NJWkUgPSA2NCAqIDEwMjQ7XG5cbmNvbnN0IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmXG4gIHRlc3QoKCkgPT4gdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShuZXcgUmVzcG9uc2UoJycpLmJvZHkpKTtcblxuXG5jb25zdCByZXNvbHZlcnMgPSB7XG4gIHN0cmVhbTogc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAoKHJlcykgPT4gcmVzLmJvZHkpXG59O1xuXG5pc0ZldGNoU3VwcG9ydGVkICYmICgoKHJlcykgPT4ge1xuICBbJ3RleHQnLCAnYXJyYXlCdWZmZXInLCAnYmxvYicsICdmb3JtRGF0YScsICdzdHJlYW0nXS5mb3JFYWNoKHR5cGUgPT4ge1xuICAgICFyZXNvbHZlcnNbdHlwZV0gJiYgKHJlc29sdmVyc1t0eXBlXSA9IHV0aWxzLmlzRnVuY3Rpb24ocmVzW3R5cGVdKSA/IChyZXMpID0+IHJlc1t0eXBlXSgpIDpcbiAgICAgIChfLCBjb25maWcpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFJlc3BvbnNlIHR5cGUgJyR7dHlwZX0nIGlzIG5vdCBzdXBwb3J0ZWRgLCBBeGlvc0Vycm9yLkVSUl9OT1RfU1VQUE9SVCwgY29uZmlnKTtcbiAgICAgIH0pXG4gIH0pO1xufSkobmV3IFJlc3BvbnNlKSk7XG5cbmNvbnN0IGdldEJvZHlMZW5ndGggPSBhc3luYyAoYm9keSkgPT4ge1xuICBpZiAoYm9keSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZih1dGlscy5pc0Jsb2IoYm9keSkpIHtcbiAgICByZXR1cm4gYm9keS5zaXplO1xuICB9XG5cbiAgaWYodXRpbHMuaXNTcGVjQ29tcGxpYW50Rm9ybShib2R5KSkge1xuICAgIGNvbnN0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QocGxhdGZvcm0ub3JpZ2luLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHksXG4gICAgfSk7XG4gICAgcmV0dXJuIChhd2FpdCBfcmVxdWVzdC5hcnJheUJ1ZmZlcigpKS5ieXRlTGVuZ3RoO1xuICB9XG5cbiAgaWYodXRpbHMuaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkgfHwgdXRpbHMuaXNBcnJheUJ1ZmZlcihib2R5KSkge1xuICAgIHJldHVybiBib2R5LmJ5dGVMZW5ndGg7XG4gIH1cblxuICBpZih1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhib2R5KSkge1xuICAgIGJvZHkgPSBib2R5ICsgJyc7XG4gIH1cblxuICBpZih1dGlscy5pc1N0cmluZyhib2R5KSkge1xuICAgIHJldHVybiAoYXdhaXQgZW5jb2RlVGV4dChib2R5KSkuYnl0ZUxlbmd0aDtcbiAgfVxufVxuXG5jb25zdCByZXNvbHZlQm9keUxlbmd0aCA9IGFzeW5jIChoZWFkZXJzLCBib2R5KSA9PiB7XG4gIGNvbnN0IGxlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKGhlYWRlcnMuZ2V0Q29udGVudExlbmd0aCgpKTtcblxuICByZXR1cm4gbGVuZ3RoID09IG51bGwgPyBnZXRCb2R5TGVuZ3RoKGJvZHkpIDogbGVuZ3RoO1xufVxuXG5leHBvcnQgZGVmYXVsdCBpc0ZldGNoU3VwcG9ydGVkICYmIChhc3luYyAoY29uZmlnKSA9PiB7XG4gIGxldCB7XG4gICAgdXJsLFxuICAgIG1ldGhvZCxcbiAgICBkYXRhLFxuICAgIHNpZ25hbCxcbiAgICBjYW5jZWxUb2tlbixcbiAgICB0aW1lb3V0LFxuICAgIG9uRG93bmxvYWRQcm9ncmVzcyxcbiAgICBvblVwbG9hZFByb2dyZXNzLFxuICAgIHJlc3BvbnNlVHlwZSxcbiAgICBoZWFkZXJzLFxuICAgIHdpdGhDcmVkZW50aWFscyA9ICdzYW1lLW9yaWdpbicsXG4gICAgZmV0Y2hPcHRpb25zXG4gIH0gPSByZXNvbHZlQ29uZmlnKGNvbmZpZyk7XG5cbiAgcmVzcG9uc2VUeXBlID0gcmVzcG9uc2VUeXBlID8gKHJlc3BvbnNlVHlwZSArICcnKS50b0xvd2VyQ2FzZSgpIDogJ3RleHQnO1xuXG4gIGxldCBjb21wb3NlZFNpZ25hbCA9IGNvbXBvc2VTaWduYWxzKFtzaWduYWwsIGNhbmNlbFRva2VuICYmIGNhbmNlbFRva2VuLnRvQWJvcnRTaWduYWwoKV0sIHRpbWVvdXQpO1xuXG4gIGxldCByZXF1ZXN0O1xuXG4gIGNvbnN0IHVuc3Vic2NyaWJlID0gY29tcG9zZWRTaWduYWwgJiYgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUgJiYgKCgpID0+IHtcbiAgICAgIGNvbXBvc2VkU2lnbmFsLnVuc3Vic2NyaWJlKCk7XG4gIH0pO1xuXG4gIGxldCByZXF1ZXN0Q29udGVudExlbmd0aDtcblxuICB0cnkge1xuICAgIGlmIChcbiAgICAgIG9uVXBsb2FkUHJvZ3Jlc3MgJiYgc3VwcG9ydHNSZXF1ZXN0U3RyZWFtICYmIG1ldGhvZCAhPT0gJ2dldCcgJiYgbWV0aG9kICE9PSAnaGVhZCcgJiZcbiAgICAgIChyZXF1ZXN0Q29udGVudExlbmd0aCA9IGF3YWl0IHJlc29sdmVCb2R5TGVuZ3RoKGhlYWRlcnMsIGRhdGEpKSAhPT0gMFxuICAgICkge1xuICAgICAgbGV0IF9yZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBkYXRhLFxuICAgICAgICBkdXBsZXg6IFwiaGFsZlwiXG4gICAgICB9KTtcblxuICAgICAgbGV0IGNvbnRlbnRUeXBlSGVhZGVyO1xuXG4gICAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSAmJiAoY29udGVudFR5cGVIZWFkZXIgPSBfcmVxdWVzdC5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJykpKSB7XG4gICAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoY29udGVudFR5cGVIZWFkZXIpXG4gICAgICB9XG5cbiAgICAgIGlmIChfcmVxdWVzdC5ib2R5KSB7XG4gICAgICAgIGNvbnN0IFtvblByb2dyZXNzLCBmbHVzaF0gPSBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICAgIHJlcXVlc3RDb250ZW50TGVuZ3RoLFxuICAgICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uVXBsb2FkUHJvZ3Jlc3MpKVxuICAgICAgICApO1xuXG4gICAgICAgIGRhdGEgPSB0cmFja1N0cmVhbShfcmVxdWVzdC5ib2R5LCBERUZBVUxUX0NIVU5LX1NJWkUsIG9uUHJvZ3Jlc3MsIGZsdXNoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXV0aWxzLmlzU3RyaW5nKHdpdGhDcmVkZW50aWFscykpIHtcbiAgICAgIHdpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFscyA/ICdpbmNsdWRlJyA6ICdvbWl0JztcbiAgICB9XG5cbiAgICAvLyBDbG91ZGZsYXJlIFdvcmtlcnMgdGhyb3dzIHdoZW4gY3JlZGVudGlhbHMgYXJlIGRlZmluZWRcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2Nsb3VkZmxhcmUvd29ya2VyZC9pc3N1ZXMvOTAyXG4gICAgY29uc3QgaXNDcmVkZW50aWFsc1N1cHBvcnRlZCA9IFwiY3JlZGVudGlhbHNcIiBpbiBSZXF1ZXN0LnByb3RvdHlwZTtcbiAgICByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLCB7XG4gICAgICAuLi5mZXRjaE9wdGlvbnMsXG4gICAgICBzaWduYWw6IGNvbXBvc2VkU2lnbmFsLFxuICAgICAgbWV0aG9kOiBtZXRob2QudG9VcHBlckNhc2UoKSxcbiAgICAgIGhlYWRlcnM6IGhlYWRlcnMubm9ybWFsaXplKCkudG9KU09OKCksXG4gICAgICBib2R5OiBkYXRhLFxuICAgICAgZHVwbGV4OiBcImhhbGZcIixcbiAgICAgIGNyZWRlbnRpYWxzOiBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID8gd2l0aENyZWRlbnRpYWxzIDogdW5kZWZpbmVkXG4gICAgfSk7XG5cbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChyZXF1ZXN0KTtcblxuICAgIGNvbnN0IGlzU3RyZWFtUmVzcG9uc2UgPSBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChyZXNwb25zZVR5cGUgPT09ICdzdHJlYW0nIHx8IHJlc3BvbnNlVHlwZSA9PT0gJ3Jlc3BvbnNlJyk7XG5cbiAgICBpZiAoc3VwcG9ydHNSZXNwb25zZVN0cmVhbSAmJiAob25Eb3dubG9hZFByb2dyZXNzIHx8IChpc1N0cmVhbVJlc3BvbnNlICYmIHVuc3Vic2NyaWJlKSkpIHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7fTtcblxuICAgICAgWydzdGF0dXMnLCAnc3RhdHVzVGV4dCcsICdoZWFkZXJzJ10uZm9yRWFjaChwcm9wID0+IHtcbiAgICAgICAgb3B0aW9uc1twcm9wXSA9IHJlc3BvbnNlW3Byb3BdO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlQ29udGVudExlbmd0aCA9IHV0aWxzLnRvRmluaXRlTnVtYmVyKHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LWxlbmd0aCcpKTtcblxuICAgICAgY29uc3QgW29uUHJvZ3Jlc3MsIGZsdXNoXSA9IG9uRG93bmxvYWRQcm9ncmVzcyAmJiBwcm9ncmVzc0V2ZW50RGVjb3JhdG9yKFxuICAgICAgICByZXNwb25zZUNvbnRlbnRMZW5ndGgsXG4gICAgICAgIHByb2dyZXNzRXZlbnRSZWR1Y2VyKGFzeW5jRGVjb3JhdG9yKG9uRG93bmxvYWRQcm9ncmVzcyksIHRydWUpXG4gICAgICApIHx8IFtdO1xuXG4gICAgICByZXNwb25zZSA9IG5ldyBSZXNwb25zZShcbiAgICAgICAgdHJhY2tTdHJlYW0ocmVzcG9uc2UuYm9keSwgREVGQVVMVF9DSFVOS19TSVpFLCBvblByb2dyZXNzLCAoKSA9PiB7XG4gICAgICAgICAgZmx1c2ggJiYgZmx1c2goKTtcbiAgICAgICAgICB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9KSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgfHwgJ3RleHQnO1xuXG4gICAgbGV0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc29sdmVyc1t1dGlscy5maW5kS2V5KHJlc29sdmVycywgcmVzcG9uc2VUeXBlKSB8fCAndGV4dCddKHJlc3BvbnNlLCBjb25maWcpO1xuXG4gICAgIWlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB7XG4gICAgICAgIGRhdGE6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgaGVhZGVyczogQXhpb3NIZWFkZXJzLmZyb20ocmVzcG9uc2UuaGVhZGVycyksXG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICBjb25maWcsXG4gICAgICAgIHJlcXVlc3RcbiAgICAgIH0pXG4gICAgfSlcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdW5zdWJzY3JpYmUgJiYgdW5zdWJzY3JpYmUoKTtcblxuICAgIGlmIChlcnIgJiYgZXJyLm5hbWUgPT09ICdUeXBlRXJyb3InICYmIC9mZXRjaC9pLnRlc3QoZXJyLm1lc3NhZ2UpKSB7XG4gICAgICB0aHJvdyBPYmplY3QuYXNzaWduKFxuICAgICAgICBuZXcgQXhpb3NFcnJvcignTmV0d29yayBFcnJvcicsIEF4aW9zRXJyb3IuRVJSX05FVFdPUkssIGNvbmZpZywgcmVxdWVzdCksXG4gICAgICAgIHtcbiAgICAgICAgICBjYXVzZTogZXJyLmNhdXNlIHx8IGVyclxuICAgICAgICB9XG4gICAgICApXG4gICAgfVxuXG4gICAgdGhyb3cgQXhpb3NFcnJvci5mcm9tKGVyciwgZXJyICYmIGVyci5jb2RlLCBjb25maWcsIHJlcXVlc3QpO1xuICB9XG59KTtcblxuXG4iLAogICAgImltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgaHR0cEFkYXB0ZXIgZnJvbSAnLi9odHRwLmpzJztcbmltcG9ydCB4aHJBZGFwdGVyIGZyb20gJy4veGhyLmpzJztcbmltcG9ydCBmZXRjaEFkYXB0ZXIgZnJvbSAnLi9mZXRjaC5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5cbmNvbnN0IGtub3duQWRhcHRlcnMgPSB7XG4gIGh0dHA6IGh0dHBBZGFwdGVyLFxuICB4aHI6IHhockFkYXB0ZXIsXG4gIGZldGNoOiBmZXRjaEFkYXB0ZXJcbn1cblxudXRpbHMuZm9yRWFjaChrbm93bkFkYXB0ZXJzLCAoZm4sIHZhbHVlKSA9PiB7XG4gIGlmIChmbikge1xuICAgIHRyeSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZm4sICduYW1lJywge3ZhbHVlfSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ2FkYXB0ZXJOYW1lJywge3ZhbHVlfSk7XG4gIH1cbn0pO1xuXG5jb25zdCByZW5kZXJSZWFzb24gPSAocmVhc29uKSA9PiBgLSAke3JlYXNvbn1gO1xuXG5jb25zdCBpc1Jlc29sdmVkSGFuZGxlID0gKGFkYXB0ZXIpID0+IHV0aWxzLmlzRnVuY3Rpb24oYWRhcHRlcikgfHwgYWRhcHRlciA9PT0gbnVsbCB8fCBhZGFwdGVyID09PSBmYWxzZTtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBnZXRBZGFwdGVyOiAoYWRhcHRlcnMpID0+IHtcbiAgICBhZGFwdGVycyA9IHV0aWxzLmlzQXJyYXkoYWRhcHRlcnMpID8gYWRhcHRlcnMgOiBbYWRhcHRlcnNdO1xuXG4gICAgY29uc3Qge2xlbmd0aH0gPSBhZGFwdGVycztcbiAgICBsZXQgbmFtZU9yQWRhcHRlcjtcbiAgICBsZXQgYWRhcHRlcjtcblxuICAgIGNvbnN0IHJlamVjdGVkUmVhc29ucyA9IHt9O1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgbmFtZU9yQWRhcHRlciA9IGFkYXB0ZXJzW2ldO1xuICAgICAgbGV0IGlkO1xuXG4gICAgICBhZGFwdGVyID0gbmFtZU9yQWRhcHRlcjtcblxuICAgICAgaWYgKCFpc1Jlc29sdmVkSGFuZGxlKG5hbWVPckFkYXB0ZXIpKSB7XG4gICAgICAgIGFkYXB0ZXIgPSBrbm93bkFkYXB0ZXJzWyhpZCA9IFN0cmluZyhuYW1lT3JBZGFwdGVyKSkudG9Mb3dlckNhc2UoKV07XG5cbiAgICAgICAgaWYgKGFkYXB0ZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKGBVbmtub3duIGFkYXB0ZXIgJyR7aWR9J2ApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChhZGFwdGVyKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICByZWplY3RlZFJlYXNvbnNbaWQgfHwgJyMnICsgaV0gPSBhZGFwdGVyO1xuICAgIH1cblxuICAgIGlmICghYWRhcHRlcikge1xuXG4gICAgICBjb25zdCByZWFzb25zID0gT2JqZWN0LmVudHJpZXMocmVqZWN0ZWRSZWFzb25zKVxuICAgICAgICAubWFwKChbaWQsIHN0YXRlXSkgPT4gYGFkYXB0ZXIgJHtpZH0gYCArXG4gICAgICAgICAgKHN0YXRlID09PSBmYWxzZSA/ICdpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudCcgOiAnaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGQnKVxuICAgICAgICApO1xuXG4gICAgICBsZXQgcyA9IGxlbmd0aCA/XG4gICAgICAgIChyZWFzb25zLmxlbmd0aCA+IDEgPyAnc2luY2UgOlxcbicgKyByZWFzb25zLm1hcChyZW5kZXJSZWFzb24pLmpvaW4oJ1xcbicpIDogJyAnICsgcmVuZGVyUmVhc29uKHJlYXNvbnNbMF0pKSA6XG4gICAgICAgICdhcyBubyBhZGFwdGVyIHNwZWNpZmllZCc7XG5cbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICBgVGhlcmUgaXMgbm8gc3VpdGFibGUgYWRhcHRlciB0byBkaXNwYXRjaCB0aGUgcmVxdWVzdCBgICsgcyxcbiAgICAgICAgJ0VSUl9OT1RfU1VQUE9SVCdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFkYXB0ZXI7XG4gIH0sXG4gIGFkYXB0ZXJzOiBrbm93bkFkYXB0ZXJzXG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHRyYW5zZm9ybURhdGEgZnJvbSAnLi90cmFuc2Zvcm1EYXRhLmpzJztcbmltcG9ydCBpc0NhbmNlbCBmcm9tICcuLi9jYW5jZWwvaXNDYW5jZWwuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4uL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSAnLi4vY29yZS9BeGlvc0hlYWRlcnMuanMnO1xuaW1wb3J0IGFkYXB0ZXJzIGZyb20gXCIuLi9hZGFwdGVycy9hZGFwdGVycy5qc1wiO1xuXG4vKipcbiAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKSB7XG4gIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICBjb25maWcuY2FuY2VsVG9rZW4udGhyb3dJZlJlcXVlc3RlZCgpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy5zaWduYWwgJiYgY29uZmlnLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgdGhyb3cgbmV3IENhbmNlbGVkRXJyb3IobnVsbCwgY29uZmlnKTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BhdGNoIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIHVzaW5nIHRoZSBjb25maWd1cmVkIGFkYXB0ZXIuXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGRpc3BhdGNoUmVxdWVzdChjb25maWcpIHtcbiAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oY29uZmlnLmhlYWRlcnMpO1xuXG4gIC8vIFRyYW5zZm9ybSByZXF1ZXN0IGRhdGFcbiAgY29uZmlnLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgY29uZmlnLFxuICAgIGNvbmZpZy50cmFuc2Zvcm1SZXF1ZXN0XG4gICk7XG5cbiAgaWYgKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXS5pbmRleE9mKGNvbmZpZy5tZXRob2QpICE9PSAtMSkge1xuICAgIGNvbmZpZy5oZWFkZXJzLnNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLCBmYWxzZSk7XG4gIH1cblxuICBjb25zdCBhZGFwdGVyID0gYWRhcHRlcnMuZ2V0QWRhcHRlcihjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyKTtcblxuICByZXR1cm4gYWRhcHRlcihjb25maWcpLnRoZW4oZnVuY3Rpb24gb25BZGFwdGVyUmVzb2x1dGlvbihyZXNwb25zZSkge1xuICAgIHRocm93SWZDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoY29uZmlnKTtcblxuICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgcmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgIGNvbmZpZyxcbiAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgIHJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZXNwb25zZS5oZWFkZXJzKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhLmNhbGwoXG4gICAgICAgICAgY29uZmlnLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZSxcbiAgICAgICAgICByZWFzb24ucmVzcG9uc2VcbiAgICAgICAgKTtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShyZWFzb24ucmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlYXNvbik7XG4gIH0pO1xufVxuIiwKICAgICJleHBvcnQgY29uc3QgVkVSU0lPTiA9IFwiMS44LjNcIjsiLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtWRVJTSU9OfSBmcm9tICcuLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuXG5jb25zdCB2YWxpZGF0b3JzID0ge307XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5bJ29iamVjdCcsICdib29sZWFuJywgJ251bWJlcicsICdmdW5jdGlvbicsICdzdHJpbmcnLCAnc3ltYm9sJ10uZm9yRWFjaCgodHlwZSwgaSkgPT4ge1xuICB2YWxpZGF0b3JzW3R5cGVdID0gZnVuY3Rpb24gdmFsaWRhdG9yKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gdHlwZSB8fCAnYScgKyAoaSA8IDEgPyAnbiAnIDogJyAnKSArIHR5cGU7XG4gIH07XG59KTtcblxuY29uc3QgZGVwcmVjYXRlZFdhcm5pbmdzID0ge307XG5cbi8qKlxuICogVHJhbnNpdGlvbmFsIG9wdGlvbiB2YWxpZGF0b3JcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufGJvb2xlYW4/fSB2YWxpZGF0b3IgLSBzZXQgdG8gZmFsc2UgaWYgdGhlIHRyYW5zaXRpb25hbCBvcHRpb24gaGFzIGJlZW4gcmVtb3ZlZFxuICogQHBhcmFtIHtzdHJpbmc/fSB2ZXJzaW9uIC0gZGVwcmVjYXRlZCB2ZXJzaW9uIC8gcmVtb3ZlZCBzaW5jZSB2ZXJzaW9uXG4gKiBAcGFyYW0ge3N0cmluZz99IG1lc3NhZ2UgLSBzb21lIG1lc3NhZ2Ugd2l0aCBhZGRpdGlvbmFsIGluZm9cbiAqXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gKi9cbnZhbGlkYXRvcnMudHJhbnNpdGlvbmFsID0gZnVuY3Rpb24gdHJhbnNpdGlvbmFsKHZhbGlkYXRvciwgdmVyc2lvbiwgbWVzc2FnZSkge1xuICBmdW5jdGlvbiBmb3JtYXRNZXNzYWdlKG9wdCwgZGVzYykge1xuICAgIHJldHVybiAnW0F4aW9zIHYnICsgVkVSU0lPTiArICddIFRyYW5zaXRpb25hbCBvcHRpb24gXFwnJyArIG9wdCArICdcXCcnICsgZGVzYyArIChtZXNzYWdlID8gJy4gJyArIG1lc3NhZ2UgOiAnJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICByZXR1cm4gKHZhbHVlLCBvcHQsIG9wdHMpID0+IHtcbiAgICBpZiAodmFsaWRhdG9yID09PSBmYWxzZSkge1xuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGZvcm1hdE1lc3NhZ2Uob3B0LCAnIGhhcyBiZWVuIHJlbW92ZWQnICsgKHZlcnNpb24gPyAnIGluICcgKyB2ZXJzaW9uIDogJycpKSxcbiAgICAgICAgQXhpb3NFcnJvci5FUlJfREVQUkVDQVRFRFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodmVyc2lvbiAmJiAhZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0pIHtcbiAgICAgIGRlcHJlY2F0ZWRXYXJuaW5nc1tvcHRdID0gdHJ1ZTtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgIGZvcm1hdE1lc3NhZ2UoXG4gICAgICAgICAgb3B0LFxuICAgICAgICAgICcgaGFzIGJlZW4gZGVwcmVjYXRlZCBzaW5jZSB2JyArIHZlcnNpb24gKyAnIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5lYXIgZnV0dXJlJ1xuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiB2YWxpZGF0b3IgPyB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0cykgOiB0cnVlO1xuICB9O1xufTtcblxudmFsaWRhdG9ycy5zcGVsbGluZyA9IGZ1bmN0aW9uIHNwZWxsaW5nKGNvcnJlY3RTcGVsbGluZykge1xuICByZXR1cm4gKHZhbHVlLCBvcHQpID0+IHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybihgJHtvcHR9IGlzIGxpa2VseSBhIG1pc3NwZWxsaW5nIG9mICR7Y29ycmVjdFNwZWxsaW5nfWApO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG4vKipcbiAqIEFzc2VydCBvYmplY3QncyBwcm9wZXJ0aWVzIHR5cGVcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IHNjaGVtYVxuICogQHBhcmFtIHtib29sZWFuP30gYWxsb3dVbmtub3duXG4gKlxuICogQHJldHVybnMge29iamVjdH1cbiAqL1xuXG5mdW5jdGlvbiBhc3NlcnRPcHRpb25zKG9wdGlvbnMsIHNjaGVtYSwgYWxsb3dVbmtub3duKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyAhPT0gJ29iamVjdCcpIHtcbiAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCcsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICB9XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKTtcbiAgbGV0IGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSA+IDApIHtcbiAgICBjb25zdCBvcHQgPSBrZXlzW2ldO1xuICAgIGNvbnN0IHZhbGlkYXRvciA9IHNjaGVtYVtvcHRdO1xuICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gb3B0aW9uc1tvcHRdO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWxpZGF0b3IodmFsdWUsIG9wdCwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzdWx0ICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb24gJyArIG9wdCArICcgbXVzdCBiZSAnICsgcmVzdWx0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OX1ZBTFVFKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYWxsb3dVbmtub3duICE9PSB0cnVlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcignVW5rbm93biBvcHRpb24gJyArIG9wdCwgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTik7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgYXNzZXJ0T3B0aW9ucyxcbiAgdmFsaWRhdG9yc1xufTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgYnVpbGRVUkwgZnJvbSAnLi4vaGVscGVycy9idWlsZFVSTC5qcyc7XG5pbXBvcnQgSW50ZXJjZXB0b3JNYW5hZ2VyIGZyb20gJy4vSW50ZXJjZXB0b3JNYW5hZ2VyLmpzJztcbmltcG9ydCBkaXNwYXRjaFJlcXVlc3QgZnJvbSAnLi9kaXNwYXRjaFJlcXVlc3QuanMnO1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gJy4vbWVyZ2VDb25maWcuanMnO1xuaW1wb3J0IGJ1aWxkRnVsbFBhdGggZnJvbSAnLi9idWlsZEZ1bGxQYXRoLmpzJztcbmltcG9ydCB2YWxpZGF0b3IgZnJvbSAnLi4vaGVscGVycy92YWxpZGF0b3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuL0F4aW9zSGVhZGVycy5qcyc7XG5cbmNvbnN0IHZhbGlkYXRvcnMgPSB2YWxpZGF0b3IudmFsaWRhdG9ycztcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gaW5zdGFuY2VDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJuIHtBeGlvc30gQSBuZXcgaW5zdGFuY2Ugb2YgQXhpb3NcbiAqL1xuY2xhc3MgQXhpb3Mge1xuICBjb25zdHJ1Y3RvcihpbnN0YW5jZUNvbmZpZykge1xuICAgIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgICB0aGlzLmludGVyY2VwdG9ycyA9IHtcbiAgICAgIHJlcXVlc3Q6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKSxcbiAgICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3BhdGNoIGEgcmVxdWVzdFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ3xPYmplY3R9IGNvbmZpZ09yVXJsIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAgICogQHBhcmFtIHs/T2JqZWN0fSBjb25maWdcbiAgICpcbiAgICogQHJldHVybnMge1Byb21pc2V9IFRoZSBQcm9taXNlIHRvIGJlIGZ1bGZpbGxlZFxuICAgKi9cbiAgYXN5bmMgcmVxdWVzdChjb25maWdPclVybCwgY29uZmlnKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9yZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGxldCBkdW1teSA9IHt9O1xuXG4gICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlID8gRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZHVtbXkpIDogKGR1bW15ID0gbmV3IEVycm9yKCkpO1xuXG4gICAgICAgIC8vIHNsaWNlIG9mZiB0aGUgRXJyb3I6IC4uLiBsaW5lXG4gICAgICAgIGNvbnN0IHN0YWNrID0gZHVtbXkuc3RhY2sgPyBkdW1teS5zdGFjay5yZXBsYWNlKC9eLitcXG4vLCAnJykgOiAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWVyci5zdGFjaykge1xuICAgICAgICAgICAgZXJyLnN0YWNrID0gc3RhY2s7XG4gICAgICAgICAgICAvLyBtYXRjaCB3aXRob3V0IHRoZSAyIHRvcCBzdGFjayBsaW5lc1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2sgJiYgIVN0cmluZyhlcnIuc3RhY2spLmVuZHNXaXRoKHN0YWNrLnJlcGxhY2UoL14uK1xcbi4rXFxuLywgJycpKSkge1xuICAgICAgICAgICAgZXJyLnN0YWNrICs9ICdcXG4nICsgc3RhY2tcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpZ25vcmUgdGhlIGNhc2Ugd2hlcmUgXCJzdGFja1wiIGlzIGFuIHVuLXdyaXRhYmxlIHByb3BlcnR5XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIF9yZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgICAvLyBBbGxvdyBmb3IgYXhpb3MoJ2V4YW1wbGUvdXJsJ1ssIGNvbmZpZ10pIGEgbGEgZmV0Y2ggQVBJXG4gICAgaWYgKHR5cGVvZiBjb25maWdPclVybCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGNvbmZpZyA9IGNvbmZpZyB8fCB7fTtcbiAgICAgIGNvbmZpZy51cmwgPSBjb25maWdPclVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnID0gY29uZmlnT3JVcmwgfHwge307XG4gICAgfVxuXG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcblxuICAgIGNvbnN0IHt0cmFuc2l0aW9uYWwsIHBhcmFtc1NlcmlhbGl6ZXIsIGhlYWRlcnN9ID0gY29uZmlnO1xuXG4gICAgaWYgKHRyYW5zaXRpb25hbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyh0cmFuc2l0aW9uYWwsIHtcbiAgICAgICAgc2lsZW50SlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGZvcmNlZEpTT05QYXJzaW5nOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pLFxuICAgICAgICBjbGFyaWZ5VGltZW91dEVycm9yOiB2YWxpZGF0b3JzLnRyYW5zaXRpb25hbCh2YWxpZGF0b3JzLmJvb2xlYW4pXG4gICAgICB9LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIgIT0gbnVsbCkge1xuICAgICAgaWYgKHV0aWxzLmlzRnVuY3Rpb24ocGFyYW1zU2VyaWFsaXplcikpIHtcbiAgICAgICAgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIgPSB7XG4gICAgICAgICAgc2VyaWFsaXplOiBwYXJhbXNTZXJpYWxpemVyXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHBhcmFtc1NlcmlhbGl6ZXIsIHtcbiAgICAgICAgICBlbmNvZGU6IHZhbGlkYXRvcnMuZnVuY3Rpb24sXG4gICAgICAgICAgc2VyaWFsaXplOiB2YWxpZGF0b3JzLmZ1bmN0aW9uXG4gICAgICAgIH0sIHRydWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHNcbiAgICBpZiAoY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9IGVsc2UgaWYgKHRoaXMuZGVmYXVsdHMuYWxsb3dBYnNvbHV0ZVVybHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzID0gdGhpcy5kZWZhdWx0cy5hbGxvd0Fic29sdXRlVXJscztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uZmlnLmFsbG93QWJzb2x1dGVVcmxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YWxpZGF0b3IuYXNzZXJ0T3B0aW9ucyhjb25maWcsIHtcbiAgICAgIGJhc2VVcmw6IHZhbGlkYXRvcnMuc3BlbGxpbmcoJ2Jhc2VVUkwnKSxcbiAgICAgIHdpdGhYc3JmVG9rZW46IHZhbGlkYXRvcnMuc3BlbGxpbmcoJ3dpdGhYU1JGVG9rZW4nKVxuICAgIH0sIHRydWUpO1xuXG4gICAgLy8gU2V0IGNvbmZpZy5tZXRob2RcbiAgICBjb25maWcubWV0aG9kID0gKGNvbmZpZy5tZXRob2QgfHwgdGhpcy5kZWZhdWx0cy5tZXRob2QgfHwgJ2dldCcpLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBGbGF0dGVuIGhlYWRlcnNcbiAgICBsZXQgY29udGV4dEhlYWRlcnMgPSBoZWFkZXJzICYmIHV0aWxzLm1lcmdlKFxuICAgICAgaGVhZGVycy5jb21tb24sXG4gICAgICBoZWFkZXJzW2NvbmZpZy5tZXRob2RdXG4gICAgKTtcblxuICAgIGhlYWRlcnMgJiYgdXRpbHMuZm9yRWFjaChcbiAgICAgIFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJywgJ2NvbW1vbiddLFxuICAgICAgKG1ldGhvZCkgPT4ge1xuICAgICAgICBkZWxldGUgaGVhZGVyc1ttZXRob2RdO1xuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25maWcuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5jb25jYXQoY29udGV4dEhlYWRlcnMsIGhlYWRlcnMpO1xuXG4gICAgLy8gZmlsdGVyIG91dCBza2lwcGVkIGludGVyY2VwdG9yc1xuICAgIGNvbnN0IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgbGV0IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHRydWU7XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVxdWVzdC5mb3JFYWNoKGZ1bmN0aW9uIHVuc2hpZnRSZXF1ZXN0SW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICBpZiAodHlwZW9mIGludGVyY2VwdG9yLnJ1bldoZW4gPT09ICdmdW5jdGlvbicgJiYgaW50ZXJjZXB0b3IucnVuV2hlbihjb25maWcpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyA9IHN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycyAmJiBpbnRlcmNlcHRvci5zeW5jaHJvbm91cztcblxuICAgICAgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4udW5zaGlmdChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbiA9IFtdO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goZnVuY3Rpb24gcHVzaFJlc3BvbnNlSW50ZXJjZXB0b3JzKGludGVyY2VwdG9yKSB7XG4gICAgICByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4ucHVzaChpbnRlcmNlcHRvci5mdWxmaWxsZWQsIGludGVyY2VwdG9yLnJlamVjdGVkKTtcbiAgICB9KTtcblxuICAgIGxldCBwcm9taXNlO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbGVuO1xuXG4gICAgaWYgKCFzeW5jaHJvbm91c1JlcXVlc3RJbnRlcmNlcHRvcnMpIHtcbiAgICAgIGNvbnN0IGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdC5iaW5kKHRoaXMpLCB1bmRlZmluZWRdO1xuICAgICAgY2hhaW4udW5zaGlmdC5hcHBseShjaGFpbiwgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgY2hhaW4ucHVzaC5hcHBseShjaGFpbiwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluKTtcbiAgICAgIGxlbiA9IGNoYWluLmxlbmd0aDtcblxuICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpO1xuXG4gICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluW2krK10sIGNoYWluW2krK10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBsZW4gPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICBsZXQgbmV3Q29uZmlnID0gY29uZmlnO1xuXG4gICAgaSA9IDA7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbltpKytdO1xuICAgICAgY29uc3Qgb25SZWplY3RlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICB0cnkge1xuICAgICAgICBuZXdDb25maWcgPSBvbkZ1bGZpbGxlZChuZXdDb25maWcpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgb25SZWplY3RlZC5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIHByb21pc2UgPSBkaXNwYXRjaFJlcXVlc3QuY2FsbCh0aGlzLCBuZXdDb25maWcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cblxuICAgIGkgPSAwO1xuICAgIGxlbiA9IHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihyZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSwgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluW2krK10pO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgZ2V0VXJpKGNvbmZpZykge1xuICAgIGNvbmZpZyA9IG1lcmdlQ29uZmlnKHRoaXMuZGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgY29uc3QgZnVsbFBhdGggPSBidWlsZEZ1bGxQYXRoKGNvbmZpZy5iYXNlVVJMLCBjb25maWcudXJsLCBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMpO1xuICAgIHJldHVybiBidWlsZFVSTChmdWxsUGF0aCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpO1xuICB9XG59XG5cbi8vIFByb3ZpZGUgYWxpYXNlcyBmb3Igc3VwcG9ydGVkIHJlcXVlc3QgbWV0aG9kc1xudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdvcHRpb25zJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2ROb0RhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odXJsLCBjb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgbWV0aG9kLFxuICAgICAgdXJsLFxuICAgICAgZGF0YTogKGNvbmZpZyB8fCB7fSkuZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG51dGlscy5mb3JFYWNoKFsncG9zdCcsICdwdXQnLCAncGF0Y2gnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZFdpdGhEYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuXG4gIGZ1bmN0aW9uIGdlbmVyYXRlSFRUUE1ldGhvZChpc0Zvcm0pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gaHR0cE1ldGhvZCh1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdChtZXJnZUNvbmZpZyhjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICBoZWFkZXJzOiBpc0Zvcm0gPyB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xuICAgICAgICB9IDoge30sXG4gICAgICAgIHVybCxcbiAgICAgICAgZGF0YVxuICAgICAgfSkpO1xuICAgIH07XG4gIH1cblxuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGdlbmVyYXRlSFRUUE1ldGhvZCgpO1xuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2QgKyAnRm9ybSddID0gZ2VuZXJhdGVIVFRQTWV0aG9kKHRydWUpO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gJy4vQ2FuY2VsZWRFcnJvci5qcyc7XG5cbi8qKlxuICogQSBgQ2FuY2VsVG9rZW5gIGlzIGFuIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIHJlcXVlc3QgY2FuY2VsbGF0aW9uIG9mIGFuIG9wZXJhdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKlxuICogQHJldHVybnMge0NhbmNlbFRva2VufVxuICovXG5jbGFzcyBDYW5jZWxUb2tlbiB7XG4gIGNvbnN0cnVjdG9yKGV4ZWN1dG9yKSB7XG4gICAgaWYgKHR5cGVvZiBleGVjdXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGxldCByZXNvbHZlUHJvbWlzZTtcblxuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XG4gICAgfSk7XG5cbiAgICBjb25zdCB0b2tlbiA9IHRoaXM7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuKGNhbmNlbCA9PiB7XG4gICAgICBpZiAoIXRva2VuLl9saXN0ZW5lcnMpIHJldHVybjtcblxuICAgICAgbGV0IGkgPSB0b2tlbi5fbGlzdGVuZXJzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgICAgdG9rZW4uX2xpc3RlbmVyc1tpXShjYW5jZWwpO1xuICAgICAgfVxuICAgICAgdG9rZW4uX2xpc3RlbmVycyA9IG51bGw7XG4gICAgfSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIHRoaXMucHJvbWlzZS50aGVuID0gb25mdWxmaWxsZWQgPT4ge1xuICAgICAgbGV0IF9yZXNvbHZlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgdG9rZW4uc3Vic2NyaWJlKHJlc29sdmUpO1xuICAgICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICB9KS50aGVuKG9uZnVsZmlsbGVkKTtcblxuICAgICAgcHJvbWlzZS5jYW5jZWwgPSBmdW5jdGlvbiByZWplY3QoKSB7XG4gICAgICAgIHRva2VuLnVuc3Vic2NyaWJlKF9yZXNvbHZlKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KSB7XG4gICAgICBpZiAodG9rZW4ucmVhc29uKSB7XG4gICAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWxlZEVycm9yKG1lc3NhZ2UsIGNvbmZpZywgcmVxdWVzdCk7XG4gICAgICByZXNvbHZlUHJvbWlzZSh0b2tlbi5yZWFzb24pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhIGBDYW5jZWxlZEVycm9yYCBpZiBjYW5jZWxsYXRpb24gaGFzIGJlZW4gcmVxdWVzdGVkLlxuICAgKi9cbiAgdGhyb3dJZlJlcXVlc3RlZCgpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIHRocm93IHRoaXMucmVhc29uO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKHRoaXMucmVhc29uKSB7XG4gICAgICBsaXN0ZW5lcih0aGlzLnJlYXNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xpc3RlbmVycykge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMgPSBbbGlzdGVuZXJdO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSBmcm9tIHRoZSBjYW5jZWwgc2lnbmFsXG4gICAqL1xuXG4gIHVuc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5fbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgdG9BYm9ydFNpZ25hbCgpIHtcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgY29uc3QgYWJvcnQgPSAoZXJyKSA9PiB7XG4gICAgICBjb250cm9sbGVyLmFib3J0KGVycik7XG4gICAgfTtcblxuICAgIHRoaXMuc3Vic2NyaWJlKGFib3J0KTtcblxuICAgIGNvbnRyb2xsZXIuc2lnbmFsLnVuc3Vic2NyaWJlID0gKCkgPT4gdGhpcy51bnN1YnNjcmliZShhYm9ydCk7XG5cbiAgICByZXR1cm4gY29udHJvbGxlci5zaWduYWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG5ldyBgQ2FuY2VsVG9rZW5gIGFuZCBhIGZ1bmN0aW9uIHRoYXQsIHdoZW4gY2FsbGVkLFxuICAgKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICAgKi9cbiAgc3RhdGljIHNvdXJjZSgpIHtcbiAgICBsZXQgY2FuY2VsO1xuICAgIGNvbnN0IHRva2VuID0gbmV3IENhbmNlbFRva2VuKGZ1bmN0aW9uIGV4ZWN1dG9yKGMpIHtcbiAgICAgIGNhbmNlbCA9IGM7XG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRva2VuLFxuICAgICAgY2FuY2VsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYW5jZWxUb2tlbjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNwcmVhZChjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gd3JhcChhcnIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkobnVsbCwgYXJyKTtcbiAgfTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvc1xuICpcbiAqIEBwYXJhbSB7Kn0gcGF5bG9hZCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBwYXlsb2FkIGlzIGFuIGVycm9yIHRocm93biBieSBBeGlvcywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQXhpb3NFcnJvcihwYXlsb2FkKSB7XG4gIHJldHVybiB1dGlscy5pc09iamVjdChwYXlsb2FkKSAmJiAocGF5bG9hZC5pc0F4aW9zRXJyb3IgPT09IHRydWUpO1xufVxuIiwKICAgICJjb25zdCBIdHRwU3RhdHVzQ29kZSA9IHtcbiAgQ29udGludWU6IDEwMCxcbiAgU3dpdGNoaW5nUHJvdG9jb2xzOiAxMDEsXG4gIFByb2Nlc3Npbmc6IDEwMixcbiAgRWFybHlIaW50czogMTAzLFxuICBPazogMjAwLFxuICBDcmVhdGVkOiAyMDEsXG4gIEFjY2VwdGVkOiAyMDIsXG4gIE5vbkF1dGhvcml0YXRpdmVJbmZvcm1hdGlvbjogMjAzLFxuICBOb0NvbnRlbnQ6IDIwNCxcbiAgUmVzZXRDb250ZW50OiAyMDUsXG4gIFBhcnRpYWxDb250ZW50OiAyMDYsXG4gIE11bHRpU3RhdHVzOiAyMDcsXG4gIEFscmVhZHlSZXBvcnRlZDogMjA4LFxuICBJbVVzZWQ6IDIyNixcbiAgTXVsdGlwbGVDaG9pY2VzOiAzMDAsXG4gIE1vdmVkUGVybWFuZW50bHk6IDMwMSxcbiAgRm91bmQ6IDMwMixcbiAgU2VlT3RoZXI6IDMwMyxcbiAgTm90TW9kaWZpZWQ6IDMwNCxcbiAgVXNlUHJveHk6IDMwNSxcbiAgVW51c2VkOiAzMDYsXG4gIFRlbXBvcmFyeVJlZGlyZWN0OiAzMDcsXG4gIFBlcm1hbmVudFJlZGlyZWN0OiAzMDgsXG4gIEJhZFJlcXVlc3Q6IDQwMCxcbiAgVW5hdXRob3JpemVkOiA0MDEsXG4gIFBheW1lbnRSZXF1aXJlZDogNDAyLFxuICBGb3JiaWRkZW46IDQwMyxcbiAgTm90Rm91bmQ6IDQwNCxcbiAgTWV0aG9kTm90QWxsb3dlZDogNDA1LFxuICBOb3RBY2NlcHRhYmxlOiA0MDYsXG4gIFByb3h5QXV0aGVudGljYXRpb25SZXF1aXJlZDogNDA3LFxuICBSZXF1ZXN0VGltZW91dDogNDA4LFxuICBDb25mbGljdDogNDA5LFxuICBHb25lOiA0MTAsXG4gIExlbmd0aFJlcXVpcmVkOiA0MTEsXG4gIFByZWNvbmRpdGlvbkZhaWxlZDogNDEyLFxuICBQYXlsb2FkVG9vTGFyZ2U6IDQxMyxcbiAgVXJpVG9vTG9uZzogNDE0LFxuICBVbnN1cHBvcnRlZE1lZGlhVHlwZTogNDE1LFxuICBSYW5nZU5vdFNhdGlzZmlhYmxlOiA0MTYsXG4gIEV4cGVjdGF0aW9uRmFpbGVkOiA0MTcsXG4gIEltQVRlYXBvdDogNDE4LFxuICBNaXNkaXJlY3RlZFJlcXVlc3Q6IDQyMSxcbiAgVW5wcm9jZXNzYWJsZUVudGl0eTogNDIyLFxuICBMb2NrZWQ6IDQyMyxcbiAgRmFpbGVkRGVwZW5kZW5jeTogNDI0LFxuICBUb29FYXJseTogNDI1LFxuICBVcGdyYWRlUmVxdWlyZWQ6IDQyNixcbiAgUHJlY29uZGl0aW9uUmVxdWlyZWQ6IDQyOCxcbiAgVG9vTWFueVJlcXVlc3RzOiA0MjksXG4gIFJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZTogNDMxLFxuICBVbmF2YWlsYWJsZUZvckxlZ2FsUmVhc29uczogNDUxLFxuICBJbnRlcm5hbFNlcnZlckVycm9yOiA1MDAsXG4gIE5vdEltcGxlbWVudGVkOiA1MDEsXG4gIEJhZEdhdGV3YXk6IDUwMixcbiAgU2VydmljZVVuYXZhaWxhYmxlOiA1MDMsXG4gIEdhdGV3YXlUaW1lb3V0OiA1MDQsXG4gIEh0dHBWZXJzaW9uTm90U3VwcG9ydGVkOiA1MDUsXG4gIFZhcmlhbnRBbHNvTmVnb3RpYXRlczogNTA2LFxuICBJbnN1ZmZpY2llbnRTdG9yYWdlOiA1MDcsXG4gIExvb3BEZXRlY3RlZDogNTA4LFxuICBOb3RFeHRlbmRlZDogNTEwLFxuICBOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZDogNTExLFxufTtcblxuT2JqZWN0LmVudHJpZXMoSHR0cFN0YXR1c0NvZGUpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICBIdHRwU3RhdHVzQ29kZVt2YWx1ZV0gPSBrZXk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgSHR0cFN0YXR1c0NvZGU7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IGJpbmQgZnJvbSAnLi9oZWxwZXJzL2JpbmQuanMnO1xuaW1wb3J0IEF4aW9zIGZyb20gJy4vY29yZS9BeGlvcy5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9jb3JlL21lcmdlQ29uZmlnLmpzJztcbmltcG9ydCBkZWZhdWx0cyBmcm9tICcuL2RlZmF1bHRzL2luZGV4LmpzJztcbmltcG9ydCBmb3JtRGF0YVRvSlNPTiBmcm9tICcuL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qcyc7XG5pbXBvcnQgQ2FuY2VsVG9rZW4gZnJvbSAnLi9jYW5jZWwvQ2FuY2VsVG9rZW4uanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4vY2FuY2VsL2lzQ2FuY2VsLmpzJztcbmltcG9ydCB7VkVSU0lPTn0gZnJvbSAnLi9lbnYvZGF0YS5qcyc7XG5pbXBvcnQgdG9Gb3JtRGF0YSBmcm9tICcuL2hlbHBlcnMvdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgc3ByZWFkIGZyb20gJy4vaGVscGVycy9zcHJlYWQuanMnO1xuaW1wb3J0IGlzQXhpb3NFcnJvciBmcm9tICcuL2hlbHBlcnMvaXNBeGlvc0Vycm9yLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4vY29yZS9BeGlvc0hlYWRlcnMuanNcIjtcbmltcG9ydCBhZGFwdGVycyBmcm9tICcuL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzJztcbmltcG9ydCBIdHRwU3RhdHVzQ29kZSBmcm9tICcuL2hlbHBlcnMvSHR0cFN0YXR1c0NvZGUuanMnO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZWZhdWx0Q29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKlxuICogQHJldHVybnMge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIGNvbnN0IGNvbnRleHQgPSBuZXcgQXhpb3MoZGVmYXVsdENvbmZpZyk7XG4gIGNvbnN0IGluc3RhbmNlID0gYmluZChBeGlvcy5wcm90b3R5cGUucmVxdWVzdCwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBheGlvcy5wcm90b3R5cGUgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBBeGlvcy5wcm90b3R5cGUsIGNvbnRleHQsIHthbGxPd25LZXlzOiB0cnVlfSk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCwgbnVsbCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG4gIGluc3RhbmNlLmNyZWF0ZSA9IGZ1bmN0aW9uIGNyZWF0ZShpbnN0YW5jZUNvbmZpZykge1xuICAgIHJldHVybiBjcmVhdGVJbnN0YW5jZShtZXJnZUNvbmZpZyhkZWZhdWx0Q29uZmlnLCBpbnN0YW5jZUNvbmZpZykpO1xuICB9O1xuXG4gIHJldHVybiBpbnN0YW5jZTtcbn1cblxuLy8gQ3JlYXRlIHRoZSBkZWZhdWx0IGluc3RhbmNlIHRvIGJlIGV4cG9ydGVkXG5jb25zdCBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBFeHBvc2UgQ2FuY2VsICYgQ2FuY2VsVG9rZW5cbmF4aW9zLkNhbmNlbGVkRXJyb3IgPSBDYW5jZWxlZEVycm9yO1xuYXhpb3MuQ2FuY2VsVG9rZW4gPSBDYW5jZWxUb2tlbjtcbmF4aW9zLmlzQ2FuY2VsID0gaXNDYW5jZWw7XG5heGlvcy5WRVJTSU9OID0gVkVSU0lPTjtcbmF4aW9zLnRvRm9ybURhdGEgPSB0b0Zvcm1EYXRhO1xuXG4vLyBFeHBvc2UgQXhpb3NFcnJvciBjbGFzc1xuYXhpb3MuQXhpb3NFcnJvciA9IEF4aW9zRXJyb3I7XG5cbi8vIGFsaWFzIGZvciBDYW5jZWxlZEVycm9yIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5heGlvcy5DYW5jZWwgPSBheGlvcy5DYW5jZWxlZEVycm9yO1xuXG4vLyBFeHBvc2UgYWxsL3NwcmVhZFxuYXhpb3MuYWxsID0gZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59O1xuXG5heGlvcy5zcHJlYWQgPSBzcHJlYWQ7XG5cbi8vIEV4cG9zZSBpc0F4aW9zRXJyb3JcbmF4aW9zLmlzQXhpb3NFcnJvciA9IGlzQXhpb3NFcnJvcjtcblxuLy8gRXhwb3NlIG1lcmdlQ29uZmlnXG5heGlvcy5tZXJnZUNvbmZpZyA9IG1lcmdlQ29uZmlnO1xuXG5heGlvcy5BeGlvc0hlYWRlcnMgPSBBeGlvc0hlYWRlcnM7XG5cbmF4aW9zLmZvcm1Ub0pTT04gPSB0aGluZyA9PiBmb3JtRGF0YVRvSlNPTih1dGlscy5pc0hUTUxGb3JtKHRoaW5nKSA/IG5ldyBGb3JtRGF0YSh0aGluZykgOiB0aGluZyk7XG5cbmF4aW9zLmdldEFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyO1xuXG5heGlvcy5IdHRwU3RhdHVzQ29kZSA9IEh0dHBTdGF0dXNDb2RlO1xuXG5heGlvcy5kZWZhdWx0ID0gYXhpb3M7XG5cbi8vIHRoaXMgbW9kdWxlIHNob3VsZCBvbmx5IGhhdmUgYSBkZWZhdWx0IGV4cG9ydFxuZXhwb3J0IGRlZmF1bHQgYXhpb3NcbiIsCiAgICAiaW1wb3J0IHtcbiAgICBkZWZhdWx0IGFzIEF4aW9zXG59IGZyb20gXCJheGlvc1wiO1xuXG5leHBvcnQgdHlwZSBTZXJ2ZXI8XG4gICAgVDEgZXh0ZW5kcyBTZXJ2ZXIuRW5kcG9pbnRzLCBcbiAgICBUMiBleHRlbmRzIFNlcnZlci5SZWNlaXZlckVuZHBvaW50c1xuICAgID4gPSB7XG4gICAgcXVlcnk8VDMgZXh0ZW5kcyBrZXlvZiBUMT4odXJsOiBUMyk6IFByb21pc2U8VDFbVDNdPjtcbiAgICB0b3VjaDxUMyBleHRlbmRzIGtleW9mIFQyPih1cmw6IFQzLCBkYXRhOiBUMltUM11bMF0pOiBQcm9taXNlPFQyW1QzXVsxXT47XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gU2VydmVyPFxuICAgIFQxIGV4dGVuZHMgU2VydmVyLkVuZHBvaW50cyxcbiAgICBUMiBleHRlbmRzIFNlcnZlci5SZWNlaXZlckVuZHBvaW50c1xuICAgID4oKTogU2VydmVyPFQxLCBUMj4ge1xuICAgIC8qKiBAY29uc3RydWN0b3IgKi8ge1xuICAgICAgICByZXR1cm4ge3F1ZXJ5LCB0b3VjaH07XG4gICAgfVxuICAgIFxuICAgIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5PFQzIGV4dGVuZHMga2V5b2YgVDE+KHVybDogVDMpOiBQcm9taXNlPFQxW1QzXT4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IEF4aW9zLmdldCgodXJsIGFzIHN0cmluZykpKS5kYXRhO1xuICAgIH1cbiAgICBcbiAgICBhc3luYyBmdW5jdGlvbiB0b3VjaDxUMyBleHRlbmRzIGtleW9mIFQyPih1cmw6IFQzLCBkYXRhOiBUMltUM11bMF0pOiBQcm9taXNlPFQyW1QzXVsxXT4ge1xuICAgICAgICByZXR1cm4gKGF3YWl0IEF4aW9zLnBvc3QoKHVybCBhcyBzdHJpbmcpLCBkYXRhKSkuZGF0YTtcbiAgICB9ICAgXG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgU2VydmVyIHtcbiAgICAvKipcbiAgICAgKiAqKip3aGVyZSoqKlxuICAgICAqICogICAgIFQxIDogdXJsXG4gICAgICogKiAgICAgVDIgOiByZXNwb25zZVxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIEVuZHBvaW50czxUMSBleHRlbmRzIHN0cmluZz1zdHJpbmcsIFQyPXVua25vd24+ID0gUmVjb3JkPFQxLCBUMj47XG5cbiAgICAvKipcbiAgICAgKiAqKip3aGVyZSoqKlxuICAgICAqICogICAgIFQxIDogdXJsXG4gICAgICogKiAgICAgVDIgOiByZXF1ZXN0XG4gICAgICogKiAgICAgVDMgOiByZXNwb25zZVxuICAgICAqL1xuICAgIGV4cG9ydCB0eXBlIFJlY2VpdmVyRW5kcG9pbnRzPFxuICAgICAgICBUMSBleHRlbmRzIHN0cmluZz1zdHJpbmcsXG4gICAgICAgIFQyPXVua25vd24sXG4gICAgICAgIFQzPXVua25vd25cbiAgICAgICAgPiA9IFJlY29yZDxUMSwgW1QyLCBUM10+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIFNlcnZlclxufSBmcm9tIFwiQGNvbW1vblwiO1xuXG5leHBvcnQgY29uc3QgQnJpZGdlID0gU2VydmVyPHt9LCB7XG4gICAgXCIvdXNlcm5hbWVfaXNfYXZhaWxhYmxlXCI6IFt7XG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmdcbiAgICB9LCB7XG4gICAgICAgIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgICB9XSxcbiAgICBcIi9wcm9kdWN0X2lzX2luX3N0b2NrXCI6IFtcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBib29sZWFuXG4gICAgXSxcbiAgICBcIi9oYXNfcHJvZHVjdFwiOiBbXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZywgXG4gICAgICAgIGJvb2xlYW5cbiAgICBdLFxuICAgIFwiL21hdGVyaWFsc1wiOiBbXG4gICAgICAgIG51bGwsIFxuICAgICAgICBBcnJheTxzdHJpbmc+XG4gICAgXSxcbiAgICBcIi9wcm9kdWN0c19ieV9rZXlcIjogW1xuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHJlc3BvbnNlOiBBcnJheTxQcm9kdWN0RGF0YT5cbiAgICBdLFxuICAgIFwiL3Byb2R1Y3RzXCI6IFtcbiAgICAgICAgbnVsbCwgXG4gICAgICAgIHJlc3BvbnNlOiBBcnJheTxQcm9kdWN0RGF0YT5cbiAgICBdLFxuICAgIFwiL3NpZ25fdXBcIjogW3tcbiAgICAgICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICAgICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgZW1haWw6IHN0cmluZ1xuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9zaWduX2luXCI6IFt7XG4gICAgICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgICAgIHBhc3N3b3JkOiBzdHJpbmdcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvbGlzdFwiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3Q6IFByb2R1Y3REYXRhXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdXG4gICAgXCIvZGVsaXN0XCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdXG4gICAgXCIvc2V0X3N0b2NrXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvaW5jcmVhc2Vfc3RvY2tcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9kZWNyZWFzZV9zdG9ja1wiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL3NldF9wcmljZVwiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL2luY3JlYXNlX3ByaWNlXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvZGVjcmVhc2VfcHJpY2VcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXVxufT4oKTtcblxuZXhwb3J0IG5hbWVzcGFjZSBCcmlkZ2Uge1xuICAgIGV4cG9ydCB0eXBlIEVyciA9XG4gICAgICAgIHwgXCJCUklER0UuRVJSX0lOVkFMSURfUkVRVUVTVFwiXG4gICAgICAgIHwgXCJCUklER0UuRVJSX1VTRVJOQU1FX05PVF9BVkFJTEFCTEVcIjtcbn0iLAogICAgImV4cG9ydCBmdW5jdGlvbiByZXF1aXJlPFQxIGV4dGVuZHMgc3RyaW5nPihjb25kaXRpb246IGJvb2xlYW4sIGNvZGU6IFQxKTogYXNzZXJ0cyBjb25kaXRpb24gaXMgdHJ1ZSB7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRocm93IGNvZGU7XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBTcHJpbmdDb25maWcsXG4gICAgU0hBRE9XLFxuICAgIHVzZVNwcmluZ3MsXG4gICAgdXNlU3RhdGUsXG4gICAgdXNlRWZmZWN0LFxuICAgIGFuaW1hdGVkXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIEltYWdlQ2Fyb3VzZWxQcm9wcyA9XG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICB1cmxzOiBBcnJheTxzdHJpbmc+O1xuICAgIG1zSW50ZXJ2YWxTbGVlcD86IG51bWJlcjtcbiAgICBhbmltYXRpb24/OiBTcHJpbmdDb25maWc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSW1hZ2VDYXJvdXNlbCh7XG4gICAgdXJscyxcbiAgICBtc0ludGVydmFsU2xlZXA9MTAwMDAsXG4gICAgYW5pbWF0aW9uPXtcbiAgICAgICAgZHVyYXRpb246IDEwMDAwXG4gICAgfSxcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBJbWFnZUNhcm91c2VsUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIGxldCBrZXk6IFN0YXRlPG51bWJlcj4gPSB1c2VTdGF0ZSgwKTtcbiAgICBsZXQgc3ByaW5ncyA9IHVzZVNwcmluZ3ModXJscy5sZW5ndGgsIHVybHMubWFwKChfLCB1cmxLZXkpID0+ICh7XG4gICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZVgoJHsxMDAgKiAodXJsS2V5IC0ga2V5WzBdKX0lKWAsXG4gICAgICAgIGNvbmZpZzogYW5pbWF0aW9uXG4gICAgfSkpKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGxldCB0aW1lcjogVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiBrZXlbMV0obGFzdCA9PiAobGFzdCArIDEpICUgdXJscy5sZW5ndGgpLCBtc0ludGVydmFsU2xlZXApO1xuICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJJbnRlcnZhbCh0aW1lcik7XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxMCxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPVyxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WDogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICBvdmVyZmxvd1k6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7c3ByaW5ncy5tYXAoKHNwcmluZywgc3ByaW5nS2V5KSA9PiA8PlxuICAgICAgICAgICAgICAgIDxhbmltYXRlZC5kaXZcbiAgICAgICAgICAgICAgICAgICAga2V5PXtzcHJpbmdLZXl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5zcHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHt1cmxzW3NwcmluZ0tleV19KWAsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogXCJjb3ZlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblk6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcIm5vLXJlcGVhdFwiXG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvPil9XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICAgICAgekluZGV4OiBcIjJcIixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAxXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImV4cG9ydCB0eXBlIENvbG9yID0gW1xuICAgIHN0cmluZywgIC8vIGRrXG4gICAgc3RyaW5nLCAgLy8gbHRcbiAgICBzdHJpbmcgICAvLyBhY2NlbnRcbl07XG5cbmV4cG9ydCBjb25zdCBDb2xvcjogQ29sb3IgPSBbXG4gICAgXCIjMEMwNTI3XCIsXG4gICAgXCIjRkFGNkY2XCIsXG4gICAgXCIjRjFENTUwXCJcbl07IiwKICAgICJleHBvcnQgdHlwZSBGb250ID0gW1xuICAgIHN0cmluZywgIC8vIDBcbiAgICBzdHJpbmcsICAvLyAxXG4gICAgc3RyaW5nICAgLy8gbW9ub3NwYWNlXG5dO1xuXG5leHBvcnQgY29uc3QgRm9udDogRm9udCA9IFtcbiAgICBcIktvbmtobWVyIFNsZW9rY2hoZXJcIixcbiAgICBcIkNvcmUgU2FucyBBXCIsXG4gICAgXCJNYXJpYVwiXG5dOyIsCiAgICAiZXhwb3J0IGNvbnN0IFNIQURPVzogc3RyaW5nID0gXCJyZ2JhKDAsIDAsIDAsIDAuMDUpIDBweCAwcHggMHB4IDFweFwiOyIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBTSEFET1csXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtQnV0dG9uUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiYnV0dG9uXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1CdXR0b24oe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IEZvcm1CdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsxXSxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPVyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiA1LFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZlxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtSW5wdXRQcm9wcyA9XG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImlucHV0XCI+LCBcImNoaWxkcmVuXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1JbnB1dCh7c3R5bGUsIC4uLm1vcmV9OiBGb3JtSW5wdXRQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBhbGw6IFwidW5zZXRcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSAgIFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIEZvcm1NZXNzYWdlUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1NZXNzYWdlKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBGb3JtTWVzc2FnZVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIFNIQURPVyxcbiAgICBGb250LFxuICAgIENvbG9yLFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtUHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBGb3JtUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMjAsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA1LFxuICAgICAgICAgICAgICAgIGdhcDogMjAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUGFnZVByb3BzLFxuICAgIFBhZ2UsXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnNQcm9wcyA9IFxuICAgICYgUGFnZVByb3BzXG4gICAgJiB7XG4gICAgc2VjdGlvbnM6IFtcbiAgICAgICAgUmVhY3ROb2RlLFxuICAgICAgICBSZWFjdE5vZGUsXG4gICAgICAgIFJlYWN0Tm9kZVxuICAgIF07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gUGFnZVdpdGgzVmVydGljYWxTZWN0aW9ucyh7c2VjdGlvbnMsIC4uLm1vcmV9OiBQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zUHJvcHMpIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFBhZ2UgXG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzBdfTwvX1NlY3Rpb24+XG4gICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzFdfTwvX1NlY3Rpb24+XG4gICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzJdfTwvX1NlY3Rpb24+XG4gICAgICAgIDwvUGFnZT5cbiAgICA8Lz47XG59XG5cblxudHlwZSBfU2VjdGlvblByb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICBjaGlsZHJlbjogUmVhY3ROb2RlO1xufTtcblxuZnVuY3Rpb24gX1NlY3Rpb24oe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IF9TZWN0aW9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFBhZ2VQcm9wcyA9IFxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgbmF2YmFyPzogUmVhY3ROb2RlO1xuICAgIGZvb3Rlcj86IFJlYWN0Tm9kZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBQYWdlKHtcbiAgICBuYXZiYXIsXG4gICAgZm9vdGVyLFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IFBhZ2VQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwdndcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwdmhcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMDI0LFxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogMTQ0MCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogNjQsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogNjRcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICB7bmF2YmFyfVxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtmb290ZXJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+ICAgICBcbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkJ1dHRvbkdyb3VwUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkJ1dHRvbkdyb3VwKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBOYXZCdXR0b25Hcm91cFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgZ2FwOiAxMCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIENTU1Byb3BlcnRpZXMsXG4gICAgdHlwZSBTcHJpbmdDb25maWcsXG4gICAgRm9udCxcbiAgICBDb2xvcixcbiAgICB1c2VTcHJpbmcsXG4gICAgYW5pbWF0ZWRcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2QnV0dG9uUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgaWNvbj86IHN0cmluZyxcbiAgICBpY29uU3R5bGU/OiBDU1NQcm9wZXJ0aWVzLFxuICAgIGNoaWxkU3R5bGU/OiBDU1NQcm9wZXJ0aWVzLFxuICAgIGFuaW1hdGlvbj86IFNwcmluZ0NvbmZpZyxcbiAgICBmb250U2l6ZU9uTW91c2VFbnRlcj86IHN0cmluZyxcbiAgICBmb250U2l6ZU9uTW91c2VMZWF2ZT86IHN0cmluZ1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkJ1dHRvbih7XG4gICAgaWNvbixcbiAgICBpY29uU3R5bGUsXG4gICAgY2hpbGRTdHlsZSxcbiAgICBhbmltYXRpb24sXG4gICAgZm9udFNpemVPbk1vdXNlRW50ZXI9XCIwLjZlbVwiLFxuICAgIGZvbnRTaXplT25Nb3VzZUxlYXZlPVwiMC43ZW1cIixcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBOYXZCdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IHNwcmluZyA9IHVzZVNwcmluZygoKSA9PiAoe1xuICAgICAgICBmb250U2l6ZTogZm9udFNpemVPbk1vdXNlTGVhdmVcbiAgICB9KSk7XG4gICAgXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCI4cHhcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb25MaW5lOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtpY29uID8gPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtpY29ufSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblk6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogXCJjb250YWluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcIm5vLXJlcGVhdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IFwiMSAvIDFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmljb25TdHlsZVxuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8Lz4gOiB1bmRlZmluZWR9XG4gICAgICAgICAgICB7Y2hpbGRyZW4gPyA8PlxuICAgICAgICAgICAgICAgIHsvKiogQHRzLWlnbm9yZSAqL31cbiAgICAgICAgICAgICAgICA8YW5pbWF0ZWQuZGl2XG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaW5nWzFdLnN0YXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogZm9udFNpemVPbk1vdXNlRW50ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ1sxXS5zdGFydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IGZvbnRTaXplT25Nb3VzZUxlYXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3ByaW5nWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2hpbGRTdHlsZVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvYW5pbWF0ZWQuZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3ByaXRlSWNvblByb3BzLFxuICAgIEJJR19TVEFSX0FORF9TTUFMTEVSX1NUQVJfSUNPTixcbiAgICBTcHJpdGVJY29uXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkNhbGxUb0FjdGlvbkJ1dHRvbkljb25Qcm9wcyA9XG4gICAgJiBPbWl0PFNwcml0ZUljb25Qcm9wcywgXCJjaGlsZHJlblwiIHwgXCJ1cmxcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvbih7c3R5bGUsIC4uLm1vcmV9OiBOYXZDYWxsVG9BY3Rpb25CdXR0b25JY29uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8U3ByaXRlSWNvblxuICAgICAgICAgICAgdXJsPXtCSUdfU1RBUl9BTkRfU01BTExFUl9TVEFSX0lDT059XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjI1cHhcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBOYXZDYWxsVG9BY3Rpb25CdXR0b25JY29uLFxuICAgIE5hdkJ1dHRvbixcbiAgICBMaW5rLFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkNhbGxUb0FjdGlvbkJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIHRvOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2Q2FsbFRvQWN0aW9uQnV0dG9uKHt0bywgc3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogTmF2Q2FsbFRvQWN0aW9uQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IDEwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEwcHhcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICA8TmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvblxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBcIjEwMCVcIlxuICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgdG89e3RvfT5cbiAgICAgICAgICAgICAgICA8TmF2QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkU3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3ByaXRlUHJvcHMsXG4gICAgTE9HTyxcbiAgICBTcHJpdGUsXG4gICAgTGlua1xufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZMb2dvUHJvcHMgPVxuICAgICYgT21pdDxTcHJpdGVQcm9wcywgXCJjaGlsZHJlblwiIHwgXCJ1cmxcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2TG9nbyh7c3R5bGUsIC4uLm1vcmV9OiBOYXZMb2dvUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8TGlua1xuICAgICAgICAgICAgdG89XCIvXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJjb250ZW50c1wiXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgIDxTcHJpdGVcbiAgICAgICAgICAgICAgICB1cmw9e0xPR099XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTUwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IFwiMiAvIDFcIixcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgICAgIDwvTGluaz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgU0hBRE9XLFxuICAgIExpbmssXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4sXG4gICAgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPixcbiAgICB0b2dnbGVkOiBTdGF0ZTxib29sZWFuPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uKHtcbiAgICBtYXRlcmlhbHMsXG4gICAgbWF0ZXJpYWxGb2N1cyxcbiAgICB0b2dnbGVkLFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZWRbMV0odHJ1ZSl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7dG9nZ2xlZFswXSA/IDw+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHRvZ2dsZWRbMV0oZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIjEyMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogMjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7bWF0ZXJpYWxzWzBdLm1hcChtYXRlcmlhbCA9PiA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bz1cIi9zaG93X3Jvb21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG1hdGVyaWFsRm9jdXNbMV0obWF0ZXJpYWwpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21hdGVyaWFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgTmF2UHJvcHMsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgTmF2LFxuICAgIHVzZVN0YXRlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlBhcnRpYWxCdWlsZFByb3BzID0gXG4gICAgJiBPbWl0PE5hdlByb3BzLFxuICAgICAgICB8IFwibWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkXCJcbiAgICAgICAgfCBcInNlYXJjaEJhclRvZ2dsZWRcIlxuICAgICAgICB8IFwic2VhcmNoQmFySW5wdXRcIlxuICAgICAgICA+XG4gICAgJiB7XG4gICAgbWF0ZXJpYWxzOiBTdGF0ZTxBcnJheTxzdHJpbmc+PixcbiAgICBtYXRlcmlhbEZvY3VzOiBTdGF0ZTxzdHJpbmc+LFxuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+LFxuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPixcbiAgICB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+LFxuICAgIHVzZXJJc1NpZ25lZEluOiBTdGF0ZTxib29sZWFuPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlBhcnRpYWxCdWlsZCh7XG4gICAgbWF0ZXJpYWxzLFxuICAgIG1hdGVyaWFsRm9jdXMsXG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW5cbn06IE5hdlBhcnRpYWxCdWlsZFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgbWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkOiBTdGF0ZTxib29sZWFuPiA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgICBsZXQgc2VhcmNoQmFyVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgbGV0IHNlYXJjaEJhcklucHV0OiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcblxuICAgIHJldHVybiA8PlxuICAgICAgICA8TmF2XG4gICAgICAgICAgICBtYXRlcmlhbHM9e21hdGVyaWFsc31cbiAgICAgICAgICAgIG1hdGVyaWFsRm9jdXM9e21hdGVyaWFsRm9jdXN9XG4gICAgICAgICAgICBtYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWQ9e21hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZH1cbiAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfVxuICAgICAgICAgICAgc2VhcmNoQmFyVG9nZ2xlZD17c2VhcmNoQmFyVG9nZ2xlZH1cbiAgICAgICAgICAgIHNlYXJjaEJhcklucHV0PXtzZWFyY2hCYXJJbnB1dH1cbiAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59Lz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgTmF2U2VhcmNoQmFyUHJvcHMsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIE5hdlNlYXJjaEJhcixcbiAgICB1c2VTdGF0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTZWFyY2hCYXJQYXJ0aWFsQnVpbGRQcm9wcyA9XG4gICAgJiBPbWl0PE5hdlNlYXJjaEJhclByb3BzLCBcbiAgICAgICAgfCBcInByb2R1Y3RzXCJcbiAgICAgICAgfCBcInByb2R1Y3RGb2N1c1wiXG4gICAgICAgIHwgXCJ0b2dnbGVkXCJcbiAgICAgICAgfCBcImlucHV0XCJcbiAgICAgICAgfCBcInN1Z2dlc3Rpb25zXCI+XG4gICAgJiB7XG4gICAgcHJvZHVjdHM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj47XG4gICAgcHJvZHVjdEZvY3VzOiBTdGF0ZTxQcm9kdWN0RGF0YSB8IG51bGw+O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZCh7XG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIC4uLm1vcmVcbn06IE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgbGV0IGlucHV0OiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgICBsZXQgc3VnZ2VzdGlvbnM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj4gPSB1c2VTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+KFtdKTtcblxuICAgIHJldHVybiA8PlxuICAgICAgICA8TmF2U2VhcmNoQmFyXG4gICAgICAgICAgICBwcm9kdWN0cz17cHJvZHVjdHN9XG4gICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgIHRvZ2dsZWQ9e3RvZ2dsZWR9XG4gICAgICAgICAgICBpbnB1dD17aW5wdXR9XG4gICAgICAgICAgICBzdWdnZXN0aW9ucz17c3VnZ2VzdGlvbnN9XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIFNIQURPVyxcbiAgICBTRUFSQ0hfQkFSX0lDT04sXG4gICAgTmF2U3VnZ2VzdGlvbixcbiAgICBTcHJpdGVJY29uLFxuICAgIEZvbnQsXG4gICAgdXNlRWZmZWN0LFxuICAgIHNvcnRcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U2VhcmNoQmFyUHJvcHMgPVxuICAgICYgT21pdDxcbiAgICAgICAgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+LCBcbiAgICAgICAgfCBcImNoaWxkcmVuXCJcbiAgICAgICAgPlxuICAgICYge1xuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+O1xuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPjtcbiAgICB0b2dnbGVkOiBTdGF0ZTxib29sZWFuPjtcbiAgICBpbnB1dDogU3RhdGU8c3RyaW5nPjtcbiAgICBzdWdnZXN0aW9uczogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+Pjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTZWFyY2hCYXIoe1xuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICB0b2dnbGVkLFxuICAgIGlucHV0LFxuICAgIHN1Z2dlc3Rpb25zLFxuICAgIHN0eWxlLFxuICAgIC4uLm1vcmVcbn06IE5hdlNlYXJjaEJhclByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsZXQgaW5wdXRfOiBzdHJpbmcgPSBpbnB1dFswXTtcbiAgICAgICAgaWYgKGlucHV0Xy50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0b2dnbGVkWzFdKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdWdnZXN0aW9uc186IEFycmF5PFByb2R1Y3REYXRhPiA9IHByb2R1Y3RzWzBdO1xuICAgICAgICBzdWdnZXN0aW9uc19cbiAgICAgICAgICAgIC5tYXAocHJvZHVjdCA9PiAoey4uLnByb2R1Y3QsIHNjb3JlOiBzb3J0KGlucHV0XywgcHJvZHVjdC5uYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpIHx8IFwiXCIpfSkpXG4gICAgICAgICAgICAuc29ydCgoeCwgeSkgPT4geC5zY29yZSAtIHkuc2NvcmUpXG4gICAgICAgICAgICAuc2xpY2UoMCwgMTApO1xuICAgICAgICBzdWdnZXN0aW9uc1sxXShzdWdnZXN0aW9uc18pO1xuICAgICAgICB0b2dnbGVkWzFdKHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgfSwgW2lucHV0WzBdXSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IDEwLFxuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIDxTcHJpdGVJY29uXG4gICAgICAgICAgICAgICAgICAgIHVybD17U0VBUkNIX0JBUl9JQ09OfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTVweFwiXG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0WzBdfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBpbnB1dFsxXShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGw6IFwidW5zZXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdXG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3RvZ2dsZWRbMF0gPyA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ3aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7c3VnZ2VzdGlvbnNbMF0ubWFwKHN1Z2dlc3Rpb24gPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZTdWdnZXN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG89XCIvcHJvZHVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZD17c3VnZ2VzdGlvbn0vPlxuICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBBc3luY0Nsb3N1cmUsXG4gICAgdHlwZSBVc2VyRGF0YSxcbiAgICB0eXBlIEZvcm1Qcm9wcyxcbiAgICBGb3JtLFxuICAgIEZvcm1JbnB1dCxcbiAgICBGb3JtQnV0dG9uLFxuICAgIEZvcm1NZXNzYWdlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25JbkZyb21TaWduVXBBY3Rpb24gPSBBc3luY0Nsb3N1cmU8W1xuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuXSwgW1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbFxuXT47XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25JbkZvcm1WYWxpZGF0ZUFjdGlvbiA9IEFzeW5jQ2xvc3VyZTxbXG4gICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nXG5dLCBbXG4gICAgc3VjY2VzczogYm9vbGVhbixcbiAgICBtZXNzYWdlOiBzdHJpbmcgfCBudWxsXG5dPjtcblxuZXhwb3J0IHR5cGUgTmF2U2lnbkluRm9ybVByb3BzID0gXG4gICAgJiBPbWl0PEZvcm1Qcm9wcywgXCJjaGlsZHJlblwiPlxuICAgICYge1xuICAgIHVzZXJuYW1lOiBTdGF0ZTxzdHJpbmc+LFxuICAgIHBhc3N3b3JkOiBTdGF0ZTxzdHJpbmc+LFxuICAgIHJlc3BvbnNlOiBTdGF0ZTxzdHJpbmcgfCBudWxsPixcbiAgICB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+LFxuICAgIHVzZXJJc1NpZ25lZEluOiBTdGF0ZTxib29sZWFuPixcbiAgICBvblZhbGlkYXRpb246IE5hdlNpZ25JbkZvcm1WYWxpZGF0ZUFjdGlvbixcbiAgICBvblNpZ25JbjogTmF2U2lnbkluRnJvbVNpZ25VcEFjdGlvblxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlNpZ25JbkZvcm0oe1xuICAgIHVzZXJuYW1lLFxuICAgIHBhc3N3b3JkLFxuICAgIHJlc3BvbnNlLFxuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW4sXG4gICAgb25WYWxpZGF0aW9uLFxuICAgIG9uU2lnbkluLFxuICAgIC4uLm1vcmVcbn06IE5hdlNpZ25JbkZvcm1Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxGb3JtXG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8Rm9ybU1lc3NhZ2U+XG4gICAgICAgICAgICAgICAge3Jlc3BvbnNlWzBdfVxuICAgICAgICAgICAgPC9Gb3JtTWVzc2FnZT5cbiAgICAgICAgICAgIDxGb3JtSW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17dXNlcm5hbWVbMF19XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJVc2VybmFtZVwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdXNlcm5hbWVbMV0oZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICA8Rm9ybUlucHV0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkWzBdfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHBhc3N3b3JkWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1CdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWNjZXNzOiBib29sZWFuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgW3N1Y2Nlc3MsIG1lc3NhZ2VdID0gKGF3YWl0IG9uVmFsaWRhdGlvbih1c2VybmFtZVswXSwgcGFzc3dvcmRbMF0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsxXShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBbc3VjY2VzcywgbWVzc2FnZV0gPSAoYXdhaXQgb25TaWduSW4odXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIEluXG4gICAgICAgICAgICA8L0Zvcm1CdXR0b24+XG4gICAgICAgIDwvRm9ybT5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBBc3luY0Nsb3N1cmUsXG4gICAgdHlwZSBGb3JtUHJvcHMsXG4gICAgRm9ybSxcbiAgICBGb3JtSW5wdXQsXG4gICAgRm9ybUJ1dHRvbixcbiAgICBGb3JtTWVzc2FnZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduVXBGb3JtU2lnblVwQWN0aW9uID0gQXN5bmNDbG9zdXJlPFtcbiAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgZW1haWw6IHN0cmluZ1xuXSwgW1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbFxuXT47XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25VcEZvcm1WYWxpZGF0ZUFjdGlvbiA9IEFzeW5jQ2xvc3VyZTxbXG4gICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIGVtYWlsOiBzdHJpbmdcbl0sIFtcbiAgICBzdWNjZXNzOiBib29sZWFuLFxuICAgIG1lc3NhZ2U6IHN0cmluZyB8IG51bGxcbl0+O1xuXG5leHBvcnQgdHlwZSBOYXZTaWduVXBGb3JtUHJvcHMgPVxuICAgICYgT21pdDxGb3JtUHJvcHMsIFwiY2hpbGRyZW5cIj5cbiAgICAmIHtcbiAgICB1c2VybmFtZTogU3RhdGU8c3RyaW5nPixcbiAgICBwYXNzd29yZDogU3RhdGU8c3RyaW5nPixcbiAgICBlbWFpbDogU3RhdGU8c3RyaW5nPixcbiAgICByZXNwb25zZTogU3RhdGU8c3RyaW5nIHwgbnVsbD4sXG4gICAgb25WYWxpZGF0aW9uOiBOYXZTaWduVXBGb3JtVmFsaWRhdGVBY3Rpb24sXG4gICAgb25TaWduVXA6IE5hdlNpZ25VcEZvcm1TaWduVXBBY3Rpb25cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduVXBGb3JtKHtcbiAgICB1c2VybmFtZSxcbiAgICBwYXNzd29yZCxcbiAgICBlbWFpbCxcbiAgICByZXNwb25zZSxcbiAgICBvblZhbGlkYXRpb24sXG4gICAgb25TaWduVXAsXG4gICAgLi4ubW9yZVxufTogTmF2U2lnblVwRm9ybVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPEZvcm1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtyZXNwb25zZVswXSA/IDw+XG4gICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlPlxuICAgICAgICAgICAgICAgICAgICB7cmVzcG9uc2VbMF19XG4gICAgICAgICAgICAgICAgPC9Gb3JtTWVzc2FnZT5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIDxGb3JtSW5wdXQgXG4gICAgICAgICAgICAgICAgdmFsdWU9e2VtYWlsWzBdfSBcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsXCIgXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gZW1haWxbMV0oZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICA8Rm9ybUlucHV0IFxuICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VybmFtZVswXX0gXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJVc2VybmFtZVwiIFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHVzZXJuYW1lWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1JbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZFswXX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBwYXNzd29yZFsxXShlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIDxGb3JtQnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3VjY2VzczogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U6IHN0cmluZyB8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIFtzdWNjZXNzLCBtZXNzYWdlXSA9IChhd2FpdCBvblZhbGlkYXRpb24odXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdLCBlbWFpbFswXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFtzdWNjZXNzLCBtZXNzYWdlXSA9IChhd2FpdCBvblNpZ25VcCh1c2VybmFtZVswXSwgcGFzc3dvcmRbMF0sIGVtYWlsWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIFVwXG4gICAgICAgICAgICA8L0Zvcm1CdXR0b24+XG4gICAgICAgIDwvRm9ybT5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBVc2VyRGF0YSxcbiAgICB0eXBlIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUHJvcHMsXG4gICAgTmF2U2lnbmVyRHJvcERvd25CdXR0b24sXG4gICAgTmF2U2lnblVwRm9ybSxcbiAgICBOYXZTaWduSW5Gb3JtLFxuICAgIEJyaWRnZSxcbiAgICB1c2VTdGF0ZSxcbiAgICByZXF1aXJlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUGFydGlhbEJ1aWxkUHJvcHMgPSBcbiAgICAmIE9taXQ8XG4gICAgICAgIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUHJvcHMsXG4gICAgICAgIHwgXCJ0b2dnbGVkXCJcbiAgICAgICAgfCBcInNpZ25VcFRvZ2dsZWRcIlxuICAgICAgICB8IFwic2lnbkluVG9nZ2xlZFwiXG4gICAgICAgIHwgXCJzaWduVXBGb3JtXCJcbiAgICAgICAgfCBcInNpZ25JbkZvcm1cIlxuICAgICAgICA+XG4gICAgJiB7XG4gICAgdXNlcjogU3RhdGU8VXNlckRhdGEgfCBudWxsPixcbiAgICB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZCh7XG4gICAgdXNlcixcbiAgICB1c2VySXNTaWduZWRJbixcbiAgICAuLi5tb3JlXG59OiBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgbGV0IHNpZ25VcFRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGxldCBzaWduSW5Ub2dnbGVkOiBTdGF0ZTxib29sZWFuPiA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBsZXQgdXNlcm5hbWU6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBsZXQgcGFzc3dvcmQ6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBsZXQgZW1haWw6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZShcIlwiKTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgcmVzcG9uc2U6IFN0YXRlPHN0cmluZyB8IG51bGw+ID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPE5hdlNpZ25lckRyb3BEb3duQnV0dG9uXG4gICAgICAgICAgICB0b2dnbGVkPXt0b2dnbGVkfVxuICAgICAgICAgICAgc2lnblVwVG9nZ2xlZD17c2lnblVwVG9nZ2xlZH1cbiAgICAgICAgICAgIHNpZ25JblRvZ2dsZWQ9e3NpZ25JblRvZ2dsZWR9XG4gICAgICAgICAgICBzaWduVXBGb3JtPXs8PlxuICAgICAgICAgICAgICAgIDxOYXZTaWduVXBGb3JtXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lPXt1c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9e3Bhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICBlbWFpbD17ZW1haWx9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlPXtyZXNwb25zZX1cbiAgICAgICAgICAgICAgICAgICAgb25WYWxpZGF0aW9uPXthc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkLCBlbWFpbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHVzZXJuYW1lLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUocGFzc3dvcmQudHJpbSgpLmxlbmd0aCAhPT0gMCwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZShlbWFpbC50cmltKCkubGVuZ3RoICE9PSAwLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGU6IHVua25vd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBTdHJpbmcoZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvblNpZ25VcD17YXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZW1haWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoYXdhaXQgQnJpZGdlLnRvdWNoKFwiL3VzZXJuYW1lX2lzX2F2YWlsYWJsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbCA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvc2lnbl91cFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgZXJyY29kZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgfX0vPlxuICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgc2lnbkluRm9ybT17PD5cbiAgICAgICAgICAgICAgICA8TmF2U2lnbkluRm9ybVxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZT17dXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPXtwYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U9e3Jlc3BvbnNlfVxuICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59XG4gICAgICAgICAgICAgICAgICAgIG9uVmFsaWRhdGlvbj17YXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHVzZXJuYW1lLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUocGFzc3dvcmQudHJpbSgpLmxlbmd0aCAhPT0gMCwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgU3RyaW5nKGUpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25TaWduSW49e2FzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbCA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvc2lnbl9pblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBlcnJjb2RlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIE5hdkJ1dHRvblxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblByb3BzID1cbiAgICAmIE9taXQ8Q29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+LCBcImNoaWxkcmVuXCI+XG4gICAgJiB7XG4gICAgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2lnblVwVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2lnbkluVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2lnblVwRm9ybTogUmVhY3ROb2RlLFxuICAgIHNpZ25JbkZvcm06IFJlYWN0Tm9kZVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uKHtcbiAgICB0b2dnbGVkLFxuICAgIHNpZ25VcFRvZ2dsZWQsXG4gICAgc2lnbkluVG9nZ2xlZCxcbiAgICBzaWduVXBGb3JtLFxuICAgIHNpZ25JbkZvcm0sXG4gICAgc3R5bGUsXG4gICAgLi4ubW9yZVxufTogTmF2U2lnbmVyRHJvcERvd25CdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8TmF2QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVkWzFdKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzaWduSW5Ub2dnbGVkWzFdKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwVG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIFNpZ24gVXBcbiAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbkluVG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbkluVG9nZ2xlZFsxXShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIEluXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgUHJvZHVjdERhdGEsXG4gICAgTGluayxcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlN1Z2dlc3Rpb25Qcm9wcyA9XG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPiwgXCJjaGlsZHJlblwiPlxuICAgICYge1xuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+O1xuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPjtcbiAgICBzdWdnZXN0ZWQ6IFByb2R1Y3REYXRhO1xuICAgIHRvOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2U3VnZ2VzdGlvbih7XG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIHN1Z2dlc3RlZCxcbiAgICB0byxcbiAgICBzdHlsZSxcbiAgICAuLi5tb3JlXG59OiBOYXZTdWdnZXN0aW9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8TGlua1xuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImNvbnRlbnRzXCJcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB0bz17dG99PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzMDogQXJyYXk8UHJvZHVjdERhdGE+ID0gcHJvZHVjdHNbMF07XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0OiBQcm9kdWN0RGF0YSB8IG51bGwgPSBwcm9kdWN0czBcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocHJvZHVjdDAgPT4gcHJvZHVjdDAubmFtZSA9PT0gc3VnZ2VzdGVkPy5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0KDApIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXNbMV0ocHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogOCxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N1Z2dlc3RlZC5uYW1lfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICDCo3tzdWdnZXN0ZWQucHJpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0ZpeGVkKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N1Z2dlc3RlZC5zdG9jay50b0ZpeGVkKDApfSBsZWZ0XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9MaW5rPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgTmF2TG9nbyxcbiAgICBOYXZCdXR0b24sXG4gICAgTmF2QnV0dG9uR3JvdXAsXG4gICAgTmF2Q2FsbFRvQWN0aW9uQnV0dG9uLFxuICAgIE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uLFxuICAgIE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZCxcbiAgICBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZCxcbiAgICBMaW5rXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4sXG4gICAgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPixcbiAgICBtYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+LFxuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPixcbiAgICBzZWFyY2hCYXJUb2dnbGVkOiBTdGF0ZTxib29sZWFuPixcbiAgICBzZWFyY2hCYXJJbnB1dDogU3RhdGU8c3RyaW5nPixcbiAgICB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+LFxuICAgIHVzZXJJc1NpZ25lZEluOiBTdGF0ZTxib29sZWFuPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdih7XG4gICAgbWF0ZXJpYWxzLFxuICAgIG1hdGVyaWFsRm9jdXMsXG4gICAgbWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkLFxuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICBzZWFyY2hCYXJUb2dnbGVkLFxuICAgIHNlYXJjaEJhcklucHV0LFxuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW4sXG4gICAgc3R5bGUsXG4gICAgLi4ubW9yZVxufTogTmF2UHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiAzMCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAzMCxcbiAgICAgICAgICAgICAgICBnYXA6IDQwLFxuICAgICAgICAgICAgICAgIHpJbmRleDogMjAwMCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIDxOYXZMb2dvLz5cbiAgICAgICAgICAgIDxOYXZCdXR0b25Hcm91cD5cbiAgICAgICAgICAgICAgICA8TmF2Q2FsbFRvQWN0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL2Zvcl95b3VcIj5cbiAgICAgICAgICAgICAgICAgICAgRm9yIFlvdVxuICAgICAgICAgICAgICAgIDwvTmF2Q2FsbFRvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbHM9e21hdGVyaWFsc31cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxGb2N1cz17bWF0ZXJpYWxGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlZD17bWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkfS8+XG4gICAgICAgICAgICA8L05hdkJ1dHRvbkdyb3VwPlxuICAgICAgICAgICAgPE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZFxuICAgICAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c30vPlxuICAgICAgICAgICAgPE5hdkJ1dHRvbkdyb3VwPlxuICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL2Jhc2tldFwiPlxuICAgICAgICAgICAgICAgICAgICA8TmF2QnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgQmFza2V0XG4gICAgICAgICAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8TmF2U2lnbmVyRHJvcERvd25CdXR0b25QYXJ0aWFsQnVpbGRcbiAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgICAgICAgICA8L05hdkJ1dHRvbkdyb3VwPlxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgUGFnZVdpdGgzVmVydGljYWxTZWN0aW9uc1Byb3BzLFxuICAgIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnMsXG4gICAgSW1hZ2VDYXJvdXNlbCxcbiAgICBUeXBvZ3JhcGh5LFxuICAgIENvbG9yLFxuICAgIHR5cGUgU3ByaW5nQ29uZmlnXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIEhvbWVQYWdlUHJvcHMgPVxuICAgICYgT21pdDxQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zUHJvcHMsXG4gICAgICAgIHwgXCJzZWN0aW9uc1wiPlxuICAgICYge1xuICAgIGltYWdlQ2Fyb3VzZWxVcmxzOiBBcnJheTxzdHJpbmc+LFxuICAgIGltYWdlQ2Fyb3VzZWxNc0ludGVydmFsU2xlZXA6IG51bWJlcixcbiAgICBpbWFnZUNhcm91c2VsQW5pbWF0aW9uOiBTcHJpbmdDb25maWcsXG4gICAgaGVhZGluZzogc3RyaW5nLFxuICAgIHN1YkhlYWRpbmdzOiBBcnJheTxzdHJpbmc+LFxuXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSG9tZVBhZ2Uoe1xuICAgIGltYWdlQ2Fyb3VzZWxVcmxzLFxuICAgIGltYWdlQ2Fyb3VzZWxNc0ludGVydmFsU2xlZXAsXG4gICAgaW1hZ2VDYXJvdXNlbEFuaW1hdGlvbixcbiAgICBoZWFkaW5nLFxuICAgIHN1YkhlYWRpbmdzLFxuICAgIC4uLm1vcmVcbn06IEhvbWVQYWdlUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8UGFnZVdpdGgzVmVydGljYWxTZWN0aW9uc1xuICAgICAgICAgICAgc2VjdGlvbnM9e1s8PlxuICAgICAgICAgICAgICAgIDxJbWFnZUNhcm91c2VsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogXCIxXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46IFwiMTBweFwiXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIHVybHM9e2ltYWdlQ2Fyb3VzZWxVcmxzfVxuICAgICAgICAgICAgICAgICAgICBtc0ludGVydmFsU2xlZXA9e2ltYWdlQ2Fyb3VzZWxNc0ludGVydmFsU2xlZXB9XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbj17aW1hZ2VDYXJvdXNlbEFuaW1hdGlvbn0+XG4gICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjllbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclswXVxuICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7aGVhZGluZ31cbiAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgIDwvSW1hZ2VDYXJvdXNlbD5cbiAgICAgICAgICAgIDwvPiwgPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7c3ViSGVhZGluZ3MubWFwKHN1YkhlYWRpbmcgPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzdWJIZWFkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+LCA8PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgPC8+XX1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFNwcml0ZVByb3BzLFxuICAgIFNwcml0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBTcHJpdGVJY29uUHJvcHMgPVxuICAgICYgU3ByaXRlUHJvcHNcbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gU3ByaXRlSWNvbih7c3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogU3ByaXRlSWNvblByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFNwcml0ZVxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBhc3BlY3RSYXRpbzogXCIxIC8gMVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L1Nwcml0ZT5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFNwcml0ZVByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIHVybDogc3RyaW5nXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gU3ByaXRlKHt1cmwsIHN0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IFNwcml0ZVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7dXJsfSlgLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiBcImNvbnRhaW5cIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25YOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblk6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFJlcGVhdDogXCJuby1yZXBlYXRcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICBGb250XG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFR5cG9ncmFwaHlQcm9wcyA9IFxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgXG59O1xuIFxuZXhwb3J0IGZ1bmN0aW9uIFR5cG9ncmFwaHkoe1xuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IFR5cG9ncmFwaHlQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBSb290XG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoYXBwOiBSZWFjdE5vZGUpOiB2b2lkIHtcbiAgICBsZXQgZWxlbWVudDogSFRNTEVsZW1lbnQgfCBudWxsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyb290XCIpO1xuICAgIGlmIChlbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IFwiRVJSX01JU1NJTkdfUk9PVF9FTEVNRU5UXCI7XG4gICAgfVxuICAgIFJvb3QoZWxlbWVudCkucmVuZGVyKGFwcCk7XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBQcm9kdWN0RGF0YSxcbiAgICB0eXBlIFVzZXJEYXRhLFxuICAgIEJyb3dzZXJSb3V0ZXIsXG4gICAgUm91dGVzLFxuICAgIFJvdXRlLFxuICAgIHJlbmRlcixcbiAgICBOYXZCdXR0b24sXG4gICAgTmF2Q2FsbFRvQWN0aW9uQnV0dG9uLFxuICAgIE5hdlBhcnRpYWxCdWlsZCxcbiAgICBIb21lUGFnZSxcbiAgICB1c2VTdGF0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5mdW5jdGlvbiBBcHAoKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgbWF0ZXJpYWxzOiBTdGF0ZTxBcnJheTxzdHJpbmc+PiA9IHVzZVN0YXRlPEFycmF5PHN0cmluZz4+KFtdKTtcbiAgICBsZXQgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPiA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gICAgbGV0IHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+ID0gdXNlU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PihbXSk7XG4gICAgbGV0IHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPiA9IHVzZVN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD4obnVsbCk7XG4gICAgbGV0IHVzZXI6IFN0YXRlPFVzZXJEYXRhIHwgbnVsbD4gPSB1c2VTdGF0ZTxVc2VyRGF0YSB8IG51bGw+KG51bGwpO1xuICAgIGxldCB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgICA8Um91dGVzPlxuICAgICAgICAgICAgICAgIDxSb3V0ZVxuICAgICAgICAgICAgICAgICAgICBwYXRoPVwiL1wiXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ9ezw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SG9tZVBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUNhcm91c2VsVXJscz17W119XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VDYXJvdXNlbE1zSW50ZXJ2YWxTbGVlcD17MzAwMDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VDYXJvdXNlbEFuaW1hdGlvbj17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc9XCJPRkZDVVRTXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJIZWFkaW5ncz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJldml2ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSZXVzZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJSLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXZiYXI9ezw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZQYXJ0aWFsQnVpbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFscz17bWF0ZXJpYWxzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxGb2N1cz17bWF0ZXJpYWxGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJc1NpZ25lZEluPXt1c2VySXNTaWduZWRJbn0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb290ZXI9ezw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRPRE9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+fS8+XG4gICAgICAgICAgICAgICAgICAgIDwvPn0vPlxuICAgICAgICAgICAgPC9Sb3V0ZXM+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICA8Lz47XG59XG5cbnJlbmRlcig8QXBwLz4pOyIKICBdLAogICJtYXBwaW5ncyI6ICJ5ZkFXQSxTQUNZLEVBQUcsQ0FDWCxTQUFTLENBQXdCLENBQUMsRUFBWSxFQUFNLENBQ2xELE9BQU8sZUFBZSxFQUFVLFVBQVcsRUFBWSxDQUNyRCxZQUFjLEVBQUcsQ0FDZixRQUFRLEtBQ04sOERBQ0EsRUFBSyxHQUNMLEVBQUssRUFDUCxFQUVKLENBQUMsRUFFSCxTQUFTLENBQWEsQ0FBQyxFQUFlLENBQ3BDLEdBQWEsSUFBVCxhQUE4QyxJQUFwQixTQUM1QixPQUFPLEtBSVQsT0FIQSxFQUNHLElBQXlCLEVBQWMsS0FDeEMsRUFBYyxxQkFDYSxJQUF0QixXQUFzQyxFQUFnQixLQUUvRCxTQUFTLENBQVEsQ0FBQyxFQUFnQixFQUFZLENBQzVDLEdBQ0ksRUFBaUIsRUFBZSxlQUMvQixFQUFlLGFBQWUsRUFBZSxPQUNoRCxhQUNGLElBQUksRUFBYSxFQUFpQixJQUFNLEVBQ3hDLEdBQXdDLEtBQ3JDLFFBQVEsTUFDUCx3UEFDQSxFQUNBLENBQ0YsRUFDQyxHQUF3QyxHQUFjLElBRTNELFNBQVMsQ0FBUyxDQUFDLEVBQU8sRUFBUyxFQUFTLENBQzFDLEtBQUssTUFBUSxFQUNiLEtBQUssUUFBVSxFQUNmLEtBQUssS0FBTyxHQUNaLEtBQUssUUFBVSxHQUFXLEdBRTVCLFNBQVMsQ0FBYyxFQUFHLEVBQzFCLFNBQVMsQ0FBYSxDQUFDLEVBQU8sRUFBUyxFQUFTLENBQzlDLEtBQUssTUFBUSxFQUNiLEtBQUssUUFBVSxFQUNmLEtBQUssS0FBTyxHQUNaLEtBQUssUUFBVSxHQUFXLEdBRTVCLFNBQVMsQ0FBa0IsQ0FBQyxFQUFPLENBQ2pDLE1BQU8sR0FBSyxFQUVkLFNBQVMsQ0FBc0IsQ0FBQyxFQUFPLENBQ3JDLEdBQUksQ0FDRixFQUFtQixDQUFLLEVBQ3hCLElBQUksRUFBMkIsU0FDeEIsR0FBUCxDQUNBLEVBQTJCLEdBRTdCLEdBQUksRUFBMEIsQ0FDNUIsRUFBMkIsUUFDM0IsSUFBSSxFQUF3QixFQUF5QixNQUNqRCxTQUNxQixTQUF0QixZQUNDLE9BQU8sYUFDUCxFQUFNLE9BQU8sY0FDZixFQUFNLFlBQVksTUFDbEIsU0FNRixPQUxBLEVBQXNCLEtBQ3BCLEVBQ0EsMkdBQ0EsQ0FDRixFQUNPLEVBQW1CLENBQUssR0FHbkMsU0FBUyxDQUF3QixDQUFDLEVBQU0sQ0FDdEMsR0FBWSxHQUFSLEtBQWMsT0FBTyxLQUN6QixVQUEwQixJQUF0QixXQUNGLE9BQU8sRUFBSyxXQUFhLEdBQ3JCLEtBQ0EsRUFBSyxhQUFlLEVBQUssTUFBUSxLQUN2QyxVQUF3QixJQUFwQixTQUEwQixPQUFPLEVBQ3JDLE9BQVEsUUFDRCxHQUNILE1BQU8sZ0JBQ0osR0FDSCxNQUFPLGNBQ0osR0FDSCxNQUFPLGdCQUNKLEdBQ0gsTUFBTyxrQkFDSixHQUNILE1BQU8sZ0JBQ0osR0FDSCxNQUFPLGVBRVgsVUFBd0IsSUFBcEIsU0FDRixjQUN1QixFQUFLLE1BQXpCLFVBQ0MsUUFBUSxNQUNOLG1IQUNGLEVBQ0YsRUFBSyxlQUVBLEdBQ0gsT0FBUSxFQUFLLGFBQWUsV0FBYSxpQkFDdEMsR0FDSCxPQUFRLEVBQUssU0FBUyxhQUFlLFdBQWEsaUJBQy9DLEdBQ0gsSUFBSSxFQUFZLEVBQUssT0FLckIsT0FKQSxFQUFPLEVBQUssWUFDWixJQUNJLEVBQU8sRUFBVSxhQUFlLEVBQVUsTUFBUSxHQUNuRCxFQUFjLElBQVAsR0FBYyxjQUFnQixFQUFPLElBQU0sY0FDOUMsT0FDSixHQUNILE9BQ0csRUFBWSxFQUFLLGFBQWUsS0FDeEIsSUFBVCxLQUNJLEVBQ0EsRUFBeUIsRUFBSyxJQUFJLEdBQUssWUFFMUMsR0FDSCxFQUFZLEVBQUssU0FDakIsRUFBTyxFQUFLLE1BQ1osR0FBSSxDQUNGLE9BQU8sRUFBeUIsRUFBSyxDQUFTLENBQUMsUUFDeEMsRUFBUCxHQUVSLE9BQU8sS0FFVCxTQUFTLENBQWtCLENBQUMsRUFBTSxDQUNoQyxjQUEyQixJQUFwQixpQkFDaUIsSUFBdEIsWUFDQSxJQUFTLElBQ1QsSUFBUyxJQUNULElBQVMsSUFDVCxJQUFTLElBQ1QsSUFBUyxJQUNULElBQVMsV0FDWSxJQUFwQixVQUNVLElBQVQsT0FDQyxFQUFLLFdBQWEsSUFDakIsRUFBSyxXQUFhLElBQ2xCLEVBQUssV0FBYSxJQUNsQixFQUFLLFdBQWEsSUFDbEIsRUFBSyxXQUFhLElBQ2xCLEVBQUssV0FBYSxJQUNQLEVBQUssY0FBWCxRQUNQLEdBQ0EsR0FFTixTQUFTLENBQVcsRUFBRyxFQUN2QixTQUFTLENBQVcsRUFBRyxDQUNyQixHQUFVLEtBQU4sRUFBcUIsQ0FDdkIsR0FBVSxRQUFRLElBQ2xCLEdBQVcsUUFBUSxLQUNuQixHQUFXLFFBQVEsS0FDbkIsR0FBWSxRQUFRLE1BQ3BCLEdBQVksUUFBUSxNQUNwQixHQUFxQixRQUFRLGVBQzdCLEdBQWUsUUFBUSxTQUN2QixJQUFJLEVBQVEsQ0FDVixhQUFjLEdBQ2QsV0FBWSxHQUNaLE1BQU8sRUFDUCxTQUFVLEVBQ1osRUFDQSxPQUFPLGlCQUFpQixRQUFTLENBQy9CLEtBQU0sRUFDTixJQUFLLEVBQ0wsS0FBTSxFQUNOLE1BQU8sRUFDUCxNQUFPLEVBQ1AsZUFBZ0IsRUFDaEIsU0FBVSxDQUNaLENBQUMsRUFFSCxLQUVGLFNBQVMsQ0FBWSxFQUFHLENBRXRCLEdBREEsS0FDVSxLQUFOLEVBQXFCLENBQ3ZCLElBQUksRUFBUSxDQUFFLGFBQWMsR0FBSSxXQUFZLEdBQUksU0FBVSxFQUFHLEVBQzdELE9BQU8saUJBQWlCLFFBQVMsQ0FDL0IsSUFBSyxFQUFPLENBQUMsRUFBRyxFQUFPLENBQUUsTUFBTyxFQUFRLENBQUMsRUFDekMsS0FBTSxFQUFPLENBQUMsRUFBRyxFQUFPLENBQUUsTUFBTyxFQUFTLENBQUMsRUFDM0MsS0FBTSxFQUFPLENBQUMsRUFBRyxFQUFPLENBQUUsTUFBTyxFQUFTLENBQUMsRUFDM0MsTUFBTyxFQUFPLENBQUMsRUFBRyxFQUFPLENBQUUsTUFBTyxFQUFVLENBQUMsRUFDN0MsTUFBTyxFQUFPLENBQUMsRUFBRyxFQUFPLENBQUUsTUFBTyxFQUFVLENBQUMsRUFDN0MsZUFBZ0IsRUFBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBbUIsQ0FBQyxFQUMvRCxTQUFVLEVBQU8sQ0FBQyxFQUFHLEVBQU8sQ0FBRSxNQUFPLEVBQWEsQ0FBQyxDQUNyRCxDQUFDLEVBRUgsRUFBSSxJQUNGLFFBQVEsTUFDTiw4RUFDRixFQUVKLFNBQVMsQ0FBNkIsQ0FBQyxFQUFNLENBQzNDLEdBQWUsS0FBTixPQUNQLEdBQUksQ0FDRixNQUFNLE1BQU0sUUFDTCxFQUFQLENBQ0EsSUFBSSxFQUFRLEVBQUUsTUFBTSxLQUFLLEVBQUUsTUFBTSxjQUFjLEVBQy9DLEdBQVUsR0FBUyxFQUFNLElBQU8sR0FDaEMsR0FDRSxHQUFLLEVBQUUsTUFBTSxRQUFRO0FBQUEsT0FBVSxFQUMzQixpQkFDQSxHQUFLLEVBQUUsTUFBTSxRQUFRLEdBQUcsRUFDdEIsZUFDQSxHQUVaLE1BQU87QUFBQSxFQUFPLEdBQVMsRUFBTyxHQUVoQyxTQUFTLENBQTRCLENBQUMsRUFBSSxFQUFXLENBQ25ELElBQUssR0FBTSxHQUFTLE1BQU8sR0FDM0IsSUFBSSxFQUFRLEdBQW9CLElBQUksQ0FBRSxFQUN0QyxHQUFlLElBQU4sT0FBYSxPQUFPLEVBQzdCLEdBQVUsR0FDVixFQUFRLE1BQU0sa0JBQ2QsTUFBTSxrQkFBeUIsT0FDL0IsSUFBSSxFQUFxQixLQUN6QixFQUFxQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEtBQ3pCLEVBQVksRUFDWixHQUFJLENBQ0YsSUFBSSxHQUFpQixDQUNuQixvQ0FBc0MsRUFBRyxDQUN2QyxHQUFJLENBQ0YsR0FBSSxFQUFXLENBQ2IsSUFBSSxXQUFnQixFQUFHLENBQ3JCLE1BQU0sTUFBTSxHQU9kLEdBTEEsT0FBTyxlQUFlLEdBQUssVUFBVyxRQUFTLENBQzdDLFlBQWMsRUFBRyxDQUNmLE1BQU0sTUFBTSxFQUVoQixDQUFDLFNBQ3VCLFVBQXBCLFVBQStCLFFBQVEsVUFBVyxDQUNwRCxHQUFJLENBQ0YsUUFBUSxVQUFVLEdBQU0sQ0FBQyxDQUFDLFFBQ25CLEdBQVAsQ0FDQSxJQUFJLEdBQVUsR0FFaEIsUUFBUSxVQUFVLEVBQUksQ0FBQyxFQUFHLEVBQUksTUFDekIsQ0FDTCxHQUFJLENBQ0YsR0FBSyxLQUFLLFFBQ0gsR0FBUCxDQUNBLEdBQVUsR0FFWixFQUFHLEtBQUssR0FBSyxTQUFTLE9BRW5CLENBQ0wsR0FBSSxDQUNGLE1BQU0sTUFBTSxRQUNMLEdBQVAsQ0FDQSxHQUFVLEdBRVosQ0FBQyxHQUFPLEVBQUcsV0FDYSxHQUFLLFFBQTNCLFlBQ0EsR0FBSyxjQUFlLEVBQUcsRUFBRSxTQUV0QixHQUFQLENBQ0EsR0FBSSxJQUFVLFdBQStCLEdBQU8sUUFBM0IsU0FDdkIsTUFBTyxDQUFDLEdBQU8sTUFBTyxHQUFRLEtBQUssRUFFdkMsTUFBTyxDQUFDLEtBQU0sSUFBSSxFQUV0QixFQUNBLEdBQWUsNEJBQTRCLFlBQ3pDLDhCQUNGLElBQUksR0FBcUIsT0FBTyx5QkFDOUIsR0FBZSw0QkFDZixNQUNGLEVBQ0EsSUFDRSxHQUFtQixjQUNuQixPQUFPLGVBQ0wsR0FBZSw0QkFDZixPQUNBLENBQUUsTUFBTyw2QkFBOEIsQ0FDekMsRUFDRixJQUFJLEdBQ0EsR0FBZSw0QkFBNEIsRUFDN0MsR0FBYyxHQUFzQixHQUNwQyxHQUFlLEdBQXNCLEdBQ3ZDLEdBQUksSUFBZSxHQUFjLENBQy9CLElBQUksR0FBYyxHQUFZLE1BQU07QUFBQSxDQUFJLEVBQ3RDLEdBQWUsR0FBYSxNQUFNO0FBQUEsQ0FBSSxFQUN4QyxJQUNFLEdBQXdCLEdBQXFCLEVBQzdDLEdBQXFCLEdBQVksU0FDaEMsR0FBWSxJQUFvQixTQUMvQiw2QkFDRixHQUdBLEtBQ0YsS0FFRSxHQUF3QixHQUFhLFNBQ3BDLEdBQWEsSUFBdUIsU0FDbkMsNkJBQ0YsR0FHQSxLQUNGLEdBQ0UsS0FBdUIsR0FBWSxRQUNuQyxLQUEwQixHQUFhLE9BRXZDLElBQ0UsR0FBcUIsR0FBWSxPQUFTLEVBQ3hDLEdBQXdCLEdBQWEsT0FBUyxFQUNoRCxHQUFLLElBQ0wsR0FBSyxJQUNMLEdBQVksTUFDVixHQUFhLEtBR2YsS0FDSixLQUVFLEdBQUssSUFBc0IsR0FBSyxHQUNoQyxLQUFzQixLQUV0QixHQUNFLEdBQVksTUFDWixHQUFhLElBQ2IsQ0FDQSxHQUFVLEtBQU4sR0FBa0MsS0FBTixFQUM5QixFQUNFLElBQ0csS0FDRCxLQUNBLEVBQUksSUFDRixHQUFZLE1BQ1YsR0FBYSxJQUNqQixDQUNBLElBQUksR0FDRjtBQUFBLEVBQ0EsR0FBWSxJQUFvQixRQUM5QixXQUNBLE1BQ0YsRUFNRixPQUxBLEVBQUcsYUFDRCxHQUFPLFNBQVMsYUFBYSxJQUM1QixHQUFTLEdBQU8sUUFBUSxjQUFlLEVBQUcsV0FBVyxVQUNsQyxJQUF0QixZQUNFLEdBQW9CLElBQUksRUFBSSxFQUFNLEVBQzdCLFNBRUosR0FBSyxJQUFzQixHQUFLLElBRXpDLGVBR04sQ0FDQSxBQUFDLEdBQVUsR0FDUixFQUFxQixFQUFJLEVBQzFCLEVBQWEsRUFDWixNQUFNLGtCQUFvQixFQU0vQixPQUpBLElBQWUsR0FBYyxFQUFLLEVBQUcsYUFBZSxFQUFHLEtBQU8sSUFDMUQsRUFBOEIsRUFBVyxFQUN6QyxVQUNrQixJQUF0QixZQUE0QixHQUFvQixJQUFJLEVBQUksRUFBVyxFQUM1RCxHQUVULFNBQVMsQ0FBb0MsQ0FBQyxFQUFNLENBQ2xELEdBQVksR0FBUixLQUFjLE1BQU8sR0FDekIsVUFBMEIsSUFBdEIsV0FBNEIsQ0FDOUIsSUFBSSxFQUFZLEVBQUssVUFDckIsT0FBTyxFQUNMLEtBQ0csSUFBYyxFQUFVLGlCQUM3QixFQUVGLFVBQXdCLElBQXBCLFNBQTBCLE9BQU8sRUFBOEIsQ0FBSSxFQUN2RSxPQUFRLFFBQ0QsR0FDSCxPQUFPLEVBQThCLFVBQVUsT0FDNUMsR0FDSCxPQUFPLEVBQThCLGNBQWMsRUFFdkQsVUFBd0IsSUFBcEIsU0FDRixPQUFRLEVBQUssZUFDTixHQUNILE9BQVEsRUFBTyxFQUE2QixFQUFLLE9BQVEsRUFBRSxFQUFJLE9BQzVELEdBQ0gsT0FBTyxFQUFxQyxFQUFLLElBQUksT0FDbEQsR0FDSCxFQUFZLEVBQUssU0FDakIsRUFBTyxFQUFLLE1BQ1osR0FBSSxDQUNGLE9BQU8sRUFBcUMsRUFBSyxDQUFTLENBQUMsUUFDcEQsRUFBUCxHQUVSLE1BQU8sR0FFVCxTQUFTLENBQVEsRUFBRyxDQUNsQixJQUFJLEVBQWEsRUFBcUIsRUFDdEMsT0FBZ0IsSUFBVCxLQUFzQixLQUFPLEVBQVcsU0FBUyxFQUUxRCxTQUFTLENBQVcsQ0FBQyxFQUFRLENBQzNCLEdBQUksR0FBZSxLQUFLLEVBQVEsS0FBSyxFQUFHLENBQ3RDLElBQUksRUFBUyxPQUFPLHlCQUF5QixFQUFRLEtBQUssRUFBRSxJQUM1RCxHQUFJLEdBQVUsRUFBTyxlQUFnQixNQUFPLEdBRTlDLE9BQWtCLEVBQU8sTUFBYixPQUVkLFNBQVMsQ0FBMEIsQ0FBQyxFQUFPLEVBQWEsQ0FDdEQsU0FBUyxDQUFxQixFQUFHLENBQy9CLEtBQ0ksR0FBNkIsR0FDL0IsUUFBUSxNQUNOLDBPQUNBLENBQ0YsR0FFSixFQUFzQixlQUFpQixHQUN2QyxPQUFPLGVBQWUsRUFBTyxNQUFPLENBQ2xDLElBQUssRUFDTCxhQUFjLEVBQ2hCLENBQUMsRUFFSCxTQUFTLENBQXNDLEVBQUcsQ0FDaEQsSUFBSSxFQUFnQixFQUF5QixLQUFLLElBQUksRUFPdEQsT0FOQSxHQUF1QixLQUNuQixHQUF1QixHQUFpQixHQUMxQyxRQUFRLE1BQ04sNklBQ0YsR0FDRixFQUFnQixLQUFLLE1BQU0sSUFDVCxJQUFOLE9BQXNCLEVBQWdCLEtBRXBELFNBQVMsQ0FBWSxDQUFDLEVBQU0sRUFBSyxFQUFNLEVBQVEsR0FBTyxHQUFPLENBNkIzRCxPQTVCQSxFQUFPLEdBQU0sSUFDYixFQUFPLENBQ0wsU0FBVSxHQUNWLEtBQU0sRUFDTixJQUFLLEVBQ0wsTUFBTyxHQUNQLE9BQVEsRUFDVixHQUNxQixJQUFOLE9BQWEsRUFBTyxRQUFuQyxLQUNJLE9BQU8sZUFBZSxFQUFNLE1BQU8sQ0FDakMsV0FBWSxHQUNaLElBQUssQ0FDUCxDQUFDLEVBQ0QsT0FBTyxlQUFlLEVBQU0sTUFBTyxDQUFFLFdBQVksR0FBSSxNQUFPLElBQUssQ0FBQyxFQUN0RSxFQUFLLE9BQVMsQ0FBQyxFQUNmLE9BQU8sZUFBZSxFQUFLLE9BQVEsWUFBYSxDQUM5QyxhQUFjLEdBQ2QsV0FBWSxHQUNaLFNBQVUsR0FDVixNQUFPLENBQ1QsQ0FBQyxFQUNELE9BQU8sZUFBZSxFQUFNLGFBQWMsQ0FDeEMsYUFBYyxHQUNkLFdBQVksR0FDWixTQUFVLEdBQ1YsTUFBTyxJQUNULENBQUMsRUFDRCxPQUFPLFNBQVcsT0FBTyxPQUFPLEVBQUssS0FBSyxFQUFHLE9BQU8sT0FBTyxDQUFJLEdBQ3hELEVBRVQsU0FBUyxFQUFrQixDQUFDLEVBQVksRUFBUSxDQVU5QyxPQVRBLEVBQVMsRUFDUCxFQUFXLEtBQ1gsRUFDSyxPQUNBLE9BQ0wsRUFBVyxPQUNYLEVBQVcsS0FDYixFQUNBLEVBQU8sT0FBTyxVQUFZLEVBQVcsT0FBTyxVQUNyQyxFQUVULFNBQVMsRUFBaUIsQ0FBQyxFQUFNLEVBQVksQ0FDM0MsVUFDc0IsSUFBcEIsVUFDQSxHQUNBLEVBQUssV0FBYSxJQUVsQixHQUFJLEdBQVksQ0FBSSxFQUNsQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxJQUFLLENBQ3BDLElBQUksRUFBUSxFQUFLLEdBQ2pCLEdBQWUsQ0FBSyxHQUFLLEdBQW9CLEVBQU8sQ0FBVSxVQUV6RCxHQUFlLENBQUksRUFDMUIsRUFBSyxTQUFXLEVBQUssT0FBTyxVQUFZLFdBRXRDLEVBQUksRUFBYyxDQUFJLFNBQ0YsSUFBdEIsWUFDRSxJQUFNLEVBQUssVUFDVCxFQUFJLEVBQUUsS0FBSyxDQUFJLEVBQUksSUFBTSxHQUU3QixPQUFTLEVBQU8sRUFBRSxLQUFLLEdBQUcsTUFDeEIsR0FBZSxFQUFLLEtBQUssR0FDdkIsR0FBb0IsRUFBSyxNQUFPLENBQVUsR0FFcEQsU0FBUyxFQUFjLENBQUMsRUFBUSxDQUM5QixjQUNzQixJQUFwQixVQUNTLElBQVQsTUFDQSxFQUFPLFdBQWEsR0FHeEIsU0FBUyxFQUFtQixDQUFDLEVBQVMsRUFBWSxDQUNoRCxHQUNFLEVBQVEsU0FDUCxFQUFRLE9BQU8sV0FDUixFQUFRLEtBQWhCLE9BQ0UsRUFBUSxPQUFPLFVBQVksRUFDNUIsRUFBYSxHQUE2QixDQUFVLEdBQ3BELEdBQXNCLElBQ3ZCLENBQ0EsR0FBc0IsR0FBYyxHQUNwQyxJQUFJLEVBQWEsR0FDakIsR0FDVSxFQUFRLFFBQWhCLE1BQ0EsRUFBUSxTQUFXLEVBQVMsSUFDMUIsRUFBYSxZQUNLLEVBQVEsT0FBTyxNQUFuQyxTQUNLLEVBQWEsRUFBeUIsRUFBUSxPQUFPLElBQUksU0FDdEMsRUFBUSxPQUFPLE9BQW5DLFdBQ0MsRUFBYSxFQUFRLE9BQU8sTUFDaEMsRUFBYSwrQkFBaUMsRUFBYSxLQUM5RCxJQUFJLEVBQXNCLEVBQXFCLGdCQUMvQyxFQUFxQix3QkFBMkIsRUFBRyxDQUNqRCxJQUFJLEdBQVEsRUFBcUMsRUFBUSxJQUFJLEVBRTdELE9BREEsSUFBd0IsSUFBUyxFQUFvQixHQUFLLElBQ25ELElBRVQsUUFBUSxNQUNOLDBIQUNBLEVBQ0EsQ0FDRixFQUNBLEVBQXFCLGdCQUFrQixHQUczQyxTQUFTLEVBQTRCLENBQUMsRUFBWSxDQUNoRCxJQUFJLEVBQU8sR0FDVCxFQUFRLEVBQVMsRUFRbkIsT0FQQSxJQUNHLEVBQVEsRUFBeUIsRUFBTSxJQUFJLEtBQzNDLEVBQU87QUFBQTtBQUFBLCtCQUFxQyxFQUFRLE1BQ3ZELElBQ0ksRUFBYSxFQUF5QixDQUFVLEtBQy9DLEVBQ0M7QUFBQTtBQUFBLHlDQUFnRCxFQUFhLE1BQzVELEVBRVQsU0FBUyxFQUFNLENBQUMsRUFBSyxDQUNuQixJQUFJLEVBQWdCLENBQUUsSUFBSyxLQUFNLElBQUssSUFBSyxFQUMzQyxNQUNFLElBQ0EsRUFBSSxRQUFRLGdCQUFrQixDQUFDLEVBQU8sQ0FDcEMsT0FBTyxFQUFjLEdBQ3RCLEVBR0wsU0FBUyxFQUFhLENBQUMsRUFBUyxFQUFPLENBQ3JDLGNBQTJCLElBQXBCLFVBQ0ksSUFBVCxNQUNRLEVBQVEsS0FBaEIsTUFDRyxFQUF1QixFQUFRLEdBQUcsRUFBRyxHQUFPLEdBQUssRUFBUSxHQUFHLEdBQzdELEVBQU0sU0FBUyxFQUFFLEVBRXZCLFNBQVMsRUFBTSxFQUFHLEVBQ2xCLFNBQVMsRUFBZSxDQUFDLEVBQVUsQ0FDakMsT0FBUSxFQUFTLFlBQ1YsWUFDSCxPQUFPLEVBQVMsVUFDYixXQUNILE1BQU0sRUFBUyxlQUVmLGNBQ3VCLEVBQVMsU0FBN0IsU0FDRyxFQUFTLEtBQUssR0FBUSxFQUFNLEdBQzFCLEVBQVMsT0FBUyxVQUNwQixFQUFTLGFBQ0UsQ0FBQyxFQUFnQixDQUN4QixBQUFjLEVBQVMsU0FBdkIsWUFDSSxFQUFTLE9BQVMsWUFDbkIsRUFBUyxNQUFRLFlBRWIsQ0FBQyxFQUFPLENBQ2YsQUFBYyxFQUFTLFNBQXZCLFlBQ0ksRUFBUyxPQUFTLFdBQ25CLEVBQVMsT0FBUyxHQUV6QixHQUNKLEVBQVMsWUFFSixZQUNILE9BQU8sRUFBUyxVQUNiLFdBQ0gsTUFBTSxFQUFTLFFBR3ZCLE1BQU0sRUFFUixTQUFTLEVBQVksQ0FBQyxFQUFVLEVBQU8sRUFBZSxFQUFXLEdBQVUsQ0FDekUsSUFBSSxVQUFjLEVBQ2xCLEdBQW9CLEtBQWhCLGFBQXNDLEtBQWQsVUFBb0IsRUFBVyxLQUMzRCxJQUFJLEdBQWlCLEdBQ3JCLEdBQWEsSUFBVCxLQUFtQixHQUFpQixPQUV0QyxRQUFRLFFBQ0QsYUFDQSxhQUNBLFNBQ0gsR0FBaUIsR0FDakIsVUFDRyxTQUNILE9BQVEsRUFBUyxlQUNWLFFBQ0EsR0FDSCxHQUFpQixHQUNqQixXQUNHLEdBQ0gsT0FDRyxHQUFpQixFQUFTLE1BQzNCLEdBQ0UsR0FBZSxFQUFTLFFBQVEsRUFDaEMsRUFDQSxFQUNBLEVBQ0EsRUFDRixHQUlaLEdBQUksR0FBZ0IsQ0FDbEIsR0FBaUIsRUFDakIsR0FBVyxHQUFTLEVBQWMsRUFDbEMsSUFBSSxHQUNLLElBQVAsR0FBbUIsSUFBTSxHQUFjLEdBQWdCLENBQUMsRUFBSSxFQW1DOUQsT0FsQ0EsR0FBWSxFQUFRLEdBQ2QsRUFBZ0IsR0FDVixJQUFSLE9BQ0csRUFDQyxHQUFTLFFBQVEsR0FBNEIsS0FBSyxFQUFJLEtBQzFELEdBQWEsR0FBVSxFQUFPLEVBQWUsV0FBYSxDQUFDLEdBQUcsQ0FDNUQsT0FBTyxHQUNSLEdBQ08sSUFBUixPQUNDLEdBQWUsRUFBUSxJQUNiLEdBQVMsS0FBakIsT0FDRyxJQUFrQixHQUFlLE1BQVEsR0FBUyxLQUNsRCxFQUF1QixHQUFTLEdBQUcsR0FDdEMsRUFBZ0IsR0FDZixHQUNBLEdBQ1csR0FBUyxLQUFqQixNQUNBLElBQWtCLEdBQWUsTUFBUSxHQUFTLElBQy9DLElBQ0MsR0FBSyxHQUFTLEtBQUssUUFDbEIsR0FDQSxLQUNGLEVBQUksS0FDUixFQUNKLEVBQ08sSUFBUCxJQUNVLElBQVIsTUFDQSxHQUFlLEVBQWMsR0FDckIsR0FBZSxLQUF2QixNQUNBLEdBQWUsU0FDZCxHQUFlLE9BQU8sWUFDdEIsRUFBYyxPQUFPLFVBQVksR0FDbkMsR0FBVyxHQUNkLEVBQU0sS0FBSyxFQUFRLEdBQ2hCLEVBSVQsR0FGQSxHQUFpQixFQUNqQixHQUFrQixJQUFQLEdBQW1CLElBQU0sRUFBWSxJQUM1QyxHQUFZLENBQVEsRUFDdEIsUUFBUyxHQUFJLEVBQUcsR0FBSSxFQUFTLE9BQVEsS0FDbkMsQUFBQyxFQUFZLEVBQVMsSUFDbkIsR0FBTyxHQUFXLEdBQWMsRUFBVyxFQUFDLEVBQzVDLElBQWtCLEdBQ2pCLEVBQ0EsRUFDQSxFQUNBLEdBQ0EsRUFDRixVQUNLLEdBQUksRUFBYyxDQUFRLFNBQTBCLEtBQXRCLFdBQ3ZDLElBQ0UsS0FBTSxFQUFTLFVBQ1osSUFDQyxRQUFRLEtBQ04sdUZBQ0YsRUFDRCxHQUFtQixJQUNwQixFQUFXLEdBQUUsS0FBSyxDQUFRLEVBQzFCLEdBQUksSUFDSixFQUFZLEVBQVMsS0FBSyxHQUFHLE1BRy9CLEFBQUMsRUFBWSxFQUFVLE1BQ3BCLEdBQU8sR0FBVyxHQUFjLEVBQVcsSUFBRyxFQUM5QyxJQUFrQixHQUNqQixFQUNBLEVBQ0EsRUFDQSxHQUNBLEVBQ0YsVUFDZ0IsS0FBYixTQUFtQixDQUMxQixVQUEwQixFQUFTLE9BQS9CLFdBQ0YsT0FBTyxHQUNMLEdBQWdCLENBQVEsRUFDeEIsRUFDQSxFQUNBLEVBQ0EsRUFDRixFQUVGLE1BREEsRUFBUSxPQUFPLENBQVEsRUFDakIsTUFDSixtREFDeUIsSUFBdEIsa0JBQ0cscUJBQXVCLE9BQU8sS0FBSyxDQUFRLEVBQUUsS0FBSyxJQUFJLEVBQUksSUFDMUQsR0FDSiwyRUFDSixFQUVGLE9BQU8sR0FFVCxTQUFTLENBQVcsQ0FBQyxFQUFVLEVBQU0sRUFBUyxDQUM1QyxHQUFZLEdBQVIsS0FBa0IsT0FBTyxFQUM3QixJQUFJLEVBQVMsQ0FBQyxFQUNaLEdBQVEsRUFJVixPQUhBLEdBQWEsRUFBVSxFQUFRLEdBQUksV0FBYSxDQUFDLEdBQU8sQ0FDdEQsT0FBTyxFQUFLLEtBQUssRUFBUyxHQUFPLElBQU8sRUFDekMsRUFDTSxFQUVULFNBQVMsRUFBZSxDQUFDLEVBQVMsQ0FDaEMsR0FBVyxFQUFRLFVBQWYsR0FBd0IsQ0FDMUIsSUFBSSxFQUFPLEVBQVEsUUFDbkIsRUFBTyxFQUFLLEVBQ1osRUFBSyxhQUNNLENBQUMsRUFBYyxDQUN0QixHQUFVLEVBQVEsVUFBZCxHQUFnQyxFQUFRLFVBQWYsR0FDM0IsQUFBQyxFQUFRLFFBQVUsRUFBSyxFQUFRLFFBQVUsV0FFckMsQ0FBQyxFQUFPLENBQ2YsR0FBVSxFQUFRLFVBQWQsR0FBZ0MsRUFBUSxVQUFmLEdBQzNCLEFBQUMsRUFBUSxRQUFVLEVBQUssRUFBUSxRQUFVLEVBRWhELEVBQ08sRUFBUSxVQUFmLEtBQ0ksRUFBUSxRQUFVLEVBQUssRUFBUSxRQUFVLEdBRS9DLEdBQVUsRUFBUSxVQUFkLEVBQ0YsT0FDRyxFQUFPLEVBQVEsUUFDTCxJQUFOLFFBQ0gsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSwwREFDQSxDQUNGLEVBQ0YsWUFBYSxHQUNYLFFBQVEsTUFDTjtBQUFBO0FBQUE7QUFBQSwyREFDQSxDQUNGLEVBQ0YsRUFBSyxRQUVULE1BQU0sRUFBUSxRQUVoQixTQUFTLEVBQWlCLEVBQUcsQ0FDM0IsSUFBSSxFQUFhLEVBQXFCLEVBS3RDLE9BSlMsSUFBVCxNQUNFLFFBQVEsTUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBLCtGQUNGLEVBQ0ssRUFFVCxTQUFTLEVBQUksRUFBRyxFQUNoQixTQUFTLEVBQVcsQ0FBQyxFQUFNLENBQ3pCLEdBQWEsS0FBVCxLQUNGLEdBQUksQ0FDRixJQUFJLEdBQWlCLFVBQVksS0FBSyxPQUFPLEdBQUcsTUFBTSxFQUFHLENBQUMsRUFDMUQsSUFBbUIsSUFBVSxHQUFPLElBQWdCLEtBQ2xELEdBQ0EsUUFDRixFQUFFLG1CQUNLLEVBQVAsQ0FDQSxXQUEyQixDQUFDLEVBQVUsQ0FDcEMsQUFBTyxLQUFQLEtBQ0ksR0FBNkIsVUFDUixpQkFBdkIsYUFDRSxRQUFRLE1BQ04sME5BQ0YsR0FDSixJQUFJLEdBQVUsSUFBSSxlQUNsQixHQUFRLE1BQU0sVUFBWSxFQUMxQixHQUFRLE1BQU0sWUFBaUIsTUFBQyxHQUd0QyxPQUFPLEdBQWdCLENBQUksRUFFN0IsU0FBUyxFQUFlLENBQUMsRUFBUSxDQUMvQixNQUFPLEdBQUksRUFBTyxlQUFnQyxpQkFBdEIsV0FDeEIsSUFBSSxlQUFlLENBQU0sRUFDekIsRUFBTyxHQUViLFNBQVMsRUFBVyxDQUFDLEVBQWMsRUFBbUIsQ0FDcEQsSUFBc0IsR0FBZ0IsR0FDcEMsUUFBUSxNQUNOLGtJQUNGLEVBQ0YsR0FBZ0IsRUFFbEIsU0FBUyxFQUE0QixDQUFDLEVBQWEsRUFBUyxFQUFRLENBQ2xFLElBQUksRUFBUSxFQUFxQixTQUNqQyxHQUFhLElBQVQsS0FDRixHQUFVLEVBQU0sU0FBWixFQUNGLEdBQUksQ0FDRixHQUFjLENBQUssRUFDbkIsV0FBcUIsRUFBRyxDQUN0QixPQUFPLEdBQTZCLEVBQWEsRUFBUyxDQUFNLEVBQ2pFLEVBQ0QsYUFDTyxHQUFQLENBQ0EsRUFBcUIsYUFBYSxLQUFLLEVBQUssTUFFM0MsR0FBcUIsU0FBVyxLQUN2QyxFQUFJLEVBQXFCLGFBQWEsUUFDaEMsRUFBUSxHQUFnQixFQUFxQixZQUFZLEVBQzFELEVBQXFCLGFBQWEsT0FBUyxFQUM1QyxFQUFPLENBQUssR0FDWixFQUFRLENBQVcsRUFFekIsU0FBUyxFQUFhLENBQUMsRUFBTyxDQUM1QixJQUFLLEdBQVksQ0FDZixHQUFhLEdBQ2IsSUFBSSxFQUFJLEVBQ1IsR0FBSSxDQUNGLEtBQU8sRUFBSSxFQUFNLE9BQVEsSUFBSyxDQUM1QixJQUFJLEVBQVcsRUFBTSxHQUNyQixFQUFHLENBQ0QsRUFBcUIsY0FBZ0IsR0FDckMsSUFBSSxFQUFlLEVBQVMsRUFBRSxFQUM5QixHQUFhLElBQVQsS0FBdUIsQ0FDekIsR0FBSSxFQUFxQixjQUFlLENBQ3RDLEVBQU0sR0FBSyxFQUNYLEVBQU0sT0FBTyxFQUFHLENBQUMsRUFDakIsT0FFRixFQUFXLE1BQ04sYUFDQSxHQUVYLEVBQU0sT0FBUyxRQUNSLEdBQVAsQ0FDQSxFQUFNLE9BQU8sRUFBRyxFQUFJLENBQUMsRUFBRyxFQUFxQixhQUFhLEtBQUssRUFBSyxTQUNwRSxDQUNBLEdBQWEsS0FJbkIsT0FBdUIsaUNBQXZCLG9CQUVXLCtCQUErQiw4QkFEeEMsWUFFQSwrQkFBK0IsNEJBQTRCLE1BQU0sQ0FBQyxFQUNwRSxJQUFJLEdBQXFCLE9BQU8sSUFBSSw0QkFBNEIsRUFDOUQsR0FBb0IsT0FBTyxJQUFJLGNBQWMsRUFDN0MsR0FBc0IsT0FBTyxJQUFJLGdCQUFnQixFQUNqRCxHQUF5QixPQUFPLElBQUksbUJBQW1CLEVBQ3ZELEdBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsRUFDbkQsT0FBTyxJQUFJLGdCQUFnQixFQUMzQixJQUFJLEdBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsRUFDbkQsR0FBcUIsT0FBTyxJQUFJLGVBQWUsRUFDL0MsR0FBeUIsT0FBTyxJQUFJLG1CQUFtQixFQUN2RCxHQUFzQixPQUFPLElBQUksZ0JBQWdCLEVBQ2pELEdBQTJCLE9BQU8sSUFBSSxxQkFBcUIsRUFDM0QsR0FBa0IsT0FBTyxJQUFJLFlBQVksRUFDekMsR0FBa0IsT0FBTyxJQUFJLFlBQVksRUFDekMsR0FBdUIsT0FBTyxJQUFJLGlCQUFpQixFQUNuRCxHQUF3QixPQUFPLFNBQy9CLEdBQTBDLENBQUMsRUFDM0MsR0FBdUIsQ0FDckIsa0JBQW9CLEVBQUcsQ0FDckIsTUFBTyxJQUVULDJCQUE2QixDQUFDLEVBQWdCLENBQzVDLEVBQVMsRUFBZ0IsYUFBYSxHQUV4Qyw0QkFBOEIsQ0FBQyxFQUFnQixDQUM3QyxFQUFTLEVBQWdCLGNBQWMsR0FFekMsd0JBQTBCLENBQUMsRUFBZ0IsQ0FDekMsRUFBUyxFQUFnQixVQUFVLEVBRXZDLEVBQ0EsRUFBUyxPQUFPLE9BQ2hCLEdBQWMsQ0FBQyxFQUNqQixPQUFPLE9BQU8sRUFBVyxFQUN6QixFQUFVLFVBQVUsaUJBQW1CLENBQUMsRUFDeEMsRUFBVSxVQUFVLGlCQUFvQixDQUFDLEVBQWMsRUFBVSxDQUMvRCxVQUNzQixJQUFwQixpQkFDc0IsSUFBdEIsWUFDUSxHQUFSLEtBRUEsTUFBTSxNQUNKLHdHQUNGLEVBQ0YsS0FBSyxRQUFRLGdCQUFnQixLQUFNLEVBQWMsRUFBVSxVQUFVLEdBRXZFLEVBQVUsVUFBVSxvQkFBdUIsQ0FBQyxFQUFVLENBQ3BELEtBQUssUUFBUSxtQkFBbUIsS0FBTSxFQUFVLGFBQWEsR0FFL0QsSUFBSSxHQUFpQixDQUNqQixVQUFXLENBQ1QsWUFDQSxvSEFDRixFQUNBLGFBQWMsQ0FDWixlQUNBLGlHQUNGLENBQ0YsRUFDQSxHQUNGLElBQUssTUFBVSxHQUNiLEdBQWUsZUFBZSxFQUFNLEdBQ2xDLEVBQXlCLEdBQVEsR0FBZSxHQUFPLEVBQzNELEVBQWUsVUFBWSxFQUFVLFVBQ3JDLEdBQWlCLEVBQWMsVUFBWSxJQUFJLEVBQy9DLEdBQWUsWUFBYyxFQUM3QixFQUFPLEdBQWdCLEVBQVUsU0FBUyxFQUMxQyxHQUFlLHFCQUF1QixHQUN0QyxJQUFJLEdBQWMsTUFBTSxRQUN0QixHQUEyQixPQUFPLElBQUksd0JBQXdCLEVBQzlELEVBQXVCLENBQ3JCLEVBQUcsS0FDSCxFQUFHLEtBQ0gsRUFBRyxLQUNILEVBQUcsS0FDSCxTQUFVLEtBQ1YsaUJBQWtCLEdBQ2xCLHdCQUF5QixHQUN6QixjQUFlLEdBQ2YsYUFBYyxDQUFDLEVBQ2YsZ0JBQWlCLElBQ25CLEVBQ0EsR0FBaUIsT0FBTyxVQUFVLGVBQ2xDLEdBQTJCLE9BQU8sSUFBSSx3QkFBd0IsRUFDOUQsR0FBZ0IsRUFDaEIsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDRixFQUFZLG1CQUFxQixHQUNqQyxJQUFJLEdBQ0YsR0FDQSxHQUFVLEdBQ1IsR0FBc0IsV0FDRixVQUF0QixXQUFnQyxRQUFVLEtBRXhDLEdBQXlCLE9BQU8sSUFBSSx3QkFBd0IsRUFDOUQsR0FDQSxHQUNFLEdBQXlCLENBQUMsRUFDMUIsR0FBd0IsQ0FBQyxFQUMzQixHQUFtQixHQUNuQixHQUE2QixPQUM3QixVQUN3QixjQUF0QixXQUNJLG9CQUNTLENBQUMsRUFBTyxDQUNmLFVBQ3NCLFNBQXBCLGlCQUNzQixPQUFPLGFBQTdCLFdBQ0EsQ0FDQSxJQUFJLEVBQVEsSUFBSSxPQUFPLFdBQVcsUUFBUyxDQUN6QyxRQUFTLEdBQ1QsV0FBWSxHQUNaLGVBQ3NCLElBQXBCLFVBQ1MsSUFBVCxhQUNvQixFQUFNLFVBQTFCLFNBQ0ksT0FBTyxFQUFNLE9BQU8sRUFDcEIsT0FBTyxDQUFLLEVBQ2xCLE1BQU8sQ0FDVCxDQUFDLEVBQ0QsSUFBSyxPQUFPLGNBQWMsQ0FBSyxFQUFHLHNCQUVkLFVBQXBCLGlCQUNzQixRQUFRLE9BQTlCLFdBQ0EsQ0FDQSxRQUFRLEtBQUssb0JBQXFCLENBQUssRUFDdkMsT0FFRixRQUFRLE1BQU0sQ0FBSyxHQUUzQixHQUE2QixHQUM3QixHQUFrQixLQUNsQixHQUFnQixFQUNoQixHQUFvQixHQUNwQixHQUFhLEdBQ2IsVUFDd0IsaUJBQXRCLG1CQUNhLENBQUMsRUFBVSxDQUNsQix1QkFBd0IsRUFBRyxDQUN6QixPQUFPLGVBQWUsQ0FBUSxFQUMvQixHQUVILEdBQ1IsQUFBUSxZQUFXLENBQ2pCLElBQUssRUFDTCxnQkFBa0IsQ0FBQyxFQUFVLEVBQWEsRUFBZ0IsQ0FDeEQsRUFDRSxVQUNTLEVBQUcsQ0FDVixFQUFZLE1BQU0sS0FBTSxTQUFTLEdBRW5DLENBQ0YsR0FFRixjQUFnQixDQUFDLEVBQVUsQ0FDekIsSUFBSSxFQUFJLEVBSVIsT0FIQSxFQUFZLFVBQW1CLEVBQUcsQ0FDaEMsSUFDRCxFQUNNLEdBRVQsZ0JBQWtCLENBQUMsRUFBVSxDQUMzQixPQUNFLEVBQVksVUFBbUIsQ0FBQyxFQUFPLENBQ3JDLE9BQU8sRUFDUixHQUFLLENBQUMsR0FHWCxhQUFlLENBQUMsRUFBVSxDQUN4QixJQUFLLEdBQWUsQ0FBUSxFQUMxQixNQUFNLE1BQ0osdUVBQ0YsRUFDRixPQUFPLEVBRVgsRUFDUSxhQUFZLEVBQ1osWUFBVyxHQUNYLFlBQVcsR0FDWCxpQkFBZ0IsRUFDaEIsY0FBYSxHQUNiLFlBQVcsR0FDWCxtRUFDTixFQUNNLGVBQWUsQ0FBQyxFQUFVLENBQ2hDLElBQUksRUFBZSxFQUFxQixTQUN0QyxFQUFvQixHQUN0QixLQUNBLElBQUksRUFBUyxFQUFxQixTQUNyQixJQUFULEtBQXdCLEVBQWUsQ0FBQyxFQUMxQyxHQUFrQixHQUNwQixHQUFJLENBQ0YsSUFBSSxHQUFTLEVBQVMsUUFDZixHQUFQLENBQ0EsRUFBcUIsYUFBYSxLQUFLLEVBQUssRUFFOUMsR0FBSSxFQUFJLEVBQXFCLGFBQWEsT0FDeEMsTUFDRyxHQUFZLEVBQWMsQ0FBaUIsRUFDM0MsRUFBVyxHQUFnQixFQUFxQixZQUFZLEVBQzVELEVBQXFCLGFBQWEsT0FBUyxFQUM1QyxFQUVKLEdBQ1csS0FBVCxhQUNvQixLQUFwQixpQkFDc0IsR0FBTyxPQUE3QixXQUNBLENBQ0EsSUFBSSxHQUFXLEdBU2YsT0FSQSxXQUFnQyxFQUFHLENBQ2pDLElBQ0UsS0FDRSxHQUFvQixHQUN0QixRQUFRLE1BQ04sbU1BQ0YsR0FDSCxFQUNNLENBQ0wsYUFBZSxDQUFDLEdBQVMsR0FBUSxDQUMvQixHQUFrQixHQUNsQixHQUFTLGFBQ0UsQ0FBQyxHQUFhLENBRXJCLEdBREEsR0FBWSxFQUFjLENBQWlCLEVBQ2pDLElBQU4sRUFBeUIsQ0FDM0IsR0FBSSxDQUNGLEdBQWMsQ0FBSyxFQUNqQixXQUFxQixFQUFHLENBQ3RCLE9BQU8sR0FDTCxHQUNBLEdBQ0EsRUFDRixFQUNELFFBQ0ksR0FBUCxDQUNBLEVBQXFCLGFBQWEsS0FBSyxFQUFPLEVBRWhELEdBQUksRUFBSSxFQUFxQixhQUFhLE9BQVEsQ0FDaEQsSUFBSSxHQUFlLEdBQ2pCLEVBQXFCLFlBQ3ZCLEVBQ0EsRUFBcUIsYUFBYSxPQUFTLEVBQzNDLEdBQU8sRUFBWSxPQUVoQixJQUFRLEVBQVcsV0FFbkIsQ0FBQyxHQUFPLENBQ2YsR0FBWSxFQUFjLENBQWlCLEVBQzNDLEVBQUksRUFBcUIsYUFBYSxRQUNoQyxHQUFRLEdBQ1IsRUFBcUIsWUFDdkIsRUFDQyxFQUFxQixhQUFhLE9BQVMsRUFDNUMsR0FBTyxFQUFLLEdBQ1osR0FBTyxFQUFLLEVBRXBCLEVBRUosRUFFRixJQUFJLEdBQXVCLEdBYzNCLEdBYkEsR0FBWSxFQUFjLENBQWlCLEVBQ3JDLElBQU4sSUFDRyxHQUFjLENBQUssRUFDZCxFQUFNLFNBQVosR0FDRSxXQUFnQyxFQUFHLENBQ2pDLElBQ0UsS0FDRSxHQUFvQixHQUN0QixRQUFRLE1BQ04scU1BQ0YsR0FDSCxFQUNGLEVBQXFCLFNBQVcsTUFDL0IsRUFBSSxFQUFxQixhQUFhLE9BQ3hDLE1BQ0ksRUFBVyxHQUFnQixFQUFxQixZQUFZLEVBQzdELEVBQXFCLGFBQWEsT0FBUyxFQUM1QyxFQUVKLE1BQU8sQ0FDTCxhQUFlLENBQUMsR0FBUyxHQUFRLENBQy9CLEdBQWtCLEdBQ1osSUFBTixHQUNNLEVBQXFCLFNBQVcsRUFDbEMsV0FBcUIsRUFBRyxDQUN0QixPQUFPLEdBQ0wsR0FDQSxHQUNBLEVBQ0YsRUFDRCxHQUNELEdBQVEsRUFBb0IsRUFFcEMsR0FFTSxpQkFBaUIsQ0FBQyxFQUFJLENBQzVCLGVBQWdCLEVBQUcsQ0FDakIsT0FBTyxFQUFHLE1BQU0sS0FBTSxTQUFTLElBRzNCLHdCQUF3QixDQUFDLEVBQVMsRUFBUSxFQUFVLENBQzFELEdBQWEsSUFBVCxNQUErQixJQUFOLE9BQzNCLE1BQU0sTUFDSix3REFDRSxFQUNBLEdBQ0osRUFDRixJQUFJLEVBQVEsRUFBTyxDQUFDLEVBQUcsRUFBUSxLQUFLLEVBQ2xDLEdBQU0sRUFBUSxJQUNkLEdBQVEsRUFBUSxPQUNsQixHQUFZLEdBQVIsS0FBZ0IsQ0FDbEIsSUFBSSxHQUNKLEVBQUcsQ0FDRCxHQUNFLEdBQWUsS0FBSyxFQUFRLEtBQUssSUFDaEMsR0FBMkIsT0FBTyx5QkFDakMsRUFDQSxLQUNGLEVBQUUsTUFDRixHQUF5QixlQUN6QixDQUNBLEdBQTJCLEdBQzNCLFFBRUYsR0FBc0MsRUFBTyxNQUFiLE9BRWxDLEtBQTZCLEdBQVEsRUFBUyxHQUM5QyxFQUFZLENBQU0sSUFDZixFQUF1QixFQUFPLEdBQUcsRUFBSSxHQUFNLEdBQUssRUFBTyxLQUMxRCxJQUFLLE1BQVksRUFDZixDQUFDLEdBQWUsS0FBSyxFQUFRLEVBQVEsR0FDekIsS0FBVixPQUNhLEtBQWIsVUFDZSxLQUFmLFlBQ1csS0FBVixPQUFpQyxFQUFPLE1BQWIsU0FDM0IsRUFBTSxJQUFZLEVBQU8sS0FFaEMsSUFBSSxHQUFXLFVBQVUsT0FBUyxFQUNsQyxHQUFVLEtBQU4sRUFBZ0IsRUFBTSxTQUFXLFVBQzVCLEVBQUksR0FBVSxDQUNyQixHQUEyQixNQUFNLEVBQVEsRUFDekMsUUFBUyxHQUFJLEVBQUcsR0FBSSxHQUFVLEtBQzVCLEdBQXlCLElBQUssVUFBVSxHQUFJLEdBQzlDLEVBQU0sU0FBVyxHQUVuQixFQUFRLEVBQWEsRUFBUSxLQUFNLEdBQVUsT0FBUSxPQUFHLEdBQU8sQ0FBSyxFQUNwRSxJQUFLLEdBQU0sRUFBRyxHQUFNLFVBQVUsT0FBUSxLQUNwQyxHQUFrQixVQUFVLElBQU0sRUFBTSxJQUFJLEVBQzlDLE9BQU8sR0FFRCx5QkFBeUIsQ0FBQyxFQUFjLENBZ0I5QyxPQWZBLEVBQWUsQ0FDYixTQUFVLEdBQ1YsY0FBZSxFQUNmLGVBQWdCLEVBQ2hCLGFBQWMsRUFDZCxTQUFVLEtBQ1YsU0FBVSxJQUNaLEVBQ0EsRUFBYSxTQUFXLEVBQ3hCLEVBQWEsU0FBVyxDQUN0QixTQUFVLEdBQ1YsU0FBVSxDQUNaLEVBQ0EsRUFBYSxpQkFBbUIsS0FDaEMsRUFBYSxrQkFBb0IsS0FDMUIsR0FFRCx5QkFBeUIsQ0FBQyxFQUFNLEVBQVEsRUFBVSxDQUN4RCxHQUFJLEVBQW1CLENBQUksRUFDekIsUUFBUyxFQUFJLEVBQUcsRUFBSSxVQUFVLE9BQVEsSUFDcEMsR0FBa0IsVUFBVSxHQUFJLENBQUksTUFDbkMsQ0FFSCxHQURBLEVBQUksR0FFUyxJQUFOLGVBQ2dCLElBQXBCLFVBQ1UsSUFBVCxNQUNNLE9BQU8sS0FBSyxDQUFJLEVBQUUsU0FBeEIsRUFFRixHQUNFLG1JQUNKLEdBQWEsSUFBVCxLQUFlLElBQUksR0FBYSxXQUVsQyxJQUFZLENBQUksRUFDWCxHQUFhLFFBQ0gsSUFBTixRQUFjLEVBQUssV0FBYSxJQUNqQyxHQUNBLEtBQ0MsRUFBeUIsRUFBSyxJQUFJLEdBQUssV0FDeEMsTUFDRCxFQUNDLHNFQUNELFVBQW9CLEVBQzdCLFFBQVEsTUFDTixvSkFDQSxHQUNBLENBQ0YsRUFFRixJQUFJLEdBR0osR0FGQSxFQUFJLENBQUMsRUFDTCxHQUFhLEtBQ0QsR0FBUixLQUNGLElBQUssTUFBYSxNQUNkLFdBQVksSUFDZCxRQUFTLElBQ1AsR0FBNEIsR0FDOUIsUUFBUSxLQUNOLCtLQUNGLEdBQ0YsRUFBWSxDQUFNLElBQ2YsRUFBdUIsRUFBTyxHQUFHLEVBQUksR0FBYSxHQUFLLEVBQU8sS0FDakUsRUFDRSxHQUFlLEtBQUssRUFBUSxFQUFRLEdBQ3hCLEtBQVYsT0FDYSxLQUFiLFVBQ2UsS0FBZixhQUNDLEVBQUUsSUFBWSxFQUFPLEtBQzVCLElBQUksR0FBaUIsVUFBVSxPQUFTLEVBQ3hDLEdBQVUsS0FBTixFQUFzQixFQUFFLFNBQVcsVUFDOUIsRUFBSSxHQUFnQixDQUMzQixRQUNNLEdBQWEsTUFBTSxFQUFjLEVBQUcsR0FBSyxFQUM3QyxHQUFLLEdBQ0wsS0FFQSxHQUFXLElBQU0sVUFBVSxHQUFLLEdBQ2xDLE9BQU8sUUFBVSxPQUFPLE9BQU8sRUFBVSxFQUN6QyxFQUFFLFNBQVcsR0FFZixHQUFJLEdBQVEsRUFBSyxhQUNmLElBQUssTUFBYyxHQUFpQixFQUFLLGFBQWUsR0FDdEQsQUFBVyxFQUFFLE1BQVIsU0FBc0IsRUFBRSxJQUFZLEdBQWUsS0FRNUQsT0FQQSxJQUNFLEVBQ0UsU0FDc0IsSUFBdEIsV0FDSSxFQUFLLGFBQWUsRUFBSyxNQUFRLFVBQ2pDLENBQ04sRUFDSyxFQUFhLEVBQU0sR0FBaUIsT0FBUSxPQUFHLEVBQVMsRUFBRyxDQUFDLEdBRTdELHFCQUFxQixFQUFHLENBQzlCLElBQUksRUFBWSxDQUFFLFFBQVMsSUFBSyxFQUVoQyxPQURBLE9BQU8sS0FBSyxDQUFTLEVBQ2QsR0FFRCxzQkFBc0IsQ0FBQyxFQUFRLENBQ3JDLEFBQVEsR0FBUixNQUFrQixFQUFPLFdBQWEsR0FDbEMsUUFBUSxNQUNOLHFJQUNGLFNBQ3NCLElBQXRCLFdBQ0UsUUFBUSxNQUNOLDBEQUNTLElBQVQsS0FBa0IsY0FBZ0IsQ0FDcEMsRUFDTSxFQUFPLFNBQWIsR0FDTSxFQUFPLFNBQWIsR0FDQSxRQUFRLE1BQ04sK0VBQ00sRUFBTyxTQUFiLEVBQ0ksMkNBQ0EsNkNBQ04sRUFDRSxHQUFSLE1BQ1UsRUFBTyxjQUFmLE1BQ0EsUUFBUSxNQUNOLHVHQUNGLEVBQ0YsSUFBSSxFQUFjLENBQUUsU0FBVSxHQUF3QixPQUFRLENBQU8sRUFDbkUsRUFlRixPQWRBLE9BQU8sZUFBZSxFQUFhLGNBQWUsQ0FDaEQsV0FBWSxHQUNaLGFBQWMsR0FDZCxZQUFjLEVBQUcsQ0FDZixPQUFPLEdBRVQsWUFBYyxDQUFDLEVBQU0sQ0FDbkIsRUFBVSxFQUNWLEVBQU8sTUFDTCxFQUFPLGNBQ04sT0FBTyxlQUFlLEVBQVEsT0FBUSxDQUFFLE1BQU8sQ0FBSyxDQUFDLEVBQ3JELEVBQU8sWUFBYyxHQUU1QixDQUFDLEVBQ00sR0FFRCxrQkFBaUIsR0FDakIsZ0JBQWdCLENBQUMsRUFBTSxDQUM3QixNQUFPLENBQ0wsU0FBVSxHQUNWLFNBQVUsQ0FBRSxRQUFTLEdBQUksUUFBUyxDQUFLLEVBQ3ZDLE1BQU8sRUFDVCxHQUVNLGdCQUFnQixDQUFDLEVBQU0sRUFBUyxDQUN0QyxFQUFtQixDQUFJLEdBQ3JCLFFBQVEsTUFDTixxRUFDUyxJQUFULEtBQWdCLGNBQWdCLENBQ2xDLEVBQ0YsRUFBVSxDQUNSLFNBQVUsR0FDVixLQUFNLEVBQ04sUUFBb0IsSUFBTixPQUFnQixLQUFPLENBQ3ZDLEVBQ0EsSUFBSSxFQWVKLE9BZEEsT0FBTyxlQUFlLEVBQVMsY0FBZSxDQUM1QyxXQUFZLEdBQ1osYUFBYyxHQUNkLFlBQWMsRUFBRyxDQUNmLE9BQU8sR0FFVCxZQUFjLENBQUMsRUFBTSxDQUNuQixFQUFVLEVBQ1YsRUFBSyxNQUNILEVBQUssY0FDSixPQUFPLGVBQWUsRUFBTSxPQUFRLENBQUUsTUFBTyxDQUFLLENBQUMsRUFDbkQsRUFBSyxZQUFjLEdBRTFCLENBQUMsRUFDTSxHQUVELDJCQUEyQixDQUFDLEVBQU8sQ0FDekMsSUFBSSxFQUFpQixFQUFxQixFQUN4QyxFQUFvQixDQUFDLEVBQ3ZCLEVBQXFCLEVBQUksRUFDekIsRUFBa0IsZUFBaUIsSUFBSSxJQUN2QyxHQUFJLENBQ0YsSUFBSSxFQUFjLEVBQU0sRUFDdEIsR0FBMEIsRUFBcUIsRUFDakQsQUFBUyxLQUFULE1BQ0UsR0FBd0IsRUFBbUIsQ0FBVyxTQUNwQyxJQUFwQixVQUNXLElBQVQsYUFDc0IsRUFBWSxPQUFsQyxZQUNBLEVBQVksS0FBSyxHQUFNLEVBQWlCLFFBQ25DLEdBQVAsQ0FDQSxHQUFrQixFQUFLLFNBQ3ZCLENBQ0EsQUFBUyxJQUFULE1BQ0UsRUFBa0IsaUJBQ2hCLEVBQVEsRUFBa0IsZUFBZSxLQUMzQyxFQUFrQixlQUFlLE1BQU0sRUFDdkMsR0FBSyxHQUNILFFBQVEsS0FDTixxTUFDRixHQUNELEVBQXFCLEVBQUksSUFHeEIsb0NBQW9DLEVBQUcsQ0FDN0MsT0FBTyxHQUFrQixFQUFFLGdCQUFnQixHQUVyQyxlQUFlLENBQUMsRUFBUSxDQUM5QixPQUFPLEdBQWtCLEVBQUUsSUFBSSxDQUFNLEdBRS9CLDBCQUEwQixDQUFDLEVBQVEsRUFBYyxFQUFXLENBQ2xFLE9BQU8sR0FBa0IsRUFBRSxlQUN6QixFQUNBLEVBQ0EsQ0FDRixHQUVNLHVCQUF1QixDQUFDLEVBQVUsRUFBTSxDQUM5QyxPQUFPLEdBQWtCLEVBQUUsWUFBWSxFQUFVLENBQUksR0FFL0Msc0JBQXNCLENBQUMsRUFBUyxDQUN0QyxJQUFJLEVBQWEsR0FBa0IsRUFLbkMsT0FKQSxFQUFRLFdBQWEsSUFDbkIsUUFBUSxNQUNOLDhIQUNGLEVBQ0ssRUFBVyxXQUFXLENBQU8sR0FFOUIseUJBQXlCLENBQUMsRUFBTyxFQUFhLENBQ3BELE9BQU8sR0FBa0IsRUFBRSxjQUFjLEVBQU8sQ0FBVyxHQUVyRCw0QkFBNEIsQ0FBQyxFQUFPLEVBQWMsQ0FDeEQsT0FBTyxHQUFrQixFQUFFLGlCQUFpQixFQUFPLENBQVksR0FFekQscUJBQXFCLENBQUMsRUFBUSxFQUFNLENBQzFDLE9BQU8sR0FBa0IsRUFBRSxVQUFVLEVBQVEsQ0FBSSxHQUUzQyxpQkFBaUIsRUFBRyxDQUMxQixPQUFPLEdBQWtCLEVBQUUsTUFBTSxHQUUzQiwrQkFBK0IsQ0FBQyxFQUFLLEVBQVEsRUFBTSxDQUN6RCxPQUFPLEdBQWtCLEVBQUUsb0JBQW9CLEVBQUssRUFBUSxDQUFJLEdBRTFELDhCQUE4QixDQUFDLEVBQVEsRUFBTSxDQUNuRCxPQUFPLEdBQWtCLEVBQUUsbUJBQW1CLEVBQVEsQ0FBSSxHQUVwRCwyQkFBMkIsQ0FBQyxFQUFRLEVBQU0sQ0FDaEQsT0FBTyxHQUFrQixFQUFFLGdCQUFnQixFQUFRLENBQUksR0FFakQsbUJBQW1CLENBQUMsRUFBUSxFQUFNLENBQ3hDLE9BQU8sR0FBa0IsRUFBRSxRQUFRLEVBQVEsQ0FBSSxHQUV6Qyx5QkFBeUIsQ0FBQyxFQUFhLEVBQVMsQ0FDdEQsT0FBTyxHQUFrQixFQUFFLGNBQWMsRUFBYSxDQUFPLEdBRXZELHNCQUFzQixDQUFDLEVBQVMsRUFBWSxFQUFNLENBQ3hELE9BQU8sR0FBa0IsRUFBRSxXQUFXLEVBQVMsRUFBWSxDQUFJLEdBRXpELGtCQUFrQixDQUFDLEVBQWMsQ0FDdkMsT0FBTyxHQUFrQixFQUFFLE9BQU8sQ0FBWSxHQUV4QyxvQkFBb0IsQ0FBQyxFQUFjLENBQ3pDLE9BQU8sR0FBa0IsRUFBRSxTQUFTLENBQVksR0FFMUMsZ0NBQWdDLENBQ3RDLEVBQ0EsRUFDQSxFQUNBLENBQ0EsT0FBTyxHQUFrQixFQUFFLHFCQUN6QixFQUNBLEVBQ0EsQ0FDRixHQUVNLHlCQUF5QixFQUFHLENBQ2xDLE9BQU8sR0FBa0IsRUFBRSxjQUFjLEdBRW5DLFdBQVUsZ0JBQ0ssaUNBQXZCLG9CQUVXLCtCQUErQiw2QkFEeEMsWUFFQSwrQkFBK0IsMkJBQTJCLE1BQU0sQ0FBQyxJQUNsRSxxQkNyK0NMLFNBQ1ksRUFBRyxDQUNYLFNBQVMsQ0FBd0IsRUFBRyxDQUNsQyxHQUFJLEdBQXNCLENBQ3hCLElBQUksRUFBc0IsZ0JBQWEsRUFDdkMsR0FBWSxFQUNaLElBQUksR0FBYyxHQUNsQixHQUFJLENBQ0YsRUFBRyxDQUNELEVBQTBCLEdBQzFCLElBQ0ksRUFBeUIsR0FDM0IsR0FBa0IsRUFBYSxFQUM5QixHQUFnQixJQUNuQixFQUFtQixHQUNuQixJQUFJLEdBQXdCLEVBQzVCLEdBQUksQ0FDRixFQUFHLENBQ0QsRUFBYyxDQUFXLEVBQ3pCLElBQ0UsRUFBYyxFQUFLLENBQVMsRUFDbkIsSUFBVCxRQUVFLEVBQVksZUFBaUIsR0FDN0IsRUFBa0IsSUFHcEIsQ0FDQSxJQUFJLEdBQVcsRUFBWSxTQUMzQixVQUEwQixLQUF0QixXQUFnQyxDQUNsQyxFQUFZLFNBQVcsS0FDdkIsRUFBdUIsRUFBWSxjQUNuQyxJQUFJLEdBQXVCLEdBQ3pCLEVBQVksZ0JBQWtCLENBQ2hDLEVBRUEsR0FEQSxFQUFzQixnQkFBYSxTQUNULEtBQXRCLFdBQTRDLENBQzlDLEVBQVksU0FBVyxHQUN2QixFQUFjLENBQVcsRUFDekIsR0FBYyxHQUNkLFFBRUYsSUFBZ0IsRUFBSyxDQUFTLEdBQUssRUFBSSxDQUFTLEVBQ2hELEVBQWMsQ0FBVyxNQUNwQixHQUFJLENBQVMsRUFDcEIsRUFBYyxFQUFLLENBQVMsRUFFOUIsR0FBYSxJQUFULEtBQXNCLEdBQWMsT0FDbkMsQ0FDSCxJQUFJLEdBQWEsRUFBSyxDQUFVLEVBQ2hDLEFBQVMsS0FBVCxNQUNFLEVBQ0UsRUFDQSxHQUFXLFVBQVksQ0FDekIsRUFDRixHQUFjLElBR2xCLGVBQ0EsQ0FDQSxBQUFDLEVBQWMsS0FDWixFQUF1QixHQUN2QixFQUFtQixHQUV4QixHQUFtQixlQUVyQixDQUNBLEdBQ0ksR0FBaUMsRUFDaEMsR0FBdUIsS0FJbEMsU0FBUyxDQUFJLENBQUMsRUFBTSxHQUFNLENBQ3hCLElBQUksR0FBUSxFQUFLLE9BQ2pCLEVBQUssS0FBSyxFQUFJLEVBQ2QsRUFBRyxLQUFPLEVBQUksSUFBUyxDQUNyQixJQUFJLEdBQWUsR0FBUSxJQUFPLEVBQ2hDLEdBQVMsRUFBSyxJQUNoQixHQUFJLEVBQUksRUFBUSxHQUFRLEVBQUksRUFDMUIsQUFBQyxFQUFLLElBQWUsR0FDbEIsRUFBSyxJQUFTLEdBQ2QsR0FBUSxPQUNSLFVBR1QsU0FBUyxDQUFJLENBQUMsRUFBTSxDQUNsQixPQUFhLEVBQUssU0FBWCxFQUFvQixLQUFPLEVBQUssR0FFekMsU0FBUyxDQUFHLENBQUMsRUFBTSxDQUNqQixHQUFVLEVBQUssU0FBWCxFQUFtQixPQUFPLEtBQzlCLElBQUksR0FBUSxFQUFLLEdBQ2YsR0FBTyxFQUFLLElBQUksRUFDbEIsR0FBSSxLQUFTLEdBQU8sQ0FDbEIsRUFBSyxHQUFLLEdBQ1YsRUFBRyxRQUNHLEdBQVEsRUFBRyxHQUFTLEVBQUssT0FBUSxHQUFhLEtBQVcsRUFDN0QsR0FBUSxJQUVSLENBQ0EsSUFBSSxHQUFZLEdBQUssR0FBUSxHQUFLLEVBQ2hDLEdBQU8sRUFBSyxJQUNaLEdBQWEsR0FBWSxFQUN6QixHQUFRLEVBQUssSUFDZixHQUFJLEVBQUksRUFBUSxHQUFNLEVBQUksRUFDeEIsR0FBYSxJQUFVLEVBQUksRUFBUSxHQUFPLEVBQUksR0FDeEMsRUFBSyxJQUFTLEdBQ2YsRUFBSyxJQUFjLEdBQ25CLEdBQVEsS0FDUCxFQUFLLElBQVMsR0FDZixFQUFLLElBQWEsR0FDbEIsR0FBUSxZQUNOLEdBQWEsSUFBVSxFQUFJLEVBQVEsR0FBTyxFQUFJLEVBQ3JELEFBQUMsRUFBSyxJQUFTLEdBQ1osRUFBSyxJQUFjLEdBQ25CLEdBQVEsT0FDUixVQUdULE9BQU8sR0FFVCxTQUFTLENBQU8sQ0FBQyxFQUFHLEdBQUcsQ0FDckIsSUFBSSxHQUFPLEVBQUUsVUFBWSxHQUFFLFVBQzNCLE9BQWEsS0FBTixFQUFhLEdBQU8sRUFBRSxHQUFLLEdBQUUsR0FFdEMsU0FBUyxDQUFhLENBQUMsRUFBYSxDQUNsQyxRQUFTLEdBQVEsRUFBSyxDQUFVLEVBQVksS0FBVCxNQUFrQixDQUNuRCxHQUFhLEdBQU0sV0FBZixLQUF5QixFQUFJLENBQVUsVUFDbEMsR0FBTSxXQUFhLEVBQzFCLEVBQUksQ0FBVSxFQUNYLEdBQU0sVUFBWSxHQUFNLGVBQ3pCLEVBQUssRUFBVyxFQUFLLE1BQ3BCLE9BQ0wsR0FBUSxFQUFLLENBQVUsR0FHM0IsU0FBUyxDQUFhLENBQUMsRUFBYSxDQUdsQyxHQUZBLEVBQXlCLEdBQ3pCLEVBQWMsQ0FBVyxHQUNwQixFQUNILEdBQWEsRUFBSyxDQUFTLElBQXZCLEtBQ0YsQUFBQyxFQUEwQixHQUFLLEVBQW9CLE1BQ2pELENBQ0gsSUFBSSxHQUFhLEVBQUssQ0FBVSxFQUNoQyxBQUFTLEtBQVQsTUFDRSxFQUNFLEVBQ0EsR0FBVyxVQUFZLENBQ3pCLEdBR1IsU0FBUyxDQUFpQixFQUFHLENBQzNCLE9BQWUsZ0JBQWEsRUFBSSxHQUFZLEdBQWdCLEdBQUssR0FFbkUsU0FBUyxDQUFtQixFQUFHLENBQzdCLEtBQ0ksR0FBdUIsR0FBSyxHQUFpQyxHQUVuRSxTQUFTLENBQWtCLENBQUMsRUFBVSxHQUFJLENBQ3hDLEdBQWdCLFdBQXlCLEVBQUcsQ0FDMUMsRUFBaUIsZ0JBQWEsQ0FBQyxHQUM5QixFQUFFLEVBT1AsVUFMdUIsaUNBQXZCLG9CQUVXLCtCQUErQiw4QkFEeEMsWUFFQSwrQkFBK0IsNEJBQTRCLE1BQU0sQ0FBQyxFQUM1RCxnQkFBb0IsY0FFTixjQUFwQixpQkFDc0IsWUFBWSxNQUFsQyxXQUNBLENBQ0EsSUFBSSxFQUFtQixZQUN2QixBQUFRLHdCQUF3QixFQUFHLENBQ2pDLE9BQU8sRUFBaUIsSUFBSSxPQUV6QixDQUNMLElBQUksRUFBWSxLQUNkLEVBQWMsRUFBVSxJQUFJLEVBQzlCLEFBQVEsd0JBQXdCLEVBQUcsQ0FDakMsT0FBTyxFQUFVLElBQUksRUFBSSxHQUc3QixJQUFJLEVBQVksQ0FBQyxFQUNmLEVBQWEsQ0FBQyxFQUNkLEVBQWdCLEVBQ2hCLEVBQWMsS0FDZCxFQUF1QixFQUN2QixFQUFtQixHQUNuQixFQUEwQixHQUMxQixFQUF5QixHQUN6QixVQUF3QyxhQUF0QixXQUFtQyxXQUFhLEtBQ2xFLFVBQ3dCLGVBQXRCLFdBQXFDLGFBQWUsS0FDdEQsVUFDeUIsZUFBdkIsWUFBc0MsYUFBZSxLQUN2RCxHQUF1QixHQUN2QixHQUFnQixHQUNoQixHQUFnQixFQUNoQixHQUFZLEdBQ2QsVUFBMEIsS0FBdEIsV0FDRixJQUFJLFdBQTRDLEVBQUcsQ0FDakQsR0FBa0IsQ0FBd0Isa0JBRWQsaUJBQXZCLFlBQXVDLENBQzlDLElBQUksR0FBVSxJQUFJLGVBQ2hCLEdBQU8sR0FBUSxNQUNqQixHQUFRLE1BQU0sVUFBWSxFQUMxQixXQUE0QyxFQUFHLENBQzdDLEdBQUssWUFBWSxJQUFJLE9BR3ZCLFlBQTRDLEVBQUcsQ0FDN0MsR0FBZ0IsRUFBMEIsQ0FBQyxHQUUvQyxBQUFRLHlCQUF3QixFQUN4Qiw4QkFBNkIsRUFDN0Isd0JBQXVCLEVBQ3ZCLDJCQUEwQixFQUMxQixzQkFBcUIsS0FDckIsaUNBQWdDLEVBQ2hDLG1DQUFtQyxDQUFDLEVBQU0sQ0FDaEQsRUFBSyxTQUFXLE1BRVYsc0NBQXNDLEVBQUcsQ0FDL0MsR0FDRSxJQUNFLEVBQTBCLEdBQUssRUFBb0IsSUFFakQsbUNBQW1DLENBQUMsRUFBSyxDQUMvQyxFQUFJLEdBQU8sSUFBTSxFQUNiLFFBQVEsTUFDTixpSEFDRixFQUNDLEdBQWdCLEVBQUksRUFBTSxLQUFLLE1BQU0sS0FBTSxDQUFHLEVBQUksR0FFakQsNENBQTRDLEVBQUcsQ0FDckQsT0FBTyxHQUVELHlDQUF5QyxFQUFHLENBQ2xELE9BQU8sRUFBSyxDQUFTLEdBRWYseUJBQXlCLENBQUMsRUFBYyxDQUM5QyxPQUFRLE9BQ0QsT0FDQSxPQUNBLEdBQ0gsSUFBSSxHQUFnQixFQUNwQixjQUVBLEdBQWdCLEVBRXBCLElBQUksR0FBd0IsRUFDNUIsRUFBdUIsR0FDdkIsR0FBSSxDQUNGLE9BQU8sRUFBYSxTQUNwQixDQUNBLEVBQXVCLEtBR25CLG1DQUFtQyxFQUFHLEdBQ3RDLGlDQUFpQyxFQUFHLEdBQ3BDLG9DQUFvQyxDQUFDLEVBQWUsR0FBYyxDQUN4RSxPQUFRLE9BQ0QsT0FDQSxPQUNBLE9BQ0EsT0FDQSxHQUNILGNBRUEsRUFBZ0IsRUFFcEIsSUFBSSxHQUF3QixFQUM1QixFQUF1QixFQUN2QixHQUFJLENBQ0YsT0FBTyxHQUFhLFNBQ3BCLENBQ0EsRUFBdUIsS0FHbkIscUNBQXFDLENBQzNDLEVBQ0EsR0FDQSxHQUNBLENBQ0EsSUFBSSxHQUFzQixnQkFBYSxFQVF2QyxjQVBvQixLQUFwQixVQUF3QyxLQUFULE1BQ3pCLEdBQVUsR0FBUSxNQUNuQixVQUNxQixLQUFwQixVQUErQixFQUFJLEdBQy9CLEdBQWMsR0FDZCxJQUNMLEdBQVUsR0FDUCxPQUNELEdBQ0gsSUFBSSxHQUFVLEdBQ2QsVUFDRyxHQUNILEdBQVUsSUFDVixVQUNHLEdBQ0gsR0FBVSxXQUNWLFVBQ0csR0FDSCxHQUFVLElBQ1YsY0FFQSxHQUFVLEtBeUJkLE9BdkJBLEdBQVUsR0FBVSxHQUNwQixFQUFnQixDQUNkLEdBQUksSUFDSixTQUFVLEdBQ1YsY0FBZSxFQUNmLFVBQVcsR0FDWCxlQUFnQixHQUNoQixVQUFXLEVBQ2IsRUFDQSxHQUFVLElBQ0osRUFBYyxVQUFZLEdBQzVCLEVBQUssRUFBWSxDQUFhLEVBQ3JCLEVBQUssQ0FBUyxJQUF2QixNQUNFLElBQWtCLEVBQUssQ0FBVSxJQUNoQyxHQUNJLEdBQWtCLEVBQWEsRUFBSSxHQUFnQixJQUNuRCxFQUF5QixHQUM5QixFQUFtQixFQUFlLEdBQVUsRUFBVyxLQUN2RCxFQUFjLFVBQVksR0FDNUIsRUFBSyxFQUFXLENBQWEsRUFDN0IsR0FDRSxJQUNFLEVBQTBCLEdBQUssRUFBb0IsSUFDcEQsR0FFRCx3QkFBdUIsRUFDdkIsaUNBQWlDLENBQUMsRUFBVSxDQUNsRCxJQUFJLEdBQXNCLEVBQzFCLGVBQWdCLEVBQUcsQ0FDakIsSUFBSSxHQUF3QixFQUM1QixFQUF1QixHQUN2QixHQUFJLENBQ0YsT0FBTyxFQUFTLE1BQU0sS0FBTSxTQUFTLFNBQ3JDLENBQ0EsRUFBdUIsYUFJTixpQ0FBdkIsb0JBRVcsK0JBQStCLDZCQUR4QyxZQUVBLCtCQUErQiwyQkFBMkIsTUFBTSxDQUFDLElBQ2xFLHFCQ3hSbUIsaUJBeEV4QixTQUNZLEVBQUcsQ0FDWCxTQUFTLENBQUksRUFBRyxFQUNoQixTQUFTLENBQWtCLENBQUMsRUFBTyxDQUNqQyxNQUFPLEdBQUssRUFFZCxTQUFTLENBQWMsQ0FBQyxFQUFVLEVBQWUsRUFBZ0IsQ0FDL0QsSUFBSSxFQUNGLEVBQUksVUFBVSxRQUFxQixVQUFVLEtBQWhCLE9BQXFCLFVBQVUsR0FBSyxLQUNuRSxHQUFJLENBQ0YsRUFBbUIsQ0FBRyxFQUN0QixJQUFJLEVBQTJCLFNBQ3hCLEVBQVAsQ0FDQSxFQUEyQixHQVk3QixPQVZBLElBQ0csUUFBUSxNQUNQLGtIQUN1QixTQUF0QixZQUNDLE9BQU8sYUFDUCxFQUFJLE9BQU8sY0FDWCxFQUFJLFlBQVksTUFDaEIsUUFDSixFQUNBLEVBQW1CLENBQUcsR0FDakIsQ0FDTCxTQUFVLEVBQ1YsSUFBYSxHQUFSLEtBQWMsS0FBTyxHQUFLLEVBQy9CLFNBQVUsRUFDVixjQUFlLEVBQ2YsZUFBZ0IsQ0FDbEIsRUFFRixTQUFTLENBQXNCLENBQUMsRUFBSSxFQUFPLENBQ3pDLEdBQWUsSUFBWCxPQUFlLE1BQU8sR0FDMUIsVUFBd0IsSUFBcEIsU0FDRixPQUE2QixJQUF0QixrQkFBOEIsRUFBUSxHQUVqRCxTQUFTLENBQTJDLENBQUMsRUFBTyxDQUMxRCxPQUFnQixJQUFULEtBQ0gsU0FDVyxJQUFOLE9BQ0gsY0FDTyxJQUFQLEdBQ0Usa0JBQ0EsK0JBQWlDLEVBQVEsSUFFbkQsU0FBUyxDQUF5QyxDQUFDLEVBQU8sQ0FDeEQsT0FBZ0IsSUFBVCxLQUNILFNBQ1csSUFBTixPQUNILGNBQ08sSUFBUCxHQUNFLHlCQUNvQixJQUFwQixTQUNFLEtBQUssVUFBVSxDQUFLLFNBQ0EsSUFBcEIsU0FDRSxJQUFNLEVBQVEsSUFDZCwrQkFBaUMsRUFBUSxJQUV2RCxTQUFTLENBQWlCLEVBQUcsQ0FDM0IsSUFBSSxFQUFhLEVBQXFCLEVBS3RDLE9BSlMsSUFBVCxNQUNFLFFBQVEsTUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBLCtGQUNGLEVBQ0ssRUFFVCxPQUF1QixpQ0FBdkIsb0JBRVcsK0JBQStCLDhCQUR4QyxZQUVBLCtCQUErQiw0QkFBNEIsTUFBTSxDQUFDLEVBQ3BFLElBQ0UsRUFBWSxDQUNWLEVBQUcsQ0FDRCxFQUFHLEVBQ0gsVUFBWSxFQUFHLENBQ2IsTUFBTSxNQUNKLDBGQUNGLEdBRUYsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLEVBQ0gsRUFBRyxFQUNILEVBQUcsRUFDSCxFQUFHLEVBQ0gsRUFBRyxDQUNMLEVBQ0EsRUFBRyxFQUNILFlBQWEsSUFDZixFQUNBLEVBQW9CLE9BQU8sSUFBSSxjQUFjLEVBQzdDLEVBQ1EsbUVBQ1YsT0FBdUIsTUFBdEIsWUFDUyxJQUFJLFdBQVosYUFDc0IsSUFBSSxVQUFVLFVBQXBDLG1CQUNzQixNQUF0QixZQUNRLElBQUksV0FBWixhQUNzQixJQUFJLFVBQVUsUUFBcEMsbUJBQ3NCLElBQUksVUFBVSxVQUFwQyxZQUNBLFFBQVEsTUFDTiw2SUFDRixFQUNNLGdFQUNOLEVBQ00sd0JBQXdCLENBQUMsRUFBVSxFQUFXLENBQ3BELElBQUksRUFDRixFQUFJLFVBQVUsUUFBcUIsVUFBVSxLQUFoQixPQUFxQixVQUFVLEdBQUssS0FDbkUsSUFDRyxHQUNNLEVBQVUsV0FBaEIsR0FDTyxFQUFVLFdBQWhCLEdBQ08sRUFBVSxXQUFqQixHQUVGLE1BQU0sTUFBTSx3Q0FBd0MsRUFDdEQsT0FBTyxFQUFlLEVBQVUsRUFBVyxLQUFNLENBQUcsR0FFOUMscUJBQXFCLENBQUMsRUFBSSxDQUNoQyxJQUFJLEVBQXFCLEVBQXFCLEVBQzVDLEVBQXlCLEVBQVUsRUFDckMsR0FBSSxDQUNGLEdBQU0sRUFBcUIsRUFBSSxLQUFRLEVBQVUsRUFBSSxFQUFJLEVBQ3ZELE9BQU8sRUFBRyxTQUNaLENBQ0EsQUFBQyxFQUFxQixFQUFJLEVBQ3ZCLEVBQVUsRUFBSSxFQUNmLEVBQVUsRUFBRSxFQUFFLEdBQ1osUUFBUSxNQUNOLHVLQUNGLElBR0Esc0JBQXNCLENBQUMsRUFBTSxFQUFTLENBQzVDLE9BQW9CLElBQXBCLFVBQTRCLEVBQ2hCLEdBQVIsYUFBdUMsSUFBcEIsU0FDakIsUUFBUSxNQUNOLDhMQUNBLEVBQTBDLENBQU8sQ0FDbkQsRUFDUSxHQUFSLGFBQ29CLEVBQVEsY0FBNUIsVUFDQSxRQUFRLE1BQ04sb0xBQ0EsRUFBNEMsRUFBUSxXQUFXLENBQ2pFLEVBQ0YsUUFBUSxNQUNOLG1IQUNBLEVBQTRDLENBQUksQ0FDbEQsU0FDZ0IsSUFBcEIsV0FDRyxHQUNLLEVBQVUsRUFBUSxZQUNuQixTQUNxQixJQUFwQixTQUMwQixJQUF0QixrQkFDRSxFQUNBLEdBQ0csUUFDVixFQUFVLEtBQ2YsRUFBVSxFQUFFLEVBQUUsRUFBTSxDQUFPLElBRXZCLHVCQUF1QixDQUFDLEVBQU0sQ0FDcEMsVUFBd0IsSUFBcEIsV0FBNkIsRUFDL0IsUUFBUSxNQUNOLG9IQUNBLEVBQTRDLENBQUksQ0FDbEQsVUFDTyxFQUFJLFVBQVUsT0FBUSxDQUM3QixJQUFJLEVBQVUsVUFBVSxHQUN4QixPQUFvQixJQUFwQixVQUErQixFQUFRLGVBQWUsYUFBYSxFQUMvRCxRQUFRLE1BQ04sbWRBQ0EsRUFBMEMsQ0FBTyxDQUNuRCxFQUNBLFFBQVEsTUFDTix3UUFDQSxFQUEwQyxDQUFPLENBQ25ELEVBRU4sT0FBb0IsSUFBcEIsVUFBNEIsRUFBVSxFQUFFLEVBQUUsQ0FBSSxHQUV4QyxtQkFBbUIsQ0FBQyxFQUFNLEVBQVMsQ0FpQnpDLFVBaEJvQixJQUFwQixVQUE0QixFQUNoQixHQUFSLGFBQXVDLElBQXBCLFNBQ2pCLFFBQVEsTUFDTixzTEFDQSxFQUEwQyxDQUFPLENBQ25ELEVBQ1ksRUFBUSxLQUFwQixTQUNhLEVBQVEsS0FBckIsVUFDQSxRQUFRLE1BQ04sOE9BQ0EsRUFBMEMsRUFBUSxFQUFFLENBQ3RELEVBQ0YsUUFBUSxNQUNOLGdIQUNBLEVBQTRDLENBQUksQ0FDbEQsU0FFa0IsSUFBcEIsVUFDQSxVQUNvQixFQUFRLEtBQTVCLFNBQ0EsQ0FDQSxJQUFJLEVBQUssRUFBUSxHQUNmLEVBQWMsRUFBdUIsRUFBSSxFQUFRLFdBQVcsRUFDNUQsU0FDc0IsRUFBUSxZQUE1QixTQUF3QyxFQUFRLFVBQWlCLE9BQ25FLFNBQ3NCLEVBQVEsZ0JBQTVCLFNBQ0ksRUFBUSxjQUNILE9BQ2IsQUFBWSxJQUFaLFFBQ0ksRUFBVSxFQUFFLEVBQ1YsU0FDb0IsRUFBUSxhQUE1QixTQUNJLEVBQVEsV0FDSCxPQUNULENBQ0UsWUFBYSxFQUNiLFVBQVcsRUFDWCxjQUFlLENBQ2pCLENBQ0YsRUFDYSxJQUFiLFVBQ0EsRUFBVSxFQUFFLEVBQUUsRUFBTSxDQUNsQixZQUFhLEVBQ2IsVUFBVyxFQUNYLGNBQWUsRUFDZixhQUEyQixFQUFRLFFBQTVCLFNBQW9DLEVBQVEsTUFBYSxNQUNsRSxDQUFDLElBR0QseUJBQXlCLENBQUMsRUFBTSxFQUFTLENBQy9DLElBQUksRUFBYyxHQWtCbEIsVUFqQnFCLElBQXBCLFVBQTRCLElBQzFCLEdBQ0Msd0NBQ0EsRUFBNEMsQ0FBSSxFQUNoRCxLQUNPLElBQU4sZUFBcUMsSUFBcEIsU0FDakIsR0FDQywyQ0FDQSxFQUE0QyxDQUFPLEVBQ25ELElBQ0YsSUFDQSxPQUFRLElBQ0ssRUFBUSxLQUFyQixXQUNDLEdBQ0Msb0NBQ0EsRUFBMEMsRUFBUSxFQUFFLEVBQ3BELEtBQ0YsRUFDRixRQUFRLE1BQ04sdUpBQ0EsQ0FDRixNQUVBLFFBQ0ksRUFDQSxVQUErQixFQUFRLEtBQTVCLFNBQWlDLEVBQVEsR0FBSyxTQUMzRCxPQUVLLFNBQ0gsY0FFQSxBQUFDLEVBQ0MsRUFBMEMsQ0FBVyxFQUNyRCxRQUFRLE1BQ04sZ1ZBQ0EsRUFDQSxDQUNGLEVBRVIsVUFBd0IsSUFBcEIsU0FDRixVQUF3QixJQUFwQixVQUF3QyxJQUFULE1BQ2pDLEdBQVksRUFBUSxJQUFoQixNQUFtQyxFQUFRLEtBQXJCLFNBQ3hCLEFBQUMsRUFBYyxFQUNiLEVBQVEsR0FDUixFQUFRLFdBQ1YsRUFDRSxFQUFVLEVBQUUsRUFBRSxFQUFNLENBQ2xCLFlBQWEsRUFDYixpQkFDc0IsRUFBUSxZQUE1QixTQUNJLEVBQVEsVUFDSCxPQUNYLGFBQ3NCLEVBQVEsUUFBNUIsU0FBb0MsRUFBUSxNQUFhLE1BQzdELENBQUMsTUFDQSxDQUFRLEdBQVIsTUFBbUIsRUFBVSxFQUFFLEVBQUUsQ0FBSSxHQUV4QyxtQkFBbUIsQ0FBQyxFQUFNLEVBQVMsQ0FDekMsSUFBSSxFQUFjLEdBcUJsQixVQXBCcUIsSUFBcEIsVUFBNEIsSUFDMUIsR0FDQyx3Q0FDQSxFQUE0QyxDQUFJLEVBQ2hELEtBQ0ksR0FBUixhQUF1QyxJQUFwQixTQUNkLEdBQ0MsMkNBQ0EsRUFBNEMsQ0FBTyxFQUNuRCxXQUNtQixFQUFRLEtBQTVCLFVBQWtDLEVBQVEsS0FDMUMsR0FDQyxvQ0FDQSxFQUE0QyxFQUFRLEVBQUUsRUFDdEQsS0FDTixHQUNFLFFBQVEsTUFDTiwyS0FDQSxDQUNGLFNBRW9CLElBQXBCLGlCQUNvQixJQUFwQixVQUNTLElBQVQsYUFDb0IsRUFBUSxLQUE1QixTQUNBLENBQ0EsRUFBYyxFQUFRLEdBQ3RCLElBQUksRUFBYyxFQUNoQixFQUNBLEVBQVEsV0FDVixFQUNBLEVBQVUsRUFBRSxFQUFFLEVBQU0sRUFBYSxDQUMvQixZQUFhLEVBQ2IsaUJBQ3NCLEVBQVEsWUFBNUIsU0FBd0MsRUFBUSxVQUFpQixPQUNuRSxhQUEyQixFQUFRLFFBQTVCLFNBQW9DLEVBQVEsTUFBYSxPQUNoRSxZQUEwQixFQUFRLE9BQTVCLFNBQW1DLEVBQVEsS0FBWSxPQUM3RCxxQkFDc0IsRUFBUSxnQkFBNUIsU0FDSSxFQUFRLGNBQ0gsT0FDWCxzQkFDc0IsRUFBUSxpQkFBNUIsU0FDSSxFQUFRLGVBQ0gsT0FDWCxtQkFDc0IsRUFBUSxjQUE1QixTQUNJLEVBQVEsWUFDSCxPQUNYLGtCQUNzQixFQUFRLGFBQTVCLFNBQ0ksRUFBUSxXQUNILE9BQ1gsYUFBMkIsRUFBUSxRQUE1QixTQUFvQyxFQUFRLE1BQWEsTUFDbEUsQ0FBQyxJQUdHLHlCQUF5QixDQUFDLEVBQU0sRUFBUyxDQUMvQyxJQUFJLEVBQWMsR0FDbEIsT0FBcUIsSUFBcEIsVUFBNEIsSUFDMUIsR0FDQyx3Q0FDQSxFQUE0QyxDQUFJLEVBQ2hELEtBQ08sSUFBTixlQUFxQyxJQUFwQixTQUNqQixHQUNDLDJDQUNBLEVBQTRDLENBQU8sRUFDbkQsSUFDRixJQUNBLE9BQVEsV0FDWSxFQUFRLEtBQTVCLFdBQ0MsR0FDQyxvQ0FDQSxFQUE0QyxFQUFRLEVBQUUsRUFDdEQsS0FDTixHQUNFLFFBQVEsTUFDTixvTUFDQSxDQUNGLFNBQ2tCLElBQXBCLFdBQ0csR0FDSyxFQUFjLEVBQ2QsRUFBUSxHQUNSLEVBQVEsV0FDVixFQUNBLEVBQVUsRUFBRSxFQUFFLEVBQU0sQ0FDbEIsVUFDc0IsRUFBUSxLQUE1QixVQUErQyxFQUFRLEtBQXJCLFNBQzlCLEVBQVEsR0FDSCxPQUNYLFlBQWEsRUFDYixpQkFDc0IsRUFBUSxZQUE1QixTQUNJLEVBQVEsVUFDSCxNQUNiLENBQUMsR0FDRCxFQUFVLEVBQUUsRUFBRSxDQUFJLElBRWxCLDRCQUE0QixDQUFDLEVBQU0sQ0FDekMsRUFBVSxFQUFFLEVBQUUsQ0FBSSxHQUVaLG1DQUFtQyxDQUFDLEVBQUksRUFBRyxDQUNqRCxPQUFPLEVBQUcsQ0FBQyxHQUVMLHdCQUF3QixDQUFDLEVBQVEsRUFBYyxFQUFXLENBQ2hFLE9BQU8sRUFBa0IsRUFBRSxhQUFhLEVBQVEsRUFBYyxDQUFTLEdBRWpFLHlCQUF5QixFQUFHLENBQ2xDLE9BQU8sRUFBa0IsRUFBRSx3QkFBd0IsR0FFN0MsV0FBVSxnQkFDSyxpQ0FBdkIsb0JBRVcsK0JBQStCLDZCQUR4QyxZQUVBLCtCQUErQiwyQkFBMkIsTUFBTSxDQUFDLElBQ2xFLHdCQ25ZSCxHQUFPLGdDQzAzb0JtQixpQkFDTixhQUNHLGFBbDVvQnpCLFNBQ1ksRUFBRyxDQUNYLFNBQVMsQ0FBUSxDQUFDLEVBQU8sRUFBSSxDQUMzQixJQUFLLEVBQVEsRUFBTSxjQUF3QixJQUFULE1BQWtCLEVBQUksR0FDdEQsQUFBQyxFQUFRLEVBQU0sS0FBTyxJQUN4QixPQUFPLEVBRVQsU0FBUyxDQUFlLENBQUMsRUFBSyxFQUFNLEVBQU8sRUFBTyxDQUNoRCxHQUFJLEdBQVMsRUFBSyxPQUFRLE9BQU8sRUFDakMsSUFBSSxFQUFNLEVBQUssR0FDYixFQUFVLEdBQVksQ0FBRyxFQUFJLEVBQUksTUFBTSxFQUFJLEdBQU8sQ0FBQyxFQUFHLENBQUcsRUFFM0QsT0FEQSxFQUFRLEdBQU8sRUFBZ0IsRUFBSSxHQUFNLEVBQU0sRUFBUSxFQUFHLENBQUssRUFDeEQsRUFFVCxTQUFTLENBQWMsQ0FBQyxFQUFLLEVBQVMsRUFBUyxDQUM3QyxHQUFJLEVBQVEsU0FBVyxFQUFRLE9BQzdCLFFBQVEsS0FBSyxtREFBbUQsTUFDN0QsQ0FDSCxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVEsT0FBUyxFQUFHLElBQ3RDLEdBQUksRUFBUSxLQUFPLEVBQVEsR0FBSSxDQUM3QixRQUFRLEtBQ04sMEVBQ0YsRUFDQSxPQUVKLE9BQU8sRUFBbUIsRUFBSyxFQUFTLEVBQVMsQ0FBQyxHQUd0RCxTQUFTLENBQWtCLENBQUMsRUFBSyxFQUFTLEVBQVMsRUFBTyxDQUN4RCxJQUFJLEVBQVMsRUFBUSxHQUNuQixFQUFVLEdBQVksQ0FBRyxFQUFJLEVBQUksTUFBTSxFQUFJLEdBQU8sQ0FBQyxFQUFHLENBQUcsRUFZM0QsT0FYQSxFQUFRLElBQU0sRUFBUSxRQUNoQixFQUFRLEVBQVEsSUFBVSxFQUFRLEdBQ3BDLEdBQVksQ0FBTyxFQUNmLEVBQVEsT0FBTyxFQUFRLENBQUMsU0FDakIsRUFBUSxJQUNsQixFQUFRLEdBQVUsRUFDakIsRUFBSSxHQUNKLEVBQ0EsRUFDQSxFQUFRLENBQ1YsRUFDRyxFQUVULFNBQVMsQ0FBa0IsQ0FBQyxFQUFLLEVBQU0sRUFBTyxDQUM1QyxJQUFJLEVBQU0sRUFBSyxHQUNiLEVBQVUsR0FBWSxDQUFHLEVBQUksRUFBSSxNQUFNLEVBQUksR0FBTyxDQUFDLEVBQUcsQ0FBRyxFQUMzRCxHQUFJLEVBQVEsSUFBTSxFQUFLLE9BQ3JCLE9BQ0UsR0FBWSxDQUFPLEVBQUksRUFBUSxPQUFPLEVBQUssQ0FBQyxTQUFXLEVBQVEsR0FDL0QsRUFHSixPQURBLEVBQVEsR0FBTyxFQUFtQixFQUFJLEdBQU0sRUFBTSxFQUFRLENBQUMsRUFDcEQsRUFFVCxTQUFTLENBQWlCLEVBQUcsQ0FDM0IsTUFBTyxHQUVULFNBQVMsQ0FBZSxFQUFHLENBQ3pCLE9BQU8sS0FFVCxTQUFTLENBQVcsQ0FBQyxFQUFLLEVBQWMsRUFBSyxFQUFNLENBQ2pELE9BQU8sSUFBSSxHQUFVLEVBQUssRUFBYyxFQUFLLENBQUksRUFFbkQsU0FBUyxDQUFxQixFQUFHLENBQy9CLFFBQVEsTUFDTixrTkFDRixFQUVGLFNBQVMsQ0FBd0IsRUFBRyxDQUNsQyxRQUFRLE1BQ04sOFBBQ0YsRUFFRixTQUFTLENBQU0sRUFBRyxFQUNsQixTQUFTLENBQWlCLEVBQUcsRUFDN0IsU0FBUyxDQUFpQixDQUFDLEVBQUssQ0FDOUIsSUFBSSxFQUFRLENBQUMsRUFJYixPQUhBLEVBQUksZ0JBQWlCLENBQUMsRUFBTyxDQUMzQixFQUFNLEtBQUssQ0FBSyxFQUNqQixFQUNNLEVBQU0sS0FBSyxFQUFFLEtBQUssSUFBSSxFQUUvQixTQUFTLENBQVksQ0FBQyxFQUFNLEVBQVMsQ0FDbkMsRUFBSyxVQUFZLEtBQ2QsR0FBb0IsRUFBUyxFQUFNLEtBQU0sSUFBSSxFQUFHLEdBQWdCLEdBRXJFLFNBQVMsQ0FBZSxDQUFDLEVBQU0sRUFBUSxDQUNyQyxHQUFhLEtBQVQsS0FBd0IsQ0FDMUIsSUFBSSxFQUFnQixFQUFPLGNBQzNCLEVBQVMsRUFBTyxnQkFDaEIsR0FBb0IsRUFDcEIsR0FDRSxFQUFLLFFBQ0wsRUFDQSxDQUNGLEVBQ0EsR0FBZ0IsR0FHcEIsU0FBUyxDQUFpQixDQUFDLEVBQVMsQ0FDbEMsR0FBZ0IsRUFFbEIsU0FBUyxDQUFnQixDQUFDLEVBQU0sQ0FDOUIsU0FDRyxHQUNNLEVBQUssV0FBWCxHQUE2QixFQUFLLFdBQVgsR0FBOEIsRUFBSyxXQUFaLElBR25ELFNBQVMsQ0FBYSxDQUFDLEVBQWUsQ0FDcEMsR0FBYSxJQUFULGFBQThDLElBQXBCLFNBQzVCLE9BQU8sS0FJVCxPQUhBLEVBQ0csSUFBeUIsRUFBYyxLQUN4QyxFQUFjLHFCQUNhLElBQXRCLFdBQXNDLEVBQWdCLEtBRS9ELFNBQVMsQ0FBd0IsQ0FBQyxFQUFNLENBQ3RDLEdBQVksR0FBUixLQUFjLE9BQU8sS0FDekIsVUFBMEIsSUFBdEIsV0FDRixPQUFPLEVBQUssV0FBYSxHQUNyQixLQUNBLEVBQUssYUFBZSxFQUFLLE1BQVEsS0FDdkMsVUFBd0IsSUFBcEIsU0FBMEIsT0FBTyxFQUNyQyxPQUFRLFFBQ0QsR0FDSCxNQUFPLGdCQUNKLEdBQ0gsTUFBTyxjQUNKLEdBQ0gsTUFBTyxnQkFDSixHQUNILE1BQU8sa0JBQ0osR0FDSCxNQUFPLGdCQUNKLEdBQ0gsTUFBTyxlQUVYLFVBQXdCLElBQXBCLFNBQ0YsY0FDdUIsRUFBSyxNQUF6QixVQUNDLFFBQVEsTUFDTixtSEFDRixFQUNGLEVBQUssZUFFQSxHQUNILE9BQVEsRUFBSyxhQUFlLFdBQWEsaUJBQ3RDLEdBQ0gsT0FBUSxFQUFLLFNBQVMsYUFBZSxXQUFhLGlCQUMvQyxHQUNILElBQUksRUFBWSxFQUFLLE9BS3JCLE9BSkEsRUFBTyxFQUFLLFlBQ1osSUFDSSxFQUFPLEVBQVUsYUFBZSxFQUFVLE1BQVEsR0FDbkQsRUFBYyxJQUFQLEdBQWMsY0FBZ0IsRUFBTyxJQUFNLGNBQzlDLE9BQ0osR0FDSCxPQUNHLEVBQVksRUFBSyxhQUFlLEtBQ3hCLElBQVQsS0FDSSxFQUNBLEVBQXlCLEVBQUssSUFBSSxHQUFLLFlBRTFDLEdBQ0gsRUFBWSxFQUFLLFNBQ2pCLEVBQU8sRUFBSyxNQUNaLEdBQUksQ0FDRixPQUFPLEVBQXlCLEVBQUssQ0FBUyxDQUFDLFFBQ3hDLEVBQVAsR0FFUixPQUFPLEtBRVQsU0FBUyxDQUF5QixDQUFDLEVBQU8sQ0FDeEMsY0FBMkIsRUFBTSxNQUExQixTQUNILEVBQTBCLENBQUssU0FDWCxFQUFNLE9BQTFCLFNBQ0UsRUFBTSxLQUNOLEtBRVIsU0FBUyxDQUF5QixDQUFDLEVBQU8sQ0FDeEMsSUFBSSxFQUFPLEVBQU0sS0FDakIsT0FBUSxFQUFNLFNBQ1AsSUFDSCxNQUFPLFlBQ0osR0FDSCxPQUFRLEVBQUssU0FBUyxhQUFlLFdBQWEsZ0JBQy9DLElBQ0gsT0FBUSxFQUFLLGFBQWUsV0FBYSxnQkFDdEMsSUFDSCxNQUFPLHlCQUNKLElBQ0gsT0FDRyxFQUFRLEVBQUssT0FDYixFQUFRLEVBQU0sYUFBZSxFQUFNLE1BQVEsR0FDNUMsRUFBSyxjQUNLLElBQVAsR0FBZSxjQUFnQixFQUFRLElBQU0sa0JBRS9DLEdBQ0gsTUFBTyxlQUNKLFFBQ0EsUUFDQSxHQUNILE9BQU8sTUFDSixHQUNILE1BQU8sYUFDSixHQUNILE1BQU8sV0FDSixHQUNILE1BQU8sV0FDSixJQUNILE9BQU8sRUFBeUIsQ0FBSSxNQUNqQyxHQUNILE9BQU8sSUFBUyxHQUF5QixhQUFlLFdBQ3JELElBQ0gsTUFBTyxnQkFDSixJQUNILE1BQU8sZUFDSixJQUNILE1BQU8sWUFDSixJQUNILE1BQU8sZUFDSixJQUNILE1BQU8sbUJBQ0osSUFDSCxNQUFPLG9CQUNKLE9BQ0EsT0FDQSxRQUNBLElBQ0gsVUFBMEIsSUFBdEIsV0FDRixPQUFPLEVBQUssYUFBZSxFQUFLLE1BQVEsS0FDMUMsVUFBd0IsSUFBcEIsU0FBMEIsT0FBTyxFQUNyQyxVQUNHLElBRUgsR0FEQSxFQUFPLEVBQU0sV0FDRCxHQUFSLE1BQ0YsUUFBUyxFQUFJLEVBQUssT0FBUyxFQUFHLEdBQUssRUFBRyxJQUNwQyxVQUF3QixFQUFLLEdBQUcsT0FBNUIsU0FBa0MsT0FBTyxFQUFLLEdBQUcsS0FDekQsR0FBYSxFQUFNLFNBQWYsS0FDRixPQUFPLEVBQTBCLEVBQU0sTUFBTSxFQUVuRCxPQUFPLEtBRVQsU0FBUyxFQUFXLEVBQUcsRUFDdkIsU0FBUyxFQUFXLEVBQUcsQ0FDckIsR0FBVSxLQUFOLEVBQXFCLENBQ3ZCLEdBQVUsUUFBUSxJQUNsQixHQUFXLFFBQVEsS0FDbkIsR0FBVyxRQUFRLEtBQ25CLEdBQVksUUFBUSxNQUNwQixHQUFZLFFBQVEsTUFDcEIsR0FBcUIsUUFBUSxlQUM3QixHQUFlLFFBQVEsU0FDdkIsSUFBSSxFQUFRLENBQ1YsYUFBYyxHQUNkLFdBQVksR0FDWixNQUFPLEdBQ1AsU0FBVSxFQUNaLEVBQ0EsT0FBTyxpQkFBaUIsUUFBUyxDQUMvQixLQUFNLEVBQ04sSUFBSyxFQUNMLEtBQU0sRUFDTixNQUFPLEVBQ1AsTUFBTyxFQUNQLGVBQWdCLEVBQ2hCLFNBQVUsQ0FDWixDQUFDLEVBRUgsS0FFRixTQUFTLEVBQVksRUFBRyxDQUV0QixHQURBLEtBQ1UsS0FBTixFQUFxQixDQUN2QixJQUFJLEVBQVEsQ0FBRSxhQUFjLEdBQUksV0FBWSxHQUFJLFNBQVUsRUFBRyxFQUM3RCxPQUFPLGlCQUFpQixRQUFTLENBQy9CLElBQUssR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBUSxDQUFDLEVBQ3pDLEtBQU0sR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBUyxDQUFDLEVBQzNDLEtBQU0sR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBUyxDQUFDLEVBQzNDLE1BQU8sR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBVSxDQUFDLEVBQzdDLE1BQU8sR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBVSxDQUFDLEVBQzdDLGVBQWdCLEdBQU8sQ0FBQyxFQUFHLEVBQU8sQ0FBRSxNQUFPLEVBQW1CLENBQUMsRUFDL0QsU0FBVSxHQUFPLENBQUMsRUFBRyxFQUFPLENBQUUsTUFBTyxFQUFhLENBQUMsQ0FDckQsQ0FBQyxFQUVILEVBQUksSUFDRixRQUFRLE1BQ04sOEVBQ0YsRUFFSixTQUFTLEVBQTZCLENBQUMsRUFBTSxDQUMzQyxHQUFlLEtBQU4sT0FDUCxHQUFJLENBQ0YsTUFBTSxNQUFNLFFBQ0wsRUFBUCxDQUNBLElBQUksRUFBUSxFQUFFLE1BQU0sS0FBSyxFQUFFLE1BQU0sY0FBYyxFQUMvQyxHQUFVLEdBQVMsRUFBTSxJQUFPLEdBQ2hDLEdBQ0UsR0FBSyxFQUFFLE1BQU0sUUFBUTtBQUFBLE9BQVUsRUFDM0IsaUJBQ0EsR0FBSyxFQUFFLE1BQU0sUUFBUSxHQUFHLEVBQ3RCLGVBQ0EsR0FFWixNQUFPO0FBQUEsRUFBTyxHQUFTLEVBQU8sR0FFaEMsU0FBUyxFQUE0QixDQUFDLEVBQUksRUFBVyxDQUNuRCxJQUFLLEdBQU0sR0FBUyxNQUFPLEdBQzNCLElBQUksRUFBUSxHQUFvQixJQUFJLENBQUUsRUFDdEMsR0FBZSxJQUFOLE9BQWEsT0FBTyxFQUM3QixHQUFVLEdBQ1YsRUFBUSxNQUFNLGtCQUNkLE1BQU0sa0JBQXlCLE9BQy9CLElBQUksRUFBcUIsS0FDekIsRUFBcUIsRUFBcUIsRUFDMUMsRUFBcUIsRUFBSSxLQUN6QixHQUFZLEVBQ1osR0FBSSxDQUNGLElBQUksRUFBaUIsQ0FDbkIsb0NBQXNDLEVBQUcsQ0FDdkMsR0FBSSxDQUNGLEdBQUksRUFBVyxDQUNiLElBQUksVUFBZ0IsRUFBRyxDQUNyQixNQUFNLE1BQU0sR0FPZCxHQUxBLE9BQU8sZUFBZSxFQUFLLFVBQVcsUUFBUyxDQUM3QyxZQUFjLEVBQUcsQ0FDZixNQUFNLE1BQU0sRUFFaEIsQ0FBQyxTQUN1QixVQUFwQixVQUErQixRQUFRLFVBQVcsQ0FDcEQsR0FBSSxDQUNGLFFBQVEsVUFBVSxFQUFNLENBQUMsQ0FBQyxRQUNuQixHQUFQLENBQ0EsSUFBSSxFQUFVLEdBRWhCLFFBQVEsVUFBVSxFQUFJLENBQUMsRUFBRyxDQUFJLE1BQ3pCLENBQ0wsR0FBSSxDQUNGLEVBQUssS0FBSyxRQUNILEdBQVAsQ0FDQSxFQUFVLEdBRVosRUFBRyxLQUFLLEVBQUssU0FBUyxPQUVuQixDQUNMLEdBQUksQ0FDRixNQUFNLE1BQU0sUUFDTCxHQUFQLENBQ0EsRUFBVSxHQUVaLENBQUMsRUFBTyxFQUFHLFdBQ2EsRUFBSyxRQUEzQixZQUNBLEVBQUssY0FBZSxFQUFHLEVBQUUsU0FFdEIsR0FBUCxDQUNBLEdBQUksSUFBVSxVQUErQixHQUFPLFFBQTNCLFNBQ3ZCLE1BQU8sQ0FBQyxHQUFPLE1BQU8sRUFBUSxLQUFLLEVBRXZDLE1BQU8sQ0FBQyxLQUFNLElBQUksRUFFdEIsRUFDQSxFQUFlLDRCQUE0QixZQUN6Qyw4QkFDRixJQUFJLEVBQXFCLE9BQU8seUJBQzlCLEVBQWUsNEJBQ2YsTUFDRixFQUNBLEdBQ0UsRUFBbUIsY0FDbkIsT0FBTyxlQUNMLEVBQWUsNEJBQ2YsT0FDQSxDQUFFLE1BQU8sNkJBQThCLENBQ3pDLEVBQ0YsSUFBSSxFQUNBLEVBQWUsNEJBQTRCLEVBQzdDLEVBQWMsRUFBc0IsR0FDcEMsRUFBZSxFQUFzQixHQUN2QyxHQUFJLEdBQWUsRUFBYyxDQUMvQixJQUFJLEVBQWMsRUFBWSxNQUFNO0FBQUEsQ0FBSSxFQUN0QyxFQUFlLEVBQWEsTUFBTTtBQUFBLENBQUksRUFDeEMsSUFDRSxFQUF3QixFQUFxQixFQUM3QyxFQUFxQixFQUFZLFNBQ2hDLEVBQVksR0FBb0IsU0FDL0IsNkJBQ0YsR0FHQSxJQUNGLEtBRUUsRUFBd0IsRUFBYSxTQUNwQyxFQUFhLEdBQXVCLFNBQ25DLDZCQUNGLEdBR0EsSUFDRixHQUNFLElBQXVCLEVBQVksUUFDbkMsSUFBMEIsRUFBYSxPQUV2QyxJQUNFLEVBQXFCLEVBQVksT0FBUyxFQUN4QyxFQUF3QixFQUFhLE9BQVMsRUFDaEQsR0FBSyxHQUNMLEdBQUssR0FDTCxFQUFZLEtBQ1YsRUFBYSxJQUdmLElBQ0osS0FFRSxHQUFLLEdBQXNCLEdBQUssRUFDaEMsSUFBc0IsSUFFdEIsR0FDRSxFQUFZLEtBQ1osRUFBYSxHQUNiLENBQ0EsR0FBVSxJQUFOLEdBQWtDLElBQU4sRUFDOUIsRUFDRSxJQUNHLElBQ0QsSUFDQSxFQUFJLEdBQ0YsRUFBWSxLQUNWLEVBQWEsR0FDakIsQ0FDQSxJQUFJLEVBQ0Y7QUFBQSxFQUNBLEVBQVksR0FBb0IsUUFDOUIsV0FDQSxNQUNGLEVBTUYsT0FMQSxFQUFHLGFBQ0QsRUFBTyxTQUFTLGFBQWEsSUFDNUIsRUFBUyxFQUFPLFFBQVEsY0FBZSxFQUFHLFdBQVcsVUFDbEMsSUFBdEIsWUFDRSxHQUFvQixJQUFJLEVBQUksQ0FBTSxFQUM3QixRQUVKLEdBQUssR0FBc0IsR0FBSyxHQUV6QyxlQUdOLENBQ0EsQUFBQyxHQUFVLEdBQ1IsRUFBcUIsRUFBSSxFQUMxQixHQUFhLEVBQ1osTUFBTSxrQkFBb0IsRUFNL0IsT0FKQSxHQUFlLEVBQWMsRUFBSyxFQUFHLGFBQWUsRUFBRyxLQUFPLElBQzFELEdBQThCLENBQVcsRUFDekMsVUFDa0IsSUFBdEIsWUFBNEIsR0FBb0IsSUFBSSxFQUFJLENBQVcsRUFDNUQsRUFFVCxTQUFTLEVBQWEsQ0FBQyxFQUFPLENBQzVCLE9BQVEsRUFBTSxTQUNQLFFBQ0EsUUFDQSxHQUNILE9BQU8sR0FBOEIsRUFBTSxJQUFJLE1BQzVDLElBQ0gsT0FBTyxHQUE4QixNQUFNLE1BQ3hDLElBQ0gsT0FBTyxHQUE4QixVQUFVLE1BQzVDLElBQ0gsT0FBTyxHQUE4QixjQUFjLE1BQ2hELE9BQ0EsSUFDSCxPQUFRLEVBQVEsR0FBNkIsRUFBTSxLQUFNLEVBQUUsRUFBSSxNQUM1RCxJQUNILE9BQ0csRUFBUSxHQUE2QixFQUFNLEtBQUssT0FBUSxFQUFFLEVBQUksTUFFOUQsR0FDSCxPQUFRLEVBQVEsR0FBNkIsRUFBTSxLQUFNLEVBQUUsRUFBSSxVQUUvRCxNQUFPLElBR2IsU0FBUyxFQUEyQixDQUFDLEVBQWdCLENBQ25ELEdBQUksQ0FDRixJQUFJLEVBQU8sR0FDWCxFQUFHLENBQ0QsR0FBUSxHQUFjLENBQWMsRUFDcEMsSUFBSSxFQUFZLEVBQWUsV0FDL0IsR0FBSSxFQUNGLFFBQVMsRUFBSSxFQUFVLE9BQVMsRUFBRyxHQUFLLEVBQUcsSUFBSyxDQUM5QyxJQUFJLEVBQVEsRUFBVSxHQUN0QixVQUF3QixFQUFNLE9BQTFCLFNBQWdDLENBQ2xDLElBQUksRUFBd0IsRUFDMUIsRUFBTSxFQUFNLElBQ1YsRUFBMkIsR0FDN0IsRUFBTSxNQUFRLEVBQU0sS0FBTyxFQUFNLElBQU0sR0FDekMsRUFDQSxFQUFPLEVBQXdCLEdBR3JDLEVBQWlCLEVBQWUsYUFDekIsR0FDVCxPQUFPLFFBQ0EsRUFBUCxDQUNBLE1BQU87QUFBQSwwQkFBK0IsRUFBRSxRQUFVO0FBQUEsRUFBTyxFQUFFLE9BRy9ELFNBQVMsRUFBbUMsRUFBRyxDQUM3QyxHQUFhLEtBQVQsS0FBa0IsT0FBTyxLQUM3QixJQUFJLEVBQVEsR0FBUSxZQUNwQixPQUFlLEdBQVIsS0FBZ0IsRUFBMEIsQ0FBSyxFQUFJLEtBRTVELFNBQVMsRUFBeUIsRUFBRyxDQUNuQyxPQUFnQixLQUFULEtBQW1CLEdBQUssR0FBNEIsRUFBTyxFQUVwRSxTQUFTLEVBQWlCLENBQUMsRUFBTyxFQUFVLEVBQU0sRUFBTSxFQUFNLEVBQU0sRUFBTSxDQUN4RSxJQUFJLEVBQWdCLEdBQ3BCLEVBQXFCLGdCQUNWLElBQVQsS0FBaUIsS0FBTyxHQUMxQixHQUFjLEdBQ2QsR0FBVSxFQUNWLEdBQUksQ0FDRixPQUFPLEVBQVMsRUFBTSxFQUFNLEVBQU0sRUFBTSxDQUFJLFNBQzVDLENBQ0EsR0FBVSxFQUVaLE1BQU0sTUFDSixpRkFDRixFQUVGLFNBQVMsQ0FBc0IsQ0FBQyxFQUFPLENBQ3JDLElBQUksRUFBTyxFQUNULEVBQWlCLEVBQ25CLEdBQUksRUFBTSxVQUFXLEtBQU8sRUFBSyxRQUFVLEVBQU8sRUFBSyxXQUNsRCxDQUNILEVBQVEsRUFDUixFQUNFLENBQUMsRUFBTyxHQUNDLEVBQUssTUFBUSxRQUFwQixJQUE4QixFQUFpQixFQUFLLFFBQ25ELEVBQVEsRUFBSyxhQUNYLEdBRVQsT0FBYSxFQUFLLE1BQVgsRUFBaUIsRUFBaUIsS0FFM0MsU0FBUyxFQUE0QixDQUFDLEVBQU8sQ0FDM0MsR0FBVyxFQUFNLE1BQWIsR0FBa0IsQ0FDcEIsSUFBSSxFQUFnQixFQUFNLGNBSTFCLEdBSFMsSUFBVCxPQUNJLEVBQVEsRUFBTSxVQUNQLElBQVQsT0FBbUIsRUFBZ0IsRUFBTSxnQkFDOUIsSUFBVCxLQUF3QixPQUFPLEVBQWMsV0FFbkQsT0FBTyxLQUVULFNBQVMsRUFBZSxDQUFDLEVBQU8sQ0FDOUIsR0FBSSxFQUF1QixDQUFLLElBQU0sRUFDcEMsTUFBTSxNQUFNLGdEQUFnRCxFQUVoRSxTQUFTLEVBQTZCLENBQUMsRUFBTyxDQUM1QyxJQUFJLEVBQVksRUFBTSxVQUN0QixJQUFLLEVBQVcsQ0FFZCxHQURBLEVBQVksRUFBdUIsQ0FBSyxFQUMzQixJQUFULEtBQ0YsTUFBTSxNQUFNLGdEQUFnRCxFQUM5RCxPQUFPLElBQWMsRUFBUSxLQUFPLEVBRXRDLFFBQVMsRUFBSSxFQUFPLEVBQUksSUFBZSxDQUNyQyxJQUFJLEVBQVUsRUFBRSxPQUNoQixHQUFhLElBQVQsS0FBa0IsTUFDdEIsSUFBSSxFQUFVLEVBQVEsVUFDdEIsR0FBYSxJQUFULEtBQWtCLENBRXBCLEdBREEsRUFBSSxFQUFRLE9BQ0MsSUFBVCxLQUFZLENBQ2QsRUFBSSxFQUNKLFNBRUYsTUFFRixHQUFJLEVBQVEsUUFBVSxFQUFRLE1BQU8sQ0FDbkMsSUFBSyxFQUFVLEVBQVEsTUFBTyxHQUFXLENBQ3ZDLEdBQUksSUFBWSxFQUFHLE9BQU8sR0FBZ0IsQ0FBTyxFQUFHLEVBQ3BELEdBQUksSUFBWSxFQUFHLE9BQU8sR0FBZ0IsQ0FBTyxFQUFHLEVBQ3BELEVBQVUsRUFBUSxRQUVwQixNQUFNLE1BQU0sZ0RBQWdELEVBRTlELEdBQUksRUFBRSxTQUFXLEVBQUUsT0FBUSxBQUFDLEVBQUksRUFBVyxFQUFJLE1BQzFDLENBQ0gsUUFBUyxFQUFlLEdBQUksRUFBUyxFQUFRLE1BQU8sR0FBVSxDQUM1RCxHQUFJLElBQVcsRUFBRyxDQUNoQixFQUFlLEdBQ2YsRUFBSSxFQUNKLEVBQUksRUFDSixNQUVGLEdBQUksSUFBVyxFQUFHLENBQ2hCLEVBQWUsR0FDZixFQUFJLEVBQ0osRUFBSSxFQUNKLE1BRUYsRUFBUyxFQUFPLFFBRWxCLElBQUssRUFBYyxDQUNqQixJQUFLLEVBQVMsRUFBUSxNQUFPLEdBQVUsQ0FDckMsR0FBSSxJQUFXLEVBQUcsQ0FDaEIsRUFBZSxHQUNmLEVBQUksRUFDSixFQUFJLEVBQ0osTUFFRixHQUFJLElBQVcsRUFBRyxDQUNoQixFQUFlLEdBQ2YsRUFBSSxFQUNKLEVBQUksRUFDSixNQUVGLEVBQVMsRUFBTyxRQUVsQixJQUFLLEVBQ0gsTUFBTSxNQUNKLDhIQUNGLEdBR04sR0FBSSxFQUFFLFlBQWMsRUFDbEIsTUFBTSxNQUNKLDhIQUNGLEVBRUosR0FBVSxFQUFFLE1BQVIsRUFDRixNQUFNLE1BQU0sZ0RBQWdELEVBQzlELE9BQU8sRUFBRSxVQUFVLFVBQVksRUFBSSxFQUFRLEVBRTdDLFNBQVMsRUFBd0IsQ0FBQyxFQUFNLENBQ3RDLElBQUksRUFBTSxFQUFLLElBQ2YsR0FBVSxJQUFOLEdBQW9CLElBQVAsSUFBcUIsSUFBUCxJQUFvQixJQUFOLEVBQVcsT0FBTyxFQUMvRCxJQUFLLEVBQU8sRUFBSyxNQUFnQixJQUFULE1BQWlCLENBRXZDLEdBREEsRUFBTSxHQUF5QixDQUFJLEVBQ3RCLElBQVQsS0FBYyxPQUFPLEVBQ3pCLEVBQU8sRUFBSyxRQUVkLE9BQU8sS0FFVCxTQUFTLEVBQVksQ0FBQyxFQUFjLENBQ2xDLE1BQU8sQ0FBRSxRQUFTLENBQWEsRUFFakMsU0FBUyxFQUFHLENBQUMsRUFBUSxFQUFPLENBQzFCLEVBQUksR0FDQSxRQUFRLE1BQU0saUJBQWlCLEdBQzlCLElBQVUsR0FBVyxLQUNwQixRQUFRLE1BQU0sMEJBQTBCLEVBQ3pDLEVBQU8sUUFBVSxHQUFXLElBQzVCLEdBQVcsSUFBa0IsS0FDN0IsR0FBVyxJQUFrQixLQUM5QixNQUVOLFNBQVMsRUFBSSxDQUFDLEVBQVEsRUFBTyxFQUFPLENBQ2xDLEtBQ0EsR0FBVyxJQUFrQixFQUFPLFFBQ3BDLEdBQVcsSUFBa0IsRUFDN0IsRUFBTyxRQUFVLEVBRW5CLFNBQVMsRUFBZSxDQUFDLEVBQUcsQ0FLMUIsT0FKUyxJQUFULE1BQ0UsUUFBUSxNQUNOLHNHQUNGLEVBQ0ssRUFFVCxTQUFTLEVBQWlCLENBQUMsRUFBTyxFQUFrQixDQUNsRCxHQUFLLEdBQXlCLEVBQWtCLENBQUssRUFDckQsR0FBSyxHQUF5QixFQUFPLENBQUssRUFDMUMsR0FBSyxHQUFvQixLQUFNLENBQUssRUFDcEMsSUFBSSxFQUFrQixFQUFpQixTQUN2QyxPQUFRLE9BQ0QsT0FDQSxJQUNILEVBQXdCLElBQU4sRUFBd0IsWUFBYyxZQUN4RCxHQUFvQixFQUNsQixFQUFpQixrQkFDZCxFQUFtQixFQUFpQixjQUNuQyxHQUFrQixDQUFnQixFQUNsQyxHQUNGLEdBQ0osY0FFQSxHQUNJLEVBQ00sSUFBTixFQUNJLEVBQWlCLFdBQ2pCLEVBQ0wsRUFBa0IsRUFBaUIsUUFDbkMsRUFBbUIsRUFBaUIsYUFFckMsQUFBQyxFQUFtQixHQUFrQixDQUFnQixFQUNuRCxFQUFtQixHQUNsQixFQUNBLENBQ0YsTUFFRixRQUFRLE9BQ0QsTUFDSCxFQUFtQixHQUNuQixVQUNHLE9BQ0gsRUFBbUIsR0FDbkIsY0FFQSxFQUFtQixJQUc3QixFQUFrQixFQUFnQixZQUFZLEVBQzlDLEVBQWtCLEdBQXVCLEtBQU0sQ0FBZSxFQUM5RCxFQUFrQixDQUNoQixRQUFTLEVBQ1QsYUFBYyxDQUNoQixFQUNBLEdBQUksR0FBb0IsQ0FBSyxFQUM3QixHQUFLLEdBQW9CLEVBQWlCLENBQUssRUFFakQsU0FBUyxFQUFnQixDQUFDLEVBQU8sQ0FDL0IsR0FBSSxHQUFvQixDQUFLLEVBQzdCLEdBQUksR0FBeUIsQ0FBSyxFQUNsQyxHQUFJLEdBQXlCLENBQUssRUFFcEMsU0FBUyxFQUFjLEVBQUcsQ0FDeEIsT0FBTyxHQUFnQixHQUFtQixPQUFPLEVBRW5ELFNBQVMsRUFBZSxDQUFDLEVBQU8sQ0FDOUIsQUFBUyxFQUFNLGdCQUFmLE1BQ0UsR0FBSyxHQUE4QixFQUFPLENBQUssRUFDakQsSUFBSSxFQUFVLEdBQWdCLEdBQW1CLE9BQU8sRUFDcEQsRUFBTyxFQUFNLEtBQ2IsRUFBYyxHQUF3QixFQUFRLFFBQVMsQ0FBSSxFQUMvRCxFQUFPLEdBQXVCLEVBQVEsYUFBYyxDQUFJLEVBQ3hELEVBQWMsQ0FBRSxRQUFTLEVBQWEsYUFBYyxDQUFLLEVBQ3pELElBQVksSUFDVCxHQUFLLEdBQXlCLEVBQU8sQ0FBSyxFQUMzQyxHQUFLLEdBQW9CLEVBQWEsQ0FBSyxHQUUvQyxTQUFTLEVBQWMsQ0FBQyxFQUFPLENBQzdCLEdBQXdCLFVBQVksSUFDakMsR0FBSSxHQUFvQixDQUFLLEVBQUcsR0FBSSxHQUF5QixDQUFLLEdBQ3JFLEdBQTZCLFVBQVksSUFDdEMsR0FBSSxHQUE4QixDQUFLLEVBQ3ZDLEdBQXNCLGNBQWdCLElBRTNDLFNBQVMsRUFBUSxDQUFDLEVBQU8sQ0FDdkIsY0FDeUIsU0FBdEIsWUFDQyxPQUFPLGFBQ1AsRUFBTSxPQUFPLGNBQ2YsRUFBTSxZQUFZLE1BQ2xCLFNBR0osU0FBUyxFQUFpQixDQUFDLEVBQU8sQ0FDaEMsR0FBSSxDQUNGLE9BQU8sR0FBbUIsQ0FBSyxFQUFHLFNBQzNCLEVBQVAsQ0FDQSxNQUFPLElBR1gsU0FBUyxFQUFrQixDQUFDLEVBQU8sQ0FDakMsTUFBTyxHQUFLLEVBRWQsU0FBUyxFQUE0QixDQUFDLEVBQU8sRUFBZSxDQUMxRCxHQUFJLEdBQWtCLENBQUssRUFDekIsT0FDRSxRQUFRLE1BQ04sc0hBQ0EsRUFDQSxHQUFTLENBQUssQ0FDaEIsRUFDQSxHQUFtQixDQUFLLEVBRzlCLFNBQVMsRUFBOEIsQ0FBQyxFQUFPLEVBQVUsQ0FDdkQsR0FBSSxHQUFrQixDQUFLLEVBQ3pCLE9BQ0UsUUFBUSxNQUNOLHlIQUNBLEVBQ0EsR0FBUyxDQUFLLENBQ2hCLEVBQ0EsR0FBbUIsQ0FBSyxFQUc5QixTQUFTLEVBQWlDLENBQUMsRUFBTyxDQUNoRCxHQUFJLEdBQWtCLENBQUssRUFDekIsT0FDRSxRQUFRLE1BQ04sa0tBQ0EsR0FBUyxDQUFLLENBQ2hCLEVBQ0EsR0FBbUIsQ0FBSyxFQUc5QixTQUFTLEVBQWUsQ0FBQyxFQUFXLENBQ2xDLFVBQTJCLGlDQUF2QixZQUF1RCxNQUFPLEdBQ2xFLElBQUksRUFBTywrQkFDWCxHQUFJLEVBQUssV0FBWSxNQUFPLEdBQzVCLElBQUssRUFBSyxjQUNSLE9BQ0UsUUFBUSxNQUNOLDZLQUNGLEVBQ0EsR0FFSixHQUFJLENBQ0YsQUFBQyxHQUFhLEVBQUssT0FBTyxDQUFTLEVBQUssR0FBZSxRQUNoRCxFQUFQLENBQ0EsUUFBUSxNQUFNLGtEQUFtRCxDQUFHLEVBRXRFLE9BQU8sRUFBSyxTQUFXLEdBQUssR0FFOUIsU0FBUyxFQUFjLENBQUMsRUFBTSxFQUFlLENBQzNDLEdBQUksV0FBc0MsR0FBYSxvQkFBbkMsV0FDbEIsR0FBSSxDQUNGLElBQUksR0FBb0IsRUFBSyxRQUFRLE1BQVEsT0FBOUIsSUFDZixPQUFRLFFBQ0QsR0FDSCxJQUFJLEVBQW9CLEdBQ3hCLFdBQ0csR0FDSCxFQUFvQixHQUNwQixXQUNHLEdBQ0gsRUFBb0IsR0FDcEIsV0FDRyxHQUNILEVBQW9CLEdBQ3BCLGNBRUEsRUFBb0IsR0FFeEIsR0FBYSxrQkFDWCxHQUNBLEVBQ0EsRUFDQSxDQUNGLFFBQ08sRUFBUCxDQUNBLEtBQ0ksR0FBaUIsR0FDbkIsUUFBUSxNQUNOLGlEQUNBLENBQ0YsSUFHUixTQUFTLEVBQTBCLENBQUMsRUFBaUIsQ0FHbkQsVUFGc0IsS0FBdEIsWUFDRSxHQUE4QixDQUFlLEVBQzNDLFdBQXNDLEdBQWEsZ0JBQW5DLFdBQ2xCLEdBQUksQ0FDRixHQUFhLGNBQWMsR0FBWSxDQUFlLFFBQy9DLEVBQVAsQ0FDQSxLQUNJLEdBQWlCLEdBQ25CLFFBQVEsTUFDTixpREFDQSxDQUNGLElBR1IsU0FBUyxFQUFvQixDQUFDLEVBQWdCLENBQzVDLEVBQXlCLEVBRTNCLFNBQVMsRUFBaUIsRUFBRyxDQUMzQixBQUFTLElBQVQsYUFDd0IsRUFBdUIsb0JBQTdDLFlBQ0EsRUFBdUIsa0JBQWtCLEVBRTdDLFNBQVMsQ0FBMEIsQ0FBQyxFQUFPLENBQ3pDLEFBQVMsSUFBVCxhQUVXLEVBQXVCLDZCQURoQyxZQUVBLEVBQXVCLDJCQUEyQixDQUFLLEVBRTNELFNBQVMsRUFBMEIsRUFBRyxDQUNwQyxBQUFTLElBQVQsYUFFVyxFQUF1Qiw2QkFEaEMsWUFFQSxFQUF1QiwyQkFBMkIsRUFFdEQsU0FBUyxFQUFpQixDQUFDLEVBQU8sQ0FDaEMsQUFBUyxJQUFULGFBQ3dCLEVBQXVCLG9CQUE3QyxZQUNBLEVBQXVCLGtCQUFrQixDQUFLLEVBRWxELFNBQVMsRUFBaUIsRUFBRyxDQUMzQixBQUFTLElBQVQsYUFDd0IsRUFBdUIsb0JBQTdDLFlBQ0EsRUFBdUIsa0JBQWtCLEVBRTdDLFNBQVMsRUFBd0IsQ0FBQyxFQUFPLEVBQU0sQ0FDN0MsQUFBUyxJQUFULGFBQ3dCLEVBQXVCLDJCQUE3QyxZQUNBLEVBQXVCLHlCQUF5QixFQUFPLENBQUksRUFFL0QsU0FBUyxFQUFhLENBQUMsRUFBRyxDQUV4QixPQURBLEtBQU8sRUFDTSxJQUFOLEVBQVUsR0FBTSxJQUFPLEdBQUksQ0FBQyxFQUFJLEdBQU8sR0FBTSxFQUV0RCxTQUFTLENBQWUsQ0FBQyxFQUFNLENBQzdCLEdBQUksRUFBTyxFQUFHLE1BQU8sb0JBQ3JCLEdBQUksRUFBTyxFQUFHLE1BQU8sT0FDckIsR0FBSSxFQUFPLEVBQUcsTUFBTywyQkFDckIsR0FBSSxFQUFPLEVBQUcsTUFBTyxrQkFDckIsR0FBSSxFQUFPLEdBQUksTUFBTyxtQkFDdEIsR0FBSSxFQUFPLEdBQUksTUFBTyxVQUN0QixHQUFJLEVBQU8sR0FBSSxNQUFPLHNCQUN0QixHQUFJLEVBQU8sUUFBUyxNQUFPLGFBQzNCLEdBQUksRUFBTyxTQUFVLE1BQU8sUUFDNUIsR0FBSSxFQUFPLFNBQVUsTUFBTyxxQkFDNUIsR0FBSSxFQUFPLFVBQVcsTUFBTyxnQkFDN0IsR0FBSSxFQUFPLFVBQVcsTUFBTyxPQUM3QixHQUFJLEVBQU8sVUFBVyxNQUFPLFlBQzdCLEdBQUksRUFBTyxXQUFZLE1BQU8sV0FFaEMsU0FBUyxFQUF1QixDQUFDLEVBQU8sQ0FDdEMsSUFBSSxFQUFtQixFQUFRLEdBQy9CLEdBQVUsSUFBTixFQUF3QixPQUFPLEVBQ25DLE9BQVEsR0FBUyxPQUNWLEdBQ0gsTUFBTyxPQUNKLEdBQ0gsTUFBTyxPQUNKLEdBQ0gsTUFBTyxPQUNKLEdBQ0gsTUFBTyxPQUNKLElBQ0gsTUFBTyxRQUNKLElBQ0gsTUFBTyxRQUNKLElBQ0gsTUFBTyxRQUNKLFNBQ0EsU0FDQSxTQUNBLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsV0FDQSxXQUNBLFdBQ0EsWUFDQSxZQUNBLFlBQ0EsYUFDQSxTQUNILE9BQU8sRUFBUSxZQUNaLGFBQ0EsYUFDQSxjQUNBLFVBQ0gsT0FBTyxFQUFRLGFBQ1osVUFDSCxNQUFPLGNBQ0osV0FDSCxNQUFPLGVBQ0osV0FDSCxNQUFPLGVBQ0osV0FDSCxNQUFPLGVBQ0osWUFDSCxNQUFPLFdBRVAsT0FDRSxRQUFRLE1BQ04sMkRBQ0YsRUFDQSxHQUlSLFNBQVMsRUFBWSxDQUFDLEVBQU0sRUFBVSxDQUNwQyxJQUFJLEVBQWUsRUFBSyxhQUN4QixHQUFVLElBQU4sRUFBb0IsTUFBTyxHQUMvQixJQUFJLEVBQVksRUFDZCxFQUFpQixFQUFLLGVBQ3RCLEVBQWMsRUFBSyxZQUNuQixFQUFZLEVBQUssVUFDbkIsRUFBYSxFQUFLLGdCQUFYLEVBQ1AsSUFBSSxFQUFzQixFQUFlLFVBcUJ6QyxPQXBCTSxJQUFOLEdBQ00sRUFBZSxHQUF1QixFQUNsQyxJQUFOLEVBQ0ssRUFBWSxHQUF3QixDQUFZLEdBQy9DLEdBQWUsRUFDWCxJQUFOLEVBQ0ssRUFBWSxHQUF3QixDQUFXLEVBQ2hELElBQ0UsRUFBWSxHQUF1QixFQUMvQixJQUFOLElBQ0csRUFBWSxHQUF3QixDQUFTLE9BQ3RELEVBQXNCLEdBQWdCLEVBQ2xDLElBQU4sRUFDSyxFQUFZLEdBQXdCLENBQW1CLEVBQ2xELElBQU4sRUFDRyxFQUFZLEdBQXdCLENBQVcsRUFDaEQsSUFDRSxFQUFZLEdBQWdCLEVBQ3hCLElBQU4sSUFDRyxFQUFZLEdBQXdCLENBQVMsS0FDN0MsSUFBTixFQUNILEVBQ00sSUFBTixHQUNFLElBQWEsSUFDTixFQUFXLEtBQWxCLElBQ0UsRUFBaUIsR0FBYSxFQUMvQixFQUFZLEdBQVksRUFDekIsR0FBa0IsR0FDUixJQUFQLEtBQWdDLEVBQVksV0FBbkIsR0FDNUIsRUFDQSxFQUVSLFNBQVMsRUFBeUIsQ0FBQyxFQUFNLEVBQWEsQ0FDcEQsT0FFRyxFQUFLLGVBQ0YsRUFBSyxnQkFBa0IsRUFBSyxhQUM5QixLQUhGLEVBTUosU0FBUyxFQUFxQixDQUFDLEVBQU0sRUFBYSxDQUNoRCxPQUFRLE9BQ0QsT0FDQSxPQUNBLE9BQ0EsR0FDSCxPQUFPLEVBQWMsUUFDbEIsUUFDQSxRQUNBLFFBQ0EsU0FDQSxTQUNBLFNBQ0EsVUFDQSxVQUNBLFVBQ0EsVUFDQSxXQUNBLFdBQ0EsV0FDQSxZQUNBLFlBQ0EsWUFDQSxhQUNBLFNBQ0gsT0FBTyxFQUFjLFNBQ2xCLGFBQ0EsYUFDQSxjQUNBLFVBQ0gsTUFBTyxPQUNKLGNBQ0EsZUFDQSxlQUNBLGVBQ0EsWUFDSCxNQUFPLFdBRVAsT0FDRSxRQUFRLE1BQ04sMkRBQ0YsRUFDQSxJQUlSLFNBQVMsRUFBdUIsRUFBRyxDQUNqQyxJQUFJLEVBQU8sR0FHWCxPQUZBLEtBQXVCLEdBQ2hCLEdBQXFCLFdBQTVCLElBQXlDLEdBQXFCLEtBQ3ZELEVBRVQsU0FBUyxFQUFrQixFQUFHLENBQzVCLElBQUksRUFBTyxHQUdYLE9BRkEsS0FBa0IsR0FDWCxHQUFnQixZQUF2QixJQUFxQyxHQUFnQixTQUM5QyxFQUVULFNBQVMsRUFBYSxDQUFDLEVBQVMsQ0FDOUIsUUFBUyxFQUFVLENBQUMsRUFBRyxFQUFJLEVBQUcsR0FBSyxFQUFHLElBQUssRUFBUSxLQUFLLENBQU8sRUFDL0QsT0FBTyxFQUVULFNBQVMsRUFBaUIsQ0FBQyxFQUFNLEVBQVksQ0FDM0MsRUFBSyxjQUFnQixFQUNQLElBQWQsWUFDSSxFQUFLLGVBQWlCLEVBQ3ZCLEVBQUssWUFBYyxFQUNuQixFQUFLLFVBQVksR0FFdEIsU0FBUyxFQUFnQixDQUN2QixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLElBQUksRUFBeUIsRUFBSyxhQUNsQyxFQUFLLGFBQWUsRUFDcEIsRUFBSyxlQUFpQixFQUN0QixFQUFLLFlBQWMsRUFDbkIsRUFBSyxVQUFZLEVBQ2pCLEVBQUssY0FBZ0IsRUFDckIsRUFBSyxnQkFBa0IsRUFDdkIsRUFBSyw0QkFBOEIsRUFDbkMsRUFBSyxvQkFBc0IsRUFDM0IsSUFBeUIsY0FBckIsRUFDcUIsZ0JBQXZCLEVBQ3FCLGNBQXJCLEdBRGtCLEVBRXBCLElBQ0UsRUFBaUIsR0FBMEIsRUFDM0MsRUFBSSxHQUVKLENBQ0EsSUFBSSxFQUFRLEdBQUssR0FBTSxDQUFjLEVBQ25DLEVBQU8sR0FBSyxFQUNkLEVBQWMsR0FBUyxFQUN2QixFQUFnQixHQUFTLEdBQ3pCLElBQUksRUFBdUIsRUFBYyxHQUN6QyxHQUFhLElBQVQsS0FDRixJQUNFLEVBQWMsR0FBUyxLQUFNLEVBQVEsRUFDckMsRUFBUSxFQUFxQixPQUM3QixJQUNBLENBQ0EsSUFBSSxFQUFTLEVBQXFCLEdBQ2xDLEFBQVMsSUFBVCxPQUFvQixFQUFPLE1BQVEsWUFFdkMsSUFBbUIsRUFFckIsQUFBTSxJQUFOLEdBQXFCLEdBQXdCLEVBQU0sRUFBYSxDQUFDLEVBQzNELElBQU4sR0FDUSxJQUFOLEdBQ00sRUFBSyxNQUFYLElBQ0MsRUFBSyxnQkFDSixJQUF3QixHQUEwQixJQUV4RCxTQUFTLEVBQXVCLENBQUMsRUFBTSxFQUFhLEVBQWdCLENBQ2xFLEVBQUssY0FBZ0IsRUFDckIsRUFBSyxpQkFBbUIsRUFDeEIsSUFBSSxFQUFtQixHQUFLLEdBQU0sQ0FBVyxFQUM3QyxFQUFLLGdCQUFrQixFQUN2QixFQUFLLGNBQWMsR0FDakIsRUFBSyxjQUFjLEdBQ25CLFdBQ0MsRUFBaUIsUUFFdEIsU0FBUyxFQUFpQixDQUFDLEVBQU0sRUFBZ0IsQ0FDL0MsSUFBSSxFQUFzQixFQUFLLGdCQUFrQixFQUNqRCxJQUFLLEVBQU8sRUFBSyxjQUFlLEdBQXNCLENBQ3BELElBQUksRUFBUSxHQUFLLEdBQU0sQ0FBa0IsRUFDdkMsRUFBTyxHQUFLLEVBQ2QsQUFBQyxFQUFPLEVBQW1CLEVBQUssR0FBUyxJQUN0QyxFQUFLLElBQVUsR0FDbEIsSUFBdUIsR0FHM0IsU0FBUyxFQUFrQixDQUFDLEVBQU0sRUFBTyxFQUFPLENBQzlDLEdBQUksR0FDRixJQUFLLEVBQU8sRUFBSyx1QkFBd0IsRUFBSSxHQUFTLENBQ3BELElBQUksRUFBUSxHQUFLLEdBQU0sQ0FBSyxFQUMxQixFQUFPLEdBQUssRUFDZCxFQUFLLEdBQU8sSUFBSSxDQUFLLEVBQ3JCLElBQVUsR0FHaEIsU0FBUyxFQUEyQixDQUFDLEVBQU0sRUFBTyxDQUNoRCxHQUFJLEdBQ0YsUUFDb0MsdUJBQTlCLEVBQ3NCLGlCQUF4QixHQUFtQixFQUNyQixFQUFJLEdBRUosQ0FDQSxJQUFJLEVBQVEsR0FBSyxHQUFNLENBQUssRUFDNUIsRUFBTyxHQUFLLEVBQ1osRUFBUSxFQUF1QixHQUMvQixFQUFJLEVBQU0sT0FDUCxFQUFNLGdCQUFpQixDQUFDLEVBQU8sQ0FDOUIsSUFBSSxFQUFZLEVBQU0sVUFDdEIsQUFBVSxJQUFULE1BQXNCLEVBQWlCLElBQUksQ0FBUyxHQUNuRCxFQUFpQixJQUFJLENBQUssRUFDN0IsRUFDRCxFQUFNLE1BQU0sR0FDZCxJQUFVLEdBR2hCLFNBQVMsRUFBb0IsQ0FBQyxFQUFPLENBRW5DLE9BREEsSUFBVSxFQUNHLEtBQU4sR0FBK0IsR0FBd0IsRUFDcEQsS0FBTixHQUFpQyxHQUEwQixHQUNsRCxFQUFRLGFBQWYsRUFDRSxHQUNBLEdBQ0YsR0FDRixHQUVOLFNBQVMsRUFBcUIsRUFBRyxDQUMvQixJQUFJLEVBQWlCLEdBQXdCLEVBQzdDLEdBQVUsSUFBTixFQUFzQixPQUFPLEVBRWpDLE9BREEsRUFBaUIsT0FBTyxNQUNOLElBQU4sT0FDUixHQUNBLEdBQWlCLEVBQWUsSUFBSSxFQUUxQyxTQUFTLEVBQWUsQ0FBQyxFQUFVLEVBQUksQ0FDckMsSUFBSSxFQUFtQixHQUF3QixFQUMvQyxHQUFJLENBQ0YsT0FBUSxHQUF3QixFQUFJLEVBQVcsRUFBRyxTQUNsRCxDQUNBLEdBQXdCLEVBQUksR0FHaEMsU0FBUyxFQUFxQixDQUFDLEVBQU0sQ0FDbkMsT0FBTyxFQUFLLFdBQ0wsRUFBSyxXQUNMLEVBQUssV0FDTCxFQUFLLFdBQ0wsRUFBSyxJQUVkLFNBQVMsRUFBMEIsQ0FBQyxFQUFZLENBQzlDLElBQUksRUFBYSxFQUFXLElBQzVCLEdBQUksRUFBWSxPQUFPLEVBQ3ZCLFFBQVMsRUFBYSxFQUFXLFdBQVksR0FBYyxDQUN6RCxHQUNHLEVBQ0MsRUFBVyxLQUNYLEVBQVcsSUFDYixDQUVBLEdBREEsRUFBYSxFQUFXLFVBRWIsRUFBVyxRQUFwQixNQUNVLElBQVQsTUFBZ0MsRUFBVyxRQUFwQixLQUV4QixJQUNFLEVBQWEsR0FBMEIsQ0FBVSxFQUN4QyxJQUFULE1BRUEsQ0FDQSxHQUFLLEVBQWEsRUFBVyxJQUMzQixPQUFPLEVBQ1QsRUFBYSxHQUEwQixDQUFVLEVBRXJELE9BQU8sRUFFVCxFQUFhLEVBQ2IsRUFBYSxFQUFXLFdBRTFCLE9BQU8sS0FFVCxTQUFTLEVBQW1CLENBQUMsRUFBTSxDQUNqQyxHQUNHLEVBQU8sRUFBSyxLQUF3QixFQUFLLElBQzFDLENBQ0EsSUFBSSxFQUFNLEVBQUssSUFDZixHQUNRLElBQU4sR0FDTSxJQUFOLEdBQ08sSUFBUCxJQUNPLElBQVAsSUFDTyxJQUFQLElBQ00sSUFBTixFQUVBLE9BQU8sRUFFWCxPQUFPLEtBRVQsU0FBUyxFQUFtQixDQUFDLEVBQU0sQ0FDakMsSUFBSSxFQUFNLEVBQUssSUFDZixHQUFVLElBQU4sR0FBb0IsSUFBUCxJQUFxQixJQUFQLElBQW9CLElBQU4sRUFDM0MsT0FBTyxFQUFLLFVBQ2QsTUFBTSxNQUFNLHdDQUF3QyxFQUV0RCxTQUFTLEVBQW9CLENBQUMsRUFBTSxDQUNsQyxJQUFJLEVBQVksRUFBSyxJQUlyQixPQUhBLElBQ0csRUFBWSxFQUFLLElBQ2hCLENBQUUsZ0JBQWlCLElBQUksSUFBTyxpQkFBa0IsSUFBSSxHQUFNLEdBQ3ZELEVBRVQsU0FBUyxFQUFtQixDQUFDLEVBQU0sQ0FDakMsRUFBSyxJQUEyQixHQUVsQyxTQUFTLEVBQXFCLENBQUMsRUFBa0IsRUFBYyxDQUM3RCxHQUFvQixFQUFrQixDQUFZLEVBQ2xELEdBQW9CLEVBQW1CLFVBQVcsQ0FBWSxFQUVoRSxTQUFTLEVBQW1CLENBQUMsRUFBa0IsRUFBYyxDQUMzRCxHQUE2QixJQUMzQixRQUFRLE1BQ04sNkZBQ0EsQ0FDRixFQUNGLEdBQTZCLEdBQW9CLEVBQ2pELElBQUksRUFBaUIsRUFBaUIsWUFBWSxFQUNsRCxHQUEwQixHQUFrQixFQUN4QixJQUFwQixrQkFDRyxHQUEwQixXQUFhLEdBQzFDLElBQ0UsRUFBbUIsRUFDbkIsRUFBbUIsRUFBYSxPQUNoQyxJQUVBLEdBQWdCLElBQUksRUFBYSxFQUFpQixFQUV0RCxTQUFTLEVBQXlCLENBQUMsRUFBUyxFQUFPLENBQ2pELEdBQWlCLEVBQU0sT0FDckIsRUFBTSxVQUNOLEVBQU0sU0FDTixFQUFNLFVBQ04sRUFBTSxVQUNFLEVBQU0sT0FBZCxPQUNjLElBQWIsU0FDRyxRQUFRLE1BQ04sOExBQ0YsRUFDQSxRQUFRLE1BQ04sbU5BQ0YsR0FDTixFQUFNLFVBQ0osRUFBTSxVQUNOLEVBQU0sVUFDRSxFQUFNLFNBQWQsTUFDQSxRQUFRLE1BQ04sdU5BQ0YsRUFFSixTQUFTLEVBQW1CLENBQUMsRUFBZSxDQUMxQyxHQUFJLEdBQWUsS0FBSyxHQUE2QixDQUFhLEVBQ2hFLE1BQU8sR0FDVCxHQUFJLEdBQWUsS0FBSyxHQUEyQixDQUFhLEVBQzlELE1BQU8sR0FDVCxHQUFJLEdBQTJCLEtBQUssQ0FBYSxFQUMvQyxPQUFRLEdBQTRCLEdBQWlCLEdBR3ZELE9BRkEsR0FBMEIsR0FBaUIsR0FDM0MsUUFBUSxNQUFNLCtCQUFnQyxDQUFhLEVBQ3BELEdBRVQsU0FBUyxFQUFxQyxDQUFDLEVBQU0sRUFBTSxFQUFVLENBQ25FLEdBQUksR0FBb0IsQ0FBSSxFQUFHLENBQzdCLElBQUssRUFBSyxhQUFhLENBQUksRUFBRyxDQUM1QixjQUFlLE9BQ1IsYUFDQSxTQUNILE9BQU8sTUFDSixXQUNILE9BQU8sTUFDSixVQUNILEdBQVcsSUFBUCxHQUFpQixPQUFPLEVBRWhDLE9BQWtCLElBQU4sT0FBc0IsT0FBSSxLQUd4QyxHQURBLEVBQU8sRUFBSyxhQUFhLENBQUksRUFDbEIsSUFBUCxJQUFzQixJQUFQLEdBQWlCLE1BQU8sR0FFM0MsT0FEQSxHQUE2QixFQUFVLENBQUksRUFDcEMsSUFBUyxHQUFLLEVBQVcsRUFBVyxHQUcvQyxTQUFTLEVBQW9CLENBQUMsRUFBTSxFQUFNLEVBQU8sQ0FDL0MsR0FBSSxHQUFvQixDQUFJLEVBQzFCLEdBQWEsSUFBVCxLQUFnQixFQUFLLGdCQUFnQixDQUFJLE1BQ3hDLENBQ0gsY0FBZSxPQUNSLGdCQUNBLGVBQ0EsU0FDSCxFQUFLLGdCQUFnQixDQUFJLEVBQ3pCLFdBQ0csVUFDSCxJQUFJLEVBQVMsRUFBSyxZQUFZLEVBQUUsTUFBTSxFQUFHLENBQUMsRUFDMUMsR0FBZ0IsSUFBWixTQUFrQyxJQUFaLFFBQW9CLENBQzVDLEVBQUssZ0JBQWdCLENBQUksRUFDekIsUUFHTixHQUE2QixFQUFPLENBQUksRUFDeEMsRUFBSyxhQUFhLEVBQU0sR0FBSyxDQUFLLEdBR3hDLFNBQVMsQ0FBeUIsQ0FBQyxFQUFNLEVBQU0sRUFBTyxDQUNwRCxHQUFhLElBQVQsS0FBZ0IsRUFBSyxnQkFBZ0IsQ0FBSSxNQUN4QyxDQUNILGNBQWUsT0FDUixnQkFDQSxlQUNBLGFBQ0EsVUFDSCxFQUFLLGdCQUFnQixDQUFJLEVBQ3pCLE9BRUosR0FBNkIsRUFBTyxDQUFJLEVBQ3hDLEVBQUssYUFBYSxFQUFNLEdBQUssQ0FBSyxHQUd0QyxTQUFTLENBQThCLENBQUMsRUFBTSxFQUFXLEVBQU0sRUFBTyxDQUNwRSxHQUFhLElBQVQsS0FBZ0IsRUFBSyxnQkFBZ0IsQ0FBSSxNQUN4QyxDQUNILGNBQWUsT0FDUixnQkFDQSxlQUNBLGFBQ0EsVUFDSCxFQUFLLGdCQUFnQixDQUFJLEVBQ3pCLE9BRUosR0FBNkIsRUFBTyxDQUFJLEVBQ3hDLEVBQUssZUFBZSxFQUFXLEVBQU0sR0FBSyxDQUFLLEdBR25ELFNBQVMsQ0FBZ0IsQ0FBQyxFQUFPLENBQy9CLGNBQWUsT0FDUixhQUNBLGNBQ0EsYUFDQSxhQUNBLFlBQ0gsT0FBTyxNQUNKLFNBQ0gsT0FBTyxHQUFrQyxDQUFLLEVBQUcsVUFFakQsTUFBTyxJQUdiLFNBQVMsQ0FBVyxDQUFDLEVBQU0sQ0FDekIsSUFBSSxFQUFPLEVBQUssS0FDaEIsT0FDRyxFQUFPLEVBQUssV0FDRCxFQUFLLFlBQVksSUFBN0IsVUFDZ0IsSUFBZixZQUFtQyxJQUFaLFNBRzVCLFNBQVMsRUFBZ0IsQ0FBQyxFQUFNLENBQzlCLElBQUksRUFBYSxFQUFZLENBQUksRUFBSSxVQUFZLFFBQy9DLEVBQWEsT0FBTyx5QkFDbEIsRUFBSyxZQUFZLFVBQ2pCLENBQ0YsRUFDRixHQUFrQyxFQUFLLEVBQVcsRUFDbEQsSUFBSSxFQUFlLEdBQUssRUFBSyxHQUM3QixJQUNHLEVBQUssZUFBZSxDQUFVLFVBQ1IsSUFBdkIsb0JBQ3NCLEVBQVcsTUFBakMsbUJBQ3NCLEVBQVcsTUFBakMsV0FDQSxDQUNBLElBQXFCLElBQWpCLEVBQ2UsSUFBakIsR0FBTSxFQWVSLE9BZEEsT0FBTyxlQUFlLEVBQU0sRUFBWSxDQUN0QyxhQUFjLEdBQ2QsWUFBYyxFQUFHLENBQ2YsT0FBTyxFQUFJLEtBQUssSUFBSSxHQUV0QixZQUFjLENBQUMsRUFBTyxDQUNwQixHQUFrQyxDQUFLLEVBQ3ZDLEVBQWUsR0FBSyxFQUNwQixFQUFJLEtBQUssS0FBTSxDQUFLLEVBRXhCLENBQUMsRUFDRCxPQUFPLGVBQWUsRUFBTSxFQUFZLENBQ3RDLFdBQVksRUFBVyxVQUN6QixDQUFDLEVBQ00sQ0FDTCxpQkFBbUIsRUFBRyxDQUNwQixPQUFPLEdBRVQsaUJBQW1CLENBQUMsRUFBTyxDQUN6QixHQUFrQyxDQUFLLEVBQ3ZDLEVBQWUsR0FBSyxHQUV0QixxQkFBdUIsRUFBRyxDQUN4QixFQUFLLGNBQWdCLFlBQ2QsRUFBSyxHQUVoQixHQUdKLFNBQVMsRUFBSyxDQUFDLEVBQU0sQ0FDbkIsRUFBSyxnQkFBa0IsRUFBSyxjQUFnQixHQUFpQixDQUFJLEdBRW5FLFNBQVMsRUFBb0IsQ0FBQyxFQUFNLENBQ2xDLElBQUssRUFBTSxNQUFPLEdBQ2xCLElBQUksRUFBVSxFQUFLLGNBQ25CLElBQUssRUFBUyxNQUFPLEdBQ3JCLElBQUksRUFBWSxFQUFRLFNBQVMsRUFDN0IsRUFBUSxHQVFaLE9BUEEsSUFDRyxFQUFRLEVBQVksQ0FBSSxFQUNyQixFQUFLLFFBQ0gsT0FDQSxRQUNGLEVBQUssT0FDWCxFQUFPLEVBQ0EsSUFBUyxHQUFhLEVBQVEsU0FBUyxDQUFJLEVBQUcsSUFBTSxHQUU3RCxTQUFTLEVBQWdCLENBQUMsRUFBSyxDQUU3QixHQURBLEVBQU0sV0FBK0IsV0FBdkIsWUFBa0MsU0FBZ0IsZUFDckMsSUFBdkIsWUFBNEIsT0FBTyxLQUN2QyxHQUFJLENBQ0YsT0FBTyxFQUFJLGVBQWlCLEVBQUksV0FDekIsRUFBUCxDQUNBLE9BQU8sRUFBSSxNQUdmLFNBQVMsRUFBOEMsQ0FBQyxFQUFPLENBQzdELE9BQU8sRUFBTSxRQUNYLFdBQ1MsQ0FBQyxFQUFJLENBQ1osTUFBTyxLQUFPLEVBQUcsV0FBVyxDQUFDLEVBQUUsU0FBUyxFQUFFLEVBQUksSUFFbEQsRUFFRixTQUFTLEVBQWtCLENBQUMsRUFBUyxFQUFPLENBQzFDLEFBQVcsRUFBTSxVQUFaLFFBQ1EsRUFBTSxpQkFBWixRQUNMLEtBQ0MsUUFBUSxNQUNQLDJXQUNBLEdBQW9DLEdBQUssY0FDekMsRUFBTSxJQUNSLEVBQ0MsR0FBK0IsSUFDdkIsRUFBTSxRQUFaLFFBQ1EsRUFBTSxlQUFaLFFBQ0wsS0FDQyxRQUFRLE1BQ1AsbVdBQ0EsR0FBb0MsR0FBSyxjQUN6QyxFQUFNLElBQ1IsRUFDQyxHQUE2QixJQUVsQyxTQUFTLEVBQVcsQ0FDbEIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBUUEsR0FQQSxFQUFRLEtBQU8sR0FDUCxHQUFSLGFBQ3NCLElBQXRCLG1CQUNvQixJQUFwQixpQkFDcUIsSUFBckIsV0FDSyxHQUE2QixFQUFNLE1BQU0sRUFBSSxFQUFRLEtBQU8sR0FDN0QsRUFBUSxnQkFBZ0IsTUFBTSxFQUN0QixHQUFSLEtBQ0YsR0FBaUIsSUFBYixVQUNGLEdBQVcsSUFBTixHQUFzQixFQUFRLFFBQWYsSUFBeUIsRUFBUSxPQUFTLEVBQzVELEVBQVEsTUFBUSxHQUFLLEVBQWlCLENBQUssTUFFN0MsR0FBUSxRQUFVLEdBQUssRUFBaUIsQ0FBSyxJQUMxQyxFQUFRLE1BQVEsR0FBSyxFQUFpQixDQUFLLE9BRWhELENBQWMsSUFBYixVQUFpQyxJQUFaLFNBQ3BCLEVBQVEsZ0JBQWdCLE9BQU8sRUFDbkMsQUFBUSxHQUFSLEtBQ0ksR0FBZ0IsRUFBUyxFQUFNLEVBQWlCLENBQUssQ0FBQyxFQUM5QyxHQUFSLEtBQ0UsR0FBZ0IsRUFBUyxFQUFNLEVBQWlCLENBQVksQ0FBQyxFQUNyRCxHQUFSLE1BQTRCLEVBQVEsZ0JBQWdCLE9BQU8sRUFDekQsR0FBUixNQUNVLEdBQVIsT0FDQyxFQUFRLGlCQUFtQixHQUN0QixHQUFSLE9BQ0csRUFBUSxRQUNQLFVBQ3NCLElBQXRCLG1CQUNvQixJQUFwQixVQUNJLEdBQVIsYUFDc0IsSUFBdEIsbUJBQ29CLElBQXBCLGlCQUNxQixJQUFyQixXQUNLLEdBQTZCLEVBQU0sTUFBTSxFQUN6QyxFQUFRLEtBQU8sR0FBSyxFQUFpQixDQUFJLEdBQzFDLEVBQVEsZ0JBQWdCLE1BQU0sRUFFcEMsU0FBUyxFQUFTLENBQ2hCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQU1BLEdBTFEsR0FBUixhQUN3QixJQUF0QixtQkFDb0IsSUFBcEIsaUJBQ3FCLElBQXJCLFlBQ0MsR0FBNkIsRUFBTSxNQUFNLEVBQUksRUFBUSxLQUFPLEdBQ25ELEdBQVIsTUFBeUIsR0FBUixLQUFzQixDQUN6QyxLQUVrQixJQUFiLFVBQWlDLElBQVosU0FDVixJQUFOLFFBQXdCLElBQVQsTUFHdkIsT0FDRixFQUNVLEdBQVIsS0FBdUIsR0FBSyxFQUFpQixDQUFZLEVBQUksR0FDL0QsRUFBZ0IsR0FBUixLQUFnQixHQUFLLEVBQWlCLENBQUssRUFBSSxFQUN2RCxHQUFlLElBQVUsRUFBUSxRQUFVLEVBQVEsTUFBUSxHQUMzRCxFQUFRLGFBQWUsRUFFekIsRUFBa0IsR0FBUixLQUFrQixFQUFVLEVBQ3RDLFNBQ3dCLElBQXRCLG1CQUNvQixJQUFwQixZQUNFLEVBQ0osRUFBUSxRQUFVLEVBQWMsRUFBUSxVQUFZLEVBQ3BELEVBQVEsaUJBQW1CLEVBQ25CLEdBQVIsYUFDd0IsSUFBdEIsbUJBQ29CLElBQXBCLGlCQUNxQixJQUFyQixZQUNDLEdBQTZCLEVBQU0sTUFBTSxFQUFJLEVBQVEsS0FBTyxHQUVqRSxTQUFTLEVBQWUsQ0FBQyxFQUFNLEVBQU0sRUFBTyxDQUMxQyxBQUFjLElBQWIsVUFBcUIsR0FBaUIsRUFBSyxhQUFhLElBQU0sR0FDN0QsRUFBSyxlQUFpQixHQUFLLElBQzFCLEVBQUssYUFBZSxHQUFLLEdBRTlCLFNBQVMsRUFBbUIsQ0FBQyxFQUFTLEVBQU8sQ0FDM0MsQUFBUSxFQUFNLE9BQWQsY0FDdUIsRUFBTSxXQUExQixVQUErQyxFQUFNLFdBQWYsS0FDbkMsR0FBTSxTQUFTLFFBQVEsRUFBTSxpQkFBbUIsQ0FBQyxFQUFPLENBQ3RELEFBQVEsR0FBUixhQUNzQixJQUFwQixpQkFDb0IsSUFBcEIsaUJBQ29CLElBQXBCLFVBQ0EsS0FDRSxHQUFzQixHQUN4QixRQUFRLE1BQ04sdUhBQ0YsR0FDSCxFQUNPLEVBQU0seUJBQWQsTUFDQSxLQUNFLEdBQTBCLEdBQzVCLFFBQVEsTUFDTixvR0FDRixJQUNFLEVBQU0sVUFBZCxNQUNFLEtBQ0MsUUFBUSxNQUNQLGdHQUNGLEVBQ0MsR0FBNkIsSUFFbEMsU0FBUyxFQUEyQixFQUFHLENBQ3JDLElBQUksRUFBWSxHQUFvQyxFQUNwRCxPQUFPLEVBQ0g7QUFBQTtBQUFBLCtCQUFxQyxFQUFZLEtBQ2pELEdBRU4sU0FBUyxFQUFhLENBQUMsRUFBTSxFQUFVLEVBQVcsRUFBb0IsQ0FFcEUsR0FEQSxFQUFPLEVBQUssUUFDUixFQUFVLENBQ1osRUFBVyxDQUFDLEVBQ1osUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFVLE9BQVEsSUFDcEMsRUFBUyxJQUFNLEVBQVUsSUFBTSxHQUNqQyxJQUFLLEVBQVksRUFBRyxFQUFZLEVBQUssT0FBUSxJQUMzQyxBQUFDLEVBQUksRUFBUyxlQUFlLElBQU0sRUFBSyxHQUFXLEtBQUssRUFDdEQsRUFBSyxHQUFXLFdBQWEsSUFBTSxFQUFLLEdBQVcsU0FBVyxHQUM5RCxHQUFLLElBQXVCLEVBQUssR0FBVyxnQkFBa0IsUUFDN0QsQ0FDTCxFQUFZLEdBQUssRUFBaUIsQ0FBUyxFQUMzQyxFQUFXLEtBQ1gsSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsSUFBSyxDQUNoQyxHQUFJLEVBQUssR0FBRyxRQUFVLEVBQVcsQ0FDL0IsRUFBSyxHQUFHLFNBQVcsR0FDbkIsSUFBdUIsRUFBSyxHQUFHLGdCQUFrQixJQUNqRCxPQUVGLEFBQVMsSUFBVCxNQUFxQixFQUFLLEdBQUcsV0FBYSxFQUFXLEVBQUssSUFFNUQsQUFBUyxJQUFULE9BQXNCLEVBQVMsU0FBVyxLQUc5QyxTQUFTLEVBQW1CLENBQUMsRUFBUyxFQUFPLENBQzNDLElBQUssRUFBVSxFQUFHLEVBQVUsR0FBZSxPQUFRLElBQVcsQ0FDNUQsSUFBSSxFQUFXLEdBQWUsR0FDOUIsR0FBWSxFQUFNLElBQWQsS0FBeUIsQ0FDM0IsSUFBSSxFQUFrQixHQUFZLEVBQU0sRUFBUyxFQUNqRCxFQUFNLFdBQWEsRUFDZixRQUFRLE1BQ04sK0VBQ0EsRUFDQSxHQUE0QixDQUM5QixHQUNDLEVBQU0sVUFDUCxHQUNBLFFBQVEsTUFDTixzRkFDQSxFQUNBLEdBQTRCLENBQzlCLEdBR1IsQUFBVyxFQUFNLFFBQVosUUFDUSxFQUFNLGVBQVosUUFDTCxLQUNDLFFBQVEsTUFDUCw0UkFDRixFQUNDLEdBQTJCLElBRWhDLFNBQVMsRUFBcUIsQ0FBQyxFQUFTLEVBQU8sQ0FDN0MsQUFBVyxFQUFNLFFBQVosUUFDUSxFQUFNLGVBQVosUUFDTCxLQUNDLFFBQVEsTUFDUCx3VkFDQSxHQUFvQyxHQUFLLGFBQzNDLEVBQ0MsR0FBdUIsSUFDbEIsRUFBTSxVQUFkLE1BQ1UsRUFBTSxPQUFkLE1BQ0EsUUFBUSxNQUNOLG9GQUNGLEVBRUosU0FBUyxFQUFjLENBQUMsRUFBUyxFQUFPLEVBQWMsQ0FDcEQsR0FDVSxHQUFSLE9BQ0UsRUFBUSxHQUFLLEVBQWlCLENBQUssRUFDckMsSUFBVSxFQUFRLFFBQVUsRUFBUSxNQUFRLEdBQ3BDLEdBQVIsTUFDQSxDQUNBLEVBQVEsZUFBaUIsSUFBVSxFQUFRLGFBQWUsR0FDMUQsT0FFRixFQUFRLGFBQ0UsR0FBUixLQUF1QixHQUFLLEVBQWlCLENBQVksRUFBSSxHQUVqRSxTQUFTLEVBQVksQ0FBQyxFQUFTLEVBQU8sRUFBYyxFQUFVLENBQzVELEdBQVksR0FBUixLQUFlLENBQ2pCLEdBQVksR0FBUixLQUFrQixDQUNwQixHQUFZLEdBQVIsS0FDRixNQUFNLE1BQ0oscUVBQ0YsRUFDRixHQUFJLEdBQVksQ0FBUSxFQUFHLENBQ3pCLEdBQUksRUFBSSxFQUFTLE9BQ2YsTUFBTSxNQUFNLDZDQUE2QyxFQUMzRCxFQUFXLEVBQVMsR0FFdEIsRUFBZSxFQUVqQixBQUFRLEdBQVIsT0FBeUIsRUFBZSxJQUN4QyxFQUFRLEVBRVYsRUFBZSxFQUFpQixDQUFLLEVBQ3JDLEVBQVEsYUFBZSxFQUN2QixFQUFXLEVBQVEsWUFDbkIsSUFBYSxHQUNKLElBQVAsSUFDUyxJQUFULE9BQ0MsRUFBUSxNQUFRLEdBRXJCLFNBQVMsRUFBZSxDQUFDLEVBQU0sRUFBUSxDQUNyQyxPQUFrQixFQUFLLGNBQVgsUUFDSixFQUFLLFdBQVcsU0FBdEIsR0FDTSxFQUFLLFNBQVMsU0FBcEIsR0FDQSxFQUFJLEVBQUssa0JBQ1QsRUFBSyxpQkFBbUIsR0FBSyxFQUMzQixHQUFnQixFQUFLLFNBQVMsR0FBSSxDQUFNLEVBQ3hDLEVBRU4sU0FBUyxFQUFXLENBQUMsRUFBUSxDQUMzQixNQUFPLEtBQU8sS0FBSyxPQUFPLENBQU0sRUFFbEMsU0FBUyxFQUFLLENBQUMsRUFBUSxDQUNyQixNQUFPLEtBQU8sS0FBSyxPQUFPLENBQU0sRUFFbEMsU0FBUyxFQUFPLENBQUMsRUFBUSxDQUN2QixNQUFPLEtBQU8sS0FBSyxPQUFPLENBQU0sRUFFbEMsU0FBUyxFQUFpQixDQUFDLEVBQU8sQ0FDaEMsT0FBUSxFQUFNLFNBQ1AsUUFDQSxRQUNBLEdBQ0gsT0FBTyxFQUFNLFNBQ1YsSUFDSCxNQUFPLFdBQ0osSUFDSCxNQUFPLGVBQ0osSUFDSCxNQUFPLG1CQUNKLE9BQ0EsSUFDSCxPQUFRLEVBQVEsRUFBTSxLQUFPLEVBQU0sYUFBZSxFQUFNLE1BQVEsU0FDN0QsSUFDSCxPQUNHLEVBQVEsRUFBTSxLQUFLLE9BQVMsRUFBTSxhQUFlLEVBQU0sTUFBUSxTQUUvRCxHQUNILE9BQVEsRUFBUSxFQUFNLEtBQU8sRUFBTSxhQUFlLEVBQU0sTUFBUSxhQUVoRSxPQUFPLE1BR2IsU0FBUyxFQUFnQixDQUFDLEVBQVMsRUFBVyxDQUM1QyxPQUFPLEdBQWMsS0FBSyxDQUFPLEdBQzNCLEVBQVUsS0FBSyxVQUFVLENBQU8sRUFDbEMsRUFBUSxPQUFTLEVBQVksRUFDekIsRUFBSSxFQUNGLFVBQ0EsSUFBTSxFQUFRLE1BQU0sRUFBRyxFQUFZLENBQUMsRUFBSSxRQUMxQyxJQUFNLEVBQVUsS0FDcEIsRUFBUSxPQUFTLEVBQ2YsRUFBSSxFQUNGLFVBQ0EsRUFBUSxNQUFNLEVBQUcsRUFBWSxDQUFDLEVBQUksTUFDcEMsRUFFUixTQUFTLEVBQWdCLENBQUMsRUFBWSxFQUFhLEVBQVEsQ0FDekQsSUFBSSxFQUFZLElBQU0sRUFBSSxFQUMxQixHQUFhLElBQVQsS0FDRixPQUFPLEdBQU0sQ0FBTSxFQUFJLEdBQWlCLEVBQVksQ0FBUyxFQUFJO0FBQUEsRUFDbkUsVUFBd0IsSUFBcEIsU0FBaUMsQ0FDbkMsUUFDTSxFQUFZLEVBQ2hCLEVBQVksRUFBWSxRQUN4QixFQUFZLEVBQVcsUUFDdkIsRUFBWSxXQUFXLENBQVMsSUFDOUIsRUFBVyxXQUFXLENBQVMsRUFDakMsS0FNRixPQUpBLEVBQVksRUFBWSxHQUN0QixHQUFLLElBQ0gsRUFBYSxNQUFRLEVBQVcsTUFBTSxFQUFZLENBQUMsRUFDcEQsRUFBYyxNQUFRLEVBQVksTUFBTSxFQUFZLENBQUMsR0FFdEQsR0FBTSxDQUFNLEVBQ1osR0FBaUIsRUFBWSxDQUFTLEVBQ3RDO0FBQUEsRUFDQSxHQUFRLENBQU0sRUFDZCxHQUFpQixFQUFhLENBQVMsRUFDdkM7QUFBQSxFQUdKLE9BQ0UsR0FBWSxDQUFNLEVBQUksR0FBaUIsRUFBWSxDQUFTLEVBQUk7QUFBQSxFQUdwRSxTQUFTLEVBQVUsQ0FBQyxFQUFRLENBQzFCLE9BQU8sT0FBTyxVQUFVLFNBQ3JCLEtBQUssQ0FBTSxFQUNYLFFBQVEsNEJBQThCLENBQUMsRUFBRyxFQUFJLENBQzdDLE9BQU8sRUFDUixFQUVMLFNBQVMsRUFBYSxDQUFDLEVBQU8sRUFBVyxDQUN2QyxjQUFlLE9BQ1IsU0FDSCxPQUNHLEVBQVEsS0FBSyxVQUFVLENBQUssRUFDN0IsRUFBTSxPQUFTLEVBQ1gsRUFBSSxFQUNGLFFBQ0EsRUFBTSxNQUFNLEVBQUcsRUFBWSxDQUFDLEVBQUksT0FDbEMsTUFFSCxTQUNILEdBQWEsSUFBVCxLQUFnQixNQUFPLE9BQzNCLEdBQUksR0FBWSxDQUFLLEVBQUcsTUFBTyxRQUMvQixHQUFJLEVBQU0sV0FBYSxHQUNyQixPQUFRLEVBQVksRUFBeUIsRUFBTSxJQUFJLEdBQ25ELElBQU0sRUFBWSxJQUNsQixRQUNOLElBQUksRUFBTyxHQUFXLENBQUssRUFDM0IsR0FBaUIsSUFBYixTQUFtQixDQUNyQixFQUFPLEdBQ1AsR0FBYSxFQUNiLFFBQVMsS0FBWSxFQUNuQixHQUFJLEVBQU0sZUFBZSxDQUFRLEVBQUcsQ0FDbEMsSUFBSSxFQUFlLEtBQUssVUFBVSxDQUFRLEVBUzFDLEdBUkEsSUFBaUIsSUFBTSxFQUFXLE1BQy9CLEVBQVcsR0FDZCxHQUFhLEVBQVMsT0FBUyxFQUMvQixFQUFlLEdBQ2IsRUFBTSxHQUNOLEdBQUssRUFBWSxFQUFZLEVBQy9CLEVBQ0EsR0FBYSxFQUFhLE9BQ3RCLEVBQUksRUFBVyxDQUNqQixHQUFlLElBQVAsR0FBYyxNQUFRLFFBQzlCLE1BRUYsSUFDVSxJQUFQLEdBQWMsR0FBSyxLQUFPLEVBQVcsSUFBTSxFQUVsRCxNQUFPLElBQU0sRUFBTyxJQUV0QixPQUFPLE1BQ0osV0FDSCxPQUFRLEVBQVksRUFBTSxhQUFlLEVBQU0sTUFDM0MsWUFBYyxFQUNkLG1CQUVKLE9BQU8sT0FBTyxDQUFLLEdBR3pCLFNBQVMsRUFBaUIsQ0FBQyxFQUFPLEVBQVcsQ0FDM0MsY0FBMkIsSUFBcEIsVUFBNkIsR0FBYyxLQUFLLENBQUssRUFDeEQsSUFBTSxHQUFjLEVBQU8sRUFBWSxDQUFDLEVBQUksSUFDNUMsRUFBTSxPQUFTLEVBQVksRUFDekIsRUFBSSxFQUNGLFFBQ0EsSUFBTSxFQUFNLE1BQU0sRUFBRyxFQUFZLENBQUMsRUFBSSxPQUN4QyxJQUFNLEVBQVEsSUFFdEIsU0FBUyxFQUF1QixDQUFDLEVBQU0sRUFBTyxFQUFXLENBQ3ZELElBQUksRUFBcUIsSUFBTSxFQUFVLE9BQVMsRUFBSyxPQUNyRCxFQUFhLENBQUMsRUFDZCxFQUNGLElBQUssS0FBWSxFQUNmLEdBQUksRUFBTSxlQUFlLENBQVEsR0FBb0IsSUFBZixXQUF5QixDQUM3RCxJQUFJLEVBQVksR0FDZCxFQUFNLEdBQ04sSUFBTSxFQUFVLE9BQVMsRUFBUyxPQUFTLENBQzdDLEVBQ0EsR0FBc0IsRUFBUyxPQUFTLEVBQVUsT0FBUyxFQUMzRCxFQUFXLEtBQUssRUFBVyxJQUFNLENBQVMsRUFFOUMsT0FBYSxFQUFXLFNBQWpCLEVBQ0gsRUFBWSxJQUFNLEVBQU87QUFBQSxFQUN6QixFQUFJLEVBQ0YsRUFBWSxJQUFNLEVBQU8sSUFBTSxFQUFXLEtBQUssR0FBRyxFQUFJO0FBQUEsRUFDdEQsRUFDQSxJQUNBLEVBQ0E7QUFBQSxFQUNBLEVBQ0EsS0FDQSxFQUFXLEtBQUs7QUFBQSxFQUFPLEVBQVksSUFBSSxFQUN2QztBQUFBLEVBQ0EsRUFDQTtBQUFBLEVBRVIsU0FBUyxFQUFzQixDQUFDLEVBQWMsRUFBYyxFQUFRLENBQ2xFLElBQUksRUFBYSxHQUNmLEVBQTRCLEdBQU8sQ0FBQyxFQUFHLENBQVksRUFDbkQsRUFDRixJQUFLLEtBQVksRUFDZixHQUFJLEVBQWEsZUFBZSxDQUFRLEVBQUcsQ0FDekMsT0FBTyxFQUEwQixHQUNqQyxJQUFJLEVBQVksSUFBTSxFQUFJLEVBQVMsRUFBUyxPQUFTLEVBQ25ELEVBQWtCLEdBQWMsRUFBYSxHQUFXLENBQVMsRUFDbkUsRUFBYSxlQUFlLENBQVEsR0FDOUIsRUFBWSxHQUFjLEVBQWEsR0FBVyxDQUFTLEVBQzVELEdBQ0MsR0FBTSxDQUFNLEVBQUksRUFBVyxLQUFPLEVBQWtCO0FBQUEsRUFDckQsR0FDQyxHQUFRLENBQU0sRUFBSSxFQUFXLEtBQU8sRUFBWTtBQUFBLEdBQ2pELEdBQ0MsR0FBTSxDQUFNLEVBQUksRUFBVyxLQUFPLEVBQWtCO0FBQUEsRUFFOUQsUUFBUyxLQUFhLEVBQ3BCLEVBQTBCLGVBQWUsQ0FBUyxJQUM5QyxFQUFlLEdBQ2YsRUFBMEIsR0FDMUIsSUFBTSxFQUFJLEVBQVMsRUFBVSxPQUFTLENBQ3hDLEVBQ0MsR0FDQyxHQUFRLENBQU0sRUFBSSxFQUFZLEtBQU8sRUFBZTtBQUFBLEdBQzFELE9BQU8sRUFFVCxTQUFTLEVBQW1CLENBQUMsRUFBTSxFQUFhLEVBQWEsRUFBUSxDQUNuRSxJQUFJLEVBQVUsR0FDWixFQUFrQixJQUFJLElBQ3hCLElBQUssS0FBcUIsRUFDeEIsRUFBWSxlQUFlLENBQWlCLEdBQzFDLEVBQWdCLElBQ2QsRUFBa0IsWUFBWSxFQUM5QixDQUNGLEVBQ0osR0FBVSxFQUFnQixPQUF0QixHQUE4QixFQUFnQixJQUFJLFVBQVUsRUFDOUQsR0FBVyxHQUNULEVBQ0EsRUFDQSxHQUFZLENBQU0sQ0FDcEIsTUFDRyxDQUNILFFBQVMsS0FBYyxFQUNyQixHQUNFLEVBQVksZUFBZSxDQUFVLEdBQ3RCLElBQWYsV0FDQSxDQUNBLElBQUksRUFDQSxJQUFNLEdBQUssRUFBUyxHQUFLLEVBQVcsT0FBUyxFQUMvQyxFQUFpQixFQUFnQixJQUFJLEVBQVcsWUFBWSxDQUFDLEVBQy9ELEdBQWUsSUFBTixPQUFzQixDQUM3QixFQUFnQixPQUFPLEVBQVcsWUFBWSxDQUFDLEVBQy9DLElBQUksRUFBb0IsRUFBWSxHQUNwQyxFQUFpQixFQUFZLEdBQzdCLElBQUksRUFBa0IsR0FDcEIsRUFDQSxDQUNGLEVBQ0EsRUFBcUIsR0FDbkIsRUFDQSxDQUNGLFNBQ29CLElBQXBCLFVBQ1MsSUFBVCxhQUNvQixJQUFwQixVQUNTLElBQVQsTUFDYSxHQUFXLENBQWlCLElBQXpDLFVBQ2EsR0FBVyxDQUFjLElBQXRDLFdBQ0MsRUFBSSxPQUFPLEtBQUssQ0FBaUIsRUFBRSxRQUNsQyxFQUFJLE9BQU8sS0FBSyxDQUFjLEVBQUUsUUFDaEMsR0FBSyxFQUFnQixRQUFRLEtBQUssR0FDbEMsR0FBSyxFQUFtQixRQUFRLEtBQUssR0FDbEMsR0FDQyxHQUFZLEVBQVMsQ0FBQyxFQUN0QixFQUNBO0FBQUEsRUFDQSxHQUNFLEVBQ0EsRUFDQSxFQUFTLENBQ1gsRUFDQSxHQUFZLEVBQVMsQ0FBQyxFQUN0QjtBQUFBLEdBQ0EsR0FDQSxHQUFNLEVBQVMsQ0FBQyxFQUNoQixFQUNBLElBQ0EsRUFDQTtBQUFBLEVBQ0QsR0FDQyxHQUFRLEVBQVMsQ0FBQyxFQUNsQixFQUNBLElBQ0EsRUFDQTtBQUFBLE9BRU4sSUFDRSxHQUFZLEVBQVMsQ0FBQyxFQUN0QixFQUNBLElBQ0EsR0FBa0IsRUFBWSxHQUFhLENBQWtCLEVBQzdEO0FBQUEsRUFFUixFQUFnQixnQkFBaUIsQ0FBQyxFQUFVLENBQzFDLEdBQW1CLElBQWYsV0FBeUIsQ0FDM0IsSUFBSSxFQUFZLElBQU0sR0FBSyxFQUFTLEdBQUssRUFBUyxPQUFTLEVBQzNELEdBQ0UsR0FBUSxFQUFTLENBQUMsRUFDbEIsRUFDQSxJQUNBLEdBQWtCLEVBQVksR0FBVyxDQUFTLEVBQ2xEO0FBQUEsR0FFTCxFQUNELEVBQ1MsSUFBUCxHQUNJLEdBQVksQ0FBTSxFQUFJLElBQU0sRUFBTztBQUFBLEVBQ25DLEdBQVksQ0FBTSxFQUNsQixJQUNBLEVBQ0E7QUFBQSxFQUNBLEVBQ0EsR0FBWSxDQUFNLEVBQ2xCO0FBQUEsRUFJUixHQUZBLEVBQU8sRUFBWSxTQUNuQixFQUFjLEVBQVksZ0JBRUosSUFBcEIsaUJBQ29CLElBQXBCLGlCQUNvQixJQUFwQixTQUNBLENBRUEsR0FEQSxFQUFrQixVQUVJLElBQXBCLGlCQUNvQixJQUFwQixpQkFDb0IsSUFBcEIsU0FFQSxFQUFrQixHQUFLLEVBQ3pCLEdBQVcsR0FBaUIsRUFBaUIsR0FBSyxFQUFNLEVBQVMsQ0FBQyxpQkFFOUMsSUFBcEIsaUJBQ29CLElBQXBCLGlCQUNvQixJQUFwQixTQUVBLEVBQ1UsR0FBUixLQUNJLEVBQVUsR0FBaUIsR0FBSyxFQUFhLEtBQU0sRUFBUyxDQUFDLEVBQzdELEVBQVUsR0FBaUIsR0FBSyxFQUFrQixPQUFHLEVBQVMsQ0FBQyxFQUN2RSxPQUFPLEVBRVQsU0FBUyxFQUFvQixDQUFDLEVBQU8sRUFBUSxDQUMzQyxJQUFJLEVBQU8sR0FBa0IsQ0FBSyxFQUNsQyxHQUFhLElBQVQsS0FBZSxDQUNqQixFQUFPLEdBQ1AsSUFBSyxFQUFRLEVBQU0sTUFBTyxHQUN4QixBQUFDLEdBQVEsR0FBcUIsRUFBTyxDQUFNLEVBQ3hDLEVBQVEsRUFBTSxRQUNuQixPQUFPLEVBRVQsT0FBTyxHQUFZLENBQU0sRUFBSSxJQUFNLEVBQU87QUFBQSxFQUU1QyxTQUFTLEVBQVksQ0FBQyxFQUFNLEVBQVEsQ0FDbEMsSUFBSSxFQUFhLEdBQWdCLEVBQU0sQ0FBTSxFQUM3QyxHQUNFLElBQWUsSUFDUixFQUFLLFNBQVMsU0FBcEIsR0FBOEIsRUFBSyxTQUFTLEtBQU8sR0FFcEQsT0FDRSxHQUFZLENBQU0sRUFBSTtBQUFBLEVBQVUsR0FBYSxFQUFZLEVBQVMsQ0FBQyxFQUV2RSxFQUFhLEdBQ2IsSUFBSSxFQUFZLEVBQUssTUFBTSxXQUMzQixHQUFJLEVBQ0YsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFVLE9BQVEsSUFBSyxDQUN6QyxJQUFJLEVBQXNCLEVBQVUsR0FBRyxLQUN2QyxPQUFvQixJQUFwQixXQUNJLEdBQ0EsR0FBWSxDQUFNLEVBQUksSUFBTSxFQUFzQjtBQUFBLEVBQ3BELEtBSU4sR0FGQSxFQUFZLEdBQ1osRUFBSSxFQUFLLE1BQU0sYUFDTCxFQUFLLE1BQU0sTUFBakIsRUFDRixBQUFDLEVBQVksR0FBaUIsRUFBRyxFQUFLLFlBQWEsQ0FBTSxFQUFJLFlBRTNELEVBQXNCLEdBQWtCLEVBQUssS0FBSyxFQUMzQyxJQUFULEtBRUEsR0FBZSxFQUFLLGNBQVgsT0FBd0IsQ0FDL0IsRUFBWSxFQUNaLElBQUksRUFBWSxJQUFNLEVBQUksRUFBWSxFQUFvQixPQUFTLEVBQ2pFLEVBQVUsR0FDWixJQUFLLEtBQVksRUFDZixHQUFJLEVBQUUsZUFBZSxDQUFRLEdBQW9CLElBQWYsV0FBeUIsQ0FDekQsSUFBSSxFQUFZLEdBQWtCLEVBQUUsR0FBVyxFQUFFLEVBRWpELEdBREEsR0FBYSxFQUFTLE9BQVMsRUFBVSxPQUFTLEVBQzlDLEVBQUksRUFBVyxDQUNqQixHQUFXLE9BQ1gsTUFFRixHQUFXLElBQU0sRUFBVyxJQUFNLEVBRXRDLEVBQ0UsR0FBWSxDQUFTLEVBQ3JCLElBQ0EsRUFDQSxFQUNBO0FBQUEsRUFDRixRQUVBLENBQVMsRUFBSyxjQUFkLE1BQ00sRUFBWSxHQUNaLEVBQ0EsRUFDQSxHQUFNLENBQU0sQ0FDZCxFQUNBLFlBQ29CLEVBQUssY0FBekIsU0FDRSxRQUFRLE1BQ04sc0ZBQ0YsR0FDRSxFQUFZLEdBQ1osRUFDQSxFQUNBLEVBQUssWUFDTCxDQUNGLEVBQ0EsS0FDVixJQUFJLEVBQVcsR0FDZixFQUFJLEVBQUssTUFBTSxNQUNmLElBQ0UsRUFBc0IsRUFDdEIsR0FBSyxFQUFzQixFQUFLLFNBQVMsUUFHekMsQUFBQyxFQUFZLEVBQUssU0FBUyxHQUN6QixFQUFVLFFBQVUsR0FDZCxHQUFZLEdBQWEsRUFBVyxDQUFNLEVBQzVDLEtBQ0MsR0FBWSxHQUFxQixFQUFHLENBQU0sRUFDOUMsRUFBSSxFQUFFLFFBQ1gsR0FDRSxFQUFJLEVBQUssU0FBUyxTQUNqQixHQUFZLEdBQVksQ0FBTSxFQUFJO0FBQUEsR0FDckMsRUFBSSxFQUFLLFdBQ0EsRUFBSyxjQUFkLE1BQTZCLElBQzdCLElBQUssRUFBTyxFQUFHLEVBQU8sRUFBRSxPQUFRLElBQzlCLEFBQUMsRUFBc0IsRUFBRSxHQUN0QixTQUNxQixJQUFwQixTQUNJLEdBQ0MsR0FBUSxDQUFNLEVBQ2IsR0FBaUIsRUFBcUIsSUFBTSxFQUFJLENBQU0sRUFDdEQ7QUFBQSxHQUNGLEVBQ0EsR0FDRSxFQUFvQixLQUNwQixFQUFvQixNQUNwQixHQUFRLENBQU0sQ0FDaEIsRUFDVixPQUFPLEVBQWEsRUFBWSxFQUVsQyxTQUFTLEVBQVksQ0FBQyxFQUFVLENBQzlCLEdBQUksQ0FDRixNQUFPO0FBQUE7QUFBQSxFQUFTLEdBQWEsRUFBVSxDQUFDLFFBQ2pDLEVBQVAsQ0FDQSxNQUFPLElBR1gsU0FBUyxFQUFpQixDQUFDLEVBQVUsRUFBTyxFQUFPLENBQ2pELFFBQVMsRUFBUSxFQUFPLEVBQU8sS0FBTSxFQUFtQixFQUFHLEdBQ3pELElBQVUsSUFBYSxFQUFtQixHQUN2QyxFQUFPLENBQ04sTUFBTyxFQUNQLFNBQW1CLElBQVQsS0FBZ0IsQ0FBQyxDQUFJLEVBQUksQ0FBQyxFQUNwQyxZQUNFLElBQVUsRUFBUSxFQUFRLElBQVUsRUFBVyxLQUFZLE9BQzdELFdBQVksQ0FBQyxFQUNiLGlCQUFrQixDQUNwQixFQUNBLElBQ0MsRUFBUSxFQUFNLE9BQ25CLE9BQWdCLElBQVQsS0FBZ0IsR0FBYSxDQUFJLEVBQUUsV0FBVyxVQUFXLEdBQUcsRUFBSSxHQUV6RSxTQUFTLEVBQXNCLENBQUMsRUFBUyxFQUFLLENBQzVDLEVBQVUsR0FBTyxDQUFDLEVBQUcsR0FBVyxFQUFvQixFQUNwRCxJQUFJLEVBQU8sQ0FBRSxJQUFLLENBQUksRUFtQnRCLEdBbEJPLEdBQVksUUFBUSxDQUFHLElBQTlCLEtBQ0ksRUFBUSxZQUFjLEtBQ3ZCLEVBQVEsaUJBQW1CLEtBQzNCLEVBQVEsZUFBaUIsTUFDckIsR0FBZ0IsUUFBUSxDQUFHLElBQWxDLEtBQXdDLEVBQVEsa0JBQW9CLE1BQzdELEdBQVksUUFBUSxDQUFHLElBQTlCLElBQ2dCLElBQWQsV0FDVSxJQUFWLE9BQ1EsSUFBUixNQUNFLEVBQVEsdUJBQXlCLEtBQ2xDLEVBQVEscUJBQXVCLE1BQ2xDLEVBQVEsUUFBVSxFQUNQLElBQVgsU0FBbUIsRUFBUSxRQUFVLEdBQzdCLElBQVIsTUFBZ0IsRUFBUSxZQUFjLEdBQ3pCLElBQWIsV0FBcUIsRUFBUSxpQkFBbUIsR0FDckMsSUFBWCxTQUFtQixFQUFRLGVBQWlCLEdBQ3BDLElBQVIsTUFBZ0IsRUFBUSxrQkFBb0IsR0FDbkMsSUFBVCxPQUFpQixFQUFRLHVCQUF5QixHQUNyQyxJQUFULE1BQXlCLElBQVQsS0FBYyxFQUFRLHFCQUF1QixFQUlqRSxPQUhnQixJQUFoQixhQUFrQyxJQUFYLE9BQ2xCLEVBQVEsb0JBQXNCLEtBQy9CLEVBQVEsc0JBQXdCLEVBQVEsb0JBQXNCLEdBQzNELEVBRVQsU0FBUyxFQUFvQixDQUFDLEVBQUssRUFBVyxDQUM1QyxPQUFRLE9BQ0QsU0FDSCxPQUNXLElBQVQsTUFDYSxJQUFiLFVBQ2UsSUFBZixZQUNZLElBQVosWUFFQyxXQUNILE9BQW9CLElBQWIsVUFBZ0MsSUFBWixZQUN4QixTQUNILE9BQW1CLElBQVosWUFDSixLQUNILE9BQ1csSUFBVCxNQUNTLElBQVQsTUFDWSxJQUFaLFNBQ2EsSUFBYixVQUNlLElBQWYsZUFFQyxZQUNBLFlBQ0EsUUFDSCxPQUNXLElBQVQsTUFDWSxJQUFaLFNBQ2EsSUFBYixVQUNlLElBQWYsZUFFQyxXQUNILE9BQWlCLElBQVYsT0FBZ0MsSUFBZixlQUNyQixRQUNILE9BQ2dCLElBQWQsV0FDZSxJQUFmLFlBQ1ksSUFBWixTQUNZLElBQVosU0FDWSxJQUFaLFNBQ1ksSUFBWixTQUNhLElBQWIsVUFDZSxJQUFmLGVBRUMsT0FDSCxPQUNhLElBQVgsUUFDZSxJQUFmLFlBQ2MsSUFBZCxXQUNXLElBQVgsUUFDVyxJQUFYLFFBQ1ksSUFBWixTQUNlLElBQWYsWUFDZSxJQUFmLFlBQ1ksSUFBWixTQUNhLElBQWIsVUFDZSxJQUFmLGVBRUMsT0FDSCxPQUFrQixJQUFYLFFBQTZCLElBQVgsUUFBaUMsSUFBZixlQUN4QyxXQUNILE9BQW1CLElBQVosWUFDSixZQUNILE9BQWtCLElBQVgsT0FFWCxPQUFRLE9BQ0QsU0FDQSxTQUNBLFNBQ0EsU0FDQSxTQUNBLEtBQ0gsT0FDVyxJQUFULE1BQ1MsSUFBVCxNQUNTLElBQVQsTUFDUyxJQUFULE1BQ1MsSUFBVCxNQUNTLElBQVQsU0FFQyxTQUNBLEtBQ0gsT0FBYyxHQUFlLFFBQVEsQ0FBUyxJQUF2QyxPQUNKLFdBQ0EsY0FDQSxVQUNBLGVBQ0EsZUFDQSxZQUNBLFdBQ0EsV0FDQSxZQUNBLFNBQ0EsWUFDQSxTQUNBLFlBQ0EsS0FDSCxPQUFlLEdBQVIsS0FFWCxNQUFPLEdBRVQsU0FBUyxFQUF5QixDQUFDLEVBQUssRUFBYyxDQUNwRCxPQUFRLE9BQ0QsY0FDQSxjQUNBLFlBQ0EsaUJBQ0EsYUFDQSxjQUNBLGFBQ0EsVUFDQSxVQUNBLFNBQ0EsZUFDQSxpQkFDQSxhQUNBLGFBQ0EsYUFDQSxhQUNBLFdBQ0EsV0FDQSxVQUNBLFNBQ0EsUUFDQSxjQUNBLGNBQ0EsU0FDQSxVQUNBLGNBQ0EsWUFDQSxTQUNBLFVBQ0EsU0FDQSxTQUNBLFNBQ0EsU0FDQSxTQUNBLEtBQ0gsT0FBTyxFQUFhLHNCQUNqQixPQUNILE9BQU8sRUFBYSxTQUFXLEVBQWEsc0JBQ3pDLEtBQ0gsT0FBTyxFQUFhLDJCQUNqQixTQUNBLEtBQ0gsT0FBTyxFQUFhLHlCQUNqQixTQUNILE9BQU8sRUFBYSxxQkFDakIsSUFDSCxPQUFPLEVBQWEsZ0JBQ2pCLE9BQ0gsT0FBTyxFQUFhLGVBRXhCLE9BQU8sS0FFVCxTQUFTLEVBQVksQ0FBQyxFQUFRLEVBQVMsQ0FDckMsS0FBTyxHQUFVLENBQ2YsT0FBUSxFQUFPLFNBQ1IsT0FDQSxRQUNBLElBQ0gsR0FBSSxFQUFPLE9BQVMsRUFBUyxPQUFPLEVBRXhDLEVBQVMsRUFBTyxPQUVsQixPQUFPLEtBRVQsU0FBUyxFQUFrQixDQUFDLEVBQVUsRUFBYyxDQUNsRCxFQUFlLEdBQWdCLEdBQy9CLElBQUksRUFBYSxFQUFhLFFBVTlCLEdBVEEsR0FBZ0IsRUFBYSxHQUMzQixFQUNBLEdBQWMsRUFBVyxHQUMzQixFQUNJLEtBQ0EsR0FDQSxLQUNBLEdBQTBCLEVBQVUsQ0FBWSxFQUNwRCxFQUFlLEdBQWMsR0FDeEIsRUFBYyxNQUFPLEdBQzFCLEVBQWUsRUFBYSxJQUM1QixJQUFJLEVBQVUsU0FBUyxDQUFVLEVBQUksSUFBTSxFQUFXLElBQU0sRUFDNUQsR0FBSSxHQUFRLEdBQVUsTUFBTyxHQUM3QixHQUFRLEdBQVcsR0FDbkIsSUFBSSxHQUFZLEVBQVUsSUFDdEIsR0FBYSxFQUFRLE9BQVEsQ0FBWSxFQUN6QyxLQXlCSixPQXhCQSxFQUNXLElBQVQsTUFBNkIsSUFBVCxLQUNoQixHQUFrQixFQUFVLEVBQVMsSUFBSSxFQUN6QyxHQUNOLEVBQVcsSUFBTSxFQUFXLElBQzVCLEdBQ00sRUFBYSxHQUNILElBQVosU0FDVyxJQUFULE9BQ0MsR0FDQyxtR0FDSixRQUFRLE1BQ047QUFBQSxzQ0FDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEdBQ0EsUUFBUSxNQUNOO0FBQUEsc0NBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDRyxHQUVULFNBQVMsRUFBbUIsQ0FBQyxFQUFXLEVBQVcsQ0FDakQsR0FBSSxHQUFxQixRQUFTLENBQVMsRUFBRyxNQUFPLEdBQ3JELElBQUksRUFBVSxTQUFXLEVBQ3pCLEdBQUksR0FBUSxHQUFVLE1BQU8sR0FDN0IsR0FBUSxHQUFXLEdBQ25CLElBQUksR0FBWSxFQUFVLElBQ3RCLEdBQWEsRUFBUyxDQUFTLEVBQy9CLEtBb0JKLE9BbkJBLEVBQ1csSUFBVCxNQUE2QixJQUFULEtBQ2hCLEdBQ0UsRUFDQSxFQUNNLEVBQVEsTUFBZCxFQUFvQixDQUFFLFNBQVUsSUFBSyxFQUFJLElBQzNDLEVBQ0EsR0FDTixLQUFLLEtBQUssQ0FBUyxFQUNmLFFBQVEsTUFDTjtBQUFBLHNDQUNBLEVBQ0EsQ0FDRixFQUNBLFFBQVEsTUFDTjtBQUFBLHNDQUNBLEVBQ0EsQ0FDRixFQUNHLEdBRVQsU0FBUyxFQUFjLENBQUMsRUFBTSxFQUFNLENBQ2xDLEdBQUksRUFBTSxDQUNSLElBQUksRUFBYSxFQUFLLFdBQ3RCLEdBQ0UsR0FDQSxJQUFlLEVBQUssV0FDZCxFQUFXLFdBQWpCLEVBQ0EsQ0FDQSxFQUFXLFVBQVksRUFDdkIsUUFHSixFQUFLLFlBQWMsRUFFckIsU0FBUyxFQUFRLENBQUMsRUFBUSxDQUN4QixPQUFPLEVBQU8sUUFBUSxXQUF3QixDQUFDLEVBQUcsRUFBVyxDQUMzRCxPQUFPLEVBQVUsWUFBWSxFQUM5QixFQUVILFNBQVMsRUFBZ0IsQ0FBQyxFQUFPLEVBQVcsRUFBTyxDQUNqRCxJQUFJLEVBQXlCLEVBQVUsUUFBUSxJQUFJLElBQTVCLEVBQ3ZCLElBQ0csR0FBSyxFQUFVLFFBQVEsR0FBRyxFQUN0QixHQUFpQixlQUFlLENBQVMsR0FDeEMsR0FBaUIsS0FDakIsR0FBaUIsR0FBYSxHQUNoQyxRQUFRLE1BQ04sa0RBQ0EsRUFDQSxHQUFTLEVBQVUsUUFBUSxHQUFXLEtBQUssQ0FBQyxDQUM5QyxHQUNBLEdBQTRCLEtBQUssQ0FBUyxFQUN2QyxHQUFpQixlQUFlLENBQVMsR0FDeEMsR0FBaUIsS0FDakIsR0FBaUIsR0FBYSxHQUNoQyxRQUFRLE1BQ04sa0VBQ0EsRUFDQSxFQUFVLE9BQU8sQ0FBQyxFQUFFLFlBQVksRUFBSSxFQUFVLE1BQU0sQ0FBQyxDQUN2RCxJQUNDLEdBQWtDLEtBQUssQ0FBSyxHQUM1QyxHQUFrQixlQUFlLENBQUssR0FDckMsR0FBa0IsS0FDbEIsR0FBa0IsR0FBUyxHQUM3QixRQUFRLE1BQ04sNkVBQ0EsRUFDQSxFQUFNLFFBQVEsR0FBbUMsRUFBRSxDQUNyRCxVQUNjLElBQXBCLFdBQ0csTUFBTSxDQUFLLEVBQ1IsS0FDRSxHQUFvQixHQUN0QixRQUFRLE1BQ04sNkRBQ0EsQ0FDRixHQUNBLFNBQVMsQ0FBSyxHQUNkLEtBQ0UsR0FBeUIsR0FDM0IsUUFBUSxNQUNOLGtFQUNBLENBQ0YsS0FDQSxHQUFSLGFBQXNDLElBQXJCLFdBQXFDLElBQVAsR0FDM0MsRUFDRSxFQUFNLFlBQVksRUFBVyxFQUFFLEVBQ25CLElBQVosUUFDRyxFQUFNLFNBQVcsR0FDakIsRUFBTSxHQUFhLEdBQ3hCLEVBQ0UsRUFBTSxZQUFZLEVBQVcsQ0FBSyxTQUNkLElBQXBCLFVBQ1EsSUFBTixHQUNBLEdBQWdCLElBQUksQ0FBUyxFQUNqQixJQUFaLFFBQ0csRUFBTSxTQUFXLEdBQ2pCLEdBQStCLEVBQU8sQ0FBUyxFQUMvQyxFQUFNLElBQWMsR0FBSyxHQUFPLEtBQUssR0FDdkMsRUFBTSxHQUFhLEVBQVEsS0FFdEMsU0FBUyxFQUFpQixDQUFDLEVBQU0sRUFBUSxFQUFZLENBQ25ELEdBQVksR0FBUixhQUFzQyxJQUFwQixTQUNwQixNQUFNLE1BQ0osc0pBQ0YsRUFHRixHQUZBLEdBQVUsT0FBTyxPQUFPLENBQU0sRUFDOUIsRUFBTyxFQUFLLE1BQ0EsR0FBUixLQUFvQixDQUN0QixHQUFJLEVBQVEsQ0FDVixJQUFJLEVBQWtCLENBQUMsRUFDdkIsR0FBSSxHQUNGLFFBQVMsS0FBTyxFQUNkLEdBQUksRUFBVyxlQUFlLENBQUcsSUFBTSxFQUFPLGVBQWUsQ0FBRyxFQUM5RCxRQUNNLEVBQVksR0FBb0IsSUFBUSxDQUFDLENBQUcsRUFBRyxFQUFJLEVBQ3ZELEVBQUksRUFBVSxPQUNkLElBRUEsRUFBZ0IsRUFBVSxJQUFNLEVBQ3hDLFFBQVMsS0FBUSxFQUNmLEdBQ0UsRUFBTyxlQUFlLENBQUksS0FDeEIsR0FBYyxFQUFXLEtBQVUsRUFBTyxJQUU1QyxJQUNFLEVBQU0sR0FBb0IsSUFBUyxDQUFDLENBQUksRUFBRyxFQUFZLEVBQ3ZELEVBQVksRUFBSSxPQUNoQixJQUVBLEVBQWdCLEVBQUksSUFBYyxFQUN4QyxFQUFPLENBQUMsRUFDUixRQUFTLEtBQWdCLEVBQ3ZCLElBQ0UsRUFBTSxHQUFvQixJQUFpQixDQUFDLENBQVksRUFDdEQsRUFBWSxFQUNkLEVBQVksRUFBSSxPQUNoQixJQUVBLEVBQUssRUFBSSxJQUFjLEVBQzNCLEVBQWUsQ0FBQyxFQUNoQixRQUFTLEtBQVMsRUFDaEIsR0FDSSxFQUFNLEVBQWdCLElBQ3ZCLEVBQVksRUFBSyxLQUNoQixJQUFRLElBQ04sRUFBSSxFQUFNLElBQU0sR0FBYSxFQUFhLElBQzlDLENBQ0EsRUFBYSxHQUFLLEdBQ2xCLEVBQUksUUFDSixJQUFJLEVBQVEsRUFBTyxHQUNuQixFQUFFLE1BQU0sS0FDTixFQUNBLHNQQUNRLEdBQVIsYUFBc0MsSUFBckIsV0FBcUMsSUFBUCxHQUMzQyxXQUNBLFdBQ0osRUFDQSxDQUNGLEdBR04sUUFBUyxLQUFhLEVBQ3BCLENBQUMsRUFBVyxlQUFlLENBQVMsR0FDekIsR0FBUixNQUFrQixFQUFPLGVBQWUsQ0FBUyxJQUMzQyxFQUFVLFFBQVEsSUFBSSxJQUE1QixFQUNHLEVBQUssWUFBWSxFQUFXLEVBQUUsRUFDbEIsSUFBWixRQUNHLEVBQUssU0FBVyxHQUNoQixFQUFLLEdBQWEsSUFDN0IsUUFBUyxLQUFjLEVBQ3JCLEFBQUMsRUFBUSxFQUFPLEdBQ2QsRUFBTyxlQUFlLENBQVUsR0FDOUIsRUFBVyxLQUFnQixHQUMzQixHQUFpQixFQUFNLEVBQVksQ0FBSyxNQUU5QyxLQUFLLEtBQW1CLEVBQ3RCLEVBQU8sZUFBZSxDQUFlLEdBQ25DLEdBQWlCLEVBQU0sRUFBaUIsRUFBTyxFQUFnQixFQUV2RSxTQUFTLEVBQWUsQ0FBQyxFQUFTLENBQ2hDLEdBQVcsRUFBUSxRQUFRLEdBQUcsSUFBMUIsR0FBNkIsTUFBTyxHQUN4QyxPQUFRLE9BQ0QscUJBQ0Esb0JBQ0EsZ0JBQ0Esb0JBQ0Esb0JBQ0EsdUJBQ0EscUJBQ0EsZ0JBQ0gsTUFBTyxXQUVQLE1BQU8sSUFHYixTQUFTLEVBQWlCLENBQUMsRUFBTSxDQUMvQixPQUFPLEdBQVEsSUFBSSxDQUFJLEdBQUssRUFFOUIsU0FBUyxFQUFrQixDQUFDLEVBQVMsRUFBTSxDQUN6QyxHQUNFLEdBQWUsS0FBSyxHQUFvQixDQUFJLEdBQzVDLEdBQW1CLEdBRW5CLE1BQU8sR0FDVCxHQUFJLEdBQWEsS0FBSyxDQUFJLEVBQUcsQ0FHM0IsR0FGQSxFQUFVLFFBQVUsRUFBSyxNQUFNLENBQUMsRUFBRSxZQUFZLEVBQzlDLEVBQVUsR0FBZSxlQUFlLENBQU8sRUFBSSxFQUFVLEtBQ2pELEdBQVIsS0FDRixPQUNFLFFBQVEsTUFDTixnR0FDQSxDQUNGLEVBQ0MsR0FBbUIsR0FBUSxHQUVoQyxHQUFJLElBQVMsRUFDWCxPQUNFLFFBQVEsTUFDTixrREFDQSxFQUNBLENBQ0YsRUFDQyxHQUFtQixHQUFRLEdBR2xDLEdBQUksR0FBUSxLQUFLLENBQUksRUFBRyxDQUd0QixHQUZBLEVBQVUsRUFBSyxZQUFZLEVBQzNCLEVBQVUsR0FBZSxlQUFlLENBQU8sRUFBSSxFQUFVLEtBQ2pELEdBQVIsS0FBaUIsT0FBUSxHQUFtQixHQUFRLEdBQUssR0FDN0QsSUFBUyxJQUNOLFFBQVEsTUFDUCxrREFDQSxFQUNBLENBQ0YsRUFDQyxHQUFtQixHQUFRLElBRWhDLE1BQU8sR0FFVCxTQUFTLEVBQW9CLENBQUMsRUFBTSxFQUFPLENBQ3pDLElBQUksRUFBZSxDQUFDLEVBQ2xCLEVBQ0YsSUFBSyxLQUFPLEVBQ1YsR0FBbUIsRUFBTSxDQUFHLEdBQUssRUFBYSxLQUFLLENBQUcsRUFDeEQsRUFBUSxFQUNMLFlBQWEsQ0FBQyxFQUFNLENBQ25CLE1BQU8sSUFBTSxFQUFPLElBQ3JCLEVBQ0EsS0FBSyxJQUFJLEVBQ04sRUFBYSxTQUFuQixFQUNJLFFBQVEsTUFDTiwrRkFDQSxFQUNBLENBQ0YsRUFDQSxFQUFJLEVBQWEsUUFDakIsUUFBUSxNQUNOLGdHQUNBLEVBQ0EsQ0FDRixFQUVOLFNBQVMsRUFBZ0IsQ0FBQyxFQUFTLEVBQU0sRUFBTyxFQUFlLENBQzdELEdBQUksR0FBZSxLQUFLLEdBQWtCLENBQUksR0FBSyxHQUFpQixHQUNsRSxNQUFPLEdBQ1QsSUFBSSxFQUFpQixFQUFLLFlBQVksRUFDdEMsR0FBb0IsSUFBaEIsYUFBbUQsSUFBakIsYUFDcEMsT0FDRSxRQUFRLE1BQ04sOEtBQ0YsRUFDQyxHQUFpQixHQUFRLEdBRTlCLFVBQ3dCLElBQXRCLGFBQ2EsSUFBWCxRQUFtQyxJQUFiLFVBQ1QsSUFBWixTQUF3QyxJQUFqQixjQUNWLElBQWIsVUFBeUMsSUFBakIsY0FFM0IsTUFBTyxHQUNULEdBQVksR0FBUixLQUF1QixDQUV6QixHQURBLEVBQVUsRUFBYywwQkFDcEIsRUFBYyw2QkFBNkIsZUFBZSxDQUFJLEVBQ2hFLE1BQU8sR0FJVCxHQUhBLEVBQWdCLEVBQVEsZUFBZSxDQUFjLEVBQ2pELEVBQVEsR0FDUixLQUNRLEdBQVIsS0FDRixPQUNFLFFBQVEsTUFDTiwwREFDQSxFQUNBLENBQ0YsRUFDQyxHQUFpQixHQUFRLEdBRTlCLEdBQUksR0FBaUIsS0FBSyxDQUFJLEVBQzVCLE9BQ0UsUUFBUSxNQUNOLDJEQUNBLENBQ0YsRUFDQyxHQUFpQixHQUFRLFdBRXJCLEdBQWlCLEtBQUssQ0FBSSxFQUNuQyxPQUNFLEdBQXlCLEtBQUssQ0FBSSxHQUNoQyxRQUFRLE1BQ04sZ0hBQ0EsQ0FDRixFQUNELEdBQWlCLEdBQVEsR0FFOUIsR0FBSSxHQUFNLEtBQUssQ0FBSSxHQUFLLEdBQVcsS0FBSyxDQUFJLEVBQUcsTUFBTyxHQUN0RCxHQUFvQixJQUFoQixZQUNGLE9BQ0UsUUFBUSxNQUNOLGtJQUNGLEVBQ0MsR0FBaUIsR0FBUSxHQUU5QixHQUFlLElBQVgsT0FDRixPQUNFLFFBQVEsTUFDTix1R0FDRixFQUNDLEdBQWlCLEdBQVEsR0FFOUIsR0FDVyxJQUFULE1BQ1MsSUFBVCxNQUNXLElBQU4sZUFDZSxJQUFwQixTQUVBLE9BQ0UsUUFBUSxNQUNOLHVHQUNPLENBQ1QsRUFDQyxHQUFpQixHQUFRLEdBRTlCLFVBQXdCLElBQXBCLFVBQTZCLE1BQU0sQ0FBSyxFQUMxQyxPQUNFLFFBQVEsTUFDTix3RkFDQSxDQUNGLEVBQ0MsR0FBaUIsR0FBUSxHQUU5QixHQUFJLEdBQXNCLGVBQWUsQ0FBYyxHQUNyRCxHQUNJLEVBQWlCLEdBQXNCLEdBQ3pDLElBQW1CLEVBRW5CLE9BQ0UsUUFBUSxNQUNOLGdEQUNBLEVBQ0EsQ0FDRixFQUNDLEdBQWlCLEdBQVEsV0FFckIsSUFBUyxFQUNsQixPQUNFLFFBQVEsTUFDTiwrUEFDQSxFQUNBLENBQ0YsRUFDQyxHQUFpQixHQUFRLEdBRTlCLE9BQVEsT0FDRCw4QkFDQSxlQUNBLFlBQ0EscUNBQ0EsK0JBQ0EsbUJBQ0EscUJBQ0EsZ0JBQ0EsTUFDSCxNQUFPLE9BQ0osZ0JBQ0EsY0FDSCxNQUFPLEdBRVgsY0FBZSxPQUNSLFVBQ0gsT0FBUSxPQUNELGdCQUNBLGNBQ0EsZUFDQSxZQUNBLGVBQ0Esc0JBQ0EsaUJBQ0EsZ0JBQ0EsWUFDQSxrQkFDQSxnQ0FDQSxnQkFDQSxvQkFDQSxzQkFDQSxZQUNBLGVBQ0EsZUFDQSxjQUNBLFlBQ0EsZUFDQSw4QkFDQSw0QkFDQSxxQkFDQSxhQUNBLFdBQ0EsZUFDQSxpQkFDQSxXQUNBLGtCQUNBLGVBQ0EsZUFDQSxlQUNBLGFBQ0EsZUFDQSxnQkFDQSxjQUNBLGVBQ0EsUUFDSCxNQUFPLFdBR1AsR0FEQSxFQUFpQixFQUFLLFlBQVksRUFBRSxNQUFNLEVBQUcsQ0FBQyxFQUM5QixJQUFaLFNBQTBDLElBQVosUUFDaEMsTUFBTyxHQW9CVCxPQW5CQSxFQUNJLFFBQVEsTUFDTixrSkFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxRQUFRLE1BQ04seVFBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNJLEdBQWlCLEdBQVEsT0FFbEMsZUFDQSxTQUNILE9BQVEsR0FBaUIsR0FBUSxHQUFLLE9BQ25DLFNBQ0gsR0FBZ0IsSUFBWixTQUFnQyxJQUFYLE9BQWtCLENBQ3pDLE9BQVEsT0FDRCxjQUNBLGVBQ0EsZUFDQSxZQUNBLHNCQUNBLFlBQ0EsZUFDQSxlQUNBLGNBQ0EsWUFDQSxlQUNBLDhCQUNBLDRCQUNBLHFCQUNBLGFBQ0EsV0FDQSxlQUNBLGlCQUNBLFdBQ0Esa0JBQ0EsZUFDQSxlQUNBLGVBQ0EsYUFDQSxlQUNBLGdCQUNBLFFBQ0gsY0FFQSxNQUFPLEdBRVgsUUFBUSxNQUNOLG9GQUNBLEVBQ0EsRUFDWSxJQUFaLFFBQ0ksbURBQ0Esb0ZBQ0osRUFDQSxDQUNGLEVBQ0EsR0FBaUIsR0FBUSxJQUcvQixNQUFPLEdBRVQsU0FBUyxFQUFxQixDQUFDLEVBQU0sRUFBTyxFQUFlLENBQ3pELElBQUksRUFBZSxDQUFDLEVBQ2xCLEVBQ0YsSUFBSyxLQUFPLEVBQ1YsR0FBaUIsRUFBTSxFQUFLLEVBQU0sR0FBTSxDQUFhLEdBQ25ELEVBQWEsS0FBSyxDQUFHLEVBQ3pCLEVBQVEsRUFDTCxZQUFhLENBQUMsRUFBTSxDQUNuQixNQUFPLElBQU0sRUFBTyxJQUNyQixFQUNBLEtBQUssSUFBSSxFQUNOLEVBQWEsU0FBbkIsRUFDSSxRQUFRLE1BQ04sZ01BQ0EsRUFDQSxDQUNGLEVBQ0EsRUFBSSxFQUFhLFFBQ2pCLFFBQVEsTUFDTixzTUFDQSxFQUNBLENBQ0YsRUFFTixTQUFTLEVBQVcsQ0FBQyxFQUFLLENBQ3hCLE9BQU8sR0FBcUIsS0FBSyxHQUFLLENBQUcsRUFDckMsOEZBQ0EsRUFFTixTQUFTLEVBQWMsQ0FBQyxFQUFhLENBSW5DLE9BSEEsRUFBYyxFQUFZLFFBQVUsRUFBWSxZQUFjLE9BQzlELEVBQVksMEJBQ1QsRUFBYyxFQUFZLHlCQUNoQixFQUFZLFdBQWxCLEVBQTZCLEVBQVksV0FBYSxFQUUvRCxTQUFTLEVBQW9CLENBQUMsRUFBUSxDQUNwQyxJQUFJLEVBQW1CLEdBQW9CLENBQU0sRUFDakQsR0FBSSxJQUFxQixFQUFTLEVBQWlCLFdBQVksQ0FDN0QsSUFBSSxFQUFRLEVBQU8sS0FBcUIsS0FDeEMsRUFBRyxPQUNDLEVBQVMsRUFBaUIsVUFBWSxFQUFpQixVQUVwRCxRQVlILEdBWEEsR0FDRSxFQUNBLEVBQU0sTUFDTixFQUFNLGFBQ04sRUFBTSxhQUNOLEVBQU0sUUFDTixFQUFNLGVBQ04sRUFBTSxLQUNOLEVBQU0sSUFDUixFQUNBLEVBQW1CLEVBQU0sS0FDVCxFQUFNLE9BQWxCLFNBQWtDLEdBQVIsS0FBMEIsQ0FDdEQsSUFBSyxFQUFRLEVBQVEsRUFBTSxZQUFjLEVBQVEsRUFBTSxXQUN2RCxHQUE2QixFQUFrQixNQUFNLEVBQ3JELEVBQVEsRUFBTSxpQkFDWixlQUNFLEdBQ0UsR0FBSyxDQUNQLEVBQ0Esa0JBQ0osRUFDQSxJQUNFLEVBQW1CLEVBQ25CLEVBQW1CLEVBQU0sT0FDekIsSUFDQSxDQUNBLElBQUksRUFBWSxFQUFNLEdBQ3RCLEdBQUksSUFBYyxHQUFVLEVBQVUsT0FBUyxFQUFPLEtBQU0sQ0FDMUQsSUFBSSxFQUFhLEVBQVUsS0FBcUIsS0FDaEQsSUFBSyxFQUNILE1BQU0sTUFDSiwrRkFDRixFQUNGLEdBQ0UsRUFDQSxFQUFXLE1BQ1gsRUFBVyxhQUNYLEVBQVcsYUFDWCxFQUFXLFFBQ1gsRUFBVyxlQUNYLEVBQVcsS0FDWCxFQUFXLElBQ2IsR0FHSixJQUNFLEVBQW1CLEVBQ25CLEVBQW1CLEVBQU0sT0FDekIsSUFFQSxBQUFDLEVBQVksRUFBTSxHQUNqQixFQUFVLE9BQVMsRUFBTyxNQUN4QixHQUFxQixDQUFTLEVBRXRDLFlBQ0csV0FDSCxHQUFlLEVBQVEsRUFBTSxNQUFPLEVBQU0sWUFBWSxFQUN0RCxZQUNHLFNBQ0gsQUFBQyxFQUFtQixFQUFNLE1BQ2hCLEdBQVIsTUFDRSxHQUFjLElBQVUsRUFBTSxTQUFVLEVBQWtCLEVBQUUsSUFJeEUsU0FBUyxFQUFnQixDQUFDLEVBQUksRUFBRyxFQUFHLENBQ2xDLEdBQUksR0FBc0IsT0FBTyxFQUFHLEVBQUcsQ0FBQyxFQUN4QyxHQUF1QixHQUN2QixHQUFJLENBQ0YsSUFBSSxFQUEyQixFQUFHLENBQUMsRUFDbkMsT0FBTyxTQUNQLENBQ0EsR0FDSSxHQUF1QixHQUNoQixLQUFULE1BQW1DLEtBQVQsTUFFMUIsR0FDRyxHQUFnQixFQUNqQixLQUNJLEVBQUksR0FDTCxFQUFLLEdBQ0wsR0FBZSxHQUFnQixLQUNoQyxHQUFxQixDQUFDLEVBQ3RCLEdBRUYsSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFHLE9BQVEsSUFBSyxHQUFxQixFQUFHLEVBQUUsSUFHbEUsU0FBUyxFQUFXLENBQUMsRUFBTSxFQUFrQixDQUMzQyxJQUFJLEVBQVksRUFBSyxVQUNyQixHQUFhLElBQVQsS0FBb0IsT0FBTyxLQUMvQixJQUFJLEVBQVEsRUFBVSxLQUFxQixLQUMzQyxHQUFhLElBQVQsS0FBZ0IsT0FBTyxLQUMzQixFQUFZLEVBQU0sR0FDbEIsRUFBRyxPQUFRLE9BQ0osY0FDQSxxQkFDQSxvQkFDQSwyQkFDQSxrQkFDQSx5QkFDQSxrQkFDQSx5QkFDQSxnQkFDQSx1QkFDQSxlQUNILENBQUMsR0FBUyxFQUFNLFlBQ1osRUFBTyxFQUFLLEtBQ2IsSUFDYyxJQUFiLFVBQ1ksSUFBWixTQUNhLElBQWIsVUFDZSxJQUFmLGFBRUosR0FBUSxFQUNSLGdCQUVBLEVBQU8sR0FFWCxHQUFJLEVBQU0sT0FBTyxLQUNqQixHQUFJLFVBQW1DLElBQXRCLFdBQ2YsTUFBTSxNQUNKLGFBQ0UsRUFDQSwrREFDTyxFQUNQLFNBQ0osRUFDRixPQUFPLEVBRVQsU0FBUyxFQUFPLEVBQUcsQ0FDakIsR0FBSSxHQUFjLE9BQU8sR0FDekIsSUFBSSxFQUNGLEVBQWEsR0FDYixFQUFjLEVBQVcsT0FDekIsRUFDQSxFQUFXLFVBQVcsR0FBTyxHQUFLLE1BQVEsR0FBSyxZQUMvQyxFQUFZLEVBQVMsT0FDdkIsSUFDRSxFQUFRLEVBQ1IsRUFBUSxHQUFlLEVBQVcsS0FBVyxFQUFTLEdBQ3RELEtBRUYsSUFBSSxFQUFTLEVBQWMsRUFDM0IsSUFDRSxFQUFNLEVBQ04sR0FBTyxHQUNQLEVBQVcsRUFBYyxLQUFTLEVBQVMsRUFBWSxHQUN2RCxLQUVGLE9BQVEsR0FBZSxFQUFTLE1BQU0sRUFBTyxFQUFJLEVBQU0sRUFBSSxFQUFXLE1BQUMsRUFFekUsU0FBUyxFQUFnQixDQUFDLEVBQWEsQ0FDckMsSUFBSSxFQUFVLEVBQVksUUFNMUIsTUFMQSxhQUFjLEdBQ1IsRUFBYyxFQUFZLFNBQ3RCLElBQU4sR0FBNEIsSUFBUCxLQUFtQixFQUFjLEtBQ3JELEVBQWMsRUFDWixJQUFQLEtBQXVCLEVBQWMsSUFDOUIsSUFBTSxHQUFzQixJQUFQLEdBQXFCLEVBQWMsRUFFakUsU0FBUyxFQUF1QixFQUFHLENBQ2pDLE1BQU8sR0FFVCxTQUFTLEVBQXdCLEVBQUcsQ0FDbEMsTUFBTyxHQUVULFNBQVMsRUFBb0IsQ0FBQyxFQUFXLENBQ3ZDLFNBQVMsQ0FBa0IsQ0FDekIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsS0FBSyxXQUFhLEVBQ2xCLEtBQUssWUFBYyxFQUNuQixLQUFLLEtBQU8sRUFDWixLQUFLLFlBQWMsRUFDbkIsS0FBSyxPQUFTLEVBQ2QsS0FBSyxjQUFnQixLQUNyQixRQUFTLEtBQVksRUFDbkIsRUFBVSxlQUFlLENBQVEsSUFDN0IsRUFBWSxFQUFVLEdBQ3ZCLEtBQUssR0FBWSxFQUNkLEVBQVUsQ0FBVyxFQUNyQixFQUFZLElBU3BCLE9BUkEsS0FBSyxvQkFDSyxFQUFZLGtCQUFwQixLQUNJLEVBQVksaUJBQ0wsRUFBWSxjQUFuQixJQUVGLEdBQ0EsR0FDSixLQUFLLHFCQUF1QixHQUNyQixLQXlCVCxPQXZCQSxHQUFPLEVBQW1CLFVBQVcsQ0FDbkMsdUJBQXlCLEVBQUcsQ0FDMUIsS0FBSyxpQkFBbUIsR0FDeEIsSUFBSSxFQUFRLEtBQUssWUFDakIsSUFDRyxFQUFNLGVBQ0gsRUFBTSxlQUFlLFNBQ0EsRUFBTSxjQUEzQixZQUNDLEVBQU0sWUFBYyxJQUN4QixLQUFLLG1CQUFxQixLQUUvQix3QkFBMEIsRUFBRyxDQUMzQixJQUFJLEVBQVEsS0FBSyxZQUNqQixJQUNHLEVBQU0sZ0JBQ0gsRUFBTSxnQkFBZ0IsU0FDRCxFQUFNLGVBQTNCLFlBQ0MsRUFBTSxhQUFlLElBQ3pCLEtBQUsscUJBQXVCLEtBRWpDLGdCQUFrQixFQUFHLEdBQ3JCLGFBQWMsRUFDaEIsQ0FBQyxFQUNNLEVBRVQsU0FBUyxFQUFtQixDQUFDLEVBQVEsQ0FDbkMsSUFBSSxFQUFjLEtBQUssWUFDdkIsT0FBTyxFQUFZLGlCQUNmLEVBQVksaUJBQWlCLENBQU0sR0FDbEMsRUFBUyxHQUFrQixNQUN4QixFQUFZLEdBQ2QsR0FFUixTQUFTLEVBQXFCLEVBQUcsQ0FDL0IsT0FBTyxHQUVULFNBQVMsRUFBd0IsQ0FBQyxFQUFjLEVBQWEsQ0FDM0QsT0FBUSxPQUNELFFBQ0gsT0FBYyxHQUFhLFFBQVEsRUFBWSxPQUFPLElBQS9DLE9BQ0osVUFDSCxPQUFPLEVBQVksVUFBWSxPQUM1QixlQUNBLGdCQUNBLFdBQ0gsTUFBTyxXQUVQLE1BQU8sSUFHYixTQUFTLEVBQXNCLENBQUMsRUFBYSxDQUUzQyxPQURBLEVBQWMsRUFBWSxjQUNDLElBQXBCLFVBQW1DLFNBQVUsRUFDaEQsRUFBWSxLQUNaLEtBRU4sU0FBUyxFQUF5QixDQUFDLEVBQWMsRUFBYSxDQUM1RCxPQUFRLE9BQ0QsaUJBQ0gsT0FBTyxHQUF1QixDQUFXLE1BQ3RDLFdBQ0gsR0FBSSxFQUFZLFFBQVUsR0FBZSxPQUFPLEtBRWhELE9BREEsR0FBbUIsR0FDWixPQUNKLFlBQ0gsT0FDRyxFQUFlLEVBQVksS0FDNUIsSUFBaUIsSUFBaUIsR0FDOUIsS0FDQSxVQUdOLE9BQU8sTUFHYixTQUFTLEVBQTJCLENBQUMsRUFBYyxFQUFhLENBQzlELEdBQUksR0FDRixPQUE0QixJQUFyQixtQkFDSCxJQUNBLEdBQXlCLEVBQWMsQ0FBVyxHQUNoRCxFQUFlLEdBQVEsRUFDeEIsR0FBZSxHQUFZLEdBQU8sS0FDbEMsR0FBYyxHQUNmLEdBQ0EsS0FDTixPQUFRLE9BQ0QsUUFDSCxPQUFPLFNBQ0osV0FDSCxLQUVJLEVBQVksU0FDWixFQUFZLFFBQ1osRUFBWSxVQUViLEVBQVksU0FBVyxFQUFZLE9BQ3BDLENBQ0EsR0FBSSxFQUFZLE1BQVEsRUFBSSxFQUFZLEtBQUssT0FDM0MsT0FBTyxFQUFZLEtBQ3JCLEdBQUksRUFBWSxNQUNkLE9BQU8sT0FBTyxhQUFhLEVBQVksS0FBSyxFQUVoRCxPQUFPLFNBQ0osaUJBQ0gsT0FBTyxJQUF1QyxFQUFZLFNBQXJCLEtBQ2pDLEtBQ0EsRUFBWSxhQUVoQixPQUFPLE1BR2IsU0FBUyxFQUFrQixDQUFDLEVBQU0sQ0FDaEMsSUFBSSxFQUFXLEdBQVEsRUFBSyxVQUFZLEVBQUssU0FBUyxZQUFZLEVBQ2xFLE9BQW1CLElBQVosVUFDRCxHQUFvQixFQUFLLE1BQ1osSUFBZixXQUNFLEdBQ0EsR0FFUixTQUFTLEVBQWdCLENBQUMsRUFBaUIsQ0FDekMsSUFBSyxHQUFXLE1BQU8sR0FDdkIsRUFBa0IsS0FBTyxFQUN6QixJQUFJLEVBQWMsS0FBbUIsU0FLckMsT0FKQSxJQUNJLEVBQWMsU0FBUyxjQUFjLEtBQUssRUFDNUMsRUFBWSxhQUFhLEVBQWlCLFNBQVMsRUFDbEQsU0FBb0MsRUFBWSxLQUFsQyxZQUNWLEVBRVQsU0FBUyxFQUE4QixDQUNyQyxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsR0FDSSxHQUNFLEdBQWEsS0FBSyxDQUFNLEVBQ3ZCLEdBQWUsQ0FBQyxDQUFNLEVBQ3hCLEdBQWdCLEVBQ3JCLEVBQU8sR0FBNEIsRUFBTSxVQUFVLEVBQ25ELEVBQUksRUFBSyxTQUNMLEVBQWMsSUFBSSxHQUNsQixXQUNBLFNBQ0EsS0FDQSxFQUNBLENBQ0YsRUFDQSxFQUFjLEtBQUssQ0FBRSxNQUFPLEVBQWEsVUFBVyxDQUFLLENBQUMsR0FFOUQsU0FBUyxFQUFlLENBQUMsRUFBZSxDQUN0QyxHQUFxQixFQUFlLENBQUMsRUFFdkMsU0FBUyxFQUFxQixDQUFDLEVBQVksQ0FDekMsSUFBSSxFQUFhLEdBQW9CLENBQVUsRUFDL0MsR0FBSSxHQUFxQixDQUFVLEVBQUcsT0FBTyxFQUUvQyxTQUFTLEVBQTJCLENBQUMsRUFBYyxFQUFZLENBQzdELEdBQWlCLElBQWIsU0FBMkIsT0FBTyxFQUV4QyxTQUFTLEVBQTBCLEVBQUcsQ0FDcEMsS0FDRyxHQUFnQixZQUFZLG1CQUFvQixFQUFvQixFQUNwRSxHQUFzQixHQUFrQixNQUU3QyxTQUFTLEVBQW9CLENBQUMsRUFBYSxDQUN6QyxHQUNjLEVBQVksZUFBeEIsU0FDQSxHQUFzQixFQUFtQixFQUN6QyxDQUNBLElBQUksRUFBZ0IsQ0FBQyxFQUNyQixHQUNFLEVBQ0EsR0FDQSxFQUNBLEdBQWUsQ0FBVyxDQUM1QixFQUNBLEdBQWlCLEdBQWlCLENBQWEsR0FHbkQsU0FBUyxFQUFpQyxDQUN4QyxFQUNBLEVBQ0EsRUFDQSxDQUNBLEFBQWMsSUFBZCxXQUNLLEdBQTJCLEVBQzNCLEdBQWtCLEVBQ2xCLEdBQXNCLEVBQ3ZCLEdBQWdCLFlBQVksbUJBQW9CLEVBQW9CLEdBQ3JELElBQWYsWUFBK0IsR0FBMkIsRUFFaEUsU0FBUyxFQUFrQyxDQUFDLEVBQWMsQ0FDeEQsR0FDd0IsSUFBdEIsbUJBQ1ksSUFBWixTQUNjLElBQWQsVUFFQSxPQUFPLEdBQXNCLEVBQW1CLEVBRXBELFNBQVMsRUFBMEIsQ0FBQyxFQUFjLEVBQVksQ0FDNUQsR0FBZ0IsSUFBWixRQUEwQixPQUFPLEdBQXNCLENBQVUsRUFFdkUsU0FBUyxFQUFrQyxDQUFDLEVBQWMsRUFBWSxDQUNwRSxHQUFnQixJQUFaLFNBQXlDLElBQWIsU0FDOUIsT0FBTyxHQUFzQixDQUFVLEVBRTNDLFNBQVMsRUFBRSxDQUFDLEVBQUcsRUFBRyxDQUNoQixPQUFRLElBQU0sSUFBWSxJQUFOLEdBQVcsRUFBSSxJQUFNLEVBQUksSUFBUSxJQUFNLEdBQUssSUFBTSxFQUV4RSxTQUFTLEVBQVksQ0FBQyxFQUFNLEVBQU0sQ0FDaEMsR0FBSSxHQUFTLEVBQU0sQ0FBSSxFQUFHLE1BQU8sR0FDakMsVUFDc0IsSUFBcEIsVUFDUyxJQUFULGFBQ29CLElBQXBCLFVBQ1MsSUFBVCxLQUVBLE1BQU8sR0FDVCxJQUFJLEVBQVEsT0FBTyxLQUFLLENBQUksRUFDMUIsRUFBUSxPQUFPLEtBQUssQ0FBSSxFQUMxQixHQUFJLEVBQU0sU0FBVyxFQUFNLE9BQVEsTUFBTyxHQUMxQyxJQUFLLEVBQVEsRUFBRyxFQUFRLEVBQU0sT0FBUSxJQUFTLENBQzdDLElBQUksRUFBYSxFQUFNLEdBQ3ZCLElBQ0csR0FBZSxLQUFLLEVBQU0sQ0FBVSxJQUNwQyxHQUFTLEVBQUssR0FBYSxFQUFLLEVBQVcsRUFFNUMsTUFBTyxHQUVYLE1BQU8sR0FFVCxTQUFTLEVBQVcsQ0FBQyxFQUFNLENBQ3pCLEtBQU8sR0FBUSxFQUFLLFlBQWMsRUFBTyxFQUFLLFdBQzlDLE9BQU8sRUFFVCxTQUFTLEVBQXlCLENBQUMsRUFBTSxFQUFRLENBQy9DLElBQUksRUFBTyxHQUFZLENBQUksRUFDM0IsRUFBTyxFQUNQLFFBQVMsRUFBUyxHQUFRLENBQ3hCLEdBQVUsRUFBSyxXQUFYLEVBQXFCLENBRXZCLEdBREEsRUFBVSxFQUFPLEVBQUssWUFBWSxPQUM5QixHQUFRLEdBQVUsR0FBVyxFQUMvQixNQUFPLENBQUUsS0FBTSxFQUFNLE9BQVEsRUFBUyxDQUFLLEVBQzdDLEVBQU8sRUFFVCxFQUFHLENBQ0QsS0FBTyxHQUFRLENBQ2IsR0FBSSxFQUFLLFlBQWEsQ0FDcEIsRUFBTyxFQUFLLFlBQ1osUUFFRixFQUFPLEVBQUssV0FFZCxFQUFZLE9BRWQsRUFBTyxHQUFZLENBQUksR0FHM0IsU0FBUyxFQUFZLENBQUMsRUFBVyxFQUFXLENBQzFDLE9BQU8sR0FBYSxFQUNoQixJQUFjLEVBQ1osR0FDQSxHQUFtQixFQUFVLFdBQWhCLEVBQ1gsR0FDQSxHQUFtQixFQUFVLFdBQWhCLEVBQ1gsR0FBYSxFQUFXLEVBQVUsVUFBVSxHQUM1QyxhQUFjLEdBQ1osRUFBVSxTQUFTLENBQVMsRUFDNUIsRUFBVSwyQkFDTCxFQUFVLHdCQUF3QixDQUFTLEVBQUksSUFDbEQsR0FDVixHQUVOLFNBQVMsRUFBb0IsQ0FBQyxFQUFlLENBQzNDLEVBQ1UsR0FBUixNQUNRLEVBQWMsZUFBdEIsTUFDUSxFQUFjLGNBQWMsYUFBcEMsS0FDSSxFQUFjLGNBQWMsWUFDNUIsT0FDTixRQUNNLEVBQVUsR0FBaUIsRUFBYyxRQUFRLEVBQ3JELGFBQW1CLEVBQWMsbUJBRWpDLENBQ0EsR0FBSSxDQUNGLElBQUksU0FDa0IsRUFBUSxjQUFjLFNBQVMsT0FBbkQsZUFDSyxFQUFQLENBQ0EsRUFBMkIsR0FFN0IsR0FBSSxFQUEwQixFQUFnQixFQUFRLGtCQUNqRCxPQUNMLEVBQVUsR0FBaUIsRUFBYyxRQUFRLEVBRW5ELE9BQU8sRUFFVCxTQUFTLEVBQXdCLENBQUMsRUFBTSxDQUN0QyxJQUFJLEVBQVcsR0FBUSxFQUFLLFVBQVksRUFBSyxTQUFTLFlBQVksRUFDbEUsT0FDRSxJQUNjLElBQVosVUFDWSxFQUFLLE9BQWhCLFFBQ2MsRUFBSyxPQUFsQixVQUNVLEVBQUssT0FBZixPQUNVLEVBQUssT0FBZixPQUNlLEVBQUssT0FBcEIsYUFDYSxJQUFmLFlBQ1csRUFBSyxrQkFBaEIsUUFHTixTQUFTLEVBQWdCLENBQUMsRUFBMkIsRUFBZSxDQUNsRSxJQUFJLEVBQWlCLEdBQXFCLENBQWEsRUFDdkQsRUFBZ0IsRUFBMEIsWUFDMUMsSUFBSSxFQUFzQixFQUEwQixlQUNwRCxHQUNFLElBQW1CLEdBQ25CLEdBQ0EsRUFBYyxlQUNkLEdBQWEsRUFBYyxjQUFjLGdCQUFpQixDQUFhLEVBQ3ZFLENBQ0EsR0FDVyxJQUFULE1BQ0EsR0FBeUIsQ0FBYSxHQUV0QyxHQUNJLEVBQTRCLEVBQW9CLE1BQ2pELEVBQWlCLEVBQW9CLElBQzNCLElBQU4sU0FDRixFQUFpQixHQUNwQixtQkFBb0IsRUFFcEIsQUFBQyxFQUFjLGVBQWlCLEVBQzdCLEVBQWMsYUFBZSxLQUFLLElBQ2pDLEVBQ0EsRUFBYyxNQUFNLE1BQ3RCLFVBRUEsR0FDRSxFQUNBLEVBQWMsZUFBaUIsV0FDL0IsRUFBMEIsYUFDNUIsT0FDRixFQUFlLGFBQ2YsQ0FDQSxFQUFpQixFQUFlLGFBQWEsRUFDN0MsSUFBSSxFQUFTLEVBQWMsWUFBWSxPQUNyQyxFQUFRLEtBQUssSUFBSSxFQUFvQixNQUFPLENBQU0sRUFDcEQsRUFDYSxFQUFvQixNQUExQixPQUNELEVBQ0EsS0FBSyxJQUFJLEVBQW9CLElBQUssQ0FBTSxHQUM3QyxFQUFlLFFBQ2QsRUFBUSxJQUNOLEVBQVMsRUFDVixFQUFzQixFQUN0QixFQUFRLEdBQ1gsRUFBUyxHQUEwQixFQUFlLENBQUssRUFDdkQsSUFBSSxFQUFZLEdBQ2QsRUFDQSxDQUNGLEVBQ0EsR0FDRSxJQUNPLEVBQWUsYUFBckIsR0FDQyxFQUFlLGFBQWUsRUFBTyxNQUNyQyxFQUFlLGVBQWlCLEVBQU8sUUFDdkMsRUFBZSxZQUFjLEVBQVUsTUFDdkMsRUFBZSxjQUFnQixFQUFVLFVBQ3pDLEVBQ0EsRUFBMEIsWUFBWSxFQUN4QyxFQUEwQixTQUFTLEVBQU8sS0FBTSxFQUFPLE1BQU0sRUFDN0QsRUFBZSxnQkFBZ0IsRUFDL0IsRUFBUSxHQUNILEVBQWUsU0FBUyxDQUF5QixFQUNsRCxFQUFlLE9BQU8sRUFBVSxLQUFNLEVBQVUsTUFBTSxJQUNyRCxFQUEwQixPQUN6QixFQUFVLEtBQ1YsRUFBVSxNQUNaLEVBQ0EsRUFBZSxTQUFTLENBQXlCLEtBRTNELEVBQTRCLENBQUMsRUFDN0IsSUFDRSxFQUFpQixFQUNoQixFQUFpQixFQUFlLFlBR2pDLEFBQU0sRUFBZSxXQUFyQixHQUNFLEVBQTBCLEtBQUssQ0FDN0IsUUFBUyxFQUNULEtBQU0sRUFBZSxXQUNyQixJQUFLLEVBQWUsU0FDdEIsQ0FBQyxFQUNMLE9BQXNCLEVBQWMsUUFBcEMsWUFBNkMsRUFBYyxNQUFNLEVBQ2pFLElBQ0UsRUFBZ0IsRUFDaEIsRUFBZ0IsRUFBMEIsT0FDMUMsSUFFQSxBQUFDLEVBQWlCLEVBQTBCLEdBQ3pDLEVBQWUsUUFBUSxXQUFhLEVBQWUsS0FDbkQsRUFBZSxRQUFRLFVBQVksRUFBZSxLQUczRCxTQUFTLEVBQW9CLENBQzNCLEVBQ0EsRUFDQSxFQUNBLENBQ0EsSUFBSSxFQUNGLEVBQWtCLFNBQVcsRUFDekIsRUFBa0IsU0FDWixFQUFrQixXQUF4QixFQUNFLEVBQ0EsRUFBa0IsY0FDMUIsSUFDVSxJQUFSLE1BQ0EsS0FBa0IsR0FBaUIsQ0FBRyxJQUNwQyxFQUFNLElBQ1IsbUJBQW9CLElBQU8sR0FBeUIsQ0FBRyxFQUNsRCxFQUFNLENBQUUsTUFBTyxFQUFJLGVBQWdCLElBQUssRUFBSSxZQUFhLEdBQ3hELEdBQ0MsRUFBSSxlQUFpQixFQUFJLGNBQWMsYUFDeEMsUUFDQSxhQUFhLEVBQ2QsRUFBTSxDQUNMLFdBQVksRUFBSSxXQUNoQixhQUFjLEVBQUksYUFDbEIsVUFBVyxFQUFJLFVBQ2YsWUFBYSxFQUFJLFdBQ25CLEdBQ0gsSUFBaUIsR0FBYSxHQUFlLENBQUcsSUFDN0MsR0FBZ0IsRUFDakIsRUFBTSxHQUE0QixHQUFtQixVQUFVLEVBQ2hFLEVBQUksRUFBSSxTQUNKLEVBQWMsSUFBSSxHQUNsQixXQUNBLFNBQ0EsS0FDQSxFQUNBLENBQ0YsRUFDQSxFQUFjLEtBQUssQ0FBRSxNQUFPLEVBQWEsVUFBVyxDQUFJLENBQUMsRUFDeEQsRUFBWSxPQUFTLE1BRTlCLFNBQVMsRUFBYSxDQUFDLEVBQVcsRUFBVyxDQUMzQyxJQUFJLEVBQVcsQ0FBQyxFQUloQixPQUhBLEVBQVMsRUFBVSxZQUFZLEdBQUssRUFBVSxZQUFZLEVBQzFELEVBQVMsU0FBVyxHQUFhLFNBQVcsRUFDNUMsRUFBUyxNQUFRLEdBQWEsTUFBUSxFQUMvQixFQUVULFNBQVMsRUFBMEIsQ0FBQyxFQUFXLENBQzdDLEdBQUksR0FBbUIsR0FBWSxPQUFPLEdBQW1CLEdBQzdELElBQUssR0FBZSxHQUFZLE9BQU8sRUFDdkMsSUFBSSxFQUFZLEdBQWUsR0FDN0IsRUFDRixJQUFLLEtBQWEsRUFDaEIsR0FBSSxFQUFVLGVBQWUsQ0FBUyxHQUFLLEtBQWEsR0FDdEQsT0FBUSxHQUFtQixHQUFhLEVBQVUsR0FDdEQsT0FBTyxFQUVULFNBQVMsRUFBbUIsQ0FBQyxFQUFjLEVBQVcsQ0FDcEQsR0FBMkIsSUFBSSxFQUFjLENBQVMsRUFDdEQsR0FBc0IsRUFBVyxDQUFDLENBQVksQ0FBQyxFQUVqRCxTQUFTLEVBQStCLEVBQUcsQ0FDekMsUUFDTSxFQUFXLEdBQ2IsRUFBSyxHQUEyQixHQUF3QixFQUMxRCxFQUFJLEdBRUosQ0FDQSxJQUFJLEVBQVEsR0FBaUIsR0FDN0IsR0FBaUIsS0FBTyxLQUN4QixJQUFJLEVBQVEsR0FBaUIsR0FDN0IsR0FBaUIsS0FBTyxLQUN4QixJQUFJLEVBQVMsR0FBaUIsR0FDOUIsR0FBaUIsS0FBTyxLQUN4QixJQUFJLEVBQU8sR0FBaUIsR0FFNUIsR0FEQSxHQUFpQixLQUFPLEtBQ1gsSUFBVCxNQUEyQixJQUFULEtBQWlCLENBQ3JDLElBQUksRUFBVSxFQUFNLFFBQ3BCLEFBQVMsSUFBVCxLQUNLLEVBQU8sS0FBTyxHQUNiLEVBQU8sS0FBTyxFQUFRLEtBQVEsRUFBUSxLQUFPLEdBQ25ELEVBQU0sUUFBVSxFQUVsQixBQUFNLElBQU4sR0FBYyxHQUE4QixFQUFPLEVBQVEsQ0FBSSxHQUduRSxTQUFTLEVBQWUsQ0FBQyxFQUFPLEVBQU8sRUFBUSxFQUFNLENBQ25ELEdBQWlCLE1BQTJCLEVBQzVDLEdBQWlCLE1BQTJCLEVBQzVDLEdBQWlCLE1BQTJCLEVBQzVDLEdBQWlCLE1BQTJCLEVBQzVDLElBQTRCLEVBQzVCLEVBQU0sT0FBUyxFQUNmLEVBQVEsRUFBTSxVQUNMLElBQVQsT0FBbUIsRUFBTSxPQUFTLEdBRXBDLFNBQVMsRUFBMkIsQ0FBQyxFQUFPLEVBQU8sRUFBUSxFQUFNLENBRS9ELE9BREEsR0FBZ0IsRUFBTyxFQUFPLEVBQVEsQ0FBSSxFQUNuQyxHQUF1QixDQUFLLEVBRXJDLFNBQVMsRUFBOEIsQ0FBQyxFQUFPLEVBQU0sQ0FFbkQsT0FEQSxHQUFnQixFQUFPLEtBQU0sS0FBTSxDQUFJLEVBQ2hDLEdBQXVCLENBQUssRUFFckMsU0FBUyxFQUE2QixDQUFDLEVBQWEsRUFBUSxFQUFNLENBQ2hFLEVBQVksT0FBUyxFQUNyQixJQUFJLEVBQVksRUFBWSxVQUM1QixBQUFTLElBQVQsT0FBdUIsRUFBVSxPQUFTLEdBQzFDLFFBQVMsRUFBVyxHQUFJLEVBQVMsRUFBWSxPQUFpQixJQUFULE1BQ25ELEFBQUMsRUFBTyxZQUFjLEVBQ25CLEVBQVksRUFBTyxVQUNYLElBQVQsT0FBdUIsRUFBVSxZQUFjLEdBQ3hDLEVBQU8sTUFBZCxLQUNJLEVBQWMsRUFBTyxVQUNkLElBQVQsTUFDRSxFQUFZLFlBQWMsS0FDekIsRUFBVyxLQUNmLEVBQWMsRUFDZCxFQUFTLEVBQU8sT0FDckIsR0FDVyxJQUFULE1BQ00sRUFBWSxNQUFsQixJQUNFLEVBQVMsRUFBWSxVQUN0QixFQUFXLEdBQUssR0FBTSxDQUFJLEVBQzFCLEVBQVMsRUFBTyxjQUNoQixFQUFjLEVBQU8sR0FDYixJQUFULEtBQ0ssRUFBTyxHQUFZLENBQUMsQ0FBTSxFQUMzQixFQUFZLEtBQUssQ0FBTSxFQUMxQixFQUFPLEtBQU8sRUFBTyxXQUUxQixTQUFTLEVBQXNCLENBQUMsRUFBYSxDQUMzQyxHQUFJLEdBQW9CLEdBQ3RCLE1BQ0ksR0FBMkIsR0FBb0IsRUFDaEQsR0FBK0IsR0FBd0IsS0FDeEQsTUFDRSxrTkFDRixFQUVKLEdBQTJCLEtBQ3ZCLEdBQTJCLEVBQzVCLEdBQStCLEtBQ2hDLFFBQVEsTUFDTiw0TUFDRixHQUNPLEVBQVksWUFBckIsT0FDUyxFQUFZLE1BQVEsUUFBM0IsR0FDQSxHQUF5QyxDQUFXLEVBQ3RELFFBQVMsRUFBTyxFQUFhLEVBQVMsRUFBSyxPQUFpQixJQUFULE1BQ2pELEFBQVMsRUFBSyxZQUFkLE9BQ1MsRUFBSyxNQUFRLFFBQXBCLEdBQ0EsR0FBeUMsQ0FBVyxFQUNuRCxFQUFPLEVBQ1AsRUFBUyxFQUFLLE9BQ25CLE9BQWEsRUFBSyxNQUFYLEVBQWlCLEVBQUssVUFBWSxLQUUzQyxTQUFTLEVBQThCLENBQUMsRUFBTSxDQUM1QyxHQUFhLEtBQVQsS0FBd0IsT0FBTyxFQUNuQyxJQUFJLEVBQVMsR0FBYyxDQUFJLEVBQy9CLE9BQWtCLElBQU4sT0FBZSxFQUFPLEVBQU8sUUFFM0MsU0FBUyxFQUFnQyxDQUFDLEVBQU0sQ0FDOUMsR0FBYSxLQUFULEtBQXdCLE9BQU8sRUFDbkMsSUFBSSxFQUFTLEdBQWMsQ0FBSSxFQUMvQixPQUFrQixJQUFOLE9BQ0MsSUFBVCxNQUNXLElBQU4sZUFDaUIsRUFBSyxTQUEzQixhQUNFLEVBQVMsR0FBK0IsRUFBSyxNQUFNLEVBQ3JELEVBQUssU0FBVyxJQUNaLEVBQVMsQ0FBRSxTQUFVLEdBQXdCLE9BQVEsQ0FBTyxFQUNuRCxFQUFLLGNBQVgsU0FDRixFQUFPLFlBQWMsRUFBSyxhQUM3QixHQUNBLEVBQ0YsRUFBTyxRQUViLFNBQVMsRUFBaUMsQ0FBQyxFQUFPLEVBQVMsQ0FDekQsR0FBYSxLQUFULEtBQXdCLE1BQU8sR0FDbkMsSUFBSSxFQUFXLEVBQU0sWUFDckIsRUFBVSxFQUFRLEtBQ2xCLElBQUksRUFBdUIsR0FDekIsU0FDc0IsSUFBcEIsVUFBd0MsSUFBVCxLQUMzQixFQUFRLFNBQ1IsS0FDUixPQUFRLEVBQU0sU0FDUCxHQUNILE9BQXNCLElBQXRCLGFBQWtDLEVBQXVCLElBQ3pELFVBQ0csR0FDSCxPQUFzQixJQUF0QixXQUNLLEVBQXVCLEdBQ3hCLElBQXFCLEtBQ3BCLEVBQXVCLElBQzVCLFVBQ0csSUFDSCxJQUFxQixHQUNoQixFQUF1QixHQUN4QixJQUFxQixLQUNwQixFQUF1QixJQUM1QixVQUNHLFFBQ0EsSUFDSCxJQUFxQixHQUNoQixFQUF1QixHQUN4QixJQUFxQixLQUNwQixFQUF1QixJQUM1QixjQUVBLE1BQU8sR0FFWCxPQUFPLElBQ0gsRUFBUSxHQUFjLENBQVEsRUFDckIsSUFBTixRQUFlLElBQVUsR0FBYyxDQUFPLEdBQ2pELEdBQ0EsR0FFTixTQUFTLEVBQXNDLENBQUMsRUFBTyxDQUNyRCxBQUFTLEtBQVQsYUFDd0IsVUFBdEIsYUFDVSxLQUFULE9BQThCLEdBQW1CLElBQUksU0FDdEQsR0FBaUIsSUFBSSxDQUFLLEdBRTlCLFNBQVMsRUFBcUMsQ0FDNUMsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFzQixVQUFsQixFQUNZLE1BQWQsRUFDZ0IsUUFBaEIsRUFDWSxJQUFaLEVBQ2EsS0FBYixHQUhRLEVBSVIsRUFBZ0IsS0FDbEIsT0FBUSxPQUNELE9BQ0EsUUFDQSxHQUNILEVBQWdCLEVBQ2hCLFVBQ0csSUFDSCxFQUFnQixFQUFLLE9BRXpCLEdBQWEsS0FBVCxLQUNGLE1BQU0sTUFBTSxxREFBcUQsRUFDbkUsSUFBSSxFQUFjLEdBY2xCLEdBYkEsRUFBTyxHQUNFLElBQVQsT0FDSSxFQUFnQixHQUFjLENBQWEsRUFDbEMsSUFBTixTQUNGLEVBQWMsSUFBSSxDQUFhLEVBQzNCLEVBQU8sR0FDUixFQUFnQixJQUFJLENBQWEsSUFDMUIsSUFBTixFQUFhLEVBQU8sR0FBTyxFQUFjLE1BQ3pDLEtBQVQsT0FDRyxHQUFpQixJQUFJLENBQUssR0FDZixJQUFULE1BQXNCLEdBQWlCLElBQUksQ0FBUyxLQUN0RCxFQUFPLElBQ1YsSUFBUyxFQUFNLG1CQUFxQixJQUNoQyxHQUFRLEVBQ1YsQUFBQyxFQUFZLEdBQStCLEVBQU8sQ0FBQyxFQUN6QyxJQUFULE1BQXNCLEdBQXNCLEVBQVcsRUFBTyxDQUFDLEVBQ25FLEFBQVMsSUFBVCxNQUNFLEdBQ0EsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNPLElBQVQsTUFDRSxHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBRUosU0FBUyxFQUF5QixFQUFHLENBQ25DLElBQUksRUFBcUIsR0FFekIsT0FEQSxHQUF5QixFQUNsQixFQUVULFNBQVMsRUFBd0IsQ0FBQyxFQUFvQixDQUNwRCxJQUFJLEVBQWMsR0FFbEIsT0FEQSxHQUF5QixFQUNsQixFQUVULFNBQVMsRUFBMkIsQ0FBQyxFQUFvQixDQUN2RCxJQUFJLEVBQWMsR0FFbEIsT0FEQSxJQUEwQixFQUNuQixFQUVULFNBQVMsRUFBa0IsQ0FBQyxFQUFPLENBQ2pDLEdBQW9CLEdBQUksRUFDeEIsRUFBSSxFQUFNLGtCQUFvQixFQUFNLGdCQUFrQixJQUV4RCxTQUFTLEVBQTJDLENBQUMsRUFBTyxDQUMxRCxHQUFJLEdBQUssR0FBbUIsQ0FDMUIsSUFBSSxFQUFjLEdBQUksRUFBSSxHQUMxQixFQUFNLGdCQUFrQixFQUN4QixFQUFNLGlCQUFtQixFQUN6QixHQUFvQixJQUd4QixTQUFTLEVBQXFELENBQUMsRUFBTyxDQUNwRSxHQUFJLEdBQUssR0FBbUIsQ0FDMUIsSUFBSSxFQUFjLEdBQUksRUFBSSxHQUMxQixFQUFNLGdCQUFrQixFQUN4QixHQUFvQixJQUd4QixTQUFTLEVBQW9CLEVBQUcsQ0FDOUIsR0FBSSxHQUFLLEdBQW1CLENBQzFCLElBQUksRUFBYyxHQUFJLEVBQUksR0FDMUIsR0FBb0IsR0FDcEIsSUFBMEIsR0FHOUIsU0FBUyxFQUFnQixFQUFHLENBQzFCLEdBQW9CLEdBQUksRUFFMUIsU0FBUyxFQUFzQixDQUFDLEVBQU8sQ0FDckMsUUFBUyxFQUFRLEVBQU0sTUFBTyxHQUM1QixBQUFDLEVBQU0sZ0JBQWtCLEVBQU0sZUFBa0IsRUFBUSxFQUFNLFFBRW5FLFNBQVMsRUFBMEIsQ0FBQyxFQUFPLEVBQVEsQ0FDakQsVUFBd0IsSUFBcEIsVUFBc0MsSUFBVCxLQUFnQixDQUMvQyxJQUFJLEVBQVcsR0FBZSxJQUFJLENBQUssRUFDdkMsR0FBZSxJQUFOLE9BQWdCLE9BQU8sRUFPaEMsT0FOQSxFQUFTLENBQ1AsTUFBTyxFQUNQLE9BQVEsRUFDUixNQUFPLEdBQTRCLENBQU0sQ0FDM0MsRUFDQSxHQUFlLElBQUksRUFBTyxDQUFNLEVBQ3pCLEVBRVQsTUFBTyxDQUNMLE1BQU8sRUFDUCxPQUFRLEVBQ1IsTUFBTyxHQUE0QixDQUFNLENBQzNDLEVBRUYsU0FBUyxFQUFZLENBQUMsRUFBZ0IsRUFBZSxDQUNuRCxHQUFtQixFQUNuQixHQUFVLE1BQW9CLEdBQzlCLEdBQVUsTUFBb0IsR0FDOUIsR0FBbUIsRUFDbkIsR0FBZ0IsRUFFbEIsU0FBUyxFQUFVLENBQUMsRUFBZ0IsRUFBZSxFQUFPLENBQ3hELEdBQW1CLEVBQ25CLEdBQVEsTUFBa0IsR0FDMUIsR0FBUSxNQUFrQixHQUMxQixHQUFRLE1BQWtCLEdBQzFCLEdBQXNCLEVBQ3RCLElBQUksRUFBdUIsR0FDM0IsRUFBaUIsR0FDakIsSUFBSSxFQUFhLEdBQUssR0FBTSxDQUFvQixFQUFJLEVBQ3BELEtBQTBCLEdBQUssR0FDL0IsR0FBUyxFQUNULElBQUksRUFBUyxHQUFLLEdBQU0sQ0FBYSxFQUFJLEVBQ3pDLEdBQUksR0FBSyxFQUFRLENBQ2YsSUFBSSxFQUF1QixFQUFjLEVBQWEsRUFDdEQsR0FDRSxHQUNFLEdBQUssR0FBd0IsR0FDL0IsU0FBUyxFQUFFLEVBQ2IsSUFBeUIsRUFDekIsR0FBYyxFQUNkLEdBQ0csR0FBTSxHQUFLLEdBQU0sQ0FBYSxFQUFJLEVBQ2xDLEdBQVMsRUFDVixFQUNGLEdBQXNCLEVBQVMsTUFFL0IsQ0FBQyxHQUNFLEdBQUssRUFBVyxHQUFTLEVBQWMsRUFDdkMsR0FBc0IsRUFFN0IsU0FBUyxFQUFzQixDQUFDLEVBQWdCLENBQzlDLEdBQW1CLEVBQ1YsRUFBZSxTQUF4QixPQUNHLEdBQWEsRUFBZ0IsQ0FBQyxFQUFHLEdBQVcsRUFBZ0IsRUFBRyxDQUFDLEdBRXJFLFNBQVMsRUFBYyxDQUFDLEVBQWdCLENBQ3RDLEtBQU8sSUFBbUIsSUFDeEIsQUFBQyxHQUFtQixHQUFVLEVBQUUsSUFDN0IsR0FBVSxJQUFrQixLQUM1QixHQUFnQixHQUFVLEVBQUUsSUFDNUIsR0FBVSxJQUFrQixLQUNqQyxLQUFPLElBQW1CLElBQ3hCLEFBQUMsR0FBc0IsR0FBUSxFQUFFLElBQzlCLEdBQVEsSUFBZ0IsS0FDeEIsR0FBc0IsR0FBUSxFQUFFLElBQ2hDLEdBQVEsSUFBZ0IsS0FDeEIsR0FBZ0IsR0FBUSxFQUFFLElBQzFCLEdBQVEsSUFBZ0IsS0FFL0IsU0FBUyxFQUFrQixFQUFHLENBQzVCLElBQ0UsUUFBUSxNQUNOLHlFQUNGLEVBRUosU0FBUyxFQUFzQixDQUFDLEVBQU8sRUFBa0IsQ0FDdkQsR0FBYSxFQUFNLFNBQWYsS0FBdUIsQ0FDekIsR0FBYSxLQUFULEtBQ0YsR0FBdUIsQ0FDckIsTUFBTyxFQUNQLFNBQVUsQ0FBQyxFQUNYLFlBQWtCLE9BQ2xCLFdBQVksQ0FBQyxFQUNiLGlCQUFrQixDQUNwQixNQUNHLENBQ0gsR0FBSSxHQUFxQixRQUFVLEVBQ2pDLE1BQU0sTUFDSixzRUFDRixFQUNGLEdBQXFCLGlCQUFtQixJQUNyQyxHQUFxQixpQkFBbUIsR0FFN0MsT0FBTyxHQUVULElBQUksRUFBVyxHQUNiLEVBQU0sT0FDTixFQUFtQixDQUNyQixFQUFFLFNBQ0YsR0FBSSxFQUFJLEVBQVMsUUFBVSxFQUFTLEVBQVMsT0FBUyxHQUFHLFFBQVUsRUFDakUsT0FDRyxFQUFXLEVBQVMsRUFBUyxPQUFTLEdBQ3ZDLEVBQVMsaUJBQW1CLElBQ3pCLEVBQVMsaUJBQW1CLEdBQy9CLEVBVUosT0FSQSxFQUFtQixDQUNqQixNQUFPLEVBQ1AsU0FBVSxDQUFDLEVBQ1gsWUFBa0IsT0FDbEIsV0FBWSxDQUFDLEVBQ2IsaUJBQWtCLENBQ3BCLEVBQ0EsRUFBUyxLQUFLLENBQWdCLEVBQ3ZCLEVBRVQsU0FBUyxFQUF1QixDQUFDLEVBQU8sRUFBbUIsQ0FDekQsS0FDSSxFQUFRLEdBQXVCLEVBQU8sQ0FBQyxFQUN4QyxFQUFNLFlBQWMsS0FDWixJQUFULE9BQ0ksRUFDQSxHQUF5QyxDQUFpQixFQUM1RCxFQUFNLFdBQVcsS0FBSyxDQUFpQixJQUU3QyxTQUFTLEVBQXdCLENBQUMsRUFBTyxDQUN2QyxJQUFJLEVBQU8sR0FDVCxFQUFXLEdBWWIsTUFYUyxJQUFULE9BQ0ksR0FBdUIsS0FBUSxFQUFPLEdBQWEsQ0FBUSxHQUMvRCxHQUNFLEdBQ0UsTUFDRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDJDQUNFLENBQ0osRUFDQSxDQUNGLENBQ0YsRUFDTSxHQUVSLFNBQVMsRUFBNEIsQ0FBQyxFQUFPLENBQzNDLElBQXVCLFVBQW5CLEVBQ2EsS0FBYixFQUNZLGNBQWQsR0FEUyxFQUtYLE9BSEEsRUFBVyxJQUF1QixFQUNsQyxFQUFXLElBQW9CLEVBQy9CLEdBQWdDLEVBQU0sQ0FBSyxFQUNuQyxPQUNELFNBQ0gsR0FBMEIsU0FBVSxDQUFVLEVBQzlDLEdBQTBCLFFBQVMsQ0FBVSxFQUM3QyxVQUNHLGFBQ0EsYUFDQSxRQUNILEdBQTBCLE9BQVEsQ0FBVSxFQUM1QyxVQUNHLFlBQ0EsUUFDSCxJQUFLLEVBQU8sRUFBRyxFQUFPLEdBQWdCLE9BQVEsSUFDNUMsR0FBMEIsR0FBZ0IsR0FBTyxDQUFVLEVBQzdELFVBQ0csU0FDSCxHQUEwQixRQUFTLENBQVUsRUFDN0MsVUFDRyxVQUNBLFlBQ0EsT0FDSCxHQUEwQixRQUFTLENBQVUsRUFDN0MsR0FBMEIsT0FBUSxDQUFVLEVBQzVDLFVBQ0csVUFDSCxHQUEwQixTQUFVLENBQVUsRUFDOUMsVUFDRyxRQUNILEdBQTBCLFFBQVMsQ0FBSyxFQUN4QyxHQUEwQixVQUFXLENBQVUsRUFDL0MsR0FBbUIsRUFBWSxDQUFLLEVBQ3BDLEdBQ0UsRUFDQSxFQUFNLE1BQ04sRUFBTSxhQUNOLEVBQU0sUUFDTixFQUFNLGVBQ04sRUFBTSxLQUNOLEVBQU0sS0FDTixFQUNGLEVBQ0EsR0FBTSxDQUFVLEVBQ2hCLFVBQ0csU0FDSCxHQUFvQixFQUFZLENBQUssRUFDckMsVUFDRyxTQUNILEdBQTBCLFNBQVUsQ0FBSyxFQUN6QyxHQUEwQixVQUFXLENBQVUsRUFDL0MsR0FBb0IsRUFBWSxDQUFLLEVBQ3JDLFVBQ0csV0FDSCxHQUEwQixXQUFZLENBQUssRUFDekMsR0FBMEIsVUFBVyxDQUFVLEVBQy9DLEdBQXNCLEVBQVksQ0FBSyxFQUN2QyxHQUNFLEVBQ0EsRUFBTSxNQUNOLEVBQU0sYUFDTixFQUFNLFFBQ1IsRUFDQSxHQUFNLENBQVUsRUFFdEIsRUFBTyxFQUFNLGdCQUNRLElBQXBCLGlCQUNxQixJQUFwQixpQkFDb0IsSUFBcEIsVUFDRixFQUFXLGNBQWdCLEdBQUssR0FDekIsRUFBTSwyQkFBYixJQUNBLEdBQXNCLEVBQVcsWUFBYSxDQUFJLEdBQ3JDLEVBQU0sU0FBZCxPQUNFLEdBQTBCLGVBQWdCLENBQVUsRUFDckQsR0FBMEIsU0FBVSxDQUFVLEdBQ3hDLEVBQU0sVUFBZCxNQUNFLEdBQTBCLFNBQVUsQ0FBVSxFQUN4QyxFQUFNLGFBQWQsTUFDRSxHQUEwQixZQUFhLENBQVUsRUFDM0MsRUFBTSxTQUFkLE9BQTBCLEVBQVcsUUFBVSxJQUM5QyxFQUFhLElBQ2IsRUFBYSxHQUNsQixHQUFjLEdBQXlCLENBQUssRUFFOUMsU0FBUyxFQUFtQixDQUFDLEVBQU8sQ0FDbEMsSUFBSyxHQUF1QixFQUFNLE9BQVEsSUFDeEMsT0FBUSxHQUFxQixTQUN0QixPQUNBLElBQ0gsR0FBeUIsR0FDekIsV0FDRyxPQUNBLElBQ0gsR0FBeUIsR0FDekIsZUFFQSxHQUF1QixHQUFxQixRQUdwRCxTQUFTLEVBQWlCLENBQUMsRUFBTyxDQUNoQyxHQUFJLElBQVUsR0FBc0IsTUFBTyxHQUMzQyxJQUFLLEdBQ0gsT0FBTyxHQUFvQixDQUFLLEVBQUksR0FBYyxHQUFLLEdBQ3pELElBQUksRUFBYyxHQUNoQixFQUNGLEdBQUssRUFBd0IsRUFBTSxNQUFaLEdBQTBCLEVBQU0sTUFBYixHQUFtQixDQUMzRCxHQUFLLEVBQXdCLEVBQU0sTUFBWixFQUNyQixBQUFDLEVBQWtCLEVBQU0sS0FDdEIsSUFDYyxJQUFYLFFBQTJDLElBQWIsV0FDaEMsR0FBcUIsRUFBTSxLQUFNLEVBQU0sYUFBYSxFQUMxRCxHQUFtQixFQUdyQixHQURBLElBQW9CLEVBQWMsSUFDOUIsR0FBZSxHQUF3QixDQUN6QyxJQUFLLEVBQWMsR0FBd0IsR0FBZSxDQUN4RCxFQUFrQixHQUF1QixFQUFPLENBQUMsRUFDakQsSUFBSSxFQUNGLEdBQXlDLENBQVcsRUFDdEQsRUFBZ0IsV0FBVyxLQUFLLENBQVcsRUFDM0MsRUFDaUIsRUFBWSxPQUEzQixXQUNJLEdBQStDLENBQVcsRUFDMUQsR0FBa0IsRUFBWSxXQUFXLEVBRWpELEdBQXlCLENBQUssRUFHaEMsR0FEQSxHQUFvQixDQUFLLEVBQ2QsRUFBTSxNQUFiLEdBQWtCLENBR3BCLEdBRkEsRUFBUSxFQUFNLGNBQ2QsRUFBaUIsSUFBVCxLQUFpQixFQUFNLFdBQWEsTUFDdkMsRUFDSCxNQUFNLE1BQ0oscUhBQ0YsRUFDRixHQUNFLEdBQStDLENBQUssTUFFdEQsSUFBeUIsR0FDckIsR0FBa0IsRUFBTSxVQUFVLFdBQVcsRUFDN0MsS0FDTixNQUFPLEdBRVQsU0FBUyxFQUFtQixFQUFHLENBQzdCLEdBQXlCLEdBQXVCLEtBQ2hELEdBQXVCLEdBQWMsR0FFdkMsU0FBUyxFQUFtQixDQUFDLEVBQU8sQ0FDbEMsQUFBUyxLQUFULEtBQ0ssR0FBa0IsQ0FBQyxDQUFLLEVBQ3pCLEdBQWdCLEtBQUssQ0FBSyxFQUVoQyxTQUFTLEVBQTRCLEVBQUcsQ0FDdEMsSUFBSSxFQUFXLEdBQ2YsQUFBUyxJQUFULE9BQ0ksR0FBdUIsS0FDeEIsRUFBVyxHQUFhLENBQVEsRUFDakMsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFDQSw0Q0FDQSxDQUNGLEdBRUosU0FBUyxFQUFtQixFQUFHLENBQzdCLE1BQU8sQ0FBRSw0QkFBNkIsR0FBSSxVQUFXLENBQUMsQ0FBRSxFQUUxRCxTQUFTLEVBQWtCLENBQUMsRUFBVSxDQUVwQyxPQURBLEVBQVcsRUFBUyxPQUNHLElBQWhCLGFBQTJDLElBQWYsV0FFckMsU0FBUyxFQUFNLEVBQUcsRUFDbEIsU0FBUyxFQUFpQixDQUFDLEVBQWUsRUFBVSxFQUFPLENBQ3pELEFBQVMsRUFBcUIsV0FBOUIsT0FDRyxFQUFxQixjQUFnQixJQUN4QyxJQUFJLEVBQW1CLEVBQWMsVUFZckMsT0FYQSxFQUFRLEVBQWlCLEdBQ2QsSUFBTixPQUNELEVBQWlCLEtBQUssQ0FBUSxFQUM5QixJQUFVLElBQ1QsRUFBYyw4QkFDWCxFQUFjLDRCQUE4QixHQUM5QyxRQUFRLE1BQ04sb0xBQ0YsR0FDRixFQUFTLEtBQUssR0FBUSxFQUFNLEVBQzNCLEVBQVcsR0FDUixFQUFTLFlBQ1YsWUFDSCxPQUFPLEVBQVMsVUFDYixXQUNILE1BQ0ksRUFBZ0IsRUFBUyxPQUMzQixHQUE4QixDQUFhLEVBQzNDLFVBR0YsVUFBd0IsRUFBUyxTQUE3QixTQUNGLEVBQVMsS0FBSyxHQUFRLEVBQU0sTUFDekIsQ0FFSCxHQURBLEVBQWdCLEdBRUwsSUFBVCxNQUNBLElBQU0sRUFBYyxvQkFFcEIsTUFBTSxNQUNKLHlNQUNGLEVBQ0YsRUFBZ0IsRUFDaEIsRUFBYyxPQUFTLFVBQ3ZCLEVBQWMsYUFDSCxDQUFDLEVBQWdCLENBQ3hCLEdBQWtCLEVBQVMsU0FBdkIsVUFBK0IsQ0FDakMsSUFBSSxFQUFvQixFQUN4QixFQUFrQixPQUFTLFlBQzNCLEVBQWtCLE1BQVEsWUFHckIsQ0FBQyxFQUFPLENBQ2YsR0FBa0IsRUFBUyxTQUF2QixVQUErQixDQUNqQyxJQUFJLEVBQW1CLEVBQ3ZCLEVBQWlCLE9BQVMsV0FDMUIsRUFBaUIsT0FBUyxHQUdoQyxFQUVGLE9BQVEsRUFBUyxZQUNWLFlBQ0gsT0FBTyxFQUFTLFVBQ2IsV0FDSCxNQUNJLEVBQWdCLEVBQVMsT0FDM0IsR0FBOEIsQ0FBYSxFQUMzQyxFQUtOLE1BRkEsR0FBb0IsRUFDcEIsR0FBbUMsR0FDN0IsSUFHWixTQUFTLEVBQW9CLEVBQUcsQ0FDOUIsR0FBYSxLQUFULEtBQ0YsTUFBTSxNQUNKLDhFQUNGLEVBQ0YsSUFBSSxFQUFXLEdBR2YsT0FGQSxHQUFvQixLQUNwQixHQUFtQyxHQUM1QixFQUVULFNBQVMsRUFBNkIsQ0FBQyxFQUFnQixDQUNyRCxHQUFJLElBQW1CLEdBQ3JCLE1BQU0sTUFDSiw2S0FDRixFQUVKLFNBQVMsRUFBYSxDQUFDLEVBQVcsQ0FDaEMsSUFBSSxFQUFvQixHQU14QixPQUxRLEdBQVIsT0FDRyxHQUNVLElBQVQsS0FDSSxFQUNBLEVBQWtCLE9BQU8sQ0FBUyxHQUNuQyxFQUVULFNBQVMsRUFBcUIsQ0FBQyxFQUFTLEVBQU8sRUFBYSxDQUMxRCxRQUFTLEVBQU8sT0FBTyxLQUFLLEVBQVEsS0FBSyxFQUFHLEVBQUksRUFBRyxFQUFJLEVBQUssT0FBUSxJQUFLLENBQ3ZFLElBQUksRUFBTSxFQUFLLEdBQ2YsR0FBbUIsSUFBZixZQUFnQyxJQUFWLE1BQWUsQ0FDdkMsQUFBUyxJQUFULE9BQ0ksRUFBUSxHQUF1QixFQUFTLEVBQVksS0FBTSxDQUFDLEVBQzVELEVBQU0sV0FBYSxHQUNuQixFQUFNLE9BQVMsR0FDbEIsR0FDRSxVQUNTLENBQUMsRUFBWSxDQUNwQixRQUFRLE1BQ04sMkdBQ0EsQ0FDRixHQUVGLENBQ0YsRUFDQSxRQUlOLFNBQVMsRUFBYyxDQUFDLEVBQVUsQ0FDaEMsSUFBSSxFQUFRLEdBR1osT0FGQSxJQUEwQixFQUNqQixLQUFULE9BQTZCLEdBQWtCLEdBQW9CLEdBQzVELEdBQWtCLEdBQWlCLEVBQVUsQ0FBSyxFQUUzRCxTQUFTLEVBQVMsQ0FBQyxFQUFnQixFQUFTLENBQzFDLEVBQVUsRUFBUSxNQUFNLElBQ3hCLEVBQWUsSUFBaUIsSUFBTixPQUFnQixFQUFVLEtBRXRELFNBQVMsRUFBd0IsQ0FBQyxFQUFhLEVBQVUsQ0FDdkQsR0FBSSxFQUFTLFdBQWEsR0FDeEIsTUFBTSxNQUNKO0FBQUE7QUFBQTtBQUFBLGlFQUNGLEVBRUYsTUFEQSxFQUFjLE9BQU8sVUFBVSxTQUFTLEtBQUssQ0FBUSxFQUMvQyxNQUNKLG1EQUN5QixJQUF0QixrQkFDRyxxQkFBdUIsT0FBTyxLQUFLLENBQVEsRUFBRSxLQUFLLElBQUksRUFBSSxJQUMxRCxHQUNKLDJFQUNKLEVBRUYsU0FBUyxFQUFrQixDQUFDLEVBQWEsRUFBYyxDQUNyRCxJQUFJLEVBQWEsRUFBMEIsQ0FBVyxHQUFLLFlBQzNELEdBQTRCLEtBQ3hCLEdBQTRCLEdBQWMsR0FDM0MsRUFDQyxFQUFhLGFBQWUsRUFBYSxNQUFRLFlBQzdDLEVBQVksTUFBbEIsRUFDSSxRQUFRLE1BQ047QUFBQSxtQkFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLFFBQVEsTUFDTjtBQUFBLGlCQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixHQUVSLFNBQVMsRUFBZ0IsQ0FBQyxFQUFhLEVBQWMsQ0FDbkQsSUFBSSxFQUFhLEVBQTBCLENBQVcsR0FBSyxZQUMzRCxHQUEwQixLQUN0QixHQUEwQixHQUFjLEdBQ3pDLEVBQWUsT0FBTyxDQUFZLEVBQzdCLEVBQVksTUFBbEIsRUFDSSxRQUFRLE1BQ047QUFBQSxtQkFDQSxDQUNGLEVBQ0EsUUFBUSxNQUNOO0FBQUEsZUFDQSxFQUNBLEVBQ0EsQ0FDRixHQUVSLFNBQVMsRUFBcUIsQ0FBQyxFQUF3QixDQUNyRCxTQUFTLENBQVcsQ0FBQyxFQUFhLEVBQWUsQ0FDL0MsR0FBSSxFQUF3QixDQUMxQixJQUFJLEVBQVksRUFBWSxVQUM1QixBQUFTLElBQVQsTUFDTSxFQUFZLFVBQVksQ0FBQyxDQUFhLEVBQ3ZDLEVBQVksT0FBUyxJQUN0QixFQUFVLEtBQUssQ0FBYSxHQUdwQyxTQUFTLENBQXVCLENBQUMsRUFBYSxFQUFtQixDQUMvRCxJQUFLLEVBQXdCLE9BQU8sS0FDcEMsS0FBZ0IsSUFBVCxNQUNMLEVBQVksRUFBYSxDQUFpQixFQUN2QyxFQUFvQixFQUFrQixRQUMzQyxPQUFPLEtBRVQsU0FBUyxDQUFvQixDQUFDLEVBQW1CLENBQy9DLFFBQVMsRUFBbUIsSUFBSSxJQUFnQixJQUFULE1BQ3JDLEFBQVMsRUFBa0IsTUFBM0IsS0FDSSxFQUFpQixJQUFJLEVBQWtCLElBQUssQ0FBaUIsRUFDN0QsRUFBaUIsSUFBSSxFQUFrQixNQUFPLENBQWlCLEVBQ2hFLEVBQW9CLEVBQWtCLFFBQzNDLE9BQU8sRUFFVCxTQUFTLENBQVEsQ0FBQyxFQUFPLEVBQWMsQ0FJckMsT0FIQSxFQUFRLEdBQXFCLEVBQU8sQ0FBWSxFQUNoRCxFQUFNLE1BQVEsRUFDZCxFQUFNLFFBQVUsS0FDVCxFQUVULFNBQVMsQ0FBVSxDQUFDLEVBQVUsRUFBaUIsRUFBVSxDQUV2RCxHQURBLEVBQVMsTUFBUSxHQUNaLEVBQ0gsT0FBUSxFQUFTLE9BQVMsUUFBVSxFQUV0QyxHQURBLEVBQVcsRUFBUyxVQUNQLElBQVQsS0FDRixPQUNHLEVBQVcsRUFBUyxNQUNyQixFQUFXLEdBQ0wsRUFBUyxPQUFTLFNBQVcsR0FDL0IsRUFHUixPQURBLEVBQVMsT0FBUyxTQUNYLEVBRVQsU0FBUyxDQUFnQixDQUFDLEVBQVUsQ0FJbEMsT0FIQSxHQUNXLEVBQVMsWUFBbEIsT0FDQyxFQUFTLE9BQVMsVUFDZCxFQUVULFNBQVMsQ0FBYyxDQUFDLEVBQWEsRUFBUyxFQUFhLEVBQU8sQ0FDaEUsR0FBYSxJQUFULE1BQTBCLEVBQVEsTUFBZCxFQUN0QixPQUNHLEVBQVUsR0FDVCxFQUNBLEVBQVksS0FDWixDQUNGLEVBQ0MsRUFBUSxPQUFTLEVBQ2pCLEVBQVEsWUFBYyxFQUN0QixFQUFRLFdBQWEsR0FDdEIsRUFLSixPQUhBLEVBQVUsRUFBUyxFQUFTLENBQVcsRUFDdkMsRUFBUSxPQUFTLEVBQ2pCLEVBQVEsV0FBYSxHQUNkLEVBRVQsU0FBUyxDQUFhLENBQUMsRUFBYSxFQUFTLEVBQVMsRUFBTyxDQUMzRCxJQUFJLEVBQWMsRUFBUSxLQUMxQixHQUFJLElBQWdCLEdBQ2xCLE9BQ0csRUFBVSxFQUNULEVBQ0EsRUFDQSxFQUFRLE1BQU0sU0FDZCxFQUNBLEVBQVEsR0FDVixFQUNBLEdBQXNCLEVBQVMsRUFBUyxDQUFXLEVBQ25ELEVBRUosR0FDVyxJQUFULE9BQ0MsRUFBUSxjQUFnQixHQUN2QixHQUFrQyxFQUFTLENBQU8sVUFDN0IsSUFBcEIsVUFDVSxJQUFULE1BQ0EsRUFBWSxXQUFhLElBQ3pCLEdBQWtCLENBQVcsSUFBTSxFQUFRLE1BRS9DLE9BQ0csRUFBVSxFQUFTLEVBQVMsRUFBUSxLQUFLLEVBQzFDLEdBQVUsRUFBUyxDQUFPLEVBQ3pCLEVBQVEsT0FBUyxFQUNqQixFQUFRLFlBQWMsRUFBUSxPQUM5QixFQUFRLFdBQWEsR0FDdEIsRUFNSixPQUpBLEVBQVUsR0FBdUIsRUFBUyxFQUFZLEtBQU0sQ0FBSyxFQUNqRSxHQUFVLEVBQVMsQ0FBTyxFQUMxQixFQUFRLE9BQVMsRUFDakIsRUFBUSxXQUFhLEdBQ2QsRUFFVCxTQUFTLENBQVksQ0FBQyxFQUFhLEVBQVMsRUFBUSxFQUFPLENBQ3pELEdBQ1csSUFBVCxNQUNNLEVBQVEsTUFBZCxHQUNBLEVBQVEsVUFBVSxnQkFBa0IsRUFBTyxlQUMzQyxFQUFRLFVBQVUsaUJBQW1CLEVBQU8sZUFFNUMsT0FDRyxFQUFVLEdBQXNCLEVBQVEsRUFBWSxLQUFNLENBQUssRUFDL0QsRUFBUSxPQUFTLEVBQ2pCLEVBQVEsV0FBYSxHQUN0QixFQUtKLE9BSEEsRUFBVSxFQUFTLEVBQVMsRUFBTyxVQUFZLENBQUMsQ0FBQyxFQUNqRCxFQUFRLE9BQVMsRUFDakIsRUFBUSxXQUFhLEdBQ2QsRUFFVCxTQUFTLENBQWMsQ0FBQyxFQUFhLEVBQVMsRUFBVSxFQUFPLEVBQUssQ0FDbEUsR0FBYSxJQUFULE1BQTBCLEVBQVEsTUFBZCxFQUN0QixPQUNHLEVBQVUsR0FDVCxFQUNBLEVBQVksS0FDWixFQUNBLENBQ0YsRUFDQyxFQUFRLE9BQVMsRUFDakIsRUFBUSxZQUFjLEVBQ3RCLEVBQVEsV0FBYSxHQUN0QixFQUtKLE9BSEEsRUFBVSxFQUFTLEVBQVMsQ0FBUSxFQUNwQyxFQUFRLE9BQVMsRUFDakIsRUFBUSxXQUFhLEdBQ2QsRUFFVCxTQUFTLENBQVcsQ0FBQyxFQUFhLEVBQVUsRUFBTyxDQUNqRCxVQUN1QixJQUFwQixVQUF1QyxJQUFQLFdBQ2IsSUFBcEIsaUJBQ29CLElBQXBCLFNBRUEsT0FDRyxFQUFXLEdBQ1YsR0FBSyxFQUNMLEVBQVksS0FDWixDQUNGLEVBQ0MsRUFBUyxPQUFTLEVBQ2xCLEVBQVMsWUFBYyxFQUN2QixFQUFTLFdBQWEsR0FDdkIsRUFFSixVQUF3QixJQUFwQixVQUF5QyxJQUFULEtBQW1CLENBQ3JELE9BQVEsRUFBUyxlQUNWLEdBQ0gsT0FDRyxFQUFRLEdBQ1AsRUFDQSxFQUFZLEtBQ1osQ0FDRixFQUNBLEdBQVUsRUFBTyxDQUFRLEVBQ3hCLEVBQU0sT0FBUyxFQUNmLEVBQWMsR0FBYyxFQUFTLFVBQVUsRUFDL0MsRUFBTSxXQUFhLEdBQ25CLEdBQW1CLEVBQ3BCLE9BRUMsR0FDSCxPQUNHLEVBQVcsR0FDVixFQUNBLEVBQVksS0FDWixDQUNGLEVBQ0MsRUFBUyxPQUFTLEVBQ2xCLEVBQVMsV0FBYSxHQUN2QixPQUVDLEdBQ0gsSUFBSSxFQUFpQixHQUFjLEVBQVMsVUFBVSxFQUl0RCxPQUhBLEVBQVcsR0FBa0IsQ0FBUSxFQUNyQyxFQUFjLEVBQVksRUFBYSxFQUFVLENBQUssRUFDdEQsR0FBbUIsRUFDWixFQUVYLEdBQUksR0FBWSxDQUFRLEdBQUssRUFBYyxDQUFRLEVBQ2pELE9BQ0csRUFBUSxHQUNQLEVBQ0EsRUFBWSxLQUNaLEVBQ0EsSUFDRixFQUNDLEVBQU0sT0FBUyxFQUNmLEVBQU0sWUFBYyxFQUNwQixFQUFjLEdBQWMsRUFBUyxVQUFVLEVBQy9DLEVBQU0sV0FBYSxHQUNuQixHQUFtQixFQUNwQixFQUVKLFVBQTBCLEVBQVMsT0FBL0IsV0FDRixPQUNHLEVBQWlCLEdBQWMsRUFBUyxVQUFVLEVBQ2xELEVBQWMsRUFDYixFQUNBLEdBQWUsQ0FBUSxFQUN2QixDQUNGLEVBQ0MsR0FBbUIsRUFDcEIsRUFFSixHQUFJLEVBQVMsV0FBYSxHQUN4QixPQUFPLEVBQ0wsRUFDQSxHQUFnQyxFQUFhLENBQVEsRUFDckQsQ0FDRixFQUNGLEdBQXlCLEVBQWEsQ0FBUSxFQUtoRCxjQUhzQixJQUF0QixZQUNFLEdBQW1CLEVBQWEsQ0FBUSxTQUN0QixJQUFwQixVQUFnQyxHQUFpQixFQUFhLENBQVEsRUFDL0QsS0FFVCxTQUFTLENBQVUsQ0FBQyxFQUFhLEVBQVUsRUFBVSxFQUFPLENBQzFELElBQUksRUFBZSxJQUFULEtBQW9CLEVBQVMsSUFBTSxLQUM3QyxVQUN1QixJQUFwQixVQUF1QyxJQUFQLFdBQ2IsSUFBcEIsaUJBQ29CLElBQXBCLFNBRUEsT0FBZ0IsSUFBVCxLQUNILEtBQ0EsRUFBZSxFQUFhLEVBQVUsR0FBSyxFQUFVLENBQUssRUFDaEUsVUFBd0IsSUFBcEIsVUFBeUMsSUFBVCxLQUFtQixDQUNyRCxPQUFRLEVBQVMsZUFDVixHQUNILE9BQU8sRUFBUyxNQUFRLEdBQ2xCLEVBQU0sR0FBYyxFQUFTLFVBQVUsRUFDeEMsRUFBYyxFQUNiLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQyxHQUFtQixFQUNwQixHQUNBLFVBQ0QsR0FDSCxPQUFPLEVBQVMsTUFBUSxFQUNwQixFQUFhLEVBQWEsRUFBVSxFQUFVLENBQUssRUFDbkQsVUFDRCxHQUNILE9BQ0csRUFBTSxHQUFjLEVBQVMsVUFBVSxFQUN2QyxFQUFXLEdBQWtCLENBQVEsRUFDckMsRUFBYyxFQUNiLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQyxHQUFtQixFQUNwQixFQUdOLEdBQUksR0FBWSxDQUFRLEdBQUssRUFBYyxDQUFRLEVBQUcsQ0FDcEQsR0FBYSxJQUFULEtBQWMsT0FBTyxLQVV6QixPQVRBLEVBQU0sR0FBYyxFQUFTLFVBQVUsRUFDdkMsRUFBYyxFQUNaLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsSUFDRixFQUNBLEdBQW1CLEVBQ1osRUFFVCxVQUEwQixFQUFTLE9BQS9CLFdBQ0YsT0FDRyxFQUFNLEdBQWMsRUFBUyxVQUFVLEVBQ3ZDLEVBQWMsRUFDYixFQUNBLEVBQ0EsR0FBZSxDQUFRLEVBQ3ZCLENBQ0YsRUFDQyxHQUFtQixFQUNwQixFQUVKLEdBQUksRUFBUyxXQUFhLEdBQ3hCLE9BQU8sRUFDTCxFQUNBLEVBQ0EsR0FBZ0MsRUFBYSxDQUFRLEVBQ3JELENBQ0YsRUFDRixHQUF5QixFQUFhLENBQVEsRUFLaEQsY0FIc0IsSUFBdEIsWUFDRSxHQUFtQixFQUFhLENBQVEsU0FDdEIsSUFBcEIsVUFBZ0MsR0FBaUIsRUFBYSxDQUFRLEVBQy9ELEtBRVQsU0FBUyxDQUFhLENBQ3BCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLFVBQ3VCLElBQXBCLFVBQXVDLElBQVAsV0FDYixJQUFwQixpQkFDb0IsSUFBcEIsU0FFQSxPQUNHLEVBQW1CLEVBQWlCLElBQUksQ0FBTSxHQUFLLEtBQ3BELEVBQWUsRUFBYSxFQUFrQixHQUFLLEVBQVUsQ0FBSyxFQUV0RSxVQUF3QixJQUFwQixVQUF5QyxJQUFULEtBQW1CLENBQ3JELE9BQVEsRUFBUyxlQUNWLEdBQ0gsT0FDRyxFQUNDLEVBQWlCLElBQ04sRUFBUyxNQUFsQixLQUF3QixFQUFTLEVBQVMsR0FDNUMsR0FBSyxLQUNOLEVBQW1CLEdBQWMsRUFBUyxVQUFVLEVBQ3BELEVBQWMsRUFDYixFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0MsR0FBbUIsRUFDcEIsT0FFQyxHQUNILE9BQ0csRUFDQyxFQUFpQixJQUNOLEVBQVMsTUFBbEIsS0FBd0IsRUFBUyxFQUFTLEdBQzVDLEdBQUssS0FDUCxFQUFhLEVBQWEsRUFBa0IsRUFBVSxDQUFLLE9BRTFELEdBQ0gsSUFBSSxHQUFrQixHQUFjLEVBQVMsVUFBVSxFQVV2RCxPQVRBLEVBQVcsR0FBa0IsQ0FBUSxFQUNyQyxFQUFjLEVBQ1osRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FBbUIsR0FDWixFQUVYLEdBQUksR0FBWSxDQUFRLEdBQUssRUFBYyxDQUFRLEVBQ2pELE9BQ0csRUFBUyxFQUFpQixJQUFJLENBQU0sR0FBSyxLQUN6QyxFQUFtQixHQUFjLEVBQVMsVUFBVSxFQUNwRCxFQUFjLEVBQ2IsRUFDQSxFQUNBLEVBQ0EsRUFDQSxJQUNGLEVBQ0MsR0FBbUIsRUFDcEIsRUFFSixVQUEwQixFQUFTLE9BQS9CLFdBQ0YsT0FDRyxHQUFrQixHQUFjLEVBQVMsVUFBVSxFQUNuRCxFQUFjLEVBQ2IsRUFDQSxFQUNBLEVBQ0EsR0FBZSxDQUFRLEVBQ3ZCLENBQ0YsRUFDQyxHQUFtQixHQUNwQixFQUVKLEdBQUksRUFBUyxXQUFhLEdBQ3hCLE9BQU8sRUFDTCxFQUNBLEVBQ0EsRUFDQSxHQUFnQyxFQUFhLENBQVEsRUFDckQsQ0FDRixFQUNGLEdBQXlCLEVBQWEsQ0FBUSxFQUtoRCxjQUhzQixJQUF0QixZQUNFLEdBQW1CLEVBQWEsQ0FBUSxTQUN0QixJQUFwQixVQUFnQyxHQUFpQixFQUFhLENBQVEsRUFDL0QsS0FFVCxTQUFTLEVBQWdCLENBQUMsRUFBYSxFQUFnQixFQUFPLEVBQVcsQ0FDdkUsVUFBd0IsSUFBcEIsVUFBc0MsSUFBVCxLQUFnQixPQUFPLEVBQ3hELE9BQVEsRUFBTSxlQUNQLFFBQ0EsR0FDSCxFQUFrQixFQUFhLEVBQWdCLENBQUssRUFDcEQsSUFBSSxFQUFNLEVBQU0sSUFDaEIsVUFBd0IsSUFBcEIsU0FBeUIsTUFDN0IsR0FBYSxJQUFULEtBQW9CLENBQ3RCLEVBQVksSUFBSSxJQUNoQixFQUFVLElBQUksQ0FBRyxFQUNqQixNQUVGLElBQUssRUFBVSxJQUFJLENBQUcsRUFBRyxDQUN2QixFQUFVLElBQUksQ0FBRyxFQUNqQixNQUVGLEdBQWtCLFVBQXlCLEVBQUcsQ0FDNUMsUUFBUSxNQUNOLDRRQUNBLENBQ0YsRUFDRCxFQUNELFdBQ0csR0FDSCxBQUFDLEVBQVEsR0FBa0IsQ0FBSyxFQUM5QixHQUFpQixFQUFhLEVBQWdCLEVBQU8sQ0FBUyxFQUVwRSxPQUFPLEVBRVQsU0FBUyxFQUFzQixDQUM3QixFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsUUFDTSxFQUFZLEtBQ2QsR0FBc0IsS0FDdEIsR0FBbUIsS0FDbkIsR0FBVyxFQUNYLEdBQVUsRUFBb0IsRUFDOUIsR0FBZSxLQUNSLEtBQVQsTUFBcUIsR0FBUyxFQUFZLE9BQzFDLEtBQ0EsQ0FDQSxHQUFTLE1BQVEsSUFDWCxHQUFlLEdBQVksR0FBVyxNQUN2QyxHQUFlLEdBQVMsUUFDN0IsSUFBSSxHQUFXLEVBQ2IsRUFDQSxHQUNBLEVBQVksSUFDWixDQUNGLEVBQ0EsR0FBYSxLQUFULEtBQW1CLENBQ3JCLEFBQVMsS0FBVCxPQUFzQixHQUFXLElBQ2pDLE1BRUYsRUFBWSxHQUNWLEVBQ0EsR0FDQSxFQUFZLElBQ1osQ0FDRixFQUNBLEdBQ0UsSUFDUyxHQUFTLFlBQWxCLE1BQ0EsRUFBWSxFQUFhLEVBQVEsRUFDbkMsRUFBb0IsRUFBVyxHQUFVLEVBQW1CLEVBQU0sRUFDekQsS0FBVCxLQUNLLEdBQXNCLEdBQ3RCLEdBQWlCLFFBQVUsR0FDaEMsR0FBbUIsR0FDbkIsR0FBVyxHQUViLEdBQUksS0FBVyxFQUFZLE9BQ3pCLE9BQ0UsRUFBd0IsRUFBYSxFQUFRLEVBQzdDLElBQWUsR0FBYSxFQUFhLEVBQU0sRUFDL0MsR0FFSixHQUFhLEtBQVQsS0FBbUIsQ0FDckIsS0FBTyxHQUFTLEVBQVksT0FBUSxLQUNsQyxBQUFDLEdBQVcsRUFBWSxFQUFhLEVBQVksSUFBUyxDQUFLLEVBQ3BELEtBQVQsT0FDSSxFQUFZLEdBQ1osRUFDQSxHQUNBLEVBQVksSUFDWixDQUNGLEVBQ0MsRUFBb0IsRUFDbkIsR0FDQSxFQUNBLEVBQ0YsRUFDUyxLQUFULEtBQ0ssR0FBc0IsR0FDdEIsR0FBaUIsUUFBVSxHQUMvQixHQUFtQixJQUUxQixPQURBLElBQWUsR0FBYSxFQUFhLEVBQU0sRUFDeEMsR0FFVCxJQUNFLEdBQVcsRUFBcUIsRUFBUSxFQUN4QyxHQUFTLEVBQVksT0FDckIsS0FFQSxBQUFDLEdBQWUsRUFDZCxHQUNBLEVBQ0EsR0FDQSxFQUFZLElBQ1osQ0FDRixFQUNXLEtBQVQsT0FDSSxFQUFZLEdBQ1osRUFDQSxHQUNBLEVBQVksSUFDWixDQUNGLEVBQ0EsR0FDVyxHQUFhLFlBQXRCLE1BQ0EsR0FBUyxPQUNFLEdBQWEsTUFBdEIsS0FBNEIsR0FBUyxHQUFhLEdBQ3BELEVBQ0QsRUFBb0IsRUFDbkIsR0FDQSxFQUNBLEVBQ0YsRUFDUyxLQUFULEtBQ0ssR0FBc0IsR0FDdEIsR0FBaUIsUUFBVSxHQUMvQixHQUFtQixJQU0xQixPQUxBLEdBQ0UsR0FBUyxnQkFBaUIsQ0FBQyxHQUFPLENBQ2hDLE9BQU8sRUFBWSxFQUFhLEVBQUssRUFDdEMsRUFDSCxJQUFlLEdBQWEsRUFBYSxFQUFNLEVBQ3hDLEdBRVQsU0FBUyxFQUF5QixDQUNoQyxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsR0FBWSxHQUFSLEtBQ0YsTUFBTSxNQUFNLDBDQUEwQyxFQUN4RCxRQUNNLEVBQXNCLEtBQ3hCLEdBQW1CLEtBQ25CLEdBQVcsRUFDWCxHQUFVLEVBQW9CLEVBQzlCLEdBQWUsS0FDZixHQUFZLEtBQ1osR0FBTyxFQUFZLEtBQUssRUFDakIsS0FBVCxPQUFzQixHQUFLLEtBQzNCLEtBQVUsR0FBTyxFQUFZLEtBQUssRUFDbEMsQ0FDQSxHQUFTLE1BQVEsSUFDWCxHQUFlLEdBQVksR0FBVyxNQUN2QyxHQUFlLEdBQVMsUUFDN0IsSUFBSSxHQUFXLEVBQVcsRUFBYSxHQUFVLEdBQUssTUFBTyxDQUFLLEVBQ2xFLEdBQWEsS0FBVCxLQUFtQixDQUNyQixBQUFTLEtBQVQsT0FBc0IsR0FBVyxJQUNqQyxNQUVGLEdBQVksR0FDVixFQUNBLEdBQ0EsR0FBSyxNQUNMLEVBQ0YsRUFDQSxHQUNFLElBQ1MsR0FBUyxZQUFsQixNQUNBLEVBQVksRUFBYSxFQUFRLEVBQ25DLEVBQW9CLEVBQVcsR0FBVSxFQUFtQixFQUFNLEVBQ3pELEtBQVQsS0FDSyxFQUFzQixHQUN0QixHQUFpQixRQUFVLEdBQ2hDLEdBQW1CLEdBQ25CLEdBQVcsR0FFYixHQUFJLEdBQUssS0FDUCxPQUNFLEVBQXdCLEVBQWEsRUFBUSxFQUM3QyxJQUFlLEdBQWEsRUFBYSxFQUFNLEVBQy9DLEVBRUosR0FBYSxLQUFULEtBQW1CLENBQ3JCLE1BQVEsR0FBSyxLQUFNLEtBQVUsR0FBTyxFQUFZLEtBQUssRUFDbkQsQUFBQyxHQUFXLEVBQVksRUFBYSxHQUFLLE1BQU8sQ0FBSyxFQUMzQyxLQUFULE9BQ0ksR0FBWSxHQUNaLEVBQ0EsR0FDQSxHQUFLLE1BQ0wsRUFDRixFQUNDLEVBQW9CLEVBQ25CLEdBQ0EsRUFDQSxFQUNGLEVBQ1MsS0FBVCxLQUNLLEVBQXNCLEdBQ3RCLEdBQWlCLFFBQVUsR0FDL0IsR0FBbUIsSUFFMUIsT0FEQSxJQUFlLEdBQWEsRUFBYSxFQUFNLEVBQ3hDLEVBRVQsSUFDRSxHQUFXLEVBQXFCLEVBQVEsR0FDdkMsR0FBSyxLQUNOLEtBQVUsR0FBTyxFQUFZLEtBQUssRUFFbEMsQUFBQyxHQUFlLEVBQ2QsR0FDQSxFQUNBLEdBQ0EsR0FBSyxNQUNMLENBQ0YsRUFDVyxLQUFULE9BQ0ksR0FBWSxHQUNaLEVBQ0EsR0FDQSxHQUFLLE1BQ0wsRUFDRixFQUNBLEdBQ1csR0FBYSxZQUF0QixNQUNBLEdBQVMsT0FDRSxHQUFhLE1BQXRCLEtBQTRCLEdBQVMsR0FBYSxHQUNwRCxFQUNELEVBQW9CLEVBQ25CLEdBQ0EsRUFDQSxFQUNGLEVBQ1MsS0FBVCxLQUNLLEVBQXNCLEdBQ3RCLEdBQWlCLFFBQVUsR0FDL0IsR0FBbUIsSUFNMUIsT0FMQSxHQUNFLEdBQVMsZ0JBQWlCLENBQUMsR0FBTyxDQUNoQyxPQUFPLEVBQVksRUFBYSxFQUFLLEVBQ3RDLEVBQ0gsSUFBZSxHQUFhLEVBQWEsRUFBTSxFQUN4QyxFQUVULFNBQVMsRUFBd0IsQ0FDL0IsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQU9BLFVBTm9CLElBQXBCLFVBQ1csSUFBVCxNQUNBLEVBQVMsT0FBUyxJQUNULEVBQVMsTUFBbEIsT0FDQyxHQUFzQixFQUFVLEtBQU0sQ0FBVyxFQUNqRCxFQUFXLEVBQVMsTUFBTSxpQkFDTCxJQUFwQixVQUF5QyxJQUFULEtBQW1CLENBQ3JELE9BQVEsRUFBUyxlQUNWLEdBQ0gsSUFBSSxFQUFnQixHQUFjLEVBQVMsVUFBVSxFQUNyRCxFQUFHLENBQ0QsUUFBUyxHQUFNLEVBQVMsSUFBYyxJQUFULE1BQThCLENBQ3pELEdBQUksRUFBa0IsTUFBUSxHQUFLLENBRWpDLEdBREEsR0FBTSxFQUFTLEtBQ1gsS0FBUSxJQUNWLEdBQVUsRUFBa0IsTUFBeEIsRUFBNkIsQ0FDL0IsRUFDRSxFQUNBLEVBQWtCLE9BQ3BCLEVBQ0EsRUFBUSxFQUNOLEVBQ0EsRUFBUyxNQUFNLFFBQ2pCLEVBQ0EsRUFBTSxPQUFTLEVBQ2YsRUFBTSxZQUFjLEVBQVMsT0FDN0IsRUFBTSxXQUFhLEdBQ25CLEdBQXNCLEVBQVUsRUFBTyxDQUFXLEVBQ2xELEVBQWMsRUFDZCxpQkFHRixFQUFrQixjQUFnQixJQUNsQyxHQUNFLEVBQ0EsQ0FDRixVQUNxQixLQUFwQixVQUNVLEtBQVQsTUFDQSxHQUFJLFdBQWEsSUFDakIsR0FBa0IsRUFBRyxJQUFNLEVBQWtCLEtBQy9DLENBQ0EsRUFDRSxFQUNBLEVBQWtCLE9BQ3BCLEVBQ0EsRUFBUSxFQUFTLEVBQW1CLEVBQVMsS0FBSyxFQUNsRCxHQUFVLEVBQU8sQ0FBUSxFQUN6QixFQUFNLE9BQVMsRUFDZixFQUFNLFlBQWMsRUFBUyxPQUM3QixFQUFNLFdBQWEsR0FDbkIsRUFBYyxFQUNkLFFBRUYsRUFBd0IsRUFBYSxDQUFpQixFQUN0RCxVQUNLLEdBQVksRUFBYSxDQUFpQixFQUNqRCxFQUFvQixFQUFrQixRQUV4QyxFQUFTLE9BQVMsSUFDWixFQUFRLEdBQ1IsRUFBUyxNQUFNLFNBQ2YsRUFBWSxLQUNaLEVBQ0EsRUFBUyxHQUNYLEVBQ0MsRUFBTSxPQUFTLEVBQ2YsRUFBTSxZQUFjLEVBQ3BCLEVBQU0sV0FBYSxHQUNwQixHQUFzQixFQUFVLEVBQU8sQ0FBVyxFQUNqRCxFQUFjLElBQ2IsRUFBUSxHQUNSLEVBQ0EsRUFBWSxLQUNaLENBQ0YsRUFDQSxHQUFVLEVBQU8sQ0FBUSxFQUN4QixFQUFNLE9BQVMsRUFDZixFQUFNLFdBQWEsR0FDbkIsRUFBYyxHQUlyQixPQUZBLEVBQWMsRUFBaUIsQ0FBVyxFQUMxQyxHQUFtQixFQUNaLE9BQ0osR0FDSCxFQUFHLENBQ0QsRUFBZ0IsRUFDaEIsSUFDRSxFQUFXLEVBQWMsSUFDaEIsSUFBVCxNQUVBLENBQ0EsR0FBSSxFQUFrQixNQUFRLEVBQzVCLEdBQ1EsRUFBa0IsTUFBeEIsR0FDQSxFQUFrQixVQUFVLGdCQUMxQixFQUFjLGVBQ2hCLEVBQWtCLFVBQVUsaUJBQzFCLEVBQWMsZUFDaEIsQ0FDQSxFQUNFLEVBQ0EsRUFBa0IsT0FDcEIsRUFDQSxFQUFRLEVBQ04sRUFDQSxFQUFjLFVBQVksQ0FBQyxDQUM3QixFQUNBLEVBQU0sT0FBUyxFQUNmLEVBQWMsRUFDZCxZQUNLLENBQ0wsRUFBd0IsRUFBYSxDQUFpQixFQUN0RCxVQUVDLEdBQVksRUFBYSxDQUFpQixFQUMvQyxFQUFvQixFQUFrQixRQUV4QyxFQUFRLEdBQ04sRUFDQSxFQUFZLEtBQ1osQ0FDRixFQUNBLEVBQU0sT0FBUyxFQUNmLEVBQWMsRUFFaEIsT0FBTyxFQUFpQixDQUFXLE9BQ2hDLEdBQ0gsT0FDRyxFQUFnQixHQUFjLEVBQVMsVUFBVSxFQUNqRCxFQUFXLEdBQWtCLENBQVEsRUFDckMsRUFBYyxHQUNiLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQyxHQUFtQixFQUNwQixFQUdOLEdBQUksR0FBWSxDQUFRLEVBQ3RCLE9BQ0csRUFBZ0IsR0FBYyxFQUFTLFVBQVUsRUFDakQsRUFBYyxHQUNiLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQyxHQUFtQixFQUNwQixFQUVKLEdBQUksRUFBYyxDQUFRLEVBQUcsQ0FHM0IsR0FGQSxFQUFnQixHQUFjLEVBQVMsVUFBVSxFQUNqRCxHQUFNLEVBQWMsQ0FBUSxTQUNGLEtBQXRCLFdBQ0YsTUFBTSxNQUNKLG9HQUNGLEVBQ0YsSUFBSSxHQUFjLEdBQUksS0FBSyxDQUFRLEVBQ25DLEdBQUksS0FBZ0IsR0FDbEIsR0FDUSxFQUFZLE1BQWxCLEdBRUUsT0FBTyxVQUFVLFNBQVMsS0FBSyxFQUFZLElBQUksSUFEakQsOEJBR0UsT0FBTyxVQUFVLFNBQVMsS0FBSyxFQUFXLElBRDVDLHFCQUdBLElBQ0UsUUFBUSxNQUNOLHNUQUNGLEVBQ0MsR0FBeUIsT0FFOUIsR0FBUyxVQUFZLElBQ25CLEtBQ0MsUUFBUSxNQUNQLHVGQUNGLEVBQ0MsR0FBbUIsSUFReEIsT0FQQSxFQUFjLEdBQ1osRUFDQSxFQUNBLEdBQ0EsQ0FDRixFQUNBLEdBQW1CLEVBQ1osRUFFVCxVQUEwQixFQUFTLE9BQS9CLFdBQ0YsT0FDRyxFQUFnQixHQUFjLEVBQVMsVUFBVSxFQUNqRCxFQUFjLEdBQ2IsRUFDQSxFQUNBLEdBQWUsQ0FBUSxFQUN2QixDQUNGLEVBQ0MsR0FBbUIsRUFDcEIsRUFFSixHQUFJLEVBQVMsV0FBYSxHQUN4QixPQUFPLEdBQ0wsRUFDQSxFQUNBLEdBQWdDLEVBQWEsQ0FBUSxFQUNyRCxDQUNGLEVBQ0YsR0FBeUIsRUFBYSxDQUFRLEVBRWhELFVBQ3VCLElBQXBCLFVBQXVDLElBQVAsV0FDYixJQUFwQixpQkFDb0IsSUFBcEIsU0FFQSxPQUNHLEVBQWdCLEdBQUssRUFDYixJQUFULE1BQW9DLEVBQWtCLE1BQXhCLEdBQ3pCLEVBQ0MsRUFDQSxFQUFrQixPQUNwQixFQUNDLEVBQVEsRUFBUyxFQUFtQixDQUFhLEVBQ2pELEVBQU0sT0FBUyxFQUNmLEVBQWMsSUFDZCxFQUF3QixFQUFhLENBQWlCLEVBQ3RELEVBQVEsR0FDUCxFQUNBLEVBQVksS0FDWixDQUNGLEVBQ0MsRUFBTSxPQUFTLEVBQ2YsRUFBTSxZQUFjLEVBQ3BCLEVBQU0sV0FBYSxHQUNuQixFQUFjLEdBQ25CLEVBQWlCLENBQVcsRUFLaEMsY0FIc0IsSUFBdEIsWUFDRSxHQUFtQixFQUFhLENBQVEsU0FDdEIsSUFBcEIsVUFBZ0MsR0FBaUIsRUFBYSxDQUFRLEVBQy9ELEVBQXdCLEVBQWEsQ0FBaUIsRUFFL0QsZUFBZ0IsQ0FBQyxFQUFhLEVBQW1CLEVBQVUsRUFBTyxDQUNoRSxJQUFJLEVBQWdCLEdBQ3BCLEdBQW1CLEtBQ25CLEdBQUksQ0FDRixHQUF5QixFQUN6QixJQUFJLEdBQWtCLEdBQ3BCLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFQSxPQURBLEdBQWtCLEtBQ1gsU0FDQSxHQUFQLENBQ0EsR0FBSSxLQUFNLEdBQW1CLE1BQU0sR0FDbkMsSUFBSSxHQUFRLEVBQVksR0FBSSxHQUFHLEtBQU0sRUFBWSxJQUFJLEVBQ3JELEdBQU0sTUFBUSxFQUNkLEdBQU0sT0FBUyxFQUNmLElBQUksR0FBYSxHQUFNLFdBQWEsR0FFcEMsR0FEQSxHQUFNLFlBQWMsRUFBWSxZQUNwQixJQUFSLE1BQ0YsUUFBUyxHQUFJLEdBQVUsT0FBUyxFQUFHLEdBQUssR0FBRyxLQUN6QyxVQUF3QixHQUFVLElBQUcsUUFBakMsU0FBd0MsQ0FDMUMsR0FBTSxZQUFjLEdBQVUsSUFDOUIsT0FFTixPQUFPLFVBQ1AsQ0FDQSxHQUFtQixJQUl6QixTQUFTLEVBQWlCLENBQUMsRUFBTyxFQUFTLENBQ3pDLElBQUksRUFBMkIsR0FDL0IsR0FBSyxHQUFnQyxFQUEwQixDQUFLLEVBQ3BFLEdBQUssR0FBOEIsRUFBUyxDQUFLLEVBQ2pELEdBQXVCLEVBQTJCLEVBQVEsVUFFNUQsU0FBUyxFQUF5QixDQUFDLEVBQU8sQ0FDeEMsR0FBSyxHQUFnQyxHQUFzQixDQUFLLEVBQ2hFLEdBQ0UsR0FDQSxHQUE2QixRQUM3QixDQUNGLEVBRUYsU0FBUyxFQUFnQixDQUFDLEVBQU8sQ0FDL0IsR0FBdUIsR0FBK0IsUUFDdEQsR0FBSSxHQUE4QixDQUFLLEVBQ3ZDLEdBQUksR0FBZ0MsQ0FBSyxFQUUzQyxTQUFTLEVBQThCLENBQUMsRUFBUyxDQUMvQyxJQUFJLEVBQVUsRUFBUSxVQUN0QixHQUNFLEdBQ0EsR0FBb0IsUUFBVSxHQUM5QixDQUNGLEVBQ0EsR0FBSyxHQUE0QixFQUFTLENBQU8sRUFDeEMsS0FBVCxPQUNZLElBQVQsTUFBNkIsR0FBNkIsVUFBdEMsS0FDaEIsR0FBZ0IsRUFDUixFQUFRLGdCQUFqQixPQUFtQyxHQUFnQixJQUUzRCxTQUFTLEVBQTRCLENBQUMsRUFBTyxDQUMzQyxHQUFXLEVBQU0sTUFBYixJQUNGLEdBQ0csR0FBSyxHQUFxQixHQUFvQixRQUFTLENBQUssRUFDN0QsR0FBSyxHQUE0QixFQUFPLENBQUssRUFDcEMsS0FBVCxLQUNBLENBQ0EsSUFBSSxFQUFVLEVBQU0sVUFDcEIsQUFBUyxJQUFULE1BQ1csRUFBUSxnQkFBakIsT0FDQyxHQUFnQixRQUVoQixJQUE0QixDQUFLLEVBRTFDLFNBQVMsRUFBMkIsQ0FBQyxFQUFPLENBQzFDLEdBQUssR0FBcUIsR0FBb0IsUUFBUyxDQUFLLEVBQzVELEdBQ0UsR0FDQSxHQUEyQixRQUMzQixDQUNGLEVBRUYsU0FBUyxFQUFrQixDQUFDLEVBQU8sQ0FDakMsR0FBSSxHQUE0QixDQUFLLEVBQ3JDLEtBQWtCLElBQVUsR0FBZ0IsTUFDNUMsR0FBSSxHQUFxQixDQUFLLEVBRWhDLFNBQVMsRUFBa0IsQ0FBQyxFQUFLLENBQy9CLFFBQVMsRUFBTyxFQUFjLElBQVQsTUFBaUIsQ0FDcEMsR0FBVyxFQUFLLE1BQVosR0FBaUIsQ0FDbkIsSUFBSSxFQUFRLEVBQUssY0FDakIsR0FDVyxJQUFULE9BQ0UsRUFBUSxFQUFNLFdBQ1AsSUFBVCxNQUNFLEVBQU0sT0FBUyxJQUNmLEVBQU0sT0FBUyxJQUVqQixPQUFPLFVBRUYsRUFBSyxNQUFaLElBQ1csRUFBSyxjQUFjLGNBQXpCLFFBRUwsSUFBVyxFQUFLLE1BQVEsT0FBcEIsRUFBMEIsT0FBTyxVQUNuQixFQUFLLFFBQWQsS0FBcUIsQ0FDOUIsRUFBSyxNQUFNLE9BQVMsRUFDcEIsRUFBTyxFQUFLLE1BQ1osU0FFRixHQUFJLElBQVMsRUFBSyxNQUNsQixLQUFnQixFQUFLLFVBQWQsTUFBeUIsQ0FDOUIsR0FBYSxFQUFLLFNBQWQsTUFBd0IsRUFBSyxTQUFXLEVBQUssT0FBTyxLQUN4RCxFQUFPLEVBQUssT0FFZCxFQUFLLFFBQVEsT0FBUyxFQUFLLE9BQzNCLEVBQU8sRUFBSyxRQUVkLE9BQU8sS0FFVCxTQUFTLEVBQVcsRUFBRyxDQUNyQixNQUFPLENBQ0wsV0FBWSxJQUFJLEdBQ2hCLEtBQU0sSUFBSSxJQUNWLFNBQVUsQ0FDWixFQUVGLFNBQVMsRUFBVyxDQUFDLEVBQU8sQ0FDMUIsRUFBTSxXQUFXLE9BQU8sU0FDdEIsUUFBUSxLQUNOLGlHQUNGLEVBQ0YsRUFBTSxXQUVSLFNBQVMsRUFBWSxDQUFDLEVBQU8sQ0FDM0IsRUFBTSxXQUNOLEVBQUksRUFBTSxVQUNSLFFBQVEsS0FDTixpR0FDRixFQUNJLEVBQU0sV0FBWixHQUNFLEdBQW1CLFdBQXlCLEVBQUcsQ0FDN0MsRUFBTSxXQUFXLE1BQU0sRUFDeEIsRUFFTCxTQUFTLEVBQW1CLENBQUMsRUFBWSxFQUFVLENBQ2pELEdBQWEsS0FBVCxLQUFvQyxDQUN0QyxJQUFJLEVBQXNCLEdBQTRCLENBQUMsRUFDdkQsR0FBK0IsRUFDL0IsR0FBdUIsR0FBc0IsRUFDN0MsR0FBaUMsQ0FDL0IsT0FBUSxVQUNSLE1BQVksT0FDWixhQUFlLENBQUMsRUFBUyxDQUN2QixFQUFtQixLQUFLLENBQU8sRUFFbkMsRUFJRixPQUZBLEtBQ0EsRUFBUyxLQUFLLEdBQTJCLEVBQXlCLEVBQzNELEVBRVQsU0FBUyxFQUF5QixFQUFHLENBQ25DLEtBQ1UsS0FBUixHQUNTLEtBQVQsS0FDQSxDQUNBLEFBQVMsS0FBVCxPQUNHLEdBQStCLE9BQVMsYUFDM0MsSUFBSSxFQUFZLEdBQ2hCLEdBQTRCLEtBQzVCLEdBQXVCLEVBQ3ZCLEdBQWlDLEtBQ2pDLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBVSxPQUFRLElBQUssQUFBSSxFQUFVLEdBQUksR0FHakUsU0FBUyxFQUFrQixDQUFDLEVBQVUsRUFBUSxDQUM1QyxJQUFJLEVBQVksQ0FBQyxFQUNmLEVBQXVCLENBQ3JCLE9BQVEsVUFDUixNQUFPLEtBQ1AsT0FBUSxLQUNSLGFBQWUsQ0FBQyxFQUFTLENBQ3ZCLEVBQVUsS0FBSyxDQUFPLEVBRTFCLEVBY0YsT0FiQSxFQUFTLGFBQ0UsRUFBRyxDQUNWLEVBQXFCLE9BQVMsWUFDOUIsRUFBcUIsTUFBUSxFQUM3QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVUsT0FBUSxJQUFLLEFBQUksRUFBVSxHQUFJLENBQU0sV0FFNUQsQ0FBQyxFQUFPLENBQ2YsRUFBcUIsT0FBUyxXQUM5QixFQUFxQixPQUFTLEVBQzlCLElBQUssRUFBUSxFQUFHLEVBQVEsRUFBVSxPQUFRLElBQ3hDLEFBQUksRUFBVSxHQUFhLE1BQUMsRUFFbEMsRUFDTyxFQUVULFNBQVMsRUFBaUIsRUFBRyxDQUMzQixJQUFJLEVBQWlDLEdBQWEsUUFDbEQsT0FBZ0IsSUFBVCxLQUNILEVBQ0EsR0FBbUIsWUFFekIsU0FBUyxFQUFjLENBQUMsRUFBeUIsRUFBZSxDQUM5RCxBQUFTLElBQVQsS0FDSSxHQUFLLEdBQWMsR0FBYSxRQUFTLENBQXVCLEVBQ2hFLEdBQUssR0FBYyxFQUFjLEtBQU0sQ0FBdUIsRUFFcEUsU0FBUyxFQUFpQixFQUFHLENBQzNCLElBQUksRUFBZ0IsR0FBa0IsRUFDdEMsT0FBZ0IsSUFBVCxLQUNILEtBQ0EsQ0FBRSxPQUFRLEdBQWEsY0FBZSxLQUFNLENBQWMsRUFFaEUsU0FBUyxFQUFpQixFQUFHLENBQzNCLElBQUksRUFBVyxFQUNmLEFBQVMsS0FBVCxLQUNLLEdBQWUsQ0FBQyxDQUFRLEVBQ3pCLEdBQWEsS0FBSyxDQUFRLEVBRWhDLFNBQVMsQ0FBa0IsRUFBRyxDQUM1QixJQUFJLEVBQVcsRUFDZixHQUNXLEtBQVQsT0FDQyxLQUNELEdBQWEsTUFBNkIsR0FDMUMsQ0FDQSxJQUFJLEVBQWdCLEVBQ2xCLEVBQ0YsRUFDQSxJQUNHLEdBQXdDLElBQUksQ0FBYSxJQUN6RCxHQUF3QyxJQUFJLENBQWEsRUFDakQsS0FBVCxNQUNBLENBQ0EsUUFBUyxFQUFRLEdBQUksRUFBSSxFQUFHLEdBQUssR0FBeUIsSUFBSyxDQUM3RCxJQUFJLEVBQWMsR0FBYSxHQUM3QixFQUNFLElBQU0sR0FBMEIsRUFBVyxFQUMvQyxJQUNFLEVBQWMsRUFBSSxFQUFJLEtBQU8sRUFDN0IsR0FBSyxFQUFZLFFBR2pCLEdBQWUsSUFDakIsR0FBZSxFQUFjO0FBQUEsRUFDN0IsR0FBUyxFQUVYLFFBQVEsTUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFDQSxFQUNBLENBQ0YsSUFJTixTQUFTLEVBQW9CLENBQUMsRUFBTSxDQUNsQyxBQUFXLElBQU4sUUFDTSxJQUFULE1BQ0EsR0FBWSxDQUFJLEdBQ2hCLFFBQVEsTUFDTixtSUFDQSxTQUNPLENBQ1QsRUFFSixTQUFTLEVBQXVCLEVBQUcsQ0FDakMsSUFBSSxFQUFnQixFQUEwQixFQUF5QixFQUN2RSxHQUF5QixJQUFJLENBQWEsSUFDdkMsR0FBeUIsSUFBSSxDQUFhLEVBQzNDLFFBQVEsTUFDTixnSEFDQSxDQUNGLEdBRUosU0FBUyxFQUFxQixFQUFHLENBQy9CLE1BQU0sTUFDSjtBQUFBO0FBQUE7QUFBQTtBQUFBLCtGQUNGLEVBRUYsU0FBUyxFQUFrQixDQUFDLEVBQVUsRUFBVSxDQUM5QyxHQUFJLEdBQTRCLE1BQU8sR0FDdkMsR0FBYSxJQUFULEtBQ0YsT0FDRSxRQUFRLE1BQ04sMktBQ0EsQ0FDRixFQUNBLEdBRUosRUFBUyxTQUFXLEVBQVMsUUFDM0IsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBLGNBQ0EsRUFDQSxJQUFNLEVBQVMsS0FBSyxJQUFJLEVBQUksSUFDNUIsSUFBTSxFQUFTLEtBQUssSUFBSSxFQUFJLEdBQzlCLEVBQ0YsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFTLFFBQVUsRUFBSSxFQUFTLE9BQVEsSUFDMUQsSUFBSyxHQUFTLEVBQVMsR0FBSSxFQUFTLEVBQUUsRUFBRyxNQUFPLEdBQ2xELE1BQU8sR0FFVCxTQUFTLEVBQWUsQ0FDdEIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FPQSxHQU5BLEdBQWMsRUFDZCxHQUE0QixFQUM1QixHQUF3QixJQUFULEtBQW1CLEVBQVEsZ0JBQWtCLEtBQzVELEdBQTBCLEdBQzFCLEdBQ1csSUFBVCxNQUFvQixFQUFRLE9BQVMsRUFBZSxLQUdsRCxPQUFPLFVBQVUsU0FBUyxLQUFLLENBQVMsSUFEMUMsMEJBR0UsT0FBTyxVQUFVLFNBQVMsS0FBSyxDQUFTLElBRDFDLGtDQUdBLEFBQUMsRUFBa0IsRUFDakIsRUFDRixFQUNFLEdBQWlDLElBQUksQ0FBZSxJQUNqRCxHQUFpQyxJQUFJLENBQWUsRUFDckQsUUFBUSxNQUNOLHlNQUNGLEdBQ04sRUFBZSxjQUFnQixLQUMvQixFQUFlLFlBQWMsS0FDN0IsRUFBZSxNQUFRLEVBQ3ZCLEVBQXFCLEVBQ1YsSUFBVCxNQUE2QixFQUFRLGdCQUFqQixLQUNoQixHQUNTLEtBQVQsS0FDRSxHQUNBLEdBQ1IsR0FBc0MsR0FDbkMsRUFBZSxLQUFPLE1BQXNCLEdBQy9DLElBQUksRUFBVyxHQUFtQixFQUFXLEVBQU8sQ0FBUyxFQVM3RCxHQVJBLEdBQXNDLEdBQ3RDLEtBQ0csRUFBVyxHQUNWLEVBQ0EsRUFDQSxFQUNBLENBQ0YsR0FDRSxFQUFpQixDQUNuQixHQUEyQixFQUFFLEVBQzdCLEdBQUksQ0FDRixFQUFXLEdBQ1QsRUFDQSxFQUNBLEVBQ0EsQ0FDRixTQUNBLENBQ0EsR0FBMkIsRUFBRSxHQUlqQyxPQURBLEdBQXFCLEVBQVMsQ0FBYyxFQUNyQyxFQUVULFNBQVMsRUFBb0IsQ0FBQyxFQUFTLEVBQWdCLENBQ3JELEVBQWUsZ0JBQWtCLEdBQ3hCLEVBQWUsZUFBeEIsS0FDYSxLQUFULE9BQ0MsRUFBZSxhQUFlLENBQzdCLE1BQU8sRUFDUCxhQUFjLEtBQ2Qsb0JBQXFCLEVBQ3ZCLEdBQ0MsRUFBZSxhQUFhLG9CQUFzQixHQUN2RCxFQUFxQixFQUFJLEdBQ3pCLElBQUksRUFDTyxLQUFULE1BQWlDLEdBQVksT0FBckIsS0FpQjFCLEdBaEJBLEdBQWMsRUFDZCxHQUNFLEVBQ0EsR0FDQSxHQUNBLEdBQ0UsS0FDSixHQUEwQixHQUNqQixJQUFULE9BQ0csRUFBUSxNQUFRLGFBQWUsRUFBZSxNQUFRLFdBQ3ZELFFBQVEsTUFDTix1RkFDRixFQUNGLEdBQStCLEdBQy9CLEdBQXVCLEVBQ3ZCLEdBQWdCLEtBQ1osRUFDRixNQUFNLE1BQ0osaUdBQ0YsRUFDRixBQUFTLElBQVQsTUFDRSxLQUNFLEVBQVUsRUFBUSxhQUNYLElBQVQsTUFDRSxHQUFzQixDQUFPLElBQzVCLEdBQW1CLEtBQ3hCLElBQ00sR0FBbUMsR0FBTSxFQUFVLElBQ3BELEVBQVUsR0FDZixJQUNJLEVBQ0EsRUFBMEIsQ0FBYyxHQUFLLFVBQy9DLEdBQWlDLElBQUksQ0FBYyxHQUNqRCxHQUFpQyxJQUFJLENBQWMsSUFDbEQsR0FBaUMsSUFBSSxDQUFjLEVBQ3BELFFBQVEsTUFDTix3TEFDRixJQUVOLFNBQVMsRUFBb0IsQ0FBQyxFQUFnQixFQUFXLEVBQU8sRUFBVyxDQUN6RSxHQUE0QixFQUM1QixJQUFJLEVBQW9CLEVBQ3hCLEVBQUcsQ0FJRCxHQUhBLEtBQStDLEdBQWdCLE1BQy9ELEdBQXVCLEVBQ3ZCLEdBQTZDLEdBQ3pDLEdBQXFCLEdBQ3ZCLE1BQU0sTUFDSixzRkFDRixFQUlGLEdBSEEsR0FBcUIsRUFDckIsR0FBNkIsR0FDN0IsR0FBcUIsR0FBYyxLQUN2QixFQUFlLGFBQXZCLEtBQW9DLENBQ3RDLElBQUksRUFBVyxFQUFlLFlBQzlCLEVBQVMsV0FBYSxLQUN0QixFQUFTLE9BQVMsS0FDbEIsRUFBUyxPQUFTLEtBQ1YsRUFBUyxXQUFqQixPQUErQixFQUFTLFVBQVUsTUFBUSxHQUU1RCxHQUEwQixHQUMxQixFQUFxQixFQUFJLEdBQ3pCLEVBQVcsR0FBbUIsRUFBVyxFQUFPLENBQVMsUUFDbEQsSUFDVCxPQUFPLEVBRVQsU0FBUyxFQUE0QixFQUFHLENBQ3RDLElBQUksRUFBYSxFQUFxQixFQUNwQyxFQUFnQixFQUFXLFNBQVMsRUFBRSxHQVF4QyxPQVBBLFNBQ3dCLEVBQWMsT0FBcEMsV0FDSSxHQUFZLENBQWEsRUFDekIsRUFDTixFQUFhLEVBQVcsU0FBUyxFQUFFLElBQ3pCLEtBQVQsS0FBdUIsR0FBWSxjQUFnQixRQUNsRCxJQUFlLEdBQTBCLE9BQVMsTUFDN0MsRUFFVCxTQUFTLEVBQW9CLEVBQUcsQ0FDOUIsSUFBSSxFQUF3QixLQUFOLEVBRXRCLE9BREEsR0FBaUIsRUFDVixFQUVULFNBQVMsRUFBWSxDQUFDLEVBQVMsRUFBZ0IsRUFBTyxDQUNwRCxFQUFlLFlBQWMsRUFBUSxZQUNyQyxFQUFlLE9BQ1osRUFBZSxLQUFPLE1BQXVCLEdBQzFDLEVBQWUsTUFBUSxXQUN2QixFQUFlLE1BQVEsTUFDN0IsRUFBUSxRQUFVLEVBRXBCLFNBQVMsRUFBa0IsQ0FBQyxFQUFnQixDQUMxQyxHQUFJLEdBQThCLENBQ2hDLElBQ0UsRUFBaUIsRUFBZSxjQUN2QixJQUFULE1BRUEsQ0FDQSxJQUFJLEVBQVEsRUFBZSxNQUMzQixBQUFTLElBQVQsT0FBbUIsRUFBTSxRQUFVLE1BQ25DLEVBQWlCLEVBQWUsS0FFbEMsR0FBK0IsR0FFakMsR0FBYyxFQUNkLEdBQ0UsR0FDQSxHQUNBLEdBQ0UsS0FDSixHQUEwQixHQUMxQixFQUF1QixLQUN2QixHQUE2QyxHQUM3QyxHQUF1QixHQUFpQixFQUN4QyxHQUFnQixLQUVsQixTQUFTLEVBQXVCLEVBQUcsQ0FDakMsSUFBSSxFQUFPLENBQ1QsY0FBZSxLQUNmLFVBQVcsS0FDWCxVQUFXLEtBQ1gsTUFBTyxLQUNQLEtBQU0sSUFDUixFQUlBLE9BSFMsS0FBVCxLQUNLLEdBQTBCLGNBQWdCLEdBQXFCLEVBQy9ELEdBQXFCLEdBQW1CLEtBQU8sRUFDN0MsR0FFVCxTQUFTLEVBQXdCLEVBQUcsQ0FDbEMsR0FBYSxLQUFULEtBQXNCLENBQ3hCLElBQUksRUFBa0IsR0FBMEIsVUFDaEQsRUFDVyxJQUFULEtBQTJCLEVBQWdCLGNBQWdCLFNBQ3hELEdBQWtCLEdBQVksS0FDckMsSUFBSSxFQUNPLEtBQVQsS0FDSSxHQUEwQixjQUMxQixHQUFtQixLQUN6QixHQUFhLElBQVQsS0FDRixBQUFDLEdBQXFCLEVBQ25CLEdBQWMsTUFDZCxDQUNILEdBQWEsSUFBVCxLQUEwQixDQUM1QixHQUFhLEdBQTBCLFlBQW5DLEtBQ0YsTUFBTSxNQUNKLDRGQUNGLEVBQ0YsTUFBTSxNQUFNLHNEQUFzRCxFQUVwRSxHQUFjLEVBQ2QsRUFBa0IsQ0FDaEIsY0FBZSxHQUFZLGNBQzNCLFVBQVcsR0FBWSxVQUN2QixVQUFXLEdBQVksVUFDdkIsTUFBTyxHQUFZLE1BQ25CLEtBQU0sSUFDUixFQUNTLEtBQVQsS0FDSyxHQUEwQixjQUFnQixHQUN6QyxFQUNELEdBQXFCLEdBQW1CLEtBQU8sRUFFdEQsT0FBTyxHQUVULFNBQVMsRUFBVyxDQUFDLEVBQVUsQ0FDN0IsSUFBSSxFQUFRLEdBY1osT0FiQSxJQUF3QixFQUNmLEtBQVQsT0FBMkIsR0FBZ0IsR0FBb0IsR0FDL0QsRUFBVyxHQUFrQixHQUFlLEVBQVUsQ0FBSyxFQUMzRCxFQUFRLElBRUksS0FBVCxLQUNHLEVBQU0sY0FDTixHQUFtQixRQUh6QixPQUlJLEVBQVEsRUFBTSxVQUNmLEVBQXFCLEVBQ1gsSUFBVCxNQUEyQixFQUFNLGdCQUFmLEtBQ2QsR0FDQSxJQUNELEVBRVQsU0FBUyxFQUFHLENBQUMsRUFBUSxDQUNuQixHQUFhLElBQVQsYUFBdUMsSUFBcEIsU0FBNEIsQ0FDakQsVUFBMEIsRUFBTyxPQUE3QixXQUFtQyxPQUFPLEdBQVksQ0FBTSxFQUNoRSxHQUFJLEVBQU8sV0FBYSxHQUFvQixPQUFPLEdBQVksQ0FBTSxFQUV2RSxNQUFNLE1BQU0sNENBQThDLE9BQU8sQ0FBTSxDQUFDLEVBRTFFLFNBQVMsRUFBWSxDQUFDLEVBQU0sQ0FDMUIsSUFBSSxFQUFZLEtBQ2QsRUFBYyxHQUEwQixZQUUxQyxHQURTLElBQVQsT0FBeUIsRUFBWSxFQUFZLFdBQ3JDLEdBQVIsS0FBbUIsQ0FDckIsSUFBSSxFQUFVLEdBQTBCLFVBQ3hDLEFBQVMsSUFBVCxPQUNJLEVBQVUsRUFBUSxZQUNYLElBQVQsT0FDSSxFQUFVLEVBQVEsVUFDWixHQUFSLE9BQ0csRUFBWSxDQUNYLEtBQU0sRUFBUSxLQUFLLFlBQWEsQ0FBQyxFQUFPLENBQ3RDLE9BQU8sRUFBTSxNQUFNLEVBQ3BCLEVBQ0QsTUFBTyxDQUNULEtBUVIsR0FOUSxHQUFSLE9BQXNCLEVBQVksQ0FBRSxLQUFNLENBQUMsRUFBRyxNQUFPLENBQUUsR0FDOUMsSUFBVCxPQUNJLEVBQWMsR0FBbUMsRUFDbEQsR0FBMEIsWUFBYyxHQUMzQyxFQUFZLFVBQVksRUFDeEIsRUFBYyxFQUFVLEtBQUssRUFBVSxPQUN4QixJQUFOLFFBQXFCLEdBQzVCLElBQ0UsRUFBYyxFQUFVLEtBQUssRUFBVSxPQUFTLE1BQU0sQ0FBSSxFQUN4RCxFQUFVLEVBQ1osRUFBVSxFQUNWLElBRUEsRUFBWSxHQUFXLE9BRXpCLEdBQVksU0FBVyxHQUNyQixRQUFRLE1BQ04sa0pBQ0EsRUFBWSxPQUNaLENBQ0YsRUFFSixPQURBLEVBQVUsUUFDSCxFQUVULFNBQVMsRUFBaUIsQ0FBQyxFQUFPLEVBQVEsQ0FDeEMsY0FBNkIsSUFBdEIsV0FBK0IsRUFBTyxDQUFLLEVBQUksRUFFeEQsU0FBUyxFQUFZLENBQUMsRUFBUyxFQUFZLEVBQU0sQ0FDL0MsSUFBSSxFQUFPLEdBQXdCLEVBQ25DLEdBQWUsSUFBTixPQUFZLENBQ25CLElBQUksRUFBZSxFQUFLLENBQVUsRUFDbEMsR0FBSSxHQUFxQyxDQUN2QyxHQUEyQixFQUFFLEVBQzdCLEdBQUksQ0FDRixFQUFLLENBQVUsU0FDZixDQUNBLEdBQTJCLEVBQUUsUUFHNUIsR0FBZSxFQWV0QixPQWRBLEVBQUssY0FBZ0IsRUFBSyxVQUFZLEVBQ3RDLEVBQVUsQ0FDUixRQUFTLEtBQ1QsTUFBTyxFQUNQLFNBQVUsS0FDVixvQkFBcUIsRUFDckIsa0JBQW1CLENBQ3JCLEVBQ0EsRUFBSyxNQUFRLEVBQ2IsRUFBVSxFQUFRLFNBQVcsR0FBc0IsS0FDakQsS0FDQSxHQUNBLENBQ0YsRUFDTyxDQUFDLEVBQUssY0FBZSxDQUFPLEVBRXJDLFNBQVMsRUFBYSxDQUFDLEVBQVMsQ0FDOUIsSUFBSSxFQUFPLEdBQXlCLEVBQ3BDLE9BQU8sR0FBa0IsRUFBTSxHQUFhLENBQU8sRUFFckQsU0FBUyxFQUFpQixDQUFDLEVBQU0sRUFBUyxFQUFTLENBQ2pELElBQUksRUFBUSxFQUFLLE1BQ2pCLEdBQWEsSUFBVCxLQUNGLE1BQU0sTUFDSixtSUFDRixFQUNGLEVBQU0sb0JBQXNCLEVBQzVCLElBQUksRUFBWSxFQUFLLFVBQ25CLEVBQWUsRUFBTSxRQUN2QixHQUFhLElBQVQsS0FBdUIsQ0FDekIsR0FBYSxJQUFULEtBQW9CLENBQ3RCLElBQUksRUFBWSxFQUFVLEtBQzFCLEVBQVUsS0FBTyxFQUFhLEtBQzlCLEVBQWEsS0FBTyxFQUV0QixFQUFRLFlBQWMsR0FDcEIsUUFBUSxNQUNOLHdGQUNGLEVBQ0YsRUFBUSxVQUFZLEVBQVksRUFDaEMsRUFBTSxRQUFVLEtBR2xCLEdBREEsRUFBZSxFQUFLLFVBQ1AsSUFBVCxLQUFvQixFQUFLLGNBQWdCLE1BQ3hDLENBQ0gsRUFBVSxFQUFVLEtBQ3BCLElBQUksRUFBcUIsRUFBWSxLQUNuQyxFQUFtQixLQUNuQixFQUFTLEVBQ1QsRUFBa0MsR0FDcEMsRUFBRyxDQUNELElBQUksRUFBYSxFQUFPLEtBQU8sV0FDL0IsR0FDRSxJQUFlLEVBQU8sTUFDakIsR0FBZ0MsS0FBZ0IsR0FDaEQsR0FBYyxLQUFnQixFQUNuQyxDQUNBLElBQUksRUFBYSxFQUFPLFdBQ3hCLEdBQVUsSUFBTixFQUNGLEFBQVMsSUFBVCxPQUNHLEVBQW1CLEVBQWlCLEtBQ25DLENBQ0UsS0FBTSxFQUNOLFdBQVksRUFDWixPQUFRLEVBQU8sT0FDZixjQUFlLEVBQU8sY0FDdEIsV0FBWSxFQUFPLFdBQ25CLEtBQU0sSUFDUixHQUNGLElBQWUsS0FDWixFQUFrQyxhQUMvQixHQUFjLEtBQWdCLEVBQVksQ0FDbEQsRUFBUyxFQUFPLEtBQ2hCLElBQWUsS0FDWixFQUFrQyxJQUNyQyxhQUVBLENBQUMsRUFBYSxDQUNaLEtBQU0sRUFDTixXQUFZLEVBQU8sV0FDbkIsT0FBUSxFQUFPLE9BQ2YsY0FBZSxFQUFPLGNBQ3RCLFdBQVksRUFBTyxXQUNuQixLQUFNLElBQ1IsRUFDVyxJQUFULE1BQ00sRUFBb0IsRUFBbUIsRUFDeEMsRUFBWSxHQUNaLEVBQW1CLEVBQWlCLEtBQU8sRUFDL0MsR0FBMEIsT0FBUyxFQUNuQyxJQUFrQyxFQUN2QyxFQUFhLEVBQU8sT0FDcEIsSUFDRSxFQUFRLEVBQWMsQ0FBVSxFQUNsQyxFQUFlLEVBQU8sY0FDbEIsRUFBTyxXQUNQLEVBQVEsRUFBYyxDQUFVLE1BRXBDLENBQUMsRUFBYSxDQUNaLEtBQU0sRUFDTixXQUFZLEVBQU8sV0FDbkIsT0FBUSxFQUFPLE9BQ2YsY0FBZSxFQUFPLGNBQ3RCLFdBQVksRUFBTyxXQUNuQixLQUFNLElBQ1IsRUFDVyxJQUFULE1BQ00sRUFBb0IsRUFBbUIsRUFDeEMsRUFBWSxHQUNaLEVBQW1CLEVBQWlCLEtBQU8sRUFDL0MsR0FBMEIsT0FBUyxFQUNuQyxJQUFrQyxFQUN2QyxFQUFTLEVBQU8sV0FDQSxJQUFULE1BQW1CLElBQVcsR0FJdkMsR0FIUyxJQUFULEtBQ0ssRUFBWSxFQUNaLEVBQWlCLEtBQU8sR0FFMUIsR0FBUyxFQUFjLEVBQUssYUFBYSxJQUN4QyxHQUFtQixHQUNyQixJQUNJLEVBQVUsR0FBMEMsSUFBVCxPQUUvQyxNQUFNLEVBQ1IsRUFBSyxjQUFnQixFQUNyQixFQUFLLFVBQVksRUFDakIsRUFBSyxVQUFZLEVBQ2pCLEVBQU0sa0JBQW9CLEVBRzVCLE9BRFMsSUFBVCxPQUF1QixFQUFNLE1BQVEsR0FDOUIsQ0FBQyxFQUFLLGNBQWUsRUFBTSxRQUFRLEVBRTVDLFNBQVMsRUFBZSxDQUFDLEVBQVMsQ0FDaEMsSUFBSSxFQUFPLEdBQXlCLEVBQ2xDLEVBQVEsRUFBSyxNQUNmLEdBQWEsSUFBVCxLQUNGLE1BQU0sTUFDSixtSUFDRixFQUNGLEVBQU0sb0JBQXNCLEVBQzVCLElBQXFCLFNBQWpCLEVBQzRCLFFBQTlCLEdBQXdCLEVBQ3hCLEVBQVcsRUFBSyxjQUNsQixHQUFhLElBQVQsS0FBZ0MsQ0FDbEMsRUFBTSxRQUFVLEtBQ2hCLElBQUksRUFBVSxFQUF3QixFQUFzQixLQUM1RCxFQUNFLENBQUMsRUFBVyxFQUFRLEVBQVUsRUFBTyxNQUFNLEVBQUssRUFBUyxFQUFPLFdBQzNELElBQVcsR0FDbEIsR0FBUyxFQUFVLEVBQUssYUFBYSxJQUFNLEdBQW1CLElBQzlELEVBQUssY0FBZ0IsRUFDWixFQUFLLFlBQWQsT0FBNEIsRUFBSyxVQUFZLEdBQzdDLEVBQU0sa0JBQW9CLEVBRTVCLE1BQU8sQ0FBQyxFQUFVLENBQVEsRUFFNUIsU0FBUyxFQUFzQixDQUFDLEVBQVcsRUFBYSxFQUFtQixDQUN6RSxJQUFJLEVBQVEsR0FDVixFQUFPLEdBQXdCLEVBQ2pDLEdBQUksR0FBYSxDQUNmLEdBQWUsSUFBTixPQUNQLE1BQU0sTUFDSiw0R0FDRixFQUNGLElBQUksRUFBZSxFQUFrQixFQUNyQyxJQUNFLElBQWlCLEVBQWtCLElBQ2xDLFFBQVEsTUFDUCw0RUFDRixFQUNDLEdBQTZCLFFBQzNCLENBU0wsR0FSQSxFQUFlLEVBQVksRUFDM0IsS0FDSSxFQUFvQixFQUFZLEVBQ2xDLEdBQVMsRUFBYyxDQUFpQixJQUNyQyxRQUFRLE1BQ1Asc0VBQ0YsRUFDQyxHQUE2QixLQUNyQixLQUFULEtBQ0YsTUFBTSxNQUNKLGlGQUNGLEVBQ0YsQ0FBTyxHQUFnQyxNQUF2QyxHQUNFLEdBQTBCLEVBQU8sRUFBYSxDQUFZLEVBc0I5RCxPQXBCQSxFQUFLLGNBQWdCLEVBQ3JCLEVBQW9CLENBQUUsTUFBTyxFQUFjLFlBQWEsQ0FBWSxFQUNwRSxFQUFLLE1BQVEsRUFDYixHQUNFLEdBQWlCLEtBQUssS0FBTSxFQUFPLEVBQW1CLENBQVMsRUFDL0QsQ0FBQyxDQUFTLENBQ1osRUFDQSxFQUFNLE9BQVMsS0FDZixHQUNFLEdBQVksR0FDWixHQUFvQixLQUNsQixLQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxDQUFFLFFBQWMsTUFBRSxFQUNsQixJQUNGLEVBQ08sRUFFVCxTQUFTLEVBQXVCLENBQzlCLEVBQ0EsRUFDQSxFQUNBLENBQ0EsSUFBSSxFQUFRLEdBQ1YsRUFBTyxHQUF5QixFQUNoQyxFQUF1QixHQUN6QixHQUFJLEVBQXNCLENBQ3hCLEdBQWUsSUFBTixPQUNQLE1BQU0sTUFDSiw0R0FDRixFQUNGLEVBQW9CLEVBQWtCLFVBRXBDLEVBQW9CLEVBQVksR0FBSyxHQUN2QyxDQUNBLElBQUksRUFBaUIsRUFBWSxFQUNqQyxHQUFTLEVBQW1CLENBQWMsSUFDdkMsUUFBUSxNQUNQLHNFQUNGLEVBQ0MsR0FBNkIsSUFFbEMsR0FDRyxHQUFrQixJQUNoQixJQUFlLEdBQU0sY0FDdEIsQ0FDRixFQUVBLEFBQUMsRUFBSyxjQUFnQixFQUFxQixHQUFtQixHQUNoRSxFQUFPLEVBQUssTUFDWixJQUFJLEVBQVMsR0FBaUIsS0FBSyxLQUFNLEVBQU8sRUFBTSxDQUFTLEVBRS9ELEdBREEsR0FBaUIsS0FBTSxHQUFTLEVBQVEsQ0FBQyxDQUFTLENBQUMsRUFFakQsRUFBSyxjQUFnQixHQUNyQixHQUNVLEtBQVQsTUFDQyxHQUFtQixjQUFjLElBQU0sR0FDekMsQ0FjQSxHQWJBLEVBQU0sT0FBUyxLQUNmLEdBQ0UsR0FBWSxHQUNaLEdBQW9CLEtBQ2xCLEtBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLENBQUUsUUFBYyxNQUFFLEVBQ2xCLElBQ0YsRUFDYSxLQUFULEtBQ0YsTUFBTSxNQUNKLGlGQUNGLEVBQ0YsSUFDUyxHQUFjLE1BQXJCLEdBQ0EsR0FBMEIsRUFBTyxFQUFhLENBQWlCLEVBRW5FLE9BQU8sRUFFVCxTQUFTLEVBQXlCLENBQUMsRUFBTyxFQUFhLEVBQWtCLENBQ3ZFLEVBQU0sT0FBUyxNQUNmLEVBQVEsQ0FBRSxZQUFhLEVBQWEsTUFBTyxDQUFpQixFQUM1RCxFQUFjLEdBQTBCLFlBQy9CLElBQVQsTUFDTSxFQUFjLEdBQW1DLEVBQ2xELEdBQTBCLFlBQWMsRUFDeEMsRUFBWSxPQUFTLENBQUMsQ0FBSyxJQUMxQixFQUFtQixFQUFZLE9BQ3hCLElBQVQsS0FDSyxFQUFZLE9BQVMsQ0FBQyxDQUFLLEVBQzVCLEVBQWlCLEtBQUssQ0FBSyxHQUVyQyxTQUFTLEVBQW1CLENBQUMsRUFBTyxFQUFNLEVBQWMsRUFBYSxDQUNuRSxFQUFLLE1BQVEsRUFDYixFQUFLLFlBQWMsRUFDbkIsR0FBdUIsQ0FBSSxHQUFLLEdBQW1CLENBQUssRUFFMUQsU0FBUyxFQUFnQixDQUFDLEVBQU8sRUFBTSxFQUFXLENBQ2hELE9BQU8sVUFBbUIsRUFBRyxDQUMzQixHQUF1QixDQUFJLEdBQUssR0FBbUIsQ0FBSyxFQUN6RCxFQUVILFNBQVMsRUFBc0IsQ0FBQyxFQUFNLENBQ3BDLElBQUksRUFBb0IsRUFBSyxZQUM3QixFQUFPLEVBQUssTUFDWixHQUFJLENBQ0YsSUFBSSxFQUFZLEVBQWtCLEVBQ2xDLE9BQVEsR0FBUyxFQUFNLENBQVMsUUFDekIsRUFBUCxDQUNBLE1BQU8sSUFHWCxTQUFTLEVBQWtCLENBQUMsRUFBTyxDQUNqQyxJQUFJLEVBQU8sR0FBK0IsRUFBTyxDQUFDLEVBQ2xELEFBQVMsSUFBVCxNQUFpQixHQUFzQixFQUFNLEVBQU8sQ0FBQyxFQUV2RCxTQUFTLEVBQWMsQ0FBQyxFQUFjLENBQ3BDLElBQUksRUFBTyxHQUF3QixFQUNuQyxVQUEwQixJQUF0QixXQUFvQyxDQUN0QyxJQUFJLEVBQTBCLEVBRTlCLEdBREEsRUFBZSxFQUF3QixFQUNuQyxHQUFxQyxDQUN2QyxHQUEyQixFQUFFLEVBQzdCLEdBQUksQ0FDRixFQUF3QixTQUN4QixDQUNBLEdBQTJCLEVBQUUsSUFZbkMsT0FSQSxFQUFLLGNBQWdCLEVBQUssVUFBWSxFQUN0QyxFQUFLLE1BQVEsQ0FDWCxRQUFTLEtBQ1QsTUFBTyxFQUNQLFNBQVUsS0FDVixvQkFBcUIsR0FDckIsa0JBQW1CLENBQ3JCLEVBQ08sRUFFVCxTQUFTLEVBQVUsQ0FBQyxFQUFjLENBQ2hDLEVBQWUsR0FBZSxDQUFZLEVBQzFDLElBQUksRUFBUSxFQUFhLE1BQ3ZCLEVBQVcsR0FBaUIsS0FDMUIsS0FDQSxHQUNBLENBQ0YsRUFFRixPQURBLEVBQU0sU0FBVyxFQUNWLENBQUMsRUFBYSxjQUFlLENBQVEsRUFFOUMsU0FBUyxFQUFlLENBQUMsRUFBYSxDQUNwQyxJQUFJLEVBQU8sR0FBd0IsRUFDbkMsRUFBSyxjQUFnQixFQUFLLFVBQVksRUFDdEMsSUFBSSxFQUFRLENBQ1YsUUFBUyxLQUNULE1BQU8sRUFDUCxTQUFVLEtBQ1Ysb0JBQXFCLEtBQ3JCLGtCQUFtQixJQUNyQixFQVNBLE9BUkEsRUFBSyxNQUFRLEVBQ2IsRUFBTyxHQUEyQixLQUNoQyxLQUNBLEdBQ0EsR0FDQSxDQUNGLEVBQ0EsRUFBTSxTQUFXLEVBQ1YsQ0FBQyxFQUFhLENBQUksRUFFM0IsU0FBUyxFQUFnQixDQUFDLEVBQWEsRUFBUyxDQUM5QyxJQUFJLEVBQU8sR0FBeUIsRUFDcEMsT0FBTyxHQUFxQixFQUFNLEdBQWEsRUFBYSxDQUFPLEVBRXJFLFNBQVMsRUFBb0IsQ0FBQyxFQUFNLEVBQVMsRUFBYSxFQUFTLENBRWpFLE9BREEsRUFBSyxVQUFZLEVBQ1YsR0FDTCxFQUNBLFVBQ3NCLElBQXRCLFdBQWdDLEVBQVUsRUFDNUMsRUFFRixTQUFTLEVBQWtCLENBQUMsRUFBYSxFQUFTLENBQ2hELElBQUksRUFBTyxHQUF5QixFQUNwQyxHQUFhLEtBQVQsS0FDRixPQUFPLEdBQXFCLEVBQU0sR0FBYSxFQUFhLENBQU8sRUFFckUsT0FEQSxFQUFLLFVBQVksRUFDVixDQUFDLEVBQWEsRUFBSyxNQUFNLFFBQVEsRUFFMUMsU0FBUyxFQUFtQixDQUMxQixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUFJLEdBQW9CLENBQUssRUFDM0IsTUFBTSxNQUFNLDJDQUEyQyxFQUV6RCxHQURBLEVBQVEsRUFBWSxPQUNQLElBQVQsS0FBZ0IsQ0FDbEIsSUFBSSxFQUFhLENBQ2YsUUFBUyxFQUNULE9BQVEsRUFDUixLQUFNLEtBQ04sYUFBYyxHQUNkLE9BQVEsVUFDUixNQUFPLEtBQ1AsT0FBUSxLQUNSLFVBQVcsQ0FBQyxFQUNaLGFBQWUsQ0FBQyxFQUFVLENBQ3hCLEVBQVcsVUFBVSxLQUFLLENBQVEsRUFFdEMsRUFDQSxBQUFTLEVBQXFCLElBQTlCLEtBQ0ksRUFBZ0IsRUFBRSxFQUNqQixFQUFXLGFBQWUsR0FDL0IsRUFBUyxDQUFVLEVBQ25CLEVBQWtCLEVBQVksUUFDckIsSUFBVCxNQUNNLEVBQVcsS0FBTyxFQUFZLFFBQVUsRUFDMUMsR0FBcUIsRUFBYSxDQUFVLElBQzFDLEVBQVcsS0FBTyxFQUFnQixLQUNuQyxFQUFZLFFBQVUsRUFBZ0IsS0FBTyxJQUd0RCxTQUFTLEVBQW9CLENBQUMsRUFBYSxFQUFNLENBQy9DLElBQWtCLE9BQWQsRUFDYSxRQUFmLEdBQVUsRUFDVixFQUFZLEVBQVksTUFDMUIsR0FBSSxFQUFLLGFBQWMsQ0FDckIsSUFBSSxFQUFpQixFQUFxQixFQUN4QyxFQUFvQixDQUFDLEVBQ3ZCLEVBQXFCLEVBQUksRUFDekIsRUFBcUIsRUFBRSxlQUFpQixJQUFJLElBQzVDLEdBQUksQ0FDRixJQUFJLEVBQWMsRUFBTyxFQUFXLENBQU8sRUFDekMsRUFBMEIsRUFBcUIsRUFDakQsQUFBUyxJQUFULE1BQ0UsRUFBd0IsRUFBbUIsQ0FBVyxFQUN4RCxHQUF3QixFQUFhLEVBQU0sQ0FBVyxRQUMvQyxFQUFQLENBQ0EsR0FBYyxFQUFhLEVBQU0sQ0FBSyxTQUN0QyxDQUNBLEFBQUMsRUFBcUIsRUFBSSxFQUNmLElBQVQsTUFDRSxFQUFrQixpQkFDaEIsRUFBYyxFQUFrQixlQUFlLEtBQ2pELEVBQWtCLGVBQWUsTUFBTSxFQUN2QyxHQUFLLEdBQ0gsUUFBUSxLQUNOLHFNQUNGLFFBR1IsSUFBSSxDQUNGLEFBQUMsRUFBb0IsRUFBTyxFQUFXLENBQU8sRUFDNUMsR0FBd0IsRUFBYSxFQUFNLENBQWlCLFFBQ3ZELEVBQVAsQ0FDQSxHQUFjLEVBQWEsRUFBTSxDQUFPLEdBRzlDLFNBQVMsRUFBdUIsQ0FBQyxFQUFhLEVBQU0sRUFBYSxDQUMvRCxBQUFTLElBQVQsYUFDb0IsSUFBcEIsaUJBQ3NCLEVBQVksT0FBbEMsWUFDSyxFQUFZLGFBQ0YsQ0FBQyxFQUFXLENBQ25CLEdBQWdCLEVBQWEsRUFBTSxDQUFTLFdBRXJDLENBQUMsRUFBTyxDQUNmLE9BQU8sR0FBYyxFQUFhLEVBQU0sQ0FBSyxFQUVqRCxFQUNBLEVBQUssY0FDSCxRQUFRLE1BQ04sZ1BBQ0YsR0FDRixHQUFnQixFQUFhLEVBQU0sQ0FBVyxFQUVwRCxTQUFTLEVBQWUsQ0FBQyxFQUFhLEVBQVksRUFBVyxDQUMzRCxFQUFXLE9BQVMsWUFDcEIsRUFBVyxNQUFRLEVBQ25CLEdBQXNCLENBQVUsRUFDaEMsRUFBWSxNQUFRLEVBQ3BCLEVBQWEsRUFBWSxRQUNoQixJQUFULE9BQ0ksRUFBWSxFQUFXLEtBQ3pCLElBQWMsRUFDVCxFQUFZLFFBQVUsTUFDckIsRUFBWSxFQUFVLEtBQ3ZCLEVBQVcsS0FBTyxFQUNuQixHQUFxQixFQUFhLENBQVMsSUFFbkQsU0FBUyxFQUFhLENBQUMsRUFBYSxFQUFZLEVBQU8sQ0FDckQsSUFBSSxFQUFPLEVBQVksUUFFdkIsR0FEQSxFQUFZLFFBQVUsS0FDVCxJQUFULEtBQWUsQ0FDakIsRUFBTyxFQUFLLEtBQ1osRUFDRSxDQUFDLEVBQVcsT0FBUyxXQUNsQixFQUFXLE9BQVMsRUFDckIsR0FBc0IsQ0FBVSxFQUMvQixFQUFhLEVBQVcsV0FDdEIsSUFBZSxHQUV4QixFQUFZLE9BQVMsS0FFdkIsU0FBUyxFQUFxQixDQUFDLEVBQVksQ0FDekMsRUFBYSxFQUFXLFVBQ3hCLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBVyxPQUFRLElBQUssQUFBSSxFQUFXLEdBQUksRUFFakUsU0FBUyxFQUFrQixDQUFDLEVBQVUsRUFBVSxDQUM5QyxPQUFPLEVBRVQsU0FBUyxFQUFnQixDQUFDLEVBQVEsRUFBa0IsQ0FDbEQsR0FBSSxHQUFhLENBQ2YsSUFBSSxFQUFlLEdBQW1CLFVBQ3RDLEdBQWEsSUFBVCxLQUF1QixDQUN6QixFQUFHLENBQ0QsSUFBSSxFQUFhLEdBQ2pCLEdBQUksR0FBYSxDQUNmLEdBQUksR0FBd0IsQ0FDMUIsRUFBRyxDQUNELElBQUksRUFBaUIsR0FDckIsUUFDTSxFQUFvQixHQUNsQixFQUFlLFdBQXJCLEdBRUEsQ0FDQSxJQUFLLEVBQW1CLENBQ3RCLEVBQWlCLEtBQ2pCLFFBS0YsR0FIQSxFQUFpQixHQUNmLEVBQWUsV0FDakIsRUFDYSxJQUFULEtBQXlCLENBQzNCLEVBQWlCLEtBQ2pCLFNBR0osRUFBb0IsRUFBZSxLQUNuQyxFQUNFLElBQXNCLElBQ3RCLElBQXNCLEdBQ2xCLEVBQ0EsS0FFUixHQUFJLEVBQWdCLENBQ2xCLEdBQXlCLEdBQ3ZCLEVBQWUsV0FDakIsRUFDQSxFQUFhLEVBQWUsT0FBUyxHQUNyQyxTQUdKLEdBQXlCLENBQVUsRUFFckMsRUFBYSxHQUVmLElBQWUsRUFBbUIsRUFBYSxLQTJDbkQsT0F4Q0EsRUFBZSxHQUF3QixFQUN2QyxFQUFhLGNBQWdCLEVBQWEsVUFBWSxFQUN0RCxFQUFhLENBQ1gsUUFBUyxLQUNULE1BQU8sRUFDUCxTQUFVLEtBQ1Ysb0JBQXFCLEdBQ3JCLGtCQUFtQixDQUNyQixFQUNBLEVBQWEsTUFBUSxFQUNyQixFQUFlLEdBQWlCLEtBQzlCLEtBQ0EsR0FDQSxDQUNGLEVBQ0EsRUFBVyxTQUFXLEVBQ3RCLEVBQWEsR0FBZSxFQUFFLEVBQzlCLEVBQW9CLEdBQTJCLEtBQzdDLEtBQ0EsR0FDQSxHQUNBLEVBQVcsS0FDYixFQUNBLEVBQWEsR0FBd0IsRUFDckMsRUFBaUIsQ0FDZixNQUFPLEVBQ1AsU0FBVSxLQUNWLE9BQVEsRUFDUixRQUFTLElBQ1gsRUFDQSxFQUFXLE1BQVEsRUFDbkIsRUFBZSxHQUFvQixLQUNqQyxLQUNBLEdBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUFlLFNBQVcsRUFDMUIsRUFBVyxjQUFnQixFQUNwQixDQUFDLEVBQWtCLEVBQWMsRUFBRSxFQUU1QyxTQUFTLEVBQWlCLENBQUMsRUFBUSxDQUNqQyxJQUFJLEVBQVksR0FBeUIsRUFDekMsT0FBTyxHQUFzQixFQUFXLEdBQWEsQ0FBTSxFQUU3RCxTQUFTLEVBQXFCLENBQUMsRUFBVyxFQUFrQixFQUFRLENBQ2xFLEVBQW1CLEdBQ2pCLEVBQ0EsRUFDQSxFQUNGLEVBQUUsR0FDRixFQUFZLEdBQWMsRUFBaUIsRUFBRSxHQUM3QyxTQUNzQixJQUFwQixVQUNTLElBQVQsYUFDc0IsRUFBaUIsT0FBdkMsV0FDSSxHQUFZLENBQWdCLEVBQzVCLEVBQ04sSUFBSSxFQUFrQixHQUF5QixFQUM3QyxFQUFjLEVBQWdCLE1BQzlCLEVBQVcsRUFBWSxTQVN6QixPQVJBLElBQVcsRUFBZ0IsZ0JBQ3ZCLEdBQTBCLE9BQVMsS0FDckMsR0FDRSxHQUFZLEdBQ1osR0FBd0IsS0FBSyxLQUFNLEVBQWEsQ0FBTSxFQUN0RCxDQUFFLFFBQWMsTUFBRSxFQUNsQixJQUNGLEdBQ0ssQ0FBQyxFQUFrQixFQUFVLENBQVMsRUFFL0MsU0FBUyxFQUF1QixDQUFDLEVBQWEsRUFBUSxDQUNwRCxFQUFZLE9BQVMsRUFFdkIsU0FBUyxFQUFtQixDQUFDLEVBQVEsQ0FDbkMsSUFBSSxFQUFZLEdBQXlCLEVBQ3ZDLEVBQW1CLEdBQ3JCLEdBQWEsSUFBVCxLQUNGLE9BQU8sR0FBc0IsRUFBVyxFQUFrQixDQUFNLEVBQ2xFLEdBQXlCLEVBQ3pCLEVBQVksRUFBVSxjQUN0QixFQUFtQixHQUF5QixFQUM1QyxJQUFJLEVBQVcsRUFBaUIsTUFBTSxTQUV0QyxPQURBLEVBQWlCLGNBQWdCLEVBQzFCLENBQUMsRUFBVyxFQUFVLEVBQUUsRUFFakMsU0FBUyxFQUFVLENBQUMsRUFBSyxFQUFRLEVBQU0sRUFBTSxDQWEzQyxPQVpBLEVBQU0sQ0FBRSxJQUFLLEVBQUssT0FBUSxFQUFRLEtBQU0sRUFBTSxLQUFNLEVBQU0sS0FBTSxJQUFLLEVBQ3JFLEVBQVMsR0FBMEIsWUFDMUIsSUFBVCxPQUNJLEVBQVMsR0FBbUMsRUFDN0MsR0FBMEIsWUFBYyxHQUMzQyxFQUFPLEVBQU8sV0FDTCxJQUFULEtBQ0ssRUFBTyxXQUFhLEVBQUksS0FBTyxHQUM5QixFQUFPLEVBQUssS0FDYixFQUFLLEtBQU8sRUFDWixFQUFJLEtBQU8sRUFDWCxFQUFPLFdBQWEsR0FDbEIsRUFFVCxTQUFTLEVBQVEsQ0FBQyxFQUFjLENBQzlCLElBQUksRUFBTyxHQUF3QixFQUVuQyxPQURBLEVBQWUsQ0FBRSxRQUFTLENBQWEsRUFDL0IsRUFBSyxjQUFnQixFQUUvQixTQUFTLEVBQWUsQ0FBQyxFQUFZLEVBQVcsRUFBUSxFQUFNLENBQzVELElBQUksRUFBTyxHQUF3QixFQUNuQyxHQUEwQixPQUFTLEVBQ25DLEVBQUssY0FBZ0IsR0FDbkIsR0FBWSxFQUNaLEVBQ0EsQ0FBRSxRQUFjLE1BQUUsRUFDUCxJQUFOLE9BQWEsS0FBTyxDQUMzQixFQUVGLFNBQVMsRUFBZ0IsQ0FBQyxFQUFZLEVBQVcsRUFBUSxFQUFNLENBQzdELElBQUksRUFBTyxHQUF5QixFQUNwQyxFQUFrQixJQUFOLE9BQWEsS0FBTyxFQUNoQyxJQUFJLEVBQU8sRUFBSyxjQUFjLEtBQzlCLEFBQVMsS0FBVCxNQUNTLElBQVQsTUFDQSxHQUFtQixFQUFNLEdBQVksY0FBYyxJQUFJLEVBQ2xELEVBQUssY0FBZ0IsR0FBVyxFQUFXLEVBQVEsRUFBTSxDQUFJLEdBQzVELEdBQTBCLE9BQVMsRUFDcEMsRUFBSyxjQUFnQixHQUNwQixHQUFZLEVBQ1osRUFDQSxFQUNBLENBQ0YsR0FFTixTQUFTLEVBQVcsQ0FBQyxFQUFRLEVBQU0sQ0FDakMsQ0FBQyxHQUEwQixLQUFPLE1BQXVCLEtBQ3hELEdBQTBCLEtBQU8sTUFBZ0MsR0FDOUQsR0FBZ0IsVUFBVyxHQUFTLEVBQVEsQ0FBSSxFQUNoRCxHQUFnQixRQUFTLEdBQVMsRUFBUSxDQUFJLEVBRXBELFNBQVMsRUFBaUIsQ0FBQyxFQUFRLEVBQU0sQ0FDdkMsSUFBSSxFQUFhLFFBR2pCLE9BRkMsR0FBMEIsS0FBTyxNQUF1QixLQUN0RCxHQUFjLFVBQ1YsR0FBZ0IsRUFBWSxHQUFRLEVBQVEsQ0FBSSxFQUV6RCxTQUFTLEVBQXNCLENBQUMsRUFBUSxFQUFLLENBQzNDLFVBQTBCLElBQXRCLFdBQTJCLENBQzdCLEVBQVMsRUFBTyxFQUNoQixJQUFJLEVBQWEsRUFBSSxDQUFNLEVBQzNCLGVBQWdCLEVBQUcsQ0FDakIsT0FBc0IsSUFBdEIsV0FBbUMsRUFBVyxFQUFJLEVBQUksSUFBSSxHQUc5RCxHQUFhLElBQVQsTUFBMkIsSUFBTixPQUN2QixPQUNFLEVBQUksZUFBZSxTQUFTLEdBQzFCLFFBQVEsTUFDTiwrSEFDQSx3QkFBMEIsT0FBTyxLQUFLLENBQUcsRUFBRSxLQUFLLElBQUksRUFBSSxHQUMxRCxFQUNELEVBQVMsRUFBTyxFQUNoQixFQUFJLFFBQVUsVUFDTixFQUFHLENBQ1YsRUFBSSxRQUFVLE1BSXRCLFNBQVMsRUFBcUIsQ0FBQyxFQUFLLEVBQVEsRUFBTSxDQUNoRCxPQUFzQixJQUF0QixZQUNFLFFBQVEsTUFDTiwrR0FDUyxJQUFULFlBQXlCLEVBQVMsTUFDcEMsRUFDRixFQUFnQixJQUFULE1BQTRCLElBQU4sT0FBYSxFQUFLLE9BQU8sQ0FBQyxDQUFHLENBQUMsRUFBSSxLQUMvRCxJQUFJLEVBQWEsUUFDakIsQ0FBQyxHQUEwQixLQUFPLE1BQXVCLEtBQ3RELEdBQWMsVUFDakIsR0FDRSxFQUNBLEdBQ0EsR0FBdUIsS0FBSyxLQUFNLEVBQVEsQ0FBRyxFQUM3QyxDQUNGLEVBRUYsU0FBUyxFQUFzQixDQUFDLEVBQUssRUFBUSxFQUFNLENBQ2pELE9BQXNCLElBQXRCLFlBQ0UsUUFBUSxNQUNOLCtHQUNTLElBQVQsWUFBeUIsRUFBUyxNQUNwQyxFQUNGLEVBQWdCLElBQVQsTUFBNEIsSUFBTixPQUFhLEVBQUssT0FBTyxDQUFDLENBQUcsQ0FBQyxFQUFJLEtBQy9ELEdBQ0UsRUFDQSxHQUNBLEdBQXVCLEtBQUssS0FBTSxFQUFRLENBQUcsRUFDN0MsQ0FDRixFQUVGLFNBQVMsRUFBYSxDQUFDLEVBQVUsRUFBTSxDQUtyQyxPQUpBLEdBQXdCLEVBQUUsY0FBZ0IsQ0FDeEMsRUFDVyxJQUFOLE9BQWEsS0FBTyxDQUMzQixFQUNPLEVBRVQsU0FBUyxFQUFjLENBQUMsRUFBVSxFQUFNLENBQ3RDLElBQUksRUFBTyxHQUF5QixFQUNwQyxFQUFrQixJQUFOLE9BQWEsS0FBTyxFQUNoQyxJQUFJLEVBQVksRUFBSyxjQUNyQixHQUFhLElBQVQsTUFBaUIsR0FBbUIsRUFBTSxFQUFVLEVBQUUsRUFDeEQsT0FBTyxFQUFVLEdBRW5CLE9BREEsRUFBSyxjQUFnQixDQUFDLEVBQVUsQ0FBSSxFQUM3QixFQUVULFNBQVMsRUFBUyxDQUFDLEVBQVksRUFBTSxDQUNuQyxJQUFJLEVBQU8sR0FBd0IsRUFDbkMsRUFBa0IsSUFBTixPQUFhLEtBQU8sRUFDaEMsSUFBSSxFQUFZLEVBQVcsRUFDM0IsR0FBSSxHQUFxQyxDQUN2QyxHQUEyQixFQUFFLEVBQzdCLEdBQUksQ0FDRixFQUFXLFNBQ1gsQ0FDQSxHQUEyQixFQUFFLEdBSWpDLE9BREEsRUFBSyxjQUFnQixDQUFDLEVBQVcsQ0FBSSxFQUM5QixFQUVULFNBQVMsRUFBVSxDQUFDLEVBQVksRUFBTSxDQUNwQyxJQUFJLEVBQU8sR0FBeUIsRUFDcEMsRUFBa0IsSUFBTixPQUFhLEtBQU8sRUFDaEMsSUFBSSxFQUFZLEVBQUssY0FDckIsR0FBYSxJQUFULE1BQWlCLEdBQW1CLEVBQU0sRUFBVSxFQUFFLEVBQ3hELE9BQU8sRUFBVSxHQUVuQixHQURBLEVBQVksRUFBVyxFQUNuQixHQUFxQyxDQUN2QyxHQUEyQixFQUFFLEVBQzdCLEdBQUksQ0FDRixFQUFXLFNBQ1gsQ0FDQSxHQUEyQixFQUFFLEdBSWpDLE9BREEsRUFBSyxjQUFnQixDQUFDLEVBQVcsQ0FBSSxFQUM5QixFQUVULFNBQVMsRUFBa0IsQ0FBQyxFQUFPLEVBQWMsQ0FDL0MsSUFBSSxFQUFPLEdBQXdCLEVBQ25DLE9BQU8sR0FBdUIsRUFBTSxFQUFPLENBQVksRUFFekQsU0FBUyxFQUFtQixDQUFDLEVBQU8sRUFBYyxDQUNoRCxJQUFJLEVBQU8sR0FBeUIsRUFDcEMsT0FBTyxHQUNMLEVBQ0EsR0FBWSxjQUNaLEVBQ0EsQ0FDRixFQUVGLFNBQVMsRUFBcUIsQ0FBQyxFQUFPLEVBQWMsQ0FDbEQsSUFBSSxFQUFPLEdBQXlCLEVBQ3BDLE9BQWdCLEtBQVQsS0FDSCxHQUF1QixFQUFNLEVBQU8sQ0FBWSxFQUNoRCxHQUNFLEVBQ0EsR0FBWSxjQUNaLEVBQ0EsQ0FDRixFQUVOLFNBQVMsRUFBc0IsQ0FBQyxFQUFNLEVBQU8sRUFBYyxDQUN6RCxHQUFlLElBQU4sU0FBNkIsR0FBYyxjQUFyQixFQUM3QixPQUFRLEVBQUssY0FBZ0IsRUFLL0IsT0FKQSxFQUFLLGNBQWdCLEVBQ3JCLEVBQU8sR0FBb0IsRUFDM0IsR0FBMEIsT0FBUyxFQUNuQyxJQUFrQyxFQUMzQixFQUVULFNBQVMsRUFBdUIsQ0FBQyxFQUFNLEVBQVcsRUFBTyxFQUFjLENBQ3JFLEdBQUksR0FBUyxFQUFPLENBQVMsRUFBRyxPQUFPLEVBQ3ZDLEdBQWEsR0FBNkIsVUFBdEMsS0FDRixPQUNHLEVBQU8sR0FBdUIsRUFBTSxFQUFPLENBQVksRUFDeEQsR0FBUyxFQUFNLENBQVMsSUFBTSxHQUFtQixJQUNqRCxFQUVKLElBQVcsR0FBYyxNQUFyQixFQUNGLE9BQVEsR0FBbUIsR0FBTSxFQUFLLGNBQWdCLEVBSXhELE9BSEEsRUFBTyxHQUFvQixFQUMzQixHQUEwQixPQUFTLEVBQ25DLElBQWtDLEVBQzNCLEVBRVQsU0FBUyxFQUFlLENBQ3RCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLElBQUksRUFBbUIsR0FBd0IsRUFDL0MsR0FBd0IsRUFDaEIsSUFBTixHQUEwQixFQUFtQixHQUN6QyxFQUNBLEdBQ04sSUFBSSxFQUFpQixFQUFxQixFQUN4QyxFQUFvQixDQUFDLEVBQ3ZCLEVBQXFCLEVBQUksRUFDekIsR0FBMkIsRUFBTyxHQUFJLEVBQU8sQ0FBWSxFQUN6RCxFQUFrQixlQUFpQixJQUFJLElBQ3ZDLEdBQUksQ0FDRixJQUFJLEVBQWMsRUFBUyxFQUN6QixFQUEwQixFQUFxQixFQUdqRCxHQUZTLElBQVQsTUFDRSxFQUF3QixFQUFtQixDQUFXLEVBRTdDLElBQVQsYUFDb0IsSUFBcEIsaUJBQ3NCLEVBQVksT0FBbEMsV0FDQSxDQUNBLElBQUksRUFBMkIsR0FDN0IsRUFDQSxDQUNGLEVBQ0EsR0FDRSxFQUNBLEVBQ0EsRUFDQSxHQUFrQixDQUFLLENBQ3pCLE1BRUEsSUFDRSxFQUNBLEVBQ0EsRUFDQSxHQUFrQixDQUFLLENBQ3pCLFFBQ0ssRUFBUCxDQUNBLEdBQ0UsRUFDQSxFQUNBLENBQUUsYUFBZSxFQUFHLEdBQUksT0FBUSxXQUFZLE9BQVEsQ0FBTSxFQUMxRCxHQUFrQixDQUFLLENBQ3pCLFNBQ0EsQ0FDQSxBQUFDLEdBQXdCLEVBQUksRUFDMUIsRUFBcUIsRUFBSSxFQUNqQixJQUFULE1BQ0UsRUFBa0IsaUJBQ2hCLEVBQVEsRUFBa0IsZUFBZSxLQUMzQyxFQUFrQixlQUFlLE1BQU0sRUFDdkMsR0FBSyxHQUNILFFBQVEsS0FDTixxTUFDRixJQUdWLFNBQVMsRUFBbUIsQ0FBQyxFQUFXLEVBQWMsRUFBUSxFQUFVLENBQ3RFLEdBQVUsRUFBVSxNQUFoQixFQUNGLE1BQU0sTUFDSiwyRUFDRixFQUNGLElBQUksRUFBUSxHQUE4QixDQUFTLEVBQUUsTUFDckQsR0FDRSxFQUNBLEVBQ0EsRUFDQSxHQUNTLElBQVQsS0FDSSxVQUNTLEVBQUcsQ0FFVixPQURBLEdBQW1CLENBQVMsRUFDckIsRUFBTyxDQUFRLEVBRTlCLEVBRUYsU0FBUyxFQUE2QixDQUFDLEVBQVcsQ0FDaEQsSUFBSSxFQUFvQixFQUFVLGNBQ2xDLEdBQWEsSUFBVCxLQUE0QixPQUFPLEVBQ3ZDLEVBQW9CLENBQ2xCLGNBQWUsR0FDZixVQUFXLEdBQ1gsVUFBVyxLQUNYLE1BQU8sQ0FDTCxRQUFTLEtBQ1QsTUFBTyxFQUNQLFNBQVUsS0FDVixvQkFBcUIsR0FDckIsa0JBQW1CLEVBQ3JCLEVBQ0EsS0FBTSxJQUNSLEVBQ0EsSUFBSSxFQUFvQixDQUFDLEVBaUJ6QixPQWhCQSxFQUFrQixLQUFPLENBQ3ZCLGNBQWUsRUFDZixVQUFXLEVBQ1gsVUFBVyxLQUNYLE1BQU8sQ0FDTCxRQUFTLEtBQ1QsTUFBTyxFQUNQLFNBQVUsS0FDVixvQkFBcUIsR0FDckIsa0JBQW1CLENBQ3JCLEVBQ0EsS0FBTSxJQUNSLEVBQ0EsRUFBVSxjQUFnQixFQUMxQixFQUFZLEVBQVUsVUFDYixJQUFULE9BQXVCLEVBQVUsY0FBZ0IsR0FDMUMsRUFFVCxTQUFTLEVBQWtCLENBQUMsRUFBVyxDQUNyQyxBQUFTLEVBQXFCLElBQTlCLE1BQ0UsUUFBUSxNQUNOLHNIQUNGLEVBQ0YsSUFBSSxFQUFrQixHQUE4QixDQUFTLEVBQUUsS0FBSyxNQUNwRSxHQUNFLEVBQ0EsRUFDQSxDQUFDLEVBQ0QsR0FBa0IsQ0FBUyxDQUM3QixFQUVGLFNBQVMsRUFBZSxFQUFHLENBQ3pCLElBQUksRUFBWSxHQUFlLEVBQUUsRUFTakMsT0FSQSxFQUFZLEdBQWdCLEtBQzFCLEtBQ0EsR0FDQSxFQUFVLE1BQ1YsR0FDQSxFQUNGLEVBQ0EsR0FBd0IsRUFBRSxjQUFnQixFQUNuQyxDQUFDLEdBQUksQ0FBUyxFQUV2QixTQUFTLEVBQWdCLEVBQUcsQ0FDMUIsSUFBSSxFQUFvQixHQUFjLEVBQWlCLEVBQUUsR0FDdkQsRUFBUSxHQUF5QixFQUFFLGNBQ3JDLE1BQU8sUUFDZ0IsSUFBckIsVUFDSSxFQUNBLEdBQVksQ0FBaUIsRUFDakMsQ0FDRixFQUVGLFNBQVMsRUFBa0IsRUFBRyxDQUM1QixJQUFJLEVBQW9CLEdBQWdCLEVBQWlCLEVBQUUsR0FDekQsRUFBUSxHQUF5QixFQUFFLGNBQ3JDLE1BQU8sUUFDZ0IsSUFBckIsVUFDSSxFQUNBLEdBQVksQ0FBaUIsRUFDakMsQ0FDRixFQUVGLFNBQVMsRUFBdUIsRUFBRyxDQUNqQyxPQUFPLEdBQVksRUFBcUIsRUFFMUMsU0FBUyxFQUFPLEVBQUcsQ0FDakIsSUFBSSxFQUFPLEdBQXdCLEVBQ2pDLEVBQW1CLEdBQW1CLGlCQUN4QyxHQUFJLEdBQWEsQ0FDZixJQUFJLEVBQVMsR0FDVCxFQUFtQixHQUN2QixHQUVJLElBQXFCLEdBQU0sR0FBSyxHQUFNLENBQWdCLEVBQUksSUFDMUQsU0FBUyxFQUFFLEVBQUksRUFDbkIsRUFBbUIsSUFBTSxFQUFtQixJQUFNLEVBQ2xELEVBQVMsS0FDVCxFQUFJLElBQVcsR0FBb0IsSUFBTSxFQUFPLFNBQVMsRUFBRSxHQUMzRCxHQUFvQixRQUVwQixDQUFDLEVBQVMsS0FDUCxFQUNDLElBQU0sRUFBbUIsSUFBTSxFQUFPLFNBQVMsRUFBRSxFQUFJLElBQzNELE9BQVEsRUFBSyxjQUFnQixFQUUvQixTQUFTLEVBQVksRUFBRyxDQUN0QixPQUFRLEdBQXdCLEVBQUUsY0FBZ0IsR0FBYSxLQUM3RCxLQUNBLEVBQ0YsRUFFRixTQUFTLEVBQVksQ0FBQyxFQUFPLEVBQVMsQ0FDcEMsUUFBUyxFQUFXLEVBQU0sT0FBaUIsSUFBVCxNQUFxQixDQUNyRCxPQUFRLEVBQVMsU0FDVixRQUNBLEdBQ0gsSUFBSSxFQUFPLEdBQWtCLENBQVEsRUFDckMsRUFBUSxHQUFhLENBQUksRUFDekIsSUFBSSxFQUFPLEdBQWMsRUFBVSxFQUFPLENBQUksRUFDOUMsQUFBUyxJQUFULE9BQ0csR0FBc0IsRUFBTSxFQUFVLENBQUksRUFDM0MsR0FBb0IsRUFBTSxFQUFVLENBQUksR0FDMUMsRUFBVyxHQUFZLEVBQ2QsSUFBVCxNQUNhLElBQU4sUUFDSSxJQUFULE1BQ0EsUUFBUSxNQUNOLGlFQUNGLEVBQ0YsRUFBTSxRQUFVLENBQUUsTUFBTyxDQUFTLEVBQ2xDLE9BRUosRUFBVyxFQUFTLFFBR3hCLFNBQVMsRUFBcUIsQ0FDNUIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLE9BQXNCLElBQXRCLFlBQ0UsUUFBUSxNQUNOLG1NQUNGLEVBQ0YsRUFBdUMsR0FBa0IsQ0FBSyxFQUM5RCxFQUFTLENBQ1AsS0FBTSxFQUNOLFdBQVksRUFDWixPQUFRLEVBQ1IsY0FBZSxHQUNmLFdBQVksS0FDWixLQUFNLElBQ1IsRUFDQSxHQUFvQixDQUFLLEVBQ3JCLEdBQXlCLEVBQU8sQ0FBTSxHQUNwQyxFQUFTLEdBQ1QsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNTLElBQVQsT0FDRyxHQUNDLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FDRSxFQUNBLEVBQ0EsQ0FDRixJQUNOLEdBQXlCLEVBQU8sQ0FBb0MsRUFFdEUsU0FBUyxFQUFnQixDQUN2QixFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsT0FBc0IsSUFBdEIsWUFDRSxRQUFRLE1BQ04sbU1BQ0YsRUFDRixFQUF1QyxHQUFrQixDQUFLLEVBQzlELEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEdBQXlCLEVBQU8sQ0FBb0MsRUFFdEUsU0FBUyxFQUF3QixDQUFDLEVBQU8sRUFBTyxFQUFRLEVBQU0sQ0FDNUQsSUFBSSxFQUFTLENBQ1gsS0FBTSxFQUNOLFdBQVksRUFDWixPQUFRLEVBQ1IsY0FBZSxHQUNmLFdBQVksS0FDWixLQUFNLElBQ1IsRUFDQSxHQUFJLEdBQW9CLENBQUssRUFBRyxHQUF5QixFQUFPLENBQU0sTUFDakUsQ0FDSCxJQUFJLEVBQVksRUFBTSxVQUN0QixHQUNRLEVBQU0sUUFBWixJQUNVLElBQVQsTUFBNEIsRUFBVSxRQUFoQixLQUNyQixFQUFZLEVBQU0sb0JBQStCLElBQVQsTUFDMUMsQ0FDQSxJQUFJLEVBQWlCLEVBQXFCLEVBQzFDLEVBQXFCLEVBQUksR0FDekIsR0FBSSxDQUNGLElBQUksRUFBZSxFQUFNLGtCQUN2QixFQUFhLEVBQVUsRUFBYyxDQUFNLEVBRzdDLEdBRkEsRUFBTyxjQUFnQixHQUN2QixFQUFPLFdBQWEsRUFDaEIsR0FBUyxFQUFZLENBQVksRUFDbkMsT0FDRSxHQUFnQixFQUFPLEVBQU8sRUFBUSxDQUFDLEVBQzlCLEtBQVQsTUFDRSxHQUFnQyxFQUNsQyxTQUVHLEVBQVAsU0FDQSxDQUNBLEVBQXFCLEVBQUksR0FJN0IsR0FEQSxFQUFTLEdBQTRCLEVBQU8sRUFBTyxFQUFRLENBQUksRUFDbEQsSUFBVCxLQUNGLE9BQ0UsR0FBc0IsRUFBUSxFQUFPLENBQUksRUFDekMsR0FBeUIsRUFBUSxFQUFPLENBQUksRUFDNUMsR0FHTixNQUFPLEdBRVQsU0FBUyxFQUEwQixDQUNqQyxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBY0EsR0FiUyxFQUFxQixJQUE5QixNQUNRLEtBQU4sR0FDQSxRQUFRLE1BQ04seUlBQ0YsRUFDRixFQUFTLENBQ1AsS0FBTSxFQUNOLFdBQVksR0FBc0IsRUFDbEMsT0FBUSxFQUNSLGNBQWUsR0FDZixXQUFZLEtBQ1osS0FBTSxJQUNSLEVBQ0ksR0FBb0IsQ0FBSyxFQUFHLENBQzlCLEdBQUksRUFDRixNQUFNLE1BQU0saURBQWlELEVBQy9ELFFBQVEsTUFBTSw4Q0FBOEMsTUFFNUQsQ0FBQyxFQUFzQixHQUNyQixFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ1csSUFBVCxNQUNFLEdBQXNCLEVBQXFCLEVBQU8sQ0FBQyxFQUN6RCxHQUF5QixFQUFPLENBQUMsRUFFbkMsU0FBUyxFQUFtQixDQUFDLEVBQU8sQ0FDbEMsSUFBSSxFQUFZLEVBQU0sVUFDdEIsT0FDRSxJQUFVLElBQ0EsSUFBVCxNQUFzQixJQUFjLEdBR3pDLFNBQVMsRUFBd0IsQ0FBQyxFQUFPLEVBQVEsQ0FDL0MsR0FDRSxHQUErQixHQUNqQyxJQUFJLEVBQVUsRUFBTSxRQUNwQixBQUFTLElBQVQsS0FDSyxFQUFPLEtBQU8sR0FDYixFQUFPLEtBQU8sRUFBUSxLQUFRLEVBQVEsS0FBTyxHQUNuRCxFQUFNLFFBQVUsRUFFbEIsU0FBUyxFQUF3QixDQUFDLEVBQU0sRUFBTyxFQUFNLENBQ25ELElBQVcsRUFBTyxXQUFkLEVBQXdCLENBQzFCLElBQUksRUFBYSxFQUFNLE1BQ3ZCLEdBQWMsRUFBSyxhQUNuQixHQUFRLEVBQ1IsRUFBTSxNQUFRLEVBQ2QsR0FBa0IsRUFBTSxDQUFJLEdBR2hDLFNBQVMsRUFBcUIsQ0FBQyxFQUFVLENBQ3ZDLEdBQWEsSUFBVCxhQUEyQyxJQUF0QixXQUFnQyxDQUN2RCxJQUFJLEVBQU0sT0FBTyxDQUFRLEVBQ3pCLEdBQXlCLElBQUksQ0FBRyxJQUM3QixHQUF5QixJQUFJLENBQUcsRUFDakMsUUFBUSxNQUNOLHlGQUNBLENBQ0YsSUFHTixTQUFTLEVBQTBCLENBQ2pDLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQVksRUFBZSxjQUM3QixFQUFlLEVBQXlCLEVBQVcsQ0FBUyxFQUM5RCxHQUFJLEVBQWUsS0FBTyxHQUFrQixDQUMxQyxHQUEyQixFQUFFLEVBQzdCLEdBQUksQ0FDRixFQUFlLEVBQXlCLEVBQVcsQ0FBUyxTQUM1RCxDQUNBLEdBQTJCLEVBQUUsR0FHakMsQUFBVyxJQUFOLFNBQ0QsRUFBTyxFQUF5QixDQUFJLEdBQUssWUFDM0MsR0FBa0MsSUFBSSxDQUFJLElBQ3ZDLEdBQWtDLElBQUksQ0FBSSxFQUMzQyxRQUFRLE1BQ04sK0dBQ0EsQ0FDRixJQUNKLEVBQ1csSUFBVCxNQUFvQyxJQUFOLE9BQzFCLEVBQ0EsR0FBTyxDQUFDLEVBQUcsRUFBVyxDQUFZLEVBQ3hDLEVBQWUsY0FBZ0IsRUFDekIsRUFBZSxRQUFyQixJQUNHLEVBQWUsWUFBWSxVQUFZLEdBRTVDLFNBQVMsRUFBMEIsQ0FDakMsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLElBQUksRUFBVyxFQUFlLFVBQzlCLFVBQTBCLEVBQVMsd0JBQS9CLFdBQXNELENBTXhELEdBTEEsRUFBVyxFQUFTLHNCQUNsQixFQUNBLEVBQ0EsQ0FDRixFQUNJLEVBQWUsS0FBTyxHQUFrQixDQUMxQyxHQUEyQixFQUFFLEVBQzdCLEdBQUksQ0FDRixFQUFXLEVBQVMsc0JBQ2xCLEVBQ0EsRUFDQSxDQUNGLFNBQ0EsQ0FDQSxHQUEyQixFQUFFLEdBUWpDLE9BTFcsSUFBTixRQUNILFFBQVEsTUFDTixnSEFDQSxFQUF5QixDQUFJLEdBQUssV0FDcEMsRUFDSyxFQUVULE9BQU8sRUFBSyxXQUFhLEVBQUssVUFBVSxzQkFDbkMsR0FBYSxFQUFVLENBQVEsSUFBTSxHQUFhLEVBQVUsQ0FBUSxFQUNyRSxHQUVOLFNBQVMsRUFBNkIsQ0FDcEMsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLElBQUksRUFBVyxFQUFTLE1BQ3hCLE9BQXNCLEVBQVMsNEJBQS9CLFlBQ0UsRUFBUywwQkFBMEIsRUFBVSxDQUFXLFNBQ3BDLEVBQVMsbUNBQS9CLFlBQ0UsRUFBUyxpQ0FBaUMsRUFBVSxDQUFXLEVBQ2pFLEVBQVMsUUFBVSxJQUNmLEVBQ0EsRUFBMEIsQ0FBYyxHQUFLLFlBQy9DLEdBQXdDLElBQUksQ0FBYyxJQUN2RCxHQUF3QyxJQUFJLENBQWMsRUFDM0QsUUFBUSxNQUNOLGtKQUNBLENBQ0YsR0FDRixHQUFzQixvQkFDcEIsRUFDQSxFQUFTLE1BQ1QsSUFDRixHQUVKLFNBQVMsRUFBMEIsQ0FBQyxFQUFXLEVBQVcsQ0FDeEQsSUFBSSxFQUFXLEVBQ2YsR0FBSSxRQUFTLEVBQVcsQ0FDdEIsRUFBVyxDQUFDLEVBQ1osUUFBUyxLQUFZLEVBQ25CLEFBQVUsSUFBVixRQUF1QixFQUFTLEdBQVksRUFBVSxJQUUxRCxHQUFLLEVBQVksRUFBVSxhQUFlLENBQ3hDLElBQWEsSUFBYyxFQUFXLEdBQU8sQ0FBQyxFQUFHLENBQVEsR0FDekQsUUFBUyxLQUFhLEVBQ3BCLEFBQVcsRUFBUyxLQUFmLFNBQ0YsRUFBUyxHQUFhLEVBQVUsSUFFdkMsT0FBTyxFQUVULFNBQVMsRUFBc0IsQ0FBQyxFQUFPLEVBQVcsQ0FDaEQsR0FBa0IsQ0FBSyxFQUN2QixFQUFRLEdBQ0osNkJBQStCLEdBQWdCLGVBQy9DLHFEQUNKLElBQUksRUFBc0IsRUFBcUIsZ0JBQzdDLEVBQ1UsRUFBVSxnQkFBbEIsS0FBbUMsRUFBVSxlQUFpQixHQUNsRSxFQUFxQix3QkFBMkIsRUFBRyxDQUNqRCxPQUFPLEdBRVQsR0FBSSxDQUNGLFFBQVEsS0FDTjtBQUFBO0FBQUE7QUFBQSxFQUNBLEVBQ0E7QUFBQSxvRkFDRixTQUNBLENBQ0EsRUFBcUIsZ0JBQWtCLEdBRzNDLFNBQVMsRUFBb0IsQ0FBQyxFQUFPLEVBQVcsQ0FDOUMsSUFBSSxFQUF1QixHQUNyQixvQ0FBc0MsR0FBZ0IsZUFDdEQsNERBQ0osRUFDRSx3R0FDRSxJQUFxQixhQUFlLEtBQ3hDLEVBQXNCLEVBQXFCLGdCQUMzQyxFQUNVLEVBQVUsZ0JBQWxCLEtBQW1DLEVBQVUsZUFBaUIsR0FDbEUsRUFBcUIsd0JBQTJCLEVBQUcsQ0FDakQsT0FBTyxHQUVULEdBQUksQ0FDRixPQUFvQixJQUFwQixVQUNTLElBQVQsYUFDb0IsRUFBTSxrQkFBMUIsU0FDSSxHQUNFLFFBQ0EsQ0FDRTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEVBQU0sZUFDUixFQUFFLEVBQ0YsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLFNBQ0osQ0FDQSxFQUFxQixnQkFBa0IsR0FHM0MsU0FBUyxFQUF5QixDQUFDLEVBQU8sQ0FDeEMsR0FBa0IsQ0FBSyxFQUV6QixTQUFTLEVBQWdCLENBQUMsRUFBTSxFQUFXLENBQ3pDLEdBQUksQ0FDRixHQUFnQixFQUFVLE9BQ3RCLEVBQTBCLEVBQVUsTUFBTSxFQUMxQyxLQUNKLEdBQW9CLEtBQ3BCLElBQUksRUFBUSxFQUFVLE1BQ3RCLEdBQWEsRUFBcUIsV0FBOUIsS0FDRixFQUFxQixhQUFhLEtBQUssQ0FBSyxNQUN6QyxDQUNILElBQUksRUFBa0IsRUFBSyxnQkFDM0IsRUFBZ0IsRUFBTyxDQUFFLGVBQWdCLEVBQVUsS0FBTSxDQUFDLFNBRXJELEVBQVAsQ0FDQSxtQkFBb0IsRUFBRyxDQUNyQixNQUFNLEVBQ1AsR0FHTCxTQUFTLEVBQWMsQ0FBQyxFQUFNLEVBQVUsRUFBVyxDQUNqRCxHQUFJLENBQ0YsR0FBZ0IsRUFBVSxPQUN0QixFQUEwQixFQUFVLE1BQU0sRUFDMUMsS0FDSixHQUFvQixFQUEwQixDQUFRLEVBQ3RELElBQUksRUFBZ0IsRUFBSyxjQUN6QixFQUFjLEVBQVUsTUFBTyxDQUM3QixlQUFnQixFQUFVLE1BQzFCLGNBQXFCLEVBQVMsTUFBZixFQUFxQixFQUFTLFVBQVksSUFDM0QsQ0FBQyxRQUNNLEVBQVAsQ0FDQSxtQkFBb0IsRUFBRyxDQUNyQixNQUFNLEVBQ1AsR0FHTCxTQUFTLEVBQXFCLENBQUMsRUFBTSxFQUFXLEVBQU0sQ0FPcEQsT0FOQSxFQUFPLEdBQWEsQ0FBSSxFQUN4QixFQUFLLElBQU0sR0FDWCxFQUFLLFFBQVUsQ0FBRSxRQUFTLElBQUssRUFDL0IsRUFBSyxpQkFBb0IsRUFBRyxDQUMxQixHQUFrQixFQUFVLE9BQVEsR0FBa0IsRUFBTSxDQUFTLEdBRWhFLEVBRVQsU0FBUyxFQUFzQixDQUFDLEVBQU0sQ0FHcEMsT0FGQSxFQUFPLEdBQWEsQ0FBSSxFQUN4QixFQUFLLElBQU0sR0FDSixFQUVULFNBQVMsRUFBMEIsQ0FBQyxFQUFRLEVBQU0sRUFBTyxFQUFXLENBQ2xFLElBQUksRUFBMkIsRUFBTSxLQUFLLHlCQUMxQyxVQUEwQixJQUF0QixXQUFnRCxDQUNsRCxJQUFJLEVBQVEsRUFBVSxNQUN0QixFQUFPLGdCQUFtQixFQUFHLENBQzNCLE9BQU8sRUFBeUIsQ0FBSyxHQUV2QyxFQUFPLGlCQUFvQixFQUFHLENBQzVCLEdBQXVDLENBQUssRUFDNUMsR0FDRSxFQUFVLE9BQ1YsR0FDQSxFQUNBLEVBQ0EsQ0FDRixHQUdKLElBQUksRUFBTyxFQUFNLFVBQ2pCLEFBQVMsSUFBVCxhQUN3QixFQUFLLG9CQUEzQixhQUNDLEVBQU8saUJBQW9CLEVBQUcsQ0FDN0IsR0FBdUMsQ0FBSyxFQUM1QyxHQUNFLEVBQVUsT0FDVixHQUNBLEVBQ0EsRUFDQSxDQUNGLFNBQ3NCLElBQXRCLGFBQ1ksS0FBVCxLQUNJLEdBQXlDLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxFQUN4RCxHQUF1QyxJQUFJLElBQUksR0FDckQsR0FBMkIsS0FBTSxDQUFTLFNBQ3BCLElBQXRCLGFBQ1UsRUFBTSxNQUFRLEtBQXJCLEdBQ0MsUUFBUSxNQUNOLHNKQUNBLEVBQTBCLENBQUssR0FBSyxTQUN0QyxJQUdWLFNBQVMsRUFBYyxDQUNyQixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FHQSxHQUZBLEVBQVksT0FBUyxNQUNyQixJQUFxQixHQUF1QixFQUFNLENBQWUsRUFFdEQsSUFBVCxhQUNvQixJQUFwQixpQkFDc0IsRUFBTSxPQUE1QixXQUNBLENBV0EsR0FWQSxFQUFjLEVBQVksVUFDakIsSUFBVCxNQUNFLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsRUFDRixFQUNGLEtBQWdCLEdBQXVCLElBQ3ZDLEVBQWMsR0FBMkIsUUFDNUIsSUFBVCxLQUFzQixDQUN4QixPQUFRLEVBQVksU0FDYixJQUNILE9BQ1csS0FBVCxLQUNJLEdBQWdDLEVBQ3ZCLEVBQVksWUFBckIsTUFDQSxLQUFpQyxLQUNoQyxHQUErQixJQUNuQyxFQUFZLE9BQVMsS0FDckIsRUFBWSxPQUFTLE1BQ3JCLEVBQVksTUFBUSxFQUNyQixJQUFVLEdBQ0wsRUFBWSxPQUFTLE9BQ3BCLEVBQWMsRUFBWSxZQUNuQixJQUFULEtBQ0ssRUFBWSxZQUFjLElBQUksSUFBSSxDQUFDLENBQUssQ0FBQyxFQUMxQyxFQUFZLElBQUksQ0FBSyxFQUN6QixHQUFtQixFQUFNLEVBQU8sQ0FBZSxHQUNuRCxPQUVDLElBQ0gsT0FDRyxFQUFZLE9BQVMsTUFDdEIsSUFBVSxHQUNMLEVBQVksT0FBUyxPQUNwQixFQUFjLEVBQVksWUFDbkIsSUFBVCxNQUNNLEVBQWMsQ0FDZCxZQUFhLEtBQ2IsZ0JBQWlCLEtBQ2pCLFdBQVksSUFBSSxJQUFJLENBQUMsQ0FBSyxDQUFDLENBQzdCLEVBQ0MsRUFBWSxZQUFjLElBQ3pCLEVBQWMsRUFBWSxXQUNuQixJQUFULEtBQ0ssRUFBWSxXQUFhLElBQUksSUFBSSxDQUFDLENBQUssQ0FBQyxFQUN6QyxFQUFZLElBQUksQ0FBSyxHQUM3QixHQUFtQixFQUFNLEVBQU8sQ0FBZSxHQUNuRCxHQUdOLE1BQU0sTUFDSixvQ0FDRSxFQUFZLElBQ1osNEJBQ0osRUFJRixPQUZBLEdBQW1CLEVBQU0sRUFBTyxDQUFlLEVBQy9DLEdBQWdDLEVBQ3pCLEdBRVQsR0FBSSxHQUNGLE9BQ0csR0FBdUIsR0FDdkIsRUFBYyxHQUEyQixRQUNqQyxJQUFULE9BQ1ksRUFBWSxNQUFRLFNBQTNCLElBQXNDLEVBQVksT0FBUyxLQUMzRCxFQUFZLE9BQVMsTUFDckIsRUFBWSxNQUFRLEVBQ3JCLElBQVUsSUFDUixHQUNFLEdBQ0UsTUFDRSxtSUFDQSxDQUFFLE1BQU8sQ0FBTSxDQUNqQixFQUNBLENBQ0YsQ0FDRixJQUNELElBQVUsSUFDVCxHQUNFLEdBQ0UsTUFDRSxnSEFDQSxDQUFFLE1BQU8sQ0FBTSxDQUNqQixFQUNBLENBQ0YsQ0FDRixFQUNELEVBQU8sRUFBSyxRQUFRLFVBQ3BCLEVBQUssT0FBUyxNQUNkLElBQW9CLEVBQ3BCLEVBQUssT0FBUyxFQUNkLEVBQVEsR0FBMkIsRUFBTyxDQUFXLEVBQ3JELEVBQWtCLEdBQ2pCLEVBQUssVUFDTCxFQUNBLENBQ0YsRUFDQSxHQUFzQixFQUFNLENBQWUsRUFDM0MsS0FBaUMsS0FDOUIsR0FBK0IsS0FDdEMsR0FFSixJQUFJLEVBQVEsR0FDVixNQUNFLG1JQUNBLENBQUUsTUFBTyxDQUFNLENBQ2pCLEVBQ0EsQ0FDRixFQU1BLEdBTFMsS0FBVCxLQUNLLEdBQXFDLENBQUMsQ0FBSyxFQUM1QyxHQUFtQyxLQUFLLENBQUssRUFDakQsS0FBaUMsS0FDOUIsR0FBK0IsSUFDckIsSUFBVCxLQUFzQixNQUFPLEdBQ2pDLEVBQVEsR0FBMkIsRUFBTyxDQUFXLEVBQ3JELEVBQWMsRUFDZCxFQUFHLENBQ0QsT0FBUSxFQUFZLFNBQ2IsR0FDSCxPQUNHLEVBQVksT0FBUyxNQUNyQixFQUFPLEdBQW1CLEVBQzFCLEVBQVksT0FBUyxFQUNyQixFQUFPLEdBQ04sRUFBWSxVQUNaLEVBQ0EsQ0FDRixFQUNBLEdBQXNCLEVBQWEsQ0FBSSxFQUN2QyxPQUVDLEdBQ0gsR0FDSSxFQUFjLEVBQVksS0FDM0IsRUFBUSxFQUFZLFdBQ2QsRUFBWSxNQUFRLE9BQTNCLFdBQ3lCLEVBQVksMkJBQWxDLFlBQ1csSUFBVCxhQUN1QixFQUFNLG9CQUE1QixhQUNVLEtBQVQsT0FDRSxHQUF1QyxJQUFJLENBQUssSUFFekQsT0FDRyxFQUFZLE9BQVMsTUFDckIsSUFBb0IsRUFDcEIsRUFBWSxPQUFTLEVBQ3JCLEVBQWtCLEdBQXVCLENBQWUsRUFDekQsR0FDRSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FBc0IsRUFBYSxDQUFlLEVBQ2xELEdBR1IsRUFBYyxFQUFZLGFBQ1YsSUFBVCxNQUNULE1BQU8sR0FFVCxTQUFTLEVBQWlCLENBQ3hCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxFQUFlLE1BQ0osSUFBVCxLQUNJLEdBQWlCLEVBQWdCLEtBQU0sRUFBYyxDQUFXLEVBQ2hFLEdBQ0UsRUFDQSxFQUFRLE1BQ1IsRUFDQSxDQUNGLEVBRVIsU0FBUyxFQUFnQixDQUN2QixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxFQUFZLEVBQVUsT0FDdEIsSUFBSSxFQUFNLEVBQWUsSUFDekIsR0FBSSxRQUFTLEVBQVcsQ0FDdEIsSUFBSSxFQUFrQixDQUFDLEVBQ3ZCLFFBQVMsS0FBTyxFQUNkLEFBQVUsSUFBVixRQUFrQixFQUFnQixHQUFPLEVBQVUsUUFDaEQsR0FBa0IsRUFhekIsR0FaQSxHQUFxQixDQUFjLEVBQ25DLEVBQTJCLENBQWMsRUFDekMsRUFBWSxHQUNWLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsRUFBTSxHQUFxQixFQUMzQixHQUEyQixFQUNkLElBQVQsT0FBcUIsR0FDdkIsT0FDRSxHQUFhLEVBQVMsRUFBZ0IsQ0FBVyxFQUNqRCxHQUE2QixFQUFTLEVBQWdCLENBQVcsRUFLckUsT0FIQSxJQUFlLEdBQU8sR0FBdUIsQ0FBYyxFQUMzRCxFQUFlLE9BQVMsRUFDeEIsR0FBa0IsRUFBUyxFQUFnQixFQUFXLENBQVcsRUFDMUQsRUFBZSxNQUV4QixTQUFTLEVBQW1CLENBQzFCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLEdBQWEsSUFBVCxLQUFrQixDQUNwQixJQUFJLEVBQU8sRUFBVSxLQUNyQixVQUN3QixJQUF0QixhQUNDLEdBQWdCLENBQUksR0FDVixFQUFLLGVBQVgsUUFDSSxFQUFVLFVBQW5CLEtBRUEsT0FDRyxFQUFZLEdBQStCLENBQUksRUFDL0MsRUFBZSxJQUFNLEdBQ3JCLEVBQWUsS0FBTyxFQUN2QixHQUErQixFQUFnQixDQUFJLEVBQ25ELEdBQ0UsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBWUosT0FWQSxFQUFVLEdBQ1IsRUFBVSxLQUNWLEtBQ0EsRUFDQSxFQUNBLEVBQWUsS0FDZixDQUNGLEVBQ0EsRUFBUSxJQUFNLEVBQWUsSUFDN0IsRUFBUSxPQUFTLEVBQ1QsRUFBZSxNQUFRLEVBR2pDLEdBREEsRUFBTyxFQUFRLE9BQ1YsR0FBOEIsRUFBUyxDQUFXLEVBQUcsQ0FDeEQsSUFBSSxFQUFZLEVBQUssY0FHckIsR0FGQSxFQUFZLEVBQVUsUUFDdEIsRUFBcUIsSUFBVCxLQUFxQixFQUFZLEdBRTNDLEVBQVUsRUFBVyxDQUFTLEdBQzlCLEVBQVEsTUFBUSxFQUFlLElBRS9CLE9BQU8sR0FDTCxFQUNBLEVBQ0EsQ0FDRixFQU1KLE9BSkEsRUFBZSxPQUFTLEVBQ3hCLEVBQVUsR0FBcUIsRUFBTSxDQUFTLEVBQzlDLEVBQVEsSUFBTSxFQUFlLElBQzdCLEVBQVEsT0FBUyxFQUNULEVBQWUsTUFBUSxFQUVqQyxTQUFTLEVBQXlCLENBQ2hDLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLEdBQWEsSUFBVCxLQUFrQixDQUNwQixJQUFJLEVBQVksRUFBUSxjQUN4QixHQUNFLEdBQWEsRUFBVyxDQUFTLEdBQ2pDLEVBQVEsTUFBUSxFQUFlLEtBQy9CLEVBQWUsT0FBUyxFQUFRLEtBRWhDLEdBQ0ksR0FBbUIsR0FDcEIsRUFBZSxhQUFlLEVBQVksRUFDM0MsR0FBOEIsRUFBUyxDQUFXLEVBRWxELENBQU8sRUFBUSxNQUFRLFVBQXZCLElBQW1DLEdBQW1CLFFBRXRELFFBQ0csRUFBZSxNQUFRLEVBQVEsTUFDaEMsR0FBNkIsRUFBUyxFQUFnQixDQUFXLEVBR3pFLE9BQU8sR0FDTCxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFRixTQUFTLEVBQXdCLENBQUMsRUFBUyxFQUFnQixFQUFhLENBQ3RFLElBQUksRUFBWSxFQUFlLGFBQzdCLEVBQWUsRUFBVSxTQUN6QixHQUVHLEVBQWUsVUFBVSxtQkFBcUIsTUFEL0MsRUFFRixFQUFxQixJQUFULEtBQW1CLEVBQVEsY0FBZ0IsS0FFekQsR0FEQSxHQUFRLEVBQVMsQ0FBYyxFQUNkLEVBQVUsT0FBdkIsVUFBK0IsRUFBZ0IsQ0FDakQsSUFBVyxFQUFlLE1BQVEsT0FBOUIsRUFBb0MsQ0FLdEMsR0FKQSxFQUNXLElBQVQsS0FDSSxFQUFVLFVBQVksRUFDdEIsRUFDTyxJQUFULEtBQWtCLENBQ3BCLEVBQWUsRUFBZSxNQUFRLEVBQVEsTUFDOUMsSUFBSyxFQUFpQixFQUFZLElBQVQsTUFDdkIsQUFBQyxFQUNDLEVBQWlCLEVBQWEsTUFBUSxFQUFhLFdBQ2xELEVBQWUsRUFBYSxRQUNqQyxFQUFlLFdBQWEsR0FBa0IsTUFDekMsQ0FBQyxFQUFlLFdBQWEsRUFBSyxFQUFlLE1BQVEsS0FDaEUsT0FBTyxHQUNMLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFRixJQUFXLEVBQWMsYUFBckIsRUFDRixBQUFDLEVBQWUsY0FBZ0IsQ0FBRSxVQUFXLEVBQUcsVUFBVyxJQUFLLEVBQ3JELElBQVQsTUFDRSxHQUNFLEVBQ1MsSUFBVCxLQUFxQixFQUFVLFVBQVksSUFDN0MsRUFDTyxJQUFULEtBQ0ksR0FBa0IsRUFBZ0IsQ0FBUyxFQUMzQyxHQUEwQixDQUFjLEVBQzVDLEdBQTZCLENBQWMsTUFFN0MsUUFDRyxFQUFlLE1BQVEsRUFBZSxXQUFhLFVBQ3BELEdBQ0UsRUFDQSxFQUNTLElBQVQsS0FDSSxFQUFVLFVBQVksRUFDdEIsRUFDSixDQUNGLE1BR0osQ0FBUyxJQUFULE1BQ0ssR0FBZSxFQUFnQixFQUFVLFNBQVMsRUFDbkQsR0FBa0IsRUFBZ0IsQ0FBUyxFQUMzQyxHQUE0QixDQUFjLEVBQ3pDLEVBQWUsY0FBZ0IsT0FDdEIsSUFBVCxNQUFvQixHQUFlLEVBQWdCLElBQUksRUFDeEQsR0FBMEIsQ0FBYyxFQUN4QyxHQUE0QixDQUFjLEdBRWhELE9BREEsR0FBa0IsRUFBUyxFQUFnQixFQUFjLENBQVcsRUFDN0QsRUFBZSxNQUV4QixTQUFTLEVBQTZCLENBQ3BDLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQTJCLEdBQWtCLEVBaUJqRCxPQWhCQSxFQUNXLElBQVQsS0FDSSxLQUNBLENBQ0UsT0FBUSxHQUFhLGNBQ3JCLEtBQU0sQ0FDUixFQUNOLEVBQWUsY0FBZ0IsQ0FDN0IsVUFBVyxFQUNYLFVBQVcsQ0FDYixFQUNTLElBQVQsTUFBb0IsR0FBZSxFQUFnQixJQUFJLEVBQ3ZELEdBQTBCLENBQWMsRUFDeEMsR0FBNkIsQ0FBYyxFQUNsQyxJQUFULE1BQ0UsR0FBOEIsRUFBUyxFQUFnQixFQUFhLEVBQUUsRUFDakUsS0FFVCxTQUFTLEVBQU8sQ0FBQyxFQUFTLEVBQWdCLENBQ3hDLElBQUksRUFBTSxFQUFlLElBQ3pCLEdBQWEsSUFBVCxLQUNGLEFBQVMsSUFBVCxNQUNXLEVBQVEsTUFBakIsT0FDQyxFQUFlLE9BQVMsYUFDeEIsQ0FDSCxVQUEwQixJQUF0QixtQkFBaUQsSUFBcEIsU0FDL0IsTUFBTSxNQUNKLDRGQUNGLEVBQ0YsR0FBYSxJQUFULE1BQW9CLEVBQVEsTUFBUSxFQUN0QyxFQUFlLE9BQVMsU0FHOUIsU0FBUyxFQUF1QixDQUM5QixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUNFLEVBQVUsa0JBQ1ksRUFBVSxVQUFVLFNBQTFDLFdBQ0EsQ0FDQSxJQUFJLEVBQWdCLEVBQXlCLENBQVMsR0FBSyxVQUMzRCxHQUFxQixLQUNsQixRQUFRLE1BQ1AseUtBQ0EsRUFDQSxDQUNGLEVBQ0MsR0FBcUIsR0FBaUIsSUE2QjNDLEdBM0JBLEVBQWUsS0FBTyxJQUNwQixHQUF3QiwyQkFDdEIsRUFDQSxJQUNGLEVBQ08sSUFBVCxPQUNHLEdBQStCLEVBQWdCLEVBQWUsSUFBSSxFQUNuRSxFQUFVLGVBQ04sRUFBZ0IsRUFBeUIsQ0FBUyxHQUFLLFVBQ3pELEdBQXlCLEtBQ3JCLEdBQXlCLEdBQWlCLEdBQzVDLFFBQVEsTUFDTix3S0FDQSxDQUNGLEtBQ04sR0FBcUIsQ0FBYyxFQUNuQyxFQUEyQixDQUFjLEVBQ3pDLEVBQVksR0FDVixFQUNBLEVBQ0EsRUFDQSxFQUNLLE9BQ0wsQ0FDRixFQUNBLEVBQVksR0FBcUIsRUFDakMsR0FBMkIsRUFDZCxJQUFULE9BQXFCLEdBQ3ZCLE9BQ0UsR0FBYSxFQUFTLEVBQWdCLENBQVcsRUFDakQsR0FBNkIsRUFBUyxFQUFnQixDQUFXLEVBS3JFLE9BSEEsSUFBZSxHQUFhLEdBQXVCLENBQWMsRUFDakUsRUFBZSxPQUFTLEVBQ3hCLEdBQWtCLEVBQVMsRUFBZ0IsRUFBVyxDQUFXLEVBQzFELEVBQWUsTUFFeEIsU0FBUyxFQUF1QixDQUM5QixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQWdCQSxHQWZBLEdBQXFCLENBQWMsRUFDbkMsRUFBMkIsQ0FBYyxFQUN6QyxHQUEwQixHQUMxQixHQUNXLElBQVQsTUFBb0IsRUFBUSxPQUFTLEVBQWUsS0FDdEQsRUFBZSxZQUFjLEtBQzdCLEVBQVksR0FDVixFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FBcUIsRUFBUyxDQUFjLEVBQzVDLEVBQVksR0FBcUIsRUFDakMsR0FBMkIsRUFDZCxJQUFULE9BQXFCLEdBQ3ZCLE9BQ0UsR0FBYSxFQUFTLEVBQWdCLENBQVcsRUFDakQsR0FBNkIsRUFBUyxFQUFnQixDQUFXLEVBS3JFLE9BSEEsSUFBZSxHQUFhLEdBQXVCLENBQWMsRUFDakUsRUFBZSxPQUFTLEVBQ3hCLEdBQWtCLEVBQVMsRUFBZ0IsRUFBVyxDQUFXLEVBQzFELEVBQWUsTUFFeEIsU0FBUyxFQUFvQixDQUMzQixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxPQUFRLEVBQWdCLENBQWMsT0FDL0IsR0FDSCxJQUFJLEVBQVksRUFBZSxVQUM3QixFQUFRLElBQUksRUFBZSxLQUN6QixFQUFlLGNBQ2YsRUFBVSxPQUNaLEVBQUUsTUFDSixFQUFVLFFBQVEsZ0JBQWdCLEVBQVcsRUFBTyxJQUFJLEVBQ3hELFVBQ0csR0FDSCxFQUFlLE9BQVMsSUFDeEIsRUFBZSxPQUFTLE1BQ3hCLEVBQVksTUFBTSxzQ0FBc0MsRUFDeEQsSUFBSSxFQUFPLEdBQWUsRUFHMUIsR0FGQSxFQUFlLE9BQVMsRUFDeEIsRUFBUSxHQUNLLElBQVQsS0FDRixNQUFNLE1BQ0osaUZBQ0YsRUFDRixFQUFPLEdBQXVCLENBQUksRUFDbEMsR0FDRSxFQUNBLEVBQ0EsRUFDQSxHQUEyQixFQUFXLENBQWMsQ0FDdEQsRUFDQSxHQUFzQixFQUFnQixDQUFJLEVBRzlDLEdBREEsR0FBcUIsQ0FBYyxFQUN0QixFQUFlLFlBQXhCLEtBQW1DLENBMkJyQyxHQTFCQSxFQUFRLEdBQ1IsRUFBWSxFQUFVLFlBQ3RCLGdCQUFpQixHQUNOLElBQVQsT0FDWSxJQUFOLFFBQW1CLEVBQVUsV0FBYSxNQUMvQyxHQUFrQyxJQUFJLENBQVMsSUFDL0MsR0FBa0MsSUFBSSxDQUFTLEVBQy9DLEVBQ1ksSUFBTixPQUNELGlPQUNvQixJQUFwQixTQUNFLG1DQUFxQyxFQUFZLElBQ2pELEVBQVUsV0FBYSxHQUNyQiwyREFDQSwrQ0FDQSxPQUFPLEtBQUssQ0FBUyxFQUFFLEtBQUssSUFBSSxFQUNoQyxLQUNWLFFBQVEsTUFDTix5SEFDQSxFQUF5QixDQUFTLEdBQUssWUFDdkMsQ0FDRixVQUNrQixJQUFwQixVQUNXLElBQVQsT0FDQyxFQUFRLEdBQVksQ0FBUyxHQUNoQyxFQUFZLElBQUksRUFBVSxFQUFXLENBQUssRUFDdEMsRUFBZSxLQUFPLEdBQWtCLENBQzFDLEdBQTJCLEVBQUUsRUFDN0IsR0FBSSxDQUNGLEVBQVksSUFBSSxFQUFVLEVBQVcsQ0FBSyxTQUMxQyxDQUNBLEdBQTJCLEVBQUUsR0FzQmpDLEdBbkJBLEVBQVEsRUFBZSxjQUNaLEVBQVUsUUFBbkIsTUFBdUMsRUFBVSxRQUFoQixPQUM3QixFQUFVLE1BQ1YsS0FDTixFQUFVLFFBQVUsR0FDcEIsRUFBZSxVQUFZLEVBQzNCLEVBQVUsZ0JBQWtCLEVBQzVCLEVBQVUsdUJBQXlCLFVBQ2IsRUFBVSwyQkFBaEMsWUFDVyxJQUFULE9BQ0UsRUFBUSxFQUF5QixDQUFTLEdBQUssWUFDakQsR0FBK0IsSUFBSSxDQUFLLElBQ3JDLEdBQStCLElBQUksQ0FBSyxFQUN6QyxRQUFRLE1BQ04sa1JBQ0EsRUFDUyxFQUFVLFFBQW5CLEtBQTJCLE9BQVMsWUFDcEMsQ0FDRixXQUVvQixFQUFVLDJCQUFoQyxtQkFDc0IsRUFBVSwwQkFBaEMsV0FDQSxDQUNBLElBQUksRUFBdUIsRUFBTyxFQUFRLEtBa0IxQyxVQWpCc0IsRUFBVSxxQkFBaEMsWUFDTyxFQUFVLG1CQUFtQiwrQkFBcEMsR0FDSyxFQUFRLDRCQUNhLEVBQVUsNEJBQWhDLGFBQ0MsRUFBUSxvQ0FDUyxFQUFVLDRCQUFoQyxZQUVFLEVBQVUsMEJBQTBCLCtCQUR0QyxHQUVLLEVBQU8sbUNBRUMsRUFBVSxtQ0FEbkIsYUFFQyxFQUFPLDJDQUNVLEVBQVUsc0JBQWhDLFlBQ08sRUFBVSxvQkFBb0IsK0JBQXJDLEdBQ0ssRUFBc0IsNkJBQ0QsRUFBVSw2QkFBaEMsYUFDQyxFQUFzQiw4QkFDZCxJQUFULE1BQTJCLElBQVQsTUFBMEIsSUFBVCxLQUE4QixDQUNuRSxFQUFZLEVBQXlCLENBQVMsR0FBSyxZQUNuRCxJQUFJLFNBQ29CLEVBQVUsMkJBQWhDLFdBQ0ksNkJBQ0EsNEJBQ04sR0FBNEMsSUFBSSxDQUFTLElBQ3RELEdBQTRDLElBQUksQ0FBUyxFQUMxRCxRQUFRLE1BQ047QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLG9EQUNBLEVBQ0EsRUFDUyxJQUFULEtBQWlCO0FBQUEsSUFBUyxFQUFRLEdBQ3pCLElBQVQsS0FBZ0I7QUFBQSxJQUFTLEVBQU8sR0FDdkIsSUFBVCxLQUErQjtBQUFBLElBQVMsRUFBc0IsRUFDaEUsSUFHTixFQUFZLEVBQWUsVUFDM0IsRUFBUSxFQUF5QixDQUFTLEdBQUssWUFDL0MsRUFBVSxTQUNQLEVBQVUsa0JBQ1csRUFBVSxVQUFVLFNBQTFDLFdBQ0ksUUFBUSxNQUNOLDJHQUNBLENBQ0YsRUFDQSxRQUFRLE1BQ04sMEZBQ0EsQ0FDRixJQUNMLEVBQVUsaUJBQ1QsRUFBVSxnQkFBZ0Isc0JBQzFCLEVBQVUsT0FDVixRQUFRLE1BQ04sb0xBQ0EsQ0FDRixFQUNGLEVBQVUsa0JBQ1AsRUFBVSxnQkFBZ0Isc0JBQzNCLFFBQVEsTUFDTix5TEFDQSxDQUNGLEVBQ0YsRUFBVSxhQUNSLFFBQVEsTUFDTiw4R0FDQSxDQUNGLEVBQ0YsRUFBVSxvQkFDUCxHQUE4QixJQUFJLENBQVMsSUFDM0MsR0FBOEIsSUFBSSxDQUFTLEVBQzVDLFFBQVEsTUFDTixxSkFDQSxDQUNGLEdBQ0YsRUFBVSxlQUNQLEdBQTJCLElBQUksQ0FBUyxJQUN4QyxHQUEyQixJQUFJLENBQVMsRUFDekMsUUFBUSxNQUNOLHdLQUNBLENBQ0YsVUFDb0IsRUFBVSx3QkFBaEMsWUFDRSxRQUFRLE1BQ04sOEtBQ0EsQ0FDRixFQUNGLEVBQVUsV0FDUixFQUFVLFVBQVUsNkJBQ0csRUFBVSx3QkFBakMsYUFDQSxRQUFRLE1BQ04sK0xBQ0EsRUFBeUIsQ0FBUyxHQUFLLGtCQUN6QyxTQUNvQixFQUFVLHNCQUFoQyxZQUNFLFFBQVEsTUFDTiw0SEFDQSxDQUNGLFNBQ29CLEVBQVUsMkJBQWhDLFlBQ0UsUUFBUSxNQUNOLG1UQUNBLENBQ0YsU0FDb0IsRUFBVSw0QkFBaEMsWUFDRSxRQUFRLE1BQ04sZ0dBQ0EsQ0FDRixTQUNvQixFQUFVLG1DQUFoQyxZQUNFLFFBQVEsTUFDTiw4R0FDQSxDQUNGLEVBQ0YsRUFBTyxFQUFVLFFBQVUsRUFDaEIsRUFBVSxRQUFoQixRQUNILEdBQ0EsUUFBUSxNQUNOLGtIQUNBLENBQ0YsRUFDRixFQUFVLGNBQ1IsUUFBUSxNQUNOLG9KQUNBLEVBQ0EsQ0FDRixTQUNvQixFQUFVLDBCQUFoQyxtQkFDd0IsRUFBVSxxQkFBaEMsWUFDQSxHQUFvRCxJQUFJLENBQVMsSUFDaEUsR0FBb0QsSUFBSSxDQUFTLEVBQ2xFLFFBQVEsTUFDTixpSUFDQSxFQUF5QixDQUFTLENBQ3BDLFVBQ29CLEVBQVUsMkJBQWhDLFlBQ0UsUUFBUSxNQUNOLCtIQUNBLENBQ0YsU0FDb0IsRUFBVSwyQkFBaEMsWUFDRSxRQUFRLE1BQ04sK0hBQ0EsQ0FDRixTQUNvQixFQUFVLDBCQUFoQyxZQUNFLFFBQVEsTUFDTiw4SEFDQSxDQUNGLEdBQ0QsRUFBTyxFQUFVLGdCQUNLLElBQXBCLFVBQTRCLEdBQVksQ0FBSSxJQUM3QyxRQUFRLE1BQU0sNkNBQThDLENBQUssU0FDN0MsRUFBVSxrQkFBaEMsbUJBQ3NCLEVBQVUsb0JBQTlCLFVBQ0EsUUFBUSxNQUNOLDZGQUNBLENBQ0YsRUFDRixFQUFZLEVBQWUsVUFDM0IsRUFBVSxNQUFRLEVBQ2xCLEVBQVUsTUFBUSxFQUFlLGNBQ2pDLEVBQVUsS0FBTyxDQUFDLEVBQ2xCLEdBQXNCLENBQWMsRUFDcEMsRUFBUSxFQUFVLFlBQ2xCLEVBQVUsZUFDWSxJQUFwQixVQUFzQyxJQUFULEtBQ3pCLEdBQVksQ0FBSyxFQUNqQixHQUNOLEVBQVUsUUFBVSxJQUNoQixFQUFRLEVBQXlCLENBQVMsR0FBSyxZQUNqRCxHQUEwQyxJQUFJLENBQUssSUFDaEQsR0FBMEMsSUFBSSxDQUFLLEVBQ3BELFFBQVEsTUFDTix1S0FDQSxDQUNGLElBQ0osRUFBZSxLQUFPLElBQ3BCLEdBQXdCLDJCQUN0QixFQUNBLENBQ0YsRUFDRixHQUF3Qiw4QkFDdEIsRUFDQSxDQUNGLEVBQ0EsRUFBVSxNQUFRLEVBQWUsY0FDakMsRUFBUSxFQUFVLGdDQUNJLElBQXRCLGFBQ0csR0FDQyxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0MsRUFBVSxNQUFRLEVBQWUsc0JBQ2QsRUFBVSwyQkFBaEMsbUJBQ3dCLEVBQVUsMEJBQWhDLG1CQUN1QixFQUFVLDRCQUFoQyxtQkFDdUIsRUFBVSxxQkFBaEMsYUFDQSxFQUFRLEVBQVUsYUFDRSxFQUFVLHFCQUFoQyxZQUNFLEVBQVUsbUJBQW1CLFNBQ1QsRUFBVSw0QkFBaEMsWUFDRSxFQUFVLDBCQUEwQixFQUN0QyxJQUFVLEVBQVUsUUFDakIsUUFBUSxNQUNQLDJJQUNBLEVBQTBCLENBQWMsR0FBSyxXQUMvQyxFQUNBLEdBQXNCLG9CQUNwQixFQUNBLEVBQVUsTUFDVixJQUNGLEdBQ0YsR0FBbUIsRUFBZ0IsRUFBVyxFQUFXLENBQVcsRUFDcEUsR0FBNEMsRUFDM0MsRUFBVSxNQUFRLEVBQWUsc0JBQ2QsRUFBVSxvQkFBaEMsYUFDRyxFQUFlLE9BQVMsVUFDMUIsRUFBZSxLQUFPLE1BQXVCLEtBQzNDLEVBQWUsT0FBUyxVQUMzQixFQUFZLFdBQ00sSUFBVCxLQUEyQixDQUNwQyxFQUFZLEVBQWUsVUFDM0IsSUFBSSxFQUFxQixFQUFlLGNBQ3hDLEVBQU8sR0FBMkIsRUFBVyxDQUFrQixFQUMvRCxFQUFVLE1BQVEsRUFDbEIsSUFBSSxFQUFhLEVBQVUsUUFDM0IsRUFBc0IsRUFBVSxZQUNoQyxFQUFRLFVBQ1ksSUFBcEIsVUFDVyxJQUFULE9BQ0MsRUFBUSxHQUFZLENBQW1CLEdBQzFDLEVBQWEsRUFBVSx5QkFDdkIsU0FDd0IsSUFBdEIsbUJBQ3NCLEVBQVUsMEJBQWhDLFdBQ0YsRUFBcUIsRUFBZSxlQUFpQixFQUNyRCxVQUN5QixFQUFVLG1DQUFoQyxtQkFDdUIsRUFBVSw0QkFBaEMsYUFDQSxHQUFzQixJQUFlLElBQ3JDLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNKLEdBQWlCLEdBQ2pCLElBQUksRUFBVyxFQUFlLGNBQzlCLEVBQVUsTUFBUSxFQUNsQixHQUFtQixFQUFnQixFQUFXLEVBQVcsQ0FBVyxFQUNwRSxHQUE0QyxFQUM1QyxFQUFhLEVBQWUsY0FDNUIsR0FBc0IsSUFBYSxHQUFjLFdBQ3RCLElBQXRCLGFBQ0UsR0FDQyxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0MsRUFBYSxFQUFlLGdCQUM5QixFQUNDLElBQ0EsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLElBQ0csVUFDd0IsRUFBVSw0QkFBaEMsbUJBQ3VCLEVBQVUscUJBQWhDLG9CQUNxQixFQUFVLHFCQUFoQyxZQUNDLEVBQVUsbUJBQW1CLFNBQ1QsRUFBVSw0QkFBaEMsWUFDRSxFQUFVLDBCQUEwQixVQUNsQixFQUFVLG9CQUFoQyxhQUNHLEVBQWUsT0FBUyxVQUMxQixFQUFlLEtBQU8sTUFBdUIsS0FDM0MsRUFBZSxPQUFTLG1CQUNKLEVBQVUsb0JBQWhDLGFBQ0UsRUFBZSxPQUFTLFVBQzFCLEVBQWUsS0FBTyxNQUF1QixLQUMzQyxFQUFlLE9BQVMsVUFDMUIsRUFBZSxjQUFnQixFQUMvQixFQUFlLGNBQWdCLEdBQ25DLEVBQVUsTUFBUSxFQUNsQixFQUFVLE1BQVEsRUFDbEIsRUFBVSxRQUFVLEVBQ3BCLEVBQVksV0FDVSxFQUFVLG9CQUFoQyxhQUNFLEVBQWUsT0FBUyxVQUMxQixFQUFlLEtBQU8sTUFBdUIsS0FDM0MsRUFBZSxPQUFTLFVBQzFCLEVBQVksUUFDWixDQUNMLEVBQVksRUFBZSxVQUMzQixHQUFpQixFQUFrQixDQUFjLEVBQ2pELEVBQVEsRUFBZSxjQUN2QixFQUFzQixHQUEyQixFQUFXLENBQUssRUFDakUsRUFBVSxNQUFRLEVBQ2xCLEVBQWEsRUFBZSxhQUM1QixFQUFXLEVBQVUsUUFDckIsRUFBYSxFQUFVLFlBQ3ZCLEVBQU8sVUFDYSxJQUFwQixVQUNXLElBQVQsT0FDQyxFQUFPLEdBQVksQ0FBVSxHQUNoQyxFQUFxQixFQUFVLDBCQUM5QixTQUN1QixJQUF0QixtQkFDc0IsRUFBVSwwQkFBaEMsb0JBQ3VCLEVBQVUsbUNBQWhDLG1CQUN1QixFQUFVLDRCQUFoQyxhQUNBLElBQVUsR0FBYyxJQUFhLElBQ3JDLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNKLEdBQWlCLEdBQ2pCLEVBQVcsRUFBZSxjQUMxQixFQUFVLE1BQVEsRUFDbEIsR0FBbUIsRUFBZ0IsRUFBVyxFQUFXLENBQVcsRUFDcEUsR0FBNEMsRUFDNUMsSUFBSSxFQUFXLEVBQWUsY0FDOUIsSUFBVSxHQUNWLElBQWEsR0FDYixJQUNVLElBQVQsTUFDVSxFQUFpQixlQUExQixNQUNBLEdBQXNCLEVBQWlCLFlBQVksVUFDMUIsSUFBdEIsYUFDRSxHQUNDLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQyxFQUFXLEVBQWUsZ0JBQzVCLEVBQ0MsSUFDQSxHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsR0FDVSxJQUFULE1BQ1UsRUFBaUIsZUFBMUIsTUFDQSxHQUFzQixFQUFpQixZQUFZLElBQ2xELFVBQ3dCLEVBQVUsNkJBQWhDLG1CQUN1QixFQUFVLHNCQUFoQyxvQkFDcUIsRUFBVSxzQkFBaEMsWUFDQyxFQUFVLG9CQUFvQixFQUFXLEVBQVUsQ0FBSSxTQUNuQyxFQUFVLDZCQUFoQyxZQUNFLEVBQVUsMkJBQ1IsRUFDQSxFQUNBLENBQ0YsVUFDa0IsRUFBVSxxQkFBaEMsYUFDRyxFQUFlLE9BQVMsVUFDTCxFQUFVLDBCQUFoQyxhQUNHLEVBQWUsT0FBUyxlQUNKLEVBQVUscUJBQWhDLFlBQ0UsSUFBVSxFQUFpQixlQUMxQixJQUFhLEVBQWlCLGdCQUMvQixFQUFlLE9BQVMsVUFDTCxFQUFVLDBCQUFoQyxZQUNHLElBQVUsRUFBaUIsZUFDMUIsSUFBYSxFQUFpQixnQkFDL0IsRUFBZSxPQUFTLE1BQzFCLEVBQWUsY0FBZ0IsRUFDL0IsRUFBZSxjQUFnQixHQUNuQyxFQUFVLE1BQVEsRUFDbEIsRUFBVSxNQUFRLEVBQ2xCLEVBQVUsUUFBVSxFQUNwQixFQUFZLFdBQ1UsRUFBVSxxQkFBaEMsWUFDRSxJQUFVLEVBQWlCLGVBQzFCLElBQWEsRUFBaUIsZ0JBQy9CLEVBQWUsT0FBUyxVQUNMLEVBQVUsMEJBQWhDLFlBQ0csSUFBVSxFQUFpQixlQUMxQixJQUFhLEVBQWlCLGdCQUMvQixFQUFlLE9BQVMsTUFDMUIsRUFBWSxJQUtuQixHQUhBLEVBQU8sRUFDUCxHQUFRLEVBQWtCLENBQWMsRUFDeEMsR0FBZSxFQUFlLE1BQVEsT0FBOUIsRUFDSixHQUFRLEVBQU8sQ0FNakIsR0FMQSxFQUFPLEVBQWUsVUFDdEIsRUFBcUIsZ0JBQ1YsSUFBVCxLQUEwQixLQUFPLEdBQ25DLEdBQWMsR0FDZCxHQUFVLEVBQ04sVUFBK0IsRUFBVSwyQkFBaEMsV0FDWCxBQUFDLEVBQVksS0FBUSxHQUFvQixPQUN0QyxDQUdILEdBRkEsRUFBMkIsQ0FBYyxFQUN6QyxFQUFZLEdBQWdCLENBQUksRUFDNUIsRUFBZSxLQUFPLEdBQWtCLENBQzFDLEdBQTJCLEVBQUUsRUFDN0IsR0FBSSxDQUNGLEdBQWdCLENBQUksU0FDcEIsQ0FDQSxHQUEyQixFQUFFLEdBR2pDLEdBQTJCLEVBRTdCLEVBQWUsT0FBUyxFQUNmLElBQVQsTUFBNkIsR0FDdkIsRUFBZSxNQUFRLEdBQ3ZCLEVBQ0EsRUFBaUIsTUFDakIsS0FDQSxDQUNGLEVBQ0MsRUFBZSxNQUFRLEdBQ3RCLEVBQ0EsS0FDQSxFQUNBLENBQ0YsR0FDQSxHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDSixFQUFlLGNBQWdCLEVBQUssTUFDcEMsRUFBbUIsRUFBZSxVQUVsQyxHQUFtQixHQUNqQixFQUNBLEVBQ0EsQ0FDRixFQVVGLE9BVEEsRUFBYyxFQUFlLFVBQzdCLEdBQ0UsRUFBWSxRQUFVLElBQ3JCLElBQ0MsUUFBUSxNQUNOLDhIQUNBLEVBQTBCLENBQWMsR0FBSyxhQUMvQyxFQUNELEdBQStCLElBQzNCLEVBRVQsU0FBUyxFQUE2QixDQUNwQyxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBSUEsT0FIQSxHQUFvQixFQUNwQixFQUFlLE9BQVMsSUFDeEIsR0FBa0IsRUFBUyxFQUFnQixFQUFjLENBQVcsRUFDN0QsRUFBZSxNQUV4QixTQUFTLEVBQThCLENBQUMsRUFBZ0IsRUFBVyxDQUNqRSxHQUNFLEVBQVUsbUJBQ1YsUUFBUSxNQUNOO0FBQUEsOEJBQ0EsRUFBVSxhQUFlLEVBQVUsTUFBUSxXQUM3QyxTQUNvQixFQUFVLDJCQUFoQyxhQUNJLEVBQWlCLEVBQXlCLENBQVMsR0FBSyxVQUMxRCxHQUErQyxLQUM1QyxRQUFRLE1BQ1AsbUVBQ0EsQ0FDRixFQUNDLEdBQStDLEdBQzlDLFlBQ2MsRUFBVSxjQUE5QixVQUNXLEVBQVUsY0FBbkIsT0FDRSxFQUFZLEVBQXlCLENBQVMsR0FBSyxVQUNyRCxHQUEyQyxLQUN4QyxRQUFRLE1BQ1Asc0RBQ0EsQ0FDRixFQUNDLEdBQTJDLEdBQWEsS0FFL0QsU0FBUyxFQUEyQixDQUFDLEVBQWEsQ0FDaEQsTUFBTyxDQUFFLFVBQVcsRUFBYSxVQUFXLEdBQWtCLENBQUUsRUFFbEUsU0FBUyxFQUE2QixDQUNwQyxFQUNBLEVBQ0EsRUFDQSxDQUdBLE9BRkEsRUFBbUIsSUFBVCxLQUFtQixFQUFRLFlBQWMsRUFBYyxFQUNqRSxJQUF3QixHQUFXLElBQzVCLEVBRVQsU0FBUyxFQUF1QixDQUFDLEVBQVMsRUFBZ0IsRUFBYSxDQUNyRSxJQUFJLEVBQ0EsRUFBc0MsRUFBZSxhQUN6RCxFQUFrQixDQUFjLElBQU0sRUFBZSxPQUFTLEtBQzlELElBQUksRUFBK0MsR0FDL0MsR0FBb0IsRUFBZSxNQUFRLE9BQTlCLEVBV2pCLElBVkMsRUFBdUMsS0FDckMsRUFDVSxJQUFULE1BQTZCLEVBQVEsZ0JBQWpCLEtBQ2hCLElBQ08sR0FBb0IsUUFBVSxNQUFyQyxHQUNSLElBQ0ksRUFBK0MsR0FDaEQsRUFBZSxPQUFTLE1BQzNCLEdBQThDLEVBQWUsTUFBUSxNQUE5QixFQUN2QyxFQUFlLE9BQVMsSUFDWCxJQUFULEtBQWtCLENBQ3BCLEdBQUksR0FBYSxDQUlmLEdBSEEsRUFDSSxHQUErQixDQUFjLEVBQzdDLEdBQTRCLENBQWMsRUFDMUMsR0FBYSxDQUNmLElBQUksRUFBd0MsR0FDeEMsRUFDSixLQUFNLEdBQW1CLEdBQXdDLENBQy9ELEVBQUcsQ0FDRCxJQUFJLEVBQVcsRUFDZixJQUNFLEVBQWtCLEdBQ1osRUFBUyxXQUFmLEdBRUEsQ0FDQSxJQUFLLEVBQWlCLENBQ3BCLEVBQWtCLEtBQ2xCLFFBR0YsR0FEQSxFQUFXLEdBQWtCLEVBQVMsV0FBVyxFQUNwQyxJQUFULEtBQW1CLENBQ3JCLEVBQWtCLEtBQ2xCLFNBR0osRUFBa0IsRUFFcEIsQUFBUyxJQUFULE1BQ0ssR0FBbUIsRUFDbkIsRUFBZSxjQUFnQixDQUM5QixXQUFZLEVBQ1osWUFDVyxLQUFULEtBQ0ksQ0FBRSxHQUFJLEdBQWUsU0FBVSxFQUFvQixFQUNuRCxLQUNOLFVBQVcsU0FDYixFQUNDLEVBQVcsRUFBWSxHQUFJLEtBQU0sS0FBTSxFQUFNLEVBQzdDLEVBQVMsVUFBWSxFQUNyQixFQUFTLE9BQVMsRUFDbEIsRUFBZSxNQUFRLEVBQ3ZCLEdBQXVCLEVBQ3ZCLEdBQXlCLEtBQ3pCLEVBQWtCLElBQ2xCLEVBQWtCLEdBQ3ZCLEdBQW1CLEVBRXJCLElBQ0csR0FDQyxFQUNBLENBQ0YsRUFDQSxHQUF5QixDQUFjLEdBRzNDLEdBREEsRUFBd0MsRUFBZSxjQUU1QyxJQUFULE9BQ0UsRUFDQSxFQUFzQyxXQUMvQixJQUFULE1BRUEsT0FDRSxFQUFzQyxPQUN0QyxHQUNLLEVBQWUsTUFBUSxHQUN2QixFQUFlLE1BQVEsVUFDNUIsS0FFSixHQUFtQixDQUFjLEVBTW5DLEdBSkEsRUFDRSxFQUFvQyxTQUN0QyxFQUNFLEVBQW9DLFNBQ2xDLEVBQ0YsT0FDRSxHQUE0QixDQUFjLEVBQ3pDLEVBQ0MsRUFBZSxLQUNoQixFQUNDLEdBQ0UsQ0FDRSxLQUFNLFNBQ04sU0FBVSxDQUNaLEVBQ0EsQ0FDRixFQUNELEVBQXNDLEdBQ3JDLEVBQ0EsRUFDQSxFQUNBLElBQ0YsRUFDQyxFQUFzQyxPQUFTLEVBQy9DLEVBQW9DLE9BQVMsRUFDN0MsRUFBc0MsUUFDckMsRUFDRCxFQUFlLE1BQVEsRUFDdkIsRUFDQyxFQUFlLE1BQ2hCLEVBQTZDLGNBQzVDLEdBQTRCLENBQVcsRUFDeEMsRUFBNkMsV0FDNUMsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNELEVBQWUsY0FBZ0IsR0FDaEMsRUFHSixPQURBLEdBQStCLENBQWMsRUFDdEMsR0FDTCxFQUNBLENBQ0YsRUFFRixJQUFJLEVBQVksRUFBUSxjQUN4QixHQUNXLElBQVQsT0FDRSxFQUF3QyxFQUFVLFdBQzNDLElBQVQsTUFDQSxDQUNBLEdBQUksRUFDRixFQUFlLE1BQVEsS0FDbEIsR0FBK0IsQ0FBYyxFQUM3QyxFQUFlLE9BQVMsS0FDeEIsRUFBaUIsR0FDaEIsRUFDQSxFQUNBLENBQ0YsR0FDUyxFQUFlLGdCQUF4QixNQUNHLEdBQTRCLENBQWMsRUFDMUMsRUFBZSxNQUFRLEVBQVEsTUFDL0IsRUFBZSxPQUFTLElBQ3hCLEVBQWlCLE9BQ2pCLEdBQTRCLENBQWMsRUFDMUMsRUFDQyxFQUFvQyxTQUNyQyxFQUF3QyxFQUFlLEtBQ3ZELEVBQ0MsR0FDRSxDQUNFLEtBQU0sVUFDTixTQUFVLEVBQW9DLFFBQ2hELEVBQ0EsQ0FDRixFQUNELEVBQ0MsR0FDRSxFQUNBLEVBQ0EsRUFDQSxJQUNGLEVBQ0QsRUFBNkMsT0FBUyxFQUN0RCxFQUFvQyxPQUFTLEVBQzdDLEVBQTZDLE9BQzVDLEVBQ0QsRUFBb0MsUUFDbkMsRUFDRCxFQUFlLE1BQVEsRUFDeEIsR0FDRSxFQUNBLEVBQVEsTUFDUixLQUNBLENBQ0YsRUFDQyxFQUFzQyxFQUFlLE1BQ3JELEVBQW9DLGNBQ25DLEdBQTRCLENBQVcsRUFDeEMsRUFBb0MsV0FDbkMsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNELEVBQWUsY0FBZ0IsR0FDL0IsRUFDQyxXQUVQLEdBQStCLENBQWMsRUFDOUMsSUFDRSxRQUFRLE1BQ04sNkVBQ0YsRUFDRixFQUFzQyxPQUNwQyxHQUNGLENBSUEsR0FIQSxFQUNFLEVBQXNDLGFBQ3RDLEVBQXNDLFlBQVksUUFDaEQsRUFBc0MsQ0FDeEMsRUFBa0IsRUFBcUMsS0FDdkQsSUFBSSxFQUFVLEVBQXFDLElBQ25ELEVBQVcsRUFBcUMsS0FDaEQsSUFBSSxFQUFpQixFQUFxQyxNQUU1RCxFQUF3QyxFQUN4QyxFQUF1QyxFQUN2QyxFQUFzQyxFQUN0QyxFQUFrQixFQUNoQixFQUNGLEVBQ0UsRUFDSSxNQUFNLENBQXFDLEVBQzNDLE1BQ0UsbUlBQ0YsRUFDTixFQUE2QyxNQUMzQyxHQUF1QyxHQUN6QyxFQUE2QyxPQUMzQyxFQUNGLEVBQ2EsSUFBTixPQUF3QixLQUFPLEVBQ3RDLEVBQXNDLENBQ3BDLE1BQU8sRUFDUCxPQUFRLEtBQ1IsTUFBTyxDQUNULFNBQ29CLElBQXBCLFVBQ0UsR0FBZSxJQUNiLEVBQ0EsQ0FDRixFQUNGLEdBQW9CLENBQW1DLEVBQ3ZELEVBQWlCLEdBQ2YsRUFDQSxFQUNBLENBQ0YsVUFFQyxJQUNDLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsRUFDRixFQUNELEdBQ1EsRUFBYyxFQUFRLGNBQTdCLEVBQ0YsSUFBb0IsRUFDcEIsQ0FFQSxHQURBLEVBQXVDLEdBQzFCLElBQVQsS0FBK0MsQ0FFakQsR0FEQSxFQUFzQyxHQUFlLEdBQzFDLEVBQXNDLE1BQTdDLEVBQ0YsRUFBc0MsTUFFdEMsUUFBUSxPQUNELEdBQ0gsRUFBc0MsRUFDdEMsVUFDRyxHQUNILEVBQXNDLEVBQ3RDLFVBQ0csSUFDSCxFQUFzQyxHQUN0QyxVQUNHLFNBQ0EsU0FDQSxTQUNBLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsV0FDQSxXQUNBLFdBQ0EsWUFDQSxZQUNBLFlBQ0EsYUFDQSxhQUNBLGFBQ0EsYUFDQSxjQUNBLFVBQ0gsRUFBc0MsR0FDdEMsVUFDRyxXQUNILEVBQXNDLFVBQ3RDLGNBRUEsRUFBc0MsRUFTNUMsR0FQQSxHQUVHLEdBQ0UsRUFBcUMsZUFDcEMsTUFISixFQUlJLEVBQ0EsRUFFRSxJQUFOLEdBQ0EsSUFBd0MsRUFBVSxVQUVsRCxNQUNJLEVBQVUsVUFBWSxFQUN4QixHQUNFLEVBQ0EsQ0FDRixFQUNBLEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxHQUdOLEVBQXNDLE9BQ3BDLElBQStCLEdBQWdDLEVBQ2pFLEVBQWlCLEdBQ2YsRUFDQSxFQUNBLENBQ0YsTUFFQSxHQUFzQyxPQUN0QyxJQUNNLEVBQWUsT0FBUyxJQUN6QixFQUFlLE1BQVEsRUFBUSxNQUMvQixFQUFpQixHQUFnQyxLQUNoRCxLQUNBLENBQ0YsRUFDQyxFQUFzQyxZQUNyQyxFQUNELEVBQWlCLE9BQ2hCLEVBQVUsRUFBVSxZQUNyQixHQUF5QixHQUN4QixFQUFzQyxXQUN4QyxFQUNDLEdBQXVCLEVBQ3ZCLEdBQWMsR0FDZCxHQUFrQixLQUNsQixHQUF1QixHQUN2QixHQUF1QixLQUN2QixHQUF5QixHQUNqQixJQUFULE9BQ0csR0FBbUIsRUFDbkIsR0FBUSxNQUFrQixHQUMxQixHQUFRLE1BQWtCLEdBQzFCLEdBQVEsTUFBa0IsR0FDMUIsR0FBZ0IsRUFBUSxHQUN4QixHQUFzQixFQUFRLFNBQzlCLEdBQXNCLEdBQ3hCLEVBQWlCLEdBQ2hCLEVBQ0EsRUFBb0MsUUFDdEMsRUFDQyxFQUFlLE9BQVMsTUFDL0IsT0FBTyxFQUVULEdBQUksRUFDRixPQUNFLEdBQTRCLENBQWMsRUFDekMsRUFDQyxFQUFvQyxTQUNyQyxFQUF3QyxFQUFlLEtBQ3ZELEVBQWtCLEVBQVEsTUFDMUIsRUFBVyxFQUFnQixRQUMzQixFQUFzQyxHQUNyQyxFQUNBLENBQ0UsS0FBTSxTQUNOLFNBQVUsRUFBb0MsUUFDaEQsQ0FDRixFQUNDLEVBQW9DLGFBQ25DLEVBQWdCLGFBQWUsU0FDeEIsSUFBVCxLQUNLLEVBQ0MsR0FDRSxFQUNBLENBQ0YsR0FDQSxFQUNBLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsSUFDRixFQUNELEVBQTZDLE9BQVMsR0FDMUQsRUFBNkMsT0FDNUMsRUFDRCxFQUFvQyxPQUFTLEVBQzdDLEVBQW9DLFFBQ25DLEVBQ0QsRUFBZSxNQUFRLEVBQ3ZCLEVBQ0MsRUFDRCxFQUErQyxFQUFlLE1BQzlELEVBQXdDLEVBQVEsTUFBTSxjQUM5QyxJQUFULEtBQ0ssRUFDQyxHQUE0QixDQUFXLEdBQ3ZDLEVBQ0EsRUFBc0MsVUFDL0IsSUFBVCxNQUNNLEVBQVcsR0FBYSxjQUN6QixFQUNDLEVBQWdCLFNBQVcsRUFDdkIsQ0FBRSxPQUFRLEVBQVUsS0FBTSxDQUFTLEVBQ25DLEdBQ0wsRUFBa0IsR0FBa0IsRUFDeEMsRUFBd0MsQ0FDdkMsVUFDRSxFQUFzQyxVQUFZLEVBQ3BELFVBQVcsQ0FDYixHQUNILEVBQTZDLGNBQzVDLEVBQ0QsRUFBNkMsV0FDNUMsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNELEVBQWUsY0FBZ0IsR0FDaEMsRUFtQkosT0FqQkEsR0FBK0IsQ0FBYyxFQUM3QyxFQUFjLEVBQVEsTUFDdEIsRUFBVSxFQUFZLFFBQ3RCLEVBQWMsR0FBcUIsRUFBYSxDQUM5QyxLQUFNLFVBQ04sU0FBVSxFQUFvQyxRQUNoRCxDQUFDLEVBQ0QsRUFBWSxPQUFTLEVBQ3JCLEVBQVksUUFBVSxLQUNiLElBQVQsT0FDSSxFQUF1QyxFQUFlLFVBQy9DLElBQVQsTUFDTSxFQUFlLFVBQVksQ0FBQyxDQUFPLEVBQ3BDLEVBQWUsT0FBUyxJQUN6QixFQUFxQyxLQUFLLENBQU8sR0FDdkQsRUFBZSxNQUFRLEVBQ3ZCLEVBQWUsY0FBZ0IsS0FDeEIsRUFFVCxTQUFTLEVBQTRCLENBQUMsRUFBZ0IsRUFBaUIsQ0FNckUsT0FMQSxFQUFrQixHQUNoQixDQUFFLEtBQU0sVUFBVyxTQUFVLENBQWdCLEVBQzdDLEVBQWUsSUFDakIsRUFDQSxFQUFnQixPQUFTLEVBQ2pCLEVBQWUsTUFBUSxFQUVqQyxTQUFTLEVBQWlDLENBQUMsRUFBZ0IsRUFBTSxDQUMvRCxPQUFPLEdBQXlCLEVBQWdCLEVBQU0sRUFBRyxJQUFJLEVBRS9ELFNBQVMsRUFBc0MsQ0FDN0MsRUFDQSxFQUNBLEVBQ0EsQ0FRQSxPQVBBLEdBQXFCLEVBQWdCLEVBQVEsTUFBTyxLQUFNLENBQVcsRUFDckUsRUFBVSxHQUNSLEVBQ0EsRUFBZSxhQUFhLFFBQzlCLEVBQ0EsRUFBUSxPQUFTLEVBQ2pCLEVBQWUsY0FBZ0IsS0FDeEIsRUFFVCxTQUFTLEVBQTJCLENBQUMsRUFBTyxFQUFhLEVBQWlCLENBQ3hFLEVBQU0sT0FBUyxFQUNmLElBQUksRUFBWSxFQUFNLFVBQ3RCLEFBQVMsSUFBVCxPQUF1QixFQUFVLE9BQVMsR0FDMUMsR0FDRSxFQUFNLE9BQ04sRUFDQSxDQUNGLEVBRUYsU0FBUyxFQUErQixDQUFDLEVBQVcsRUFBTyxDQUN6RCxJQUFJLEVBQVksR0FBWSxDQUFTLEVBRXJDLE9BREEsR0FBYSxVQUFtQyxFQUFjLENBQVMsSUFBN0MsV0FDbkIsR0FBYSxHQUNkLEVBQVksRUFBWSxRQUFVLFdBQ3BDLFFBQVEsTUFDTixzT0FDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLElBQ0EsR0FFTixTQUFTLEVBQTJCLENBQ2xDLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLElBQUksRUFBYyxFQUFlLGNBQ2pDLEFBQVMsSUFBVCxLQUNLLEVBQWUsY0FBZ0IsQ0FDOUIsWUFBYSxFQUNiLFVBQVcsS0FDWCxtQkFBb0IsRUFDcEIsS0FBTSxFQUNOLEtBQU0sRUFDTixTQUFVLENBQ1osR0FDRSxFQUFZLFlBQWMsRUFDM0IsRUFBWSxVQUFZLEtBQ3hCLEVBQVksbUJBQXFCLEVBQ2pDLEVBQVksS0FBTyxFQUNuQixFQUFZLEtBQU8sRUFDbkIsRUFBWSxTQUFXLEdBRTlCLFNBQVMsRUFBMkIsQ0FBQyxFQUFTLEVBQWdCLEVBQWEsQ0FDekUsSUFBSSxFQUFZLEVBQWUsYUFDN0IsRUFBYyxFQUFVLFlBQ3hCLEVBQVcsRUFBVSxLQUV2QixHQURBLEVBQVksRUFBVSxTQUVULElBQU4sUUFDVSxJQUFmLFlBQ2dCLElBQWhCLGFBQ2UsSUFBZixhQUNDLEdBQXdCLEdBRXpCLEdBQ0ksR0FBd0IsR0FBZSxVQUNyQixJQUFwQixTQUVBLE9BQVEsRUFBWSxZQUFZLE9BQ3pCLGVBQ0EsZUFDQSxZQUNILFFBQVEsTUFDTiw2RkFDQSxFQUNBLEVBQVksWUFBWSxDQUMxQixFQUNBLFVBQ0csY0FDQSxXQUNILFFBQVEsTUFDTiw4SEFDQSxFQUNBLEVBQVksWUFBWSxDQUMxQixFQUNBLGNBRUEsUUFBUSxNQUNOLCtHQUNBLENBQ0YsTUFHSixTQUFRLE1BQ04sdUhBQ0EsQ0FDRixFQUNKLEFBQVcsSUFBTixRQUNILEdBQXdCLEtBQ1AsSUFBaEIsYUFBeUMsSUFBYixVQUN2QixHQUF3QixHQUFZLEdBQ3RDLFFBQVEsTUFDTixvR0FDQSxDQUNGLEdBQ2UsSUFBZixZQUNnQixJQUFoQixjQUNFLEdBQXdCLEdBQVksR0FDdEMsUUFBUSxNQUNOLHdJQUNBLENBQ0YsSUFDTixFQUFHLElBQ2UsSUFBZixZQUE4QyxJQUFoQixjQUNwQixJQUFOLFFBQ0ksSUFBVCxNQUNPLElBQVAsR0FFQSxHQUFJLEdBQVksQ0FBUyxHQUN2QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVUsT0FBUSxJQUNwQyxJQUFLLEdBQWdDLEVBQVUsR0FBSSxDQUFDLEVBQUcsZ0JBRWhELEVBQUksRUFBYyxDQUFTLFNBQTBCLElBQXRCLFlBQ3hDLEdBQUssRUFBSSxFQUFFLEtBQUssQ0FBUyxFQUN2QixRQUFTLEVBQU8sRUFBRSxLQUFLLEVBQUcsRUFBSyxHQUFJLEVBQUssS0FBTSxFQUFPLEVBQUUsS0FBSyxFQUFHLENBQzdELElBQUssR0FBZ0MsRUFBSyxNQUFPLENBQUUsRUFBRyxRQUN0RCxTQUdKLFNBQVEsTUFDTix1S0FDQSxDQUNGLEVBR0osR0FGQSxHQUFrQixFQUFTLEVBQWdCLEVBQVcsQ0FBVyxFQUNqRSxFQUFZLEdBQW9CLFNBQ3JCLEVBQVksTUFBbkIsRUFDRixBQUFDLEVBQ0UsRUFBWSxHQUE4QixHQUMxQyxFQUFlLE9BQVMsUUFDeEIsQ0FDSCxHQUFhLElBQVQsT0FBMkIsRUFBUSxNQUFRLE9BQXZCLEVBQ3RCLEVBQUcsSUFBSyxFQUFVLEVBQWUsTUFBZ0IsSUFBVCxNQUFvQixDQUMxRCxHQUFXLEVBQVEsTUFBZixHQUNGLEFBQVMsRUFBUSxnQkFBakIsTUFDRSxHQUNFLEVBQ0EsRUFDQSxDQUNGLFVBQ1ksRUFBUSxNQUFmLEdBQ1AsR0FBNEIsRUFBUyxFQUFhLENBQWMsVUFDaEQsRUFBUSxRQUFqQixLQUF3QixDQUMvQixFQUFRLE1BQU0sT0FBUyxFQUN2QixFQUFVLEVBQVEsTUFDbEIsU0FFRixHQUFJLElBQVksRUFBZ0IsUUFDaEMsS0FBZ0IsRUFBUSxVQUFqQixNQUE0QixDQUNqQyxHQUFhLEVBQVEsU0FBakIsTUFBMkIsRUFBUSxTQUFXLEVBQ2hELFFBQ0YsRUFBVSxFQUFRLE9BRXBCLEVBQVEsUUFBUSxPQUFTLEVBQVEsT0FDakMsRUFBVSxFQUFRLFFBRXRCLEdBQWEsR0FHZixPQURBLEdBQUssR0FBcUIsRUFBVyxDQUFjLEVBQzNDLE9BQ0QsV0FDSCxFQUFjLEVBQWUsTUFDN0IsSUFBSyxFQUFjLEtBQWUsSUFBVCxNQUN2QixBQUFDLEVBQVUsRUFBWSxVQUNaLElBQVQsTUFDVyxHQUFtQixDQUFPLElBQW5DLE9BQ0MsRUFBYyxHQUNoQixFQUFjLEVBQVksUUFDL0IsRUFBYyxFQUNMLElBQVQsTUFDTSxFQUFjLEVBQWUsTUFDOUIsRUFBZSxNQUFRLE9BQ3RCLEVBQWMsRUFBWSxRQUMzQixFQUFZLFFBQVUsTUFDM0IsR0FDRSxFQUNBLEdBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxVQUNHLFlBQ0gsRUFBYyxLQUNkLEVBQWMsRUFBZSxNQUM3QixJQUFLLEVBQWUsTUFBUSxLQUFlLElBQVQsTUFBd0IsQ0FFeEQsR0FEQSxFQUFVLEVBQVksVUFDVCxJQUFULE1BQTZCLEdBQW1CLENBQU8sSUFBbkMsS0FBc0MsQ0FDNUQsRUFBZSxNQUFRLEVBQ3ZCLE1BRUYsRUFBVSxFQUFZLFFBQ3RCLEVBQVksUUFBVSxFQUN0QixFQUFjLEVBQ2QsRUFBYyxFQUVoQixHQUNFLEVBQ0EsR0FDQSxFQUNBLEtBQ0EsQ0FDRixFQUNBLFVBQ0csV0FDSCxHQUE0QixFQUFnQixHQUFJLEtBQU0sS0FBVyxNQUFDLEVBQ2xFLGNBRUEsRUFBZSxjQUFnQixLQUVuQyxPQUFPLEVBQWUsTUFFeEIsU0FBUyxFQUE0QixDQUNuQyxFQUNBLEVBQ0EsRUFDQSxDQUlBLEdBSFMsSUFBVCxPQUFxQixFQUFlLGFBQWUsRUFBUSxjQUMzRCxHQUFvQixHQUNwQixJQUFrQyxFQUFlLE9BQ3RDLEVBQWMsRUFBZSxjQUFwQyxFQUNGLEdBQWEsSUFBVCxNQUNGLEdBQ0csR0FDQyxFQUNBLEVBQ0EsRUFDQSxFQUNGLEdBQ08sRUFBYyxFQUFlLGNBQXBDLEVBRUEsT0FBTyxTQUNKLFFBQU8sS0FDaEIsR0FBYSxJQUFULE1BQW9CLEVBQWUsUUFBVSxFQUFRLE1BQ3ZELE1BQU0sTUFBTSxvQ0FBb0MsRUFDbEQsR0FBYSxFQUFlLFFBQXhCLEtBQStCLENBQ2pDLEVBQVUsRUFBZSxNQUN6QixFQUFjLEdBQXFCLEVBQVMsRUFBUSxZQUFZLEVBQ2hFLEVBQWUsTUFBUSxFQUN2QixJQUFLLEVBQVksT0FBUyxFQUF5QixFQUFRLFVBQWpCLE1BQ3hDLEFBQUMsRUFBVSxFQUFRLFFBQ2hCLEVBQWMsRUFBWSxRQUN6QixHQUFxQixFQUFTLEVBQVEsWUFBWSxFQUNuRCxFQUFZLE9BQVMsRUFDMUIsRUFBWSxRQUFVLEtBRXhCLE9BQU8sRUFBZSxNQUV4QixTQUFTLEVBQTZCLENBQUMsRUFBUyxFQUFhLENBQzNELElBQVcsRUFBUSxNQUFRLEtBQXZCLEVBQXFDLE1BQU8sR0FFaEQsT0FEQSxFQUFVLEVBQVEsYUFDRixJQUFULE1BQW9CLEdBQXNCLENBQU8sRUFBSSxHQUFLLEdBRW5FLFNBQVMsRUFBc0MsQ0FDN0MsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxPQUFRLEVBQWUsU0FDaEIsR0FDSCxHQUNFLEVBQ0EsRUFBZSxVQUFVLGFBQzNCLEVBQ0EsR0FDRSxFQUNBLEdBQ0EsRUFBUSxjQUFjLEtBQ3hCLEVBQ0EsR0FBb0IsRUFDcEIsVUFDRyxRQUNBLEdBQ0gsR0FBZ0IsQ0FBYyxFQUM5QixVQUNHLEdBQ0gsR0FDRSxFQUNBLEVBQWUsVUFBVSxhQUMzQixFQUNBLFVBQ0csSUFDSCxHQUNFLEVBQ0EsRUFBZSxLQUNmLEVBQWUsY0FBYyxLQUMvQixFQUNBLFVBQ0csSUFDSCxDQUFPLEVBQWMsRUFBZSxjQUFwQyxJQUNHLEVBQWUsT0FBUyxHQUMzQixFQUFlLE9BQVMsS0FDeEIsSUFBSSxFQUFZLEVBQWUsVUFDL0IsRUFBVSxlQUFpQixHQUMzQixFQUFVLHNCQUF3QixHQUNsQyxVQUNHLElBRUgsR0FEQSxFQUFZLEVBQWUsY0FDZCxJQUFULEtBQW9CLENBQ3RCLEdBQWEsRUFBVSxhQUFuQixLQUNGLE9BQ0UsR0FBK0IsQ0FBYyxFQUM1QyxFQUFlLE9BQVMsSUFDekIsS0FFSixJQUFXLEVBQWMsRUFBZSxNQUFNLGNBQTFDLEVBQ0YsT0FBTyxHQUNMLEVBQ0EsRUFDQSxDQUNGLEVBT0YsT0FOQSxHQUErQixDQUFjLEVBQzdDLEVBQVUsR0FDUixFQUNBLEVBQ0EsQ0FDRixFQUNnQixJQUFULEtBQW1CLEVBQVEsUUFBVSxLQUU5QyxHQUErQixDQUFjLEVBQzdDLFVBQ0csSUFDSCxJQUFJLEdBQTBCLEVBQVEsTUFBUSxPQUF2QixFQVV2QixHQVRBLEdBQW1CLEVBQWMsRUFBZSxjQUFwQyxFQUNaLElBQ0csR0FDQyxFQUNBLEVBQ0EsRUFDQSxFQUNGLEVBQ0MsR0FBbUIsRUFBYyxFQUFlLGNBQXBDLEdBQ1gsRUFBa0IsQ0FDcEIsR0FBSSxFQUNGLE9BQU8sR0FDTCxFQUNBLEVBQ0EsQ0FDRixFQUNGLEVBQWUsT0FBUyxJQVkxQixHQVZBLEVBQW1CLEVBQWUsY0FDekIsSUFBVCxPQUNJLEVBQWlCLFVBQVksS0FDOUIsRUFBaUIsS0FBTyxLQUN4QixFQUFpQixXQUFhLE1BQ2pDLEdBQ0UsR0FDQSxHQUFvQixRQUNwQixDQUNGLEVBQ0ksRUFBVyxVQUNWLFFBQU8sU0FDVCxRQUNBLElBQ0gsT0FDRyxFQUFlLE1BQVEsRUFDeEIsR0FBeUIsRUFBUyxFQUFnQixDQUFXLE1BRTVELElBQ0gsR0FDRSxFQUNBLEdBQ0EsRUFBUSxjQUFjLEtBQ3hCLEVBRUosT0FBTyxHQUE2QixFQUFTLEVBQWdCLENBQVcsRUFFMUUsU0FBUyxFQUFTLENBQUMsRUFBUyxFQUFnQixFQUFhLENBQ3ZELEdBQUksRUFBZSxvQkFBK0IsSUFBVCxLQUFrQixDQUN6RCxFQUFjLEdBQ1osRUFBZSxLQUNmLEVBQWUsSUFDZixFQUFlLGFBQ2YsRUFBZSxhQUFlLEtBQzlCLEVBQWUsS0FDZixFQUFlLEtBQ2pCLEVBQ0EsSUFBSSxFQUFjLEVBQWUsT0FDakMsR0FBYSxJQUFULEtBQXNCLE1BQU0sTUFBTSw2QkFBNkIsRUFRbkUsR0FQQSxFQUFRLFVBQVksS0FDcEIsRUFBZSxVQUFZLEtBQzNCLEVBQVksTUFBUSxFQUFlLE1BQ25DLEVBQVksUUFBVSxFQUFlLFFBQ3JDLEVBQVksT0FBUyxFQUFlLE9BQ3BDLEVBQVksSUFBTSxFQUFlLElBQ2pDLEVBQVksV0FBYSxFQUFlLFdBQ3BDLElBQW1CLEVBQVksTUFDakMsRUFBWSxNQUFRLE1BQ2pCLENBQ0gsSUFBSSxFQUFjLEVBQVksTUFDOUIsR0FBYSxJQUFULEtBQ0YsTUFBTSxNQUFNLGtDQUFrQyxFQUNoRCxLQUFPLEVBQVksVUFBWSxHQUM3QixHQUFNLEVBQWMsRUFBWSxRQUFtQixJQUFULEtBQ3hDLE1BQU0sTUFBTSx3Q0FBd0MsRUFDeEQsRUFBWSxRQUFVLEVBT3hCLE9BTEEsRUFBaUIsRUFBWSxVQUNwQixJQUFULE1BQ00sRUFBWSxVQUFZLENBQUMsQ0FBTyxFQUFLLEVBQVksT0FBUyxJQUM1RCxFQUFlLEtBQUssQ0FBTyxFQUMvQixFQUFZLE9BQVMsRUFDZCxFQUVULEdBQWEsSUFBVCxLQUNGLEdBQ0UsRUFBUSxnQkFBa0IsRUFBZSxjQUN6QyxFQUFlLE9BQVMsRUFBUSxLQUVoQyxHQUFtQixPQUNoQixDQUNILElBQ0csR0FBOEIsRUFBUyxDQUFXLElBQzVDLEVBQWUsTUFBUSxPQUE5QixFQUVBLE9BQ0csR0FBbUIsR0FDcEIsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUVKLElBQTBCLEVBQVEsTUFBUSxVQUF2QixFQUFpQyxHQUFLLE9BRXhELENBRUgsR0FEQSxHQUFtQixHQUNkLEVBQWMsR0FDakIsR0FBbUIsRUFDaEIsR0FBcUIsRUFBZSxNQUFRLFdBQTlCLEVBQ25CLElBQ0ksRUFBYyxFQUFlLE1BQy9CLEdBQW1CLEVBQ25CLEdBQVcsRUFBZ0IsR0FBZSxDQUFXLEdBR3pELE9BREEsRUFBZSxNQUFRLEVBQ2YsRUFBZSxTQUNoQixJQUNILEVBQUcsR0FDQyxFQUFjLEVBQWUsYUFDOUIsRUFBVSxHQUFrQixFQUFlLFdBQVcsRUFDdEQsRUFBZSxLQUFPLFNBQ0QsSUFBdEIsV0FFQSxHQUFnQixDQUFPLEdBQ2pCLEVBQWMsR0FDZCxFQUNBLENBQ0YsRUFDQyxFQUFlLElBQU0sRUFDckIsRUFBZSxLQUFPLEVBQ3JCLEdBQStCLENBQU8sRUFDdkMsRUFBaUIsR0FDaEIsS0FDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLElBQ0UsRUFBZSxJQUFNLEVBQ3ZCLEdBQStCLEVBQWdCLENBQU8sRUFDckQsRUFBZSxLQUFPLEVBQ3JCLEdBQStCLENBQU8sRUFDdkMsRUFBaUIsR0FDaEIsS0FDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLE9BQ0QsQ0FDSCxHQUFlLElBQU4sUUFBMEIsSUFBVCxNQUN4QixHQUNJLEVBQWMsRUFBUSxTQUN4QixJQUFnQixHQUNoQixDQUNBLEVBQWUsSUFBTSxHQUNyQixFQUFlLEtBQU8sRUFDcEIsR0FBaUMsQ0FBTyxFQUMxQyxFQUFpQixHQUNmLEtBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGdCQUNTLElBQWdCLEdBQWlCLENBQzFDLEVBQWUsSUFBTSxHQUNyQixFQUFpQixHQUNmLEtBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLFNBU0osTUFQQSxFQUFpQixHQUNSLElBQVQsYUFDc0IsSUFBcEIsVUFDQSxFQUFRLFdBQWEsS0FDcEIsRUFDQyw2REFDSixFQUFVLEVBQXlCLENBQU8sR0FBSyxFQUN6QyxNQUNKLGlFQUNFLEVBQ0EsMkRBQ0EsQ0FDSixFQUVGLE9BQU8sTUFDSixHQUNILE9BQU8sR0FDTCxFQUNBLEVBQ0EsRUFBZSxLQUNmLEVBQWUsYUFDZixDQUNGLE1BQ0csR0FDSCxPQUNHLEVBQWMsRUFBZSxLQUM3QixFQUFjLEdBQ2IsRUFDQSxFQUFlLFlBQ2pCLEVBQ0EsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsTUFFQyxHQUNILEVBQUcsQ0FLRCxHQUpBLEdBQ0UsRUFDQSxFQUFlLFVBQVUsYUFDM0IsRUFDYSxJQUFULEtBQ0YsTUFBTSxNQUNKLHNEQUNGLEVBQ0YsSUFBSSxFQUFZLEVBQWUsYUFDL0IsRUFBYyxFQUFlLGNBQzdCLEVBQWMsRUFBWSxRQUMxQixHQUFpQixFQUFTLENBQWMsRUFDeEMsR0FBbUIsRUFBZ0IsRUFBVyxLQUFNLENBQVcsRUFDL0QsSUFBSSxFQUFZLEVBQWUsY0FZL0IsR0FYQSxFQUFZLEVBQVUsTUFDdEIsR0FBYSxFQUFnQixHQUFjLENBQVMsRUFDcEQsSUFBYyxFQUFZLE9BQ3hCLEdBQ0UsRUFDQSxDQUFDLEVBQVksRUFDYixFQUNBLEVBQ0YsRUFDRixHQUE0QyxFQUM1QyxFQUFZLEVBQVUsUUFDbEIsRUFBWSxhQUNkLEdBQ0ksRUFBYyxDQUNkLFFBQVMsRUFDVCxhQUFjLEdBQ2QsTUFBTyxFQUFVLEtBQ25CLEVBQ0MsRUFBZSxZQUFZLFVBQVksRUFDdkMsRUFBZSxjQUFnQixFQUNoQyxFQUFlLE1BQVEsSUFDdkIsQ0FDQSxFQUFpQixHQUNmLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxnQkFDUyxJQUFjLEVBQWEsQ0FDcEMsRUFBYyxHQUNaLE1BQ0UscUhBQ0YsRUFDQSxDQUNGLEVBQ0EsR0FBb0IsQ0FBVyxFQUMvQixFQUFpQixHQUNmLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxZQUVBLEtBQ0UsR0FBeUIsR0FDdkIsRUFBZSxVQUFVLGNBQWMsVUFDekMsRUFDRSxHQUF1QixFQUN2QixHQUFjLEdBQ2QsR0FBa0IsS0FDbEIsR0FBdUIsR0FDdkIsR0FBdUIsS0FDdkIsR0FBeUIsR0FDekIsRUFBVSxHQUNSLEVBQ0EsS0FDQSxFQUNBLENBQ0YsRUFDQSxFQUFlLE1BQVEsRUFDekIsR0FHQSxBQUFDLEVBQVEsTUFBUyxFQUFRLE1BQVEsR0FBTSxLQUNyQyxFQUFVLEVBQVEsWUFDdEIsQ0FFSCxHQURBLEdBQW9CLEVBQ2hCLElBQWMsRUFBYSxDQUM3QixFQUFpQixHQUNmLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsUUFFRixHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFRixFQUFpQixFQUFlLE1BRWxDLE9BQU8sTUFDSixJQUNILE9BQ0UsR0FBUSxFQUFTLENBQWMsRUFDdEIsSUFBVCxNQUNLLEVBQVUsR0FDVCxFQUFlLEtBQ2YsS0FDQSxFQUFlLGFBQ2YsSUFDRixHQUNHLEVBQWUsY0FBZ0IsRUFDaEMsS0FDRSxFQUFVLEVBQWUsS0FDMUIsRUFBYyxFQUFlLGFBQzdCLEVBQWMsR0FDYixHQUF3QixPQUMxQixFQUNDLEVBQ0MsR0FDRSxDQUNGLEVBQUUsY0FBYyxDQUFPLEVBQ3hCLEVBQVksSUFBdUIsRUFDbkMsRUFBWSxJQUFvQixFQUNqQyxHQUFxQixFQUFhLEVBQVMsQ0FBVyxFQUN0RCxHQUFvQixDQUFXLEVBQzlCLEVBQWUsVUFBWSxHQUM3QixFQUFlLGNBQWdCLEdBQzlCLEVBQWUsS0FDZixFQUFRLGNBQ1IsRUFBZSxhQUNmLEVBQVEsYUFDVixFQUNKLFNBRUMsSUFDSCxPQUNFLEdBQWdCLENBQWMsRUFDckIsSUFBVCxNQUNFLEtBQ0UsRUFBYyxHQUFnQixHQUF3QixPQUFPLEVBQzlELEVBQWMsR0FBZSxFQUM3QixFQUFjLEVBQWUsVUFDNUIsR0FDRSxFQUFlLEtBQ2YsRUFBZSxhQUNmLEVBQ0EsRUFDQSxFQUNGLEVBQ0YsS0FDSSxFQUFjLEdBQ2QsRUFDQSxFQUFlLEtBQ2YsRUFBZSxhQUNmLENBQ0YsRUFDUyxJQUFULE9BQ0csR0FBdUIsRUFBZ0IsQ0FBQyxFQUFFLFlBQ3pDLElBQ0wsR0FBdUIsRUFDdkIsR0FBeUIsR0FDekIsR0FBeUIsR0FDeEIsRUFBWSxVQUNkLEdBQ0QsRUFBYyxFQUFlLGFBQWEsU0FDbEMsSUFBVCxNQUFvQixHQUNoQixHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQyxFQUFlLE1BQVEsR0FDdEIsRUFDQSxLQUNBLEVBQ0EsQ0FDRixFQUNKLEdBQVEsRUFBUyxDQUFjLEVBQy9CLEVBQWUsVUFFZCxHQUNILE9BQ1csSUFBVCxNQUNFLEtBQ0UsRUFBWSxHQUFlLEVBQzVCLEVBQWMsR0FDYixFQUFlLEtBQ2YsRUFBVSxZQUNaLEVBQ0MsRUFBYyxJQUNkLEdBQWEsS0FDVixFQUFZLEdBQ1osRUFDQSxFQUFlLEtBQ2YsRUFBZSxhQUNmLEVBQ0YsRUFDUyxJQUFULE1BQ00sRUFBZSxVQUFZLEVBQzdCLEtBQ0ksRUFBWSxHQUNaLEVBQ0EsRUFBZSxLQUNmLEVBQWUsYUFDZixDQUNGLEVBQ1MsSUFBVCxPQUNHLEdBQXVCLEVBQWdCLENBQUMsRUFBRSxZQUN6QyxJQUNMLEdBQXVCLEVBQ3ZCLEdBQXlCLEdBQ3hCLEVBQVUsVUFDWixFQUNDLEdBQXlCLEdBQ3pCLEVBQVksSUFDWixFQUFZLEdBQ2hCLEdBQWEsR0FDaEIsSUFDRyxHQUNDLEdBQXdCLEVBQWdCLENBQVcsRUFDckQsR0FBeUIsQ0FBYyxJQUMzQyxHQUFnQixDQUFjLEVBQzdCLEVBQWMsRUFBZSxLQUM3QixFQUFZLEVBQWUsYUFDM0IsRUFBcUIsSUFBVCxLQUFtQixFQUFRLGNBQWdCLEtBQ3ZELEVBQWMsRUFBVSxTQUN6QixHQUFxQixFQUFhLENBQVMsRUFDdEMsRUFBYyxLQUNOLElBQVQsTUFDQSxHQUFxQixFQUFhLENBQVMsSUFDMUMsRUFBZSxPQUFTLElBQ3BCLEVBQWUsZ0JBQXhCLE9BQ0ksRUFBYyxHQUNkLEVBQ0EsRUFDQSxHQUNBLEtBQ0EsS0FDQSxDQUNGLEVBQ0MsR0FBc0IsY0FBZ0IsR0FDekMsR0FBUSxFQUFTLENBQWMsRUFDL0IsR0FDRSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsRUFBZSxVQUVkLEdBQ0gsT0FDVyxJQUFULE1BQ0UsS0FDRSxFQUFVLEVBQWUsYUFDMUIsRUFBYyxHQUFlLEVBQUUsYUFBYSxRQUM1QyxFQUNTLEdBQVIsS0FDSSxHQUFvQixFQUFTLEVBQVksR0FBRyxFQUM1QyxHQUNMLEVBQWMsSUFDZCxHQUFlLEtBQ1osRUFBYyxHQUNkLEVBQ0EsRUFBZSxhQUNmLEVBQ0YsRUFDUyxJQUFULE1BQ00sRUFBZSxVQUFZLEVBQzVCLEdBQXVCLEVBQ3ZCLEdBQXlCLEtBQ3pCLEVBQWMsSUFDZCxFQUFjLEdBQ2xCLEdBQWUsR0FDbEIsSUFDRyxHQUNDLEdBQXdCLEVBQWdCLENBQVcsRUFDckQsR0FBeUIsQ0FBYyxJQUMzQyxTQUVDLElBQ0gsT0FBTyxHQUF3QixFQUFTLEVBQWdCLENBQVcsTUFDaEUsR0FDSCxPQUNFLEdBQ0UsRUFDQSxFQUFlLFVBQVUsYUFDM0IsRUFDQyxFQUFjLEVBQWUsYUFDckIsSUFBVCxLQUNLLEVBQWUsTUFBUSxHQUN0QixFQUNBLEtBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FDRSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0osRUFBZSxVQUVkLElBQ0gsT0FBTyxHQUNMLEVBQ0EsRUFDQSxFQUFlLEtBQ2YsRUFBZSxhQUNmLENBQ0YsTUFDRyxHQUNILE9BQ0UsR0FDRSxFQUNBLEVBQ0EsRUFBZSxhQUNmLENBQ0YsRUFDQSxFQUFlLFVBRWQsR0FDSCxPQUNFLEdBQ0UsRUFDQSxFQUNBLEVBQWUsYUFBYSxTQUM1QixDQUNGLEVBQ0EsRUFBZSxVQUVkLElBQ0gsT0FDRyxFQUFlLE9BQVMsRUFDeEIsRUFBZSxPQUFTLEtBQ3hCLEVBQWMsRUFBZSxVQUM3QixFQUFZLGVBQWlCLEdBQzdCLEVBQVksc0JBQXdCLEdBQ3JDLEdBQ0UsRUFDQSxFQUNBLEVBQWUsYUFBYSxTQUM1QixDQUNGLEVBQ0EsRUFBZSxVQUVkLElBQ0gsT0FDRyxFQUFjLEVBQWUsS0FDN0IsRUFBYyxFQUFlLGFBQzdCLEVBQVksRUFBWSxNQUN6QixVQUFXLEdBQ1QsS0FDRSxHQUFrRCxHQUNwRCxRQUFRLE1BQ04sc0dBQ0YsR0FDRixHQUFhLEVBQWdCLEVBQWEsQ0FBUyxFQUNuRCxHQUNFLEVBQ0EsRUFDQSxFQUFZLFNBQ1osQ0FDRixFQUNBLEVBQWUsVUFFZCxHQUNILE9BQ0csRUFBYyxFQUFlLEtBQUssU0FDbEMsRUFBYyxFQUFlLGFBQWEsZ0JBQ3JCLElBQXRCLFlBQ0UsUUFBUSxNQUNOLHFQQUNGLEVBQ0YsR0FBcUIsQ0FBYyxFQUNsQyxFQUFjLEdBQVksQ0FBVyxFQUN0QyxFQUEyQixDQUFjLEVBQ3hDLEVBQWMsR0FDYixFQUNBLEVBQ0ssTUFDUCxFQUNBLEdBQTJCLEVBQzFCLEVBQWUsT0FBUyxFQUN6QixHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUFlLFVBRWQsSUFDSCxPQUFPLEdBQ0wsRUFDQSxFQUNBLEVBQWUsS0FDZixFQUFlLGFBQ2YsQ0FDRixNQUNHLElBQ0gsT0FBTyxHQUNMLEVBQ0EsRUFDQSxFQUFlLEtBQ2YsRUFBZSxhQUNmLENBQ0YsTUFDRyxJQUNILE9BQU8sR0FDTCxFQUNBLEVBQ0EsQ0FDRixNQUNHLElBQ0gsT0FBTyxHQUF5QixFQUFTLEVBQWdCLENBQVcsTUFDakUsSUFDSCxPQUNFLEdBQXFCLENBQWMsRUFDbEMsRUFBYyxHQUFZLEVBQVksRUFDOUIsSUFBVCxNQUNNLEVBQWMsR0FBa0IsRUFDekIsSUFBVCxPQUNJLEVBQWMsR0FDZixFQUFZLEdBQVksRUFDeEIsRUFBWSxZQUFjLEVBQzNCLEdBQVksQ0FBUyxFQUNaLElBQVQsT0FDRyxFQUFZLGtCQUFvQixHQUNsQyxFQUFjLEdBQ2hCLEVBQWUsY0FBZ0IsQ0FDOUIsT0FBUSxFQUNSLE1BQU8sQ0FDVCxFQUNBLEdBQXNCLENBQWMsRUFDcEMsR0FBYSxFQUFnQixHQUFjLENBQVcsS0FDOUMsRUFBUSxNQUFRLEtBQXZCLElBQ0UsR0FBaUIsRUFBUyxDQUFjLEVBQ3pDLEdBQW1CLEVBQWdCLEtBQU0sS0FBTSxDQUFXLEVBQzFELEdBQTRDLEdBQzdDLEVBQWMsRUFBUSxjQUN0QixFQUFZLEVBQWUsY0FDNUIsRUFBWSxTQUFXLEdBQ2pCLEVBQWMsQ0FDZCxPQUFRLEVBQ1IsTUFBTyxDQUNULEVBQ0MsRUFBZSxjQUFnQixFQUMxQixFQUFlLFFBQXJCLElBQ0csRUFBZSxjQUNkLEVBQWUsWUFBWSxVQUN6QixHQUNOLEdBQWEsRUFBZ0IsR0FBYyxDQUFXLElBQ3BELEVBQWMsRUFBVSxNQUMxQixHQUFhLEVBQWdCLEdBQWMsQ0FBVyxFQUN0RCxJQUFnQixFQUFZLE9BQzFCLEdBQ0UsRUFDQSxDQUFDLEVBQVksRUFDYixFQUNBLEVBQ0YsSUFDVixHQUNFLEVBQ0EsRUFDQSxFQUFlLGFBQWEsU0FDNUIsQ0FDRixFQUNBLEVBQWUsVUFFZCxJQUNILE1BQU0sRUFBZSxhQUV6QixNQUFNLE1BQ0osNkJBQ0UsRUFBZSxJQUNmLHlFQUNKLEVBRUYsU0FBUyxFQUF3QixFQUFHLENBQ2xDLEdBQXdCLEdBQTBCLEtBQ2xELEdBQStCLEdBRWpDLFNBQVMsRUFBWSxDQUFDLEVBQWUsRUFBUyxFQUFXLENBQ3ZELEdBQUssR0FBYSxFQUFRLGNBQWUsQ0FBYSxFQUN0RCxFQUFRLGNBQWdCLEVBQ3hCLEdBQUssR0FBbUIsRUFBUSxpQkFBa0IsQ0FBYSxFQUNwRCxFQUFRLG1CQUFkLFFBQ00sRUFBUSxtQkFBakIsTUFDQSxFQUFRLG1CQUFxQixJQUM3QixRQUFRLE1BQ04sOEdBQ0YsRUFDRixFQUFRLGlCQUFtQixHQUU3QixTQUFTLEVBQVcsQ0FBQyxFQUFTLEVBQWUsQ0FDM0MsRUFBUSxjQUFnQixHQUFZLFFBQ3BDLElBQUksRUFBa0IsR0FBa0IsUUFDeEMsR0FBSSxHQUFtQixDQUFhLEVBQ3BDLEVBQVEsaUJBQW1CLEVBQzNCLEdBQUksR0FBYSxDQUFhLEVBRWhDLFNBQVMsRUFBK0IsQ0FDdEMsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxLQUFnQixJQUFULE1BQW1CLENBQ3hCLElBQUksRUFBWSxFQUFPLFVBT3ZCLElBTkMsRUFBTyxXQUFhLEtBQWlCLEdBQ2hDLEVBQU8sWUFBYyxFQUNkLElBQVQsT0FBdUIsRUFBVSxZQUFjLElBQ3RDLElBQVQsT0FDQyxFQUFVLFdBQWEsS0FBaUIsSUFDeEMsRUFBVSxZQUFjLEdBQ3pCLElBQVcsRUFBaUIsTUFDaEMsRUFBUyxFQUFPLE9BRWxCLElBQVcsR0FDVCxRQUFRLE1BQ04sMElBQ0YsRUFFSixTQUFTLEVBQXVCLENBQzlCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQVEsRUFBZSxNQUMzQixBQUFTLElBQVQsT0FBbUIsRUFBTSxPQUFTLEdBQ2xDLEtBQWdCLElBQVQsTUFBa0IsQ0FDdkIsSUFBSSxFQUFPLEVBQU0sYUFDakIsR0FBYSxJQUFULEtBQWUsQ0FDakIsSUFBSSxFQUFZLEVBQU0sTUFDdEIsRUFBTyxFQUFLLGFBQ1osRUFBRyxLQUFnQixJQUFULE1BQWlCLENBQ3pCLElBQUksRUFBYSxFQUNqQixFQUFPLEVBQ1AsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFTLE9BQVEsSUFDbkMsR0FBSSxFQUFXLFVBQVksRUFBUyxHQUFJLENBQ3RDLEVBQUssT0FBUyxFQUNkLEVBQWEsRUFBSyxVQUNULElBQVQsT0FBd0IsRUFBVyxPQUFTLEdBQzVDLEdBQ0UsRUFBSyxPQUNMLEVBQ0EsQ0FDRixFQUNBLElBQTZCLEVBQVksTUFDekMsUUFFSixFQUFPLEVBQVcsY0FFSixFQUFNLE1BQWIsR0FBa0IsQ0FFM0IsR0FEQSxFQUFZLEVBQU0sT0FDTCxJQUFULEtBQ0YsTUFBTSxNQUNKLGtGQUNGLEVBQ0YsRUFBVSxPQUFTLEVBQ25CLEVBQU8sRUFBVSxVQUNSLElBQVQsT0FBa0IsRUFBSyxPQUFTLEdBQ2hDLEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUFZLFNBQ1AsR0FBWSxFQUFNLE1BQ3pCLEdBQWEsSUFBVCxLQUFvQixFQUFVLE9BQVMsTUFFekMsS0FBSyxFQUFZLEVBQWdCLElBQVQsTUFBc0IsQ0FDNUMsR0FBSSxJQUFjLEVBQWdCLENBQ2hDLEVBQVksS0FDWixNQUdGLEdBREEsRUFBUSxFQUFVLFFBQ0wsSUFBVCxLQUFnQixDQUNsQixFQUFNLE9BQVMsRUFBVSxPQUN6QixFQUFZLEVBQ1osTUFFRixFQUFZLEVBQVUsT0FFMUIsRUFBUSxHQUdaLFNBQVMsRUFBNkIsQ0FDcEMsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLEVBQVUsS0FDVixRQUNNLEVBQVMsRUFBZ0IsRUFBNkIsR0FDakQsSUFBVCxNQUVBLENBQ0EsSUFBSyxHQUNILElBQVcsRUFBTyxNQUFRLFVBQXRCLEVBQStCLEVBQTZCLFlBQ2hELEVBQU8sTUFBUSxVQUF0QixFQUErQixNQUMxQyxHQUFXLEVBQU8sTUFBZCxHQUFtQixDQUNyQixJQUFJLEVBQWdCLEVBQU8sVUFDM0IsR0FBYSxJQUFULEtBQ0YsTUFBTSxNQUFNLHNEQUFzRCxFQUVwRSxHQURBLEVBQWdCLEVBQWMsY0FDakIsSUFBVCxLQUF3QixDQUMxQixJQUFJLEVBQVUsRUFBTyxLQUNyQixHQUFTLEVBQU8sYUFBYSxNQUFPLEVBQWMsS0FBSyxJQUMzQyxJQUFULEtBQ0csRUFBUSxLQUFLLENBQU8sRUFDbkIsRUFBVSxDQUFDLENBQU8sWUFFbEIsSUFBVyxHQUE2QixRQUFTLENBRTFELEdBREEsRUFBZ0IsRUFBTyxVQUNWLElBQVQsS0FDRixNQUFNLE1BQU0sc0RBQXNELEVBQ3BFLEVBQWMsY0FBYyxnQkFDMUIsRUFBTyxjQUFjLGdCQUNYLElBQVQsS0FDRyxFQUFRLEtBQUssRUFBcUIsRUFDakMsRUFBVSxDQUFDLEVBQXFCLEdBRXpDLEVBQVMsRUFBTyxPQUVsQixBQUFTLElBQVQsTUFDRSxHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDRixFQUFlLE9BQVMsT0FFMUIsU0FBUyxFQUFxQixDQUFDLEVBQXFCLENBQ2xELElBQ0UsRUFBc0IsRUFBb0IsYUFDakMsSUFBVCxNQUVBLENBQ0EsSUFDRyxHQUNDLEVBQW9CLFFBQVEsY0FDNUIsRUFBb0IsYUFDdEIsRUFFQSxNQUFPLEdBQ1QsRUFBc0IsRUFBb0IsS0FFNUMsTUFBTyxHQUVULFNBQVMsRUFBb0IsQ0FBQyxFQUFnQixDQUM1QyxHQUEwQixFQUMxQixHQUF3QixLQUN4QixFQUFpQixFQUFlLGFBQ3ZCLElBQVQsT0FBNEIsRUFBZSxhQUFlLE1BRTVELFNBQVMsRUFBVyxDQUFDLEVBQVMsQ0FLNUIsT0FKQSxJQUNFLFFBQVEsTUFDTiw4UEFDRixFQUNLLEdBQXVCLEdBQXlCLENBQU8sRUFFaEUsU0FBUyxFQUErQixDQUFDLEVBQVUsRUFBUyxDQUUxRCxPQURTLEtBQVQsTUFBb0MsR0FBcUIsQ0FBUSxFQUMxRCxHQUF1QixFQUFVLENBQU8sRUFFakQsU0FBUyxFQUFzQixDQUFDLEVBQVUsRUFBUyxDQUNqRCxJQUFJLEVBQVEsRUFBUSxjQUVwQixHQURBLEVBQVUsQ0FBRSxRQUFTLEVBQVMsY0FBZSxFQUFPLEtBQU0sSUFBSyxFQUNsRCxLQUFULEtBQWdDLENBQ2xDLEdBQWEsSUFBVCxLQUNGLE1BQU0sTUFDSiw4UEFDRixFQUNGLEdBQXdCLEVBQ3hCLEVBQVMsYUFBZSxDQUN0QixNQUFPLEVBQ1AsYUFBYyxFQUNkLG9CQUFxQixJQUN2QixFQUNBLEVBQVMsT0FBUyxXQUNiLElBQXdCLEdBQXNCLEtBQU8sRUFDNUQsT0FBTyxFQUVULFNBQVMsRUFBcUIsQ0FBQyxFQUFPLENBQ3BDLEVBQU0sWUFBYyxDQUNsQixVQUFXLEVBQU0sY0FDakIsZ0JBQWlCLEtBQ2pCLGVBQWdCLEtBQ2hCLE9BQVEsQ0FBRSxRQUFTLEtBQU0sTUFBTyxFQUFHLGdCQUFpQixJQUFLLEVBQ3pELFVBQVcsSUFDYixFQUVGLFNBQVMsRUFBZ0IsQ0FBQyxFQUFTLEVBQWdCLENBQ2pELEVBQVUsRUFBUSxZQUNsQixFQUFlLGNBQWdCLElBQzVCLEVBQWUsWUFBYyxDQUM1QixVQUFXLEVBQVEsVUFDbkIsZ0JBQWlCLEVBQVEsZ0JBQ3pCLGVBQWdCLEVBQVEsZUFDeEIsT0FBUSxFQUFRLE9BQ2hCLFVBQVcsSUFDYixHQUVKLFNBQVMsRUFBWSxDQUFDLEVBQU0sQ0FDMUIsTUFBTyxDQUNMLEtBQU0sRUFDTixJQUFLLEdBQ0wsUUFBUyxLQUNULFNBQVUsS0FDVixLQUFNLElBQ1IsRUFFRixTQUFTLEVBQWEsQ0FBQyxFQUFPLEVBQVEsRUFBTSxDQUMxQyxJQUFJLEVBQWMsRUFBTSxZQUN4QixHQUFhLElBQVQsS0FBc0IsT0FBTyxLQUVqQyxHQURBLEVBQWMsRUFBWSxPQUV4QixLQUE2QixJQUM1QixHQUNELENBQ0EsSUFBSSxFQUFnQixFQUEwQixDQUFLLEVBQ25ELFFBQVEsTUFDTjtBQUFBO0FBQUEsMkNBQ0EsQ0FDRixFQUNBLEdBQTRCLEdBRTlCLElBQUssR0FBbUIsTUFBbUIsR0FDekMsT0FDRyxFQUFnQixFQUFZLFFBQ3BCLElBQVQsS0FDSyxFQUFPLEtBQU8sR0FDYixFQUFPLEtBQU8sRUFBYyxLQUM3QixFQUFjLEtBQU8sR0FDekIsRUFBWSxRQUFVLEVBQ3RCLEVBQVMsR0FBdUIsQ0FBSyxFQUN0QyxHQUE4QixFQUFPLEtBQU0sQ0FBSSxFQUMvQyxFQUdKLE9BREEsR0FBZ0IsRUFBTyxFQUFhLEVBQVEsQ0FBSSxFQUN6QyxHQUF1QixDQUFLLEVBRXJDLFNBQVMsRUFBbUIsQ0FBQyxFQUFNLEVBQU8sRUFBTSxDQUU5QyxHQURBLEVBQVEsRUFBTSxZQUNELElBQVQsT0FBb0IsRUFBUSxFQUFNLFFBQWdCLEVBQU8sV0FBZCxHQUF5QixDQUN0RSxJQUFJLEVBQWEsRUFBTSxNQUN2QixHQUFjLEVBQUssYUFDbkIsR0FBUSxFQUNSLEVBQU0sTUFBUSxFQUNkLEdBQWtCLEVBQU0sQ0FBSSxHQUdoQyxTQUFTLEVBQXFCLENBQUMsRUFBZ0IsRUFBZ0IsQ0FDN0QsSUFBMkIsWUFBdkIsRUFDdUIsVUFBekIsR0FBVSxFQUNaLEdBQ1csSUFBVCxPQUNFLEVBQVUsRUFBUSxZQUFjLElBQVUsR0FDNUMsQ0FDQSxJQUFJLEVBQVcsS0FDYixFQUFVLEtBRVosR0FEQSxFQUFRLEVBQU0sZ0JBQ0QsSUFBVCxLQUFnQixDQUNsQixFQUFHLENBQ0QsSUFBSSxFQUFRLENBQ1YsS0FBTSxFQUFNLEtBQ1osSUFBSyxFQUFNLElBQ1gsUUFBUyxFQUFNLFFBQ2YsU0FBVSxLQUNWLEtBQU0sSUFDUixFQUNBLEFBQVMsSUFBVCxLQUNLLEVBQVcsRUFBVSxFQUNyQixFQUFVLEVBQVEsS0FBTyxFQUM5QixFQUFRLEVBQU0sV0FDRSxJQUFULE1BQ1QsQUFBUyxJQUFULEtBQ0ssRUFBVyxFQUFVLEVBQ3JCLEVBQVUsRUFBUSxLQUFPLE1BQ3pCLEdBQVcsRUFBVSxFQUM1QixFQUFRLENBQ04sVUFBVyxFQUFRLFVBQ25CLGdCQUFpQixFQUNqQixlQUFnQixFQUNoQixPQUFRLEVBQVEsT0FDaEIsVUFBVyxFQUFRLFNBQ3JCLEVBQ0EsRUFBZSxZQUFjLEVBQzdCLE9BRUYsRUFBaUIsRUFBTSxlQUNkLElBQVQsS0FDSyxFQUFNLGdCQUFrQixFQUN4QixFQUFlLEtBQU8sRUFDM0IsRUFBTSxlQUFpQixFQUV6QixTQUFTLEVBQTJDLEVBQUcsQ0FDckQsR0FBSSxHQUFpQyxDQUNuQyxJQUFJLEVBQTBCLEdBQzlCLEdBQWEsSUFBVCxLQUFrQyxNQUFNLEdBR2hELFNBQVMsRUFBa0IsQ0FDekIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLEdBQWtDLEdBQ2xDLElBQUksRUFBUSxFQUFlLFlBQzNCLEdBQWlCLEdBQ2pCLEdBQTJCLEVBQU0sT0FDakMsSUFBNEIsZ0JBQXhCLEVBQ3FCLGVBQXZCLEdBQWlCLEVBQ2pCLEVBQWUsRUFBTSxPQUFPLFFBQzlCLEdBQWEsSUFBVCxLQUF1QixDQUN6QixFQUFNLE9BQU8sUUFBVSxLQUN2QixJQUFJLEVBQW9CLEVBQ3RCLEVBQXFCLEVBQWtCLEtBQ3pDLEVBQWtCLEtBQU8sS0FDaEIsSUFBVCxLQUNLLEVBQWtCLEVBQ2xCLEVBQWUsS0FBTyxFQUMzQixFQUFpQixFQUNqQixJQUFJLEVBQVUsRUFBZSxVQUM3QixBQUFTLElBQVQsT0FDSSxFQUFVLEVBQVEsWUFDbkIsRUFBZSxFQUFRLGVBQ3hCLElBQWlCLElBQ0wsSUFBVCxLQUNJLEVBQVEsZ0JBQWtCLEVBQzFCLEVBQWEsS0FBTyxFQUN4QixFQUFRLGVBQWlCLElBRWhDLEdBQWEsSUFBVCxLQUEwQixDQUM1QixJQUFJLEVBQVcsRUFBTSxVQUNyQixFQUFpQixFQUNqQixFQUFVLEVBQXFCLEVBQW9CLEtBQ25ELEVBQWUsRUFDZixFQUFHLENBQ0QsSUFBSSxFQUFhLEVBQWEsS0FBTyxXQUNuQyxFQUFpQixJQUFlLEVBQWEsS0FDL0MsR0FDRSxHQUNLLEdBQWdDLEtBQWdCLEdBQ2hELEVBQWMsS0FBZ0IsRUFDbkMsQ0FDQSxBQUFNLElBQU4sR0FDRSxJQUFlLEtBQ2QsR0FBa0MsSUFDNUIsSUFBVCxPQUNHLEVBQVUsRUFBUSxLQUNqQixDQUNFLEtBQU0sRUFDTixJQUFLLEVBQWEsSUFDbEIsUUFBUyxFQUFhLFFBQ3RCLFNBQVUsS0FDVixLQUFNLElBQ1IsR0FDSixFQUFHLENBQ0QsRUFBYSxFQUNiLElBQUksR0FBZSxFQUNmLEdBQVksRUFDZCxHQUFXLEVBQ2IsT0FBUSxHQUFhLFVBQ2QsR0FFSCxHQURBLEdBQWUsR0FBYSxlQUNGLEtBQXRCLFdBQW9DLENBQ3RDLEdBQStCLEdBQy9CLElBQUksR0FBWSxHQUFhLEtBQzNCLEdBQ0EsRUFDQSxFQUNGLEVBQ0EsR0FBSSxFQUFXLEtBQU8sR0FBa0IsQ0FDdEMsR0FBMkIsRUFBRSxFQUM3QixHQUFJLENBQ0YsR0FBYSxLQUFLLEdBQVUsRUFBVSxFQUFTLFNBQy9DLENBQ0EsR0FBMkIsRUFBRSxHQUdqQyxHQUErQixHQUMvQixFQUFXLEdBQ1gsUUFFRixFQUFXLEdBQ1gsYUFDRyxHQUNILEVBQVcsTUFBUyxFQUFXLE1BQVEsT0FBVSxTQUM5QyxHQUVILEdBREEsR0FBWSxHQUFhLGVBQ0MsS0FBdEIsV0FBaUMsQ0FPbkMsR0FOQSxHQUErQixHQUMvQixHQUFlLEdBQVUsS0FDdkIsR0FDQSxFQUNBLEVBQ0YsRUFDSSxFQUFXLEtBQU8sR0FBa0IsQ0FDdEMsR0FBMkIsRUFBRSxFQUM3QixHQUFJLENBQ0YsR0FBVSxLQUFLLEdBQVUsRUFBVSxFQUFTLFNBQzVDLENBQ0EsR0FBMkIsRUFBRSxHQUdqQyxHQUErQixPQUMxQixJQUFlLEdBQ3RCLEdBQWEsS0FBVCxNQUFvQyxLQUFOLE9BQW9CLFFBQ3RELEVBQVcsR0FBTyxDQUFDLEVBQUcsRUFBVSxFQUFZLEVBQzVDLGFBQ0csR0FDSCxHQUFpQixJQUd2QixFQUFhLEVBQWEsU0FDakIsSUFBVCxPQUNJLEVBQWUsT0FBUyxHQUMxQixJQUFtQixFQUFlLE9BQVMsTUFDMUMsRUFBaUIsRUFBTSxVQUNmLElBQVQsS0FDSyxFQUFNLFVBQVksQ0FBQyxDQUFVLEVBQzlCLEVBQWUsS0FBSyxDQUFVLE9BRXBDLENBQUMsRUFBaUIsQ0FDaEIsS0FBTSxFQUNOLElBQUssRUFBYSxJQUNsQixRQUFTLEVBQWEsUUFDdEIsU0FBVSxFQUFhLFNBQ3ZCLEtBQU0sSUFDUixFQUNXLElBQVQsTUFDTSxFQUFxQixFQUFVLEVBQ2hDLEVBQW9CLEdBQ3BCLEVBQVUsRUFBUSxLQUFPLEVBQzdCLEdBQWtCLEVBRXZCLEdBREEsRUFBZSxFQUFhLEtBQ2YsSUFBVCxLQUNGLEdBQU0sRUFBZSxFQUFNLE9BQU8sUUFBbUIsSUFBVCxLQUMxQyxVQUVBLENBQUMsRUFBaUIsRUFDZixFQUFlLEVBQWUsS0FDOUIsRUFBZSxLQUFPLEtBQ3RCLEVBQU0sZUFBaUIsRUFDdkIsRUFBTSxPQUFPLFFBQVUsV0FDdkIsR0FDVCxBQUFTLElBQVQsT0FBcUIsRUFBb0IsR0FDekMsRUFBTSxVQUFZLEVBQ2xCLEVBQU0sZ0JBQWtCLEVBQ3hCLEVBQU0sZUFBaUIsRUFDZCxJQUFULE9BQTZCLEVBQU0sT0FBTyxNQUFRLEdBQ2xELElBQWtDLEVBQ2xDLEVBQWUsTUFBUSxFQUN2QixFQUFlLGNBQWdCLEVBRWpDLEdBQTJCLEtBRTdCLFNBQVMsRUFBWSxDQUFDLEVBQVUsRUFBUyxDQUN2QyxVQUEwQixJQUF0QixXQUNGLE1BQU0sTUFDSiwrRUFDRSxDQUNKLEVBQ0YsRUFBUyxLQUFLLENBQU8sRUFFdkIsU0FBUyxFQUFxQixDQUFDLEVBQWEsRUFBUyxDQUNuRCxJQUFJLEVBQWtCLEVBQVksT0FBTyxnQkFDekMsR0FBYSxJQUFULEtBQ0YsSUFDRSxFQUFZLE9BQU8sZ0JBQWtCLEtBQU0sRUFBYyxFQUN6RCxFQUFjLEVBQWdCLE9BQzlCLElBRUEsR0FBYSxFQUFnQixHQUFjLENBQU8sRUFFeEQsU0FBUyxFQUFlLENBQUMsRUFBYSxFQUFTLENBQzdDLElBQUksRUFBWSxFQUFZLFVBQzVCLEdBQWEsSUFBVCxLQUNGLElBQ0UsRUFBWSxVQUFZLEtBQU0sRUFBYyxFQUM1QyxFQUFjLEVBQVUsT0FDeEIsSUFFQSxHQUFhLEVBQVUsR0FBYyxDQUFPLEVBRWxELFNBQVMsRUFBYSxDQUFDLEVBQVMsQ0FDOUIsT0FBUSxFQUFRLEtBQU8sTUFBaUIsR0FFMUMsU0FBUyxFQUF1QixDQUFDLEVBQWMsRUFBVyxDQUN4RCxHQUFjLENBQVksR0FDckIsR0FBaUIsRUFDbEIsR0FBMEIsRUFBVyxDQUFZLEVBQ2pELEdBQXFCLEdBQ3JCLEdBQTBCLEVBQVcsQ0FBWSxFQUV2RCxTQUFTLEVBQThCLENBQ3JDLEVBQ0EsRUFDQSxFQUNBLENBQ0EsR0FBYyxDQUFZLEdBQ3JCLEdBQWlCLEVBQ2xCLEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxHQUFxQixHQUNyQixHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBRU4sU0FBUyxFQUF5QixDQUFDLEVBQU8sRUFBYyxDQUN0RCxHQUFJLENBQ0YsSUFBSSxFQUFjLEVBQWEsWUFDN0IsRUFBc0IsSUFBVCxLQUF1QixFQUFZLFdBQWEsS0FDL0QsR0FBYSxJQUFULEtBQXFCLENBQ3ZCLElBQUksRUFBYyxFQUFXLEtBQzdCLEVBQWMsRUFDZCxFQUFHLENBQ0QsSUFDRyxFQUFZLElBQU0sS0FBVyxLQUM1QixFQUFRLE1BQWEsR0FDVixJQUFULGFBRVMsRUFBdUIseUNBRGhDLFlBRUEsRUFBdUIsdUNBQ3JCLENBQ0YsR0FDQyxFQUFRLE1BQVksSUFDWixJQUFULGFBRVMsRUFBdUIsd0NBRGhDLFlBRUEsRUFBdUIsc0NBQ3JCLENBQ0YsRUFDSCxFQUFrQixRQUNsQixFQUFRLE1BQWUsS0FDckIsR0FBMkIsSUFDN0IsRUFBYSxHQUNaLEVBQ0EsR0FDQSxDQUNGLEdBQ0MsRUFBUSxNQUFlLEtBQ3JCLEdBQTJCLEtBQzdCLEVBQVEsTUFBYSxHQUNULElBQVQsYUFFUyxFQUF1Qix5Q0FEaEMsWUFFQSxFQUF1Qix1Q0FBdUMsR0FDN0QsRUFBUSxNQUFZLElBQ1osSUFBVCxhQUVTLEVBQXVCLHdDQURoQyxZQUVBLEVBQXVCLHNDQUFzQyxFQUN0RCxJQUFOLGVBQTBDLElBQXRCLFlBQ3pCLENBQ0EsSUFBSSxFQUFnQixPQUNwQixHQUNTLEVBQVksSUFBTSxNQUF6QixFQUNJLG1CQUNPLEVBQVksSUFBTSxNQUF6QixFQUNFLHFCQUNBLFlBQ1IsSUFBSSxFQUFnQixPQUNwQixFQUNXLElBQVQsS0FDSSxzR0FDc0IsRUFBVyxPQUFqQyxXQUNFO0FBQUE7QUFBQSwwQkFDQSxFQUNBO0FBQUE7QUFBQSxFQUNBLEVBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsdUZBQ0Esa0JBQW9CLEVBQzVCLEdBQ0UsVUFDUyxDQUFDLEVBQUcsRUFBRyxDQUNkLFFBQVEsTUFDTixnRkFDQSxFQUNBLENBQ0YsR0FFRixFQUNBLENBQ0YsRUFFRixFQUFjLEVBQVksV0FDbkIsSUFBZ0IsVUFFcEIsRUFBUCxDQUNBLEdBQXdCLEVBQWMsRUFBYSxPQUFRLENBQUssR0FHcEUsU0FBUyxFQUEyQixDQUNsQyxFQUNBLEVBQ0EsRUFDQSxDQUNBLEdBQUksQ0FDRixJQUFJLEVBQWMsRUFBYSxZQUM3QixFQUFzQixJQUFULEtBQXVCLEVBQVksV0FBYSxLQUMvRCxHQUFhLElBQVQsS0FBcUIsQ0FDdkIsSUFBSSxFQUFjLEVBQVcsS0FDN0IsRUFBYyxFQUNkLEVBQUcsQ0FDRCxJQUFLLEVBQVksSUFBTSxLQUFXLEVBQU8sQ0FDdkMsSUFBSSxFQUFPLEVBQVksS0FDckIsRUFBVSxFQUFLLFFBQ2pCLEFBQVcsSUFBTixTQUNELEVBQUssUUFBZSxRQUNyQixFQUFRLE1BQWEsR0FDVCxJQUFULGFBRVMsRUFBdUIsMkNBRGhDLFlBRUEsRUFBdUIseUNBQ3JCLENBQ0YsR0FDQyxFQUFRLE1BQVksSUFDWixJQUFULGFBRVMsRUFBdUIsMENBRGhDLFlBRUEsRUFBdUIsd0NBQ3JCLENBQ0YsR0FDSCxFQUFRLE1BQWUsS0FDckIsR0FBMkIsSUFDOUIsR0FDRSxFQUNBLEdBQ0EsRUFDQSxFQUNBLENBQ0YsR0FDQyxFQUFRLE1BQWUsS0FDckIsR0FBMkIsS0FDN0IsRUFBUSxNQUFhLEdBQ1QsSUFBVCxhQUVTLEVBQXVCLDJDQURoQyxZQUVBLEVBQXVCLHlDQUF5QyxHQUMvRCxFQUFRLE1BQVksSUFDWixJQUFULGFBRVMsRUFBdUIsMENBRGhDLFlBRUEsRUFBdUIsd0NBQXdDLEdBRXZFLEVBQWMsRUFBWSxXQUNuQixJQUFnQixVQUVwQixFQUFQLENBQ0EsR0FBd0IsRUFBYyxFQUFhLE9BQVEsQ0FBSyxHQUdwRSxTQUFTLEVBQTZCLENBQUMsRUFBYyxFQUFXLENBQzlELEdBQWMsQ0FBWSxHQUNyQixHQUFpQixFQUNsQixHQUEwQixFQUFXLENBQVksRUFDakQsR0FBcUIsR0FDckIsR0FBMEIsRUFBVyxDQUFZLEVBRXZELFNBQVMsRUFBK0IsQ0FDdEMsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUFjLENBQVksR0FDckIsR0FBaUIsRUFDbEIsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEdBQXFCLEdBQ3JCLEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFFTixTQUFTLEVBQW9CLENBQUMsRUFBYyxDQUMxQyxJQUFJLEVBQWMsRUFBYSxZQUMvQixHQUFhLElBQVQsS0FBc0IsQ0FDeEIsSUFBSSxFQUFXLEVBQWEsVUFDNUIsRUFBYSxLQUFLLGNBQ2hCLFFBQVMsRUFBYSxlQUN0QixLQUNDLEVBQVMsUUFBVSxFQUFhLGVBQy9CLFFBQVEsTUFDTiw2TUFDQSxFQUEwQixDQUFZLEdBQUssVUFDN0MsRUFDRixFQUFTLFFBQVUsRUFBYSxlQUM5QixRQUFRLE1BQ04sNk1BQ0EsRUFBMEIsQ0FBWSxHQUFLLFVBQzdDLEdBQ0osR0FBSSxDQUNGLEdBQ0UsRUFDQSxHQUNBLEVBQ0EsQ0FDRixRQUNPLEVBQVAsQ0FDQSxHQUF3QixFQUFjLEVBQWEsT0FBUSxDQUFLLElBSXRFLFNBQVMsRUFBNEIsQ0FBQyxFQUFVLEVBQVcsRUFBVyxDQUNwRSxPQUFPLEVBQVMsd0JBQXdCLEVBQVcsQ0FBUyxFQUU5RCxTQUFTLEVBQW1CLENBQUMsRUFBYyxFQUFTLENBQ2xELElBQXdCLGNBQXBCLEVBQ2tCLGNBQXBCLEdBQVksRUFDZCxFQUFVLEVBQWEsVUFDdkIsRUFBYSxLQUFLLGNBQ2hCLFFBQVMsRUFBYSxlQUN0QixLQUNDLEVBQVEsUUFBVSxFQUFhLGVBQzlCLFFBQVEsTUFDTix5TUFDQSxFQUEwQixDQUFZLEdBQUssVUFDN0MsRUFDRixFQUFRLFFBQVUsRUFBYSxlQUM3QixRQUFRLE1BQ04seU1BQ0EsRUFBMEIsQ0FBWSxHQUFLLFVBQzdDLEdBQ0osR0FBSSxDQUNGLElBQUksRUFBb0IsR0FDdEIsRUFBYSxLQUNiLEVBQ0EsRUFBYSxjQUFnQixFQUFhLElBQzVDLEVBQ0ksRUFBVyxHQUNiLEVBQ0EsR0FDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEVBQVksR0FDRCxJQUFOLFFBQ0gsRUFBVSxJQUFJLEVBQWEsSUFBSSxJQUM5QixFQUFVLElBQUksRUFBYSxJQUFJLEVBQ2hDLEdBQWtCLFVBQXVCLEVBQUcsQ0FDMUMsUUFBUSxNQUNOLDBHQUNBLEVBQTBCLENBQVksQ0FDeEMsRUFDRCxHQUNILEVBQVEsb0NBQXNDLFFBQ3ZDLEVBQVAsQ0FDQSxHQUF3QixFQUFjLEVBQWEsT0FBUSxDQUFLLEdBR3BFLFNBQVMsRUFBOEIsQ0FDckMsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxFQUFTLE1BQVEsR0FDZixFQUFRLEtBQ1IsRUFBUSxhQUNWLEVBQ0EsRUFBUyxNQUFRLEVBQVEsY0FDekIsR0FBYyxDQUFPLEdBQ2hCLEdBQWlCLEVBQ2xCLEdBQ0UsRUFDQSxHQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FBcUIsR0FDckIsR0FDRSxFQUNBLEdBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFTixTQUFTLEVBQWUsQ0FBQyxFQUFjLENBQ3JDLElBQUksRUFBTSxFQUFhLElBQ3ZCLEdBQWEsSUFBVCxLQUFjLENBQ2hCLElBQUksRUFBVyxFQUFhLFVBQzVCLFVBQTBCLElBQXRCLFdBQ0YsR0FBSSxHQUFjLENBQVksRUFDNUIsR0FBSSxDQUNGLEdBQWlCLEVBQUksRUFBYSxXQUFhLEVBQUksQ0FBUSxTQUMzRCxDQUNBLEdBQXFCLE1BRXBCLEdBQWEsV0FBYSxFQUFJLENBQVEsTUFFM0MsUUFBb0IsSUFBcEIsU0FDSSxRQUFRLE1BQU0sc0NBQXNDLEVBQ3BELEVBQUksZUFBZSxTQUFTLEdBQzVCLFFBQVEsTUFDTixnR0FDQSxFQUEwQixDQUFZLENBQ3hDLEVBQ0QsRUFBSSxRQUFVLEdBR3ZCLFNBQVMsRUFBZSxDQUFDLEVBQVMsRUFBd0IsQ0FDeEQsR0FBSSxDQUNGLEdBQWtCLEVBQVMsR0FBaUIsQ0FBTyxRQUM1QyxFQUFQLENBQ0EsR0FBd0IsRUFBUyxFQUF3QixDQUFLLEdBR2xFLFNBQVMsRUFBZSxDQUFDLEVBQVMsRUFBd0IsQ0FDeEQsSUFBa0IsSUFBZCxFQUNtQixXQUFyQixHQUFhLEVBQ2YsR0FBYSxJQUFULEtBQ0YsVUFBMEIsSUFBdEIsV0FDRixHQUFJLENBQ0YsR0FBSSxHQUFjLENBQU8sRUFDdkIsR0FBSSxDQUNGLEdBQWlCLEVBQUcsR0FBa0IsRUFBUyxDQUFVLFNBQ3pELENBQ0EsR0FBcUIsQ0FBTyxNQUUzQixJQUFrQixFQUFTLENBQVUsUUFDbkMsRUFBUCxDQUNBLEdBQXdCLEVBQVMsRUFBd0IsQ0FBSyxTQUM5RCxDQUNBLEFBQUMsRUFBUSxXQUFhLEtBQ25CLEVBQVUsRUFBUSxVQUNYLEdBQVIsT0FBb0IsRUFBUSxXQUFhLHFCQUVoQixJQUF0QixXQUNQLEdBQUksQ0FDRixHQUFJLEdBQWMsQ0FBTyxFQUN2QixHQUFJLENBQ0YsR0FBaUIsRUFBRyxHQUFrQixFQUFTLEVBQUssSUFBSSxTQUN4RCxDQUNBLEdBQXFCLENBQU8sTUFFM0IsSUFBa0IsRUFBUyxFQUFLLElBQUksUUFDbEMsRUFBUCxDQUNBLEdBQXdCLEVBQVMsRUFBd0IsQ0FBTyxNQUUvRCxHQUFJLFFBQVUsS0FFdkIsU0FBUyxFQUFjLENBQ3JCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQXdCLEVBQWEsY0FDdkMsRUFBSyxFQUFzQixHQUMzQixFQUFXLEVBQXNCLFNBQ25DLEVBQXdCLEVBQXNCLFNBQzlDLEVBQW1CLElBQVQsS0FBbUIsUUFBVSxTQUN2QyxLQUEwQixFQUFVLHdCQUNkLElBQXRCLFlBQ0UsRUFDRSxFQUNBLEVBQ0EsRUFBYSxlQUNiLEVBQWEsaUJBQ2IsRUFBYSxnQkFDYixDQUNGLFNBQ29CLElBQXRCLFlBQ0UsRUFDRSxFQUFhLGNBQWMsR0FDM0IsRUFDQSxFQUNBLENBQ0YsRUFFSixTQUFTLEVBQTRCLENBQ25DLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQXlCLEVBQWEsY0FDMUMsRUFBZSxFQUF1QixHQUN0QyxFQUF5QixFQUF1QixhQUNoRCxFQUFtQixJQUFULEtBQW1CLFFBQVUsU0FDdkMsS0FBMEIsRUFBVSx3QkFDZCxJQUF0QixZQUNFLEVBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUVKLFNBQVMsRUFBZSxDQUFDLEVBQWMsQ0FDckMsSUFBd0IsS0FBcEIsRUFDbUIsY0FBckIsRUFDd0IsVUFBeEIsR0FEUSxFQUVWLEdBQUksQ0FDRixHQUNFLEVBQ0EsR0FDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLFFBQ08sRUFBUCxDQUNBLEdBQXdCLEVBQWMsRUFBYSxPQUFRLENBQUssR0FHcEUsU0FBUyxFQUFnQixDQUFDLEVBQWMsRUFBVSxFQUFVLENBQzFELEdBQUksQ0FDRixHQUNFLEVBQ0EsR0FDQSxFQUFhLFVBQ2IsRUFBYSxLQUNiLEVBQ0EsRUFDQSxDQUNGLFFBQ08sRUFBUCxDQUNBLEdBQXdCLEVBQWMsRUFBYSxPQUFRLENBQUssR0FHcEUsU0FBUyxFQUFZLENBQUMsRUFBTyxDQUMzQixPQUNRLEVBQU0sTUFBWixHQUNNLEVBQU0sTUFBWixHQUNPLEVBQU0sTUFBYixJQUNPLEVBQU0sTUFBYixJQUNNLEVBQU0sTUFBWixFQUdKLFNBQVMsRUFBYyxDQUFDLEVBQU8sQ0FDN0IsRUFBRyxPQUFTLENBQ1YsS0FBZ0IsRUFBTSxVQUFmLE1BQTBCLENBQy9CLEdBQWEsRUFBTSxTQUFmLE1BQXlCLEdBQWEsRUFBTSxNQUFNLEVBQUcsT0FBTyxLQUNoRSxFQUFRLEVBQU0sT0FFaEIsRUFBTSxRQUFRLE9BQVMsRUFBTSxPQUM3QixJQUNFLEVBQVEsRUFBTSxRQUNSLEVBQU0sTUFBWixHQUNNLEVBQU0sTUFBWixHQUNPLEVBQU0sTUFBYixJQUNPLEVBQU0sTUFBYixJQUVBLENBQ0EsR0FBSSxFQUFNLE1BQVEsRUFBRyxXQUNyQixHQUFhLEVBQU0sUUFBZixNQUE4QixFQUFNLE1BQVosRUFBaUIsZUFDeEMsQ0FBQyxFQUFNLE1BQU0sT0FBUyxFQUFTLEVBQVEsRUFBTSxNQUVwRCxLQUFNLEVBQU0sTUFBUSxHQUFJLE9BQU8sRUFBTSxXQUd6QyxTQUFTLEVBQXdDLENBQUMsRUFBTSxFQUFRLEVBQVEsQ0FDdEUsSUFBSSxFQUFNLEVBQUssSUFDZixHQUFVLElBQU4sR0FBbUIsSUFBTixFQUNmLEFBQUMsRUFBTyxFQUFLLFVBQ1gsRUFDVSxFQUFPLFdBQWIsRUFDRSxFQUFPLFdBQVcsYUFBYSxFQUFNLENBQU0sRUFDM0MsRUFBTyxhQUFhLEVBQU0sQ0FBTSxHQUMzQixFQUFPLFdBQWIsR0FDSyxFQUFTLEVBQU8sV0FDbEIsRUFBTyxhQUFhLEVBQU0sQ0FBTSxJQUM5QixFQUFTLEVBQVMsRUFBTyxZQUFZLENBQUksR0FDOUMsRUFBUyxFQUFPLG9CQUNQLElBQVQsTUFBOEIsSUFBTixRQUNkLEVBQU8sVUFBaEIsT0FDQyxFQUFPLFFBQVUsYUFDYixJQUFOLEdBQW9CLElBQVAsS0FBZ0IsRUFBTyxFQUFLLE1BQWlCLElBQVQsTUFDeEQsSUFDRSxHQUF5QyxFQUFNLEVBQVEsQ0FBTSxFQUMzRCxFQUFPLEVBQUssUUFDTCxJQUFULE1BR0EsR0FBeUMsRUFBTSxFQUFRLENBQU0sRUFDMUQsRUFBTyxFQUFLLFFBRXJCLFNBQVMsRUFBMkIsQ0FBQyxFQUFNLEVBQVEsRUFBUSxDQUN6RCxJQUFJLEVBQU0sRUFBSyxJQUNmLEdBQVUsSUFBTixHQUFtQixJQUFOLEVBQ2YsQUFBQyxFQUFPLEVBQUssVUFDWCxFQUFTLEVBQU8sYUFBYSxFQUFNLENBQU0sRUFBSSxFQUFPLFlBQVksQ0FBSSxVQUN6RCxJQUFOLEdBQW9CLElBQVAsS0FBZ0IsRUFBTyxFQUFLLE1BQWlCLElBQVQsTUFDeEQsSUFDRSxHQUE0QixFQUFNLEVBQVEsQ0FBTSxFQUM5QyxFQUFPLEVBQUssUUFDTCxJQUFULE1BR0EsR0FBNEIsRUFBTSxFQUFRLENBQU0sRUFDN0MsRUFBTyxFQUFLLFFBRXJCLFNBQVMsRUFBZSxDQUFDLEVBQWMsQ0FDckMsR0FBVyxFQUFhLE1BQXBCLEdBQXlCLENBQzNCLEVBQUcsQ0FDRCxRQUFTLEVBQVMsRUFBYSxPQUFpQixJQUFULE1BQW1CLENBQ3hELEdBQUksR0FBYSxDQUFNLEVBQUcsQ0FDeEIsSUFBSSxFQUFjLEVBQ2xCLFFBRUYsRUFBUyxFQUFPLE9BRWxCLE1BQU0sTUFDSixzR0FDRixFQUVGLE9BQVEsRUFBWSxTQUNiLElBQ0gsRUFBUyxFQUFZLFVBQ3JCLEVBQWMsR0FBZSxDQUFZLEVBQ3pDLEdBQTRCLEVBQWMsRUFBYSxDQUFNLEVBQzdELFVBQ0csR0FDSCxFQUFTLEVBQVksVUFDckIsRUFBWSxNQUFRLEtBQ2pCLEdBQWlCLENBQU0sRUFBSSxFQUFZLE9BQVMsS0FDbkQsRUFBYyxHQUFlLENBQVksRUFDekMsR0FBNEIsRUFBYyxFQUFhLENBQU0sRUFDN0QsVUFDRyxPQUNBLEdBQ0gsRUFBUyxFQUFZLFVBQVUsY0FDL0IsRUFBYyxHQUFlLENBQVksRUFDekMsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGNBRUEsTUFBTSxNQUNKLGlHQUNGLElBSVIsU0FBUyxFQUEyQixDQUFDLEVBQU0sRUFBWSxDQUlyRCxHQUhBLEVBQU8sRUFBSyxjQUNaLEdBQWdCLEdBQ2hCLEVBQU8sR0FBcUIsQ0FBSSxFQUM1QixHQUF5QixDQUFJLEVBQUcsQ0FDbEMsR0FBSSxtQkFBb0IsRUFDdEIsSUFBSSxFQUFrQixDQUNwQixNQUFPLEVBQUssZUFDWixJQUFLLEVBQUssWUFDWixNQUVBLEdBQUcsQ0FDRCxHQUNJLEVBQWtCLEVBQUssZ0JBQ3ZCLEVBQWdCLGFBQ2xCLE9BQ0YsSUFBSSxFQUNGLEVBQWdCLGNBQWdCLEVBQWdCLGFBQWEsRUFDL0QsR0FBSSxHQUFtQixFQUFVLGFBQWhCLEVBQTRCLENBQzNDLEVBQWtCLEVBQVUsV0FDNUIsSUFBNkIsYUFBekIsRUFDb0IsVUFBdEIsR0FBWSxFQUNkLEVBQVksRUFBVSxZQUN0QixHQUFJLENBQ0YsRUFBZ0IsU0FBVSxFQUFVLGVBQzdCLEdBQVAsQ0FDQSxFQUFrQixLQUNsQixRQUVGLElBQUksRUFBUyxFQUNYLEVBQVEsR0FDUixFQUFNLEdBQ04sRUFBb0IsRUFDcEIsRUFBbUIsRUFDbkIsRUFBTyxFQUNQLEVBQWEsS0FDZixFQUFHLE9BQVMsQ0FDVixRQUFTLElBQVUsQ0FRakIsR0FQQSxJQUFTLEdBQ0EsSUFBTixHQUE0QixFQUFLLFdBQVgsSUFDdEIsRUFBUSxFQUFTLEdBQ3BCLElBQVMsR0FDQSxJQUFOLEdBQXlCLEVBQUssV0FBWCxJQUNuQixFQUFNLEVBQVMsR0FDWixFQUFLLFdBQVgsSUFBd0IsR0FBVSxFQUFLLFVBQVUsU0FDbkMsRUFBTyxFQUFLLGNBQXRCLEtBQW1DLE1BQ3ZDLEVBQWEsRUFDYixFQUFPLEVBRVQsT0FBUyxDQUNQLEdBQUksSUFBUyxFQUFNLFFBT25CLEdBTkEsSUFBZSxLQUNYLElBQXNCLElBQ3ZCLEVBQVEsR0FDWCxJQUFlLEtBQ1gsSUFBcUIsSUFDdEIsRUFBTSxJQUNLLEVBQU8sRUFBSyxlQUF0QixLQUFvQyxNQUN4QyxFQUFPLEVBQ1AsRUFBYSxFQUFLLFdBRXBCLEVBQU8sRUFFVCxFQUNTLElBQVAsSUFBdUIsSUFBUCxHQUFhLEtBQU8sQ0FBRSxNQUFPLEVBQU8sSUFBSyxDQUFJLE1BQzFELEdBQWtCLEtBRTdCLEVBQWtCLEdBQW1CLENBQUUsTUFBTyxFQUFHLElBQUssQ0FBRSxNQUNuRCxHQUFrQixLQUN6QixHQUF1QixDQUNyQixZQUFhLEVBQ2IsZUFBZ0IsQ0FDbEIsRUFDQSxHQUFXLEdBQ1gsSUFBSyxHQUFhLEVBQXFCLEtBQVQsTUFDNUIsR0FDSSxFQUFhLEdBQ2QsRUFBTyxFQUFXLE9BQ1osRUFBVyxhQUFlLFFBQWpDLEdBQW1ELElBQVQsS0FFMUMsQUFBQyxFQUFLLE9BQVMsRUFBYyxHQUFhLE1BRTFDLE1BQWdCLEtBQVQsTUFBdUIsQ0FJNUIsT0FIQSxFQUFPLEVBQWEsR0FDcEIsRUFBa0IsRUFBSyxVQUN2QixFQUFlLEVBQUssTUFDWixFQUFLLFNBQ04sR0FDSCxVQUNHLFFBQ0EsSUFDSCxVQUNHLEdBQ0gsQ0FBTyxFQUFlLFFBQXRCLEdBQ1csSUFBVCxNQUNBLEdBQW9CLEVBQU0sQ0FBZSxFQUMzQyxVQUNHLEdBQ0gsSUFBVyxFQUFlLFFBQXRCLEdBQ0YsR0FDSSxFQUFPLEVBQUssVUFBVSxjQUN2QixFQUFrQixFQUFLLFNBQ2xCLElBQU4sRUFFQSxHQUF3QixDQUFJLFVBQ2YsSUFBTixFQUNQLE9BQVEsRUFBSyxjQUNOLFdBQ0EsV0FDQSxPQUNILEdBQXdCLENBQUksRUFDNUIsY0FFQSxFQUFLLFlBQWMsSUFFM0IsVUFDRyxPQUNBLFFBQ0EsUUFDQSxPQUNBLE9BQ0EsSUFDSCxjQUVBLElBQVcsRUFBZSxRQUF0QixFQUNGLE1BQU0sTUFDSiwwSEFDRixFQUdOLEdBREEsRUFBTyxFQUFXLFFBQ0wsSUFBVCxLQUFlLENBQ2pCLEVBQUssT0FBUyxFQUFXLE9BQ3pCLEdBQWEsRUFDYixNQUVGLEdBQWEsRUFBVyxPQUk5QixPQUZBLEVBQWEsR0FDYixHQUFvQyxHQUM3QixFQUVULFNBQVMsRUFBeUIsQ0FBQyxFQUFjLEVBQVMsRUFBYyxDQUN0RSxJQUFJLEVBQVEsRUFBYSxNQUN6QixPQUFRLEVBQWEsU0FDZCxPQUNBLFFBQ0EsSUFDSCxHQUFpQyxFQUFjLENBQVksRUFDM0QsRUFBUSxHQUNOLEdBQXdCLEVBQWMsR0FBUyxFQUFTLEVBQzFELFVBQ0csR0FFSCxHQURBLEdBQWlDLEVBQWMsQ0FBWSxFQUN2RCxFQUFRLEVBQ1YsR0FBTSxFQUFlLEVBQWEsVUFBcUIsSUFBVCxLQUM1QyxFQUFhLEtBQUssY0FDaEIsUUFBUyxFQUFhLGVBQ3RCLEtBQ0MsRUFBYSxRQUFVLEVBQWEsZUFDbkMsUUFBUSxNQUNOLG1NQUNBLEVBQTBCLENBQVksR0FBSyxVQUM3QyxFQUNGLEVBQWEsUUFBVSxFQUFhLGVBQ2xDLFFBQVEsTUFDTixtTUFDQSxFQUEwQixDQUFZLEdBQUssVUFDN0MsR0FDRixHQUFjLENBQVksR0FDckIsR0FBaUIsRUFDbEIsR0FDRSxFQUNBLEdBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FBcUIsR0FDckIsR0FDRSxFQUNBLEdBQ0EsRUFDQSxDQUNGLE1BQ0gsQ0FDSCxJQUFJLEVBQVksR0FDZCxFQUFhLEtBQ2IsRUFBUSxhQUNWLEVBQ0EsRUFBVSxFQUFRLGNBQ2xCLEVBQWEsS0FBSyxjQUNoQixRQUFTLEVBQWEsZUFDdEIsS0FDQyxFQUFhLFFBQVUsRUFBYSxlQUNuQyxRQUFRLE1BQ04sb01BQ0EsRUFBMEIsQ0FBWSxHQUFLLFVBQzdDLEVBQ0YsRUFBYSxRQUFVLEVBQWEsZUFDbEMsUUFBUSxNQUNOLG9NQUNBLEVBQTBCLENBQVksR0FBSyxVQUM3QyxHQUNKLEdBQWMsQ0FBWSxHQUNyQixHQUFpQixFQUNsQixHQUNFLEVBQ0EsR0FDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQWEsbUNBQ2YsRUFDQSxHQUFxQixHQUNyQixHQUNFLEVBQ0EsR0FDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQWEsbUNBQ2YsRUFFUixFQUFRLElBQU0sR0FBcUIsQ0FBWSxFQUMvQyxFQUFRLEtBQU8sR0FBZ0IsRUFBYyxFQUFhLE1BQU0sRUFDaEUsVUFDRyxHQUdILEdBRkEsRUFBVSxHQUEwQixFQUNwQyxHQUFpQyxFQUFjLENBQVksRUFFekQsRUFBUSxLQUNOLEVBQVEsRUFBYSxZQUF1QixJQUFULE1BQ3JDLENBRUEsR0FEQSxFQUFZLEtBQ0MsRUFBYSxRQUF0QixLQUNGLE9BQVEsRUFBYSxNQUFNLFNBQ3BCLFFBQ0EsR0FDSCxFQUFZLEVBQWEsTUFBTSxVQUMvQixVQUNHLEdBQ0gsRUFBWSxFQUFhLE1BQU0sVUFFckMsR0FBSSxDQUNGLEdBQ0UsRUFDQSxHQUNBLEVBQ0EsQ0FDRixRQUNPLEVBQVAsQ0FDQSxHQUF3QixFQUFjLEVBQWEsT0FBUSxDQUFLLEdBR3BFLEVBQWEsZ0JBQWtCLEdBQXlCLENBQU8sRUFDL0QsVUFDRyxJQUNILEdBQWlDLEVBQWMsQ0FBWSxFQUMzRCxFQUFRLEtBQU8sR0FBZ0IsRUFBYyxFQUFhLE1BQU0sRUFDaEUsVUFDRyxRQUNBLEdBQ0gsR0FBaUMsRUFBYyxDQUFZLEVBQ2xELElBQVQsTUFBb0IsRUFBUSxHQUFLLEdBQWdCLENBQVksRUFDN0QsRUFBUSxLQUFPLEdBQWdCLEVBQWMsRUFBYSxNQUFNLEVBQ2hFLFVBQ0csSUFDSCxHQUFJLEVBQVEsRUFBRyxDQUNiLEVBQVEsR0FBMEIsRUFDbEMsR0FBaUMsRUFBYyxDQUFZLEVBQzNELEVBQWUsRUFBYSxVQUM1QixFQUFhLGdCQUFrQixHQUE0QixDQUFLLEVBQ2hFLEdBQUksQ0FDRixHQUNFLEVBQ0EsR0FDQSxFQUNBLEVBQ0EsR0FDQSxFQUFhLGNBQ2YsUUFDTyxFQUFQLENBQ0EsR0FBd0IsRUFBYyxFQUFhLE9BQVEsQ0FBSyxPQUU3RCxJQUFpQyxFQUFjLENBQVksRUFDbEUsVUFDRyxJQUNILEdBQWlDLEVBQWMsQ0FBWSxFQUMzRCxFQUFRLEdBQ04sR0FBaUMsRUFBYyxDQUFZLEVBQzdELFVBQ0csSUFHSCxHQUZBLEVBQ1csRUFBYSxnQkFBdEIsTUFBdUMsSUFDcEMsRUFBVyxDQUNkLEVBQ1ksSUFBVCxNQUE2QixFQUFRLGdCQUFqQixNQUNyQixHQUNGLElBQUksRUFBK0IsR0FDakMsRUFBZ0MsR0FDbEMsR0FBMkIsR0FDMUIsR0FBNEIsS0FDNUIsRUFDRyxHQUNFLEVBQ0EsR0FDTyxFQUFhLGFBQWUsUUFBbkMsQ0FDRixFQUNBLEdBQWlDLEVBQWMsQ0FBWSxFQUMvRCxHQUEyQixFQUMzQixHQUE0QixFQUU5QixFQUFRLE1BQ1EsRUFBYSxjQUFjLE9BQXhDLFNBQ0csR0FBZ0IsRUFBYyxFQUFhLE1BQU0sRUFDakQsR0FBZ0IsRUFBYyxFQUFhLE1BQU0sR0FDdkQsY0FFQSxHQUFpQyxFQUFjLENBQVksR0FHakUsU0FBUyxFQUF1QixDQUFDLEVBQU8sQ0FDdEMsSUFBSSxFQUFZLEVBQU0sVUFDdEIsQUFBUyxJQUFULE9BQ0ksRUFBTSxVQUFZLEtBQU8sR0FBd0IsQ0FBUyxHQUM5RCxFQUFNLE1BQVEsS0FDZCxFQUFNLFVBQVksS0FDbEIsRUFBTSxRQUFVLEtBQ1YsRUFBTSxNQUFaLElBQ0ksRUFBWSxFQUFNLFVBQ1gsSUFBVCxNQUFzQixHQUFzQixDQUFTLEdBQ3ZELEVBQU0sVUFBWSxLQUNsQixFQUFNLFlBQWMsS0FDcEIsRUFBTSxPQUFTLEtBQ2YsRUFBTSxhQUFlLEtBQ3JCLEVBQU0sY0FBZ0IsS0FDdEIsRUFBTSxjQUFnQixLQUN0QixFQUFNLGFBQWUsS0FDckIsRUFBTSxVQUFZLEtBQ2xCLEVBQU0sWUFBYyxLQUV0QixTQUFTLEVBQWtDLENBQ3pDLEVBQ0EsRUFDQSxFQUNBLENBQ0EsSUFBSyxFQUFTLEVBQU8sTUFBZ0IsSUFBVCxNQUMxQixHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBQ0csRUFBUyxFQUFPLFFBRXZCLFNBQVMsRUFBNEIsQ0FDbkMsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUNFLFdBQ3NCLEdBQWEsdUJBQW5DLFdBRUEsR0FBSSxDQUNGLEdBQWEscUJBQXFCLEdBQVksQ0FBWSxRQUNuRCxFQUFQLENBQ0EsS0FDSSxHQUFpQixHQUNuQixRQUFRLE1BQ04saURBQ0EsQ0FDRixHQUVOLE9BQVEsRUFBYSxTQUNkLElBQ0gsSUFDRSxHQUFnQixFQUFjLENBQXNCLEVBQ3RELEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUFhLGNBQ1QsRUFBYSxjQUFjLFFBQzNCLEVBQWEsWUFDWCxFQUFlLEVBQWEsVUFDOUIsRUFBYSxXQUFXLFlBQVksQ0FBWSxHQUNwRCxVQUNHLElBQ0gsSUFDRSxHQUFnQixFQUFjLENBQXNCLEVBQ3RELElBQUksRUFBaUIsR0FDbkIsRUFBNEIsR0FDOUIsR0FBYSxFQUFhLFVBQzFCLEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUFlLEVBQWEsVUFDNUIsSUFBSyxFQUFlLEVBQWEsV0FBWSxFQUFhLFFBQ3hELEVBQWEsb0JBQW9CLEVBQWEsRUFBRSxFQUNsRCxHQUFzQixDQUFZLEVBQ2xDLEdBQWEsRUFDYixHQUF3QixFQUN4QixVQUNHLEdBQ0gsSUFDRSxHQUFnQixFQUFjLENBQXNCLE1BQ25ELEdBV0gsR0FWQSxFQUFpQixHQUNqQixFQUE0QixHQUM1QixHQUFhLEtBQ2IsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEdBQWEsRUFDYixHQUF3QixFQUNYLEtBQVQsS0FDRixHQUFJLEdBQ0YsR0FBSSxDQUNGLEdBQ0UsRUFDQSxHQUNBLEdBQ0EsRUFBYSxTQUNmLFFBQ08sRUFBUCxDQUNBLEdBQ0UsRUFDQSxFQUNBLENBQ0YsTUFHRixJQUFJLENBQ0YsR0FDRSxFQUNBLEdBQ0EsR0FDQSxFQUFhLFNBQ2YsUUFDTyxFQUFQLENBQ0EsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUVOLFVBQ0csSUFDSCxBQUFTLEtBQVQsT0FDRyxJQUNLLEVBQWUsR0FDaEIsRUFBZSxFQUFhLFVBQ3ZCLEVBQWEsV0FBbkIsRUFDSSxHQUFzQixFQUFhLFdBQVksQ0FBWSxFQUNyRCxFQUFhLFdBQW5CLEdBQ0EsR0FBc0IsRUFBYyxDQUFZLEVBQ3BELEdBQWlCLENBQVksR0FDN0IsR0FBc0IsR0FBWSxFQUFhLFNBQVMsR0FDOUQsVUFDRyxHQUNILEVBQWlCLEdBQ2pCLEVBQTRCLEdBQzVCLEdBQWEsRUFBYSxVQUFVLGNBQ3BDLEdBQXdCLEdBQ3hCLEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxHQUFhLEVBQ2IsR0FBd0IsRUFDeEIsVUFDRyxPQUNBLFFBQ0EsUUFDQSxJQUNILElBQ0UsR0FDRSxHQUNBLEVBQ0EsQ0FDRixFQUNGLElBQ0UsR0FDRSxFQUNBLEVBQ0EsRUFDRixFQUNGLEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxVQUNHLEdBQ0gsS0FDRyxHQUFnQixFQUFjLENBQXNCLEVBQ3BELEVBQWlCLEVBQWEsaUJBQ1QsRUFBZSx1QkFBckMsWUFDRSxHQUNFLEVBQ0EsRUFDQSxDQUNGLEdBQ0osR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNBLFVBQ0csSUFDSCxHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsVUFDRyxJQUNILElBQ0UsR0FBZ0IsRUFBYyxDQUFzQixFQUN0RCxJQUNHLEVBQWlCLEtBQ1QsRUFBYSxnQkFBdEIsS0FDRixHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FBNEIsRUFDNUIsY0FFQSxHQUNFLEVBQ0EsRUFDQSxDQUNGLEdBR04sU0FBUyxFQUFnQyxDQUFDLEVBQWMsRUFBYyxDQUNwRSxHQUNXLEVBQWEsZ0JBQXRCLE9BQ0UsRUFBZSxFQUFhLFVBQ3JCLElBQVQsT0FDSSxFQUFlLEVBQWEsY0FDckIsSUFBVCxPQUNJLEVBQWUsRUFBYSxXQUFzQixJQUFULFFBRS9DLEdBQUksQ0FDRixHQUNFLEVBQ0EsR0FDQSxDQUNGLFFBQ08sRUFBUCxDQUNBLEdBQXdCLEVBQWMsRUFBYSxPQUFRLENBQUssR0FHdEUsU0FBUyxFQUFhLENBQUMsRUFBYyxDQUNuQyxPQUFRLEVBQWEsU0FDZCxRQUNBLElBQ0gsSUFBSSxFQUFhLEVBQWEsVUFHOUIsT0FGUyxJQUFULE9BQ0csRUFBYSxFQUFhLFVBQVksSUFBSSxJQUN0QyxNQUNKLElBQ0gsT0FDRyxFQUFlLEVBQWEsVUFDNUIsRUFBYSxFQUFhLFlBQ2xCLElBQVQsT0FDRyxFQUFhLEVBQWEsWUFBYyxJQUFJLElBQy9DLFVBR0YsTUFBTSxNQUNKLG9DQUNFLEVBQWEsSUFDYiw0QkFDSixHQUdOLFNBQVMsRUFBNEIsQ0FBQyxFQUFjLEVBQVcsQ0FDN0QsSUFBSSxFQUFhLEdBQWMsQ0FBWSxFQUMzQyxFQUFVLGdCQUFpQixDQUFDLEVBQVUsQ0FDcEMsSUFBSSxFQUFRLEdBQXFCLEtBQUssS0FBTSxFQUFjLENBQVEsRUFDbEUsSUFBSyxFQUFXLElBQUksQ0FBUSxFQUFHLENBRTdCLEdBREEsRUFBVyxJQUFJLENBQVEsRUFDbkIsR0FDRixHQUFhLEtBQVQsTUFBcUMsS0FBVCxLQUM5QixHQUF1QixHQUFnQixFQUFlLE1BRXRELE9BQU0sTUFDSixxRUFDRixFQUNKLEVBQVMsS0FBSyxFQUFPLENBQUssR0FFN0IsRUFFSCxTQUFTLEVBQXFCLENBQUMsRUFBTSxFQUFjLEVBQWdCLENBQ2pFLEdBQWtCLEVBQ2xCLEdBQWlCLEVBQ2pCLEdBQTZCLEVBQWMsQ0FBSSxFQUMvQyxHQUFpQixHQUFrQixLQUVyQyxTQUFTLEVBQWtDLENBQUMsRUFBZSxFQUFhLENBQ3RFLElBQUksRUFBWSxFQUFZLFVBQzVCLEdBQWEsSUFBVCxLQUNGLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBVSxPQUFRLElBQUssQ0FDekMsSUFBSSxFQUFPLEVBQ1QsRUFBYyxFQUNkLEVBQWUsRUFBVSxHQUN6QixFQUFTLEVBQ1gsRUFBRyxLQUFnQixJQUFULE1BQW1CLENBQzNCLE9BQVEsRUFBTyxTQUNSLFFBQ0EsR0FDSCxHQUFhLEVBQU8sVUFDcEIsR0FBd0IsR0FDeEIsWUFDRyxHQUNILEdBQWEsRUFBTyxVQUFVLGNBQzlCLEdBQXdCLEdBQ3hCLFlBQ0csR0FDSCxHQUFhLEVBQU8sVUFBVSxjQUM5QixHQUF3QixHQUN4QixRQUVKLEVBQVMsRUFBTyxPQUVsQixHQUFhLEtBQVQsS0FDRixNQUFNLE1BQ0osc0dBQ0YsRUFDRixHQUE2QixFQUFNLEVBQWEsQ0FBWSxFQUM1RCxHQUFhLEtBQ2IsR0FBd0IsR0FDeEIsRUFBTyxFQUNQLEVBQWMsRUFBSyxVQUNWLElBQVQsT0FBeUIsRUFBWSxPQUFTLE1BQzlDLEVBQUssT0FBUyxLQUVsQixHQUFJLEVBQVksYUFBZSxNQUM3QixJQUFLLEVBQWMsRUFBWSxNQUFnQixJQUFULE1BQ3BDLEdBQTZCLEVBQWEsQ0FBYSxFQUNwRCxFQUFjLEVBQVksUUFFbkMsU0FBUyxFQUE0QixDQUFDLEVBQWMsRUFBTSxDQUN4RCxJQUEyQixVQUF2QixFQUNtQixNQUFyQixHQUFRLEVBQ1YsT0FBUSxFQUFhLFNBQ2QsT0FDQSxRQUNBLFFBQ0EsSUFDSCxHQUFtQyxFQUFNLENBQVksRUFDckQsR0FBNEIsQ0FBWSxFQUN4QyxFQUFRLElBQ0wsR0FDQyxHQUFZLEdBQ1osRUFDQSxFQUFhLE1BQ2YsRUFDQSxHQUEwQixHQUFZLEdBQVcsQ0FBWSxFQUM3RCxHQUNFLEVBQ0EsRUFBYSxPQUNiLEdBQVMsRUFDWCxHQUNGLFVBQ0csR0FDSCxHQUFtQyxFQUFNLENBQVksRUFDckQsR0FBNEIsQ0FBWSxFQUN4QyxFQUFRLE1BQ0wsSUFDVSxJQUFULE1BQ0EsR0FBZ0IsRUFBUyxFQUFRLE1BQU0sR0FDM0MsRUFBUSxJQUNOLEtBQ0UsRUFBZSxFQUFhLFlBQ3JCLElBQVQsT0FDSSxFQUFRLEVBQWEsVUFDZCxJQUFULE9BQ0ksRUFBVSxFQUFhLE9BQU8sZ0JBQy9CLEVBQWEsT0FBTyxnQkFDVixJQUFULEtBQW1CLEVBQVEsRUFBUSxPQUFPLENBQUssS0FDdkQsVUFDRyxJQUNILElBQUksRUFBZ0IsR0FPcEIsR0FOQSxHQUFtQyxFQUFNLENBQVksRUFDckQsR0FBNEIsQ0FBWSxFQUN4QyxFQUFRLE1BQ0wsSUFDVSxJQUFULE1BQ0EsR0FBZ0IsRUFBUyxFQUFRLE1BQU0sR0FDdkMsRUFBUSxFQUNWLEdBQ0ksRUFBZ0IsSUFBVCxLQUFtQixFQUFRLGNBQWdCLEtBQ25ELEVBQVEsRUFBYSxjQUNiLElBQVQsS0FFQSxHQUFhLElBQVQsS0FDRixHQUFhLEVBQWEsWUFBdEIsS0FBaUMsQ0FDbkMsRUFBRyxDQUNELEVBQVEsRUFBYSxLQUNyQixFQUFVLEVBQWEsY0FDdkIsRUFBTyxFQUFjLGVBQWlCLEVBQ3RDLEVBQUcsT0FBUSxPQUNKLFFBRUgsR0FEQSxFQUFnQixFQUFLLHFCQUFxQixPQUFPLEVBQUUsSUFFaEQsR0FDRCxFQUFjLEtBQ2QsRUFBYyxLQUNkLEVBQWMsZUFBaUIsSUFDL0IsRUFBYyxhQUFhLFVBQVUsRUFFckMsQUFBQyxFQUFnQixFQUFLLGNBQWMsQ0FBSyxFQUN2QyxFQUFLLEtBQUssYUFDUixFQUNBLEVBQUssY0FBYyxjQUFjLENBQ25DLEVBQ0osR0FBcUIsRUFBZSxFQUFPLENBQU8sRUFDbEQsRUFBYyxJQUF1QixFQUNyQyxHQUFvQixDQUFhLEVBQ2pDLEVBQVEsRUFDUixZQUNHLE9BQ0gsSUFBSSxFQUFhLEdBQ2YsT0FDQSxPQUNBLENBQ0YsRUFBRSxJQUFJLEdBQVMsRUFBUSxNQUFRLEdBQUcsRUFDbEMsR0FBSSxHQUNGLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBVyxPQUFRLElBQ3JDLEdBQ0ksRUFBZ0IsRUFBVyxHQUM3QixFQUFjLGFBQWEsTUFBTSxLQUN0QixFQUFRLE1BQWhCLEtBQXVCLEtBQU8sRUFBUSxPQUN2QyxFQUFjLGFBQWEsS0FBSyxLQUNyQixFQUFRLEtBQWhCLEtBQXNCLEtBQU8sRUFBUSxNQUN4QyxFQUFjLGFBQWEsT0FBTyxLQUN2QixFQUFRLE9BQWhCLEtBQ0csS0FDQSxFQUFRLFFBQ2QsRUFBYyxhQUFhLGFBQWEsS0FDN0IsRUFBUSxhQUFoQixLQUNHLEtBQ0EsRUFBUSxhQUNoQixDQUNBLEVBQVcsT0FBTyxFQUFHLENBQUMsRUFDdEIsU0FFTixFQUFnQixFQUFLLGNBQWMsQ0FBSyxFQUN4QyxHQUFxQixFQUFlLEVBQU8sQ0FBTyxFQUNsRCxFQUFLLEtBQUssWUFBWSxDQUFhLEVBQ25DLFVBQ0csT0FDSCxHQUNHLEVBQWEsR0FDWixPQUNBLFVBQ0EsQ0FDRixFQUFFLElBQUksR0FBUyxFQUFRLFNBQVcsR0FBRyxHQUVyQyxJQUFLLEVBQUksRUFBRyxFQUFJLEVBQVcsT0FBUSxJQUNqQyxHQUNJLEVBQWdCLEVBQVcsR0FDN0IsR0FDRSxFQUFRLFFBQ1IsU0FDRixFQUNBLEVBQWMsYUFBYSxTQUFTLEtBQ3pCLEVBQVEsU0FBaEIsS0FDRyxLQUNBLEdBQUssRUFBUSxVQUNqQixFQUFjLGFBQWEsTUFBTSxLQUN0QixFQUFRLE1BQWhCLEtBQ0csS0FDQSxFQUFRLE9BQ2QsRUFBYyxhQUFhLFVBQVUsS0FDMUIsRUFBUSxVQUFoQixLQUNHLEtBQ0EsRUFBUSxXQUNkLEVBQWMsYUFBYSxZQUFZLEtBQzVCLEVBQVEsV0FBaEIsS0FDRyxLQUNBLEVBQVEsWUFDZCxFQUFjLGFBQWEsU0FBUyxLQUN6QixFQUFRLFNBQWhCLEtBQ0csS0FDQSxFQUFRLFNBQ2hCLENBQ0EsRUFBVyxPQUFPLEVBQUcsQ0FBQyxFQUN0QixTQUVOLEVBQWdCLEVBQUssY0FBYyxDQUFLLEVBQ3hDLEdBQXFCLEVBQWUsRUFBTyxDQUFPLEVBQ2xELEVBQUssS0FBSyxZQUFZLENBQWEsRUFDbkMsY0FFQSxNQUFNLE1BQ0osMERBQ0UsRUFDQSw0QkFDSixFQUVKLEVBQWMsSUFBdUIsRUFDckMsR0FBb0IsQ0FBYSxFQUNqQyxFQUFRLEVBRVYsRUFBYSxVQUFZLE1BRXpCLElBQ0UsRUFDQSxFQUFhLEtBQ2IsRUFBYSxTQUNmLE1BRUYsR0FBYSxVQUFZLEdBQ3ZCLEVBQ0EsRUFDQSxFQUFhLGFBQ2YsTUFFRixLQUFTLEdBQ0ssSUFBVCxLQUNZLEVBQVEsWUFBakIsT0FDRSxFQUFVLEVBQVEsVUFDcEIsRUFBUSxXQUFXLFlBQVksQ0FBTyxHQUN0QyxFQUFLLFFBQ0EsSUFBVCxLQUNJLEdBQ0UsRUFDQSxFQUFhLEtBQ2IsRUFBYSxTQUNmLEVBQ0EsR0FDRSxFQUNBLEVBQ0EsRUFBYSxhQUNmLEdBQ0ssSUFBVCxNQUNTLEVBQWEsWUFBdEIsTUFDQSxHQUNFLEVBQ0EsRUFBYSxjQUNiLEVBQVEsYUFDVixFQUNSLFVBQ0csSUFDSCxHQUFJLEVBQVEsR0FBYyxFQUFhLFlBQXRCLEtBQWlDLENBQ2hELEVBQWdCLEVBQWEsVUFDN0IsRUFBYSxFQUFhLGNBQzFCLEdBQUksQ0FDRixJQUFLLEVBQUksRUFBYyxXQUFZLEdBQUssQ0FDdEMsSUFBaUIsWUFBYixFQUNXLFNBQWIsR0FBVyxFQUNiLEVBQUUsS0FDVyxJQUFYLFFBQ1csSUFBWCxRQUNhLElBQWIsVUFDWSxJQUFaLFNBQ1ksSUFBWCxRQUNrQixFQUFFLElBQUksWUFBWSxJQUFuQyxjQUNGLEVBQWMsWUFBWSxDQUFDLEVBQzdCLEVBQUksRUFFTixHQUNFLEVBQ0EsR0FDQSxFQUFhLEtBQ2IsRUFDQSxFQUNBLENBQ0YsUUFDTyxFQUFQLENBQ0EsR0FBd0IsRUFBYyxFQUFhLE9BQVEsQ0FBSyxPQUdqRSxHQU9ILEdBTkEsR0FBbUMsRUFBTSxDQUFZLEVBQ3JELEdBQTRCLENBQVksRUFDeEMsRUFBUSxNQUNMLElBQ1UsSUFBVCxNQUNBLEdBQWdCLEVBQVMsRUFBUSxNQUFNLEdBQ3ZDLEVBQWEsTUFBUSxHQUFJLENBQzNCLEVBQU8sRUFBYSxVQUNwQixHQUFJLENBQ0YsR0FBa0IsRUFBYyxHQUFrQixDQUFJLFFBQy9DLEVBQVAsQ0FDQSxHQUF3QixFQUFjLEVBQWEsT0FBUSxDQUFLLEdBR3BFLEVBQVEsR0FDRSxFQUFhLFdBQXJCLE9BQ0UsRUFBTyxFQUFhLGNBQ3RCLEdBQ0UsRUFDQSxFQUNTLElBQVQsS0FBbUIsRUFBUSxjQUFnQixDQUM3QyxHQUNGLEVBQVEsT0FDSixHQUFpQixHQUNSLEVBQWEsT0FBeEIsUUFDRSxRQUFRLE1BQ04sMEVBQ0YsR0FDSixVQUNHLEdBR0gsR0FGQSxHQUFtQyxFQUFNLENBQVksRUFDckQsR0FBNEIsQ0FBWSxFQUNwQyxFQUFRLEVBQUcsQ0FDYixHQUFhLEVBQWEsWUFBdEIsS0FDRixNQUFNLE1BQ0osZ0hBQ0YsRUFDRixFQUFRLEVBQWEsY0FDckIsRUFBbUIsSUFBVCxLQUFtQixFQUFRLGNBQWdCLEVBQ3JELEVBQU8sRUFBYSxVQUNwQixHQUFJLENBQ0YsR0FDRSxFQUNBLEdBQ0EsRUFDQSxFQUNBLENBQ0YsUUFDTyxFQUFQLENBQ0EsR0FBd0IsRUFBYyxFQUFhLE9BQVEsQ0FBSyxHQUdwRSxVQUNHLEdBUUgsR0FQQSxFQUFnQixHQUEwQixFQUMxQyxHQUFZLEtBQ1osRUFBYSxHQUNiLEdBQXVCLEdBQWlCLEVBQUssYUFBYSxFQUMxRCxHQUFtQyxFQUFNLENBQVksRUFDckQsR0FBdUIsRUFDdkIsR0FBNEIsQ0FBWSxFQUV0QyxFQUFRLEdBQ0MsSUFBVCxNQUNBLEVBQVEsY0FBYyxhQUV0QixHQUFJLENBQ0YsR0FDRSxFQUNBLEdBQ0EsRUFBSyxhQUNQLFFBQ08sRUFBUCxDQUNBLEdBQXdCLEVBQWMsRUFBYSxPQUFRLENBQUssRUFFcEUsS0FDSSxHQUFpQixHQUFLLEdBQXNCLENBQVksR0FDNUQsRUFBSyxnQkFBa0IsR0FBeUIsQ0FBYSxFQUM3RCxVQUNHLEdBQ0gsRUFBUSxHQUNSLEdBQXVCLEdBQ3JCLEVBQWEsVUFBVSxhQUN6QixFQUNBLEdBQW1DLEVBQU0sQ0FBWSxFQUNyRCxHQUE0QixDQUFZLEVBQ3hDLEdBQXVCLEVBQ3ZCLFVBQ0csSUFDSCxFQUFRLEdBQTBCLEVBQ2xDLEdBQW1DLEVBQU0sQ0FBWSxFQUNyRCxHQUE0QixDQUFZLEVBQ3hDLEVBQWEsVUFBVSxnQkFDckIsR0FBNEIsQ0FBSyxFQUNuQyxVQUNHLElBQ0gsR0FBbUMsRUFBTSxDQUFZLEVBQ3JELEdBQTRCLENBQVksRUFDeEMsRUFBYSxNQUFNLE1BQVEsTUFDZixFQUFhLGdCQUF0QixRQUNXLElBQVQsTUFBNkIsRUFBUSxnQkFBakIsUUFDdEIsR0FBK0IsR0FBTSxHQUN4QyxFQUFRLElBQ0osRUFBUSxFQUFhLFlBQ2QsSUFBVCxPQUNJLEVBQWEsWUFBYyxLQUM3QixHQUE2QixFQUFjLENBQUssSUFDcEQsVUFDRyxJQUNILEVBQVEsTUFDTCxJQUNVLElBQVQsTUFDQSxHQUFnQixFQUFTLEVBQVEsTUFBTSxHQUMzQyxFQUFhLEVBQWEsZ0JBQXRCLEtBQ0osRUFBb0IsSUFBVCxNQUE2QixFQUFRLGdCQUFqQixLQUMvQixFQUFXLEdBQ1gsSUFBSSxFQUFnQyxHQVdwQyxHQVZBLEdBQTJCLEdBQVksRUFDdkMsR0FBNEIsR0FBaUMsRUFDN0QsR0FBbUMsRUFBTSxDQUFZLEVBQ3JELEdBQTRCLEVBQzVCLEdBQTJCLEVBQzNCLEdBQTRCLENBQVksRUFDeEMsRUFBTyxFQUFhLFVBQ3BCLEVBQUssU0FBVyxFQUNoQixFQUFLLGNBQWdCLEdBQ3JCLEVBQUssYUFBZSxFQUFLLG1CQUFxQixHQUU1QyxFQUFRLE9BQ04sRUFBSyxZQUFjLEVBQ2pCLEVBQUssYUFBZSxHQUNwQixFQUFLLFlBQWMsR0FDdkIsSUFDSSxFQUFPLElBQTRCLEdBQzVCLElBQVQsTUFDRSxHQUNBLEdBQ0EsR0FBMEMsQ0FBWSxHQUNqRCxFQUFhLGdCQUF0QixNQUNlLEVBQWEsY0FBYyxPQUF4QyxVQUVGLEVBQUcsSUFBSyxFQUFVLEtBQU0sRUFBTyxJQUFrQixDQUMvQyxHQUFVLEVBQUssTUFBWCxHQUF5QixFQUFLLE1BQVosSUFBMEIsRUFBSyxNQUFaLElBQ3ZDLEdBQWEsSUFBVCxLQUFrQixDQUNwQixFQUFXLEVBQVUsRUFDckIsR0FBSSxDQUNGLEFBQUMsRUFBZ0IsRUFBUyxVQUN4QixFQUNJLEdBQ0UsRUFDQSxHQUNBLENBQ0YsRUFDQSxHQUNFLEVBQ0EsR0FDQSxFQUFTLFVBQ1QsRUFBUyxhQUNYLFFBQ0MsRUFBUCxDQUNBLEdBQXdCLEVBQVUsRUFBUyxPQUFRLENBQUssWUFHN0MsRUFBSyxNQUFYLEdBQ1QsR0FBYSxJQUFULEtBQWtCLENBQ3BCLEVBQVcsRUFDWCxHQUFJLENBQ0YsQUFBQyxFQUFhLEVBQVMsVUFDckIsRUFDSSxHQUNFLEVBQ0EsR0FDQSxDQUNGLEVBQ0EsR0FDRSxFQUNBLEdBQ0EsRUFDQSxFQUFTLGFBQ1gsUUFDQyxFQUFQLENBQ0EsR0FBd0IsRUFBVSxFQUFTLE9BQVEsQ0FBSyxhQUluRCxFQUFLLE1BQVosSUFBMEIsRUFBSyxNQUFaLElBQ1YsRUFBSyxnQkFBZCxNQUNBLElBQVMsSUFDRixFQUFLLFFBQWQsS0FDQSxDQUNBLEVBQUssTUFBTSxPQUFTLEVBQ3BCLEVBQU8sRUFBSyxNQUNaLFNBRUYsR0FBSSxJQUFTLEVBQWMsUUFDM0IsS0FBZ0IsRUFBSyxVQUFkLE1BQXlCLENBQzlCLEdBQWEsRUFBSyxTQUFkLE1BQXdCLEVBQUssU0FBVyxFQUMxQyxRQUNGLElBQVksSUFBUyxFQUFVLE1BQy9CLEVBQU8sRUFBSyxPQUVkLElBQVksSUFBUyxFQUFVLE1BQy9CLEVBQUssUUFBUSxPQUFTLEVBQUssT0FDM0IsRUFBTyxFQUFLLFFBRWhCLEVBQVEsSUFDSixFQUFRLEVBQWEsWUFDZCxJQUFULE9BQ0ksRUFBVSxFQUFNLFdBQ1QsSUFBVCxPQUNJLEVBQU0sV0FBYSxLQUNyQixHQUE2QixFQUFjLENBQU8sS0FDeEQsVUFDRyxJQUNILEdBQW1DLEVBQU0sQ0FBWSxFQUNyRCxHQUE0QixDQUFZLEVBQ3hDLEVBQVEsSUFDSixFQUFRLEVBQWEsWUFDZCxJQUFULE9BQ0ksRUFBYSxZQUFjLEtBQzdCLEdBQTZCLEVBQWMsQ0FBSyxJQUNwRCxVQUNHLElBQ0gsY0FFQSxHQUFtQyxFQUFNLENBQVksRUFDbkQsR0FBNEIsQ0FBWSxHQUdoRCxTQUFTLEVBQTJCLENBQUMsRUFBYyxDQUNqRCxJQUFJLEVBQVEsRUFBYSxNQUN6QixHQUFJLEVBQVEsRUFBRyxDQUNiLEdBQUksQ0FDRixHQUFrQixFQUFjLEdBQWlCLENBQVksUUFDdEQsRUFBUCxDQUNBLEdBQXdCLEVBQWMsRUFBYSxPQUFRLENBQUssRUFFbEUsRUFBYSxPQUFTLEdBRXhCLEVBQVEsT0FBUyxFQUFhLE9BQVMsT0FFekMsU0FBUyxFQUFxQixDQUFDLEVBQWEsQ0FDMUMsR0FBSSxFQUFZLGFBQWUsS0FDN0IsSUFBSyxFQUFjLEVBQVksTUFBZ0IsSUFBVCxNQUF3QixDQUM1RCxJQUFJLEVBQVEsRUFDWixHQUFzQixDQUFLLEVBQ3JCLEVBQU0sTUFBWixHQUFtQixFQUFNLE1BQVEsTUFBUSxFQUFNLFVBQVUsTUFBTSxFQUMvRCxFQUFjLEVBQVksU0FHaEMsU0FBUyxFQUFtQixDQUFDLEVBQWMsRUFBTSxFQUFnQixDQUMvRCxHQUFrQixFQUNsQixHQUFpQixFQUNqQixHQUEwQixFQUFNLEVBQWEsVUFBVyxDQUFZLEVBQ3BFLEdBQWlCLEdBQWtCLEtBRXJDLFNBQVMsRUFBZ0MsQ0FBQyxFQUFNLEVBQWEsQ0FDM0QsR0FBSSxFQUFZLGFBQWUsS0FDN0IsSUFBSyxFQUFjLEVBQVksTUFBZ0IsSUFBVCxNQUNwQyxHQUEwQixFQUFNLEVBQVksVUFBVyxDQUFXLEVBQy9ELEVBQWMsRUFBWSxRQUVuQyxTQUFTLEVBQXNCLENBQUMsRUFBYyxDQUM1QyxPQUFRLEVBQWEsU0FDZCxPQUNBLFFBQ0EsUUFDQSxJQUNILEdBQ0UsRUFDQSxFQUFhLE9BQ2IsRUFDRixFQUNBLEdBQTBDLENBQVksRUFDdEQsVUFDRyxHQUNILEdBQWdCLEVBQWMsRUFBYSxNQUFNLEVBQ2pELElBQUksRUFBVyxFQUFhLFVBQzVCLE9BQXNCLEVBQVMsdUJBQS9CLFlBQ0UsR0FDRSxFQUNBLEVBQWEsT0FDYixDQUNGLEVBQ0YsR0FBMEMsQ0FBWSxFQUN0RCxVQUNHLFFBQ0EsUUFDQSxHQUNILEdBQWdCLEVBQWMsRUFBYSxNQUFNLEVBQ2pELEdBQTBDLENBQVksRUFDdEQsVUFDRyxJQUNILEdBQWdCLEVBQWMsRUFBYSxNQUFNLEVBQ3hDLEVBQWEsZ0JBQXRCLE1BQ0UsR0FBMEMsQ0FBWSxFQUN4RCxjQUVBLEdBQTBDLENBQVksR0FHNUQsU0FBUyxFQUF5QyxDQUFDLEVBQWEsQ0FDOUQsSUFBSyxFQUFjLEVBQVksTUFBZ0IsSUFBVCxNQUNwQyxHQUF1QixDQUFXLEVBQy9CLEVBQWMsRUFBWSxRQUVqQyxTQUFTLEVBQXFCLENBQzVCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQVEsRUFBYSxNQUN6QixPQUFRLEVBQWEsU0FDZCxPQUNBLFFBQ0EsSUFDSCxHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FBd0IsRUFBYyxFQUFNLEVBQzVDLFVBQ0csR0FlSCxHQWRBLEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUFVLEVBQWEsaUJBQ0QsRUFBUSxvQkFBOUIsWUFDRSxHQUNFLEVBQ0EsR0FDQSxFQUNBLENBQ0YsRUFDRixFQUFVLEVBQWEsWUFDVixJQUFULEtBQWtCLENBQ3BCLEVBQWUsRUFBYSxVQUM1QixHQUFJLENBQ0YsR0FDRSxFQUNBLEdBQ0EsRUFDQSxDQUNGLFFBQ08sRUFBUCxDQUNBLEdBQXdCLEVBQWMsRUFBYSxPQUFRLENBQUssR0FHcEUsR0FDRSxFQUFRLElBQ1IsR0FBcUIsQ0FBWSxFQUNuQyxHQUFnQixFQUFjLEVBQWEsTUFBTSxFQUNqRCxVQUNHLFFBQ0EsUUFDQSxHQUNILEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxHQUNXLElBQVQsTUFDQSxFQUFRLEdBQ1IsR0FBZ0IsQ0FBWSxFQUM5QixHQUFnQixFQUFjLEVBQWEsTUFBTSxFQUNqRCxVQUNHLElBQ0gsR0FBSSxHQUFnQyxFQUFRLEVBQUcsQ0FDN0MsRUFBUSxHQUEwQixFQUNsQyxHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsRUFBK0IsRUFBYSxVQUM1QyxFQUE2QixnQkFDM0IsR0FBNEIsQ0FBSyxFQUNuQyxHQUFJLENBQ0YsR0FDRSxFQUNBLEdBQ0EsRUFDQSxFQUNBLEdBQ0EsRUFBNkIsY0FDL0IsUUFDTyxFQUFQLENBQ0EsR0FBd0IsRUFBYyxFQUFhLE9BQVEsQ0FBSyxPQUdsRSxJQUNFLEVBQ0EsRUFDQSxDQUNGLEVBQ0YsVUFDRyxJQUNILEdBQ0UsRUFDQSxFQUNBLENBQ0YsRUFDQSxHQUNFLEVBQVEsR0FDUixHQUFpQyxFQUFjLENBQVksRUFDN0QsVUFDRyxJQUNILEFBQVMsRUFBYSxnQkFBdEIsTUFDRSxHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBQ0YsR0FBZ0IsRUFBYyxFQUFhLE1BQU0sRUFDakQsY0FFQSxHQUNFLEVBQ0EsRUFDQSxDQUNGLEdBR04sU0FBUyxFQUF3QyxDQUMvQyxFQUNBLEVBQ0EsRUFDQSxDQUNBLEVBQ0UsSUFBdUMsRUFBWSxhQUFlLFFBQWxDLEVBQ2xDLElBQUssRUFBYyxFQUFZLE1BQWdCLElBQVQsTUFDcEMsR0FDRSxFQUNBLEVBQVksVUFDWixFQUNBLENBQ0YsRUFDRyxFQUFjLEVBQVksUUFFakMsU0FBUyxFQUFrQyxDQUFDLEVBQVMsRUFBYyxDQUNqRSxJQUFJLEVBQWdCLEtBQ3BCLEFBQVMsSUFBVCxNQUNXLEVBQVEsZ0JBQWpCLE1BQ1MsRUFBUSxjQUFjLFlBQS9CLE9BQ0MsRUFBZ0IsRUFBUSxjQUFjLFVBQVUsTUFDbkQsRUFBVSxLQUNELEVBQWEsZ0JBQXRCLE1BQ1csRUFBYSxjQUFjLFlBQXBDLE9BQ0MsRUFBVSxFQUFhLGNBQWMsVUFBVSxNQUNsRCxJQUFZLElBQ0QsR0FBUixNQUFtQixHQUFZLENBQU8sRUFDL0IsR0FBUixNQUF5QixHQUFhLENBQWEsR0FFdkQsU0FBUyxFQUE2QixDQUFDLEVBQVMsRUFBYyxDQUM1RCxFQUFVLEtBQ0QsRUFBYSxZQUF0QixPQUNHLEVBQVUsRUFBYSxVQUFVLGNBQWMsT0FDbEQsRUFBZSxFQUFhLGNBQWMsTUFDMUMsSUFBaUIsSUFDZCxHQUFZLENBQVksRUFBVyxHQUFSLE1BQW1CLEdBQWEsQ0FBTyxHQUV2RSxTQUFTLEVBQXNDLENBQzdDLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUFJLEVBQVksYUFBZSxNQUM3QixJQUFLLEVBQWMsRUFBWSxNQUFnQixJQUFULE1BQ3BDLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNHLEVBQWMsRUFBWSxRQUVuQyxTQUFTLEVBQXlCLENBQ2hDLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQVEsRUFBYSxNQUN6QixPQUFRLEVBQWEsU0FDZCxPQUNBLFFBQ0EsSUFDSCxHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUFRLE1BQ04sR0FBOEIsRUFBYyxHQUFVLEVBQVMsRUFDakUsVUFDRyxHQUNILElBQUksRUFBcUIsR0FBMEIsRUFDbkQsR0FDRSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsRUFBUSxPQUNKLEVBQWlCLEtBQ1YsRUFBYSxZQUF0QixPQUNHLEVBQWlCLEVBQWEsVUFBVSxjQUFjLE9BQ3hELEVBQWUsRUFBYSxjQUFjLE1BQzNDLElBQWlCLElBQ2QsR0FBWSxDQUFZLEVBQ2pCLEdBQVIsTUFBMEIsR0FBYSxDQUFjLElBQ3pELEVBQWEsdUJBQ1gsR0FBeUIsQ0FBa0IsRUFDN0MsVUFDRyxJQUNILEdBQUksRUFBUSxLQUFNLENBQ2hCLEVBQXFCLEdBQTBCLEVBQy9DLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEVBQWUsRUFBYSxVQUM1QixFQUFhLHVCQUNYLEdBQTRCLENBQWtCLEVBQ2hELEdBQUksQ0FDRixHQUNFLEVBQ0EsR0FDQSxFQUNBLEVBQWEsVUFDYixHQUNBLEVBQWEscUJBQ2YsUUFDTyxFQUFQLENBQ0EsR0FBd0IsRUFBYyxFQUFhLE9BQVEsQ0FBSyxPQUdsRSxJQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDRixVQUNHLElBQ0gsVUFDRyxJQUNILEVBQXFCLEVBQWEsVUFDekIsRUFBYSxnQkFBdEIsS0FDSSxFQUFtQixZQUFjLEdBQy9CLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEdBQ0UsRUFDQSxDQUNGLEVBQ0YsRUFBbUIsWUFBYyxHQUMvQixHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsR0FDRSxFQUFtQixhQUNuQixHQUNGLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsR0FDTyxFQUFhLGFBQWUsU0FBbkMsQ0FDRixHQUNOLEVBQVEsTUFDTixHQUNFLEVBQWEsVUFDYixDQUNGLEVBQ0YsVUFDRyxJQUNILEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEVBQVEsTUFDTixHQUE4QixFQUFhLFVBQVcsQ0FBWSxFQUNwRSxjQUVBLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixHQUdOLFNBQVMsRUFBMEMsQ0FDakQsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsRUFDRSxJQUNPLEVBQVksYUFBZSxTQUFsQyxFQUNGLElBQUssRUFBYyxFQUFZLE1BQWdCLElBQVQsTUFDcEMsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDRyxFQUFjLEVBQVksUUFFakMsU0FBUyxFQUF1QixDQUM5QixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQVEsRUFBYSxNQUN6QixPQUFRLEVBQWEsU0FDZCxPQUNBLFFBQ0EsSUFDSCxHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEdBQThCLEVBQWMsRUFBTyxFQUNuRCxVQUNHLElBQ0gsVUFDRyxJQUNILElBQUksRUFBYSxFQUFhLFVBQzlCLEFBQVMsRUFBYSxnQkFBdEIsS0FDSSxFQUFXLFlBQWMsR0FDdkIsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxHQUNFLEVBQ0EsQ0FDRixHQUNBLEVBQVcsYUFBZSxHQUM1QixHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixHQUNKLEdBQ0UsRUFBUSxNQUNSLEdBQ0UsRUFBYSxVQUNiLENBQ0YsRUFDRixVQUNHLElBQ0gsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxHQUNFLEVBQVEsTUFDUixHQUE4QixFQUFhLFVBQVcsQ0FBWSxFQUNwRSxjQUVBLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEdBR04sU0FBUyxFQUF1QyxDQUM5QyxFQUNBLEVBQ0EsQ0FDQSxHQUFJLEVBQVksYUFBZSxNQUM3QixJQUFLLEVBQWMsRUFBWSxNQUFnQixJQUFULE1BQXdCLENBQzVELElBQUksRUFBZSxFQUNqQixFQUFlLEVBQ2YsRUFBUSxFQUFhLE1BQ3ZCLE9BQVEsRUFBYSxTQUNkLElBQ0gsR0FDRSxFQUNBLENBQ0YsRUFDQSxFQUFRLE1BQ04sR0FDRSxFQUFhLFVBQ2IsQ0FDRixFQUNGLFVBQ0csSUFDSCxHQUNFLEVBQ0EsQ0FDRixFQUNBLEVBQVEsTUFDTixHQUNFLEVBQWEsVUFDYixDQUNGLEVBQ0YsY0FFQSxHQUNFLEVBQ0EsQ0FDRixFQUVKLEVBQWMsRUFBWSxTQUdoQyxTQUFTLEVBQW9DLENBQUMsRUFBYSxDQUN6RCxHQUFJLEVBQVksYUFBZSxHQUM3QixJQUFLLEVBQWMsRUFBWSxNQUFnQixJQUFULE1BQ3BDLEdBQWlDLENBQVcsRUFDekMsRUFBYyxFQUFZLFFBRW5DLFNBQVMsRUFBZ0MsQ0FBQyxFQUFPLENBQy9DLE9BQVEsRUFBTSxTQUNQLElBQ0gsR0FBcUMsQ0FBSyxFQUMxQyxFQUFNLE1BQVEsSUFDSCxFQUFNLGdCQUFmLE1BQ0EsR0FDRSxHQUNBLEVBQU0sY0FDTixFQUFNLGFBQ1IsRUFDRixVQUNHLEdBQ0gsR0FBcUMsQ0FBSyxFQUMxQyxVQUNHLE9BQ0EsR0FDSCxJQUFJLEVBQXdCLEdBQzVCLEdBQXVCLEdBQ3JCLEVBQU0sVUFBVSxhQUNsQixFQUNBLEdBQXFDLENBQUssRUFDMUMsR0FBdUIsRUFDdkIsVUFDRyxJQUNILEFBQVMsRUFBTSxnQkFBZixPQUNJLEVBQXdCLEVBQU0sVUFDdkIsSUFBVCxNQUNTLEVBQXNCLGdCQUEvQixNQUNNLEVBQXdCLEdBQ3pCLEdBQXNCLFNBQ3ZCLEdBQXFDLENBQUssRUFDekMsR0FBc0IsR0FDdkIsR0FBcUMsQ0FBSyxHQUNoRCxjQUVBLEdBQXFDLENBQUssR0FHaEQsU0FBUyxFQUF1QixDQUFDLEVBQWEsQ0FDNUMsSUFBSSxFQUFnQixFQUFZLFVBQ2hDLEdBQ1csSUFBVCxPQUNFLEVBQWMsRUFBYyxNQUFpQixJQUFULE1BQ3RDLENBQ0EsRUFBYyxNQUFRLEtBQ3RCLEVBQ0UsQ0FBQyxFQUFnQixFQUFZLFFBQzFCLEVBQVksUUFBVSxLQUN0QixFQUFjLFFBQ0gsSUFBVCxPQUdYLFNBQVMsRUFBd0MsQ0FBQyxFQUFhLENBQzdELElBQUksRUFBWSxFQUFZLFVBQzVCLElBQVcsRUFBWSxNQUFRLE1BQTNCLEVBQWdDLENBQ2xDLEdBQWEsSUFBVCxLQUNGLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBVSxPQUFRLElBQUssQ0FDekMsSUFBSSxFQUFnQixFQUFVLEdBQzlCLEdBQWEsRUFDYixHQUNFLEVBQ0EsQ0FDRixFQUVKLEdBQXdCLENBQVcsRUFFckMsR0FBSSxFQUFZLGFBQWUsTUFDN0IsSUFBSyxFQUFjLEVBQVksTUFBZ0IsSUFBVCxNQUNwQyxHQUE0QixDQUFXLEVBQ3BDLEVBQWMsRUFBWSxRQUVuQyxTQUFTLEVBQTJCLENBQUMsRUFBYyxDQUNqRCxPQUFRLEVBQWEsU0FDZCxPQUNBLFFBQ0EsSUFDSCxHQUF5QyxDQUFZLEVBQ3JELEVBQWEsTUFBUSxNQUNuQixHQUNFLEVBQ0EsRUFBYSxPQUNiLEdBQVUsRUFDWixFQUNGLFVBQ0csR0FDSCxJQUFJLEVBQXFCLEdBQTBCLEVBQ25ELEdBQXlDLENBQVksRUFDckQsRUFBYSxVQUFVLHVCQUNyQixHQUF5QixDQUFrQixFQUM3QyxVQUNHLElBQ0gsRUFBcUIsR0FBMEIsRUFDL0MsR0FBeUMsQ0FBWSxFQUNyRCxFQUFhLFVBQVUsdUJBQ3JCLEdBQTRCLENBQWtCLEVBQ2hELFVBQ0csSUFDSCxFQUFxQixFQUFhLFVBQ3pCLEVBQWEsZ0JBQXRCLE1BQ0EsRUFBbUIsWUFBYyxLQUN2QixFQUFhLFNBQXRCLE1BQXVDLEVBQWEsT0FBTyxNQUEzQixLQUMzQixFQUFtQixjQUNsQixHQUNILEdBQTRDLENBQVksR0FDeEQsR0FBeUMsQ0FBWSxFQUN6RCxjQUVBLEdBQXlDLENBQVksR0FHM0QsU0FBUyxFQUEyQyxDQUFDLEVBQWEsQ0FDaEUsSUFBSSxFQUFZLEVBQVksVUFDNUIsSUFBVyxFQUFZLE1BQVEsTUFBM0IsRUFBZ0MsQ0FDbEMsR0FBYSxJQUFULEtBQ0YsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFVLE9BQVEsSUFBSyxDQUN6QyxJQUFJLEVBQWdCLEVBQVUsR0FDOUIsR0FBYSxFQUNiLEdBQ0UsRUFDQSxDQUNGLEVBRUosR0FBd0IsQ0FBVyxFQUVyQyxJQUFLLEVBQWMsRUFBWSxNQUFnQixJQUFULE1BQ3BDLEdBQXdCLENBQVcsRUFDaEMsRUFBYyxFQUFZLFFBRWpDLFNBQVMsRUFBdUIsQ0FBQyxFQUFjLENBQzdDLE9BQVEsRUFBYSxTQUNkLE9BQ0EsUUFDQSxJQUNILEdBQ0UsRUFDQSxFQUFhLE9BQ2IsRUFDRixFQUNBLEdBQTRDLENBQVksRUFDeEQsVUFDRyxJQUNILElBQUksRUFBVyxFQUFhLFVBQzVCLEVBQVMsWUFBYyxLQUNuQixFQUFTLGNBQWdCLEdBQzNCLEdBQTRDLENBQVksR0FDMUQsY0FFQSxHQUE0QyxDQUFZLEdBRzlELFNBQVMsRUFBb0QsQ0FDM0QsRUFDQSxFQUNBLENBQ0EsS0FBZ0IsS0FBVCxNQUF1QixDQUM1QixJQUFJLEVBQVEsR0FDVixFQUFVLEVBQ1osT0FBUSxFQUFRLFNBQ1QsT0FDQSxRQUNBLElBQ0gsR0FDRSxFQUNBLEVBQ0EsRUFDRixFQUNBLFVBQ0csUUFDQSxJQUNILEFBQVMsRUFBUSxnQkFBakIsTUFDVyxFQUFRLGNBQWMsWUFBL0IsT0FDRSxFQUFVLEVBQVEsY0FBYyxVQUFVLEtBQ3BDLEdBQVIsTUFBbUIsR0FBWSxDQUFPLEdBQ3hDLFVBQ0csSUFDSCxHQUFhLEVBQVEsY0FBYyxLQUFLLEVBRzVDLEdBREEsRUFBVSxFQUFNLE1BQ0gsSUFBVCxLQUFrQixBQUFDLEVBQVEsT0FBUyxFQUFTLEdBQWEsTUFFNUQsR0FBRyxJQUFLLEVBQVEsRUFBNkIsS0FBVCxNQUF1QixDQUN6RCxFQUFVLEdBQ1YsSUFBc0IsUUFBbEIsRUFDb0IsT0FBdEIsR0FBYyxFQUVoQixHQURBLEdBQXdCLENBQU8sRUFDM0IsSUFBWSxFQUFPLENBQ3JCLEdBQWEsS0FDYixRQUVGLEdBQWEsSUFBVCxLQUFrQixDQUNwQixFQUFRLE9BQVMsRUFDakIsR0FBYSxFQUNiLFFBRUYsR0FBYSxJQUlyQixTQUFTLEVBQVMsQ0FBQyxFQUFLLEVBQWMsRUFBSyxFQUFNLENBQy9DLEtBQUssSUFBTSxFQUNYLEtBQUssSUFBTSxFQUNYLEtBQUssUUFDSCxLQUFLLE1BQ0wsS0FBSyxPQUNMLEtBQUssVUFDTCxLQUFLLEtBQ0wsS0FBSyxZQUNILEtBQ0osS0FBSyxNQUFRLEVBQ2IsS0FBSyxXQUFhLEtBQUssSUFBTSxLQUM3QixLQUFLLGFBQWUsRUFDcEIsS0FBSyxhQUNILEtBQUssY0FDTCxLQUFLLFlBQ0wsS0FBSyxjQUNILEtBQ0osS0FBSyxLQUFPLEVBQ1osS0FBSyxhQUFlLEtBQUssTUFBUSxFQUNqQyxLQUFLLFVBQVksS0FDakIsS0FBSyxXQUFhLEtBQUssTUFBUSxFQUMvQixLQUFLLFVBQVksS0FDakIsS0FBSyxlQUFpQixHQUN0QixLQUFLLGdCQUFrQixLQUN2QixLQUFLLGlCQUFtQixLQUFLLGlCQUFtQixHQUNoRCxLQUFLLFlBQWMsS0FBSyxXQUFhLEtBQ3JDLEtBQUssbUJBQXFCLEdBQzFCLEtBQUssZ0JBQWtCLEtBQ3ZCLFdBQ3dCLE9BQU8sb0JBQTdCLFlBQ0EsT0FBTyxrQkFBa0IsSUFBSSxFQUVqQyxTQUFTLEVBQWUsQ0FBQyxFQUFXLENBRWxDLE9BREEsRUFBWSxFQUFVLGFBQ1osSUFBYyxFQUFVLGtCQUVwQyxTQUFTLEVBQW9CLENBQUMsRUFBUyxFQUFjLENBQ25ELElBQUksRUFBaUIsRUFBUSxVQThDN0IsT0E3Q1MsSUFBVCxNQUNNLEVBQWlCLEVBQ2pCLEVBQVEsSUFDUixFQUNBLEVBQVEsSUFDUixFQUFRLElBQ1YsRUFDQyxFQUFlLFlBQWMsRUFBUSxZQUNyQyxFQUFlLEtBQU8sRUFBUSxLQUM5QixFQUFlLFVBQVksRUFBUSxVQUNuQyxFQUFlLFlBQWMsRUFBUSxZQUNyQyxFQUFlLGdCQUFrQixFQUFRLGdCQUN6QyxFQUFlLFVBQVksRUFDM0IsRUFBUSxVQUFZLElBQ25CLEVBQWUsYUFBZSxFQUMvQixFQUFlLEtBQU8sRUFBUSxLQUM5QixFQUFlLE1BQVEsRUFDdkIsRUFBZSxhQUFlLEVBQzlCLEVBQWUsVUFBWSxLQUMzQixFQUFlLGVBQWlCLEdBQ2hDLEVBQWUsZ0JBQWtCLE1BQ3RDLEVBQWUsTUFBUSxFQUFRLE1BQVEsU0FDdkMsRUFBZSxXQUFhLEVBQVEsV0FDcEMsRUFBZSxNQUFRLEVBQVEsTUFDL0IsRUFBZSxNQUFRLEVBQVEsTUFDL0IsRUFBZSxjQUFnQixFQUFRLGNBQ3ZDLEVBQWUsY0FBZ0IsRUFBUSxjQUN2QyxFQUFlLFlBQWMsRUFBUSxZQUNyQyxFQUFlLEVBQVEsYUFDdkIsRUFBZSxhQUNKLElBQVQsS0FDSSxLQUNBLENBQ0UsTUFBTyxFQUFhLE1BQ3BCLGFBQWMsRUFBYSxhQUMzQixvQkFBcUIsRUFBYSxtQkFDcEMsRUFDTixFQUFlLFFBQVUsRUFBUSxRQUNqQyxFQUFlLE1BQVEsRUFBUSxNQUMvQixFQUFlLElBQU0sRUFBUSxJQUM3QixFQUFlLFdBQWEsRUFBUSxXQUNwQyxFQUFlLGlCQUFtQixFQUFRLGlCQUMxQyxFQUFlLGlCQUFtQixFQUFRLGlCQUMxQyxFQUFlLFdBQWEsRUFBUSxXQUNwQyxFQUFlLG1CQUFxQixFQUFRLG1CQUNwQyxFQUFlLFNBQ2hCLE9BQ0EsSUFDSCxFQUFlLEtBQU8sR0FBK0IsRUFBUSxJQUFJLEVBQ2pFLFVBQ0csR0FDSCxFQUFlLEtBQU8sR0FBK0IsRUFBUSxJQUFJLEVBQ2pFLFVBQ0csSUFDSCxFQUFlLEtBQU8sR0FBaUMsRUFBUSxJQUFJLEVBRXZFLE9BQU8sRUFFVCxTQUFTLEVBQW1CLENBQUMsRUFBZ0IsRUFBYSxDQUN4RCxFQUFlLE9BQVMsU0FDeEIsSUFBSSxFQUFVLEVBQWUsVUFpQzdCLE9BaENTLElBQVQsTUFDTSxFQUFlLFdBQWEsRUFDN0IsRUFBZSxNQUFRLEVBQ3ZCLEVBQWUsTUFBUSxLQUN2QixFQUFlLGFBQWUsRUFDOUIsRUFBZSxjQUFnQixLQUMvQixFQUFlLGNBQWdCLEtBQy9CLEVBQWUsWUFBYyxLQUM3QixFQUFlLGFBQWUsS0FDOUIsRUFBZSxVQUFZLEtBQzNCLEVBQWUsaUJBQW1CLEVBQ2xDLEVBQWUsaUJBQW1CLElBQ2pDLEVBQWUsV0FBYSxFQUFRLFdBQ3JDLEVBQWUsTUFBUSxFQUFRLE1BQy9CLEVBQWUsTUFBUSxFQUFRLE1BQy9CLEVBQWUsYUFBZSxFQUM5QixFQUFlLFVBQVksS0FDM0IsRUFBZSxjQUFnQixFQUFRLGNBQ3ZDLEVBQWUsY0FBZ0IsRUFBUSxjQUN2QyxFQUFlLFlBQWMsRUFBUSxZQUNyQyxFQUFlLEtBQU8sRUFBUSxLQUM5QixFQUFjLEVBQVEsYUFDdEIsRUFBZSxhQUNMLElBQVQsS0FDSSxLQUNBLENBQ0UsTUFBTyxFQUFZLE1BQ25CLGFBQWMsRUFBWSxhQUMxQixvQkFBcUIsRUFBWSxtQkFDbkMsRUFDTCxFQUFlLGlCQUFtQixFQUFRLGlCQUMxQyxFQUFlLGlCQUFtQixFQUFRLGtCQUN4QyxFQUVULFNBQVMsRUFBMkIsQ0FDbEMsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQVcsRUFDYixFQUFlLEVBQ2pCLFVBQTBCLElBQXRCLFdBQ0YsR0FBZ0IsQ0FBSSxJQUFNLEVBQVcsR0FDbEMsRUFBZSxHQUErQixDQUFZLGlCQUNsQyxJQUFwQixTQUNQLEFBQUMsRUFBVyxHQUFlLEVBQ3hCLEVBQVcsR0FBb0IsRUFBTSxFQUFjLENBQVEsRUFDeEQsR0FDVyxJQUFYLFFBQThCLElBQVgsUUFBOEIsSUFBWCxPQUNwQyxHQUNBLE1BRVIsR0FBRyxPQUFRLFFBQ0osR0FDSCxPQUFPLEdBQ0wsRUFBYSxTQUNiLEVBQ0EsRUFDQSxDQUNGLE9BQ0csR0FDSCxFQUFXLEVBQ1gsR0FBUSxHQUNSLEdBQVEsR0FDUixXQUNHLEdBQ0gsT0FDRyxFQUFPLEVBQ1AsRUFBUSxTQUNXLEVBQUssS0FBekIsVUFDRSxRQUFRLE1BQ04sbUdBQ08sRUFBSyxFQUNkLEVBQ0QsRUFBTSxFQUFZLEdBQUksRUFBTSxFQUFLLEVBQVEsRUFBVyxFQUNwRCxFQUFJLFlBQWMsR0FDbEIsRUFBSSxNQUFRLEVBQ1osRUFBSSxVQUFZLENBQUUsZUFBZ0IsRUFBRyxzQkFBdUIsQ0FBRSxFQUMvRCxPQUVDLEdBQ0gsT0FDRyxFQUFNLEVBQVksR0FBSSxFQUFjLEVBQUssQ0FBSSxFQUM3QyxFQUFJLFlBQWMsR0FDbEIsRUFBSSxNQUFRLEVBQ2IsT0FFQyxHQUNILE9BQ0csRUFBTSxFQUFZLEdBQUksRUFBYyxFQUFLLENBQUksRUFDN0MsRUFBSSxZQUFjLEdBQ2xCLEVBQUksTUFBUSxFQUNiLE9BRUMsR0FDSCxPQUFPLEdBQXlCLEVBQWMsRUFBTSxFQUFPLENBQUcsVUFFOUQsVUFBd0IsSUFBcEIsVUFBcUMsSUFBVCxLQUM5QixPQUFRLEVBQUssZUFDTixRQUNBLEdBQ0gsRUFBVyxHQUNYLGFBQ0csR0FDSCxFQUFXLEVBQ1gsYUFDRyxHQUNILEVBQVcsR0FDWCxFQUFlLEdBQWlDLENBQVksRUFDNUQsYUFDRyxHQUNILEVBQVcsR0FDWCxhQUNHLEdBQ0gsRUFBVyxHQUNYLEVBQWUsS0FDZixRQUdOLEdBREEsRUFBZSxHQUVGLElBQU4sZUFDZ0IsSUFBcEIsVUFDVSxJQUFULE1BQ00sT0FBTyxLQUFLLENBQUksRUFBRSxTQUF4QixFQUVGLEdBQ0UsbUlBQ0osQUFBUyxJQUFULEtBQ0ssRUFBZSxPQUNoQixHQUFZLENBQUksRUFDYixFQUFlLFFBQ0wsSUFBTixRQUFjLEVBQUssV0FBYSxJQUNqQyxFQUNBLEtBQ0MsRUFBeUIsRUFBSyxJQUFJLEdBQUssV0FDeEMsTUFDRCxFQUNDLHNFQUNELFNBQXNCLEdBQzlCLEVBQVcsRUFBUSxFQUEwQixDQUFLLEVBQUksUUFDcEQsR0FDQztBQUFBO0FBQUEsK0JBQXFDLEVBQVcsTUFDcEQsRUFBVyxHQUNYLEVBQWUsTUFDYixpSUFDRyxFQUFlLElBQU0sRUFDMUIsRUFDQSxFQUFlLEtBT3JCLE9BTEEsRUFBTSxFQUFZLEVBQVUsRUFBYyxFQUFLLENBQUksRUFDbkQsRUFBSSxZQUFjLEVBQ2xCLEVBQUksS0FBTyxFQUNYLEVBQUksTUFBUSxFQUNaLEVBQUksWUFBYyxFQUNYLEVBRVQsU0FBUyxFQUFzQixDQUFDLEVBQVMsRUFBTSxFQUFPLENBVXBELE9BVEEsRUFBTyxHQUNMLEVBQVEsS0FDUixFQUFRLElBQ1IsRUFBUSxNQUNSLEVBQVEsT0FDUixFQUNBLENBQ0YsRUFDQSxFQUFLLFlBQWMsRUFBUSxPQUNwQixFQUVULFNBQVMsRUFBdUIsQ0FBQyxFQUFVLEVBQU0sRUFBTyxFQUFLLENBRzNELE9BRkEsRUFBVyxFQUFZLEVBQUcsRUFBVSxFQUFLLENBQUksRUFDN0MsRUFBUyxNQUFRLEVBQ1YsRUFFVCxTQUFTLEVBQXdCLENBQUMsRUFBYyxFQUFNLEVBQU8sRUFBSyxDQUNoRSxFQUFlLEVBQVksR0FBSSxFQUFjLEVBQUssQ0FBSSxFQUN0RCxFQUFhLFlBQWMsR0FDM0IsRUFBYSxNQUFRLEVBQ3JCLElBQUksRUFBdUIsQ0FDekIsWUFBYSxHQUNiLG1CQUFvQixHQUNwQixnQkFBaUIsS0FDakIsWUFBYSxLQUNiLGFBQWMsS0FDZCxTQUFVLEtBQ1YsZUFBaUIsRUFBRyxDQUNsQixJQUFJLEVBQVcsRUFDYixFQUFRLEVBQVMsU0FDbkIsR0FBYSxJQUFULEtBQ0YsTUFBTSxNQUNKLCtEQUNGLEVBQ0YsSUFBVyxFQUFTLG1CQUFxQixNQUFyQyxFQUF5RCxDQUMzRCxJQUFJLEVBQU8sR0FBK0IsRUFBTyxDQUFDLEVBQ2xELEFBQVMsSUFBVCxPQUNJLEVBQVMsb0JBQXNCLEdBQ2pDLEdBQXNCLEVBQU0sRUFBTyxDQUFDLEtBRzFDLGVBQWlCLEVBQUcsQ0FDbEIsSUFBSSxFQUFXLEVBQ2IsRUFBUSxFQUFTLFNBQ25CLEdBQWEsSUFBVCxLQUNGLE1BQU0sTUFDSiwrREFDRixFQUNGLElBQVcsRUFBUyxtQkFBcUIsTUFBckMsRUFBeUQsQ0FDM0QsSUFBSSxFQUFPLEdBQStCLEVBQU8sQ0FBQyxFQUNsRCxBQUFTLElBQVQsT0FDSSxFQUFTLHFCQUF1QixHQUNsQyxHQUFzQixFQUFNLEVBQU8sQ0FBQyxJQUc1QyxFQUVBLE9BREEsRUFBYSxVQUFZLEVBQ2xCLEVBRVQsU0FBUyxFQUFtQixDQUFDLEVBQVMsRUFBTSxFQUFPLENBR2pELE9BRkEsRUFBVSxFQUFZLEVBQUcsRUFBUyxLQUFNLENBQUksRUFDNUMsRUFBUSxNQUFRLEVBQ1QsRUFFVCxTQUFTLEVBQXFCLENBQUMsRUFBUSxFQUFNLEVBQU8sQ0FhbEQsT0FaQSxFQUFPLEVBQ0wsRUFDUyxFQUFPLFdBQWhCLEtBQTJCLEVBQU8sU0FBVyxDQUFDLEVBQzlDLEVBQU8sSUFDUCxDQUNGLEVBQ0EsRUFBSyxNQUFRLEVBQ2IsRUFBSyxVQUFZLENBQ2YsY0FBZSxFQUFPLGNBQ3RCLGdCQUFpQixLQUNqQixlQUFnQixFQUFPLGNBQ3pCLEVBQ08sRUFFVCxTQUFTLEVBQVUsQ0FBQyxFQUFnQixDQUNsQyxFQUFlLE9BQVMsRUFFMUIsU0FBUyxFQUFpQyxDQUFDLEVBQWdCLEVBQVUsQ0FDbkUsR0FDbUIsRUFBUyxPQUExQixlQUNDLEVBQVMsTUFBTSxRQUFVLE1BQWMsR0FFeEMsRUFBZSxPQUFTLGtCQUV0QixFQUFlLE9BQVMsVUFBWSxHQUFnQixDQUFRLEVBQzlELENBRUEsR0FEQSxFQUFXLEdBQTJCLFFBRTNCLElBQVQsUUFDRSxHQUFnQyxXQUNsQyxHQUNhLEtBQVQsTUFDRSxHQUFnQyxZQUNoQyxLQUNPLEdBQWdDLGFBQXZDLEdBQ0YsSUFBYSxJQUVqQixNQUNJLEdBQW9CLEdBQ3RCLEdBRUosRUFBZSxPQUFTLE1BRzVCLFNBQVMsRUFBbUIsQ0FBQyxFQUFnQixFQUFZLENBQ3ZELEFBQVMsSUFBVCxPQUF3QixFQUFlLE9BQVMsR0FDaEQsRUFBZSxNQUFRLFFBQ25CLEVBQ08sRUFBZSxNQUF0QixHQUE0QixHQUFtQixFQUFJLFVBQ3BELEVBQWUsT0FBUyxFQUN4QixJQUFxQyxHQUUxQyxTQUFTLEVBQWtCLENBQUMsRUFBYSxFQUEwQixDQUNqRSxJQUFLLEdBQ0gsT0FBUSxFQUFZLGNBQ2IsU0FDSCxFQUEyQixFQUFZLEtBQ3ZDLFFBQVMsRUFBZSxLQUFlLElBQVQsTUFDNUIsQUFBUyxFQUF5QixZQUFsQyxPQUNHLEVBQWUsR0FDZixFQUEyQixFQUF5QixRQUN6RCxBQUFTLElBQVQsS0FDSyxFQUFZLEtBQU8sS0FDbkIsRUFBYSxRQUFVLEtBQzVCLFVBQ0csWUFDSCxFQUFlLEVBQVksS0FDM0IsUUFBUyxFQUFnQixLQUFlLElBQVQsTUFDN0IsQUFBUyxFQUFhLFlBQXRCLE9BQW9DLEVBQWdCLEdBQ2pELEVBQWUsRUFBYSxRQUNqQyxBQUFTLElBQVQsS0FDSSxHQUFxQyxFQUFZLE9BQXJCLEtBQ3pCLEVBQVksS0FBTyxLQUNuQixFQUFZLEtBQUssUUFBVSxLQUM3QixFQUFjLFFBQVUsTUFHckMsU0FBUyxFQUFnQixDQUFDLEVBQWUsQ0FDdkMsSUFBSSxFQUNTLEVBQWMsWUFBdkIsTUFDQSxFQUFjLFVBQVUsUUFBVSxFQUFjLE1BQ2xELEVBQWdCLEVBQ2hCLEVBQWUsRUFDakIsR0FBSSxFQUNGLElBQUssRUFBYyxLQUFPLE1BQWlCLEdBQVEsQ0FDakQsUUFDd0MsaUJBQWxDLEVBQ3NCLE1BQXhCLEdBQVUsRUFDSCxJQUFULE1BR0EsQUFBQyxHQUFpQixFQUFRLE1BQVEsRUFBUSxXQUN2QyxHQUFnQixFQUFRLGFBQWUsU0FDdkMsR0FBZ0IsRUFBUSxNQUFRLFNBQ2hDLEdBQXFCLEVBQVEsaUJBQzdCLEVBQVUsRUFBUSxRQUN2QixFQUFjLGlCQUFtQixNQUVqQyxLQUNFLEVBQW9CLEVBQWMsTUFDekIsSUFBVCxNQUdBLEFBQUMsR0FDQyxFQUFrQixNQUFRLEVBQWtCLFdBQzNDLEdBQWdCLEVBQWtCLGFBQWUsU0FDakQsR0FBZ0IsRUFBa0IsTUFBUSxTQUMxQyxFQUFrQixPQUFTLEVBQzNCLEVBQW9CLEVBQWtCLGlCQUNyQyxFQUFjLEtBQU8sTUFBaUIsR0FBUSxDQUN0RCxFQUFvQixFQUFjLGVBQ2xDLEVBQVUsRUFBYyxpQkFDeEIsUUFBUyxFQUFRLEVBQWMsTUFBZ0IsSUFBVCxNQUNwQyxBQUFDLEdBQWlCLEVBQU0sTUFBUSxFQUFNLFdBQ25DLEdBQWdCLEVBQU0sYUFDdEIsR0FBZ0IsRUFBTSxNQUN0QixHQUFxQixFQUFNLGVBQzNCLEdBQVcsRUFBTSxpQkFDakIsRUFBUSxFQUFNLFFBQ25CLEVBQWMsZUFBaUIsRUFDL0IsRUFBYyxpQkFBbUIsTUFFakMsS0FDRSxFQUFvQixFQUFjLE1BQ3pCLElBQVQsTUFHQSxBQUFDLEdBQ0MsRUFBa0IsTUFBUSxFQUFrQixXQUMzQyxHQUFnQixFQUFrQixhQUNsQyxHQUFnQixFQUFrQixNQUNsQyxFQUFrQixPQUFTLEVBQzNCLEVBQW9CLEVBQWtCLFFBRzdDLE9BRkEsRUFBYyxjQUFnQixFQUM5QixFQUFjLFdBQWEsRUFDcEIsRUFFVCxTQUFTLEVBQVksQ0FBQyxFQUFTLEVBQWdCLEVBQWEsQ0FDMUQsSUFBSSxFQUFXLEVBQWUsYUFFOUIsT0FEQSxHQUFlLENBQWMsRUFDckIsRUFBZSxTQUNoQixRQUNBLFFBQ0EsT0FDQSxRQUNBLE9BQ0EsT0FDQSxRQUNBLE9BQ0EsSUFDSCxPQUFPLEdBQWlCLENBQWMsRUFBRyxTQUN0QyxHQUNILE9BQU8sR0FBaUIsQ0FBYyxFQUFHLFNBQ3RDLEdBV0gsR0FWQSxFQUFXLEVBQWUsVUFDMUIsRUFBYyxLQUNMLElBQVQsT0FBcUIsRUFBYyxFQUFRLGNBQWMsT0FDekQsRUFBZSxjQUFjLFFBQVUsSUFDcEMsRUFBZSxPQUFTLE1BQzNCLEdBQVksR0FBYyxDQUFjLEVBQ3hDLEdBQWlCLENBQWMsRUFDL0IsRUFBUyxpQkFDTCxFQUFTLFFBQVUsRUFBUyxlQUM3QixFQUFTLGVBQWlCLE1BQ2hCLElBQVQsTUFBNkIsRUFBUSxRQUFqQixLQUN0QixHQUFrQixDQUFjLEdBQzNCLEdBQTZCLEVBQUcsR0FBVyxDQUFjLEdBQ2pELElBQVQsTUFDQyxFQUFRLGNBQWMsZUFDZCxFQUFlLE1BQVEsT0FBOUIsSUFDQSxFQUFlLE9BQVMsS0FDakIsS0FBVCxPQUNHLEdBQXVCLEVBQWUsRUFDdEMsR0FBa0IsT0FFM0IsT0FEQSxHQUFpQixDQUFjLEVBQ3hCLFNBQ0osSUFDSCxPQUNHLEVBQWMsRUFBZSxjQUNyQixJQUFULE1BQ0ssR0FBVyxDQUFjLEVBQ2pCLElBQVQsTUFDSyxHQUFpQixDQUFjLEVBQ2hDLEdBQ0UsRUFDQSxDQUNGLElBQ0MsR0FBaUIsQ0FBYyxFQUMvQixFQUFlLE9BQVMsWUFDN0IsRUFDRSxJQUFnQixFQUFRLGVBQ3JCLEdBQVcsQ0FBYyxFQUMxQixHQUFpQixDQUFjLEVBQy9CLEdBQ0UsRUFDQSxDQUNGLElBQ0MsR0FBaUIsQ0FBYyxFQUMvQixFQUFlLE9BQVMsWUFDMUIsRUFBUSxnQkFBa0IsR0FDekIsR0FBVyxDQUFjLEVBQzNCLEdBQWlCLENBQWMsRUFDOUIsRUFBZSxPQUFTLFdBQy9CLFNBRUMsSUFDSCxHQUFlLENBQWMsRUFDN0IsRUFBYyxHQUFnQixHQUF3QixPQUFPLEVBQzdELElBQUksRUFBUSxFQUFlLEtBQzNCLEdBQWEsSUFBVCxNQUE0QixFQUFlLFdBQXZCLEtBQ3RCLEVBQVEsZ0JBQWtCLEdBQVksR0FBVyxDQUFjLE1BQzVELENBQ0gsSUFBSyxFQUFVLENBQ2IsR0FBYSxFQUFlLFlBQXhCLEtBQ0YsTUFBTSxNQUNKLDZHQUNGLEVBRUYsT0FEQSxHQUFpQixDQUFjLEVBQ3hCLEtBRVQsRUFBVSxHQUFlLEVBQ3pCLEdBQWtCLENBQWMsRUFDNUIsR0FBNkIsRUFBZ0IsQ0FBTyxHQUNsRCxFQUFVLEdBQ1YsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNGLEVBQ0MsRUFBZSxVQUFZLEVBQzVCLEdBQVcsQ0FBYyxHQUcvQixPQURBLEdBQWlCLENBQWMsRUFDeEIsU0FDSixHQUdILEdBRkEsR0FBZSxDQUFjLEVBQzdCLEVBQWMsRUFBZSxLQUNoQixJQUFULE1BQTRCLEVBQWUsV0FBdkIsS0FDdEIsRUFBUSxnQkFBa0IsR0FBWSxHQUFXLENBQWMsTUFDNUQsQ0FDSCxJQUFLLEVBQVUsQ0FDYixHQUFhLEVBQWUsWUFBeEIsS0FDRixNQUFNLE1BQ0osNkdBQ0YsRUFFRixPQURBLEdBQWlCLENBQWMsRUFDeEIsS0FHVCxHQURBLEVBQVEsR0FBZSxFQUNuQixHQUFrQixDQUFjLEVBQ2xDLEdBQTZCLEVBQWdCLENBQUssTUFDL0MsQ0FLSCxPQUpBLEVBQVUsR0FBZ0IsR0FBd0IsT0FBTyxFQUN6RCxHQUFtQixFQUFhLEVBQU0sWUFBWSxFQUNsRCxFQUFRLEVBQU0sUUFDZCxFQUFVLEdBQWtDLENBQU8sRUFDM0MsUUFDRCxHQUNILEVBQVUsRUFBUSxnQkFBZ0IsR0FBZSxDQUFXLEVBQzVELFdBQ0csR0FDSCxFQUFVLEVBQVEsZ0JBQ2hCLEdBQ0EsQ0FDRixFQUNBLGNBRUEsT0FBUSxPQUNELE1BQ0gsRUFBVSxFQUFRLGdCQUNoQixHQUNBLENBQ0YsRUFDQSxVQUNHLE9BQ0gsRUFBVSxFQUFRLGdCQUNoQixHQUNBLENBQ0YsRUFDQSxVQUNHLFNBQ0gsRUFBVSxFQUFRLGNBQWMsS0FBSyxFQUNyQyxFQUFRLFVBQVksb0JBQ3BCLEVBQVUsRUFBUSxZQUFZLEVBQVEsVUFBVSxFQUNoRCxVQUNHLFNBQ0gsU0FDc0IsRUFBUyxLQUE3QixTQUNJLEVBQVEsY0FBYyxTQUFVLENBQUUsR0FBSSxFQUFTLEVBQUcsQ0FBQyxFQUNuRCxFQUFRLGNBQWMsUUFBUSxFQUNwQyxFQUFTLFNBQ0osRUFBUSxTQUFXLEdBQ3BCLEVBQVMsT0FBUyxFQUFRLEtBQU8sRUFBUyxNQUM5QyxjQUVBLEFBQUMsU0FDcUIsRUFBUyxLQUE3QixTQUNJLEVBQVEsY0FBYyxFQUFhLENBQ2pDLEdBQUksRUFBUyxFQUNmLENBQUMsRUFDRCxFQUFRLGNBQWMsQ0FBVyxFQUM5QixFQUFZLFFBQVEsR0FBRyxJQUE5QixLQUNHLElBQWdCLEVBQVksWUFBWSxHQUN2QyxRQUFRLE1BQ04seUdBQ0EsQ0FDRixFQUVBLE9BQU8sVUFBVSxTQUFTLEtBQUssQ0FBTyxJQUR4QywrQkFFRSxHQUFlLEtBQ2IsR0FDQSxDQUNGLElBQ0UsR0FBa0IsR0FBZSxHQUNuQyxRQUFRLE1BQ04sbUlBQ0EsQ0FDRixLQUdkLEVBQVEsSUFBdUIsRUFDL0IsRUFBUSxJQUFvQixFQUM1QixFQUFHLElBQUssRUFBUSxFQUFlLE1BQWdCLElBQVQsTUFBa0IsQ0FDdEQsR0FBVSxFQUFNLE1BQVosR0FBeUIsRUFBTSxNQUFaLEVBQ3JCLEVBQVEsWUFBWSxFQUFNLFNBQVMsVUFFN0IsRUFBTSxNQUFaLEdBQ08sRUFBTSxNQUFiLElBQ1MsRUFBTSxRQUFmLEtBQ0EsQ0FDQSxFQUFNLE1BQU0sT0FBUyxFQUNyQixFQUFRLEVBQU0sTUFDZCxTQUVGLEdBQUksSUFBVSxFQUFnQixRQUM5QixLQUFnQixFQUFNLFVBQWYsTUFBMEIsQ0FDL0IsR0FBYSxFQUFNLFNBQWYsTUFBeUIsRUFBTSxTQUFXLEVBQzVDLFFBQ0YsRUFBUSxFQUFNLE9BRWhCLEVBQU0sUUFBUSxPQUFTLEVBQU0sT0FDN0IsRUFBUSxFQUFNLFFBRWhCLEVBQWUsVUFBWSxFQUMzQixFQUFHLE9BQ0EsR0FBcUIsRUFBUyxFQUFhLENBQVEsRUFDcEQsT0FFSyxhQUNBLFlBQ0EsYUFDQSxXQUNILElBQVksRUFBUyxVQUNyQixZQUNHLE1BQ0gsRUFBVSxHQUNWLGdCQUVBLEVBQVUsR0FFZCxHQUFXLEdBQVcsQ0FBYyxHQUt4QyxPQUZBLEdBQWlCLENBQWMsRUFDL0IsRUFBZSxPQUFTLFVBQ2pCLFNBQ0osR0FDSCxHQUFJLEdBQW1CLEVBQWUsV0FBdkIsS0FDYixFQUFRLGdCQUFrQixHQUFZLEdBQVcsQ0FBYyxNQUM1RCxDQUNILFVBQ3NCLElBQXBCLFVBQ1MsRUFBZSxZQUF4QixLQUVBLE1BQU0sTUFDSiw2R0FDRixFQUdGLEdBRkEsRUFBVSxHQUFnQixHQUF3QixPQUFPLEVBQ3pELEVBQWMsR0FBZSxFQUN6QixHQUFrQixDQUFjLEVBQUcsQ0FDckMsRUFBVSxFQUFlLFVBQ3pCLEVBQVcsRUFBZSxjQUMxQixHQUFTLEdBQ1QsRUFBYyxLQUNkLElBQUksRUFBYyxHQUNsQixHQUFhLElBQVQsS0FDRixPQUFRLEVBQVksU0FDYixHQUNILElBQ0ksRUFBUSxHQUNSLEVBQ0EsRUFDQSxDQUNGLEVBQ1MsSUFBVCxPQUNHLEdBQXVCLEVBQWdCLENBQUMsRUFBRSxZQUN6QyxJQUNOLFVBQ0csUUFDQSxHQUNILEFBQUMsRUFBYyxFQUFZLGNBQ3pCLElBQ0ksRUFBUSxHQUNSLEVBQ0EsRUFDQSxDQUNGLEVBQ1MsSUFBVCxPQUNHLEdBQ0MsRUFDQSxDQUNGLEVBQUUsWUFBYyxJQUU1QixFQUFRLElBQXVCLEVBQy9CLEVBQ0UsRUFBUSxZQUFjLEdBQ1osSUFBVCxNQUNRLEVBQVksMkJBQW5CLElBQ0YsR0FBc0IsRUFBUSxVQUFXLENBQVEsRUFDN0MsR0FDQSxHQUNOLEdBQVcsR0FBeUIsQ0FBYyxNQUVsRCxDQUFDLEVBQWMsRUFBWSxhQUFhLFFBQzlCLEdBQVIsTUFDRSxHQUFvQixFQUFVLEVBQVksR0FBRyxFQUM5QyxFQUNDLEdBQWtDLENBQU8sRUFBRSxlQUN6QyxDQUNGLEVBQ0QsRUFBUSxJQUF1QixFQUMvQixFQUFlLFVBQVksRUFHbEMsT0FEQSxHQUFpQixDQUFjLEVBQ3hCLFNBQ0osSUFFSCxHQURBLEVBQVcsRUFBZSxjQUVmLElBQVQsTUFDVSxFQUFRLGdCQUFqQixNQUNVLEVBQVEsY0FBYyxhQUEvQixLQUNGLENBRUEsR0FEQSxFQUFRLEdBQWtCLENBQWMsRUFDM0IsSUFBVCxNQUE4QixFQUFTLGFBQWxCLEtBQThCLENBQ3JELEdBQWEsSUFBVCxLQUFrQixDQUNwQixJQUFLLEVBQ0gsTUFBTSxNQUNKLHlHQUNGLEVBR0YsR0FGQSxFQUFRLEVBQWUsY0FDdkIsRUFBaUIsSUFBVCxLQUFpQixFQUFNLFdBQWEsTUFDdkMsRUFDSCxNQUFNLE1BQ0oscUhBQ0YsRUFDRixFQUFNLElBQXVCLEVBQzdCLEdBQWlCLENBQWMsR0FDOUIsRUFBZSxLQUFPLE1BQWlCLElBQzdCLElBQVQsT0FDRSxFQUFRLEVBQWUsTUFDaEIsSUFBVCxPQUNHLEVBQWUsa0JBQ2QsRUFBTSx1QkFFWixJQUE2QixFQUMzQixHQUFvQixHQUNiLEVBQWUsTUFBUSxPQUE5QixJQUNHLEVBQWUsY0FBZ0IsTUFDakMsRUFBZSxPQUFTLEVBQ3pCLEdBQWlCLENBQWMsR0FDOUIsRUFBZSxLQUFPLE1BQWlCLElBQzdCLElBQVQsT0FDRSxFQUFRLEVBQWUsTUFDaEIsSUFBVCxPQUNHLEVBQWUsa0JBQ2QsRUFBTSxtQkFDaEIsRUFBUSxPQUVSLENBQVMsS0FBVCxPQUNHLEdBQXVCLEVBQWUsRUFDdEMsR0FBa0IsTUFDbEIsRUFBUSxHQUNiLElBQUssRUFBTyxDQUNWLEdBQUksRUFBZSxNQUFRLElBQ3pCLE9BQU8sR0FBbUIsQ0FBYyxFQUFHLEVBRTdDLE9BREEsR0FBbUIsQ0FBYyxFQUMxQixNQUlYLEdBREEsR0FBbUIsQ0FBYyxHQUN0QixFQUFlLE1BQVEsT0FBOUIsRUFDRixPQUNHLEVBQWUsTUFBUSxHQUN2QixFQUFlLEtBQU8sTUFBaUIsSUFDdEMsR0FBdUIsQ0FBYyxFQUN2QyxFQTBCSixPQXhCQSxFQUFvQixJQUFULEtBQ1gsRUFBbUIsSUFBVCxNQUE2QixFQUFRLGdCQUFqQixLQUM5QixJQUNJLEVBQWMsRUFBZSxNQUM5QixFQUFRLEtBQ0EsRUFBWSxZQUFyQixNQUNXLEVBQVksVUFBVSxnQkFBL0IsTUFDUyxFQUFZLFVBQVUsY0FBYyxZQUE3QyxPQUNDLEVBQVEsRUFBWSxVQUFVLGNBQWMsVUFBVSxNQUN4RCxFQUFjLEtBQ04sRUFBWSxnQkFBckIsTUFDVyxFQUFZLGNBQWMsWUFBbkMsT0FDQyxFQUFjLEVBQVksY0FBYyxVQUFVLE1BQ3JELElBQWdCLElBQVUsRUFBWSxPQUFTLE9BQ2pELElBQWEsR0FDWCxJQUNDLEVBQWUsTUFBTSxPQUFTLE1BQ2pDLEdBQW9CLEVBQWdCLEVBQWUsV0FBVyxFQUM5RCxHQUFpQixDQUFjLEdBQzlCLEVBQWUsS0FBTyxNQUFpQixJQUN0QyxJQUNFLEVBQVUsRUFBZSxNQUNsQixJQUFULE9BQ0csRUFBZSxrQkFBb0IsRUFBUSxtQkFDekMsU0FDSixHQUNILE9BQ0UsR0FBaUIsQ0FBYyxFQUN0QixJQUFULE1BQ0UsR0FDRSxFQUFlLFVBQVUsYUFDM0IsRUFDRixHQUFpQixDQUFjLEVBQy9CLFNBRUMsSUFDSCxPQUNFLEdBQVksRUFBZSxLQUFNLENBQWMsRUFDL0MsR0FBaUIsQ0FBYyxFQUMvQixTQUVDLElBR0gsR0FGQSxHQUFJLEdBQXFCLENBQWMsRUFDdkMsRUFBUSxFQUFlLGNBQ1YsSUFBVCxLQUFnQixPQUFPLEdBQWlCLENBQWMsRUFBRyxLQUc3RCxHQUZBLEdBQWtCLEVBQWUsTUFBUSxPQUE5QixFQUNYLEVBQWMsRUFBTSxVQUNQLElBQVQsS0FDRixHQUFJLEVBQVUsR0FBbUIsRUFBTyxFQUFFLE1BQ3JDLENBQ0gsR0FDRSxLQUFpQyxJQUN2QixJQUFULE9BQTJCLEVBQVEsTUFBUSxPQUF2QixFQUVyQixJQUFLLEVBQVUsRUFBZSxNQUFnQixJQUFULE1BQW9CLENBRXZELEdBREEsRUFBYyxHQUFtQixDQUFPLEVBQzNCLElBQVQsS0FBc0IsQ0FDeEIsRUFBZSxPQUFTLElBQ3hCLEdBQW1CLEVBQU8sRUFBRSxFQUM1QixFQUFVLEVBQVksWUFDdEIsRUFBZSxZQUFjLEVBQzdCLEdBQW9CLEVBQWdCLENBQU8sRUFDM0MsRUFBZSxhQUFlLEVBQzlCLEVBQVUsRUFDVixJQUFLLEVBQVcsRUFBZSxNQUFnQixJQUFULE1BQ3BDLEdBQW9CLEVBQVUsQ0FBTyxFQUNsQyxFQUFXLEVBQVMsUUFRekIsT0FQQSxHQUNFLEdBQ0MsR0FBb0IsUUFDbkIsR0FDQSxHQUNGLENBQ0YsRUFDTyxFQUFlLE1BRXhCLEVBQVUsRUFBUSxRQUV0QixBQUFTLEVBQU0sT0FBZixNQUNFLEdBQU0sRUFBSSxLQUNSLEVBQWUsT0FBUyxJQUN6QixFQUFXLEdBQ1osR0FBbUIsRUFBTyxFQUFFLEVBQzNCLEVBQWUsTUFBUSxhQUV6QixDQUNILElBQUssRUFDSCxHQUNJLEVBQVUsR0FBbUIsQ0FBVyxFQUFhLElBQVQsTUFFOUMsR0FDSSxFQUFlLE9BQVMsSUFDekIsRUFBVyxHQUNYLEVBQVUsRUFBUSxZQUNsQixFQUFlLFlBQWMsRUFDOUIsR0FBb0IsRUFBZ0IsQ0FBTyxFQUMzQyxHQUFtQixFQUFPLEVBQUUsRUFDbkIsRUFBTSxPQUFmLE1BQ2UsRUFBTSxXQUFuQixXQUNDLEVBQVksWUFDWixHQUVILE9BQU8sR0FBaUIsQ0FBYyxFQUFHLFNBRTNDLEdBQUksR0FBTSxFQUFJLEVBQU0sbUJBQ2xCLElBQ2MsSUFBZCxZQUNFLEVBQWUsT0FBUyxJQUN6QixFQUFXLEdBQ1osR0FBbUIsRUFBTyxFQUFFLEVBQzNCLEVBQWUsTUFBUSxTQUM5QixFQUFNLGFBQ0EsRUFBWSxRQUFVLEVBQWUsTUFDdEMsRUFBZSxNQUFRLElBQ3RCLEVBQVUsRUFBTSxLQUNULElBQVQsS0FDSyxFQUFRLFFBQVUsRUFDbEIsRUFBZSxNQUFRLEVBQzNCLEVBQU0sS0FBTyxHQUVwQixHQUFhLEVBQU0sT0FBZixLQUNGLE9BQ0csRUFBVSxFQUFNLEtBQ2hCLEVBQU0sVUFBWSxFQUNsQixFQUFNLEtBQU8sRUFBUSxRQUNyQixFQUFNLG1CQUFxQixHQUFNLEVBQ2pDLEVBQVEsUUFBVSxLQUNsQixFQUFjLEdBQW9CLFFBQ2xDLEVBQWMsRUFDVixFQUFjLEdBQ2YsR0FDQSxFQUFjLEdBQ2xCLEdBQUssR0FBcUIsRUFBYSxDQUFjLEVBQ3JELEVBR0osT0FEQSxHQUFpQixDQUFjLEVBQ3hCLFNBQ0osUUFDQSxJQUNILE9BQ0UsR0FBbUIsQ0FBYyxFQUNqQyxHQUFpQixDQUFjLEVBQzlCLEVBQW9CLEVBQWUsZ0JBQXhCLEtBQ0gsSUFBVCxLQUNjLEVBQVEsZ0JBQWpCLE9BQW9DLElBQ3BDLEVBQWUsT0FBUyxNQUN6QixJQUFhLEVBQWUsT0FBUyxNQUN6QyxHQUNXLEVBQWMsYUFBckIsSUFDTyxFQUFlLE1BQVEsT0FBOUIsSUFDQyxHQUFpQixDQUFjLEVBQ2hDLEVBQWUsYUFBZSxJQUMzQixFQUFlLE9BQVMsT0FDM0IsR0FBaUIsQ0FBYyxFQUNsQyxFQUFXLEVBQWUsWUFDbEIsSUFBVCxNQUNFLEdBQW9CLEVBQWdCLEVBQVMsVUFBVSxFQUN4RCxFQUFXLEtBQ0gsSUFBVCxNQUNXLEVBQVEsZ0JBQWpCLE1BQ1MsRUFBUSxjQUFjLFlBQS9CLE9BQ0MsRUFBVyxFQUFRLGNBQWMsVUFBVSxNQUM3QyxFQUFjLEtBQ04sRUFBZSxnQkFBeEIsTUFDVyxFQUFlLGNBQWMsWUFBdEMsT0FDQyxFQUFjLEVBQWUsY0FBYyxVQUFVLE1BQ3hELElBQWdCLElBQWEsRUFBZSxPQUFTLE1BQzVDLElBQVQsTUFBb0IsR0FBSSxHQUFjLENBQWMsRUFDcEQsU0FFQyxJQUNILE9BQ0csRUFBVyxLQUNILElBQVQsT0FBcUIsRUFBVyxFQUFRLGNBQWMsT0FDdEQsRUFBZSxjQUFjLFFBQVUsSUFDcEMsRUFBZSxPQUFTLE1BQzNCLEdBQVksR0FBYyxDQUFjLEVBQ3hDLEdBQWlCLENBQWMsRUFDL0IsU0FFQyxJQUNILE9BQU8sS0FFWCxNQUFNLE1BQ0osNkJBQ0UsRUFBZSxJQUNmLHlFQUNKLEVBRUYsU0FBUyxFQUFVLENBQUMsRUFBUyxFQUFnQixDQUUzQyxPQURBLEdBQWUsQ0FBYyxFQUNyQixFQUFlLFNBQ2hCLEdBQ0gsT0FDRyxFQUFVLEVBQWUsTUFDMUIsRUFBVSxPQUNKLEVBQWUsTUFBUyxFQUFVLE9BQVUsS0FDN0MsRUFBZSxLQUFPLE1BQWlCLElBQ3RDLEdBQXVCLENBQWMsRUFDdkMsR0FDQSxTQUVILEdBQ0gsT0FDRSxHQUFZLEdBQWMsQ0FBYyxFQUN4QyxHQUFpQixDQUFjLEVBQzlCLEVBQVUsRUFBZSxPQUNuQixFQUFVLFNBQWpCLElBQWtDLEVBQVUsT0FBakIsR0FDckIsRUFBZSxNQUFTLEVBQVUsT0FBVSxJQUM5QyxHQUNBLFNBRUgsUUFDQSxRQUNBLEdBQ0gsT0FBTyxHQUFlLENBQWMsRUFBRyxTQUNwQyxJQUdILEdBRkEsR0FBbUIsQ0FBYyxFQUNqQyxFQUFVLEVBQWUsY0FDWixJQUFULE1BQTZCLEVBQVEsYUFBakIsS0FBNkIsQ0FDbkQsR0FBYSxFQUFlLFlBQXhCLEtBQ0YsTUFBTSxNQUNKLG1HQUNGLEVBQ0YsR0FBb0IsRUFHdEIsT0FEQSxFQUFVLEVBQWUsTUFDbEIsRUFBVSxPQUNYLEVBQWUsTUFBUyxFQUFVLE9BQVUsS0FDN0MsRUFBZSxLQUFPLE1BQWlCLElBQ3RDLEdBQXVCLENBQWMsRUFDdkMsR0FDQSxTQUNELElBQ0gsT0FBTyxHQUFJLEdBQXFCLENBQWMsRUFBRyxTQUM5QyxHQUNILE9BQU8sR0FBaUIsQ0FBYyxFQUFHLFNBQ3RDLElBQ0gsT0FBTyxHQUFZLEVBQWUsS0FBTSxDQUFjLEVBQUcsU0FDdEQsUUFDQSxJQUNILE9BQ0UsR0FBbUIsQ0FBYyxFQUNqQyxHQUFpQixDQUFjLEVBQ3RCLElBQVQsTUFBb0IsR0FBSSxHQUFjLENBQWMsRUFDbkQsRUFBVSxFQUFlLE1BQzFCLEVBQVUsT0FDSixFQUFlLE1BQVMsRUFBVSxPQUFVLEtBQzdDLEVBQWUsS0FBTyxNQUFpQixJQUN0QyxHQUF1QixDQUFjLEVBQ3ZDLEdBQ0EsU0FFSCxJQUNILE9BQU8sR0FBWSxHQUFjLENBQWMsRUFBRyxTQUMvQyxJQUNILE9BQU8sYUFFUCxPQUFPLE1BR2IsU0FBUyxFQUFxQixDQUFDLEVBQVMsRUFBaUIsQ0FFdkQsT0FEQSxHQUFlLENBQWUsRUFDdEIsRUFBZ0IsU0FDakIsR0FDSCxHQUFZLEdBQWMsQ0FBZSxFQUN6QyxHQUFpQixDQUFlLEVBQ2hDLFVBQ0csUUFDQSxRQUNBLEdBQ0gsR0FBZSxDQUFlLEVBQzlCLFVBQ0csR0FDSCxHQUFpQixDQUFlLEVBQ2hDLFVBQ0csSUFDSCxHQUFtQixDQUFlLEVBQ2xDLFVBQ0csSUFDSCxHQUFJLEdBQXFCLENBQWUsRUFDeEMsVUFDRyxJQUNILEdBQVksRUFBZ0IsS0FBTSxDQUFlLEVBQ2pELFVBQ0csUUFDQSxJQUNILEdBQW1CLENBQWUsRUFDbEMsR0FBaUIsQ0FBZSxFQUN2QixJQUFULE1BQW9CLEdBQUksR0FBYyxDQUFlLEVBQ3JELFVBQ0csSUFDSCxHQUFZLEdBQWMsQ0FBZSxHQUcvQyxTQUFTLEVBQVksRUFBRyxDQUN0QixHQUFZLGdCQUFpQixDQUFDLEVBQVksQ0FDeEMsT0FBTyxFQUFXLEVBQ25CLEVBRUgsU0FBUyxFQUEwQixFQUFHLENBQ3BDLElBQUksU0FDcUIsMkJBQXZCLFlBQ0kseUJBQ0ssT0FNWCxPQUxBLEdBQ1csRUFBcUIsV0FBOUIsTUFDQSxRQUFRLE1BQ04sdUVBQ0YsRUFDSyxFQUVULFNBQVMsRUFBaUIsQ0FBQyxFQUFPLENBQ2hDLElBQ0csR0FBbUIsTUFBbUIsSUFDakMsS0FBTixFQUVBLE9BQU8sSUFBaUMsR0FDMUMsSUFBSSxFQUFhLEVBQXFCLEVBQ3RDLE9BQWdCLElBQVQsTUFDRixFQUFXLGlCQUFtQixFQUFXLGVBQWlCLElBQUksS0FDL0QsRUFBVyxlQUFlLElBQUksQ0FBSyxFQUNsQyxFQUFRLEdBQ0gsSUFBTixFQUFjLEVBQVEsR0FBc0IsR0FDNUMsR0FBc0IsRUFFNUIsU0FBUyxFQUFtQixFQUFHLENBQzdCLEFBQU0sS0FBTixJQUNHLElBQ1EsR0FBZ0MsYUFBdkMsR0FBcUQsR0FDakQsR0FBd0IsRUFDeEIsV0FDUixJQUFJLEVBQWtCLEdBQTJCLFFBRWpELE9BRFMsSUFBVCxPQUE2QixFQUFnQixPQUFTLElBQy9DLEdBRVQsU0FBUyxFQUFxQixDQUFDLEVBQU0sRUFBTyxFQUFNLENBSWhELEdBSEEsSUFDRSxRQUFRLE1BQU0sK0NBQStDLEVBQy9ELEtBQTZCLEdBQXdDLElBRWxFLElBQVMsSUFDUixLQUFrQyxJQUMzQixFQUFLLHNCQUFkLEtBRUEsR0FBa0IsRUFBTSxDQUFDLEVBQ3ZCLEdBQ0UsRUFDQSxHQUNBLEdBQ0EsRUFDRixFQUVKLEdBREEsR0FBa0IsRUFBTSxDQUFJLEdBRW5CLEdBQW1CLE1BQTFCLEdBQ0EsSUFBUyxJQUVULEdBQUksR0FDRixPQUFRLEVBQU0sU0FDUCxPQUNBLFFBQ0EsSUFDSCxFQUNHLElBQWtCLEVBQTBCLEVBQWMsR0FDM0QsVUFDRixHQUE4QyxJQUFJLENBQUksSUFDbkQsR0FBOEMsSUFBSSxDQUFJLEVBQ3RELEVBQVEsRUFBMEIsQ0FBSyxHQUFLLFVBQzdDLFFBQVEsTUFDTixpTkFDQSxFQUNBLEVBQ0EsQ0FDRixHQUNGLFVBQ0csR0FDSCxLQUNHLFFBQVEsTUFDUCwySUFDRixFQUNDLEdBQTZCLFNBR3RDLEtBQXFCLEdBQW1CLEVBQU0sRUFBTyxDQUFJLEVBQ3ZELEdBQWtDLENBQUssRUFDdkMsSUFBUyxNQUNMLEdBQW1CLE1BQW1CLEtBQ3JDLElBQTZDLEdBQ2hELEtBQWlDLElBQy9CLEdBQ0UsRUFDQSxHQUNBLEdBQ0EsRUFDRixHQUNKLEdBQXNCLENBQUksRUFFaEMsU0FBUyxFQUFpQixDQUFDLEVBQU0sRUFBTyxFQUFXLENBQ2pELElBQUssSUFBb0IsR0FBZ0IsT0FBb0IsR0FDM0QsTUFBTSxNQUFNLGdDQUFnQyxFQUM5QyxJQUFJLEdBQ0UsSUFDTyxFQUFRLE1BQWYsSUFDTyxFQUFRLEVBQUssZ0JBQXBCLEdBQ0YsR0FBMEIsRUFBTSxDQUFLLEVBQ3ZDLEVBQWEsRUFDVCxHQUFxQixFQUFNLENBQUssRUFDaEMsR0FBZSxFQUFNLEVBQU8sRUFBRSxFQUNsQyxFQUFzQixFQUN4QixFQUFHLENBQ0QsR0FBSSxJQUFlLEdBQWdCLENBQ2pDLEtBQ0csR0FDRCxHQUFrQixFQUFNLEVBQU8sRUFBRyxFQUFFLEVBQ3RDLGNBQ1MsSUFBZSxHQUN4QixHQUNFLEVBQ0EsRUFDQSxHQUNDLEVBQ0gsTUFDRyxDQUVILEdBREEsRUFBWSxFQUFLLFFBQVEsVUFFdkIsSUFDQyxHQUFxQyxDQUFTLEVBQy9DLENBQ0EsRUFBYSxHQUFlLEVBQU0sRUFBTyxFQUFFLEVBQzNDLEVBQXNCLEdBQ3RCLFNBRUYsR0FBSSxJQUFlLEdBQWEsQ0FFOUIsR0FEQSxFQUFzQixFQUNsQixFQUFLLDJCQUE2QixFQUNwQyxJQUFJLEVBQWtCLE1BRXRCLENBQUMsRUFBa0IsRUFBSyxhQUFlLFdBQ3BDLEVBQ08sSUFBTixFQUNJLEVBQ0EsRUFBa0IsVUFDaEIsVUFDQSxFQUNaLEdBQVUsSUFBTixFQUF1QixDQUN6QixFQUFRLEVBQ1IsRUFBRyxDQUNELEVBQWEsRUFDYixJQUFJLEVBQTJCLEVBQy9CLEVBQWtCLEdBQ2xCLElBQUksRUFDRixFQUFXLFFBQVEsY0FBYyxhQVduQyxHQVZBLElBQ0csR0FDQyxFQUNBLENBQ0YsRUFBRSxPQUFTLEtBQ2IsRUFBMkIsR0FDekIsRUFDQSxFQUNBLEVBQ0YsRUFDSSxJQUE2QixHQUFhLENBQzVDLEdBQ0UsS0FDQyxFQUNELENBQ0EsRUFBVyw0QkFDVCxFQUNGLElBQ0UsRUFDRixFQUFhLEdBQ2IsUUFFRixFQUFhLEdBQ2IsR0FBc0MsRUFDN0IsSUFBVCxNQUF1QixHQUF1QixDQUFVLEVBRTFELEVBQWEsRUFHZixHQURBLEVBQXNCLEdBQ2xCLElBQWUsR0FBYSxVQUdwQyxHQUFJLElBQWUsR0FBa0IsQ0FDbkMsR0FBa0IsRUFBTSxDQUFDLEVBQ3pCLEdBQWtCLEVBQU0sRUFBTyxFQUFHLEVBQUUsRUFDcEMsTUFFRixFQUFHLENBRUQsT0FEQSxFQUFrQixFQUNWLFFBQ0QsUUFDQSxHQUNILE1BQU0sTUFBTSxnREFBZ0QsT0FDekQsR0FDSCxJQUFLLEVBQVEsV0FBYSxFQUFPLENBQy9CLEdBQ0UsRUFDQSxFQUNBLElBQ0MsRUFDSCxFQUNBLFFBRUYsV0FDRyxHQUNILEdBQXNDLEtBQ3RDLFdBQ0csUUFDQSxHQUNILGNBRUEsTUFBTSxNQUFNLDJCQUEyQixFQUkzQyxHQUZBLEVBQWdCLGFBQWUsRUFDL0IsRUFBZ0IsY0FBZ0IsRUFDbkIsRUFBcUIsV0FBOUIsS0FDRixHQUNFLEVBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLENBQ0YsTUFDRyxDQUNILElBQ0csRUFBUSxZQUFjLElBQ3JCLEVBQ0EsR0FDQSxHQUNBLEdBQU0sRUFDUixHQUFLLEdBQ0wsQ0FPQSxHQU5BLEdBQ0UsRUFDQSxFQUNBLElBQ0MsRUFDSCxFQUNVLEdBQWEsRUFBaUIsQ0FBQyxJQUFyQyxFQUF3QyxRQUM1QyxFQUFnQixjQUFnQixHQUM5QixHQUFvQixLQUNsQixLQUNBLEVBQ0EsRUFDQSxHQUNBLEdBQ0EsR0FDQSxFQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLENBQ0YsRUFDQSxDQUNGLEVBQ0EsUUFFRixHQUNFLEVBQ0EsRUFDQSxHQUNBLEdBQ0EsR0FDQSxFQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLENBQ0YsSUFJTixZQUNPLEdBQ1QsR0FBc0IsQ0FBSSxFQUU1QixTQUFTLEVBQXNCLENBQUMsRUFBUSxDQUN0QyxBQUFTLEtBQVQsS0FDSyxHQUFzQyxFQUN2QyxHQUFvQyxLQUFLLE1BQ3ZDLEdBQ0EsQ0FDRixFQUVOLFNBQVMsRUFBbUIsQ0FDMUIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLElBQUksRUFBZSxFQUFhLGFBQ2hDLEdBQUksRUFBZSxPQUFzQixFQUFlLFlBQTdCLFVBQ3pCLEdBQ0ksR0FBaUIsQ0FBRSxZQUFhLEtBQU0sTUFBTyxFQUFHLFVBQVcsRUFBSyxFQUNsRSxHQUFpQyxDQUFZLEVBQzVDLEVBQWUsR0FBdUIsRUFDOUIsSUFBVCxLQUNBLENBQ0EsRUFBSyxvQkFBc0IsRUFDekIsR0FBVyxLQUNULEtBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNBLEVBQ0EsQ0FDRixDQUNGLEVBQ0EsR0FDRSxFQUNBLEVBQ0EsR0FDQyxDQUNILEVBQ0EsUUFFSixHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFRixTQUFTLEVBQW9DLENBQUMsRUFBYyxDQUMxRCxRQUFTLEVBQU8sSUFBa0IsQ0FDaEMsSUFBSSxFQUFNLEVBQUssSUFDZixJQUNTLElBQU4sR0FBb0IsSUFBUCxJQUFxQixJQUFQLEtBQzVCLEVBQUssTUFBUSxRQUNYLEVBQU0sRUFBSyxZQUNKLElBQVQsT0FBa0IsRUFBTSxFQUFJLE9BQWtCLElBQVQsT0FFckMsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFJLE9BQVEsSUFBSyxDQUNuQyxJQUFJLEVBQVEsRUFBSSxHQUNkLEVBQWMsRUFBTSxZQUN0QixFQUFRLEVBQU0sTUFDZCxHQUFJLENBQ0YsSUFBSyxHQUFTLEVBQVksRUFBRyxDQUFLLEVBQUcsTUFBTyxTQUNyQyxFQUFQLENBQ0EsTUFBTyxJQUliLEdBREEsRUFBTSxFQUFLLE1BQ1AsRUFBSyxhQUFlLE9BQWtCLElBQVQsS0FDL0IsQUFBQyxFQUFJLE9BQVMsRUFBUSxFQUFPLE1BQzFCLENBQ0gsR0FBSSxJQUFTLEVBQWMsTUFDM0IsS0FBZ0IsRUFBSyxVQUFkLE1BQXlCLENBQzlCLEdBQWEsRUFBSyxTQUFkLE1BQXdCLEVBQUssU0FBVyxFQUFjLE1BQU8sR0FDakUsRUFBTyxFQUFLLE9BRWQsRUFBSyxRQUFRLE9BQVMsRUFBSyxPQUMzQixFQUFPLEVBQUssU0FHaEIsTUFBTyxHQUVULFNBQVMsRUFBaUIsQ0FDeEIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLElBQW1CLEdBQ25CLElBQW1CLEdBQ25CLEVBQUssZ0JBQWtCLEVBQ3ZCLEVBQUssY0FBZ0IsRUFDckIsSUFBeUIsRUFBSyxXQUFhLEdBQzNDLEVBQXVCLEVBQUssZ0JBQzVCLFFBQVMsRUFBUSxFQUFnQixFQUFJLEdBQVMsQ0FDNUMsSUFBSSxFQUFRLEdBQUssR0FBTSxDQUFLLEVBQzFCLEVBQU8sR0FBSyxFQUNkLEVBQXFCLEdBQVMsR0FDOUIsSUFBVSxFQUVaLEFBQU0sSUFBTixHQUNFLEdBQXdCLEVBQU0sRUFBYSxDQUFjLEVBRTdELFNBQVMsRUFBZSxFQUFHLENBQ3pCLE9BQVEsSUFBb0IsR0FBZ0IsT0FBb0IsSUFDM0QsR0FBOEIsRUFBRyxFQUFFLEVBQUcsSUFDdkMsR0FFTixTQUFTLEVBQXdCLEVBQUcsQ0FDbEMsR0FBYSxLQUFULEtBQXlCLENBQzNCLEdBQUksS0FBa0MsR0FDcEMsSUFBSSxFQUFrQixHQUFlLFdBRXJDLENBQUMsRUFBa0IsR0FDakIsR0FBeUIsRUFDekIsR0FBbUIsQ0FBZSxFQUNqQyxHQUFrQixLQUNsQixHQUF5QixFQUN6QixFQUFrQixHQUN2QixLQUFnQixJQUFULE1BQ0wsR0FBc0IsRUFBZ0IsVUFBVyxDQUFlLEVBQzdELEVBQWtCLEVBQWdCLE9BQ3ZDLEdBQWlCLE1BR3JCLFNBQVMsRUFBaUIsQ0FBQyxFQUFNLEVBQU8sQ0FDdEMsRUFBSyxhQUFlLEtBQ3BCLEVBQUssY0FBZ0IsRUFDckIsSUFBSSxFQUFnQixFQUFLLGNBQ3pCLElBQWtCLEtBQ2QsRUFBSyxjQUFnQixHQUFZLEdBQWMsQ0FBYSxHQUNoRSxFQUFnQixFQUFLLG9CQUNaLElBQVQsT0FDSSxFQUFLLG9CQUFzQixLQUFPLEVBQWMsR0FDcEQsR0FBeUIsRUFDekIsR0FBcUIsRUFDckIsR0FBaUIsRUFBZ0IsR0FBcUIsRUFBSyxRQUFTLElBQUksRUFDeEUsR0FBZ0MsRUFDaEMsR0FBZ0MsR0FDaEMsR0FBNEIsS0FDNUIsR0FBNkMsR0FDN0MsR0FBbUMsR0FBMEIsRUFBTSxDQUFLLEVBQ3hFLEdBQTBDLEdBQzFDLEdBQStCLEdBQy9CLEdBQ0UsR0FDQSxHQUNBLEdBQ0EsR0FDRSxFQUNKLEdBQXNDLEdBQ3BDLEtBQ0YsR0FBb0QsSUFDN0MsRUFBUSxLQUFmLElBQXNCLEdBQVMsRUFBUSxJQUN2QyxJQUFJLEVBQW9CLEVBQUssZUFDN0IsR0FBVSxJQUFOLEVBQ0YsSUFDRSxFQUFPLEVBQUssY0FBZSxHQUFxQixFQUNoRCxFQUFJLEdBRUosQ0FDQSxJQUFJLEVBQVEsR0FBSyxHQUFNLENBQWlCLEVBQ3RDLEVBQU8sR0FBSyxFQUNkLEdBQVMsRUFBSyxHQUNkLElBQXNCLEVBSzFCLE9BSEEsR0FBdUIsRUFDdkIsR0FBZ0MsRUFDaEMsR0FBd0IsdUJBQXVCLEVBQ3hDLEVBRVQsU0FBUyxFQUFXLENBQUMsRUFBTSxFQUFhLENBQ3RDLEdBQTRCLEtBQzVCLEVBQXFCLEVBQUksR0FDekIsRUFBcUIsZ0JBQWtCLEtBQ3ZDLEdBQWMsR0FDZCxHQUFVLEtBQ1YsSUFBZ0IsSUFDVixFQUFjLEdBQXFCLEVBQ3BDLEdBQWdDLElBQ2pDLElBQWdCLElBQ1osRUFBYyxHQUFxQixFQUNwQyxHQUFnQyxJQUNoQyxHQUNDLElBQWdCLEdBQ1osR0FDUyxJQUFULGFBQ3NCLElBQXBCLGlCQUNzQixFQUFZLE9BQWxDLFdBQ0EsR0FDQSxHQUNkLEdBQTRCLEVBQzVCLElBQUksRUFBYyxHQUNsQixHQUFhLElBQVQsS0FDRixBQUFDLEdBQStCLEdBQzlCLEdBQ0UsRUFDQSxHQUEyQixFQUFhLEVBQUssT0FBTyxDQUN0RCxNQUVGLFFBQ0csRUFBWSxLQUFPLElBQ2xCLEdBQTRDLENBQVcsRUFDekQsR0FBMkIsRUFDM0IsU0FFSyxHQUNILEFBQVMsSUFBVCxhQUVXLEVBQXVCLHVCQURoQyxZQUVBLEVBQXVCLHFCQUNyQixFQUNBLEVBQ0EsRUFDRixFQUNGLFdBQ0csUUFDQSxRQUNBLFFBQ0EsR0FDSCxBQUFTLElBQVQsYUFFVyxFQUF1Qix5QkFEaEMsWUFFQSxFQUF1Qix1QkFDckIsRUFDQSxFQUNBLEVBQ0YsR0FHVixTQUFTLEVBQWMsRUFBRyxDQUN4QixJQUFJLEVBQWlCLEVBQXFCLEVBRTFDLE9BREEsRUFBcUIsRUFBSSxHQUNULElBQVQsS0FBMEIsR0FBd0IsRUFFM0QsU0FBUyxFQUFtQixFQUFHLENBQzdCLElBQUksRUFBc0IsRUFBcUIsRUFFL0MsT0FEQSxFQUFxQixFQUFJLEdBQ2xCLEVBRVQsU0FBUyxFQUErQixFQUFHLENBQ3pDLEdBQStCLEdBQy9CLEtBQ0ksR0FBZ0MsV0FDaEMsSUFDUyxHQUEyQixVQUFwQyxPQUNELEdBQW1DLEtBQzlCLEdBQWlDLGFBQXhDLElBQ1EsR0FBNEMsYUFBbkQsR0FDUyxLQUFULE1BQ0EsR0FDRSxHQUNBLEdBQ0EsR0FDQSxFQUNGLEVBRUosU0FBUyxFQUFjLENBQUMsRUFBTSxFQUFPLEVBQTRCLENBQy9ELElBQUksRUFBdUIsR0FDM0IsSUFBb0IsR0FDcEIsSUFBSSxFQUFpQixHQUFlLEVBQ2xDLEVBQXNCLEdBQW9CLEVBQzVDLEdBQ0UsS0FBdUIsR0FDdkIsS0FBa0MsRUFDbEMsQ0FDQSxHQUFJLEdBQW1CLENBQ3JCLElBQUksRUFBbUIsRUFBSyxpQkFDNUIsRUFBSSxFQUFpQixPQUNsQixHQUF1QixFQUFNLEVBQTZCLEVBQzNELEVBQWlCLE1BQU0sR0FDekIsR0FBNEIsRUFBTSxDQUFLLEVBRXpDLEdBQTRCLEtBQzVCLEdBQWtCLEVBQU0sQ0FBSyxFQUUvQixHQUFrQixDQUFLLEVBQ3ZCLEVBQVEsR0FDUixFQUFtQixHQUNuQixFQUFHLEVBQ0QsSUFBSSxDQUNGLEdBQ0UsS0FBa0MsSUFDekIsS0FBVCxLQUNBLENBQ0EsSUFBSSxFQUFhLEdBQ2YsRUFBYyxHQUNoQixPQUFRLFNBQ0QsR0FDSCxHQUF5QixFQUN6QixFQUFtQixHQUNuQixhQUNHLFFBQ0EsUUFDQSxHQUNILEFBQVMsR0FBMkIsVUFBcEMsT0FBZ0QsRUFBUSxJQUN4RCxJQUFJLEVBQVMsR0FJYixHQUhBLEdBQWdDLEdBQ2hDLEdBQTRCLEtBQzVCLEdBQXVCLEVBQU0sRUFBWSxFQUFhLENBQU0sRUFFMUQsR0FDQSxHQUNBLENBQ0EsRUFBbUIsR0FDbkIsUUFFRixjQUVBLEFBQUMsRUFBUyxHQUNQLEdBQWdDLEdBQ2hDLEdBQTRCLEtBQzdCLEdBQXVCLEVBQU0sRUFBWSxFQUFhLENBQU0sR0FHcEUsR0FBYSxFQUNiLEVBQW1CLEdBQ25CLFlBQ08sRUFBUCxDQUNBLEdBQVksRUFBTSxDQUFhLFFBRTVCLEdBV1AsT0FWQSxHQUFTLEVBQUssc0JBQ2QsR0FBeUIsRUFDekIsR0FBbUIsRUFDbkIsRUFBcUIsRUFBSSxFQUN6QixFQUFxQixFQUFJLEVBQ3pCLEdBQWtCLEVBQ1QsS0FBVCxPQUNJLEdBQXFCLEtBQ3RCLEdBQWdDLEVBQ2pDLEdBQWdDLEdBQzNCLEVBRVQsU0FBUyxFQUFZLEVBQUcsQ0FDdEIsS0FBZ0IsS0FBVCxNQUEyQixHQUFrQixFQUFjLEVBRXBFLFNBQVMsRUFBb0IsQ0FBQyxFQUFNLEVBQU8sQ0FDekMsSUFBSSxFQUF1QixHQUMzQixJQUFvQixHQUNwQixJQUFJLEVBQWlCLEdBQWUsRUFDbEMsRUFBc0IsR0FBb0IsRUFDNUMsR0FDRSxLQUF1QixHQUN2QixLQUFrQyxFQUNsQyxDQUNBLEdBQUksR0FBbUIsQ0FDckIsSUFBSSxFQUFtQixFQUFLLGlCQUM1QixFQUFJLEVBQWlCLE9BQ2xCLEdBQXVCLEVBQU0sRUFBNkIsRUFDM0QsRUFBaUIsTUFBTSxHQUN6QixHQUE0QixFQUFNLENBQUssRUFFekMsR0FBNEIsS0FDNUIsR0FBcUMsR0FBTSxFQUFJLEdBQy9DLEdBQWtCLEVBQU0sQ0FBSyxNQUU3QixJQUFtQyxHQUNqQyxFQUNBLENBQ0YsRUFDRixHQUFrQixDQUFLLEVBQ3ZCLEVBQUcsRUFDRCxJQUFJLENBQ0YsR0FDRSxLQUFrQyxJQUN6QixLQUFULEtBRUEsRUFBRyxPQUNDLEVBQVEsR0FDVCxFQUFtQixHQUNwQixTQUVLLEdBQ0gsR0FBZ0MsR0FDaEMsR0FBNEIsS0FDNUIsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNGLEVBQ0EsV0FDRyxHQUNILEdBQUksR0FBbUIsQ0FBZ0IsRUFBRyxDQUN4QyxHQUFnQyxHQUNoQyxHQUE0QixLQUM1QixHQUEwQixDQUFLLEVBQy9CLE1BRUYsVUFBaUIsRUFBRyxDQUNsQixLQUFrQyxJQUNoQyxLQUF1QixJQUN0QixHQUNDLElBQ0osR0FBc0IsQ0FBSSxHQUU1QixFQUFpQixLQUFLLEVBQU8sQ0FBSyxFQUNsQyxhQUNHLEdBQ0gsR0FBZ0MsR0FDaEMsYUFDRyxHQUNILEdBQ0UsR0FDRixhQUNHLEdBQ0gsR0FBbUIsQ0FBZ0IsR0FDN0IsR0FBZ0MsR0FDakMsR0FBNEIsS0FDN0IsR0FBMEIsQ0FBSyxJQUM3QixHQUFnQyxHQUNqQyxHQUE0QixLQUM3QixHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0YsR0FDSixXQUNHLEdBQ0gsSUFBSSxFQUFXLEtBQ2YsT0FBUSxHQUFlLFNBQ2hCLElBQ0gsRUFBVyxHQUFlLGtCQUN2QixPQUNBLElBQ0gsSUFBSSxFQUFZLEdBQ2hCLEdBQUksRUFBVyxHQUFnQixDQUFRLEVBQUksRUFBRyxDQUM1QyxHQUFnQyxHQUNoQyxHQUE0QixLQUM1QixJQUFJLEVBQVUsRUFBVSxRQUN4QixHQUFhLElBQVQsS0FBa0IsR0FBaUIsTUFDbEMsQ0FDSCxJQUFJLEVBQWMsRUFBVSxPQUM1QixBQUFTLElBQVQsTUFDTSxHQUFpQixFQUNuQixHQUFtQixDQUFXLEdBQzdCLEdBQWlCLEtBRXhCLFFBRUYsY0FFQSxRQUFRLE1BQ04sZ0ZBQ0YsRUFFSixHQUFnQyxHQUNoQyxHQUE0QixLQUM1QixHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0YsRUFDQSxXQUNHLEdBQ0gsR0FBZ0MsR0FDaEMsR0FBNEIsS0FDNUIsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNGLEVBQ0EsV0FDRyxHQUNILEdBQXlCLEVBQ3pCLEdBQStCLEdBQy9CLGdCQUVBLE1BQU0sTUFDSixxREFDRixFQUVOLEFBQVMsRUFBcUIsV0FBOUIsS0FDSSxHQUFhLEVBQ2IsR0FBbUIsRUFDdkIsWUFDTyxFQUFQLENBQ0EsR0FBWSxFQUFNLENBQWEsUUFFNUIsR0FLUCxHQUpBLEdBQXlCLEVBQ3pCLEVBQXFCLEVBQUksRUFDekIsRUFBcUIsRUFBSSxFQUN6QixHQUFtQixFQUNOLEtBQVQsS0FDRixPQUNXLElBQVQsYUFDd0IsRUFBdUIsb0JBQTdDLFlBQ0EsRUFBdUIsa0JBQWtCLEVBQzNDLEdBTUosT0FKQSxHQUFrQixFQUNsQixHQUFxQixLQUNyQixHQUFnQyxFQUNoQyxHQUFnQyxFQUN6QixHQUVULFNBQVMsRUFBa0IsRUFBRyxDQUM1QixLQUFnQixLQUFULE9BQTRCLEdBQVksR0FDN0MsR0FBa0IsRUFBYyxFQUVwQyxTQUFTLEVBQWlCLENBQUMsRUFBWSxDQUNyQyxJQUFJLEVBQVUsRUFBVyxVQUN6QixDQUFDLEVBQVcsS0FBTyxNQUFpQixJQUMvQixHQUFtQixDQUFVLEVBQzdCLEVBQVUsR0FDVCxFQUNBLEdBQ0EsRUFDQSxFQUNBLEVBQ0YsRUFDQSxHQUE0QyxDQUFVLEdBQ3JELEVBQVUsR0FDVCxFQUNBLEdBQ0EsRUFDQSxFQUNBLEVBQ0YsRUFDSixFQUFXLGNBQWdCLEVBQVcsYUFDN0IsSUFBVCxLQUNJLEdBQW1CLENBQVUsRUFDNUIsR0FBaUIsRUFFeEIsU0FBUyxFQUF5QixDQUFDLEVBQVksQ0FDN0MsSUFBSSxFQUFPLEdBQWtCLEVBQVksR0FBaUIsQ0FBVSxFQUNwRSxFQUFXLGNBQWdCLEVBQVcsYUFDN0IsSUFBVCxLQUFnQixHQUFtQixDQUFVLEVBQUssR0FBaUIsRUFFckUsU0FBUyxFQUFlLENBQUMsRUFBWSxDQUNuQyxJQUFJLEVBQVUsRUFBVyxVQUN2QixHQUFtQixFQUFXLEtBQU8sTUFBaUIsR0FFeEQsT0FEQSxHQUFtQixHQUFtQixDQUFVLEVBQ3hDLEVBQVcsU0FDWixRQUNBLEdBQ0gsRUFBVSxHQUNSLEVBQ0EsRUFDQSxFQUFXLGFBQ1gsRUFBVyxLQUNOLE9BQ0wsRUFDRixFQUNBLFVBQ0csSUFDSCxFQUFVLEdBQ1IsRUFDQSxFQUNBLEVBQVcsYUFDWCxFQUFXLEtBQUssT0FDaEIsRUFBVyxJQUNYLEVBQ0YsRUFDQSxVQUNHLEdBQ0gsR0FBbUIsQ0FBVSxVQUU3QixHQUFzQixFQUFTLENBQVUsRUFDdEMsRUFBYSxHQUNaLEdBQW9CLEVBQVksRUFBb0IsRUFDckQsRUFBVSxHQUFVLEVBQVMsRUFBWSxFQUFvQixFQUlwRSxPQUZBLEdBQ0UsR0FBNEMsQ0FBVSxFQUNqRCxFQUVULFNBQVMsRUFBc0IsQ0FDN0IsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLEdBQXlCLEVBQ3pCLEdBQW1CLENBQVUsRUFDN0IsR0FBa0IsS0FDbEIsR0FBeUIsRUFDekIsSUFBSSxFQUFjLEVBQVcsT0FDN0IsR0FBSSxDQUNGLEdBQ0UsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0YsRUFDQSxDQUNBLEdBQStCLEdBQy9CLEdBQ0UsRUFDQSxHQUEyQixFQUFhLEVBQUssT0FBTyxDQUN0RCxFQUNBLEdBQWlCLEtBQ2pCLGNBRUssRUFBUCxDQUNBLEdBQWEsSUFBVCxLQUFzQixNQUFRLEdBQWlCLEVBQWMsRUFDakUsR0FBK0IsR0FDL0IsR0FDRSxFQUNBLEdBQTJCLEVBQWEsRUFBSyxPQUFPLENBQ3RELEVBQ0EsR0FBaUIsS0FDakIsT0FFRixHQUFJLEVBQVcsTUFBUSxNQUFPLENBQzVCLEdBQUksSUFBZSxJQUFvQixHQUFrQixFQUFPLFdBRTlELEtBQ08sR0FBZ0MsYUFBdkMsRUFFQSxFQUFPLFdBRUwsR0FBNkMsRUFBTyxHQUN0RCxJQUFvQixJQUNsQixJQUFvQixJQUNwQixJQUFvQixHQUV0QixBQUFDLEVBQWtCLEdBQTJCLFFBQ25DLElBQVQsTUFDUyxFQUFnQixNQUF2QixLQUNDLEVBQWdCLE9BQVMsT0FDaEMsR0FBaUIsRUFBWSxDQUFJLE1BQzVCLElBQW1CLENBQVUsRUFFdEMsU0FBUyxFQUFrQixDQUFDLEVBQVksQ0FDdEMsSUFBSSxFQUFnQixFQUNwQixFQUFHLENBQ0QsSUFBVyxFQUFjLE1BQVEsU0FBN0IsRUFBcUMsQ0FDdkMsR0FDRSxFQUNBLEVBQ0YsRUFDQSxPQUVGLElBQUksRUFBVSxFQUFjLFVBWTVCLEdBWEEsRUFBYSxFQUFjLE9BQzNCLEdBQW1CLENBQWEsRUFDaEMsRUFBVSxHQUNSLEVBQ0EsR0FDQSxFQUNBLEVBQ0EsRUFDRixHQUNDLEVBQWMsS0FBTyxNQUFpQixJQUNyQyxHQUFzRCxDQUFhLEVBQ3hELElBQVQsS0FBa0IsQ0FDcEIsR0FBaUIsRUFDakIsT0FHRixHQURBLEVBQWdCLEVBQWMsUUFDakIsSUFBVCxLQUF3QixDQUMxQixHQUFpQixFQUNqQixPQUVGLEdBQWlCLEVBQWdCLFFBQ2pCLElBQVQsTUFDVCxLQUFpQyxLQUM5QixHQUErQixJQUVwQyxTQUFTLEVBQWdCLENBQUMsRUFBWSxFQUFjLENBQ2xELEVBQUcsQ0FDRCxJQUFJLEVBQU8sR0FBVyxFQUFXLFVBQVcsQ0FBVSxFQUN0RCxHQUFhLElBQVQsS0FBZSxDQUNqQixFQUFLLE9BQVMsTUFDZCxHQUFpQixFQUNqQixPQUVGLElBQUssRUFBVyxLQUFPLE1BQWlCLEdBQVEsQ0FDOUMsR0FBc0QsQ0FBVSxFQUNoRSxFQUFPLEVBQVcsZUFDbEIsUUFBUyxFQUFRLEVBQVcsTUFBZ0IsSUFBVCxNQUNqQyxBQUFDLEdBQVEsRUFBTSxlQUFrQixFQUFRLEVBQU0sUUFDakQsRUFBVyxlQUFpQixFQU85QixHQUxBLEVBQU8sRUFBVyxPQUNULElBQVQsT0FDSSxFQUFLLE9BQVMsTUFDZixFQUFLLGFBQWUsRUFDcEIsRUFBSyxVQUFZLE9BRWpCLElBQ0MsRUFBYSxFQUFXLFFBQW1CLElBQVQsTUFDcEMsQ0FDQSxHQUFpQixFQUNqQixPQUVGLEdBQWlCLEVBQWEsUUFDZCxJQUFULE1BQ1QsR0FBK0IsR0FDL0IsR0FBaUIsS0FFbkIsU0FBUyxFQUFVLENBQ2pCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQWlCLEVBQXFCLEVBQ3hDLEVBQTZCLEdBQXdCLEVBQ3ZELEdBQUksQ0FDRixBQUFDLEdBQXdCLEVBQUksR0FDMUIsRUFBcUIsRUFBSSxLQUMxQixHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixTQUNGLENBQ0EsQUFBQyxFQUFxQixFQUFJLEVBQ3ZCLEdBQXdCLEVBQUksR0FHbkMsU0FBUyxFQUFjLENBQ3JCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLEVBQUcsSUFBb0IsUUFDUCxLQUFULE1BR1AsR0FGQSxHQUF3QiwwQkFBMEIsRUFDbEQsR0FBd0Isb0NBQW9DLEdBQ3ZELElBQW9CLEdBQWdCLE9BQW9CLEdBQzNELE1BQU0sTUFBTSxnQ0FBZ0MsRUFDOUMsSUFBSSxFQUFlLEVBQUssYUFLeEIsR0FKQSxFQUE4QixFQUFLLGNBQzFCLElBQVQsYUFDd0IsRUFBdUIsb0JBQTdDLFlBQ0EsRUFBdUIsa0JBQWtCLENBQTJCLEVBQ3pELElBQVQsS0FBdUIsT0FBTyxHQUFrQixFQUFHLEtBT3ZELEdBTk0sSUFBTixHQUNFLFFBQVEsTUFDTixpRkFDRixFQUNGLEVBQUssYUFBZSxLQUNwQixFQUFLLGNBQWdCLEVBQ2pCLElBQWlCLEVBQUssUUFDeEIsTUFBTSxNQUNKLDZHQUNGLEVBQ0YsRUFBSyxhQUFlLEtBQ3BCLEVBQUssaUJBQW1CLEVBQ3hCLEVBQUssb0JBQXNCLEtBQzNCLElBQUksRUFBaUIsRUFBYSxNQUFRLEVBQWEsV0F3RXZELEdBdkVBLEdBQWtCLEdBQ2xCLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxJQUFTLEtBQ0wsR0FBaUIsR0FBcUIsS0FDdkMsR0FBZ0MsSUFDM0IsRUFBYSxhQUFlLFNBQW5DLElBQ1EsRUFBYSxNQUFRLFNBQTVCLEdBQ0EsS0FDRSxHQUE2QixHQUM5QixHQUFzQyxFQUN0QyxHQUE0QixFQUM3QixHQUFtQixXQUEyQixFQUFHLENBRS9DLE9BREEsR0FBb0IsRUFBRSxFQUNmLEtBQ1IsR0FDSCxHQUFrQixHQUFJLEVBQ3RCLEdBQXFCLEVBQWEsTUFBUSxTQUE1QixHQUNQLEVBQWEsYUFBZSxTQUFuQyxHQUE2QyxHQUN2QyxFQUFjLEVBQXFCLEVBQ3BDLEVBQXFCLEVBQUksS0FDekIsRUFBYyxHQUF3QixFQUN0QyxHQUF3QixFQUFJLEdBQzVCLEVBQWUsR0FDZixJQUFvQixHQUNyQixHQUE0QixFQUFNLENBQVksRUFDOUMsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEdBQWlCLEdBQXNCLEVBQUssYUFBYSxFQUN4RCxLQUFhLEdBQ2IsR0FBdUIsR0FBZ0IsS0FDdkMsRUFBSyxRQUFVLEVBQ1AsSUFBVCxhQUVXLEVBQXVCLDJCQURoQyxZQUVBLEVBQXVCLHlCQUNyQixDQUNGLEVBQ0YsR0FBb0IsRUFBYyxFQUFNLENBQTJCLEVBQzFELElBQVQsYUFFVyxFQUF1QiwyQkFEaEMsWUFFQSxFQUF1Qix5QkFBeUIsRUFDbEQsR0FBYSxFQUNaLEdBQW1CLEVBQ25CLEdBQXdCLEVBQUksRUFDNUIsRUFBcUIsRUFBSSxHQUN6QixFQUFLLFFBQVUsR0FDbkIsRUFBYyxLQUNULEdBQTZCLEdBQzlCLEdBQWdDLEVBQ2hDLEdBQTZCLElBQzdCLEdBQXVCLEVBQU0sQ0FBYyxFQUMzQyxHQUEyQixFQUMzQixHQUErQixNQUNwQyxFQUFpQixFQUFLLGFBQ2hCLElBQU4sSUFBeUIsR0FBeUMsTUFDbEUsR0FBZSxHQUErQixDQUFJLEVBQ2xELEdBQWUsRUFBYSxVQUFXLENBQW1CLEVBQzFELElBQXFCLEVBQUssaUJBQWlCLE1BQU0sRUFDakQsR0FBYSxFQUNiLEdBQXNCLENBQUksRUFDYixJQUFULEtBQ0YsSUFDRSxFQUFzQixFQUFLLG1CQUFvQixFQUFlLEVBQzlELEVBQWUsRUFBa0IsT0FDakMsSUFFQSxBQUFDLEVBQWlCLEVBQWtCLEdBQ2pDLEVBQWMsR0FBYyxFQUFlLEtBQUssRUFDakQsR0FDRSxFQUFlLE9BQ2YsRUFDQSxFQUFlLE1BQ2YsQ0FDRixFQVlOLE9BWE8sR0FBNkIsS0FBcEMsR0FBMEMsR0FBb0IsRUFDOUQsRUFBaUIsRUFBSyxjQUNmLEVBQThCLFdBQXJDLElBQ08sRUFBaUIsTUFBeEIsR0FDTSxHQUF3QixHQUMxQixJQUFTLEdBQ0wsTUFDRSxHQUFvQixFQUFLLEdBQXdCLElBQ3RELEdBQW9CLEVBQ3pCLEdBQThCLEVBQUcsRUFBRSxFQUNuQyxHQUFrQixFQUNYLEtBRVQsU0FBUyxFQUFhLENBQUMsRUFBZ0IsQ0FTckMsT0FSQSxFQUFpQixDQUFFLGVBQWdCLENBQWUsRUFDbEQsT0FBTyxlQUFlLEVBQWdCLFNBQVUsQ0FDOUMsWUFBYyxFQUFHLENBQ2YsUUFBUSxNQUNOLDZNQUNGLEVBRUosQ0FBQyxFQUNNLEVBRVQsU0FBUyxFQUFzQixDQUFDLEVBQU0sRUFBZ0IsQ0FDcEQsQ0FBTyxFQUFLLGtCQUFvQixLQUFoQyxJQUNJLEVBQWlCLEVBQUssWUFDaEIsR0FBUixPQUNJLEVBQUssWUFBYyxLQUFPLEdBQWEsQ0FBYyxJQUU3RCxTQUFTLEVBQW1CLEVBQUcsQ0FDN0IsR0FBYSxLQUFULEtBQXdDLENBQzFDLElBQUksRUFBTyxHQUNULEVBQWlCLEdBQ25CLEdBQXNDLEVBQ3RDLElBQUksRUFBaUIsR0FBcUIsRUFBMEIsRUFDbEUsRUFDUSxLQUFOLEdBQThCLEdBQXVCLEVBQ2pELEdBQ0EsRUFDUixFQUFpQixFQUFxQixFQUN0QyxJQUFJLEVBQW1CLEdBQXdCLEVBQy9DLEdBQUksQ0FHRixHQUZBLEdBQXdCLEVBQUksRUFDNUIsRUFBcUIsRUFBSSxLQUNaLEtBQVQsS0FDRixJQUFJLEVBQTJCLE9BQzVCLENBQ0gsRUFBVyxHQUNYLEdBQTRCLEtBQzVCLElBQUksRUFBZ0IsR0FDbEIsRUFBUSxHQUdWLEdBRkEsR0FBZ0MsS0FDaEMsR0FBNkIsR0FFMUIsSUFBb0IsR0FBZ0IsT0FDckMsR0FFQSxNQUFNLE1BQ0osdURBQ0YsRUFDRixHQUEyQixHQUMzQixHQUF3QyxHQUMvQixJQUFULGFBRVcsRUFBdUIsNEJBRGhDLFlBRUEsRUFBdUIsMEJBQTBCLENBQUssRUFDeEQsSUFBSSxFQUF1QixHQXdCM0IsR0F2QkEsSUFBb0IsR0FDcEIsR0FBNEIsRUFBYyxPQUFPLEVBQ2pELEdBQ0UsRUFDQSxFQUFjLFFBQ2QsRUFDQSxDQUNGLEVBQ1MsSUFBVCxhQUVXLEVBQXVCLDRCQURoQyxZQUVBLEVBQXVCLDBCQUEwQixFQUNuRCxHQUErQixDQUFhLEVBQzVDLEdBQW1CLEVBQ25CLEdBQThCLEVBQUcsRUFBRSxFQUNuQyxHQUNJLElBQWtCLEdBQ2hCLE1BQ0UsR0FBMkIsRUFDNUIsR0FBK0IsR0FDakMsR0FBMkIsRUFDaEMsR0FBd0MsR0FDdEMsR0FFQSxXQUNzQixHQUFhLHdCQUFuQyxXQUVBLEdBQUksQ0FDRixHQUFhLHNCQUFzQixHQUFZLENBQWEsUUFDckQsRUFBUCxDQUNBLEtBQ0ksR0FBaUIsR0FDbkIsUUFBUSxNQUNOLGlEQUNBLENBQ0YsR0FFTixJQUFJLEVBQVksRUFBYyxRQUFRLFVBQ3RDLEVBQVUsZUFBaUIsRUFDM0IsRUFBVSxzQkFBd0IsRUFDbEMsRUFBMkIsR0FFN0IsT0FBTyxTQUNQLENBQ0EsQUFBQyxHQUF3QixFQUFJLEVBQzFCLEVBQXFCLEVBQUksRUFDMUIsR0FBdUIsRUFBTSxDQUFjLEdBR2pELE1BQU8sR0FFVCxTQUFTLEVBQTZCLENBQUMsRUFBVyxFQUFhLEVBQU8sQ0FDcEUsRUFBYyxHQUEyQixFQUFPLENBQVcsRUFDM0QsRUFBYyxHQUFzQixFQUFVLFVBQVcsRUFBYSxDQUFDLEVBQ3ZFLEVBQVksR0FBYyxFQUFXLEVBQWEsQ0FBQyxFQUMxQyxJQUFULE9BQ0csR0FBa0IsRUFBVyxDQUFDLEVBQUcsR0FBc0IsQ0FBUyxHQUVyRSxTQUFTLEVBQXVCLENBQzlCLEVBQ0EsRUFDQSxFQUNBLENBRUEsR0FEQSxHQUEyQixHQUNqQixFQUFZLE1BQWxCLEVBQ0YsR0FBOEIsRUFBYSxFQUFhLENBQUssTUFDMUQsQ0FDSCxLQUFnQixJQUFULE1BQW1DLENBQ3hDLEdBQVUsRUFBdUIsTUFBN0IsRUFBa0MsQ0FDcEMsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNBLE9BRUYsR0FBVSxFQUF1QixNQUE3QixFQUFrQyxDQUNwQyxJQUFJLEVBQVcsRUFBdUIsVUFDdEMsVUFFVyxFQUF1QixLQUFLLDJCQURyQyxtQkFFdUIsRUFBUyxvQkFBL0IsYUFDVyxLQUFULE9BQ0UsR0FBdUMsSUFBSSxDQUFRLEdBQ3hELENBQ0EsRUFBYyxHQUEyQixFQUFPLENBQVcsRUFDM0QsRUFBUSxHQUF1QixDQUFDLEVBQ2hDLEVBQVcsR0FBYyxFQUF3QixFQUFPLENBQUMsRUFDaEQsSUFBVCxPQUNHLEdBQ0MsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLEdBQWtCLEVBQVUsQ0FBQyxFQUM3QixHQUFzQixDQUFRLEdBQ2hDLFFBR0osRUFBeUIsRUFBdUIsT0FFbEQsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFDQSxDQUNGLEdBR0osU0FBUyxFQUFrQixDQUFDLEVBQU0sRUFBVSxFQUFPLENBQ2pELElBQUksRUFBWSxFQUFLLFVBQ3JCLEdBQWEsSUFBVCxLQUFvQixDQUN0QixFQUFZLEVBQUssVUFBWSxJQUFJLEdBQ2pDLElBQUksRUFBWSxJQUFJLElBQ3BCLEVBQVUsSUFBSSxFQUFVLENBQVMsTUFFakMsQ0FBQyxFQUFZLEVBQVUsSUFBSSxDQUFRLEVBQ3RCLElBQU4sU0FDRCxFQUFZLElBQUksSUFBUSxFQUFVLElBQUksRUFBVSxDQUFTLEdBQ2pFLEVBQVUsSUFBSSxDQUFLLElBQ2YsR0FBMEMsR0FDNUMsRUFBVSxJQUFJLENBQUssRUFDbEIsRUFBWSxHQUFrQixLQUFLLEtBQU0sRUFBTSxFQUFVLENBQUssRUFDL0QsSUFBcUIsR0FBdUIsRUFBTSxDQUFLLEVBQ3ZELEVBQVMsS0FBSyxFQUFXLENBQVMsR0FFdEMsU0FBUyxFQUFpQixDQUFDLEVBQU0sRUFBVSxFQUFhLENBQ3RELElBQUksRUFBWSxFQUFLLFVBQ3JCLEFBQVMsSUFBVCxNQUFzQixFQUFVLE9BQU8sQ0FBUSxFQUMvQyxFQUFLLGFBQWUsRUFBSyxlQUFpQixFQUMxQyxFQUFLLFlBQWMsRUFDbkIsR0FBMkIsR0FDaEIsRUFBcUIsV0FBOUIsTUFDQSxRQUFRLE1BQ047QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMElBQ0YsRUFDRixLQUF1QixJQUNwQixHQUFnQyxLQUFpQixJQUNqRCxLQUFpQyxJQUNqQyxLQUFpQyxLQUMvQixHQUFnQyxZQUMvQixJQUNGLEdBQU0sRUFBSSxHQUErQixJQUN0QyxHQUFtQixNQUFtQixJQUN2QyxHQUFrQixFQUFNLENBQUMsRUFDeEIsSUFBaUMsRUFDdEMsS0FBc0MsS0FDbkMsR0FBb0MsSUFDekMsR0FBc0IsQ0FBSSxFQUU1QixTQUFTLEVBQXFCLENBQUMsRUFBZSxFQUFXLENBQ3ZELEFBQU0sSUFBTixJQUFvQixFQUFZLEdBQW1CLEdBQ25ELEVBQWdCLEdBQStCLEVBQWUsQ0FBUyxFQUM5RCxJQUFULE9BQ0csR0FBa0IsRUFBZSxDQUFTLEVBQzNDLEdBQXNCLENBQWEsR0FFdkMsU0FBUyxFQUErQixDQUFDLEVBQWUsQ0FDdEQsSUFBSSxFQUFnQixFQUFjLGNBQ2hDLEVBQVksRUFDZCxBQUFTLElBQVQsT0FBMkIsRUFBWSxFQUFjLFdBQ3JELEdBQXNCLEVBQWUsQ0FBUyxFQUVoRCxTQUFTLEVBQW9CLENBQUMsRUFBZSxFQUFVLENBQ3JELElBQUksRUFBWSxFQUNoQixPQUFRLEVBQWMsU0FDZixJQUNILElBQStCLFVBQTNCLEVBQzhCLGNBQTlCLEdBQWdCLEVBQ3BCLEFBQVMsSUFBVCxPQUEyQixFQUFZLEVBQWMsV0FDckQsVUFDRyxJQUNILEVBQWEsRUFBYyxVQUMzQixVQUNHLElBQ0gsRUFBYSxFQUFjLFVBQVUsWUFDckMsY0FFQSxNQUFNLE1BQ0oseUVBQ0YsRUFFSixBQUFTLElBQVQsTUFBdUIsRUFBVyxPQUFPLENBQVEsRUFDakQsR0FBc0IsRUFBZSxDQUFTLEVBRWhELFNBQVMsRUFBOEMsQ0FDckQsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFXLEVBQVksYUFBZSxZQUFsQyxFQUNGLElBQUssRUFBYyxFQUFZLE1BQWdCLElBQVQsTUFBd0IsQ0FDNUQsSUFBSSxFQUFPLEVBQ1QsRUFBUSxFQUNSLEVBQW9CLEVBQU0sT0FBUyxHQUNyQyxFQUFvQixHQUFrQixFQUMvQixFQUFNLE1BQWIsR0FDSSxFQUFNLE1BQVEsU0FDWixHQUNBLEdBQ0UsRUFDQSxHQUNBLEVBQ0EsR0FDQyxFQUFNLEtBQU8sTUFBZ0MsRUFDaEQsRUFDQSxHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBQ08sRUFBTSxnQkFBZixPQUNDLEdBQXFCLEVBQU0sTUFBUSxLQUNoQyxHQUNFLEVBQ0EsR0FDQSxFQUNBLENBQ0YsRUFDQSxFQUFNLGFBQWUsVUFDckIsR0FDRSxFQUNBLEdBQ0EsRUFDQSxFQUNBLENBQ0YsR0FDUixFQUFjLEVBQVksU0FHaEMsU0FBUyxFQUEwQixDQUFDLEVBQU0sRUFBTyxDQUMvQyxJQUFJLEVBQ0YsRUFBSSxVQUFVLFFBQXFCLFVBQVUsS0FBaEIsT0FBcUIsVUFBVSxHQUFLLEdBQ25FLEdBQTJCLEVBQUUsRUFDN0IsR0FBSSxDQUNGLEdBQXVCLENBQUssRUFDMUIsR0FBb0MsR0FBd0IsQ0FBSyxFQUNqRSxHQUFzQixFQUFNLEVBQU0sVUFBVyxFQUFPLEVBQUUsRUFDdEQsR0FDRSxHQUF3QixFQUFNLEVBQU8sRUFBRyxLQUFNLEVBQUUsU0FDcEQsQ0FDQSxHQUEyQixFQUFFLEdBR2pDLFNBQVMsRUFBOEIsQ0FBQyxFQUFNLENBQzVDLElBQUksRUFBc0IsR0FDMUIsRUFBSyxRQUFRLE1BQVEsR0FBbUIsTUFDckMsRUFBc0IsSUFDekIsR0FDRSxFQUNBLEVBQUssUUFDTCxDQUNGLEVBRUYsU0FBUyxFQUF3QyxDQUFDLEVBQU8sQ0FDdkQsSUFBSyxHQUFtQixNQUFtQixHQUFXLENBQ3BELElBQUksRUFBTSxFQUFNLElBQ2hCLEdBQ1EsSUFBTixHQUNNLElBQU4sR0FDTSxJQUFOLEdBQ08sSUFBUCxJQUNPLElBQVAsSUFDTyxJQUFQLEdBQ0EsQ0FFQSxHQURBLEVBQU0sRUFBMEIsQ0FBSyxHQUFLLGlCQUM3QixLQUFULEtBQXNELENBQ3hELEdBQUksR0FBNEMsSUFBSSxDQUFHLEVBQUcsT0FDMUQsR0FBNEMsSUFBSSxDQUFHLE1BQzlDLElBQThDLElBQUksSUFBSSxDQUFDLENBQUcsQ0FBQyxFQUNsRSxHQUFrQixVQUFnQixFQUFHLENBQ25DLFFBQVEsTUFDTixtUEFDRixFQUNELElBSVAsU0FBUyxFQUFzQixDQUFDLEVBQU0sRUFBTyxDQUMzQyxJQUNFLEVBQUssaUJBQWlCLGdCQUFpQixDQUFDLEVBQWlCLENBQ3ZELEdBQW1CLEVBQU0sRUFBaUIsQ0FBSyxFQUNoRCxFQUVMLFNBQVMsRUFBa0IsQ0FBQyxFQUFlLEVBQVUsQ0FDbkQsSUFBSSxFQUFXLEVBQXFCLFNBQ3BDLE9BQWdCLElBQVQsTUFDRixFQUFTLEtBQUssQ0FBUSxFQUFHLElBQzFCLEdBQW1CLEVBQWUsQ0FBUSxFQUVoRCxTQUFTLEVBQWlDLENBQUMsRUFBTyxDQUNoRCxHQUEyQixHQUNoQixFQUFxQixXQUE5QixNQUNBLEdBQWtCLFVBQWdCLEVBQUcsQ0FDbkMsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLDJJQUNBLEVBQTBCLENBQUssQ0FDakMsRUFDRCxFQUVMLFNBQVMsRUFBcUIsQ0FBQyxFQUFNLENBQ25DLElBQVMsSUFDRSxFQUFLLE9BQWQsT0FDVSxLQUFULEtBQ0ksR0FBcUIsR0FBb0IsRUFDekMsR0FBb0IsR0FBa0IsS0FBTyxHQUNwRCxHQUEyQixHQUNsQixFQUFxQixXQUE5QixLQUNJLEtBQ0UsR0FBMkIsR0FDN0IsR0FBc0IsRUFBOEIsR0FDcEQsS0FDRSxHQUF1QixHQUN6QixHQUFzQixFQUE4QixHQUUxRCxTQUFTLEVBQTZCLENBQUMsRUFBcUIsRUFBWSxDQUN0RSxJQUFLLElBQWtCLEdBQTBCLENBQy9DLEdBQWlCLEdBQ2pCLEVBQUcsQ0FDRCxJQUFJLEVBQXFCLEdBQ3pCLFFBQVMsRUFBTyxHQUE2QixJQUFULE1BQWlCLENBQ25ELElBQUssRUFDSCxHQUFVLElBQU4sRUFBMkIsQ0FDN0IsSUFBSSxFQUFlLEVBQUssYUFDeEIsR0FBVSxJQUFOLEVBQW9CLElBQUksRUFBWSxNQUNuQyxDQUNILElBQTBCLGVBQXRCLEVBQ2lCLFlBQW5CLEdBQWMsRUFDaEIsR0FDRyxHQUFNLEdBQUssR0FBTSxHQUFLLENBQW1CLEVBQUksR0FBTSxFQUN0RCxHQUFhLElBQWlCLEdBQWtCLEdBQ2hELEVBQ0UsRUFBWSxVQUNQLEVBQVksVUFBYSxFQUMxQixFQUNFLEVBQVksRUFDWixFQUVWLEFBQU0sSUFBTixJQUNJLEVBQXFCLEdBQ3ZCLEdBQXNCLEVBQU0sQ0FBUyxPQUV2QyxDQUFDLEVBQVksR0FDVixFQUFZLEdBQ1gsRUFDQSxJQUFTLEdBQXFCLEVBQVksQ0FDNUMsR0FDTyxFQUFZLEtBQW5CLEdBQ0UsR0FBMEIsRUFBTSxDQUFTLElBQ3ZDLEVBQXFCLEdBQ3ZCLEdBQXNCLEVBQU0sQ0FBUyxHQUM3QyxFQUFPLEVBQUssWUFFUCxHQUNULEdBQWlCLElBR3JCLFNBQVMsRUFBOEIsRUFBRyxDQUN4QyxHQUNFLEdBQ0EsR0FDRSxHQUNKLElBQUksRUFBc0IsRUFDMUIsQUFBTSxLQUFOLElBQ0csR0FBNkIsSUFDM0IsRUFBc0IsSUFDeEIsR0FBNkIsR0FDaEMsUUFDTSxFQUFjLEdBQU0sRUFBRyxFQUFPLEtBQU0sRUFBTyxHQUN0QyxJQUFULE1BRUEsQ0FDQSxJQUFJLEVBQU8sRUFBSyxLQUNkLEVBQVksR0FBbUMsRUFBTSxDQUFXLEVBQ2xFLEdBQVUsSUFBTixFQUNGLEFBQUMsRUFBSyxLQUFPLEtBQ0YsSUFBVCxLQUFpQixHQUFxQixFQUFTLEVBQUssS0FBTyxFQUNsRCxJQUFULE9BQWtCLEdBQW9CLFdBRXRDLEVBQU8sRUFBYSxJQUFOLElBQW9DLEVBQVksS0FBbkIsRUFFN0MsR0FBMkIsR0FDN0IsRUFBTyxFQUVULEdBQThCLEVBQXFCLEVBQUUsRUFFdkQsU0FBUyxFQUFrQyxDQUFDLEVBQU0sRUFBYSxDQUM3RCxRQUM0QixlQUF0QixFQUNpQixZQUFuQixFQUN1QixnQkFBdkIsR0FEYyxFQUVkLEVBQVEsRUFBSyxhQUFlLFVBQzlCLEVBQUksR0FFSixDQUNBLElBQUksRUFBUSxHQUFLLEdBQU0sQ0FBSyxFQUMxQixFQUFPLEdBQUssRUFDWixFQUFpQixFQUFnQixHQUNuQyxHQUFXLElBQVAsSUFDRixJQUFXLEVBQU8sS0FBZCxJQUF3QyxFQUFPLEtBQWQsRUFDbkMsRUFBZ0IsR0FBUyxHQUFzQixFQUFNLENBQVcsTUFDN0QsSUFBa0IsSUFBZ0IsRUFBSyxjQUFnQixHQUM5RCxJQUFVLEVBU1osR0FQQSxFQUFjLEdBQ2QsRUFBaUIsR0FDakIsRUFBaUIsR0FDZixFQUNBLElBQVMsRUFBYyxFQUFpQixDQUMxQyxFQUNBLEVBQWMsRUFBSyxhQUVYLElBQU4sR0FDQyxJQUFTLEdBQ1IsS0FBa0MsSUFDM0IsRUFBSyxzQkFBZCxLQUVBLE9BQ1csSUFBVCxNQUF3QixHQUFlLENBQVcsRUFDakQsRUFBSyxhQUFlLEtBQ3BCLEVBQUssaUJBQW1CLEVBRTdCLElBQ1MsRUFBaUIsS0FBeEIsR0FDQSxHQUEwQixFQUFNLENBQWMsRUFDOUMsQ0FFQSxHQURBLEVBQWMsR0FBa0IsRUFFOUIsSUFBZ0IsRUFBSyxrQkFDWCxFQUFxQixXQUE5QixNQUNDLElBQWdCLEdBRWxCLEdBQWUsQ0FBVyxNQUN2QixRQUFPLEVBQ1osT0FBUSxHQUFxQixDQUFjLFFBQ3BDLFFBQ0EsR0FDSCxFQUFpQixHQUNqQixXQUNHLEdBQ0gsRUFBaUIsR0FDakIsV0FDRyxHQUNILEVBQWlCLEdBQ2pCLGNBRUEsRUFBaUIsR0FTckIsT0FQQSxFQUFjLEdBQWtDLEtBQUssS0FBTSxDQUFJLEVBQ3RELEVBQXFCLFdBQTlCLE1BQ0ssRUFBcUIsU0FBUyxLQUFLLENBQVcsRUFDOUMsRUFBaUIsSUFDakIsRUFBaUIsR0FBbUIsRUFBZ0IsQ0FBVyxFQUNwRSxFQUFLLGlCQUFtQixFQUN4QixFQUFLLGFBQWUsRUFDYixFQUtULE9BSFMsSUFBVCxNQUF3QixHQUFlLENBQVcsRUFDbEQsRUFBSyxpQkFBbUIsRUFDeEIsRUFBSyxhQUFlLEtBQ2IsRUFFVCxTQUFTLEVBQWlDLENBQUMsRUFBTSxFQUFZLENBQzNELEdBQXdCLEdBQXdCLEdBQ2hELElBQUksRUFBdUIsRUFBSyxhQUNoQyxHQUFJLEdBQW9CLEdBQUssRUFBSyxlQUFpQixFQUNqRCxPQUFPLEtBQ1QsSUFBSSxFQUNGLEdBS0YsR0FKQSxFQUF5QyxHQUN2QyxFQUNBLElBQVMsR0FBcUIsRUFBeUMsQ0FDekUsRUFDVSxJQUFOLEVBQThDLE9BQU8sS0FPekQsT0FOQSxHQUNFLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FBbUMsRUFBTSxHQUFNLENBQUMsRUFDakMsRUFBSyxjQUFiLE1BQ0wsRUFBSyxlQUFpQixFQUNwQixHQUFrQyxLQUFLLEtBQU0sQ0FBSSxFQUNqRCxLQUVOLFNBQVMsRUFBcUIsQ0FBQyxFQUFNLEVBQU8sQ0FDMUMsR0FBSSxHQUFvQixFQUFHLE9BQU8sS0FDbEMsR0FBd0IsR0FDeEIsR0FBd0IsR0FDeEIsR0FBa0IsRUFBTSxFQUFPLEVBQUUsRUFFbkMsU0FBUyxFQUFjLENBQUMsRUFBYyxDQUNwQyxJQUFpQixJQUNOLElBQVQsTUFDQSxHQUFpQixDQUFZLEVBRWpDLFNBQVMsRUFBcUIsQ0FBQyxFQUFJLENBQ2pDLEFBQVMsRUFBcUIsV0FBOUIsTUFDRSxFQUFxQixTQUFTLGFBQWMsRUFBRyxDQUU3QyxPQURBLEVBQUcsRUFDSSxLQUNSLEVBQ0gsV0FBMkIsRUFBRyxDQUM1QixDQUFDLElBQW9CLEdBQWdCLE9BQW9CLEdBQ3JELEdBQW1CLEdBQW1CLENBQUUsRUFDeEMsRUFBRyxFQUNSLEVBRUgsU0FBUyxFQUFxQixFQUFHLENBRy9CLE9BRk0sS0FBTixJQUNHLEdBQTZCLEdBQXdCLEdBQ2pELEdBRVQsU0FBUyxFQUFvQixDQUFDLEVBQVksQ0FDeEMsR0FDVSxHQUFSLGFBQ29CLElBQXBCLGlCQUNxQixJQUFyQixVQUVBLE9BQU8sS0FDVCxVQUEwQixJQUF0QixXQUFrQyxPQUFPLEVBRTdDLE9BREEsR0FBNkIsRUFBWSxRQUFRLEVBQzFDLEdBQVksR0FBSyxDQUFVLEVBRXBDLFNBQVMsRUFBMkIsQ0FBQyxFQUFNLEVBQVcsQ0FDcEQsSUFBSSxFQUFPLEVBQVUsY0FBYyxjQUFjLE9BQU8sRUFPeEQsT0FOQSxFQUFLLEtBQU8sRUFBVSxLQUN0QixFQUFLLE1BQVEsRUFBVSxNQUN2QixFQUFLLElBQU0sRUFBSyxhQUFhLE9BQVEsRUFBSyxFQUFFLEVBQzVDLEVBQVUsV0FBVyxhQUFhLEVBQU0sQ0FBUyxFQUNqRCxFQUFPLElBQUksU0FBUyxDQUFJLEVBQ3hCLEVBQUssV0FBVyxZQUFZLENBQUksRUFDekIsRUFFVCxTQUFTLEVBQWUsQ0FDdEIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsR0FDZSxJQUFiLFVBQ0EsR0FDQSxFQUFnQixZQUFjLEVBQzlCLENBQ0EsSUFBSSxFQUFTLElBQ1IsRUFBa0IsS0FBcUIsTUFBTSxNQUNoRCxFQUNBLEVBQVksRUFBWSxVQUMxQixJQUNJLEdBQWdCLEVBQWUsRUFBVSxLQUFxQixNQUM1RCxHQUFxQixFQUFhLFVBQVUsRUFDNUMsRUFBVSxhQUFhLFlBQVksRUFDOUIsSUFBVCxPQUNJLEVBQVMsRUFBZ0IsRUFBWSxPQUMzQyxJQUFJLEVBQVEsSUFBSSxHQUNkLFNBQ0EsU0FDQSxLQUNBLEVBQ0EsQ0FDRixFQUNBLEVBQWMsS0FBSyxDQUNqQixNQUFPLEVBQ1AsVUFBVyxDQUNULENBQ0UsU0FBVSxLQUNWLGlCQUFtQixFQUFHLENBQ3BCLEdBQUksRUFBWSxrQkFDZCxHQUFVLEtBQU4sRUFBa0MsQ0FDcEMsSUFBSSxFQUFXLEVBQ1QsR0FDRSxFQUNBLENBQ0YsRUFDQSxJQUFJLFNBQVMsQ0FBaUIsRUFDbEMsRUFBZSxDQUNiLFFBQVMsR0FDVCxLQUFNLEVBQ04sT0FBUSxFQUFrQixPQUMxQixPQUFRLENBQ1YsRUFDRixPQUFPLE9BQU8sQ0FBWSxFQUMxQixHQUNFLEVBQ0EsRUFDQSxLQUNBLENBQ0YsT0FHRixRQUFzQixJQUF0QixhQUNHLEVBQU0sZUFBZSxFQUNyQixFQUFXLEVBQ1IsR0FDRSxFQUNBLENBQ0YsRUFDQSxJQUFJLFNBQVMsQ0FBaUIsRUFDakMsRUFBZSxDQUNkLFFBQVMsR0FDVCxLQUFNLEVBQ04sT0FBUSxFQUFrQixPQUMxQixPQUFRLENBQ1YsRUFDQSxPQUFPLE9BQU8sQ0FBWSxFQUMxQixHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsSUFFTixjQUFlLENBQ2pCLENBQ0YsQ0FDRixDQUFDLEdBR0wsU0FBUyxFQUFvQixDQUFDLEVBQWUsRUFBa0IsQ0FDN0QsR0FBMEIsRUFBbUIsS0FBMUIsRUFDbkIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFjLE9BQVEsSUFBSyxDQUM3QyxJQUFJLEVBQW1CLEVBQWMsR0FDckMsRUFBRyxDQUNELElBQUksRUFBd0IsT0FDMUIsRUFBUSxFQUFpQixNQUUzQixHQURBLEVBQW1CLEVBQWlCLFVBQ2hDLEVBQ0YsUUFDTSxFQUFhLEVBQWlCLE9BQVMsRUFDM0MsR0FBSyxFQUNMLElBQ0EsQ0FDQSxJQUFJLEVBQXVCLEVBQWlCLEdBQzFDLEVBQVcsRUFBcUIsU0FDaEMsRUFBZ0IsRUFBcUIsY0FFdkMsR0FEQSxFQUF1QixFQUFxQixTQUN4QyxJQUFhLEdBQW9CLEVBQU0scUJBQXFCLEVBQzlELFFBQ0YsRUFBbUIsRUFDbkIsRUFBaUIsY0FBZ0IsRUFDakMsR0FBSSxDQUNGLEVBQXFCLENBQWdCLFFBQzlCLEVBQVAsQ0FDQSxHQUFrQixDQUFLLEVBRXpCLEVBQWlCLGNBQWdCLEtBQ2pDLEVBQW1CLE1BR3JCLEtBQ0UsRUFBYSxFQUNiLEVBQWEsRUFBaUIsT0FDOUIsSUFDQSxDQUtBLEdBSkEsRUFBdUIsRUFBaUIsR0FDeEMsRUFBVyxFQUFxQixTQUNoQyxFQUFnQixFQUFxQixjQUNyQyxFQUF1QixFQUFxQixTQUN4QyxJQUFhLEdBQW9CLEVBQU0scUJBQXFCLEVBQzlELFFBQ0YsRUFBbUIsRUFDbkIsRUFBaUIsY0FBZ0IsRUFDakMsR0FBSSxDQUNGLEVBQXFCLENBQWdCLFFBQzlCLEVBQVAsQ0FDQSxHQUFrQixDQUFLLEVBRXpCLEVBQWlCLGNBQWdCLEtBQ2pDLEVBQW1CLEtBSzdCLFNBQVMsRUFBeUIsQ0FBQyxFQUFjLEVBQWUsQ0FDOUQsR0FBbUIsSUFBSSxDQUFZLEdBQ2pDLFFBQVEsTUFDTiw0R0FDQSxDQUNGLEVBQ0YsSUFBSSxFQUFjLEVBQWMsSUFDaEMsQUFBVyxJQUFOLFNBQ0YsRUFBYyxFQUFjLElBQTRCLElBQUksS0FDL0QsSUFBSSxFQUFpQixFQUFlLFdBQ3BDLEVBQVksSUFBSSxDQUFjLElBQzNCLEdBQXdCLEVBQWUsRUFBYyxFQUFHLEVBQUUsRUFDM0QsRUFBWSxJQUFJLENBQWMsR0FFbEMsU0FBUyxFQUFtQixDQUFDLEVBQWMsRUFBd0IsRUFBUSxDQUN6RSxHQUFtQixJQUFJLENBQVksSUFDaEMsR0FDRCxRQUFRLE1BQ04sMEhBQ0EsQ0FDRixFQUNGLElBQUksRUFBbUIsRUFDdkIsSUFBMkIsR0FBb0IsR0FDL0MsR0FDRSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBRUYsU0FBUyxFQUEwQixDQUFDLEVBQXNCLENBQ3hELElBQUssRUFBcUIsSUFBa0IsQ0FDMUMsRUFBcUIsSUFBbUIsR0FDeEMsR0FBZ0IsZ0JBQWlCLENBQUMsRUFBYyxDQUM5QyxBQUFzQixJQUF0QixvQkFDRyxHQUFtQixJQUFJLENBQVksR0FDbEMsR0FBb0IsRUFBYyxHQUFJLENBQW9CLEVBQzVELEdBQW9CLEVBQWMsR0FBSSxDQUFvQixHQUM3RCxFQUNELElBQUksRUFDSSxFQUFxQixXQUEzQixFQUNJLEVBQ0EsRUFBcUIsY0FDM0IsQUFBUyxJQUFULE1BQ0UsRUFBYyxNQUNaLEVBQWMsSUFBbUIsR0FDbkMsR0FBb0Isa0JBQW1CLEdBQUksQ0FBYSxJQUc5RCxTQUFTLEVBQXVCLENBQzlCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxPQUFRLEdBQWlCLENBQVksUUFDOUIsR0FDSCxJQUFJLEVBQWtCLEdBQ3RCLFdBQ0csR0FDSCxFQUFrQixHQUNsQixjQUVBLEVBQWtCLEdBRXRCLEVBQW1CLEVBQWdCLEtBQ2pDLEtBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUF1QixRQUN0QixJQUNtQixJQUFqQixjQUNpQixJQUFoQixhQUNZLElBQVosVUFDRCxFQUFrQixJQUNyQixFQUNlLElBQU4sT0FDSCxFQUFnQixpQkFBaUIsRUFBYyxFQUFrQixDQUMvRCxRQUFTLEdBQ1QsUUFBUyxDQUNYLENBQUMsRUFDRCxFQUFnQixpQkFBaUIsRUFBYyxFQUFrQixFQUFFLEVBQzFELElBQU4sT0FDSCxFQUFnQixpQkFBaUIsRUFBYyxFQUFrQixDQUMvRCxRQUFTLENBQ1gsQ0FBQyxFQUNELEVBQWdCLGlCQUNkLEVBQ0EsRUFDQSxFQUNGLEVBRVIsU0FBUyxFQUFpQyxDQUN4QyxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQWUsRUFDbkIsSUFDUyxFQUFtQixLQUExQixJQUNPLEVBQW1CLEtBQTFCLEdBQ1MsSUFBVCxLQUVBLEVBQUcsT0FBUyxDQUNWLEdBQWEsSUFBVCxLQUE4QixPQUNsQyxJQUFJLEVBQVUsRUFBb0IsSUFDbEMsR0FBVSxJQUFOLEdBQXVCLElBQU4sRUFBZSxDQUNsQyxJQUFJLEVBQVksRUFBb0IsVUFBVSxjQUM5QyxHQUNFLElBQWMsR0FDUCxFQUFVLFdBQWhCLEdBQ0MsRUFBVSxhQUFlLEVBRTNCLE1BQ0YsR0FBVSxJQUFOLEVBQ0YsSUFBSyxFQUFVLEVBQW9CLE9BQWlCLElBQVQsTUFBb0IsQ0FDN0QsSUFBSSxFQUFXLEVBQVEsSUFDdkIsR0FBVSxJQUFOLEdBQXdCLElBQU4sR0FDcEIsR0FDSSxFQUFXLEVBQVEsVUFBVSxjQUMvQixJQUFhLEdBQ0osRUFBUyxXQUFmLEdBQ0MsRUFBUyxhQUFlLEVBRTVCLE9BQ0osRUFBVSxFQUFRLE9BRXRCLEtBQWdCLElBQVQsTUFBc0IsQ0FFM0IsR0FEQSxFQUFVLEdBQTJCLENBQVMsRUFDakMsSUFBVCxLQUFrQixPQUV0QixHQURBLEVBQVcsRUFBUSxJQUVYLElBQU4sR0FDTSxJQUFOLEdBQ08sSUFBUCxJQUNPLElBQVAsR0FDQSxDQUNBLEVBQXNCLEVBQWUsRUFDckMsV0FFRixFQUFZLEVBQVUsWUFHMUIsRUFBc0IsRUFBb0IsT0FFOUMsV0FBMEIsRUFBRyxDQUMzQixJQUFJLEVBQWEsRUFDZixFQUFvQixHQUFlLENBQVcsRUFDOUMsRUFBZ0IsQ0FBQyxFQUNuQixFQUFHLENBQ0QsSUFBSSxFQUFZLEdBQTJCLElBQUksQ0FBWSxFQUMzRCxHQUFlLElBQU4sT0FBaUIsQ0FDeEIsSUFBSSxFQUFxQixHQUN2QixHQUFpQixFQUNuQixPQUFRLE9BQ0QsV0FDSCxHQUFVLEdBQWlCLENBQVcsSUFBbEMsRUFBcUMsWUFDdEMsY0FDQSxRQUNILEVBQXFCLEdBQ3JCLFVBQ0csVUFDSCxHQUFpQixRQUNqQixFQUFxQixHQUNyQixVQUNHLFdBQ0gsR0FBaUIsT0FDakIsRUFBcUIsR0FDckIsVUFDRyxpQkFDQSxZQUNILEVBQXFCLEdBQ3JCLFVBQ0csUUFDSCxHQUFVLEVBQVksU0FBbEIsRUFBMEIsWUFDM0IsZUFDQSxlQUNBLGdCQUNBLGdCQUNBLGNBQ0EsZUFDQSxnQkFDQSxjQUNILEVBQXFCLEdBQ3JCLFVBQ0csV0FDQSxjQUNBLGdCQUNBLGVBQ0EsZ0JBQ0EsZUFDQSxnQkFDQSxPQUNILEVBQXFCLEdBQ3JCLFVBQ0csa0JBQ0EsZUFDQSxnQkFDQSxhQUNILEVBQXFCLEdBQ3JCLFdBQ0csUUFDQSxRQUNBLEdBQ0gsRUFBcUIsR0FDckIsV0FDRyxHQUNILEVBQXFCLEdBQ3JCLFVBQ0csYUFDQSxZQUNILEVBQXFCLEdBQ3JCLFVBQ0csUUFDSCxFQUFxQixHQUNyQixVQUNHLFdBQ0EsVUFDQSxRQUNILEVBQXFCLEdBQ3JCLFVBQ0csd0JBQ0EseUJBQ0Esb0JBQ0Esa0JBQ0Esa0JBQ0EsaUJBQ0Esa0JBQ0EsWUFDSCxFQUFxQixHQUNyQixVQUNHLGFBQ0EsZUFDSCxFQUFxQixHQUV6QixJQUFJLElBQXdCLEVBQW1CLEtBQTFCLEVBQ25CLElBQ0csS0FDYSxJQUFiLFVBQTZDLElBQWhCLGFBQ2hDLEdBQWlCLEdBQ0osSUFBVCxLQUNFLEVBQVksVUFDWixLQUNGLEVBQ04sR0FBaUIsQ0FBQyxFQUNsQixRQUNNLEVBQVcsRUFBWSxFQUNsQixJQUFULE1BRUEsQ0FDQSxJQUFJLEVBQWEsRUFlakIsR0FkQSxFQUFvQixFQUFXLFVBQy9CLEVBQWEsRUFBVyxJQUNqQixJQUFOLEdBQTJCLElBQVAsSUFBNEIsSUFBUCxJQUMvQixJQUFULE1BQ1MsS0FBVCxPQUNFLEVBQWEsR0FBWSxFQUFVLEVBQWMsRUFDM0MsR0FBUixNQUNFLEdBQWUsS0FDYixHQUNFLEVBQ0EsRUFDQSxDQUNGLENBQ0YsR0FDQSxHQUFzQixNQUMxQixFQUFXLEVBQVMsT0FFdEIsRUFBSSxHQUFlLFNBQ2YsRUFBWSxJQUFJLEVBQ2hCLEVBQ0EsR0FDQSxLQUNBLEVBQ0EsQ0FDRixFQUNBLEVBQWMsS0FBSyxDQUNqQixNQUFPLEVBQ1AsVUFBVyxFQUNiLENBQUMsSUFHUCxJQUFXLEVBQW1CLEtBQTFCLEVBQThCLENBQ2hDLEVBQUcsQ0FLRCxHQUpBLEVBQ2tCLElBQWhCLGFBQWtELElBQWxCLGNBQ2xDLEVBQ2lCLElBQWYsWUFBZ0QsSUFBakIsYUFFL0IsR0FDQSxJQUFnQixLQUNmLEdBQ0MsRUFBWSxlQUFpQixFQUFZLGVBQzFDLEdBQTJCLEVBQWMsR0FDeEMsR0FBZSxLQUVqQixRQUNGLEdBQUksR0FBc0IsRUFBVyxDQU9uQyxHQU5BLEVBQ0UsRUFBa0IsU0FBVyxFQUN6QixHQUNDLEVBQVksRUFBa0IsZUFDN0IsRUFBVSxhQUFlLEVBQVUsYUFDbkMsT0FDSixHQUNGLEdBQ0ksR0FDQSxFQUFZLGVBQWlCLEVBQVksVUFDMUMsRUFBcUIsRUFDckIsR0FBaUIsR0FDZCxHQUEyQixFQUFjLEVBQ3pDLEtBQ0ssS0FBVCxPQUNJLEdBQ0EsRUFBdUIsRUFBYyxFQUN0QyxHQUFpQixHQUFlLElBQ2pDLEtBQW1CLElBQ1YsS0FBTixHQUNRLEtBQVAsSUFDTSxLQUFOLEdBRU4sR0FBaUIsU0FDZCxDQUFDLEVBQXFCLEtBQVEsR0FBaUIsRUFDdEQsR0FBSSxJQUF1QixHQUFnQixDQUt6QyxHQUpBLEdBQWlCLEdBQ2pCLEVBQWEsZUFDYixHQUFpQixlQUNqQixFQUFXLFFBRVEsSUFBakIsY0FDa0IsSUFBbEIsY0FFQSxBQUFDLEdBQWlCLEdBQ2YsRUFBYSxpQkFDYixHQUFpQixpQkFDakIsRUFBVyxVQStCaEIsR0E5QkEsR0FDVSxHQUFSLEtBQ0ksRUFDQSxHQUFvQixDQUFrQixFQUM1QyxFQUNVLElBQVIsS0FDSSxFQUNBLEdBQW9CLEVBQWMsRUFDeEMsRUFBWSxJQUFJLEdBQ2QsRUFDQSxFQUFXLFFBQ1gsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUFVLE9BQVMsR0FDbkIsRUFBVSxjQUFnQixFQUMxQixFQUFhLEtBQ2IsR0FBMkIsQ0FBaUIsSUFBTSxJQUM5QyxHQUFpQixJQUFJLEdBQ3JCLEdBQ0EsRUFBVyxRQUNYLEdBQ0EsRUFDQSxDQUNGLEVBQ0MsR0FBZSxPQUFTLEVBQ3hCLEdBQWUsY0FBZ0IsR0FDL0IsRUFBYSxJQUNoQixHQUF1QixFQUNuQixHQUFzQixHQUN4QixFQUFHLENBQ0QsR0FBaUIsRUFDakIsR0FBaUIsR0FDakIsRUFBVyxFQUNYLElBQ0UsRUFBb0IsR0FDcEIsRUFDQSxFQUFvQixHQUFVLENBQWlCLEVBRS9DLElBQ0YsRUFBb0IsRUFDcEIsSUFDRSxFQUFhLEdBQ2IsRUFDQSxFQUFhLEdBQVUsQ0FBVSxFQUVqQyxJQUNGLEtBQU8sRUFBSSxFQUFXLEdBQ3BCLEFBQUMsR0FBaUIsR0FBVSxFQUFjLEVBQUksSUFDaEQsS0FBTyxFQUFJLEVBQW9CLEdBQzdCLEFBQUMsR0FBaUIsR0FBVSxFQUFjLEVBQ3hDLElBQ0osS0FBTyxLQUFjLENBQ25CLEdBQ0UsS0FBbUIsSUFDVCxLQUFULE1BQ0MsS0FBbUIsR0FBZSxVQUVwQyxRQUNGLEdBQWlCLEdBQVUsRUFBYyxFQUN6QyxHQUFpQixHQUFVLEVBQWMsRUFFM0MsR0FBaUIsU0FFaEIsSUFBaUIsS0FDdEIsQUFBUyxJQUFULE1BQ0UsR0FDRSxFQUNBLEVBQ0EsRUFDQSxHQUNBLEVBQ0YsRUFDTyxLQUFULE1BQ1csS0FBVCxNQUNBLEdBQ0UsRUFDQSxHQUNBLEdBQ0EsR0FDQSxFQUNGLElBSVIsRUFBRyxDQUlELEdBSEEsRUFBWSxFQUFhLEdBQW9CLENBQVUsRUFBSSxPQUMzRCxFQUNFLEVBQVUsVUFBWSxFQUFVLFNBQVMsWUFBWSxFQUV4QyxJQUFiLFVBQ2EsSUFBWixTQUE2QyxFQUFVLE9BQXJCLE9BRW5DLElBQUksRUFBb0IsV0FDakIsR0FBbUIsQ0FBUyxFQUNuQyxHQUFJLEdBQ0YsRUFBb0IsT0FDakIsQ0FDSCxFQUFvQixHQUNwQixJQUFJLEVBQWtCLE9BR3hCLENBQUMsRUFBcUIsRUFBVSxVQUM3QixHQUNXLEVBQW1CLFlBQVksSUFBM0MsU0FDZ0IsRUFBVSxPQUF6QixZQUE2QyxFQUFVLE9BQXRCLFFBQzlCLEdBQ0EsR0FBZ0IsRUFBVyxXQUFXLElBQ3JDLEVBQW9CLElBQ3BCLEVBQW9CLEdBQzdCLEdBQ0UsSUFDQyxFQUFvQixFQUFrQixFQUFjLENBQVUsR0FDL0QsQ0FDQSxHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxRQUVGLEdBQ0UsRUFBZ0IsRUFBYyxFQUFXLENBQVUsRUFDdEMsSUFBZixZQUNFLEdBQ2EsRUFBVSxPQUF2QixVQUNRLEVBQVcsY0FBYyxPQUFqQyxNQUNBLEdBQWdCLEVBQVcsU0FBVSxFQUFVLEtBQUssRUFLeEQsT0FIQSxFQUFrQixFQUNkLEdBQW9CLENBQVUsRUFDOUIsT0FDSSxPQUNELFVBQ0gsR0FDRSxHQUFtQixDQUFlLEdBQ3ZCLEVBQWdCLGtCQUEzQixPQUVBLEFBQUMsR0FBZ0IsRUFDZCxHQUFvQixFQUNwQixHQUFnQixLQUNyQixVQUNHLFdBQ0gsR0FBZ0IsR0FBb0IsR0FBZ0IsS0FDcEQsVUFDRyxZQUNILEdBQVksR0FDWixVQUNHLGtCQUNBLGNBQ0EsVUFDSCxHQUFZLEdBQ1osR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUNBLFVBQ0csa0JBQ0gsR0FBSSxHQUEwQixVQUMzQixjQUNBLFFBQ0gsR0FDRSxFQUNBLEVBQ0EsQ0FDRixFQUVKLElBQUksR0FDSixHQUFJLEdBQ0YsRUFBRyxDQUNELE9BQVEsT0FDRCxtQkFDSCxJQUFJLEdBQVkscUJBQ2hCLFlBQ0csaUJBQ0gsR0FBWSxtQkFDWixZQUNHLG9CQUNILEdBQVksc0JBQ1osUUFFSixHQUFpQixXQUduQixJQUNJLEdBQXlCLEVBQWMsQ0FBVyxJQUNqRCxHQUFZLG9CQUNDLElBQWQsV0FDQSxFQUFZLFVBQVksS0FDdkIsR0FBWSxzQkErQm5CLEdBOUJBLEtBQ0csSUFDVSxFQUFZLFNBQXJCLE9BQ0MsSUFBd0MsS0FBekIscUJBQ1csS0FBdkIsb0JBQ0EsS0FDQyxHQUFlLEdBQVEsSUFDdEIsR0FBTyxFQUNSLElBQVksVUFBVyxJQUFPLEdBQUssTUFBUSxHQUFLLFlBQ2hELEdBQWMsS0FDcEIsRUFBa0IsR0FDakIsRUFDQSxFQUNGLEVBQ0EsRUFBSSxFQUFnQixTQUNoQixHQUFZLElBQUksR0FDaEIsR0FDQSxFQUNBLEtBQ0EsRUFDQSxDQUNGLEVBQ0EsRUFBYyxLQUFLLENBQ2pCLE1BQU8sR0FDUCxVQUFXLENBQ2IsQ0FBQyxFQUNELEdBQ0ssR0FBVSxLQUFPLElBQ2hCLEdBQWUsR0FBdUIsQ0FBVyxFQUMxQyxLQUFULE9BQTBCLEdBQVUsS0FBTyxPQUVoRCxHQUFlLEdBQ1osR0FBMEIsRUFBYyxDQUFXLEVBQ25ELEdBQTRCLEVBQWMsQ0FBVyxFQUV6RCxBQUFDLEdBQVksR0FDWCxFQUNBLGVBQ0YsRUFDRSxFQUFJLEdBQVUsU0FDVixFQUFrQixJQUFJLEdBQ3RCLGdCQUNBLGNBQ0EsS0FDQSxFQUNBLENBQ0YsRUFDQSxFQUFjLEtBQUssQ0FDakIsTUFBTyxFQUNQLFVBQVcsRUFDYixDQUFDLEVBQ0EsRUFBZ0IsS0FBTyxJQUM5QixHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUVGLEdBQXFCLEVBQWUsQ0FBZ0IsRUFDckQsRUFFSCxTQUFTLEVBQXNCLENBQUMsRUFBVSxFQUFVLEVBQWUsQ0FDakUsTUFBTyxDQUNMLFNBQVUsRUFDVixTQUFVLEVBQ1YsY0FBZSxDQUNqQixFQUVGLFNBQVMsRUFBMkIsQ0FBQyxFQUFhLEVBQVcsQ0FDM0QsUUFDTSxFQUFjLEVBQVksVUFBVyxFQUFZLENBQUMsRUFDN0MsSUFBVCxNQUVBLENBQ0EsSUFBSSxFQUFhLEVBQ2YsRUFBWSxFQUFXLFVBQ3pCLEVBQWEsRUFBVyxJQUNqQixJQUFOLEdBQTJCLElBQVAsSUFBNEIsSUFBUCxJQUMvQixJQUFULE9BQ0UsRUFBYSxHQUFZLEVBQWEsQ0FBVyxFQUMzQyxHQUFSLE1BQ0UsRUFBVSxRQUNSLEdBQXVCLEVBQWEsRUFBWSxDQUFTLENBQzNELEVBQ0QsRUFBYSxHQUFZLEVBQWEsQ0FBUyxFQUN4QyxHQUFSLE1BQ0UsRUFBVSxLQUNSLEdBQXVCLEVBQWEsRUFBWSxDQUFTLENBQzNELEdBQ0osRUFBYyxFQUFZLE9BRTVCLE9BQU8sRUFFVCxTQUFTLEVBQVMsQ0FBQyxFQUFNLENBQ3ZCLEdBQWEsSUFBVCxLQUFlLE9BQU8sS0FDMUIsRUFBRyxHQUFPLEVBQUssYUFDUixHQUFjLEVBQUssTUFBWCxHQUF5QixFQUFLLE1BQVosSUFDakMsT0FBTyxFQUFPLEVBQU8sS0FFdkIsU0FBUyxFQUFxQyxDQUM1QyxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxRQUNNLEVBQW1CLEVBQU0sV0FBWSxFQUFZLENBQUMsRUFDN0MsSUFBVCxNQUFtQixJQUFXLEdBRTlCLENBQ0EsSUFBSSxFQUFhLEVBQ2YsRUFBWSxFQUFXLFVBQ3ZCLEVBQVksRUFBVyxVQUV6QixHQURBLEVBQWEsRUFBVyxJQUNYLElBQVQsTUFBc0IsSUFBYyxFQUFRLE1BQ2hELEFBQU8sSUFBTixHQUEyQixJQUFQLElBQTRCLElBQVAsSUFDL0IsSUFBVCxPQUNFLEVBQVksRUFDZCxHQUNNLEVBQVksR0FBWSxFQUFRLENBQWdCLEVBQzFDLEdBQVIsTUFDRSxFQUFVLFFBQ1IsR0FBdUIsRUFBUSxFQUFXLENBQVMsQ0FDckQsR0FDRixJQUNFLEVBQVksR0FBWSxFQUFRLENBQWdCLEVBQzFDLEdBQVIsTUFDRSxFQUFVLEtBQ1IsR0FBdUIsRUFBUSxFQUFXLENBQVMsQ0FDckQsSUFDUixFQUFTLEVBQU8sT0FFbEIsQUFBTSxFQUFVLFNBQWhCLEdBQ0UsRUFBYyxLQUFLLENBQUUsTUFBTyxFQUFPLFVBQVcsQ0FBVSxDQUFDLEVBRTdELFNBQVMsRUFBK0IsQ0FBQyxFQUFNLEVBQU8sQ0FDcEQsR0FBcUIsRUFBTSxDQUFLLEVBQ25CLElBQVosU0FBbUMsSUFBZixZQUFvQyxJQUFiLFVBQ2xDLEdBQVIsTUFDUyxFQUFNLFFBQWYsTUFDQSxLQUNFLEdBQW1CLEdBQ1IsSUFBYixVQUFxQixFQUFNLFNBQ3ZCLFFBQVEsTUFDTiw2S0FDQSxDQUNGLEVBQ0EsUUFBUSxNQUNOLDZJQUNBLENBQ0YsR0FDTixJQUFJLEVBQWdCLENBQ2xCLDZCQUE4QixHQUM5QiwwQkFBMkIsRUFDN0IsRUFDQSxHQUFnQixDQUFJLFVBQ0UsRUFBTSxLQUExQixVQUNBLEdBQXNCLEVBQU0sRUFBTyxDQUFhLEVBQ2xELEVBQU0sa0JBQ0gsRUFBTSxnQ0FDQyxFQUFNLFVBQWQsTUFDQSxRQUFRLE1BQ04sMk5BQ0YsRUFFSixTQUFTLEVBQXFCLENBQzVCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxJQUFnQixJQUNaLEVBQWMsR0FBa0MsQ0FBVyxFQUM3RCxHQUFrQyxDQUFXLElBQU0sSUFDaEQsRUFBa0IsR0FBWSxJQUVyQyxTQUFTLEVBQXNCLENBQzdCLEVBQ0EsRUFDQSxFQUNBLENBQ0EsRUFBZSxnQkFBaUIsQ0FBQyxFQUFlLENBQzlDLEVBQWtCLEdBQTZCLENBQWEsR0FDOUMsSUFBWixRQUNJLEdBQTJCLENBQVUsRUFDckMsRUFBVyxhQUFhLENBQWEsRUFDNUMsRUFFSCxTQUFTLEVBQTJCLENBQUMsRUFBa0IsRUFBVSxDQUMvRCxBQUFPLElBQVAsR0FDSSxRQUFRLE1BQ04sdUxBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxRQUFRLE1BQ04sNkVBQ0EsU0FDTyxDQUNULEVBRU4sU0FBUyxFQUFhLENBQUMsRUFBUSxFQUFNLENBVW5DLE9BVEEsRUFDRSxFQUFPLGVBQWlCLElBQ3hCLEVBQU8sZUFBaUIsR0FDcEIsRUFBTyxjQUFjLGdCQUNuQixFQUFPLGFBQ1AsRUFBTyxPQUNULEVBQ0EsRUFBTyxjQUFjLGNBQWMsRUFBTyxPQUFPLEVBQ3ZELEVBQU8sVUFBWSxFQUNaLEVBQU8sVUFFaEIsU0FBUyxFQUFpQyxDQUFDLEVBQVEsQ0FPakQsT0FOQSxHQUFrQixDQUFNLElBQ3JCLFFBQVEsTUFDUCw2SEFDQSxHQUFTLENBQU0sQ0FDakIsRUFDQSxHQUFtQixDQUFNLFdBQ0MsSUFBcEIsU0FBNkIsRUFBUyxHQUFLLEdBQ2hELFFBQVEsR0FBMEI7QUFBQSxDQUFJLEVBQ3RDLFFBQVEsR0FBc0MsRUFBRSxFQUVyRCxTQUFTLEVBQXFCLENBQUMsRUFBWSxFQUFZLENBRXJELE9BREEsRUFBYSxHQUFrQyxDQUFVLEVBQ2xELEdBQWtDLENBQVUsSUFBTSxFQUNyRCxHQUNBLEdBRU4sU0FBUyxFQUFNLEVBQUcsRUFDbEIsU0FBUyxFQUFPLENBQUMsRUFBWSxFQUFLLEVBQUssRUFBTyxFQUFPLEVBQVcsQ0FDOUQsT0FBUSxPQUNELFdBQ0gsVUFBd0IsSUFBcEIsU0FDRixHQUFvQixFQUFPLENBQUcsRUFDakIsSUFBWCxRQUNrQixJQUFmLFlBQTZCLElBQVAsSUFDdkIsR0FBZSxFQUFZLENBQUssaUJBQ1QsSUFBcEIsaUJBQWlELElBQXBCLFNBQ3BDLEdBQW9CLEdBQUssRUFBTyxDQUFHLEVBQ3RCLElBQVgsUUFBa0IsR0FBZSxFQUFZLEdBQUssQ0FBSyxFQUMzRCxVQUNHLFlBQ0gsRUFBMEIsRUFBWSxRQUFTLENBQUssRUFDcEQsVUFDRyxXQUNILEVBQTBCLEVBQVksV0FBWSxDQUFLLEVBQ3ZELFVBQ0csVUFDQSxXQUNBLGNBQ0EsWUFDQSxTQUNILEVBQTBCLEVBQVksRUFBSyxDQUFLLEVBQ2hELFVBQ0csUUFDSCxHQUFrQixFQUFZLEVBQU8sQ0FBUyxFQUM5QyxVQUNHLE9BQ0gsR0FBaUIsSUFBYixTQUFrQixDQUNwQixFQUEwQixFQUFZLE9BQVEsQ0FBSyxFQUNuRCxVQUVDLFVBQ0EsT0FDSCxHQUFXLElBQVAsS0FBeUIsSUFBUixLQUEwQixJQUFYLFFBQWlCLENBQ25ELEFBQVUsSUFBVixNQUNJLFFBQVEsTUFDTix5T0FDQSxFQUNBLENBQ0YsRUFDQSxRQUFRLE1BQ04sMkpBQ0EsRUFDQSxDQUNGLEVBQ0osRUFBVyxnQkFBZ0IsQ0FBRyxFQUM5QixNQUVGLEdBQ1UsR0FBUixhQUNzQixJQUF0QixtQkFDb0IsSUFBcEIsaUJBQ3FCLElBQXJCLFVBQ0EsQ0FDQSxFQUFXLGdCQUFnQixDQUFHLEVBQzlCLE1BRUYsR0FBNkIsRUFBTyxDQUFHLEVBQ3ZDLEVBQVEsR0FBWSxHQUFLLENBQUssRUFDOUIsRUFBVyxhQUFhLEVBQUssQ0FBSyxFQUNsQyxVQUNHLGFBQ0EsYUFvRUgsR0FuRVEsR0FBUixPQUNjLElBQVgsT0FDb0IsSUFBakIsYUFDRSxRQUFRLE1BQ04sOEZBQ0YsU0FDc0IsSUFBdEIsYUFDVSxFQUFNLFNBQWQsTUFBaUMsRUFBTSxRQUFkLE1BQ3pCLEtBQ0UsR0FBMEIsR0FDNUIsUUFBUSxNQUNOLHNKQUNGLEdBQ00sRUFBTSxRQUFkLE1BQ0UsS0FDRSxHQUEwQixHQUM1QixRQUFRLE1BQ04sc0lBQ0YsSUFDUSxJQUFaLFNBQWdDLElBQWIsU0FDSixJQUFiLFNBQ0UsUUFBUSxNQUNOLDhGQUNGLEVBQ1ksSUFBWixTQUNlLEVBQU0sT0FBbkIsVUFDWSxFQUFNLE9BQWxCLFNBQ0EsR0FDYSxJQUFiLFVBQ1EsRUFBTSxNQUFkLE1BQ2EsRUFBTSxPQUFuQixVQUNBLFVBQ3dCLElBQXRCLGFBQ1MsRUFBTSxNQUFkLE1BQ0MsS0FDRSxHQUF3QixHQUMxQixRQUFRLE1BQ04sdUtBQ0YsR0FDTyxFQUFNLGFBQWQsTUFDUyxFQUFNLFlBQWQsTUFDQSxLQUNFLEdBQTBCLEdBQzVCLFFBQVEsTUFDTixrS0FDRixHQUNNLEVBQU0sWUFBZCxNQUNFLEtBQ0UsR0FBMEIsR0FDNUIsUUFBUSxNQUNOLDhJQUNGLEtBQ0EsR0FBd0IsR0FDMUIsUUFBUSxNQUNOLDZFQUNGLElBQ0EsR0FBd0IsR0FDMUIsUUFBUSxNQUNOLGtGQUNGLEdBQ1MsSUFBYixTQUNFLFFBQVEsTUFDTiw4Q0FDRixFQUNBLFFBQVEsTUFDTiwrREFDRixVQUNnQixJQUF0QixXQUE2QixDQUMvQixFQUFXLGFBQ1QsRUFDQSxzUkFDRixFQUNBLFVBRUEsUUFBc0IsSUFBdEIsYUFDb0IsSUFBakIsY0FDZ0IsSUFBWixTQUNDLEdBQVEsRUFBWSxFQUFLLE9BQVEsRUFBTSxLQUFNLEVBQU8sSUFBSSxFQUMxRCxHQUNFLEVBQ0EsRUFDQSxjQUNBLEVBQU0sWUFDTixFQUNBLElBQ0YsRUFDQSxHQUNFLEVBQ0EsRUFDQSxhQUNBLEVBQU0sV0FDTixFQUNBLElBQ0YsRUFDQSxHQUNFLEVBQ0EsRUFDQSxhQUNBLEVBQU0sV0FDTixFQUNBLElBQ0YsSUFDQyxHQUNDLEVBQ0EsRUFDQSxVQUNBLEVBQU0sUUFDTixFQUNBLElBQ0YsRUFDQSxHQUFRLEVBQVksRUFBSyxTQUFVLEVBQU0sT0FBUSxFQUFPLElBQUksRUFDNUQsR0FDRSxFQUNBLEVBQ0EsU0FDQSxFQUFNLE9BQ04sRUFDQSxJQUNGLElBQ1IsR0FDVSxHQUFSLGFBQ29CLElBQXBCLGlCQUNxQixJQUFyQixVQUNBLENBQ0EsRUFBVyxnQkFBZ0IsQ0FBRyxFQUM5QixNQUVGLEdBQTZCLEVBQU8sQ0FBRyxFQUN2QyxFQUFRLEdBQVksR0FBSyxDQUFLLEVBQzlCLEVBQVcsYUFBYSxFQUFLLENBQUssRUFDbEMsVUFDRyxVQUNILEFBQVEsR0FBUixjQUN5QixJQUF0QixZQUNDLEdBQTRCLEVBQUssQ0FBSyxFQUN2QyxFQUFXLFFBQVUsSUFDeEIsVUFDRyxXQUNILEFBQVEsR0FBUixjQUN5QixJQUF0QixZQUNDLEdBQTRCLEVBQUssQ0FBSyxFQUN4QyxHQUEwQixTQUFVLENBQVUsR0FDaEQsVUFDRyxjQUNILEFBQVEsR0FBUixjQUN5QixJQUF0QixZQUNDLEdBQTRCLEVBQUssQ0FBSyxFQUN4QyxHQUEwQixZQUFhLENBQVUsR0FDbkQsVUFDRywwQkFDSCxHQUFZLEdBQVIsS0FBZSxDQUNqQixVQUF3QixJQUFwQixZQUErQixXQUFZLEdBQzdDLE1BQU0sTUFDSiwySkFDRixFQUVGLEdBREEsRUFBTSxFQUFNLE9BQ0EsR0FBUixLQUFhLENBQ2YsR0FBWSxFQUFNLFVBQWQsS0FDRixNQUFNLE1BQ0osb0VBQ0YsRUFDRixFQUFXLFVBQVksR0FHM0IsVUFDRyxXQUNILEVBQVcsU0FDVCxVQUErQixJQUF0QixtQkFBbUQsSUFBcEIsU0FDMUMsVUFDRyxRQUNILEVBQVcsTUFDVCxVQUErQixJQUF0QixtQkFBbUQsSUFBcEIsU0FDMUMsVUFDRyxxQ0FDQSwrQkFDQSxtQkFDQSxxQkFDQSxnQkFDQSxNQUNILFVBQ0csWUFDSCxVQUNHLFlBQ0gsR0FDVSxHQUFSLGFBQ3NCLElBQXRCLG1CQUNxQixJQUFyQixrQkFDb0IsSUFBcEIsU0FDQSxDQUNBLEVBQVcsZ0JBQWdCLFlBQVksRUFDdkMsTUFFRixHQUE2QixFQUFPLENBQUcsRUFDdkMsRUFBTSxHQUFZLEdBQUssQ0FBSyxFQUM1QixFQUFXLGVBQWUsR0FBZ0IsYUFBYyxDQUFHLEVBQzNELFVBQ0csc0JBQ0EsaUJBQ0EsZ0JBQ0EsWUFDQSxrQkFDQSxnQ0FDQSxnQkFDQSxnQkFDSCxBQUFRLEdBQVIsYUFDc0IsSUFBdEIsbUJBQ29CLElBQXBCLFVBQ0ssR0FBNkIsRUFBTyxDQUFHLEVBQ3hDLEVBQVcsYUFBYSxFQUFLLEdBQUssQ0FBSyxHQUN2QyxFQUFXLGdCQUFnQixDQUFHLEVBQ2xDLFVBQ0csUUFDSCxBQUFPLElBQVAsSUFDRSxHQUF3QyxLQUN0QyxHQUF3QyxHQUFPLEdBQ2pELFFBQVEsTUFDTixxUUFDQSxDQUNGLE9BQ0Msc0JBQ0EsWUFDQSxlQUNBLGVBQ0EsY0FDQSxZQUNBLGVBQ0EsOEJBQ0EsNEJBQ0EscUJBQ0EsYUFDQSxXQUNBLGVBQ0EsaUJBQ0EsV0FDQSxrQkFDQSxlQUNBLGVBQ0EsZUFDQSxhQUNBLGVBQ0EsWUFDSCxVQUErQixJQUF0QixtQkFBbUQsSUFBcEIsU0FDcEMsRUFBVyxhQUFhLEVBQUssRUFBRSxFQUMvQixFQUFXLGdCQUFnQixDQUFHLEVBQ2xDLFVBQ0csY0FDQSxXQUNILEFBQU8sSUFBUCxHQUNJLEVBQVcsYUFBYSxFQUFLLEVBQUUsRUFDeEIsSUFBUCxJQUNVLEdBQVIsYUFDc0IsSUFBdEIsbUJBQ29CLElBQXBCLFVBQ0MsR0FBNkIsRUFBTyxDQUFHLEVBQ3hDLEVBQVcsYUFBYSxFQUFLLENBQUssR0FDbEMsRUFBVyxnQkFBZ0IsQ0FBRyxFQUNwQyxVQUNHLFdBQ0EsV0FDQSxXQUNBLE9BQ0gsQUFBUSxHQUFSLGFBQ3NCLElBQXRCLG1CQUNvQixJQUFwQixXQUNDLE1BQU0sQ0FBSyxHQUNaLEdBQUssR0FDQSxHQUE2QixFQUFPLENBQUcsRUFDeEMsRUFBVyxhQUFhLEVBQUssQ0FBSyxHQUNsQyxFQUFXLGdCQUFnQixDQUFHLEVBQ2xDLFVBQ0csY0FDQSxRQUNILEFBQVEsR0FBUixhQUNzQixJQUF0QixtQkFDb0IsSUFBcEIsVUFDQSxNQUFNLENBQUssRUFDUCxFQUFXLGdCQUFnQixDQUFHLEdBQzdCLEdBQTZCLEVBQU8sQ0FBRyxFQUN4QyxFQUFXLGFBQWEsRUFBSyxDQUFLLEdBQ3RDLFVBQ0csVUFDSCxHQUEwQixlQUFnQixDQUFVLEVBQ3BELEdBQTBCLFNBQVUsQ0FBVSxFQUM5QyxHQUFxQixFQUFZLFVBQVcsQ0FBSyxFQUNqRCxVQUNHLGVBQ0gsRUFDRSxFQUNBLEdBQ0EsZ0JBQ0EsQ0FDRixFQUNBLFVBQ0csZUFDSCxFQUNFLEVBQ0EsR0FDQSxnQkFDQSxDQUNGLEVBQ0EsVUFDRyxZQUNILEVBQ0UsRUFDQSxHQUNBLGFBQ0EsQ0FDRixFQUNBLFVBQ0csWUFDSCxFQUNFLEVBQ0EsR0FDQSxhQUNBLENBQ0YsRUFDQSxVQUNHLGFBQ0gsRUFDRSxFQUNBLEdBQ0EsY0FDQSxDQUNGLEVBQ0EsVUFDRyxZQUNILEVBQ0UsRUFDQSxHQUNBLGFBQ0EsQ0FDRixFQUNBLFVBQ0csVUFDSCxFQUNFLEVBQ0EsR0FDQSxXQUNBLENBQ0YsRUFDQSxVQUNHLFVBQ0gsRUFDRSxFQUNBLEdBQ0EsV0FDQSxDQUNGLEVBQ0EsVUFDRyxXQUNILEVBQ0UsRUFDQSxHQUNBLFlBQ0EsQ0FDRixFQUNBLFVBQ0csS0FDSCxBQUFRLEdBQVIsTUFDRSxRQUFRLE1BQ04sNERBQ0YsRUFDRixHQUFxQixFQUFZLEtBQU0sQ0FBSyxFQUM1QyxVQUNHLGdCQUNBLGNBQ0gsVUFDRyxnQkFDSCxJQUNVLEdBQVIsYUFDb0IsSUFBcEIsV0FDRSxHQUE2QixHQUMvQixRQUFRLE1BQ04sMEZBQ0EsQ0FDRixXQUVGLEVBQUUsRUFBSSxFQUFJLFNBQ0QsRUFBSSxLQUFaLEtBQTBCLEVBQUksS0FBWixLQUNWLEVBQUksS0FBWixLQUEwQixFQUFJLEtBQVosS0FDYixFQUFNLEdBQWtCLENBQUcsRUFDN0IsR0FBcUIsRUFBWSxFQUFLLENBQUssR0FDM0MsR0FBNkIsZUFBZSxDQUFHLEdBQ3ZDLEdBQVIsYUFDc0IsSUFBdEIsWUFDQSxHQUE0QixFQUFLLENBQUssR0FHaEQsU0FBUyxFQUFzQixDQUM3QixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLE9BQVEsT0FDRCxRQUNILEdBQWtCLEVBQVksRUFBTyxDQUFTLEVBQzlDLFVBQ0csMEJBQ0gsR0FBWSxHQUFSLEtBQWUsQ0FDakIsVUFBd0IsSUFBcEIsWUFBK0IsV0FBWSxHQUM3QyxNQUFNLE1BQ0osMkpBQ0YsRUFFRixHQURBLEVBQU0sRUFBTSxPQUNBLEdBQVIsS0FBYSxDQUNmLEdBQVksRUFBTSxVQUFkLEtBQ0YsTUFBTSxNQUNKLG9FQUNGLEVBQ0YsRUFBVyxVQUFZLEdBRzNCLFVBQ0csV0FDSCxPQUFvQixJQUFwQixTQUNJLEdBQWUsRUFBWSxDQUFLLFVBQ1gsSUFBcEIsaUJBQWlELElBQXBCLFdBQzlCLEdBQWUsRUFBWSxHQUFLLENBQUssRUFDekMsVUFDRyxXQUNILEFBQVEsR0FBUixjQUN5QixJQUF0QixZQUNDLEdBQTRCLEVBQUssQ0FBSyxFQUN4QyxHQUEwQixTQUFVLENBQVUsR0FDaEQsVUFDRyxjQUNILEFBQVEsR0FBUixjQUN5QixJQUF0QixZQUNDLEdBQTRCLEVBQUssQ0FBSyxFQUN4QyxHQUEwQixZQUFhLENBQVUsR0FDbkQsVUFDRyxVQUNILEFBQVEsR0FBUixjQUN5QixJQUF0QixZQUNDLEdBQTRCLEVBQUssQ0FBSyxFQUN2QyxFQUFXLFFBQVUsSUFDeEIsVUFDRyxxQ0FDQSwrQkFDQSxnQkFDQSxNQUNILFVBQ0csZ0JBQ0EsY0FDSCxjQUVBLEdBQUksR0FBNkIsZUFBZSxDQUFHLEVBQ2pELEFBQVEsR0FBUixhQUN3QixJQUF0QixZQUNBLEdBQTRCLEVBQUssQ0FBSyxNQUV4QyxHQUFHLENBQ0QsR0FDVSxFQUFJLEtBQVosS0FDUSxFQUFJLEtBQVosTUFDRSxFQUFRLEVBQUksU0FBUyxTQUFTLEVBQy9CLEVBQU0sRUFBSSxNQUFNLEVBQUcsRUFBUSxFQUFJLE9BQVMsRUFBUyxNQUFDLEVBQ2xELEVBQVksRUFBVyxLQUFxQixLQUM1QyxFQUFvQixHQUFSLEtBQW9CLEVBQVUsR0FBTyxZQUM1QixJQUF0QixZQUNFLEVBQVcsb0JBQW9CLEVBQUssRUFBVyxDQUFLLFNBQ2hDLElBQXRCLFlBQ0EsQ0FDQSxPQUFzQixJQUF0QixZQUNXLElBQVQsT0FDQyxLQUFPLEVBQ0gsRUFBVyxHQUFPLEtBQ25CLEVBQVcsYUFBYSxDQUFHLEdBQzNCLEVBQVcsZ0JBQWdCLENBQUcsR0FDcEMsRUFBVyxpQkFBaUIsRUFBSyxFQUFPLENBQUssRUFDN0MsUUFFRixLQUFPLEVBQ0YsRUFBVyxHQUFPLEVBQ1osSUFBUCxHQUNFLEVBQVcsYUFBYSxFQUFLLEVBQUUsRUFDL0IsR0FBcUIsRUFBWSxFQUFLLENBQUssSUFJM0QsU0FBUyxFQUFvQixDQUFDLEVBQVksRUFBSyxFQUFPLENBRXBELE9BREEsR0FBZ0MsRUFBSyxDQUFLLEVBQ2xDLE9BQ0QsVUFDQSxXQUNBLFVBQ0EsV0FDQSxRQUNBLFFBQ0EsUUFDQSxLQUNILFVBQ0csTUFDSCxHQUEwQixRQUFTLENBQVUsRUFDN0MsR0FBMEIsT0FBUSxDQUFVLEVBQzVDLElBQUksRUFBUyxHQUNYLEVBQVksR0FDWixFQUNGLElBQUssS0FBVyxFQUNkLEdBQUksRUFBTSxlQUFlLENBQU8sRUFBRyxDQUNqQyxJQUFJLEVBQVksRUFBTSxHQUN0QixHQUFZLEdBQVIsS0FDRixPQUFRLE9BQ0QsTUFDSCxFQUFTLEdBQ1QsVUFDRyxTQUNILEVBQVksR0FDWixVQUNHLGVBQ0EsMEJBQ0gsTUFBTSxNQUNKLEVBQ0UsNEZBQ0osVUFFQSxHQUFRLEVBQVksRUFBSyxFQUFTLEVBQVcsRUFBTyxJQUFJLEdBR2xFLEdBQ0UsR0FBUSxFQUFZLEVBQUssU0FBVSxFQUFNLE9BQVEsRUFBTyxJQUFJLEVBQzlELEdBQVUsR0FBUSxFQUFZLEVBQUssTUFBTyxFQUFNLElBQUssRUFBTyxJQUFJLEVBQ2hFLFdBQ0csUUFDSCxHQUEwQixRQUFTLENBQUssRUFDeEMsR0FBMEIsVUFBVyxDQUFVLEVBQy9DLElBQUksRUFBZ0IsRUFBVSxFQUFZLEVBQVksS0FDcEQsRUFBVSxLQUNWLEVBQWlCLEtBQ25CLElBQUssS0FBVSxFQUNiLEdBQUksRUFBTSxlQUFlLENBQU0sRUFBRyxDQUNoQyxJQUFJLEVBQWEsRUFBTSxHQUN2QixHQUFZLEdBQVIsS0FDRixPQUFRLE9BQ0QsT0FDSCxFQUFZLEVBQ1osVUFDRyxPQUNILEVBQVksRUFDWixVQUNHLFVBQ0gsRUFBVSxFQUNWLFVBQ0csaUJBQ0gsRUFBaUIsRUFDakIsVUFDRyxRQUNILEVBQVUsRUFDVixVQUNHLGVBQ0gsRUFBZSxFQUNmLFVBQ0csZUFDQSwwQkFDSCxHQUFZLEdBQVIsS0FDRixNQUFNLE1BQ0osRUFDRSw0RkFDSixFQUNGLGNBRUEsR0FBUSxFQUFZLEVBQUssRUFBUSxFQUFZLEVBQU8sSUFBSSxHQUdsRSxHQUFtQixFQUFZLENBQUssRUFDcEMsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0YsRUFDQSxHQUFNLENBQVUsRUFDaEIsV0FDRyxTQUNILEdBQTBCLFNBQVUsQ0FBSyxFQUN6QyxHQUEwQixVQUFXLENBQVUsRUFDL0MsRUFBUyxFQUFZLEVBQVUsS0FDL0IsSUFBSyxLQUFhLEVBQ2hCLEdBQ0UsRUFBTSxlQUFlLENBQVMsSUFDNUIsRUFBZSxFQUFNLEdBQXFCLEdBQVIsTUFFcEMsT0FBUSxPQUNELFFBQ0gsRUFBVSxFQUNWLFVBQ0csZUFDSCxFQUFZLEVBQ1osVUFDRyxXQUNILEVBQVMsVUFFVCxHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxJQUNGLEVBRVIsR0FBb0IsRUFBWSxDQUFLLEVBQ3JDLEVBQU0sRUFDTixFQUFRLEVBQ1IsRUFBVyxXQUFhLEVBQ2hCLEdBQVIsS0FDSSxHQUFjLElBQWMsRUFBUSxFQUFLLEVBQUUsRUFDbkMsR0FBUixNQUFpQixHQUFjLElBQWMsRUFBUSxFQUFPLEVBQUUsRUFDbEUsV0FDRyxXQUNILEdBQTBCLFdBQVksQ0FBSyxFQUMzQyxHQUEwQixVQUFXLENBQVUsRUFDL0MsRUFBVSxFQUFZLEVBQVMsS0FDL0IsSUFBSyxLQUFhLEVBQ2hCLEdBQ0UsRUFBTSxlQUFlLENBQVMsSUFDNUIsRUFBZSxFQUFNLEdBQXFCLEdBQVIsTUFFcEMsT0FBUSxPQUNELFFBQ0gsRUFBUyxFQUNULFVBQ0csZUFDSCxFQUFZLEVBQ1osVUFDRyxXQUNILEVBQVUsRUFDVixVQUNHLDBCQUNILEdBQVksR0FBUixLQUNGLE1BQU0sTUFDSiw4REFDRixFQUNGLGNBRUEsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsSUFDRixFQUVSLEdBQXNCLEVBQVksQ0FBSyxFQUN2QyxHQUFhLEVBQVksRUFBUSxFQUFXLENBQU8sRUFDbkQsR0FBTSxDQUFVLEVBQ2hCLFdBQ0csU0FDSCxHQUFvQixFQUFZLENBQUssRUFDckMsSUFBSyxLQUFXLEVBQ2QsR0FDRSxFQUFNLGVBQWUsQ0FBTyxJQUMxQixFQUFTLEVBQU0sR0FBbUIsR0FBUixNQUU1QixPQUFRLE9BQ0QsV0FDSCxFQUFXLFNBQ1QsVUFDc0IsSUFBdEIsbUJBQ29CLElBQXBCLFNBQ0YsY0FFQSxHQUFRLEVBQVksRUFBSyxFQUFTLEVBQVEsRUFBTyxJQUFJLEVBRTdELFdBQ0csU0FDSCxHQUEwQixTQUFVLENBQVUsRUFDOUMsR0FBMEIsUUFBUyxDQUFVLEVBQzdDLFVBQ0csYUFDQSxTQUNILEdBQTBCLE9BQVEsQ0FBVSxFQUM1QyxVQUNHLFlBQ0EsUUFDSCxJQUFLLEVBQVMsRUFBRyxFQUFTLEdBQWdCLE9BQVEsSUFDaEQsR0FBMEIsR0FBZ0IsR0FBUyxDQUFVLEVBQy9ELFVBQ0csUUFDSCxHQUEwQixRQUFTLENBQVUsRUFDN0MsR0FBMEIsT0FBUSxDQUFVLEVBQzVDLFVBQ0csVUFDSCxHQUEwQixTQUFVLENBQVUsRUFDOUMsVUFDRyxZQUNBLGFBQ0EsT0FDSCxHQUEwQixRQUFTLENBQVUsRUFDM0MsR0FBMEIsT0FBUSxDQUFVLE1BQzNDLFdBQ0EsV0FDQSxTQUNBLFVBQ0EsU0FDQSxhQUNBLFdBQ0EsWUFDQSxZQUNBLFVBQ0EsV0FDSCxJQUFLLEtBQWtCLEVBQ3JCLEdBQ0UsRUFBTSxlQUFlLENBQWMsSUFDakMsRUFBUyxFQUFNLEdBQTBCLEdBQVIsTUFFbkMsT0FBUSxPQUNELGVBQ0EsMEJBQ0gsTUFBTSxNQUNKLEVBQ0UsNEZBQ0osVUFFQSxHQUFRLEVBQVksRUFBSyxFQUFnQixFQUFRLEVBQU8sSUFBSSxFQUVwRSxlQUVBLEdBQUksR0FBZ0IsQ0FBRyxFQUFHLENBQ3hCLElBQUssS0FBYyxFQUNqQixFQUFNLGVBQWUsQ0FBVSxJQUMzQixFQUFTLEVBQU0sR0FDTixJQUFOLFFBQ0gsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0ssTUFDUCxHQUNOLFFBR04sSUFBSyxLQUFnQixFQUNuQixFQUFNLGVBQWUsQ0FBWSxJQUM3QixFQUFTLEVBQU0sR0FDVCxHQUFSLE1BQ0UsR0FBUSxFQUFZLEVBQUssRUFBYyxFQUFRLEVBQU8sSUFBSSxHQUVsRSxTQUFTLEVBQWdCLENBQUMsRUFBWSxFQUFLLEVBQVcsRUFBVyxDQUUvRCxPQURBLEdBQWdDLEVBQUssQ0FBUyxFQUN0QyxPQUNELFVBQ0EsV0FDQSxVQUNBLFdBQ0EsUUFDQSxRQUNBLFFBQ0EsS0FDSCxVQUNHLFFBQ0gsSUFBSSxFQUFPLEtBQ1QsRUFBTyxLQUNQLEVBQVEsS0FDUixFQUFlLEtBQ2YsRUFBbUIsS0FDbkIsRUFBVSxLQUNWLEVBQWlCLEtBQ25CLElBQUssS0FBVyxFQUFXLENBQ3pCLElBQUksRUFBVyxFQUFVLEdBQ3pCLEdBQUksRUFBVSxlQUFlLENBQU8sR0FBYSxHQUFSLEtBQ3ZDLE9BQVEsT0FDRCxVQUNILFVBQ0csUUFDSCxVQUNHLGVBQ0gsRUFBbUIsVUFFbkIsRUFBVSxlQUFlLENBQU8sR0FDOUIsR0FDRSxFQUNBLEVBQ0EsRUFDQSxLQUNBLEVBQ0EsQ0FDRixHQUdWLFFBQVMsS0FBYSxFQUFXLENBQy9CLElBQUksRUFBVSxFQUFVLEdBRXhCLEdBREEsRUFBVyxFQUFVLEdBRW5CLEVBQVUsZUFBZSxDQUFTLElBQ3pCLEdBQVIsTUFBMkIsR0FBUixNQUVwQixPQUFRLE9BQ0QsT0FDSCxFQUFPLEVBQ1AsVUFDRyxPQUNILEVBQU8sRUFDUCxVQUNHLFVBQ0gsRUFBVSxFQUNWLFVBQ0csaUJBQ0gsRUFBaUIsRUFDakIsVUFDRyxRQUNILEVBQVEsRUFDUixVQUNHLGVBQ0gsRUFBZSxFQUNmLFVBQ0csZUFDQSwwQkFDSCxHQUFZLEdBQVIsS0FDRixNQUFNLE1BQ0osRUFDRSw0RkFDSixFQUNGLGNBRUEsSUFBWSxHQUNWLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsR0FHVixFQUNpQixFQUFVLE9BQXpCLFlBQTZDLEVBQVUsT0FBdEIsUUFDckIsRUFBVSxTQUFsQixLQUNRLEVBQVUsT0FBbEIsS0FDTixFQUNpQixFQUFVLE9BQXpCLFlBQTZDLEVBQVUsT0FBdEIsUUFDckIsRUFBVSxTQUFsQixLQUNRLEVBQVUsT0FBbEIsS0FDTixJQUNHLEdBQ0QsS0FDQyxRQUFRLE1BQ1Asb1VBQ0YsRUFDQyxHQUFrQyxLQUNwQyxHQUNDLEdBQ0EsS0FDQyxRQUFRLE1BQ1AsNlRBQ0YsRUFDQyxHQUFrQyxJQUNyQyxHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLFdBQ0csU0FDSCxFQUFVLEVBQVEsRUFBZSxFQUFZLEtBQzdDLElBQUssS0FBUSxFQUNYLEdBQ0ksRUFBbUIsRUFBVSxHQUMvQixFQUFVLGVBQWUsQ0FBSSxHQUFhLEdBQVIsS0FFbEMsT0FBUSxPQUNELFFBQ0gsVUFDRyxXQUNILEVBQVUsVUFFVixFQUFVLGVBQWUsQ0FBSSxHQUMzQixHQUNFLEVBQ0EsRUFDQSxFQUNBLEtBQ0EsRUFDQSxDQUNGLEVBRVYsSUFBSyxLQUFRLEVBQ1gsR0FDSSxFQUFPLEVBQVUsR0FDbEIsRUFBbUIsRUFBVSxHQUM5QixFQUFVLGVBQWUsQ0FBSSxJQUNsQixHQUFSLE1BQXdCLEdBQVIsTUFFbkIsT0FBUSxPQUNELFFBQ0gsRUFBWSxFQUNaLFVBQ0csZUFDSCxFQUFlLEVBQ2YsVUFDRyxXQUNILEVBQVEsVUFFUixJQUFTLEdBQ1AsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUVWLEVBQVksRUFDWixFQUFNLEVBQ04sRUFBWSxFQUNKLEdBQVIsS0FDSSxHQUFjLElBQWMsRUFBSyxFQUFXLEVBQUUsSUFDNUMsTUFBZ0IsSUFDVCxHQUFSLEtBQ0csR0FBYyxJQUFjLEVBQUssRUFBVyxFQUFFLEVBQzlDLEdBQWMsSUFBYyxFQUFLLEVBQU0sQ0FBQyxFQUFJLEdBQUksRUFBRSxHQUMxRCxXQUNHLFdBQ0gsRUFBVSxFQUFZLEtBQ3RCLElBQUssS0FBZ0IsRUFDbkIsR0FDSSxFQUFPLEVBQVUsR0FDbkIsRUFBVSxlQUFlLENBQVksR0FDM0IsR0FBUixPQUNDLEVBQVUsZUFBZSxDQUFZLEVBRXhDLE9BQVEsT0FDRCxRQUNILFVBQ0csV0FDSCxjQUVBLEdBQVEsRUFBWSxFQUFLLEVBQWMsS0FBTSxFQUFXLENBQUksRUFFcEUsSUFBSyxLQUFTLEVBQ1osR0FDSSxFQUFPLEVBQVUsR0FDbEIsRUFBTyxFQUFVLEdBQ2xCLEVBQVUsZUFBZSxDQUFLLElBQWMsR0FBUixNQUF3QixHQUFSLE1BRXBELE9BQVEsT0FDRCxRQUNILEVBQVksRUFDWixVQUNHLGVBQ0gsRUFBVSxFQUNWLFVBQ0csV0FDSCxVQUNHLDBCQUNILEdBQVksR0FBUixLQUNGLE1BQU0sTUFDSiw4REFDRixFQUNGLGNBRUEsSUFBUyxHQUNQLEdBQVEsRUFBWSxFQUFLLEVBQU8sRUFBTSxFQUFXLENBQUksRUFFL0QsR0FBZSxFQUFZLEVBQVcsQ0FBTyxFQUM3QyxXQUNHLFNBQ0gsUUFBUyxNQUFjLEVBQ3JCLEdBQ0ksRUFBWSxFQUFVLElBQ3hCLEVBQVUsZUFBZSxFQUFVLEdBQ3pCLEdBQVIsT0FDQyxFQUFVLGVBQWUsRUFBVSxFQUV0QyxPQUFRLFFBQ0QsV0FDSCxFQUFXLFNBQVcsR0FDdEIsY0FFQSxHQUNFLEVBQ0EsRUFDQSxHQUNBLEtBQ0EsRUFDQSxDQUNGLEVBRVIsSUFBSyxLQUFvQixFQUN2QixHQUNJLEVBQVksRUFBVSxHQUN2QixFQUFVLEVBQVUsR0FDckIsRUFBVSxlQUFlLENBQWdCLEdBQ3ZDLElBQWMsSUFDTCxHQUFSLE1BQTZCLEdBQVIsTUFFeEIsT0FBUSxPQUNELFdBQ0gsRUFBVyxTQUNULFVBQ3NCLElBQXRCLG1CQUNvQixJQUFwQixTQUNGLGNBRUEsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUVSLFdBQ0csVUFDQSxXQUNBLFdBQ0EsV0FDQSxTQUNBLFVBQ0EsWUFDQSxTQUNBLGFBQ0EsV0FDQSxZQUNBLGFBQ0EsWUFDQSxVQUNBLFdBQ0gsUUFBUyxNQUFjLEVBQ3JCLEFBQUMsRUFBWSxFQUFVLElBQ3JCLEVBQVUsZUFBZSxFQUFVLEdBQ3pCLEdBQVIsT0FDQyxFQUFVLGVBQWUsRUFBVSxHQUNwQyxHQUNFLEVBQ0EsRUFDQSxHQUNBLEtBQ0EsRUFDQSxDQUNGLEVBQ04sSUFBSyxLQUFXLEVBQ2QsR0FDSSxFQUFZLEVBQVUsR0FDdkIsRUFBVSxFQUFVLEdBQ3JCLEVBQVUsZUFBZSxDQUFPLEdBQzlCLElBQWMsSUFDTCxHQUFSLE1BQTZCLEdBQVIsTUFFeEIsT0FBUSxPQUNELGVBQ0EsMEJBQ0gsR0FBWSxHQUFSLEtBQ0YsTUFBTSxNQUNKLEVBQ0UsNEZBQ0osRUFDRixjQUVBLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFUixlQUVBLEdBQUksR0FBZ0IsQ0FBRyxFQUFHLENBQ3hCLFFBQVMsTUFBYyxFQUNyQixBQUFDLEVBQVksRUFBVSxJQUNyQixFQUFVLGVBQWUsRUFBVSxHQUN0QixJQUFOLFNBQ0osRUFBVSxlQUFlLEVBQVUsR0FDcEMsR0FDRSxFQUNBLEVBQ0EsR0FDSyxPQUNMLEVBQ0EsQ0FDRixFQUNOLElBQUssS0FBa0IsRUFDckIsQUFBQyxFQUFZLEVBQVUsR0FDcEIsRUFBVSxFQUFVLElBQ3BCLEVBQVUsZUFBZSxDQUFjLEdBQ3RDLElBQWMsR0FDRixJQUFOLFFBQThCLElBQU4sUUFDOUIsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNOLFFBR04sUUFBUyxNQUFjLEVBQ3JCLEFBQUMsRUFBWSxFQUFVLElBQ3JCLEVBQVUsZUFBZSxFQUFVLEdBQ3pCLEdBQVIsT0FDQyxFQUFVLGVBQWUsRUFBVSxHQUNwQyxHQUFRLEVBQVksRUFBSyxHQUFZLEtBQU0sRUFBVyxDQUFTLEVBQ3JFLElBQUssS0FBWSxFQUNmLEFBQUMsRUFBWSxFQUFVLEdBQ3BCLEVBQVUsRUFBVSxJQUNwQixFQUFVLGVBQWUsQ0FBUSxHQUNoQyxJQUFjLEdBQ0wsR0FBUixNQUE2QixHQUFSLE1BQ3RCLEdBQVEsRUFBWSxFQUFLLEVBQVUsRUFBVyxFQUFXLENBQU8sRUFFeEUsU0FBUyxFQUE0QixDQUFDLEVBQVUsQ0FDOUMsT0FBUSxPQUNELFFBQ0gsTUFBTyxnQkFDSixNQUNILE1BQU8sa0JBRVAsT0FBTyxHQUdiLFNBQVMsRUFBMEIsQ0FBQyxFQUFZLENBQzlDLElBQUksRUFBMEIsQ0FBQyxFQUMvQixFQUFhLEVBQVcsTUFDeEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFXLE9BQVEsSUFBSyxDQUMxQyxJQUFJLEVBQVksRUFBVyxHQUMzQixFQUF3QixHQUN0QixFQUFXLGlCQUFpQixDQUFTLEVBRXpDLE9BQU8sRUFFVCxTQUFTLEVBQWtCLENBQUMsRUFBWSxFQUFnQixFQUFtQixDQUN6RSxHQUFZLEdBQVIsYUFBOEMsSUFBcEIsU0FDNUIsUUFBUSxNQUNOLHNKQUNGLFVBQ08sR0FBaUMsQ0FDeEMsSUFBSSxFQUNBLEVBQWEsRUFBYyxHQUM3QixFQUNGLElBQUssS0FBYSxFQUNoQixHQUFJLEVBQWUsZUFBZSxDQUFTLEVBQUcsQ0FDNUMsSUFBSSxFQUFRLEVBQWUsR0FDM0IsQUFBUSxHQUFSLGFBQ3VCLElBQXJCLFdBQ08sSUFBUCxLQUNPLEVBQVUsUUFBUSxJQUFJLElBQTVCLEdBQ0ksR0FBK0IsRUFBTyxDQUFTLEVBQy9DLEdBQ0MsRUFBWSxFQUFZLEtBQU8sR0FBSyxHQUFPLEtBQUssVUFDOUIsSUFBcEIsVUFDUSxJQUFOLEdBQ0EsR0FBZ0IsSUFBSSxDQUFTLEdBQzVCLEdBQStCLEVBQU8sQ0FBUyxFQUMvQyxHQUNDLEVBQ0EsRUFDRyxRQUFRLEdBQWtCLEtBQUssRUFDL0IsWUFBWSxFQUNaLFFBQVEsR0FBYSxNQUFNLEVBQzlCLEtBQ0MsR0FBSyxHQUFPLEtBQUssR0FDbkIsR0FDQyxFQUNBLEVBQ0csUUFBUSxHQUFrQixLQUFLLEVBQy9CLFlBQVksRUFDWixRQUFRLEdBQWEsTUFBTSxFQUM5QixJQUNBLEVBQ0EsS0FDUCxFQUFZLEtBRW5CLEVBQWMsR0FBZSxLQUM3QixFQUFpQixFQUFXLGFBQWEsT0FBTyxFQUNoRCxJQUFtQixJQUNmLEVBQWMsR0FBa0MsQ0FBVyxFQUM3RCxHQUFrQyxDQUFjLElBQU0sSUFDbkQsRUFBa0IsTUFBUSxHQUEyQixDQUFVLEtBR3hFLFNBQVMsRUFBZ0IsQ0FDdkIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FHQSxHQUZBLEVBQWdCLE9BQU8sQ0FBYSxFQUNwQyxFQUFhLEVBQVcsYUFBYSxDQUFhLEVBQ3JDLElBQVQsS0FDRixjQUFlLE9BQ1IsZ0JBQ0EsZUFDQSxhQUNBLFVBQ0gsZUFFVyxHQUFSLEtBQ1AsY0FBZSxPQUNSLGVBQ0EsYUFDQSxVQUNILGNBRUEsR0FDRyxHQUE2QixFQUFPLENBQU8sRUFDNUMsSUFBZSxHQUFLLEVBRXBCLE9BRVIsR0FBc0IsRUFBUyxFQUFZLEVBQU8sQ0FBaUIsRUFFckUsU0FBUyxFQUF1QixDQUM5QixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUdBLEdBRkEsRUFBZ0IsT0FBTyxDQUFhLEVBQ3BDLEVBQWEsRUFBVyxhQUFhLENBQWEsRUFDckMsSUFBVCxLQUFxQixDQUN2QixjQUFlLE9BQ1IsZUFDQSxTQUNILE9BRUosSUFBSyxFQUFPLFdBRVosZUFBZSxPQUNSLGVBQ0EsU0FDSCxjQUVBLEdBQUksRUFBTyxPQUVqQixHQUFzQixFQUFTLEVBQVksRUFBTyxDQUFpQixFQUVyRSxTQUFTLEVBQTBCLENBQ2pDLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBR0EsR0FGQSxFQUFnQixPQUFPLENBQWEsRUFDcEMsRUFBYSxFQUFXLGFBQWEsQ0FBYSxFQUNyQyxJQUFULEtBQ0YsY0FBZSxPQUNSLGdCQUNBLGVBQ0EsU0FDSCxlQUVXLEdBQVIsS0FDUCxjQUFlLE9BQ1IsZUFDQSxTQUNILGNBRUEsR0FDRyxHQUE2QixFQUFPLENBQWEsRUFDbEQsSUFBZSxHQUFLLEVBRXBCLE9BRVIsR0FBc0IsRUFBUyxFQUFZLEVBQU8sQ0FBaUIsRUFFckUsU0FBUyxFQUF1QixDQUM5QixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUdBLEdBRkEsRUFBZ0IsT0FBTyxDQUFhLEVBQ3BDLEVBQWEsRUFBVyxhQUFhLENBQWEsRUFDckMsSUFBVCxLQUNGLGNBQWUsT0FDUixnQkFDQSxlQUNBLGFBQ0EsVUFDSCxlQUVBLEdBQUksTUFBTSxDQUFLLEVBQUcsZUFFUCxHQUFSLEtBQ1AsY0FBZSxPQUNSLGVBQ0EsYUFDQSxVQUNILGNBRUEsSUFDRyxNQUFNLENBQUssSUFDWCxHQUE2QixFQUFPLENBQU8sRUFDNUMsSUFBZSxHQUFLLEdBRXBCLE9BRVIsR0FBc0IsRUFBUyxFQUFZLEVBQU8sQ0FBaUIsRUFFckUsU0FBUyxFQUF5QixDQUNoQyxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUdBLEdBRkEsRUFBZ0IsT0FBTyxDQUFhLEVBQ3BDLEVBQWEsRUFBVyxhQUFhLENBQWEsRUFDckMsSUFBVCxLQUNGLGNBQWUsT0FDUixnQkFDQSxlQUNBLGFBQ0EsVUFDSCxlQUVXLEdBQVIsS0FDUCxjQUFlLE9BQ1IsZUFDQSxhQUNBLFVBQ0gsY0FFQSxHQUNHLEdBQTZCLEVBQU8sQ0FBTyxFQUMzQyxFQUFnQixHQUFZLEdBQUssQ0FBSyxFQUN2QyxJQUFlLEVBRWYsT0FFUixHQUFzQixFQUFTLEVBQVksRUFBTyxDQUFpQixFQUVyRSxTQUFTLEVBQXNCLENBQUMsRUFBWSxFQUFLLEVBQU8sRUFBYSxDQUNuRSxRQUNNLEVBQW9CLENBQUMsRUFDdkIsRUFBa0IsSUFBSSxJQUN0QixFQUFhLEVBQVcsV0FDeEIsRUFBSSxFQUNOLEVBQUksRUFBVyxPQUNmLElBRUEsT0FBUSxFQUFXLEdBQUcsS0FBSyxZQUFZLE9BQ2hDLFFBQ0gsVUFDRyxVQUNILFVBQ0csV0FDSCxjQUVBLEVBQWdCLElBQUksRUFBVyxHQUFHLElBQUksRUFFNUMsR0FBSSxHQUFnQixDQUFHLEdBQ3JCLFFBQVMsS0FBVyxFQUNsQixHQUFJLEVBQU0sZUFBZSxDQUFPLEVBQUcsQ0FDakMsSUFBSSxFQUFRLEVBQU0sR0FDbEIsR0FBWSxHQUFSLE1BQ0YsR0FBSSxHQUE2QixlQUFlLENBQU8sRUFDckQsT0FBc0IsSUFBdEIsWUFDRSxHQUE0QixFQUFTLENBQUssVUFDOUIsRUFBTSwyQkFBYixHQUNQLE9BQVEsT0FDRCxXQUNILE9BQXFCLElBQXBCLGlCQUFpRCxJQUFwQixVQUM1QixHQUNFLFdBQ0EsRUFBVyxZQUNYLEVBQ0EsQ0FDRixFQUNGLGFBQ0cscUNBQ0EsK0JBQ0EsbUJBQ0EscUJBQ0EsZ0JBQ0EsTUFDSCxhQUNHLDBCQUNILEVBQWEsRUFBVyxVQUN4QixFQUFRLEVBQVEsRUFBTSxPQUFjLE9BQzVCLEdBQVIsT0FDSSxFQUFRLEdBQWMsRUFBWSxDQUFLLEVBQ3pDLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixHQUNGLGFBQ0csUUFDSCxFQUFnQixPQUFPLENBQU8sRUFDOUIsR0FBbUIsRUFBWSxFQUFPLENBQWlCLEVBQ3ZELGFBQ0csbUJBQ0EsZ0JBQ0EsaUJBQ0Esa0JBQ0EsbUJBQ0Esd0JBQ0EsZ0JBQ0EsWUFDSCxFQUFnQixPQUFPLEVBQVEsWUFBWSxDQUFDLEVBQzVDLFFBQVEsTUFDTixnRUFDQSxDQUNGLEVBQ0EsYUFDRyxZQUNILEVBQWdCLE9BQU8sT0FBTyxFQUM5QixFQUFhLEdBQ1gsRUFDQSxRQUNBLENBQ0YsRUFDQSxHQUNFLFlBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxpQkFFQSxFQUFZLFVBQVksSUFDZCxJQUFWLE9BQ1csSUFBWCxPQUNJLEVBQWdCLE9BQU8sRUFBUSxZQUFZLENBQUMsRUFDNUMsRUFBZ0IsT0FBTyxDQUFPLEVBQy9CLEVBQWEsR0FDWixFQUNBLEVBQ0EsQ0FDRixFQUNBLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixTQUtkLEtBQUssS0FBUyxFQUNaLEdBQ0UsRUFBTSxlQUFlLENBQUssSUFDeEIsRUFBVSxFQUFNLEdBQWlCLEdBQVIsT0FFM0IsR0FBSSxHQUE2QixlQUFlLENBQUssRUFDbkQsT0FBc0IsSUFBdEIsWUFDRSxHQUE0QixFQUFPLENBQU8sVUFDOUIsRUFBTSwyQkFBYixHQUNQLE9BQVEsT0FDRCxXQUNILE9BQXFCLElBQXBCLGlCQUNxQixJQUFwQixVQUNBLEdBQ0UsV0FDQSxFQUFXLFlBQ1gsRUFDQSxDQUNGLEVBQ0YsYUFDRyxxQ0FDQSwrQkFDQSxZQUNBLGNBQ0EsZUFDQSxtQkFDQSxxQkFDQSxnQkFDQSxNQUNILGFBQ0csMEJBQ0gsRUFBYSxFQUFXLFVBQ3hCLEVBQVUsRUFBVSxFQUFRLE9BQWMsT0FDbEMsR0FBUixPQUNJLEVBQVUsR0FBYyxFQUFZLENBQU8sRUFDN0MsSUFBZSxJQUNaLEVBQWtCLEdBQVMsQ0FBRSxPQUFRLENBQVcsSUFDckQsYUFDRyxZQUNILEdBQ0UsRUFDQSxFQUNBLFFBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxhQUNHLFdBQ0gsR0FDRSxFQUNBLEVBQ0EsV0FDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBQ0csUUFDSCxFQUFnQixPQUFPLENBQUssRUFDNUIsR0FBbUIsRUFBWSxFQUFTLENBQWlCLEVBQ3pELGFBQ0csV0FDSCxFQUFnQixPQUFPLENBQUssRUFDNUIsR0FDRSxFQUNBLEVBQVcsU0FDWCxFQUNBLENBQ0YsRUFDQSxhQUNHLFFBQ0gsRUFBZ0IsT0FBTyxDQUFLLEVBQzVCLEdBQ0UsRUFDQSxFQUFXLE1BQ1gsRUFDQSxDQUNGLEVBQ0EsYUFDRyxZQUNILEVBQWdCLE9BQU8sV0FBVyxFQUNsQyxHQUNFLEVBQ0EsRUFBVyxVQUNYLEVBQ0EsQ0FDRixFQUNBLGFBQ0csT0FDSCxHQUFpQixJQUFiLFNBQWtCLENBQ3BCLEVBQWdCLE9BQU8sQ0FBSyxFQUM1QixFQUFhLEVBQVcsYUFBYSxNQUFNLEVBQzNDLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBRUMsVUFDQSxPQUNILEtBRVcsSUFBUCxJQUNTLElBQVIsS0FBMEIsSUFBWCxRQUNGLElBQWIsVUFBK0IsSUFBWCxRQUV2QixDQUNBLEFBQVUsSUFBVixNQUNJLFFBQVEsTUFDTix5T0FDQSxFQUNBLENBQ0YsRUFDQSxRQUFRLE1BQ04sMkpBQ0EsRUFDQSxDQUNGLEVBQ0osR0FDRSxFQUNBLEVBQ0EsRUFDQSxLQUNBLEVBQ0EsQ0FDRixFQUNBLFNBRUYsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBQ0csYUFDQSxhQUVILEdBREEsRUFBYSxFQUFXLGFBQWEsQ0FBSyxTQUNoQixJQUF0QixXQUErQixDQUNqQyxFQUFnQixPQUFPLEVBQU0sWUFBWSxDQUFDLEVBQ3pCLElBQWpCLGNBQ0ssRUFBZ0IsT0FBTyxNQUFNLEVBQzlCLEVBQWdCLE9BQU8sYUFBYSxFQUNwQyxFQUFnQixPQUFPLFlBQVksRUFDbkMsRUFBZ0IsT0FBTyxZQUFZLElBQ2xDLEVBQWdCLE9BQU8sU0FBUyxFQUNqQyxFQUFnQixPQUFPLFFBQVEsRUFDL0IsRUFBZ0IsT0FBTyxRQUFRLEdBQ25DLGlCQUNTLElBQWUsR0FBMEIsQ0FDbEQsRUFBZ0IsT0FBTyxFQUFNLFlBQVksQ0FBQyxFQUMxQyxHQUNFLEVBQ0EsV0FDQSxFQUNBLENBQ0YsRUFDQSxTQUVGLEdBQ0UsRUFDQSxFQUNBLEVBQU0sWUFBWSxFQUNsQixFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBQ0csWUFDSCxHQUNFLEVBQ0EsRUFDQSxhQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsYUFDRyxrQkFDSCxHQUNFLEVBQ0EsRUFDQSxrQkFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBQ0csYUFDSCxHQUNFLEVBQ0EsRUFDQSxhQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsYUFDRyxnQkFDQSxrQkFDQSxnQ0FDQSxnQkFDQSxnQkFDSCxHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsYUFDRyxzQkFDQSxZQUNBLGVBQ0EsZUFDQSxjQUNBLFlBQ0EsZUFDQSw4QkFDQSw0QkFDQSxxQkFDQSxhQUNBLFdBQ0EsZUFDQSxpQkFDQSxXQUNBLGtCQUNBLGVBQ0EsZUFDQSxlQUNBLGFBQ0EsZUFDQSxZQUNILEdBQ0UsRUFDQSxFQUNBLEVBQU0sWUFBWSxFQUNsQixFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBQ0csY0FDQSxXQUNILEVBQUcsQ0FDRCxFQUFJLEVBQ0osSUFBSSxFQUFpQixFQUFhLEVBQ2hDLEVBQTZCLEVBRy9CLEdBRkEsRUFBZ0IsT0FBTyxDQUFhLEVBQ3BDLEVBQUksRUFBRSxhQUFhLENBQWEsRUFDbkIsSUFBVCxLQUNGLGNBQWUsT0FDUixnQkFDQSxlQUNBLFNBQ0gsZ0JBRUEsR0FBVyxJQUFQLEdBQWdCLGdCQUVULEdBQVIsS0FDUCxjQUFlLE9BQ1IsZUFDQSxTQUNILFVBQ0csVUFDSCxHQUFXLElBQVAsSUFBeUIsSUFBUCxHQUFVLFFBQ2hDLGNBRUEsR0FDRyxHQUE2QixFQUFTLENBQVUsRUFDakQsSUFBTSxHQUFLLEVBRVgsUUFFUixHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFRixhQUNHLFdBQ0EsV0FDQSxXQUNBLE9BQ0gsRUFBRyxDQU1ELEdBTEEsRUFBSSxFQUNKLEVBQWdCLEVBQWEsRUFDN0IsRUFBNkIsRUFDN0IsRUFBZ0IsT0FBTyxDQUFhLEVBQ3BDLEVBQUksRUFBRSxhQUFhLENBQWEsRUFDbkIsSUFBVCxLQUNGLGNBQWUsT0FDUixnQkFDQSxlQUNBLGFBQ0EsVUFDSCxnQkFFQSxHQUFJLE1BQU0sQ0FBTyxHQUFLLEVBQUksRUFBUyxnQkFFeEIsR0FBUixLQUNQLGNBQWUsT0FDUixlQUNBLGFBQ0EsVUFDSCxjQUVBLEtBQ0ksTUFBTSxDQUFPLEdBQUssRUFBSSxLQUN2QixHQUE2QixFQUFTLENBQVUsRUFDakQsSUFBTSxHQUFLLEdBRVgsUUFFUixHQUNFLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFRixhQUNHLFVBQ0gsR0FDRSxFQUNBLEVBQ0EsVUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBQ0csUUFDSCxHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsYUFDRyxVQUNILEdBQ0UsRUFDQSxFQUNBLFdBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxhQUNHLGVBQ0gsR0FDRSxFQUNBLEVBQ0EsZ0JBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxhQUNHLGVBQ0gsR0FDRSxFQUNBLEVBQ0EsZ0JBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxhQUNHLFlBQ0gsR0FDRSxFQUNBLEVBQ0EsYUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBQ0csWUFDSCxHQUNFLEVBQ0EsRUFDQSxhQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsYUFDRyxhQUNILEdBQ0UsRUFDQSxFQUNBLGNBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxhQUNHLFlBQ0gsR0FDRSxFQUNBLEVBQ0EsYUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBQ0csVUFDSCxHQUNFLEVBQ0EsRUFDQSxXQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsYUFDRyxVQUNILEdBQ0UsRUFDQSxFQUNBLFdBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxhQUNHLFdBQ0gsR0FDRSxFQUNBLEVBQ0EsWUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGFBQ0csUUFDSCxBQUFPLElBQVAsSUFDRSxHQUF3QyxLQUN0QyxHQUF3QyxHQUFTLEdBQ25ELFFBQVEsTUFDTixxUUFDQSxDQUNGLEdBQ0YsR0FDRSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNBLGlCQUVBLEtBQ0ksRUFBSSxFQUFNLFNBQ0gsRUFBTSxLQUFkLEtBQTRCLEVBQU0sS0FBZCxLQUNaLEVBQU0sS0FBZCxLQUE0QixFQUFNLEtBQWQsSUFDckIsQ0FDQSxFQUFJLEdBQWtCLENBQUssRUFDM0IsRUFBYSxHQUNiLEVBQVksVUFBWSxJQUNkLElBQVYsT0FDVyxJQUFYLE9BQ0ksRUFBZ0IsT0FBTyxFQUFFLFlBQVksQ0FBQyxHQUNwQyxFQUFnQixFQUFNLFlBQVksRUFDbkMsRUFBZ0IsR0FBc0IsZUFDckMsQ0FDRixFQUNJLEdBQXNCLElBQWtCLEtBQ3hDLEtBQ0ssSUFBVCxNQUNFLElBQWtCLElBQ2hCLEVBQWEsR0FDZixFQUFnQixPQUFPLENBQWEsR0FDdEMsRUFBZ0IsT0FBTyxDQUFDLEdBQzVCLEVBQUcsR0FDQyxFQUFnQixFQUNqQixFQUE2QixFQUM3QixFQUFJLEVBQ0wsR0FBb0IsQ0FBMEIsRUFFOUMsR0FDRSxFQUFjLGFBQWEsQ0FBMEIsRUFFckQsQUFBQyxFQUFnQixFQUFjLGFBQzdCLENBQ0YsRUFDRSxHQUNFLEVBQ0EsQ0FDRixFQUNDLEVBQUksSUFBa0IsR0FBSyxFQUFJLEVBQUksTUFDbkMsQ0FDSCxjQUFlLE9BQ1IsZUFDQSxTQUNILFlBQ0csVUFDSCxHQUNJLEVBQWdCLEVBQ2YsWUFBWSxFQUNaLE1BQU0sRUFBRyxDQUFDLEVBQ0QsSUFBWixTQUNjLElBQVosUUFFRixRQUVOLEVBQWUsSUFBTixPQUFlLE9BQUksU0FFM0IsR0FBUyxPQUNkLEdBQ0UsR0FDRSxFQUNBLEVBQ0EsRUFDQSxDQUNGLElBTWhCLE1BSEEsR0FBSSxFQUFnQixNQUNYLEVBQU0sMkJBQWIsSUFDQSxHQUF1QixFQUFZLEVBQWlCLENBQWlCLEVBQzFELE9BQU8sS0FBSyxDQUFpQixFQUFFLFNBQXJDLEVBQ0gsS0FDQSxFQUVOLFNBQVMsRUFBaUIsQ0FBQyxFQUFNLEVBQVksQ0FDM0MsT0FBUSxFQUFLLFlBQ04sR0FDSCxNQUFPLE9BQ0osR0FDSCxPQUFPLEVBQUssT0FDVCxHQUNILE9BQU8sRUFBSyxHQUFLLElBQU0sRUFBYSxJQUFNLEVBQUssV0FFL0MsT0FDRSxFQUFLLE1BQU0sRUFBRyxFQUFFLEVBQUUsS0FBSyxJQUFJLEVBQzNCLEtBQ0EsRUFDQSxJQUNBLEVBQUssRUFBSyxPQUFTLElBSTNCLFNBQVMsRUFBaUMsQ0FBQyxFQUFzQixDQUMvRCxPQUFhLEVBQXFCLFdBQTNCLEVBQ0gsRUFDQSxFQUFxQixjQUUzQixTQUFTLEVBQWlCLENBQUMsRUFBYyxDQUN2QyxPQUFRLFFBQ0QsR0FDSCxPQUFPLFFBQ0osR0FDSCxPQUFPLFdBRVAsT0FBTyxJQUdiLFNBQVMsRUFBdUIsQ0FBQyxFQUFpQixFQUFNLENBQ3RELEdBQUksSUFBb0IsR0FDdEIsT0FBUSxPQUNELE1BQ0gsT0FBTyxPQUNKLE9BQ0gsT0FBTyxXQUVQLE9BQU8sR0FFYixPQUFPLElBQW9CLElBQ0wsSUFBcEIsZ0JBQ0UsR0FDQSxFQUVOLFNBQVMsRUFBb0IsQ0FBQyxFQUFNLEVBQU8sQ0FDekMsT0FDaUIsSUFBZixZQUNlLElBQWYsbUJBQ29CLEVBQU0sV0FBMUIsaUJBQ29CLEVBQU0sV0FBMUIsaUJBQ29CLEVBQU0sV0FBMUIsaUJBQ3FCLEVBQU0sMEJBQTFCLFVBQ1UsRUFBTSwwQkFBZixNQUNRLEVBQU0sd0JBQXdCLFFBQXRDLEtBR04sU0FBUyxFQUE0QixFQUFHLENBQ3RDLElBQUksRUFBUSxPQUFPLE1BQ25CLEdBQUksR0FBd0IsRUFBTSxPQUFyQixXQUEyQixDQUN0QyxHQUFJLElBQVUsR0FBZ0MsTUFBTyxHQUVyRCxPQURBLEdBQWlDLEVBQzFCLEdBR1QsT0FEQSxHQUFpQyxLQUMxQixHQUVULFNBQVMsRUFBcUIsQ0FBQyxFQUFPLENBQ3BDLG1CQUFvQixFQUFHLENBQ3JCLE1BQU0sRUFDUCxFQUVILFNBQVMsRUFBVyxDQUFDLEVBQVksRUFBTSxFQUFVLENBQy9DLE9BQVEsT0FDRCxhQUNBLFlBQ0EsYUFDQSxXQUNILEVBQVMsV0FBYSxFQUFXLE1BQU0sRUFDdkMsVUFDRyxNQUNILEVBQVMsSUFDSixFQUFXLElBQU0sRUFBUyxJQUMzQixFQUFTLFNBQVcsRUFBVyxPQUFTLEVBQVMsU0FHM0QsU0FBUyxFQUFZLENBQUMsRUFBWSxFQUFNLEVBQVUsRUFBVSxDQUMxRCxHQUFpQixFQUFZLEVBQU0sRUFBVSxDQUFRLEVBQ3JELEVBQVcsSUFBb0IsRUFFakMsU0FBUyxFQUFnQixDQUFDLEVBQVksQ0FDcEMsR0FBZSxFQUFZLEVBQUUsRUFFL0IsU0FBUyxFQUFnQixDQUFDLEVBQWMsRUFBUyxFQUFTLENBQ3hELEVBQWEsVUFBWSxFQUUzQixTQUFTLEVBQVcsQ0FBQyxFQUFnQixFQUFPLENBQzFDLEVBQWUsWUFBWSxDQUFLLEVBRWxDLFNBQVMsRUFBd0IsQ0FBQyxFQUFXLEVBQU8sQ0FDbEQsQUFBTSxFQUFVLFdBQWhCLEVBQ0ksRUFBVSxXQUFXLFlBQVksQ0FBSyxFQUN0QyxFQUFVLFlBQVksQ0FBSyxFQUVqQyxTQUFTLEVBQXFCLENBQUMsRUFBZ0IsRUFBa0IsQ0FDL0QsSUFBSSxFQUFPLEVBQ1QsRUFBUSxFQUNWLEVBQUcsQ0FDRCxJQUFJLEVBQVcsRUFBSyxZQUVwQixHQURBLEVBQWUsWUFBWSxDQUFJLEVBQzNCLEdBQWtCLEVBQVMsV0FBZixFQUNkLEdBQU0sRUFBTyxFQUFTLEtBQU8sSUFBUyxHQUFvQixDQUN4RCxHQUFVLElBQU4sRUFBYSxDQUNmLEVBQWUsWUFBWSxDQUFRLEVBQ25DLEdBQWlCLENBQWdCLEVBQ2pDLE9BRUYsUUFFQSxDQUFDLElBQVMsSUFDUixJQUFTLElBQ1QsSUFBUyxJQUNULElBQ04sRUFBTyxRQUNBLEdBQ1QsR0FBaUIsQ0FBZ0IsRUFFbkMsU0FBUyxFQUFZLENBQUMsRUFBVSxDQUM5QixFQUFXLEVBQVMsYUFDRSxFQUFTLGNBQS9CLFdBQ0ksRUFBUyxZQUFZLFVBQVcsT0FBUSxXQUFXLEVBQ2xELEVBQVMsUUFBVSxPQUUxQixTQUFTLEVBQWdCLENBQUMsRUFBYyxDQUN0QyxFQUFhLFVBQVksR0FFM0IsU0FBUyxFQUFjLENBQUMsRUFBVSxFQUFPLENBQ3ZDLEVBQVEsRUFBTSxJQUNkLEVBQ2EsSUFBTixRQUF3QixJQUFULE1BQWtCLEVBQU0sZUFBZSxTQUFTLEVBQ2hFLEVBQU0sUUFDTixLQUNOLEVBQVMsTUFBTSxRQUNMLEdBQVIsYUFBc0MsSUFBckIsVUFBNkIsSUFBTSxHQUFLLEdBQU8sS0FBSyxFQUV6RSxTQUFTLEVBQWtCLENBQUMsRUFBYyxFQUFNLENBQzlDLEVBQWEsVUFBWSxFQUUzQixTQUFTLEVBQXVCLENBQUMsRUFBVyxDQUMxQyxJQUFJLEVBQVcsRUFBVSxXQUN6QixHQUFtQixFQUFTLFdBQWhCLEtBQTZCLEVBQVcsRUFBUyxhQUM3RCxLQUFPLEdBQVksQ0FDakIsSUFBSSxFQUFPLEVBRVgsT0FEQSxFQUFXLEVBQVMsWUFDWixFQUFLLGNBQ04sV0FDQSxXQUNBLE9BQ0gsR0FBd0IsQ0FBSSxFQUM1QixHQUFzQixDQUFJLEVBQzFCLGFBQ0csYUFDQSxRQUNILGFBQ0csT0FDSCxHQUFxQixFQUFLLElBQUksWUFBWSxJQUF0QyxhQUF5QyxTQUVqRCxFQUFVLFlBQVksQ0FBSSxHQUc5QixTQUFTLEVBQWtCLENBQUMsRUFBVSxFQUFNLEVBQU8sRUFBbUIsQ0FDcEUsS0FBYSxFQUFTLFdBQWYsR0FBMkIsQ0FDaEMsSUFBSSxFQUFXLEVBQ2YsR0FBSSxFQUFTLFNBQVMsWUFBWSxJQUFNLEVBQUssWUFBWSxHQUN2RCxJQUNHLElBQ1ksRUFBUyxXQUFyQixTQUE4QyxFQUFTLE9BQXRCLFVBRWxDLGVBQ1EsRUFDVixHQUFnQixJQUFaLFNBQWlDLEVBQVMsT0FBdEIsU0FBNEIsQ0FDbEQsR0FBNkIsRUFBUyxLQUFNLE1BQU0sRUFDbEQsSUFBSSxFQUFlLEVBQVMsTUFBakIsS0FBd0IsS0FBTyxHQUFLLEVBQVMsS0FDeEQsR0FDZSxFQUFTLE9BQXRCLFVBQ0EsRUFBUyxhQUFhLE1BQU0sSUFBTSxFQUVsQyxPQUFPLE1BQ0osUUFBTyxXQUNOLEVBQVMsSUFDakIsT0FBUSxPQUNELE9BQ0gsSUFBSyxFQUFTLGFBQWEsVUFBVSxFQUFHLE1BQ3hDLE9BQU8sTUFDSixPQUVILEdBREEsRUFBTyxFQUFTLGFBQWEsS0FBSyxFQUVmLElBQWpCLGNBQ0EsRUFBUyxhQUFhLGlCQUFpQixFQUV2QyxjQUVBLElBQVMsRUFBUyxLQUNsQixFQUFTLGFBQWEsTUFBTSxLQUNqQixFQUFTLE1BQWpCLEtBQXdCLEtBQU8sRUFBUyxPQUMzQyxFQUFTLGFBQWEsYUFBYSxLQUN4QixFQUFTLGFBQWpCLEtBQ0csS0FDQSxFQUFTLGNBQ2YsRUFBUyxhQUFhLE9BQU8sS0FDbEIsRUFBUyxPQUFqQixLQUF5QixLQUFPLEVBQVMsT0FFNUMsTUFDRixPQUFPLE1BQ0osUUFDSCxHQUFJLEVBQVMsYUFBYSxpQkFBaUIsRUFBRyxNQUM5QyxPQUFPLE1BQ0osU0FFSCxHQURBLEVBQU8sRUFBUyxhQUFhLEtBQUssR0FFL0IsS0FBa0IsRUFBUyxLQUFqQixLQUF1QixLQUFPLEVBQVMsTUFDaEQsRUFBUyxhQUFhLE1BQU0sS0FDakIsRUFBUyxNQUFqQixLQUF3QixLQUFPLEVBQVMsT0FDM0MsRUFBUyxhQUFhLGFBQWEsS0FDeEIsRUFBUyxhQUFqQixLQUNHLEtBQ0EsRUFBUyxlQUNqQixHQUNBLEVBQVMsYUFBYSxPQUFPLElBQzVCLEVBQVMsYUFBYSxVQUFVLEVBRWpDLE1BQ0YsT0FBTyxVQUVQLE9BQU8sRUFHYixHQURBLEVBQVcsR0FBa0IsRUFBUyxXQUFXLEVBQ3BDLElBQVQsS0FBbUIsTUFFekIsT0FBTyxLQUVULFNBQVMsRUFBc0IsQ0FBQyxFQUFVLEVBQU0sRUFBbUIsQ0FDakUsR0FBVyxJQUFQLEdBQWEsT0FBTyxLQUN4QixLQUFhLEVBQVMsV0FBZixHQUEyQixDQUNoQyxJQUNTLEVBQVMsV0FBZixHQUNhLEVBQVMsV0FBckIsU0FDYSxFQUFTLE9BQXRCLFlBQ0QsRUFFRCxPQUFPLEtBRVQsR0FEQSxFQUFXLEdBQWtCLEVBQVMsV0FBVyxFQUNwQyxJQUFULEtBQW1CLE9BQU8sS0FFaEMsT0FBTyxFQUVULFNBQVMsRUFBaUIsQ0FBQyxFQUFNLENBQy9CLEtBQWUsR0FBUixLQUFjLEVBQU8sRUFBSyxZQUFhLENBQzVDLElBQUksRUFBVyxFQUFLLFNBQ3BCLEdBQVUsSUFBTixHQUF3QixJQUFOLEVBQWdCLE1BQ3RDLEdBQVUsSUFBTixFQUFnQixDQUVsQixHQURBLEVBQVcsRUFBSyxLQUVkLElBQWEsSUFDYixJQUFhLElBQ2IsSUFBYSxJQUNiLElBQWEsSUFDYixJQUFhLEdBRWIsTUFDRixHQUFJLElBQWEsR0FBbUIsT0FBTyxNQUcvQyxPQUFPLEVBRVQsU0FBUyxFQUF3QyxDQUFDLEVBQVUsQ0FDMUQsR0FBVSxFQUFTLFdBQWYsRUFBeUIsQ0FDM0IsUUFDTSxFQUF3QixFQUFTLFNBQVMsWUFBWSxFQUN4RCxFQUFvQixDQUFDLEVBQ3JCLEVBQWEsRUFBUyxXQUN0QixFQUFJLEVBQ04sRUFBSSxFQUFXLE9BQ2YsSUFDQSxDQUNBLElBQUksRUFBTyxFQUFXLEdBQ3RCLEVBQWtCLEdBQTZCLEVBQUssSUFBSSxHQUMxQyxFQUFLLEtBQUssWUFBWSxJQUFsQyxRQUNJLEdBQTJCLENBQVEsRUFDbkMsRUFBSyxNQUViLE1BQU8sQ0FBRSxLQUFNLEVBQXVCLE1BQU8sQ0FBa0IsRUFFakUsT0FBYSxFQUFTLFdBQWYsRUFDSCxDQUFFLEtBQU0sV0FBWSxNQUFPLENBQUMsQ0FBRSxFQUM5QixFQUFTLFVBRWYsU0FBUyxFQUE4QixDQUFDLEVBQWMsRUFBTSxFQUFhLENBQ3ZFLE9BQWdCLElBQVQsTUFDRSxFQUFZLE1BQW5CLElBQ0csRUFBYSxZQUFjLEVBQ3ZCLEVBQWUsTUFDZCxFQUFPLEdBQWtDLENBQUksRUFDOUMsRUFDQyxHQUFrQyxFQUFhLFNBQVMsSUFDeEQsRUFDSSxLQUNBLEVBQWEsV0FDdkIsR0FDQSxLQUVOLFNBQVMsRUFBOEMsQ0FBQyxFQUFrQixDQUN4RSxFQUFtQixFQUFpQixZQUNwQyxRQUFTLEVBQVEsRUFBRyxHQUFvQixDQUN0QyxHQUFVLEVBQWlCLFdBQXZCLEVBQWlDLENBQ25DLElBQUksRUFBTyxFQUFpQixLQUM1QixHQUFJLElBQVMsR0FBbUIsQ0FDOUIsR0FBVSxJQUFOLEVBQ0YsT0FBTyxHQUFrQixFQUFpQixXQUFXLEVBQ3ZELFFBRUEsQ0FBQyxJQUFTLElBQ1IsSUFBUyxJQUNULElBQVMsSUFDVCxJQUVOLEVBQW1CLEVBQWlCLFlBRXRDLE9BQU8sS0FFVCxTQUFTLEVBQXlCLENBQUMsRUFBZ0IsQ0FDakQsRUFBaUIsRUFBZSxnQkFDaEMsUUFBUyxFQUFRLEVBQUcsR0FBa0IsQ0FDcEMsR0FBVSxFQUFlLFdBQXJCLEVBQStCLENBQ2pDLElBQUksRUFBTyxFQUFlLEtBQzFCLEdBQ0UsSUFBUyxJQUNULElBQVMsSUFDVCxJQUFTLEdBQ1QsQ0FDQSxHQUFVLElBQU4sRUFBYSxPQUFPLEVBQ3hCLFFBQ0ssS0FBUyxJQUFxQixJQUV2QyxFQUFpQixFQUFlLGdCQUVsQyxPQUFPLEtBRVQsU0FBUyxFQUF1QixDQUFDLEVBQVcsQ0FDMUMsR0FBaUIsQ0FBUyxFQUU1QixTQUFTLEVBQThCLENBQUMsRUFBa0IsQ0FDeEQsR0FBaUIsQ0FBZ0IsRUFFbkMsU0FBUyxFQUF3QixDQUMvQixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FJQSxPQUhBLEdBQ0UsR0FBbUIsRUFBTSxFQUFZLFlBQVksRUFDbkQsRUFBUSxHQUFrQyxDQUFxQixFQUN2RCxPQUNELE9BRUgsR0FEQSxFQUFPLEVBQU0saUJBQ1IsRUFDSCxNQUFNLE1BQ0osd1BBQ0YsRUFDRixPQUFPLE1BQ0osT0FFSCxHQURBLEVBQU8sRUFBTSxNQUNSLEVBQ0gsTUFBTSxNQUNKLGlPQUNGLEVBQ0YsT0FBTyxNQUNKLE9BRUgsR0FEQSxFQUFPLEVBQU0sTUFDUixFQUNILE1BQU0sTUFDSixpT0FDRixFQUNGLE9BQU8sVUFFUCxNQUFNLE1BQ0oseUdBQ0YsR0FHTixTQUFTLEVBQXdCLENBQy9CLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUFJLEdBQW9CLENBQVEsRUFBRyxDQUNqQyxJQUFJLEVBQVUsRUFBUyxRQUFRLFlBQVksRUFDM0MsUUFBUSxNQUNOLHlXQUNBLEVBQ0EsRUFDQSxDQUNGLEVBRUYsT0FBUSxPQUNELFdBQ0EsV0FDQSxPQUNILGNBRUEsUUFBUSxNQUNOLHlHQUNGLEVBRUosSUFBSyxFQUFVLEVBQVMsV0FBWSxFQUFRLFFBQzFDLEVBQVMsb0JBQW9CLEVBQVEsRUFBRSxFQUN6QyxHQUFxQixFQUFVLEVBQU0sQ0FBSyxFQUMxQyxFQUFTLElBQXVCLEVBQ2hDLEVBQVMsSUFBb0IsRUFFL0IsU0FBUyxFQUFnQixDQUFDLEVBQVcsQ0FDbkMsY0FBNkIsRUFBVSxjQUFoQyxXQUNILEVBQVUsWUFBWSxFQUN0QixFQUFVLGNBRWhCLFNBQVMsRUFBWSxDQUFDLEVBQUssRUFBTSxFQUFhLENBQzVDLElBQUksRUFBZ0IsR0FDcEIsR0FBSSxVQUFxQyxJQUFwQixVQUE0QixFQUFNLENBQ3JELElBQUksRUFDRixHQUErQyxDQUFJLEVBQ3JELEVBQ0UsYUFBZSxFQUFNLFlBQWMsRUFBcUIsWUFDdEMsSUFBcEIsV0FDRyxHQUFzQixpQkFBbUIsRUFBYyxNQUMxRCxHQUFlLElBQUksQ0FBa0IsSUFDbEMsR0FBZSxJQUFJLENBQWtCLEVBQ3JDLEVBQU0sQ0FBRSxJQUFLLEVBQUssWUFBYSxFQUFhLEtBQU0sQ0FBSyxFQUMvQyxFQUFjLGNBQWMsQ0FBa0IsSUFBdkQsT0FDSSxFQUFPLEVBQWMsY0FBYyxNQUFNLEVBQzNDLEdBQXFCLEVBQU0sT0FBUSxDQUFHLEVBQ3RDLEdBQW9CLENBQUksRUFDeEIsRUFBYyxLQUFLLFlBQVksQ0FBSSxLQUczQyxTQUFTLEVBQVcsQ0FBQyxFQUFNLEVBQWMsRUFBYyxFQUFpQixDQUN0RSxJQUFJLEdBQWdCLEVBQWUsR0FBd0IsU0FDdkQsR0FBaUIsQ0FBWSxFQUM3QixLQUNKLElBQUssRUFDSCxNQUFNLE1BQ0osK0RBQ0YsRUFDRixPQUFRLE9BQ0QsV0FDQSxRQUNILE9BQU8sU0FDSixRQUNILGNBQTJCLEVBQWEsYUFBakMsaUJBQ2UsRUFBYSxPQUFqQyxVQUNJLEVBQWUsR0FBWSxFQUFhLElBQUksRUFDN0MsRUFDQyxHQUFxQixDQUFZLEVBQUUsZ0JBQ3BDLEVBQWtCLEVBQWEsSUFBSSxDQUFZLEVBQ2hELElBQ0ksRUFBa0IsQ0FDbEIsS0FBTSxRQUNOLFNBQVUsS0FDVixNQUFPLEVBQ1AsTUFBTyxJQUNULEVBQ0EsRUFBYSxJQUFJLEVBQWMsQ0FBZSxHQUNoRCxHQUNBLENBQUUsS0FBTSxPQUFRLFNBQVUsS0FBTSxNQUFPLEVBQUcsTUFBTyxJQUFLLE1BQ3ZELE9BQ0gsR0FDbUIsRUFBYSxNQUE5QixxQkFDb0IsRUFBYSxPQUFqQyxpQkFDb0IsRUFBYSxhQUFqQyxTQUNBLENBQ0EsRUFBTyxHQUFZLEVBQWEsSUFBSSxFQUNwQyxJQUFJLEVBQVUsR0FBcUIsQ0FBWSxFQUFFLGdCQUMvQyxFQUFZLEVBQVEsSUFBSSxDQUFJLEVBQzlCLElBQ0csSUFDQyxFQUFlLEVBQWEsZUFBaUIsRUFDOUMsRUFBWSxDQUNYLEtBQU0sYUFDTixTQUFVLEtBQ1YsTUFBTyxFQUNQLE1BQU8sQ0FBRSxRQUFTLEdBQVcsUUFBUyxJQUFLLENBQzdDLEVBQ0EsRUFBUSxJQUFJLEVBQU0sQ0FBUyxHQUMxQixFQUFVLEVBQWEsY0FDdEIsR0FBNkIsQ0FBSSxDQUNuQyxLQUNHLEVBQVEsS0FDUCxFQUFVLFNBQVcsRUFDdEIsRUFBVSxNQUFNLFFBQVUsR0FBUyxLQUNyQyxHQUFnQixJQUFJLENBQUksR0FDekIsQ0FDQSxJQUFJLEVBQWUsQ0FDakIsSUFBSyxVQUNMLEdBQUksUUFDSixLQUFNLEVBQWEsS0FDbkIsWUFBYSxFQUFhLFlBQzFCLFVBQVcsRUFBYSxVQUN4QixNQUFPLEVBQWEsTUFDcEIsU0FBVSxFQUFhLFNBQ3ZCLGVBQWdCLEVBQWEsY0FDL0IsRUFDQSxHQUFnQixJQUFJLEVBQU0sQ0FBWSxFQUN0QyxHQUNFLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsRUFBVSxLQUNaLEVBRUosR0FBSSxHQUF5QixJQUFULEtBQ2xCLE1BQ0ksRUFDQTtBQUFBO0FBQUEsTUFDQSxHQUFnQyxDQUFZLEVBQzVDO0FBQUEsTUFDQSxHQUFnQyxDQUFZLEVBQzlDLE1BQ0UsOFBBQ0UsQ0FDSixFQUVKLE9BQU8sRUFFVCxHQUFJLEdBQXlCLElBQVQsS0FDbEIsTUFDSSxFQUNBO0FBQUE7QUFBQSxNQUNBLEdBQWdDLENBQVksRUFDNUM7QUFBQSxNQUNBLEdBQWdDLENBQVksRUFDOUMsTUFDRSxzUUFDRSxDQUNKLEVBRUosT0FBTyxTQUNKLFNBQ0gsT0FDRyxFQUFlLEVBQWEsTUFDNUIsRUFBZSxFQUFhLFdBQ1QsSUFBcEIsVUFDQSxVQUNzQixJQUF0QixtQkFDb0IsSUFBcEIsVUFDTSxFQUFlLEdBQWEsQ0FBWSxFQUN6QyxFQUNDLEdBQXFCLENBQVksRUFBRSxpQkFDcEMsRUFBa0IsRUFBYSxJQUFJLENBQVksRUFDaEQsSUFDSSxFQUFrQixDQUNsQixLQUFNLFNBQ04sU0FBVSxLQUNWLE1BQU8sRUFDUCxNQUFPLElBQ1QsRUFDQSxFQUFhLElBQUksRUFBYyxDQUFlLEdBQ2hELEdBQ0EsQ0FBRSxLQUFNLE9BQVEsU0FBVSxLQUFNLE1BQU8sRUFBRyxNQUFPLElBQUssVUFHNUQsTUFBTSxNQUNKLHNEQUNFLEVBQ0EsNEJBQ0osR0FHTixTQUFTLEVBQStCLENBQUMsRUFBTyxDQUM5QyxJQUFJLEVBQWlCLEVBQ25CLEVBQWMsUUFnQ2hCLGNBL0JvQixFQUFNLE1BQTFCLFVBQ0ssSUFBbUIsR0FBZSxTQUFXLEVBQU0sSUFBTSxLQUMxRCxHQUFlLEtBQUssRUFBTyxLQUFLLElBQy9CLElBQ0EsR0FDQyxVQUNVLEVBQU0sTUFBZixLQUFxQixPQUFTLHVCQUF5QixFQUFNLEtBQzlELFlBQ2MsRUFBTSxPQUExQixVQUNLLElBQW1CLEdBQWUsVUFBWSxFQUFNLEtBQU8sS0FDNUQsR0FBZSxLQUFLLEVBQU8sTUFBTSxJQUNoQyxJQUNBLEdBQ0MsV0FDVSxFQUFNLE9BQWYsS0FDRyxPQUNBLHVCQUF5QixFQUFNLE1BQ25DLFlBQ2MsRUFBTSxhQUExQixVQUNLLElBQ0EsR0FBZSxnQkFBa0IsRUFBTSxXQUFhLEtBQ3JELEdBQWUsS0FBSyxFQUFPLFlBQVksSUFDdEMsSUFDQSxHQUNDLGlCQUNVLEVBQU0sYUFBZixLQUNHLE9BQ0EsdUJBQXlCLEVBQU0sWUFDbkMsS0FDTixPQUFPLG9CQUFvQixDQUFLLEVBQUUsT0FBUyxJQUN4QyxHQUFlLFFBQ1gsRUFBYyxNQUV2QixTQUFTLEVBQVcsQ0FBQyxFQUFNLENBQ3pCLE1BQ0UsU0FBVyxHQUErQyxDQUFJLEVBQUksSUFHdEUsU0FBUyxFQUE0QixDQUFDLEVBQUssQ0FDekMsTUFBTywwQkFBNEIsRUFBTSxJQUUzQyxTQUFTLEVBQTJCLENBQUMsRUFBVSxDQUM3QyxPQUFPLEdBQU8sQ0FBQyxFQUFHLEVBQVUsQ0FDMUIsa0JBQW1CLEVBQVMsV0FDNUIsV0FBWSxJQUNkLENBQUMsRUFFSCxTQUFTLEVBQWlCLENBQUMsRUFBZSxFQUFLLEVBQWMsRUFBTyxDQUNsRSxFQUFjLGNBQ1osbUNBQXFDLEVBQU0sR0FDN0MsRUFDSyxFQUFNLFFBQVUsSUFDZixFQUFNLEVBQWMsY0FBYyxNQUFNLEVBQ3pDLEVBQU0sUUFBVSxFQUNqQixFQUFJLGlCQUFpQixlQUFpQixFQUFHLENBQ3ZDLE9BQVEsRUFBTSxTQUFXLEdBQzFCLEVBQ0QsRUFBSSxpQkFBaUIsZ0JBQWtCLEVBQUcsQ0FDeEMsT0FBUSxFQUFNLFNBQVcsR0FDMUIsRUFDRCxHQUFxQixFQUFLLE9BQVEsQ0FBWSxFQUM5QyxHQUFvQixDQUFHLEVBQ3ZCLEVBQWMsS0FBSyxZQUFZLENBQUcsR0FFeEMsU0FBUyxFQUFZLENBQUMsRUFBSyxDQUN6QixNQUNFLFNBQVcsR0FBK0MsQ0FBRyxFQUFJLEtBR3JFLFNBQVMsRUFBd0IsQ0FBQyxFQUFLLENBQ3JDLE1BQU8sZ0JBQWtCLEVBRTNCLFNBQVMsRUFBZSxDQUFDLEVBQWUsRUFBVSxFQUFPLENBRXZELEdBREEsRUFBUyxRQUNJLEVBQVMsV0FBbEIsS0FDRixPQUFRLEVBQVMsVUFDVixRQUNILElBQUksRUFBVyxFQUFjLGNBQzNCLHFCQUNFLEdBQStDLEVBQU0sSUFBSSxFQUN6RCxJQUNKLEVBQ0EsR0FBSSxFQUNGLE9BQ0csRUFBUyxTQUFXLEVBQ3JCLEdBQW9CLENBQVEsRUFDNUIsRUFFSixJQUFJLEVBQWEsR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUNqQyxZQUFhLEVBQU0sS0FDbkIsa0JBQW1CLEVBQU0sV0FDekIsS0FBTSxLQUNOLFdBQVksSUFDZCxDQUFDLEVBT0QsT0FOQSxHQUNFLEVBQWMsZUFBaUIsR0FDL0IsY0FBYyxPQUFPLEVBQ3ZCLEdBQW9CLENBQVEsRUFDNUIsR0FBcUIsRUFBVSxRQUFTLENBQVUsRUFDbEQsR0FBaUIsRUFBVSxFQUFNLFdBQVksQ0FBYSxFQUNsRCxFQUFTLFNBQVcsTUFDekIsYUFDSCxFQUFhLEdBQVksRUFBTSxJQUFJLEVBQ25DLElBQUksRUFBWSxFQUFjLGNBQzVCLEdBQTZCLENBQVUsQ0FDekMsRUFDQSxHQUFJLEVBQ0YsT0FDRyxFQUFTLE1BQU0sU0FBVyxHQUMxQixFQUFTLFNBQVcsRUFDckIsR0FBb0IsQ0FBUyxFQUM3QixFQUVKLEVBQVcsR0FBNEIsQ0FBSyxHQUMzQyxFQUFhLEdBQWdCLElBQUksQ0FBVSxJQUMxQyxHQUErQixFQUFVLENBQVUsRUFDckQsR0FDRSxFQUFjLGVBQWlCLEdBQy9CLGNBQWMsTUFBTSxFQUN0QixHQUFvQixDQUFTLEVBQzdCLElBQUksRUFBZSxFQVFuQixPQVBBLEVBQWEsR0FBSyxJQUFJLGdCQUFpQixDQUFDLEVBQVMsRUFBUSxDQUN2RCxFQUFhLE9BQVMsRUFDdEIsRUFBYSxRQUFVLEVBQ3hCLEVBQ0QsR0FBcUIsRUFBVyxPQUFRLENBQVEsRUFDaEQsRUFBUyxNQUFNLFNBQVcsR0FDMUIsR0FBaUIsRUFBVyxFQUFNLFdBQVksQ0FBYSxFQUNuRCxFQUFTLFNBQVcsTUFDekIsU0FFSCxHQURBLEVBQVksR0FBYSxFQUFNLEdBQUcsRUFFL0IsRUFBYSxFQUFjLGNBQzFCLEdBQXlCLENBQVMsQ0FDcEMsRUFFQSxPQUNHLEVBQVMsU0FBVyxFQUNyQixHQUFvQixDQUFVLEVBQzlCLEVBR0osR0FEQSxFQUFXLEVBQ04sRUFBYSxHQUFnQixJQUFJLENBQVMsRUFDN0MsQUFBQyxFQUFXLEdBQU8sQ0FBQyxFQUFHLENBQUssRUFDMUIsR0FBMkIsRUFBVSxDQUFVLEVBTW5ELE9BTEEsRUFBZ0IsRUFBYyxlQUFpQixFQUMvQyxFQUFhLEVBQWMsY0FBYyxRQUFRLEVBQ2pELEdBQW9CLENBQVUsRUFDOUIsR0FBcUIsRUFBWSxPQUFRLENBQVEsRUFDakQsRUFBYyxLQUFLLFlBQVksQ0FBVSxFQUNqQyxFQUFTLFNBQVcsTUFDekIsT0FDSCxPQUFPLGFBRVAsTUFBTSxNQUNKLG1FQUNFLEVBQVMsS0FDVCw0QkFDSixNQUdKLENBQWlCLEVBQVMsT0FBMUIsZUFDRyxFQUFTLE1BQU0sUUFBVSxNQUFjLEtBQ3RDLEVBQVcsRUFBUyxTQUNyQixFQUFTLE1BQU0sU0FBVyxHQUMzQixHQUFpQixFQUFVLEVBQU0sV0FBWSxDQUFhLEdBQzlELE9BQU8sRUFBUyxTQUVsQixTQUFTLEVBQWdCLENBQUMsRUFBVSxFQUFZLEVBQU0sQ0FDcEQsUUFDTSxFQUFRLEVBQUssaUJBQ2IsZ0VBQ0YsRUFDQSxFQUFPLEVBQU0sT0FBUyxFQUFNLEVBQU0sT0FBUyxHQUFLLEtBQ2hELEVBQVEsRUFDUixFQUFJLEVBQ04sRUFBSSxFQUFNLE9BQ1YsSUFDQSxDQUNBLElBQUksRUFBTyxFQUFNLEdBQ2pCLEdBQUksRUFBSyxRQUFRLGFBQWUsRUFBWSxFQUFRLFVBQzNDLElBQVUsRUFBTSxNQUUzQixFQUNJLEVBQU0sV0FBVyxhQUFhLEVBQVUsRUFBTSxXQUFXLEdBQ3ZELEVBQW1CLEVBQUssV0FBWCxFQUFzQixFQUFLLEtBQU8sRUFDakQsRUFBVyxhQUFhLEVBQVUsRUFBVyxVQUFVLEdBRTdELFNBQVMsRUFBOEIsQ0FBQyxFQUFpQixFQUFjLENBQ3JFLEFBQVEsRUFBZ0IsYUFBeEIsT0FDRyxFQUFnQixZQUFjLEVBQWEsYUFDdEMsRUFBZ0IsZ0JBQXhCLE9BQ0csRUFBZ0IsZUFBaUIsRUFBYSxnQkFDekMsRUFBZ0IsT0FBeEIsT0FDRyxFQUFnQixNQUFRLEVBQWEsT0FFMUMsU0FBUyxFQUEwQixDQUFDLEVBQWEsRUFBYyxDQUM3RCxBQUFRLEVBQVksYUFBcEIsT0FDRyxFQUFZLFlBQWMsRUFBYSxhQUNsQyxFQUFZLGdCQUFwQixPQUNHLEVBQVksZUFBaUIsRUFBYSxnQkFDckMsRUFBWSxXQUFwQixPQUNHLEVBQVksVUFBWSxFQUFhLFdBRTFDLFNBQVMsRUFBMkIsQ0FBQyxFQUFNLEVBQWMsRUFBZSxDQUN0RSxHQUFhLEtBQVQsS0FBb0IsQ0FDdEIsSUFBSSxFQUFRLElBQUksSUFDWixFQUFVLEdBQVksSUFBSSxJQUM5QixFQUFPLElBQUksRUFBZSxDQUFLLE1BRS9CLENBQUMsRUFBUyxHQUNQLEVBQVEsRUFBTyxJQUFJLENBQWEsRUFDakMsSUFBVyxFQUFRLElBQUksSUFBUSxFQUFPLElBQUksRUFBZSxDQUFLLEdBQ2xFLEdBQUksRUFBTSxJQUFJLENBQUksRUFBRyxPQUFPLEVBQzVCLEVBQU0sSUFBSSxFQUFNLElBQUksRUFDcEIsRUFBZ0IsRUFBYyxxQkFBcUIsQ0FBSSxFQUN2RCxJQUFLLEVBQVMsRUFBRyxFQUFTLEVBQWMsT0FBUSxJQUFVLENBQ3hELElBQUksRUFBTyxFQUFjLEdBQ3pCLEtBRUksRUFBSyxLQUNMLEVBQUssS0FDTyxJQUFYLFFBQW9DLEVBQUssYUFBYSxLQUFLLElBQXhDLGVBRXRCLEVBQUssZUFBaUIsR0FDdEIsQ0FDQSxJQUFJLEVBQVUsRUFBSyxhQUFhLENBQVksR0FBSyxHQUNqRCxFQUFVLEVBQU8sRUFDakIsSUFBSSxFQUFXLEVBQU0sSUFBSSxDQUFPLEVBQ2hDLEVBQVcsRUFBUyxLQUFLLENBQUksRUFBSSxFQUFNLElBQUksRUFBUyxDQUFDLENBQUksQ0FBQyxHQUc5RCxPQUFPLEVBRVQsU0FBUyxFQUFjLENBQUMsRUFBZSxFQUFNLEVBQVUsQ0FDckQsRUFBZ0IsRUFBYyxlQUFpQixFQUMvQyxFQUFjLEtBQUssYUFDakIsRUFDWSxJQUFaLFFBQW1CLEVBQWMsY0FBYyxjQUFjLEVBQUksSUFDbkUsRUFFRixTQUFTLEVBQW1CLENBQUMsRUFBTSxFQUFPLEVBQWEsQ0FDckQsSUFBSSxHQUNELEVBQVksYUFBYSxvQkFDNUIsR0FDRSxFQUFZLFVBQVksSUFDaEIsRUFBTSxVQUFkLEtBRUEsT0FDRyxHQUNTLEVBQU0sVUFBZCxNQUNZLElBQVgsUUFDYSxJQUFaLFNBQ1ksSUFBWixTQUNXLElBQVgsUUFDYSxJQUFiLFVBQ0YsUUFBUSxNQUNOLG9VQUNBLEVBQ0EsQ0FDRixFQUNGLEdBRUosT0FBUSxPQUNELFdBQ0EsUUFDSCxNQUFPLE9BQ0osUUFDSCxVQUNzQixFQUFNLGFBQTFCLGlCQUNvQixFQUFNLE9BQTFCLFVBQ08sRUFBTSxPQUFiLEdBQ0EsQ0FDQSxHQUNFLFFBQVEsTUFDTiwybEJBQ0YsRUFDRixNQUVGLE1BQU8sT0FDSixPQUNILFVBQ3NCLEVBQU0sTUFBMUIsaUJBQ29CLEVBQU0sT0FBMUIsVUFDTyxFQUFNLE9BQWIsSUFDQSxFQUFNLFFBQ04sRUFBTSxRQUNOLENBQ0EsR0FDbUIsRUFBTSxNQUF2QixxQkFDb0IsRUFBTSxhQUExQixTQUNBLENBQ0EsRUFBTyxFQUFNLEtBQ2IsSUFBb0IsUUFBaEIsRUFDZSxTQUFqQixHQUFXLEVBQ2IsRUFBYyxDQUFDLEVBQ2YsRUFBTSxRQUFVLEVBQVksS0FBSyxVQUFVLEVBQzNDLEdBQVcsRUFBWSxLQUFLLFdBQVcsRUFDL0IsR0FBUixNQUFvQixFQUFZLEtBQUssWUFBWSxFQUNqRCxFQUFVLEdBQWtCLEVBQWEsS0FBSyxFQUM5QyxHQUFpQixFQUFZLFNBQWxCLEVBQTJCLFFBQVUsU0FDaEQsRUFDUSxFQUFZLFNBQWxCLEVBQTJCLE1BQVEsRUFBVSxPQUFTLEVBQ3hELEVBQVksUUFDVixRQUFRLE1BQ04sMGNBQ0EsRUFDQSxFQUNBLENBQ0YsRUFFSixXQUN1QixFQUFNLE1BQTFCLGlCQUNtQixFQUFNLE9BQTFCLFVBQ08sRUFBTSxPQUFiLEdBQ0ksUUFBUSxNQUNOLCtLQUNGLEdBQ0MsRUFBTSxTQUFXLEVBQU0sU0FDeEIsUUFBUSxNQUNOLGtNQUNGLEdBQ04sTUFFRixPQUFRLEVBQU0sU0FDUCxhQUNILE9BQ0csRUFBTyxFQUFNLFdBQ2IsRUFBUSxFQUFNLGdCQUNLLElBQXBCLFVBQ0UsR0FDQSxRQUFRLE1BQ04saUxBQ0YsU0FDa0IsSUFBcEIsVUFBb0MsR0FBUixhQUc5QixNQUFPLE9BRVIsU0FLSCxHQUpBLEVBQ0UsRUFBTSxjQUNnQixFQUFNLFFBQTVCLG1CQUNvQixFQUFNLFFBQTFCLFVBRUMsR0FDRCxFQUFNLFFBQ04sRUFBTSxVQUNMLEVBQU0sWUFDYSxFQUFNLE1BQTFCLFNBQ0EsQ0FDQSxJQUNHLEVBQ0csRUFBTSxRQUFVLEVBQU0sUUFDcEIsUUFBUSxNQUNOLG9NQUNGLEVBQ0EsUUFBUSxNQUNOLHNPQUNGLEVBQ0YsUUFBUSxNQUNOLHdKQUNGLEdBQ04sTUFFRixNQUFPLE9BQ0osZUFDQSxXQUNILEdBQ0UsUUFBUSxNQUNOLHdGQUNBLENBQ0YsRUFFTixNQUFPLEdBRVQsU0FBUyxFQUFlLENBQUMsRUFBVSxDQUNqQyxPQUF3QixFQUFTLE9BQTFCLGVBQ0osRUFBUyxNQUFNLFFBQVUsTUFBYSxHQUNyQyxHQUNBLEdBRU4sU0FBUyxFQUFJLEVBQUcsRUFDaEIsU0FBUyxFQUFlLENBQUMsRUFBZSxFQUFVLEVBQU8sQ0FDdkQsR0FBYSxLQUFULEtBQ0YsTUFBTSxNQUNKLDhHQUNGLEVBQ0YsSUFBSSxFQUFRLEdBQ1osR0FDbUIsRUFBUyxPQUExQixzQkFDcUIsRUFBTSxRQUExQixVQUNRLFdBQVcsRUFBTSxLQUFLLEVBQUUsVUFBL0IsTUFDRCxFQUFTLE1BQU0sUUFBVSxNQUFjLEdBQ3hDLENBQ0EsR0FBYSxFQUFTLFdBQWxCLEtBQTRCLENBQzlCLElBQUksRUFBTSxHQUFZLEVBQU0sSUFBSSxFQUM5QixFQUFXLEVBQWMsY0FDdkIsR0FBNkIsQ0FBRyxDQUNsQyxFQUNGLEdBQUksRUFBVSxDQUNaLEVBQWdCLEVBQVMsR0FDaEIsSUFBVCxhQUNzQixJQUFwQixpQkFDc0IsRUFBYyxPQUFwQyxhQUNDLEVBQU0sUUFDTixFQUFRLEdBQVksS0FBSyxDQUFLLEVBQy9CLEVBQWMsS0FBSyxFQUFPLENBQUssR0FDakMsRUFBUyxNQUFNLFNBQVcsR0FDMUIsRUFBUyxTQUFXLEVBQ3BCLEdBQW9CLENBQVEsRUFDNUIsT0FFRixFQUFXLEVBQWMsZUFBaUIsRUFDMUMsRUFBUSxHQUE0QixDQUFLLEdBQ3hDLEVBQU0sR0FBZ0IsSUFBSSxDQUFHLElBQzVCLEdBQStCLEVBQU8sQ0FBRyxFQUMzQyxFQUFXLEVBQVMsY0FBYyxNQUFNLEVBQ3hDLEdBQW9CLENBQVEsRUFDNUIsSUFBSSxFQUFlLEVBQ25CLEVBQWEsR0FBSyxJQUFJLGdCQUFpQixDQUFDLEVBQVMsRUFBUSxDQUN2RCxFQUFhLE9BQVMsRUFDdEIsRUFBYSxRQUFVLEVBQ3hCLEVBQ0QsR0FBcUIsRUFBVSxPQUFRLENBQUssRUFDNUMsRUFBUyxTQUFXLEVBRXRCLEFBQVMsRUFBTSxjQUFmLE9BQStCLEVBQU0sWUFBYyxJQUFJLEtBQ3ZELEVBQU0sWUFBWSxJQUFJLEVBQVUsQ0FBYSxHQUM1QyxFQUFnQixFQUFTLE1BQU0sV0FDN0IsRUFBUyxNQUFNLFFBQVUsTUFBYSxLQUN0QyxFQUFNLFFBQ04sRUFBVyxHQUFZLEtBQUssQ0FBSyxFQUNsQyxFQUFjLGlCQUFpQixPQUFRLENBQVEsRUFDL0MsRUFBYyxpQkFBaUIsUUFBUyxDQUFRLElBR3RELFNBQVMsRUFBc0IsRUFBRyxDQUNoQyxHQUFhLEtBQVQsS0FDRixNQUFNLE1BQ0osOEdBQ0YsRUFDRixJQUFJLEVBQVEsR0FJWixPQUhBLEVBQU0sYUFDRSxFQUFNLFFBQVosR0FDQSxHQUEyQixFQUFPLEVBQU0sV0FBVyxFQUM5QyxFQUFJLEVBQU0sY0FDSixDQUFDLEVBQVEsQ0FDaEIsSUFBSSxFQUFrQixtQkFBb0IsRUFBRyxDQUczQyxHQUZBLEVBQU0sYUFDSixHQUEyQixFQUFPLEVBQU0sV0FBVyxFQUNqRCxFQUFNLFVBQVcsQ0FDbkIsSUFBSSxFQUFZLEVBQU0sVUFDdEIsRUFBTSxVQUFZLEtBQ2xCLEVBQVUsSUFFWCxLQUFHLEVBRU4sT0FEQSxFQUFNLFVBQVksVUFDRixFQUFHLENBQ2pCLEVBQU0sVUFBWSxLQUNsQixhQUFhLENBQWUsSUFHaEMsS0FFTixTQUFTLEVBQVcsRUFBRyxDQUVyQixHQURBLEtBQUssUUFDSyxLQUFLLFFBQVgsR0FDRixHQUFJLEtBQUssWUFDUCxHQUEyQixLQUFNLEtBQUssV0FBVyxVQUMxQyxLQUFLLFVBQVcsQ0FDdkIsSUFBSSxFQUFZLEtBQUssVUFDckIsS0FBSyxVQUFZLEtBQ2pCLEVBQVUsSUFHaEIsU0FBUyxFQUEwQixDQUFDLEVBQU8sRUFBVyxDQUNwRCxFQUFNLFlBQWMsS0FDWCxFQUFNLFlBQWYsT0FDRyxFQUFNLFFBQ04sR0FBb0IsSUFBSSxJQUN6QixFQUFVLFFBQVEsR0FBMEIsQ0FBSyxFQUNoRCxHQUFvQixLQUNyQixHQUFZLEtBQUssQ0FBSyxHQUUxQixTQUFTLEVBQXdCLENBQUMsRUFBTSxFQUFVLENBQ2hELEtBQU0sRUFBUyxNQUFNLFFBQVUsSUFBVyxDQUN4QyxJQUFJLEVBQWMsR0FBa0IsSUFBSSxDQUFJLEVBQzVDLEdBQUksRUFBYSxJQUFJLEVBQU8sRUFBWSxJQUFJLEVBQWUsTUFDdEQsQ0FDSCxFQUFjLElBQUksSUFDbEIsR0FBa0IsSUFBSSxFQUFNLENBQVcsRUFDdkMsUUFDTSxFQUFRLEVBQUssaUJBQ2IsOENBQ0YsRUFDQSxFQUFJLEVBQ04sRUFBSSxFQUFNLE9BQ1YsSUFDQSxDQUNBLElBQUksRUFBTyxFQUFNLEdBQ2pCLEdBQ2EsRUFBSyxXQUFoQixRQUNjLEVBQUssYUFBYSxPQUFPLElBQXZDLFVBRUEsRUFBWSxJQUFJLEVBQUssUUFBUSxXQUFZLENBQUksRUFBSSxFQUFPLEVBRTVELEdBQVEsRUFBWSxJQUFJLEdBQWlCLENBQUksRUFFL0MsRUFBUSxFQUFTLFNBQ2pCLEVBQU8sRUFBTSxhQUFhLGlCQUFpQixFQUMzQyxFQUFJLEVBQVksSUFBSSxDQUFJLEdBQUssRUFDN0IsSUFBTSxHQUFRLEVBQVksSUFBSSxHQUFpQixDQUFLLEVBQ3BELEVBQVksSUFBSSxFQUFNLENBQUssRUFDM0IsS0FBSyxRQUNMLEVBQU8sR0FBWSxLQUFLLElBQUksRUFDNUIsRUFBTSxpQkFBaUIsT0FBUSxDQUFJLEVBQ25DLEVBQU0saUJBQWlCLFFBQVMsQ0FBSSxFQUNwQyxFQUNJLEVBQUUsV0FBVyxhQUFhLEVBQU8sRUFBRSxXQUFXLEdBQzVDLEVBQWEsRUFBSyxXQUFYLEVBQXNCLEVBQUssS0FBTyxFQUMzQyxFQUFLLGFBQWEsRUFBTyxFQUFLLFVBQVUsR0FDNUMsRUFBUyxNQUFNLFNBQVcsSUFHOUIsU0FBUyxFQUFhLENBQUMsRUFBWSxFQUFNLEVBQVcsQ0FDbEQsSUFBSSxFQUFTLEVBQ2IsT0FBUSxPQUNELFVBQ0EsYUFDQSxlQUNBLFFBQ0gsT0FBTyxHQUFLLE1BQU0sUUFBUSxHQUFhLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBSSxDQUFDLE1BQzFELFNBQ0gsRUFBUyxFQXFCYixPQW5CQSxFQUFPLEVBQUssTUFBTSxDQUFDLFNBQ0MsRUFBSyxLQUF6QixTQUNJLEVBQUssT0FDSCxFQUNBLEVBQ0EsR0FBYyxFQUFLLEdBQ25CLEdBQ0EsR0FBTSxFQUFZLEdBQ2xCLEVBQ0YsRUFDQSxFQUFLLE9BQ0gsRUFDQSxFQUNBLEdBQ0EsR0FDQSxHQUFNLEVBQVksR0FDbEIsRUFDRixFQUNKLEVBQUssUUFBUSxPQUFPLEVBQ2IsR0FBSyxNQUFNLFFBQVEsR0FBYSxDQUFJLEVBRTdDLFNBQVMsRUFBYSxDQUNwQixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxLQUFLLElBQU0sRUFDWCxLQUFLLGNBQWdCLEVBQ3JCLEtBQUssYUFDSCxLQUFLLFVBQ0wsS0FBSyxRQUNMLEtBQUssZ0JBQ0gsS0FDSixLQUFLLGNBQWdCLEdBQ3JCLEtBQUssYUFDSCxLQUFLLEtBQ0wsS0FBSyxlQUNMLEtBQUssUUFDTCxLQUFLLG9CQUNILEtBQ0osS0FBSyxpQkFBbUIsRUFDeEIsS0FBSyxnQkFBa0IsR0FBYyxFQUFFLEVBQ3ZDLEtBQUssZUFDSCxLQUFLLG9CQUNMLEtBQUssMkJBQ0wsS0FBSyxjQUNMLEtBQUssYUFDTCxLQUFLLFVBQ0wsS0FBSyxZQUNMLEtBQUssZUFDTCxLQUFLLGFBQ0gsRUFDSixLQUFLLGNBQWdCLEdBQWMsQ0FBQyxFQUNwQyxLQUFLLGNBQWdCLEdBQWMsSUFBSSxFQUN2QyxLQUFLLGlCQUFtQixFQUN4QixLQUFLLGdCQUFrQixFQUN2QixLQUFLLGNBQWdCLEVBQ3JCLEtBQUssbUJBQXFCLEVBQzFCLEtBQUssWUFBYyxLQUNuQixLQUFLLGlCQUFtQixFQUN4QixLQUFLLFVBQVksRUFDakIsS0FBSyxzQkFBd0IsSUFBSSxJQUNqQyxLQUFLLHNCQUF3QixLQUFLLGVBQWlCLEdBQ25ELEtBQUssaUJBQW1CLElBQUksSUFDNUIsRUFBZ0IsS0FBSyx1QkFBeUIsQ0FBQyxFQUMvQyxJQUFLLEVBQU0sRUFBRyxHQUFLLEVBQUssSUFBTyxFQUFjLEtBQUssSUFBSSxHQUFLLEVBQzNELEtBQUssZUFBaUIsRUFBVSxnQkFBa0IsZUFFcEQsU0FBUyxFQUFlLENBQ3RCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBMkJBLE9BMUJBLEVBQWdCLElBQUksR0FDbEIsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsRUFBTSxHQUNDLElBQVAsS0FBd0IsR0FBTyxHQUFtQixJQUNsRCxLQUFzQixHQUFPLElBQzdCLEVBQWUsRUFBWSxFQUFHLEtBQU0sS0FBTSxDQUFHLEVBQzdDLEVBQWMsUUFBVSxFQUN4QixFQUFhLFVBQVksRUFDekIsRUFBTSxHQUFZLEVBQ2xCLEdBQVksQ0FBRyxFQUNmLEVBQWMsWUFBYyxFQUM1QixHQUFZLENBQUcsRUFDZixFQUFhLGNBQWdCLENBQzNCLFFBQVMsRUFDVCxhQUFjLEVBQ2QsTUFBTyxDQUNULEVBQ0EsR0FBc0IsQ0FBWSxFQUMzQixFQUVULFNBQVMsRUFBb0IsQ0FBQyxFQUFpQixDQUM3QyxJQUFLLEVBQWlCLE9BQU8sR0FFN0IsT0FEQSxFQUFrQixHQUNYLEVBRVQsU0FBUyxFQUFtQixDQUMxQixFQUNBLEVBQ0EsRUFDQSxFQUNBLENBVUEsT0FUTSxFQUFVLE1BQWhCLEdBQXVCLEdBQW9CLEVBQzNDLEdBQ0UsRUFBVSxRQUNWLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUNPLEVBRVQsU0FBUyxFQUFtQixDQUMxQixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLEdBQ0UsV0FDc0IsR0FBYSxzQkFBbkMsV0FFQSxHQUFJLENBQ0YsR0FBYSxvQkFBb0IsR0FBWSxFQUFXLENBQU8sUUFDeEQsRUFBUCxDQUNBLEtBQ0ksR0FBaUIsR0FDbkIsUUFBUSxNQUNOLGlEQUNBLENBQ0YsR0FFTixBQUFTLElBQVQsYUFDd0IsRUFBdUIsc0JBQTdDLFlBQ0EsRUFBdUIsb0JBQW9CLENBQUksRUFDakQsRUFBa0IsR0FBcUIsQ0FBZSxFQUM3QyxFQUFVLFVBQW5CLEtBQ0ssRUFBVSxRQUFVLEVBQ3BCLEVBQVUsZUFBaUIsRUFDaEMsSUFDVyxLQUFULE9BQ0MsS0FDQyxHQUE0QixHQUM5QixRQUFRLE1BQ047QUFBQTtBQUFBLGdDQUNBLEVBQTBCLEVBQU8sR0FBSyxTQUN4QyxHQUNGLEVBQVksR0FBYSxDQUFJLEVBQzdCLEVBQVUsUUFBVSxDQUFFLFFBQVMsQ0FBUSxFQUN2QyxFQUFzQixJQUFOLE9BQWlCLEtBQU8sRUFDL0IsSUFBVCxjQUN5QixJQUF0QixZQUNDLFFBQVEsTUFDTix5RkFDQSxDQUNGLEVBQ0QsRUFBVSxTQUFXLEdBQ3hCLEVBQVUsR0FBYyxFQUFXLEVBQVcsQ0FBSSxFQUN6QyxJQUFULE9BQ0csR0FBc0IsRUFBUyxFQUFXLENBQUksRUFDL0MsR0FBb0IsRUFBUyxFQUFXLENBQUksR0FFaEQsU0FBUyxFQUFpQixDQUFDLEVBQU8sRUFBVyxDQUUzQyxHQURBLEVBQVEsRUFBTSxjQUNELElBQVQsTUFBMkIsRUFBTSxhQUFmLEtBQTJCLENBQy9DLElBQUksRUFBSSxFQUFNLFVBQ2QsRUFBTSxVQUFrQixJQUFOLEdBQVcsRUFBSSxFQUFZLEVBQUksR0FHckQsU0FBUyxFQUEwQixDQUFDLEVBQU8sRUFBVyxDQUNwRCxHQUFrQixFQUFPLENBQVMsR0FDakMsRUFBUSxFQUFNLFlBQWMsR0FBa0IsRUFBTyxDQUFTLEVBRWpFLFNBQVMsRUFBMEIsQ0FBQyxFQUFPLENBQ3pDLEdBQVcsRUFBTSxNQUFiLEdBQWtCLENBQ3BCLElBQUksRUFBTyxHQUErQixFQUFPLFFBQVEsRUFDekQsQUFBUyxJQUFULE1BQWlCLEdBQXNCLEVBQU0sRUFBTyxRQUFRLEVBQzVELEdBQTJCLEVBQU8sUUFBUSxHQUc5QyxTQUFTLEVBQTBCLEVBQUcsQ0FDcEMsT0FBTyxHQUVULFNBQVMsRUFBZSxFQUFHLENBQ3pCLFFBQVMsRUFBTSxJQUFJLElBQU8sRUFBTyxFQUFHLEVBQVEsRUFBRyxHQUFLLEVBQU8sSUFBUyxDQUNsRSxJQUFJLEVBQVEsRUFBZ0IsQ0FBSSxFQUNoQyxFQUFJLElBQUksRUFBTSxDQUFLLEVBQ25CLEdBQVEsRUFFVixPQUFPLEVBRVQsU0FBUyxFQUFxQixDQUM1QixFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEtBQ3pCLElBQUksRUFBbUIsR0FBd0IsRUFDL0MsR0FBSSxDQUNGLEFBQUMsR0FBd0IsRUFBSSxHQUMzQixHQUFjLEVBQWMsRUFBa0IsRUFBVyxDQUFXLFNBQ3RFLENBQ0EsQUFBQyxHQUF3QixFQUFJLEVBQzFCLEVBQXFCLEVBQUksR0FHaEMsU0FBUyxFQUF1QixDQUM5QixFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEtBQ3pCLElBQUksRUFBbUIsR0FBd0IsRUFDL0MsR0FBSSxDQUNGLEFBQUMsR0FBd0IsRUFBSSxHQUMzQixHQUFjLEVBQWMsRUFBa0IsRUFBVyxDQUFXLFNBQ3RFLENBQ0EsQUFBQyxHQUF3QixFQUFJLEVBQzFCLEVBQXFCLEVBQUksR0FHaEMsU0FBUyxFQUFhLENBQ3BCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUFJLEdBQVUsQ0FDWixJQUFJLEVBQVksR0FBMEIsQ0FBVyxFQUNyRCxHQUFhLElBQVQsS0FDRixHQUNFLEVBQ0EsRUFDQSxFQUNBLEdBQ0EsQ0FDRixFQUNFLEdBQXVCLEVBQWMsQ0FBVyxVQUVsRCxHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDRixFQUVBLEVBQVksZ0JBQWdCLFVBRTNCLEdBQXVCLEVBQWMsQ0FBVyxFQUNqRCxFQUFtQixHQUNqQixHQUFLLEdBQXlCLFFBQVEsQ0FBWSxFQUNwRCxDQUNBLEtBQWdCLElBQVQsTUFBc0IsQ0FDM0IsSUFBSSxFQUFRLEdBQW9CLENBQVMsRUFDekMsR0FBYSxJQUFULEtBQ0YsT0FBUSxFQUFNLFNBQ1AsR0FFSCxHQURBLEVBQVEsRUFBTSxVQUNWLEVBQU0sUUFBUSxjQUFjLGFBQWMsQ0FDNUMsSUFBSSxFQUFRLEdBQXdCLEVBQU0sWUFBWSxFQUN0RCxHQUFVLElBQU4sRUFBYSxDQUNmLElBQUksRUFBTyxFQUNYLEVBQUssY0FBZ0IsRUFDckIsSUFBSyxFQUFLLGdCQUFrQixFQUFHLEdBQVMsQ0FDdEMsSUFBSSxFQUFPLEdBQU0sR0FBSyxHQUFNLENBQUssRUFDakMsRUFBSyxjQUFjLElBQU0sRUFDekIsSUFBVSxFQUVaLEdBQXNCLENBQUssR0FDMUIsSUFBb0IsR0FBZ0IsT0FDbkMsS0FDRSxHQUNBLEdBQU0sRUFBSSxHQUNaLEdBQThCLEVBQUcsRUFBRSxJQUd6QyxVQUNHLElBQ0gsQUFBQyxFQUFPLEdBQStCLEVBQU8sQ0FBQyxFQUNwQyxJQUFULE1BQWlCLEdBQXNCLEVBQU0sRUFBTyxDQUFDLEVBQ3JELEdBQWdCLEVBQ2hCLEdBQTJCLEVBQU8sQ0FBQyxFQVczQyxHQVRBLEVBQVEsR0FBMEIsQ0FBVyxFQUNwQyxJQUFULE1BQ0UsR0FDRSxFQUNBLEVBQ0EsRUFDQSxHQUNBLENBQ0YsRUFDRSxJQUFVLEVBQVcsTUFDekIsRUFBWSxFQUVkLEFBQVMsSUFBVCxNQUFzQixFQUFZLGdCQUFnQixNQUVsRCxJQUNFLEVBQ0EsRUFDQSxFQUNBLEtBQ0EsQ0FDRixHQUdOLFNBQVMsRUFBeUIsQ0FBQyxFQUFhLENBRTlDLE9BREEsRUFBYyxHQUFlLENBQVcsRUFDakMsR0FBMkIsQ0FBVyxFQUUvQyxTQUFTLEVBQTBCLENBQUMsRUFBWSxDQUc5QyxHQUZBLEdBQW9CLEtBQ3BCLEVBQWEsR0FBMkIsQ0FBVSxFQUNyQyxJQUFULEtBQXFCLENBQ3ZCLElBQUksRUFBaUIsRUFBdUIsQ0FBVSxFQUN0RCxHQUFhLElBQVQsS0FBeUIsRUFBYSxTQUNyQyxDQUNILElBQUksRUFBTSxFQUFlLElBQ3pCLEdBQVcsSUFBUCxHQUFZLENBRWQsR0FEQSxFQUFhLEdBQTZCLENBQWMsRUFDM0MsSUFBVCxLQUFxQixPQUFPLEVBQ2hDLEVBQWEsYUFDRSxJQUFOLEVBQVcsQ0FDcEIsR0FBSSxFQUFlLFVBQVUsUUFBUSxjQUFjLGFBQ2pELE9BQWEsRUFBZSxNQUFyQixFQUNILEVBQWUsVUFBVSxjQUN6QixLQUNOLEVBQWEsU0FDUixLQUFtQixJQUFlLEVBQWEsT0FJMUQsT0FEQSxHQUFvQixFQUNiLEtBRVQsU0FBUyxFQUFnQixDQUFDLEVBQWMsQ0FDdEMsT0FBUSxPQUNELG1CQUNBLGFBQ0EsWUFDQSxZQUNBLGtCQUNBLFdBQ0EsVUFDQSxlQUNBLGVBQ0EsY0FDQSxnQkFDQSxXQUNBLGNBQ0EsZUFDQSxZQUNBLGNBQ0EsY0FDQSxlQUNBLFlBQ0EsZ0JBQ0EsY0FDQSxZQUNBLFlBQ0EsV0FDQSxvQkFDQSxrQkFDQSxnQkFDQSxpQkFDQSxZQUNBLGFBQ0EsYUFDQSxhQUNBLGFBQ0Esa0JBQ0EsZUFDQSxpQkFDQSxtQkFDQSxhQUNBLHNCQUNBLGdCQUNBLHVCQUNBLHFCQUNBLHdCQUNBLGlCQUNBLGdCQUNBLGtCQUNBLFdBQ0EsdUJBQ0EsWUFDQSxpQkFDQSxlQUNBLGFBQ0EsY0FDSCxPQUFPLE9BQ0osV0FDQSxnQkFDQSxlQUNBLGdCQUNBLGVBQ0EsZ0JBQ0EsZUFDQSxnQkFDQSxrQkFDQSxpQkFDQSxrQkFDQSxhQUNBLGdCQUNBLFlBQ0EsaUJBQ0EsaUJBQ0EsbUJBQ0EsZUFDSCxPQUFPLE9BQ0osVUFDSCxPQUFRLEdBQXdCLFFBQ3pCLEdBQ0gsT0FBTyxRQUNKLEdBQ0gsT0FBTyxRQUNKLFFBQ0EsR0FDSCxPQUFPLFFBQ0osR0FDSCxPQUFPLFdBRVAsT0FBTyxXQUdYLE9BQU8sSUFHYixTQUFTLEVBQXNCLENBQUMsRUFBYyxFQUFhLENBQ3pELE9BQVEsT0FDRCxjQUNBLFdBQ0gsR0FBYyxLQUNkLFVBQ0csZ0JBQ0EsWUFDSCxHQUFhLEtBQ2IsVUFDRyxnQkFDQSxXQUNILEdBQWMsS0FDZCxVQUNHLGtCQUNBLGFBQ0gsR0FBZSxPQUFPLEVBQVksU0FBUyxFQUMzQyxVQUNHLHdCQUNBLHFCQUNILEdBQXNCLE9BQU8sRUFBWSxTQUFTLEdBR3hELFNBQVMsRUFBaUQsQ0FDeEQsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUNXLElBQVQsTUFDQSxFQUFvQixjQUFnQixFQUVwQyxPQUNHLEVBQXNCLENBQ3JCLFVBQVcsRUFDWCxhQUFjLEVBQ2QsaUJBQWtCLEVBQ2xCLFlBQWEsRUFDYixpQkFBa0IsQ0FBQyxDQUFlLENBQ3BDLEVBQ1MsSUFBVCxPQUNJLEVBQVksR0FBb0IsQ0FBUyxFQUNsQyxJQUFULE1BQXNCLEdBQTJCLENBQVMsR0FDNUQsRUFPSixPQUxBLEVBQW9CLGtCQUFvQixFQUN4QyxFQUFZLEVBQW9CLGlCQUN2QixJQUFULE1BQ1MsRUFBVSxRQUFRLENBQWUsSUFBeEMsSUFDQSxFQUFVLEtBQUssQ0FBZSxFQUN6QixFQUVULFNBQVMsRUFBc0IsQ0FDN0IsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0EsT0FBUSxPQUNELFVBQ0gsT0FDRyxHQUFjLEdBQ2IsR0FDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxPQUVDLFlBQ0gsT0FDRyxHQUFhLEdBQ1osR0FDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxPQUVDLFlBQ0gsT0FDRyxHQUFjLEdBQ2IsR0FDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxPQUVDLGNBQ0gsSUFBSSxFQUFZLEVBQVksVUFZNUIsT0FYQSxHQUFlLElBQ2IsRUFDQSxHQUNFLEdBQWUsSUFBSSxDQUFTLEdBQUssS0FDakMsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLENBQ0YsRUFDTyxPQUNKLG9CQUNILE9BQ0csRUFBWSxFQUFZLFVBQ3pCLEdBQXNCLElBQ3BCLEVBQ0EsR0FDRSxHQUFzQixJQUFJLENBQVMsR0FBSyxLQUN4QyxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsQ0FDRixFQUNBLEdBR04sTUFBTyxHQUVULFNBQVMsRUFBOEIsQ0FBQyxFQUFjLENBQ3BELElBQUksRUFBYSxHQUEyQixFQUFhLE1BQU0sRUFDL0QsR0FBYSxJQUFULEtBQXFCLENBQ3ZCLElBQUksRUFBaUIsRUFBdUIsQ0FBVSxFQUN0RCxHQUFhLElBQVQsTUFDRixHQUFNLEVBQWEsRUFBZSxJQUFhLElBQVAsSUFDdEMsR0FDSSxFQUFhLEdBQTZCLENBQWMsRUFDakQsSUFBVCxLQUNBLENBQ0EsRUFBYSxVQUFZLEVBQ3pCLEdBQWdCLEVBQWEsaUJBQW1CLEVBQUcsQ0FDakQsR0FBVyxFQUFlLE1BQXRCLEdBQTJCLENBQzdCLElBQUksRUFBTyxHQUFrQixDQUFjLEVBQ3pDLEVBQU8sR0FBK0IsRUFBZ0IsQ0FBSSxFQUM1RCxBQUFTLElBQVQsTUFDRSxHQUFzQixFQUFNLEVBQWdCLENBQUksRUFDbEQsR0FBMkIsRUFBZ0IsQ0FBSSxHQUVsRCxFQUNELGdCQUdJLElBQU4sR0FDQSxFQUFlLFVBQVUsUUFBUSxjQUFjLGFBQy9DLENBQ0EsRUFBYSxVQUNMLEVBQWUsTUFBckIsRUFDSSxFQUFlLFVBQVUsY0FDekIsS0FDTixTQUdOLEVBQWEsVUFBWSxLQUUzQixTQUFTLEVBQWtDLENBQUMsRUFBYSxDQUN2RCxHQUFhLEVBQVksWUFBckIsS0FBZ0MsTUFBTyxHQUMzQyxRQUNNLEVBQW1CLEVBQVksaUJBQ25DLEVBQUksRUFBaUIsUUFFckIsQ0FDQSxJQUFJLEVBQWdCLEdBQTBCLEVBQVksV0FBVyxFQUNyRSxHQUFhLElBQVQsS0FBd0IsQ0FDMUIsRUFBZ0IsRUFBWSxZQUM1QixJQUFJLEVBQW1CLElBQUksRUFBYyxZQUNyQyxFQUFjLEtBQ2QsQ0FDRixFQUNBLEVBQVEsRUFDVixBQUFTLEtBQVQsTUFDRSxRQUFRLE1BQ04scUhBQ0YsRUFDRixHQUF3QixFQUN4QixFQUFjLE9BQU8sY0FBYyxDQUFnQixFQUMxQyxLQUFULE1BQ0UsUUFBUSxNQUNOLHlIQUNGLEVBQ0YsR0FBd0IsU0FFeEIsUUFDRyxFQUFtQixHQUFvQixDQUFhLEVBQzVDLElBQVQsTUFDRSxHQUEyQixDQUFnQixFQUM1QyxFQUFZLFVBQVksRUFDekIsR0FFSixFQUFpQixNQUFNLEVBRXpCLE1BQU8sR0FFVCxTQUFTLEVBQXVDLENBQUMsRUFBYSxFQUFLLEVBQUssQ0FDdEUsR0FBbUMsQ0FBVyxHQUFLLEVBQUksT0FBTyxDQUFHLEVBRW5FLFNBQVMsRUFBcUIsRUFBRyxDQUMvQixHQUE0QixHQUNuQixLQUFULE1BQ0UsR0FBbUMsRUFBVyxJQUM3QyxHQUFjLE1BQ1IsS0FBVCxNQUNFLEdBQW1DLEVBQVUsSUFDNUMsR0FBYSxNQUNQLEtBQVQsTUFDRSxHQUFtQyxFQUFXLElBQzdDLEdBQWMsTUFDakIsR0FBZSxRQUFRLEVBQXVDLEVBQzlELEdBQXNCLFFBQVEsRUFBdUMsRUFFdkUsU0FBUyxFQUEyQixDQUFDLEVBQWEsRUFBVyxDQUMzRCxFQUFZLFlBQWMsSUFDdEIsRUFBWSxVQUFZLEtBQzFCLEtBQ0ksR0FBNEIsR0FDOUIsR0FBVSwwQkFDUixHQUFVLHdCQUNWLEVBQ0YsSUFFTixTQUFTLEVBQTJCLENBQUMsRUFBb0IsQ0FDdkQsS0FBNkIsSUFDekIsR0FBMkIsRUFDN0IsR0FBVSwwQkFDUixHQUFVLGdDQUNELEVBQUcsQ0FDVixLQUE2QixJQUMxQixHQUEyQixNQUM5QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQW1CLE9BQVEsR0FBSyxFQUFHLENBQ3JELElBQUksRUFBTyxFQUFtQixHQUM1QixFQUFvQixFQUFtQixFQUFJLEdBQzNDLEVBQVcsRUFBbUIsRUFBSSxHQUNwQyxVQUEwQixJQUF0QixXQUNGLEdBQ1csR0FBMkIsR0FBcUIsQ0FBSSxJQUE3RCxLQUVBLGFBQ0csT0FDUCxJQUFJLEVBQVcsR0FBb0IsQ0FBSSxFQUN2QyxBQUFTLElBQVQsT0FDRyxFQUFtQixPQUFPLEVBQUcsQ0FBQyxFQUM5QixHQUFLLEVBQ0wsRUFBTyxDQUNOLFFBQVMsR0FDVCxLQUFNLEVBQ04sT0FBUSxFQUFLLE9BQ2IsT0FBUSxDQUNWLEVBQ0EsT0FBTyxPQUFPLENBQUksRUFDbEIsR0FDRSxFQUNBLEVBQ0EsRUFDQSxDQUNGLElBR1IsR0FFSixTQUFTLEVBQWdCLENBQUMsRUFBVyxDQUNuQyxTQUFTLENBQU8sQ0FBQyxFQUFhLENBQzVCLE9BQU8sR0FBNEIsRUFBYSxDQUFTLEVBRTNELEFBQVMsS0FBVCxNQUNFLEdBQTRCLEdBQWEsQ0FBUyxFQUMzQyxLQUFULE1BQXVCLEdBQTRCLEdBQVksQ0FBUyxFQUMvRCxLQUFULE1BQ0UsR0FBNEIsR0FBYSxDQUFTLEVBQ3BELEdBQWUsUUFBUSxDQUFPLEVBQzlCLEdBQXNCLFFBQVEsQ0FBTyxFQUNyQyxRQUFTLEVBQUksRUFBRyxFQUFJLEdBQStCLE9BQVEsSUFBSyxDQUM5RCxJQUFJLEVBQWUsR0FBK0IsR0FDbEQsRUFBYSxZQUFjLElBQWMsRUFBYSxVQUFZLE1BRXBFLEtBRUUsRUFBSSxHQUErQixTQUNqQyxFQUFJLEdBQStCLEdBQWMsRUFBRSxZQUFYLE9BRzFDLEdBQStCLENBQUMsRUFDckIsRUFBRSxZQUFYLE1BQXdCLEdBQStCLE1BQU0sRUFFakUsR0FEQSxHQUFLLEVBQVUsZUFBaUIsR0FBVyxrQkFDL0IsR0FBUixLQUNGLElBQUssRUFBZSxFQUFHLEVBQWUsRUFBRSxPQUFRLEdBQWdCLEVBQUcsQ0FDakUsSUFBSSxFQUFPLEVBQUUsR0FDWCxFQUFvQixFQUFFLEVBQWUsR0FDckMsRUFBWSxFQUFLLEtBQXFCLEtBQ3hDLFVBQTBCLElBQXRCLFdBQ0YsR0FBYSxHQUE0QixDQUFDLFVBQ25DLEVBQVcsQ0FDbEIsSUFBSSxFQUFTLEtBQ2IsR0FDRSxHQUNBLEVBQWtCLGFBQWEsWUFBWSxHQUUzQyxHQUNJLEVBQU8sRUFDUixFQUFZLEVBQWtCLEtBQXFCLEtBRXBELEVBQVMsRUFBVSxtQkFFTixHQUEyQixDQUFJLElBQXhDLEtBQTJDLGFBRTlDLEdBQVMsRUFBVSxPQUN4QixPQUFzQixJQUF0QixXQUNLLEVBQUUsRUFBZSxHQUFLLEdBQ3RCLEVBQUUsT0FBTyxFQUFjLENBQUMsRUFBSSxHQUFnQixHQUNqRCxHQUE0QixDQUFDLElBSXJDLFNBQVMsRUFBWSxDQUFDLEVBQWMsQ0FDbEMsS0FBSyxjQUFnQixFQUV2QixTQUFTLEVBQXFCLENBQUMsRUFBYyxDQUMzQyxLQUFLLGNBQWdCLEVBRXZCLFNBQVMsRUFBNEIsQ0FBQyxFQUFXLENBQy9DLEVBQVUsTUFDUCxFQUFVLG9CQUNQLFFBQVEsTUFDTixvSUFDRixFQUNBLFFBQVEsTUFDTixvTUFDRixHQUVSLE9BQXVCLGlDQUF2QixvQkFFVywrQkFBK0IsOEJBRHhDLFlBRUEsK0JBQStCLDRCQUE0QixNQUFNLENBQUMsRUFDcEUsSUFHRSxHQUE0QixPQUFPLElBQUksZUFBZSxFQUN0RCxHQUFxQixPQUFPLElBQUksNEJBQTRCLEVBQzVELEdBQW9CLE9BQU8sSUFBSSxjQUFjLEVBQzdDLEdBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsRUFDakQsR0FBeUIsT0FBTyxJQUFJLG1CQUFtQixFQUN2RCxHQUFzQixPQUFPLElBQUksZ0JBQWdCLEVBQ2pELEdBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsRUFDakQsR0FBc0IsT0FBTyxJQUFJLGdCQUFnQixFQUNqRCxHQUFxQixPQUFPLElBQUksZUFBZSxFQUMvQyxHQUF5QixPQUFPLElBQUksbUJBQW1CLEVBQ3ZELEdBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsRUFDakQsR0FBMkIsT0FBTyxJQUFJLHFCQUFxQixFQUMzRCxHQUFrQixPQUFPLElBQUksWUFBWSxFQUN6QyxHQUFrQixPQUFPLElBQUksWUFBWSxFQUMzQyxPQUFPLElBQUksYUFBYSxFQUN4QixPQUFPLElBQUksd0JBQXdCLEVBQ25DLElBQUksR0FBdUIsT0FBTyxJQUFJLGlCQUFpQixFQUN2RCxPQUFPLElBQUkscUJBQXFCLEVBQ2hDLE9BQU8sSUFBSSxzQkFBc0IsRUFDakMsSUFBSSxHQUE0QixPQUFPLElBQUksMkJBQTJCLEVBQ3BFLEdBQXdCLE9BQU8sU0FDL0IsR0FBeUIsT0FBTyxJQUFJLHdCQUF3QixFQUM1RCxFQUNRLG1FQUNSLEdBQVMsT0FBTyxPQUNoQixHQUFnQixFQUNoQixHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNGLEdBQVksbUJBQXFCLEdBQ2pDLElBQUksR0FDRixHQUNBLEdBQVUsR0FDUixHQUFzQixXQUNGLFVBQXRCLFdBQWdDLFFBQVUsS0FFeEMsR0FBVSxLQUNaLEdBQWMsR0FDZCxHQUFjLE1BQU0sUUFDcEIsR0FDVyxnRUFDWCxHQUFhLE9BQU8sT0FBTyxDQUN6QixRQUFTLEdBQ1QsS0FBTSxLQUNOLE9BQVEsS0FDUixPQUFRLElBQ1YsQ0FBQyxFQUNELEdBQWEsQ0FBQyxFQUNaLEdBQWEsQ0FBQyxFQUNkLEdBQWlCLEdBQ25CLEdBQXFCLEdBQWEsSUFBSSxFQUN0QyxHQUEwQixHQUFhLElBQUksRUFDM0MsR0FBMEIsR0FBYSxJQUFJLEVBQzNDLEdBQStCLEdBQWEsSUFBSSxFQUNoRCxHQUFpQixPQUFPLFVBQVUsZUFDbEMsR0FBK0IsNkJBQy9CLEdBQTZCLDJCQUM3QixHQUF3Qix3QkFDeEIsR0FBeUIseUJBQ3pCLEdBQWtCLGdCQUNsQixHQUFvQyxvQ0FDcEMsR0FBOEIsOEJBQzlCLEdBQWlDLGlDQUNqQyxHQUE2QiwyQkFDN0IsR0FBd0Isd0JBQ3hCLEdBQXlCLHlCQUN6QixHQUFrQixPQUNsQixHQUEwQyxpQ0FDMUMsR0FBYSxLQUNiLEdBQWUsS0FDZixFQUF5QixLQUN6QixHQUFpQixHQUNqQixVQUEyQyxpQ0FBdkIsWUFDcEIsR0FBUSxLQUFLLE1BQVEsS0FBSyxNQUFRLEdBQ2xDLEdBQU0sS0FBSyxJQUNYLEdBQU0sS0FBSyxJQUNYLEdBQXFCLElBQ3JCLEdBQWdCLFFBQ2hCLEdBQXdCLEVBQ3hCLEdBQTBCLEVBQzFCLEdBQXVCLEdBQ3ZCLEdBQW9CLFVBQ3BCLEdBQVksS0FBSyxPQUFPLEVBQUUsU0FBUyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQzlDLEdBQXNCLGdCQUFrQixHQUN4QyxHQUFtQixnQkFBa0IsR0FDckMsR0FBK0Isb0JBQXNCLEdBQ3JELEdBQTJCLGlCQUFtQixHQUM5QyxHQUFtQyxvQkFBc0IsR0FDekQsR0FBNkIsa0JBQW9CLEdBQ2pELEdBQStCLG9CQUFzQixHQUNyRCxHQUEwQixpQkFBbUIsR0FDN0MsR0FBa0IsSUFBSSxJQUN0QixHQUErQixDQUFDLEVBQ2hDLEdBQTRCLENBQUMsRUFDN0IsWUFDeUIsU0FBdkIsb0JBQ3VCLE9BQU8sV0FBOUIsb0JBQ3VCLE9BQU8sU0FBUyxnQkFBdkMsYUFFRixHQUFtQixDQUNqQixPQUFRLEdBQ1IsU0FBVSxHQUNWLE1BQU8sR0FDUCxPQUFRLEdBQ1IsTUFBTyxHQUNQLE1BQU8sR0FDUCxPQUFRLEVBQ1YsRUFDQSxHQUE2QixPQUMzQiwrWUFDRixFQUNBLEdBQTRCLENBQUMsRUFDN0IsR0FBOEIsQ0FBQyxFQUMvQixHQUFzRCxXQUN0RCxHQUE2QixHQUM3QixHQUErQixHQUMvQixHQUE2QixHQUM3QixHQUFzQixHQUN0QixHQUEwQixHQUN4QixHQUEyQixHQUMzQixHQUFpQixDQUFDLFFBQVMsY0FBYyxFQUMzQyxHQUF1QixHQUN2QixHQUFnQixzQkFDaEIsR0FDRSw4ZUFBOGUsTUFDNWUsR0FDRixFQUNGLEdBQ0UsbUZBQW1GLE1BQ2pGLEdBQ0YsRUFDRixHQUFrQixHQUFZLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFDL0MsR0FBaUIsbUNBQW1DLE1BQU0sR0FBRyxFQUM3RCxHQUF1QixDQUNyQixRQUFTLEtBQ1QsUUFBUyxLQUNULFlBQWEsS0FDYixpQkFBa0IsS0FDbEIsZUFBZ0IsS0FDaEIsa0JBQW1CLEtBQ25CLHVCQUF3QixLQUN4QixxQkFBc0IsS0FDdEIsb0JBQXFCLElBQ3ZCLEVBQ0EsR0FBVSxDQUFDLEVBQ1gsR0FBaUIscUNBQ2pCLEdBQWdCLDZCQUNoQixHQUFzQixDQUNwQixVQUNFLHlKQUF5SixNQUN2SixHQUNGLEVBQ0YsV0FDRSwrSkFBK0osTUFDN0osR0FDRixFQUNGLG1CQUFvQixDQUFDLHNCQUF1QixxQkFBcUIsRUFDakUsT0FDRSxnU0FBZ1MsTUFDOVIsR0FDRixFQUNGLGVBQWdCLENBQ2Qsc0JBQ0Esc0JBQ0EscUJBQ0YsRUFDQSxpQkFBa0IsQ0FDaEIsd0JBQ0Esd0JBQ0EsdUJBQ0YsRUFDQSxhQUFjLENBQ1osb0JBQ0Esb0JBQ0EsbUJBQ0YsRUFDQSxZQUFhLENBQ1gsb0JBQ0Esa0JBQ0EsbUJBQ0EsZ0JBQ0YsRUFDQSxZQUFhLENBQ1gsb0JBQ0Esb0JBQ0EsbUJBQ0Esb0JBQ0Esa0JBQ0YsRUFDQSxnQkFBaUIsQ0FDZix1QkFDQSx1QkFDQSxzQkFDRixFQUNBLGtCQUFtQixDQUNqQix5QkFDQSx5QkFDQSx3QkFDRixFQUNBLFdBQVksQ0FBQyxrQkFBbUIsa0JBQW1CLGlCQUFpQixFQUNwRSxhQUFjLENBQ1oseUJBQ0EsMEJBQ0Esc0JBQ0Esc0JBQ0YsRUFDQSxZQUFhLENBQ1gsbUJBQ0EsbUJBQ0Esa0JBQ0YsRUFDQSxZQUFhLENBQ1gsb0JBQ0Esa0JBQ0EsbUJBQ0EsZ0JBQ0YsRUFDQSxVQUFXLENBQUMsaUJBQWtCLGlCQUFrQixnQkFBZ0IsRUFDaEUsWUFBYSxDQUNYLG9CQUNBLGtCQUNBLG1CQUNBLGdCQUNGLEVBQ0EsV0FBWSxDQUFDLGtCQUFtQixrQkFBbUIsaUJBQWlCLEVBQ3BFLFFBQVMsQ0FBQyxjQUFlLGFBQWEsRUFDdEMsS0FBTSxDQUFDLFlBQWEsV0FBWSxZQUFZLEVBQzVDLFNBQVUsQ0FBQyxnQkFBaUIsVUFBVSxFQUN0QyxLQUFNLHlRQUF5USxNQUM3USxHQUNGLEVBQ0EsWUFDRSx5SEFBeUgsTUFDdkgsR0FDRixFQUNGLElBQUssQ0FBQyxZQUFhLFFBQVEsRUFDM0IsS0FBTSxtR0FBbUcsTUFDdkcsR0FDRixFQUNBLFNBQVUsQ0FDUixnQkFDQSxrQkFDQSxhQUNBLGNBQ0YsRUFDQSxXQUFZLENBQUMsZ0JBQWlCLGlCQUFpQixFQUMvQyxjQUFlLENBQUMsV0FBVyxFQUMzQixRQUFTLENBQUMsWUFBYSxRQUFRLEVBQy9CLFFBQVMsQ0FBQyxhQUFjLGNBQWMsRUFDdEMsV0FBWSxDQUFDLFFBQVEsRUFDckIsYUFBYyxDQUNaLG9CQUNBLHNCQUNBLGtCQUNGLEVBQ0EsVUFBVyxDQUFDLGlCQUFrQixvQkFBcUIsZUFBZSxFQUNsRSxPQUFRLENBQUMsZUFBZ0IsYUFBYyxjQUFlLFdBQVcsRUFDakUsT0FBUSxDQUFDLFlBQWEsWUFBYSxhQUFhLEVBQ2hELEtBQU0sdUdBQXVHLE1BQzNHLEdBQ0YsRUFDQSxhQUFjLENBQUMsZ0JBQWlCLGVBQWUsRUFDL0MsUUFBUyxDQUFDLGVBQWdCLGVBQWdCLGNBQWMsRUFDeEQsU0FBVSxDQUFDLFlBQWEsV0FBVyxFQUNuQyxRQUFTLENBQUMsZ0JBQWlCLGNBQWUsZUFBZ0IsWUFBWSxFQUN0RSxhQUFjLENBQUMsZUFBZ0IsZ0JBQWdCLEVBQy9DLFdBQVksQ0FBQyxhQUFjLGNBQWMsRUFDekMsVUFBVyxDQUFDLFlBQWEsYUFBYSxFQUN0QyxlQUFnQixDQUNkLHNCQUNBLHFCQUNBLHFCQUNGLEVBQ0EsYUFBYyxDQUFDLG9CQUFxQixtQkFBbUIsRUFDdkQsV0FBWSxDQUNWLGtCQUNBLHFCQUNBLHFCQUNBLDBCQUNGLEVBQ0EsU0FBVSxDQUFDLGNBQWMsQ0FDM0IsRUFDQSxHQUFtQixXQUNuQixHQUFjLE9BQ2QsR0FBOEIseUJBQzlCLEdBQVksUUFDWixHQUFnQixRQUNoQixHQUFvQyxRQUNwQyxHQUFtQixDQUFDLEVBQ3BCLEdBQW9CLENBQUMsRUFDckIsR0FBb0IsR0FDcEIsR0FBeUIsR0FDekIsR0FBa0IsSUFBSSxJQUNwQiwyNkJBQTI2QixNQUN6NkIsR0FDRixDQUNGLEVBQ0EsR0FBVSxJQUFJLElBQUksQ0FDaEIsQ0FBQyxnQkFBaUIsZ0JBQWdCLEVBQ2xDLENBQUMsVUFBVyxLQUFLLEVBQ2pCLENBQUMsWUFBYSxZQUFZLEVBQzFCLENBQUMsY0FBZSxhQUFhLEVBQzdCLENBQUMsZUFBZ0IsZUFBZSxFQUNoQyxDQUFDLG9CQUFxQixvQkFBb0IsRUFDMUMsQ0FBQyxhQUFjLGFBQWEsRUFDNUIsQ0FBQyxnQkFBaUIsZ0JBQWdCLEVBQ2xDLENBQUMsWUFBYSxZQUFZLEVBQzFCLENBQUMsV0FBWSxXQUFXLEVBQ3hCLENBQUMsV0FBWSxXQUFXLEVBQ3hCLENBQUMscUJBQXNCLHFCQUFxQixFQUM1QyxDQUFDLDRCQUE2Qiw2QkFBNkIsRUFDM0QsQ0FBQyxlQUFnQixlQUFlLEVBQ2hDLENBQUMsaUJBQWtCLGlCQUFpQixFQUNwQyxDQUFDLG1CQUFvQixtQkFBbUIsRUFDeEMsQ0FBQyxtQkFBb0IsbUJBQW1CLEVBQ3hDLENBQUMsY0FBZSxjQUFjLEVBQzlCLENBQUMsV0FBWSxXQUFXLEVBQ3hCLENBQUMsYUFBYyxhQUFhLEVBQzVCLENBQUMsZUFBZ0IsZUFBZSxFQUNoQyxDQUFDLGFBQWMsYUFBYSxFQUM1QixDQUFDLFdBQVksV0FBVyxFQUN4QixDQUFDLGlCQUFrQixrQkFBa0IsRUFDckMsQ0FBQyxjQUFlLGNBQWMsRUFDOUIsQ0FBQyxZQUFhLFlBQVksRUFDMUIsQ0FBQyxjQUFlLGNBQWMsRUFDOUIsQ0FBQyxhQUFjLGFBQWEsRUFDNUIsQ0FBQyxZQUFhLFlBQVksRUFDMUIsQ0FBQyw2QkFBOEIsOEJBQThCLEVBQzdELENBQUMsMkJBQTRCLDRCQUE0QixFQUN6RCxDQUFDLFlBQWEsYUFBYSxFQUMzQixDQUFDLGVBQWdCLGdCQUFnQixFQUNqQyxDQUFDLGlCQUFrQixpQkFBaUIsRUFDcEMsQ0FBQyxnQkFBaUIsZ0JBQWdCLEVBQ2xDLENBQUMsZ0JBQWlCLGdCQUFnQixFQUNsQyxDQUFDLFlBQWEsWUFBWSxFQUMxQixDQUFDLFlBQWEsWUFBWSxFQUMxQixDQUFDLGNBQWUsY0FBYyxFQUM5QixDQUFDLG1CQUFvQixtQkFBbUIsRUFDeEMsQ0FBQyxvQkFBcUIsb0JBQW9CLEVBQzFDLENBQUMsYUFBYyxhQUFhLEVBQzVCLENBQUMsV0FBWSxVQUFVLEVBQ3ZCLENBQUMsZ0JBQWlCLGdCQUFnQixFQUNsQyxDQUFDLGtCQUFtQixrQkFBa0IsRUFDdEMsQ0FBQyxpQkFBa0IsaUJBQWlCLEVBQ3BDLENBQUMsWUFBYSxZQUFZLEVBQzFCLENBQUMsY0FBZSxjQUFjLEVBQzlCLENBQUMsd0JBQXlCLHdCQUF3QixFQUNsRCxDQUFDLHlCQUEwQix5QkFBeUIsRUFDcEQsQ0FBQyxrQkFBbUIsa0JBQWtCLEVBQ3RDLENBQUMsbUJBQW9CLG1CQUFtQixFQUN4QyxDQUFDLGdCQUFpQixnQkFBZ0IsRUFDbEMsQ0FBQyxpQkFBa0IsaUJBQWlCLEVBQ3BDLENBQUMsbUJBQW9CLG1CQUFtQixFQUN4QyxDQUFDLGdCQUFpQixnQkFBZ0IsRUFDbEMsQ0FBQyxjQUFlLGNBQWMsRUFDOUIsQ0FBQyxhQUFjLGFBQWEsRUFDNUIsQ0FBQyxpQkFBa0IsaUJBQWlCLEVBQ3BDLENBQUMsZ0JBQWlCLGdCQUFnQixFQUNsQyxDQUFDLGtCQUFtQixrQkFBa0IsRUFDdEMsQ0FBQyxvQkFBcUIsb0JBQW9CLEVBQzFDLENBQUMscUJBQXNCLHFCQUFxQixFQUM1QyxDQUFDLGNBQWUsY0FBYyxFQUM5QixDQUFDLGVBQWdCLGVBQWUsRUFDaEMsQ0FBQyxhQUFjLGNBQWMsRUFDN0IsQ0FBQyxjQUFlLGNBQWMsRUFDOUIsQ0FBQyxXQUFZLFdBQVcsRUFDeEIsQ0FBQyxlQUFnQixlQUFlLEVBQ2hDLENBQUMsZ0JBQWlCLGdCQUFnQixFQUNsQyxDQUFDLGVBQWdCLGVBQWUsRUFDaEMsQ0FBQyxXQUFZLFlBQVksRUFDekIsQ0FBQyxjQUFlLGVBQWUsRUFDL0IsQ0FBQyxjQUFlLGVBQWUsRUFDL0IsQ0FBQyxjQUFlLGNBQWMsRUFDOUIsQ0FBQyxjQUFlLGNBQWMsRUFDOUIsQ0FBQyxhQUFjLGFBQWEsRUFDNUIsQ0FBQyxVQUFXLFVBQVUsQ0FDeEIsQ0FBQyxFQUNELEdBQXdCLENBQ3RCLE9BQVEsU0FDUixjQUFlLGdCQUNmLGlCQUFrQixnQkFDbEIsVUFBVyxZQUNYLE9BQVEsU0FDUixnQkFBaUIsa0JBQ2pCLElBQUssTUFDTCxHQUFJLEtBQ0osTUFBTyxRQUNQLGVBQWdCLGlCQUNoQixhQUFjLGVBQ2QsWUFBYSxjQUNiLFVBQVcsWUFDWCxTQUFVLFdBQ1YsU0FBVSxXQUNWLFFBQVMsVUFDVCxZQUFhLGNBQ2IsWUFBYSxjQUNiLFVBQVcsWUFDWCxRQUFTLFVBQ1QsUUFBUyxVQUNULFNBQVUsV0FDVixLQUFNLE9BQ04sTUFBTyxZQUNQLFFBQVMsVUFDVCxVQUFXLFlBQ1gsS0FBTSxPQUNOLFFBQVMsVUFDVCxRQUFTLFVBQ1QsZ0JBQWlCLGtCQUNqQixZQUFhLGNBQ2IsU0FBVSxXQUNWLGFBQWMsZUFDZCxPQUFRLFNBQ1IsWUFBYSxjQUNiLHdCQUF5QiwwQkFDekIsS0FBTSxPQUNOLFNBQVUsV0FDVixRQUFTLFVBQ1QsZUFBZ0IsaUJBQ2hCLGFBQWMsZUFDZCxNQUFPLFFBQ1AsSUFBSyxNQUNMLFNBQVUsV0FDVix3QkFBeUIsMEJBQ3pCLHNCQUF1Qix3QkFDdkIsU0FBVSxXQUNWLFVBQVcsWUFDWCxRQUFTLFVBQ1QsYUFBYyxlQUNkLGNBQWUsZ0JBQ2YsSUFBSyxVQUNMLEtBQU0sT0FDTixXQUFZLGFBQ1osV0FBWSxhQUNaLFlBQWEsY0FDYixlQUFnQixpQkFDaEIsV0FBWSxhQUNaLFlBQWEsY0FDYixRQUFTLFVBQ1QsT0FBUSxTQUNSLE9BQVEsU0FDUixLQUFNLE9BQ04sS0FBTSxPQUNOLFNBQVUsV0FDVixRQUFTLFVBQ1QsVUFBVyxZQUNYLGFBQWMsWUFDZCxLQUFNLE9BQ04sR0FBSSxLQUNKLFdBQVksYUFDWixZQUFhLGNBQ2IsTUFBTyxRQUNQLFVBQVcsWUFDWCxVQUFXLFlBQ1gsVUFBVyxZQUNYLEdBQUksS0FDSixPQUFRLFNBQ1IsU0FBVSxXQUNWLFFBQVMsVUFDVCxVQUFXLFlBQ1gsU0FBVSxXQUNWLFVBQVcsWUFDWCxRQUFTLFVBQ1QsS0FBTSxPQUNOLE1BQU8sUUFDUCxLQUFNLE9BQ04sS0FBTSxPQUNOLEtBQU0sT0FDTixJQUFLLE1BQ0wsU0FBVSxXQUNWLFlBQWEsY0FDYixhQUFjLGVBQ2QsSUFBSyxNQUNMLFVBQVcsWUFDWCxNQUFPLFFBQ1AsV0FBWSxhQUNaLE9BQVEsU0FDUixJQUFLLE1BQ0wsVUFBVyxZQUNYLFNBQVUsV0FDVixNQUFPLFFBQ1AsS0FBTSxPQUNOLFNBQVUsV0FDVixNQUFPLFFBQ1AsV0FBWSxhQUNaLEtBQU0sT0FDTixRQUFTLFVBQ1QsUUFBUyxVQUNULFlBQWEsY0FDYixZQUFhLGNBQ2IsT0FBUSxTQUNSLFFBQVMsVUFDVCxRQUFTLFVBQ1QsV0FBWSxhQUNaLFNBQVUsV0FDVixlQUFnQixpQkFDaEIsSUFBSyxNQUNMLFNBQVUsV0FDVixTQUFVLFdBQ1YsS0FBTSxPQUNOLEtBQU0sT0FDTixRQUFTLFVBQ1QsUUFBUyxVQUNULE1BQU8sUUFDUCxPQUFRLFNBQ1IsVUFBVyxZQUNYLFNBQVUsV0FDVixTQUFVLFdBQ1YsTUFBTyxRQUNQLEtBQU0sT0FDTixNQUFPLFFBQ1AsS0FBTSxPQUNOLFdBQVksYUFDWixJQUFLLE1BQ0wsT0FBUSxTQUNSLFFBQVMsVUFDVCxPQUFRLFNBQ1IsTUFBTyxRQUNQLEtBQU0sT0FDTixNQUFPLFFBQ1AsUUFBUyxVQUNULFNBQVUsV0FDVixPQUFRLFNBQ1IsTUFBTyxRQUNQLEtBQU0sT0FDTixPQUFRLFNBQ1IsTUFBTyxRQUNQLE1BQU8sUUFDUCxNQUFPLFFBQ1AsS0FBTSxPQUNOLE1BQU8sUUFDUCxhQUFjLGVBQ2QsZ0JBQWlCLGVBQ2pCLFdBQVksYUFDWixTQUFVLFdBQ1Ysa0JBQW1CLG9CQUNuQixxQkFBc0Isb0JBQ3RCLGFBQWMsZUFDZCxXQUFZLGFBQ1osVUFBVyxZQUNYLFdBQVksYUFDWixjQUFlLGFBQ2YsT0FBUSxTQUNSLGNBQWUsZ0JBQ2YsY0FBZSxnQkFDZixZQUFhLGNBQ2IsUUFBUyxVQUNULGNBQWUsZ0JBQ2YsY0FBZSxnQkFDZixpQkFBa0IsZ0JBQ2xCLFlBQWEsY0FDYixLQUFNLE9BQ04sTUFBTyxRQUNQLEtBQU0sT0FDTixHQUFJLEtBQ0osU0FBVSxXQUNWLFVBQVcsWUFDWCxhQUFjLFlBQ2QsS0FBTSxPQUNOLFNBQVUsV0FDVixZQUFhLFdBQ2IsY0FBZSxnQkFDZixTQUFVLFdBQ1YsWUFBYSxXQUNiLE1BQU8sUUFDUCxtQkFBb0IscUJBQ3BCLHNCQUF1QixxQkFDdkIsMEJBQTJCLDRCQUMzQiw4QkFBK0IsNEJBQy9CLGFBQWMsZUFDZCxnQkFBaUIsZUFDakIsZUFBZ0IsaUJBQ2hCLGtCQUFtQixpQkFDbkIsa0JBQW1CLG9CQUNuQixpQkFBa0IsbUJBQ2xCLE9BQVEsU0FDUixHQUFJLEtBQ0osR0FBSSxLQUNKLEVBQUcsSUFDSCxTQUFVLFdBQ1YsV0FBWSxhQUNaLFFBQVMsVUFDVCxnQkFBaUIsa0JBQ2pCLFVBQVcsWUFDWCxRQUFTLFVBQ1QsUUFBUyxVQUNULGlCQUFrQixtQkFDbEIsb0JBQXFCLG1CQUNyQixJQUFLLE1BQ0wsR0FBSSxLQUNKLEdBQUksS0FDSixTQUFVLFdBQ1YsVUFBVyxZQUNYLGlCQUFrQixtQkFDbEIsb0JBQXFCLG1CQUNyQixJQUFLLE1BQ0wsU0FBVSxXQUNWLDBCQUEyQiw0QkFDM0IsS0FBTSxPQUNOLFlBQWEsY0FDYixlQUFnQixjQUNoQixTQUFVLFdBQ1YsWUFBYSxXQUNiLE9BQVEsU0FDUixVQUFXLFlBQ1gsWUFBYSxjQUNiLGFBQWMsZUFDZCxnQkFBaUIsZUFDakIsV0FBWSxhQUNaLGNBQWUsYUFDZixVQUFXLFlBQ1gsV0FBWSxhQUNaLGNBQWUsYUFDZixTQUFVLFdBQ1YsWUFBYSxXQUNiLGVBQWdCLGlCQUNoQixtQkFBb0IsaUJBQ3BCLFlBQWEsY0FDYixlQUFnQixjQUNoQixVQUFXLFlBQ1gsYUFBYyxZQUNkLFlBQWEsY0FDYixlQUFnQixjQUNoQixXQUFZLGFBQ1osY0FBZSxhQUNmLE9BQVEsU0FDUixLQUFNLE9BQ04sR0FBSSxLQUNKLEdBQUksS0FDSixHQUFJLEtBQ0osR0FBSSxLQUNKLFVBQVcsWUFDWCxhQUFjLFlBQ2QsMkJBQTRCLDZCQUM1QiwrQkFBZ0MsNkJBQ2hDLHlCQUEwQiwyQkFDMUIsNkJBQThCLDJCQUM5QixTQUFVLFdBQ1Ysa0JBQW1CLG9CQUNuQixjQUFlLGdCQUNmLFFBQVMsVUFDVCxVQUFXLFlBQ1gsY0FBZSxZQUNmLGFBQWMsZUFDZCxpQkFBa0IsZUFDbEIsWUFBYSxjQUNiLGVBQWdCLGlCQUNoQixrQkFBbUIsaUJBQ25CLElBQUssTUFDTCxHQUFJLEtBQ0osT0FBUSxTQUNSLFVBQVcsWUFDWCxHQUFJLEtBQ0osR0FBSSxLQUNKLEdBQUksS0FDSixHQUFJLEtBQ0osRUFBRyxJQUNILGFBQWMsZUFDZCxpQkFBa0IsbUJBQ2xCLFFBQVMsVUFDVCxVQUFXLFlBQ1gsV0FBWSxhQUNaLFNBQVUsV0FDVixhQUFjLGVBQ2QsY0FBZSxnQkFDZixpQkFBa0IsZ0JBQ2xCLGNBQWUsZ0JBQ2YsaUJBQWtCLGdCQUNsQixrQkFBbUIsb0JBQ25CLE1BQU8sUUFDUCxVQUFXLFlBQ1gsYUFBYyxZQUNkLGFBQWMsZUFDZCxVQUFXLFlBQ1gsYUFBYyxZQUNkLFlBQWEsY0FDYixlQUFnQixjQUNoQixZQUFhLGNBQ2IsWUFBYSxjQUNiLEtBQU0sT0FDTixpQkFBa0IsbUJBQ2xCLFVBQVcsWUFDWCxhQUFjLGVBQ2QsS0FBTSxPQUNOLFdBQVksYUFDWixPQUFRLFNBQ1IsUUFBUyxVQUNULFNBQVUsV0FDVixNQUFPLFFBQ1AsT0FBUSxTQUNSLFlBQWEsY0FDYixPQUFRLFNBQ1IsU0FBVSxXQUNWLGlCQUFrQixtQkFDbEIsb0JBQXFCLG1CQUNyQixrQkFBbUIsb0JBQ25CLHFCQUFzQixvQkFDdEIsV0FBWSxhQUNaLGNBQWUsYUFDZixRQUFTLFVBQ1QsV0FBWSxVQUNaLFdBQVksYUFDWixvQkFBcUIsc0JBQ3JCLGlCQUFrQixtQkFDbEIsYUFBYyxlQUNkLGNBQWUsZ0JBQ2YsaUJBQWtCLGdCQUNsQixPQUFRLFNBQ1IsVUFBVyxZQUNYLFVBQVcsWUFDWCxVQUFXLFlBQ1gsUUFBUyxVQUNULGNBQWUsZ0JBQ2Ysb0JBQXFCLHNCQUNyQixPQUFRLFNBQ1IsY0FBZSxnQkFDZixvQkFBcUIsc0JBQ3JCLGVBQWdCLGlCQUNoQixTQUFVLFdBQ1YsRUFBRyxJQUNILE9BQVEsU0FDUixLQUFNLE9BQ04sS0FBTSxPQUNOLGdCQUFpQixrQkFDakIsbUJBQW9CLGtCQUNwQixZQUFhLGNBQ2IsVUFBVyxZQUNYLG1CQUFvQixxQkFDcEIsaUJBQWtCLG1CQUNsQixTQUFVLFdBQ1YsUUFBUyxVQUNULE9BQVEsU0FDUixRQUFTLFVBQ1QsT0FBUSxTQUNSLEdBQUksS0FDSixHQUFJLEtBQ0osTUFBTyxRQUNQLFNBQVUsV0FDVixLQUFNLE9BQ04sZUFBZ0IsaUJBQ2hCLGtCQUFtQixpQkFDbkIsTUFBTyxRQUNQLFFBQVMsVUFDVCxpQkFBa0IsbUJBQ2xCLGlCQUFrQixtQkFDbEIsTUFBTyxRQUNQLGFBQWMsZUFDZCxZQUFhLGNBQ2IsYUFBYyxlQUNkLE1BQU8sUUFDUCxNQUFPLFFBQ1AsWUFBYSxjQUNiLFVBQVcsWUFDWCxhQUFjLFlBQ2QsWUFBYSxjQUNiLGVBQWdCLGNBQ2hCLHNCQUF1Qix3QkFDdkIseUJBQTBCLHdCQUMxQix1QkFBd0IseUJBQ3hCLDBCQUEyQix5QkFDM0IsT0FBUSxTQUNSLE9BQVEsU0FDUixnQkFBaUIsa0JBQ2pCLG1CQUFvQixrQkFDcEIsaUJBQWtCLG1CQUNsQixvQkFBcUIsbUJBQ3JCLGNBQWUsZ0JBQ2YsaUJBQWtCLGdCQUNsQixlQUFnQixpQkFDaEIsa0JBQW1CLGlCQUNuQixpQkFBa0IsbUJBQ2xCLG9CQUFxQixtQkFDckIsWUFBYSxjQUNiLGVBQWdCLGNBQ2hCLGNBQWUsZ0JBQ2YsaUJBQWtCLGdCQUNsQiwrQkFBZ0MsaUNBQ2hDLHlCQUEwQiwyQkFDMUIsYUFBYyxlQUNkLGVBQWdCLGlCQUNoQixZQUFhLGNBQ2IsUUFBUyxVQUNULFFBQVMsVUFDVCxXQUFZLGFBQ1osY0FBZSxhQUNmLGVBQWdCLGlCQUNoQixrQkFBbUIsaUJBQ25CLFdBQVksYUFDWixjQUFlLGdCQUNmLGlCQUFrQixnQkFDbEIsR0FBSSxLQUNKLFVBQVcsWUFDWCxnQkFBaUIsa0JBQ2pCLG1CQUFvQixrQkFDcEIsT0FBUSxTQUNSLEdBQUksS0FDSixHQUFJLEtBQ0osa0JBQW1CLG9CQUNuQixxQkFBc0Isb0JBQ3RCLG1CQUFvQixxQkFDcEIsc0JBQXVCLHFCQUN2QixRQUFTLFVBQ1QsWUFBYSxjQUNiLGVBQWdCLGNBQ2hCLGFBQWMsZUFDZCxnQkFBaUIsZUFDakIsV0FBWSxhQUNaLGVBQWdCLGFBQ2hCLGFBQWMsZUFDZCxZQUFhLGNBQ2IsZUFBZ0IsY0FDaEIsT0FBUSxTQUNSLGFBQWMsZUFDZCxnQkFBaUIsZUFDakIsUUFBUyxVQUNULFNBQVUsV0FDVixhQUFjLFdBQ2QsWUFBYSxjQUNiLGdCQUFpQixjQUNqQixZQUFhLGNBQ2IsZ0JBQWlCLGNBQ2pCLFNBQVUsV0FDVixZQUFhLFdBQ2IsYUFBYyxlQUNkLGdCQUFpQixlQUNqQixRQUFTLFVBQ1QsV0FBWSxhQUNaLFdBQVksYUFDWixjQUFlLGdCQUNmLGlCQUFrQixnQkFDbEIsTUFBTyxRQUNQLE9BQVEsU0FDUixZQUFhLGNBQ2IsZUFBZ0IsY0FDaEIsWUFBYSxjQUNiLGVBQWdCLGNBQ2hCLEdBQUksS0FDSixHQUFJLEtBQ0osRUFBRyxJQUNILGlCQUFrQixtQkFDbEIsUUFBUyxVQUNULFdBQVksVUFDWixhQUFjLGVBQ2QsZ0JBQWlCLGVBQ2pCLGFBQWMsZUFDZCxnQkFBaUIsZUFDakIsVUFBVyxZQUNYLGFBQWMsWUFDZCxVQUFXLFlBQ1gsYUFBYyxZQUNkLFVBQVcsWUFDWCxhQUFjLFlBQ2QsV0FBWSxhQUNaLGNBQWUsYUFDZixVQUFXLFlBQ1gsYUFBYyxZQUNkLFFBQVMsVUFDVCxXQUFZLFVBQ1osUUFBUyxVQUNULFdBQVksVUFDWixNQUFPLFFBQ1AsWUFBYSxXQUNiLFdBQVksYUFDWixjQUFlLGFBQ2YsU0FBVSxXQUNWLEdBQUksS0FDSixHQUFJLEtBQ0osRUFBRyxJQUNILGlCQUFrQixtQkFDbEIsRUFBRyxJQUNILFdBQVksWUFDZCxFQUNBLEdBQWlCLENBQ2YsZUFBZ0IsRUFDaEIsbUJBQW9CLEVBQ3BCLGVBQWdCLEVBQ2hCLGdCQUFpQixFQUNqQixjQUFlLEVBQ2YsZUFBZ0IsRUFDaEIsb0JBQXFCLEVBQ3JCLGFBQWMsRUFDZCx1QkFBd0IsRUFDeEIsb0JBQXFCLEVBQ3JCLGVBQWdCLEVBQ2hCLGdCQUFpQixFQUNqQixnQkFBaUIsRUFDakIsYUFBYyxFQUNkLGFBQWMsRUFDZCxpQkFBa0IsRUFDbEIsdUJBQXdCLEVBQ3hCLG1CQUFvQixFQUNwQixtQkFBb0IsRUFDcEIsZUFBZ0IsRUFDaEIsZ0JBQWlCLEVBQ2pCLGdCQUFpQixFQUNqQixnQkFBaUIsRUFDakIsWUFBYSxFQUNiLGdCQUFpQixFQUNqQixnQkFBaUIsRUFDakIsZ0JBQWlCLEVBQ2pCLGlCQUFrQixFQUNsQixjQUFlLEVBQ2YsWUFBYSxFQUNiLFlBQWEsRUFDYixnQkFBaUIsRUFDakIsa0JBQW1CLEVBQ25CLGVBQWdCLEVBQ2hCLHdCQUF5QixFQUN6QixnQkFBaUIsRUFDakIsZ0JBQWlCLEVBQ2pCLGVBQWdCLEVBQ2hCLGdCQUFpQixFQUNqQixtQkFBb0IsRUFDcEIsb0JBQXFCLEVBQ3JCLGNBQWUsRUFDZixrQkFBbUIsRUFDbkIsWUFBYSxFQUNiLGdCQUFpQixFQUNqQixnQkFBaUIsRUFDakIsZ0JBQWlCLEVBQ2pCLGVBQWdCLEVBQ2hCLGVBQWdCLENBQ2xCLEVBQ0EsR0FBcUIsQ0FBQyxFQUN0QixHQUFVLE9BQ1IsdU9BQ0YsRUFDQSxHQUFlLE9BQ2IsMk9BQ0YsRUFDQSxHQUFtQixHQUNuQixHQUFtQixDQUFDLEVBQ3BCLEdBQW1CLE9BQ25CLEdBQTJCLFlBQzNCLEdBQVEsT0FDTix1T0FDRixFQUNBLEdBQWEsT0FDWCwyT0FDRixFQUNBLEdBQ0UsMkhBQ0YsR0FBd0IsS0FDeEIsR0FBZ0IsS0FDaEIsR0FBZSxLQUNmLEdBQXVCLEdBQ3ZCLEdBQWdDLEdBQ2xDLEdBQUksR0FDRixHQUFJLENBQ0YsSUFBSSxHQUFtQixDQUFDLEVBQ3hCLE9BQU8sZUFBZSxHQUFrQixVQUFXLENBQ2pELFlBQWMsRUFBRyxDQUNmLEdBQWdDLEdBRXBDLENBQUMsRUFDRCxPQUFPLGlCQUFpQixPQUFRLEdBQWtCLEVBQWdCLEVBQ2xFLE9BQU8sb0JBQW9CLE9BQVEsR0FBa0IsRUFBZ0IsUUFDOUQsRUFBUCxDQUNBLEdBQWdDLEdBRXBDLElBQUksR0FBTyxLQUNULEdBQVksS0FDWixHQUFlLEtBQ2YsR0FBaUIsQ0FDZixXQUFZLEVBQ1osUUFBUyxFQUNULFdBQVksRUFDWixrQkFBb0IsQ0FBQyxFQUFPLENBQzFCLE9BQU8sRUFBTSxXQUFhLEtBQUssSUFBSSxHQUVyQyxpQkFBa0IsRUFDbEIsVUFBVyxDQUNiLEVBQ0EsR0FBaUIsR0FBcUIsRUFBYyxFQUNwRCxHQUFtQixHQUFPLENBQUMsRUFBRyxHQUFnQixDQUFFLEtBQU0sRUFBRyxPQUFRLENBQUUsQ0FBQyxFQUNwRSxHQUFtQixHQUFxQixFQUFnQixFQUN4RCxHQUNBLEdBQ0EsR0FDQSxHQUFzQixHQUFPLENBQUMsRUFBRyxHQUFrQixDQUNqRCxRQUFTLEVBQ1QsUUFBUyxFQUNULFFBQVMsRUFDVCxRQUFTLEVBQ1QsTUFBTyxFQUNQLE1BQU8sRUFDUCxRQUFTLEVBQ1QsU0FBVSxFQUNWLE9BQVEsRUFDUixRQUFTLEVBQ1QsaUJBQWtCLEdBQ2xCLE9BQVEsRUFDUixRQUFTLEVBQ1Qsc0JBQXdCLENBQUMsRUFBTyxDQUM5QixPQUFrQixFQUFNLGdCQUFaLE9BQ1IsRUFBTSxjQUFnQixFQUFNLFdBQzFCLEVBQU0sVUFDTixFQUFNLFlBQ1IsRUFBTSxlQUVaLGtCQUFvQixDQUFDLEVBQU8sQ0FDMUIsR0FBSSxjQUFlLEVBQU8sT0FBTyxFQUFNLFVBT3ZDLE9BTkEsSUFBVSxLQUNQLElBQWtDLEVBQU0sT0FBdEIsYUFDYixHQUFnQixFQUFNLFFBQVUsR0FBZSxRQUNoRCxHQUFnQixFQUFNLFFBQVUsR0FBZSxTQUMvQyxHQUFnQixHQUFnQixFQUNwQyxHQUFpQixHQUNiLElBRVQsa0JBQW9CLENBQUMsRUFBTyxDQUMxQixNQUFPLGNBQWUsRUFBUSxFQUFNLFVBQVksR0FFcEQsQ0FBQyxFQUNELEdBQXNCLEdBQXFCLEVBQW1CLEVBQzlELEdBQXFCLEdBQU8sQ0FBQyxFQUFHLEdBQXFCLENBQUUsYUFBYyxDQUFFLENBQUMsRUFDeEUsR0FBcUIsR0FBcUIsRUFBa0IsRUFDNUQsR0FBc0IsR0FBTyxDQUFDLEVBQUcsR0FBa0IsQ0FBRSxjQUFlLENBQUUsQ0FBQyxFQUN2RSxHQUFzQixHQUFxQixFQUFtQixFQUM5RCxHQUEwQixHQUFPLENBQUMsRUFBRyxHQUFnQixDQUNuRCxjQUFlLEVBQ2YsWUFBYSxFQUNiLGNBQWUsQ0FDakIsQ0FBQyxFQUNELEdBQTBCLEdBQXFCLEVBQXVCLEVBQ3RFLEdBQTBCLEdBQU8sQ0FBQyxFQUFHLEdBQWdCLENBQ25ELHNCQUF3QixDQUFDLEVBQU8sQ0FDOUIsTUFBTyxrQkFBbUIsRUFDdEIsRUFBTSxjQUNOLE9BQU8sY0FFZixDQUFDLEVBQ0QsR0FBMEIsR0FBcUIsRUFBdUIsRUFDdEUsR0FBNEIsR0FBTyxDQUFDLEVBQUcsR0FBZ0IsQ0FBRSxLQUFNLENBQUUsQ0FBQyxFQUNsRSxHQUE0QixHQUMxQixFQUNGLEVBQ0EsR0FBc0IsR0FDdEIsR0FBZSxDQUNiLElBQUssU0FDTCxTQUFVLElBQ1YsS0FBTSxZQUNOLEdBQUksVUFDSixNQUFPLGFBQ1AsS0FBTSxZQUNOLElBQUssU0FDTCxJQUFLLEtBQ0wsS0FBTSxjQUNOLEtBQU0sY0FDTixPQUFRLGFBQ1IsZ0JBQWlCLGNBQ25CLEVBQ0EsR0FBaUIsQ0FDZixFQUFHLFlBQ0gsRUFBRyxNQUNILEdBQUksUUFDSixHQUFJLFFBQ0osR0FBSSxRQUNKLEdBQUksVUFDSixHQUFJLE1BQ0osR0FBSSxRQUNKLEdBQUksV0FDSixHQUFJLFNBQ0osR0FBSSxJQUNKLEdBQUksU0FDSixHQUFJLFdBQ0osR0FBSSxNQUNKLEdBQUksT0FDSixHQUFJLFlBQ0osR0FBSSxVQUNKLEdBQUksYUFDSixHQUFJLFlBQ0osR0FBSSxTQUNKLEdBQUksU0FDSixJQUFLLEtBQ0wsSUFBSyxLQUNMLElBQUssS0FDTCxJQUFLLEtBQ0wsSUFBSyxLQUNMLElBQUssS0FDTCxJQUFLLEtBQ0wsSUFBSyxLQUNMLElBQUssS0FDTCxJQUFLLE1BQ0wsSUFBSyxNQUNMLElBQUssTUFDTCxJQUFLLFVBQ0wsSUFBSyxhQUNMLElBQUssTUFDUCxFQUNBLEdBQW9CLENBQ2xCLElBQUssU0FDTCxRQUFTLFVBQ1QsS0FBTSxVQUNOLE1BQU8sVUFDVCxFQUNBLEdBQXlCLEdBQU8sQ0FBQyxFQUFHLEdBQWtCLENBQ3BELFlBQWMsQ0FBQyxFQUFhLENBQzFCLEdBQUksRUFBWSxJQUFLLENBQ25CLElBQUksRUFBTSxHQUFhLEVBQVksTUFBUSxFQUFZLElBQ3ZELEdBQXVCLElBQW5CLGVBQXdCLE9BQU8sRUFFckMsT0FBc0IsRUFBWSxPQUEzQixZQUNELEVBQWMsR0FBaUIsQ0FBVyxFQUNyQyxJQUFQLEdBQXFCLFFBQVUsT0FBTyxhQUFhLENBQVcsR0FDaEQsRUFBWSxPQUExQixXQUE4QyxFQUFZLE9BQXhCLFFBQ2hDLEdBQWUsRUFBWSxVQUFZLGVBQ3ZDLElBRVIsS0FBTSxFQUNOLFNBQVUsRUFDVixRQUFTLEVBQ1QsU0FBVSxFQUNWLE9BQVEsRUFDUixRQUFTLEVBQ1QsT0FBUSxFQUNSLE9BQVEsRUFDUixpQkFBa0IsR0FDbEIsaUJBQW1CLENBQUMsRUFBTyxDQUN6QixPQUFzQixFQUFNLE9BQXJCLFdBQTRCLEdBQWlCLENBQUssRUFBSSxHQUUvRCxnQkFBa0IsQ0FBQyxFQUFPLENBQ3hCLE9BQXFCLEVBQU0sT0FBcEIsV0FBd0MsRUFBTSxPQUFsQixRQUMvQixFQUFNLFFBQ04sR0FFTixjQUFnQixDQUFDLEVBQU8sQ0FDdEIsT0FBc0IsRUFBTSxPQUFyQixXQUNILEdBQWlCLENBQUssRUFDUixFQUFNLE9BQXBCLFdBQXdDLEVBQU0sT0FBbEIsUUFDMUIsRUFBTSxRQUNOLEVBRVYsQ0FBQyxFQUNELEdBQXlCLEdBQXFCLEVBQXNCLEVBQ3BFLEdBQXdCLEdBQU8sQ0FBQyxFQUFHLEdBQXFCLENBQ3RELFVBQVcsRUFDWCxNQUFPLEVBQ1AsT0FBUSxFQUNSLFNBQVUsRUFDVixtQkFBb0IsRUFDcEIsTUFBTyxFQUNQLE1BQU8sRUFDUCxNQUFPLEVBQ1AsWUFBYSxFQUNiLFVBQVcsQ0FDYixDQUFDLEVBQ0QsR0FBd0IsR0FBcUIsRUFBcUIsRUFDbEUsR0FBc0IsR0FBTyxDQUFDLEVBQUcsR0FBa0IsQ0FDakQsUUFBUyxFQUNULGNBQWUsRUFDZixlQUFnQixFQUNoQixPQUFRLEVBQ1IsUUFBUyxFQUNULFFBQVMsRUFDVCxTQUFVLEVBQ1YsaUJBQWtCLEVBQ3BCLENBQUMsRUFDRCxHQUFzQixHQUFxQixFQUFtQixFQUM5RCxHQUEyQixHQUFPLENBQUMsRUFBRyxHQUFnQixDQUNwRCxhQUFjLEVBQ2QsWUFBYSxFQUNiLGNBQWUsQ0FDakIsQ0FBQyxFQUNELEdBQTJCLEdBQXFCLEVBQXdCLEVBQ3hFLEdBQXNCLEdBQU8sQ0FBQyxFQUFHLEdBQXFCLENBQ3BELGVBQWlCLENBQUMsRUFBTyxDQUN2QixNQUFPLFdBQVksRUFDZixFQUFNLFFBQ04sZ0JBQWlCLElBQ2QsRUFBTSxZQUNQLEdBRVIsZUFBaUIsQ0FBQyxFQUFPLENBQ3ZCLE1BQU8sV0FBWSxFQUNmLEVBQU0sUUFDTixnQkFBaUIsSUFDZCxFQUFNLGFBQ1AsZUFBZ0IsSUFDYixFQUFNLFdBQ1AsR0FFVixPQUFRLEVBQ1IsVUFBVyxDQUNiLENBQUMsRUFDRCxHQUFzQixHQUFxQixFQUFtQixFQUM5RCxHQUF1QixHQUFPLENBQUMsRUFBRyxHQUFnQixDQUNoRCxTQUFVLEVBQ1YsU0FBVSxDQUNaLENBQUMsRUFDRCxHQUF1QixHQUFxQixFQUFvQixFQUNoRSxHQUFlLENBQUMsRUFBRyxHQUFJLEdBQUksRUFBRSxFQUM3QixHQUFnQixJQUNoQixHQUF5QixJQUFhLHFCQUFzQixPQUM1RCxHQUFlLEtBQ2pCLElBQ0UsaUJBQWtCLFdBQ2pCLEdBQWUsU0FBUyxjQUMzQixJQUFJLEdBQ0EsSUFBYSxjQUFlLFNBQVcsR0FDekMsR0FDRSxNQUNFLElBQ0MsSUFBZ0IsRUFBSSxJQUFnQixJQUFNLElBQy9DLEdBQWdCLEdBQ2hCLEdBQWdCLE9BQU8sYUFBYSxFQUFhLEVBQ2pELEdBQW1CLEdBQ25CLEdBQWMsR0FDZCxHQUFzQixDQUNwQixNQUFPLEdBQ1AsS0FBTSxHQUNOLFNBQVUsR0FDVixpQkFBa0IsR0FDbEIsTUFBTyxHQUNQLE1BQU8sR0FDUCxPQUFRLEdBQ1IsU0FBVSxHQUNWLE1BQU8sR0FDUCxPQUFRLEdBQ1IsSUFBSyxHQUNMLEtBQU0sR0FDTixLQUFNLEdBQ04sSUFBSyxHQUNMLEtBQU0sRUFDUixFQUNBLEdBQWtCLEtBQ2xCLEdBQXNCLEtBQ3RCLEdBQXdCLEdBQzFCLEtBQ0csR0FDQyxHQUFpQixPQUFPLEtBQ3RCLFNBQVMsY0FBZ0IsRUFBSSxTQUFTLGVBQzVDLElBQUksVUFBaUMsT0FBTyxLQUE3QixXQUFrQyxPQUFPLEdBQUssR0FDM0QsR0FDRSxJQUFhLGlCQUFrQixVQUFZLElBQU0sU0FBUyxhQUM1RCxHQUFnQixLQUNoQixHQUFvQixLQUNwQixHQUFnQixLQUNoQixHQUFZLEdBQ1osR0FBaUIsQ0FDZixhQUFjLEdBQWMsWUFBYSxjQUFjLEVBQ3ZELG1CQUFvQixHQUFjLFlBQWEsb0JBQW9CLEVBQ25FLGVBQWdCLEdBQWMsWUFBYSxnQkFBZ0IsRUFDM0QsY0FBZSxHQUFjLGFBQWMsZUFBZSxFQUMxRCxnQkFBaUIsR0FBYyxhQUFjLGlCQUFpQixFQUM5RCxpQkFBa0IsR0FBYyxhQUFjLGtCQUFrQixFQUNoRSxjQUFlLEdBQWMsYUFBYyxlQUFlLENBQzVELEVBQ0EsR0FBcUIsQ0FBQyxFQUN0QixHQUFRLENBQUMsRUFDWCxLQUNJLEdBQVEsU0FBUyxjQUFjLEtBQUssRUFBRSxPQUN4QyxtQkFBb0IsaUJBQ1YsR0FBZSxhQUFhLGlCQUM3QixHQUFlLG1CQUFtQixpQkFDbEMsR0FBZSxlQUFlLFlBQ3ZDLG9CQUFxQixnQkFDWixHQUFlLGNBQWMsWUFDeEMsSUFBSSxHQUFnQixHQUEyQixjQUFjLEVBQzNELEdBQXNCLEdBQTJCLG9CQUFvQixFQUNyRSxHQUFrQixHQUEyQixnQkFBZ0IsRUFDN0QsR0FBaUIsR0FBMkIsZUFBZSxFQUMzRCxHQUFtQixHQUEyQixpQkFBaUIsRUFDL0QsR0FBb0IsR0FBMkIsa0JBQWtCLEVBQ2pFLEdBQWlCLEdBQTJCLGVBQWUsRUFDM0QsR0FBNkIsSUFBSSxJQUNqQyxHQUNFLDZuQkFBNm5CLE1BQzNuQixHQUNGLEVBQ0YsR0FBbUIsRUFDbkIsR0FBb0IsRUFDcEIsR0FBbUMsRUFDbkMsR0FBbUIsQ0FBQyxFQUNwQixHQUF3QixFQUN4QixHQUEyQixFQUMzQixHQUFxQixDQUFDLEVBQ3hCLE9BQU8sT0FBTyxFQUFrQixFQUNoQyxJQUFJLEdBQWdCLEtBQ2xCLEdBQW1CLEtBQ25CLEdBQVMsRUFDVCxHQUFpQixFQUNqQixHQUFjLEVBQ2QsR0FBbUIsRUFDbkIsR0FBb0IsR0FDcEIsR0FBNkIsR0FDN0IsR0FBZ0IsZ0JBQ2hCLEdBQWtCLEdBQ2xCLEdBQWtCLEdBQ2xCLEdBQW9CLEtBQ3BCLEdBQXlCLEdBQ3pCLEdBQXdCLEdBQ3hCLEdBQXdCLEdBQ3hCLEdBQTBCLENBQ3hCLHNDQUF3QyxFQUFHLEdBQzNDLDRDQUE4QyxFQUFHLEdBQ2pELG1DQUFxQyxFQUFHLEdBQ3hDLGtDQUFvQyxFQUFHLEdBQ3ZDLCtCQUFpQyxFQUFHLEVBQ3RDLEVBQ0EsR0FBb0MsQ0FBQyxFQUNyQyxHQUEyQyxDQUFDLEVBQzVDLEdBQTJDLENBQUMsRUFDNUMsR0FBa0QsQ0FBQyxFQUNuRCxHQUFxQyxDQUFDLEVBQ3RDLEdBQTRDLENBQUMsRUFDN0MsR0FBK0IsSUFBSSxJQUNyQyxHQUF3QixzQ0FBeUMsQ0FDL0QsRUFDQSxFQUNBLENBQ0EsR0FBNkIsSUFBSSxFQUFNLElBQUksV0FDbEIsRUFBUyxxQkFBL0IsWUFDUSxFQUFTLG1CQUFtQiwrQkFBbkMsSUFDQSxHQUFrQyxLQUFLLENBQUssRUFDOUMsRUFBTSxLQUFPLFdBQ1csRUFBUyw0QkFBL0IsWUFDQSxHQUF5QyxLQUFLLENBQUssU0FDL0IsRUFBUyw0QkFBL0IsWUFFSSxFQUFTLDBCQUEwQiwrQkFEckMsSUFFQSxHQUF5QyxLQUFLLENBQUssRUFDckQsRUFBTSxLQUFPLFdBQ1csRUFBUyxtQ0FBL0IsWUFDQSxHQUFnRCxLQUFLLENBQUssU0FDdEMsRUFBUyxzQkFBL0IsWUFDUyxFQUFTLG9CQUFvQiwrQkFBcEMsSUFDQSxHQUFtQyxLQUFLLENBQUssRUFDL0MsRUFBTSxLQUFPLFdBQ1csRUFBUyw2QkFBL0IsWUFDQSxHQUEwQyxLQUFLLENBQUssSUFFMUQsR0FBd0IsNENBQStDLEVBQUcsQ0FDeEUsSUFBSSxFQUFnQyxJQUFJLElBQ3hDLEVBQUksR0FBa0MsU0FDbkMsR0FBa0MsZ0JBQWlCLENBQUMsRUFBTyxDQUMxRCxFQUE4QixJQUM1QixFQUEwQixDQUFLLEdBQUssV0FDdEMsRUFDQSxHQUE2QixJQUFJLEVBQU0sSUFBSSxFQUM1QyxFQUNBLEdBQW9DLENBQUMsR0FDeEMsSUFBSSxFQUF1QyxJQUFJLElBQy9DLEVBQUksR0FBeUMsU0FDMUMsR0FBeUMsZ0JBQWlCLENBQUMsRUFBTyxDQUNqRSxFQUFxQyxJQUNuQyxFQUEwQixDQUFLLEdBQUssV0FDdEMsRUFDQSxHQUE2QixJQUFJLEVBQU0sSUFBSSxFQUM1QyxFQUNBLEdBQTJDLENBQUMsR0FDL0MsSUFBSSxFQUF1QyxJQUFJLElBQy9DLEVBQUksR0FBeUMsU0FDMUMsR0FBeUMsZ0JBQWlCLENBQUMsRUFBTyxDQUNqRSxFQUFxQyxJQUNuQyxFQUEwQixDQUFLLEdBQUssV0FDdEMsRUFDQSxHQUE2QixJQUFJLEVBQU0sSUFBSSxFQUM1QyxFQUNBLEdBQTJDLENBQUMsR0FDL0MsSUFBSSxFQUE4QyxJQUFJLElBQ3RELEVBQUksR0FBZ0QsU0FDakQsR0FBZ0QsZ0JBQ3RDLENBQUMsRUFBTyxDQUNmLEVBQTRDLElBQzFDLEVBQTBCLENBQUssR0FBSyxXQUN0QyxFQUNBLEdBQTZCLElBQUksRUFBTSxJQUFJLEVBRS9DLEVBQ0MsR0FBa0QsQ0FBQyxHQUN0RCxJQUFJLEVBQWlDLElBQUksSUFDekMsRUFBSSxHQUFtQyxTQUNwQyxHQUFtQyxnQkFBaUIsQ0FBQyxFQUFPLENBQzNELEVBQStCLElBQzdCLEVBQTBCLENBQUssR0FBSyxXQUN0QyxFQUNBLEdBQTZCLElBQUksRUFBTSxJQUFJLEVBQzVDLEVBQ0EsR0FBcUMsQ0FBQyxHQUN6QyxJQUFJLEVBQXdDLElBQUksSUFTaEQsR0FSQSxFQUFJLEdBQTBDLFNBQzNDLEdBQTBDLGdCQUFpQixDQUFDLEVBQU8sQ0FDbEUsRUFBc0MsSUFDcEMsRUFBMEIsQ0FBSyxHQUFLLFdBQ3RDLEVBQ0EsR0FBNkIsSUFBSSxFQUFNLElBQUksRUFDNUMsRUFDQSxHQUE0QyxDQUFDLEdBQzVDLEVBQUksRUFBcUMsS0FBTSxDQUNqRCxJQUFJLEVBQWMsRUFDaEIsQ0FDRixFQUNBLFFBQVEsTUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBLDRDQUNBLENBQ0YsRUFFRixFQUFJLEVBQTRDLE9BQzVDLEVBQWMsRUFDZCxDQUNGLEVBQ0EsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSw0Q0FDQSxDQUNGLEdBQ0YsRUFBSSxFQUFzQyxPQUN0QyxFQUFjLEVBQ2QsQ0FDRixFQUNBLFFBQVEsTUFDTjtBQUFBO0FBQUE7QUFBQTtBQUFBLDRDQUNBLENBQ0YsR0FDRixFQUFJLEVBQThCLE9BQzlCLEVBQWMsRUFBa0IsQ0FBNkIsRUFDL0QsUUFBUSxLQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSw0Q0FDQSxDQUNGLEdBQ0YsRUFBSSxFQUFxQyxPQUNyQyxFQUFjLEVBQ2QsQ0FDRixFQUNBLFFBQVEsS0FDTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSw0Q0FDQSxDQUNGLEdBQ0YsRUFBSSxFQUErQixPQUMvQixFQUFjLEVBQWtCLENBQThCLEVBQ2hFLFFBQVEsS0FDTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsNENBQ0EsQ0FDRixJQUVKLElBQUksR0FBOEIsSUFBSSxJQUNwQyxHQUE0QixJQUFJLElBQ2xDLEdBQXdCLG1DQUFzQyxDQUM1RCxFQUNBLEVBQ0EsQ0FDQSxJQUFJLEVBQWEsS0FDakIsUUFBUyxFQUFPLEVBQWdCLElBQVQsTUFDckIsRUFBSyxLQUFPLEtBQXFCLEVBQWEsR0FDM0MsRUFBTyxFQUFLLE9BQ2pCLEFBQVMsSUFBVCxLQUNJLFFBQVEsTUFDTixxSUFDRixHQUNDLEdBQTBCLElBQUksRUFBTSxJQUFJLElBQ3ZDLEVBQU8sR0FBNEIsSUFBSSxDQUFVLEVBQzNDLEVBQU0sS0FBSyxjQUFuQixNQUNVLEVBQU0sS0FBSyxtQkFBbkIsTUFDVSxJQUFULGFBQ3VCLEVBQVMsa0JBQS9CLGNBQ1EsSUFBTixTQUNGLEVBQU8sQ0FBQyxFQUFJLEdBQTRCLElBQUksRUFBWSxDQUFJLEdBQ2hFLEVBQUssS0FBSyxDQUFLLElBRXJCLEdBQXdCLGtDQUFxQyxFQUFHLENBQzlELEdBQTRCLGdCQUFpQixDQUFDLEVBQVksQ0FDeEQsR0FBVSxFQUFXLFNBQWpCLEVBQXlCLENBQzNCLElBQUksRUFBYSxFQUFXLEdBQzFCLEVBQWMsSUFBSSxJQUNwQixFQUFXLGdCQUFpQixDQUFDLEVBQU8sQ0FDbEMsRUFBWSxJQUFJLEVBQTBCLENBQUssR0FBSyxXQUFXLEVBQy9ELEdBQTBCLElBQUksRUFBTSxJQUFJLEVBQ3pDLEVBQ0QsSUFBSSxFQUFjLEVBQWtCLENBQVcsRUFDL0MsR0FBa0IsVUFBcUIsRUFBRyxDQUN4QyxRQUFRLE1BQ047QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsMkVBQ0EsQ0FDRixFQUNELEdBRUosR0FFSCxHQUF3QiwrQkFBa0MsRUFBRyxDQUMzRCxHQUFvQyxDQUFDLEVBQ3JDLEdBQTJDLENBQUMsRUFDNUMsR0FBMkMsQ0FBQyxFQUM1QyxHQUFrRCxDQUFDLEVBQ25ELEdBQXFDLENBQUMsRUFDdEMsR0FBNEMsQ0FBQyxFQUM3QyxHQUE4QixJQUFJLEtBRXBDLElBQUksR0FBaUIsSUFBSSxRQUN2QixHQUFZLENBQUMsRUFDYixHQUFpQixFQUNqQixHQUFtQixLQUNuQixHQUFnQixFQUNoQixHQUFVLENBQUMsRUFDWCxHQUFlLEVBQ2YsR0FBc0IsS0FDdEIsR0FBZ0IsRUFDaEIsR0FBc0IsR0FDdEIsR0FBdUIsS0FDdkIsR0FBeUIsS0FDekIsR0FBYyxHQUNkLEdBQXVCLEdBQ3ZCLEdBQXVCLEtBQ3ZCLEdBQWtCLEtBQ2xCLEdBQXlCLEdBQ3pCLEdBQTZCLE1BQzNCLGdKQUNGLEVBQ0EsR0FBb0IsTUFDbEIsK1pBQ0YsRUFDQSxHQUEyQixNQUN6QixzSUFDRixFQUNBLEdBQThCLENBQzVCLGFBQWUsRUFBRyxDQUNoQixRQUFRLE1BQ04sZ0lBQ0YsRUFFSixFQUNBLEdBQW9CLEtBQ3BCLEdBQW1DLEdBQ25DLEdBQWdCLENBQ2QsbUNBQXFDLENBQUMsRUFBVyxFQUFPLEVBQVcsQ0FDakUsSUFBSSxFQUFlLEdBQ25CLEdBQWMsR0FDZCxHQUFJLENBQ0YsT0FBTyxFQUFVLEVBQU8sQ0FBUyxTQUNqQyxDQUNBLEdBQWMsR0FHcEIsRUFDQSxHQUNFLEdBQWMsNEJBQTRCLEtBQUssRUFBYSxFQUM5RCxHQUFhLENBQ1gsbUNBQXFDLENBQUMsRUFBVSxDQUM5QyxJQUFJLEVBQWUsR0FDbkIsR0FBYyxHQUNkLEdBQUksQ0FDRixPQUFPLEVBQVMsT0FBTyxTQUN2QixDQUNBLEdBQWMsR0FHcEIsRUFDQSxHQUFrQixHQUFXLDRCQUE0QixLQUFLLEVBQVUsRUFDeEUsR0FBd0IsQ0FDdEIsbUNBQXFDLENBQUMsRUFBYyxFQUFVLENBQzVELEdBQUksQ0FDRixFQUFTLGtCQUFrQixRQUNwQixFQUFQLENBQ0EsR0FBd0IsRUFBYyxFQUFhLE9BQVEsQ0FBSyxHQUd0RSxFQUNBLEdBQTZCLEdBQzNCLDRCQUNBLEtBQUssRUFBcUIsRUFDNUIsR0FBeUIsQ0FDdkIsbUNBQXFDLENBQ25DLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNBLEdBQUksQ0FDRixFQUFTLG1CQUFtQixFQUFXLEVBQVcsQ0FBUSxRQUNuRCxFQUFQLENBQ0EsR0FBd0IsRUFBYyxFQUFhLE9BQVEsQ0FBSyxHQUd0RSxFQUNBLEdBQThCLEdBQzVCLDRCQUNBLEtBQUssRUFBc0IsRUFDN0IsR0FBd0IsQ0FDdEIsbUNBQXFDLENBQUMsRUFBVSxFQUFXLENBQ3pELElBQUksRUFBUSxFQUFVLE1BQ3RCLEVBQVMsa0JBQWtCLEVBQVUsTUFBTyxDQUMxQyxlQUF5QixJQUFULEtBQWlCLEVBQVEsRUFDM0MsQ0FBQyxFQUVMLEVBQ0EsR0FBNkIsR0FDM0IsNEJBQ0EsS0FBSyxFQUFxQixFQUM1QixHQUEyQixDQUN6QixtQ0FBcUMsQ0FDbkMsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUFJLENBQ0YsRUFBUyxxQkFBcUIsUUFDdkIsRUFBUCxDQUNBLEdBQXdCLEVBQVMsRUFBd0IsQ0FBSyxHQUdwRSxFQUNBLEdBQWdDLEdBQzlCLDRCQUNBLEtBQUssRUFBd0IsRUFDL0IsR0FBYSxDQUNYLG1DQUFxQyxDQUFDLEVBQVEsQ0FDNUMsSUFBSSxFQUFTLEVBQU8sT0FHcEIsT0FGQSxFQUFTLEVBQU8sS0FDaEIsRUFBUyxFQUFPLEVBQ1IsRUFBTyxRQUFVLEVBRTdCLEVBQ0EsR0FBa0IsR0FBVyw0QkFBNEIsS0FBSyxFQUFVLEVBQ3hFLEdBQWMsQ0FDWixtQ0FBcUMsQ0FDbkMsRUFDQSxFQUNBLEVBQ0EsQ0FDQSxHQUFJLENBQ0YsRUFBUSxRQUNELEVBQVAsQ0FDQSxHQUF3QixFQUFTLEVBQXdCLENBQUssR0FHcEUsRUFDQSxHQUNFLEdBQVksNEJBQTRCLEtBQUssRUFBVyxFQUMxRCxHQUFlLENBQ2IsbUNBQXFDLENBQUMsRUFBTSxDQUMxQyxJQUFJLEVBQU8sRUFBSyxNQUNoQixPQUFPLEVBQUssRUFBSyxRQUFRLEVBRTdCLEVBQ0EsR0FDRSxHQUFhLDRCQUE0QixLQUFLLEVBQVksRUFDNUQsR0FBa0IsS0FDbEIsR0FBeUIsRUFDekIsR0FBbUIsS0FDbkIsR0FDRSxHQUEwQixHQUFtQixHQUM3QyxHQUF3QixDQUFDLEVBQ3pCLEdBQThCLENBQUMsRUFDL0IsR0FBNEIsQ0FBQyxFQUNqQyxVQUE2QixDQUFDLEVBQWEsRUFBZ0IsRUFBTyxDQUNoRSxHQUNXLElBQVQsYUFDb0IsSUFBcEIsVUFDQSxFQUFNLFVBQ0gsRUFBTSxPQUFPLFdBQXFCLEVBQU0sS0FBZCxNQUNyQixFQUFNLE9BQU8sWUFBbkIsR0FDRixDQUNBLFVBQXdCLEVBQU0sU0FBMUIsU0FDRixNQUFNLE1BQ0osaUlBQ0YsRUFDRixFQUFNLE9BQU8sVUFBWSxFQUN6QixJQUFJLEVBQWdCLEVBQTBCLENBQVcsRUFDdkQsRUFBZSxHQUFpQixPQUNsQyxJQUFLLEdBQXNCLEdBQWUsQ0FDeEMsR0FBc0IsR0FBZ0IsR0FDdEMsRUFBUSxFQUFNLE9BQ2QsRUFBYyxFQUFZLFlBQzFCLElBQUksRUFBNEIsR0FDaEMsVUFDc0IsRUFBWSxNQUFoQyxXQUNDLEVBQWUsRUFBMEIsQ0FBVyxLQUNwRCxFQUNDO0FBQUE7QUFBQSwrQkFBcUMsRUFBZSxNQUN4RCxHQUNHLElBQ0UsRUFDQztBQUFBO0FBQUEseUNBQ0EsRUFDQSxNQUNOLElBQUksRUFBcUIsR0FDekIsQUFBUSxHQUFSLE1BQ0UsSUFBZ0IsSUFDZCxFQUFnQixZQUNFLEVBQU0sTUFBMUIsU0FDSyxFQUFnQixFQUEwQixDQUFLLFNBQzVCLEVBQU0sT0FBMUIsV0FBbUMsRUFBZ0IsRUFBTSxNQUM3RCxJQUNHLEVBQ0MsK0JBQWlDLEVBQWdCLE1BQ3ZELEdBQWtCLFVBQXlCLEVBQUcsQ0FDNUMsUUFBUSxNQUNOLDBIQUNBLEVBQ0EsQ0FDRixFQUNELEtBSVAsSUFBSSxHQUF1QixHQUFzQixFQUFFLEVBQ2pELEdBQW1CLEdBQXNCLEVBQUUsRUFDM0MsR0FBK0IsR0FBYSxJQUFJLEVBQ2hELEdBQWlDLEdBQWEsQ0FBQyxFQUMvQyxHQUE2QixHQUFhLElBQUksRUFDOUMsR0FBZ0IsS0FDaEIsR0FBNkIsRUFDN0IsR0FBd0IsRUFDeEIsR0FBc0IsR0FBYSxDQUFDLEVBQ3BDLEdBQVUsRUFDVixHQUFZLEVBQ1osR0FBWSxFQUNaLEdBQVMsRUFDVCxHQUFVLEVBQ1YsVUFDeUIsa0JBQXZCLFlBQ0ksd0JBQ1MsRUFBRyxDQUNWLElBQUksRUFBWSxDQUFDLEVBQ2YsRUFBVSxLQUFLLE9BQVMsQ0FDdEIsUUFBUyxHQUNULHlCQUEyQixDQUFDLEVBQU0sRUFBVSxDQUMxQyxFQUFVLEtBQUssQ0FBUSxFQUUzQixFQUNGLEtBQUssY0FBaUIsRUFBRyxDQUN2QixFQUFPLFFBQVUsR0FDakIsRUFBVSxnQkFBaUIsQ0FBQyxFQUFVLENBQ3BDLE9BQU8sRUFBUyxFQUNqQixJQUdYLEdBQStCLDZCQUMvQixHQUEyQiwyQkFDM0IsR0FBZSxDQUNiLFNBQVUsR0FDVixTQUFVLEtBQ1YsU0FBVSxLQUNWLGNBQWUsS0FDZixlQUFnQixLQUNoQixhQUFjLEVBQ2QsaUJBQWtCLEtBQ2xCLGtCQUFtQixJQUNyQixFQUNBLEdBQTRCLEtBQzVCLEdBQStCLEVBQy9CLEdBQXVCLEVBQ3ZCLEdBQWlDLEtBQ2pDLEdBQThCLEVBQXFCLEVBQ3JELEVBQXFCLFVBQWEsQ0FBQyxFQUFZLEVBQWEsQ0FDMUQsT0FBb0IsSUFBcEIsVUFDVyxJQUFULGFBQ3NCLEVBQVksT0FBbEMsWUFDQSxHQUFvQixFQUFZLENBQVcsRUFDcEMsS0FBVCxNQUNFLEdBQTRCLEVBQVksQ0FBVyxHQUV2RCxJQUFJLEdBQWUsR0FBYSxJQUFJLEVBQ2xDLEdBQ0UsR0FBMEMsSUFBSSxJQUM5QyxHQUFtQyxJQUFJLElBQ3ZDLEdBQW1DLElBQUksSUFDdkMsR0FBMkIsSUFBSSxJQUMvQixHQUFjLEVBQ2hCLEdBQTRCLEtBQzVCLEdBQWMsS0FDZCxHQUFxQixLQUNyQixHQUErQixHQUMvQixHQUE2QyxHQUM3QyxHQUFzQyxHQUN0QyxHQUFpQixFQUNqQixHQUF1QixFQUN2QixHQUFnQixLQUNoQixHQUF3QixFQUN4QixHQUFrQixHQUNsQixFQUF1QixLQUN2QixHQUFlLEtBQ2YsR0FBMEIsR0FDMUIsR0FBNkIsR0FDM0IsV0FBOEMsRUFBRyxDQUNuRCxNQUFPLENBQUUsV0FBWSxLQUFNLE9BQVEsS0FBTSxPQUFRLEtBQU0sVUFBVyxJQUFLLEdBRXJFLEdBQXdCLENBQzFCLFlBQWEsR0FDYixJQUFLLEdBQ0wsWUFBYSxHQUNiLFdBQVksR0FDWixVQUFXLEdBQ1gsb0JBQXFCLEdBQ3JCLGdCQUFpQixHQUNqQixtQkFBb0IsR0FDcEIsUUFBUyxHQUNULFdBQVksR0FDWixPQUFRLEdBQ1IsU0FBVSxHQUNWLGNBQWUsR0FDZixpQkFBa0IsR0FDbEIsY0FBZSxHQUNmLHFCQUFzQixHQUN0QixNQUFPLEVBQ1QsRUFDQSxHQUFzQixnQkFBa0IsR0FDeEMsR0FBc0IsYUFBZSxHQUNyQyxHQUFzQix3QkFBMEIsR0FDaEQsR0FBc0IsYUFBZSxHQUNyQyxHQUFzQixlQUFpQixHQUN2QyxHQUFzQixjQUFnQixHQUN0QyxJQUFJLEdBQThCLEtBQ2hDLEdBQTJDLEtBQzNDLEdBQStCLEtBQy9CLEdBQWlDLEtBQ2pDLEdBQTJDLEtBQzNDLEdBQTRDLEtBQzVDLEdBQThDLEtBQ2hELEdBQThCLENBQzVCLG9CQUFzQixDQUFDLEVBQVMsQ0FDOUIsT0FBTyxHQUFZLENBQU8sR0FFNUIsSUFBSyxHQUNMLG9CQUFzQixDQUFDLEVBQVUsRUFBTSxDQUlyQyxPQUhBLEVBQXVCLGNBQ3ZCLEdBQWtCLEVBQ2xCLEdBQXFCLENBQUksRUFDbEIsR0FBYyxFQUFVLENBQUksR0FFckMsbUJBQXFCLENBQUMsRUFBUyxDQUc3QixPQUZBLEVBQXVCLGFBQ3ZCLEdBQWtCLEVBQ1gsR0FBWSxDQUFPLEdBRTVCLGtCQUFvQixDQUFDLEVBQVEsRUFBTSxDQUlqQyxPQUhBLEVBQXVCLFlBQ3ZCLEdBQWtCLEVBQ2xCLEdBQXFCLENBQUksRUFDbEIsR0FBWSxFQUFRLENBQUksR0FFakMsNEJBQThCLENBQUMsRUFBSyxFQUFRLEVBQU0sQ0FJaEQsT0FIQSxFQUF1QixzQkFDdkIsR0FBa0IsRUFDbEIsR0FBcUIsQ0FBSSxFQUNsQixHQUFzQixFQUFLLEVBQVEsQ0FBSSxHQUVoRCwyQkFBNkIsQ0FBQyxFQUFRLEVBQU0sQ0FDMUMsRUFBdUIscUJBQ3ZCLEdBQWtCLEVBQ2xCLEdBQXFCLENBQUksRUFDekIsR0FBZ0IsRUFBRyxHQUFXLEVBQVEsQ0FBSSxHQUU1Qyx3QkFBMEIsQ0FBQyxFQUFRLEVBQU0sQ0FJdkMsT0FIQSxFQUF1QixrQkFDdkIsR0FBa0IsRUFDbEIsR0FBcUIsQ0FBSSxFQUNsQixHQUFrQixFQUFRLENBQUksR0FFdkMsZ0JBQWtCLENBQUMsRUFBUSxFQUFNLENBQy9CLEVBQXVCLFVBQ3ZCLEdBQWtCLEVBQ2xCLEdBQXFCLENBQUksRUFDekIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQVUsRUFBUSxDQUFJLFNBQzdCLENBQ0EsRUFBcUIsRUFBSSxJQUc3QixtQkFBcUIsQ0FBQyxFQUFTLEVBQVksRUFBTSxDQUMvQyxFQUF1QixhQUN2QixHQUFrQixFQUNsQixJQUFJLEVBQWlCLEVBQXFCLEVBQzFDLEVBQXFCLEVBQUksR0FDekIsR0FBSSxDQUNGLE9BQU8sR0FBYSxFQUFTLEVBQVksQ0FBSSxTQUM3QyxDQUNBLEVBQXFCLEVBQUksSUFHN0IsZUFBaUIsQ0FBQyxFQUFjLENBRzlCLE9BRkEsRUFBdUIsU0FDdkIsR0FBa0IsRUFDWCxHQUFTLENBQVksR0FFOUIsaUJBQW1CLENBQUMsRUFBYyxDQUNoQyxFQUF1QixXQUN2QixHQUFrQixFQUNsQixJQUFJLEVBQWlCLEVBQXFCLEVBQzFDLEVBQXFCLEVBQUksR0FDekIsR0FBSSxDQUNGLE9BQU8sR0FBVyxDQUFZLFNBQzlCLENBQ0EsRUFBcUIsRUFBSSxJQUc3QixzQkFBd0IsRUFBRyxDQUN6QixFQUF1QixnQkFDdkIsR0FBa0IsR0FFcEIseUJBQTJCLENBQUMsRUFBTyxFQUFjLENBRy9DLE9BRkEsRUFBdUIsbUJBQ3ZCLEdBQWtCLEVBQ1gsR0FBbUIsRUFBTyxDQUFZLEdBRS9DLHNCQUF3QixFQUFHLENBR3pCLE9BRkEsRUFBdUIsZ0JBQ3ZCLEdBQWtCLEVBQ1gsR0FBZ0IsR0FFekIsNkJBQStCLENBQzdCLEVBQ0EsRUFDQSxFQUNBLENBR0EsT0FGQSxFQUF1Qix1QkFDdkIsR0FBa0IsRUFDWCxHQUNMLEVBQ0EsRUFDQSxDQUNGLEdBRUYsY0FBZ0IsRUFBRyxDQUdqQixPQUZBLEVBQXVCLFFBQ3ZCLEdBQWtCLEVBQ1gsR0FBUSxHQUVqQix3QkFBMEIsRUFBRyxDQUczQixPQUZBLEVBQXVCLGtCQUN2QixHQUFrQixFQUNYLEdBQWEsRUFFeEIsRUFDQSxHQUE0QixhQUFlLEdBQzNDLEdBQTRCLHdCQUMxQixHQUNGLEdBQTRCLHFCQUF3QixDQUFDLEVBQVEsRUFBYyxDQUl6RSxPQUhBLEVBQXVCLGVBQ3ZCLEdBQWtCLEVBQ2xCLEdBQXdCLEVBQ2pCLEdBQWlCLEVBQVEsQ0FBWSxHQUU5QyxHQUE0Qix1QkFBMEIsQ0FDcEQsRUFDQSxFQUNBLENBR0EsT0FGQSxFQUF1QixpQkFDdkIsR0FBa0IsRUFDWCxHQUFpQixFQUFRLENBQVksR0FFOUMsR0FBNEIsc0JBQXlCLENBQUMsRUFBYSxDQUdqRSxPQUZBLEVBQXVCLGdCQUN2QixHQUFrQixFQUNYLEdBQWdCLENBQVcsR0FFcEMsR0FBMkMsQ0FDekMsb0JBQXNCLENBQUMsRUFBUyxDQUM5QixPQUFPLEdBQVksQ0FBTyxHQUU1QixJQUFLLEdBQ0wsb0JBQXNCLENBQUMsRUFBVSxFQUFNLENBR3JDLE9BRkEsRUFBdUIsY0FDdkIsRUFBbUIsRUFDWixHQUFjLEVBQVUsQ0FBSSxHQUVyQyxtQkFBcUIsQ0FBQyxFQUFTLENBRzdCLE9BRkEsRUFBdUIsYUFDdkIsRUFBbUIsRUFDWixHQUFZLENBQU8sR0FFNUIsa0JBQW9CLENBQUMsRUFBUSxFQUFNLENBR2pDLE9BRkEsRUFBdUIsWUFDdkIsRUFBbUIsRUFDWixHQUFZLEVBQVEsQ0FBSSxHQUVqQyw0QkFBOEIsQ0FBQyxFQUFLLEVBQVEsRUFBTSxDQUdoRCxPQUZBLEVBQXVCLHNCQUN2QixFQUFtQixFQUNaLEdBQXNCLEVBQUssRUFBUSxDQUFJLEdBRWhELDJCQUE2QixDQUFDLEVBQVEsRUFBTSxDQUMxQyxFQUF1QixxQkFDdkIsRUFBbUIsRUFDbkIsR0FBZ0IsRUFBRyxHQUFXLEVBQVEsQ0FBSSxHQUU1Qyx3QkFBMEIsQ0FBQyxFQUFRLEVBQU0sQ0FHdkMsT0FGQSxFQUF1QixrQkFDdkIsRUFBbUIsRUFDWixHQUFrQixFQUFRLENBQUksR0FFdkMsZ0JBQWtCLENBQUMsRUFBUSxFQUFNLENBQy9CLEVBQXVCLFVBQ3ZCLEVBQW1CLEVBQ25CLElBQUksRUFBaUIsRUFBcUIsRUFDMUMsRUFBcUIsRUFBSSxHQUN6QixHQUFJLENBQ0YsT0FBTyxHQUFVLEVBQVEsQ0FBSSxTQUM3QixDQUNBLEVBQXFCLEVBQUksSUFHN0IsbUJBQXFCLENBQUMsRUFBUyxFQUFZLEVBQU0sQ0FDL0MsRUFBdUIsYUFDdkIsRUFBbUIsRUFDbkIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQWEsRUFBUyxFQUFZLENBQUksU0FDN0MsQ0FDQSxFQUFxQixFQUFJLElBRzdCLGVBQWlCLENBQUMsRUFBYyxDQUc5QixPQUZBLEVBQXVCLFNBQ3ZCLEVBQW1CLEVBQ1osR0FBUyxDQUFZLEdBRTlCLGlCQUFtQixDQUFDLEVBQWMsQ0FDaEMsRUFBdUIsV0FDdkIsRUFBbUIsRUFDbkIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQVcsQ0FBWSxTQUM5QixDQUNBLEVBQXFCLEVBQUksSUFHN0Isc0JBQXdCLEVBQUcsQ0FDekIsRUFBdUIsZ0JBQ3ZCLEVBQW1CLEdBRXJCLHlCQUEyQixDQUFDLEVBQU8sRUFBYyxDQUcvQyxPQUZBLEVBQXVCLG1CQUN2QixFQUFtQixFQUNaLEdBQW1CLEVBQU8sQ0FBWSxHQUUvQyxzQkFBd0IsRUFBRyxDQUd6QixPQUZBLEVBQXVCLGdCQUN2QixFQUFtQixFQUNaLEdBQWdCLEdBRXpCLDZCQUErQixDQUM3QixFQUNBLEVBQ0EsRUFDQSxDQUdBLE9BRkEsRUFBdUIsdUJBQ3ZCLEVBQW1CLEVBQ1osR0FDTCxFQUNBLEVBQ0EsQ0FDRixHQUVGLGNBQWdCLEVBQUcsQ0FHakIsT0FGQSxFQUF1QixRQUN2QixFQUFtQixFQUNaLEdBQVEsR0FFakIsd0JBQTBCLEVBQUcsQ0FHM0IsT0FGQSxFQUF1QixrQkFDdkIsRUFBbUIsRUFDWixHQUFhLEVBRXhCLEVBQ0EsR0FBeUMsYUFBZSxHQUN4RCxHQUF5Qyx3QkFDdkMsR0FDRixHQUF5QyxxQkFBd0IsQ0FDL0QsRUFDQSxFQUNBLENBSUEsT0FIQSxFQUF1QixlQUN2QixFQUFtQixFQUNuQixHQUF3QixFQUNqQixHQUFpQixFQUFRLENBQVksR0FFOUMsR0FBeUMsdUJBQTBCLENBQ2pFLEVBQ0EsRUFDQSxDQUdBLE9BRkEsRUFBdUIsaUJBQ3ZCLEVBQW1CLEVBQ1osR0FBaUIsRUFBUSxDQUFZLEdBRTlDLEdBQXlDLHNCQUF5QixDQUNoRSxFQUNBLENBR0EsT0FGQSxFQUF1QixnQkFDdkIsRUFBbUIsRUFDWixHQUFnQixDQUFXLEdBRXBDLEdBQStCLENBQzdCLG9CQUFzQixDQUFDLEVBQVMsQ0FDOUIsT0FBTyxHQUFZLENBQU8sR0FFNUIsSUFBSyxHQUNMLG9CQUFzQixDQUFDLEVBQVUsRUFBTSxDQUdyQyxPQUZBLEVBQXVCLGNBQ3ZCLEVBQW1CLEVBQ1osR0FBZSxFQUFVLENBQUksR0FFdEMsbUJBQXFCLENBQUMsRUFBUyxDQUc3QixPQUZBLEVBQXVCLGFBQ3ZCLEVBQW1CLEVBQ1osR0FBWSxDQUFPLEdBRTVCLGtCQUFvQixDQUFDLEVBQVEsRUFBTSxDQUNqQyxFQUF1QixZQUN2QixFQUFtQixFQUNuQixHQUFpQixLQUFNLEdBQVMsRUFBUSxDQUFJLEdBRTlDLDRCQUE4QixDQUFDLEVBQUssRUFBUSxFQUFNLENBR2hELE9BRkEsRUFBdUIsc0JBQ3ZCLEVBQW1CLEVBQ1osR0FBdUIsRUFBSyxFQUFRLENBQUksR0FFakQsMkJBQTZCLENBQUMsRUFBUSxFQUFNLENBRzFDLE9BRkEsRUFBdUIscUJBQ3ZCLEVBQW1CLEVBQ1osR0FBaUIsRUFBRyxHQUFXLEVBQVEsQ0FBSSxHQUVwRCx3QkFBMEIsQ0FBQyxFQUFRLEVBQU0sQ0FHdkMsT0FGQSxFQUF1QixrQkFDdkIsRUFBbUIsRUFDWixHQUFpQixFQUFHLEdBQVEsRUFBUSxDQUFJLEdBRWpELGdCQUFrQixDQUFDLEVBQVEsRUFBTSxDQUMvQixFQUF1QixVQUN2QixFQUFtQixFQUNuQixJQUFJLEVBQWlCLEVBQXFCLEVBQzFDLEVBQXFCLEVBQUksR0FDekIsR0FBSSxDQUNGLE9BQU8sR0FBVyxFQUFRLENBQUksU0FDOUIsQ0FDQSxFQUFxQixFQUFJLElBRzdCLG1CQUFxQixDQUFDLEVBQVMsRUFBWSxFQUFNLENBQy9DLEVBQXVCLGFBQ3ZCLEVBQW1CLEVBQ25CLElBQUksRUFBaUIsRUFBcUIsRUFDMUMsRUFBcUIsRUFBSSxHQUN6QixHQUFJLENBQ0YsT0FBTyxHQUFjLEVBQVMsRUFBWSxDQUFJLFNBQzlDLENBQ0EsRUFBcUIsRUFBSSxJQUc3QixlQUFpQixFQUFHLENBR2xCLE9BRkEsRUFBdUIsU0FDdkIsRUFBbUIsRUFDWixHQUF5QixFQUFFLGVBRXBDLGlCQUFtQixFQUFHLENBQ3BCLEVBQXVCLFdBQ3ZCLEVBQW1CLEVBQ25CLElBQUksRUFBaUIsRUFBcUIsRUFDMUMsRUFBcUIsRUFBSSxHQUN6QixHQUFJLENBQ0YsT0FBTyxHQUFjLEVBQWlCLFNBQ3RDLENBQ0EsRUFBcUIsRUFBSSxJQUc3QixzQkFBd0IsRUFBRyxDQUN6QixFQUF1QixnQkFDdkIsRUFBbUIsR0FFckIseUJBQTJCLENBQUMsRUFBTyxFQUFjLENBRy9DLE9BRkEsRUFBdUIsbUJBQ3ZCLEVBQW1CLEVBQ1osR0FBb0IsRUFBTyxDQUFZLEdBRWhELHNCQUF3QixFQUFHLENBR3pCLE9BRkEsRUFBdUIsZ0JBQ3ZCLEVBQW1CLEVBQ1osR0FBaUIsR0FFMUIsNkJBQStCLENBQzdCLEVBQ0EsRUFDQSxFQUNBLENBR0EsT0FGQSxFQUF1Qix1QkFDdkIsRUFBbUIsRUFDWixHQUNMLEVBQ0EsRUFDQSxDQUNGLEdBRUYsY0FBZ0IsRUFBRyxDQUdqQixPQUZBLEVBQXVCLFFBQ3ZCLEVBQW1CLEVBQ1osR0FBeUIsRUFBRSxlQUVwQyx3QkFBMEIsRUFBRyxDQUczQixPQUZBLEVBQXVCLGtCQUN2QixFQUFtQixFQUNaLEdBQXlCLEVBQUUsY0FFdEMsRUFDQSxHQUE2QixhQUFlLEdBQzVDLEdBQTZCLHdCQUMzQixHQUNGLEdBQTZCLHFCQUF3QixDQUFDLEVBQVEsQ0FJNUQsT0FIQSxFQUF1QixlQUN2QixFQUFtQixFQUNuQixHQUF3QixFQUNqQixHQUFrQixDQUFNLEdBRWpDLEdBQTZCLHVCQUEwQixDQUFDLEVBQVEsQ0FHOUQsT0FGQSxFQUF1QixpQkFDdkIsRUFBbUIsRUFDWixHQUFrQixDQUFNLEdBRWpDLEdBQTZCLHNCQUF5QixDQUNwRCxFQUNBLEVBQ0EsQ0FHQSxPQUZBLEVBQXVCLGdCQUN2QixFQUFtQixFQUNaLEdBQWlCLEVBQWEsQ0FBTyxHQUU5QyxHQUFpQyxDQUMvQixvQkFBc0IsQ0FBQyxFQUFTLENBQzlCLE9BQU8sR0FBWSxDQUFPLEdBRTVCLElBQUssR0FDTCxvQkFBc0IsQ0FBQyxFQUFVLEVBQU0sQ0FHckMsT0FGQSxFQUF1QixjQUN2QixFQUFtQixFQUNaLEdBQWUsRUFBVSxDQUFJLEdBRXRDLG1CQUFxQixDQUFDLEVBQVMsQ0FHN0IsT0FGQSxFQUF1QixhQUN2QixFQUFtQixFQUNaLEdBQVksQ0FBTyxHQUU1QixrQkFBb0IsQ0FBQyxFQUFRLEVBQU0sQ0FDakMsRUFBdUIsWUFDdkIsRUFBbUIsRUFDbkIsR0FBaUIsS0FBTSxHQUFTLEVBQVEsQ0FBSSxHQUU5Qyw0QkFBOEIsQ0FBQyxFQUFLLEVBQVEsRUFBTSxDQUdoRCxPQUZBLEVBQXVCLHNCQUN2QixFQUFtQixFQUNaLEdBQXVCLEVBQUssRUFBUSxDQUFJLEdBRWpELDJCQUE2QixDQUFDLEVBQVEsRUFBTSxDQUcxQyxPQUZBLEVBQXVCLHFCQUN2QixFQUFtQixFQUNaLEdBQWlCLEVBQUcsR0FBVyxFQUFRLENBQUksR0FFcEQsd0JBQTBCLENBQUMsRUFBUSxFQUFNLENBR3ZDLE9BRkEsRUFBdUIsa0JBQ3ZCLEVBQW1CLEVBQ1osR0FBaUIsRUFBRyxHQUFRLEVBQVEsQ0FBSSxHQUVqRCxnQkFBa0IsQ0FBQyxFQUFRLEVBQU0sQ0FDL0IsRUFBdUIsVUFDdkIsRUFBbUIsRUFDbkIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQVcsRUFBUSxDQUFJLFNBQzlCLENBQ0EsRUFBcUIsRUFBSSxJQUc3QixtQkFBcUIsQ0FBQyxFQUFTLEVBQVksRUFBTSxDQUMvQyxFQUF1QixhQUN2QixFQUFtQixFQUNuQixJQUFJLEVBQWlCLEVBQXFCLEVBQzFDLEVBQXFCLEVBQUksR0FDekIsR0FBSSxDQUNGLE9BQU8sR0FBZ0IsRUFBUyxFQUFZLENBQUksU0FDaEQsQ0FDQSxFQUFxQixFQUFJLElBRzdCLGVBQWlCLEVBQUcsQ0FHbEIsT0FGQSxFQUF1QixTQUN2QixFQUFtQixFQUNaLEdBQXlCLEVBQUUsZUFFcEMsaUJBQW1CLEVBQUcsQ0FDcEIsRUFBdUIsV0FDdkIsRUFBbUIsRUFDbkIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQWdCLEVBQWlCLFNBQ3hDLENBQ0EsRUFBcUIsRUFBSSxJQUc3QixzQkFBd0IsRUFBRyxDQUN6QixFQUF1QixnQkFDdkIsRUFBbUIsR0FFckIseUJBQTJCLENBQUMsRUFBTyxFQUFjLENBRy9DLE9BRkEsRUFBdUIsbUJBQ3ZCLEVBQW1CLEVBQ1osR0FBc0IsRUFBTyxDQUFZLEdBRWxELHNCQUF3QixFQUFHLENBR3pCLE9BRkEsRUFBdUIsZ0JBQ3ZCLEVBQW1CLEVBQ1osR0FBbUIsR0FFNUIsNkJBQStCLENBQzdCLEVBQ0EsRUFDQSxFQUNBLENBR0EsT0FGQSxFQUF1Qix1QkFDdkIsRUFBbUIsRUFDWixHQUNMLEVBQ0EsRUFDQSxDQUNGLEdBRUYsY0FBZ0IsRUFBRyxDQUdqQixPQUZBLEVBQXVCLFFBQ3ZCLEVBQW1CLEVBQ1osR0FBeUIsRUFBRSxlQUVwQyx3QkFBMEIsRUFBRyxDQUczQixPQUZBLEVBQXVCLGtCQUN2QixFQUFtQixFQUNaLEdBQXlCLEVBQUUsY0FFdEMsRUFDQSxHQUErQixhQUFlLEdBQzlDLEdBQStCLHdCQUM3QixHQUNGLEdBQStCLHFCQUF3QixDQUFDLEVBQVEsQ0FJOUQsT0FIQSxFQUF1QixlQUN2QixFQUFtQixFQUNuQixHQUF3QixFQUNqQixHQUFvQixDQUFNLEdBRW5DLEdBQStCLHVCQUEwQixDQUFDLEVBQVEsQ0FHaEUsT0FGQSxFQUF1QixpQkFDdkIsRUFBbUIsRUFDWixHQUFvQixDQUFNLEdBRW5DLEdBQStCLHNCQUF5QixDQUN0RCxFQUNBLEVBQ0EsQ0FHQSxPQUZBLEVBQXVCLGdCQUN2QixFQUFtQixFQUNaLEdBQW1CLEVBQWEsQ0FBTyxHQUVoRCxHQUEyQyxDQUN6QyxvQkFBc0IsQ0FBQyxFQUFTLENBRTlCLE9BREEsRUFBeUIsRUFDbEIsR0FBWSxDQUFPLEdBRTVCLFlBQWMsQ0FBQyxFQUFRLENBRXJCLE9BREEsRUFBc0IsRUFDZixHQUFJLENBQU0sR0FFbkIsb0JBQXNCLENBQUMsRUFBVSxFQUFNLENBSXJDLE9BSEEsRUFBdUIsY0FDdkIsRUFBc0IsRUFDdEIsR0FBa0IsRUFDWCxHQUFjLEVBQVUsQ0FBSSxHQUVyQyxtQkFBcUIsQ0FBQyxFQUFTLENBSTdCLE9BSEEsRUFBdUIsYUFDdkIsRUFBc0IsRUFDdEIsR0FBa0IsRUFDWCxHQUFZLENBQU8sR0FFNUIsa0JBQW9CLENBQUMsRUFBUSxFQUFNLENBSWpDLE9BSEEsRUFBdUIsWUFDdkIsRUFBc0IsRUFDdEIsR0FBa0IsRUFDWCxHQUFZLEVBQVEsQ0FBSSxHQUVqQyw0QkFBOEIsQ0FBQyxFQUFLLEVBQVEsRUFBTSxDQUloRCxPQUhBLEVBQXVCLHNCQUN2QixFQUFzQixFQUN0QixHQUFrQixFQUNYLEdBQXNCLEVBQUssRUFBUSxDQUFJLEdBRWhELDJCQUE2QixDQUFDLEVBQVEsRUFBTSxDQUMxQyxFQUF1QixxQkFDdkIsRUFBc0IsRUFDdEIsR0FBa0IsRUFDbEIsR0FBZ0IsRUFBRyxHQUFXLEVBQVEsQ0FBSSxHQUU1Qyx3QkFBMEIsQ0FBQyxFQUFRLEVBQU0sQ0FJdkMsT0FIQSxFQUF1QixrQkFDdkIsRUFBc0IsRUFDdEIsR0FBa0IsRUFDWCxHQUFrQixFQUFRLENBQUksR0FFdkMsZ0JBQWtCLENBQUMsRUFBUSxFQUFNLENBQy9CLEVBQXVCLFVBQ3ZCLEVBQXNCLEVBQ3RCLEdBQWtCLEVBQ2xCLElBQUksRUFBaUIsRUFBcUIsRUFDMUMsRUFBcUIsRUFBSSxHQUN6QixHQUFJLENBQ0YsT0FBTyxHQUFVLEVBQVEsQ0FBSSxTQUM3QixDQUNBLEVBQXFCLEVBQUksSUFHN0IsbUJBQXFCLENBQUMsRUFBUyxFQUFZLEVBQU0sQ0FDL0MsRUFBdUIsYUFDdkIsRUFBc0IsRUFDdEIsR0FBa0IsRUFDbEIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQWEsRUFBUyxFQUFZLENBQUksU0FDN0MsQ0FDQSxFQUFxQixFQUFJLElBRzdCLGVBQWlCLENBQUMsRUFBYyxDQUk5QixPQUhBLEVBQXVCLFNBQ3ZCLEVBQXNCLEVBQ3RCLEdBQWtCLEVBQ1gsR0FBUyxDQUFZLEdBRTlCLGlCQUFtQixDQUFDLEVBQWMsQ0FDaEMsRUFBdUIsV0FDdkIsRUFBc0IsRUFDdEIsR0FBa0IsRUFDbEIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQVcsQ0FBWSxTQUM5QixDQUNBLEVBQXFCLEVBQUksSUFHN0Isc0JBQXdCLEVBQUcsQ0FDekIsRUFBdUIsZ0JBQ3ZCLEVBQXNCLEVBQ3RCLEdBQWtCLEdBRXBCLHlCQUEyQixDQUFDLEVBQU8sRUFBYyxDQUkvQyxPQUhBLEVBQXVCLG1CQUN2QixFQUFzQixFQUN0QixHQUFrQixFQUNYLEdBQW1CLEVBQU8sQ0FBWSxHQUUvQyxzQkFBd0IsRUFBRyxDQUl6QixPQUhBLEVBQXVCLGdCQUN2QixFQUFzQixFQUN0QixHQUFrQixFQUNYLEdBQWdCLEdBRXpCLDZCQUErQixDQUM3QixFQUNBLEVBQ0EsRUFDQSxDQUlBLE9BSEEsRUFBdUIsdUJBQ3ZCLEVBQXNCLEVBQ3RCLEdBQWtCLEVBQ1gsR0FDTCxFQUNBLEVBQ0EsQ0FDRixHQUVGLGNBQWdCLEVBQUcsQ0FJakIsT0FIQSxFQUF1QixRQUN2QixFQUFzQixFQUN0QixHQUFrQixFQUNYLEdBQVEsR0FFakIsd0JBQTBCLEVBQUcsQ0FHM0IsT0FGQSxFQUF1QixrQkFDdkIsR0FBa0IsRUFDWCxHQUFhLEdBRXRCLHFCQUF1QixDQUFDLEVBQU0sQ0FFNUIsT0FEQSxFQUFzQixFQUNmLEdBQWEsQ0FBSSxFQUU1QixFQUNBLEdBQXlDLHdCQUN2QyxHQUNGLEdBQXlDLHFCQUF3QixDQUMvRCxFQUNBLEVBQ0EsQ0FJQSxPQUhBLEVBQXVCLGVBQ3ZCLEVBQXNCLEVBQ3RCLEdBQWtCLEVBQ1gsR0FBaUIsRUFBUSxDQUFZLEdBRTlDLEdBQXlDLHVCQUEwQixDQUNqRSxFQUNBLEVBQ0EsQ0FJQSxPQUhBLEVBQXVCLGlCQUN2QixFQUFzQixFQUN0QixHQUFrQixFQUNYLEdBQWlCLEVBQVEsQ0FBWSxHQUU5QyxHQUF5QyxzQkFBeUIsQ0FDaEUsRUFDQSxDQUlBLE9BSEEsRUFBdUIsZ0JBQ3ZCLEVBQXNCLEVBQ3RCLEdBQWtCLEVBQ1gsR0FBZ0IsQ0FBVyxHQUVwQyxHQUE0QyxDQUMxQyxvQkFBc0IsQ0FBQyxFQUFTLENBRTlCLE9BREEsRUFBeUIsRUFDbEIsR0FBWSxDQUFPLEdBRTVCLFlBQWMsQ0FBQyxFQUFRLENBRXJCLE9BREEsRUFBc0IsRUFDZixHQUFJLENBQU0sR0FFbkIsb0JBQXNCLENBQUMsRUFBVSxFQUFNLENBSXJDLE9BSEEsRUFBdUIsY0FDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFlLEVBQVUsQ0FBSSxHQUV0QyxtQkFBcUIsQ0FBQyxFQUFTLENBSTdCLE9BSEEsRUFBdUIsYUFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFZLENBQU8sR0FFNUIsa0JBQW9CLENBQUMsRUFBUSxFQUFNLENBQ2pDLEVBQXVCLFlBQ3ZCLEVBQXNCLEVBQ3RCLEVBQW1CLEVBQ25CLEdBQWlCLEtBQU0sR0FBUyxFQUFRLENBQUksR0FFOUMsNEJBQThCLENBQUMsRUFBSyxFQUFRLEVBQU0sQ0FJaEQsT0FIQSxFQUF1QixzQkFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUF1QixFQUFLLEVBQVEsQ0FBSSxHQUVqRCwyQkFBNkIsQ0FBQyxFQUFRLEVBQU0sQ0FJMUMsT0FIQSxFQUF1QixxQkFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFpQixFQUFHLEdBQVcsRUFBUSxDQUFJLEdBRXBELHdCQUEwQixDQUFDLEVBQVEsRUFBTSxDQUl2QyxPQUhBLEVBQXVCLGtCQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQWlCLEVBQUcsR0FBUSxFQUFRLENBQUksR0FFakQsZ0JBQWtCLENBQUMsRUFBUSxFQUFNLENBQy9CLEVBQXVCLFVBQ3ZCLEVBQXNCLEVBQ3RCLEVBQW1CLEVBQ25CLElBQUksRUFBaUIsRUFBcUIsRUFDMUMsRUFBcUIsRUFBSSxHQUN6QixHQUFJLENBQ0YsT0FBTyxHQUFXLEVBQVEsQ0FBSSxTQUM5QixDQUNBLEVBQXFCLEVBQUksSUFHN0IsbUJBQXFCLENBQUMsRUFBUyxFQUFZLEVBQU0sQ0FDL0MsRUFBdUIsYUFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDbkIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQWMsRUFBUyxFQUFZLENBQUksU0FDOUMsQ0FDQSxFQUFxQixFQUFJLElBRzdCLGVBQWlCLEVBQUcsQ0FJbEIsT0FIQSxFQUF1QixTQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQXlCLEVBQUUsZUFFcEMsaUJBQW1CLEVBQUcsQ0FDcEIsRUFBdUIsV0FDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDbkIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQWMsRUFBaUIsU0FDdEMsQ0FDQSxFQUFxQixFQUFJLElBRzdCLHNCQUF3QixFQUFHLENBQ3pCLEVBQXVCLGdCQUN2QixFQUFzQixFQUN0QixFQUFtQixHQUVyQix5QkFBMkIsQ0FBQyxFQUFPLEVBQWMsQ0FJL0MsT0FIQSxFQUF1QixtQkFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFvQixFQUFPLENBQVksR0FFaEQsc0JBQXdCLEVBQUcsQ0FJekIsT0FIQSxFQUF1QixnQkFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFpQixHQUUxQiw2QkFBK0IsQ0FDN0IsRUFDQSxFQUNBLEVBQ0EsQ0FJQSxPQUhBLEVBQXVCLHVCQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQ0wsRUFDQSxFQUNBLENBQ0YsR0FFRixjQUFnQixFQUFHLENBSWpCLE9BSEEsRUFBdUIsUUFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUF5QixFQUFFLGVBRXBDLHdCQUEwQixFQUFHLENBRzNCLE9BRkEsRUFBdUIsa0JBQ3ZCLEVBQW1CLEVBQ1osR0FBeUIsRUFBRSxlQUVwQyxxQkFBdUIsQ0FBQyxFQUFNLENBRTVCLE9BREEsRUFBc0IsRUFDZixHQUFhLENBQUksRUFFNUIsRUFDQSxHQUEwQyx3QkFDeEMsR0FDRixHQUEwQyxxQkFBd0IsQ0FBQyxFQUFRLENBSXpFLE9BSEEsRUFBdUIsZUFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFrQixDQUFNLEdBRWpDLEdBQTBDLHVCQUEwQixDQUNsRSxFQUNBLENBSUEsT0FIQSxFQUF1QixpQkFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFrQixDQUFNLEdBRWpDLEdBQTBDLHNCQUF5QixDQUNqRSxFQUNBLEVBQ0EsQ0FJQSxPQUhBLEVBQXVCLGdCQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQWlCLEVBQWEsQ0FBTyxHQUU5QyxHQUE4QyxDQUM1QyxvQkFBc0IsQ0FBQyxFQUFTLENBRTlCLE9BREEsRUFBeUIsRUFDbEIsR0FBWSxDQUFPLEdBRTVCLFlBQWMsQ0FBQyxFQUFRLENBRXJCLE9BREEsRUFBc0IsRUFDZixHQUFJLENBQU0sR0FFbkIsb0JBQXNCLENBQUMsRUFBVSxFQUFNLENBSXJDLE9BSEEsRUFBdUIsY0FDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFlLEVBQVUsQ0FBSSxHQUV0QyxtQkFBcUIsQ0FBQyxFQUFTLENBSTdCLE9BSEEsRUFBdUIsYUFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFZLENBQU8sR0FFNUIsa0JBQW9CLENBQUMsRUFBUSxFQUFNLENBQ2pDLEVBQXVCLFlBQ3ZCLEVBQXNCLEVBQ3RCLEVBQW1CLEVBQ25CLEdBQWlCLEtBQU0sR0FBUyxFQUFRLENBQUksR0FFOUMsNEJBQThCLENBQUMsRUFBSyxFQUFRLEVBQU0sQ0FJaEQsT0FIQSxFQUF1QixzQkFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUF1QixFQUFLLEVBQVEsQ0FBSSxHQUVqRCwyQkFBNkIsQ0FBQyxFQUFRLEVBQU0sQ0FJMUMsT0FIQSxFQUF1QixxQkFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUFpQixFQUFHLEdBQVcsRUFBUSxDQUFJLEdBRXBELHdCQUEwQixDQUFDLEVBQVEsRUFBTSxDQUl2QyxPQUhBLEVBQXVCLGtCQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQWlCLEVBQUcsR0FBUSxFQUFRLENBQUksR0FFakQsZ0JBQWtCLENBQUMsRUFBUSxFQUFNLENBQy9CLEVBQXVCLFVBQ3ZCLEVBQXNCLEVBQ3RCLEVBQW1CLEVBQ25CLElBQUksRUFBaUIsRUFBcUIsRUFDMUMsRUFBcUIsRUFBSSxHQUN6QixHQUFJLENBQ0YsT0FBTyxHQUFXLEVBQVEsQ0FBSSxTQUM5QixDQUNBLEVBQXFCLEVBQUksSUFHN0IsbUJBQXFCLENBQUMsRUFBUyxFQUFZLEVBQU0sQ0FDL0MsRUFBdUIsYUFDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDbkIsSUFBSSxFQUFpQixFQUFxQixFQUMxQyxFQUFxQixFQUFJLEdBQ3pCLEdBQUksQ0FDRixPQUFPLEdBQWdCLEVBQVMsRUFBWSxDQUFJLFNBQ2hELENBQ0EsRUFBcUIsRUFBSSxJQUc3QixlQUFpQixFQUFHLENBSWxCLE9BSEEsRUFBdUIsU0FDdkIsRUFBc0IsRUFDdEIsRUFBbUIsRUFDWixHQUF5QixFQUFFLGVBRXBDLGlCQUFtQixFQUFHLENBQ3BCLEVBQXVCLFdBQ3ZCLEVBQXNCLEVBQ3RCLEVBQW1CLEVBQ25CLElBQUksRUFBaUIsRUFBcUIsRUFDMUMsRUFBcUIsRUFBSSxHQUN6QixHQUFJLENBQ0YsT0FBTyxHQUFnQixFQUFpQixTQUN4QyxDQUNBLEVBQXFCLEVBQUksSUFHN0Isc0JBQXdCLEVBQUcsQ0FDekIsRUFBdUIsZ0JBQ3ZCLEVBQXNCLEVBQ3RCLEVBQW1CLEdBRXJCLHlCQUEyQixDQUFDLEVBQU8sRUFBYyxDQUkvQyxPQUhBLEVBQXVCLG1CQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQXNCLEVBQU8sQ0FBWSxHQUVsRCxzQkFBd0IsRUFBRyxDQUl6QixPQUhBLEVBQXVCLGdCQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQW1CLEdBRTVCLDZCQUErQixDQUM3QixFQUNBLEVBQ0EsRUFDQSxDQUlBLE9BSEEsRUFBdUIsdUJBQ3ZCLEVBQXNCLEVBQ3RCLEVBQW1CLEVBQ1osR0FDTCxFQUNBLEVBQ0EsQ0FDRixHQUVGLGNBQWdCLEVBQUcsQ0FJakIsT0FIQSxFQUF1QixRQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQXlCLEVBQUUsZUFFcEMsd0JBQTBCLEVBQUcsQ0FHM0IsT0FGQSxFQUF1QixrQkFDdkIsRUFBbUIsRUFDWixHQUF5QixFQUFFLGVBRXBDLHFCQUF1QixDQUFDLEVBQU0sQ0FFNUIsT0FEQSxFQUFzQixFQUNmLEdBQWEsQ0FBSSxFQUU1QixFQUNBLEdBQTRDLHdCQUMxQyxHQUNGLEdBQTRDLHFCQUF3QixDQUNsRSxFQUNBLENBSUEsT0FIQSxFQUF1QixlQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQW9CLENBQU0sR0FFbkMsR0FBNEMsdUJBQTBCLENBQ3BFLEVBQ0EsQ0FJQSxPQUhBLEVBQXVCLGlCQUN2QixFQUFzQixFQUN0QixFQUFtQixFQUNaLEdBQW9CLENBQU0sR0FFbkMsR0FBNEMsc0JBQXlCLENBQ25FLEVBQ0EsRUFDQSxDQUlBLE9BSEEsRUFBdUIsZ0JBQ3ZCLEVBQXNCLEVBQ3RCLEVBQW1CLEVBQ1osR0FBbUIsRUFBYSxDQUFPLEdBRWhELElBQUksR0FBdUIsQ0FBQyxFQUN4QixHQUEwQyxJQUFJLElBQzlDLEdBQWlDLElBQUksSUFDckMsR0FBc0QsSUFBSSxJQUMxRCxHQUE4QyxJQUFJLElBQ2xELEdBQTRDLElBQUksSUFDaEQsR0FBb0MsSUFBSSxJQUN4QyxHQUE2QixJQUFJLElBQ2pDLEdBQWdDLElBQUksSUFDcEMsR0FBb0MsSUFBSSxJQUN4QyxHQUEyQixJQUFJLElBQ25DLE9BQU8sT0FBTyxFQUFvQixFQUNsQyxJQUFJLEdBQXdCLENBQ3hCLGtCQUFvQixDQUFDLEVBQVcsQ0FDOUIsSUFBSSxFQUFRLEdBQ1osR0FBYSxJQUFULE1BQWtCLElBQXFCLEVBQU0sTUFBWixFQUFpQixDQUNwRCxJQUFJLEVBQVcsRUFBTSxVQUNyQixFQUFTLDBCQUNQLFFBQVEsTUFDTix3UkFDQSxFQUEwQixDQUFLLEdBQUssYUFDdEMsRUFDRixFQUFTLHlCQUEyQixHQUV0QyxPQUFRLEVBQVksRUFBVSxpQkFDMUIsRUFBdUIsQ0FBUyxJQUFNLEVBQ3RDLElBRU4sd0JBQTBCLENBQUMsRUFBTSxFQUFTLEVBQVUsQ0FDbEQsRUFBTyxFQUFLLGdCQUNaLElBQUksRUFBTyxHQUFrQixDQUFJLEVBQy9CLEVBQVMsR0FBYSxDQUFJLEVBQzVCLEVBQU8sUUFBVSxFQUNOLElBQU4sUUFDTSxJQUFULE9BQ0MsR0FBc0IsQ0FBUSxFQUFJLEVBQU8sU0FBVyxHQUN2RCxFQUFVLEdBQWMsRUFBTSxFQUFRLENBQUksRUFDakMsSUFBVCxPQUNHLEdBQXNCLEVBQVMsRUFBTSxDQUFJLEVBQzFDLEdBQW9CLEVBQVMsRUFBTSxDQUFJLEdBQ3pDLEdBQXlCLEVBQU0sQ0FBSSxHQUVyQyw0QkFBOEIsQ0FBQyxFQUFNLEVBQVMsRUFBVSxDQUN0RCxFQUFPLEVBQUssZ0JBQ1osSUFBSSxFQUFPLEdBQWtCLENBQUksRUFDL0IsRUFBUyxHQUFhLENBQUksRUFDNUIsRUFBTyxJQUFNLEdBQ2IsRUFBTyxRQUFVLEVBQ04sSUFBTixRQUNNLElBQVQsT0FDQyxHQUFzQixDQUFRLEVBQUksRUFBTyxTQUFXLEdBQ3ZELEVBQVUsR0FBYyxFQUFNLEVBQVEsQ0FBSSxFQUNqQyxJQUFULE9BQ0csR0FBc0IsRUFBUyxFQUFNLENBQUksRUFDMUMsR0FBb0IsRUFBUyxFQUFNLENBQUksR0FDekMsR0FBeUIsRUFBTSxDQUFJLEdBRXJDLDJCQUE2QixDQUFDLEVBQU0sRUFBVSxDQUM1QyxFQUFPLEVBQUssZ0JBQ1osSUFBSSxFQUFPLEdBQWtCLENBQUksRUFDL0IsRUFBUyxHQUFhLENBQUksRUFDNUIsRUFBTyxJQUFNLEdBQ0YsSUFBTixRQUNNLElBQVQsT0FDQyxHQUFzQixDQUFRLEVBQUksRUFBTyxTQUFXLEdBQ3ZELEVBQVcsR0FBYyxFQUFNLEVBQVEsQ0FBSSxFQUNsQyxJQUFULE9BQ0csR0FBc0IsRUFBVSxFQUFNLENBQUksRUFDM0MsR0FBb0IsRUFBVSxFQUFNLENBQUksR0FDakMsSUFBVCxhQUVXLEVBQXVCLDJCQURoQyxZQUVBLEVBQXVCLHlCQUF5QixFQUFNLENBQUksRUFFaEUsRUFDQSxVQUN3QixjQUF0QixXQUNJLG9CQUNTLENBQUMsRUFBTyxDQUNmLFVBQ3NCLFNBQXBCLGlCQUNzQixPQUFPLGFBQTdCLFdBQ0EsQ0FDQSxJQUFJLEVBQVEsSUFBSSxPQUFPLFdBQVcsUUFBUyxDQUN6QyxRQUFTLEdBQ1QsV0FBWSxHQUNaLGVBQ3NCLElBQXBCLFVBQ1MsSUFBVCxhQUNvQixFQUFNLFVBQTFCLFNBQ0ksT0FBTyxFQUFNLE9BQU8sRUFDcEIsT0FBTyxDQUFLLEVBQ2xCLE1BQU8sQ0FDVCxDQUFDLEVBQ0QsSUFBSyxPQUFPLGNBQWMsQ0FBSyxFQUFHLHNCQUVkLFVBQXBCLGlCQUNzQixRQUFRLE9BQTlCLFdBQ0EsQ0FDQSxRQUFRLEtBQUssb0JBQXFCLENBQUssRUFDdkMsT0FFRixRQUFRLE1BQU0sQ0FBSyxHQUUzQixHQUFnQixLQUNoQixHQUFvQixLQUNwQixHQUE4QixNQUM1QiwwS0FDRixFQUNBLEdBQW1CLEdBQ2pCLEdBQXVCLENBQUMsRUFDeEIsR0FBNkMsQ0FBQyxFQUM5QyxHQUEyQixDQUFDLEVBQzVCLEdBQWlELENBQUMsRUFDbEQsR0FBK0IsR0FDL0IsR0FBMEIsQ0FBQyxFQUMzQixHQUEwQixDQUFDLEVBQzNCLEdBQW1CLENBQ25CLFdBQVksS0FDWixZQUFhLEtBQ2IsVUFBVyxDQUNiLEVBQ0EsR0FBa0QsR0FDbEQsR0FBYyxHQUFhLElBQUksRUFDN0IsR0FBb0IsR0FBYSxJQUFJLEVBQ3JDLEdBQWdCLENBQUMsRUFDakIsR0FBMEIsS0FDNUIsR0FBd0IsS0FDeEIsR0FBK0IsR0FDL0IsR0FBYyxFQUNkLEdBQWUsRUFDZixHQUFjLEVBQ2QsR0FBZ0IsRUFDaEIsR0FBaUIsR0FDZixHQUE0QixHQUM1QixHQUEyQixLQUMzQixHQUFrQyxHQUNwQyxHQUE0QyxLQUM5QyxHQUE0QyxJQUFJLElBQ2hELElBQUksR0FBMkIsR0FDN0IsR0FBNEIsR0FDNUIsR0FBaUIsR0FDakIsVUFBd0MsVUFBdEIsV0FBZ0MsUUFBVSxJQUM1RCxHQUFhLEtBQ2IsR0FBa0IsS0FDbEIsR0FBaUIsS0FDakIsR0FBb0MsR0FDcEMsR0FBYSxLQUNiLEdBQXdCLEdBQ3hCLEdBQXVCLEtBQ3ZCLEdBQXNCLEtBQ3BCLEdBQW9CLEdBQ3hCLEdBQUksQ0FDRixJQUFJLEdBQXNCLE9BQU8sa0JBQWtCLENBQUMsQ0FBQyxFQUNyRCxPQUVPLEVBQVAsQ0FDQSxHQUFvQixHQUV0QixJQUFJLEdBQXlCLENBQzNCLHdCQUEwQixDQUFDLEVBQWMsQ0FDdkMsSUFBSSxFQUFRLEdBQVksRUFBWSxFQUNsQyxFQUFlLEVBQU0sS0FBSyxJQUFJLENBQVksRUFJNUMsT0FIVyxJQUFOLFNBQ0QsRUFBZSxFQUFhLEVBQzlCLEVBQU0sS0FBSyxJQUFJLEVBQWMsQ0FBWSxHQUNwQyxHQUVULGlCQUFtQixFQUFHLENBQ3BCLE9BQU8sR0FFWCxFQUNBLFVBQTBCLFNBQXRCLFlBQWdDLE9BQU8sSUFBSyxDQUM5QyxJQUFJLEdBQVksT0FBTyxJQUN2QixHQUFVLG9CQUFvQixFQUM5QixHQUFVLDJCQUEyQixFQUNyQyxHQUFVLGVBQWUsRUFDekIsR0FBVSxrQkFBa0IsRUFDNUIsR0FBVSxlQUFlLEVBRTNCLElBQUksR0FBYyxDQUFDLEVBQ2pCLFVBQXdDLFVBQXRCLFdBQWdDLFFBQVUsSUFDNUQsR0FBWSxFQUNaLEdBQWdCLEVBQ2hCLEdBQWdCLEVBQ2hCLEdBQWlCLEVBQ2pCLEdBQW1CLEVBQ25CLEdBQWMsRUFDZCxHQUFnQixFQUNoQixHQUF5QixFQUN6QixHQUFnQixFQUNoQixHQUFxQixFQUNyQixHQUFtQixHQUNuQixHQUFxQixLQUNyQixHQUFpQixLQUNqQixHQUFnQyxFQUNoQyxHQUFlLEVBQ2YsR0FBbUIsRUFDbkIsR0FBa0IsRUFDbEIsR0FBdUIsRUFDdkIsR0FBc0IsRUFDdEIsR0FBd0MsRUFDeEMsR0FBb0MsRUFDcEMsR0FBOEIsRUFDOUIsR0FBdUIsRUFDdkIsR0FBZ0MsR0FDaEMsR0FBNEIsS0FDNUIsR0FBNkMsR0FDN0MsR0FBbUMsR0FDbkMsR0FBMEMsR0FDMUMsR0FBdUIsRUFDdkIsR0FBK0IsR0FDL0IsR0FBaUMsRUFDakMsR0FBNEMsRUFDNUMsR0FBZ0MsRUFDaEMsR0FBNkIsRUFDN0IsR0FBb0MsRUFDcEMsR0FBcUMsS0FDckMsR0FBc0MsS0FDdEMsR0FBb0QsR0FDcEQsR0FBK0IsRUFDL0IsR0FBdUIsSUFDdkIsR0FBcUMsSUFDckMsR0FBb0IsSUFDcEIsR0FBNEIsS0FDNUIsR0FBeUMsS0FDekMsR0FBNkIsR0FDN0IsR0FBZ0MsS0FDaEMsR0FBNkIsRUFDN0IsR0FBc0MsRUFDdEMsR0FBNEIsS0FDNUIsR0FBc0IsR0FDdEIsR0FBb0IsRUFDcEIsR0FBd0IsS0FDeEIsR0FBMkIsR0FDM0IsR0FBd0MsR0FDeEMsR0FBOEIsR0FDOUIsR0FBMkIsRUFDM0IsR0FBK0IsS0FDL0IsR0FBMkIsR0FDM0IsR0FBbUIsRUFDbkIsR0FBbUIsRUFDbkIsR0FBbUIsRUFDbkIsR0FBOEMsS0FDOUMsR0FBNkIsR0FDM0IsR0FBZ0QsSUFBSSxJQUNwRCxHQUF3QixDQUFDLEVBQzNCLEdBQXFCLEtBQ3JCLEdBQW9CLEtBQ3BCLEdBQXVCLEdBQ3ZCLEdBQTJCLEdBQzNCLEdBQTJCLEdBQzNCLEdBQWlCLEdBQ2pCLEdBQTZCLEVBQzdCLEdBQXNCLENBQUMsRUFDekIsU0FBVSxFQUFHLENBQ1gsUUFBUyxFQUFJLEVBQUcsRUFBSSxHQUF3QixPQUFRLElBQUssQ0FDdkQsSUFBSSxFQUFZLEdBQXdCLEdBQ3RDLEVBQWUsRUFBVSxZQUFZLEVBQ3ZDLEVBQVksRUFBVSxHQUFHLFlBQVksRUFBSSxFQUFVLE1BQU0sQ0FBQyxFQUMxRCxHQUFvQixFQUFjLEtBQU8sQ0FBUyxFQUVwRCxHQUFvQixHQUFlLGdCQUFnQixFQUNuRCxHQUFvQixHQUFxQixzQkFBc0IsRUFDL0QsR0FBb0IsR0FBaUIsa0JBQWtCLEVBQ3ZELEdBQW9CLFdBQVksZUFBZSxFQUMvQyxHQUFvQixVQUFXLFNBQVMsRUFDeEMsR0FBb0IsV0FBWSxRQUFRLEVBQ3hDLEdBQW9CLEdBQWdCLGlCQUFpQixFQUNyRCxHQUFvQixHQUFrQixtQkFBbUIsRUFDekQsR0FBb0IsR0FBbUIsb0JBQW9CLEVBQzNELEdBQW9CLEdBQWdCLGlCQUFpQixJQUNwRCxFQUNILEdBQW9CLGVBQWdCLENBQUMsV0FBWSxXQUFXLENBQUMsRUFDN0QsR0FBb0IsZUFBZ0IsQ0FBQyxXQUFZLFdBQVcsQ0FBQyxFQUM3RCxHQUFvQixpQkFBa0IsQ0FBQyxhQUFjLGFBQWEsQ0FBQyxFQUNuRSxHQUFvQixpQkFBa0IsQ0FBQyxhQUFjLGFBQWEsQ0FBQyxFQUNuRSxHQUNFLFdBQ0Esb0VBQW9FLE1BQ2xFLEdBQ0YsQ0FDRixFQUNBLEdBQ0UsV0FDQSx1RkFBdUYsTUFDckYsR0FDRixDQUNGLEVBQ0EsR0FBc0IsZ0JBQWlCLENBQ3JDLGlCQUNBLFdBQ0EsWUFDQSxPQUNGLENBQUMsRUFDRCxHQUNFLG1CQUNBLDJEQUEyRCxNQUFNLEdBQUcsQ0FDdEUsRUFDQSxHQUNFLHFCQUNBLDZEQUE2RCxNQUFNLEdBQUcsQ0FDeEUsRUFDQSxHQUNFLHNCQUNBLDhEQUE4RCxNQUFNLEdBQUcsQ0FDekUsRUFDQSxJQUFJLEdBQ0EsNk5BQTZOLE1BQzNOLEdBQ0YsRUFDRixHQUFxQixJQUFJLElBQ3ZCLGlFQUNHLE1BQU0sR0FBRyxFQUNULE9BQU8sRUFBZSxDQUMzQixFQUNBLEdBQWtCLGtCQUFvQixLQUFLLE9BQU8sRUFBRSxTQUFTLEVBQUUsRUFBRSxNQUFNLENBQUMsRUFDeEUsR0FBa0MsR0FDbEMsR0FBa0MsR0FDbEMsR0FBd0IsR0FDeEIsR0FBd0IsR0FDeEIsR0FBMEIsR0FDMUIsR0FBMEIsR0FDMUIsR0FBNkIsR0FDM0IsR0FBMEMsQ0FBQyxFQUMzQyxHQUFrQyxHQUNsQyxHQUEyQixTQUM3QixHQUF1QyxpQkFDdkMsR0FBaUIsK0JBQ2pCLEdBQWUsdUNBQ2YsR0FDRSxtRUFDRixHQUE2QiwyQkFDN0IsR0FBc0IsSUFDdEIsR0FBb0IsS0FDcEIsR0FBOEIsS0FDOUIsR0FBK0IsS0FDL0IsR0FBeUIsS0FDekIsR0FBNkIsSUFDN0IsR0FBUSxRQUNSLEdBQTJCLEVBQzNCLEdBQTBCLEVBQzFCLEdBQTJCLEVBQzNCLEdBQWdCLEtBQ2hCLEdBQXVCLEtBQ3ZCLEdBQW9CLENBQUUsT0FBUSxHQUFJLFFBQVMsRUFBRyxFQUM5QyxHQUFpQyxLQUNqQyxVQUF3QyxhQUF0QixXQUFtQyxXQUFrQixPQUN2RSxVQUN3QixlQUF0QixXQUFxQyxhQUFvQixPQUMzRCxHQUFZLEdBQ1osVUFBcUMsVUFBdEIsV0FBZ0MsUUFBZSxPQUM5RCxVQUN3QixpQkFBdEIsV0FDSSxzQkFDdUIsS0FBdkIsb0JBQ1csQ0FBQyxFQUFVLENBQ2xCLE9BQU8sR0FDSixRQUFRLElBQUksRUFDWixLQUFLLENBQVEsRUFDYixNQUFNLEVBQXFCLEdBRWhDLEdBQ1IsR0FBWSxFQUNaLEdBQVMsRUFDVCxHQUFVLEVBQ1YsR0FBVSxFQUNWLEdBQVcsRUFDWCxHQUFrQixJQUFJLElBQ3RCLEdBQWlCLElBQUksSUFDckIsR0FBcUIsR0FBd0IsRUFDL0MsR0FBd0IsRUFBSSxDQUMxQixVQUFZLEVBQUcsQ0FDYixJQUFJLEVBQXVCLEdBQW1CLEVBQUUsRUFDOUMsRUFBZSxHQUFnQixFQUNqQyxPQUFPLEdBQXdCLEdBRWpDLFVBQVksQ0FBQyxFQUFNLENBQ2pCLElBQUksRUFBVyxHQUFvQixDQUFJLEVBQ3ZDLEFBQVMsSUFBVCxNQUEyQixFQUFTLE1BQWYsR0FBaUMsRUFBUyxPQUFwQixPQUN2QyxHQUFtQixDQUFRLEVBQzNCLEdBQW1CLEVBQUUsQ0FBSSxHQUUvQixVQUFZLENBQUMsRUFBTSxDQUNqQixHQUFtQixFQUFFLENBQUksRUFDekIsR0FBYSxlQUFnQixFQUFNLElBQUksR0FFekMsVUFBWSxDQUFDLEVBQU0sRUFBYSxDQUM5QixHQUFtQixFQUFFLEVBQU0sQ0FBVyxFQUN0QyxHQUFhLGFBQWMsRUFBTSxDQUFXLEdBRTlDLFVBQVksQ0FBQyxFQUFNLEVBQUksRUFBUyxDQUM5QixHQUFtQixFQUFFLEVBQU0sRUFBSSxDQUFPLEVBQ3RDLElBQUksRUFBZ0IsR0FDcEIsR0FBSSxHQUFpQixHQUFRLEVBQUksQ0FDL0IsSUFBSSxFQUNGLDJCQUNBLEdBQStDLENBQUUsRUFDakQsS0FDRixBQUFZLElBQVosUUFDSSxHQUFXLEVBQVEsYUFDZixHQUNBLGlCQUNBLEdBQ0UsRUFBUSxXQUNWLEVBQ0EsWUFDa0IsRUFBUSxhQUE1QixXQUNHLEdBQ0MsZ0JBQ0EsR0FDRSxFQUFRLFVBQ1YsRUFDQSxPQUNILEdBQ0MsVUFDQSxHQUErQyxDQUFJLEVBQ25ELEtBQ0gsR0FDQyxVQUNBLEdBQStDLENBQUksRUFDbkQsS0FDTixJQUFJLEVBQU0sRUFDVixPQUFRLE9BQ0QsUUFDSCxFQUFNLEdBQVksQ0FBSSxFQUN0QixVQUNHLFNBQ0gsRUFBTSxHQUFhLENBQUksRUFFM0IsR0FBZ0IsSUFBSSxDQUFHLElBQ25CLEVBQU8sR0FDUCxDQUNFLElBQUssVUFDTCxLQUNjLElBQVosU0FBa0IsR0FBVyxFQUFRLFlBQzVCLE9BQ0wsRUFDTixHQUFJLENBQ04sRUFDQSxDQUNGLEVBQ0EsR0FBZ0IsSUFBSSxFQUFLLENBQUksRUFDcEIsRUFBYyxjQUFjLENBQWUsSUFBcEQsTUFDZSxJQUFaLFNBQ0MsRUFBYyxjQUNaLEdBQTZCLENBQUcsQ0FDbEMsR0FDWSxJQUFiLFVBQ0MsRUFBYyxjQUFjLEdBQXlCLENBQUcsQ0FBQyxJQUN6RCxFQUFLLEVBQWMsY0FBYyxNQUFNLEVBQ3pDLEdBQXFCLEVBQUksT0FBUSxDQUFJLEVBQ3JDLEdBQW9CLENBQUUsRUFDdEIsRUFBYyxLQUFLLFlBQVksQ0FBRSxNQUd6QyxVQUFZLENBQUMsRUFBTSxFQUFTLENBQzFCLEdBQW1CLEVBQUUsRUFBTSxDQUFPLEVBQ2xDLElBQUksRUFBZ0IsR0FDcEIsR0FBSSxHQUFpQixFQUFNLENBQ3pCLElBQUksRUFDQSxVQUErQixFQUFRLEtBQTVCLFNBQWlDLEVBQVEsR0FBSyxTQUMzRCxFQUNFLGlDQUNBLEdBQStDLENBQUUsRUFDakQsWUFDQSxHQUErQyxDQUFJLEVBQ25ELEtBQ0YsRUFBTSxFQUNSLE9BQVEsT0FDRCxtQkFDQSxtQkFDQSxvQkFDQSxtQkFDQSxhQUNBLFNBQ0gsRUFBTSxHQUFhLENBQUksRUFFM0IsSUFDRyxHQUFnQixJQUFJLENBQUcsSUFDdEIsRUFBTyxHQUFPLENBQUUsSUFBSyxnQkFBaUIsS0FBTSxDQUFLLEVBQUcsQ0FBTyxFQUM3RCxHQUFnQixJQUFJLEVBQUssQ0FBSSxFQUNwQixFQUFjLGNBQWMsQ0FBZSxJQUFwRCxNQUNBLENBQ0EsT0FBUSxPQUNELG1CQUNBLG1CQUNBLG9CQUNBLG1CQUNBLGFBQ0EsU0FDSCxHQUFJLEVBQWMsY0FBYyxHQUF5QixDQUFHLENBQUMsRUFDM0QsT0FFTixFQUFLLEVBQWMsY0FBYyxNQUFNLEVBQ3ZDLEdBQXFCLEVBQUksT0FBUSxDQUFJLEVBQ3JDLEdBQW9CLENBQUUsRUFDdEIsRUFBYyxLQUFLLFlBQVksQ0FBRSxLQUl2QyxVQUFZLENBQUMsRUFBSyxFQUFTLENBQ3pCLEdBQW1CLEVBQUUsRUFBSyxDQUFPLEVBQ2pDLElBQUksRUFBZ0IsR0FDcEIsR0FBSSxHQUFpQixFQUFLLENBQ3hCLElBQUksRUFBVSxHQUFxQixDQUFhLEVBQUUsaUJBQ2hELEVBQU0sR0FBYSxDQUFHLEVBQ3RCLEVBQVcsRUFBUSxJQUFJLENBQUcsRUFDNUIsSUFDSSxFQUFXLEVBQWMsY0FDekIsR0FBeUIsQ0FBRyxDQUM5QixFQUNBLElBQ0ksRUFBTSxHQUFPLENBQUUsSUFBSyxFQUFLLE1BQU8sRUFBRyxFQUFHLENBQU8sR0FDOUMsRUFBVSxHQUFnQixJQUFJLENBQUcsSUFDaEMsR0FBMkIsRUFBSyxDQUFPLEVBQ3hDLEVBQVcsRUFBYyxjQUFjLFFBQVEsRUFDaEQsR0FBb0IsQ0FBUSxFQUM1QixHQUFxQixFQUFVLE9BQVEsQ0FBRyxFQUMxQyxFQUFjLEtBQUssWUFBWSxDQUFRLEdBQ3hDLEVBQVcsQ0FDVixLQUFNLFNBQ04sU0FBVSxFQUNWLE1BQU8sRUFDUCxNQUFPLElBQ1QsRUFDQSxFQUFRLElBQUksRUFBSyxDQUFRLEtBRy9CLFVBQVksQ0FBQyxFQUFNLEVBQVksRUFBUyxDQUN0QyxHQUFtQixFQUFFLEVBQU0sRUFBWSxDQUFPLEVBQzlDLElBQUksRUFBZ0IsR0FDcEIsR0FBSSxHQUFpQixFQUFNLENBQ3pCLElBQUksRUFBUyxHQUFxQixDQUFhLEVBQUUsZ0JBQy9DLEVBQU0sR0FBWSxDQUFJLEVBQ3hCLEVBQWEsR0FBYyxVQUMzQixJQUFJLEVBQVcsRUFBTyxJQUFJLENBQUcsRUFDN0IsSUFBSyxFQUFVLENBQ2IsSUFBSSxFQUFRLENBQUUsUUFBUyxHQUFXLFFBQVMsSUFBSyxFQUNoRCxHQUNHLEVBQVcsRUFBYyxjQUN4QixHQUE2QixDQUFHLENBQ2xDLEVBRUEsRUFBTSxRQUFVLEdBQVMsT0FDdEIsQ0FDSCxFQUFPLEdBQ0wsQ0FDRSxJQUFLLGFBQ0wsS0FBTSxFQUNOLGtCQUFtQixDQUNyQixFQUNBLENBQ0YsR0FDQyxFQUFVLEdBQWdCLElBQUksQ0FBRyxJQUNoQyxHQUErQixFQUFNLENBQU8sRUFDOUMsSUFBSSxFQUFRLEVBQVcsRUFBYyxjQUFjLE1BQU0sRUFDekQsR0FBb0IsQ0FBSSxFQUN4QixHQUFxQixFQUFNLE9BQVEsQ0FBSSxFQUN2QyxFQUFLLEdBQUssSUFBSSxnQkFBaUIsQ0FBQyxFQUFTLEVBQVEsQ0FDL0MsRUFBSyxPQUFTLEVBQ2QsRUFBSyxRQUFVLEVBQ2hCLEVBQ0QsRUFBSyxpQkFBaUIsZUFBaUIsRUFBRyxDQUN4QyxFQUFNLFNBQVcsR0FDbEIsRUFDRCxFQUFLLGlCQUFpQixnQkFBa0IsRUFBRyxDQUN6QyxFQUFNLFNBQVcsR0FDbEIsRUFDRCxFQUFNLFNBQVcsR0FDakIsR0FBaUIsRUFBVSxFQUFZLENBQWEsRUFFdEQsRUFBVyxDQUNULEtBQU0sYUFDTixTQUFVLEVBQ1YsTUFBTyxFQUNQLE1BQU8sQ0FDVCxFQUNBLEVBQU8sSUFBSSxFQUFLLENBQVEsS0FJOUIsVUFBWSxDQUFDLEVBQUssRUFBUyxDQUN6QixHQUFtQixFQUFFLEVBQUssQ0FBTyxFQUNqQyxJQUFJLEVBQWdCLEdBQ3BCLEdBQUksR0FBaUIsRUFBSyxDQUN4QixJQUFJLEVBQVUsR0FBcUIsQ0FBYSxFQUFFLGlCQUNoRCxFQUFNLEdBQWEsQ0FBRyxFQUN0QixFQUFXLEVBQVEsSUFBSSxDQUFHLEVBQzVCLElBQ0ksRUFBVyxFQUFjLGNBQ3pCLEdBQXlCLENBQUcsQ0FDOUIsRUFDQSxJQUNJLEVBQU0sR0FBTyxDQUFFLElBQUssRUFBSyxNQUFPLEdBQUksS0FBTSxRQUFTLEVBQUcsQ0FBTyxHQUM5RCxFQUFVLEdBQWdCLElBQUksQ0FBRyxJQUNoQyxHQUEyQixFQUFLLENBQU8sRUFDeEMsRUFBVyxFQUFjLGNBQWMsUUFBUSxFQUNoRCxHQUFvQixDQUFRLEVBQzVCLEdBQXFCLEVBQVUsT0FBUSxDQUFHLEVBQzFDLEVBQWMsS0FBSyxZQUFZLENBQVEsR0FDeEMsRUFBVyxDQUNWLEtBQU0sU0FDTixTQUFVLEVBQ1YsTUFBTyxFQUNQLE1BQU8sSUFDVCxFQUNBLEVBQVEsSUFBSSxFQUFLLENBQVEsSUFHakMsRUFDQSxJQUFJLFVBQXdDLFdBQXZCLFlBQWtDLEtBQU8sU0FDNUQsR0FBWSxLQUNaLEdBQWlCLEtBQ2pCLEdBQWtCLEtBQ2xCLEdBQW9CLEtBQ3BCLEdBQXVCLEdBQ3ZCLEdBQXdCLENBQ3RCLFNBQVUsR0FDVixTQUFVLEtBQ1YsU0FBVSxLQUNWLGNBQWUsR0FDZixlQUFnQixHQUNoQixhQUFjLENBQ2hCLEVBQ0EsR0FBYyxVQUNkLEdBQ0UsNEpBQ0YsR0FBYSxHQUNiLEdBQU0sSUFDTixHQUFPLFNBQVMsVUFBVSxLQUN4QixHQUE0QixHQUM1QixHQUFvQixLQUN0QixHQUE4QixLQUM5QixHQUE4QixLQUM5QixHQUFnQixLQUNoQixHQUEwQixLQUMxQixHQUEwQixLQUMxQixHQUFpQixLQUNqQixHQUFrQixLQUNsQixHQUFxQixLQUN2QixXQUE2QixDQUFDLEVBQU8sRUFBSSxFQUFNLEVBQU8sQ0FDcEQsRUFBSyxFQUFTLEVBQU8sQ0FBRSxFQUNkLElBQVQsT0FDSSxFQUFPLEVBQWdCLEVBQUcsY0FBZSxFQUFNLEVBQUcsQ0FBSyxFQUN4RCxFQUFHLGNBQWdCLEVBQ25CLEVBQUcsVUFBWSxFQUNmLEVBQU0sY0FBZ0IsR0FBTyxDQUFDLEVBQUcsRUFBTSxhQUFhLEVBQ3BELEVBQU8sR0FBK0IsRUFBTyxDQUFDLEVBQ3RDLElBQVQsTUFBaUIsR0FBc0IsRUFBTSxFQUFPLENBQUMsSUFFekQsV0FBdUMsQ0FBQyxFQUFPLEVBQUksRUFBTSxDQUN2RCxFQUFLLEVBQVMsRUFBTyxDQUFFLEVBQ2QsSUFBVCxPQUNJLEVBQU8sRUFBbUIsRUFBRyxjQUFlLEVBQU0sQ0FBQyxFQUNwRCxFQUFHLGNBQWdCLEVBQ25CLEVBQUcsVUFBWSxFQUNmLEVBQU0sY0FBZ0IsR0FBTyxDQUFDLEVBQUcsRUFBTSxhQUFhLEVBQ3BELEVBQU8sR0FBK0IsRUFBTyxDQUFDLEVBQ3RDLElBQVQsTUFBaUIsR0FBc0IsRUFBTSxFQUFPLENBQUMsSUFFekQsV0FBdUMsQ0FBQyxFQUFPLEVBQUksRUFBUyxFQUFTLENBQ25FLEVBQUssRUFBUyxFQUFPLENBQUUsRUFDZCxJQUFULE9BQ0ksRUFBVSxFQUFlLEVBQUcsY0FBZSxFQUFTLENBQU8sRUFDNUQsRUFBRyxjQUFnQixFQUNuQixFQUFHLFVBQVksRUFDZixFQUFNLGNBQWdCLEdBQU8sQ0FBQyxFQUFHLEVBQU0sYUFBYSxFQUNwRCxFQUFVLEdBQStCLEVBQU8sQ0FBQyxFQUN6QyxJQUFULE1BQW9CLEdBQXNCLEVBQVMsRUFBTyxDQUFDLElBRS9ELFdBQXlCLENBQUMsRUFBTyxFQUFNLEVBQU8sQ0FDNUMsRUFBTSxhQUFlLEVBQWdCLEVBQU0sY0FBZSxFQUFNLEVBQUcsQ0FBSyxFQUN4RSxFQUFNLFlBQWMsRUFBTSxVQUFVLGFBQWUsRUFBTSxjQUN6RCxFQUFPLEdBQStCLEVBQU8sQ0FBQyxFQUNyQyxJQUFULE1BQWlCLEdBQXNCLEVBQU0sRUFBTyxDQUFDLEdBRXZELFdBQW1DLENBQUMsRUFBTyxFQUFNLENBQy9DLEVBQU0sYUFBZSxFQUFtQixFQUFNLGNBQWUsRUFBTSxDQUFDLEVBQ3BFLEVBQU0sWUFBYyxFQUFNLFVBQVUsYUFBZSxFQUFNLGNBQ3pELEVBQU8sR0FBK0IsRUFBTyxDQUFDLEVBQ3JDLElBQVQsTUFBaUIsR0FBc0IsRUFBTSxFQUFPLENBQUMsR0FFdkQsV0FBbUMsQ0FBQyxFQUFPLEVBQVMsRUFBUyxDQUMzRCxFQUFNLGFBQWUsRUFDbkIsRUFBTSxjQUNOLEVBQ0EsQ0FDRixFQUNBLEVBQU0sWUFBYyxFQUFNLFVBQVUsYUFBZSxFQUFNLGNBQ3pELEVBQVUsR0FBK0IsRUFBTyxDQUFDLEVBQ3hDLElBQVQsTUFBb0IsR0FBc0IsRUFBUyxFQUFPLENBQUMsR0FFN0QsV0FBMEIsQ0FBQyxFQUFPLENBQ2hDLElBQUksRUFBTyxHQUErQixFQUFPLENBQUMsRUFDbEQsQUFBUyxJQUFULE1BQWlCLEdBQXNCLEVBQU0sRUFBTyxDQUFDLEdBRXZELFdBQTJCLENBQUMsRUFBb0IsQ0FDOUMsRUFBa0IsR0FFcEIsV0FBOEIsQ0FBQyxFQUFzQixDQUNuRCxFQUFvQixHQUV0QixJQUFJLEdBQVcsR0FDYixHQUFvQixLQUNwQixHQUE0QixHQUM1QixHQUFjLEtBQ2QsR0FBYSxLQUNiLEdBQWMsS0FDZCxHQUFpQixJQUFJLElBQ3JCLEdBQXdCLElBQUksSUFDNUIsR0FBaUMsQ0FBQyxFQUNsQyxHQUNFLHNQQUFzUCxNQUNwUCxHQUNGLEVBQ0YsR0FBMkIsS0E0RzdCLEdBM0dBLEdBQXNCLFVBQVUsT0FBUyxHQUFhLFVBQVUsZUFDckQsQ0FBQyxFQUFVLEVBQXNDLENBQ3hELElBQUksRUFBTyxLQUFLLGNBQ2hCLEdBQWEsSUFBVCxLQUFlLE1BQU0sTUFBTSxrQ0FBa0MsRUFDakUsT0FBc0IsSUFBdEIsV0FDSSxRQUFRLE1BQ04sMklBQ0YsRUFDQSxFQUFpQixDQUFvQyxFQUNuRCxRQUFRLE1BQ04sb0pBQ0YsU0FDdUIsSUFBdkIsYUFDQSxRQUFRLE1BQ04sb0ZBQ0YsRUFDTixFQUF1QyxFQUFLLFFBQzVDLElBQUksRUFBTyxHQUFrQixDQUFvQyxFQUNqRSxHQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsS0FDQSxJQUNGLEdBRUosR0FBc0IsVUFBVSxRQUFVLEdBQWEsVUFBVSxnQkFDdEQsQ0FBQyxFQUFzQyxDQU05QyxVQUxzQixJQUF0QixZQUNFLFFBQVEsTUFDTixrSUFDRixFQUNGLEVBQXVDLEtBQUssY0FDL0IsSUFBVCxLQUErQyxDQUNqRCxLQUFLLGNBQWdCLEtBQ3JCLElBQUksRUFBWSxFQUFxQyxjQUNyRCxDQUFDLElBQW9CLEdBQWdCLE9BQW9CLElBQ3ZELFFBQVEsTUFDTixrTUFDRixFQUNGLEdBQ0UsS0FDQSxFQUNBLEtBQ0EsSUFDRixFQUNBLEdBQWdCLEVBQ2hCLEVBQVUsSUFBZ0MsT0FHaEQsR0FBc0IsVUFBVSxtQ0FBc0MsQ0FDcEUsRUFDQSxDQUNBLEdBQUksRUFBUSxDQUNWLElBQUksRUFBaUIsR0FBc0IsRUFDM0MsRUFBUyxDQUFFLFVBQVcsS0FBTSxPQUFRLEVBQVEsU0FBVSxDQUFlLEVBQ3JFLFFBQ00sRUFBSSxFQUNSLEVBQUksR0FBK0IsUUFDN0IsSUFBTixHQUNBLEVBQWlCLEdBQStCLEdBQUcsU0FDbkQsS0FFRixHQUErQixPQUFPLEVBQUcsRUFBRyxDQUFNLEVBQzVDLElBQU4sR0FBVyxHQUErQixDQUFNLFlBRzFDLEVBQUcsQ0FDWCxJQUFJLEVBQXNDLFdBQzFDLEdBQWlCLElBQWIsU0FDRixNQUFNLE1BQ0o7QUFBQSxtQkFDRyxFQUNDO0FBQUE7QUFBQSx5REFDTixHQUNELFNBQ29CLE1BQXRCLFlBQ1MsSUFBSSxXQUFaLGFBQ3NCLElBQUksVUFBVSxVQUFwQyxtQkFDc0IsTUFBdEIsWUFDUSxJQUFJLFdBQVosYUFDc0IsSUFBSSxVQUFVLFFBQXBDLG1CQUNzQixJQUFJLFVBQVUsVUFBcEMsWUFDQSxRQUFRLE1BQ04sMklBQ0YsRUFDRixHQUF3QixvQkFBdUIsQ0FBQyxFQUFvQixDQUNsRSxJQUFJLEVBQVEsRUFBbUIsZ0JBQy9CLEdBQWUsSUFBTixPQUFhLENBQ3BCLFVBQTBCLEVBQW1CLFNBQXpDLFdBQ0YsTUFBTSxNQUFNLGdEQUFnRCxFQUU5RCxNQURBLEVBQXFCLE9BQU8sS0FBSyxDQUFrQixFQUFFLEtBQUssR0FBRyxFQUN2RCxNQUNKLHNEQUNFLENBQ0osRUFTRixPQVBBLEVBQXFCLEdBQThCLENBQUssRUFDeEQsRUFDVyxJQUFULEtBQ0ksR0FBeUIsQ0FBa0IsRUFDM0MsS0FDTixFQUNXLElBQVQsS0FBOEIsS0FBTyxFQUFtQixVQUNuRCxZQUdJLEVBQUcsQ0FDWixJQUFJLEVBQVksQ0FDZCxXQUFZLEVBQ1osUUFBUyxTQUNULG9CQUFxQixZQUNyQixxQkFBc0IsRUFDdEIsd0JBQXlCLEdBQ3pCLGtCQUFtQixRQUNyQixFQWdCQSxPQWZBLEVBQVUsa0JBQW9CLEdBQzlCLEVBQVUsNEJBQThCLEdBQ3hDLEVBQVUsNEJBQThCLEdBQ3hDLEVBQVUsY0FBZ0IsR0FDMUIsRUFBVSx3QkFBMEIsR0FDcEMsRUFBVSx3QkFBMEIsR0FDcEMsRUFBVSxlQUFpQixHQUMzQixFQUFVLGdCQUFrQixHQUM1QixFQUFVLG1CQUFxQixHQUMvQixFQUFVLGdCQUFrQixFQUM1QixFQUFVLGFBQWUsRUFDekIsRUFBVSxrQkFBb0IsRUFDOUIsRUFBVSxnQkFBa0IsR0FDNUIsRUFBVSxnQkFBa0IsR0FDNUIsRUFBVSxxQkFBdUIsR0FDMUIsR0FBZ0IsQ0FBUyxHQUMvQixHQUNILElBQ0EsT0FBTyxNQUFRLE9BQU8sT0FDcEIsR0FBSyxVQUFVLFVBQVUsUUFBUSxRQUFRLEdBQ2xDLFVBQVUsVUFBVSxRQUFRLE1BQU0sSUFBekMsSUFDQSxHQUFLLFVBQVUsVUFBVSxRQUFRLFNBQVMsR0FDNUMsQ0FDQSxJQUFJLEdBQVcsT0FBTyxTQUFTLFNBQy9CLG1CQUFtQixLQUFLLEVBQVEsR0FDOUIsUUFBUSxLQUNOLDRHQUNlLEtBQVosUUFDRztBQUFBLDJHQUNBLElBQ04sa0JBQ0YsRUFFSixBQUFRLHNCQUFzQixDQUFDLEVBQVcsRUFBUyxDQUNqRCxJQUFLLEVBQWlCLENBQVMsRUFDN0IsTUFBTSxNQUFNLHdDQUF3QyxFQUN0RCxHQUE2QixDQUFTLEVBQ3RDLElBQUksRUFBZSxHQUNqQixFQUFtQixHQUNuQixFQUFrQixHQUNsQixFQUFnQixHQUNoQixFQUFxQixHQUNyQixFQUFzQixLQTBDeEIsT0F6Q1MsSUFBVCxNQUNhLElBQU4sU0FDSixFQUFRLFFBQ0wsUUFBUSxLQUNOLHVHQUNGLFNBQ29CLElBQXBCLFVBQ1MsSUFBVCxNQUNBLEVBQVEsV0FBYSxJQUNyQixRQUFRLE1BQ047QUFBQTtBQUFBO0FBQUEsd0JBQ0YsRUFDRyxFQUFRLHNCQUFmLEtBQXVDLEVBQWUsSUFDM0MsRUFBUSxtQkFBZCxTQUNGLEVBQW1CLEVBQVEsa0JBQ25CLEVBQVEsa0JBQWQsU0FDRixFQUFrQixFQUFRLGlCQUNsQixFQUFRLGdCQUFkLFNBQ0YsRUFBZ0IsRUFBUSxlQUNoQixFQUFRLHFCQUFkLFNBQ0YsRUFBcUIsRUFBUSxvQkFDckIsRUFBUSwrQkFBZCxTQUNGLEVBQXNCLEVBQVEsK0JBQ25DLEVBQVUsR0FDUixFQUNBLEVBQ0EsR0FDQSxLQUNBLEtBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsSUFDRixFQUNBLEVBQVUsSUFBZ0MsRUFBUSxRQUNsRCxHQUNRLEVBQVUsV0FBaEIsRUFBMkIsRUFBVSxXQUFhLENBQ3BELEVBQ08sSUFBSSxHQUFhLENBQU8sR0FFekIsdUJBQXVCLENBQUMsRUFBVyxFQUFpQixFQUFTLENBQ25FLElBQUssRUFBaUIsQ0FBUyxFQUM3QixNQUFNLE1BQU0sd0NBQXdDLEVBQ3RELEdBQTZCLENBQVMsRUFDM0IsSUFBTixRQUNILFFBQVEsTUFDTixvSEFDRixFQUNGLElBQUksRUFBZSxHQUNqQixFQUFtQixHQUNuQixFQUFrQixHQUNsQixFQUFnQixHQUNoQixFQUFxQixHQUNyQixFQUFzQixLQUN0QixFQUFZLEtBd0NkLE9BdkNTLElBQVQsTUFDYSxJQUFOLFNBQ0csRUFBUSxzQkFBZixLQUF1QyxFQUFlLElBQzVDLEVBQVEsbUJBQWQsU0FDRixFQUFtQixFQUFRLGtCQUNuQixFQUFRLGtCQUFkLFNBQ0YsRUFBa0IsRUFBUSxpQkFDbEIsRUFBUSxnQkFBZCxTQUNGLEVBQWdCLEVBQVEsZUFDaEIsRUFBUSxxQkFBZCxTQUNGLEVBQXFCLEVBQVEsb0JBQ3JCLEVBQVEsK0JBQWQsU0FDRixFQUFzQixFQUFRLDhCQUN0QixFQUFRLFlBQWQsU0FBNEIsRUFBWSxFQUFRLFlBQ3ZELEVBQWtCLEdBQ2hCLEVBQ0EsRUFDQSxHQUNBLEVBQ1EsR0FBUixLQUFrQixFQUFVLEtBQzVCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsRUFDQSxFQUFnQixRQUFVLEdBQXFCLElBQUksRUFDbkQsRUFBVSxFQUFnQixRQUMxQixFQUFlLEdBQWtCLENBQU8sRUFDeEMsRUFBbUIsR0FBYSxDQUFZLEVBQzVDLEVBQWlCLFNBQVcsS0FDNUIsR0FBYyxFQUFTLEVBQWtCLENBQVksRUFDckQsRUFBZ0IsUUFBUSxNQUFRLEVBQ2hDLEdBQWtCLEVBQWlCLENBQVksRUFDL0MsR0FBc0IsQ0FBZSxFQUNyQyxFQUFVLElBQWdDLEVBQWdCLFFBQzFELEdBQTJCLENBQVMsRUFDN0IsSUFBSSxHQUFzQixDQUFlLEdBRTFDLFdBQVUsZ0JBQ0ssaUNBQXZCLG9CQUVXLCtCQUErQiw2QkFEeEMsWUFFQSwrQkFBK0IsMkJBQTJCLE1BQU0sQ0FBQyxJQUNsRSx3QkN2bXdCSCxHQUFPLGdDQ25DVCxPQUFPLGVBQWUsR0FBUyxhQUFjLENBQUUsTUFBTyxFQUFLLENBQUMsRUFDNUQsQUFBUSxTQUFRLEdBQ2hCLEFBQVEsYUFBWSxHQWVwQixJQUFNLEdBQW1CLHdDQWFuQixHQUFvQixrQ0F3QnBCLEdBQW9CLHNGQVFwQixHQUFrQixrQ0FDbEIsR0FBYSxPQUFPLFVBQVUsU0FDOUIsSUFBOEIsSUFBTSxDQUN0QyxJQUFNLFVBQWEsRUFBRyxHQUV0QixPQURBLEVBQUUsVUFBWSxPQUFPLE9BQU8sSUFBSSxFQUN6QixJQUNSLEVBT0gsU0FBUyxFQUFLLENBQUMsRUFBSyxFQUFTLENBQ3pCLElBQU0sRUFBTSxJQUFJLEdBQ1YsRUFBTSxFQUFJLE9BRWhCLEdBQUksRUFBTSxFQUNOLE9BQU8sRUFDWCxJQUFNLEVBQU0sR0FBUyxRQUFVLEdBQzNCLEVBQVEsRUFDWixFQUFHLENBQ0MsSUFBTSxFQUFRLEVBQUksUUFBUSxJQUFLLENBQUssRUFDcEMsR0FBSSxJQUFVLEdBQ1YsTUFDSixJQUFNLEVBQVcsRUFBSSxRQUFRLElBQUssQ0FBSyxFQUNqQyxFQUFTLElBQWEsR0FBSyxFQUFNLEVBQ3ZDLEdBQUksRUFBUSxFQUFRLENBRWhCLEVBQVEsRUFBSSxZQUFZLElBQUssRUFBUSxDQUFDLEVBQUksRUFDMUMsU0FFSixJQUFNLEVBQWMsR0FBVyxFQUFLLEVBQU8sQ0FBSyxFQUMxQyxFQUFZLEdBQVMsRUFBSyxFQUFPLENBQVcsRUFDNUMsRUFBTSxFQUFJLE1BQU0sRUFBYSxDQUFTLEVBRTVDLEdBQUksRUFBSSxLQUFTLE9BQVcsQ0FDeEIsSUFBSSxFQUFjLEdBQVcsRUFBSyxFQUFRLEVBQUcsQ0FBTSxFQUMvQyxFQUFZLEdBQVMsRUFBSyxFQUFRLENBQVcsRUFDM0MsRUFBUSxFQUFJLEVBQUksTUFBTSxFQUFhLENBQVMsQ0FBQyxFQUNuRCxFQUFJLEdBQU8sRUFFZixFQUFRLEVBQVMsUUFDWixFQUFRLEdBQ2pCLE9BQU8sRUFFWCxTQUFTLEVBQVUsQ0FBQyxFQUFLLEVBQU8sRUFBSyxDQUNqQyxFQUFHLENBQ0MsSUFBTSxFQUFPLEVBQUksV0FBVyxDQUFLLEVBQ2pDLEdBQUksSUFBUyxJQUFnQixJQUFTLEVBQ2xDLE9BQU8sVUFDSixFQUFRLEdBQ25CLE9BQU8sRUFFWCxTQUFTLEVBQVEsQ0FBQyxFQUFLLEVBQU8sRUFBSyxDQUMvQixNQUFPLEVBQVEsRUFBSyxDQUNoQixJQUFNLEVBQU8sRUFBSSxhQUFhLENBQUssRUFDbkMsR0FBSSxJQUFTLElBQWdCLElBQVMsRUFDbEMsT0FBTyxFQUFRLEVBRXZCLE9BQU8sRUFXWCxTQUFTLEVBQVMsQ0FBQyxFQUFNLEVBQUssRUFBUyxDQUNuQyxJQUFNLEVBQU0sR0FBUyxRQUFVLG1CQUMvQixJQUFLLEdBQWlCLEtBQUssQ0FBSSxFQUMzQixNQUFNLElBQUksVUFBVSw2QkFBNkIsR0FBTSxFQUUzRCxJQUFNLEVBQVEsRUFBSSxDQUFHLEVBQ3JCLElBQUssR0FBa0IsS0FBSyxDQUFLLEVBQzdCLE1BQU0sSUFBSSxVQUFVLDRCQUE0QixHQUFLLEVBRXpELElBQUksRUFBTSxFQUFPLElBQU0sRUFDdkIsSUFBSyxFQUNELE9BQU8sRUFDWCxHQUFJLEVBQVEsU0FBVyxPQUFXLENBQzlCLElBQUssT0FBTyxVQUFVLEVBQVEsTUFBTSxFQUNoQyxNQUFNLElBQUksVUFBVSw2QkFBNkIsRUFBUSxRQUFRLEVBRXJFLEdBQU8sYUFBZSxFQUFRLE9BRWxDLEdBQUksRUFBUSxPQUFRLENBQ2hCLElBQUssR0FBa0IsS0FBSyxFQUFRLE1BQU0sRUFDdEMsTUFBTSxJQUFJLFVBQVUsNkJBQTZCLEVBQVEsUUFBUSxFQUVyRSxHQUFPLFlBQWMsRUFBUSxPQUVqQyxHQUFJLEVBQVEsS0FBTSxDQUNkLElBQUssR0FBZ0IsS0FBSyxFQUFRLElBQUksRUFDbEMsTUFBTSxJQUFJLFVBQVUsMkJBQTJCLEVBQVEsTUFBTSxFQUVqRSxHQUFPLFVBQVksRUFBUSxLQUUvQixHQUFJLEVBQVEsUUFBUyxDQUNqQixJQUFLLEdBQU8sRUFBUSxPQUFPLElBQ3RCLE9BQU8sU0FBUyxFQUFRLFFBQVEsUUFBUSxDQUFDLEVBQzFDLE1BQU0sSUFBSSxVQUFVLDhCQUE4QixFQUFRLFNBQVMsRUFFdkUsR0FBTyxhQUFlLEVBQVEsUUFBUSxZQUFZLEVBRXRELEdBQUksRUFBUSxTQUNSLEdBQU8sYUFFWCxHQUFJLEVBQVEsT0FDUixHQUFPLFdBRVgsR0FBSSxFQUFRLFlBQ1IsR0FBTyxnQkFFWCxHQUFJLEVBQVEsU0FJUixjQUh3QixFQUFRLFdBQWEsU0FDdkMsRUFBUSxTQUFTLFlBQVksRUFDN0IsWUFFRyxNQUNELEdBQU8saUJBQ1AsVUFDQyxTQUNELEdBQU8sb0JBQ1AsVUFDQyxPQUNELEdBQU8sa0JBQ1AsY0FFQSxNQUFNLElBQUksVUFBVSwrQkFBK0IsRUFBUSxVQUFVLEVBR2pGLEdBQUksRUFBUSxTQUlSLGNBSHdCLEVBQVEsV0FBYSxTQUN2QyxFQUFRLFNBQVMsWUFBWSxFQUM3QixFQUFRLGNBRUwsT0FDQSxTQUNELEdBQU8sb0JBQ1AsVUFDQyxNQUNELEdBQU8saUJBQ1AsVUFDQyxPQUNELEdBQU8sa0JBQ1AsY0FFQSxNQUFNLElBQUksVUFBVSwrQkFBK0IsRUFBUSxVQUFVLEVBR2pGLE9BQU8sRUFLWCxTQUFTLEVBQU0sQ0FBQyxFQUFLLENBQ2pCLEdBQUksRUFBSSxRQUFRLEdBQUcsSUFBTSxHQUNyQixPQUFPLEVBQ1gsR0FBSSxDQUNBLE9BQU8sbUJBQW1CLENBQUcsUUFFMUIsRUFBUCxDQUNJLE9BQU8sR0FNZixTQUFTLEVBQU0sQ0FBQyxFQUFLLENBQ2pCLE9BQU8sR0FBVyxLQUFLLENBQUcsSUFBTSxvQ0MzT3BDLEFBQVEsY0FBYSxHQUNyQixBQUFRLFlBQW1CLFdBQWUsT0FDMUMsSUFBSSxHQUFNLElBQUksWUFBWSxLQUFPLEVBQzdCLFdBQW9CLENBQUMsRUFBRyxFQUFHLENBQzNCLElBQUksRUFBSSxFQUFFLE9BQ04sRUFBSSxFQUFFLE9BQ04sRUFBTSxHQUFNLEVBQUksRUFDaEIsRUFBSyxHQUNMLEVBQUssRUFDTCxFQUFLLEVBQ0wsRUFBSSxFQUNSLE1BQU8sSUFDSCxHQUFJLEVBQUUsV0FBVyxDQUFDLElBQU0sR0FBSyxFQUVqQyxJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUcsSUFBSyxDQUNwQixJQUFJLEVBQUssR0FBSSxFQUFFLFdBQVcsQ0FBQyxHQUN2QixFQUFLLEVBQUssRUFJZCxHQUhBLElBQVEsRUFBSyxHQUFNLEVBQU0sRUFDekIsS0FBUSxFQUFLLEdBQ2IsR0FBTSxFQUNGLEVBQUssRUFDTCxJQUVKLEdBQUksRUFBSyxFQUNMLElBRUosRUFBTSxHQUFNLEVBQUssRUFDakIsRUFBTSxHQUFNLElBQU8sRUFBSyxHQUN4QixHQUFNLEVBRVYsRUFBSSxFQUNKLE1BQU8sSUFDSCxHQUFJLEVBQUUsV0FBVyxDQUFDLEdBQUssRUFFM0IsT0FBTyxHQUVQLFdBQW1CLENBQUMsRUFBRyxFQUFHLENBQzFCLElBQUksRUFBSSxFQUFFLE9BQ04sRUFBSSxFQUFFLE9BQ04sRUFBTSxDQUFDLEVBQ1AsRUFBTSxDQUFDLEVBQ1AsRUFBUSxLQUFLLEtBQUssRUFBSSxFQUFFLEVBQ3hCLEVBQVEsS0FBSyxLQUFLLEVBQUksRUFBRSxFQUM1QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQU8sSUFDdkIsRUFBSSxHQUFLLEdBQ1QsRUFBSSxHQUFLLEVBRWIsSUFBSSxFQUFJLEVBQ1IsS0FBTyxFQUFJLEVBQVEsRUFBRyxJQUFLLENBQ3ZCLElBQUksRUFBTyxFQUNQLEVBQU8sR0FDUCxFQUFVLEVBQUksR0FDZCxFQUFTLEtBQUssSUFBSSxHQUFJLENBQUMsRUFBSSxFQUMvQixRQUFTLEVBQUksRUFBUyxFQUFJLEVBQVEsSUFDOUIsR0FBSSxFQUFFLFdBQVcsQ0FBQyxJQUFNLEdBQUssRUFFakMsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFHLElBQUssQ0FDeEIsSUFBSSxFQUFLLEdBQUksRUFBRSxXQUFXLENBQUMsR0FDdkIsRUFBTSxFQUFLLEVBQUksR0FBTSxLQUFPLEVBQUssRUFDakMsRUFBTSxFQUFLLEVBQUksR0FBTSxLQUFPLEVBQUssRUFDakMsRUFBSyxFQUFLLEVBQ1YsSUFBUyxFQUFLLEdBQU0sR0FBUSxFQUFRLEVBQVEsRUFBSyxFQUNqRCxFQUFLLElBQVMsRUFBSyxHQUNuQixHQUFLLEVBQU8sRUFDaEIsR0FBSyxJQUFPLEdBQU0sRUFDZCxFQUFLLEVBQUksR0FBTSxJQUFNLEdBQUssRUFFOUIsR0FBSyxLQUFPLEdBQU0sRUFDZCxFQUFLLEVBQUksR0FBTSxJQUFNLEdBQUssRUFFOUIsRUFBTSxHQUFNLEVBQUssRUFDakIsR0FBTSxJQUFNLEVBQUssRUFDakIsRUFBTyxLQUFPLEVBQUssR0FDbkIsRUFBTyxFQUFLLEVBRWhCLFFBQVMsRUFBSSxFQUFTLEVBQUksRUFBUSxJQUM5QixHQUFJLEVBQUUsV0FBVyxDQUFDLEdBQUssRUFHL0IsSUFBSSxHQUFLLEVBQ0wsR0FBSyxHQUNMLEdBQVEsRUFBSSxHQUNaLEdBQU8sS0FBSyxJQUFJLEdBQUksRUFBSSxFQUFLLEVBQUksR0FDckMsUUFBUyxFQUFJLEdBQU8sRUFBSSxHQUFNLElBQzFCLEdBQUksRUFBRSxXQUFXLENBQUMsSUFBTSxHQUFLLEVBRWpDLElBQUksR0FBUSxFQUNaLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBRyxJQUFLLENBQ3hCLElBQUksRUFBSyxHQUFJLEVBQUUsV0FBVyxDQUFDLEdBQ3ZCLEVBQU0sRUFBSyxFQUFJLEdBQU0sS0FBTyxFQUFLLEVBQ2pDLEVBQU0sRUFBSyxFQUFJLEdBQU0sS0FBTyxFQUFLLEVBQ2pDLEVBQUssRUFBSyxHQUNWLElBQVMsRUFBSyxHQUFNLElBQU0sR0FBTSxHQUFNLEVBQUssRUFDM0MsRUFBSyxLQUFPLEVBQUssSUFDakIsR0FBSyxHQUFLLEVBR2QsR0FGQSxJQUFVLElBQVEsRUFBSSxFQUFNLEVBQzVCLElBQVUsS0FBUSxFQUFJLEVBQU0sRUFDdkIsSUFBTyxHQUFNLEVBQ2QsRUFBSyxFQUFJLEdBQU0sSUFBTSxHQUFLLEVBRTlCLEdBQUssS0FBTyxHQUFNLEVBQ2QsRUFBSyxFQUFJLEdBQU0sSUFBTSxHQUFLLEVBRTlCLEVBQU0sR0FBTSxFQUFLLEVBQ2pCLEdBQU0sSUFBTSxFQUFLLEVBQ2pCLEdBQUssS0FBTyxFQUFLLEdBQ2pCLEdBQUssRUFBSyxFQUVkLFFBQVMsRUFBSSxHQUFPLEVBQUksR0FBTSxJQUMxQixHQUFJLEVBQUUsV0FBVyxDQUFDLEdBQUssRUFFM0IsT0FBTyxJQUVQLFdBQW9CLENBQUMsRUFBRyxFQUFHLENBQzNCLEdBQUksRUFBRSxPQUFTLEVBQUUsT0FBUSxDQUNyQixJQUFJLEVBQU0sRUFDVixFQUFJLEVBQ0osRUFBSSxFQUVSLEdBQUksRUFBRSxTQUFXLEVBQ2IsT0FBTyxFQUFFLE9BRWIsR0FBSSxFQUFFLFFBQVUsR0FDWixPQUFPLEdBQVMsRUFBRyxDQUFDLEVBRXhCLE9BQU8sR0FBUSxFQUFHLENBQUMsR0FFdkIsQUFBUSxZQUFXLEdBQ25CLElBQUksV0FBbUIsQ0FBQyxFQUFLLEVBQUssQ0FDOUIsSUFBSSxFQUFlLElBQ2YsRUFBWSxFQUNoQixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksT0FBUSxJQUFLLENBQ2pDLElBQUksRUFBTyxHQUFTLEVBQUssRUFBSSxFQUFFLEVBQy9CLEdBQUksRUFBTyxFQUNQLEVBQWUsRUFDZixFQUFZLEVBR3BCLE9BQU8sRUFBSSxJQUVmLEFBQVEsV0FBVSx5QkM3SWxCLFNBQVMsRUFBRyxDQUdWLElBQUksRUFDSixHQUFJLENBQ0YsU0FBbUIsT0FBUyxvQkFBc0IsS0FBSyxXQUFhLFlBQWUsS0FBSyxTQUFTLFVBQVcsQ0FBRSxZQUFhLE1BQU8sQ0FBQyxFQUFJLFdBQ2hJLEVBQVAsQ0FDQSxRQUFRLElBQUksd0RBQXdELEVBR3RFLElBQUksT0FHQSxFQUFVLENBQUMsRUFDYixFQUFXLENBQUMsRUFLVixFQUFjLENBVWhCLFlBQWEsQ0FBQyxFQUFNLEVBQU0sRUFBUyxDQUNqQyxJQUFJLEVBQWUsR0FBVyxHQUFZLEVBQVEsWUFFbEQsR0FBSSxFQUFhLENBQ2YsSUFBSSxFQUFVLEVBQUssT0FDakIsRUFBVSxFQUFLLE9BR2pCLEdBQUksSUFBWSxFQUFHLE9BQU8sRUFDMUIsR0FBSSxJQUFZLEVBQUcsT0FBTyxFQUcxQixJQUFJLEVBQVEsRUFBUyxFQUFHLEVBQUcsRUFHM0IsSUFBSyxFQUFFLEVBQUcsRUFBRSxJQUFXLEVBQ3JCLEVBQVEsR0FBSyxFQUNiLEVBQVMsR0FBSyxFQUFLLFdBQVcsQ0FBQyxFQUVqQyxFQUFRLEdBQVcsRUFFbkIsSUFBSSxFQUVKLElBQUssRUFBSSxFQUFHLEVBQUksSUFBVyxFQUFHLENBQzVCLEVBQVUsRUFBSSxFQUVkLElBQUssRUFBSSxFQUFHLEVBQUksSUFBVyxFQUFHLENBVTVCLEdBVEEsRUFBUyxFQUdULEVBQWUsRUFBUyxRQUFRLEVBQUssT0FBTyxDQUFDLEVBQUcsT0FBTyxhQUFhLEVBQVMsRUFBRSxDQUFDLElBQXZFLEVBRVQsRUFBVSxFQUFRLElBQU0sRUFBUyxFQUFJLEdBR3JDLEVBQU0sRUFBUyxFQUNYLEVBQVUsRUFDWixFQUFVLEVBSVosR0FEQSxFQUFNLEVBQVEsRUFBSSxHQUFLLEVBQ25CLEVBQVUsRUFDWixFQUFVLEVBSVosRUFBUSxHQUFLLEVBSWYsRUFBUSxHQUFLLEVBRWYsT0FBTyxFQUVULE9BQU8sRUFBWSxTQUFTLEVBQU0sQ0FBSSxFQUcxQyxFQUdBLFVBQVcsU0FBVyxhQUFlLFNBQVcsTUFBUSxPQUFPLElBQzdELGVBQWUsRUFBRyxDQUNoQixPQUFPLEVBQ1IsaUJBR2EsS0FBVyxhQUFlLEtBQVcsYUFBZSxLQUFZLGFBQXNCLGFBQVksR0FDaEgsR0FBTyxRQUFVLGlCQUdILE9BQVMsb0JBQXNCLEtBQUssY0FBZ0IsbUJBQXFCLEtBQUssZ0JBQWtCLFdBQzlHLEtBQUssWUFBYyxpQkFHTCxTQUFXLGFBQWUsU0FBVyxLQUNuRCxPQUFPLFlBQWMsSUFFdkIscUJDbWZzQixpQkFsbEJ4QixTQUNZLEVBQUcsQ0FDWCxTQUFTLENBQXdCLENBQUMsRUFBTSxDQUN0QyxHQUFZLEdBQVIsS0FBYyxPQUFPLEtBQ3pCLFVBQTBCLElBQXRCLFdBQ0YsT0FBTyxFQUFLLFdBQWEsR0FDckIsS0FDQSxFQUFLLGFBQWUsRUFBSyxNQUFRLEtBQ3ZDLFVBQXdCLElBQXBCLFNBQTBCLE9BQU8sRUFDckMsT0FBUSxRQUNELEdBQ0gsTUFBTyxnQkFDSixFQUNILE1BQU8sY0FDSixHQUNILE1BQU8sZ0JBQ0osR0FDSCxNQUFPLGtCQUNKLEdBQ0gsTUFBTyxnQkFDSixHQUNILE1BQU8sZUFFWCxVQUF3QixJQUFwQixTQUNGLGNBQ3VCLEVBQUssTUFBekIsVUFDQyxRQUFRLE1BQ04sbUhBQ0YsRUFDRixFQUFLLGVBRUEsR0FDSCxPQUFRLEVBQUssYUFBZSxXQUFhLGlCQUN0QyxHQUNILE9BQVEsRUFBSyxTQUFTLGFBQWUsV0FBYSxpQkFDL0MsR0FDSCxJQUFJLEdBQVksRUFBSyxPQUtyQixPQUpBLEVBQU8sRUFBSyxZQUNaLElBQ0ksRUFBTyxHQUFVLGFBQWUsR0FBVSxNQUFRLEdBQ25ELEVBQWMsSUFBUCxHQUFjLGNBQWdCLEVBQU8sSUFBTSxjQUM5QyxPQUNKLEdBQ0gsT0FDRyxHQUFZLEVBQUssYUFBZSxLQUN4QixLQUFULEtBQ0ksR0FDQSxFQUF5QixFQUFLLElBQUksR0FBSyxZQUUxQyxHQUNILEdBQVksRUFBSyxTQUNqQixFQUFPLEVBQUssTUFDWixHQUFJLENBQ0YsT0FBTyxFQUF5QixFQUFLLEVBQVMsQ0FBQyxRQUN4QyxHQUFQLEdBRVIsT0FBTyxLQUVULFNBQVMsQ0FBa0IsQ0FBQyxFQUFPLENBQ2pDLE1BQU8sR0FBSyxFQUVkLFNBQVMsQ0FBc0IsQ0FBQyxFQUFPLENBQ3JDLEdBQUksQ0FDRixFQUFtQixDQUFLLEVBQ3hCLElBQUksR0FBMkIsU0FDeEIsR0FBUCxDQUNBLEdBQTJCLEdBRTdCLEdBQUksR0FBMEIsQ0FDNUIsR0FBMkIsUUFDM0IsSUFBSSxHQUF3QixHQUF5QixNQUNqRCxVQUNxQixTQUF0QixZQUNDLE9BQU8sYUFDUCxFQUFNLE9BQU8sY0FDZixFQUFNLFlBQVksTUFDbEIsU0FNRixPQUxBLEdBQXNCLEtBQ3BCLEdBQ0EsMkdBQ0EsRUFDRixFQUNPLEVBQW1CLENBQUssR0FHbkMsU0FBUyxDQUFXLEVBQUcsRUFDdkIsU0FBUyxDQUFXLEVBQUcsQ0FDckIsR0FBVSxLQUFOLEVBQXFCLENBQ3ZCLEdBQVUsUUFBUSxJQUNsQixHQUFXLFFBQVEsS0FDbkIsR0FBVyxRQUFRLEtBQ25CLEdBQVksUUFBUSxNQUNwQixHQUFZLFFBQVEsTUFDcEIsR0FBcUIsUUFBUSxlQUM3QixHQUFlLFFBQVEsU0FDdkIsSUFBSSxFQUFRLENBQ1YsYUFBYyxHQUNkLFdBQVksR0FDWixNQUFPLEVBQ1AsU0FBVSxFQUNaLEVBQ0EsT0FBTyxpQkFBaUIsUUFBUyxDQUMvQixLQUFNLEVBQ04sSUFBSyxFQUNMLEtBQU0sRUFDTixNQUFPLEVBQ1AsTUFBTyxFQUNQLGVBQWdCLEVBQ2hCLFNBQVUsQ0FDWixDQUFDLEVBRUgsS0FFRixTQUFTLENBQVksRUFBRyxDQUV0QixHQURBLEtBQ1UsS0FBTixFQUFxQixDQUN2QixJQUFJLEVBQVEsQ0FBRSxhQUFjLEdBQUksV0FBWSxHQUFJLFNBQVUsRUFBRyxFQUM3RCxPQUFPLGlCQUFpQixRQUFTLENBQy9CLElBQUssR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBUSxDQUFDLEVBQ3pDLEtBQU0sR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBUyxDQUFDLEVBQzNDLEtBQU0sR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBUyxDQUFDLEVBQzNDLE1BQU8sR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBVSxDQUFDLEVBQzdDLE1BQU8sR0FBTyxDQUFDLEVBQUcsRUFBTyxDQUFFLE1BQU8sRUFBVSxDQUFDLEVBQzdDLGVBQWdCLEdBQU8sQ0FBQyxFQUFHLEVBQU8sQ0FBRSxNQUFPLEVBQW1CLENBQUMsRUFDL0QsU0FBVSxHQUFPLENBQUMsRUFBRyxFQUFPLENBQUUsTUFBTyxFQUFhLENBQUMsQ0FDckQsQ0FBQyxFQUVILEVBQUksSUFDRixRQUFRLE1BQ04sOEVBQ0YsRUFFSixTQUFTLENBQTZCLENBQUMsRUFBTSxDQUMzQyxHQUFlLEtBQU4sT0FDUCxHQUFJLENBQ0YsTUFBTSxNQUFNLFFBQ0wsR0FBUCxDQUNBLElBQUksR0FBUSxHQUFFLE1BQU0sS0FBSyxFQUFFLE1BQU0sY0FBYyxFQUMvQyxHQUFVLElBQVMsR0FBTSxJQUFPLEdBQ2hDLEdBQ0UsR0FBSyxHQUFFLE1BQU0sUUFBUTtBQUFBLE9BQVUsRUFDM0IsaUJBQ0EsR0FBSyxHQUFFLE1BQU0sUUFBUSxHQUFHLEVBQ3RCLGVBQ0EsR0FFWixNQUFPO0FBQUEsRUFBTyxHQUFTLEVBQU8sR0FFaEMsU0FBUyxDQUE0QixDQUFDLEVBQUksR0FBVyxDQUNuRCxJQUFLLEdBQU0sR0FBUyxNQUFPLEdBQzNCLElBQUksR0FBUSxHQUFvQixJQUFJLENBQUUsRUFDdEMsR0FBZSxLQUFOLE9BQWEsT0FBTyxHQUM3QixHQUFVLEdBQ1YsR0FBUSxNQUFNLGtCQUNkLE1BQU0sa0JBQXlCLE9BQy9CLElBQUksR0FBcUIsS0FDekIsR0FBcUIsR0FBcUIsRUFDMUMsR0FBcUIsRUFBSSxLQUN6QixFQUFZLEVBQ1osR0FBSSxDQUNGLElBQUksR0FBaUIsQ0FDbkIsb0NBQXNDLEVBQUcsQ0FDdkMsR0FBSSxDQUNGLEdBQUksR0FBVyxDQUNiLElBQUksV0FBZ0IsRUFBRyxDQUNyQixNQUFNLE1BQU0sR0FPZCxHQUxBLE9BQU8sZUFBZSxHQUFLLFVBQVcsUUFBUyxDQUM3QyxZQUFjLEVBQUcsQ0FDZixNQUFNLE1BQU0sRUFFaEIsQ0FBQyxTQUN1QixVQUFwQixVQUErQixRQUFRLFVBQVcsQ0FDcEQsR0FBSSxDQUNGLFFBQVEsVUFBVSxHQUFNLENBQUMsQ0FBQyxRQUNuQixHQUFQLENBQ0EsSUFBSSxHQUFVLEdBRWhCLFFBQVEsVUFBVSxFQUFJLENBQUMsRUFBRyxFQUFJLE1BQ3pCLENBQ0wsR0FBSSxDQUNGLEdBQUssS0FBSyxRQUNILEdBQVAsQ0FDQSxHQUFVLEdBRVosRUFBRyxLQUFLLEdBQUssU0FBUyxPQUVuQixDQUNMLEdBQUksQ0FDRixNQUFNLE1BQU0sUUFDTCxHQUFQLENBQ0EsR0FBVSxHQUVaLENBQUMsR0FBTyxFQUFHLFdBQ2EsR0FBSyxRQUEzQixZQUNBLEdBQUssY0FBZSxFQUFHLEVBQUUsU0FFdEIsR0FBUCxDQUNBLEdBQUksSUFBVSxXQUErQixHQUFPLFFBQTNCLFNBQ3ZCLE1BQU8sQ0FBQyxHQUFPLE1BQU8sR0FBUSxLQUFLLEVBRXZDLE1BQU8sQ0FBQyxLQUFNLElBQUksRUFFdEIsRUFDQSxHQUFlLDRCQUE0QixZQUN6Qyw4QkFDRixJQUFJLEdBQXFCLE9BQU8seUJBQzlCLEdBQWUsNEJBQ2YsTUFDRixFQUNBLElBQ0UsR0FBbUIsY0FDbkIsT0FBTyxlQUNMLEdBQWUsNEJBQ2YsT0FDQSxDQUFFLE1BQU8sNkJBQThCLENBQ3pDLEVBQ0YsSUFBSSxFQUNBLEdBQWUsNEJBQTRCLEVBQzdDLEdBQWMsRUFBc0IsR0FDcEMsR0FBZSxFQUFzQixHQUN2QyxHQUFJLElBQWUsR0FBYyxDQUMvQixJQUFJLEdBQWMsR0FBWSxNQUFNO0FBQUEsQ0FBSSxFQUN0QyxHQUFlLEdBQWEsTUFBTTtBQUFBLENBQUksRUFDeEMsSUFDRSxFQUF3QixHQUFxQixFQUM3QyxHQUFxQixHQUFZLFNBQ2hDLEdBQVksSUFBb0IsU0FDL0IsNkJBQ0YsR0FHQSxLQUNGLEtBRUUsRUFBd0IsR0FBYSxTQUNwQyxHQUFhLEdBQXVCLFNBQ25DLDZCQUNGLEdBR0EsSUFDRixHQUNFLEtBQXVCLEdBQVksUUFDbkMsSUFBMEIsR0FBYSxPQUV2QyxJQUNFLEdBQXFCLEdBQVksT0FBUyxFQUN4QyxFQUF3QixHQUFhLE9BQVMsRUFDaEQsR0FBSyxJQUNMLEdBQUssR0FDTCxHQUFZLE1BQ1YsR0FBYSxJQUdmLElBQ0osS0FFRSxHQUFLLElBQXNCLEdBQUssRUFDaEMsS0FBc0IsSUFFdEIsR0FDRSxHQUFZLE1BQ1osR0FBYSxHQUNiLENBQ0EsR0FBVSxLQUFOLEdBQWtDLElBQU4sRUFDOUIsRUFDRSxJQUNHLEtBQ0QsSUFDQSxFQUFJLEdBQ0YsR0FBWSxNQUNWLEdBQWEsR0FDakIsQ0FDQSxJQUFJLEdBQ0Y7QUFBQSxFQUNBLEdBQVksSUFBb0IsUUFDOUIsV0FDQSxNQUNGLEVBTUYsT0FMQSxFQUFHLGFBQ0QsR0FBTyxTQUFTLGFBQWEsSUFDNUIsR0FBUyxHQUFPLFFBQVEsY0FBZSxFQUFHLFdBQVcsVUFDbEMsSUFBdEIsWUFDRSxHQUFvQixJQUFJLEVBQUksRUFBTSxFQUM3QixTQUVKLEdBQUssSUFBc0IsR0FBSyxHQUV6QyxlQUdOLENBQ0EsQUFBQyxHQUFVLEdBQ1IsR0FBcUIsRUFBSSxHQUMxQixFQUFhLEVBQ1osTUFBTSxrQkFBb0IsR0FNL0IsT0FKQSxJQUFlLEdBQWMsRUFBSyxFQUFHLGFBQWUsRUFBRyxLQUFPLElBQzFELEVBQThCLEVBQVcsRUFDekMsVUFDa0IsSUFBdEIsWUFBNEIsR0FBb0IsSUFBSSxFQUFJLEVBQVcsRUFDNUQsR0FFVCxTQUFTLENBQW9DLENBQUMsRUFBTSxDQUNsRCxHQUFZLEdBQVIsS0FBYyxNQUFPLEdBQ3pCLFVBQTBCLElBQXRCLFdBQTRCLENBQzlCLElBQUksR0FBWSxFQUFLLFVBQ3JCLE9BQU8sRUFDTCxLQUNHLEtBQWMsR0FBVSxpQkFDN0IsRUFFRixVQUF3QixJQUFwQixTQUEwQixPQUFPLEVBQThCLENBQUksRUFDdkUsT0FBUSxRQUNELEdBQ0gsT0FBTyxFQUE4QixVQUFVLE9BQzVDLEdBQ0gsT0FBTyxFQUE4QixjQUFjLEVBRXZELFVBQXdCLElBQXBCLFNBQ0YsT0FBUSxFQUFLLGVBQ04sR0FDSCxPQUFRLEVBQU8sRUFBNkIsRUFBSyxPQUFRLEVBQUUsRUFBSSxPQUM1RCxHQUNILE9BQU8sRUFBcUMsRUFBSyxJQUFJLE9BQ2xELEdBQ0gsR0FBWSxFQUFLLFNBQ2pCLEVBQU8sRUFBSyxNQUNaLEdBQUksQ0FDRixPQUFPLEVBQXFDLEVBQUssRUFBUyxDQUFDLFFBQ3BELEdBQVAsR0FFUixNQUFPLEdBRVQsU0FBUyxDQUFRLEVBQUcsQ0FDbEIsSUFBSSxFQUFhLEdBQXFCLEVBQ3RDLE9BQWdCLElBQVQsS0FBc0IsS0FBTyxFQUFXLFNBQVMsRUFFMUQsU0FBUyxDQUFXLENBQUMsRUFBUSxDQUMzQixHQUFJLEdBQWUsS0FBSyxFQUFRLEtBQUssRUFBRyxDQUN0QyxJQUFJLEdBQVMsT0FBTyx5QkFBeUIsRUFBUSxLQUFLLEVBQUUsSUFDNUQsR0FBSSxJQUFVLEdBQU8sZUFBZ0IsTUFBTyxHQUU5QyxPQUFrQixFQUFPLE1BQWIsT0FFZCxTQUFTLENBQTBCLENBQUMsRUFBTyxHQUFhLENBQ3RELFNBQVMsRUFBcUIsRUFBRyxDQUMvQixLQUNJLEdBQTZCLEdBQy9CLFFBQVEsTUFDTiwwT0FDQSxFQUNGLEdBRUosR0FBc0IsZUFBaUIsR0FDdkMsT0FBTyxlQUFlLEVBQU8sTUFBTyxDQUNsQyxJQUFLLEdBQ0wsYUFBYyxFQUNoQixDQUFDLEVBRUgsU0FBUyxDQUFzQyxFQUFHLENBQ2hELElBQUksRUFBZ0IsRUFBeUIsS0FBSyxJQUFJLEVBT3RELE9BTkEsR0FBdUIsS0FDbkIsR0FBdUIsR0FBaUIsR0FDMUMsUUFBUSxNQUNOLDZJQUNGLEdBQ0YsRUFBZ0IsS0FBSyxNQUFNLElBQ1QsSUFBTixPQUFzQixFQUFnQixLQUVwRCxTQUFTLENBQVksQ0FBQyxFQUFNLEdBQUssR0FBTSxHQUFRLEdBQU8sR0FBTyxDQTZCM0QsT0E1QkEsR0FBTyxHQUFNLElBQ2IsRUFBTyxDQUNMLFNBQVUsRUFDVixLQUFNLEVBQ04sSUFBSyxHQUNMLE1BQU8sR0FDUCxPQUFRLEVBQ1YsR0FDcUIsS0FBTixPQUFhLEdBQU8sUUFBbkMsS0FDSSxPQUFPLGVBQWUsRUFBTSxNQUFPLENBQ2pDLFdBQVksR0FDWixJQUFLLENBQ1AsQ0FBQyxFQUNELE9BQU8sZUFBZSxFQUFNLE1BQU8sQ0FBRSxXQUFZLEdBQUksTUFBTyxJQUFLLENBQUMsRUFDdEUsRUFBSyxPQUFTLENBQUMsRUFDZixPQUFPLGVBQWUsRUFBSyxPQUFRLFlBQWEsQ0FDOUMsYUFBYyxHQUNkLFdBQVksR0FDWixTQUFVLEdBQ1YsTUFBTyxDQUNULENBQUMsRUFDRCxPQUFPLGVBQWUsRUFBTSxhQUFjLENBQ3hDLGFBQWMsR0FDZCxXQUFZLEdBQ1osU0FBVSxHQUNWLE1BQU8sSUFDVCxDQUFDLEVBQ0QsT0FBTyxTQUFXLE9BQU8sT0FBTyxFQUFLLEtBQUssRUFBRyxPQUFPLE9BQU8sQ0FBSSxHQUN4RCxFQUVULFNBQVMsQ0FBVSxDQUNqQixFQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxDQUNBLFVBQ3NCLElBQXBCLGlCQUNzQixJQUF0QixZQUNBLElBQVMsSUFDVCxJQUFTLElBQ1QsSUFBUyxJQUNULElBQVMsSUFDVCxJQUFTLElBQ1QsSUFBUyxVQUNZLElBQXBCLFVBQ1UsSUFBVCxPQUNDLEVBQUssV0FBYSxJQUNqQixFQUFLLFdBQWEsSUFDbEIsRUFBSyxXQUFhLElBQ2xCLEVBQUssV0FBYSxJQUNsQixFQUFLLFdBQWEsSUFDbEIsRUFBSyxXQUFhLElBQ1AsRUFBSyxjQUFYLFFBQ1QsQ0FDQSxJQUFJLEVBQVcsR0FBTyxTQUN0QixHQUFlLElBQU4sT0FDUCxHQUFJLEdBQ0YsR0FBSSxHQUFZLENBQVEsRUFBRyxDQUN6QixJQUNFLEdBQW1CLEVBQ25CLEdBQW1CLEVBQVMsT0FDNUIsS0FFQSxFQUFrQixFQUFTLElBQW1CLENBQUksRUFDcEQsT0FBTyxRQUFVLE9BQU8sT0FBTyxDQUFRLE1BRXZDLFNBQVEsTUFDTixzSkFDRixNQUNDLEdBQWtCLEVBQVUsQ0FBSSxNQUNsQyxDQUVMLEdBREEsRUFBVyxHQUVFLElBQU4sZUFDZ0IsSUFBcEIsVUFDVSxJQUFULE1BQ00sT0FBTyxLQUFLLENBQUksRUFBRSxTQUF4QixFQUVGLEdBQ0UsbUlBQ0osQUFBUyxJQUFULEtBQ0ssR0FBbUIsT0FDcEIsR0FBWSxDQUFJLEVBQ2IsR0FBbUIsUUFDVCxJQUFOLFFBQWMsRUFBSyxXQUFhLEdBQ2pDLEdBQ0EsS0FDQyxFQUF5QixFQUFLLElBQUksR0FBSyxXQUN4QyxNQUNELEVBQ0Msc0VBQ0QsVUFBMEIsRUFDbkMsUUFBUSxNQUNOLDBJQUNBLEdBQ0EsQ0FDRixFQUVGLEdBQUksR0FBZSxLQUFLLEdBQVEsS0FBSyxFQUFHLENBQ3RDLEVBQVcsRUFBeUIsQ0FBSSxFQUN4QyxJQUFJLEdBQU8sT0FBTyxLQUFLLEVBQU0sRUFBRSxlQUFnQixDQUFDLEdBQUcsQ0FDakQsT0FBaUIsS0FBVixNQUNSLEVBQ0QsR0FDRSxFQUFJLEdBQUssT0FDTCxrQkFBb0IsR0FBSyxLQUFLLFNBQVMsRUFBSSxTQUMzQyxpQkFDTixHQUFzQixFQUFXLE1BQzdCLEdBQ0EsRUFBSSxHQUFLLE9BQVMsSUFBTSxHQUFLLEtBQUssU0FBUyxFQUFJLFNBQVcsS0FDNUQsUUFBUSxNQUNOO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQ0FDQSxHQUNBLEVBQ0EsR0FDQSxDQUNGLEVBQ0MsR0FBc0IsRUFBVyxJQUFvQixJQU8xRCxHQUxBLEVBQVcsS0FDQSxLQUFOLFNBQ0YsRUFBdUIsRUFBUSxFQUFJLEVBQVcsR0FBSyxJQUN0RCxFQUFZLEVBQU0sSUFDZixFQUF1QixHQUFPLEdBQUcsRUFBSSxFQUFXLEdBQUssR0FBTyxLQUMzRCxRQUFTLEdBQVEsQ0FDbkIsR0FBVyxDQUFDLEVBQ1osUUFBUyxNQUFZLEdBQ25CLEFBQVUsS0FBVixRQUF1QixHQUFTLElBQVksR0FBTyxTQUNoRCxJQUFXLEdBUWxCLE9BUEEsR0FDRSxFQUNFLFVBQ3NCLElBQXRCLFdBQ0ksRUFBSyxhQUFlLEVBQUssTUFBUSxVQUNqQyxDQUNOLEVBQ0ssRUFBYSxFQUFNLEVBQVUsR0FBTSxHQUFRLEVBQVMsRUFBRyxFQUFRLEVBRXhFLFNBQVMsQ0FBaUIsQ0FBQyxFQUFNLEdBQVksQ0FDM0MsVUFDc0IsSUFBcEIsVUFDQSxHQUNBLEVBQUssV0FBYSxJQUVsQixHQUFJLEdBQVksQ0FBSSxFQUNsQixRQUFTLEdBQUksRUFBRyxHQUFJLEVBQUssT0FBUSxLQUFLLENBQ3BDLElBQUksR0FBUSxFQUFLLElBQ2pCLEVBQWUsRUFBSyxHQUFLLEVBQW9CLEdBQU8sRUFBVSxVQUV6RCxFQUFlLENBQUksRUFDMUIsRUFBSyxTQUFXLEVBQUssT0FBTyxVQUFZLFdBRTlCLElBQVQsYUFBcUMsSUFBcEIsU0FDYixHQUFJLE1BQ0gsR0FDQyxJQUF5QixFQUFLLEtBQy9CLEVBQUssY0FDTixVQUEwQixLQUF0QixXQUEwQixHQUFJLGFBQ2pCLEtBQXRCLFlBQ0UsS0FBTSxFQUFLLFVBQ1QsR0FBSSxHQUFFLEtBQUssQ0FBSSxFQUFJLEtBQU0sR0FFN0IsT0FBUyxFQUFPLEdBQUUsS0FBSyxHQUFHLE1BQ3hCLEVBQWUsRUFBSyxLQUFLLEdBQ3ZCLEVBQW9CLEVBQUssTUFBTyxFQUFVLEdBRXBELFNBQVMsQ0FBYyxDQUFDLEVBQVEsQ0FDOUIsY0FDc0IsSUFBcEIsVUFDUyxJQUFULE1BQ0EsRUFBTyxXQUFhLEVBR3hCLFNBQVMsQ0FBbUIsQ0FBQyxFQUFTLEdBQVksQ0FDaEQsR0FDRSxFQUFRLFNBQ1AsRUFBUSxPQUFPLFdBQ1IsRUFBUSxLQUFoQixPQUNFLEVBQVEsT0FBTyxVQUFZLEVBQzVCLEdBQWEsRUFBNkIsRUFBVSxHQUNwRCxHQUFzQixLQUN2QixDQUNBLEdBQXNCLElBQWMsR0FDcEMsSUFBSSxHQUFhLEdBQ2pCLEdBQ1UsRUFBUSxRQUFoQixNQUNBLEVBQVEsU0FBVyxFQUFTLElBQzFCLEdBQWEsWUFDSyxFQUFRLE9BQU8sTUFBbkMsU0FDSyxHQUFhLEVBQXlCLEVBQVEsT0FBTyxJQUFJLFNBQ3RDLEVBQVEsT0FBTyxPQUFuQyxXQUNDLEdBQWEsRUFBUSxPQUFPLE1BQ2hDLEdBQWEsK0JBQWlDLEdBQWEsS0FDOUQsSUFBSSxHQUFzQixHQUFxQixnQkFDL0MsR0FBcUIsd0JBQTJCLEVBQUcsQ0FDakQsSUFBSSxHQUFRLEVBQXFDLEVBQVEsSUFBSSxFQUU3RCxPQURBLEtBQXdCLElBQVMsR0FBb0IsR0FBSyxJQUNuRCxJQUVULFFBQVEsTUFDTiwwSEFDQSxHQUNBLEVBQ0YsRUFDQSxHQUFxQixnQkFBa0IsSUFHM0MsU0FBUyxDQUE0QixDQUFDLEVBQVksQ0FDaEQsSUFBSSxHQUFPLEdBQ1QsR0FBUSxFQUFTLEVBUW5CLE9BUEEsS0FDRyxHQUFRLEVBQXlCLEdBQU0sSUFBSSxLQUMzQyxHQUFPO0FBQUE7QUFBQSwrQkFBcUMsR0FBUSxNQUN2RCxLQUNJLEVBQWEsRUFBeUIsQ0FBVSxLQUMvQyxHQUNDO0FBQUE7QUFBQSx5Q0FBZ0QsRUFBYSxNQUM1RCxHQUVULElBQ0UsRUFBcUIsT0FBTyxJQUFJLDRCQUE0QixFQUM1RCxFQUFvQixPQUFPLElBQUksY0FBYyxFQUM3QyxHQUFzQixPQUFPLElBQUksZ0JBQWdCLEVBQ2pELEdBQXlCLE9BQU8sSUFBSSxtQkFBbUIsRUFDdkQsR0FBc0IsT0FBTyxJQUFJLGdCQUFnQixFQUNuRCxPQUFPLElBQUksZ0JBQWdCLEVBQzNCLElBQUksR0FBc0IsT0FBTyxJQUFJLGdCQUFnQixFQUNuRCxHQUFxQixPQUFPLElBQUksZUFBZSxFQUMvQyxHQUF5QixPQUFPLElBQUksbUJBQW1CLEVBQ3ZELEdBQXNCLE9BQU8sSUFBSSxnQkFBZ0IsRUFDakQsR0FBMkIsT0FBTyxJQUFJLHFCQUFxQixFQUMzRCxHQUFrQixPQUFPLElBQUksWUFBWSxFQUN6QyxHQUFrQixPQUFPLElBQUksWUFBWSxFQUN6QyxFQUF1QixPQUFPLElBQUksaUJBQWlCLEVBQ25ELEdBQXdCLE9BQU8sU0FDL0IsR0FBMkIsT0FBTyxJQUFJLHdCQUF3QixFQUM5RCxHQUNRLG1FQUNSLEdBQWlCLE9BQU8sVUFBVSxlQUNsQyxHQUFTLE9BQU8sT0FDaEIsR0FBMkIsT0FBTyxJQUFJLHdCQUF3QixFQUM5RCxHQUFjLE1BQU0sUUFDcEIsR0FBZ0IsRUFDaEIsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDRixFQUFZLG1CQUFxQixHQUNqQyxJQUFJLEdBQ0YsR0FDQSxHQUFVLEdBQ1IsR0FBc0IsV0FDRixVQUF0QixXQUFnQyxRQUFVLEtBRXhDLEdBQXlCLE9BQU8sSUFBSSx3QkFBd0IsRUFDOUQsR0FDRSxHQUF5QixDQUFDLEVBQzFCLEdBQXdCLENBQUMsRUFDM0IsR0FBd0IsQ0FBQyxFQUMzQixBQUFRLFlBQVcsR0FDWCxrQkFBa0IsQ0FDeEIsRUFDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsQ0FDQSxPQUFPLEVBQVcsRUFBTSxHQUFRLEdBQVUsR0FBa0IsR0FBUSxFQUFJLEtBRXpFLHVHQzFvQkwscUNBVUEsY0Nzd0lBLGlCQUdBLGFBaUNBLGFBdWxDQSxhQW1JQSxhQW1RQSxhQTZhQSxpQkFHQSxhQUdBLGFBa0dBLGFBbzFEQSxhQWdSQSxhQWdFQSxhQXNHQSxhQWppUkEsSUFBSSxHQUFvQixXQWlHeEIsU0FBUyxFQUFvQixDQUFDLEVBQVUsQ0FBQyxFQUFHLENBQzFDLFNBQVMsQ0FBcUIsQ0FBQyxFQUFTLEVBQWUsQ0FDckQsSUFBTSxXQUFVLFNBQVEsUUFBUyxFQUFRLFNBQ3pDLE9BQU8sR0FDTCxHQUNBLENBQUUsV0FBVSxTQUFRLE1BQUssRUFFekIsRUFBYyxPQUFTLEVBQWMsTUFBTSxLQUFPLEtBQ2xELEVBQWMsT0FBUyxFQUFjLE1BQU0sS0FBTyxTQUNwRCxFQUVGLFNBQVMsQ0FBaUIsQ0FBQyxFQUFTLEVBQUksQ0FDdEMsY0FBYyxJQUFPLFNBQVcsRUFBSyxHQUFXLENBQUUsRUFFcEQsT0FBTyxHQUNMLEVBQ0EsRUFDQSxLQUNBLENBQ0YsRUE2Q0YsU0FBUyxFQUFTLENBQUMsRUFBTyxFQUFTLENBQ2pDLEdBQUksSUFBVSxJQUFTLElBQVUsYUFBZSxJQUFVLFlBQ3hELE1BQU0sSUFBSSxNQUFNLENBQU8sRUFHM0IsU0FBUyxFQUFPLENBQUMsRUFBTSxFQUFTLENBQzlCLElBQUssRUFBTSxDQUNULFVBQVcsVUFBWSxZQUFhLFFBQVEsS0FBSyxDQUFPLEVBQ3hELEdBQUksQ0FDRixNQUFNLElBQUksTUFBTSxDQUFPLFFBQ2hCLEVBQVAsSUFJTixTQUFTLEVBQVMsRUFBRyxDQUNuQixPQUFPLEtBQUssT0FBTyxFQUFFLFNBQVMsRUFBRSxFQUFFLFVBQVUsRUFBRyxFQUFFLEVBRW5ELFNBQVMsRUFBZSxDQUFDLEVBQVUsRUFBTyxDQUN4QyxNQUFPLENBQ0wsSUFBSyxFQUFTLE1BQ2QsSUFBSyxFQUFTLElBQ2QsSUFBSyxDQUNQLEVBRUYsU0FBUyxFQUFjLENBQUMsRUFBUyxFQUFJLEVBQVEsS0FBTSxFQUFLLENBYXRELE1BWmUsQ0FDYixnQkFBaUIsSUFBWSxTQUFXLEVBQVUsRUFBUSxTQUMxRCxPQUFRLEdBQ1IsS0FBTSxhQUNJLElBQU8sU0FBVyxHQUFVLENBQUUsRUFBSSxFQUM1QyxRQUtBLElBQUssR0FBTSxFQUFHLEtBQU8sR0FBTyxHQUFVLENBQ3hDLEVBR0YsU0FBUyxFQUFVLEVBQ2pCLFdBQVcsSUFDWCxTQUFTLEdBQ1QsT0FBTyxJQUNOLENBQ0QsR0FBSSxHQUFVLElBQVcsSUFDdkIsR0FBWSxFQUFPLE9BQU8sQ0FBQyxJQUFNLElBQU0sRUFBUyxJQUFNLEVBQ3hELEdBQUksR0FBUSxJQUFTLElBQ25CLEdBQVksRUFBSyxPQUFPLENBQUMsSUFBTSxJQUFNLEVBQU8sSUFBTSxFQUNwRCxPQUFPLEVBRVQsU0FBUyxFQUFTLENBQUMsRUFBTSxDQUN2QixJQUFJLEVBQWEsQ0FBQyxFQUNsQixHQUFJLEVBQU0sQ0FDUixJQUFJLEVBQVksRUFBSyxRQUFRLEdBQUcsRUFDaEMsR0FBSSxHQUFhLEVBQ2YsRUFBVyxLQUFPLEVBQUssVUFBVSxDQUFTLEVBQzFDLEVBQU8sRUFBSyxVQUFVLEVBQUcsQ0FBUyxFQUVwQyxJQUFJLEVBQWMsRUFBSyxRQUFRLEdBQUcsRUFDbEMsR0FBSSxHQUFlLEVBQ2pCLEVBQVcsT0FBUyxFQUFLLFVBQVUsQ0FBVyxFQUM5QyxFQUFPLEVBQUssVUFBVSxFQUFHLENBQVcsRUFFdEMsR0FBSSxFQUNGLEVBQVcsU0FBVyxFQUcxQixPQUFPLEVBRVQsU0FBUyxFQUFrQixDQUFDLEVBQWEsRUFBYSxFQUFrQixFQUFVLENBQUMsRUFBRyxDQUNwRixJQUFNLE9BQVEsRUFBVSxTQUFTLFlBQWEsV0FBVyxJQUFVLEVBQy9ELEVBQWdCLEVBQVEsUUFDeEIsRUFBUyxNQUNULEVBQVcsS0FDWCxFQUFRLEVBQVMsRUFDckIsR0FBSSxHQUFTLEtBQ1gsRUFBUSxFQUNSLEVBQWMsYUFBYSxJQUFLLEVBQWMsTUFBTyxJQUFLLENBQU0sRUFBRyxFQUFFLEVBRXZFLFNBQVMsQ0FBUSxFQUFHLENBRWxCLE9BRFksRUFBYyxPQUFTLENBQUUsSUFBSyxJQUFLLEdBQ2xDLElBRWYsU0FBUyxDQUFTLEVBQUcsQ0FDbkIsRUFBUyxNQUNULElBQUksRUFBWSxFQUFTLEVBQ3JCLEVBQVEsR0FBYSxLQUFPLEtBQU8sRUFBWSxFQUVuRCxHQURBLEVBQVEsRUFDSixFQUNGLEVBQVMsQ0FBRSxTQUFRLFNBQVUsRUFBUSxTQUFVLE9BQU0sQ0FBQyxFQUcxRCxTQUFTLENBQUksQ0FBQyxFQUFJLEVBQU8sQ0FDdkIsRUFBUyxPQUNULElBQUksRUFBVyxHQUFlLEVBQVEsU0FBVSxFQUFJLENBQUssRUFDekQsR0FBSSxFQUFrQixFQUFpQixFQUFVLENBQUUsRUFDbkQsRUFBUSxFQUFTLEVBQUksRUFDckIsSUFBSSxFQUFlLEdBQWdCLEVBQVUsQ0FBSyxFQUM5QyxFQUFNLEVBQVEsV0FBVyxDQUFRLEVBQ3JDLEdBQUksQ0FDRixFQUFjLFVBQVUsRUFBYyxHQUFJLENBQUcsUUFDdEMsR0FBUCxDQUNBLEdBQUksY0FBaUIsY0FBZ0IsR0FBTSxPQUFTLGlCQUNsRCxNQUFNLEdBRVIsRUFBUSxTQUFTLE9BQU8sQ0FBRyxFQUU3QixHQUFJLEdBQVksRUFDZCxFQUFTLENBQUUsU0FBUSxTQUFVLEVBQVEsU0FBVSxNQUFPLENBQUUsQ0FBQyxFQUc3RCxTQUFTLENBQVEsQ0FBQyxFQUFJLEVBQU8sQ0FDM0IsRUFBUyxVQUNULElBQUksRUFBVyxHQUFlLEVBQVEsU0FBVSxFQUFJLENBQUssRUFDekQsR0FBSSxFQUFrQixFQUFpQixFQUFVLENBQUUsRUFDbkQsRUFBUSxFQUFTLEVBQ2pCLElBQUksRUFBZSxHQUFnQixFQUFVLENBQUssRUFDOUMsRUFBTSxFQUFRLFdBQVcsQ0FBUSxFQUVyQyxHQURBLEVBQWMsYUFBYSxFQUFjLEdBQUksQ0FBRyxFQUM1QyxHQUFZLEVBQ2QsRUFBUyxDQUFFLFNBQVEsU0FBVSxFQUFRLFNBQVUsTUFBTyxDQUFFLENBQUMsRUFHN0QsU0FBUyxDQUFTLENBQUMsRUFBSSxDQUNyQixJQUFJLEVBQU8sRUFBUSxTQUFTLFNBQVcsT0FBUyxFQUFRLFNBQVMsT0FBUyxFQUFRLFNBQVMsS0FDdkYsU0FBZSxJQUFPLFNBQVcsRUFBSyxHQUFXLENBQUUsRUFNdkQsT0FMQSxFQUFRLEVBQU0sUUFBUSxLQUFNLEtBQUssRUFDakMsR0FDRSxFQUNBLHNFQUFzRSxHQUN4RSxFQUNPLElBQUksSUFBSSxFQUFPLENBQUksRUFFNUIsSUFBSSxFQUFVLElBQ1IsT0FBTSxFQUFHLENBQ1gsT0FBTyxNQUVMLFNBQVEsRUFBRyxDQUNiLE9BQU8sRUFBWSxFQUFTLENBQWEsR0FFM0MsTUFBTSxDQUFDLEVBQUksQ0FDVCxHQUFJLEVBQ0YsTUFBTSxJQUFJLE1BQU0sNENBQTRDLEVBSTlELE9BRkEsRUFBUSxpQkFBaUIsR0FBbUIsQ0FBUyxFQUNyRCxFQUFXLEVBQ0osSUFBTSxDQUNYLEVBQVEsb0JBQW9CLEdBQW1CLENBQVMsRUFDeEQsRUFBVyxPQUdmLFVBQVUsQ0FBQyxFQUFJLENBQ2IsT0FBTyxFQUFZLEVBQVMsQ0FBRSxHQUVoQyxZQUNBLGNBQWMsQ0FBQyxFQUFJLENBQ2pCLElBQUksRUFBTSxFQUFVLENBQUUsRUFDdEIsTUFBTyxDQUNMLFNBQVUsRUFBSSxTQUNkLE9BQVEsRUFBSSxPQUNaLEtBQU0sRUFBSSxJQUNaLEdBRUYsT0FDQSxRQUFTLEVBQ1QsRUFBRSxDQUFDLEVBQUcsQ0FDSixPQUFPLEVBQWMsR0FBRyxDQUFDLEVBRTdCLEVBQ0EsT0FBTyxFQU9ULElBQUksR0F1QkosR0FBTyxJQUFJLFFBb0RYLFNBQVMsRUFBVyxDQUFDLEVBQVEsRUFBYSxFQUFXLElBQUssQ0FDeEQsT0FBTyxHQUFnQixFQUFRLEVBQWEsRUFBVSxFQUFLLEVBRTdELFNBQVMsRUFBZSxDQUFDLEVBQVEsRUFBYSxFQUFVLEVBQWMsQ0FDcEUsSUFBSSxTQUFrQixJQUFnQixTQUFXLEdBQVUsQ0FBVyxFQUFJLEVBQ3RFLEVBQVcsR0FBYyxFQUFTLFVBQVksSUFBSyxDQUFRLEVBQy9ELEdBQUksR0FBWSxLQUNkLE9BQU8sS0FFVCxJQUFJLEVBQVcsR0FBYyxDQUFNLEVBQ25DLEdBQWtCLENBQVEsRUFDMUIsSUFBSSxFQUFVLEtBQ2QsUUFBUyxFQUFJLEVBQUcsR0FBVyxNQUFRLEVBQUksRUFBUyxTQUFVLEVBQUcsQ0FDM0QsSUFBSSxFQUFVLEdBQVcsQ0FBUSxFQUNqQyxFQUFVLEdBQ1IsRUFBUyxHQUNULEVBQ0EsQ0FDRixFQUVGLE9BQU8sRUFFVCxTQUFTLEVBQTBCLENBQUMsRUFBTyxFQUFZLENBQ3JELElBQU0sUUFBTyxXQUFVLFVBQVcsRUFDbEMsTUFBTyxDQUNMLEdBQUksRUFBTSxHQUNWLFdBQ0EsU0FDQSxLQUFNLEVBQVcsRUFBTSxJQUN2QixPQUFRLEVBQU0sTUFDaEIsRUFFRixTQUFTLEVBQWEsQ0FBQyxFQUFRLEVBQVcsQ0FBQyxFQUFHLEVBQWMsQ0FBQyxFQUFHLEVBQWEsR0FBSSxDQUMvRSxJQUFJLEVBQWUsQ0FBQyxFQUFPLEVBQU8sSUFBaUIsQ0FDakQsSUFBSSxFQUFPLENBQ1QsYUFBYyxJQUFzQixPQUFJLEVBQU0sTUFBUSxHQUFLLEVBQzNELGNBQWUsRUFBTSxnQkFBa0IsR0FDdkMsY0FBZSxFQUNmLE9BQ0YsRUFDQSxHQUFJLEVBQUssYUFBYSxXQUFXLEdBQUcsRUFDbEMsR0FDRSxFQUFLLGFBQWEsV0FBVyxDQUFVLEVBQ3ZDLHdCQUF3QixFQUFLLG9DQUFvQywyR0FDbkUsRUFDQSxFQUFLLGFBQWUsRUFBSyxhQUFhLE1BQU0sRUFBVyxNQUFNLEVBRS9ELElBQUksRUFBTyxHQUFVLENBQUMsRUFBWSxFQUFLLFlBQVksQ0FBQyxFQUNoRCxFQUFhLEVBQVksT0FBTyxDQUFJLEVBQ3hDLEdBQUksRUFBTSxVQUFZLEVBQU0sU0FBUyxPQUFTLEVBQzVDLEdBR0UsRUFBTSxRQUFVLEdBQ2hCLDRGQUE0RixLQUM5RixFQUNBLEdBQWMsRUFBTSxTQUFVLEVBQVUsRUFBWSxDQUFJLEVBRTFELEdBQUksRUFBTSxNQUFRLE9BQVMsRUFBTSxNQUMvQixPQUVGLEVBQVMsS0FBSyxDQUNaLE9BQ0EsTUFBTyxHQUFhLEVBQU0sRUFBTSxLQUFLLEVBQ3JDLFlBQ0YsQ0FBQyxHQVdILE9BVEEsRUFBTyxRQUFRLENBQUMsRUFBTyxJQUFVLENBQy9CLEdBQUksRUFBTSxPQUFTLEtBQU8sRUFBTSxNQUFNLFNBQVMsR0FBRyxFQUNoRCxFQUFhLEVBQU8sQ0FBSyxNQUV6QixTQUFTLEtBQVksR0FBd0IsRUFBTSxJQUFJLEVBQ3JELEVBQWEsRUFBTyxFQUFPLENBQVEsRUFHeEMsRUFDTSxFQUVULFNBQVMsRUFBdUIsQ0FBQyxFQUFNLENBQ3JDLElBQUksRUFBVyxFQUFLLE1BQU0sR0FBRyxFQUM3QixHQUFJLEVBQVMsU0FBVyxFQUFHLE1BQU8sQ0FBQyxFQUNuQyxJQUFLLEtBQVUsR0FBUSxFQUNuQixFQUFhLEVBQU0sU0FBUyxHQUFHLEVBQy9CLEVBQVcsRUFBTSxRQUFRLE1BQU8sRUFBRSxFQUN0QyxHQUFJLEVBQUssU0FBVyxFQUNsQixPQUFPLEVBQWEsQ0FBQyxFQUFVLEVBQUUsRUFBSSxDQUFDLENBQVEsRUFFaEQsSUFBSSxFQUFlLEdBQXdCLEVBQUssS0FBSyxHQUFHLENBQUMsRUFDckQsRUFBUyxDQUFDLEVBTWQsR0FMQSxFQUFPLEtBQ0wsR0FBRyxFQUFhLElBQ2QsQ0FBQyxJQUFZLElBQVksR0FBSyxFQUFXLENBQUMsRUFBVSxDQUFPLEVBQUUsS0FBSyxHQUFHLENBQ3ZFLENBQ0YsRUFDSSxFQUNGLEVBQU8sS0FBSyxHQUFHLENBQVksRUFFN0IsT0FBTyxFQUFPLElBQ1osQ0FBQyxJQUFhLEVBQUssV0FBVyxHQUFHLEdBQUssSUFBYSxHQUFLLElBQU0sQ0FDaEUsRUFFRixTQUFTLEVBQWlCLENBQUMsRUFBVSxDQUNuQyxFQUFTLEtBQ1AsQ0FBQyxFQUFHLElBQU0sRUFBRSxRQUFVLEVBQUUsTUFBUSxFQUFFLE1BQVEsRUFBRSxNQUFRLEdBQ2xELEVBQUUsV0FBVyxJQUFJLENBQUMsSUFBUyxFQUFLLGFBQWEsRUFDN0MsRUFBRSxXQUFXLElBQUksQ0FBQyxJQUFTLEVBQUssYUFBYSxDQUMvQyxDQUNGLEVBRUYsSUFBSSxHQUFVLFlBQ1YsR0FBc0IsRUFDdEIsR0FBa0IsRUFDbEIsR0FBb0IsRUFDcEIsR0FBcUIsR0FDckIsR0FBZSxHQUNmLEdBQVUsQ0FBQyxJQUFNLElBQU0sSUFDM0IsU0FBUyxFQUFZLENBQUMsRUFBTSxFQUFPLENBQ2pDLElBQUksRUFBVyxFQUFLLE1BQU0sR0FBRyxFQUN6QixFQUFlLEVBQVMsT0FDNUIsR0FBSSxFQUFTLEtBQUssRUFBTyxFQUN2QixHQUFnQixHQUVsQixHQUFJLEVBQ0YsR0FBZ0IsR0FFbEIsT0FBTyxFQUFTLE9BQU8sQ0FBQyxLQUFPLEdBQVEsQ0FBQyxDQUFDLEVBQUUsT0FDekMsQ0FBQyxFQUFPLElBQVksR0FBUyxHQUFRLEtBQUssQ0FBTyxFQUFJLEdBQXNCLElBQVksR0FBSyxHQUFvQixJQUNoSCxDQUNGLEVBRUYsU0FBUyxFQUFjLENBQUMsRUFBRyxFQUFHLENBRTVCLE9BRGUsRUFBRSxTQUFXLEVBQUUsUUFBVSxFQUFFLE1BQU0sRUFBRyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUcsSUFBTSxJQUFNLEVBQUUsRUFBRSxFQU0vRSxFQUFFLEVBQUUsT0FBUyxHQUFLLEVBQUUsRUFBRSxPQUFTLEdBSS9CLEVBR0osU0FBUyxFQUFnQixDQUFDLEVBQVEsRUFBVSxFQUFlLEdBQU8sQ0FDaEUsSUFBTSxjQUFlLEVBQ2pCLEVBQWdCLENBQUMsRUFDakIsRUFBa0IsSUFDbEIsRUFBVSxDQUFDLEVBQ2YsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFXLFNBQVUsRUFBRyxDQUMxQyxJQUFJLEVBQU8sRUFBVyxHQUNsQixFQUFNLElBQU0sRUFBVyxPQUFTLEVBQ2hDLEVBQW9CLElBQW9CLElBQU0sRUFBVyxFQUFTLE1BQU0sRUFBZ0IsTUFBTSxHQUFLLElBQ25HLEVBQVEsR0FDVixDQUFFLEtBQU0sRUFBSyxhQUFjLGNBQWUsRUFBSyxjQUFlLEtBQUksRUFDbEUsQ0FDRixFQUNJLEVBQVEsRUFBSyxNQUNqQixJQUFLLEdBQVMsR0FBTyxJQUFpQixFQUFXLEVBQVcsT0FBUyxHQUFHLE1BQU0sTUFDNUUsRUFBUSxHQUNOLENBQ0UsS0FBTSxFQUFLLGFBQ1gsY0FBZSxFQUFLLGNBQ3BCLElBQUssRUFDUCxFQUNBLENBQ0YsRUFFRixJQUFLLEVBQ0gsT0FBTyxLQVlULEdBVkEsT0FBTyxPQUFPLEVBQWUsRUFBTSxNQUFNLEVBQ3pDLEVBQVEsS0FBSyxDQUVYLE9BQVEsRUFDUixTQUFVLEdBQVUsQ0FBQyxFQUFpQixFQUFNLFFBQVEsQ0FBQyxFQUNyRCxhQUFjLEdBQ1osR0FBVSxDQUFDLEVBQWlCLEVBQU0sWUFBWSxDQUFDLENBQ2pELEVBQ0EsT0FDRixDQUFDLEVBQ0csRUFBTSxlQUFpQixJQUN6QixFQUFrQixHQUFVLENBQUMsRUFBaUIsRUFBTSxZQUFZLENBQUMsRUFHckUsT0FBTyxFQThCVCxTQUFTLEVBQVMsQ0FBQyxFQUFTLEVBQVUsQ0FDcEMsVUFBVyxJQUFZLFNBQ3JCLEVBQVUsQ0FBRSxLQUFNLEVBQVMsY0FBZSxHQUFPLElBQUssRUFBSyxFQUU3RCxJQUFLLEVBQVMsR0FBa0IsR0FDOUIsRUFBUSxLQUNSLEVBQVEsY0FDUixFQUFRLEdBQ1YsRUFDSSxFQUFRLEVBQVMsTUFBTSxDQUFPLEVBQ2xDLElBQUssRUFBTyxPQUFPLEtBQ25CLElBQUksRUFBa0IsRUFBTSxHQUN4QixFQUFlLEVBQWdCLFFBQVEsVUFBVyxJQUFJLEVBQ3RELEVBQWdCLEVBQU0sTUFBTSxDQUFDLEVBaUJqQyxNQUFPLENBQ0wsT0FqQlcsRUFBZSxPQUMxQixDQUFDLEdBQVMsWUFBVyxjQUFjLElBQVUsQ0FDM0MsR0FBSSxJQUFjLElBQUssQ0FDckIsSUFBSSxFQUFhLEVBQWMsSUFBVSxHQUN6QyxFQUFlLEVBQWdCLE1BQU0sRUFBRyxFQUFnQixPQUFTLEVBQVcsTUFBTSxFQUFFLFFBQVEsVUFBVyxJQUFJLEVBRTdHLElBQU0sRUFBUSxFQUFjLEdBQzVCLEdBQUksSUFBZSxFQUNqQixFQUFNLEdBQWtCLFdBRXhCLEdBQU0sSUFBYyxHQUFTLElBQUksUUFBUSxPQUFRLEdBQUcsRUFFdEQsT0FBTyxHQUVULENBQUMsQ0FDSCxFQUdFLFNBQVUsRUFDVixlQUNBLFNBQ0YsRUFFRixTQUFTLEVBQVcsQ0FBQyxFQUFNLEVBQWdCLEdBQU8sRUFBTSxHQUFNLENBQzVELEdBQ0UsSUFBUyxNQUFRLEVBQUssU0FBUyxHQUFHLEdBQUssRUFBSyxTQUFTLElBQUksRUFDekQsZUFBZSxxQ0FBd0MsRUFBSyxRQUFRLE1BQU8sSUFBSSwwSUFBMEksRUFBSyxRQUFRLE1BQU8sSUFBSSxLQUNuUCxFQUNBLElBQUksRUFBUyxDQUFDLEVBQ1YsRUFBZSxJQUFNLEVBQUssUUFBUSxVQUFXLEVBQUUsRUFBRSxRQUFRLE9BQVEsR0FBRyxFQUFFLFFBQVEscUJBQXNCLE1BQU0sRUFBRSxRQUM5RyxvQkFDQSxDQUFDLEVBQUcsRUFBVyxJQUFlLENBRTVCLE9BREEsRUFBTyxLQUFLLENBQUUsWUFBVyxXQUFZLEdBQWMsSUFBSyxDQUFDLEVBQ2xELEVBQWEsZUFBaUIsYUFFekMsRUFDQSxHQUFJLEVBQUssU0FBUyxHQUFHLEVBQ25CLEVBQU8sS0FBSyxDQUFFLFVBQVcsR0FBSSxDQUFDLEVBQzlCLEdBQWdCLElBQVMsS0FBTyxJQUFTLEtBQU8sUUFBVSw0QkFDakQsRUFDVCxHQUFnQixnQkFDUCxJQUFTLElBQU0sSUFBUyxJQUNqQyxHQUFnQixnQkFJbEIsTUFBTyxDQURPLElBQUksT0FBTyxFQUFjLEVBQXFCLE9BQUksR0FBRyxFQUNsRCxDQUFNLEVBRXpCLFNBQVMsRUFBVSxDQUFDLEVBQU8sQ0FDekIsR0FBSSxDQUNGLE9BQU8sRUFBTSxNQUFNLEdBQUcsRUFBRSxJQUFJLENBQUMsSUFBTSxtQkFBbUIsQ0FBQyxFQUFFLFFBQVEsTUFBTyxLQUFLLENBQUMsRUFBRSxLQUFLLEdBQUcsUUFDakYsRUFBUCxDQUtBLE9BSkEsR0FDRSxHQUNBLGlCQUFpQixrSEFBc0gsS0FDekksRUFDTyxHQUdYLFNBQVMsRUFBYSxDQUFDLEVBQVUsRUFBVSxDQUN6QyxHQUFJLElBQWEsSUFBSyxPQUFPLEVBQzdCLElBQUssRUFBUyxZQUFZLEVBQUUsV0FBVyxFQUFTLFlBQVksQ0FBQyxFQUMzRCxPQUFPLEtBRVQsSUFBSSxFQUFhLEVBQVMsU0FBUyxHQUFHLEVBQUksRUFBUyxPQUFTLEVBQUksRUFBUyxPQUNyRSxFQUFXLEVBQVMsT0FBTyxDQUFVLEVBQ3pDLEdBQUksR0FBWSxJQUFhLElBQzNCLE9BQU8sS0FFVCxPQUFPLEVBQVMsTUFBTSxDQUFVLEdBQUssSUFFdkMsU0FBUyxFQUFXLENBQUMsRUFBSSxFQUFlLElBQUssQ0FDM0MsSUFDRSxTQUFVLEVBQ1YsU0FBUyxHQUNULE9BQU8sV0FDRSxJQUFPLFNBQVcsR0FBVSxDQUFFLEVBQUksRUFFN0MsTUFBTyxDQUNMLFNBRmEsRUFBYSxFQUFXLFdBQVcsR0FBRyxFQUFJLEVBQWEsR0FBZ0IsRUFBWSxDQUFZLEVBQUksRUFHaEgsT0FBUSxHQUFnQixDQUFNLEVBQzlCLEtBQU0sR0FBYyxDQUFJLENBQzFCLEVBRUYsU0FBUyxFQUFlLENBQUMsRUFBYyxFQUFjLENBQ25ELElBQUksRUFBVyxFQUFhLFFBQVEsT0FBUSxFQUFFLEVBQUUsTUFBTSxHQUFHLEVBU3pELE9BUnVCLEVBQWEsTUFBTSxHQUFHLEVBQzVCLFFBQVEsQ0FBQyxJQUFZLENBQ3BDLEdBQUksSUFBWSxNQUNkLEdBQUksRUFBUyxPQUFTLEVBQUcsRUFBUyxJQUFJLFVBQzdCLElBQVksSUFDckIsRUFBUyxLQUFLLENBQU8sRUFFeEIsRUFDTSxFQUFTLE9BQVMsRUFBSSxFQUFTLEtBQUssR0FBRyxFQUFJLElBRXBELFNBQVMsRUFBbUIsQ0FBQyxFQUFNLEVBQU8sRUFBTSxFQUFNLENBQ3BELE1BQU8scUJBQXFCLDZDQUFnRCxjQUFrQixLQUFLLFVBQ2pHLENBQ0YsMkNBQTJDLDhIQUU3QyxTQUFTLEVBQTBCLENBQUMsRUFBUyxDQUMzQyxPQUFPLEVBQVEsT0FDYixDQUFDLEVBQU8sSUFBVSxJQUFVLEdBQUssRUFBTSxNQUFNLE1BQVEsRUFBTSxNQUFNLEtBQUssT0FBUyxDQUNqRixFQUVGLFNBQVMsRUFBbUIsQ0FBQyxFQUFTLENBQ3BDLElBQUksRUFBYyxHQUEyQixDQUFPLEVBQ3BELE9BQU8sRUFBWSxJQUNqQixDQUFDLEVBQU8sSUFBUSxJQUFRLEVBQVksT0FBUyxFQUFJLEVBQU0sU0FBVyxFQUFNLFlBQzFFLEVBRUYsU0FBUyxFQUFTLENBQUMsRUFBTyxFQUFnQixFQUFrQixFQUFpQixHQUFPLENBQ2xGLElBQUksRUFDSixVQUFXLElBQVUsU0FDbkIsRUFBSyxHQUFVLENBQUssTUFFcEIsR0FBSyxJQUFLLENBQU0sRUFDaEIsSUFDRyxFQUFHLFdBQWEsRUFBRyxTQUFTLFNBQVMsR0FBRyxFQUN6QyxHQUFvQixJQUFLLFdBQVksU0FBVSxDQUFFLENBQ25ELEVBQ0EsSUFDRyxFQUFHLFdBQWEsRUFBRyxTQUFTLFNBQVMsR0FBRyxFQUN6QyxHQUFvQixJQUFLLFdBQVksT0FBUSxDQUFFLENBQ2pELEVBQ0EsSUFDRyxFQUFHLFNBQVcsRUFBRyxPQUFPLFNBQVMsR0FBRyxFQUNyQyxHQUFvQixJQUFLLFNBQVUsT0FBUSxDQUFFLENBQy9DLEVBRUYsSUFBSSxFQUFjLElBQVUsSUFBTSxFQUFHLFdBQWEsR0FDOUMsRUFBYSxFQUFjLElBQU0sRUFBRyxTQUNwQyxFQUNKLEdBQUksR0FBYyxLQUNoQixFQUFPLE1BQ0YsQ0FDTCxJQUFJLEVBQXFCLEVBQWUsT0FBUyxFQUNqRCxJQUFLLEdBQWtCLEVBQVcsV0FBVyxJQUFJLEVBQUcsQ0FDbEQsSUFBSSxFQUFhLEVBQVcsTUFBTSxHQUFHLEVBQ3JDLE1BQU8sRUFBVyxLQUFPLEtBQ3ZCLEVBQVcsTUFBTSxFQUNqQixHQUFzQixFQUV4QixFQUFHLFNBQVcsRUFBVyxLQUFLLEdBQUcsRUFFbkMsRUFBTyxHQUFzQixFQUFJLEVBQWUsR0FBc0IsSUFFeEUsSUFBSSxFQUFPLEdBQVksRUFBSSxDQUFJLEVBQzNCLEVBQTJCLEdBQWMsSUFBZSxLQUFPLEVBQVcsU0FBUyxHQUFHLEVBQ3RGLEdBQTJCLEdBQWUsSUFBZSxNQUFRLEVBQWlCLFNBQVMsR0FBRyxFQUNsRyxJQUFLLEVBQUssU0FBUyxTQUFTLEdBQUcsSUFBTSxHQUE0QixHQUMvRCxFQUFLLFVBQVksSUFFbkIsT0FBTyxFQUVULElBQUksR0FBWSxDQUFDLElBQVUsRUFBTSxLQUFLLEdBQUcsRUFBRSxRQUFRLFNBQVUsR0FBRyxFQUM1RCxHQUFvQixDQUFDLElBQWEsRUFBUyxRQUFRLE9BQVEsRUFBRSxFQUFFLFFBQVEsT0FBUSxHQUFHLEVBQ2xGLEdBQWtCLENBQUMsS0FBWSxHQUFVLElBQVcsSUFBTSxHQUFLLEVBQU8sV0FBVyxHQUFHLEVBQUksRUFBUyxJQUFNLEVBQ3ZHLEdBQWdCLENBQUMsS0FBVSxHQUFRLElBQVMsSUFBTSxHQUFLLEVBQUssV0FBVyxHQUFHLEVBQUksRUFBTyxJQUFNLEVBZ0QvRixTQUFTLEVBQW9CLENBQUMsRUFBTyxDQUNuQyxPQUFPLEdBQVMsYUFBZSxFQUFNLFNBQVcsaUJBQW1CLEVBQU0sYUFBZSxpQkFBbUIsRUFBTSxXQUFhLFdBQWEsU0FBVSxFQUl2SixJQUFJLEdBQTBCLENBQzVCLE9BQ0EsTUFDQSxRQUNBLFFBQ0YsRUFDSSxHQUF1QixJQUFJLElBQzdCLEVBQ0YsRUFDSSxHQUF5QixDQUMzQixNQUNBLEdBQUcsRUFDTCxFQUNJLEdBQXNCLElBQUksSUFBSSxFQUFzQixFQWtDeEQsSUFBSSxHQUF3QixPQUFPLGlCQUFpQixFQWk0R3BELElBQUksR0FBMEIsaUJBQWMsSUFBSSxFQUNoRCxHQUFrQixZQUFjLGFBQ2hDLElBQUksR0FBK0IsaUJBQWMsSUFBSSxFQUNyRCxHQUF1QixZQUFjLGtCQUNyQyxJQUFJLEdBQThCLGlCQUFjLENBQzlDLGdCQUFpQixFQUNuQixDQUFDLEVBQ0QsR0FBc0IsWUFBYyxpQkFDcEMsSUFBSSxHQUF3QixpQkFDVixJQUFJLEdBQ3RCLEVBQ0EsR0FBZ0IsWUFBYyxXQUM5QixJQUFJLEdBQXFCLGlCQUFjLElBQUksRUFDM0MsR0FBYSxZQUFjLFFBQzNCLElBQUksR0FBMEIsaUJBQzVCLElBQ0YsRUFDQSxHQUFrQixZQUFjLGFBQ2hDLElBQUksR0FBd0IsaUJBQzFCLElBQ0YsRUFDQSxHQUFnQixZQUFjLFdBQzlCLElBQUksR0FBcUIsaUJBQWMsQ0FDckMsT0FBUSxLQUNSLFFBQVMsQ0FBQyxFQUNWLFlBQWEsRUFDZixDQUFDLEVBQ0QsR0FBYSxZQUFjLFFBQzNCLElBQUksR0FBMEIsaUJBQWMsSUFBSSxFQUNoRCxHQUFrQixZQUFjLGFBSWhDLElBQUksR0FBc0IsR0FDMUIsU0FBUyxFQUFPLENBQUMsR0FBTSxZQUFhLENBQUMsRUFBRyxDQUN0QyxHQUNFLEdBQW1CLEVBR25CLG9FQUNGLEVBQ0EsSUFBTSxXQUFVLFVBQVcsR0FBc0IsY0FBVyxFQUFpQixHQUN2RSxPQUFNLFdBQVUsVUFBVyxHQUFnQixFQUFJLENBQUUsVUFBUyxDQUFDLEVBQzdELEVBQWlCLEVBQ3JCLEdBQUksSUFBYSxJQUNmLEVBQWlCLElBQWEsSUFBTSxFQUFXLEdBQVUsQ0FBQyxFQUFVLENBQVEsQ0FBQyxFQUUvRSxPQUFPLEVBQVcsV0FBVyxDQUFFLFNBQVUsRUFBZ0IsU0FBUSxNQUFLLENBQUMsRUFFekUsU0FBUyxFQUFrQixFQUFHLENBQzVCLE9BQWMsY0FBVyxFQUFlLEdBQUssS0FFL0MsU0FBUyxFQUFXLEVBQUcsQ0FPckIsT0FOQSxHQUNFLEdBQW1CLEVBR25CLHdFQUNGLEVBQ2MsY0FBVyxFQUFlLEVBQUUsU0FrQjVDLElBQUksR0FBd0IsZ0dBQzVCLFNBQVMsRUFBeUIsQ0FBQyxFQUFJLENBRXJDLElBRHNCLGNBQVcsRUFBaUIsRUFBRSxPQUVsRCxBQUFPLG1CQUFnQixDQUFFLEVBRzdCLFNBQVMsRUFBVyxFQUFHLENBQ3JCLElBQU0sZUFBdUIsY0FBVyxFQUFZLEVBQ3BELE9BQU8sRUFBYyxHQUFrQixFQUFJLEdBQW9CLEVBRWpFLFNBQVMsRUFBbUIsRUFBRyxDQUM3QixHQUNFLEdBQW1CLEVBR25CLHdFQUNGLEVBQ0EsSUFBSSxFQUEyQixjQUFXLEVBQWlCLEdBQ3JELFdBQVUsVUFBVyxHQUFzQixjQUFXLEVBQWlCLEdBQ3ZFLFdBQW1CLGNBQVcsRUFBWSxHQUMxQyxTQUFVLEdBQXFCLEdBQVksRUFDN0MsRUFBcUIsS0FBSyxVQUFVLEdBQW9CLENBQU8sQ0FBQyxFQUNoRSxFQUFtQixVQUFPLEVBQUssRUFtQ25DLE9BbENBLEdBQTBCLElBQU0sQ0FDOUIsRUFBVSxRQUFVLEdBQ3JCLEVBQ3FCLGVBQ3BCLENBQUMsRUFBSSxFQUFVLENBQUMsSUFBTSxDQUVwQixHQURBLEdBQVEsRUFBVSxRQUFTLEVBQXFCLEdBQzNDLEVBQVUsUUFBUyxPQUN4QixVQUFXLElBQU8sU0FBVSxDQUMxQixFQUFXLEdBQUcsQ0FBRSxFQUNoQixPQUVGLElBQUksRUFBTyxHQUNULEVBQ0EsS0FBSyxNQUFNLENBQWtCLEVBQzdCLEVBQ0EsRUFBUSxXQUFhLE1BQ3ZCLEVBQ0EsR0FBSSxHQUFxQixNQUFRLElBQWEsSUFDNUMsRUFBSyxTQUFXLEVBQUssV0FBYSxJQUFNLEVBQVcsR0FBVSxDQUFDLEVBQVUsRUFBSyxRQUFRLENBQUMsRUFFeEYsQ0FBRyxFQUFRLFFBQVUsRUFBVyxRQUFVLEVBQVcsTUFDbkQsRUFDQSxFQUFRLE1BQ1IsQ0FDRixHQUVGLENBQ0UsRUFDQSxFQUNBLEVBQ0EsRUFDQSxDQUNGLENBQ0YsRUFHRixJQUFJLEdBQXVCLGlCQUFjLElBQUksRUFnQjdDLFNBQVMsRUFBZSxDQUFDLEdBQU0sWUFBYSxDQUFDLEVBQUcsQ0FDOUMsSUFBTSxXQUFtQixjQUFXLEVBQVksR0FDMUMsU0FBVSxHQUFxQixHQUFZLEVBQzdDLEVBQXFCLEtBQUssVUFBVSxHQUFvQixDQUFPLENBQUMsRUFDcEUsT0FBYyxXQUNaLElBQU0sR0FDSixFQUNBLEtBQUssTUFBTSxDQUFrQixFQUM3QixFQUNBLElBQWEsTUFDZixFQUNBLENBQUMsRUFBSSxFQUFvQixFQUFrQixDQUFRLENBQ3JELEVBRUYsU0FBUyxFQUFTLENBQUMsRUFBUSxFQUFhLENBQ3RDLE9BQU8sR0FBYyxFQUFRLENBQVcsRUFFMUMsU0FBUyxFQUFhLENBQUMsRUFBUSxFQUFhLEVBQWlCLEVBQVEsQ0FDbkUsR0FDRSxHQUFtQixFQUduQixzRUFDRixFQUNBLElBQU0sVUFBVyxFQUFZLE9BQVEsR0FBb0IsY0FBVyxFQUFpQixHQUMvRSxRQUFTLEdBQXlCLGNBQVcsRUFBWSxFQUMzRCxFQUFhLEVBQWMsRUFBYyxPQUFTLEdBQ2xELEVBQWUsRUFBYSxFQUFXLE9BQVMsQ0FBQyxFQUNqRCxFQUFpQixFQUFhLEVBQVcsU0FBVyxJQUNwRCxFQUFxQixFQUFhLEVBQVcsYUFBZSxJQUM1RCxFQUFjLEdBQWMsRUFBVyxNQUMzQyxHQUFJLEdBQXFCLENBQ3ZCLElBQUksRUFBYSxHQUFlLEVBQVksTUFBUSxHQUNwRCxHQUNFLEdBQ0MsR0FBZSxFQUFXLFNBQVMsR0FBRyxHQUFLLEVBQVcsU0FBUyxJQUFJLEVBQ3BFLG9FQUFvRSwwQkFBdUM7QUFBQTtBQUFBLHdDQUV6RSx1QkFBZ0MsSUFBZSxJQUFNLElBQU0sR0FBRyxVQUNsRyxFQUVGLElBQUksRUFBc0IsR0FBWSxFQUNsQyxFQUNKLEdBQUksRUFBYSxDQUNmLElBQUksU0FBMkIsSUFBZ0IsU0FBVyxHQUFVLENBQVcsRUFBSSxFQUNuRixHQUNFLElBQXVCLEtBQU8sRUFBa0IsVUFBVSxXQUFXLENBQWtCLEVBQ3ZGLDJPQUEyTyxvQkFBcUMsRUFBa0IsK0NBQ3BTLEVBQ0EsRUFBVyxNQUVYLEdBQVcsRUFFYixJQUFJLEVBQVcsRUFBUyxVQUFZLElBQ2hDLEVBQW9CLEVBQ3hCLEdBQUksSUFBdUIsSUFBSyxDQUM5QixJQUFJLEVBQWlCLEVBQW1CLFFBQVEsTUFBTyxFQUFFLEVBQUUsTUFBTSxHQUFHLEVBRXBFLEVBQW9CLElBREwsRUFBUyxRQUFRLE1BQU8sRUFBRSxFQUFFLE1BQU0sR0FBRyxFQUNqQixNQUFNLEVBQWUsTUFBTSxFQUFFLEtBQUssR0FBRyxFQUUxRSxJQUFJLEdBQVcsR0FBWSxHQUFtQixFQUFnQixTQUFXLEVBQWdCLFFBQVEsT0FBUyxFQUFJLEVBQWdCLFFBQVUsR0FBWSxFQUFRLENBQUUsU0FBVSxDQUFrQixDQUFDLEVBQzNMLEdBQUksR0FDRixHQUNFLEdBQWUsR0FBVyxLQUMxQiwrQkFBK0IsRUFBUyxXQUFXLEVBQVMsU0FBUyxFQUFTLFFBQ2hGLEVBQ0EsR0FDRSxHQUFXLE1BQVEsRUFBUSxFQUFRLE9BQVMsR0FBRyxNQUFNLFVBQWlCLFFBQUssRUFBUSxFQUFRLE9BQVMsR0FBRyxNQUFNLFlBQW1CLFFBQUssRUFBUSxFQUFRLE9BQVMsR0FBRyxNQUFNLE9BQWMsT0FDckwsbUNBQW1DLEVBQVMsV0FBVyxFQUFTLFNBQVMsRUFBUyxpSkFDcEYsRUFFRixJQUFJLEVBQWtCLEdBQ3BCLEdBQVcsRUFBUSxJQUNqQixDQUFDLElBQVUsT0FBTyxPQUFPLENBQUMsRUFBRyxFQUFPLENBQ2xDLE9BQVEsT0FBTyxPQUFPLENBQUMsRUFBRyxFQUFjLEVBQU0sTUFBTSxFQUNwRCxTQUFVLEdBQVUsQ0FDbEIsRUFFQSxFQUFXLGVBQWlCLEVBQVcsZUFBZSxFQUFNLFFBQVEsRUFBRSxTQUFXLEVBQU0sUUFDekYsQ0FBQyxFQUNELGFBQWMsRUFBTSxlQUFpQixJQUFNLEVBQXFCLEdBQVUsQ0FDeEUsRUFFQSxFQUFXLGVBQWlCLEVBQVcsZUFBZSxFQUFNLFlBQVksRUFBRSxTQUFXLEVBQU0sWUFDN0YsQ0FBQyxDQUNILENBQUMsQ0FDSCxFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsR0FBSSxHQUFlLEVBQ2pCLE9BQThCLGlCQUM1QixHQUFnQixTQUNoQixDQUNFLE1BQU8sQ0FDTCxTQUFVLENBQ1IsU0FBVSxJQUNWLE9BQVEsR0FDUixLQUFNLEdBQ04sTUFBTyxLQUNQLElBQUssYUFDRixDQUNMLEVBQ0EsZUFBZ0IsS0FDbEIsQ0FDRixFQUNBLENBQ0YsRUFFRixPQUFPLEVBRVQsU0FBUyxFQUFxQixFQUFHLENBQy9CLElBQUksRUFBUSxHQUFjLEVBQ3RCLEVBQVUsR0FBcUIsQ0FBSyxFQUFJLEdBQUcsRUFBTSxVQUFVLEVBQU0sYUFBZSxhQUFpQixNQUFRLEVBQU0sUUFBVSxLQUFLLFVBQVUsQ0FBSyxFQUM3SSxFQUFRLGFBQWlCLE1BQVEsRUFBTSxNQUFRLEtBQy9DLEVBQVkseUJBQ1osRUFBWSxDQUFFLFFBQVMsU0FBVSxnQkFBaUIsQ0FBVSxFQUM1RCxFQUFhLENBQUUsUUFBUyxVQUFXLGdCQUFpQixDQUFVLEVBQzlELEVBQVUsS0FDZCxHQUFJLEdBQ0YsUUFBUSxNQUNOLHVEQUNBLENBQ0YsRUFDQSxFQUFpQyxpQkFBcUIsWUFBVSxLQUE2QixpQkFBYyxJQUFLLEtBQU0seUNBQW1DLEVBQTBCLGlCQUFjLElBQUssS0FBTSwrRkFBdUgsaUJBQWMsT0FBUSxDQUFFLE1BQU8sQ0FBVyxFQUFHLGVBQWUsRUFBRyxNQUFPLElBQTRCLGlCQUFjLE9BQVEsQ0FBRSxNQUFPLENBQVcsRUFBRyxjQUFjLEVBQUcsc0JBQXNCLENBQUMsRUFFNWYsT0FBOEIsaUJBQXFCLFlBQVUsS0FBNkIsaUJBQWMsS0FBTSxLQUFNLCtCQUErQixFQUEwQixpQkFBYyxLQUFNLENBQUUsTUFBTyxDQUFFLFVBQVcsUUFBUyxDQUFFLEVBQUcsQ0FBTyxFQUFHLEVBQStCLGlCQUFjLE1BQU8sQ0FBRSxNQUFPLENBQVUsRUFBRyxDQUFLLEVBQUksS0FBTSxDQUFPLEVBRWpWLElBQUksR0FBNkMsaUJBQWMsR0FBdUIsSUFBSSxFQUN0RixHQUFzQixjQUFxQixZQUFVLENBQ3ZELFdBQVcsQ0FBQyxFQUFPLENBQ2pCLE1BQU0sQ0FBSyxFQUNYLEtBQUssTUFBUSxDQUNYLFNBQVUsRUFBTSxTQUNoQixhQUFjLEVBQU0sYUFDcEIsTUFBTyxFQUFNLEtBQ2YsUUFFSyx5QkFBd0IsQ0FBQyxFQUFPLENBQ3JDLE1BQU8sQ0FBRSxPQUFNLFFBRVYseUJBQXdCLENBQUMsRUFBTyxFQUFPLENBQzVDLEdBQUksRUFBTSxXQUFhLEVBQU0sVUFBWSxFQUFNLGVBQWlCLFFBQVUsRUFBTSxlQUFpQixPQUMvRixNQUFPLENBQ0wsTUFBTyxFQUFNLE1BQ2IsU0FBVSxFQUFNLFNBQ2hCLGFBQWMsRUFBTSxZQUN0QixFQUVGLE1BQU8sQ0FDTCxNQUFPLEVBQU0sUUFBZSxPQUFJLEVBQU0sTUFBUSxFQUFNLE1BQ3BELFNBQVUsRUFBTSxTQUNoQixhQUFjLEVBQU0sY0FBZ0IsRUFBTSxZQUM1QyxFQUVGLGlCQUFpQixDQUFDLEVBQU8sRUFBVyxDQUNsQyxRQUFRLE1BQ04sd0RBQ0EsRUFDQSxDQUNGLEVBRUYsTUFBTSxFQUFHLENBQ1AsT0FBTyxLQUFLLE1BQU0sUUFBZSxPQUEyQixpQkFBYyxHQUFhLFNBQVUsQ0FBRSxNQUFPLEtBQUssTUFBTSxZQUFhLEVBQTBCLGlCQUMxSixHQUFrQixTQUNsQixDQUNFLE1BQU8sS0FBSyxNQUFNLE1BQ2xCLFNBQVUsS0FBSyxNQUFNLFNBQ3ZCLENBQ0YsQ0FBQyxFQUFJLEtBQUssTUFBTSxTQUVwQixFQUNBLFNBQVMsRUFBYSxFQUFHLGVBQWMsUUFBTyxZQUFZLENBQ3hELElBQUksRUFBMkIsY0FBVyxFQUFpQixFQUMzRCxHQUFJLEdBQXFCLEVBQWtCLFFBQVUsRUFBa0IsZ0JBQWtCLEVBQU0sTUFBTSxjQUFnQixFQUFNLE1BQU0sZUFDL0gsRUFBa0IsY0FBYywyQkFBNkIsRUFBTSxNQUFNLEdBRTNFLE9BQThCLGlCQUFjLEdBQWEsU0FBVSxDQUFFLE1BQU8sQ0FBYSxFQUFHLENBQVEsRUFFdEcsU0FBUyxFQUFjLENBQUMsRUFBUyxFQUFnQixDQUFDLEVBQUcsRUFBa0IsS0FBTSxFQUFTLEtBQU0sQ0FDMUYsR0FBSSxHQUFXLEtBQU0sQ0FDbkIsSUFBSyxFQUNILE9BQU8sS0FFVCxHQUFJLEVBQWdCLE9BQ2xCLEVBQVUsRUFBZ0IsZ0JBQ2pCLEVBQWMsU0FBVyxJQUFNLEVBQWdCLGFBQWUsRUFBZ0IsUUFBUSxPQUFTLEVBQ3hHLEVBQVUsRUFBZ0IsWUFFMUIsUUFBTyxLQUdYLElBQUksRUFBa0IsRUFDbEIsRUFBUyxHQUFpQixPQUM5QixHQUFJLEdBQVUsS0FBTSxDQUNsQixJQUFJLEVBQWEsRUFBZ0IsVUFDL0IsQ0FBQyxJQUFNLEVBQUUsTUFBTSxJQUFNLElBQVMsRUFBRSxNQUFNLE1BQWEsTUFDckQsRUFDQSxHQUNFLEdBQWMsRUFDZCw0REFBNEQsT0FBTyxLQUNqRSxDQUNGLEVBQUUsS0FBSyxHQUFHLEdBQ1osRUFDQSxFQUFrQixFQUFnQixNQUNoQyxFQUNBLEtBQUssSUFBSSxFQUFnQixPQUFRLEVBQWEsQ0FBQyxDQUNqRCxFQUVGLElBQUksRUFBaUIsR0FDakIsRUFBZ0IsR0FDcEIsR0FBSSxFQUNGLFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBZ0IsT0FBUSxJQUFLLENBQy9DLElBQUksRUFBUSxFQUFnQixHQUM1QixHQUFJLEVBQU0sTUFBTSxpQkFBbUIsRUFBTSxNQUFNLHVCQUM3QyxFQUFnQixFQUVsQixHQUFJLEVBQU0sTUFBTSxHQUFJLENBQ2xCLElBQU0sYUFBWSxPQUFRLEdBQVksRUFDbEMsRUFBbUIsRUFBTSxNQUFNLFNBQVcsRUFBVyxlQUFlLEVBQU0sTUFBTSxFQUFFLEtBQU8sR0FBVyxFQUFRLEVBQU0sTUFBTSxNQUFhLFFBQ3pJLEdBQUksRUFBTSxNQUFNLE1BQVEsRUFBa0IsQ0FFeEMsR0FEQSxFQUFpQixHQUNiLEdBQWlCLEVBQ25CLEVBQWtCLEVBQWdCLE1BQU0sRUFBRyxFQUFnQixDQUFDLE1BRTVELEdBQWtCLENBQUMsRUFBZ0IsRUFBRSxFQUV2QyxRQUtSLE9BQU8sRUFBZ0IsWUFBWSxDQUFDLEVBQVEsRUFBTyxJQUFVLENBQzNELElBQUksRUFDQSxFQUE4QixHQUM5QixFQUFlLEtBQ2YsRUFBeUIsS0FDN0IsR0FBSSxHQUdGLEdBRkEsRUFBUSxHQUFVLEVBQU0sTUFBTSxHQUFLLEVBQU8sRUFBTSxNQUFNLElBQVcsT0FDakUsRUFBZSxFQUFNLE1BQU0sY0FBZ0IsR0FDdkMsR0FDRixHQUFJLEVBQWdCLEdBQUssSUFBVSxFQUNqQyxHQUNFLGlCQUNBLEdBQ0EsMEVBQ0YsRUFDQSxFQUE4QixHQUM5QixFQUF5QixhQUNoQixJQUFrQixFQUMzQixFQUE4QixHQUM5QixFQUF5QixFQUFNLE1BQU0sd0JBQTBCLE1BSXJFLElBQUksRUFBVyxFQUFjLE9BQU8sRUFBZ0IsTUFBTSxFQUFHLEVBQVEsQ0FBQyxDQUFDLEVBQ25FLEVBQWMsSUFBTSxDQUN0QixJQUFJLEVBQ0osR0FBSSxFQUNGLEVBQVcsVUFDRixFQUNULEVBQVcsVUFDRixFQUFNLE1BQU0sVUFDckIsRUFBa0MsaUJBQWMsRUFBTSxNQUFNLFVBQVcsSUFBSSxVQUNsRSxFQUFNLE1BQU0sUUFDckIsRUFBVyxFQUFNLE1BQU0sWUFFdkIsR0FBVyxFQUViLE9BQThCLGlCQUM1QixHQUNBLENBQ0UsUUFDQSxhQUFjLENBQ1osU0FDQSxRQUFTLEVBQ1QsWUFBYSxHQUFtQixJQUNsQyxFQUNBLFVBQ0YsQ0FDRixHQUVGLE9BQU8sSUFBb0IsRUFBTSxNQUFNLGVBQWlCLEVBQU0sTUFBTSxjQUFnQixJQUFVLEdBQTRCLGlCQUN4SCxHQUNBLENBQ0UsU0FBVSxFQUFnQixTQUMxQixhQUFjLEVBQWdCLGFBQzlCLFVBQVcsRUFDWCxRQUNBLFNBQVUsRUFBWSxFQUN0QixhQUFjLENBQUUsT0FBUSxLQUFNLFFBQVMsRUFBVSxZQUFhLEVBQUssQ0FDckUsQ0FDRixFQUFJLEVBQVksR0FDZixJQUFJLEVBRVQsU0FBUyxFQUF5QixDQUFDLEVBQVUsQ0FDM0MsTUFBTyxHQUFHLHNHQUVaLFNBQVMsRUFBb0IsQ0FBQyxFQUFVLENBQ3RDLElBQUksRUFBYSxjQUFXLEVBQWlCLEVBRTdDLE9BREEsR0FBVSxFQUFLLEdBQTBCLENBQVEsQ0FBQyxFQUMzQyxFQUVULFNBQVMsRUFBa0IsQ0FBQyxFQUFVLENBQ3BDLElBQUksRUFBZSxjQUFXLEVBQXNCLEVBRXBELE9BREEsR0FBVSxFQUFPLEdBQTBCLENBQVEsQ0FBQyxFQUM3QyxFQUVULFNBQVMsRUFBZSxDQUFDLEVBQVUsQ0FDakMsSUFBSSxFQUFlLGNBQVcsRUFBWSxFQUUxQyxPQURBLEdBQVUsRUFBTyxHQUEwQixDQUFRLENBQUMsRUFDN0MsRUFFVCxTQUFTLEVBQWlCLENBQUMsRUFBVSxDQUNuQyxJQUFJLEVBQVEsR0FBZ0IsQ0FBUSxFQUNoQyxFQUFZLEVBQU0sUUFBUSxFQUFNLFFBQVEsT0FBUyxHQUtyRCxPQUpBLEdBQ0UsRUFBVSxNQUFNLEdBQ2hCLEdBQUcseURBQ0wsRUFDTyxFQUFVLE1BQU0sR0FFekIsU0FBUyxFQUFVLEVBQUcsQ0FDcEIsT0FBTyxHQUFrQixZQUE2QixFQUV4RCxTQUFTLEVBQWEsRUFBRyxDQUV2QixPQURZLEdBQW1CLGVBQW1DLEVBQ3JELFdBZWYsU0FBUyxFQUFVLEVBQUcsQ0FDcEIsSUFBTSxVQUFTLGNBQWUsR0FDNUIsWUFDRixFQUNBLE9BQWMsV0FDWixJQUFNLEVBQVEsSUFBSSxDQUFDLElBQU0sR0FBMkIsRUFBRyxDQUFVLENBQUMsRUFDbEUsQ0FBQyxFQUFTLENBQVUsQ0FDdEIsRUFnQkYsU0FBUyxFQUFhLEVBQUcsQ0FDdkIsSUFBSSxFQUFlLGNBQVcsRUFBaUIsRUFDM0MsRUFBUSxHQUFtQixlQUFtQyxFQUM5RCxFQUFVLEdBQWtCLGVBQW1DLEVBQ25FLEdBQUksSUFBZSxPQUNqQixPQUFPLEVBRVQsT0FBTyxFQUFNLFNBQVMsR0FrRHhCLFNBQVMsRUFBaUIsRUFBRyxDQUMzQixJQUFNLFVBQVcsR0FBcUIsYUFBcUMsRUFDdkUsRUFBSyxHQUFrQixhQUFxQyxFQUM1RCxFQUFtQixVQUFPLEVBQUssRUFnQm5DLE9BZkEsR0FBMEIsSUFBTSxDQUM5QixFQUFVLFFBQVUsR0FDckIsRUFDcUIsZUFDcEIsTUFBTyxFQUFJLEVBQVUsQ0FBQyxJQUFNLENBRTFCLEdBREEsR0FBUSxFQUFVLFFBQVMsRUFBcUIsR0FDM0MsRUFBVSxRQUFTLE9BQ3hCLFVBQVcsSUFBTyxTQUNoQixFQUFPLFNBQVMsQ0FBRSxNQUVsQixPQUFNLEVBQU8sU0FBUyxFQUFJLENBQUUsWUFBYSxLQUFPLENBQVEsQ0FBQyxHQUc3RCxDQUFDLEVBQVEsQ0FBRSxDQUNiLEVBR0YsSUFBSSxHQUFnQixDQUFDLEVBQ3JCLFNBQVMsRUFBVyxDQUFDLEVBQUssRUFBTSxFQUFTLENBQ3ZDLElBQUssSUFBUyxHQUFjLEdBQzFCLEdBQWMsR0FBTyxHQUNyQixHQUFRLEdBQU8sQ0FBTyxFQTZRMUIsSUFBSSxHQUE0QixRQUFLLEVBQVUsRUFDL0MsU0FBUyxFQUFVLEVBQ2pCLFNBQ0EsU0FDQSxTQUNDLENBQ0QsT0FBTyxHQUFjLEVBQWEsT0FBRyxFQUFPLENBQU0sRUEwRXBELFNBQVMsRUFBSyxDQUFDLEVBQVEsQ0FDckIsR0FDRSxHQUNBLHNJQUNGLEVBRUYsU0FBUyxFQUFNLEVBQ2IsU0FBVSxFQUFlLElBQ3pCLFdBQVcsS0FDWCxTQUFVLEVBQ1YsaUJBQWlCLE1BQ2pCLFVBQVcsRUFDWCxPQUFRLEVBQWEsSUFDcEIsQ0FDRCxJQUNHLEdBQW1CLEVBQ3BCLHdHQUNGLEVBQ0EsSUFBSSxFQUFXLEVBQWEsUUFBUSxPQUFRLEdBQUcsRUFDM0MsRUFBMkIsV0FDN0IsS0FBTyxDQUNMLFdBQ0EsVUFBVyxFQUNYLE9BQVEsRUFDUixPQUFRLENBQUMsQ0FDWCxHQUNBLENBQUMsRUFBVSxFQUFZLENBQVUsQ0FDbkMsRUFDQSxVQUFXLElBQWlCLFNBQzFCLEVBQWUsR0FBVSxDQUFZLEVBRXZDLElBQ0UsV0FBVyxJQUNYLFNBQVMsR0FDVCxPQUFPLEdBQ1AsUUFBUSxLQUNSLE1BQU0sV0FDSixFQUNBLEVBQXlCLFdBQVEsSUFBTSxDQUN6QyxJQUFJLEVBQW1CLEdBQWMsRUFBVSxDQUFRLEVBQ3ZELEdBQUksR0FBb0IsS0FDdEIsT0FBTyxLQUVULE1BQU8sQ0FDTCxTQUFVLENBQ1IsU0FBVSxFQUNWLFNBQ0EsT0FDQSxRQUNBLEtBQ0YsRUFDQSxnQkFDRixHQUNDLENBQUMsRUFBVSxFQUFVLEVBQVEsRUFBTSxFQUFPLEVBQUssQ0FBYyxDQUFDLEVBS2pFLEdBSkEsR0FDRSxHQUFtQixLQUNuQixxQkFBcUIscUNBQTRDLElBQVcsSUFBUyx3RkFDdkYsRUFDSSxHQUFtQixLQUNyQixPQUFPLEtBRVQsT0FBOEIsaUJBQWMsR0FBa0IsU0FBVSxDQUFFLE1BQU8sQ0FBa0IsRUFBMEIsaUJBQWMsR0FBZ0IsU0FBVSxDQUFFLFdBQVUsTUFBTyxDQUFnQixDQUFDLENBQUMsRUFFNU0sU0FBUyxFQUFNLEVBQ2IsV0FDQSxZQUNDLENBQ0QsT0FBTyxHQUFVLEdBQXlCLENBQVEsRUFBRyxDQUFRLEVBc0UvRCxTQUFTLEVBQXdCLENBQUMsRUFBVSxFQUFhLENBQUMsRUFBRyxDQUMzRCxJQUFJLEVBQVMsQ0FBQyxFQStDZCxPQTlDTyxZQUFTLFFBQVEsRUFBVSxDQUFDLEVBQVMsSUFBVSxDQUNwRCxJQUFZLGtCQUFlLENBQU8sRUFDaEMsT0FFRixJQUFJLEVBQVcsQ0FBQyxHQUFHLEVBQVksQ0FBSyxFQUNwQyxHQUFJLEVBQVEsT0FBZ0IsWUFBVSxDQUNwQyxFQUFPLEtBQUssTUFDVixFQUNBLEdBQXlCLEVBQVEsTUFBTSxTQUFVLENBQVEsQ0FDM0QsRUFDQSxPQUVGLEdBQ0UsRUFBUSxPQUFTLEdBQ2pCLFdBQVcsRUFBUSxPQUFTLFNBQVcsRUFBUSxLQUFPLEVBQVEsS0FBSyw0R0FDckUsRUFDQSxJQUNHLEVBQVEsTUFBTSxRQUFVLEVBQVEsTUFBTSxTQUN2QywwQ0FDRixFQUNBLElBQUksRUFBUSxDQUNWLEdBQUksRUFBUSxNQUFNLElBQU0sRUFBUyxLQUFLLEdBQUcsRUFDekMsY0FBZSxFQUFRLE1BQU0sY0FDN0IsUUFBUyxFQUFRLE1BQU0sUUFDdkIsVUFBVyxFQUFRLE1BQU0sVUFDekIsTUFBTyxFQUFRLE1BQU0sTUFDckIsS0FBTSxFQUFRLE1BQU0sS0FDcEIsT0FBUSxFQUFRLE1BQU0sT0FDdEIsT0FBUSxFQUFRLE1BQU0sT0FDdEIsdUJBQXdCLEVBQVEsTUFBTSx1QkFDdEMsZ0JBQWlCLEVBQVEsTUFBTSxnQkFDL0IsYUFBYyxFQUFRLE1BQU0sYUFDNUIsY0FBZSxFQUFRLE1BQU0sY0FDN0IsaUJBQWtCLEVBQVEsTUFBTSxtQkFBcUIsSUFBUSxFQUFRLE1BQU0sZUFBaUIsTUFBUSxFQUFRLE1BQU0sY0FBZ0IsS0FDbEksaUJBQWtCLEVBQVEsTUFBTSxpQkFDaEMsT0FBUSxFQUFRLE1BQU0sT0FDdEIsS0FBTSxFQUFRLE1BQU0sSUFDdEIsRUFDQSxHQUFJLEVBQVEsTUFBTSxTQUNoQixFQUFNLFNBQVcsR0FDZixFQUFRLE1BQU0sU0FDZCxDQUNGLEVBRUYsRUFBTyxLQUFLLENBQUssRUFDbEIsRUFDTSxFQVdULElBQUksR0FBZ0IsTUFDaEIsR0FBaUIsb0NBQ3JCLFNBQVMsRUFBYSxDQUFDLEVBQVEsQ0FDN0IsT0FBTyxHQUFVLGFBQWUsRUFBTyxVQUFZLFNBRXJELFNBQVMsRUFBZSxDQUFDLEVBQVEsQ0FDL0IsT0FBTyxHQUFjLENBQU0sR0FBSyxFQUFPLFFBQVEsWUFBWSxJQUFNLFNBRW5FLFNBQVMsRUFBYSxDQUFDLEVBQVEsQ0FDN0IsT0FBTyxHQUFjLENBQU0sR0FBSyxFQUFPLFFBQVEsWUFBWSxJQUFNLE9BRW5FLFNBQVMsRUFBYyxDQUFDLEVBQVEsQ0FDOUIsT0FBTyxHQUFjLENBQU0sR0FBSyxFQUFPLFFBQVEsWUFBWSxJQUFNLFFBRW5FLFNBQVMsRUFBZSxDQUFDLEVBQU8sQ0FDOUIsU0FBVSxFQUFNLFNBQVcsRUFBTSxRQUFVLEVBQU0sU0FBVyxFQUFNLFVBRXBFLFNBQVMsRUFBc0IsQ0FBQyxFQUFPLEVBQVEsQ0FDN0MsT0FBTyxFQUFNLFNBQVcsS0FDdEIsR0FBVSxJQUFXLFdBQ3RCLEdBQWdCLENBQUssRUF5QnhCLElBQUksR0FBNkIsS0FDakMsU0FBUyxFQUE0QixFQUFHLENBQ3RDLEdBQUksS0FBK0IsS0FDakMsR0FBSSxDQUNGLElBQUksU0FDRixTQUFTLGNBQWMsTUFBTSxFQUU3QixDQUNGLEVBQ0EsR0FBNkIsU0FDdEIsRUFBUCxDQUNBLEdBQTZCLEdBR2pDLE9BQU8sR0FFVCxJQUFJLEdBQXdDLElBQUksSUFBSSxDQUNsRCxvQ0FDQSxzQkFDQSxZQUNGLENBQUMsRUFDRCxTQUFTLEVBQWMsQ0FBQyxFQUFTLENBQy9CLEdBQUksR0FBVyxPQUFTLEdBQXNCLElBQUksQ0FBTyxFQUt2RCxPQUpBLEdBQ0UsR0FDQSxJQUFJLHdGQUE4RixLQUNwRyxFQUNPLEtBRVQsT0FBTyxFQUVULFNBQVMsRUFBcUIsQ0FBQyxFQUFRLEVBQVUsQ0FDL0MsSUFBSSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0osR0FBSSxHQUFjLENBQU0sRUFBRyxDQUN6QixJQUFJLEVBQU8sRUFBTyxhQUFhLFFBQVEsRUFDdkMsRUFBUyxFQUFPLEdBQWMsRUFBTSxDQUFRLEVBQUksS0FDaEQsRUFBUyxFQUFPLGFBQWEsUUFBUSxHQUFLLEdBQzFDLEVBQVUsR0FBZSxFQUFPLGFBQWEsU0FBUyxDQUFDLEdBQUssR0FDNUQsRUFBVyxJQUFJLFNBQVMsQ0FBTSxVQUNyQixHQUFnQixDQUFNLEdBQUssR0FBZSxDQUFNLElBQU0sRUFBTyxPQUFTLFVBQVksRUFBTyxPQUFTLFNBQVUsQ0FDckgsSUFBSSxFQUFPLEVBQU8sS0FDbEIsR0FBSSxHQUFRLEtBQ1YsTUFBTSxJQUFJLE1BQ1Isb0VBQ0YsRUFFRixJQUFJLEVBQU8sRUFBTyxhQUFhLFlBQVksR0FBSyxFQUFLLGFBQWEsUUFBUSxFQUsxRSxHQUpBLEVBQVMsRUFBTyxHQUFjLEVBQU0sQ0FBUSxFQUFJLEtBQ2hELEVBQVMsRUFBTyxhQUFhLFlBQVksR0FBSyxFQUFLLGFBQWEsUUFBUSxHQUFLLEdBQzdFLEVBQVUsR0FBZSxFQUFPLGFBQWEsYUFBYSxDQUFDLEdBQUssR0FBZSxFQUFLLGFBQWEsU0FBUyxDQUFDLEdBQUssR0FDaEgsRUFBVyxJQUFJLFNBQVMsRUFBTSxDQUFNLEdBQy9CLEdBQTZCLEVBQUcsQ0FDbkMsSUFBTSxPQUFNLE9BQU0sU0FBVSxFQUM1QixHQUFJLElBQVMsUUFBUyxDQUNwQixJQUFJLEVBQVMsRUFBTyxHQUFHLEtBQVUsR0FDakMsRUFBUyxPQUFPLEdBQUcsS0FBVyxHQUFHLEVBQ2pDLEVBQVMsT0FBTyxHQUFHLEtBQVcsR0FBRyxVQUN4QixFQUNULEVBQVMsT0FBTyxFQUFNLENBQUssV0FHdEIsR0FBYyxDQUFNLEVBQzdCLE1BQU0sSUFBSSxNQUNSLG9GQUNGLE1BRUEsR0FBUyxHQUNULEVBQVMsS0FDVCxFQUFVLEdBQ1YsRUFBTyxFQUVULEdBQUksR0FBWSxJQUFZLGFBQzFCLEVBQU8sRUFDUCxFQUFnQixPQUVsQixNQUFPLENBQUUsU0FBUSxPQUFRLEVBQU8sWUFBWSxFQUFHLFVBQVMsV0FBVSxNQUFLLEVBT3pFLFNBQVMsRUFBVSxDQUFDLEVBQU8sRUFBUyxDQUNsQyxHQUFJLElBQVUsSUFBUyxJQUFVLGFBQWUsSUFBVSxZQUN4RCxNQUFNLElBQUksTUFBTSxDQUFPLEVBSzNCLGVBQWUsRUFBZSxDQUFDLEVBQU8sRUFBbUIsQ0FDdkQsR0FBSSxFQUFNLE1BQU0sRUFDZCxPQUFPLEVBQWtCLEVBQU0sSUFFakMsR0FBSSxDQUNGLElBQUksRUFBYyxNQUdoQixTQUFNLFFBR1IsT0FEQSxFQUFrQixFQUFNLElBQU0sRUFDdkIsUUFDQSxFQUFQLENBS0EsR0FKQSxRQUFRLE1BQ04sZ0NBQWdDLEVBQU0sNkJBQ3hDLEVBQ0EsUUFBUSxNQUFNLENBQUssRUFDZixPQUFPLHNCQUF3QixPQUFPLHFCQUFxQixXQUMvRCxZQUFZLElBQ1YsTUFBTSxFQUdSLE9BREEsT0FBTyxTQUFTLE9BQU8sRUFDaEIsSUFBSSxRQUFRLElBQU0sRUFDeEIsR0F5RUwsU0FBUyxFQUFvQixDQUFDLEVBQVEsQ0FDcEMsT0FBTyxHQUFVLGFBQWUsRUFBTyxPQUFTLFNBRWxELFNBQVMsRUFBb0IsQ0FBQyxFQUFRLENBQ3BDLEdBQUksR0FBVSxLQUNaLE1BQU8sR0FFVCxHQUFJLEVBQU8sTUFBUSxLQUNqQixPQUFPLEVBQU8sTUFBUSxrQkFBb0IsRUFBTyxjQUFnQixpQkFBbUIsRUFBTyxhQUFlLFNBRTVHLGNBQWMsRUFBTyxNQUFRLGlCQUFtQixFQUFPLE9BQVMsU0FFbEUsZUFBZSxFQUFxQixDQUFDLEVBQVMsRUFBVSxFQUFjLENBQ3BFLElBQUksRUFBUSxNQUFNLFFBQVEsSUFDeEIsRUFBUSxJQUFJLE1BQU8sSUFBVSxDQUMzQixJQUFJLEVBQVEsRUFBUyxPQUFPLEVBQU0sTUFBTSxJQUN4QyxHQUFJLEVBQU8sQ0FDVCxJQUFJLEVBQU0sTUFBTSxHQUFnQixFQUFPLENBQVksRUFDbkQsT0FBTyxFQUFJLE1BQVEsRUFBSSxNQUFNLEVBQUksQ0FBQyxFQUVwQyxNQUFPLENBQUMsRUFDVCxDQUNILEVBQ0EsT0FBTyxHQUNMLEVBQU0sS0FBSyxDQUFDLEVBQUUsT0FBTyxFQUFvQixFQUFFLE9BQU8sQ0FBQyxJQUFTLEVBQUssTUFBUSxjQUFnQixFQUFLLE1BQVEsU0FBUyxFQUFFLElBQy9HLENBQUMsSUFBUyxFQUFLLE1BQVEsYUFBZSxJQUFLLEVBQU0sSUFBSyxXQUFZLEdBQUksT0FBUSxFQUFJLElBQUssRUFBTSxJQUFLLFVBQVcsQ0FDL0csQ0FDRixFQUVGLFNBQVMsRUFBcUIsQ0FBQyxFQUFNLEVBQWEsRUFBZ0IsRUFBVSxFQUFVLEVBQU0sQ0FDMUYsSUFBSSxFQUFRLENBQUMsRUFBTyxJQUFVLENBQzVCLElBQUssRUFBZSxHQUFRLE1BQU8sR0FDbkMsT0FBTyxFQUFNLE1BQU0sS0FBTyxFQUFlLEdBQU8sTUFBTSxJQUVwRCxFQUFtQixDQUFDLEVBQU8sSUFBVSxDQUN2QyxPQUVFLEVBQWUsR0FBTyxXQUFhLEVBQU0sVUFFekMsRUFBZSxHQUFPLE1BQU0sTUFBTSxTQUFTLEdBQUcsR0FBSyxFQUFlLEdBQU8sT0FBTyxPQUFTLEVBQU0sT0FBTyxNQUcxRyxHQUFJLElBQVMsU0FDWCxPQUFPLEVBQVksT0FDakIsQ0FBQyxFQUFPLElBQVUsRUFBTSxFQUFPLENBQUssR0FBSyxFQUFpQixFQUFPLENBQUssQ0FDeEUsRUFFRixHQUFJLElBQVMsT0FDWCxPQUFPLEVBQVksT0FBTyxDQUFDLEVBQU8sSUFBVSxDQUMxQyxJQUFJLEVBQWdCLEVBQVMsT0FBTyxFQUFNLE1BQU0sSUFDaEQsSUFBSyxJQUFrQixFQUFjLFVBQ25DLE1BQU8sR0FFVCxHQUFJLEVBQU0sRUFBTyxDQUFLLEdBQUssRUFBaUIsRUFBTyxDQUFLLEVBQ3RELE1BQU8sR0FFVCxHQUFJLEVBQU0sTUFBTSxpQkFBa0IsQ0FDaEMsSUFBSSxFQUFjLEVBQU0sTUFBTSxpQkFBaUIsQ0FDN0MsV0FBWSxJQUFJLElBQ2QsRUFBUyxTQUFXLEVBQVMsT0FBUyxFQUFTLEtBQy9DLE9BQU8sTUFDVCxFQUNBLGNBQWUsRUFBZSxJQUFJLFFBQVUsQ0FBQyxFQUM3QyxRQUFTLElBQUksSUFBSSxFQUFNLE9BQU8sTUFBTSxFQUNwQyxXQUFZLEVBQU0sT0FDbEIsd0JBQXlCLEVBQzNCLENBQUMsRUFDRCxVQUFXLElBQWdCLFVBQ3pCLE9BQU8sRUFHWCxNQUFPLEdBQ1IsRUFFSCxNQUFPLENBQUMsRUFFVixTQUFTLEVBQWtCLENBQUMsRUFBUyxHQUFZLDBCQUEyQixDQUFDLEVBQUcsQ0FDOUUsT0FBTyxHQUNMLEVBQVEsSUFBSSxDQUFDLElBQVUsQ0FDckIsSUFBSSxFQUFRLEVBQVMsT0FBTyxFQUFNLE1BQU0sSUFDeEMsSUFBSyxFQUFPLE1BQU8sQ0FBQyxFQUNwQixJQUFJLEVBQVEsQ0FBQyxFQUFNLE1BQU0sRUFDekIsR0FBSSxFQUFNLG1CQUNSLEVBQVEsRUFBTSxPQUFPLEVBQU0sa0JBQWtCLEVBRS9DLEdBQUksRUFBTSxtQkFDUixFQUFRLEVBQU0sT0FBTyxFQUFNLGtCQUFrQixFQUUvQyxHQUFJLEdBQTBCLEVBQU0sc0JBQ2xDLEVBQVEsRUFBTSxPQUFPLEVBQU0scUJBQXFCLEVBRWxELEdBQUksRUFBTSxRQUNSLEVBQVEsRUFBTSxPQUFPLEVBQU0sT0FBTyxFQUVwQyxPQUFPLEVBQ1IsRUFBRSxLQUFLLENBQUMsQ0FDWCxFQUVGLFNBQVMsRUFBVyxDQUFDLEVBQU8sQ0FDMUIsTUFBTyxDQUFDLEdBQUcsSUFBSSxJQUFJLENBQUssQ0FBQyxFQUUzQixTQUFTLEVBQVEsQ0FBQyxFQUFLLENBQ3JCLElBQUksRUFBUyxDQUFDLEVBQ1YsRUFBTyxPQUFPLEtBQUssQ0FBRyxFQUFFLEtBQUssRUFDakMsUUFBUyxLQUFPLEVBQ2QsRUFBTyxHQUFPLEVBQUksR0FFcEIsT0FBTyxFQUVULFNBQVMsRUFBcUIsQ0FBQyxFQUFhLEVBQVUsQ0FDcEQsSUFBSSxFQUFzQixJQUFJLElBQzFCLEVBQWMsSUFBSSxJQUFJLENBQVEsRUFDbEMsT0FBTyxFQUFZLE9BQU8sQ0FBQyxFQUFTLElBQWUsQ0FFakQsR0FEMkIsSUFBYSxHQUFxQixDQUFVLEdBQUssRUFBVyxLQUFPLFVBQVksRUFBVyxNQUFRLEVBQVksSUFBSSxFQUFXLElBQUksRUFFMUosT0FBTyxFQUVULElBQUksRUFBTSxLQUFLLFVBQVUsR0FBUyxDQUFVLENBQUMsRUFDN0MsSUFBSyxFQUFJLElBQUksQ0FBRyxFQUNkLEVBQUksSUFBSSxDQUFHLEVBQ1gsRUFBUSxLQUFLLENBQUUsTUFBSyxLQUFNLENBQVcsQ0FBQyxFQUV4QyxPQUFPLEdBQ04sQ0FBQyxDQUFDLEVBdURQLElBQUksR0FBNEIsT0FBTyxxQkFBcUIsRUFxUjVELFNBQVMsRUFBYyxDQUFDLEVBQVEsRUFBVSxDQUN4QyxJQUFJLFNBQWEsSUFBVyxTQUFXLElBQUksSUFDekMsU0FHTyxTQUFXLFlBQWMsd0JBQTBCLE9BQU8sU0FBUyxNQUM1RSxFQUFJLEVBQ0osR0FBSSxFQUFJLFdBQWEsSUFDbkIsRUFBSSxTQUFXLHFCQUNOLEdBQVksR0FBYyxFQUFJLFNBQVUsQ0FBUSxJQUFNLElBQy9ELEVBQUksU0FBVyxHQUFHLEVBQVMsUUFBUSxNQUFPLEVBQUUsbUJBRTVDLEdBQUksU0FBVyxHQUFHLEVBQUksU0FBUyxRQUFRLE1BQU8sRUFBRSxTQUVsRCxPQUFPLEVBeXpCVCxTQUFTLEVBQXFCLEVBQUcsQ0FDL0IsSUFBSSxFQUFpQixjQUFXLEVBQWlCLEVBS2pELE9BSkEsR0FDRSxFQUNBLDRFQUNGLEVBQ08sRUFFVCxTQUFTLEVBQXlCLEVBQUcsQ0FDbkMsSUFBSSxFQUFpQixjQUFXLEVBQXNCLEVBS3RELE9BSkEsR0FDRSxFQUNBLGlGQUNGLEVBQ08sRUFFVCxJQUFJLEdBQTBCLGlCQUFtQixNQUFDLEVBQ2xELEdBQWlCLFlBQWMsbUJBQy9CLFNBQVMsRUFBbUIsRUFBRyxDQUM3QixJQUFJLEVBQWlCLGNBQVcsRUFBZ0IsRUFLaEQsT0FKQSxHQUNFLEVBQ0EsZ0VBQ0YsRUFDTyxFQUVULFNBQVMsRUFBbUIsQ0FBQyxFQUFVLEVBQW1CLENBQ3hELElBQUksRUFBMEIsY0FBVyxFQUFnQixHQUNwRCxFQUFlLEdBQTJCLFlBQVMsRUFBSyxHQUN4RCxFQUFnQixHQUE0QixZQUFTLEVBQUssR0FDekQsVUFBUyxTQUFRLGVBQWMsZUFBYyxnQkFBaUIsRUFDaEUsRUFBYSxVQUFPLElBQUksRUFDNUIsQUFBTyxhQUFVLElBQU0sQ0FDckIsR0FBSSxJQUFhLFNBQ2YsRUFBa0IsRUFBSSxFQUV4QixHQUFJLElBQWEsV0FBWSxDQU0zQixJQUFJLEVBQVcsSUFBSSxxQkFMSixDQUFDLElBQVksQ0FDMUIsRUFBUSxRQUFRLENBQUMsSUFBVSxDQUN6QixFQUFrQixFQUFNLGNBQWMsRUFDdkMsR0FFK0MsQ0FBRSxVQUFXLEdBQUksQ0FBQyxFQUNwRSxHQUFJLEVBQUksUUFBUyxFQUFTLFFBQVEsRUFBSSxPQUFPLEVBQzdDLE1BQU8sSUFBTSxDQUNYLEVBQVMsV0FBVyxLQUd2QixDQUFDLENBQVEsQ0FBQyxFQUNOLGFBQVUsSUFBTSxDQUNyQixHQUFJLEVBQWUsQ0FDakIsSUFBSSxFQUFLLFdBQVcsSUFBTSxDQUN4QixFQUFrQixFQUFJLEdBQ3JCLEdBQUcsRUFDTixNQUFPLElBQU0sQ0FDWCxhQUFhLENBQUUsS0FHbEIsQ0FBQyxDQUFhLENBQUMsRUFDbEIsSUFBSSxFQUFZLElBQU0sQ0FDcEIsRUFBaUIsRUFBSSxHQUVuQixFQUFlLElBQU0sQ0FDdkIsRUFBaUIsRUFBSyxFQUN0QixFQUFrQixFQUFLLEdBRXpCLElBQUssRUFDSCxNQUFPLENBQUMsR0FBTyxFQUFLLENBQUMsQ0FBQyxFQUV4QixHQUFJLElBQWEsU0FDZixNQUFPLENBQUMsRUFBZ0IsRUFBSyxDQUFDLENBQUMsRUFFakMsTUFBTyxDQUNMLEVBQ0EsRUFDQSxDQUNFLFFBQVMsR0FBcUIsRUFBUyxDQUFTLEVBQ2hELE9BQVEsR0FBcUIsRUFBUSxDQUFZLEVBQ2pELGFBQWMsR0FBcUIsRUFBYyxDQUFTLEVBQzFELGFBQWMsR0FBcUIsRUFBYyxDQUFZLEVBQzdELGFBQWMsR0FBcUIsRUFBYyxDQUFTLENBQzVELENBQ0YsRUFFRixTQUFTLEVBQW9CLENBQUMsRUFBYyxFQUFZLENBQ3RELE1BQU8sQ0FBQyxJQUFVLENBRWhCLEdBREEsR0FBZ0IsRUFBYSxDQUFLLEdBQzdCLEVBQU0saUJBQ1QsRUFBVyxDQUFLLEdBMEJ0QixTQUFTLEVBQWlCLEVBQ3hCLFVBQ0csR0FDRixDQUNELElBQU0sVUFBVyxHQUFzQixFQUNuQyxFQUFpQixXQUNuQixJQUFNLEdBQVksRUFBTyxPQUFRLEVBQU0sRUFBTyxRQUFRLEVBQ3RELENBQUMsRUFBTyxPQUFRLEVBQU0sRUFBTyxRQUFRLENBQ3ZDLEVBQ0EsSUFBSyxFQUNILE9BQU8sS0FFVCxPQUE4QixpQkFBYyxHQUF1QixDQUFFLE9BQU0sYUFBWSxDQUFjLENBQUMsRUFFeEcsU0FBUyxFQUFxQixDQUFDLEVBQVMsQ0FDdEMsSUFBTSxXQUFVLGdCQUFpQixHQUFvQixHQUNoRCxFQUFvQixHQUFnQyxZQUFTLENBQUMsQ0FBQyxFQWNwRSxPQWJPLGFBQVUsSUFBTSxDQUNyQixJQUFJLEVBQWMsR0FRbEIsT0FQSyxHQUFzQixFQUFTLEVBQVUsQ0FBWSxFQUFFLEtBQzFELENBQUMsSUFBVSxDQUNULElBQUssRUFDSCxFQUFzQixDQUFLLEVBR2pDLEVBQ08sSUFBTSxDQUNYLEVBQWMsS0FFZixDQUFDLEVBQVMsRUFBVSxDQUFZLENBQUMsRUFDN0IsRUFFVCxTQUFTLEVBQXFCLEVBQzVCLE9BQ0EsUUFBUyxLQUNOLEdBQ0YsQ0FDRCxJQUFJLEVBQVcsR0FBWSxHQUNyQixXQUFVLGdCQUFpQixHQUFvQixHQUMvQyxZQUFhLEdBQXNCLEdBQ25DLGFBQVksV0FBWSxHQUEwQixFQUNwRCxFQUEyQixXQUM3QixJQUFNLEdBQ0osRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLE1BQ0YsRUFDQSxDQUFDLEVBQU0sRUFBYSxFQUFTLEVBQVUsQ0FBUSxDQUNqRCxFQUNJLEVBQTZCLFdBQy9CLElBQU0sR0FDSixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsUUFDRixFQUNBLENBQUMsRUFBTSxFQUFhLEVBQVMsRUFBVSxDQUFRLENBQ2pELEVBQ0ksRUFBbUIsV0FBUSxJQUFNLENBQ25DLEdBQUksSUFBUyxFQUFTLFNBQVcsRUFBUyxPQUFTLEVBQVMsS0FDMUQsTUFBTyxDQUFDLEVBRVYsSUFBSSxFQUErQixJQUFJLElBQ25DLEVBQW1CLEdBY3ZCLEdBYkEsRUFBWSxRQUFRLENBQUMsSUFBTSxDQUN6QixJQUFJLEVBQWdCLEVBQVMsT0FBTyxFQUFFLE1BQU0sSUFDNUMsSUFBSyxJQUFrQixFQUFjLFVBQ25DLE9BRUYsSUFBSyxFQUFrQixLQUFLLENBQUMsSUFBTyxFQUFHLE1BQU0sS0FBTyxFQUFFLE1BQU0sRUFBRSxHQUFLLEVBQUUsTUFBTSxNQUFNLEdBQWMsRUFBYSxFQUFFLE1BQU0sS0FBSyxpQkFDdkgsRUFBbUIsV0FDVixFQUFjLGdCQUN2QixFQUFtQixPQUVuQixHQUFhLElBQUksRUFBRSxNQUFNLEVBQUUsRUFFOUIsRUFDRyxFQUFhLE9BQVMsRUFDeEIsTUFBTyxDQUFDLEVBRVYsSUFBSSxFQUFNLEdBQWUsRUFBTSxDQUFRLEVBQ3ZDLEdBQUksR0FBb0IsRUFBYSxLQUFPLEVBQzFDLEVBQUksYUFBYSxJQUNmLFVBQ0EsRUFBWSxPQUFPLENBQUMsSUFBTSxFQUFhLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxJQUFNLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxHQUFHLENBQ3pGLEVBRUYsTUFBTyxDQUFDLEVBQUksU0FBVyxFQUFJLE1BQU0sR0FDaEMsQ0FDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsQ0FBQyxFQUNHLEVBQXFCLFdBQ3ZCLElBQU0sR0FBbUIsRUFBcUIsQ0FBUSxFQUN0RCxDQUFDLEVBQXFCLENBQVEsQ0FDaEMsRUFDSSxFQUFxQixHQUFzQixDQUFtQixFQUNsRSxPQUE4QixpQkFBcUIsWUFBVSxLQUFNLEVBQVUsSUFBSSxDQUFDLElBQWlDLGlCQUFjLE9BQVEsQ0FBRSxJQUFLLEVBQU8sSUFBSyxXQUFZLEdBQUksUUFBUyxLQUFNLEtBQVUsQ0FBVSxDQUFDLENBQUMsRUFBRyxFQUFZLElBQUksQ0FBQyxJQUFpQyxpQkFBYyxPQUFRLENBQUUsSUFBSyxFQUFPLElBQUssZ0JBQWlCLEtBQU0sS0FBVSxDQUFVLENBQUMsQ0FBQyxFQUFHLEVBQW1CLElBQUksRUFBRyxNQUFLLFVBR3JXLGlCQUFjLE9BQVEsQ0FBRSxTQUFRLENBQUssQ0FBQyxDQUM5RCxDQUFDLEVBNE5KLFNBQVMsRUFBUyxJQUFJLEVBQU0sQ0FDMUIsTUFBTyxDQUFDLElBQVUsQ0FDaEIsRUFBSyxRQUFRLENBQUMsSUFBUSxDQUNwQixVQUFXLElBQVEsV0FDakIsRUFBSSxDQUFLLFVBQ0EsR0FBTyxLQUNoQixFQUFJLFFBQVUsRUFFakIsR0FLTCxJQUFJLFVBQW1CLFNBQVcsb0JBQXNCLE9BQU8sV0FBYSxvQkFBc0IsT0FBTyxTQUFTLGdCQUFrQixZQUNwSSxHQUFJLENBQ0YsR0FBSSxHQUNGLE9BQU8scUJBQXVCLGNBRXpCLEVBQVAsRUEyRUYsU0FBUyxFQUFhLEVBQ3BCLFdBQ0EsV0FDQSxPQUFRLEdBQ1AsQ0FDRCxJQUFJLEVBQXFCLFVBQU8sRUFDaEMsR0FBSSxFQUFXLFNBQVcsS0FDeEIsRUFBVyxRQUFVLEdBQXFCLENBQUUsT0FBUSxFQUFTLFNBQVUsRUFBSyxDQUFDLEVBRS9FLElBQUksRUFBVSxFQUFXLFNBQ3BCLEVBQU8sR0FBd0IsWUFBUyxDQUMzQyxPQUFRLEVBQVEsT0FDaEIsU0FBVSxFQUFRLFFBQ3BCLENBQUMsRUFDRyxFQUFtQixlQUNyQixDQUFDLElBQWEsQ0FDWixBQUFRLG1CQUFnQixJQUFNLEVBQWEsQ0FBUSxDQUFDLEdBRXRELENBQUMsQ0FBWSxDQUNmLEVBRUEsT0FEUSxtQkFBZ0IsSUFBTSxFQUFRLE9BQU8sQ0FBUSxFQUFHLENBQUMsRUFBUyxDQUFRLENBQUMsRUFDNUMsaUJBQzdCLEdBQ0EsQ0FDRSxXQUNBLFdBQ0EsU0FBVSxFQUFNLFNBQ2hCLGVBQWdCLEVBQU0sT0FDdEIsVUFBVyxDQUNiLENBQ0YsRUE4QkYsU0FBUyxFQUFhLEVBQ3BCLFdBQ0EsV0FDQSxXQUNDLENBQ0QsSUFBSyxFQUFPLEdBQXdCLFlBQVMsQ0FDM0MsT0FBUSxFQUFRLE9BQ2hCLFNBQVUsRUFBUSxRQUNwQixDQUFDLEVBQ0csRUFBbUIsZUFDckIsQ0FBQyxJQUFhLENBQ1osQUFBUSxtQkFBZ0IsSUFBTSxFQUFhLENBQVEsQ0FBQyxHQUV0RCxDQUFDLENBQVksQ0FDZixFQUVBLE9BRFEsbUJBQWdCLElBQU0sRUFBUSxPQUFPLENBQVEsRUFBRyxDQUFDLEVBQVMsQ0FBUSxDQUFDLEVBQzVDLGlCQUM3QixHQUNBLENBQ0UsV0FDQSxXQUNBLFNBQVUsRUFBTSxTQUNoQixlQUFnQixFQUFNLE9BQ3RCLFVBQVcsQ0FDYixDQUNGLEVBRUYsR0FBYyxZQUFjLHlCQUM1QixJQUFJLEdBQXNCLGdDQUN0QixHQUFlLHVCQUNSLENBQVcsRUFDbEIsVUFDQSxXQUFXLFNBQ1gsV0FBVyxPQUNYLFdBQ0EsaUJBQ0EsUUFBUyxFQUNULFFBQ0EsU0FDQSxLQUNBLHFCQUNBLG9CQUNHLEdBQ0YsRUFBYyxDQUNmLElBQU0sWUFBcUIsY0FBVyxFQUFpQixFQUNuRCxTQUFvQixJQUFPLFVBQVksR0FBb0IsS0FBSyxDQUFFLEVBQ2xFLEVBQ0EsRUFBYSxHQUNqQixVQUFXLElBQU8sVUFBWSxHQUU1QixHQURBLEVBQWUsRUFDWCxHQUNGLEdBQUksQ0FDRixJQUFJLEdBQWEsSUFBSSxJQUFJLE9BQU8sU0FBUyxJQUFJLEVBQ3pDLEdBQVksRUFBRyxXQUFXLElBQUksRUFBSSxJQUFJLElBQUksR0FBVyxTQUFXLENBQUUsRUFBSSxJQUFJLElBQUksQ0FBRSxFQUNoRixHQUFPLEdBQWMsR0FBVSxTQUFVLENBQVEsRUFDckQsR0FBSSxHQUFVLFNBQVcsR0FBVyxRQUFVLElBQVEsS0FDcEQsRUFBSyxHQUFPLEdBQVUsT0FBUyxHQUFVLFNBRXpDLEdBQWEsU0FFUixHQUFQLENBQ0EsR0FDRSxHQUNBLGFBQWEseUdBQ2YsR0FJTixJQUFJLEVBQVEsR0FBUSxFQUFJLENBQUUsVUFBUyxDQUFDLEdBQy9CLEVBQWdCLEVBQWEsSUFBb0IsR0FDcEQsRUFDQSxDQUNGLEVBQ0ksR0FBa0IsR0FBb0IsRUFBSSxDQUM1QyxRQUFTLEVBQ1QsUUFDQSxTQUNBLHFCQUNBLFdBQ0EsZ0JBQ0YsQ0FBQyxFQUNELFNBQVMsRUFBVyxDQUFDLEdBQU8sQ0FDMUIsR0FBSSxFQUFTLEVBQVEsRUFBSyxFQUMxQixJQUFLLEdBQU0saUJBQ1QsR0FBZ0IsRUFBSyxFQUd6QixJQUFJLEdBRXNCLGlCQUN0QixJQUNBLElBQ0ssS0FDQSxHQUNILEtBQU0sR0FBZ0IsRUFDdEIsUUFBUyxHQUFjLEVBQWlCLEVBQVUsR0FDbEQsSUFBSyxHQUFVLEVBQWMsQ0FBVyxFQUN4QyxTQUNBLGlCQUFrQixHQUFjLElBQWEsU0FBVyxPQUFjLE1BQ3hFLENBQ0YsRUFFRixPQUFPLElBQW1CLEVBQXFDLGlCQUFzQixZQUFVLEtBQU0sR0FBOEIsaUJBQWMsR0FBbUIsQ0FBRSxLQUFNLENBQU0sQ0FBQyxDQUFDLEVBQUksR0FFNUwsRUFDQSxHQUFLLFlBQWMsT0FDbkIsSUFBSSxHQUFrQix1QkFDWCxDQUFjLEVBQ3JCLGVBQWdCLEVBQWtCLE9BQ2xDLGdCQUFnQixHQUNoQixVQUFXLEVBQWdCLEdBQzNCLE1BQU0sR0FDTixNQUFPLEVBQ1AsS0FDQSxpQkFDQSxjQUNHLEdBQ0YsRUFBSyxDQUNOLElBQUksRUFBTyxHQUFnQixFQUFJLENBQUUsU0FBVSxFQUFLLFFBQVMsQ0FBQyxFQUN0RCxFQUFXLEdBQVksRUFDdkIsRUFBc0IsY0FBVyxFQUFzQixHQUNyRCxVQUFXLEVBQVksWUFBcUIsY0FBVyxFQUFpQixFQUMxRSxFQUFrQixHQUFlLE1BRXJDLEdBQXVCLENBQUksR0FBSyxJQUFtQixHQUMvQyxFQUFhLEVBQVcsZUFBaUIsRUFBVyxlQUFlLENBQUksRUFBRSxTQUFXLEVBQUssU0FDekYsRUFBbUIsRUFBUyxTQUM1QixFQUF1QixHQUFlLEVBQVksWUFBYyxFQUFZLFdBQVcsU0FBVyxFQUFZLFdBQVcsU0FBUyxTQUFXLEtBQ2pKLElBQUssRUFDSCxFQUFtQixFQUFpQixZQUFZLEVBQ2hELEVBQXVCLEVBQXVCLEVBQXFCLFlBQVksRUFBSSxLQUNuRixFQUFhLEVBQVcsWUFBWSxFQUV0QyxHQUFJLEdBQXdCLEVBQzFCLEVBQXVCLEdBQWMsRUFBc0IsQ0FBUSxHQUFLLEVBRTFFLElBQU0sRUFBbUIsSUFBZSxLQUFPLEVBQVcsU0FBUyxHQUFHLEVBQUksRUFBVyxPQUFTLEVBQUksRUFBVyxPQUN6RyxHQUFXLElBQXFCLElBQWUsR0FBTyxFQUFpQixXQUFXLENBQVUsR0FBSyxFQUFpQixPQUFPLENBQWdCLElBQU0sSUFDL0ksR0FBWSxHQUF3QixPQUFTLElBQXlCLElBQWUsR0FBTyxFQUFxQixXQUFXLENBQVUsR0FBSyxFQUFxQixPQUFPLEVBQVcsTUFBTSxJQUFNLEtBQzlMLEdBQWMsQ0FDaEIsWUFDQSxhQUNBLGlCQUNGLEVBQ0ksR0FBYyxHQUFXLEVBQXVCLE9BQ2hELEdBQ0osVUFBVyxJQUFrQixXQUMzQixHQUFZLEVBQWMsRUFBVyxNQUVyQyxJQUFZLENBQ1YsRUFDQSxHQUFXLFNBQVcsS0FDdEIsR0FBWSxVQUFZLEtBQ3hCLEVBQWtCLGdCQUFrQixJQUN0QyxFQUFFLE9BQU8sT0FBTyxFQUFFLEtBQUssR0FBRyxFQUU1QixJQUFJLFVBQWUsSUFBYyxXQUFhLEVBQVUsRUFBVyxFQUFJLEVBQ3ZFLE9BQStCLGlCQUM3QixHQUNBLElBQ0ssRUFDSCxlQUFnQixHQUNoQixhQUNBLE1BQ0EsU0FDQSxLQUNBLGdCQUNGLFNBQ08sSUFBYSxXQUFhLEVBQVMsRUFBVyxFQUFJLENBQzNELEVBRUosRUFDQSxHQUFRLFlBQWMsVUFDdEIsSUFBSSxHQUFlLGNBQ2pCLEVBQ0UsV0FBVyxTQUNYLGFBQ0EsV0FDQSxpQkFDQSxRQUFTLEVBQ1QsUUFDQSxTQUFTLEdBQ1QsU0FDQSxXQUNBLFdBQ0EscUJBQ0Esb0JBQ0csR0FDRixJQUFpQixDQUNsQixJQUFJLEVBQVMsR0FBVSxFQUNuQixFQUFhLEdBQWMsRUFBUSxDQUFFLFVBQVMsQ0FBQyxFQUMvQyxFQUFhLEVBQU8sWUFBWSxJQUFNLE1BQVEsTUFBUSxPQUN0RCxTQUFvQixJQUFXLFVBQVksR0FBb0IsS0FBSyxDQUFNLEVBa0I5RSxPQUErQixpQkFDN0IsT0FDQSxDQUNFLElBQUssRUFDTCxPQUFRLEVBQ1IsT0FBUSxFQUNSLFNBQVUsRUFBaUIsRUF2QlgsQ0FBQyxJQUFVLENBRTdCLEdBREEsR0FBWSxFQUFTLENBQUssRUFDdEIsRUFBTSxpQkFBa0IsT0FDNUIsRUFBTSxlQUFlLEVBQ3JCLElBQUksRUFBWSxFQUFNLFlBQVksVUFDOUIsR0FBZSxHQUFXLGFBQWEsWUFBWSxHQUFLLEVBQzVELEVBQU8sR0FBYSxFQUFNLGNBQWUsQ0FDdkMsYUFDQSxPQUFRLEdBQ1IsV0FDQSxRQUFTLEVBQ1QsUUFDQSxXQUNBLHFCQUNBLGdCQUNGLENBQUMsTUFTSSxFQUNILGlCQUFrQixHQUFjLElBQWEsU0FBVyxPQUFjLE1BQ3hFLENBQ0YsRUFFSixFQUNBLEdBQUssWUFBYyxPQUNuQixTQUFTLEVBQWlCLEVBQ3hCLFNBQ0EsZ0JBQ0csR0FDRixDQUNELElBQUksRUFBdUIsY0FBVyxFQUFnQixHQUNoRCxZQUFxQixjQUFXLEVBQWlCLEVBQ25ELEVBQVcsR0FBWSxFQUN2QixFQUFVLEdBQVcsRUFDekIsR0FBcUIsQ0FBRSxTQUFRLFlBQVcsQ0FBQyxFQUMzQyxJQUFJLEVBQWlCLFdBQ25CLElBQU0sQ0FDSixJQUFLLElBQWlCLEVBQVEsT0FBTyxLQUNyQyxJQUFJLEVBQVUsR0FDWixFQUNBLEVBQ0EsRUFDQSxDQUNGLEVBQ0EsT0FBTyxJQUFZLEVBQVMsSUFBTSxFQUFVLE1BSTlDLENBQUMsQ0FDSCxFQUNBLElBQUssR0FBZ0IsRUFBYSxVQUNoQyxPQUFPLEtBRVQsSUFBSSxHQUFpQixDQUFDLEVBQWEsSUFBZSxDQUNoRCxJQUFLLE9BQU8sUUFBUSxRQUFVLE9BQU8sUUFBUSxNQUFNLElBQUssQ0FDdEQsSUFBSSxFQUFNLEtBQUssT0FBTyxFQUFFLFNBQVMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxFQUM1QyxPQUFPLFFBQVEsYUFBYSxDQUFFLEtBQUksRUFBRyxFQUFFLEVBRXpDLEdBQUksQ0FFRixJQUFJLEVBRFksS0FBSyxNQUFNLGVBQWUsUUFBUSxDQUFXLEdBQUssSUFBSSxFQUM5QyxHQUFjLE9BQU8sUUFBUSxNQUFNLEtBQzNELFVBQVcsSUFBWSxTQUNyQixPQUFPLFNBQVMsRUFBRyxDQUFPLFFBRXJCLEVBQVAsQ0FDQSxRQUFRLE1BQU0sQ0FBSyxFQUNuQixlQUFlLFdBQVcsQ0FBVyxLQUV0QyxTQUFTLEVBQ1osT0FBK0IsaUJBQzdCLFNBQ0EsSUFDSyxFQUNILHlCQUEwQixHQUMxQix3QkFBeUIsQ0FDdkIsT0FBUSxJQUFJLE1BQWtCLEtBQUssVUFDakMsR0FBYyxFQUNoQixNQUFNLEtBQUssVUFBVSxDQUFNLElBQzdCLENBQ0YsQ0FDRixFQUVGLEdBQWtCLFlBQWMsb0JBQ2hDLFNBQVMsRUFBMEIsQ0FBQyxFQUFVLENBQzVDLE1BQU8sR0FBRyxzR0FFWixTQUFTLEVBQXFCLENBQUMsRUFBVSxDQUN2QyxJQUFJLEVBQWMsY0FBVyxFQUFpQixFQUU5QyxPQURBLEdBQVUsRUFBSyxHQUEyQixDQUFRLENBQUMsRUFDNUMsRUFFVCxTQUFTLEVBQW1CLENBQUMsRUFBVSxDQUNyQyxJQUFJLEVBQWdCLGNBQVcsRUFBc0IsRUFFckQsT0FEQSxHQUFVLEVBQU8sR0FBMkIsQ0FBUSxDQUFDLEVBQzlDLEVBRVQsU0FBUyxFQUFtQixDQUFDLEdBQzNCLFNBQ0EsUUFBUyxFQUNULFFBQ0EscUJBQ0EsV0FDQSxrQkFDRSxDQUFDLEVBQUcsQ0FDTixJQUFJLEVBQVcsR0FBWSxFQUN2QixFQUFXLEdBQVksRUFDdkIsRUFBTyxHQUFnQixFQUFJLENBQUUsVUFBUyxDQUFDLEVBQzNDLE9BQWUsZUFDYixDQUFDLElBQVUsQ0FDVCxHQUFJLEdBQXVCLEVBQU8sQ0FBTSxFQUFHLENBQ3pDLEVBQU0sZUFBZSxFQUNyQixJQUFJLEVBQVcsSUFBcUIsT0FBSSxFQUFjLEdBQVcsQ0FBUSxJQUFNLEdBQVcsQ0FBSSxFQUM5RixFQUFTLEVBQUksQ0FDWCxRQUFTLEVBQ1QsUUFDQSxxQkFDQSxXQUNBLGdCQUNGLENBQUMsSUFHTCxDQUNFLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLENBQ0YsQ0FDRixFQW1DRixJQUFJLEdBQVksRUFDWixHQUFxQixJQUFNLEtBQUssU0FBUyxFQUFTLE1BQ3RELFNBQVMsRUFBUyxFQUFHLENBQ25CLElBQU0sVUFBVyxHQUFzQixXQUEyQixHQUM1RCxZQUFxQixjQUFXLEVBQWlCLEVBQ25ELEVBQWlCLEdBQVcsRUFDaEMsT0FBZSxlQUNiLE1BQU8sRUFBUSxFQUFVLENBQUMsSUFBTSxDQUM5QixJQUFNLFNBQVEsU0FBUSxVQUFTLFdBQVUsUUFBUyxHQUNoRCxFQUNBLENBQ0YsRUFDQSxHQUFJLEVBQVEsV0FBYSxHQUFPLENBQzlCLElBQUksRUFBTSxFQUFRLFlBQWMsR0FBbUIsRUFDbkQsTUFBTSxFQUFPLE1BQU0sRUFBSyxFQUFnQixFQUFRLFFBQVUsRUFBUSxDQUNoRSxtQkFBb0IsRUFBUSxtQkFDNUIsV0FDQSxPQUNBLFdBQVksRUFBUSxRQUFVLEVBQzlCLFlBQWEsRUFBUSxTQUFXLEVBQ2hDLFVBQVcsRUFBUSxTQUNyQixDQUFDLE1BRUQsT0FBTSxFQUFPLFNBQVMsRUFBUSxRQUFVLEVBQVEsQ0FDOUMsbUJBQW9CLEVBQVEsbUJBQzVCLFdBQ0EsT0FDQSxXQUFZLEVBQVEsUUFBVSxFQUM5QixZQUFhLEVBQVEsU0FBVyxFQUNoQyxRQUFTLEVBQVEsUUFDakIsTUFBTyxFQUFRLE1BQ2YsWUFBYSxFQUNiLFVBQVcsRUFBUSxVQUNuQixlQUFnQixFQUFRLGNBQzFCLENBQUMsR0FHTCxDQUFDLEVBQVEsRUFBVSxDQUFjLENBQ25DLEVBRUYsU0FBUyxFQUFhLENBQUMsR0FBVSxZQUFhLENBQUMsRUFBRyxDQUNoRCxJQUFNLFlBQXFCLGNBQVcsRUFBaUIsRUFDbkQsRUFBdUIsY0FBVyxFQUFZLEVBQ2xELEdBQVUsRUFBYyxrREFBa0QsRUFDMUUsSUFBSyxHQUFTLEVBQWEsUUFBUSxNQUFNLEVBQUUsRUFDdkMsRUFBTyxJQUFLLEdBQWdCLEVBQVMsRUFBUyxJQUFLLENBQUUsVUFBUyxDQUFDLENBQUUsRUFDakUsRUFBVyxHQUFZLEVBQzNCLEdBQUksR0FBVSxLQUFNLENBQ2xCLEVBQUssT0FBUyxFQUFTLE9BQ3ZCLElBQUksRUFBUyxJQUFJLGdCQUFnQixFQUFLLE1BQU0sRUFDeEMsRUFBYyxFQUFPLE9BQU8sT0FBTyxFQUV2QyxHQUR5QixFQUFZLEtBQUssQ0FBQyxJQUFNLElBQU0sRUFBRSxFQUNqQyxDQUN0QixFQUFPLE9BQU8sT0FBTyxFQUNyQixFQUFZLE9BQU8sQ0FBQyxJQUFNLENBQUMsRUFBRSxRQUFRLENBQUMsSUFBTSxFQUFPLE9BQU8sUUFBUyxDQUFDLENBQUMsRUFDckUsSUFBSSxFQUFLLEVBQU8sU0FBUyxFQUN6QixFQUFLLE9BQVMsRUFBSyxJQUFJLElBQU8sSUFHbEMsS0FBTSxHQUFVLElBQVcsTUFBUSxFQUFNLE1BQU0sTUFDN0MsRUFBSyxPQUFTLEVBQUssT0FBUyxFQUFLLE9BQU8sUUFBUSxNQUFPLFNBQVMsRUFBSSxTQUV0RSxHQUFJLElBQWEsSUFDZixFQUFLLFNBQVcsRUFBSyxXQUFhLElBQU0sRUFBVyxHQUFVLENBQUMsRUFBVSxFQUFLLFFBQVEsQ0FBQyxFQUV4RixPQUFPLEdBQVcsQ0FBSSxFQXlFeEIsSUFBSSxHQUFpQyxnQ0FDakMsR0FBdUIsQ0FBQyxFQUM1QixTQUFTLEVBQXVCLENBQUMsRUFBVSxFQUFTLEVBQVUsRUFBUSxDQUNwRSxJQUFJLEVBQU0sS0FDVixHQUFJLEVBQ0YsR0FBSSxJQUFhLElBQ2YsRUFBTSxFQUNKLElBQ0ssRUFDSCxTQUFVLEdBQWMsRUFBUyxTQUFVLENBQVEsR0FBSyxFQUFTLFFBQ25FLEVBQ0EsQ0FDRixNQUVBLEdBQU0sRUFBTyxFQUFVLENBQU8sRUFHbEMsR0FBSSxHQUFPLEtBQ1QsRUFBTSxFQUFTLElBRWpCLE9BQU8sRUFFVCxTQUFTLEVBQW9CLEVBQzNCLFNBQ0EsY0FDRSxDQUFDLEVBQUcsQ0FDTixJQUFNLFVBQVcsR0FBc0Isc0JBQWlELEdBQ2xGLHdCQUF1QixzQkFBdUIsR0FDbEQsc0JBQ0YsR0FDTSxZQUFxQixjQUFXLEVBQWlCLEVBQ25ELEVBQVcsR0FBWSxFQUN2QixFQUFVLEdBQVcsRUFDckIsRUFBYSxHQUFjLEVBMkIvQixHQTFCUSxhQUFVLElBQU0sQ0FFdEIsT0FEQSxPQUFPLFFBQVEsa0JBQW9CLFNBQzVCLElBQU0sQ0FDWCxPQUFPLFFBQVEsa0JBQW9CLFNBRXBDLENBQUMsQ0FBQyxFQUNMLEdBQ1UsZUFBWSxJQUFNLENBQ3hCLEdBQUksRUFBVyxRQUFVLE9BQVEsQ0FDL0IsSUFBSSxFQUFNLEdBQXdCLEVBQVUsRUFBUyxFQUFVLENBQU0sRUFDckUsR0FBcUIsR0FBTyxPQUFPLFFBRXJDLEdBQUksQ0FDRixlQUFlLFFBQ2IsR0FBYyxHQUNkLEtBQUssVUFBVSxFQUFvQixDQUNyQyxRQUNPLEVBQVAsQ0FDQSxHQUNFLEdBQ0Esb0dBQW9HLEtBQ3RHLEVBRUYsT0FBTyxRQUFRLGtCQUFvQixRQUNsQyxDQUFDLEVBQVcsTUFBTyxFQUFRLEVBQVUsRUFBVSxFQUFTLENBQVUsQ0FBQyxDQUN4RSxTQUNXLFdBQWEsWUFDdEIsQUFBUSxtQkFBZ0IsSUFBTSxDQUM1QixHQUFJLENBQ0YsSUFBSSxFQUFtQixlQUFlLFFBQ3BDLEdBQWMsRUFDaEIsRUFDQSxHQUFJLEVBQ0YsR0FBdUIsS0FBSyxNQUFNLENBQWdCLFFBRTdDLEVBQVAsSUFFRCxDQUFDLENBQVUsQ0FBQyxFQUNQLG1CQUFnQixJQUFNLENBQzVCLElBQUksRUFBMkIsR0FBUSx3QkFDckMsR0FDQSxJQUFNLE9BQU8sUUFDYixFQUFTLENBQUMsRUFBVyxJQUFhLEdBQXdCLEVBQVcsRUFBVSxFQUFVLENBQU0sRUFBUyxNQUMxRyxFQUNBLE1BQU8sSUFBTSxHQUE0QixFQUF5QixHQUNqRSxDQUFDLEVBQVEsRUFBVSxDQUFNLENBQUMsRUFDckIsbUJBQWdCLElBQU0sQ0FDNUIsR0FBSSxJQUEwQixHQUM1QixPQUVGLFVBQVcsSUFBMEIsU0FBVSxDQUM3QyxPQUFPLFNBQVMsRUFBRyxDQUFxQixFQUN4QyxPQUVGLEdBQUksRUFBUyxLQUFNLENBQ2pCLElBQUksRUFBSyxTQUFTLGVBQ2hCLG1CQUFtQixFQUFTLEtBQUssTUFBTSxDQUFDLENBQUMsQ0FDM0MsRUFDQSxHQUFJLEVBQUksQ0FDTixFQUFHLGVBQWUsRUFDbEIsUUFHSixHQUFJLElBQXVCLEdBQ3pCLE9BRUYsT0FBTyxTQUFTLEVBQUcsQ0FBQyxHQUNuQixDQUFDLEVBQVUsRUFBdUIsQ0FBa0IsQ0FBQyxFQWE1RCxTQUFTLEVBQVcsQ0FBQyxFQUFVLEVBQVMsQ0FDdEMsSUFBTSxXQUFZLEdBQVcsQ0FBQyxFQUM5QixBQUFRLGFBQVUsSUFBTSxDQUN0QixJQUFJLEVBQU8sR0FBVyxLQUFPLENBQUUsU0FBUSxFQUFTLE9BRWhELE9BREEsT0FBTyxpQkFBaUIsV0FBWSxFQUFVLENBQUksRUFDM0MsSUFBTSxDQUNYLE9BQU8sb0JBQW9CLFdBQVksRUFBVSxDQUFJLElBRXRELENBQUMsRUFBVSxDQUFPLENBQUMsRUF1QnhCLFNBQVMsRUFBc0IsQ0FBQyxFQUFJLEVBQU8sQ0FBQyxFQUFHLENBQzdDLElBQUksRUFBb0IsY0FBVyxFQUFxQixFQUN4RCxHQUNFLEdBQWEsS0FDYix3SkFDRixFQUNBLElBQU0sWUFBYSxHQUNqQix3QkFDRixFQUNJLEVBQU8sR0FBZ0IsRUFBSSxDQUFFLFNBQVUsRUFBSyxRQUFTLENBQUMsRUFDMUQsSUFBSyxFQUFVLGdCQUNiLE1BQU8sR0FFVCxJQUFJLEVBQWMsR0FBYyxFQUFVLGdCQUFnQixTQUFVLENBQVEsR0FBSyxFQUFVLGdCQUFnQixTQUN2RyxFQUFXLEdBQWMsRUFBVSxhQUFhLFNBQVUsQ0FBUSxHQUFLLEVBQVUsYUFBYSxTQUNsRyxPQUFPLEdBQVUsRUFBSyxTQUFVLENBQVEsR0FBSyxNQUFRLEdBQVUsRUFBSyxTQUFVLENBQVcsR0FBSyxLQzluUWhHLElBQUksR0FBYyxHQUFVLEVBQ3hCLEdBQU0sQ0FBQyxJQUFPLEdBQVMsRUFBSSxFQUFXLEVBQ3RDLEdBQWEsR0FBVSxFQUMzQixHQUFJLE1BQVEsQ0FBQyxJQUFPLEdBQVMsRUFBSSxFQUFVLEVBQzNDLElBQUksR0FBZSxHQUFVLEVBQzdCLEdBQUksUUFBVSxDQUFDLElBQU8sR0FBUyxFQUFJLEVBQVksRUFDL0MsSUFBSSxHQUFlLEdBQVUsRUFDN0IsR0FBSSxRQUFVLENBQUMsSUFBTyxHQUFTLEVBQUksRUFBWSxFQUMvQyxJQUFJLEdBQWdCLEdBQVUsRUFDOUIsR0FBSSxTQUFXLENBQUMsSUFBTyxHQUFTLEVBQUksRUFBYSxFQUNqRCxJQUFJLEdBQVcsQ0FBQyxFQUNoQixHQUFJLFdBQWEsQ0FBQyxFQUFTLElBQU8sQ0FDaEMsSUFBTSxFQUFPLEdBQUksSUFBSSxFQUFJLEVBQ25CLEVBQVMsSUFBTSxDQUNuQixJQUFNLEVBQUksR0FBUyxVQUFVLENBQUMsSUFBTSxFQUFFLFFBQVUsQ0FBTSxFQUN0RCxJQUFLLEVBQ0gsR0FBUyxPQUFPLEVBQUcsQ0FBQyxFQUN0QixLQUFpQixFQUFJLEVBQUksR0FFckIsRUFBVSxDQUFFLE9BQU0sVUFBUyxRQUFPLEVBSXhDLE9BSEEsR0FBUyxPQUFPLEdBQVksQ0FBSSxFQUFHLEVBQUcsQ0FBTyxFQUM3QyxJQUFnQixFQUNoQixHQUFNLEVBQ0MsR0FFVCxJQUFJLEdBQWMsQ0FBQyxPQUFZLEdBQVMsVUFBVSxDQUFDLElBQU0sRUFBRSxLQUFPLENBQUksSUFBTSxHQUFTLFFBQ3JGLEdBQUksT0FBUyxDQUFDLElBQU8sQ0FDbkIsR0FBYSxPQUFPLENBQUUsRUFDdEIsR0FBYSxPQUFPLENBQUUsRUFDdEIsR0FBYyxPQUFPLENBQUUsRUFDdkIsR0FBWSxPQUFPLENBQUUsRUFDckIsR0FBVyxPQUFPLENBQUUsR0FFdEIsR0FBSSxLQUFPLENBQUMsSUFBTyxDQUNqQixHQUFPLEdBQ1AsR0FBSSxlQUFlLENBQUUsRUFDckIsR0FBTyxJQUVULEdBQUksU0FBVyxDQUFDLElBQU8sQ0FDckIsSUFBSSxFQUNKLFNBQVMsQ0FBUSxFQUFHLENBQ2xCLEdBQUksQ0FDRixFQUFHLEdBQUcsQ0FBUSxTQUNkLENBQ0EsRUFBVyxNQUdmLFNBQVMsQ0FBUyxJQUFJLEVBQU0sQ0FDMUIsRUFBVyxFQUNYLEdBQUksUUFBUSxDQUFRLEVBT3RCLE9BTEEsRUFBVSxRQUFVLEVBQ3BCLEVBQVUsT0FBUyxJQUFNLENBQ3ZCLEdBQWEsT0FBTyxDQUFRLEVBQzVCLEVBQVcsTUFFTixHQUVULElBQUksVUFBbUIsUUFBVSxZQUFjLE9BQU8sc0JBRXBELElBQU0sR0FHUixHQUFJLElBQU0sQ0FBQyxJQUFTLEdBQVksRUFDaEMsR0FBSSxXQUFhLGFBQWUsWUFBYyxJQUFNLFlBQVksSUFBSSxFQUFJLEtBQUssSUFDN0UsR0FBSSxlQUFpQixDQUFDLElBQU8sRUFBRyxFQUNoQyxHQUFJLE1BQVEsUUFBUSxNQUNwQixHQUFJLFVBQVksU0FDaEIsR0FBSSxRQUFVLElBQU0sQ0FDbEIsR0FBSSxHQUFJLFlBQWMsU0FDcEIsUUFBUSxLQUNOLGtGQUNGLE1BRUEsSUFBTyxHQUdYLElBQUksR0FBSyxHQUNMLEdBQWUsRUFDZixHQUFPLEdBQ1gsU0FBUyxFQUFRLENBQUMsRUFBSSxFQUFPLENBQzNCLEdBQUksR0FDRixFQUFNLE9BQU8sQ0FBRSxFQUNmLEVBQUcsQ0FBQyxNQUVKLEdBQU0sSUFBSSxDQUFFLEVBQ1osR0FBTSxFQUdWLFNBQVMsRUFBSyxFQUFHLENBQ2YsR0FBSSxHQUFLLEdBRVAsR0FEQSxHQUFLLEVBQ0QsR0FBSSxZQUFjLFNBQ3BCLEdBQVUsRUFBSSxHQUlwQixTQUFTLEVBQUksRUFBRyxDQUNkLEdBQUssR0FFUCxTQUFTLEVBQUksRUFBRyxDQUNkLElBQUssR0FDSCxHQUFVLEVBQUksRUFDZCxHQUFJLGVBQWUsRUFBTSxFQUc3QixTQUFTLEVBQU0sRUFBRyxDQUNoQixJQUFNLEVBQVMsR0FDZixHQUFLLEdBQUksSUFBSSxFQUNiLElBQU0sRUFBUSxHQUFZLEVBQUUsRUFDNUIsR0FBSSxFQUNGLEdBQVcsR0FBUyxPQUFPLEVBQUcsQ0FBSyxFQUFHLENBQUMsSUFBTSxFQUFFLFFBQVEsQ0FBQyxFQUN4RCxJQUFnQixFQUVsQixJQUFLLEdBQWMsQ0FDakIsR0FBSyxFQUNMLE9BRUYsR0FBYSxNQUFNLEVBQ25CLEdBQVksTUFBTSxFQUFTLEtBQUssSUFBSSxHQUFJLEdBQUssQ0FBTSxFQUFJLE1BQU0sRUFDN0QsR0FBYSxNQUFNLEVBQ25CLEdBQVcsTUFBTSxFQUNqQixHQUFjLE1BQU0sRUFFdEIsU0FBUyxFQUFTLEVBQUcsQ0FDbkIsSUFBSSxFQUF1QixJQUFJLElBQzNCLEVBQVUsRUFDZCxNQUFPLENBQ0wsR0FBRyxDQUFDLEVBQUksQ0FDTixJQUFnQixHQUFXLElBQVMsRUFBSyxJQUFJLENBQUUsRUFBSSxFQUFJLEVBQ3ZELEVBQUssSUFBSSxDQUFFLEdBRWIsTUFBTSxDQUFDLEVBQUksQ0FFVCxPQURBLElBQWdCLEdBQVcsR0FBUSxFQUFLLElBQUksQ0FBRSxFQUFJLEVBQUksRUFDL0MsRUFBSyxPQUFPLENBQUUsR0FFdkIsS0FBSyxDQUFDLEVBQUssQ0FDVCxHQUFJLEVBQVEsS0FDVixFQUF1QixJQUFJLElBQzNCLElBQWdCLEVBQVEsS0FDeEIsR0FBVyxFQUFTLENBQUMsSUFBTyxFQUFHLENBQUcsR0FBSyxFQUFLLElBQUksQ0FBRSxDQUFDLEVBQ25ELElBQWdCLEVBQUssS0FDckIsRUFBVSxFQUdoQixFQUVGLFNBQVMsRUFBVSxDQUFDLEVBQVEsRUFBTSxDQUNoQyxFQUFPLFFBQVEsQ0FBQyxJQUFVLENBQ3hCLEdBQUksQ0FDRixFQUFLLENBQUssUUFDSCxFQUFQLENBQ0EsR0FBSSxNQUFNLENBQUMsR0FFZCxFQzZ5QkgsaUJBVUEsYUFHQSxhQUdBLGFBMkJBLGFBNkNBLGFBS0EsYUFVQSxhQS9pQ0EsSUFBSSxHQUFZLE9BQU8sZUFDbkIsR0FBVyxDQUFDLEVBQVEsSUFBUSxDQUM5QixRQUFTLEtBQVEsRUFDZixHQUFVLEVBQVEsRUFBTSxDQUFFLElBQUssRUFBSSxHQUFPLFdBQVksRUFBSyxDQUFDLEdBSTVELEdBQWtCLENBQUMsRUFDdkIsR0FBUyxHQUFpQixDQUN4QixPQUFRLElBQU0sR0FDZCxPQUFRLElBQU0sR0FDZCx5QkFBMEIsSUFBTSxHQUNoQyxjQUFlLElBQU0sR0FDckIsR0FBSSxJQUFNLEdBQ1YsWUFBYSxJQUFNLEVBQ3JCLENBQUMsRUFJRCxTQUFTLEVBQUksRUFBRyxFQUVoQixJQUFJLEdBQWUsQ0FBQyxFQUFLLEVBQUssSUFBVSxPQUFPLGVBQWUsRUFBSyxFQUFLLENBQUUsUUFBTyxTQUFVLEdBQU0sYUFBYyxFQUFLLENBQUMsRUFDakgsRUFBSyxDQUNQLElBQUssTUFBTSxRQUNYLElBQUssQ0FBQyxNQUFRLEdBQUssRUFBRSxZQUFZLE9BQVMsU0FDMUMsSUFBSyxDQUFDLFdBQWEsSUFBTSxXQUN6QixJQUFLLENBQUMsV0FBYSxJQUFNLFNBQ3pCLElBQUssQ0FBQyxXQUFhLElBQU0sU0FDekIsSUFBSyxDQUFDLElBQU0sSUFBVyxNQUN6QixFQUNBLFNBQVMsRUFBTyxDQUFDLEVBQUcsRUFBRyxDQUNyQixHQUFJLEVBQUcsSUFBSSxDQUFDLEVBQUcsQ0FDYixJQUFLLEVBQUcsSUFBSSxDQUFDLEdBQUssRUFBRSxTQUFXLEVBQUUsT0FDL0IsTUFBTyxHQUNULFFBQVMsRUFBSSxFQUFHLEVBQUksRUFBRSxPQUFRLElBQzVCLEdBQUksRUFBRSxLQUFPLEVBQUUsR0FDYixNQUFPLEdBRVgsTUFBTyxHQUVULE9BQU8sSUFBTSxFQUVmLElBQUksR0FBTyxDQUFDLEVBQUssSUFBTyxFQUFJLFFBQVEsQ0FBRSxFQUN0QyxTQUFTLEVBQVEsQ0FBQyxFQUFLLEVBQUksRUFBSyxDQUM5QixHQUFJLEVBQUcsSUFBSSxDQUFHLEVBQUcsQ0FDZixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQUksT0FBUSxJQUM5QixFQUFHLEtBQUssRUFBSyxFQUFJLEdBQUksR0FBRyxHQUFHLEVBRTdCLE9BRUYsUUFBVyxLQUFPLEVBQ2hCLEdBQUksRUFBSSxlQUFlLENBQUcsRUFDeEIsRUFBRyxLQUFLLEVBQUssRUFBSSxHQUFNLENBQUcsRUFJaEMsSUFBSSxHQUFVLENBQUMsSUFBTSxFQUFHLElBQUksQ0FBQyxFQUFJLENBQUMsRUFBSSxFQUFHLElBQUksQ0FBQyxFQUFJLEVBQUksQ0FBQyxDQUFDLEVBQ3hELFNBQVMsRUFBSyxDQUFDLEVBQU8sRUFBVSxDQUM5QixHQUFJLEVBQU0sS0FBTSxDQUNkLElBQU0sRUFBUSxNQUFNLEtBQUssQ0FBSyxFQUM5QixFQUFNLE1BQU0sRUFDWixHQUFLLEVBQU8sQ0FBUSxHQUd4QixJQUFJLEdBQWEsQ0FBQyxLQUFVLElBQVMsR0FBTSxFQUFPLENBQUMsSUFBTyxFQUFHLEdBQUcsQ0FBSSxDQUFDLEVBQ2pFLEdBQVEsV0FBYSxTQUFXLGNBQWdCLE9BQU8sV0FBYSw4QkFBOEIsS0FBSyxPQUFPLFVBQVUsU0FBUyxFQUdqSSxHQUNBLEdBQ0EsR0FBUyxLQUNULEdBQWdCLEdBQ2hCLEdBQWMsR0FDZCxHQUFTLENBQUMsSUFBWSxDQUN4QixHQUFJLEVBQVEsR0FDVixHQUFLLEVBQVEsR0FDZixHQUFJLEVBQVEsSUFDVixHQUFJLElBQU0sRUFBUSxJQUNwQixHQUFJLEVBQVEsU0FBZ0IsT0FDMUIsR0FBUyxFQUFRLE9BQ25CLEdBQUksRUFBUSxlQUFpQixLQUMzQixHQUFnQixFQUFRLGNBQzFCLEdBQUksRUFBUSx5QkFDVixHQUEyQixFQUFRLHlCQUNyQyxHQUFJLEVBQVEsc0JBQ1YsR0FBSSxJQUFJLEVBQVEscUJBQXFCLEVBQ3ZDLEdBQUksRUFBUSxlQUNWLEdBQUksZUFBaUIsRUFBUSxlQUMvQixHQUFJLEVBQVEsWUFDVixHQUFjLEVBQVEsWUFDeEIsR0FBSSxFQUFRLFVBQ1YsR0FBSSxVQUFZLEVBQVEsV0FLeEIsR0FBNkIsSUFBSSxJQUNqQyxHQUFlLENBQUMsRUFDaEIsR0FBWSxDQUFDLEVBQ2IsR0FBVyxFQUNYLEdBQVksSUFDVixLQUFJLEVBQUcsQ0FDVCxPQUFRLEdBQVcsT0FBUyxHQUFhLFFBRzNDLEtBQUssQ0FBQyxFQUFXLENBQ2YsR0FBSSxHQUFXLEVBQVUsU0FDdkIsR0FBVyxJQUFJLENBQVMsRUFDeEIsR0FBSyxRQUFRLEVBQWUsTUFFNUIsSUFBWSxDQUFTLEVBQ3JCLEdBQUssRUFBTyxHQUloQixXQUVBLElBQUksQ0FBQyxFQUFXLENBQ2QsR0FBSSxHQUNGLEdBQUssUUFBUSxJQUFNLEdBQVUsS0FBSyxDQUFTLENBQUMsTUFDdkMsQ0FDTCxJQUFNLEVBQVksR0FBYSxRQUFRLENBQVMsRUFDaEQsSUFBSyxFQUNILEdBQWEsT0FBTyxFQUFXLENBQUMsRUFDaEMsR0FBYyxDQUFTLElBUzdCLEtBQUssRUFBRyxDQUNOLEdBQWUsQ0FBQyxFQUNoQixHQUFXLE1BQU0sRUFFckIsRUFDQSxTQUFTLEVBQWUsRUFBRyxDQUN6QixHQUFXLFFBQVEsRUFBVyxFQUM5QixHQUFXLE1BQU0sRUFDakIsR0FBSyxFQUFPLEVBRWQsU0FBUyxFQUFXLENBQUMsRUFBVyxDQUM5QixJQUFLLEdBQWEsU0FBUyxDQUFTLEVBQ2xDLEdBQWMsQ0FBUyxFQUUzQixTQUFTLEVBQWEsQ0FBQyxFQUFXLENBQ2hDLEdBQWEsT0FDWCxHQUFVLEdBQWMsQ0FBQyxJQUFVLEVBQU0sU0FBVyxFQUFVLFFBQVEsRUFDdEUsRUFDQSxDQUNGLEVBRUYsU0FBUyxFQUFPLENBQUMsRUFBSSxDQUNuQixJQUFNLEVBQVksR0FDbEIsUUFBUyxFQUFJLEVBQUcsRUFBSSxHQUFhLE9BQVEsSUFBSyxDQUM1QyxJQUFNLEVBQVksR0FBYSxHQUUvQixHQURBLEdBQVcsRUFBVSxVQUNoQixFQUFVLE1BR2IsR0FGQSxHQUFZLENBQVMsRUFDckIsRUFBVSxRQUFRLENBQUUsR0FDZixFQUFVLEtBQ2IsRUFBVSxLQUFLLENBQVMsR0FROUIsT0FKQSxHQUFXLEVBQ1gsR0FBWSxHQUNaLEdBQVUsT0FBUyxFQUNuQixHQUFlLEVBQ1IsR0FBYSxPQUFTLEVBRS9CLFNBQVMsRUFBUyxDQUFDLEVBQUssRUFBTSxDQUM1QixJQUFNLEVBQVEsRUFBSSxVQUFVLENBQUksRUFDaEMsT0FBTyxFQUFRLEVBQUksRUFBSSxPQUFTLEVBSWxDLElBQUksR0FBUSxDQUFDLEVBQUssRUFBSyxJQUFNLEtBQUssSUFBSSxLQUFLLElBQUksRUFBRyxDQUFHLEVBQUcsQ0FBRyxFQUd2RCxHQUFVLENBQ1osWUFBYSxFQUNiLFVBQVcsV0FDWCxhQUFjLFdBQ2QsS0FBTSxTQUNOLFdBQVksV0FDWixNQUFPLFdBQ1AsTUFBTyxXQUNQLE9BQVEsV0FDUixNQUFPLElBQ1AsZUFBZ0IsV0FDaEIsS0FBTSxNQUNOLFdBQVksV0FDWixNQUFPLFdBQ1AsVUFBVyxXQUNYLFlBQWEsV0FDYixVQUFXLFdBQ1gsV0FBWSxXQUNaLFVBQVcsV0FDWCxNQUFPLFdBQ1AsZUFBZ0IsV0FDaEIsU0FBVSxXQUNWLFFBQVMsV0FDVCxLQUFNLFNBQ04sU0FBVSxNQUNWLFNBQVUsUUFDVixjQUFlLFdBQ2YsU0FBVSxXQUNWLFVBQVcsUUFDWCxTQUFVLFdBQ1YsVUFBVyxXQUNYLFlBQWEsV0FDYixlQUFnQixXQUNoQixXQUFZLFdBQ1osV0FBWSxXQUNaLFFBQVMsV0FDVCxXQUFZLFdBQ1osYUFBYyxXQUNkLGNBQWUsV0FDZixjQUFlLFVBQ2YsY0FBZSxVQUNmLGNBQWUsU0FDZixXQUFZLFdBQ1osU0FBVSxXQUNWLFlBQWEsU0FDYixRQUFTLFdBQ1QsUUFBUyxXQUNULFdBQVksVUFDWixVQUFXLFdBQ1gsWUFBYSxXQUNiLFlBQWEsVUFDYixRQUFTLFdBQ1QsVUFBVyxXQUNYLFdBQVksV0FDWixLQUFNLFdBQ04sVUFBVyxXQUNYLEtBQU0sV0FDTixNQUFPLFFBQ1AsWUFBYSxXQUNiLEtBQU0sV0FDTixTQUFVLFdBQ1YsUUFBUyxXQUNULFVBQVcsV0FDWCxPQUFRLFdBQ1IsTUFBTyxXQUNQLE1BQU8sV0FDUCxTQUFVLFdBQ1YsY0FBZSxXQUNmLFVBQVcsV0FDWCxhQUFjLFdBQ2QsVUFBVyxXQUNYLFdBQVksV0FDWixVQUFXLFdBQ1gscUJBQXNCLFdBQ3RCLFVBQVcsV0FDWCxXQUFZLFdBQ1osVUFBVyxXQUNYLFVBQVcsV0FDWCxZQUFhLFdBQ2IsY0FBZSxVQUNmLGFBQWMsV0FDZCxlQUFnQixXQUNoQixlQUFnQixXQUNoQixlQUFnQixXQUNoQixZQUFhLFdBQ2IsS0FBTSxTQUNOLFVBQVcsVUFDWCxNQUFPLFdBQ1AsUUFBUyxXQUNULE9BQVEsV0FDUixpQkFBa0IsV0FDbEIsV0FBWSxNQUNaLGFBQWMsV0FDZCxhQUFjLFdBQ2QsZUFBZ0IsV0FDaEIsZ0JBQWlCLFdBQ2pCLGtCQUFtQixTQUNuQixnQkFBaUIsV0FDakIsZ0JBQWlCLFdBQ2pCLGFBQWMsVUFDZCxVQUFXLFdBQ1gsVUFBVyxXQUNYLFNBQVUsV0FDVixZQUFhLFdBQ2IsS0FBTSxNQUNOLFFBQVMsV0FDVCxNQUFPLFdBQ1AsVUFBVyxXQUNYLE9BQVEsV0FDUixVQUFXLFdBQ1gsT0FBUSxXQUNSLGNBQWUsV0FDZixVQUFXLFdBQ1gsY0FBZSxXQUNmLGNBQWUsV0FDZixXQUFZLFdBQ1osVUFBVyxXQUNYLEtBQU0sV0FDTixLQUFNLFdBQ04sS0FBTSxXQUNOLFdBQVksV0FDWixPQUFRLFdBQ1IsY0FBZSxXQUNmLElBQUssV0FDTCxVQUFXLFdBQ1gsVUFBVyxXQUNYLFlBQWEsV0FDYixPQUFRLFdBQ1IsV0FBWSxXQUNaLFNBQVUsVUFDVixTQUFVLFdBQ1YsT0FBUSxXQUNSLE9BQVEsV0FDUixRQUFTLFdBQ1QsVUFBVyxXQUNYLFVBQVcsV0FDWCxVQUFXLFdBQ1gsS0FBTSxXQUNOLFlBQWEsU0FDYixVQUFXLFdBQ1gsSUFBSyxXQUNMLEtBQU0sUUFDTixRQUFTLFdBQ1QsT0FBUSxXQUNSLFVBQVcsV0FDWCxPQUFRLFdBQ1IsTUFBTyxXQUNQLE1BQU8sV0FDUCxXQUFZLFdBQ1osT0FBUSxXQUNSLFlBQWEsVUFDZixFQUdJLEdBQVMsb0JBQ1QsR0FBYSxHQUFTLElBQzFCLFNBQVMsRUFBSSxJQUFJLEVBQU8sQ0FDdEIsTUFBTyxXQUFhLEVBQU0sS0FBSyxhQUFhLEVBQUksV0FFbEQsSUFBSSxHQUFNLElBQUksT0FBTyxNQUFRLEdBQUssR0FBUSxHQUFRLEVBQU0sQ0FBQyxFQUNyRCxHQUFPLElBQUksT0FBTyxPQUFTLEdBQUssR0FBUSxHQUFRLEdBQVEsRUFBTSxDQUFDLEVBQy9ELEdBQU0sSUFBSSxPQUFPLE1BQVEsR0FBSyxHQUFRLEdBQVksRUFBVSxDQUFDLEVBQzdELEdBQU8sSUFBSSxPQUNiLE9BQVMsR0FBSyxHQUFRLEdBQVksR0FBWSxFQUFNLENBQ3RELEVBQ0ksR0FBTyxzREFDUCxHQUFPLHNFQUNQLEdBQU8sc0JBQ1AsR0FBTyxzQkFHWCxTQUFTLEVBQWMsQ0FBQyxFQUFPLENBQzdCLElBQUksRUFDSixVQUFXLElBQVUsU0FDbkIsT0FBTyxJQUFVLElBQU0sR0FBUyxHQUFTLEdBQUssR0FBUyxXQUFhLEVBQVEsS0FFOUUsR0FBSSxFQUFRLEdBQUssS0FBSyxDQUFLLEVBQ3pCLE9BQU8sU0FBUyxFQUFNLEdBQUssS0FBTSxFQUFFLElBQU0sRUFDM0MsR0FBSSxJQUFVLEdBQU8sS0FBZ0IsT0FDbkMsT0FBTyxHQUFPLEdBRWhCLEdBQUksRUFBUSxHQUFJLEtBQUssQ0FBSyxFQUN4QixPQUFRLEdBQVMsRUFBTSxFQUFFLEdBQUssR0FDOUIsR0FBUyxFQUFNLEVBQUUsR0FBSyxHQUN0QixHQUFTLEVBQU0sRUFBRSxHQUFLLEVBQ3RCLE9BQ0EsRUFFRixHQUFJLEVBQVEsR0FBSyxLQUFLLENBQUssRUFDekIsT0FBUSxHQUFTLEVBQU0sRUFBRSxHQUFLLEdBQzlCLEdBQVMsRUFBTSxFQUFFLEdBQUssR0FDdEIsR0FBUyxFQUFNLEVBQUUsR0FBSyxFQUN0QixHQUFPLEVBQU0sRUFBRSxLQUNmLEVBRUYsR0FBSSxFQUFRLEdBQUssS0FBSyxDQUFLLEVBQ3pCLE9BQU8sU0FDTCxFQUFNLEdBQUssRUFBTSxHQUNqQixFQUFNLEdBQUssRUFBTSxHQUNqQixFQUFNLEdBQUssRUFBTSxHQUNqQixLQUVBLEVBQ0YsSUFBTSxFQUVSLEdBQUksRUFBUSxHQUFLLEtBQUssQ0FBSyxFQUN6QixPQUFPLFNBQVMsRUFBTSxHQUFJLEVBQUUsSUFBTSxFQUNwQyxHQUFJLEVBQVEsR0FBSyxLQUFLLENBQUssRUFDekIsT0FBTyxTQUNMLEVBQU0sR0FBSyxFQUFNLEdBQ2pCLEVBQU0sR0FBSyxFQUFNLEdBQ2pCLEVBQU0sR0FBSyxFQUFNLEdBQ2pCLEVBQU0sR0FBSyxFQUFNLEdBRWpCLEVBQ0YsSUFBTSxFQUVSLEdBQUksRUFBUSxHQUFJLEtBQUssQ0FBSyxFQUN4QixPQUFRLEdBQ04sR0FBUyxFQUFNLEVBQUUsRUFFakIsR0FBZ0IsRUFBTSxFQUFFLEVBRXhCLEdBQWdCLEVBQU0sRUFBRSxDQUUxQixFQUFJLE9BQ0osRUFFRixHQUFJLEVBQVEsR0FBSyxLQUFLLENBQUssRUFDekIsT0FBUSxHQUNOLEdBQVMsRUFBTSxFQUFFLEVBRWpCLEdBQWdCLEVBQU0sRUFBRSxFQUV4QixHQUFnQixFQUFNLEVBQUUsQ0FFMUIsRUFBSSxHQUFPLEVBQU0sRUFBRSxLQUNuQixFQUVGLE9BQU8sS0FFVCxTQUFTLEVBQU8sQ0FBQyxFQUFHLEVBQUcsRUFBRyxDQUN4QixHQUFJLEVBQUksRUFDTixHQUFLLEVBQ1AsR0FBSSxFQUFJLEVBQ04sR0FBSyxFQUNQLEdBQUksRUFBSSxvQkFDTixPQUFPLEdBQUssRUFBSSxHQUFLLEVBQUksRUFDM0IsR0FBSSxFQUFJLElBQ04sT0FBTyxFQUNULEdBQUksRUFBSSxtQkFDTixPQUFPLEdBQUssRUFBSSxJQUFNLG1CQUFRLEdBQUssRUFDckMsT0FBTyxFQUVULFNBQVMsRUFBUSxDQUFDLEVBQUcsRUFBRyxFQUFHLENBQ3pCLElBQU0sRUFBSSxFQUFJLElBQU0sR0FBSyxFQUFJLEdBQUssRUFBSSxFQUFJLEVBQUksRUFDeEMsRUFBSSxFQUFJLEVBQUksRUFDWixFQUFJLEdBQVEsRUFBRyxFQUFHLEVBQUksa0JBQUssRUFDM0IsRUFBSSxHQUFRLEVBQUcsRUFBRyxDQUFDLEVBQ25CLEVBQUksR0FBUSxFQUFHLEVBQUcsRUFBSSxrQkFBSyxFQUNqQyxPQUFPLEtBQUssTUFBTSxFQUFJLEdBQUcsR0FBSyxHQUFLLEtBQUssTUFBTSxFQUFJLEdBQUcsR0FBSyxHQUFLLEtBQUssTUFBTSxFQUFJLEdBQUcsR0FBSyxFQUV4RixTQUFTLEVBQVEsQ0FBQyxFQUFLLENBQ3JCLElBQU0sRUFBTSxTQUFTLEVBQUssRUFBRSxFQUM1QixHQUFJLEVBQU0sRUFDUixNQUFPLEdBQ1QsR0FBSSxFQUFNLElBQ1IsTUFBTyxLQUNULE9BQU8sRUFFVCxTQUFTLEVBQVEsQ0FBQyxFQUFLLENBRXJCLE9BRFksV0FBVyxDQUFHLEVBQ1osSUFBTSxLQUFPLElBQU0sSUFFbkMsU0FBUyxFQUFNLENBQUMsRUFBSyxDQUNuQixJQUFNLEVBQU0sV0FBVyxDQUFHLEVBQzFCLEdBQUksRUFBTSxFQUNSLE1BQU8sR0FDVCxHQUFJLEVBQU0sRUFDUixNQUFPLEtBQ1QsT0FBTyxLQUFLLE1BQU0sRUFBTSxHQUFHLEVBRTdCLFNBQVMsRUFBZSxDQUFDLEVBQUssQ0FDNUIsSUFBTSxFQUFNLFdBQVcsQ0FBRyxFQUMxQixHQUFJLEVBQU0sRUFDUixNQUFPLEdBQ1QsR0FBSSxFQUFNLElBQ1IsTUFBTyxHQUNULE9BQU8sRUFBTSxJQUlmLFNBQVMsRUFBVyxDQUFDLEVBQU8sQ0FDMUIsSUFBSSxFQUFhLEdBQWUsQ0FBSyxFQUNyQyxHQUFJLElBQWUsS0FDakIsT0FBTyxFQUNULEVBQWEsR0FBYyxFQUMzQixJQUFNLEdBQUssRUFBYSxjQUFnQixHQUNsQyxHQUFLLEVBQWEsWUFBYyxHQUNoQyxHQUFLLEVBQWEsU0FBVyxFQUM3QixHQUFLLEVBQWEsS0FBTyxJQUMvQixNQUFPLFFBQVEsTUFBTSxNQUFNLE1BQU0sS0FJbkMsSUFBSSxHQUFxQixDQUFDLEVBQU8sRUFBUSxJQUFnQixDQUN2RCxHQUFJLEVBQUcsSUFBSSxDQUFLLEVBQ2QsT0FBTyxFQUVULEdBQUksRUFBRyxJQUFJLENBQUssRUFDZCxPQUFPLEdBQW1CLENBQ3hCLFFBQ0EsU0FDQSxhQUNGLENBQUMsRUFFSCxHQUFJLEVBQUcsSUFBSSxFQUFNLE9BQU8sRUFBRSxFQUN4QixPQUFPLEdBQXlCLENBQUssRUFFdkMsSUFBTSxFQUFTLEVBQ1QsRUFBYyxFQUFPLE9BQ3JCLEVBQWEsRUFBTyxPQUFTLENBQUMsRUFBRyxDQUFDLEVBQ2xDLEVBQWtCLEVBQU8saUJBQW1CLEVBQU8sYUFBZSxTQUNsRSxFQUFtQixFQUFPLGtCQUFvQixFQUFPLGFBQWUsU0FDcEUsRUFBUyxFQUFPLFNBQVcsQ0FBQyxJQUFNLEdBQ3hDLE1BQU8sQ0FBQyxJQUFVLENBQ2hCLElBQU0sRUFBUyxHQUFVLEVBQU8sQ0FBVSxFQUMxQyxPQUFPLEdBQ0wsRUFDQSxFQUFXLEdBQ1gsRUFBVyxFQUFTLEdBQ3BCLEVBQVksR0FDWixFQUFZLEVBQVMsR0FDckIsRUFDQSxFQUNBLEVBQ0EsRUFBTyxHQUNULElBR0osU0FBUyxFQUFXLENBQUMsRUFBTyxFQUFVLEVBQVUsRUFBVyxFQUFXLEVBQVEsRUFBaUIsRUFBa0IsRUFBSyxDQUNwSCxJQUFJLEVBQVMsRUFBTSxFQUFJLENBQUssRUFBSSxFQUNoQyxHQUFJLEVBQVMsR0FDWCxHQUFJLElBQW9CLFdBQ3RCLE9BQU8sVUFDQSxJQUFvQixRQUMzQixFQUFTLEVBRWIsR0FBSSxFQUFTLEdBQ1gsR0FBSSxJQUFxQixXQUN2QixPQUFPLFVBQ0EsSUFBcUIsUUFDNUIsRUFBUyxFQUViLEdBQUksSUFBYyxFQUNoQixPQUFPLEVBQ1QsR0FBSSxJQUFhLEVBQ2YsT0FBTyxHQUFTLEVBQVcsRUFBWSxFQUN6QyxHQUFJLElBQWEsS0FDZixHQUFVLFVBQ0gsSUFBYSxJQUNwQixFQUFTLEVBQVMsTUFFbEIsSUFBVSxFQUFTLElBQWEsRUFBVyxHQUU3QyxHQURBLEVBQVMsRUFBTyxDQUFNLEVBQ2xCLElBQWMsS0FDaEIsR0FBVSxVQUNILElBQWMsSUFDckIsRUFBUyxFQUFTLE1BRWxCLEdBQVMsR0FBVSxFQUFZLEdBQWEsRUFDOUMsT0FBTyxFQUVULFNBQVMsRUFBUyxDQUFDLEVBQU8sRUFBWSxDQUNwQyxRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVcsT0FBUyxJQUFLLEVBQzNDLEdBQUksRUFBVyxJQUFNLEVBQ25CLE1BQ0osT0FBTyxFQUFJLEVBSWIsSUFBSSxHQUFRLENBQUMsRUFBUSxFQUFZLFFBQVUsQ0FBQyxJQUFjLENBQ3hELEVBQVksSUFBYyxNQUFRLEtBQUssSUFBSSxFQUFXLEtBQUssRUFBSSxLQUFLLElBQUksRUFBVyxLQUFJLEVBQ3ZGLElBQU0sRUFBVyxFQUFZLEVBQ3ZCLEVBQVUsSUFBYyxNQUFRLEtBQUssTUFBTSxDQUFRLEVBQUksS0FBSyxLQUFLLENBQVEsRUFDL0UsT0FBTyxHQUFNLEVBQUcsRUFBRyxFQUFVLENBQU0sR0FFakMsR0FBSyxRQUNMLEdBQUssR0FBSyxNQUNWLEdBQUssR0FBSyxFQUNWLEdBQUssRUFBSSxLQUFLLEdBQUssRUFDbkIsR0FBSyxFQUFJLEtBQUssR0FBSyxJQUNuQixHQUFZLENBQUMsSUFBTSxDQUdyQixHQUFJLEVBQUksb0JBQ04sTUFIUyxRQUdHLEVBQUksVUFDUCxFQUFJLG1CQUNiLE1BTFMsU0FLSSxHQUFLLG9CQUFZLEVBQUksYUFDekIsRUFBSSxtQkFDYixNQVBTLFNBT0ksR0FBSyxvQkFBYSxFQUFJLFdBRW5DLE9BVFMsU0FTSSxHQUFLLG9CQUFjLEVBQUksVUFHcEMsR0FBVSxDQUNaLE9BQVEsQ0FBQyxJQUFNLEVBQ2YsV0FBWSxDQUFDLElBQU0sRUFBSSxFQUN2QixZQUFhLENBQUMsSUFBTSxHQUFLLEVBQUksSUFBTSxFQUFJLEdBQ3ZDLGNBQWUsQ0FBQyxJQUFNLEVBQUksSUFBTSxFQUFJLEVBQUksRUFBSSxFQUFJLEtBQUssSUFBSSxHQUFLLEVBQUksRUFBRyxDQUFDLEVBQUksRUFDMUUsWUFBYSxDQUFDLElBQU0sRUFBSSxFQUFJLEVBQzVCLGFBQWMsQ0FBQyxJQUFNLEVBQUksS0FBSyxJQUFJLEVBQUksRUFBRyxDQUFDLEVBQzFDLGVBQWdCLENBQUMsSUFBTSxFQUFJLElBQU0sRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEtBQUssSUFBSSxHQUFLLEVBQUksRUFBRyxDQUFDLEVBQUksRUFDL0UsWUFBYSxDQUFDLElBQU0sRUFBSSxFQUFJLEVBQUksRUFDaEMsYUFBYyxDQUFDLElBQU0sRUFBSSxLQUFLLElBQUksRUFBSSxFQUFHLENBQUMsRUFDMUMsZUFBZ0IsQ0FBQyxJQUFNLEVBQUksSUFBTSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxLQUFLLElBQUksR0FBSyxFQUFJLEVBQUcsQ0FBQyxFQUFJLEVBQ25GLFlBQWEsQ0FBQyxJQUFNLEVBQUksRUFBSSxFQUFJLEVBQUksRUFDcEMsYUFBYyxDQUFDLElBQU0sRUFBSSxLQUFLLElBQUksRUFBSSxFQUFHLENBQUMsRUFDMUMsZUFBZ0IsQ0FBQyxJQUFNLEVBQUksSUFBTSxHQUFLLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEtBQUssSUFBSSxHQUFLLEVBQUksRUFBRyxDQUFDLEVBQUksRUFDeEYsV0FBWSxDQUFDLElBQU0sRUFBSSxLQUFLLElBQUksRUFBSSxLQUFLLEdBQUssQ0FBQyxFQUMvQyxZQUFhLENBQUMsSUFBTSxLQUFLLElBQUksRUFBSSxLQUFLLEdBQUssQ0FBQyxFQUM1QyxjQUFlLENBQUMsTUFBUSxLQUFLLElBQUksS0FBSyxHQUFLLENBQUMsRUFBSSxHQUFLLEVBQ3JELFdBQVksQ0FBQyxJQUFNLElBQU0sRUFBSSxFQUFJLEtBQUssSUFBSSxFQUFHLEdBQUssRUFBSSxFQUFFLEVBQ3hELFlBQWEsQ0FBQyxJQUFNLElBQU0sRUFBSSxFQUFJLEVBQUksS0FBSyxJQUFJLEVBQUcsSUFBTSxDQUFDLEVBQ3pELGNBQWUsQ0FBQyxJQUFNLElBQU0sRUFBSSxFQUFJLElBQU0sRUFBSSxFQUFJLEVBQUksSUFBTSxLQUFLLElBQUksRUFBRyxHQUFLLEVBQUksRUFBRSxFQUFJLEdBQUssRUFBSSxLQUFLLElBQUksRUFBRyxJQUFNLEVBQUksRUFBRSxHQUFLLEVBQzdILFdBQVksQ0FBQyxJQUFNLEVBQUksS0FBSyxLQUFLLEVBQUksS0FBSyxJQUFJLEVBQUcsQ0FBQyxDQUFDLEVBQ25ELFlBQWEsQ0FBQyxJQUFNLEtBQUssS0FBSyxFQUFJLEtBQUssSUFBSSxFQUFJLEVBQUcsQ0FBQyxDQUFDLEVBQ3BELGNBQWUsQ0FBQyxJQUFNLEVBQUksS0FBTyxFQUFJLEtBQUssS0FBSyxFQUFJLEtBQUssSUFBSSxFQUFJLEVBQUcsQ0FBQyxDQUFDLEdBQUssR0FBSyxLQUFLLEtBQUssRUFBSSxLQUFLLElBQUksR0FBSyxFQUFJLEVBQUcsQ0FBQyxDQUFDLEVBQUksR0FBSyxFQUM3SCxXQUFZLENBQUMsSUFBTSxHQUFLLEVBQUksRUFBSSxFQUFJLEdBQUssRUFBSSxFQUM3QyxZQUFhLENBQUMsSUFBTSxFQUFJLEdBQUssS0FBSyxJQUFJLEVBQUksRUFBRyxDQUFDLEVBQUksR0FBSyxLQUFLLElBQUksRUFBSSxFQUFHLENBQUMsRUFDeEUsY0FBZSxDQUFDLElBQU0sRUFBSSxJQUFNLEtBQUssSUFBSSxFQUFJLEVBQUcsQ0FBQyxJQUFNLEdBQUssR0FBSyxFQUFJLEVBQUksSUFBTSxHQUFLLEtBQUssSUFBSSxFQUFJLEVBQUksRUFBRyxDQUFDLElBQU0sR0FBSyxJQUFNLEVBQUksRUFBSSxHQUFLLElBQU0sR0FBSyxFQUNsSixjQUFlLENBQUMsSUFBTSxJQUFNLEVBQUksRUFBSSxJQUFNLEVBQUksR0FBSyxLQUFLLElBQUksRUFBRyxHQUFLLEVBQUksRUFBRSxFQUFJLEtBQUssS0FBSyxFQUFJLEdBQUssT0FBUyxFQUFFLEVBQzVHLGVBQWdCLENBQUMsSUFBTSxJQUFNLEVBQUksRUFBSSxJQUFNLEVBQUksRUFBSSxLQUFLLElBQUksRUFBRyxJQUFNLENBQUMsRUFBSSxLQUFLLEtBQUssRUFBSSxHQUFLLE1BQVEsRUFBRSxFQUFJLEVBQzNHLGlCQUFrQixDQUFDLElBQU0sSUFBTSxFQUFJLEVBQUksSUFBTSxFQUFJLEVBQUksRUFBSSxNQUFRLEtBQUssSUFBSSxFQUFHLEdBQUssRUFBSSxFQUFFLEVBQUksS0FBSyxLQUFLLEdBQUssRUFBSSxRQUFVLEVBQUUsR0FBSyxFQUFJLEtBQUssSUFBSSxFQUFHLElBQU0sRUFBSSxFQUFFLEVBQUksS0FBSyxLQUFLLEdBQUssRUFBSSxRQUFVLEVBQUUsRUFBSSxFQUFJLEVBQ3ZNLGFBQWMsQ0FBQyxJQUFNLEVBQUksR0FBVSxFQUFJLENBQUMsRUFDeEMsY0FBZSxHQUNmLGdCQUFpQixDQUFDLElBQU0sRUFBSSxLQUFPLEVBQUksR0FBVSxFQUFJLEVBQUksQ0FBQyxHQUFLLEdBQUssRUFBSSxHQUFVLEVBQUksRUFBSSxDQUFDLEdBQUssRUFDaEcsUUFDRixFQUdJLEdBQU8sT0FBTyxJQUFJLGdCQUFnQixFQUNsQyxHQUFhLE9BQU8sSUFBSSxzQkFBc0IsRUFDOUMsR0FBZ0IsQ0FBQyxJQUFRLFFBQVEsR0FBTyxFQUFJLEdBQUssRUFDakQsR0FBZ0IsQ0FBQyxJQUFRLEdBQU8sRUFBSSxJQUFRLEVBQUksSUFBTSxFQUFJLEVBQzFELEdBQW9CLENBQUMsSUFBVyxFQUFPLEtBQWUsS0FDMUQsU0FBUyxFQUFpQixDQUFDLEVBQVcsRUFBTyxDQUMzQyxHQUFJLEVBQVUsY0FDWixFQUFVLGNBQWMsQ0FBSyxNQUU3QixHQUFVLENBQUssRUFHbkIsU0FBUyxFQUFrQixDQUFDLEVBQVEsRUFBTyxDQUN6QyxJQUFNLEVBQVksRUFBTyxJQUN6QixHQUFJLEVBQ0YsRUFBVSxRQUFRLENBQUMsSUFBYyxDQUMvQixHQUFrQixFQUFXLENBQUssRUFDbkMsRUFHTCxJQUFJLEdBQWEsS0FBTSxDQUNyQixXQUFXLENBQUMsRUFBSyxDQUNmLElBQUssS0FBUyxFQUFNLEtBQUssS0FDdkIsTUFBTSxNQUFNLGdCQUFnQixFQUU5QixHQUFlLEtBQU0sQ0FBRyxFQUU1QixFQUVJLEdBQWlCLENBQUMsRUFBUSxJQUFRLEdBQVUsRUFBUSxHQUFNLENBQUcsRUFDakUsU0FBUyxFQUFnQixDQUFDLEVBQVEsRUFBVyxDQUMzQyxHQUFJLEVBQU8sSUFBTyxDQUNoQixJQUFJLEVBQVksRUFBTyxJQUN2QixJQUFLLEVBQ0gsR0FBVSxFQUFRLEdBQVksRUFBNEIsSUFBSSxHQUFLLEVBRXJFLElBQUssRUFBVSxJQUFJLENBQVMsR0FFMUIsR0FEQSxFQUFVLElBQUksQ0FBUyxFQUNuQixFQUFPLGNBQ1QsRUFBTyxjQUFjLEVBQVUsS0FBTSxDQUFTLEdBSXBELE9BQU8sRUFFVCxTQUFTLEVBQW1CLENBQUMsRUFBUSxFQUFXLENBQzlDLElBQU0sRUFBWSxFQUFPLElBQ3pCLEdBQUksR0FBYSxFQUFVLElBQUksQ0FBUyxFQUFHLENBQ3pDLElBQU0sRUFBUSxFQUFVLEtBQU8sRUFDL0IsR0FBSSxFQUNGLEVBQVUsT0FBTyxDQUFTLE1BRTFCLEdBQU8sSUFBYyxLQUV2QixHQUFJLEVBQU8sZ0JBQ1QsRUFBTyxnQkFBZ0IsRUFBTyxDQUFTLEdBSTdDLElBQUksR0FBWSxDQUFDLEVBQVEsRUFBSyxJQUFVLE9BQU8sZUFBZSxFQUFRLEVBQUssQ0FDekUsUUFDQSxTQUFVLEdBQ1YsYUFBYyxFQUNoQixDQUFDLEVBR0csR0FBYyxvREFDZCxHQUFhLDJGQUNiLEdBQVksSUFBSSxPQUFPLElBQUksR0FBWSxvQkFBcUIsR0FBRyxFQUMvRCxHQUFZLCtEQUNaLEdBQW1CLHVEQUduQixHQUFpQixDQUFDLElBQVUsQ0FDOUIsSUFBTyxFQUFPLEdBQVksR0FBaUIsQ0FBSyxFQUNoRCxJQUFLLEdBQVMsR0FBTSxFQUNsQixPQUFPLEVBRVQsSUFBTSxFQUFRLE9BQU8saUJBQWlCLFNBQVMsZUFBZSxFQUFFLGlCQUFpQixDQUFLLEVBQ3RGLEdBQUksRUFDRixPQUFPLEVBQU0sS0FBSyxVQUNULEdBQVksRUFBUyxXQUFXLElBQUksRUFBRyxDQUNoRCxJQUFNLEVBQVMsT0FBTyxpQkFBaUIsU0FBUyxlQUFlLEVBQUUsaUJBQWlCLENBQVEsRUFDMUYsR0FBSSxFQUNGLE9BQU8sTUFFUCxRQUFPLFVBRUEsR0FBWSxHQUFpQixLQUFLLENBQVEsRUFDbkQsT0FBTyxHQUFlLENBQVEsVUFDckIsRUFDVCxPQUFPLEVBRVQsT0FBTyxHQUVMLEdBQW1CLENBQUMsSUFBWSxDQUNsQyxJQUFNLEVBQVEsR0FBaUIsS0FBSyxDQUFPLEVBQzNDLElBQUssRUFDSCxNQUFPLEVBQUUsRUFDWCxLQUFTLEVBQU8sR0FBWSxFQUM1QixNQUFPLENBQUMsRUFBTyxDQUFRLEdBSXJCLEdBQ0EsR0FBWSxDQUFDLEVBQUcsRUFBSSxFQUFJLEVBQUksSUFBTyxRQUFRLEtBQUssTUFBTSxDQUFFLE1BQU0sS0FBSyxNQUFNLENBQUUsTUFBTSxLQUFLLE1BQU0sQ0FBRSxNQUFNLEtBQ3BHLEdBQTRCLENBQUMsSUFBVyxDQUMxQyxJQUFLLEdBQ0gsR0FBa0IsR0FFaEIsSUFBSSxPQUFPLElBQUksT0FBTyxLQUFLLEVBQU0sRUFBRSxLQUFLLEdBQUcsWUFBYSxHQUFHLEVBRzNELE9BRUosSUFBTSxFQUFTLEVBQU8sT0FBTyxJQUFJLENBQUMsSUFBVSxDQUMxQyxPQUFPLEdBQWMsQ0FBSyxFQUFFLFFBQVEsR0FBa0IsRUFBYyxFQUFFLFFBQVEsR0FBWSxFQUFXLEVBQUUsUUFBUSxHQUFpQixFQUFXLEVBQzVJLEVBQ0ssRUFBWSxFQUFPLElBQUksQ0FBQyxJQUFVLEVBQU0sTUFBTSxFQUFXLEVBQUUsSUFBSSxNQUFNLENBQUMsRUFTdEUsRUFSZSxFQUFVLEdBQUcsSUFDaEMsQ0FBQyxFQUFHLElBQU0sRUFBVSxJQUFJLENBQUMsSUFBVyxDQUNsQyxLQUFNLEtBQUssR0FDVCxNQUFNLE1BQU0sZ0RBQWdELEVBRTlELE9BQU8sRUFBTyxHQUNmLENBQ0gsRUFDbUMsSUFDakMsQ0FBQyxJQUFZLEdBQW1CLElBQUssRUFBUSxPQUFRLENBQVEsQ0FBQyxDQUNoRSxFQUNBLE1BQU8sQ0FBQyxJQUFVLENBQ2hCLElBQU0sR0FBZSxHQUFVLEtBQUssRUFBTyxFQUFFLEdBQUssRUFBTyxLQUFLLENBQUMsSUFBVSxHQUFVLEtBQUssQ0FBSyxDQUFDLEdBQUcsUUFBUSxHQUFhLEVBQUUsRUFDcEgsRUFBSSxFQUNSLE9BQU8sRUFBTyxHQUFHLFFBQ2YsR0FDQSxJQUFNLEdBQUcsRUFBYyxLQUFLLENBQUssSUFBSSxHQUFlLElBQ3RELEVBQUUsUUFBUSxHQUFXLEVBQVMsSUFLOUIsR0FBUyxpQkFDVCxHQUFPLENBQUMsSUFBTyxDQUNqQixJQUFNLEVBQU8sRUFDVCxFQUFTLEdBQ2IsVUFBVyxHQUFRLFdBQ2pCLE1BQU0sSUFBSSxVQUFVLEdBQUcsc0NBQTBDLEVBRW5FLE1BQU8sSUFBSSxJQUFTLENBQ2xCLElBQUssRUFDSCxFQUFLLEdBQUcsQ0FBSSxFQUNaLEVBQVMsS0FJWCxHQUFrQixHQUFLLFFBQVEsSUFBSSxFQUN2QyxTQUFTLEVBQW9CLEVBQUcsQ0FDOUIsR0FDRSxHQUFHLHFFQUNMLEVBRUYsSUFBSSxHQUFpQixHQUFLLFFBQVEsSUFBSSxFQUN0QyxTQUFTLEVBQW1CLEVBQUcsQ0FDN0IsR0FDRSxHQUFHLG1KQUNMLEVBSUYsU0FBUyxFQUFnQixDQUFDLEVBQU8sQ0FDL0IsT0FBTyxFQUFHLElBQUksQ0FBSyxJQUFNLEVBQU0sSUFBTSxLQUFPLEtBQUssS0FBSyxDQUFLLElBQzFELEdBQU0sR0FBSyxHQUFpQixLQUFLLENBQUssSUFBSyxLQUFVLElBQVUsQ0FBQyxLQStMbkUsSUFBSSxHQUE0QixHQUFNLEVBQUksYUFBWSxtQkFHbEQsR0FBZSxJQUFNLENBQ3ZCLElBQU0sRUFBWSxVQUFRLEVBQUssRUFPL0IsT0FOQSxHQUEwQixJQUFNLENBRTlCLE9BREEsRUFBVSxRQUFVLEdBQ2IsSUFBTSxDQUNYLEVBQVUsUUFBVSxLQUVyQixDQUFDLENBQUMsRUFDRSxHQUlULFNBQVMsRUFBYyxFQUFHLENBQ3hCLElBQU0sRUFBUyxZQUFTLEVBQUUsR0FDcEIsRUFBWSxHQUFhLEVBQy9CLE1BQU8sSUFBTSxDQUNYLEdBQUksRUFBVSxRQUNaLEVBQU8sS0FBSyxPQUFPLENBQUMsR0FPMUIsU0FBUyxFQUFVLENBQUMsRUFBVyxFQUFRLENBQ3JDLElBQU8sR0FBVyxZQUNoQixLQUFPLENBQ0wsU0FDQSxPQUFRLEVBQVUsQ0FDcEIsRUFDRixFQUNNLEVBQVksVUFBUSxFQUNwQixFQUFZLEVBQVUsUUFDeEIsRUFBUSxFQUNaLEdBQUksR0FJRixJQUhpQixRQUNmLEdBQVUsRUFBTSxRQUFVLEdBQWUsRUFBUSxFQUFNLE1BQU0sQ0FDL0QsRUFFRSxFQUFRLENBQ04sU0FDQSxPQUFRLEVBQVUsQ0FDcEIsTUFHRixHQUFRLEVBUVYsT0FOQSxhQUFXLElBQU0sQ0FFZixHQURBLEVBQVUsUUFBVSxFQUNoQixHQUFhLEVBQ2YsRUFBUSxPQUFTLEVBQVEsT0FBYyxRQUV4QyxDQUFDLENBQUssQ0FBQyxFQUNILEVBQU0sT0FFZixTQUFTLEVBQWMsQ0FBQyxFQUFNLEVBQU0sQ0FDbEMsR0FBSSxFQUFLLFNBQVcsRUFBSyxPQUN2QixNQUFPLEdBRVQsUUFBUyxFQUFJLEVBQUcsRUFBSSxFQUFLLE9BQVEsSUFDL0IsR0FBSSxFQUFLLEtBQU8sRUFBSyxHQUNuQixNQUFPLEdBR1gsTUFBTyxHQUtULElBQUksR0FBVSxDQUFDLElBQVcsYUFBVyxFQUFRLEVBQVMsRUFDbEQsR0FBWSxDQUFDLEVBSWpCLFNBQVMsRUFBTyxDQUFDLEVBQU8sQ0FDdEIsSUFBTSxFQUFVLFVBQVEsRUFJeEIsT0FIQSxhQUFXLElBQU0sQ0FDZixFQUFRLFFBQVUsRUFDbkIsRUFDTSxFQUFRLFFDMTNCakIsaUJDb0NBLGlCQUNBLGFBcE5BLElBQUksR0FBUSxPQUFPLElBQUksZUFBZSxFQUNsQyxHQUFhLENBQUMsTUFBWSxHQUFTLEVBQU0sTUFBVyxFQUNwRCxHQUFjLENBQUMsSUFBVSxHQUFTLEVBQU0sSUFDeEMsR0FBYyxDQUFDLEVBQU8sSUFBUyxHQUFhLEVBQU8sR0FBTyxDQUFJLEVBQzlELEdBQWEsQ0FBQyxJQUFVLEdBQVMsRUFBTSxLQUFVLEVBQU0sSUFBTyxXQUFXLEVBQ3pFLEdBQVcsS0FBTSxDQUNuQixXQUFXLEVBQUcsQ0FDWixHQUFZLEtBQU0sSUFBSSxFQUd4QixVQUFVLEVBQUcsQ0FDWCxPQUFPLEtBQUssU0FBVyxDQUFDLEVBRTVCLEVBSUksR0FBZ0IsY0FBYyxFQUFTLENBQ3pDLFdBQVcsQ0FBQyxFQUFRLENBQ2xCLE1BQU0sRUFJTixHQUhBLEtBQUssT0FBUyxFQUNkLEtBQUssS0FBTyxHQUNaLEtBQUssaUJBQW1CLEVBQ3BCLEVBQUcsSUFBSSxLQUFLLE1BQU0sRUFDcEIsS0FBSyxhQUFlLEtBQUssYUFJdEIsT0FBTSxDQUFDLEVBQU8sQ0FDbkIsT0FBTyxJQUFJLEdBQWMsQ0FBSyxFQUVoQyxVQUFVLEVBQUcsQ0FDWCxNQUFPLENBQUMsSUFBSSxFQUVkLFFBQVEsRUFBRyxDQUNULE9BQU8sS0FBSyxPQUVkLFFBQVEsQ0FBQyxFQUFPLEVBQU0sQ0FDcEIsR0FBSSxFQUFHLElBQUksQ0FBSyxHQUVkLEdBREEsS0FBSyxhQUFlLEVBQ2hCLEdBRUYsR0FEQSxFQUFRLEtBQUssTUFBTSxFQUFRLENBQUksRUFBSSxFQUMvQixLQUFLLEtBQ1AsS0FBSyxhQUFlLEdBSTFCLEdBQUksS0FBSyxTQUFXLEVBQ2xCLE1BQU8sR0FHVCxPQURBLEtBQUssT0FBUyxFQUNQLEdBRVQsS0FBSyxFQUFHLENBQ04sSUFBUSxRQUFTLEtBRWpCLEdBREEsS0FBSyxLQUFPLEdBQ1IsRUFBRyxJQUFJLEtBQUssTUFBTSxFQUFHLENBSXZCLEdBSEEsS0FBSyxZQUFjLEVBQ25CLEtBQUssaUJBQW1CLEVBQ3hCLEtBQUssYUFBZSxLQUFLLE9BQ3JCLEVBQ0YsS0FBSyxhQUFlLEtBQ3RCLEtBQUssR0FBSyxNQUdoQixFQUlJLEdBQWlCLGNBQWMsRUFBYyxDQUMvQyxXQUFXLENBQUMsRUFBTyxDQUNqQixNQUFNLENBQUMsRUFDUCxLQUFLLFFBQVUsS0FDZixLQUFLLFVBQVksR0FBbUIsQ0FDbEMsT0FBUSxDQUFDLEVBQU8sQ0FBSyxDQUN2QixDQUFDLFFBR0ksT0FBTSxDQUFDLEVBQU8sQ0FDbkIsT0FBTyxJQUFJLEdBQWUsQ0FBSyxFQUVqQyxRQUFRLEVBQUcsQ0FDVCxJQUFNLEVBQVEsS0FBSyxRQUNuQixPQUFPLEdBQVMsS0FBTyxLQUFLLFFBQVUsS0FBSyxVQUFVLEtBQUssTUFBTSxFQUFJLEVBRXRFLFFBQVEsQ0FBQyxFQUFPLENBQ2QsR0FBSSxFQUFJLElBQUksQ0FBSyxFQUFHLENBQ2xCLEdBQUksR0FBUyxLQUFLLFFBQ2hCLE1BQU8sR0FFVCxLQUFLLFFBQVUsRUFDZixLQUFLLE9BQVMsVUFDTCxNQUFNLFNBQVMsQ0FBSyxFQUM3QixLQUFLLFFBQVUsU0FFZixPQUFPLEdBRVQsTUFBTyxHQUVULEtBQUssQ0FBQyxFQUFNLENBQ1YsR0FBSSxFQUNGLEtBQUssVUFBWSxHQUFtQixDQUNsQyxPQUFRLENBQUMsS0FBSyxTQUFTLEVBQUcsQ0FBSSxDQUNoQyxDQUFDLEVBRUgsS0FBSyxPQUFTLEVBQ2QsTUFBTSxNQUFNLEVBRWhCLEVBY0ksR0FBYyxDQUFFLGFBQWMsSUFBSyxFQUduQyxHQUFpQixjQUFjLEVBQVMsQ0FDMUMsV0FBVyxDQUFDLEVBQVEsQ0FDbEIsTUFBTSxFQUNOLEtBQUssT0FBUyxFQUNkLEtBQUssU0FBUyxDQUFNLEVBRXRCLFFBQVEsQ0FBQyxFQUFVLENBQ2pCLElBQU0sRUFBUyxDQUFDLEVBVWhCLE9BVEEsR0FBUyxLQUFLLE9BQVEsQ0FBQyxFQUFRLElBQVEsQ0FDckMsR0FBSSxHQUFXLENBQU0sRUFDbkIsRUFBTyxHQUFPLEVBQU8sU0FBUyxDQUFRLFVBQzdCLEdBQWMsQ0FBTSxFQUM3QixFQUFPLEdBQU8sR0FBYyxDQUFNLFdBQ3hCLEVBQ1YsRUFBTyxHQUFPLEVBRWpCLEVBQ00sRUFHVCxRQUFRLENBQUMsRUFBUSxDQUNmLEtBQUssT0FBUyxFQUNkLEtBQUssUUFBVSxLQUFLLGFBQWEsQ0FBTSxFQUV6QyxLQUFLLEVBQUcsQ0FDTixHQUFJLEtBQUssUUFDUCxHQUFLLEtBQUssUUFBUyxDQUFDLElBQVMsRUFBSyxNQUFNLENBQUMsRUFJN0MsWUFBWSxDQUFDLEVBQVEsQ0FDbkIsR0FBSSxFQUFRLENBQ1YsSUFBTSxFQUEwQixJQUFJLElBRXBDLE9BREEsR0FBUyxFQUFRLEtBQUssY0FBZSxDQUFPLEVBQ3JDLE1BQU0sS0FBSyxDQUFPLEdBSTdCLGFBQWEsQ0FBQyxFQUFRLENBQ3BCLEdBQUksR0FBWSxjQUFnQixHQUFjLENBQU0sRUFDbEQsR0FBWSxhQUFhLElBQUksQ0FBTSxFQUVyQyxJQUFNLEVBQVUsR0FBVyxDQUFNLEVBQ2pDLEdBQUksRUFDRixHQUFLLEVBQVMsQ0FBQyxJQUFTLEtBQUssSUFBSSxDQUFJLENBQUMsRUFHNUMsRUFHSSxHQUFnQixjQUFjLEVBQWUsQ0FDL0MsV0FBVyxDQUFDLEVBQVEsQ0FDbEIsTUFBTSxDQUFNLFFBR1AsT0FBTSxDQUFDLEVBQVEsQ0FDcEIsT0FBTyxJQUFJLEdBQWMsQ0FBTSxFQUVqQyxRQUFRLEVBQUcsQ0FDVCxPQUFPLEtBQUssT0FBTyxJQUFJLENBQUMsSUFBUyxFQUFLLFNBQVMsQ0FBQyxFQUVsRCxRQUFRLENBQUMsRUFBUSxDQUNmLElBQU0sRUFBVSxLQUFLLFdBQVcsRUFDaEMsR0FBSSxFQUFPLFFBQVUsRUFBUSxPQUMzQixPQUFPLEVBQVEsSUFBSSxDQUFDLEVBQU0sSUFBTSxFQUFLLFNBQVMsRUFBTyxFQUFFLENBQUMsRUFBRSxLQUFLLE9BQU8sRUFHeEUsT0FEQSxNQUFNLFNBQVMsRUFBTyxJQUFJLEVBQVksQ0FBQyxFQUNoQyxHQUVYLEVBQ0EsU0FBUyxFQUFZLENBQUMsRUFBTyxDQUUzQixPQURpQixHQUFpQixDQUFLLEVBQUksR0FBaUIsSUFDNUMsT0FBTyxDQUFLLEVBSzlCLFNBQVMsRUFBZSxDQUFDLEVBQU8sQ0FDOUIsSUFBTSxFQUFhLEdBQVksQ0FBSyxFQUNwQyxPQUFPLEVBQWEsRUFBVyxZQUFjLEVBQUksSUFBSSxDQUFLLEVBQUksR0FBZ0IsR0FBa0IsQ0FBSyxFQUFJLEdBQWlCLEdBbUI1SCxJQUFJLEdBQWUsQ0FBQyxFQUFXLElBQVMsQ0FDdEMsSUFBTSxHQUdILEVBQUksSUFBSSxDQUFTLEdBQUssRUFBVSxXQUFhLEVBQVUsVUFBVSxpQkFFcEUsT0FBTyxjQUFXLENBQUMsRUFBWSxJQUFhLENBQzFDLElBQU0sRUFBYyxVQUFPLElBQUksRUFDekIsRUFBTSxHQUNaLGVBQ0UsQ0FBQyxJQUFVLENBQ1QsRUFBWSxRQUFVLEdBQVUsRUFBVSxDQUFLLEdBRWpELENBQUMsQ0FBUSxDQUNYLEdBQ08sRUFBTyxHQUFRLEdBQWlCLEVBQVksQ0FBSSxFQUNqRCxFQUFjLEdBQWUsRUFDN0IsRUFBVyxJQUFNLENBQ3JCLElBQU0sRUFBVyxFQUFZLFFBQzdCLEdBQUksSUFBZ0IsRUFDbEIsT0FHRixJQURrQixFQUFXLEVBQUssb0JBQW9CLEVBQVUsRUFBTSxTQUFTLEVBQUksQ0FBQyxFQUFJLE1BQ3RFLEdBQ2hCLEVBQVksR0FHVixFQUFXLElBQUksR0FBYyxFQUFVLENBQUksRUFDM0MsRUFBYyxVQUFPLEVBQzNCLEdBQTBCLElBQU0sQ0FHOUIsT0FGQSxFQUFZLFFBQVUsRUFDdEIsR0FBTSxFQUFNLENBQUMsSUFBUSxHQUFpQixFQUFLLENBQVEsQ0FBQyxFQUM3QyxJQUFNLENBQ1gsR0FBSSxFQUFZLFFBQ2QsR0FDRSxFQUFZLFFBQVEsS0FDcEIsQ0FBQyxJQUFRLEdBQW9CLEVBQUssRUFBWSxPQUFPLENBQ3ZELEVBQ0EsR0FBSSxPQUFPLEVBQVksUUFBUSxNQUFNLEdBRzFDLEVBQ0QsYUFBVSxFQUFVLENBQUMsQ0FBQyxFQUN0QixHQUFRLElBQU0sSUFBTSxDQUNsQixJQUFNLEVBQVksRUFBWSxRQUM5QixHQUFNLEVBQVUsS0FBTSxDQUFDLElBQVEsR0FBb0IsRUFBSyxDQUFTLENBQUMsRUFDbkUsRUFDRCxJQUFNLEVBQVksRUFBSyxrQkFBa0IsRUFBTSxTQUFTLENBQUMsRUFDekQsT0FBNkIsaUJBQWMsRUFBVyxJQUFLLEVBQVcsS0FBSSxDQUFDLEVBQzVFLEdBRUMsR0FBZ0IsS0FBTSxDQUN4QixXQUFXLENBQUMsRUFBUSxFQUFNLENBQ3hCLEtBQUssT0FBUyxFQUNkLEtBQUssS0FBTyxFQUVkLGFBQWEsQ0FBQyxFQUFPLENBQ25CLEdBQUksRUFBTSxNQUFRLFNBQ2hCLEdBQUksTUFBTSxLQUFLLE1BQU0sRUFHM0IsRUFDQSxTQUFTLEVBQWdCLENBQUMsRUFBTyxFQUFNLENBQ3JDLElBQU0sRUFBK0IsSUFBSSxJQUV6QyxHQURBLEdBQVksYUFBZSxFQUN2QixFQUFNLE1BQ1IsRUFBUSxJQUNILEVBQ0gsTUFBTyxFQUFLLG9CQUFvQixFQUFNLEtBQUssQ0FDN0MsRUFHRixPQUZBLEVBQVEsSUFBSSxHQUFlLENBQUssRUFDaEMsR0FBWSxhQUFlLEtBQ3BCLENBQUMsRUFBTyxDQUFZLEVBRTdCLFNBQVMsRUFBUyxDQUFDLEVBQUssRUFBTyxDQUM3QixHQUFJLEVBQ0YsR0FBSSxFQUFJLElBQUksQ0FBRyxFQUNiLEVBQUksQ0FBSyxNQUVULEdBQUksUUFBVSxFQUVsQixPQUFPLEVBSVQsSUFBSSxHQUFXLE9BQU8sSUFBSSxtQkFBbUIsRUFDekMsR0FBYSxDQUFDLEdBQ2hCLHNCQUFzQixJQUFNLEdBQzVCLHNCQUFzQixDQUFDLElBQVUsSUFBSSxHQUFlLENBQUssRUFDekQsb0JBQW9CLENBQUMsSUFBVSxHQUM3QixDQUFDLElBQU0sQ0FDVCxJQUFNLEVBQWEsQ0FDakIsc0JBQ0Esc0JBQ0EsbUJBQ0YsRUFDTSxFQUFXLENBQUMsSUFBYyxDQUM5QixJQUFNLEVBQWMsR0FBZSxDQUFTLEdBQUssWUFDakQsR0FBSSxFQUFJLElBQUksQ0FBUyxFQUNuQixFQUFZLEVBQVMsS0FBZSxFQUFTLEdBQWEsR0FBYSxFQUFXLENBQVUsT0FFNUYsR0FBWSxFQUFVLE1BQWMsRUFBVSxJQUFZLEdBQWEsRUFBVyxDQUFVLEdBRzlGLE9BREEsRUFBVSxZQUFjLFlBQVksS0FDN0IsR0FRVCxPQU5BLEdBQVUsRUFBWSxDQUFDLEVBQVcsSUFBUSxDQUN4QyxHQUFJLEVBQUksSUFBSSxDQUFVLEVBQ3BCLEVBQU0sR0FBZSxDQUFTLEVBRWhDLEVBQVMsR0FBTyxFQUFTLENBQVMsRUFDbkMsRUFDTSxDQUNMLFVBQ0YsR0FFRSxHQUFpQixDQUFDLElBQVEsRUFBSSxJQUFJLENBQUcsRUFBSSxFQUFNLEdBQU8sRUFBSSxJQUFJLEVBQUksV0FBVyxFQUFJLEVBQUksWUFBYyxFQUFJLElBQUksQ0FBRyxHQUFLLEVBQUksTUFBUSxLRDR3Q25JLGlCQUNBLGFBb01BLGlCQW9FQSxpQkFDQSxhQStVQSxpQkE5cUVBLFNBQVMsRUFBUSxDQUFDLEtBQVUsRUFBTSxDQUNoQyxPQUFPLEVBQUcsSUFBSSxDQUFLLEVBQUksRUFBTSxHQUFHLENBQUksRUFBSSxFQUUxQyxJQUFJLEdBQVksQ0FBQyxFQUFPLElBQVEsSUFBVSxPQUFXLEdBQU8sSUFBVSxFQUFHLElBQUksQ0FBSyxFQUFJLEVBQU0sQ0FBRyxFQUFJLEdBQVEsQ0FBSyxFQUFFLFNBQVMsQ0FBRyxJQUMxSCxHQUFjLENBQUMsRUFBTSxJQUFRLEVBQUcsSUFBSSxDQUFJLEVBQUksR0FBTyxFQUFLLEdBQU8sRUFDL0QsR0FBaUIsQ0FBQyxFQUFPLElBQVEsRUFBTSxVQUFZLEdBQU8sRUFBTSxHQUFPLEVBQU0sUUFBVSxFQUFNLFFBQVEsR0FBWSxPQUNqSCxHQUFnQixDQUFDLElBQVUsRUFDM0IsR0FBa0IsQ0FBQyxFQUFPLEVBQVksS0FBa0IsQ0FDMUQsSUFBSSxFQUFPLEdBQ1gsR0FBSSxFQUFNLFNBQVcsRUFBTSxVQUFZLEdBQ3JDLEVBQVEsRUFBTSxRQUNkLEVBQU8sT0FBTyxLQUFLLENBQUssRUFFMUIsSUFBTSxFQUFZLENBQUMsRUFDbkIsUUFBVyxLQUFPLEVBQU0sQ0FDdEIsSUFBTSxFQUFRLEVBQVUsRUFBTSxHQUFNLENBQUcsRUFDdkMsSUFBSyxFQUFHLElBQUksQ0FBSyxFQUNmLEVBQVUsR0FBTyxFQUdyQixPQUFPLEdBRUwsR0FBZ0IsQ0FDbEIsU0FDQSxVQUNBLFVBQ0EsV0FDQSxVQUNBLFdBQ0EsUUFDRixFQUNJLEdBQWlCLENBQ25CLE9BQVEsRUFDUixLQUFNLEVBQ04sR0FBSSxFQUNKLElBQUssRUFDTCxLQUFNLEVBQ04sTUFBTyxFQUNQLE1BQU8sRUFDUCxPQUFRLEVBQ1IsUUFBUyxFQUNULFVBQVcsRUFDWCxRQUFTLEVBQ1QsTUFBTyxFQUNQLFFBQVMsRUFDVCxRQUFTLEVBQ1QsU0FBVSxFQUNWLFFBQVMsRUFDVCxTQUFVLEVBQ1YsT0FBUSxFQUNSLFVBQVcsRUFFWCxNQUFPLEVBQ1AsTUFBTyxFQUNQLEtBQU0sRUFDTixRQUFTLEVBQ1QsUUFBUyxFQUNULE1BQU8sRUFDUCxPQUFRLEVBQ1IsTUFBTyxFQUNQLFNBQVUsRUFDVixZQUFhLEVBRWIsS0FBTSxFQUNOLE9BQVEsRUFDUixTQUFVLENBQ1osRUFDQSxTQUFTLEVBQWUsQ0FBQyxFQUFPLENBQzlCLElBQU0sRUFBVSxDQUFDLEVBQ2IsRUFBUSxFQU9aLEdBTkEsR0FBUyxFQUFPLENBQUMsRUFBTyxJQUFTLENBQy9CLElBQUssR0FBZSxHQUNsQixFQUFRLEdBQVEsRUFDaEIsSUFFSCxFQUNHLEVBQ0YsT0FBTyxFQUdYLFNBQVMsRUFBTyxDQUFDLEVBQU8sQ0FDdEIsSUFBTSxFQUFNLEdBQWdCLENBQUssRUFDakMsR0FBSSxFQUFLLENBQ1AsSUFBTSxFQUFNLENBQUUsR0FBSSxDQUFJLEVBRXRCLE9BREEsR0FBUyxFQUFPLENBQUMsRUFBSyxLQUFRLEtBQU8sS0FBUSxFQUFJLEdBQU8sRUFBSSxFQUNyRCxFQUVULE1BQU8sSUFBSyxDQUFNLEVBRXBCLFNBQVMsRUFBVyxDQUFDLEVBQU8sQ0FFMUIsT0FEQSxFQUFRLEdBQWMsQ0FBSyxFQUNwQixFQUFHLElBQUksQ0FBSyxFQUFJLEVBQU0sSUFBSSxFQUFXLEVBQUksR0FBaUIsQ0FBSyxFQUFJLEdBQUUseUJBQXlCLENBQ25HLE1BQU8sQ0FBQyxFQUFHLENBQUMsRUFDWixPQUFRLENBQUMsRUFBTyxDQUFLLENBQ3ZCLENBQUMsRUFBRSxDQUFDLEVBQUksRUFFVixTQUFTLEVBQVEsQ0FBQyxFQUFPLENBQ3ZCLFFBQVcsS0FBSyxFQUNkLE1BQU8sR0FDVCxNQUFPLEdBRVQsU0FBUyxFQUFTLENBQUMsRUFBSyxDQUN0QixPQUFPLEVBQUcsSUFBSSxDQUFHLEdBQUssRUFBRyxJQUFJLENBQUcsR0FBSyxFQUFHLElBQUksRUFBSSxFQUFFLEVBRXBELFNBQVMsRUFBVSxDQUFDLEVBQU0sRUFBSyxDQUM3QixFQUFLLEtBQUssT0FBTyxDQUFJLEVBQ3JCLEdBQUssT0FBTyxDQUFJLEVBRWxCLFNBQVMsRUFBVSxDQUFDLEVBQU0sRUFBSyxDQUM3QixHQUFJLEdBQU8sRUFBSyxNQUFRLEVBQ3RCLEVBQUssS0FBSyxPQUFPLENBQUksRUFDckIsRUFBSSxJQUFJLENBQUksRUFDWixFQUFLLElBQU0sRUErRmYsSUFBSSxHQUFTLENBQ1gsUUFBUyxDQUFFLFFBQVMsSUFBSyxTQUFVLEVBQUcsRUFDdEMsT0FBUSxDQUFFLFFBQVMsSUFBSyxTQUFVLEVBQUcsRUFDckMsT0FBUSxDQUFFLFFBQVMsSUFBSyxTQUFVLEVBQUcsRUFDckMsTUFBTyxDQUFFLFFBQVMsSUFBSyxTQUFVLEVBQUcsRUFDcEMsS0FBTSxDQUFFLFFBQVMsSUFBSyxTQUFVLEVBQUcsRUFDbkMsU0FBVSxDQUFFLFFBQVMsSUFBSyxTQUFVLEdBQUksQ0FDMUMsRUFHSSxHQUFXLElBQ1YsR0FBTyxRQUNWLEtBQU0sRUFDTixRQUFTLEVBQ1QsT0FBUSxHQUFRLE9BQ2hCLE1BQU8sRUFDVCxFQUNJLEdBQWtCLEtBQU0sQ0FDMUIsV0FBVyxFQUFHLENBTVosS0FBSyxTQUFXLEVBQ2hCLE9BQU8sT0FBTyxLQUFNLEVBQVEsRUFFaEMsRUFDQSxTQUFTLEVBQVcsQ0FBQyxFQUFTLEVBQVcsRUFBZSxDQUN0RCxHQUFJLEVBQ0YsRUFBZ0IsSUFBSyxDQUFjLEVBQ25DLEdBQWUsRUFBZSxDQUFTLEVBQ3ZDLEVBQVksSUFBSyxLQUFrQixDQUFVLEVBRS9DLEdBQWUsRUFBUyxDQUFTLEVBQ2pDLE9BQU8sT0FBTyxFQUFTLENBQVMsRUFDaEMsUUFBVyxLQUFPLEdBQ2hCLEdBQUksRUFBUSxJQUFRLEtBQ2xCLEVBQVEsR0FBTyxHQUFTLEdBRzVCLElBQU0sWUFBVyxXQUFZLEdBQ3JCLFFBQVMsRUFDakIsSUFBSyxFQUFJLElBQUksQ0FBUyxFQUFHLENBQ3ZCLEdBQUksRUFBWSxLQUNkLEVBQVksS0FDZCxHQUFJLEVBQVUsRUFDWixFQUFVLEVBQ1osRUFBUSxRQUFVLEtBQUssSUFBSSxFQUFJLEtBQUssR0FBSyxFQUFXLENBQUMsRUFBSSxFQUN6RCxFQUFRLFNBQVcsRUFBSSxLQUFLLEdBQUssRUFBVSxFQUFPLEVBRXBELE9BQU8sRUFFVCxTQUFTLEVBQWMsQ0FBQyxFQUFTLEVBQU8sQ0FDdEMsSUFBSyxFQUFJLElBQUksRUFBTSxLQUFLLEVBQ3RCLEVBQVEsU0FBZ0IsV0FDbkIsQ0FDTCxJQUFNLEdBQW1CLEVBQUksSUFBSSxFQUFNLE9BQU8sSUFBTSxFQUFJLElBQUksRUFBTSxRQUFRLEVBQzFFLEdBQUksSUFBb0IsRUFBSSxJQUFJLEVBQU0sU0FBUyxJQUFNLEVBQUksSUFBSSxFQUFNLE9BQU8sSUFBTSxFQUFJLElBQUksRUFBTSxJQUFJLEVBQ2hHLEVBQVEsU0FBZ0IsT0FDeEIsRUFBUSxNQUFhLE9BRXZCLEdBQUksRUFDRixFQUFRLFVBQWlCLFFBTS9CLElBQUksR0FBYSxDQUFDLEVBQ2QsR0FBWSxLQUFNLENBQ3BCLFdBQVcsRUFBRyxDQUNaLEtBQUssUUFBVSxHQUNmLEtBQUssT0FBUyxHQUNkLEtBQUssU0FBVyxLQUNoQixLQUFLLFdBQWEsR0FDbEIsS0FBSyxPQUFTLElBQUksR0FDbEIsS0FBSyxVQUFZLEdBRXJCLEVBSUEsU0FBUyxFQUFhLENBQUMsR0FBVSxNQUFLLFFBQU8sZUFBYyxRQUFPLFdBQVcsQ0FDM0UsT0FBTyxJQUFJLFFBQVEsQ0FBQyxFQUFTLElBQVcsQ0FDdEMsSUFBSSxFQUNBLEVBQ0EsRUFBUyxHQUFVLEVBQU0sUUFBVSxHQUFjLE9BQVEsQ0FBRyxFQUNoRSxHQUFJLEVBQ0YsRUFBUSxNQUNILENBQ0wsSUFBSyxFQUFJLElBQUksRUFBTSxLQUFLLEVBQ3RCLEVBQU0sT0FBUyxHQUFVLEVBQU0sTUFBTyxDQUFHLEVBRTNDLElBQUksRUFBUSxHQUFjLE1BQzFCLEdBQUksSUFBVSxHQUNaLEVBQVEsRUFBTSxRQUFVLEdBQVUsRUFBTyxDQUFHLEVBRzlDLEdBREEsRUFBUSxHQUFTLEVBQU0sT0FBUyxFQUFHLENBQUcsRUFDbEMsRUFDRixFQUFNLFlBQVksSUFBSSxDQUFRLEVBQzlCLEVBQVEsTUFBTSxNQUVkLEdBQVEsT0FBTyxFQUNmLEVBQVMsRUFHYixTQUFTLENBQU8sRUFBRyxDQUNqQixFQUFNLFlBQVksSUFBSSxDQUFRLEVBQzlCLEVBQU0sU0FBUyxPQUFPLENBQU8sRUFDN0IsRUFBUSxPQUFPLEVBQ2YsRUFBUSxFQUFRLEtBQU8sR0FBSSxJQUFJLEVBRWpDLFNBQVMsQ0FBUSxFQUFHLENBQ2xCLEdBQUksRUFBUSxJQUFNLEdBQUcsY0FDbkIsRUFBTSxRQUFVLEdBQ2hCLEVBQVUsR0FBSSxXQUFXLEVBQVMsQ0FBSyxFQUN2QyxFQUFNLFdBQVcsSUFBSSxDQUFPLEVBQzVCLEVBQU0sU0FBUyxJQUFJLENBQU8sTUFFMUIsR0FBUSxFQUdaLFNBQVMsQ0FBTyxFQUFHLENBQ2pCLEdBQUksRUFBTSxRQUNSLEVBQU0sUUFBVSxHQUlsQixHQUZBLEVBQU0sV0FBVyxPQUFPLENBQU8sRUFDL0IsRUFBTSxTQUFTLE9BQU8sQ0FBTyxFQUN6QixJQUFXLEVBQU0sVUFBWSxHQUMvQixFQUFTLEdBRVgsR0FBSSxDQUNGLEVBQVEsTUFBTSxJQUFLLEVBQU8sU0FBUSxRQUFPLEVBQUcsQ0FBTyxRQUM1QyxFQUFQLENBQ0EsRUFBTyxDQUFHLElBR2YsRUFhSCxJQUFJLEdBQW9CLENBQUMsRUFBUSxJQUFZLEVBQVEsUUFBVSxFQUFJLEVBQVEsR0FBSyxFQUFRLEtBQUssQ0FBQyxJQUFXLEVBQU8sU0FBUyxFQUFJLEdBQW1CLEVBQU8sSUFBSSxDQUFDLEVBQUksRUFBUSxNQUFNLENBQUMsSUFBVyxFQUFPLElBQUksRUFBSSxHQUFjLEVBQU8sSUFBSSxDQUFDLEVBQUksR0FDck8sRUFBTyxJQUFJLEVBQ1gsRUFBUSxNQUFNLENBQUMsSUFBVyxFQUFPLFFBQVEsQ0FDM0MsRUFDSSxHQUFnQixDQUFDLEtBQVcsQ0FDOUIsUUFDQSxLQUFNLEdBQ04sU0FBVSxHQUNWLFVBQVcsRUFDYixHQUNJLEdBQW9CLENBQUMsRUFBTyxFQUFVLEVBQVksTUFBVyxDQUMvRCxRQUNBLFdBQ0EsV0FDRixHQUNJLEdBQXFCLENBQUMsS0FBVyxDQUNuQyxRQUNBLFVBQVcsR0FDWCxTQUFVLEVBQ1osR0FHQSxTQUFTLEVBQVEsQ0FBQyxFQUFLLEVBQU8sRUFBTyxFQUFRLENBQzNDLElBQVEsU0FBUSxXQUFVLFVBQVcsR0FDN0IsUUFBUyxFQUFRLFFBQVMsR0FBZ0IsRUFDbEQsSUFBSyxHQUFZLElBQVEsSUFBVyxFQUFNLE1BQ3hDLE9BQU8sRUFFVCxPQUFPLEVBQU0sU0FBVyxTQUFZLENBQ2xDLEVBQU0sUUFBVSxFQUNoQixFQUFNLFFBQVUsRUFDaEIsSUFBTSxFQUFlLEdBQ25CLEVBQ0EsQ0FBQyxFQUFPLElBRU4sSUFBUSxTQUFnQixPQUFJLENBRWhDLEVBQ0ksRUFDQSxFQUNFLEVBQWMsSUFBSSxRQUN0QixDQUFDLEVBQVMsS0FBWSxFQUFjLEVBQVMsRUFBTyxFQUN0RCxFQUNNLEVBQWMsQ0FBQyxJQUFlLENBQ2xDLElBQU0sRUFFSixJQUFXLEVBQU0sVUFBWSxJQUFNLEdBQW1CLENBQU0sR0FDNUQsSUFBVyxFQUFNLFNBQVcsR0FBa0IsRUFBUSxFQUFLLEVBRTdELEdBQUksRUFHRixNQUZBLEVBQVcsT0FBUyxFQUNwQixFQUFLLENBQVUsRUFDVCxHQUdKLEVBQVUsQ0FBQyxFQUFNLElBQVMsQ0FDOUIsSUFBTSxFQUFhLElBQUksR0FDakIsRUFBc0IsSUFBSSxHQUNoQyxPQUFRLFNBQVksQ0FDbEIsR0FBSSxHQUFHLGNBSUwsTUFIQSxHQUFVLENBQUssRUFDZixFQUFvQixPQUFTLEdBQWtCLEVBQVEsRUFBSyxFQUM1RCxFQUFLLENBQW1CLEVBQ2xCLEVBRVIsRUFBWSxDQUFVLEVBQ3RCLElBQU0sRUFBUyxFQUFJLElBQUksQ0FBSSxFQUFJLElBQUssQ0FBSyxFQUFJLElBQUssRUFBTSxHQUFJLENBQUssRUFDakUsRUFBTyxTQUFXLEVBQ2xCLEdBQVUsRUFBYyxDQUFDLEdBQU8sS0FBUSxDQUN0QyxHQUFJLEVBQUksSUFBSSxFQUFPLEdBQUksRUFDckIsRUFBTyxJQUFPLEdBRWpCLEVBQ0QsSUFBTSxHQUFVLE1BQU0sRUFBTyxNQUFNLENBQU0sRUFFekMsR0FEQSxFQUFZLENBQVUsRUFDbEIsRUFBTSxPQUNSLE1BQU0sSUFBSSxRQUFRLENBQUMsS0FBVyxDQUM1QixFQUFNLFlBQVksSUFBSSxFQUFNLEVBQzdCLEVBRUgsT0FBTyxLQUNOLEdBRUQsRUFDSixHQUFJLEdBQUcsY0FFTCxPQURBLEdBQVUsQ0FBSyxFQUNSLEdBQWtCLEVBQVEsRUFBSyxFQUV4QyxHQUFJLENBQ0YsSUFBSSxFQUNKLEdBQUksRUFBSSxJQUFJLENBQUcsRUFDYixHQUFhLE1BQU8sSUFBVSxDQUM1QixRQUFXLEtBQVUsRUFDbkIsTUFBTSxFQUFRLENBQU0sSUFFckIsQ0FBRyxNQUVOLEdBQVksUUFBUSxRQUFRLEVBQUksRUFBUyxFQUFPLEtBQUssS0FBSyxDQUFNLENBQUMsQ0FBQyxFQUVwRSxNQUFNLFFBQVEsSUFBSSxDQUFDLEVBQVUsS0FBSyxDQUFXLEVBQUcsQ0FBVyxDQUFDLEVBQzVELEVBQVMsR0FBa0IsRUFBTyxJQUFJLEVBQUcsR0FBTSxFQUFLLFFBQzdDLEVBQVAsQ0FDQSxHQUFJLGFBQWUsR0FDakIsRUFBUyxFQUFJLGVBQ0osYUFBZSxHQUN4QixFQUFTLEVBQUksV0FFYixPQUFNLFNBRVIsQ0FDQSxHQUFJLEdBQVUsRUFBTSxRQUNsQixFQUFNLFFBQVUsRUFDaEIsRUFBTSxRQUFVLEVBQVcsRUFBYyxPQUN6QyxFQUFNLFFBQVUsRUFBVyxFQUFtQixPQUdsRCxHQUFJLEVBQUksSUFBSSxDQUFNLEVBQ2hCLEdBQUssZUFBZSxJQUFNLENBQ3hCLEVBQU8sRUFBUSxFQUFRLEVBQU8sSUFBSSxFQUNuQyxFQUVILE9BQU8sSUFDTixFQUVMLFNBQVMsRUFBUyxDQUFDLEVBQU8sRUFBVSxDQUtsQyxHQUpBLEdBQU0sRUFBTSxTQUFVLENBQUMsSUFBTSxFQUFFLE9BQU8sQ0FBQyxFQUN2QyxFQUFNLFdBQVcsTUFBTSxFQUN2QixFQUFNLFlBQVksTUFBTSxFQUN4QixFQUFNLFFBQVUsRUFBTSxRQUFVLEVBQU0sUUFBZSxPQUNqRCxFQUNGLEVBQU0sU0FBVyxFQUVyQixJQUFJLEdBQWEsY0FBYyxLQUFNLENBQ25DLFdBQVcsRUFBRyxDQUNaLE1BQ0UseUlBQ0YsRUFFSixFQUNJLEdBQXNCLGNBQWMsS0FBTSxDQUM1QyxXQUFXLEVBQUcsQ0FDWixNQUFNLHFCQUFxQixFQUUvQixFQVdJLEdBQWUsQ0FBQyxJQUFVLGFBQWlCLEdBQzNDLEdBQVMsRUFDVCxHQUFhLGNBQWMsRUFBWSxDQUN6QyxXQUFXLEVBQUcsQ0FDWixNQUFNLEdBQUcsU0FBUyxFQUNsQixLQUFLLEdBQUssS0FDVixLQUFLLFVBQVksS0FFZixTQUFRLEVBQUcsQ0FDYixPQUFPLEtBQUssYUFFVixTQUFRLENBQUMsRUFBVSxDQUNyQixHQUFJLEtBQUssV0FBYSxFQUNwQixLQUFLLFVBQVksRUFDakIsS0FBSyxrQkFBa0IsQ0FBUSxFQUluQyxHQUFHLEVBQUcsQ0FDSixJQUFNLEVBQU8sR0FBWSxJQUFJLEVBQzdCLE9BQU8sR0FBUSxFQUFLLFNBQVMsRUFHL0IsRUFBRSxJQUFJLEVBQU0sQ0FDVixPQUFPLEdBQUcsR0FBRyxLQUFNLENBQUksRUFHekIsV0FBVyxJQUFJLEVBQU0sQ0FFbkIsT0FEQSxHQUFxQixFQUNkLEdBQUcsR0FBRyxLQUFNLENBQUksRUFFekIsTUFBTSxFQUFHLENBQ1AsT0FBTyxLQUFLLElBQUksRUFFbEIsYUFBYSxDQUFDLEVBQU8sQ0FDbkIsR0FBSSxHQUFTLEVBQ1gsS0FBSyxRQUFRLEVBRWpCLGVBQWUsQ0FBQyxFQUFPLENBQ3JCLEdBQUksR0FBUyxFQUNYLEtBQUssUUFBUSxFQUdqQixPQUFPLEVBQUcsRUFHVixPQUFPLEVBQUcsRUFHVixTQUFTLENBQUMsRUFBTyxFQUFPLEdBQU8sQ0FDN0IsR0FBbUIsS0FBTSxDQUN2QixLQUFNLFNBQ04sT0FBUSxLQUNSLFFBQ0EsTUFDRixDQUFDLEVBR0gsaUJBQWlCLENBQUMsRUFBVSxDQUMxQixJQUFLLEtBQUssS0FDUixHQUFVLEtBQUssSUFBSSxFQUVyQixHQUFtQixLQUFNLENBQ3ZCLEtBQU0sV0FDTixPQUFRLEtBQ1IsVUFDRixDQUFDLEVBRUwsRUFHSSxHQUFLLE9BQU8sSUFBSSxhQUFhLEVBQzdCLEdBQWUsRUFDZixHQUFlLEVBQ2YsR0FBWSxFQUNaLEdBQWMsQ0FBQyxLQUFZLEVBQU8sSUFBTSxJQUFnQixFQUN4RCxHQUFjLENBQUMsS0FBWSxFQUFPLElBQU0sSUFBZ0IsRUFDeEQsR0FBVyxDQUFDLEtBQVksRUFBTyxJQUFNLElBQWEsRUFDbEQsR0FBZSxDQUFDLEVBQVEsSUFBVyxFQUFTLEVBQU8sS0FBTyxHQUFlLEdBQWUsRUFBTyxNQUFRLEdBQ3ZHLEdBQWUsQ0FBQyxFQUFRLElBQVcsRUFBUyxFQUFPLEtBQU8sR0FBWSxFQUFPLE1BQVEsR0FHckYsR0FBYyxjQUFjLEVBQVcsQ0FDekMsV0FBVyxDQUFDLEVBQU0sRUFBTSxDQUN0QixNQUFNLEVBb0JOLEdBbEJBLEtBQUssVUFBWSxJQUFJLEdBRXJCLEtBQUssYUFBZSxDQUFDLEVBRXJCLEtBQUssT0FBUyxDQUNaLE9BQVEsR0FDUixRQUFTLEdBQ1QsV0FBNEIsSUFBSSxJQUNoQyxZQUE2QixJQUFJLElBQ2pDLFNBQTBCLElBQUksR0FDaEMsRUFFQSxLQUFLLGNBQWdDLElBQUksSUFFekMsS0FBSyxZQUFjLEVBRW5CLEtBQUssVUFBWSxFQUNqQixLQUFLLGtCQUFvQixHQUNwQixFQUFJLElBQUksQ0FBSSxJQUFNLEVBQUksSUFBSSxDQUFJLEVBQUcsQ0FDcEMsSUFBTSxFQUFRLEVBQUksSUFBSSxDQUFJLEVBQUksSUFBSyxDQUFLLEVBQUksSUFBSyxFQUFNLEtBQU0sQ0FBSyxFQUNsRSxHQUFJLEVBQUksSUFBSSxFQUFNLE9BQU8sRUFDdkIsRUFBTSxRQUFVLEdBRWxCLEtBQUssTUFBTSxDQUFLLE1BSWhCLEtBQUksRUFBRyxDQUNULFFBQVMsR0FBWSxJQUFJLEdBQUssS0FBSyxPQUFPLFVBQVksR0FBUyxJQUFJLEtBRWpFLEtBQUksRUFBRyxDQUNULE9BQU8sR0FBZSxLQUFLLFVBQVUsRUFBRSxLQUVyQyxTQUFRLEVBQUcsQ0FDYixJQUFNLEVBQU8sR0FBYSxJQUFJLEVBQzlCLE9BQU8sYUFBZ0IsR0FBZ0IsRUFBSyxjQUFnQixFQUFJLEVBQUssV0FBVyxFQUFFLElBQUksQ0FBQyxJQUFVLEVBQU0sY0FBZ0IsQ0FBQyxLQUt0SCxZQUFXLEVBQUcsQ0FDaEIsT0FBTyxHQUFZLElBQUksS0FNckIsWUFBVyxFQUFHLENBQ2hCLE9BQU8sR0FBWSxJQUFJLEtBS3JCLFNBQVEsRUFBRyxDQUNiLE9BQU8sR0FBUyxJQUFJLEtBTWxCLFVBQVMsRUFBRyxDQUNkLE9BQU8sS0FBSyxPQUFPLFFBR3JCLE9BQU8sQ0FBQyxFQUFJLENBQ1YsSUFBSSxFQUFPLEdBQ1AsRUFBVSxHQUNSLEVBQU8sS0FBSyxXQUNaLFlBQWEsR0FDWCxPQUFRLEdBQVksRUFDdEIsRUFBVSxHQUFXLEVBQUssRUFBRSxFQUNsQyxJQUFLLEdBQVcsR0FBYyxFQUFLLEVBQUUsRUFDbkMsRUFBVyxHQUFTLEdBQWUsRUFBSyxFQUFFLENBQUMsRUFFN0MsRUFBSyxPQUFPLFFBQVEsQ0FBQyxFQUFPLElBQU0sQ0FDaEMsR0FBSSxFQUFNLEtBQ1IsT0FDRixJQUFNLEVBRUosRUFBTSxhQUFlLEdBQWlCLEVBQUksRUFBVSxFQUFRLEdBQUcsYUFBZSxFQUFTLEdBRXJGLEVBQVcsRUFBSyxVQUNoQixFQUFXLEVBQ2YsSUFBSyxFQUFVLENBRWIsR0FEQSxFQUFXLEVBQU0sYUFDYixFQUFRLFNBQVcsRUFBRyxDQUN4QixFQUFNLEtBQU8sR0FDYixPQUVGLElBQUksRUFBVSxFQUFNLGFBQWUsRUFDN0IsRUFBTyxFQUFLLFdBQVcsR0FDdkIsRUFBSyxFQUFNLElBQU0sS0FBTyxFQUFNLEdBQUssRUFBTSxHQUFLLEVBQUksSUFBSSxFQUFRLFFBQVEsRUFBSSxFQUFRLFNBQVMsR0FBSyxFQUFRLFNBQzFHLEVBQ0UsRUFBWSxFQUFRLFlBQWMsR0FBUSxFQUFNLE1BQU8sS0FBSyxJQUFJLEVBQUcsS0FBSyxJQUFJLEVBQU0sQ0FBSSxFQUFJLEtBQUksR0FDcEcsSUFBSyxFQUFJLElBQUksRUFBUSxRQUFRLEVBQUcsQ0FDOUIsSUFBSSxFQUFJLEVBQ1IsR0FBSSxFQUFRLFNBQVcsRUFBRyxDQUN4QixHQUFJLEtBQUssb0JBQXNCLEVBQVEsVUFFckMsR0FEQSxLQUFLLGtCQUFvQixFQUFRLFNBQzdCLEVBQU0saUJBQW1CLEVBQzNCLEVBQU0sWUFBYyxFQUFRLFNBQVcsRUFBTSxpQkFDN0MsRUFBVSxFQUFNLGFBQWUsRUFHbkMsR0FBSyxFQUFRLFVBQVksR0FBSyxFQUFVLEtBQUssa0JBQzdDLEVBQUksRUFBSSxFQUFJLEVBQUksRUFBSSxFQUFJLEVBQUksRUFDNUIsRUFBTSxpQkFBbUIsRUFFM0IsRUFBVyxFQUFPLEVBQVEsT0FBTyxDQUFDLEdBQUssRUFBTSxHQUM3QyxHQUFZLEVBQVcsRUFBTSxjQUFnQixFQUM3QyxFQUFXLEdBQUssVUFDUCxFQUFRLE1BQU8sQ0FDeEIsSUFBTSxFQUFRLEVBQVEsUUFBVSxHQUFPLE1BQVEsRUFBUSxNQUNqRCxFQUFJLEtBQUssTUFBTSxFQUFJLEdBQVMsQ0FBTyxFQUN6QyxFQUFXLEVBQU8sR0FBTSxFQUFJLElBQVUsRUFBSSxHQUMxQyxFQUFXLEtBQUssSUFBSSxFQUFNLGFBQWUsQ0FBUSxHQUFLLEVBQ3RELEVBQVcsRUFBSyxNQUNYLENBQ0wsRUFBVyxFQUFNLGNBQWdCLEtBQU8sRUFBSyxFQUFNLGFBQ25ELElBQU0sRUFBZSxFQUFRLGNBQWdCLEVBQVksR0FDbkQsRUFBZSxFQUFRLE1BQVEsRUFBSSxFQUFRLE9BQzNDLElBQWEsRUFBSSxJQUFJLENBQVksRUFDakMsR0FBWSxHQUFRLEVBQU0sRUFBTSxHQUFLLEVBQUksRUFBTyxFQUNsRCxHQUNBLEdBQWEsR0FDWCxHQUFPLEVBQ1AsR0FBVyxLQUFLLEtBQUssRUFBSyxFQUFJLEVBQ3BDLFFBQVMsR0FBSSxFQUFHLEdBQUksS0FBWSxHQUFHLENBRWpDLEdBREEsR0FBVyxLQUFLLElBQUksQ0FBUSxFQUFJLEdBQzNCLElBRUgsR0FEQSxFQUFXLEtBQUssSUFBSSxFQUFNLENBQVEsR0FBSyxFQUNuQyxFQUNGLE1BR0osR0FBSSxJQUVGLEdBREEsR0FBYSxHQUFZLEdBQU8sRUFBVyxHQUFPLEdBQzlDLEdBQ0YsR0FBWSxFQUFXLEVBQ3ZCLEVBQVcsRUFHZixJQUFNLElBQWUsRUFBUSxRQUFVLFVBQVEsRUFBVyxHQUNwRCxJQUFnQixFQUFRLFNBQVcsTUFBTyxFQUMxQyxJQUFnQixHQUFjLElBQWdCLEVBQVEsS0FDNUQsRUFBVyxFQUFXLEdBQWUsR0FDckMsRUFBVyxFQUFXLEVBQVcsSUFJckMsR0FEQSxFQUFNLGFBQWUsRUFDakIsT0FBTyxNQUFNLENBQVEsRUFDdkIsUUFBUSxLQUFLLDJCQUE0QixJQUFJLEVBQzdDLEVBQVcsR0FHZixHQUFJLElBQVksRUFBUSxHQUFHLEtBQ3pCLEVBQVcsR0FFYixHQUFJLEVBQ0YsRUFBTSxLQUFPLE9BRWIsR0FBTyxHQUVULEdBQUksRUFBTSxTQUFTLEVBQVUsRUFBUSxLQUFLLEVBQ3hDLEVBQVUsR0FFYixFQUNELElBQU0sRUFBTyxHQUFhLElBQUksRUFDeEIsRUFBVSxFQUFLLFNBQVMsRUFDOUIsR0FBSSxFQUFNLENBQ1IsSUFBTSxFQUFXLEdBQWUsRUFBSyxFQUFFLEVBQ3ZDLElBQUssSUFBWSxHQUFZLEtBQWEsRUFBUSxNQUNoRCxFQUFLLFNBQVMsQ0FBUSxFQUN0QixLQUFLLFVBQVUsQ0FBUSxVQUNkLEdBQVcsRUFBUSxNQUM1QixLQUFLLFVBQVUsQ0FBTyxFQUV4QixLQUFLLE1BQU0sVUFDRixFQUNULEtBQUssVUFBVSxDQUFPLEVBSTFCLEdBQUcsQ0FBQyxFQUFPLENBTVQsT0FMQSxHQUFLLGVBQWUsSUFBTSxDQUN4QixLQUFLLE1BQU0sRUFDWCxLQUFLLE9BQU8sQ0FBSyxFQUNqQixLQUFLLEtBQUssQ0FBSyxFQUNoQixFQUNNLEtBTVQsS0FBSyxFQUFHLENBQ04sS0FBSyxRQUFRLENBQUUsTUFBTyxFQUFLLENBQUMsRUFHOUIsTUFBTSxFQUFHLENBQ1AsS0FBSyxRQUFRLENBQUUsTUFBTyxFQUFNLENBQUMsRUFHL0IsTUFBTSxFQUFHLENBQ1AsR0FBSSxHQUFZLElBQUksRUFBRyxDQUNyQixJQUFRLEdBQUksRUFBSyxPQUFRLEdBQVksS0FBSyxVQUMxQyxHQUFLLGVBQWUsSUFBTSxDQUV4QixHQURBLEtBQUssU0FBUyxHQUNULEVBQVEsTUFDWCxLQUFLLEtBQUssRUFBSyxFQUFLLEVBRXRCLEtBQUssTUFBTSxFQUNaLEVBRUgsT0FBTyxLQUdULE1BQU0sQ0FBQyxFQUFPLENBR1osT0FGYyxLQUFLLFFBQVUsS0FBSyxNQUFRLENBQUMsSUFDckMsS0FBSyxDQUFLLEVBQ1QsS0FFVCxLQUFLLENBQUMsRUFBSyxFQUFNLENBQ2YsSUFBSSxFQUNKLElBQUssRUFBSSxJQUFJLENBQUcsRUFDZCxFQUFRLENBQUMsRUFBSSxJQUFJLENBQUcsRUFBSSxFQUFNLElBQUssRUFBTSxHQUFJLENBQUksQ0FBQyxNQUVsRCxHQUFRLEtBQUssT0FBUyxDQUFDLEVBQ3ZCLEtBQUssTUFBUSxDQUFDLEVBRWhCLE9BQU8sUUFBUSxJQUNiLEVBQU0sSUFBSSxDQUFDLElBQVUsQ0FFbkIsT0FEVyxLQUFLLFFBQVEsQ0FBSyxFQUU5QixDQUNILEVBQUUsS0FBSyxDQUFDLElBQVksR0FBa0IsS0FBTSxDQUFPLENBQUMsRUFPdEQsSUFBSSxDQUFDLEVBQVEsQ0FDWCxJQUFRLEdBQUksR0FBUSxLQUFLLFVBSXpCLE9BSEEsS0FBSyxPQUFPLEtBQUssSUFBSSxDQUFDLEVBQ3RCLEdBQVUsS0FBSyxPQUFRLEdBQVUsS0FBSyxXQUFXLEVBQ2pELEdBQUssZUFBZSxJQUFNLEtBQUssTUFBTSxFQUFLLENBQU0sQ0FBQyxFQUMxQyxLQUdULEtBQUssRUFBRyxDQUNOLEtBQUssUUFBUSxDQUFFLE1BQU8sRUFBSyxDQUFDLEVBRzlCLGFBQWEsQ0FBQyxFQUFPLENBQ25CLEdBQUksRUFBTSxNQUFRLFNBQ2hCLEtBQUssT0FBTyxVQUNILEVBQU0sTUFBUSxXQUN2QixLQUFLLFNBQVcsRUFBTSxTQUFXLEVBU3JDLFlBQVksQ0FBQyxFQUFPLENBQ2xCLElBQU0sRUFBTSxLQUFLLEtBQU8sSUFDbEIsR0FBSSxFQUFLLFFBQVMsRUFFeEIsR0FEQSxFQUFNLEVBQUksSUFBSSxDQUFHLEVBQUksRUFBSSxHQUFPLEVBQzVCLEdBQU8sTUFBUSxHQUFVLENBQUcsRUFDOUIsRUFBVyxPQUdiLEdBREEsRUFBTyxFQUFJLElBQUksQ0FBSSxFQUFJLEVBQUssR0FBTyxFQUMvQixHQUFRLEtBQ1YsRUFBWSxPQUVkLElBQU0sRUFBUSxDQUFFLEdBQUksRUFBSyxNQUFLLEVBQzlCLElBQUssR0FBWSxJQUFJLEVBQUcsQ0FDdEIsR0FBSSxFQUFNLFFBQ1IsQ0FBQyxFQUFLLENBQUksRUFBSSxDQUFDLEVBQU0sQ0FBRyxFQUUxQixHQURBLEVBQU8sR0FBZSxDQUFJLEdBQ3JCLEVBQUksSUFBSSxDQUFJLEVBQ2YsS0FBSyxLQUFLLENBQUksV0FDSixHQUFhLElBQUksRUFDM0IsS0FBSyxLQUFLLENBQUcsRUFHakIsT0FBTyxFQUdULE9BQU8sS0FBTSxHQUFTLEVBQVEsQ0FDNUIsSUFBUSxNQUFLLGdCQUFpQixLQUM5QixHQUFJLEVBQU0sUUFDUixPQUFPLE9BQ0wsRUFDQSxHQUNFLEVBQ0EsQ0FBQyxFQUFPLElBQVMsTUFBTSxLQUFLLENBQUksRUFBSSxHQUFZLEVBQU8sQ0FBRyxFQUFJLENBQ2hFLENBQ0YsRUFDRixHQUFjLEtBQU0sRUFBTyxTQUFTLEVBQ3BDLEdBQVUsS0FBTSxVQUFXLEVBQU8sSUFBSSxFQUN0QyxJQUFNLEVBQVEsS0FBSyxhQUFhLENBQUssRUFDckMsR0FBSSxPQUFPLFNBQVMsSUFBSSxFQUN0QixNQUFNLE1BQ0osNElBQ0YsRUFFRixJQUFNLEVBQVEsS0FBSyxPQUNuQixPQUFPLEtBQWdCLEtBQUssWUFBYSxDQUN2QyxNQUNBLFFBQ0EsZUFDQSxRQUNBLFFBQVMsQ0FDUCxNQUFPLElBQU0sQ0FDWCxJQUFLLEdBQVMsSUFBSSxFQUNoQixHQUFhLEtBQU0sRUFBSSxFQUN2QixHQUFXLEVBQU0sVUFBVSxFQUMzQixHQUNFLEtBQ0EsVUFDQSxHQUFrQixLQUFNLEdBQWMsS0FBTSxLQUFLLFVBQVUsRUFBRSxDQUFDLEVBQzlELElBQ0YsR0FHSixPQUFRLElBQU0sQ0FDWixHQUFJLEdBQVMsSUFBSSxFQUFHLENBRWxCLEdBREEsR0FBYSxLQUFNLEVBQUssRUFDcEIsR0FBWSxJQUFJLEVBQ2xCLEtBQUssUUFBUSxFQUVmLEdBQVcsRUFBTSxXQUFXLEVBQzVCLEdBQ0UsS0FDQSxXQUNBLEdBQWtCLEtBQU0sR0FBYyxLQUFNLEtBQUssVUFBVSxFQUFFLENBQUMsRUFDOUQsSUFDRixJQUdKLE1BQU8sS0FBSyxPQUFPLEtBQUssS0FBTSxDQUFLLENBQ3JDLENBQ0YsQ0FBQyxFQUFFLEtBQUssQ0FBQyxJQUFXLENBQ2xCLEdBQUksRUFBTSxNQUFRLEVBQU8sWUFBYyxHQUFVLEVBQU8sTUFBTyxDQUM3RCxJQUFNLEVBQVksR0FBaUIsQ0FBSyxFQUN4QyxHQUFJLEVBQ0YsT0FBTyxLQUFLLFFBQVEsRUFBVyxFQUFJLEVBR3ZDLE9BQU8sRUFDUixFQUdILE1BQU0sQ0FBQyxFQUFPLEVBQU8sRUFBUyxDQUM1QixHQUFJLEVBQU0sT0FFUixPQURBLEtBQUssS0FBSyxFQUFJLEVBQ1AsRUFBUSxHQUFtQixJQUFJLENBQUMsRUFFekMsSUFBTSxHQUFhLEVBQUksSUFBSSxFQUFNLEVBQUUsRUFDN0IsR0FBZSxFQUFJLElBQUksRUFBTSxJQUFJLEVBQ3ZDLEdBQUksR0FBYSxFQUNmLEdBQUksRUFBTSxPQUFTLEtBQUssVUFDdEIsS0FBSyxVQUFZLEVBQU0sV0FFdkIsUUFBTyxFQUFRLEdBQW1CLElBQUksQ0FBQyxFQUczQyxJQUFRLE1BQUssZUFBYyxVQUFXLEdBQVMsTUFDdkMsR0FBSSxFQUFRLEtBQU0sR0FBYSxHQUNqQyxHQUFJLEVBQU0sRUFBUSxPQUFPLEdBQWEsRUFDNUMsR0FBSSxJQUFnQixLQUFlLEVBQU0sU0FBVyxFQUFJLElBQUksQ0FBRyxHQUM3RCxFQUFNLEVBRVIsR0FBSSxFQUFNLFFBQ1IsQ0FBQyxFQUFLLENBQUksRUFBSSxDQUFDLEVBQU0sQ0FBRyxFQUMxQixJQUFNLEdBQWtCLEdBQVEsRUFBTSxDQUFRLEVBQzlDLEdBQUksRUFDRixFQUFLLEtBQU8sRUFFZCxFQUFPLEdBQWUsQ0FBSSxFQUMxQixJQUFNLEdBQWdCLEdBQVEsRUFBSyxDQUFNLEVBQ3pDLEdBQUksRUFDRixLQUFLLE9BQU8sQ0FBRyxFQUVqQixJQUFNLEVBQWEsR0FBVSxFQUFNLEVBQUUsR0FDN0IsT0FBUSxHQUFZLEdBQ3BCLFFBQU8sWUFBYSxFQUM1QixHQUFJLEdBQWEsRUFDZixFQUFRLFNBQVcsRUFFckIsR0FBSSxFQUFNLFNBQVcsRUFDbkIsR0FDRSxFQUNBLEdBQVMsRUFBTSxPQUFRLENBQUcsRUFFMUIsRUFBTSxTQUFXLEVBQWEsT0FBUyxHQUFTLEVBQWEsT0FBUSxDQUFHLEVBQVMsTUFDbkYsRUFFRixJQUFJLEVBQU8sR0FBYSxJQUFJLEVBQzVCLElBQUssR0FBUSxFQUFJLElBQUksQ0FBRyxFQUN0QixPQUFPLEVBQVEsR0FBa0IsS0FBTSxFQUFJLENBQUMsRUFFOUMsSUFBTSxFQUlKLEVBQUksSUFBSSxFQUFNLEtBQUssRUFBSSxJQUFnQixFQUFNLFNBQVcsRUFBSSxJQUFJLENBQUksR0FBSyxHQUFVLEVBQU0sTUFBTyxDQUFHLEVBRS9GLEVBQVEsRUFBUSxFQUFPLEtBQUssSUFBSSxFQUNoQyxHQUFPLEdBQVksQ0FBRyxFQUN0QixHQUFlLEVBQUksSUFBSSxFQUFJLEdBQUssRUFBSSxJQUFJLEVBQUksR0FBSyxHQUFrQixFQUFJLEVBQ3ZFLElBQWEsS0FBZ0IsSUFBZ0IsR0FBVSxFQUFhLFdBQWEsRUFBTSxVQUFXLENBQUcsR0FDM0csR0FBSSxFQUFjLENBQ2hCLElBQU0sR0FBVyxHQUFnQixDQUFHLEVBQ3BDLEdBQUksS0FBYSxFQUFLLFlBQ3BCLEdBQUksR0FDRixFQUFPLEtBQUssS0FBSyxFQUFJLE1BRXJCLE9BQU0sTUFDSiwwQkFBMEIsRUFBSyxZQUFZLFlBQVksR0FBUyxpQ0FDbEUsRUFHTixJQUFNLEdBQVcsRUFBSyxZQUNsQixHQUFVLEdBQWMsQ0FBRyxFQUMzQixHQUFXLEdBQ2YsSUFBSyxHQUFTLENBQ1osSUFBTSxHQUFrQixJQUFVLEdBQVksSUFBSSxHQUFLLEVBQ3ZELEdBQUksR0FBZ0IsR0FDbEIsR0FBVyxHQUFRLEdBQVksQ0FBSyxFQUFHLEVBQUksRUFDM0MsSUFBVyxHQUViLElBQUssR0FBUSxFQUFLLFVBQVcsRUFBUyxJQUFNLEtBQWMsR0FBUSxFQUFRLE1BQU8sQ0FBSyxJQUFNLEdBQVEsRUFBUSxTQUFVLENBQVEsRUFDNUgsR0FBVSxHQUdkLEdBQUksSUFBWSxHQUFZLElBQUksR0FDOUIsR0FBSSxFQUFLLFVBQVksRUFDbkIsR0FBVSxZQUNBLEdBQ1YsS0FBSyxNQUFNLENBQU0sRUFHckIsSUFBSyxFQUFZLENBQ2YsR0FBSSxJQUFXLEdBQWMsQ0FBTSxFQUNqQyxFQUFLLE9BQVMsRUFBSyxXQUFXLEVBQzlCLEVBQUssU0FBVyxHQUFjLENBQUcsRUFBSSxLQUFPLElBQVksR0FBaUIsQ0FBQyxDQUFDLEVBQUksR0FBUyxFQUFJLEVBRTlGLEdBQUksRUFBSyxXQUFhLElBRXBCLEdBREEsRUFBSyxVQUFZLElBQ1osS0FBYyxFQUNqQixLQUFLLEtBQUssQ0FBTSxFQUdwQixHQUFJLEdBQVMsQ0FDWCxJQUFRLFdBQVcsRUFDbkIsR0FBTSxHQUFlLENBQUMsS0FBUyxHQUFjLEtBQU0sRUFBTyxFQUFJLENBQUMsRUFDL0QsSUFBTSxHQUFTLEdBQWtCLEtBQU0sR0FBYyxLQUFNLENBQU0sQ0FBQyxFQUdsRSxHQUZBLEdBQVcsS0FBSyxjQUFlLEVBQU0sRUFDckMsS0FBSyxjQUFjLElBQUksQ0FBTyxFQUMxQixFQUFLLFFBQ1AsR0FBSyxlQUFlLElBQU0sQ0FHeEIsR0FGQSxFQUFLLFNBQVcsRUFDaEIsS0FBUyxHQUFRLElBQUksRUFDakIsRUFDRixHQUFTLEVBQWEsT0FBUSxFQUFNLE1BRXBDLEdBQUssVUFBVSxHQUFRLElBQUksRUFFOUIsR0FHUCxHQUFJLEVBQ0YsS0FBSyxLQUFLLENBQUssRUFFakIsR0FBSSxFQUNGLEVBQVEsR0FBUyxFQUFNLEdBQUksRUFBTyxLQUFLLE9BQVEsSUFBSSxDQUFDLFVBQzNDLEdBQ1QsS0FBSyxPQUFPLFVBQ0gsR0FBWSxJQUFJLElBQU0sRUFDL0IsS0FBSyxjQUFjLElBQUksQ0FBTyxNQUU5QixHQUFRLEdBQWMsQ0FBSyxDQUFDLEVBSWhDLE1BQU0sQ0FBQyxFQUFPLENBQ1osSUFBTSxFQUFPLEtBQUssVUFDbEIsR0FBSSxJQUFVLEVBQUssR0FBSSxDQUNyQixHQUFJLEdBQWtCLElBQUksRUFDeEIsS0FBSyxRQUFRLEVBR2YsR0FEQSxFQUFLLEdBQUssRUFDTixHQUFrQixJQUFJLEVBQ3hCLEtBQUssUUFBUSxHQUluQixPQUFPLEVBQUcsQ0FDUixJQUFJLEVBQVcsR0FDUCxHQUFJLEdBQVEsS0FBSyxVQUN6QixHQUFJLEdBQWMsQ0FBRyxHQUVuQixHQURBLEdBQWlCLEVBQUssSUFBSSxFQUN0QixHQUFhLENBQUcsRUFDbEIsRUFBVyxFQUFJLFNBQVcsRUFHOUIsS0FBSyxTQUFXLEVBRWxCLE9BQU8sRUFBRyxDQUNSLElBQVEsR0FBSSxHQUFRLEtBQUssVUFDekIsR0FBSSxHQUFjLENBQUcsRUFDbkIsR0FBb0IsRUFBSyxJQUFJLEVBT2pDLElBQUksQ0FBQyxFQUFLLEVBQU8sR0FBTSxDQUNyQixJQUFNLEVBQVEsR0FBZSxDQUFHLEVBQ2hDLElBQUssRUFBSSxJQUFJLENBQUssRUFBRyxDQUNuQixJQUFNLEVBQVUsR0FBYSxJQUFJLEVBQ2pDLElBQUssSUFBWSxHQUFRLEVBQU8sRUFBUSxTQUFTLENBQUMsRUFBRyxDQUNuRCxJQUFNLEVBQVcsR0FBZ0IsQ0FBSyxFQUN0QyxJQUFLLEdBQVcsRUFBUSxhQUFlLEVBQ3JDLEdBQVksS0FBTSxFQUFTLE9BQU8sQ0FBSyxDQUFDLE1BRXhDLEdBQVEsU0FBUyxDQUFLLEVBRXhCLEdBQUksRUFDRixHQUFLLGVBQWUsSUFBTSxDQUN4QixLQUFLLFVBQVUsRUFBTyxDQUFJLEVBQzNCLEdBSVAsT0FBTyxHQUFhLElBQUksRUFFMUIsUUFBUSxFQUFHLENBQ1QsSUFBTSxFQUFPLEtBQUssVUFDbEIsSUFBSyxFQUFLLFFBQ1IsRUFBSyxRQUFVLEdBQ2YsR0FDRSxLQUNBLFVBQ0EsR0FBa0IsS0FBTSxHQUFjLEtBQU0sRUFBSyxFQUFFLENBQUMsRUFDcEQsSUFDRixFQUdKLFNBQVMsQ0FBQyxFQUFPLEVBQU0sQ0FDckIsSUFBSyxFQUNILEtBQUssU0FBUyxFQUNkLEdBQVMsS0FBSyxVQUFVLFNBQVUsRUFBTyxJQUFJLEVBRS9DLEdBQVMsS0FBSyxhQUFhLFNBQVUsRUFBTyxJQUFJLEVBQ2hELE1BQU0sVUFBVSxFQUFPLENBQUksRUFLN0IsTUFBTSxFQUFHLENBQ1AsSUFBTSxFQUFPLEtBQUssVUFFbEIsR0FEQSxHQUFhLElBQUksRUFBRSxNQUFNLEdBQWUsRUFBSyxFQUFFLENBQUMsR0FDM0MsRUFBSyxVQUNSLEVBQUssV0FBYSxFQUFLLE9BQU8sSUFBSSxDQUFDLElBQVMsRUFBSyxZQUFZLEVBRS9ELElBQUssR0FBWSxJQUFJLEdBRW5CLEdBREEsR0FBYSxLQUFNLEVBQUksR0FDbEIsR0FBUyxJQUFJLEVBQ2hCLEtBQUssUUFBUSxHQUluQixPQUFPLEVBQUcsQ0FDUixHQUFJLEdBQUcsY0FDTCxLQUFLLE9BQU8sTUFFWixJQUFXLE1BQU0sSUFBSSxFQVF6QixLQUFLLENBQUMsRUFBTSxFQUFRLENBQ2xCLEdBQUksR0FBWSxJQUFJLEVBQUcsQ0FDckIsR0FBYSxLQUFNLEVBQUssRUFDeEIsSUFBTSxFQUFPLEtBQUssVUFJbEIsR0FIQSxHQUFNLEVBQUssT0FBUSxDQUFDLElBQVMsQ0FDM0IsRUFBSyxLQUFPLEdBQ2IsRUFDRyxFQUFLLFNBQ1AsRUFBSyxTQUFXLEVBQUssUUFBVSxFQUFLLFNBQWdCLE9BRXRELEdBQW9CLEtBQU0sQ0FDeEIsS0FBTSxPQUNOLE9BQVEsSUFDVixDQUFDLEVBQ0QsSUFBTSxFQUFTLEVBQVMsR0FBbUIsS0FBSyxJQUFJLENBQUMsRUFBSSxHQUFrQixLQUFLLElBQUksRUFBRyxHQUFjLEtBQU0sR0FBUSxFQUFLLEVBQUUsQ0FBQyxFQUUzSCxHQURBLEdBQVcsS0FBSyxjQUFlLENBQU0sRUFDakMsRUFBSyxRQUNQLEVBQUssUUFBVSxHQUNmLEdBQVUsS0FBTSxTQUFVLEVBQVEsSUFBSSxHQUk5QyxFQUNBLFNBQVMsRUFBYSxDQUFDLEVBQVEsRUFBSyxDQUNsQyxJQUFNLEVBQU8sR0FBWSxDQUFHLEVBQ3RCLEVBQVEsR0FBWSxFQUFPLElBQUksQ0FBQyxFQUN0QyxPQUFPLEdBQVEsRUFBTyxDQUFJLEVBRTVCLFNBQVMsRUFBZ0IsQ0FBQyxFQUFPLEVBQU8sRUFBTSxLQUFNLEVBQU0sRUFBTSxHQUFJLENBQ2xFLElBQU0sRUFBVSxHQUFTLENBQUksRUFDN0IsR0FBSSxFQUFTLENBQ1gsSUFBTSxFQUFZLElBQVksSUFBUSxHQUFRLENBQU8sRUFDL0MsR0FBVyxHQUFhLEdBQU8sUUFDL0IsR0FBUyxHQUFhLEVBQVUsTUFDdEMsT0FBTyxHQUFhLElBQ2YsRUFDSCxPQUVBLFFBQVMsR0FFVCxNQUFZLE9BSVosSUFBSyxHQUFXLEdBQVUsQ0FBRyxFQUFJLEVBQVcsT0FFNUMsS0FBTSxFQUFRLEVBQU0sS0FBWSxPQUNoQyxXQUdHLENBQ0wsQ0FBQyxHQUdMLFNBQVMsRUFBWSxDQUFDLEVBQU8sQ0FDM0IsSUFBUSxHQUFJLEVBQUssUUFBUyxFQUFRLEdBQVEsQ0FBSyxFQUN6QyxFQUF1QixJQUFJLElBQ2pDLEdBQUksRUFBSSxJQUFJLENBQUcsRUFDYixHQUFZLEVBQUssQ0FBSSxFQUN2QixHQUFJLEVBQUksSUFBSSxDQUFJLEVBQ2QsR0FBWSxFQUFNLENBQUksRUFFeEIsT0FEQSxFQUFNLEtBQU8sRUFBSyxLQUFPLE1BQU0sS0FBSyxDQUFJLEVBQUksS0FDckMsRUFFVCxTQUFTLEVBQWEsQ0FBQyxFQUFPLENBQzVCLElBQU0sRUFBVSxHQUFhLENBQUssRUFDbEMsR0FBSSxFQUFJLElBQUksRUFBUSxPQUFPLEVBQ3pCLEVBQVEsUUFBVSxHQUFnQixDQUFPLEVBRTNDLE9BQU8sRUFFVCxTQUFTLEVBQVcsQ0FBQyxFQUFRLEVBQU0sQ0FDakMsR0FBVSxFQUFRLENBQUMsRUFBTyxJQUFRLEdBQVMsTUFBUSxFQUFLLElBQUksQ0FBRyxDQUFDLEVBRWxFLElBQUksR0FBZ0IsQ0FDbEIsVUFDQSxTQUNBLFdBQ0EsVUFDQSxVQUNGLEVBQ0EsU0FBUyxFQUFhLENBQUMsRUFBUSxFQUFPLEVBQU0sQ0FDMUMsRUFBTyxVQUFVLEdBQVEsRUFBTSxLQUFVLEdBQWUsRUFBTyxDQUFJLEVBQUksR0FBWSxFQUFNLEdBQU8sRUFBTyxHQUFHLEVBQVMsT0FFckgsU0FBUyxFQUFTLENBQUMsRUFBUSxLQUFTLEVBQU0sQ0FDeEMsRUFBTyxVQUFVLEtBQVEsR0FBRyxDQUFJLEVBQ2hDLEVBQU8sYUFBYSxLQUFRLEdBQUcsQ0FBSSxFQWVyQyxJQUFJLEdBQWlCLENBQUMsVUFBVyxXQUFZLFFBQVEsRUFDakQsR0FBVSxFQUNWLEdBQWEsS0FBTSxDQUNyQixXQUFXLENBQUMsRUFBTyxFQUFRLENBNEJ6QixHQTNCQSxLQUFLLEdBQUssS0FFVixLQUFLLFFBQVUsQ0FBQyxFQUVoQixLQUFLLE1BQVEsQ0FBQyxFQUVkLEtBQUssYUFBZSxFQUVwQixLQUFLLFFBQTBCLElBQUksSUFFbkMsS0FBSyxTQUEyQixJQUFJLElBRXBDLEtBQUssU0FBVyxHQUVoQixLQUFLLE9BQVMsQ0FDWixPQUFRLEdBQ1IsV0FBNEIsSUFBSSxJQUNoQyxZQUE2QixJQUFJLElBQ2pDLFNBQTBCLElBQUksR0FDaEMsRUFFQSxLQUFLLFFBQVUsQ0FDYixRQUF5QixJQUFJLElBQzdCLFNBQTBCLElBQUksSUFDOUIsT0FBd0IsSUFBSSxHQUM5QixFQUNBLEtBQUssU0FBVyxLQUFLLFNBQVMsS0FBSyxJQUFJLEVBQ25DLEVBQ0YsS0FBSyxPQUFTLEVBRWhCLEdBQUksRUFDRixLQUFLLE1BQU0sQ0FBRSxRQUFTLE1BQVMsQ0FBTSxDQUFDLEtBT3RDLEtBQUksRUFBRyxDQUNULE9BQVEsS0FBSyxPQUFPLFNBQVcsT0FBTyxPQUFPLEtBQUssT0FBTyxFQUFFLE1BQU0sQ0FBQyxJQUFXLENBQzNFLE9BQU8sRUFBTyxPQUFTLEVBQU8sWUFBYyxFQUFPLFNBQ3BELEtBRUMsS0FBSSxFQUFHLENBQ1QsT0FBTyxLQUFLLFNBRVYsS0FBSSxDQUFDLEVBQU0sQ0FDYixLQUFLLE1BQVEsRUFHZixHQUFHLEVBQUcsQ0FDSixJQUFNLEVBQVMsQ0FBQyxFQUVoQixPQURBLEtBQUssS0FBSyxDQUFDLEVBQVEsSUFBUSxFQUFPLEdBQU8sRUFBTyxJQUFJLENBQUMsRUFDOUMsRUFHVCxHQUFHLENBQUMsRUFBUSxDQUNWLFFBQVcsS0FBTyxFQUFRLENBQ3hCLElBQU0sRUFBUSxFQUFPLEdBQ3JCLElBQUssRUFBSSxJQUFJLENBQUssRUFDaEIsS0FBSyxRQUFRLEdBQUssSUFBSSxDQUFLLEdBS2pDLE1BQU0sQ0FBQyxFQUFPLENBQ1osR0FBSSxFQUNGLEtBQUssTUFBTSxLQUFLLEdBQWEsQ0FBSyxDQUFDLEVBRXJDLE9BQU8sS0FTVCxLQUFLLENBQUMsRUFBTyxDQUNYLElBQU0sU0FBVSxLQUNoQixHQUFJLEVBQ0YsRUFBUSxHQUFTLENBQUssRUFBRSxJQUFJLEVBQVksTUFFeEMsTUFBSyxNQUFRLENBQUMsRUFFaEIsR0FBSSxLQUFLLE9BQ1AsT0FBTyxLQUFLLE9BQU8sS0FBTSxDQUFLLEVBR2hDLE9BREEsR0FBWSxLQUFNLENBQUssRUFDaEIsR0FBaUIsS0FBTSxDQUFLLEVBR3JDLElBQUksQ0FBQyxFQUFLLEVBQU0sQ0FDZCxHQUFJLE1BQVUsRUFDWixFQUFPLEVBRVQsR0FBSSxFQUFNLENBQ1IsSUFBTSxFQUFVLEtBQUssUUFDckIsR0FBTSxHQUFTLENBQUksRUFBRyxDQUFDLElBQVEsRUFBUSxHQUFLLE9BQU8sQ0FBRyxDQUFDLE1BRXZELElBQVUsS0FBSyxPQUFRLEtBQUssWUFBWSxFQUN4QyxLQUFLLEtBQUssQ0FBQyxJQUFXLEVBQU8sT0FBTyxDQUFHLENBQUMsRUFFMUMsT0FBTyxLQUdULEtBQUssQ0FBQyxFQUFNLENBQ1YsR0FBSSxFQUFJLElBQUksQ0FBSSxFQUNkLEtBQUssTUFBTSxDQUFFLE1BQU8sRUFBSyxDQUFDLE1BQ3JCLENBQ0wsSUFBTSxFQUFVLEtBQUssUUFDckIsR0FBTSxHQUFTLENBQUksRUFBRyxDQUFDLElBQVEsRUFBUSxHQUFLLE1BQU0sQ0FBQyxFQUVyRCxPQUFPLEtBR1QsTUFBTSxDQUFDLEVBQU0sQ0FDWCxHQUFJLEVBQUksSUFBSSxDQUFJLEVBQ2QsS0FBSyxNQUFNLENBQUUsTUFBTyxFQUFNLENBQUMsTUFDdEIsQ0FDTCxJQUFNLEVBQVUsS0FBSyxRQUNyQixHQUFNLEdBQVMsQ0FBSSxFQUFHLENBQUMsSUFBUSxFQUFRLEdBQUssT0FBTyxDQUFDLEVBRXRELE9BQU8sS0FHVCxJQUFJLENBQUMsRUFBVSxDQUNiLEdBQVUsS0FBSyxRQUFTLENBQVEsRUFHbEMsUUFBUSxFQUFHLENBQ1QsSUFBUSxVQUFTLFdBQVUsVUFBVyxLQUFLLFFBQ3JDLEVBQVMsS0FBSyxRQUFRLEtBQU8sRUFDN0IsRUFBVSxLQUFLLFNBQVMsS0FBTyxFQUNyQyxHQUFJLElBQVcsS0FBSyxVQUFZLElBQVksS0FBSyxTQUMvQyxLQUFLLFNBQVcsR0FDaEIsR0FBTyxFQUFTLEVBQUUsRUFBVSxLQUFZLENBQ3RDLEVBQU8sTUFBUSxLQUFLLElBQUksRUFDeEIsRUFBUyxFQUFRLEtBQU0sS0FBSyxLQUFLLEVBQ2xDLEVBRUgsSUFBTSxHQUFRLEdBQVUsS0FBSyxTQUN2QixFQUFTLEdBQVcsR0FBUSxFQUFPLEtBQU8sS0FBSyxJQUFJLEVBQUksS0FDN0QsR0FBSSxHQUFXLEVBQVMsS0FDdEIsR0FBTyxFQUFVLEVBQUUsRUFBVyxLQUFZLENBQ3hDLEVBQU8sTUFBUSxFQUNmLEVBQVUsRUFBUSxLQUFNLEtBQUssS0FBSyxFQUNuQyxFQUVILEdBQUksRUFDRixLQUFLLFNBQVcsR0FDaEIsR0FBTyxFQUFRLEVBQUUsRUFBUyxLQUFZLENBQ3BDLEVBQU8sTUFBUSxFQUNmLEVBQVEsRUFBUSxLQUFNLEtBQUssS0FBSyxFQUNqQyxFQUlMLGFBQWEsQ0FBQyxFQUFPLENBQ25CLEdBQUksRUFBTSxNQUFRLFVBRWhCLEdBREEsS0FBSyxTQUFTLElBQUksRUFBTSxNQUFNLEdBQ3pCLEVBQU0sS0FDVCxLQUFLLFFBQVEsSUFBSSxFQUFNLE1BQU0sVUFFdEIsRUFBTSxNQUFRLE9BQ3ZCLEtBQUssUUFBUSxPQUFPLEVBQU0sTUFBTSxNQUVoQyxRQUNGLEdBQUssUUFBUSxLQUFLLFFBQVEsRUFFOUIsRUFDQSxTQUFTLEVBQWdCLENBQUMsRUFBTSxFQUFPLENBQ3JDLE9BQU8sUUFBUSxJQUFJLEVBQU0sSUFBSSxDQUFDLElBQVUsR0FBWSxFQUFNLENBQUssQ0FBQyxDQUFDLEVBQUUsS0FDakUsQ0FBQyxJQUFZLEdBQWtCLEVBQU0sQ0FBTyxDQUM5QyxFQUVGLGVBQWUsRUFBVyxDQUFDLEVBQU0sRUFBTyxFQUFRLENBQzlDLElBQVEsT0FBTSxHQUFJLEVBQUssT0FBTSxPQUFNLFNBQVEsYUFBYyxFQUNuRCxFQUFZLEVBQUksSUFBSSxFQUFNLE9BQU8sR0FBSyxFQUFNLFFBQ2xELEdBQUksRUFDRixFQUFNLEtBQU8sR0FFZixHQUFJLElBQVEsR0FDVixFQUFNLEdBQUssS0FDYixHQUFJLElBQVMsR0FDWCxFQUFNLEtBQU8sS0FDZixJQUFNLEVBQVUsRUFBSSxJQUFJLENBQUcsR0FBSyxFQUFJLElBQUksQ0FBRyxFQUFJLEVBQVcsT0FDMUQsR0FBSSxHQUdGLEdBRkEsRUFBTSxHQUFVLE9BQ2hCLEVBQU0sT0FBYyxPQUNoQixFQUNGLEVBQVUsT0FBYyxXQUcxQixJQUFNLEdBQWdCLENBQUMsSUFBUSxDQUM3QixJQUFNLEVBQVUsRUFBTSxHQUN0QixHQUFJLEVBQUksSUFBSSxDQUFPLEVBQUcsQ0FDcEIsSUFBTSxFQUFRLEVBQUssUUFBVyxHQWdCOUIsR0FmQSxFQUFNLEdBQU8sRUFBRyxXQUFVLGVBQWdCLENBQ3hDLElBQU0sRUFBVSxFQUFNLElBQUksQ0FBTyxFQUNqQyxHQUFJLEVBQVMsQ0FDWCxJQUFLLEVBQ0gsRUFBUSxTQUFXLEdBQ3JCLEdBQUksRUFDRixFQUFRLFVBQVksT0FFdEIsR0FBTSxJQUFJLEVBQVMsQ0FDakIsTUFBTyxLQUNQLFNBQVUsR0FBWSxHQUN0QixVQUFXLEdBQWEsRUFDMUIsQ0FBQyxHQUdELEVBQ0YsRUFBVSxHQUFPLEVBQU0sSUFHNUIsRUFFSCxJQUFNLEVBQVEsRUFBSyxPQUNuQixHQUFJLEVBQU0sU0FBVyxFQUFNLE9BQ3pCLEVBQU0sT0FBUyxFQUFNLE1BQ3JCLEdBQVksRUFBTSxNQUFRLEVBQU0sV0FBYSxFQUFNLFdBQVcsVUFDckQsRUFBTSxPQUNmLEVBQU0sTUFBUSxHQUVoQixJQUFNLEdBQVksR0FBUSxPQUFPLEtBQUssRUFBSyxPQUFPLEdBQUcsSUFDbkQsQ0FBQyxJQUFRLEVBQUssUUFBUSxHQUFLLE1BQU0sQ0FBSyxDQUN4QyxFQUNNLEVBQVMsRUFBTSxTQUFXLElBQVEsR0FBZSxFQUFPLFFBQVEsSUFBTSxHQUM1RSxHQUFJLEdBQVcsR0FBVSxFQUFNLFFBQzdCLEVBQVMsS0FDUCxLQUFnQixFQUFLLGFBQWlCLENBQ3BDLFFBQ0EsUUFDQSxRQUFTLENBQ1AsTUFBTyxHQUNQLE9BQVEsR0FDUixLQUFLLENBQUMsRUFBUSxFQUFTLENBQ3JCLEdBQUksRUFDRixHQUFVLEVBQU8sRUFBSyxZQUFlLEVBQ3JDLEVBQVEsR0FBbUIsQ0FBSSxDQUFDLE1BRWhDLEdBQU8sT0FBUyxFQUNoQixFQUNFLEdBQ0UsRUFDQSxFQUNBLEVBQ0EsQ0FDRixDQUNGLEVBR04sQ0FDRixDQUFDLENBQ0gsRUFFRixHQUFJLEVBQU0sT0FDUixNQUFNLElBQUksUUFBUSxDQUFDLElBQVcsQ0FDNUIsRUFBTSxZQUFZLElBQUksQ0FBTSxFQUM3QixFQUVILElBQU0sRUFBUyxHQUFrQixFQUFNLE1BQU0sUUFBUSxJQUFJLENBQVEsQ0FBQyxFQUNsRSxHQUFJLEdBQVEsRUFBTyxZQUFjLEdBQVUsRUFBTyxNQUFPLENBQ3ZELElBQU0sRUFBWSxHQUFpQixFQUFPLEVBQU0sQ0FBRyxFQUNuRCxHQUFJLEVBRUYsT0FEQSxHQUFZLEVBQU0sQ0FBQyxDQUFTLENBQUMsRUFDdEIsR0FBWSxFQUFNLEVBQVcsRUFBSSxFQUc1QyxHQUFJLEVBQ0YsR0FBSyxlQUFlLElBQU0sRUFBVSxFQUFRLEVBQU0sRUFBSyxJQUFJLENBQUMsRUFFOUQsT0FBTyxFQUVULFNBQVMsRUFBVSxDQUFDLEVBQU0sRUFBTyxDQUMvQixJQUFNLEVBQVUsSUFBSyxFQUFLLE9BQVEsRUFDbEMsR0FBSSxFQUNGLEdBQU0sR0FBUyxDQUFLLEVBQUcsQ0FBQyxJQUFXLENBQ2pDLEdBQUksRUFBSSxJQUFJLEVBQU8sSUFBSSxFQUNyQixFQUFTLEdBQWEsQ0FBTSxFQUU5QixJQUFLLEVBQUksSUFBSSxFQUFPLEVBQUUsRUFDcEIsRUFBUyxJQUFLLEVBQVEsR0FBUyxNQUFFLEVBRW5DLEdBQWUsRUFBUyxFQUFRLENBQUMsSUFBUSxDQUN2QyxPQUFPLEdBQWEsQ0FBRyxFQUN4QixFQUNGLEVBR0gsT0FEQSxHQUFXLEVBQU0sQ0FBTyxFQUNqQixFQUVULFNBQVMsRUFBVSxDQUFDLEVBQU0sRUFBUyxDQUNqQyxHQUFVLEVBQVMsQ0FBQyxFQUFRLElBQVEsQ0FDbEMsSUFBSyxFQUFLLFFBQVEsR0FDaEIsRUFBSyxRQUFRLEdBQU8sRUFDcEIsR0FBa0IsRUFBUSxDQUFJLEVBRWpDLEVBRUgsU0FBUyxFQUFZLENBQUMsRUFBSyxFQUFVLENBQ25DLElBQU0sRUFBUyxJQUFJLEdBRW5CLEdBREEsRUFBTyxJQUFNLEVBQ1QsRUFDRixHQUFrQixFQUFRLENBQVEsRUFFcEMsT0FBTyxFQUVULFNBQVMsRUFBYyxDQUFDLEVBQVMsRUFBTyxFQUFRLENBQzlDLEdBQUksRUFBTSxLQUNSLEdBQU0sRUFBTSxLQUFNLENBQUMsSUFBUSxDQUV6QixDQURlLEVBQVEsS0FBUyxFQUFRLEdBQU8sRUFBTyxDQUFHLElBQ2xELGFBQWdCLENBQUssRUFDN0IsRUFHTCxTQUFTLEVBQVcsQ0FBQyxFQUFNLEVBQU8sQ0FDaEMsR0FBTSxFQUFPLENBQUMsSUFBVSxDQUN0QixHQUFlLEVBQUssUUFBUyxFQUFPLENBQUMsSUFBUSxDQUMzQyxPQUFPLEdBQWEsRUFBSyxDQUFJLEVBQzlCLEVBQ0YsRUFPSCxJQUFJLEdBQWdCLEVBQ2xCLGNBQ0csS0FDQyxDQUNKLElBQU0sRUFBWSxjQUFXLEVBQUcsRUFDMUIsRUFBUSxFQUFNLFNBQVcsRUFBVSxNQUFPLEVBQVksRUFBTSxhQUFlLEVBQVUsVUFDM0YsRUFBUSxHQUFXLEtBQU8sQ0FBRSxRQUFPLFdBQVUsR0FBSSxDQUFDLEVBQU8sQ0FBUyxDQUFDLEVBQ25FLElBQVEsWUFBYSxHQUNyQixPQUE2QixpQkFBYyxFQUFVLENBQUUsTUFBTyxDQUFNLEVBQUcsQ0FBUSxHQUU3RSxHQUFNLEdBQVksR0FBZSxDQUFDLENBQUMsRUFDdkMsR0FBYyxTQUFXLEdBQUksU0FDN0IsR0FBYyxTQUFXLEdBQUksU0FDN0IsU0FBUyxFQUFXLENBQUMsRUFBUSxFQUFNLENBSWpDLE9BSEEsT0FBTyxPQUFPLEVBQWMsaUJBQWMsQ0FBSSxDQUFDLEVBQy9DLEVBQU8sU0FBUyxTQUFXLEVBQzNCLEVBQU8sU0FBUyxTQUFXLEVBQ3BCLEVBS1QsSUFBSSxHQUFZLElBQU0sQ0FDcEIsSUFBTSxFQUFVLENBQUMsRUFDWCxVQUFxQixDQUFDLEVBQU8sQ0FDakMsR0FBb0IsRUFDcEIsSUFBTSxFQUFVLENBQUMsRUFXakIsT0FWQSxHQUFNLEVBQVMsQ0FBQyxFQUFNLElBQU0sQ0FDMUIsR0FBSSxFQUFJLElBQUksQ0FBSyxFQUNmLEVBQVEsS0FBSyxFQUFLLE1BQU0sQ0FBQyxNQUNwQixDQUNMLElBQU0sRUFBVSxFQUFVLEVBQU8sRUFBTSxDQUFDLEVBQ3hDLEdBQUksRUFDRixFQUFRLEtBQUssRUFBSyxNQUFNLENBQU8sQ0FBQyxHQUdyQyxFQUNNLEdBRVQsRUFBVyxRQUFVLEVBQ3JCLEVBQVcsWUFBYyxDQUFDLEVBQU0sQ0FDOUIsSUFBSyxFQUFRLFNBQVMsQ0FBSSxFQUN4QixFQUFRLEtBQUssQ0FBSSxHQUdyQixFQUFXLGVBQWlCLENBQUMsRUFBTSxDQUNqQyxJQUFNLEVBQUksRUFBUSxRQUFRLENBQUksRUFDOUIsSUFBSyxFQUNILEVBQVEsT0FBTyxFQUFHLENBQUMsR0FFdkIsRUFBVyxjQUFnQixFQUFHLENBRTVCLE9BREEsR0FBTSxFQUFTLENBQUMsSUFBUyxFQUFLLE1BQU0sR0FBRyxTQUFTLENBQUMsRUFDMUMsTUFFVCxFQUFXLGVBQWlCLEVBQUcsQ0FFN0IsT0FEQSxHQUFNLEVBQVMsQ0FBQyxJQUFTLEVBQUssT0FBTyxHQUFHLFNBQVMsQ0FBQyxFQUMzQyxNQUVULEVBQVcsWUFBYyxDQUFDLEVBQVEsQ0FDaEMsR0FBTSxFQUFTLENBQUMsRUFBTSxJQUFNLENBQzFCLElBQU0sRUFBVSxFQUFJLElBQUksQ0FBTSxFQUFJLEVBQU8sRUFBRyxDQUFJLEVBQUksRUFDcEQsR0FBSSxFQUNGLEVBQUssSUFBSSxDQUFPLEVBRW5CLEdBRUgsRUFBVyxjQUFnQixDQUFDLEVBQU8sQ0FDakMsSUFBTSxFQUFVLENBQUMsRUFXakIsT0FWQSxHQUFNLEVBQVMsQ0FBQyxFQUFNLElBQU0sQ0FDMUIsR0FBSSxFQUFJLElBQUksQ0FBSyxFQUNmLEVBQVEsS0FBSyxFQUFLLE1BQU0sQ0FBQyxNQUNwQixDQUNMLElBQU0sRUFBVSxLQUFLLFVBQVUsRUFBTyxFQUFNLENBQUMsRUFDN0MsR0FBSSxFQUNGLEVBQVEsS0FBSyxFQUFLLE1BQU0sQ0FBTyxDQUFDLEdBR3JDLEVBQ00sR0FFVCxFQUFXLGFBQWUsRUFBRyxDQUUzQixPQURBLEdBQU0sRUFBUyxDQUFDLElBQVMsRUFBSyxLQUFLLEdBQUcsU0FBUyxDQUFDLEVBQ3pDLE1BRVQsRUFBVyxlQUFpQixDQUFDLEVBQU8sQ0FFbEMsT0FEQSxHQUFNLEVBQVMsQ0FBQyxFQUFNLElBQU0sRUFBSyxPQUFPLEtBQUssVUFBVSxFQUFPLEVBQU0sQ0FBQyxDQUFDLENBQUMsRUFDaEUsTUFFVCxJQUFNLFVBQW9CLENBQUMsRUFBSyxFQUFNLEVBQU8sQ0FDM0MsT0FBTyxFQUFJLElBQUksQ0FBRyxFQUFJLEVBQUksRUFBTyxDQUFJLEVBQUksR0FHM0MsT0FEQSxFQUFXLFVBQVksRUFDaEIsR0FJVCxTQUFTLEVBQVUsQ0FBQyxFQUFRLEVBQU8sRUFBTSxDQUN2QyxJQUFNLEVBQVUsRUFBSSxJQUFJLENBQUssR0FBSyxFQUNsQyxHQUFJLElBQVksRUFDZCxFQUFPLENBQUMsRUFDVixJQUFNLEVBQU0sV0FDVixJQUFNLEdBQVcsVUFBVSxRQUFVLEVBQUksR0FBVSxFQUFTLE9BQzVELENBQUMsQ0FDSCxFQUNNLEVBQVcsVUFBTyxDQUFDLEVBQ25CLEVBQWMsR0FBZSxFQUM3QixFQUFRLFdBQ1osS0FBTyxDQUNMLE1BQU8sQ0FBQyxFQUNSLE1BQU8sQ0FBQyxFQUNSLEtBQUssQ0FBQyxFQUFNLEVBQVUsQ0FDcEIsSUFBTSxFQUFXLEdBQVcsRUFBTSxDQUFRLEVBRTFDLE9BRHFCLEVBQVMsUUFBVSxJQUFNLEVBQU0sTUFBTSxTQUFXLE9BQU8sS0FBSyxDQUFRLEVBQUUsS0FBSyxDQUFDLE1BQVMsRUFBSyxRQUFRLEdBQUksRUFDckcsR0FBaUIsRUFBTSxDQUFRLEVBQUksSUFBSSxRQUFRLENBQUMsS0FBWSxDQUNoRixHQUFXLEVBQU0sQ0FBUSxFQUN6QixFQUFNLE1BQU0sS0FBSyxJQUFNLENBQ3JCLEdBQVEsR0FBaUIsRUFBTSxDQUFRLENBQUMsRUFDekMsRUFDRCxFQUFZLEVBQ2IsRUFFTCxHQUNBLENBQUMsQ0FDSCxFQUNNLEVBQVEsVUFBTyxDQUFDLEdBQUcsRUFBTSxLQUFLLENBQUMsRUFDL0IsRUFBVSxDQUFDLEVBQ1gsRUFBYSxHQUFRLENBQU0sR0FBSyxFQUN0QyxXQUFRLElBQU0sQ0FDWixHQUFNLEVBQU0sUUFBUSxNQUFNLEVBQVEsQ0FBVSxFQUFHLENBQUMsSUFBUyxDQUN2RCxHQUFXLEVBQU0sQ0FBRyxFQUNwQixFQUFLLEtBQUssRUFBSSxFQUNmLEVBQ0QsRUFBTSxRQUFRLE9BQVMsRUFDdkIsRUFBZSxFQUFZLENBQU0sR0FDaEMsQ0FBQyxDQUFNLENBQUMsRUFDWCxXQUFRLElBQU0sQ0FDWixFQUFlLEVBQUcsS0FBSyxJQUFJLEVBQVksQ0FBTSxDQUFDLEdBQzdDLENBQUksRUFDUCxTQUFTLENBQWMsQ0FBQyxFQUFZLEVBQVUsQ0FDNUMsUUFBUyxFQUFJLEVBQVksRUFBSSxFQUFVLElBQUssQ0FDMUMsSUFBTSxFQUFPLEVBQU0sUUFBUSxLQUFPLEVBQU0sUUFBUSxHQUFLLElBQUksR0FBVyxLQUFNLEVBQU0sS0FBSyxHQUMvRSxHQUFVLEVBQVUsRUFBUSxFQUFHLENBQUksRUFBSSxFQUFNLEdBQ25ELEdBQUksR0FDRixFQUFRLEdBQUssR0FBYyxFQUFPLEdBSXhDLElBQU0sRUFBVSxFQUFNLFFBQVEsSUFBSSxDQUFDLEVBQU0sSUFBTSxHQUFXLEVBQU0sRUFBUSxFQUFFLENBQUMsRUFDckUsRUFBVSxjQUFZLEVBQWEsRUFDbkMsRUFBYyxHQUFRLENBQU8sRUFDN0IsRUFBYSxJQUFZLEdBQWUsR0FBUyxDQUFPLEVBQzlELEdBQTJCLElBQU0sQ0FDL0IsRUFBUyxVQUNULEVBQU0sTUFBUSxFQUFNLFFBQ3BCLElBQVEsU0FBVSxFQUNsQixHQUFJLEVBQU0sT0FDUixFQUFNLE1BQVEsQ0FBQyxFQUNmLEdBQU0sRUFBTyxDQUFDLElBQU8sRUFBRyxDQUFDLEVBRTNCLEdBQU0sRUFBTSxRQUFTLENBQUMsRUFBTSxJQUFNLENBRWhDLEdBREEsR0FBSyxJQUFJLENBQUksRUFDVCxFQUNGLEVBQUssTUFBTSxDQUFFLFFBQVMsQ0FBUSxDQUFDLEVBRWpDLElBQU0sRUFBVSxFQUFRLEdBQ3hCLEdBQUksRUFFRixHQURBLEdBQVcsRUFBTSxFQUFRLEdBQUcsRUFDeEIsRUFBSyxJQUNQLEVBQUssTUFBTSxLQUFLLENBQU8sTUFFdkIsR0FBSyxNQUFNLENBQU8sRUFHdkIsRUFDRixFQUNELEdBQVEsSUFBTSxJQUFNLENBQ2xCLEdBQU0sRUFBTSxNQUFPLENBQUMsSUFBUyxFQUFLLEtBQUssRUFBSSxDQUFDLEVBQzdDLEVBQ0QsSUFBTSxFQUFTLEVBQVEsSUFBSSxDQUFDLEtBQU8sSUFBSyxDQUFFLEVBQUUsRUFDNUMsT0FBTyxFQUFNLENBQUMsRUFBUSxDQUFHLEVBQUksRUFJL0IsU0FBUyxFQUFTLENBQUMsRUFBTyxFQUFNLENBQzlCLElBQU0sRUFBTyxFQUFJLElBQUksQ0FBSyxJQUNsQixHQUFTLEdBQU8sR0FDdEIsRUFDQSxFQUFPLEVBQVEsQ0FBQyxDQUFLLEVBQ3JCLEVBQU8sR0FBUSxDQUFDLEVBQUksQ0FDdEIsRUFDQSxPQUFPLEdBQVEsVUFBVSxRQUFVLEVBQUksQ0FBQyxFQUFRLENBQUcsRUFBSSxFQW9oQnpELElBQUksR0FBZ0IsY0FBYyxFQUFXLENBQzNDLFdBQVcsQ0FBQyxFQUFRLEVBQU0sQ0FDeEIsTUFBTSxFQUNOLEtBQUssT0FBUyxFQUVkLEtBQUssS0FBTyxHQUVaLEtBQUssUUFBMEIsSUFBSSxJQUNuQyxLQUFLLEtBQU8sR0FBbUIsR0FBRyxDQUFJLEVBQ3RDLElBQU0sRUFBUSxLQUFLLEtBQUssRUFDbEIsRUFBVyxHQUFpQixDQUFLLEVBQ3ZDLEdBQWEsS0FBTSxFQUFTLE9BQU8sQ0FBSyxDQUFDLEVBRTNDLE9BQU8sQ0FBQyxFQUFLLENBQ1gsSUFBTSxFQUFRLEtBQUssS0FBSyxFQUNsQixFQUFXLEtBQUssSUFBSSxFQUMxQixJQUFLLEdBQVMsRUFBTyxDQUFRLEVBQzNCLEdBQWEsSUFBSSxFQUFFLFNBQVMsQ0FBSyxFQUNqQyxLQUFLLFVBQVUsRUFBTyxLQUFLLElBQUksRUFFakMsSUFBSyxLQUFLLE1BQVEsR0FBVSxLQUFLLE9BQU8sRUFDdEMsR0FBVyxJQUFJLEVBR25CLElBQUksRUFBRyxDQUNMLElBQU0sRUFBUyxFQUFLLElBQUksS0FBSyxNQUFNLEVBQUksS0FBSyxPQUFPLElBQUksRUFBYyxFQUFJLEdBQVMsR0FBZSxLQUFLLE1BQU0sQ0FBQyxFQUM3RyxPQUFPLEtBQUssS0FBSyxHQUFHLENBQU0sRUFFNUIsTUFBTSxFQUFHLENBQ1AsR0FBSSxLQUFLLE9BQVMsR0FBVSxLQUFLLE9BQU8sRUFLdEMsR0FKQSxLQUFLLEtBQU8sR0FDWixHQUFPLEdBQVksSUFBSSxFQUFHLENBQUMsSUFBUyxDQUNsQyxFQUFLLEtBQU8sR0FDYixFQUNHLEdBQUcsY0FDTCxHQUFLLGVBQWUsSUFBTSxLQUFLLFFBQVEsQ0FBQyxFQUN4QyxHQUFXLElBQUksTUFFZixJQUFXLE1BQU0sSUFBSSxFQUszQixPQUFPLEVBQUcsQ0FDUixJQUFJLEVBQVcsRUFDZixHQUFPLEdBQVMsS0FBSyxNQUFNLEVBQUcsQ0FBQyxJQUFXLENBQ3hDLEdBQUksR0FBZSxDQUFNLEVBQ3ZCLEdBQWtCLEVBQVEsSUFBSSxFQUVoQyxHQUFJLEdBQWEsQ0FBTSxFQUFHLENBQ3hCLElBQUssRUFBTyxLQUNWLEtBQUssUUFBUSxJQUFJLENBQU0sRUFFekIsRUFBVyxLQUFLLElBQUksRUFBVSxFQUFPLFNBQVcsQ0FBQyxHQUVwRCxFQUNELEtBQUssU0FBVyxFQUNoQixLQUFLLE9BQU8sRUFHZCxPQUFPLEVBQUcsQ0FDUixHQUFPLEdBQVMsS0FBSyxNQUFNLEVBQUcsQ0FBQyxJQUFXLENBQ3hDLEdBQUksR0FBZSxDQUFNLEVBQ3ZCLEdBQXFCLEVBQVEsSUFBSSxFQUVwQyxFQUNELEtBQUssUUFBUSxNQUFNLEVBQ25CLEdBQVcsSUFBSSxFQUdqQixhQUFhLENBQUMsRUFBTyxDQUNuQixHQUFJLEVBQU0sTUFBUSxTQUNoQixHQUFJLEVBQU0sS0FDUixLQUFLLFFBQVEsTUFFYixNQUFLLFFBQVEsSUFBSSxFQUFNLE1BQU0sRUFDN0IsS0FBSyxPQUFPLFVBRUwsRUFBTSxNQUFRLE9BQ3ZCLEtBQUssUUFBUSxPQUFPLEVBQU0sTUFBTSxVQUN2QixFQUFNLE1BQVEsV0FDdkIsS0FBSyxTQUFXLEdBQVMsS0FBSyxNQUFNLEVBQUUsT0FDcEMsQ0FBQyxFQUFTLElBQVcsS0FBSyxJQUFJLEdBQVUsR0FBYSxDQUFNLEVBQUksRUFBTyxTQUFXLEdBQUssQ0FBQyxFQUN2RixDQUNGLEVBR04sRUFDQSxTQUFTLEVBQU0sQ0FBQyxFQUFRLENBQ3RCLE9BQU8sRUFBTyxPQUFTLEdBRXpCLFNBQVMsRUFBUyxDQUFDLEVBQVEsQ0FDekIsT0FBUSxFQUFPLE1BQVEsTUFBTSxLQUFLLENBQU0sRUFBRSxNQUFNLEVBQU0sRUFFeEQsU0FBUyxFQUFVLENBQUMsRUFBTSxDQUN4QixJQUFLLEVBQUssS0FDUixFQUFLLEtBQU8sR0FDWixHQUFPLEdBQVksQ0FBSSxFQUFHLENBQUMsSUFBUyxDQUNsQyxFQUFLLEtBQU8sR0FDYixFQUNELEdBQW9CLEVBQU0sQ0FDeEIsS0FBTSxPQUNOLE9BQVEsQ0FDVixDQUFDLEVBY0wsR0FBUSxPQUFPLENBQ2IsNEJBQ0EsR0FBSSxDQUFDLEVBQVEsSUFBUyxJQUFJLEdBQWMsRUFBUSxDQUFJLENBQ3RELENBQUMsRUFDRCxJQUFJLEdBQVMsR0FBVyxRRTc2RXhCLGlCQUtBLElBQUksR0FBaUIsTUFDckIsU0FBUyxFQUFtQixDQUFDLEVBQU0sRUFBTyxDQUN4QyxHQUFJLEdBQVMsYUFBZSxJQUFVLFdBQWEsSUFBVSxHQUMzRCxNQUFPLEdBQ1QsVUFBVyxJQUFVLFVBQVksSUFBVSxJQUFNLEdBQWUsS0FBSyxDQUFJLEtBQU8sR0FBaUIsZUFBZSxDQUFJLEdBQUssR0FBaUIsSUFDeEksT0FBTyxFQUFRLEtBQ2pCLE9BQVEsR0FBSyxHQUFPLEtBQUssRUFFM0IsSUFBSSxHQUFpQixDQUFDLEVBQ3RCLFNBQVMsRUFBbUIsQ0FBQyxFQUFVLEVBQU8sQ0FDNUMsSUFBSyxFQUFTLFdBQWEsRUFBUyxhQUNsQyxNQUFPLEdBRVQsSUFBTSxFQUFrQixFQUFTLFdBQWEsVUFBWSxFQUFTLFlBQWMsRUFBUyxXQUFXLFdBQWEsVUFFaEgsWUFDQSxRQUNBLFdBQ0EsWUFDQSxhQUNBLGFBQ0csR0FDRCxFQUNFLEVBQVMsT0FBTyxPQUFPLENBQVUsRUFDakMsRUFBUSxPQUFPLEtBQUssQ0FBVSxFQUFFLElBQ3BDLENBQUMsSUFBUyxHQUFtQixFQUFTLGFBQWEsQ0FBSSxFQUFJLEVBQU8sR0FBZSxLQUFVLEdBQWUsR0FBUSxFQUFLLFFBQ3JILFdBRUEsQ0FBQyxJQUFNLElBQU0sRUFBRSxZQUFZLENBQzdCLEVBQ0YsRUFDQSxHQUFJLElBQWtCLE9BQ3BCLEVBQVMsWUFBYyxFQUV6QixRQUFXLEtBQVEsRUFDakIsR0FBSSxFQUFNLGVBQWUsQ0FBSSxFQUFHLENBQzlCLElBQU0sRUFBUSxHQUFvQixFQUFNLEVBQU0sRUFBSyxFQUNuRCxHQUFJLEdBQWUsS0FBSyxDQUFJLEVBQzFCLEVBQVMsTUFBTSxZQUFZLEVBQU0sQ0FBSyxNQUV0QyxHQUFTLE1BQU0sR0FBUSxFQU83QixHQUhBLEVBQU0sUUFBUSxDQUFDLEVBQU0sSUFBTSxDQUN6QixFQUFTLGFBQWEsRUFBTSxFQUFPLEVBQUUsRUFDdEMsRUFDRyxJQUFtQixPQUNyQixFQUFTLFVBQVksRUFFdkIsR0FBSSxJQUFtQixPQUNyQixFQUFTLFVBQVksRUFFdkIsR0FBSSxJQUFvQixPQUN0QixFQUFTLFdBQWEsRUFFeEIsR0FBSSxJQUFpQixPQUNuQixFQUFTLGFBQWEsVUFBVyxDQUFPLEVBRzVDLElBQUksR0FBbUIsQ0FDckIsd0JBQXlCLEdBQ3pCLGtCQUFtQixHQUNuQixpQkFBa0IsR0FDbEIsaUJBQWtCLEdBQ2xCLFFBQVMsR0FDVCxhQUFjLEdBQ2QsZ0JBQWlCLEdBQ2pCLFlBQWEsR0FDYixRQUFTLEdBQ1QsS0FBTSxHQUNOLFNBQVUsR0FDVixhQUFjLEdBQ2QsV0FBWSxHQUNaLGFBQWMsR0FDZCxVQUFXLEdBQ1gsUUFBUyxHQUNULFdBQVksR0FDWixZQUFhLEdBQ2IsYUFBYyxHQUNkLFdBQVksR0FDWixjQUFlLEdBQ2YsZUFBZ0IsR0FDaEIsZ0JBQWlCLEdBQ2pCLFdBQVksR0FDWixVQUFXLEdBQ1gsV0FBWSxHQUNaLFFBQVMsR0FDVCxNQUFPLEdBQ1AsUUFBUyxHQUNULFFBQVMsR0FDVCxPQUFRLEdBQ1IsT0FBUSxHQUNSLEtBQU0sR0FFTixZQUFhLEdBQ2IsYUFBYyxHQUNkLFlBQWEsR0FDYixnQkFBaUIsR0FDakIsaUJBQWtCLEdBQ2xCLGlCQUFrQixHQUNsQixjQUFlLEdBQ2YsWUFBYSxFQUNmLEVBQ0ksR0FBWSxDQUFDLEVBQVEsSUFBUSxFQUFTLEVBQUksT0FBTyxDQUFDLEVBQUUsWUFBWSxFQUFJLEVBQUksVUFBVSxDQUFDLEVBQ25GLEdBQVcsQ0FBQyxTQUFVLEtBQU0sTUFBTyxHQUFHLEVBQzFDLEdBQW1CLE9BQU8sS0FBSyxFQUFnQixFQUFFLE9BQU8sQ0FBQyxFQUFLLElBQVMsQ0FFckUsT0FEQSxHQUFTLFFBQVEsQ0FBQyxJQUFXLEVBQUksR0FBVSxFQUFRLENBQUksR0FBSyxFQUFJLEVBQUssRUFDOUQsR0FDTixFQUFnQixFQWdCbkIsSUFBSSxHQUFnQix3Q0FDaEIsR0FBZSxlQUNmLEdBQWdCLGlCQUNoQixHQUFVLENBQUMsRUFBTyxJQUFTLEVBQUcsSUFBSSxDQUFLLEdBQUssSUFBVSxFQUFJLEVBQVEsRUFBTyxFQUN6RSxHQUFrQixDQUFDLEVBQU8sSUFBTyxFQUFHLElBQUksQ0FBSyxFQUFJLEVBQU0sTUFBTSxDQUFDLElBQU0sR0FBZ0IsRUFBRyxDQUFFLENBQUMsRUFBSSxFQUFHLElBQUksQ0FBSyxFQUFJLElBQVUsRUFBSyxXQUFXLENBQUssSUFBTSxFQUNuSixHQUFnQixjQUFjLEVBQWUsQ0FDL0MsV0FBVyxFQUFHLElBQUcsSUFBRyxPQUFNLEdBQVMsQ0FDakMsSUFBTSxFQUFTLENBQUMsRUFDVixFQUFhLENBQUMsRUFDcEIsR0FBSSxHQUFLLEdBQUssRUFDWixFQUFPLEtBQUssQ0FBQyxHQUFLLEVBQUcsR0FBSyxFQUFHLEdBQUssQ0FBQyxDQUFDLEVBQ3BDLEVBQVcsS0FBSyxDQUFDLElBQVEsQ0FDdkIsZUFBZSxFQUFJLElBQUksQ0FBQyxJQUFNLEdBQVEsRUFBRyxJQUFJLENBQUMsRUFBRSxLQUFLLEdBQUcsS0FFeEQsR0FBZ0IsRUFBSyxDQUFDLENBQ3hCLENBQUMsRUF1QkgsR0FyQkEsR0FBUyxFQUFPLENBQUMsRUFBTyxJQUFRLENBQzlCLEdBQUksSUFBUSxZQUNWLEVBQU8sS0FBSyxDQUFDLEdBQVMsRUFBRSxDQUFDLEVBQ3pCLEVBQVcsS0FBSyxDQUFDLElBQWMsQ0FBQyxFQUFXLElBQWMsRUFBRSxDQUFDLFVBQ25ELEdBQWMsS0FBSyxDQUFHLEVBQUcsQ0FFbEMsVUFETyxFQUFNLEdBQ1QsRUFBRyxJQUFJLENBQUssRUFDZCxPQUNGLElBQU0sRUFBTyxHQUFhLEtBQUssQ0FBRyxFQUFJLEtBQU8sR0FBYyxLQUFLLENBQUcsRUFBSSxNQUFRLEdBQy9FLEVBQU8sS0FBSyxHQUFRLENBQUssQ0FBQyxFQUMxQixFQUFXLEtBQ1QsSUFBUSxXQUFhLEVBQUUsRUFBSSxFQUFJLEVBQUksS0FBUyxDQUMxQyxZQUFZLEtBQU0sS0FBTSxLQUFNLEdBQVEsRUFBSyxDQUFJLEtBQy9DLEdBQWdCLEVBQUssQ0FBQyxDQUN4QixFQUFJLENBQUMsSUFBVSxDQUNiLEdBQUcsS0FBTyxFQUFNLElBQUksQ0FBQyxJQUFNLEdBQVEsRUFBRyxDQUFJLENBQUMsRUFBRSxLQUFLLEdBQUcsS0FDckQsR0FBZ0IsRUFBTyxFQUFJLFdBQVcsT0FBTyxFQUFJLEVBQUksQ0FBQyxDQUN4RCxDQUNGLEdBRUgsRUFDRyxFQUFPLE9BQ1QsRUFBTSxVQUFZLElBQUksR0FBZSxFQUFRLENBQVUsRUFFekQsTUFBTSxDQUFLLEVBRWYsRUFDSSxHQUFpQixjQUFjLEVBQVcsQ0FDNUMsV0FBVyxDQUFDLEVBQVEsRUFBWSxDQUM5QixNQUFNLEVBQ04sS0FBSyxPQUFTLEVBQ2QsS0FBSyxXQUFhLEVBQ2xCLEtBQUssT0FBUyxLQUVoQixHQUFHLEVBQUcsQ0FDSixPQUFPLEtBQUssU0FBVyxLQUFLLE9BQVMsS0FBSyxLQUFLLEdBRWpELElBQUksRUFBRyxDQUNMLElBQUksRUFBWSxHQUNaLEVBQVcsR0FTZixPQVJBLEdBQUssS0FBSyxPQUFRLENBQUMsRUFBTyxJQUFNLENBQzlCLElBQU0sRUFBTyxHQUFjLEVBQU0sRUFBRSxHQUM1QixFQUFHLEdBQU0sS0FBSyxXQUFXLEdBQzlCLEVBQUcsSUFBSSxDQUFJLEVBQUksRUFBTyxFQUFNLElBQUksRUFBYSxDQUMvQyxFQUNBLEdBQWEsSUFBTSxFQUNuQixFQUFXLEdBQVksRUFDeEIsRUFDTSxFQUFXLE9BQVMsRUFHN0IsYUFBYSxDQUFDLEVBQU8sQ0FDbkIsR0FBSSxHQUFTLEVBQ1gsR0FDRSxLQUFLLE9BQ0wsQ0FBQyxJQUFVLEdBQ1QsRUFDQSxDQUFDLElBQVUsR0FBYyxDQUFLLEdBQUssR0FBaUIsRUFBTyxJQUFJLENBQ2pFLENBQ0YsRUFHSixlQUFlLENBQUMsRUFBTyxDQUNyQixHQUFJLEdBQVMsRUFDWCxHQUNFLEtBQUssT0FDTCxDQUFDLElBQVUsR0FDVCxFQUNBLENBQUMsSUFBVSxHQUFjLENBQUssR0FBSyxHQUFvQixFQUFPLElBQUksQ0FDcEUsQ0FDRixFQUVKLGFBQWEsQ0FBQyxFQUFPLENBQ25CLEdBQUksRUFBTSxNQUFRLFNBQ2hCLEtBQUssT0FBUyxLQUVoQixHQUFtQixLQUFNLENBQUssRUFFbEMsRUFHSSxHQUFhLENBQ2YsSUFDQSxPQUNBLFVBQ0EsT0FDQSxVQUNBLFFBQ0EsUUFDQSxJQUNBLE9BQ0EsTUFDQSxNQUNBLE1BQ0EsYUFDQSxPQUNBLEtBQ0EsU0FDQSxTQUNBLFVBQ0EsT0FDQSxPQUNBLE1BQ0EsV0FDQSxPQUNBLFdBQ0EsS0FDQSxNQUNBLFVBQ0EsTUFDQSxTQUNBLE1BQ0EsS0FDQSxLQUNBLEtBQ0EsUUFDQSxXQUNBLGFBQ0EsU0FDQSxTQUNBLE9BQ0EsS0FDQSxLQUNBLEtBQ0EsS0FDQSxLQUNBLEtBQ0EsT0FDQSxTQUNBLFNBQ0EsS0FDQSxPQUNBLElBQ0EsU0FDQSxNQUNBLFFBQ0EsTUFDQSxNQUNBLFNBQ0EsUUFDQSxTQUNBLEtBQ0EsT0FDQSxPQUNBLE1BQ0EsT0FDQSxPQUNBLFdBQ0EsT0FDQSxRQUNBLE1BQ0EsV0FDQSxTQUNBLEtBQ0EsV0FDQSxTQUNBLFNBQ0EsSUFDQSxRQUNBLFVBQ0EsTUFDQSxXQUNBLElBQ0EsS0FDQSxLQUNBLE9BQ0EsSUFDQSxPQUNBLFNBQ0EsVUFDQSxTQUNBLFFBQ0EsU0FDQSxPQUNBLFNBQ0EsUUFDQSxNQUNBLFVBQ0EsTUFDQSxRQUNBLFFBQ0EsS0FDQSxXQUNBLFFBQ0EsS0FDQSxRQUNBLE9BQ0EsUUFDQSxLQUNBLFFBQ0EsSUFDQSxLQUNBLE1BQ0EsUUFDQSxNQUVBLFNBQ0EsV0FDQSxPQUNBLFVBQ0EsZ0JBQ0EsSUFDQSxRQUNBLE9BQ0EsaUJBQ0EsT0FDQSxPQUNBLFVBQ0EsVUFDQSxXQUNBLGlCQUNBLE9BQ0EsT0FDQSxNQUNBLE9BQ0EsT0FDRixFQUlBLEdBQVEsT0FBTyxDQUNiLGVBQWdCLDJCQUNoQiw0QkFDQSxTQUNGLENBQUMsRUFDRCxJQUFJLEdBQU8sR0FBVyxHQUFZLENBQ2hDLHVCQUNBLG9CQUFxQixDQUFDLElBQVUsSUFBSSxHQUFjLENBQUssRUFFdkQsa0JBQW1CLEVBQUcsWUFBVyxnQkFBZSxLQUFZLENBQzlELENBQUMsRUFDRyxHQUFXLEdBQUssU050VnBCLGlCT3BDQSxTQUF3QixFQUFJLENBQUMsRUFBSSxFQUFTLENBQ3hDLGdCQUFnQixDQUFJLEVBQUcsQ0FDckIsT0FBTyxFQUFHLE1BQU0sRUFBUyxTQUFTLEdDRXRDLElBQU8sYUFBWSxPQUFPLFdBQ25CLG1CQUFrQixPQUVuQixJQUFVLEtBQVMsS0FBUyxDQUM5QixJQUFNLEVBQU0sR0FBUyxLQUFLLENBQUssRUFDL0IsT0FBTyxFQUFNLEtBQVMsRUFBTSxHQUFPLEVBQUksTUFBTSxFQUFHLEVBQUUsRUFBRSxZQUFZLEtBQ2pFLE9BQU8sT0FBTyxJQUFJLENBQUMsRUFFaEIsR0FBYSxDQUFDLElBQVMsQ0FFM0IsT0FEQSxFQUFPLEVBQUssWUFBWSxFQUNqQixDQUFDLElBQVUsR0FBTyxDQUFLLElBQU0sR0FHaEMsR0FBYSxLQUFRLFlBQWdCLElBQVUsR0FTOUMsWUFBVyxNQVNaLEdBQWMsR0FBVyxXQUFXLEVBUzFDLFNBQVMsRUFBUSxDQUFDLEVBQUssQ0FDckIsT0FBTyxJQUFRLE9BQVMsR0FBWSxDQUFHLEdBQUssRUFBSSxjQUFnQixPQUFTLEdBQVksRUFBSSxXQUFXLEdBQy9GLEdBQVcsRUFBSSxZQUFZLFFBQVEsR0FBSyxFQUFJLFlBQVksU0FBUyxDQUFHLEVBVTNFLElBQU0sR0FBZ0IsR0FBVyxhQUFhLEVBVTlDLFNBQVMsRUFBaUIsQ0FBQyxFQUFLLENBQzlCLElBQUksRUFDSixVQUFZLGNBQWdCLGFBQWlCLFlBQVksT0FDdkQsRUFBUyxZQUFZLE9BQU8sQ0FBRyxNQUUvQixHQUFVLEdBQVMsRUFBSSxRQUFZLEdBQWMsRUFBSSxNQUFNLEVBRTdELE9BQU8sRUFVVCxJQUFNLEdBQVcsR0FBVyxRQUFRLEVBUTlCLEdBQWEsR0FBVyxVQUFVLEVBU2xDLEdBQVcsR0FBVyxRQUFRLEVBUzlCLEdBQVcsQ0FBQyxJQUFVLElBQVUsYUFBZSxJQUFVLFNBUXpELEdBQVksS0FBUyxJQUFVLElBQVEsSUFBVSxHQVNqRCxHQUFnQixDQUFDLElBQVEsQ0FDN0IsR0FBSSxHQUFPLENBQUcsSUFBTSxTQUNsQixNQUFPLEdBR1QsSUFBTSxFQUFZLEdBQWUsQ0FBRyxFQUNwQyxPQUFRLElBQWMsTUFBUSxJQUFjLE9BQU8sV0FBYSxPQUFPLGVBQWUsQ0FBUyxJQUFNLFNBQVcsT0FBTyxlQUFlLE1BQVUsT0FBTyxZQUFZLElBVS9KLEdBQVMsR0FBVyxNQUFNLEVBUzFCLEdBQVMsR0FBVyxNQUFNLEVBUzFCLEdBQVMsR0FBVyxNQUFNLEVBUzFCLEdBQWEsR0FBVyxVQUFVLEVBU2xDLEdBQVcsQ0FBQyxJQUFRLEdBQVMsQ0FBRyxHQUFLLEdBQVcsRUFBSSxJQUFJLEVBU3hELEdBQWEsQ0FBQyxJQUFVLENBQzVCLElBQUksRUFDSixPQUFPLFdBQ0csV0FBYSxZQUFjLGFBQWlCLFVBQ2xELEdBQVcsRUFBTSxNQUFNLEtBQ3BCLEVBQU8sR0FBTyxDQUFLLEtBQU8sWUFFMUIsSUFBUyxVQUFZLEdBQVcsRUFBTSxRQUFRLEdBQUssRUFBTSxTQUFTLElBQU0sdUJBYTNFLEdBQW9CLEdBQVcsaUJBQWlCLEdBRS9DLEdBQWtCLEdBQVcsR0FBWSxJQUFhLENBQUMsaUJBQWtCLFVBQVcsV0FBWSxTQUFTLEVBQUUsSUFBSSxFQUFVLEVBUzFILEdBQU8sQ0FBQyxJQUFRLEVBQUksS0FDeEIsRUFBSSxLQUFLLEVBQUksRUFBSSxRQUFRLHFDQUFzQyxFQUFFLEVBaUJuRSxTQUFTLEVBQU8sQ0FBQyxFQUFLLEdBQUssYUFBYSxJQUFTLENBQUMsRUFBRyxDQUVuRCxHQUFJLElBQVEsYUFBZSxJQUFRLFlBQ2pDLE9BR0YsSUFBSSxFQUNBLEVBR0osVUFBVyxJQUFRLFNBRWpCLEVBQU0sQ0FBQyxDQUFHLEVBR1osR0FBSSxHQUFRLENBQUcsRUFFYixJQUFLLEVBQUksRUFBRyxFQUFJLEVBQUksT0FBUSxFQUFJLEVBQUcsSUFDakMsRUFBRyxLQUFLLEtBQU0sRUFBSSxHQUFJLEVBQUcsQ0FBRyxNQUV6QixDQUVMLElBQU0sRUFBTyxFQUFhLE9BQU8sb0JBQW9CLENBQUcsRUFBSSxPQUFPLEtBQUssQ0FBRyxFQUNyRSxFQUFNLEVBQUssT0FDYixFQUVKLElBQUssRUFBSSxFQUFHLEVBQUksRUFBSyxJQUNuQixFQUFNLEVBQUssR0FDWCxFQUFHLEtBQUssS0FBTSxFQUFJLEdBQU0sRUFBSyxDQUFHLEdBS3RDLFNBQVMsRUFBTyxDQUFDLEVBQUssRUFBSyxDQUN6QixFQUFNLEVBQUksWUFBWSxFQUN0QixJQUFNLEVBQU8sT0FBTyxLQUFLLENBQUcsRUFDeEIsRUFBSSxFQUFLLE9BQ1QsRUFDSixNQUFPLEtBQU0sRUFFWCxHQURBLEVBQU8sRUFBSyxHQUNSLElBQVEsRUFBSyxZQUFZLEVBQzNCLE9BQU8sRUFHWCxPQUFPLEtBR1QsSUFBTSxJQUFXLElBQU0sQ0FFckIsVUFBVyxhQUFlLFlBQWEsT0FBTyxXQUM5QyxjQUFjLE9BQVMsWUFBYyxZQUFlLFNBQVcsWUFBYyxPQUFTLFNBQ3JGLEVBRUcsR0FBbUIsQ0FBQyxLQUFhLEdBQVksQ0FBTyxHQUFLLElBQVksR0FvQjNFLFNBQVMsRUFBSyxFQUE4QixDQUMxQyxJQUFPLFlBQVksR0FBaUIsSUFBSSxHQUFLLE1BQVEsQ0FBQyxFQUNoRCxFQUFTLENBQUMsRUFDVixFQUFjLENBQUMsRUFBSyxJQUFRLENBQ2hDLElBQU0sRUFBWSxHQUFZLEdBQVEsRUFBUSxDQUFHLEdBQUssRUFDdEQsR0FBSSxHQUFjLEVBQU8sRUFBVSxHQUFLLEdBQWMsQ0FBRyxFQUN2RCxFQUFPLEdBQWEsR0FBTSxFQUFPLEdBQVksQ0FBRyxVQUN2QyxHQUFjLENBQUcsRUFDMUIsRUFBTyxHQUFhLEdBQU0sQ0FBQyxFQUFHLENBQUcsVUFDeEIsR0FBUSxDQUFHLEVBQ3BCLEVBQU8sR0FBYSxFQUFJLE1BQU0sTUFFOUIsR0FBTyxHQUFhLEdBSXhCLFFBQVMsRUFBSSxFQUFHLEVBQUksVUFBVSxPQUFRLEVBQUksRUFBRyxJQUMzQyxVQUFVLElBQU0sR0FBUSxVQUFVLEdBQUksQ0FBVyxFQUVuRCxPQUFPLEVBYVQsSUFBTSxHQUFTLENBQUMsRUFBRyxFQUFHLEdBQVUsY0FBYSxDQUFDLElBQU0sQ0FRbEQsT0FQQSxHQUFRLEVBQUcsQ0FBQyxFQUFLLElBQVEsQ0FDdkIsR0FBSSxHQUFXLEdBQVcsQ0FBRyxFQUMzQixFQUFFLEdBQU8sR0FBSyxFQUFLLENBQU8sTUFFMUIsR0FBRSxHQUFPLEdBRVYsQ0FBQyxZQUFVLENBQUMsRUFDUixHQVVILEdBQVcsQ0FBQyxJQUFZLENBQzVCLEdBQUksRUFBUSxXQUFXLENBQUMsSUFBTSxNQUM1QixFQUFVLEVBQVEsTUFBTSxDQUFDLEVBRTNCLE9BQU8sR0FZSCxHQUFXLENBQUMsRUFBYSxFQUFrQixFQUFPLElBQWdCLENBQ3RFLEVBQVksVUFBWSxPQUFPLE9BQU8sRUFBaUIsVUFBVyxDQUFXLEVBQzdFLEVBQVksVUFBVSxZQUFjLEVBQ3BDLE9BQU8sZUFBZSxFQUFhLFFBQVMsQ0FDMUMsTUFBTyxFQUFpQixTQUMxQixDQUFDLEVBQ0QsR0FBUyxPQUFPLE9BQU8sRUFBWSxVQUFXLENBQUssR0FZL0MsR0FBZSxDQUFDLEVBQVcsRUFBUyxFQUFRLElBQWUsQ0FDL0QsSUFBSSxFQUNBLEVBQ0EsRUFDRSxFQUFTLENBQUMsRUFJaEIsR0FGQSxFQUFVLEdBQVcsQ0FBQyxFQUVsQixHQUFhLEtBQU0sT0FBTyxFQUU5QixFQUFHLENBQ0QsRUFBUSxPQUFPLG9CQUFvQixDQUFTLEVBQzVDLEVBQUksRUFBTSxPQUNWLE1BQU8sS0FBTSxFQUVYLEdBREEsRUFBTyxFQUFNLEtBQ1AsR0FBYyxFQUFXLEVBQU0sRUFBVyxDQUFPLEtBQU8sRUFBTyxHQUNuRSxFQUFRLEdBQVEsRUFBVSxHQUMxQixFQUFPLEdBQVEsR0FHbkIsRUFBWSxJQUFXLElBQVMsR0FBZSxDQUFTLFFBQ2pELEtBQWUsR0FBVSxFQUFPLEVBQVcsQ0FBTyxJQUFNLElBQWMsT0FBTyxXQUV0RixPQUFPLEdBWUgsR0FBVyxDQUFDLEVBQUssRUFBYyxJQUFhLENBRWhELEdBREEsRUFBTSxPQUFPLENBQUcsRUFDWixJQUFhLFFBQWEsRUFBVyxFQUFJLE9BQzNDLEVBQVcsRUFBSSxPQUVqQixHQUFZLEVBQWEsT0FDekIsSUFBTSxFQUFZLEVBQUksUUFBUSxFQUFjLENBQVEsRUFDcEQsT0FBTyxJQUFjLElBQU0sSUFBYyxHQVdyQyxHQUFVLENBQUMsSUFBVSxDQUN6QixJQUFLLEVBQU8sT0FBTyxLQUNuQixHQUFJLEdBQVEsQ0FBSyxFQUFHLE9BQU8sRUFDM0IsSUFBSSxFQUFJLEVBQU0sT0FDZCxJQUFLLEdBQVMsQ0FBQyxFQUFHLE9BQU8sS0FDekIsSUFBTSxFQUFNLElBQUksTUFBTSxDQUFDLEVBQ3ZCLE1BQU8sS0FBTSxFQUNYLEVBQUksR0FBSyxFQUFNLEdBRWpCLE9BQU8sR0FZSCxJQUFnQixLQUFjLENBRWxDLE1BQU8sS0FBUyxDQUNkLE9BQU8sR0FBYyxhQUFpQixZQUVoQyxhQUFlLGFBQWUsR0FBZSxVQUFVLENBQUMsRUFVNUQsR0FBZSxDQUFDLEVBQUssSUFBTyxDQUdoQyxJQUFNLEdBRlksR0FBTyxFQUFJLE9BQU8sV0FFVCxLQUFLLENBQUcsRUFFL0IsRUFFSixPQUFRLEVBQVMsRUFBUyxLQUFLLEtBQU8sRUFBTyxLQUFNLENBQ2pELElBQU0sRUFBTyxFQUFPLE1BQ3BCLEVBQUcsS0FBSyxFQUFLLEVBQUssR0FBSSxFQUFLLEVBQUUsSUFZM0IsR0FBVyxDQUFDLEVBQVEsSUFBUSxDQUNoQyxJQUFJLEVBQ0UsRUFBTSxDQUFDLEVBRWIsT0FBUSxFQUFVLEVBQU8sS0FBSyxDQUFHLEtBQU8sS0FDdEMsRUFBSSxLQUFLLENBQU8sRUFHbEIsT0FBTyxHQUlILEdBQWEsR0FBVyxpQkFBaUIsRUFFekMsR0FBYyxLQUFPLENBQ3pCLE9BQU8sRUFBSSxZQUFZLEVBQUUsUUFBUSxpQ0FDdEIsQ0FBUSxDQUFDLEVBQUcsRUFBSSxFQUFJLENBQzNCLE9BQU8sRUFBRyxZQUFZLEVBQUksRUFFOUIsR0FJSSxJQUFrQixFQUFFLG9CQUFvQixDQUFDLEVBQUssSUFBUyxFQUFlLEtBQUssRUFBSyxDQUFJLEdBQUcsT0FBTyxTQUFTLEVBU3ZHLEdBQVcsR0FBVyxRQUFRLEVBRTlCLEdBQW9CLENBQUMsRUFBSyxJQUFZLENBQzFDLElBQU0sRUFBYyxPQUFPLDBCQUEwQixDQUFHLEVBQ2xELEVBQXFCLENBQUMsRUFFNUIsR0FBUSxFQUFhLENBQUMsRUFBWSxJQUFTLENBQ3pDLElBQUksRUFDSixJQUFLLEVBQU0sRUFBUSxFQUFZLEVBQU0sQ0FBRyxLQUFPLEdBQzdDLEVBQW1CLEdBQVEsR0FBTyxFQUVyQyxFQUVELE9BQU8saUJBQWlCLEVBQUssQ0FBa0IsR0FRM0MsR0FBZ0IsQ0FBQyxJQUFRLENBQzdCLEdBQWtCLEVBQUssQ0FBQyxFQUFZLElBQVMsQ0FFM0MsR0FBSSxHQUFXLENBQUcsR0FBSyxDQUFDLFlBQWEsU0FBVSxRQUFRLEVBQUUsUUFBUSxDQUFJLElBQU0sR0FDekUsTUFBTyxHQUdULElBQU0sRUFBUSxFQUFJLEdBRWxCLElBQUssR0FBVyxDQUFLLEVBQUcsT0FJeEIsR0FGQSxFQUFXLFdBQWEsR0FFcEIsYUFBYyxFQUFZLENBQzVCLEVBQVcsU0FBVyxHQUN0QixPQUdGLElBQUssRUFBVyxJQUNkLEVBQVcsSUFBTSxJQUFNLENBQ3JCLE1BQU0sTUFBTSxxQ0FBd0MsRUFBTyxHQUFJLEdBR3BFLEdBR0csR0FBYyxDQUFDLEVBQWUsSUFBYyxDQUNoRCxJQUFNLEVBQU0sQ0FBQyxFQUVQLEVBQVMsQ0FBQyxJQUFRLENBQ3RCLEVBQUksUUFBUSxLQUFTLENBQ25CLEVBQUksR0FBUyxHQUNkLEdBS0gsT0FGQSxHQUFRLENBQWEsRUFBSSxFQUFPLENBQWEsRUFBSSxFQUFPLE9BQU8sQ0FBYSxFQUFFLE1BQU0sQ0FBUyxDQUFDLEVBRXZGLEdBR0gsR0FBTyxJQUFNLEdBRWIsR0FBaUIsQ0FBQyxFQUFPLElBQWlCLENBQzlDLE9BQU8sR0FBUyxNQUFRLE9BQU8sU0FBUyxHQUFTLENBQUssRUFBSSxFQUFRLEdBVXBFLFNBQVMsRUFBbUIsQ0FBQyxFQUFPLENBQ2xDLFNBQVUsR0FBUyxHQUFXLEVBQU0sTUFBTSxHQUFLLEVBQU0sT0FBTyxlQUFpQixZQUFjLEVBQU0sT0FBTyxXQUcxRyxJQUFNLEdBQWUsQ0FBQyxJQUFRLENBQzVCLElBQU0sRUFBUSxJQUFJLE1BQU0sRUFBRSxFQUVwQixFQUFRLENBQUMsRUFBUSxJQUFNLENBRTNCLEdBQUksR0FBUyxDQUFNLEVBQUcsQ0FDcEIsR0FBSSxFQUFNLFFBQVEsQ0FBTSxHQUFLLEVBQzNCLE9BR0YsS0FBSyxXQUFZLEdBQVMsQ0FDeEIsRUFBTSxHQUFLLEVBQ1gsSUFBTSxFQUFTLEdBQVEsQ0FBTSxFQUFJLENBQUMsRUFBSSxDQUFDLEVBU3ZDLE9BUEEsR0FBUSxFQUFRLENBQUMsRUFBTyxJQUFRLENBQzlCLElBQU0sRUFBZSxFQUFNLEVBQU8sRUFBSSxDQUFDLEVBQ3ZDLENBQUMsR0FBWSxDQUFZLElBQU0sRUFBTyxHQUFPLEdBQzlDLEVBRUQsRUFBTSxHQUFLLE9BRUosR0FJWCxPQUFPLEdBR1QsT0FBTyxFQUFNLEVBQUssQ0FBQyxHQUdmLEdBQVksR0FBVyxlQUFlLEVBRXRDLEdBQWEsQ0FBQyxJQUNsQixJQUFVLEdBQVMsQ0FBSyxHQUFLLEdBQVcsQ0FBSyxJQUFNLEdBQVcsRUFBTSxJQUFJLEdBQUssR0FBVyxFQUFNLEtBQUssRUFLL0YsSUFBaUIsQ0FBQyxFQUF1QixJQUF5QixDQUN0RSxHQUFJLEVBQ0YsT0FBTyxhQUdULE9BQU8sR0FBd0IsQ0FBQyxFQUFPLElBQWMsQ0FPbkQsT0FOQSxHQUFRLGlCQUFpQixVQUFXLEVBQUUsU0FBUSxVQUFVLENBQ3RELEdBQUksSUFBVyxJQUFXLElBQVMsRUFDakMsRUFBVSxRQUFVLEVBQVUsTUFBTSxFQUFFLEdBRXZDLEVBQUssRUFFRCxDQUFDLElBQU8sQ0FDYixFQUFVLEtBQUssQ0FBRSxFQUNqQixHQUFRLFlBQVksRUFBTyxHQUFHLEtBRS9CLFNBQVMsS0FBSyxPQUFPLElBQUssQ0FBQyxDQUFDLEVBQUksQ0FBQyxJQUFPLFdBQVcsQ0FBRSxXQUVqRCxlQUFpQixXQUN4QixHQUFXLEdBQVEsV0FBVyxDQUNoQyxFQUVNLFVBQWMsaUJBQW1CLFlBQ3JDLGVBQWUsS0FBSyxFQUFPLFNBQWEsVUFBWSxhQUFlLFFBQVEsVUFBWSxHQUkxRSxHQUNiLFdBQ0EsaUJBQ0EsWUFDQSxjQUNBLHFCQUNBLFlBQ0EsWUFDQSxhQUNBLFlBQ0EsaUJBQ0Esb0JBQ0EsYUFDQSxjQUNBLGFBQ0EsZUFDQSxVQUNBLFVBQ0EsVUFDQSxZQUNBLGNBQ0EsWUFDQSxxQkFDQSxnQkFDQSxjQUNBLFdBQ0EsU0FDQSxVQUNBLFFBQ0EsWUFDQSxZQUNBLGdCQUNBLFVBQ0EsY0FDQSxZQUNBLFdBQ0EsZ0JBQ0EsWUFDQSxjQUNBLGtCQUNBLFdBQVksR0FDWixxQkFDQSxpQkFDQSxlQUNBLGVBQ0EsUUFDQSxrQkFDQSxXQUNBLE9BQVEsR0FDUixvQkFDQSx1QkFDQSxnQkFDQSxhQUNBLGNBQ0EsYUFBYyxHQUNkLE9BQ0YsRUNsdEJBLFNBQVMsRUFBVSxDQUFDLEVBQVMsRUFBTSxFQUFRLEVBQVMsRUFBVSxDQUc1RCxHQUZBLE1BQU0sS0FBSyxJQUFJLEVBRVgsTUFBTSxrQkFDUixNQUFNLGtCQUFrQixLQUFNLEtBQUssV0FBVyxNQUU5QyxNQUFLLE1BQVMsSUFBSSxNQUFNLEVBQUcsTUFRN0IsR0FMQSxLQUFLLFFBQVUsRUFDZixLQUFLLEtBQU8sYUFDWixJQUFTLEtBQUssS0FBTyxHQUNyQixJQUFXLEtBQUssT0FBUyxHQUN6QixJQUFZLEtBQUssUUFBVSxHQUN2QixFQUNGLEtBQUssU0FBVyxFQUNoQixLQUFLLE9BQVMsRUFBUyxPQUFTLEVBQVMsT0FBUyxLQUl0RCxFQUFNLFNBQVMsR0FBWSxNQUFPLENBQ2hDLGdCQUFpQixDQUFNLEVBQUcsQ0FDeEIsTUFBTyxDQUVMLFFBQVMsS0FBSyxRQUNkLEtBQU0sS0FBSyxLQUVYLFlBQWEsS0FBSyxZQUNsQixPQUFRLEtBQUssT0FFYixTQUFVLEtBQUssU0FDZixXQUFZLEtBQUssV0FDakIsYUFBYyxLQUFLLGFBQ25CLE1BQU8sS0FBSyxNQUVaLE9BQVEsRUFBTSxhQUFhLEtBQUssTUFBTSxFQUN0QyxLQUFNLEtBQUssS0FDWCxPQUFRLEtBQUssTUFDZixFQUVKLENBQUMsRUFFRCxJQUFNLEdBQVksR0FBVyxVQUN2QixHQUFjLENBQUMsRUFFckIsQ0FDRSx1QkFDQSxpQkFDQSxlQUNBLFlBQ0EsY0FDQSw0QkFDQSxpQkFDQSxtQkFDQSxrQkFDQSxlQUNBLGtCQUNBLGlCQUVGLEVBQUUsUUFBUSxLQUFRLENBQ2hCLEdBQVksR0FBUSxDQUFDLE1BQU8sQ0FBSSxFQUNqQyxFQUVELE9BQU8saUJBQWlCLEdBQVksRUFBVyxFQUMvQyxPQUFPLGVBQWUsR0FBVyxlQUFnQixDQUFDLE1BQU8sRUFBSSxDQUFDLEVBRzlELEdBQVcsS0FBTyxDQUFDLEVBQU8sRUFBTSxFQUFRLEVBQVMsRUFBVSxJQUFnQixDQUN6RSxJQUFNLEVBQWEsT0FBTyxPQUFPLEVBQVMsRUFnQjFDLE9BZEEsRUFBTSxhQUFhLEVBQU8sV0FBcUIsQ0FBTSxDQUFDLEVBQUssQ0FDekQsT0FBTyxJQUFRLE1BQU0sV0FDcEIsS0FBUSxDQUNULE9BQU8sSUFBUyxlQUNqQixFQUVELEdBQVcsS0FBSyxFQUFZLEVBQU0sUUFBUyxFQUFNLEVBQVEsRUFBUyxDQUFRLEVBRTFFLEVBQVcsTUFBUSxFQUVuQixFQUFXLEtBQU8sRUFBTSxLQUV4QixHQUFlLE9BQU8sT0FBTyxFQUFZLENBQVcsRUFFN0MsR0FHVCxJQUFlLE1DckdmLElBQWUsUUNhZixTQUFTLEVBQVcsQ0FBQyxFQUFPLENBQzFCLE9BQU8sRUFBTSxjQUFjLENBQUssR0FBSyxFQUFNLFFBQVEsQ0FBSyxFQVUxRCxTQUFTLEVBQWMsQ0FBQyxFQUFLLENBQzNCLE9BQU8sRUFBTSxTQUFTLEVBQUssSUFBSSxFQUFJLEVBQUksTUFBTSxFQUFHLEVBQUUsRUFBSSxFQVl4RCxTQUFTLEVBQVMsQ0FBQyxFQUFNLEVBQUssRUFBTSxDQUNsQyxJQUFLLEVBQU0sT0FBTyxFQUNsQixPQUFPLEVBQUssT0FBTyxDQUFHLEVBQUUsYUFBYSxDQUFJLENBQUMsRUFBTyxFQUFHLENBR2xELE9BREEsRUFBUSxHQUFlLENBQUssR0FDcEIsR0FBUSxFQUFJLElBQU0sRUFBUSxJQUFNLEVBQ3pDLEVBQUUsS0FBSyxFQUFPLElBQU0sRUFBRSxFQVV6QixTQUFTLEVBQVcsQ0FBQyxFQUFLLENBQ3hCLE9BQU8sRUFBTSxRQUFRLENBQUcsSUFBTSxFQUFJLEtBQUssRUFBVyxFQUdwRCxJQUFNLEdBQWEsRUFBTSxhQUFhLEVBQU8sQ0FBQyxFQUFHLGNBQWUsQ0FBTSxDQUFDLEVBQU0sQ0FDM0UsTUFBTyxXQUFXLEtBQUssQ0FBSSxFQUM1QixFQXlCRCxTQUFTLEVBQVUsQ0FBQyxFQUFLLEVBQVUsRUFBUyxDQUMxQyxJQUFLLEVBQU0sU0FBUyxDQUFHLEVBQ3JCLE1BQU0sSUFBSSxVQUFVLDBCQUEwQixFQUloRCxFQUFXLEdBQVksSUFBSyxJQUFvQixVQUdoRCxFQUFVLEVBQU0sYUFBYSxFQUFTLENBQ3BDLFdBQVksR0FDWixLQUFNLEdBQ04sUUFBUyxFQUNYLEVBQUcsWUFBZ0IsQ0FBTyxDQUFDLEVBQVEsRUFBUSxDQUV6QyxPQUFRLEVBQU0sWUFBWSxFQUFPLEVBQU8sRUFDekMsRUFFRCxJQUFNLEVBQWEsRUFBUSxXQUVyQixFQUFVLEVBQVEsU0FBVyxFQUM3QixFQUFPLEVBQVEsS0FDZixFQUFVLEVBQVEsUUFFbEIsR0FEUSxFQUFRLGFBQWUsT0FBUyxhQUFlLE9BQ3BDLEVBQU0sb0JBQW9CLENBQVEsRUFFM0QsSUFBSyxFQUFNLFdBQVcsQ0FBTyxFQUMzQixNQUFNLElBQUksVUFBVSw0QkFBNEIsRUFHbEQsU0FBUyxDQUFZLENBQUMsRUFBTyxDQUMzQixHQUFJLElBQVUsS0FBTSxNQUFPLEdBRTNCLEdBQUksRUFBTSxPQUFPLENBQUssRUFDcEIsT0FBTyxFQUFNLFlBQVksRUFHM0IsSUFBSyxHQUFXLEVBQU0sT0FBTyxDQUFLLEVBQ2hDLE1BQU0sSUFBSSxHQUFXLDhDQUE4QyxFQUdyRSxHQUFJLEVBQU0sY0FBYyxDQUFLLEdBQUssRUFBTSxhQUFhLENBQUssRUFDeEQsT0FBTyxVQUFrQixPQUFTLFdBQWEsSUFBSSxLQUFLLENBQUMsQ0FBSyxDQUFDLEVBQUksT0FBTyxLQUFLLENBQUssRUFHdEYsT0FBTyxFQWFULFNBQVMsQ0FBYyxDQUFDLEVBQU8sRUFBSyxFQUFNLENBQ3hDLElBQUksRUFBTSxFQUVWLEdBQUksSUFBVSxVQUFlLElBQVUsVUFDckMsR0FBSSxFQUFNLFNBQVMsRUFBSyxJQUFJLEVBRTFCLEVBQU0sRUFBYSxFQUFNLEVBQUksTUFBTSxFQUFHLEVBQUUsRUFFeEMsRUFBUSxLQUFLLFVBQVUsQ0FBSyxVQUUzQixFQUFNLFFBQVEsQ0FBSyxHQUFLLEdBQVksQ0FBSyxJQUN4QyxFQUFNLFdBQVcsQ0FBSyxHQUFLLEVBQU0sU0FBUyxFQUFLLElBQUksS0FBTyxFQUFNLEVBQU0sUUFBUSxDQUFLLEdBWXJGLE9BVEEsRUFBTSxHQUFlLENBQUcsRUFFeEIsRUFBSSxpQkFBaUIsQ0FBSSxDQUFDLEVBQUksRUFBTyxDQUNuQyxFQUFFLEVBQU0sWUFBWSxDQUFFLEdBQUssSUFBTyxPQUFTLEVBQVMsT0FFbEQsSUFBWSxHQUFPLEdBQVUsQ0FBQyxDQUFHLEVBQUcsRUFBTyxDQUFJLEVBQUssSUFBWSxLQUFPLEVBQU0sRUFBTSxLQUNuRixFQUFhLENBQUUsQ0FDakIsRUFDRCxFQUNNLEdBSVgsR0FBSSxHQUFZLENBQUssRUFDbkIsTUFBTyxHQUtULE9BRkEsRUFBUyxPQUFPLEdBQVUsRUFBTSxFQUFLLENBQUksRUFBRyxFQUFhLENBQUssQ0FBQyxFQUV4RCxHQUdULElBQU0sRUFBUSxDQUFDLEVBRVQsRUFBaUIsT0FBTyxPQUFPLEdBQVksQ0FDL0MsaUJBQ0EsZUFDQSxjQUNGLENBQUMsRUFFRCxTQUFTLENBQUssQ0FBQyxFQUFPLEVBQU0sQ0FDMUIsR0FBSSxFQUFNLFlBQVksQ0FBSyxFQUFHLE9BRTlCLEdBQUksRUFBTSxRQUFRLENBQUssSUFBTSxHQUMzQixNQUFNLE1BQU0sa0NBQW9DLEVBQUssS0FBSyxHQUFHLENBQUMsRUFHaEUsRUFBTSxLQUFLLENBQUssRUFFaEIsRUFBTSxRQUFRLFdBQWdCLENBQUksQ0FBQyxFQUFJLEVBQUssQ0FLMUMsTUFKaUIsRUFBTSxZQUFZLENBQUUsR0FBSyxJQUFPLE9BQVMsRUFBUSxLQUNoRSxFQUFVLEVBQUksRUFBTSxTQUFTLENBQUcsRUFBSSxFQUFJLEtBQUssRUFBSSxFQUFLLEVBQU0sQ0FDOUQsS0FFZSxHQUNiLEVBQU0sRUFBSSxFQUFPLEVBQUssT0FBTyxDQUFHLEVBQUksQ0FBQyxDQUFHLENBQUMsRUFFNUMsRUFFRCxFQUFNLElBQUksRUFHWixJQUFLLEVBQU0sU0FBUyxDQUFHLEVBQ3JCLE1BQU0sSUFBSSxVQUFVLHdCQUF3QixFQUs5QyxPQUZBLEVBQU0sQ0FBRyxFQUVGLEVBR1QsSUFBZSxNQzlNZixTQUFTLEVBQU0sQ0FBQyxFQUFLLENBQ25CLElBQU0sRUFBVSxDQUNkLElBQUssTUFDTCxJQUFLLE1BQ0wsSUFBSyxNQUNMLElBQUssTUFDTCxJQUFLLE1BQ0wsTUFBTyxJQUNQLE1BQU8sTUFDVCxFQUNBLE9BQU8sbUJBQW1CLENBQUcsRUFBRSxRQUFRLDRCQUE2QixDQUFRLENBQUMsRUFBTyxDQUNsRixPQUFPLEVBQVEsR0FDaEIsRUFXSCxTQUFTLEVBQW9CLENBQUMsRUFBUSxFQUFTLENBQzdDLEtBQUssT0FBUyxDQUFDLEVBRWYsR0FBVSxHQUFXLEVBQVEsS0FBTSxDQUFPLEVBRzVDLElBQU0sR0FBWSxHQUFxQixVQUV2QyxHQUFVLGdCQUFrQixDQUFNLENBQUMsRUFBTSxFQUFPLENBQzlDLEtBQUssT0FBTyxLQUFLLENBQUMsRUFBTSxDQUFLLENBQUMsR0FHaEMsR0FBVSxrQkFBb0IsQ0FBUSxDQUFDLEVBQVMsQ0FDOUMsSUFBTSxFQUFVLFVBQWtCLENBQUMsRUFBTyxDQUN4QyxPQUFPLEVBQVEsS0FBSyxLQUFNLEVBQU8sRUFBTSxHQUNyQyxHQUVKLE9BQU8sS0FBSyxPQUFPLGFBQWEsQ0FBSSxDQUFDLEVBQU0sQ0FDekMsT0FBTyxFQUFRLEVBQUssRUFBRSxFQUFJLElBQU0sRUFBUSxFQUFLLEVBQUUsR0FDOUMsRUFBRSxFQUFFLEtBQUssR0FBRyxHQUdqQixJQUFlLE1DNUNmLFNBQVMsRUFBTSxDQUFDLEVBQUssQ0FDbkIsT0FBTyxtQkFBbUIsQ0FBRyxFQUMzQixRQUFRLFFBQVMsR0FBRyxFQUNwQixRQUFRLE9BQVEsR0FBRyxFQUNuQixRQUFRLFFBQVMsR0FBRyxFQUNwQixRQUFRLE9BQVEsR0FBRyxFQUNuQixRQUFRLFFBQVMsR0FBRyxFQUNwQixRQUFRLFFBQVMsR0FBRyxFQVl4QixTQUF3QixFQUFRLENBQUMsRUFBSyxFQUFRLEVBQVMsQ0FFckQsSUFBSyxFQUNILE9BQU8sRUFHVCxJQUFNLEVBQVUsR0FBVyxFQUFRLFFBQVUsR0FFN0MsR0FBSSxFQUFNLFdBQVcsQ0FBTyxFQUMxQixFQUFVLENBQ1IsVUFBVyxDQUNiLEVBR0YsSUFBTSxFQUFjLEdBQVcsRUFBUSxVQUVuQyxFQUVKLEdBQUksRUFDRixFQUFtQixFQUFZLEVBQVEsQ0FBTyxNQUU5QyxHQUFtQixFQUFNLGtCQUFrQixDQUFNLEVBQy9DLEVBQU8sU0FBUyxFQUNoQixJQUFJLEdBQXFCLEVBQVEsQ0FBTyxFQUFFLFNBQVMsQ0FBTyxFQUc5RCxHQUFJLEVBQWtCLENBQ3BCLElBQU0sRUFBZ0IsRUFBSSxRQUFRLEdBQUcsRUFFckMsR0FBSSxJQUFrQixHQUNwQixFQUFNLEVBQUksTUFBTSxFQUFHLENBQWEsRUFFbEMsSUFBUSxFQUFJLFFBQVEsR0FBRyxJQUFNLEdBQUssSUFBTSxLQUFPLEVBR2pELE9BQU8sRUMvRFQsTUFBTSxFQUFtQixDQUN2QixXQUFXLEVBQUcsQ0FDWixLQUFLLFNBQVcsQ0FBQyxFQVduQixHQUFHLENBQUMsRUFBVyxFQUFVLEVBQVMsQ0FPaEMsT0FOQSxLQUFLLFNBQVMsS0FBSyxDQUNqQixZQUNBLFdBQ0EsWUFBYSxFQUFVLEVBQVEsWUFBYyxHQUM3QyxRQUFTLEVBQVUsRUFBUSxRQUFVLElBQ3ZDLENBQUMsRUFDTSxLQUFLLFNBQVMsT0FBUyxFQVVoQyxLQUFLLENBQUMsRUFBSSxDQUNSLEdBQUksS0FBSyxTQUFTLEdBQ2hCLEtBQUssU0FBUyxHQUFNLEtBU3hCLEtBQUssRUFBRyxDQUNOLEdBQUksS0FBSyxTQUNQLEtBQUssU0FBVyxDQUFDLEVBY3JCLE9BQU8sQ0FBQyxFQUFJLENBQ1YsRUFBTSxRQUFRLEtBQUssa0JBQW1CLENBQWMsQ0FBQyxFQUFHLENBQ3RELEdBQUksSUFBTSxLQUNSLEVBQUcsQ0FBQyxFQUVQLEVBRUwsQ0FFQSxJQUFlLE1DcEVmLElBQWUsSUFDYixrQkFBbUIsR0FDbkIsa0JBQW1CLEdBQ25CLG9CQUFxQixFQUN2QixFQ0hBLElBQWUsVUFBTyxrQkFBb0IsWUFBYyxnQkFBa0IsR0NEMUUsSUFBZSxVQUFPLFdBQWEsWUFBYyxTQUFXLEtDQTVELElBQWUsVUFBTyxPQUFTLFlBQWMsS0FBTyxLQ0VwRCxJQUFlLElBQ2IsVUFBVyxHQUNYLFFBQVMsQ0FDUCxtQkFDQSxZQUNBLE9BQ0YsRUFDQSxVQUFXLENBQUMsT0FBUSxRQUFTLE9BQVEsT0FBUSxNQUFPLE1BQU0sQ0FDNUQsNElDWkEsSUFBTSxVQUF1QixTQUFXLG9CQUFzQixXQUFhLFlBRXJFLFVBQW9CLFlBQWMsVUFBWSxXQUFhLE9BbUIzRCxHQUF3QixNQUMxQixJQUFjLENBQUMsY0FBZSxlQUFnQixJQUFJLEVBQUUsUUFBUSxHQUFXLE9BQU8sRUFBSSxHQVdoRixJQUFrQyxJQUFNLENBQzVDLGNBQ1Msb0JBQXNCLGFBRTdCLGdCQUFnQiwwQkFDVCxLQUFLLGdCQUFrQixhQUUvQixFQUVHLEdBQVMsSUFBaUIsT0FBTyxTQUFTLE1BQVEsbUJDdkN4RCxJQUFlLE9BQ1YsTUFDQSxFQUNMLEVDQUEsU0FBd0IsRUFBZ0IsQ0FBQyxFQUFNLEVBQVMsQ0FDdEQsT0FBTyxHQUFXLEVBQU0sSUFBSSxHQUFTLFFBQVEsZ0JBQW1CLE9BQU8sT0FBTyxDQUM1RSxnQkFBaUIsQ0FBQyxFQUFPLEVBQUssRUFBTSxFQUFTLENBQzNDLEdBQUksR0FBUyxRQUFVLEVBQU0sU0FBUyxDQUFLLEVBRXpDLE9BREEsS0FBSyxPQUFPLEVBQUssRUFBTSxTQUFTLFFBQVEsQ0FBQyxFQUNsQyxHQUdULE9BQU8sRUFBUSxlQUFlLE1BQU0sS0FBTSxTQUFTLEVBRXZELEVBQUcsQ0FBTyxDQUFDLEVDTGIsU0FBUyxFQUFhLENBQUMsRUFBTSxDQUszQixPQUFPLEVBQU0sU0FBUyxnQkFBaUIsQ0FBSSxFQUFFLElBQUksS0FBUyxDQUN4RCxPQUFPLEVBQU0sS0FBTyxLQUFPLEdBQUssRUFBTSxJQUFNLEVBQU0sR0FDbkQsRUFVSCxTQUFTLEVBQWEsQ0FBQyxFQUFLLENBQzFCLElBQU0sRUFBTSxDQUFDLEVBQ1AsRUFBTyxPQUFPLEtBQUssQ0FBRyxFQUN4QixFQUNFLEVBQU0sRUFBSyxPQUNiLEVBQ0osSUFBSyxFQUFJLEVBQUcsRUFBSSxFQUFLLElBQ25CLEVBQU0sRUFBSyxHQUNYLEVBQUksR0FBTyxFQUFJLEdBRWpCLE9BQU8sRUFVVCxTQUFTLEVBQWMsQ0FBQyxFQUFVLENBQ2hDLFNBQVMsQ0FBUyxDQUFDLEVBQU0sRUFBTyxFQUFRLEVBQU8sQ0FDN0MsSUFBSSxFQUFPLEVBQUssS0FFaEIsR0FBSSxJQUFTLFlBQWEsTUFBTyxHQUVqQyxJQUFNLEVBQWUsT0FBTyxVQUFVLENBQUksRUFDcEMsRUFBUyxHQUFTLEVBQUssT0FHN0IsR0FGQSxHQUFRLEdBQVEsRUFBTSxRQUFRLENBQU0sRUFBSSxFQUFPLE9BQVMsRUFFcEQsRUFBUSxDQUNWLEdBQUksRUFBTSxXQUFXLEVBQVEsQ0FBSSxFQUMvQixFQUFPLEdBQVEsQ0FBQyxFQUFPLEdBQU8sQ0FBSyxNQUVuQyxHQUFPLEdBQVEsRUFHakIsT0FBUSxFQUdWLElBQUssRUFBTyxLQUFVLEVBQU0sU0FBUyxFQUFPLEVBQUssRUFDL0MsRUFBTyxHQUFRLENBQUMsRUFLbEIsR0FGZSxFQUFVLEVBQU0sRUFBTyxFQUFPLEdBQU8sQ0FBSyxHQUUzQyxFQUFNLFFBQVEsRUFBTyxFQUFLLEVBQ3RDLEVBQU8sR0FBUSxHQUFjLEVBQU8sRUFBSyxFQUczQyxPQUFRLEVBR1YsR0FBSSxFQUFNLFdBQVcsQ0FBUSxHQUFLLEVBQU0sV0FBVyxFQUFTLE9BQU8sRUFBRyxDQUNwRSxJQUFNLEVBQU0sQ0FBQyxFQU1iLE9BSkEsRUFBTSxhQUFhLEVBQVUsQ0FBQyxFQUFNLElBQVUsQ0FDNUMsRUFBVSxHQUFjLENBQUksRUFBRyxFQUFPLEVBQUssQ0FBQyxFQUM3QyxFQUVNLEVBR1QsT0FBTyxLQUdULElBQWUsTUMxRWYsU0FBUyxFQUFlLENBQUMsRUFBVSxFQUFRLEVBQVMsQ0FDbEQsR0FBSSxFQUFNLFNBQVMsQ0FBUSxFQUN6QixHQUFJLENBRUYsT0FEQyxHQUFVLEtBQUssT0FBTyxDQUFRLEVBQ3hCLEVBQU0sS0FBSyxDQUFRLFFBQ25CLEVBQVAsQ0FDQSxHQUFJLEVBQUUsT0FBUyxjQUNiLE1BQU0sRUFLWixPQUFRLEdBQVcsS0FBSyxXQUFXLENBQVEsRUFHN0MsSUFBTSxHQUFXLENBRWYsYUFBYyxHQUVkLFFBQVMsQ0FBQyxNQUFPLE9BQVEsT0FBTyxFQUVoQyxpQkFBa0IsVUFBVSxDQUFnQixDQUFDLEVBQU0sRUFBUyxDQUMxRCxJQUFNLEVBQWMsRUFBUSxlQUFlLEdBQUssR0FDMUMsRUFBcUIsRUFBWSxRQUFRLGtCQUFrQixFQUFJLEdBQy9ELEVBQWtCLEVBQU0sU0FBUyxDQUFJLEVBRTNDLEdBQUksR0FBbUIsRUFBTSxXQUFXLENBQUksRUFDMUMsRUFBTyxJQUFJLFNBQVMsQ0FBSSxFQUsxQixHQUZtQixFQUFNLFdBQVcsQ0FBSSxFQUd0QyxPQUFPLEVBQXFCLEtBQUssVUFBVSxHQUFlLENBQUksQ0FBQyxFQUFJLEVBR3JFLEdBQUksRUFBTSxjQUFjLENBQUksR0FDMUIsRUFBTSxTQUFTLENBQUksR0FDbkIsRUFBTSxTQUFTLENBQUksR0FDbkIsRUFBTSxPQUFPLENBQUksR0FDakIsRUFBTSxPQUFPLENBQUksR0FDakIsRUFBTSxpQkFBaUIsQ0FBSSxFQUUzQixPQUFPLEVBRVQsR0FBSSxFQUFNLGtCQUFrQixDQUFJLEVBQzlCLE9BQU8sRUFBSyxPQUVkLEdBQUksRUFBTSxrQkFBa0IsQ0FBSSxFQUU5QixPQURBLEVBQVEsZUFBZSxrREFBbUQsRUFBSyxFQUN4RSxFQUFLLFNBQVMsRUFHdkIsSUFBSSxFQUVKLEdBQUksRUFBaUIsQ0FDbkIsR0FBSSxFQUFZLFFBQVEsbUNBQW1DLEVBQUksR0FDN0QsT0FBTyxHQUFpQixFQUFNLEtBQUssY0FBYyxFQUFFLFNBQVMsRUFHOUQsSUFBSyxFQUFhLEVBQU0sV0FBVyxDQUFJLElBQU0sRUFBWSxRQUFRLHFCQUFxQixFQUFJLEdBQUksQ0FDNUYsSUFBTSxFQUFZLEtBQUssS0FBTyxLQUFLLElBQUksU0FFdkMsT0FBTyxHQUNMLEVBQWEsQ0FBQyxVQUFXLENBQUksRUFBSSxFQUNqQyxHQUFhLElBQUksRUFDakIsS0FBSyxjQUNQLEdBSUosR0FBSSxHQUFtQixFQUVyQixPQURBLEVBQVEsZUFBZSxtQkFBb0IsRUFBSyxFQUN6QyxHQUFnQixDQUFJLEVBRzdCLE9BQU8sRUFDUixFQUVELGtCQUFtQixVQUFVLENBQWlCLENBQUMsRUFBTSxDQUNuRCxJQUFNLEVBQWUsS0FBSyxjQUFnQixHQUFTLGFBQzdDLEVBQW9CLEdBQWdCLEVBQWEsa0JBQ2pELEVBQWdCLEtBQUssZUFBaUIsT0FFNUMsR0FBSSxFQUFNLFdBQVcsQ0FBSSxHQUFLLEVBQU0saUJBQWlCLENBQUksRUFDdkQsT0FBTyxFQUdULEdBQUksR0FBUSxFQUFNLFNBQVMsQ0FBSSxJQUFPLElBQXNCLEtBQUssY0FBaUIsR0FBZ0IsQ0FFaEcsSUFBTSxJQURvQixHQUFnQixFQUFhLG9CQUNQLEVBRWhELEdBQUksQ0FDRixPQUFPLEtBQUssTUFBTSxDQUFJLFFBQ2YsRUFBUCxDQUNBLEdBQUksRUFBbUIsQ0FDckIsR0FBSSxFQUFFLE9BQVMsY0FDYixNQUFNLEdBQVcsS0FBSyxFQUFHLEdBQVcsaUJBQWtCLEtBQU0sS0FBTSxLQUFLLFFBQVEsRUFFakYsTUFBTSxJQUtaLE9BQU8sRUFDUixFQU1ELFFBQVMsRUFFVCxlQUFnQixhQUNoQixlQUFnQixlQUVoQixpQkFBa0IsR0FDbEIsY0FBZSxHQUVmLElBQUssQ0FDSCxTQUFVLEdBQVMsUUFBUSxTQUMzQixLQUFNLEdBQVMsUUFBUSxJQUN6QixFQUVBLHdCQUF5QixDQUFjLENBQUMsRUFBUSxDQUM5QyxPQUFPLEdBQVUsS0FBTyxFQUFTLEtBR25DLFFBQVMsQ0FDUCxPQUFRLENBQ04sT0FBVSxvQ0FDVixlQUFnQixNQUNsQixDQUNGLENBQ0YsRUFFQSxFQUFNLFFBQVEsQ0FBQyxTQUFVLE1BQU8sT0FBUSxPQUFRLE1BQU8sT0FBTyxFQUFHLENBQUMsSUFBVyxDQUMzRSxHQUFTLFFBQVEsR0FBVSxDQUFDLEVBQzdCLEVBRUQsSUFBZSxNQzFKZixJQUFNLEdBQW9CLEVBQU0sWUFBWSxDQUMxQyxNQUFPLGdCQUFpQixpQkFBa0IsZUFBZ0IsT0FDMUQsVUFBVyxPQUFRLE9BQVEsb0JBQXFCLHNCQUNoRCxnQkFBaUIsV0FBWSxlQUFnQixzQkFDN0MsVUFBVyxjQUFlLFlBQzVCLENBQUMsRUFnQmMsUUFBYyxDQUMzQixJQUFNLEVBQVMsQ0FBQyxFQUNaLEVBQ0EsRUFDQSxFQXNCSixPQXBCQSxHQUFjLEVBQVcsTUFBTTtBQUFBLENBQUksRUFBRSxpQkFBaUIsQ0FBTSxDQUFDLEVBQU0sQ0FLakUsR0FKQSxFQUFJLEVBQUssUUFBUSxHQUFHLEVBQ3BCLEVBQU0sRUFBSyxVQUFVLEVBQUcsQ0FBQyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQzlDLEVBQU0sRUFBSyxVQUFVLEVBQUksQ0FBQyxFQUFFLEtBQUssR0FFNUIsR0FBUSxFQUFPLElBQVEsR0FBa0IsR0FDNUMsT0FHRixHQUFJLElBQVEsYUFDVixHQUFJLEVBQU8sR0FDVCxFQUFPLEdBQUssS0FBSyxDQUFHLE1BRXBCLEdBQU8sR0FBTyxDQUFDLENBQUcsTUFHcEIsR0FBTyxHQUFPLEVBQU8sR0FBTyxFQUFPLEdBQU8sS0FBTyxFQUFNLEVBRTFELEVBRU0sR0NoRFQsSUFBTSxHQUFhLE9BQU8sV0FBVyxFQUVyQyxTQUFTLEVBQWUsQ0FBQyxFQUFRLENBQy9CLE9BQU8sR0FBVSxPQUFPLENBQU0sRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUdyRCxTQUFTLEVBQWMsQ0FBQyxFQUFPLENBQzdCLEdBQUksSUFBVSxJQUFTLEdBQVMsS0FDOUIsT0FBTyxFQUdULE9BQU8sRUFBTSxRQUFRLENBQUssRUFBSSxFQUFNLElBQUksRUFBYyxFQUFJLE9BQU8sQ0FBSyxFQUd4RSxTQUFTLEVBQVcsQ0FBQyxFQUFLLENBQ3hCLElBQU0sRUFBUyxPQUFPLE9BQU8sSUFBSSxFQUMzQixFQUFXLG1DQUNiLEVBRUosTUFBUSxFQUFRLEVBQVMsS0FBSyxDQUFHLEVBQy9CLEVBQU8sRUFBTSxJQUFNLEVBQU0sR0FHM0IsT0FBTyxFQUdULElBQU0sR0FBb0IsQ0FBQyxJQUFRLGlDQUFpQyxLQUFLLEVBQUksS0FBSyxDQUFDLEVBRW5GLFNBQVMsRUFBZ0IsQ0FBQyxFQUFTLEVBQU8sRUFBUSxFQUFRLEVBQW9CLENBQzVFLEdBQUksRUFBTSxXQUFXLENBQU0sRUFDekIsT0FBTyxFQUFPLEtBQUssS0FBTSxFQUFPLENBQU0sRUFHeEMsR0FBSSxFQUNGLEVBQVEsRUFHVixJQUFLLEVBQU0sU0FBUyxDQUFLLEVBQUcsT0FFNUIsR0FBSSxFQUFNLFNBQVMsQ0FBTSxFQUN2QixPQUFPLEVBQU0sUUFBUSxDQUFNLElBQU0sR0FHbkMsR0FBSSxFQUFNLFNBQVMsQ0FBTSxFQUN2QixPQUFPLEVBQU8sS0FBSyxDQUFLLEVBSTVCLFNBQVMsRUFBWSxDQUFDLEVBQVEsQ0FDNUIsT0FBTyxFQUFPLEtBQUssRUFDaEIsWUFBWSxFQUFFLFFBQVEsa0JBQW1CLENBQUMsRUFBRyxFQUFNLElBQVEsQ0FDMUQsT0FBTyxFQUFLLFlBQVksRUFBSSxFQUM3QixFQUdMLFNBQVMsRUFBYyxDQUFDLEVBQUssRUFBUSxDQUNuQyxJQUFNLEVBQWUsRUFBTSxZQUFZLElBQU0sQ0FBTSxFQUVuRCxDQUFDLE1BQU8sTUFBTyxLQUFLLEVBQUUsUUFBUSxLQUFjLENBQzFDLE9BQU8sZUFBZSxFQUFLLEVBQWEsRUFBYyxDQUNwRCxjQUFlLENBQUMsRUFBTSxFQUFNLEVBQU0sQ0FDaEMsT0FBTyxLQUFLLEdBQVksS0FBSyxLQUFNLEVBQVEsRUFBTSxFQUFNLENBQUksR0FFN0QsYUFBYyxFQUNoQixDQUFDLEVBQ0YsRUFHSCxNQUFNLEVBQWEsQ0FDakIsV0FBVyxDQUFDLEVBQVMsQ0FDbkIsR0FBVyxLQUFLLElBQUksQ0FBTyxFQUc3QixHQUFHLENBQUMsRUFBUSxFQUFnQixFQUFTLENBQ25DLElBQU0sRUFBTyxLQUViLFNBQVMsQ0FBUyxDQUFDLEVBQVEsRUFBUyxFQUFVLENBQzVDLElBQU0sRUFBVSxHQUFnQixDQUFPLEVBRXZDLElBQUssRUFDSCxNQUFNLElBQUksTUFBTSx3Q0FBd0MsRUFHMUQsSUFBTSxFQUFNLEVBQU0sUUFBUSxFQUFNLENBQU8sRUFFdkMsSUFBSSxHQUFPLEVBQUssS0FBUyxRQUFhLElBQWEsSUFBUyxJQUFhLFFBQWEsRUFBSyxLQUFTLEdBQ2xHLEVBQUssR0FBTyxHQUFXLEdBQWUsQ0FBTSxFQUloRCxJQUFNLEVBQWEsQ0FBQyxFQUFTLElBQzNCLEVBQU0sUUFBUSxFQUFTLENBQUMsRUFBUSxJQUFZLEVBQVUsRUFBUSxFQUFTLENBQVEsQ0FBQyxFQUVsRixHQUFJLEVBQU0sY0FBYyxDQUFNLEdBQUssYUFBa0IsS0FBSyxZQUN4RCxFQUFXLEVBQVEsQ0FBYyxVQUN6QixFQUFNLFNBQVMsQ0FBTSxJQUFNLEVBQVMsRUFBTyxLQUFLLEtBQU8sR0FBa0IsQ0FBTSxFQUN2RixFQUFXLEdBQWEsQ0FBTSxFQUFHLENBQWMsVUFDdEMsRUFBTSxVQUFVLENBQU0sRUFDL0IsUUFBWSxFQUFLLEtBQVUsRUFBTyxRQUFRLEVBQ3hDLEVBQVUsRUFBTyxFQUFLLENBQU8sTUFHL0IsSUFBVSxNQUFRLEVBQVUsRUFBZ0IsRUFBUSxDQUFPLEVBRzdELE9BQU8sS0FHVCxHQUFHLENBQUMsRUFBUSxFQUFRLENBR2xCLEdBRkEsRUFBUyxHQUFnQixDQUFNLEVBRTNCLEVBQVEsQ0FDVixJQUFNLEVBQU0sRUFBTSxRQUFRLEtBQU0sQ0FBTSxFQUV0QyxHQUFJLEVBQUssQ0FDUCxJQUFNLEVBQVEsS0FBSyxHQUVuQixJQUFLLEVBQ0gsT0FBTyxFQUdULEdBQUksSUFBVyxHQUNiLE9BQU8sR0FBWSxDQUFLLEVBRzFCLEdBQUksRUFBTSxXQUFXLENBQU0sRUFDekIsT0FBTyxFQUFPLEtBQUssS0FBTSxFQUFPLENBQUcsRUFHckMsR0FBSSxFQUFNLFNBQVMsQ0FBTSxFQUN2QixPQUFPLEVBQU8sS0FBSyxDQUFLLEVBRzFCLE1BQU0sSUFBSSxVQUFVLHdDQUF3QyxJQUtsRSxHQUFHLENBQUMsRUFBUSxFQUFTLENBR25CLEdBRkEsRUFBUyxHQUFnQixDQUFNLEVBRTNCLEVBQVEsQ0FDVixJQUFNLEVBQU0sRUFBTSxRQUFRLEtBQU0sQ0FBTSxFQUV0QyxTQUFVLEdBQU8sS0FBSyxLQUFTLFVBQWUsR0FBVyxHQUFpQixLQUFNLEtBQUssR0FBTSxFQUFLLENBQU8sSUFHekcsTUFBTyxHQUdULE1BQU0sQ0FBQyxFQUFRLEVBQVMsQ0FDdEIsSUFBTSxFQUFPLEtBQ1QsRUFBVSxHQUVkLFNBQVMsQ0FBWSxDQUFDLEVBQVMsQ0FHN0IsR0FGQSxFQUFVLEdBQWdCLENBQU8sRUFFN0IsRUFBUyxDQUNYLElBQU0sRUFBTSxFQUFNLFFBQVEsRUFBTSxDQUFPLEVBRXZDLEdBQUksS0FBUyxHQUFXLEdBQWlCLEVBQU0sRUFBSyxHQUFNLEVBQUssQ0FBTyxHQUNwRSxPQUFPLEVBQUssR0FFWixFQUFVLElBS2hCLEdBQUksRUFBTSxRQUFRLENBQU0sRUFDdEIsRUFBTyxRQUFRLENBQVksTUFFM0IsR0FBYSxDQUFNLEVBR3JCLE9BQU8sRUFHVCxLQUFLLENBQUMsRUFBUyxDQUNiLElBQU0sRUFBTyxPQUFPLEtBQUssSUFBSSxFQUN6QixFQUFJLEVBQUssT0FDVCxFQUFVLEdBRWQsTUFBTyxJQUFLLENBQ1YsSUFBTSxFQUFNLEVBQUssR0FDakIsSUFBSSxHQUFXLEdBQWlCLEtBQU0sS0FBSyxHQUFNLEVBQUssRUFBUyxFQUFJLEVBQ2pFLE9BQU8sS0FBSyxHQUNaLEVBQVUsR0FJZCxPQUFPLEVBR1QsU0FBUyxDQUFDLEVBQVEsQ0FDaEIsSUFBTSxFQUFPLEtBQ1AsRUFBVSxDQUFDLEVBc0JqQixPQXBCQSxFQUFNLFFBQVEsS0FBTSxDQUFDLEVBQU8sSUFBVyxDQUNyQyxJQUFNLEVBQU0sRUFBTSxRQUFRLEVBQVMsQ0FBTSxFQUV6QyxHQUFJLEVBQUssQ0FDUCxFQUFLLEdBQU8sR0FBZSxDQUFLLFNBQ3pCLEVBQUssR0FDWixPQUdGLElBQU0sRUFBYSxFQUFTLEdBQWEsQ0FBTSxFQUFJLE9BQU8sQ0FBTSxFQUFFLEtBQUssRUFFdkUsR0FBSSxJQUFlLEVBQ2pCLE9BQU8sRUFBSyxHQUdkLEVBQUssR0FBYyxHQUFlLENBQUssRUFFdkMsRUFBUSxHQUFjLEdBQ3ZCLEVBRU0sS0FHVCxNQUFNLElBQUksRUFBUyxDQUNqQixPQUFPLEtBQUssWUFBWSxPQUFPLEtBQU0sR0FBRyxDQUFPLEVBR2pELE1BQU0sQ0FBQyxFQUFXLENBQ2hCLElBQU0sRUFBTSxPQUFPLE9BQU8sSUFBSSxFQU05QixPQUpBLEVBQU0sUUFBUSxLQUFNLENBQUMsRUFBTyxJQUFXLENBQ3JDLEdBQVMsTUFBUSxJQUFVLEtBQVUsRUFBSSxHQUFVLEdBQWEsRUFBTSxRQUFRLENBQUssRUFBSSxFQUFNLEtBQUssSUFBSSxFQUFJLEdBQzNHLEVBRU0sR0FHUixPQUFPLFNBQVMsRUFBRyxDQUNsQixPQUFPLE9BQU8sUUFBUSxLQUFLLE9BQU8sQ0FBQyxFQUFFLE9BQU8sVUFBVSxFQUd4RCxRQUFRLEVBQUcsQ0FDVCxPQUFPLE9BQU8sUUFBUSxLQUFLLE9BQU8sQ0FBQyxFQUFFLElBQUksRUFBRSxFQUFRLEtBQVcsRUFBUyxLQUFPLENBQUssRUFBRSxLQUFLO0FBQUEsQ0FBSSxNQUczRixPQUFPLFlBQVksRUFBRyxDQUN6QixNQUFPLHFCQUdGLEtBQUksQ0FBQyxFQUFPLENBQ2pCLE9BQU8sYUFBaUIsS0FBTyxFQUFRLElBQUksS0FBSyxDQUFLLFFBR2hELE9BQU0sQ0FBQyxLQUFVLEVBQVMsQ0FDL0IsSUFBTSxFQUFXLElBQUksS0FBSyxDQUFLLEVBSS9CLE9BRkEsRUFBUSxRQUFRLENBQUMsSUFBVyxFQUFTLElBQUksQ0FBTSxDQUFDLEVBRXpDLFFBR0YsU0FBUSxDQUFDLEVBQVEsQ0FLdEIsSUFBTSxHQUpZLEtBQUssSUFBZSxLQUFLLElBQWMsQ0FDdkQsVUFBVyxDQUFDLENBQ2QsR0FFNEIsVUFDdEIsRUFBWSxLQUFLLFVBRXZCLFNBQVMsQ0FBYyxDQUFDLEVBQVMsQ0FDL0IsSUFBTSxFQUFVLEdBQWdCLENBQU8sRUFFdkMsSUFBSyxFQUFVLEdBQ2IsR0FBZSxFQUFXLENBQU8sRUFDakMsRUFBVSxHQUFXLEdBTXpCLE9BRkEsRUFBTSxRQUFRLENBQU0sRUFBSSxFQUFPLFFBQVEsQ0FBYyxFQUFJLEVBQWUsQ0FBTSxFQUV2RSxLQUVYLENBRUEsR0FBYSxTQUFTLENBQUMsZUFBZ0IsaUJBQWtCLFNBQVUsa0JBQW1CLGFBQWMsZUFBZSxDQUFDLEVBR3BILEVBQU0sa0JBQWtCLEdBQWEsVUFBVyxFQUFFLFNBQVEsSUFBUSxDQUNoRSxJQUFJLEVBQVMsRUFBSSxHQUFHLFlBQVksRUFBSSxFQUFJLE1BQU0sQ0FBQyxFQUMvQyxNQUFPLENBQ0wsSUFBSyxJQUFNLEVBQ1gsR0FBRyxDQUFDLEVBQWEsQ0FDZixLQUFLLEdBQVUsRUFFbkIsRUFDRCxFQUVELEVBQU0sY0FBYyxFQUFZLEVBRWhDLElBQWUsTUMvUmYsU0FBd0IsRUFBYSxDQUFDLEVBQUssRUFBVSxDQUNuRCxJQUFNLEVBQVMsTUFBUSxHQUNqQixFQUFVLEdBQVksRUFDdEIsRUFBVSxHQUFhLEtBQUssRUFBUSxPQUFPLEVBQzdDLEVBQU8sRUFBUSxLQVFuQixPQU5BLEVBQU0sUUFBUSxXQUFjLENBQVMsQ0FBQyxFQUFJLENBQ3hDLEVBQU8sRUFBRyxLQUFLLEVBQVEsRUFBTSxFQUFRLFVBQVUsRUFBRyxFQUFXLEVBQVMsT0FBUyxNQUFTLEVBQ3pGLEVBRUQsRUFBUSxVQUFVLEVBRVgsRUN4QlQsU0FBd0IsRUFBUSxDQUFDLEVBQU8sQ0FDdEMsU0FBVSxHQUFTLEVBQU0sWUNXM0IsU0FBUyxFQUFhLENBQUMsRUFBUyxFQUFRLEVBQVMsQ0FFL0MsR0FBVyxLQUFLLEtBQU0sR0FBVyxLQUFPLFdBQWEsRUFBUyxHQUFXLGFBQWMsRUFBUSxDQUFPLEVBQ3RHLEtBQUssS0FBTyxnQkFHZCxFQUFNLFNBQVMsR0FBZSxHQUFZLENBQ3hDLFdBQVksRUFDZCxDQUFDLEVBRUQsSUFBZSxNQ1hmLFNBQXdCLEVBQU0sQ0FBQyxFQUFTLEVBQVEsRUFBVSxDQUN4RCxJQUFNLEVBQWlCLEVBQVMsT0FBTyxlQUN2QyxJQUFLLEVBQVMsU0FBVyxHQUFrQixFQUFlLEVBQVMsTUFBTSxFQUN2RSxFQUFRLENBQVEsTUFFaEIsR0FBTyxJQUFJLEdBQ1QsbUNBQXFDLEVBQVMsT0FDOUMsQ0FBQyxHQUFXLGdCQUFpQixHQUFXLGdCQUFnQixFQUFFLEtBQUssTUFBTSxFQUFTLE9BQVMsR0FBRyxFQUFJLEdBQzlGLEVBQVMsT0FDVCxFQUFTLFFBQ1QsQ0FDRixDQUFDLEVDdEJMLFNBQXdCLEVBQWEsQ0FBQyxFQUFLLENBQ3pDLElBQU0sRUFBUSw0QkFBNEIsS0FBSyxDQUFHLEVBQ2xELE9BQU8sR0FBUyxFQUFNLElBQU0sR0NJOUIsU0FBUyxFQUFXLENBQUMsRUFBYyxFQUFLLENBQ3RDLEVBQWUsR0FBZ0IsR0FDL0IsSUFBTSxFQUFRLElBQUksTUFBTSxDQUFZLEVBQzlCLEVBQWEsSUFBSSxNQUFNLENBQVksRUFDckMsRUFBTyxFQUNQLEVBQU8sRUFDUCxFQUlKLE9BRkEsRUFBTSxJQUFRLE9BQVksRUFBTSxjQUVoQixDQUFJLENBQUMsRUFBYSxDQUNoQyxJQUFNLEVBQU0sS0FBSyxJQUFJLEVBRWYsRUFBWSxFQUFXLEdBRTdCLElBQUssRUFDSCxFQUFnQixFQUdsQixFQUFNLEdBQVEsRUFDZCxFQUFXLEdBQVEsRUFFbkIsSUFBSSxFQUFJLEVBQ0osRUFBYSxFQUVqQixNQUFPLElBQU0sRUFDWCxHQUFjLEVBQU0sS0FDcEIsRUFBSSxFQUFJLEVBS1YsR0FGQSxHQUFRLEVBQU8sR0FBSyxFQUVoQixJQUFTLEVBQ1gsR0FBUSxFQUFPLEdBQUssRUFHdEIsR0FBSSxFQUFNLEVBQWdCLEVBQ3hCLE9BR0YsSUFBTSxFQUFTLEdBQWEsRUFBTSxFQUVsQyxPQUFPLEVBQVMsS0FBSyxNQUFNLEVBQWEsS0FBTyxDQUFNLEVBQUksUUFJN0QsSUFBZSxNQ2hEZixTQUFTLEVBQVEsQ0FBQyxFQUFJLEVBQU0sQ0FDMUIsSUFBSSxFQUFZLEVBQ1osRUFBWSxLQUFPLEVBQ25CLEVBQ0EsRUFFRSxFQUFTLENBQUMsRUFBTSxFQUFNLEtBQUssSUFBSSxJQUFNLENBR3pDLEdBRkEsRUFBWSxFQUNaLEVBQVcsS0FDUCxFQUNGLGFBQWEsQ0FBSyxFQUNsQixFQUFRLEtBRVYsRUFBRyxNQUFNLEtBQU0sQ0FBSSxHQXFCckIsTUFBTyxDQWxCVyxJQUFJLElBQVMsQ0FDN0IsSUFBTSxFQUFNLEtBQUssSUFBSSxFQUNmLEVBQVMsRUFBTSxFQUNyQixHQUFLLEdBQVUsRUFDYixFQUFPLEVBQU0sQ0FBRyxVQUVoQixFQUFXLEdBQ04sRUFDSCxFQUFRLFdBQVcsSUFBTSxDQUN2QixFQUFRLEtBQ1IsRUFBTyxDQUFRLEdBQ2QsRUFBWSxDQUFNLEdBS2IsSUFBTSxHQUFZLEVBQU8sQ0FBUSxDQUV2QixFQUcxQixJQUFlLE1DdkNSLElBQU0sR0FBdUIsQ0FBQyxFQUFVLEVBQWtCLEVBQU8sSUFBTSxDQUM1RSxJQUFJLEVBQWdCLEVBQ2QsRUFBZSxHQUFZLEdBQUksR0FBRyxFQUV4QyxPQUFPLEdBQVMsS0FBSyxDQUNuQixJQUFNLEVBQVMsRUFBRSxPQUNYLEVBQVEsRUFBRSxpQkFBbUIsRUFBRSxNQUFRLE9BQ3ZDLEVBQWdCLEVBQVMsRUFDekIsRUFBTyxFQUFhLENBQWEsRUFDakMsRUFBVSxHQUFVLEVBRTFCLEVBQWdCLEVBRWhCLElBQU0sRUFBTyxDQUNYLFNBQ0EsUUFDQSxTQUFVLEVBQVMsRUFBUyxFQUFTLE9BQ3JDLE1BQU8sRUFDUCxLQUFNLEVBQU8sRUFBTyxPQUNwQixVQUFXLEdBQVEsR0FBUyxHQUFXLEVBQVEsR0FBVSxFQUFPLE9BQ2hFLE1BQU8sRUFDUCxpQkFBa0IsR0FBUyxNQUMxQixFQUFtQixXQUFhLFVBQVcsRUFDOUMsRUFFQSxFQUFTLENBQUksR0FDWixDQUFJLEdBR0ksR0FBeUIsQ0FBQyxFQUFPLElBQWMsQ0FDMUQsSUFBTSxFQUFtQixHQUFTLEtBRWxDLE1BQU8sQ0FBQyxDQUFDLElBQVcsRUFBVSxHQUFHLENBQy9CLG1CQUNBLFFBQ0EsUUFDRixDQUFDLEVBQUcsRUFBVSxFQUFFLEdBR0wsR0FBaUIsQ0FBQyxJQUFPLElBQUksSUFBUyxFQUFNLEtBQUssSUFBTSxFQUFHLEdBQUcsQ0FBSSxDQUFDLEVDekMvRSxJQUFlLE1BQVMsdUJBQXlCLENBQUMsRUFBUSxJQUFXLENBQUMsSUFBUSxDQUc1RSxPQUZBLEVBQU0sSUFBSSxJQUFJLEVBQUssR0FBUyxNQUFNLEVBR2hDLEVBQU8sV0FBYSxFQUFJLFVBQ3hCLEVBQU8sT0FBUyxFQUFJLE9BQ25CLEdBQVUsRUFBTyxPQUFTLEVBQUksUUFHakMsSUFBSSxJQUFJLEdBQVMsTUFBTSxFQUN2QixHQUFTLFdBQWEsa0JBQWtCLEtBQUssR0FBUyxVQUFVLFNBQVMsQ0FDM0UsRUFBSSxJQUFNLEdDVlYsSUFBZSxNQUFTLHNCQUd0QixDQUNFLEtBQUssQ0FBQyxFQUFNLEVBQU8sRUFBUyxFQUFNLEVBQVEsRUFBUSxDQUNoRCxJQUFNLEVBQVMsQ0FBQyxFQUFPLElBQU0sbUJBQW1CLENBQUssQ0FBQyxFQUV0RCxFQUFNLFNBQVMsQ0FBTyxHQUFLLEVBQU8sS0FBSyxXQUFhLElBQUksS0FBSyxDQUFPLEVBQUUsWUFBWSxDQUFDLEVBRW5GLEVBQU0sU0FBUyxDQUFJLEdBQUssRUFBTyxLQUFLLFFBQVUsQ0FBSSxFQUVsRCxFQUFNLFNBQVMsQ0FBTSxHQUFLLEVBQU8sS0FBSyxVQUFZLENBQU0sRUFFeEQsSUFBVyxJQUFRLEVBQU8sS0FBSyxRQUFRLEVBRXZDLFNBQVMsT0FBUyxFQUFPLEtBQUssSUFBSSxHQUdwQyxJQUFJLENBQUMsRUFBTSxDQUNULElBQU0sRUFBUSxTQUFTLE9BQU8sTUFBTSxJQUFJLE9BQU8sYUFBZSxFQUFPLFdBQVcsQ0FBQyxFQUNqRixPQUFRLEVBQVEsbUJBQW1CLEVBQU0sRUFBRSxFQUFJLE1BR2pELE1BQU0sQ0FBQyxFQUFNLENBQ1gsS0FBSyxNQUFNLEVBQU0sR0FBSSxLQUFLLElBQUksRUFBSSxRQUFRLEVBRTlDLEVBS0EsQ0FDRSxLQUFLLEVBQUcsR0FDUixJQUFJLEVBQUcsQ0FDTCxPQUFPLE1BRVQsTUFBTSxFQUFHLEVBQ1gsRUMvQkYsU0FBd0IsRUFBYSxDQUFDLEVBQUssQ0FJekMsTUFBTyw4QkFBOEIsS0FBSyxDQUFHLEVDSC9DLFNBQXdCLEVBQVcsQ0FBQyxFQUFTLEVBQWEsQ0FDeEQsT0FBTyxFQUNILEVBQVEsUUFBUSxTQUFVLEVBQUUsRUFBSSxJQUFNLEVBQVksUUFBUSxPQUFRLEVBQUUsRUFDcEUsRUNFTixTQUF3QixFQUFhLENBQUMsRUFBUyxFQUFjLEVBQW1CLENBQzlFLElBQUksR0FBaUIsR0FBYyxDQUFZLEVBQy9DLEdBQUksR0FBVyxHQUFpQixHQUFxQixHQUNuRCxPQUFPLEdBQVksRUFBUyxDQUFZLEVBRTFDLE9BQU8sRUNmVCxJQUFNLEdBQWtCLENBQUMsSUFBVSxhQUFpQixHQUFlLElBQUssQ0FBTSxFQUFJLEVBV2xGLFNBQXdCLEVBQVcsQ0FBQyxFQUFTLEVBQVMsQ0FFcEQsRUFBVSxHQUFXLENBQUMsRUFDdEIsSUFBTSxFQUFTLENBQUMsRUFFaEIsU0FBUyxDQUFjLENBQUMsRUFBUSxFQUFRLEVBQU0sRUFBVSxDQUN0RCxHQUFJLEVBQU0sY0FBYyxDQUFNLEdBQUssRUFBTSxjQUFjLENBQU0sRUFDM0QsT0FBTyxFQUFNLE1BQU0sS0FBSyxDQUFDLFVBQVEsRUFBRyxFQUFRLENBQU0sVUFDekMsRUFBTSxjQUFjLENBQU0sRUFDbkMsT0FBTyxFQUFNLE1BQU0sQ0FBQyxFQUFHLENBQU0sVUFDcEIsRUFBTSxRQUFRLENBQU0sRUFDN0IsT0FBTyxFQUFPLE1BQU0sRUFFdEIsT0FBTyxFQUlULFNBQVMsQ0FBbUIsQ0FBQyxFQUFHLEVBQUcsRUFBTyxFQUFVLENBQ2xELElBQUssRUFBTSxZQUFZLENBQUMsRUFDdEIsT0FBTyxFQUFlLEVBQUcsRUFBRyxFQUFPLENBQVEsV0FDakMsRUFBTSxZQUFZLENBQUMsRUFDN0IsT0FBTyxFQUFlLE9BQVcsRUFBRyxFQUFPLENBQVEsRUFLdkQsU0FBUyxDQUFnQixDQUFDLEVBQUcsRUFBRyxDQUM5QixJQUFLLEVBQU0sWUFBWSxDQUFDLEVBQ3RCLE9BQU8sRUFBZSxPQUFXLENBQUMsRUFLdEMsU0FBUyxDQUFnQixDQUFDLEVBQUcsRUFBRyxDQUM5QixJQUFLLEVBQU0sWUFBWSxDQUFDLEVBQ3RCLE9BQU8sRUFBZSxPQUFXLENBQUMsV0FDeEIsRUFBTSxZQUFZLENBQUMsRUFDN0IsT0FBTyxFQUFlLE9BQVcsQ0FBQyxFQUt0QyxTQUFTLENBQWUsQ0FBQyxFQUFHLEVBQUcsRUFBTSxDQUNuQyxHQUFJLEtBQVEsRUFDVixPQUFPLEVBQWUsRUFBRyxDQUFDLFVBQ2pCLEtBQVEsRUFDakIsT0FBTyxFQUFlLE9BQVcsQ0FBQyxFQUl0QyxJQUFNLEVBQVcsQ0FDZixJQUFLLEVBQ0wsT0FBUSxFQUNSLEtBQU0sRUFDTixRQUFTLEVBQ1QsaUJBQWtCLEVBQ2xCLGtCQUFtQixFQUNuQixpQkFBa0IsRUFDbEIsUUFBUyxFQUNULGVBQWdCLEVBQ2hCLGdCQUFpQixFQUNqQixjQUFlLEVBQ2YsUUFBUyxFQUNULGFBQWMsRUFDZCxlQUFnQixFQUNoQixlQUFnQixFQUNoQixpQkFBa0IsRUFDbEIsbUJBQW9CLEVBQ3BCLFdBQVksRUFDWixpQkFBa0IsRUFDbEIsY0FBZSxFQUNmLGVBQWdCLEVBQ2hCLFVBQVcsRUFDWCxVQUFXLEVBQ1gsV0FBWSxFQUNaLFlBQWEsRUFDYixXQUFZLEVBQ1osaUJBQWtCLEVBQ2xCLGVBQWdCLEVBQ2hCLFFBQVMsQ0FBQyxFQUFHLEVBQUksSUFBUyxFQUFvQixHQUFnQixDQUFDLEVBQUcsR0FBZ0IsQ0FBQyxFQUFFLEVBQU0sRUFBSSxDQUNqRyxFQVFBLE9BTkEsRUFBTSxRQUFRLE9BQU8sS0FBSyxPQUFPLE9BQU8sQ0FBQyxFQUFHLEVBQVMsQ0FBTyxDQUFDLFdBQVksQ0FBa0IsQ0FBQyxFQUFNLENBQ2hHLElBQU0sRUFBUSxFQUFTLElBQVMsRUFDMUIsRUFBYyxFQUFNLEVBQVEsR0FBTyxFQUFRLEdBQU8sQ0FBSSxFQUM1RCxBQUFDLEVBQU0sWUFBWSxDQUFXLEdBQUssSUFBVSxJQUFxQixFQUFPLEdBQVEsR0FDbEYsRUFFTSxFQy9GVCxJQUFlLElBQUMsSUFBVyxDQUN6QixJQUFNLEVBQVksR0FBWSxDQUFDLEVBQUcsQ0FBTSxHQUVuQyxPQUFNLGdCQUFlLGlCQUFnQixpQkFBZ0IsVUFBUyxRQUFRLEVBTzNFLEdBTEEsRUFBVSxRQUFVLEVBQVUsR0FBYSxLQUFLLENBQU8sRUFFdkQsRUFBVSxJQUFNLEdBQVMsR0FBYyxFQUFVLFFBQVMsRUFBVSxJQUFLLEVBQVUsaUJBQWlCLEVBQUcsRUFBTyxPQUFRLEVBQU8sZ0JBQWdCLEVBR3pJLEVBQ0YsRUFBUSxJQUFJLGdCQUFpQixTQUMzQixNQUFNLEVBQUssVUFBWSxJQUFNLEtBQU8sRUFBSyxTQUFXLFNBQVMsbUJBQW1CLEVBQUssUUFBUSxDQUFDLEVBQUksR0FBRyxDQUN2RyxFQUdGLElBQUksRUFFSixHQUFJLEVBQU0sV0FBVyxDQUFJLEdBQ3ZCLEdBQUksR0FBUyx1QkFBeUIsR0FBUywrQkFDN0MsRUFBUSxlQUFlLE1BQVMsV0FDdEIsRUFBYyxFQUFRLGVBQWUsS0FBTyxHQUFPLENBRTdELElBQU8sS0FBUyxHQUFVLEVBQWMsRUFBWSxNQUFNLEdBQUcsRUFBRSxJQUFJLEtBQVMsRUFBTSxLQUFLLENBQUMsRUFBRSxPQUFPLE9BQU8sRUFBSSxDQUFDLEVBQzdHLEVBQVEsZUFBZSxDQUFDLEdBQVEsc0JBQXVCLEdBQUcsQ0FBTSxFQUFFLEtBQUssSUFBSSxDQUFDLEdBUWhGLEdBQUksR0FBUyx1QkFHWCxHQUZBLEdBQWlCLEVBQU0sV0FBVyxDQUFhLElBQU0sRUFBZ0IsRUFBYyxDQUFTLEdBRXhGLEdBQWtCLElBQWtCLElBQVMsR0FBZ0IsRUFBVSxHQUFHLEVBQUksQ0FFaEYsSUFBTSxFQUFZLEdBQWtCLEdBQWtCLEdBQVEsS0FBSyxDQUFjLEVBRWpGLEdBQUksRUFDRixFQUFRLElBQUksRUFBZ0IsQ0FBUyxHQUszQyxPQUFPLEdDM0NULElBQU0sVUFBK0IsaUJBQW1CLFlBRXpDLGVBQWtDLENBQUMsRUFBUSxDQUN4RCxPQUFPLElBQUksaUJBQWlCLENBQWtCLENBQUMsRUFBUyxFQUFRLENBQzlELElBQU0sRUFBVSxHQUFjLENBQU0sRUFDaEMsRUFBYyxFQUFRLEtBQ3BCLEVBQWlCLEdBQWEsS0FBSyxFQUFRLE9BQU8sRUFBRSxVQUFVLEdBQy9ELGVBQWMsbUJBQWtCLHNCQUFzQixFQUN2RCxFQUNBLEVBQWlCLEVBQ2pCLEVBQWEsRUFFakIsU0FBUyxDQUFJLEVBQUcsQ0FDZCxHQUFlLEVBQVksRUFDM0IsR0FBaUIsRUFBYyxFQUUvQixFQUFRLGFBQWUsRUFBUSxZQUFZLFlBQVksQ0FBVSxFQUVqRSxFQUFRLFFBQVUsRUFBUSxPQUFPLG9CQUFvQixRQUFTLENBQVUsRUFHMUUsSUFBSSxFQUFVLElBQUksZUFFbEIsRUFBUSxLQUFLLEVBQVEsT0FBTyxZQUFZLEVBQUcsRUFBUSxJQUFLLEVBQUksRUFHNUQsRUFBUSxRQUFVLEVBQVEsUUFFMUIsU0FBUyxDQUFTLEVBQUcsQ0FDbkIsSUFBSyxFQUNILE9BR0YsSUFBTSxFQUFrQixHQUFhLEtBQ25DLDBCQUEyQixHQUFXLEVBQVEsc0JBQXNCLENBQ3RFLEVBR00sR0FBVyxDQUNmLE1BSG9CLEdBQWdCLElBQWlCLFFBQVUsSUFBaUIsT0FDaEYsRUFBUSxhQUFlLEVBQVEsU0FHL0IsT0FBUSxFQUFRLE9BQ2hCLFdBQVksRUFBUSxXQUNwQixRQUFTLEVBQ1QsU0FDQSxTQUNGLEVBRUEsWUFBZ0IsRUFBUSxDQUFDLEdBQU8sQ0FDOUIsRUFBUSxFQUFLLEVBQ2IsRUFBSyxZQUNLLEVBQU8sQ0FBQyxHQUFLLENBQ3ZCLEVBQU8sRUFBRyxFQUNWLEVBQUssR0FDSixFQUFRLEVBR1gsRUFBVSxLQUdaLEdBQUksY0FBZSxFQUVqQixFQUFRLFVBQVksTUFHcEIsR0FBUSw0QkFBOEIsQ0FBVSxFQUFHLENBQ2pELElBQUssR0FBVyxFQUFRLGFBQWUsRUFDckMsT0FPRixHQUFJLEVBQVEsU0FBVyxLQUFPLEVBQVEsYUFBZSxFQUFRLFlBQVksUUFBUSxPQUFPLElBQU0sR0FDNUYsT0FJRixXQUFXLENBQVMsR0ErQ3hCLEdBMUNBLEVBQVEsaUJBQW1CLENBQVcsRUFBRyxDQUN2QyxJQUFLLEVBQ0gsT0FHRixFQUFPLElBQUksR0FBVyxrQkFBbUIsR0FBVyxhQUFjLEVBQVEsQ0FBTyxDQUFDLEVBR2xGLEVBQVUsTUFJWixFQUFRLGlCQUFtQixDQUFXLEVBQUcsQ0FHdkMsRUFBTyxJQUFJLEdBQVcsZ0JBQWlCLEdBQVcsWUFBYSxFQUFRLENBQU8sQ0FBQyxFQUcvRSxFQUFVLE1BSVosRUFBUSxtQkFBcUIsQ0FBYSxFQUFHLENBQzNDLElBQUksRUFBc0IsRUFBUSxRQUFVLGNBQWdCLEVBQVEsUUFBVSxjQUFnQixtQkFDeEYsR0FBZSxFQUFRLGNBQWdCLEdBQzdDLEdBQUksRUFBUSxvQkFDVixFQUFzQixFQUFRLG9CQUVoQyxFQUFPLElBQUksR0FDVCxFQUNBLEdBQWEsb0JBQXNCLEdBQVcsVUFBWSxHQUFXLGFBQ3JFLEVBQ0EsQ0FBTyxDQUFDLEVBR1YsRUFBVSxNQUlaLElBQWdCLFFBQWEsRUFBZSxlQUFlLElBQUksRUFHM0QscUJBQXNCLEVBQ3hCLEVBQU0sUUFBUSxFQUFlLE9BQU8sV0FBWSxDQUFnQixDQUFDLEVBQUssR0FBSyxDQUN6RSxFQUFRLGlCQUFpQixHQUFLLENBQUcsRUFDbEMsRUFJSCxJQUFLLEVBQU0sWUFBWSxFQUFRLGVBQWUsRUFDNUMsRUFBUSxrQkFBb0IsRUFBUSxnQkFJdEMsR0FBSSxHQUFnQixJQUFpQixPQUNuQyxFQUFRLGFBQWUsRUFBUSxhQUlqQyxHQUFJLEVBQ0YsQUFBQyxDQUFDLEVBQW1CLENBQWEsRUFBSSxHQUFxQixFQUFvQixFQUFJLEVBQ25GLEVBQVEsaUJBQWlCLFdBQVksQ0FBaUIsRUFJeEQsR0FBSSxHQUFvQixFQUFRLE9BQzlCLEFBQUMsQ0FBQyxFQUFpQixDQUFXLEVBQUksR0FBcUIsQ0FBZ0IsRUFFdkUsRUFBUSxPQUFPLGlCQUFpQixXQUFZLENBQWUsRUFFM0QsRUFBUSxPQUFPLGlCQUFpQixVQUFXLENBQVcsRUFHeEQsR0FBSSxFQUFRLGFBQWUsRUFBUSxRQWFqQyxHQVZBLEVBQWEsS0FBVSxDQUNyQixJQUFLLEVBQ0gsT0FFRixHQUFRLEdBQVUsRUFBTyxLQUFPLElBQUksR0FBYyxLQUFNLEVBQVEsQ0FBTyxFQUFJLENBQU0sRUFDakYsRUFBUSxNQUFNLEVBQ2QsRUFBVSxNQUdaLEVBQVEsYUFBZSxFQUFRLFlBQVksVUFBVSxDQUFVLEVBQzNELEVBQVEsT0FDVixFQUFRLE9BQU8sUUFBVSxFQUFXLEVBQUksRUFBUSxPQUFPLGlCQUFpQixRQUFTLENBQVUsRUFJL0YsSUFBTSxFQUFXLEdBQWMsRUFBUSxHQUFHLEVBRTFDLEdBQUksR0FBWSxHQUFTLFVBQVUsUUFBUSxDQUFRLElBQU0sR0FBSSxDQUMzRCxFQUFPLElBQUksR0FBVyx3QkFBMEIsRUFBVyxJQUFLLEdBQVcsZ0JBQWlCLENBQU0sQ0FBQyxFQUNuRyxPQUtGLEVBQVEsS0FBSyxHQUFlLElBQUksRUFDakMsR0MvTEgsSUFBTSxHQUFpQixDQUFDLEVBQVMsSUFBWSxDQUMzQyxJQUFPLFVBQVcsRUFBVSxFQUFVLEVBQVEsT0FBTyxPQUFPLEVBQUksQ0FBQyxFQUVqRSxHQUFJLEdBQVcsRUFBUSxDQUNyQixJQUFJLEVBQWEsSUFBSSxnQkFFakIsRUFFRSxVQUFtQixDQUFDLEVBQVEsQ0FDaEMsSUFBSyxFQUFTLENBQ1osRUFBVSxHQUNWLEVBQVksRUFDWixJQUFNLEVBQU0sYUFBa0IsTUFBUSxFQUFTLEtBQUssT0FDcEQsRUFBVyxNQUFNLGFBQWUsR0FBYSxFQUFNLElBQUksR0FBYyxhQUFlLE1BQVEsRUFBSSxRQUFVLENBQUcsQ0FBQyxJQUk5RyxFQUFRLEdBQVcsV0FBVyxJQUFNLENBQ3RDLEVBQVEsS0FDUixFQUFRLElBQUksR0FBVyxXQUFXLG1CQUEwQixHQUFXLFNBQVMsQ0FBQyxHQUNoRixDQUFPLEVBRUosRUFBYyxJQUFNLENBQ3hCLEdBQUksRUFDRixHQUFTLGFBQWEsQ0FBSyxFQUMzQixFQUFRLEtBQ1IsRUFBUSxRQUFRLEtBQVUsQ0FDeEIsRUFBTyxZQUFjLEVBQU8sWUFBWSxDQUFPLEVBQUksRUFBTyxvQkFBb0IsUUFBUyxDQUFPLEVBQy9GLEVBQ0QsRUFBVSxNQUlkLEVBQVEsUUFBUSxDQUFDLElBQVcsRUFBTyxpQkFBaUIsUUFBUyxDQUFPLENBQUMsRUFFckUsSUFBTyxVQUFVLEVBSWpCLE9BRkEsRUFBTyxZQUFjLElBQU0sRUFBTSxLQUFLLENBQVcsRUFFMUMsSUFJSSxNQzlDUixJQUFNLFlBQXdCLENBQUMsRUFBTyxFQUFXLENBQ3RELElBQUksRUFBTSxFQUFNLFdBRWhCLElBQUssR0FBYSxFQUFNLEVBQVcsQ0FDakMsTUFBTSxFQUNOLE9BR0YsSUFBSSxFQUFNLEVBQ04sRUFFSixNQUFPLEVBQU0sRUFDWCxFQUFNLEVBQU0sRUFDWixNQUFNLEVBQU0sTUFBTSxFQUFLLENBQUcsRUFDMUIsRUFBTSxHQUlHLEdBQVksZUFBZ0IsQ0FBQyxFQUFVLEVBQVcsQ0FDN0QsY0FBaUIsS0FBUyxHQUFXLENBQVEsRUFDM0MsTUFBTyxHQUFZLEVBQU8sQ0FBUyxHQUlqQyxHQUFhLGVBQWdCLENBQUMsRUFBUSxDQUMxQyxHQUFJLEVBQU8sT0FBTyxlQUFnQixDQUNoQyxNQUFPLEVBQ1AsT0FHRixJQUFNLEVBQVMsRUFBTyxVQUFVLEVBQ2hDLEdBQUksQ0FDRixPQUFTLENBQ1AsSUFBTyxPQUFNLFNBQVMsTUFBTSxFQUFPLEtBQUssRUFDeEMsR0FBSSxFQUNGLE1BRUYsTUFBTSxVQUVSLENBQ0EsTUFBTSxFQUFPLE9BQU8sSUFJWCxHQUFjLENBQUMsRUFBUSxFQUFXLEVBQVksSUFBYSxDQUN0RSxJQUFNLEVBQVcsR0FBVSxFQUFRLENBQVMsRUFFeEMsRUFBUSxFQUNSLEVBQ0EsRUFBWSxDQUFDLElBQU0sQ0FDckIsSUFBSyxFQUNILEVBQU8sR0FDUCxHQUFZLEVBQVMsQ0FBQyxHQUkxQixPQUFPLElBQUksZUFBZSxNQUNsQixLQUFJLENBQUMsRUFBWSxDQUNyQixHQUFJLENBQ0YsSUFBTyxPQUFNLFNBQVMsTUFBTSxFQUFTLEtBQUssRUFFMUMsR0FBSSxFQUFNLENBQ1QsRUFBVSxFQUNULEVBQVcsTUFBTSxFQUNqQixPQUdGLElBQUksRUFBTSxFQUFNLFdBQ2hCLEdBQUksRUFBWSxDQUNkLElBQUksRUFBYyxHQUFTLEVBQzNCLEVBQVcsQ0FBVyxFQUV4QixFQUFXLFFBQVEsSUFBSSxXQUFXLENBQUssQ0FBQyxRQUNqQyxFQUFQLENBRUEsTUFEQSxFQUFVLENBQUcsRUFDUCxJQUdWLE1BQU0sQ0FBQyxFQUFRLENBRWIsT0FEQSxFQUFVLENBQU0sRUFDVCxFQUFTLE9BQU8sRUFFM0IsRUFBRyxDQUNELGNBQWUsQ0FDakIsQ0FBQyxHQzNFSCxJQUFNLFVBQTBCLFFBQVUsbUJBQXFCLFVBQVksbUJBQXFCLFdBQWEsV0FDdkcsR0FBNEIsV0FBMkIsaUJBQW1CLFdBRzFFLEdBQWEsWUFBNEIsY0FBZ0IsWUFDMUQsQ0FBQyxJQUFZLENBQUMsSUFBUSxFQUFRLE9BQU8sQ0FBRyxHQUFHLElBQUksV0FBYSxFQUM3RCxNQUFPLElBQVEsSUFBSSxXQUFXLE1BQU0sSUFBSSxTQUFTLENBQUcsRUFBRSxZQUFZLENBQUMsR0FHakUsR0FBTyxDQUFDLEtBQU8sSUFBUyxDQUM1QixHQUFJLENBQ0YsUUFBUyxFQUFHLEdBQUcsQ0FBSSxRQUNaLEVBQVAsQ0FDQSxNQUFPLEtBSUwsR0FBd0IsSUFBNkIsR0FBSyxJQUFNLENBQ3BFLElBQUksRUFBaUIsR0FFZixFQUFpQixJQUFJLFFBQVEsR0FBUyxPQUFRLENBQ2xELEtBQU0sSUFBSSxlQUNWLE9BQVEsVUFDSixPQUFNLEVBQUcsQ0FFWCxPQURBLEVBQWlCLEdBQ1YsT0FFWCxDQUFDLEVBQUUsUUFBUSxJQUFJLGNBQWMsRUFFN0IsT0FBTyxJQUFtQixFQUMzQixFQUVLLEdBQXFCLE1BRXJCLEdBQXlCLElBQzdCLEdBQUssSUFBTSxFQUFNLGlCQUFpQixJQUFJLFNBQVMsRUFBRSxFQUFFLElBQUksQ0FBQyxFQUdwRCxHQUFZLENBQ2hCLE9BQVEsS0FBMkIsQ0FBQyxJQUFRLEVBQUksS0FDbEQsRUFFQSxLQUFzQixDQUFDLElBQVEsQ0FDN0IsQ0FBQyxPQUFRLGNBQWUsT0FBUSxXQUFZLFFBQVEsRUFBRSxRQUFRLEtBQVEsQ0FDcEUsQ0FBQyxHQUFVLEtBQVUsR0FBVSxHQUFRLEVBQU0sV0FBVyxFQUFJLEVBQUssRUFBSSxDQUFDLElBQVEsRUFBSSxHQUFNLEVBQ3RGLENBQUMsRUFBRyxJQUFXLENBQ2IsTUFBTSxJQUFJLEdBQVcsa0JBQWtCLHNCQUEwQixHQUFXLGdCQUFpQixDQUFNLElBRXhHLElBQ0EsSUFBSSxRQUFRLEVBRWYsSUFBTSxHQUFnQixNQUFPLElBQVMsQ0FDcEMsR0FBSSxHQUFRLEtBQ1YsTUFBTyxHQUdULEdBQUcsRUFBTSxPQUFPLENBQUksRUFDbEIsT0FBTyxFQUFLLEtBR2QsR0FBRyxFQUFNLG9CQUFvQixDQUFJLEVBSy9CLE9BQVEsTUFKUyxJQUFJLFFBQVEsR0FBUyxPQUFRLENBQzVDLE9BQVEsT0FDUixNQUNGLENBQUMsRUFDc0IsWUFBWSxHQUFHLFdBR3hDLEdBQUcsRUFBTSxrQkFBa0IsQ0FBSSxHQUFLLEVBQU0sY0FBYyxDQUFJLEVBQzFELE9BQU8sRUFBSyxXQUdkLEdBQUcsRUFBTSxrQkFBa0IsQ0FBSSxFQUM3QixFQUFPLEVBQU8sR0FHaEIsR0FBRyxFQUFNLFNBQVMsQ0FBSSxFQUNwQixPQUFRLE1BQU0sR0FBVyxDQUFJLEdBQUcsWUFJOUIsR0FBb0IsTUFBTyxFQUFTLElBQVMsQ0FDakQsSUFBTSxFQUFTLEVBQU0sZUFBZSxFQUFRLGlCQUFpQixDQUFDLEVBRTlELE9BQU8sR0FBVSxLQUFPLEdBQWMsQ0FBSSxFQUFJLEdBR2pDLFFBQXFCLE1BQU8sSUFBVyxDQUNwRCxJQUNFLE1BQ0EsU0FDQSxPQUNBLFNBQ0EsY0FDQSxVQUNBLHFCQUNBLG1CQUNBLGVBQ0EsVUFDQSxrQkFBa0IsY0FDbEIsZ0JBQ0UsR0FBYyxDQUFNLEVBRXhCLEVBQWUsR0FBZ0IsRUFBZSxJQUFJLFlBQVksRUFBSSxPQUVsRSxJQUFJLEVBQWlCLEdBQWUsQ0FBQyxFQUFRLEdBQWUsRUFBWSxjQUFjLENBQUMsRUFBRyxDQUFPLEVBRTdGLEVBRUUsRUFBYyxHQUFrQixFQUFlLGNBQWdCLElBQU0sQ0FDdkUsRUFBZSxZQUFZLElBRzNCLEVBRUosR0FBSSxDQUNGLEdBQ0UsR0FBb0IsSUFBeUIsSUFBVyxPQUFTLElBQVcsU0FDM0UsRUFBdUIsTUFBTSxHQUFrQixFQUFTLENBQUksS0FBTyxFQUNwRSxDQUNBLElBQUksR0FBVyxJQUFJLFFBQVEsRUFBSyxDQUM5QixPQUFRLE9BQ1IsS0FBTSxFQUNOLE9BQVEsTUFDVixDQUFDLEVBRUcsR0FFSixHQUFJLEVBQU0sV0FBVyxDQUFJLElBQU0sR0FBb0IsR0FBUyxRQUFRLElBQUksY0FBYyxHQUNwRixFQUFRLGVBQWUsRUFBaUIsRUFHMUMsR0FBSSxHQUFTLEtBQU0sQ0FDakIsSUFBTyxHQUFZLElBQVMsR0FDMUIsRUFDQSxHQUFxQixHQUFlLENBQWdCLENBQUMsQ0FDdkQsRUFFQSxFQUFPLEdBQVksR0FBUyxLQUFNLEdBQW9CLEdBQVksRUFBSyxHQUkzRSxJQUFLLEVBQU0sU0FBUyxDQUFlLEVBQ2pDLEVBQWtCLEVBQWtCLFVBQVksT0FLbEQsSUFBTSxFQUF5QixnQkFBaUIsUUFBUSxVQUN4RCxFQUFVLElBQUksUUFBUSxFQUFLLElBQ3RCLEVBQ0gsT0FBUSxFQUNSLE9BQVEsRUFBTyxZQUFZLEVBQzNCLFFBQVMsRUFBUSxVQUFVLEVBQUUsT0FBTyxFQUNwQyxLQUFNLEVBQ04sT0FBUSxPQUNSLFlBQWEsRUFBeUIsRUFBa0IsTUFDMUQsQ0FBQyxFQUVELElBQUksRUFBVyxNQUFNLE1BQU0sQ0FBTyxFQUU1QixFQUFtQixLQUEyQixJQUFpQixVQUFZLElBQWlCLFlBRWxHLEdBQUksS0FBMkIsR0FBdUIsR0FBb0IsR0FBZSxDQUN2RixJQUFNLEdBQVUsQ0FBQyxFQUVqQixDQUFDLFNBQVUsYUFBYyxTQUFTLEVBQUUsUUFBUSxNQUFRLENBQ2xELEdBQVEsSUFBUSxFQUFTLElBQzFCLEVBRUQsSUFBTSxHQUF3QixFQUFNLGVBQWUsRUFBUyxRQUFRLElBQUksZ0JBQWdCLENBQUMsR0FFbEYsR0FBWSxJQUFTLEdBQXNCLEdBQ2hELEdBQ0EsR0FBcUIsR0FBZSxDQUFrQixFQUFHLEVBQUksQ0FDL0QsR0FBSyxDQUFDLEVBRU4sRUFBVyxJQUFJLFNBQ2IsR0FBWSxFQUFTLEtBQU0sR0FBb0IsR0FBWSxJQUFNLENBQy9ELElBQVMsR0FBTSxFQUNmLEdBQWUsRUFBWSxFQUM1QixFQUNELEVBQ0YsRUFHRixFQUFlLEdBQWdCLE9BRS9CLElBQUksRUFBZSxNQUFNLEdBQVUsRUFBTSxRQUFRLEdBQVcsQ0FBWSxHQUFLLFFBQVEsRUFBVSxDQUFNLEVBSXJHLE9BRkMsR0FBb0IsR0FBZSxFQUFZLEVBRXpDLE1BQU0sSUFBSSxRQUFRLENBQUMsR0FBUyxLQUFXLENBQzVDLEdBQU8sR0FBUyxHQUFRLENBQ3RCLEtBQU0sRUFDTixRQUFTLEdBQWEsS0FBSyxFQUFTLE9BQU8sRUFDM0MsT0FBUSxFQUFTLE9BQ2pCLFdBQVksRUFBUyxXQUNyQixTQUNBLFNBQ0YsQ0FBQyxFQUNGLFFBQ00sRUFBUCxDQUdBLEdBRkEsR0FBZSxFQUFZLEVBRXZCLEdBQU8sRUFBSSxPQUFTLGFBQWUsU0FBUyxLQUFLLEVBQUksT0FBTyxFQUM5RCxNQUFNLE9BQU8sT0FDWCxJQUFJLEdBQVcsZ0JBQWlCLEdBQVcsWUFBYSxFQUFRLENBQU8sRUFDdkUsQ0FDRSxNQUFPLEVBQUksT0FBUyxDQUN0QixDQUNGLEVBR0YsTUFBTSxHQUFXLEtBQUssRUFBSyxHQUFPLEVBQUksS0FBTSxFQUFRLENBQU8sS0MxTi9ELElBQU0sR0FBZ0IsQ0FDcEIsS0FBTSxHQUNOLElBQUssR0FDTCxNQUFPLEVBQ1QsRUFFQSxFQUFNLFFBQVEsR0FBZSxDQUFDLEVBQUksSUFBVSxDQUMxQyxHQUFJLEVBQUksQ0FDTixHQUFJLENBQ0YsT0FBTyxlQUFlLEVBQUksT0FBUSxDQUFDLE9BQUssQ0FBQyxRQUNsQyxFQUFQLEVBR0YsT0FBTyxlQUFlLEVBQUksY0FBZSxDQUFDLE9BQUssQ0FBQyxHQUVuRCxFQUVELElBQU0sR0FBZSxDQUFDLElBQVcsS0FBSyxJQUVoQyxHQUFtQixDQUFDLElBQVksRUFBTSxXQUFXLENBQU8sR0FBSyxJQUFZLE1BQVEsSUFBWSxHQUVwRixJQUNiLFdBQVksQ0FBQyxJQUFhLENBQ3hCLEVBQVcsRUFBTSxRQUFRLENBQVEsRUFBSSxFQUFXLENBQUMsQ0FBUSxFQUV6RCxJQUFPLFVBQVUsRUFDYixFQUNBLEVBRUUsRUFBa0IsQ0FBQyxFQUV6QixRQUFTLEVBQUksRUFBRyxFQUFJLEVBQVEsSUFBSyxDQUMvQixFQUFnQixFQUFTLEdBQ3pCLElBQUksRUFJSixHQUZBLEVBQVUsR0FFTCxHQUFpQixDQUFhLEdBR2pDLEdBRkEsRUFBVSxHQUFlLEdBQUssT0FBTyxDQUFhLEdBQUcsWUFBWSxHQUU3RCxJQUFZLE9BQ2QsTUFBTSxJQUFJLEdBQVcsb0JBQW9CLElBQUssRUFJbEQsR0FBSSxFQUNGLE1BR0YsRUFBZ0IsR0FBTSxJQUFNLEdBQUssRUFHbkMsSUFBSyxFQUFTLENBRVosSUFBTSxFQUFVLE9BQU8sUUFBUSxDQUFlLEVBQzNDLElBQUksRUFBRSxFQUFJLEtBQVcsV0FBVyxNQUM5QixJQUFVLEdBQVEsc0NBQXdDLGdDQUM3RCxFQUVFLEVBQUksRUFDTCxFQUFRLE9BQVMsRUFBSTtBQUFBLEVBQWMsRUFBUSxJQUFJLEVBQVksRUFBRSxLQUFLO0FBQUEsQ0FBSSxFQUFJLElBQU0sR0FBYSxFQUFRLEVBQUUsRUFDeEcsMEJBRUYsTUFBTSxJQUFJLEdBQ1Isd0RBQTBELEVBQzFELGlCQUNGLEVBR0YsT0FBTyxHQUVULFNBQVUsRUFDWixFQzlEQSxTQUFTLEVBQTRCLENBQUMsRUFBUSxDQUM1QyxHQUFJLEVBQU8sWUFDVCxFQUFPLFlBQVksaUJBQWlCLEVBR3RDLEdBQUksRUFBTyxRQUFVLEVBQU8sT0FBTyxRQUNqQyxNQUFNLElBQUksR0FBYyxLQUFNLENBQU0sRUFXeEMsU0FBd0IsRUFBZSxDQUFDLEVBQVEsQ0FXOUMsR0FWQSxHQUE2QixDQUFNLEVBRW5DLEVBQU8sUUFBVSxHQUFhLEtBQUssRUFBTyxPQUFPLEVBR2pELEVBQU8sS0FBTyxHQUFjLEtBQzFCLEVBQ0EsRUFBTyxnQkFDVCxFQUVJLENBQUMsT0FBUSxNQUFPLE9BQU8sRUFBRSxRQUFRLEVBQU8sTUFBTSxJQUFNLEdBQ3RELEVBQU8sUUFBUSxlQUFlLG9DQUFxQyxFQUFLLEVBSzFFLE9BRmdCLEdBQVMsV0FBVyxFQUFPLFNBQVcsR0FBUyxPQUFPLEVBRXZELENBQU0sRUFBRSxjQUFjLENBQW1CLENBQUMsRUFBVSxDQVlqRSxPQVhBLEdBQTZCLENBQU0sRUFHbkMsRUFBUyxLQUFPLEdBQWMsS0FDNUIsRUFDQSxFQUFPLGtCQUNQLENBQ0YsRUFFQSxFQUFTLFFBQVUsR0FBYSxLQUFLLEVBQVMsT0FBTyxFQUU5QyxZQUNHLENBQWtCLENBQUMsRUFBUSxDQUNyQyxJQUFLLEdBQVMsQ0FBTSxHQUlsQixHQUhBLEdBQTZCLENBQU0sRUFHL0IsR0FBVSxFQUFPLFNBQ25CLEVBQU8sU0FBUyxLQUFPLEdBQWMsS0FDbkMsRUFDQSxFQUFPLGtCQUNQLEVBQU8sUUFDVCxFQUNBLEVBQU8sU0FBUyxRQUFVLEdBQWEsS0FBSyxFQUFPLFNBQVMsT0FBTyxFQUl2RSxPQUFPLFFBQVEsT0FBTyxDQUFNLEVBQzdCLEVDL0VJLElBQU0sR0FBVSxRQ0t2QixJQUFNLEdBQWEsQ0FBQyxFQUdwQixDQUFDLFNBQVUsVUFBVyxTQUFVLFdBQVksU0FBVSxRQUFRLEVBQUUsUUFBUSxDQUFDLEVBQU0sSUFBTSxDQUNuRixHQUFXLFlBQWlCLENBQVMsQ0FBQyxFQUFPLENBQzNDLGNBQWMsSUFBVSxHQUFRLEtBQU8sRUFBSSxFQUFJLEtBQU8sS0FBTyxHQUVoRSxFQUVELElBQU0sR0FBcUIsQ0FBQyxFQVc1QixHQUFXLHNCQUF3QixDQUFZLENBQUMsRUFBVyxFQUFTLEVBQVMsQ0FDM0UsU0FBUyxDQUFhLENBQUMsRUFBSyxFQUFNLENBQ2hDLE1BQU8sV0FBYSxHQUFVLDBCQUE2QixFQUFNLElBQU8sR0FBUSxFQUFVLEtBQU8sRUFBVSxJQUk3RyxNQUFPLENBQUMsRUFBTyxFQUFLLElBQVMsQ0FDM0IsR0FBSSxJQUFjLEdBQ2hCLE1BQU0sSUFBSSxHQUNSLEVBQWMsRUFBSyxxQkFBdUIsRUFBVSxPQUFTLEVBQVUsR0FBRyxFQUMxRSxHQUFXLGNBQ2IsRUFHRixHQUFJLElBQVksR0FBbUIsR0FDakMsR0FBbUIsR0FBTyxHQUUxQixRQUFRLEtBQ04sRUFDRSxFQUNBLCtCQUFpQyxFQUFVLHlDQUM3QyxDQUNGLEVBR0YsT0FBTyxFQUFZLEVBQVUsRUFBTyxFQUFLLENBQUksRUFBSSxLQUlyRCxHQUFXLGtCQUFvQixDQUFRLENBQUMsRUFBaUIsQ0FDdkQsTUFBTyxDQUFDLEVBQU8sSUFBUSxDQUdyQixPQURBLFFBQVEsS0FBSyxHQUFHLGdDQUFrQyxHQUFpQixFQUM1RCxLQWNYLFNBQVMsRUFBYSxDQUFDLEVBQVMsRUFBUSxFQUFjLENBQ3BELFVBQVcsSUFBWSxTQUNyQixNQUFNLElBQUksR0FBVyw0QkFBNkIsR0FBVyxvQkFBb0IsRUFFbkYsSUFBTSxFQUFPLE9BQU8sS0FBSyxDQUFPLEVBQzVCLEVBQUksRUFBSyxPQUNiLE1BQU8sS0FBTSxFQUFHLENBQ2QsSUFBTSxFQUFNLEVBQUssR0FDWCxFQUFZLEVBQU8sR0FDekIsR0FBSSxFQUFXLENBQ2IsSUFBTSxFQUFRLEVBQVEsR0FDaEIsRUFBUyxJQUFVLFFBQWEsRUFBVSxFQUFPLEVBQUssQ0FBTyxFQUNuRSxHQUFJLElBQVcsR0FDYixNQUFNLElBQUksR0FBVyxVQUFZLEVBQU0sWUFBYyxFQUFRLEdBQVcsb0JBQW9CLEVBRTlGLFNBRUYsR0FBSSxJQUFpQixHQUNuQixNQUFNLElBQUksR0FBVyxrQkFBb0IsRUFBSyxHQUFXLGNBQWMsR0FLN0UsSUFBZSxJQUNiLGlCQUNBLGFBQ0YsRUN2RkEsSUFBTSxHQUFhLEdBQVUsV0FTN0IsTUFBTSxFQUFNLENBQ1YsV0FBVyxDQUFDLEVBQWdCLENBQzFCLEtBQUssU0FBVyxFQUNoQixLQUFLLGFBQWUsQ0FDbEIsUUFBUyxJQUFJLEdBQ2IsU0FBVSxJQUFJLEVBQ2hCLE9BV0ksUUFBTyxDQUFDLEVBQWEsRUFBUSxDQUNqQyxHQUFJLENBQ0YsT0FBTyxNQUFNLEtBQUssU0FBUyxFQUFhLENBQU0sUUFDdkMsRUFBUCxDQUNBLEdBQUksYUFBZSxNQUFPLENBQ3hCLElBQUksRUFBUSxDQUFDLEVBRWIsTUFBTSxrQkFBb0IsTUFBTSxrQkFBa0IsQ0FBSyxFQUFLLEVBQVEsSUFBSSxNQUd4RSxJQUFNLEVBQVEsRUFBTSxNQUFRLEVBQU0sTUFBTSxRQUFRLFFBQVMsRUFBRSxFQUFJLEdBQy9ELEdBQUksQ0FDRixJQUFLLEVBQUksTUFDUCxFQUFJLE1BQVEsVUFFSCxJQUFVLE9BQU8sRUFBSSxLQUFLLEVBQUUsU0FBUyxFQUFNLFFBQVEsWUFBYSxFQUFFLENBQUMsRUFDNUUsRUFBSSxPQUFTO0FBQUEsRUFBTyxRQUVmLEVBQVAsR0FLSixNQUFNLEdBSVYsUUFBUSxDQUFDLEVBQWEsRUFBUSxDQUc1QixVQUFXLElBQWdCLFNBQ3pCLEVBQVMsR0FBVSxDQUFDLEVBQ3BCLEVBQU8sSUFBTSxNQUViLEdBQVMsR0FBZSxDQUFDLEVBRzNCLEVBQVMsR0FBWSxLQUFLLFNBQVUsQ0FBTSxFQUUxQyxJQUFPLGVBQWMsbUJBQWtCLFdBQVcsRUFFbEQsR0FBSSxJQUFpQixPQUNuQixHQUFVLGNBQWMsRUFBYyxDQUNwQyxrQkFBbUIsR0FBVyxhQUFhLEdBQVcsT0FBTyxFQUM3RCxrQkFBbUIsR0FBVyxhQUFhLEdBQVcsT0FBTyxFQUM3RCxvQkFBcUIsR0FBVyxhQUFhLEdBQVcsT0FBTyxDQUNqRSxFQUFHLEVBQUssRUFHVixHQUFJLEdBQW9CLEtBQ3RCLEdBQUksRUFBTSxXQUFXLENBQWdCLEVBQ25DLEVBQU8saUJBQW1CLENBQ3hCLFVBQVcsQ0FDYixNQUVBLElBQVUsY0FBYyxFQUFrQixDQUN4QyxPQUFRLEdBQVcsU0FDbkIsVUFBVyxHQUFXLFFBQ3hCLEVBQUcsRUFBSSxFQUtYLEdBQUksRUFBTyxvQkFBc0IsT0FBVyxTQUVqQyxLQUFLLFNBQVMsb0JBQXNCLE9BQzdDLEVBQU8sa0JBQW9CLEtBQUssU0FBUyxzQkFFekMsR0FBTyxrQkFBb0IsR0FHN0IsR0FBVSxjQUFjLEVBQVEsQ0FDOUIsUUFBUyxHQUFXLFNBQVMsU0FBUyxFQUN0QyxjQUFlLEdBQVcsU0FBUyxlQUFlLENBQ3BELEVBQUcsRUFBSSxFQUdQLEVBQU8sUUFBVSxFQUFPLFFBQVUsS0FBSyxTQUFTLFFBQVUsT0FBTyxZQUFZLEVBRzdFLElBQUksRUFBaUIsR0FBVyxFQUFNLE1BQ3BDLEVBQVEsT0FDUixFQUFRLEVBQU8sT0FDakIsRUFFQSxHQUFXLEVBQU0sUUFDZixDQUFDLFNBQVUsTUFBTyxPQUFRLE9BQVEsTUFBTyxRQUFTLFFBQVEsRUFDMUQsQ0FBQyxJQUFXLENBQ1YsT0FBTyxFQUFRLEdBRW5CLEVBRUEsRUFBTyxRQUFVLEdBQWEsT0FBTyxFQUFnQixDQUFPLEVBRzVELElBQU0sRUFBMEIsQ0FBQyxFQUM3QixFQUFpQyxHQUNyQyxLQUFLLGFBQWEsUUFBUSxpQkFBaUIsQ0FBMEIsQ0FBQyxFQUFhLENBQ2pGLFVBQVcsRUFBWSxVQUFZLFlBQWMsRUFBWSxRQUFRLENBQU0sSUFBTSxHQUMvRSxPQUdGLEVBQWlDLEdBQWtDLEVBQVksWUFFL0UsRUFBd0IsUUFBUSxFQUFZLFVBQVcsRUFBWSxRQUFRLEVBQzVFLEVBRUQsSUFBTSxFQUEyQixDQUFDLEVBQ2xDLEtBQUssYUFBYSxTQUFTLGlCQUFpQixDQUF3QixDQUFDLEVBQWEsQ0FDaEYsRUFBeUIsS0FBSyxFQUFZLFVBQVcsRUFBWSxRQUFRLEVBQzFFLEVBRUQsSUFBSSxFQUNBLEVBQUksRUFDSixFQUVKLElBQUssRUFBZ0MsQ0FDbkMsSUFBTSxFQUFRLENBQUMsR0FBZ0IsS0FBSyxJQUFJLEVBQUcsTUFBUyxFQUNwRCxFQUFNLFFBQVEsTUFBTSxFQUFPLENBQXVCLEVBQ2xELEVBQU0sS0FBSyxNQUFNLEVBQU8sQ0FBd0IsRUFDaEQsRUFBTSxFQUFNLE9BRVosRUFBVSxRQUFRLFFBQVEsQ0FBTSxFQUVoQyxNQUFPLEVBQUksRUFDVCxFQUFVLEVBQVEsS0FBSyxFQUFNLEtBQU0sRUFBTSxJQUFJLEVBRy9DLE9BQU8sRUFHVCxFQUFNLEVBQXdCLE9BRTlCLElBQUksRUFBWSxFQUVoQixFQUFJLEVBRUosTUFBTyxFQUFJLEVBQUssQ0FDZCxJQUFNLEVBQWMsRUFBd0IsS0FDdEMsRUFBYSxFQUF3QixLQUMzQyxHQUFJLENBQ0YsRUFBWSxFQUFZLENBQVMsUUFDMUIsRUFBUCxDQUNBLEVBQVcsS0FBSyxLQUFNLENBQUssRUFDM0IsT0FJSixHQUFJLENBQ0YsRUFBVSxHQUFnQixLQUFLLEtBQU0sQ0FBUyxRQUN2QyxFQUFQLENBQ0EsT0FBTyxRQUFRLE9BQU8sQ0FBSyxFQUc3QixFQUFJLEVBQ0osRUFBTSxFQUF5QixPQUUvQixNQUFPLEVBQUksRUFDVCxFQUFVLEVBQVEsS0FBSyxFQUF5QixLQUFNLEVBQXlCLElBQUksRUFHckYsT0FBTyxFQUdULE1BQU0sQ0FBQyxFQUFRLENBQ2IsRUFBUyxHQUFZLEtBQUssU0FBVSxDQUFNLEVBQzFDLElBQU0sRUFBVyxHQUFjLEVBQU8sUUFBUyxFQUFPLElBQUssRUFBTyxpQkFBaUIsRUFDbkYsT0FBTyxHQUFTLEVBQVUsRUFBTyxPQUFRLEVBQU8sZ0JBQWdCLEVBRXBFLENBR0EsRUFBTSxRQUFRLENBQUMsU0FBVSxNQUFPLE9BQVEsU0FBUyxXQUFZLENBQW1CLENBQUMsRUFBUSxDQUV2RixHQUFNLFVBQVUsV0FBa0IsQ0FBQyxFQUFLLEVBQVEsQ0FDOUMsT0FBTyxLQUFLLFFBQVEsR0FBWSxHQUFVLENBQUMsRUFBRyxDQUM1QyxTQUNBLE1BQ0EsTUFBTyxHQUFVLENBQUMsR0FBRyxJQUN2QixDQUFDLENBQUMsR0FFTCxFQUVELEVBQU0sUUFBUSxDQUFDLE9BQVEsTUFBTyxPQUFPLFdBQVksQ0FBcUIsQ0FBQyxFQUFRLENBRzdFLFNBQVMsQ0FBa0IsQ0FBQyxFQUFRLENBQ2xDLGdCQUFnQixDQUFVLENBQUMsRUFBSyxFQUFNLEVBQVEsQ0FDNUMsT0FBTyxLQUFLLFFBQVEsR0FBWSxHQUFVLENBQUMsRUFBRyxDQUM1QyxTQUNBLFFBQVMsRUFBUyxDQUNoQixlQUFnQixxQkFDbEIsRUFBSSxDQUFDLEVBQ0wsTUFDQSxNQUNGLENBQUMsQ0FBQyxHQUlOLEdBQU0sVUFBVSxHQUFVLEVBQW1CLEVBRTdDLEdBQU0sVUFBVSxFQUFTLFFBQVUsRUFBbUIsRUFBSSxFQUMzRCxFQUVELElBQWUsTUN0T2YsTUFBTSxFQUFZLENBQ2hCLFdBQVcsQ0FBQyxFQUFVLENBQ3BCLFVBQVcsSUFBYSxXQUN0QixNQUFNLElBQUksVUFBVSw4QkFBOEIsRUFHcEQsSUFBSSxFQUVKLEtBQUssUUFBVSxJQUFJLGlCQUFpQixDQUFlLENBQUMsRUFBUyxDQUMzRCxFQUFpQixFQUNsQixFQUVELElBQU0sRUFBUSxLQUdkLEtBQUssUUFBUSxLQUFLLEtBQVUsQ0FDMUIsSUFBSyxFQUFNLFdBQVksT0FFdkIsSUFBSSxFQUFJLEVBQU0sV0FBVyxPQUV6QixNQUFPLEtBQU0sRUFDWCxFQUFNLFdBQVcsR0FBRyxDQUFNLEVBRTVCLEVBQU0sV0FBYSxLQUNwQixFQUdELEtBQUssUUFBUSxLQUFPLEtBQWUsQ0FDakMsSUFBSSxFQUVFLEVBQVUsSUFBSSxRQUFRLEtBQVcsQ0FDckMsRUFBTSxVQUFVLENBQU8sRUFDdkIsRUFBVyxFQUNaLEVBQUUsS0FBSyxDQUFXLEVBTW5CLE9BSkEsRUFBUSxnQkFBa0IsQ0FBTSxFQUFHLENBQ2pDLEVBQU0sWUFBWSxDQUFRLEdBR3JCLEdBR1QsV0FBa0IsQ0FBTSxDQUFDLEVBQVMsRUFBUSxFQUFTLENBQ2pELEdBQUksRUFBTSxPQUVSLE9BR0YsRUFBTSxPQUFTLElBQUksR0FBYyxFQUFTLEVBQVEsQ0FBTyxFQUN6RCxFQUFlLEVBQU0sTUFBTSxFQUM1QixFQU1ILGdCQUFnQixFQUFHLENBQ2pCLEdBQUksS0FBSyxPQUNQLE1BQU0sS0FBSyxPQVFmLFNBQVMsQ0FBQyxFQUFVLENBQ2xCLEdBQUksS0FBSyxPQUFRLENBQ2YsRUFBUyxLQUFLLE1BQU0sRUFDcEIsT0FHRixHQUFJLEtBQUssV0FDUCxLQUFLLFdBQVcsS0FBSyxDQUFRLE1BRTdCLE1BQUssV0FBYSxDQUFDLENBQVEsRUFRL0IsV0FBVyxDQUFDLEVBQVUsQ0FDcEIsSUFBSyxLQUFLLFdBQ1IsT0FFRixJQUFNLEVBQVEsS0FBSyxXQUFXLFFBQVEsQ0FBUSxFQUM5QyxHQUFJLElBQVUsR0FDWixLQUFLLFdBQVcsT0FBTyxFQUFPLENBQUMsRUFJbkMsYUFBYSxFQUFHLENBQ2QsSUFBTSxFQUFhLElBQUksZ0JBRWpCLEVBQVEsQ0FBQyxJQUFRLENBQ3JCLEVBQVcsTUFBTSxDQUFHLEdBT3RCLE9BSkEsS0FBSyxVQUFVLENBQUssRUFFcEIsRUFBVyxPQUFPLFlBQWMsSUFBTSxLQUFLLFlBQVksQ0FBSyxFQUVyRCxFQUFXLGFBT2IsT0FBTSxFQUFHLENBQ2QsSUFBSSxFQUlKLE1BQU8sQ0FDTCxNQUpZLElBQUksWUFBcUIsQ0FBUSxDQUFDLEVBQUcsQ0FDakQsRUFBUyxFQUNWLEVBR0MsUUFDRixFQUVKLENBRUEsSUFBZSxNQy9HZixTQUF3QixFQUFNLENBQUMsRUFBVSxDQUN2QyxnQkFBZ0IsQ0FBSSxDQUFDLEVBQUssQ0FDeEIsT0FBTyxFQUFTLE1BQU0sS0FBTSxDQUFHLEdDZG5DLFNBQXdCLEVBQVksQ0FBQyxFQUFTLENBQzVDLE9BQU8sRUFBTSxTQUFTLENBQU8sR0FBTSxFQUFRLGVBQWlCLEdDWjlELElBQU0sR0FBaUIsQ0FDckIsU0FBVSxJQUNWLG1CQUFvQixJQUNwQixXQUFZLElBQ1osV0FBWSxJQUNaLEdBQUksSUFDSixRQUFTLElBQ1QsU0FBVSxJQUNWLDRCQUE2QixJQUM3QixVQUFXLElBQ1gsYUFBYyxJQUNkLGVBQWdCLElBQ2hCLFlBQWEsSUFDYixnQkFBaUIsSUFDakIsT0FBUSxJQUNSLGdCQUFpQixJQUNqQixpQkFBa0IsSUFDbEIsTUFBTyxJQUNQLFNBQVUsSUFDVixZQUFhLElBQ2IsU0FBVSxJQUNWLE9BQVEsSUFDUixrQkFBbUIsSUFDbkIsa0JBQW1CLElBQ25CLFdBQVksSUFDWixhQUFjLElBQ2QsZ0JBQWlCLElBQ2pCLFVBQVcsSUFDWCxTQUFVLElBQ1YsaUJBQWtCLElBQ2xCLGNBQWUsSUFDZiw0QkFBNkIsSUFDN0IsZUFBZ0IsSUFDaEIsU0FBVSxJQUNWLEtBQU0sSUFDTixlQUFnQixJQUNoQixtQkFBb0IsSUFDcEIsZ0JBQWlCLElBQ2pCLFdBQVksSUFDWixxQkFBc0IsSUFDdEIsb0JBQXFCLElBQ3JCLGtCQUFtQixJQUNuQixVQUFXLElBQ1gsbUJBQW9CLElBQ3BCLG9CQUFxQixJQUNyQixPQUFRLElBQ1IsaUJBQWtCLElBQ2xCLFNBQVUsSUFDVixnQkFBaUIsSUFDakIscUJBQXNCLElBQ3RCLGdCQUFpQixJQUNqQiw0QkFBNkIsSUFDN0IsMkJBQTRCLElBQzVCLG9CQUFxQixJQUNyQixlQUFnQixJQUNoQixXQUFZLElBQ1osbUJBQW9CLElBQ3BCLGVBQWdCLElBQ2hCLHdCQUF5QixJQUN6QixzQkFBdUIsSUFDdkIsb0JBQXFCLElBQ3JCLGFBQWMsSUFDZCxZQUFhLElBQ2IsOEJBQStCLEdBQ2pDLEVBRUEsT0FBTyxRQUFRLEVBQWMsRUFBRSxRQUFRLEVBQUUsRUFBSyxLQUFXLENBQ3ZELEdBQWUsR0FBUyxFQUN6QixFQUVELElBQWUsTUMzQ2YsU0FBUyxFQUFjLENBQUMsRUFBZSxDQUNyQyxJQUFNLEVBQVUsSUFBSSxHQUFNLENBQWEsRUFDakMsRUFBVyxHQUFLLEdBQU0sVUFBVSxRQUFTLENBQU8sRUFhdEQsT0FWQSxFQUFNLE9BQU8sRUFBVSxHQUFNLFVBQVcsRUFBUyxDQUFDLFdBQVksRUFBSSxDQUFDLEVBR25FLEVBQU0sT0FBTyxFQUFVLEVBQVMsS0FBTSxDQUFDLFdBQVksRUFBSSxDQUFDLEVBR3hELEVBQVMsZ0JBQWtCLENBQU0sQ0FBQyxFQUFnQixDQUNoRCxPQUFPLEdBQWUsR0FBWSxFQUFlLENBQWMsQ0FBQyxHQUczRCxFQUlULElBQU0sR0FBUSxHQUFlLEVBQVEsRUFHckMsR0FBTSxNQUFRLEdBR2QsR0FBTSxjQUFnQixHQUN0QixHQUFNLFlBQWMsR0FDcEIsR0FBTSxTQUFXLEdBQ2pCLEdBQU0sUUFBVSxHQUNoQixHQUFNLFdBQWEsR0FHbkIsR0FBTSxXQUFhLEdBR25CLEdBQU0sT0FBUyxHQUFNLGNBR3JCLEdBQU0sYUFBZSxDQUFHLENBQUMsRUFBVSxDQUNqQyxPQUFPLFFBQVEsSUFBSSxDQUFRLEdBRzdCLEdBQU0sT0FBUyxHQUdmLEdBQU0sYUFBZSxHQUdyQixHQUFNLFlBQWMsR0FFcEIsR0FBTSxhQUFlLEdBRXJCLEdBQU0sV0FBYSxLQUFTLEdBQWUsRUFBTSxXQUFXLENBQUssRUFBSSxJQUFJLFNBQVMsQ0FBSyxFQUFJLENBQUssRUFFaEcsR0FBTSxXQUFhLEdBQVMsV0FFNUIsR0FBTSxlQUFpQixHQUV2QixHQUFNLFFBQVUsR0FHaEIsSUFBZSxNQzVFUixTQUFTLEVBR1gsRUFBbUIsQ0FFaEIsTUFBTyxDQUFDLFFBQU8sT0FBSyxFQUd4QixlQUFlLENBQTBCLENBQUMsRUFBMEIsQ0FDaEUsT0FBUSxNQUFNLEdBQU0sSUFBSyxDQUFjLEdBQUcsS0FHOUMsZUFBZSxDQUEwQixDQUFDLEVBQVMsRUFBcUMsQ0FDcEYsT0FBUSxNQUFNLEdBQU0sS0FBTSxFQUFnQixDQUFJLEdBQUcsTUNwQmxELElBQU0sR0FBUyxHQXlFbkIsRUM5RUksU0FBUyxFQUEwQixDQUFDLEVBQW9CLEVBQXFDLENBQ2hHLEdBQUksRUFDQSxPQUVKLE1BQU0sbUJDZ0JILFNBQVMsRUFBYSxFQUN6QixPQUNBLGtCQUFnQixJQUNoQixZQUFVLENBQ04sU0FBVSxHQUNkLEVBQ0EsUUFDQSxjQUNHLEdBQzJCLENBQzlCLElBQUksRUFBcUIsWUFBUyxDQUFDLEVBQy9CLEVBQVUsR0FBVyxFQUFLLE9BQVEsRUFBSyxJQUFJLENBQUMsRUFBRyxLQUFZLENBQzNELFVBQVcsY0FBYyxLQUFPLEVBQVMsRUFBSSxRQUM3QyxPQUFRLENBQ1osRUFBRSxDQUFDLEVBT0gsT0FMQSxhQUFVLElBQU0sQ0FDWixJQUFJLEVBQWUsWUFBWSxJQUFNLEVBQUksR0FBRyxNQUFTLEVBQU8sR0FBSyxFQUFLLE1BQU0sRUFBRyxDQUFlLEVBQzlGLE1BQU8sSUFBTSxjQUFjLENBQUssR0FDakMsQ0FBQyxDQUFDLEVBRUUsZ0NBQ0gsVUFvQ0UsTUFwQ0YsQ0FDSSxNQUFPLENBQ0gsYUFBYyxHQUNkLFVBQVcsR0FDWCxTQUFVLFdBQ1YsVUFBVyxTQUNYLFVBQVcsWUFDUixDQUNQLEtBQ0ksRUFUUixTQW9DRSxDQTFCRyxFQUFRLElBQUksQ0FBQyxFQUFRLElBQWMsZ0NBQ2hDLFVBQUMsR0FBUyxJQUFWLENBRUksTUFBTyxJQUNBLEVBQ0gsU0FBVSxXQUNWLE1BQU8sT0FDUCxPQUFRLE9BQ1IsS0FBTSxFQUNOLGdCQUFpQixPQUFPLEVBQUssTUFDN0IsZUFBZ0IsUUFDaEIsb0JBQXFCLFNBQ3JCLG9CQUFxQixTQUNyQixpQkFBa0IsV0FDdEIsR0FaSyxFQURULGNBYU0sR0FkMEIscUJBZWxDLENBQUMsRUFDSCxVQVNFLE1BVEYsQ0FDSSxNQUFPLENBQ0gsU0FBVSxXQUNWLE9BQVEsSUFDUixNQUFPLE9BQ1AsT0FBUSxPQUNSLEtBQU0sQ0FDVixFQVBKLFNBUUssR0FSTCxxQkFTRSxJQW5DTixxQkFvQ0UsR0FyQ0MscUJBc0NMLEVDekVDLElBQU0sR0FBZSxDQUN4QixVQUNBLFVBQ0EsU0FDSixFQ0pPLElBQU0sR0FBYSxDQUN0QixzQkFDQSxjQUNBLE9BQ0osRUNWTyxJQUFNLEdBQWlCLHVEQ1l2QixTQUFTLEVBQVUsRUFBRSxRQUFPLGNBQWEsR0FBbUMsQ0FDL0UsT0FBTyxnQ0FDSCxVQXVCRSxTQXZCRixDQUNJLE1BQU8sQ0FDSCxJQUFLLFFBQ0wsUUFBUyxPQUNULGNBQWUsTUFDZixlQUFnQixTQUNoQixXQUFZLFNBQ1osT0FBUSxVQUNSLFNBQVUsTUFDVixXQUFZLFNBQ1osV0FBWSxHQUFLLEdBQ2pCLE1BQU8sR0FBTSxHQUNiLFVBQVcsR0FDWCxXQUFZLEdBQU0sR0FDbEIsUUFBUyxFQUNULGFBQWMsRUFDZCxNQUFPLE9BQ1AsT0FBUSxPQUNSLFNBQVUsS0FDUCxDQUNQLEtBQ0ksRUFyQlIsU0FzQkssR0F0QkwscUJBdUJFLEdBeEJDLHFCQXlCTCxtQkM3QkMsU0FBUyxFQUFTLEVBQUUsV0FBVSxHQUFrQyxDQUNuRSxPQUFPLGdDQUNILFVBQUMsUUFBRCxDQUNJLE1BQU8sQ0FDSCxJQUFLLFFBQ0wsUUFBUyxPQUNULGNBQWUsTUFDZixlQUFnQixTQUNoQixXQUFZLFNBQ1osTUFBTyxPQUNQLE9BQVEsT0FDUixLQUFNLEtBQ0gsQ0FDUCxLQUNJLEdBWlIscUJBWWEsR0FiVixxQkFjTCxtQkNiQyxTQUFTLEVBQVcsRUFBRSxRQUFPLGNBQWEsR0FBb0MsQ0FDakYsT0FBTyxnQ0FDSCxVQWlCRSxNQWpCRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxNQUNmLGVBQWdCLFNBQ2hCLFdBQVksU0FDWixNQUFPLE9BQ1AsT0FBUSxPQUNSLEtBQU0sRUFDTixTQUFVLFNBQ1YsV0FBWSxTQUNaLFdBQVksR0FBSyxHQUNqQixNQUFPLEdBQU0sTUFDVixDQUNQLEtBQ0ksRUFmUixTQWdCSyxHQWhCTCxxQkFpQkUsR0FsQkMscUJBbUJMLG1CQ25CQyxTQUFTLEVBQUksRUFBRSxRQUFPLGNBQWEsR0FBNkIsQ0FDbkUsT0FBTyxnQ0FDSCxVQW1CRSxNQW5CRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxTQUNmLGVBQWdCLFFBQ2hCLFdBQVksU0FDWixTQUFVLE1BQ1YsV0FBWSxTQUNaLFdBQVksR0FBSyxHQUNqQixNQUFPLEdBQU0sR0FDYixVQUFXLEdBQ1gsUUFBUyxHQUNULGFBQWMsRUFDZCxJQUFLLEdBQ0wsV0FBWSxXQUNULENBQ1AsS0FDSSxFQWpCUixTQWtCSyxHQWxCTCxxQkFtQkUsR0FwQkMscUJBcUJMLG1CQ2pCQyxTQUFTLEVBQXlCLEVBQUUsY0FBYSxHQUF1QyxDQUMzRixPQUFPLGdDQUNILFVBS0UsR0FMRixJQUNRLEVBRFIsU0FLRSxDQUhFLFVBQXlCLEdBQXpCLFVBQVcsRUFBUyxJQUFwQixxQkFBeUIsRUFDekIsVUFBeUIsR0FBekIsVUFBVyxFQUFTLElBQXBCLHFCQUF5QixFQUN6QixVQUF5QixHQUF6QixVQUFXLEVBQVMsSUFBcEIscUJBQXlCLElBSjdCLHFCQUtFLEdBTkMscUJBT0wsRUFVTixTQUFTLEVBQVEsRUFBRSxRQUFPLGNBQWEsR0FBaUMsQ0FDcEUsT0FBTyxnQ0FDSCxVQWFFLE1BYkYsQ0FDSSxNQUFPLENBQ0gsUUFBUyxPQUNULGNBQWUsU0FDZixlQUFnQixTQUNoQixXQUFZLFNBQ1osTUFBTyxPQUNQLE9BQVEsT0FDUixLQUFNLEtBQ0gsQ0FDUCxLQUNJLEVBWFIsU0FZSyxHQVpMLHFCQWFFLEdBZEMscUJBZUwsbUJDdkNDLFNBQVMsRUFBSSxFQUNoQixTQUNBLFNBQ0EsUUFDQSxjQUNHLEdBQ2tCLENBQ3JCLE9BQU8sZ0NBQ0gsVUF5Q0UsTUF6Q0YsQ0FDSSxNQUFPLENBQ0gsUUFBUyxPQUNULGNBQWUsU0FDZixlQUFnQixRQUNoQixXQUFZLFNBQ1osTUFBTyxRQUNQLE9BQVEsUUFDUixXQUFZLFdBQ1QsQ0FDUCxLQUNJLEVBWFIsU0FZSSxVQTRCRSxNQTVCRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxTQUNmLGVBQWdCLFFBQ2hCLFdBQVksU0FDWixTQUFVLEtBQ1YsU0FBVSxLQUNWLE1BQU8sT0FDUCxPQUFRLE9BQ1IsS0FBTSxFQUNOLFlBQWEsR0FDYixhQUFjLEVBQ2xCLEVBYkosU0E0QkUsQ0FkRyxFQUNELFVBV0UsTUFYRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxTQUNmLGVBQWdCLFNBQ2hCLFdBQVksU0FDWixTQUFVLEVBQ1YsTUFBTyxPQUNQLE9BQVEsTUFDWixFQVRKLFNBVUssR0FWTCxxQkFXRSxFQUNELElBM0JMLHFCQTRCRSxHQXhDTixxQkF5Q0UsR0ExQ0MscUJBMkNMLG1CQ3JEQyxTQUFTLEVBQWMsRUFBRSxRQUFPLGNBQWEsR0FBdUMsQ0FDdkYsT0FBTyxnQ0FDSCxVQVlFLE1BWkYsQ0FDSSxNQUFPLENBQ0gsUUFBUyxPQUNULGNBQWUsTUFDZixlQUFnQixTQUNoQixXQUFZLFNBQ1osUUFBUyxHQUNULElBQUssTUFDRixDQUNQLEtBQ0ksRUFWUixTQVdLLEdBWEwscUJBWUUsR0FiQyxxQkFjTCxtQkNGQyxTQUFTLEVBQVMsRUFDckIsT0FDQSxZQUNBLGFBQ0EsWUFDQSx1QkFBcUIsUUFDckIsdUJBQXFCLFFBQ3JCLFFBQ0EsY0FDRyxHQUN1QixDQUMxQixJQUFJLEVBQVMsR0FBVSxLQUFPLENBQzFCLFNBQVUsQ0FDZCxFQUFFLEVBRUYsT0FBTyxnQ0FDSCxVQTBERSxNQTFERixDQUNJLE1BQU8sQ0FDSCxJQUFLLFFBQ0wsUUFBUyxPQUNULGNBQWUsTUFDZixlQUFnQixTQUNoQixXQUFZLFNBQ1osT0FBUSxVQUNSLFFBQVMsTUFDVCxJQUFLLE1BQ0wsbUJBQW9CLFVBQ2pCLENBQ1AsS0FDSSxFQWJSLFNBMERFLENBNUNHLEVBQU8sZ0NBQ0osVUFBQyxNQUFELENBQ0ksTUFBTyxDQUNILFFBQVMsT0FDVCxjQUFlLE1BQ2YsZUFBZ0IsU0FDaEIsV0FBWSxTQUNaLGdCQUFpQixPQUFPLEtBQ3hCLG9CQUFxQixTQUNyQixvQkFBcUIsU0FDckIsZUFBZ0IsVUFDaEIsaUJBQWtCLFlBQ2xCLE1BQU8sT0FDUCxZQUFhLFdBQ1YsQ0FDUCxHQWRKLHFCQWNNLEdBZkYscUJBZ0JOLEVBQUksT0FDTCxFQUFXLGdDQUVSLFVBdUJFLEdBQVMsSUF2QlgsQ0FDSSxhQUFjLElBQU0sQ0FDaEIsRUFBTyxHQUFHLE1BQU0sQ0FDWixTQUFVLEVBQ1YsT0FBUSxDQUNaLENBQUMsRUFDRCxRQUVKLGFBQWMsSUFBTSxDQUNoQixFQUFPLEdBQUcsTUFBTSxDQUNaLFNBQVUsRUFDVixPQUFRLENBQ1osQ0FBQyxFQUNELFFBRUosTUFBTyxDQUNILFdBQVksU0FDWixXQUFZLEdBQUssR0FDakIsTUFBTyxHQUFNLE1BQ1YsRUFBTyxNQUNQLENBQ1AsRUFyQkosU0FzQkssR0F0QkwscUJBdUJFLEdBekJNLHFCQTBCVixFQUFJLFNBekRWLHFCQTBERSxHQTNEQyxxQkE0REwsbUJDdEZDLFNBQVMsRUFBeUIsRUFBRSxXQUFVLEdBQWtELENBQ25HLE9BQU8sZ0NBQ0gsVUFBQyxHQUFELENBQ0ksSUFBSyxHQUNMLE1BQU8sQ0FDSCxNQUFPLFVBQ0osQ0FDUCxLQUNJLEdBTlIscUJBTWEsR0FQVixxQkFRTCxtQkNMQyxTQUFTLEVBQXFCLEVBQUUsS0FBSSxRQUFPLGNBQWEsR0FBOEMsQ0FDekcsT0FBTyxnQ0FDSCxVQTJCRSxNQTNCRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxNQUNmLGVBQWdCLFNBQ2hCLFdBQVksU0FDWixJQUFLLEdBQ0wsU0FBVSxXQUNWLFdBQVksR0FBTSxHQUNsQixhQUFjLFVBQ1gsQ0FDUCxFQVhKLFNBMkJFLENBZkUsVUFBQyxHQUFELENBQ0ksTUFBTyxDQUNILFNBQVUsV0FDVixNQUFPLE9BQ1AsT0FBUSxNQUNaLEdBTEoscUJBS00sRUFDTixVQVFFLEdBUkYsQ0FDSSxHQUFJLEVBRFIsU0FFSSxVQUtFLEdBTEYsQ0FDSSxXQUFZLENBQ1IsTUFBTyxHQUFNLEVBQ2pCLEVBSEosU0FJSyxHQUpMLHFCQUtFLEdBUE4scUJBUUUsSUExQk4scUJBMkJFLEdBNUJDLHFCQTZCTCxtQkNqQ0MsU0FBUyxFQUFPLEVBQUUsV0FBVSxHQUFnQyxDQUMvRCxPQUFPLGdDQUNILFVBY0UsR0FkRixDQUNJLEdBQUcsSUFDSCxNQUFPLENBQ0gsUUFBUyxVQUNiLEVBSkosU0FLSSxVQUFDLEdBQUQsQ0FDSSxJQUFLLEdBQ0wsTUFBTyxDQUNILE9BQVEsVUFDUixNQUFPLFFBQ1AsWUFBYSxXQUNWLENBQ1AsS0FDSSxHQVJSLHFCQVFhLEdBYmpCLHFCQWNFLEdBZkMscUJBZ0JMLG1CQ1hDLFNBQVMsRUFBMEIsRUFDdEMsWUFDQSxnQkFDQSxVQUNBLFFBQ0EsY0FDRyxHQUN3QyxDQUMzQyxPQUFPLGdDQUNILFVBNkRFLE1BN0RGLENBQ0ksTUFBTyxDQUNILFFBQVMsT0FDVCxjQUFlLFNBQ2YsZUFBZ0IsU0FDaEIsV0FBWSxTQUNaLFNBQVUsY0FDUCxDQUNQLEtBQ0ksRUFUUixTQTZERSxDQW5ERSxVQWNFLE1BZEYsQ0FDSSxRQUFTLElBQU0sRUFBUSxHQUFHLEVBQUksRUFDOUIsTUFBTyxDQUNILFFBQVMsT0FDVCxjQUFlLE1BQ2YsZUFBZ0IsU0FDaEIsV0FBWSxTQUNaLFNBQVUsTUFDVixXQUFZLFNBQ1osV0FBWSxHQUFLLEdBQ2pCLE1BQU8sR0FBTSxHQUNiLE9BQVEsU0FDWixFQVpKLFNBYUssR0FiTCxxQkFjRSxFQUNELEVBQVEsR0FBSyxnQ0FDVixVQWlDRSxNQWpDRixDQUNJLGFBQWMsSUFBTSxFQUFRLEdBQUcsRUFBSyxFQUNwQyxNQUFPLENBQ0gsUUFBUyxPQUNULGNBQWUsU0FDZixlQUFnQixRQUNoQixXQUFZLFNBQ1osU0FBVSxXQUNWLElBQUssT0FDTCxJQUFLLEdBQ0wsUUFBUyxHQUNULFVBQVcsRUFDZixFQVpKLFNBYUssRUFBVSxHQUFHLElBQUksS0FBWSxnQ0FDMUIsVUFpQkUsR0FqQkYsQ0FDSSxHQUFHLGFBQ0gsUUFBUyxJQUFNLEVBQWMsR0FBRyxDQUFRLEVBRjVDLFNBR0ksVUFhRSxNQWJGLENBQ0ksTUFBTyxDQUNILFFBQVMsT0FDVCxjQUFlLE1BQ2YsZUFBZ0IsU0FDaEIsV0FBWSxTQUNaLFNBQVUsU0FDVixXQUFZLFNBQ1osV0FBWSxHQUFLLEdBQ2pCLE1BQU8sR0FBTSxHQUNiLE9BQVEsU0FDWixFQVhKLFNBWUssR0FaTCxxQkFhRSxHQWhCTixxQkFpQkUsR0FsQndCLHFCQW1CNUIsQ0FBQyxHQWhDUCxxQkFpQ0UsR0FsQ1EscUJBbUNaLEVBQUksU0E1RFYscUJBNkRFLEdBOURDLHFCQStETCxtQkNoRUMsU0FBUyxFQUFlLEVBQzNCLFlBQ0EsZ0JBQ0EsV0FDQSxlQUNBLE9BQ0Esa0JBQ2dDLENBQ2hDLElBQUksRUFBaUQsWUFBa0IsRUFBSyxFQUN4RSxFQUFtQyxZQUFrQixFQUFLLEVBQzFELEVBQWdDLFlBQWlCLEVBQUUsRUFFdkQsT0FBTyxnQ0FDSCxVQUFDLEdBQUQsQ0FDSSxVQUFXLEVBQ1gsY0FBZSxFQUNmLCtCQUFnQyxFQUNoQyxTQUFVLEVBQ1YsYUFBYyxFQUNkLGlCQUFrQixFQUNsQixlQUFnQixFQUNoQixLQUFNLEVBQ04sZUFBZ0IsR0FUcEIscUJBU21DLEdBVmhDLHFCQVdMLG1CQzNCQyxTQUFTLEVBQXdCLEVBQ3BDLFdBQ0Esa0JBQ0csR0FDc0MsQ0FDekMsSUFBSSxFQUEwQixZQUFrQixFQUFLLEVBQ2pELEVBQXVCLFlBQWlCLEVBQUUsRUFDMUMsRUFBeUMsWUFBNkIsQ0FBQyxDQUFDLEVBRTVFLE9BQU8sZ0NBQ0gsVUFBQyxHQUFELENBQ0ksU0FBVSxFQUNWLGFBQWMsRUFDZCxRQUFTLEVBQ1QsTUFBTyxFQUNQLFlBQWEsS0FDVCxHQU5SLHFCQU1hLEdBUFYscUJBUUwsbUJDWEMsU0FBUyxFQUFZLEVBQ3hCLFdBQ0EsZUFDQSxVQUNBLFFBQ0EsY0FDQSxXQUNHLEdBQzBCLENBa0I3QixPQWhCQSxhQUFVLElBQU0sQ0FDWixJQUFJLEVBQWlCLEVBQU0sR0FDM0IsR0FBSSxFQUFPLEtBQUssRUFBRSxTQUFXLEVBQUcsQ0FDNUIsRUFBUSxHQUFHLEVBQUksRUFDZixPQUVKLElBQUksRUFBbUMsRUFBUyxHQUNoRCxFQUNLLElBQUksTUFBWSxJQUFJLEVBQVMsTUFBTyxPQUFLLEVBQVEsRUFBUSxNQUFNLGtCQUFrQixHQUFLLEVBQUUsQ0FBQyxFQUFFLEVBQzNGLEtBQUssQ0FBQyxFQUFHLElBQU0sRUFBRSxNQUFRLEVBQUUsS0FBSyxFQUNoQyxNQUFNLEVBQUcsRUFBRSxFQUNoQixFQUFZLEdBQUcsQ0FBWSxFQUMzQixFQUFRLEdBQUcsRUFBSSxFQUNmLFFBQ0QsQ0FBQyxFQUFNLEVBQUUsQ0FBQyxFQUVOLGdDQUNILFVBd0VFLE1BeEVGLENBQ0ksTUFBTyxDQUNILFFBQVMsT0FDVCxjQUFlLFNBQ2YsZUFBZ0IsU0FDaEIsV0FBWSxTQUNaLFNBQVUsV0FDVixNQUFPLE9BQ1AsT0FBUSxPQUNSLEtBQU0sT0FDSCxDQUNQLEtBQ0ksRUFaUixTQXdFRSxDQTNERSxVQWtDRSxNQWxDRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxNQUNmLGVBQWdCLFNBQ2hCLFdBQVksU0FDWixNQUFPLE9BQ1AsT0FBUSxPQUNSLFVBQVcsR0FDWCxRQUFTLEdBQ1QsS0FBTSxFQUNOLElBQUssRUFDVCxFQVpKLFNBa0NFLENBckJFLFVBQUMsR0FBRCxDQUNJLElBQUssR0FDTCxNQUFPLENBQ0gsTUFBTyxNQUNYLEdBSkoscUJBSU0sRUFDTixVQUFDLFFBQUQsQ0FDSSxNQUFPLEVBQU0sR0FDYixTQUFVLEtBQUssRUFBTSxHQUFHLEVBQUUsT0FBTyxLQUFLLEVBQ3RDLE1BQU8sQ0FDSCxJQUFLLFFBQ0wsUUFBUyxPQUNULGNBQWUsTUFDZixlQUFnQixRQUNoQixXQUFZLFNBQ1osTUFBTyxPQUNQLE9BQVEsT0FDUixLQUFNLEVBQ04sU0FBVSxTQUNWLFdBQVksU0FDWixXQUFZLEdBQUssRUFDckIsR0FmSixxQkFlTSxJQWpDVixxQkFrQ0UsRUFDRCxFQUFRLEdBQUssZ0NBQ1YsVUFxQkUsTUFyQkYsQ0FDSSxNQUFPLENBQ0gsUUFBUyxPQUNULGNBQWUsU0FDZixlQUFnQixRQUNoQixXQUFZLFNBQ1osU0FBVSxXQUNWLElBQUssT0FDTCxNQUFPLE9BQ1AsT0FBUSxPQUNSLEtBQU0sRUFDTixVQUFXLEdBQ1gsV0FBWSxPQUNoQixFQWJKLFNBY0ssRUFBWSxHQUFHLElBQUksS0FBYyxnQ0FDOUIsVUFBQyxHQUFELENBQ0ksR0FBRyxXQUNILFNBQVUsRUFDVixhQUFjLEVBQ2QsVUFBVyxHQUpmLHFCQUkwQixHQUxJLHFCQU1oQyxDQUFDLEdBcEJQLHFCQXFCRSxHQXRCUSxxQkF1QlosRUFBSSxTQXZFVixxQkF3RUUsR0F6RUMscUJBMEVMLG1CQ3ZGQyxTQUFTLEVBQWEsRUFDekIsV0FDQSxXQUNBLFdBQ0EsT0FDQSxpQkFDQSxlQUNBLGNBQ0csR0FDMkIsQ0FDOUIsT0FBTyxnQ0FDSCxVQWdDRSxHQWhDRixJQUNRLEVBRFIsU0FnQ0UsQ0E5QkUsVUFFRSxHQUZGLFVBQ0ssRUFBUyxJQURkLHFCQUVFLEVBQ0YsVUFBQyxHQUFELENBQ0ksTUFBTyxFQUFTLEdBQ2hCLFlBQVksV0FDWixTQUFVLEtBQUssRUFBUyxHQUFHLEVBQUUsT0FBTyxLQUFLLEdBSDdDLHFCQUcrQyxFQUMvQyxVQUFDLEdBQUQsQ0FDSSxNQUFPLEVBQVMsR0FDaEIsWUFBWSxXQUNaLFNBQVUsS0FBSyxFQUFTLEdBQUcsRUFBRSxPQUFPLEtBQUssR0FIN0MscUJBRytDLEVBQy9DLFVBa0JFLEdBbEJGLENBQ0ksUUFBUyxTQUFZLENBQ2pCLElBQUksRUFDQSxFQUVKLEdBREEsQ0FBQyxFQUFTLENBQU8sRUFBSyxNQUFNLEVBQWEsRUFBUyxHQUFJLEVBQVMsRUFBRSxFQUM3RCxJQUFZLEdBQU8sQ0FDbkIsRUFBUyxHQUFHLENBQU8sRUFDbkIsT0FHSixHQURBLENBQUMsRUFBUyxDQUFPLEVBQUssTUFBTSxFQUFTLEVBQVMsR0FBSSxFQUFTLEVBQUUsRUFDekQsSUFBWSxHQUFPLENBQ25CLEVBQVMsR0FBRyxDQUFPLEVBQ25CLE9BRUosRUFBUyxHQUFHLElBQUksRUFDaEIsUUFmUix5Q0FrQkUsSUEvQk4scUJBZ0NFLEdBakNDLHFCQWtDTCxtQkM1Q0MsU0FBUyxFQUFhLEVBQ3pCLFdBQ0EsV0FDQSxRQUNBLFdBQ0EsZUFDQSxjQUNHLEdBQzJCLENBQzlCLE9BQU8sZ0NBQ0gsVUFzQ0UsR0F0Q0YsSUFDUSxFQURSLFNBc0NFLENBcENHLEVBQVMsR0FBSyxnQ0FDWCxVQUVFLEdBRkYsVUFDSyxFQUFTLElBRGQscUJBRUUsR0FIUyxxQkFJYixFQUFJLE9BQ04sVUFBQyxHQUFELENBQ0ksTUFBTyxFQUFNLEdBQ2IsWUFBWSxRQUNaLFNBQVUsS0FBSyxFQUFNLEdBQUcsRUFBRSxPQUFPLEtBQUssR0FIMUMscUJBRzRDLEVBQzVDLFVBQUMsR0FBRCxDQUNJLE1BQU8sRUFBUyxHQUNoQixZQUFZLFdBQ1osU0FBVSxLQUFLLEVBQVMsR0FBRyxFQUFFLE9BQU8sS0FBSyxHQUg3QyxxQkFHK0MsRUFDL0MsVUFBQyxHQUFELENBQ0ksTUFBTyxFQUFTLEdBQ2hCLFlBQVksV0FDWixTQUFVLEtBQUssRUFBUyxHQUFHLEVBQUUsT0FBTyxLQUFLLEdBSDdDLHFCQUcrQyxFQUMvQyxVQWtCRSxHQWxCRixDQUNJLFFBQVMsU0FBWSxDQUNqQixJQUFJLEVBQ0EsRUFFSixHQURBLENBQUMsRUFBUyxDQUFPLEVBQUssTUFBTSxFQUFhLEVBQVMsR0FBSSxFQUFTLEdBQUksRUFBTSxFQUFFLEVBQ3ZFLElBQVksR0FBTyxDQUNuQixFQUFTLEdBQUcsQ0FBTyxFQUNuQixPQUdKLEdBREEsQ0FBQyxFQUFTLENBQU8sRUFBSyxNQUFNLEVBQVMsRUFBUyxHQUFJLEVBQVMsR0FBSSxFQUFNLEVBQUUsRUFDbkUsSUFBWSxHQUFPLENBQ25CLEVBQVMsR0FBRyxDQUFPLEVBQ25CLE9BRUosRUFBUyxHQUFHLElBQUksRUFDaEIsUUFmUix5Q0FrQkUsSUFyQ04scUJBc0NFLEdBdkNDLHFCQXdDTCxtQkM5REMsU0FBUyxFQUFtQyxFQUMvQyxPQUNBLG9CQUNHLEdBQ2lELENBQ3BELElBQUksRUFBMEIsWUFBUyxFQUFLLEVBQ3hDLEVBQWdDLFlBQVMsRUFBSyxFQUM5QyxFQUFnQyxZQUFTLEVBQUssRUFDOUMsRUFBMEIsWUFBUyxFQUFFLEVBQ3JDLEVBQTBCLFlBQVMsRUFBRSxFQUNyQyxFQUF1QixZQUFTLEVBQUUsRUFHbEMsRUFBaUMsWUFBUyxJQUFJLEVBRWxELE9BQU8sZ0NBQ0gsVUFBQyxHQUFELENBQ0ksUUFBUyxFQUNULGNBQWUsRUFDZixjQUFlLEVBQ2YsV0FBWSxnQ0FDUixVQUFDLEdBQUQsQ0FDSSxTQUFVLEVBQ1YsU0FBVSxFQUNWLE1BQU8sRUFDUCxTQUFVLEVBQ1YsYUFBYyxNQUFPLEVBQVUsRUFBVSxJQUFVLENBQy9DLEdBQUksQ0FJQSxPQUhBLEdBQVEsRUFBUyxLQUFLLEVBQUUsU0FBVyxFQUFHLEVBQUUsRUFDeEMsR0FBUSxFQUFTLEtBQUssRUFBRSxTQUFXLEVBQUcsRUFBRSxFQUN4QyxHQUFRLEVBQU0sS0FBSyxFQUFFLFNBQVcsRUFBRyxFQUFFLEVBQzlCLENBQUMsR0FBTSxJQUFJLFFBRWYsRUFBUCxDQUNJLE1BQU8sQ0FBQyxHQUFPLE9BQU8sQ0FBQyxDQUFDLElBR2hDLFNBQVUsTUFBTyxFQUFVLEVBQVUsSUFBVSxDQUMzQyxJQUFLLE1BQU0sR0FBTyxNQUFNLHlCQUEwQixDQUM5QyxTQUFVLENBQ2QsQ0FBQyxHQUFHLFFBQVMsQ0FDVCxJQUFJLEVBQThCLE1BQU0sR0FBTyxNQUFNLFdBQVksQ0FDN0QsU0FBVSxFQUNWLFNBQVUsRUFDVixNQUFPLENBQ1gsQ0FBQyxFQUNELEdBQUksRUFDQSxNQUFPLENBQUMsR0FBTyxDQUFPLEVBRTFCLE1BQU8sQ0FBQyxHQUFNLElBQUksRUFFdEIsTUFBTyxDQUFDLEdBQU8sSUFBSSxJQTlCM0IscUJBK0JNLEdBaENFLHFCQWlDVixFQUNGLFdBQVksZ0NBQ1IsVUFBQyxHQUFELENBQ0ksU0FBVSxFQUNWLFNBQVUsRUFDVixTQUFVLEVBQ1YsS0FBTSxFQUNOLGVBQWdCLEVBQ2hCLGFBQWMsTUFBTyxFQUFVLElBQWEsQ0FDeEMsR0FBSSxDQUdBLE9BRkEsR0FBUSxFQUFTLEtBQUssRUFBRSxTQUFXLEVBQUcsRUFBRSxFQUN4QyxHQUFRLEVBQVMsS0FBSyxFQUFFLFNBQVcsRUFBRyxFQUFFLEVBQ2pDLENBQUMsR0FBTSxJQUFJLFFBRWYsRUFBUCxDQUNJLE1BQU8sQ0FBQyxHQUFPLE9BQU8sQ0FBQyxDQUFDLElBR2hDLFNBQVUsTUFBTyxFQUFVLElBQWEsQ0FDcEMsSUFBSSxFQUE4QixNQUFNLEdBQU8sTUFBTSxXQUFZLENBQzdELFNBQVUsRUFDVixTQUFVLENBQ2QsQ0FBQyxFQUNELEdBQUksRUFDQSxNQUFPLENBQUMsR0FBTyxDQUFPLEVBRTFCLE1BQU8sQ0FBQyxHQUFNLElBQUksSUF4QjFCLHFCQXlCTSxHQTFCRSxxQkEyQlYsS0FDRSxHQWxFUixxQkFrRWEsR0FuRVYscUJBb0VMLG1CQzdGQyxTQUFTLEVBQXVCLEVBQ25DLFVBQ0EsZ0JBQ0EsZ0JBQ0EsYUFDQSxhQUNBLFdBQ0csR0FDcUMsQ0FDeEMsT0FBTyxnQ0FDSCxVQThCRSxNQTlCRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxTQUNmLGVBQWdCLFNBQ2hCLFdBQVksU0FDWixTQUFVLGNBQ1AsQ0FDUCxLQUNJLEVBVFIsU0E4QkUsQ0FwQkUsVUFRRSxHQVJGLENBQ0ksUUFBUyxJQUFNLENBQ1gsRUFBUSxHQUFHLEVBQUksRUFDZixFQUFjLEdBQUcsRUFBSyxFQUN0QixFQUFjLEdBQUcsRUFBSSxFQUNyQixRQUxSLHlDQVFFLEVBQ0YsVUFVRSxNQVZGLENBQ0ksUUFBUyxJQUFNLENBQ1gsRUFBUSxHQUFHLEVBQUksRUFDZixFQUFjLEdBQUcsRUFBSSxFQUNyQixFQUFjLEdBQUcsRUFBSyxHQUUxQixNQUFPLENBRVAsRUFSSix5Q0FVRSxJQTdCTixxQkE4QkUsR0EvQkMscUJBZ0NMLG1CQ3ZDQyxTQUFTLEVBQWEsRUFDekIsV0FDQSxlQUNBLFlBQ0EsS0FDQSxXQUNHLEdBQzJCLENBQzlCLE9BQU8sZ0NBQ0gsVUFnRkUsR0FoRkYsQ0FDSSxNQUFPLENBQ0gsUUFBUyxVQUNiLEVBQ0EsR0FBSSxFQUpSLFNBS0ksVUEwRUUsTUExRUYsQ0FDSSxRQUFTLElBQU0sQ0FFWCxJQUFJLEVBRGdDLEVBQVMsR0FFeEMsT0FBTyxLQUFZLEVBQVMsT0FBUyxHQUFXLElBQUksRUFDcEQsR0FBRyxDQUFDLEdBQUssS0FDZCxHQUFJLEVBQ0EsRUFBYSxHQUFHLENBQU8sRUFFM0IsUUFFSixNQUFPLENBQ0gsUUFBUyxPQUNULGNBQWUsTUFDZixlQUFnQixRQUNoQixXQUFZLFNBQ1osTUFBTyxPQUNQLE9BQVEsT0FDUixLQUFNLEVBQ04sUUFBUyxFQUNULE9BQVEsYUFDTCxDQUNQLEtBQ0ksRUF2QlIsU0EwRUUsQ0FsREUsVUFlRSxNQWZGLENBQ0ksTUFBTyxDQUNILFFBQVMsT0FDVCxjQUFlLE1BQ2YsZUFBZ0IsUUFDaEIsV0FBWSxTQUNaLE1BQU8sT0FDUCxPQUFRLE9BQ1IsS0FBTSxFQUNOLE1BQU8sR0FBTSxHQUNiLFNBQVUsTUFDVixXQUFZLFNBQ1osV0FBWSxHQUFLLEVBQ3JCLEVBYkosU0FjSyxFQUFVLE1BZGYscUJBZUUsRUFDRixVQWlCRSxNQWpCRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxNQUNmLGVBQWdCLFFBQ2hCLFdBQVksU0FDWixNQUFPLE9BQ1AsT0FBUSxPQUNSLEtBQU0sRUFDTixNQUFPLEdBQU0sR0FDYixTQUFVLE1BQ1YsV0FBWSxTQUNaLFdBQVksR0FBSyxFQUNyQixFQWJKLFNBaUJFLENBakJGLElBY0ssRUFBVSxNQUNOLFFBQVEsQ0FBQyxFQUNULFNBQVMsSUFoQmxCLHFCQWlCRSxFQUNGLFVBZUUsTUFmRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxNQUNmLGVBQWdCLFFBQ2hCLFdBQVksU0FDWixNQUFPLE9BQ1AsT0FBUSxPQUNSLEtBQU0sRUFDTixNQUFPLEdBQU0sR0FDYixTQUFVLE1BQ1YsV0FBWSxTQUNaLFdBQVksR0FBSyxFQUNyQixFQWJKLFNBZUUsQ0FERyxFQUFVLE1BQU0sUUFBUSxDQUFDLEVBZDlCLCtCQWVFLElBekVOLHFCQTBFRSxHQS9FTixxQkFnRkUsR0FqRkMscUJBa0ZMLG1CQy9FQyxTQUFTLEVBQUcsRUFDZixZQUNBLGdCQUNBLGlDQUNBLFdBQ0EsZUFDQSxtQkFDQSxpQkFDQSxPQUNBLGlCQUNBLFdBQ0csR0FDaUIsQ0FDcEIsT0FBTyxnQ0FDSCxVQXlDRSxNQXpDRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxNQUNmLGVBQWdCLGdCQUNoQixXQUFZLFNBQ1osTUFBTyxPQUNQLE9BQVEsT0FDUixLQUFNLEVBQ04sV0FBWSxHQUNaLGNBQWUsR0FDZixJQUFLLEdBQ0wsT0FBUSxRQUNMLENBQ1AsS0FDSSxFQWZSLFNBeUNFLENBekJFLFVBQUMsR0FBRCx3QkFBUSxFQUNSLFVBU0UsR0FURixVQVNFLENBUkUsVUFHRSxHQUhGLENBQ0ksR0FBRyxXQURQLHlDQUdFLEVBQ0YsVUFBQyxHQUFELENBQ0ksVUFBVyxFQUNYLGNBQWUsRUFDZixRQUFTLEdBSGIscUJBRzRDLElBUmhELHFCQVNFLEVBQ0YsVUFBQyxHQUFELENBQ0ksU0FBVSxFQUNWLGFBQWMsR0FGbEIscUJBRStCLEVBQy9CLFVBVUUsR0FWRixVQVVFLENBVEUsVUFLRSxHQUxGLENBQ0ksR0FBRyxVQURQLFNBRUksVUFFRSxHQUZGLHlDQUVFLEdBSk4scUJBS0UsRUFDRixVQUFDLEdBQUQsQ0FDSSxLQUFNLEVBQ04sZUFBZ0IsR0FGcEIscUJBRW1DLElBVHZDLHFCQVVFLElBeENOLHFCQXlDRSxHQTFDQyxxQkEyQ0wsbUJDaEVDLFNBQVMsRUFBUSxFQUNwQixvQkFDQSwrQkFDQSx5QkFDQSxVQUNBLGlCQUNHLEdBQ3NCLENBQ3pCLE9BQU8sZ0NBQ0gsVUFBQyxHQUFELENBQ0ksU0FBVSxDQUFDLGdDQUNQLFVBaUJFLEdBakJGLENBQ0ksTUFBTyxDQUNILE1BQU8sT0FDUCxPQUFRLE9BQ1IsS0FBTSxJQUNOLE9BQVEsTUFDWixFQUNBLEtBQU0sRUFDTixnQkFBaUIsRUFDakIsVUFBVyxFQVRmLFNBVUksVUFNRSxHQU5GLENBQ0ksTUFBTyxDQUNILFNBQVUsTUFDVixNQUFPLEdBQU0sRUFDakIsRUFKSixTQUtLLEdBTEwscUJBTUUsR0FoQk4scUJBaUJFLEdBbEJLLHFCQW1CVCxFQUFHLGdDQUNELFVBY0UsTUFkRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxNQUNmLGVBQWdCLFNBQ2hCLFdBQVksU0FDWixNQUFPLE9BQ1AsT0FBUSxNQUNaLEVBUkosU0FTSyxFQUFZLElBQUksS0FBYyxnQ0FDM0IsVUFFRSxHQUZGLFVBQ0ssR0FETCxxQkFFRSxHQUh5QixxQkFJN0IsQ0FBQyxHQWJQLHFCQWNFLEdBZkQscUJBZ0JILEVBQUcsOENBRUgsQ0FBQyxLQUNDLEdBdkNSLHFCQXVDYSxHQXhDVixxQkF5Q0wsbUJDN0RDLFNBQVMsRUFBVSxFQUFFLFFBQU8sY0FBYSxHQUFtQyxDQUMvRSxPQUFPLGdDQUNILFVBT0UsR0FQRixDQUNJLE1BQU8sQ0FDSCxZQUFhLFdBQ1YsQ0FDUCxLQUNJLEVBTFIsU0FNSyxHQU5MLHFCQU9FLEdBUkMscUJBU0wsbUJDVEMsU0FBUyxFQUFNLEVBQUUsTUFBSyxRQUFPLGNBQWEsR0FBK0IsQ0FDNUUsT0FBTyxnQ0FDSCxVQWVFLE1BZkYsQ0FDSSxNQUFPLENBQ0gsUUFBUyxPQUNULGNBQWUsU0FDZixlQUFnQixTQUNoQixXQUFZLFNBQ1osZ0JBQWlCLE9BQU8sS0FDeEIsZUFBZ0IsVUFDaEIsb0JBQXFCLFNBQ3JCLG9CQUFxQixTQUNyQixpQkFBa0IsZUFDZixDQUNQLEtBQ0ksRUFiUixTQWNLLEdBZEwscUJBZUUsR0FoQkMscUJBaUJMLDBJQ2pCQyxTQUFTLEVBQVUsRUFDdEIsUUFDQSxjQUNHLEdBQ3dCLENBQzNCLE9BQU8sZ0NBQ0gsVUFhRSxNQWJGLENBQ0ksTUFBTyxDQUNILFFBQVMsT0FDVCxjQUFlLE1BQ2YsZUFBZ0IsU0FDaEIsV0FBWSxTQUNaLFNBQVUsTUFDVixXQUFZLFNBQ1osV0FBWSxHQUFLLE1BQ2QsQ0FDUCxLQUNJLEVBWFIsU0FZSyxHQVpMLHFCQWFFLEdBZEMscUJBZUwsRUMzQkMsU0FBUyxFQUFNLENBQUMsRUFBc0IsQ0FDekMsSUFBSSxFQUE4QixTQUFTLGVBQWUsTUFBTSxFQUNoRSxHQUFJLElBQVksS0FDWixLQUFNLDJCQUVWLGNBQUssQ0FBTyxFQUFFLE9BQU8sQ0FBRyxtQkNNNUIsU0FBUyxFQUFHLEVBQWMsQ0FDdEIsSUFBSSxFQUFrQyxZQUF3QixDQUFDLENBQUMsRUFDNUQsRUFBK0IsWUFBaUIsRUFBRSxFQUNsRCxFQUFzQyxZQUE2QixDQUFDLENBQUMsRUFDckUsRUFBMEMsWUFBNkIsSUFBSSxFQUMzRSxFQUErQixZQUEwQixJQUFJLEVBQzdELEVBQWlDLFlBQWtCLEVBQUssRUFFNUQsT0FBTyxnQ0FDSCxVQXlDRSxHQXpDRixVQUNJLFVBdUNFLEdBdkNGLFVBQ0ksVUFBQyxHQUFELENBQ0ksS0FBSyxJQUNMLFFBQVMsZ0NBQ0wsVUFBQyxHQUFELENBQ0ksa0JBQW1CLENBQUMsRUFDcEIsNkJBQThCLE1BQzlCLHVCQUF3QixDQUNwQixTQUFVLEtBQ2QsRUFDQSxRQUFRLFVBQ1IsWUFBYSxDQUNULFVBQ0EsU0FDQSxJQUNKLEVBQ0EsT0FBUSxnQ0FDSixVQUFDLEdBQUQsQ0FDSSxVQUFXLEVBQ1gsY0FBZSxFQUNmLFNBQVUsRUFDVixhQUFjLEVBQ2QsS0FBTSxFQUNOLGVBQWdCLEdBTnBCLHFCQU1tQyxHQVAvQixxQkFRTixFQUNGLE9BQVEsZ0NBQ0osVUFVRSxNQVZGLENBQ0ksTUFBTyxDQUNILFFBQVMsT0FDVCxjQUFlLE1BQ2YsZUFBZ0IsU0FDaEIsV0FBWSxTQUNaLE1BQU8sT0FDUCxPQUFRLE1BQ1osRUFSSixzQ0FVRSxHQVhFLHFCQVlOLEdBakNOLHFCQWlDUSxHQWxDSCxxQkFtQ1AsR0FyQ04scUJBcUNRLEdBdENaLHFCQXVDRSxHQXhDTixxQkF5Q0UsR0ExQ0MscUJBMkNMLEVBR04sR0FBTyxVQUFDLEdBQUQsd0JBQUksQ0FBRSIsCiAgImRlYnVnSWQiOiAiMUVCMjFDMEVFMjZFQTQzMTY0NzU2RTIxNjQ3NTZFMjEiLAogICJuYW1lcyI6IFtdCn0=
