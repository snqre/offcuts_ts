var dC=Object.create;var{getPrototypeOf:cC,defineProperty:SI,getOwnPropertyNames:lC}=Object;var uC=Object.prototype.hasOwnProperty;var p=(B,O,z)=>{z=B!=null?dC(cC(B)):{};let I=O||!B||!B.__esModule?SI(z,"default",{value:B,enumerable:!0}):z;for(let P of lC(B))if(!uC.call(I,P))SI(I,P,{get:()=>B[P],enumerable:!0});return I};var X0=(B,O)=>()=>(O||B((O={exports:{}}).exports,O),O.exports);var pC=(B,O)=>{for(var z in O)SI(B,z,{get:O[z],enumerable:!0,configurable:!0,set:(I)=>O[z]=()=>I})};var bY=X0((aC,q2)=>{(function(){function B(J,M){Object.defineProperty(I.prototype,J,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",M[0],M[1])}})}function O(J){if(J===null||typeof J!=="object")return null;return J=nY&&J[nY]||J["@@iterator"],typeof J==="function"?J:null}function z(J,M){J=(J=J.constructor)&&(J.displayName||J.name)||"ReactClass";var c=J+"."+M;v$[c]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",M,J),v$[c]=!0)}function I(J,M,c){this.props=J,this.context=M,this.refs=_Y,this.updater=c||r0}function P(){}function W(J,M,c){this.props=J,this.context=M,this.refs=_Y,this.updater=c||r0}function Z(J){return""+J}function L(J){try{Z(J);var M=!1}catch(HY){M=!0}if(M){M=console;var c=M.error,s=typeof Symbol==="function"&&Symbol.toStringTag&&J[Symbol.toStringTag]||J.constructor.name||"Object";return c.call(M,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",s),Z(J)}}function Q(J){if(J==null)return null;if(typeof J==="function")return J.$$typeof===aY?null:J.displayName||J.name||null;if(typeof J==="string")return J;switch(J){case Z_:return"Fragment";case l_:return"Portal";case NB:return"Profiler";case dB:return"StrictMode";case vY:return"Suspense";case JB:return"SuspenseList"}if(typeof J==="object")switch(typeof J.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),J.$$typeof){case ZB:return(J.displayName||"Context")+".Provider";case u_:return(J._context.displayName||"Context")+".Consumer";case J_:var M=J.render;return J=J.displayName,J||(J=M.displayName||M.name||"",J=J!==""?"ForwardRef("+J+")":"ForwardRef"),J;case Q_:return M=J.displayName||null,M!==null?M:Q(J.type)||"Memo";case Q0:M=J._payload,J=J._init;try{return Q(J(M))}catch(c){}}return null}function q(J){return typeof J==="string"||typeof J==="function"||J===Z_||J===NB||J===dB||J===vY||J===JB||J===m1||typeof J==="object"&&J!==null&&(J.$$typeof===Q0||J.$$typeof===Q_||J.$$typeof===ZB||J.$$typeof===u_||J.$$typeof===J_||J.$$typeof===U_||J.getModuleId!==void 0)?!0:!1}function w(){}function C(){if(BK===0){p_=console.log,QB=console.info,L_=console.warn,LB=console.error,hK=console.group,Mz=console.groupCollapsed,ZO=console.groupEnd;var J={configurable:!0,enumerable:!0,value:w,writable:!0};Object.defineProperties(console,{info:J,log:J,warn:J,error:J,group:J,groupCollapsed:J,groupEnd:J})}BK++}function D(){if(BK--,BK===0){var J={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},J,{value:p_}),info:x({},J,{value:QB}),warn:x({},J,{value:L_}),error:x({},J,{value:LB}),group:x({},J,{value:hK}),groupCollapsed:x({},J,{value:Mz}),groupEnd:x({},J,{value:ZO})})}0>BK&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function T(J){if(h1===void 0)try{throw Error()}catch(c){var M=c.stack.trim().match(/\n( *(at )?)/);h1=M&&M[1]||"",JO=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+h1+J+JO}function U(J,M){if(!J||d1)return"";var c=c1.get(J);if(c!==void 0)return c;d1=!0,c=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var s=null;s=a.H,a.H=null,C();try{var HY={DetermineComponentFrameRoot:function(){try{if(M){var q_=function(){throw Error()};if(Object.defineProperty(q_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(q_,[])}catch(i_){var m$=i_}Reflect.construct(J,[],q_)}else{try{q_.call()}catch(i_){m$=i_}J.call(q_.prototype)}}else{try{throw Error()}catch(i_){m$=i_}(q_=J())&&typeof q_.catch==="function"&&q_.catch(function(){})}}catch(i_){if(i_&&m$&&typeof i_.stack==="string")return[i_.stack,m$.stack]}return[null,null]}};HY.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var PY=Object.getOwnPropertyDescriptor(HY.DetermineComponentFrameRoot,"name");PY&&PY.configurable&&Object.defineProperty(HY.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var OY=HY.DetermineComponentFrameRoot(),fY=OY[0],CY=OY[1];if(fY&&CY){var PK=fY.split(`
`),dK=CY.split(`
`);for(OY=PY=0;PY<PK.length&&!PK[PY].includes("DetermineComponentFrameRoot");)PY++;for(;OY<dK.length&&!dK[OY].includes("DetermineComponentFrameRoot");)OY++;if(PY===PK.length||OY===dK.length)for(PY=PK.length-1,OY=dK.length-1;1<=PY&&0<=OY&&PK[PY]!==dK[OY];)OY--;for(;1<=PY&&0<=OY;PY--,OY--)if(PK[PY]!==dK[OY]){if(PY!==1||OY!==1)do if(PY--,OY--,0>OY||PK[PY]!==dK[OY]){var pB=`
`+PK[PY].replace(" at new "," at ");return J.displayName&&pB.includes("<anonymous>")&&(pB=pB.replace("<anonymous>",J.displayName)),typeof J==="function"&&c1.set(J,pB),pB}while(1<=PY&&0<=OY);break}}}finally{d1=!1,a.H=s,D(),Error.prepareStackTrace=c}return PK=(PK=J?J.displayName||J.name:"")?T(PK):"",typeof J==="function"&&c1.set(J,PK),PK}function m(J){if(J==null)return"";if(typeof J==="function"){var M=J.prototype;return U(J,!(!M||!M.isReactComponent))}if(typeof J==="string")return T(J);switch(J){case vY:return T("Suspense");case JB:return T("SuspenseList")}if(typeof J==="object")switch(J.$$typeof){case J_:return J=U(J.render,!1),J;case Q_:return m(J.type);case Q0:M=J._payload,J=J._init;try{return m(J(M))}catch(c){}}return""}function S(){var J=a.A;return J===null?null:J.getOwner()}function y(J){if(AK.call(J,"key")){var M=Object.getOwnPropertyDescriptor(J,"key").get;if(M&&M.isReactWarning)return!1}return J.key!==void 0}function b(J,M){function c(){Sz||(Sz=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",M))}c.isReactWarning=!0,Object.defineProperty(J,"key",{get:c,configurable:!0})}function i(){var J=Q(this.type);return cB[J]||(cB[J]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),J=this.props.ref,J!==void 0?J:null}function l(J,M,c,s,HY,PY){return c=PY.ref,J={$$typeof:pK,type:J,key:M,props:PY,_owner:HY},(c!==void 0?c:null)!==null?Object.defineProperty(J,"ref",{enumerable:!1,get:i}):Object.defineProperty(J,"ref",{enumerable:!1,value:null}),J._store={},Object.defineProperty(J._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(J,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(J.props),Object.freeze(J)),J}function $Y(J,M){return M=l(J.type,M,void 0,void 0,J._owner,J.props),M._store.validated=J._store.validated,M}function jY(J,M){if(typeof J==="object"&&J&&J.$$typeof!==Uz){if(IK(J))for(var c=0;c<J.length;c++){var s=J[c];ZY(s)&&SY(s,M)}else if(ZY(J))J._store&&(J._store.validated=1);else if(c=O(J),typeof c==="function"&&c!==J.entries&&(c=c.call(J),c!==J))for(;!(J=c.next()).done;)ZY(J.value)&&SY(J.value,M)}}function ZY(J){return typeof J==="object"&&J!==null&&J.$$typeof===pK}function SY(J,M){if(J._store&&!J._store.validated&&J.key==null&&(J._store.validated=1,M=qY(M),!lB[M])){lB[M]=!0;var c="";J&&J._owner!=null&&J._owner!==S()&&(c=null,typeof J._owner.tag==="number"?c=Q(J._owner.type):typeof J._owner.name==="string"&&(c=J._owner.name),c=" It was passed a child from "+c+".");var s=a.getCurrentStack;a.getCurrentStack=function(){var HY=m(J.type);return s&&(HY+=s()||""),HY},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',M,c),a.getCurrentStack=s}}function qY(J){var M="",c=S();return c&&(c=Q(c.type))&&(M=`

Check the render method of \``+c+"`."),M||(J=Q(J))&&(M=`

Check the top-level render call using <`+J+">."),M}function KK(J){var M={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(c){return M[c]})}function _K(J,M){return typeof J==="object"&&J!==null&&J.key!=null?(L(J.key),KK(""+J.key)):M.toString(36)}function qK(){}function O_(J){switch(J.status){case"fulfilled":return J.value;case"rejected":throw J.reason;default:switch(typeof J.status==="string"?J.then(qK,qK):(J.status="pending",J.then(function(M){J.status==="pending"&&(J.status="fulfilled",J.value=M)},function(M){J.status==="pending"&&(J.status="rejected",J.reason=M)})),J.status){case"fulfilled":return J.value;case"rejected":throw J.reason}}throw J}function KY(J,M,c,s,HY){var PY=typeof J;if(PY==="undefined"||PY==="boolean")J=null;var OY=!1;if(J===null)OY=!0;else switch(PY){case"bigint":case"string":case"number":OY=!0;break;case"object":switch(J.$$typeof){case pK:case l_:OY=!0;break;case Q0:return OY=J._init,KY(OY(J._payload),M,c,s,HY)}}if(OY){OY=J,HY=HY(OY);var fY=s===""?"."+_K(OY,0):s;return IK(HY)?(c="",fY!=null&&(c=fY.replace(L0,"$&/")+"/"),KY(HY,M,c,"",function(PK){return PK})):HY!=null&&(ZY(HY)&&(HY.key!=null&&(OY&&OY.key===HY.key||L(HY.key)),c=$Y(HY,c+(HY.key==null||OY&&OY.key===HY.key?"":(""+HY.key).replace(L0,"$&/")+"/")+fY),s!==""&&OY!=null&&ZY(OY)&&OY.key==null&&OY._store&&!OY._store.validated&&(c._store.validated=2),HY=c),M.push(HY)),1}if(OY=0,fY=s===""?".":s+":",IK(J))for(var CY=0;CY<J.length;CY++)s=J[CY],PY=fY+_K(s,CY),OY+=KY(s,M,c,PY,HY);else if(CY=O(J),typeof CY==="function")for(CY===J.entries&&(t0||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),t0=!0),J=CY.call(J),CY=0;!(s=J.next()).done;)s=s.value,PY=fY+_K(s,CY++),OY+=KY(s,M,c,PY,HY);else if(PY==="object"){if(typeof J.then==="function")return KY(O_(J),M,c,s,HY);throw M=String(J),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return OY}function t(J,M,c){if(J==null)return J;var s=[],HY=0;return KY(J,s,"","",function(PY){return M.call(c,PY,HY++)}),s}function RY(J){if(J._status===-1){var M=J._result;M=M(),M.then(function(c){if(J._status===0||J._status===-1)J._status=1,J._result=c},function(c){if(J._status===0||J._status===-1)J._status=2,J._result=c}),J._status===-1&&(J._status=0,J._result=M)}if(J._status===1)return M=J._result,M===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,M),"default"in M||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,M),M.default;throw J._result}function zY(){var J=a.H;return J===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),J}function dY(){}function sY(J){if(qB===null)try{var M=("require"+Math.random()).slice(0,7);qB=(q2&&q2[M]).call(q2,"timers").setImmediate}catch(c){qB=function(s){uB===!1&&(uB=!0,typeof MessageChannel==="undefined"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var HY=new MessageChannel;HY.port1.onmessage=s,HY.port2.postMessage(void 0)}}return qB(J)}function iY(J){return 1<J.length&&typeof AggregateError==="function"?new AggregateError(J):J[0]}function lY(J,M){M!==RB-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),RB=M}function TY(J,M,c){var s=a.actQueue;if(s!==null)if(s.length!==0)try{zK(s),sY(function(){return TY(J,M,c)});return}catch(HY){a.thrownErrors.push(HY)}else a.actQueue=null;0<a.thrownErrors.length?(s=iY(a.thrownErrors),a.thrownErrors.length=0,c(s)):M(J)}function zK(J){if(!u1){u1=!0;var M=0;try{for(;M<J.length;M++){var c=J[M];do{a.didUsePromise=!1;var s=c(!1);if(s!==null){if(a.didUsePromise){J[M]=c,J.splice(0,M);return}c=s}else break}while(1)}J.length=0}catch(HY){J.splice(0,M+1),a.thrownErrors.push(HY)}finally{u1=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var pK=Symbol.for("react.transitional.element"),l_=Symbol.for("react.portal"),Z_=Symbol.for("react.fragment"),dB=Symbol.for("react.strict_mode"),NB=Symbol.for("react.profiler");Symbol.for("react.provider");var u_=Symbol.for("react.consumer"),ZB=Symbol.for("react.context"),J_=Symbol.for("react.forward_ref"),vY=Symbol.for("react.suspense"),JB=Symbol.for("react.suspense_list"),Q_=Symbol.for("react.memo"),Q0=Symbol.for("react.lazy"),m1=Symbol.for("react.offscreen"),nY=Symbol.iterator,v$={},r0={isMounted:function(){return!1},enqueueForceUpdate:function(J){z(J,"forceUpdate")},enqueueReplaceState:function(J){z(J,"replaceState")},enqueueSetState:function(J){z(J,"setState")}},x=Object.assign,_Y={};Object.freeze(_Y),I.prototype.isReactComponent={},I.prototype.setState=function(J,M){if(typeof J!=="object"&&typeof J!=="function"&&J!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,M,"setState")},I.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};var BY={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},yY;for(yY in BY)BY.hasOwnProperty(yY)&&B(yY,BY[yY]);P.prototype=I.prototype,BY=W.prototype=new P,BY.constructor=W,x(BY,I.prototype),BY.isPureReactComponent=!0;var IK=Array.isArray,aY=Symbol.for("react.client.reference"),a={H:null,A:null,T:null,S:null,actQueue:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null},AK=Object.prototype.hasOwnProperty,U_=Symbol.for("react.client.reference"),BK=0,p_,QB,L_,LB,hK,Mz,ZO;w.__reactDisabledLog=!0;var h1,JO,d1=!1,c1=new(typeof WeakMap==="function"?WeakMap:Map),Uz=Symbol.for("react.client.reference"),Sz,l1,cB={},lB={},t0=!1,L0=/\/+/g,FK=typeof reportError==="function"?reportError:function(J){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof J==="object"&&J!==null&&typeof J.message==="string"?String(J.message):String(J),error:J});if(!window.dispatchEvent(M))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",J);return}console.error(J)},uB=!1,qB=null,RB=0,e0=!1,u1=!1,f$=typeof queueMicrotask==="function"?function(J){queueMicrotask(function(){return queueMicrotask(J)})}:sY;aC.Children={map:t,forEach:function(J,M,c){t(J,function(){M.apply(this,arguments)},c)},count:function(J){var M=0;return t(J,function(){M++}),M},toArray:function(J){return t(J,function(M){return M})||[]},only:function(J){if(!ZY(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},aC.Component=I,aC.Fragment=Z_,aC.Profiler=NB,aC.PureComponent=W,aC.StrictMode=dB,aC.Suspense=vY,aC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,aC.act=function(J){var M=a.actQueue,c=RB;RB++;var s=a.actQueue=M!==null?M:[],HY=!1;try{var PY=J()}catch(CY){a.thrownErrors.push(CY)}if(0<a.thrownErrors.length)throw lY(M,c),J=iY(a.thrownErrors),a.thrownErrors.length=0,J;if(PY!==null&&typeof PY==="object"&&typeof PY.then==="function"){var OY=PY;return f$(function(){HY||e0||(e0=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function(CY,PK){HY=!0,OY.then(function(dK){if(lY(M,c),c===0){try{zK(s),sY(function(){return TY(dK,CY,PK)})}catch(q_){a.thrownErrors.push(q_)}if(0<a.thrownErrors.length){var pB=iY(a.thrownErrors);a.thrownErrors.length=0,PK(pB)}}else CY(dK)},function(dK){lY(M,c),0<a.thrownErrors.length?(dK=iY(a.thrownErrors),a.thrownErrors.length=0,PK(dK)):PK(dK)})}}}var fY=PY;if(lY(M,c),c===0&&(zK(s),s.length!==0&&f$(function(){HY||e0||(e0=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),a.actQueue=null),0<a.thrownErrors.length)throw J=iY(a.thrownErrors),a.thrownErrors.length=0,J;return{then:function(CY,PK){HY=!0,c===0?(a.actQueue=s,sY(function(){return TY(fY,CY,PK)})):CY(fY)}}},aC.cache=function(J){return function(){return J.apply(null,arguments)}},aC.cloneElement=function(J,M,c){if(J===null||J===void 0)throw Error("The argument must be a React element, but you passed "+J+".");var s=x({},J.props),HY=J.key,PY=J._owner;if(M!=null){var OY;Y:{if(AK.call(M,"ref")&&(OY=Object.getOwnPropertyDescriptor(M,"ref").get)&&OY.isReactWarning){OY=!1;break Y}OY=M.ref!==void 0}OY&&(PY=S()),y(M)&&(L(M.key),HY=""+M.key);for(fY in M)!AK.call(M,fY)||fY==="key"||fY==="__self"||fY==="__source"||fY==="ref"&&M.ref===void 0||(s[fY]=M[fY])}var fY=arguments.length-2;if(fY===1)s.children=c;else if(1<fY){OY=Array(fY);for(var CY=0;CY<fY;CY++)OY[CY]=arguments[CY+2];s.children=OY}s=l(J.type,HY,void 0,void 0,PY,s);for(HY=2;HY<arguments.length;HY++)jY(arguments[HY],s.type);return s},aC.createContext=function(J){return J={$$typeof:ZB,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null},J.Provider=J,J.Consumer={$$typeof:u_,_context:J},J._currentRenderer=null,J._currentRenderer2=null,J},aC.createElement=function(J,M,c){if(q(J))for(var s=2;s<arguments.length;s++)jY(arguments[s],J);else{if(s="",J===void 0||typeof J==="object"&&J!==null&&Object.keys(J).length===0)s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";if(J===null)var HY="null";else IK(J)?HY="array":J!==void 0&&J.$$typeof===pK?(HY="<"+(Q(J.type)||"Unknown")+" />",s=" Did you accidentally export a JSX literal instead of a component?"):HY=typeof J;console.error("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",HY,s)}var PY;if(s={},HY=null,M!=null)for(PY in l1||!("__self"in M)||"key"in M||(l1=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),y(M)&&(L(M.key),HY=""+M.key),M)AK.call(M,PY)&&PY!=="key"&&PY!=="__self"&&PY!=="__source"&&(s[PY]=M[PY]);var OY=arguments.length-2;if(OY===1)s.children=c;else if(1<OY){for(var fY=Array(OY),CY=0;CY<OY;CY++)fY[CY]=arguments[CY+2];Object.freeze&&Object.freeze(fY),s.children=fY}if(J&&J.defaultProps)for(PY in OY=J.defaultProps,OY)s[PY]===void 0&&(s[PY]=OY[PY]);return HY&&b(s,typeof J==="function"?J.displayName||J.name||"Unknown":J),l(J,HY,void 0,void 0,S(),s)},aC.createRef=function(){var J={current:null};return Object.seal(J),J},aC.forwardRef=function(J){J!=null&&J.$$typeof===Q_?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof J!=="function"?console.error("forwardRef requires a render function but was given %s.",J===null?"null":typeof J):J.length!==0&&J.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",J.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),J!=null&&J.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var M={$$typeof:J_,render:J},c;return Object.defineProperty(M,"displayName",{enumerable:!1,configurable:!0,get:function(){return c},set:function(s){c=s,J.name||J.displayName||(Object.defineProperty(J,"name",{value:s}),J.displayName=s)}}),M},aC.isValidElement=ZY,aC.lazy=function(J){return{$$typeof:Q0,_payload:{_status:-1,_result:J},_init:RY}},aC.memo=function(J,M){q(J)||console.error("memo: The first argument must be a component. Instead received: %s",J===null?"null":typeof J),M={$$typeof:Q_,type:J,compare:M===void 0?null:M};var c;return Object.defineProperty(M,"displayName",{enumerable:!1,configurable:!0,get:function(){return c},set:function(s){c=s,J.name||J.displayName||(Object.defineProperty(J,"name",{value:s}),J.displayName=s)}}),M},aC.startTransition=function(J){var M=a.T,c={};a.T=c,c._updatedFibers=new Set;try{var s=J(),HY=a.S;HY!==null&&HY(c,s),typeof s==="object"&&s!==null&&typeof s.then==="function"&&s.then(dY,FK)}catch(PY){FK(PY)}finally{M===null&&c._updatedFibers&&(J=c._updatedFibers.size,c._updatedFibers.clear(),10<J&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),a.T=M}},aC.unstable_useCacheRefresh=function(){return zY().useCacheRefresh()},aC.use=function(J){return zY().use(J)},aC.useActionState=function(J,M,c){return zY().useActionState(J,M,c)},aC.useCallback=function(J,M){return zY().useCallback(J,M)},aC.useContext=function(J){var M=zY();return J.$$typeof===u_&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),M.useContext(J)},aC.useDebugValue=function(J,M){return zY().useDebugValue(J,M)},aC.useDeferredValue=function(J,M){return zY().useDeferredValue(J,M)},aC.useEffect=function(J,M){return zY().useEffect(J,M)},aC.useId=function(){return zY().useId()},aC.useImperativeHandle=function(J,M,c){return zY().useImperativeHandle(J,M,c)},aC.useInsertionEffect=function(J,M){return zY().useInsertionEffect(J,M)},aC.useLayoutEffect=function(J,M){return zY().useLayoutEffect(J,M)},aC.useMemo=function(J,M){return zY().useMemo(J,M)},aC.useOptimistic=function(J,M){return zY().useOptimistic(J,M)},aC.useReducer=function(J,M,c){return zY().useReducer(J,M,c)},aC.useRef=function(J){return zY().useRef(J)},aC.useState=function(J){return zY().useState(J)},aC.useSyncExternalStore=function(J,M,c){return zY().useSyncExternalStore(J,M,c)},aC.useTransition=function(){return zY().useTransition()},aC.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var B9=X0((rC)=>{(function(){function B(){if(SY){var t=rC.unstable_now();_K=t;var RY=!0;try{Y:{i=!1,l&&(l=!1,jY(qY),qY=-1),b=!0;var zY=y;try{K:{W(t);for(S=z(T);S!==null&&!(S.expirationTime>t&&L());){var dY=S.callback;if(typeof dY==="function"){S.callback=null,y=S.priorityLevel;var sY=dY(S.expirationTime<=t);if(t=rC.unstable_now(),typeof sY==="function"){S.callback=sY,W(t),RY=!0;break K}S===z(T)&&I(T),W(t)}else I(T);S=z(T)}if(S!==null)RY=!0;else{var iY=z(U);iY!==null&&q(Z,iY.startTime-t),RY=!1}}break Y}finally{S=null,y=zY,b=!1}RY=void 0}}finally{RY?qK():SY=!1}}}function O(t,RY){var zY=t.length;t.push(RY);Y:for(;0<zY;){var dY=zY-1>>>1,sY=t[dY];if(0<P(sY,RY))t[dY]=RY,t[zY]=sY,zY=dY;else break Y}}function z(t){return t.length===0?null:t[0]}function I(t){if(t.length===0)return null;var RY=t[0],zY=t.pop();if(zY!==RY){t[0]=zY;Y:for(var dY=0,sY=t.length,iY=sY>>>1;dY<iY;){var lY=2*(dY+1)-1,TY=t[lY],zK=lY+1,pK=t[zK];if(0>P(TY,zY))zK<sY&&0>P(pK,TY)?(t[dY]=pK,t[zK]=zY,dY=zK):(t[dY]=TY,t[lY]=zY,dY=lY);else if(zK<sY&&0>P(pK,zY))t[dY]=pK,t[zK]=zY,dY=zK;else break Y}}return RY}function P(t,RY){var zY=t.sortIndex-RY.sortIndex;return zY!==0?zY:t.id-RY.id}function W(t){for(var RY=z(U);RY!==null;){if(RY.callback===null)I(U);else if(RY.startTime<=t)I(U),RY.sortIndex=RY.expirationTime,O(T,RY);else break;RY=z(U)}}function Z(t){if(l=!1,W(t),!i)if(z(T)!==null)i=!0,Q();else{var RY=z(U);RY!==null&&q(Z,RY.startTime-t)}}function L(){return rC.unstable_now()-_K<KK?!1:!0}function Q(){SY||(SY=!0,qK())}function q(t,RY){qY=$Y(function(){t(rC.unstable_now())},RY)}if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error()),rC.unstable_now=void 0,typeof performance==="object"&&typeof performance.now==="function"){var w=performance;rC.unstable_now=function(){return w.now()}}else{var C=Date,D=C.now();rC.unstable_now=function(){return C.now()-D}}var T=[],U=[],m=1,S=null,y=3,b=!1,i=!1,l=!1,$Y=typeof setTimeout==="function"?setTimeout:null,jY=typeof clearTimeout==="function"?clearTimeout:null,ZY=typeof setImmediate!=="undefined"?setImmediate:null,SY=!1,qY=-1,KK=5,_K=-1;if(typeof ZY==="function")var qK=function(){ZY(B)};else if(typeof MessageChannel!=="undefined"){var O_=new MessageChannel,KY=O_.port2;O_.port1.onmessage=B,qK=function(){KY.postMessage(null)}}else qK=function(){$Y(B,0)};rC.unstable_IdlePriority=5,rC.unstable_ImmediatePriority=1,rC.unstable_LowPriority=4,rC.unstable_NormalPriority=3,rC.unstable_Profiling=null,rC.unstable_UserBlockingPriority=2,rC.unstable_cancelCallback=function(t){t.callback=null},rC.unstable_continueExecution=function(){i||b||(i=!0,Q())},rC.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):KK=0<t?Math.floor(1000/t):5},rC.unstable_getCurrentPriorityLevel=function(){return y},rC.unstable_getFirstCallbackNode=function(){return z(T)},rC.unstable_next=function(t){switch(y){case 1:case 2:case 3:var RY=3;break;default:RY=y}var zY=y;y=RY;try{return t()}finally{y=zY}},rC.unstable_pauseExecution=function(){},rC.unstable_requestPaint=function(){},rC.unstable_runWithPriority=function(t,RY){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var zY=y;y=t;try{return RY()}finally{y=zY}},rC.unstable_scheduleCallback=function(t,RY,zY){var dY=rC.unstable_now();switch(typeof zY==="object"&&zY!==null?(zY=zY.delay,zY=typeof zY==="number"&&0<zY?dY+zY:dY):zY=dY,t){case 1:var sY=-1;break;case 2:sY=250;break;case 5:sY=1073741823;break;case 4:sY=1e4;break;default:sY=5000}return sY=zY+sY,t={id:m++,callback:RY,priorityLevel:t,startTime:zY,expirationTime:sY,sortIndex:-1},zY>dY?(t.sortIndex=zY,O(U,t),z(T)===null&&t===z(U)&&(l?(jY(qY),qY=-1):l=!0,q(Z,zY-dY))):(t.sortIndex=sY,O(T,t),i||b||(i=!0,Q())),t},rC.unstable_shouldYield=L,rC.unstable_wrapCallback=function(t){var RY=y;return function(){var zY=y;y=RY;try{return t.apply(this,arguments)}finally{y=zY}}},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var $9=X0((tC)=>{var kI=p(bY(),1);(function(){function B(){}function O(w){return""+w}function z(w,C,D){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;try{O(T);var U=!1}catch(m){U=!0}return U&&(console.error("The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",typeof Symbol==="function"&&Symbol.toStringTag&&T[Symbol.toStringTag]||T.constructor.name||"Object"),O(T)),{$$typeof:Q,key:T==null?null:""+T,children:w,containerInfo:C,implementation:D}}function I(w,C){if(w==="font")return"";if(typeof C==="string")return C==="use-credentials"?C:""}function P(w){return w===null?"`null`":w===void 0?"`undefined`":w===""?"an empty string":'something with type "'+typeof w+'"'}function W(w){return w===null?"`null`":w===void 0?"`undefined`":w===""?"an empty string":typeof w==="string"?JSON.stringify(w):typeof w==="number"?"`"+w+"`":'something with type "'+typeof w+'"'}function Z(){var w=q.H;return w===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),w}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var L={d:{f:B,r:function(){throw Error("Invalid form element. requestFormReset must be passed a form that was rendered by React.")},D:B,C:B,L:B,m:B,X:B,S:B,M:B},p:0,findDOMNode:null},Q=Symbol.for("react.portal"),q=kI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),tC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,tC.createPortal=function(w,C){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)throw Error("Target container is not a DOM element.");return z(w,C,null,D)},tC.flushSync=function(w){var C=q.T,D=L.p;try{if(q.T=null,L.p=2,w)return w()}finally{q.T=C,L.p=D,L.d.f()&&console.error("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task.")}},tC.preconnect=function(w,C){typeof w==="string"&&w?C!=null&&typeof C!=="object"?console.error("ReactDOM.preconnect(): Expected the `options` argument (second) to be an object but encountered %s instead. The only supported option at this time is `crossOrigin` which accepts a string.",W(C)):C!=null&&typeof C.crossOrigin!=="string"&&console.error("ReactDOM.preconnect(): Expected the `crossOrigin` option (second argument) to be a string but encountered %s instead. Try removing this option or passing a string value instead.",P(C.crossOrigin)):console.error("ReactDOM.preconnect(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",P(w)),typeof w==="string"&&(C?(C=C.crossOrigin,C=typeof C==="string"?C==="use-credentials"?C:"":void 0):C=null,L.d.C(w,C))},tC.prefetchDNS=function(w){if(typeof w!=="string"||!w)console.error("ReactDOM.prefetchDNS(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",P(w));else if(1<arguments.length){var C=arguments[1];typeof C==="object"&&C.hasOwnProperty("crossOrigin")?console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. It looks like the you are attempting to set a crossOrigin property for this DNS lookup hint. Browsers do not perform DNS queries using CORS and setting this attribute on the resource hint has no effect. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",W(C)):console.error("ReactDOM.prefetchDNS(): Expected only one argument, `href`, but encountered %s as a second argument instead. This argument is reserved for future options and is currently disallowed. Try calling ReactDOM.prefetchDNS() with just a single string argument, `href`.",W(C))}typeof w==="string"&&L.d.D(w)},tC.preinit=function(w,C){if(typeof w==="string"&&w?C==null||typeof C!=="object"?console.error("ReactDOM.preinit(): Expected the `options` argument (second) to be an object with an `as` property describing the type of resource to be preinitialized but encountered %s instead.",W(C)):C.as!=="style"&&C.as!=="script"&&console.error('ReactDOM.preinit(): Expected the `as` property in the `options` argument (second) to contain a valid value describing the type of resource to be preinitialized but encountered %s instead. Valid values for `as` are "style" and "script".',W(C.as)):console.error("ReactDOM.preinit(): Expected the `href` argument (first) to be a non-empty string but encountered %s instead.",P(w)),typeof w==="string"&&C&&typeof C.as==="string"){var D=C.as,T=I(D,C.crossOrigin),U=typeof C.integrity==="string"?C.integrity:void 0,m=typeof C.fetchPriority==="string"?C.fetchPriority:void 0;D==="style"?L.d.S(w,typeof C.precedence==="string"?C.precedence:void 0,{crossOrigin:T,integrity:U,fetchPriority:m}):D==="script"&&L.d.X(w,{crossOrigin:T,integrity:U,fetchPriority:m,nonce:typeof C.nonce==="string"?C.nonce:void 0})}},tC.preinitModule=function(w,C){var D="";if(typeof w==="string"&&w||(D+=" The `href` argument encountered was "+P(w)+"."),C!==void 0&&typeof C!=="object"?D+=" The `options` argument encountered was "+P(C)+".":C&&("as"in C)&&C.as!=="script"&&(D+=" The `as` option encountered was "+W(C.as)+"."),D)console.error("ReactDOM.preinitModule(): Expected up to two arguments, a non-empty `href` string and, optionally, an `options` object with a valid `as` property.%s",D);else switch(D=C&&typeof C.as==="string"?C.as:"script",D){case"script":break;default:D=W(D),console.error('ReactDOM.preinitModule(): Currently the only supported "as" type for this function is "script" but received "%s" instead. This warning was generated for `href` "%s". In the future other module types will be supported, aligning with the import-attributes proposal. Learn more here: (https://github.com/tc39/proposal-import-attributes)',D,w)}if(typeof w==="string")if(typeof C==="object"&&C!==null){if(C.as==null||C.as==="script")D=I(C.as,C.crossOrigin),L.d.M(w,{crossOrigin:D,integrity:typeof C.integrity==="string"?C.integrity:void 0,nonce:typeof C.nonce==="string"?C.nonce:void 0})}else C==null&&L.d.M(w)},tC.preload=function(w,C){var D="";if(typeof w==="string"&&w||(D+=" The `href` argument encountered was "+P(w)+"."),C==null||typeof C!=="object"?D+=" The `options` argument encountered was "+P(C)+".":typeof C.as==="string"&&C.as||(D+=" The `as` option encountered was "+P(C.as)+"."),D&&console.error('ReactDOM.preload(): Expected two arguments, a non-empty `href` string and an `options` object with an `as` property valid for a `<link rel="preload" as="..." />` tag.%s',D),typeof w==="string"&&typeof C==="object"&&C!==null&&typeof C.as==="string"){D=C.as;var T=I(D,C.crossOrigin);L.d.L(w,D,{crossOrigin:T,integrity:typeof C.integrity==="string"?C.integrity:void 0,nonce:typeof C.nonce==="string"?C.nonce:void 0,type:typeof C.type==="string"?C.type:void 0,fetchPriority:typeof C.fetchPriority==="string"?C.fetchPriority:void 0,referrerPolicy:typeof C.referrerPolicy==="string"?C.referrerPolicy:void 0,imageSrcSet:typeof C.imageSrcSet==="string"?C.imageSrcSet:void 0,imageSizes:typeof C.imageSizes==="string"?C.imageSizes:void 0,media:typeof C.media==="string"?C.media:void 0})}},tC.preloadModule=function(w,C){var D="";typeof w==="string"&&w||(D+=" The `href` argument encountered was "+P(w)+"."),C!==void 0&&typeof C!=="object"?D+=" The `options` argument encountered was "+P(C)+".":C&&("as"in C)&&typeof C.as!=="string"&&(D+=" The `as` option encountered was "+P(C.as)+"."),D&&console.error('ReactDOM.preloadModule(): Expected two arguments, a non-empty `href` string and, optionally, an `options` object with an `as` property valid for a `<link rel="modulepreload" as="..." />` tag.%s',D),typeof w==="string"&&(C?(D=I(C.as,C.crossOrigin),L.d.m(w,{as:typeof C.as==="string"&&C.as!=="script"?C.as:void 0,crossOrigin:D,integrity:typeof C.integrity==="string"?C.integrity:void 0})):L.d.m(w))},tC.requestFormReset=function(w){L.d.r(w)},tC.unstable_batchedUpdates=function(w,C){return w(C)},tC.useFormState=function(w,C,D){return Z().useFormState(w,C,D)},tC.useFormStatus=function(){return Z().useHostTransitionStatus()},tC.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var gI=X0((jF,H9)=>{H9.exports=$9()});var O9=X0((eC)=>{var mY=p(B9(),1),uH=p(bY(),1),bI=p(gI(),1);(function(){function B(Y,K){for(Y=Y.memoizedState;Y!==null&&0<K;)Y=Y.next,K--;return Y}function O(Y,K,_,$){if(_>=K.length)return $;var H=K[_],X=sK(Y)?Y.slice():FY({},Y);return X[H]=O(Y[H],K,_+1,$),X}function z(Y,K,_){if(K.length!==_.length)console.warn("copyWithRename() expects paths of the same length");else{for(var $=0;$<_.length-1;$++)if(K[$]!==_[$]){console.warn("copyWithRename() expects paths to be the same except for the deepest key");return}return I(Y,K,_,0)}}function I(Y,K,_,$){var H=K[$],X=sK(Y)?Y.slice():FY({},Y);return $+1===K.length?(X[_[$]]=X[H],sK(X)?X.splice(H,1):delete X[H]):X[H]=I(Y[H],K,_,$+1),X}function P(Y,K,_){var $=K[_],H=sK(Y)?Y.slice():FY({},Y);if(_+1===K.length)return sK(H)?H.splice($,1):delete H[$],H;return H[$]=P(Y[$],K,_+1),H}function W(){return!1}function Z(){return null}function L(Y,K,_,$){return new Pq(Y,K,_,$)}function Q(){console.error("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://react.dev/link/rules-of-hooks")}function q(){console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")}function w(){}function C(){}function D(Y){var K=[];return Y.forEach(function(_){K.push(_)}),K.sort().join(", ")}function T(Y,K){Y.context===Z$&&(CN(K,Y,null,null),_H())}function U(Y,K){if(e_!==null){var _=K.staleFamilies;K=K.updatedFamilies,_1(),U7(Y.current,K,_),_H()}}function m(Y){e_=Y}function S(Y){return!(!Y||Y.nodeType!==1&&Y.nodeType!==9&&Y.nodeType!==11)}function y(Y){if(Y===null||typeof Y!=="object")return null;return Y=TN&&Y[TN]||Y["@@iterator"],typeof Y==="function"?Y:null}function b(Y){if(Y==null)return null;if(typeof Y==="function")return Y.$$typeof===zR?null:Y.displayName||Y.name||null;if(typeof Y==="string")return Y;switch(Y){case IH:return"Fragment";case zH:return"Portal";case N4:return"Profiler";case x8:return"StrictMode";case J4:return"Suspense";case Q4:return"SuspenseList"}if(typeof Y==="object")switch(typeof Y.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),Y.$$typeof){case tB:return(Y.displayName||"Context")+".Provider";case Z4:return(Y._context.displayName||"Context")+".Consumer";case oO:var K=Y.render;return Y=Y.displayName,Y||(Y=K.displayName||K.name||"",Y=Y!==""?"ForwardRef("+Y+")":"ForwardRef"),Y;case F8:return K=Y.displayName||null,K!==null?K:b(Y.type)||"Memo";case k_:K=Y._payload,Y=Y._init;try{return b(Y(K))}catch(_){}}return null}function i(Y){return typeof Y.tag==="number"?l(Y):typeof Y.name==="string"?Y.name:null}function l(Y){var K=Y.type;switch(Y.tag){case 24:return"Cache";case 9:return(K._context.displayName||"Context")+".Consumer";case 10:return(K.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return Y=K.render,Y=Y.displayName||Y.name||"",K.displayName||(Y!==""?"ForwardRef("+Y+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return K;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b(K);case 8:return K===x8?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 14:case 15:if(typeof K==="function")return K.displayName||K.name||null;if(typeof K==="string")return K;break;case 29:if(K=Y._debugInfo,K!=null){for(var _=K.length-1;0<=_;_--)if(typeof K[_].name==="string")return K[_].name}if(Y.return!==null)return l(Y.return)}return null}function $Y(){}function jY(){if(sO===0){yN=console.log,jN=console.info,kN=console.warn,gN=console.error,bN=console.group,vN=console.groupCollapsed,fN=console.groupEnd;var Y={configurable:!0,enumerable:!0,value:$Y,writable:!0};Object.defineProperties(console,{info:Y,log:Y,warn:Y,error:Y,group:Y,groupCollapsed:Y,groupEnd:Y})}sO++}function ZY(){if(sO--,sO===0){var Y={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:FY({},Y,{value:yN}),info:FY({},Y,{value:jN}),warn:FY({},Y,{value:kN}),error:FY({},Y,{value:gN}),group:FY({},Y,{value:bN}),groupCollapsed:FY({},Y,{value:vN}),groupEnd:FY({},Y,{value:fN})})}0>sO&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function SY(Y){if(L4===void 0)try{throw Error()}catch(_){var K=_.stack.trim().match(/\n( *(at )?)/);L4=K&&K[1]||"",mN=-1<_.stack.indexOf(`
    at`)?" (<anonymous>)":-1<_.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L4+Y+mN}function qY(Y,K){if(!Y||q4)return"";var _=R4.get(Y);if(_!==void 0)return _;q4=!0,_=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var $=null;$=f.H,f.H=null,jY();try{var H={DetermineComponentFrameRoot:function(){try{if(K){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(IY){var u=IY}Reflect.construct(Y,[],g)}else{try{g.call()}catch(IY){u=IY}Y.call(g.prototype)}}else{try{throw Error()}catch(IY){u=IY}(g=Y())&&typeof g.catch==="function"&&g.catch(function(){})}}catch(IY){if(IY&&u&&typeof IY.stack==="string")return[IY.stack,u.stack]}return[null,null]}};H.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var X=Object.getOwnPropertyDescriptor(H.DetermineComponentFrameRoot,"name");X&&X.configurable&&Object.defineProperty(H.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=H.DetermineComponentFrameRoot(),N=G[0],R=G[1];if(N&&R){var A=N.split(`
`),k=R.split(`
`);for(G=X=0;X<A.length&&!A[X].includes("DetermineComponentFrameRoot");)X++;for(;G<k.length&&!k[G].includes("DetermineComponentFrameRoot");)G++;if(X===A.length||G===k.length)for(X=A.length-1,G=k.length-1;1<=X&&0<=G&&A[X]!==k[G];)G--;for(;1<=X&&0<=G;X--,G--)if(A[X]!==k[G]){if(X!==1||G!==1)do if(X--,G--,0>G||A[X]!==k[G]){var d=`
`+A[X].replace(" at new "," at ");return Y.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",Y.displayName)),typeof Y==="function"&&R4.set(Y,d),d}while(1<=X&&0<=G);break}}}finally{q4=!1,f.H=$,ZY(),Error.prepareStackTrace=_}return A=(A=Y?Y.displayName||Y.name:"")?SY(A):"",typeof Y==="function"&&R4.set(Y,A),A}function KK(Y){switch(Y.tag){case 26:case 27:case 5:return SY(Y.type);case 16:return SY("Lazy");case 13:return SY("Suspense");case 19:return SY("SuspenseList");case 0:case 15:return Y=qY(Y.type,!1),Y;case 11:return Y=qY(Y.type.render,!1),Y;case 1:return Y=qY(Y.type,!0),Y;default:return""}}function _K(Y){try{var K="";do{K+=KK(Y);var _=Y._debugInfo;if(_)for(var $=_.length-1;0<=$;$--){var H=_[$];if(typeof H.name==="string"){var X=K,G=H.env,N=SY(H.name+(G?" ["+G+"]":""));K=X+N}}Y=Y.return}while(Y);return K}catch(R){return`
Error generating stack: `+R.message+`
`+R.stack}}function qK(){if(K_===null)return null;var Y=K_._debugOwner;return Y!=null?i(Y):null}function O_(){return K_===null?"":_K(K_)}function KY(Y,K,_,$,H,X,G){var N=K_;f.getCurrentStack=Y===null?null:O_,r_=!1,K_=Y;try{return K(_,$,H,X,G)}finally{K_=N}throw Error("runWithFiberInDEV should never be called in production. This is a bug in React.")}function t(Y){var K=Y,_=Y;if(Y.alternate)for(;K.return;)K=K.return;else{Y=K;do K=Y,(K.flags&4098)!==0&&(_=K.return),Y=K.return;while(Y)}return K.tag===3?_:null}function RY(Y){if(Y.tag===13){var K=Y.memoizedState;if(K===null&&(Y=Y.alternate,Y!==null&&(K=Y.memoizedState)),K!==null)return K.dehydrated}return null}function zY(Y){if(t(Y)!==Y)throw Error("Unable to find node on an unmounted component.")}function dY(Y){var K=Y.alternate;if(!K){if(K=t(Y),K===null)throw Error("Unable to find node on an unmounted component.");return K!==Y?null:Y}for(var _=Y,$=K;;){var H=_.return;if(H===null)break;var X=H.alternate;if(X===null){if($=H.return,$!==null){_=$;continue}break}if(H.child===X.child){for(X=H.child;X;){if(X===_)return zY(H),Y;if(X===$)return zY(H),K;X=X.sibling}throw Error("Unable to find node on an unmounted component.")}if(_.return!==$.return)_=H,$=X;else{for(var G=!1,N=H.child;N;){if(N===_){G=!0,_=H,$=X;break}if(N===$){G=!0,$=H,_=X;break}N=N.sibling}if(!G){for(N=X.child;N;){if(N===_){G=!0,_=X,$=H;break}if(N===$){G=!0,$=X,_=H;break}N=N.sibling}if(!G)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(_.alternate!==$)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(_.tag!==3)throw Error("Unable to find node on an unmounted component.");return _.stateNode.current===_?Y:K}function sY(Y){var K=Y.tag;if(K===5||K===26||K===27||K===6)return Y;for(Y=Y.child;Y!==null;){if(K=sY(Y),K!==null)return K;Y=Y.sibling}return null}function iY(Y){return{current:Y}}function lY(Y,K){0>F0?console.error("Unexpected pop."):(K!==w4[F0]&&console.error("Unexpected Fiber popped."),Y.current=C4[F0],C4[F0]=null,w4[F0]=null,F0--)}function TY(Y,K,_){F0++,C4[F0]=Y.current,w4[F0]=_,Y.current=K}function zK(Y){return Y===null&&console.error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue."),Y}function pK(Y,K){TY(G$,K,Y),TY(aO,Y,Y),TY(P$,null,Y);var _=K.nodeType;switch(_){case 9:case 11:_=_===9?"#document":"#fragment",K=(K=K.documentElement)?(K=K.namespaceURI)?BN(K):f0:f0;break;default:if(K=_===8?K.parentNode:K,_=K.tagName,K=K.namespaceURI)K=BN(K),K=$N(K,_);else switch(_){case"svg":K=cH;break;case"math":K=G2;break;default:K=f0}}_=_.toLowerCase(),_=QG(null,_),_={context:K,ancestorInfo:_},lY(P$,Y),TY(P$,_,Y)}function l_(Y){lY(P$,Y),lY(aO,Y),lY(G$,Y)}function Z_(){return zK(P$.current)}function dB(Y){Y.memoizedState!==null&&TY(D8,Y,Y);var K=zK(P$.current),_=Y.type,$=$N(K.context,_);_=QG(K.ancestorInfo,_),$={context:$,ancestorInfo:_},K!==$&&(TY(aO,Y,Y),TY(P$,$,Y))}function NB(Y){aO.current===Y&&(lY(P$,Y),lY(aO,Y)),D8.current===Y&&(lY(D8,Y),jX._currentValue=F1)}function u_(Y){return typeof Symbol==="function"&&Symbol.toStringTag&&Y[Symbol.toStringTag]||Y.constructor.name||"Object"}function ZB(Y){try{return J_(Y),!1}catch(K){return!0}}function J_(Y){return""+Y}function vY(Y,K){if(ZB(Y))return console.error("The provided `%s` attribute is an unsupported type %s. This value must be coerced to a string before using it here.",K,u_(Y)),J_(Y)}function JB(Y,K){if(ZB(Y))return console.error("The provided `%s` CSS property is an unsupported type %s. This value must be coerced to a string before using it here.",K,u_(Y)),J_(Y)}function Q_(Y){if(ZB(Y))return console.error("Form field values (value, checked, defaultValue, or defaultChecked props) must be strings, not %s. This value must be coerced to a string before using it here.",u_(Y)),J_(Y)}function Q0(Y){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined")return!1;var K=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(K.isDisabled)return!0;if(!K.supportsFiber)return console.error("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://react.dev/link/react-devtools"),!0;try{GH=K.inject(Y),__=K}catch(_){console.error("React instrumentation encountered an error: %s.",_)}return K.checkDCE?!0:!1}function m1(Y,K){if(__&&typeof __.onCommitFiberRoot==="function")try{var _=(Y.current.flags&128)===128;switch(K){case EB:var $=E4;break;case VB:$=V4;break;case K0:$=PH;break;case S8:$=x4;break;default:$=PH}__.onCommitFiberRoot(GH,Y,$,_)}catch(H){Y0||(Y0=!0,console.error("React instrumentation encountered an error: %s",H))}}function nY(Y){if(typeof JR==="function"&&QR(Y),__&&typeof __.setStrictMode==="function")try{__.setStrictMode(GH,Y)}catch(K){Y0||(Y0=!0,console.error("React instrumentation encountered an error: %s",K))}}function v$(Y){YY=Y}function r0(){YY!==null&&typeof YY.markCommitStopped==="function"&&YY.markCommitStopped()}function x(Y){YY!==null&&typeof YY.markComponentRenderStarted==="function"&&YY.markComponentRenderStarted(Y)}function _Y(){YY!==null&&typeof YY.markComponentRenderStopped==="function"&&YY.markComponentRenderStopped()}function BY(Y){YY!==null&&typeof YY.markRenderStarted==="function"&&YY.markRenderStarted(Y)}function yY(){YY!==null&&typeof YY.markRenderStopped==="function"&&YY.markRenderStopped()}function IK(Y,K){YY!==null&&typeof YY.markStateUpdateScheduled==="function"&&YY.markStateUpdateScheduled(Y,K)}function aY(Y){return Y>>>=0,Y===0?32:31-(LR(Y)/qR|0)|0}function a(Y){if(Y&1)return"SyncHydrationLane";if(Y&2)return"Sync";if(Y&4)return"InputContinuousHydration";if(Y&8)return"InputContinuous";if(Y&16)return"DefaultHydration";if(Y&32)return"Default";if(Y&64)return"TransitionHydration";if(Y&4194176)return"Transition";if(Y&62914560)return"Retry";if(Y&67108864)return"SelectiveHydration";if(Y&134217728)return"IdleHydration";if(Y&268435456)return"Idle";if(Y&536870912)return"Offscreen";if(Y&1073741824)return"Deferred"}function AK(Y){var K=Y&42;if(K!==0)return K;switch(Y&-Y){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Y&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return Y&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return console.error("Should have found matching lanes. This is a bug in React."),Y}}function U_(Y,K){var _=Y.pendingLanes;if(_===0)return 0;var $=0,H=Y.suspendedLanes,X=Y.pingedLanes,G=Y.warmLanes;Y=Y.finishedLanes!==0;var N=_&134217727;return N!==0?(_=N&~H,_!==0?$=AK(_):(X&=N,X!==0?$=AK(X):Y||(G=N&~G,G!==0&&($=AK(G))))):(N=_&~H,N!==0?$=AK(N):X!==0?$=AK(X):Y||(G=_&~G,G!==0&&($=AK(G)))),$===0?0:K!==0&&K!==$&&(K&H)===0&&(H=$&-$,G=K&-K,H>=G||H===32&&(G&4194176)!==0)?K:$}function BK(Y,K){return(Y.pendingLanes&~(Y.suspendedLanes&~Y.pingedLanes)&K)===0}function p_(Y,K){switch(Y){case 1:case 2:case 4:case 8:return K+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return K+5000;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return console.error("Should have found matching lanes. This is a bug in React."),-1}}function QB(){var Y=M8;return M8<<=1,(M8&4194176)===0&&(M8=128),Y}function L_(){var Y=U8;return U8<<=1,(U8&62914560)===0&&(U8=4194304),Y}function LB(Y){for(var K=[],_=0;31>_;_++)K.push(Y);return K}function hK(Y,K){Y.pendingLanes|=K,K!==268435456&&(Y.suspendedLanes=0,Y.pingedLanes=0,Y.warmLanes=0)}function Mz(Y,K,_,$,H,X){var G=Y.pendingLanes;Y.pendingLanes=_,Y.suspendedLanes=0,Y.pingedLanes=0,Y.warmLanes=0,Y.expiredLanes&=_,Y.entangledLanes&=_,Y.errorRecoveryDisabledLanes&=_,Y.shellSuspendCounter=0;var{entanglements:N,expirationTimes:R,hiddenUpdates:A}=Y;for(_=G&~_;0<_;){var k=31-X_(_),d=1<<k;N[k]=0,R[k]=-1;var g=A[k];if(g!==null)for(A[k]=null,k=0;k<g.length;k++){var u=g[k];u!==null&&(u.lane&=-536870913)}_&=~d}$!==0&&ZO(Y,$,0),X!==0&&H===0&&Y.tag!==0&&(Y.suspendedLanes|=X&~(G&~K))}function ZO(Y,K,_){Y.pendingLanes|=K,Y.suspendedLanes&=~K;var $=31-X_(K);Y.entangledLanes|=K,Y.entanglements[$]=Y.entanglements[$]|1073741824|_&4194218}function h1(Y,K){var _=Y.entangledLanes|=K;for(Y=Y.entanglements;_;){var $=31-X_(_),H=1<<$;H&K|Y[$]&K&&(Y[$]|=K),_&=~H}}function JO(Y,K,_){if(AB)for(Y=Y.pendingUpdatersLaneMap;0<_;){var $=31-X_(_),H=1<<$;Y[$].add(K),_&=~H}}function d1(Y,K){if(AB)for(var{pendingUpdatersLaneMap:_,memoizedUpdaters:$}=Y;0<K;){var H=31-X_(K);Y=1<<H,H=_[H],0<H.size&&(H.forEach(function(X){var G=X.alternate;G!==null&&$.has(G)||$.add(X)}),H.clear()),K&=~Y}}function c1(Y){return Y&=-Y,EB!==0&&EB<Y?VB!==0&&VB<Y?(Y&134217727)!==0?K0:S8:VB:EB}function Uz(){var Y=GK.p;if(Y!==0)return Y;return Y=window.event,Y===void 0?K0:VN(Y.type)}function Sz(Y,K){var _=GK.p;try{return GK.p=Y,K()}finally{GK.p=_}}function l1(Y){delete Y[B_],delete Y[A_],delete Y[F4],delete Y[RR],delete Y[CR]}function cB(Y){var K=Y[B_];if(K)return K;for(var _=Y.parentNode;_;){if(K=_[B1]||_[B_]){if(_=K.alternate,K.child!==null||_!==null&&_.child!==null)for(Y=IN(Y);Y!==null;){if(_=Y[B_])return _;Y=IN(Y)}return K}Y=_,_=Y.parentNode}return null}function lB(Y){if(Y=Y[B_]||Y[B1]){var K=Y.tag;if(K===5||K===6||K===13||K===26||K===27||K===3)return Y}return null}function t0(Y){var K=Y.tag;if(K===5||K===26||K===27||K===6)return Y.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function L0(Y){var K=Y[hN];return K||(K=Y[hN]={hoistableStyles:new Map,hoistableScripts:new Map}),K}function FK(Y){Y[rO]=!0}function uB(Y,K){qB(Y,K),qB(Y+"Capture",K)}function qB(Y,K){$1[Y]&&console.error("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",Y),$1[Y]=K;var _=Y.toLowerCase();D4[_]=Y,Y==="onDoubleClick"&&(D4.ondblclick=Y);for(Y=0;Y<K.length;Y++)dN.add(K[Y])}function RB(Y,K){wR[K.type]||K.onChange||K.onInput||K.readOnly||K.disabled||K.value==null||(Y==="select"?console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set `onChange`."):console.error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")),K.onChange||K.readOnly||K.disabled||K.checked==null||console.error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function e0(Y){if(D0.call(lN,Y))return!0;if(D0.call(cN,Y))return!1;if(AR.test(Y))return lN[Y]=!0;return cN[Y]=!0,console.error("Invalid attribute name: `%s`",Y),!1}function u1(Y,K,_){if(e0(K)){if(!Y.hasAttribute(K)){switch(typeof _){case"symbol":case"object":return _;case"function":return _;case"boolean":if(_===!1)return _}return _===void 0?void 0:null}if(Y=Y.getAttribute(K),Y===""&&_===!0)return!0;return vY(_,K),Y===""+_?_:Y}}function f$(Y,K,_){if(e0(K))if(_===null)Y.removeAttribute(K);else{switch(typeof _){case"undefined":case"function":case"symbol":Y.removeAttribute(K);return;case"boolean":var $=K.toLowerCase().slice(0,5);if($!=="data-"&&$!=="aria-"){Y.removeAttribute(K);return}}vY(_,K),Y.setAttribute(K,""+_)}}function J(Y,K,_){if(_===null)Y.removeAttribute(K);else{switch(typeof _){case"undefined":case"function":case"symbol":case"boolean":Y.removeAttribute(K);return}vY(_,K),Y.setAttribute(K,""+_)}}function M(Y,K,_,$){if($===null)Y.removeAttribute(_);else{switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":Y.removeAttribute(_);return}vY($,_),Y.setAttributeNS(K,_,""+$)}}function c(Y){switch(typeof Y){case"bigint":case"boolean":case"number":case"string":case"undefined":return Y;case"object":return Q_(Y),Y;default:return""}}function s(Y){var K=Y.type;return(Y=Y.nodeName)&&Y.toLowerCase()==="input"&&(K==="checkbox"||K==="radio")}function HY(Y){var K=s(Y)?"checked":"value",_=Object.getOwnPropertyDescriptor(Y.constructor.prototype,K);Q_(Y[K]);var $=""+Y[K];if(!Y.hasOwnProperty(K)&&typeof _!=="undefined"&&typeof _.get==="function"&&typeof _.set==="function"){var{get:H,set:X}=_;return Object.defineProperty(Y,K,{configurable:!0,get:function(){return H.call(this)},set:function(G){Q_(G),$=""+G,X.call(this,G)}}),Object.defineProperty(Y,K,{enumerable:_.enumerable}),{getValue:function(){return $},setValue:function(G){Q_(G),$=""+G},stopTracking:function(){Y._valueTracker=null,delete Y[K]}}}}function PY(Y){Y._valueTracker||(Y._valueTracker=HY(Y))}function OY(Y){if(!Y)return!1;var K=Y._valueTracker;if(!K)return!0;var _=K.getValue(),$="";return Y&&($=s(Y)?Y.checked?"true":"false":Y.value),Y=$,Y!==_?(K.setValue(Y),!0):!1}function fY(Y){if(Y=Y||(typeof document!=="undefined"?document:void 0),typeof Y==="undefined")return null;try{return Y.activeElement||Y.body}catch(K){return Y.body}}function CY(Y){return Y.replace(ER,function(K){return"\\"+K.charCodeAt(0).toString(16)+" "})}function PK(Y,K){K.checked===void 0||K.defaultChecked===void 0||pN||(console.error("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",qK()||"A component",K.type),pN=!0),K.value===void 0||K.defaultValue===void 0||uN||(console.error("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://react.dev/link/controlled-components",qK()||"A component",K.type),uN=!0)}function dK(Y,K,_,$,H,X,G,N){if(Y.name="",G!=null&&typeof G!=="function"&&typeof G!=="symbol"&&typeof G!=="boolean"?(vY(G,"type"),Y.type=G):Y.removeAttribute("type"),K!=null)if(G==="number"){if(K===0&&Y.value===""||Y.value!=K)Y.value=""+c(K)}else Y.value!==""+c(K)&&(Y.value=""+c(K));else G!=="submit"&&G!=="reset"||Y.removeAttribute("value");K!=null?q_(Y,G,c(K)):_!=null?q_(Y,G,c(_)):$!=null&&Y.removeAttribute("value"),H==null&&X!=null&&(Y.defaultChecked=!!X),H!=null&&(Y.checked=H&&typeof H!=="function"&&typeof H!=="symbol"),N!=null&&typeof N!=="function"&&typeof N!=="symbol"&&typeof N!=="boolean"?(vY(N,"name"),Y.name=""+c(N)):Y.removeAttribute("name")}function pB(Y,K,_,$,H,X,G,N){if(X!=null&&typeof X!=="function"&&typeof X!=="symbol"&&typeof X!=="boolean"&&(vY(X,"type"),Y.type=X),K!=null||_!=null){if(!(X!=="submit"&&X!=="reset"||K!==void 0&&K!==null))return;_=_!=null?""+c(_):"",K=K!=null?""+c(K):_,N||K===Y.value||(Y.value=K),Y.defaultValue=K}$=$!=null?$:H,$=typeof $!=="function"&&typeof $!=="symbol"&&!!$,Y.checked=N?Y.checked:!!$,Y.defaultChecked=!!$,G!=null&&typeof G!=="function"&&typeof G!=="symbol"&&typeof G!=="boolean"&&(vY(G,"name"),Y.name=G)}function q_(Y,K,_){K==="number"&&fY(Y.ownerDocument)===Y||Y.defaultValue===""+_||(Y.defaultValue=""+_)}function m$(Y,K){K.value==null&&(typeof K.children==="object"&&K.children!==null?uH.Children.forEach(K.children,function(_){_==null||typeof _==="string"||typeof _==="number"||typeof _==="bigint"||nN||(nN=!0,console.error("Cannot infer the option value of complex children. Pass a `value` prop or use a plain string as children to <option>."))}):K.dangerouslySetInnerHTML==null||oN||(oN=!0,console.error("Pass a `value` prop if you set dangerouslyInnerHTML so React knows which value should be selected."))),K.selected==null||iN||(console.error("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),iN=!0)}function i_(){var Y=qK();return Y?`

Check the render method of \``+Y+"`.":""}function p1(Y,K,_,$){if(Y=Y.options,K){K={};for(var H=0;H<_.length;H++)K["$"+_[H]]=!0;for(_=0;_<Y.length;_++)H=K.hasOwnProperty("$"+Y[_].value),Y[_].selected!==H&&(Y[_].selected=H),H&&$&&(Y[_].defaultSelected=!0)}else{_=""+c(_),K=null;for(H=0;H<Y.length;H++){if(Y[H].value===_){Y[H].selected=!0,$&&(Y[H].defaultSelected=!0);return}K!==null||Y[H].disabled||(K=Y[H])}K!==null&&(K.selected=!0)}}function zG(Y,K){for(Y=0;Y<aN.length;Y++){var _=aN[Y];if(K[_]!=null){var $=sK(K[_]);K.multiple&&!$?console.error("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",_,i_()):!K.multiple&&$&&console.error("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",_,i_())}}K.value===void 0||K.defaultValue===void 0||sN||(console.error("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://react.dev/link/controlled-components"),sN=!0)}function IG(Y,K){K.value===void 0||K.defaultValue===void 0||rN||(console.error("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://react.dev/link/controlled-components",qK()||"A component"),rN=!0),K.children!=null&&K.value==null&&console.error("Use the `defaultValue` or `value` props instead of setting children on <textarea>.")}function PG(Y,K,_){if(K!=null&&(K=""+c(K),K!==Y.value&&(Y.value=K),_==null)){Y.defaultValue!==K&&(Y.defaultValue=K);return}Y.defaultValue=_!=null?""+c(_):""}function GG(Y,K,_,$){if(K==null){if($!=null){if(_!=null)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(sK($)){if(1<$.length)throw Error("<textarea> can only have at most one child.");$=$[0]}_=$}_==null&&(_=""),K=_}_=c(K),Y.defaultValue=_,$=Y.textContent,$===_&&$!==""&&$!==null&&(Y.value=$)}function WG(Y,K){return Y.serverProps===void 0&&Y.serverTail.length===0&&Y.children.length===1&&3<Y.distanceFromLeaf&&Y.distanceFromLeaf>15-K?WG(Y.children[0],K):Y}function S_(Y){return"  "+"  ".repeat(Y)}function i1(Y){return"+ "+"  ".repeat(Y)}function h$(Y){return"- "+"  ".repeat(Y)}function NG(Y){switch(Y.tag){case 26:case 27:case 5:return Y.type;case 16:return"Lazy";case 13:return"Suspense";case 19:return"SuspenseList";case 0:case 15:return Y=Y.type,Y.displayName||Y.name||null;case 11:return Y=Y.type.render,Y.displayName||Y.name||null;case 1:return Y=Y.type,Y.displayName||Y.name||null;default:return null}}function QO(Y,K){return tN.test(Y)?(Y=JSON.stringify(Y),Y.length>K-2?8>K?'{"..."}':"{"+Y.slice(0,K-7)+'..."}':"{"+Y+"}"):Y.length>K?5>K?'{"..."}':Y.slice(0,K-3)+"...":Y}function Tz(Y,K,_){var $=120-2*_;if(K===null)return i1(_)+QO(Y,$)+`
`;if(typeof K==="string"){for(var H=0;H<K.length&&H<Y.length&&K.charCodeAt(H)===Y.charCodeAt(H);H++);return H>$-8&&10<H&&(Y="..."+Y.slice(H-8),K="..."+K.slice(H-8)),i1(_)+QO(Y,$)+`
`+h$(_)+QO(K,$)+`
`}return S_(_)+QO(Y,$)+`
`}function R7(Y){return Object.prototype.toString.call(Y).replace(/^\[object (.*)\]$/,function(K,_){return _})}function LO(Y,K){switch(typeof Y){case"string":return Y=JSON.stringify(Y),Y.length>K?5>K?'"..."':Y.slice(0,K-4)+'..."':Y;case"object":if(Y===null)return"null";if(sK(Y))return"[...]";if(Y.$$typeof===I$)return(K=b(Y.type))?"<"+K+">":"<...>";var _=R7(Y);if(_==="Object"){_="",K-=2;for(var $ in Y)if(Y.hasOwnProperty($)){var H=JSON.stringify($);if(H!=='"'+$+'"'&&($=H),K-=$.length-2,H=LO(Y[$],15>K?K:15),K-=H.length,0>K){_+=_===""?"...":", ...";break}_+=(_===""?"":",")+$+":"+H}return"{"+_+"}"}return _;case"function":return(K=Y.displayName||Y.name)?"function "+K:"function";default:return String(Y)}}function n1(Y,K){return typeof Y!=="string"||tN.test(Y)?"{"+LO(Y,K-2)+"}":Y.length>K-2?5>K?'"..."':'"'+Y.slice(0,K-5)+'..."':'"'+Y+'"'}function C7(Y,K,_){var $=120-_.length-Y.length,H=[],X;for(X in K)if(K.hasOwnProperty(X)&&X!=="children"){var G=n1(K[X],120-_.length-X.length-1);$-=X.length+G.length+2,H.push(X+"="+G)}return H.length===0?_+"<"+Y+`>
`:0<$?_+"<"+Y+" "+H.join(" ")+`>
`:_+"<"+Y+`
`+_+"  "+H.join(`
`+_+"  ")+`
`+_+`>
`}function FL(Y,K,_){var $="",H=FY({},K),X;for(X in Y)if(Y.hasOwnProperty(X)){delete H[X];var G=120-2*_-X.length-2,N=LO(Y[X],G);K.hasOwnProperty(X)?(G=LO(K[X],G),$+=i1(_)+X+": "+N+`
`,$+=h$(_)+X+": "+G+`
`):$+=i1(_)+X+": "+N+`
`}for(var R in H)H.hasOwnProperty(R)&&(Y=LO(H[R],120-2*_-R.length-2),$+=h$(_)+R+": "+Y+`
`);return $}function DL(Y,K,_,$){var H="",X=new Map;for(A in _)_.hasOwnProperty(A)&&X.set(A.toLowerCase(),A);if(X.size===1&&X.has("children"))H+=C7(Y,K,S_($));else{for(var G in K)if(K.hasOwnProperty(G)&&G!=="children"){var N=120-2*($+1)-G.length-1,R=X.get(G.toLowerCase());if(R!==void 0){X.delete(G.toLowerCase());var A=K[G];R=_[R];var k=n1(A,N);N=n1(R,N),typeof A==="object"&&A!==null&&typeof R==="object"&&R!==null&&R7(A)==="Object"&&R7(R)==="Object"&&(2<Object.keys(A).length||2<Object.keys(R).length||-1<k.indexOf("...")||-1<N.indexOf("..."))?H+=S_($+1)+G+`={{
`+FL(A,R,$+2)+S_($+1)+`}}
`:(H+=i1($+1)+G+"="+k+`
`,H+=h$($+1)+G+"="+N+`
`)}else H+=S_($+1)+G+"="+n1(K[G],N)+`
`}X.forEach(function(d){if(d!=="children"){var g=120-2*($+1)-d.length-1;H+=h$($+1)+d+"="+n1(_[d],g)+`
`}}),H=H===""?S_($)+"<"+Y+`>
`:S_($)+"<"+Y+`
`+H+S_($)+`>
`}if(Y=_.children,K=K.children,typeof Y==="string"||typeof Y==="number"||typeof Y==="bigint"){if(X="",typeof K==="string"||typeof K==="number"||typeof K==="bigint")X=""+K;H+=Tz(X,""+Y,$+1)}else if(typeof K==="string"||typeof K==="number"||typeof K==="bigint")H=Y==null?H+Tz(""+K,null,$+1):H+Tz(""+K,void 0,$+1);return H}function ZG(Y,K){var _=NG(Y);if(_===null){_="";for(Y=Y.child;Y;)_+=ZG(Y,K),Y=Y.sibling;return _}return S_(K)+"<"+_+`>
`}function w7(Y,K){var _=WG(Y,K);if(_!==Y&&(Y.children.length!==1||Y.children[0]!==_))return S_(K)+`...
`+w7(_,K+1);_="";var $=Y.fiber._debugInfo;if($)for(var H=0;H<$.length;H++){var X=$[H].name;typeof X==="string"&&(_+=S_(K)+"<"+X+`>
`,K++)}if($="",H=Y.fiber.pendingProps,Y.fiber.tag===6)$=Tz(H,Y.serverProps,K),K++;else if(X=NG(Y.fiber),X!==null)if(Y.serverProps===void 0){$=K;var G=120-2*$-X.length-2,N="";for(A in H)if(H.hasOwnProperty(A)&&A!=="children"){var R=n1(H[A],15);if(G-=A.length+R.length+2,0>G){N+=" ...";break}N+=" "+A+"="+R}$=S_($)+"<"+X+N+`>
`,K++}else Y.serverProps===null?($=C7(X,H,i1(K)),K++):typeof Y.serverProps==="string"?console.error("Should not have matched a non HostText fiber to a Text node. This is a bug in React."):($=DL(X,H,Y.serverProps,K),K++);var A="";H=Y.fiber.child;for(X=0;H&&X<Y.children.length;)G=Y.children[X],G.fiber===H?(A+=w7(G,K),X++):A+=ZG(H,K),H=H.sibling;H&&0<Y.children.length&&(A+=S_(K)+`...
`),H=Y.serverTail,Y.serverProps===null&&K--;for(Y=0;Y<H.length;Y++)X=H[Y],A=typeof X==="string"?A+(h$(K)+QO(X,120-2*K)+`
`):A+C7(X.type,X.props,h$(K));return _+$+A}function A7(Y){try{return`

`+w7(Y,0)}catch(K){return""}}function JG(Y,K,_){for(var $=K,H=null,X=0;$;)$===Y&&(X=0),H={fiber:$,children:H!==null?[H]:[],serverProps:$===K?_:$===Y?null:void 0,serverTail:[],distanceFromLeaf:X},X++,$=$.return;return H!==null?A7(H).replaceAll(/^[+-]/gm,">"):""}function QG(Y,K){Y=FY({},Y||Y3);var _={tag:K};if(eN.indexOf(K)!==-1&&(Y.aTagInScope=null,Y.buttonTagInScope=null,Y.nobrTagInScope=null),xR.indexOf(K)!==-1&&(Y.pTagInButtonScope=null),VR.indexOf(K)!==-1&&K!=="address"&&K!=="div"&&K!=="p"&&(Y.listItemTagAutoclosing=null,Y.dlItemTagAutoclosing=null),Y.current=_,K==="form"&&(Y.formTag=_),K==="a"&&(Y.aTagInScope=_),K==="button"&&(Y.buttonTagInScope=_),K==="nobr"&&(Y.nobrTagInScope=_),K==="p"&&(Y.pTagInButtonScope=_),K==="li"&&(Y.listItemTagAutoclosing=_),K==="dd"||K==="dt")Y.dlItemTagAutoclosing=_;return K==="#document"||K==="html"?Y.containerTagInScope=null:Y.containerTagInScope||(Y.containerTagInScope=_),Y}function LG(Y,K){switch(K){case"select":return Y==="hr"||Y==="option"||Y==="optgroup"||Y==="#text";case"optgroup":return Y==="option"||Y==="#text";case"option":return Y==="#text";case"tr":return Y==="th"||Y==="td"||Y==="style"||Y==="script"||Y==="template";case"tbody":case"thead":case"tfoot":return Y==="tr"||Y==="style"||Y==="script"||Y==="template";case"colgroup":return Y==="col"||Y==="template";case"table":return Y==="caption"||Y==="colgroup"||Y==="tbody"||Y==="tfoot"||Y==="thead"||Y==="style"||Y==="script"||Y==="template";case"head":return Y==="base"||Y==="basefont"||Y==="bgsound"||Y==="link"||Y==="meta"||Y==="title"||Y==="noscript"||Y==="noframes"||Y==="style"||Y==="script"||Y==="template";case"html":return Y==="head"||Y==="body"||Y==="frameset";case"frameset":return Y==="frame";case"#document":return Y==="html"}switch(Y){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return K!=="h1"&&K!=="h2"&&K!=="h3"&&K!=="h4"&&K!=="h5"&&K!=="h6";case"rp":case"rt":return FR.indexOf(K)===-1;case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return K==null}return!0}function ML(Y,K){switch(Y){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return K.pTagInButtonScope;case"form":return K.formTag||K.pTagInButtonScope;case"li":return K.listItemTagAutoclosing;case"dd":case"dt":return K.dlItemTagAutoclosing;case"button":return K.buttonTagInScope;case"a":return K.aTagInScope;case"nobr":return K.nobrTagInScope}return null}function qG(Y,K){for(;Y;){switch(Y.tag){case 5:case 26:case 27:if(Y.type===K)return Y}Y=Y.return}return null}function E7(Y,K){K=K||Y3;var _=K.current;if(K=(_=LG(Y,_&&_.tag)?null:_)?null:ML(Y,K),K=_||K,!K)return!0;K=K.tag;var $=String(!!_)+"|"+Y+"|"+K;if(T8[$])return!1;T8[$]=!0;var H=($=K_)?qG($.return,K):null;return $=$!==null&&H!==null?JG(H,$,null):"",H="<"+Y+">",_?(_="",K==="table"&&Y==="tr"&&(_+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),console.error(`In HTML, %s cannot be a child of <%s>.%s
This will cause a hydration error.%s`,H,K,_,$)):console.error(`In HTML, %s cannot be a descendant of <%s>.
This will cause a hydration error.%s`,H,K,$),!1}function yz(Y,K){if(LG("#text",K))return!0;var _="#text|"+K;if(T8[_])return!1;T8[_]=!0;var $=(_=K_)?qG(_,K):null;return _=_!==null&&$!==null?JG($,_,_.tag!==6?{children:null}:null):"",/\S/.test(Y)?console.error(`In HTML, text nodes cannot be a child of <%s>.
This will cause a hydration error.%s`,K,_):console.error(`In HTML, whitespace text nodes cannot be a child of <%s>. Make sure you don't have any extra whitespace between tags on each line of your source code.
This will cause a hydration error.%s`,K,_),!1}function qO(Y,K){if(K){var _=Y.firstChild;if(_&&_===Y.lastChild&&_.nodeType===3){_.nodeValue=K;return}}Y.textContent=K}function UL(Y){return Y.replace(UR,function(K,_){return _.toUpperCase()})}function RG(Y,K,_){var $=K.indexOf("--")===0;$||(-1<K.indexOf("-")?NH.hasOwnProperty(K)&&NH[K]||(NH[K]=!0,console.error("Unsupported style property %s. Did you mean %s?",K,UL(K.replace(MR,"ms-")))):DR.test(K)?NH.hasOwnProperty(K)&&NH[K]||(NH[K]=!0,console.error("Unsupported vendor-prefixed style property %s. Did you mean %s?",K,K.charAt(0).toUpperCase()+K.slice(1))):!B3.test(_)||U4.hasOwnProperty(_)&&U4[_]||(U4[_]=!0,console.error(`Style property values shouldn't contain a semicolon. Try "%s: %s" instead.`,K,_.replace(B3,""))),typeof _==="number"&&(isNaN(_)?$3||($3=!0,console.error("`NaN` is an invalid value for the `%s` css style property.",K)):isFinite(_)||H3||(H3=!0,console.error("`Infinity` is an invalid value for the `%s` css style property.",K)))),_==null||typeof _==="boolean"||_===""?$?Y.setProperty(K,""):K==="float"?Y.cssFloat="":Y[K]="":$?Y.setProperty(K,_):typeof _!=="number"||_===0||O3.has(K)?K==="float"?Y.cssFloat=_:(JB(_,K),Y[K]=(""+_).trim()):Y[K]=_+"px"}function CG(Y,K,_){if(K!=null&&typeof K!=="object")throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");if(K&&Object.freeze(K),Y=Y.style,_!=null){if(K){var $={};if(_){for(var H in _)if(_.hasOwnProperty(H)&&!K.hasOwnProperty(H))for(var X=M4[H]||[H],G=0;G<X.length;G++)$[X[G]]=H}for(var N in K)if(K.hasOwnProperty(N)&&(!_||_[N]!==K[N]))for(H=M4[N]||[N],X=0;X<H.length;X++)$[H[X]]=N;N={};for(var R in K)for(H=M4[R]||[R],X=0;X<H.length;X++)N[H[X]]=R;R={};for(var A in $)if(H=$[A],(X=N[A])&&H!==X&&(G=H+","+X,!R[G])){R[G]=!0,G=console;var k=K[H];G.error.call(G,"%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",k==null||typeof k==="boolean"||k===""?"Removing":"Updating",H,X)}}for(var d in _)!_.hasOwnProperty(d)||K!=null&&K.hasOwnProperty(d)||(d.indexOf("--")===0?Y.setProperty(d,""):d==="float"?Y.cssFloat="":Y[d]="");for(var g in K)A=K[g],K.hasOwnProperty(g)&&_[g]!==A&&RG(Y,g,A)}else for($ in K)K.hasOwnProperty($)&&RG(Y,$,K[$])}function RO(Y){if(Y.indexOf("-")===-1)return!1;switch(Y){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function wG(Y){return SR.get(Y)||Y}function SL(Y,K){if(D0.call(ZH,K)&&ZH[K])return!0;if(yR.test(K)){if(Y="aria-"+K.slice(4).toLowerCase(),Y=X3.hasOwnProperty(Y)?Y:null,Y==null)return console.error("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",K),ZH[K]=!0;if(K!==Y)return console.error("Invalid ARIA attribute `%s`. Did you mean `%s`?",K,Y),ZH[K]=!0}if(TR.test(K)){if(Y=K.toLowerCase(),Y=X3.hasOwnProperty(Y)?Y:null,Y==null)return ZH[K]=!0,!1;K!==Y&&(console.error("Unknown ARIA attribute `%s`. Did you mean `%s`?",K,Y),ZH[K]=!0)}return!0}function TL(Y,K){var _=[],$;for($ in K)SL(Y,$)||_.push($);K=_.map(function(H){return"`"+H+"`"}).join(", "),_.length===1?console.error("Invalid aria prop %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",K,Y):1<_.length&&console.error("Invalid aria props %s on <%s> tag. For details, see https://react.dev/link/invalid-aria-props",K,Y)}function yL(Y,K,_,$){if(D0.call(z_,K)&&z_[K])return!0;var H=K.toLowerCase();if(H==="onfocusin"||H==="onfocusout")return console.error("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),z_[K]=!0;if(typeof _==="function"&&(Y==="form"&&K==="action"||Y==="input"&&K==="formAction"||Y==="button"&&K==="formAction"))return!0;if($!=null){if(Y=$.possibleRegistrationNames,$.registrationNameDependencies.hasOwnProperty(K))return!0;if($=Y.hasOwnProperty(H)?Y[H]:null,$!=null)return console.error("Invalid event handler property `%s`. Did you mean `%s`?",K,$),z_[K]=!0;if(I3.test(K))return console.error("Unknown event handler property `%s`. It will be ignored.",K),z_[K]=!0}else if(I3.test(K))return jR.test(K)&&console.error("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",K),z_[K]=!0;if(kR.test(K)||gR.test(K))return!0;if(H==="innerhtml")return console.error("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),z_[K]=!0;if(H==="aria")return console.error("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),z_[K]=!0;if(H==="is"&&_!==null&&_!==void 0&&typeof _!=="string")return console.error("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof _),z_[K]=!0;if(typeof _==="number"&&isNaN(_))return console.error("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",K),z_[K]=!0;if(j8.hasOwnProperty(H)){if(H=j8[H],H!==K)return console.error("Invalid DOM property `%s`. Did you mean `%s`?",K,H),z_[K]=!0}else if(K!==H)return console.error("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",K,H),z_[K]=!0;switch(K){case"dangerouslySetInnerHTML":case"children":case"style":case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":return!0;case"innerText":case"textContent":return!0}switch(typeof _){case"boolean":switch(K){case"autoFocus":case"checked":case"multiple":case"muted":case"selected":case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"capture":case"download":case"inert":return!0;default:if(H=K.toLowerCase().slice(0,5),H==="data-"||H==="aria-")return!0;return _?console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',_,K,K,_,K):console.error('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',_,K,K,_,K,K,K),z_[K]=!0}case"function":case"symbol":return z_[K]=!0,!1;case"string":if(_==="false"||_==="true"){switch(K){case"checked":case"selected":case"multiple":case"muted":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":case"inert":break;default:return!0}console.error("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",_,K,_==="false"?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',K,_),z_[K]=!0}}return!0}function jL(Y,K,_){var $=[],H;for(H in K)yL(Y,H,K[H],_)||$.push(H);K=$.map(function(X){return"`"+X+"`"}).join(", "),$.length===1?console.error("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://react.dev/link/attribute-behavior ",K,Y):1<$.length&&console.error("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://react.dev/link/attribute-behavior ",K,Y)}function CO(Y){return bR.test(""+Y)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":Y}function V7(Y){return Y=Y.target||Y.srcElement||window,Y.correspondingUseElement&&(Y=Y.correspondingUseElement),Y.nodeType===3?Y.parentNode:Y}function AG(Y){var K=lB(Y);if(K&&(Y=K.stateNode)){var _=Y[A_]||null;Y:switch(Y=K.stateNode,K.type){case"input":if(dK(Y,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name),K=_.name,_.type==="radio"&&K!=null){for(_=Y;_.parentNode;)_=_.parentNode;vY(K,"name"),_=_.querySelectorAll('input[name="'+CY(""+K)+'"][type="radio"]');for(K=0;K<_.length;K++){var $=_[K];if($!==Y&&$.form===Y.form){var H=$[A_]||null;if(!H)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");dK($,H.value,H.defaultValue,H.defaultValue,H.checked,H.defaultChecked,H.type,H.name)}}for(K=0;K<_.length;K++)$=_[K],$.form===Y.form&&OY($)}break Y;case"textarea":PG(Y,_.value,_.defaultValue);break Y;case"select":K=_.value,K!=null&&p1(Y,!!_.multiple,K,!1)}}}function EG(Y,K,_){if(S4)return Y(K,_);S4=!0;try{var $=Y(K);return $}finally{if(S4=!1,JH!==null||QH!==null){if(_H(),JH&&(K=JH,Y=QH,QH=JH=null,AG(K),Y))for(K=0;K<Y.length;K++)AG(Y[K])}}}function wO(Y,K){var _=Y.stateNode;if(_===null)return null;var $=_[A_]||null;if($===null)return null;_=$[K];Y:switch(K){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":($=!$.disabled)||(Y=Y.type,$=!(Y==="button"||Y==="input"||Y==="select"||Y==="textarea")),Y=!$;break Y;default:Y=!1}if(Y)return null;if(_&&typeof _!=="function")throw Error("Expected `"+K+"` listener to be a function, instead got a value of `"+typeof _+"` type.");return _}function VG(){if(k8)return k8;var Y,K=y4,_=K.length,$,H="value"in N$?N$.value:N$.textContent,X=H.length;for(Y=0;Y<_&&K[Y]===H[Y];Y++);var G=_-Y;for($=1;$<=G&&K[_-$]===H[X-$];$++);return k8=H.slice(Y,1<$?1-$:void 0)}function jz(Y){var K=Y.keyCode;return"charCode"in Y?(Y=Y.charCode,Y===0&&K===13&&(Y=13)):Y=K,Y===10&&(Y=13),32<=Y||Y===13?Y:0}function kz(){return!0}function xG(){return!1}function R_(Y){function K(_,$,H,X,G){this._reactName=_,this._targetInst=H,this.type=$,this.nativeEvent=X,this.target=G,this.currentTarget=null;for(var N in Y)Y.hasOwnProperty(N)&&(_=Y[N],this[N]=_?_(X):X[N]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?kz:xG,this.isPropagationStopped=xG,this}return FY(K.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!=="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=kz)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!=="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=kz)},persist:function(){},isPersistent:kz}),K}function kL(Y){var K=this.nativeEvent;return K.getModifierState?K.getModifierState(Y):(Y=sR[Y])?!!K[Y]:!1}function x7(){return kL}function FG(Y,K){switch(Y){case"keyup":return XC.indexOf(K.keyCode)!==-1;case"keydown":return K.keyCode!==N3;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DG(Y){return Y=Y.detail,typeof Y==="object"&&"data"in Y?Y.data:null}function gL(Y,K){switch(Y){case"compositionend":return DG(K);case"keypress":if(K.which!==J3)return null;return L3=!0,Q3;case"textInput":return Y=K.data,Y===Q3&&L3?null:Y;default:return null}}function bL(Y,K){if(LH)return Y==="compositionend"||!b4&&FG(Y,K)?(Y=VG(),k8=y4=N$=null,LH=!1,Y):null;switch(Y){case"paste":return null;case"keypress":if(!(K.ctrlKey||K.altKey||K.metaKey)||K.ctrlKey&&K.altKey){if(K.char&&1<K.char.length)return K.char;if(K.which)return String.fromCharCode(K.which)}return null;case"compositionend":return Z3&&K.locale!=="ko"?null:K.data;default:return null}}function MG(Y){var K=Y&&Y.nodeName&&Y.nodeName.toLowerCase();return K==="input"?!!IC[Y.type]:K==="textarea"?!0:!1}function vL(Y){if(!_0)return!1;Y="on"+Y;var K=Y in document;return K||(K=document.createElement("div"),K.setAttribute(Y,"return;"),K=typeof K[Y]==="function"),K}function UG(Y,K,_,$){JH?QH?QH.push($):QH=[$]:JH=$,K=Z8(K,"onChange"),0<K.length&&(_=new g8("onChange","change",null,_,$),Y.push({event:_,listeners:K}))}function fL(Y){nW(Y,0)}function gz(Y){var K=t0(Y);if(OY(K))return Y}function SG(Y,K){if(Y==="change")return K}function TG(){BX&&(BX.detachEvent("onpropertychange",yG),$X=BX=null)}function yG(Y){if(Y.propertyName==="value"&&gz($X)){var K=[];UG(K,$X,Y,V7(Y)),EG(fL,K)}}function mL(Y,K,_){Y==="focusin"?(TG(),BX=K,$X=_,BX.attachEvent("onpropertychange",yG)):Y==="focusout"&&TG()}function hL(Y){if(Y==="selectionchange"||Y==="keyup"||Y==="keydown")return gz($X)}function dL(Y,K){if(Y==="click")return gz(K)}function cL(Y,K){if(Y==="input"||Y==="change")return gz(K)}function lL(Y,K){return Y===K&&(Y!==0||1/Y===1/K)||Y!==Y&&K!==K}function AO(Y,K){if(I_(Y,K))return!0;if(typeof Y!=="object"||Y===null||typeof K!=="object"||K===null)return!1;var _=Object.keys(Y),$=Object.keys(K);if(_.length!==$.length)return!1;for($=0;$<_.length;$++){var H=_[$];if(!D0.call(K,H)||!I_(Y[H],K[H]))return!1}return!0}function jG(Y){for(;Y&&Y.firstChild;)Y=Y.firstChild;return Y}function kG(Y,K){var _=jG(Y);Y=0;for(var $;_;){if(_.nodeType===3){if($=Y+_.textContent.length,Y<=K&&$>=K)return{node:_,offset:K-Y};Y=$}Y:{for(;_;){if(_.nextSibling){_=_.nextSibling;break Y}_=_.parentNode}_=void 0}_=jG(_)}}function gG(Y,K){return Y&&K?Y===K?!0:Y&&Y.nodeType===3?!1:K&&K.nodeType===3?gG(Y,K.parentNode):("contains"in Y)?Y.contains(K):Y.compareDocumentPosition?!!(Y.compareDocumentPosition(K)&16):!1:!1}function bG(Y){Y=Y!=null&&Y.ownerDocument!=null&&Y.ownerDocument.defaultView!=null?Y.ownerDocument.defaultView:window;for(var K=fY(Y.document);K instanceof Y.HTMLIFrameElement;){try{var _=typeof K.contentWindow.location.href==="string"}catch($){_=!1}if(_)Y=K.contentWindow;else break;K=fY(Y.document)}return K}function F7(Y){var K=Y&&Y.nodeName&&Y.nodeName.toLowerCase();return K&&(K==="input"&&(Y.type==="text"||Y.type==="search"||Y.type==="tel"||Y.type==="url"||Y.type==="password")||K==="textarea"||Y.contentEditable==="true")}function uL(Y,K){var _=bG(K);K=Y.focusedElem;var $=Y.selectionRange;if(_!==K&&K&&K.ownerDocument&&gG(K.ownerDocument.documentElement,K)){if($!==null&&F7(K)){if(Y=$.start,_=$.end,_===void 0&&(_=Y),"selectionStart"in K)K.selectionStart=Y,K.selectionEnd=Math.min(_,K.value.length);else if(_=(Y=K.ownerDocument||document)&&Y.defaultView||window,_.getSelection){_=_.getSelection();var H=K.textContent.length,X=Math.min($.start,H);$=$.end===void 0?X:Math.min($.end,H),!_.extend&&X>$&&(H=$,$=X,X=H),H=kG(K,X);var G=kG(K,$);H&&G&&(_.rangeCount!==1||_.anchorNode!==H.node||_.anchorOffset!==H.offset||_.focusNode!==G.node||_.focusOffset!==G.offset)&&(Y=Y.createRange(),Y.setStart(H.node,H.offset),_.removeAllRanges(),X>$?(_.addRange(Y),_.extend(G.node,G.offset)):(Y.setEnd(G.node,G.offset),_.addRange(Y)))}}Y=[];for(_=K;_=_.parentNode;)_.nodeType===1&&Y.push({element:_,left:_.scrollLeft,top:_.scrollTop});typeof K.focus==="function"&&K.focus();for(K=0;K<Y.length;K++)_=Y[K],_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}function vG(Y,K,_){var $=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;f4||qH==null||qH!==fY($)||($=qH,("selectionStart"in $)&&F7($)?$={start:$.selectionStart,end:$.selectionEnd}:($=($.ownerDocument&&$.ownerDocument.defaultView||window).getSelection(),$={anchorNode:$.anchorNode,anchorOffset:$.anchorOffset,focusNode:$.focusNode,focusOffset:$.focusOffset}),HX&&AO(HX,$)||(HX=$,$=Z8(v4,"onSelect"),0<$.length&&(K=new g8("onSelect","select",null,K,_),Y.push({event:K,listeners:$}),K.target=qH)))}function d$(Y,K){var _={};return _[Y.toLowerCase()]=K.toLowerCase(),_["Webkit"+Y]="webkit"+K,_["Moz"+Y]="moz"+K,_}function c$(Y){if(m4[Y])return m4[Y];if(!RH[Y])return Y;var K=RH[Y],_;for(_ in K)if(K.hasOwnProperty(_)&&_ in R3)return m4[Y]=K[_];return Y}function CB(Y,K){V3.set(Y,K),uB(K,[Y])}function bz(){for(var Y=CH,K=h4=CH=0;K<Y;){var _=t_[K];t_[K++]=null;var $=t_[K];t_[K++]=null;var H=t_[K];t_[K++]=null;var X=t_[K];if(t_[K++]=null,$!==null&&H!==null){var G=$.pending;G===null?H.next=H:(H.next=G.next,G.next=H),$.pending=H}X!==0&&fG(_,H,X)}}function vz(Y,K,_,$){t_[CH++]=Y,t_[CH++]=K,t_[CH++]=_,t_[CH++]=$,h4|=$,Y.lanes|=$,Y=Y.alternate,Y!==null&&(Y.lanes|=$)}function D7(Y,K,_,$){return vz(Y,K,_,$),fz(Y)}function Y_(Y,K){return vz(Y,null,null,K),fz(Y)}function fG(Y,K,_){Y.lanes|=_;var $=Y.alternate;$!==null&&($.lanes|=_);for(var H=!1,X=Y.return;X!==null;)X.childLanes|=_,$=X.alternate,$!==null&&($.childLanes|=_),X.tag===22&&(Y=X.stateNode,Y===null||Y._visibility&OX||(H=!0)),Y=X,X=X.return;H&&K!==null&&Y.tag===3&&(X=Y.stateNode,H=31-X_(_),X=X.hiddenUpdates,Y=X[H],Y===null?X[H]=[K]:Y.push(K),K.lane=_|536870912)}function fz(Y){if(MX>FC)throw C1=MX=0,UX=JI=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");C1>DC&&(C1=0,UX=null,console.error("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render.")),Y.alternate===null&&(Y.flags&4098)!==0&&mW(Y);for(var K=Y,_=K.return;_!==null;)K.alternate===null&&(K.flags&4098)!==0&&mW(Y),K=_,_=K.return;return K.tag===3?K.stateNode:null}function l$(Y){if(e_===null)return Y;var K=e_(Y);return K===void 0?Y:K.current}function M7(Y){if(e_===null)return Y;var K=e_(Y);return K===void 0?Y!==null&&Y!==void 0&&typeof Y.render==="function"&&(K=l$(Y.render),Y.render!==K)?(K={$$typeof:oO,render:K},Y.displayName!==void 0&&(K.displayName=Y.displayName),K):Y:K.current}function mG(Y,K){if(e_===null)return!1;var _=Y.elementType;K=K.type;var $=!1,H=typeof K==="object"&&K!==null?K.$$typeof:null;switch(Y.tag){case 1:typeof K==="function"&&($=!0);break;case 0:typeof K==="function"?$=!0:H===k_&&($=!0);break;case 11:H===oO?$=!0:H===k_&&($=!0);break;case 14:case 15:H===F8?$=!0:H===k_&&($=!0);break;default:return!1}return $&&(Y=e_(_),Y!==void 0&&Y===e_(K))?!0:!1}function hG(Y){e_!==null&&typeof WeakSet==="function"&&(wH===null&&(wH=new WeakSet),wH.add(Y))}function U7(Y,K,_){var{alternate:$,child:H,sibling:X,tag:G,type:N}=Y,R=null;switch(G){case 0:case 15:case 1:R=N;break;case 11:R=N.render}if(e_===null)throw Error("Expected resolveFamily to be set during hot reload.");var A=!1;if(N=!1,R!==null&&(R=e_(R),R!==void 0&&(_.has(R)?N=!0:K.has(R)&&(G===1?N=!0:A=!0))),wH!==null&&(wH.has(Y)||$!==null&&wH.has($))&&(N=!0),N&&(Y._debugNeedsRemount=!0),N||A)$=Y_(Y,2),$!==null&&RK($,Y,2);H===null||N||U7(H,K,_),X!==null&&U7(X,K,_)}function q0(){var Y=X1;return X1=0,Y}function mz(Y){var K=X1;return X1=Y,K}function EO(Y){var K=X1;return X1+=Y,K}function S7(Y){E_=AH(),0>Y.actualStartTime&&(Y.actualStartTime=E_)}function T7(Y){if(0<=E_){var K=AH()-E_;Y.actualDuration+=K,Y.selfBaseDuration=K,E_=-1}}function dG(Y){if(0<=E_){var K=AH()-E_;Y.actualDuration+=K,E_=-1}}function iB(){if(0<=E_){var Y=AH()-E_;E_=-1,X1+=Y}}function nB(){E_=AH()}function hz(Y){for(var K=Y.child;K;)Y.actualDuration+=K.actualDuration,K=K.sibling}function T_(Y,K){if(typeof Y==="object"&&Y!==null){var _=c4.get(Y);if(_!==void 0)return _;return K={value:Y,source:K,stack:_K(K)},c4.set(Y,K),K}return{value:Y,source:K,stack:_K(K)}}function u$(Y,K){p$(),EH[VH++]=c8,EH[VH++]=d8,d8=Y,c8=K}function cG(Y,K,_){p$(),YB[KB++]=U0,YB[KB++]=S0,YB[KB++]=I1,I1=Y;var $=U0;Y=S0;var H=32-X_($)-1;$&=~(1<<H),_+=1;var X=32-X_(K)+H;if(30<X){var G=H-H%5;X=($&(1<<G)-1).toString(32),$>>=G,H-=G,U0=1<<32-X_(K)+H|_<<H|$,S0=X+Y}else U0=1<<X|_<<H|$,S0=Y}function y7(Y){p$(),Y.return!==null&&(u$(Y,1),cG(Y,1,0))}function j7(Y){for(;Y===d8;)d8=EH[--VH],EH[VH]=null,c8=EH[--VH],EH[VH]=null;for(;Y===I1;)I1=YB[--KB],YB[KB]=null,S0=YB[--KB],YB[KB]=null,U0=YB[--KB],YB[KB]=null}function p$(){gY||console.error("Expected to be hydrating. This is a bug in React. Please file an issue.")}function i$(Y,K){if(Y.return===null){if(_B===null)_B={fiber:Y,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:K};else{if(_B.fiber!==Y)throw Error("Saw multiple hydration diff roots in a pass. This is a bug in React.");_B.distanceFromLeaf>K&&(_B.distanceFromLeaf=K)}return _B}var _=i$(Y.return,K+1).children;if(0<_.length&&_[_.length-1].fiber===Y)return _=_[_.length-1],_.distanceFromLeaf>K&&(_.distanceFromLeaf=K),_;return K={fiber:Y,children:[],serverProps:void 0,serverTail:[],distanceFromLeaf:K},_.push(K),K}function k7(Y,K){T0||(Y=i$(Y,0),Y.serverProps=null,K!==null&&(K=ON(K),Y.serverTail.push(K)))}function n$(Y){var K="",_=_B;throw _!==null&&(_B=null,K=A7(_)),FO(T_(Error(`Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

https://react.dev/link/hydration-mismatch`+K),Y)),l4}function lG(Y){var{stateNode:K,type:_,memoizedProps:$}=Y;switch(K[B_]=Y,K[A_]=$,t6(_,$),_){case"dialog":kY("cancel",K),kY("close",K);break;case"iframe":case"object":case"embed":kY("load",K);break;case"video":case"audio":for(_=0;_<SX.length;_++)kY(SX[_],K);break;case"source":kY("error",K);break;case"img":case"image":case"link":kY("error",K),kY("load",K);break;case"details":kY("toggle",K);break;case"input":RB("input",$),kY("invalid",K),PK(K,$),pB(K,$.value,$.defaultValue,$.checked,$.defaultChecked,$.type,$.name,!0),PY(K);break;case"option":m$(K,$);break;case"select":RB("select",$),kY("invalid",K),zG(K,$);break;case"textarea":RB("textarea",$),kY("invalid",K),IG(K,$),GG(K,$.value,$.defaultValue,$.children),PY(K)}_=$.children,typeof _!=="string"&&typeof _!=="number"&&typeof _!=="bigint"||K.textContent===""+_||$.suppressHydrationWarning===!0||rW(K.textContent,_)?($.popover!=null&&(kY("beforetoggle",K),kY("toggle",K)),$.onScroll!=null&&kY("scroll",K),$.onScrollEnd!=null&&kY("scrollend",K),$.onClick!=null&&(K.onclick=J8),K=!0):K=!1,K||n$(Y)}function uG(Y){for(P_=Y.return;P_;)switch(P_.tag){case 3:case 27:B0=!0;return;case 5:case 13:B0=!1;return;default:P_=P_.return}}function VO(Y){if(Y!==P_)return!1;if(!gY)return uG(Y),gY=!0,!1;var K=!1,_;if(_=Y.tag!==3&&Y.tag!==27){if(_=Y.tag===5)_=Y.type,_=!(_!=="form"&&_!=="button")||_4(Y.type,Y.memoizedProps);_=!_}if(_&&(K=!0),K&&rK){for(K=rK;K;){_=i$(Y,0);var $=ON(K);_.serverTail.push($),K=$.type==="Suspense"?zN(K):a_(K.nextSibling)}n$(Y)}if(uG(Y),Y.tag===13){if(Y=Y.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");rK=zN(Y)}else rK=P_?a_(Y.stateNode.nextSibling):null;return!0}function xO(){rK=P_=null,T0=gY=!1}function FO(Y){DB===null?DB=[Y]:DB.push(Y)}function pG(){var Y=_B;Y!==null&&(_B=null,Y=A7(Y),console.error(`A tree hydrated but some attributes of the server rendered HTML didn't match the client properties. This won't be patched up. This can happen if a SSR-ed Client Component used:

- A server/client branch \`if (typeof window !== 'undefined')\`.
- Variable input such as \`Date.now()\` or \`Math.random()\` which changes each time it's called.
- Date formatting in a user's locale which doesn't match the server.
- External changing data without sending a snapshot of it along with the HTML.
- Invalid HTML tag nesting.

It can also happen if the client has a browser extension installed which messes with the HTML before React loaded.

%s%s`,"https://react.dev/link/hydration-mismatch",Y))}function iG(){return{didWarnAboutUncachedPromise:!1,thenables:[]}}function nG(Y){return Y=Y.status,Y==="fulfilled"||Y==="rejected"}function dz(){}function oG(Y,K,_){f.actQueue!==null&&(f.didUsePromise=!0);var $=Y.thenables;switch(_=$[_],_===void 0?$.push(K):_!==K&&(Y.didWarnAboutUncachedPromise||(Y.didWarnAboutUncachedPromise=!0,console.error("A component was suspended by an uncached promise. Creating promises inside a Client Component or hook is not yet supported, except via a Suspense-compatible library or framework.")),K.then(dz,dz),K=_),K.status){case"fulfilled":return K.value;case"rejected":throw Y=K.reason,aG(Y),Y;default:if(typeof K.status==="string")K.then(dz,dz);else{if(Y=$K,Y!==null&&100<Y.shellSuspendCounter)throw Error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.");Y=K,Y.status="pending",Y.then(function(H){if(K.status==="pending"){var X=K;X.status="fulfilled",X.value=H}},function(H){if(K.status==="pending"){var X=K;X.status="rejected",X.reason=H}})}switch(K.status){case"fulfilled":return K.value;case"rejected":throw Y=K.reason,aG(Y),Y}throw NX=K,u8=!0,l8}}function sG(){if(NX===null)throw Error("Expected a suspended thenable. This is a bug in React. Please file an issue.");var Y=NX;return NX=null,u8=!1,Y}function aG(Y){if(Y===l8)throw Error("Hooks are not supported inside an async component. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.")}function iK(Y){var K=xY;return Y!=null&&(xY=K===null?Y:K.concat(Y)),K}function cz(Y,K,_){for(var $=Object.keys(Y.props),H=0;H<$.length;H++){var X=$[H];if(X!=="children"&&X!=="key"){K===null&&(K=G8(Y,_.mode,0),K._debugInfo=xY,K.return=_),KY(K,function(G){console.error("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",G)},X);break}}}function lz(Y){var K=ZX;return ZX+=1,xH===null&&(xH=iG()),oG(xH,Y,K)}function DO(Y,K){K=K.props.ref,Y.ref=K!==void 0?K:null}function uz(Y,K){if(K.$$typeof===HR)throw Error(`A React Element from an older version of React was rendered. This is not supported. It can happen if:
- Multiple copies of the "react" package is used.
- A library pre-bundled an old copy of "react" or "react/jsx-runtime".
- A compiler tries to "inline" JSX instead of using the runtime.`);throw Y=Object.prototype.toString.call(K),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}function pz(Y,K){var _=l(Y)||"Component";l3[_]||(l3[_]=!0,K=K.displayName||K.name||"Component",Y.tag===3?console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  root.render(%s)`,K,K,K):console.error(`Functions are not valid as a React child. This may happen if you return %s instead of <%s /> from render. Or maybe you meant to call this function rather than return it.
  <%s>{%s}</%s>`,K,K,_,K,_))}function iz(Y,K){var _=l(Y)||"Component";u3[_]||(u3[_]=!0,K=String(K),Y.tag===3?console.error(`Symbols are not valid as a React child.
  root.render(%s)`,K):console.error(`Symbols are not valid as a React child.
  <%s>%s</%s>`,_,K,_))}function rG(Y){function K(V,E){if(Y){var F=V.deletions;F===null?(V.deletions=[E],V.flags|=16):F.push(E)}}function _(V,E){if(!Y)return null;for(;E!==null;)K(V,E),E=E.sibling;return null}function $(V){for(var E=new Map;V!==null;)V.key!==null?E.set(V.key,V):E.set(V.index,V),V=V.sibling;return E}function H(V,E){return V=X$(V,E),V.index=0,V.sibling=null,V}function X(V,E,F){if(V.index=F,!Y)return V.flags|=1048576,E;if(F=V.alternate,F!==null)return F=F.index,F<E?(V.flags|=33554434,E):F;return V.flags|=33554434,E}function G(V){return Y&&V.alternate===null&&(V.flags|=33554434),V}function N(V,E,F,h){if(E===null||E.tag!==6)return E=f6(F,V.mode,h),E.return=V,E._debugOwner=V,E._debugInfo=xY,E;return E=H(E,F),E.return=V,E._debugInfo=xY,E}function R(V,E,F,h){var r=F.type;if(r===IH)return E=k(V,E,F.props.children,h,F.key),cz(F,E,V),E;if(E!==null&&(E.elementType===r||mG(E,F)||typeof r==="object"&&r!==null&&r.$$typeof===k_&&J$(r)===E.type))return E=H(E,F.props),DO(E,F),E.return=V,E._debugOwner=F._owner,E._debugInfo=xY,E;return E=G8(F,V.mode,h),DO(E,F),E.return=V,E._debugInfo=xY,E}function A(V,E,F,h){if(E===null||E.tag!==4||E.stateNode.containerInfo!==F.containerInfo||E.stateNode.implementation!==F.implementation)return E=m6(F,V.mode,h),E.return=V,E._debugInfo=xY,E;return E=H(E,F.children||[]),E.return=V,E._debugInfo=xY,E}function k(V,E,F,h,r){if(E===null||E.tag!==7)return E=K1(F,V.mode,h,r),E.return=V,E._debugOwner=V,E._debugInfo=xY,E;return E=H(E,F),E.return=V,E._debugInfo=xY,E}function d(V,E,F){if(typeof E==="string"&&E!==""||typeof E==="number"||typeof E==="bigint")return E=f6(""+E,V.mode,F),E.return=V,E._debugOwner=V,E._debugInfo=xY,E;if(typeof E==="object"&&E!==null){switch(E.$$typeof){case I$:return F=G8(E,V.mode,F),DO(F,E),F.return=V,V=iK(E._debugInfo),F._debugInfo=xY,xY=V,F;case zH:return E=m6(E,V.mode,F),E.return=V,E._debugInfo=xY,E;case k_:var h=iK(E._debugInfo);return E=J$(E),V=d(V,E,F),xY=h,V}if(sK(E)||y(E))return F=K1(E,V.mode,F,null),F.return=V,F._debugOwner=V,V=iK(E._debugInfo),F._debugInfo=xY,xY=V,F;if(typeof E.then==="function")return h=iK(E._debugInfo),V=d(V,lz(E),F),xY=h,V;if(E.$$typeof===tB)return d(V,X8(V,E),F);uz(V,E)}return typeof E==="function"&&pz(V,E),typeof E==="symbol"&&iz(V,E),null}function g(V,E,F,h){var r=E!==null?E.key:null;if(typeof F==="string"&&F!==""||typeof F==="number"||typeof F==="bigint")return r!==null?null:N(V,E,""+F,h);if(typeof F==="object"&&F!==null){switch(F.$$typeof){case I$:return F.key===r?(r=iK(F._debugInfo),V=R(V,E,F,h),xY=r,V):null;case zH:return F.key===r?A(V,E,F,h):null;case k_:return r=iK(F._debugInfo),F=J$(F),V=g(V,E,F,h),xY=r,V}if(sK(F)||y(F)){if(r!==null)return null;return r=iK(F._debugInfo),V=k(V,E,F,h,null),xY=r,V}if(typeof F.then==="function")return r=iK(F._debugInfo),V=g(V,E,lz(F),h),xY=r,V;if(F.$$typeof===tB)return g(V,E,X8(V,F),h);uz(V,F)}return typeof F==="function"&&pz(V,F),typeof F==="symbol"&&iz(V,F),null}function u(V,E,F,h,r){if(typeof h==="string"&&h!==""||typeof h==="number"||typeof h==="bigint")return V=V.get(F)||null,N(E,V,""+h,r);if(typeof h==="object"&&h!==null){switch(h.$$typeof){case I$:return F=V.get(h.key===null?F:h.key)||null,V=iK(h._debugInfo),E=R(E,F,h,r),xY=V,E;case zH:return V=V.get(h.key===null?F:h.key)||null,A(E,V,h,r);case k_:var wY=iK(h._debugInfo);return h=J$(h),E=u(V,E,F,h,r),xY=wY,E}if(sK(h)||y(h))return F=V.get(F)||null,V=iK(h._debugInfo),E=k(E,F,h,r,null),xY=V,E;if(typeof h.then==="function")return wY=iK(h._debugInfo),E=u(V,E,F,lz(h),r),xY=wY,E;if(h.$$typeof===tB)return u(V,E,F,X8(E,h),r);uz(E,h)}return typeof h==="function"&&pz(E,h),typeof h==="symbol"&&iz(E,h),null}function IY(V,E,F,h){if(typeof F!=="object"||F===null)return h;switch(F.$$typeof){case I$:case zH:C(V,E,F);var r=F.key;if(typeof r!=="string")break;if(h===null){h=new Set,h.add(r);break}if(!h.has(r)){h.add(r);break}KY(E,function(){console.error("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",r)});break;case k_:F=J$(F),IY(V,E,F,h)}return h}function EY(V,E,F,h){for(var r=null,wY=null,XY=null,AY=E,VY=E=0,NK=null;AY!==null&&VY<F.length;VY++){AY.index>VY?(NK=AY,AY=null):NK=AY.sibling;var UK=g(V,AY,F[VY],h);if(UK===null){AY===null&&(AY=NK);break}r=IY(V,UK,F[VY],r),Y&&AY&&UK.alternate===null&&K(V,AY),E=X(UK,E,VY),XY===null?wY=UK:XY.sibling=UK,XY=UK,AY=NK}if(VY===F.length)return _(V,AY),gY&&u$(V,VY),wY;if(AY===null){for(;VY<F.length;VY++)AY=d(V,F[VY],h),AY!==null&&(r=IY(V,AY,F[VY],r),E=X(AY,E,VY),XY===null?wY=AY:XY.sibling=AY,XY=AY);return gY&&u$(V,VY),wY}for(AY=$(AY);VY<F.length;VY++)NK=u(AY,V,VY,F[VY],h),NK!==null&&(r=IY(V,NK,F[VY],r),Y&&NK.alternate!==null&&AY.delete(NK.key===null?VY:NK.key),E=X(NK,E,VY),XY===null?wY=NK:XY.sibling=NK,XY=NK);return Y&&AY.forEach(function(h0){return K(V,h0)}),gY&&u$(V,VY),wY}function MK(V,E,F,h){if(F==null)throw Error("An iterable object provided no iterator.");for(var r=null,wY=null,XY=E,AY=E=0,VY=null,NK=null,UK=F.next();XY!==null&&!UK.done;AY++,UK=F.next()){XY.index>AY?(VY=XY,XY=null):VY=XY.sibling;var h0=g(V,XY,UK.value,h);if(h0===null){XY===null&&(XY=VY);break}NK=IY(V,h0,UK.value,NK),Y&&XY&&h0.alternate===null&&K(V,XY),E=X(h0,E,AY),wY===null?r=h0:wY.sibling=h0,wY=h0,XY=VY}if(UK.done)return _(V,XY),gY&&u$(V,AY),r;if(XY===null){for(;!UK.done;AY++,UK=F.next())XY=d(V,UK.value,h),XY!==null&&(NK=IY(V,XY,UK.value,NK),E=X(XY,E,AY),wY===null?r=XY:wY.sibling=XY,wY=XY);return gY&&u$(V,AY),r}for(XY=$(XY);!UK.done;AY++,UK=F.next())VY=u(XY,V,AY,UK.value,h),VY!==null&&(NK=IY(V,VY,UK.value,NK),Y&&VY.alternate!==null&&XY.delete(VY.key===null?AY:VY.key),E=X(VY,E,AY),wY===null?r=VY:wY.sibling=VY,wY=VY);return Y&&XY.forEach(function(hC){return K(V,hC)}),gY&&u$(V,AY),r}function uY(V,E,F,h){if(typeof F==="object"&&F!==null&&F.type===IH&&F.key===null&&(cz(F,null,V),F=F.props.children),typeof F==="object"&&F!==null){switch(F.$$typeof){case I$:var r=iK(F._debugInfo);Y:{for(var wY=F.key;E!==null;){if(E.key===wY){if(wY=F.type,wY===IH){if(E.tag===7){_(V,E.sibling),h=H(E,F.props.children),h.return=V,h._debugOwner=F._owner,h._debugInfo=xY,cz(F,h,V),V=h;break Y}}else if(E.elementType===wY||mG(E,F)||typeof wY==="object"&&wY!==null&&wY.$$typeof===k_&&J$(wY)===E.type){_(V,E.sibling),h=H(E,F.props),DO(h,F),h.return=V,h._debugOwner=F._owner,h._debugInfo=xY,V=h;break Y}_(V,E);break}else K(V,E);E=E.sibling}F.type===IH?(h=K1(F.props.children,V.mode,h,F.key),h.return=V,h._debugOwner=V,h._debugInfo=xY,cz(F,h,V),V=h):(h=G8(F,V.mode,h),DO(h,F),h.return=V,h._debugInfo=xY,V=h)}return V=G(V),xY=r,V;case zH:Y:{r=F;for(F=r.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===r.containerInfo&&E.stateNode.implementation===r.implementation){_(V,E.sibling),h=H(E,r.children||[]),h.return=V,V=h;break Y}else{_(V,E);break}else K(V,E);E=E.sibling}h=m6(r,V.mode,h),h.return=V,V=h}return G(V);case k_:return r=iK(F._debugInfo),F=J$(F),V=uY(V,E,F,h),xY=r,V}if(sK(F))return r=iK(F._debugInfo),V=EY(V,E,F,h),xY=r,V;if(y(F)){if(r=iK(F._debugInfo),wY=y(F),typeof wY!=="function")throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");var XY=wY.call(F);if(XY===F){if(V.tag!==0||Object.prototype.toString.call(V.type)!=="[object GeneratorFunction]"||Object.prototype.toString.call(XY)!=="[object Generator]")d3||console.error("Using Iterators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. You can also use an Iterable that can iterate multiple times over the same items."),d3=!0}else F.entries!==wY||n4||(console.error("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),n4=!0);return V=MK(V,E,XY,h),xY=r,V}if(typeof F.then==="function")return r=iK(F._debugInfo),V=uY(V,E,lz(F),h),xY=r,V;if(F.$$typeof===tB)return uY(V,E,X8(V,F),h);uz(V,F)}if(typeof F==="string"&&F!==""||typeof F==="number"||typeof F==="bigint")return r=""+F,E!==null&&E.tag===6?(_(V,E.sibling),h=H(E,r),h.return=V,V=h):(_(V,E),h=f6(r,V.mode,h),h.return=V,h._debugOwner=V,h._debugInfo=xY,V=h),G(V);return typeof F==="function"&&pz(V,F),typeof F==="symbol"&&iz(V,F),_(V,E)}return function(V,E,F,h){var r=xY;xY=null;try{ZX=0;var wY=uY(V,E,F,h);return xH=null,wY}catch(NK){if(NK===l8)throw NK;var XY=L(29,NK,null,V.mode);XY.lanes=h,XY.return=V;var AY=XY._debugInfo=xY;if(XY._debugOwner=V._debugOwner,AY!=null){for(var VY=AY.length-1;0<=VY;VY--)if(typeof AY[VY].stack==="string"){XY._debugOwner=AY[VY];break}}return XY}finally{xY=r}}}function tG(Y,K){var _=O0;TY(p8,_,Y),TY(FH,K,Y),O0=_|K.baseLanes}function g7(Y){TY(p8,O0,Y),TY(FH,FH.current,Y)}function b7(Y){O0=p8.current,lY(FH,Y),lY(p8,Y)}function Y$(Y){var K=Y.alternate;TY(jK,jK.current&DH,Y),TY(BB,Y,Y),$0===null&&(K===null||FH.current!==null?$0=Y:K.memoizedState!==null&&($0=Y))}function eG(Y){if(Y.tag===22){if(TY(jK,jK.current,Y),TY(BB,Y,Y),$0===null){var K=Y.alternate;K!==null&&K.memoizedState!==null&&($0=Y)}}else K$(Y)}function K$(Y){TY(jK,jK.current,Y),TY(BB,BB.current,Y)}function R0(Y){lY(BB,Y),$0===Y&&($0=null),lY(jK,Y)}function nz(Y){for(var K=Y;K!==null;){if(K.tag===13){var _=K.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data===E1||_.data===V1))return K}else if(K.tag===19&&K.memoizedProps.revealOrder!==void 0){if((K.flags&128)!==0)return K}else if(K.child!==null){K.child.return=K,K=K.child;continue}if(K===Y)break;for(;K.sibling===null;){if(K.return===null||K.return===Y)return null;K=K.return}K.sibling.return=K.return,K=K.sibling}return null}function v7(){return{controller:new qC,data:new Map,refCount:0}}function o$(Y){Y.controller.signal.aborted&&console.warn("A cache instance was retained after it was already freed. This likely indicates a bug in React."),Y.refCount++}function MO(Y){Y.refCount--,0>Y.refCount&&console.warn("A cache instance was released after it was already freed. This likely indicates a bug in React."),Y.refCount===0&&RC(CC,function(){Y.controller.abort()})}function pL(Y,K){if(QX===null){var _=QX=[];o4=0,G1=o6(),MH={status:"pending",value:void 0,then:function($){_.push($)}}}return o4++,K.then(Y5,Y5),K}function Y5(){if(--o4===0&&QX!==null){MH!==null&&(MH.status="fulfilled");var Y=QX;QX=null,G1=0,MH=null;for(var K=0;K<Y.length;K++)Y[K]()}}function iL(Y,K){var _=[],$={status:"pending",value:null,reason:null,then:function(H){_.push(H)}};return Y.then(function(){$.status="fulfilled",$.value=K;for(var H=0;H<_.length;H++)_[H](K)},function(H){$.status="rejected",$.reason=H;for(H=0;H<_.length;H++)_[H](void 0)}),$}function f7(){var Y=W1.current;return Y!==null?Y:$K.pooledCache}function oz(Y,K){K===null?TY(W1,W1.current,Y):TY(W1,K.pool,Y)}function K5(){var Y=f7();return Y===null?null:{parent:gK._currentValue,pool:Y}}function MY(){var Y=v;OB===null?OB=[Y]:OB.push(Y)}function o(){var Y=v;if(OB!==null&&(j0++,OB[j0]!==Y)){var K=l(LY);if(!n3.has(K)&&(n3.add(K),OB!==null)){for(var _="",$=0;$<=j0;$++){var H=OB[$],X=$===j0?Y:H;for(H=$+1+". "+H;30>H.length;)H+=" ";H+=X+`
`,_+=H}console.error(`React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://react.dev/link/rules-of-hooks

   Previous render            Next render
   ------------------------------------------------------
%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
`,K,_)}}}function o1(Y){Y===void 0||Y===null||sK(Y)||console.error("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",v,typeof Y)}function sz(){var Y=l(LY);s3.has(Y)||(s3.add(Y),console.error("ReactDOM.useFormState has been renamed to React.useActionState. Please update %s to use React.useActionState.",Y))}function DK(){throw Error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`)}function m7(Y,K){if(qX)return!1;if(K===null)return console.error("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",v),!1;Y.length!==K.length&&console.error(`The final argument passed to %s changed size between renders. The order and size of this array must remain constant.

Previous: %s
Incoming: %s`,v,"["+K.join(", ")+"]","["+Y.join(", ")+"]");for(var _=0;_<K.length&&_<Y.length;_++)if(!I_(Y[_],K[_]))return!1;return!0}function h7(Y,K,_,$,H,X){if(Q$=X,LY=K,OB=Y!==null?Y._debugHookTypes:null,j0=-1,qX=Y!==null&&Y.type!==K.type,Object.prototype.toString.call(_)==="[object AsyncFunction]"||Object.prototype.toString.call(_)==="[object AsyncGeneratorFunction]")X=l(LY),s4.has(X)||(s4.add(X),console.error("async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server."));K.memoizedState=null,K.updateQueue=null,K.lanes=0,f.H=Y!==null&&Y.memoizedState!==null?q$:OB!==null?Z1:L$,N1=X=(K.mode&$_)!==XK;var G=p4(_,$,H);if(N1=!1,SH&&(G=d7(K,_,$,H)),X){nY(!0);try{G=d7(K,_,$,H)}finally{nY(!1)}}return _5(Y,K),G}function _5(Y,K){K._debugHookTypes=OB,K.dependencies===null?y0!==null&&(K.dependencies={lanes:0,firstContext:null,_debugThenableState:y0}):K.dependencies._debugThenableState=y0,f.H=H0;var _=YK!==null&&YK.next!==null;if(Q$=0,OB=v=SK=YK=LY=null,j0=-1,Y!==null&&(Y.flags&31457280)!==(K.flags&31457280)&&console.error("Internal React error: Expected static flag was missing. Please notify the React team."),i8=!1,LX=0,y0=null,_)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");Y===null||lK||(Y=Y.dependencies,Y!==null&&O8(Y)&&(lK=!0)),u8?(u8=!1,Y=!0):Y=!1,Y&&(K=l(K)||"Unknown",o3.has(K)||s4.has(K)||(o3.add(K),console.error("`use` was called from inside a try/catch block. This is not allowed and can lead to unexpected behavior. To handle errors triggered by `use`, wrap your component in a error boundary.")))}function d7(Y,K,_,$){LY=Y;var H=0;do{if(SH&&(y0=null),LX=0,SH=!1,H>=AC)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(H+=1,qX=!1,SK=YK=null,Y.updateQueue!=null){var X=Y.updateQueue;X.lastEffect=null,X.events=null,X.stores=null,X.memoCache!=null&&(X.memoCache.index=0)}j0=-1,f.H=J1,X=p4(K,_,$)}while(SH);return X}function nL(){var Y=f.H,K=Y.useState()[0];return K=typeof K.then==="function"?UO(K):K,Y=Y.useState()[0],(YK!==null?YK.memoizedState:null)!==Y&&(LY.flags|=1024),K}function c7(){var Y=n8!==0;return n8=0,Y}function l7(Y,K,_){K.updateQueue=Y.updateQueue,K.flags=(K.mode&xB)!==XK?K.flags&-201328645:K.flags&-2053,Y.lanes&=~_}function u7(Y){if(i8){for(Y=Y.memoizedState;Y!==null;){var K=Y.queue;K!==null&&(K.pending=null),Y=Y.next}i8=!1}Q$=0,OB=SK=YK=LY=null,j0=-1,v=null,SH=!1,LX=n8=0,y0=null}function C_(){var Y={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return SK===null?LY.memoizedState=SK=Y:SK=SK.next=Y,SK}function rY(){if(YK===null){var Y=LY.alternate;Y=Y!==null?Y.memoizedState:null}else Y=YK.next;var K=SK===null?LY.memoizedState:SK.next;if(K!==null)SK=K,YK=Y;else{if(Y===null){if(LY.alternate===null)throw Error("Update hook called on initial render. This is likely a bug in React. Please file an issue.");throw Error("Rendered more hooks than during the previous render.")}YK=Y,Y={memoizedState:YK.memoizedState,baseState:YK.baseState,baseQueue:YK.baseQueue,queue:YK.queue,next:null},SK===null?LY.memoizedState=SK=Y:SK=SK.next=Y}return SK}function UO(Y){var K=LX;return LX+=1,y0===null&&(y0=iG()),Y=oG(y0,Y,K),K=LY,(SK===null?K.memoizedState:SK.next)===null&&(K=K.alternate,f.H=K!==null&&K.memoizedState!==null?q$:L$),Y}function _$(Y){if(Y!==null&&typeof Y==="object"){if(typeof Y.then==="function")return UO(Y);if(Y.$$typeof===tB)return JK(Y)}throw Error("An unsupported type was passed to use(): "+String(Y))}function s$(Y){var K=null,_=LY.updateQueue;if(_!==null&&(K=_.memoCache),K==null){var $=LY.alternate;$!==null&&($=$.updateQueue,$!==null&&($=$.memoCache,$!=null&&(K={data:$.data.map(function(H){return H.slice()}),index:0})))}if(K==null&&(K={data:[],index:0}),_===null&&(_=a4(),LY.updateQueue=_),_.memoCache=K,_=K.data[K.index],_===void 0||qX)for(_=K.data[K.index]=Array(Y),$=0;$<Y;$++)_[$]=XR;else _.length!==Y&&console.error("Expected a constant size argument for each invocation of useMemoCache. The previous cache was allocated with size %s but size %s was requested.",_.length,Y);return K.index++,_}function wB(Y,K){return typeof K==="function"?K(Y):K}function p7(Y,K,_){var $=C_();if(_!==void 0){var H=_(K);if(N1){nY(!0);try{_(K)}finally{nY(!1)}}}else H=K;return $.memoizedState=$.baseState=H,Y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y,lastRenderedState:H},$.queue=Y,Y=Y.dispatch=rL.bind(null,LY,Y),[$.memoizedState,Y]}function s1(Y){var K=rY();return i7(K,YK,Y)}function i7(Y,K,_){var $=Y.queue;if($===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");$.lastRenderedReducer=_;var H=Y.baseQueue,X=$.pending;if(X!==null){if(H!==null){var G=H.next;H.next=X.next,X.next=G}K.baseQueue!==H&&console.error("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),K.baseQueue=H=X,$.pending=null}if(X=Y.baseState,H===null)Y.memoizedState=X;else{K=H.next;var N=G=null,R=null,A=K,k=!1;do{var d=A.lane&-536870913;if(d!==A.lane?(UY&d)===d:(Q$&d)===d){var g=A.revertLane;if(g===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),d===G1&&(k=!0);else if((Q$&g)===g){A=A.next,g===G1&&(k=!0);continue}else d={lane:0,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},R===null?(N=R=d,G=X):R=R.next=d,LY.lanes|=g,w$|=g;d=A.action,N1&&_(X,d),X=A.hasEagerState?A.eagerState:_(X,d)}else g={lane:d,revertLane:A.revertLane,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},R===null?(N=R=g,G=X):R=R.next=g,LY.lanes|=d,w$|=d;A=A.next}while(A!==null&&A!==K);if(R===null?G=X:R.next=N,!I_(X,Y.memoizedState)&&(lK=!0,k&&(_=MH,_!==null)))throw _;Y.memoizedState=X,Y.baseState=G,Y.baseQueue=R,$.lastRenderedState=X}return H===null&&($.lanes=0),[Y.memoizedState,$.dispatch]}function SO(Y){var K=rY(),_=K.queue;if(_===null)throw Error("Should have a queue. You are likely calling Hooks conditionally, which is not allowed. (https://react.dev/link/invalid-hook-call)");_.lastRenderedReducer=Y;var{dispatch:$,pending:H}=_,X=K.memoizedState;if(H!==null){_.pending=null;var G=H=H.next;do X=Y(X,G.action),G=G.next;while(G!==H);I_(X,K.memoizedState)||(lK=!0),K.memoizedState=X,K.baseQueue===null&&(K.baseState=X),_.lastRenderedState=X}return[X,$]}function n7(Y,K,_){var $=LY,H=C_();if(gY){if(_===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");var X=_();UH||X===_()||(console.error("The result of getServerSnapshot should be cached to avoid an infinite loop"),UH=!0)}else{if(X=K(),UH||(_=K(),I_(X,_)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),UH=!0)),$K===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");(UY&60)!==0||B5($,K,X)}return H.memoizedState=X,_={value:X,getSnapshot:K},H.queue=_,ez(H5.bind(null,$,_,Y),[Y]),$.flags|=2048,r1(HB|kK,$5.bind(null,$,_,X,K),{destroy:void 0},null),X}function az(Y,K,_){var $=LY,H=rY(),X=gY;if(X){if(_===void 0)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");_=_()}else if(_=K(),!UH){var G=K();I_(_,G)||(console.error("The result of getSnapshot should be cached to avoid an infinite loop"),UH=!0)}if(G=!I_((YK||H).memoizedState,_))H.memoizedState=_,lK=!0;H=H.queue;var N=H5.bind(null,$,H,Y);if(w_(2048,kK,N,[Y]),H.getSnapshot!==K||G||SK!==null&&SK.memoizedState.tag&HB){if($.flags|=2048,r1(HB|kK,$5.bind(null,$,H,_,K),{destroy:void 0},null),$K===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");X||(Q$&60)!==0||B5($,K,_)}return _}function B5(Y,K,_){Y.flags|=16384,Y={getSnapshot:K,value:_},K=LY.updateQueue,K===null?(K=a4(),LY.updateQueue=K,K.stores=[Y]):(_=K.stores,_===null?K.stores=[Y]:_.push(Y))}function $5(Y,K,_,$){K.value=_,K.getSnapshot=$,O5(K)&&X5(Y)}function H5(Y,K,_){return _(function(){O5(K)&&X5(Y)})}function O5(Y){var K=Y.getSnapshot;Y=Y.value;try{var _=K();return!I_(Y,_)}catch($){return!0}}function X5(Y){var K=Y_(Y,2);K!==null&&RK(K,Y,2)}function o7(Y){var K=C_();if(typeof Y==="function"){var _=Y;if(Y=_(),N1){nY(!0);try{_()}finally{nY(!1)}}}return K.memoizedState=K.baseState=Y,K.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wB,lastRenderedState:Y},K}function s7(Y){Y=o7(Y);var K=Y.queue,_=F5.bind(null,LY,K);return K.dispatch=_,[Y.memoizedState,_]}function a7(Y){var K=C_();K.memoizedState=K.baseState=Y;var _={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return K.queue=_,K=I6.bind(null,LY,!0,_),_.dispatch=K,[Y,K]}function z5(Y,K){var _=rY();return I5(_,YK,Y,K)}function I5(Y,K,_,$){return Y.baseState=_,i7(Y,YK,typeof $==="function"?$:wB)}function P5(Y,K){var _=rY();if(YK!==null)return I5(_,YK,Y,K);return _.baseState=Y,[Y,_.queue.dispatch]}function oL(Y,K,_,$,H){if(B8(Y))throw Error("Cannot update form state while rendering.");if(Y=K.action,Y!==null){var X={payload:H,action:Y,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){X.listeners.push(G)}};f.T!==null?_(!0):X.isTransition=!1,$(X),_=K.pending,_===null?(X.next=K.pending=X,G5(K,X)):(X.next=_.next,K.pending=_.next=X)}}function G5(Y,K){var{action:_,payload:$}=K,H=Y.state;if(K.isTransition){var X=f.T,G={};f.T=G,f.T._updatedFibers=new Set;try{var N=_(H,$),R=f.S;R!==null&&R(G,N),W5(Y,K,N)}catch(A){r7(Y,K,A)}finally{f.T=X,X===null&&G._updatedFibers&&(Y=G._updatedFibers.size,G._updatedFibers.clear(),10<Y&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}else try{G=_(H,$),W5(Y,K,G)}catch(A){r7(Y,K,A)}}function W5(Y,K,_){_!==null&&typeof _==="object"&&typeof _.then==="function"?(_.then(function($){N5(Y,K,$)},function($){return r7(Y,K,$)}),K.isTransition||console.error("An async function was passed to useActionState, but it was dispatched outside of an action context. This is likely not what you intended. Either pass the dispatch function to an `action` prop, or dispatch manually inside `startTransition`")):N5(Y,K,_)}function N5(Y,K,_){K.status="fulfilled",K.value=_,Z5(K),Y.state=_,K=Y.pending,K!==null&&(_=K.next,_===K?Y.pending=null:(_=_.next,K.next=_,G5(Y,_)))}function r7(Y,K,_){var $=Y.pending;if(Y.pending=null,$!==null){$=$.next;do K.status="rejected",K.reason=_,Z5(K),K=K.next;while(K!==$)}Y.action=null}function Z5(Y){Y=Y.listeners;for(var K=0;K<Y.length;K++)Y[K]()}function J5(Y,K){return K}function a1(Y,K){if(gY){var _=$K.formState;if(_!==null){Y:{var $=LY;if(gY){if(rK){K:{var H=rK;for(var X=B0;H.nodeType!==8;){if(!X){H=null;break K}if(H=a_(H.nextSibling),H===null){H=null;break K}}X=H.data,H=X===EI||X===gZ?H:null}if(H){rK=a_(H.nextSibling),$=H.data===EI;break Y}}n$($)}$=!1}$&&(K=_[0])}}return _=C_(),_.memoizedState=_.baseState=K,$={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J5,lastRenderedState:K},_.queue=$,_=F5.bind(null,LY,$),$.dispatch=_,$=o7(!1),X=I6.bind(null,LY,!1,$.queue),$=C_(),H={state:K,dispatch:null,action:Y,pending:null},$.queue=H,_=oL.bind(null,LY,H,X,_),H.dispatch=_,$.memoizedState=Y,[K,_,!1]}function rz(Y){var K=rY();return Q5(K,YK,Y)}function Q5(Y,K,_){K=i7(Y,K,J5)[0],Y=s1(wB)[0],K=typeof K==="object"&&K!==null&&typeof K.then==="function"?UO(K):K;var $=rY(),H=$.queue,X=H.dispatch;return _!==$.memoizedState&&(LY.flags|=2048,r1(HB|kK,sL.bind(null,H,_),{destroy:void 0},null)),[K,X,Y]}function sL(Y,K){Y.action=K}function tz(Y){var K=rY(),_=YK;if(_!==null)return Q5(K,_,Y);rY(),K=K.memoizedState,_=rY();var $=_.queue.dispatch;return _.memoizedState=Y,[K,$,!1]}function r1(Y,K,_,$){return Y={tag:Y,create:K,inst:_,deps:$,next:null},K=LY.updateQueue,K===null&&(K=a4(),LY.updateQueue=K),_=K.lastEffect,_===null?K.lastEffect=Y.next=Y:($=_.next,_.next=Y,Y.next=$,K.lastEffect=Y),Y}function t7(Y){var K=C_();return Y={current:Y},K.memoizedState=Y}function a$(Y,K,_,$){var H=C_();LY.flags|=Y,H.memoizedState=r1(HB|K,_,{destroy:void 0},$===void 0?null:$)}function w_(Y,K,_,$){var H=rY();$=$===void 0?null:$;var X=H.memoizedState.inst;YK!==null&&$!==null&&m7($,YK.memoizedState.deps)?H.memoizedState=r1(K,_,X,$):(LY.flags|=Y,H.memoizedState=r1(HB|K,_,X,$))}function ez(Y,K){(LY.mode&xB)!==XK&&(LY.mode&F3)===XK?a$(142608384,kK,Y,K):a$(8390656,kK,Y,K)}function e7(Y,K){var _=4194308;return(LY.mode&xB)!==XK&&(_|=67108864),a$(_,tK,Y,K)}function L5(Y,K){if(typeof K==="function"){Y=Y();var _=K(Y);return function(){typeof _==="function"?_():K(null)}}if(K!==null&&K!==void 0)return K.hasOwnProperty("current")||console.error("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(K).join(", ")+"}"),Y=Y(),K.current=Y,function(){K.current=null}}function Y6(Y,K,_){typeof K!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",K!==null?typeof K:"null"),_=_!==null&&_!==void 0?_.concat([Y]):null;var $=4194308;(LY.mode&xB)!==XK&&($|=67108864),a$($,tK,L5.bind(null,K,Y),_)}function Y8(Y,K,_){typeof K!=="function"&&console.error("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",K!==null?typeof K:"null"),_=_!==null&&_!==void 0?_.concat([Y]):null,w_(4,tK,L5.bind(null,K,Y),_)}function K6(Y,K){return C_().memoizedState=[Y,K===void 0?null:K],Y}function K8(Y,K){var _=rY();K=K===void 0?null:K;var $=_.memoizedState;if(K!==null&&m7(K,$[1]))return $[0];return _.memoizedState=[Y,K],Y}function _6(Y,K){var _=C_();K=K===void 0?null:K;var $=Y();if(N1){nY(!0);try{Y()}finally{nY(!1)}}return _.memoizedState=[$,K],$}function _8(Y,K){var _=rY();K=K===void 0?null:K;var $=_.memoizedState;if(K!==null&&m7(K,$[1]))return $[0];if($=Y(),N1){nY(!0);try{Y()}finally{nY(!1)}}return _.memoizedState=[$,K],$}function B6(Y,K){var _=C_();return $6(_,Y,K)}function q5(Y,K){var _=rY();return C5(_,YK.memoizedState,Y,K)}function R5(Y,K){var _=rY();return YK===null?$6(_,Y,K):C5(_,YK.memoizedState,Y,K)}function $6(Y,K,_){if(_===void 0||(Q$&1073741824)!==0)return Y.memoizedState=K;return Y.memoizedState=_,Y=VW(),LY.lanes|=Y,w$|=Y,_}function C5(Y,K,_,$){if(I_(_,K))return _;if(FH.current!==null)return Y=$6(Y,_,$),I_(Y,K)||(lK=!0),Y;if((Q$&42)===0)return lK=!0,Y.memoizedState=_;return Y=VW(),LY.lanes|=Y,w$|=Y,K}function w5(Y,K,_,$,H){var X=GK.p;GK.p=X!==0&&X<VB?X:VB;var G=f.T,N={};f.T=N,I6(Y,!1,K,_),N._updatedFibers=new Set;try{var R=H(),A=f.S;if(A!==null&&A(N,R),R!==null&&typeof R==="object"&&typeof R.then==="function"){var k=iL(R,$);TO(Y,K,k,j_(Y))}else TO(Y,K,$,j_(Y))}catch(d){TO(Y,K,{then:function(){},status:"rejected",reason:d},j_(Y))}finally{GK.p=X,f.T=G,G===null&&N._updatedFibers&&(Y=N._updatedFibers.size,N._updatedFibers.clear(),10<Y&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."))}}function H6(Y,K,_,$){if(Y.tag!==5)throw Error("Expected the form instance to be a HostComponent. This is a bug in React.");var H=A5(Y).queue;w5(Y,H,K,F1,_===null?w:function(){return E5(Y),_($)})}function A5(Y){var K=Y.memoizedState;if(K!==null)return K;K={memoizedState:F1,baseState:F1,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wB,lastRenderedState:F1},next:null};var _={};return K.next={memoizedState:_,baseState:_,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wB,lastRenderedState:_},next:null},Y.memoizedState=K,Y=Y.alternate,Y!==null&&(Y.memoizedState=K),K}function E5(Y){f.T===null&&console.error("requestFormReset was called outside a transition or action. To fix, move to an action, or wrap with startTransition.");var K=A5(Y).next.queue;TO(Y,K,{},j_(Y))}function O6(){var Y=o7(!1);return Y=w5.bind(null,LY,Y.queue,!0,!1),C_().memoizedState=Y,[!1,Y]}function V5(){var Y=s1(wB)[0],K=rY().memoizedState;return[typeof Y==="boolean"?Y:UO(Y),K]}function x5(){var Y=SO(wB)[0],K=rY().memoizedState;return[typeof Y==="boolean"?Y:UO(Y),K]}function r$(){return JK(jX)}function X6(){var Y=C_(),K=$K.identifierPrefix;if(gY){var _=S0,$=U0;_=($&~(1<<32-X_($)-1)).toString(32)+_,K=":"+K+"R"+_,_=n8++,0<_&&(K+="H"+_.toString(32)),K+=":"}else _=wC++,K=":"+K+"r"+_.toString(32)+":";return Y.memoizedState=K}function z6(){return C_().memoizedState=aL.bind(null,LY)}function aL(Y,K){for(var _=Y.return;_!==null;){switch(_.tag){case 24:case 3:var $=j_(_);Y=$$($);var H=H$(_,Y,$);H!==null&&(RK(H,_,$),kO(H,_,$)),_=v7(),K!==null&&K!==void 0&&H!==null&&console.error("The seed argument is not enabled outside experimental channels."),Y.payload={cache:_};return}_=_.return}}function rL(Y,K,_,$){typeof $==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),$=j_(Y),_={lane:$,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null},B8(Y)?D5(K,_):(_=D7(Y,K,_,$),_!==null&&(RK(_,Y,$),M5(_,K,$))),IK(Y,$)}function F5(Y,K,_,$){typeof $==="function"&&console.error("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect()."),$=j_(Y),TO(Y,K,_,$),IK(Y,$)}function TO(Y,K,_,$){var H={lane:$,revertLane:0,action:_,hasEagerState:!1,eagerState:null,next:null};if(B8(Y))D5(K,H);else{var X=Y.alternate;if(Y.lanes===0&&(X===null||X.lanes===0)&&(X=K.lastRenderedReducer,X!==null)){var G=f.H;f.H=W_;try{var N=K.lastRenderedState,R=X(N,_);if(H.hasEagerState=!0,H.eagerState=R,I_(R,N))return vz(Y,K,H,0),$K===null&&bz(),!1}catch(A){}finally{f.H=G}}if(_=D7(Y,K,H,$),_!==null)return RK(_,Y,$),M5(_,K,$),!0}return!1}function I6(Y,K,_,$){if(f.T===null&&G1===0&&console.error("An optimistic state update occurred outside a transition or action. To fix, move the update to an action, or wrap with startTransition."),$={lane:2,revertLane:o6(),action:$,hasEagerState:!1,eagerState:null,next:null},B8(Y)){if(K)throw Error("Cannot update optimistic state while rendering.");console.error("Cannot call startTransition while rendering.")}else K=D7(Y,_,$,2),K!==null&&RK(K,Y,2);IK(Y,2)}function B8(Y){var K=Y.alternate;return Y===LY||K!==null&&K===LY}function D5(Y,K){SH=i8=!0;var _=Y.pending;_===null?K.next=K:(K.next=_.next,_.next=K),Y.pending=K}function M5(Y,K,_){if((_&4194176)!==0){var $=K.lanes;$&=Y.pendingLanes,_|=$,K.lanes=_,h1(Y,_)}}function P6(Y){if(Y!==null&&typeof Y!=="function"){var K=String(Y);OZ.has(K)||(OZ.add(K),console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",Y))}}function G6(Y,K,_,$){var H=Y.memoizedState,X=_($,H);if(Y.mode&$_){nY(!0);try{X=_($,H)}finally{nY(!1)}}X===void 0&&(K=b(K)||"Component",_Z.has(K)||(_Z.add(K),console.error("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",K))),H=X===null||X===void 0?H:FY({},H,X),Y.memoizedState=H,Y.lanes===0&&(Y.updateQueue.baseState=H)}function U5(Y,K,_,$,H,X,G){var N=Y.stateNode;if(typeof N.shouldComponentUpdate==="function"){if(_=N.shouldComponentUpdate($,X,G),Y.mode&$_){nY(!0);try{_=N.shouldComponentUpdate($,X,G)}finally{nY(!1)}}return _===void 0&&console.error("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",b(K)||"Component"),_}return K.prototype&&K.prototype.isPureReactComponent?!AO(_,$)||!AO(H,X):!0}function S5(Y,K,_,$){var H=K.state;typeof K.componentWillReceiveProps==="function"&&K.componentWillReceiveProps(_,$),typeof K.UNSAFE_componentWillReceiveProps==="function"&&K.UNSAFE_componentWillReceiveProps(_,$),K.state!==H&&(Y=l(Y)||"Component",r3.has(Y)||(r3.add(Y),console.error("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",Y)),r4.enqueueReplaceState(K,K.state,null))}function t$(Y,K){var _=K;if("ref"in K){_={};for(var $ in K)$!=="ref"&&(_[$]=K[$])}if(Y=Y.defaultProps){_===K&&(_=FY({},_));for(var H in Y)_[H]===void 0&&(_[H]=Y[H])}return _}function T5(Y,K){o8(Y),Y=TH?"An error occurred in the <"+TH+"> component.":"An error occurred in one of your React components.";var _=f.getCurrentStack,$=K.componentStack!=null?K.componentStack:"";f.getCurrentStack=function(){return $};try{console.warn(`%s

%s
`,Y,`Consider adding an error boundary to your tree to customize error handling behavior.
Visit https://react.dev/link/error-boundaries to learn more about error boundaries.`)}finally{f.getCurrentStack=_}}function y5(Y,K){var _=TH?"The above error occurred in the <"+TH+"> component.":"The above error occurred in one of your React components.",$="React will try to recreate this component tree from scratch using the error boundary you provided, "+((t4||"Anonymous")+"."),H=f.getCurrentStack,X=K.componentStack!=null?K.componentStack:"";f.getCurrentStack=function(){return X};try{typeof Y==="object"&&Y!==null&&typeof Y.environmentName==="string"?rq("error",[`%o

%s

%s
`,Y,_,$],Y.environmentName)():console.error(`%o

%s

%s
`,Y,_,$)}finally{f.getCurrentStack=H}}function j5(Y){o8(Y)}function $8(Y,K){try{TH=K.source?l(K.source):null,t4=null;var _=K.value;if(f.actQueue!==null)f.thrownErrors.push(_);else{var $=Y.onUncaughtError;$(_,{componentStack:K.stack})}}catch(H){setTimeout(function(){throw H})}}function k5(Y,K,_){try{TH=_.source?l(_.source):null,t4=l(K);var $=Y.onCaughtError;$(_.value,{componentStack:_.stack,errorBoundary:K.tag===1?K.stateNode:null})}catch(H){setTimeout(function(){throw H})}}function W6(Y,K,_){return _=$$(_),_.tag=BI,_.payload={element:null},_.callback=function(){KY(K.source,$8,Y,K)},_}function N6(Y){return Y=$$(Y),Y.tag=BI,Y}function Z6(Y,K,_,$){var H=_.type.getDerivedStateFromError;if(typeof H==="function"){var X=$.value;Y.payload=function(){return H(X)},Y.callback=function(){hG(_),KY($.source,k5,K,_,$)}}var G=_.stateNode;G!==null&&typeof G.componentDidCatch==="function"&&(Y.callback=function(){hG(_),KY($.source,k5,K,_,$),typeof H!=="function"&&(E$===null?E$=new Set([this]):E$.add(this)),JC(this,$),typeof H==="function"||(_.lanes&2)===0&&console.error("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",l(_)||"Unknown")})}function tL(Y,K,_,$,H){if(_.flags|=32768,AB&&dO(Y,H),$!==null&&typeof $==="object"&&typeof $.then==="function"){if(K=_.alternate,K!==null&&jO(K,_,H,!0),gY&&(T0=!0),_=BB.current,_!==null){switch(_.tag){case 13:return $0===null?c6():_.alternate===null&&VK===b0&&(VK=XI),_.flags&=-257,_.flags|=65536,_.lanes=H,$===u4?_.flags|=16384:(K=_.updateQueue,K===null?_.updateQueue=new Set([$]):K.add($),p6(Y,$,H)),!1;case 22:return _.flags|=65536,$===u4?_.flags|=16384:(K=_.updateQueue,K===null?(K={transitions:null,markerInstances:null,retryQueue:new Set([$])},_.updateQueue=K):(_=K.retryQueue,_===null?K.retryQueue=new Set([$]):_.add($)),p6(Y,$,H)),!1}throw Error("Unexpected Suspense handler tag ("+_.tag+"). This is a bug in React.")}return p6(Y,$,H),c6(),!1}if(gY)return T0=!0,K=BB.current,K!==null?((K.flags&65536)===0&&(K.flags|=256),K.flags|=65536,K.lanes=H,$!==l4&&FO(T_(Error("There was an error while hydrating but React was able to recover by instead client rendering from the nearest Suspense boundary.",{cause:$}),_))):($!==l4&&FO(T_(Error("There was an error while hydrating but React was able to recover by instead client rendering the entire root.",{cause:$}),_)),Y=Y.current.alternate,Y.flags|=65536,H&=-H,Y.lanes|=H,$=T_($,_),H=W6(Y.stateNode,$,H),z8(Y,H),VK!==Q1&&(VK=vH)),!1;var X=T_(Error("There was an error during concurrent rendering but React was able to recover by instead synchronously rendering the entire root.",{cause:$}),_);if(xX===null?xX=[X]:xX.push(X),VK!==Q1&&(VK=vH),K===null)return!0;$=T_($,_),_=K;do{switch(_.tag){case 3:return _.flags|=65536,Y=H&-H,_.lanes|=Y,Y=W6(_.stateNode,$,Y),z8(_,Y),!1;case 1:if(K=_.type,X=_.stateNode,(_.flags&128)===0&&(typeof K.getDerivedStateFromError==="function"||X!==null&&typeof X.componentDidCatch==="function"&&(E$===null||!E$.has(X))))return _.flags|=65536,H&=-H,_.lanes|=H,H=N6(H),Z6(H,Y,_,$),z8(_,H),!1}_=_.return}while(_!==null);return!1}function nK(Y,K,_,$){K.child=Y===null?p3(K,null,_,$):P1(K,Y.child,_,$)}function g5(Y,K,_,$,H){_=_.render;var X=K.ref;if("ref"in $){var G={};for(var N in $)N!=="ref"&&(G[N]=$[N])}else G=$;if(e$(K),x(K),$=h7(Y,K,_,G,X,H),N=c7(),_Y(),Y!==null&&!lK)return l7(Y,K,H),C0(Y,K,H);return gY&&N&&y7(K),K.flags|=1,nK(Y,K,$,H),K.child}function b5(Y,K,_,$,H){if(Y===null){var X=_.type;if(typeof X==="function"&&!b6(X)&&X.defaultProps===void 0&&_.compare===null)return _=l$(X),K.tag=15,K.type=_,Q6(K,X),v5(Y,K,_,$,H);return Y=v6(_.type,null,$,K,K.mode,H),Y.ref=K.ref,Y.return=K,K.child=Y}if(X=Y.child,!E6(Y,H)){var G=X.memoizedProps;if(_=_.compare,_=_!==null?_:AO,_(G,$)&&Y.ref===K.ref)return C0(Y,K,H)}return K.flags|=1,Y=X$(X,$),Y.ref=K.ref,Y.return=K,K.child=Y}function v5(Y,K,_,$,H){if(Y!==null){var X=Y.memoizedProps;if(AO(X,$)&&Y.ref===K.ref&&K.type===Y.type)if(lK=!1,K.pendingProps=$=X,E6(Y,H))(Y.flags&131072)!==0&&(lK=!0);else return K.lanes=Y.lanes,C0(Y,K,H)}return J6(Y,K,_,$,H)}function f5(Y,K,_){var $=K.pendingProps,H=$.children,X=(K.stateNode._pendingVisibility&O1)!==0,G=Y!==null?Y.memoizedState:null;if(yO(Y,K),$.mode==="hidden"||X){if((K.flags&128)!==0){if($=G!==null?G.baseLanes|_:_,Y!==null){H=K.child=Y.child;for(X=0;H!==null;)X=X|H.lanes|H.childLanes,H=H.sibling;K.childLanes=X&~$}else K.childLanes=0,K.child=null;return m5(Y,K,$,_)}if((_&536870912)!==0)K.memoizedState={baseLanes:0,cachePool:null},Y!==null&&oz(K,G!==null?G.cachePool:null),G!==null?tG(K,G):g7(K),eG(K);else return K.lanes=K.childLanes=536870912,m5(Y,K,G!==null?G.baseLanes|_:_,_)}else G!==null?(oz(K,G.cachePool),tG(K,G),K$(K),K.memoizedState=null):(Y!==null&&oz(K,null),g7(K),K$(K));return nK(Y,K,H,_),K.child}function m5(Y,K,_,$){var H=f7();return H=H===null?null:{parent:gK._currentValue,pool:H},K.memoizedState={baseLanes:_,cachePool:H},Y!==null&&oz(K,null),g7(K),eG(K),Y!==null&&jO(Y,K,$,!0),null}function yO(Y,K){var _=K.ref;if(_===null)Y!==null&&Y.ref!==null&&(K.flags|=2097664);else{if(typeof _!=="function"&&typeof _!=="object")throw Error("Expected ref to be a function, an object returned by React.createRef(), or undefined/null.");if(Y===null||Y.ref!==_)K.flags|=2097664}}function J6(Y,K,_,$,H){if(_.prototype&&typeof _.prototype.render==="function"){var X=b(_)||"Unknown";zZ[X]||(console.error("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",X,X),zZ[X]=!0)}if(K.mode&$_&&FB.recordLegacyContextWarning(K,null),Y===null&&(Q6(K,K.type),_.contextTypes&&(X=b(_)||"Unknown",PZ[X]||(PZ[X]=!0,console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with React.useContext() instead. (https://react.dev/link/legacy-context)",X)))),e$(K),x(K),_=h7(Y,K,_,$,void 0,H),$=c7(),_Y(),Y!==null&&!lK)return l7(Y,K,H),C0(Y,K,H);return gY&&$&&y7(K),K.flags|=1,nK(Y,K,_,H),K.child}function h5(Y,K,_,$,H,X){if(e$(K),x(K),j0=-1,qX=Y!==null&&Y.type!==K.type,K.updateQueue=null,_=d7(K,$,_,H),_5(Y,K),$=c7(),_Y(),Y!==null&&!lK)return l7(Y,K,X),C0(Y,K,X);return gY&&$&&y7(K),K.flags|=1,nK(Y,K,_,X),K.child}function d5(Y,K,_,$,H){switch(Z(K)){case!1:var X=K.stateNode,G=new K.type(K.memoizedProps,X.context).state;X.updater.enqueueSetState(X,G,null);break;case!0:K.flags|=128,K.flags|=65536,X=Error("Simulated error coming from DevTools");var N=H&-H;if(K.lanes|=N,G=$K,G===null)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");N=N6(N),Z6(N,G,K,T_(X,K)),z8(K,N)}if(e$(K),K.stateNode===null){if(G=Z$,X=_.contextType,"contextType"in _&&X!==null&&(X===void 0||X.$$typeof!==tB)&&!HZ.has(_)&&(HZ.add(_),N=X===void 0?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":typeof X!=="object"?" However, it is set to a "+typeof X+".":X.$$typeof===Z4?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(X).join(", ")+"}.",console.error("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",b(_)||"Component",N)),typeof X==="object"&&X!==null&&(G=JK(X)),X=new _($,G),K.mode&$_){nY(!0);try{X=new _($,G)}finally{nY(!1)}}if(G=K.memoizedState=X.state!==null&&X.state!==void 0?X.state:null,X.updater=r4,K.stateNode=X,X._reactInternals=K,X._reactInternalInstance=a3,typeof _.getDerivedStateFromProps==="function"&&G===null&&(G=b(_)||"Component",t3.has(G)||(t3.add(G),console.error("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",G,X.state===null?"null":"undefined",G))),typeof _.getDerivedStateFromProps==="function"||typeof X.getSnapshotBeforeUpdate==="function"){var R=N=G=null;if(typeof X.componentWillMount==="function"&&X.componentWillMount.__suppressDeprecationWarning!==!0?G="componentWillMount":typeof X.UNSAFE_componentWillMount==="function"&&(G="UNSAFE_componentWillMount"),typeof X.componentWillReceiveProps==="function"&&X.componentWillReceiveProps.__suppressDeprecationWarning!==!0?N="componentWillReceiveProps":typeof X.UNSAFE_componentWillReceiveProps==="function"&&(N="UNSAFE_componentWillReceiveProps"),typeof X.componentWillUpdate==="function"&&X.componentWillUpdate.__suppressDeprecationWarning!==!0?R="componentWillUpdate":typeof X.UNSAFE_componentWillUpdate==="function"&&(R="UNSAFE_componentWillUpdate"),G!==null||N!==null||R!==null){X=b(_)||"Component";var A=typeof _.getDerivedStateFromProps==="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";YZ.has(X)||(YZ.add(X),console.error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

%s uses %s but also contains the following legacy lifecycles:%s%s%s

The above lifecycles should be removed. Learn more about this warning here:
https://react.dev/link/unsafe-component-lifecycles`,X,A,G!==null?`
  `+G:"",N!==null?`
  `+N:"",R!==null?`
  `+R:""))}}X=K.stateNode,G=b(_)||"Component",X.render||(_.prototype&&typeof _.prototype.render==="function"?console.error("No `render` method found on the %s instance: did you accidentally return an object from the constructor?",G):console.error("No `render` method found on the %s instance: you may have forgotten to define `render`.",G)),!X.getInitialState||X.getInitialState.isReactClassApproved||X.state||console.error("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",G),X.getDefaultProps&&!X.getDefaultProps.isReactClassApproved&&console.error("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",G),X.contextType&&console.error("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",G),_.childContextTypes&&!$Z.has(_)&&($Z.add(_),console.error("%s uses the legacy childContextTypes API which was removed in React 19. Use React.createContext() instead. (https://react.dev/link/legacy-context)",G)),_.contextTypes&&!BZ.has(_)&&(BZ.add(_),console.error("%s uses the legacy contextTypes API which was removed in React 19. Use React.createContext() with static contextType instead. (https://react.dev/link/legacy-context)",G)),typeof X.componentShouldUpdate==="function"&&console.error("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",G),_.prototype&&_.prototype.isPureReactComponent&&typeof X.shouldComponentUpdate!=="undefined"&&console.error("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",b(_)||"A pure component"),typeof X.componentDidUnmount==="function"&&console.error("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",G),typeof X.componentDidReceiveProps==="function"&&console.error("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",G),typeof X.componentWillRecieveProps==="function"&&console.error("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",G),typeof X.UNSAFE_componentWillRecieveProps==="function"&&console.error("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",G),N=X.props!==$,X.props!==void 0&&N&&console.error("When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",G),X.defaultProps&&console.error("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",G,G),typeof X.getSnapshotBeforeUpdate!=="function"||typeof X.componentDidUpdate==="function"||e3.has(_)||(e3.add(_),console.error("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",b(_))),typeof X.getDerivedStateFromProps==="function"&&console.error("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",G),typeof X.getDerivedStateFromError==="function"&&console.error("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",G),typeof _.getSnapshotBeforeUpdate==="function"&&console.error("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",G),(N=X.state)&&(typeof N!=="object"||sK(N))&&console.error("%s.state: must be set to an object or null",G),typeof X.getChildContext==="function"&&typeof _.childContextTypes!=="object"&&console.error("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",G),X=K.stateNode,X.props=$,X.state=K.memoizedState,X.refs={},D6(K),G=_.contextType,X.context=typeof G==="object"&&G!==null?JK(G):Z$,X.state===$&&(G=b(_)||"Component",KZ.has(G)||(KZ.add(G),console.error("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",G))),K.mode&$_&&FB.recordLegacyContextWarning(K,X),FB.recordUnsafeLifecycleWarnings(K,X),X.state=K.memoizedState,G=_.getDerivedStateFromProps,typeof G==="function"&&(G6(K,_,G,$),X.state=K.memoizedState),typeof _.getDerivedStateFromProps==="function"||typeof X.getSnapshotBeforeUpdate==="function"||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(G=X.state,typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount(),G!==X.state&&(console.error("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",l(K)||"Component"),r4.enqueueReplaceState(X,X.state,null)),bO(K,$,X,H),gO(),X.state=K.memoizedState),typeof X.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&xB)!==XK&&(K.flags|=67108864),X=!0}else if(Y===null){X=K.stateNode;var k=K.memoizedProps;N=t$(_,k),X.props=N;var d=X.context;R=_.contextType,G=Z$,typeof R==="object"&&R!==null&&(G=JK(R)),A=_.getDerivedStateFromProps,R=typeof A==="function"||typeof X.getSnapshotBeforeUpdate==="function",k=K.pendingProps!==k,R||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(k||d!==G)&&S5(K,X,$,G),C$=!1;var g=K.memoizedState;X.state=g,bO(K,$,X,H),gO(),d=K.memoizedState,k||g!==d||C$?(typeof A==="function"&&(G6(K,_,A,$),d=K.memoizedState),(N=C$||U5(K,_,N,$,g,d,G))?(R||typeof X.UNSAFE_componentWillMount!=="function"&&typeof X.componentWillMount!=="function"||(typeof X.componentWillMount==="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount==="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&xB)!==XK&&(K.flags|=67108864)):(typeof X.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&xB)!==XK&&(K.flags|=67108864),K.memoizedProps=$,K.memoizedState=d),X.props=$,X.state=d,X.context=G,X=N):(typeof X.componentDidMount==="function"&&(K.flags|=4194308),(K.mode&xB)!==XK&&(K.flags|=67108864),X=!1)}else{X=K.stateNode,M6(Y,K),G=K.memoizedProps,R=t$(_,G),X.props=R,A=K.pendingProps,g=X.context,d=_.contextType,N=Z$,typeof d==="object"&&d!==null&&(N=JK(d)),k=_.getDerivedStateFromProps,(d=typeof k==="function"||typeof X.getSnapshotBeforeUpdate==="function")||typeof X.UNSAFE_componentWillReceiveProps!=="function"&&typeof X.componentWillReceiveProps!=="function"||(G!==A||g!==N)&&S5(K,X,$,N),C$=!1,g=K.memoizedState,X.state=g,bO(K,$,X,H),gO();var u=K.memoizedState;G!==A||g!==u||C$||Y!==null&&Y.dependencies!==null&&O8(Y.dependencies)?(typeof k==="function"&&(G6(K,_,k,$),u=K.memoizedState),(R=C$||U5(K,_,R,$,g,u,N)||Y!==null&&Y.dependencies!==null&&O8(Y.dependencies))?(d||typeof X.UNSAFE_componentWillUpdate!=="function"&&typeof X.componentWillUpdate!=="function"||(typeof X.componentWillUpdate==="function"&&X.componentWillUpdate($,u,N),typeof X.UNSAFE_componentWillUpdate==="function"&&X.UNSAFE_componentWillUpdate($,u,N)),typeof X.componentDidUpdate==="function"&&(K.flags|=4),typeof X.getSnapshotBeforeUpdate==="function"&&(K.flags|=1024)):(typeof X.componentDidUpdate!=="function"||G===Y.memoizedProps&&g===Y.memoizedState||(K.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||G===Y.memoizedProps&&g===Y.memoizedState||(K.flags|=1024),K.memoizedProps=$,K.memoizedState=u),X.props=$,X.state=u,X.context=N,X=R):(typeof X.componentDidUpdate!=="function"||G===Y.memoizedProps&&g===Y.memoizedState||(K.flags|=4),typeof X.getSnapshotBeforeUpdate!=="function"||G===Y.memoizedProps&&g===Y.memoizedState||(K.flags|=1024),X=!1)}if(N=X,yO(Y,K),G=(K.flags&128)!==0,N||G){if(N=K.stateNode,f.getCurrentStack=K===null?null:O_,r_=!1,K_=K,G&&typeof _.getDerivedStateFromError!=="function")_=null,E_=-1;else{if(x(K),_=T3(N),K.mode&$_){nY(!0);try{T3(N)}finally{nY(!1)}}_Y()}K.flags|=1,Y!==null&&G?(K.child=P1(K,Y.child,null,H),K.child=P1(K,null,_,H)):nK(Y,K,_,H),K.memoizedState=N.state,Y=K.child}else Y=C0(Y,K,H);return H=K.stateNode,X&&H.props!==$&&(yH||console.error("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",l(K)||"a component"),yH=!0),Y}function c5(Y,K,_,$){return xO(),K.flags|=256,nK(Y,K,_,$),K.child}function Q6(Y,K){K&&K.childContextTypes&&console.error(`childContextTypes cannot be defined on a function component.
  %s.childContextTypes = ...`,K.displayName||K.name||"Component"),typeof K.getDerivedStateFromProps==="function"&&(Y=b(K)||"Unknown",GZ[Y]||(console.error("%s: Function components do not support getDerivedStateFromProps.",Y),GZ[Y]=!0)),typeof K.contextType==="object"&&K.contextType!==null&&(K=b(K)||"Unknown",IZ[K]||(console.error("%s: Function components do not support contextType.",K),IZ[K]=!0))}function L6(Y){return{baseLanes:Y,cachePool:K5()}}function q6(Y,K,_){return Y=Y!==null?Y.childLanes&~_:0,K&&(Y|=f_),Y}function l5(Y,K,_){var $,H=K.pendingProps;W(K)&&(K.flags|=128);var X=!1,G=(K.flags&128)!==0;if(($=G)||($=Y!==null&&Y.memoizedState===null?!1:(jK.current&JX)!==0),$&&(X=!0,K.flags&=-129),$=(K.flags&32)!==0,K.flags&=-33,Y===null){if(gY){if(X?Y$(K):K$(K),gY){var N=rK,R;if(!(R=!N)){Y:{var A=N;for(R=B0;A.nodeType!==8;){if(!R){R=null;break Y}if(A=a_(A.nextSibling),A===null){R=null;break Y}}R=A}R!==null?(p$(),K.memoizedState={dehydrated:R,treeContext:I1!==null?{id:U0,overflow:S0}:null,retryLane:536870912},A=L(18,null,null,XK),A.stateNode=R,A.return=K,K.child=A,P_=K,rK=null,R=!0):R=!1,R=!R}R&&(k7(K,N),n$(K))}if(N=K.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return N.data===V1?K.lanes=16:K.lanes=536870912,null;R0(K)}if(N=H.children,H=H.fallback,X)return K$(K),X=K.mode,N=C6({mode:"hidden",children:N},X),H=K1(H,X,_,null),N.return=K,H.return=K,N.sibling=H,K.child=N,X=K.child,X.memoizedState=L6(_),X.childLanes=q6(Y,$,_),K.memoizedState=YI,H;return Y$(K),R6(K,N)}var k=Y.memoizedState;if(k!==null&&(N=k.dehydrated,N!==null)){if(G)K.flags&256?(Y$(K),K.flags&=-257,K=w6(Y,K,_)):K.memoizedState!==null?(K$(K),K.child=Y.child,K.flags|=128,K=null):(K$(K),X=H.fallback,N=K.mode,H=C6({mode:"visible",children:H.children},N),X=K1(X,N,_,null),X.flags|=2,H.return=K,X.return=K,H.sibling=X,K.child=H,P1(K,Y.child,null,_),H=K.child,H.memoizedState=L6(_),H.childLanes=q6(Y,$,_),K.memoizedState=YI,K=X);else if(Y$(K),gY&&console.error("We should not be hydrating here. This is a bug in React. Please file a bug."),N.data===V1){if($=N.nextSibling&&N.nextSibling.dataset,$){R=$.dgst;var d=$.msg;A=$.stck;var g=$.cstck}N=d,$=R,H=A,R=X=g,X=N?Error(N):Error("The server could not finish this Suspense boundary, likely due to an error during server rendering. Switched to client rendering."),X.stack=H||"",X.digest=$,$=R===void 0?null:R,H={value:X,source:null,stack:$},typeof $==="string"&&c4.set(X,H),FO(H),K=w6(Y,K,_)}else if(lK||jO(Y,K,_,!1),$=(_&Y.childLanes)!==0,lK||$){if($=$K,$!==null){if(H=_&-_,(H&42)!==0)H=1;else switch(H){case 2:H=1;break;case 8:H=4;break;case 32:H=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:H=64;break;case 268435456:H=134217728;break;default:H=0}if(H=(H&($.suspendedLanes|_))!==0?0:H,H!==0&&H!==k.retryLane)throw k.retryLane=H,Y_(Y,H),RK($,Y,H),XZ}N.data===E1||c6(),K=w6(Y,K,_)}else N.data===E1?(K.flags|=128,K.child=Y.child,K=wq.bind(null,Y),N._reactRetry=K,K=null):(Y=k.treeContext,rK=a_(N.nextSibling),P_=K,gY=!0,DB=null,T0=!1,_B=null,B0=!1,Y!==null&&(p$(),YB[KB++]=U0,YB[KB++]=S0,YB[KB++]=I1,U0=Y.id,S0=Y.overflow,I1=K),K=R6(K,H.children),K.flags|=4096);return K}if(X)return K$(K),X=H.fallback,N=K.mode,R=Y.child,A=R.sibling,H=X$(R,{mode:"hidden",children:H.children}),H.subtreeFlags=R.subtreeFlags&31457280,A!==null?X=X$(A,X):(X=K1(X,N,_,null),X.flags|=2),X.return=K,H.return=K,H.sibling=X,K.child=H,H=X,X=K.child,N=Y.child.memoizedState,N===null?N=L6(_):(R=N.cachePool,R!==null?(A=gK._currentValue,R=R.parent!==A?{parent:A,pool:A}:R):R=K5(),N={baseLanes:N.baseLanes|_,cachePool:R}),X.memoizedState=N,X.childLanes=q6(Y,$,_),K.memoizedState=YI,H;return Y$(K),_=Y.child,Y=_.sibling,_=X$(_,{mode:"visible",children:H.children}),_.return=K,_.sibling=null,Y!==null&&($=K.deletions,$===null?(K.deletions=[Y],K.flags|=16):$.push(Y)),K.child=_,K.memoizedState=null,_}function R6(Y,K){return K=C6({mode:"visible",children:K},Y.mode),K.return=Y,Y.child=K}function C6(Y,K){return CW(Y,K,0,null)}function w6(Y,K,_){return P1(K,Y.child,null,_),Y=R6(K,K.pendingProps.children),Y.flags|=2,K.memoizedState=null,Y}function u5(Y,K,_){Y.lanes|=K;var $=Y.alternate;$!==null&&($.lanes|=K),x6(Y.return,K,_)}function p5(Y,K){var _=sK(Y);return Y=!_&&typeof y(Y)==="function",_||Y?(_=_?"array":"iterable",console.error("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",_,K,_),!1):!0}function A6(Y,K,_,$,H){var X=Y.memoizedState;X===null?Y.memoizedState={isBackwards:K,rendering:null,renderingStartTime:0,last:$,tail:_,tailMode:H}:(X.isBackwards=K,X.rendering=null,X.renderingStartTime=0,X.last=$,X.tail=_,X.tailMode=H)}function i5(Y,K,_){var $=K.pendingProps,H=$.revealOrder,X=$.tail;if($=$.children,H!==void 0&&H!=="forwards"&&H!=="backwards"&&H!=="together"&&!WZ[H])if(WZ[H]=!0,typeof H==="string")switch(H.toLowerCase()){case"together":case"forwards":case"backwards":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',H,H.toLowerCase());break;case"forward":case"backward":console.error('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',H,H.toLowerCase());break;default:console.error('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',H)}else console.error('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',H);X===void 0||e4[X]||(X!=="collapsed"&&X!=="hidden"?(e4[X]=!0,console.error('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',X)):H!=="forwards"&&H!=="backwards"&&(e4[X]=!0,console.error('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',X)));Y:if((H==="forwards"||H==="backwards")&&$!==void 0&&$!==null&&$!==!1)if(sK($)){for(var G=0;G<$.length;G++)if(!p5($[G],G))break Y}else if(G=y($),typeof G==="function"){if(G=G.call($))for(var N=G.next(),R=0;!N.done;N=G.next()){if(!p5(N.value,R))break Y;R++}}else console.error('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',H);if(nK(Y,K,$,_),$=jK.current,($&JX)!==0)$=$&DH|JX,K.flags|=128;else{if(Y!==null&&(Y.flags&128)!==0)Y:for(Y=K.child;Y!==null;){if(Y.tag===13)Y.memoizedState!==null&&u5(Y,_,K);else if(Y.tag===19)u5(Y,_,K);else if(Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===K)break Y;for(;Y.sibling===null;){if(Y.return===null||Y.return===K)break Y;Y=Y.return}Y.sibling.return=Y.return,Y=Y.sibling}$&=DH}switch(TY(jK,$,K),H){case"forwards":_=K.child;for(H=null;_!==null;)Y=_.alternate,Y!==null&&nz(Y)===null&&(H=_),_=_.sibling;_=H,_===null?(H=K.child,K.child=null):(H=_.sibling,_.sibling=null),A6(K,!1,H,_,X);break;case"backwards":_=null,H=K.child;for(K.child=null;H!==null;){if(Y=H.alternate,Y!==null&&nz(Y)===null){K.child=H;break}Y=H.sibling,H.sibling=_,_=H,H=Y}A6(K,!0,_,null,X);break;case"together":A6(K,!1,null,null,void 0);break;default:K.memoizedState=null}return K.child}function C0(Y,K,_){if(Y!==null&&(K.dependencies=Y.dependencies),E_=-1,w$|=K.lanes,(_&K.childLanes)===0)if(Y!==null){if(jO(Y,K,_,!1),(_&K.childLanes)===0)return null}else return null;if(Y!==null&&K.child!==Y.child)throw Error("Resuming work not yet implemented.");if(K.child!==null){Y=K.child,_=X$(Y,Y.pendingProps),K.child=_;for(_.return=K;Y.sibling!==null;)Y=Y.sibling,_=_.sibling=X$(Y,Y.pendingProps),_.return=K;_.sibling=null}return K.child}function E6(Y,K){if((Y.lanes&K)!==0)return!0;return Y=Y.dependencies,Y!==null&&O8(Y)?!0:!1}function eL(Y,K,_){switch(K.tag){case 3:pK(K,K.stateNode.containerInfo),B$(K,gK,Y.memoizedState.cache),xO();break;case 27:case 5:dB(K);break;case 4:pK(K,K.stateNode.containerInfo);break;case 10:B$(K,K.type,K.memoizedProps.value);break;case 12:(_&K.childLanes)!==0&&(K.flags|=4),K.flags|=2048;var $=K.stateNode;$.effectDuration=-0,$.passiveEffectDuration=-0;break;case 13:if($=K.memoizedState,$!==null){if($.dehydrated!==null)return Y$(K),K.flags|=128,null;if((_&K.child.childLanes)!==0)return l5(Y,K,_);return Y$(K),Y=C0(Y,K,_),Y!==null?Y.sibling:null}Y$(K);break;case 19:var H=(Y.flags&128)!==0;if($=(_&K.childLanes)!==0,$||(jO(Y,K,_,!1),$=(_&K.childLanes)!==0),H){if($)return i5(Y,K,_);K.flags|=128}if(H=K.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),TY(jK,jK.current,K),$)break;else return null;case 22:case 23:return K.lanes=0,f5(Y,K,_);case 24:B$(K,gK,Y.memoizedState.cache)}return C0(Y,K,_)}function V6(Y,K,_){if(K._debugNeedsRemount&&Y!==null){_=v6(K.type,K.key,K.pendingProps,K._debugOwner||null,K.mode,K.lanes);var $=K.return;if($===null)throw Error("Cannot swap the root fiber.");if(Y.alternate=null,K.alternate=null,_.index=K.index,_.sibling=K.sibling,_.return=K.return,_.ref=K.ref,_._debugInfo=K._debugInfo,K===$.child)$.child=_;else{var H=$.child;if(H===null)throw Error("Expected parent to have a child.");for(;H.sibling!==K;)if(H=H.sibling,H===null)throw Error("Expected to find the previous sibling.");H.sibling=_}return K=$.deletions,K===null?($.deletions=[Y],$.flags|=16):K.push(Y),_.flags|=2,_}if(Y!==null)if(Y.memoizedProps!==K.pendingProps||K.type!==Y.type)lK=!0;else{if(!E6(Y,_)&&(K.flags&128)===0)return lK=!1,eL(Y,K,_);lK=(Y.flags&131072)!==0?!0:!1}else{if(lK=!1,$=gY)p$(),$=(K.flags&1048576)!==0;$&&($=K.index,p$(),cG(K,c8,$))}switch(K.lanes=0,K.tag){case 16:Y:if($=K.pendingProps,Y=J$(K.elementType),K.type=Y,typeof Y==="function")b6(Y)?($=t$(Y,$),K.tag=1,K.type=Y=l$(Y),K=d5(null,K,Y,$,_)):(K.tag=0,Q6(K,Y),K.type=Y=l$(Y),K=J6(null,K,Y,$,_));else{if(Y!==void 0&&Y!==null){if(H=Y.$$typeof,H===oO){K.tag=11,K.type=Y=M7(Y),K=g5(null,K,Y,$,_);break Y}else if(H===F8){K.tag=14,K=b5(null,K,Y,$,_);break Y}}throw K="",Y!==null&&typeof Y==="object"&&Y.$$typeof===k_&&(K=" Did you wrap a component in React.lazy() more than once?"),Y=b(Y)||Y,Error("Element type is invalid. Received a promise that resolves to: "+Y+". Lazy element type must resolve to a class or function."+K)}return K;case 0:return J6(Y,K,K.type,K.pendingProps,_);case 1:return $=K.type,H=t$($,K.pendingProps),d5(Y,K,$,H,_);case 3:Y:{if(pK(K,K.stateNode.containerInfo),Y===null)throw Error("Should have a current fiber. This is a bug in React.");var X=K.pendingProps;H=K.memoizedState,$=H.element,M6(Y,K),bO(K,X,null,_);var G=K.memoizedState;if(X=G.cache,B$(K,gK,X),X!==H.cache&&F6(K,[gK],_,!0),gO(),X=G.element,H.isDehydrated)if(H={element:X,isDehydrated:!1,cache:G.cache},K.updateQueue.baseState=H,K.memoizedState=H,K.flags&256){K=c5(Y,K,X,_);break Y}else if(X!==$){$=T_(Error("This root received an early update, before anything was able hydrate. Switched the entire root to client rendering."),K),FO($),K=c5(Y,K,X,_);break Y}else for(rK=a_(K.stateNode.containerInfo.firstChild),P_=K,gY=!0,DB=null,T0=!1,_B=null,B0=!0,Y=p3(K,null,X,_),K.child=Y;Y;)Y.flags=Y.flags&-3|4096,Y=Y.sibling;else{if(xO(),X===$){K=C0(Y,K,_);break Y}nK(Y,K,X,_)}K=K.child}return K;case 26:return yO(Y,K),Y===null?(Y=WN(K.type,null,K.pendingProps,null))?K.memoizedState=Y:gY||(Y=K.type,_=K.pendingProps,$=zK(G$.current),$=L8($).createElement(Y),$[B_]=K,$[A_]=_,oK($,Y,_),FK($),K.stateNode=$):K.memoizedState=WN(K.type,Y.memoizedProps,K.pendingProps,Y.memoizedState),null;case 27:return dB(K),Y===null&&gY&&(H=zK(G$.current),$=Z_(),H=K.stateNode=PN(K.type,K.pendingProps,H,$,!1),T0||($=_N(H,K.type,K.pendingProps,$),$!==null&&(i$(K,0).serverProps=$)),P_=K,B0=!0,rK=a_(H.firstChild)),$=K.pendingProps.children,Y!==null||gY?nK(Y,K,$,_):K.child=P1(K,null,$,_),yO(Y,K),K.child;case 5:return Y===null&&gY&&(X=Z_(),$=E7(K.type,X.ancestorInfo),H=rK,(G=!H)||(G=hq(H,K.type,K.pendingProps,B0),G!==null?(K.stateNode=G,T0||(X=_N(G,K.type,K.pendingProps,X),X!==null&&(i$(K,0).serverProps=X)),P_=K,rK=a_(G.firstChild),B0=!1,X=!0):X=!1,G=!X),G&&($&&k7(K,H),n$(K))),dB(K),H=K.type,X=K.pendingProps,G=Y!==null?Y.memoizedProps:null,$=X.children,_4(H,X)?$=null:G!==null&&_4(H,G)&&(K.flags|=32),K.memoizedState!==null&&(H=h7(Y,K,nL,null,null,_),jX._currentValue=H),yO(Y,K),nK(Y,K,$,_),K.child;case 6:return Y===null&&gY&&(Y=K.pendingProps,_=Z_().ancestorInfo.current,Y=_!=null?yz(Y,_.tag):!0,_=rK,($=!_)||($=dq(_,K.pendingProps,B0),$!==null?(K.stateNode=$,P_=K,rK=null,$=!0):$=!1,$=!$),$&&(Y&&k7(K,_),n$(K))),null;case 13:return l5(Y,K,_);case 4:return pK(K,K.stateNode.containerInfo),$=K.pendingProps,Y===null?K.child=P1(K,null,$,_):nK(Y,K,$,_),K.child;case 11:return g5(Y,K,K.type,K.pendingProps,_);case 7:return nK(Y,K,K.pendingProps,_),K.child;case 8:return nK(Y,K,K.pendingProps.children,_),K.child;case 12:return K.flags|=4,K.flags|=2048,$=K.stateNode,$.effectDuration=-0,$.passiveEffectDuration=-0,nK(Y,K,K.pendingProps.children,_),K.child;case 10:return $=K.type,H=K.pendingProps,X=H.value,"value"in H||NZ||(NZ=!0,console.error("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?")),B$(K,$,X),nK(Y,K,H.children,_),K.child;case 9:return H=K.type._context,$=K.pendingProps.children,typeof $!=="function"&&console.error("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),e$(K),H=JK(H),x(K),$=p4($,H,void 0),_Y(),K.flags|=1,nK(Y,K,$,_),K.child;case 14:return b5(Y,K,K.type,K.pendingProps,_);case 15:return v5(Y,K,K.type,K.pendingProps,_);case 19:return i5(Y,K,_);case 22:return f5(Y,K,_);case 24:return e$(K),$=JK(gK),Y===null?(H=f7(),H===null&&(H=$K,X=v7(),H.pooledCache=X,o$(X),X!==null&&(H.pooledCacheLanes|=_),H=X),K.memoizedState={parent:$,cache:H},D6(K),B$(K,gK,H)):((Y.lanes&_)!==0&&(M6(Y,K),bO(K,null,null,_),gO()),H=Y.memoizedState,X=K.memoizedState,H.parent!==$?(H={parent:$,cache:$},K.memoizedState=H,K.lanes===0&&(K.memoizedState=K.updateQueue.baseState=H),B$(K,gK,$)):($=X.cache,B$(K,gK,$),$!==H.cache&&F6(K,[gK],_,!0))),nK(Y,K,K.pendingProps.children,_),K.child;case 29:throw K.pendingProps}throw Error("Unknown unit of work tag ("+K.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function H8(){jH=s8=null,kH=!1}function B$(Y,K,_){TY(KI,K._currentValue,Y),K._currentValue=_,TY(_I,K._currentRenderer,Y),K._currentRenderer!==void 0&&K._currentRenderer!==null&&K._currentRenderer!==ZZ&&console.error("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),K._currentRenderer=ZZ}function w0(Y,K){Y._currentValue=KI.current;var _=_I.current;lY(_I,K),Y._currentRenderer=_,lY(KI,K)}function x6(Y,K,_){for(;Y!==null;){var $=Y.alternate;if((Y.childLanes&K)!==K?(Y.childLanes|=K,$!==null&&($.childLanes|=K)):$!==null&&($.childLanes&K)!==K&&($.childLanes|=K),Y===_)break;Y=Y.return}Y!==_&&console.error("Expected to find the propagation root when scheduling context work. This error is likely caused by a bug in React. Please file an issue.")}function F6(Y,K,_,$){var H=Y.child;H!==null&&(H.return=Y);for(;H!==null;){var X=H.dependencies;if(X!==null){var G=H.child;X=X.firstContext;Y:for(;X!==null;){var N=X;X=H;for(var R=0;R<K.length;R++)if(N.context===K[R]){X.lanes|=_,N=X.alternate,N!==null&&(N.lanes|=_),x6(X.return,_,Y),$||(G=null);break Y}X=N.next}}else if(H.tag===18){if(G=H.return,G===null)throw Error("We just came from a parent so we must have had a parent. This is a bug in React.");G.lanes|=_,X=G.alternate,X!==null&&(X.lanes|=_),x6(G,_,Y),G=null}else G=H.child;if(G!==null)G.return=H;else for(G=H;G!==null;){if(G===Y){G=null;break}if(H=G.sibling,H!==null){H.return=G.return,G=H;break}G=G.return}H=G}}function jO(Y,K,_,$){Y=null;for(var H=K,X=!1;H!==null;){if(!X){if((H.flags&524288)!==0)X=!0;else if((H.flags&262144)!==0)break}if(H.tag===10){var G=H.alternate;if(G===null)throw Error("Should have a current fiber. This is a bug in React.");if(G=G.memoizedProps,G!==null){var N=H.type;I_(H.pendingProps.value,G.value)||(Y!==null?Y.push(N):Y=[N])}}else if(H===D8.current){if(G=H.alternate,G===null)throw Error("Should have a current fiber. This is a bug in React.");G.memoizedState.memoizedState!==H.memoizedState.memoizedState&&(Y!==null?Y.push(jX):Y=[jX])}H=H.return}Y!==null&&F6(K,Y,_,$),K.flags|=262144}function O8(Y){for(Y=Y.firstContext;Y!==null;){if(!I_(Y.context._currentValue,Y.memoizedValue))return!0;Y=Y.next}return!1}function e$(Y){s8=Y,jH=null,Y=Y.dependencies,Y!==null&&(Y.firstContext=null)}function JK(Y){return kH&&console.error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),n5(s8,Y)}function X8(Y,K){return s8===null&&e$(Y),n5(Y,K)}function n5(Y,K){var _=K._currentValue;if(K={context:K,memoizedValue:_,next:null},jH===null){if(Y===null)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");jH=K,Y.dependencies={lanes:0,firstContext:K,_debugThenableState:null},Y.flags|=524288}else jH=jH.next=K;return _}function D6(Y){Y.updateQueue={baseState:Y.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function M6(Y,K){Y=Y.updateQueue,K.updateQueue===Y&&(K.updateQueue={baseState:Y.baseState,firstBaseUpdate:Y.firstBaseUpdate,lastBaseUpdate:Y.lastBaseUpdate,shared:Y.shared,callbacks:null})}function $$(Y){return{lane:Y,tag:JZ,payload:null,callback:null,next:null}}function H$(Y,K,_){var $=Y.updateQueue;if($===null)return null;if($=$.shared,$I===$&&!qZ){var H=l(Y);console.error(`An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback.

Please update the following component: %s`,H),qZ=!0}if((WK&N_)!==b_)return H=$.pending,H===null?K.next=K:(K.next=H.next,H.next=K),$.pending=K,K=fz(Y),fG(Y,null,_),K;return vz(Y,$,K,_),fz(Y)}function kO(Y,K,_){if(K=K.updateQueue,K!==null&&(K=K.shared,(_&4194176)!==0)){var $=K.lanes;$&=Y.pendingLanes,_|=$,K.lanes=_,h1(Y,_)}}function z8(Y,K){var{updateQueue:_,alternate:$}=Y;if($!==null&&($=$.updateQueue,_===$)){var H=null,X=null;if(_=_.firstBaseUpdate,_!==null){do{var G={lane:_.lane,tag:_.tag,payload:_.payload,callback:null,next:null};X===null?H=X=G:X=X.next=G,_=_.next}while(_!==null);X===null?H=X=K:X=X.next=K}else H=X=K;_={baseState:$.baseState,firstBaseUpdate:H,lastBaseUpdate:X,shared:$.shared,callbacks:$.callbacks},Y.updateQueue=_;return}Y=_.lastBaseUpdate,Y===null?_.firstBaseUpdate=K:Y.next=K,_.lastBaseUpdate=K}function gO(){if(HI){var Y=MH;if(Y!==null)throw Y}}function bO(Y,K,_,$){HI=!1;var H=Y.updateQueue;C$=!1,$I=H.shared;var{firstBaseUpdate:X,lastBaseUpdate:G}=H,N=H.shared.pending;if(N!==null){H.shared.pending=null;var R=N,A=R.next;R.next=null,G===null?X=A:G.next=A,G=R;var k=Y.alternate;k!==null&&(k=k.updateQueue,N=k.lastBaseUpdate,N!==G&&(N===null?k.firstBaseUpdate=A:N.next=A,k.lastBaseUpdate=R))}if(X!==null){var d=H.baseState;G=0,k=A=R=null,N=X;do{var g=N.lane&-536870913,u=g!==N.lane;if(u?(UY&g)===g:($&g)===g){g!==0&&g===G1&&(HI=!0),k!==null&&(k=k.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});Y:{g=Y;var IY=N,EY=K,MK=_;switch(IY.tag){case QZ:if(IY=IY.payload,typeof IY==="function"){kH=!0;var uY=IY.call(MK,d,EY);if(g.mode&$_){nY(!0);try{IY.call(MK,d,EY)}finally{nY(!1)}}kH=!1,d=uY;break Y}d=IY;break Y;case BI:g.flags=g.flags&-65537|128;case JZ:if(uY=IY.payload,typeof uY==="function"){if(kH=!0,IY=uY.call(MK,d,EY),g.mode&$_){nY(!0);try{uY.call(MK,d,EY)}finally{nY(!1)}}kH=!1}else IY=uY;if(IY===null||IY===void 0)break Y;d=FY({},d,IY);break Y;case LZ:C$=!0}}g=N.callback,g!==null&&(Y.flags|=64,u&&(Y.flags|=8192),u=H.callbacks,u===null?H.callbacks=[g]:u.push(g))}else u={lane:g,tag:N.tag,payload:N.payload,callback:N.callback,next:null},k===null?(A=k=u,R=d):k=k.next=u,G|=g;if(N=N.next,N===null)if(N=H.shared.pending,N===null)break;else u=N,N=u.next,u.next=null,H.lastBaseUpdate=u,H.shared.pending=null}while(1);k===null&&(R=d),H.baseState=R,H.firstBaseUpdate=A,H.lastBaseUpdate=k,X===null&&(H.shared.lanes=0),w$|=G,Y.lanes=G,Y.memoizedState=d}$I=null}function o5(Y,K){if(typeof Y!=="function")throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+Y);Y.call(K)}function Yq(Y,K){var _=Y.shared.hiddenCallbacks;if(_!==null)for(Y.shared.hiddenCallbacks=null,Y=0;Y<_.length;Y++)o5(_[Y],K)}function s5(Y,K){var _=Y.callbacks;if(_!==null)for(Y.callbacks=null,Y=0;Y<_.length;Y++)o5(_[Y],K)}function oB(Y){return(Y.mode&aK)!==XK}function a5(Y,K){oB(Y)?(nB(),vO(K,Y),iB()):vO(K,Y)}function U6(Y,K,_){oB(Y)?(nB(),t1(_,Y,K),iB()):t1(_,Y,K)}function vO(Y,K){try{var _=K.updateQueue,$=_!==null?_.lastEffect:null;if($!==null){var H=$.next;_=H;do{if((_.tag&Y)===Y&&((Y&kK)!==$B?YY!==null&&typeof YY.markComponentPassiveEffectMountStarted==="function"&&YY.markComponentPassiveEffectMountStarted(K):(Y&tK)!==$B&&YY!==null&&typeof YY.markComponentLayoutEffectMountStarted==="function"&&YY.markComponentLayoutEffectMountStarted(K),$=void 0,(Y&G_)!==$B&&(hH=!0),$=KY(K,QC,_),(Y&G_)!==$B&&(hH=!1),(Y&kK)!==$B?YY!==null&&typeof YY.markComponentPassiveEffectMountStopped==="function"&&YY.markComponentPassiveEffectMountStopped():(Y&tK)!==$B&&YY!==null&&typeof YY.markComponentLayoutEffectMountStopped==="function"&&YY.markComponentLayoutEffectMountStopped(),$!==void 0&&typeof $!=="function")){var X=void 0;X=(_.tag&tK)!==0?"useLayoutEffect":(_.tag&G_)!==0?"useInsertionEffect":"useEffect";var G=void 0;G=$===null?" You returned null. If your effect does not require clean up, return undefined (or nothing).":typeof $.then==="function"?`

It looks like you wrote `+X+`(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:

`+X+`(() => {
  async function fetchData() {
    // You can await here
    const response = await MyAPI.getData(someId);
    // ...
  }
  fetchData();
}, [someId]); // Or [] if effect doesn't need props or state

Learn more about data fetching with Hooks: https://react.dev/link/hooks-data-fetching`:" You returned: "+$,KY(K,function(N,R){console.error("%s must not return anything besides a function, which is used for clean-up.%s",N,R)},X,G)}_=_.next}while(_!==H)}}catch(N){tY(K,K.return,N)}}function t1(Y,K,_){try{var $=K.updateQueue,H=$!==null?$.lastEffect:null;if(H!==null){var X=H.next;$=X;do{if(($.tag&Y)===Y){var G=$.inst,N=G.destroy;N!==void 0&&(G.destroy=void 0,(Y&kK)!==$B?YY!==null&&typeof YY.markComponentPassiveEffectUnmountStarted==="function"&&YY.markComponentPassiveEffectUnmountStarted(K):(Y&tK)!==$B&&YY!==null&&typeof YY.markComponentLayoutEffectUnmountStarted==="function"&&YY.markComponentLayoutEffectUnmountStarted(K),(Y&G_)!==$B&&(hH=!0),KY(K,LC,K,_,N),(Y&G_)!==$B&&(hH=!1),(Y&kK)!==$B?YY!==null&&typeof YY.markComponentPassiveEffectUnmountStopped==="function"&&YY.markComponentPassiveEffectUnmountStopped():(Y&tK)!==$B&&YY!==null&&typeof YY.markComponentLayoutEffectUnmountStopped==="function"&&YY.markComponentLayoutEffectUnmountStopped())}$=$.next}while($!==X)}}catch(R){tY(K,K.return,R)}}function r5(Y,K){oB(Y)?(nB(),vO(K,Y),iB()):vO(K,Y)}function S6(Y,K,_){oB(Y)?(nB(),t1(_,Y,K),iB()):t1(_,Y,K)}function t5(Y){var K=Y.updateQueue;if(K!==null){var _=Y.stateNode;Y.type.defaultProps||"ref"in Y.memoizedProps||yH||(_.props!==Y.memoizedProps&&console.error("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",l(Y)||"instance"),_.state!==Y.memoizedState&&console.error("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",l(Y)||"instance"));try{KY(Y,s5,K,_)}catch($){tY(Y,Y.return,$)}}}function Kq(Y,K,_){return Y.getSnapshotBeforeUpdate(K,_)}function _q(Y,K){var{memoizedProps:_,memoizedState:$}=K;K=Y.stateNode,Y.type.defaultProps||"ref"in Y.memoizedProps||yH||(K.props!==Y.memoizedProps&&console.error("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",l(Y)||"instance"),K.state!==Y.memoizedState&&console.error("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",l(Y)||"instance"));try{var H=t$(Y.type,_,Y.elementType===Y.type),X=KY(Y,Kq,K,H,$);_=RZ,X!==void 0||_.has(Y.type)||(_.add(Y.type),KY(Y,function(){console.error("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",l(Y))})),K.__reactInternalSnapshotBeforeUpdate=X}catch(G){tY(Y,Y.return,G)}}function e5(Y,K,_){_.props=t$(Y.type,Y.memoizedProps),_.state=Y.memoizedState,oB(Y)?(nB(),KY(Y,v3,Y,K,_),iB()):KY(Y,v3,Y,K,_)}function Bq(Y){var K=Y.ref;if(K!==null){var _=Y.stateNode;if(typeof K==="function")if(oB(Y))try{nB(),Y.refCleanup=K(_)}finally{iB()}else Y.refCleanup=K(_);else typeof K==="string"?console.error("String refs are no longer supported."):K.hasOwnProperty("current")||console.error("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",l(Y)),K.current=_}}function Y1(Y,K){try{KY(Y,Bq,Y)}catch(_){tY(Y,K,_)}}function y_(Y,K){var{ref:_,refCleanup:$}=Y;if(_!==null)if(typeof $==="function")try{if(oB(Y))try{nB(),KY(Y,$)}finally{iB(Y)}else KY(Y,$)}catch(H){tY(Y,K,H)}finally{Y.refCleanup=null,Y=Y.alternate,Y!=null&&(Y.refCleanup=null)}else if(typeof _==="function")try{if(oB(Y))try{nB(),KY(Y,_,null)}finally{iB(Y)}else KY(Y,_,null)}catch(H){tY(Y,K,H)}else _.current=null}function YW(Y,K,_,$){var H=Y.memoizedProps,X=H.id,G=H.onCommit;H=H.onRender,K=K===null?"mount":"update",f8&&(K="nested-update"),typeof H==="function"&&H(X,K,Y.actualDuration,Y.treeBaseDuration,Y.actualStartTime,_),typeof G==="function"&&G(Y.memoizedProps.id,K,$,_)}function $q(Y,K,_,$){var H=Y.memoizedProps;Y=H.id,H=H.onPostCommit,K=K===null?"mount":"update",f8&&(K="nested-update"),typeof H==="function"&&H(Y,K,$,_)}function KW(Y){var{type:K,memoizedProps:_,stateNode:$}=Y;try{KY(Y,Tq,$,K,_,Y)}catch(H){tY(Y,Y.return,H)}}function _W(Y,K,_){try{KY(Y,yq,Y.stateNode,Y.type,_,K,Y)}catch($){tY(Y,Y.return,$)}}function BW(Y){return Y.tag===5||Y.tag===3||Y.tag===26||Y.tag===27||Y.tag===4}function T6(Y){Y:for(;;){for(;Y.sibling===null;){if(Y.return===null||BW(Y.return))return null;Y=Y.return}Y.sibling.return=Y.return;for(Y=Y.sibling;Y.tag!==5&&Y.tag!==6&&Y.tag!==27&&Y.tag!==18;){if(Y.flags&2)continue Y;if(Y.child===null||Y.tag===4)continue Y;else Y.child.return=Y,Y=Y.child}if(!(Y.flags&2))return Y.stateNode}}function y6(Y,K,_){var $=Y.tag;if($===5||$===6)Y=Y.stateNode,K?_.nodeType===8?_.parentNode.insertBefore(Y,K):_.insertBefore(Y,K):(_.nodeType===8?(K=_.parentNode,K.insertBefore(Y,_)):(K=_,K.appendChild(Y)),_=_._reactRootContainer,_!==null&&_!==void 0||K.onclick!==null||(K.onclick=J8));else if($!==4&&$!==27&&(Y=Y.child,Y!==null))for(y6(Y,K,_),Y=Y.sibling;Y!==null;)y6(Y,K,_),Y=Y.sibling}function I8(Y,K,_){var $=Y.tag;if($===5||$===6)Y=Y.stateNode,K?_.insertBefore(Y,K):_.appendChild(Y);else if($!==4&&$!==27&&(Y=Y.child,Y!==null))for(I8(Y,K,_),Y=Y.sibling;Y!==null;)I8(Y,K,_),Y=Y.sibling}function Hq(Y){if(Y.tag!==27){Y:{for(var K=Y.return;K!==null;){if(BW(K)){var _=K;break Y}K=K.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}switch(_.tag){case 27:K=_.stateNode,_=T6(Y),I8(Y,_,K);break;case 5:K=_.stateNode,_.flags&32&&(HN(K),_.flags&=-33),_=T6(Y),I8(Y,_,K);break;case 3:case 4:K=_.stateNode.containerInfo,_=T6(Y),y6(Y,_,K);break;default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}}}function Oq(Y,K){if(Y=Y.containerInfo,VI=J2,Y=bG(Y),F7(Y)){if("selectionStart"in Y)var _={start:Y.selectionStart,end:Y.selectionEnd};else Y:{_=(_=Y.ownerDocument)&&_.defaultView||window;var $=_.getSelection&&_.getSelection();if($&&$.rangeCount!==0){_=$.anchorNode;var{anchorOffset:H,focusNode:X}=$;$=$.focusOffset;try{_.nodeType,X.nodeType}catch(IY){_=null;break Y}var G=0,N=-1,R=-1,A=0,k=0,d=Y,g=null;K:for(;;){for(var u;;){if(d!==_||H!==0&&d.nodeType!==3||(N=G+H),d!==X||$!==0&&d.nodeType!==3||(R=G+$),d.nodeType===3&&(G+=d.nodeValue.length),(u=d.firstChild)===null)break;g=d,d=u}for(;;){if(d===Y)break K;if(g===_&&++A===H&&(N=G),g===X&&++k===$&&(R=G),(u=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=u}_=N===-1||R===-1?null:{start:N,end:R}}else _=null}_=_||{start:0,end:0}}else _=null;xI={focusedElem:Y,selectionRange:_},J2=!1;for(uK=K;uK!==null;)if(K=uK,Y=K.child,(K.subtreeFlags&1028)!==0&&Y!==null)Y.return=K,uK=Y;else for(;uK!==null;){switch(Y=K=uK,_=Y.alternate,H=Y.flags,Y.tag){case 0:break;case 11:case 15:break;case 1:(H&1024)!==0&&_!==null&&_q(Y,_);break;case 3:if((H&1024)!==0){if(Y=Y.stateNode.containerInfo,_=Y.nodeType,_===9)$4(Y);else if(_===1)switch(Y.nodeName){case"HEAD":case"HTML":case"BODY":$4(Y);break;default:Y.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((H&1024)!==0)throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}if(Y=K.sibling,Y!==null){Y.return=K.return,uK=Y;break}uK=K.return}return K=wZ,wZ=!1,K}function $W(Y,K,_){var $=_.flags;switch(_.tag){case 0:case 11:case 15:sB(Y,_),$&4&&a5(_,tK|HB);break;case 1:if(sB(Y,_),$&4)if(Y=_.stateNode,K===null)_.type.defaultProps||"ref"in _.memoizedProps||yH||(Y.props!==_.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",l(_)||"instance"),Y.state!==_.memoizedState&&console.error("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",l(_)||"instance")),oB(_)?(nB(),KY(_,i4,_,Y),iB()):KY(_,i4,_,Y);else{var H=t$(_.type,K.memoizedProps);K=K.memoizedState,_.type.defaultProps||"ref"in _.memoizedProps||yH||(Y.props!==_.memoizedProps&&console.error("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",l(_)||"instance"),Y.state!==_.memoizedState&&console.error("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",l(_)||"instance")),oB(_)?(nB(),KY(_,k3,_,Y,H,K,Y.__reactInternalSnapshotBeforeUpdate),iB()):KY(_,k3,_,Y,H,K,Y.__reactInternalSnapshotBeforeUpdate)}$&64&&t5(_),$&512&&Y1(_,_.return);break;case 3:if(K=q0(),sB(Y,_),$&64&&($=_.updateQueue,$!==null)){if(H=null,_.child!==null)switch(_.child.tag){case 27:case 5:H=_.child.stateNode;break;case 1:H=_.child.stateNode}try{KY(_,s5,$,H)}catch(N){tY(_,_.return,N)}}Y.effectDuration+=mz(K);break;case 26:sB(Y,_),$&512&&Y1(_,_.return);break;case 27:case 5:sB(Y,_),K===null&&$&4&&KW(_),$&512&&Y1(_,_.return);break;case 12:if($&4){$=q0(),sB(Y,_),Y=_.stateNode,Y.effectDuration+=EO($);try{KY(_,YW,_,K,v8,Y.effectDuration)}catch(N){tY(_,_.return,N)}}else sB(Y,_);break;case 13:sB(Y,_),$&4&&XW(Y,_);break;case 22:if(H=_.memoizedState!==null||k0,!H){K=K!==null&&K.memoizedState!==null||EK;var X=k0,G=EK;k0=H,(EK=K)&&!G?E0(Y,_,(_.subtreeFlags&8772)!==0):sB(Y,_),k0=X,EK=G}$&512&&(_.memoizedProps.mode==="manual"?Y1(_,_.return):y_(_,_.return));break;default:sB(Y,_)}}function HW(Y){var K=Y.alternate;K!==null&&(Y.alternate=null,HW(K)),Y.child=null,Y.deletions=null,Y.sibling=null,Y.tag===5&&(K=Y.stateNode,K!==null&&l1(K)),Y.stateNode=null,Y._debugOwner=null,Y.return=null,Y.dependencies=null,Y.memoizedProps=null,Y.memoizedState=null,Y.pendingProps=null,Y.stateNode=null,Y.updateQueue=null}function A0(Y,K,_){for(_=_.child;_!==null;)OW(Y,K,_),_=_.sibling}function OW(Y,K,_){if(__&&typeof __.onCommitFiberUnmount==="function")try{__.onCommitFiberUnmount(GH,_)}catch(X){Y0||(Y0=!0,console.error("React instrumentation encountered an error: %s",X))}switch(_.tag){case 26:EK||y_(_,K),A0(Y,K,_),_.memoizedState?_.memoizedState.count--:_.stateNode&&(_=_.stateNode,_.parentNode.removeChild(_));break;case 27:EK||y_(_,K);var $=TK,H=g_;TK=_.stateNode,A0(Y,K,_),_=_.stateNode;for(Y=_.attributes;Y.length;)_.removeAttributeNode(Y[0]);l1(_),TK=$,g_=H;break;case 5:EK||y_(_,K);case 6:if($=TK,H=g_,TK=null,A0(Y,K,_),TK=$,g_=H,TK!==null)if(g_)try{KY(_,gq,TK,_.stateNode)}catch(X){tY(_,K,X)}else try{KY(_,kq,TK,_.stateNode)}catch(X){tY(_,K,X)}break;case 18:TK!==null&&(g_?(Y=TK,_=_.stateNode,Y.nodeType===8?B4(Y.parentNode,_):Y.nodeType===1&&B4(Y,_),nO(Y)):B4(TK,_.stateNode));break;case 4:$=TK,H=g_,TK=_.stateNode.containerInfo,g_=!0,A0(Y,K,_),TK=$,g_=H;break;case 0:case 11:case 14:case 15:EK||t1(G_,_,K),EK||U6(_,K,tK),A0(Y,K,_);break;case 1:EK||(y_(_,K),$=_.stateNode,typeof $.componentWillUnmount==="function"&&e5(_,K,$)),A0(Y,K,_);break;case 21:A0(Y,K,_);break;case 22:EK||y_(_,K),EK=($=EK)||_.memoizedState!==null,A0(Y,K,_),EK=$;break;default:A0(Y,K,_)}}function XW(Y,K){if(K.memoizedState===null&&(Y=K.alternate,Y!==null&&(Y=Y.memoizedState,Y!==null&&(Y=Y.dehydrated,Y!==null))))try{KY(K,lq,Y)}catch(_){tY(K,K.return,_)}}function Xq(Y){switch(Y.tag){case 13:case 19:var K=Y.stateNode;return K===null&&(K=Y.stateNode=new CZ),K;case 22:return Y=Y.stateNode,K=Y._retryCache,K===null&&(K=Y._retryCache=new CZ),K;default:throw Error("Unexpected Suspense handler tag ("+Y.tag+"). This is a bug in React.")}}function j6(Y,K){var _=Xq(Y);K.forEach(function($){var H=Aq.bind(null,Y,$);if(!_.has($)){if(_.add($),AB)if(gH!==null&&bH!==null)dO(bH,gH);else throw Error("Expected finished root and lanes to be set. This is a bug in React.");$.then(H,H)}})}function zq(Y,K,_){gH=_,bH=Y,zW(K,Y),bH=gH=null}function n_(Y,K){var _=K.deletions;if(_!==null)for(var $=0;$<_.length;$++){var H=Y,X=K,G=_[$],N=X;Y:for(;N!==null;){switch(N.tag){case 27:case 5:TK=N.stateNode,g_=!1;break Y;case 3:TK=N.stateNode.containerInfo,g_=!0;break Y;case 4:TK=N.stateNode.containerInfo,g_=!0;break Y}N=N.return}if(TK===null)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");OW(H,X,G),TK=null,g_=!1,H=G,X=H.alternate,X!==null&&(X.return=null),H.return=null}if(K.subtreeFlags&13878)for(K=K.child;K!==null;)zW(K,Y),K=K.sibling}function zW(Y,K){var{alternate:_,flags:$}=Y;switch(Y.tag){case 0:case 11:case 14:case 15:n_(K,Y),o_(Y),$&4&&(t1(G_|HB,Y,Y.return),vO(G_|HB,Y),U6(Y,Y.return,tK|HB));break;case 1:n_(K,Y),o_(Y),$&512&&(EK||_===null||y_(_,_.return)),$&64&&k0&&(Y=Y.updateQueue,Y!==null&&($=Y.callbacks,$!==null&&(_=Y.shared.hiddenCallbacks,Y.shared.hiddenCallbacks=_===null?$:_.concat($))));break;case 26:var H=MB;if(n_(K,Y),o_(Y),$&512&&(EK||_===null||y_(_,_.return)),$&4)if(K=_!==null?_.memoizedState:null,$=Y.memoizedState,_===null)if($===null)if(Y.stateNode===null){Y:{$=Y.type,_=Y.memoizedProps,K=H.ownerDocument||H;K:switch($){case"title":if(H=K.getElementsByTagName("title")[0],!H||H[rO]||H[B_]||H.namespaceURI===WH||H.hasAttribute("itemprop"))H=K.createElement($),K.head.insertBefore(H,K.querySelector("head > title"));oK(H,$,_),H[B_]=Y,FK(H),$=H;break Y;case"link":var X=JN("link","href",K).get($+(_.href||""));if(X){for(var G=0;G<X.length;G++)if(H=X[G],H.getAttribute("href")===(_.href==null?null:_.href)&&H.getAttribute("rel")===(_.rel==null?null:_.rel)&&H.getAttribute("title")===(_.title==null?null:_.title)&&H.getAttribute("crossorigin")===(_.crossOrigin==null?null:_.crossOrigin)){X.splice(G,1);break K}}H=K.createElement($),oK(H,$,_),K.head.appendChild(H);break;case"meta":if(X=JN("meta","content",K).get($+(_.content||""))){for(G=0;G<X.length;G++)if(H=X[G],vY(_.content,"content"),H.getAttribute("content")===(_.content==null?null:""+_.content)&&H.getAttribute("name")===(_.name==null?null:_.name)&&H.getAttribute("property")===(_.property==null?null:_.property)&&H.getAttribute("http-equiv")===(_.httpEquiv==null?null:_.httpEquiv)&&H.getAttribute("charset")===(_.charSet==null?null:_.charSet)){X.splice(G,1);break K}}H=K.createElement($),oK(H,$,_),K.head.appendChild(H);break;default:throw Error('getNodesForType encountered a type it did not expect: "'+$+'". This is a bug in React.')}H[B_]=Y,FK(H),$=H}Y.stateNode=$}else QN(H,Y.type,Y.stateNode);else Y.stateNode=ZN(H,$,Y.memoizedProps);else K!==$?(K===null?_.stateNode!==null&&(_=_.stateNode,_.parentNode.removeChild(_)):K.count--,$===null?QN(H,Y.type,Y.stateNode):ZN(H,$,Y.memoizedProps)):$===null&&Y.stateNode!==null&&_W(Y,Y.memoizedProps,_.memoizedProps);break;case 27:if($&4&&Y.alternate===null){H=Y.stateNode,X=Y.memoizedProps;try{for(G=H.firstChild;G;){var{nextSibling:N,nodeName:R}=G;G[rO]||R==="HEAD"||R==="BODY"||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&G.rel.toLowerCase()==="stylesheet"||H.removeChild(G),G=N}KY(Y,uq,Y.type,X,H,Y)}catch(k){tY(Y,Y.return,k)}}case 5:if(n_(K,Y),o_(Y),$&512&&(EK||_===null||y_(_,_.return)),Y.flags&32){K=Y.stateNode;try{KY(Y,HN,K)}catch(k){tY(Y,Y.return,k)}}$&4&&Y.stateNode!=null&&(K=Y.memoizedProps,_W(Y,K,_!==null?_.memoizedProps:K)),$&1024&&(OI=!0,Y.type!=="form"&&console.error("Unexpected host component type. Expected a form. This is a bug in React."));break;case 6:if(n_(K,Y),o_(Y),$&4){if(Y.stateNode===null)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");$=Y.memoizedProps,_=_!==null?_.memoizedProps:$,K=Y.stateNode;try{KY(Y,jq,K,_,$)}catch(k){tY(Y,Y.return,k)}}break;case 3:if(H=q0(),W2=null,X=MB,MB=q8(K.containerInfo),n_(K,Y),MB=X,o_(Y),$&4&&_!==null&&_.memoizedState.isDehydrated)try{KY(Y,cq,K.containerInfo)}catch(k){tY(Y,Y.return,k)}OI&&(OI=!1,IW(Y)),K.effectDuration+=mz(H);break;case 4:$=MB,MB=q8(Y.stateNode.containerInfo),n_(K,Y),o_(Y),MB=$;break;case 12:$=q0(),n_(K,Y),o_(Y),Y.stateNode.effectDuration+=EO($);break;case 13:n_(K,Y),o_(Y),Y.child.flags&8192&&Y.memoizedState!==null!==(_!==null&&_.memoizedState!==null)&&(WI=eB()),$&4&&($=Y.updateQueue,$!==null&&(Y.updateQueue=null,j6(Y,$)));break;case 22:$&512&&(EK||_===null||y_(_,_.return)),G=Y.memoizedState!==null,N=_!==null&&_.memoizedState!==null,R=k0;var A=EK;if(k0=R||G,EK=A||N,n_(K,Y),EK=A,k0=R,o_(Y),K=Y.stateNode,K._current=Y,K._visibility&=~O1,K._visibility|=K._pendingVisibility&O1,$&8192&&(K._visibility=G?K._visibility&~OX:K._visibility|OX,G&&(K=k0||EK,_===null||N||K||e1(Y)),Y.memoizedProps===null||Y.memoizedProps.mode!=="manual"))Y:for(_=null,K=Y;;){if(K.tag===5||K.tag===26||K.tag===27){if(_===null){N=_=K;try{H=N.stateNode,G?KY(N,bq,H):KY(N,fq,N.stateNode,N.memoizedProps)}catch(k){tY(N,N.return,k)}}}else if(K.tag===6){if(_===null){N=K;try{X=N.stateNode,G?KY(N,vq,X):KY(N,mq,X,N.memoizedProps)}catch(k){tY(N,N.return,k)}}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===Y)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===Y)break Y;for(;K.sibling===null;){if(K.return===null||K.return===Y)break Y;_===K&&(_=null),K=K.return}_===K&&(_=null),K.sibling.return=K.return,K=K.sibling}$&4&&($=Y.updateQueue,$!==null&&(_=$.retryQueue,_!==null&&($.retryQueue=null,j6(Y,_))));break;case 19:n_(K,Y),o_(Y),$&4&&($=Y.updateQueue,$!==null&&(Y.updateQueue=null,j6(Y,$)));break;case 21:break;default:n_(K,Y),o_(Y)}}function o_(Y){var K=Y.flags;if(K&2){try{KY(Y,Hq,Y)}catch(_){tY(Y,Y.return,_)}Y.flags&=-3}K&4096&&(Y.flags&=-4097)}function IW(Y){if(Y.subtreeFlags&1024)for(Y=Y.child;Y!==null;){var K=Y;IW(K),K.tag===5&&K.flags&1024&&K.stateNode.reset(),Y=Y.sibling}}function Iq(Y,K,_){gH=_,bH=K,$W(K,Y.alternate,Y),bH=gH=null}function sB(Y,K){if(K.subtreeFlags&8772)for(K=K.child;K!==null;)$W(Y,K.alternate,K),K=K.sibling}function PW(Y){switch(Y.tag){case 0:case 11:case 14:case 15:U6(Y,Y.return,tK),e1(Y);break;case 1:y_(Y,Y.return);var K=Y.stateNode;typeof K.componentWillUnmount==="function"&&e5(Y,Y.return,K),e1(Y);break;case 26:case 27:case 5:y_(Y,Y.return),e1(Y);break;case 22:y_(Y,Y.return),Y.memoizedState===null&&e1(Y);break;default:e1(Y)}}function e1(Y){for(Y=Y.child;Y!==null;)PW(Y),Y=Y.sibling}function GW(Y,K,_,$){var H=_.flags;switch(_.tag){case 0:case 11:case 15:E0(Y,_,$),a5(_,tK);break;case 1:if(E0(Y,_,$),K=_.stateNode,typeof K.componentDidMount==="function"&&KY(_,i4,_,K),K=_.updateQueue,K!==null){Y=_.stateNode;try{KY(_,Yq,K,Y)}catch(X){tY(_,_.return,X)}}$&&H&64&&t5(_),Y1(_,_.return);break;case 26:case 27:case 5:E0(Y,_,$),$&&K===null&&H&4&&KW(_),Y1(_,_.return);break;case 12:if($&&H&4){H=q0(),E0(Y,_,$),$=_.stateNode,$.effectDuration+=EO(H);try{KY(_,YW,_,K,v8,$.effectDuration)}catch(X){tY(_,_.return,X)}}else E0(Y,_,$);break;case 13:E0(Y,_,$),$&&H&4&&XW(Y,_);break;case 22:_.memoizedState===null&&E0(Y,_,$),Y1(_,_.return);break;default:E0(Y,_,$)}}function E0(Y,K,_){_=_&&(K.subtreeFlags&8772)!==0;for(K=K.child;K!==null;)GW(Y,K.alternate,K,_),K=K.sibling}function k6(Y,K){var _=null;Y!==null&&Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&(_=Y.memoizedState.cachePool.pool),Y=null,K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(Y=K.memoizedState.cachePool.pool),Y!==_&&(Y!=null&&o$(Y),_!=null&&MO(_))}function g6(Y,K){Y=null,K.alternate!==null&&(Y=K.alternate.memoizedState.cache),K=K.memoizedState.cache,K!==Y&&(o$(K),Y!=null&&MO(Y))}function O$(Y,K,_,$){if(K.subtreeFlags&10256)for(K=K.child;K!==null;)WW(Y,K,_,$),K=K.sibling}function WW(Y,K,_,$){var H=K.flags;switch(K.tag){case 0:case 11:case 15:O$(Y,K,_,$),H&2048&&r5(K,kK|HB);break;case 3:var X=q0();O$(Y,K,_,$),H&2048&&(_=null,K.alternate!==null&&(_=K.alternate.memoizedState.cache),K=K.memoizedState.cache,K!==_&&(o$(K),_!=null&&MO(_))),Y.passiveEffectDuration+=mz(X);break;case 12:if(H&2048){X=q0(),O$(Y,K,_,$),Y=K.stateNode,Y.passiveEffectDuration+=EO(X);try{KY(K,$q,K,K.alternate,v8,Y.passiveEffectDuration)}catch(G){tY(K,K.return,G)}}else O$(Y,K,_,$);break;case 23:break;case 22:X=K.stateNode,K.memoizedState!==null?X._visibility&M0?O$(Y,K,_,$):fO(Y,K):X._visibility&M0?O$(Y,K,_,$):(X._visibility|=M0,YH(Y,K,_,$,(K.subtreeFlags&10256)!==0)),H&2048&&k6(K.alternate,K);break;case 24:O$(Y,K,_,$),H&2048&&g6(K.alternate,K);break;default:O$(Y,K,_,$)}}function YH(Y,K,_,$,H){H=H&&(K.subtreeFlags&10256)!==0;for(K=K.child;K!==null;)NW(Y,K,_,$,H),K=K.sibling}function NW(Y,K,_,$,H){var X=K.flags;switch(K.tag){case 0:case 11:case 15:YH(Y,K,_,$,H),r5(K,kK);break;case 23:break;case 22:var G=K.stateNode;K.memoizedState!==null?G._visibility&M0?YH(Y,K,_,$,H):fO(Y,K):(G._visibility|=M0,YH(Y,K,_,$,H)),H&&X&2048&&k6(K.alternate,K);break;case 24:YH(Y,K,_,$,H),H&&X&2048&&g6(K.alternate,K);break;default:YH(Y,K,_,$,H)}}function fO(Y,K){if(K.subtreeFlags&10256)for(K=K.child;K!==null;){var _=Y,$=K,H=$.flags;switch($.tag){case 22:fO(_,$),H&2048&&k6($.alternate,$);break;case 24:fO(_,$),H&2048&&g6($.alternate,$);break;default:fO(_,$)}K=K.sibling}}function KH(Y){if(Y.subtreeFlags&RX)for(Y=Y.child;Y!==null;)ZW(Y),Y=Y.sibling}function ZW(Y){switch(Y.tag){case 26:KH(Y),Y.flags&RX&&Y.memoizedState!==null&&oq(MB,Y.memoizedState,Y.memoizedProps);break;case 5:KH(Y);break;case 3:case 4:var K=MB;MB=q8(Y.stateNode.containerInfo),KH(Y),MB=K;break;case 22:Y.memoizedState===null&&(K=Y.alternate,K!==null&&K.memoizedState!==null?(K=RX,RX=16777216,KH(Y),RX=K):KH(Y));break;default:KH(Y)}}function JW(Y){var K=Y.alternate;if(K!==null&&(Y=K.child,Y!==null)){K.child=null;do K=Y.sibling,Y.sibling=null,Y=K;while(Y!==null)}}function mO(Y){var K=Y.deletions;if((Y.flags&16)!==0){if(K!==null)for(var _=0;_<K.length;_++){var $=K[_];uK=$,qW($,Y)}JW(Y)}if(Y.subtreeFlags&10256)for(Y=Y.child;Y!==null;)QW(Y),Y=Y.sibling}function QW(Y){switch(Y.tag){case 0:case 11:case 15:mO(Y),Y.flags&2048&&S6(Y,Y.return,kK|HB);break;case 3:var K=q0();mO(Y),Y.stateNode.passiveEffectDuration+=mz(K);break;case 12:K=q0(),mO(Y),Y.stateNode.passiveEffectDuration+=EO(K);break;case 22:K=Y.stateNode,Y.memoizedState!==null&&K._visibility&M0&&(Y.return===null||Y.return.tag!==13)?(K._visibility&=~M0,P8(Y)):mO(Y);break;default:mO(Y)}}function P8(Y){var K=Y.deletions;if((Y.flags&16)!==0){if(K!==null)for(var _=0;_<K.length;_++){var $=K[_];uK=$,qW($,Y)}JW(Y)}for(Y=Y.child;Y!==null;)LW(Y),Y=Y.sibling}function LW(Y){switch(Y.tag){case 0:case 11:case 15:S6(Y,Y.return,kK),P8(Y);break;case 22:var K=Y.stateNode;K._visibility&M0&&(K._visibility&=~M0,P8(Y));break;default:P8(Y)}}function qW(Y,K){for(;uK!==null;){var _=uK,$=_;switch($.tag){case 0:case 11:case 15:S6($,K,kK);break;case 23:case 22:$.memoizedState!==null&&$.memoizedState.cachePool!==null&&($=$.memoizedState.cachePool.pool,$!=null&&o$($));break;case 24:MO($.memoizedState.cache)}if($=_.child,$!==null)$.return=_,uK=$;else Y:for(_=Y;uK!==null;){$=uK;var{sibling:H,return:X}=$;if(HW($),$===_){uK=null;break Y}if(H!==null){H.return=X,uK=H;break Y}uK=X}}}function Pq(Y,K,_,$){this.tag=Y,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=K,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=$,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null,this.actualDuration=-0,this.actualStartTime=-1.1,this.treeBaseDuration=this.selfBaseDuration=-0,this._debugOwner=this._debugInfo=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,AZ||typeof Object.preventExtensions!=="function"||Object.preventExtensions(this)}function b6(Y){return Y=Y.prototype,!(!Y||!Y.isReactComponent)}function X$(Y,K){var _=Y.alternate;switch(_===null?(_=L(Y.tag,K,Y.key,Y.mode),_.elementType=Y.elementType,_.type=Y.type,_.stateNode=Y.stateNode,_._debugOwner=Y._debugOwner,_._debugHookTypes=Y._debugHookTypes,_.alternate=Y,Y.alternate=_):(_.pendingProps=K,_.type=Y.type,_.flags=0,_.subtreeFlags=0,_.deletions=null,_.actualDuration=-0,_.actualStartTime=-1.1),_.flags=Y.flags&31457280,_.childLanes=Y.childLanes,_.lanes=Y.lanes,_.child=Y.child,_.memoizedProps=Y.memoizedProps,_.memoizedState=Y.memoizedState,_.updateQueue=Y.updateQueue,K=Y.dependencies,_.dependencies=K===null?null:{lanes:K.lanes,firstContext:K.firstContext,_debugThenableState:K._debugThenableState},_.sibling=Y.sibling,_.index=Y.index,_.ref=Y.ref,_.refCleanup=Y.refCleanup,_.selfBaseDuration=Y.selfBaseDuration,_.treeBaseDuration=Y.treeBaseDuration,_._debugInfo=Y._debugInfo,_._debugNeedsRemount=Y._debugNeedsRemount,_.tag){case 0:case 15:_.type=l$(Y.type);break;case 1:_.type=l$(Y.type);break;case 11:_.type=M7(Y.type)}return _}function RW(Y,K){Y.flags&=31457282;var _=Y.alternate;return _===null?(Y.childLanes=0,Y.lanes=K,Y.child=null,Y.subtreeFlags=0,Y.memoizedProps=null,Y.memoizedState=null,Y.updateQueue=null,Y.dependencies=null,Y.stateNode=null,Y.selfBaseDuration=0,Y.treeBaseDuration=0):(Y.childLanes=_.childLanes,Y.lanes=_.lanes,Y.child=_.child,Y.subtreeFlags=0,Y.deletions=null,Y.memoizedProps=_.memoizedProps,Y.memoizedState=_.memoizedState,Y.updateQueue=_.updateQueue,Y.type=_.type,K=_.dependencies,Y.dependencies=K===null?null:{lanes:K.lanes,firstContext:K.firstContext,_debugThenableState:K._debugThenableState},Y.selfBaseDuration=_.selfBaseDuration,Y.treeBaseDuration=_.treeBaseDuration),Y}function v6(Y,K,_,$,H,X){var G=0,N=Y;if(typeof Y==="function")b6(Y)&&(G=1),N=l$(N);else if(typeof Y==="string")G=Z_(),G=iq(Y,_,G)?26:Y==="html"||Y==="head"||Y==="body"?27:5;else Y:switch(Y){case IH:return K1(_.children,H,X,K);case x8:G=8,H|=$_,H|=xB;break;case N4:return Y=_,$=H,typeof Y.id!=="string"&&console.error('Profiler must specify an "id" of type `string` as a prop. Received the type `%s` instead.',typeof Y.id),K=L(12,Y,K,$|aK),K.elementType=N4,K.lanes=X,K.stateNode={effectDuration:0,passiveEffectDuration:0},K;case J4:return K=L(13,_,K,H),K.elementType=J4,K.lanes=X,K;case Q4:return K=L(19,_,K,H),K.elementType=Q4,K.lanes=X,K;case SN:return CW(_,H,X,K);default:if(typeof Y==="object"&&Y!==null)switch(Y.$$typeof){case OR:case tB:G=10;break Y;case Z4:G=9;break Y;case oO:G=11,N=M7(N);break Y;case F8:G=14;break Y;case k_:G=16,N=null;break Y}if(N="",Y===void 0||typeof Y==="object"&&Y!==null&&Object.keys(Y).length===0)N+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";Y===null?_="null":sK(Y)?_="array":Y!==void 0&&Y.$$typeof===I$?(_="<"+(b(Y.type)||"Unknown")+" />",N=" Did you accidentally export a JSX literal instead of a component?"):_=typeof Y,(G=$?i($):null)&&(N+=`

Check the render method of \``+G+"`."),G=29,_=Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(_+"."+N)),N=null}return K=L(G,_,K,H),K.elementType=Y,K.type=N,K.lanes=X,K._debugOwner=$,K}function G8(Y,K,_){return K=v6(Y.type,Y.key,Y.props,Y._owner,K,_),K._debugOwner=Y._owner,K}function K1(Y,K,_,$){return Y=L(7,Y,$,K),Y.lanes=_,Y}function CW(Y,K,_,$){Y=L(22,Y,$,K),Y.elementType=SN,Y.lanes=_;var H={_visibility:OX,_pendingVisibility:OX,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var X=H,G=X._current;if(G===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((X._pendingVisibility&O1)===0){var N=Y_(G,2);N!==null&&(X._pendingVisibility|=O1,RK(N,G,2))}},attach:function(){var X=H,G=X._current;if(G===null)throw Error("Calling Offscreen.detach before instance handle has been set.");if((X._pendingVisibility&O1)!==0){var N=Y_(G,2);N!==null&&(X._pendingVisibility&=~O1,RK(N,G,2))}}};return Y.stateNode=H,Y}function f6(Y,K,_){return Y=L(6,Y,null,K),Y.lanes=_,Y}function m6(Y,K,_){return K=L(4,Y.children!==null?Y.children:[],Y.key,K),K.lanes=_,K.stateNode={containerInfo:Y.containerInfo,pendingChildren:null,implementation:Y.implementation},K}function V0(Y){Y.flags|=4}function wW(Y,K){if(K.type!=="stylesheet"||(K.state.loading&XB)!==x1)Y.flags&=-16777217;else if(Y.flags|=16777216,!LN(K)){if(K=BB.current,K!==null&&((UY&4194176)===UY?$0!==null:(UY&62914560)!==UY&&(UY&536870912)===0||K!==$0))throw NX=u4,M3;Y.flags|=8192}}function W8(Y,K){K!==null&&(Y.flags|=4),Y.flags&16384&&(K=Y.tag!==22?L_():536870912,Y.lanes|=K,q1|=K)}function hO(Y,K){if(!gY)switch(Y.tailMode){case"hidden":K=Y.tail;for(var _=null;K!==null;)K.alternate!==null&&(_=K),K=K.sibling;_===null?Y.tail=null:_.sibling=null;break;case"collapsed":_=Y.tail;for(var $=null;_!==null;)_.alternate!==null&&($=_),_=_.sibling;$===null?K||Y.tail===null?Y.tail=null:Y.tail.sibling=null:$.sibling=null}}function QK(Y){var K=Y.alternate!==null&&Y.alternate.child===Y.child,_=0,$=0;if(K)if((Y.mode&aK)!==XK){for(var{selfBaseDuration:H,child:X}=Y;X!==null;)_|=X.lanes|X.childLanes,$|=X.subtreeFlags&31457280,$|=X.flags&31457280,H+=X.treeBaseDuration,X=X.sibling;Y.treeBaseDuration=H}else for(H=Y.child;H!==null;)_|=H.lanes|H.childLanes,$|=H.subtreeFlags&31457280,$|=H.flags&31457280,H.return=Y,H=H.sibling;else if((Y.mode&aK)!==XK){H=Y.actualDuration,X=Y.selfBaseDuration;for(var G=Y.child;G!==null;)_|=G.lanes|G.childLanes,$|=G.subtreeFlags,$|=G.flags,H+=G.actualDuration,X+=G.treeBaseDuration,G=G.sibling;Y.actualDuration=H,Y.treeBaseDuration=X}else for(H=Y.child;H!==null;)_|=H.lanes|H.childLanes,$|=H.subtreeFlags,$|=H.flags,H.return=Y,H=H.sibling;return Y.subtreeFlags|=$,Y.childLanes=_,K}function Gq(Y,K,_){var $=K.pendingProps;switch(j7(K),K.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return QK(K),null;case 1:return QK(K),null;case 3:if($=K.stateNode,_=null,Y!==null&&(_=Y.memoizedState.cache),K.memoizedState.cache!==_&&(K.flags|=2048),w0(gK,K),l_(K),$.pendingContext&&($.context=$.pendingContext,$.pendingContext=null),Y===null||Y.child===null)VO(K)?(pG(),V0(K)):Y===null||Y.memoizedState.isDehydrated&&(K.flags&256)===0||(K.flags|=1024,DB!==null&&(h6(DB),DB=null));return QK(K),null;case 26:return _=K.memoizedState,Y===null?(V0(K),_!==null?(QK(K),wW(K,_)):(QK(K),K.flags&=-16777217)):_?_!==Y.memoizedState?(V0(K),QK(K),wW(K,_)):(QK(K),K.flags&=-16777217):(Y.memoizedProps!==$&&V0(K),QK(K),K.flags&=-16777217),null;case 27:NB(K),_=zK(G$.current);var H=K.type;if(Y!==null&&K.stateNode!=null)Y.memoizedProps!==$&&V0(K);else{if(!$){if(K.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return QK(K),null}Y=Z_(),VO(K)?lG(K,Y):(Y=PN(H,$,_,Y,!0),K.stateNode=Y,V0(K))}return QK(K),null;case 5:if(NB(K),_=K.type,Y!==null&&K.stateNode!=null)Y.memoizedProps!==$&&V0(K);else{if(!$){if(K.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return QK(K),null}if(H=Z_(),VO(K))lG(K,H);else{switch(Y=zK(G$.current),E7(_,H.ancestorInfo),H=H.context,Y=L8(Y),H){case cH:Y=Y.createElementNS(WH,_);break;case G2:Y=Y.createElementNS(y8,_);break;default:switch(_){case"svg":Y=Y.createElementNS(WH,_);break;case"math":Y=Y.createElementNS(y8,_);break;case"script":Y=Y.createElement("div"),Y.innerHTML="<script></script>",Y=Y.removeChild(Y.firstChild);break;case"select":Y=typeof $.is==="string"?Y.createElement("select",{is:$.is}):Y.createElement("select"),$.multiple?Y.multiple=!0:$.size&&(Y.size=$.size);break;default:Y=typeof $.is==="string"?Y.createElement(_,{is:$.is}):Y.createElement(_),_.indexOf("-")===-1&&(_!==_.toLowerCase()&&console.error("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",_),Object.prototype.toString.call(Y)!=="[object HTMLUnknownElement]"||D0.call(bZ,_)||(bZ[_]=!0,console.error("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",_)))}}Y[B_]=K,Y[A_]=$;Y:for(H=K.child;H!==null;){if(H.tag===5||H.tag===6)Y.appendChild(H.stateNode);else if(H.tag!==4&&H.tag!==27&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===K)break Y;for(;H.sibling===null;){if(H.return===null||H.return===K)break Y;H=H.return}H.sibling.return=H.return,H=H.sibling}K.stateNode=Y;Y:switch(oK(Y,_,$),_){case"button":case"input":case"select":case"textarea":Y=!!$.autoFocus;break Y;case"img":Y=!0;break Y;default:Y=!1}Y&&V0(K)}}return QK(K),K.flags&=-16777217,null;case 6:if(Y&&K.stateNode!=null)Y.memoizedProps!==$&&V0(K);else{if(typeof $!=="string"&&K.stateNode===null)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");if(Y=zK(G$.current),_=Z_(),VO(K)){Y=K.stateNode,$=K.memoizedProps,H=!T0,_=null;var X=P_;if(X!==null)switch(X.tag){case 3:H&&(H=XN(Y,$,_),H!==null&&(i$(K,0).serverProps=H));break;case 27:case 5:_=X.memoizedProps,H&&(H=XN(Y,$,_),H!==null&&(i$(K,0).serverProps=H))}Y[B_]=K,Y=Y.nodeValue===$||_!==null&&_.suppressHydrationWarning===!0||rW(Y.nodeValue,$)?!0:!1,Y||n$(K)}else _=_.ancestorInfo.current,_!=null&&yz($,_.tag),Y=L8(Y).createTextNode($),Y[B_]=K,K.stateNode=Y}return QK(K),null;case 13:if($=K.memoizedState,Y===null||Y.memoizedState!==null&&Y.memoizedState.dehydrated!==null){if(H=VO(K),$!==null&&$.dehydrated!==null){if(Y===null){if(!H)throw Error("A dehydrated suspense component was completed without a hydrated node. This is probably a bug in React.");if(H=K.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");H[B_]=K,QK(K),(K.mode&aK)!==XK&&$!==null&&(H=K.child,H!==null&&(K.treeBaseDuration-=H.treeBaseDuration))}else pG(),xO(),(K.flags&128)===0&&(K.memoizedState=null),K.flags|=4,QK(K),(K.mode&aK)!==XK&&$!==null&&(H=K.child,H!==null&&(K.treeBaseDuration-=H.treeBaseDuration));H=!1}else DB!==null&&(h6(DB),DB=null),H=!0;if(!H){if(K.flags&256)return R0(K),K;return R0(K),null}}if(R0(K),(K.flags&128)!==0)return K.lanes=_,(K.mode&aK)!==XK&&hz(K),K;return $=$!==null,Y=Y!==null&&Y.memoizedState!==null,$&&(_=K.child,H=null,_.alternate!==null&&_.alternate.memoizedState!==null&&_.alternate.memoizedState.cachePool!==null&&(H=_.alternate.memoizedState.cachePool.pool),X=null,_.memoizedState!==null&&_.memoizedState.cachePool!==null&&(X=_.memoizedState.cachePool.pool),X!==H&&(_.flags|=2048)),$!==Y&&$&&(K.child.flags|=8192),W8(K,K.updateQueue),QK(K),(K.mode&aK)!==XK&&$&&(Y=K.child,Y!==null&&(K.treeBaseDuration-=Y.treeBaseDuration)),null;case 4:return l_(K),Y===null&&a6(K.stateNode.containerInfo),QK(K),null;case 10:return w0(K.type,K),QK(K),null;case 19:if(lY(jK,K),H=K.memoizedState,H===null)return QK(K),null;if($=(K.flags&128)!==0,X=H.rendering,X===null)if($)hO(H,!1);else{if(VK!==b0||Y!==null&&(Y.flags&128)!==0)for(Y=K.child;Y!==null;){if(X=nz(Y),X!==null){K.flags|=128,hO(H,!1),Y=X.updateQueue,K.updateQueue=Y,W8(K,Y),K.subtreeFlags=0,Y=_;for($=K.child;$!==null;)RW($,Y),$=$.sibling;return TY(jK,jK.current&DH|JX,K),K.child}Y=Y.sibling}H.tail!==null&&eB()>t8&&(K.flags|=128,$=!0,hO(H,!1),K.lanes=4194304)}else{if(!$)if(Y=nz(X),Y!==null){if(K.flags|=128,$=!0,Y=Y.updateQueue,K.updateQueue=Y,W8(K,Y),hO(H,!0),H.tail===null&&H.tailMode==="hidden"&&!X.alternate&&!gY)return QK(K),null}else 2*eB()-H.renderingStartTime>t8&&_!==536870912&&(K.flags|=128,$=!0,hO(H,!1),K.lanes=4194304);H.isBackwards?(X.sibling=K.child,K.child=X):(Y=H.last,Y!==null?Y.sibling=X:K.child=X,H.last=X)}if(H.tail!==null)return Y=H.tail,H.rendering=Y,H.tail=Y.sibling,H.renderingStartTime=eB(),Y.sibling=null,_=jK.current,_=$?_&DH|JX:_&DH,TY(jK,_,K),Y;return QK(K),null;case 22:case 23:return R0(K),b7(K),$=K.memoizedState!==null,Y!==null?Y.memoizedState!==null!==$&&(K.flags|=8192):$&&(K.flags|=8192),$?(_&536870912)!==0&&(K.flags&128)===0&&(QK(K),K.subtreeFlags&6&&(K.flags|=8192)):QK(K),$=K.updateQueue,$!==null&&W8(K,$.retryQueue),$=null,Y!==null&&Y.memoizedState!==null&&Y.memoizedState.cachePool!==null&&($=Y.memoizedState.cachePool.pool),_=null,K.memoizedState!==null&&K.memoizedState.cachePool!==null&&(_=K.memoizedState.cachePool.pool),_!==$&&(K.flags|=2048),Y!==null&&lY(W1,K),null;case 24:return $=null,Y!==null&&($=Y.memoizedState.cache),K.memoizedState.cache!==$&&(K.flags|=2048),w0(gK,K),QK(K),null;case 25:return null}throw Error("Unknown unit of work tag ("+K.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function Wq(Y,K){switch(j7(K),K.tag){case 1:return Y=K.flags,Y&65536?(K.flags=Y&-65537|128,(K.mode&aK)!==XK&&hz(K),K):null;case 3:return w0(gK,K),l_(K),Y=K.flags,(Y&65536)!==0&&(Y&128)===0?(K.flags=Y&-65537|128,K):null;case 26:case 27:case 5:return NB(K),null;case 13:if(R0(K),Y=K.memoizedState,Y!==null&&Y.dehydrated!==null){if(K.alternate===null)throw Error("Threw in newly mounted dehydrated component. This is likely a bug in React. Please file an issue.");xO()}return Y=K.flags,Y&65536?(K.flags=Y&-65537|128,(K.mode&aK)!==XK&&hz(K),K):null;case 19:return lY(jK,K),null;case 4:return l_(K),null;case 10:return w0(K.type,K),null;case 22:case 23:return R0(K),b7(K),Y!==null&&lY(W1,K),Y=K.flags,Y&65536?(K.flags=Y&-65537|128,(K.mode&aK)!==XK&&hz(K),K):null;case 24:return w0(gK,K),null;case 25:return null;default:return null}}function AW(Y,K){switch(j7(K),K.tag){case 3:w0(gK,K),l_(K);break;case 26:case 27:case 5:NB(K);break;case 4:l_(K);break;case 13:R0(K);break;case 19:lY(jK,K);break;case 10:w0(K.type,K);break;case 22:case 23:R0(K),b7(K),Y!==null&&lY(W1,K);break;case 24:w0(gK,K)}}function Nq(){VC.forEach(function(Y){return Y()})}function EW(){var Y=typeof IS_REACT_ACT_ENVIRONMENT!=="undefined"?IS_REACT_ACT_ENVIRONMENT:void 0;return Y||f.actQueue===null||console.error("The current testing environment is not configured to support act(...)"),Y}function j_(Y){if((WK&N_)!==b_&&UY!==0)return UY&-UY;var K=f.T;return K!==null?(K._updatedFibers||(K._updatedFibers=new Set),K._updatedFibers.add(Y),Y=G1,Y!==0?Y:o6()):Uz()}function VW(){f_===0&&(f_=(UY&536870912)===0||gY?QB():536870912);var Y=BB.current;return Y!==null&&(Y.flags|=32),f_}function RK(Y,K,_){if(hH&&console.error("useInsertionEffect must not schedule updates."),QI&&(Y2=!0),Y===$K&&HK===L1||Y.cancelPendingCommit!==null)BH(Y,0),x0(Y,UY,f_,!1);if(hK(Y,_),(WK&N_)!==0&&Y===$K){if(r_)switch(K.tag){case 0:case 11:case 15:Y=DY&&l(DY)||"Unknown",SZ.has(Y)||(SZ.add(Y),K=l(K)||"Unknown",console.error("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://react.dev/link/setstate-in-render",K,Y,Y));break;case 1:UZ||(console.error("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),UZ=!0)}}else AB&&JO(Y,K,_),Vq(K),Y===$K&&((WK&N_)===b_&&(A$|=_),VK===Q1&&x0(Y,UY,f_,!1)),aB(Y)}function xW(Y,K,_){if((WK&(N_|g0))!==b_)throw Error("Should not already be working.");var $=!_&&(K&60)===0&&(K&Y.expiredLanes)===0||BK(Y,K),H=$?Jq(Y,K):l6(Y,K,!0),X=$;do{if(H===b0){mH&&!$&&x0(Y,K,0,!1);break}else if(H===a8)x0(Y,K,0,!v0);else{if(_=Y.current.alternate,X&&!Zq(_)){H=l6(Y,K,!1),X=!1;continue}if(H===vH){if(X=K,Y.errorRecoveryDisabledLanes&X)var G=0;else G=Y.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){K=G;Y:{H=Y;var N=G;G=xX;var R=H.current.memoizedState.isDehydrated;if(R&&(BH(H,N).flags|=256),N=l6(H,N,!1),N!==vH){if(PI&&!R){H.errorRecoveryDisabledLanes|=X,A$|=X,H=Q1;break Y}H=UB,UB=G,H!==null&&h6(H)}H=N}if(X=!1,H!==vH)continue}}if(H===wX){BH(Y,0),x0(Y,K,0,!0);break}Y:{switch($=Y,H){case b0:case wX:throw Error("Root did not complete. This is a bug in React.");case Q1:if((K&4194176)===K){x0($,K,f_,!v0);break Y}break;case vH:UB=null;break;case XI:case VZ:break;default:throw Error("Unknown root exit status.")}if($.finishedWork=_,$.finishedLanes=K,f.actQueue!==null)u6($,UB,FX,r8,f_,A$,q1,MZ,d4,0);else{if((K&62914560)===K&&(H=WI+FZ-eB(),10<H)){if(x0($,K,f_,!v0),U_($,0)!==0)break Y;$.timeoutHandle=vZ(FW.bind(null,$,_,UB,FX,r8,K,f_,A$,q1,v0,UC,d4,0),H);break Y}FW($,_,UB,FX,r8,K,f_,A$,q1,v0,MZ,d4,0)}}}break}while(1);aB(Y)}function h6(Y){UB===null?UB=Y:UB.push.apply(UB,Y)}function FW(Y,K,_,$,H,X,G,N,R,A,k,d,g){var u=K.subtreeFlags;if(u&8192||(u&16785408)===16785408){if(yX={stylesheets:null,count:0,unsuspend:nq},ZW(K),K=sq(),K!==null){Y.cancelPendingCommit=K(u6.bind(null,Y,_,$,H,G,N,R,MC,d,g)),x0(Y,X,G,!A);return}}u6(Y,_,$,H,G,N,R,k,d,g)}function Zq(Y){for(var K=Y;;){var _=K.tag;if((_===0||_===11||_===15)&&K.flags&16384&&(_=K.updateQueue,_!==null&&(_=_.stores,_!==null)))for(var $=0;$<_.length;$++){var H=_[$],X=H.getSnapshot;H=H.value;try{if(!I_(X(),H))return!1}catch(G){return!1}}if(_=K.child,K.subtreeFlags&16384&&_!==null)_.return=K,K=_;else{if(K===Y)break;for(;K.sibling===null;){if(K.return===null||K.return===Y)return!0;K=K.return}K.sibling.return=K.return,K=K.sibling}}return!0}function x0(Y,K,_,$){K&=~GI,K&=~A$,Y.suspendedLanes|=K,Y.pingedLanes&=~K,$&&(Y.warmLanes|=K),$=Y.expirationTimes;for(var H=K;0<H;){var X=31-X_(H),G=1<<X;$[X]=-1,H&=~G}_!==0&&ZO(Y,_,K)}function _H(){return(WK&(N_|g0))===b_?(cO(0,!1),!1):!0}function d6(){if(DY!==null){if(HK===x_)var Y=DY.return;else Y=DY,H8(),u7(Y),xH=null,ZX=0,Y=DY;for(;Y!==null;)AW(Y.alternate,Y),Y=Y.return;DY=null}}function BH(Y,K){Y.finishedWork=null,Y.finishedLanes=0;var _=Y.timeoutHandle;_!==DI&&(Y.timeoutHandle=DI,vC(_)),_=Y.cancelPendingCommit,_!==null&&(Y.cancelPendingCommit=null,_()),d6(),$K=Y,DY=_=X$(Y.current,null),UY=K,HK=x_,v_=null,v0=!1,mH=BK(Y,K),PI=!1,VK=b0,q1=f_=GI=A$=w$=0,UB=xX=null,r8=!1,(K&8)!==0&&(K|=K&32);var $=Y.entangledLanes;if($!==0)for(Y=Y.entanglements,$&=K;0<$;){var H=31-X_($),X=1<<H;K|=Y[H],$&=~X}return O0=K,bz(),FB.discardPendingWarnings(),_}function DW(Y,K){LY=null,f.H=H0,f.getCurrentStack=null,r_=!1,K_=null,K===l8?(K=sG(),HK=EX):K===M3?(K=sG(),HK=xZ):HK=K===XZ?II:K!==null&&typeof K==="object"&&typeof K.then==="function"?fH:AX,v_=K;var _=DY;if(_===null)VK=wX,$8(Y,T_(K,Y.current));else switch(_.mode&aK&&T7(_),_Y(),HK){case AX:YY!==null&&typeof YY.markComponentErrored==="function"&&YY.markComponentErrored(_,K,UY);break;case L1:case EX:case fH:case VX:YY!==null&&typeof YY.markComponentSuspended==="function"&&YY.markComponentSuspended(_,K,UY)}}function MW(){var Y=f.H;return f.H=H0,Y===null?H0:Y}function UW(){var Y=f.A;return f.A=EC,Y}function c6(){VK=Q1,v0||(UY&4194176)!==UY&&BB.current!==null||(mH=!0),(w$&134217727)===0&&(A$&134217727)===0||$K===null||x0($K,UY,f_,!1)}function l6(Y,K,_){var $=WK;WK|=N_;var H=MW(),X=UW();if($K!==Y||UY!==K){if(AB){var G=Y.memoizedUpdaters;0<G.size&&(dO(Y,UY),G.clear()),d1(Y,K)}FX=null,BH(Y,K)}BY(K),K=!1,G=VK;Y:do try{if(HK!==x_&&DY!==null){var N=DY,R=v_;switch(HK){case II:d6(),G=a8;break Y;case EX:case L1:case fH:BB.current===null&&(K=!0);var A=HK;if(HK=x_,v_=null,$H(Y,N,R,A),_&&mH){G=b0;break Y}break;default:A=HK,HK=x_,v_=null,$H(Y,N,R,A)}}SW(),G=VK;break}catch(k){DW(Y,k)}while(1);return K&&Y.shellSuspendCounter++,H8(),WK=$,f.H=H,f.A=X,yY(),DY===null&&($K=null,UY=0,bz()),G}function SW(){for(;DY!==null;)TW(DY)}function Jq(Y,K){var _=WK;WK|=N_;var $=MW(),H=UW();if($K!==Y||UY!==K){if(AB){var X=Y.memoizedUpdaters;0<X.size&&(dO(Y,UY),X.clear()),d1(Y,K)}FX=null,t8=eB()+DZ,BH(Y,K)}else mH=BK(Y,K);BY(K);Y:do try{if(HK!==x_&&DY!==null)K:switch(K=DY,X=v_,HK){case AX:HK=x_,v_=null,$H(Y,K,X,AX);break;case L1:if(nG(X)){HK=x_,v_=null,yW(K);break}K=function(){HK===L1&&$K===Y&&(HK=VX),aB(Y)},X.then(K,K);break Y;case EX:HK=VX;break Y;case xZ:HK=zI;break Y;case VX:nG(X)?(HK=x_,v_=null,yW(K)):(HK=x_,v_=null,$H(Y,K,X,VX));break;case zI:var G=null;switch(DY.tag){case 26:G=DY.memoizedState;case 5:case 27:var N=DY;if(G?LN(G):1){HK=x_,v_=null;var R=N.sibling;if(R!==null)DY=R;else{var A=N.return;A!==null?(DY=A,N8(A)):DY=null}break K}break;default:console.error("Unexpected type of fiber triggered a suspensey commit. This is a bug in React.")}HK=x_,v_=null,$H(Y,K,X,zI);break;case fH:HK=x_,v_=null,$H(Y,K,X,fH);break;case II:d6(),VK=a8;break Y;default:throw Error("Unexpected SuspendedReason. This is a bug in React.")}f.actQueue!==null?SW():Qq();break}catch(k){DW(Y,k)}while(1);if(H8(),f.H=$,f.A=H,WK=_,DY!==null)return YY!==null&&typeof YY.markRenderYielded==="function"&&YY.markRenderYielded(),b0;return yY(),$K=null,UY=0,bz(),VK}function Qq(){for(;DY!==null&&!GR();)TW(DY)}function TW(Y){var K=Y.alternate;(Y.mode&aK)!==XK?(S7(Y),K=KY(Y,V6,K,Y,O0),T7(Y)):K=KY(Y,V6,K,Y,O0),Y.memoizedProps=Y.pendingProps,K===null?N8(Y):DY=K}function yW(Y){var K=KY(Y,Lq,Y);Y.memoizedProps=Y.pendingProps,K===null?N8(Y):DY=K}function Lq(Y){var K=Y.alternate,_=(Y.mode&aK)!==XK;switch(_&&S7(Y),Y.tag){case 15:case 0:K=h5(K,Y,Y.pendingProps,Y.type,void 0,UY);break;case 11:K=h5(K,Y,Y.pendingProps,Y.type.render,Y.ref,UY);break;case 5:u7(Y);default:AW(K,Y),Y=DY=RW(Y,O0),K=V6(K,Y,O0)}return _&&T7(Y),K}function $H(Y,K,_,$){H8(),u7(K),xH=null,ZX=0;var H=K.return;try{if(tL(Y,H,K,_,UY)){VK=wX,$8(Y,T_(_,Y.current)),DY=null;return}}catch(X){if(H!==null)throw DY=H,X;VK=wX,$8(Y,T_(_,Y.current)),DY=null;return}if(K.flags&32768){if(gY||$===AX)Y=!0;else if(mH||(UY&536870912)!==0)Y=!1;else if(v0=Y=!0,$===L1||$===EX||$===fH)$=BB.current,$!==null&&$.tag===13&&($.flags|=16384);jW(K,Y)}else N8(K)}function N8(Y){var K=Y;do{if((K.flags&32768)!==0){jW(K,v0);return}var _=K.alternate;if(Y=K.return,S7(K),_=KY(K,Gq,_,K,O0),(K.mode&aK)!==XK&&dG(K),_!==null){DY=_;return}if(K=K.sibling,K!==null){DY=K;return}DY=K=Y}while(K!==null);VK===b0&&(VK=VZ)}function jW(Y,K){do{var _=Wq(Y.alternate,Y);if(_!==null){_.flags&=32767,DY=_;return}if((Y.mode&aK)!==XK){dG(Y),_=Y.actualDuration;for(var $=Y.child;$!==null;)_+=$.actualDuration,$=$.sibling;Y.actualDuration=_}if(_=Y.return,_!==null&&(_.flags|=32768,_.subtreeFlags=0,_.deletions=null),!K&&(Y=Y.sibling,Y!==null)){DY=Y;return}DY=Y=_}while(Y!==null);VK=a8,DY=null}function u6(Y,K,_,$,H,X,G,N,R,A){var k=f.T,d=GK.p;try{GK.p=EB,f.T=null,qq(Y,K,_,$,d,H,X,G,N,R,A)}finally{f.T=k,GK.p=d}}function qq(Y,K,_,$,H,X,G,N){do _1();while(R1!==null);if(FB.flushLegacyContextWarning(),FB.flushPendingUnsafeLifecycleWarnings(),(WK&(N_|g0))!==b_)throw Error("Should not already be working.");var R=Y.finishedWork;if($=Y.finishedLanes,YY!==null&&typeof YY.markCommitStarted==="function"&&YY.markCommitStarted($),R===null)return r0(),null;if($===0&&console.error("root.finishedLanes should not be empty during a commit. This is a bug in React."),Y.finishedWork=null,Y.finishedLanes=0,R===Y.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");Y.callbackNode=null,Y.callbackPriority=0,Y.cancelPendingCommit=null;var A=R.lanes|R.childLanes;if(A|=h4,Mz(Y,$,A,X,G,N),Y===$K&&(DY=$K=null,UY=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||e8||(e8=!0,NI=A,ZI=_,Eq(PH,function(){return _1(!0),null})),v8=AH(),_=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||_?(_=f.T,f.T=null,X=GK.p,GK.p=EB,G=WK,WK|=g0,Oq(Y,R),zq(Y,R,$),uL(xI,Y.containerInfo),J2=!!VI,xI=VI=null,Y.current=R,YY!==null&&typeof YY.markLayoutEffectsStarted==="function"&&YY.markLayoutEffectsStarted($),Iq(R,Y,$),YY!==null&&typeof YY.markLayoutEffectsStopped==="function"&&YY.markLayoutEffectsStopped(),WR(),WK=G,GK.p=X,f.T=_):Y.current=R,(_=e8)?(e8=!1,R1=Y,DX=$):(kW(Y,A),C1=0,UX=null),A=Y.pendingLanes,A===0&&(E$=null),_||fW(Y),m1(R.stateNode,H),AB&&Y.memoizedUpdaters.clear(),Nq(),aB(Y),K!==null)for(H=Y.onRecoverableError,R=0;R<K.length;R++)A=K[R],_=Rq(A.stack),KY(A.source,H,A.value,_);return(DX&3)!==0&&_1(),A=Y.pendingLanes,($&4194218)!==0&&(A&42)!==0?(m8=!0,Y===JI?MX++:(MX=0,JI=Y)):MX=0,cO(0,!1),r0(),null}function Rq(Y){return Y={componentStack:Y},Object.defineProperty(Y,"digest",{get:function(){console.error('You are accessing "digest" from the errorInfo object passed to onRecoverableError. This property is no longer provided as part of errorInfo but can be accessed as a property of the Error instance itself.')}}),Y}function kW(Y,K){(Y.pooledCacheLanes&=K)===0&&(K=Y.pooledCache,K!=null&&(Y.pooledCache=null,MO(K)))}function _1(){if(R1!==null){var Y=R1,K=NI;NI=0;var _=c1(DX),$=K0===0||K0>_?K0:_;_=f.T;var H=GK.p;try{if(GK.p=$,f.T=null,R1===null)var X=!1;else{$=ZI,ZI=null;var G=R1,N=DX;if(R1=null,DX=0,(WK&(N_|g0))!==b_)throw Error("Cannot flush passive effects while already rendering.");QI=!0,Y2=!1,YY!==null&&typeof YY.markPassiveEffectsStarted==="function"&&YY.markPassiveEffectsStarted(N);var R=WK;if(WK|=g0,QW(G.current),WW(G,G.current,N,$),YY!==null&&typeof YY.markPassiveEffectsStopped==="function"&&YY.markPassiveEffectsStopped(),fW(G),WK=R,cO(0,!1),Y2?G===UX?C1++:(C1=0,UX=G):C1=0,Y2=QI=!1,__&&typeof __.onPostCommitFiberRoot==="function")try{__.onPostCommitFiberRoot(GH,G)}catch(k){Y0||(Y0=!0,console.error("React instrumentation encountered an error: %s",k))}var A=G.current.stateNode;A.effectDuration=0,A.passiveEffectDuration=0,X=!0}return X}finally{GK.p=H,f.T=_,kW(Y,K)}}return!1}function gW(Y,K,_){K=T_(_,K),K=W6(Y.stateNode,K,2),Y=H$(Y,K,2),Y!==null&&(hK(Y,2),aB(Y))}function tY(Y,K,_){if(hH=!1,Y.tag===3)gW(Y,Y,_);else{for(;K!==null;){if(K.tag===3){gW(K,Y,_);return}if(K.tag===1){var $=K.stateNode;if(typeof K.type.getDerivedStateFromError==="function"||typeof $.componentDidCatch==="function"&&(E$===null||!E$.has($))){Y=T_(_,Y),_=N6(2),$=H$(K,_,2),$!==null&&(Z6(_,$,K,Y),hK($,2),aB($));return}}K=K.return}console.error(`Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Potential causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.

Error message:

%s`,_)}}function p6(Y,K,_){var $=Y.pingCache;if($===null){$=Y.pingCache=new xC;var H=new Set;$.set(K,H)}else H=$.get(K),H===void 0&&(H=new Set,$.set(K,H));H.has(_)||(PI=!0,H.add(_),$=Cq.bind(null,Y,K,_),AB&&dO(Y,_),K.then($,$))}function Cq(Y,K,_){var $=Y.pingCache;$!==null&&$.delete(K),Y.pingedLanes|=Y.suspendedLanes&_,Y.warmLanes&=~_,EW()&&f.actQueue===null&&console.error(`A suspended resource finished loading inside a test, but the event was not wrapped in act(...).

When testing, code that resolves suspended data should be wrapped into act(...):

act(() => {
  /* finish loading suspended data */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`),$K===Y&&(UY&_)===_&&(VK===Q1||VK===XI&&(UY&62914560)===UY&&eB()-WI<FZ?(WK&N_)===b_&&BH(Y,0):GI|=_,q1===UY&&(q1=0)),aB(Y)}function bW(Y,K){K===0&&(K=L_()),Y=Y_(Y,K),Y!==null&&(hK(Y,K),aB(Y))}function wq(Y){var K=Y.memoizedState,_=0;K!==null&&(_=K.retryLane),bW(Y,_)}function Aq(Y,K){var _=0;switch(Y.tag){case 13:var{stateNode:$,memoizedState:H}=Y;H!==null&&(_=H.retryLane);break;case 19:$=Y.stateNode;break;case 22:$=Y.stateNode._retryCache;break;default:throw Error("Pinged unknown suspense boundary type. This is probably a bug in React.")}$!==null&&$.delete(K),bW(Y,_)}function i6(Y,K,_){if((K.subtreeFlags&33562624)!==0)for(K=K.child;K!==null;){var $=Y,H=K,X=H.type===x8;X=_||X,H.tag!==22?H.flags&33554432?X&&KY(H,vW,$,H,(H.mode&F3)===XK):i6($,H,X):H.memoizedState===null&&(X&&H.flags&8192?KY(H,vW,$,H):H.subtreeFlags&33554432&&KY(H,i6,$,H,X)),K=K.sibling}}function vW(Y,K){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!0;nY(!0);try{PW(K),_&&LW(K),GW(Y,K.alternate,K,!1),_&&NW(Y,K,0,null,!1)}finally{nY(!1)}}function fW(Y){var K=!0;Y.current.mode&($_|xB)||(K=!1),i6(Y,Y.current,K)}function mW(Y){if((WK&N_)===b_){var K=Y.tag;if(K===3||K===1||K===0||K===11||K===14||K===15){if(K=l(Y)||"ReactComponent",K2!==null){if(K2.has(K))return;K2.add(K)}else K2=new Set([K]);KY(Y,function(){console.error("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")})}}}function dO(Y,K){AB&&Y.memoizedUpdaters.forEach(function(_){JO(Y,_,K)})}function Eq(Y,K){var _=f.actQueue;return _!==null?(_.push(K),SC):A4(Y,K)}function Vq(Y){EW()&&f.actQueue===null&&KY(Y,function(){console.error(`An update to %s inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act`,l(Y))})}function aB(Y){Y!==dH&&Y.next===null&&(dH===null?_2=dH=Y:dH=dH.next=Y),B2=!0,f.actQueue!==null?qI||(qI=!0,uW(hW)):LI||(LI=!0,uW(hW))}function cO(Y,K){if(!RI&&B2){RI=!0;do{var _=!1;for(var $=_2;$!==null;){if(!K)if(Y!==0){var H=$.pendingLanes;if(H===0)var X=0;else{var{suspendedLanes:G,pingedLanes:N}=$;X=(1<<31-X_(42|Y)+1)-1,X&=H&~(G&~N),X=X&201326677?X&201326677|1:X?X|2:0}X!==0&&(_=!0,lW($,X))}else X=UY,X=U_($,$===$K?X:0),(X&3)===0||BK($,X)||(_=!0,lW($,X));$=$.next}}while(_);RI=!1}}function hW(){B2=qI=LI=!1;var Y=0;w1!==0&&(Uq()&&(Y=w1),w1=0);for(var K=eB(),_=null,$=_2;$!==null;){var H=$.next,X=dW($,K);if(X===0)$.next=null,_===null?_2=H:_.next=H,H===null&&(dH=_);else if(_=$,Y!==0||(X&3)!==0)B2=!0;$=H}cO(Y,!1)}function dW(Y,K){for(var{suspendedLanes:_,pingedLanes:$,expirationTimes:H}=Y,X=Y.pendingLanes&-62914561;0<X;){var G=31-X_(X),N=1<<G,R=H[G];if(R===-1){if((N&_)===0||(N&$)!==0)H[G]=p_(N,K)}else R<=K&&(Y.expiredLanes|=N);X&=~N}if(K=$K,_=UY,_=U_(Y,Y===K?_:0),$=Y.callbackNode,_===0||Y===K&&HK===L1||Y.cancelPendingCommit!==null)return $!==null&&n6($),Y.callbackNode=null,Y.callbackPriority=0;if((_&3)===0||BK(Y,_)){if(K=_&-_,K!==Y.callbackPriority||f.actQueue!==null&&$!==CI)n6($);else return K;switch(c1(_)){case EB:case VB:_=V4;break;case K0:_=PH;break;case S8:_=x4;break;default:_=PH}return $=cW.bind(null,Y),f.actQueue!==null?(f.actQueue.push($),_=CI):_=A4(_,$),Y.callbackPriority=K,Y.callbackNode=_,K}return $!==null&&n6($),Y.callbackPriority=2,Y.callbackNode=null,2}function cW(Y,K){m8=f8=!1;var _=Y.callbackNode;if(_1()&&Y.callbackNode!==_)return null;var $=UY;if($=U_(Y,Y===$K?$:0),$===0)return null;return xW(Y,$,K),dW(Y,eB()),Y.callbackNode!=null&&Y.callbackNode===_?cW.bind(null,Y):null}function lW(Y,K){if(_1())return null;f8=m8,m8=!1,xW(Y,K,!0)}function n6(Y){Y!==CI&&Y!==null&&PR(Y)}function uW(Y){f.actQueue!==null&&f.actQueue.push(function(){return Y(),null}),fC(function(){(WK&(N_|g0))!==b_?A4(E4,Y):Y()})}function o6(){return w1===0&&(w1=QB()),w1}function pW(Y){if(Y==null||typeof Y==="symbol"||typeof Y==="boolean")return null;if(typeof Y==="function")return Y;return vY(Y,"action"),CO(""+Y)}function iW(Y,K){var _=K.ownerDocument.createElement("input");return _.name=K.name,_.value=K.value,Y.id&&_.setAttribute("form",Y.id),K.parentNode.insertBefore(_,K),Y=new FormData(Y),_.parentNode.removeChild(_),Y}function xq(Y,K,_,$,H){if(K==="submit"&&_&&_.stateNode===H){var X=pW((H[A_]||null).action),G=$.submitter;G&&(K=(K=G[A_]||null)?pW(K.formAction):G.getAttribute("formAction"),K!==null&&(X=K,G=null));var N=new g8("action","action",null,$,H);Y.push({event:N,listeners:[{instance:null,listener:function(){if($.defaultPrevented){if(w1!==0){var R=G?iW(H,G):new FormData(H),A={pending:!0,data:R,method:H.method,action:X};Object.freeze(A),H6(_,A,null,R)}}else typeof X==="function"&&(N.preventDefault(),R=G?iW(H,G):new FormData(H),A={pending:!0,data:R,method:H.method,action:X},Object.freeze(A),H6(_,A,X,R))},currentTarget:H}]})}}function nW(Y,K){K=(K&4)!==0;for(var _=0;_<Y.length;_++){var $=Y[_];Y:{var H=void 0,X=$.event;if($=$.listeners,K)for(var G=$.length-1;0<=G;G--){var N=$[G],R=N.instance,A=N.currentTarget;if(N=N.listener,R!==H&&X.isPropagationStopped())break Y;H=X,H.currentTarget=A;try{N(H)}catch(k){o8(k)}H.currentTarget=null,H=R}else for(G=0;G<$.length;G++){if(N=$[G],R=N.instance,A=N.currentTarget,N=N.listener,R!==H&&X.isPropagationStopped())break Y;H=X,H.currentTarget=A;try{N(H)}catch(k){o8(k)}H.currentTarget=null,H=R}}}}function kY(Y,K){wI.has(Y)||console.error('Did not expect a listenToNonDelegatedEvent() call for "%s". This is a bug in React. Please file an issue.',Y);var _=K[F4];_===void 0&&(_=K[F4]=new Set);var $=Y+"__bubble";_.has($)||(oW(K,Y,2,!1),_.add($))}function s6(Y,K,_){wI.has(Y)&&!K&&console.error('Did not expect a listenToNativeEvent() call for "%s" in the bubble phase. This is a bug in React. Please file an issue.',Y);var $=0;K&&($|=4),oW(_,Y,$,K)}function a6(Y){if(!Y[$2]){Y[$2]=!0,dN.forEach(function(_){_!=="selectionchange"&&(wI.has(_)||s6(_,!1,Y),s6(_,!0,Y))});var K=Y.nodeType===9?Y:Y.ownerDocument;K===null||K[$2]||(K[$2]=!0,s6("selectionchange",!1,K))}}function oW(Y,K,_,$){switch(VN(K)){case EB:var H=KR;break;case VB:H=_R;break;default:H=I4}_=H.bind(null,K,_,Y),H=void 0,!T4||K!=="touchstart"&&K!=="touchmove"&&K!=="wheel"||(H=!0),$?H!==void 0?Y.addEventListener(K,_,{capture:!0,passive:H}):Y.addEventListener(K,_,!0):H!==void 0?Y.addEventListener(K,_,{passive:H}):Y.addEventListener(K,_,!1)}function r6(Y,K,_,$,H){var X=$;if((K&1)===0&&(K&2)===0&&$!==null)Y:for(;;){if($===null)return;var G=$.tag;if(G===3||G===4){var N=$.stateNode.containerInfo;if(N===H||N.nodeType===8&&N.parentNode===H)break;if(G===4)for(G=$.return;G!==null;){var R=G.tag;if(R===3||R===4){if(R=G.stateNode.containerInfo,R===H||R.nodeType===8&&R.parentNode===H)return}G=G.return}for(;N!==null;){if(G=cB(N),G===null)return;if(R=G.tag,R===5||R===6||R===26||R===27){$=X=G;continue Y}N=N.parentNode}}$=$.return}EG(function(){var A=X,k=V7(_),d=[];Y:{var g=V3.get(Y);if(g!==void 0){var u=g8,IY=Y;switch(Y){case"keypress":if(jz(_)===0)break Y;case"keydown":case"keyup":u=rR;break;case"focusin":IY="focus",u=g4;break;case"focusout":IY="blur",u=g4;break;case"beforeblur":case"afterblur":u=g4;break;case"click":if(_.button===2)break Y;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=P3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=YC;break;case C3:case w3:case A3:u=cR;break;case E3:u=_C;break;case"scroll":case"scrollend":u=vR;break;case"wheel":u=$C;break;case"copy":case"cut":case"paste":u=uR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=W3;break;case"toggle":case"beforetoggle":u=OC}var EY=(K&4)!==0,MK=!EY&&(Y==="scroll"||Y==="scrollend"),uY=EY?g!==null?g+"Capture":null:g;EY=[];for(var V=A,E;V!==null;){var F=V;if(E=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||E===null||uY===null||(F=wO(V,uY),F!=null&&EY.push(lO(V,F,E))),MK)break;V=V.return}0<EY.length&&(g=new u(g,IY,null,_,k),d.push({event:g,listeners:EY}))}}if((K&7)===0){Y:{if(g=Y==="mouseover"||Y==="pointerover",u=Y==="mouseout"||Y==="pointerout",g&&_!==tO&&(IY=_.relatedTarget||_.fromElement)&&(cB(IY)||IY[B1]))break Y;if(u||g){if(g=k.window===k?k:(g=k.ownerDocument)?g.defaultView||g.parentWindow:window,u){if(IY=_.relatedTarget||_.toElement,u=A,IY=IY?cB(IY):null,IY!==null&&(MK=t(IY),EY=IY.tag,IY!==MK||EY!==5&&EY!==27&&EY!==6))IY=null}else u=null,IY=A;if(u!==IY){if(EY=P3,F="onMouseLeave",uY="onMouseEnter",V="mouse",Y==="pointerout"||Y==="pointerover")EY=W3,F="onPointerLeave",uY="onPointerEnter",V="pointer";if(MK=u==null?g:t0(u),E=IY==null?g:t0(IY),g=new EY(F,V+"leave",u,_,k),g.target=MK,g.relatedTarget=E,F=null,cB(k)===A&&(EY=new EY(uY,V+"enter",IY,_,k),EY.target=E,EY.relatedTarget=MK,F=EY),MK=F,u&&IY)K:{EY=u,uY=IY,V=0;for(E=EY;E;E=HH(E))V++;E=0;for(F=uY;F;F=HH(F))E++;for(;0<V-E;)EY=HH(EY),V--;for(;0<E-V;)uY=HH(uY),E--;for(;V--;){if(EY===uY||uY!==null&&EY===uY.alternate)break K;EY=HH(EY),uY=HH(uY)}EY=null}else EY=null;u!==null&&sW(d,g,u,EY,!1),IY!==null&&MK!==null&&sW(d,MK,IY,EY,!0)}}}Y:{if(g=A?t0(A):window,u=g.nodeName&&g.nodeName.toLowerCase(),u==="select"||u==="input"&&g.type==="file")var h=SG;else if(MG(g))if(q3)h=cL;else{h=hL;var r=mL}else u=g.nodeName,!u||u.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?A&&RO(A.elementType)&&(h=SG):h=dL;if(h&&(h=h(Y,A))){UG(d,h,_,k);break Y}r&&r(Y,g,A),Y==="focusout"&&A&&g.type==="number"&&A.memoizedProps.value!=null&&q_(g,"number",g.value)}switch(r=A?t0(A):window,Y){case"focusin":if(MG(r)||r.contentEditable==="true")qH=r,v4=A,HX=null;break;case"focusout":HX=v4=qH=null;break;case"mousedown":f4=!0;break;case"contextmenu":case"mouseup":case"dragend":f4=!1,vG(d,_,k);break;case"selectionchange":if(PC)break;case"keydown":case"keyup":vG(d,_,k)}var wY;if(b4)Y:{switch(Y){case"compositionstart":var XY="onCompositionStart";break Y;case"compositionend":XY="onCompositionEnd";break Y;case"compositionupdate":XY="onCompositionUpdate";break Y}XY=void 0}else LH?FG(Y,_)&&(XY="onCompositionEnd"):Y==="keydown"&&_.keyCode===N3&&(XY="onCompositionStart");if(XY&&(Z3&&_.locale!=="ko"&&(LH||XY!=="onCompositionStart"?XY==="onCompositionEnd"&&LH&&(wY=VG()):(N$=k,y4=("value"in N$)?N$.value:N$.textContent,LH=!0)),r=Z8(A,XY),0<r.length&&(XY=new G3(XY,Y,null,_,k),d.push({event:XY,listeners:r}),wY?XY.data=wY:(wY=DG(_),wY!==null&&(XY.data=wY)))),wY=zC?gL(Y,_):bL(Y,_))XY=Z8(A,"onBeforeInput"),0<XY.length&&(r=new iR("onBeforeInput","beforeinput",null,_,k),d.push({event:r,listeners:XY}),r.data=wY);xq(d,Y,A,_,k)}nW(d,K)})}function lO(Y,K,_){return{instance:Y,listener:K,currentTarget:_}}function Z8(Y,K){for(var _=K+"Capture",$=[];Y!==null;){var H=Y,X=H.stateNode;H=H.tag,H!==5&&H!==26&&H!==27||X===null||(H=wO(Y,_),H!=null&&$.unshift(lO(Y,H,X)),H=wO(Y,K),H!=null&&$.push(lO(Y,H,X))),Y=Y.return}return $}function HH(Y){if(Y===null)return null;do Y=Y.return;while(Y&&Y.tag!==5&&Y.tag!==27);return Y?Y:null}function sW(Y,K,_,$,H){for(var X=K._reactName,G=[];_!==null&&_!==$;){var N=_,R=N.alternate,A=N.stateNode;if(N=N.tag,R!==null&&R===$)break;N!==5&&N!==26&&N!==27||A===null||(R=A,H?(A=wO(_,X),A!=null&&G.unshift(lO(_,A,R))):H||(A=wO(_,X),A!=null&&G.push(lO(_,A,R)))),_=_.return}G.length!==0&&Y.push({event:K,listeners:G})}function t6(Y,K){TL(Y,K),Y!=="input"&&Y!=="textarea"&&Y!=="select"||K==null||K.value!==null||z3||(z3=!0,Y==="select"&&K.multiple?console.error("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",Y):console.error("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",Y));var _={registrationNameDependencies:$1,possibleRegistrationNames:D4};RO(Y)||typeof K.is==="string"||jL(Y,K,_),K.contentEditable&&!K.suppressContentEditableWarning&&K.children!=null&&console.error("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional.")}function cK(Y,K,_,$){K!==_&&(_=z$(_),z$(K)!==_&&($[Y]=K))}function Fq(Y,K,_){K.forEach(function($){_[tW($)]=$==="style"?Y4(Y):Y.getAttribute($)})}function rB(Y,K){K===!1?console.error("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",Y,Y,Y):console.error("Expected `%s` listener to be a function, instead got a value of `%s` type.",Y,typeof K)}function aW(Y,K){return Y=Y.namespaceURI===y8||Y.namespaceURI===WH?Y.ownerDocument.createElementNS(Y.namespaceURI,Y.tagName):Y.ownerDocument.createElement(Y.tagName),Y.innerHTML=K,Y.innerHTML}function z$(Y){return ZB(Y)&&(console.error("The provided HTML markup uses a value of unsupported type %s. This value must be coerced to a string before using it here.",u_(Y)),J_(Y)),(typeof Y==="string"?Y:""+Y).replace(yC,`
`).replace(jC,"")}function rW(Y,K){return K=z$(K),z$(Y)===K?!0:!1}function J8(){}function eY(Y,K,_,$,H,X){switch(_){case"children":if(typeof $==="string")yz($,K),K==="body"||K==="textarea"&&$===""||qO(Y,$);else if(typeof $==="number"||typeof $==="bigint")yz(""+$,K),K!=="body"&&qO(Y,""+$);break;case"className":J(Y,"class",$);break;case"tabIndex":J(Y,"tabindex",$);break;case"dir":case"role":case"viewBox":case"width":case"height":J(Y,_,$);break;case"style":CG(Y,$,X);break;case"data":if(K!=="object"){J(Y,"data",$);break}case"src":case"href":if($===""&&(K!=="a"||_!=="href")){_==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',_,_):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',_,_),Y.removeAttribute(_);break}if($==null||typeof $==="function"||typeof $==="symbol"||typeof $==="boolean"){Y.removeAttribute(_);break}vY($,_),$=CO(""+$),Y.setAttribute(_,$);break;case"action":case"formAction":if($!=null&&(K==="form"?_==="formAction"?console.error("You can only pass the formAction prop to <input> or <button>. Use the action prop on <form>."):typeof $==="function"&&(H.encType==null&&H.method==null||X2||(X2=!0,console.error("Cannot specify a encType or method for a form that specifies a function as the action. React provides those automatically. They will get overridden.")),H.target==null||O2||(O2=!0,console.error("Cannot specify a target for a form that specifies a function as the action. The function will always be executed in the same window."))):K==="input"||K==="button"?_==="action"?console.error("You can only pass the action prop to <form>. Use the formAction prop on <input> or <button>."):K!=="input"||H.type==="submit"||H.type==="image"||H2?K!=="button"||H.type==null||H.type==="submit"||H2?typeof $==="function"&&(H.name==null||jZ||(jZ=!0,console.error('Cannot specify a "name" prop for a button that specifies a function as a formAction. React needs it to encode which action should be invoked. It will get overridden.')),H.formEncType==null&&H.formMethod==null||X2||(X2=!0,console.error("Cannot specify a formEncType or formMethod for a button that specifies a function as a formAction. React provides those automatically. They will get overridden.")),H.formTarget==null||O2||(O2=!0,console.error("Cannot specify a formTarget for a button that specifies a function as a formAction. The function will always be executed in the same window."))):(H2=!0,console.error('A button can only specify a formAction along with type="submit" or no type.')):(H2=!0,console.error('An input can only specify a formAction along with type="submit" or type="image".')):_==="action"?console.error("You can only pass the action prop to <form>."):console.error("You can only pass the formAction prop to <input> or <button>.")),typeof $==="function"){Y.setAttribute(_,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof X==="function"&&(_==="formAction"?(K!=="input"&&eY(Y,K,"name",H.name,H,null),eY(Y,K,"formEncType",H.formEncType,H,null),eY(Y,K,"formMethod",H.formMethod,H,null),eY(Y,K,"formTarget",H.formTarget,H,null)):(eY(Y,K,"encType",H.encType,H,null),eY(Y,K,"method",H.method,H,null),eY(Y,K,"target",H.target,H,null)));if($==null||typeof $==="symbol"||typeof $==="boolean"){Y.removeAttribute(_);break}vY($,_),$=CO(""+$),Y.setAttribute(_,$);break;case"onClick":$!=null&&(typeof $!=="function"&&rB(_,$),Y.onclick=J8);break;case"onScroll":$!=null&&(typeof $!=="function"&&rB(_,$),kY("scroll",Y));break;case"onScrollEnd":$!=null&&(typeof $!=="function"&&rB(_,$),kY("scrollend",Y));break;case"dangerouslySetInnerHTML":if($!=null){if(typeof $!=="object"||!("__html"in $))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(_=$.__html,_!=null){if(H.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");Y.innerHTML=_}}break;case"multiple":Y.multiple=$&&typeof $!=="function"&&typeof $!=="symbol";break;case"muted":Y.muted=$&&typeof $!=="function"&&typeof $!=="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if($==null||typeof $==="function"||typeof $==="boolean"||typeof $==="symbol"){Y.removeAttribute("xlink:href");break}vY($,_),_=CO(""+$),Y.setAttributeNS(A1,"xlink:href",_);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":$!=null&&typeof $!=="function"&&typeof $!=="symbol"?(vY($,_),Y.setAttribute(_,""+$)):Y.removeAttribute(_);break;case"inert":$!==""||z2[_]||(z2[_]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",_));case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":$&&typeof $!=="function"&&typeof $!=="symbol"?Y.setAttribute(_,""):Y.removeAttribute(_);break;case"capture":case"download":$===!0?Y.setAttribute(_,""):$!==!1&&$!=null&&typeof $!=="function"&&typeof $!=="symbol"?(vY($,_),Y.setAttribute(_,$)):Y.removeAttribute(_);break;case"cols":case"rows":case"size":case"span":$!=null&&typeof $!=="function"&&typeof $!=="symbol"&&!isNaN($)&&1<=$?(vY($,_),Y.setAttribute(_,$)):Y.removeAttribute(_);break;case"rowSpan":case"start":$==null||typeof $==="function"||typeof $==="symbol"||isNaN($)?Y.removeAttribute(_):(vY($,_),Y.setAttribute(_,$));break;case"popover":kY("beforetoggle",Y),kY("toggle",Y),f$(Y,"popover",$);break;case"xlinkActuate":M(Y,A1,"xlink:actuate",$);break;case"xlinkArcrole":M(Y,A1,"xlink:arcrole",$);break;case"xlinkRole":M(Y,A1,"xlink:role",$);break;case"xlinkShow":M(Y,A1,"xlink:show",$);break;case"xlinkTitle":M(Y,A1,"xlink:title",$);break;case"xlinkType":M(Y,A1,"xlink:type",$);break;case"xmlBase":M(Y,AI,"xml:base",$);break;case"xmlLang":M(Y,AI,"xml:lang",$);break;case"xmlSpace":M(Y,AI,"xml:space",$);break;case"is":X!=null&&console.error('Cannot update the "is" prop after it has been initialized.'),f$(Y,"is",$);break;case"innerText":case"textContent":break;case"popoverTarget":kZ||$==null||typeof $!=="object"||(kZ=!0,console.error("The `popoverTarget` prop expects the ID of an Element as a string. Received %s instead.",$));default:!(2<_.length)||_[0]!=="o"&&_[0]!=="O"||_[1]!=="n"&&_[1]!=="N"?(_=wG(_),f$(Y,_,$)):$1.hasOwnProperty(_)&&$!=null&&typeof $!=="function"&&rB(_,$)}}function e6(Y,K,_,$,H,X){switch(_){case"style":CG(Y,$,X);break;case"dangerouslySetInnerHTML":if($!=null){if(typeof $!=="object"||!("__html"in $))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://react.dev/link/dangerously-set-inner-html for more information.");if(_=$.__html,_!=null){if(H.children!=null)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");Y.innerHTML=_}}break;case"children":typeof $==="string"?qO(Y,$):(typeof $==="number"||typeof $==="bigint")&&qO(Y,""+$);break;case"onScroll":$!=null&&(typeof $!=="function"&&rB(_,$),kY("scroll",Y));break;case"onScrollEnd":$!=null&&(typeof $!=="function"&&rB(_,$),kY("scrollend",Y));break;case"onClick":$!=null&&(typeof $!=="function"&&rB(_,$),Y.onclick=J8);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if($1.hasOwnProperty(_))$!=null&&typeof $!=="function"&&rB(_,$);else Y:{if(_[0]==="o"&&_[1]==="n"&&(H=_.endsWith("Capture"),K=_.slice(2,H?_.length-7:void 0),X=Y[A_]||null,X=X!=null?X[_]:null,typeof X==="function"&&Y.removeEventListener(K,X,H),typeof $==="function")){typeof X!=="function"&&X!==null&&(_ in Y?Y[_]=null:Y.hasAttribute(_)&&Y.removeAttribute(_)),Y.addEventListener(K,$,H);break Y}_ in Y?Y[_]=$:$===!0?Y.setAttribute(_,""):f$(Y,_,$)}}}function oK(Y,K,_){switch(t6(K,_),K){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kY("error",Y),kY("load",Y);var $=!1,H=!1,X;for(X in _)if(_.hasOwnProperty(X)){var G=_[X];if(G!=null)switch(X){case"src":$=!0;break;case"srcSet":H=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:eY(Y,K,X,G,_,null)}}H&&eY(Y,K,"srcSet",_.srcSet,_,null),$&&eY(Y,K,"src",_.src,_,null);return;case"input":RB("input",_),kY("invalid",Y);var N=X=G=H=null,R=null,A=null;for($ in _)if(_.hasOwnProperty($)){var k=_[$];if(k!=null)switch($){case"name":H=k;break;case"type":G=k;break;case"checked":R=k;break;case"defaultChecked":A=k;break;case"value":X=k;break;case"defaultValue":N=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:eY(Y,K,$,k,_,null)}}PK(Y,_),pB(Y,X,N,R,A,G,H,!1),PY(Y);return;case"select":RB("select",_),kY("invalid",Y),$=G=X=null;for(H in _)if(_.hasOwnProperty(H)&&(N=_[H],N!=null))switch(H){case"value":X=N;break;case"defaultValue":G=N;break;case"multiple":$=N;default:eY(Y,K,H,N,_,null)}zG(Y,_),K=X,_=G,Y.multiple=!!$,K!=null?p1(Y,!!$,K,!1):_!=null&&p1(Y,!!$,_,!0);return;case"textarea":RB("textarea",_),kY("invalid",Y),X=H=$=null;for(G in _)if(_.hasOwnProperty(G)&&(N=_[G],N!=null))switch(G){case"value":$=N;break;case"defaultValue":H=N;break;case"children":X=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:eY(Y,K,G,N,_,null)}IG(Y,_),GG(Y,$,H,X),PY(Y);return;case"option":m$(Y,_);for(R in _)if(_.hasOwnProperty(R)&&($=_[R],$!=null))switch(R){case"selected":Y.selected=$&&typeof $!=="function"&&typeof $!=="symbol";break;default:eY(Y,K,R,$,_,null)}return;case"dialog":kY("cancel",Y),kY("close",Y);break;case"iframe":case"object":kY("load",Y);break;case"video":case"audio":for($=0;$<SX.length;$++)kY(SX[$],Y);break;case"image":kY("error",Y),kY("load",Y);break;case"details":kY("toggle",Y);break;case"embed":case"source":case"link":kY("error",Y),kY("load",Y);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in _)if(_.hasOwnProperty(A)&&($=_[A],$!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:eY(Y,K,A,$,_,null)}return;default:if(RO(K)){for(k in _)_.hasOwnProperty(k)&&($=_[k],$!==void 0&&e6(Y,K,k,$,_,void 0));return}}for(N in _)_.hasOwnProperty(N)&&($=_[N],$!=null&&eY(Y,K,N,$,_,null))}function Dq(Y,K,_,$){switch(t6(K,$),K){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var H=null,X=null,G=null,N=null,R=null,A=null,k=null;for(u in _){var d=_[u];if(_.hasOwnProperty(u)&&d!=null)switch(u){case"checked":break;case"value":break;case"defaultValue":R=d;default:$.hasOwnProperty(u)||eY(Y,K,u,null,$,d)}}for(var g in $){var u=$[g];if(d=_[g],$.hasOwnProperty(g)&&(u!=null||d!=null))switch(g){case"type":X=u;break;case"name":H=u;break;case"checked":A=u;break;case"defaultChecked":k=u;break;case"value":G=u;break;case"defaultValue":N=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:u!==d&&eY(Y,K,g,u,$,d)}}K=_.type==="checkbox"||_.type==="radio"?_.checked!=null:_.value!=null,$=$.type==="checkbox"||$.type==="radio"?$.checked!=null:$.value!=null,K||!$||yZ||(console.error("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),yZ=!0),!K||$||TZ||(console.error("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://react.dev/link/controlled-components"),TZ=!0),dK(Y,G,N,R,A,k,X,H);return;case"select":u=G=N=g=null;for(X in _)if(R=_[X],_.hasOwnProperty(X)&&R!=null)switch(X){case"value":break;case"multiple":u=R;default:$.hasOwnProperty(X)||eY(Y,K,X,null,$,R)}for(H in $)if(X=$[H],R=_[H],$.hasOwnProperty(H)&&(X!=null||R!=null))switch(H){case"value":g=X;break;case"defaultValue":N=X;break;case"multiple":G=X;default:X!==R&&eY(Y,K,H,X,$,R)}$=N,K=G,_=u,g!=null?p1(Y,!!K,g,!1):!!_!==!!K&&($!=null?p1(Y,!!K,$,!0):p1(Y,!!K,K?[]:"",!1));return;case"textarea":u=g=null;for(N in _)if(H=_[N],_.hasOwnProperty(N)&&H!=null&&!$.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:eY(Y,K,N,null,$,H)}for(G in $)if(H=$[G],X=_[G],$.hasOwnProperty(G)&&(H!=null||X!=null))switch(G){case"value":g=H;break;case"defaultValue":u=H;break;case"children":break;case"dangerouslySetInnerHTML":if(H!=null)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");break;default:H!==X&&eY(Y,K,G,H,$,X)}PG(Y,g,u);return;case"option":for(var IY in _)if(g=_[IY],_.hasOwnProperty(IY)&&g!=null&&!$.hasOwnProperty(IY))switch(IY){case"selected":Y.selected=!1;break;default:eY(Y,K,IY,null,$,g)}for(R in $)if(g=$[R],u=_[R],$.hasOwnProperty(R)&&g!==u&&(g!=null||u!=null))switch(R){case"selected":Y.selected=g&&typeof g!=="function"&&typeof g!=="symbol";break;default:eY(Y,K,R,g,$,u)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var EY in _)g=_[EY],_.hasOwnProperty(EY)&&g!=null&&!$.hasOwnProperty(EY)&&eY(Y,K,EY,null,$,g);for(A in $)if(g=$[A],u=_[A],$.hasOwnProperty(A)&&g!==u&&(g!=null||u!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(K+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");break;default:eY(Y,K,A,g,$,u)}return;default:if(RO(K)){for(var MK in _)g=_[MK],_.hasOwnProperty(MK)&&g!==void 0&&!$.hasOwnProperty(MK)&&e6(Y,K,MK,void 0,$,g);for(k in $)g=$[k],u=_[k],!$.hasOwnProperty(k)||g===u||g===void 0&&u===void 0||e6(Y,K,k,g,$,u);return}}for(var uY in _)g=_[uY],_.hasOwnProperty(uY)&&g!=null&&!$.hasOwnProperty(uY)&&eY(Y,K,uY,null,$,g);for(d in $)g=$[d],u=_[d],!$.hasOwnProperty(d)||g===u||g==null&&u==null||eY(Y,K,d,g,$,u)}function tW(Y){switch(Y){case"class":return"className";case"for":return"htmlFor";default:return Y}}function Y4(Y){var K={};Y=Y.style;for(var _=0;_<Y.length;_++){var $=Y[_];K[$]=Y.getPropertyValue($)}return K}function eW(Y,K,_){if(K!=null&&typeof K!=="object")console.error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");else if(TC){var $,H=$="",X;for(X in K)if(K.hasOwnProperty(X)){var G=K[X];G!=null&&typeof G!=="boolean"&&G!==""&&(X.indexOf("--")===0?(JB(G,X),$+=H+X+":"+(""+G).trim()):typeof G!=="number"||G===0||O3.has(X)?(JB(G,X),$+=H+X.replace(K3,"-$1").toLowerCase().replace(_3,"-ms-")+":"+(""+G).trim()):$+=H+X.replace(K3,"-$1").toLowerCase().replace(_3,"-ms-")+":"+G+"px",H=";")}$=$||null,K=Y.getAttribute("style"),K!==$&&($=z$($),z$(K)!==$&&(_.style=Y4(Y)))}}function s_(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":return}else if($!=null)switch(typeof $){case"function":case"symbol":case"boolean":break;default:if(vY($,K),Y===""+$)return}cK(K,Y,$,X)}function YN(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null){switch(typeof $){case"function":case"symbol":return}if(!$)return}else switch(typeof $){case"function":case"symbol":break;default:if($)return}cK(K,Y,$,X)}function K4(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":return}else if($!=null)switch(typeof $){case"function":case"symbol":break;default:if(vY($,_),Y===""+$)return}cK(K,Y,$,X)}function KN(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":return;default:if(isNaN($))return}else if($!=null)switch(typeof $){case"function":case"symbol":case"boolean":break;default:if(!isNaN($)&&(vY($,K),Y===""+$))return}cK(K,Y,$,X)}function Q8(Y,K,_,$,H,X){if(H.delete(_),Y=Y.getAttribute(_),Y===null)switch(typeof $){case"undefined":case"function":case"symbol":case"boolean":return}else if($!=null)switch(typeof $){case"function":case"symbol":case"boolean":break;default:if(vY($,K),_=CO(""+$),Y===_)return}cK(K,Y,$,X)}function _N(Y,K,_,$){for(var H={},X=new Set,G=Y.attributes,N=0;N<G.length;N++)switch(G[N].name.toLowerCase()){case"value":break;case"checked":break;case"selected":break;default:X.add(G[N].name)}if(RO(K)){for(var R in _)if(_.hasOwnProperty(R)){var A=_[R];if(A!=null){if($1.hasOwnProperty(R))typeof A!=="function"&&rB(R,A);else if(_.suppressHydrationWarning!==!0)switch(R){case"children":typeof A!=="string"&&typeof A!=="number"||cK("children",Y.textContent,A,H);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":G=Y.innerHTML,A=A?A.__html:void 0,A!=null&&(A=aW(Y,A),cK(R,G,A,H));continue;case"style":X.delete(R),eW(Y,A,H);continue;case"offsetParent":case"offsetTop":case"offsetLeft":case"offsetWidth":case"offsetHeight":case"isContentEditable":case"outerText":case"outerHTML":X.delete(R.toLowerCase()),console.error("Assignment to read-only property will result in a no-op: `%s`",R);continue;case"className":X.delete("class"),G=u1(Y,"class",A),cK("className",G,A,H);continue;default:$.context===f0&&K!=="svg"&&K!=="math"?X.delete(R.toLowerCase()):X.delete(R),G=u1(Y,R,A),cK(R,G,A,H)}}}}else for(A in _)if(_.hasOwnProperty(A)&&(R=_[A],R!=null)){if($1.hasOwnProperty(A))typeof R!=="function"&&rB(A,R);else if(_.suppressHydrationWarning!==!0)switch(A){case"children":typeof R!=="string"&&typeof R!=="number"||cK("children",Y.textContent,R,H);continue;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"value":case"checked":case"selected":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":continue;case"dangerouslySetInnerHTML":G=Y.innerHTML,R=R?R.__html:void 0,R!=null&&(R=aW(Y,R),G!==R&&(H[A]={__html:G}));continue;case"className":s_(Y,A,"class",R,X,H);continue;case"tabIndex":s_(Y,A,"tabindex",R,X,H);continue;case"style":X.delete(A),eW(Y,R,H);continue;case"multiple":X.delete(A),cK(A,Y.multiple,R,H);continue;case"muted":X.delete(A),cK(A,Y.muted,R,H);continue;case"autoFocus":X.delete("autofocus"),cK(A,Y.autofocus,R,H);continue;case"data":if(K!=="object"){X.delete(A),G=Y.getAttribute("data"),cK(A,G,R,H);continue}case"src":case"href":if(!(R!==""||K==="a"&&A==="href"||K==="object"&&A==="data")){A==="src"?console.error('An empty string ("") was passed to the %s attribute. This may cause the browser to download the whole page again over the network. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',A,A):console.error('An empty string ("") was passed to the %s attribute. To fix this, either do not render the element at all or pass null to %s instead of an empty string.',A,A),Q8(Y,A,A,null,X,H);continue}Q8(Y,A,A,R,X,H);continue;case"action":case"formAction":if(G=Y.getAttribute(A),typeof R==="function"){X.delete(A.toLowerCase()),A==="formAction"?(X.delete("name"),X.delete("formenctype"),X.delete("formmethod"),X.delete("formtarget")):(X.delete("enctype"),X.delete("method"),X.delete("target"));continue}else if(G===kC){X.delete(A.toLowerCase()),cK(A,"function",R,H);continue}Q8(Y,A,A.toLowerCase(),R,X,H);continue;case"xlinkHref":Q8(Y,A,"xlink:href",R,X,H);continue;case"contentEditable":K4(Y,A,"contenteditable",R,X,H);continue;case"spellCheck":K4(Y,A,"spellcheck",R,X,H);continue;case"draggable":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":K4(Y,A,A,R,X,H);continue;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":YN(Y,A,A.toLowerCase(),R,X,H);continue;case"capture":case"download":Y:{N=Y;var k=G=A,d=H;if(X.delete(k),N=N.getAttribute(k),N===null)switch(typeof R){case"undefined":case"function":case"symbol":break Y;default:if(R===!1)break Y}else if(R!=null)switch(typeof R){case"function":case"symbol":break;case"boolean":if(R===!0&&N==="")break Y;break;default:if(vY(R,G),N===""+R)break Y}cK(G,N,R,d)}continue;case"cols":case"rows":case"size":case"span":Y:{if(N=Y,k=G=A,d=H,X.delete(k),N=N.getAttribute(k),N===null)switch(typeof R){case"undefined":case"function":case"symbol":case"boolean":break Y;default:if(isNaN(R)||1>R)break Y}else if(R!=null)switch(typeof R){case"function":case"symbol":case"boolean":break;default:if(!(isNaN(R)||1>R)&&(vY(R,G),N===""+R))break Y}cK(G,N,R,d)}continue;case"rowSpan":KN(Y,A,"rowspan",R,X,H);continue;case"start":KN(Y,A,A,R,X,H);continue;case"xHeight":s_(Y,A,"x-height",R,X,H);continue;case"xlinkActuate":s_(Y,A,"xlink:actuate",R,X,H);continue;case"xlinkArcrole":s_(Y,A,"xlink:arcrole",R,X,H);continue;case"xlinkRole":s_(Y,A,"xlink:role",R,X,H);continue;case"xlinkShow":s_(Y,A,"xlink:show",R,X,H);continue;case"xlinkTitle":s_(Y,A,"xlink:title",R,X,H);continue;case"xlinkType":s_(Y,A,"xlink:type",R,X,H);continue;case"xmlBase":s_(Y,A,"xml:base",R,X,H);continue;case"xmlLang":s_(Y,A,"xml:lang",R,X,H);continue;case"xmlSpace":s_(Y,A,"xml:space",R,X,H);continue;case"inert":R!==""||z2[A]||(z2[A]=!0,console.error("Received an empty string for a boolean attribute `%s`. This will treat the attribute as if it were false. Either pass `false` to silence this warning, or pass `true` if you used an empty string in earlier versions of React to indicate this attribute is true.",A)),YN(Y,A,A,R,X,H);continue;default:if(!(2<A.length)||A[0]!=="o"&&A[0]!=="O"||A[1]!=="n"&&A[1]!=="N"){N=wG(A),G=!1,$.context===f0&&K!=="svg"&&K!=="math"?X.delete(N.toLowerCase()):(k=A.toLowerCase(),k=j8.hasOwnProperty(k)?j8[k]||null:null,k!==null&&k!==A&&(G=!0,X.delete(k)),X.delete(N));Y:if(k=Y,d=N,N=R,e0(d))if(k.hasAttribute(d))k=k.getAttribute(d),vY(N,d),N=k===""+N?N:k;else{switch(typeof N){case"function":case"symbol":break Y;case"boolean":if(k=d.toLowerCase().slice(0,5),k!=="data-"&&k!=="aria-")break Y}N=N===void 0?void 0:null}else N=void 0;G||cK(A,N,R,H)}}}return 0<X.size&&_.suppressHydrationWarning!==!0&&Fq(Y,X,H),Object.keys(H).length===0?null:H}function Mq(Y,K){switch(Y.length){case 0:return"";case 1:return Y[0];case 2:return Y[0]+" "+K+" "+Y[1];default:return Y.slice(0,-1).join(", ")+", "+K+" "+Y[Y.length-1]}}function L8(Y){return Y.nodeType===9?Y:Y.ownerDocument}function BN(Y){switch(Y){case WH:return cH;case y8:return G2;default:return f0}}function $N(Y,K){if(Y===f0)switch(K){case"svg":return cH;case"math":return G2;default:return f0}return Y===cH&&K==="foreignObject"?f0:Y}function _4(Y,K){return Y==="textarea"||Y==="noscript"||typeof K.children==="string"||typeof K.children==="number"||typeof K.children==="bigint"||typeof K.dangerouslySetInnerHTML==="object"&&K.dangerouslySetInnerHTML!==null&&K.dangerouslySetInnerHTML.__html!=null}function Uq(){var Y=window.event;if(Y&&Y.type==="popstate"){if(Y===FI)return!1;return FI=Y,!0}return FI=null,!1}function Sq(Y){setTimeout(function(){throw Y})}function Tq(Y,K,_){switch(K){case"button":case"input":case"select":case"textarea":_.autoFocus&&Y.focus();break;case"img":_.src?Y.src=_.src:_.srcSet&&(Y.srcset=_.srcSet)}}function yq(Y,K,_,$){Dq(Y,K,_,$),Y[A_]=$}function HN(Y){qO(Y,"")}function jq(Y,K,_){Y.nodeValue=_}function kq(Y,K){Y.removeChild(K)}function gq(Y,K){Y.nodeType===8?Y.parentNode.removeChild(K):Y.removeChild(K)}function B4(Y,K){var _=K,$=0;do{var H=_.nextSibling;if(Y.removeChild(_),H&&H.nodeType===8)if(_=H.data,_===P2){if($===0){Y.removeChild(H),nO(K);return}$--}else _!==I2&&_!==E1&&_!==V1||$++;_=H}while(_);nO(K)}function bq(Y){Y=Y.style,typeof Y.setProperty==="function"?Y.setProperty("display","none","important"):Y.display="none"}function vq(Y){Y.nodeValue=""}function fq(Y,K){K=K[bC],K=K!==void 0&&K!==null&&K.hasOwnProperty("display")?K.display:null,Y.style.display=K==null||typeof K==="boolean"?"":(""+K).trim()}function mq(Y,K){Y.nodeValue=K}function $4(Y){var K=Y.firstChild;K&&K.nodeType===10&&(K=K.nextSibling);for(;K;){var _=K;switch(K=K.nextSibling,_.nodeName){case"HTML":case"HEAD":case"BODY":$4(_),l1(_);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(_.rel.toLowerCase()==="stylesheet")continue}Y.removeChild(_)}}function hq(Y,K,_,$){for(;Y.nodeType===1;){var H=_;if(Y.nodeName.toLowerCase()!==K.toLowerCase()){if(!$&&(Y.nodeName!=="INPUT"||Y.type!=="hidden"))break}else if(!$)if(K==="input"&&Y.type==="hidden"){vY(H.name,"name");var X=H.name==null?null:""+H.name;if(H.type==="hidden"&&Y.getAttribute("name")===X)return Y}else return Y;else if(!Y[rO])switch(K){case"meta":if(!Y.hasAttribute("itemprop"))break;return Y;case"link":if(X=Y.getAttribute("rel"),X==="stylesheet"&&Y.hasAttribute("data-precedence"))break;else if(X!==H.rel||Y.getAttribute("href")!==(H.href==null?null:H.href)||Y.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin)||Y.getAttribute("title")!==(H.title==null?null:H.title))break;return Y;case"style":if(Y.hasAttribute("data-precedence"))break;return Y;case"script":if(X=Y.getAttribute("src"),(X!==(H.src==null?null:H.src)||Y.getAttribute("type")!==(H.type==null?null:H.type)||Y.getAttribute("crossorigin")!==(H.crossOrigin==null?null:H.crossOrigin))&&X&&Y.hasAttribute("async")&&!Y.hasAttribute("itemprop"))break;return Y;default:return Y}if(Y=a_(Y.nextSibling),Y===null)break}return null}function dq(Y,K,_){if(K==="")return null;for(;Y.nodeType!==3;){if((Y.nodeType!==1||Y.nodeName!=="INPUT"||Y.type!=="hidden")&&!_)return null;if(Y=a_(Y.nextSibling),Y===null)return null}return Y}function a_(Y){for(;Y!=null;Y=Y.nextSibling){var K=Y.nodeType;if(K===1||K===3)break;if(K===8){if(K=Y.data,K===I2||K===V1||K===E1||K===EI||K===gZ)break;if(K===P2)return null}}return Y}function ON(Y){if(Y.nodeType===1){for(var K=Y.nodeName.toLowerCase(),_={},$=Y.attributes,H=0;H<$.length;H++){var X=$[H];_[tW(X.name)]=X.name.toLowerCase()==="style"?Y4(Y):X.value}return{type:K,props:_}}return Y.nodeType===8?{type:"Suspense",props:{}}:Y.nodeValue}function XN(Y,K,_){return _===null||_[gC]!==!0?(Y.nodeValue===K?Y=null:(K=z$(K),Y=z$(Y.nodeValue)===K?null:Y.nodeValue),Y):null}function zN(Y){Y=Y.nextSibling;for(var K=0;Y;){if(Y.nodeType===8){var _=Y.data;if(_===P2){if(K===0)return a_(Y.nextSibling);K--}else _!==I2&&_!==V1&&_!==E1||K++}Y=Y.nextSibling}return null}function IN(Y){Y=Y.previousSibling;for(var K=0;Y;){if(Y.nodeType===8){var _=Y.data;if(_===I2||_===V1||_===E1){if(K===0)return Y;K--}else _===P2&&K++}Y=Y.previousSibling}return null}function cq(Y){nO(Y)}function lq(Y){nO(Y)}function PN(Y,K,_,$,H){switch(H&&E7(Y,$.ancestorInfo),K=L8(_),Y){case"html":if(Y=K.documentElement,!Y)throw Error("React expected an <html> element (document.documentElement) to exist in the Document but one was not found. React never removes the documentElement for any Document it renders into so the cause is likely in some other script running on this page.");return Y;case"head":if(Y=K.head,!Y)throw Error("React expected a <head> element (document.head) to exist in the Document but one was not found. React never removes the head for any Document it renders into so the cause is likely in some other script running on this page.");return Y;case"body":if(Y=K.body,!Y)throw Error("React expected a <body> element (document.body) to exist in the Document but one was not found. React never removes the body for any Document it renders into so the cause is likely in some other script running on this page.");return Y;default:throw Error("resolveSingletonInstance was called with an element type that is not supported. This is a bug in React.")}}function uq(Y,K,_,$){if(lB(_)){var H=_.tagName.toLowerCase();console.error("You are mounting a new %s component when a previous one has not first unmounted. It is an error to render more than one %s component at a time and attributes and children of these components will likely fail in unpredictable ways. Please only render a single instance of <%s> and if you need to mount a new one, ensure any previous ones have unmounted first.",H,H,H)}switch(Y){case"html":case"head":case"body":break;default:console.error("acquireSingletonInstance was called with an element type that is not supported. This is a bug in React.")}for(H=_.attributes;H.length;)_.removeAttributeNode(H[0]);oK(_,Y,K),_[B_]=$,_[A_]=K}function q8(Y){return typeof Y.getRootNode==="function"?Y.getRootNode():Y.ownerDocument}function GN(Y,K,_){var $=lH;if($&&typeof K==="string"&&K){var H=CY(K);H='link[rel="'+Y+'"][href="'+H+'"]',typeof _==="string"&&(H+='[crossorigin="'+_+'"]'),dZ.has(H)||(dZ.add(H),Y={rel:Y,crossOrigin:_,href:K},$.querySelector(H)===null&&(K=$.createElement("link"),oK(K,"link",Y),FK(K),$.head.appendChild(K)))}}function WN(Y,K,_,$){var H=(H=G$.current)?q8(H):null;if(!H)throw Error('"resourceRoot" was expected to exist. This is a bug in React.');switch(Y){case"meta":case"title":return null;case"style":return typeof _.precedence==="string"&&typeof _.href==="string"?(_=OH(_.href),K=L0(H).hoistableStyles,$=K.get(_),$||($={type:"style",instance:null,count:0,state:null},K.set(_,$)),$):{type:"void",instance:null,count:0,state:null};case"link":if(_.rel==="stylesheet"&&typeof _.href==="string"&&typeof _.precedence==="string"){Y=OH(_.href);var X=L0(H).hoistableStyles,G=X.get(Y);if(!G&&(H=H.ownerDocument||H,G={type:"stylesheet",instance:null,count:0,state:{loading:x1,preload:null}},X.set(Y,G),(X=H.querySelector(uO(Y)))&&!X._p&&(G.instance=X,G.state.loading=TX|XB),!zB.has(Y))){var N={rel:"preload",as:"style",href:_.href,crossOrigin:_.crossOrigin,integrity:_.integrity,media:_.media,hrefLang:_.hrefLang,referrerPolicy:_.referrerPolicy};zB.set(Y,N),X||pq(H,Y,N,G.state)}if(K&&$===null)throw _=`

  - `+R8(K)+`
  + `+R8(_),Error("Expected <link> not to update to be updated to a stylesheet with precedence. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+_);return G}if(K&&$!==null)throw _=`

  - `+R8(K)+`
  + `+R8(_),Error("Expected stylesheet with precedence to not be updated to a different kind of <link>. Check the `rel`, `href`, and `precedence` props of this component. Alternatively, check whether two different <link> components render in the same slot or share the same key."+_);return null;case"script":return K=_.async,_=_.src,typeof _==="string"&&K&&typeof K!=="function"&&typeof K!=="symbol"?(_=XH(_),K=L0(H).hoistableScripts,$=K.get(_),$||($={type:"script",instance:null,count:0,state:null},K.set(_,$)),$):{type:"void",instance:null,count:0,state:null};default:throw Error('getResource encountered a type it did not expect: "'+Y+'". this is a bug in React.')}}function R8(Y){var K=0,_="<link";return typeof Y.rel==="string"?(K++,_+=' rel="'+Y.rel+'"'):D0.call(Y,"rel")&&(K++,_+=' rel="'+(Y.rel===null?"null":"invalid type "+typeof Y.rel)+'"'),typeof Y.href==="string"?(K++,_+=' href="'+Y.href+'"'):D0.call(Y,"href")&&(K++,_+=' href="'+(Y.href===null?"null":"invalid type "+typeof Y.href)+'"'),typeof Y.precedence==="string"?(K++,_+=' precedence="'+Y.precedence+'"'):D0.call(Y,"precedence")&&(K++,_+=" precedence={"+(Y.precedence===null?"null":"invalid type "+typeof Y.precedence)+"}"),Object.getOwnPropertyNames(Y).length>K&&(_+=" ..."),_+" />"}function OH(Y){return'href="'+CY(Y)+'"'}function uO(Y){return'link[rel="stylesheet"]['+Y+"]"}function NN(Y){return FY({},Y,{"data-precedence":Y.precedence,precedence:null})}function pq(Y,K,_,$){Y.querySelector('link[rel="preload"][as="style"]['+K+"]")?$.loading=TX:(K=Y.createElement("link"),$.preload=K,K.addEventListener("load",function(){return $.loading|=TX}),K.addEventListener("error",function(){return $.loading|=mZ}),oK(K,"link",_),FK(K),Y.head.appendChild(K))}function XH(Y){return'[src="'+CY(Y)+'"]'}function pO(Y){return"script[async]"+Y}function ZN(Y,K,_){if(K.count++,K.instance===null)switch(K.type){case"style":var $=Y.querySelector('style[data-href~="'+CY(_.href)+'"]');if($)return K.instance=$,FK($),$;var H=FY({},_,{"data-href":_.href,"data-precedence":_.precedence,href:null,precedence:null});return $=(Y.ownerDocument||Y).createElement("style"),FK($),oK($,"style",H),C8($,_.precedence,Y),K.instance=$;case"stylesheet":H=OH(_.href);var X=Y.querySelector(uO(H));if(X)return K.state.loading|=XB,K.instance=X,FK(X),X;$=NN(_),(H=zB.get(H))&&H4($,H),X=(Y.ownerDocument||Y).createElement("link"),FK(X);var G=X;return G._p=new Promise(function(N,R){G.onload=N,G.onerror=R}),oK(X,"link",$),K.state.loading|=XB,C8(X,_.precedence,Y),K.instance=X;case"script":if(X=XH(_.src),H=Y.querySelector(pO(X)))return K.instance=H,FK(H),H;if($=_,H=zB.get(X))$=FY({},_),O4($,H);return Y=Y.ownerDocument||Y,H=Y.createElement("script"),FK(H),oK(H,"link",$),Y.head.appendChild(H),K.instance=H;case"void":return null;default:throw Error('acquireResource encountered a resource type it did not expect: "'+K.type+'". this is a bug in React.')}else K.type==="stylesheet"&&(K.state.loading&XB)===x1&&($=K.instance,K.state.loading|=XB,C8($,_.precedence,Y));return K.instance}function C8(Y,K,_){for(var $=_.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),H=$.length?$[$.length-1]:null,X=H,G=0;G<$.length;G++){var N=$[G];if(N.dataset.precedence===K)X=N;else if(X!==H)break}X?X.parentNode.insertBefore(Y,X.nextSibling):(K=_.nodeType===9?_.head:_,K.insertBefore(Y,K.firstChild))}function H4(Y,K){Y.crossOrigin==null&&(Y.crossOrigin=K.crossOrigin),Y.referrerPolicy==null&&(Y.referrerPolicy=K.referrerPolicy),Y.title==null&&(Y.title=K.title)}function O4(Y,K){Y.crossOrigin==null&&(Y.crossOrigin=K.crossOrigin),Y.referrerPolicy==null&&(Y.referrerPolicy=K.referrerPolicy),Y.integrity==null&&(Y.integrity=K.integrity)}function JN(Y,K,_){if(W2===null){var $=new Map,H=W2=new Map;H.set(_,$)}else H=W2,$=H.get(_),$||($=new Map,H.set(_,$));if($.has(Y))return $;$.set(Y,null),_=_.getElementsByTagName(Y);for(H=0;H<_.length;H++){var X=_[H];if(!(X[rO]||X[B_]||Y==="link"&&X.getAttribute("rel")==="stylesheet")&&X.namespaceURI!==WH){var G=X.getAttribute(K)||"";G=Y+G;var N=$.get(G);N?N.push(X):$.set(G,[X])}}return $}function QN(Y,K,_){Y=Y.ownerDocument||Y,Y.head.insertBefore(_,K==="title"?Y.querySelector("head > title"):null)}function iq(Y,K,_){var $=!_.ancestorInfo.containerTagInScope;if(_.context===cH||K.itemProp!=null)return!$||K.itemProp==null||Y!=="meta"&&Y!=="title"&&Y!=="style"&&Y!=="link"&&Y!=="script"||console.error("Cannot render a <%s> outside the main document if it has an `itemProp` prop. `itemProp` suggests the tag belongs to an `itemScope` which can appear anywhere in the DOM. If you were intending for React to hoist this <%s> remove the `itemProp` prop. Otherwise, try moving this tag into the <head> or <body> of the Document.",Y,Y),!1;switch(Y){case"meta":case"title":return!0;case"style":if(typeof K.precedence!=="string"||typeof K.href!=="string"||K.href===""){$&&console.error('Cannot render a <style> outside the main document without knowing its precedence and a unique href key. React can hoist and deduplicate <style> tags if you provide a `precedence` prop along with an `href` prop that does not conflic with the `href` values used in any other hoisted <style> or <link rel="stylesheet" ...> tags.  Note that hoisting <style> tags is considered an advanced feature that most will not use directly. Consider moving the <style> tag to the <head> or consider adding a `precedence="default"` and `href="some unique resource identifier"`, or move the <style> to the <style> tag.');break}return!0;case"link":if(typeof K.rel!=="string"||typeof K.href!=="string"||K.href===""||K.onLoad||K.onError){if(K.rel==="stylesheet"&&typeof K.precedence==="string"){Y=K.href;var{onError:H,disabled:X}=K;_=[],K.onLoad&&_.push("`onLoad`"),H&&_.push("`onError`"),X!=null&&_.push("`disabled`"),H=Mq(_,"and"),H+=_.length===1?" prop":" props",X=_.length===1?"an "+H:"the "+H,_.length&&console.error('React encountered a <link rel="stylesheet" href="%s" ... /> with a `precedence` prop that also included %s. The presence of loading and error handlers indicates an intent to manage the stylesheet loading state from your from your Component code and React will not hoist or deduplicate this stylesheet. If your intent was to have React hoist and deduplciate this stylesheet using the `precedence` prop remove the %s, otherwise remove the `precedence` prop.',Y,X,H)}$&&(typeof K.rel!=="string"||typeof K.href!=="string"||K.href===""?console.error("Cannot render a <link> outside the main document without a `rel` and `href` prop. Try adding a `rel` and/or `href` prop to this <link> or moving the link into the <head> tag"):(K.onError||K.onLoad)&&console.error("Cannot render a <link> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."));break}switch(K.rel){case"stylesheet":return Y=K.precedence,K=K.disabled,typeof Y!=="string"&&$&&console.error('Cannot render a <link rel="stylesheet" /> outside the main document without knowing its precedence. Consider adding precedence="default" or moving it into the root <head> tag.'),typeof Y==="string"&&K==null;default:return!0}case"script":if(Y=K.async&&typeof K.async!=="function"&&typeof K.async!=="symbol",!Y||K.onLoad||K.onError||!K.src||typeof K.src!=="string"){$&&(Y?K.onLoad||K.onError?console.error("Cannot render a <script> with onLoad or onError listeners outside the main document. Try removing onLoad={...} and onError={...} or moving it into the root <head> tag or somewhere in the <body>."):console.error("Cannot render a <script> outside the main document without `async={true}` and a non-empty `src` prop. Ensure there is a valid `src` and either make the script async or move it into the root <head> tag or somewhere in the <body>."):console.error('Cannot render a sync or defer <script> outside the main document without knowing its order. Try adding async="" or moving it into the root <head> tag.'));break}return!0;case"noscript":case"template":$&&console.error("Cannot render <%s> outside the main document. Try moving it into the root <head> tag.",Y)}return!1}function LN(Y){return Y.type==="stylesheet"&&(Y.state.loading&hZ)===x1?!1:!0}function nq(){}function oq(Y,K,_){if(yX===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var $=yX;if(K.type==="stylesheet"&&(typeof _.media!=="string"||matchMedia(_.media).matches!==!1)&&(K.state.loading&XB)===x1){if(K.instance===null){var H=OH(_.href),X=Y.querySelector(uO(H));if(X){Y=X._p,Y!==null&&typeof Y==="object"&&typeof Y.then==="function"&&($.count++,$=w8.bind($),Y.then($,$)),K.state.loading|=XB,K.instance=X,FK(X);return}X=Y.ownerDocument||Y,_=NN(_),(H=zB.get(H))&&H4(_,H),X=X.createElement("link"),FK(X);var G=X;G._p=new Promise(function(N,R){G.onload=N,G.onerror=R}),oK(X,"link",_),K.instance=X}$.stylesheets===null&&($.stylesheets=new Map),$.stylesheets.set(K,Y),(Y=K.state.preload)&&(K.state.loading&hZ)===x1&&($.count++,K=w8.bind($),Y.addEventListener("load",K),Y.addEventListener("error",K))}}function sq(){if(yX===null)throw Error("Internal React Error: suspendedState null when it was expected to exists. Please report this as a React bug.");var Y=yX;return Y.stylesheets&&Y.count===0&&X4(Y,Y.stylesheets),0<Y.count?function(K){var _=setTimeout(function(){if(Y.stylesheets&&X4(Y,Y.stylesheets),Y.unsuspend){var $=Y.unsuspend;Y.unsuspend=null,$()}},60000);return Y.unsuspend=K,function(){Y.unsuspend=null,clearTimeout(_)}}:null}function w8(){if(this.count--,this.count===0){if(this.stylesheets)X4(this,this.stylesheets);else if(this.unsuspend){var Y=this.unsuspend;this.unsuspend=null,Y()}}}function X4(Y,K){Y.stylesheets=null,Y.unsuspend!==null&&(Y.count++,N2=new Map,K.forEach(aq,Y),N2=null,w8.call(Y))}function aq(Y,K){if(!(K.state.loading&XB)){var _=N2.get(Y);if(_)var $=_.get(MI);else{_=new Map,N2.set(Y,_);for(var H=Y.querySelectorAll("link[data-precedence],style[data-precedence]"),X=0;X<H.length;X++){var G=H[X];if(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")_.set(G.dataset.precedence,G),$=G}$&&_.set(MI,$)}H=K.instance,G=H.getAttribute("data-precedence"),X=_.get(G)||$,X===$&&_.set(MI,H),_.set(G,H),this.count++,$=w8.bind(this),H.addEventListener("load",$),H.addEventListener("error",$),X?X.parentNode.insertBefore(H,X.nextSibling):(Y=Y.nodeType===9?Y.head:Y,Y.insertBefore(H,Y.firstChild)),K.state.loading|=XB}}function rq(Y,K,_){var $=0;switch(Y){case"dir":case"dirxml":case"groupEnd":case"table":return pZ.apply(console[Y],[console].concat(K));case"assert":$=1}return K=K.slice(0),typeof K[$]==="string"?K.splice($,1,cZ+K[$],lZ,Z2+_+Z2,uZ):K.splice($,0,cZ,lZ,Z2+_+Z2,uZ),K.unshift(console),pZ.apply(console[Y],K)}function tq(Y,K,_,$,H,X,G,N){this.tag=1,this.containerInfo=Y,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=DI,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=LB(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=LB(0),this.hiddenUpdates=LB(null),this.identifierPrefix=$,this.onUncaughtError=H,this.onCaughtError=X,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map,this.passiveEffectDuration=this.effectDuration=-0,this.memoizedUpdaters=new Set,Y=this.pendingUpdatersLaneMap=[];for(K=0;31>K;K++)Y.push(new Set);this._debugRootType=_?"hydrateRoot()":"createRoot()"}function qN(Y,K,_,$,H,X,G,N,R,A,k,d){return Y=new tq(Y,K,_,G,N,R,A,d),K=ZC,X===!0&&(K|=$_|xB),AB&&(K|=aK),X=L(3,null,null,K),Y.current=X,X.stateNode=Y,K=v7(),o$(K),Y.pooledCache=K,o$(K),X.memoizedState={element:$,isDehydrated:_,cache:K},D6(X),Y}function RN(Y){if(!Y)return Z$;return Y=Z$,Y}function CN(Y,K,_,$){return K.tag===0&&_1(),wN(K.current,2,Y,K,_,$),2}function wN(Y,K,_,$,H,X){if(__&&typeof __.onScheduleFiberRoot==="function")try{__.onScheduleFiberRoot(GH,$,_)}catch(G){Y0||(Y0=!0,console.error("React instrumentation encountered an error: %s",G))}YY!==null&&typeof YY.markRenderScheduled==="function"&&YY.markRenderScheduled(K),H=RN(H),$.context===null?$.context=H:$.pendingContext=H,r_&&K_!==null&&!iZ&&(iZ=!0,console.error(`Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.

Check the render method of %s.`,l(K_)||"Unknown")),$=$$(K),$.payload={element:_},X=X===void 0?null:X,X!==null&&(typeof X!=="function"&&console.error("Expected the last optional `callback` argument to be a function. Instead received: %s.",X),$.callback=X),_=H$(Y,$,K),_!==null&&(RK(_,Y,K),kO(_,Y,K))}function AN(Y,K){if(Y=Y.memoizedState,Y!==null&&Y.dehydrated!==null){var _=Y.retryLane;Y.retryLane=_!==0&&_<K?_:K}}function z4(Y,K){AN(Y,K),(Y=Y.alternate)&&AN(Y,K)}function EN(Y){if(Y.tag===13){var K=Y_(Y,67108864);K!==null&&RK(K,Y,67108864),z4(Y,67108864)}}function eq(){return K_}function YR(){for(var Y=new Map,K=1,_=0;31>_;_++){var $=a(K);Y.set(K,$),K*=2}return Y}function KR(Y,K,_,$){var H=f.T;f.T=null;var X=GK.p;try{GK.p=EB,I4(Y,K,_,$)}finally{GK.p=X,f.T=H}}function _R(Y,K,_,$){var H=f.T;f.T=null;var X=GK.p;try{GK.p=VB,I4(Y,K,_,$)}finally{GK.p=X,f.T=H}}function I4(Y,K,_,$){if(J2){var H=P4($);if(H===null)r6(Y,K,$,Q2,_),xN(Y,$);else if(BR(H,Y,K,_,$))$.stopPropagation();else if(xN(Y,$),K&4&&-1<mC.indexOf(Y)){for(;H!==null;){var X=lB(H);if(X!==null)switch(X.tag){case 3:if(X=X.stateNode,X.current.memoizedState.isDehydrated){var G=AK(X.pendingLanes);if(G!==0){var N=X;N.pendingLanes|=2;for(N.entangledLanes|=2;G;){var R=1<<31-X_(G);N.entanglements[1]|=R,G&=~R}aB(X),(WK&(N_|g0))===b_&&(t8=eB()+DZ,cO(0,!1))}}break;case 13:N=Y_(X,2),N!==null&&RK(N,X,2),_H(),z4(X,2)}if(X=P4($),X===null&&r6(Y,K,$,Q2,_),X===H)break;H=X}H!==null&&$.stopPropagation()}else r6(Y,K,$,null,_)}}function P4(Y){return Y=V7(Y),G4(Y)}function G4(Y){if(Q2=null,Y=cB(Y),Y!==null){var K=t(Y);if(K===null)Y=null;else{var _=K.tag;if(_===13){if(Y=RY(K),Y!==null)return Y;Y=null}else if(_===3){if(K.stateNode.current.memoizedState.isDehydrated)return K.tag===3?K.stateNode.containerInfo:null;Y=null}else K!==Y&&(Y=null)}}return Q2=Y,null}function VN(Y){switch(Y){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return EB;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return VB;case"message":switch(NR()){case E4:return EB;case V4:return VB;case PH:case ZR:return K0;case x4:return S8;default:return K0}default:return K0}}function xN(Y,K){switch(Y){case"focusin":case"focusout":V$=null;break;case"dragenter":case"dragleave":x$=null;break;case"mouseover":case"mouseout":F$=null;break;case"pointerover":case"pointerout":kX.delete(K.pointerId);break;case"gotpointercapture":case"lostpointercapture":gX.delete(K.pointerId)}}function iO(Y,K,_,$,H,X){if(Y===null||Y.nativeEvent!==X)return Y={blockedOn:K,domEventName:_,eventSystemFlags:$,nativeEvent:X,targetContainers:[H]},K!==null&&(K=lB(K),K!==null&&EN(K)),Y;return Y.eventSystemFlags|=$,K=Y.targetContainers,H!==null&&K.indexOf(H)===-1&&K.push(H),Y}function BR(Y,K,_,$,H){switch(K){case"focusin":return V$=iO(V$,Y,K,_,$,H),!0;case"dragenter":return x$=iO(x$,Y,K,_,$,H),!0;case"mouseover":return F$=iO(F$,Y,K,_,$,H),!0;case"pointerover":var X=H.pointerId;return kX.set(X,iO(kX.get(X)||null,Y,K,_,$,H)),!0;case"gotpointercapture":return X=H.pointerId,gX.set(X,iO(gX.get(X)||null,Y,K,_,$,H)),!0}return!1}function FN(Y){var K=cB(Y.target);if(K!==null){var _=t(K);if(_!==null){if(K=_.tag,K===13){if(K=RY(_),K!==null){Y.blockedOn=K,Sz(Y.priority,function(){if(_.tag===13){var $=j_(_),H=Y_(_,$);H!==null&&RK(H,_,$),z4(_,$)}});return}}else if(K===3&&_.stateNode.current.memoizedState.isDehydrated){Y.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}Y.blockedOn=null}function A8(Y){if(Y.blockedOn!==null)return!1;for(var K=Y.targetContainers;0<K.length;){var _=P4(Y.nativeEvent);if(_===null){_=Y.nativeEvent;var $=new _.constructor(_.type,_),H=$;tO!==null&&console.error("Expected currently replaying event to be null. This error is likely caused by a bug in React. Please file an issue."),tO=H,_.target.dispatchEvent($),tO===null&&console.error("Expected currently replaying event to not be null. This error is likely caused by a bug in React. Please file an issue."),tO=null}else return K=lB(_),K!==null&&EN(K),Y.blockedOn=_,!1;K.shift()}return!0}function DN(Y,K,_){A8(Y)&&_.delete(K)}function $R(){UI=!1,V$!==null&&A8(V$)&&(V$=null),x$!==null&&A8(x$)&&(x$=null),F$!==null&&A8(F$)&&(F$=null),kX.forEach(DN),gX.forEach(DN)}function E8(Y,K){Y.blockedOn===K&&(Y.blockedOn=null,UI||(UI=!0,mY.unstable_scheduleCallback(mY.unstable_NormalPriority,$R)))}function MN(Y){L2!==Y&&(L2=Y,mY.unstable_scheduleCallback(mY.unstable_NormalPriority,function(){L2===Y&&(L2=null);for(var K=0;K<Y.length;K+=3){var _=Y[K],$=Y[K+1],H=Y[K+2];if(typeof $!=="function")if(G4($||_)===null)continue;else break;var X=lB(_);X!==null&&(Y.splice(K,3),K-=3,_={pending:!0,data:H,method:_.method,action:$},Object.freeze(_),H6(X,_,$,H))}}))}function nO(Y){function K(R){return E8(R,Y)}V$!==null&&E8(V$,Y),x$!==null&&E8(x$,Y),F$!==null&&E8(F$,Y),kX.forEach(K),gX.forEach(K);for(var _=0;_<D$.length;_++){var $=D$[_];$.blockedOn===Y&&($.blockedOn=null)}for(;0<D$.length&&(_=D$[0],_.blockedOn===null);)FN(_),_.blockedOn===null&&D$.shift();if(_=(Y.ownerDocument||Y).$$reactFormReplay,_!=null)for($=0;$<_.length;$+=3){var H=_[$],X=_[$+1],G=H[A_]||null;if(typeof X==="function")G||MN(_);else if(G){var N=null;if(X&&X.hasAttribute("formAction")){if(H=X,G=X[A_]||null)N=G.formAction;else if(G4(H)!==null)continue}else N=G.action;typeof N==="function"?_[$+1]=N:(_.splice($,3),$-=3),MN(_)}}}function W4(Y){this._internalRoot=Y}function V8(Y){this._internalRoot=Y}function UN(Y){Y[B1]&&(Y._reactRootContainer?console.error("You are calling ReactDOMClient.createRoot() on a container that was previously passed to ReactDOM.render(). This is not supported."):console.error("You are calling ReactDOMClient.createRoot() on a container that has already been passed to createRoot() before. Instead, call root.render() on the existing root instead if you want to update it."))}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var HR=Symbol.for("react.element"),I$=Symbol.for("react.transitional.element"),zH=Symbol.for("react.portal"),IH=Symbol.for("react.fragment"),x8=Symbol.for("react.strict_mode"),N4=Symbol.for("react.profiler"),OR=Symbol.for("react.provider"),Z4=Symbol.for("react.consumer"),tB=Symbol.for("react.context"),oO=Symbol.for("react.forward_ref"),J4=Symbol.for("react.suspense"),Q4=Symbol.for("react.suspense_list"),F8=Symbol.for("react.memo"),k_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var SN=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var XR=Symbol.for("react.memo_cache_sentinel"),TN=Symbol.iterator,zR=Symbol.for("react.client.reference"),f=uH.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,FY=Object.assign,sO=0,yN,jN,kN,gN,bN,vN,fN;$Y.__reactDisabledLog=!0;var L4,mN,q4=!1,R4=new(typeof WeakMap==="function"?WeakMap:Map),K_=null,r_=!1,sK=Array.isArray,GK=bI.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,IR=Object.freeze({pending:!1,data:null,method:null,action:null}),C4=[],w4=[],F0=-1,P$=iY(null),aO=iY(null),G$=iY(null),D8=iY(null),D0=Object.prototype.hasOwnProperty,A4=mY.unstable_scheduleCallback,PR=mY.unstable_cancelCallback,GR=mY.unstable_shouldYield,WR=mY.unstable_requestPaint,eB=mY.unstable_now,NR=mY.unstable_getCurrentPriorityLevel,E4=mY.unstable_ImmediatePriority,V4=mY.unstable_UserBlockingPriority,PH=mY.unstable_NormalPriority,ZR=mY.unstable_LowPriority,x4=mY.unstable_IdlePriority,JR=mY.log,QR=mY.unstable_setDisableYieldValue,GH=null,__=null,YY=null,Y0=!1,AB=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined",X_=Math.clz32?Math.clz32:aY,LR=Math.log,qR=Math.LN2,M8=128,U8=4194304,EB=2,VB=8,K0=32,S8=268435456,W$=Math.random().toString(36).slice(2),B_="__reactFiber$"+W$,A_="__reactProps$"+W$,B1="__reactContainer$"+W$,F4="__reactEvents$"+W$,RR="__reactListeners$"+W$,CR="__reactHandles$"+W$,hN="__reactResources$"+W$,rO="__reactMarker$"+W$,dN=new Set,$1={},D4={},_0=!(typeof window==="undefined"||typeof window.document==="undefined"||typeof window.document.createElement==="undefined"),wR={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},AR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cN={},lN={},ER=/[\n"\\]/g,uN=!1,pN=!1,iN=!1,nN=!1,oN=!1,sN=!1,aN=["value","defaultValue"],rN=!1,tN=/["'&<>\n\t]|^\s|\s$/,VR="address applet area article aside base basefont bgsound blockquote body br button caption center col colgroup dd details dir div dl dt embed fieldset figcaption figure footer form frame frameset h1 h2 h3 h4 h5 h6 head header hgroup hr html iframe img input isindex li link listing main marquee menu menuitem meta nav noembed noframes noscript object ol p param plaintext pre script section select source style summary table tbody td template textarea tfoot th thead title tr track ul wbr xmp".split(" "),eN="applet caption html table td th marquee object template foreignObject desc title".split(" "),xR=eN.concat(["button"]),FR="dd dt li option optgroup p rp rt".split(" "),Y3={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null,containerTagInScope:null},T8={},y8="http://www.w3.org/1998/Math/MathML",WH="http://www.w3.org/2000/svg",M4={animation:"animationDelay animationDirection animationDuration animationFillMode animationIterationCount animationName animationPlayState animationTimingFunction".split(" "),background:"backgroundAttachment backgroundClip backgroundColor backgroundImage backgroundOrigin backgroundPositionX backgroundPositionY backgroundRepeat backgroundSize".split(" "),backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:"borderBottomColor borderBottomStyle borderBottomWidth borderImageOutset borderImageRepeat borderImageSlice borderImageSource borderImageWidth borderLeftColor borderLeftStyle borderLeftWidth borderRightColor borderRightStyle borderRightWidth borderTopColor borderTopStyle borderTopWidth".split(" "),borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:"fontFamily fontFeatureSettings fontKerning fontLanguageOverride fontSize fontSizeAdjust fontStretch fontStyle fontVariant fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition fontWeight lineHeight".split(" "),fontVariant:"fontVariantAlternates fontVariantCaps fontVariantEastAsian fontVariantLigatures fontVariantNumeric fontVariantPosition".split(" "),gap:["columnGap","rowGap"],grid:"gridAutoColumns gridAutoFlow gridAutoRows gridTemplateAreas gridTemplateColumns gridTemplateRows".split(" "),gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:"maskClip maskComposite maskImage maskMode maskOrigin maskPositionX maskPositionY maskRepeat maskSize".split(" "),maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},K3=/([A-Z])/g,_3=/^ms-/,DR=/^(?:webkit|moz|o)[A-Z]/,MR=/^-ms-/,UR=/-(.)/g,B3=/;\s*$/,NH={},U4={},$3=!1,H3=!1,O3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" ")),SR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j8={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",fetchpriority:"fetchPriority",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",imagesizes:"imageSizes",imagesrcset:"imageSrcSet",inert:"inert",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",popover:"popover",popovertarget:"popoverTarget",popovertargetaction:"popoverTargetAction",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",transformorigin:"transformOrigin","transform-origin":"transformOrigin",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},X3={"aria-current":0,"aria-description":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},ZH={},TR=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yR=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),z3=!1,z_={},I3=/^on./,jR=/^on[^A-Z]/,kR=RegExp("^(aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gR=RegExp("^(aria)[A-Z][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i,tO=null,JH=null,QH=null,S4=!1,T4=!1;if(_0)try{var eO={};Object.defineProperty(eO,"passive",{get:function(){T4=!0}}),window.addEventListener("test",eO,eO),window.removeEventListener("test",eO,eO)}catch(Y){T4=!1}var N$=null,y4=null,k8=null,H1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(Y){return Y.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},g8=R_(H1),YX=FY({},H1,{view:0,detail:0}),vR=R_(YX),j4,k4,KX,b8=FY({},YX,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x7,button:0,buttons:0,relatedTarget:function(Y){return Y.relatedTarget===void 0?Y.fromElement===Y.srcElement?Y.toElement:Y.fromElement:Y.relatedTarget},movementX:function(Y){if("movementX"in Y)return Y.movementX;return Y!==KX&&(KX&&Y.type==="mousemove"?(j4=Y.screenX-KX.screenX,k4=Y.screenY-KX.screenY):k4=j4=0,KX=Y),j4},movementY:function(Y){return"movementY"in Y?Y.movementY:k4}}),P3=R_(b8),fR=FY({},b8,{dataTransfer:0}),mR=R_(fR),hR=FY({},YX,{relatedTarget:0}),g4=R_(hR),dR=FY({},H1,{animationName:0,elapsedTime:0,pseudoElement:0}),cR=R_(dR),lR=FY({},H1,{clipboardData:function(Y){return"clipboardData"in Y?Y.clipboardData:window.clipboardData}}),uR=R_(lR),pR=FY({},H1,{data:0}),G3=R_(pR),iR=G3,nR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},aR=FY({},YX,{key:function(Y){if(Y.key){var K=nR[Y.key]||Y.key;if(K!=="Unidentified")return K}return Y.type==="keypress"?(Y=jz(Y),Y===13?"Enter":String.fromCharCode(Y)):Y.type==="keydown"||Y.type==="keyup"?oR[Y.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x7,charCode:function(Y){return Y.type==="keypress"?jz(Y):0},keyCode:function(Y){return Y.type==="keydown"||Y.type==="keyup"?Y.keyCode:0},which:function(Y){return Y.type==="keypress"?jz(Y):Y.type==="keydown"||Y.type==="keyup"?Y.keyCode:0}}),rR=R_(aR),tR=FY({},b8,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W3=R_(tR),eR=FY({},YX,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x7}),YC=R_(eR),KC=FY({},H1,{propertyName:0,elapsedTime:0,pseudoElement:0}),_C=R_(KC),BC=FY({},b8,{deltaX:function(Y){return"deltaX"in Y?Y.deltaX:("wheelDeltaX"in Y)?-Y.wheelDeltaX:0},deltaY:function(Y){return"deltaY"in Y?Y.deltaY:("wheelDeltaY"in Y)?-Y.wheelDeltaY:("wheelDelta"in Y)?-Y.wheelDelta:0},deltaZ:0,deltaMode:0}),$C=R_(BC),HC=FY({},H1,{newState:0,oldState:0}),OC=R_(HC),XC=[9,13,27,32],N3=229,b4=_0&&"CompositionEvent"in window,_X=null;_0&&"documentMode"in document&&(_X=document.documentMode);var zC=_0&&"TextEvent"in window&&!_X,Z3=_0&&(!b4||_X&&8<_X&&11>=_X),J3=32,Q3=String.fromCharCode(J3),L3=!1,LH=!1,IC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},BX=null,$X=null,q3=!1;_0&&(q3=vL("input")&&(!document.documentMode||9<document.documentMode));var I_=typeof Object.is==="function"?Object.is:lL,PC=_0&&"documentMode"in document&&11>=document.documentMode,qH=null,v4=null,HX=null,f4=!1,RH={animationend:d$("Animation","AnimationEnd"),animationiteration:d$("Animation","AnimationIteration"),animationstart:d$("Animation","AnimationStart"),transitionrun:d$("Transition","TransitionRun"),transitionstart:d$("Transition","TransitionStart"),transitioncancel:d$("Transition","TransitionCancel"),transitionend:d$("Transition","TransitionEnd")},m4={},R3={};_0&&(R3=document.createElement("div").style,("AnimationEvent"in window)||(delete RH.animationend.animation,delete RH.animationiteration.animation,delete RH.animationstart.animation),("TransitionEvent"in window)||delete RH.transitionend.transition);var C3=c$("animationend"),w3=c$("animationiteration"),A3=c$("animationstart"),GC=c$("transitionrun"),WC=c$("transitionstart"),NC=c$("transitioncancel"),E3=c$("transitionend"),V3=new Map,x3="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" "),OX=1,O1=2,M0=4,t_=[],CH=0,h4=0,Z$={};Object.freeze(Z$);var e_=null,wH=null,XK=0,ZC=1,aK=2,$_=8,xB=16,F3=64,AH=mY.unstable_now,d4=-0,v8=-0,E_=-1.1,X1=-0,f8=!1,m8=!1,FB={recordUnsafeLifecycleWarnings:function(){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},XX=[],zX=[],IX=[],PX=[],GX=[],WX=[],z1=new Set;FB.recordUnsafeLifecycleWarnings=function(Y,K){z1.has(Y.type)||(typeof K.componentWillMount==="function"&&K.componentWillMount.__suppressDeprecationWarning!==!0&&XX.push(Y),Y.mode&$_&&typeof K.UNSAFE_componentWillMount==="function"&&zX.push(Y),typeof K.componentWillReceiveProps==="function"&&K.componentWillReceiveProps.__suppressDeprecationWarning!==!0&&IX.push(Y),Y.mode&$_&&typeof K.UNSAFE_componentWillReceiveProps==="function"&&PX.push(Y),typeof K.componentWillUpdate==="function"&&K.componentWillUpdate.__suppressDeprecationWarning!==!0&&GX.push(Y),Y.mode&$_&&typeof K.UNSAFE_componentWillUpdate==="function"&&WX.push(Y))},FB.flushPendingUnsafeLifecycleWarnings=function(){var Y=new Set;0<XX.length&&(XX.forEach(function(N){Y.add(l(N)||"Component"),z1.add(N.type)}),XX=[]);var K=new Set;0<zX.length&&(zX.forEach(function(N){K.add(l(N)||"Component"),z1.add(N.type)}),zX=[]);var _=new Set;0<IX.length&&(IX.forEach(function(N){_.add(l(N)||"Component"),z1.add(N.type)}),IX=[]);var $=new Set;0<PX.length&&(PX.forEach(function(N){$.add(l(N)||"Component"),z1.add(N.type)}),PX=[]);var H=new Set;0<GX.length&&(GX.forEach(function(N){H.add(l(N)||"Component"),z1.add(N.type)}),GX=[]);var X=new Set;if(0<WX.length&&(WX.forEach(function(N){X.add(l(N)||"Component"),z1.add(N.type)}),WX=[]),0<K.size){var G=D(K);console.error(`Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.

Please update the following components: %s`,G)}0<$.size&&(G=D($),console.error(`Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state

Please update the following components: %s`,G)),0<X.size&&(G=D(X),console.error(`Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.

Please update the following components: %s`,G)),0<Y.size&&(G=D(Y),console.warn(`componentWillMount has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move code with side effects to componentDidMount, and set initial state in the constructor.
* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,G)),0<_.size&&(G=D(_),console.warn(`componentWillReceiveProps has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://react.dev/link/derived-state
* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,G)),0<H.size&&(G=D(H),console.warn(`componentWillUpdate has been renamed, and is not recommended for use. See https://react.dev/link/unsafe-component-lifecycles for details.

* Move data fetching code or side effects to componentDidUpdate.
* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run \`npx react-codemod rename-unsafe-lifecycles\` in your project source folder.

Please update the following components: %s`,G))};var h8=new Map,D3=new Set;FB.recordLegacyContextWarning=function(Y,K){var _=null;for(var $=Y;$!==null;)$.mode&$_&&(_=$),$=$.return;_===null?console.error("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue."):!D3.has(Y.type)&&($=h8.get(_),Y.type.contextTypes!=null||Y.type.childContextTypes!=null||K!==null&&typeof K.getChildContext==="function")&&($===void 0&&($=[],h8.set(_,$)),$.push(Y))},FB.flushLegacyContextWarning=function(){h8.forEach(function(Y){if(Y.length!==0){var K=Y[0],_=new Set;Y.forEach(function(H){_.add(l(H)||"Component"),D3.add(H.type)});var $=D(_);KY(K,function(){console.error(`Legacy context API has been detected within a strict-mode tree.

The old API will be supported in all 16.x releases, but applications using it should migrate to the new version.

Please update the following components: %s

Learn more about this warning here: https://react.dev/link/legacy-context`,$)})}})},FB.discardPendingWarnings=function(){XX=[],zX=[],IX=[],PX=[],GX=[],WX=[],h8=new Map};var c4=new WeakMap,EH=[],VH=0,d8=null,c8=0,YB=[],KB=0,I1=null,U0=1,S0="",P_=null,rK=null,gY=!1,T0=!1,_B=null,DB=null,B0=!1,l4=Error("Hydration Mismatch Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),l8=Error("Suspense Exception: This is not a real error! It's an implementation detail of `use` to interrupt the current render. You must either rethrow it immediately, or move the `use` call outside of the `try/catch` block. Capturing without rethrowing will lead to unexpected behavior.\n\nTo handle async errors, wrap your component in an error boundary, or call the promise's `.catch` method and pass the result to `use`"),M3=Error("Suspense Exception: This is not a real error, and should not leak into userspace. If you're seeing this, it's likely a bug in React."),u4={then:function(){console.error('Internal React error: A listener was unexpectedly attached to a "noop" thenable. This is a bug in React. Please file an issue.')}},NX=null,u8=!1,U3={"react-stack-bottom-frame":function(Y,K,_){var $=r_;r_=!0;try{return Y(K,_)}finally{r_=$}}},p4=U3["react-stack-bottom-frame"].bind(U3),S3={"react-stack-bottom-frame":function(Y){var K=r_;r_=!0;try{return Y.render()}finally{r_=K}}},T3=S3["react-stack-bottom-frame"].bind(S3),y3={"react-stack-bottom-frame":function(Y,K){try{K.componentDidMount()}catch(_){tY(Y,Y.return,_)}}},i4=y3["react-stack-bottom-frame"].bind(y3),j3={"react-stack-bottom-frame":function(Y,K,_,$,H){try{K.componentDidUpdate(_,$,H)}catch(X){tY(Y,Y.return,X)}}},k3=j3["react-stack-bottom-frame"].bind(j3),g3={"react-stack-bottom-frame":function(Y,K){var _=K.stack;Y.componentDidCatch(K.value,{componentStack:_!==null?_:""})}},JC=g3["react-stack-bottom-frame"].bind(g3),b3={"react-stack-bottom-frame":function(Y,K,_){try{_.componentWillUnmount()}catch($){tY(Y,K,$)}}},v3=b3["react-stack-bottom-frame"].bind(b3),f3={"react-stack-bottom-frame":function(Y){var K=Y.create;return Y=Y.inst,K=K(),Y.destroy=K}},QC=f3["react-stack-bottom-frame"].bind(f3),m3={"react-stack-bottom-frame":function(Y,K,_){try{_()}catch($){tY(Y,K,$)}}},LC=m3["react-stack-bottom-frame"].bind(m3),h3={"react-stack-bottom-frame":function(Y){var K=Y._init;return K(Y._payload)}},J$=h3["react-stack-bottom-frame"].bind(h3),xH=null,ZX=0,xY=null,n4,d3=n4=!1,c3={},l3={},u3={};C=function(Y,K,_){if(_!==null&&typeof _==="object"&&_._store&&(!_._store.validated&&_.key==null||_._store.validated===2)){if(typeof _._store!=="object")throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");_._store.validated=1;var $=l(Y),H=$||"null";if(!c3[H]){c3[H]=!0,_=_._owner,Y=Y._debugOwner;var X="";Y&&typeof Y.tag==="number"&&(H=l(Y))&&(X=`

Check the render method of \``+H+"`."),X||$&&(X=`

Check the top-level render call using <`+$+">.");var G="";_!=null&&Y!==_&&($=null,typeof _.tag==="number"?$=l(_):typeof _.name==="string"&&($=_.name),$&&(G=" It was passed a child from "+$+".")),KY(K,function(){console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',X,G)})}}};var P1=rG(!0),p3=rG(!1),FH=iY(null),p8=iY(0),BB=iY(null),$0=null,DH=1,JX=2,jK=iY(0),$B=0,HB=1,G_=2,tK=4,kK=8,qC=typeof AbortController!=="undefined"?AbortController:function(){var Y=[],K=this.signal={aborted:!1,addEventListener:function(_,$){Y.push($)}};this.abort=function(){K.aborted=!0,Y.forEach(function(_){return _()})}},RC=mY.unstable_scheduleCallback,CC=mY.unstable_NormalPriority,gK={$$typeof:tB,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0,_currentRenderer:null,_currentRenderer2:null},QX=null,o4=0,G1=0,MH=null,i3=f.S;f.S=function(Y,K){typeof K==="object"&&K!==null&&typeof K.then==="function"&&pL(Y,K),i3!==null&&i3(Y,K)};var W1=iY(null),UH,n3=new Set,o3=new Set,s4=new Set,s3=new Set,Q$=0,LY=null,YK=null,SK=null,i8=!1,SH=!1,N1=!1,n8=0,LX=0,y0=null,wC=0,AC=25,v=null,OB=null,j0=-1,qX=!1,a4=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},H0={readContext:JK,use:_$,useCallback:DK,useContext:DK,useEffect:DK,useImperativeHandle:DK,useLayoutEffect:DK,useInsertionEffect:DK,useMemo:DK,useReducer:DK,useRef:DK,useState:DK,useDebugValue:DK,useDeferredValue:DK,useTransition:DK,useSyncExternalStore:DK,useId:DK};H0.useCacheRefresh=DK,H0.useMemoCache=DK,H0.useHostTransitionStatus=DK,H0.useFormState=DK,H0.useActionState=DK,H0.useOptimistic=DK;var L$=null,Z1=null,q$=null,J1=null,V_=null,W_=null,R$=null;L$={readContext:function(Y){return JK(Y)},use:_$,useCallback:function(Y,K){return v="useCallback",MY(),o1(K),K6(Y,K)},useContext:function(Y){return v="useContext",MY(),JK(Y)},useEffect:function(Y,K){return v="useEffect",MY(),o1(K),ez(Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",MY(),o1(_),Y6(Y,K,_)},useInsertionEffect:function(Y,K){v="useInsertionEffect",MY(),o1(K),a$(4,G_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",MY(),o1(K),e7(Y,K)},useMemo:function(Y,K){v="useMemo",MY(),o1(K);var _=f.H;f.H=V_;try{return _6(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",MY();var $=f.H;f.H=V_;try{return p7(Y,K,_)}finally{f.H=$}},useRef:function(Y){return v="useRef",MY(),t7(Y)},useState:function(Y){v="useState",MY();var K=f.H;f.H=V_;try{return s7(Y)}finally{f.H=K}},useDebugValue:function(){v="useDebugValue",MY()},useDeferredValue:function(Y,K){return v="useDeferredValue",MY(),B6(Y,K)},useTransition:function(){return v="useTransition",MY(),O6()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",MY(),n7(Y,K,_)},useId:function(){return v="useId",MY(),X6()},useCacheRefresh:function(){return v="useCacheRefresh",MY(),z6()}},L$.useMemoCache=s$,L$.useHostTransitionStatus=r$,L$.useFormState=function(Y,K){return v="useFormState",MY(),sz(),a1(Y,K)},L$.useActionState=function(Y,K){return v="useActionState",MY(),a1(Y,K)},L$.useOptimistic=function(Y){return v="useOptimistic",MY(),a7(Y)},Z1={readContext:function(Y){return JK(Y)},use:_$,useCallback:function(Y,K){return v="useCallback",o(),K6(Y,K)},useContext:function(Y){return v="useContext",o(),JK(Y)},useEffect:function(Y,K){return v="useEffect",o(),ez(Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",o(),Y6(Y,K,_)},useInsertionEffect:function(Y,K){v="useInsertionEffect",o(),a$(4,G_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",o(),e7(Y,K)},useMemo:function(Y,K){v="useMemo",o();var _=f.H;f.H=V_;try{return _6(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",o();var $=f.H;f.H=V_;try{return p7(Y,K,_)}finally{f.H=$}},useRef:function(Y){return v="useRef",o(),t7(Y)},useState:function(Y){v="useState",o();var K=f.H;f.H=V_;try{return s7(Y)}finally{f.H=K}},useDebugValue:function(){v="useDebugValue",o()},useDeferredValue:function(Y,K){return v="useDeferredValue",o(),B6(Y,K)},useTransition:function(){return v="useTransition",o(),O6()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",o(),n7(Y,K,_)},useId:function(){return v="useId",o(),X6()},useCacheRefresh:function(){return v="useCacheRefresh",o(),z6()}},Z1.useMemoCache=s$,Z1.useHostTransitionStatus=r$,Z1.useFormState=function(Y,K){return v="useFormState",o(),sz(),a1(Y,K)},Z1.useActionState=function(Y,K){return v="useActionState",o(),a1(Y,K)},Z1.useOptimistic=function(Y){return v="useOptimistic",o(),a7(Y)},q$={readContext:function(Y){return JK(Y)},use:_$,useCallback:function(Y,K){return v="useCallback",o(),K8(Y,K)},useContext:function(Y){return v="useContext",o(),JK(Y)},useEffect:function(Y,K){v="useEffect",o(),w_(2048,kK,Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",o(),Y8(Y,K,_)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",o(),w_(4,G_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",o(),w_(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",o();var _=f.H;f.H=W_;try{return _8(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",o();var $=f.H;f.H=W_;try{return s1(Y,K,_)}finally{f.H=$}},useRef:function(){return v="useRef",o(),rY().memoizedState},useState:function(){v="useState",o();var Y=f.H;f.H=W_;try{return s1(wB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",o()},useDeferredValue:function(Y,K){return v="useDeferredValue",o(),q5(Y,K)},useTransition:function(){return v="useTransition",o(),V5()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",o(),az(Y,K,_)},useId:function(){return v="useId",o(),rY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),rY().memoizedState}},q$.useMemoCache=s$,q$.useHostTransitionStatus=r$,q$.useFormState=function(Y){return v="useFormState",o(),sz(),rz(Y)},q$.useActionState=function(Y){return v="useActionState",o(),rz(Y)},q$.useOptimistic=function(Y,K){return v="useOptimistic",o(),z5(Y,K)},J1={readContext:function(Y){return JK(Y)},use:_$,useCallback:function(Y,K){return v="useCallback",o(),K8(Y,K)},useContext:function(Y){return v="useContext",o(),JK(Y)},useEffect:function(Y,K){v="useEffect",o(),w_(2048,kK,Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",o(),Y8(Y,K,_)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",o(),w_(4,G_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",o(),w_(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",o();var _=f.H;f.H=R$;try{return _8(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",o();var $=f.H;f.H=R$;try{return SO(Y,K,_)}finally{f.H=$}},useRef:function(){return v="useRef",o(),rY().memoizedState},useState:function(){v="useState",o();var Y=f.H;f.H=R$;try{return SO(wB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",o()},useDeferredValue:function(Y,K){return v="useDeferredValue",o(),R5(Y,K)},useTransition:function(){return v="useTransition",o(),x5()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",o(),az(Y,K,_)},useId:function(){return v="useId",o(),rY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),rY().memoizedState}},J1.useMemoCache=s$,J1.useHostTransitionStatus=r$,J1.useFormState=function(Y){return v="useFormState",o(),sz(),tz(Y)},J1.useActionState=function(Y){return v="useActionState",o(),tz(Y)},J1.useOptimistic=function(Y,K){return v="useOptimistic",o(),P5(Y,K)},V_={readContext:function(Y){return q(),JK(Y)},use:function(Y){return Q(),_$(Y)},useCallback:function(Y,K){return v="useCallback",Q(),MY(),K6(Y,K)},useContext:function(Y){return v="useContext",Q(),MY(),JK(Y)},useEffect:function(Y,K){return v="useEffect",Q(),MY(),ez(Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",Q(),MY(),Y6(Y,K,_)},useInsertionEffect:function(Y,K){v="useInsertionEffect",Q(),MY(),a$(4,G_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",Q(),MY(),e7(Y,K)},useMemo:function(Y,K){v="useMemo",Q(),MY();var _=f.H;f.H=V_;try{return _6(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",Q(),MY();var $=f.H;f.H=V_;try{return p7(Y,K,_)}finally{f.H=$}},useRef:function(Y){return v="useRef",Q(),MY(),t7(Y)},useState:function(Y){v="useState",Q(),MY();var K=f.H;f.H=V_;try{return s7(Y)}finally{f.H=K}},useDebugValue:function(){v="useDebugValue",Q(),MY()},useDeferredValue:function(Y,K){return v="useDeferredValue",Q(),MY(),B6(Y,K)},useTransition:function(){return v="useTransition",Q(),MY(),O6()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",Q(),MY(),n7(Y,K,_)},useId:function(){return v="useId",Q(),MY(),X6()},useCacheRefresh:function(){return v="useCacheRefresh",MY(),z6()},useMemoCache:function(Y){return Q(),s$(Y)}},V_.useHostTransitionStatus=r$,V_.useFormState=function(Y,K){return v="useFormState",Q(),MY(),a1(Y,K)},V_.useActionState=function(Y,K){return v="useActionState",Q(),MY(),a1(Y,K)},V_.useOptimistic=function(Y){return v="useOptimistic",Q(),MY(),a7(Y)},W_={readContext:function(Y){return q(),JK(Y)},use:function(Y){return Q(),_$(Y)},useCallback:function(Y,K){return v="useCallback",Q(),o(),K8(Y,K)},useContext:function(Y){return v="useContext",Q(),o(),JK(Y)},useEffect:function(Y,K){v="useEffect",Q(),o(),w_(2048,kK,Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",Q(),o(),Y8(Y,K,_)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",Q(),o(),w_(4,G_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",Q(),o(),w_(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",Q(),o();var _=f.H;f.H=W_;try{return _8(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",Q(),o();var $=f.H;f.H=W_;try{return s1(Y,K,_)}finally{f.H=$}},useRef:function(){return v="useRef",Q(),o(),rY().memoizedState},useState:function(){v="useState",Q(),o();var Y=f.H;f.H=W_;try{return s1(wB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",Q(),o()},useDeferredValue:function(Y,K){return v="useDeferredValue",Q(),o(),q5(Y,K)},useTransition:function(){return v="useTransition",Q(),o(),V5()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",Q(),o(),az(Y,K,_)},useId:function(){return v="useId",Q(),o(),rY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),rY().memoizedState},useMemoCache:function(Y){return Q(),s$(Y)}},W_.useHostTransitionStatus=r$,W_.useFormState=function(Y){return v="useFormState",Q(),o(),rz(Y)},W_.useActionState=function(Y){return v="useActionState",Q(),o(),rz(Y)},W_.useOptimistic=function(Y,K){return v="useOptimistic",Q(),o(),z5(Y,K)},R$={readContext:function(Y){return q(),JK(Y)},use:function(Y){return Q(),_$(Y)},useCallback:function(Y,K){return v="useCallback",Q(),o(),K8(Y,K)},useContext:function(Y){return v="useContext",Q(),o(),JK(Y)},useEffect:function(Y,K){v="useEffect",Q(),o(),w_(2048,kK,Y,K)},useImperativeHandle:function(Y,K,_){return v="useImperativeHandle",Q(),o(),Y8(Y,K,_)},useInsertionEffect:function(Y,K){return v="useInsertionEffect",Q(),o(),w_(4,G_,Y,K)},useLayoutEffect:function(Y,K){return v="useLayoutEffect",Q(),o(),w_(4,tK,Y,K)},useMemo:function(Y,K){v="useMemo",Q(),o();var _=f.H;f.H=W_;try{return _8(Y,K)}finally{f.H=_}},useReducer:function(Y,K,_){v="useReducer",Q(),o();var $=f.H;f.H=W_;try{return SO(Y,K,_)}finally{f.H=$}},useRef:function(){return v="useRef",Q(),o(),rY().memoizedState},useState:function(){v="useState",Q(),o();var Y=f.H;f.H=W_;try{return SO(wB)}finally{f.H=Y}},useDebugValue:function(){v="useDebugValue",Q(),o()},useDeferredValue:function(Y,K){return v="useDeferredValue",Q(),o(),R5(Y,K)},useTransition:function(){return v="useTransition",Q(),o(),x5()},useSyncExternalStore:function(Y,K,_){return v="useSyncExternalStore",Q(),o(),az(Y,K,_)},useId:function(){return v="useId",Q(),o(),rY().memoizedState},useCacheRefresh:function(){return v="useCacheRefresh",o(),rY().memoizedState},useMemoCache:function(Y){return Q(),s$(Y)}},R$.useHostTransitionStatus=r$,R$.useFormState=function(Y){return v="useFormState",Q(),o(),tz(Y)},R$.useActionState=function(Y){return v="useActionState",Q(),o(),tz(Y)},R$.useOptimistic=function(Y,K){return v="useOptimistic",Q(),o(),P5(Y,K)};var a3={},r3=new Set,t3=new Set,e3=new Set,YZ=new Set,KZ=new Set,_Z=new Set,BZ=new Set,$Z=new Set,HZ=new Set,OZ=new Set;Object.freeze(a3);var r4={isMounted:function(Y){var K=K_;if(K!==null&&r_&&K.tag===1){var _=K.stateNode;_._warnedAboutRefsInRender||console.error("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",l(K)||"A component"),_._warnedAboutRefsInRender=!0}return(Y=Y._reactInternals)?t(Y)===Y:!1},enqueueSetState:function(Y,K,_){Y=Y._reactInternals;var $=j_(Y),H=$$($);H.payload=K,_!==void 0&&_!==null&&(P6(_),H.callback=_),K=H$(Y,H,$),K!==null&&(RK(K,Y,$),kO(K,Y,$)),IK(Y,$)},enqueueReplaceState:function(Y,K,_){Y=Y._reactInternals;var $=j_(Y),H=$$($);H.tag=QZ,H.payload=K,_!==void 0&&_!==null&&(P6(_),H.callback=_),K=H$(Y,H,$),K!==null&&(RK(K,Y,$),kO(K,Y,$)),IK(Y,$)},enqueueForceUpdate:function(Y,K){Y=Y._reactInternals;var _=j_(Y),$=$$(_);$.tag=LZ,K!==void 0&&K!==null&&(P6(K),$.callback=K),K=H$(Y,$,_),K!==null&&(RK(K,Y,_),kO(K,Y,_)),YY!==null&&typeof YY.markForceUpdateScheduled==="function"&&YY.markForceUpdateScheduled(Y,_)}},o8=typeof reportError==="function"?reportError:function(Y){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y==="object"&&Y!==null&&typeof Y.message==="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(K))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",Y);return}console.error(Y)},TH=null,t4=null,XZ=Error("This is not a real error. It's an implementation detail of React's selective hydration feature. If this leaks into userspace, it's a bug in React. Please file an issue."),lK=!1,zZ={},IZ={},PZ={},GZ={},yH=!1,WZ={},e4={},YI={dehydrated:null,treeContext:null,retryLane:0},NZ=!1,KI=iY(null),_I=iY(null),ZZ={},s8=null,jH=null,kH=!1,JZ=0,QZ=1,LZ=2,BI=3,C$=!1,qZ=!1,$I=null,HI=!1,RZ=null;RZ=new Set;var k0=!1,EK=!1,OI=!1,CZ=typeof WeakSet==="function"?WeakSet:Set,uK=null,gH=null,bH=null,wZ=!1,TK=null,g_=!1,MB=null,RX=8192,AZ=!1;try{var EZ=Object.preventExtensions({});}catch(Y){AZ=!0}var EC={getCacheForType:function(Y){var K=JK(gK),_=K.data.get(Y);return _===void 0&&(_=Y(),K.data.set(Y,_)),_},getOwner:function(){return K_}};if(typeof Symbol==="function"&&Symbol.for){var CX=Symbol.for;CX("selector.component"),CX("selector.has_pseudo_class"),CX("selector.role"),CX("selector.test_id"),CX("selector.text")}var VC=[],xC=typeof WeakMap==="function"?WeakMap:Map,b_=0,N_=2,g0=4,b0=0,wX=1,vH=2,XI=3,Q1=4,VZ=5,a8=6,WK=b_,$K=null,DY=null,UY=0,x_=0,AX=1,L1=2,EX=3,xZ=4,zI=5,fH=6,VX=7,II=8,HK=x_,v_=null,v0=!1,mH=!1,PI=!1,O0=0,VK=b0,w$=0,A$=0,GI=0,f_=0,q1=0,xX=null,UB=null,r8=!1,WI=0,FZ=300,t8=1/0,DZ=500,FX=null,E$=null,e8=!1,R1=null,DX=0,NI=0,ZI=null,FC=50,MX=0,JI=null,QI=!1,Y2=!1,DC=50,C1=0,UX=null,hH=!1,MZ=0,MC=1,UC=2,K2=null,UZ=!1,SZ=new Set,SC={},_2=null,dH=null,LI=!1,qI=!1,B2=!1,RI=!1,w1=0,CI={};(function(){for(var Y=0;Y<x3.length;Y++){var K=x3[Y],_=K.toLowerCase();K=K[0].toUpperCase()+K.slice(1),CB(_,"on"+K)}CB(C3,"onAnimationEnd"),CB(w3,"onAnimationIteration"),CB(A3,"onAnimationStart"),CB("dblclick","onDoubleClick"),CB("focusin","onFocus"),CB("focusout","onBlur"),CB(GC,"onTransitionRun"),CB(WC,"onTransitionStart"),CB(NC,"onTransitionCancel"),CB(E3,"onTransitionEnd")})(),qB("onMouseEnter",["mouseout","mouseover"]),qB("onMouseLeave",["mouseout","mouseover"]),qB("onPointerEnter",["pointerout","pointerover"]),qB("onPointerLeave",["pointerout","pointerover"]),uB("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),uB("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),uB("onBeforeInput",["compositionend","keypress","textInput","paste"]),uB("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),uB("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),uB("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var SX="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(SX)),$2="_reactListening"+Math.random().toString(36).slice(2),TZ=!1,yZ=!1,H2=!1,jZ=!1,O2=!1,X2=!1,kZ=!1,z2={},TC=!0,yC=/\r\n?/g,jC=/\u0000|\uFFFD/g,A1="http://www.w3.org/1999/xlink",AI="http://www.w3.org/XML/1998/namespace",kC="javascript:throw new Error('React form unexpectedly submitted.')",gC="suppressHydrationWarning",I2="$",P2="/$",E1="$?",V1="$!",EI="F!",gZ="F",bC="style",f0=0,cH=1,G2=2,VI=null,xI=null,bZ={dialog:!0,webview:!0},FI=null,vZ=typeof setTimeout==="function"?setTimeout:void 0,vC=typeof clearTimeout==="function"?clearTimeout:void 0,DI=-1,fZ=typeof Promise==="function"?Promise:void 0,fC=typeof queueMicrotask==="function"?queueMicrotask:typeof fZ!=="undefined"?function(Y){return fZ.resolve(null).then(Y).catch(Sq)}:vZ,x1=0,TX=1,mZ=2,hZ=3,XB=4,zB=new Map,dZ=new Set,m0=GK.d;GK.d={f:function(){var Y=m0.f(),K=_H();return Y||K},r:function(Y){var K=lB(Y);K!==null&&K.tag===5&&K.type==="form"?E5(K):m0.r(Y)},D:function(Y){m0.D(Y),GN("dns-prefetch",Y,null)},C:function(Y,K){m0.C(Y,K),GN("preconnect",Y,K)},L:function(Y,K,_){m0.L(Y,K,_);var $=lH;if($&&Y&&K){var H='link[rel="preload"][as="'+CY(K)+'"]';K==="image"?_&&_.imageSrcSet?(H+='[imagesrcset="'+CY(_.imageSrcSet)+'"]',typeof _.imageSizes==="string"&&(H+='[imagesizes="'+CY(_.imageSizes)+'"]')):H+='[href="'+CY(Y)+'"]':H+='[href="'+CY(Y)+'"]';var X=H;switch(K){case"style":X=OH(Y);break;case"script":X=XH(Y)}zB.has(X)||(Y=FY({rel:"preload",href:K==="image"&&_&&_.imageSrcSet?void 0:Y,as:K},_),zB.set(X,Y),$.querySelector(H)!==null||K==="style"&&$.querySelector(uO(X))||K==="script"&&$.querySelector(pO(X))||(K=$.createElement("link"),oK(K,"link",Y),FK(K),$.head.appendChild(K)))}},m:function(Y,K){m0.m(Y,K);var _=lH;if(_&&Y){var $=K&&typeof K.as==="string"?K.as:"script",H='link[rel="modulepreload"][as="'+CY($)+'"][href="'+CY(Y)+'"]',X=H;switch($){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":X=XH(Y)}if(!zB.has(X)&&(Y=FY({rel:"modulepreload",href:Y},K),zB.set(X,Y),_.querySelector(H)===null)){switch($){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(_.querySelector(pO(X)))return}$=_.createElement("link"),oK($,"link",Y),FK($),_.head.appendChild($)}}},X:function(Y,K){m0.X(Y,K);var _=lH;if(_&&Y){var $=L0(_).hoistableScripts,H=XH(Y),X=$.get(H);X||(X=_.querySelector(pO(H)),X||(Y=FY({src:Y,async:!0},K),(K=zB.get(H))&&O4(Y,K),X=_.createElement("script"),FK(X),oK(X,"link",Y),_.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},$.set(H,X))}},S:function(Y,K,_){m0.S(Y,K,_);var $=lH;if($&&Y){var H=L0($).hoistableStyles,X=OH(Y);K=K||"default";var G=H.get(X);if(!G){var N={loading:x1,preload:null};if(G=$.querySelector(uO(X)))N.loading=TX|XB;else{Y=FY({rel:"stylesheet",href:Y,"data-precedence":K},_),(_=zB.get(X))&&H4(Y,_);var R=G=$.createElement("link");FK(R),oK(R,"link",Y),R._p=new Promise(function(A,k){R.onload=A,R.onerror=k}),R.addEventListener("load",function(){N.loading|=TX}),R.addEventListener("error",function(){N.loading|=mZ}),N.loading|=XB,C8(G,K,$)}G={type:"stylesheet",instance:G,count:1,state:N},H.set(X,G)}}},M:function(Y,K){m0.M(Y,K);var _=lH;if(_&&Y){var $=L0(_).hoistableScripts,H=XH(Y),X=$.get(H);X||(X=_.querySelector(pO(H)),X||(Y=FY({src:Y,async:!0,type:"module"},K),(K=zB.get(H))&&O4(Y,K),X=_.createElement("script"),FK(X),oK(X,"link",Y),_.head.appendChild(X)),X={type:"script",instance:X,count:1,state:null},$.set(H,X))}}};var lH=typeof document==="undefined"?null:document,W2=null,yX=null,MI=null,N2=null,F1=IR,jX={$$typeof:tB,Provider:null,Consumer:null,_currentValue:F1,_currentValue2:F1,_threadCount:0},cZ="%c%s%c ",lZ="background: #e6e6e6;background: light-dark(rgba(0,0,0,0.1), rgba(255,255,255,0.25));color: #000000;color: light-dark(#000000, #ffffff);border-radius: 2px",uZ="",Z2=" ",pZ=Function.prototype.bind,iZ=!1,nZ=null,oZ=null,sZ=null,aZ=null,rZ=null,tZ=null,eZ=null,Y9=null,K9=null;nZ=function(Y,K,_,$){K=B(Y,K),K!==null&&(_=O(K.memoizedState,_,0,$),K.memoizedState=_,K.baseState=_,Y.memoizedProps=FY({},Y.memoizedProps),_=Y_(Y,2),_!==null&&RK(_,Y,2))},oZ=function(Y,K,_){K=B(Y,K),K!==null&&(_=P(K.memoizedState,_,0),K.memoizedState=_,K.baseState=_,Y.memoizedProps=FY({},Y.memoizedProps),_=Y_(Y,2),_!==null&&RK(_,Y,2))},sZ=function(Y,K,_,$){K=B(Y,K),K!==null&&(_=z(K.memoizedState,_,$),K.memoizedState=_,K.baseState=_,Y.memoizedProps=FY({},Y.memoizedProps),_=Y_(Y,2),_!==null&&RK(_,Y,2))},aZ=function(Y,K,_){Y.pendingProps=O(Y.memoizedProps,K,0,_),Y.alternate&&(Y.alternate.pendingProps=Y.pendingProps),K=Y_(Y,2),K!==null&&RK(K,Y,2)},rZ=function(Y,K){Y.pendingProps=P(Y.memoizedProps,K,0),Y.alternate&&(Y.alternate.pendingProps=Y.pendingProps),K=Y_(Y,2),K!==null&&RK(K,Y,2)},tZ=function(Y,K,_){Y.pendingProps=z(Y.memoizedProps,K,_),Y.alternate&&(Y.alternate.pendingProps=Y.pendingProps),K=Y_(Y,2),K!==null&&RK(K,Y,2)},eZ=function(Y){var K=Y_(Y,2);K!==null&&RK(K,Y,2)},Y9=function(Y){Z=Y},K9=function(Y){W=Y};var J2=!0,Q2=null,UI=!1,V$=null,x$=null,F$=null,kX=new Map,gX=new Map,D$=[],mC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" "),L2=null;if(V8.prototype.render=W4.prototype.render=function(Y,K){var _=this._internalRoot;if(_===null)throw Error("Cannot update an unmounted root.");typeof K==="function"?console.error("does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."):S(K)?console.error("You passed a container to the second argument of root.render(...). You don't need to pass it again since you already passed it to create the root."):typeof K!=="undefined"&&console.error("You passed a second argument to root.render(...) but it only accepts one argument."),K=_.current;var $=j_(K);wN(K,$,Y,_,null,null)},V8.prototype.unmount=W4.prototype.unmount=function(Y){if(typeof Y==="function"&&console.error("does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect()."),Y=this._internalRoot,Y!==null){this._internalRoot=null;var K=Y.containerInfo;(WK&(N_|g0))!==b_&&console.error("Attempted to synchronously unmount a root while React was already rendering. React cannot finish unmounting the root until the current render has completed, which may lead to a race condition."),CN(null,Y,null,null),_H(),K[B1]=null}},V8.prototype.unstable_scheduleHydration=function(Y){if(Y){var K=Uz();Y={blockedOn:null,target:Y,priority:K};for(var _=0;_<D$.length&&K!==0&&K<D$[_].priority;_++);D$.splice(_,0,Y),_===0&&FN(Y)}},function(){var Y=uH.version;if(Y!=="19.0.0")throw Error(`Incompatible React versions: The "react" and "react-dom" packages must have the exact same version. Instead got:
  - react:      `+(Y+`
  - react-dom:  19.0.0
Learn more: https://react.dev/warnings/version-mismatch`))}(),typeof Map==="function"&&Map.prototype!=null&&typeof Map.prototype.forEach==="function"&&typeof Set==="function"&&Set.prototype!=null&&typeof Set.prototype.clear==="function"&&typeof Set.prototype.forEach==="function"||console.error("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://react.dev/link/react-polyfills"),GK.findDOMNode=function(Y){var K=Y._reactInternals;if(K===void 0){if(typeof Y.render==="function")throw Error("Unable to find node on an unmounted component.");throw Y=Object.keys(Y).join(","),Error("Argument appears to not be a ReactComponent. Keys: "+Y)}return Y=dY(K),Y=Y!==null?sY(Y):null,Y=Y===null?null:Y.stateNode,Y},!function(){var Y={bundleType:1,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:f,findFiberByHostInstance:cB,reconcilerVersion:"19.0.0"};return Y.overrideHookState=nZ,Y.overrideHookStateDeletePath=oZ,Y.overrideHookStateRenamePath=sZ,Y.overrideProps=aZ,Y.overridePropsDeletePath=rZ,Y.overridePropsRenamePath=tZ,Y.scheduleUpdate=eZ,Y.setErrorHandler=Y9,Y.setSuspenseHandler=K9,Y.scheduleRefresh=U,Y.scheduleRoot=T,Y.setRefreshHandler=m,Y.getCurrentFiber=eq,Y.getLaneLabelMap=YR,Y.injectProfilingHooks=v$,Q0(Y)}()&&_0&&window.top===window.self&&(-1<navigator.userAgent.indexOf("Chrome")&&navigator.userAgent.indexOf("Edge")===-1||-1<navigator.userAgent.indexOf("Firefox"))){var _9=window.location.protocol;/^(https?|file):$/.test(_9)&&console.info("%cDownload the React DevTools for a better development experience: https://react.dev/link/react-devtools"+(_9==="file:"?`
You might need to use a local HTTP server (instead of file://): https://react.dev/link/react-devtools-faq`:""),"font-weight:bold")}eC.createRoot=function(Y,K){if(!S(Y))throw Error("Target container is not a DOM element.");UN(Y);var _=!1,$="",H=T5,X=y5,G=j5,N=null;return K!==null&&K!==void 0&&(K.hydrate?console.warn("hydrate through createRoot is deprecated. Use ReactDOMClient.hydrateRoot(container, <App />) instead."):typeof K==="object"&&K!==null&&K.$$typeof===I$&&console.error(`You passed a JSX element to createRoot. You probably meant to call root.render instead. Example usage:

  let root = createRoot(domContainer);
  root.render(<App />);`),K.unstable_strictMode===!0&&(_=!0),K.identifierPrefix!==void 0&&($=K.identifierPrefix),K.onUncaughtError!==void 0&&(H=K.onUncaughtError),K.onCaughtError!==void 0&&(X=K.onCaughtError),K.onRecoverableError!==void 0&&(G=K.onRecoverableError),K.unstable_transitionCallbacks!==void 0&&(N=K.unstable_transitionCallbacks)),K=qN(Y,1,!1,null,null,_,$,H,X,G,N,null),Y[B1]=K.current,a6(Y.nodeType===8?Y.parentNode:Y),new W4(K)},eC.hydrateRoot=function(Y,K,_){if(!S(Y))throw Error("Target container is not a DOM element.");UN(Y),K===void 0&&console.error("Must provide initial children as second argument to hydrateRoot. Example usage: hydrateRoot(domContainer, <App />)");var $=!1,H="",X=T5,G=y5,N=j5,R=null,A=null;return _!==null&&_!==void 0&&(_.unstable_strictMode===!0&&($=!0),_.identifierPrefix!==void 0&&(H=_.identifierPrefix),_.onUncaughtError!==void 0&&(X=_.onUncaughtError),_.onCaughtError!==void 0&&(G=_.onCaughtError),_.onRecoverableError!==void 0&&(N=_.onRecoverableError),_.unstable_transitionCallbacks!==void 0&&(R=_.unstable_transitionCallbacks),_.formState!==void 0&&(A=_.formState)),K=qN(Y,1,!0,K,_!=null?_:null,$,H,X,G,N,R,A),K.context=RN(null),_=K.current,$=j_(_),H=$$($),H.callback=null,H$(_,H,$),K.current.lanes=$,hK(K,$),aB(K),Y[B1]=K.current,a6(Y),new V8(K)},eC.version="19.0.0",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var z9=X0((dF,X9)=>{X9.exports=O9()});var W9=X0((G9)=>{Object.defineProperty(G9,"__esModule",{value:!0});G9.parse=Ow;G9.serialize=Xw;var Yw=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,Kw=/^[\u0021-\u003A\u003C-\u007E]*$/,_w=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Bw=/^[\u0020-\u003A\u003D-\u007E]*$/,$w=Object.prototype.toString,Hw=(()=>{let B=function(){};return B.prototype=Object.create(null),B})();function Ow(B,O){let z=new Hw,I=B.length;if(I<2)return z;let P=O?.decode||zw,W=0;do{let Z=B.indexOf("=",W);if(Z===-1)break;let L=B.indexOf(";",W),Q=L===-1?I:L;if(Z>Q){W=B.lastIndexOf(";",Z-1)+1;continue}let q=I9(B,W,Z),w=P9(B,Z,q),C=B.slice(q,w);if(z[C]===void 0){let D=I9(B,Z+1,Q),T=P9(B,Q,D),U=P(B.slice(D,T));z[C]=U}W=Q+1}while(W<I);return z}function I9(B,O,z){do{let I=B.charCodeAt(O);if(I!==32&&I!==9)return O}while(++O<z);return z}function P9(B,O,z){while(O>z){let I=B.charCodeAt(--O);if(I!==32&&I!==9)return O+1}return z}function Xw(B,O,z){let I=z?.encode||encodeURIComponent;if(!Yw.test(B))throw new TypeError(`argument name is invalid: ${B}`);let P=I(O);if(!Kw.test(P))throw new TypeError(`argument val is invalid: ${O}`);let W=B+"="+P;if(!z)return W;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);W+="; Max-Age="+z.maxAge}if(z.domain){if(!_w.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);W+="; Domain="+z.domain}if(z.path){if(!Bw.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);W+="; Path="+z.path}if(z.expires){if(!Iw(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);W+="; Expires="+z.expires.toUTCString()}if(z.httpOnly)W+="; HttpOnly";if(z.secure)W+="; Secure";if(z.partitioned)W+="; Partitioned";if(z.priority)switch(typeof z.priority==="string"?z.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite==="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return W}function zw(B){if(B.indexOf("%")===-1)return B;try{return decodeURIComponent(B)}catch(O){return B}}function Iw(B){return $w.call(B)==="[object Date]"}});var WQ=X0((lE)=>{lE.__esModule=!0;lE.distance=lE.closest=void 0;var n0=new Uint32Array(65536),hE=function(B,O){var z=B.length,I=O.length,P=1<<z-1,W=-1,Z=0,L=z,Q=z;while(Q--)n0[B.charCodeAt(Q)]|=1<<Q;for(Q=0;Q<I;Q++){var q=n0[O.charCodeAt(Q)],w=q|Z;if(q|=(q&W)+W^W,Z|=~(q|W),W&=q,Z&P)L++;if(W&P)L--;Z=Z<<1|1,W=W<<1|~(w|Z),Z&=w}Q=z;while(Q--)n0[B.charCodeAt(Q)]=0;return L},dE=function(B,O){var z=O.length,I=B.length,P=[],W=[],Z=Math.ceil(z/32),L=Math.ceil(I/32);for(var Q=0;Q<Z;Q++)W[Q]=-1,P[Q]=0;var q=0;for(;q<L-1;q++){var w=0,C=-1,D=q*32,T=Math.min(32,I)+D;for(var U=D;U<T;U++)n0[B.charCodeAt(U)]|=1<<U;for(var Q=0;Q<z;Q++){var m=n0[O.charCodeAt(Q)],S=W[Q/32|0]>>>Q&1,y=P[Q/32|0]>>>Q&1,b=m|w,i=((m|y)&C)+C^C|m|y,l=w|~(i|C),$Y=C&i;if(l>>>31^S)W[Q/32|0]^=1<<Q;if($Y>>>31^y)P[Q/32|0]^=1<<Q;l=l<<1|S,$Y=$Y<<1|y,C=$Y|~(b|l),w=l&b}for(var U=D;U<T;U++)n0[B.charCodeAt(U)]=0}var jY=0,ZY=-1,SY=q*32,qY=Math.min(32,I-SY)+SY;for(var U=SY;U<qY;U++)n0[B.charCodeAt(U)]|=1<<U;var KK=I;for(var Q=0;Q<z;Q++){var m=n0[O.charCodeAt(Q)],S=W[Q/32|0]>>>Q&1,y=P[Q/32|0]>>>Q&1,b=m|jY,i=((m|y)&ZY)+ZY^ZY|m|y,l=jY|~(i|ZY),$Y=ZY&i;if(KK+=l>>>I-1&1,KK-=$Y>>>I-1&1,l>>>31^S)W[Q/32|0]^=1<<Q;if($Y>>>31^y)P[Q/32|0]^=1<<Q;l=l<<1|S,$Y=$Y<<1|y,ZY=$Y|~(b|l),jY=l&b}for(var U=SY;U<qY;U++)n0[B.charCodeAt(U)]=0;return KK},PQ=function(B,O){if(B.length<O.length){var z=O;O=B,B=z}if(O.length===0)return B.length;if(B.length<=32)return hE(B,O);return dE(B,O)};lE.distance=PQ;var cE=function(B,O){var z=1/0,I=0;for(var P=0;P<O.length;P++){var W=PQ(B,O[P]);if(W<z)z=W,I=P}return O[I]};lE.closest=cE});var NQ=X0((TP,_z)=>{(function(){var B;try{B=typeof Intl!=="undefined"&&typeof Intl.Collator!=="undefined"?Intl.Collator("generic",{sensitivity:"base"}):null}catch(W){console.log("Collator could not be initialized and wouldn't be used")}var O=WQ(),z=[],I=[],P={get:function(W,Z,L){var Q=L&&B&&L.useCollator;if(Q){var q=W.length,w=Z.length;if(q===0)return w;if(w===0)return q;var C,D,T,U,m;for(T=0;T<w;++T)z[T]=T,I[T]=Z.charCodeAt(T);z[w]=w;var S;for(T=0;T<q;++T){D=T+1;for(U=0;U<w;++U){if(C=D,S=B.compare(W.charAt(T),String.fromCharCode(I[U]))===0,D=z[U]+(S?0:1),m=C+1,D>m)D=m;if(m=z[U+1]+1,D>m)D=m;z[U]=C}z[U]=D}return D}return O.distance(W,Z)}};if(typeof define!=="undefined"&&define!==null&&define.amd)define(function(){return P});else if(typeof _z!=="undefined"&&_z!==null&&typeof TP!=="undefined"&&_z.exports===TP)_z.exports=P;else if(typeof self!=="undefined"&&typeof self.postMessage==="function"&&typeof self.importScripts==="function")self.Levenshtein=P;else if(typeof window!=="undefined"&&window!==null)window.Levenshtein=P})()});var e=X0((Hx)=>{var KG=p(bY(),1);(function(){function B(x){if(x==null)return null;if(typeof x==="function")return x.$$typeof===zY?null:x.displayName||x.name||null;if(typeof x==="string")return x;switch(x){case $Y:return"Fragment";case l:return"Portal";case ZY:return"Profiler";case jY:return"StrictMode";case _K:return"Suspense";case qK:return"SuspenseList"}if(typeof x==="object")switch(typeof x.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),x.$$typeof){case qY:return(x.displayName||"Context")+".Provider";case SY:return(x._context.displayName||"Context")+".Consumer";case KK:var _Y=x.render;return x=x.displayName,x||(x=_Y.displayName||_Y.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case O_:return _Y=x.displayName||null,_Y!==null?_Y:B(x.type)||"Memo";case KY:_Y=x._payload,x=x._init;try{return B(x(_Y))}catch(BY){}}return null}function O(x){return""+x}function z(x){try{O(x);var _Y=!1}catch(IK){_Y=!0}if(_Y){_Y=console;var BY=_Y.error,yY=typeof Symbol==="function"&&Symbol.toStringTag&&x[Symbol.toStringTag]||x.constructor.name||"Object";return BY.call(_Y,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",yY),O(x)}}function I(){}function P(){if(zK===0){pK=console.log,l_=console.info,Z_=console.warn,dB=console.error,NB=console.group,u_=console.groupCollapsed,ZB=console.groupEnd;var x={configurable:!0,enumerable:!0,value:I,writable:!0};Object.defineProperties(console,{info:x,log:x,warn:x,error:x,group:x,groupCollapsed:x,groupEnd:x})}zK++}function W(){if(zK--,zK===0){var x={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:iY({},x,{value:pK}),info:iY({},x,{value:l_}),warn:iY({},x,{value:Z_}),error:iY({},x,{value:dB}),group:iY({},x,{value:NB}),groupCollapsed:iY({},x,{value:u_}),groupEnd:iY({},x,{value:ZB})})}0>zK&&console.error("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}function Z(x){if(J_===void 0)try{throw Error()}catch(BY){var _Y=BY.stack.trim().match(/\n( *(at )?)/);J_=_Y&&_Y[1]||"",vY=-1<BY.stack.indexOf(`
    at`)?" (<anonymous>)":-1<BY.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J_+x+vY}function L(x,_Y){if(!x||JB)return"";var BY=Q_.get(x);if(BY!==void 0)return BY;JB=!0,BY=Error.prepareStackTrace,Error.prepareStackTrace=void 0;var yY=null;yY=dY.H,dY.H=null,P();try{var IK={DetermineComponentFrameRoot:function(){try{if(_Y){var L_=function(){throw Error()};if(Object.defineProperty(L_.prototype,"props",{set:function(){throw Error()}}),typeof Reflect==="object"&&Reflect.construct){try{Reflect.construct(L_,[])}catch(hK){var LB=hK}Reflect.construct(x,[],L_)}else{try{L_.call()}catch(hK){LB=hK}x.call(L_.prototype)}}else{try{throw Error()}catch(hK){LB=hK}(L_=x())&&typeof L_.catch==="function"&&L_.catch(function(){})}}catch(hK){if(hK&&LB&&typeof hK.stack==="string")return[hK.stack,LB.stack]}return[null,null]}};IK.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var aY=Object.getOwnPropertyDescriptor(IK.DetermineComponentFrameRoot,"name");aY&&aY.configurable&&Object.defineProperty(IK.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=IK.DetermineComponentFrameRoot(),AK=a[0],U_=a[1];if(AK&&U_){var BK=AK.split(`
`),p_=U_.split(`
`);for(a=aY=0;aY<BK.length&&!BK[aY].includes("DetermineComponentFrameRoot");)aY++;for(;a<p_.length&&!p_[a].includes("DetermineComponentFrameRoot");)a++;if(aY===BK.length||a===p_.length)for(aY=BK.length-1,a=p_.length-1;1<=aY&&0<=a&&BK[aY]!==p_[a];)a--;for(;1<=aY&&0<=a;aY--,a--)if(BK[aY]!==p_[a]){if(aY!==1||a!==1)do if(aY--,a--,0>a||BK[aY]!==p_[a]){var QB=`
`+BK[aY].replace(" at new "," at ");return x.displayName&&QB.includes("<anonymous>")&&(QB=QB.replace("<anonymous>",x.displayName)),typeof x==="function"&&Q_.set(x,QB),QB}while(1<=aY&&0<=a);break}}}finally{JB=!1,dY.H=yY,W(),Error.prepareStackTrace=BY}return BK=(BK=x?x.displayName||x.name:"")?Z(BK):"",typeof x==="function"&&Q_.set(x,BK),BK}function Q(x){if(x==null)return"";if(typeof x==="function"){var _Y=x.prototype;return L(x,!(!_Y||!_Y.isReactComponent))}if(typeof x==="string")return Z(x);switch(x){case _K:return Z("Suspense");case qK:return Z("SuspenseList")}if(typeof x==="object")switch(x.$$typeof){case KK:return x=L(x.render,!1),x;case O_:return Q(x.type);case KY:_Y=x._payload,x=x._init;try{return Q(x(_Y))}catch(BY){}}return""}function q(){var x=dY.A;return x===null?null:x.getOwner()}function w(x){if(sY.call(x,"key")){var _Y=Object.getOwnPropertyDescriptor(x,"key").get;if(_Y&&_Y.isReactWarning)return!1}return x.key!==void 0}function C(x,_Y){function BY(){m1||(m1=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",_Y))}BY.isReactWarning=!0,Object.defineProperty(x,"key",{get:BY,configurable:!0})}function D(){var x=B(this.type);return nY[x]||(nY[x]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),x=this.props.ref,x!==void 0?x:null}function T(x,_Y,BY,yY,IK,aY){return BY=aY.ref,x={$$typeof:i,type:x,key:_Y,props:aY,_owner:IK},(BY!==void 0?BY:null)!==null?Object.defineProperty(x,"ref",{enumerable:!1,get:D}):Object.defineProperty(x,"ref",{enumerable:!1,value:null}),x._store={},Object.defineProperty(x._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(x,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.freeze&&(Object.freeze(x.props),Object.freeze(x)),x}function U(x,_Y,BY,yY,IK,aY){if(typeof x==="string"||typeof x==="function"||x===$Y||x===ZY||x===jY||x===_K||x===qK||x===t||typeof x==="object"&&x!==null&&(x.$$typeof===KY||x.$$typeof===O_||x.$$typeof===qY||x.$$typeof===SY||x.$$typeof===KK||x.$$typeof===lY||x.getModuleId!==void 0)){var a=_Y.children;if(a!==void 0)if(yY)if(TY(a)){for(yY=0;yY<a.length;yY++)m(a[yY],x);Object.freeze&&Object.freeze(a)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else m(a,x)}else{if(a="",x===void 0||typeof x==="object"&&x!==null&&Object.keys(x).length===0)a+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.";x===null?yY="null":TY(x)?yY="array":x!==void 0&&x.$$typeof===i?(yY="<"+(B(x.type)||"Unknown")+" />",a=" Did you accidentally export a JSX literal instead of a component?"):yY=typeof x,console.error("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",yY,a)}if(sY.call(_Y,"key")){a=B(x);var AK=Object.keys(_Y).filter(function(BK){return BK!=="key"});yY=0<AK.length?"{key: someKey, "+AK.join(": ..., ")+": ...}":"{key: someKey}",v$[a+yY]||(AK=0<AK.length?"{"+AK.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,yY,a,AK,a),v$[a+yY]=!0)}if(a=null,BY!==void 0&&(z(BY),a=""+BY),w(_Y)&&(z(_Y.key),a=""+_Y.key),"key"in _Y){BY={};for(var U_ in _Y)U_!=="key"&&(BY[U_]=_Y[U_])}else BY=_Y;return a&&C(BY,typeof x==="function"?x.displayName||x.name||"Unknown":x),T(x,a,aY,IK,q(),BY)}function m(x,_Y){if(typeof x==="object"&&x&&x.$$typeof!==Q0){if(TY(x))for(var BY=0;BY<x.length;BY++){var yY=x[BY];S(yY)&&y(yY,_Y)}else if(S(x))x._store&&(x._store.validated=1);else if(x===null||typeof x!=="object"?BY=null:(BY=RY&&x[RY]||x["@@iterator"],BY=typeof BY==="function"?BY:null),typeof BY==="function"&&BY!==x.entries&&(BY=BY.call(x),BY!==x))for(;!(x=BY.next()).done;)S(x.value)&&y(x.value,_Y)}}function S(x){return typeof x==="object"&&x!==null&&x.$$typeof===i}function y(x,_Y){if(x._store&&!x._store.validated&&x.key==null&&(x._store.validated=1,_Y=b(_Y),!r0[_Y])){r0[_Y]=!0;var BY="";x&&x._owner!=null&&x._owner!==q()&&(BY=null,typeof x._owner.tag==="number"?BY=B(x._owner.type):typeof x._owner.name==="string"&&(BY=x._owner.name),BY=" It was passed a child from "+BY+".");var yY=dY.getCurrentStack;dY.getCurrentStack=function(){var IK=Q(x.type);return yY&&(IK+=yY()||""),IK},console.error('Each child in a list should have a unique "key" prop.%s%s See https://react.dev/link/warning-keys for more information.',_Y,BY),dY.getCurrentStack=yY}}function b(x){var _Y="",BY=q();return BY&&(BY=B(BY.type))&&(_Y=`

Check the render method of \``+BY+"`."),_Y||(x=B(x))&&(_Y=`

Check the top-level render call using <`+x+">."),_Y}var i=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),$Y=Symbol.for("react.fragment"),jY=Symbol.for("react.strict_mode"),ZY=Symbol.for("react.profiler");Symbol.for("react.provider");var SY=Symbol.for("react.consumer"),qY=Symbol.for("react.context"),KK=Symbol.for("react.forward_ref"),_K=Symbol.for("react.suspense"),qK=Symbol.for("react.suspense_list"),O_=Symbol.for("react.memo"),KY=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),RY=Symbol.iterator,zY=Symbol.for("react.client.reference"),dY=KG.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sY=Object.prototype.hasOwnProperty,iY=Object.assign,lY=Symbol.for("react.client.reference"),TY=Array.isArray,zK=0,pK,l_,Z_,dB,NB,u_,ZB;I.__reactDisabledLog=!0;var J_,vY,JB=!1,Q_=new(typeof WeakMap==="function"?WeakMap:Map),Q0=Symbol.for("react.client.reference"),m1,nY={},v$={},r0={};Hx.Fragment=$Y,Hx.jsxDEV=function(x,_Y,BY,yY,IK,aY){return U(x,_Y,BY,yY,IK,aY)}})()});var TI="./logo-tsnr81fk.png";var yI="./big_star_and_smaller_star_icon-3e20r8j1.png";var jI="./search_icon-d2d7x7b5.png";var d0="./placeholder-bg1jeqyh.jpg";var hY=p(bY(),1),XG=p(z9(),1);var xK=p(bY(),1),I0=p(bY(),1),GY=p(bY(),1),WY=p(bY(),1),pY=p(bY(),1),tI=p(bY(),1);var GA=p(bY(),1),WA=p(bY(),1),b9=p(bY(),1),NA=p(bY(),1),t9=p(bY(),1),YP=p(bY(),1),e9=p(bY(),1),YJ=p(W9(),1);var N9="popstate";function q9(B={}){function O(I,P){let{pathname:W,search:Z,hash:L}=I.location;return mI("",{pathname:W,search:Z,hash:L},P.state&&P.state.usr||null,P.state&&P.state.key||"default")}function z(I,P){return typeof P==="string"?P:pH(P)}return Nw(O,z,null,B)}function ZK(B,O){if(B===!1||B===null||typeof B==="undefined")throw new Error(O)}function SB(B,O){if(!B){if(typeof console!=="undefined")console.warn(O);try{throw new Error(O)}catch(z){}}}function Ww(){return Math.random().toString(36).substring(2,10)}function Z9(B,O){return{usr:B.state,key:B.key,idx:O}}function mI(B,O,z=null,I){return{pathname:typeof B==="string"?B:B.pathname,search:"",hash:"",...typeof O==="string"?M1(O):O,state:z,key:O&&O.key||I||Ww()}}function pH({pathname:B="/",search:O="",hash:z=""}){if(O&&O!=="?")B+=O.charAt(0)==="?"?O:"?"+O;if(z&&z!=="#")B+=z.charAt(0)==="#"?z:"#"+z;return B}function M1(B){let O={};if(B){let z=B.indexOf("#");if(z>=0)O.hash=B.substring(z),B=B.substring(0,z);let I=B.indexOf("?");if(I>=0)O.search=B.substring(I),B=B.substring(0,I);if(B)O.pathname=B}return O}function Nw(B,O,z,I={}){let{window:P=document.defaultView,v5Compat:W=!1}=I,Z=P.history,L="POP",Q=null,q=w();if(q==null)q=0,Z.replaceState({...Z.state,idx:q},"");function w(){return(Z.state||{idx:null}).idx}function C(){L="POP";let S=w(),y=S==null?null:S-q;if(q=S,Q)Q({action:L,location:m.location,delta:y})}function D(S,y){L="PUSH";let b=mI(m.location,S,y);if(z)z(b,S);q=w()+1;let i=Z9(b,q),l=m.createHref(b);try{Z.pushState(i,"",l)}catch($Y){if($Y instanceof DOMException&&$Y.name==="DataCloneError")throw $Y;P.location.assign(l)}if(W&&Q)Q({action:L,location:m.location,delta:1})}function T(S,y){L="REPLACE";let b=mI(m.location,S,y);if(z)z(b,S);q=w();let i=Z9(b,q),l=m.createHref(b);if(Z.replaceState(i,"",l),W&&Q)Q({action:L,location:m.location,delta:0})}function U(S){let y=P.location.origin!=="null"?P.location.origin:P.location.href,b=typeof S==="string"?S:pH(S);return b=b.replace(/ $/,"%20"),ZK(y,`No window.location.(origin|href) available to create URL for href: ${b}`),new URL(b,y)}let m={get action(){return L},get location(){return B(P,Z)},listen(S){if(Q)throw new Error("A history only accepts one active listener");return P.addEventListener(N9,C),Q=S,()=>{P.removeEventListener(N9,C),Q=null}},createHref(S){return O(P,S)},createURL:U,encodeLocation(S){let y=U(S);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:D,replace:T,go(S){return Z.go(S)}};return m}var Zw;Zw=new WeakMap;function lI(B,O,z="/"){return Jw(B,O,z,!1)}function Jw(B,O,z,I){let P=typeof O==="string"?M1(O):O,W=z0(P.pathname||"/",z);if(W==null)return null;let Z=R9(B);Lw(Z);let L=null;for(let Q=0;L==null&&Q<Z.length;++Q){let q=Mw(W);L=Fw(Z[Q],q,I)}return L}function Qw(B,O){let{route:z,pathname:I,params:P}=B;return{id:z.id,pathname:I,params:P,data:O[z.id],handle:z.handle}}function R9(B,O=[],z=[],I=""){let P=(W,Z,L)=>{let Q={relativePath:L===void 0?W.path||"":L,caseSensitive:W.caseSensitive===!0,childrenIndex:Z,route:W};if(Q.relativePath.startsWith("/"))ZK(Q.relativePath.startsWith(I),`Absolute route path "${Q.relativePath}" nested under path "${I}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Q.relativePath=Q.relativePath.slice(I.length);let q=c0([I,Q.relativePath]),w=z.concat(Q);if(W.children&&W.children.length>0)ZK(W.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${q}".`),R9(W.children,O,w,q);if(W.path==null&&!W.index)return;O.push({path:q,score:Vw(q,W.index),routesMeta:w})};return B.forEach((W,Z)=>{if(W.path===""||!W.path?.includes("?"))P(W,Z);else for(let L of C9(W.path))P(W,Z,L)}),O}function C9(B){let O=B.split("/");if(O.length===0)return[];let[z,...I]=O,P=z.endsWith("?"),W=z.replace(/\?$/,"");if(I.length===0)return P?[W,""]:[W];let Z=C9(I.join("/")),L=[];if(L.push(...Z.map((Q)=>Q===""?W:[W,Q].join("/"))),P)L.push(...Z);return L.map((Q)=>B.startsWith("/")&&Q===""?"/":Q)}function Lw(B){B.sort((O,z)=>O.score!==z.score?z.score-O.score:xw(O.routesMeta.map((I)=>I.childrenIndex),z.routesMeta.map((I)=>I.childrenIndex)))}var qw=/^:[\w-]+$/,Rw=3,Cw=2,ww=1,Aw=10,Ew=-2,J9=(B)=>B==="*";function Vw(B,O){let z=B.split("/"),I=z.length;if(z.some(J9))I+=Ew;if(O)I+=Cw;return z.filter((P)=>!J9(P)).reduce((P,W)=>P+(qw.test(W)?Rw:W===""?ww:Aw),I)}function xw(B,O){return B.length===O.length&&B.slice(0,-1).every((I,P)=>I===O[P])?B[B.length-1]-O[O.length-1]:0}function Fw(B,O,z=!1){let{routesMeta:I}=B,P={},W="/",Z=[];for(let L=0;L<I.length;++L){let Q=I[L],q=L===I.length-1,w=W==="/"?O:O.slice(W.length)||"/",C=vX({path:Q.relativePath,caseSensitive:Q.caseSensitive,end:q},w),D=Q.route;if(!C&&q&&z&&!I[I.length-1].route.index)C=vX({path:Q.relativePath,caseSensitive:Q.caseSensitive,end:!1},w);if(!C)return null;if(Object.assign(P,C.params),Z.push({params:P,pathname:c0([W,C.pathname]),pathnameBase:Tw(c0([W,C.pathnameBase])),route:D}),C.pathnameBase!=="/")W=c0([W,C.pathnameBase])}return Z}function vX(B,O){if(typeof B==="string")B={path:B,caseSensitive:!1,end:!0};let[z,I]=Dw(B.path,B.caseSensitive,B.end),P=O.match(z);if(!P)return null;let W=P[0],Z=W.replace(/(.)\/+$/,"$1"),L=P.slice(1);return{params:I.reduce((q,{paramName:w,isOptional:C},D)=>{if(w==="*"){let U=L[D]||"";Z=W.slice(0,W.length-U.length).replace(/(.)\/+$/,"$1")}let T=L[D];if(C&&!T)q[w]=void 0;else q[w]=(T||"").replace(/%2F/g,"/");return q},{}),pathname:W,pathnameBase:Z,pattern:B}}function Dw(B,O=!1,z=!0){SB(B==="*"||!B.endsWith("*")||B.endsWith("/*"),`Route path "${B}" will be treated as if it were "${B.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${B.replace(/\*$/,"/*")}".`);let I=[],P="^"+B.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Z,L,Q)=>{return I.push({paramName:L,isOptional:Q!=null}),Q?"/?([^\\/]+)?":"/([^\\/]+)"});if(B.endsWith("*"))I.push({paramName:"*"}),P+=B==="*"||B==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$";else if(z)P+="\\/*$";else if(B!==""&&B!=="/")P+="(?:(?=\\/|$))";return[new RegExp(P,O?void 0:"i"),I]}function Mw(B){try{return B.split("/").map((O)=>decodeURIComponent(O).replace(/\//g,"%2F")).join("/")}catch(O){return SB(!1,`The URL path "${B}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${O}).`),B}}function z0(B,O){if(O==="/")return B;if(!B.toLowerCase().startsWith(O.toLowerCase()))return null;let z=O.endsWith("/")?O.length-1:O.length,I=B.charAt(z);if(I&&I!=="/")return null;return B.slice(z)||"/"}function w9(B,O="/"){let{pathname:z,search:I="",hash:P=""}=typeof B==="string"?M1(B):B;return{pathname:z?z.startsWith("/")?z:Uw(z,O):O,search:yw(I),hash:jw(P)}}function Uw(B,O){let z=O.replace(/\/+$/,"").split("/");return B.split("/").forEach((P)=>{if(P===".."){if(z.length>1)z.pop()}else if(P!==".")z.push(P)}),z.length>1?z.join("/"):"/"}function vI(B,O,z,I){return`Cannot include a '${B}' character in a manually specified \`to.${O}\` field [${JSON.stringify(I)}].  Please separate it out to the \`to.${z}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sw(B){return B.filter((O,z)=>z===0||O.route.path&&O.route.path.length>0)}function A9(B){let O=Sw(B);return O.map((z,I)=>I===O.length-1?z.pathname:z.pathnameBase)}function E9(B,O,z,I=!1){let P;if(typeof B==="string")P=M1(B);else P={...B},ZK(!P.pathname||!P.pathname.includes("?"),vI("?","pathname","search",P)),ZK(!P.pathname||!P.pathname.includes("#"),vI("#","pathname","hash",P)),ZK(!P.search||!P.search.includes("#"),vI("#","search","hash",P));let W=B===""||P.pathname==="",Z=W?"/":P.pathname,L;if(Z==null)L=z;else{let C=O.length-1;if(!I&&Z.startsWith("..")){let D=Z.split("/");while(D[0]==="..")D.shift(),C-=1;P.pathname=D.join("/")}L=C>=0?O[C]:"/"}let Q=w9(P,L),q=Z&&Z!=="/"&&Z.endsWith("/"),w=(W||Z===".")&&z.endsWith("/");if(!Q.pathname.endsWith("/")&&(q||w))Q.pathname+="/";return Q}var c0=(B)=>B.join("/").replace(/\/\/+/g,"/"),Tw=(B)=>B.replace(/\/+$/,"").replace(/^\/*/,"/"),yw=(B)=>!B||B==="?"?"":B.startsWith("?")?B:"?"+B,jw=(B)=>!B||B==="#"?"":B.startsWith("#")?B:"#"+B;function V9(B){return B!=null&&typeof B.status==="number"&&typeof B.statusText==="string"&&typeof B.internal==="boolean"&&"data"in B}var x9=["POST","PUT","PATCH","DELETE"],lF=new Set(x9),kw=["GET",...x9],uF=new Set(kw);var pF=Symbol("ResetLoaderData");var U1=I0.createContext(null);U1.displayName="DataRouter";var iH=I0.createContext(null);iH.displayName="DataRouterState";var uI=I0.createContext({isTransitioning:!1});uI.displayName="ViewTransition";var F9=I0.createContext(new Map);F9.displayName="Fetchers";var gw=I0.createContext(null);gw.displayName="Await";var m_=I0.createContext(null);m_.displayName="Navigation";var nH=I0.createContext(null);nH.displayName="Location";var P0=I0.createContext({outlet:null,matches:[],isDataRoute:!1});P0.displayName="Route";var pI=I0.createContext(null);pI.displayName="RouteError";var hI=!0;function D9(B,{relative:O}={}){ZK(oH(),"useHref() may be used only in the context of a <Router> component.");let{basename:z,navigator:I}=GY.useContext(m_),{hash:P,pathname:W,search:Z}=sH(B,{relative:O}),L=W;if(z!=="/")L=W==="/"?z:c0([z,W]);return I.createHref({pathname:L,search:Z,hash:P})}function oH(){return GY.useContext(nH)!=null}function G0(){return ZK(oH(),"useLocation() may be used only in the context of a <Router> component."),GY.useContext(nH).location}var M9="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U9(B){if(!GY.useContext(m_).static)GY.useLayoutEffect(B)}function S9(){let{isDataRoute:B}=GY.useContext(P0);return B?pw():bw()}function bw(){ZK(oH(),"useNavigate() may be used only in the context of a <Router> component.");let B=GY.useContext(U1),{basename:O,navigator:z}=GY.useContext(m_),{matches:I}=GY.useContext(P0),{pathname:P}=G0(),W=JSON.stringify(A9(I)),Z=GY.useRef(!1);return U9(()=>{Z.current=!0}),GY.useCallback((Q,q={})=>{if(SB(Z.current,M9),!Z.current)return;if(typeof Q==="number"){z.go(Q);return}let w=E9(Q,JSON.parse(W),P,q.relative==="path");if(B==null&&O!=="/")w.pathname=w.pathname==="/"?O:c0([O,w.pathname]);(q.replace?z.replace:z.push)(w,q.state,q)},[O,z,W,P,B])}var iF=GY.createContext(null);function sH(B,{relative:O}={}){let{matches:z}=GY.useContext(P0),{pathname:I}=G0(),P=JSON.stringify(A9(z));return GY.useMemo(()=>E9(B,JSON.parse(P),I,O==="path"),[B,P,I,O])}function T9(B,O){return y9(B,O)}function y9(B,O,z,I){ZK(oH(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:P,static:W}=GY.useContext(m_),{matches:Z}=GY.useContext(P0),L=Z[Z.length-1],Q=L?L.params:{},q=L?L.pathname:"/",w=L?L.pathnameBase:"/",C=L&&L.route;if(hI){let b=C&&C.path||"";g9(q,!C||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${q}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let D=G0(),T;if(O){let b=typeof O==="string"?M1(O):O;ZK(w==="/"||b.pathname?.startsWith(w),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${w}" but pathname "${b.pathname}" was given in the \`location\` prop.`),T=b}else T=D;let U=T.pathname||"/",m=U;if(w!=="/"){let b=w.replace(/^\//,"").split("/");m="/"+U.replace(/^\//,"").split("/").slice(b.length).join("/")}let S=!W&&z&&z.matches&&z.matches.length>0?z.matches:lI(B,{pathname:m});if(hI)SB(C||S!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),SB(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=dw(S&&S.map((b)=>Object.assign({},b,{params:Object.assign({},Q,b.params),pathname:c0([w,P.encodeLocation?P.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?w:c0([w,P.encodeLocation?P.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),Z,z,I);if(O&&y)return GY.createElement(nH.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},y);return y}function vw(){let B=k9(),O=V9(B)?`${B.status} ${B.statusText}`:B instanceof Error?B.message:JSON.stringify(B),z=B instanceof Error?B.stack:null,I="rgba(200,200,200, 0.5)",P={padding:"0.5rem",backgroundColor:I},W={padding:"2px 4px",backgroundColor:I},Z=null;if(hI)console.error("Error handled by React Router default ErrorBoundary:",B),Z=GY.createElement(GY.Fragment,null,GY.createElement("p",null,"\uD83D\uDCBF Hey developer \uD83D\uDC4B"),GY.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",GY.createElement("code",{style:W},"ErrorBoundary")," or"," ",GY.createElement("code",{style:W},"errorElement")," prop on your route."));return GY.createElement(GY.Fragment,null,GY.createElement("h2",null,"Unexpected Application Error!"),GY.createElement("h3",{style:{fontStyle:"italic"}},O),z?GY.createElement("pre",{style:P},z):null,Z)}var fw=GY.createElement(vw,null),mw=class extends GY.Component{constructor(B){super(B);this.state={location:B.location,revalidation:B.revalidation,error:B.error}}static getDerivedStateFromError(B){return{error:B}}static getDerivedStateFromProps(B,O){if(O.location!==B.location||O.revalidation!=="idle"&&B.revalidation==="idle")return{error:B.error,location:B.location,revalidation:B.revalidation};return{error:B.error!==void 0?B.error:O.error,location:O.location,revalidation:B.revalidation||O.revalidation}}componentDidCatch(B,O){console.error("React Router caught the following error during render",B,O)}render(){return this.state.error!==void 0?GY.createElement(P0.Provider,{value:this.props.routeContext},GY.createElement(pI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hw({routeContext:B,match:O,children:z}){let I=GY.useContext(U1);if(I&&I.static&&I.staticContext&&(O.route.errorElement||O.route.ErrorBoundary))I.staticContext._deepestRenderedBoundaryId=O.route.id;return GY.createElement(P0.Provider,{value:B},z)}function dw(B,O=[],z=null,I=null){if(B==null){if(!z)return null;if(z.errors)B=z.matches;else if(O.length===0&&!z.initialized&&z.matches.length>0)B=z.matches;else return null}let P=B,W=z?.errors;if(W!=null){let Q=P.findIndex((q)=>q.route.id&&W?.[q.route.id]!==void 0);ZK(Q>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(W).join(",")}`),P=P.slice(0,Math.min(P.length,Q+1))}let Z=!1,L=-1;if(z)for(let Q=0;Q<P.length;Q++){let q=P[Q];if(q.route.HydrateFallback||q.route.hydrateFallbackElement)L=Q;if(q.route.id){let{loaderData:w,errors:C}=z,D=q.route.loader&&!w.hasOwnProperty(q.route.id)&&(!C||C[q.route.id]===void 0);if(q.route.lazy||D){if(Z=!0,L>=0)P=P.slice(0,L+1);else P=[P[0]];break}}}return P.reduceRight((Q,q,w)=>{let C,D=!1,T=null,U=null;if(z){if(C=W&&q.route.id?W[q.route.id]:void 0,T=q.route.errorElement||fw,Z){if(L<0&&w===0)g9("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,U=null;else if(L===w)D=!0,U=q.route.hydrateFallbackElement||null}}let m=O.concat(P.slice(0,w+1)),S=()=>{let y;if(C)y=T;else if(D)y=U;else if(q.route.Component)y=GY.createElement(q.route.Component,null);else if(q.route.element)y=q.route.element;else y=Q;return GY.createElement(hw,{match:q,routeContext:{outlet:Q,matches:m,isDataRoute:z!=null},children:y})};return z&&(q.route.ErrorBoundary||q.route.errorElement||w===0)?GY.createElement(mw,{location:z.location,revalidation:z.revalidation,component:T,error:C,children:S(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):S()},null)}function iI(B){return`${B} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cw(B){let O=GY.useContext(U1);return ZK(O,iI(B)),O}function nI(B){let O=GY.useContext(iH);return ZK(O,iI(B)),O}function lw(B){let O=GY.useContext(P0);return ZK(O,iI(B)),O}function oI(B){let O=lw(B),z=O.matches[O.matches.length-1];return ZK(z.route.id,`${B} can only be used on routes that contain a unique "id"`),z.route.id}function uw(){return oI("useRouteId")}function j9(){return nI("useNavigation").navigation}function sI(){let{matches:B,loaderData:O}=nI("useMatches");return GY.useMemo(()=>B.map((z)=>Qw(z,O)),[B,O])}function k9(){let B=GY.useContext(pI),O=nI("useRouteError"),z=oI("useRouteError");if(B!==void 0)return B;return O.errors?.[z]}function pw(){let{router:B}=cw("useNavigate"),O=oI("useNavigate"),z=GY.useRef(!1);return U9(()=>{z.current=!0}),GY.useCallback(async(P,W={})=>{if(SB(z.current,M9),!z.current)return;if(typeof P==="number")B.navigate(P);else await B.navigate(P,{fromRouteId:O,...W})},[B,O])}var Q9={};function g9(B,O,z){if(!O&&!Q9[B])Q9[B]=!0,SB(!1,z)}var nF=xK.memo(iw);function iw({routes:B,future:O,state:z}){return y9(B,void 0,z,O)}function aH(B){ZK(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aI({basename:B="/",children:O=null,location:z,navigationType:I="POP",navigator:P,static:W=!1}){ZK(!oH(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let Z=B.replace(/^\/*/,"/"),L=xK.useMemo(()=>({basename:Z,navigator:P,static:W,future:{}}),[Z,P,W]);if(typeof z==="string")z=M1(z);let{pathname:Q="/",search:q="",hash:w="",state:C=null,key:D="default"}=z,T=xK.useMemo(()=>{let U=z0(Q,Z);if(U==null)return null;return{location:{pathname:U,search:q,hash:w,state:C,key:D},navigationType:I}},[Z,Q,q,w,C,D,I]);if(SB(T!=null,`<Router basename="${Z}"> is not able to match the URL "${Q}${q}${w}" because it does not start with the basename, so the <Router> won't render anything.`),T==null)return null;return xK.createElement(m_.Provider,{value:L},xK.createElement(nH.Provider,{children:O,value:T}))}function V2({children:B,location:O}){return T9(E2(B),O)}function E2(B,O=[]){let z=[];return xK.Children.forEach(B,(I,P)=>{if(!xK.isValidElement(I))return;let W=[...O,P];if(I.type===xK.Fragment){z.push.apply(z,E2(I.props.children,W));return}ZK(I.type===aH,`[${typeof I.type==="string"?I.type:I.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ZK(!I.props.index||!I.props.children,"An index route cannot have child routes.");let Z={id:I.props.id||W.join("-"),caseSensitive:I.props.caseSensitive,element:I.props.element,Component:I.props.Component,index:I.props.index,path:I.props.path,loader:I.props.loader,action:I.props.action,hydrateFallbackElement:I.props.hydrateFallbackElement,HydrateFallback:I.props.HydrateFallback,errorElement:I.props.errorElement,ErrorBoundary:I.props.ErrorBoundary,hasErrorBoundary:I.props.hasErrorBoundary===!0||I.props.ErrorBoundary!=null||I.props.errorElement!=null,shouldRevalidate:I.props.shouldRevalidate,handle:I.props.handle,lazy:I.props.lazy};if(I.props.children)Z.children=E2(I.props.children,W);z.push(Z)}),z}var w2="get",A2="application/x-www-form-urlencoded";function x2(B){return B!=null&&typeof B.tagName==="string"}function nw(B){return x2(B)&&B.tagName.toLowerCase()==="button"}function ow(B){return x2(B)&&B.tagName.toLowerCase()==="form"}function sw(B){return x2(B)&&B.tagName.toLowerCase()==="input"}function aw(B){return!!(B.metaKey||B.altKey||B.ctrlKey||B.shiftKey)}function rw(B,O){return B.button===0&&(!O||O==="_self")&&!aw(B)}var R2=null;function tw(){if(R2===null)try{new FormData(document.createElement("form"),0),R2=!1}catch(B){R2=!0}return R2}var ew=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fI(B){if(B!=null&&!ew.has(B))return SB(!1,`"${B}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${A2}"`),null;return B}function YA(B,O){let z,I,P,W,Z;if(ow(B)){let L=B.getAttribute("action");I=L?z0(L,O):null,z=B.getAttribute("method")||w2,P=fI(B.getAttribute("enctype"))||A2,W=new FormData(B)}else if(nw(B)||sw(B)&&(B.type==="submit"||B.type==="image")){let L=B.form;if(L==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Q=B.getAttribute("formaction")||L.getAttribute("action");if(I=Q?z0(Q,O):null,z=B.getAttribute("formmethod")||L.getAttribute("method")||w2,P=fI(B.getAttribute("formenctype"))||fI(L.getAttribute("enctype"))||A2,W=new FormData(L,B),!tw()){let{name:q,type:w,value:C}=B;if(w==="image"){let D=q?`${q}.`:"";W.append(`${D}x`,"0"),W.append(`${D}y`,"0")}else if(q)W.append(q,C)}}else if(x2(B))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else z=w2,I=null,P=A2,Z=B;if(W&&P==="text/plain")Z=W,W=void 0;return{action:I,method:z.toLowerCase(),encType:P,formData:W,body:Z}}function rI(B,O){if(B===!1||B===null||typeof B==="undefined")throw new Error(O)}async function KA(B,O){if(B.id in O)return O[B.id];try{let z=await import(B.module);return O[B.id]=z,z}catch(z){if(console.error(`Error loading route module \`${B.module}\`, reloading page...`),console.error(z),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode&&import.meta.hot)throw z;return window.location.reload(),new Promise(()=>{})}}function _A(B){return B!=null&&typeof B.page==="string"}function BA(B){if(B==null)return!1;if(B.href==null)return B.rel==="preload"&&typeof B.imageSrcSet==="string"&&typeof B.imageSizes==="string";return typeof B.rel==="string"&&typeof B.href==="string"}async function $A(B,O,z){let I=await Promise.all(B.map(async(P)=>{let W=O.routes[P.route.id];if(W){let Z=await KA(W,z);return Z.links?Z.links():[]}return[]}));return zA(I.flat(1).filter(BA).filter((P)=>P.rel==="stylesheet"||P.rel==="preload").map((P)=>P.rel==="stylesheet"?{...P,rel:"prefetch",as:"style"}:{...P,rel:"prefetch"}))}function L9(B,O,z,I,P,W){let Z=(Q,q)=>{if(!z[q])return!0;return Q.route.id!==z[q].route.id},L=(Q,q)=>{return z[q].pathname!==Q.pathname||z[q].route.path?.endsWith("*")&&z[q].params["*"]!==Q.params["*"]};if(W==="assets")return O.filter((Q,q)=>Z(Q,q)||L(Q,q));if(W==="data")return O.filter((Q,q)=>{let w=I.routes[Q.route.id];if(!w||!w.hasLoader)return!1;if(Z(Q,q)||L(Q,q))return!0;if(Q.route.shouldRevalidate){let C=Q.route.shouldRevalidate({currentUrl:new URL(P.pathname+P.search+P.hash,window.origin),currentParams:z[0]?.params||{},nextUrl:new URL(B,window.origin),nextParams:Q.params,defaultShouldRevalidate:!0});if(typeof C==="boolean")return C}return!0});return[]}function HA(B,O,{includeHydrateFallback:z}={}){return OA(B.map((I)=>{let P=O.routes[I.route.id];if(!P)return[];let W=[P.module];if(P.clientActionModule)W=W.concat(P.clientActionModule);if(P.clientLoaderModule)W=W.concat(P.clientLoaderModule);if(z&&P.hydrateFallbackModule)W=W.concat(P.hydrateFallbackModule);if(P.imports)W=W.concat(P.imports);return W}).flat(1))}function OA(B){return[...new Set(B)]}function XA(B){let O={},z=Object.keys(B).sort();for(let I of z)O[I]=B[I];return O}function zA(B,O){let z=new Set,I=new Set(O);return B.reduce((P,W)=>{if(O&&!_A(W)&&W.as==="script"&&W.href&&I.has(W.href))return P;let L=JSON.stringify(XA(W));if(!z.has(L))z.add(L),P.push({key:L,link:W});return P},[])}var IA=Symbol("SingleFetchRedirect");function PA(B,O){let z=typeof B==="string"?new URL(B,typeof window==="undefined"?"server://singlefetch/":window.location.origin):B;if(z.pathname==="/")z.pathname="_root.data";else if(O&&z0(z.pathname,O)==="/")z.pathname=`${O.replace(/\/$/,"")}/_root.data`;else z.pathname=`${z.pathname.replace(/\/$/,"")}.data`;return z}function v9(){let B=pY.useContext(U1);return rI(B,"You must render this element inside a <DataRouterContext.Provider> element"),B}function ZA(){let B=pY.useContext(iH);return rI(B,"You must render this element inside a <DataRouterStateContext.Provider> element"),B}var fX=pY.createContext(void 0);fX.displayName="FrameworkContext";function f9(){let B=pY.useContext(fX);return rI(B,"You must render this element inside a <HydratedRouter> element"),B}function JA(B,O){let z=pY.useContext(fX),[I,P]=pY.useState(!1),[W,Z]=pY.useState(!1),{onFocus:L,onBlur:Q,onMouseEnter:q,onMouseLeave:w,onTouchStart:C}=O,D=pY.useRef(null);pY.useEffect(()=>{if(B==="render")Z(!0);if(B==="viewport"){let S=new IntersectionObserver((y)=>{y.forEach((b)=>{Z(b.isIntersecting)})},{threshold:0.5});if(D.current)S.observe(D.current);return()=>{S.disconnect()}}},[B]),pY.useEffect(()=>{if(I){let m=setTimeout(()=>{Z(!0)},100);return()=>{clearTimeout(m)}}},[I]);let T=()=>{P(!0)},U=()=>{P(!1),Z(!1)};if(!z)return[!1,D,{}];if(B!=="intent")return[W,D,{}];return[W,D,{onFocus:bX(L,T),onBlur:bX(Q,U),onMouseEnter:bX(q,T),onMouseLeave:bX(w,U),onTouchStart:bX(C,T)}]}function bX(B,O){return(z)=>{if(B&&B(z),!z.defaultPrevented)O(z)}}function m9({page:B,...O}){let{router:z}=v9(),I=pY.useMemo(()=>lI(z.routes,B,z.basename),[z.routes,B,z.basename]);if(!I)return null;return pY.createElement(LA,{page:B,matches:I,...O})}function QA(B){let{manifest:O,routeModules:z}=f9(),[I,P]=pY.useState([]);return pY.useEffect(()=>{let W=!1;return $A(B,O,z).then((Z)=>{if(!W)P(Z)}),()=>{W=!0}},[B,O,z]),I}function LA({page:B,matches:O,...z}){let I=G0(),{manifest:P,routeModules:W}=f9(),{basename:Z}=v9(),{loaderData:L,matches:Q}=ZA(),q=pY.useMemo(()=>L9(B,O,Q,P,I,"data"),[B,O,Q,P,I]),w=pY.useMemo(()=>L9(B,O,Q,P,I,"assets"),[B,O,Q,P,I]),C=pY.useMemo(()=>{if(B===I.pathname+I.search+I.hash)return[];let U=new Set,m=!1;if(O.forEach((y)=>{let b=P.routes[y.route.id];if(!b||!b.hasLoader)return;if(!q.some((i)=>i.route.id===y.route.id)&&y.route.id in L&&W[y.route.id]?.shouldRevalidate)m=!0;else if(b.hasClientLoader)m=!0;else U.add(y.route.id)}),U.size===0)return[];let S=PA(B,Z);if(m&&U.size>0)S.searchParams.set("_routes",O.filter((y)=>U.has(y.route.id)).map((y)=>y.route.id).join(","));return[S.pathname+S.search]},[Z,L,I,P,q,O,B,W]),D=pY.useMemo(()=>HA(w,P),[w,P]),T=QA(w);return pY.createElement(pY.Fragment,null,C.map((U)=>pY.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...z})),D.map((U)=>pY.createElement("link",{key:U,rel:"modulepreload",href:U,...z})),T.map(({key:U,link:m})=>pY.createElement("link",{key:U,...m})))}function qA(...B){return(O)=>{B.forEach((z)=>{if(typeof z==="function")z(O);else if(z!=null)z.current=O})}}var h9=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined";try{if(h9)window.__reactRouterVersion="7.3.0"}catch(B){}function F2({basename:B,children:O,window:z}){let I=WY.useRef();if(I.current==null)I.current=q9({window:z,v5Compat:!0});let P=I.current,[W,Z]=WY.useState({action:P.action,location:P.location}),L=WY.useCallback((Q)=>{WY.startTransition(()=>Z(Q))},[Z]);return WY.useLayoutEffect(()=>P.listen(L),[P,L]),WY.createElement(aI,{basename:B,children:O,location:W.location,navigationType:W.action,navigator:P})}function d9({basename:B,children:O,history:z}){let[I,P]=WY.useState({action:z.action,location:z.location}),W=WY.useCallback((Z)=>{WY.startTransition(()=>P(Z))},[P]);return WY.useLayoutEffect(()=>z.listen(W),[z,W]),WY.createElement(aI,{basename:B,children:O,location:I.location,navigationType:I.action,navigator:z})}d9.displayName="unstable_HistoryRouter";var c9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F_=WY.forwardRef(function B({onClick:O,discover:z="render",prefetch:I="none",relative:P,reloadDocument:W,replace:Z,state:L,target:Q,to:q,preventScrollReset:w,viewTransition:C,...D},T){let{basename:U}=WY.useContext(m_),m=typeof q==="string"&&c9.test(q),S,y=!1;if(typeof q==="string"&&m){if(S=q,h9)try{let qY=new URL(window.location.href),KK=q.startsWith("//")?new URL(qY.protocol+q):new URL(q),_K=z0(KK.pathname,U);if(KK.origin===qY.origin&&_K!=null)q=_K+KK.search+KK.hash;else y=!0}catch(qY){SB(!1,`<Link to="${q}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}}let b=D9(q,{relative:P}),[i,l,$Y]=JA(I,D),jY=n9(q,{replace:Z,state:L,target:Q,preventScrollReset:w,relative:P,viewTransition:C});function ZY(qY){if(O)O(qY);if(!qY.defaultPrevented)jY(qY)}let SY=WY.createElement("a",{...D,...$Y,href:S||b,onClick:y||W?O:ZY,ref:qA(T,l),target:Q,"data-discover":!m&&z==="render"?"true":void 0});return i&&!m?WY.createElement(WY.Fragment,null,SY,WY.createElement(m9,{page:b})):SY});F_.displayName="Link";var l9=WY.forwardRef(function B({"aria-current":O="page",caseSensitive:z=!1,className:I="",end:P=!1,style:W,to:Z,viewTransition:L,children:Q,...q},w){let C=sH(Z,{relative:q.relative}),D=G0(),T=WY.useContext(iH),{navigator:U,basename:m}=WY.useContext(m_),S=T!=null&&r9(C)&&L===!0,y=U.encodeLocation?U.encodeLocation(C).pathname:C.pathname,b=D.pathname,i=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;if(!z)b=b.toLowerCase(),i=i?i.toLowerCase():null,y=y.toLowerCase();if(i&&m)i=z0(i,m)||i;let l=y!=="/"&&y.endsWith("/")?y.length-1:y.length,$Y=b===y||!P&&b.startsWith(y)&&b.charAt(l)==="/",jY=i!=null&&(i===y||!P&&i.startsWith(y)&&i.charAt(y.length)==="/"),ZY={isActive:$Y,isPending:jY,isTransitioning:S},SY=$Y?O:void 0,qY;if(typeof I==="function")qY=I(ZY);else qY=[I,$Y?"active":null,jY?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let KK=typeof W==="function"?W(ZY):W;return WY.createElement(F_,{...q,"aria-current":SY,className:qY,ref:w,style:KK,to:Z,viewTransition:L},typeof Q==="function"?Q(ZY):Q)});l9.displayName="NavLink";var u9=WY.forwardRef(({discover:B="render",fetcherKey:O,navigate:z,reloadDocument:I,replace:P,state:W,method:Z=w2,action:L,onSubmit:Q,relative:q,preventScrollReset:w,viewTransition:C,...D},T)=>{let U=o9(),m=s9(L,{relative:q}),S=Z.toLowerCase()==="get"?"get":"post",y=typeof L==="string"&&c9.test(L);return WY.createElement("form",{ref:T,method:S,action:m,onSubmit:I?Q:(i)=>{if(Q&&Q(i),i.defaultPrevented)return;i.preventDefault();let l=i.nativeEvent.submitter,$Y=l?.getAttribute("formmethod")||Z;U(l||i.currentTarget,{fetcherKey:O,method:$Y,navigate:z,replace:P,state:W,relative:q,preventScrollReset:w,viewTransition:C})},...D,"data-discover":!y&&B==="render"?"true":void 0})});u9.displayName="Form";function p9({getKey:B,storageKey:O,...z}){let I=WY.useContext(fX),{basename:P}=WY.useContext(m_),W=G0(),Z=sI();a9({getKey:B,storageKey:O});let L=WY.useMemo(()=>{if(!I||!B)return null;let q=cI(W,Z,P,B);return q!==W.key?q:null},[]);if(!I||I.isSpaMode)return null;let Q=((q,w)=>{if(!window.history.state||!window.history.state.key){let C=Math.random().toString(32).slice(2);window.history.replaceState({key:C},"")}try{let D=JSON.parse(sessionStorage.getItem(q)||"{}")[w||window.history.state.key];if(typeof D==="number")window.scrollTo(0,D)}catch(C){console.error(C),sessionStorage.removeItem(q)}}).toString();return WY.createElement("script",{...z,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${Q})(${JSON.stringify(O||dI)}, ${JSON.stringify(L)})`}})}p9.displayName="ScrollRestoration";function i9(B){return`${B} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eI(B){let O=WY.useContext(U1);return ZK(O,i9(B)),O}function RA(B){let O=WY.useContext(iH);return ZK(O,i9(B)),O}function n9(B,{target:O,replace:z,state:I,preventScrollReset:P,relative:W,viewTransition:Z}={}){let L=S9(),Q=G0(),q=sH(B,{relative:W});return WY.useCallback((w)=>{if(rw(w,O)){w.preventDefault();let C=z!==void 0?z:pH(Q)===pH(q);L(B,{replace:C,state:I,preventScrollReset:P,relative:W,viewTransition:Z})}},[Q,L,q,z,I,O,B,P,W,Z])}var CA=0,wA=()=>`__${String(++CA)}__`;function o9(){let{router:B}=eI("useSubmit"),{basename:O}=WY.useContext(m_),z=uw();return WY.useCallback(async(I,P={})=>{let{action:W,method:Z,encType:L,formData:Q,body:q}=YA(I,O);if(P.navigate===!1){let w=P.fetcherKey||wA();await B.fetch(w,z,P.action||W,{preventScrollReset:P.preventScrollReset,formData:Q,body:q,formMethod:P.method||Z,formEncType:P.encType||L,flushSync:P.flushSync})}else await B.navigate(P.action||W,{preventScrollReset:P.preventScrollReset,formData:Q,body:q,formMethod:P.method||Z,formEncType:P.encType||L,replace:P.replace,state:P.state,fromRouteId:z,flushSync:P.flushSync,viewTransition:P.viewTransition})},[B,O,z])}function s9(B,{relative:O}={}){let{basename:z}=WY.useContext(m_),I=WY.useContext(P0);ZK(I,"useFormAction must be used inside a RouteContext");let[P]=I.matches.slice(-1),W={...sH(B?B:".",{relative:O})},Z=G0();if(B==null){W.search=Z.search;let L=new URLSearchParams(W.search),Q=L.getAll("index");if(Q.some((w)=>w==="")){L.delete("index"),Q.filter((C)=>C).forEach((C)=>L.append("index",C));let w=L.toString();W.search=w?`?${w}`:""}}if((!B||B===".")&&P.route.index)W.search=W.search?W.search.replace(/^\?/,"?index&"):"?index";if(z!=="/")W.pathname=W.pathname==="/"?z:c0([z,W.pathname]);return pH(W)}var dI="react-router-scroll-positions",C2={};function cI(B,O,z,I){let P=null;if(I)if(z!=="/")P=I({...B,pathname:z0(B.pathname,z)||B.pathname},O);else P=I(B,O);if(P==null)P=B.key;return P}function a9({getKey:B,storageKey:O}={}){let{router:z}=eI("useScrollRestoration"),{restoreScrollPosition:I,preventScrollReset:P}=RA("useScrollRestoration"),{basename:W}=WY.useContext(m_),Z=G0(),L=sI(),Q=j9();if(WY.useEffect(()=>{return window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}},[]),AA(WY.useCallback(()=>{if(Q.state==="idle"){let q=cI(Z,L,W,B);C2[q]=window.scrollY}try{sessionStorage.setItem(O||dI,JSON.stringify(C2))}catch(q){SB(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${q}).`)}window.history.scrollRestoration="auto"},[Q.state,B,W,Z,L,O])),typeof document!=="undefined")WY.useLayoutEffect(()=>{try{let q=sessionStorage.getItem(O||dI);if(q)C2=JSON.parse(q)}catch(q){}},[O]),WY.useLayoutEffect(()=>{let q=z?.enableScrollRestoration(C2,()=>window.scrollY,B?(w,C)=>cI(w,C,W,B):void 0);return()=>q&&q()},[z,W,B]),WY.useLayoutEffect(()=>{if(I===!1)return;if(typeof I==="number"){window.scrollTo(0,I);return}if(Z.hash){let q=document.getElementById(decodeURIComponent(Z.hash.slice(1)));if(q){q.scrollIntoView();return}}if(P===!0)return;window.scrollTo(0,0)},[Z,I,P])}function AA(B,O){let{capture:z}=O||{};WY.useEffect(()=>{let I=z!=null?{capture:z}:void 0;return window.addEventListener("pagehide",B,I),()=>{window.removeEventListener("pagehide",B,I)}},[B,z])}function r9(B,O={}){let z=WY.useContext(uI);ZK(z!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:I}=eI("useViewTransitionState"),P=sH(B,{relative:O.relative});if(!z.isTransitioning)return!1;let W=z0(z.currentLocation.pathname,I)||z.currentLocation.pathname,Z=z0(z.nextLocation.pathname,I)||z.nextLocation.pathname;return vX(P.pathname,Z)!=null||vX(P.pathname,W)!=null}var _P=hX(),NY=(B)=>mX(B,_P),BP=hX();NY.write=(B)=>mX(B,BP);var D2=hX();NY.onStart=(B)=>mX(B,D2);var $P=hX();NY.onFrame=(B)=>mX(B,$P);var HP=hX();NY.onFinish=(B)=>mX(B,HP);var rH=[];NY.setTimeout=(B,O)=>{let z=NY.now()+O,I=()=>{let W=rH.findIndex((Z)=>Z.cancel==I);if(~W)rH.splice(W,1);U$-=~W?1:0},P={time:z,handler:B,cancel:I};return rH.splice(KJ(z),0,P),U$+=1,_J(),P};var KJ=(B)=>~(~rH.findIndex((O)=>O.time>B)||~rH.length);NY.cancel=(B)=>{D2.delete(B),$P.delete(B),HP.delete(B),_P.delete(B),BP.delete(B)};NY.sync=(B)=>{KP=!0,NY.batchedUpdates(B),KP=!1};NY.throttle=(B)=>{let O;function z(){try{B(...O)}finally{O=null}}function I(...P){O=P,NY.onStart(z)}return I.handler=B,I.cancel=()=>{D2.delete(z),O=null},I};var OP=typeof window!="undefined"?window.requestAnimationFrame:()=>{};NY.use=(B)=>OP=B;NY.now=typeof performance!="undefined"?()=>performance.now():Date.now;NY.batchedUpdates=(B)=>B();NY.catch=console.error;NY.frameLoop="always";NY.advance=()=>{if(NY.frameLoop!=="demand")console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand");else $J()};var M$=-1,U$=0,KP=!1;function mX(B,O){if(KP)O.delete(B),B(0);else O.add(B),_J()}function _J(){if(M$<0){if(M$=0,NY.frameLoop!=="demand")OP(BJ)}}function EA(){M$=-1}function BJ(){if(~M$)OP(BJ),NY.batchedUpdates($J)}function $J(){let B=M$;M$=NY.now();let O=KJ(M$);if(O)HJ(rH.splice(0,O),(z)=>z.handler()),U$-=O;if(!U$){EA();return}D2.flush(),_P.flush(B?Math.min(64,M$-B):16.667),$P.flush(),BP.flush(),HP.flush()}function hX(){let B=new Set,O=B;return{add(z){U$+=O==B&&!B.has(z)?1:0,B.add(z)},delete(z){return U$-=O==B&&B.has(z)?1:0,B.delete(z)},flush(z){if(O.size)B=new Set,U$-=O.size,HJ(O,(I)=>I(z)&&B.add(I)),U$+=B.size,O=B}}}function HJ(B,O){B.forEach((z)=>{try{O(z)}catch(I){NY.catch(I)}})}var aA=p(bY(),1),VJ=p(bY(),1),xJ=p(bY(),1),h2=p(bY(),1),YO=p(bY(),1),DJ=p(bY(),1),d2=p(bY(),1),YE=p(bY(),1);var VA=Object.defineProperty,xA=(B,O)=>{for(var z in O)VA(B,z,{get:O[z],enumerable:!0})},bK={};xA(bK,{assign:()=>FA,colors:()=>S$,createStringInterpolator:()=>WP,skipAnimation:()=>QJ,to:()=>JJ,willAdvance:()=>NP});function g2(){}var ZJ=(B,O,z)=>Object.defineProperty(B,O,{value:z,writable:!0,configurable:!0}),n={arr:Array.isArray,obj:(B)=>!!B&&B.constructor.name==="Object",fun:(B)=>typeof B==="function",str:(B)=>typeof B==="string",num:(B)=>typeof B==="number",und:(B)=>B===void 0};function yB(B,O){if(n.arr(B)){if(!n.arr(O)||B.length!==O.length)return!1;for(let z=0;z<B.length;z++)if(B[z]!==O[z])return!1;return!0}return B===O}var JY=(B,O)=>B.forEach(O);function eK(B,O,z){if(n.arr(B)){for(let I=0;I<B.length;I++)O.call(z,B[I],`${I}`);return}for(let I in B)if(B.hasOwnProperty(I))O.call(z,B[I],I)}var vK=(B)=>n.und(B)?[]:n.arr(B)?B:[B];function S1(B,O){if(B.size){let z=Array.from(B);B.clear(),JY(z,O)}}var T1=(B,...O)=>S1(B,(z)=>z(...O)),GP=()=>typeof window==="undefined"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),WP,JJ,S$=null,QJ=!1,NP=g2,FA=(B)=>{if(B.to)JJ=B.to;if(B.now)NY.now=B.now;if(B.colors!==void 0)S$=B.colors;if(B.skipAnimation!=null)QJ=B.skipAnimation;if(B.createStringInterpolator)WP=B.createStringInterpolator;if(B.requestAnimationFrame)NY.use(B.requestAnimationFrame);if(B.batchedUpdates)NY.batchedUpdates=B.batchedUpdates;if(B.willAdvance)NP=B.willAdvance;if(B.frameLoop)NY.frameLoop=B.frameLoop},dX=new Set,IB=[],XP=[],y2=0,l0={get idle(){return!dX.size&&!IB.length},start(B){if(y2>B.priority)dX.add(B),NY.onStart(DA);else LJ(B),NY(PP)},advance:PP,sort(B){if(y2)NY.onFrame(()=>l0.sort(B));else{let O=IB.indexOf(B);if(~O)IB.splice(O,1),qJ(B)}},clear(){IB=[],dX.clear()}};function DA(){dX.forEach(LJ),dX.clear(),NY(PP)}function LJ(B){if(!IB.includes(B))qJ(B)}function qJ(B){IB.splice(MA(IB,(O)=>O.priority>B.priority),0,B)}function PP(B){let O=XP;for(let z=0;z<IB.length;z++){let I=IB[z];if(y2=I.priority,!I.idle){if(NP(I),I.advance(B),!I.idle)O.push(I)}}return y2=0,XP=IB,XP.length=0,IB=O,IB.length>0}function MA(B,O){let z=B.findIndex(O);return z<0?B.length:z}var UA=(B,O,z)=>Math.min(Math.max(z,B),O),RJ={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},TB="[-+]?\\d*\\.?\\d+",j2=TB+"%";function b2(...B){return"\\(\\s*("+B.join(")\\s*,\\s*(")+")\\s*\\)"}var SA=new RegExp("rgb"+b2(TB,TB,TB)),TA=new RegExp("rgba"+b2(TB,TB,TB,TB)),yA=new RegExp("hsl"+b2(TB,j2,j2)),jA=new RegExp("hsla"+b2(TB,j2,j2,TB)),kA=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,gA=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,bA=/^#([0-9a-fA-F]{6})$/,vA=/^#([0-9a-fA-F]{8})$/;function fA(B){let O;if(typeof B==="number")return B>>>0===B&&B>=0&&B<=4294967295?B:null;if(O=bA.exec(B))return parseInt(O[1]+"ff",16)>>>0;if(S$&&S$[B]!==void 0)return S$[B];if(O=SA.exec(B))return(tH(O[1])<<24|tH(O[2])<<16|tH(O[3])<<8|255)>>>0;if(O=TA.exec(B))return(tH(O[1])<<24|tH(O[2])<<16|tH(O[3])<<8|zJ(O[4]))>>>0;if(O=kA.exec(B))return parseInt(O[1]+O[1]+O[2]+O[2]+O[3]+O[3]+"ff",16)>>>0;if(O=vA.exec(B))return parseInt(O[1],16)>>>0;if(O=gA.exec(B))return parseInt(O[1]+O[1]+O[2]+O[2]+O[3]+O[3]+O[4]+O[4],16)>>>0;if(O=yA.exec(B))return(OJ(XJ(O[1]),M2(O[2]),M2(O[3]))|255)>>>0;if(O=jA.exec(B))return(OJ(XJ(O[1]),M2(O[2]),M2(O[3]))|zJ(O[4]))>>>0;return null}function zP(B,O,z){if(z<0)z+=1;if(z>1)z-=1;if(z<0.16666666666666666)return B+(O-B)*6*z;if(z<0.5)return O;if(z<0.6666666666666666)return B+(O-B)*(0.6666666666666666-z)*6;return B}function OJ(B,O,z){let I=z<0.5?z*(1+O):z+O-z*O,P=2*z-I,W=zP(P,I,B+0.3333333333333333),Z=zP(P,I,B),L=zP(P,I,B-0.3333333333333333);return Math.round(W*255)<<24|Math.round(Z*255)<<16|Math.round(L*255)<<8}function tH(B){let O=parseInt(B,10);if(O<0)return 0;if(O>255)return 255;return O}function XJ(B){return(parseFloat(B)%360+360)%360/360}function zJ(B){let O=parseFloat(B);if(O<0)return 0;if(O>1)return 255;return Math.round(O*255)}function M2(B){let O=parseFloat(B);if(O<0)return 0;if(O>100)return 1;return O/100}function IJ(B){let O=fA(B);if(O===null)return B;O=O||0;let z=(O&4278190080)>>>24,I=(O&16711680)>>>16,P=(O&65280)>>>8,W=(O&255)/255;return`rgba(${z}, ${I}, ${P}, ${W})`}var T$=(B,O,z)=>{if(n.fun(B))return B;if(n.arr(B))return T$({range:B,output:O,extrapolate:z});if(n.str(B.output[0]))return WP(B);let I=B,P=I.output,W=I.range||[0,1],Z=I.extrapolateLeft||I.extrapolate||"extend",L=I.extrapolateRight||I.extrapolate||"extend",Q=I.easing||((q)=>q);return(q)=>{let w=hA(q,W);return mA(q,W[w],W[w+1],P[w],P[w+1],Q,Z,L,I.map)}};function mA(B,O,z,I,P,W,Z,L,Q){let q=Q?Q(B):B;if(q<O){if(Z==="identity")return q;else if(Z==="clamp")q=O}if(q>z){if(L==="identity")return q;else if(L==="clamp")q=z}if(I===P)return I;if(O===z)return B<=O?I:P;if(O===-1/0)q=-q;else if(z===1/0)q=q-O;else q=(q-O)/(z-O);if(q=W(q),I===-1/0)q=-q;else if(P===1/0)q=q+I;else q=q*(P-I)+I;return q}function hA(B,O){for(var z=1;z<O.length-1;++z)if(O[z]>=B)break;return z-1}var dA=(B,O="end")=>(z)=>{z=O==="end"?Math.min(z,0.999):Math.max(z,0.001);let I=z*B,P=O==="end"?Math.floor(I):Math.ceil(I);return UA(0,1,P/B)},k2=1.70158,U2=k2*1.525,PJ=k2+1,GJ=2*Math.PI/3,WJ=2*Math.PI/4.5,S2=(B)=>{if(B<0.36363636363636365)return 7.5625*B*B;else if(B<0.7272727272727273)return 7.5625*(B-=0.5454545454545454)*B+0.75;else if(B<0.9090909090909091)return 7.5625*(B-=0.8181818181818182)*B+0.9375;else return 7.5625*(B-=0.9545454545454546)*B+0.984375},ZP={linear:(B)=>B,easeInQuad:(B)=>B*B,easeOutQuad:(B)=>1-(1-B)*(1-B),easeInOutQuad:(B)=>B<0.5?2*B*B:1-Math.pow(-2*B+2,2)/2,easeInCubic:(B)=>B*B*B,easeOutCubic:(B)=>1-Math.pow(1-B,3),easeInOutCubic:(B)=>B<0.5?4*B*B*B:1-Math.pow(-2*B+2,3)/2,easeInQuart:(B)=>B*B*B*B,easeOutQuart:(B)=>1-Math.pow(1-B,4),easeInOutQuart:(B)=>B<0.5?8*B*B*B*B:1-Math.pow(-2*B+2,4)/2,easeInQuint:(B)=>B*B*B*B*B,easeOutQuint:(B)=>1-Math.pow(1-B,5),easeInOutQuint:(B)=>B<0.5?16*B*B*B*B*B:1-Math.pow(-2*B+2,5)/2,easeInSine:(B)=>1-Math.cos(B*Math.PI/2),easeOutSine:(B)=>Math.sin(B*Math.PI/2),easeInOutSine:(B)=>-(Math.cos(Math.PI*B)-1)/2,easeInExpo:(B)=>B===0?0:Math.pow(2,10*B-10),easeOutExpo:(B)=>B===1?1:1-Math.pow(2,-10*B),easeInOutExpo:(B)=>B===0?0:B===1?1:B<0.5?Math.pow(2,20*B-10)/2:(2-Math.pow(2,-20*B+10))/2,easeInCirc:(B)=>1-Math.sqrt(1-Math.pow(B,2)),easeOutCirc:(B)=>Math.sqrt(1-Math.pow(B-1,2)),easeInOutCirc:(B)=>B<0.5?(1-Math.sqrt(1-Math.pow(2*B,2)))/2:(Math.sqrt(1-Math.pow(-2*B+2,2))+1)/2,easeInBack:(B)=>PJ*B*B*B-k2*B*B,easeOutBack:(B)=>1+PJ*Math.pow(B-1,3)+k2*Math.pow(B-1,2),easeInOutBack:(B)=>B<0.5?Math.pow(2*B,2)*((U2+1)*2*B-U2)/2:(Math.pow(2*B-2,2)*((U2+1)*(B*2-2)+U2)+2)/2,easeInElastic:(B)=>B===0?0:B===1?1:-Math.pow(2,10*B-10)*Math.sin((B*10-10.75)*GJ),easeOutElastic:(B)=>B===0?0:B===1?1:Math.pow(2,-10*B)*Math.sin((B*10-0.75)*GJ)+1,easeInOutElastic:(B)=>B===0?0:B===1?1:B<0.5?-(Math.pow(2,20*B-10)*Math.sin((20*B-11.125)*WJ))/2:Math.pow(2,-20*B+10)*Math.sin((20*B-11.125)*WJ)/2+1,easeInBounce:(B)=>1-S2(1-B),easeOutBounce:S2,easeInOutBounce:(B)=>B<0.5?(1-S2(1-2*B))/2:(1+S2(2*B-1))/2,steps:dA},cX=Symbol.for("FluidValue.get"),eH=Symbol.for("FluidValue.observers"),H_=(B)=>Boolean(B&&B[cX]),fK=(B)=>B&&B[cX]?B[cX]():B,JP=(B)=>B[eH]||null;function cA(B,O){if(B.eventObserved)B.eventObserved(O);else B(O)}function u0(B,O){let z=B[eH];if(z)z.forEach((I)=>{cA(I,O)})}var v2=class{constructor(B){if(!B&&!(B=this.get))throw Error("Unknown getter");lA(this,B)}},lA=(B,O)=>CJ(B,cX,O);function jB(B,O){if(B[cX]){let z=B[eH];if(!z)CJ(B,eH,z=new Set);if(!z.has(O)){if(z.add(O),B.observerAdded)B.observerAdded(z.size,O)}}return O}function p0(B,O){let z=B[eH];if(z&&z.has(O)){let I=z.size-1;if(I)z.delete(O);else B[eH]=null;if(B.observerRemoved)B.observerRemoved(I,O)}}var CJ=(B,O,z)=>Object.defineProperty(B,O,{value:z,writable:!0,configurable:!0}),T2=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,uA=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,NJ=new RegExp(`(${T2.source})(%|[a-z]+)`,"i"),pA=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,f2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,wJ=(B)=>{let[O,z]=iA(B);if(!O||GP())return B;let I=window.getComputedStyle(document.documentElement).getPropertyValue(O);if(I)return I.trim();else if(z&&z.startsWith("--")){let P=window.getComputedStyle(document.documentElement).getPropertyValue(z);if(P)return P;else return B}else if(z&&f2.test(z))return wJ(z);else if(z)return z;return B},iA=(B)=>{let O=f2.exec(B);if(!O)return[,];let[,z,I]=O;return[z,I]},IP,nA=(B,O,z,I,P)=>`rgba(${Math.round(O)}, ${Math.round(z)}, ${Math.round(I)}, ${P})`,m2=(B)=>{if(!IP)IP=S$?new RegExp(`(${Object.keys(S$).join("|")})(?!\\w)`,"g"):/^\b$/;let O=B.output.map((W)=>{return fK(W).replace(f2,wJ).replace(uA,IJ).replace(IP,IJ)}),z=O.map((W)=>W.match(T2).map(Number)),P=z[0].map((W,Z)=>z.map((L)=>{if(!(Z in L))throw Error('The arity of each "output" value must be equal');return L[Z]})).map((W)=>T$({...B,output:W}));return(W)=>{let Z=!NJ.test(O[0])&&O.find((Q)=>NJ.test(Q))?.replace(T2,""),L=0;return O[0].replace(T2,()=>`${P[L++](W)}${Z||""}`).replace(pA,nA)}},QP="react-spring: ",AJ=(B)=>{let O=B,z=!1;if(typeof O!="function")throw new TypeError(`${QP}once requires a function parameter`);return(...I)=>{if(!z)O(...I),z=!0}},oA=AJ(console.warn);function LP(){oA(`${QP}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var sA=AJ(console.warn);function EJ(){sA(`${QP}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function y$(B){return n.str(B)&&(B[0]=="#"||/\d/.test(B)||!GP()&&f2.test(B)||(B in(S$||{})))}var PB=GP()?h2.useEffect:h2.useLayoutEffect,rA=()=>{let B=xJ.useRef(!1);return PB(()=>{return B.current=!0,()=>{B.current=!1}},[]),B};function lX(){let B=VJ.useState()[1],O=rA();return()=>{if(O.current)B(Math.random())}}function FJ(B,O){let[z]=YO.useState(()=>({inputs:O,result:B()})),I=YO.useRef(),P=I.current,W=P;if(W){if(!Boolean(O&&W.inputs&&tA(O,W.inputs)))W={inputs:O,result:B()}}else W=z;return YO.useEffect(()=>{if(I.current=W,P==z)z.inputs=z.result=void 0},[W]),W.result}function tA(B,O){if(B.length!==O.length)return!1;for(let z=0;z<B.length;z++)if(B[z]!==O[z])return!1;return!0}var KO=(B)=>DJ.useEffect(B,eA),eA=[];function c2(B){let O=d2.useRef();return d2.useEffect(()=>{O.current=B}),O.current}var W0=p(bY(),1);var jJ=p(bY(),1),i0=p(bY(),1);var uX=Symbol.for("Animated:node"),KE=(B)=>!!B&&B[uX]===B,h_=(B)=>B&&B[uX],pX=(B,O)=>ZJ(B,uX,O),_O=(B)=>B&&B[uX]&&B[uX].getPayload(),TJ=class{constructor(){pX(this,this)}getPayload(){return this.payload||[]}},BO=class extends TJ{constructor(B){super();if(this._value=B,this.done=!0,this.durationProgress=0,n.num(this._value))this.lastPosition=this._value}static create(B){return new BO(B)}getPayload(){return[this]}getValue(){return this._value}setValue(B,O){if(n.num(B)){if(this.lastPosition=B,O){if(B=Math.round(B/O)*O,this.done)this.lastPosition=B}}if(this._value===B)return!1;return this._value=B,!0}reset(){let{done:B}=this;if(this.done=!1,n.num(this._value)){if(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,B)this.lastVelocity=null;this.v0=null}}},$O=class extends BO{constructor(B){super(0);this._string=null,this._toString=T$({output:[B,B]})}static create(B){return new $O(B)}getValue(){let B=this._string;return B==null?this._string=this._toString(this._value):B}setValue(B){if(n.str(B)){if(B==this._string)return!1;this._string=B,this._value=1}else if(super.setValue(B))this._string=null;else return!1;return!0}reset(B){if(B)this._toString=T$({output:[this.getValue(),B]});this._value=0,super.reset()}},l2={dependencies:null},iX=class extends TJ{constructor(B){super();this.source=B,this.setValue(B)}getValue(B){let O={};return eK(this.source,(z,I)=>{if(KE(z))O[I]=z.getValue(B);else if(H_(z))O[I]=fK(z);else if(!B)O[I]=z}),O}setValue(B){this.source=B,this.payload=this._makePayload(B)}reset(){if(this.payload)JY(this.payload,(B)=>B.reset())}_makePayload(B){if(B){let O=new Set;return eK(B,this._addToPayload,O),Array.from(O)}}_addToPayload(B){if(l2.dependencies&&H_(B))l2.dependencies.add(B);let O=_O(B);if(O)JY(O,(z)=>this.add(z))}},yJ=class extends iX{constructor(B){super(B)}static create(B){return new yJ(B)}getValue(){return this.source.map((B)=>B.getValue())}setValue(B){let O=this.getPayload();if(B.length==O.length)return O.map((z,I)=>z.setValue(B[I])).some(Boolean);return super.setValue(B.map(_E)),!0}};function _E(B){return(y$(B)?$O:BO).create(B)}function nX(B){let O=h_(B);return O?O.constructor:n.arr(B)?yJ:y$(B)?$O:BO}var MJ=(B,O)=>{let z=!n.fun(B)||B.prototype&&B.prototype.isReactComponent;return i0.forwardRef((I,P)=>{let W=i0.useRef(null),Z=z&&i0.useCallback((U)=>{W.current=HE(P,U)},[P]),[L,Q]=$E(I,O),q=lX(),w=()=>{let U=W.current;if(z&&!U)return;if((U?O.applyAnimatedValues(U,L.getValue(!0)):!1)===!1)q()},C=new BE(w,Q),D=i0.useRef();PB(()=>{return D.current=C,JY(Q,(U)=>jB(U,C)),()=>{if(D.current)JY(D.current.deps,(U)=>p0(U,D.current)),NY.cancel(D.current.update)}}),i0.useEffect(w,[]),KO(()=>()=>{let U=D.current;JY(U.deps,(m)=>p0(m,U))});let T=O.getComponentProps(L.getValue());return jJ.createElement(B,{...T,ref:Z})})},BE=class{constructor(B,O){this.update=B,this.deps=O}eventObserved(B){if(B.type=="change")NY.write(this.update)}};function $E(B,O){let z=new Set;if(l2.dependencies=z,B.style)B={...B,style:O.createAnimatedStyle(B.style)};return B=new iX(B),l2.dependencies=null,[B,z]}function HE(B,O){if(B)if(n.fun(B))B(O);else B.current=O;return O}var UJ=Symbol.for("AnimatedComponent"),kJ=(B,{applyAnimatedValues:O=()=>!1,createAnimatedStyle:z=(P)=>new iX(P),getComponentProps:I=(P)=>P}={})=>{let P={applyAnimatedValues:O,createAnimatedStyle:z,getComponentProps:I},W=(Z)=>{let L=SJ(Z)||"Anonymous";if(n.str(Z))Z=W[Z]||(W[Z]=MJ(Z,P));else Z=Z[UJ]||(Z[UJ]=MJ(Z,P));return Z.displayName=`Animated(${L})`,Z};return eK(B,(Z,L)=>{if(n.arr(B))L=SJ(Z);W[L]=W(Z)}),{animated:W}},SJ=(B)=>n.str(B)?B:B&&n.str(B.displayName)?B.displayName:n.fun(B)&&B.name||null;var p2=p(bY(),1),$Q=p(bY(),1);var FE=p(bY(),1);var HQ=p(bY(),1),UP=p(bY(),1);var OQ=p(bY(),1);function y1(B,...O){return n.fun(B)?B(...O):B}var rX=(B,O)=>B===!0||!!(O&&B&&(n.fun(B)?B(O):vK(B).includes(O))),pJ=(B,O)=>n.obj(B)?O&&B[O]:B,iJ=(B,O)=>B.default===!0?B[O]:B.default?B.default[O]:void 0,OE=(B)=>B,FP=(B,O=OE)=>{let z=XE;if(B.default&&B.default!==!0)B=B.default,z=Object.keys(B);let I={};for(let P of z){let W=O(B[P],P);if(!n.und(W))I[P]=W}return I},XE=["config","onProps","onStart","onChange","onPause","onResume","onRest"],zE={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function IE(B){let O={},z=0;if(eK(B,(I,P)=>{if(!zE[P])O[P]=I,z++}),z)return O}function nJ(B){let O=IE(B);if(O){let z={to:O};return eK(B,(I,P)=>(P in O)||(z[P]=I)),z}return{...B}}function tX(B){return B=fK(B),n.arr(B)?B.map(tX):y$(B)?bK.createStringInterpolator({range:[0,1],output:[B,B]})(1):B}function PE(B){for(let O in B)return!0;return!1}function CP(B){return n.fun(B)||n.arr(B)&&n.obj(B[0])}function GE(B,O){B.ref?.delete(B),O?.delete(B)}function WE(B,O){if(O&&B.ref!==O)B.ref?.delete(B),O.add(B),B.ref=O}var NE={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},wP={...NE.default,mass:1,damping:1,easing:ZP.linear,clamp:!1},ZE=class{constructor(){this.velocity=0,Object.assign(this,wP)}};function JE(B,O,z){if(z)z={...z},gJ(z,O),O={...z,...O};gJ(B,O),Object.assign(B,O);for(let Z in wP)if(B[Z]==null)B[Z]=wP[Z];let{frequency:I,damping:P}=B,{mass:W}=B;if(!n.und(I)){if(I<0.01)I=0.01;if(P<0)P=0;B.tension=Math.pow(2*Math.PI/I,2)*W,B.friction=4*Math.PI*P*W/I}return B}function gJ(B,O){if(!n.und(O.decay))B.duration=void 0;else{let z=!n.und(O.tension)||!n.und(O.friction);if(z||!n.und(O.frequency)||!n.und(O.damping)||!n.und(O.mass))B.duration=void 0,B.decay=void 0;if(z)B.frequency=void 0}}var bJ=[],QE=class{constructor(){this.changed=!1,this.values=bJ,this.toValues=null,this.fromValues=bJ,this.config=new ZE,this.immediate=!1}};function oJ(B,{key:O,props:z,defaultProps:I,state:P,actions:W}){return new Promise((Z,L)=>{let Q,q,w=rX(z.cancel??I?.cancel,O);if(w)T();else{if(!n.und(z.pause))P.paused=rX(z.pause,O);let U=I?.pause;if(U!==!0)U=P.paused||rX(U,O);if(Q=y1(z.delay||0,O),U)P.resumeQueue.add(D),W.pause();else W.resume(),D()}function C(){P.resumeQueue.add(D),P.timeouts.delete(q),q.cancel(),Q=q.time-NY.now()}function D(){if(Q>0&&!bK.skipAnimation)P.delayed=!0,q=NY.setTimeout(T,Q),P.pauseQueue.add(C),P.timeouts.add(q);else T()}function T(){if(P.delayed)P.delayed=!1;if(P.pauseQueue.delete(C),P.timeouts.delete(q),B<=(P.cancelId||0))w=!0;try{W.start({...z,callId:B,cancel:w},Z)}catch(U){L(U)}}})}var DP=(B,O)=>O.length==1?O[0]:O.some((z)=>z.cancelled)?HO(B.get()):O.every((z)=>z.noop)?sJ(B.get()):kB(B.get(),O.every((z)=>z.finished)),sJ=(B)=>({value:B,noop:!0,finished:!0,cancelled:!1}),kB=(B,O,z=!1)=>({value:B,finished:O,cancelled:z}),HO=(B)=>({value:B,cancelled:!0,finished:!1});function aJ(B,O,z,I){let{callId:P,parentId:W,onRest:Z}=O,{asyncTo:L,promise:Q}=z;if(!W&&B===L&&!O.reset)return Q;return z.promise=(async()=>{z.asyncId=P,z.asyncTo=B;let q=FP(O,(S,y)=>y==="onRest"?void 0:S),w,C,D=new Promise((S,y)=>(w=S,C=y)),T=(S)=>{let y=P<=(z.cancelId||0)&&HO(I)||P!==z.asyncId&&kB(I,!1);if(y)throw S.result=y,C(S),S},U=(S,y)=>{let b=new vJ,i=new fJ;return(async()=>{if(bK.skipAnimation)throw eX(z),i.result=kB(I,!1),C(i),i;T(b);let l=n.obj(S)?{...S}:{...y,to:S};l.parentId=P,eK(q,(jY,ZY)=>{if(n.und(l[ZY]))l[ZY]=jY});let $Y=await I.start(l);if(T(b),z.paused)await new Promise((jY)=>{z.resumeQueue.add(jY)});return $Y})()},m;if(bK.skipAnimation)return eX(z),kB(I,!1);try{let S;if(n.arr(B))S=(async(y)=>{for(let b of y)await U(b)})(B);else S=Promise.resolve(B(U,I.stop.bind(I)));await Promise.all([S.then(w),D]),m=kB(I.get(),!0,!1)}catch(S){if(S instanceof vJ)m=S.result;else if(S instanceof fJ)m=S.result;else throw S}finally{if(P==z.asyncId)z.asyncId=W,z.asyncTo=W?L:void 0,z.promise=W?Q:void 0}if(n.fun(Z))NY.batchedUpdates(()=>{Z(m,I,I.item)});return m})()}function eX(B,O){if(S1(B.timeouts,(z)=>z.cancel()),B.pauseQueue.clear(),B.resumeQueue.clear(),B.asyncId=B.asyncTo=B.promise=void 0,O)B.cancelId=O}var vJ=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},fJ=class extends Error{constructor(){super("SkipAnimationSignal")}},AP=(B)=>B instanceof MP,LE=1,MP=class extends v2{constructor(){super(...arguments);this.id=LE++,this._priority=0}get priority(){return this._priority}set priority(B){if(this._priority!=B)this._priority=B,this._onPriorityChange(B)}get(){let B=h_(this);return B&&B.getValue()}to(...B){return bK.to(this,B)}interpolate(...B){return LP(),bK.to(this,B)}toJSON(){return this.get()}observerAdded(B){if(B==1)this._attach()}observerRemoved(B){if(B==0)this._detach()}_attach(){}_detach(){}_onChange(B,O=!1){u0(this,{type:"change",parent:this,value:B,idle:O})}_onPriorityChange(B){if(!this.idle)l0.sort(this);u0(this,{type:"priority",parent:this,priority:B})}},j1=Symbol.for("SpringPhase"),rJ=1,EP=2,VP=4,qP=(B)=>(B[j1]&rJ)>0,j$=(B)=>(B[j1]&EP)>0,oX=(B)=>(B[j1]&VP)>0,mJ=(B,O)=>O?B[j1]|=EP|rJ:B[j1]&=~EP,hJ=(B,O)=>O?B[j1]|=VP:B[j1]&=~VP,qE=class extends MP{constructor(B,O){super();if(this.animation=new QE,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!n.und(B)||!n.und(O)){let z=n.obj(B)?{...B}:{...O,from:B};if(n.und(z.default))z.default=!0;this.start(z)}}get idle(){return!(j$(this)||this._state.asyncTo)||oX(this)}get goal(){return fK(this.animation.to)}get velocity(){let B=h_(this);return B instanceof BO?B.lastVelocity||0:B.getPayload().map((O)=>O.lastVelocity||0)}get hasAnimated(){return qP(this)}get isAnimating(){return j$(this)}get isPaused(){return oX(this)}get isDelayed(){return this._state.delayed}advance(B){let O=!0,z=!1,I=this.animation,{toValues:P}=I,{config:W}=I,Z=_O(I.to);if(!Z&&H_(I.to))P=vK(fK(I.to));I.values.forEach((q,w)=>{if(q.done)return;let C=q.constructor==$O?1:Z?Z[w].lastPosition:P[w],D=I.immediate,T=C;if(!D){if(T=q.lastPosition,W.tension<=0){q.done=!0;return}let U=q.elapsedTime+=B,m=I.fromValues[w],S=q.v0!=null?q.v0:q.v0=n.arr(W.velocity)?W.velocity[w]:W.velocity,y,b=W.precision||(m==C?0.005:Math.min(1,Math.abs(C-m)*0.001));if(!n.und(W.duration)){let i=1;if(W.duration>0){if(this._memoizedDuration!==W.duration){if(this._memoizedDuration=W.duration,q.durationProgress>0)q.elapsedTime=W.duration*q.durationProgress,U=q.elapsedTime+=B}i=(W.progress||0)+U/this._memoizedDuration,i=i>1?1:i<0?0:i,q.durationProgress=i}T=m+W.easing(i)*(C-m),y=(T-q.lastPosition)/B,D=i==1}else if(W.decay){let i=W.decay===!0?0.998:W.decay,l=Math.exp(-(1-i)*U);T=m+S/(1-i)*(1-l),D=Math.abs(q.lastPosition-T)<=b,y=S*l}else{y=q.lastVelocity==null?S:q.lastVelocity;let i=W.restVelocity||b/10,l=W.clamp?0:W.bounce,$Y=!n.und(l),jY=m==C?q.v0>0:m<C,ZY,SY=!1,qY=1,KK=Math.ceil(B/qY);for(let _K=0;_K<KK;++_K){if(ZY=Math.abs(y)>i,!ZY){if(D=Math.abs(C-T)<=b,D)break}if($Y){if(SY=T==C||T>C==jY,SY)y=-y*l,T=C}let qK=-W.tension*0.000001*(T-C),O_=-W.friction*0.001*y,KY=(qK+O_)/W.mass;y=y+KY*qY,T=T+y*qY}}if(q.lastVelocity=y,Number.isNaN(T))console.warn("Got NaN while animating:",this),D=!0}if(Z&&!Z[w].done)D=!1;if(D)q.done=!0;else O=!1;if(q.setValue(T,W.round))z=!0});let L=h_(this),Q=L.getValue();if(O){let q=fK(I.to);if((Q!==q||z)&&!W.decay)L.setValue(q),this._onChange(q);else if(z&&W.decay)this._onChange(Q);this._stop()}else if(z)this._onChange(Q)}set(B){return NY.batchedUpdates(()=>{this._stop(),this._focus(B),this._set(B)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(j$(this)){let{to:B,config:O}=this.animation;NY.batchedUpdates(()=>{if(this._onStart(),!O.decay)this._set(B,!1);this._stop()})}return this}update(B){return(this.queue||(this.queue=[])).push(B),this}start(B,O){let z;if(!n.und(B))z=[n.obj(B)?B:{...O,to:B}];else z=this.queue||[],this.queue=[];return Promise.all(z.map((I)=>{return this._update(I)})).then((I)=>DP(this,I))}stop(B){let{to:O}=this.animation;return this._focus(this.get()),eX(this._state,B&&this._lastCallId),NY.batchedUpdates(()=>this._stop(O,B)),this}reset(){this._update({reset:!0})}eventObserved(B){if(B.type=="change")this._start();else if(B.type=="priority")this.priority=B.priority+1}_prepareNode(B){let O=this.key||"",{to:z,from:I}=B;if(z=n.obj(z)?z[O]:z,z==null||CP(z))z=void 0;if(I=n.obj(I)?I[O]:I,I==null)I=void 0;let P={to:z,from:I};if(!qP(this)){if(B.reverse)[z,I]=[I,z];if(I=fK(I),!n.und(I))this._set(I);else if(!h_(this))this._set(z)}return P}_update({...B},O){let{key:z,defaultProps:I}=this;if(B.default)Object.assign(I,FP(B,(Z,L)=>/^on/.test(L)?pJ(Z,z):Z));cJ(this,B,"onProps"),aX(this,"onProps",B,this);let P=this._prepareNode(B);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let W=this._state;return oJ(++this._lastCallId,{key:z,props:B,defaultProps:I,state:W,actions:{pause:()=>{if(!oX(this))hJ(this,!0),T1(W.pauseQueue),aX(this,"onPause",kB(this,sX(this,this.animation.to)),this)},resume:()=>{if(oX(this)){if(hJ(this,!1),j$(this))this._resume();T1(W.resumeQueue),aX(this,"onResume",kB(this,sX(this,this.animation.to)),this)}},start:this._merge.bind(this,P)}}).then((Z)=>{if(B.loop&&Z.finished&&!(O&&Z.noop)){let L=tJ(B);if(L)return this._update(L,!0)}return Z})}_merge(B,O,z){if(O.cancel)return this.stop(!0),z(HO(this));let I=!n.und(B.to),P=!n.und(B.from);if(I||P)if(O.callId>this._lastToId)this._lastToId=O.callId;else return z(HO(this));let{key:W,defaultProps:Z,animation:L}=this,{to:Q,from:q}=L,{to:w=Q,from:C=q}=B;if(P&&!I&&(!O.default||n.und(w)))w=C;if(O.reverse)[w,C]=[C,w];let D=!yB(C,q);if(D)L.from=C;C=fK(C);let T=!yB(w,Q);if(T)this._focus(w);let U=CP(O.to),{config:m}=L,{decay:S,velocity:y}=m;if(I||P)m.velocity=0;if(O.config&&!U)JE(m,y1(O.config,W),O.config!==Z.config?y1(Z.config,W):void 0);let b=h_(this);if(!b||n.und(w))return z(kB(this,!0));let i=n.und(O.reset)?P&&!O.default:!n.und(C)&&rX(O.reset,W),l=i?C:this.get(),$Y=tX(w),jY=n.num($Y)||n.arr($Y)||y$($Y),ZY=!U&&(!jY||rX(Z.immediate||O.immediate,W));if(T){let _K=nX(w);if(_K!==b.constructor)if(ZY)b=this._set($Y);else throw Error(`Cannot animate between ${b.constructor.name} and ${_K.name}, as the "to" prop suggests`)}let SY=b.constructor,qY=H_(w),KK=!1;if(!qY){let _K=i||!qP(this)&&D;if(T||_K)KK=yB(tX(l),$Y),qY=!KK;if(!yB(L.immediate,ZY)&&!ZY||!yB(m.decay,S)||!yB(m.velocity,y))qY=!0}if(KK&&j$(this)){if(L.changed&&!i)qY=!0;else if(!qY)this._stop(Q)}if(!U){if(qY||H_(Q))L.values=b.getPayload(),L.toValues=H_(w)?null:SY==$O?[1]:vK($Y);if(L.immediate!=ZY){if(L.immediate=ZY,!ZY&&!i)this._set(Q)}if(qY){let{onRest:_K}=L;JY(CE,(O_)=>cJ(this,O,O_));let qK=kB(this,sX(this,Q));if(T1(this._pendingCalls,qK),this._pendingCalls.add(z),L.changed)NY.batchedUpdates(()=>{if(L.changed=!i,_K?.(qK,this),i)y1(Z.onRest,qK);else L.onStart?.(qK,this)})}}if(i)this._set(l);if(U)z(aJ(O.to,O,this._state,this));else if(qY)this._start();else if(j$(this)&&!T)this._pendingCalls.add(z);else z(sJ(l))}_focus(B){let O=this.animation;if(B!==O.to){if(JP(this))this._detach();if(O.to=B,JP(this))this._attach()}}_attach(){let B=0,{to:O}=this.animation;if(H_(O)){if(jB(O,this),AP(O))B=O.priority+1}this.priority=B}_detach(){let{to:B}=this.animation;if(H_(B))p0(B,this)}_set(B,O=!0){let z=fK(B);if(!n.und(z)){let I=h_(this);if(!I||!yB(z,I.getValue())){let P=nX(z);if(!I||I.constructor!=P)pX(this,P.create(z));else I.setValue(z);if(I)NY.batchedUpdates(()=>{this._onChange(z,O)})}}return h_(this)}_onStart(){let B=this.animation;if(!B.changed)B.changed=!0,aX(this,"onStart",kB(this,sX(this,B.to)),this)}_onChange(B,O){if(!O)this._onStart(),y1(this.animation.onChange,B,this);y1(this.defaultProps.onChange,B,this),super._onChange(B,O)}_start(){let B=this.animation;if(h_(this).reset(fK(B.to)),!B.immediate)B.fromValues=B.values.map((O)=>O.lastPosition);if(!j$(this)){if(mJ(this,!0),!oX(this))this._resume()}}_resume(){if(bK.skipAnimation)this.finish();else l0.start(this)}_stop(B,O){if(j$(this)){mJ(this,!1);let z=this.animation;if(JY(z.values,(P)=>{P.done=!0}),z.toValues)z.onChange=z.onPause=z.onResume=void 0;u0(this,{type:"idle",parent:this});let I=O?HO(this.get()):kB(this.get(),sX(this,B??z.to));if(T1(this._pendingCalls,I),z.changed)z.changed=!1,aX(this,"onRest",I,this)}}};function sX(B,O){let z=tX(O),I=tX(B.get());return yB(I,z)}function tJ(B,O=B.loop,z=B.to){let I=y1(O);if(I){let P=I!==!0&&nJ(I),W=(P||B).reverse,Z=!P||P.reset;return Yz({...B,loop:O,default:!1,pause:void 0,to:!W||CP(z)?z:void 0,from:Z?B.from:void 0,reset:Z,...P})}}function Yz(B){let{to:O,from:z}=B=nJ(B),I=new Set;if(n.obj(O))dJ(O,I);if(n.obj(z))dJ(z,I);return B.keys=I.size?Array.from(I):null,B}function RE(B){let O=Yz(B);if(n.und(O.default))O.default=FP(O);return O}function dJ(B,O){eK(B,(z,I)=>z!=null&&O.add(I))}var CE=["onStart","onRest","onChange","onPause","onResume"];function cJ(B,O,z){B.animation[z]=O[z]!==iJ(O,z)?pJ(O[z],B.key):void 0}function aX(B,O,...z){B.animation[O]?.(...z),B.defaultProps[O]?.(...z)}var wE=["onStart","onChange","onRest"],AE=1,EE=class{constructor(B,O){if(this.id=AE++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),O)this._flush=O;if(B)this.start({default:!0,...B})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((B)=>{return B.idle&&!B.isDelayed&&!B.isPaused})}get item(){return this._item}set item(B){this._item=B}get(){let B={};return this.each((O,z)=>B[z]=O.get()),B}set(B){for(let O in B){let z=B[O];if(!n.und(z))this.springs[O].set(z)}}update(B){if(B)this.queue.push(Yz(B));return this}start(B){let{queue:O}=this;if(B)O=vK(B).map(Yz);else this.queue=[];if(this._flush)return this._flush(this,O);return BQ(this,O),xP(this,O)}stop(B,O){if(B!==!!B)O=B;if(O){let z=this.springs;JY(vK(O),(I)=>z[I].stop(!!B))}else eX(this._state,this._lastAsyncId),this.each((z)=>z.stop(!!B));return this}pause(B){if(n.und(B))this.start({pause:!0});else{let O=this.springs;JY(vK(B),(z)=>O[z].pause())}return this}resume(B){if(n.und(B))this.start({pause:!1});else{let O=this.springs;JY(vK(B),(z)=>O[z].resume())}return this}each(B){eK(this.springs,B)}_onFrame(){let{onStart:B,onChange:O,onRest:z}=this._events,I=this._active.size>0,P=this._changed.size>0;if(I&&!this._started||P&&!this._started)this._started=!0,S1(B,([L,Q])=>{Q.value=this.get(),L(Q,this,this._item)});let W=!I&&this._started,Z=P||W&&z.size?this.get():null;if(P&&O.size)S1(O,([L,Q])=>{Q.value=Z,L(Q,this,this._item)});if(W)this._started=!1,S1(z,([L,Q])=>{Q.value=Z,L(Q,this,this._item)})}eventObserved(B){if(B.type=="change"){if(this._changed.add(B.parent),!B.idle)this._active.add(B.parent)}else if(B.type=="idle")this._active.delete(B.parent);else return;NY.onFrame(this._onFrame)}};function xP(B,O){return Promise.all(O.map((z)=>eJ(B,z))).then((z)=>DP(B,z))}async function eJ(B,O,z){let{keys:I,to:P,from:W,loop:Z,onRest:L,onResolve:Q}=O,q=n.obj(O.default)&&O.default;if(Z)O.loop=!1;if(P===!1)O.to=null;if(W===!1)O.from=null;let w=n.arr(P)||n.fun(P)?P:void 0;if(w){if(O.to=void 0,O.onRest=void 0,q)q.onRest=void 0}else JY(wE,(m)=>{let S=O[m];if(n.fun(S)){let y=B._events[m];if(O[m]=({finished:b,cancelled:i})=>{let l=y.get(S);if(l){if(!b)l.finished=!1;if(i)l.cancelled=!0}else y.set(S,{value:null,finished:b||!1,cancelled:i||!1})},q)q[m]=O[m]}});let C=B._state;if(O.pause===!C.paused)C.paused=O.pause,T1(O.pause?C.pauseQueue:C.resumeQueue);else if(C.paused)O.pause=!0;let D=(I||Object.keys(B.springs)).map((m)=>B.springs[m].start(O)),T=O.cancel===!0||iJ(O,"cancel")===!0;if(w||T&&C.asyncId)D.push(oJ(++B._lastAsyncId,{props:O,state:C,actions:{pause:g2,resume:g2,start(m,S){if(T)eX(C,B._lastAsyncId),S(HO(B));else m.onRest=L,S(aJ(w,m,C,B))}}}));if(C.paused)await new Promise((m)=>{C.resumeQueue.add(m)});let U=DP(B,await Promise.all(D));if(Z&&U.finished&&!(z&&U.noop)){let m=tJ(O,Z,P);if(m)return BQ(B,[m]),eJ(B,m,!0)}if(Q)NY.batchedUpdates(()=>Q(U,B,B.item));return U}function lJ(B,O){let z={...B.springs};if(O)JY(vK(O),(I)=>{if(n.und(I.keys))I=Yz(I);if(!n.obj(I.to))I={...I,to:void 0};_Q(z,I,(P)=>{return KQ(P)})});return YQ(B,z),z}function YQ(B,O){eK(O,(z,I)=>{if(!B.springs[I])B.springs[I]=z,jB(z,B)})}function KQ(B,O){let z=new qE;if(z.key=B,O)jB(z,O);return z}function _Q(B,O,z){if(O.keys)JY(O.keys,(I)=>{(B[I]||(B[I]=z(I)))._prepareNode(O)})}function BQ(B,O){JY(O,(z)=>{_Q(B.springs,z,(I)=>{return KQ(I,B)})})}var i2=({children:B,...O})=>{let z=$Q.useContext(u2),I=O.pause||!!z.pause,P=O.immediate||!!z.immediate;O=FJ(()=>({pause:I,immediate:P}),[I,P]);let{Provider:W}=u2;return p2.createElement(W,{value:O},B)},u2=VE(i2,{});i2.Provider=u2.Provider;i2.Consumer=u2.Consumer;function VE(B,O){return Object.assign(B,p2.createContext(O)),B.Provider._context=B,B.Consumer._context=B,B}var xE=()=>{let B=[],O=function(I){EJ();let P=[];return JY(B,(W,Z)=>{if(n.und(I))P.push(W.start());else{let L=z(I,W,Z);if(L)P.push(W.start(L))}}),P};O.current=B,O.add=function(I){if(!B.includes(I))B.push(I)},O.delete=function(I){let P=B.indexOf(I);if(~P)B.splice(P,1)},O.pause=function(){return JY(B,(I)=>I.pause(...arguments)),this},O.resume=function(){return JY(B,(I)=>I.resume(...arguments)),this},O.set=function(I){JY(B,(P,W)=>{let Z=n.fun(I)?I(W,P):I;if(Z)P.set(Z)})},O.start=function(I){let P=[];return JY(B,(W,Z)=>{if(n.und(I))P.push(W.start());else{let L=this._getProps(I,W,Z);if(L)P.push(W.start(L))}}),P},O.stop=function(){return JY(B,(I)=>I.stop(...arguments)),this},O.update=function(I){return JY(B,(P,W)=>P.update(this._getProps(I,P,W))),this};let z=function(I,P,W){return n.fun(I)?I(W,P):I};return O._getProps=z,O};function n2(B,O,z){let I=n.fun(O)&&O;if(I&&!z)z=[];let P=W0.useMemo(()=>I||arguments.length==3?xE():void 0,[]),W=W0.useRef(0),Z=lX(),L=W0.useMemo(()=>({ctrls:[],queue:[],flush(y,b){let i=lJ(y,b);return W.current>0&&!L.queue.length&&!Object.keys(i).some(($Y)=>!y.springs[$Y])?xP(y,b):new Promise(($Y)=>{YQ(y,i),L.queue.push(()=>{$Y(xP(y,b))}),Z()})}}),[]),Q=W0.useRef([...L.ctrls]),q=[],w=c2(B)||0;W0.useMemo(()=>{JY(Q.current.slice(B,w),(y)=>{GE(y,P),y.stop(!0)}),Q.current.length=B,C(w,B)},[B]),W0.useMemo(()=>{C(0,Math.min(w,B))},z);function C(y,b){for(let i=y;i<b;i++){let l=Q.current[i]||(Q.current[i]=new EE(null,L.flush)),$Y=I?I(i,l):O[i];if($Y)q[i]=RE($Y)}}let D=Q.current.map((y,b)=>lJ(y,q[b])),T=W0.useContext(i2),U=c2(T),m=T!==U&&PE(T);PB(()=>{W.current++,L.ctrls=Q.current;let{queue:y}=L;if(y.length)L.queue=[],JY(y,(b)=>b());JY(Q.current,(b,i)=>{if(P?.add(b),m)b.start({default:T});let l=q[i];if(l)if(WE(b,l.ref),b.ref)b.queue.push(l);else b.start(l)})}),KO(()=>()=>{JY(L.ctrls,(y)=>y.stop(!0))});let S=D.map((y)=>({...y}));return P?[S,P]:S}function OO(B,O){let z=n.fun(B),[[I],P]=n2(1,z?B:[B],z?O||[]:O);return z||arguments.length==2?[I,P]:I}var DE=class extends MP{constructor(B,O){super();this.source=B,this.idle=!0,this._active=new Set,this.calc=T$(...O);let z=this._get(),I=nX(z);pX(this,I.create(z))}advance(B){let O=this._get(),z=this.get();if(!yB(O,z))h_(this).setValue(O),this._onChange(O,this.idle);if(!this.idle&&uJ(this._active))RP(this)}_get(){let B=n.arr(this.source)?this.source.map(fK):vK(fK(this.source));return this.calc(...B)}_start(){if(this.idle&&!uJ(this._active))if(this.idle=!1,JY(_O(this),(B)=>{B.done=!1}),bK.skipAnimation)NY.batchedUpdates(()=>this.advance()),RP(this);else l0.start(this)}_attach(){let B=1;JY(vK(this.source),(O)=>{if(H_(O))jB(O,this);if(AP(O)){if(!O.idle)this._active.add(O);B=Math.max(B,O.priority+1)}}),this.priority=B,this._start()}_detach(){JY(vK(this.source),(B)=>{if(H_(B))p0(B,this)}),this._active.clear(),RP(this)}eventObserved(B){if(B.type=="change")if(B.idle)this.advance();else this._active.add(B.parent),this._start();else if(B.type=="idle")this._active.delete(B.parent);else if(B.type=="priority")this.priority=vK(this.source).reduce((O,z)=>Math.max(O,(AP(z)?z.priority:0)+1),0)}};function ME(B){return B.idle!==!1}function uJ(B){return!B.size||Array.from(B).every(ME)}function RP(B){if(!B.idle)B.idle=!0,JY(_O(B),(O)=>{O.done=!0}),u0(B,{type:"idle",parent:B})}bK.assign({createStringInterpolator:m2,to:(B,O)=>new DE(B,O)});var ZU=l0.advance;var zQ=p(gI(),1);var IQ=/^--/;function UE(B,O){if(O==null||typeof O==="boolean"||O==="")return"";if(typeof O==="number"&&O!==0&&!IQ.test(B)&&!(Kz.hasOwnProperty(B)&&Kz[B]))return O+"px";return(""+O).trim()}var XQ={};function SE(B,O){if(!B.nodeType||!B.setAttribute)return!1;let z=B.nodeName==="filter"||B.parentNode&&B.parentNode.nodeName==="filter",{className:I,style:P,children:W,scrollTop:Z,scrollLeft:L,viewBox:Q,...q}=O,w=Object.values(q),C=Object.keys(q).map((D)=>z||B.hasAttribute(D)?D:XQ[D]||(XQ[D]=D.replace(/([A-Z])/g,(T)=>"-"+T.toLowerCase())));if(W!==void 0)B.textContent=W;for(let D in P)if(P.hasOwnProperty(D)){let T=UE(D,P[D]);if(IQ.test(D))B.style.setProperty(D,T);else B.style[D]=T}if(C.forEach((D,T)=>{B.setAttribute(D,w[T])}),I!==void 0)B.className=I;if(Z!==void 0)B.scrollTop=Z;if(L!==void 0)B.scrollLeft=L;if(Q!==void 0)B.setAttribute("viewBox",Q)}var Kz={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TE=(B,O)=>B+O.charAt(0).toUpperCase()+O.substring(1),yE=["Webkit","Ms","Moz","O"];Kz=Object.keys(Kz).reduce((B,O)=>{return yE.forEach((z)=>B[TE(z,O)]=B[O]),B},Kz);var jE=/^(matrix|translate|scale|rotate|skew)/,kE=/^(translate)/,gE=/^(rotate|skew)/,SP=(B,O)=>n.num(B)&&B!==0?B+O:B,o2=(B,O)=>n.arr(B)?B.every((z)=>o2(z,O)):n.num(B)?B===O:parseFloat(B)===O,bE=class extends iX{constructor({x:B,y:O,z,...I}){let P=[],W=[];if(B||O||z)P.push([B||0,O||0,z||0]),W.push((Z)=>[`translate3d(${Z.map((L)=>SP(L,"px")).join(",")})`,o2(Z,0)]);if(eK(I,(Z,L)=>{if(L==="transform")P.push([Z||""]),W.push((Q)=>[Q,Q===""]);else if(jE.test(L)){if(delete I[L],n.und(Z))return;let Q=kE.test(L)?"px":gE.test(L)?"deg":"";P.push(vK(Z)),W.push(L==="rotate3d"?([q,w,C,D])=>[`rotate3d(${q},${w},${C},${SP(D,Q)})`,o2(D,0)]:(q)=>[`${L}(${q.map((w)=>SP(w,Q)).join(",")})`,o2(q,L.startsWith("scale")?1:0)])}}),P.length)I.transform=new vE(P,W);super(I)}},vE=class extends v2{constructor(B,O){super();this.inputs=B,this.transforms=O,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let B="",O=!0;return JY(this.inputs,(z,I)=>{let P=fK(z[0]),[W,Z]=this.transforms[I](n.arr(P)?P:z.map(fK));B+=" "+W,O=O&&Z}),O?"none":B}observerAdded(B){if(B==1)JY(this.inputs,(O)=>JY(O,(z)=>H_(z)&&jB(z,this)))}observerRemoved(B){if(B==0)JY(this.inputs,(O)=>JY(O,(z)=>H_(z)&&p0(z,this)))}eventObserved(B){if(B.type=="change")this._value=null;u0(this,B)}},fE=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];bK.assign({batchedUpdates:zQ.unstable_batchedUpdates,createStringInterpolator:m2,colors:RJ});var mE=kJ(fE,{applyAnimatedValues:SE,createAnimatedStyle:(B)=>new bE(B),getComponentProps:({scrollTop:B,scrollLeft:O,...z})=>z}),k$=mE.animated;var HG=p(NQ(),1);function Bz(B,O){return function z(){return B.apply(O,arguments)}}var{toString:iE}=Object.prototype,{getPrototypeOf:jP}=Object,a2=((B)=>(O)=>{let z=iE.call(O);return B[z]||(B[z]=z.slice(8,-1).toLowerCase())})(Object.create(null)),gB=(B)=>{return B=B.toLowerCase(),(O)=>a2(O)===B},r2=(B)=>(O)=>typeof O===B,{isArray:XO}=Array,$z=r2("undefined");function nE(B){return B!==null&&!$z(B)&&B.constructor!==null&&!$z(B.constructor)&&d_(B.constructor.isBuffer)&&B.constructor.isBuffer(B)}var JQ=gB("ArrayBuffer");function oE(B){let O;if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView)O=ArrayBuffer.isView(B);else O=B&&B.buffer&&JQ(B.buffer);return O}var sE=r2("string"),d_=r2("function"),QQ=r2("number"),t2=(B)=>B!==null&&typeof B==="object",aE=(B)=>B===!0||B===!1,s2=(B)=>{if(a2(B)!=="object")return!1;let O=jP(B);return(O===null||O===Object.prototype||Object.getPrototypeOf(O)===null)&&!(Symbol.toStringTag in B)&&!(Symbol.iterator in B)},rE=gB("Date"),tE=gB("File"),eE=gB("Blob"),YV=gB("FileList"),KV=(B)=>t2(B)&&d_(B.pipe),_V=(B)=>{let O;return B&&(typeof FormData==="function"&&B instanceof FormData||d_(B.append)&&((O=a2(B))==="formdata"||O==="object"&&d_(B.toString)&&B.toString()==="[object FormData]"))},BV=gB("URLSearchParams"),[$V,HV,OV,XV]=["ReadableStream","Request","Response","Headers"].map(gB),zV=(B)=>B.trim?B.trim():B.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hz(B,O,{allOwnKeys:z=!1}={}){if(B===null||typeof B==="undefined")return;let I,P;if(typeof B!=="object")B=[B];if(XO(B))for(I=0,P=B.length;I<P;I++)O.call(null,B[I],I,B);else{let W=z?Object.getOwnPropertyNames(B):Object.keys(B),Z=W.length,L;for(I=0;I<Z;I++)L=W[I],O.call(null,B[L],L,B)}}function LQ(B,O){O=O.toLowerCase();let z=Object.keys(B),I=z.length,P;while(I-- >0)if(P=z[I],O===P.toLowerCase())return P;return null}var k1=(()=>{if(typeof globalThis!=="undefined")return globalThis;return typeof self!=="undefined"?self:typeof window!=="undefined"?window:global})(),qQ=(B)=>!$z(B)&&B!==k1;function yP(){let{caseless:B}=qQ(this)&&this||{},O={},z=(I,P)=>{let W=B&&LQ(O,P)||P;if(s2(O[W])&&s2(I))O[W]=yP(O[W],I);else if(s2(I))O[W]=yP({},I);else if(XO(I))O[W]=I.slice();else O[W]=I};for(let I=0,P=arguments.length;I<P;I++)arguments[I]&&Hz(arguments[I],z);return O}var IV=(B,O,z,{allOwnKeys:I}={})=>{return Hz(O,(P,W)=>{if(z&&d_(P))B[W]=Bz(P,z);else B[W]=P},{allOwnKeys:I}),B},PV=(B)=>{if(B.charCodeAt(0)===65279)B=B.slice(1);return B},GV=(B,O,z,I)=>{B.prototype=Object.create(O.prototype,I),B.prototype.constructor=B,Object.defineProperty(B,"super",{value:O.prototype}),z&&Object.assign(B.prototype,z)},WV=(B,O,z,I)=>{let P,W,Z,L={};if(O=O||{},B==null)return O;do{P=Object.getOwnPropertyNames(B),W=P.length;while(W-- >0)if(Z=P[W],(!I||I(Z,B,O))&&!L[Z])O[Z]=B[Z],L[Z]=!0;B=z!==!1&&jP(B)}while(B&&(!z||z(B,O))&&B!==Object.prototype);return O},NV=(B,O,z)=>{if(B=String(B),z===void 0||z>B.length)z=B.length;z-=O.length;let I=B.indexOf(O,z);return I!==-1&&I===z},ZV=(B)=>{if(!B)return null;if(XO(B))return B;let O=B.length;if(!QQ(O))return null;let z=new Array(O);while(O-- >0)z[O]=B[O];return z},JV=((B)=>{return(O)=>{return B&&O instanceof B}})(typeof Uint8Array!=="undefined"&&jP(Uint8Array)),QV=(B,O)=>{let I=(B&&B[Symbol.iterator]).call(B),P;while((P=I.next())&&!P.done){let W=P.value;O.call(B,W[0],W[1])}},LV=(B,O)=>{let z,I=[];while((z=B.exec(O))!==null)I.push(z);return I},qV=gB("HTMLFormElement"),RV=(B)=>{return B.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function O(z,I,P){return I.toUpperCase()+P})},ZQ=(({hasOwnProperty:B})=>(O,z)=>B.call(O,z))(Object.prototype),CV=gB("RegExp"),RQ=(B,O)=>{let z=Object.getOwnPropertyDescriptors(B),I={};Hz(z,(P,W)=>{let Z;if((Z=O(P,W,B))!==!1)I[W]=Z||P}),Object.defineProperties(B,I)},wV=(B)=>{RQ(B,(O,z)=>{if(d_(B)&&["arguments","caller","callee"].indexOf(z)!==-1)return!1;let I=B[z];if(!d_(I))return;if(O.enumerable=!1,"writable"in O){O.writable=!1;return}if(!O.set)O.set=()=>{throw Error("Can not rewrite read-only method '"+z+"'")}})},AV=(B,O)=>{let z={},I=(P)=>{P.forEach((W)=>{z[W]=!0})};return XO(B)?I(B):I(String(B).split(O)),z},EV=()=>{},VV=(B,O)=>{return B!=null&&Number.isFinite(B=+B)?B:O};function xV(B){return!!(B&&d_(B.append)&&B[Symbol.toStringTag]==="FormData"&&B[Symbol.iterator])}var FV=(B)=>{let O=new Array(10),z=(I,P)=>{if(t2(I)){if(O.indexOf(I)>=0)return;if(!("toJSON"in I)){O[P]=I;let W=XO(I)?[]:{};return Hz(I,(Z,L)=>{let Q=z(Z,P+1);!$z(Q)&&(W[L]=Q)}),O[P]=void 0,W}}return I};return z(B,0)},DV=gB("AsyncFunction"),MV=(B)=>B&&(t2(B)||d_(B))&&d_(B.then)&&d_(B.catch),CQ=((B,O)=>{if(B)return setImmediate;return O?((z,I)=>{return k1.addEventListener("message",({source:P,data:W})=>{if(P===k1&&W===z)I.length&&I.shift()()},!1),(P)=>{I.push(P),k1.postMessage(z,"*")}})(`axios@${Math.random()}`,[]):(z)=>setTimeout(z)})(typeof setImmediate==="function",d_(k1.postMessage)),UV=typeof queueMicrotask!=="undefined"?queueMicrotask.bind(k1):typeof process!=="undefined"&&process.nextTick||CQ,j={isArray:XO,isArrayBuffer:JQ,isBuffer:nE,isFormData:_V,isArrayBufferView:oE,isString:sE,isNumber:QQ,isBoolean:aE,isObject:t2,isPlainObject:s2,isReadableStream:$V,isRequest:HV,isResponse:OV,isHeaders:XV,isUndefined:$z,isDate:rE,isFile:tE,isBlob:eE,isRegExp:CV,isFunction:d_,isStream:KV,isURLSearchParams:BV,isTypedArray:JV,isFileList:YV,forEach:Hz,merge:yP,extend:IV,trim:zV,stripBOM:PV,inherits:GV,toFlatObject:WV,kindOf:a2,kindOfTest:gB,endsWith:NV,toArray:ZV,forEachEntry:QV,matchAll:LV,isHTMLForm:qV,hasOwnProperty:ZQ,hasOwnProp:ZQ,reduceDescriptors:RQ,freezeMethods:wV,toObjectSet:AV,toCamelCase:RV,noop:EV,toFiniteNumber:VV,findKey:LQ,global:k1,isContextDefined:qQ,isSpecCompliantForm:xV,toJSONObject:FV,isAsyncFn:DV,isThenable:MV,setImmediate:CQ,asap:UV};function zO(B,O,z,I,P){if(Error.call(this),Error.captureStackTrace)Error.captureStackTrace(this,this.constructor);else this.stack=new Error().stack;if(this.message=B,this.name="AxiosError",O&&(this.code=O),z&&(this.config=z),I&&(this.request=I),P)this.response=P,this.status=P.status?P.status:null}j.inherits(zO,Error,{toJSON:function B(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});var wQ=zO.prototype,AQ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((B)=>{AQ[B]={value:B}});Object.defineProperties(zO,AQ);Object.defineProperty(wQ,"isAxiosError",{value:!0});zO.from=(B,O,z,I,P,W)=>{let Z=Object.create(wQ);return j.toFlatObject(B,Z,function L(Q){return Q!==Error.prototype},(L)=>{return L!=="isAxiosError"}),zO.call(Z,B.message,O,z,I,P),Z.cause=B,Z.name=B.name,W&&Object.assign(Z,W),Z};var QY=zO;var e2=null;function kP(B){return j.isPlainObject(B)||j.isArray(B)}function VQ(B){return j.endsWith(B,"[]")?B.slice(0,-2):B}function EQ(B,O,z){if(!B)return O;return B.concat(O).map(function I(P,W){return P=VQ(P),!z&&W?"["+P+"]":P}).join(z?".":"")}function SV(B){return j.isArray(B)&&!B.some(kP)}var TV=j.toFlatObject(j,{},null,function B(O){return/^is[A-Z]/.test(O)});function yV(B,O,z){if(!j.isObject(B))throw new TypeError("target must be an object");O=O||new(e2||FormData),z=j.toFlatObject(z,{metaTokens:!0,dots:!1,indexes:!1},!1,function U(m,S){return!j.isUndefined(S[m])});let I=z.metaTokens,P=z.visitor||w,W=z.dots,Z=z.indexes,Q=(z.Blob||typeof Blob!=="undefined"&&Blob)&&j.isSpecCompliantForm(O);if(!j.isFunction(P))throw new TypeError("visitor must be a function");function q(U){if(U===null)return"";if(j.isDate(U))return U.toISOString();if(!Q&&j.isBlob(U))throw new QY("Blob is not supported. Use a Buffer instead.");if(j.isArrayBuffer(U)||j.isTypedArray(U))return Q&&typeof Blob==="function"?new Blob([U]):Buffer.from(U);return U}function w(U,m,S){let y=U;if(U&&!S&&typeof U==="object"){if(j.endsWith(m,"{}"))m=I?m:m.slice(0,-2),U=JSON.stringify(U);else if(j.isArray(U)&&SV(U)||(j.isFileList(U)||j.endsWith(m,"[]"))&&(y=j.toArray(U)))return m=VQ(m),y.forEach(function b(i,l){!(j.isUndefined(i)||i===null)&&O.append(Z===!0?EQ([m],l,W):Z===null?m:m+"[]",q(i))}),!1}if(kP(U))return!0;return O.append(EQ(S,m,W),q(U)),!1}let C=[],D=Object.assign(TV,{defaultVisitor:w,convertValue:q,isVisitable:kP});function T(U,m){if(j.isUndefined(U))return;if(C.indexOf(U)!==-1)throw Error("Circular reference detected in "+m.join("."));C.push(U),j.forEach(U,function S(y,b){if((!(j.isUndefined(y)||y===null)&&P.call(O,y,j.isString(b)?b.trim():b,m,D))===!0)T(y,m?m.concat(b):[b])}),C.pop()}if(!j.isObject(B))throw new TypeError("data must be an object");return T(B),O}var g$=yV;function xQ(B){let O={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(B).replace(/[!'()~]|%20|%00/g,function z(I){return O[I]})}function FQ(B,O){this._pairs=[],B&&g$(B,this,O)}var DQ=FQ.prototype;DQ.append=function B(O,z){this._pairs.push([O,z])};DQ.toString=function B(O){let z=O?function(I){return O.call(this,I,xQ)}:xQ;return this._pairs.map(function I(P){return z(P[0])+"="+z(P[1])},"").join("&")};var Y7=FQ;function jV(B){return encodeURIComponent(B).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Oz(B,O,z){if(!O)return B;let I=z&&z.encode||jV;if(j.isFunction(z))z={serialize:z};let P=z&&z.serialize,W;if(P)W=P(O,z);else W=j.isURLSearchParams(O)?O.toString():new Y7(O,z).toString(I);if(W){let Z=B.indexOf("#");if(Z!==-1)B=B.slice(0,Z);B+=(B.indexOf("?")===-1?"?":"&")+W}return B}class MQ{constructor(){this.handlers=[]}use(B,O,z){return this.handlers.push({fulfilled:B,rejected:O,synchronous:z?z.synchronous:!1,runWhen:z?z.runWhen:null}),this.handlers.length-1}eject(B){if(this.handlers[B])this.handlers[B]=null}clear(){if(this.handlers)this.handlers=[]}forEach(B){j.forEach(this.handlers,function O(z){if(z!==null)B(z)})}}var gP=MQ;var K7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var UQ=typeof URLSearchParams!=="undefined"?URLSearchParams:Y7;var SQ=typeof FormData!=="undefined"?FormData:null;var TQ=typeof Blob!=="undefined"?Blob:null;var yQ={isBrowser:!0,classes:{URLSearchParams:UQ,FormData:SQ,Blob:TQ},protocols:["http","https","file","blob","url","data"]};var fP={};pC(fP,{origin:()=>bV,navigator:()=>bP,hasStandardBrowserWebWorkerEnv:()=>gV,hasStandardBrowserEnv:()=>kV,hasBrowserEnv:()=>vP});var vP=typeof window!=="undefined"&&typeof document!=="undefined",bP=typeof navigator==="object"&&navigator||void 0,kV=vP&&(!bP||["ReactNative","NativeScript","NS"].indexOf(bP.product)<0),gV=(()=>{return typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts==="function"})(),bV=vP&&window.location.href||"http://localhost";var CK={...fP,...yQ};function mP(B,O){return g$(B,new CK.classes.URLSearchParams,Object.assign({visitor:function(z,I,P,W){if(CK.isNode&&j.isBuffer(z))return this.append(I,z.toString("base64")),!1;return W.defaultVisitor.apply(this,arguments)}},O))}function vV(B){return j.matchAll(/\w+|\[(\w*)]/g,B).map((O)=>{return O[0]==="[]"?"":O[1]||O[0]})}function fV(B){let O={},z=Object.keys(B),I,P=z.length,W;for(I=0;I<P;I++)W=z[I],O[W]=B[W];return O}function mV(B){function O(z,I,P,W){let Z=z[W++];if(Z==="__proto__")return!0;let L=Number.isFinite(+Z),Q=W>=z.length;if(Z=!Z&&j.isArray(P)?P.length:Z,Q){if(j.hasOwnProp(P,Z))P[Z]=[P[Z],I];else P[Z]=I;return!L}if(!P[Z]||!j.isObject(P[Z]))P[Z]=[];if(O(z,I,P[Z],W)&&j.isArray(P[Z]))P[Z]=fV(P[Z]);return!L}if(j.isFormData(B)&&j.isFunction(B.entries)){let z={};return j.forEachEntry(B,(I,P)=>{O(vV(I),P,z,0)}),z}return null}var _7=mV;function hV(B,O,z){if(j.isString(B))try{return(O||JSON.parse)(B),j.trim(B)}catch(I){if(I.name!=="SyntaxError")throw I}return(z||JSON.stringify)(B)}var hP={transitional:K7,adapter:["xhr","http","fetch"],transformRequest:[function B(O,z){let I=z.getContentType()||"",P=I.indexOf("application/json")>-1,W=j.isObject(O);if(W&&j.isHTMLForm(O))O=new FormData(O);if(j.isFormData(O))return P?JSON.stringify(_7(O)):O;if(j.isArrayBuffer(O)||j.isBuffer(O)||j.isStream(O)||j.isFile(O)||j.isBlob(O)||j.isReadableStream(O))return O;if(j.isArrayBufferView(O))return O.buffer;if(j.isURLSearchParams(O))return z.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),O.toString();let L;if(W){if(I.indexOf("application/x-www-form-urlencoded")>-1)return mP(O,this.formSerializer).toString();if((L=j.isFileList(O))||I.indexOf("multipart/form-data")>-1){let Q=this.env&&this.env.FormData;return g$(L?{"files[]":O}:O,Q&&new Q,this.formSerializer)}}if(W||P)return z.setContentType("application/json",!1),hV(O);return O}],transformResponse:[function B(O){let z=this.transitional||hP.transitional,I=z&&z.forcedJSONParsing,P=this.responseType==="json";if(j.isResponse(O)||j.isReadableStream(O))return O;if(O&&j.isString(O)&&(I&&!this.responseType||P)){let Z=!(z&&z.silentJSONParsing)&&P;try{return JSON.parse(O)}catch(L){if(Z){if(L.name==="SyntaxError")throw QY.from(L,QY.ERR_BAD_RESPONSE,this,null,this.response);throw L}}}return O}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:CK.classes.FormData,Blob:CK.classes.Blob},validateStatus:function B(O){return O>=200&&O<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],(B)=>{hP.headers[B]={}});var IO=hP;var dV=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jQ=(B)=>{let O={},z,I,P;return B&&B.split(`
`).forEach(function W(Z){if(P=Z.indexOf(":"),z=Z.substring(0,P).trim().toLowerCase(),I=Z.substring(P+1).trim(),!z||O[z]&&dV[z])return;if(z==="set-cookie")if(O[z])O[z].push(I);else O[z]=[I];else O[z]=O[z]?O[z]+", "+I:I}),O};var kQ=Symbol("internals");function Xz(B){return B&&String(B).trim().toLowerCase()}function B7(B){if(B===!1||B==null)return B;return j.isArray(B)?B.map(B7):String(B)}function cV(B){let O=Object.create(null),z=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,I;while(I=z.exec(B))O[I[1]]=I[2];return O}var lV=(B)=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(B.trim());function dP(B,O,z,I,P){if(j.isFunction(I))return I.call(this,O,z);if(P)O=z;if(!j.isString(O))return;if(j.isString(I))return O.indexOf(I)!==-1;if(j.isRegExp(I))return I.test(O)}function uV(B){return B.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(O,z,I)=>{return z.toUpperCase()+I})}function pV(B,O){let z=j.toCamelCase(" "+O);["get","set","has"].forEach((I)=>{Object.defineProperty(B,I+z,{value:function(P,W,Z){return this[I].call(this,O,P,W,Z)},configurable:!0})})}class zz{constructor(B){B&&this.set(B)}set(B,O,z){let I=this;function P(Z,L,Q){let q=Xz(L);if(!q)throw new Error("header name must be a non-empty string");let w=j.findKey(I,q);if(!w||I[w]===void 0||Q===!0||Q===void 0&&I[w]!==!1)I[w||L]=B7(Z)}let W=(Z,L)=>j.forEach(Z,(Q,q)=>P(Q,q,L));if(j.isPlainObject(B)||B instanceof this.constructor)W(B,O);else if(j.isString(B)&&(B=B.trim())&&!lV(B))W(jQ(B),O);else if(j.isHeaders(B))for(let[Z,L]of B.entries())P(L,Z,z);else B!=null&&P(O,B,z);return this}get(B,O){if(B=Xz(B),B){let z=j.findKey(this,B);if(z){let I=this[z];if(!O)return I;if(O===!0)return cV(I);if(j.isFunction(O))return O.call(this,I,z);if(j.isRegExp(O))return O.exec(I);throw new TypeError("parser must be boolean|regexp|function")}}}has(B,O){if(B=Xz(B),B){let z=j.findKey(this,B);return!!(z&&this[z]!==void 0&&(!O||dP(this,this[z],z,O)))}return!1}delete(B,O){let z=this,I=!1;function P(W){if(W=Xz(W),W){let Z=j.findKey(z,W);if(Z&&(!O||dP(z,z[Z],Z,O)))delete z[Z],I=!0}}if(j.isArray(B))B.forEach(P);else P(B);return I}clear(B){let O=Object.keys(this),z=O.length,I=!1;while(z--){let P=O[z];if(!B||dP(this,this[P],P,B,!0))delete this[P],I=!0}return I}normalize(B){let O=this,z={};return j.forEach(this,(I,P)=>{let W=j.findKey(z,P);if(W){O[W]=B7(I),delete O[P];return}let Z=B?uV(P):String(P).trim();if(Z!==P)delete O[P];O[Z]=B7(I),z[Z]=!0}),this}concat(...B){return this.constructor.concat(this,...B)}toJSON(B){let O=Object.create(null);return j.forEach(this,(z,I)=>{z!=null&&z!==!1&&(O[I]=B&&j.isArray(z)?z.join(", "):z)}),O}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([B,O])=>B+": "+O).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(B){return B instanceof this?B:new this(B)}static concat(B,...O){let z=new this(B);return O.forEach((I)=>z.set(I)),z}static accessor(B){let z=(this[kQ]=this[kQ]={accessors:{}}).accessors,I=this.prototype;function P(W){let Z=Xz(W);if(!z[Z])pV(I,W),z[Z]=!0}return j.isArray(B)?B.forEach(P):P(B),this}}zz.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(zz.prototype,({value:B},O)=>{let z=O[0].toUpperCase()+O.slice(1);return{get:()=>B,set(I){this[z]=I}}});j.freezeMethods(zz);var mK=zz;function Iz(B,O){let z=this||IO,I=O||z,P=mK.from(I.headers),W=I.data;return j.forEach(B,function Z(L){W=L.call(z,W,P.normalize(),O?O.status:void 0)}),P.normalize(),W}function Pz(B){return!!(B&&B.__CANCEL__)}function gQ(B,O,z){QY.call(this,B==null?"canceled":B,QY.ERR_CANCELED,O,z),this.name="CanceledError"}j.inherits(gQ,QY,{__CANCEL__:!0});var N0=gQ;function Gz(B,O,z){let I=z.config.validateStatus;if(!z.status||!I||I(z.status))B(z);else O(new QY("Request failed with status code "+z.status,[QY.ERR_BAD_REQUEST,QY.ERR_BAD_RESPONSE][Math.floor(z.status/100)-4],z.config,z.request,z))}function cP(B){let O=/^([-+\w]{1,25})(:?\/\/|:)/.exec(B);return O&&O[1]||""}function iV(B,O){B=B||10;let z=new Array(B),I=new Array(B),P=0,W=0,Z;return O=O!==void 0?O:1000,function L(Q){let q=Date.now(),w=I[W];if(!Z)Z=q;z[P]=Q,I[P]=q;let C=W,D=0;while(C!==P)D+=z[C++],C=C%B;if(P=(P+1)%B,P===W)W=(W+1)%B;if(q-Z<O)return;let T=w&&q-w;return T?Math.round(D*1000/T):void 0}}var bQ=iV;function nV(B,O){let z=0,I=1000/O,P,W,Z=(q,w=Date.now())=>{if(z=w,P=null,W)clearTimeout(W),W=null;B.apply(null,q)};return[(...q)=>{let w=Date.now(),C=w-z;if(C>=I)Z(q,w);else if(P=q,!W)W=setTimeout(()=>{W=null,Z(P)},I-C)},()=>P&&Z(P)]}var vQ=nV;var PO=(B,O,z=3)=>{let I=0,P=bQ(50,250);return vQ((W)=>{let Z=W.loaded,L=W.lengthComputable?W.total:void 0,Q=Z-I,q=P(Q),w=Z<=L;I=Z;let C={loaded:Z,total:L,progress:L?Z/L:void 0,bytes:Q,rate:q?q:void 0,estimated:q&&L&&w?(L-Z)/q:void 0,event:W,lengthComputable:L!=null,[O?"download":"upload"]:!0};B(C)},z)},lP=(B,O)=>{let z=B!=null;return[(I)=>O[0]({lengthComputable:z,total:B,loaded:I}),O[1]]},uP=(B)=>(...O)=>j.asap(()=>B(...O));var fQ=CK.hasStandardBrowserEnv?((B,O)=>(z)=>{return z=new URL(z,CK.origin),B.protocol===z.protocol&&B.host===z.host&&(O||B.port===z.port)})(new URL(CK.origin),CK.navigator&&/(msie|trident)/i.test(CK.navigator.userAgent)):()=>!0;var mQ=CK.hasStandardBrowserEnv?{write(B,O,z,I,P,W){let Z=[B+"="+encodeURIComponent(O)];j.isNumber(z)&&Z.push("expires="+new Date(z).toGMTString()),j.isString(I)&&Z.push("path="+I),j.isString(P)&&Z.push("domain="+P),W===!0&&Z.push("secure"),document.cookie=Z.join("; ")},read(B){let O=document.cookie.match(new RegExp("(^|;\\s*)("+B+")=([^;]*)"));return O?decodeURIComponent(O[3]):null},remove(B){this.write(B,"",Date.now()-86400000)}}:{write(){},read(){return null},remove(){}};function pP(B){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(B)}function iP(B,O){return O?B.replace(/\/?\/$/,"")+"/"+O.replace(/^\/+/,""):B}function Wz(B,O,z){let I=!pP(O);if(B&&I||z==!1)return iP(B,O);return O}var hQ=(B)=>B instanceof mK?{...B}:B;function bB(B,O){O=O||{};let z={};function I(q,w,C,D){if(j.isPlainObject(q)&&j.isPlainObject(w))return j.merge.call({caseless:D},q,w);else if(j.isPlainObject(w))return j.merge({},w);else if(j.isArray(w))return w.slice();return w}function P(q,w,C,D){if(!j.isUndefined(w))return I(q,w,C,D);else if(!j.isUndefined(q))return I(void 0,q,C,D)}function W(q,w){if(!j.isUndefined(w))return I(void 0,w)}function Z(q,w){if(!j.isUndefined(w))return I(void 0,w);else if(!j.isUndefined(q))return I(void 0,q)}function L(q,w,C){if(C in O)return I(q,w);else if(C in B)return I(void 0,q)}let Q={url:W,method:W,data:W,baseURL:Z,transformRequest:Z,transformResponse:Z,paramsSerializer:Z,timeout:Z,timeoutMessage:Z,withCredentials:Z,withXSRFToken:Z,adapter:Z,responseType:Z,xsrfCookieName:Z,xsrfHeaderName:Z,onUploadProgress:Z,onDownloadProgress:Z,decompress:Z,maxContentLength:Z,maxBodyLength:Z,beforeRedirect:Z,transport:Z,httpAgent:Z,httpsAgent:Z,cancelToken:Z,socketPath:Z,responseEncoding:Z,validateStatus:L,headers:(q,w,C)=>P(hQ(q),hQ(w),C,!0)};return j.forEach(Object.keys(Object.assign({},B,O)),function q(w){let C=Q[w]||P,D=C(B[w],O[w],w);j.isUndefined(D)&&C!==L||(z[w]=D)}),z}var $7=(B)=>{let O=bB({},B),{data:z,withXSRFToken:I,xsrfHeaderName:P,xsrfCookieName:W,headers:Z,auth:L}=O;if(O.headers=Z=mK.from(Z),O.url=Oz(Wz(O.baseURL,O.url,O.allowAbsoluteUrls),B.params,B.paramsSerializer),L)Z.set("Authorization","Basic "+btoa((L.username||"")+":"+(L.password?unescape(encodeURIComponent(L.password)):"")));let Q;if(j.isFormData(z)){if(CK.hasStandardBrowserEnv||CK.hasStandardBrowserWebWorkerEnv)Z.setContentType(void 0);else if((Q=Z.getContentType())!==!1){let[q,...w]=Q?Q.split(";").map((C)=>C.trim()).filter(Boolean):[];Z.setContentType([q||"multipart/form-data",...w].join("; "))}}if(CK.hasStandardBrowserEnv){if(I&&j.isFunction(I)&&(I=I(O)),I||I!==!1&&fQ(O.url)){let q=P&&W&&mQ.read(W);if(q)Z.set(P,q)}}return O};var oV=typeof XMLHttpRequest!=="undefined",dQ=oV&&function(B){return new Promise(function O(z,I){let P=$7(B),W=P.data,Z=mK.from(P.headers).normalize(),{responseType:L,onUploadProgress:Q,onDownloadProgress:q}=P,w,C,D,T,U;function m(){T&&T(),U&&U(),P.cancelToken&&P.cancelToken.unsubscribe(w),P.signal&&P.signal.removeEventListener("abort",w)}let S=new XMLHttpRequest;S.open(P.method.toUpperCase(),P.url,!0),S.timeout=P.timeout;function y(){if(!S)return;let i=mK.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),$Y={data:!L||L==="text"||L==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:i,config:B,request:S};Gz(function jY(ZY){z(ZY),m()},function jY(ZY){I(ZY),m()},$Y),S=null}if("onloadend"in S)S.onloadend=y;else S.onreadystatechange=function i(){if(!S||S.readyState!==4)return;if(S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0))return;setTimeout(y)};if(S.onabort=function i(){if(!S)return;I(new QY("Request aborted",QY.ECONNABORTED,B,S)),S=null},S.onerror=function i(){I(new QY("Network Error",QY.ERR_NETWORK,B,S)),S=null},S.ontimeout=function i(){let l=P.timeout?"timeout of "+P.timeout+"ms exceeded":"timeout exceeded",$Y=P.transitional||K7;if(P.timeoutErrorMessage)l=P.timeoutErrorMessage;I(new QY(l,$Y.clarifyTimeoutError?QY.ETIMEDOUT:QY.ECONNABORTED,B,S)),S=null},W===void 0&&Z.setContentType(null),"setRequestHeader"in S)j.forEach(Z.toJSON(),function i(l,$Y){S.setRequestHeader($Y,l)});if(!j.isUndefined(P.withCredentials))S.withCredentials=!!P.withCredentials;if(L&&L!=="json")S.responseType=P.responseType;if(q)[D,U]=PO(q,!0),S.addEventListener("progress",D);if(Q&&S.upload)[C,T]=PO(Q),S.upload.addEventListener("progress",C),S.upload.addEventListener("loadend",T);if(P.cancelToken||P.signal){if(w=(i)=>{if(!S)return;I(!i||i.type?new N0(null,B,S):i),S.abort(),S=null},P.cancelToken&&P.cancelToken.subscribe(w),P.signal)P.signal.aborted?w():P.signal.addEventListener("abort",w)}let b=cP(P.url);if(b&&CK.protocols.indexOf(b)===-1){I(new QY("Unsupported protocol "+b+":",QY.ERR_BAD_REQUEST,B));return}S.send(W||null)})};var sV=(B,O)=>{let{length:z}=B=B?B.filter(Boolean):[];if(O||z){let I=new AbortController,P,W=function(q){if(!P){P=!0,L();let w=q instanceof Error?q:this.reason;I.abort(w instanceof QY?w:new N0(w instanceof Error?w.message:w))}},Z=O&&setTimeout(()=>{Z=null,W(new QY(`timeout ${O} of ms exceeded`,QY.ETIMEDOUT))},O),L=()=>{if(B)Z&&clearTimeout(Z),Z=null,B.forEach((q)=>{q.unsubscribe?q.unsubscribe(W):q.removeEventListener("abort",W)}),B=null};B.forEach((q)=>q.addEventListener("abort",W));let{signal:Q}=I;return Q.unsubscribe=()=>j.asap(L),Q}},cQ=sV;var aV=function*(B,O){let z=B.byteLength;if(!O||z<O){yield B;return}let I=0,P;while(I<z)P=I+O,yield B.slice(I,P),I=P},rV=async function*(B,O){for await(let z of tV(B))yield*aV(z,O)},tV=async function*(B){if(B[Symbol.asyncIterator]){yield*B;return}let O=B.getReader();try{for(;;){let{done:z,value:I}=await O.read();if(z)break;yield I}}finally{await O.cancel()}},nP=(B,O,z,I)=>{let P=rV(B,O),W=0,Z,L=(Q)=>{if(!Z)Z=!0,I&&I(Q)};return new ReadableStream({async pull(Q){try{let{done:q,value:w}=await P.next();if(q){L(),Q.close();return}let C=w.byteLength;if(z){let D=W+=C;z(D)}Q.enqueue(new Uint8Array(w))}catch(q){throw L(q),q}},cancel(Q){return L(Q),P.return()}},{highWaterMark:2})};var O7=typeof fetch==="function"&&typeof Request==="function"&&typeof Response==="function",uQ=O7&&typeof ReadableStream==="function",eV=O7&&(typeof TextEncoder==="function"?((B)=>(O)=>B.encode(O))(new TextEncoder):async(B)=>new Uint8Array(await new Response(B).arrayBuffer())),pQ=(B,...O)=>{try{return!!B(...O)}catch(z){return!1}},Yx=uQ&&pQ(()=>{let B=!1,O=new Request(CK.origin,{body:new ReadableStream,method:"POST",get duplex(){return B=!0,"half"}}).headers.has("Content-Type");return B&&!O}),lQ=65536,oP=uQ&&pQ(()=>j.isReadableStream(new Response("").body)),H7={stream:oP&&((B)=>B.body)};O7&&((B)=>{["text","arrayBuffer","blob","formData","stream"].forEach((O)=>{!H7[O]&&(H7[O]=j.isFunction(B[O])?(z)=>z[O]():(z,I)=>{throw new QY(`Response type '${O}' is not supported`,QY.ERR_NOT_SUPPORT,I)})})})(new Response);var Kx=async(B)=>{if(B==null)return 0;if(j.isBlob(B))return B.size;if(j.isSpecCompliantForm(B))return(await new Request(CK.origin,{method:"POST",body:B}).arrayBuffer()).byteLength;if(j.isArrayBufferView(B)||j.isArrayBuffer(B))return B.byteLength;if(j.isURLSearchParams(B))B=B+"";if(j.isString(B))return(await eV(B)).byteLength},_x=async(B,O)=>{let z=j.toFiniteNumber(B.getContentLength());return z==null?Kx(O):z},iQ=O7&&(async(B)=>{let{url:O,method:z,data:I,signal:P,cancelToken:W,timeout:Z,onDownloadProgress:L,onUploadProgress:Q,responseType:q,headers:w,withCredentials:C="same-origin",fetchOptions:D}=$7(B);q=q?(q+"").toLowerCase():"text";let T=cQ([P,W&&W.toAbortSignal()],Z),U,m=T&&T.unsubscribe&&(()=>{T.unsubscribe()}),S;try{if(Q&&Yx&&z!=="get"&&z!=="head"&&(S=await _x(w,I))!==0){let $Y=new Request(O,{method:"POST",body:I,duplex:"half"}),jY;if(j.isFormData(I)&&(jY=$Y.headers.get("content-type")))w.setContentType(jY);if($Y.body){let[ZY,SY]=lP(S,PO(uP(Q)));I=nP($Y.body,lQ,ZY,SY)}}if(!j.isString(C))C=C?"include":"omit";let y="credentials"in Request.prototype;U=new Request(O,{...D,signal:T,method:z.toUpperCase(),headers:w.normalize().toJSON(),body:I,duplex:"half",credentials:y?C:void 0});let b=await fetch(U),i=oP&&(q==="stream"||q==="response");if(oP&&(L||i&&m)){let $Y={};["status","statusText","headers"].forEach((qY)=>{$Y[qY]=b[qY]});let jY=j.toFiniteNumber(b.headers.get("content-length")),[ZY,SY]=L&&lP(jY,PO(uP(L),!0))||[];b=new Response(nP(b.body,lQ,ZY,()=>{SY&&SY(),m&&m()}),$Y)}q=q||"text";let l=await H7[j.findKey(H7,q)||"text"](b,B);return!i&&m&&m(),await new Promise(($Y,jY)=>{Gz($Y,jY,{data:l,headers:mK.from(b.headers),status:b.status,statusText:b.statusText,config:B,request:U})})}catch(y){if(m&&m(),y&&y.name==="TypeError"&&/fetch/i.test(y.message))throw Object.assign(new QY("Network Error",QY.ERR_NETWORK,B,U),{cause:y.cause||y});throw QY.from(y,y&&y.code,B,U)}});var sP={http:e2,xhr:dQ,fetch:iQ};j.forEach(sP,(B,O)=>{if(B){try{Object.defineProperty(B,"name",{value:O})}catch(z){}Object.defineProperty(B,"adapterName",{value:O})}});var nQ=(B)=>`- ${B}`,Bx=(B)=>j.isFunction(B)||B===null||B===!1,X7={getAdapter:(B)=>{B=j.isArray(B)?B:[B];let{length:O}=B,z,I,P={};for(let W=0;W<O;W++){z=B[W];let Z;if(I=z,!Bx(z)){if(I=sP[(Z=String(z)).toLowerCase()],I===void 0)throw new QY(`Unknown adapter '${Z}'`)}if(I)break;P[Z||"#"+W]=I}if(!I){let W=Object.entries(P).map(([L,Q])=>`adapter ${L} `+(Q===!1?"is not supported by the environment":"is not available in the build")),Z=O?W.length>1?`since :
`+W.map(nQ).join(`
`):" "+nQ(W[0]):"as no adapter specified";throw new QY("There is no suitable adapter to dispatch the request "+Z,"ERR_NOT_SUPPORT")}return I},adapters:sP};function aP(B){if(B.cancelToken)B.cancelToken.throwIfRequested();if(B.signal&&B.signal.aborted)throw new N0(null,B)}function z7(B){if(aP(B),B.headers=mK.from(B.headers),B.data=Iz.call(B,B.transformRequest),["post","put","patch"].indexOf(B.method)!==-1)B.headers.setContentType("application/x-www-form-urlencoded",!1);return X7.getAdapter(B.adapter||IO.adapter)(B).then(function z(I){return aP(B),I.data=Iz.call(B,B.transformResponse,I),I.headers=mK.from(I.headers),I},function z(I){if(!Pz(I)){if(aP(B),I&&I.response)I.response.data=Iz.call(B,B.transformResponse,I.response),I.response.headers=mK.from(I.response.headers)}return Promise.reject(I)})}var I7="1.8.3";var P7={};["object","boolean","number","function","string","symbol"].forEach((B,O)=>{P7[B]=function z(I){return typeof I===B||"a"+(O<1?"n ":" ")+B}});var oQ={};P7.transitional=function B(O,z,I){function P(W,Z){return"[Axios v"+I7+"] Transitional option '"+W+"'"+Z+(I?". "+I:"")}return(W,Z,L)=>{if(O===!1)throw new QY(P(Z," has been removed"+(z?" in "+z:"")),QY.ERR_DEPRECATED);if(z&&!oQ[Z])oQ[Z]=!0,console.warn(P(Z," has been deprecated since v"+z+" and will be removed in the near future"));return O?O(W,Z,L):!0}};P7.spelling=function B(O){return(z,I)=>{return console.warn(`${I} is likely a misspelling of ${O}`),!0}};function $x(B,O,z){if(typeof B!=="object")throw new QY("options must be an object",QY.ERR_BAD_OPTION_VALUE);let I=Object.keys(B),P=I.length;while(P-- >0){let W=I[P],Z=O[W];if(Z){let L=B[W],Q=L===void 0||Z(L,W,B);if(Q!==!0)throw new QY("option "+W+" must be "+Q,QY.ERR_BAD_OPTION_VALUE);continue}if(z!==!0)throw new QY("Unknown option "+W,QY.ERR_BAD_OPTION)}}var Nz={assertOptions:$x,validators:P7};var Z0=Nz.validators;class Zz{constructor(B){this.defaults=B,this.interceptors={request:new gP,response:new gP}}async request(B,O){try{return await this._request(B,O)}catch(z){if(z instanceof Error){let I={};Error.captureStackTrace?Error.captureStackTrace(I):I=new Error;let P=I.stack?I.stack.replace(/^.+\n/,""):"";try{if(!z.stack)z.stack=P;else if(P&&!String(z.stack).endsWith(P.replace(/^.+\n.+\n/,"")))z.stack+=`
`+P}catch(W){}}throw z}}_request(B,O){if(typeof B==="string")O=O||{},O.url=B;else O=B||{};O=bB(this.defaults,O);let{transitional:z,paramsSerializer:I,headers:P}=O;if(z!==void 0)Nz.assertOptions(z,{silentJSONParsing:Z0.transitional(Z0.boolean),forcedJSONParsing:Z0.transitional(Z0.boolean),clarifyTimeoutError:Z0.transitional(Z0.boolean)},!1);if(I!=null)if(j.isFunction(I))O.paramsSerializer={serialize:I};else Nz.assertOptions(I,{encode:Z0.function,serialize:Z0.function},!0);if(O.allowAbsoluteUrls!==void 0);else if(this.defaults.allowAbsoluteUrls!==void 0)O.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls;else O.allowAbsoluteUrls=!0;Nz.assertOptions(O,{baseUrl:Z0.spelling("baseURL"),withXsrfToken:Z0.spelling("withXSRFToken")},!0),O.method=(O.method||this.defaults.method||"get").toLowerCase();let W=P&&j.merge(P.common,P[O.method]);P&&j.forEach(["delete","get","head","post","put","patch","common"],(T)=>{delete P[T]}),O.headers=mK.concat(W,P);let Z=[],L=!0;this.interceptors.request.forEach(function T(U){if(typeof U.runWhen==="function"&&U.runWhen(O)===!1)return;L=L&&U.synchronous,Z.unshift(U.fulfilled,U.rejected)});let Q=[];this.interceptors.response.forEach(function T(U){Q.push(U.fulfilled,U.rejected)});let q,w=0,C;if(!L){let T=[z7.bind(this),void 0];T.unshift.apply(T,Z),T.push.apply(T,Q),C=T.length,q=Promise.resolve(O);while(w<C)q=q.then(T[w++],T[w++]);return q}C=Z.length;let D=O;w=0;while(w<C){let T=Z[w++],U=Z[w++];try{D=T(D)}catch(m){U.call(this,m);break}}try{q=z7.call(this,D)}catch(T){return Promise.reject(T)}w=0,C=Q.length;while(w<C)q=q.then(Q[w++],Q[w++]);return q}getUri(B){B=bB(this.defaults,B);let O=Wz(B.baseURL,B.url,B.allowAbsoluteUrls);return Oz(O,B.params,B.paramsSerializer)}}j.forEach(["delete","get","head","options"],function B(O){Zz.prototype[O]=function(z,I){return this.request(bB(I||{},{method:O,url:z,data:(I||{}).data}))}});j.forEach(["post","put","patch"],function B(O){function z(I){return function P(W,Z,L){return this.request(bB(L||{},{method:O,headers:I?{"Content-Type":"multipart/form-data"}:{},url:W,data:Z}))}}Zz.prototype[O]=z(),Zz.prototype[O+"Form"]=z(!0)});var Jz=Zz;class rP{constructor(B){if(typeof B!=="function")throw new TypeError("executor must be a function.");let O;this.promise=new Promise(function I(P){O=P});let z=this;this.promise.then((I)=>{if(!z._listeners)return;let P=z._listeners.length;while(P-- >0)z._listeners[P](I);z._listeners=null}),this.promise.then=(I)=>{let P,W=new Promise((Z)=>{z.subscribe(Z),P=Z}).then(I);return W.cancel=function Z(){z.unsubscribe(P)},W},B(function I(P,W,Z){if(z.reason)return;z.reason=new N0(P,W,Z),O(z.reason)})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(B){if(this.reason){B(this.reason);return}if(this._listeners)this._listeners.push(B);else this._listeners=[B]}unsubscribe(B){if(!this._listeners)return;let O=this._listeners.indexOf(B);if(O!==-1)this._listeners.splice(O,1)}toAbortSignal(){let B=new AbortController,O=(z)=>{B.abort(z)};return this.subscribe(O),B.signal.unsubscribe=()=>this.unsubscribe(O),B.signal}static source(){let B;return{token:new rP(function z(I){B=I}),cancel:B}}}var sQ=rP;function tP(B){return function O(z){return B.apply(null,z)}}function eP(B){return j.isObject(B)&&B.isAxiosError===!0}var YG={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(YG).forEach(([B,O])=>{YG[O]=B});var aQ=YG;function rQ(B){let O=new Jz(B),z=Bz(Jz.prototype.request,O);return j.extend(z,Jz.prototype,O,{allOwnKeys:!0}),j.extend(z,O,null,{allOwnKeys:!0}),z.create=function I(P){return rQ(bB(B,P))},z}var yK=rQ(IO);yK.Axios=Jz;yK.CanceledError=N0;yK.CancelToken=sQ;yK.isCancel=Pz;yK.VERSION=I7;yK.toFormData=g$;yK.AxiosError=QY;yK.Cancel=yK.CanceledError;yK.all=function B(O){return Promise.all(O)};yK.spread=tP;yK.isAxiosError=eP;yK.mergeConfig=bB;yK.AxiosHeaders=mK;yK.formToJSON=(B)=>_7(j.isHTMLForm(B)?new FormData(B):B);yK.getAdapter=X7.getAdapter;yK.HttpStatusCode=aQ;yK.default=yK;var G7=yK;function tQ(){return{query:B,touch:O};async function B(z){return(await G7.get(z)).data}async function O(z,I){return(await G7.post(z,I)).data}}var W7=tQ();function GO(B,O){if(B)return;throw O}var o0=p(e(),1);function g1({urls:B,msIntervalSleep:O=1e4,animation:z={duration:1e4},style:I,children:P,...W}){let Z=hY.useState(0),L=n2(B.length,B.map((Q,q)=>({transform:`translateX(${100*(q-Z[0])}%)`,config:z})));return hY.useEffect(()=>{let Q=setInterval(()=>Z[1]((q)=>(q+1)%B.length),O);return()=>clearInterval(Q)},[]),o0.jsxDEV(o0.Fragment,{children:o0.jsxDEV("div",{style:{borderRadius:10,boxShadow:GB,position:"relative",overflowX:"hidden",overflowY:"hidden",...I},...W,children:[L.map((Q,q)=>o0.jsxDEV(o0.Fragment,{children:o0.jsxDEV(k$.div,{style:{...Q,position:"absolute",width:"100%",height:"100%",flex:1,backgroundImage:`url(${B[q]})`,backgroundSize:"cover",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat"}},q,!1,void 0,this)},void 0,!1,void 0,this)),o0.jsxDEV("div",{style:{position:"relative",zIndex:"2",width:"100%",height:"100%",flex:1},children:P},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var eQ=p(e(),1);var Qz=p(e(),1);function YL({msDelay:B=0,animation:O={duration:15000},style:z,children:I,...P}){let W="0",Z="1",L=OO(()=>({opacity:W,delay:B}));return hY.useEffect(()=>{L[1].start({opacity:Z,config:O});return},[]),Qz.jsxDEV(Qz.Fragment,{children:Qz.jsxDEV(k$.div,{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",...z,...L[0]},...P,children:I},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var oY=["#0C0527","#FAF6F6","#F1D550"];var wK=["Konkhmer Sleokchher","Core Sans A","Maria"];var GB="rgba(0, 0, 0, 0.05) 0px 0px 0px 1px";var Lz=p(e(),1);function N7({style:B,children:O,...z}){return Lz.jsxDEV(Lz.Fragment,{children:Lz.jsxDEV("button",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",fontSize:"1em",fontWeight:"normal",fontFamily:wK[1],color:oY[1],boxShadow:GB,background:oY[0],padding:5,borderRadius:5,width:"100%",height:"auto",flexGrow:1,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var qz=p(e(),1);function b1({style:B,...O}){return qz.jsxDEV(qz.Fragment,{children:qz.jsxDEV("input",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,...B},...O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Rz=p(e(),1);function Z7({style:B,children:O,...z}){return Rz.jsxDEV(Rz.Fragment,{children:Rz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:wK[1],color:oY[0],...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Cz=p(e(),1);function J7({style:B,children:O,...z}){return Cz.jsxDEV(Cz.Fragment,{children:Cz.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:wK[1],color:oY[0],boxShadow:GB,padding:20,borderRadius:5,gap:20,background:"white",...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var vB=p(e(),1);function _L({sections:B,...O}){return vB.jsxDEV(vB.Fragment,{children:vB.jsxDEV(Q7,{...O,children:vB.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",flex:"1"},children:[vB.jsxDEV(KL,{children:B[0]},void 0,!1,void 0,this),vB.jsxDEV(KL,{children:B[1]},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function KL({style:B,children:O,...z}){return vB.jsxDEV(vB.Fragment,{children:vB.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",flex:"1",...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var fB=p(e(),1);function BL({sections:B,...O}){return fB.jsxDEV(fB.Fragment,{children:fB.jsxDEV(Q7,{...O,children:[fB.jsxDEV(_G,{children:B[0]},void 0,!1,void 0,this),fB.jsxDEV(_G,{children:B[1]},void 0,!1,void 0,this),fB.jsxDEV(_G,{children:B[2]},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}function _G({style:B,children:O,...z}){return fB.jsxDEV(fB.Fragment,{children:fB.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",flex:1,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var v1=p(e(),1);function Q7({navbar:B,footer:O,style:z,children:I,...P}){return v1.jsxDEV(v1.Fragment,{children:v1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",width:"100vw",height:"100vh",background:"white",...z},...P,children:v1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",minWidth:1024,maxWidth:1440,width:"100%",height:"100%",flex:1,paddingLeft:64,paddingRight:64},children:[B,v1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",flexGrow:1,width:"100%",height:"100%"},children:I},void 0,!1,void 0,this),O]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var wz=p(e(),1);function BG({style:B,children:O,...z}){return wz.jsxDEV(wz.Fragment,{children:wz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:10,gap:10,...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var mB=p(e(),1);function WO({icon:B,iconStyle:O,childStyle:z,animation:I,fontSizeOnMouseEnter:P="0.6em",fontSizeOnMouseLeave:W="0.7em",style:Z,children:L,...Q}){let q=OO(()=>({fontSize:W}));return mB.jsxDEV(mB.Fragment,{children:mB.jsxDEV("div",{style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"8px",gap:"5px",textDecorationLine:"none",...Z},...Q,children:[B?mB.jsxDEV(mB.Fragment,{children:mB.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",backgroundImage:`url(${B})`,backgroundPositionX:"center",backgroundPositionY:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"15px",aspectRatio:"1 / 1",...O}},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,L?mB.jsxDEV(mB.Fragment,{children:mB.jsxDEV(k$.div,{onMouseEnter:()=>{q[1].start({fontSize:P,config:I});return},onMouseLeave:()=>{q[1].start({fontSize:W,config:I});return},style:{fontWeight:"normal",fontFamily:wK[1],color:oY[0],...q[0],...z},children:L},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var Az=p(e(),1);function $L({style:B,...O}){return Az.jsxDEV(Az.Fragment,{children:Az.jsxDEV(L7,{url:yI,style:{width:"25px",...B},...O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var b$=p(e(),1);function HL({to:B,style:O,children:z,...I}){return b$.jsxDEV(b$.Fragment,{children:b$.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:10,position:"relative",background:oY[0],borderRadius:"10px",...O},children:[b$.jsxDEV($L,{style:{position:"absolute",right:"100%",bottom:"100%"}},void 0,!1,void 0,this),b$.jsxDEV(F_,{to:B,children:b$.jsxDEV(WO,{childStyle:{color:oY[1]},children:z},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var NO=p(e(),1);function OL({style:B,...O}){return NO.jsxDEV(NO.Fragment,{children:NO.jsxDEV(F_,{to:"/",style:{display:"contents"},children:NO.jsxDEV(q7,{url:TI,style:{cursor:"pointer",width:"150px",aspectRatio:"2 / 1",...B},...O},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var c_=p(e(),1);function XL({materials:B,materialFocus:O,toggled:z,style:I,children:P,...W}){return c_.jsxDEV(c_.Fragment,{children:c_.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...I},...W,children:[c_.jsxDEV("div",{onClick:()=>z[1](!0),style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:wK[1],color:oY[0],cursor:"pointer"},children:P},void 0,!1,void 0,this),z[0]?c_.jsxDEV(c_.Fragment,{children:c_.jsxDEV("div",{onMouseLeave:()=>z[1](!1),style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"120%",gap:20,padding:10,boxShadow:GB},children:B[0].map((Z)=>c_.jsxDEV(c_.Fragment,{children:c_.jsxDEV(F_,{to:"/show_room",onClick:()=>O[1](Z),children:c_.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"0.75em",fontWeight:"normal",fontFamily:wK[1],color:oY[0],cursor:"pointer"},children:Z},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var Ez=p(e(),1);function $G({materials:B,materialFocus:O,products:z,productFocus:I,user:P,userIsSignedIn:W}){let Z=hY.useState(!1),L=hY.useState(!1),Q=hY.useState("");return Ez.jsxDEV(Ez.Fragment,{children:Ez.jsxDEV(zL,{materials:B,materialFocus:O,materialsDropDownButtonToggled:Z,products:z,productFocus:I,searchBarToggled:L,searchBarInput:Q,user:P,userIsSignedIn:W},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Vz=p(e(),1);function IL({products:B,productFocus:O,...z}){let I=hY.useState(!1),P=hY.useState(""),W=hY.useState([]);return Vz.jsxDEV(Vz.Fragment,{children:Vz.jsxDEV(PL,{products:B,productFocus:O,toggled:I,input:P,suggestions:W,...z},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var D_=p(e(),1);function PL({products:B,productFocus:O,toggled:z,input:I,suggestions:P,style:W,...Z}){return hY.useEffect(()=>{let L=I[0];if(L.trim().length===0){z[1](!0);return}let Q=B[0];Q.map((q)=>({...q,score:HG.get(L,q.name?.toLocaleLowerCase()||"")})).sort((q,w)=>q.score-w.score).slice(0,10),P[1](Q),z[1](!0);return},[I[0]]),D_.jsxDEV(D_.Fragment,{children:D_.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",width:"100%",height:"auto",flex:"1",...W},...Z,children:[D_.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",boxShadow:GB,padding:10,flex:1,gap:10},children:[D_.jsxDEV(L7,{url:jI,style:{width:"15px"}},void 0,!1,void 0,this),D_.jsxDEV("input",{value:I[0],onChange:(L)=>I[1](L.target.value),style:{all:"unset",display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,fontSize:"0.75em",fontWeight:"normal",fontFamily:wK[1]}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),z[0]?D_.jsxDEV(D_.Fragment,{children:D_.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",position:"absolute",top:"100%",width:"100%",height:"auto",flex:1,boxShadow:GB,background:"white"},children:P[0].map((L)=>D_.jsxDEV(D_.Fragment,{children:D_.jsxDEV(GL,{to:"/product",products:B,productFocus:O,suggested:L},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var s0=p(e(),1);function WL({username:B,password:O,response:z,user:I,userIsSignedIn:P,onValidation:W,onSignIn:Z,...L}){return s0.jsxDEV(s0.Fragment,{children:s0.jsxDEV(J7,{...L,children:[s0.jsxDEV(Z7,{children:z[0]},void 0,!1,void 0,this),s0.jsxDEV(b1,{value:B[0],placeholder:"Username",onChange:(Q)=>B[1](Q.target.value)},void 0,!1,void 0,this),s0.jsxDEV(b1,{value:O[0],placeholder:"Password",onChange:(Q)=>O[1](Q.target.value)},void 0,!1,void 0,this),s0.jsxDEV(N7,{onClick:async()=>{let Q,q;if([Q,q]=await W(B[0],O[0]),Q===!1){z[1](q);return}if([Q,q]=await Z(B[0],O[0]),Q===!1){z[1](q);return}z[1](null);return},children:"Sign In"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var WB=p(e(),1);function NL({username:B,password:O,email:z,response:I,onValidation:P,onSignUp:W,...Z}){return WB.jsxDEV(WB.Fragment,{children:WB.jsxDEV(J7,{...Z,children:[I[0]?WB.jsxDEV(WB.Fragment,{children:WB.jsxDEV(Z7,{children:I[0]},void 0,!1,void 0,this)},void 0,!1,void 0,this):void 0,WB.jsxDEV(b1,{value:z[0],placeholder:"Email",onChange:(L)=>z[1](L.target.value)},void 0,!1,void 0,this),WB.jsxDEV(b1,{value:B[0],placeholder:"Username",onChange:(L)=>B[1](L.target.value)},void 0,!1,void 0,this),WB.jsxDEV(b1,{value:O[0],placeholder:"Password",onChange:(L)=>O[1](L.target.value)},void 0,!1,void 0,this),WB.jsxDEV(N7,{onClick:async()=>{let L,Q;if([L,Q]=await P(B[0],O[0],z[0]),L===!1){I[1](Q);return}if([L,Q]=await W(B[0],O[0],z[0]),L===!1){I[1](Q);return}I[1](null);return},children:"Sign Up"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var hB=p(e(),1);function ZL({user:B,userIsSignedIn:O,...z}){let I=hY.useState(!1),P=hY.useState(!1),W=hY.useState(!1),Z=hY.useState(""),L=hY.useState(""),Q=hY.useState(""),q=hY.useState(null);return hB.jsxDEV(hB.Fragment,{children:hB.jsxDEV(JL,{toggled:I,signUpToggled:P,signInToggled:W,signUpForm:hB.jsxDEV(hB.Fragment,{children:hB.jsxDEV(NL,{username:Z,password:L,email:Q,response:q,onValidation:async(w,C,D)=>{try{return GO(w.trim().length!==0,""),GO(C.trim().length!==0,""),GO(D.trim().length!==0,""),[!0,null]}catch(T){return[!1,String(T)]}},onSignUp:async(w,C,D)=>{if((await W7.touch("/username_is_available",{username:w})).success){let T=await W7.touch("/sign_up",{username:w,password:C,email:D});if(T)return[!1,T];return[!0,null]}return[!1,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),signInForm:hB.jsxDEV(hB.Fragment,{children:hB.jsxDEV(WL,{username:Z,password:L,response:q,user:B,userIsSignedIn:O,onValidation:async(w,C)=>{try{return GO(w.trim().length!==0,""),GO(C.trim().length!==0,""),[!0,null]}catch(D){return[!1,String(D)]}},onSignIn:async(w,C)=>{let D=await W7.touch("/sign_in",{username:w,password:C});if(D)return[!1,D];return[!0,null]}},void 0,!1,void 0,this)},void 0,!1,void 0,this),...z},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var f1=p(e(),1);function JL({toggled:B,signUpToggled:O,signInToggled:z,signUpForm:I,signInForm:P,style:W,...Z}){return f1.jsxDEV(f1.Fragment,{children:f1.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative",...W},...Z,children:[f1.jsxDEV(WO,{onClick:()=>{B[1](!0),z[1](!1),O[1](!0);return},children:"Sign Up"},void 0,!1,void 0,this),f1.jsxDEV("div",{onClick:()=>{B[1](!0),z[1](!0),z[1](!1)},style:{},children:"Sign In"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var a0=p(e(),1);function GL({products:B,productFocus:O,suggested:z,to:I,style:P,...W}){return a0.jsxDEV(a0.Fragment,{children:a0.jsxDEV(F_,{style:{display:"contents"},to:I,children:a0.jsxDEV("div",{onClick:()=>{let L=B[0].filter((Q)=>Q.name===z?.name).at(0)||null;if(L)O[1](L);return},style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,padding:8,cursor:"pointer",...P},...W,children:[a0.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:oY[0],fontSize:"1em",fontWeight:"normal",fontFamily:wK[1]},children:z.name},void 0,!1,void 0,this),a0.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:oY[0],fontSize:"1em",fontWeight:"normal",fontFamily:wK[1]},children:["£",z.price.toFixed(2).toString()]},void 0,!0,void 0,this),a0.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:1,color:oY[0],fontSize:"1em",fontWeight:"normal",fontFamily:wK[1]},children:[z.stock.toFixed(0)," left"]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var M_=p(e(),1);function zL({materials:B,materialFocus:O,materialsDropDownButtonToggled:z,products:I,productFocus:P,searchBarToggled:W,searchBarInput:Z,user:L,userIsSignedIn:Q,style:q,...w}){return M_.jsxDEV(M_.Fragment,{children:M_.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",height:"auto",flex:1,paddingTop:30,paddingBottom:30,gap:40,zIndex:2000,...q},...w,children:[M_.jsxDEV(OL,{},void 0,!1,void 0,this),M_.jsxDEV(BG,{children:[M_.jsxDEV(HL,{to:"/for_you",children:"For You"},void 0,!1,void 0,this),M_.jsxDEV(XL,{materials:B,materialFocus:O,toggled:z},void 0,!1,void 0,this)]},void 0,!0,void 0,this),M_.jsxDEV(IL,{products:I,productFocus:P},void 0,!1,void 0,this),M_.jsxDEV(BG,{children:[M_.jsxDEV(F_,{to:"/basket",children:M_.jsxDEV(WO,{children:"Basket"},void 0,!1,void 0,this)},void 0,!1,void 0,this),M_.jsxDEV(ZL,{user:L,userIsSignedIn:Q},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var cY=p(e(),1);function QL({imageUrls:B,...O}){return cY.jsxDEV(cY.Fragment,{children:cY.jsxDEV(_L,{sections:[cY.jsxDEV(cY.Fragment,{children:cY.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"start",width:"100%",gap:"10px"},children:[cY.jsxDEV(Ox,{},void 0,!1,void 0,this),cY.jsxDEV(OG,{heading:"Choose a Style",content:"Select your preferred architectural or design style for a tailored look."},void 0,!1,void 0,this),cY.jsxDEV(OG,{heading:"Instant Visuals",content:"See photorealistic rendering of how materials can be used in your home."},void 0,!1,void 0,this),cY.jsxDEV(OG,{heading:"Confidence",content:"Visualise your project before purchasing... blending creativity with sustainability."},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),cY.jsxDEV(cY.Fragment,{children:cY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%"},children:[cY.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",gap:20},children:[cY.jsxDEV(g1,{style:{width:200,aspectRatio:1},urls:B,msIntervalSleep:15000,animation:{duration:3000}},void 0,!1,void 0,this),cY.jsxDEV(g1,{style:{width:200,aspectRatio:1},urls:B,msIntervalSleep:20000,animation:{duration:3000}},void 0,!1,void 0,this),cY.jsxDEV(g1,{style:{width:200,aspectRatio:1},urls:B,msIntervalSleep:25000,animation:{duration:3000}},void 0,!1,void 0,this)]},void 0,!0,void 0,this),cY.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:600},children:cY.jsxDEV(g1,{style:{width:400,height:600},urls:B,msIntervalSleep:30000,animation:{duration:3000}},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)],...O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function Ox({style:B,...O}){return cY.jsxDEV(cY.Fragment,{children:cY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"3em",gap:"20px",...B},...O,children:[cY.jsxDEV(J0,{style:{textWrap:"nowrap"},children:"Coming Soon..."},void 0,!1,void 0,this),cY.jsxDEV(J0,{style:{textWrap:"nowrap",color:oY[2]},children:"For You"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}function OG({heading:B,content:O,style:z,...I}){return cY.jsxDEV(cY.Fragment,{children:cY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",...z},...I,children:[cY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"start",width:"100%",height:"auto"},children:cY.jsxDEV(J0,{style:{color:oY[2],fontSize:"2em"},children:B},void 0,!1,void 0,this)},void 0,!1,void 0,this),cY.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"start",width:"100%",height:"auto"},children:cY.jsxDEV(J0,{style:{fontSize:"1em"},children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)}var OK=p(e(),1);function LL({imageCarouselUrls:B,imageCarouselMsIntervalSleep:O,imageCarouselAnimation:z,heading:I,subHeadings:P,cards:W=[],...Z}){return OK.jsxDEV(OK.Fragment,{children:OK.jsxDEV(BL,{sections:[OK.jsxDEV(OK.Fragment,{children:OK.jsxDEV(g1,{style:{width:"100%",height:"auto",flex:"1",margin:"10px"},urls:B,msIntervalSleep:O,animation:z,children:OK.jsxDEV(YL,{msDelay:1000,animation:{duration:1000},style:{width:"100%"},children:OK.jsxDEV(J0,{style:{fontSize:"9em",color:oY[0]},children:I},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),OK.jsxDEV(OK.Fragment,{children:OK.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto",gap:"10px"},children:P.map((L)=>OK.jsxDEV(OK.Fragment,{children:OK.jsxDEV(J0,{style:{fontSize:"4em",color:oY[2],paddingLeft:"30px",paddingRight:"30px"},children:L},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this),OK.jsxDEV(OK.Fragment,{children:OK.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"start",width:"100%",height:"auto",flex:"1"},children:W.map((L)=>OK.jsxDEV(OK.Fragment,{children:OK.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",width:"100%",height:"auto",flex:"1",padding:"30px"},children:[OK.jsxDEV(J0,{style:{fontSize:"2em",color:oY[2],width:"100%",justifyContent:"start",paddingBottom:"20px"},children:L.heading},void 0,!1,void 0,this),OK.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center"},children:L.content.map((Q)=>OK.jsxDEV(OK.Fragment,{children:OK.jsxDEV(J0,{style:{fontSize:"0.75em",paddingTop:"5px",paddingBottom:"5px"},children:Q},void 0,!1,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this))},void 0,!1,void 0,this)},void 0,!1,void 0,this)],...Z},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var xz=p(e(),1);function L7({style:B,children:O,...z}){return xz.jsxDEV(xz.Fragment,{children:xz.jsxDEV(q7,{style:{aspectRatio:"1 / 1",...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var Fz=p(e(),1);function q7({url:B,style:O,children:z,...I}){return Fz.jsxDEV(Fz.Fragment,{children:Fz.jsxDEV("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundImage:`url(${B})`,backgroundSize:"contain",backgroundPositionX:"center",backgroundPositionY:"center",backgroundRepeat:"no-repeat",...O},...I,children:z},void 0,!1,void 0,this)},void 0,!1,void 0,this)}var qL=p(e(),1);var RL=p(e(),1);var CL=p(e(),1);var wL=p(e(),1);var AL=p(e(),1);var EL=p(e(),1);var VL=p(e(),1);var Dz=p(e(),1);function J0({style:B,children:O,...z}){return Dz.jsxDEV(Dz.Fragment,{children:Dz.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",fontSize:"1em",fontWeight:"normal",fontFamily:wK[1],...B},...z,children:O},void 0,!1,void 0,this)},void 0,!1,void 0,this)}function xL(B){let O=document.getElementById("root");if(O===null)throw"ERR_MISSING_ROOT_ELEMENT";XG.createRoot(O).render(B)}var LK=p(e(),1);function Xx(){let B=hY.useState([]),O=hY.useState(""),z=hY.useState([]),I=hY.useState(null),P=hY.useState(null),W=hY.useState(!1);return LK.jsxDEV(LK.Fragment,{children:LK.jsxDEV(F2,{children:LK.jsxDEV(V2,{children:[LK.jsxDEV(aH,{path:"/",element:LK.jsxDEV(LK.Fragment,{children:LK.jsxDEV(LL,{imageCarouselUrls:[d0,d0,d0],imageCarouselMsIntervalSleep:3000,imageCarouselAnimation:{duration:30000},heading:"OFFCUTS",subHeadings:["Revive.","Reuse.","Rebuild."],cards:[{heading:"Why Offcuts",content:["Sustainable Solutions: Divert construction waste from landfills while supporting eco-friendly practices.","Affordable Materials: Access high-quality reclaimed materials at a fraction of the cost.","Fast & Easy: List, buy, or request lefttover materials with ease."]},{heading:"For Contractors",content:["Turn your surplus into profit with quick pickups and a seamless listing process."]},{heading:"For Buyers",content:["Find unique, sustainable materials for your next project -- big or small."]}],navbar:LK.jsxDEV(LK.Fragment,{children:LK.jsxDEV($G,{materials:B,materialFocus:O,products:z,productFocus:I,user:P,userIsSignedIn:W},void 0,!1,void 0,this)},void 0,!1,void 0,this),footer:LK.jsxDEV(LK.Fragment,{children:LK.jsxDEV("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",width:"100%",height:"auto"},children:"TODO"},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this),LK.jsxDEV(aH,{path:"/for_you",element:LK.jsxDEV(LK.Fragment,{children:LK.jsxDEV(QL,{navbar:LK.jsxDEV(LK.Fragment,{children:LK.jsxDEV($G,{materials:B,materialFocus:O,products:z,productFocus:I,user:P,userIsSignedIn:W},void 0,!1,void 0,this)},void 0,!1,void 0,this),imageUrls:[d0,d0,d0,d0]},void 0,!1,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)},void 0,!1,void 0,this)}xL(LK.jsxDEV(Xx,{},void 0,!1,void 0,this));

//# debugId=DC23E0C8D1A7EED664756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi5cXC4uXFxub2RlX21vZHVsZXNcXHJlYWN0XFxjanNcXHJlYWN0LmRldmVsb3BtZW50LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxzY2hlZHVsZXJcXGNqc1xcc2NoZWR1bGVyLmRldmVsb3BtZW50LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdC1kb21cXGNqc1xccmVhY3QtZG9tLmRldmVsb3BtZW50LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdC1kb21cXGluZGV4LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdC1kb21cXGNqc1xccmVhY3QtZG9tLWNsaWVudC5kZXZlbG9wbWVudC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xccmVhY3QtZG9tXFxjbGllbnQuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXHJlYWN0LXJvdXRlclxcbm9kZV9tb2R1bGVzXFxjb29raWVcXGRpc3RcXGluZGV4LmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxmYXN0ZXN0LWxldmVuc2h0ZWluXFxtb2QuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGZhc3QtbGV2ZW5zaHRlaW5cXGxldmVuc2h0ZWluLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxyZWFjdFxcY2pzXFxyZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMiLCAibW9kLnRzeCIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xccmVhY3Qtcm91dGVyXFxkaXN0XFxkZXZlbG9wbWVudFxcY2h1bmstSzZDU0VYUE0ubWpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxAcmVhY3Qtc3ByaW5nXFxyYWZ6XFxkaXN0XFxyZWFjdC1zcHJpbmdfcmFmei5tb2Rlcm4ubWpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxAcmVhY3Qtc3ByaW5nXFxzaGFyZWRcXGRpc3RcXHJlYWN0LXNwcmluZ19zaGFyZWQubW9kZXJuLm1qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcQHJlYWN0LXNwcmluZ1xcY29yZVxcZGlzdFxccmVhY3Qtc3ByaW5nX2NvcmUubW9kZXJuLm1qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcQHJlYWN0LXNwcmluZ1xcYW5pbWF0ZWRcXGRpc3RcXHJlYWN0LXNwcmluZ19hbmltYXRlZC5tb2Rlcm4ubWpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxAcmVhY3Qtc3ByaW5nXFx3ZWJcXGRpc3RcXHJlYWN0LXNwcmluZ193ZWIubW9kZXJuLm1qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcYmluZC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcdXRpbHMuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXEF4aW9zRXJyb3IuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXG51bGwuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHRvRm9ybURhdGEuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXEF4aW9zVVJMU2VhcmNoUGFyYW1zLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxidWlsZFVSTC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY29yZVxcSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxkZWZhdWx0c1xcdHJhbnNpdGlvbmFsLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcYnJvd3NlclxcY2xhc3Nlc1xcVVJMU2VhcmNoUGFyYW1zLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcYnJvd3NlclxcY2xhc3Nlc1xcRm9ybURhdGEuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXHBsYXRmb3JtXFxicm93c2VyXFxjbGFzc2VzXFxCbG9iLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcYnJvd3NlclxcaW5kZXguanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXHBsYXRmb3JtXFxjb21tb25cXHV0aWxzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxwbGF0Zm9ybVxcaW5kZXguanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHRvVVJMRW5jb2RlZEZvcm0uanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXGZvcm1EYXRhVG9KU09OLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxkZWZhdWx0c1xcaW5kZXguanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHBhcnNlSGVhZGVycy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY29yZVxcQXhpb3NIZWFkZXJzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjb3JlXFx0cmFuc2Zvcm1EYXRhLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjYW5jZWxcXGlzQ2FuY2VsLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjYW5jZWxcXENhbmNlbGVkRXJyb3IuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXHNldHRsZS5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xccGFyc2VQcm90b2NvbC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcc3BlZWRvbWV0ZXIuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHRocm90dGxlLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxwcm9ncmVzc0V2ZW50UmVkdWNlci5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcaXNVUkxTYW1lT3JpZ2luLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxjb29raWVzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxpc0Fic29sdXRlVVJMLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxjb21iaW5lVVJMcy5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY29yZVxcYnVpbGRGdWxsUGF0aC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcY29yZVxcbWVyZ2VDb25maWcuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXHJlc29sdmVDb25maWcuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGFkYXB0ZXJzXFx4aHIuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXGNvbXBvc2VTaWduYWxzLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFx0cmFja1N0cmVhbS5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcYWRhcHRlcnNcXGZldGNoLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxhZGFwdGVyc1xcYWRhcHRlcnMuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXGRpc3BhdGNoUmVxdWVzdC5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcZW52XFxkYXRhLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFx2YWxpZGF0b3IuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGNvcmVcXEF4aW9zLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxjYW5jZWxcXENhbmNlbFRva2VuLmpzIiwgIi4uXFwuLlxcbm9kZV9tb2R1bGVzXFxheGlvc1xcbGliXFxoZWxwZXJzXFxzcHJlYWQuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGhlbHBlcnNcXGlzQXhpb3NFcnJvci5qcyIsICIuLlxcLi5cXG5vZGVfbW9kdWxlc1xcYXhpb3NcXGxpYlxcaGVscGVyc1xcSHR0cFN0YXR1c0NvZGUuanMiLCAiLi5cXC4uXFxub2RlX21vZHVsZXNcXGF4aW9zXFxsaWJcXGF4aW9zLmpzIiwgImNvbW1vblxcc2VydmVyLnRzIiwgImNvbW1vblxcY29uc3RhbnRcXGJyaWRnZS50cyIsICJjb21tb25cXHV0aWxcXHJlcXVpcmUudHMiLCAiY29tcG9uZW50XFxhbmltYXRpb25cXGltYWdlX2Nhcm91c2VsLnRzeCIsICJjb21wb25lbnRcXGFuaW1hdGlvblxccmV2ZWFsLnRzeCIsICJjb21wb25lbnRcXGNvbnN0YW50XFxjb2xvci50c3giLCAiY29tcG9uZW50XFxjb25zdGFudFxcZm9udC50c3giLCAiY29tcG9uZW50XFxjb25zdGFudFxcc2hhZG93LnRzeCIsICJjb21wb25lbnRcXGZvcm1cXGZvcm1fYnV0dG9uLnRzeCIsICJjb21wb25lbnRcXGZvcm1cXGZvcm1faW5wdXQudHN4IiwgImNvbXBvbmVudFxcZm9ybVxcZm9ybV9tZXNzYWdlLnRzeCIsICJjb21wb25lbnRcXGZvcm1cXGZvcm0udHN4IiwgImNvbXBvbmVudFxcbGF5b3V0XFxwYWdlX3dpdGhfMl9ob3Jpem9udGFsX3NlY3Rpb25zLnRzeCIsICJjb21wb25lbnRcXGxheW91dFxccGFnZV93aXRoXzNfdmVydGljYWxfc2VjdGlvbnMudHN4IiwgImNvbXBvbmVudFxcbGF5b3V0XFxwYWdlLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X2J1dHRvbl9ncm91cC50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9idXR0b24udHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfY2FsbF90b19hY3Rpb25fYnV0dG9uX2ljb24udHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfY2FsbF90b19hY3Rpb25fYnV0dG9uLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X2xvZ28udHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfbWF0ZXJpYWxzX2Ryb3BfZG93bl9idXR0b24udHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfcGFydGlhbF9idWlsZC50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9zZWFyY2hfYmFyX3BhcnRpYWxfYnVpbGQudHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfc2VhcmNoX2Jhci50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdl9zaWduX2luX2Zvcm0udHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfc2lnbl91cF9mb3JtLnRzeCIsICJjb21wb25lbnRcXG5hdlxcbmF2X3NpZ25lcl9kcm9wX2Rvd25fYnV0dG9uX3BhcnRpYWxfYnVpbGQudHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfc2lnbmVyX2Ryb3BfZG93bl9idXR0b24udHN4IiwgImNvbXBvbmVudFxcbmF2XFxuYXZfc3VnZ2VzdGlvbi50c3giLCAiY29tcG9uZW50XFxuYXZcXG5hdi50c3giLCAiY29tcG9uZW50XFxwYWdlXFxmb3JfeW91X3BhZ2UudHN4IiwgImNvbXBvbmVudFxccGFnZVxcaG9tZV9wYWdlLnRzeCIsICJjb21wb25lbnRcXHNwcml0ZVxcc3ByaXRlX2ljb24udHN4IiwgImNvbXBvbmVudFxcc3ByaXRlXFxzcHJpdGUudHN4IiwgImNvbXBvbmVudFxcdHlwb2dyYXBoeVxcdHlwb2dyYXBoeS50c3giLCAiY29tcG9uZW50XFx1dGlsXFxyZW5kZXIudHN4IiwgImFwcC50c3giXSwKICAic291cmNlc0NvbnRlbnQiOiBbCiAgICAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gZGVmaW5lRGVwcmVjYXRpb25XYXJuaW5nKG1ldGhvZE5hbWUsIGluZm8pIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgIFwiJXMoLi4uKSBpcyBkZXByZWNhdGVkIGluIHBsYWluIEphdmFTY3JpcHQgUmVhY3QgY2xhc3Nlcy4gJXNcIixcbiAgICAgICAgICAgIGluZm9bMF0sXG4gICAgICAgICAgICBpbmZvWzFdXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICAgICAgaWYgKG51bGwgPT09IG1heWJlSXRlcmFibGUgfHwgXCJvYmplY3RcIiAhPT0gdHlwZW9mIG1heWJlSXRlcmFibGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgbWF5YmVJdGVyYWJsZSA9XG4gICAgICAgIChNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdKSB8fFxuICAgICAgICBtYXliZUl0ZXJhYmxlW1wiQEBpdGVyYXRvclwiXTtcbiAgICAgIHJldHVybiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBtYXliZUl0ZXJhYmxlID8gbWF5YmVJdGVyYWJsZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBjYWxsZXJOYW1lKSB7XG4gICAgICBwdWJsaWNJbnN0YW5jZSA9XG4gICAgICAgICgocHVibGljSW5zdGFuY2UgPSBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3RvcikgJiZcbiAgICAgICAgICAocHVibGljSW5zdGFuY2UuZGlzcGxheU5hbWUgfHwgcHVibGljSW5zdGFuY2UubmFtZSkpIHx8XG4gICAgICAgIFwiUmVhY3RDbGFzc1wiO1xuICAgICAgdmFyIHdhcm5pbmdLZXkgPSBwdWJsaWNJbnN0YW5jZSArIFwiLlwiICsgY2FsbGVyTmFtZTtcbiAgICAgIGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkNhbid0IGNhbGwgJXMgb24gYSBjb21wb25lbnQgdGhhdCBpcyBub3QgeWV0IG1vdW50ZWQuIFRoaXMgaXMgYSBuby1vcCwgYnV0IGl0IG1pZ2h0IGluZGljYXRlIGEgYnVnIGluIHlvdXIgYXBwbGljYXRpb24uIEluc3RlYWQsIGFzc2lnbiB0byBgdGhpcy5zdGF0ZWAgZGlyZWN0bHkgb3IgZGVmaW5lIGEgYHN0YXRlID0ge307YCBjbGFzcyBwcm9wZXJ0eSB3aXRoIHRoZSBkZXNpcmVkIHN0YXRlIGluIHRoZSAlcyBjb21wb25lbnQuXCIsXG4gICAgICAgICAgY2FsbGVyTmFtZSxcbiAgICAgICAgICBwdWJsaWNJbnN0YW5jZVxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50W3dhcm5pbmdLZXldID0gITApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gICAgICB0aGlzLnByb3BzID0gcHJvcHM7XG4gICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gICAgICB0aGlzLnVwZGF0ZXIgPSB1cGRhdGVyIHx8IFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDb21wb25lbnREdW1teSgpIHt9XG4gICAgZnVuY3Rpb24gUHVyZUNvbXBvbmVudChwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICEwO1xuICAgICAgfVxuICAgICAgaWYgKEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBjb25zb2xlO1xuICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wX2NvbnN0ID0gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmVycm9yO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwID1cbiAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgICBTeW1ib2wudG9TdHJpbmdUYWcgJiZcbiAgICAgICAgICAgIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10pIHx8XG4gICAgICAgICAgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fFxuICAgICAgICAgIFwiT2JqZWN0XCI7XG4gICAgICAgIEpTQ29tcGlsZXJfdGVtcF9jb25zdC5jYWxsKFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCxcbiAgICAgICAgICBcIlRoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0JGpzY29tcCQwXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIG51bGw7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgcmV0dXJuIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMlxuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDogdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIHR5cGU7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIkZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3RyaWN0TW9kZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VMaXN0XCI7XG4gICAgICB9XG4gICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHN3aXRjaCAoXG4gICAgICAgICAgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB0eXBlLnRhZyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIHR5cGUuJCR0eXBlb2YpXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLlByb3ZpZGVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuICh0eXBlLl9jb250ZXh0LmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICAgICAgdmFyIGlubmVyVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgICAgICAgdHlwZSA9IHR5cGUuZGlzcGxheU5hbWU7XG4gICAgICAgICAgICB0eXBlIHx8XG4gICAgICAgICAgICAgICgodHlwZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCBcIlwiKSxcbiAgICAgICAgICAgICAgKHR5cGUgPSBcIlwiICE9PSB0eXBlID8gXCJGb3J3YXJkUmVmKFwiICsgdHlwZSArIFwiKVwiIDogXCJGb3J3YXJkUmVmXCIpKTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGlubmVyVHlwZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbCksXG4gICAgICAgICAgICAgIG51bGwgIT09IGlubmVyVHlwZVxuICAgICAgICAgICAgICAgID8gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgOiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCBcIk1lbW9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgIGlubmVyVHlwZSA9IHR5cGUuX3BheWxvYWQ7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5faW5pdDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZShpbm5lclR5cGUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkge1xuICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlIHx8XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgfHxcbiAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05TVU1FUl9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDEgfHxcbiAgICAgICAgICAgIHZvaWQgMCAhPT0gdHlwZS5nZXRNb2R1bGVJZCkpXG4gICAgICAgID8gITBcbiAgICAgICAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzYWJsZWRMb2coKSB7fVxuICAgIGZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgICBwcmV2SW5mbyA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgcHJldldhcm4gPSBjb25zb2xlLndhcm47XG4gICAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICAgIHByZXZHcm91cCA9IGNvbnNvbGUuZ3JvdXA7XG4gICAgICAgIHByZXZHcm91cENvbGxhcHNlZCA9IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQ7XG4gICAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7XG4gICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGluZm86IHByb3BzLFxuICAgICAgICAgIGxvZzogcHJvcHMsXG4gICAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgICAgZXJyb3I6IHByb3BzLFxuICAgICAgICAgIGdyb3VwOiBwcm9wcyxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBFbmQ6IHByb3BzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGlzYWJsZWREZXB0aCsrO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWVuYWJsZUxvZ3MoKSB7XG4gICAgICBkaXNhYmxlZERlcHRoLS07XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB7IGNvbmZpZ3VyYWJsZTogITAsIGVudW1lcmFibGU6ICEwLCB3cml0YWJsZTogITAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGxvZzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkxvZyB9KSxcbiAgICAgICAgICBpbmZvOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2SW5mbyB9KSxcbiAgICAgICAgICB3YXJuOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2V2FybiB9KSxcbiAgICAgICAgICBlcnJvcjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkVycm9yIH0pLFxuICAgICAgICAgIGdyb3VwOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXAgfSksXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cENvbGxhcHNlZCB9KSxcbiAgICAgICAgICBncm91cEVuZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwRW5kIH0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgMCA+IGRpc2FibGVkRGVwdGggJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImRpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBwcmVmaXgpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHguc3RhY2sudHJpbSgpLm1hdGNoKC9cXG4oICooYXQgKT8pLyk7XG4gICAgICAgICAgcHJlZml4ID0gKG1hdGNoICYmIG1hdGNoWzFdKSB8fCBcIlwiO1xuICAgICAgICAgIHN1ZmZpeCA9XG4gICAgICAgICAgICAtMSA8IHguc3RhY2suaW5kZXhPZihcIlxcbiAgICBhdFwiKVxuICAgICAgICAgICAgICA/IFwiICg8YW5vbnltb3VzPilcIlxuICAgICAgICAgICAgICA6IC0xIDwgeC5zdGFjay5pbmRleE9mKFwiQFwiKVxuICAgICAgICAgICAgICAgID8gXCJAdW5rbm93bjowOjBcIlxuICAgICAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIFwiXFxuXCIgKyBwcmVmaXggKyBuYW1lICsgc3VmZml4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBjb25zdHJ1Y3QpIHtcbiAgICAgIGlmICghZm4gfHwgcmVlbnRyeSkgcmV0dXJuIFwiXCI7XG4gICAgICB2YXIgZnJhbWUgPSBjb21wb25lbnRGcmFtZUNhY2hlLmdldChmbik7XG4gICAgICBpZiAodm9pZCAwICE9PSBmcmFtZSkgcmV0dXJuIGZyYW1lO1xuICAgICAgcmVlbnRyeSA9ICEwO1xuICAgICAgZnJhbWUgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTtcbiAgICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdm9pZCAwO1xuICAgICAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlciA9IG51bGw7XG4gICAgICBwcmV2aW91c0Rpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IG51bGw7XG4gICAgICBkaXNhYmxlTG9ncygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIFJ1bkluUm9vdEZyYW1lID0ge1xuICAgICAgICAgIERldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBGYWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgXCJwcm9wc1wiLCB7XG4gICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIFJlZmxlY3QgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyb2wgPSB4O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZm4sIFtdLCBGYWtlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgRmFrZS5jYWxsKCk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZuLmNhbGwoRmFrZS5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChGYWtlID0gZm4oKSkgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEZha2UuY2F0Y2ggJiZcbiAgICAgICAgICAgICAgICAgIEZha2UuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzYW1wbGUuc3RhY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdC5kaXNwbGF5TmFtZSA9XG4gICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIjtcbiAgICAgICAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgIFwibmFtZVwiXG4gICAgICAgICk7XG4gICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci5jb25maWd1cmFibGUgJiZcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgICAgIHsgdmFsdWU6IFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCIgfVxuICAgICAgICAgICk7XG4gICAgICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPVxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290KCksXG4gICAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgICAgY29udHJvbFN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzFdO1xuICAgICAgICBpZiAoc2FtcGxlU3RhY2sgJiYgY29udHJvbFN0YWNrKSB7XG4gICAgICAgICAgdmFyIHNhbXBsZUxpbmVzID0gc2FtcGxlU3RhY2suc3BsaXQoXCJcXG5cIiksXG4gICAgICAgICAgICBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IG5hbWVQcm9wRGVzY3JpcHRvciA9IDA7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPCBzYW1wbGVMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yKys7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA8IGNvbnRyb2xMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlcisrO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9PT0gc2FtcGxlTGluZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPT09IGNvbnRyb2xMaW5lcy5sZW5ndGhcbiAgICAgICAgICApXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IGNvbnRyb2xMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgICAgICAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlciAmJlxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdO1xuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcjtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci0tLCBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl1cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoMSAhPT0gbmFtZVByb3BEZXNjcmlwdG9yIHx8IDEgIT09IF9SdW5JblJvb3RGcmFtZSREZXRlcikge1xuICAgICAgICAgICAgICAgIGRvXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIChuYW1lUHJvcERlc2NyaXB0b3ItLSxcbiAgICAgICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS0sXG4gICAgICAgICAgICAgICAgICAgIDAgPiBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0pXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9mcmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgbmV3IFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgXCJcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBmbi5kaXNwbGF5TmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5pbmNsdWRlcyhcIjxhbm9ueW1vdXM+XCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgKF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKFwiPGFub255bW91cz5cIiwgZm4uZGlzcGxheU5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiZcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAocmVlbnRyeSA9ICExKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZpb3VzRGlzcGF0Y2hlciksXG4gICAgICAgICAgcmVlbmFibGVMb2dzKCksXG4gICAgICAgICAgKEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gZnJhbWUpO1xuICAgICAgfVxuICAgICAgc2FtcGxlTGluZXMgPSAoc2FtcGxlTGluZXMgPSBmbiA/IGZuLmRpc3BsYXlOYW1lIHx8IGZuLm5hbWUgOiBcIlwiKVxuICAgICAgICA/IGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHNhbXBsZUxpbmVzKVxuICAgICAgICA6IFwiXCI7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJiBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc2FtcGxlTGluZXMpO1xuICAgICAgcmV0dXJuIHNhbXBsZUxpbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIFwiXCI7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSkge1xuICAgICAgICB2YXIgcHJvdG90eXBlID0gdHlwZS5wcm90b3R5cGU7XG4gICAgICAgIHJldHVybiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgISghcHJvdG90eXBlIHx8ICFwcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZVwiKTtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VMaXN0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUgPSBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyLCAhMSkpLCB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLnR5cGUpO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgcHJvdG90eXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlKHByb3RvdHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCBcImtleVwiKS5nZXQ7XG4gICAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb25maWcua2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgICAgIGZ1bmN0aW9uIHdhcm5BYm91dEFjY2Vzc2luZ0tleSgpIHtcbiAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gfHxcbiAgICAgICAgICAoKHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gITApLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgdmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCBwcm9wLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9zcGVjaWFsLXByb3BzKVwiLFxuICAgICAgICAgICAgZGlzcGxheU5hbWVcbiAgICAgICAgICApKTtcbiAgICAgIH1cbiAgICAgIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9ICEwO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCBcImtleVwiLCB7XG4gICAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmcoKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0aGlzLnR5cGUpO1xuICAgICAgZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSB8fFxuICAgICAgICAoKGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gPSAhMCksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBY2Nlc3NpbmcgZWxlbWVudC5yZWYgd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIHJlZiBpcyBub3cgYSByZWd1bGFyIHByb3AuIEl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBKU1ggRWxlbWVudCB0eXBlIGluIGEgZnV0dXJlIHJlbGVhc2UuXCJcbiAgICAgICAgKSk7XG4gICAgICBjb21wb25lbnROYW1lID0gdGhpcy5wcm9wcy5yZWY7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb21wb25lbnROYW1lID8gY29tcG9uZW50TmFtZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gICAgICBzZWxmID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHNlbGYgPyBzZWxmIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZnJlZXplICYmIChPYmplY3QuZnJlZXplKHR5cGUucHJvcHMpLCBPYmplY3QuZnJlZXplKHR5cGUpKTtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbG9uZUFuZFJlcGxhY2VLZXkob2xkRWxlbWVudCwgbmV3S2V5KSB7XG4gICAgICBuZXdLZXkgPSBSZWFjdEVsZW1lbnQoXG4gICAgICAgIG9sZEVsZW1lbnQudHlwZSxcbiAgICAgICAgbmV3S2V5LFxuICAgICAgICB2b2lkIDAsXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgb2xkRWxlbWVudC5fb3duZXIsXG4gICAgICAgIG9sZEVsZW1lbnQucHJvcHNcbiAgICAgICk7XG4gICAgICBuZXdLZXkuX3N0b3JlLnZhbGlkYXRlZCA9IG9sZEVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZDtcbiAgICAgIHJldHVybiBuZXdLZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUsIHBhcmVudFR5cGUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG5vZGUgJiZcbiAgICAgICAgbm9kZSAmJlxuICAgICAgICBub2RlLiQkdHlwZW9mICE9PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFXG4gICAgICApXG4gICAgICAgIGlmIChpc0FycmF5SW1wbChub2RlKSlcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG4gICAgICAgICAgICBpc1ZhbGlkRWxlbWVudChjaGlsZCkgJiYgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSlcbiAgICAgICAgICBub2RlLl9zdG9yZSAmJiAobm9kZS5fc3RvcmUudmFsaWRhdGVkID0gMSk7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICgoaSA9IGdldEl0ZXJhdG9yRm4obm9kZSkpLFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkgJiZcbiAgICAgICAgICAgIGkgIT09IG5vZGUuZW50cmllcyAmJlxuICAgICAgICAgICAgKChpID0gaS5jYWxsKG5vZGUpKSwgaSAhPT0gbm9kZSkpXG4gICAgICAgIClcbiAgICAgICAgICBmb3IgKDsgIShub2RlID0gaS5uZXh0KCkpLmRvbmU7IClcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KG5vZGUudmFsdWUpICYmXG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkobm9kZS52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9iamVjdCAmJlxuICAgICAgICBudWxsICE9PSBvYmplY3QgJiZcbiAgICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKFxuICAgICAgICBlbGVtZW50Ll9zdG9yZSAmJlxuICAgICAgICAhZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkICYmXG4gICAgICAgIG51bGwgPT0gZWxlbWVudC5rZXkgJiZcbiAgICAgICAgKChlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSAxKSxcbiAgICAgICAgKHBhcmVudFR5cGUgPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpKSxcbiAgICAgICAgIW93bmVySGFzS2V5VXNlV2FybmluZ1twYXJlbnRUeXBlXSlcbiAgICAgICkge1xuICAgICAgICBvd25lckhhc0tleVVzZVdhcm5pbmdbcGFyZW50VHlwZV0gPSAhMDtcbiAgICAgICAgdmFyIGNoaWxkT3duZXIgPSBcIlwiO1xuICAgICAgICBlbGVtZW50ICYmXG4gICAgICAgICAgbnVsbCAhPSBlbGVtZW50Ll9vd25lciAmJlxuICAgICAgICAgIGVsZW1lbnQuX293bmVyICE9PSBnZXRPd25lcigpICYmXG4gICAgICAgICAgKChjaGlsZE93bmVyID0gbnVsbCksXG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGVsZW1lbnQuX293bmVyLnRhZ1xuICAgICAgICAgICAgPyAoY2hpbGRPd25lciA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShlbGVtZW50Ll9vd25lci50eXBlKSlcbiAgICAgICAgICAgIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVsZW1lbnQuX293bmVyLm5hbWUgJiZcbiAgICAgICAgICAgICAgKGNoaWxkT3duZXIgPSBlbGVtZW50Ll9vd25lci5uYW1lKSxcbiAgICAgICAgICAoY2hpbGRPd25lciA9IFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgY2hpbGRPd25lciArIFwiLlwiKSk7XG4gICAgICAgIHZhciBwcmV2R2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSk7XG4gICAgICAgICAgcHJldkdldEN1cnJlbnRTdGFjayAmJiAoc3RhY2sgKz0gcHJldkdldEN1cnJlbnRTdGFjaygpIHx8IFwiXCIpO1xuICAgICAgICAgIHJldHVybiBzdGFjaztcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLiVzJXMgU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICAgICAgcGFyZW50VHlwZSxcbiAgICAgICAgICBjaGlsZE93bmVyXG4gICAgICAgICk7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IHByZXZHZXRDdXJyZW50U3RhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkge1xuICAgICAgdmFyIGluZm8gPSBcIlwiLFxuICAgICAgICBvd25lciA9IGdldE93bmVyKCk7XG4gICAgICBvd25lciAmJlxuICAgICAgICAob3duZXIgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUob3duZXIudHlwZSkpICYmXG4gICAgICAgIChpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgXCIgKyBvd25lciArIFwiYC5cIik7XG4gICAgICBpbmZvIHx8XG4gICAgICAgICgocGFyZW50VHlwZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShwYXJlbnRUeXBlKSkgJiZcbiAgICAgICAgICAoaW5mbyA9XG4gICAgICAgICAgICBcIlxcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPFwiICsgcGFyZW50VHlwZSArIFwiPi5cIikpO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVzY2FwZShrZXkpIHtcbiAgICAgIHZhciBlc2NhcGVyTG9va3VwID0geyBcIj1cIjogXCI9MFwiLCBcIjpcIjogXCI9MlwiIH07XG4gICAgICByZXR1cm4gKFxuICAgICAgICBcIiRcIiArXG4gICAgICAgIGtleS5yZXBsYWNlKC9bPTpdL2csIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICAgIHJldHVybiBlc2NhcGVyTG9va3VwW21hdGNoXTtcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEVsZW1lbnRLZXkoZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiBcIm9iamVjdFwiID09PSB0eXBlb2YgZWxlbWVudCAmJlxuICAgICAgICBudWxsICE9PSBlbGVtZW50ICYmXG4gICAgICAgIG51bGwgIT0gZWxlbWVudC5rZXlcbiAgICAgICAgPyAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihlbGVtZW50LmtleSksIGVzY2FwZShcIlwiICsgZWxlbWVudC5rZXkpKVxuICAgICAgICA6IGluZGV4LnRvU3RyaW5nKDM2KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCQxKCkge31cbiAgICBmdW5jdGlvbiByZXNvbHZlVGhlbmFibGUodGhlbmFibGUpIHtcbiAgICAgIHN3aXRjaCAodGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgXCJmdWxmaWxsZWRcIjpcbiAgICAgICAgICByZXR1cm4gdGhlbmFibGUudmFsdWU7XG4gICAgICAgIGNhc2UgXCJyZWplY3RlZFwiOlxuICAgICAgICAgIHRocm93IHRoZW5hYmxlLnJlYXNvbjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgICAgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGVuYWJsZS5zdGF0dXNcbiAgICAgICAgICAgICAgPyB0aGVuYWJsZS50aGVuKG5vb3AkMSwgbm9vcCQxKVxuICAgICAgICAgICAgICA6ICgodGhlbmFibGUuc3RhdHVzID0gXCJwZW5kaW5nXCIpLFxuICAgICAgICAgICAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZnVsZmlsbGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgXCJwZW5kaW5nXCIgPT09IHRoZW5hYmxlLnN0YXR1cyAmJlxuICAgICAgICAgICAgICAgICAgICAgICgodGhlbmFibGUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIiksXG4gICAgICAgICAgICAgICAgICAgICAgKHRoZW5hYmxlLnZhbHVlID0gZnVsZmlsbGVkVmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgXCJwZW5kaW5nXCIgPT09IHRoZW5hYmxlLnN0YXR1cyAmJlxuICAgICAgICAgICAgICAgICAgICAgICgodGhlbmFibGUuc3RhdHVzID0gXCJyZWplY3RlZFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAodGhlbmFibGUucmVhc29uID0gZXJyb3IpKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHRoZW5hYmxlLnN0YXR1cylcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNhc2UgXCJmdWxmaWxsZWRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgICAgICAgIHRocm93IHRoZW5hYmxlLnJlYXNvbjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICB0aHJvdyB0aGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFwSW50b0FycmF5KGNoaWxkcmVuLCBhcnJheSwgZXNjYXBlZFByZWZpeCwgbmFtZVNvRmFyLCBjYWxsYmFjaykge1xuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG4gICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZSB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZSkgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgdmFyIGludm9rZUNhbGxiYWNrID0gITE7XG4gICAgICBpZiAobnVsbCA9PT0gY2hpbGRyZW4pIGludm9rZUNhbGxiYWNrID0gITA7XG4gICAgICBlbHNlXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSAhMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIHN3aXRjaCAoY2hpbGRyZW4uJCR0eXBlb2YpIHtcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2sgPSAhMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayA9IGNoaWxkcmVuLl9pbml0KSxcbiAgICAgICAgICAgICAgICAgIG1hcEludG9BcnJheShcbiAgICAgICAgICAgICAgICAgICAgaW52b2tlQ2FsbGJhY2soY2hpbGRyZW4uX3BheWxvYWQpLFxuICAgICAgICAgICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIGlmIChpbnZva2VDYWxsYmFjaykge1xuICAgICAgICBpbnZva2VDYWxsYmFjayA9IGNoaWxkcmVuO1xuICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrKGludm9rZUNhbGxiYWNrKTtcbiAgICAgICAgdmFyIGNoaWxkS2V5ID1cbiAgICAgICAgICBcIlwiID09PSBuYW1lU29GYXIgPyBcIi5cIiArIGdldEVsZW1lbnRLZXkoaW52b2tlQ2FsbGJhY2ssIDApIDogbmFtZVNvRmFyO1xuICAgICAgICBpc0FycmF5SW1wbChjYWxsYmFjaylcbiAgICAgICAgICA/ICgoZXNjYXBlZFByZWZpeCA9IFwiXCIpLFxuICAgICAgICAgICAgbnVsbCAhPSBjaGlsZEtleSAmJlxuICAgICAgICAgICAgICAoZXNjYXBlZFByZWZpeCA9XG4gICAgICAgICAgICAgICAgY2hpbGRLZXkucmVwbGFjZSh1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCwgXCIkJi9cIikgKyBcIi9cIiksXG4gICAgICAgICAgICBtYXBJbnRvQXJyYXkoY2FsbGJhY2ssIGFycmF5LCBlc2NhcGVkUHJlZml4LCBcIlwiLCBmdW5jdGlvbiAoYykge1xuICAgICAgICAgICAgICByZXR1cm4gYztcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgIDogbnVsbCAhPSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgKGlzVmFsaWRFbGVtZW50KGNhbGxiYWNrKSAmJlxuICAgICAgICAgICAgICAobnVsbCAhPSBjYWxsYmFjay5rZXkgJiZcbiAgICAgICAgICAgICAgICAoKGludm9rZUNhbGxiYWNrICYmIGludm9rZUNhbGxiYWNrLmtleSA9PT0gY2FsbGJhY2sua2V5KSB8fFxuICAgICAgICAgICAgICAgICAgY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjYWxsYmFjay5rZXkpKSxcbiAgICAgICAgICAgICAgKGVzY2FwZWRQcmVmaXggPSBjbG9uZUFuZFJlcGxhY2VLZXkoXG4gICAgICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCArXG4gICAgICAgICAgICAgICAgICAobnVsbCA9PSBjYWxsYmFjay5rZXkgfHxcbiAgICAgICAgICAgICAgICAgIChpbnZva2VDYWxsYmFjayAmJiBpbnZva2VDYWxsYmFjay5rZXkgPT09IGNhbGxiYWNrLmtleSlcbiAgICAgICAgICAgICAgICAgICAgPyBcIlwiXG4gICAgICAgICAgICAgICAgICAgIDogKFwiXCIgKyBjYWxsYmFjay5rZXkpLnJlcGxhY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyUHJvdmlkZWRLZXlFc2NhcGVSZWdleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiJCYvXCJcbiAgICAgICAgICAgICAgICAgICAgICApICsgXCIvXCIpICtcbiAgICAgICAgICAgICAgICAgIGNoaWxkS2V5XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBcIlwiICE9PSBuYW1lU29GYXIgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9IGludm9rZUNhbGxiYWNrICYmXG4gICAgICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQoaW52b2tlQ2FsbGJhY2spICYmXG4gICAgICAgICAgICAgICAgbnVsbCA9PSBpbnZva2VDYWxsYmFjay5rZXkgJiZcbiAgICAgICAgICAgICAgICBpbnZva2VDYWxsYmFjay5fc3RvcmUgJiZcbiAgICAgICAgICAgICAgICAhaW52b2tlQ2FsbGJhY2suX3N0b3JlLnZhbGlkYXRlZCAmJlxuICAgICAgICAgICAgICAgIChlc2NhcGVkUHJlZml4Ll9zdG9yZS52YWxpZGF0ZWQgPSAyKSxcbiAgICAgICAgICAgICAgKGNhbGxiYWNrID0gZXNjYXBlZFByZWZpeCkpLFxuICAgICAgICAgICAgYXJyYXkucHVzaChjYWxsYmFjaykpO1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH1cbiAgICAgIGludm9rZUNhbGxiYWNrID0gMDtcbiAgICAgIGNoaWxkS2V5ID0gXCJcIiA9PT0gbmFtZVNvRmFyID8gXCIuXCIgOiBuYW1lU29GYXIgKyBcIjpcIjtcbiAgICAgIGlmIChpc0FycmF5SW1wbChjaGlsZHJlbikpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgICAgKG5hbWVTb0ZhciA9IGNoaWxkcmVuW2ldKSxcbiAgICAgICAgICAgICh0eXBlID0gY2hpbGRLZXkgKyBnZXRFbGVtZW50S2V5KG5hbWVTb0ZhciwgaSkpLFxuICAgICAgICAgICAgKGludm9rZUNhbGxiYWNrICs9IG1hcEludG9BcnJheShcbiAgICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgICBhcnJheSxcbiAgICAgICAgICAgICAgZXNjYXBlZFByZWZpeCxcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICAgICkpO1xuICAgICAgZWxzZSBpZiAoKChpID0gZ2V0SXRlcmF0b3JGbihjaGlsZHJlbikpLCBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpKSlcbiAgICAgICAgZm9yIChcbiAgICAgICAgICBpID09PSBjaGlsZHJlbi5lbnRyaWVzICYmXG4gICAgICAgICAgICAoZGlkV2FybkFib3V0TWFwcyB8fFxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgXCJVc2luZyBNYXBzIGFzIGNoaWxkcmVuIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhbiBhcnJheSBvZiBrZXllZCBSZWFjdEVsZW1lbnRzIGluc3RlYWQuXCJcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXRNYXBzID0gITApKSxcbiAgICAgICAgICAgIGNoaWxkcmVuID0gaS5jYWxsKGNoaWxkcmVuKSxcbiAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICEobmFtZVNvRmFyID0gY2hpbGRyZW4ubmV4dCgpKS5kb25lO1xuXG4gICAgICAgIClcbiAgICAgICAgICAobmFtZVNvRmFyID0gbmFtZVNvRmFyLnZhbHVlKSxcbiAgICAgICAgICAgICh0eXBlID0gY2hpbGRLZXkgKyBnZXRFbGVtZW50S2V5KG5hbWVTb0ZhciwgaSsrKSksXG4gICAgICAgICAgICAoaW52b2tlQ2FsbGJhY2sgKz0gbWFwSW50b0FycmF5KFxuICAgICAgICAgICAgICBuYW1lU29GYXIsXG4gICAgICAgICAgICAgIGFycmF5LFxuICAgICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICAgKSk7XG4gICAgICBlbHNlIGlmIChcIm9iamVjdFwiID09PSB0eXBlKSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjaGlsZHJlbi50aGVuKVxuICAgICAgICAgIHJldHVybiBtYXBJbnRvQXJyYXkoXG4gICAgICAgICAgICByZXNvbHZlVGhlbmFibGUoY2hpbGRyZW4pLFxuICAgICAgICAgICAgYXJyYXksXG4gICAgICAgICAgICBlc2NhcGVkUHJlZml4LFxuICAgICAgICAgICAgbmFtZVNvRmFyLFxuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICApO1xuICAgICAgICBhcnJheSA9IFN0cmluZyhjaGlsZHJlbik7XG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiBcIiArXG4gICAgICAgICAgICAoXCJbb2JqZWN0IE9iamVjdF1cIiA9PT0gYXJyYXlcbiAgICAgICAgICAgICAgPyBcIm9iamVjdCB3aXRoIGtleXMge1wiICsgT2JqZWN0LmtleXMoY2hpbGRyZW4pLmpvaW4oXCIsIFwiKSArIFwifVwiXG4gICAgICAgICAgICAgIDogYXJyYXkpICtcbiAgICAgICAgICAgIFwiKS4gSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSBpbnN0ZWFkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW52b2tlQ2FsbGJhY2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jLCBjb250ZXh0KSB7XG4gICAgICBpZiAobnVsbCA9PSBjaGlsZHJlbikgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgdmFyIHJlc3VsdCA9IFtdLFxuICAgICAgICBjb3VudCA9IDA7XG4gICAgICBtYXBJbnRvQXJyYXkoY2hpbGRyZW4sIHJlc3VsdCwgXCJcIiwgXCJcIiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGNvdW50KyspO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBsYXp5SW5pdGlhbGl6ZXIocGF5bG9hZCkge1xuICAgICAgaWYgKC0xID09PSBwYXlsb2FkLl9zdGF0dXMpIHtcbiAgICAgICAgdmFyIGN0b3IgPSBwYXlsb2FkLl9yZXN1bHQ7XG4gICAgICAgIGN0b3IgPSBjdG9yKCk7XG4gICAgICAgIGN0b3IudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAobW9kdWxlT2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcGF5bG9hZC5fc3RhdHVzIHx8IC0xID09PSBwYXlsb2FkLl9zdGF0dXMpXG4gICAgICAgICAgICAgIChwYXlsb2FkLl9zdGF0dXMgPSAxKSwgKHBheWxvYWQuX3Jlc3VsdCA9IG1vZHVsZU9iamVjdCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmICgwID09PSBwYXlsb2FkLl9zdGF0dXMgfHwgLTEgPT09IHBheWxvYWQuX3N0YXR1cylcbiAgICAgICAgICAgICAgKHBheWxvYWQuX3N0YXR1cyA9IDIpLCAocGF5bG9hZC5fcmVzdWx0ID0gZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgLTEgPT09IHBheWxvYWQuX3N0YXR1cyAmJlxuICAgICAgICAgICgocGF5bG9hZC5fc3RhdHVzID0gMCksIChwYXlsb2FkLl9yZXN1bHQgPSBjdG9yKSk7XG4gICAgICB9XG4gICAgICBpZiAoMSA9PT0gcGF5bG9hZC5fc3RhdHVzKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChjdG9yID0gcGF5bG9hZC5fcmVzdWx0KSxcbiAgICAgICAgICB2b2lkIDAgPT09IGN0b3IgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwibGF6eTogRXhwZWN0ZWQgdGhlIHJlc3VsdCBvZiBhIGR5bmFtaWMgaW1wb3J0KCkgY2FsbC4gSW5zdGVhZCByZWNlaXZlZDogJXNcXG5cXG5Zb3VyIGNvZGUgc2hvdWxkIGxvb2sgbGlrZTogXFxuICBjb25zdCBNeUNvbXBvbmVudCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL015Q29tcG9uZW50JykpXFxuXFxuRGlkIHlvdSBhY2NpZGVudGFsbHkgcHV0IGN1cmx5IGJyYWNlcyBhcm91bmQgdGhlIGltcG9ydD9cIixcbiAgICAgICAgICAgICAgY3RvclxuICAgICAgICAgICAgKSxcbiAgICAgICAgICBcImRlZmF1bHRcIiBpbiBjdG9yIHx8XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImxhenk6IEV4cGVjdGVkIHRoZSByZXN1bHQgb2YgYSBkeW5hbWljIGltcG9ydCgpIGNhbGwuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzXFxuXFxuWW91ciBjb2RlIHNob3VsZCBsb29rIGxpa2U6IFxcbiAgY29uc3QgTXlDb21wb25lbnQgPSBsYXp5KCgpID0+IGltcG9ydCgnLi9NeUNvbXBvbmVudCcpKVwiLFxuICAgICAgICAgICAgICBjdG9yXG4gICAgICAgICAgICApLFxuICAgICAgICAgIGN0b3IuZGVmYXVsdFxuICAgICAgICApO1xuICAgICAgdGhyb3cgcGF5bG9hZC5fcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlRGlzcGF0Y2hlcigpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgIG51bGwgPT09IGRpc3BhdGNoZXIgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkludmFsaWQgaG9vayBjYWxsLiBIb29rcyBjYW4gb25seSBiZSBjYWxsZWQgaW5zaWRlIG9mIHRoZSBib2R5IG9mIGEgZnVuY3Rpb24gY29tcG9uZW50LiBUaGlzIGNvdWxkIGhhcHBlbiBmb3Igb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4xLiBZb3UgbWlnaHQgaGF2ZSBtaXNtYXRjaGluZyB2ZXJzaW9ucyBvZiBSZWFjdCBhbmQgdGhlIHJlbmRlcmVyIChzdWNoIGFzIFJlYWN0IERPTSlcXG4yLiBZb3UgbWlnaHQgYmUgYnJlYWtpbmcgdGhlIFJ1bGVzIG9mIEhvb2tzXFxuMy4gWW91IG1pZ2h0IGhhdmUgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0IGluIHRoZSBzYW1lIGFwcFxcblNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtaG9vay1jYWxsIGZvciB0aXBzIGFib3V0IGhvdyB0byBkZWJ1ZyBhbmQgZml4IHRoaXMgcHJvYmxlbS5cIlxuICAgICAgICApO1xuICAgICAgcmV0dXJuIGRpc3BhdGNoZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5vb3AoKSB7fVxuICAgIGZ1bmN0aW9uIGVucXVldWVUYXNrKHRhc2spIHtcbiAgICAgIGlmIChudWxsID09PSBlbnF1ZXVlVGFza0ltcGwpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHJlcXVpcmVTdHJpbmcgPSAoXCJyZXF1aXJlXCIgKyBNYXRoLnJhbmRvbSgpKS5zbGljZSgwLCA3KTtcbiAgICAgICAgICBlbnF1ZXVlVGFza0ltcGwgPSAobW9kdWxlICYmIG1vZHVsZVtyZXF1aXJlU3RyaW5nXSkuY2FsbChcbiAgICAgICAgICAgIG1vZHVsZSxcbiAgICAgICAgICAgIFwidGltZXJzXCJcbiAgICAgICAgICApLnNldEltbWVkaWF0ZTtcbiAgICAgICAgfSBjYXRjaCAoX2Vycikge1xuICAgICAgICAgIGVucXVldWVUYXNrSW1wbCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgITEgPT09IGRpZFdhcm5BYm91dE1lc3NhZ2VDaGFubmVsICYmXG4gICAgICAgICAgICAgICgoZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgPSAhMCksXG4gICAgICAgICAgICAgIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBNZXNzYWdlQ2hhbm5lbCAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBoYXZlIGEgTWVzc2FnZUNoYW5uZWwgaW1wbGVtZW50YXRpb24sIHNvIGVucXVldWluZyB0YXNrcyB2aWEgYXdhaXQgYWN0KGFzeW5jICgpID0+IC4uLikgd2lsbCBmYWlsLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzIGlmIHlvdSBlbmNvdW50ZXIgdGhpcyB3YXJuaW5nLlwiXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICAgICAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBjYWxsYmFjaztcbiAgICAgICAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2Uodm9pZCAwKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICByZXR1cm4gZW5xdWV1ZVRhc2tJbXBsKHRhc2spO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZ2dyZWdhdGVFcnJvcnMoZXJyb3JzKSB7XG4gICAgICByZXR1cm4gMSA8IGVycm9ycy5sZW5ndGggJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQWdncmVnYXRlRXJyb3JcbiAgICAgICAgPyBuZXcgQWdncmVnYXRlRXJyb3IoZXJyb3JzKVxuICAgICAgICA6IGVycm9yc1swXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCkge1xuICAgICAgcHJldkFjdFNjb3BlRGVwdGggIT09IGFjdFNjb3BlRGVwdGggLSAxICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJZb3Ugc2VlbSB0byBoYXZlIG92ZXJsYXBwaW5nIGFjdCgpIGNhbGxzLCB0aGlzIGlzIG5vdCBzdXBwb3J0ZWQuIEJlIHN1cmUgdG8gYXdhaXQgcHJldmlvdXMgYWN0KCkgY2FsbHMgYmVmb3JlIG1ha2luZyBhIG5ldyBvbmUuIFwiXG4gICAgICAgICk7XG4gICAgICBhY3RTY29wZURlcHRoID0gcHJldkFjdFNjb3BlRGVwdGg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsocmV0dXJuVmFsdWUsIHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIHF1ZXVlID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWU7XG4gICAgICBpZiAobnVsbCAhPT0gcXVldWUpXG4gICAgICAgIGlmICgwICE9PSBxdWV1ZS5sZW5ndGgpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZsdXNoQWN0UXVldWUocXVldWUpO1xuICAgICAgICAgICAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhyZXR1cm5WYWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gbnVsbDtcbiAgICAgIDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoXG4gICAgICAgID8gKChxdWV1ZSA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIHJlamVjdChxdWV1ZSkpXG4gICAgICAgIDogcmVzb2x2ZShyZXR1cm5WYWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZsdXNoQWN0UXVldWUocXVldWUpIHtcbiAgICAgIGlmICghaXNGbHVzaGluZykge1xuICAgICAgICBpc0ZsdXNoaW5nID0gITA7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZGlkVXNlUHJvbWlzZSA9ICExO1xuICAgICAgICAgICAgICB2YXIgY29udGludWF0aW9uID0gY2FsbGJhY2soITEpO1xuICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gY29udGludWF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmRpZFVzZVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgIHF1ZXVlW2ldID0gY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICBxdWV1ZS5zcGxpY2UoMCwgaSk7XG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gY29udGludWF0aW9uO1xuICAgICAgICAgICAgICB9IGVsc2UgYnJlYWs7XG4gICAgICAgICAgICB9IHdoaWxlICgxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBxdWV1ZS5zcGxpY2UoMCwgaSArIDEpLCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaXNGbHVzaGluZyA9ICExO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RhcnQoRXJyb3IoKSk7XG4gICAgdmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik7XG4gICAgdmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29uc3VtZXJcIiksXG4gICAgICBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxcbiAgICAgIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksXG4gICAgICBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxcbiAgICAgIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLFxuICAgICAgUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Qub2Zmc2NyZWVuXCIpLFxuICAgICAgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gU3ltYm9sLml0ZXJhdG9yLFxuICAgICAgZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50ID0ge30sXG4gICAgICBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9IHtcbiAgICAgICAgaXNNb3VudGVkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlRm9yY2VVcGRhdGU6IGZ1bmN0aW9uIChwdWJsaWNJbnN0YW5jZSkge1xuICAgICAgICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCBcImZvcmNlVXBkYXRlXCIpO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICAgICAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgXCJyZXBsYWNlU3RhdGVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVTZXRTdGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlKSB7XG4gICAgICAgICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIFwic2V0U3RhdGVcIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduLFxuICAgICAgZW1wdHlPYmplY3QgPSB7fTtcbiAgICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQgPSB7fTtcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBwYXJ0aWFsU3RhdGUgJiZcbiAgICAgICAgbnVsbCAhPSBwYXJ0aWFsU3RhdGVcbiAgICAgIClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJ0YWtlcyBhbiBvYmplY3Qgb2Ygc3RhdGUgdmFyaWFibGVzIHRvIHVwZGF0ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IG9mIHN0YXRlIHZhcmlhYmxlcy5cIlxuICAgICAgICApO1xuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVTZXRTdGF0ZSh0aGlzLCBwYXJ0aWFsU3RhdGUsIGNhbGxiYWNrLCBcInNldFN0YXRlXCIpO1xuICAgIH07XG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdGhpcy51cGRhdGVyLmVucXVldWVGb3JjZVVwZGF0ZSh0aGlzLCBjYWxsYmFjaywgXCJmb3JjZVVwZGF0ZVwiKTtcbiAgICB9O1xuICAgIHZhciBkZXByZWNhdGVkQVBJcyA9IHtcbiAgICAgICAgaXNNb3VudGVkOiBbXG4gICAgICAgICAgXCJpc01vdW50ZWRcIixcbiAgICAgICAgICBcIkluc3RlYWQsIG1ha2Ugc3VyZSB0byBjbGVhbiB1cCBzdWJzY3JpcHRpb25zIGFuZCBwZW5kaW5nIHJlcXVlc3RzIGluIGNvbXBvbmVudFdpbGxVbm1vdW50IHRvIHByZXZlbnQgbWVtb3J5IGxlYWtzLlwiXG4gICAgICAgIF0sXG4gICAgICAgIHJlcGxhY2VTdGF0ZTogW1xuICAgICAgICAgIFwicmVwbGFjZVN0YXRlXCIsXG4gICAgICAgICAgXCJSZWZhY3RvciB5b3VyIGNvZGUgdG8gdXNlIHNldFN0YXRlIGluc3RlYWQgKHNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzMyMzYpLlwiXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBmbk5hbWU7XG4gICAgZm9yIChmbk5hbWUgaW4gZGVwcmVjYXRlZEFQSXMpXG4gICAgICBkZXByZWNhdGVkQVBJcy5oYXNPd25Qcm9wZXJ0eShmbk5hbWUpICYmXG4gICAgICAgIGRlZmluZURlcHJlY2F0aW9uV2FybmluZyhmbk5hbWUsIGRlcHJlY2F0ZWRBUElzW2ZuTmFtZV0pO1xuICAgIENvbXBvbmVudER1bW15LnByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XG4gICAgZGVwcmVjYXRlZEFQSXMgPSBQdXJlQ29tcG9uZW50LnByb3RvdHlwZSA9IG5ldyBDb21wb25lbnREdW1teSgpO1xuICAgIGRlcHJlY2F0ZWRBUElzLmNvbnN0cnVjdG9yID0gUHVyZUNvbXBvbmVudDtcbiAgICBhc3NpZ24oZGVwcmVjYXRlZEFQSXMsIENvbXBvbmVudC5wcm90b3R5cGUpO1xuICAgIGRlcHJlY2F0ZWRBUElzLmlzUHVyZVJlYWN0Q29tcG9uZW50ID0gITA7XG4gICAgdmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMiA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSB7XG4gICAgICAgIEg6IG51bGwsXG4gICAgICAgIEE6IG51bGwsXG4gICAgICAgIFQ6IG51bGwsXG4gICAgICAgIFM6IG51bGwsXG4gICAgICAgIGFjdFF1ZXVlOiBudWxsLFxuICAgICAgICBpc0JhdGNoaW5nTGVnYWN5OiAhMSxcbiAgICAgICAgZGlkU2NoZWR1bGVMZWdhY3lVcGRhdGU6ICExLFxuICAgICAgICBkaWRVc2VQcm9taXNlOiAhMSxcbiAgICAgICAgdGhyb3duRXJyb3JzOiBbXSxcbiAgICAgICAgZ2V0Q3VycmVudFN0YWNrOiBudWxsXG4gICAgICB9LFxuICAgICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBkaXNhYmxlZERlcHRoID0gMCxcbiAgICAgIHByZXZMb2csXG4gICAgICBwcmV2SW5mbyxcbiAgICAgIHByZXZXYXJuLFxuICAgICAgcHJldkVycm9yLFxuICAgICAgcHJldkdyb3VwLFxuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkLFxuICAgICAgcHJldkdyb3VwRW5kO1xuICAgIGRpc2FibGVkTG9nLl9fcmVhY3REaXNhYmxlZExvZyA9ICEwO1xuICAgIHZhciBwcmVmaXgsXG4gICAgICBzdWZmaXgsXG4gICAgICByZWVudHJ5ID0gITE7XG4gICAgdmFyIGNvbXBvbmVudEZyYW1lQ2FjaGUgPSBuZXcgKFxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha01hcCA/IFdlYWtNYXAgOiBNYXBcbiAgICApKCk7XG4gICAgdmFyIFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duLFxuICAgICAgZGlkV2FybkFib3V0T2xkSlNYUnVudGltZTtcbiAgICB2YXIgZGlkV2FybkFib3V0RWxlbWVudFJlZiA9IHt9O1xuICAgIHZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fSxcbiAgICAgIGRpZFdhcm5BYm91dE1hcHMgPSAhMSxcbiAgICAgIHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4ID0gL1xcLysvZyxcbiAgICAgIHJlcG9ydEdsb2JhbEVycm9yID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVwb3J0RXJyb3JcbiAgICAgICAgICA/IHJlcG9ydEVycm9yXG4gICAgICAgICAgOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB3aW5kb3cgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB3aW5kb3cuRXJyb3JFdmVudFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgd2luZG93LkVycm9yRXZlbnQoXCJlcnJvclwiLCB7XG4gICAgICAgICAgICAgICAgICBidWJibGVzOiAhMCxcbiAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6ICEwLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgPyBTdHJpbmcoZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9jZXNzICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJvY2Vzcy5lbWl0XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW1pdChcInVuY2F1Z2h0RXhjZXB0aW9uXCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgPSAhMSxcbiAgICAgIGVucXVldWVUYXNrSW1wbCA9IG51bGwsXG4gICAgICBhY3RTY29wZURlcHRoID0gMCxcbiAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0ID0gITEsXG4gICAgICBpc0ZsdXNoaW5nID0gITEsXG4gICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcXVldWVNaWNyb3Rhc2tcbiAgICAgICAgICA/IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICBxdWV1ZU1pY3JvdGFzayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHF1ZXVlTWljcm90YXNrKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiBlbnF1ZXVlVGFzaztcbiAgICBleHBvcnRzLkNoaWxkcmVuID0ge1xuICAgICAgbWFwOiBtYXBDaGlsZHJlbixcbiAgICAgIGZvckVhY2g6IGZ1bmN0aW9uIChjaGlsZHJlbiwgZm9yRWFjaEZ1bmMsIGZvckVhY2hDb250ZXh0KSB7XG4gICAgICAgIG1hcENoaWxkcmVuKFxuICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvckVhY2hGdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb3JFYWNoQ29udGV4dFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIGNvdW50OiBmdW5jdGlvbiAoY2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIG4gPSAwO1xuICAgICAgICBtYXBDaGlsZHJlbihjaGlsZHJlbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIG4rKztcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgICAgfSxcbiAgICAgIHRvQXJyYXk6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIG1hcENoaWxkcmVuKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZDtcbiAgICAgICAgICB9KSB8fCBbXVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIG9ubHk6IGZ1bmN0aW9uIChjaGlsZHJlbikge1xuICAgICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSlcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3QuQ2hpbGRyZW4ub25seSBleHBlY3RlZCB0byByZWNlaXZlIGEgc2luZ2xlIFJlYWN0IGVsZW1lbnQgY2hpbGQuXCJcbiAgICAgICAgICApO1xuICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLkNvbXBvbmVudCA9IENvbXBvbmVudDtcbiAgICBleHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbiAgICBleHBvcnRzLlByb2ZpbGVyID0gUkVBQ1RfUFJPRklMRVJfVFlQRTtcbiAgICBleHBvcnRzLlB1cmVDb21wb25lbnQgPSBQdXJlQ29tcG9uZW50O1xuICAgIGV4cG9ydHMuU3RyaWN0TW9kZSA9IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG4gICAgZXhwb3J0cy5TdXNwZW5zZSA9IFJFQUNUX1NVU1BFTlNFX1RZUEU7XG4gICAgZXhwb3J0cy5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUgPVxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHM7XG4gICAgZXhwb3J0cy5hY3QgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgIHZhciBwcmV2QWN0UXVldWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSxcbiAgICAgICAgcHJldkFjdFNjb3BlRGVwdGggPSBhY3RTY29wZURlcHRoO1xuICAgICAgYWN0U2NvcGVEZXB0aCsrO1xuICAgICAgdmFyIHF1ZXVlID0gKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID1cbiAgICAgICAgICBudWxsICE9PSBwcmV2QWN0UXVldWUgPyBwcmV2QWN0UXVldWUgOiBbXSksXG4gICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICExO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNhbGxiYWNrKCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMucHVzaChlcnJvcik7XG4gICAgICB9XG4gICAgICBpZiAoMCA8IFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGgpXG4gICAgICAgIHRocm93IChcbiAgICAgICAgICAocG9wQWN0U2NvcGUocHJldkFjdFF1ZXVlLCBwcmV2QWN0U2NvcGVEZXB0aCksXG4gICAgICAgICAgKGNhbGxiYWNrID0gYWdncmVnYXRlRXJyb3JzKFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycykpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoID0gMCksXG4gICAgICAgICAgY2FsbGJhY2spXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIG51bGwgIT09IHJlc3VsdCAmJlxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmVzdWx0ICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlc3VsdC50aGVuXG4gICAgICApIHtcbiAgICAgICAgdmFyIHRoZW5hYmxlID0gcmVzdWx0O1xuICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgfHxcbiAgICAgICAgICAgIGRpZFdhcm5Ob0F3YWl0QWN0IHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgY2FsbGVkIGFjdChhc3luYyAoKSA9PiAuLi4pIHdpdGhvdXQgYXdhaXQuIFRoaXMgY291bGQgbGVhZCB0byB1bmV4cGVjdGVkIHRlc3RpbmcgYmVoYXZpb3VyLCBpbnRlcmxlYXZpbmcgbXVsdGlwbGUgYWN0IGNhbGxzIGFuZCBtaXhpbmcgdGhlaXIgc2NvcGVzLiBZb3Ugc2hvdWxkIC0gYXdhaXQgYWN0KGFzeW5jICgpID0+IC4uLik7XCJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBkaWRBd2FpdEFjdENhbGwgPSAhMDtcbiAgICAgICAgICAgIHRoZW5hYmxlLnRoZW4oXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIGlmICgwID09PSBwcmV2QWN0U2NvcGVEZXB0aCkge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvciQyKSB7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yJDIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhyb3duRXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5sZW5ndGggPSAwO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoX3Rocm93bkVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgcmVzb2x2ZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgICAgICAgICAgIDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICA/ICgoZXJyb3IgPSBhZ2dyZWdhdGVFcnJvcnMoXG4gICAgICAgICAgICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpKVxuICAgICAgICAgICAgICAgICAgOiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHZhciByZXR1cm5WYWx1ZSRqc2NvbXAkMCA9IHJlc3VsdDtcbiAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RRdWV1ZSwgcHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgMCA9PT0gcHJldkFjdFNjb3BlRGVwdGggJiZcbiAgICAgICAgKGZsdXNoQWN0UXVldWUocXVldWUpLFxuICAgICAgICAwICE9PSBxdWV1ZS5sZW5ndGggJiZcbiAgICAgICAgICBxdWV1ZVNldmVyYWxNaWNyb3Rhc2tzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCB8fFxuICAgICAgICAgICAgICBkaWRXYXJuTm9Bd2FpdEFjdCB8fFxuICAgICAgICAgICAgICAoKGRpZFdhcm5Ob0F3YWl0QWN0ID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiQSBjb21wb25lbnQgc3VzcGVuZGVkIGluc2lkZSBhbiBgYWN0YCBzY29wZSwgYnV0IHRoZSBgYWN0YCBjYWxsIHdhcyBub3QgYXdhaXRlZC4gV2hlbiB0ZXN0aW5nIFJlYWN0IGNvbXBvbmVudHMgdGhhdCBkZXBlbmQgb24gYXN5bmNocm9ub3VzIGRhdGEsIHlvdSBtdXN0IGF3YWl0IHRoZSByZXN1bHQ6XFxuXFxuYXdhaXQgYWN0KCgpID0+IC4uLilcIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlID0gbnVsbCkpO1xuICAgICAgaWYgKDAgPCBSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMubGVuZ3RoKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKChjYWxsYmFjayA9IGFnZ3JlZ2F0ZUVycm9ycyhSZWFjdFNoYXJlZEludGVybmFscy50aHJvd25FcnJvcnMpKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMudGhyb3duRXJyb3JzLmxlbmd0aCA9IDApLFxuICAgICAgICAgIGNhbGxiYWNrKVxuICAgICAgICApO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGhlbjogZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGRpZEF3YWl0QWN0Q2FsbCA9ICEwO1xuICAgICAgICAgIDAgPT09IHByZXZBY3RTY29wZURlcHRoXG4gICAgICAgICAgICA/ICgoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgPSBxdWV1ZSksXG4gICAgICAgICAgICAgIGVucXVldWVUYXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhcbiAgICAgICAgICAgICAgICAgIHJldHVyblZhbHVlJGpzY29tcCQwLFxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgIHJlamVjdFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiByZXNvbHZlKHJldHVyblZhbHVlJGpzY29tcCQwKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2FjaGUgPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgICAgfTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY2xvbmVFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgICAgIGlmIChudWxsID09PSBlbGVtZW50IHx8IHZvaWQgMCA9PT0gZWxlbWVudClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiICtcbiAgICAgICAgICAgIGVsZW1lbnQgK1xuICAgICAgICAgICAgXCIuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBwcm9wcyA9IGFzc2lnbih7fSwgZWxlbWVudC5wcm9wcyksXG4gICAgICAgIGtleSA9IGVsZW1lbnQua2V5LFxuICAgICAgICBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgaWYgKG51bGwgIT0gY29uZmlnKSB7XG4gICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQ7XG4gICAgICAgIGE6IHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJyZWZcIikgJiZcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgIFwicmVmXCJcbiAgICAgICAgICAgICkuZ2V0KSAmJlxuICAgICAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0LmlzUmVhY3RXYXJuaW5nXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IHZvaWQgMCAhPT0gY29uZmlnLnJlZjtcbiAgICAgICAgfVxuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgJiYgKG93bmVyID0gZ2V0T3duZXIoKSk7XG4gICAgICAgIGhhc1ZhbGlkS2V5KGNvbmZpZykgJiZcbiAgICAgICAgICAoY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KSwgKGtleSA9IFwiXCIgKyBjb25maWcua2V5KSk7XG4gICAgICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKVxuICAgICAgICAgICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpIHx8XG4gICAgICAgICAgICBcImtleVwiID09PSBwcm9wTmFtZSB8fFxuICAgICAgICAgICAgXCJfX3NlbGZcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIFwiX19zb3VyY2VcIiA9PT0gcHJvcE5hbWUgfHxcbiAgICAgICAgICAgIChcInJlZlwiID09PSBwcm9wTmFtZSAmJiB2b2lkIDAgPT09IGNvbmZpZy5yZWYpIHx8XG4gICAgICAgICAgICAocHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcE5hbWUgPSBhcmd1bWVudHMubGVuZ3RoIC0gMjtcbiAgICAgIGlmICgxID09PSBwcm9wTmFtZSkgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgIGVsc2UgaWYgKDEgPCBwcm9wTmFtZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSBBcnJheShwcm9wTmFtZSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcE5hbWU7IGkrKylcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgICAgICBwcm9wcy5jaGlsZHJlbiA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdDtcbiAgICAgIH1cbiAgICAgIHByb3BzID0gUmVhY3RFbGVtZW50KGVsZW1lbnQudHlwZSwga2V5LCB2b2lkIDAsIHZvaWQgMCwgb3duZXIsIHByb3BzKTtcbiAgICAgIGZvciAoa2V5ID0gMjsga2V5IDwgYXJndW1lbnRzLmxlbmd0aDsga2V5KyspXG4gICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGFyZ3VtZW50c1trZXldLCBwcm9wcy50eXBlKTtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlQ29udGV4dCA9IGZ1bmN0aW9uIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlRFWFRfVFlQRSxcbiAgICAgICAgX2N1cnJlbnRWYWx1ZTogZGVmYXVsdFZhbHVlLFxuICAgICAgICBfY3VycmVudFZhbHVlMjogZGVmYXVsdFZhbHVlLFxuICAgICAgICBfdGhyZWFkQ291bnQ6IDAsXG4gICAgICAgIFByb3ZpZGVyOiBudWxsLFxuICAgICAgICBDb25zdW1lcjogbnVsbFxuICAgICAgfTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5Qcm92aWRlciA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIGRlZmF1bHRWYWx1ZS5Db25zdW1lciA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlNVTUVSX1RZUEUsXG4gICAgICAgIF9jb250ZXh0OiBkZWZhdWx0VmFsdWVcbiAgICAgIH07XG4gICAgICBkZWZhdWx0VmFsdWUuX2N1cnJlbnRSZW5kZXJlciA9IG51bGw7XG4gICAgICBkZWZhdWx0VmFsdWUuX2N1cnJlbnRSZW5kZXJlcjIgPSBudWxsO1xuICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBjb25maWcsIGNoaWxkcmVuKSB7XG4gICAgICBpZiAoaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpKVxuICAgICAgICBmb3IgKHZhciBpID0gMjsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIHR5cGUpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGkgPSBcIlwiO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdm9pZCAwID09PSB0eXBlIHx8XG4gICAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgICAwID09PSBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGgpXG4gICAgICAgIClcbiAgICAgICAgICBpICs9XG4gICAgICAgICAgICBcIiBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSBpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIG5hbWVkIGltcG9ydHMuXCI7XG4gICAgICAgIGlmIChudWxsID09PSB0eXBlKSB2YXIgdHlwZVN0cmluZyA9IFwibnVsbFwiO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgaXNBcnJheUltcGwodHlwZSlcbiAgICAgICAgICAgID8gKHR5cGVTdHJpbmcgPSBcImFycmF5XCIpXG4gICAgICAgICAgICA6IHZvaWQgMCAhPT0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICAgICAgICAgPyAoKHR5cGVTdHJpbmcgPVxuICAgICAgICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgICAgICAgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiVW5rbm93blwiKSArXG4gICAgICAgICAgICAgICAgICBcIiAvPlwiKSxcbiAgICAgICAgICAgICAgICAoaSA9XG4gICAgICAgICAgICAgICAgICBcIiBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50P1wiKSlcbiAgICAgICAgICAgICAgOiAodHlwZVN0cmluZyA9IHR5cGVvZiB0eXBlKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlYWN0LmNyZWF0ZUVsZW1lbnQ6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yIGJ1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXNcIixcbiAgICAgICAgICB0eXBlU3RyaW5nLFxuICAgICAgICAgIGlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wTmFtZTtcbiAgICAgIGkgPSB7fTtcbiAgICAgIHR5cGVTdHJpbmcgPSBudWxsO1xuICAgICAgaWYgKG51bGwgIT0gY29uZmlnKVxuICAgICAgICBmb3IgKHByb3BOYW1lIGluIChkaWRXYXJuQWJvdXRPbGRKU1hSdW50aW1lIHx8XG4gICAgICAgICAgIShcIl9fc2VsZlwiIGluIGNvbmZpZykgfHxcbiAgICAgICAgICBcImtleVwiIGluIGNvbmZpZyB8fFxuICAgICAgICAgICgoZGlkV2FybkFib3V0T2xkSlNYUnVudGltZSA9ICEwKSxcbiAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICBcIllvdXIgYXBwIChvciBvbmUgb2YgaXRzIGRlcGVuZGVuY2llcykgaXMgdXNpbmcgYW4gb3V0ZGF0ZWQgSlNYIHRyYW5zZm9ybS4gVXBkYXRlIHRvIHRoZSBtb2Rlcm4gSlNYIHRyYW5zZm9ybSBmb3IgZmFzdGVyIHBlcmZvcm1hbmNlOiBodHRwczovL3JlYWN0LmRldi9saW5rL25ldy1qc3gtdHJhbnNmb3JtXCJcbiAgICAgICAgICApKSxcbiAgICAgICAgaGFzVmFsaWRLZXkoY29uZmlnKSAmJlxuICAgICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAodHlwZVN0cmluZyA9IFwiXCIgKyBjb25maWcua2V5KSksXG4gICAgICAgIGNvbmZpZykpXG4gICAgICAgICAgaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSAmJlxuICAgICAgICAgICAgXCJrZXlcIiAhPT0gcHJvcE5hbWUgJiZcbiAgICAgICAgICAgIFwiX19zZWxmXCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICBcIl9fc291cmNlXCIgIT09IHByb3BOYW1lICYmXG4gICAgICAgICAgICAoaVtwcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdKTtcbiAgICAgIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuICAgICAgaWYgKDEgPT09IGNoaWxkcmVuTGVuZ3RoKSBpLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICBlbHNlIGlmICgxIDwgY2hpbGRyZW5MZW5ndGgpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKSwgX2kgPSAwO1xuICAgICAgICAgIF9pIDwgY2hpbGRyZW5MZW5ndGg7XG4gICAgICAgICAgX2krK1xuICAgICAgICApXG4gICAgICAgICAgY2hpbGRBcnJheVtfaV0gPSBhcmd1bWVudHNbX2kgKyAyXTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZSAmJiBPYmplY3QuZnJlZXplKGNoaWxkQXJyYXkpO1xuICAgICAgICBpLmNoaWxkcmVuID0gY2hpbGRBcnJheTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKVxuICAgICAgICBmb3IgKHByb3BOYW1lIGluICgoY2hpbGRyZW5MZW5ndGggPSB0eXBlLmRlZmF1bHRQcm9wcyksIGNoaWxkcmVuTGVuZ3RoKSlcbiAgICAgICAgICB2b2lkIDAgPT09IGlbcHJvcE5hbWVdICYmIChpW3Byb3BOYW1lXSA9IGNoaWxkcmVuTGVuZ3RoW3Byb3BOYW1lXSk7XG4gICAgICB0eXBlU3RyaW5nICYmXG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKFxuICAgICAgICAgIGksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZVxuICAgICAgICAgICAgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBcIlVua25vd25cIlxuICAgICAgICAgICAgOiB0eXBlXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIHR5cGVTdHJpbmcsIHZvaWQgMCwgdm9pZCAwLCBnZXRPd25lcigpLCBpKTtcbiAgICB9O1xuICAgIGV4cG9ydHMuY3JlYXRlUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHJlZk9iamVjdCA9IHsgY3VycmVudDogbnVsbCB9O1xuICAgICAgT2JqZWN0LnNlYWwocmVmT2JqZWN0KTtcbiAgICAgIHJldHVybiByZWZPYmplY3Q7XG4gICAgfTtcbiAgICBleHBvcnRzLmZvcndhcmRSZWYgPSBmdW5jdGlvbiAocmVuZGVyKSB7XG4gICAgICBudWxsICE9IHJlbmRlciAmJiByZW5kZXIuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRVxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImZvcndhcmRSZWYgcmVxdWlyZXMgYSByZW5kZXIgZnVuY3Rpb24gYnV0IHJlY2VpdmVkIGEgYG1lbW9gIGNvbXBvbmVudC4gSW5zdGVhZCBvZiBmb3J3YXJkUmVmKG1lbW8oLi4uKSksIHVzZSBtZW1vKGZvcndhcmRSZWYoLi4uKSkuXCJcbiAgICAgICAgICApXG4gICAgICAgIDogXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcmVuZGVyXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImZvcndhcmRSZWYgcmVxdWlyZXMgYSByZW5kZXIgZnVuY3Rpb24gYnV0IHdhcyBnaXZlbiAlcy5cIixcbiAgICAgICAgICAgICAgbnVsbCA9PT0gcmVuZGVyID8gXCJudWxsXCIgOiB0eXBlb2YgcmVuZGVyXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiAwICE9PSByZW5kZXIubGVuZ3RoICYmXG4gICAgICAgICAgICAyICE9PSByZW5kZXIubGVuZ3RoICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBhY2NlcHQgZXhhY3RseSB0d28gcGFyYW1ldGVyczogcHJvcHMgYW5kIHJlZi4gJXNcIixcbiAgICAgICAgICAgICAgMSA9PT0gcmVuZGVyLmxlbmd0aFxuICAgICAgICAgICAgICAgID8gXCJEaWQgeW91IGZvcmdldCB0byB1c2UgdGhlIHJlZiBwYXJhbWV0ZXI/XCJcbiAgICAgICAgICAgICAgICA6IFwiQW55IGFkZGl0aW9uYWwgcGFyYW1ldGVyIHdpbGwgYmUgdW5kZWZpbmVkLlwiXG4gICAgICAgICAgICApO1xuICAgICAgbnVsbCAhPSByZW5kZXIgJiZcbiAgICAgICAgbnVsbCAhPSByZW5kZXIuZGVmYXVsdFByb3BzICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJmb3J3YXJkUmVmIHJlbmRlciBmdW5jdGlvbnMgZG8gbm90IHN1cHBvcnQgZGVmYXVsdFByb3BzLiBEaWQgeW91IGFjY2lkZW50YWxseSBwYXNzIGEgUmVhY3QgY29tcG9uZW50P1wiXG4gICAgICAgICk7XG4gICAgICB2YXIgZWxlbWVudFR5cGUgPSB7ICQkdHlwZW9mOiBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFLCByZW5kZXI6IHJlbmRlciB9LFxuICAgICAgICBvd25OYW1lO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnRUeXBlLCBcImRpc3BsYXlOYW1lXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBvd25OYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgb3duTmFtZSA9IG5hbWU7XG4gICAgICAgICAgcmVuZGVyLm5hbWUgfHxcbiAgICAgICAgICAgIHJlbmRlci5kaXNwbGF5TmFtZSB8fFxuICAgICAgICAgICAgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZW5kZXIsIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pLFxuICAgICAgICAgICAgKHJlbmRlci5kaXNwbGF5TmFtZSA9IG5hbWUpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZWxlbWVudFR5cGU7XG4gICAgfTtcbiAgICBleHBvcnRzLmlzVmFsaWRFbGVtZW50ID0gaXNWYWxpZEVsZW1lbnQ7XG4gICAgZXhwb3J0cy5sYXp5ID0gZnVuY3Rpb24gKGN0b3IpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgICQkdHlwZW9mOiBSRUFDVF9MQVpZX1RZUEUsXG4gICAgICAgIF9wYXlsb2FkOiB7IF9zdGF0dXM6IC0xLCBfcmVzdWx0OiBjdG9yIH0sXG4gICAgICAgIF9pbml0OiBsYXp5SW5pdGlhbGl6ZXJcbiAgICAgIH07XG4gICAgfTtcbiAgICBleHBvcnRzLm1lbW8gPSBmdW5jdGlvbiAodHlwZSwgY29tcGFyZSkge1xuICAgICAgaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHx8XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJtZW1vOiBUaGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIGNvbXBvbmVudC4gSW5zdGVhZCByZWNlaXZlZDogJXNcIixcbiAgICAgICAgICBudWxsID09PSB0eXBlID8gXCJudWxsXCIgOiB0eXBlb2YgdHlwZVxuICAgICAgICApO1xuICAgICAgY29tcGFyZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX01FTU9fVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgY29tcGFyZTogdm9pZCAwID09PSBjb21wYXJlID8gbnVsbCA6IGNvbXBhcmVcbiAgICAgIH07XG4gICAgICB2YXIgb3duTmFtZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb21wYXJlLCBcImRpc3BsYXlOYW1lXCIsIHtcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBvd25OYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgb3duTmFtZSA9IG5hbWU7XG4gICAgICAgICAgdHlwZS5uYW1lIHx8XG4gICAgICAgICAgICB0eXBlLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICAoT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUsIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pLFxuICAgICAgICAgICAgKHR5cGUuZGlzcGxheU5hbWUgPSBuYW1lKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNvbXBhcmU7XG4gICAgfTtcbiAgICBleHBvcnRzLnN0YXJ0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChzY29wZSkge1xuICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCxcbiAgICAgICAgY3VycmVudFRyYW5zaXRpb24gPSB7fTtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBjdXJyZW50VHJhbnNpdGlvbjtcbiAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzID0gbmV3IFNldCgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gc2NvcGUoKSxcbiAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlM7XG4gICAgICAgIG51bGwgIT09IG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoICYmXG4gICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2goY3VycmVudFRyYW5zaXRpb24sIHJldHVyblZhbHVlKTtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlICYmXG4gICAgICAgICAgbnVsbCAhPT0gcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZS50aGVuICYmXG4gICAgICAgICAgcmV0dXJuVmFsdWUudGhlbihub29wLCByZXBvcnRHbG9iYWxFcnJvcik7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXBvcnRHbG9iYWxFcnJvcihlcnJvcik7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBudWxsID09PSBwcmV2VHJhbnNpdGlvbiAmJlxuICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzICYmXG4gICAgICAgICAgKChzY29wZSA9IGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLnNpemUpLFxuICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLmNsZWFyKCksXG4gICAgICAgICAgMTAgPCBzY29wZSAmJlxuICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICBcIkRldGVjdGVkIGEgbGFyZ2UgbnVtYmVyIG9mIHVwZGF0ZXMgaW5zaWRlIHN0YXJ0VHJhbnNpdGlvbi4gSWYgdGhpcyBpcyBkdWUgdG8gYSBzdWJzY3JpcHRpb24gcGxlYXNlIHJlLXdyaXRlIGl0IHRvIHVzZSBSZWFjdCBwcm92aWRlZCBob29rcy4gT3RoZXJ3aXNlIGNvbmN1cnJlbnQgbW9kZSBndWFyYW50ZWVzIGFyZSBvZmYgdGhlIHRhYmxlLlwiXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHByZXZUcmFuc2l0aW9uKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfdXNlQ2FjaGVSZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlQ2FjaGVSZWZyZXNoKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZSA9IGZ1bmN0aW9uICh1c2FibGUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZSh1c2FibGUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24sIGluaXRpYWxTdGF0ZSwgcGVybWFsaW5rKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VBY3Rpb25TdGF0ZShcbiAgICAgICAgYWN0aW9uLFxuICAgICAgICBpbml0aWFsU3RhdGUsXG4gICAgICAgIHBlcm1hbGlua1xuICAgICAgKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlQ29udGV4dCA9IGZ1bmN0aW9uIChDb250ZXh0KSB7XG4gICAgICB2YXIgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7XG4gICAgICBDb250ZXh0LiQkdHlwZW9mID09PSBSRUFDVF9DT05TVU1FUl9UWVBFICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJDYWxsaW5nIHVzZUNvbnRleHQoQ29udGV4dC5Db25zdW1lcikgaXMgbm90IHN1cHBvcnRlZCBhbmQgd2lsbCBjYXVzZSBidWdzLiBEaWQgeW91IG1lYW4gdG8gY2FsbCB1c2VDb250ZXh0KENvbnRleHQpIGluc3RlYWQ/XCJcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBkaXNwYXRjaGVyLnVzZUNvbnRleHQoQ29udGV4dCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZURlYnVnVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGZvcm1hdHRlckZuKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VEZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXJGbik7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZURlZmVycmVkVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlRWZmZWN0ID0gZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlRWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUlkID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSWQoKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlSW1wZXJhdGl2ZUhhbmRsZSA9IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUluc2VydGlvbkVmZmVjdCA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZUluc2VydGlvbkVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgIH07XG4gICAgZXhwb3J0cy51c2VMYXlvdXRFZmZlY3QgPSBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlTWVtbyA9IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgIHJldHVybiByZXNvbHZlRGlzcGF0Y2hlcigpLnVzZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChwYXNzdGhyb3VnaCwgcmVkdWNlcikge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVJlZHVjZXIgPSBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlUmVkdWNlcihyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlUmVmID0gZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlUmVmKGluaXRpYWxWYWx1ZSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVN0YXRlID0gZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVEaXNwYXRjaGVyKCkudXNlU3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudXNlU3luY0V4dGVybmFsU3RvcmUgPSBmdW5jdGlvbiAoXG4gICAgICBzdWJzY3JpYmUsXG4gICAgICBnZXRTbmFwc2hvdCxcbiAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VTeW5jRXh0ZXJuYWxTdG9yZShcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZVRyYW5zaXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VUcmFuc2l0aW9uKCk7XG4gICAgfTtcbiAgICBleHBvcnRzLnZlcnNpb24gPSBcIjE5LjAuMFwiO1xuICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wKEVycm9yKCkpO1xuICB9KSgpO1xuIiwKICAgICIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiBzY2hlZHVsZXIuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuXCJwcm9kdWN0aW9uXCIgIT09IHByb2Nlc3MuZW52Lk5PREVfRU5WICYmXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gcGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lKCkge1xuICAgICAgaWYgKGlzTWVzc2FnZUxvb3BSdW5uaW5nKSB7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IGV4cG9ydHMudW5zdGFibGVfbm93KCk7XG4gICAgICAgIHN0YXJ0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICB2YXIgaGFzTW9yZVdvcmsgPSAhMDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICBpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCA9ICExO1xuICAgICAgICAgICAgaXNIb3N0VGltZW91dFNjaGVkdWxlZCAmJlxuICAgICAgICAgICAgICAoKGlzSG9zdFRpbWVvdXRTY2hlZHVsZWQgPSAhMSksXG4gICAgICAgICAgICAgIGxvY2FsQ2xlYXJUaW1lb3V0KHRhc2tUaW1lb3V0SUQpLFxuICAgICAgICAgICAgICAodGFza1RpbWVvdXRJRCA9IC0xKSk7XG4gICAgICAgICAgICBpc1BlcmZvcm1pbmdXb3JrID0gITA7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBiOiB7XG4gICAgICAgICAgICAgICAgYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrID0gcGVlayh0YXNrUXVldWUpO1xuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudFRhc2sgJiZcbiAgICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrLmV4cGlyYXRpb25UaW1lID4gY3VycmVudFRpbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkWWllbGRUb0hvc3QoKVxuICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gY3VycmVudFRhc2suY2FsbGJhY2s7XG4gICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2suY2FsbGJhY2sgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRUYXNrLnByaW9yaXR5TGV2ZWw7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250aW51YXRpb25DYWxsYmFjayA9IGNhbGxiYWNrKFxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXNrLmV4cGlyYXRpb25UaW1lIDw9IGN1cnJlbnRUaW1lXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaW1lID0gZXhwb3J0cy51bnN0YWJsZV9ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNvbnRpbnVhdGlvbkNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2suY2FsbGJhY2sgPSBjb250aW51YXRpb25DYWxsYmFjaztcbiAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlVGltZXJzKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICBoYXNNb3JlV29yayA9ICEwO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhc2sgPT09IHBlZWsodGFza1F1ZXVlKSAmJiBwb3AodGFza1F1ZXVlKTtcbiAgICAgICAgICAgICAgICAgICAgYWR2YW5jZVRpbWVycyhjdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgcG9wKHRhc2tRdWV1ZSk7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50VGFzayA9IHBlZWsodGFza1F1ZXVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnRUYXNrKSBoYXNNb3JlV29yayA9ICEwO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0VGltZXIgPSBwZWVrKHRpbWVyUXVldWUpO1xuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gZmlyc3RUaW1lciAmJlxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SG9zdFRpbWVvdXQoXG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVGltZW91dCxcbiAgICAgICAgICAgICAgICAgICAgICBmaXJzdFRpbWVyLnN0YXJ0VGltZSAtIGN1cnJlbnRUaW1lXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBoYXNNb3JlV29yayA9ICExO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgKGN1cnJlbnRUYXNrID0gbnVsbCksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJldmlvdXNQcmlvcml0eUxldmVsKSxcbiAgICAgICAgICAgICAgICAoaXNQZXJmb3JtaW5nV29yayA9ICExKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhc01vcmVXb3JrID0gdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBoYXNNb3JlV29ya1xuICAgICAgICAgICAgPyBzY2hlZHVsZVBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSgpXG4gICAgICAgICAgICA6IChpc01lc3NhZ2VMb29wUnVubmluZyA9ICExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoKGhlYXAsIG5vZGUpIHtcbiAgICAgIHZhciBpbmRleCA9IGhlYXAubGVuZ3RoO1xuICAgICAgaGVhcC5wdXNoKG5vZGUpO1xuICAgICAgYTogZm9yICg7IDAgPCBpbmRleDsgKSB7XG4gICAgICAgIHZhciBwYXJlbnRJbmRleCA9IChpbmRleCAtIDEpID4+PiAxLFxuICAgICAgICAgIHBhcmVudCA9IGhlYXBbcGFyZW50SW5kZXhdO1xuICAgICAgICBpZiAoMCA8IGNvbXBhcmUocGFyZW50LCBub2RlKSlcbiAgICAgICAgICAoaGVhcFtwYXJlbnRJbmRleF0gPSBub2RlKSxcbiAgICAgICAgICAgIChoZWFwW2luZGV4XSA9IHBhcmVudCksXG4gICAgICAgICAgICAoaW5kZXggPSBwYXJlbnRJbmRleCk7XG4gICAgICAgIGVsc2UgYnJlYWsgYTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcGVlayhoZWFwKSB7XG4gICAgICByZXR1cm4gMCA9PT0gaGVhcC5sZW5ndGggPyBudWxsIDogaGVhcFswXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wKGhlYXApIHtcbiAgICAgIGlmICgwID09PSBoZWFwLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgZmlyc3QgPSBoZWFwWzBdLFxuICAgICAgICBsYXN0ID0gaGVhcC5wb3AoKTtcbiAgICAgIGlmIChsYXN0ICE9PSBmaXJzdCkge1xuICAgICAgICBoZWFwWzBdID0gbGFzdDtcbiAgICAgICAgYTogZm9yIChcbiAgICAgICAgICB2YXIgaW5kZXggPSAwLCBsZW5ndGggPSBoZWFwLmxlbmd0aCwgaGFsZkxlbmd0aCA9IGxlbmd0aCA+Pj4gMTtcbiAgICAgICAgICBpbmRleCA8IGhhbGZMZW5ndGg7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGxlZnRJbmRleCA9IDIgKiAoaW5kZXggKyAxKSAtIDEsXG4gICAgICAgICAgICBsZWZ0ID0gaGVhcFtsZWZ0SW5kZXhdLFxuICAgICAgICAgICAgcmlnaHRJbmRleCA9IGxlZnRJbmRleCArIDEsXG4gICAgICAgICAgICByaWdodCA9IGhlYXBbcmlnaHRJbmRleF07XG4gICAgICAgICAgaWYgKDAgPiBjb21wYXJlKGxlZnQsIGxhc3QpKVxuICAgICAgICAgICAgcmlnaHRJbmRleCA8IGxlbmd0aCAmJiAwID4gY29tcGFyZShyaWdodCwgbGVmdClcbiAgICAgICAgICAgICAgPyAoKGhlYXBbaW5kZXhdID0gcmlnaHQpLFxuICAgICAgICAgICAgICAgIChoZWFwW3JpZ2h0SW5kZXhdID0gbGFzdCksXG4gICAgICAgICAgICAgICAgKGluZGV4ID0gcmlnaHRJbmRleCkpXG4gICAgICAgICAgICAgIDogKChoZWFwW2luZGV4XSA9IGxlZnQpLFxuICAgICAgICAgICAgICAgIChoZWFwW2xlZnRJbmRleF0gPSBsYXN0KSxcbiAgICAgICAgICAgICAgICAoaW5kZXggPSBsZWZ0SW5kZXgpKTtcbiAgICAgICAgICBlbHNlIGlmIChyaWdodEluZGV4IDwgbGVuZ3RoICYmIDAgPiBjb21wYXJlKHJpZ2h0LCBsYXN0KSlcbiAgICAgICAgICAgIChoZWFwW2luZGV4XSA9IHJpZ2h0KSxcbiAgICAgICAgICAgICAgKGhlYXBbcmlnaHRJbmRleF0gPSBsYXN0KSxcbiAgICAgICAgICAgICAgKGluZGV4ID0gcmlnaHRJbmRleCk7XG4gICAgICAgICAgZWxzZSBicmVhayBhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmlyc3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmUoYSwgYikge1xuICAgICAgdmFyIGRpZmYgPSBhLnNvcnRJbmRleCAtIGIuc29ydEluZGV4O1xuICAgICAgcmV0dXJuIDAgIT09IGRpZmYgPyBkaWZmIDogYS5pZCAtIGIuaWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkdmFuY2VUaW1lcnMoY3VycmVudFRpbWUpIHtcbiAgICAgIGZvciAodmFyIHRpbWVyID0gcGVlayh0aW1lclF1ZXVlKTsgbnVsbCAhPT0gdGltZXI7ICkge1xuICAgICAgICBpZiAobnVsbCA9PT0gdGltZXIuY2FsbGJhY2spIHBvcCh0aW1lclF1ZXVlKTtcbiAgICAgICAgZWxzZSBpZiAodGltZXIuc3RhcnRUaW1lIDw9IGN1cnJlbnRUaW1lKVxuICAgICAgICAgIHBvcCh0aW1lclF1ZXVlKSxcbiAgICAgICAgICAgICh0aW1lci5zb3J0SW5kZXggPSB0aW1lci5leHBpcmF0aW9uVGltZSksXG4gICAgICAgICAgICBwdXNoKHRhc2tRdWV1ZSwgdGltZXIpO1xuICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgICB0aW1lciA9IHBlZWsodGltZXJRdWV1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZVRpbWVvdXQoY3VycmVudFRpbWUpIHtcbiAgICAgIGlzSG9zdFRpbWVvdXRTY2hlZHVsZWQgPSAhMTtcbiAgICAgIGFkdmFuY2VUaW1lcnMoY3VycmVudFRpbWUpO1xuICAgICAgaWYgKCFpc0hvc3RDYWxsYmFja1NjaGVkdWxlZClcbiAgICAgICAgaWYgKG51bGwgIT09IHBlZWsodGFza1F1ZXVlKSlcbiAgICAgICAgICAoaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSAhMCksIHJlcXVlc3RIb3N0Q2FsbGJhY2soKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIGZpcnN0VGltZXIgPSBwZWVrKHRpbWVyUXVldWUpO1xuICAgICAgICAgIG51bGwgIT09IGZpcnN0VGltZXIgJiZcbiAgICAgICAgICAgIHJlcXVlc3RIb3N0VGltZW91dChcbiAgICAgICAgICAgICAgaGFuZGxlVGltZW91dCxcbiAgICAgICAgICAgICAgZmlyc3RUaW1lci5zdGFydFRpbWUgLSBjdXJyZW50VGltZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRZaWVsZFRvSG9zdCgpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLnVuc3RhYmxlX25vdygpIC0gc3RhcnRUaW1lIDwgZnJhbWVJbnRlcnZhbCA/ICExIDogITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3RIb3N0Q2FsbGJhY2soKSB7XG4gICAgICBpc01lc3NhZ2VMb29wUnVubmluZyB8fFxuICAgICAgICAoKGlzTWVzc2FnZUxvb3BSdW5uaW5nID0gITApLCBzY2hlZHVsZVBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSgpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVxdWVzdEhvc3RUaW1lb3V0KGNhbGxiYWNrLCBtcykge1xuICAgICAgdGFza1RpbWVvdXRJRCA9IGxvY2FsU2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKGV4cG9ydHMudW5zdGFibGVfbm93KCkpO1xuICAgICAgfSwgbXMpO1xuICAgIH1cbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KEVycm9yKCkpO1xuICAgIGV4cG9ydHMudW5zdGFibGVfbm93ID0gdm9pZCAwO1xuICAgIGlmIChcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwZXJmb3JtYW5jZSAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcGVyZm9ybWFuY2Uubm93XG4gICAgKSB7XG4gICAgICB2YXIgbG9jYWxQZXJmb3JtYW5jZSA9IHBlcmZvcm1hbmNlO1xuICAgICAgZXhwb3J0cy51bnN0YWJsZV9ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsb2NhbFBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxvY2FsRGF0ZSA9IERhdGUsXG4gICAgICAgIGluaXRpYWxUaW1lID0gbG9jYWxEYXRlLm5vdygpO1xuICAgICAgZXhwb3J0cy51bnN0YWJsZV9ub3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBsb2NhbERhdGUubm93KCkgLSBpbml0aWFsVGltZTtcbiAgICAgIH07XG4gICAgfVxuICAgIHZhciB0YXNrUXVldWUgPSBbXSxcbiAgICAgIHRpbWVyUXVldWUgPSBbXSxcbiAgICAgIHRhc2tJZENvdW50ZXIgPSAxLFxuICAgICAgY3VycmVudFRhc2sgPSBudWxsLFxuICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSAzLFxuICAgICAgaXNQZXJmb3JtaW5nV29yayA9ICExLFxuICAgICAgaXNIb3N0Q2FsbGJhY2tTY2hlZHVsZWQgPSAhMSxcbiAgICAgIGlzSG9zdFRpbWVvdXRTY2hlZHVsZWQgPSAhMSxcbiAgICAgIGxvY2FsU2V0VGltZW91dCA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHNldFRpbWVvdXQgPyBzZXRUaW1lb3V0IDogbnVsbCxcbiAgICAgIGxvY2FsQ2xlYXJUaW1lb3V0ID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY2xlYXJUaW1lb3V0ID8gY2xlYXJUaW1lb3V0IDogbnVsbCxcbiAgICAgIGxvY2FsU2V0SW1tZWRpYXRlID1cbiAgICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIHNldEltbWVkaWF0ZSA/IHNldEltbWVkaWF0ZSA6IG51bGwsXG4gICAgICBpc01lc3NhZ2VMb29wUnVubmluZyA9ICExLFxuICAgICAgdGFza1RpbWVvdXRJRCA9IC0xLFxuICAgICAgZnJhbWVJbnRlcnZhbCA9IDUsXG4gICAgICBzdGFydFRpbWUgPSAtMTtcbiAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbG9jYWxTZXRJbW1lZGlhdGUpXG4gICAgICB2YXIgc2NoZWR1bGVQZXJmb3JtV29ya1VudGlsRGVhZGxpbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvY2FsU2V0SW1tZWRpYXRlKHBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZSk7XG4gICAgICB9O1xuICAgIGVsc2UgaWYgKFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBNZXNzYWdlQ2hhbm5lbCkge1xuICAgICAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKSxcbiAgICAgICAgcG9ydCA9IGNoYW5uZWwucG9ydDI7XG4gICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IHBlcmZvcm1Xb3JrVW50aWxEZWFkbGluZTtcbiAgICAgIHNjaGVkdWxlUGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBwb3J0LnBvc3RNZXNzYWdlKG51bGwpO1xuICAgICAgfTtcbiAgICB9IGVsc2VcbiAgICAgIHNjaGVkdWxlUGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2NhbFNldFRpbWVvdXQocGVyZm9ybVdvcmtVbnRpbERlYWRsaW5lLCAwKTtcbiAgICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9JZGxlUHJpb3JpdHkgPSA1O1xuICAgIGV4cG9ydHMudW5zdGFibGVfSW1tZWRpYXRlUHJpb3JpdHkgPSAxO1xuICAgIGV4cG9ydHMudW5zdGFibGVfTG93UHJpb3JpdHkgPSA0O1xuICAgIGV4cG9ydHMudW5zdGFibGVfTm9ybWFsUHJpb3JpdHkgPSAzO1xuICAgIGV4cG9ydHMudW5zdGFibGVfUHJvZmlsaW5nID0gbnVsbDtcbiAgICBleHBvcnRzLnVuc3RhYmxlX1VzZXJCbG9ja2luZ1ByaW9yaXR5ID0gMjtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2NhbmNlbENhbGxiYWNrID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgIHRhc2suY2FsbGJhY2sgPSBudWxsO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9jb250aW51ZUV4ZWN1dGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlzSG9zdENhbGxiYWNrU2NoZWR1bGVkIHx8XG4gICAgICAgIGlzUGVyZm9ybWluZ1dvcmsgfHxcbiAgICAgICAgKChpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCA9ICEwKSwgcmVxdWVzdEhvc3RDYWxsYmFjaygpKTtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfZm9yY2VGcmFtZVJhdGUgPSBmdW5jdGlvbiAoZnBzKSB7XG4gICAgICAwID4gZnBzIHx8IDEyNSA8IGZwc1xuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImZvcmNlRnJhbWVSYXRlIHRha2VzIGEgcG9zaXRpdmUgaW50IGJldHdlZW4gMCBhbmQgMTI1LCBmb3JjaW5nIGZyYW1lIHJhdGVzIGhpZ2hlciB0aGFuIDEyNSBmcHMgaXMgbm90IHN1cHBvcnRlZFwiXG4gICAgICAgICAgKVxuICAgICAgICA6IChmcmFtZUludGVydmFsID0gMCA8IGZwcyA/IE1hdGguZmxvb3IoMWUzIC8gZnBzKSA6IDUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfZ2V0Rmlyc3RDYWxsYmFja05vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcGVlayh0YXNrUXVldWUpO1xuICAgIH07XG4gICAgZXhwb3J0cy51bnN0YWJsZV9uZXh0ID0gZnVuY3Rpb24gKGV2ZW50SGFuZGxlcikge1xuICAgICAgc3dpdGNoIChjdXJyZW50UHJpb3JpdHlMZXZlbCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHZhciBwcmlvcml0eUxldmVsID0gMztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBwcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICB9XG4gICAgICB2YXIgcHJldmlvdXNQcmlvcml0eUxldmVsID0gY3VycmVudFByaW9yaXR5TGV2ZWw7XG4gICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByaW9yaXR5TGV2ZWw7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZXZlbnRIYW5kbGVyKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBjdXJyZW50UHJpb3JpdHlMZXZlbCA9IHByZXZpb3VzUHJpb3JpdHlMZXZlbDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfcGF1c2VFeGVjdXRpb24gPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3JlcXVlc3RQYWludCA9IGZ1bmN0aW9uICgpIHt9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfcnVuV2l0aFByaW9yaXR5ID0gZnVuY3Rpb24gKHByaW9yaXR5TGV2ZWwsIGV2ZW50SGFuZGxlcikge1xuICAgICAgc3dpdGNoIChwcmlvcml0eUxldmVsKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICBjYXNlIDM6XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHByaW9yaXR5TGV2ZWwgPSAzO1xuICAgICAgfVxuICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHlMZXZlbCA9IGN1cnJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmlvcml0eUxldmVsO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGV2ZW50SGFuZGxlcigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwcmV2aW91c1ByaW9yaXR5TGV2ZWw7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2sgPSBmdW5jdGlvbiAoXG4gICAgICBwcmlvcml0eUxldmVsLFxuICAgICAgY2FsbGJhY2ssXG4gICAgICBvcHRpb25zXG4gICAgKSB7XG4gICAgICB2YXIgY3VycmVudFRpbWUgPSBleHBvcnRzLnVuc3RhYmxlX25vdygpO1xuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiYgbnVsbCAhPT0gb3B0aW9uc1xuICAgICAgICA/ICgob3B0aW9ucyA9IG9wdGlvbnMuZGVsYXkpLFxuICAgICAgICAgIChvcHRpb25zID1cbiAgICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBvcHRpb25zICYmIDAgPCBvcHRpb25zXG4gICAgICAgICAgICAgID8gY3VycmVudFRpbWUgKyBvcHRpb25zXG4gICAgICAgICAgICAgIDogY3VycmVudFRpbWUpKVxuICAgICAgICA6IChvcHRpb25zID0gY3VycmVudFRpbWUpO1xuICAgICAgc3dpdGNoIChwcmlvcml0eUxldmVsKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICB2YXIgdGltZW91dCA9IC0xO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgdGltZW91dCA9IDI1MDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHRpbWVvdXQgPSAxMDczNzQxODIzO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgdGltZW91dCA9IDFlNDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aW1lb3V0ID0gNWUzO1xuICAgICAgfVxuICAgICAgdGltZW91dCA9IG9wdGlvbnMgKyB0aW1lb3V0O1xuICAgICAgcHJpb3JpdHlMZXZlbCA9IHtcbiAgICAgICAgaWQ6IHRhc2tJZENvdW50ZXIrKyxcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICBwcmlvcml0eUxldmVsOiBwcmlvcml0eUxldmVsLFxuICAgICAgICBzdGFydFRpbWU6IG9wdGlvbnMsXG4gICAgICAgIGV4cGlyYXRpb25UaW1lOiB0aW1lb3V0LFxuICAgICAgICBzb3J0SW5kZXg6IC0xXG4gICAgICB9O1xuICAgICAgb3B0aW9ucyA+IGN1cnJlbnRUaW1lXG4gICAgICAgID8gKChwcmlvcml0eUxldmVsLnNvcnRJbmRleCA9IG9wdGlvbnMpLFxuICAgICAgICAgIHB1c2godGltZXJRdWV1ZSwgcHJpb3JpdHlMZXZlbCksXG4gICAgICAgICAgbnVsbCA9PT0gcGVlayh0YXNrUXVldWUpICYmXG4gICAgICAgICAgICBwcmlvcml0eUxldmVsID09PSBwZWVrKHRpbWVyUXVldWUpICYmXG4gICAgICAgICAgICAoaXNIb3N0VGltZW91dFNjaGVkdWxlZFxuICAgICAgICAgICAgICA/IChsb2NhbENsZWFyVGltZW91dCh0YXNrVGltZW91dElEKSwgKHRhc2tUaW1lb3V0SUQgPSAtMSkpXG4gICAgICAgICAgICAgIDogKGlzSG9zdFRpbWVvdXRTY2hlZHVsZWQgPSAhMCksXG4gICAgICAgICAgICByZXF1ZXN0SG9zdFRpbWVvdXQoaGFuZGxlVGltZW91dCwgb3B0aW9ucyAtIGN1cnJlbnRUaW1lKSkpXG4gICAgICAgIDogKChwcmlvcml0eUxldmVsLnNvcnRJbmRleCA9IHRpbWVvdXQpLFxuICAgICAgICAgIHB1c2godGFza1F1ZXVlLCBwcmlvcml0eUxldmVsKSxcbiAgICAgICAgICBpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCB8fFxuICAgICAgICAgICAgaXNQZXJmb3JtaW5nV29yayB8fFxuICAgICAgICAgICAgKChpc0hvc3RDYWxsYmFja1NjaGVkdWxlZCA9ICEwKSwgcmVxdWVzdEhvc3RDYWxsYmFjaygpKSk7XG4gICAgICByZXR1cm4gcHJpb3JpdHlMZXZlbDtcbiAgICB9O1xuICAgIGV4cG9ydHMudW5zdGFibGVfc2hvdWxkWWllbGQgPSBzaG91bGRZaWVsZFRvSG9zdDtcbiAgICBleHBvcnRzLnVuc3RhYmxlX3dyYXBDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgdmFyIHBhcmVudFByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmV2aW91c1ByaW9yaXR5TGV2ZWwgPSBjdXJyZW50UHJpb3JpdHlMZXZlbDtcbiAgICAgICAgY3VycmVudFByaW9yaXR5TGV2ZWwgPSBwYXJlbnRQcmlvcml0eUxldmVsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGN1cnJlbnRQcmlvcml0eUxldmVsID0gcHJldmlvdXNQcmlvcml0eUxldmVsO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wICYmXG4gICAgICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AoRXJyb3IoKSk7XG4gIH0pKCk7XG4iLAogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWRvbS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBcIlwiICsgdmFsdWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXJJbmZvLCBpbXBsZW1lbnRhdGlvbikge1xuICAgICAgdmFyIGtleSA9XG4gICAgICAgIDMgPCBhcmd1bWVudHMubGVuZ3RoICYmIHZvaWQgMCAhPT0gYXJndW1lbnRzWzNdID8gYXJndW1lbnRzWzNdIDogbnVsbDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbihrZXkpO1xuICAgICAgICB2YXIgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gITE7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICEwO1xuICAgICAgfVxuICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ICYmXG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU3ltYm9sICYmXG4gICAgICAgICAgICBTeW1ib2wudG9TdHJpbmdUYWcgJiZcbiAgICAgICAgICAgIGtleVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgICAga2V5LmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICAgIFwiT2JqZWN0XCJcbiAgICAgICAgKSxcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKGtleSkpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX1BPUlRBTF9UWVBFLFxuICAgICAgICBrZXk6IG51bGwgPT0ga2V5ID8gbnVsbCA6IFwiXCIgKyBrZXksXG4gICAgICAgIGNoaWxkcmVuOiBjaGlsZHJlbixcbiAgICAgICAgY29udGFpbmVySW5mbzogY29udGFpbmVySW5mbyxcbiAgICAgICAgaW1wbGVtZW50YXRpb246IGltcGxlbWVudGF0aW9uXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDcm9zc09yaWdpblN0cmluZ0FzKGFzLCBpbnB1dCkge1xuICAgICAgaWYgKFwiZm9udFwiID09PSBhcykgcmV0dXJuIFwiXCI7XG4gICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGlucHV0KVxuICAgICAgICByZXR1cm4gXCJ1c2UtY3JlZGVudGlhbHNcIiA9PT0gaW5wdXQgPyBpbnB1dCA6IFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcodGhpbmcpIHtcbiAgICAgIHJldHVybiBudWxsID09PSB0aGluZ1xuICAgICAgICA/IFwiYG51bGxgXCJcbiAgICAgICAgOiB2b2lkIDAgPT09IHRoaW5nXG4gICAgICAgICAgPyBcImB1bmRlZmluZWRgXCJcbiAgICAgICAgICA6IFwiXCIgPT09IHRoaW5nXG4gICAgICAgICAgICA/IFwiYW4gZW1wdHkgc3RyaW5nXCJcbiAgICAgICAgICAgIDogJ3NvbWV0aGluZyB3aXRoIHR5cGUgXCInICsgdHlwZW9mIHRoaW5nICsgJ1wiJztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcodGhpbmcpIHtcbiAgICAgIHJldHVybiBudWxsID09PSB0aGluZ1xuICAgICAgICA/IFwiYG51bGxgXCJcbiAgICAgICAgOiB2b2lkIDAgPT09IHRoaW5nXG4gICAgICAgICAgPyBcImB1bmRlZmluZWRgXCJcbiAgICAgICAgICA6IFwiXCIgPT09IHRoaW5nXG4gICAgICAgICAgICA/IFwiYW4gZW1wdHkgc3RyaW5nXCJcbiAgICAgICAgICAgIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHRoaW5nXG4gICAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkodGhpbmcpXG4gICAgICAgICAgICAgIDogXCJudW1iZXJcIiA9PT0gdHlwZW9mIHRoaW5nXG4gICAgICAgICAgICAgICAgPyBcImBcIiArIHRoaW5nICsgXCJgXCJcbiAgICAgICAgICAgICAgICA6ICdzb21ldGhpbmcgd2l0aCB0eXBlIFwiJyArIHR5cGVvZiB0aGluZyArICdcIic7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgbnVsbCA9PT0gZGlzcGF0Y2hlciAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiSW52YWxpZCBob29rIGNhbGwuIEhvb2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgb2YgdGhlIGJvZHkgb2YgYSBmdW5jdGlvbiBjb21wb25lbnQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbjIuIFlvdSBtaWdodCBiZSBicmVha2luZyB0aGUgUnVsZXMgb2YgSG9va3NcXG4zLiBZb3UgbWlnaHQgaGF2ZSBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QgaW4gdGhlIHNhbWUgYXBwXFxuU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gZGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChFcnJvcigpKTtcbiAgICB2YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIiksXG4gICAgICBJbnRlcm5hbHMgPSB7XG4gICAgICAgIGQ6IHtcbiAgICAgICAgICBmOiBub29wLFxuICAgICAgICAgIHI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgZm9ybSBlbGVtZW50LiByZXF1ZXN0Rm9ybVJlc2V0IG11c3QgYmUgcGFzc2VkIGEgZm9ybSB0aGF0IHdhcyByZW5kZXJlZCBieSBSZWFjdC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIEQ6IG5vb3AsXG4gICAgICAgICAgQzogbm9vcCxcbiAgICAgICAgICBMOiBub29wLFxuICAgICAgICAgIG06IG5vb3AsXG4gICAgICAgICAgWDogbm9vcCxcbiAgICAgICAgICBTOiBub29wLFxuICAgICAgICAgIE06IG5vb3BcbiAgICAgICAgfSxcbiAgICAgICAgcDogMCxcbiAgICAgICAgZmluZERPTU5vZGU6IG51bGxcbiAgICAgIH0sXG4gICAgICBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIiksXG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscyA9XG4gICAgICAgIFJlYWN0Ll9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERTtcbiAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgTWFwICYmXG4gICAgICBudWxsICE9IE1hcC5wcm90b3R5cGUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIE1hcC5wcm90b3R5cGUuZm9yRWFjaCAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0ICYmXG4gICAgICBudWxsICE9IFNldC5wcm90b3R5cGUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldC5wcm90b3R5cGUuY2xlYXIgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFNldC5wcm90b3R5cGUuZm9yRWFjaCkgfHxcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiUmVhY3QgZGVwZW5kcyBvbiBNYXAgYW5kIFNldCBidWlsdC1pbiB0eXBlcy4gTWFrZSBzdXJlIHRoYXQgeW91IGxvYWQgYSBwb2x5ZmlsbCBpbiBvbGRlciBicm93c2Vycy4gaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3JlYWN0LXBvbHlmaWxsc1wiXG4gICAgICApO1xuICAgIGV4cG9ydHMuX19ET01fSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfV0FSTl9VU0VSU19USEVZX0NBTk5PVF9VUEdSQURFID1cbiAgICAgIEludGVybmFscztcbiAgICBleHBvcnRzLmNyZWF0ZVBvcnRhbCA9IGZ1bmN0aW9uIChjaGlsZHJlbiwgY29udGFpbmVyKSB7XG4gICAgICB2YXIga2V5ID1cbiAgICAgICAgMiA8IGFyZ3VtZW50cy5sZW5ndGggJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMl0gPyBhcmd1bWVudHNbMl0gOiBudWxsO1xuICAgICAgaWYgKFxuICAgICAgICAhY29udGFpbmVyIHx8XG4gICAgICAgICgxICE9PSBjb250YWluZXIubm9kZVR5cGUgJiZcbiAgICAgICAgICA5ICE9PSBjb250YWluZXIubm9kZVR5cGUgJiZcbiAgICAgICAgICAxMSAhPT0gY29udGFpbmVyLm5vZGVUeXBlKVxuICAgICAgKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuXCIpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVBvcnRhbCQxKGNoaWxkcmVuLCBjb250YWluZXIsIG51bGwsIGtleSk7XG4gICAgfTtcbiAgICBleHBvcnRzLmZsdXNoU3luYyA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgdmFyIHByZXZpb3VzVHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIHByZXZpb3VzVXBkYXRlUHJpb3JpdHkgPSBJbnRlcm5hbHMucDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICgoKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBudWxsKSwgKEludGVybmFscy5wID0gMiksIGZuKSlcbiAgICAgICAgICByZXR1cm4gZm4oKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldmlvdXNUcmFuc2l0aW9uKSxcbiAgICAgICAgICAoSW50ZXJuYWxzLnAgPSBwcmV2aW91c1VwZGF0ZVByaW9yaXR5KSxcbiAgICAgICAgICBJbnRlcm5hbHMuZC5mKCkgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiZmx1c2hTeW5jIHdhcyBjYWxsZWQgZnJvbSBpbnNpZGUgYSBsaWZlY3ljbGUgbWV0aG9kLiBSZWFjdCBjYW5ub3QgZmx1c2ggd2hlbiBSZWFjdCBpcyBhbHJlYWR5IHJlbmRlcmluZy4gQ29uc2lkZXIgbW92aW5nIHRoaXMgY2FsbCB0byBhIHNjaGVkdWxlciB0YXNrIG9yIG1pY3JvIHRhc2suXCJcbiAgICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWNvbm5lY3QgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZlxuICAgICAgICA/IG51bGwgIT0gb3B0aW9ucyAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdERPTS5wcmVjb25uZWN0KCk6IEV4cGVjdGVkIHRoZSBgb3B0aW9uc2AgYXJndW1lbnQgKHNlY29uZCkgdG8gYmUgYW4gb2JqZWN0IGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLiBUaGUgb25seSBzdXBwb3J0ZWQgb3B0aW9uIGF0IHRoaXMgdGltZSBpcyBgY3Jvc3NPcmlnaW5gIHdoaWNoIGFjY2VwdHMgYSBzdHJpbmcuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMpXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBudWxsICE9IG9wdGlvbnMgJiZcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBvcHRpb25zLmNyb3NzT3JpZ2luICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWNvbm5lY3QoKTogRXhwZWN0ZWQgdGhlIGBjcm9zc09yaWdpbmAgb3B0aW9uIChzZWNvbmQgYXJndW1lbnQpIHRvIGJlIGEgc3RyaW5nIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLiBUcnkgcmVtb3ZpbmcgdGhpcyBvcHRpb24gb3IgcGFzc2luZyBhIHN0cmluZyB2YWx1ZSBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMuY3Jvc3NPcmlnaW4pXG4gICAgICAgICAgICApXG4gICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3RET00ucHJlY29ubmVjdCgpOiBFeHBlY3RlZCB0aGUgYGhyZWZgIGFyZ3VtZW50IChmaXJzdCkgdG8gYmUgYSBub24tZW1wdHkgc3RyaW5nIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKVxuICAgICAgICAgICk7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJlxuICAgICAgICAob3B0aW9uc1xuICAgICAgICAgID8gKChvcHRpb25zID0gb3B0aW9ucy5jcm9zc09yaWdpbiksXG4gICAgICAgICAgICAob3B0aW9ucyA9XG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgICAgICAgICAgPyBcInVzZS1jcmVkZW50aWFsc1wiID09PSBvcHRpb25zXG4gICAgICAgICAgICAgICAgICA/IG9wdGlvbnNcbiAgICAgICAgICAgICAgICAgIDogXCJcIlxuICAgICAgICAgICAgICAgIDogdm9pZCAwKSlcbiAgICAgICAgICA6IChvcHRpb25zID0gbnVsbCksXG4gICAgICAgIEludGVybmFscy5kLkMoaHJlZiwgb3B0aW9ucykpO1xuICAgIH07XG4gICAgZXhwb3J0cy5wcmVmZXRjaEROUyA9IGZ1bmN0aW9uIChocmVmKSB7XG4gICAgICBpZiAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIGhyZWYgfHwgIWhyZWYpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZWFjdERPTS5wcmVmZXRjaEROUygpOiBFeHBlY3RlZCB0aGUgYGhyZWZgIGFyZ3VtZW50IChmaXJzdCkgdG8gYmUgYSBub24tZW1wdHkgc3RyaW5nIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZilcbiAgICAgICAgKTtcbiAgICAgIGVsc2UgaWYgKDEgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzWzFdO1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2Ygb3B0aW9ucyAmJiBvcHRpb25zLmhhc093blByb3BlcnR5KFwiY3Jvc3NPcmlnaW5cIilcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlZmV0Y2hETlMoKTogRXhwZWN0ZWQgb25seSBvbmUgYXJndW1lbnQsIGBocmVmYCwgYnV0IGVuY291bnRlcmVkICVzIGFzIGEgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQuIFRoaXMgYXJndW1lbnQgaXMgcmVzZXJ2ZWQgZm9yIGZ1dHVyZSBvcHRpb25zIGFuZCBpcyBjdXJyZW50bHkgZGlzYWxsb3dlZC4gSXQgbG9va3MgbGlrZSB0aGUgeW91IGFyZSBhdHRlbXB0aW5nIHRvIHNldCBhIGNyb3NzT3JpZ2luIHByb3BlcnR5IGZvciB0aGlzIEROUyBsb29rdXAgaGludC4gQnJvd3NlcnMgZG8gbm90IHBlcmZvcm0gRE5TIHF1ZXJpZXMgdXNpbmcgQ09SUyBhbmQgc2V0dGluZyB0aGlzIGF0dHJpYnV0ZSBvbiB0aGUgcmVzb3VyY2UgaGludCBoYXMgbm8gZWZmZWN0LiBUcnkgY2FsbGluZyBSZWFjdERPTS5wcmVmZXRjaEROUygpIHdpdGgganVzdCBhIHNpbmdsZSBzdHJpbmcgYXJndW1lbnQsIGBocmVmYC5cIixcbiAgICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nRW51bUZvcldhcm5pbmcob3B0aW9ucylcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3RET00ucHJlZmV0Y2hETlMoKTogRXhwZWN0ZWQgb25seSBvbmUgYXJndW1lbnQsIGBocmVmYCwgYnV0IGVuY291bnRlcmVkICVzIGFzIGEgc2Vjb25kIGFyZ3VtZW50IGluc3RlYWQuIFRoaXMgYXJndW1lbnQgaXMgcmVzZXJ2ZWQgZm9yIGZ1dHVyZSBvcHRpb25zIGFuZCBpcyBjdXJyZW50bHkgZGlzYWxsb3dlZC4gVHJ5IGNhbGxpbmcgUmVhY3RET00ucHJlZmV0Y2hETlMoKSB3aXRoIGp1c3QgYSBzaW5nbGUgc3RyaW5nIGFyZ3VtZW50LCBgaHJlZmAuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMpXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgSW50ZXJuYWxzLmQuRChocmVmKTtcbiAgICB9O1xuICAgIGV4cG9ydHMucHJlaW5pdCA9IGZ1bmN0aW9uIChocmVmLCBvcHRpb25zKSB7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmXG4gICAgICAgID8gbnVsbCA9PSBvcHRpb25zIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0RE9NLnByZWluaXQoKTogRXhwZWN0ZWQgdGhlIGBvcHRpb25zYCBhcmd1bWVudCAoc2Vjb25kKSB0byBiZSBhbiBvYmplY3Qgd2l0aCBhbiBgYXNgIHByb3BlcnR5IGRlc2NyaWJpbmcgdGhlIHR5cGUgb2YgcmVzb3VyY2UgdG8gYmUgcHJlaW5pdGlhbGl6ZWQgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMpXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBcInN0eWxlXCIgIT09IG9wdGlvbnMuYXMgJiZcbiAgICAgICAgICAgIFwic2NyaXB0XCIgIT09IG9wdGlvbnMuYXMgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICdSZWFjdERPTS5wcmVpbml0KCk6IEV4cGVjdGVkIHRoZSBgYXNgIHByb3BlcnR5IGluIHRoZSBgb3B0aW9uc2AgYXJndW1lbnQgKHNlY29uZCkgdG8gY29udGFpbiBhIHZhbGlkIHZhbHVlIGRlc2NyaWJpbmcgdGhlIHR5cGUgb2YgcmVzb3VyY2UgdG8gYmUgcHJlaW5pdGlhbGl6ZWQgYnV0IGVuY291bnRlcmVkICVzIGluc3RlYWQuIFZhbGlkIHZhbHVlcyBmb3IgYGFzYCBhcmUgXCJzdHlsZVwiIGFuZCBcInNjcmlwdFwiLicsXG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMuYXMpXG4gICAgICAgICAgICApXG4gICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3RET00ucHJlaW5pdCgpOiBFeHBlY3RlZCB0aGUgYGhyZWZgIGFyZ3VtZW50IChmaXJzdCkgdG8gYmUgYSBub24tZW1wdHkgc3RyaW5nIGJ1dCBlbmNvdW50ZXJlZCAlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKVxuICAgICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmXG4gICAgICAgIG9wdGlvbnMgJiZcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXNcbiAgICAgICkge1xuICAgICAgICB2YXIgYXMgPSBvcHRpb25zLmFzLFxuICAgICAgICAgIGNyb3NzT3JpZ2luID0gZ2V0Q3Jvc3NPcmlnaW5TdHJpbmdBcyhhcywgb3B0aW9ucy5jcm9zc09yaWdpbiksXG4gICAgICAgICAgaW50ZWdyaXR5ID1cbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmludGVncml0eSA/IG9wdGlvbnMuaW50ZWdyaXR5IDogdm9pZCAwLFxuICAgICAgICAgIGZldGNoUHJpb3JpdHkgPVxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICA/IG9wdGlvbnMuZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICA6IHZvaWQgMDtcbiAgICAgICAgXCJzdHlsZVwiID09PSBhc1xuICAgICAgICAgID8gSW50ZXJuYWxzLmQuUyhcbiAgICAgICAgICAgICAgaHJlZixcbiAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMucHJlY2VkZW5jZVxuICAgICAgICAgICAgICAgID8gb3B0aW9ucy5wcmVjZWRlbmNlXG4gICAgICAgICAgICAgICAgOiB2b2lkIDAsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjcm9zc09yaWdpbjogY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgaW50ZWdyaXR5OiBpbnRlZ3JpdHksXG4gICAgICAgICAgICAgICAgZmV0Y2hQcmlvcml0eTogZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBcInNjcmlwdFwiID09PSBhcyAmJlxuICAgICAgICAgICAgSW50ZXJuYWxzLmQuWChocmVmLCB7XG4gICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBjcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgaW50ZWdyaXR5OiBpbnRlZ3JpdHksXG4gICAgICAgICAgICAgIGZldGNoUHJpb3JpdHk6IGZldGNoUHJpb3JpdHksXG4gICAgICAgICAgICAgIG5vbmNlOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5ub25jZSA/IG9wdGlvbnMubm9uY2UgOiB2b2lkIDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5wcmVpbml0TW9kdWxlID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBlbmNvdW50ZXJlZCA9IFwiXCI7XG4gICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZikgfHxcbiAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgXCIgVGhlIGBocmVmYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZikgK1xuICAgICAgICAgIFwiLlwiKTtcbiAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucyAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICA/IChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBvcHRpb25zYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zKSArXG4gICAgICAgICAgICBcIi5cIilcbiAgICAgICAgOiBvcHRpb25zICYmXG4gICAgICAgICAgXCJhc1wiIGluIG9wdGlvbnMgJiZcbiAgICAgICAgICBcInNjcmlwdFwiICE9PSBvcHRpb25zLmFzICYmXG4gICAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYGFzYCBvcHRpb24gZW5jb3VudGVyZWQgd2FzIFwiICtcbiAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKG9wdGlvbnMuYXMpICtcbiAgICAgICAgICAgIFwiLlwiKTtcbiAgICAgIGlmIChlbmNvdW50ZXJlZClcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlJlYWN0RE9NLnByZWluaXRNb2R1bGUoKTogRXhwZWN0ZWQgdXAgdG8gdHdvIGFyZ3VtZW50cywgYSBub24tZW1wdHkgYGhyZWZgIHN0cmluZyBhbmQsIG9wdGlvbmFsbHksIGFuIGBvcHRpb25zYCBvYmplY3Qgd2l0aCBhIHZhbGlkIGBhc2AgcHJvcGVydHkuJXNcIixcbiAgICAgICAgICBlbmNvdW50ZXJlZFxuICAgICAgICApO1xuICAgICAgZWxzZVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgICgoZW5jb3VudGVyZWQgPVxuICAgICAgICAgICAgb3B0aW9ucyAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hcyA/IG9wdGlvbnMuYXMgOiBcInNjcmlwdFwiKSxcbiAgICAgICAgICBlbmNvdW50ZXJlZClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIChlbmNvdW50ZXJlZCA9XG4gICAgICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ0VudW1Gb3JXYXJuaW5nKGVuY291bnRlcmVkKSksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgJ1JlYWN0RE9NLnByZWluaXRNb2R1bGUoKTogQ3VycmVudGx5IHRoZSBvbmx5IHN1cHBvcnRlZCBcImFzXCIgdHlwZSBmb3IgdGhpcyBmdW5jdGlvbiBpcyBcInNjcmlwdFwiIGJ1dCByZWNlaXZlZCBcIiVzXCIgaW5zdGVhZC4gVGhpcyB3YXJuaW5nIHdhcyBnZW5lcmF0ZWQgZm9yIGBocmVmYCBcIiVzXCIuIEluIHRoZSBmdXR1cmUgb3RoZXIgbW9kdWxlIHR5cGVzIHdpbGwgYmUgc3VwcG9ydGVkLCBhbGlnbmluZyB3aXRoIHRoZSBpbXBvcnQtYXR0cmlidXRlcyBwcm9wb3NhbC4gTGVhcm4gbW9yZSBoZXJlOiAoaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtaW1wb3J0LWF0dHJpYnV0ZXMpJyxcbiAgICAgICAgICAgICAgICBlbmNvdW50ZXJlZCxcbiAgICAgICAgICAgICAgICBocmVmXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZilcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmIG51bGwgIT09IG9wdGlvbnMpIHtcbiAgICAgICAgICBpZiAobnVsbCA9PSBvcHRpb25zLmFzIHx8IFwic2NyaXB0XCIgPT09IG9wdGlvbnMuYXMpXG4gICAgICAgICAgICAoZW5jb3VudGVyZWQgPSBnZXRDcm9zc09yaWdpblN0cmluZ0FzKFxuICAgICAgICAgICAgICBvcHRpb25zLmFzLFxuICAgICAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgSW50ZXJuYWxzLmQuTShocmVmLCB7XG4gICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46IGVuY291bnRlcmVkLFxuICAgICAgICAgICAgICAgIGludGVncml0eTpcbiAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmludGVncml0eVxuICAgICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuaW50ZWdyaXR5XG4gICAgICAgICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgICAgICAgIG5vbmNlOlxuICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMubm9uY2UgPyBvcHRpb25zLm5vbmNlIDogdm9pZCAwXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgbnVsbCA9PSBvcHRpb25zICYmIEludGVybmFscy5kLk0oaHJlZik7XG4gICAgfTtcbiAgICBleHBvcnRzLnByZWxvYWQgPSBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgdmFyIGVuY291bnRlcmVkID0gXCJcIjtcbiAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgaHJlZiAmJiBocmVmKSB8fFxuICAgICAgICAoZW5jb3VudGVyZWQgKz1cbiAgICAgICAgICBcIiBUaGUgYGhyZWZgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhocmVmKSArXG4gICAgICAgICAgXCIuXCIpO1xuICAgICAgbnVsbCA9PSBvcHRpb25zIHx8IFwib2JqZWN0XCIgIT09IHR5cGVvZiBvcHRpb25zXG4gICAgICAgID8gKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgICBcIiBUaGUgYG9wdGlvbnNgIGFyZ3VtZW50IGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMpICtcbiAgICAgICAgICAgIFwiLlwiKVxuICAgICAgICA6IChcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hcyAmJiBvcHRpb25zLmFzKSB8fFxuICAgICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBhc2Agb3B0aW9uIGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMuYXMpICtcbiAgICAgICAgICAgIFwiLlwiKTtcbiAgICAgIGVuY291bnRlcmVkICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1JlYWN0RE9NLnByZWxvYWQoKTogRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cywgYSBub24tZW1wdHkgYGhyZWZgIHN0cmluZyBhbmQgYW4gYG9wdGlvbnNgIG9iamVjdCB3aXRoIGFuIGBhc2AgcHJvcGVydHkgdmFsaWQgZm9yIGEgYDxsaW5rIHJlbD1cInByZWxvYWRcIiBhcz1cIi4uLlwiIC8+YCB0YWcuJXMnLFxuICAgICAgICAgIGVuY291bnRlcmVkXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBocmVmICYmXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvcHRpb25zICYmXG4gICAgICAgIG51bGwgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXNcbiAgICAgICkge1xuICAgICAgICBlbmNvdW50ZXJlZCA9IG9wdGlvbnMuYXM7XG4gICAgICAgIHZhciBjcm9zc09yaWdpbiA9IGdldENyb3NzT3JpZ2luU3RyaW5nQXMoXG4gICAgICAgICAgZW5jb3VudGVyZWQsXG4gICAgICAgICAgb3B0aW9ucy5jcm9zc09yaWdpblxuICAgICAgICApO1xuICAgICAgICBJbnRlcm5hbHMuZC5MKGhyZWYsIGVuY291bnRlcmVkLCB7XG4gICAgICAgICAgY3Jvc3NPcmlnaW46IGNyb3NzT3JpZ2luLFxuICAgICAgICAgIGludGVncml0eTpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmludGVncml0eSA/IG9wdGlvbnMuaW50ZWdyaXR5IDogdm9pZCAwLFxuICAgICAgICAgIG5vbmNlOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5ub25jZSA/IG9wdGlvbnMubm9uY2UgOiB2b2lkIDAsXG4gICAgICAgICAgdHlwZTogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMudHlwZSA/IG9wdGlvbnMudHlwZSA6IHZvaWQgMCxcbiAgICAgICAgICBmZXRjaFByaW9yaXR5OlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICA/IG9wdGlvbnMuZmV0Y2hQcmlvcml0eVxuICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICByZWZlcnJlclBvbGljeTpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLnJlZmVycmVyUG9saWN5XG4gICAgICAgICAgICAgID8gb3B0aW9ucy5yZWZlcnJlclBvbGljeVxuICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICBpbWFnZVNyY1NldDpcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBvcHRpb25zLmltYWdlU3JjU2V0XG4gICAgICAgICAgICAgID8gb3B0aW9ucy5pbWFnZVNyY1NldFxuICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICBpbWFnZVNpemVzOlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuaW1hZ2VTaXplc1xuICAgICAgICAgICAgICA/IG9wdGlvbnMuaW1hZ2VTaXplc1xuICAgICAgICAgICAgICA6IHZvaWQgMCxcbiAgICAgICAgICBtZWRpYTogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMubWVkaWEgPyBvcHRpb25zLm1lZGlhIDogdm9pZCAwXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgZXhwb3J0cy5wcmVsb2FkTW9kdWxlID0gZnVuY3Rpb24gKGhyZWYsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBlbmNvdW50ZXJlZCA9IFwiXCI7XG4gICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZikgfHxcbiAgICAgICAgKGVuY291bnRlcmVkICs9XG4gICAgICAgICAgXCIgVGhlIGBocmVmYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgIGdldFZhbHVlRGVzY3JpcHRvckV4cGVjdGluZ09iamVjdEZvcldhcm5pbmcoaHJlZikgK1xuICAgICAgICAgIFwiLlwiKTtcbiAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucyAmJiBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb3B0aW9uc1xuICAgICAgICA/IChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBvcHRpb25zYCBhcmd1bWVudCBlbmNvdW50ZXJlZCB3YXMgXCIgK1xuICAgICAgICAgICAgZ2V0VmFsdWVEZXNjcmlwdG9yRXhwZWN0aW5nT2JqZWN0Rm9yV2FybmluZyhvcHRpb25zKSArXG4gICAgICAgICAgICBcIi5cIilcbiAgICAgICAgOiBvcHRpb25zICYmXG4gICAgICAgICAgXCJhc1wiIGluIG9wdGlvbnMgJiZcbiAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2Ygb3B0aW9ucy5hcyAmJlxuICAgICAgICAgIChlbmNvdW50ZXJlZCArPVxuICAgICAgICAgICAgXCIgVGhlIGBhc2Agb3B0aW9uIGVuY291bnRlcmVkIHdhcyBcIiArXG4gICAgICAgICAgICBnZXRWYWx1ZURlc2NyaXB0b3JFeHBlY3RpbmdPYmplY3RGb3JXYXJuaW5nKG9wdGlvbnMuYXMpICtcbiAgICAgICAgICAgIFwiLlwiKTtcbiAgICAgIGVuY291bnRlcmVkICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgJ1JlYWN0RE9NLnByZWxvYWRNb2R1bGUoKTogRXhwZWN0ZWQgdHdvIGFyZ3VtZW50cywgYSBub24tZW1wdHkgYGhyZWZgIHN0cmluZyBhbmQsIG9wdGlvbmFsbHksIGFuIGBvcHRpb25zYCBvYmplY3Qgd2l0aCBhbiBgYXNgIHByb3BlcnR5IHZhbGlkIGZvciBhIGA8bGluayByZWw9XCJtb2R1bGVwcmVsb2FkXCIgYXM9XCIuLi5cIiAvPmAgdGFnLiVzJyxcbiAgICAgICAgICBlbmNvdW50ZXJlZFxuICAgICAgICApO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiZcbiAgICAgICAgKG9wdGlvbnNcbiAgICAgICAgICA/ICgoZW5jb3VudGVyZWQgPSBnZXRDcm9zc09yaWdpblN0cmluZ0FzKFxuICAgICAgICAgICAgICBvcHRpb25zLmFzLFxuICAgICAgICAgICAgICBvcHRpb25zLmNyb3NzT3JpZ2luXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIEludGVybmFscy5kLm0oaHJlZiwge1xuICAgICAgICAgICAgICBhczpcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5hcyAmJiBcInNjcmlwdFwiICE9PSBvcHRpb25zLmFzXG4gICAgICAgICAgICAgICAgICA/IG9wdGlvbnMuYXNcbiAgICAgICAgICAgICAgICAgIDogdm9pZCAwLFxuICAgICAgICAgICAgICBjcm9zc09yaWdpbjogZW5jb3VudGVyZWQsXG4gICAgICAgICAgICAgIGludGVncml0eTpcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAgID8gb3B0aW9ucy5pbnRlZ3JpdHlcbiAgICAgICAgICAgICAgICAgIDogdm9pZCAwXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICA6IEludGVybmFscy5kLm0oaHJlZikpO1xuICAgIH07XG4gICAgZXhwb3J0cy5yZXF1ZXN0Rm9ybVJlc2V0ID0gZnVuY3Rpb24gKGZvcm0pIHtcbiAgICAgIEludGVybmFscy5kLnIoZm9ybSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzID0gZnVuY3Rpb24gKGZuLCBhKSB7XG4gICAgICByZXR1cm4gZm4oYSk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24sIGluaXRpYWxTdGF0ZSwgcGVybWFsaW5rKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VGb3JtU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUsIHBlcm1hbGluayk7XG4gICAgfTtcbiAgICBleHBvcnRzLnVzZUZvcm1TdGF0dXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZURpc3BhdGNoZXIoKS51c2VIb3N0VHJhbnNpdGlvblN0YXR1cygpO1xuICAgIH07XG4gICAgZXhwb3J0cy52ZXJzaW9uID0gXCIxOS4wLjBcIjtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgfSkoKTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBjaGVja0RDRSgpIHtcbiAgLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuICBpZiAoXG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFICE9PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFRoaXMgYnJhbmNoIGlzIHVucmVhY2hhYmxlIGJlY2F1c2UgdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZFxuICAgIC8vIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgY29uZGl0aW9uIGlzIHRydWUgb25seSBpbiBkZXZlbG9wbWVudC5cbiAgICAvLyBUaGVyZWZvcmUgaWYgdGhlIGJyYW5jaCBpcyBzdGlsbCBoZXJlLCBkZWFkIGNvZGUgZWxpbWluYXRpb24gd2Fzbid0XG4gICAgLy8gcHJvcGVybHkgYXBwbGllZC5cbiAgICAvLyBEb24ndCBjaGFuZ2UgdGhlIG1lc3NhZ2UuIFJlYWN0IERldlRvb2xzIHJlbGllcyBvbiBpdC4gQWxzbyBtYWtlIHN1cmVcbiAgICAvLyB0aGlzIG1lc3NhZ2UgZG9lc24ndCBvY2N1ciBlbHNld2hlcmUgaW4gdGhpcyBmdW5jdGlvbiwgb3IgaXQgd2lsbCBjYXVzZVxuICAgIC8vIGEgZmFsc2UgcG9zaXRpdmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdeX14nKTtcbiAgfVxuICB0cnkge1xuICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBjb2RlIGFib3ZlIGhhcyBiZWVuIGRlYWQgY29kZSBlbGltaW5hdGVkIChEQ0UnZCkuXG4gICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFKGNoZWNrRENFKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gRGV2VG9vbHMgc2hvdWxkbid0IGNyYXNoIFJlYWN0LCBubyBtYXR0ZXIgd2hhdC5cbiAgICAvLyBXZSBzaG91bGQgc3RpbGwgcmVwb3J0IGluIGNhc2Ugd2UgYnJlYWsgdGhpcyBjb2RlLlxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBEQ0UgY2hlY2sgc2hvdWxkIGhhcHBlbiBiZWZvcmUgUmVhY3RET00gYnVuZGxlIGV4ZWN1dGVzIHNvIHRoYXRcbiAgLy8gRGV2VG9vbHMgY2FuIHJlcG9ydCBiYWQgbWluaWZpY2F0aW9uIGR1cmluZyBpbmplY3Rpb24uXG4gIGNoZWNrRENFKCk7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLnByb2R1Y3Rpb24uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLAogICAgIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWRvbS1jbGllbnQuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIE1ldGEgUGxhdGZvcm1zLCBJbmMuIGFuZCBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbi8qXG4gTW9kZXJuaXpyIDMuMC4wcHJlIChDdXN0b20gQnVpbGQpIHwgTUlUXG4qL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cInByb2R1Y3Rpb25cIiAhPT0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgJiZcbiAgKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBmaW5kSG9vayhmaWJlciwgaWQpIHtcbiAgICAgIGZvciAoZmliZXIgPSBmaWJlci5tZW1vaXplZFN0YXRlOyBudWxsICE9PSBmaWJlciAmJiAwIDwgaWQ7IClcbiAgICAgICAgKGZpYmVyID0gZmliZXIubmV4dCksIGlkLS07XG4gICAgICByZXR1cm4gZmliZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvcHlXaXRoU2V0SW1wbChvYmosIHBhdGgsIGluZGV4LCB2YWx1ZSkge1xuICAgICAgaWYgKGluZGV4ID49IHBhdGgubGVuZ3RoKSByZXR1cm4gdmFsdWU7XG4gICAgICB2YXIga2V5ID0gcGF0aFtpbmRleF0sXG4gICAgICAgIHVwZGF0ZWQgPSBpc0FycmF5SW1wbChvYmopID8gb2JqLnNsaWNlKCkgOiBhc3NpZ24oe30sIG9iaik7XG4gICAgICB1cGRhdGVkW2tleV0gPSBjb3B5V2l0aFNldEltcGwob2JqW2tleV0sIHBhdGgsIGluZGV4ICsgMSwgdmFsdWUpO1xuICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvcHlXaXRoUmVuYW1lKG9iaiwgb2xkUGF0aCwgbmV3UGF0aCkge1xuICAgICAgaWYgKG9sZFBhdGgubGVuZ3RoICE9PSBuZXdQYXRoLmxlbmd0aClcbiAgICAgICAgY29uc29sZS53YXJuKFwiY29weVdpdGhSZW5hbWUoKSBleHBlY3RzIHBhdGhzIG9mIHRoZSBzYW1lIGxlbmd0aFwiKTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5ld1BhdGgubGVuZ3RoIC0gMTsgaSsrKVxuICAgICAgICAgIGlmIChvbGRQYXRoW2ldICE9PSBuZXdQYXRoW2ldKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiY29weVdpdGhSZW5hbWUoKSBleHBlY3RzIHBhdGhzIHRvIGJlIHRoZSBzYW1lIGV4Y2VwdCBmb3IgdGhlIGRlZXBlc3Qga2V5XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29weVdpdGhSZW5hbWVJbXBsKG9iaiwgb2xkUGF0aCwgbmV3UGF0aCwgMCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvcHlXaXRoUmVuYW1lSW1wbChvYmosIG9sZFBhdGgsIG5ld1BhdGgsIGluZGV4KSB7XG4gICAgICB2YXIgb2xkS2V5ID0gb2xkUGF0aFtpbmRleF0sXG4gICAgICAgIHVwZGF0ZWQgPSBpc0FycmF5SW1wbChvYmopID8gb2JqLnNsaWNlKCkgOiBhc3NpZ24oe30sIG9iaik7XG4gICAgICBpbmRleCArIDEgPT09IG9sZFBhdGgubGVuZ3RoXG4gICAgICAgID8gKCh1cGRhdGVkW25ld1BhdGhbaW5kZXhdXSA9IHVwZGF0ZWRbb2xkS2V5XSksXG4gICAgICAgICAgaXNBcnJheUltcGwodXBkYXRlZClcbiAgICAgICAgICAgID8gdXBkYXRlZC5zcGxpY2Uob2xkS2V5LCAxKVxuICAgICAgICAgICAgOiBkZWxldGUgdXBkYXRlZFtvbGRLZXldKVxuICAgICAgICA6ICh1cGRhdGVkW29sZEtleV0gPSBjb3B5V2l0aFJlbmFtZUltcGwoXG4gICAgICAgICAgICBvYmpbb2xkS2V5XSxcbiAgICAgICAgICAgIG9sZFBhdGgsXG4gICAgICAgICAgICBuZXdQYXRoLFxuICAgICAgICAgICAgaW5kZXggKyAxXG4gICAgICAgICAgKSk7XG4gICAgICByZXR1cm4gdXBkYXRlZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29weVdpdGhEZWxldGVJbXBsKG9iaiwgcGF0aCwgaW5kZXgpIHtcbiAgICAgIHZhciBrZXkgPSBwYXRoW2luZGV4XSxcbiAgICAgICAgdXBkYXRlZCA9IGlzQXJyYXlJbXBsKG9iaikgPyBvYmouc2xpY2UoKSA6IGFzc2lnbih7fSwgb2JqKTtcbiAgICAgIGlmIChpbmRleCArIDEgPT09IHBhdGgubGVuZ3RoKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGlzQXJyYXlJbXBsKHVwZGF0ZWQpID8gdXBkYXRlZC5zcGxpY2Uoa2V5LCAxKSA6IGRlbGV0ZSB1cGRhdGVkW2tleV0sXG4gICAgICAgICAgdXBkYXRlZFxuICAgICAgICApO1xuICAgICAgdXBkYXRlZFtrZXldID0gY29weVdpdGhEZWxldGVJbXBsKG9ialtrZXldLCBwYXRoLCBpbmRleCArIDEpO1xuICAgICAgcmV0dXJuIHVwZGF0ZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZFN1c3BlbmRJbXBsKCkge1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRFcnJvckltcGwoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXIodGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSkge1xuICAgICAgcmV0dXJuIG5ldyBGaWJlck5vZGUodGFnLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIFwiRG8gbm90IGNhbGwgSG9va3MgaW5zaWRlIHVzZUVmZmVjdCguLi4pLCB1c2VNZW1vKC4uLiksIG9yIG90aGVyIGJ1aWx0LWluIEhvb2tzLiBZb3UgY2FuIG9ubHkgY2FsbCBIb29rcyBhdCB0aGUgdG9wIGxldmVsIG9mIHlvdXIgUmVhY3QgZnVuY3Rpb24uIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9ydWxlcy1vZi1ob29rc1wiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuSW52YWxpZENvbnRleHRBY2Nlc3MoKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICBcIkNvbnRleHQgY2FuIG9ubHkgYmUgcmVhZCB3aGlsZSBSZWFjdCBpcyByZW5kZXJpbmcuIEluIGNsYXNzZXMsIHlvdSBjYW4gcmVhZCBpdCBpbiB0aGUgcmVuZGVyIG1ldGhvZCBvciBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuIEluIGZ1bmN0aW9uIGNvbXBvbmVudHMsIHlvdSBjYW4gcmVhZCBpdCBkaXJlY3RseSBpbiB0aGUgZnVuY3Rpb24gYm9keSwgYnV0IG5vdCBpbnNpZGUgSG9va3MgbGlrZSB1c2VSZWR1Y2VyKCkgb3IgdXNlTWVtbygpLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wJDIoKSB7fVxuICAgIGZ1bmN0aW9uIHdhcm5Gb3JNaXNzaW5nS2V5KCkge31cbiAgICBmdW5jdGlvbiBzZXRUb1NvcnRlZFN0cmluZyhzZXQpIHtcbiAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgc2V0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGFycmF5LnB1c2godmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYXJyYXkuc29ydCgpLmpvaW4oXCIsIFwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVSb290KHJvb3QsIGVsZW1lbnQpIHtcbiAgICAgIHJvb3QuY29udGV4dCA9PT0gZW1wdHlDb250ZXh0T2JqZWN0ICYmXG4gICAgICAgICh1cGRhdGVDb250YWluZXJTeW5jKGVsZW1lbnQsIHJvb3QsIG51bGwsIG51bGwpLCBmbHVzaFN5bmNXb3JrJDEoKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUmVmcmVzaChyb290LCB1cGRhdGUpIHtcbiAgICAgIGlmIChudWxsICE9PSByZXNvbHZlRmFtaWx5KSB7XG4gICAgICAgIHZhciBzdGFsZUZhbWlsaWVzID0gdXBkYXRlLnN0YWxlRmFtaWxpZXM7XG4gICAgICAgIHVwZGF0ZSA9IHVwZGF0ZS51cGRhdGVkRmFtaWxpZXM7XG4gICAgICAgIGZsdXNoUGFzc2l2ZUVmZmVjdHMoKTtcbiAgICAgICAgc2NoZWR1bGVGaWJlcnNXaXRoRmFtaWxpZXNSZWN1cnNpdmVseShcbiAgICAgICAgICByb290LmN1cnJlbnQsXG4gICAgICAgICAgdXBkYXRlLFxuICAgICAgICAgIHN0YWxlRmFtaWxpZXNcbiAgICAgICAgKTtcbiAgICAgICAgZmx1c2hTeW5jV29yayQxKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFJlZnJlc2hIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgIHJlc29sdmVGYW1pbHkgPSBoYW5kbGVyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkQ29udGFpbmVyKG5vZGUpIHtcbiAgICAgIHJldHVybiAhKFxuICAgICAgICAhbm9kZSB8fFxuICAgICAgICAoMSAhPT0gbm9kZS5ub2RlVHlwZSAmJiA5ICE9PSBub2RlLm5vZGVUeXBlICYmIDExICE9PSBub2RlLm5vZGVUeXBlKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gbWF5YmVJdGVyYWJsZSB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2YgbWF5YmVJdGVyYWJsZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICBtYXliZUl0ZXJhYmxlID1cbiAgICAgICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICAgIG1heWJlSXRlcmFibGVbXCJAQGl0ZXJhdG9yXCJdO1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG1heWJlSXRlcmFibGUgPyBtYXliZUl0ZXJhYmxlIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09IHR5cGUpIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUpXG4gICAgICAgIHJldHVybiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DTElFTlRfUkVGRVJFTkNFXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUudGFnICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgdHlwZS4kJHR5cGVvZilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tT3duZXIob3duZXIpIHtcbiAgICAgIHJldHVybiBcIm51bWJlclwiID09PSB0eXBlb2Ygb3duZXIudGFnXG4gICAgICAgID8gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihvd25lcilcbiAgICAgICAgOiBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3duZXIubmFtZVxuICAgICAgICAgID8gb3duZXIubmFtZVxuICAgICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikge1xuICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICByZXR1cm4gXCJDYWNoZVwiO1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgcmV0dXJuICh0eXBlLl9jb250ZXh0LmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLkNvbnN1bWVyXCI7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcmV0dXJuICh0eXBlLmRpc3BsYXlOYW1lIHx8IFwiQ29udGV4dFwiKSArIFwiLlByb3ZpZGVyXCI7XG4gICAgICAgIGNhc2UgMTg6XG4gICAgICAgICAgcmV0dXJuIFwiRGVoeWRyYXRlZEZyYWdtZW50XCI7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChmaWJlciA9IHR5cGUucmVuZGVyKSxcbiAgICAgICAgICAgIChmaWJlciA9IGZpYmVyLmRpc3BsYXlOYW1lIHx8IGZpYmVyLm5hbWUgfHwgXCJcIiksXG4gICAgICAgICAgICB0eXBlLmRpc3BsYXlOYW1lIHx8XG4gICAgICAgICAgICAgIChcIlwiICE9PSBmaWJlciA/IFwiRm9yd2FyZFJlZihcIiArIGZpYmVyICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIilcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIFwiUG9ydGFsXCI7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICByZXR1cm4gXCJSb290XCI7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICByZXR1cm4gXCJUZXh0XCI7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHJldHVybiB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID8gXCJTdHJpY3RNb2RlXCIgOiBcIk1vZGVcIjtcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICByZXR1cm4gXCJPZmZzY3JlZW5cIjtcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICByZXR1cm4gXCJQcm9maWxlclwiO1xuICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgIHJldHVybiBcIlNjb3BlXCI7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcmV0dXJuIFwiU3VzcGVuc2VcIjtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICByZXR1cm4gXCJUcmFjaW5nTWFya2VyXCI7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICAgICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICB0eXBlID0gZmliZXIuX2RlYnVnSW5mbztcbiAgICAgICAgICBpZiAobnVsbCAhPSB0eXBlKVxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHR5cGUubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pXG4gICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZVtpXS5uYW1lKSByZXR1cm4gdHlwZVtpXS5uYW1lO1xuICAgICAgICAgIGlmIChudWxsICE9PSBmaWJlci5yZXR1cm4pXG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlci5yZXR1cm4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cbiAgICBmdW5jdGlvbiBkaXNhYmxlTG9ncygpIHtcbiAgICAgIGlmICgwID09PSBkaXNhYmxlZERlcHRoKSB7XG4gICAgICAgIHByZXZMb2cgPSBjb25zb2xlLmxvZztcbiAgICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICAgIHByZXZXYXJuID0gY29uc29sZS53YXJuO1xuICAgICAgICBwcmV2RXJyb3IgPSBjb25zb2xlLmVycm9yO1xuICAgICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgICBwcmV2R3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkO1xuICAgICAgICBwcmV2R3JvdXBFbmQgPSBjb25zb2xlLmdyb3VwRW5kO1xuICAgICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgICAgY29uZmlndXJhYmxlOiAhMCxcbiAgICAgICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgICAgICB2YWx1ZTogZGlzYWJsZWRMb2csXG4gICAgICAgICAgd3JpdGFibGU6ICEwXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgICBsb2c6IHByb3BzLFxuICAgICAgICAgIHdhcm46IHByb3BzLFxuICAgICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgICBncm91cDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IHByb3BzLFxuICAgICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGRpc2FibGVkRGVwdGgrKztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICAgICAgZGlzYWJsZWREZXB0aC0tO1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgdmFyIHByb3BzID0geyBjb25maWd1cmFibGU6ICEwLCBlbnVtZXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH07XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgICBsb2c6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZMb2cgfSksXG4gICAgICAgICAgaW5mbzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkluZm8gfSksXG4gICAgICAgICAgd2FybjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldldhcm4gfSksXG4gICAgICAgICAgZXJyb3I6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZFcnJvciB9KSxcbiAgICAgICAgICBncm91cDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwIH0pLFxuICAgICAgICAgIGdyb3VwQ29sbGFwc2VkOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWQgfSksXG4gICAgICAgICAgZ3JvdXBFbmQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cEVuZCB9KVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIDAgPiBkaXNhYmxlZERlcHRoICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSkge1xuICAgICAgaWYgKHZvaWQgMCA9PT0gcHJlZml4KVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICAgIHByZWZpeCA9IChtYXRjaCAmJiBtYXRjaFsxXSkgfHwgXCJcIjtcbiAgICAgICAgICBzdWZmaXggPVxuICAgICAgICAgICAgLTEgPCB4LnN0YWNrLmluZGV4T2YoXCJcXG4gICAgYXRcIilcbiAgICAgICAgICAgICAgPyBcIiAoPGFub255bW91cz4pXCJcbiAgICAgICAgICAgICAgOiAtMSA8IHguc3RhY2suaW5kZXhPZihcIkBcIilcbiAgICAgICAgICAgICAgICA/IFwiQHVua25vd246MDowXCJcbiAgICAgICAgICAgICAgICA6IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBcIlxcblwiICsgcHJlZml4ICsgbmFtZSArIHN1ZmZpeDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7XG4gICAgICBpZiAoIWZuIHx8IHJlZW50cnkpIHJldHVybiBcIlwiO1xuICAgICAgdmFyIGZyYW1lID0gY29tcG9uZW50RnJhbWVDYWNoZS5nZXQoZm4pO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gZnJhbWUpIHJldHVybiBmcmFtZTtcbiAgICAgIHJlZW50cnkgPSAhMDtcbiAgICAgIGZyYW1lID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7XG4gICAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHZvaWQgMDtcbiAgICAgIHZhciBwcmV2aW91c0Rpc3BhdGNoZXIgPSBudWxsO1xuICAgICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBudWxsO1xuICAgICAgZGlzYWJsZUxvZ3MoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBSdW5JblJvb3RGcmFtZSA9IHtcbiAgICAgICAgICBEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmFrZS5wcm90b3R5cGUsIFwicHJvcHNcIiwge1xuICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBSZWZsZWN0ICYmIFJlZmxlY3QuY29uc3RydWN0KSB7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChGYWtlLCBbXSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sID0geDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoeCQxKSB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sID0geCQxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAoRmFrZSA9IGZuKCkpICYmXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBGYWtlLmNhdGNoICYmXG4gICAgICAgICAgICAgICAgICBGYWtlLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoc2FtcGxlKSB7XG4gICAgICAgICAgICAgIGlmIChzYW1wbGUgJiYgY29udHJvbCAmJiBcInN0cmluZ1wiID09PSB0eXBlb2Ygc2FtcGxlLnN0YWNrKVxuICAgICAgICAgICAgICAgIHJldHVybiBbc2FtcGxlLnN0YWNrLCBjb250cm9sLnN0YWNrXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPVxuICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCI7XG4gICAgICAgIHZhciBuYW1lUHJvcERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCxcbiAgICAgICAgICBcIm5hbWVcIlxuICAgICAgICApO1xuICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IuY29uZmlndXJhYmxlICYmXG4gICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgICAgXCJuYW1lXCIsXG4gICAgICAgICAgICB7IHZhbHVlOiBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiIH1cbiAgICAgICAgICApO1xuICAgICAgICB2YXIgX1J1bkluUm9vdEZyYW1lJERldGVyID1cbiAgICAgICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCgpLFxuICAgICAgICAgIHNhbXBsZVN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzBdLFxuICAgICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcbiAgICAgICAgaWYgKHNhbXBsZVN0YWNrICYmIGNvbnRyb2xTdGFjaykge1xuICAgICAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KFwiXFxuXCIpLFxuICAgICAgICAgICAgY29udHJvbExpbmVzID0gY29udHJvbFN0YWNrLnNwbGl0KFwiXFxuXCIpO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBuYW1lUHJvcERlc2NyaXB0b3IgPSAwO1xuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yIDwgc2FtcGxlTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvcisrO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPCBjb250cm9sTGluZXMubGVuZ3RoICYmXG4gICAgICAgICAgICAhY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0uaW5jbHVkZXMoXG4gICAgICAgICAgICAgIFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCJcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIrKztcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fFxuICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyID09PSBjb250cm9sTGluZXMubGVuZ3RoXG4gICAgICAgICAgKVxuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yID0gc2FtcGxlTGluZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBjb250cm9sTGluZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiZcbiAgICAgICAgICAgICAgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgJiZcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICBjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXTtcblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLTtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgO1xuICAgICAgICAgICAgMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXI7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3ItLSwgX1J1bkluUm9vdEZyYW1lJERldGVyLS1cbiAgICAgICAgICApXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0gIT09XG4gICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKDEgIT09IG5hbWVQcm9wRGVzY3JpcHRvciB8fCAxICE9PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpIHtcbiAgICAgICAgICAgICAgICBkb1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAobmFtZVByb3BEZXNjcmlwdG9yLS0sXG4gICAgICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tLFxuICAgICAgICAgICAgICAgICAgICAwID4gX1J1bkluUm9vdEZyYW1lJERldGVyIHx8XG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPVxuICAgICAgICAgICAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIHNhbXBsZUxpbmVzW25hbWVQcm9wRGVzY3JpcHRvcl0ucmVwbGFjZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IG5ldyBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiIGF0IFwiXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgZm4uZGlzcGxheU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICBfZnJhbWUuaW5jbHVkZXMoXCI8YW5vbnltb3VzPlwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgIChfZnJhbWUgPSBfZnJhbWUucmVwbGFjZShcIjxhbm9ueW1vdXM+XCIsIGZuLmRpc3BsYXlOYW1lKSk7XG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGZuICYmXG4gICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIF9mcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZnJhbWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKDEgPD0gbmFtZVByb3BEZXNjcmlwdG9yICYmIDAgPD0gX1J1bkluUm9vdEZyYW1lJERldGVyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgKHJlZW50cnkgPSAhMSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2aW91c0Rpc3BhdGNoZXIpLFxuICAgICAgICAgIHJlZW5hYmxlTG9ncygpLFxuICAgICAgICAgIChFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IGZyYW1lKTtcbiAgICAgIH1cbiAgICAgIHNhbXBsZUxpbmVzID0gKHNhbXBsZUxpbmVzID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogXCJcIilcbiAgICAgICAgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShzYW1wbGVMaW5lcylcbiAgICAgICAgOiBcIlwiO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiYgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIHNhbXBsZUxpbmVzKTtcbiAgICAgIHJldHVybiBzYW1wbGVMaW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVGaWJlcihmaWJlcikge1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShmaWJlci50eXBlKTtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJMYXp5XCIpO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlXCIpO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShcIlN1c3BlbnNlTGlzdFwiKTtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJldHVybiAoZmliZXIgPSBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZpYmVyLnR5cGUsICExKSksIGZpYmVyO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZmliZXIgPSBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZpYmVyLnR5cGUucmVuZGVyLCAhMSkpLCBmaWJlclxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gKGZpYmVyID0gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmaWJlci50eXBlLCAhMCkpLCBmaWJlcjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3RhY2tCeUZpYmVySW5EZXZBbmRQcm9kKHdvcmtJblByb2dyZXNzKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgaW5mbyA9IFwiXCI7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBpbmZvICs9IGRlc2NyaWJlRmliZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHZhciBkZWJ1Z0luZm8gPSB3b3JrSW5Qcm9ncmVzcy5fZGVidWdJbmZvO1xuICAgICAgICAgIGlmIChkZWJ1Z0luZm8pXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVidWdJbmZvLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKSB7XG4gICAgICAgICAgICAgIHZhciBlbnRyeSA9IGRlYnVnSW5mb1tpXTtcbiAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiBlbnRyeS5uYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IGluZm8sXG4gICAgICAgICAgICAgICAgICBlbnYgPSBlbnRyeS5lbnY7XG4gICAgICAgICAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFxuICAgICAgICAgICAgICAgICAgZW50cnkubmFtZSArIChlbnYgPyBcIiBbXCIgKyBlbnYgKyBcIl1cIiA6IFwiXCIpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpbmZvID0gSlNDb21waWxlcl90ZW1wX2NvbnN0ICsgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzcy5yZXR1cm47XG4gICAgICAgIH0gd2hpbGUgKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIGluZm87XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHJldHVybiBcIlxcbkVycm9yIGdlbmVyYXRpbmcgc3RhY2s6IFwiICsgeC5tZXNzYWdlICsgXCJcXG5cIiArIHguc3RhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCkge1xuICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHJldHVybiBudWxsO1xuICAgICAgdmFyIG93bmVyID0gY3VycmVudC5fZGVidWdPd25lcjtcbiAgICAgIHJldHVybiBudWxsICE9IG93bmVyID8gZ2V0Q29tcG9uZW50TmFtZUZyb21Pd25lcihvd25lcikgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDdXJyZW50RmliZXJTdGFja0luRGV2KCkge1xuICAgICAgcmV0dXJuIG51bGwgPT09IGN1cnJlbnQgPyBcIlwiIDogZ2V0U3RhY2tCeUZpYmVySW5EZXZBbmRQcm9kKGN1cnJlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5XaXRoRmliZXJJbkRFVihmaWJlciwgY2FsbGJhY2ssIGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQpIHtcbiAgICAgIHZhciBwcmV2aW91c0ZpYmVyID0gY3VycmVudDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9XG4gICAgICAgIG51bGwgPT09IGZpYmVyID8gbnVsbCA6IGdldEN1cnJlbnRGaWJlclN0YWNrSW5EZXY7XG4gICAgICBpc1JlbmRlcmluZyA9ICExO1xuICAgICAgY3VycmVudCA9IGZpYmVyO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGFyZzAsIGFyZzEsIGFyZzIsIGFyZzMsIGFyZzQpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY3VycmVudCA9IHByZXZpb3VzRmliZXI7XG4gICAgICB9XG4gICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgXCJydW5XaXRoRmliZXJJbkRFViBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIGluIHByb2R1Y3Rpb24uIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5lYXJlc3RNb3VudGVkRmliZXIoZmliZXIpIHtcbiAgICAgIHZhciBub2RlID0gZmliZXIsXG4gICAgICAgIG5lYXJlc3RNb3VudGVkID0gZmliZXI7XG4gICAgICBpZiAoZmliZXIuYWx0ZXJuYXRlKSBmb3IgKDsgbm9kZS5yZXR1cm47ICkgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGZpYmVyID0gbm9kZTtcbiAgICAgICAgZG9cbiAgICAgICAgICAobm9kZSA9IGZpYmVyKSxcbiAgICAgICAgICAgIDAgIT09IChub2RlLmZsYWdzICYgNDA5OCkgJiYgKG5lYXJlc3RNb3VudGVkID0gbm9kZS5yZXR1cm4pLFxuICAgICAgICAgICAgKGZpYmVyID0gbm9kZS5yZXR1cm4pO1xuICAgICAgICB3aGlsZSAoZmliZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDMgPT09IG5vZGUudGFnID8gbmVhcmVzdE1vdW50ZWQgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdXNwZW5zZUluc3RhbmNlRnJvbUZpYmVyKGZpYmVyKSB7XG4gICAgICBpZiAoMTMgPT09IGZpYmVyLnRhZykge1xuICAgICAgICB2YXIgc3VzcGVuc2VTdGF0ZSA9IGZpYmVyLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIG51bGwgPT09IHN1c3BlbnNlU3RhdGUgJiZcbiAgICAgICAgICAoKGZpYmVyID0gZmliZXIuYWx0ZXJuYXRlKSxcbiAgICAgICAgICBudWxsICE9PSBmaWJlciAmJiAoc3VzcGVuc2VTdGF0ZSA9IGZpYmVyLm1lbW9pemVkU3RhdGUpKTtcbiAgICAgICAgaWYgKG51bGwgIT09IHN1c3BlbnNlU3RhdGUpIHJldHVybiBzdXNwZW5zZVN0YXRlLmRlaHlkcmF0ZWQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXNNb3VudGVkKGZpYmVyKSB7XG4gICAgICBpZiAoZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcihmaWJlcikgIT09IGZpYmVyKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKGZpYmVyKSB7XG4gICAgICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgaWYgKCFhbHRlcm5hdGUpIHtcbiAgICAgICAgYWx0ZXJuYXRlID0gZ2V0TmVhcmVzdE1vdW50ZWRGaWJlcihmaWJlcik7XG4gICAgICAgIGlmIChudWxsID09PSBhbHRlcm5hdGUpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgICAgICByZXR1cm4gYWx0ZXJuYXRlICE9PSBmaWJlciA/IG51bGwgOiBmaWJlcjtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGEgPSBmaWJlciwgYiA9IGFsdGVybmF0ZTsgOyApIHtcbiAgICAgICAgdmFyIHBhcmVudEEgPSBhLnJldHVybjtcbiAgICAgICAgaWYgKG51bGwgPT09IHBhcmVudEEpIGJyZWFrO1xuICAgICAgICB2YXIgcGFyZW50QiA9IHBhcmVudEEuYWx0ZXJuYXRlO1xuICAgICAgICBpZiAobnVsbCA9PT0gcGFyZW50Qikge1xuICAgICAgICAgIGIgPSBwYXJlbnRBLnJldHVybjtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gYikge1xuICAgICAgICAgICAgYSA9IGI7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmVudEEuY2hpbGQgPT09IHBhcmVudEIuY2hpbGQpIHtcbiAgICAgICAgICBmb3IgKHBhcmVudEIgPSBwYXJlbnRBLmNoaWxkOyBwYXJlbnRCOyApIHtcbiAgICAgICAgICAgIGlmIChwYXJlbnRCID09PSBhKSByZXR1cm4gYXNzZXJ0SXNNb3VudGVkKHBhcmVudEEpLCBmaWJlcjtcbiAgICAgICAgICAgIGlmIChwYXJlbnRCID09PSBiKSByZXR1cm4gYXNzZXJ0SXNNb3VudGVkKHBhcmVudEEpLCBhbHRlcm5hdGU7XG4gICAgICAgICAgICBwYXJlbnRCID0gcGFyZW50Qi5zaWJsaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIG5vZGUgb24gYW4gdW5tb3VudGVkIGNvbXBvbmVudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEucmV0dXJuICE9PSBiLnJldHVybikgKGEgPSBwYXJlbnRBKSwgKGIgPSBwYXJlbnRCKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZm9yICh2YXIgZGlkRmluZENoaWxkID0gITEsIF9jaGlsZCA9IHBhcmVudEEuY2hpbGQ7IF9jaGlsZDsgKSB7XG4gICAgICAgICAgICBpZiAoX2NoaWxkID09PSBhKSB7XG4gICAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9ICEwO1xuICAgICAgICAgICAgICBhID0gcGFyZW50QTtcbiAgICAgICAgICAgICAgYiA9IHBhcmVudEI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYikge1xuICAgICAgICAgICAgICBkaWRGaW5kQ2hpbGQgPSAhMDtcbiAgICAgICAgICAgICAgYiA9IHBhcmVudEE7XG4gICAgICAgICAgICAgIGEgPSBwYXJlbnRCO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9jaGlsZCA9IF9jaGlsZC5zaWJsaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWRpZEZpbmRDaGlsZCkge1xuICAgICAgICAgICAgZm9yIChfY2hpbGQgPSBwYXJlbnRCLmNoaWxkOyBfY2hpbGQ7ICkge1xuICAgICAgICAgICAgICBpZiAoX2NoaWxkID09PSBhKSB7XG4gICAgICAgICAgICAgICAgZGlkRmluZENoaWxkID0gITA7XG4gICAgICAgICAgICAgICAgYSA9IHBhcmVudEI7XG4gICAgICAgICAgICAgICAgYiA9IHBhcmVudEE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKF9jaGlsZCA9PT0gYikge1xuICAgICAgICAgICAgICAgIGRpZEZpbmRDaGlsZCA9ICEwO1xuICAgICAgICAgICAgICAgIGIgPSBwYXJlbnRCO1xuICAgICAgICAgICAgICAgIGEgPSBwYXJlbnRBO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF9jaGlsZCA9IF9jaGlsZC5zaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkaWRGaW5kQ2hpbGQpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiQ2hpbGQgd2FzIG5vdCBmb3VuZCBpbiBlaXRoZXIgcGFyZW50IHNldC4gVGhpcyBpbmRpY2F0ZXMgYSBidWcgaW4gUmVhY3QgcmVsYXRlZCB0byB0aGUgcmV0dXJuIHBvaW50ZXIuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhLmFsdGVybmF0ZSAhPT0gYilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiUmV0dXJuIGZpYmVycyBzaG91bGQgYWx3YXlzIGJlIGVhY2ggb3RoZXJzJyBhbHRlcm5hdGVzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmICgzICE9PSBhLnRhZylcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnQuXCIpO1xuICAgICAgcmV0dXJuIGEuc3RhdGVOb2RlLmN1cnJlbnQgPT09IGEgPyBmaWJlciA6IGFsdGVybmF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEN1cnJlbnRIb3N0RmliZXJJbXBsKG5vZGUpIHtcbiAgICAgIHZhciB0YWcgPSBub2RlLnRhZztcbiAgICAgIGlmICg1ID09PSB0YWcgfHwgMjYgPT09IHRhZyB8fCAyNyA9PT0gdGFnIHx8IDYgPT09IHRhZykgcmV0dXJuIG5vZGU7XG4gICAgICBmb3IgKG5vZGUgPSBub2RlLmNoaWxkOyBudWxsICE9PSBub2RlOyApIHtcbiAgICAgICAgdGFnID0gZmluZEN1cnJlbnRIb3N0RmliZXJJbXBsKG5vZGUpO1xuICAgICAgICBpZiAobnVsbCAhPT0gdGFnKSByZXR1cm4gdGFnO1xuICAgICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUN1cnNvcihkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHJldHVybiB7IGN1cnJlbnQ6IGRlZmF1bHRWYWx1ZSB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3AoY3Vyc29yLCBmaWJlcikge1xuICAgICAgMCA+IGluZGV4JGpzY29tcCQwXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcIlVuZXhwZWN0ZWQgcG9wLlwiKVxuICAgICAgICA6IChmaWJlciAhPT0gZmliZXJTdGFja1tpbmRleCRqc2NvbXAkMF0gJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJVbmV4cGVjdGVkIEZpYmVyIHBvcHBlZC5cIiksXG4gICAgICAgICAgKGN1cnNvci5jdXJyZW50ID0gdmFsdWVTdGFja1tpbmRleCRqc2NvbXAkMF0pLFxuICAgICAgICAgICh2YWx1ZVN0YWNrW2luZGV4JGpzY29tcCQwXSA9IG51bGwpLFxuICAgICAgICAgIChmaWJlclN0YWNrW2luZGV4JGpzY29tcCQwXSA9IG51bGwpLFxuICAgICAgICAgIGluZGV4JGpzY29tcCQwLS0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoKGN1cnNvciwgdmFsdWUsIGZpYmVyKSB7XG4gICAgICBpbmRleCRqc2NvbXAkMCsrO1xuICAgICAgdmFsdWVTdGFja1tpbmRleCRqc2NvbXAkMF0gPSBjdXJzb3IuY3VycmVudDtcbiAgICAgIGZpYmVyU3RhY2tbaW5kZXgkanNjb21wJDBdID0gZmliZXI7XG4gICAgICBjdXJzb3IuY3VycmVudCA9IHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1aXJlZENvbnRleHQoYykge1xuICAgICAgbnVsbCA9PT0gYyAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgaG9zdCBjb250ZXh0IHRvIGV4aXN0LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gYztcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaEhvc3RDb250YWluZXIoZmliZXIsIG5leHRSb290SW5zdGFuY2UpIHtcbiAgICAgIHB1c2gocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IsIG5leHRSb290SW5zdGFuY2UsIGZpYmVyKTtcbiAgICAgIHB1c2goY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyLCBmaWJlcik7XG4gICAgICBwdXNoKGNvbnRleHRTdGFja0N1cnNvciwgbnVsbCwgZmliZXIpO1xuICAgICAgdmFyIG5leHRSb290Q29udGV4dCA9IG5leHRSb290SW5zdGFuY2Uubm9kZVR5cGU7XG4gICAgICBzd2l0Y2ggKG5leHRSb290Q29udGV4dCkge1xuICAgICAgICBjYXNlIDk6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgbmV4dFJvb3RDb250ZXh0ID0gOSA9PT0gbmV4dFJvb3RDb250ZXh0ID8gXCIjZG9jdW1lbnRcIiA6IFwiI2ZyYWdtZW50XCI7XG4gICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZSA9IChuZXh0Um9vdEluc3RhbmNlID1cbiAgICAgICAgICAgIG5leHRSb290SW5zdGFuY2UuZG9jdW1lbnRFbGVtZW50KVxuICAgICAgICAgICAgPyAobmV4dFJvb3RJbnN0YW5jZSA9IG5leHRSb290SW5zdGFuY2UubmFtZXNwYWNlVVJJKVxuICAgICAgICAgICAgICA/IGdldE93bkhvc3RDb250ZXh0KG5leHRSb290SW5zdGFuY2UpXG4gICAgICAgICAgICAgIDogSG9zdENvbnRleHROYW1lc3BhY2VOb25lXG4gICAgICAgICAgICA6IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoKG5leHRSb290SW5zdGFuY2UgPVxuICAgICAgICAgICAgICA4ID09PSBuZXh0Um9vdENvbnRleHRcbiAgICAgICAgICAgICAgICA/IG5leHRSb290SW5zdGFuY2UucGFyZW50Tm9kZVxuICAgICAgICAgICAgICAgIDogbmV4dFJvb3RJbnN0YW5jZSksXG4gICAgICAgICAgICAobmV4dFJvb3RDb250ZXh0ID0gbmV4dFJvb3RJbnN0YW5jZS50YWdOYW1lKSxcbiAgICAgICAgICAgIChuZXh0Um9vdEluc3RhbmNlID0gbmV4dFJvb3RJbnN0YW5jZS5uYW1lc3BhY2VVUkkpKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIChuZXh0Um9vdEluc3RhbmNlID0gZ2V0T3duSG9zdENvbnRleHQobmV4dFJvb3RJbnN0YW5jZSkpLFxuICAgICAgICAgICAgICAobmV4dFJvb3RJbnN0YW5jZSA9IGdldENoaWxkSG9zdENvbnRleHRQcm9kKFxuICAgICAgICAgICAgICAgIG5leHRSb290SW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgbmV4dFJvb3RDb250ZXh0XG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN3aXRjaCAobmV4dFJvb3RDb250ZXh0KSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJzdmdcIjpcbiAgICAgICAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlID0gSG9zdENvbnRleHROYW1lc3BhY2VTdmc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJtYXRoXCI6XG4gICAgICAgICAgICAgICAgbmV4dFJvb3RJbnN0YW5jZSA9IEhvc3RDb250ZXh0TmFtZXNwYWNlTWF0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBuZXh0Um9vdEluc3RhbmNlID0gSG9zdENvbnRleHROYW1lc3BhY2VOb25lO1xuICAgICAgICAgICAgfVxuICAgICAgfVxuICAgICAgbmV4dFJvb3RDb250ZXh0ID0gbmV4dFJvb3RDb250ZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgICBuZXh0Um9vdENvbnRleHQgPSB1cGRhdGVkQW5jZXN0b3JJbmZvRGV2KG51bGwsIG5leHRSb290Q29udGV4dCk7XG4gICAgICBuZXh0Um9vdENvbnRleHQgPSB7XG4gICAgICAgIGNvbnRleHQ6IG5leHRSb290SW5zdGFuY2UsXG4gICAgICAgIGFuY2VzdG9ySW5mbzogbmV4dFJvb3RDb250ZXh0XG4gICAgICB9O1xuICAgICAgcG9wKGNvbnRleHRTdGFja0N1cnNvciwgZmliZXIpO1xuICAgICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG5leHRSb290Q29udGV4dCwgZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BIb3N0Q29udGFpbmVyKGZpYmVyKSB7XG4gICAgICBwb3AoY29udGV4dFN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgICBwb3AoY29udGV4dEZpYmVyU3RhY2tDdXJzb3IsIGZpYmVyKTtcbiAgICAgIHBvcChyb290SW5zdGFuY2VTdGFja0N1cnNvciwgZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRIb3N0Q29udGV4dCgpIHtcbiAgICAgIHJldHVybiByZXF1aXJlZENvbnRleHQoY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoSG9zdENvbnRleHQoZmliZXIpIHtcbiAgICAgIG51bGwgIT09IGZpYmVyLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgcHVzaChob3N0VHJhbnNpdGlvblByb3ZpZGVyQ3Vyc29yLCBmaWJlciwgZmliZXIpO1xuICAgICAgdmFyIGNvbnRleHQgPSByZXF1aXJlZENvbnRleHQoY29udGV4dFN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgICAgdmFyIHR5cGUgPSBmaWJlci50eXBlO1xuICAgICAgdmFyIG5leHRDb250ZXh0ID0gZ2V0Q2hpbGRIb3N0Q29udGV4dFByb2QoY29udGV4dC5jb250ZXh0LCB0eXBlKTtcbiAgICAgIHR5cGUgPSB1cGRhdGVkQW5jZXN0b3JJbmZvRGV2KGNvbnRleHQuYW5jZXN0b3JJbmZvLCB0eXBlKTtcbiAgICAgIG5leHRDb250ZXh0ID0geyBjb250ZXh0OiBuZXh0Q29udGV4dCwgYW5jZXN0b3JJbmZvOiB0eXBlIH07XG4gICAgICBjb250ZXh0ICE9PSBuZXh0Q29udGV4dCAmJlxuICAgICAgICAocHVzaChjb250ZXh0RmliZXJTdGFja0N1cnNvciwgZmliZXIsIGZpYmVyKSxcbiAgICAgICAgcHVzaChjb250ZXh0U3RhY2tDdXJzb3IsIG5leHRDb250ZXh0LCBmaWJlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BIb3N0Q29udGV4dChmaWJlcikge1xuICAgICAgY29udGV4dEZpYmVyU3RhY2tDdXJzb3IuY3VycmVudCA9PT0gZmliZXIgJiZcbiAgICAgICAgKHBvcChjb250ZXh0U3RhY2tDdXJzb3IsIGZpYmVyKSwgcG9wKGNvbnRleHRGaWJlclN0YWNrQ3Vyc29yLCBmaWJlcikpO1xuICAgICAgaG9zdFRyYW5zaXRpb25Qcm92aWRlckN1cnNvci5jdXJyZW50ID09PSBmaWJlciAmJlxuICAgICAgICAocG9wKGhvc3RUcmFuc2l0aW9uUHJvdmlkZXJDdXJzb3IsIGZpYmVyKSxcbiAgICAgICAgKEhvc3RUcmFuc2l0aW9uQ29udGV4dC5fY3VycmVudFZhbHVlID0gTm90UGVuZGluZ1RyYW5zaXRpb24pKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHlwZU5hbWUodmFsdWUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTeW1ib2wgJiZcbiAgICAgICAgICBTeW1ib2wudG9TdHJpbmdUYWcgJiZcbiAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8XG4gICAgICAgIFwiT2JqZWN0XCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSwgITE7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBhdHRyaWJ1dGVOYW1lKSB7XG4gICAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSBwcm92aWRlZCBgJXNgIGF0dHJpYnV0ZSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICB0eXBlTmFtZSh2YWx1ZSlcbiAgICAgICAgICApLFxuICAgICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSlcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tDU1NQcm9wZXJ0eVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBwcm9wTmFtZSkge1xuICAgICAgaWYgKHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgcHJvdmlkZWQgYCVzYCBDU1MgcHJvcGVydHkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgICBwcm9wTmFtZSxcbiAgICAgICAgICAgIHR5cGVOYW1lKHZhbHVlKVxuICAgICAgICAgICksXG4gICAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0Zvcm1GaWVsZFZhbHVlU3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgICAgIGlmICh3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRm9ybSBmaWVsZCB2YWx1ZXMgKHZhbHVlLCBjaGVja2VkLCBkZWZhdWx0VmFsdWUsIG9yIGRlZmF1bHRDaGVja2VkIHByb3BzKSBtdXN0IGJlIHN0cmluZ3MsIG5vdCAlcy4gVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIHVzaW5nIGl0IGhlcmUuXCIsXG4gICAgICAgICAgICB0eXBlTmFtZSh2YWx1ZSlcbiAgICAgICAgICApLFxuICAgICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSlcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5qZWN0SW50ZXJuYWxzKGludGVybmFscykge1xuICAgICAgaWYgKFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18pIHJldHVybiAhMTtcbiAgICAgIHZhciBob29rID0gX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fO1xuICAgICAgaWYgKGhvb2suaXNEaXNhYmxlZCkgcmV0dXJuICEwO1xuICAgICAgaWYgKCFob29rLnN1cHBvcnRzRmliZXIpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIGluc3RhbGxlZCB2ZXJzaW9uIG9mIFJlYWN0IERldlRvb2xzIGlzIHRvbyBvbGQgYW5kIHdpbGwgbm90IHdvcmsgd2l0aCB0aGUgY3VycmVudCB2ZXJzaW9uIG9mIFJlYWN0LiBQbGVhc2UgdXBkYXRlIFJlYWN0IERldlRvb2xzLiBodHRwczovL3JlYWN0LmRldi9saW5rL3JlYWN0LWRldnRvb2xzXCJcbiAgICAgICAgICApLFxuICAgICAgICAgICEwXG4gICAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICAocmVuZGVyZXJJRCA9IGhvb2suaW5qZWN0KGludGVybmFscykpLCAoaW5qZWN0ZWRIb29rID0gaG9vayk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIlJlYWN0IGluc3RydW1lbnRhdGlvbiBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXMuXCIsIGVycik7XG4gICAgICB9XG4gICAgICByZXR1cm4gaG9vay5jaGVja0RDRSA/ICEwIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQ29tbWl0Um9vdCQxKHJvb3QsIGV2ZW50UHJpb3JpdHkpIHtcbiAgICAgIGlmIChpbmplY3RlZEhvb2sgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRIb29rLm9uQ29tbWl0RmliZXJSb290KVxuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBkaWRFcnJvciA9IDEyOCA9PT0gKHJvb3QuY3VycmVudC5mbGFncyAmIDEyOCk7XG4gICAgICAgICAgc3dpdGNoIChldmVudFByaW9yaXR5KSB7XG4gICAgICAgICAgICBjYXNlIERpc2NyZXRlRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgICAgdmFyIHNjaGVkdWxlclByaW9yaXR5ID0gSW1tZWRpYXRlUHJpb3JpdHk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb250aW51b3VzRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgICAgc2NoZWR1bGVyUHJpb3JpdHkgPSBVc2VyQmxvY2tpbmdQcmlvcml0eTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIERlZmF1bHRFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgICBzY2hlZHVsZXJQcmlvcml0eSA9IE5vcm1hbFByaW9yaXR5JDE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBJZGxlRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICAgICAgc2NoZWR1bGVyUHJpb3JpdHkgPSBJZGxlUHJpb3JpdHk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgc2NoZWR1bGVyUHJpb3JpdHkgPSBOb3JtYWxQcmlvcml0eSQxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbmplY3RlZEhvb2sub25Db21taXRGaWJlclJvb3QoXG4gICAgICAgICAgICByZW5kZXJlcklELFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIHNjaGVkdWxlclByaW9yaXR5LFxuICAgICAgICAgICAgZGlkRXJyb3JcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBoYXNMb2dnZWRFcnJvciB8fFxuICAgICAgICAgICAgKChoYXNMb2dnZWRFcnJvciA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlc1wiLFxuICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKG5ld0lzU3RyaWN0TW9kZSkge1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbG9nJDEgJiZcbiAgICAgICAgdW5zdGFibGVfc2V0RGlzYWJsZVlpZWxkVmFsdWUobmV3SXNTdHJpY3RNb2RlKTtcbiAgICAgIGlmIChpbmplY3RlZEhvb2sgJiYgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRIb29rLnNldFN0cmljdE1vZGUpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaW5qZWN0ZWRIb29rLnNldFN0cmljdE1vZGUocmVuZGVyZXJJRCwgbmV3SXNTdHJpY3RNb2RlKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaGFzTG9nZ2VkRXJyb3IgfHxcbiAgICAgICAgICAgICgoaGFzTG9nZ2VkRXJyb3IgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGluc3RydW1lbnRhdGlvbiBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXNcIixcbiAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpbmplY3RQcm9maWxpbmdIb29rcyhwcm9maWxpbmdIb29rcykge1xuICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcyA9IHByb2ZpbGluZ0hvb2tzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrQ29tbWl0U3RvcHBlZCgpIHtcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tbWl0U3RvcHBlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21taXRTdG9wcGVkKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKGZpYmVyKSB7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKSB7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSZW5kZXJTdGFydGVkKGxhbmVzKSB7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclN0YXJ0ZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU3RhcnRlZChsYW5lcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtSZW5kZXJTdG9wcGVkKCkge1xuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTdG9wcGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1JlbmRlclN0b3BwZWQoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGZpYmVyLCBsYW5lKSB7XG4gICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkICYmXG4gICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1N0YXRlVXBkYXRlU2NoZWR1bGVkKGZpYmVyLCBsYW5lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2x6MzJGYWxsYmFjayh4KSB7XG4gICAgICB4ID4+Pj0gMDtcbiAgICAgIHJldHVybiAwID09PSB4ID8gMzIgOiAoMzEgLSAoKGxvZyh4KSAvIExOMikgfCAwKSkgfCAwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMYWJlbEZvckxhbmUobGFuZSkge1xuICAgICAgaWYgKGxhbmUgJiAxKSByZXR1cm4gXCJTeW5jSHlkcmF0aW9uTGFuZVwiO1xuICAgICAgaWYgKGxhbmUgJiAyKSByZXR1cm4gXCJTeW5jXCI7XG4gICAgICBpZiAobGFuZSAmIDQpIHJldHVybiBcIklucHV0Q29udGludW91c0h5ZHJhdGlvblwiO1xuICAgICAgaWYgKGxhbmUgJiA4KSByZXR1cm4gXCJJbnB1dENvbnRpbnVvdXNcIjtcbiAgICAgIGlmIChsYW5lICYgMTYpIHJldHVybiBcIkRlZmF1bHRIeWRyYXRpb25cIjtcbiAgICAgIGlmIChsYW5lICYgMzIpIHJldHVybiBcIkRlZmF1bHRcIjtcbiAgICAgIGlmIChsYW5lICYgNjQpIHJldHVybiBcIlRyYW5zaXRpb25IeWRyYXRpb25cIjtcbiAgICAgIGlmIChsYW5lICYgNDE5NDE3NikgcmV0dXJuIFwiVHJhbnNpdGlvblwiO1xuICAgICAgaWYgKGxhbmUgJiA2MjkxNDU2MCkgcmV0dXJuIFwiUmV0cnlcIjtcbiAgICAgIGlmIChsYW5lICYgNjcxMDg4NjQpIHJldHVybiBcIlNlbGVjdGl2ZUh5ZHJhdGlvblwiO1xuICAgICAgaWYgKGxhbmUgJiAxMzQyMTc3MjgpIHJldHVybiBcIklkbGVIeWRyYXRpb25cIjtcbiAgICAgIGlmIChsYW5lICYgMjY4NDM1NDU2KSByZXR1cm4gXCJJZGxlXCI7XG4gICAgICBpZiAobGFuZSAmIDUzNjg3MDkxMikgcmV0dXJuIFwiT2Zmc2NyZWVuXCI7XG4gICAgICBpZiAobGFuZSAmIDEwNzM3NDE4MjQpIHJldHVybiBcIkRlZmVycmVkXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKGxhbmVzKSB7XG4gICAgICB2YXIgcGVuZGluZ1N5bmNMYW5lcyA9IGxhbmVzICYgNDI7XG4gICAgICBpZiAoMCAhPT0gcGVuZGluZ1N5bmNMYW5lcykgcmV0dXJuIHBlbmRpbmdTeW5jTGFuZXM7XG4gICAgICBzd2l0Y2ggKGxhbmVzICYgLWxhbmVzKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIDQ7XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgICByZXR1cm4gODtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICByZXR1cm4gMTY7XG4gICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgcmV0dXJuIDMyO1xuICAgICAgICBjYXNlIDY0OlxuICAgICAgICAgIHJldHVybiA2NDtcbiAgICAgICAgY2FzZSAxMjg6XG4gICAgICAgIGNhc2UgMjU2OlxuICAgICAgICBjYXNlIDUxMjpcbiAgICAgICAgY2FzZSAxMDI0OlxuICAgICAgICBjYXNlIDIwNDg6XG4gICAgICAgIGNhc2UgNDA5NjpcbiAgICAgICAgY2FzZSA4MTkyOlxuICAgICAgICBjYXNlIDE2Mzg0OlxuICAgICAgICBjYXNlIDMyNzY4OlxuICAgICAgICBjYXNlIDY1NTM2OlxuICAgICAgICBjYXNlIDEzMTA3MjpcbiAgICAgICAgY2FzZSAyNjIxNDQ6XG4gICAgICAgIGNhc2UgNTI0Mjg4OlxuICAgICAgICBjYXNlIDEwNDg1NzY6XG4gICAgICAgIGNhc2UgMjA5NzE1MjpcbiAgICAgICAgICByZXR1cm4gbGFuZXMgJiA0MTk0MTc2O1xuICAgICAgICBjYXNlIDQxOTQzMDQ6XG4gICAgICAgIGNhc2UgODM4ODYwODpcbiAgICAgICAgY2FzZSAxNjc3NzIxNjpcbiAgICAgICAgY2FzZSAzMzU1NDQzMjpcbiAgICAgICAgICByZXR1cm4gbGFuZXMgJiA2MjkxNDU2MDtcbiAgICAgICAgY2FzZSA2NzEwODg2NDpcbiAgICAgICAgICByZXR1cm4gNjcxMDg4NjQ7XG4gICAgICAgIGNhc2UgMTM0MjE3NzI4OlxuICAgICAgICAgIHJldHVybiAxMzQyMTc3Mjg7XG4gICAgICAgIGNhc2UgMjY4NDM1NDU2OlxuICAgICAgICAgIHJldHVybiAyNjg0MzU0NTY7XG4gICAgICAgIGNhc2UgNTM2ODcwOTEyOlxuICAgICAgICAgIHJldHVybiA1MzY4NzA5MTI7XG4gICAgICAgIGNhc2UgMTA3Mzc0MTgyNDpcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJTaG91bGQgaGF2ZSBmb3VuZCBtYXRjaGluZyBsYW5lcy4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmV4dExhbmVzKHJvb3QsIHdpcExhbmVzKSB7XG4gICAgICB2YXIgcGVuZGluZ0xhbmVzID0gcm9vdC5wZW5kaW5nTGFuZXM7XG4gICAgICBpZiAoMCA9PT0gcGVuZGluZ0xhbmVzKSByZXR1cm4gMDtcbiAgICAgIHZhciBuZXh0TGFuZXMgPSAwLFxuICAgICAgICBzdXNwZW5kZWRMYW5lcyA9IHJvb3Quc3VzcGVuZGVkTGFuZXMsXG4gICAgICAgIHBpbmdlZExhbmVzID0gcm9vdC5waW5nZWRMYW5lcyxcbiAgICAgICAgd2FybUxhbmVzID0gcm9vdC53YXJtTGFuZXM7XG4gICAgICByb290ID0gMCAhPT0gcm9vdC5maW5pc2hlZExhbmVzO1xuICAgICAgdmFyIG5vbklkbGVQZW5kaW5nTGFuZXMgPSBwZW5kaW5nTGFuZXMgJiAxMzQyMTc3Mjc7XG4gICAgICAwICE9PSBub25JZGxlUGVuZGluZ0xhbmVzXG4gICAgICAgID8gKChwZW5kaW5nTGFuZXMgPSBub25JZGxlUGVuZGluZ0xhbmVzICYgfnN1c3BlbmRlZExhbmVzKSxcbiAgICAgICAgICAwICE9PSBwZW5kaW5nTGFuZXNcbiAgICAgICAgICAgID8gKG5leHRMYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKHBlbmRpbmdMYW5lcykpXG4gICAgICAgICAgICA6ICgocGluZ2VkTGFuZXMgJj0gbm9uSWRsZVBlbmRpbmdMYW5lcyksXG4gICAgICAgICAgICAgIDAgIT09IHBpbmdlZExhbmVzXG4gICAgICAgICAgICAgICAgPyAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMocGluZ2VkTGFuZXMpKVxuICAgICAgICAgICAgICAgIDogcm9vdCB8fFxuICAgICAgICAgICAgICAgICAgKCh3YXJtTGFuZXMgPSBub25JZGxlUGVuZGluZ0xhbmVzICYgfndhcm1MYW5lcyksXG4gICAgICAgICAgICAgICAgICAwICE9PSB3YXJtTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgICAgKG5leHRMYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKHdhcm1MYW5lcykpKSkpXG4gICAgICAgIDogKChub25JZGxlUGVuZGluZ0xhbmVzID0gcGVuZGluZ0xhbmVzICYgfnN1c3BlbmRlZExhbmVzKSxcbiAgICAgICAgICAwICE9PSBub25JZGxlUGVuZGluZ0xhbmVzXG4gICAgICAgICAgICA/IChuZXh0TGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhub25JZGxlUGVuZGluZ0xhbmVzKSlcbiAgICAgICAgICAgIDogMCAhPT0gcGluZ2VkTGFuZXNcbiAgICAgICAgICAgICAgPyAobmV4dExhbmVzID0gZ2V0SGlnaGVzdFByaW9yaXR5TGFuZXMocGluZ2VkTGFuZXMpKVxuICAgICAgICAgICAgICA6IHJvb3QgfHxcbiAgICAgICAgICAgICAgICAoKHdhcm1MYW5lcyA9IHBlbmRpbmdMYW5lcyAmIH53YXJtTGFuZXMpLFxuICAgICAgICAgICAgICAgIDAgIT09IHdhcm1MYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgKG5leHRMYW5lcyA9IGdldEhpZ2hlc3RQcmlvcml0eUxhbmVzKHdhcm1MYW5lcykpKSk7XG4gICAgICByZXR1cm4gMCA9PT0gbmV4dExhbmVzXG4gICAgICAgID8gMFxuICAgICAgICA6IDAgIT09IHdpcExhbmVzICYmXG4gICAgICAgICAgICB3aXBMYW5lcyAhPT0gbmV4dExhbmVzICYmXG4gICAgICAgICAgICAwID09PSAod2lwTGFuZXMgJiBzdXNwZW5kZWRMYW5lcykgJiZcbiAgICAgICAgICAgICgoc3VzcGVuZGVkTGFuZXMgPSBuZXh0TGFuZXMgJiAtbmV4dExhbmVzKSxcbiAgICAgICAgICAgICh3YXJtTGFuZXMgPSB3aXBMYW5lcyAmIC13aXBMYW5lcyksXG4gICAgICAgICAgICBzdXNwZW5kZWRMYW5lcyA+PSB3YXJtTGFuZXMgfHxcbiAgICAgICAgICAgICAgKDMyID09PSBzdXNwZW5kZWRMYW5lcyAmJiAwICE9PSAod2FybUxhbmVzICYgNDE5NDE3NikpKVxuICAgICAgICAgID8gd2lwTGFuZXNcbiAgICAgICAgICA6IG5leHRMYW5lcztcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tJZlJvb3RJc1ByZXJlbmRlcmluZyhyb290LCByZW5kZXJMYW5lcykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgMCA9PT1cbiAgICAgICAgKHJvb3QucGVuZGluZ0xhbmVzICZcbiAgICAgICAgICB+KHJvb3Quc3VzcGVuZGVkTGFuZXMgJiB+cm9vdC5waW5nZWRMYW5lcykgJlxuICAgICAgICAgIHJlbmRlckxhbmVzKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcHV0ZUV4cGlyYXRpb25UaW1lKGxhbmUsIGN1cnJlbnRUaW1lKSB7XG4gICAgICBzd2l0Y2ggKGxhbmUpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHJldHVybiBjdXJyZW50VGltZSArIDI1MDtcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgY2FzZSA2NDpcbiAgICAgICAgY2FzZSAxMjg6XG4gICAgICAgIGNhc2UgMjU2OlxuICAgICAgICBjYXNlIDUxMjpcbiAgICAgICAgY2FzZSAxMDI0OlxuICAgICAgICBjYXNlIDIwNDg6XG4gICAgICAgIGNhc2UgNDA5NjpcbiAgICAgICAgY2FzZSA4MTkyOlxuICAgICAgICBjYXNlIDE2Mzg0OlxuICAgICAgICBjYXNlIDMyNzY4OlxuICAgICAgICBjYXNlIDY1NTM2OlxuICAgICAgICBjYXNlIDEzMTA3MjpcbiAgICAgICAgY2FzZSAyNjIxNDQ6XG4gICAgICAgIGNhc2UgNTI0Mjg4OlxuICAgICAgICBjYXNlIDEwNDg1NzY6XG4gICAgICAgIGNhc2UgMjA5NzE1MjpcbiAgICAgICAgICByZXR1cm4gY3VycmVudFRpbWUgKyA1ZTM7XG4gICAgICAgIGNhc2UgNDE5NDMwNDpcbiAgICAgICAgY2FzZSA4Mzg4NjA4OlxuICAgICAgICBjYXNlIDE2Nzc3MjE2OlxuICAgICAgICBjYXNlIDMzNTU0NDMyOlxuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgY2FzZSA2NzEwODg2NDpcbiAgICAgICAgY2FzZSAxMzQyMTc3Mjg6XG4gICAgICAgIGNhc2UgMjY4NDM1NDU2OlxuICAgICAgICBjYXNlIDUzNjg3MDkxMjpcbiAgICAgICAgY2FzZSAxMDczNzQxODI0OlxuICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJTaG91bGQgaGF2ZSBmb3VuZCBtYXRjaGluZyBsYW5lcy4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIC0xXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xhaW1OZXh0VHJhbnNpdGlvbkxhbmUoKSB7XG4gICAgICB2YXIgbGFuZSA9IG5leHRUcmFuc2l0aW9uTGFuZTtcbiAgICAgIG5leHRUcmFuc2l0aW9uTGFuZSA8PD0gMTtcbiAgICAgIDAgPT09IChuZXh0VHJhbnNpdGlvbkxhbmUgJiA0MTk0MTc2KSAmJiAobmV4dFRyYW5zaXRpb25MYW5lID0gMTI4KTtcbiAgICAgIHJldHVybiBsYW5lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGFpbU5leHRSZXRyeUxhbmUoKSB7XG4gICAgICB2YXIgbGFuZSA9IG5leHRSZXRyeUxhbmU7XG4gICAgICBuZXh0UmV0cnlMYW5lIDw8PSAxO1xuICAgICAgMCA9PT0gKG5leHRSZXRyeUxhbmUgJiA2MjkxNDU2MCkgJiYgKG5leHRSZXRyeUxhbmUgPSA0MTk0MzA0KTtcbiAgICAgIHJldHVybiBsYW5lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVMYW5lTWFwKGluaXRpYWwpIHtcbiAgICAgIGZvciAodmFyIGxhbmVNYXAgPSBbXSwgaSA9IDA7IDMxID4gaTsgaSsrKSBsYW5lTWFwLnB1c2goaW5pdGlhbCk7XG4gICAgICByZXR1cm4gbGFuZU1hcDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1Jvb3RVcGRhdGVkJDEocm9vdCwgdXBkYXRlTGFuZSkge1xuICAgICAgcm9vdC5wZW5kaW5nTGFuZXMgfD0gdXBkYXRlTGFuZTtcbiAgICAgIDI2ODQzNTQ1NiAhPT0gdXBkYXRlTGFuZSAmJlxuICAgICAgICAoKHJvb3Quc3VzcGVuZGVkTGFuZXMgPSAwKSxcbiAgICAgICAgKHJvb3QucGluZ2VkTGFuZXMgPSAwKSxcbiAgICAgICAgKHJvb3Qud2FybUxhbmVzID0gMCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUm9vdEZpbmlzaGVkKFxuICAgICAgcm9vdCxcbiAgICAgIGZpbmlzaGVkTGFuZXMsXG4gICAgICByZW1haW5pbmdMYW5lcyxcbiAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lc1xuICAgICkge1xuICAgICAgdmFyIHByZXZpb3VzbHlQZW5kaW5nTGFuZXMgPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgIHJvb3QucGVuZGluZ0xhbmVzID0gcmVtYWluaW5nTGFuZXM7XG4gICAgICByb290LnN1c3BlbmRlZExhbmVzID0gMDtcbiAgICAgIHJvb3QucGluZ2VkTGFuZXMgPSAwO1xuICAgICAgcm9vdC53YXJtTGFuZXMgPSAwO1xuICAgICAgcm9vdC5leHBpcmVkTGFuZXMgJj0gcmVtYWluaW5nTGFuZXM7XG4gICAgICByb290LmVudGFuZ2xlZExhbmVzICY9IHJlbWFpbmluZ0xhbmVzO1xuICAgICAgcm9vdC5lcnJvclJlY292ZXJ5RGlzYWJsZWRMYW5lcyAmPSByZW1haW5pbmdMYW5lcztcbiAgICAgIHJvb3Quc2hlbGxTdXNwZW5kQ291bnRlciA9IDA7XG4gICAgICB2YXIgZW50YW5nbGVtZW50cyA9IHJvb3QuZW50YW5nbGVtZW50cyxcbiAgICAgICAgZXhwaXJhdGlvblRpbWVzID0gcm9vdC5leHBpcmF0aW9uVGltZXMsXG4gICAgICAgIGhpZGRlblVwZGF0ZXMgPSByb290LmhpZGRlblVwZGF0ZXM7XG4gICAgICBmb3IgKFxuICAgICAgICByZW1haW5pbmdMYW5lcyA9IHByZXZpb3VzbHlQZW5kaW5nTGFuZXMgJiB+cmVtYWluaW5nTGFuZXM7XG4gICAgICAgIDAgPCByZW1haW5pbmdMYW5lcztcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDMxIC0gY2x6MzIocmVtYWluaW5nTGFuZXMpLFxuICAgICAgICAgIGxhbmUgPSAxIDw8IGluZGV4O1xuICAgICAgICBlbnRhbmdsZW1lbnRzW2luZGV4XSA9IDA7XG4gICAgICAgIGV4cGlyYXRpb25UaW1lc1tpbmRleF0gPSAtMTtcbiAgICAgICAgdmFyIGhpZGRlblVwZGF0ZXNGb3JMYW5lID0gaGlkZGVuVXBkYXRlc1tpbmRleF07XG4gICAgICAgIGlmIChudWxsICE9PSBoaWRkZW5VcGRhdGVzRm9yTGFuZSlcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgaGlkZGVuVXBkYXRlc1tpbmRleF0gPSBudWxsLCBpbmRleCA9IDA7XG4gICAgICAgICAgICBpbmRleCA8IGhpZGRlblVwZGF0ZXNGb3JMYW5lLmxlbmd0aDtcbiAgICAgICAgICAgIGluZGV4KytcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciB1cGRhdGUgPSBoaWRkZW5VcGRhdGVzRm9yTGFuZVtpbmRleF07XG4gICAgICAgICAgICBudWxsICE9PSB1cGRhdGUgJiYgKHVwZGF0ZS5sYW5lICY9IC01MzY4NzA5MTMpO1xuICAgICAgICAgIH1cbiAgICAgICAgcmVtYWluaW5nTGFuZXMgJj0gfmxhbmU7XG4gICAgICB9XG4gICAgICAwICE9PSBzcGF3bmVkTGFuZSAmJiBtYXJrU3Bhd25lZERlZmVycmVkTGFuZShyb290LCBzcGF3bmVkTGFuZSwgMCk7XG4gICAgICAwICE9PSBzdXNwZW5kZWRSZXRyeUxhbmVzICYmXG4gICAgICAgIDAgPT09IHVwZGF0ZWRMYW5lcyAmJlxuICAgICAgICAwICE9PSByb290LnRhZyAmJlxuICAgICAgICAocm9vdC5zdXNwZW5kZWRMYW5lcyB8PVxuICAgICAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXMgJiB+KHByZXZpb3VzbHlQZW5kaW5nTGFuZXMgJiB+ZmluaXNoZWRMYW5lcykpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrU3Bhd25lZERlZmVycmVkTGFuZShyb290LCBzcGF3bmVkTGFuZSwgZW50YW5nbGVkTGFuZXMpIHtcbiAgICAgIHJvb3QucGVuZGluZ0xhbmVzIHw9IHNwYXduZWRMYW5lO1xuICAgICAgcm9vdC5zdXNwZW5kZWRMYW5lcyAmPSB+c3Bhd25lZExhbmU7XG4gICAgICB2YXIgc3Bhd25lZExhbmVJbmRleCA9IDMxIC0gY2x6MzIoc3Bhd25lZExhbmUpO1xuICAgICAgcm9vdC5lbnRhbmdsZWRMYW5lcyB8PSBzcGF3bmVkTGFuZTtcbiAgICAgIHJvb3QuZW50YW5nbGVtZW50c1tzcGF3bmVkTGFuZUluZGV4XSA9XG4gICAgICAgIHJvb3QuZW50YW5nbGVtZW50c1tzcGF3bmVkTGFuZUluZGV4XSB8XG4gICAgICAgIDEwNzM3NDE4MjQgfFxuICAgICAgICAoZW50YW5nbGVkTGFuZXMgJiA0MTk0MjE4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1Jvb3RFbnRhbmdsZWQocm9vdCwgZW50YW5nbGVkTGFuZXMpIHtcbiAgICAgIHZhciByb290RW50YW5nbGVkTGFuZXMgPSAocm9vdC5lbnRhbmdsZWRMYW5lcyB8PSBlbnRhbmdsZWRMYW5lcyk7XG4gICAgICBmb3IgKHJvb3QgPSByb290LmVudGFuZ2xlbWVudHM7IHJvb3RFbnRhbmdsZWRMYW5lczsgKSB7XG4gICAgICAgIHZhciBpbmRleCA9IDMxIC0gY2x6MzIocm9vdEVudGFuZ2xlZExhbmVzKSxcbiAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleDtcbiAgICAgICAgKGxhbmUgJiBlbnRhbmdsZWRMYW5lcykgfCAocm9vdFtpbmRleF0gJiBlbnRhbmdsZWRMYW5lcykgJiZcbiAgICAgICAgICAocm9vdFtpbmRleF0gfD0gZW50YW5nbGVkTGFuZXMpO1xuICAgICAgICByb290RW50YW5nbGVkTGFuZXMgJj0gfmxhbmU7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEZpYmVyVG9MYW5lc01hcChyb290LCBmaWJlciwgbGFuZXMpIHtcbiAgICAgIGlmIChpc0RldlRvb2xzUHJlc2VudClcbiAgICAgICAgZm9yIChyb290ID0gcm9vdC5wZW5kaW5nVXBkYXRlcnNMYW5lTWFwOyAwIDwgbGFuZXM7ICkge1xuICAgICAgICAgIHZhciBpbmRleCA9IDMxIC0gY2x6MzIobGFuZXMpLFxuICAgICAgICAgICAgbGFuZSA9IDEgPDwgaW5kZXg7XG4gICAgICAgICAgcm9vdFtpbmRleF0uYWRkKGZpYmVyKTtcbiAgICAgICAgICBsYW5lcyAmPSB+bGFuZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBtb3ZlUGVuZGluZ0ZpYmVyc1RvTWVtb2l6ZWQocm9vdCwgbGFuZXMpIHtcbiAgICAgIGlmIChpc0RldlRvb2xzUHJlc2VudClcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgcGVuZGluZ1VwZGF0ZXJzTGFuZU1hcCA9IHJvb3QucGVuZGluZ1VwZGF0ZXJzTGFuZU1hcCxcbiAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMgPSByb290Lm1lbW9pemVkVXBkYXRlcnM7XG4gICAgICAgICAgMCA8IGxhbmVzO1xuXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBpbmRleCA9IDMxIC0gY2x6MzIobGFuZXMpO1xuICAgICAgICAgIHJvb3QgPSAxIDw8IGluZGV4O1xuICAgICAgICAgIGluZGV4ID0gcGVuZGluZ1VwZGF0ZXJzTGFuZU1hcFtpbmRleF07XG4gICAgICAgICAgMCA8IGluZGV4LnNpemUgJiZcbiAgICAgICAgICAgIChpbmRleC5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgICAgICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgICAobnVsbCAhPT0gYWx0ZXJuYXRlICYmIG1lbW9pemVkVXBkYXRlcnMuaGFzKGFsdGVybmF0ZSkpIHx8XG4gICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycy5hZGQoZmliZXIpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBpbmRleC5jbGVhcigpKTtcbiAgICAgICAgICBsYW5lcyAmPSB+cm9vdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsYW5lc1RvRXZlbnRQcmlvcml0eShsYW5lcykge1xuICAgICAgbGFuZXMgJj0gLWxhbmVzO1xuICAgICAgcmV0dXJuIDAgIT09IERpc2NyZXRlRXZlbnRQcmlvcml0eSAmJiBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkgPCBsYW5lc1xuICAgICAgICA/IDAgIT09IENvbnRpbnVvdXNFdmVudFByaW9yaXR5ICYmIENvbnRpbnVvdXNFdmVudFByaW9yaXR5IDwgbGFuZXNcbiAgICAgICAgICA/IDAgIT09IChsYW5lcyAmIDEzNDIxNzcyNylcbiAgICAgICAgICAgID8gRGVmYXVsdEV2ZW50UHJpb3JpdHlcbiAgICAgICAgICAgIDogSWRsZUV2ZW50UHJpb3JpdHlcbiAgICAgICAgICA6IENvbnRpbnVvdXNFdmVudFByaW9yaXR5XG4gICAgICAgIDogRGlzY3JldGVFdmVudFByaW9yaXR5O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlVXBkYXRlUHJpb3JpdHkoKSB7XG4gICAgICB2YXIgdXBkYXRlUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgaWYgKDAgIT09IHVwZGF0ZVByaW9yaXR5KSByZXR1cm4gdXBkYXRlUHJpb3JpdHk7XG4gICAgICB1cGRhdGVQcmlvcml0eSA9IHdpbmRvdy5ldmVudDtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IHVwZGF0ZVByaW9yaXR5XG4gICAgICAgID8gRGVmYXVsdEV2ZW50UHJpb3JpdHlcbiAgICAgICAgOiBnZXRFdmVudFByaW9yaXR5KHVwZGF0ZVByaW9yaXR5LnR5cGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5XaXRoUHJpb3JpdHkocHJpb3JpdHksIGZuKSB7XG4gICAgICB2YXIgcHJldmlvdXNQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBwcmlvcml0eSksIGZuKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICBSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJldmlvdXNQcmlvcml0eTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGV0YWNoRGVsZXRlZEluc3RhbmNlKG5vZGUpIHtcbiAgICAgIGRlbGV0ZSBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldO1xuICAgICAgZGVsZXRlIG5vZGVbaW50ZXJuYWxQcm9wc0tleV07XG4gICAgICBkZWxldGUgbm9kZVtpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXldO1xuICAgICAgZGVsZXRlIG5vZGVbaW50ZXJuYWxFdmVudEhhbmRsZXJMaXN0ZW5lcnNLZXldO1xuICAgICAgZGVsZXRlIG5vZGVbaW50ZXJuYWxFdmVudEhhbmRsZXNTZXRLZXldO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSh0YXJnZXROb2RlKSB7XG4gICAgICB2YXIgdGFyZ2V0SW5zdCA9IHRhcmdldE5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV07XG4gICAgICBpZiAodGFyZ2V0SW5zdCkgcmV0dXJuIHRhcmdldEluc3Q7XG4gICAgICBmb3IgKHZhciBwYXJlbnROb2RlID0gdGFyZ2V0Tm9kZS5wYXJlbnROb2RlOyBwYXJlbnROb2RlOyApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICh0YXJnZXRJbnN0ID1cbiAgICAgICAgICAgIHBhcmVudE5vZGVbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV0gfHxcbiAgICAgICAgICAgIHBhcmVudE5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0pXG4gICAgICAgICkge1xuICAgICAgICAgIHBhcmVudE5vZGUgPSB0YXJnZXRJbnN0LmFsdGVybmF0ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsICE9PSB0YXJnZXRJbnN0LmNoaWxkIHx8XG4gICAgICAgICAgICAobnVsbCAhPT0gcGFyZW50Tm9kZSAmJiBudWxsICE9PSBwYXJlbnROb2RlLmNoaWxkKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIHRhcmdldE5vZGUgPSBnZXRQYXJlbnRTdXNwZW5zZUluc3RhbmNlKHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgICBudWxsICE9PSB0YXJnZXROb2RlO1xuXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgaWYgKChwYXJlbnROb2RlID0gdGFyZ2V0Tm9kZVtpbnRlcm5hbEluc3RhbmNlS2V5XSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudE5vZGU7XG4gICAgICAgICAgICAgIHRhcmdldE5vZGUgPSBnZXRQYXJlbnRTdXNwZW5zZUluc3RhbmNlKHRhcmdldE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0YXJnZXRJbnN0O1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldE5vZGUgPSBwYXJlbnROb2RlO1xuICAgICAgICBwYXJlbnROb2RlID0gdGFyZ2V0Tm9kZS5wYXJlbnROb2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEluc3RhbmNlRnJvbU5vZGUobm9kZSkge1xuICAgICAgaWYgKFxuICAgICAgICAobm9kZSA9IG5vZGVbaW50ZXJuYWxJbnN0YW5jZUtleV0gfHwgbm9kZVtpbnRlcm5hbENvbnRhaW5lckluc3RhbmNlS2V5XSlcbiAgICAgICkge1xuICAgICAgICB2YXIgdGFnID0gbm9kZS50YWc7XG4gICAgICAgIGlmIChcbiAgICAgICAgICA1ID09PSB0YWcgfHxcbiAgICAgICAgICA2ID09PSB0YWcgfHxcbiAgICAgICAgICAxMyA9PT0gdGFnIHx8XG4gICAgICAgICAgMjYgPT09IHRhZyB8fFxuICAgICAgICAgIDI3ID09PSB0YWcgfHxcbiAgICAgICAgICAzID09PSB0YWdcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5vZGVGcm9tSW5zdGFuY2UoaW5zdCkge1xuICAgICAgdmFyIHRhZyA9IGluc3QudGFnO1xuICAgICAgaWYgKDUgPT09IHRhZyB8fCAyNiA9PT0gdGFnIHx8IDI3ID09PSB0YWcgfHwgNiA9PT0gdGFnKVxuICAgICAgICByZXR1cm4gaW5zdC5zdGF0ZU5vZGU7XG4gICAgICB0aHJvdyBFcnJvcihcImdldE5vZGVGcm9tSW5zdGFuY2U6IEludmFsaWQgYXJndW1lbnQuXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSZXNvdXJjZXNGcm9tUm9vdChyb290KSB7XG4gICAgICB2YXIgcmVzb3VyY2VzID0gcm9vdFtpbnRlcm5hbFJvb3ROb2RlUmVzb3VyY2VzS2V5XTtcbiAgICAgIHJlc291cmNlcyB8fFxuICAgICAgICAocmVzb3VyY2VzID0gcm9vdFtpbnRlcm5hbFJvb3ROb2RlUmVzb3VyY2VzS2V5XSA9XG4gICAgICAgICAgeyBob2lzdGFibGVTdHlsZXM6IG5ldyBNYXAoKSwgaG9pc3RhYmxlU2NyaXB0czogbmV3IE1hcCgpIH0pO1xuICAgICAgcmV0dXJuIHJlc291cmNlcztcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya05vZGVBc0hvaXN0YWJsZShub2RlKSB7XG4gICAgICBub2RlW2ludGVybmFsSG9pc3RhYmxlTWFya2VyXSA9ICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWdpc3RlclR3b1BoYXNlRXZlbnQocmVnaXN0cmF0aW9uTmFtZSwgZGVwZW5kZW5jaWVzKSB7XG4gICAgICByZWdpc3RlckRpcmVjdEV2ZW50KHJlZ2lzdHJhdGlvbk5hbWUsIGRlcGVuZGVuY2llcyk7XG4gICAgICByZWdpc3RlckRpcmVjdEV2ZW50KHJlZ2lzdHJhdGlvbk5hbWUgKyBcIkNhcHR1cmVcIiwgZGVwZW5kZW5jaWVzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJEaXJlY3RFdmVudChyZWdpc3RyYXRpb25OYW1lLCBkZXBlbmRlbmNpZXMpIHtcbiAgICAgIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV0gJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkV2ZW50UmVnaXN0cnk6IE1vcmUgdGhhbiBvbmUgcGx1Z2luIGF0dGVtcHRlZCB0byBwdWJsaXNoIHRoZSBzYW1lIHJlZ2lzdHJhdGlvbiBuYW1lLCBgJXNgLlwiLFxuICAgICAgICAgIHJlZ2lzdHJhdGlvbk5hbWVcbiAgICAgICAgKTtcbiAgICAgIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXNbcmVnaXN0cmF0aW9uTmFtZV0gPSBkZXBlbmRlbmNpZXM7XG4gICAgICB2YXIgbG93ZXJDYXNlZE5hbWUgPSByZWdpc3RyYXRpb25OYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzW2xvd2VyQ2FzZWROYW1lXSA9IHJlZ2lzdHJhdGlvbk5hbWU7XG4gICAgICBcIm9uRG91YmxlQ2xpY2tcIiA9PT0gcmVnaXN0cmF0aW9uTmFtZSAmJlxuICAgICAgICAocG9zc2libGVSZWdpc3RyYXRpb25OYW1lcy5vbmRibGNsaWNrID0gcmVnaXN0cmF0aW9uTmFtZSk7XG4gICAgICBmb3IgKFxuICAgICAgICByZWdpc3RyYXRpb25OYW1lID0gMDtcbiAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSA8IGRlcGVuZGVuY2llcy5sZW5ndGg7XG4gICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUrK1xuICAgICAgKVxuICAgICAgICBhbGxOYXRpdmVFdmVudHMuYWRkKGRlcGVuZGVuY2llc1tyZWdpc3RyYXRpb25OYW1lXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHModGFnTmFtZSwgcHJvcHMpIHtcbiAgICAgIGhhc1JlYWRPbmx5VmFsdWVbcHJvcHMudHlwZV0gfHxcbiAgICAgICAgcHJvcHMub25DaGFuZ2UgfHxcbiAgICAgICAgcHJvcHMub25JbnB1dCB8fFxuICAgICAgICBwcm9wcy5yZWFkT25seSB8fFxuICAgICAgICBwcm9wcy5kaXNhYmxlZCB8fFxuICAgICAgICBudWxsID09IHByb3BzLnZhbHVlIHx8XG4gICAgICAgIChcInNlbGVjdFwiID09PSB0YWdOYW1lXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBwcm92aWRlZCBhIGB2YWx1ZWAgcHJvcCB0byBhIGZvcm0gZmllbGQgd2l0aG91dCBhbiBgb25DaGFuZ2VgIGhhbmRsZXIuIFRoaXMgd2lsbCByZW5kZXIgYSByZWFkLW9ubHkgZmllbGQuIElmIHRoZSBmaWVsZCBzaG91bGQgYmUgbXV0YWJsZSB1c2UgYGRlZmF1bHRWYWx1ZWAuIE90aGVyd2lzZSwgc2V0IGBvbkNoYW5nZWAuXCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiWW91IHByb3ZpZGVkIGEgYHZhbHVlYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCB3aXRob3V0IGFuIGBvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgdGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdFZhbHVlYC4gT3RoZXJ3aXNlLCBzZXQgZWl0aGVyIGBvbkNoYW5nZWAgb3IgYHJlYWRPbmx5YC5cIlxuICAgICAgICAgICAgKSk7XG4gICAgICBwcm9wcy5vbkNoYW5nZSB8fFxuICAgICAgICBwcm9wcy5yZWFkT25seSB8fFxuICAgICAgICBwcm9wcy5kaXNhYmxlZCB8fFxuICAgICAgICBudWxsID09IHByb3BzLmNoZWNrZWQgfHxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIllvdSBwcm92aWRlZCBhIGBjaGVja2VkYCBwcm9wIHRvIGEgZm9ybSBmaWVsZCB3aXRob3V0IGFuIGBvbkNoYW5nZWAgaGFuZGxlci4gVGhpcyB3aWxsIHJlbmRlciBhIHJlYWQtb25seSBmaWVsZC4gSWYgdGhlIGZpZWxkIHNob3VsZCBiZSBtdXRhYmxlIHVzZSBgZGVmYXVsdENoZWNrZWRgLiBPdGhlcndpc2UsIHNldCBlaXRoZXIgYG9uQ2hhbmdlYCBvciBgcmVhZE9ubHlgLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQXR0cmlidXRlTmFtZVNhZmUoYXR0cmlidXRlTmFtZSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwodmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlLCBhdHRyaWJ1dGVOYW1lKSlcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZSwgYXR0cmlidXRlTmFtZSkpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIGlmIChWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWC50ZXN0KGF0dHJpYnV0ZU5hbWUpKVxuICAgICAgICByZXR1cm4gKHZhbGlkYXRlZEF0dHJpYnV0ZU5hbWVDYWNoZVthdHRyaWJ1dGVOYW1lXSA9ICEwKTtcbiAgICAgIGlsbGVnYWxBdHRyaWJ1dGVOYW1lQ2FjaGVbYXR0cmlidXRlTmFtZV0gPSAhMDtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lOiBgJXNgXCIsIGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRWYWx1ZUZvckF0dHJpYnV0ZU9uQ3VzdG9tQ29tcG9uZW50KG5vZGUsIG5hbWUsIGV4cGVjdGVkKSB7XG4gICAgICBpZiAoaXNBdHRyaWJ1dGVOYW1lU2FmZShuYW1lKSkge1xuICAgICAgICBpZiAoIW5vZGUuaGFzQXR0cmlidXRlKG5hbWUpKSB7XG4gICAgICAgICAgc3dpdGNoICh0eXBlb2YgZXhwZWN0ZWQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIGV4cGVjdGVkO1xuICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgIHJldHVybiBleHBlY3RlZDtcbiAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgIGlmICghMSA9PT0gZXhwZWN0ZWQpIHJldHVybiBleHBlY3RlZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZXhwZWN0ZWQgPyB2b2lkIDAgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLmdldEF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgaWYgKFwiXCIgPT09IG5vZGUgJiYgITAgPT09IGV4cGVjdGVkKSByZXR1cm4gITA7XG4gICAgICAgIGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24oZXhwZWN0ZWQsIG5hbWUpO1xuICAgICAgICByZXR1cm4gbm9kZSA9PT0gXCJcIiArIGV4cGVjdGVkID8gZXhwZWN0ZWQgOiBub2RlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZXRWYWx1ZUZvckF0dHJpYnV0ZShub2RlLCBuYW1lLCB2YWx1ZSkge1xuICAgICAgaWYgKGlzQXR0cmlidXRlTmFtZVNhZmUobmFtZSkpXG4gICAgICAgIGlmIChudWxsID09PSB2YWx1ZSkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgIHZhciBwcmVmaXggPSBuYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgNSk7XG4gICAgICAgICAgICAgIGlmIChcImRhdGEtXCIgIT09IHByZWZpeCAmJiBcImFyaWEtXCIgIT09IHByZWZpeCkge1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBuYW1lKTtcbiAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShuYW1lLCBcIlwiICsgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFZhbHVlRm9yS25vd25BdHRyaWJ1dGUobm9kZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChudWxsID09PSB2YWx1ZSkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBuYW1lKTtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobmFtZSwgXCJcIiArIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKG5vZGUsIG5hbWVzcGFjZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmIChudWxsID09PSB2YWx1ZSkgbm9kZS5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBuYW1lKTtcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGVOUyhuYW1lc3BhY2UsIG5hbWUsIFwiXCIgKyB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRvU3RyaW5nVmFsdWUodmFsdWUpIHtcbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICByZXR1cm4gY2hlY2tGb3JtRmllbGRWYWx1ZVN0cmluZ0NvZXJjaW9uKHZhbHVlKSwgdmFsdWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzQ2hlY2thYmxlKGVsZW0pIHtcbiAgICAgIHZhciB0eXBlID0gZWxlbS50eXBlO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgKGVsZW0gPSBlbGVtLm5vZGVOYW1lKSAmJlxuICAgICAgICBcImlucHV0XCIgPT09IGVsZW0udG9Mb3dlckNhc2UoKSAmJlxuICAgICAgICAoXCJjaGVja2JveFwiID09PSB0eXBlIHx8IFwicmFkaW9cIiA9PT0gdHlwZSlcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYWNrVmFsdWVPbk5vZGUobm9kZSkge1xuICAgICAgdmFyIHZhbHVlRmllbGQgPSBpc0NoZWNrYWJsZShub2RlKSA/IFwiY2hlY2tlZFwiIDogXCJ2YWx1ZVwiLFxuICAgICAgICBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgICAgICBub2RlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSxcbiAgICAgICAgICB2YWx1ZUZpZWxkXG4gICAgICAgICk7XG4gICAgICBjaGVja0Zvcm1GaWVsZFZhbHVlU3RyaW5nQ29lcmNpb24obm9kZVt2YWx1ZUZpZWxkXSk7XG4gICAgICB2YXIgY3VycmVudFZhbHVlID0gXCJcIiArIG5vZGVbdmFsdWVGaWVsZF07XG4gICAgICBpZiAoXG4gICAgICAgICFub2RlLmhhc093blByb3BlcnR5KHZhbHVlRmllbGQpICYmXG4gICAgICAgIFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBkZXNjcmlwdG9yICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGRlc2NyaXB0b3IuZ2V0ICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGRlc2NyaXB0b3Iuc2V0XG4gICAgICApIHtcbiAgICAgICAgdmFyIGdldCA9IGRlc2NyaXB0b3IuZ2V0LFxuICAgICAgICAgIHNldCA9IGRlc2NyaXB0b3Iuc2V0O1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9kZSwgdmFsdWVGaWVsZCwge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0LmNhbGwodGhpcyk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgY2hlY2tGb3JtRmllbGRWYWx1ZVN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSA9IFwiXCIgKyB2YWx1ZTtcbiAgICAgICAgICAgIHNldC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobm9kZSwgdmFsdWVGaWVsZCwge1xuICAgICAgICAgIGVudW1lcmFibGU6IGRlc2NyaXB0b3IuZW51bWVyYWJsZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBnZXRWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHNldFZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNoZWNrRm9ybUZpZWxkVmFsdWVTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBcIlwiICsgdmFsdWU7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdG9wVHJhY2tpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG5vZGUuX3ZhbHVlVHJhY2tlciA9IG51bGw7XG4gICAgICAgICAgICBkZWxldGUgbm9kZVt2YWx1ZUZpZWxkXTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRyYWNrKG5vZGUpIHtcbiAgICAgIG5vZGUuX3ZhbHVlVHJhY2tlciB8fCAobm9kZS5fdmFsdWVUcmFja2VyID0gdHJhY2tWYWx1ZU9uTm9kZShub2RlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVZhbHVlSWZDaGFuZ2VkKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZSkgcmV0dXJuICExO1xuICAgICAgdmFyIHRyYWNrZXIgPSBub2RlLl92YWx1ZVRyYWNrZXI7XG4gICAgICBpZiAoIXRyYWNrZXIpIHJldHVybiAhMDtcbiAgICAgIHZhciBsYXN0VmFsdWUgPSB0cmFja2VyLmdldFZhbHVlKCk7XG4gICAgICB2YXIgdmFsdWUgPSBcIlwiO1xuICAgICAgbm9kZSAmJlxuICAgICAgICAodmFsdWUgPSBpc0NoZWNrYWJsZShub2RlKVxuICAgICAgICAgID8gbm9kZS5jaGVja2VkXG4gICAgICAgICAgICA/IFwidHJ1ZVwiXG4gICAgICAgICAgICA6IFwiZmFsc2VcIlxuICAgICAgICAgIDogbm9kZS52YWx1ZSk7XG4gICAgICBub2RlID0gdmFsdWU7XG4gICAgICByZXR1cm4gbm9kZSAhPT0gbGFzdFZhbHVlID8gKHRyYWNrZXIuc2V0VmFsdWUobm9kZSksICEwKSA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRBY3RpdmVFbGVtZW50KGRvYykge1xuICAgICAgZG9jID0gZG9jIHx8IChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgZG9jdW1lbnQgPyBkb2N1bWVudCA6IHZvaWQgMCk7XG4gICAgICBpZiAoXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIGRvYykgcmV0dXJuIG51bGw7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZG9jLmFjdGl2ZUVsZW1lbnQgfHwgZG9jLmJvZHk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBkb2MuYm9keTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3Rlcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoXG4gICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXNSZWdleCxcbiAgICAgICAgZnVuY3Rpb24gKGNoKSB7XG4gICAgICAgICAgcmV0dXJuIFwiXFxcXFwiICsgY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikgKyBcIiBcIjtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVJbnB1dFByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gICAgICB2b2lkIDAgPT09IHByb3BzLmNoZWNrZWQgfHxcbiAgICAgICAgdm9pZCAwID09PSBwcm9wcy5kZWZhdWx0Q2hlY2tlZCB8fFxuICAgICAgICBkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggY2hlY2tlZCBhbmQgZGVmYXVsdENoZWNrZWQgcHJvcHMuIElucHV0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIChzcGVjaWZ5IGVpdGhlciB0aGUgY2hlY2tlZCBwcm9wLCBvciB0aGUgZGVmYXVsdENoZWNrZWQgcHJvcCwgYnV0IG5vdCBib3RoKS4gRGVjaWRlIGJldHdlZW4gdXNpbmcgYSBjb250cm9sbGVkIG9yIHVuY29udHJvbGxlZCBpbnB1dCBlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvY29udHJvbGxlZC1jb21wb25lbnRzXCIsXG4gICAgICAgICAgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKSB8fCBcIkEgY29tcG9uZW50XCIsXG4gICAgICAgICAgcHJvcHMudHlwZVxuICAgICAgICApLFxuICAgICAgICAoZGlkV2FybkNoZWNrZWREZWZhdWx0Q2hlY2tlZCA9ICEwKSk7XG4gICAgICB2b2lkIDAgPT09IHByb3BzLnZhbHVlIHx8XG4gICAgICAgIHZvaWQgMCA9PT0gcHJvcHMuZGVmYXVsdFZhbHVlIHx8XG4gICAgICAgIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiJXMgY29udGFpbnMgYW4gaW5wdXQgb2YgdHlwZSAlcyB3aXRoIGJvdGggdmFsdWUgYW5kIGRlZmF1bHRWYWx1ZSBwcm9wcy4gSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgKHNwZWNpZnkgZWl0aGVyIHRoZSB2YWx1ZSBwcm9wLCBvciB0aGUgZGVmYXVsdFZhbHVlIHByb3AsIGJ1dCBub3QgYm90aCkuIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgZWxlbWVudCBhbmQgcmVtb3ZlIG9uZSBvZiB0aGVzZSBwcm9wcy4gTW9yZSBpbmZvOiBodHRwczovL3JlYWN0LmRldi9saW5rL2NvbnRyb2xsZWQtY29tcG9uZW50c1wiLFxuICAgICAgICAgIGdldEN1cnJlbnRGaWJlck93bmVyTmFtZUluRGV2T3JOdWxsKCkgfHwgXCJBIGNvbXBvbmVudFwiLFxuICAgICAgICAgIHByb3BzLnR5cGVcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxID0gITApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlSW5wdXQoXG4gICAgICBlbGVtZW50LFxuICAgICAgdmFsdWUsXG4gICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICBsYXN0RGVmYXVsdFZhbHVlLFxuICAgICAgY2hlY2tlZCxcbiAgICAgIGRlZmF1bHRDaGVja2VkLFxuICAgICAgdHlwZSxcbiAgICAgIG5hbWVcbiAgICApIHtcbiAgICAgIGVsZW1lbnQubmFtZSA9IFwiXCI7XG4gICAgICBudWxsICE9IHR5cGUgJiZcbiAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIHR5cGVcbiAgICAgICAgPyAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih0eXBlLCBcInR5cGVcIiksIChlbGVtZW50LnR5cGUgPSB0eXBlKSlcbiAgICAgICAgOiBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInR5cGVcIik7XG4gICAgICBpZiAobnVsbCAhPSB2YWx1ZSlcbiAgICAgICAgaWYgKFwibnVtYmVyXCIgPT09IHR5cGUpIHtcbiAgICAgICAgICBpZiAoKDAgPT09IHZhbHVlICYmIFwiXCIgPT09IGVsZW1lbnQudmFsdWUpIHx8IGVsZW1lbnQudmFsdWUgIT0gdmFsdWUpXG4gICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUodmFsdWUpO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBlbGVtZW50LnZhbHVlICE9PSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZSh2YWx1ZSkgJiZcbiAgICAgICAgICAgIChlbGVtZW50LnZhbHVlID0gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUodmFsdWUpKTtcbiAgICAgIGVsc2VcbiAgICAgICAgKFwic3VibWl0XCIgIT09IHR5cGUgJiYgXCJyZXNldFwiICE9PSB0eXBlKSB8fFxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidmFsdWVcIik7XG4gICAgICBudWxsICE9IHZhbHVlXG4gICAgICAgID8gc2V0RGVmYXVsdFZhbHVlKGVsZW1lbnQsIHR5cGUsIGdldFRvU3RyaW5nVmFsdWUodmFsdWUpKVxuICAgICAgICA6IG51bGwgIT0gZGVmYXVsdFZhbHVlXG4gICAgICAgICAgPyBzZXREZWZhdWx0VmFsdWUoZWxlbWVudCwgdHlwZSwgZ2V0VG9TdHJpbmdWYWx1ZShkZWZhdWx0VmFsdWUpKVxuICAgICAgICAgIDogbnVsbCAhPSBsYXN0RGVmYXVsdFZhbHVlICYmIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwidmFsdWVcIik7XG4gICAgICBudWxsID09IGNoZWNrZWQgJiZcbiAgICAgICAgbnVsbCAhPSBkZWZhdWx0Q2hlY2tlZCAmJlxuICAgICAgICAoZWxlbWVudC5kZWZhdWx0Q2hlY2tlZCA9ICEhZGVmYXVsdENoZWNrZWQpO1xuICAgICAgbnVsbCAhPSBjaGVja2VkICYmXG4gICAgICAgIChlbGVtZW50LmNoZWNrZWQgPVxuICAgICAgICAgIGNoZWNrZWQgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjaGVja2VkICYmXG4gICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIGNoZWNrZWQpO1xuICAgICAgbnVsbCAhPSBuYW1lICYmXG4gICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBuYW1lICYmXG4gICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgbmFtZSAmJlxuICAgICAgXCJib29sZWFuXCIgIT09IHR5cGVvZiBuYW1lXG4gICAgICAgID8gKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24obmFtZSwgXCJuYW1lXCIpLFxuICAgICAgICAgIChlbGVtZW50Lm5hbWUgPSBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZShuYW1lKSkpXG4gICAgICAgIDogZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0SW5wdXQoXG4gICAgICBlbGVtZW50LFxuICAgICAgdmFsdWUsXG4gICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICBjaGVja2VkLFxuICAgICAgZGVmYXVsdENoZWNrZWQsXG4gICAgICB0eXBlLFxuICAgICAgbmFtZSxcbiAgICAgIGlzSHlkcmF0aW5nXG4gICAgKSB7XG4gICAgICBudWxsICE9IHR5cGUgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgdHlwZSAmJlxuICAgICAgICBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odHlwZSwgXCJ0eXBlXCIpLCAoZWxlbWVudC50eXBlID0gdHlwZSkpO1xuICAgICAgaWYgKG51bGwgIT0gdmFsdWUgfHwgbnVsbCAhPSBkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICEoXG4gICAgICAgICAgICAoXCJzdWJtaXRcIiAhPT0gdHlwZSAmJiBcInJlc2V0XCIgIT09IHR5cGUpIHx8XG4gICAgICAgICAgICAodm9pZCAwICE9PSB2YWx1ZSAmJiBudWxsICE9PSB2YWx1ZSlcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRlZmF1bHRWYWx1ZSA9XG4gICAgICAgICAgbnVsbCAhPSBkZWZhdWx0VmFsdWUgPyBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZShkZWZhdWx0VmFsdWUpIDogXCJcIjtcbiAgICAgICAgdmFsdWUgPSBudWxsICE9IHZhbHVlID8gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUodmFsdWUpIDogZGVmYXVsdFZhbHVlO1xuICAgICAgICBpc0h5ZHJhdGluZyB8fCB2YWx1ZSA9PT0gZWxlbWVudC52YWx1ZSB8fCAoZWxlbWVudC52YWx1ZSA9IHZhbHVlKTtcbiAgICAgICAgZWxlbWVudC5kZWZhdWx0VmFsdWUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGNoZWNrZWQgPSBudWxsICE9IGNoZWNrZWQgPyBjaGVja2VkIDogZGVmYXVsdENoZWNrZWQ7XG4gICAgICBjaGVja2VkID1cbiAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY2hlY2tlZCAmJlxuICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgY2hlY2tlZCAmJlxuICAgICAgICAhIWNoZWNrZWQ7XG4gICAgICBlbGVtZW50LmNoZWNrZWQgPSBpc0h5ZHJhdGluZyA/IGVsZW1lbnQuY2hlY2tlZCA6ICEhY2hlY2tlZDtcbiAgICAgIGVsZW1lbnQuZGVmYXVsdENoZWNrZWQgPSAhIWNoZWNrZWQ7XG4gICAgICBudWxsICE9IG5hbWUgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgbmFtZSAmJlxuICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgbmFtZSAmJlxuICAgICAgICBcImJvb2xlYW5cIiAhPT0gdHlwZW9mIG5hbWUgJiZcbiAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24obmFtZSwgXCJuYW1lXCIpLCAoZWxlbWVudC5uYW1lID0gbmFtZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzZXREZWZhdWx0VmFsdWUobm9kZSwgdHlwZSwgdmFsdWUpIHtcbiAgICAgIChcIm51bWJlclwiID09PSB0eXBlICYmIGdldEFjdGl2ZUVsZW1lbnQobm9kZS5vd25lckRvY3VtZW50KSA9PT0gbm9kZSkgfHxcbiAgICAgICAgbm9kZS5kZWZhdWx0VmFsdWUgPT09IFwiXCIgKyB2YWx1ZSB8fFxuICAgICAgICAobm9kZS5kZWZhdWx0VmFsdWUgPSBcIlwiICsgdmFsdWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZU9wdGlvblByb3BzKGVsZW1lbnQsIHByb3BzKSB7XG4gICAgICBudWxsID09IHByb3BzLnZhbHVlICYmXG4gICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gJiYgbnVsbCAhPT0gcHJvcHMuY2hpbGRyZW5cbiAgICAgICAgICA/IFJlYWN0LkNoaWxkcmVuLmZvckVhY2gocHJvcHMuY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICBudWxsID09IGNoaWxkIHx8XG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNoaWxkIHx8XG4gICAgICAgICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGNoaWxkIHx8XG4gICAgICAgICAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIGNoaWxkIHx8XG4gICAgICAgICAgICAgICAgZGlkV2FybkludmFsaWRDaGlsZCB8fFxuICAgICAgICAgICAgICAgICgoZGlkV2FybkludmFsaWRDaGlsZCA9ICEwKSxcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgaW5mZXIgdGhlIG9wdGlvbiB2YWx1ZSBvZiBjb21wbGV4IGNoaWxkcmVuLiBQYXNzIGEgYHZhbHVlYCBwcm9wIG9yIHVzZSBhIHBsYWluIHN0cmluZyBhcyBjaGlsZHJlbiB0byA8b3B0aW9uPi5cIlxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IG51bGwgPT0gcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwgfHxcbiAgICAgICAgICAgIGRpZFdhcm5JbnZhbGlkSW5uZXJIVE1MIHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5JbnZhbGlkSW5uZXJIVE1MID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJQYXNzIGEgYHZhbHVlYCBwcm9wIGlmIHlvdSBzZXQgZGFuZ2Vyb3VzbHlJbm5lckhUTUwgc28gUmVhY3Qga25vd3Mgd2hpY2ggdmFsdWUgc2hvdWxkIGJlIHNlbGVjdGVkLlwiXG4gICAgICAgICAgICApKSk7XG4gICAgICBudWxsID09IHByb3BzLnNlbGVjdGVkIHx8XG4gICAgICAgIGRpZFdhcm5TZWxlY3RlZFNldE9uT3B0aW9uIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIG9uIDxzZWxlY3Q+IGluc3RlYWQgb2Ygc2V0dGluZyBgc2VsZWN0ZWRgIG9uIDxvcHRpb24+LlwiXG4gICAgICAgICksXG4gICAgICAgIChkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiA9ICEwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAgICAgIHZhciBvd25lck5hbWUgPSBnZXRDdXJyZW50RmliZXJPd25lck5hbWVJbkRldk9yTnVsbCgpO1xuICAgICAgcmV0dXJuIG93bmVyTmFtZVxuICAgICAgICA/IFwiXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYFwiICsgb3duZXJOYW1lICsgXCJgLlwiXG4gICAgICAgIDogXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyhub2RlLCBtdWx0aXBsZSwgcHJvcFZhbHVlLCBzZXREZWZhdWx0U2VsZWN0ZWQpIHtcbiAgICAgIG5vZGUgPSBub2RlLm9wdGlvbnM7XG4gICAgICBpZiAobXVsdGlwbGUpIHtcbiAgICAgICAgbXVsdGlwbGUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgbXVsdGlwbGVbXCIkXCIgKyBwcm9wVmFsdWVbaV1dID0gITA7XG4gICAgICAgIGZvciAocHJvcFZhbHVlID0gMDsgcHJvcFZhbHVlIDwgbm9kZS5sZW5ndGg7IHByb3BWYWx1ZSsrKVxuICAgICAgICAgIChpID0gbXVsdGlwbGUuaGFzT3duUHJvcGVydHkoXCIkXCIgKyBub2RlW3Byb3BWYWx1ZV0udmFsdWUpKSxcbiAgICAgICAgICAgIG5vZGVbcHJvcFZhbHVlXS5zZWxlY3RlZCAhPT0gaSAmJiAobm9kZVtwcm9wVmFsdWVdLnNlbGVjdGVkID0gaSksXG4gICAgICAgICAgICBpICYmIHNldERlZmF1bHRTZWxlY3RlZCAmJiAobm9kZVtwcm9wVmFsdWVdLmRlZmF1bHRTZWxlY3RlZCA9ICEwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb3BWYWx1ZSA9IFwiXCIgKyBnZXRUb1N0cmluZ1ZhbHVlKHByb3BWYWx1ZSk7XG4gICAgICAgIG11bHRpcGxlID0gbnVsbDtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAobm9kZVtpXS52YWx1ZSA9PT0gcHJvcFZhbHVlKSB7XG4gICAgICAgICAgICBub2RlW2ldLnNlbGVjdGVkID0gITA7XG4gICAgICAgICAgICBzZXREZWZhdWx0U2VsZWN0ZWQgJiYgKG5vZGVbaV0uZGVmYXVsdFNlbGVjdGVkID0gITApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBudWxsICE9PSBtdWx0aXBsZSB8fCBub2RlW2ldLmRpc2FibGVkIHx8IChtdWx0aXBsZSA9IG5vZGVbaV0pO1xuICAgICAgICB9XG4gICAgICAgIG51bGwgIT09IG11bHRpcGxlICYmIChtdWx0aXBsZS5zZWxlY3RlZCA9ICEwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVTZWxlY3RQcm9wcyhlbGVtZW50LCBwcm9wcykge1xuICAgICAgZm9yIChlbGVtZW50ID0gMDsgZWxlbWVudCA8IHZhbHVlUHJvcE5hbWVzLmxlbmd0aDsgZWxlbWVudCsrKSB7XG4gICAgICAgIHZhciBwcm9wTmFtZSA9IHZhbHVlUHJvcE5hbWVzW2VsZW1lbnRdO1xuICAgICAgICBpZiAobnVsbCAhPSBwcm9wc1twcm9wTmFtZV0pIHtcbiAgICAgICAgICB2YXIgcHJvcE5hbWVJc0FycmF5ID0gaXNBcnJheUltcGwocHJvcHNbcHJvcE5hbWVdKTtcbiAgICAgICAgICBwcm9wcy5tdWx0aXBsZSAmJiAhcHJvcE5hbWVJc0FycmF5XG4gICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYW4gYXJyYXkgaWYgYG11bHRpcGxlYCBpcyB0cnVlLiVzXCIsXG4gICAgICAgICAgICAgICAgcHJvcE5hbWUsXG4gICAgICAgICAgICAgICAgZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKClcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiAhcHJvcHMubXVsdGlwbGUgJiZcbiAgICAgICAgICAgICAgcHJvcE5hbWVJc0FycmF5ICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJUaGUgYCVzYCBwcm9wIHN1cHBsaWVkIHRvIDxzZWxlY3Q+IG11c3QgYmUgYSBzY2FsYXIgdmFsdWUgaWYgYG11bHRpcGxlYCBpcyBmYWxzZS4lc1wiLFxuICAgICAgICAgICAgICAgIHByb3BOYW1lLFxuICAgICAgICAgICAgICAgIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZvaWQgMCA9PT0gcHJvcHMudmFsdWUgfHxcbiAgICAgICAgdm9pZCAwID09PSBwcm9wcy5kZWZhdWx0VmFsdWUgfHxcbiAgICAgICAgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlIHx8XG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiU2VsZWN0IGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIChzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90IGJvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIHNlbGVjdCBlbGVtZW50IGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvY29udHJvbGxlZC1jb21wb25lbnRzXCJcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSA9ICEwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlVGV4dGFyZWFQcm9wcyhlbGVtZW50LCBwcm9wcykge1xuICAgICAgdm9pZCAwID09PSBwcm9wcy52YWx1ZSB8fFxuICAgICAgICB2b2lkIDAgPT09IHByb3BzLmRlZmF1bHRWYWx1ZSB8fFxuICAgICAgICBkaWRXYXJuVmFsRGVmYXVsdFZhbCB8fFxuICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIiVzIGNvbnRhaW5zIGEgdGV4dGFyZWEgd2l0aCBib3RoIHZhbHVlIGFuZCBkZWZhdWx0VmFsdWUgcHJvcHMuIFRleHRhcmVhIGVsZW1lbnRzIG11c3QgYmUgZWl0aGVyIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIChzcGVjaWZ5IGVpdGhlciB0aGUgdmFsdWUgcHJvcCwgb3IgdGhlIGRlZmF1bHRWYWx1ZSBwcm9wLCBidXQgbm90IGJvdGgpLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIHRleHRhcmVhIGFuZCByZW1vdmUgb25lIG9mIHRoZXNlIHByb3BzLiBNb3JlIGluZm86IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvY29udHJvbGxlZC1jb21wb25lbnRzXCIsXG4gICAgICAgICAgZ2V0Q3VycmVudEZpYmVyT3duZXJOYW1lSW5EZXZPck51bGwoKSB8fCBcIkEgY29tcG9uZW50XCJcbiAgICAgICAgKSxcbiAgICAgICAgKGRpZFdhcm5WYWxEZWZhdWx0VmFsID0gITApKTtcbiAgICAgIG51bGwgIT0gcHJvcHMuY2hpbGRyZW4gJiZcbiAgICAgICAgbnVsbCA9PSBwcm9wcy52YWx1ZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVXNlIHRoZSBgZGVmYXVsdFZhbHVlYCBvciBgdmFsdWVgIHByb3BzIGluc3RlYWQgb2Ygc2V0dGluZyBjaGlsZHJlbiBvbiA8dGV4dGFyZWE+LlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRleHRhcmVhKGVsZW1lbnQsIHZhbHVlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAoKHZhbHVlID0gXCJcIiArIGdldFRvU3RyaW5nVmFsdWUodmFsdWUpKSxcbiAgICAgICAgdmFsdWUgIT09IGVsZW1lbnQudmFsdWUgJiYgKGVsZW1lbnQudmFsdWUgPSB2YWx1ZSksXG4gICAgICAgIG51bGwgPT0gZGVmYXVsdFZhbHVlKVxuICAgICAgKSB7XG4gICAgICAgIGVsZW1lbnQuZGVmYXVsdFZhbHVlICE9PSB2YWx1ZSAmJiAoZWxlbWVudC5kZWZhdWx0VmFsdWUgPSB2YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGVsZW1lbnQuZGVmYXVsdFZhbHVlID1cbiAgICAgICAgbnVsbCAhPSBkZWZhdWx0VmFsdWUgPyBcIlwiICsgZ2V0VG9TdHJpbmdWYWx1ZShkZWZhdWx0VmFsdWUpIDogXCJcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdFRleHRhcmVhKGVsZW1lbnQsIHZhbHVlLCBkZWZhdWx0VmFsdWUsIGNoaWxkcmVuKSB7XG4gICAgICBpZiAobnVsbCA9PSB2YWx1ZSkge1xuICAgICAgICBpZiAobnVsbCAhPSBjaGlsZHJlbikge1xuICAgICAgICAgIGlmIChudWxsICE9IGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIklmIHlvdSBzdXBwbHkgYGRlZmF1bHRWYWx1ZWAgb24gYSA8dGV4dGFyZWE+LCBkbyBub3QgcGFzcyBjaGlsZHJlbi5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBpZiAoMSA8IGNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCI8dGV4dGFyZWE+IGNhbiBvbmx5IGhhdmUgYXQgbW9zdCBvbmUgY2hpbGQuXCIpO1xuICAgICAgICAgICAgY2hpbGRyZW4gPSBjaGlsZHJlblswXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdFZhbHVlID0gY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgbnVsbCA9PSBkZWZhdWx0VmFsdWUgJiYgKGRlZmF1bHRWYWx1ZSA9IFwiXCIpO1xuICAgICAgICB2YWx1ZSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGRlZmF1bHRWYWx1ZSA9IGdldFRvU3RyaW5nVmFsdWUodmFsdWUpO1xuICAgICAgZWxlbWVudC5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICBjaGlsZHJlbiA9IGVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgICBjaGlsZHJlbiA9PT0gZGVmYXVsdFZhbHVlICYmXG4gICAgICAgIFwiXCIgIT09IGNoaWxkcmVuICYmXG4gICAgICAgIG51bGwgIT09IGNoaWxkcmVuICYmXG4gICAgICAgIChlbGVtZW50LnZhbHVlID0gY2hpbGRyZW4pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kTm90YWJsZU5vZGUobm9kZSwgaW5kZW50KSB7XG4gICAgICByZXR1cm4gdm9pZCAwID09PSBub2RlLnNlcnZlclByb3BzICYmXG4gICAgICAgIDAgPT09IG5vZGUuc2VydmVyVGFpbC5sZW5ndGggJiZcbiAgICAgICAgMSA9PT0gbm9kZS5jaGlsZHJlbi5sZW5ndGggJiZcbiAgICAgICAgMyA8IG5vZGUuZGlzdGFuY2VGcm9tTGVhZiAmJlxuICAgICAgICBub2RlLmRpc3RhbmNlRnJvbUxlYWYgPiAxNSAtIGluZGVudFxuICAgICAgICA/IGZpbmROb3RhYmxlTm9kZShub2RlLmNoaWxkcmVuWzBdLCBpbmRlbnQpXG4gICAgICAgIDogbm9kZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5kZW50YXRpb24oaW5kZW50KSB7XG4gICAgICByZXR1cm4gXCIgIFwiICsgXCIgIFwiLnJlcGVhdChpbmRlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRlZChpbmRlbnQpIHtcbiAgICAgIHJldHVybiBcIisgXCIgKyBcIiAgXCIucmVwZWF0KGluZGVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZWQoaW5kZW50KSB7XG4gICAgICByZXR1cm4gXCItIFwiICsgXCIgIFwiLnJlcGVhdChpbmRlbnQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUZpYmVyVHlwZShmaWJlcikge1xuICAgICAgc3dpdGNoIChmaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiBmaWJlci50eXBlO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIHJldHVybiBcIkxhenlcIjtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJldHVybiBcIlN1c3BlbnNlTGlzdFwiO1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgcmV0dXJuIChmaWJlciA9IGZpYmVyLnR5cGUpLCBmaWJlci5kaXNwbGF5TmFtZSB8fCBmaWJlci5uYW1lIHx8IG51bGw7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChmaWJlciA9IGZpYmVyLnR5cGUucmVuZGVyKSwgZmliZXIuZGlzcGxheU5hbWUgfHwgZmliZXIubmFtZSB8fCBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHJldHVybiAoZmliZXIgPSBmaWJlci50eXBlKSwgZmliZXIuZGlzcGxheU5hbWUgfHwgZmliZXIubmFtZSB8fCBudWxsO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVRleHROb2RlKGNvbnRlbnQsIG1heExlbmd0aCkge1xuICAgICAgcmV0dXJuIG5lZWRzRXNjYXBpbmcudGVzdChjb250ZW50KVxuICAgICAgICA/ICgoY29udGVudCA9IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpKSxcbiAgICAgICAgICBjb250ZW50Lmxlbmd0aCA+IG1heExlbmd0aCAtIDJcbiAgICAgICAgICAgID8gOCA+IG1heExlbmd0aFxuICAgICAgICAgICAgICA/ICd7XCIuLi5cIn0nXG4gICAgICAgICAgICAgIDogXCJ7XCIgKyBjb250ZW50LnNsaWNlKDAsIG1heExlbmd0aCAtIDcpICsgJy4uLlwifSdcbiAgICAgICAgICAgIDogXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCIpXG4gICAgICAgIDogY29udGVudC5sZW5ndGggPiBtYXhMZW5ndGhcbiAgICAgICAgICA/IDUgPiBtYXhMZW5ndGhcbiAgICAgICAgICAgID8gJ3tcIi4uLlwifSdcbiAgICAgICAgICAgIDogY29udGVudC5zbGljZSgwLCBtYXhMZW5ndGggLSAzKSArIFwiLi4uXCJcbiAgICAgICAgICA6IGNvbnRlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlVGV4dERpZmYoY2xpZW50VGV4dCwgc2VydmVyUHJvcHMsIGluZGVudCkge1xuICAgICAgdmFyIG1heExlbmd0aCA9IDEyMCAtIDIgKiBpbmRlbnQ7XG4gICAgICBpZiAobnVsbCA9PT0gc2VydmVyUHJvcHMpXG4gICAgICAgIHJldHVybiBhZGRlZChpbmRlbnQpICsgZGVzY3JpYmVUZXh0Tm9kZShjbGllbnRUZXh0LCBtYXhMZW5ndGgpICsgXCJcXG5cIjtcbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2Ygc2VydmVyUHJvcHMpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgZmlyc3REaWZmID0gMDtcbiAgICAgICAgICBmaXJzdERpZmYgPCBzZXJ2ZXJQcm9wcy5sZW5ndGggJiZcbiAgICAgICAgICBmaXJzdERpZmYgPCBjbGllbnRUZXh0Lmxlbmd0aCAmJlxuICAgICAgICAgIHNlcnZlclByb3BzLmNoYXJDb2RlQXQoZmlyc3REaWZmKSA9PT1cbiAgICAgICAgICAgIGNsaWVudFRleHQuY2hhckNvZGVBdChmaXJzdERpZmYpO1xuICAgICAgICAgIGZpcnN0RGlmZisrXG4gICAgICAgICk7XG4gICAgICAgIGZpcnN0RGlmZiA+IG1heExlbmd0aCAtIDggJiZcbiAgICAgICAgICAxMCA8IGZpcnN0RGlmZiAmJlxuICAgICAgICAgICgoY2xpZW50VGV4dCA9IFwiLi4uXCIgKyBjbGllbnRUZXh0LnNsaWNlKGZpcnN0RGlmZiAtIDgpKSxcbiAgICAgICAgICAoc2VydmVyUHJvcHMgPSBcIi4uLlwiICsgc2VydmVyUHJvcHMuc2xpY2UoZmlyc3REaWZmIC0gOCkpKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBhZGRlZChpbmRlbnQpICtcbiAgICAgICAgICBkZXNjcmliZVRleHROb2RlKGNsaWVudFRleHQsIG1heExlbmd0aCkgK1xuICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgIHJlbW92ZWQoaW5kZW50KSArXG4gICAgICAgICAgZGVzY3JpYmVUZXh0Tm9kZShzZXJ2ZXJQcm9wcywgbWF4TGVuZ3RoKSArXG4gICAgICAgICAgXCJcXG5cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChcbiAgICAgICAgaW5kZW50YXRpb24oaW5kZW50KSArIGRlc2NyaWJlVGV4dE5vZGUoY2xpZW50VGV4dCwgbWF4TGVuZ3RoKSArIFwiXFxuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9iamVjdE5hbWUob2JqZWN0KSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ1xuICAgICAgICAuY2FsbChvYmplY3QpXG4gICAgICAgIC5yZXBsYWNlKC9eXFxbb2JqZWN0ICguKilcXF0kLywgZnVuY3Rpb24gKG0sIHAwKSB7XG4gICAgICAgICAgcmV0dXJuIHAwO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVWYWx1ZSh2YWx1ZSwgbWF4TGVuZ3RoKSB7XG4gICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKSksXG4gICAgICAgICAgICB2YWx1ZS5sZW5ndGggPiBtYXhMZW5ndGhcbiAgICAgICAgICAgICAgPyA1ID4gbWF4TGVuZ3RoXG4gICAgICAgICAgICAgICAgPyAnXCIuLi5cIidcbiAgICAgICAgICAgICAgICA6IHZhbHVlLnNsaWNlKDAsIG1heExlbmd0aCAtIDQpICsgJy4uLlwiJ1xuICAgICAgICAgICAgICA6IHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgIGlmIChudWxsID09PSB2YWx1ZSkgcmV0dXJuIFwibnVsbFwiO1xuICAgICAgICAgIGlmIChpc0FycmF5SW1wbCh2YWx1ZSkpIHJldHVybiBcIlsuLi5dXCI7XG4gICAgICAgICAgaWYgKHZhbHVlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpXG4gICAgICAgICAgICByZXR1cm4gKG1heExlbmd0aCA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh2YWx1ZS50eXBlKSlcbiAgICAgICAgICAgICAgPyBcIjxcIiArIG1heExlbmd0aCArIFwiPlwiXG4gICAgICAgICAgICAgIDogXCI8Li4uPlwiO1xuICAgICAgICAgIHZhciBuYW1lID0gb2JqZWN0TmFtZSh2YWx1ZSk7XG4gICAgICAgICAgaWYgKFwiT2JqZWN0XCIgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIG5hbWUgPSBcIlwiO1xuICAgICAgICAgICAgbWF4TGVuZ3RoIC09IDI7XG4gICAgICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiB2YWx1ZSlcbiAgICAgICAgICAgICAgaWYgKHZhbHVlLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgICAgICAgIHZhciBqc29uUHJvcE5hbWUgPSBKU09OLnN0cmluZ2lmeShwcm9wTmFtZSk7XG4gICAgICAgICAgICAgICAganNvblByb3BOYW1lICE9PSAnXCInICsgcHJvcE5hbWUgKyAnXCInICYmXG4gICAgICAgICAgICAgICAgICAocHJvcE5hbWUgPSBqc29uUHJvcE5hbWUpO1xuICAgICAgICAgICAgICAgIG1heExlbmd0aCAtPSBwcm9wTmFtZS5sZW5ndGggLSAyO1xuICAgICAgICAgICAgICAgIGpzb25Qcm9wTmFtZSA9IGRlc2NyaWJlVmFsdWUoXG4gICAgICAgICAgICAgICAgICB2YWx1ZVtwcm9wTmFtZV0sXG4gICAgICAgICAgICAgICAgICAxNSA+IG1heExlbmd0aCA/IG1heExlbmd0aCA6IDE1XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGggLT0ganNvblByb3BOYW1lLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBpZiAoMCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgbmFtZSArPSBcIlwiID09PSBuYW1lID8gXCIuLi5cIiA6IFwiLCAuLi5cIjtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuYW1lICs9XG4gICAgICAgICAgICAgICAgICAoXCJcIiA9PT0gbmFtZSA/IFwiXCIgOiBcIixcIikgKyBwcm9wTmFtZSArIFwiOlwiICsganNvblByb3BOYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJ7XCIgKyBuYW1lICsgXCJ9XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuYW1lO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICByZXR1cm4gKG1heExlbmd0aCA9IHZhbHVlLmRpc3BsYXlOYW1lIHx8IHZhbHVlLm5hbWUpXG4gICAgICAgICAgICA/IFwiZnVuY3Rpb24gXCIgKyBtYXhMZW5ndGhcbiAgICAgICAgICAgIDogXCJmdW5jdGlvblwiO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVByb3BWYWx1ZSh2YWx1ZSwgbWF4TGVuZ3RoKSB7XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHZhbHVlIHx8IG5lZWRzRXNjYXBpbmcudGVzdCh2YWx1ZSlcbiAgICAgICAgPyBcIntcIiArIGRlc2NyaWJlVmFsdWUodmFsdWUsIG1heExlbmd0aCAtIDIpICsgXCJ9XCJcbiAgICAgICAgOiB2YWx1ZS5sZW5ndGggPiBtYXhMZW5ndGggLSAyXG4gICAgICAgICAgPyA1ID4gbWF4TGVuZ3RoXG4gICAgICAgICAgICA/ICdcIi4uLlwiJ1xuICAgICAgICAgICAgOiAnXCInICsgdmFsdWUuc2xpY2UoMCwgbWF4TGVuZ3RoIC0gNSkgKyAnLi4uXCInXG4gICAgICAgICAgOiAnXCInICsgdmFsdWUgKyAnXCInO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUV4cGFuZGVkRWxlbWVudCh0eXBlLCBwcm9wcywgcm93UHJlZml4KSB7XG4gICAgICB2YXIgcmVtYWluaW5nUm93TGVuZ3RoID0gMTIwIC0gcm93UHJlZml4Lmxlbmd0aCAtIHR5cGUubGVuZ3RoLFxuICAgICAgICBwcm9wZXJ0aWVzID0gW10sXG4gICAgICAgIHByb3BOYW1lO1xuICAgICAgZm9yIChwcm9wTmFtZSBpbiBwcm9wcylcbiAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KHByb3BOYW1lKSAmJiBcImNoaWxkcmVuXCIgIT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgdmFyIHByb3BWYWx1ZSA9IGRlc2NyaWJlUHJvcFZhbHVlKFxuICAgICAgICAgICAgcHJvcHNbcHJvcE5hbWVdLFxuICAgICAgICAgICAgMTIwIC0gcm93UHJlZml4Lmxlbmd0aCAtIHByb3BOYW1lLmxlbmd0aCAtIDFcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlbWFpbmluZ1Jvd0xlbmd0aCAtPSBwcm9wTmFtZS5sZW5ndGggKyBwcm9wVmFsdWUubGVuZ3RoICsgMjtcbiAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcE5hbWUgKyBcIj1cIiArIHByb3BWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiAwID09PSBwcm9wZXJ0aWVzLmxlbmd0aFxuICAgICAgICA/IHJvd1ByZWZpeCArIFwiPFwiICsgdHlwZSArIFwiPlxcblwiXG4gICAgICAgIDogMCA8IHJlbWFpbmluZ1Jvd0xlbmd0aFxuICAgICAgICAgID8gcm93UHJlZml4ICsgXCI8XCIgKyB0eXBlICsgXCIgXCIgKyBwcm9wZXJ0aWVzLmpvaW4oXCIgXCIpICsgXCI+XFxuXCJcbiAgICAgICAgICA6IHJvd1ByZWZpeCArXG4gICAgICAgICAgICBcIjxcIiArXG4gICAgICAgICAgICB0eXBlICtcbiAgICAgICAgICAgIFwiXFxuXCIgK1xuICAgICAgICAgICAgcm93UHJlZml4ICtcbiAgICAgICAgICAgIFwiICBcIiArXG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmpvaW4oXCJcXG5cIiArIHJvd1ByZWZpeCArIFwiICBcIikgK1xuICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICByb3dQcmVmaXggK1xuICAgICAgICAgICAgXCI+XFxuXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlUHJvcGVydGllc0RpZmYoY2xpZW50T2JqZWN0LCBzZXJ2ZXJPYmplY3QsIGluZGVudCkge1xuICAgICAgdmFyIHByb3BlcnRpZXMgPSBcIlwiLFxuICAgICAgICByZW1haW5pbmdTZXJ2ZXJQcm9wZXJ0aWVzID0gYXNzaWduKHt9LCBzZXJ2ZXJPYmplY3QpLFxuICAgICAgICBwcm9wTmFtZTtcbiAgICAgIGZvciAocHJvcE5hbWUgaW4gY2xpZW50T2JqZWN0KVxuICAgICAgICBpZiAoY2xpZW50T2JqZWN0Lmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICAgIGRlbGV0ZSByZW1haW5pbmdTZXJ2ZXJQcm9wZXJ0aWVzW3Byb3BOYW1lXTtcbiAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMTIwIC0gMiAqIGluZGVudCAtIHByb3BOYW1lLmxlbmd0aCAtIDIsXG4gICAgICAgICAgICBjbGllbnRQcm9wVmFsdWUgPSBkZXNjcmliZVZhbHVlKGNsaWVudE9iamVjdFtwcm9wTmFtZV0sIG1heExlbmd0aCk7XG4gICAgICAgICAgc2VydmVyT2JqZWN0Lmhhc093blByb3BlcnR5KHByb3BOYW1lKVxuICAgICAgICAgICAgPyAoKG1heExlbmd0aCA9IGRlc2NyaWJlVmFsdWUoc2VydmVyT2JqZWN0W3Byb3BOYW1lXSwgbWF4TGVuZ3RoKSksXG4gICAgICAgICAgICAgIChwcm9wZXJ0aWVzICs9XG4gICAgICAgICAgICAgICAgYWRkZWQoaW5kZW50KSArIHByb3BOYW1lICsgXCI6IFwiICsgY2xpZW50UHJvcFZhbHVlICsgXCJcXG5cIiksXG4gICAgICAgICAgICAgIChwcm9wZXJ0aWVzICs9XG4gICAgICAgICAgICAgICAgcmVtb3ZlZChpbmRlbnQpICsgcHJvcE5hbWUgKyBcIjogXCIgKyBtYXhMZW5ndGggKyBcIlxcblwiKSlcbiAgICAgICAgICAgIDogKHByb3BlcnRpZXMgKz1cbiAgICAgICAgICAgICAgICBhZGRlZChpbmRlbnQpICsgcHJvcE5hbWUgKyBcIjogXCIgKyBjbGllbnRQcm9wVmFsdWUgKyBcIlxcblwiKTtcbiAgICAgICAgfVxuICAgICAgZm9yICh2YXIgX3Byb3BOYW1lIGluIHJlbWFpbmluZ1NlcnZlclByb3BlcnRpZXMpXG4gICAgICAgIHJlbWFpbmluZ1NlcnZlclByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoX3Byb3BOYW1lKSAmJlxuICAgICAgICAgICgoY2xpZW50T2JqZWN0ID0gZGVzY3JpYmVWYWx1ZShcbiAgICAgICAgICAgIHJlbWFpbmluZ1NlcnZlclByb3BlcnRpZXNbX3Byb3BOYW1lXSxcbiAgICAgICAgICAgIDEyMCAtIDIgKiBpbmRlbnQgLSBfcHJvcE5hbWUubGVuZ3RoIC0gMlxuICAgICAgICAgICkpLFxuICAgICAgICAgIChwcm9wZXJ0aWVzICs9XG4gICAgICAgICAgICByZW1vdmVkKGluZGVudCkgKyBfcHJvcE5hbWUgKyBcIjogXCIgKyBjbGllbnRPYmplY3QgKyBcIlxcblwiKSk7XG4gICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVFbGVtZW50RGlmZih0eXBlLCBjbGllbnRQcm9wcywgc2VydmVyUHJvcHMsIGluZGVudCkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiLFxuICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMgPSBuZXcgTWFwKCk7XG4gICAgICBmb3IgKHByb3BOYW1lJGpzY29tcCQwIGluIHNlcnZlclByb3BzKVxuICAgICAgICBzZXJ2ZXJQcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSRqc2NvbXAkMCkgJiZcbiAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZXMuc2V0KFxuICAgICAgICAgICAgcHJvcE5hbWUkanNjb21wJDAudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgIHByb3BOYW1lJGpzY29tcCQwXG4gICAgICAgICAgKTtcbiAgICAgIGlmICgxID09PSBzZXJ2ZXJQcm9wTmFtZXMuc2l6ZSAmJiBzZXJ2ZXJQcm9wTmFtZXMuaGFzKFwiY2hpbGRyZW5cIikpXG4gICAgICAgIGNvbnRlbnQgKz0gZGVzY3JpYmVFeHBhbmRlZEVsZW1lbnQoXG4gICAgICAgICAgdHlwZSxcbiAgICAgICAgICBjbGllbnRQcm9wcyxcbiAgICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQpXG4gICAgICAgICk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgX3Byb3BOYW1lMiBpbiBjbGllbnRQcm9wcylcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBjbGllbnRQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcE5hbWUyKSAmJlxuICAgICAgICAgICAgXCJjaGlsZHJlblwiICE9PSBfcHJvcE5hbWUyXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgbWF4TGVuZ3RoJGpzY29tcCQwID1cbiAgICAgICAgICAgICAgICAxMjAgLSAyICogKGluZGVudCArIDEpIC0gX3Byb3BOYW1lMi5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZSA9IHNlcnZlclByb3BOYW1lcy5nZXQoX3Byb3BOYW1lMi50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHNlcnZlclByb3BOYW1lKSB7XG4gICAgICAgICAgICAgIHNlcnZlclByb3BOYW1lcy5kZWxldGUoX3Byb3BOYW1lMi50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgdmFyIHByb3BOYW1lJGpzY29tcCQwID0gY2xpZW50UHJvcHNbX3Byb3BOYW1lMl07XG4gICAgICAgICAgICAgIHNlcnZlclByb3BOYW1lID0gc2VydmVyUHJvcHNbc2VydmVyUHJvcE5hbWVdO1xuICAgICAgICAgICAgICB2YXIgY2xpZW50UHJvcFZhbHVlID0gZGVzY3JpYmVQcm9wVmFsdWUoXG4gICAgICAgICAgICAgICAgcHJvcE5hbWUkanNjb21wJDAsXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoJGpzY29tcCQwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIG1heExlbmd0aCRqc2NvbXAkMCA9IGRlc2NyaWJlUHJvcFZhbHVlKFxuICAgICAgICAgICAgICAgIHNlcnZlclByb3BOYW1lLFxuICAgICAgICAgICAgICAgIG1heExlbmd0aCRqc2NvbXAkMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcHJvcE5hbWUkanNjb21wJDAgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcHJvcE5hbWUkanNjb21wJDAgJiZcbiAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHNlcnZlclByb3BOYW1lICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IHNlcnZlclByb3BOYW1lICYmXG4gICAgICAgICAgICAgIFwiT2JqZWN0XCIgPT09IG9iamVjdE5hbWUocHJvcE5hbWUkanNjb21wJDApICYmXG4gICAgICAgICAgICAgIFwiT2JqZWN0XCIgPT09IG9iamVjdE5hbWUoc2VydmVyUHJvcE5hbWUpICYmXG4gICAgICAgICAgICAgICgyIDwgT2JqZWN0LmtleXMocHJvcE5hbWUkanNjb21wJDApLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgIDIgPCBPYmplY3Qua2V5cyhzZXJ2ZXJQcm9wTmFtZSkubGVuZ3RoIHx8XG4gICAgICAgICAgICAgICAgLTEgPCBjbGllbnRQcm9wVmFsdWUuaW5kZXhPZihcIi4uLlwiKSB8fFxuICAgICAgICAgICAgICAgIC0xIDwgbWF4TGVuZ3RoJGpzY29tcCQwLmluZGV4T2YoXCIuLi5cIikpXG4gICAgICAgICAgICAgICAgPyAoY29udGVudCArPVxuICAgICAgICAgICAgICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQgKyAxKSArXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wTmFtZTIgK1xuICAgICAgICAgICAgICAgICAgICBcIj17e1xcblwiICtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpYmVQcm9wZXJ0aWVzRGlmZihcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wTmFtZSRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJQcm9wTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICBpbmRlbnQgKyAyXG4gICAgICAgICAgICAgICAgICAgICkgK1xuICAgICAgICAgICAgICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQgKyAxKSArXG4gICAgICAgICAgICAgICAgICAgIFwifX1cXG5cIilcbiAgICAgICAgICAgICAgICA6ICgoY29udGVudCArPVxuICAgICAgICAgICAgICAgICAgICBhZGRlZChpbmRlbnQgKyAxKSArXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wTmFtZTIgK1xuICAgICAgICAgICAgICAgICAgICBcIj1cIiArXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFByb3BWYWx1ZSArXG4gICAgICAgICAgICAgICAgICAgIFwiXFxuXCIpLFxuICAgICAgICAgICAgICAgICAgKGNvbnRlbnQgKz1cbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZChpbmRlbnQgKyAxKSArXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wTmFtZTIgK1xuICAgICAgICAgICAgICAgICAgICBcIj1cIiArXG4gICAgICAgICAgICAgICAgICAgIG1heExlbmd0aCRqc2NvbXAkMCArXG4gICAgICAgICAgICAgICAgICAgIFwiXFxuXCIpKTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICBjb250ZW50ICs9XG4gICAgICAgICAgICAgICAgaW5kZW50YXRpb24oaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICAgIF9wcm9wTmFtZTIgK1xuICAgICAgICAgICAgICAgIFwiPVwiICtcbiAgICAgICAgICAgICAgICBkZXNjcmliZVByb3BWYWx1ZShjbGllbnRQcm9wc1tfcHJvcE5hbWUyXSwgbWF4TGVuZ3RoJGpzY29tcCQwKSArXG4gICAgICAgICAgICAgICAgXCJcXG5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIHNlcnZlclByb3BOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wTmFtZSkge1xuICAgICAgICAgIGlmIChcImNoaWxkcmVuXCIgIT09IHByb3BOYW1lKSB7XG4gICAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMTIwIC0gMiAqIChpbmRlbnQgKyAxKSAtIHByb3BOYW1lLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICBjb250ZW50ICs9XG4gICAgICAgICAgICAgIHJlbW92ZWQoaW5kZW50ICsgMSkgK1xuICAgICAgICAgICAgICBwcm9wTmFtZSArXG4gICAgICAgICAgICAgIFwiPVwiICtcbiAgICAgICAgICAgICAgZGVzY3JpYmVQcm9wVmFsdWUoc2VydmVyUHJvcHNbcHJvcE5hbWVdLCBtYXhMZW5ndGgpICtcbiAgICAgICAgICAgICAgXCJcXG5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb250ZW50ID1cbiAgICAgICAgICBcIlwiID09PSBjb250ZW50XG4gICAgICAgICAgICA/IGluZGVudGF0aW9uKGluZGVudCkgKyBcIjxcIiArIHR5cGUgKyBcIj5cXG5cIlxuICAgICAgICAgICAgOiBpbmRlbnRhdGlvbihpbmRlbnQpICtcbiAgICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgICB0eXBlICtcbiAgICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICAgIGNvbnRlbnQgK1xuICAgICAgICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQpICtcbiAgICAgICAgICAgICAgXCI+XFxuXCI7XG4gICAgICB9XG4gICAgICB0eXBlID0gc2VydmVyUHJvcHMuY2hpbGRyZW47XG4gICAgICBjbGllbnRQcm9wcyA9IGNsaWVudFByb3BzLmNoaWxkcmVuO1xuICAgICAgaWYgKFxuICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgdHlwZVxuICAgICAgKSB7XG4gICAgICAgIHNlcnZlclByb3BOYW1lcyA9IFwiXCI7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgY2xpZW50UHJvcHMgfHxcbiAgICAgICAgICBcIm51bWJlclwiID09PSB0eXBlb2YgY2xpZW50UHJvcHMgfHxcbiAgICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgY2xpZW50UHJvcHNcbiAgICAgICAgKVxuICAgICAgICAgIHNlcnZlclByb3BOYW1lcyA9IFwiXCIgKyBjbGllbnRQcm9wcztcbiAgICAgICAgY29udGVudCArPSBkZXNjcmliZVRleHREaWZmKHNlcnZlclByb3BOYW1lcywgXCJcIiArIHR5cGUsIGluZGVudCArIDEpO1xuICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNsaWVudFByb3BzIHx8XG4gICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBjbGllbnRQcm9wcyB8fFxuICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgY2xpZW50UHJvcHNcbiAgICAgIClcbiAgICAgICAgY29udGVudCA9XG4gICAgICAgICAgbnVsbCA9PSB0eXBlXG4gICAgICAgICAgICA/IGNvbnRlbnQgKyBkZXNjcmliZVRleHREaWZmKFwiXCIgKyBjbGllbnRQcm9wcywgbnVsbCwgaW5kZW50ICsgMSlcbiAgICAgICAgICAgIDogY29udGVudCArIGRlc2NyaWJlVGV4dERpZmYoXCJcIiArIGNsaWVudFByb3BzLCB2b2lkIDAsIGluZGVudCArIDEpO1xuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlU2libGluZ0ZpYmVyKGZpYmVyLCBpbmRlbnQpIHtcbiAgICAgIHZhciB0eXBlID0gZGVzY3JpYmVGaWJlclR5cGUoZmliZXIpO1xuICAgICAgaWYgKG51bGwgPT09IHR5cGUpIHtcbiAgICAgICAgdHlwZSA9IFwiXCI7XG4gICAgICAgIGZvciAoZmliZXIgPSBmaWJlci5jaGlsZDsgZmliZXI7IClcbiAgICAgICAgICAodHlwZSArPSBkZXNjcmliZVNpYmxpbmdGaWJlcihmaWJlciwgaW5kZW50KSksXG4gICAgICAgICAgICAoZmliZXIgPSBmaWJlci5zaWJsaW5nKTtcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZW50YXRpb24oaW5kZW50KSArIFwiPFwiICsgdHlwZSArIFwiPlxcblwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZU5vZGUobm9kZSwgaW5kZW50KSB7XG4gICAgICB2YXIgc2tpcFRvTm9kZSA9IGZpbmROb3RhYmxlTm9kZShub2RlLCBpbmRlbnQpO1xuICAgICAgaWYgKFxuICAgICAgICBza2lwVG9Ob2RlICE9PSBub2RlICYmXG4gICAgICAgICgxICE9PSBub2RlLmNoaWxkcmVuLmxlbmd0aCB8fCBub2RlLmNoaWxkcmVuWzBdICE9PSBza2lwVG9Ob2RlKVxuICAgICAgKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGluZGVudGF0aW9uKGluZGVudCkgKyBcIi4uLlxcblwiICsgZGVzY3JpYmVOb2RlKHNraXBUb05vZGUsIGluZGVudCArIDEpXG4gICAgICAgICk7XG4gICAgICBza2lwVG9Ob2RlID0gXCJcIjtcbiAgICAgIHZhciBkZWJ1Z0luZm8gPSBub2RlLmZpYmVyLl9kZWJ1Z0luZm87XG4gICAgICBpZiAoZGVidWdJbmZvKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlYnVnSW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzZXJ2ZXJDb21wb25lbnROYW1lID0gZGVidWdJbmZvW2ldLm5hbWU7XG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNlcnZlckNvbXBvbmVudE5hbWUgJiZcbiAgICAgICAgICAgICgoc2tpcFRvTm9kZSArPVxuICAgICAgICAgICAgICBpbmRlbnRhdGlvbihpbmRlbnQpICsgXCI8XCIgKyBzZXJ2ZXJDb21wb25lbnROYW1lICsgXCI+XFxuXCIpLFxuICAgICAgICAgICAgaW5kZW50KyspO1xuICAgICAgICB9XG4gICAgICBkZWJ1Z0luZm8gPSBcIlwiO1xuICAgICAgaSA9IG5vZGUuZmliZXIucGVuZGluZ1Byb3BzO1xuICAgICAgaWYgKDYgPT09IG5vZGUuZmliZXIudGFnKVxuICAgICAgICAoZGVidWdJbmZvID0gZGVzY3JpYmVUZXh0RGlmZihpLCBub2RlLnNlcnZlclByb3BzLCBpbmRlbnQpKSwgaW5kZW50Kys7XG4gICAgICBlbHNlIGlmIChcbiAgICAgICAgKChzZXJ2ZXJDb21wb25lbnROYW1lID0gZGVzY3JpYmVGaWJlclR5cGUobm9kZS5maWJlcikpLFxuICAgICAgICBudWxsICE9PSBzZXJ2ZXJDb21wb25lbnROYW1lKVxuICAgICAgKVxuICAgICAgICBpZiAodm9pZCAwID09PSBub2RlLnNlcnZlclByb3BzKSB7XG4gICAgICAgICAgZGVidWdJbmZvID0gaW5kZW50O1xuICAgICAgICAgIHZhciBtYXhMZW5ndGggPSAxMjAgLSAyICogZGVidWdJbmZvIC0gc2VydmVyQ29tcG9uZW50TmFtZS5sZW5ndGggLSAyLFxuICAgICAgICAgICAgY29udGVudCA9IFwiXCI7XG4gICAgICAgICAgZm9yIChwcm9wTmFtZSBpbiBpKVxuICAgICAgICAgICAgaWYgKGkuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpICYmIFwiY2hpbGRyZW5cIiAhPT0gcHJvcE5hbWUpIHtcbiAgICAgICAgICAgICAgdmFyIHByb3BWYWx1ZSA9IGRlc2NyaWJlUHJvcFZhbHVlKGlbcHJvcE5hbWVdLCAxNSk7XG4gICAgICAgICAgICAgIG1heExlbmd0aCAtPSBwcm9wTmFtZS5sZW5ndGggKyBwcm9wVmFsdWUubGVuZ3RoICsgMjtcbiAgICAgICAgICAgICAgaWYgKDAgPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb250ZW50ICs9IFwiIC4uLlwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRlbnQgKz0gXCIgXCIgKyBwcm9wTmFtZSArIFwiPVwiICsgcHJvcFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGRlYnVnSW5mbyA9XG4gICAgICAgICAgICBpbmRlbnRhdGlvbihkZWJ1Z0luZm8pICtcbiAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUgK1xuICAgICAgICAgICAgY29udGVudCArXG4gICAgICAgICAgICBcIj5cXG5cIjtcbiAgICAgICAgICBpbmRlbnQrKztcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgbnVsbCA9PT0gbm9kZS5zZXJ2ZXJQcm9wc1xuICAgICAgICAgICAgPyAoKGRlYnVnSW5mbyA9IGRlc2NyaWJlRXhwYW5kZWRFbGVtZW50KFxuICAgICAgICAgICAgICAgIHNlcnZlckNvbXBvbmVudE5hbWUsXG4gICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICBhZGRlZChpbmRlbnQpXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBpbmRlbnQrKylcbiAgICAgICAgICAgIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5vZGUuc2VydmVyUHJvcHNcbiAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJTaG91bGQgbm90IGhhdmUgbWF0Y2hlZCBhIG5vbiBIb3N0VGV4dCBmaWJlciB0byBhIFRleHQgbm9kZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiAoKGRlYnVnSW5mbyA9IGRlc2NyaWJlRWxlbWVudERpZmYoXG4gICAgICAgICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lLFxuICAgICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAgIG5vZGUuc2VydmVyUHJvcHMsXG4gICAgICAgICAgICAgICAgICBpbmRlbnRcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBpbmRlbnQrKyk7XG4gICAgICB2YXIgcHJvcE5hbWUgPSBcIlwiO1xuICAgICAgaSA9IG5vZGUuZmliZXIuY2hpbGQ7XG4gICAgICBmb3IgKFxuICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lID0gMDtcbiAgICAgICAgaSAmJiBzZXJ2ZXJDb21wb25lbnROYW1lIDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7XG5cbiAgICAgIClcbiAgICAgICAgKG1heExlbmd0aCA9IG5vZGUuY2hpbGRyZW5bc2VydmVyQ29tcG9uZW50TmFtZV0pLFxuICAgICAgICAgIG1heExlbmd0aC5maWJlciA9PT0gaVxuICAgICAgICAgICAgPyAoKHByb3BOYW1lICs9IGRlc2NyaWJlTm9kZShtYXhMZW5ndGgsIGluZGVudCkpLFxuICAgICAgICAgICAgICBzZXJ2ZXJDb21wb25lbnROYW1lKyspXG4gICAgICAgICAgICA6IChwcm9wTmFtZSArPSBkZXNjcmliZVNpYmxpbmdGaWJlcihpLCBpbmRlbnQpKSxcbiAgICAgICAgICAoaSA9IGkuc2libGluZyk7XG4gICAgICBpICYmXG4gICAgICAgIDAgPCBub2RlLmNoaWxkcmVuLmxlbmd0aCAmJlxuICAgICAgICAocHJvcE5hbWUgKz0gaW5kZW50YXRpb24oaW5kZW50KSArIFwiLi4uXFxuXCIpO1xuICAgICAgaSA9IG5vZGUuc2VydmVyVGFpbDtcbiAgICAgIG51bGwgPT09IG5vZGUuc2VydmVyUHJvcHMgJiYgaW5kZW50LS07XG4gICAgICBmb3IgKG5vZGUgPSAwOyBub2RlIDwgaS5sZW5ndGg7IG5vZGUrKylcbiAgICAgICAgKHNlcnZlckNvbXBvbmVudE5hbWUgPSBpW25vZGVdKSxcbiAgICAgICAgICAocHJvcE5hbWUgPVxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHNlcnZlckNvbXBvbmVudE5hbWVcbiAgICAgICAgICAgICAgPyBwcm9wTmFtZSArXG4gICAgICAgICAgICAgICAgKHJlbW92ZWQoaW5kZW50KSArXG4gICAgICAgICAgICAgICAgICBkZXNjcmliZVRleHROb2RlKHNlcnZlckNvbXBvbmVudE5hbWUsIDEyMCAtIDIgKiBpbmRlbnQpICtcbiAgICAgICAgICAgICAgICAgIFwiXFxuXCIpXG4gICAgICAgICAgICAgIDogcHJvcE5hbWUgK1xuICAgICAgICAgICAgICAgIGRlc2NyaWJlRXhwYW5kZWRFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZS50eXBlLFxuICAgICAgICAgICAgICAgICAgc2VydmVyQ29tcG9uZW50TmFtZS5wcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJlbW92ZWQoaW5kZW50KVxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgcmV0dXJuIHNraXBUb05vZGUgKyBkZWJ1Z0luZm8gKyBwcm9wTmFtZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVEaWZmKHJvb3ROb2RlKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gXCJcXG5cXG5cIiArIGRlc2NyaWJlTm9kZShyb290Tm9kZSwgMCk7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUFuY2VzdG9ycyhhbmNlc3RvciwgY2hpbGQsIHByb3BzKSB7XG4gICAgICBmb3IgKHZhciBmaWJlciA9IGNoaWxkLCBub2RlID0gbnVsbCwgZGlzdGFuY2VGcm9tTGVhZiA9IDA7IGZpYmVyOyApXG4gICAgICAgIGZpYmVyID09PSBhbmNlc3RvciAmJiAoZGlzdGFuY2VGcm9tTGVhZiA9IDApLFxuICAgICAgICAgIChub2RlID0ge1xuICAgICAgICAgICAgZmliZXI6IGZpYmVyLFxuICAgICAgICAgICAgY2hpbGRyZW46IG51bGwgIT09IG5vZGUgPyBbbm9kZV0gOiBbXSxcbiAgICAgICAgICAgIHNlcnZlclByb3BzOlxuICAgICAgICAgICAgICBmaWJlciA9PT0gY2hpbGQgPyBwcm9wcyA6IGZpYmVyID09PSBhbmNlc3RvciA/IG51bGwgOiB2b2lkIDAsXG4gICAgICAgICAgICBzZXJ2ZXJUYWlsOiBbXSxcbiAgICAgICAgICAgIGRpc3RhbmNlRnJvbUxlYWY6IGRpc3RhbmNlRnJvbUxlYWZcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBkaXN0YW5jZUZyb21MZWFmKyssXG4gICAgICAgICAgKGZpYmVyID0gZmliZXIucmV0dXJuKTtcbiAgICAgIHJldHVybiBudWxsICE9PSBub2RlID8gZGVzY3JpYmVEaWZmKG5vZGUpLnJlcGxhY2VBbGwoL15bKy1dL2dtLCBcIj5cIikgOiBcIlwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVkQW5jZXN0b3JJbmZvRGV2KG9sZEluZm8sIHRhZykge1xuICAgICAgb2xkSW5mbyA9IGFzc2lnbih7fSwgb2xkSW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mb0Rldik7XG4gICAgICB2YXIgaW5mbyA9IHsgdGFnOiB0YWcgfTtcbiAgICAgIC0xICE9PSBpblNjb3BlVGFncy5pbmRleE9mKHRhZykgJiZcbiAgICAgICAgKChvbGRJbmZvLmFUYWdJblNjb3BlID0gbnVsbCksXG4gICAgICAgIChvbGRJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBudWxsKSxcbiAgICAgICAgKG9sZEluZm8ubm9iclRhZ0luU2NvcGUgPSBudWxsKSk7XG4gICAgICAtMSAhPT0gYnV0dG9uU2NvcGVUYWdzLmluZGV4T2YodGFnKSAmJiAob2xkSW5mby5wVGFnSW5CdXR0b25TY29wZSA9IG51bGwpO1xuICAgICAgLTEgIT09IHNwZWNpYWxUYWdzLmluZGV4T2YodGFnKSAmJlxuICAgICAgICBcImFkZHJlc3NcIiAhPT0gdGFnICYmXG4gICAgICAgIFwiZGl2XCIgIT09IHRhZyAmJlxuICAgICAgICBcInBcIiAhPT0gdGFnICYmXG4gICAgICAgICgob2xkSW5mby5saXN0SXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbCksXG4gICAgICAgIChvbGRJbmZvLmRsSXRlbVRhZ0F1dG9jbG9zaW5nID0gbnVsbCkpO1xuICAgICAgb2xkSW5mby5jdXJyZW50ID0gaW5mbztcbiAgICAgIFwiZm9ybVwiID09PSB0YWcgJiYgKG9sZEluZm8uZm9ybVRhZyA9IGluZm8pO1xuICAgICAgXCJhXCIgPT09IHRhZyAmJiAob2xkSW5mby5hVGFnSW5TY29wZSA9IGluZm8pO1xuICAgICAgXCJidXR0b25cIiA9PT0gdGFnICYmIChvbGRJbmZvLmJ1dHRvblRhZ0luU2NvcGUgPSBpbmZvKTtcbiAgICAgIFwibm9iclwiID09PSB0YWcgJiYgKG9sZEluZm8ubm9iclRhZ0luU2NvcGUgPSBpbmZvKTtcbiAgICAgIFwicFwiID09PSB0YWcgJiYgKG9sZEluZm8ucFRhZ0luQnV0dG9uU2NvcGUgPSBpbmZvKTtcbiAgICAgIFwibGlcIiA9PT0gdGFnICYmIChvbGRJbmZvLmxpc3RJdGVtVGFnQXV0b2Nsb3NpbmcgPSBpbmZvKTtcbiAgICAgIGlmIChcImRkXCIgPT09IHRhZyB8fCBcImR0XCIgPT09IHRhZykgb2xkSW5mby5kbEl0ZW1UYWdBdXRvY2xvc2luZyA9IGluZm87XG4gICAgICBcIiNkb2N1bWVudFwiID09PSB0YWcgfHwgXCJodG1sXCIgPT09IHRhZ1xuICAgICAgICA/IChvbGRJbmZvLmNvbnRhaW5lclRhZ0luU2NvcGUgPSBudWxsKVxuICAgICAgICA6IG9sZEluZm8uY29udGFpbmVyVGFnSW5TY29wZSB8fCAob2xkSW5mby5jb250YWluZXJUYWdJblNjb3BlID0gaW5mbyk7XG4gICAgICByZXR1cm4gb2xkSW5mbztcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNUYWdWYWxpZFdpdGhQYXJlbnQodGFnLCBwYXJlbnRUYWcpIHtcbiAgICAgIHN3aXRjaCAocGFyZW50VGFnKSB7XG4gICAgICAgIGNhc2UgXCJzZWxlY3RcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJoclwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwib3B0aW9uXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJvcHRncm91cFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwiI3RleHRcIiA9PT0gdGFnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcIm9wdGdyb3VwXCI6XG4gICAgICAgICAgcmV0dXJuIFwib3B0aW9uXCIgPT09IHRhZyB8fCBcIiN0ZXh0XCIgPT09IHRhZztcbiAgICAgICAgY2FzZSBcIm9wdGlvblwiOlxuICAgICAgICAgIHJldHVybiBcIiN0ZXh0XCIgPT09IHRhZztcbiAgICAgICAgY2FzZSBcInRyXCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwidGhcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRkXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzdHlsZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic2NyaXB0XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiID09PSB0YWdcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwidGJvZHlcIjpcbiAgICAgICAgY2FzZSBcInRoZWFkXCI6XG4gICAgICAgIGNhc2UgXCJ0Zm9vdFwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBcInRyXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJzdHlsZVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic2NyaXB0XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0ZW1wbGF0ZVwiID09PSB0YWdcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwiY29sZ3JvdXBcIjpcbiAgICAgICAgICByZXR1cm4gXCJjb2xcIiA9PT0gdGFnIHx8IFwidGVtcGxhdGVcIiA9PT0gdGFnO1xuICAgICAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJjYXB0aW9uXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJjb2xncm91cFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGJvZHlcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInRmb290XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJ0aGVhZFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic3R5bGVcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInNjcmlwdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGVtcGxhdGVcIiA9PT0gdGFnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcImhlYWRcIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJiYXNlXCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJiYXNlZm9udFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwiYmdzb3VuZFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwibGlua1wiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwibWV0YVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGl0bGVcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcIm5vc2NyaXB0XCIgPT09IHRhZyB8fFxuICAgICAgICAgICAgXCJub2ZyYW1lc1wiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwic3R5bGVcIiA9PT0gdGFnIHx8XG4gICAgICAgICAgICBcInNjcmlwdFwiID09PSB0YWcgfHxcbiAgICAgICAgICAgIFwidGVtcGxhdGVcIiA9PT0gdGFnXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgICByZXR1cm4gXCJoZWFkXCIgPT09IHRhZyB8fCBcImJvZHlcIiA9PT0gdGFnIHx8IFwiZnJhbWVzZXRcIiA9PT0gdGFnO1xuICAgICAgICBjYXNlIFwiZnJhbWVzZXRcIjpcbiAgICAgICAgICByZXR1cm4gXCJmcmFtZVwiID09PSB0YWc7XG4gICAgICAgIGNhc2UgXCIjZG9jdW1lbnRcIjpcbiAgICAgICAgICByZXR1cm4gXCJodG1sXCIgPT09IHRhZztcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgXCJoMVwiOlxuICAgICAgICBjYXNlIFwiaDJcIjpcbiAgICAgICAgY2FzZSBcImgzXCI6XG4gICAgICAgIGNhc2UgXCJoNFwiOlxuICAgICAgICBjYXNlIFwiaDVcIjpcbiAgICAgICAgY2FzZSBcImg2XCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFwiaDFcIiAhPT0gcGFyZW50VGFnICYmXG4gICAgICAgICAgICBcImgyXCIgIT09IHBhcmVudFRhZyAmJlxuICAgICAgICAgICAgXCJoM1wiICE9PSBwYXJlbnRUYWcgJiZcbiAgICAgICAgICAgIFwiaDRcIiAhPT0gcGFyZW50VGFnICYmXG4gICAgICAgICAgICBcImg1XCIgIT09IHBhcmVudFRhZyAmJlxuICAgICAgICAgICAgXCJoNlwiICE9PSBwYXJlbnRUYWdcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwicnBcIjpcbiAgICAgICAgY2FzZSBcInJ0XCI6XG4gICAgICAgICAgcmV0dXJuIC0xID09PSBpbXBsaWVkRW5kVGFncy5pbmRleE9mKHBhcmVudFRhZyk7XG4gICAgICAgIGNhc2UgXCJib2R5XCI6XG4gICAgICAgIGNhc2UgXCJjYXB0aW9uXCI6XG4gICAgICAgIGNhc2UgXCJjb2xcIjpcbiAgICAgICAgY2FzZSBcImNvbGdyb3VwXCI6XG4gICAgICAgIGNhc2UgXCJmcmFtZXNldFwiOlxuICAgICAgICBjYXNlIFwiZnJhbWVcIjpcbiAgICAgICAgY2FzZSBcImhlYWRcIjpcbiAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgY2FzZSBcInRib2R5XCI6XG4gICAgICAgIGNhc2UgXCJ0ZFwiOlxuICAgICAgICBjYXNlIFwidGZvb3RcIjpcbiAgICAgICAgY2FzZSBcInRoXCI6XG4gICAgICAgIGNhc2UgXCJ0aGVhZFwiOlxuICAgICAgICBjYXNlIFwidHJcIjpcbiAgICAgICAgICByZXR1cm4gbnVsbCA9PSBwYXJlbnRUYWc7XG4gICAgICB9XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRJbnZhbGlkQW5jZXN0b3JGb3JUYWcodGFnLCBhbmNlc3RvckluZm8pIHtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgXCJhZGRyZXNzXCI6XG4gICAgICAgIGNhc2UgXCJhcnRpY2xlXCI6XG4gICAgICAgIGNhc2UgXCJhc2lkZVwiOlxuICAgICAgICBjYXNlIFwiYmxvY2txdW90ZVwiOlxuICAgICAgICBjYXNlIFwiY2VudGVyXCI6XG4gICAgICAgIGNhc2UgXCJkZXRhaWxzXCI6XG4gICAgICAgIGNhc2UgXCJkaWFsb2dcIjpcbiAgICAgICAgY2FzZSBcImRpclwiOlxuICAgICAgICBjYXNlIFwiZGl2XCI6XG4gICAgICAgIGNhc2UgXCJkbFwiOlxuICAgICAgICBjYXNlIFwiZmllbGRzZXRcIjpcbiAgICAgICAgY2FzZSBcImZpZ2NhcHRpb25cIjpcbiAgICAgICAgY2FzZSBcImZpZ3VyZVwiOlxuICAgICAgICBjYXNlIFwiZm9vdGVyXCI6XG4gICAgICAgIGNhc2UgXCJoZWFkZXJcIjpcbiAgICAgICAgY2FzZSBcImhncm91cFwiOlxuICAgICAgICBjYXNlIFwibWFpblwiOlxuICAgICAgICBjYXNlIFwibWVudVwiOlxuICAgICAgICBjYXNlIFwibmF2XCI6XG4gICAgICAgIGNhc2UgXCJvbFwiOlxuICAgICAgICBjYXNlIFwicFwiOlxuICAgICAgICBjYXNlIFwic2VjdGlvblwiOlxuICAgICAgICBjYXNlIFwic3VtbWFyeVwiOlxuICAgICAgICBjYXNlIFwidWxcIjpcbiAgICAgICAgY2FzZSBcInByZVwiOlxuICAgICAgICBjYXNlIFwibGlzdGluZ1wiOlxuICAgICAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgICAgY2FzZSBcImhyXCI6XG4gICAgICAgIGNhc2UgXCJ4bXBcIjpcbiAgICAgICAgY2FzZSBcImgxXCI6XG4gICAgICAgIGNhc2UgXCJoMlwiOlxuICAgICAgICBjYXNlIFwiaDNcIjpcbiAgICAgICAgY2FzZSBcImg0XCI6XG4gICAgICAgIGNhc2UgXCJoNVwiOlxuICAgICAgICBjYXNlIFwiaDZcIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLnBUYWdJbkJ1dHRvblNjb3BlO1xuICAgICAgICBjYXNlIFwiZm9ybVwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uZm9ybVRhZyB8fCBhbmNlc3RvckluZm8ucFRhZ0luQnV0dG9uU2NvcGU7XG4gICAgICAgIGNhc2UgXCJsaVwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8ubGlzdEl0ZW1UYWdBdXRvY2xvc2luZztcbiAgICAgICAgY2FzZSBcImRkXCI6XG4gICAgICAgIGNhc2UgXCJkdFwiOlxuICAgICAgICAgIHJldHVybiBhbmNlc3RvckluZm8uZGxJdGVtVGFnQXV0b2Nsb3Npbmc7XG4gICAgICAgIGNhc2UgXCJidXR0b25cIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLmJ1dHRvblRhZ0luU2NvcGU7XG4gICAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgICAgcmV0dXJuIGFuY2VzdG9ySW5mby5hVGFnSW5TY29wZTtcbiAgICAgICAgY2FzZSBcIm5vYnJcIjpcbiAgICAgICAgICByZXR1cm4gYW5jZXN0b3JJbmZvLm5vYnJUYWdJblNjb3BlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRBbmNlc3RvcihwYXJlbnQsIHRhZ05hbWUpIHtcbiAgICAgIGZvciAoOyBwYXJlbnQ7ICkge1xuICAgICAgICBzd2l0Y2ggKHBhcmVudC50YWcpIHtcbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgaWYgKHBhcmVudC50eXBlID09PSB0YWdOYW1lKSByZXR1cm4gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHBhcmVudCA9IHBhcmVudC5yZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVET01OZXN0aW5nKGNoaWxkVGFnLCBhbmNlc3RvckluZm8pIHtcbiAgICAgIGFuY2VzdG9ySW5mbyA9IGFuY2VzdG9ySW5mbyB8fCBlbXB0eUFuY2VzdG9ySW5mb0RldjtcbiAgICAgIHZhciBwYXJlbnRJbmZvID0gYW5jZXN0b3JJbmZvLmN1cnJlbnQ7XG4gICAgICBhbmNlc3RvckluZm8gPSAocGFyZW50SW5mbyA9IGlzVGFnVmFsaWRXaXRoUGFyZW50KFxuICAgICAgICBjaGlsZFRhZyxcbiAgICAgICAgcGFyZW50SW5mbyAmJiBwYXJlbnRJbmZvLnRhZ1xuICAgICAgKVxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBwYXJlbnRJbmZvKVxuICAgICAgICA/IG51bGxcbiAgICAgICAgOiBmaW5kSW52YWxpZEFuY2VzdG9yRm9yVGFnKGNoaWxkVGFnLCBhbmNlc3RvckluZm8pO1xuICAgICAgYW5jZXN0b3JJbmZvID0gcGFyZW50SW5mbyB8fCBhbmNlc3RvckluZm87XG4gICAgICBpZiAoIWFuY2VzdG9ySW5mbykgcmV0dXJuICEwO1xuICAgICAgYW5jZXN0b3JJbmZvID0gYW5jZXN0b3JJbmZvLnRhZztcbiAgICAgIHZhciB3YXJuS2V5ID0gU3RyaW5nKCEhcGFyZW50SW5mbykgKyBcInxcIiArIGNoaWxkVGFnICsgXCJ8XCIgKyBhbmNlc3RvckluZm87XG4gICAgICBpZiAoZGlkV2Fyblt3YXJuS2V5XSkgcmV0dXJuICExO1xuICAgICAgZGlkV2Fyblt3YXJuS2V5XSA9ICEwO1xuICAgICAgdmFyIGFuY2VzdG9yID0gKHdhcm5LZXkgPSBjdXJyZW50KVxuICAgICAgICA/IGZpbmRBbmNlc3Rvcih3YXJuS2V5LnJldHVybiwgYW5jZXN0b3JJbmZvKVxuICAgICAgICA6IG51bGw7XG4gICAgICB3YXJuS2V5ID1cbiAgICAgICAgbnVsbCAhPT0gd2FybktleSAmJiBudWxsICE9PSBhbmNlc3RvclxuICAgICAgICAgID8gZGVzY3JpYmVBbmNlc3RvcnMoYW5jZXN0b3IsIHdhcm5LZXksIG51bGwpXG4gICAgICAgICAgOiBcIlwiO1xuICAgICAgYW5jZXN0b3IgPSBcIjxcIiArIGNoaWxkVGFnICsgXCI+XCI7XG4gICAgICBwYXJlbnRJbmZvXG4gICAgICAgID8gKChwYXJlbnRJbmZvID0gXCJcIiksXG4gICAgICAgICAgXCJ0YWJsZVwiID09PSBhbmNlc3RvckluZm8gJiZcbiAgICAgICAgICAgIFwidHJcIiA9PT0gY2hpbGRUYWcgJiZcbiAgICAgICAgICAgIChwYXJlbnRJbmZvICs9XG4gICAgICAgICAgICAgIFwiIEFkZCBhIDx0Ym9keT4sIDx0aGVhZD4gb3IgPHRmb290PiB0byB5b3VyIGNvZGUgdG8gbWF0Y2ggdGhlIERPTSB0cmVlIGdlbmVyYXRlZCBieSB0aGUgYnJvd3Nlci5cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW4gSFRNTCwgJXMgY2Fubm90IGJlIGEgY2hpbGQgb2YgPCVzPi4lc1xcblRoaXMgd2lsbCBjYXVzZSBhIGh5ZHJhdGlvbiBlcnJvci4lc1wiLFxuICAgICAgICAgICAgYW5jZXN0b3IsXG4gICAgICAgICAgICBhbmNlc3RvckluZm8sXG4gICAgICAgICAgICBwYXJlbnRJbmZvLFxuICAgICAgICAgICAgd2FybktleVxuICAgICAgICAgICkpXG4gICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW4gSFRNTCwgJXMgY2Fubm90IGJlIGEgZGVzY2VuZGFudCBvZiA8JXM+LlxcblRoaXMgd2lsbCBjYXVzZSBhIGh5ZHJhdGlvbiBlcnJvci4lc1wiLFxuICAgICAgICAgICAgYW5jZXN0b3IsXG4gICAgICAgICAgICBhbmNlc3RvckluZm8sXG4gICAgICAgICAgICB3YXJuS2V5XG4gICAgICAgICAgKTtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVUZXh0TmVzdGluZyhjaGlsZFRleHQsIHBhcmVudFRhZykge1xuICAgICAgaWYgKGlzVGFnVmFsaWRXaXRoUGFyZW50KFwiI3RleHRcIiwgcGFyZW50VGFnKSkgcmV0dXJuICEwO1xuICAgICAgdmFyIHdhcm5LZXkgPSBcIiN0ZXh0fFwiICsgcGFyZW50VGFnO1xuICAgICAgaWYgKGRpZFdhcm5bd2FybktleV0pIHJldHVybiAhMTtcbiAgICAgIGRpZFdhcm5bd2FybktleV0gPSAhMDtcbiAgICAgIHZhciBhbmNlc3RvciA9ICh3YXJuS2V5ID0gY3VycmVudClcbiAgICAgICAgPyBmaW5kQW5jZXN0b3Iod2FybktleSwgcGFyZW50VGFnKVxuICAgICAgICA6IG51bGw7XG4gICAgICB3YXJuS2V5ID1cbiAgICAgICAgbnVsbCAhPT0gd2FybktleSAmJiBudWxsICE9PSBhbmNlc3RvclxuICAgICAgICAgID8gZGVzY3JpYmVBbmNlc3RvcnMoXG4gICAgICAgICAgICAgIGFuY2VzdG9yLFxuICAgICAgICAgICAgICB3YXJuS2V5LFxuICAgICAgICAgICAgICA2ICE9PSB3YXJuS2V5LnRhZyA/IHsgY2hpbGRyZW46IG51bGwgfSA6IG51bGxcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IFwiXCI7XG4gICAgICAvXFxTLy50ZXN0KGNoaWxkVGV4dClcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbiBIVE1MLCB0ZXh0IG5vZGVzIGNhbm5vdCBiZSBhIGNoaWxkIG9mIDwlcz4uXFxuVGhpcyB3aWxsIGNhdXNlIGEgaHlkcmF0aW9uIGVycm9yLiVzXCIsXG4gICAgICAgICAgICBwYXJlbnRUYWcsXG4gICAgICAgICAgICB3YXJuS2V5XG4gICAgICAgICAgKVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkluIEhUTUwsIHdoaXRlc3BhY2UgdGV4dCBub2RlcyBjYW5ub3QgYmUgYSBjaGlsZCBvZiA8JXM+LiBNYWtlIHN1cmUgeW91IGRvbid0IGhhdmUgYW55IGV4dHJhIHdoaXRlc3BhY2UgYmV0d2VlbiB0YWdzIG9uIGVhY2ggbGluZSBvZiB5b3VyIHNvdXJjZSBjb2RlLlxcblRoaXMgd2lsbCBjYXVzZSBhIGh5ZHJhdGlvbiBlcnJvci4lc1wiLFxuICAgICAgICAgICAgcGFyZW50VGFnLFxuICAgICAgICAgICAgd2FybktleVxuICAgICAgICAgICk7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFRleHRDb250ZW50KG5vZGUsIHRleHQpIHtcbiAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgIHZhciBmaXJzdENoaWxkID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgZmlyc3RDaGlsZCAmJlxuICAgICAgICAgIGZpcnN0Q2hpbGQgPT09IG5vZGUubGFzdENoaWxkICYmXG4gICAgICAgICAgMyA9PT0gZmlyc3RDaGlsZC5ub2RlVHlwZVxuICAgICAgICApIHtcbiAgICAgICAgICBmaXJzdENoaWxkLm5vZGVWYWx1ZSA9IHRleHQ7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FtZWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoaHlwaGVuUGF0dGVybiwgZnVuY3Rpb24gKF8sIGNoYXJhY3Rlcikge1xuICAgICAgICByZXR1cm4gY2hhcmFjdGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0VmFsdWVGb3JTdHlsZShzdHlsZSwgc3R5bGVOYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGlzQ3VzdG9tUHJvcGVydHkgPSAwID09PSBzdHlsZU5hbWUuaW5kZXhPZihcIi0tXCIpO1xuICAgICAgaXNDdXN0b21Qcm9wZXJ0eSB8fFxuICAgICAgICAoLTEgPCBzdHlsZU5hbWUuaW5kZXhPZihcIi1cIilcbiAgICAgICAgICA/ICh3YXJuZWRTdHlsZU5hbWVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkgJiZcbiAgICAgICAgICAgICAgd2FybmVkU3R5bGVOYW1lc1tzdHlsZU5hbWVdKSB8fFxuICAgICAgICAgICAgKCh3YXJuZWRTdHlsZU5hbWVzW3N0eWxlTmFtZV0gPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlVuc3VwcG9ydGVkIHN0eWxlIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/XCIsXG4gICAgICAgICAgICAgIHN0eWxlTmFtZSxcbiAgICAgICAgICAgICAgY2FtZWxpemUoc3R5bGVOYW1lLnJlcGxhY2UobXNQYXR0ZXJuLCBcIm1zLVwiKSlcbiAgICAgICAgICAgICkpXG4gICAgICAgICAgOiBiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4udGVzdChzdHlsZU5hbWUpXG4gICAgICAgICAgICA/ICh3YXJuZWRTdHlsZU5hbWVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkgJiZcbiAgICAgICAgICAgICAgICB3YXJuZWRTdHlsZU5hbWVzW3N0eWxlTmFtZV0pIHx8XG4gICAgICAgICAgICAgICgod2FybmVkU3R5bGVOYW1lc1tzdHlsZU5hbWVdID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVW5zdXBwb3J0ZWQgdmVuZG9yLXByZWZpeGVkIHN0eWxlIHByb3BlcnR5ICVzLiBEaWQgeW91IG1lYW4gJXM/XCIsXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lLFxuICAgICAgICAgICAgICAgIHN0eWxlTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0eWxlTmFtZS5zbGljZSgxKVxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgOiAhYmFkU3R5bGVWYWx1ZVdpdGhTZW1pY29sb25QYXR0ZXJuLnRlc3QodmFsdWUpIHx8XG4gICAgICAgICAgICAgICh3YXJuZWRTdHlsZVZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkgJiZcbiAgICAgICAgICAgICAgICB3YXJuZWRTdHlsZVZhbHVlc1t2YWx1ZV0pIHx8XG4gICAgICAgICAgICAgICgod2FybmVkU3R5bGVWYWx1ZXNbdmFsdWVdID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdTdHlsZSBwcm9wZXJ0eSB2YWx1ZXMgc2hvdWxkblxcJ3QgY29udGFpbiBhIHNlbWljb2xvbi4gVHJ5IFwiJXM6ICVzXCIgaW5zdGVhZC4nLFxuICAgICAgICAgICAgICAgIHN0eWxlTmFtZSxcbiAgICAgICAgICAgICAgICB2YWx1ZS5yZXBsYWNlKGJhZFN0eWxlVmFsdWVXaXRoU2VtaWNvbG9uUGF0dGVybiwgXCJcIilcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgIChpc05hTih2YWx1ZSlcbiAgICAgICAgICAgID8gd2FybmVkRm9yTmFOVmFsdWUgfHxcbiAgICAgICAgICAgICAgKCh3YXJuZWRGb3JOYU5WYWx1ZSA9ICEwKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcImBOYU5gIGlzIGFuIGludmFsaWQgdmFsdWUgZm9yIHRoZSBgJXNgIGNzcyBzdHlsZSBwcm9wZXJ0eS5cIixcbiAgICAgICAgICAgICAgICBzdHlsZU5hbWVcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIDogaXNGaW5pdGUodmFsdWUpIHx8XG4gICAgICAgICAgICAgIHdhcm5lZEZvckluZmluaXR5VmFsdWUgfHxcbiAgICAgICAgICAgICAgKCh3YXJuZWRGb3JJbmZpbml0eVZhbHVlID0gITApLFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiYEluZmluaXR5YCBpcyBhbiBpbnZhbGlkIHZhbHVlIGZvciB0aGUgYCVzYCBjc3Mgc3R5bGUgcHJvcGVydHkuXCIsXG4gICAgICAgICAgICAgICAgc3R5bGVOYW1lXG4gICAgICAgICAgICAgICkpKSk7XG4gICAgICBudWxsID09IHZhbHVlIHx8IFwiYm9vbGVhblwiID09PSB0eXBlb2YgdmFsdWUgfHwgXCJcIiA9PT0gdmFsdWVcbiAgICAgICAgPyBpc0N1c3RvbVByb3BlcnR5XG4gICAgICAgICAgPyBzdHlsZS5zZXRQcm9wZXJ0eShzdHlsZU5hbWUsIFwiXCIpXG4gICAgICAgICAgOiBcImZsb2F0XCIgPT09IHN0eWxlTmFtZVxuICAgICAgICAgICAgPyAoc3R5bGUuY3NzRmxvYXQgPSBcIlwiKVxuICAgICAgICAgICAgOiAoc3R5bGVbc3R5bGVOYW1lXSA9IFwiXCIpXG4gICAgICAgIDogaXNDdXN0b21Qcm9wZXJ0eVxuICAgICAgICAgID8gc3R5bGUuc2V0UHJvcGVydHkoc3R5bGVOYW1lLCB2YWx1ZSlcbiAgICAgICAgICA6IFwibnVtYmVyXCIgIT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgICAwID09PSB2YWx1ZSB8fFxuICAgICAgICAgICAgICB1bml0bGVzc051bWJlcnMuaGFzKHN0eWxlTmFtZSlcbiAgICAgICAgICAgID8gXCJmbG9hdFwiID09PSBzdHlsZU5hbWVcbiAgICAgICAgICAgICAgPyAoc3R5bGUuY3NzRmxvYXQgPSB2YWx1ZSlcbiAgICAgICAgICAgICAgOiAoY2hlY2tDU1NQcm9wZXJ0eVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBzdHlsZU5hbWUpLFxuICAgICAgICAgICAgICAgIChzdHlsZVtzdHlsZU5hbWVdID0gKFwiXCIgKyB2YWx1ZSkudHJpbSgpKSlcbiAgICAgICAgICAgIDogKHN0eWxlW3N0eWxlTmFtZV0gPSB2YWx1ZSArIFwicHhcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFZhbHVlRm9yU3R5bGVzKG5vZGUsIHN0eWxlcywgcHJldlN0eWxlcykge1xuICAgICAgaWYgKG51bGwgIT0gc3R5bGVzICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiBzdHlsZXMpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiVGhlIGBzdHlsZWAgcHJvcCBleHBlY3RzIGEgbWFwcGluZyBmcm9tIHN0eWxlIHByb3BlcnRpZXMgdG8gdmFsdWVzLCBub3QgYSBzdHJpbmcuIEZvciBleGFtcGxlLCBzdHlsZT17e21hcmdpblJpZ2h0OiBzcGFjaW5nICsgJ2VtJ319IHdoZW4gdXNpbmcgSlNYLlwiXG4gICAgICAgICk7XG4gICAgICBzdHlsZXMgJiYgT2JqZWN0LmZyZWV6ZShzdHlsZXMpO1xuICAgICAgbm9kZSA9IG5vZGUuc3R5bGU7XG4gICAgICBpZiAobnVsbCAhPSBwcmV2U3R5bGVzKSB7XG4gICAgICAgIGlmIChzdHlsZXMpIHtcbiAgICAgICAgICB2YXIgZXhwYW5kZWRVcGRhdGVzID0ge307XG4gICAgICAgICAgaWYgKHByZXZTdHlsZXMpXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcHJldlN0eWxlcylcbiAgICAgICAgICAgICAgaWYgKHByZXZTdHlsZXMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhc3R5bGVzLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgIHZhciBsb25naGFuZHMgPSBzaG9ydGhhbmRUb0xvbmdoYW5kW2tleV0gfHwgW2tleV0sIGkgPSAwO1xuICAgICAgICAgICAgICAgICAgaSA8IGxvbmdoYW5kcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICBpKytcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBleHBhbmRlZFVwZGF0ZXNbbG9uZ2hhbmRzW2ldXSA9IGtleTtcbiAgICAgICAgICBmb3IgKHZhciBfa2V5IGluIHN0eWxlcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc3R5bGVzLmhhc093blByb3BlcnR5KF9rZXkpICYmXG4gICAgICAgICAgICAgICghcHJldlN0eWxlcyB8fCBwcmV2U3R5bGVzW19rZXldICE9PSBzdHlsZXNbX2tleV0pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAga2V5ID0gc2hvcnRoYW5kVG9Mb25naGFuZFtfa2V5XSB8fCBbX2tleV0sIGxvbmdoYW5kcyA9IDA7XG4gICAgICAgICAgICAgICAgbG9uZ2hhbmRzIDwga2V5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICBsb25naGFuZHMrK1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgZXhwYW5kZWRVcGRhdGVzW2tleVtsb25naGFuZHNdXSA9IF9rZXk7XG4gICAgICAgICAgX2tleSA9IHt9O1xuICAgICAgICAgIGZvciAodmFyIGtleSRqc2NvbXAkMCBpbiBzdHlsZXMpXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBrZXkgPSBzaG9ydGhhbmRUb0xvbmdoYW5kW2tleSRqc2NvbXAkMF0gfHwgW2tleSRqc2NvbXAkMF0sXG4gICAgICAgICAgICAgICAgbG9uZ2hhbmRzID0gMDtcbiAgICAgICAgICAgICAgbG9uZ2hhbmRzIDwga2V5Lmxlbmd0aDtcbiAgICAgICAgICAgICAgbG9uZ2hhbmRzKytcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgX2tleVtrZXlbbG9uZ2hhbmRzXV0gPSBrZXkkanNjb21wJDA7XG4gICAgICAgICAga2V5JGpzY29tcCQwID0ge307XG4gICAgICAgICAgZm9yICh2YXIgX2tleTIgaW4gZXhwYW5kZWRVcGRhdGVzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKGtleSA9IGV4cGFuZGVkVXBkYXRlc1tfa2V5Ml0pLFxuICAgICAgICAgICAgICAobG9uZ2hhbmRzID0gX2tleVtfa2V5Ml0pICYmXG4gICAgICAgICAgICAgICAga2V5ICE9PSBsb25naGFuZHMgJiZcbiAgICAgICAgICAgICAgICAoKGkgPSBrZXkgKyBcIixcIiArIGxvbmdoYW5kcyksICFrZXkkanNjb21wJDBbaV0pKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGtleSRqc2NvbXAkMFtpXSA9ICEwO1xuICAgICAgICAgICAgICBpID0gY29uc29sZTtcbiAgICAgICAgICAgICAgdmFyIHZhbHVlID0gc3R5bGVzW2tleV07XG4gICAgICAgICAgICAgIGkuZXJyb3IuY2FsbChcbiAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgIFwiJXMgYSBzdHlsZSBwcm9wZXJ0eSBkdXJpbmcgcmVyZW5kZXIgKCVzKSB3aGVuIGEgY29uZmxpY3RpbmcgcHJvcGVydHkgaXMgc2V0ICglcykgY2FuIGxlYWQgdG8gc3R5bGluZyBidWdzLiBUbyBhdm9pZCB0aGlzLCBkb24ndCBtaXggc2hvcnRoYW5kIGFuZCBub24tc2hvcnRoYW5kIHByb3BlcnRpZXMgZm9yIHRoZSBzYW1lIHZhbHVlOyBpbnN0ZWFkLCByZXBsYWNlIHRoZSBzaG9ydGhhbmQgd2l0aCBzZXBhcmF0ZSB2YWx1ZXMuXCIsXG4gICAgICAgICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fCBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHZhbHVlIHx8IFwiXCIgPT09IHZhbHVlXG4gICAgICAgICAgICAgICAgICA/IFwiUmVtb3ZpbmdcIlxuICAgICAgICAgICAgICAgICAgOiBcIlVwZGF0aW5nXCIsXG4gICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgIGxvbmdoYW5kc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIHN0eWxlTmFtZSBpbiBwcmV2U3R5bGVzKVxuICAgICAgICAgICFwcmV2U3R5bGVzLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkgfHxcbiAgICAgICAgICAgIChudWxsICE9IHN0eWxlcyAmJiBzdHlsZXMuaGFzT3duUHJvcGVydHkoc3R5bGVOYW1lKSkgfHxcbiAgICAgICAgICAgICgwID09PSBzdHlsZU5hbWUuaW5kZXhPZihcIi0tXCIpXG4gICAgICAgICAgICAgID8gbm9kZS5zZXRQcm9wZXJ0eShzdHlsZU5hbWUsIFwiXCIpXG4gICAgICAgICAgICAgIDogXCJmbG9hdFwiID09PSBzdHlsZU5hbWVcbiAgICAgICAgICAgICAgICA/IChub2RlLmNzc0Zsb2F0ID0gXCJcIilcbiAgICAgICAgICAgICAgICA6IChub2RlW3N0eWxlTmFtZV0gPSBcIlwiKSk7XG4gICAgICAgIGZvciAodmFyIF9zdHlsZU5hbWUgaW4gc3R5bGVzKVxuICAgICAgICAgIChfa2V5MiA9IHN0eWxlc1tfc3R5bGVOYW1lXSksXG4gICAgICAgICAgICBzdHlsZXMuaGFzT3duUHJvcGVydHkoX3N0eWxlTmFtZSkgJiZcbiAgICAgICAgICAgICAgcHJldlN0eWxlc1tfc3R5bGVOYW1lXSAhPT0gX2tleTIgJiZcbiAgICAgICAgICAgICAgc2V0VmFsdWVGb3JTdHlsZShub2RlLCBfc3R5bGVOYW1lLCBfa2V5Mik7XG4gICAgICB9IGVsc2VcbiAgICAgICAgZm9yIChleHBhbmRlZFVwZGF0ZXMgaW4gc3R5bGVzKVxuICAgICAgICAgIHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShleHBhbmRlZFVwZGF0ZXMpICYmXG4gICAgICAgICAgICBzZXRWYWx1ZUZvclN0eWxlKG5vZGUsIGV4cGFuZGVkVXBkYXRlcywgc3R5bGVzW2V4cGFuZGVkVXBkYXRlc10pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0N1c3RvbUVsZW1lbnQodGFnTmFtZSkge1xuICAgICAgaWYgKC0xID09PSB0YWdOYW1lLmluZGV4T2YoXCItXCIpKSByZXR1cm4gITE7XG4gICAgICBzd2l0Y2ggKHRhZ05hbWUpIHtcbiAgICAgICAgY2FzZSBcImFubm90YXRpb24teG1sXCI6XG4gICAgICAgIGNhc2UgXCJjb2xvci1wcm9maWxlXCI6XG4gICAgICAgIGNhc2UgXCJmb250LWZhY2VcIjpcbiAgICAgICAgY2FzZSBcImZvbnQtZmFjZS1zcmNcIjpcbiAgICAgICAgY2FzZSBcImZvbnQtZmFjZS11cmlcIjpcbiAgICAgICAgY2FzZSBcImZvbnQtZmFjZS1mb3JtYXRcIjpcbiAgICAgICAgY2FzZSBcImZvbnQtZmFjZS1uYW1lXCI6XG4gICAgICAgIGNhc2UgXCJtaXNzaW5nLWdseXBoXCI6XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0QXR0cmlidXRlQWxpYXMobmFtZSkge1xuICAgICAgcmV0dXJuIGFsaWFzZXMuZ2V0KG5hbWUpIHx8IG5hbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlUHJvcGVydHkkMSh0YWdOYW1lLCBuYW1lKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGhhc093blByb3BlcnR5LmNhbGwod2FybmVkUHJvcGVydGllcyQxLCBuYW1lKSAmJlxuICAgICAgICB3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV1cbiAgICAgIClcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgaWYgKHJBUklBQ2FtZWwkMS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHRhZ05hbWUgPSBcImFyaWEtXCIgKyBuYW1lLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIHRhZ05hbWUgPSBhcmlhUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSA/IHRhZ05hbWUgOiBudWxsO1xuICAgICAgICBpZiAobnVsbCA9PSB0YWdOYW1lKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgQVJJQSBhdHRyaWJ1dGUgYCVzYC4gQVJJQSBhdHRyaWJ1dGVzIGZvbGxvdyB0aGUgcGF0dGVybiBhcmlhLSogYW5kIG11c3QgYmUgbG93ZXJjYXNlLlwiLFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXMkMVtuYW1lXSA9ICEwKVxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChuYW1lICE9PSB0YWdOYW1lKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgQVJJQSBhdHRyaWJ1dGUgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/XCIsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIHRhZ05hbWVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAod2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gITApXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChyQVJJQSQxLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdGFnTmFtZSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdGFnTmFtZSA9IGFyaWFQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHRhZ05hbWUpID8gdGFnTmFtZSA6IG51bGw7XG4gICAgICAgIGlmIChudWxsID09IHRhZ05hbWUpIHJldHVybiAod2FybmVkUHJvcGVydGllcyQxW25hbWVdID0gITApLCAhMTtcbiAgICAgICAgbmFtZSAhPT0gdGFnTmFtZSAmJlxuICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJVbmtub3duIEFSSUEgYXR0cmlidXRlIGAlc2AuIERpZCB5b3UgbWVhbiBgJXNgP1wiLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIHRhZ05hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzJDFbbmFtZV0gPSAhMCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXMkMih0eXBlLCBwcm9wcykge1xuICAgICAgdmFyIGludmFsaWRQcm9wcyA9IFtdLFxuICAgICAgICBrZXk7XG4gICAgICBmb3IgKGtleSBpbiBwcm9wcylcbiAgICAgICAgdmFsaWRhdGVQcm9wZXJ0eSQxKHR5cGUsIGtleSkgfHwgaW52YWxpZFByb3BzLnB1c2goa2V5KTtcbiAgICAgIHByb3BzID0gaW52YWxpZFByb3BzXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICByZXR1cm4gXCJgXCIgKyBwcm9wICsgXCJgXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG4gICAgICAxID09PSBpbnZhbGlkUHJvcHMubGVuZ3RoXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW52YWxpZCBhcmlhIHByb3AgJXMgb24gPCVzPiB0YWcuIEZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWFyaWEtcHJvcHNcIixcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICAgIClcbiAgICAgICAgOiAxIDwgaW52YWxpZFByb3BzLmxlbmd0aCAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkludmFsaWQgYXJpYSBwcm9wcyAlcyBvbiA8JXM+IHRhZy4gRm9yIGRldGFpbHMsIHNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2ludmFsaWQtYXJpYS1wcm9wc1wiLFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICB0eXBlXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eSh0YWdOYW1lLCBuYW1lLCB2YWx1ZSwgZXZlbnRSZWdpc3RyeSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwod2FybmVkUHJvcGVydGllcywgbmFtZSkgJiYgd2FybmVkUHJvcGVydGllc1tuYW1lXSlcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgdmFyIGxvd2VyQ2FzZWROYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKFwib25mb2N1c2luXCIgPT09IGxvd2VyQ2FzZWROYW1lIHx8IFwib25mb2N1c291dFwiID09PSBsb3dlckNhc2VkTmFtZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdCB1c2VzIG9uRm9jdXMgYW5kIG9uQmx1ciBpbnN0ZWFkIG9mIG9uRm9jdXNJbiBhbmQgb25Gb2N1c091dC4gQWxsIFJlYWN0IGV2ZW50cyBhcmUgbm9ybWFsaXplZCB0byBidWJibGUsIHNvIG9uRm9jdXNJbiBhbmQgb25Gb2N1c091dCBhcmUgbm90IG5lZWRlZC9zdXBwb3J0ZWQgYnkgUmVhY3QuXCJcbiAgICAgICAgICApLFxuICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICgoXCJmb3JtXCIgPT09IHRhZ05hbWUgJiYgXCJhY3Rpb25cIiA9PT0gbmFtZSkgfHxcbiAgICAgICAgICAoXCJpbnB1dFwiID09PSB0YWdOYW1lICYmIFwiZm9ybUFjdGlvblwiID09PSBuYW1lKSB8fFxuICAgICAgICAgIChcImJ1dHRvblwiID09PSB0YWdOYW1lICYmIFwiZm9ybUFjdGlvblwiID09PSBuYW1lKSlcbiAgICAgIClcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgaWYgKG51bGwgIT0gZXZlbnRSZWdpc3RyeSkge1xuICAgICAgICB0YWdOYW1lID0gZXZlbnRSZWdpc3RyeS5wb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzO1xuICAgICAgICBpZiAoZXZlbnRSZWdpc3RyeS5yZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KG5hbWUpKVxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgZXZlbnRSZWdpc3RyeSA9IHRhZ05hbWUuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpXG4gICAgICAgICAgPyB0YWdOYW1lW2xvd2VyQ2FzZWROYW1lXVxuICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgaWYgKG51bGwgIT0gZXZlbnRSZWdpc3RyeSlcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIGV2ZW50IGhhbmRsZXIgcHJvcGVydHkgYCVzYC4gRGlkIHlvdSBtZWFuIGAlc2A/XCIsXG4gICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50UmVnaXN0cnlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChFVkVOVF9OQU1FX1JFR0VYLnRlc3QobmFtZSkpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiVW5rbm93biBldmVudCBoYW5kbGVyIHByb3BlcnR5IGAlc2AuIEl0IHdpbGwgYmUgaWdub3JlZC5cIixcbiAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICh3YXJuZWRQcm9wZXJ0aWVzW25hbWVdID0gITApXG4gICAgICAgICAgKTtcbiAgICAgIH0gZWxzZSBpZiAoRVZFTlRfTkFNRV9SRUdFWC50ZXN0KG5hbWUpKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIElOVkFMSURfRVZFTlRfTkFNRV9SRUdFWC50ZXN0KG5hbWUpICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkludmFsaWQgZXZlbnQgaGFuZGxlciBwcm9wZXJ0eSBgJXNgLiBSZWFjdCBldmVudHMgdXNlIHRoZSBjYW1lbENhc2UgbmFtaW5nIGNvbnZlbnRpb24sIGZvciBleGFtcGxlIGBvbkNsaWNrYC5cIixcbiAgICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKHJBUklBLnRlc3QobmFtZSkgfHwgckFSSUFDYW1lbC50ZXN0KG5hbWUpKSByZXR1cm4gITA7XG4gICAgICBpZiAoXCJpbm5lcmh0bWxcIiA9PT0gbG93ZXJDYXNlZE5hbWUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRGlyZWN0bHkgc2V0dGluZyBwcm9wZXJ0eSBgaW5uZXJIVE1MYCBpcyBub3QgcGVybWl0dGVkLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgbG9va3VwIGRvY3VtZW50YXRpb24gb24gYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChcImFyaWFcIiA9PT0gbG93ZXJDYXNlZE5hbWUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiVGhlIGBhcmlhYCBhdHRyaWJ1dGUgaXMgcmVzZXJ2ZWQgZm9yIGZ1dHVyZSB1c2UgaW4gUmVhY3QuIFBhc3MgaW5kaXZpZHVhbCBgYXJpYS1gIGF0dHJpYnV0ZXMgaW5zdGVhZC5cIlxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChcbiAgICAgICAgXCJpc1wiID09PSBsb3dlckNhc2VkTmFtZSAmJlxuICAgICAgICBudWxsICE9PSB2YWx1ZSAmJlxuICAgICAgICB2b2lkIDAgIT09IHZhbHVlICYmXG4gICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiB2YWx1ZVxuICAgICAgKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlY2VpdmVkIGEgYCVzYCBmb3IgYSBzdHJpbmcgYXR0cmlidXRlIGBpc2AuIElmIHRoaXMgaXMgZXhwZWN0ZWQsIGNhc3QgdGhlIHZhbHVlIHRvIGEgc3RyaW5nLlwiLFxuICAgICAgICAgICAgdHlwZW9mIHZhbHVlXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgaWYgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB2YWx1ZSAmJiBpc05hTih2YWx1ZSkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiUmVjZWl2ZWQgTmFOIGZvciB0aGUgYCVzYCBhdHRyaWJ1dGUuIElmIHRoaXMgaXMgZXhwZWN0ZWQsIGNhc3QgdGhlIHZhbHVlIHRvIGEgc3RyaW5nLlwiLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICksXG4gICAgICAgICAgKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMClcbiAgICAgICAgKTtcbiAgICAgIGlmIChwb3NzaWJsZVN0YW5kYXJkTmFtZXMuaGFzT3duUHJvcGVydHkobG93ZXJDYXNlZE5hbWUpKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoKGxvd2VyQ2FzZWROYW1lID0gcG9zc2libGVTdGFuZGFyZE5hbWVzW2xvd2VyQ2FzZWROYW1lXSksXG4gICAgICAgICAgbG93ZXJDYXNlZE5hbWUgIT09IG5hbWUpXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIERPTSBwcm9wZXJ0eSBgJXNgLiBEaWQgeW91IG1lYW4gYCVzYD9cIixcbiAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgbG93ZXJDYXNlZE5hbWVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKG5hbWUgIT09IGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlJlYWN0IGRvZXMgbm90IHJlY29nbml6ZSB0aGUgYCVzYCBwcm9wIG9uIGEgRE9NIGVsZW1lbnQuIElmIHlvdSBpbnRlbnRpb25hbGx5IHdhbnQgaXQgdG8gYXBwZWFyIGluIHRoZSBET00gYXMgYSBjdXN0b20gYXR0cmlidXRlLCBzcGVsbCBpdCBhcyBsb3dlcmNhc2UgYCVzYCBpbnN0ZWFkLiBJZiB5b3UgYWNjaWRlbnRhbGx5IHBhc3NlZCBpdCBmcm9tIGEgcGFyZW50IGNvbXBvbmVudCwgcmVtb3ZlIGl0IGZyb20gdGhlIERPTSBlbGVtZW50LlwiLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGxvd2VyQ2FzZWROYW1lXG4gICAgICAgICAgKSxcbiAgICAgICAgICAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKVxuICAgICAgICApO1xuICAgICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgIGNhc2UgXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIjpcbiAgICAgICAgY2FzZSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgIGNhc2UgXCJkZWZhdWx0Q2hlY2tlZFwiOlxuICAgICAgICBjYXNlIFwiaW5uZXJIVE1MXCI6XG4gICAgICAgIGNhc2UgXCJyZWZcIjpcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGNhc2UgXCJpbm5lclRleHRcIjpcbiAgICAgICAgY2FzZSBcInRleHRDb250ZW50XCI6XG4gICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICBzd2l0Y2ggKG5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhdXRvRm9jdXNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJtdXRlZFwiOlxuICAgICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICBjYXNlIFwiY29udGVudEVkaXRhYmxlXCI6XG4gICAgICAgICAgICBjYXNlIFwic3BlbGxDaGVja1wiOlxuICAgICAgICAgICAgY2FzZSBcImRyYWdnYWJsZVwiOlxuICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICBjYXNlIFwiYXV0b1JldmVyc2VcIjpcbiAgICAgICAgICAgIGNhc2UgXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCI6XG4gICAgICAgICAgICBjYXNlIFwiZm9jdXNhYmxlXCI6XG4gICAgICAgICAgICBjYXNlIFwicHJlc2VydmVBbHBoYVwiOlxuICAgICAgICAgICAgY2FzZSBcImFsbG93RnVsbFNjcmVlblwiOlxuICAgICAgICAgICAgY2FzZSBcImFzeW5jXCI6XG4gICAgICAgICAgICBjYXNlIFwiYXV0b1BsYXlcIjpcbiAgICAgICAgICAgIGNhc2UgXCJjb250cm9sc1wiOlxuICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkZWZlclwiOlxuICAgICAgICAgICAgY2FzZSBcImRpc2FibGVkXCI6XG4gICAgICAgICAgICBjYXNlIFwiZGlzYWJsZVBpY3R1cmVJblBpY3R1cmVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmb3JtTm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgY2FzZSBcImhpZGRlblwiOlxuICAgICAgICAgICAgY2FzZSBcImxvb3BcIjpcbiAgICAgICAgICAgIGNhc2UgXCJub01vZHVsZVwiOlxuICAgICAgICAgICAgY2FzZSBcIm5vVmFsaWRhdGVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICBjYXNlIFwicGxheXNJbmxpbmVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJyZWFkT25seVwiOlxuICAgICAgICAgICAgY2FzZSBcInJlcXVpcmVkXCI6XG4gICAgICAgICAgICBjYXNlIFwicmV2ZXJzZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzY29wZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzZWFtbGVzc1wiOlxuICAgICAgICAgICAgY2FzZSBcIml0ZW1TY29wZVwiOlxuICAgICAgICAgICAgY2FzZSBcImNhcHR1cmVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJkb3dubG9hZFwiOlxuICAgICAgICAgICAgY2FzZSBcImluZXJ0XCI6XG4gICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGxvd2VyQ2FzZWROYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDUpO1xuICAgICAgICAgICAgICBpZiAoXCJkYXRhLVwiID09PSBsb3dlckNhc2VkTmFtZSB8fCBcImFyaWEtXCIgPT09IGxvd2VyQ2FzZWROYW1lKVxuICAgICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdSZWNlaXZlZCBgJXNgIGZvciBhIG5vbi1ib29sZWFuIGF0dHJpYnV0ZSBgJXNgLlxcblxcbklmIHlvdSB3YW50IHRvIHdyaXRlIGl0IHRvIHRoZSBET00sIHBhc3MgYSBzdHJpbmcgaW5zdGVhZDogJXM9XCIlc1wiIG9yICVzPXt2YWx1ZS50b1N0cmluZygpfS4nLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdSZWNlaXZlZCBgJXNgIGZvciBhIG5vbi1ib29sZWFuIGF0dHJpYnV0ZSBgJXNgLlxcblxcbklmIHlvdSB3YW50IHRvIHdyaXRlIGl0IHRvIHRoZSBET00sIHBhc3MgYSBzdHJpbmcgaW5zdGVhZDogJXM9XCIlc1wiIG9yICVzPXt2YWx1ZS50b1N0cmluZygpfS5cXG5cXG5JZiB5b3UgdXNlZCB0byBjb25kaXRpb25hbGx5IG9taXQgaXQgd2l0aCAlcz17Y29uZGl0aW9uICYmIHZhbHVlfSwgcGFzcyAlcz17Y29uZGl0aW9uID8gdmFsdWUgOiB1bmRlZmluZWR9IGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4gKHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMCk7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIHJldHVybiAod2FybmVkUHJvcGVydGllc1tuYW1lXSA9ICEwKSwgITE7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICBpZiAoXCJmYWxzZVwiID09PSB2YWx1ZSB8fCBcInRydWVcIiA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtdXRlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiYWxsb3dGdWxsU2NyZWVuXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJhc3luY1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiYXV0b1BsYXlcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImNvbnRyb2xzXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkZWZlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGlzYWJsZWRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRpc2FibGVQaWN0dXJlSW5QaWN0dXJlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkaXNhYmxlUmVtb3RlUGxheWJhY2tcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImZvcm1Ob1ZhbGlkYXRlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgICAgICAgY2FzZSBcImxvb3BcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm5vTW9kdWxlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJub1ZhbGlkYXRlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwbGF5c0lubGluZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwicmVhZE9ubHlcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInJlcXVpcmVkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJyZXZlcnNlZFwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2NvcGVkXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzZWFtbGVzc1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiaXRlbVNjb3BlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJpbmVydFwiOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiUmVjZWl2ZWQgdGhlIHN0cmluZyBgJXNgIGZvciB0aGUgYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC4gJXMgRGlkIHlvdSBtZWFuICVzPXslc30/XCIsXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICBcImZhbHNlXCIgPT09IHZhbHVlXG4gICAgICAgICAgICAgICAgPyBcIlRoZSBicm93c2VyIHdpbGwgaW50ZXJwcmV0IGl0IGFzIGEgdHJ1dGh5IHZhbHVlLlwiXG4gICAgICAgICAgICAgICAgOiAnQWx0aG91Z2ggdGhpcyB3b3JrcywgaXQgd2lsbCBub3Qgd29yayBhcyBleHBlY3RlZCBpZiB5b3UgcGFzcyB0aGUgc3RyaW5nIFwiZmFsc2VcIi4nLFxuICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHdhcm5lZFByb3BlcnRpZXNbbmFtZV0gPSAhMDtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Vbmtub3duUHJvcGVydGllcyh0eXBlLCBwcm9wcywgZXZlbnRSZWdpc3RyeSkge1xuICAgICAgdmFyIHVua25vd25Qcm9wcyA9IFtdLFxuICAgICAgICBrZXk7XG4gICAgICBmb3IgKGtleSBpbiBwcm9wcylcbiAgICAgICAgdmFsaWRhdGVQcm9wZXJ0eSh0eXBlLCBrZXksIHByb3BzW2tleV0sIGV2ZW50UmVnaXN0cnkpIHx8XG4gICAgICAgICAgdW5rbm93blByb3BzLnB1c2goa2V5KTtcbiAgICAgIHByb3BzID0gdW5rbm93blByb3BzXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICByZXR1cm4gXCJgXCIgKyBwcm9wICsgXCJgXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5qb2luKFwiLCBcIik7XG4gICAgICAxID09PSB1bmtub3duUHJvcHMubGVuZ3RoXG4gICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW52YWxpZCB2YWx1ZSBmb3IgcHJvcCAlcyBvbiA8JXM+IHRhZy4gRWl0aGVyIHJlbW92ZSBpdCBmcm9tIHRoZSBlbGVtZW50LCBvciBwYXNzIGEgc3RyaW5nIG9yIG51bWJlciB2YWx1ZSB0byBrZWVwIGl0IGluIHRoZSBET00uIEZvciBkZXRhaWxzLCBzZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9hdHRyaWJ1dGUtYmVoYXZpb3IgXCIsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIHR5cGVcbiAgICAgICAgICApXG4gICAgICAgIDogMSA8IHVua25vd25Qcm9wcy5sZW5ndGggJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJbnZhbGlkIHZhbHVlcyBmb3IgcHJvcHMgJXMgb24gPCVzPiB0YWcuIEVpdGhlciByZW1vdmUgdGhlbSBmcm9tIHRoZSBlbGVtZW50LCBvciBwYXNzIGEgc3RyaW5nIG9yIG51bWJlciB2YWx1ZSB0byBrZWVwIHRoZW0gaW4gdGhlIERPTS4gRm9yIGRldGFpbHMsIHNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL2F0dHJpYnV0ZS1iZWhhdmlvciBcIixcbiAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNhbml0aXplVVJMKHVybCkge1xuICAgICAgcmV0dXJuIGlzSmF2YVNjcmlwdFByb3RvY29sLnRlc3QoXCJcIiArIHVybClcbiAgICAgICAgPyBcImphdmFzY3JpcHQ6dGhyb3cgbmV3IEVycm9yKCdSZWFjdCBoYXMgYmxvY2tlZCBhIGphdmFzY3JpcHQ6IFVSTCBhcyBhIHNlY3VyaXR5IHByZWNhdXRpb24uJylcIlxuICAgICAgICA6IHVybDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRUYXJnZXQobmF0aXZlRXZlbnQpIHtcbiAgICAgIG5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQudGFyZ2V0IHx8IG5hdGl2ZUV2ZW50LnNyY0VsZW1lbnQgfHwgd2luZG93O1xuICAgICAgbmF0aXZlRXZlbnQuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQgJiZcbiAgICAgICAgKG5hdGl2ZUV2ZW50ID0gbmF0aXZlRXZlbnQuY29ycmVzcG9uZGluZ1VzZUVsZW1lbnQpO1xuICAgICAgcmV0dXJuIDMgPT09IG5hdGl2ZUV2ZW50Lm5vZGVUeXBlID8gbmF0aXZlRXZlbnQucGFyZW50Tm9kZSA6IG5hdGl2ZUV2ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXN0b3JlU3RhdGVPZlRhcmdldCh0YXJnZXQpIHtcbiAgICAgIHZhciBpbnRlcm5hbEluc3RhbmNlID0gZ2V0SW5zdGFuY2VGcm9tTm9kZSh0YXJnZXQpO1xuICAgICAgaWYgKGludGVybmFsSW5zdGFuY2UgJiYgKHRhcmdldCA9IGludGVybmFsSW5zdGFuY2Uuc3RhdGVOb2RlKSkge1xuICAgICAgICB2YXIgcHJvcHMgPSB0YXJnZXRbaW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbDtcbiAgICAgICAgYTogc3dpdGNoIChcbiAgICAgICAgICAoKHRhcmdldCA9IGludGVybmFsSW5zdGFuY2Uuc3RhdGVOb2RlKSwgaW50ZXJuYWxJbnN0YW5jZS50eXBlKVxuICAgICAgICApIHtcbiAgICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgICAgIHVwZGF0ZUlucHV0KFxuICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgIHByb3BzLnZhbHVlLFxuICAgICAgICAgICAgICBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgIHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgcHJvcHMuY2hlY2tlZCxcbiAgICAgICAgICAgICAgcHJvcHMuZGVmYXVsdENoZWNrZWQsXG4gICAgICAgICAgICAgIHByb3BzLnR5cGUsXG4gICAgICAgICAgICAgIHByb3BzLm5hbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlID0gcHJvcHMubmFtZTtcbiAgICAgICAgICAgIGlmIChcInJhZGlvXCIgPT09IHByb3BzLnR5cGUgJiYgbnVsbCAhPSBpbnRlcm5hbEluc3RhbmNlKSB7XG4gICAgICAgICAgICAgIGZvciAocHJvcHMgPSB0YXJnZXQ7IHByb3BzLnBhcmVudE5vZGU7ICkgcHJvcHMgPSBwcm9wcy5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKGludGVybmFsSW5zdGFuY2UsIFwibmFtZVwiKTtcbiAgICAgICAgICAgICAgcHJvcHMgPSBwcm9wcy5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgICAgICAgICdpbnB1dFtuYW1lPVwiJyArXG4gICAgICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKFxuICAgICAgICAgICAgICAgICAgICBcIlwiICsgaW50ZXJuYWxJbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgKSArXG4gICAgICAgICAgICAgICAgICAnXCJdW3R5cGU9XCJyYWRpb1wiXSdcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICBpbnRlcm5hbEluc3RhbmNlIDwgcHJvcHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UrK1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB2YXIgb3RoZXJOb2RlID0gcHJvcHNbaW50ZXJuYWxJbnN0YW5jZV07XG4gICAgICAgICAgICAgICAgaWYgKG90aGVyTm9kZSAhPT0gdGFyZ2V0ICYmIG90aGVyTm9kZS5mb3JtID09PSB0YXJnZXQuZm9ybSkge1xuICAgICAgICAgICAgICAgICAgdmFyIG90aGVyUHJvcHMgPSBvdGhlck5vZGVbaW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgIGlmICghb3RoZXJQcm9wcylcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJSZWFjdERPTUlucHV0OiBNaXhpbmcgUmVhY3QgYW5kIG5vbi1SZWFjdCByYWRpbyBpbnB1dHMgd2l0aCB0aGUgc2FtZSBgbmFtZWAgaXMgbm90IHN1cHBvcnRlZC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgdXBkYXRlSW5wdXQoXG4gICAgICAgICAgICAgICAgICAgIG90aGVyTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvdGhlclByb3BzLmNoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMuZGVmYXVsdENoZWNrZWQsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQcm9wcy5uYW1lXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UgPSAwO1xuICAgICAgICAgICAgICAgIGludGVybmFsSW5zdGFuY2UgPCBwcm9wcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxJbnN0YW5jZSsrXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAob3RoZXJOb2RlID0gcHJvcHNbaW50ZXJuYWxJbnN0YW5jZV0pLFxuICAgICAgICAgICAgICAgICAgb3RoZXJOb2RlLmZvcm0gPT09IHRhcmdldC5mb3JtICYmXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVZhbHVlSWZDaGFuZ2VkKG90aGVyTm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgICAgICAgdXBkYXRlVGV4dGFyZWEodGFyZ2V0LCBwcm9wcy52YWx1ZSwgcHJvcHMuZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgICAgKGludGVybmFsSW5zdGFuY2UgPSBwcm9wcy52YWx1ZSksXG4gICAgICAgICAgICAgIG51bGwgIT0gaW50ZXJuYWxJbnN0YW5jZSAmJlxuICAgICAgICAgICAgICAgIHVwZGF0ZU9wdGlvbnModGFyZ2V0LCAhIXByb3BzLm11bHRpcGxlLCBpbnRlcm5hbEluc3RhbmNlLCAhMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYmF0Y2hlZFVwZGF0ZXMkMShmbiwgYSwgYikge1xuICAgICAgaWYgKGlzSW5zaWRlRXZlbnRIYW5kbGVyKSByZXR1cm4gZm4oYSwgYik7XG4gICAgICBpc0luc2lkZUV2ZW50SGFuZGxlciA9ICEwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IGZuKGEpO1xuICAgICAgICByZXR1cm4gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICgoaXNJbnNpZGVFdmVudEhhbmRsZXIgPSAhMSksXG4gICAgICAgICAgbnVsbCAhPT0gcmVzdG9yZVRhcmdldCB8fCBudWxsICE9PSByZXN0b3JlUXVldWUpXG4gICAgICAgIClcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoZmx1c2hTeW5jV29yayQxKCksXG4gICAgICAgICAgICByZXN0b3JlVGFyZ2V0ICYmXG4gICAgICAgICAgICAgICgoYSA9IHJlc3RvcmVUYXJnZXQpLFxuICAgICAgICAgICAgICAoZm4gPSByZXN0b3JlUXVldWUpLFxuICAgICAgICAgICAgICAocmVzdG9yZVF1ZXVlID0gcmVzdG9yZVRhcmdldCA9IG51bGwpLFxuICAgICAgICAgICAgICByZXN0b3JlU3RhdGVPZlRhcmdldChhKSxcbiAgICAgICAgICAgICAgZm4pKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGZvciAoYSA9IDA7IGEgPCBmbi5sZW5ndGg7IGErKykgcmVzdG9yZVN0YXRlT2ZUYXJnZXQoZm5bYV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMaXN0ZW5lcihpbnN0LCByZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICB2YXIgc3RhdGVOb2RlID0gaW5zdC5zdGF0ZU5vZGU7XG4gICAgICBpZiAobnVsbCA9PT0gc3RhdGVOb2RlKSByZXR1cm4gbnVsbDtcbiAgICAgIHZhciBwcm9wcyA9IHN0YXRlTm9kZVtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsO1xuICAgICAgaWYgKG51bGwgPT09IHByb3BzKSByZXR1cm4gbnVsbDtcbiAgICAgIHN0YXRlTm9kZSA9IHByb3BzW3JlZ2lzdHJhdGlvbk5hbWVdO1xuICAgICAgYTogc3dpdGNoIChyZWdpc3RyYXRpb25OYW1lKSB7XG4gICAgICAgIGNhc2UgXCJvbkNsaWNrXCI6XG4gICAgICAgIGNhc2UgXCJvbkNsaWNrQ2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwib25Eb3VibGVDbGlja1wiOlxuICAgICAgICBjYXNlIFwib25Eb3VibGVDbGlja0NhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VEb3duXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlRG93bkNhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VNb3ZlXCI6XG4gICAgICAgIGNhc2UgXCJvbk1vdXNlTW92ZUNhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcIm9uTW91c2VVcFwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZVVwQ2FwdHVyZVwiOlxuICAgICAgICBjYXNlIFwib25Nb3VzZUVudGVyXCI6XG4gICAgICAgICAgKHByb3BzID0gIXByb3BzLmRpc2FibGVkKSB8fFxuICAgICAgICAgICAgKChpbnN0ID0gaW5zdC50eXBlKSxcbiAgICAgICAgICAgIChwcm9wcyA9ICEoXG4gICAgICAgICAgICAgIFwiYnV0dG9uXCIgPT09IGluc3QgfHxcbiAgICAgICAgICAgICAgXCJpbnB1dFwiID09PSBpbnN0IHx8XG4gICAgICAgICAgICAgIFwic2VsZWN0XCIgPT09IGluc3QgfHxcbiAgICAgICAgICAgICAgXCJ0ZXh0YXJlYVwiID09PSBpbnN0XG4gICAgICAgICAgICApKSk7XG4gICAgICAgICAgaW5zdCA9ICFwcm9wcztcbiAgICAgICAgICBicmVhayBhO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGluc3QgPSAhMTtcbiAgICAgIH1cbiAgICAgIGlmIChpbnN0KSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChzdGF0ZU5vZGUgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2Ygc3RhdGVOb2RlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIGBcIiArXG4gICAgICAgICAgICByZWdpc3RyYXRpb25OYW1lICtcbiAgICAgICAgICAgIFwiYCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCBhIHZhbHVlIG9mIGBcIiArXG4gICAgICAgICAgICB0eXBlb2Ygc3RhdGVOb2RlICtcbiAgICAgICAgICAgIFwiYCB0eXBlLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gc3RhdGVOb2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXRhKCkge1xuICAgICAgaWYgKGZhbGxiYWNrVGV4dCkgcmV0dXJuIGZhbGxiYWNrVGV4dDtcbiAgICAgIHZhciBzdGFydCxcbiAgICAgICAgc3RhcnRWYWx1ZSA9IHN0YXJ0VGV4dCxcbiAgICAgICAgc3RhcnRMZW5ndGggPSBzdGFydFZhbHVlLmxlbmd0aCxcbiAgICAgICAgZW5kLFxuICAgICAgICBlbmRWYWx1ZSA9IFwidmFsdWVcIiBpbiByb290ID8gcm9vdC52YWx1ZSA6IHJvb3QudGV4dENvbnRlbnQsXG4gICAgICAgIGVuZExlbmd0aCA9IGVuZFZhbHVlLmxlbmd0aDtcbiAgICAgIGZvciAoXG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgc3RhcnQgPCBzdGFydExlbmd0aCAmJiBzdGFydFZhbHVlW3N0YXJ0XSA9PT0gZW5kVmFsdWVbc3RhcnRdO1xuICAgICAgICBzdGFydCsrXG4gICAgICApO1xuICAgICAgdmFyIG1pbkVuZCA9IHN0YXJ0TGVuZ3RoIC0gc3RhcnQ7XG4gICAgICBmb3IgKFxuICAgICAgICBlbmQgPSAxO1xuICAgICAgICBlbmQgPD0gbWluRW5kICYmXG4gICAgICAgIHN0YXJ0VmFsdWVbc3RhcnRMZW5ndGggLSBlbmRdID09PSBlbmRWYWx1ZVtlbmRMZW5ndGggLSBlbmRdO1xuICAgICAgICBlbmQrK1xuICAgICAgKTtcbiAgICAgIHJldHVybiAoZmFsbGJhY2tUZXh0ID0gZW5kVmFsdWUuc2xpY2Uoc3RhcnQsIDEgPCBlbmQgPyAxIC0gZW5kIDogdm9pZCAwKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpIHtcbiAgICAgIHZhciBrZXlDb2RlID0gbmF0aXZlRXZlbnQua2V5Q29kZTtcbiAgICAgIFwiY2hhckNvZGVcIiBpbiBuYXRpdmVFdmVudFxuICAgICAgICA/ICgobmF0aXZlRXZlbnQgPSBuYXRpdmVFdmVudC5jaGFyQ29kZSksXG4gICAgICAgICAgMCA9PT0gbmF0aXZlRXZlbnQgJiYgMTMgPT09IGtleUNvZGUgJiYgKG5hdGl2ZUV2ZW50ID0gMTMpKVxuICAgICAgICA6IChuYXRpdmVFdmVudCA9IGtleUNvZGUpO1xuICAgICAgMTAgPT09IG5hdGl2ZUV2ZW50ICYmIChuYXRpdmVFdmVudCA9IDEzKTtcbiAgICAgIHJldHVybiAzMiA8PSBuYXRpdmVFdmVudCB8fCAxMyA9PT0gbmF0aXZlRXZlbnQgPyBuYXRpdmVFdmVudCA6IDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZ1bmN0aW9uVGhhdFJldHVybnNUcnVlKCkge1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmdW5jdGlvblRoYXRSZXR1cm5zRmFsc2UoKSB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVN5bnRoZXRpY0V2ZW50KEludGVyZmFjZSkge1xuICAgICAgZnVuY3Rpb24gU3ludGhldGljQmFzZUV2ZW50KFxuICAgICAgICByZWFjdE5hbWUsXG4gICAgICAgIHJlYWN0RXZlbnRUeXBlLFxuICAgICAgICB0YXJnZXRJbnN0LFxuICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9yZWFjdE5hbWUgPSByZWFjdE5hbWU7XG4gICAgICAgIHRoaXMuX3RhcmdldEluc3QgPSB0YXJnZXRJbnN0O1xuICAgICAgICB0aGlzLnR5cGUgPSByZWFjdEV2ZW50VHlwZTtcbiAgICAgICAgdGhpcy5uYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50O1xuICAgICAgICB0aGlzLnRhcmdldCA9IG5hdGl2ZUV2ZW50VGFyZ2V0O1xuICAgICAgICB0aGlzLmN1cnJlbnRUYXJnZXQgPSBudWxsO1xuICAgICAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiBJbnRlcmZhY2UpXG4gICAgICAgICAgSW50ZXJmYWNlLmhhc093blByb3BlcnR5KHByb3BOYW1lKSAmJlxuICAgICAgICAgICAgKChyZWFjdE5hbWUgPSBJbnRlcmZhY2VbcHJvcE5hbWVdKSxcbiAgICAgICAgICAgICh0aGlzW3Byb3BOYW1lXSA9IHJlYWN0TmFtZVxuICAgICAgICAgICAgICA/IHJlYWN0TmFtZShuYXRpdmVFdmVudClcbiAgICAgICAgICAgICAgOiBuYXRpdmVFdmVudFtwcm9wTmFtZV0pKTtcbiAgICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSAoXG4gICAgICAgICAgbnVsbCAhPSBuYXRpdmVFdmVudC5kZWZhdWx0UHJldmVudGVkXG4gICAgICAgICAgICA/IG5hdGl2ZUV2ZW50LmRlZmF1bHRQcmV2ZW50ZWRcbiAgICAgICAgICAgIDogITEgPT09IG5hdGl2ZUV2ZW50LnJldHVyblZhbHVlXG4gICAgICAgIClcbiAgICAgICAgICA/IGZ1bmN0aW9uVGhhdFJldHVybnNUcnVlXG4gICAgICAgICAgOiBmdW5jdGlvblRoYXRSZXR1cm5zRmFsc2U7XG4gICAgICAgIHRoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvblRoYXRSZXR1cm5zRmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuICAgICAgYXNzaWduKFN5bnRoZXRpY0Jhc2VFdmVudC5wcm90b3R5cGUsIHtcbiAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSAhMDtcbiAgICAgICAgICB2YXIgZXZlbnQgPSB0aGlzLm5hdGl2ZUV2ZW50O1xuICAgICAgICAgIGV2ZW50ICYmXG4gICAgICAgICAgICAoZXZlbnQucHJldmVudERlZmF1bHRcbiAgICAgICAgICAgICAgPyBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgIDogXCJ1bmtub3duXCIgIT09IHR5cGVvZiBldmVudC5yZXR1cm5WYWx1ZSAmJlxuICAgICAgICAgICAgICAgIChldmVudC5yZXR1cm5WYWx1ZSA9ICExKSxcbiAgICAgICAgICAgICh0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IGZ1bmN0aW9uVGhhdFJldHVybnNUcnVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBldmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgICAgICAgZXZlbnQgJiZcbiAgICAgICAgICAgIChldmVudC5zdG9wUHJvcGFnYXRpb25cbiAgICAgICAgICAgICAgPyBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgICAgICAgICAgICA6IFwidW5rbm93blwiICE9PSB0eXBlb2YgZXZlbnQuY2FuY2VsQnViYmxlICYmXG4gICAgICAgICAgICAgICAgKGV2ZW50LmNhbmNlbEJ1YmJsZSA9ICEwKSxcbiAgICAgICAgICAgICh0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gZnVuY3Rpb25UaGF0UmV0dXJuc1RydWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgcGVyc2lzdDogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIGlzUGVyc2lzdGVudDogZnVuY3Rpb25UaGF0UmV0dXJuc1RydWVcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFN5bnRoZXRpY0Jhc2VFdmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW9kaWZpZXJTdGF0ZUdldHRlcihrZXlBcmcpIHtcbiAgICAgIHZhciBuYXRpdmVFdmVudCA9IHRoaXMubmF0aXZlRXZlbnQ7XG4gICAgICByZXR1cm4gbmF0aXZlRXZlbnQuZ2V0TW9kaWZpZXJTdGF0ZVxuICAgICAgICA/IG5hdGl2ZUV2ZW50LmdldE1vZGlmaWVyU3RhdGUoa2V5QXJnKVxuICAgICAgICA6IChrZXlBcmcgPSBtb2RpZmllcktleVRvUHJvcFtrZXlBcmddKVxuICAgICAgICAgID8gISFuYXRpdmVFdmVudFtrZXlBcmddXG4gICAgICAgICAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0RXZlbnRNb2RpZmllclN0YXRlKCkge1xuICAgICAgcmV0dXJuIG1vZGlmaWVyU3RhdGVHZXR0ZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICBjYXNlIFwia2V5dXBcIjpcbiAgICAgICAgICByZXR1cm4gLTEgIT09IEVORF9LRVlDT0RFUy5pbmRleE9mKG5hdGl2ZUV2ZW50LmtleUNvZGUpO1xuICAgICAgICBjYXNlIFwia2V5ZG93blwiOlxuICAgICAgICAgIHJldHVybiBuYXRpdmVFdmVudC5rZXlDb2RlICE9PSBTVEFSVF9LRVlDT0RFO1xuICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlZG93blwiOlxuICAgICAgICBjYXNlIFwiZm9jdXNvdXRcIjpcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KSB7XG4gICAgICBuYXRpdmVFdmVudCA9IG5hdGl2ZUV2ZW50LmRldGFpbDtcbiAgICAgIHJldHVybiBcIm9iamVjdFwiID09PSB0eXBlb2YgbmF0aXZlRXZlbnQgJiYgXCJkYXRhXCIgaW4gbmF0aXZlRXZlbnRcbiAgICAgICAgPyBuYXRpdmVFdmVudC5kYXRhXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TmF0aXZlQmVmb3JlSW5wdXRDaGFycyhkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpcbiAgICAgICAgICByZXR1cm4gZ2V0RGF0YUZyb21DdXN0b21FdmVudChuYXRpdmVFdmVudCk7XG4gICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxuICAgICAgICAgIGlmIChuYXRpdmVFdmVudC53aGljaCAhPT0gU1BBQ0VCQVJfQ09ERSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgaGFzU3BhY2VLZXlwcmVzcyA9ICEwO1xuICAgICAgICAgIHJldHVybiBTUEFDRUJBUl9DSEFSO1xuICAgICAgICBjYXNlIFwidGV4dElucHV0XCI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChkb21FdmVudE5hbWUgPSBuYXRpdmVFdmVudC5kYXRhKSxcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZSA9PT0gU1BBQ0VCQVJfQ0hBUiAmJiBoYXNTcGFjZUtleXByZXNzXG4gICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICA6IGRvbUV2ZW50TmFtZVxuICAgICAgICAgICk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEZhbGxiYWNrQmVmb3JlSW5wdXRDaGFycyhkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSB7XG4gICAgICBpZiAoaXNDb21wb3NpbmcpXG4gICAgICAgIHJldHVybiBcImNvbXBvc2l0aW9uZW5kXCIgPT09IGRvbUV2ZW50TmFtZSB8fFxuICAgICAgICAgICghY2FuVXNlQ29tcG9zaXRpb25FdmVudCAmJlxuICAgICAgICAgICAgaXNGYWxsYmFja0NvbXBvc2l0aW9uRW5kKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpKVxuICAgICAgICAgID8gKChkb21FdmVudE5hbWUgPSBnZXREYXRhKCkpLFxuICAgICAgICAgICAgKGZhbGxiYWNrVGV4dCA9IHN0YXJ0VGV4dCA9IHJvb3QgPSBudWxsKSxcbiAgICAgICAgICAgIChpc0NvbXBvc2luZyA9ICExKSxcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZSlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICBjYXNlIFwicGFzdGVcIjpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSBcImtleXByZXNzXCI6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnQuY3RybEtleSB8fFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudC5hbHRLZXkgfHxcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnQubWV0YUtleVxuICAgICAgICAgICAgKSB8fFxuICAgICAgICAgICAgKG5hdGl2ZUV2ZW50LmN0cmxLZXkgJiYgbmF0aXZlRXZlbnQuYWx0S2V5KVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmNoYXIgJiYgMSA8IG5hdGl2ZUV2ZW50LmNoYXIubGVuZ3RoKVxuICAgICAgICAgICAgICByZXR1cm4gbmF0aXZlRXZlbnQuY2hhcjtcbiAgICAgICAgICAgIGlmIChuYXRpdmVFdmVudC53aGljaClcbiAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUobmF0aXZlRXZlbnQud2hpY2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uZW5kXCI6XG4gICAgICAgICAgcmV0dXJuIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhICYmIFwia29cIiAhPT0gbmF0aXZlRXZlbnQubG9jYWxlXG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogbmF0aXZlRXZlbnQuZGF0YTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXNUZXh0SW5wdXRFbGVtZW50KGVsZW0pIHtcbiAgICAgIHZhciBub2RlTmFtZSA9IGVsZW0gJiYgZWxlbS5ub2RlTmFtZSAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgICByZXR1cm4gXCJpbnB1dFwiID09PSBub2RlTmFtZVxuICAgICAgICA/ICEhc3VwcG9ydGVkSW5wdXRUeXBlc1tlbGVtLnR5cGVdXG4gICAgICAgIDogXCJ0ZXh0YXJlYVwiID09PSBub2RlTmFtZVxuICAgICAgICAgID8gITBcbiAgICAgICAgICA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0V2ZW50U3VwcG9ydGVkKGV2ZW50TmFtZVN1ZmZpeCkge1xuICAgICAgaWYgKCFjYW5Vc2VET00pIHJldHVybiAhMTtcbiAgICAgIGV2ZW50TmFtZVN1ZmZpeCA9IFwib25cIiArIGV2ZW50TmFtZVN1ZmZpeDtcbiAgICAgIHZhciBpc1N1cHBvcnRlZCA9IGV2ZW50TmFtZVN1ZmZpeCBpbiBkb2N1bWVudDtcbiAgICAgIGlzU3VwcG9ydGVkIHx8XG4gICAgICAgICgoaXNTdXBwb3J0ZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSxcbiAgICAgICAgaXNTdXBwb3J0ZWQuc2V0QXR0cmlidXRlKGV2ZW50TmFtZVN1ZmZpeCwgXCJyZXR1cm47XCIpLFxuICAgICAgICAoaXNTdXBwb3J0ZWQgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpc1N1cHBvcnRlZFtldmVudE5hbWVTdWZmaXhdKSk7XG4gICAgICByZXR1cm4gaXNTdXBwb3J0ZWQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudChcbiAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICBpbnN0LFxuICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICB0YXJnZXRcbiAgICApIHtcbiAgICAgIHJlc3RvcmVUYXJnZXRcbiAgICAgICAgPyByZXN0b3JlUXVldWVcbiAgICAgICAgICA/IHJlc3RvcmVRdWV1ZS5wdXNoKHRhcmdldClcbiAgICAgICAgICA6IChyZXN0b3JlUXVldWUgPSBbdGFyZ2V0XSlcbiAgICAgICAgOiAocmVzdG9yZVRhcmdldCA9IHRhcmdldCk7XG4gICAgICBpbnN0ID0gYWNjdW11bGF0ZVR3b1BoYXNlTGlzdGVuZXJzKGluc3QsIFwib25DaGFuZ2VcIik7XG4gICAgICAwIDwgaW5zdC5sZW5ndGggJiZcbiAgICAgICAgKChuYXRpdmVFdmVudCA9IG5ldyBTeW50aGV0aWNFdmVudChcbiAgICAgICAgICBcIm9uQ2hhbmdlXCIsXG4gICAgICAgICAgXCJjaGFuZ2VcIixcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgIHRhcmdldFxuICAgICAgICApKSxcbiAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHsgZXZlbnQ6IG5hdGl2ZUV2ZW50LCBsaXN0ZW5lcnM6IGluc3QgfSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBydW5FdmVudEluQmF0Y2goZGlzcGF0Y2hRdWV1ZSkge1xuICAgICAgcHJvY2Vzc0Rpc3BhdGNoUXVldWUoZGlzcGF0Y2hRdWV1ZSwgMCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KSB7XG4gICAgICB2YXIgdGFyZ2V0Tm9kZSA9IGdldE5vZGVGcm9tSW5zdGFuY2UodGFyZ2V0SW5zdCk7XG4gICAgICBpZiAodXBkYXRlVmFsdWVJZkNoYW5nZWQodGFyZ2V0Tm9kZSkpIHJldHVybiB0YXJnZXRJbnN0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9yQ2hhbmdlRXZlbnQoZG9tRXZlbnROYW1lLCB0YXJnZXRJbnN0KSB7XG4gICAgICBpZiAoXCJjaGFuZ2VcIiA9PT0gZG9tRXZlbnROYW1lKSByZXR1cm4gdGFyZ2V0SW5zdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcFdhdGNoaW5nRm9yVmFsdWVDaGFuZ2UoKSB7XG4gICAgICBhY3RpdmVFbGVtZW50JDEgJiZcbiAgICAgICAgKGFjdGl2ZUVsZW1lbnQkMS5kZXRhY2hFdmVudChcIm9ucHJvcGVydHljaGFuZ2VcIiwgaGFuZGxlUHJvcGVydHlDaGFuZ2UpLFxuICAgICAgICAoYWN0aXZlRWxlbWVudEluc3QkMSA9IGFjdGl2ZUVsZW1lbnQkMSA9IG51bGwpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlUHJvcGVydHlDaGFuZ2UobmF0aXZlRXZlbnQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJ2YWx1ZVwiID09PSBuYXRpdmVFdmVudC5wcm9wZXJ0eU5hbWUgJiZcbiAgICAgICAgZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKGFjdGl2ZUVsZW1lbnRJbnN0JDEpXG4gICAgICApIHtcbiAgICAgICAgdmFyIGRpc3BhdGNoUXVldWUgPSBbXTtcbiAgICAgICAgY3JlYXRlQW5kQWNjdW11bGF0ZUNoYW5nZUV2ZW50KFxuICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgYWN0aXZlRWxlbWVudEluc3QkMSxcbiAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICBnZXRFdmVudFRhcmdldChuYXRpdmVFdmVudClcbiAgICAgICAgKTtcbiAgICAgICAgYmF0Y2hlZFVwZGF0ZXMkMShydW5FdmVudEluQmF0Y2gsIGRpc3BhdGNoUXVldWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoYW5kbGVFdmVudHNGb3JJbnB1dEV2ZW50UG9seWZpbGwoXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICB0YXJnZXQsXG4gICAgICB0YXJnZXRJbnN0XG4gICAgKSB7XG4gICAgICBcImZvY3VzaW5cIiA9PT0gZG9tRXZlbnROYW1lXG4gICAgICAgID8gKHN0b3BXYXRjaGluZ0ZvclZhbHVlQ2hhbmdlKCksXG4gICAgICAgICAgKGFjdGl2ZUVsZW1lbnQkMSA9IHRhcmdldCksXG4gICAgICAgICAgKGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSB0YXJnZXRJbnN0KSxcbiAgICAgICAgICBhY3RpdmVFbGVtZW50JDEuYXR0YWNoRXZlbnQoXCJvbnByb3BlcnR5Y2hhbmdlXCIsIGhhbmRsZVByb3BlcnR5Q2hhbmdlKSlcbiAgICAgICAgOiBcImZvY3Vzb3V0XCIgPT09IGRvbUV2ZW50TmFtZSAmJiBzdG9wV2F0Y2hpbmdGb3JWYWx1ZUNoYW5nZSgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRFdmVudFBvbHlmaWxsKGRvbUV2ZW50TmFtZSkge1xuICAgICAgaWYgKFxuICAgICAgICBcInNlbGVjdGlvbmNoYW5nZVwiID09PSBkb21FdmVudE5hbWUgfHxcbiAgICAgICAgXCJrZXl1cFwiID09PSBkb21FdmVudE5hbWUgfHxcbiAgICAgICAgXCJrZXlkb3duXCIgPT09IGRvbUV2ZW50TmFtZVxuICAgICAgKVxuICAgICAgICByZXR1cm4gZ2V0SW5zdElmVmFsdWVDaGFuZ2VkKGFjdGl2ZUVsZW1lbnRJbnN0JDEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUYXJnZXRJbnN0Rm9yQ2xpY2tFdmVudChkb21FdmVudE5hbWUsIHRhcmdldEluc3QpIHtcbiAgICAgIGlmIChcImNsaWNrXCIgPT09IGRvbUV2ZW50TmFtZSkgcmV0dXJuIGdldEluc3RJZlZhbHVlQ2hhbmdlZCh0YXJnZXRJbnN0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGFyZ2V0SW5zdEZvcklucHV0T3JDaGFuZ2VFdmVudChkb21FdmVudE5hbWUsIHRhcmdldEluc3QpIHtcbiAgICAgIGlmIChcImlucHV0XCIgPT09IGRvbUV2ZW50TmFtZSB8fCBcImNoYW5nZVwiID09PSBkb21FdmVudE5hbWUpXG4gICAgICAgIHJldHVybiBnZXRJbnN0SWZWYWx1ZUNoYW5nZWQodGFyZ2V0SW5zdCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzKHgsIHkpIHtcbiAgICAgIHJldHVybiAoeCA9PT0geSAmJiAoMCAhPT0geCB8fCAxIC8geCA9PT0gMSAvIHkpKSB8fCAoeCAhPT0geCAmJiB5ICE9PSB5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hhbGxvd0VxdWFsKG9iakEsIG9iakIpIHtcbiAgICAgIGlmIChvYmplY3RJcyhvYmpBLCBvYmpCKSkgcmV0dXJuICEwO1xuICAgICAgaWYgKFxuICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2Ygb2JqQSB8fFxuICAgICAgICBudWxsID09PSBvYmpBIHx8XG4gICAgICAgIFwib2JqZWN0XCIgIT09IHR5cGVvZiBvYmpCIHx8XG4gICAgICAgIG51bGwgPT09IG9iakJcbiAgICAgIClcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMob2JqQSksXG4gICAgICAgIGtleXNCID0gT2JqZWN0LmtleXMob2JqQik7XG4gICAgICBpZiAoa2V5c0EubGVuZ3RoICE9PSBrZXlzQi5sZW5ndGgpIHJldHVybiAhMTtcbiAgICAgIGZvciAoa2V5c0IgPSAwOyBrZXlzQiA8IGtleXNBLmxlbmd0aDsga2V5c0IrKykge1xuICAgICAgICB2YXIgY3VycmVudEtleSA9IGtleXNBW2tleXNCXTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iakIsIGN1cnJlbnRLZXkpIHx8XG4gICAgICAgICAgIW9iamVjdElzKG9iakFbY3VycmVudEtleV0sIG9iakJbY3VycmVudEtleV0pXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExlYWZOb2RlKG5vZGUpIHtcbiAgICAgIGZvciAoOyBub2RlICYmIG5vZGUuZmlyc3RDaGlsZDsgKSBub2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5vZGVGb3JDaGFyYWN0ZXJPZmZzZXQocm9vdCwgb2Zmc2V0KSB7XG4gICAgICB2YXIgbm9kZSA9IGdldExlYWZOb2RlKHJvb3QpO1xuICAgICAgcm9vdCA9IDA7XG4gICAgICBmb3IgKHZhciBub2RlRW5kOyBub2RlOyApIHtcbiAgICAgICAgaWYgKDMgPT09IG5vZGUubm9kZVR5cGUpIHtcbiAgICAgICAgICBub2RlRW5kID0gcm9vdCArIG5vZGUudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgICAgIGlmIChyb290IDw9IG9mZnNldCAmJiBub2RlRW5kID49IG9mZnNldClcbiAgICAgICAgICAgIHJldHVybiB7IG5vZGU6IG5vZGUsIG9mZnNldDogb2Zmc2V0IC0gcm9vdCB9O1xuICAgICAgICAgIHJvb3QgPSBub2RlRW5kO1xuICAgICAgICB9XG4gICAgICAgIGE6IHtcbiAgICAgICAgICBmb3IgKDsgbm9kZTsgKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5uZXh0U2libGluZykge1xuICAgICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5vZGUgPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IGdldExlYWZOb2RlKG5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUpIHtcbiAgICAgIHJldHVybiBvdXRlck5vZGUgJiYgaW5uZXJOb2RlXG4gICAgICAgID8gb3V0ZXJOb2RlID09PSBpbm5lck5vZGVcbiAgICAgICAgICA/ICEwXG4gICAgICAgICAgOiBvdXRlck5vZGUgJiYgMyA9PT0gb3V0ZXJOb2RlLm5vZGVUeXBlXG4gICAgICAgICAgICA/ICExXG4gICAgICAgICAgICA6IGlubmVyTm9kZSAmJiAzID09PSBpbm5lck5vZGUubm9kZVR5cGVcbiAgICAgICAgICAgICAgPyBjb250YWluc05vZGUob3V0ZXJOb2RlLCBpbm5lck5vZGUucGFyZW50Tm9kZSlcbiAgICAgICAgICAgICAgOiBcImNvbnRhaW5zXCIgaW4gb3V0ZXJOb2RlXG4gICAgICAgICAgICAgICAgPyBvdXRlck5vZGUuY29udGFpbnMoaW5uZXJOb2RlKVxuICAgICAgICAgICAgICAgIDogb3V0ZXJOb2RlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICA/ICEhKG91dGVyTm9kZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpbm5lck5vZGUpICYgMTYpXG4gICAgICAgICAgICAgICAgICA6ICExXG4gICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEFjdGl2ZUVsZW1lbnREZWVwKGNvbnRhaW5lckluZm8pIHtcbiAgICAgIGNvbnRhaW5lckluZm8gPVxuICAgICAgICBudWxsICE9IGNvbnRhaW5lckluZm8gJiZcbiAgICAgICAgbnVsbCAhPSBjb250YWluZXJJbmZvLm93bmVyRG9jdW1lbnQgJiZcbiAgICAgICAgbnVsbCAhPSBjb250YWluZXJJbmZvLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXdcbiAgICAgICAgICA/IGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlld1xuICAgICAgICAgIDogd2luZG93O1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBnZXRBY3RpdmVFbGVtZW50KGNvbnRhaW5lckluZm8uZG9jdW1lbnQpO1xuICAgICAgICBlbGVtZW50IGluc3RhbmNlb2YgY29udGFpbmVySW5mby5IVE1MSUZyYW1lRWxlbWVudDtcblxuICAgICAgKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9XG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgZWxlbWVudC5jb250ZW50V2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgICB9XG4gICAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIGNvbnRhaW5lckluZm8gPSBlbGVtZW50LmNvbnRlbnRXaW5kb3c7XG4gICAgICAgIGVsc2UgYnJlYWs7XG4gICAgICAgIGVsZW1lbnQgPSBnZXRBY3RpdmVFbGVtZW50KGNvbnRhaW5lckluZm8uZG9jdW1lbnQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhlbGVtKSB7XG4gICAgICB2YXIgbm9kZU5hbWUgPSBlbGVtICYmIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgbm9kZU5hbWUgJiZcbiAgICAgICAgKChcImlucHV0XCIgPT09IG5vZGVOYW1lICYmXG4gICAgICAgICAgKFwidGV4dFwiID09PSBlbGVtLnR5cGUgfHxcbiAgICAgICAgICAgIFwic2VhcmNoXCIgPT09IGVsZW0udHlwZSB8fFxuICAgICAgICAgICAgXCJ0ZWxcIiA9PT0gZWxlbS50eXBlIHx8XG4gICAgICAgICAgICBcInVybFwiID09PSBlbGVtLnR5cGUgfHxcbiAgICAgICAgICAgIFwicGFzc3dvcmRcIiA9PT0gZWxlbS50eXBlKSkgfHxcbiAgICAgICAgICBcInRleHRhcmVhXCIgPT09IG5vZGVOYW1lIHx8XG4gICAgICAgICAgXCJ0cnVlXCIgPT09IGVsZW0uY29udGVudEVkaXRhYmxlKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzdG9yZVNlbGVjdGlvbihwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLCBjb250YWluZXJJbmZvKSB7XG4gICAgICB2YXIgY3VyRm9jdXNlZEVsZW0gPSBnZXRBY3RpdmVFbGVtZW50RGVlcChjb250YWluZXJJbmZvKTtcbiAgICAgIGNvbnRhaW5lckluZm8gPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLmZvY3VzZWRFbGVtO1xuICAgICAgdmFyIHByaW9yU2VsZWN0aW9uUmFuZ2UgPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uLnNlbGVjdGlvblJhbmdlO1xuICAgICAgaWYgKFxuICAgICAgICBjdXJGb2N1c2VkRWxlbSAhPT0gY29udGFpbmVySW5mbyAmJlxuICAgICAgICBjb250YWluZXJJbmZvICYmXG4gICAgICAgIGNvbnRhaW5lckluZm8ub3duZXJEb2N1bWVudCAmJlxuICAgICAgICBjb250YWluc05vZGUoY29udGFpbmVySW5mby5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgY29udGFpbmVySW5mbylcbiAgICAgICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbnVsbCAhPT0gcHJpb3JTZWxlY3Rpb25SYW5nZSAmJlxuICAgICAgICAgIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhjb250YWluZXJJbmZvKVxuICAgICAgICApXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKChwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uID0gcHJpb3JTZWxlY3Rpb25SYW5nZS5zdGFydCksXG4gICAgICAgICAgICAoY3VyRm9jdXNlZEVsZW0gPSBwcmlvclNlbGVjdGlvblJhbmdlLmVuZCksXG4gICAgICAgICAgICB2b2lkIDAgPT09IGN1ckZvY3VzZWRFbGVtICYmXG4gICAgICAgICAgICAgIChjdXJGb2N1c2VkRWxlbSA9IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24pLFxuICAgICAgICAgICAgXCJzZWxlY3Rpb25TdGFydFwiIGluIGNvbnRhaW5lckluZm8pXG4gICAgICAgICAgKVxuICAgICAgICAgICAgKGNvbnRhaW5lckluZm8uc2VsZWN0aW9uU3RhcnQgPSBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uKSxcbiAgICAgICAgICAgICAgKGNvbnRhaW5lckluZm8uc2VsZWN0aW9uRW5kID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0sXG4gICAgICAgICAgICAgICAgY29udGFpbmVySW5mby52YWx1ZS5sZW5ndGhcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAoKGN1ckZvY3VzZWRFbGVtID1cbiAgICAgICAgICAgICAgKChwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uID1cbiAgICAgICAgICAgICAgICBjb250YWluZXJJbmZvLm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQpICYmXG4gICAgICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5kZWZhdWx0VmlldykgfHxcbiAgICAgICAgICAgICAgd2luZG93KSxcbiAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmdldFNlbGVjdGlvbilcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtID0gY3VyRm9jdXNlZEVsZW0uZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gY29udGFpbmVySW5mby50ZXh0Q29udGVudC5sZW5ndGgsXG4gICAgICAgICAgICAgIHN0YXJ0ID0gTWF0aC5taW4ocHJpb3JTZWxlY3Rpb25SYW5nZS5zdGFydCwgbGVuZ3RoKTtcbiAgICAgICAgICAgIHByaW9yU2VsZWN0aW9uUmFuZ2UgPVxuICAgICAgICAgICAgICB2b2lkIDAgPT09IHByaW9yU2VsZWN0aW9uUmFuZ2UuZW5kXG4gICAgICAgICAgICAgICAgPyBzdGFydFxuICAgICAgICAgICAgICAgIDogTWF0aC5taW4ocHJpb3JTZWxlY3Rpb25SYW5nZS5lbmQsIGxlbmd0aCk7XG4gICAgICAgICAgICAhY3VyRm9jdXNlZEVsZW0uZXh0ZW5kICYmXG4gICAgICAgICAgICAgIHN0YXJ0ID4gcHJpb3JTZWxlY3Rpb25SYW5nZSAmJlxuICAgICAgICAgICAgICAoKGxlbmd0aCA9IHByaW9yU2VsZWN0aW9uUmFuZ2UpLFxuICAgICAgICAgICAgICAocHJpb3JTZWxlY3Rpb25SYW5nZSA9IHN0YXJ0KSxcbiAgICAgICAgICAgICAgKHN0YXJ0ID0gbGVuZ3RoKSk7XG4gICAgICAgICAgICBsZW5ndGggPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KGNvbnRhaW5lckluZm8sIHN0YXJ0KTtcbiAgICAgICAgICAgIHZhciBlbmRNYXJrZXIgPSBnZXROb2RlRm9yQ2hhcmFjdGVyT2Zmc2V0KFxuICAgICAgICAgICAgICBjb250YWluZXJJbmZvLFxuICAgICAgICAgICAgICBwcmlvclNlbGVjdGlvblJhbmdlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbGVuZ3RoICYmXG4gICAgICAgICAgICAgIGVuZE1hcmtlciAmJlxuICAgICAgICAgICAgICAoMSAhPT0gY3VyRm9jdXNlZEVsZW0ucmFuZ2VDb3VudCB8fFxuICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmFuY2hvck5vZGUgIT09IGxlbmd0aC5ub2RlIHx8XG4gICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uYW5jaG9yT2Zmc2V0ICE9PSBsZW5ndGgub2Zmc2V0IHx8XG4gICAgICAgICAgICAgICAgY3VyRm9jdXNlZEVsZW0uZm9jdXNOb2RlICE9PSBlbmRNYXJrZXIubm9kZSB8fFxuICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmZvY3VzT2Zmc2V0ICE9PSBlbmRNYXJrZXIub2Zmc2V0KSAmJlxuICAgICAgICAgICAgICAoKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24gPVxuICAgICAgICAgICAgICAgIHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uY3JlYXRlUmFuZ2UoKSksXG4gICAgICAgICAgICAgIHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uc2V0U3RhcnQobGVuZ3RoLm5vZGUsIGxlbmd0aC5vZmZzZXQpLFxuICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5yZW1vdmVBbGxSYW5nZXMoKSxcbiAgICAgICAgICAgICAgc3RhcnQgPiBwcmlvclNlbGVjdGlvblJhbmdlXG4gICAgICAgICAgICAgICAgPyAoY3VyRm9jdXNlZEVsZW0uYWRkUmFuZ2UocHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbiksXG4gICAgICAgICAgICAgICAgICBjdXJGb2N1c2VkRWxlbS5leHRlbmQoZW5kTWFya2VyLm5vZGUsIGVuZE1hcmtlci5vZmZzZXQpKVxuICAgICAgICAgICAgICAgIDogKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24uc2V0RW5kKFxuICAgICAgICAgICAgICAgICAgICBlbmRNYXJrZXIubm9kZSxcbiAgICAgICAgICAgICAgICAgICAgZW5kTWFya2VyLm9mZnNldFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIGN1ckZvY3VzZWRFbGVtLmFkZFJhbmdlKHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24pKSk7XG4gICAgICAgICAgfVxuICAgICAgICBwcmlvclNlbGVjdGlvbkluZm9ybWF0aW9uID0gW107XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgY3VyRm9jdXNlZEVsZW0gPSBjb250YWluZXJJbmZvO1xuICAgICAgICAgIChjdXJGb2N1c2VkRWxlbSA9IGN1ckZvY3VzZWRFbGVtLnBhcmVudE5vZGUpO1xuXG4gICAgICAgIClcbiAgICAgICAgICAxID09PSBjdXJGb2N1c2VkRWxlbS5ub2RlVHlwZSAmJlxuICAgICAgICAgICAgcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgZWxlbWVudDogY3VyRm9jdXNlZEVsZW0sXG4gICAgICAgICAgICAgIGxlZnQ6IGN1ckZvY3VzZWRFbGVtLnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgIHRvcDogY3VyRm9jdXNlZEVsZW0uc2Nyb2xsVG9wXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY29udGFpbmVySW5mby5mb2N1cyAmJiBjb250YWluZXJJbmZvLmZvY3VzKCk7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgY29udGFpbmVySW5mbyA9IDA7XG4gICAgICAgICAgY29udGFpbmVySW5mbyA8IHByaW9yU2VsZWN0aW9uSW5mb3JtYXRpb24ubGVuZ3RoO1xuICAgICAgICAgIGNvbnRhaW5lckluZm8rK1xuICAgICAgICApXG4gICAgICAgICAgKGN1ckZvY3VzZWRFbGVtID0gcHJpb3JTZWxlY3Rpb25JbmZvcm1hdGlvbltjb250YWluZXJJbmZvXSksXG4gICAgICAgICAgICAoY3VyRm9jdXNlZEVsZW0uZWxlbWVudC5zY3JvbGxMZWZ0ID0gY3VyRm9jdXNlZEVsZW0ubGVmdCksXG4gICAgICAgICAgICAoY3VyRm9jdXNlZEVsZW0uZWxlbWVudC5zY3JvbGxUb3AgPSBjdXJGb2N1c2VkRWxlbS50b3ApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb25zdHJ1Y3RTZWxlY3RFdmVudChcbiAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICBuYXRpdmVFdmVudCxcbiAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgKSB7XG4gICAgICB2YXIgZG9jID1cbiAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXQud2luZG93ID09PSBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgID8gbmF0aXZlRXZlbnRUYXJnZXQuZG9jdW1lbnRcbiAgICAgICAgICA6IDkgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0Lm5vZGVUeXBlXG4gICAgICAgICAgICA/IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICA6IG5hdGl2ZUV2ZW50VGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG4gICAgICBtb3VzZURvd24gfHxcbiAgICAgICAgbnVsbCA9PSBhY3RpdmVFbGVtZW50IHx8XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQgIT09IGdldEFjdGl2ZUVsZW1lbnQoZG9jKSB8fFxuICAgICAgICAoKGRvYyA9IGFjdGl2ZUVsZW1lbnQpLFxuICAgICAgICBcInNlbGVjdGlvblN0YXJ0XCIgaW4gZG9jICYmIGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhkb2MpXG4gICAgICAgICAgPyAoZG9jID0geyBzdGFydDogZG9jLnNlbGVjdGlvblN0YXJ0LCBlbmQ6IGRvYy5zZWxlY3Rpb25FbmQgfSlcbiAgICAgICAgICA6ICgoZG9jID0gKFxuICAgICAgICAgICAgICAoZG9jLm93bmVyRG9jdW1lbnQgJiYgZG9jLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHx8XG4gICAgICAgICAgICAgIHdpbmRvd1xuICAgICAgICAgICAgKS5nZXRTZWxlY3Rpb24oKSksXG4gICAgICAgICAgICAoZG9jID0ge1xuICAgICAgICAgICAgICBhbmNob3JOb2RlOiBkb2MuYW5jaG9yTm9kZSxcbiAgICAgICAgICAgICAgYW5jaG9yT2Zmc2V0OiBkb2MuYW5jaG9yT2Zmc2V0LFxuICAgICAgICAgICAgICBmb2N1c05vZGU6IGRvYy5mb2N1c05vZGUsXG4gICAgICAgICAgICAgIGZvY3VzT2Zmc2V0OiBkb2MuZm9jdXNPZmZzZXRcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgKGxhc3RTZWxlY3Rpb24gJiYgc2hhbGxvd0VxdWFsKGxhc3RTZWxlY3Rpb24sIGRvYykpIHx8XG4gICAgICAgICAgKChsYXN0U2VsZWN0aW9uID0gZG9jKSxcbiAgICAgICAgICAoZG9jID0gYWNjdW11bGF0ZVR3b1BoYXNlTGlzdGVuZXJzKGFjdGl2ZUVsZW1lbnRJbnN0LCBcIm9uU2VsZWN0XCIpKSxcbiAgICAgICAgICAwIDwgZG9jLmxlbmd0aCAmJlxuICAgICAgICAgICAgKChuYXRpdmVFdmVudCA9IG5ldyBTeW50aGV0aWNFdmVudChcbiAgICAgICAgICAgICAgXCJvblNlbGVjdFwiLFxuICAgICAgICAgICAgICBcInNlbGVjdFwiLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHsgZXZlbnQ6IG5hdGl2ZUV2ZW50LCBsaXN0ZW5lcnM6IGRvYyB9KSxcbiAgICAgICAgICAgIChuYXRpdmVFdmVudC50YXJnZXQgPSBhY3RpdmVFbGVtZW50KSkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFrZVByZWZpeE1hcChzdHlsZVByb3AsIGV2ZW50TmFtZSkge1xuICAgICAgdmFyIHByZWZpeGVzID0ge307XG4gICAgICBwcmVmaXhlc1tzdHlsZVByb3AudG9Mb3dlckNhc2UoKV0gPSBldmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHByZWZpeGVzW1wiV2Via2l0XCIgKyBzdHlsZVByb3BdID0gXCJ3ZWJraXRcIiArIGV2ZW50TmFtZTtcbiAgICAgIHByZWZpeGVzW1wiTW96XCIgKyBzdHlsZVByb3BdID0gXCJtb3pcIiArIGV2ZW50TmFtZTtcbiAgICAgIHJldHVybiBwcmVmaXhlcztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoZXZlbnROYW1lKSB7XG4gICAgICBpZiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0pIHJldHVybiBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXTtcbiAgICAgIGlmICghdmVuZG9yUHJlZml4ZXNbZXZlbnROYW1lXSkgcmV0dXJuIGV2ZW50TmFtZTtcbiAgICAgIHZhciBwcmVmaXhNYXAgPSB2ZW5kb3JQcmVmaXhlc1tldmVudE5hbWVdLFxuICAgICAgICBzdHlsZVByb3A7XG4gICAgICBmb3IgKHN0eWxlUHJvcCBpbiBwcmVmaXhNYXApXG4gICAgICAgIGlmIChwcmVmaXhNYXAuaGFzT3duUHJvcGVydHkoc3R5bGVQcm9wKSAmJiBzdHlsZVByb3AgaW4gc3R5bGUpXG4gICAgICAgICAgcmV0dXJuIChwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHByZWZpeE1hcFtzdHlsZVByb3BdKTtcbiAgICAgIHJldHVybiBldmVudE5hbWU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyU2ltcGxlRXZlbnQoZG9tRXZlbnROYW1lLCByZWFjdE5hbWUpIHtcbiAgICAgIHRvcExldmVsRXZlbnRzVG9SZWFjdE5hbWVzLnNldChkb21FdmVudE5hbWUsIHJlYWN0TmFtZSk7XG4gICAgICByZWdpc3RlclR3b1BoYXNlRXZlbnQocmVhY3ROYW1lLCBbZG9tRXZlbnROYW1lXSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmlzaFF1ZXVlaW5nQ29uY3VycmVudFVwZGF0ZXMoKSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgZW5kSW5kZXggPSBjb25jdXJyZW50UXVldWVzSW5kZXgsXG4gICAgICAgICAgaSA9IChjb25jdXJyZW50bHlVcGRhdGVkTGFuZXMgPSBjb25jdXJyZW50UXVldWVzSW5kZXggPSAwKTtcbiAgICAgICAgaSA8IGVuZEluZGV4O1xuXG4gICAgICApIHtcbiAgICAgICAgdmFyIGZpYmVyID0gY29uY3VycmVudFF1ZXVlc1tpXTtcbiAgICAgICAgY29uY3VycmVudFF1ZXVlc1tpKytdID0gbnVsbDtcbiAgICAgICAgdmFyIHF1ZXVlID0gY29uY3VycmVudFF1ZXVlc1tpXTtcbiAgICAgICAgY29uY3VycmVudFF1ZXVlc1tpKytdID0gbnVsbDtcbiAgICAgICAgdmFyIHVwZGF0ZSA9IGNvbmN1cnJlbnRRdWV1ZXNbaV07XG4gICAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbaSsrXSA9IG51bGw7XG4gICAgICAgIHZhciBsYW5lID0gY29uY3VycmVudFF1ZXVlc1tpXTtcbiAgICAgICAgY29uY3VycmVudFF1ZXVlc1tpKytdID0gbnVsbDtcbiAgICAgICAgaWYgKG51bGwgIT09IHF1ZXVlICYmIG51bGwgIT09IHVwZGF0ZSkge1xuICAgICAgICAgIHZhciBwZW5kaW5nID0gcXVldWUucGVuZGluZztcbiAgICAgICAgICBudWxsID09PSBwZW5kaW5nXG4gICAgICAgICAgICA/ICh1cGRhdGUubmV4dCA9IHVwZGF0ZSlcbiAgICAgICAgICAgIDogKCh1cGRhdGUubmV4dCA9IHBlbmRpbmcubmV4dCksIChwZW5kaW5nLm5leHQgPSB1cGRhdGUpKTtcbiAgICAgICAgICBxdWV1ZS5wZW5kaW5nID0gdXBkYXRlO1xuICAgICAgICB9XG4gICAgICAgIDAgIT09IGxhbmUgJiYgbWFya1VwZGF0ZUxhbmVGcm9tRmliZXJUb1Jvb3QoZmliZXIsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVVcGRhdGUkMShmaWJlciwgcXVldWUsIHVwZGF0ZSwgbGFuZSkge1xuICAgICAgY29uY3VycmVudFF1ZXVlc1tjb25jdXJyZW50UXVldWVzSW5kZXgrK10gPSBmaWJlcjtcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbY29uY3VycmVudFF1ZXVlc0luZGV4KytdID0gcXVldWU7XG4gICAgICBjb25jdXJyZW50UXVldWVzW2NvbmN1cnJlbnRRdWV1ZXNJbmRleCsrXSA9IHVwZGF0ZTtcbiAgICAgIGNvbmN1cnJlbnRRdWV1ZXNbY29uY3VycmVudFF1ZXVlc0luZGV4KytdID0gbGFuZTtcbiAgICAgIGNvbmN1cnJlbnRseVVwZGF0ZWRMYW5lcyB8PSBsYW5lO1xuICAgICAgZmliZXIubGFuZXMgfD0gbGFuZTtcbiAgICAgIGZpYmVyID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCAhPT0gZmliZXIgJiYgKGZpYmVyLmxhbmVzIHw9IGxhbmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlQ29uY3VycmVudEhvb2tVcGRhdGUoZmliZXIsIHF1ZXVlLCB1cGRhdGUsIGxhbmUpIHtcbiAgICAgIGVucXVldWVVcGRhdGUkMShmaWJlciwgcXVldWUsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICByZXR1cm4gZ2V0Um9vdEZvclVwZGF0ZWRGaWJlcihmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgbGFuZSkge1xuICAgICAgZW5xdWV1ZVVwZGF0ZSQxKGZpYmVyLCBudWxsLCBudWxsLCBsYW5lKTtcbiAgICAgIHJldHVybiBnZXRSb290Rm9yVXBkYXRlZEZpYmVyKGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1VwZGF0ZUxhbmVGcm9tRmliZXJUb1Jvb3Qoc291cmNlRmliZXIsIHVwZGF0ZSwgbGFuZSkge1xuICAgICAgc291cmNlRmliZXIubGFuZXMgfD0gbGFuZTtcbiAgICAgIHZhciBhbHRlcm5hdGUgPSBzb3VyY2VGaWJlci5hbHRlcm5hdGU7XG4gICAgICBudWxsICE9PSBhbHRlcm5hdGUgJiYgKGFsdGVybmF0ZS5sYW5lcyB8PSBsYW5lKTtcbiAgICAgIGZvciAodmFyIGlzSGlkZGVuID0gITEsIHBhcmVudCA9IHNvdXJjZUZpYmVyLnJldHVybjsgbnVsbCAhPT0gcGFyZW50OyApXG4gICAgICAgIChwYXJlbnQuY2hpbGRMYW5lcyB8PSBsYW5lKSxcbiAgICAgICAgICAoYWx0ZXJuYXRlID0gcGFyZW50LmFsdGVybmF0ZSksXG4gICAgICAgICAgbnVsbCAhPT0gYWx0ZXJuYXRlICYmIChhbHRlcm5hdGUuY2hpbGRMYW5lcyB8PSBsYW5lKSxcbiAgICAgICAgICAyMiA9PT0gcGFyZW50LnRhZyAmJlxuICAgICAgICAgICAgKChzb3VyY2VGaWJlciA9IHBhcmVudC5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgbnVsbCA9PT0gc291cmNlRmliZXIgfHxcbiAgICAgICAgICAgICAgc291cmNlRmliZXIuX3Zpc2liaWxpdHkgJiBPZmZzY3JlZW5WaXNpYmxlIHx8XG4gICAgICAgICAgICAgIChpc0hpZGRlbiA9ICEwKSksXG4gICAgICAgICAgKHNvdXJjZUZpYmVyID0gcGFyZW50KSxcbiAgICAgICAgICAocGFyZW50ID0gcGFyZW50LnJldHVybik7XG4gICAgICBpc0hpZGRlbiAmJlxuICAgICAgICBudWxsICE9PSB1cGRhdGUgJiZcbiAgICAgICAgMyA9PT0gc291cmNlRmliZXIudGFnICYmXG4gICAgICAgICgocGFyZW50ID0gc291cmNlRmliZXIuc3RhdGVOb2RlKSxcbiAgICAgICAgKGlzSGlkZGVuID0gMzEgLSBjbHozMihsYW5lKSksXG4gICAgICAgIChwYXJlbnQgPSBwYXJlbnQuaGlkZGVuVXBkYXRlcyksXG4gICAgICAgIChzb3VyY2VGaWJlciA9IHBhcmVudFtpc0hpZGRlbl0pLFxuICAgICAgICBudWxsID09PSBzb3VyY2VGaWJlclxuICAgICAgICAgID8gKHBhcmVudFtpc0hpZGRlbl0gPSBbdXBkYXRlXSlcbiAgICAgICAgICA6IHNvdXJjZUZpYmVyLnB1c2godXBkYXRlKSxcbiAgICAgICAgKHVwZGF0ZS5sYW5lID0gbGFuZSB8IDUzNjg3MDkxMikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRSb290Rm9yVXBkYXRlZEZpYmVyKHNvdXJjZUZpYmVyKSB7XG4gICAgICBpZiAobmVzdGVkVXBkYXRlQ291bnQgPiBORVNURURfVVBEQVRFX0xJTUlUKVxuICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgKChuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPSBuZXN0ZWRVcGRhdGVDb3VudCA9IDApLFxuICAgICAgICAgIChyb290V2l0aFBhc3NpdmVOZXN0ZWRVcGRhdGVzID0gcm9vdFdpdGhOZXN0ZWRVcGRhdGVzID0gbnVsbCksXG4gICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICBcIk1heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkLiBUaGlzIGNhbiBoYXBwZW4gd2hlbiBhIGNvbXBvbmVudCByZXBlYXRlZGx5IGNhbGxzIHNldFN0YXRlIGluc2lkZSBjb21wb25lbnRXaWxsVXBkYXRlIG9yIGNvbXBvbmVudERpZFVwZGF0ZS4gUmVhY3QgbGltaXRzIHRoZSBudW1iZXIgb2YgbmVzdGVkIHVwZGF0ZXMgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wcy5cIlxuICAgICAgICAgICkpXG4gICAgICAgICk7XG4gICAgICBuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPiBORVNURURfUEFTU0lWRV9VUERBVEVfTElNSVQgJiZcbiAgICAgICAgKChuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPSAwKSxcbiAgICAgICAgKHJvb3RXaXRoUGFzc2l2ZU5lc3RlZFVwZGF0ZXMgPSBudWxsKSxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIk1heGltdW0gdXBkYXRlIGRlcHRoIGV4Y2VlZGVkLiBUaGlzIGNhbiBoYXBwZW4gd2hlbiBhIGNvbXBvbmVudCBjYWxscyBzZXRTdGF0ZSBpbnNpZGUgdXNlRWZmZWN0LCBidXQgdXNlRWZmZWN0IGVpdGhlciBkb2Vzbid0IGhhdmUgYSBkZXBlbmRlbmN5IGFycmF5LCBvciBvbmUgb2YgdGhlIGRlcGVuZGVuY2llcyBjaGFuZ2VzIG9uIGV2ZXJ5IHJlbmRlci5cIlxuICAgICAgICApKTtcbiAgICAgIG51bGwgPT09IHNvdXJjZUZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAwICE9PSAoc291cmNlRmliZXIuZmxhZ3MgJiA0MDk4KSAmJlxuICAgICAgICB3YXJuQWJvdXRVcGRhdGVPbk5vdFlldE1vdW50ZWRGaWJlckluREVWKHNvdXJjZUZpYmVyKTtcbiAgICAgIGZvciAodmFyIG5vZGUgPSBzb3VyY2VGaWJlciwgcGFyZW50ID0gbm9kZS5yZXR1cm47IG51bGwgIT09IHBhcmVudDsgKVxuICAgICAgICBudWxsID09PSBub2RlLmFsdGVybmF0ZSAmJlxuICAgICAgICAgIDAgIT09IChub2RlLmZsYWdzICYgNDA5OCkgJiZcbiAgICAgICAgICB3YXJuQWJvdXRVcGRhdGVPbk5vdFlldE1vdW50ZWRGaWJlckluREVWKHNvdXJjZUZpYmVyKSxcbiAgICAgICAgICAobm9kZSA9IHBhcmVudCksXG4gICAgICAgICAgKHBhcmVudCA9IG5vZGUucmV0dXJuKTtcbiAgICAgIHJldHVybiAzID09PSBub2RlLnRhZyA/IG5vZGUuc3RhdGVOb2RlIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKHR5cGUpIHtcbiAgICAgIGlmIChudWxsID09PSByZXNvbHZlRmFtaWx5KSByZXR1cm4gdHlwZTtcbiAgICAgIHZhciBmYW1pbHkgPSByZXNvbHZlRmFtaWx5KHR5cGUpO1xuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZmFtaWx5ID8gdHlwZSA6IGZhbWlseS5jdXJyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlRm9yd2FyZFJlZkZvckhvdFJlbG9hZGluZyh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PT0gcmVzb2x2ZUZhbWlseSkgcmV0dXJuIHR5cGU7XG4gICAgICB2YXIgZmFtaWx5ID0gcmVzb2x2ZUZhbWlseSh0eXBlKTtcbiAgICAgIHJldHVybiB2b2lkIDAgPT09IGZhbWlseVxuICAgICAgICA/IG51bGwgIT09IHR5cGUgJiZcbiAgICAgICAgICB2b2lkIDAgIT09IHR5cGUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlLnJlbmRlciAmJlxuICAgICAgICAgICgoZmFtaWx5ID0gcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKHR5cGUucmVuZGVyKSksXG4gICAgICAgICAgdHlwZS5yZW5kZXIgIT09IGZhbWlseSlcbiAgICAgICAgICA/ICgoZmFtaWx5ID0geyAkJHR5cGVvZjogUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSwgcmVuZGVyOiBmYW1pbHkgfSksXG4gICAgICAgICAgICB2b2lkIDAgIT09IHR5cGUuZGlzcGxheU5hbWUgJiZcbiAgICAgICAgICAgICAgKGZhbWlseS5kaXNwbGF5TmFtZSA9IHR5cGUuZGlzcGxheU5hbWUpLFxuICAgICAgICAgICAgZmFtaWx5KVxuICAgICAgICAgIDogdHlwZVxuICAgICAgICA6IGZhbWlseS5jdXJyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc0NvbXBhdGlibGVGYW1pbHlGb3JIb3RSZWxvYWRpbmcoZmliZXIsIGVsZW1lbnQpIHtcbiAgICAgIGlmIChudWxsID09PSByZXNvbHZlRmFtaWx5KSByZXR1cm4gITE7XG4gICAgICB2YXIgcHJldlR5cGUgPSBmaWJlci5lbGVtZW50VHlwZTtcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnR5cGU7XG4gICAgICB2YXIgbmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMSxcbiAgICAgICAgJCR0eXBlb2ZOZXh0VHlwZSA9XG4gICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVsZW1lbnQgJiYgbnVsbCAhPT0gZWxlbWVudFxuICAgICAgICAgICAgPyBlbGVtZW50LiQkdHlwZW9mXG4gICAgICAgICAgICA6IG51bGw7XG4gICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZWxlbWVudCAmJiAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBlbGVtZW50XG4gICAgICAgICAgICA/IChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKVxuICAgICAgICAgICAgOiAkJHR5cGVvZk5leHRUeXBlID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAgICAgKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEVcbiAgICAgICAgICAgID8gKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApXG4gICAgICAgICAgICA6ICQkdHlwZW9mTmV4dFR5cGUgPT09IFJFQUNUX0xBWllfVFlQRSAmJlxuICAgICAgICAgICAgICAobmVlZHNDb21wYXJlRmFtaWxpZXMgPSAhMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgJCR0eXBlb2ZOZXh0VHlwZSA9PT0gUkVBQ1RfTUVNT19UWVBFXG4gICAgICAgICAgICA/IChuZWVkc0NvbXBhcmVGYW1pbGllcyA9ICEwKVxuICAgICAgICAgICAgOiAkJHR5cGVvZk5leHRUeXBlID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAgICAgKG5lZWRzQ29tcGFyZUZhbWlsaWVzID0gITApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZWVkc0NvbXBhcmVGYW1pbGllcyAmJlxuICAgICAgICAoKGZpYmVyID0gcmVzb2x2ZUZhbWlseShwcmV2VHlwZSkpLFxuICAgICAgICB2b2lkIDAgIT09IGZpYmVyICYmIGZpYmVyID09PSByZXNvbHZlRmFtaWx5KGVsZW1lbnQpKVxuICAgICAgICA/ICEwXG4gICAgICAgIDogITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtGYWlsZWRFcnJvckJvdW5kYXJ5Rm9ySG90UmVsb2FkaW5nKGZpYmVyKSB7XG4gICAgICBudWxsICE9PSByZXNvbHZlRmFtaWx5ICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtTZXQgJiZcbiAgICAgICAgKG51bGwgPT09IGZhaWxlZEJvdW5kYXJpZXMgJiYgKGZhaWxlZEJvdW5kYXJpZXMgPSBuZXcgV2Vha1NldCgpKSxcbiAgICAgICAgZmFpbGVkQm91bmRhcmllcy5hZGQoZmliZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVGaWJlcnNXaXRoRmFtaWxpZXNSZWN1cnNpdmVseShcbiAgICAgIGZpYmVyLFxuICAgICAgdXBkYXRlZEZhbWlsaWVzLFxuICAgICAgc3RhbGVGYW1pbGllc1xuICAgICkge1xuICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZSxcbiAgICAgICAgY2hpbGQgPSBmaWJlci5jaGlsZCxcbiAgICAgICAgc2libGluZyA9IGZpYmVyLnNpYmxpbmcsXG4gICAgICAgIHRhZyA9IGZpYmVyLnRhZyxcbiAgICAgICAgdHlwZSA9IGZpYmVyLnR5cGUsXG4gICAgICAgIGNhbmRpZGF0ZVR5cGUgPSBudWxsO1xuICAgICAgc3dpdGNoICh0YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgY2FuZGlkYXRlVHlwZSA9IHR5cGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgY2FuZGlkYXRlVHlwZSA9IHR5cGUucmVuZGVyO1xuICAgICAgfVxuICAgICAgaWYgKG51bGwgPT09IHJlc29sdmVGYW1pbHkpXG4gICAgICAgIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgcmVzb2x2ZUZhbWlseSB0byBiZSBzZXQgZHVyaW5nIGhvdCByZWxvYWQuXCIpO1xuICAgICAgdmFyIG5lZWRzUmVuZGVyID0gITE7XG4gICAgICB0eXBlID0gITE7XG4gICAgICBudWxsICE9PSBjYW5kaWRhdGVUeXBlICYmXG4gICAgICAgICgoY2FuZGlkYXRlVHlwZSA9IHJlc29sdmVGYW1pbHkoY2FuZGlkYXRlVHlwZSkpLFxuICAgICAgICB2b2lkIDAgIT09IGNhbmRpZGF0ZVR5cGUgJiZcbiAgICAgICAgICAoc3RhbGVGYW1pbGllcy5oYXMoY2FuZGlkYXRlVHlwZSlcbiAgICAgICAgICAgID8gKHR5cGUgPSAhMClcbiAgICAgICAgICAgIDogdXBkYXRlZEZhbWlsaWVzLmhhcyhjYW5kaWRhdGVUeXBlKSAmJlxuICAgICAgICAgICAgICAoMSA9PT0gdGFnID8gKHR5cGUgPSAhMCkgOiAobmVlZHNSZW5kZXIgPSAhMCkpKSk7XG4gICAgICBudWxsICE9PSBmYWlsZWRCb3VuZGFyaWVzICYmXG4gICAgICAgIChmYWlsZWRCb3VuZGFyaWVzLmhhcyhmaWJlcikgfHxcbiAgICAgICAgICAobnVsbCAhPT0gYWx0ZXJuYXRlICYmIGZhaWxlZEJvdW5kYXJpZXMuaGFzKGFsdGVybmF0ZSkpKSAmJlxuICAgICAgICAodHlwZSA9ICEwKTtcbiAgICAgIHR5cGUgJiYgKGZpYmVyLl9kZWJ1Z05lZWRzUmVtb3VudCA9ICEwKTtcbiAgICAgIGlmICh0eXBlIHx8IG5lZWRzUmVuZGVyKVxuICAgICAgICAoYWx0ZXJuYXRlID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKSksXG4gICAgICAgICAgbnVsbCAhPT0gYWx0ZXJuYXRlICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihhbHRlcm5hdGUsIGZpYmVyLCAyKTtcbiAgICAgIG51bGwgPT09IGNoaWxkIHx8XG4gICAgICAgIHR5cGUgfHxcbiAgICAgICAgc2NoZWR1bGVGaWJlcnNXaXRoRmFtaWxpZXNSZWN1cnNpdmVseShcbiAgICAgICAgICBjaGlsZCxcbiAgICAgICAgICB1cGRhdGVkRmFtaWxpZXMsXG4gICAgICAgICAgc3RhbGVGYW1pbGllc1xuICAgICAgICApO1xuICAgICAgbnVsbCAhPT0gc2libGluZyAmJlxuICAgICAgICBzY2hlZHVsZUZpYmVyc1dpdGhGYW1pbGllc1JlY3Vyc2l2ZWx5KFxuICAgICAgICAgIHNpYmxpbmcsXG4gICAgICAgICAgdXBkYXRlZEZhbWlsaWVzLFxuICAgICAgICAgIHN0YWxlRmFtaWxpZXNcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpIHtcbiAgICAgIHZhciBwcmV2RWZmZWN0RHVyYXRpb24gPSBwcm9maWxlckVmZmVjdER1cmF0aW9uO1xuICAgICAgcHJvZmlsZXJFZmZlY3REdXJhdGlvbiA9IDA7XG4gICAgICByZXR1cm4gcHJldkVmZmVjdER1cmF0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKSB7XG4gICAgICB2YXIgZWxhcHNlZFRpbWUgPSBwcm9maWxlckVmZmVjdER1cmF0aW9uO1xuICAgICAgcHJvZmlsZXJFZmZlY3REdXJhdGlvbiA9IHByZXZFZmZlY3REdXJhdGlvbjtcbiAgICAgIHJldHVybiBlbGFwc2VkVGltZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYnViYmxlTmVzdGVkRWZmZWN0RHVyYXRpb25zKHByZXZFZmZlY3REdXJhdGlvbikge1xuICAgICAgdmFyIGVsYXBzZWRUaW1lID0gcHJvZmlsZXJFZmZlY3REdXJhdGlvbjtcbiAgICAgIHByb2ZpbGVyRWZmZWN0RHVyYXRpb24gKz0gcHJldkVmZmVjdER1cmF0aW9uO1xuICAgICAgcmV0dXJuIGVsYXBzZWRUaW1lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydFByb2ZpbGVyVGltZXIoZmliZXIpIHtcbiAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gbm93KCk7XG4gICAgICAwID4gZmliZXIuYWN0dWFsU3RhcnRUaW1lICYmIChmaWJlci5hY3R1YWxTdGFydFRpbWUgPSBwcm9maWxlclN0YXJ0VGltZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkRHVyYXRpb24oZmliZXIpIHtcbiAgICAgIGlmICgwIDw9IHByb2ZpbGVyU3RhcnRUaW1lKSB7XG4gICAgICAgIHZhciBlbGFwc2VkVGltZSA9IG5vdygpIC0gcHJvZmlsZXJTdGFydFRpbWU7XG4gICAgICAgIGZpYmVyLmFjdHVhbER1cmF0aW9uICs9IGVsYXBzZWRUaW1lO1xuICAgICAgICBmaWJlci5zZWxmQmFzZUR1cmF0aW9uID0gZWxhcHNlZFRpbWU7XG4gICAgICAgIHByb2ZpbGVyU3RhcnRUaW1lID0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkSW5jb21wbGV0ZUR1cmF0aW9uKGZpYmVyKSB7XG4gICAgICBpZiAoMCA8PSBwcm9maWxlclN0YXJ0VGltZSkge1xuICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBub3coKSAtIHByb2ZpbGVyU3RhcnRUaW1lO1xuICAgICAgICBmaWJlci5hY3R1YWxEdXJhdGlvbiArPSBlbGFwc2VkVGltZTtcbiAgICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjb3JkRWZmZWN0RHVyYXRpb24oKSB7XG4gICAgICBpZiAoMCA8PSBwcm9maWxlclN0YXJ0VGltZSkge1xuICAgICAgICB2YXIgZWxhcHNlZFRpbWUgPSBub3coKSAtIHByb2ZpbGVyU3RhcnRUaW1lO1xuICAgICAgICBwcm9maWxlclN0YXJ0VGltZSA9IC0xO1xuICAgICAgICBwcm9maWxlckVmZmVjdER1cmF0aW9uICs9IGVsYXBzZWRUaW1lO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydEVmZmVjdFRpbWVyKCkge1xuICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSBub3coKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhbnNmZXJBY3R1YWxEdXJhdGlvbihmaWJlcikge1xuICAgICAgZm9yICh2YXIgY2hpbGQgPSBmaWJlci5jaGlsZDsgY2hpbGQ7IClcbiAgICAgICAgKGZpYmVyLmFjdHVhbER1cmF0aW9uICs9IGNoaWxkLmFjdHVhbER1cmF0aW9uKSwgKGNoaWxkID0gY2hpbGQuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKHZhbHVlLCBzb3VyY2UpIHtcbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdmFsdWUgJiYgbnVsbCAhPT0gdmFsdWUpIHtcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gQ2FwdHVyZWRTdGFja3MuZ2V0KHZhbHVlKTtcbiAgICAgICAgaWYgKHZvaWQgMCAhPT0gZXhpc3RpbmcpIHJldHVybiBleGlzdGluZztcbiAgICAgICAgc291cmNlID0ge1xuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgICBzdGFjazogZ2V0U3RhY2tCeUZpYmVySW5EZXZBbmRQcm9kKHNvdXJjZSlcbiAgICAgICAgfTtcbiAgICAgICAgQ2FwdHVyZWRTdGFja3Muc2V0KHZhbHVlLCBzb3VyY2UpO1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBzb3VyY2U6IHNvdXJjZSxcbiAgICAgICAgc3RhY2s6IGdldFN0YWNrQnlGaWJlckluRGV2QW5kUHJvZChzb3VyY2UpXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoVHJlZUZvcmsod29ya0luUHJvZ3Jlc3MsIHRvdGFsQ2hpbGRyZW4pIHtcbiAgICAgIHdhcm5JZk5vdEh5ZHJhdGluZygpO1xuICAgICAgZm9ya1N0YWNrW2ZvcmtTdGFja0luZGV4KytdID0gdHJlZUZvcmtDb3VudDtcbiAgICAgIGZvcmtTdGFja1tmb3JrU3RhY2tJbmRleCsrXSA9IHRyZWVGb3JrUHJvdmlkZXI7XG4gICAgICB0cmVlRm9ya1Byb3ZpZGVyID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICB0cmVlRm9ya0NvdW50ID0gdG90YWxDaGlsZHJlbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFRyZWVJZCh3b3JrSW5Qcm9ncmVzcywgdG90YWxDaGlsZHJlbiwgaW5kZXgpIHtcbiAgICAgIHdhcm5JZk5vdEh5ZHJhdGluZygpO1xuICAgICAgaWRTdGFja1tpZFN0YWNrSW5kZXgrK10gPSB0cmVlQ29udGV4dElkO1xuICAgICAgaWRTdGFja1tpZFN0YWNrSW5kZXgrK10gPSB0cmVlQ29udGV4dE92ZXJmbG93O1xuICAgICAgaWRTdGFja1tpZFN0YWNrSW5kZXgrK10gPSB0cmVlQ29udGV4dFByb3ZpZGVyO1xuICAgICAgdHJlZUNvbnRleHRQcm92aWRlciA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgdmFyIGJhc2VJZFdpdGhMZWFkaW5nQml0ID0gdHJlZUNvbnRleHRJZDtcbiAgICAgIHdvcmtJblByb2dyZXNzID0gdHJlZUNvbnRleHRPdmVyZmxvdztcbiAgICAgIHZhciBiYXNlTGVuZ3RoID0gMzIgLSBjbHozMihiYXNlSWRXaXRoTGVhZGluZ0JpdCkgLSAxO1xuICAgICAgYmFzZUlkV2l0aExlYWRpbmdCaXQgJj0gfigxIDw8IGJhc2VMZW5ndGgpO1xuICAgICAgaW5kZXggKz0gMTtcbiAgICAgIHZhciBsZW5ndGggPSAzMiAtIGNsejMyKHRvdGFsQ2hpbGRyZW4pICsgYmFzZUxlbmd0aDtcbiAgICAgIGlmICgzMCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgbnVtYmVyT2ZPdmVyZmxvd0JpdHMgPSBiYXNlTGVuZ3RoIC0gKGJhc2VMZW5ndGggJSA1KTtcbiAgICAgICAgbGVuZ3RoID0gKFxuICAgICAgICAgIGJhc2VJZFdpdGhMZWFkaW5nQml0ICZcbiAgICAgICAgICAoKDEgPDwgbnVtYmVyT2ZPdmVyZmxvd0JpdHMpIC0gMSlcbiAgICAgICAgKS50b1N0cmluZygzMik7XG4gICAgICAgIGJhc2VJZFdpdGhMZWFkaW5nQml0ID4+PSBudW1iZXJPZk92ZXJmbG93Qml0cztcbiAgICAgICAgYmFzZUxlbmd0aCAtPSBudW1iZXJPZk92ZXJmbG93Qml0cztcbiAgICAgICAgdHJlZUNvbnRleHRJZCA9XG4gICAgICAgICAgKDEgPDwgKDMyIC0gY2x6MzIodG90YWxDaGlsZHJlbikgKyBiYXNlTGVuZ3RoKSkgfFxuICAgICAgICAgIChpbmRleCA8PCBiYXNlTGVuZ3RoKSB8XG4gICAgICAgICAgYmFzZUlkV2l0aExlYWRpbmdCaXQ7XG4gICAgICAgIHRyZWVDb250ZXh0T3ZlcmZsb3cgPSBsZW5ndGggKyB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIH0gZWxzZVxuICAgICAgICAodHJlZUNvbnRleHRJZCA9XG4gICAgICAgICAgKDEgPDwgbGVuZ3RoKSB8IChpbmRleCA8PCBiYXNlTGVuZ3RoKSB8IGJhc2VJZFdpdGhMZWFkaW5nQml0KSxcbiAgICAgICAgICAodHJlZUNvbnRleHRPdmVyZmxvdyA9IHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaE1hdGVyaWFsaXplZFRyZWVJZCh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgd2FybklmTm90SHlkcmF0aW5nKCk7XG4gICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5yZXR1cm4gJiZcbiAgICAgICAgKHB1c2hUcmVlRm9yayh3b3JrSW5Qcm9ncmVzcywgMSksIHB1c2hUcmVlSWQod29ya0luUHJvZ3Jlc3MsIDEsIDApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wVHJlZUNvbnRleHQod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIGZvciAoOyB3b3JrSW5Qcm9ncmVzcyA9PT0gdHJlZUZvcmtQcm92aWRlcjsgKVxuICAgICAgICAodHJlZUZvcmtQcm92aWRlciA9IGZvcmtTdGFja1stLWZvcmtTdGFja0luZGV4XSksXG4gICAgICAgICAgKGZvcmtTdGFja1tmb3JrU3RhY2tJbmRleF0gPSBudWxsKSxcbiAgICAgICAgICAodHJlZUZvcmtDb3VudCA9IGZvcmtTdGFja1stLWZvcmtTdGFja0luZGV4XSksXG4gICAgICAgICAgKGZvcmtTdGFja1tmb3JrU3RhY2tJbmRleF0gPSBudWxsKTtcbiAgICAgIGZvciAoOyB3b3JrSW5Qcm9ncmVzcyA9PT0gdHJlZUNvbnRleHRQcm92aWRlcjsgKVxuICAgICAgICAodHJlZUNvbnRleHRQcm92aWRlciA9IGlkU3RhY2tbLS1pZFN0YWNrSW5kZXhdKSxcbiAgICAgICAgICAoaWRTdGFja1tpZFN0YWNrSW5kZXhdID0gbnVsbCksXG4gICAgICAgICAgKHRyZWVDb250ZXh0T3ZlcmZsb3cgPSBpZFN0YWNrWy0taWRTdGFja0luZGV4XSksXG4gICAgICAgICAgKGlkU3RhY2tbaWRTdGFja0luZGV4XSA9IG51bGwpLFxuICAgICAgICAgICh0cmVlQ29udGV4dElkID0gaWRTdGFja1stLWlkU3RhY2tJbmRleF0pLFxuICAgICAgICAgIChpZFN0YWNrW2lkU3RhY2tJbmRleF0gPSBudWxsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybklmTm90SHlkcmF0aW5nKCkge1xuICAgICAgaXNIeWRyYXRpbmcgfHxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIHRvIGJlIGh5ZHJhdGluZy4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYnVpbGRIeWRyYXRpb25EaWZmTm9kZShmaWJlciwgZGlzdGFuY2VGcm9tTGVhZikge1xuICAgICAgaWYgKG51bGwgPT09IGZpYmVyLnJldHVybikge1xuICAgICAgICBpZiAobnVsbCA9PT0gaHlkcmF0aW9uRGlmZlJvb3RERVYpXG4gICAgICAgICAgaHlkcmF0aW9uRGlmZlJvb3RERVYgPSB7XG4gICAgICAgICAgICBmaWJlcjogZmliZXIsXG4gICAgICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgICAgICBzZXJ2ZXJQcm9wczogdm9pZCAwLFxuICAgICAgICAgICAgc2VydmVyVGFpbDogW10sXG4gICAgICAgICAgICBkaXN0YW5jZUZyb21MZWFmOiBkaXN0YW5jZUZyb21MZWFmXG4gICAgICAgICAgfTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKGh5ZHJhdGlvbkRpZmZSb290REVWLmZpYmVyICE9PSBmaWJlcilcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIlNhdyBtdWx0aXBsZSBoeWRyYXRpb24gZGlmZiByb290cyBpbiBhIHBhc3MuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaHlkcmF0aW9uRGlmZlJvb3RERVYuZGlzdGFuY2VGcm9tTGVhZiA+IGRpc3RhbmNlRnJvbUxlYWYgJiZcbiAgICAgICAgICAgIChoeWRyYXRpb25EaWZmUm9vdERFVi5kaXN0YW5jZUZyb21MZWFmID0gZGlzdGFuY2VGcm9tTGVhZik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGh5ZHJhdGlvbkRpZmZSb290REVWO1xuICAgICAgfVxuICAgICAgdmFyIHNpYmxpbmdzID0gYnVpbGRIeWRyYXRpb25EaWZmTm9kZShcbiAgICAgICAgZmliZXIucmV0dXJuLFxuICAgICAgICBkaXN0YW5jZUZyb21MZWFmICsgMVxuICAgICAgKS5jaGlsZHJlbjtcbiAgICAgIGlmICgwIDwgc2libGluZ3MubGVuZ3RoICYmIHNpYmxpbmdzW3NpYmxpbmdzLmxlbmd0aCAtIDFdLmZpYmVyID09PSBmaWJlcilcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoc2libGluZ3MgPSBzaWJsaW5nc1tzaWJsaW5ncy5sZW5ndGggLSAxXSksXG4gICAgICAgICAgc2libGluZ3MuZGlzdGFuY2VGcm9tTGVhZiA+IGRpc3RhbmNlRnJvbUxlYWYgJiZcbiAgICAgICAgICAgIChzaWJsaW5ncy5kaXN0YW5jZUZyb21MZWFmID0gZGlzdGFuY2VGcm9tTGVhZiksXG4gICAgICAgICAgc2libGluZ3NcbiAgICAgICAgKTtcbiAgICAgIGRpc3RhbmNlRnJvbUxlYWYgPSB7XG4gICAgICAgIGZpYmVyOiBmaWJlcixcbiAgICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgICBzZXJ2ZXJQcm9wczogdm9pZCAwLFxuICAgICAgICBzZXJ2ZXJUYWlsOiBbXSxcbiAgICAgICAgZGlzdGFuY2VGcm9tTGVhZjogZGlzdGFuY2VGcm9tTGVhZlxuICAgICAgfTtcbiAgICAgIHNpYmxpbmdzLnB1c2goZGlzdGFuY2VGcm9tTGVhZik7XG4gICAgICByZXR1cm4gZGlzdGFuY2VGcm9tTGVhZjtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk5vbkh5ZHJhdGVkSW5zdGFuY2UoZmliZXIsIHJlamVjdGVkQ2FuZGlkYXRlKSB7XG4gICAgICBkaWRTdXNwZW5kT3JFcnJvckRFViB8fFxuICAgICAgICAoKGZpYmVyID0gYnVpbGRIeWRyYXRpb25EaWZmTm9kZShmaWJlciwgMCkpLFxuICAgICAgICAoZmliZXIuc2VydmVyUHJvcHMgPSBudWxsKSxcbiAgICAgICAgbnVsbCAhPT0gcmVqZWN0ZWRDYW5kaWRhdGUgJiZcbiAgICAgICAgICAoKHJlamVjdGVkQ2FuZGlkYXRlID1cbiAgICAgICAgICAgIGRlc2NyaWJlSHlkcmF0YWJsZUluc3RhbmNlRm9yRGV2V2FybmluZ3MocmVqZWN0ZWRDYW5kaWRhdGUpKSxcbiAgICAgICAgICBmaWJlci5zZXJ2ZXJUYWlsLnB1c2gocmVqZWN0ZWRDYW5kaWRhdGUpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRocm93T25IeWRyYXRpb25NaXNtYXRjaChmaWJlcikge1xuICAgICAgdmFyIGRpZmYgPSBcIlwiLFxuICAgICAgICBkaWZmUm9vdCA9IGh5ZHJhdGlvbkRpZmZSb290REVWO1xuICAgICAgbnVsbCAhPT0gZGlmZlJvb3QgJiZcbiAgICAgICAgKChoeWRyYXRpb25EaWZmUm9vdERFViA9IG51bGwpLCAoZGlmZiA9IGRlc2NyaWJlRGlmZihkaWZmUm9vdCkpKTtcbiAgICAgIHF1ZXVlSHlkcmF0aW9uRXJyb3IoXG4gICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKFxuICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgXCJIeWRyYXRpb24gZmFpbGVkIGJlY2F1c2UgdGhlIHNlcnZlciByZW5kZXJlZCBIVE1MIGRpZG4ndCBtYXRjaCB0aGUgY2xpZW50LiBBcyBhIHJlc3VsdCB0aGlzIHRyZWUgd2lsbCBiZSByZWdlbmVyYXRlZCBvbiB0aGUgY2xpZW50LiBUaGlzIGNhbiBoYXBwZW4gaWYgYSBTU1ItZWQgQ2xpZW50IENvbXBvbmVudCB1c2VkOlxcblxcbi0gQSBzZXJ2ZXIvY2xpZW50IGJyYW5jaCBgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKWAuXFxuLSBWYXJpYWJsZSBpbnB1dCBzdWNoIGFzIGBEYXRlLm5vdygpYCBvciBgTWF0aC5yYW5kb20oKWAgd2hpY2ggY2hhbmdlcyBlYWNoIHRpbWUgaXQncyBjYWxsZWQuXFxuLSBEYXRlIGZvcm1hdHRpbmcgaW4gYSB1c2VyJ3MgbG9jYWxlIHdoaWNoIGRvZXNuJ3QgbWF0Y2ggdGhlIHNlcnZlci5cXG4tIEV4dGVybmFsIGNoYW5naW5nIGRhdGEgd2l0aG91dCBzZW5kaW5nIGEgc25hcHNob3Qgb2YgaXQgYWxvbmcgd2l0aCB0aGUgSFRNTC5cXG4tIEludmFsaWQgSFRNTCB0YWcgbmVzdGluZy5cXG5cXG5JdCBjYW4gYWxzbyBoYXBwZW4gaWYgdGhlIGNsaWVudCBoYXMgYSBicm93c2VyIGV4dGVuc2lvbiBpbnN0YWxsZWQgd2hpY2ggbWVzc2VzIHdpdGggdGhlIEhUTUwgYmVmb3JlIFJlYWN0IGxvYWRlZC5cXG5cXG5odHRwczovL3JlYWN0LmRldi9saW5rL2h5ZHJhdGlvbi1taXNtYXRjaFwiICtcbiAgICAgICAgICAgICAgZGlmZlxuICAgICAgICAgICksXG4gICAgICAgICAgZmliZXJcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHRocm93IEh5ZHJhdGlvbk1pc21hdGNoRXhjZXB0aW9uO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVwYXJlVG9IeWRyYXRlSG9zdEluc3RhbmNlKGZpYmVyKSB7XG4gICAgICB2YXIgZGlkSHlkcmF0ZSA9IGZpYmVyLnN0YXRlTm9kZTtcbiAgICAgIHZhciB0eXBlID0gZmliZXIudHlwZSxcbiAgICAgICAgcHJvcHMgPSBmaWJlci5tZW1vaXplZFByb3BzO1xuICAgICAgZGlkSHlkcmF0ZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IGZpYmVyO1xuICAgICAgZGlkSHlkcmF0ZVtpbnRlcm5hbFByb3BzS2V5XSA9IHByb3BzO1xuICAgICAgdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0eXBlLCBwcm9wcyk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImRpYWxvZ1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJjYW5jZWxcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImNsb3NlXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaWZyYW1lXCI6XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgY2FzZSBcImVtYmVkXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImxvYWRcIiwgZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICBjYXNlIFwiYXVkaW9cIjpcbiAgICAgICAgICBmb3IgKHR5cGUgPSAwOyB0eXBlIDwgbWVkaWFFdmVudFR5cGVzLmxlbmd0aDsgdHlwZSsrKVxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChtZWRpYUV2ZW50VHlwZXNbdHlwZV0sIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic291cmNlXCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImVycm9yXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJlcnJvclwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkaWRIeWRyYXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRldGFpbHNcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwidG9nZ2xlXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwiaW5wdXRcIiwgcHJvcHMpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIHZhbGlkYXRlSW5wdXRQcm9wcyhkaWRIeWRyYXRlLCBwcm9wcyk7XG4gICAgICAgICAgaW5pdElucHV0KFxuICAgICAgICAgICAgZGlkSHlkcmF0ZSxcbiAgICAgICAgICAgIHByb3BzLnZhbHVlLFxuICAgICAgICAgICAgcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgcHJvcHMuY2hlY2tlZCxcbiAgICAgICAgICAgIHByb3BzLmRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgcHJvcHMudHlwZSxcbiAgICAgICAgICAgIHByb3BzLm5hbWUsXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICAgICAgdHJhY2soZGlkSHlkcmF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvcHRpb25cIjpcbiAgICAgICAgICB2YWxpZGF0ZU9wdGlvblByb3BzKGRpZEh5ZHJhdGUsIHByb3BzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgIGNoZWNrQ29udHJvbGxlZFZhbHVlUHJvcHMoXCJzZWxlY3RcIiwgcHJvcHMpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJpbnZhbGlkXCIsIGRpZEh5ZHJhdGUpO1xuICAgICAgICAgIHZhbGlkYXRlU2VsZWN0UHJvcHMoZGlkSHlkcmF0ZSwgcHJvcHMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwidGV4dGFyZWFcIjpcbiAgICAgICAgICBjaGVja0NvbnRyb2xsZWRWYWx1ZVByb3BzKFwidGV4dGFyZWFcIiwgcHJvcHMpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZGlkSHlkcmF0ZSksXG4gICAgICAgICAgICB2YWxpZGF0ZVRleHRhcmVhUHJvcHMoZGlkSHlkcmF0ZSwgcHJvcHMpLFxuICAgICAgICAgICAgaW5pdFRleHRhcmVhKFxuICAgICAgICAgICAgICBkaWRIeWRyYXRlLFxuICAgICAgICAgICAgICBwcm9wcy52YWx1ZSxcbiAgICAgICAgICAgICAgcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgICAgICAgICBwcm9wcy5jaGlsZHJlblxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHRyYWNrKGRpZEh5ZHJhdGUpO1xuICAgICAgfVxuICAgICAgdHlwZSA9IHByb3BzLmNoaWxkcmVuO1xuICAgICAgKFwic3RyaW5nXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIFwibnVtYmVyXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgIFwiYmlnaW50XCIgIT09IHR5cGVvZiB0eXBlKSB8fFxuICAgICAgZGlkSHlkcmF0ZS50ZXh0Q29udGVudCA9PT0gXCJcIiArIHR5cGUgfHxcbiAgICAgICEwID09PSBwcm9wcy5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcgfHxcbiAgICAgIGNoZWNrRm9yVW5tYXRjaGVkVGV4dChkaWRIeWRyYXRlLnRleHRDb250ZW50LCB0eXBlKVxuICAgICAgICA/IChudWxsICE9IHByb3BzLnBvcG92ZXIgJiZcbiAgICAgICAgICAgIChsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiYmVmb3JldG9nZ2xlXCIsIGRpZEh5ZHJhdGUpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInRvZ2dsZVwiLCBkaWRIeWRyYXRlKSksXG4gICAgICAgICAgbnVsbCAhPSBwcm9wcy5vblNjcm9sbCAmJlxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbFwiLCBkaWRIeWRyYXRlKSxcbiAgICAgICAgICBudWxsICE9IHByb3BzLm9uU2Nyb2xsRW5kICYmXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwic2Nyb2xsZW5kXCIsIGRpZEh5ZHJhdGUpLFxuICAgICAgICAgIG51bGwgIT0gcHJvcHMub25DbGljayAmJiAoZGlkSHlkcmF0ZS5vbmNsaWNrID0gbm9vcCQxKSxcbiAgICAgICAgICAoZGlkSHlkcmF0ZSA9ICEwKSlcbiAgICAgICAgOiAoZGlkSHlkcmF0ZSA9ICExKTtcbiAgICAgIGRpZEh5ZHJhdGUgfHwgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcikge1xuICAgICAgZm9yIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IGZpYmVyLnJldHVybjsgaHlkcmF0aW9uUGFyZW50RmliZXI7IClcbiAgICAgICAgc3dpdGNoIChoeWRyYXRpb25QYXJlbnRGaWJlci50YWcpIHtcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgIHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBoeWRyYXRpb25QYXJlbnRGaWJlci5yZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wSHlkcmF0aW9uU3RhdGUoZmliZXIpIHtcbiAgICAgIGlmIChmaWJlciAhPT0gaHlkcmF0aW9uUGFyZW50RmliZXIpIHJldHVybiAhMTtcbiAgICAgIGlmICghaXNIeWRyYXRpbmcpXG4gICAgICAgIHJldHVybiBwb3BUb05leHRIb3N0UGFyZW50KGZpYmVyKSwgKGlzSHlkcmF0aW5nID0gITApLCAhMTtcbiAgICAgIHZhciBzaG91bGRDbGVhciA9ICExLFxuICAgICAgICBKU0NvbXBpbGVyX3RlbXA7XG4gICAgICBpZiAoKEpTQ29tcGlsZXJfdGVtcCA9IDMgIT09IGZpYmVyLnRhZyAmJiAyNyAhPT0gZmliZXIudGFnKSkge1xuICAgICAgICBpZiAoKEpTQ29tcGlsZXJfdGVtcCA9IDUgPT09IGZpYmVyLnRhZykpXG4gICAgICAgICAgKEpTQ29tcGlsZXJfdGVtcCA9IGZpYmVyLnR5cGUpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfdGVtcCA9XG4gICAgICAgICAgICAgICEoXCJmb3JtXCIgIT09IEpTQ29tcGlsZXJfdGVtcCAmJiBcImJ1dHRvblwiICE9PSBKU0NvbXBpbGVyX3RlbXApIHx8XG4gICAgICAgICAgICAgIHNob3VsZFNldFRleHRDb250ZW50KGZpYmVyLnR5cGUsIGZpYmVyLm1lbW9pemVkUHJvcHMpKTtcbiAgICAgICAgSlNDb21waWxlcl90ZW1wID0gIUpTQ29tcGlsZXJfdGVtcDtcbiAgICAgIH1cbiAgICAgIEpTQ29tcGlsZXJfdGVtcCAmJiAoc2hvdWxkQ2xlYXIgPSAhMCk7XG4gICAgICBpZiAoc2hvdWxkQ2xlYXIgJiYgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSkge1xuICAgICAgICBmb3IgKHNob3VsZENsZWFyID0gbmV4dEh5ZHJhdGFibGVJbnN0YW5jZTsgc2hvdWxkQ2xlYXI7ICkge1xuICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUoZmliZXIsIDApO1xuICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9XG4gICAgICAgICAgICBkZXNjcmliZUh5ZHJhdGFibGVJbnN0YW5jZUZvckRldldhcm5pbmdzKHNob3VsZENsZWFyKTtcbiAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAuc2VydmVyVGFpbC5wdXNoKGRlc2NyaXB0aW9uKTtcbiAgICAgICAgICBzaG91bGRDbGVhciA9XG4gICAgICAgICAgICBcIlN1c3BlbnNlXCIgPT09IGRlc2NyaXB0aW9uLnR5cGVcbiAgICAgICAgICAgICAgPyBnZXROZXh0SHlkcmF0YWJsZUluc3RhbmNlQWZ0ZXJTdXNwZW5zZUluc3RhbmNlKHNob3VsZENsZWFyKVxuICAgICAgICAgICAgICA6IGdldE5leHRIeWRyYXRhYmxlKHNob3VsZENsZWFyLm5leHRTaWJsaW5nKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2goZmliZXIpO1xuICAgICAgfVxuICAgICAgcG9wVG9OZXh0SG9zdFBhcmVudChmaWJlcik7XG4gICAgICBpZiAoMTMgPT09IGZpYmVyLnRhZykge1xuICAgICAgICBmaWJlciA9IGZpYmVyLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIGZpYmVyID0gbnVsbCAhPT0gZmliZXIgPyBmaWJlci5kZWh5ZHJhdGVkIDogbnVsbDtcbiAgICAgICAgaWYgKCFmaWJlcilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gaGF2ZSBhIGh5ZHJhdGVkIHN1c3BlbnNlIGluc3RhbmNlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9XG4gICAgICAgICAgZ2V0TmV4dEh5ZHJhdGFibGVJbnN0YW5jZUFmdGVyU3VzcGVuc2VJbnN0YW5jZShmaWJlcik7XG4gICAgICB9IGVsc2VcbiAgICAgICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGh5ZHJhdGlvblBhcmVudEZpYmVyXG4gICAgICAgICAgPyBnZXROZXh0SHlkcmF0YWJsZShmaWJlci5zdGF0ZU5vZGUubmV4dFNpYmxpbmcpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldEh5ZHJhdGlvblN0YXRlKCkge1xuICAgICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGh5ZHJhdGlvblBhcmVudEZpYmVyID0gbnVsbDtcbiAgICAgIGRpZFN1c3BlbmRPckVycm9yREVWID0gaXNIeWRyYXRpbmcgPSAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcXVldWVIeWRyYXRpb25FcnJvcihlcnJvcikge1xuICAgICAgbnVsbCA9PT0gaHlkcmF0aW9uRXJyb3JzXG4gICAgICAgID8gKGh5ZHJhdGlvbkVycm9ycyA9IFtlcnJvcl0pXG4gICAgICAgIDogaHlkcmF0aW9uRXJyb3JzLnB1c2goZXJyb3IpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbWl0UGVuZGluZ0h5ZHJhdGlvbldhcm5pbmdzKCkge1xuICAgICAgdmFyIGRpZmZSb290ID0gaHlkcmF0aW9uRGlmZlJvb3RERVY7XG4gICAgICBudWxsICE9PSBkaWZmUm9vdCAmJlxuICAgICAgICAoKGh5ZHJhdGlvbkRpZmZSb290REVWID0gbnVsbCksXG4gICAgICAgIChkaWZmUm9vdCA9IGRlc2NyaWJlRGlmZihkaWZmUm9vdCkpLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQSB0cmVlIGh5ZHJhdGVkIGJ1dCBzb21lIGF0dHJpYnV0ZXMgb2YgdGhlIHNlcnZlciByZW5kZXJlZCBIVE1MIGRpZG4ndCBtYXRjaCB0aGUgY2xpZW50IHByb3BlcnRpZXMuIFRoaXMgd29uJ3QgYmUgcGF0Y2hlZCB1cC4gVGhpcyBjYW4gaGFwcGVuIGlmIGEgU1NSLWVkIENsaWVudCBDb21wb25lbnQgdXNlZDpcXG5cXG4tIEEgc2VydmVyL2NsaWVudCBicmFuY2ggYGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJylgLlxcbi0gVmFyaWFibGUgaW5wdXQgc3VjaCBhcyBgRGF0ZS5ub3coKWAgb3IgYE1hdGgucmFuZG9tKClgIHdoaWNoIGNoYW5nZXMgZWFjaCB0aW1lIGl0J3MgY2FsbGVkLlxcbi0gRGF0ZSBmb3JtYXR0aW5nIGluIGEgdXNlcidzIGxvY2FsZSB3aGljaCBkb2Vzbid0IG1hdGNoIHRoZSBzZXJ2ZXIuXFxuLSBFeHRlcm5hbCBjaGFuZ2luZyBkYXRhIHdpdGhvdXQgc2VuZGluZyBhIHNuYXBzaG90IG9mIGl0IGFsb25nIHdpdGggdGhlIEhUTUwuXFxuLSBJbnZhbGlkIEhUTUwgdGFnIG5lc3RpbmcuXFxuXFxuSXQgY2FuIGFsc28gaGFwcGVuIGlmIHRoZSBjbGllbnQgaGFzIGEgYnJvd3NlciBleHRlbnNpb24gaW5zdGFsbGVkIHdoaWNoIG1lc3NlcyB3aXRoIHRoZSBIVE1MIGJlZm9yZSBSZWFjdCBsb2FkZWQuXFxuXFxuJXMlc1wiLFxuICAgICAgICAgIFwiaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9oeWRyYXRpb24tbWlzbWF0Y2hcIixcbiAgICAgICAgICBkaWZmUm9vdFxuICAgICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlVGhlbmFibGVTdGF0ZSgpIHtcbiAgICAgIHJldHVybiB7IGRpZFdhcm5BYm91dFVuY2FjaGVkUHJvbWlzZTogITEsIHRoZW5hYmxlczogW10gfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNUaGVuYWJsZVJlc29sdmVkKHRoZW5hYmxlKSB7XG4gICAgICB0aGVuYWJsZSA9IHRoZW5hYmxlLnN0YXR1cztcbiAgICAgIHJldHVybiBcImZ1bGZpbGxlZFwiID09PSB0aGVuYWJsZSB8fCBcInJlamVjdGVkXCIgPT09IHRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wJDMoKSB7fVxuICAgIGZ1bmN0aW9uIHRyYWNrVXNlZFRoZW5hYmxlKHRoZW5hYmxlU3RhdGUsIHRoZW5hYmxlLCBpbmRleCkge1xuICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgJiZcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLmRpZFVzZVByb21pc2UgPSAhMCk7XG4gICAgICB2YXIgdHJhY2tlZFRoZW5hYmxlcyA9IHRoZW5hYmxlU3RhdGUudGhlbmFibGVzO1xuICAgICAgaW5kZXggPSB0cmFja2VkVGhlbmFibGVzW2luZGV4XTtcbiAgICAgIHZvaWQgMCA9PT0gaW5kZXhcbiAgICAgICAgPyB0cmFja2VkVGhlbmFibGVzLnB1c2godGhlbmFibGUpXG4gICAgICAgIDogaW5kZXggIT09IHRoZW5hYmxlICYmXG4gICAgICAgICAgKHRoZW5hYmxlU3RhdGUuZGlkV2FybkFib3V0VW5jYWNoZWRQcm9taXNlIHx8XG4gICAgICAgICAgICAoKHRoZW5hYmxlU3RhdGUuZGlkV2FybkFib3V0VW5jYWNoZWRQcm9taXNlID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJBIGNvbXBvbmVudCB3YXMgc3VzcGVuZGVkIGJ5IGFuIHVuY2FjaGVkIHByb21pc2UuIENyZWF0aW5nIHByb21pc2VzIGluc2lkZSBhIENsaWVudCBDb21wb25lbnQgb3IgaG9vayBpcyBub3QgeWV0IHN1cHBvcnRlZCwgZXhjZXB0IHZpYSBhIFN1c3BlbnNlLWNvbXBhdGlibGUgbGlicmFyeSBvciBmcmFtZXdvcmsuXCJcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgIHRoZW5hYmxlLnRoZW4obm9vcCQzLCBub29wJDMpLFxuICAgICAgICAgICh0aGVuYWJsZSA9IGluZGV4KSk7XG4gICAgICBzd2l0Y2ggKHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICBjYXNlIFwiZnVsZmlsbGVkXCI6XG4gICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAoKHRoZW5hYmxlU3RhdGUgPSB0aGVuYWJsZS5yZWFzb24pLFxuICAgICAgICAgICAgY2hlY2tJZlVzZVdyYXBwZWRJbkFzeW5jQ2F0Y2godGhlbmFibGVTdGF0ZSksXG4gICAgICAgICAgICB0aGVuYWJsZVN0YXRlKVxuICAgICAgICAgICk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0aGVuYWJsZS5zdGF0dXMpXG4gICAgICAgICAgICB0aGVuYWJsZS50aGVuKG5vb3AkMywgbm9vcCQzKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUgPSB3b3JrSW5Qcm9ncmVzc1Jvb3Q7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIG51bGwgIT09IHRoZW5hYmxlU3RhdGUgJiZcbiAgICAgICAgICAgICAgMTAwIDwgdGhlbmFibGVTdGF0ZS5zaGVsbFN1c3BlbmRDb3VudGVyXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiYXN5bmMvYXdhaXQgaXMgbm90IHlldCBzdXBwb3J0ZWQgaW4gQ2xpZW50IENvbXBvbmVudHMsIG9ubHkgU2VydmVyIENvbXBvbmVudHMuIFRoaXMgZXJyb3IgaXMgb2Z0ZW4gY2F1c2VkIGJ5IGFjY2lkZW50YWxseSBhZGRpbmcgYCd1c2UgY2xpZW50J2AgdG8gYSBtb2R1bGUgdGhhdCB3YXMgb3JpZ2luYWxseSB3cml0dGVuIGZvciB0aGUgc2VydmVyLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGVuYWJsZVN0YXRlID0gdGhlbmFibGU7XG4gICAgICAgICAgICB0aGVuYWJsZVN0YXRlLnN0YXR1cyA9IFwicGVuZGluZ1wiO1xuICAgICAgICAgICAgdGhlbmFibGVTdGF0ZS50aGVuKFxuICAgICAgICAgICAgICBmdW5jdGlvbiAoZnVsZmlsbGVkVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoXCJwZW5kaW5nXCIgPT09IHRoZW5hYmxlLnN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgdmFyIGZ1bGZpbGxlZFRoZW5hYmxlID0gdGhlbmFibGU7XG4gICAgICAgICAgICAgICAgICBmdWxmaWxsZWRUaGVuYWJsZS5zdGF0dXMgPSBcImZ1bGZpbGxlZFwiO1xuICAgICAgICAgICAgICAgICAgZnVsZmlsbGVkVGhlbmFibGUudmFsdWUgPSBmdWxmaWxsZWRWYWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChcInBlbmRpbmdcIiA9PT0gdGhlbmFibGUuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgcmVqZWN0ZWRUaGVuYWJsZSA9IHRoZW5hYmxlO1xuICAgICAgICAgICAgICAgICAgcmVqZWN0ZWRUaGVuYWJsZS5zdGF0dXMgPSBcInJlamVjdGVkXCI7XG4gICAgICAgICAgICAgICAgICByZWplY3RlZFRoZW5hYmxlLnJlYXNvbiA9IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3dpdGNoICh0aGVuYWJsZS5zdGF0dXMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJmdWxmaWxsZWRcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHRoZW5hYmxlLnZhbHVlO1xuICAgICAgICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgICAgICAgIHRocm93IChcbiAgICAgICAgICAgICAgICAoKHRoZW5hYmxlU3RhdGUgPSB0aGVuYWJsZS5yZWFzb24pLFxuICAgICAgICAgICAgICAgIGNoZWNrSWZVc2VXcmFwcGVkSW5Bc3luY0NhdGNoKHRoZW5hYmxlU3RhdGUpLFxuICAgICAgICAgICAgICAgIHRoZW5hYmxlU3RhdGUpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN1c3BlbmRlZFRoZW5hYmxlID0gdGhlbmFibGU7XG4gICAgICAgICAgbmVlZHNUb1Jlc2V0U3VzcGVuZGVkVGhlbmFibGVERVYgPSAhMDtcbiAgICAgICAgICB0aHJvdyBTdXNwZW5zZUV4Y2VwdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3VzcGVuZGVkVGhlbmFibGUoKSB7XG4gICAgICBpZiAobnVsbCA9PT0gc3VzcGVuZGVkVGhlbmFibGUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgYSBzdXNwZW5kZWQgdGhlbmFibGUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgdGhlbmFibGUgPSBzdXNwZW5kZWRUaGVuYWJsZTtcbiAgICAgIHN1c3BlbmRlZFRoZW5hYmxlID0gbnVsbDtcbiAgICAgIG5lZWRzVG9SZXNldFN1c3BlbmRlZFRoZW5hYmxlREVWID0gITE7XG4gICAgICByZXR1cm4gdGhlbmFibGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrSWZVc2VXcmFwcGVkSW5Bc3luY0NhdGNoKHJlamVjdGVkUmVhc29uKSB7XG4gICAgICBpZiAocmVqZWN0ZWRSZWFzb24gPT09IFN1c3BlbnNlRXhjZXB0aW9uKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkhvb2tzIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBhbiBhc3luYyBjb21wb25lbnQuIFRoaXMgZXJyb3IgaXMgb2Z0ZW4gY2F1c2VkIGJ5IGFjY2lkZW50YWxseSBhZGRpbmcgYCd1c2UgY2xpZW50J2AgdG8gYSBtb2R1bGUgdGhhdCB3YXMgb3JpZ2luYWxseSB3cml0dGVuIGZvciB0aGUgc2VydmVyLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hEZWJ1Z0luZm8oZGVidWdJbmZvKSB7XG4gICAgICB2YXIgcHJldmlvdXNEZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgbnVsbCAhPSBkZWJ1Z0luZm8gJiZcbiAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPVxuICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzRGVidWdJbmZvXG4gICAgICAgICAgICA/IGRlYnVnSW5mb1xuICAgICAgICAgICAgOiBwcmV2aW91c0RlYnVnSW5mby5jb25jYXQoZGVidWdJbmZvKSk7XG4gICAgICByZXR1cm4gcHJldmlvdXNEZWJ1Z0luZm87XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50LCBmaWJlciwgcmV0dXJuRmliZXIpIHtcbiAgICAgIGZvciAodmFyIGtleXMgPSBPYmplY3Qua2V5cyhlbGVtZW50LnByb3BzKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICBpZiAoXCJjaGlsZHJlblwiICE9PSBrZXkgJiYgXCJrZXlcIiAhPT0ga2V5KSB7XG4gICAgICAgICAgbnVsbCA9PT0gZmliZXIgJiZcbiAgICAgICAgICAgICgoZmliZXIgPSBjcmVhdGVGaWJlckZyb21FbGVtZW50KGVsZW1lbnQsIHJldHVybkZpYmVyLm1vZGUsIDApKSxcbiAgICAgICAgICAgIChmaWJlci5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAoZmliZXIucmV0dXJuID0gcmV0dXJuRmliZXIpKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgZnVuY3Rpb24gKGVycm9yZWRLZXkpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIkludmFsaWQgcHJvcCBgJXNgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuIFJlYWN0LkZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYGtleWAgYW5kIGBjaGlsZHJlbmAgcHJvcHMuXCIsXG4gICAgICAgICAgICAgICAgZXJyb3JlZEtleVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGtleVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdW53cmFwVGhlbmFibGUodGhlbmFibGUpIHtcbiAgICAgIHZhciBpbmRleCA9IHRoZW5hYmxlSW5kZXhDb3VudGVyJDE7XG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciQxICs9IDE7XG4gICAgICBudWxsID09PSB0aGVuYWJsZVN0YXRlJDEgJiYgKHRoZW5hYmxlU3RhdGUkMSA9IGNyZWF0ZVRoZW5hYmxlU3RhdGUoKSk7XG4gICAgICByZXR1cm4gdHJhY2tVc2VkVGhlbmFibGUodGhlbmFibGVTdGF0ZSQxLCB0aGVuYWJsZSwgaW5kZXgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb2VyY2VSZWYod29ya0luUHJvZ3Jlc3MsIGVsZW1lbnQpIHtcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnByb3BzLnJlZjtcbiAgICAgIHdvcmtJblByb2dyZXNzLnJlZiA9IHZvaWQgMCAhPT0gZWxlbWVudCA/IGVsZW1lbnQgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKSB7XG4gICAgICBpZiAobmV3Q2hpbGQuJCR0eXBlb2YgPT09IFJFQUNUX0xFR0FDWV9FTEVNRU5UX1RZUEUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICdBIFJlYWN0IEVsZW1lbnQgZnJvbSBhbiBvbGRlciB2ZXJzaW9uIG9mIFJlYWN0IHdhcyByZW5kZXJlZC4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBJdCBjYW4gaGFwcGVuIGlmOlxcbi0gTXVsdGlwbGUgY29waWVzIG9mIHRoZSBcInJlYWN0XCIgcGFja2FnZSBpcyB1c2VkLlxcbi0gQSBsaWJyYXJ5IHByZS1idW5kbGVkIGFuIG9sZCBjb3B5IG9mIFwicmVhY3RcIiBvciBcInJlYWN0L2pzeC1ydW50aW1lXCIuXFxuLSBBIGNvbXBpbGVyIHRyaWVzIHRvIFwiaW5saW5lXCIgSlNYIGluc3RlYWQgb2YgdXNpbmcgdGhlIHJ1bnRpbWUuJ1xuICAgICAgICApO1xuICAgICAgcmV0dXJuRmliZXIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3Q2hpbGQpO1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIFwiT2JqZWN0cyBhcmUgbm90IHZhbGlkIGFzIGEgUmVhY3QgY2hpbGQgKGZvdW5kOiBcIiArXG4gICAgICAgICAgKFwiW29iamVjdCBPYmplY3RdXCIgPT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICA/IFwib2JqZWN0IHdpdGgga2V5cyB7XCIgKyBPYmplY3Qua2V5cyhuZXdDaGlsZCkuam9pbihcIiwgXCIpICsgXCJ9XCJcbiAgICAgICAgICAgIDogcmV0dXJuRmliZXIpICtcbiAgICAgICAgICBcIikuIElmIHlvdSBtZWFudCB0byByZW5kZXIgYSBjb2xsZWN0aW9uIG9mIGNoaWxkcmVuLCB1c2UgYW4gYXJyYXkgaW5zdGVhZC5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk9uRnVuY3Rpb25UeXBlKHJldHVybkZpYmVyLCBpbnZhbGlkQ2hpbGQpIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihyZXR1cm5GaWJlcikgfHwgXCJDb21wb25lbnRcIjtcbiAgICAgIG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZ1twYXJlbnROYW1lXSB8fFxuICAgICAgICAoKG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZ1twYXJlbnROYW1lXSA9ICEwKSxcbiAgICAgICAgKGludmFsaWRDaGlsZCA9XG4gICAgICAgICAgaW52YWxpZENoaWxkLmRpc3BsYXlOYW1lIHx8IGludmFsaWRDaGlsZC5uYW1lIHx8IFwiQ29tcG9uZW50XCIpLFxuICAgICAgICAzID09PSByZXR1cm5GaWJlci50YWdcbiAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRnVuY3Rpb25zIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZC4gVGhpcyBtYXkgaGFwcGVuIGlmIHlvdSByZXR1cm4gJXMgaW5zdGVhZCBvZiA8JXMgLz4gZnJvbSByZW5kZXIuIE9yIG1heWJlIHlvdSBtZWFudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gcmF0aGVyIHRoYW4gcmV0dXJuIGl0LlxcbiAgcm9vdC5yZW5kZXIoJXMpXCIsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZCxcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGRcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRnVuY3Rpb25zIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZC4gVGhpcyBtYXkgaGFwcGVuIGlmIHlvdSByZXR1cm4gJXMgaW5zdGVhZCBvZiA8JXMgLz4gZnJvbSByZW5kZXIuIE9yIG1heWJlIHlvdSBtZWFudCB0byBjYWxsIHRoaXMgZnVuY3Rpb24gcmF0aGVyIHRoYW4gcmV0dXJuIGl0LlxcbiAgPCVzPnslc308LyVzPlwiLFxuICAgICAgICAgICAgICBpbnZhbGlkQ2hpbGQsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZCxcbiAgICAgICAgICAgICAgcGFyZW50TmFtZSxcbiAgICAgICAgICAgICAgaW52YWxpZENoaWxkLFxuICAgICAgICAgICAgICBwYXJlbnROYW1lXG4gICAgICAgICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fybk9uU3ltYm9sVHlwZShyZXR1cm5GaWJlciwgaW52YWxpZENoaWxkKSB7XG4gICAgICB2YXIgcGFyZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIocmV0dXJuRmliZXIpIHx8IFwiQ29tcG9uZW50XCI7XG4gICAgICBvd25lckhhc1N5bWJvbFR5cGVXYXJuaW5nW3BhcmVudE5hbWVdIHx8XG4gICAgICAgICgob3duZXJIYXNTeW1ib2xUeXBlV2FybmluZ1twYXJlbnROYW1lXSA9ICEwKSxcbiAgICAgICAgKGludmFsaWRDaGlsZCA9IFN0cmluZyhpbnZhbGlkQ2hpbGQpKSxcbiAgICAgICAgMyA9PT0gcmV0dXJuRmliZXIudGFnXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlN5bWJvbHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkLlxcbiAgcm9vdC5yZW5kZXIoJXMpXCIsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZFxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJTeW1ib2xzIGFyZSBub3QgdmFsaWQgYXMgYSBSZWFjdCBjaGlsZC5cXG4gIDwlcz4lczwvJXM+XCIsXG4gICAgICAgICAgICAgIHBhcmVudE5hbWUsXG4gICAgICAgICAgICAgIGludmFsaWRDaGlsZCxcbiAgICAgICAgICAgICAgcGFyZW50TmFtZVxuICAgICAgICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkUmVjb25jaWxlcihzaG91bGRUcmFja1NpZGVFZmZlY3RzKSB7XG4gICAgICBmdW5jdGlvbiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGRUb0RlbGV0ZSkge1xuICAgICAgICBpZiAoc2hvdWxkVHJhY2tTaWRlRWZmZWN0cykge1xuICAgICAgICAgIHZhciBkZWxldGlvbnMgPSByZXR1cm5GaWJlci5kZWxldGlvbnM7XG4gICAgICAgICAgbnVsbCA9PT0gZGVsZXRpb25zXG4gICAgICAgICAgICA/ICgocmV0dXJuRmliZXIuZGVsZXRpb25zID0gW2NoaWxkVG9EZWxldGVdKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyLmZsYWdzIHw9IDE2KSlcbiAgICAgICAgICAgIDogZGVsZXRpb25zLnB1c2goY2hpbGRUb0RlbGV0ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCkge1xuICAgICAgICBpZiAoIXNob3VsZFRyYWNrU2lkZUVmZmVjdHMpIHJldHVybiBudWxsO1xuICAgICAgICBmb3IgKDsgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQ7IClcbiAgICAgICAgICBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpLFxuICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gY3VycmVudEZpcnN0Q2hpbGQuc2libGluZyk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gbWFwUmVtYWluaW5nQ2hpbGRyZW4oY3VycmVudEZpcnN0Q2hpbGQpIHtcbiAgICAgICAgZm9yICh2YXIgZXhpc3RpbmdDaGlsZHJlbiA9IG5ldyBNYXAoKTsgbnVsbCAhPT0gY3VycmVudEZpcnN0Q2hpbGQ7IClcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZC5rZXlcbiAgICAgICAgICAgID8gZXhpc3RpbmdDaGlsZHJlbi5zZXQoY3VycmVudEZpcnN0Q2hpbGQua2V5LCBjdXJyZW50Rmlyc3RDaGlsZClcbiAgICAgICAgICAgIDogZXhpc3RpbmdDaGlsZHJlbi5zZXQoY3VycmVudEZpcnN0Q2hpbGQuaW5kZXgsIGN1cnJlbnRGaXJzdENoaWxkKSxcbiAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmcpO1xuICAgICAgICByZXR1cm4gZXhpc3RpbmdDaGlsZHJlbjtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVzZUZpYmVyKGZpYmVyLCBwZW5kaW5nUHJvcHMpIHtcbiAgICAgICAgZmliZXIgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhmaWJlciwgcGVuZGluZ1Byb3BzKTtcbiAgICAgICAgZmliZXIuaW5kZXggPSAwO1xuICAgICAgICBmaWJlci5zaWJsaW5nID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIGZpYmVyO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcGxhY2VDaGlsZChuZXdGaWJlciwgbGFzdFBsYWNlZEluZGV4LCBuZXdJbmRleCkge1xuICAgICAgICBuZXdGaWJlci5pbmRleCA9IG5ld0luZGV4O1xuICAgICAgICBpZiAoIXNob3VsZFRyYWNrU2lkZUVmZmVjdHMpXG4gICAgICAgICAgcmV0dXJuIChuZXdGaWJlci5mbGFncyB8PSAxMDQ4NTc2KSwgbGFzdFBsYWNlZEluZGV4O1xuICAgICAgICBuZXdJbmRleCA9IG5ld0ZpYmVyLmFsdGVybmF0ZTtcbiAgICAgICAgaWYgKG51bGwgIT09IG5ld0luZGV4KVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAobmV3SW5kZXggPSBuZXdJbmRleC5pbmRleCksXG4gICAgICAgICAgICBuZXdJbmRleCA8IGxhc3RQbGFjZWRJbmRleFxuICAgICAgICAgICAgICA/ICgobmV3RmliZXIuZmxhZ3MgfD0gMzM1NTQ0MzQpLCBsYXN0UGxhY2VkSW5kZXgpXG4gICAgICAgICAgICAgIDogbmV3SW5kZXhcbiAgICAgICAgICApO1xuICAgICAgICBuZXdGaWJlci5mbGFncyB8PSAzMzU1NDQzNDtcbiAgICAgICAgcmV0dXJuIGxhc3RQbGFjZWRJbmRleDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHBsYWNlU2luZ2xlQ2hpbGQobmV3RmliZXIpIHtcbiAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgIG51bGwgPT09IG5ld0ZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgIChuZXdGaWJlci5mbGFncyB8PSAzMzU1NDQzNCk7XG4gICAgICAgIHJldHVybiBuZXdGaWJlcjtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRleHROb2RlKHJldHVybkZpYmVyLCBjdXJyZW50LCB0ZXh0Q29udGVudCwgbGFuZXMpIHtcbiAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQgfHwgNiAhPT0gY3VycmVudC50YWcpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50ID0gY3JlYXRlRmliZXJGcm9tVGV4dChcbiAgICAgICAgICAgICAgdGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIChjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z093bmVyID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQgPSB1c2VGaWJlcihjdXJyZW50LCB0ZXh0Q29udGVudCk7XG4gICAgICAgIGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgIGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXBkYXRlRWxlbWVudChyZXR1cm5GaWJlciwgY3VycmVudCwgZWxlbWVudCwgbGFuZXMpIHtcbiAgICAgICAgdmFyIGVsZW1lbnRUeXBlID0gZWxlbWVudC50eXBlO1xuICAgICAgICBpZiAoZWxlbWVudFR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50ID0gdXBkYXRlRnJhZ21lbnQoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICBlbGVtZW50LnByb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgZWxlbWVudC5rZXlcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgdmFsaWRhdGVGcmFnbWVudFByb3BzKGVsZW1lbnQsIGN1cnJlbnQsIHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgIChjdXJyZW50LmVsZW1lbnRUeXBlID09PSBlbGVtZW50VHlwZSB8fFxuICAgICAgICAgICAgaXNDb21wYXRpYmxlRmFtaWx5Rm9ySG90UmVsb2FkaW5nKGN1cnJlbnQsIGVsZW1lbnQpIHx8XG4gICAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVsZW1lbnRUeXBlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IGVsZW1lbnRUeXBlICYmXG4gICAgICAgICAgICAgIGVsZW1lbnRUeXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgJiZcbiAgICAgICAgICAgICAgY2FsbExhenlJbml0SW5ERVYoZWxlbWVudFR5cGUpID09PSBjdXJyZW50LnR5cGUpKVxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChjdXJyZW50ID0gdXNlRmliZXIoY3VycmVudCwgZWxlbWVudC5wcm9wcykpLFxuICAgICAgICAgICAgY29lcmNlUmVmKGN1cnJlbnQsIGVsZW1lbnQpLFxuICAgICAgICAgICAgKGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKGN1cnJlbnQuX2RlYnVnT3duZXIgPSBlbGVtZW50Ll9vd25lciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudCA9IGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoZWxlbWVudCwgcmV0dXJuRmliZXIubW9kZSwgbGFuZXMpO1xuICAgICAgICBjb2VyY2VSZWYoY3VycmVudCwgZWxlbWVudCk7XG4gICAgICAgIGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgIGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBjdXJyZW50LCBwb3J0YWwsIGxhbmVzKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgNCAhPT0gY3VycmVudC50YWcgfHxcbiAgICAgICAgICBjdXJyZW50LnN0YXRlTm9kZS5jb250YWluZXJJbmZvICE9PSBwb3J0YWwuY29udGFpbmVySW5mbyB8fFxuICAgICAgICAgIGN1cnJlbnQuc3RhdGVOb2RlLmltcGxlbWVudGF0aW9uICE9PSBwb3J0YWwuaW1wbGVtZW50YXRpb25cbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IGNyZWF0ZUZpYmVyRnJvbVBvcnRhbChwb3J0YWwsIHJldHVybkZpYmVyLm1vZGUsIGxhbmVzKSksXG4gICAgICAgICAgICAoY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgKTtcbiAgICAgICAgY3VycmVudCA9IHVzZUZpYmVyKGN1cnJlbnQsIHBvcnRhbC5jaGlsZHJlbiB8fCBbXSk7XG4gICAgICAgIGN1cnJlbnQucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgIGN1cnJlbnQuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm87XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXBkYXRlRnJhZ21lbnQocmV0dXJuRmliZXIsIGN1cnJlbnQsIGZyYWdtZW50LCBsYW5lcywga2V5KSB7XG4gICAgICAgIGlmIChudWxsID09PSBjdXJyZW50IHx8IDcgIT09IGN1cnJlbnQudGFnKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudCA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICBmcmFnbWVudCxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAoY3VycmVudC5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAoY3VycmVudC5fZGVidWdPd25lciA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgIChjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIGN1cnJlbnRcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50ID0gdXNlRmliZXIoY3VycmVudCwgZnJhZ21lbnQpO1xuICAgICAgICBjdXJyZW50LnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICBjdXJyZW50Ll9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICByZXR1cm4gY3VycmVudDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBuZXdDaGlsZCwgbGFuZXMpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgXCJcIiAhPT0gbmV3Q2hpbGQpIHx8XG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG5ld0NoaWxkIHx8XG4gICAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIG5ld0NoaWxkXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKG5ld0NoaWxkID0gY3JlYXRlRmliZXJGcm9tVGV4dChcbiAgICAgICAgICAgICAgXCJcIiArIG5ld0NoaWxkLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAobmV3Q2hpbGQucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKG5ld0NoaWxkLl9kZWJ1Z093bmVyID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgKG5ld0NoaWxkLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgIG5ld0NoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBudWxsICE9PSBuZXdDaGlsZCkge1xuICAgICAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChsYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIGNvZXJjZVJlZihsYW5lcywgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgICAgIChsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAobmV3Q2hpbGQgPSBjcmVhdGVGaWJlckZyb21Qb3J0YWwoXG4gICAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChuZXdDaGlsZC5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgKG5ld0NoaWxkLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgICBuZXdDaGlsZFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAgIHZhciBfcHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbyk7XG4gICAgICAgICAgICAgIG5ld0NoaWxkID0gY2FsbExhenlJbml0SW5ERVYobmV3Q2hpbGQpO1xuICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGNyZWF0ZUNoaWxkKHJldHVybkZpYmVyLCBuZXdDaGlsZCwgbGFuZXMpO1xuICAgICAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0gX3ByZXZEZWJ1Z0luZm87XG4gICAgICAgICAgICAgIHJldHVybiByZXR1cm5GaWJlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5ld0NoaWxkKSB8fCBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSlcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChsYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z093bmVyID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZC50aGVuKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKF9wcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGNyZWF0ZUNoaWxkKFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIHVud3JhcFRoZW5hYmxlKG5ld0NoaWxkKSxcbiAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnREZWJ1Z0luZm8gPSBfcHJldkRlYnVnSW5mbyksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXdDaGlsZC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFKVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUNoaWxkKFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgcmVhZENvbnRleHREdXJpbmdSZWNvbmNpbGlhdGlvbihyZXR1cm5GaWJlciwgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJlxuICAgICAgICAgIHdhcm5PbkZ1bmN0aW9uVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgd2Fybk9uU3ltYm9sVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZVNsb3QocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBuZXdDaGlsZCwgbGFuZXMpIHtcbiAgICAgICAgdmFyIGtleSA9IG51bGwgIT09IG9sZEZpYmVyID8gb2xkRmliZXIua2V5IDogbnVsbDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgXCJcIiAhPT0gbmV3Q2hpbGQpIHx8XG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG5ld0NoaWxkIHx8XG4gICAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIG5ld0NoaWxkXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gbnVsbCAhPT0ga2V5XG4gICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgIDogdXBkYXRlVGV4dE5vZGUocmV0dXJuRmliZXIsIG9sZEZpYmVyLCBcIlwiICsgbmV3Q2hpbGQsIGxhbmVzKTtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBudWxsICE9PSBuZXdDaGlsZCkge1xuICAgICAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3Q2hpbGQua2V5ID09PSBrZXlcbiAgICAgICAgICAgICAgICA/ICgoa2V5ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IGtleSksXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcilcbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gbmV3Q2hpbGQua2V5ID09PSBrZXlcbiAgICAgICAgICAgICAgICA/IHVwZGF0ZVBvcnRhbChyZXR1cm5GaWJlciwgb2xkRmliZXIsIG5ld0NoaWxkLCBsYW5lcylcbiAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAoa2V5ID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgICAgKG5ld0NoaWxkID0gY2FsbExhenlJbml0SW5ERVYobmV3Q2hpbGQpKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSB1cGRhdGVTbG90KFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IGtleSksXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5ld0NoaWxkKSB8fCBnZXRJdGVyYXRvckZuKG5ld0NoaWxkKSkge1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGtleSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBrZXkgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pO1xuICAgICAgICAgICAgcmV0dXJuRmliZXIgPSB1cGRhdGVGcmFnbWVudChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjdXJyZW50RGVidWdJbmZvID0ga2V5O1xuICAgICAgICAgICAgcmV0dXJuIHJldHVybkZpYmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQudGhlbilcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChrZXkgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlU2xvdChcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICB1bndyYXBUaGVuYWJsZShuZXdDaGlsZCksXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0ga2V5KSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5ld0NoaWxkLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUpXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlU2xvdChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgICByZWFkQ29udGV4dER1cmluZ1JlY29uY2lsaWF0aW9uKHJldHVybkZpYmVyLCBuZXdDaGlsZCksXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmXG4gICAgICAgICAgd2Fybk9uRnVuY3Rpb25UeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiB3YXJuT25TeW1ib2xUeXBlKHJldHVybkZpYmVyLCBuZXdDaGlsZCk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgZXhpc3RpbmdDaGlsZHJlbixcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIG5ld0lkeCxcbiAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgIGxhbmVzXG4gICAgICApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChcInN0cmluZ1wiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgXCJcIiAhPT0gbmV3Q2hpbGQpIHx8XG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIG5ld0NoaWxkIHx8XG4gICAgICAgICAgXCJiaWdpbnRcIiA9PT0gdHlwZW9mIG5ld0NoaWxkXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGV4aXN0aW5nQ2hpbGRyZW4gPSBleGlzdGluZ0NoaWxkcmVuLmdldChuZXdJZHgpIHx8IG51bGwpLFxuICAgICAgICAgICAgdXBkYXRlVGV4dE5vZGUocmV0dXJuRmliZXIsIGV4aXN0aW5nQ2hpbGRyZW4sIFwiXCIgKyBuZXdDaGlsZCwgbGFuZXMpXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBudWxsICE9PSBuZXdDaGlsZCkge1xuICAgICAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChuZXdJZHggPVxuICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlbi5nZXQoXG4gICAgICAgICAgICAgICAgICAgIG51bGwgPT09IG5ld0NoaWxkLmtleSA/IG5ld0lkeCA6IG5ld0NoaWxkLmtleVxuICAgICAgICAgICAgICAgICAgKSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgICAoZXhpc3RpbmdDaGlsZHJlbiA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IGV4aXN0aW5nQ2hpbGRyZW4pLFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChleGlzdGluZ0NoaWxkcmVuID1cbiAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KFxuICAgICAgICAgICAgICAgICAgICBudWxsID09PSBuZXdDaGlsZC5rZXkgPyBuZXdJZHggOiBuZXdDaGlsZC5rZXlcbiAgICAgICAgICAgICAgICAgICkgfHwgbnVsbCksXG4gICAgICAgICAgICAgICAgdXBkYXRlUG9ydGFsKHJldHVybkZpYmVyLCBleGlzdGluZ0NoaWxkcmVuLCBuZXdDaGlsZCwgbGFuZXMpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgdmFyIF9wcmV2RGVidWdJbmZvNyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbyk7XG4gICAgICAgICAgICAgIG5ld0NoaWxkID0gY2FsbExhenlJbml0SW5ERVYobmV3Q2hpbGQpO1xuICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IHVwZGF0ZUZyb21NYXAoXG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlbixcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IF9wcmV2RGVidWdJbmZvNztcbiAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkZpYmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNBcnJheUltcGwobmV3Q2hpbGQpIHx8IGdldEl0ZXJhdG9yRm4obmV3Q2hpbGQpKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKG5ld0lkeCA9IGV4aXN0aW5nQ2hpbGRyZW4uZ2V0KG5ld0lkeCkgfHwgbnVsbCksXG4gICAgICAgICAgICAgIChleGlzdGluZ0NoaWxkcmVuID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHVwZGF0ZUZyYWdtZW50KFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IGV4aXN0aW5nQ2hpbGRyZW4pLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQudGhlbilcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChfcHJldkRlYnVnSW5mbzcgPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgICAgICAgICBleGlzdGluZ0NoaWxkcmVuLFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgICAgICB1bndyYXBUaGVuYWJsZShuZXdDaGlsZCksXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gX3ByZXZEZWJ1Z0luZm83KSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG5ld0NoaWxkLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUpXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgICAgICAgZXhpc3RpbmdDaGlsZHJlbixcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIG5ld0lkeCxcbiAgICAgICAgICAgICAgcmVhZENvbnRleHREdXJpbmdSZWNvbmNpbGlhdGlvbihyZXR1cm5GaWJlciwgbmV3Q2hpbGQpLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB0aHJvd09uSW52YWxpZE9iamVjdFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJlxuICAgICAgICAgIHdhcm5PbkZ1bmN0aW9uVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiYgd2Fybk9uU3ltYm9sVHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHdhcm5PbkludmFsaWRLZXkocmV0dXJuRmliZXIsIHdvcmtJblByb2dyZXNzLCBjaGlsZCwga25vd25LZXlzKSB7XG4gICAgICAgIGlmIChcIm9iamVjdFwiICE9PSB0eXBlb2YgY2hpbGQgfHwgbnVsbCA9PT0gY2hpbGQpIHJldHVybiBrbm93bktleXM7XG4gICAgICAgIHN3aXRjaCAoY2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0VMRU1FTlRfVFlQRTpcbiAgICAgICAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgICAgICAgd2FybkZvck1pc3NpbmdLZXkocmV0dXJuRmliZXIsIHdvcmtJblByb2dyZXNzLCBjaGlsZCk7XG4gICAgICAgICAgICB2YXIga2V5ID0gY2hpbGQua2V5O1xuICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgIT09IHR5cGVvZiBrZXkpIGJyZWFrO1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGtub3duS2V5cykge1xuICAgICAgICAgICAgICBrbm93bktleXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgIGtub3duS2V5cy5hZGQoa2V5KTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWtub3duS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICBrbm93bktleXMuYWRkKGtleSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYod29ya0luUHJvZ3Jlc3MsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIkVuY291bnRlcmVkIHR3byBjaGlsZHJlbiB3aXRoIHRoZSBzYW1lIGtleSwgYCVzYC4gS2V5cyBzaG91bGQgYmUgdW5pcXVlIHNvIHRoYXQgY29tcG9uZW50cyBtYWludGFpbiB0aGVpciBpZGVudGl0eSBhY3Jvc3MgdXBkYXRlcy4gTm9uLXVuaXF1ZSBrZXlzIG1heSBjYXVzZSBjaGlsZHJlbiB0byBiZSBkdXBsaWNhdGVkIGFuZC9vciBvbWl0dGVkIFxcdTIwMTQgdGhlIGJlaGF2aW9yIGlzIHVuc3VwcG9ydGVkIGFuZCBjb3VsZCBjaGFuZ2UgaW4gYSBmdXR1cmUgdmVyc2lvbi5cIixcbiAgICAgICAgICAgICAgICBrZXlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgICAgICAoY2hpbGQgPSBjYWxsTGF6eUluaXRJbkRFVihjaGlsZCkpLFxuICAgICAgICAgICAgICB3YXJuT25JbnZhbGlkS2V5KHJldHVybkZpYmVyLCB3b3JrSW5Qcm9ncmVzcywgY2hpbGQsIGtub3duS2V5cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGtub3duS2V5cztcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkcmVuQXJyYXkoXG4gICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgbmV3Q2hpbGRyZW4sXG4gICAgICAgIGxhbmVzXG4gICAgICApIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIga25vd25LZXlzID0gbnVsbCxcbiAgICAgICAgICAgIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBudWxsLFxuICAgICAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IG51bGwsXG4gICAgICAgICAgICBvbGRGaWJlciA9IGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgbmV3SWR4ID0gKGN1cnJlbnRGaXJzdENoaWxkID0gMCksXG4gICAgICAgICAgICBuZXh0T2xkRmliZXIgPSBudWxsO1xuICAgICAgICAgIG51bGwgIT09IG9sZEZpYmVyICYmIG5ld0lkeCA8IG5ld0NoaWxkcmVuLmxlbmd0aDtcbiAgICAgICAgICBuZXdJZHgrK1xuICAgICAgICApIHtcbiAgICAgICAgICBvbGRGaWJlci5pbmRleCA+IG5ld0lkeFxuICAgICAgICAgICAgPyAoKG5leHRPbGRGaWJlciA9IG9sZEZpYmVyKSwgKG9sZEZpYmVyID0gbnVsbCkpXG4gICAgICAgICAgICA6IChuZXh0T2xkRmliZXIgPSBvbGRGaWJlci5zaWJsaW5nKTtcbiAgICAgICAgICB2YXIgbmV3RmliZXIgPSB1cGRhdGVTbG90KFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgIG5ld0NoaWxkcmVuW25ld0lkeF0sXG4gICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKG51bGwgPT09IG5ld0ZpYmVyKSB7XG4gICAgICAgICAgICBudWxsID09PSBvbGRGaWJlciAmJiAob2xkRmliZXIgPSBuZXh0T2xkRmliZXIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIG5ld0ZpYmVyLFxuICAgICAgICAgICAgbmV3Q2hpbGRyZW5bbmV3SWR4XSxcbiAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICk7XG4gICAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgICAgb2xkRmliZXIgJiZcbiAgICAgICAgICAgIG51bGwgPT09IG5ld0ZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIG9sZEZpYmVyKTtcbiAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQobmV3RmliZXIsIGN1cnJlbnRGaXJzdENoaWxkLCBuZXdJZHgpO1xuICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzTmV3RmliZXJcbiAgICAgICAgICAgID8gKHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXdGaWJlcilcbiAgICAgICAgICAgIDogKHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG5ld0ZpYmVyKTtcbiAgICAgICAgICBwcmV2aW91c05ld0ZpYmVyID0gbmV3RmliZXI7XG4gICAgICAgICAgb2xkRmliZXIgPSBuZXh0T2xkRmliZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld0lkeCA9PT0gbmV3Q2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgb2xkRmliZXIpLFxuICAgICAgICAgICAgaXNIeWRyYXRpbmcgJiYgcHVzaFRyZWVGb3JrKHJldHVybkZpYmVyLCBuZXdJZHgpLFxuICAgICAgICAgICAgcmVzdWx0aW5nRmlyc3RDaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGlmIChudWxsID09PSBvbGRGaWJlcikge1xuICAgICAgICAgIGZvciAoOyBuZXdJZHggPCBuZXdDaGlsZHJlbi5sZW5ndGg7IG5ld0lkeCsrKVxuICAgICAgICAgICAgKG9sZEZpYmVyID0gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIG5ld0NoaWxkcmVuW25ld0lkeF0sIGxhbmVzKSksXG4gICAgICAgICAgICAgIG51bGwgIT09IG9sZEZpYmVyICYmXG4gICAgICAgICAgICAgICAgKChrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICAgIG5ld0NoaWxkcmVuW25ld0lkeF0sXG4gICAgICAgICAgICAgICAgICBrbm93bktleXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBwbGFjZUNoaWxkKFxuICAgICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICAgIG5ld0lkeFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzTmV3RmliZXJcbiAgICAgICAgICAgICAgICAgID8gKHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBvbGRGaWJlcilcbiAgICAgICAgICAgICAgICAgIDogKHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG9sZEZpYmVyKSxcbiAgICAgICAgICAgICAgICAocHJldmlvdXNOZXdGaWJlciA9IG9sZEZpYmVyKSk7XG4gICAgICAgICAgaXNIeWRyYXRpbmcgJiYgcHVzaFRyZWVGb3JrKHJldHVybkZpYmVyLCBuZXdJZHgpO1xuICAgICAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgb2xkRmliZXIgPSBtYXBSZW1haW5pbmdDaGlsZHJlbihvbGRGaWJlcik7XG4gICAgICAgICAgbmV3SWR4IDwgbmV3Q2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgIG5ld0lkeCsrXG4gICAgICAgIClcbiAgICAgICAgICAobmV4dE9sZEZpYmVyID0gdXBkYXRlRnJvbU1hcChcbiAgICAgICAgICAgIG9sZEZpYmVyLFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBuZXdJZHgsXG4gICAgICAgICAgICBuZXdDaGlsZHJlbltuZXdJZHhdLFxuICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICApKSxcbiAgICAgICAgICAgIG51bGwgIT09IG5leHRPbGRGaWJlciAmJlxuICAgICAgICAgICAgICAoKGtub3duS2V5cyA9IHdhcm5PbkludmFsaWRLZXkoXG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgbmV4dE9sZEZpYmVyLFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkcmVuW25ld0lkeF0sXG4gICAgICAgICAgICAgICAga25vd25LZXlzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV4dE9sZEZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAgIG9sZEZpYmVyLmRlbGV0ZShcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IG5leHRPbGRGaWJlci5rZXkgPyBuZXdJZHggOiBuZXh0T2xkRmliZXIua2V5XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnRGaXJzdENoaWxkID0gcGxhY2VDaGlsZChcbiAgICAgICAgICAgICAgICBuZXh0T2xkRmliZXIsXG4gICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgbmV3SWR4XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICAgICAgPyAocmVzdWx0aW5nRmlyc3RDaGlsZCA9IG5leHRPbGRGaWJlcilcbiAgICAgICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBuZXh0T2xkRmliZXIpLFxuICAgICAgICAgICAgICAocHJldmlvdXNOZXdGaWJlciA9IG5leHRPbGRGaWJlcikpO1xuICAgICAgICBzaG91bGRUcmFja1NpZGVFZmZlY3RzICYmXG4gICAgICAgICAgb2xkRmliZXIuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY2hpbGQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCk7XG4gICAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW5JdGVyYXRvcihcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICBuZXdDaGlsZHJlbixcbiAgICAgICAgbGFuZXNcbiAgICAgICkge1xuICAgICAgICBpZiAobnVsbCA9PSBuZXdDaGlsZHJlbilcbiAgICAgICAgICB0aHJvdyBFcnJvcihcIkFuIGl0ZXJhYmxlIG9iamVjdCBwcm92aWRlZCBubyBpdGVyYXRvci5cIik7XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBudWxsLFxuICAgICAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IG51bGwsXG4gICAgICAgICAgICBvbGRGaWJlciA9IGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgbmV3SWR4ID0gKGN1cnJlbnRGaXJzdENoaWxkID0gMCksXG4gICAgICAgICAgICBuZXh0T2xkRmliZXIgPSBudWxsLFxuICAgICAgICAgICAga25vd25LZXlzID0gbnVsbCxcbiAgICAgICAgICAgIHN0ZXAgPSBuZXdDaGlsZHJlbi5uZXh0KCk7XG4gICAgICAgICAgbnVsbCAhPT0gb2xkRmliZXIgJiYgIXN0ZXAuZG9uZTtcbiAgICAgICAgICBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKVxuICAgICAgICApIHtcbiAgICAgICAgICBvbGRGaWJlci5pbmRleCA+IG5ld0lkeFxuICAgICAgICAgICAgPyAoKG5leHRPbGRGaWJlciA9IG9sZEZpYmVyKSwgKG9sZEZpYmVyID0gbnVsbCkpXG4gICAgICAgICAgICA6IChuZXh0T2xkRmliZXIgPSBvbGRGaWJlci5zaWJsaW5nKTtcbiAgICAgICAgICB2YXIgbmV3RmliZXIgPSB1cGRhdGVTbG90KHJldHVybkZpYmVyLCBvbGRGaWJlciwgc3RlcC52YWx1ZSwgbGFuZXMpO1xuICAgICAgICAgIGlmIChudWxsID09PSBuZXdGaWJlcikge1xuICAgICAgICAgICAgbnVsbCA9PT0gb2xkRmliZXIgJiYgKG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBuZXdGaWJlcixcbiAgICAgICAgICAgIHN0ZXAudmFsdWUsXG4gICAgICAgICAgICBrbm93bktleXNcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3VsZFRyYWNrU2lkZUVmZmVjdHMgJiZcbiAgICAgICAgICAgIG9sZEZpYmVyICYmXG4gICAgICAgICAgICBudWxsID09PSBuZXdGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBvbGRGaWJlcik7XG4gICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQgPSBwbGFjZUNoaWxkKG5ld0ZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3SWR4KTtcbiAgICAgICAgICBudWxsID09PSBwcmV2aW91c05ld0ZpYmVyXG4gICAgICAgICAgICA/IChyZXN1bHRpbmdGaXJzdENoaWxkID0gbmV3RmliZXIpXG4gICAgICAgICAgICA6IChwcmV2aW91c05ld0ZpYmVyLnNpYmxpbmcgPSBuZXdGaWJlcik7XG4gICAgICAgICAgcHJldmlvdXNOZXdGaWJlciA9IG5ld0ZpYmVyO1xuICAgICAgICAgIG9sZEZpYmVyID0gbmV4dE9sZEZpYmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGVwLmRvbmUpXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBvbGRGaWJlciksXG4gICAgICAgICAgICBpc0h5ZHJhdGluZyAmJiBwdXNoVHJlZUZvcmsocmV0dXJuRmliZXIsIG5ld0lkeCksXG4gICAgICAgICAgICByZXN1bHRpbmdGaXJzdENoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKG51bGwgPT09IG9sZEZpYmVyKSB7XG4gICAgICAgICAgZm9yICg7ICFzdGVwLmRvbmU7IG5ld0lkeCsrLCBzdGVwID0gbmV3Q2hpbGRyZW4ubmV4dCgpKVxuICAgICAgICAgICAgKG9sZEZpYmVyID0gY3JlYXRlQ2hpbGQocmV0dXJuRmliZXIsIHN0ZXAudmFsdWUsIGxhbmVzKSksXG4gICAgICAgICAgICAgIG51bGwgIT09IG9sZEZpYmVyICYmXG4gICAgICAgICAgICAgICAgKChrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgICAgICAgIHN0ZXAudmFsdWUsXG4gICAgICAgICAgICAgICAgICBrbm93bktleXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudEZpcnN0Q2hpbGQgPSBwbGFjZUNoaWxkKFxuICAgICAgICAgICAgICAgICAgb2xkRmliZXIsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICAgIG5ld0lkeFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIG51bGwgPT09IHByZXZpb3VzTmV3RmliZXJcbiAgICAgICAgICAgICAgICAgID8gKHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBvbGRGaWJlcilcbiAgICAgICAgICAgICAgICAgIDogKHByZXZpb3VzTmV3RmliZXIuc2libGluZyA9IG9sZEZpYmVyKSxcbiAgICAgICAgICAgICAgICAocHJldmlvdXNOZXdGaWJlciA9IG9sZEZpYmVyKSk7XG4gICAgICAgICAgaXNIeWRyYXRpbmcgJiYgcHVzaFRyZWVGb3JrKHJldHVybkZpYmVyLCBuZXdJZHgpO1xuICAgICAgICAgIHJldHVybiByZXN1bHRpbmdGaXJzdENoaWxkO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgb2xkRmliZXIgPSBtYXBSZW1haW5pbmdDaGlsZHJlbihvbGRGaWJlcik7XG4gICAgICAgICAgIXN0ZXAuZG9uZTtcbiAgICAgICAgICBuZXdJZHgrKywgc3RlcCA9IG5ld0NoaWxkcmVuLm5leHQoKVxuICAgICAgICApXG4gICAgICAgICAgKG5leHRPbGRGaWJlciA9IHVwZGF0ZUZyb21NYXAoXG4gICAgICAgICAgICBvbGRGaWJlcixcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgbmV3SWR4LFxuICAgICAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgKSksXG4gICAgICAgICAgICBudWxsICE9PSBuZXh0T2xkRmliZXIgJiZcbiAgICAgICAgICAgICAgKChrbm93bktleXMgPSB3YXJuT25JbnZhbGlkS2V5KFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIG5leHRPbGRGaWJlcixcbiAgICAgICAgICAgICAgICBzdGVwLnZhbHVlLFxuICAgICAgICAgICAgICAgIGtub3duS2V5c1xuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT09IG5leHRPbGRGaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgICBvbGRGaWJlci5kZWxldGUoXG4gICAgICAgICAgICAgICAgICBudWxsID09PSBuZXh0T2xkRmliZXIua2V5ID8gbmV3SWR4IDogbmV4dE9sZEZpYmVyLmtleVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChjdXJyZW50Rmlyc3RDaGlsZCA9IHBsYWNlQ2hpbGQoXG4gICAgICAgICAgICAgICAgbmV4dE9sZEZpYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgIG5ld0lkeFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gcHJldmlvdXNOZXdGaWJlclxuICAgICAgICAgICAgICAgID8gKHJlc3VsdGluZ0ZpcnN0Q2hpbGQgPSBuZXh0T2xkRmliZXIpXG4gICAgICAgICAgICAgICAgOiAocHJldmlvdXNOZXdGaWJlci5zaWJsaW5nID0gbmV4dE9sZEZpYmVyKSxcbiAgICAgICAgICAgICAgKHByZXZpb3VzTmV3RmliZXIgPSBuZXh0T2xkRmliZXIpKTtcbiAgICAgICAgc2hvdWxkVHJhY2tTaWRlRWZmZWN0cyAmJlxuICAgICAgICAgIG9sZEZpYmVyLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVsZXRlQ2hpbGQocmV0dXJuRmliZXIsIGNoaWxkKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgaXNIeWRyYXRpbmcgJiYgcHVzaFRyZWVGb3JrKHJldHVybkZpYmVyLCBuZXdJZHgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0aW5nRmlyc3RDaGlsZDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHJlY29uY2lsZUNoaWxkRmliZXJzSW1wbChcbiAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgbGFuZXNcbiAgICAgICkge1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiZcbiAgICAgICAgICBudWxsICE9PSBuZXdDaGlsZCAmJlxuICAgICAgICAgIG5ld0NoaWxkLnR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgJiZcbiAgICAgICAgICBudWxsID09PSBuZXdDaGlsZC5rZXkgJiZcbiAgICAgICAgICAodmFsaWRhdGVGcmFnbWVudFByb3BzKG5ld0NoaWxkLCBudWxsLCByZXR1cm5GaWJlciksXG4gICAgICAgICAgKG5ld0NoaWxkID0gbmV3Q2hpbGQucHJvcHMuY2hpbGRyZW4pKTtcbiAgICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBuZXdDaGlsZCAmJiBudWxsICE9PSBuZXdDaGlsZCkge1xuICAgICAgICAgIHN3aXRjaCAobmV3Q2hpbGQuJCR0eXBlb2YpIHtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfRUxFTUVOVF9UWVBFOlxuICAgICAgICAgICAgICB2YXIgcHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbyk7XG4gICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgPSBuZXdDaGlsZC5rZXk7IG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkOyApIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Rmlyc3RDaGlsZC5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICBrZXkgPSBuZXdDaGlsZC50eXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKDcgPT09IGN1cnJlbnRGaXJzdENoaWxkLnRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZXMgPSB1c2VGaWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5lcy5fZGVidWdPd25lciA9IG5ld0NoaWxkLl9vd25lcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVGcmFnbWVudFByb3BzKG5ld0NoaWxkLCBsYW5lcywgcmV0dXJuRmliZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBsYW5lcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLmVsZW1lbnRUeXBlID09PSBrZXkgfHxcbiAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBhdGlibGVGYW1pbHlGb3JIb3RSZWxvYWRpbmcoXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkXG4gICAgICAgICAgICAgICAgICAgICAgKSB8fFxuICAgICAgICAgICAgICAgICAgICAgIChcIm9iamVjdFwiID09PSB0eXBlb2Yga2V5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBrZXkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsTGF6eUluaXRJbkRFVihrZXkpID09PSBjdXJyZW50Rmlyc3RDaGlsZC50eXBlKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc2libGluZ1xuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgbGFuZXMgPSB1c2VGaWJlcihjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGQucHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvZXJjZVJlZihsYW5lcywgbmV3Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLl9kZWJ1Z093bmVyID0gbmV3Q2hpbGQuX293bmVyO1xuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLl9kZWJ1Z0luZm8gPSBjdXJyZW50RGVidWdJbmZvO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyID0gbGFuZXM7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBkZWxldGVDaGlsZChyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQgPSBjdXJyZW50Rmlyc3RDaGlsZC5zaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdDaGlsZC50eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFXG4gICAgICAgICAgICAgICAgICA/ICgobGFuZXMgPSBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgICAgICAgICBuZXdDaGlsZC5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlci5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLmtleVxuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgKGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z093bmVyID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgICAobGFuZXMuX2RlYnVnSW5mbyA9IGN1cnJlbnREZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUZyYWdtZW50UHJvcHMobmV3Q2hpbGQsIGxhbmVzLCByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGxhbmVzKSlcbiAgICAgICAgICAgICAgICAgIDogKChsYW5lcyA9IGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgbmV3Q2hpbGQsXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgY29lcmNlUmVmKGxhbmVzLCBuZXdDaGlsZCksXG4gICAgICAgICAgICAgICAgICAgIChsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGxhbmVzKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBwbGFjZVNpbmdsZUNoaWxkKHJldHVybkZpYmVyKTtcbiAgICAgICAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IHByZXZEZWJ1Z0luZm87XG4gICAgICAgICAgICAgIHJldHVybiByZXR1cm5GaWJlcjtcbiAgICAgICAgICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICBwcmV2RGVidWdJbmZvID0gbmV3Q2hpbGQ7XG4gICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgIG5ld0NoaWxkID0gcHJldkRlYnVnSW5mby5rZXk7XG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Rmlyc3RDaGlsZDtcblxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRGaXJzdENoaWxkLmtleSA9PT0gbmV3Q2hpbGQpXG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICA0ID09PSBjdXJyZW50Rmlyc3RDaGlsZC50YWcgJiZcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbyA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8uY29udGFpbmVySW5mbyAmJlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnN0YXRlTm9kZS5pbXBsZW1lbnRhdGlvbiA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8uaW1wbGVtZW50YXRpb25cbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmdcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzID0gdXNlRmliZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8uY2hpbGRyZW4gfHwgW11cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyID0gbGFuZXM7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBkZWxldGVSZW1haW5pbmdDaGlsZHJlbihyZXR1cm5GaWJlciwgY3VycmVudEZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbHNlIGRlbGV0ZUNoaWxkKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCA9IGN1cnJlbnRGaXJzdENoaWxkLnNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhbmVzID0gY3JlYXRlRmliZXJGcm9tUG9ydGFsKFxuICAgICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mbyxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuRmliZXIgPSBsYW5lcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcGxhY2VTaW5nbGVDaGlsZChyZXR1cm5GaWJlcik7XG4gICAgICAgICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAocHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAgIChuZXdDaGlsZCA9IGNhbGxMYXp5SW5pdEluREVWKG5ld0NoaWxkKSksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcmVjb25jaWxlQ2hpbGRGaWJlcnNJbXBsKFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IHByZXZEZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0FycmF5SW1wbChuZXdDaGlsZCkpXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAocHJldkRlYnVnSW5mbyA9IHB1c2hEZWJ1Z0luZm8obmV3Q2hpbGQuX2RlYnVnSW5mbykpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSByZWNvbmNpbGVDaGlsZHJlbkFycmF5KFxuICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICAgIG5ld0NoaWxkLFxuICAgICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoY3VycmVudERlYnVnSW5mbyA9IHByZXZEZWJ1Z0luZm8pLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCkpIHtcbiAgICAgICAgICAgIHByZXZEZWJ1Z0luZm8gPSBwdXNoRGVidWdJbmZvKG5ld0NoaWxkLl9kZWJ1Z0luZm8pO1xuICAgICAgICAgICAga2V5ID0gZ2V0SXRlcmF0b3JGbihuZXdDaGlsZCk7XG4gICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2Yga2V5KVxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIkFuIG9iamVjdCBpcyBub3QgYW4gaXRlcmFibGUuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZhciBuZXdDaGlsZHJlbiA9IGtleS5jYWxsKG5ld0NoaWxkKTtcbiAgICAgICAgICAgIGlmIChuZXdDaGlsZHJlbiA9PT0gbmV3Q2hpbGQpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIDAgIT09IHJldHVybkZpYmVyLnRhZyB8fFxuICAgICAgICAgICAgICAgIFwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIiAhPT1cbiAgICAgICAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChyZXR1cm5GaWJlci50eXBlKSB8fFxuICAgICAgICAgICAgICAgIFwiW29iamVjdCBHZW5lcmF0b3JdXCIgIT09XG4gICAgICAgICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3Q2hpbGRyZW4pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRHZW5lcmF0b3JzIHx8XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIlVzaW5nIEl0ZXJhdG9ycyBhcyBjaGlsZHJlbiBpcyB1bnN1cHBvcnRlZCBhbmQgd2lsbCBsaWtlbHkgeWllbGQgdW5leHBlY3RlZCByZXN1bHRzIGJlY2F1c2UgZW51bWVyYXRpbmcgYSBnZW5lcmF0b3IgbXV0YXRlcyBpdC4gWW91IG1heSBjb252ZXJ0IGl0IHRvIGFuIGFycmF5IHdpdGggYEFycmF5LmZyb20oKWAgb3IgdGhlIGBbLi4uc3ByZWFkXWAgb3BlcmF0b3IgYmVmb3JlIHJlbmRlcmluZy4gWW91IGNhbiBhbHNvIHVzZSBhbiBJdGVyYWJsZSB0aGF0IGNhbiBpdGVyYXRlIG11bHRpcGxlIHRpbWVzIG92ZXIgdGhlIHNhbWUgaXRlbXMuXCJcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAoZGlkV2FybkFib3V0R2VuZXJhdG9ycyA9ICEwKTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICBuZXdDaGlsZC5lbnRyaWVzICE9PSBrZXkgfHxcbiAgICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRNYXBzIHx8XG4gICAgICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIlVzaW5nIE1hcHMgYXMgY2hpbGRyZW4gaXMgbm90IHN1cHBvcnRlZC4gVXNlIGFuIGFycmF5IG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC5cIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKGRpZFdhcm5BYm91dE1hcHMgPSAhMCkpO1xuICAgICAgICAgICAgcmV0dXJuRmliZXIgPSByZWNvbmNpbGVDaGlsZHJlbkl0ZXJhdG9yKFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICAgIG5ld0NoaWxkcmVuLFxuICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVybkZpYmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQudGhlbilcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChwcmV2RGVidWdJbmZvID0gcHVzaERlYnVnSW5mbyhuZXdDaGlsZC5fZGVidWdJbmZvKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHJlY29uY2lsZUNoaWxkRmliZXJzSW1wbChcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICBjdXJyZW50Rmlyc3RDaGlsZCxcbiAgICAgICAgICAgICAgICB1bndyYXBUaGVuYWJsZShuZXdDaGlsZCksXG4gICAgICAgICAgICAgICAgbGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChjdXJyZW50RGVidWdJbmZvID0gcHJldkRlYnVnSW5mbyksXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChuZXdDaGlsZC4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFKVxuICAgICAgICAgICAgcmV0dXJuIHJlY29uY2lsZUNoaWxkRmliZXJzSW1wbChcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIGN1cnJlbnRGaXJzdENoaWxkLFxuICAgICAgICAgICAgICByZWFkQ29udGV4dER1cmluZ1JlY29uY2lsaWF0aW9uKHJldHVybkZpYmVyLCBuZXdDaGlsZCksXG4gICAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHRocm93T25JbnZhbGlkT2JqZWN0VHlwZShyZXR1cm5GaWJlciwgbmV3Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIFwiXCIgIT09IG5ld0NoaWxkKSB8fFxuICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBuZXdDaGlsZCB8fFxuICAgICAgICAgIFwiYmlnaW50XCIgPT09IHR5cGVvZiBuZXdDaGlsZFxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChwcmV2RGVidWdJbmZvID0gXCJcIiArIG5ld0NoaWxkKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnRGaXJzdENoaWxkICYmIDYgPT09IGN1cnJlbnRGaXJzdENoaWxkLnRhZ1xuICAgICAgICAgICAgICA/IChkZWxldGVSZW1haW5pbmdDaGlsZHJlbihcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQuc2libGluZ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKGxhbmVzID0gdXNlRmliZXIoY3VycmVudEZpcnN0Q2hpbGQsIHByZXZEZWJ1Z0luZm8pKSxcbiAgICAgICAgICAgICAgICAobGFuZXMucmV0dXJuID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IGxhbmVzKSlcbiAgICAgICAgICAgICAgOiAoZGVsZXRlUmVtYWluaW5nQ2hpbGRyZW4ocmV0dXJuRmliZXIsIGN1cnJlbnRGaXJzdENoaWxkKSxcbiAgICAgICAgICAgICAgICAobGFuZXMgPSBjcmVhdGVGaWJlckZyb21UZXh0KFxuICAgICAgICAgICAgICAgICAgcHJldkRlYnVnSW5mbyxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLm1vZGUsXG4gICAgICAgICAgICAgICAgICBsYW5lc1xuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChsYW5lcy5yZXR1cm4gPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgKGxhbmVzLl9kZWJ1Z093bmVyID0gcmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgIChsYW5lcy5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyksXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gbGFuZXMpKSxcbiAgICAgICAgICAgIHBsYWNlU2luZ2xlQ2hpbGQocmV0dXJuRmliZXIpXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3Q2hpbGQgJiZcbiAgICAgICAgICB3YXJuT25GdW5jdGlvblR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIG5ld0NoaWxkICYmIHdhcm5PblN5bWJvbFR5cGUocmV0dXJuRmliZXIsIG5ld0NoaWxkKTtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZVJlbWFpbmluZ0NoaWxkcmVuKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHJldHVybkZpYmVyLCBjdXJyZW50Rmlyc3RDaGlsZCwgbmV3Q2hpbGQsIGxhbmVzKSB7XG4gICAgICAgIHZhciBwcmV2RGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbztcbiAgICAgICAgY3VycmVudERlYnVnSW5mbyA9IG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIkMSA9IDA7XG4gICAgICAgICAgdmFyIGZpcnN0Q2hpbGRGaWJlciA9IHJlY29uY2lsZUNoaWxkRmliZXJzSW1wbChcbiAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgY3VycmVudEZpcnN0Q2hpbGQsXG4gICAgICAgICAgICBuZXdDaGlsZCxcbiAgICAgICAgICAgIGxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGVuYWJsZVN0YXRlJDEgPSBudWxsO1xuICAgICAgICAgIHJldHVybiBmaXJzdENoaWxkRmliZXI7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICBpZiAoeCA9PT0gU3VzcGVuc2VFeGNlcHRpb24pIHRocm93IHg7XG4gICAgICAgICAgdmFyIGZpYmVyID0gY3JlYXRlRmliZXIoMjksIHgsIG51bGwsIHJldHVybkZpYmVyLm1vZGUpO1xuICAgICAgICAgIGZpYmVyLmxhbmVzID0gbGFuZXM7XG4gICAgICAgICAgZmliZXIucmV0dXJuID0gcmV0dXJuRmliZXI7XG4gICAgICAgICAgdmFyIGRlYnVnSW5mbyA9IChmaWJlci5fZGVidWdJbmZvID0gY3VycmVudERlYnVnSW5mbyk7XG4gICAgICAgICAgZmliZXIuX2RlYnVnT3duZXIgPSByZXR1cm5GaWJlci5fZGVidWdPd25lcjtcbiAgICAgICAgICBpZiAobnVsbCAhPSBkZWJ1Z0luZm8pXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gZGVidWdJbmZvLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKVxuICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGRlYnVnSW5mb1tpXS5zdGFjaykge1xuICAgICAgICAgICAgICAgIGZpYmVyLl9kZWJ1Z093bmVyID0gZGVidWdJbmZvW2ldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZpYmVyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGN1cnJlbnREZWJ1Z0luZm8gPSBwcmV2RGVidWdJbmZvO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoSGlkZGVuQ29udGV4dChmaWJlciwgY29udGV4dCkge1xuICAgICAgdmFyIHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lcyA9IGVudGFuZ2xlZFJlbmRlckxhbmVzO1xuICAgICAgcHVzaChwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXNDdXJzb3IsIHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lcywgZmliZXIpO1xuICAgICAgcHVzaChjdXJyZW50VHJlZUhpZGRlblN0YWNrQ3Vyc29yLCBjb250ZXh0LCBmaWJlcik7XG4gICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lcyA9IHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lcyB8IGNvbnRleHQuYmFzZUxhbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXVzZUhpZGRlbkNvbnRleHRPblN0YWNrKGZpYmVyKSB7XG4gICAgICBwdXNoKHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lc0N1cnNvciwgZW50YW5nbGVkUmVuZGVyTGFuZXMsIGZpYmVyKTtcbiAgICAgIHB1c2goXG4gICAgICAgIGN1cnJlbnRUcmVlSGlkZGVuU3RhY2tDdXJzb3IsXG4gICAgICAgIGN1cnJlbnRUcmVlSGlkZGVuU3RhY2tDdXJzb3IuY3VycmVudCxcbiAgICAgICAgZmliZXJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBvcEhpZGRlbkNvbnRleHQoZmliZXIpIHtcbiAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzID0gcHJldkVudGFuZ2xlZFJlbmRlckxhbmVzQ3Vyc29yLmN1cnJlbnQ7XG4gICAgICBwb3AoY3VycmVudFRyZWVIaWRkZW5TdGFja0N1cnNvciwgZmliZXIpO1xuICAgICAgcG9wKHByZXZFbnRhbmdsZWRSZW5kZXJMYW5lc0N1cnNvciwgZmliZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgdmFyIGN1cnJlbnQgPSBoYW5kbGVyLmFsdGVybmF0ZTtcbiAgICAgIHB1c2goXG4gICAgICAgIHN1c3BlbnNlU3RhY2tDdXJzb3IsXG4gICAgICAgIHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCAmIFN1YnRyZWVTdXNwZW5zZUNvbnRleHRNYXNrLFxuICAgICAgICBoYW5kbGVyXG4gICAgICApO1xuICAgICAgcHVzaChzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvciwgaGFuZGxlciwgaGFuZGxlcik7XG4gICAgICBudWxsID09PSBzaGVsbEJvdW5kYXJ5ICYmXG4gICAgICAgIChudWxsID09PSBjdXJyZW50IHx8IG51bGwgIT09IGN1cnJlbnRUcmVlSGlkZGVuU3RhY2tDdXJzb3IuY3VycmVudFxuICAgICAgICAgID8gKHNoZWxsQm91bmRhcnkgPSBoYW5kbGVyKVxuICAgICAgICAgIDogbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmIChzaGVsbEJvdW5kYXJ5ID0gaGFuZGxlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoT2Zmc2NyZWVuU3VzcGVuc2VIYW5kbGVyKGZpYmVyKSB7XG4gICAgICBpZiAoMjIgPT09IGZpYmVyLnRhZykge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKHB1c2goc3VzcGVuc2VTdGFja0N1cnNvciwgc3VzcGVuc2VTdGFja0N1cnNvci5jdXJyZW50LCBmaWJlciksXG4gICAgICAgICAgcHVzaChzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvciwgZmliZXIsIGZpYmVyKSxcbiAgICAgICAgICBudWxsID09PSBzaGVsbEJvdW5kYXJ5KVxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgY3VycmVudCA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgIChzaGVsbEJvdW5kYXJ5ID0gZmliZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKGZpYmVyKSB7XG4gICAgICBwdXNoKHN1c3BlbnNlU3RhY2tDdXJzb3IsIHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCwgZmliZXIpO1xuICAgICAgcHVzaChcbiAgICAgICAgc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IsXG4gICAgICAgIHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQsXG4gICAgICAgIGZpYmVyXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwb3BTdXNwZW5zZUhhbmRsZXIoZmliZXIpIHtcbiAgICAgIHBvcChzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvciwgZmliZXIpO1xuICAgICAgc2hlbGxCb3VuZGFyeSA9PT0gZmliZXIgJiYgKHNoZWxsQm91bmRhcnkgPSBudWxsKTtcbiAgICAgIHBvcChzdXNwZW5zZVN0YWNrQ3Vyc29yLCBmaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRGaXJzdFN1c3BlbmRlZChyb3cpIHtcbiAgICAgIGZvciAodmFyIG5vZGUgPSByb3c7IG51bGwgIT09IG5vZGU7ICkge1xuICAgICAgICBpZiAoMTMgPT09IG5vZGUudGFnKSB7XG4gICAgICAgICAgdmFyIHN0YXRlID0gbm9kZS5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgIT09IHN0YXRlICYmXG4gICAgICAgICAgICAoKHN0YXRlID0gc3RhdGUuZGVoeWRyYXRlZCksXG4gICAgICAgICAgICBudWxsID09PSBzdGF0ZSB8fFxuICAgICAgICAgICAgICBzdGF0ZS5kYXRhID09PSBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEEgfHxcbiAgICAgICAgICAgICAgc3RhdGUuZGF0YSA9PT0gU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSlcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAxOSA9PT0gbm9kZS50YWcgJiZcbiAgICAgICAgICB2b2lkIDAgIT09IG5vZGUubWVtb2l6ZWRQcm9wcy5yZXZlYWxPcmRlclxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAoMCAhPT0gKG5vZGUuZmxhZ3MgJiAxMjgpKSByZXR1cm4gbm9kZTtcbiAgICAgICAgfSBlbHNlIGlmIChudWxsICE9PSBub2RlLmNoaWxkKSB7XG4gICAgICAgICAgbm9kZS5jaGlsZC5yZXR1cm4gPSBub2RlO1xuICAgICAgICAgIG5vZGUgPSBub2RlLmNoaWxkO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlID09PSByb3cpIGJyZWFrO1xuICAgICAgICBmb3IgKDsgbnVsbCA9PT0gbm9kZS5zaWJsaW5nOyApIHtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gbm9kZS5yZXR1cm4gfHwgbm9kZS5yZXR1cm4gPT09IHJvdykgcmV0dXJuIG51bGw7XG4gICAgICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuc2libGluZy5yZXR1cm4gPSBub2RlLnJldHVybjtcbiAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDYWNoZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGNvbnRyb2xsZXI6IG5ldyBBYm9ydENvbnRyb2xsZXJMb2NhbCgpLFxuICAgICAgICBkYXRhOiBuZXcgTWFwKCksXG4gICAgICAgIHJlZkNvdW50OiAwXG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXRhaW5DYWNoZShjYWNoZSkge1xuICAgICAgY2FjaGUuY29udHJvbGxlci5zaWduYWwuYWJvcnRlZCAmJlxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJBIGNhY2hlIGluc3RhbmNlIHdhcyByZXRhaW5lZCBhZnRlciBpdCB3YXMgYWxyZWFkeSBmcmVlZC4gVGhpcyBsaWtlbHkgaW5kaWNhdGVzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICk7XG4gICAgICBjYWNoZS5yZWZDb3VudCsrO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWxlYXNlQ2FjaGUoY2FjaGUpIHtcbiAgICAgIGNhY2hlLnJlZkNvdW50LS07XG4gICAgICAwID4gY2FjaGUucmVmQ291bnQgJiZcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiQSBjYWNoZSBpbnN0YW5jZSB3YXMgcmVsZWFzZWQgYWZ0ZXIgaXQgd2FzIGFscmVhZHkgZnJlZWQuIFRoaXMgbGlrZWx5IGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICApO1xuICAgICAgMCA9PT0gY2FjaGUucmVmQ291bnQgJiZcbiAgICAgICAgc2NoZWR1bGVDYWxsYmFjayQyKE5vcm1hbFByaW9yaXR5LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY2FjaGUuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW50YW5nbGVBc3luY0FjdGlvbih0cmFuc2l0aW9uLCB0aGVuYWJsZSkge1xuICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnRFbnRhbmdsZWRMaXN0ZW5lcnMpIHtcbiAgICAgICAgdmFyIGVudGFuZ2xlZExpc3RlbmVycyA9IChjdXJyZW50RW50YW5nbGVkTGlzdGVuZXJzID0gW10pO1xuICAgICAgICBjdXJyZW50RW50YW5nbGVkUGVuZGluZ0NvdW50ID0gMDtcbiAgICAgICAgY3VycmVudEVudGFuZ2xlZExhbmUgPSByZXF1ZXN0VHJhbnNpdGlvbkxhbmUoKTtcbiAgICAgICAgY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlID0ge1xuICAgICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCIsXG4gICAgICAgICAgdmFsdWU6IHZvaWQgMCxcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgZW50YW5nbGVkTGlzdGVuZXJzLnB1c2gocmVzb2x2ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY3VycmVudEVudGFuZ2xlZFBlbmRpbmdDb3VudCsrO1xuICAgICAgdGhlbmFibGUudGhlbihwaW5nRW5ndGFuZ2xlZEFjdGlvblNjb3BlLCBwaW5nRW5ndGFuZ2xlZEFjdGlvblNjb3BlKTtcbiAgICAgIHJldHVybiB0aGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGluZ0VuZ3RhbmdsZWRBY3Rpb25TY29wZSgpIHtcbiAgICAgIGlmIChcbiAgICAgICAgMCA9PT0gLS1jdXJyZW50RW50YW5nbGVkUGVuZGluZ0NvdW50ICYmXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnRFbnRhbmdsZWRMaXN0ZW5lcnNcbiAgICAgICkge1xuICAgICAgICBudWxsICE9PSBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUgJiZcbiAgICAgICAgICAoY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlLnN0YXR1cyA9IFwiZnVsZmlsbGVkXCIpO1xuICAgICAgICB2YXIgbGlzdGVuZXJzID0gY3VycmVudEVudGFuZ2xlZExpc3RlbmVycztcbiAgICAgICAgY3VycmVudEVudGFuZ2xlZExpc3RlbmVycyA9IG51bGw7XG4gICAgICAgIGN1cnJlbnRFbnRhbmdsZWRMYW5lID0gMDtcbiAgICAgICAgY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlID0gbnVsbDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspICgwLCBsaXN0ZW5lcnNbaV0pKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoYWluVGhlbmFibGVWYWx1ZSh0aGVuYWJsZSwgcmVzdWx0KSB7XG4gICAgICB2YXIgbGlzdGVuZXJzID0gW10sXG4gICAgICAgIHRoZW5hYmxlV2l0aE92ZXJyaWRlID0ge1xuICAgICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCIsXG4gICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgcmVhc29uOiBudWxsLFxuICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChyZXNvbHZlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB0aGVuYWJsZS50aGVuKFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhlbmFibGVXaXRoT3ZlcnJpZGUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIjtcbiAgICAgICAgICB0aGVuYWJsZVdpdGhPdmVycmlkZS52YWx1ZSA9IHJlc3VsdDtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgKDAsIGxpc3RlbmVyc1tpXSkocmVzdWx0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgdGhlbmFibGVXaXRoT3ZlcnJpZGUuc3RhdHVzID0gXCJyZWplY3RlZFwiO1xuICAgICAgICAgIHRoZW5hYmxlV2l0aE92ZXJyaWRlLnJlYXNvbiA9IGVycm9yO1xuICAgICAgICAgIGZvciAoZXJyb3IgPSAwOyBlcnJvciA8IGxpc3RlbmVycy5sZW5ndGg7IGVycm9yKyspXG4gICAgICAgICAgICAoMCwgbGlzdGVuZXJzW2Vycm9yXSkodm9pZCAwKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHJldHVybiB0aGVuYWJsZVdpdGhPdmVycmlkZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVla0NhY2hlRnJvbVBvb2woKSB7XG4gICAgICB2YXIgY2FjaGVSZXN1bWVkRnJvbVByZXZpb3VzUmVuZGVyID0gcmVzdW1lZENhY2hlLmN1cnJlbnQ7XG4gICAgICByZXR1cm4gbnVsbCAhPT0gY2FjaGVSZXN1bWVkRnJvbVByZXZpb3VzUmVuZGVyXG4gICAgICAgID8gY2FjaGVSZXN1bWVkRnJvbVByZXZpb3VzUmVuZGVyXG4gICAgICAgIDogd29ya0luUHJvZ3Jlc3NSb290LnBvb2xlZENhY2hlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoVHJhbnNpdGlvbihvZmZzY3JlZW5Xb3JrSW5Qcm9ncmVzcywgcHJldkNhY2hlUG9vbCkge1xuICAgICAgbnVsbCA9PT0gcHJldkNhY2hlUG9vbFxuICAgICAgICA/IHB1c2gocmVzdW1lZENhY2hlLCByZXN1bWVkQ2FjaGUuY3VycmVudCwgb2Zmc2NyZWVuV29ya0luUHJvZ3Jlc3MpXG4gICAgICAgIDogcHVzaChyZXN1bWVkQ2FjaGUsIHByZXZDYWNoZVBvb2wucG9vbCwgb2Zmc2NyZWVuV29ya0luUHJvZ3Jlc3MpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdXNwZW5kZWRDYWNoZSgpIHtcbiAgICAgIHZhciBjYWNoZUZyb21Qb29sID0gcGVla0NhY2hlRnJvbVBvb2woKTtcbiAgICAgIHJldHVybiBudWxsID09PSBjYWNoZUZyb21Qb29sXG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHsgcGFyZW50OiBDYWNoZUNvbnRleHQuX2N1cnJlbnRWYWx1ZSwgcG9vbDogY2FjaGVGcm9tUG9vbCB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEhvb2tUeXBlc0RldigpIHtcbiAgICAgIHZhciBob29rTmFtZSA9IGN1cnJlbnRIb29rTmFtZUluRGV2O1xuICAgICAgbnVsbCA9PT0gaG9va1R5cGVzRGV2XG4gICAgICAgID8gKGhvb2tUeXBlc0RldiA9IFtob29rTmFtZV0pXG4gICAgICAgIDogaG9va1R5cGVzRGV2LnB1c2goaG9va05hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVIb29rVHlwZXNEZXYoKSB7XG4gICAgICB2YXIgaG9va05hbWUgPSBjdXJyZW50SG9va05hbWVJbkRldjtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gaG9va1R5cGVzRGV2ICYmXG4gICAgICAgIChob29rVHlwZXNVcGRhdGVJbmRleERldisrLFxuICAgICAgICBob29rVHlwZXNEZXZbaG9va1R5cGVzVXBkYXRlSW5kZXhEZXZdICE9PSBob29rTmFtZSlcbiAgICAgICkge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoXG4gICAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMVxuICAgICAgICApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWRpZFdhcm5BYm91dE1pc21hdGNoZWRIb29rc0ZvckNvbXBvbmVudC5oYXMoY29tcG9uZW50TmFtZSkgJiZcbiAgICAgICAgICAoZGlkV2FybkFib3V0TWlzbWF0Y2hlZEhvb2tzRm9yQ29tcG9uZW50LmFkZChjb21wb25lbnROYW1lKSxcbiAgICAgICAgICBudWxsICE9PSBob29rVHlwZXNEZXYpXG4gICAgICAgICkge1xuICAgICAgICAgIGZvciAodmFyIHRhYmxlID0gXCJcIiwgaSA9IDA7IGkgPD0gaG9va1R5cGVzVXBkYXRlSW5kZXhEZXY7IGkrKykge1xuICAgICAgICAgICAgdmFyIG9sZEhvb2tOYW1lID0gaG9va1R5cGVzRGV2W2ldLFxuICAgICAgICAgICAgICBuZXdIb29rTmFtZSA9XG4gICAgICAgICAgICAgICAgaSA9PT0gaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPyBob29rTmFtZSA6IG9sZEhvb2tOYW1lO1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgb2xkSG9va05hbWUgPSBpICsgMSArIFwiLiBcIiArIG9sZEhvb2tOYW1lO1xuICAgICAgICAgICAgICAzMCA+IG9sZEhvb2tOYW1lLmxlbmd0aDtcblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBvbGRIb29rTmFtZSArPSBcIiBcIjtcbiAgICAgICAgICAgIG9sZEhvb2tOYW1lICs9IG5ld0hvb2tOYW1lICsgXCJcXG5cIjtcbiAgICAgICAgICAgIHRhYmxlICs9IG9sZEhvb2tOYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJSZWFjdCBoYXMgZGV0ZWN0ZWQgYSBjaGFuZ2UgaW4gdGhlIG9yZGVyIG9mIEhvb2tzIGNhbGxlZCBieSAlcy4gVGhpcyB3aWxsIGxlYWQgdG8gYnVncyBhbmQgZXJyb3JzIGlmIG5vdCBmaXhlZC4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHJlYWQgdGhlIFJ1bGVzIG9mIEhvb2tzOiBodHRwczovL3JlYWN0LmRldi9saW5rL3J1bGVzLW9mLWhvb2tzXFxuXFxuICAgUHJldmlvdXMgcmVuZGVyICAgICAgICAgICAgTmV4dCByZW5kZXJcXG4gICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cXG4lcyAgIF5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXlxcblwiLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZSxcbiAgICAgICAgICAgIHRhYmxlXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKSB7XG4gICAgICB2b2lkIDAgPT09IGRlcHMgfHxcbiAgICAgICAgbnVsbCA9PT0gZGVwcyB8fFxuICAgICAgICBpc0FycmF5SW1wbChkZXBzKSB8fFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiJXMgcmVjZWl2ZWQgYSBmaW5hbCBhcmd1bWVudCB0aGF0IGlzIG5vdCBhbiBhcnJheSAoaW5zdGVhZCwgcmVjZWl2ZWQgYCVzYCkuIFdoZW4gc3BlY2lmaWVkLCB0aGUgZmluYWwgYXJndW1lbnQgbXVzdCBiZSBhbiBhcnJheS5cIixcbiAgICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldixcbiAgICAgICAgICB0eXBlb2YgZGVwc1xuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuT25Vc2VGb3JtU3RhdGVJbkRldigpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxKTtcbiAgICAgIGRpZFdhcm5BYm91dFVzZUZvcm1TdGF0ZS5oYXMoY29tcG9uZW50TmFtZSkgfHxcbiAgICAgICAgKGRpZFdhcm5BYm91dFVzZUZvcm1TdGF0ZS5hZGQoY29tcG9uZW50TmFtZSksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZWFjdERPTS51c2VGb3JtU3RhdGUgaGFzIGJlZW4gcmVuYW1lZCB0byBSZWFjdC51c2VBY3Rpb25TdGF0ZS4gUGxlYXNlIHVwZGF0ZSAlcyB0byB1c2UgUmVhY3QudXNlQWN0aW9uU3RhdGUuXCIsXG4gICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGhyb3dJbnZhbGlkSG9va0Vycm9yKCkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIFwiSW52YWxpZCBob29rIGNhbGwuIEhvb2tzIGNhbiBvbmx5IGJlIGNhbGxlZCBpbnNpZGUgb2YgdGhlIGJvZHkgb2YgYSBmdW5jdGlvbiBjb21wb25lbnQuIFRoaXMgY291bGQgaGFwcGVuIGZvciBvbmUgb2YgdGhlIGZvbGxvd2luZyByZWFzb25zOlxcbjEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbjIuIFlvdSBtaWdodCBiZSBicmVha2luZyB0aGUgUnVsZXMgb2YgSG9va3NcXG4zLiBZb3UgbWlnaHQgaGF2ZSBtb3JlIHRoYW4gb25lIGNvcHkgb2YgUmVhY3QgaW4gdGhlIHNhbWUgYXBwXFxuU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvaW52YWxpZC1ob29rLWNhbGwgZm9yIHRpcHMgYWJvdXQgaG93IHRvIGRlYnVnIGFuZCBmaXggdGhpcyBwcm9ibGVtLlwiXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhcmVIb29rSW5wdXRzRXF1YWwobmV4dERlcHMsIHByZXZEZXBzKSB7XG4gICAgICBpZiAoaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMpIHJldHVybiAhMTtcbiAgICAgIGlmIChudWxsID09PSBwcmV2RGVwcylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyByZWNlaXZlZCBhIGZpbmFsIGFyZ3VtZW50IGR1cmluZyB0aGlzIHJlbmRlciwgYnV0IG5vdCBkdXJpbmcgdGhlIHByZXZpb3VzIHJlbmRlci4gRXZlbiB0aG91Z2ggdGhlIGZpbmFsIGFyZ3VtZW50IGlzIG9wdGlvbmFsLCBpdHMgdHlwZSBjYW5ub3QgY2hhbmdlIGJldHdlZW4gcmVuZGVycy5cIixcbiAgICAgICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2XG4gICAgICAgICAgKSxcbiAgICAgICAgICAhMVxuICAgICAgICApO1xuICAgICAgbmV4dERlcHMubGVuZ3RoICE9PSBwcmV2RGVwcy5sZW5ndGggJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlRoZSBmaW5hbCBhcmd1bWVudCBwYXNzZWQgdG8gJXMgY2hhbmdlZCBzaXplIGJldHdlZW4gcmVuZGVycy4gVGhlIG9yZGVyIGFuZCBzaXplIG9mIHRoaXMgYXJyYXkgbXVzdCByZW1haW4gY29uc3RhbnQuXFxuXFxuUHJldmlvdXM6ICVzXFxuSW5jb21pbmc6ICVzXCIsXG4gICAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYsXG4gICAgICAgICAgXCJbXCIgKyBwcmV2RGVwcy5qb2luKFwiLCBcIikgKyBcIl1cIixcbiAgICAgICAgICBcIltcIiArIG5leHREZXBzLmpvaW4oXCIsIFwiKSArIFwiXVwiXG4gICAgICAgICk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZXZEZXBzLmxlbmd0aCAmJiBpIDwgbmV4dERlcHMubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghb2JqZWN0SXMobmV4dERlcHNbaV0sIHByZXZEZXBzW2ldKSkgcmV0dXJuICExO1xuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5kZXJXaXRoSG9va3MoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBwcm9wcyxcbiAgICAgIHNlY29uZEFyZyxcbiAgICAgIG5leHRSZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgcmVuZGVyTGFuZXMgPSBuZXh0UmVuZGVyTGFuZXM7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICBob29rVHlwZXNEZXYgPSBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5fZGVidWdIb29rVHlwZXMgOiBudWxsO1xuICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgICAgIGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzID1cbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBjdXJyZW50LnR5cGUgIT09IHdvcmtJblByb2dyZXNzLnR5cGU7XG4gICAgICBpZiAoXG4gICAgICAgIFwiW29iamVjdCBBc3luY0Z1bmN0aW9uXVwiID09PVxuICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChDb21wb25lbnQpIHx8XG4gICAgICAgIFwiW29iamVjdCBBc3luY0dlbmVyYXRvckZ1bmN0aW9uXVwiID09PVxuICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChDb21wb25lbnQpXG4gICAgICApXG4gICAgICAgIChuZXh0UmVuZGVyTGFuZXMgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKFxuICAgICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDFcbiAgICAgICAgKSksXG4gICAgICAgICAgZGlkV2FybkFib3V0QXN5bmNDbGllbnRDb21wb25lbnQuaGFzKG5leHRSZW5kZXJMYW5lcykgfHxcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXRBc3luY0NsaWVudENvbXBvbmVudC5hZGQobmV4dFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiYXN5bmMvYXdhaXQgaXMgbm90IHlldCBzdXBwb3J0ZWQgaW4gQ2xpZW50IENvbXBvbmVudHMsIG9ubHkgU2VydmVyIENvbXBvbmVudHMuIFRoaXMgZXJyb3IgaXMgb2Z0ZW4gY2F1c2VkIGJ5IGFjY2lkZW50YWxseSBhZGRpbmcgYCd1c2UgY2xpZW50J2AgdG8gYSBtb2R1bGUgdGhhdCB3YXMgb3JpZ2luYWxseSB3cml0dGVuIGZvciB0aGUgc2VydmVyLlwiXG4gICAgICAgICAgICApKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBudWxsO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubGFuZXMgPSAwO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgPyBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWXG4gICAgICAgICAgOiBudWxsICE9PSBob29rVHlwZXNEZXZcbiAgICAgICAgICAgID8gSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVlxuICAgICAgICAgICAgOiBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICBzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFViA9IG5leHRSZW5kZXJMYW5lcyA9XG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkgIT09IE5vTW9kZTtcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNhbGxDb21wb25lbnRJbkRFVihDb21wb25lbnQsIHByb3BzLCBzZWNvbmRBcmcpO1xuICAgICAgc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYgPSAhMTtcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyAmJlxuICAgICAgICAoY2hpbGRyZW4gPSByZW5kZXJXaXRoSG9va3NBZ2FpbihcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgc2Vjb25kQXJnXG4gICAgICAgICkpO1xuICAgICAgaWYgKG5leHRSZW5kZXJMYW5lcykge1xuICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY2hpbGRyZW4gPSByZW5kZXJXaXRoSG9va3NBZ2FpbihcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICBzZWNvbmRBcmdcbiAgICAgICAgICApO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmluaXNoUmVuZGVyaW5nSG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5pc2hSZW5kZXJpbmdIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnSG9va1R5cGVzID0gaG9va1R5cGVzRGV2O1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzXG4gICAgICAgID8gbnVsbCAhPT0gdGhlbmFibGVTdGF0ZSAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMgPSB7XG4gICAgICAgICAgICBsYW5lczogMCxcbiAgICAgICAgICAgIGZpcnN0Q29udGV4dDogbnVsbCxcbiAgICAgICAgICAgIF9kZWJ1Z1RoZW5hYmxlU3RhdGU6IHRoZW5hYmxlU3RhdGVcbiAgICAgICAgICB9KVxuICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXMuX2RlYnVnVGhlbmFibGVTdGF0ZSA9IHRoZW5hYmxlU3RhdGUpO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IENvbnRleHRPbmx5RGlzcGF0Y2hlcjtcbiAgICAgIHZhciBkaWRSZW5kZXJUb29GZXdIb29rcyA9XG4gICAgICAgIG51bGwgIT09IGN1cnJlbnRIb29rICYmIG51bGwgIT09IGN1cnJlbnRIb29rLm5leHQ7XG4gICAgICByZW5kZXJMYW5lcyA9IDA7XG4gICAgICBob29rVHlwZXNEZXYgPVxuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzSG9vayA9XG4gICAgICAgIGN1cnJlbnRIb29rID1cbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIGhvb2tUeXBlc1VwZGF0ZUluZGV4RGV2ID0gLTE7XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgIChjdXJyZW50LmZsYWdzICYgMzE0NTcyODApICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAzMTQ1NzI4MCkgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkludGVybmFsIFJlYWN0IGVycm9yOiBFeHBlY3RlZCBzdGF0aWMgZmxhZyB3YXMgbWlzc2luZy4gUGxlYXNlIG5vdGlmeSB0aGUgUmVhY3QgdGVhbS5cIlxuICAgICAgICApO1xuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSA9ICExO1xuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIgPSAwO1xuICAgICAgdGhlbmFibGVTdGF0ZSA9IG51bGw7XG4gICAgICBpZiAoZGlkUmVuZGVyVG9vRmV3SG9va3MpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiUmVuZGVyZWQgZmV3ZXIgaG9va3MgdGhhbiBleHBlY3RlZC4gVGhpcyBtYXkgYmUgY2F1c2VkIGJ5IGFuIGFjY2lkZW50YWwgZWFybHkgcmV0dXJuIHN0YXRlbWVudC5cIlxuICAgICAgICApO1xuICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICBkaWRSZWNlaXZlVXBkYXRlIHx8XG4gICAgICAgICgoY3VycmVudCA9IGN1cnJlbnQuZGVwZW5kZW5jaWVzKSxcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgIGNoZWNrSWZDb250ZXh0Q2hhbmdlZChjdXJyZW50KSAmJlxuICAgICAgICAgIChkaWRSZWNlaXZlVXBkYXRlID0gITApKTtcbiAgICAgIG5lZWRzVG9SZXNldFN1c3BlbmRlZFRoZW5hYmxlREVWXG4gICAgICAgID8gKChuZWVkc1RvUmVzZXRTdXNwZW5kZWRUaGVuYWJsZURFViA9ICExKSwgKGN1cnJlbnQgPSAhMCkpXG4gICAgICAgIDogKGN1cnJlbnQgPSAhMSk7XG4gICAgICBjdXJyZW50ICYmXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3MgPVxuICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIod29ya0luUHJvZ3Jlc3MpIHx8IFwiVW5rbm93blwiKSxcbiAgICAgICAgZGlkV2FybkFib3V0VXNlV3JhcHBlZEluVHJ5Q2F0Y2guaGFzKHdvcmtJblByb2dyZXNzKSB8fFxuICAgICAgICAgIGRpZFdhcm5BYm91dEFzeW5jQ2xpZW50Q29tcG9uZW50Lmhhcyh3b3JrSW5Qcm9ncmVzcykgfHxcbiAgICAgICAgICAoZGlkV2FybkFib3V0VXNlV3JhcHBlZEluVHJ5Q2F0Y2guYWRkKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJgdXNlYCB3YXMgY2FsbGVkIGZyb20gaW5zaWRlIGEgdHJ5L2NhdGNoIGJsb2NrLiBUaGlzIGlzIG5vdCBhbGxvd2VkIGFuZCBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yLiBUbyBoYW5kbGUgZXJyb3JzIHRyaWdnZXJlZCBieSBgdXNlYCwgd3JhcCB5b3VyIGNvbXBvbmVudCBpbiBhIGVycm9yIGJvdW5kYXJ5LlwiXG4gICAgICAgICAgKSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5kZXJXaXRoSG9va3NBZ2Fpbih3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50LCBwcm9wcywgc2Vjb25kQXJnKSB7XG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICB2YXIgbnVtYmVyT2ZSZVJlbmRlcnMgPSAwO1xuICAgICAgZG8ge1xuICAgICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MgJiYgKHRoZW5hYmxlU3RhdGUgPSBudWxsKTtcbiAgICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIgPSAwO1xuICAgICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MgPSAhMTtcbiAgICAgICAgaWYgKG51bWJlck9mUmVSZW5kZXJzID49IFJFX1JFTkRFUl9MSU1JVClcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiVG9vIG1hbnkgcmUtcmVuZGVycy4gUmVhY3QgbGltaXRzIHRoZSBudW1iZXIgb2YgcmVuZGVycyB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AuXCJcbiAgICAgICAgICApO1xuICAgICAgICBudW1iZXJPZlJlUmVuZGVycyArPSAxO1xuICAgICAgICBpZ25vcmVQcmV2aW91c0RlcGVuZGVuY2llcyA9ICExO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzc0hvb2sgPSBjdXJyZW50SG9vayA9IG51bGw7XG4gICAgICAgIGlmIChudWxsICE9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlKSB7XG4gICAgICAgICAgdmFyIGNoaWxkcmVuID0gd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWU7XG4gICAgICAgICAgY2hpbGRyZW4ubGFzdEVmZmVjdCA9IG51bGw7XG4gICAgICAgICAgY2hpbGRyZW4uZXZlbnRzID0gbnVsbDtcbiAgICAgICAgICBjaGlsZHJlbi5zdG9yZXMgPSBudWxsO1xuICAgICAgICAgIG51bGwgIT0gY2hpbGRyZW4ubWVtb0NhY2hlICYmIChjaGlsZHJlbi5tZW1vQ2FjaGUuaW5kZXggPSAwKTtcbiAgICAgICAgfVxuICAgICAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWO1xuICAgICAgICBjaGlsZHJlbiA9IGNhbGxDb21wb25lbnRJbkRFVihDb21wb25lbnQsIHByb3BzLCBzZWNvbmRBcmcpO1xuICAgICAgfSB3aGlsZSAoZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzKTtcbiAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gVHJhbnNpdGlvbkF3YXJlSG9zdENvbXBvbmVudCgpIHtcbiAgICAgIHZhciBkaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCxcbiAgICAgICAgbWF5YmVUaGVuYWJsZSA9IGRpc3BhdGNoZXIudXNlU3RhdGUoKVswXTtcbiAgICAgIG1heWJlVGhlbmFibGUgPVxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBtYXliZVRoZW5hYmxlLnRoZW5cbiAgICAgICAgICA/IHVzZVRoZW5hYmxlKG1heWJlVGhlbmFibGUpXG4gICAgICAgICAgOiBtYXliZVRoZW5hYmxlO1xuICAgICAgZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXIudXNlU3RhdGUoKVswXTtcbiAgICAgIChudWxsICE9PSBjdXJyZW50SG9vayA/IGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUgOiBudWxsKSAhPT1cbiAgICAgICAgZGlzcGF0Y2hlciAmJiAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5mbGFncyB8PSAxMDI0KTtcbiAgICAgIHJldHVybiBtYXliZVRoZW5hYmxlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja0RpZFJlbmRlcklkSG9vaygpIHtcbiAgICAgIHZhciBkaWRSZW5kZXJJZEhvb2sgPSAwICE9PSBsb2NhbElkQ291bnRlcjtcbiAgICAgIGxvY2FsSWRDb3VudGVyID0gMDtcbiAgICAgIHJldHVybiBkaWRSZW5kZXJJZEhvb2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJhaWxvdXRIb29rcyhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbGFuZXMpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzID1cbiAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RFZmZlY3RzTW9kZSkgIT09IE5vTW9kZVxuICAgICAgICAgID8gd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAtMjAxMzI4NjQ1XG4gICAgICAgICAgOiB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIC0yMDUzO1xuICAgICAgY3VycmVudC5sYW5lcyAmPSB+bGFuZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0SG9va3NPblVud2luZCh3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgaWYgKGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGUpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3M7XG5cbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIHF1ZXVlID0gd29ya0luUHJvZ3Jlc3MucXVldWU7XG4gICAgICAgICAgbnVsbCAhPT0gcXVldWUgJiYgKHF1ZXVlLnBlbmRpbmcgPSBudWxsKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHdvcmtJblByb2dyZXNzLm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSA9ICExO1xuICAgICAgfVxuICAgICAgcmVuZGVyTGFuZXMgPSAwO1xuICAgICAgaG9va1R5cGVzRGV2ID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NIb29rID1cbiAgICAgICAgY3VycmVudEhvb2sgPVxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxID1cbiAgICAgICAgICBudWxsO1xuICAgICAgaG9va1R5cGVzVXBkYXRlSW5kZXhEZXYgPSAtMTtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gbnVsbDtcbiAgICAgIGRpZFNjaGVkdWxlUmVuZGVyUGhhc2VVcGRhdGVEdXJpbmdUaGlzUGFzcyA9ICExO1xuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIgPSBsb2NhbElkQ291bnRlciA9IDA7XG4gICAgICB0aGVuYWJsZVN0YXRlID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKSB7XG4gICAgICB2YXIgaG9vayA9IHtcbiAgICAgICAgbWVtb2l6ZWRTdGF0ZTogbnVsbCxcbiAgICAgICAgYmFzZVN0YXRlOiBudWxsLFxuICAgICAgICBiYXNlUXVldWU6IG51bGwsXG4gICAgICAgIHF1ZXVlOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NIb29rXG4gICAgICAgID8gKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubWVtb2l6ZWRTdGF0ZSA9IHdvcmtJblByb2dyZXNzSG9vayA9IGhvb2spXG4gICAgICAgIDogKHdvcmtJblByb2dyZXNzSG9vayA9IHdvcmtJblByb2dyZXNzSG9vay5uZXh0ID0gaG9vayk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3NIb29rO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKSB7XG4gICAgICBpZiAobnVsbCA9PT0gY3VycmVudEhvb2spIHtcbiAgICAgICAgdmFyIG5leHRDdXJyZW50SG9vayA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuYWx0ZXJuYXRlO1xuICAgICAgICBuZXh0Q3VycmVudEhvb2sgPVxuICAgICAgICAgIG51bGwgIT09IG5leHRDdXJyZW50SG9vayA/IG5leHRDdXJyZW50SG9vay5tZW1vaXplZFN0YXRlIDogbnVsbDtcbiAgICAgIH0gZWxzZSBuZXh0Q3VycmVudEhvb2sgPSBjdXJyZW50SG9vay5uZXh0O1xuICAgICAgdmFyIG5leHRXb3JrSW5Qcm9ncmVzc0hvb2sgPVxuICAgICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc0hvb2tcbiAgICAgICAgICA/IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgIDogd29ya0luUHJvZ3Jlc3NIb29rLm5leHQ7XG4gICAgICBpZiAobnVsbCAhPT0gbmV4dFdvcmtJblByb2dyZXNzSG9vaylcbiAgICAgICAgKHdvcmtJblByb2dyZXNzSG9vayA9IG5leHRXb3JrSW5Qcm9ncmVzc0hvb2spLFxuICAgICAgICAgIChjdXJyZW50SG9vayA9IG5leHRDdXJyZW50SG9vayk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgaWYgKG51bGwgPT09IG5leHRDdXJyZW50SG9vaykge1xuICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmFsdGVybmF0ZSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIlVwZGF0ZSBob29rIGNhbGxlZCBvbiBpbml0aWFsIHJlbmRlci4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHRocm93IEVycm9yKFwiUmVuZGVyZWQgbW9yZSBob29rcyB0aGFuIGR1cmluZyB0aGUgcHJldmlvdXMgcmVuZGVyLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50SG9vayA9IG5leHRDdXJyZW50SG9vaztcbiAgICAgICAgbmV4dEN1cnJlbnRIb29rID0ge1xuICAgICAgICAgIG1lbW9pemVkU3RhdGU6IGN1cnJlbnRIb29rLm1lbW9pemVkU3RhdGUsXG4gICAgICAgICAgYmFzZVN0YXRlOiBjdXJyZW50SG9vay5iYXNlU3RhdGUsXG4gICAgICAgICAgYmFzZVF1ZXVlOiBjdXJyZW50SG9vay5iYXNlUXVldWUsXG4gICAgICAgICAgcXVldWU6IGN1cnJlbnRIb29rLnF1ZXVlLFxuICAgICAgICAgIG5leHQ6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NIb29rXG4gICAgICAgICAgPyAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tZW1vaXplZFN0YXRlID0gd29ya0luUHJvZ3Jlc3NIb29rID1cbiAgICAgICAgICAgICAgbmV4dEN1cnJlbnRIb29rKVxuICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzSG9vayA9IHdvcmtJblByb2dyZXNzSG9vay5uZXh0ID0gbmV4dEN1cnJlbnRIb29rKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzc0hvb2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZVRoZW5hYmxlKHRoZW5hYmxlKSB7XG4gICAgICB2YXIgaW5kZXggPSB0aGVuYWJsZUluZGV4Q291bnRlcjtcbiAgICAgIHRoZW5hYmxlSW5kZXhDb3VudGVyICs9IDE7XG4gICAgICBudWxsID09PSB0aGVuYWJsZVN0YXRlICYmICh0aGVuYWJsZVN0YXRlID0gY3JlYXRlVGhlbmFibGVTdGF0ZSgpKTtcbiAgICAgIHRoZW5hYmxlID0gdHJhY2tVc2VkVGhlbmFibGUodGhlbmFibGVTdGF0ZSwgdGhlbmFibGUsIGluZGV4KTtcbiAgICAgIGluZGV4ID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMTtcbiAgICAgIG51bGwgPT09XG4gICAgICAgIChudWxsID09PSB3b3JrSW5Qcm9ncmVzc0hvb2tcbiAgICAgICAgICA/IGluZGV4Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICA6IHdvcmtJblByb2dyZXNzSG9vay5uZXh0KSAmJlxuICAgICAgICAoKGluZGV4ID0gaW5kZXguYWx0ZXJuYXRlKSxcbiAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPVxuICAgICAgICAgIG51bGwgIT09IGluZGV4ICYmIG51bGwgIT09IGluZGV4Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgID8gSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVlxuICAgICAgICAgICAgOiBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYpKTtcbiAgICAgIHJldHVybiB0aGVuYWJsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXNlKHVzYWJsZSkge1xuICAgICAgaWYgKG51bGwgIT09IHVzYWJsZSAmJiBcIm9iamVjdFwiID09PSB0eXBlb2YgdXNhYmxlKSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB1c2FibGUudGhlbikgcmV0dXJuIHVzZVRoZW5hYmxlKHVzYWJsZSk7XG4gICAgICAgIGlmICh1c2FibGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSkgcmV0dXJuIHJlYWRDb250ZXh0KHVzYWJsZSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBFcnJvcihcIkFuIHVuc3VwcG9ydGVkIHR5cGUgd2FzIHBhc3NlZCB0byB1c2UoKTogXCIgKyBTdHJpbmcodXNhYmxlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVzZU1lbW9DYWNoZShzaXplKSB7XG4gICAgICB2YXIgbWVtb0NhY2hlID0gbnVsbCxcbiAgICAgICAgdXBkYXRlUXVldWUgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLnVwZGF0ZVF1ZXVlO1xuICAgICAgbnVsbCAhPT0gdXBkYXRlUXVldWUgJiYgKG1lbW9DYWNoZSA9IHVwZGF0ZVF1ZXVlLm1lbW9DYWNoZSk7XG4gICAgICBpZiAobnVsbCA9PSBtZW1vQ2FjaGUpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmFsdGVybmF0ZTtcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICgoY3VycmVudCA9IGN1cnJlbnQudXBkYXRlUXVldWUpLFxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICgoY3VycmVudCA9IGN1cnJlbnQubWVtb0NhY2hlKSxcbiAgICAgICAgICAgIG51bGwgIT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICAobWVtb0NhY2hlID0ge1xuICAgICAgICAgICAgICAgIGRhdGE6IGN1cnJlbnQuZGF0YS5tYXAoZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXkuc2xpY2UoKTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBpbmRleDogMFxuICAgICAgICAgICAgICB9KSkpO1xuICAgICAgfVxuICAgICAgbnVsbCA9PSBtZW1vQ2FjaGUgJiYgKG1lbW9DYWNoZSA9IHsgZGF0YTogW10sIGluZGV4OiAwIH0pO1xuICAgICAgbnVsbCA9PT0gdXBkYXRlUXVldWUgJiZcbiAgICAgICAgKCh1cGRhdGVRdWV1ZSA9IGNyZWF0ZUZ1bmN0aW9uQ29tcG9uZW50VXBkYXRlUXVldWUoKSksXG4gICAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLnVwZGF0ZVF1ZXVlID0gdXBkYXRlUXVldWUpKTtcbiAgICAgIHVwZGF0ZVF1ZXVlLm1lbW9DYWNoZSA9IG1lbW9DYWNoZTtcbiAgICAgIHVwZGF0ZVF1ZXVlID0gbWVtb0NhY2hlLmRhdGFbbWVtb0NhY2hlLmluZGV4XTtcbiAgICAgIGlmICh2b2lkIDAgPT09IHVwZGF0ZVF1ZXVlIHx8IGlnbm9yZVByZXZpb3VzRGVwZW5kZW5jaWVzKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHVwZGF0ZVF1ZXVlID0gbWVtb0NhY2hlLmRhdGFbbWVtb0NhY2hlLmluZGV4XSA9IEFycmF5KHNpemUpLFxuICAgICAgICAgICAgY3VycmVudCA9IDA7XG4gICAgICAgICAgY3VycmVudCA8IHNpemU7XG4gICAgICAgICAgY3VycmVudCsrXG4gICAgICAgIClcbiAgICAgICAgICB1cGRhdGVRdWV1ZVtjdXJyZW50XSA9IFJFQUNUX01FTU9fQ0FDSEVfU0VOVElORUw7XG4gICAgICBlbHNlXG4gICAgICAgIHVwZGF0ZVF1ZXVlLmxlbmd0aCAhPT0gc2l6ZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGEgY29uc3RhbnQgc2l6ZSBhcmd1bWVudCBmb3IgZWFjaCBpbnZvY2F0aW9uIG9mIHVzZU1lbW9DYWNoZS4gVGhlIHByZXZpb3VzIGNhY2hlIHdhcyBhbGxvY2F0ZWQgd2l0aCBzaXplICVzIGJ1dCBzaXplICVzIHdhcyByZXF1ZXN0ZWQuXCIsXG4gICAgICAgICAgICB1cGRhdGVRdWV1ZS5sZW5ndGgsXG4gICAgICAgICAgICBzaXplXG4gICAgICAgICAgKTtcbiAgICAgIG1lbW9DYWNoZS5pbmRleCsrO1xuICAgICAgcmV0dXJuIHVwZGF0ZVF1ZXVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiYXNpY1N0YXRlUmVkdWNlcihzdGF0ZSwgYWN0aW9uKSB7XG4gICAgICByZXR1cm4gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYWN0aW9uID8gYWN0aW9uKHN0YXRlKSA6IGFjdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGlmICh2b2lkIDAgIT09IGluaXQpIHtcbiAgICAgICAgdmFyIGluaXRpYWxTdGF0ZSA9IGluaXQoaW5pdGlhbEFyZyk7XG4gICAgICAgIGlmIChzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFVikge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5pdChpbml0aWFsQXJnKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGluaXRpYWxTdGF0ZSA9IGluaXRpYWxBcmc7XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBob29rLmJhc2VTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgIHJlZHVjZXIgPSB7XG4gICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgIGxhbmVzOiAwLFxuICAgICAgICBkaXNwYXRjaDogbnVsbCxcbiAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogcmVkdWNlcixcbiAgICAgICAgbGFzdFJlbmRlcmVkU3RhdGU6IGluaXRpYWxTdGF0ZVxuICAgICAgfTtcbiAgICAgIGhvb2sucXVldWUgPSByZWR1Y2VyO1xuICAgICAgcmVkdWNlciA9IHJlZHVjZXIuZGlzcGF0Y2ggPSBkaXNwYXRjaFJlZHVjZXJBY3Rpb24uYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgcmVkdWNlclxuICAgICAgKTtcbiAgICAgIHJldHVybiBbaG9vay5tZW1vaXplZFN0YXRlLCByZWR1Y2VyXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlUmVkdWNlcihyZWR1Y2VyKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgcmV0dXJuIHVwZGF0ZVJlZHVjZXJJbXBsKGhvb2ssIGN1cnJlbnRIb29rLCByZWR1Y2VyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlUmVkdWNlckltcGwoaG9vaywgY3VycmVudCwgcmVkdWNlcikge1xuICAgICAgdmFyIHF1ZXVlID0gaG9vay5xdWV1ZTtcbiAgICAgIGlmIChudWxsID09PSBxdWV1ZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJTaG91bGQgaGF2ZSBhIHF1ZXVlLiBZb3UgYXJlIGxpa2VseSBjYWxsaW5nIEhvb2tzIGNvbmRpdGlvbmFsbHksIHdoaWNoIGlzIG5vdCBhbGxvd2VkLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbClcIlxuICAgICAgICApO1xuICAgICAgcXVldWUubGFzdFJlbmRlcmVkUmVkdWNlciA9IHJlZHVjZXI7XG4gICAgICB2YXIgYmFzZVF1ZXVlID0gaG9vay5iYXNlUXVldWUsXG4gICAgICAgIHBlbmRpbmdRdWV1ZSA9IHF1ZXVlLnBlbmRpbmc7XG4gICAgICBpZiAobnVsbCAhPT0gcGVuZGluZ1F1ZXVlKSB7XG4gICAgICAgIGlmIChudWxsICE9PSBiYXNlUXVldWUpIHtcbiAgICAgICAgICB2YXIgYmFzZUZpcnN0ID0gYmFzZVF1ZXVlLm5leHQ7XG4gICAgICAgICAgYmFzZVF1ZXVlLm5leHQgPSBwZW5kaW5nUXVldWUubmV4dDtcbiAgICAgICAgICBwZW5kaW5nUXVldWUubmV4dCA9IGJhc2VGaXJzdDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50LmJhc2VRdWV1ZSAhPT0gYmFzZVF1ZXVlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiSW50ZXJuYWwgZXJyb3I6IEV4cGVjdGVkIHdvcmstaW4tcHJvZ3Jlc3MgcXVldWUgdG8gYmUgYSBjbG9uZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGN1cnJlbnQuYmFzZVF1ZXVlID0gYmFzZVF1ZXVlID0gcGVuZGluZ1F1ZXVlO1xuICAgICAgICBxdWV1ZS5wZW5kaW5nID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIHBlbmRpbmdRdWV1ZSA9IGhvb2suYmFzZVN0YXRlO1xuICAgICAgaWYgKG51bGwgPT09IGJhc2VRdWV1ZSkgaG9vay5tZW1vaXplZFN0YXRlID0gcGVuZGluZ1F1ZXVlO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGN1cnJlbnQgPSBiYXNlUXVldWUubmV4dDtcbiAgICAgICAgdmFyIG5ld0Jhc2VRdWV1ZUZpcnN0ID0gKGJhc2VGaXJzdCA9IG51bGwpLFxuICAgICAgICAgIG5ld0Jhc2VRdWV1ZUxhc3QgPSBudWxsLFxuICAgICAgICAgIHVwZGF0ZSA9IGN1cnJlbnQsXG4gICAgICAgICAgZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiA9ICExO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgdmFyIHVwZGF0ZUxhbmUgPSB1cGRhdGUubGFuZSAmIC01MzY4NzA5MTM7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdXBkYXRlTGFuZSAhPT0gdXBkYXRlLmxhbmVcbiAgICAgICAgICAgICAgPyAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiB1cGRhdGVMYW5lKSA9PT0gdXBkYXRlTGFuZVxuICAgICAgICAgICAgICA6IChyZW5kZXJMYW5lcyAmIHVwZGF0ZUxhbmUpID09PSB1cGRhdGVMYW5lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgcmV2ZXJ0TGFuZSA9IHVwZGF0ZS5yZXZlcnRMYW5lO1xuICAgICAgICAgICAgaWYgKDAgPT09IHJldmVydExhbmUpXG4gICAgICAgICAgICAgIG51bGwgIT09IG5ld0Jhc2VRdWV1ZUxhc3QgJiZcbiAgICAgICAgICAgICAgICAobmV3QmFzZVF1ZXVlTGFzdCA9IG5ld0Jhc2VRdWV1ZUxhc3QubmV4dCA9XG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhbmU6IDAsXG4gICAgICAgICAgICAgICAgICAgIHJldmVydExhbmU6IDAsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogdXBkYXRlLmFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgaGFzRWFnZXJTdGF0ZTogdXBkYXRlLmhhc0VhZ2VyU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIGVhZ2VyU3RhdGU6IHVwZGF0ZS5lYWdlclN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB1cGRhdGVMYW5lID09PSBjdXJyZW50RW50YW5nbGVkTGFuZSAmJlxuICAgICAgICAgICAgICAgICAgKGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMCk7XG4gICAgICAgICAgICBlbHNlIGlmICgocmVuZGVyTGFuZXMgJiByZXZlcnRMYW5lKSA9PT0gcmV2ZXJ0TGFuZSkge1xuICAgICAgICAgICAgICB1cGRhdGUgPSB1cGRhdGUubmV4dDtcbiAgICAgICAgICAgICAgcmV2ZXJ0TGFuZSA9PT0gY3VycmVudEVudGFuZ2xlZExhbmUgJiZcbiAgICAgICAgICAgICAgICAoZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiA9ICEwKTtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgKHVwZGF0ZUxhbmUgPSB7XG4gICAgICAgICAgICAgICAgbGFuZTogMCxcbiAgICAgICAgICAgICAgICByZXZlcnRMYW5lOiB1cGRhdGUucmV2ZXJ0TGFuZSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHVwZGF0ZS5hY3Rpb24sXG4gICAgICAgICAgICAgICAgaGFzRWFnZXJTdGF0ZTogdXBkYXRlLmhhc0VhZ2VyU3RhdGUsXG4gICAgICAgICAgICAgICAgZWFnZXJTdGF0ZTogdXBkYXRlLmVhZ2VyU3RhdGUsXG4gICAgICAgICAgICAgICAgbmV4dDogbnVsbFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBudWxsID09PSBuZXdCYXNlUXVldWVMYXN0XG4gICAgICAgICAgICAgICAgICA/ICgobmV3QmFzZVF1ZXVlRmlyc3QgPSBuZXdCYXNlUXVldWVMYXN0ID0gdXBkYXRlTGFuZSksXG4gICAgICAgICAgICAgICAgICAgIChiYXNlRmlyc3QgPSBwZW5kaW5nUXVldWUpKVxuICAgICAgICAgICAgICAgICAgOiAobmV3QmFzZVF1ZXVlTGFzdCA9IG5ld0Jhc2VRdWV1ZUxhc3QubmV4dCA9IHVwZGF0ZUxhbmUpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLmxhbmVzIHw9IHJldmVydExhbmUpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgfD0gcmV2ZXJ0TGFuZSk7XG4gICAgICAgICAgICB1cGRhdGVMYW5lID0gdXBkYXRlLmFjdGlvbjtcbiAgICAgICAgICAgIHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWICYmXG4gICAgICAgICAgICAgIHJlZHVjZXIocGVuZGluZ1F1ZXVlLCB1cGRhdGVMYW5lKTtcbiAgICAgICAgICAgIHBlbmRpbmdRdWV1ZSA9IHVwZGF0ZS5oYXNFYWdlclN0YXRlXG4gICAgICAgICAgICAgID8gdXBkYXRlLmVhZ2VyU3RhdGVcbiAgICAgICAgICAgICAgOiByZWR1Y2VyKHBlbmRpbmdRdWV1ZSwgdXBkYXRlTGFuZSk7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAocmV2ZXJ0TGFuZSA9IHtcbiAgICAgICAgICAgICAgbGFuZTogdXBkYXRlTGFuZSxcbiAgICAgICAgICAgICAgcmV2ZXJ0TGFuZTogdXBkYXRlLnJldmVydExhbmUsXG4gICAgICAgICAgICAgIGFjdGlvbjogdXBkYXRlLmFjdGlvbixcbiAgICAgICAgICAgICAgaGFzRWFnZXJTdGF0ZTogdXBkYXRlLmhhc0VhZ2VyU3RhdGUsXG4gICAgICAgICAgICAgIGVhZ2VyU3RhdGU6IHVwZGF0ZS5lYWdlclN0YXRlLFxuICAgICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gbmV3QmFzZVF1ZXVlTGFzdFxuICAgICAgICAgICAgICAgID8gKChuZXdCYXNlUXVldWVGaXJzdCA9IG5ld0Jhc2VRdWV1ZUxhc3QgPSByZXZlcnRMYW5lKSxcbiAgICAgICAgICAgICAgICAgIChiYXNlRmlyc3QgPSBwZW5kaW5nUXVldWUpKVxuICAgICAgICAgICAgICAgIDogKG5ld0Jhc2VRdWV1ZUxhc3QgPSBuZXdCYXNlUXVldWVMYXN0Lm5leHQgPSByZXZlcnRMYW5lKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubGFuZXMgfD0gdXBkYXRlTGFuZSksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgfD0gdXBkYXRlTGFuZSk7XG4gICAgICAgICAgdXBkYXRlID0gdXBkYXRlLm5leHQ7XG4gICAgICAgIH0gd2hpbGUgKG51bGwgIT09IHVwZGF0ZSAmJiB1cGRhdGUgIT09IGN1cnJlbnQpO1xuICAgICAgICBudWxsID09PSBuZXdCYXNlUXVldWVMYXN0XG4gICAgICAgICAgPyAoYmFzZUZpcnN0ID0gcGVuZGluZ1F1ZXVlKVxuICAgICAgICAgIDogKG5ld0Jhc2VRdWV1ZUxhc3QubmV4dCA9IG5ld0Jhc2VRdWV1ZUZpcnN0KTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICFvYmplY3RJcyhwZW5kaW5nUXVldWUsIGhvb2subWVtb2l6ZWRTdGF0ZSkgJiZcbiAgICAgICAgICAoKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCksXG4gICAgICAgICAgZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiAmJlxuICAgICAgICAgICAgKChyZWR1Y2VyID0gY3VycmVudEVudGFuZ2xlZEFjdGlvblRoZW5hYmxlKSwgbnVsbCAhPT0gcmVkdWNlcikpXG4gICAgICAgIClcbiAgICAgICAgICB0aHJvdyByZWR1Y2VyO1xuICAgICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBwZW5kaW5nUXVldWU7XG4gICAgICAgIGhvb2suYmFzZVN0YXRlID0gYmFzZUZpcnN0O1xuICAgICAgICBob29rLmJhc2VRdWV1ZSA9IG5ld0Jhc2VRdWV1ZUxhc3Q7XG4gICAgICAgIHF1ZXVlLmxhc3RSZW5kZXJlZFN0YXRlID0gcGVuZGluZ1F1ZXVlO1xuICAgICAgfVxuICAgICAgbnVsbCA9PT0gYmFzZVF1ZXVlICYmIChxdWV1ZS5sYW5lcyA9IDApO1xuICAgICAgcmV0dXJuIFtob29rLm1lbW9pemVkU3RhdGUsIHF1ZXVlLmRpc3BhdGNoXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVyZW5kZXJSZWR1Y2VyKHJlZHVjZXIpIHtcbiAgICAgIHZhciBob29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCksXG4gICAgICAgIHF1ZXVlID0gaG9vay5xdWV1ZTtcbiAgICAgIGlmIChudWxsID09PSBxdWV1ZSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJTaG91bGQgaGF2ZSBhIHF1ZXVlLiBZb3UgYXJlIGxpa2VseSBjYWxsaW5nIEhvb2tzIGNvbmRpdGlvbmFsbHksIHdoaWNoIGlzIG5vdCBhbGxvd2VkLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9pbnZhbGlkLWhvb2stY2FsbClcIlxuICAgICAgICApO1xuICAgICAgcXVldWUubGFzdFJlbmRlcmVkUmVkdWNlciA9IHJlZHVjZXI7XG4gICAgICB2YXIgZGlzcGF0Y2ggPSBxdWV1ZS5kaXNwYXRjaCxcbiAgICAgICAgbGFzdFJlbmRlclBoYXNlVXBkYXRlID0gcXVldWUucGVuZGluZyxcbiAgICAgICAgbmV3U3RhdGUgPSBob29rLm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAobnVsbCAhPT0gbGFzdFJlbmRlclBoYXNlVXBkYXRlKSB7XG4gICAgICAgIHF1ZXVlLnBlbmRpbmcgPSBudWxsO1xuICAgICAgICB2YXIgdXBkYXRlID0gKGxhc3RSZW5kZXJQaGFzZVVwZGF0ZSA9IGxhc3RSZW5kZXJQaGFzZVVwZGF0ZS5uZXh0KTtcbiAgICAgICAgZG9cbiAgICAgICAgICAobmV3U3RhdGUgPSByZWR1Y2VyKG5ld1N0YXRlLCB1cGRhdGUuYWN0aW9uKSksICh1cGRhdGUgPSB1cGRhdGUubmV4dCk7XG4gICAgICAgIHdoaWxlICh1cGRhdGUgIT09IGxhc3RSZW5kZXJQaGFzZVVwZGF0ZSk7XG4gICAgICAgIG9iamVjdElzKG5ld1N0YXRlLCBob29rLm1lbW9pemVkU3RhdGUpIHx8IChkaWRSZWNlaXZlVXBkYXRlID0gITApO1xuICAgICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgbnVsbCA9PT0gaG9vay5iYXNlUXVldWUgJiYgKGhvb2suYmFzZVN0YXRlID0gbmV3U3RhdGUpO1xuICAgICAgICBxdWV1ZS5sYXN0UmVuZGVyZWRTdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtuZXdTdGF0ZSwgZGlzcGF0Y2hdO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90KSB7XG4gICAgICB2YXIgZmliZXIgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICBpZiAodm9pZCAwID09PSBnZXRTZXJ2ZXJTbmFwc2hvdClcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiTWlzc2luZyBnZXRTZXJ2ZXJTbmFwc2hvdCwgd2hpY2ggaXMgcmVxdWlyZWQgZm9yIHNlcnZlci1yZW5kZXJlZCBjb250ZW50LiBXaWxsIHJldmVydCB0byBjbGllbnQgcmVuZGVyaW5nLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgdmFyIG5leHRTbmFwc2hvdCA9IGdldFNlcnZlclNuYXBzaG90KCk7XG4gICAgICAgIGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90IHx8XG4gICAgICAgICAgbmV4dFNuYXBzaG90ID09PSBnZXRTZXJ2ZXJTbmFwc2hvdCgpIHx8XG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSByZXN1bHQgb2YgZ2V0U2VydmVyU25hcHNob3Qgc2hvdWxkIGJlIGNhY2hlZCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wXCJcbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdCA9ICEwKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0U25hcHNob3QgPSBnZXRTbmFwc2hvdCgpO1xuICAgICAgICBkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdCB8fFxuICAgICAgICAgICgoZ2V0U2VydmVyU25hcHNob3QgPSBnZXRTbmFwc2hvdCgpKSxcbiAgICAgICAgICBvYmplY3RJcyhuZXh0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90KSB8fFxuICAgICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiVGhlIHJlc3VsdCBvZiBnZXRTbmFwc2hvdCBzaG91bGQgYmUgY2FjaGVkIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3BcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdCA9ICEwKSkpO1xuICAgICAgICBpZiAobnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NSb290KVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCBhIHdvcmstaW4tcHJvZ3Jlc3Mgcm9vdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICAwICE9PSAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA2MCkgfHxcbiAgICAgICAgICBwdXNoU3RvcmVDb25zaXN0ZW5jeUNoZWNrKGZpYmVyLCBnZXRTbmFwc2hvdCwgbmV4dFNuYXBzaG90KTtcbiAgICAgIH1cbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IG5leHRTbmFwc2hvdDtcbiAgICAgIGdldFNlcnZlclNuYXBzaG90ID0geyB2YWx1ZTogbmV4dFNuYXBzaG90LCBnZXRTbmFwc2hvdDogZ2V0U25hcHNob3QgfTtcbiAgICAgIGhvb2sucXVldWUgPSBnZXRTZXJ2ZXJTbmFwc2hvdDtcbiAgICAgIG1vdW50RWZmZWN0KFxuICAgICAgICBzdWJzY3JpYmVUb1N0b3JlLmJpbmQobnVsbCwgZmliZXIsIGdldFNlcnZlclNuYXBzaG90LCBzdWJzY3JpYmUpLFxuICAgICAgICBbc3Vic2NyaWJlXVxuICAgICAgKTtcbiAgICAgIGZpYmVyLmZsYWdzIHw9IDIwNDg7XG4gICAgICBwdXNoRWZmZWN0KFxuICAgICAgICBIYXNFZmZlY3QgfCBQYXNzaXZlLFxuICAgICAgICB1cGRhdGVTdG9yZUluc3RhbmNlLmJpbmQoXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBmaWJlcixcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdCxcbiAgICAgICAgICBuZXh0U25hcHNob3QsXG4gICAgICAgICAgZ2V0U25hcHNob3RcbiAgICAgICAgKSxcbiAgICAgICAgeyBkZXN0cm95OiB2b2lkIDAgfSxcbiAgICAgICAgbnVsbFxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXh0U25hcHNob3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgc3Vic2NyaWJlLFxuICAgICAgZ2V0U25hcHNob3QsXG4gICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICkge1xuICAgICAgdmFyIGZpYmVyID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLFxuICAgICAgICBpc0h5ZHJhdGluZyRqc2NvbXAkMCA9IGlzSHlkcmF0aW5nO1xuICAgICAgaWYgKGlzSHlkcmF0aW5nJGpzY29tcCQwKSB7XG4gICAgICAgIGlmICh2b2lkIDAgPT09IGdldFNlcnZlclNuYXBzaG90KVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJNaXNzaW5nIGdldFNlcnZlclNuYXBzaG90LCB3aGljaCBpcyByZXF1aXJlZCBmb3Igc2VydmVyLXJlbmRlcmVkIGNvbnRlbnQuIFdpbGwgcmV2ZXJ0IHRvIGNsaWVudCByZW5kZXJpbmcuXCJcbiAgICAgICAgICApO1xuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdCA9IGdldFNlcnZlclNuYXBzaG90KCk7XG4gICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAoKGdldFNlcnZlclNuYXBzaG90ID0gZ2V0U25hcHNob3QoKSksICFkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdClcbiAgICAgICkge1xuICAgICAgICB2YXIgY2FjaGVkU25hcHNob3QgPSBnZXRTbmFwc2hvdCgpO1xuICAgICAgICBvYmplY3RJcyhnZXRTZXJ2ZXJTbmFwc2hvdCwgY2FjaGVkU25hcHNob3QpIHx8XG4gICAgICAgICAgKGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIlRoZSByZXN1bHQgb2YgZ2V0U25hcHNob3Qgc2hvdWxkIGJlIGNhY2hlZCB0byBhdm9pZCBhbiBpbmZpbml0ZSBsb29wXCJcbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuVW5jYWNoZWRHZXRTbmFwc2hvdCA9ICEwKSk7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIChjYWNoZWRTbmFwc2hvdCA9ICFvYmplY3RJcyhcbiAgICAgICAgICAoY3VycmVudEhvb2sgfHwgaG9vaykubWVtb2l6ZWRTdGF0ZSxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApKVxuICAgICAgKVxuICAgICAgICAoaG9vay5tZW1vaXplZFN0YXRlID0gZ2V0U2VydmVyU25hcHNob3QpLCAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKTtcbiAgICAgIGhvb2sgPSBob29rLnF1ZXVlO1xuICAgICAgdmFyIGNyZWF0ZSA9IHN1YnNjcmliZVRvU3RvcmUuYmluZChudWxsLCBmaWJlciwgaG9vaywgc3Vic2NyaWJlKTtcbiAgICAgIHVwZGF0ZUVmZmVjdEltcGwoMjA0OCwgUGFzc2l2ZSwgY3JlYXRlLCBbc3Vic2NyaWJlXSk7XG4gICAgICBpZiAoXG4gICAgICAgIGhvb2suZ2V0U25hcHNob3QgIT09IGdldFNuYXBzaG90IHx8XG4gICAgICAgIGNhY2hlZFNuYXBzaG90IHx8XG4gICAgICAgIChudWxsICE9PSB3b3JrSW5Qcm9ncmVzc0hvb2sgJiZcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0hvb2subWVtb2l6ZWRTdGF0ZS50YWcgJiBIYXNFZmZlY3QpXG4gICAgICApIHtcbiAgICAgICAgZmliZXIuZmxhZ3MgfD0gMjA0ODtcbiAgICAgICAgcHVzaEVmZmVjdChcbiAgICAgICAgICBIYXNFZmZlY3QgfCBQYXNzaXZlLFxuICAgICAgICAgIHVwZGF0ZVN0b3JlSW5zdGFuY2UuYmluZChcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIGhvb2ssXG4gICAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdCxcbiAgICAgICAgICAgIGdldFNuYXBzaG90XG4gICAgICAgICAgKSxcbiAgICAgICAgICB7IGRlc3Ryb3k6IHZvaWQgMCB9LFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdClcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYSB3b3JrLWluLXByb2dyZXNzIHJvb3QuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgaXNIeWRyYXRpbmckanNjb21wJDAgfHxcbiAgICAgICAgICAwICE9PSAocmVuZGVyTGFuZXMgJiA2MCkgfHxcbiAgICAgICAgICBwdXNoU3RvcmVDb25zaXN0ZW5jeUNoZWNrKGZpYmVyLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGdldFNlcnZlclNuYXBzaG90O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwdXNoU3RvcmVDb25zaXN0ZW5jeUNoZWNrKGZpYmVyLCBnZXRTbmFwc2hvdCwgcmVuZGVyZWRTbmFwc2hvdCkge1xuICAgICAgZmliZXIuZmxhZ3MgfD0gMTYzODQ7XG4gICAgICBmaWJlciA9IHsgZ2V0U25hcHNob3Q6IGdldFNuYXBzaG90LCB2YWx1ZTogcmVuZGVyZWRTbmFwc2hvdCB9O1xuICAgICAgZ2V0U25hcHNob3QgPSBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLnVwZGF0ZVF1ZXVlO1xuICAgICAgbnVsbCA9PT0gZ2V0U25hcHNob3RcbiAgICAgICAgPyAoKGdldFNuYXBzaG90ID0gY3JlYXRlRnVuY3Rpb25Db21wb25lbnRVcGRhdGVRdWV1ZSgpKSxcbiAgICAgICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZSA9IGdldFNuYXBzaG90KSxcbiAgICAgICAgICAoZ2V0U25hcHNob3Quc3RvcmVzID0gW2ZpYmVyXSkpXG4gICAgICAgIDogKChyZW5kZXJlZFNuYXBzaG90ID0gZ2V0U25hcHNob3Quc3RvcmVzKSxcbiAgICAgICAgICBudWxsID09PSByZW5kZXJlZFNuYXBzaG90XG4gICAgICAgICAgICA/IChnZXRTbmFwc2hvdC5zdG9yZXMgPSBbZmliZXJdKVxuICAgICAgICAgICAgOiByZW5kZXJlZFNuYXBzaG90LnB1c2goZmliZXIpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU3RvcmVJbnN0YW5jZShmaWJlciwgaW5zdCwgbmV4dFNuYXBzaG90LCBnZXRTbmFwc2hvdCkge1xuICAgICAgaW5zdC52YWx1ZSA9IG5leHRTbmFwc2hvdDtcbiAgICAgIGluc3QuZ2V0U25hcHNob3QgPSBnZXRTbmFwc2hvdDtcbiAgICAgIGNoZWNrSWZTbmFwc2hvdENoYW5nZWQoaW5zdCkgJiYgZm9yY2VTdG9yZVJlcmVuZGVyKGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3Vic2NyaWJlVG9TdG9yZShmaWJlciwgaW5zdCwgc3Vic2NyaWJlKSB7XG4gICAgICByZXR1cm4gc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hlY2tJZlNuYXBzaG90Q2hhbmdlZChpbnN0KSAmJiBmb3JjZVN0b3JlUmVyZW5kZXIoZmliZXIpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrSWZTbmFwc2hvdENoYW5nZWQoaW5zdCkge1xuICAgICAgdmFyIGxhdGVzdEdldFNuYXBzaG90ID0gaW5zdC5nZXRTbmFwc2hvdDtcbiAgICAgIGluc3QgPSBpbnN0LnZhbHVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG5leHRWYWx1ZSA9IGxhdGVzdEdldFNuYXBzaG90KCk7XG4gICAgICAgIHJldHVybiAhb2JqZWN0SXMoaW5zdCwgbmV4dFZhbHVlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZm9yY2VTdG9yZVJlcmVuZGVyKGZpYmVyKSB7XG4gICAgICB2YXIgcm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICBudWxsICE9PSByb290ICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgMik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50U3RhdGVJbXBsKGluaXRpYWxTdGF0ZSkge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluaXRpYWxTdGF0ZSkge1xuICAgICAgICB2YXIgaW5pdGlhbFN0YXRlSW5pdGlhbGl6ZXIgPSBpbml0aWFsU3RhdGU7XG4gICAgICAgIGluaXRpYWxTdGF0ZSA9IGluaXRpYWxTdGF0ZUluaXRpYWxpemVyKCk7XG4gICAgICAgIGlmIChzaG91bGREb3VibGVJbnZva2VVc2VyRm5zSW5Ib29rc0RFVikge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5pdGlhbFN0YXRlSW5pdGlhbGl6ZXIoKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gaG9vay5iYXNlU3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICBob29rLnF1ZXVlID0ge1xuICAgICAgICBwZW5kaW5nOiBudWxsLFxuICAgICAgICBsYW5lczogMCxcbiAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgIGxhc3RSZW5kZXJlZFJlZHVjZXI6IGJhc2ljU3RhdGVSZWR1Y2VyLFxuICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogaW5pdGlhbFN0YXRlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGhvb2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKSB7XG4gICAgICBpbml0aWFsU3RhdGUgPSBtb3VudFN0YXRlSW1wbChpbml0aWFsU3RhdGUpO1xuICAgICAgdmFyIHF1ZXVlID0gaW5pdGlhbFN0YXRlLnF1ZXVlLFxuICAgICAgICBkaXNwYXRjaCA9IGRpc3BhdGNoU2V0U3RhdGUuYmluZChcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgICAgcXVldWVcbiAgICAgICAgKTtcbiAgICAgIHF1ZXVlLmRpc3BhdGNoID0gZGlzcGF0Y2g7XG4gICAgICByZXR1cm4gW2luaXRpYWxTdGF0ZS5tZW1vaXplZFN0YXRlLCBkaXNwYXRjaF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50T3B0aW1pc3RpYyhwYXNzdGhyb3VnaCkge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gaG9vay5iYXNlU3RhdGUgPSBwYXNzdGhyb3VnaDtcbiAgICAgIHZhciBxdWV1ZSA9IHtcbiAgICAgICAgcGVuZGluZzogbnVsbCxcbiAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICBsYXN0UmVuZGVyZWRSZWR1Y2VyOiBudWxsLFxuICAgICAgICBsYXN0UmVuZGVyZWRTdGF0ZTogbnVsbFxuICAgICAgfTtcbiAgICAgIGhvb2sucXVldWUgPSBxdWV1ZTtcbiAgICAgIGhvb2sgPSBkaXNwYXRjaE9wdGltaXN0aWNTZXRTdGF0ZS5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICAhMCxcbiAgICAgICAgcXVldWVcbiAgICAgICk7XG4gICAgICBxdWV1ZS5kaXNwYXRjaCA9IGhvb2s7XG4gICAgICByZXR1cm4gW3Bhc3N0aHJvdWdoLCBob29rXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcikge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiB1cGRhdGVPcHRpbWlzdGljSW1wbChob29rLCBjdXJyZW50SG9vaywgcGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVPcHRpbWlzdGljSW1wbChob29rLCBjdXJyZW50LCBwYXNzdGhyb3VnaCwgcmVkdWNlcikge1xuICAgICAgaG9vay5iYXNlU3RhdGUgPSBwYXNzdGhyb3VnaDtcbiAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VySW1wbChcbiAgICAgICAgaG9vayxcbiAgICAgICAgY3VycmVudEhvb2ssXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlZHVjZXIgPyByZWR1Y2VyIDogYmFzaWNTdGF0ZVJlZHVjZXJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcmVuZGVyT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcikge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGlmIChudWxsICE9PSBjdXJyZW50SG9vaylcbiAgICAgICAgcmV0dXJuIHVwZGF0ZU9wdGltaXN0aWNJbXBsKGhvb2ssIGN1cnJlbnRIb29rLCBwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgICBob29rLmJhc2VTdGF0ZSA9IHBhc3N0aHJvdWdoO1xuICAgICAgcmV0dXJuIFtwYXNzdGhyb3VnaCwgaG9vay5xdWV1ZS5kaXNwYXRjaF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoQWN0aW9uU3RhdGUoXG4gICAgICBmaWJlcixcbiAgICAgIGFjdGlvblF1ZXVlLFxuICAgICAgc2V0UGVuZGluZ1N0YXRlLFxuICAgICAgc2V0U3RhdGUsXG4gICAgICBwYXlsb2FkXG4gICAgKSB7XG4gICAgICBpZiAoaXNSZW5kZXJQaGFzZVVwZGF0ZShmaWJlcikpXG4gICAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IHVwZGF0ZSBmb3JtIHN0YXRlIHdoaWxlIHJlbmRlcmluZy5cIik7XG4gICAgICBmaWJlciA9IGFjdGlvblF1ZXVlLmFjdGlvbjtcbiAgICAgIGlmIChudWxsICE9PSBmaWJlcikge1xuICAgICAgICB2YXIgYWN0aW9uTm9kZSA9IHtcbiAgICAgICAgICBwYXlsb2FkOiBwYXlsb2FkLFxuICAgICAgICAgIGFjdGlvbjogZmliZXIsXG4gICAgICAgICAgbmV4dDogbnVsbCxcbiAgICAgICAgICBpc1RyYW5zaXRpb246ICEwLFxuICAgICAgICAgIHN0YXR1czogXCJwZW5kaW5nXCIsXG4gICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgcmVhc29uOiBudWxsLFxuICAgICAgICAgIGxpc3RlbmVyczogW10sXG4gICAgICAgICAgdGhlbjogZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBhY3Rpb25Ob2RlLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlRcbiAgICAgICAgICA/IHNldFBlbmRpbmdTdGF0ZSghMClcbiAgICAgICAgICA6IChhY3Rpb25Ob2RlLmlzVHJhbnNpdGlvbiA9ICExKTtcbiAgICAgICAgc2V0U3RhdGUoYWN0aW9uTm9kZSk7XG4gICAgICAgIHNldFBlbmRpbmdTdGF0ZSA9IGFjdGlvblF1ZXVlLnBlbmRpbmc7XG4gICAgICAgIG51bGwgPT09IHNldFBlbmRpbmdTdGF0ZVxuICAgICAgICAgID8gKChhY3Rpb25Ob2RlLm5leHQgPSBhY3Rpb25RdWV1ZS5wZW5kaW5nID0gYWN0aW9uTm9kZSksXG4gICAgICAgICAgICBydW5BY3Rpb25TdGF0ZUFjdGlvbihhY3Rpb25RdWV1ZSwgYWN0aW9uTm9kZSkpXG4gICAgICAgICAgOiAoKGFjdGlvbk5vZGUubmV4dCA9IHNldFBlbmRpbmdTdGF0ZS5uZXh0KSxcbiAgICAgICAgICAgIChhY3Rpb25RdWV1ZS5wZW5kaW5nID0gc2V0UGVuZGluZ1N0YXRlLm5leHQgPSBhY3Rpb25Ob2RlKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJ1bkFjdGlvblN0YXRlQWN0aW9uKGFjdGlvblF1ZXVlLCBub2RlKSB7XG4gICAgICB2YXIgYWN0aW9uID0gbm9kZS5hY3Rpb24sXG4gICAgICAgIHBheWxvYWQgPSBub2RlLnBheWxvYWQsXG4gICAgICAgIHByZXZTdGF0ZSA9IGFjdGlvblF1ZXVlLnN0YXRlO1xuICAgICAgaWYgKG5vZGUuaXNUcmFuc2l0aW9uKSB7XG4gICAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgICAgY3VycmVudFRyYW5zaXRpb24gPSB7fTtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IGN1cnJlbnRUcmFuc2l0aW9uO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5ULl91cGRhdGVkRmliZXJzID0gbmV3IFNldCgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IGFjdGlvbihwcmV2U3RhdGUsIHBheWxvYWQpLFxuICAgICAgICAgICAgb25TdGFydFRyYW5zaXRpb25GaW5pc2ggPSBSZWFjdFNoYXJlZEludGVybmFscy5TO1xuICAgICAgICAgIG51bGwgIT09IG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoICYmXG4gICAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaChjdXJyZW50VHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgICAgIGhhbmRsZUFjdGlvblJldHVyblZhbHVlKGFjdGlvblF1ZXVlLCBub2RlLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgb25BY3Rpb25FcnJvcihhY3Rpb25RdWV1ZSwgbm9kZSwgZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pLFxuICAgICAgICAgICAgbnVsbCA9PT0gcHJldlRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgJiZcbiAgICAgICAgICAgICAgKChhY3Rpb25RdWV1ZSA9IGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzLnNpemUpLFxuICAgICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5jbGVhcigpLFxuICAgICAgICAgICAgICAxMCA8IGFjdGlvblF1ZXVlICYmXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgICAgICAgXCJEZXRlY3RlZCBhIGxhcmdlIG51bWJlciBvZiB1cGRhdGVzIGluc2lkZSBzdGFydFRyYW5zaXRpb24uIElmIHRoaXMgaXMgZHVlIHRvIGEgc3Vic2NyaXB0aW9uIHBsZWFzZSByZS13cml0ZSBpdCB0byB1c2UgUmVhY3QgcHJvdmlkZWQgaG9va3MuIE90aGVyd2lzZSBjb25jdXJyZW50IG1vZGUgZ3VhcmFudGVlcyBhcmUgb2ZmIHRoZSB0YWJsZS5cIlxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2VcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAoY3VycmVudFRyYW5zaXRpb24gPSBhY3Rpb24ocHJldlN0YXRlLCBwYXlsb2FkKSksXG4gICAgICAgICAgICBoYW5kbGVBY3Rpb25SZXR1cm5WYWx1ZShhY3Rpb25RdWV1ZSwgbm9kZSwgY3VycmVudFRyYW5zaXRpb24pO1xuICAgICAgICB9IGNhdGNoIChlcnJvciQzKSB7XG4gICAgICAgICAgb25BY3Rpb25FcnJvcihhY3Rpb25RdWV1ZSwgbm9kZSwgZXJyb3IkMyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlQWN0aW9uUmV0dXJuVmFsdWUoYWN0aW9uUXVldWUsIG5vZGUsIHJldHVyblZhbHVlKSB7XG4gICAgICBudWxsICE9PSByZXR1cm5WYWx1ZSAmJlxuICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHJldHVyblZhbHVlICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZS50aGVuXG4gICAgICAgID8gKHJldHVyblZhbHVlLnRoZW4oXG4gICAgICAgICAgICBmdW5jdGlvbiAobmV4dFN0YXRlKSB7XG4gICAgICAgICAgICAgIG9uQWN0aW9uU3VjY2VzcyhhY3Rpb25RdWV1ZSwgbm9kZSwgbmV4dFN0YXRlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9uQWN0aW9uRXJyb3IoYWN0aW9uUXVldWUsIG5vZGUsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApLFxuICAgICAgICAgIG5vZGUuaXNUcmFuc2l0aW9uIHx8XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkFuIGFzeW5jIGZ1bmN0aW9uIHdhcyBwYXNzZWQgdG8gdXNlQWN0aW9uU3RhdGUsIGJ1dCBpdCB3YXMgZGlzcGF0Y2hlZCBvdXRzaWRlIG9mIGFuIGFjdGlvbiBjb250ZXh0LiBUaGlzIGlzIGxpa2VseSBub3Qgd2hhdCB5b3UgaW50ZW5kZWQuIEVpdGhlciBwYXNzIHRoZSBkaXNwYXRjaCBmdW5jdGlvbiB0byBhbiBgYWN0aW9uYCBwcm9wLCBvciBkaXNwYXRjaCBtYW51YWxseSBpbnNpZGUgYHN0YXJ0VHJhbnNpdGlvbmBcIlxuICAgICAgICAgICAgKSlcbiAgICAgICAgOiBvbkFjdGlvblN1Y2Nlc3MoYWN0aW9uUXVldWUsIG5vZGUsIHJldHVyblZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gb25BY3Rpb25TdWNjZXNzKGFjdGlvblF1ZXVlLCBhY3Rpb25Ob2RlLCBuZXh0U3RhdGUpIHtcbiAgICAgIGFjdGlvbk5vZGUuc3RhdHVzID0gXCJmdWxmaWxsZWRcIjtcbiAgICAgIGFjdGlvbk5vZGUudmFsdWUgPSBuZXh0U3RhdGU7XG4gICAgICBub3RpZnlBY3Rpb25MaXN0ZW5lcnMoYWN0aW9uTm9kZSk7XG4gICAgICBhY3Rpb25RdWV1ZS5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgIGFjdGlvbk5vZGUgPSBhY3Rpb25RdWV1ZS5wZW5kaW5nO1xuICAgICAgbnVsbCAhPT0gYWN0aW9uTm9kZSAmJlxuICAgICAgICAoKG5leHRTdGF0ZSA9IGFjdGlvbk5vZGUubmV4dCksXG4gICAgICAgIG5leHRTdGF0ZSA9PT0gYWN0aW9uTm9kZVxuICAgICAgICAgID8gKGFjdGlvblF1ZXVlLnBlbmRpbmcgPSBudWxsKVxuICAgICAgICAgIDogKChuZXh0U3RhdGUgPSBuZXh0U3RhdGUubmV4dCksXG4gICAgICAgICAgICAoYWN0aW9uTm9kZS5uZXh0ID0gbmV4dFN0YXRlKSxcbiAgICAgICAgICAgIHJ1bkFjdGlvblN0YXRlQWN0aW9uKGFjdGlvblF1ZXVlLCBuZXh0U3RhdGUpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uQWN0aW9uRXJyb3IoYWN0aW9uUXVldWUsIGFjdGlvbk5vZGUsIGVycm9yKSB7XG4gICAgICB2YXIgbGFzdCA9IGFjdGlvblF1ZXVlLnBlbmRpbmc7XG4gICAgICBhY3Rpb25RdWV1ZS5wZW5kaW5nID0gbnVsbDtcbiAgICAgIGlmIChudWxsICE9PSBsYXN0KSB7XG4gICAgICAgIGxhc3QgPSBsYXN0Lm5leHQ7XG4gICAgICAgIGRvXG4gICAgICAgICAgKGFjdGlvbk5vZGUuc3RhdHVzID0gXCJyZWplY3RlZFwiKSxcbiAgICAgICAgICAgIChhY3Rpb25Ob2RlLnJlYXNvbiA9IGVycm9yKSxcbiAgICAgICAgICAgIG5vdGlmeUFjdGlvbkxpc3RlbmVycyhhY3Rpb25Ob2RlKSxcbiAgICAgICAgICAgIChhY3Rpb25Ob2RlID0gYWN0aW9uTm9kZS5uZXh0KTtcbiAgICAgICAgd2hpbGUgKGFjdGlvbk5vZGUgIT09IGxhc3QpO1xuICAgICAgfVxuICAgICAgYWN0aW9uUXVldWUuYWN0aW9uID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm90aWZ5QWN0aW9uTGlzdGVuZXJzKGFjdGlvbk5vZGUpIHtcbiAgICAgIGFjdGlvbk5vZGUgPSBhY3Rpb25Ob2RlLmxpc3RlbmVycztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aW9uTm9kZS5sZW5ndGg7IGkrKykgKDAsIGFjdGlvbk5vZGVbaV0pKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjdGlvblN0YXRlUmVkdWNlcihvbGRTdGF0ZSwgbmV3U3RhdGUpIHtcbiAgICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZVByb3ApIHtcbiAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICB2YXIgc3NyRm9ybVN0YXRlID0gd29ya0luUHJvZ3Jlc3NSb290LmZvcm1TdGF0ZTtcbiAgICAgICAgaWYgKG51bGwgIT09IHNzckZvcm1TdGF0ZSkge1xuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIHZhciBpc01hdGNoaW5nID0gY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMTtcbiAgICAgICAgICAgIGlmIChpc0h5ZHJhdGluZykge1xuICAgICAgICAgICAgICBpZiAobmV4dEh5ZHJhdGFibGVJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIGI6IHtcbiAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXJJbnN0YW5jZSA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5Sb290T3JTaW5nbGV0b24gPSByb290T3JTaW5nbGV0b25Db250ZXh0O1xuICAgICAgICAgICAgICAgICAgICA4ICE9PSBtYXJrZXJJbnN0YW5jZS5ub2RlVHlwZTtcblxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5Sb290T3JTaW5nbGV0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKFxuICAgICAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlLm5leHRTaWJsaW5nXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBtYXJrZXJJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpblJvb3RPclNpbmdsZXRvbiA9IG1hcmtlckluc3RhbmNlLmRhdGE7XG4gICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZSA9XG4gICAgICAgICAgICAgICAgICAgIGluUm9vdE9yU2luZ2xldG9uID09PSBGT1JNX1NUQVRFX0lTX01BVENISU5HIHx8XG4gICAgICAgICAgICAgICAgICAgIGluUm9vdE9yU2luZ2xldG9uID09PSBGT1JNX1NUQVRFX0lTX05PVF9NQVRDSElOR1xuICAgICAgICAgICAgICAgICAgICAgID8gbWFya2VySW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXJrZXJJbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJbnN0YW5jZS5uZXh0U2libGluZ1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGlzTWF0Y2hpbmcgPSBtYXJrZXJJbnN0YW5jZS5kYXRhID09PSBGT1JNX1NUQVRFX0lTX01BVENISU5HO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKGlzTWF0Y2hpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXNNYXRjaGluZyA9ICExO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpc01hdGNoaW5nICYmIChpbml0aWFsU3RhdGVQcm9wID0gc3NyRm9ybVN0YXRlWzBdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3NyRm9ybVN0YXRlID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHNzckZvcm1TdGF0ZS5tZW1vaXplZFN0YXRlID0gc3NyRm9ybVN0YXRlLmJhc2VTdGF0ZSA9IGluaXRpYWxTdGF0ZVByb3A7XG4gICAgICBpc01hdGNoaW5nID0ge1xuICAgICAgICBwZW5kaW5nOiBudWxsLFxuICAgICAgICBsYW5lczogMCxcbiAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgIGxhc3RSZW5kZXJlZFJlZHVjZXI6IGFjdGlvblN0YXRlUmVkdWNlcixcbiAgICAgICAgbGFzdFJlbmRlcmVkU3RhdGU6IGluaXRpYWxTdGF0ZVByb3BcbiAgICAgIH07XG4gICAgICBzc3JGb3JtU3RhdGUucXVldWUgPSBpc01hdGNoaW5nO1xuICAgICAgc3NyRm9ybVN0YXRlID0gZGlzcGF0Y2hTZXRTdGF0ZS5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICBpc01hdGNoaW5nXG4gICAgICApO1xuICAgICAgaXNNYXRjaGluZy5kaXNwYXRjaCA9IHNzckZvcm1TdGF0ZTtcbiAgICAgIGlzTWF0Y2hpbmcgPSBtb3VudFN0YXRlSW1wbCghMSk7XG4gICAgICBpblJvb3RPclNpbmdsZXRvbiA9IGRpc3BhdGNoT3B0aW1pc3RpY1NldFN0YXRlLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEsXG4gICAgICAgICExLFxuICAgICAgICBpc01hdGNoaW5nLnF1ZXVlXG4gICAgICApO1xuICAgICAgaXNNYXRjaGluZyA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBtYXJrZXJJbnN0YW5jZSA9IHtcbiAgICAgICAgc3RhdGU6IGluaXRpYWxTdGF0ZVByb3AsXG4gICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgcGVuZGluZzogbnVsbFxuICAgICAgfTtcbiAgICAgIGlzTWF0Y2hpbmcucXVldWUgPSBtYXJrZXJJbnN0YW5jZTtcbiAgICAgIHNzckZvcm1TdGF0ZSA9IGRpc3BhdGNoQWN0aW9uU3RhdGUuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMSxcbiAgICAgICAgbWFya2VySW5zdGFuY2UsXG4gICAgICAgIGluUm9vdE9yU2luZ2xldG9uLFxuICAgICAgICBzc3JGb3JtU3RhdGVcbiAgICAgICk7XG4gICAgICBtYXJrZXJJbnN0YW5jZS5kaXNwYXRjaCA9IHNzckZvcm1TdGF0ZTtcbiAgICAgIGlzTWF0Y2hpbmcubWVtb2l6ZWRTdGF0ZSA9IGFjdGlvbjtcbiAgICAgIHJldHVybiBbaW5pdGlhbFN0YXRlUHJvcCwgc3NyRm9ybVN0YXRlLCAhMV07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUFjdGlvblN0YXRlKGFjdGlvbikge1xuICAgICAgdmFyIHN0YXRlSG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgcmV0dXJuIHVwZGF0ZUFjdGlvblN0YXRlSW1wbChzdGF0ZUhvb2ssIGN1cnJlbnRIb29rLCBhY3Rpb24pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVBY3Rpb25TdGF0ZUltcGwoc3RhdGVIb29rLCBjdXJyZW50U3RhdGVIb29rLCBhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRTdGF0ZUhvb2sgPSB1cGRhdGVSZWR1Y2VySW1wbChcbiAgICAgICAgc3RhdGVIb29rLFxuICAgICAgICBjdXJyZW50U3RhdGVIb29rLFxuICAgICAgICBhY3Rpb25TdGF0ZVJlZHVjZXJcbiAgICAgIClbMF07XG4gICAgICBzdGF0ZUhvb2sgPSB1cGRhdGVSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKVswXTtcbiAgICAgIGN1cnJlbnRTdGF0ZUhvb2sgPVxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgY3VycmVudFN0YXRlSG9vayAmJlxuICAgICAgICBudWxsICE9PSBjdXJyZW50U3RhdGVIb29rICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGN1cnJlbnRTdGF0ZUhvb2sudGhlblxuICAgICAgICAgID8gdXNlVGhlbmFibGUoY3VycmVudFN0YXRlSG9vaylcbiAgICAgICAgICA6IGN1cnJlbnRTdGF0ZUhvb2s7XG4gICAgICB2YXIgYWN0aW9uUXVldWVIb29rID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCksXG4gICAgICAgIGFjdGlvblF1ZXVlID0gYWN0aW9uUXVldWVIb29rLnF1ZXVlLFxuICAgICAgICBkaXNwYXRjaCA9IGFjdGlvblF1ZXVlLmRpc3BhdGNoO1xuICAgICAgYWN0aW9uICE9PSBhY3Rpb25RdWV1ZUhvb2subWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAoKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuZmxhZ3MgfD0gMjA0OCksXG4gICAgICAgIHB1c2hFZmZlY3QoXG4gICAgICAgICAgSGFzRWZmZWN0IHwgUGFzc2l2ZSxcbiAgICAgICAgICBhY3Rpb25TdGF0ZUFjdGlvbkVmZmVjdC5iaW5kKG51bGwsIGFjdGlvblF1ZXVlLCBhY3Rpb24pLFxuICAgICAgICAgIHsgZGVzdHJveTogdm9pZCAwIH0sXG4gICAgICAgICAgbnVsbFxuICAgICAgICApKTtcbiAgICAgIHJldHVybiBbY3VycmVudFN0YXRlSG9vaywgZGlzcGF0Y2gsIHN0YXRlSG9va107XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjdGlvblN0YXRlQWN0aW9uRWZmZWN0KGFjdGlvblF1ZXVlLCBhY3Rpb24pIHtcbiAgICAgIGFjdGlvblF1ZXVlLmFjdGlvbiA9IGFjdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVyZW5kZXJBY3Rpb25TdGF0ZShhY3Rpb24pIHtcbiAgICAgIHZhciBzdGF0ZUhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKSxcbiAgICAgICAgY3VycmVudFN0YXRlSG9vayA9IGN1cnJlbnRIb29rO1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnRTdGF0ZUhvb2spXG4gICAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZUltcGwoc3RhdGVIb29rLCBjdXJyZW50U3RhdGVIb29rLCBhY3Rpb24pO1xuICAgICAgdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICBzdGF0ZUhvb2sgPSBzdGF0ZUhvb2subWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGN1cnJlbnRTdGF0ZUhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHZhciBkaXNwYXRjaCA9IGN1cnJlbnRTdGF0ZUhvb2sucXVldWUuZGlzcGF0Y2g7XG4gICAgICBjdXJyZW50U3RhdGVIb29rLm1lbW9pemVkU3RhdGUgPSBhY3Rpb247XG4gICAgICByZXR1cm4gW3N0YXRlSG9vaywgZGlzcGF0Y2gsICExXTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaEVmZmVjdCh0YWcsIGNyZWF0ZSwgaW5zdCwgZGVwcykge1xuICAgICAgdGFnID0geyB0YWc6IHRhZywgY3JlYXRlOiBjcmVhdGUsIGluc3Q6IGluc3QsIGRlcHM6IGRlcHMsIG5leHQ6IG51bGwgfTtcbiAgICAgIGNyZWF0ZSA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEudXBkYXRlUXVldWU7XG4gICAgICBudWxsID09PSBjcmVhdGUgJiZcbiAgICAgICAgKChjcmVhdGUgPSBjcmVhdGVGdW5jdGlvbkNvbXBvbmVudFVwZGF0ZVF1ZXVlKCkpLFxuICAgICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS51cGRhdGVRdWV1ZSA9IGNyZWF0ZSkpO1xuICAgICAgaW5zdCA9IGNyZWF0ZS5sYXN0RWZmZWN0O1xuICAgICAgbnVsbCA9PT0gaW5zdFxuICAgICAgICA/IChjcmVhdGUubGFzdEVmZmVjdCA9IHRhZy5uZXh0ID0gdGFnKVxuICAgICAgICA6ICgoZGVwcyA9IGluc3QubmV4dCksXG4gICAgICAgICAgKGluc3QubmV4dCA9IHRhZyksXG4gICAgICAgICAgKHRhZy5uZXh0ID0gZGVwcyksXG4gICAgICAgICAgKGNyZWF0ZS5sYXN0RWZmZWN0ID0gdGFnKSk7XG4gICAgICByZXR1cm4gdGFnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFJlZihpbml0aWFsVmFsdWUpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGluaXRpYWxWYWx1ZSA9IHsgY3VycmVudDogaW5pdGlhbFZhbHVlIH07XG4gICAgICByZXR1cm4gKGhvb2subWVtb2l6ZWRTdGF0ZSA9IGluaXRpYWxWYWx1ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50RWZmZWN0SW1wbChmaWJlckZsYWdzLCBob29rRmxhZ3MsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5mbGFncyB8PSBmaWJlckZsYWdzO1xuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gcHVzaEVmZmVjdChcbiAgICAgICAgSGFzRWZmZWN0IHwgaG9va0ZsYWdzLFxuICAgICAgICBjcmVhdGUsXG4gICAgICAgIHsgZGVzdHJveTogdm9pZCAwIH0sXG4gICAgICAgIHZvaWQgMCA9PT0gZGVwcyA/IG51bGwgOiBkZXBzXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVFZmZlY3RJbXBsKGZpYmVyRmxhZ3MsIGhvb2tGbGFncywgY3JlYXRlLCBkZXBzKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgZGVwcyA9IHZvaWQgMCA9PT0gZGVwcyA/IG51bGwgOiBkZXBzO1xuICAgICAgdmFyIGluc3QgPSBob29rLm1lbW9pemVkU3RhdGUuaW5zdDtcbiAgICAgIG51bGwgIT09IGN1cnJlbnRIb29rICYmXG4gICAgICBudWxsICE9PSBkZXBzICYmXG4gICAgICBhcmVIb29rSW5wdXRzRXF1YWwoZGVwcywgY3VycmVudEhvb2subWVtb2l6ZWRTdGF0ZS5kZXBzKVxuICAgICAgICA/IChob29rLm1lbW9pemVkU3RhdGUgPSBwdXNoRWZmZWN0KGhvb2tGbGFncywgY3JlYXRlLCBpbnN0LCBkZXBzKSlcbiAgICAgICAgOiAoKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEuZmxhZ3MgfD0gZmliZXJGbGFncyksXG4gICAgICAgICAgKGhvb2subWVtb2l6ZWRTdGF0ZSA9IHB1c2hFZmZlY3QoXG4gICAgICAgICAgICBIYXNFZmZlY3QgfCBob29rRmxhZ3MsXG4gICAgICAgICAgICBjcmVhdGUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgZGVwc1xuICAgICAgICAgICkpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRFZmZlY3QoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgIChjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLm1vZGUgJiBOb1N0cmljdFBhc3NpdmVFZmZlY3RzTW9kZSkgPT09IE5vTW9kZVxuICAgICAgICA/IG1vdW50RWZmZWN0SW1wbCgxNDI2MDgzODQsIFBhc3NpdmUsIGNyZWF0ZSwgZGVwcylcbiAgICAgICAgOiBtb3VudEVmZmVjdEltcGwoODM5MDY1NiwgUGFzc2l2ZSwgY3JlYXRlLCBkZXBzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKSB7XG4gICAgICB2YXIgZmliZXJGbGFncyA9IDQxOTQzMDg7XG4gICAgICAoY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgKGZpYmVyRmxhZ3MgfD0gNjcxMDg4NjQpO1xuICAgICAgcmV0dXJuIG1vdW50RWZmZWN0SW1wbChmaWJlckZsYWdzLCBMYXlvdXQsIGNyZWF0ZSwgZGVwcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGltcGVyYXRpdmVIYW5kbGVFZmZlY3QoY3JlYXRlLCByZWYpIHtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZWYpIHtcbiAgICAgICAgY3JlYXRlID0gY3JlYXRlKCk7XG4gICAgICAgIHZhciByZWZDbGVhbnVwID0gcmVmKGNyZWF0ZSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVmQ2xlYW51cCA/IHJlZkNsZWFudXAoKSA6IHJlZihudWxsKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChudWxsICE9PSByZWYgJiYgdm9pZCAwICE9PSByZWYpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcmVmLmhhc093blByb3BlcnR5KFwiY3VycmVudFwiKSB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCB1c2VJbXBlcmF0aXZlSGFuZGxlKCkgZmlyc3QgYXJndW1lbnQgdG8gZWl0aGVyIGJlIGEgcmVmIGNhbGxiYWNrIG9yIFJlYWN0LmNyZWF0ZVJlZigpIG9iamVjdC4gSW5zdGVhZCByZWNlaXZlZDogJXMuXCIsXG4gICAgICAgICAgICAgIFwiYW4gb2JqZWN0IHdpdGgga2V5cyB7XCIgKyBPYmplY3Qua2V5cyhyZWYpLmpvaW4oXCIsIFwiKSArIFwifVwiXG4gICAgICAgICAgICApLFxuICAgICAgICAgIChjcmVhdGUgPSBjcmVhdGUoKSksXG4gICAgICAgICAgKHJlZi5jdXJyZW50ID0gY3JlYXRlKSxcbiAgICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNyZWF0ZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgdXNlSW1wZXJhdGl2ZUhhbmRsZSgpIHNlY29uZCBhcmd1bWVudCB0byBiZSBhIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhIGhhbmRsZS4gSW5zdGVhZCByZWNlaXZlZDogJXMuXCIsXG4gICAgICAgICAgbnVsbCAhPT0gY3JlYXRlID8gdHlwZW9mIGNyZWF0ZSA6IFwibnVsbFwiXG4gICAgICAgICk7XG4gICAgICBkZXBzID0gbnVsbCAhPT0gZGVwcyAmJiB2b2lkIDAgIT09IGRlcHMgPyBkZXBzLmNvbmNhdChbcmVmXSkgOiBudWxsO1xuICAgICAgdmFyIGZpYmVyRmxhZ3MgPSA0MTk0MzA4O1xuICAgICAgKGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubW9kZSAmIFN0cmljdEVmZmVjdHNNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgIChmaWJlckZsYWdzIHw9IDY3MTA4ODY0KTtcbiAgICAgIG1vdW50RWZmZWN0SW1wbChcbiAgICAgICAgZmliZXJGbGFncyxcbiAgICAgICAgTGF5b3V0LFxuICAgICAgICBpbXBlcmF0aXZlSGFuZGxlRWZmZWN0LmJpbmQobnVsbCwgY3JlYXRlLCByZWYpLFxuICAgICAgICBkZXBzXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBjcmVhdGUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIHVzZUltcGVyYXRpdmVIYW5kbGUoKSBzZWNvbmQgYXJndW1lbnQgdG8gYmUgYSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBoYW5kbGUuIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICAgIG51bGwgIT09IGNyZWF0ZSA/IHR5cGVvZiBjcmVhdGUgOiBcIm51bGxcIlxuICAgICAgICApO1xuICAgICAgZGVwcyA9IG51bGwgIT09IGRlcHMgJiYgdm9pZCAwICE9PSBkZXBzID8gZGVwcy5jb25jYXQoW3JlZl0pIDogbnVsbDtcbiAgICAgIHVwZGF0ZUVmZmVjdEltcGwoXG4gICAgICAgIDQsXG4gICAgICAgIExheW91dCxcbiAgICAgICAgaW1wZXJhdGl2ZUhhbmRsZUVmZmVjdC5iaW5kKG51bGwsIGNyZWF0ZSwgcmVmKSxcbiAgICAgICAgZGVwc1xuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRDYWxsYmFjayhjYWxsYmFjaywgZGVwcykge1xuICAgICAgbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlID0gW1xuICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgdm9pZCAwID09PSBkZXBzID8gbnVsbCA6IGRlcHNcbiAgICAgIF07XG4gICAgICByZXR1cm4gY2FsbGJhY2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgZGVwcyA9IHZvaWQgMCA9PT0gZGVwcyA/IG51bGwgOiBkZXBzO1xuICAgICAgdmFyIHByZXZTdGF0ZSA9IGhvb2subWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGlmIChudWxsICE9PSBkZXBzICYmIGFyZUhvb2tJbnB1dHNFcXVhbChkZXBzLCBwcmV2U3RhdGVbMV0pKVxuICAgICAgICByZXR1cm4gcHJldlN0YXRlWzBdO1xuICAgICAgaG9vay5tZW1vaXplZFN0YXRlID0gW2NhbGxiYWNrLCBkZXBzXTtcbiAgICAgIHJldHVybiBjYWxsYmFjaztcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRNZW1vKG5leHRDcmVhdGUsIGRlcHMpIHtcbiAgICAgIHZhciBob29rID0gbW91bnRXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIGRlcHMgPSB2b2lkIDAgPT09IGRlcHMgPyBudWxsIDogZGVwcztcbiAgICAgIHZhciBuZXh0VmFsdWUgPSBuZXh0Q3JlYXRlKCk7XG4gICAgICBpZiAoc2hvdWxkRG91YmxlSW52b2tlVXNlckZuc0luSG9va3NERVYpIHtcbiAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG5leHRDcmVhdGUoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGhvb2subWVtb2l6ZWRTdGF0ZSA9IFtuZXh0VmFsdWUsIGRlcHNdO1xuICAgICAgcmV0dXJuIG5leHRWYWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlTWVtbyhuZXh0Q3JlYXRlLCBkZXBzKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgZGVwcyA9IHZvaWQgMCA9PT0gZGVwcyA/IG51bGwgOiBkZXBzO1xuICAgICAgdmFyIHByZXZTdGF0ZSA9IGhvb2subWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGlmIChudWxsICE9PSBkZXBzICYmIGFyZUhvb2tJbnB1dHNFcXVhbChkZXBzLCBwcmV2U3RhdGVbMV0pKVxuICAgICAgICByZXR1cm4gcHJldlN0YXRlWzBdO1xuICAgICAgcHJldlN0YXRlID0gbmV4dENyZWF0ZSgpO1xuICAgICAgaWYgKHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWKSB7XG4gICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBuZXh0Q3JlYXRlKCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBbcHJldlN0YXRlLCBkZXBzXTtcbiAgICAgIHJldHVybiBwcmV2U3RhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50RGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICB2YXIgaG9vayA9IG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCk7XG4gICAgICByZXR1cm4gbW91bnREZWZlcnJlZFZhbHVlSW1wbChob29rLCB2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICB2YXIgaG9vayA9IHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpO1xuICAgICAgcmV0dXJuIHVwZGF0ZURlZmVycmVkVmFsdWVJbXBsKFxuICAgICAgICBob29rLFxuICAgICAgICBjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW5pdGlhbFZhbHVlXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXJlbmRlckRlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgdmFyIGhvb2sgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKTtcbiAgICAgIHJldHVybiBudWxsID09PSBjdXJyZW50SG9va1xuICAgICAgICA/IG1vdW50RGVmZXJyZWRWYWx1ZUltcGwoaG9vaywgdmFsdWUsIGluaXRpYWxWYWx1ZSlcbiAgICAgICAgOiB1cGRhdGVEZWZlcnJlZFZhbHVlSW1wbChcbiAgICAgICAgICAgIGhvb2ssXG4gICAgICAgICAgICBjdXJyZW50SG9vay5tZW1vaXplZFN0YXRlLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBpbml0aWFsVmFsdWVcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudERlZmVycmVkVmFsdWVJbXBsKGhvb2ssIHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIGlmICh2b2lkIDAgPT09IGluaXRpYWxWYWx1ZSB8fCAwICE9PSAocmVuZGVyTGFuZXMgJiAxMDczNzQxODI0KSlcbiAgICAgICAgcmV0dXJuIChob29rLm1lbW9pemVkU3RhdGUgPSB2YWx1ZSk7XG4gICAgICBob29rLm1lbW9pemVkU3RhdGUgPSBpbml0aWFsVmFsdWU7XG4gICAgICBob29rID0gcmVxdWVzdERlZmVycmVkTGFuZSgpO1xuICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMS5sYW5lcyB8PSBob29rO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzIHw9IGhvb2s7XG4gICAgICByZXR1cm4gaW5pdGlhbFZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVEZWZlcnJlZFZhbHVlSW1wbChob29rLCBwcmV2VmFsdWUsIHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgIGlmIChvYmplY3RJcyh2YWx1ZSwgcHJldlZhbHVlKSkgcmV0dXJuIHZhbHVlO1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnRUcmVlSGlkZGVuU3RhY2tDdXJzb3IuY3VycmVudClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAoaG9vayA9IG1vdW50RGVmZXJyZWRWYWx1ZUltcGwoaG9vaywgdmFsdWUsIGluaXRpYWxWYWx1ZSkpLFxuICAgICAgICAgIG9iamVjdElzKGhvb2ssIHByZXZWYWx1ZSkgfHwgKGRpZFJlY2VpdmVVcGRhdGUgPSAhMCksXG4gICAgICAgICAgaG9va1xuICAgICAgICApO1xuICAgICAgaWYgKDAgPT09IChyZW5kZXJMYW5lcyAmIDQyKSlcbiAgICAgICAgcmV0dXJuIChkaWRSZWNlaXZlVXBkYXRlID0gITApLCAoaG9vay5tZW1vaXplZFN0YXRlID0gdmFsdWUpO1xuICAgICAgaG9vayA9IHJlcXVlc3REZWZlcnJlZExhbmUoKTtcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEubGFuZXMgfD0gaG9vaztcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSBob29rO1xuICAgICAgcmV0dXJuIHByZXZWYWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRUcmFuc2l0aW9uKFxuICAgICAgZmliZXIsXG4gICAgICBxdWV1ZSxcbiAgICAgIHBlbmRpbmdTdGF0ZSxcbiAgICAgIGZpbmlzaGVkU3RhdGUsXG4gICAgICBjYWxsYmFja1xuICAgICkge1xuICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9XG4gICAgICAgIDAgIT09IHByZXZpb3VzUHJpb3JpdHkgJiYgcHJldmlvdXNQcmlvcml0eSA8IENvbnRpbnVvdXNFdmVudFByaW9yaXR5XG4gICAgICAgICAgPyBwcmV2aW91c1ByaW9yaXR5XG4gICAgICAgICAgOiBDb250aW51b3VzRXZlbnRQcmlvcml0eTtcbiAgICAgIHZhciBwcmV2VHJhbnNpdGlvbiA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQsXG4gICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uID0ge307XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5UID0gY3VycmVudFRyYW5zaXRpb247XG4gICAgICBkaXNwYXRjaE9wdGltaXN0aWNTZXRTdGF0ZShmaWJlciwgITEsIHF1ZXVlLCBwZW5kaW5nU3RhdGUpO1xuICAgICAgY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMgPSBuZXcgU2V0KCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSBjYWxsYmFjaygpLFxuICAgICAgICAgIG9uU3RhcnRUcmFuc2l0aW9uRmluaXNoID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUztcbiAgICAgICAgbnVsbCAhPT0gb25TdGFydFRyYW5zaXRpb25GaW5pc2ggJiZcbiAgICAgICAgICBvblN0YXJ0VHJhbnNpdGlvbkZpbmlzaChjdXJyZW50VHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgbnVsbCAhPT0gcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiByZXR1cm5WYWx1ZS50aGVuXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciB0aGVuYWJsZUZvckZpbmlzaGVkU3RhdGUgPSBjaGFpblRoZW5hYmxlVmFsdWUoXG4gICAgICAgICAgICByZXR1cm5WYWx1ZSxcbiAgICAgICAgICAgIGZpbmlzaGVkU3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChcbiAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgcXVldWUsXG4gICAgICAgICAgICB0aGVuYWJsZUZvckZpbmlzaGVkU3RhdGUsXG4gICAgICAgICAgICByZXF1ZXN0VXBkYXRlTGFuZShmaWJlcilcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBkaXNwYXRjaFNldFN0YXRlSW50ZXJuYWwoXG4gICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgIHF1ZXVlLFxuICAgICAgICAgICAgZmluaXNoZWRTdGF0ZSxcbiAgICAgICAgICAgIHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKVxuICAgICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBkaXNwYXRjaFNldFN0YXRlSW50ZXJuYWwoXG4gICAgICAgICAgZmliZXIsXG4gICAgICAgICAgcXVldWUsXG4gICAgICAgICAgeyB0aGVuOiBmdW5jdGlvbiAoKSB7fSwgc3RhdHVzOiBcInJlamVjdGVkXCIsIHJlYXNvbjogZXJyb3IgfSxcbiAgICAgICAgICByZXF1ZXN0VXBkYXRlTGFuZShmaWJlcilcbiAgICAgICAgKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJldmlvdXNQcmlvcml0eSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbiksXG4gICAgICAgICAgbnVsbCA9PT0gcHJldlRyYW5zaXRpb24gJiZcbiAgICAgICAgICAgIGN1cnJlbnRUcmFuc2l0aW9uLl91cGRhdGVkRmliZXJzICYmXG4gICAgICAgICAgICAoKGZpYmVyID0gY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuc2l6ZSksXG4gICAgICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5jbGVhcigpLFxuICAgICAgICAgICAgMTAgPCBmaWJlciAmJlxuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgXCJEZXRlY3RlZCBhIGxhcmdlIG51bWJlciBvZiB1cGRhdGVzIGluc2lkZSBzdGFydFRyYW5zaXRpb24uIElmIHRoaXMgaXMgZHVlIHRvIGEgc3Vic2NyaXB0aW9uIHBsZWFzZSByZS13cml0ZSBpdCB0byB1c2UgUmVhY3QgcHJvdmlkZWQgaG9va3MuIE90aGVyd2lzZSBjb25jdXJyZW50IG1vZGUgZ3VhcmFudGVlcyBhcmUgb2ZmIHRoZSB0YWJsZS5cIlxuICAgICAgICAgICAgICApKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRIb3N0VHJhbnNpdGlvbihmb3JtRmliZXIsIHBlbmRpbmdTdGF0ZSwgYWN0aW9uLCBmb3JtRGF0YSkge1xuICAgICAgaWYgKDUgIT09IGZvcm1GaWJlci50YWcpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiRXhwZWN0ZWQgdGhlIGZvcm0gaW5zdGFuY2UgdG8gYmUgYSBIb3N0Q29tcG9uZW50LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgcXVldWUgPSBlbnN1cmVGb3JtQ29tcG9uZW50SXNTdGF0ZWZ1bChmb3JtRmliZXIpLnF1ZXVlO1xuICAgICAgc3RhcnRUcmFuc2l0aW9uKFxuICAgICAgICBmb3JtRmliZXIsXG4gICAgICAgIHF1ZXVlLFxuICAgICAgICBwZW5kaW5nU3RhdGUsXG4gICAgICAgIE5vdFBlbmRpbmdUcmFuc2l0aW9uLFxuICAgICAgICBudWxsID09PSBhY3Rpb25cbiAgICAgICAgICA/IG5vb3AkMlxuICAgICAgICAgIDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXF1ZXN0Rm9ybVJlc2V0JDEoZm9ybUZpYmVyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbihmb3JtRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnN1cmVGb3JtQ29tcG9uZW50SXNTdGF0ZWZ1bChmb3JtRmliZXIpIHtcbiAgICAgIHZhciBleGlzdGluZ1N0YXRlSG9vayA9IGZvcm1GaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgaWYgKG51bGwgIT09IGV4aXN0aW5nU3RhdGVIb29rKSByZXR1cm4gZXhpc3RpbmdTdGF0ZUhvb2s7XG4gICAgICBleGlzdGluZ1N0YXRlSG9vayA9IHtcbiAgICAgICAgbWVtb2l6ZWRTdGF0ZTogTm90UGVuZGluZ1RyYW5zaXRpb24sXG4gICAgICAgIGJhc2VTdGF0ZTogTm90UGVuZGluZ1RyYW5zaXRpb24sXG4gICAgICAgIGJhc2VRdWV1ZTogbnVsbCxcbiAgICAgICAgcXVldWU6IHtcbiAgICAgICAgICBwZW5kaW5nOiBudWxsLFxuICAgICAgICAgIGxhbmVzOiAwLFxuICAgICAgICAgIGRpc3BhdGNoOiBudWxsLFxuICAgICAgICAgIGxhc3RSZW5kZXJlZFJlZHVjZXI6IGJhc2ljU3RhdGVSZWR1Y2VyLFxuICAgICAgICAgIGxhc3RSZW5kZXJlZFN0YXRlOiBOb3RQZW5kaW5nVHJhbnNpdGlvblxuICAgICAgICB9LFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgdmFyIGluaXRpYWxSZXNldFN0YXRlID0ge307XG4gICAgICBleGlzdGluZ1N0YXRlSG9vay5uZXh0ID0ge1xuICAgICAgICBtZW1vaXplZFN0YXRlOiBpbml0aWFsUmVzZXRTdGF0ZSxcbiAgICAgICAgYmFzZVN0YXRlOiBpbml0aWFsUmVzZXRTdGF0ZSxcbiAgICAgICAgYmFzZVF1ZXVlOiBudWxsLFxuICAgICAgICBxdWV1ZToge1xuICAgICAgICAgIHBlbmRpbmc6IG51bGwsXG4gICAgICAgICAgbGFuZXM6IDAsXG4gICAgICAgICAgZGlzcGF0Y2g6IG51bGwsXG4gICAgICAgICAgbGFzdFJlbmRlcmVkUmVkdWNlcjogYmFzaWNTdGF0ZVJlZHVjZXIsXG4gICAgICAgICAgbGFzdFJlbmRlcmVkU3RhdGU6IGluaXRpYWxSZXNldFN0YXRlXG4gICAgICAgIH0sXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBmb3JtRmliZXIubWVtb2l6ZWRTdGF0ZSA9IGV4aXN0aW5nU3RhdGVIb29rO1xuICAgICAgZm9ybUZpYmVyID0gZm9ybUZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIG51bGwgIT09IGZvcm1GaWJlciAmJiAoZm9ybUZpYmVyLm1lbW9pemVkU3RhdGUgPSBleGlzdGluZ1N0YXRlSG9vayk7XG4gICAgICByZXR1cm4gZXhpc3RpbmdTdGF0ZUhvb2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3RGb3JtUmVzZXQkMShmb3JtRmliZXIpIHtcbiAgICAgIG51bGwgPT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcInJlcXVlc3RGb3JtUmVzZXQgd2FzIGNhbGxlZCBvdXRzaWRlIGEgdHJhbnNpdGlvbiBvciBhY3Rpb24uIFRvIGZpeCwgbW92ZSB0byBhbiBhY3Rpb24sIG9yIHdyYXAgd2l0aCBzdGFydFRyYW5zaXRpb24uXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciByZXNldFN0YXRlUXVldWUgPSBlbnN1cmVGb3JtQ29tcG9uZW50SXNTdGF0ZWZ1bChmb3JtRmliZXIpLm5leHQucXVldWU7XG4gICAgICBkaXNwYXRjaFNldFN0YXRlSW50ZXJuYWwoXG4gICAgICAgIGZvcm1GaWJlcixcbiAgICAgICAgcmVzZXRTdGF0ZVF1ZXVlLFxuICAgICAgICB7fSxcbiAgICAgICAgcmVxdWVzdFVwZGF0ZUxhbmUoZm9ybUZpYmVyKVxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIHN0YXRlSG9vayA9IG1vdW50U3RhdGVJbXBsKCExKTtcbiAgICAgIHN0YXRlSG9vayA9IHN0YXJ0VHJhbnNpdGlvbi5iaW5kKFxuICAgICAgICBudWxsLFxuICAgICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxLFxuICAgICAgICBzdGF0ZUhvb2sucXVldWUsXG4gICAgICAgICEwLFxuICAgICAgICAhMVxuICAgICAgKTtcbiAgICAgIG1vdW50V29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZSA9IHN0YXRlSG9vaztcbiAgICAgIHJldHVybiBbITEsIHN0YXRlSG9va107XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZVRyYW5zaXRpb24oKSB7XG4gICAgICB2YXIgYm9vbGVhbk9yVGhlbmFibGUgPSB1cGRhdGVSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKVswXSxcbiAgICAgICAgc3RhcnQgPSB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgXCJib29sZWFuXCIgPT09IHR5cGVvZiBib29sZWFuT3JUaGVuYWJsZVxuICAgICAgICAgID8gYm9vbGVhbk9yVGhlbmFibGVcbiAgICAgICAgICA6IHVzZVRoZW5hYmxlKGJvb2xlYW5PclRoZW5hYmxlKSxcbiAgICAgICAgc3RhcnRcbiAgICAgIF07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcmVuZGVyVHJhbnNpdGlvbigpIHtcbiAgICAgIHZhciBib29sZWFuT3JUaGVuYWJsZSA9IHJlcmVuZGVyUmVkdWNlcihiYXNpY1N0YXRlUmVkdWNlcilbMF0sXG4gICAgICAgIHN0YXJ0ID0gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIFwiYm9vbGVhblwiID09PSB0eXBlb2YgYm9vbGVhbk9yVGhlbmFibGVcbiAgICAgICAgICA/IGJvb2xlYW5PclRoZW5hYmxlXG4gICAgICAgICAgOiB1c2VUaGVuYWJsZShib29sZWFuT3JUaGVuYWJsZSksXG4gICAgICAgIHN0YXJ0XG4gICAgICBdO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cygpIHtcbiAgICAgIHJldHVybiByZWFkQ29udGV4dChIb3N0VHJhbnNpdGlvbkNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudElkKCkge1xuICAgICAgdmFyIGhvb2sgPSBtb3VudFdvcmtJblByb2dyZXNzSG9vaygpLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4ID0gd29ya0luUHJvZ3Jlc3NSb290LmlkZW50aWZpZXJQcmVmaXg7XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgdmFyIHRyZWVJZCA9IHRyZWVDb250ZXh0T3ZlcmZsb3c7XG4gICAgICAgIHZhciBpZFdpdGhMZWFkaW5nQml0ID0gdHJlZUNvbnRleHRJZDtcbiAgICAgICAgdHJlZUlkID1cbiAgICAgICAgICAoXG4gICAgICAgICAgICBpZFdpdGhMZWFkaW5nQml0ICYgfigxIDw8ICgzMiAtIGNsejMyKGlkV2l0aExlYWRpbmdCaXQpIC0gMSkpXG4gICAgICAgICAgKS50b1N0cmluZygzMikgKyB0cmVlSWQ7XG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXggPSBcIjpcIiArIGlkZW50aWZpZXJQcmVmaXggKyBcIlJcIiArIHRyZWVJZDtcbiAgICAgICAgdHJlZUlkID0gbG9jYWxJZENvdW50ZXIrKztcbiAgICAgICAgMCA8IHRyZWVJZCAmJiAoaWRlbnRpZmllclByZWZpeCArPSBcIkhcIiArIHRyZWVJZC50b1N0cmluZygzMikpO1xuICAgICAgICBpZGVudGlmaWVyUHJlZml4ICs9IFwiOlwiO1xuICAgICAgfSBlbHNlXG4gICAgICAgICh0cmVlSWQgPSBnbG9iYWxDbGllbnRJZENvdW50ZXIrKyksXG4gICAgICAgICAgKGlkZW50aWZpZXJQcmVmaXggPVxuICAgICAgICAgICAgXCI6XCIgKyBpZGVudGlmaWVyUHJlZml4ICsgXCJyXCIgKyB0cmVlSWQudG9TdHJpbmcoMzIpICsgXCI6XCIpO1xuICAgICAgcmV0dXJuIChob29rLm1lbW9pemVkU3RhdGUgPSBpZGVudGlmaWVyUHJlZml4KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbW91bnRSZWZyZXNoKCkge1xuICAgICAgcmV0dXJuIChtb3VudFdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGUgPSByZWZyZXNoQ2FjaGUuYmluZChcbiAgICAgICAgbnVsbCxcbiAgICAgICAgY3VycmVudGx5UmVuZGVyaW5nRmliZXIkMVxuICAgICAgKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZnJlc2hDYWNoZShmaWJlciwgc2VlZEtleSkge1xuICAgICAgZm9yICh2YXIgcHJvdmlkZXIgPSBmaWJlci5yZXR1cm47IG51bGwgIT09IHByb3ZpZGVyOyApIHtcbiAgICAgICAgc3dpdGNoIChwcm92aWRlci50YWcpIHtcbiAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHZhciBsYW5lID0gcmVxdWVzdFVwZGF0ZUxhbmUocHJvdmlkZXIpO1xuICAgICAgICAgICAgZmliZXIgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IGVucXVldWVVcGRhdGUocHJvdmlkZXIsIGZpYmVyLCBsYW5lKTtcbiAgICAgICAgICAgIG51bGwgIT09IHJvb3QgJiZcbiAgICAgICAgICAgICAgKHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBwcm92aWRlciwgbGFuZSksXG4gICAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvbnMocm9vdCwgcHJvdmlkZXIsIGxhbmUpKTtcbiAgICAgICAgICAgIHByb3ZpZGVyID0gY3JlYXRlQ2FjaGUoKTtcbiAgICAgICAgICAgIG51bGwgIT09IHNlZWRLZXkgJiZcbiAgICAgICAgICAgICAgdm9pZCAwICE9PSBzZWVkS2V5ICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IHJvb3QgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlRoZSBzZWVkIGFyZ3VtZW50IGlzIG5vdCBlbmFibGVkIG91dHNpZGUgZXhwZXJpbWVudGFsIGNoYW5uZWxzLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmaWJlci5wYXlsb2FkID0geyBjYWNoZTogcHJvdmlkZXIgfTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwcm92aWRlciA9IHByb3ZpZGVyLnJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hSZWR1Y2VyQWN0aW9uKFxuICAgICAgZmliZXIsXG4gICAgICBxdWV1ZSxcbiAgICAgIGFjdGlvbixcbiAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMFxuICAgICkge1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJTdGF0ZSB1cGRhdGVzIGZyb20gdGhlIHVzZVN0YXRlKCkgYW5kIHVzZVJlZHVjZXIoKSBIb29rcyBkb24ndCBzdXBwb3J0IHRoZSBzZWNvbmQgY2FsbGJhY2sgYXJndW1lbnQuIFRvIGV4ZWN1dGUgYSBzaWRlIGVmZmVjdCBhZnRlciByZW5kZXJpbmcsIGRlY2xhcmUgaXQgaW4gdGhlIGNvbXBvbmVudCBib2R5IHdpdGggdXNlRWZmZWN0KCkuXCJcbiAgICAgICAgKTtcbiAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMCA9IHJlcXVlc3RVcGRhdGVMYW5lKGZpYmVyKTtcbiAgICAgIGFjdGlvbiA9IHtcbiAgICAgICAgbGFuZTogSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwLFxuICAgICAgICByZXZlcnRMYW5lOiAwLFxuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgaGFzRWFnZXJTdGF0ZTogITEsXG4gICAgICAgIGVhZ2VyU3RhdGU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpc1JlbmRlclBoYXNlVXBkYXRlKGZpYmVyKVxuICAgICAgICA/IGVucXVldWVSZW5kZXJQaGFzZVVwZGF0ZShxdWV1ZSwgYWN0aW9uKVxuICAgICAgICA6ICgoYWN0aW9uID0gZW5xdWV1ZUNvbmN1cnJlbnRIb29rVXBkYXRlKFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBxdWV1ZSxcbiAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMFxuICAgICAgICAgICkpLFxuICAgICAgICAgIG51bGwgIT09IGFjdGlvbiAmJlxuICAgICAgICAgICAgKHNjaGVkdWxlVXBkYXRlT25GaWJlcihcbiAgICAgICAgICAgICAgYWN0aW9uLFxuICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9uVXBkYXRlKFxuICAgICAgICAgICAgICBhY3Rpb24sXG4gICAgICAgICAgICAgIHF1ZXVlLFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDBcbiAgICAgICAgICAgICkpKTtcbiAgICAgIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChmaWJlciwgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzcGF0Y2hTZXRTdGF0ZShcbiAgICAgIGZpYmVyLFxuICAgICAgcXVldWUsXG4gICAgICBhY3Rpb24sXG4gICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDFcbiAgICApIHtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiU3RhdGUgdXBkYXRlcyBmcm9tIHRoZSB1c2VTdGF0ZSgpIGFuZCB1c2VSZWR1Y2VyKCkgSG9va3MgZG9uJ3Qgc3VwcG9ydCB0aGUgc2Vjb25kIGNhbGxiYWNrIGFyZ3VtZW50LiBUbyBleGVjdXRlIGEgc2lkZSBlZmZlY3QgYWZ0ZXIgcmVuZGVyaW5nLCBkZWNsYXJlIGl0IGluIHRoZSBjb21wb25lbnQgYm9keSB3aXRoIHVzZUVmZmVjdCgpLlwiXG4gICAgICAgICk7XG4gICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDEgPSByZXF1ZXN0VXBkYXRlTGFuZShmaWJlcik7XG4gICAgICBkaXNwYXRjaFNldFN0YXRlSW50ZXJuYWwoXG4gICAgICAgIGZpYmVyLFxuICAgICAgICBxdWV1ZSxcbiAgICAgICAgYWN0aW9uLFxuICAgICAgICBKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDFcbiAgICAgICk7XG4gICAgICBtYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoZmliZXIsIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoU2V0U3RhdGVJbnRlcm5hbChmaWJlciwgcXVldWUsIGFjdGlvbiwgbGFuZSkge1xuICAgICAgdmFyIHVwZGF0ZSA9IHtcbiAgICAgICAgbGFuZTogbGFuZSxcbiAgICAgICAgcmV2ZXJ0TGFuZTogMCxcbiAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgIGhhc0VhZ2VyU3RhdGU6ICExLFxuICAgICAgICBlYWdlclN0YXRlOiBudWxsLFxuICAgICAgICBuZXh0OiBudWxsXG4gICAgICB9O1xuICAgICAgaWYgKGlzUmVuZGVyUGhhc2VVcGRhdGUoZmliZXIpKSBlbnF1ZXVlUmVuZGVyUGhhc2VVcGRhdGUocXVldWUsIHVwZGF0ZSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgdmFyIGFsdGVybmF0ZSA9IGZpYmVyLmFsdGVybmF0ZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIDAgPT09IGZpYmVyLmxhbmVzICYmXG4gICAgICAgICAgKG51bGwgPT09IGFsdGVybmF0ZSB8fCAwID09PSBhbHRlcm5hdGUubGFuZXMpICYmXG4gICAgICAgICAgKChhbHRlcm5hdGUgPSBxdWV1ZS5sYXN0UmVuZGVyZWRSZWR1Y2VyKSwgbnVsbCAhPT0gYWx0ZXJuYXRlKVxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IHF1ZXVlLmxhc3RSZW5kZXJlZFN0YXRlLFxuICAgICAgICAgICAgICBlYWdlclN0YXRlID0gYWx0ZXJuYXRlKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICAgICAgICAgIHVwZGF0ZS5oYXNFYWdlclN0YXRlID0gITA7XG4gICAgICAgICAgICB1cGRhdGUuZWFnZXJTdGF0ZSA9IGVhZ2VyU3RhdGU7XG4gICAgICAgICAgICBpZiAob2JqZWN0SXMoZWFnZXJTdGF0ZSwgY3VycmVudFN0YXRlKSlcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICBlbnF1ZXVlVXBkYXRlJDEoZmliZXIsIHF1ZXVlLCB1cGRhdGUsIDApLFxuICAgICAgICAgICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzUm9vdCAmJlxuICAgICAgICAgICAgICAgICAgZmluaXNoUXVldWVpbmdDb25jdXJyZW50VXBkYXRlcygpLFxuICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhY3Rpb24gPSBlbnF1ZXVlQ29uY3VycmVudEhvb2tVcGRhdGUoZmliZXIsIHF1ZXVlLCB1cGRhdGUsIGxhbmUpO1xuICAgICAgICBpZiAobnVsbCAhPT0gYWN0aW9uKVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIoYWN0aW9uLCBmaWJlciwgbGFuZSksXG4gICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25VcGRhdGUoYWN0aW9uLCBxdWV1ZSwgbGFuZSksXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoT3B0aW1pc3RpY1NldFN0YXRlKFxuICAgICAgZmliZXIsXG4gICAgICB0aHJvd0lmRHVyaW5nUmVuZGVyLFxuICAgICAgcXVldWUsXG4gICAgICBhY3Rpb25cbiAgICApIHtcbiAgICAgIG51bGwgPT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgJiZcbiAgICAgICAgMCA9PT0gY3VycmVudEVudGFuZ2xlZExhbmUgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkFuIG9wdGltaXN0aWMgc3RhdGUgdXBkYXRlIG9jY3VycmVkIG91dHNpZGUgYSB0cmFuc2l0aW9uIG9yIGFjdGlvbi4gVG8gZml4LCBtb3ZlIHRoZSB1cGRhdGUgdG8gYW4gYWN0aW9uLCBvciB3cmFwIHdpdGggc3RhcnRUcmFuc2l0aW9uLlwiXG4gICAgICAgICk7XG4gICAgICBhY3Rpb24gPSB7XG4gICAgICAgIGxhbmU6IDIsXG4gICAgICAgIHJldmVydExhbmU6IHJlcXVlc3RUcmFuc2l0aW9uTGFuZSgpLFxuICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgaGFzRWFnZXJTdGF0ZTogITEsXG4gICAgICAgIGVhZ2VyU3RhdGU6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgICBpZiAoaXNSZW5kZXJQaGFzZVVwZGF0ZShmaWJlcikpIHtcbiAgICAgICAgaWYgKHRocm93SWZEdXJpbmdSZW5kZXIpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXCJDYW5ub3QgdXBkYXRlIG9wdGltaXN0aWMgc3RhdGUgd2hpbGUgcmVuZGVyaW5nLlwiKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkNhbm5vdCBjYWxsIHN0YXJ0VHJhbnNpdGlvbiB3aGlsZSByZW5kZXJpbmcuXCIpO1xuICAgICAgfSBlbHNlXG4gICAgICAgICh0aHJvd0lmRHVyaW5nUmVuZGVyID0gZW5xdWV1ZUNvbmN1cnJlbnRIb29rVXBkYXRlKFxuICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgIHF1ZXVlLFxuICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAyXG4gICAgICAgICkpLFxuICAgICAgICAgIG51bGwgIT09IHRocm93SWZEdXJpbmdSZW5kZXIgJiZcbiAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcih0aHJvd0lmRHVyaW5nUmVuZGVyLCBmaWJlciwgMik7XG4gICAgICBtYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoZmliZXIsIDIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1JlbmRlclBoYXNlVXBkYXRlKGZpYmVyKSB7XG4gICAgICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgZmliZXIgPT09IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgfHxcbiAgICAgICAgKG51bGwgIT09IGFsdGVybmF0ZSAmJiBhbHRlcm5hdGUgPT09IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlUmVuZGVyUGhhc2VVcGRhdGUocXVldWUsIHVwZGF0ZSkge1xuICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZUR1cmluZ1RoaXNQYXNzID1cbiAgICAgICAgZGlkU2NoZWR1bGVSZW5kZXJQaGFzZVVwZGF0ZSA9ICEwO1xuICAgICAgdmFyIHBlbmRpbmcgPSBxdWV1ZS5wZW5kaW5nO1xuICAgICAgbnVsbCA9PT0gcGVuZGluZ1xuICAgICAgICA/ICh1cGRhdGUubmV4dCA9IHVwZGF0ZSlcbiAgICAgICAgOiAoKHVwZGF0ZS5uZXh0ID0gcGVuZGluZy5uZXh0KSwgKHBlbmRpbmcubmV4dCA9IHVwZGF0ZSkpO1xuICAgICAgcXVldWUucGVuZGluZyA9IHVwZGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW50YW5nbGVUcmFuc2l0aW9uVXBkYXRlKHJvb3QsIHF1ZXVlLCBsYW5lKSB7XG4gICAgICBpZiAoMCAhPT0gKGxhbmUgJiA0MTk0MTc2KSkge1xuICAgICAgICB2YXIgcXVldWVMYW5lcyA9IHF1ZXVlLmxhbmVzO1xuICAgICAgICBxdWV1ZUxhbmVzICY9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgICBsYW5lIHw9IHF1ZXVlTGFuZXM7XG4gICAgICAgIHF1ZXVlLmxhbmVzID0gbGFuZTtcbiAgICAgICAgbWFya1Jvb3RFbnRhbmdsZWQocm9vdCwgbGFuZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgaWYgKG51bGwgIT09IGNhbGxiYWNrICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBrZXkgPSBTdHJpbmcoY2FsbGJhY2spO1xuICAgICAgICBkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2suaGFzKGtleSkgfHxcbiAgICAgICAgICAoZGlkV2Fybk9uSW52YWxpZENhbGxiYWNrLmFkZChrZXkpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHRoZSBsYXN0IG9wdGlvbmFsIGBjYWxsYmFja2AgYXJndW1lbnQgdG8gYmUgYSBmdW5jdGlvbi4gSW5zdGVhZCByZWNlaXZlZDogJXMuXCIsXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICAgICkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhcHBseURlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgY3RvcixcbiAgICAgIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyxcbiAgICAgIG5leHRQcm9wc1xuICAgICkge1xuICAgICAgdmFyIHByZXZTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUsXG4gICAgICAgIHBhcnRpYWxTdGF0ZSA9IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgICBpZiAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpIHtcbiAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhcnRpYWxTdGF0ZSA9IGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXh0UHJvcHMsIHByZXZTdGF0ZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2b2lkIDAgPT09IHBhcnRpYWxTdGF0ZSAmJlxuICAgICAgICAoKGN0b3IgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoY3RvcikgfHwgXCJDb21wb25lbnRcIiksXG4gICAgICAgIGRpZFdhcm5BYm91dFVuZGVmaW5lZERlcml2ZWRTdGF0ZS5oYXMoY3RvcikgfHxcbiAgICAgICAgICAoZGlkV2FybkFib3V0VW5kZWZpbmVkRGVyaXZlZFN0YXRlLmFkZChjdG9yKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcy5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKTogQSB2YWxpZCBzdGF0ZSBvYmplY3QgKG9yIG51bGwpIG11c3QgYmUgcmV0dXJuZWQuIFlvdSBoYXZlIHJldHVybmVkIHVuZGVmaW5lZC5cIixcbiAgICAgICAgICAgIGN0b3JcbiAgICAgICAgICApKSk7XG4gICAgICBwcmV2U3RhdGUgPVxuICAgICAgICBudWxsID09PSBwYXJ0aWFsU3RhdGUgfHwgdm9pZCAwID09PSBwYXJ0aWFsU3RhdGVcbiAgICAgICAgICA/IHByZXZTdGF0ZVxuICAgICAgICAgIDogYXNzaWduKHt9LCBwcmV2U3RhdGUsIHBhcnRpYWxTdGF0ZSk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gcHJldlN0YXRlO1xuICAgICAgMCA9PT0gd29ya0luUHJvZ3Jlc3MubGFuZXMgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLmJhc2VTdGF0ZSA9IHByZXZTdGF0ZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNoZWNrU2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBjdG9yLFxuICAgICAgb2xkUHJvcHMsXG4gICAgICBuZXdQcm9wcyxcbiAgICAgIG9sZFN0YXRlLFxuICAgICAgbmV3U3RhdGUsXG4gICAgICBuZXh0Q29udGV4dFxuICAgICkge1xuICAgICAgdmFyIGluc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZSkge1xuICAgICAgICBvbGRQcm9wcyA9IGluc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZShcbiAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICBuZXh0Q29udGV4dFxuICAgICAgICApO1xuICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpIHtcbiAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMCk7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG9sZFByb3BzID0gaW5zdGFuY2Uuc2hvdWxkQ29tcG9uZW50VXBkYXRlKFxuICAgICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgICAgIG5leHRDb250ZXh0XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZvaWQgMCA9PT0gb2xkUHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcy5zaG91bGRDb21wb25lbnRVcGRhdGUoKTogUmV0dXJuZWQgdW5kZWZpbmVkIGluc3RlYWQgb2YgYSBib29sZWFuIHZhbHVlLiBNYWtlIHN1cmUgdG8gcmV0dXJuIHRydWUgb3IgZmFsc2UuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoY3RvcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgIHJldHVybiBvbGRQcm9wcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjdG9yLnByb3RvdHlwZSAmJiBjdG9yLnByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudFxuICAgICAgICA/ICFzaGFsbG93RXF1YWwob2xkUHJvcHMsIG5ld1Byb3BzKSB8fCAhc2hhbGxvd0VxdWFsKG9sZFN0YXRlLCBuZXdTdGF0ZSlcbiAgICAgICAgOiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbENvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgbmV3UHJvcHMsXG4gICAgICBuZXh0Q29udGV4dFxuICAgICkge1xuICAgICAgdmFyIG9sZFN0YXRlID0gaW5zdGFuY2Uuc3RhdGU7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgIGluc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMobmV3UHJvcHMsIG5leHRDb250ZXh0KTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgIGluc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5ld1Byb3BzLCBuZXh0Q29udGV4dCk7XG4gICAgICBpbnN0YW5jZS5zdGF0ZSAhPT0gb2xkU3RhdGUgJiZcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcyA9XG4gICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcih3b3JrSW5Qcm9ncmVzcykgfHwgXCJDb21wb25lbnRcIiksXG4gICAgICAgIGRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudC5oYXMod29ya0luUHJvZ3Jlc3MpIHx8XG4gICAgICAgICAgKGRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudC5hZGQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMoKTogQXNzaWduaW5nIGRpcmVjdGx5IHRvIHRoaXMuc3RhdGUgaXMgZGVwcmVjYXRlZCAoZXhjZXB0IGluc2lkZSBhIGNvbXBvbmVudCdzIGNvbnN0cnVjdG9yKS4gVXNlIHNldFN0YXRlIGluc3RlYWQuXCIsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICkpLFxuICAgICAgICBjbGFzc0NvbXBvbmVudFVwZGF0ZXIuZW5xdWV1ZVJlcGxhY2VTdGF0ZShcbiAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICBpbnN0YW5jZS5zdGF0ZSxcbiAgICAgICAgICBudWxsXG4gICAgICAgICkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhDb21wb25lbnQsIGJhc2VQcm9wcykge1xuICAgICAgdmFyIG5ld1Byb3BzID0gYmFzZVByb3BzO1xuICAgICAgaWYgKFwicmVmXCIgaW4gYmFzZVByb3BzKSB7XG4gICAgICAgIG5ld1Byb3BzID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGJhc2VQcm9wcylcbiAgICAgICAgICBcInJlZlwiICE9PSBwcm9wTmFtZSAmJiAobmV3UHJvcHNbcHJvcE5hbWVdID0gYmFzZVByb3BzW3Byb3BOYW1lXSk7XG4gICAgICB9XG4gICAgICBpZiAoKENvbXBvbmVudCA9IENvbXBvbmVudC5kZWZhdWx0UHJvcHMpKSB7XG4gICAgICAgIG5ld1Byb3BzID09PSBiYXNlUHJvcHMgJiYgKG5ld1Byb3BzID0gYXNzaWduKHt9LCBuZXdQcm9wcykpO1xuICAgICAgICBmb3IgKHZhciBfcHJvcE5hbWUgaW4gQ29tcG9uZW50KVxuICAgICAgICAgIHZvaWQgMCA9PT0gbmV3UHJvcHNbX3Byb3BOYW1lXSAmJlxuICAgICAgICAgICAgKG5ld1Byb3BzW19wcm9wTmFtZV0gPSBDb21wb25lbnRbX3Byb3BOYW1lXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3UHJvcHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmF1bHRPblVuY2F1Z2h0RXJyb3IoZXJyb3IsIGVycm9ySW5mbykge1xuICAgICAgcmVwb3J0R2xvYmFsRXJyb3IoZXJyb3IpO1xuICAgICAgZXJyb3IgPSBjb21wb25lbnROYW1lXG4gICAgICAgID8gXCJBbiBlcnJvciBvY2N1cnJlZCBpbiB0aGUgPFwiICsgY29tcG9uZW50TmFtZSArIFwiPiBjb21wb25lbnQuXCJcbiAgICAgICAgOiBcIkFuIGVycm9yIG9jY3VycmVkIGluIG9uZSBvZiB5b3VyIFJlYWN0IGNvbXBvbmVudHMuXCI7XG4gICAgICB2YXIgcHJldkdldEN1cnJlbnRTdGFjayA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayxcbiAgICAgICAgY29tcG9uZW50U3RhY2sgPVxuICAgICAgICAgIG51bGwgIT0gZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrID8gZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrIDogXCJcIjtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudFN0YWNrO1xuICAgICAgfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIiVzXFxuXFxuJXNcXG5cIixcbiAgICAgICAgICBlcnJvcixcbiAgICAgICAgICBcIkNvbnNpZGVyIGFkZGluZyBhbiBlcnJvciBib3VuZGFyeSB0byB5b3VyIHRyZWUgdG8gY3VzdG9taXplIGVycm9yIGhhbmRsaW5nIGJlaGF2aW9yLlxcblZpc2l0IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvZXJyb3ItYm91bmRhcmllcyB0byBsZWFybiBtb3JlIGFib3V0IGVycm9yIGJvdW5kYXJpZXMuXCJcbiAgICAgICAgKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IHByZXZHZXRDdXJyZW50U3RhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmF1bHRPbkNhdWdodEVycm9yKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lTWVzc2FnZSA9IGNvbXBvbmVudE5hbWVcbiAgICAgICAgICA/IFwiVGhlIGFib3ZlIGVycm9yIG9jY3VycmVkIGluIHRoZSA8XCIgKyBjb21wb25lbnROYW1lICsgXCI+IGNvbXBvbmVudC5cIlxuICAgICAgICAgIDogXCJUaGUgYWJvdmUgZXJyb3Igb2NjdXJyZWQgaW4gb25lIG9mIHlvdXIgUmVhY3QgY29tcG9uZW50cy5cIixcbiAgICAgICAgcmVjcmVhdGVNZXNzYWdlID1cbiAgICAgICAgICBcIlJlYWN0IHdpbGwgdHJ5IHRvIHJlY3JlYXRlIHRoaXMgY29tcG9uZW50IHRyZWUgZnJvbSBzY3JhdGNoIHVzaW5nIHRoZSBlcnJvciBib3VuZGFyeSB5b3UgcHJvdmlkZWQsIFwiICtcbiAgICAgICAgICAoKGVycm9yQm91bmRhcnlOYW1lIHx8IFwiQW5vbnltb3VzXCIpICsgXCIuXCIpLFxuICAgICAgICBwcmV2R2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrLFxuICAgICAgICBjb21wb25lbnRTdGFjayA9XG4gICAgICAgICAgbnVsbCAhPSBlcnJvckluZm8uY29tcG9uZW50U3RhY2sgPyBlcnJvckluZm8uY29tcG9uZW50U3RhY2sgOiBcIlwiO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50U3RhY2s7XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVycm9yICYmXG4gICAgICAgIG51bGwgIT09IGVycm9yICYmXG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnJvci5lbnZpcm9ubWVudE5hbWVcbiAgICAgICAgICA/IGJpbmRUb0NvbnNvbGUoXG4gICAgICAgICAgICAgIFwiZXJyb3JcIixcbiAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgIFwiJW9cXG5cXG4lc1xcblxcbiVzXFxuXCIsXG4gICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50TmFtZU1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgcmVjcmVhdGVNZXNzYWdlXG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIGVycm9yLmVudmlyb25tZW50TmFtZVxuICAgICAgICAgICAgKSgpXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIiVvXFxuXFxuJXNcXG5cXG4lc1xcblwiLFxuICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgY29tcG9uZW50TmFtZU1lc3NhZ2UsXG4gICAgICAgICAgICAgIHJlY3JlYXRlTWVzc2FnZVxuICAgICAgICAgICAgKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IHByZXZHZXRDdXJyZW50U3RhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlZmF1bHRPblJlY292ZXJhYmxlRXJyb3IoZXJyb3IpIHtcbiAgICAgIHJlcG9ydEdsb2JhbEVycm9yKGVycm9yKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbG9nVW5jYXVnaHRFcnJvcihyb290LCBlcnJvckluZm8pIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbXBvbmVudE5hbWUgPSBlcnJvckluZm8uc291cmNlXG4gICAgICAgICAgPyBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGVycm9ySW5mby5zb3VyY2UpXG4gICAgICAgICAgOiBudWxsO1xuICAgICAgICBlcnJvckJvdW5kYXJ5TmFtZSA9IG51bGw7XG4gICAgICAgIHZhciBlcnJvciA9IGVycm9ySW5mby52YWx1ZTtcbiAgICAgICAgaWYgKG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlKVxuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLnRocm93bkVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG9uVW5jYXVnaHRFcnJvciA9IHJvb3Qub25VbmNhdWdodEVycm9yO1xuICAgICAgICAgIG9uVW5jYXVnaHRFcnJvcihlcnJvciwgeyBjb21wb25lbnRTdGFjazogZXJyb3JJbmZvLnN0YWNrIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlJDQpIHtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhyb3cgZSQ0O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbG9nQ2F1Z2h0RXJyb3Iocm9vdCwgYm91bmRhcnksIGVycm9ySW5mbykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29tcG9uZW50TmFtZSA9IGVycm9ySW5mby5zb3VyY2VcbiAgICAgICAgICA/IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZXJyb3JJbmZvLnNvdXJjZSlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICAgIGVycm9yQm91bmRhcnlOYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihib3VuZGFyeSk7XG4gICAgICAgIHZhciBvbkNhdWdodEVycm9yID0gcm9vdC5vbkNhdWdodEVycm9yO1xuICAgICAgICBvbkNhdWdodEVycm9yKGVycm9ySW5mby52YWx1ZSwge1xuICAgICAgICAgIGNvbXBvbmVudFN0YWNrOiBlcnJvckluZm8uc3RhY2ssXG4gICAgICAgICAgZXJyb3JCb3VuZGFyeTogMSA9PT0gYm91bmRhcnkudGFnID8gYm91bmRhcnkuc3RhdGVOb2RlIDogbnVsbFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUkNSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aHJvdyBlJDU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVSb290RXJyb3JVcGRhdGUocm9vdCwgZXJyb3JJbmZvLCBsYW5lKSB7XG4gICAgICBsYW5lID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgbGFuZS50YWcgPSBDYXB0dXJlVXBkYXRlO1xuICAgICAgbGFuZS5wYXlsb2FkID0geyBlbGVtZW50OiBudWxsIH07XG4gICAgICBsYW5lLmNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBydW5XaXRoRmliZXJJbkRFVihlcnJvckluZm8uc291cmNlLCBsb2dVbmNhdWdodEVycm9yLCByb290LCBlcnJvckluZm8pO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBsYW5lO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVDbGFzc0Vycm9yVXBkYXRlKGxhbmUpIHtcbiAgICAgIGxhbmUgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICBsYW5lLnRhZyA9IENhcHR1cmVVcGRhdGU7XG4gICAgICByZXR1cm4gbGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZUNsYXNzRXJyb3JVcGRhdGUodXBkYXRlLCByb290LCBmaWJlciwgZXJyb3JJbmZvKSB7XG4gICAgICB2YXIgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yID0gZmliZXIudHlwZS5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3I7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGVycm9ySW5mby52YWx1ZTtcbiAgICAgICAgdXBkYXRlLnBheWxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIHVwZGF0ZS5jYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBtYXJrRmFpbGVkRXJyb3JCb3VuZGFyeUZvckhvdFJlbG9hZGluZyhmaWJlcik7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBlcnJvckluZm8uc291cmNlLFxuICAgICAgICAgICAgbG9nQ2F1Z2h0RXJyb3IsXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBlcnJvckluZm9cbiAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgdmFyIGluc3QgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgICBudWxsICE9PSBpbnN0ICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3QuY29tcG9uZW50RGlkQ2F0Y2ggJiZcbiAgICAgICAgKHVwZGF0ZS5jYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBtYXJrRmFpbGVkRXJyb3JCb3VuZGFyeUZvckhvdFJlbG9hZGluZyhmaWJlcik7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBlcnJvckluZm8uc291cmNlLFxuICAgICAgICAgICAgbG9nQ2F1Z2h0RXJyb3IsXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICBlcnJvckluZm9cbiAgICAgICAgICApO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAmJlxuICAgICAgICAgICAgKG51bGwgPT09IGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkXG4gICAgICAgICAgICAgID8gKGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbmV3IFNldChbdGhpc10pKVxuICAgICAgICAgICAgICA6IGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmFkZCh0aGlzKSk7XG4gICAgICAgICAgY2FsbENvbXBvbmVudERpZENhdGNoSW5ERVYodGhpcywgZXJyb3JJbmZvKTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IgfHxcbiAgICAgICAgICAgICgwID09PSAoZmliZXIubGFuZXMgJiAyKSAmJlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiJXM6IEVycm9yIGJvdW5kYXJpZXMgc2hvdWxkIGltcGxlbWVudCBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoKS4gSW4gdGhhdCBtZXRob2QsIHJldHVybiBhIHN0YXRlIHVwZGF0ZSB0byBkaXNwbGF5IGFuIGVycm9yIG1lc3NhZ2Ugb3IgZmFsbGJhY2sgVUkuXCIsXG4gICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJVbmtub3duXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd0V4Y2VwdGlvbihcbiAgICAgIHJvb3QsXG4gICAgICByZXR1cm5GaWJlcixcbiAgICAgIHNvdXJjZUZpYmVyLFxuICAgICAgdmFsdWUsXG4gICAgICByb290UmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHNvdXJjZUZpYmVyLmZsYWdzIHw9IDMyNzY4O1xuICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiYgcmVzdG9yZVBlbmRpbmdVcGRhdGVycyhyb290LCByb290UmVuZGVyTGFuZXMpO1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSB2YWx1ZSAmJlxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUudGhlblxuICAgICAgKSB7XG4gICAgICAgIHJldHVybkZpYmVyID0gc291cmNlRmliZXIuYWx0ZXJuYXRlO1xuICAgICAgICBudWxsICE9PSByZXR1cm5GaWJlciAmJlxuICAgICAgICAgIHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICBzb3VyY2VGaWJlcixcbiAgICAgICAgICAgIHJvb3RSZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgICAgaXNIeWRyYXRpbmcgJiYgKGRpZFN1c3BlbmRPckVycm9yREVWID0gITApO1xuICAgICAgICBzb3VyY2VGaWJlciA9IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gICAgICAgIGlmIChudWxsICE9PSBzb3VyY2VGaWJlcikge1xuICAgICAgICAgIHN3aXRjaCAoc291cmNlRmliZXIudGFnKSB7XG4gICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIG51bGwgPT09IHNoZWxsQm91bmRhcnlcbiAgICAgICAgICAgICAgICAgID8gcmVuZGVyRGlkU3VzcGVuZERlbGF5SWZQb3NzaWJsZSgpXG4gICAgICAgICAgICAgICAgICA6IG51bGwgPT09IHNvdXJjZUZpYmVyLmFsdGVybmF0ZSAmJlxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290SW5Qcm9ncmVzcyAmJlxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RTdXNwZW5kZWQpLFxuICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci5mbGFncyAmPSAtMjU3KSxcbiAgICAgICAgICAgICAgICAoc291cmNlRmliZXIuZmxhZ3MgfD0gNjU1MzYpLFxuICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci5sYW5lcyA9IHJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgdmFsdWUgPT09IG5vb3BTdXNwZW5zZXlDb21taXRUaGVuYWJsZVxuICAgICAgICAgICAgICAgICAgPyAoc291cmNlRmliZXIuZmxhZ3MgfD0gMTYzODQpXG4gICAgICAgICAgICAgICAgICA6ICgocmV0dXJuRmliZXIgPSBzb3VyY2VGaWJlci51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICAgICAgICAgIG51bGwgPT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICAgICAgPyAoc291cmNlRmliZXIudXBkYXRlUXVldWUgPSBuZXcgU2V0KFt2YWx1ZV0pKVxuICAgICAgICAgICAgICAgICAgICAgIDogcmV0dXJuRmliZXIuYWRkKHZhbHVlKSxcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGluZ0xpc3RlbmVyKHJvb3QsIHZhbHVlLCByb290UmVuZGVyTGFuZXMpKSxcbiAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAoc291cmNlRmliZXIuZmxhZ3MgfD0gNjU1MzYpLFxuICAgICAgICAgICAgICAgIHZhbHVlID09PSBub29wU3VzcGVuc2V5Q29tbWl0VGhlbmFibGVcbiAgICAgICAgICAgICAgICAgID8gKHNvdXJjZUZpYmVyLmZsYWdzIHw9IDE2Mzg0KVxuICAgICAgICAgICAgICAgICAgOiAoKHJldHVybkZpYmVyID0gc291cmNlRmliZXIudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgICAgICAgICBudWxsID09PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgICAgID8gKChyZXR1cm5GaWJlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbnM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmtlckluc3RhbmNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlRdWV1ZTogbmV3IFNldChbdmFsdWVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAoc291cmNlRmliZXIudXBkYXRlUXVldWUgPSByZXR1cm5GaWJlcikpXG4gICAgICAgICAgICAgICAgICAgICAgOiAoKHNvdXJjZUZpYmVyID0gcmV0dXJuRmliZXIucmV0cnlRdWV1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsID09PSBzb3VyY2VGaWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IChyZXR1cm5GaWJlci5yZXRyeVF1ZXVlID0gbmV3IFNldChbdmFsdWVdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBzb3VyY2VGaWJlci5hZGQodmFsdWUpKSxcbiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUGluZ0xpc3RlbmVyKHJvb3QsIHZhbHVlLCByb290UmVuZGVyTGFuZXMpKSxcbiAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiVW5leHBlY3RlZCBTdXNwZW5zZSBoYW5kbGVyIHRhZyAoXCIgK1xuICAgICAgICAgICAgICBzb3VyY2VGaWJlci50YWcgK1xuICAgICAgICAgICAgICBcIikuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGF0dGFjaFBpbmdMaXN0ZW5lcihyb290LCB2YWx1ZSwgcm9vdFJlbmRlckxhbmVzKTtcbiAgICAgICAgcmVuZGVyRGlkU3VzcGVuZERlbGF5SWZQb3NzaWJsZSgpO1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICBpZiAoaXNIeWRyYXRpbmcpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgKGRpZFN1c3BlbmRPckVycm9yREVWID0gITApLFxuICAgICAgICAgIChyZXR1cm5GaWJlciA9IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQpLFxuICAgICAgICAgIG51bGwgIT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICA/ICgwID09PSAocmV0dXJuRmliZXIuZmxhZ3MgJiA2NTUzNikgJiYgKHJldHVybkZpYmVyLmZsYWdzIHw9IDI1NiksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlci5mbGFncyB8PSA2NTUzNiksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlci5sYW5lcyA9IHJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgIHZhbHVlICE9PSBIeWRyYXRpb25NaXNtYXRjaEV4Y2VwdGlvbiAmJlxuICAgICAgICAgICAgICAgIHF1ZXVlSHlkcmF0aW9uRXJyb3IoXG4gICAgICAgICAgICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihcbiAgICAgICAgICAgICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJUaGVyZSB3YXMgYW4gZXJyb3Igd2hpbGUgaHlkcmF0aW5nIGJ1dCBSZWFjdCB3YXMgYWJsZSB0byByZWNvdmVyIGJ5IGluc3RlYWQgY2xpZW50IHJlbmRlcmluZyBmcm9tIHRoZSBuZWFyZXN0IFN1c3BlbnNlIGJvdW5kYXJ5LlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHsgY2F1c2U6IHZhbHVlIH1cbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlRmliZXJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgOiAodmFsdWUgIT09IEh5ZHJhdGlvbk1pc21hdGNoRXhjZXB0aW9uICYmXG4gICAgICAgICAgICAgICAgcXVldWVIeWRyYXRpb25FcnJvcihcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKFxuICAgICAgICAgICAgICAgICAgICBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIlRoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSBoeWRyYXRpbmcgYnV0IFJlYWN0IHdhcyBhYmxlIHRvIHJlY292ZXIgYnkgaW5zdGVhZCBjbGllbnQgcmVuZGVyaW5nIHRoZSBlbnRpcmUgcm9vdC5cIixcbiAgICAgICAgICAgICAgICAgICAgICB7IGNhdXNlOiB2YWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUZpYmVyXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKHJvb3QgPSByb290LmN1cnJlbnQuYWx0ZXJuYXRlKSxcbiAgICAgICAgICAgICAgKHJvb3QuZmxhZ3MgfD0gNjU1MzYpLFxuICAgICAgICAgICAgICAocm9vdFJlbmRlckxhbmVzICY9IC1yb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAocm9vdC5sYW5lcyB8PSByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAodmFsdWUgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih2YWx1ZSwgc291cmNlRmliZXIpKSxcbiAgICAgICAgICAgICAgKHJvb3RSZW5kZXJMYW5lcyA9IGNyZWF0ZVJvb3RFcnJvclVwZGF0ZShcbiAgICAgICAgICAgICAgICByb290LnN0YXRlTm9kZSxcbiAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICByb290UmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIGVucXVldWVDYXB0dXJlZFVwZGF0ZShyb290LCByb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzICE9PSBSb290U3VzcGVuZGVkV2l0aERlbGF5ICYmXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290RXJyb3JlZCkpLFxuICAgICAgICAgICExXG4gICAgICAgICk7XG4gICAgICB2YXIgZXJyb3IgPSBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihcbiAgICAgICAgRXJyb3IoXG4gICAgICAgICAgXCJUaGVyZSB3YXMgYW4gZXJyb3IgZHVyaW5nIGNvbmN1cnJlbnQgcmVuZGVyaW5nIGJ1dCBSZWFjdCB3YXMgYWJsZSB0byByZWNvdmVyIGJ5IGluc3RlYWQgc3luY2hyb25vdXNseSByZW5kZXJpbmcgdGhlIGVudGlyZSByb290LlwiLFxuICAgICAgICAgIHsgY2F1c2U6IHZhbHVlIH1cbiAgICAgICAgKSxcbiAgICAgICAgc291cmNlRmliZXJcbiAgICAgICk7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzXG4gICAgICAgID8gKHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnMgPSBbZXJyb3JdKVxuICAgICAgICA6IHdvcmtJblByb2dyZXNzUm9vdENvbmN1cnJlbnRFcnJvcnMucHVzaChlcnJvcik7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzICE9PSBSb290U3VzcGVuZGVkV2l0aERlbGF5ICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEVycm9yZWQpO1xuICAgICAgaWYgKG51bGwgPT09IHJldHVybkZpYmVyKSByZXR1cm4gITA7XG4gICAgICB2YWx1ZSA9IGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKHZhbHVlLCBzb3VyY2VGaWJlcik7XG4gICAgICBzb3VyY2VGaWJlciA9IHJldHVybkZpYmVyO1xuICAgICAgZG8ge1xuICAgICAgICBzd2l0Y2ggKHNvdXJjZUZpYmVyLnRhZykge1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIChzb3VyY2VGaWJlci5mbGFncyB8PSA2NTUzNiksXG4gICAgICAgICAgICAgIChyb290ID0gcm9vdFJlbmRlckxhbmVzICYgLXJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgIChzb3VyY2VGaWJlci5sYW5lcyB8PSByb290KSxcbiAgICAgICAgICAgICAgKHJvb3QgPSBjcmVhdGVSb290RXJyb3JVcGRhdGUoXG4gICAgICAgICAgICAgICAgc291cmNlRmliZXIuc3RhdGVOb2RlLFxuICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgIHJvb3RcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIGVucXVldWVDYXB0dXJlZFVwZGF0ZShzb3VyY2VGaWJlciwgcm9vdCksXG4gICAgICAgICAgICAgICExXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChyZXR1cm5GaWJlciA9IHNvdXJjZUZpYmVyLnR5cGUpLFxuICAgICAgICAgICAgICAoZXJyb3IgPSBzb3VyY2VGaWJlci5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICAwID09PSAoc291cmNlRmliZXIuZmxhZ3MgJiAxMjgpICYmXG4gICAgICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJldHVybkZpYmVyLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciB8fFxuICAgICAgICAgICAgICAgICAgKG51bGwgIT09IGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGVycm9yLmNvbXBvbmVudERpZENhdGNoICYmXG4gICAgICAgICAgICAgICAgICAgIChudWxsID09PSBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICFsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZC5oYXMoZXJyb3IpKSkpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChzb3VyY2VGaWJlci5mbGFncyB8PSA2NTUzNiksXG4gICAgICAgICAgICAgICAgKHJvb3RSZW5kZXJMYW5lcyAmPSAtcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAoc291cmNlRmliZXIubGFuZXMgfD0gcm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAocm9vdFJlbmRlckxhbmVzID0gY3JlYXRlQ2xhc3NFcnJvclVwZGF0ZShyb290UmVuZGVyTGFuZXMpKSxcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplQ2xhc3NFcnJvclVwZGF0ZShcbiAgICAgICAgICAgICAgICAgIHJvb3RSZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICBzb3VyY2VGaWJlcixcbiAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUoc291cmNlRmliZXIsIHJvb3RSZW5kZXJMYW5lcyksXG4gICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2VGaWJlciA9IHNvdXJjZUZpYmVyLnJldHVybjtcbiAgICAgIH0gd2hpbGUgKG51bGwgIT09IHNvdXJjZUZpYmVyKTtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPVxuICAgICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgICAgPyBtb3VudENoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBudWxsLCBuZXh0Q2hpbGRyZW4sIHJlbmRlckxhbmVzKVxuICAgICAgICAgIDogcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBjdXJyZW50LmNoaWxkLFxuICAgICAgICAgICAgICBuZXh0Q2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVGb3J3YXJkUmVmKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgQ29tcG9uZW50LFxuICAgICAgbmV4dFByb3BzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIENvbXBvbmVudCA9IENvbXBvbmVudC5yZW5kZXI7XG4gICAgICB2YXIgcmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgICAgaWYgKFwicmVmXCIgaW4gbmV4dFByb3BzKSB7XG4gICAgICAgIHZhciBwcm9wc1dpdGhvdXRSZWYgPSB7fTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG5leHRQcm9wcylcbiAgICAgICAgICBcInJlZlwiICE9PSBrZXkgJiYgKHByb3BzV2l0aG91dFJlZltrZXldID0gbmV4dFByb3BzW2tleV0pO1xuICAgICAgfSBlbHNlIHByb3BzV2l0aG91dFJlZiA9IG5leHRQcm9wcztcbiAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdGFydGVkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIG5leHRQcm9wcyA9IHJlbmRlcldpdGhIb29rcyhcbiAgICAgICAgY3VycmVudCxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgcHJvcHNXaXRob3V0UmVmLFxuICAgICAgICByZWYsXG4gICAgICAgIHJlbmRlckxhbmVzXG4gICAgICApO1xuICAgICAga2V5ID0gY2hlY2tEaWRSZW5kZXJJZEhvb2soKTtcbiAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCk7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiAhZGlkUmVjZWl2ZVVwZGF0ZSlcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBiYWlsb3V0SG9va3MoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcylcbiAgICAgICAgKTtcbiAgICAgIGlzSHlkcmF0aW5nICYmIGtleSAmJiBwdXNoTWF0ZXJpYWxpemVkVHJlZUlkKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCByZW5kZXJMYW5lcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZU1lbW9Db21wb25lbnQoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBDb21wb25lbnQsXG4gICAgICBuZXh0UHJvcHMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBDb21wb25lbnQudHlwZTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICAhc2hvdWxkQ29uc3RydWN0KHR5cGUpICYmXG4gICAgICAgICAgdm9pZCAwID09PSB0eXBlLmRlZmF1bHRQcm9wcyAmJlxuICAgICAgICAgIG51bGwgPT09IENvbXBvbmVudC5jb21wYXJlXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKENvbXBvbmVudCA9IHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyh0eXBlKSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudGFnID0gMTUpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBDb21wb25lbnQpLFxuICAgICAgICAgICAgdmFsaWRhdGVGdW5jdGlvbkNvbXBvbmVudEluRGV2KHdvcmtJblByb2dyZXNzLCB0eXBlKSxcbiAgICAgICAgICAgIHVwZGF0ZVNpbXBsZU1lbW9Db21wb25lbnQoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICBjdXJyZW50ID0gY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzKFxuICAgICAgICAgIENvbXBvbmVudC50eXBlLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUsXG4gICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgKTtcbiAgICAgICAgY3VycmVudC5yZWYgPSB3b3JrSW5Qcm9ncmVzcy5yZWY7XG4gICAgICAgIGN1cnJlbnQucmV0dXJuID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIHJldHVybiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIHR5cGUgPSBjdXJyZW50LmNoaWxkO1xuICAgICAgaWYgKCFjaGVja1NjaGVkdWxlZFVwZGF0ZU9yQ29udGV4dChjdXJyZW50LCByZW5kZXJMYW5lcykpIHtcbiAgICAgICAgdmFyIHByZXZQcm9wcyA9IHR5cGUubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgQ29tcG9uZW50ID0gQ29tcG9uZW50LmNvbXBhcmU7XG4gICAgICAgIENvbXBvbmVudCA9IG51bGwgIT09IENvbXBvbmVudCA/IENvbXBvbmVudCA6IHNoYWxsb3dFcXVhbDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIENvbXBvbmVudChwcmV2UHJvcHMsIG5leHRQcm9wcykgJiZcbiAgICAgICAgICBjdXJyZW50LnJlZiA9PT0gd29ya0luUHJvZ3Jlc3MucmVmXG4gICAgICAgIClcbiAgICAgICAgICByZXR1cm4gYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDE7XG4gICAgICBjdXJyZW50ID0gY3JlYXRlV29ya0luUHJvZ3Jlc3ModHlwZSwgbmV4dFByb3BzKTtcbiAgICAgIGN1cnJlbnQucmVmID0gd29ya0luUHJvZ3Jlc3MucmVmO1xuICAgICAgY3VycmVudC5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgIHJldHVybiAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU2ltcGxlTWVtb0NvbXBvbmVudChcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIG5leHRQcm9wcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkge1xuICAgICAgICB2YXIgcHJldlByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgc2hhbGxvd0VxdWFsKHByZXZQcm9wcywgbmV4dFByb3BzKSAmJlxuICAgICAgICAgIGN1cnJlbnQucmVmID09PSB3b3JrSW5Qcm9ncmVzcy5yZWYgJiZcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID09PSBjdXJyZW50LnR5cGVcbiAgICAgICAgKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICgoZGlkUmVjZWl2ZVVwZGF0ZSA9ICExKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMgPSBuZXh0UHJvcHMgPSBwcmV2UHJvcHMpLFxuICAgICAgICAgICAgY2hlY2tTY2hlZHVsZWRVcGRhdGVPckNvbnRleHQoY3VycmVudCwgcmVuZGVyTGFuZXMpKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIDAgIT09IChjdXJyZW50LmZsYWdzICYgMTMxMDcyKSAmJiAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICEwKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSBjdXJyZW50LmxhbmVzKSxcbiAgICAgICAgICAgICAgYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVwZGF0ZUZ1bmN0aW9uQ29tcG9uZW50KFxuICAgICAgICBjdXJyZW50LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgIHJlbmRlckxhbmVzXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVPZmZzY3JlZW5Db21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSB7XG4gICAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICBuZXh0Q2hpbGRyZW4gPSBuZXh0UHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIG5leHRJc0RldGFjaGVkID1cbiAgICAgICAgICAwICE9PVxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuX3BlbmRpbmdWaXNpYmlsaXR5ICYgT2Zmc2NyZWVuRGV0YWNoZWQpLFxuICAgICAgICBwcmV2U3RhdGUgPSBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5tZW1vaXplZFN0YXRlIDogbnVsbDtcbiAgICAgIG1hcmtSZWYoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgaWYgKFwiaGlkZGVuXCIgPT09IG5leHRQcm9wcy5tb2RlIHx8IG5leHRJc0RldGFjaGVkKSB7XG4gICAgICAgIGlmICgwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAxMjgpKSB7XG4gICAgICAgICAgbmV4dFByb3BzID1cbiAgICAgICAgICAgIG51bGwgIT09IHByZXZTdGF0ZVxuICAgICAgICAgICAgICA/IHByZXZTdGF0ZS5iYXNlTGFuZXMgfCByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICA6IHJlbmRlckxhbmVzO1xuICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KSB7XG4gICAgICAgICAgICBuZXh0Q2hpbGRyZW4gPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQ7XG4gICAgICAgICAgICBmb3IgKG5leHRJc0RldGFjaGVkID0gMDsgbnVsbCAhPT0gbmV4dENoaWxkcmVuOyApXG4gICAgICAgICAgICAgIChuZXh0SXNEZXRhY2hlZCA9XG4gICAgICAgICAgICAgICAgbmV4dElzRGV0YWNoZWQgfCBuZXh0Q2hpbGRyZW4ubGFuZXMgfCBuZXh0Q2hpbGRyZW4uY2hpbGRMYW5lcyksXG4gICAgICAgICAgICAgICAgKG5leHRDaGlsZHJlbiA9IG5leHRDaGlsZHJlbi5zaWJsaW5nKTtcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkTGFuZXMgPSBuZXh0SXNEZXRhY2hlZCAmIH5uZXh0UHJvcHM7XG4gICAgICAgICAgfSBlbHNlICh3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzID0gMCksICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG51bGwpO1xuICAgICAgICAgIHJldHVybiBkZWZlckhpZGRlbk9mZnNjcmVlbkNvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoMCAhPT0gKHJlbmRlckxhbmVzICYgNTM2ODcwOTEyKSlcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHsgYmFzZUxhbmVzOiAwLCBjYWNoZVBvb2w6IG51bGwgfSksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIHB1c2hUcmFuc2l0aW9uKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IHByZXZTdGF0ZSA/IHByZXZTdGF0ZS5jYWNoZVBvb2wgOiBudWxsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBudWxsICE9PSBwcmV2U3RhdGVcbiAgICAgICAgICAgICAgPyBwdXNoSGlkZGVuQ29udGV4dCh3b3JrSW5Qcm9ncmVzcywgcHJldlN0YXRlKVxuICAgICAgICAgICAgICA6IHJldXNlSGlkZGVuQ29udGV4dE9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcHVzaE9mZnNjcmVlblN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyA9IDUzNjg3MDkxMiksXG4gICAgICAgICAgICBkZWZlckhpZGRlbk9mZnNjcmVlbkNvbXBvbmVudChcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIG51bGwgIT09IHByZXZTdGF0ZVxuICAgICAgICAgICAgICAgID8gcHJldlN0YXRlLmJhc2VMYW5lcyB8IHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgOiByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgfSBlbHNlXG4gICAgICAgIG51bGwgIT09IHByZXZTdGF0ZVxuICAgICAgICAgID8gKHB1c2hUcmFuc2l0aW9uKHdvcmtJblByb2dyZXNzLCBwcmV2U3RhdGUuY2FjaGVQb29sKSxcbiAgICAgICAgICAgIHB1c2hIaWRkZW5Db250ZXh0KHdvcmtJblByb2dyZXNzLCBwcmV2U3RhdGUpLFxuICAgICAgICAgICAgcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbCkpXG4gICAgICAgICAgOiAobnVsbCAhPT0gY3VycmVudCAmJiBwdXNoVHJhbnNpdGlvbih3b3JrSW5Qcm9ncmVzcywgbnVsbCksXG4gICAgICAgICAgICByZXVzZUhpZGRlbkNvbnRleHRPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcykpO1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRDaGlsZHJlbiwgcmVuZGVyTGFuZXMpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZlckhpZGRlbk9mZnNjcmVlbkNvbXBvbmVudChcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIG5leHRCYXNlTGFuZXMsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9IHBlZWtDYWNoZUZyb21Qb29sKCk7XG4gICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPVxuICAgICAgICBudWxsID09PSBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHRcbiAgICAgICAgICA/IG51bGxcbiAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgcGFyZW50OiBDYWNoZUNvbnRleHQuX2N1cnJlbnRWYWx1ZSxcbiAgICAgICAgICAgICAgcG9vbDogSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0XG4gICAgICAgICAgICB9O1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHtcbiAgICAgICAgYmFzZUxhbmVzOiBuZXh0QmFzZUxhbmVzLFxuICAgICAgICBjYWNoZVBvb2w6IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdFxuICAgICAgfTtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgcHVzaFRyYW5zaXRpb24od29ya0luUHJvZ3Jlc3MsIG51bGwpO1xuICAgICAgcmV1c2VIaWRkZW5Db250ZXh0T25TdGFjayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBwdXNoT2Zmc2NyZWVuU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgcHJvcGFnYXRlUGFyZW50Q29udGV4dENoYW5nZXMoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzLCAhMCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgdmFyIHJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICAgIGlmIChudWxsID09PSByZWYpXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50LnJlZiAmJlxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyMDk3NjY0KTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBpZiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcmVmICYmIFwib2JqZWN0XCIgIT09IHR5cGVvZiByZWYpXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIHJlZiB0byBiZSBhIGZ1bmN0aW9uLCBhbiBvYmplY3QgcmV0dXJuZWQgYnkgUmVhY3QuY3JlYXRlUmVmKCksIG9yIHVuZGVmaW5lZC9udWxsLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgaWYgKG51bGwgPT09IGN1cnJlbnQgfHwgY3VycmVudC5yZWYgIT09IHJlZilcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyMDk3NjY0O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIG5leHRQcm9wcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIENvbXBvbmVudC5wcm90b3R5cGUgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LnByb3RvdHlwZS5yZW5kZXJcbiAgICAgICkge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiVW5rbm93blwiO1xuICAgICAgICBkaWRXYXJuQWJvdXRCYWRDbGFzc1tjb21wb25lbnROYW1lXSB8fFxuICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJUaGUgPCVzIC8+IGNvbXBvbmVudCBhcHBlYXJzIHRvIGhhdmUgYSByZW5kZXIgbWV0aG9kLCBidXQgZG9lc24ndCBleHRlbmQgUmVhY3QuQ29tcG9uZW50LiBUaGlzIGlzIGxpa2VseSB0byBjYXVzZSBlcnJvcnMuIENoYW5nZSAlcyB0byBleHRlbmQgUmVhY3QuQ29tcG9uZW50IGluc3RlYWQuXCIsXG4gICAgICAgICAgICBjb21wb25lbnROYW1lLFxuICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5BYm91dEJhZENsYXNzW2NvbXBvbmVudE5hbWVdID0gITApKTtcbiAgICAgIH1cbiAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmXG4gICAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZExlZ2FjeUNvbnRleHRXYXJuaW5nKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKTtcbiAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgKHZhbGlkYXRlRnVuY3Rpb25Db21wb25lbnRJbkRldih3b3JrSW5Qcm9ncmVzcywgd29ya0luUHJvZ3Jlc3MudHlwZSksXG4gICAgICAgIENvbXBvbmVudC5jb250ZXh0VHlwZXMgJiZcbiAgICAgICAgICAoKGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIlVua25vd25cIiksXG4gICAgICAgICAgZGlkV2FybkFib3V0Q29udGV4dFR5cGVzW2NvbXBvbmVudE5hbWVdIHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5BYm91dENvbnRleHRUeXBlc1tjb21wb25lbnROYW1lXSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiJXMgdXNlcyB0aGUgbGVnYWN5IGNvbnRleHRUeXBlcyBBUEkgd2hpY2ggd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIFVzZSBSZWFjdC5jcmVhdGVDb250ZXh0KCkgd2l0aCBSZWFjdC51c2VDb250ZXh0KCkgaW5zdGVhZC4gKGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvbGVnYWN5LWNvbnRleHQpXCIsXG4gICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgICAgICkpKSk7XG4gICAgICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBDb21wb25lbnQgPSByZW5kZXJXaXRoSG9va3MoXG4gICAgICAgIGN1cnJlbnQsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICBDb21wb25lbnQsXG4gICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgdm9pZCAwLFxuICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgKTtcbiAgICAgIG5leHRQcm9wcyA9IGNoZWNrRGlkUmVuZGVySWRIb29rKCk7XG4gICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpO1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgIWRpZFJlY2VpdmVVcGRhdGUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgYmFpbG91dEhvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpXG4gICAgICAgICk7XG4gICAgICBpc0h5ZHJhdGluZyAmJiBuZXh0UHJvcHMgJiYgcHVzaE1hdGVyaWFsaXplZFRyZWVJZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxO1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIENvbXBvbmVudCwgcmVuZGVyTGFuZXMpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBsYXlGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIG5leHRQcm9wcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIHNlY29uZEFyZyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RhcnRlZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xO1xuICAgICAgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMgPVxuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIGN1cnJlbnQudHlwZSAhPT0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgICAgIG5leHRQcm9wcyA9IHJlbmRlcldpdGhIb29rc0FnYWluKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgIHNlY29uZEFyZ1xuICAgICAgKTtcbiAgICAgIGZpbmlzaFJlbmRlcmluZ0hvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIENvbXBvbmVudCA9IGNoZWNrRGlkUmVuZGVySWRIb29rKCk7XG4gICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpO1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgIWRpZFJlY2VpdmVVcGRhdGUpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgYmFpbG91dEhvb2tzKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcyksXG4gICAgICAgICAgYmFpbG91dE9uQWxyZWFkeUZpbmlzaGVkV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpXG4gICAgICAgICk7XG4gICAgICBpc0h5ZHJhdGluZyAmJiBDb21wb25lbnQgJiYgcHVzaE1hdGVyaWFsaXplZFRyZWVJZCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxO1xuICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIG5leHRQcm9wcywgcmVuZGVyTGFuZXMpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc0NvbXBvbmVudChcbiAgICAgIGN1cnJlbnQkanNjb21wJDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIENvbXBvbmVudCxcbiAgICAgIG5leHRQcm9wcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBzd2l0Y2ggKHNob3VsZEVycm9ySW1wbCh3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgICAgY2FzZSAhMTpcbiAgICAgICAgICB2YXIgX2luc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLFxuICAgICAgICAgICAgc3RhdGUgPSBuZXcgd29ya0luUHJvZ3Jlc3MudHlwZShcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgICAgICAgX2luc3RhbmNlLmNvbnRleHRcbiAgICAgICAgICAgICkuc3RhdGU7XG4gICAgICAgICAgX2luc3RhbmNlLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKF9pbnN0YW5jZSwgc3RhdGUsIG51bGwpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICEwOlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyODtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA2NTUzNjtcbiAgICAgICAgICBfaW5zdGFuY2UgPSBFcnJvcihcIlNpbXVsYXRlZCBlcnJvciBjb21pbmcgZnJvbSBEZXZUb29sc1wiKTtcbiAgICAgICAgICB2YXIgbGFuZSA9IHJlbmRlckxhbmVzICYgLXJlbmRlckxhbmVzO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLmxhbmVzIHw9IGxhbmU7XG4gICAgICAgICAgc3RhdGUgPSB3b3JrSW5Qcm9ncmVzc1Jvb3Q7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHN0YXRlKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgYSB3b3JrLWluLXByb2dyZXNzIHJvb3QuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGxhbmUgPSBjcmVhdGVDbGFzc0Vycm9yVXBkYXRlKGxhbmUpO1xuICAgICAgICAgIGluaXRpYWxpemVDbGFzc0Vycm9yVXBkYXRlKFxuICAgICAgICAgICAgbGFuZSxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcihfaW5zdGFuY2UsIHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICk7XG4gICAgICAgICAgZW5xdWV1ZUNhcHR1cmVkVXBkYXRlKHdvcmtJblByb2dyZXNzLCBsYW5lKTtcbiAgICAgIH1cbiAgICAgIHByZXBhcmVUb1JlYWRDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgIGlmIChudWxsID09PSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpIHtcbiAgICAgICAgc3RhdGUgPSBlbXB0eUNvbnRleHRPYmplY3Q7XG4gICAgICAgIF9pbnN0YW5jZSA9IENvbXBvbmVudC5jb250ZXh0VHlwZTtcbiAgICAgICAgXCJjb250ZXh0VHlwZVwiIGluIENvbXBvbmVudCAmJlxuICAgICAgICAgIG51bGwgIT09IF9pbnN0YW5jZSAmJlxuICAgICAgICAgICh2b2lkIDAgPT09IF9pbnN0YW5jZSB8fCBfaW5zdGFuY2UuJCR0eXBlb2YgIT09IFJFQUNUX0NPTlRFWFRfVFlQRSkgJiZcbiAgICAgICAgICAhZGlkV2FybkFib3V0SW52YWxpZGF0ZUNvbnRleHRUeXBlLmhhcyhDb21wb25lbnQpICYmXG4gICAgICAgICAgKGRpZFdhcm5BYm91dEludmFsaWRhdGVDb250ZXh0VHlwZS5hZGQoQ29tcG9uZW50KSxcbiAgICAgICAgICAobGFuZSA9XG4gICAgICAgICAgICB2b2lkIDAgPT09IF9pbnN0YW5jZVxuICAgICAgICAgICAgICA/IFwiIEhvd2V2ZXIsIGl0IGlzIHNldCB0byB1bmRlZmluZWQuIFRoaXMgY2FuIGJlIGNhdXNlZCBieSBhIHR5cG8gb3IgYnkgbWl4aW5nIHVwIG5hbWVkIGFuZCBkZWZhdWx0IGltcG9ydHMuIFRoaXMgY2FuIGFsc28gaGFwcGVuIGR1ZSB0byBhIGNpcmN1bGFyIGRlcGVuZGVuY3ksIHNvIHRyeSBtb3ZpbmcgdGhlIGNyZWF0ZUNvbnRleHQoKSBjYWxsIHRvIGEgc2VwYXJhdGUgZmlsZS5cIlxuICAgICAgICAgICAgICA6IFwib2JqZWN0XCIgIT09IHR5cGVvZiBfaW5zdGFuY2VcbiAgICAgICAgICAgICAgICA/IFwiIEhvd2V2ZXIsIGl0IGlzIHNldCB0byBhIFwiICsgdHlwZW9mIF9pbnN0YW5jZSArIFwiLlwiXG4gICAgICAgICAgICAgICAgOiBfaW5zdGFuY2UuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlNVTUVSX1RZUEVcbiAgICAgICAgICAgICAgICAgID8gXCIgRGlkIHlvdSBhY2NpZGVudGFsbHkgcGFzcyB0aGUgQ29udGV4dC5Db25zdW1lciBpbnN0ZWFkP1wiXG4gICAgICAgICAgICAgICAgICA6IFwiIEhvd2V2ZXIsIGl0IGlzIHNldCB0byBhbiBvYmplY3Qgd2l0aCBrZXlzIHtcIiArXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKF9pbnN0YW5jZSkuam9pbihcIiwgXCIpICtcbiAgICAgICAgICAgICAgICAgICAgXCJ9LlwiKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBkZWZpbmVzIGFuIGludmFsaWQgY29udGV4dFR5cGUuIGNvbnRleHRUeXBlIHNob3VsZCBwb2ludCB0byB0aGUgQ29udGV4dCBvYmplY3QgcmV0dXJuZWQgYnkgUmVhY3QuY3JlYXRlQ29udGV4dCgpLiVzXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIkNvbXBvbmVudFwiLFxuICAgICAgICAgICAgbGFuZVxuICAgICAgICAgICkpO1xuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgX2luc3RhbmNlICYmXG4gICAgICAgICAgbnVsbCAhPT0gX2luc3RhbmNlICYmXG4gICAgICAgICAgKHN0YXRlID0gcmVhZENvbnRleHQoX2luc3RhbmNlKSk7XG4gICAgICAgIF9pbnN0YW5jZSA9IG5ldyBDb21wb25lbnQobmV4dFByb3BzLCBzdGF0ZSk7XG4gICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgX2luc3RhbmNlID0gbmV3IENvbXBvbmVudChuZXh0UHJvcHMsIHN0YXRlKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPVxuICAgICAgICAgIG51bGwgIT09IF9pbnN0YW5jZS5zdGF0ZSAmJiB2b2lkIDAgIT09IF9pbnN0YW5jZS5zdGF0ZVxuICAgICAgICAgICAgPyBfaW5zdGFuY2Uuc3RhdGVcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgX2luc3RhbmNlLnVwZGF0ZXIgPSBjbGFzc0NvbXBvbmVudFVwZGF0ZXI7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IF9pbnN0YW5jZTtcbiAgICAgICAgX2luc3RhbmNlLl9yZWFjdEludGVybmFscyA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICBfaW5zdGFuY2UuX3JlYWN0SW50ZXJuYWxJbnN0YW5jZSA9IGZha2VJbnRlcm5hbEluc3RhbmNlO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICYmXG4gICAgICAgICAgbnVsbCA9PT0gc3RhdGUgJiZcbiAgICAgICAgICAoKHN0YXRlID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJDb21wb25lbnRcIiksXG4gICAgICAgICAgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlLmhhcyhzdGF0ZSkgfHxcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXRVbmluaXRpYWxpemVkU3RhdGUuYWRkKHN0YXRlKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiYCVzYCB1c2VzIGBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHNgIGJ1dCBpdHMgaW5pdGlhbCBzdGF0ZSBpcyAlcy4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQuIEluc3RlYWQsIGRlZmluZSB0aGUgaW5pdGlhbCBzdGF0ZSBieSBhc3NpZ25pbmcgYW4gb2JqZWN0IHRvIGB0aGlzLnN0YXRlYCBpbiB0aGUgY29uc3RydWN0b3Igb2YgYCVzYC4gVGhpcyBlbnN1cmVzIHRoYXQgYGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wc2AgYXJndW1lbnRzIGhhdmUgYSBjb25zaXN0ZW50IHNoYXBlLlwiLFxuICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gX2luc3RhbmNlLnN0YXRlID8gXCJudWxsXCIgOiBcInVuZGVmaW5lZFwiLFxuICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgKSkpO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyB8fFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgZm91bmRXaWxsVXBkYXRlTmFtZSA9IChsYW5lID0gc3RhdGUgPSBudWxsKTtcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgITAgIT09IF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ1xuICAgICAgICAgICAgPyAoc3RhdGUgPSBcImNvbXBvbmVudFdpbGxNb3VudFwiKVxuICAgICAgICAgICAgOiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgICAoc3RhdGUgPSBcIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRcIik7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICAhMCAhPT1cbiAgICAgICAgICAgIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICAgID8gKGxhbmUgPSBcImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNcIilcbiAgICAgICAgICAgIDogXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgIHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICAgICAgKGxhbmUgPSBcIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzXCIpO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgITAgIT09IF9pbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmdcbiAgICAgICAgICAgID8gKGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBcImNvbXBvbmVudFdpbGxVcGRhdGVcIilcbiAgICAgICAgICAgIDogXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgICAgIChmb3VuZFdpbGxVcGRhdGVOYW1lID0gXCJVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVwiKTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gc3RhdGUgfHwgbnVsbCAhPT0gbGFuZSB8fCBudWxsICE9PSBmb3VuZFdpbGxVcGRhdGVOYW1lKSB7XG4gICAgICAgICAgICBfaW5zdGFuY2UgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgICAgICAgdmFyIG5ld0FwaU5hbWUgPVxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzXG4gICAgICAgICAgICAgICAgPyBcImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcygpXCJcbiAgICAgICAgICAgICAgICA6IFwiZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKVwiO1xuICAgICAgICAgICAgZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZS5oYXMoX2luc3RhbmNlKSB8fFxuICAgICAgICAgICAgICAoZGlkV2FybkFib3V0TGVnYWN5TGlmZWN5Y2xlc0FuZERlcml2ZWRTdGF0ZS5hZGQoX2luc3RhbmNlKSxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlVuc2FmZSBsZWdhY3kgbGlmZWN5Y2xlcyB3aWxsIG5vdCBiZSBjYWxsZWQgZm9yIGNvbXBvbmVudHMgdXNpbmcgbmV3IGNvbXBvbmVudCBBUElzLlxcblxcbiVzIHVzZXMgJXMgYnV0IGFsc28gY29udGFpbnMgdGhlIGZvbGxvd2luZyBsZWdhY3kgbGlmZWN5Y2xlczolcyVzJXNcXG5cXG5UaGUgYWJvdmUgbGlmZWN5Y2xlcyBzaG91bGQgYmUgcmVtb3ZlZC4gTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTpcXG5odHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlc1wiLFxuICAgICAgICAgICAgICAgIF9pbnN0YW5jZSxcbiAgICAgICAgICAgICAgICBuZXdBcGlOYW1lLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IHN0YXRlID8gXCJcXG4gIFwiICsgc3RhdGUgOiBcIlwiLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IGxhbmUgPyBcIlxcbiAgXCIgKyBsYW5lIDogXCJcIixcbiAgICAgICAgICAgICAgICBudWxsICE9PSBmb3VuZFdpbGxVcGRhdGVOYW1lID8gXCJcXG4gIFwiICsgZm91bmRXaWxsVXBkYXRlTmFtZSA6IFwiXCJcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9pbnN0YW5jZSA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgc3RhdGUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIkNvbXBvbmVudFwiO1xuICAgICAgICBfaW5zdGFuY2UucmVuZGVyIHx8XG4gICAgICAgICAgKENvbXBvbmVudC5wcm90b3R5cGUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBDb21wb25lbnQucHJvdG90eXBlLnJlbmRlclxuICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiTm8gYHJlbmRlcmAgbWV0aG9kIGZvdW5kIG9uIHRoZSAlcyBpbnN0YW5jZTogZGlkIHlvdSBhY2NpZGVudGFsbHkgcmV0dXJuIGFuIG9iamVjdCBmcm9tIHRoZSBjb25zdHJ1Y3Rvcj9cIixcbiAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJObyBgcmVuZGVyYCBtZXRob2QgZm91bmQgb24gdGhlICVzIGluc3RhbmNlOiB5b3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIGRlZmluZSBgcmVuZGVyYC5cIixcbiAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgIV9pbnN0YW5jZS5nZXRJbml0aWFsU3RhdGUgfHxcbiAgICAgICAgICBfaW5zdGFuY2UuZ2V0SW5pdGlhbFN0YXRlLmlzUmVhY3RDbGFzc0FwcHJvdmVkIHx8XG4gICAgICAgICAgX2luc3RhbmNlLnN0YXRlIHx8XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZ2V0SW5pdGlhbFN0YXRlIHdhcyBkZWZpbmVkIG9uICVzLCBhIHBsYWluIEphdmFTY3JpcHQgY2xhc3MuIFRoaXMgaXMgb25seSBzdXBwb3J0ZWQgZm9yIGNsYXNzZXMgY3JlYXRlZCB1c2luZyBSZWFjdC5jcmVhdGVDbGFzcy4gRGlkIHlvdSBtZWFuIHRvIGRlZmluZSBhIHN0YXRlIHByb3BlcnR5IGluc3RlYWQ/XCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIF9pbnN0YW5jZS5nZXREZWZhdWx0UHJvcHMgJiZcbiAgICAgICAgICAhX2luc3RhbmNlLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImdldERlZmF1bHRQcm9wcyB3YXMgZGVmaW5lZCBvbiAlcywgYSBwbGFpbiBKYXZhU2NyaXB0IGNsYXNzLiBUaGlzIGlzIG9ubHkgc3VwcG9ydGVkIGZvciBjbGFzc2VzIGNyZWF0ZWQgdXNpbmcgUmVhY3QuY3JlYXRlQ2xhc3MuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSB0byBkZWZpbmUgZGVmYXVsdFByb3BzIGluc3RlYWQuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIF9pbnN0YW5jZS5jb250ZXh0VHlwZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcImNvbnRleHRUeXBlIHdhcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIHByb3BlcnR5IG9uICVzLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgdG8gZGVmaW5lIGNvbnRleHRUeXBlIGluc3RlYWQuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIENvbXBvbmVudC5jaGlsZENvbnRleHRUeXBlcyAmJlxuICAgICAgICAgICFkaWRXYXJuQWJvdXRDaGlsZENvbnRleHRUeXBlcy5oYXMoQ29tcG9uZW50KSAmJlxuICAgICAgICAgIChkaWRXYXJuQWJvdXRDaGlsZENvbnRleHRUeXBlcy5hZGQoQ29tcG9uZW50KSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyB1c2VzIHRoZSBsZWdhY3kgY2hpbGRDb250ZXh0VHlwZXMgQVBJIHdoaWNoIHdhcyByZW1vdmVkIGluIFJlYWN0IDE5LiBVc2UgUmVhY3QuY3JlYXRlQ29udGV4dCgpIGluc3RlYWQuIChodHRwczovL3JlYWN0LmRldi9saW5rL2xlZ2FjeS1jb250ZXh0KVwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApKTtcbiAgICAgICAgQ29tcG9uZW50LmNvbnRleHRUeXBlcyAmJlxuICAgICAgICAgICFkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXMkMS5oYXMoQ29tcG9uZW50KSAmJlxuICAgICAgICAgIChkaWRXYXJuQWJvdXRDb250ZXh0VHlwZXMkMS5hZGQoQ29tcG9uZW50KSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyB1c2VzIHRoZSBsZWdhY3kgY29udGV4dFR5cGVzIEFQSSB3aGljaCB3YXMgcmVtb3ZlZCBpbiBSZWFjdCAxOS4gVXNlIFJlYWN0LmNyZWF0ZUNvbnRleHQoKSB3aXRoIHN0YXRpYyBjb250ZXh0VHlwZSBpbnN0ZWFkLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9sZWdhY3ktY29udGV4dClcIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRTaG91bGRVcGRhdGUgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIGNvbXBvbmVudFNob3VsZFVwZGF0ZSgpLiBEaWQgeW91IG1lYW4gc2hvdWxkQ29tcG9uZW50VXBkYXRlKCk/IFRoZSBuYW1lIGlzIHBocmFzZWQgYXMgYSBxdWVzdGlvbiBiZWNhdXNlIHRoZSBmdW5jdGlvbiBpcyBleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgQ29tcG9uZW50LnByb3RvdHlwZSAmJlxuICAgICAgICAgIENvbXBvbmVudC5wcm90b3R5cGUuaXNQdXJlUmVhY3RDb21wb25lbnQgJiZcbiAgICAgICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX2luc3RhbmNlLnNob3VsZENvbXBvbmVudFVwZGF0ZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgc2hvdWxkQ29tcG9uZW50VXBkYXRlKCkuIHNob3VsZENvbXBvbmVudFVwZGF0ZSBzaG91bGQgbm90IGJlIHVzZWQgd2hlbiBleHRlbmRpbmcgUmVhY3QuUHVyZUNvbXBvbmVudC4gUGxlYXNlIGV4dGVuZCBSZWFjdC5Db21wb25lbnQgaWYgc2hvdWxkQ29tcG9uZW50VXBkYXRlIGlzIHVzZWQuXCIsXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoQ29tcG9uZW50KSB8fCBcIkEgcHVyZSBjb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRVbm1vdW50ICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBjb21wb25lbnREaWRVbm1vdW50KCkuIEJ1dCB0aGVyZSBpcyBubyBzdWNoIGxpZmVjeWNsZSBtZXRob2QuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsVW5tb3VudCgpP1wiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXMgaGFzIGEgbWV0aG9kIGNhbGxlZCBjb21wb25lbnREaWRSZWNlaXZlUHJvcHMoKS4gQnV0IHRoZXJlIGlzIG5vIHN1Y2ggbGlmZWN5Y2xlIG1ldGhvZC4gSWYgeW91IG1lYW50IHRvIHVwZGF0ZSB0aGUgc3RhdGUgaW4gcmVzcG9uc2UgdG8gY2hhbmdpbmcgcHJvcHMsIHVzZSBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCkuIElmIHlvdSBtZWFudCB0byBmZXRjaCBkYXRhIG9yIHJ1biBzaWRlLWVmZmVjdHMgb3IgbXV0YXRpb25zIGFmdGVyIFJlYWN0IGhhcyB1cGRhdGVkIHRoZSBVSSwgdXNlIGNvbXBvbmVudERpZFVwZGF0ZSgpLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcygpLiBEaWQgeW91IG1lYW4gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpP1wiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcyBoYXMgYSBtZXRob2QgY2FsbGVkIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpP1wiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBsYW5lID0gX2luc3RhbmNlLnByb3BzICE9PSBuZXh0UHJvcHM7XG4gICAgICAgIHZvaWQgMCAhPT0gX2luc3RhbmNlLnByb3BzICYmXG4gICAgICAgICAgbGFuZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIldoZW4gY2FsbGluZyBzdXBlcigpIGluIGAlc2AsIG1ha2Ugc3VyZSB0byBwYXNzIHVwIHRoZSBzYW1lIHByb3BzIHRoYXQgeW91ciBjb21wb25lbnQncyBjb25zdHJ1Y3RvciB3YXMgcGFzc2VkLlwiLFxuICAgICAgICAgICAgc3RhdGVcbiAgICAgICAgICApO1xuICAgICAgICBfaW5zdGFuY2UuZGVmYXVsdFByb3BzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiU2V0dGluZyBkZWZhdWx0UHJvcHMgYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgb24gJXMgaXMgbm90IHN1cHBvcnRlZCBhbmQgd2lsbCBiZSBpZ25vcmVkLiBJbnN0ZWFkLCBkZWZpbmUgZGVmYXVsdFByb3BzIGFzIGEgc3RhdGljIHByb3BlcnR5IG9uICVzLlwiLFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSB8fFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgfHxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUuaGFzKENvbXBvbmVudCkgfHxcbiAgICAgICAgICAoZGlkV2FybkFib3V0R2V0U25hcHNob3RCZWZvcmVVcGRhdGVXaXRob3V0RGlkVXBkYXRlLmFkZChDb21wb25lbnQpLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSgpIHNob3VsZCBiZSB1c2VkIHdpdGggY29tcG9uZW50RGlkVXBkYXRlKCkuIFRoaXMgY29tcG9uZW50IGRlZmluZXMgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBvbmx5LlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudClcbiAgICAgICAgICApKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMoKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCBhbmQgd2lsbCBiZSBpZ25vcmVkLiBJbnN0ZWFkLCBkZWNsYXJlIGl0IGFzIGEgc3RhdGljIG1ldGhvZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoKSBpcyBkZWZpbmVkIGFzIGFuIGluc3RhbmNlIG1ldGhvZCBhbmQgd2lsbCBiZSBpZ25vcmVkLiBJbnN0ZWFkLCBkZWNsYXJlIGl0IGFzIGEgc3RhdGljIG1ldGhvZC5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgQ29tcG9uZW50LmdldFNuYXBzaG90QmVmb3JlVXBkYXRlICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkgaXMgZGVmaW5lZCBhcyBhIHN0YXRpYyBtZXRob2QgYW5kIHdpbGwgYmUgaWdub3JlZC4gSW5zdGVhZCwgZGVjbGFyZSBpdCBhcyBhbiBpbnN0YW5jZSBtZXRob2QuXCIsXG4gICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICk7XG4gICAgICAgIChsYW5lID0gX2luc3RhbmNlLnN0YXRlKSAmJlxuICAgICAgICAgIChcIm9iamVjdFwiICE9PSB0eXBlb2YgbGFuZSB8fCBpc0FycmF5SW1wbChsYW5lKSkgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiJXMuc3RhdGU6IG11c3QgYmUgc2V0IHRvIGFuIG9iamVjdCBvciBudWxsXCIsIHN0YXRlKTtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldENoaWxkQ29udGV4dCAmJlxuICAgICAgICAgIFwib2JqZWN0XCIgIT09IHR5cGVvZiBDb21wb25lbnQuY2hpbGRDb250ZXh0VHlwZXMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlcy5nZXRDaGlsZENvbnRleHQoKTogY2hpbGRDb250ZXh0VHlwZXMgbXVzdCBiZSBkZWZpbmVkIGluIG9yZGVyIHRvIHVzZSBnZXRDaGlsZENvbnRleHQoKS5cIixcbiAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgKTtcbiAgICAgICAgX2luc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICBfaW5zdGFuY2UucHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIF9pbnN0YW5jZS5yZWZzID0ge307XG4gICAgICAgIGluaXRpYWxpemVVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHN0YXRlID0gQ29tcG9uZW50LmNvbnRleHRUeXBlO1xuICAgICAgICBfaW5zdGFuY2UuY29udGV4dCA9XG4gICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIHN0YXRlICYmIG51bGwgIT09IHN0YXRlXG4gICAgICAgICAgICA/IHJlYWRDb250ZXh0KHN0YXRlKVxuICAgICAgICAgICAgOiBlbXB0eUNvbnRleHRPYmplY3Q7XG4gICAgICAgIF9pbnN0YW5jZS5zdGF0ZSA9PT0gbmV4dFByb3BzICYmXG4gICAgICAgICAgKChzdGF0ZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiQ29tcG9uZW50XCIpLFxuICAgICAgICAgIGRpZFdhcm5BYm91dERpcmVjdGx5QXNzaWduaW5nUHJvcHNUb1N0YXRlLmhhcyhzdGF0ZSkgfHxcbiAgICAgICAgICAgIChkaWRXYXJuQWJvdXREaXJlY3RseUFzc2lnbmluZ1Byb3BzVG9TdGF0ZS5hZGQoc3RhdGUpLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCIlczogSXQgaXMgbm90IHJlY29tbWVuZGVkIHRvIGFzc2lnbiBwcm9wcyBkaXJlY3RseSB0byBzdGF0ZSBiZWNhdXNlIHVwZGF0ZXMgdG8gcHJvcHMgd29uJ3QgYmUgcmVmbGVjdGVkIGluIHN0YXRlLiBJbiBtb3N0IGNhc2VzLCBpdCBpcyBiZXR0ZXIgdG8gdXNlIHByb3BzIGRpcmVjdGx5LlwiLFxuICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgKSkpO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSAmJlxuICAgICAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZExlZ2FjeUNvbnRleHRXYXJuaW5nKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBfaW5zdGFuY2VcbiAgICAgICAgICApO1xuICAgICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5yZWNvcmRVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyhcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICBfaW5zdGFuY2VcbiAgICAgICAgKTtcbiAgICAgICAgX2luc3RhbmNlLnN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgc3RhdGUgPSBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBzdGF0ZSAmJlxuICAgICAgICAgIChhcHBseURlcml2ZWRTdGF0ZUZyb21Qcm9wcyhcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgc3RhdGUsXG4gICAgICAgICAgICBuZXh0UHJvcHNcbiAgICAgICAgICApLFxuICAgICAgICAgIChfaW5zdGFuY2Uuc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSk7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgfHxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgfHxcbiAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQpIHx8XG4gICAgICAgICAgKChzdGF0ZSA9IF9pbnN0YW5jZS5zdGF0ZSksXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICAgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCgpLFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCgpLFxuICAgICAgICAgIHN0YXRlICE9PSBfaW5zdGFuY2Uuc3RhdGUgJiZcbiAgICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIiVzLmNvbXBvbmVudFdpbGxNb3VudCgpOiBBc3NpZ25pbmcgZGlyZWN0bHkgdG8gdGhpcy5zdGF0ZSBpcyBkZXByZWNhdGVkIChleGNlcHQgaW5zaWRlIGEgY29tcG9uZW50J3MgY29uc3RydWN0b3IpLiBVc2Ugc2V0U3RhdGUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcih3b3JrSW5Qcm9ncmVzcykgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGNsYXNzQ29tcG9uZW50VXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKFxuICAgICAgICAgICAgICBfaW5zdGFuY2UsXG4gICAgICAgICAgICAgIF9pbnN0YW5jZS5zdGF0ZSxcbiAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIF9pbnN0YW5jZSwgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgIHN1c3BlbmRJZlVwZGF0ZVJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24oKSxcbiAgICAgICAgICAoX2luc3RhbmNlLnN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSkpO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50RGlkTW91bnQgJiZcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDE5NDMwOCk7XG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNjcxMDg4NjQpO1xuICAgICAgICBfaW5zdGFuY2UgPSAhMDtcbiAgICAgIH0gZWxzZSBpZiAobnVsbCA9PT0gY3VycmVudCRqc2NvbXAkMCkge1xuICAgICAgICBfaW5zdGFuY2UgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIHZhciB1bnJlc29sdmVkT2xkUHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgICAgICBsYW5lID0gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoQ29tcG9uZW50LCB1bnJlc29sdmVkT2xkUHJvcHMpO1xuICAgICAgICBfaW5zdGFuY2UucHJvcHMgPSBsYW5lO1xuICAgICAgICB2YXIgb2xkQ29udGV4dCA9IF9pbnN0YW5jZS5jb250ZXh0O1xuICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gQ29tcG9uZW50LmNvbnRleHRUeXBlO1xuICAgICAgICBzdGF0ZSA9IGVtcHR5Q29udGV4dE9iamVjdDtcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGZvdW5kV2lsbFVwZGF0ZU5hbWUgJiZcbiAgICAgICAgICBudWxsICE9PSBmb3VuZFdpbGxVcGRhdGVOYW1lICYmXG4gICAgICAgICAgKHN0YXRlID0gcmVhZENvbnRleHQoZm91bmRXaWxsVXBkYXRlTmFtZSkpO1xuICAgICAgICBuZXdBcGlOYW1lID0gQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcztcbiAgICAgICAgZm91bmRXaWxsVXBkYXRlTmFtZSA9XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3QXBpTmFtZSB8fFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZTtcbiAgICAgICAgdW5yZXNvbHZlZE9sZFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzICE9PSB1bnJlc29sdmVkT2xkUHJvcHM7XG4gICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgfHxcbiAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcykgfHxcbiAgICAgICAgICAoKHVucmVzb2x2ZWRPbGRQcm9wcyB8fCBvbGRDb250ZXh0ICE9PSBzdGF0ZSkgJiZcbiAgICAgICAgICAgIGNhbGxDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgX2luc3RhbmNlLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgIHN0YXRlXG4gICAgICAgICAgICApKTtcbiAgICAgICAgaGFzRm9yY2VVcGRhdGUgPSAhMTtcbiAgICAgICAgdmFyIG9sZFN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgX2luc3RhbmNlLnN0YXRlID0gb2xkU3RhdGU7XG4gICAgICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCBfaW5zdGFuY2UsIHJlbmRlckxhbmVzKTtcbiAgICAgICAgc3VzcGVuZElmVXBkYXRlUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbigpO1xuICAgICAgICBvbGRDb250ZXh0ID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgdW5yZXNvbHZlZE9sZFByb3BzIHx8IG9sZFN0YXRlICE9PSBvbGRDb250ZXh0IHx8IGhhc0ZvcmNlVXBkYXRlXG4gICAgICAgICAgPyAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV3QXBpTmFtZSAmJlxuICAgICAgICAgICAgICAoYXBwbHlEZXJpdmVkU3RhdGVGcm9tUHJvcHMoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIG5ld0FwaU5hbWUsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChvbGRDb250ZXh0ID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSkpLFxuICAgICAgICAgICAgKGxhbmUgPVxuICAgICAgICAgICAgICBoYXNGb3JjZVVwZGF0ZSB8fFxuICAgICAgICAgICAgICBjaGVja1Nob3VsZENvbXBvbmVudFVwZGF0ZShcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgICAgbGFuZSxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgb2xkU3RhdGUsXG4gICAgICAgICAgICAgICAgb2xkQ29udGV4dCxcbiAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICA/IChmb3VuZFdpbGxVcGRhdGVOYW1lIHx8XG4gICAgICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCkgfHxcbiAgICAgICAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQoKSxcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgICAgICAgICAgIF9pbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50KCkpLFxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQxOTQzMDgpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA2NzEwODg2NCkpXG4gICAgICAgICAgICAgIDogKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRNb3VudCAmJlxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQxOTQzMDgpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA2NzEwODg2NCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXh0UHJvcHMpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gb2xkQ29udGV4dCkpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5wcm9wcyA9IG5leHRQcm9wcyksXG4gICAgICAgICAgICAoX2luc3RhbmNlLnN0YXRlID0gb2xkQ29udGV4dCksXG4gICAgICAgICAgICAoX2luc3RhbmNlLmNvbnRleHQgPSBzdGF0ZSksXG4gICAgICAgICAgICAoX2luc3RhbmNlID0gbGFuZSkpXG4gICAgICAgICAgOiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZE1vdW50ICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0MTk0MzA4KSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tb2RlICYgU3RyaWN0RWZmZWN0c01vZGUpICE9PSBOb01vZGUgJiZcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY3MTA4ODY0KSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UgPSAhMSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2luc3RhbmNlID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgICBjbG9uZVVwZGF0ZVF1ZXVlKGN1cnJlbnQkanNjb21wJDAsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgc3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgICAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoQ29tcG9uZW50LCBzdGF0ZSk7XG4gICAgICAgIF9pbnN0YW5jZS5wcm9wcyA9IGZvdW5kV2lsbFVwZGF0ZU5hbWU7XG4gICAgICAgIG5ld0FwaU5hbWUgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICAgIG9sZFN0YXRlID0gX2luc3RhbmNlLmNvbnRleHQ7XG4gICAgICAgIG9sZENvbnRleHQgPSBDb21wb25lbnQuY29udGV4dFR5cGU7XG4gICAgICAgIGxhbmUgPSBlbXB0eUNvbnRleHRPYmplY3Q7XG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBvbGRDb250ZXh0ICYmXG4gICAgICAgICAgbnVsbCAhPT0gb2xkQ29udGV4dCAmJlxuICAgICAgICAgIChsYW5lID0gcmVhZENvbnRleHQob2xkQ29udGV4dCkpO1xuICAgICAgICB1bnJlc29sdmVkT2xkUHJvcHMgPSBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzO1xuICAgICAgICAob2xkQ29udGV4dCA9XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdW5yZXNvbHZlZE9sZFByb3BzIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKSB8fFxuICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKSB8fFxuICAgICAgICAgICgoc3RhdGUgIT09IG5ld0FwaU5hbWUgfHwgb2xkU3RhdGUgIT09IGxhbmUpICYmXG4gICAgICAgICAgICBjYWxsQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIF9pbnN0YW5jZSxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICBsYW5lXG4gICAgICAgICAgICApKTtcbiAgICAgICAgaGFzRm9yY2VVcGRhdGUgPSAhMTtcbiAgICAgICAgb2xkU3RhdGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICBfaW5zdGFuY2Uuc3RhdGUgPSBvbGRTdGF0ZTtcbiAgICAgICAgcHJvY2Vzc1VwZGF0ZVF1ZXVlKHdvcmtJblByb2dyZXNzLCBuZXh0UHJvcHMsIF9pbnN0YW5jZSwgcmVuZGVyTGFuZXMpO1xuICAgICAgICBzdXNwZW5kSWZVcGRhdGVSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKCk7XG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgIHN0YXRlICE9PSBuZXdBcGlOYW1lIHx8XG4gICAgICAgIG9sZFN0YXRlICE9PSBuZXdTdGF0ZSB8fFxuICAgICAgICBoYXNGb3JjZVVwZGF0ZSB8fFxuICAgICAgICAobnVsbCAhPT0gY3VycmVudCRqc2NvbXAkMCAmJlxuICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQkanNjb21wJDAuZGVwZW5kZW5jaWVzICYmXG4gICAgICAgICAgY2hlY2tJZkNvbnRleHRDaGFuZ2VkKGN1cnJlbnQkanNjb21wJDAuZGVwZW5kZW5jaWVzKSlcbiAgICAgICAgICA/IChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB1bnJlc29sdmVkT2xkUHJvcHMgJiZcbiAgICAgICAgICAgICAgKGFwcGx5RGVyaXZlZFN0YXRlRnJvbVByb3BzKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICB1bnJlc29sdmVkT2xkUHJvcHMsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChuZXdTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpKSxcbiAgICAgICAgICAgIChmb3VuZFdpbGxVcGRhdGVOYW1lID1cbiAgICAgICAgICAgICAgaGFzRm9yY2VVcGRhdGUgfHxcbiAgICAgICAgICAgICAgY2hlY2tTaG91bGRDb21wb25lbnRVcGRhdGUoXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUsXG4gICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgIG9sZFN0YXRlLFxuICAgICAgICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgICAgICAgIGxhbmVcbiAgICAgICAgICAgICAgKSB8fFxuICAgICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudCRqc2NvbXAkMCAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQkanNjb21wJDAuZGVwZW5kZW5jaWVzICYmXG4gICAgICAgICAgICAgICAgY2hlY2tJZkNvbnRleHRDaGFuZ2VkKGN1cnJlbnQkanNjb21wJDAuZGVwZW5kZW5jaWVzKSkpXG4gICAgICAgICAgICAgID8gKG9sZENvbnRleHQgfHxcbiAgICAgICAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUobmV4dFByb3BzLCBuZXdTdGF0ZSwgbGFuZSksXG4gICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlLlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICBsYW5lXG4gICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KSxcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgJiZcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMDI0KSlcbiAgICAgICAgICAgICAgOiAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgX2luc3RhbmNlLmNvbXBvbmVudERpZFVwZGF0ZSB8fFxuICAgICAgICAgICAgICAgICAgKHN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09IGN1cnJlbnQkanNjb21wJDAubWVtb2l6ZWRTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KSxcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgfHxcbiAgICAgICAgICAgICAgICAgIChzdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFByb3BzICYmXG4gICAgICAgICAgICAgICAgICAgIG9sZFN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkU3RhdGUpIHx8XG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTAyNCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkUHJvcHMgPSBuZXh0UHJvcHMpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbmV3U3RhdGUpKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UucHJvcHMgPSBuZXh0UHJvcHMpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZS5zdGF0ZSA9IG5ld1N0YXRlKSxcbiAgICAgICAgICAgIChfaW5zdGFuY2UuY29udGV4dCA9IGxhbmUpLFxuICAgICAgICAgICAgKF9pbnN0YW5jZSA9IGZvdW5kV2lsbFVwZGF0ZU5hbWUpKVxuICAgICAgICAgIDogKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIF9pbnN0YW5jZS5jb21wb25lbnREaWRVcGRhdGUgfHxcbiAgICAgICAgICAgICAgKHN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFN0YXRlKSB8fFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCksXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfaW5zdGFuY2UuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUgfHxcbiAgICAgICAgICAgICAgKHN0YXRlID09PSBjdXJyZW50JGpzY29tcCQwLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgICAgICBvbGRTdGF0ZSA9PT0gY3VycmVudCRqc2NvbXAkMC5tZW1vaXplZFN0YXRlKSB8fFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTAyNCksXG4gICAgICAgICAgICAoX2luc3RhbmNlID0gITEpKTtcbiAgICAgIH1cbiAgICAgIGxhbmUgPSBfaW5zdGFuY2U7XG4gICAgICBtYXJrUmVmKGN1cnJlbnQkanNjb21wJDAsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHN0YXRlID0gMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KTtcbiAgICAgIGlmIChsYW5lIHx8IHN0YXRlKSB7XG4gICAgICAgIGxhbmUgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9XG4gICAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3MgPyBudWxsIDogZ2V0Q3VycmVudEZpYmVyU3RhY2tJbkRldjtcbiAgICAgICAgaXNSZW5kZXJpbmcgPSAhMTtcbiAgICAgICAgY3VycmVudCA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICBpZiAoc3RhdGUgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgQ29tcG9uZW50LmdldERlcml2ZWRTdGF0ZUZyb21FcnJvcilcbiAgICAgICAgICAoQ29tcG9uZW50ID0gbnVsbCksIChwcm9maWxlclN0YXJ0VGltZSA9IC0xKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIENvbXBvbmVudCA9IGNhbGxSZW5kZXJJbkRFVihsYW5lKTtcbiAgICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUpIHtcbiAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNhbGxSZW5kZXJJbkRFVihsYW5lKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0b3BwZWQoKTtcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxO1xuICAgICAgICBudWxsICE9PSBjdXJyZW50JGpzY29tcCQwICYmIHN0YXRlXG4gICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBjdXJyZW50JGpzY29tcCQwLmNoaWxkLFxuICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgIENvbXBvbmVudCxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICkpKVxuICAgICAgICAgIDogcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQkanNjb21wJDAsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBDb21wb25lbnQsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbGFuZS5zdGF0ZTtcbiAgICAgICAgY3VycmVudCRqc2NvbXAkMCA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGN1cnJlbnQkanNjb21wJDAgPSBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKFxuICAgICAgICAgIGN1cnJlbnQkanNjb21wJDAsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgKTtcbiAgICAgIHJlbmRlckxhbmVzID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlO1xuICAgICAgX2luc3RhbmNlICYmXG4gICAgICAgIHJlbmRlckxhbmVzLnByb3BzICE9PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgKGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgfHxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJJdCBsb29rcyBsaWtlICVzIGlzIHJlYXNzaWduaW5nIGl0cyBvd24gYHRoaXMucHJvcHNgIHdoaWxlIHJlbmRlcmluZy4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGFuZCBjYW4gbGVhZCB0byBjb25mdXNpbmcgYnVncy5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIod29ya0luUHJvZ3Jlc3MpIHx8IFwiYSBjb21wb25lbnRcIlxuICAgICAgICAgICksXG4gICAgICAgIChkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzID0gITApKTtcbiAgICAgIHJldHVybiBjdXJyZW50JGpzY29tcCQwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudEhvc3RSb290V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIG5leHRDaGlsZHJlbixcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyNTY7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dENoaWxkcmVuLCByZW5kZXJMYW5lcyk7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRnVuY3Rpb25Db21wb25lbnRJbkRldih3b3JrSW5Qcm9ncmVzcywgQ29tcG9uZW50KSB7XG4gICAgICBDb21wb25lbnQgJiZcbiAgICAgICAgQ29tcG9uZW50LmNoaWxkQ29udGV4dFR5cGVzICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJjaGlsZENvbnRleHRUeXBlcyBjYW5ub3QgYmUgZGVmaW5lZCBvbiBhIGZ1bmN0aW9uIGNvbXBvbmVudC5cXG4gICVzLmNoaWxkQ29udGV4dFR5cGVzID0gLi4uXCIsXG4gICAgICAgICAgQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IENvbXBvbmVudC5uYW1lIHx8IFwiQ29tcG9uZW50XCJcbiAgICAgICAgKTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgJiZcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcyA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShDb21wb25lbnQpIHx8IFwiVW5rbm93blwiKSxcbiAgICAgICAgZGlkV2FybkFib3V0R2V0RGVyaXZlZFN0YXRlT25GdW5jdGlvbkNvbXBvbmVudFt3b3JrSW5Qcm9ncmVzc10gfHxcbiAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiJXM6IEZ1bmN0aW9uIGNvbXBvbmVudHMgZG8gbm90IHN1cHBvcnQgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLlwiLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uQ29tcG9uZW50W3dvcmtJblByb2dyZXNzXSA9XG4gICAgICAgICAgICAhMCkpKTtcbiAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBDb21wb25lbnQuY29udGV4dFR5cGUgJiZcbiAgICAgICAgbnVsbCAhPT0gQ29tcG9uZW50LmNvbnRleHRUeXBlICYmXG4gICAgICAgICgoQ29tcG9uZW50ID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKENvbXBvbmVudCkgfHwgXCJVbmtub3duXCIpLFxuICAgICAgICBkaWRXYXJuQWJvdXRDb250ZXh0VHlwZU9uRnVuY3Rpb25Db21wb25lbnRbQ29tcG9uZW50XSB8fFxuICAgICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCIlczogRnVuY3Rpb24gY29tcG9uZW50cyBkbyBub3Qgc3VwcG9ydCBjb250ZXh0VHlwZS5cIixcbiAgICAgICAgICAgIENvbXBvbmVudFxuICAgICAgICAgICksXG4gICAgICAgICAgKGRpZFdhcm5BYm91dENvbnRleHRUeXBlT25GdW5jdGlvbkNvbXBvbmVudFtDb21wb25lbnRdID0gITApKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50U3VzcGVuc2VPZmZzY3JlZW5TdGF0ZShyZW5kZXJMYW5lcykge1xuICAgICAgcmV0dXJuIHsgYmFzZUxhbmVzOiByZW5kZXJMYW5lcywgY2FjaGVQb29sOiBnZXRTdXNwZW5kZWRDYWNoZSgpIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJlbWFpbmluZ1dvcmtJblByaW1hcnlUcmVlKFxuICAgICAgY3VycmVudCxcbiAgICAgIHByaW1hcnlUcmVlRGlkRGVmZXIsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgY3VycmVudCA9IG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50LmNoaWxkTGFuZXMgJiB+cmVuZGVyTGFuZXMgOiAwO1xuICAgICAgcHJpbWFyeVRyZWVEaWREZWZlciAmJiAoY3VycmVudCB8PSB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSk7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU3VzcGVuc2VDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSB7XG4gICAgICB2YXIgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3O1xuICAgICAgdmFyIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgICAgc2hvdWxkU3VzcGVuZEltcGwod29ya0luUHJvZ3Jlc3MpICYmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpO1xuICAgICAgdmFyIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID0gITE7XG4gICAgICB2YXIgZGlkU3VzcGVuZCA9IDAgIT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOCk7XG4gICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID0gZGlkU3VzcGVuZCkgfHxcbiAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9XG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiBudWxsID09PSBjdXJyZW50Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgID8gITFcbiAgICAgICAgICAgIDogMCAhPT0gKHN1c3BlbnNlU3RhY2tDdXJzb3IuY3VycmVudCAmIEZvcmNlU3VzcGVuc2VGYWxsYmFjaykpO1xuICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ICYmXG4gICAgICAgICgoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPSAhMCksXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMTI5KSk7XG4gICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPSAwICE9PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAzMik7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMzM7XG4gICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkge1xuICAgICAgICBpZiAoaXNIeWRyYXRpbmcpIHtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOVxuICAgICAgICAgICAgPyBwdXNoUHJpbWFyeVRyZWVTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICA6IHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgaWYgKGlzSHlkcmF0aW5nKSB7XG4gICAgICAgICAgICB2YXIgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2U7XG4gICAgICAgICAgICB2YXIgSlNDb21waWxlcl90ZW1wO1xuICAgICAgICAgICAgaWYgKCEoSlNDb21waWxlcl90ZW1wID0gIUpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYpKSB7XG4gICAgICAgICAgICAgIGM6IHtcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2O1xuICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSByb290T3JTaW5nbGV0b25Db250ZXh0O1xuICAgICAgICAgICAgICAgICAgOCAhPT0gaW5zdGFuY2Uubm9kZVR5cGU7XG5cbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgIGlmICghSlNDb21waWxlcl90ZW1wKSB7XG4gICAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGM7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKGluc3RhbmNlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBpbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBicmVhayBjO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBpbnN0YW5jZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX3RlbXBcbiAgICAgICAgICAgICAgICA/ICh3YXJuSWZOb3RIeWRyYXRpbmcoKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgICBkZWh5ZHJhdGVkOiBKU0NvbXBpbGVyX3RlbXAsXG4gICAgICAgICAgICAgICAgICAgIHRyZWVDb250ZXh0OlxuICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IHRyZWVDb250ZXh0UHJvdmlkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgID8geyBpZDogdHJlZUNvbnRleHRJZCwgb3ZlcmZsb3c6IHRyZWVDb250ZXh0T3ZlcmZsb3cgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICByZXRyeUxhbmU6IDUzNjg3MDkxMlxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAoaW5zdGFuY2UgPSBjcmVhdGVGaWJlcigxOCwgbnVsbCwgbnVsbCwgTm9Nb2RlKSksXG4gICAgICAgICAgICAgICAgICAoaW5zdGFuY2Uuc3RhdGVOb2RlID0gSlNDb21waWxlcl90ZW1wKSxcbiAgICAgICAgICAgICAgICAgIChpbnN0YW5jZS5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBpbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgICAoaHlkcmF0aW9uUGFyZW50RmliZXIgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAobmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfdGVtcCA9ICEwKSlcbiAgICAgICAgICAgICAgICA6IChKU0NvbXBpbGVyX3RlbXAgPSAhMSk7XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9ICFKU0NvbXBpbGVyX3RlbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgJiZcbiAgICAgICAgICAgICAgKHdhcm5Ob25IeWRyYXRlZEluc3RhbmNlKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTZcbiAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKHdvcmtJblByb2dyZXNzKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgJiZcbiAgICAgICAgICAgICgoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9XG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuZGVoeWRyYXRlZCksXG4gICAgICAgICAgICBudWxsICE9PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2KVxuICAgICAgICAgIClcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuZGF0YSA9PT1cbiAgICAgICAgICAgICAgU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQVxuICAgICAgICAgICAgICAgID8gKHdvcmtJblByb2dyZXNzLmxhbmVzID0gMTYpXG4gICAgICAgICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSA1MzY4NzA5MTIpLFxuICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIH1cbiAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguY2hpbGRyZW47XG4gICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID1cbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5mYWxsYmFjaztcbiAgICAgICAgaWYgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5KVxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICByZXVzZVN1c3BlbnNlSGFuZGxlck9uU3RhY2sod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MubW9kZSksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9XG4gICAgICAgICAgICAgIG1vdW50V29ya0luUHJvZ3Jlc3NPZmZzY3JlZW5GaWJlcihcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBtb2RlOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTZcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnJldHVybiA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LnNpYmxpbmcgPVxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2KSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgICAgICAgbW91bnRTdXNwZW5zZU9mZnNjcmVlblN0YXRlKHJlbmRlckxhbmVzKSksXG4gICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkuY2hpbGRMYW5lcyA9XG4gICAgICAgICAgICAgIGdldFJlbWFpbmluZ1dvcmtJblByaW1hcnlUcmVlKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBTVVNQRU5ERURfTUFSS0VSKSxcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4XG4gICAgICAgICAgKTtcbiAgICAgICAgcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgcmV0dXJuIG1vdW50U3VzcGVuc2VQcmltYXJ5Q2hpbGRyZW4oXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgdmFyIHByZXZTdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gcHJldlN0YXRlICYmXG4gICAgICAgICgoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IHByZXZTdGF0ZS5kZWh5ZHJhdGVkKSxcbiAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNilcbiAgICAgICkge1xuICAgICAgICBpZiAoZGlkU3VzcGVuZClcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDI1NlxuICAgICAgICAgICAgPyAocHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzICY9IC0yNTcpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPSByZXRyeVN1c3BlbnNlQ29tcG9uZW50V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICkpKVxuICAgICAgICAgICAgOiBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlXG4gICAgICAgICAgICAgID8gKHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudC5jaGlsZCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gbnVsbCkpXG4gICAgICAgICAgICAgIDogKHJldXNlU3VzcGVuc2VIYW5kbGVyT25TdGFjayh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmZhbGxiYWNrKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IHdvcmtJblByb2dyZXNzLm1vZGUpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9XG4gICAgICAgICAgICAgICAgICBtb3VudFdvcmtJblByb2dyZXNzT2Zmc2NyZWVuRmliZXIoXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICBtb2RlOiBcInZpc2libGVcIixcbiAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbjogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguY2hpbGRyZW5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNlxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgICAgICAgIGNyZWF0ZUZpYmVyRnJvbUZyYWdtZW50KFxuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSxcbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNixcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5mbGFncyB8PSAyKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5yZXR1cm4gPVxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5zaWJsaW5nID1cbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCksXG4gICAgICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQuY2hpbGQsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgICAgICAgICAgICBtb3VudFN1c3BlbnNlT2Zmc2NyZWVuU3RhdGUocmVuZGVyTGFuZXMpKSxcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguY2hpbGRMYW5lcyA9XG4gICAgICAgICAgICAgICAgICBnZXRSZW1haW5pbmdXb3JrSW5QcmltYXJ5VHJlZShcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBTVVNQRU5ERURfTUFSS0VSKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpKTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgKHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgaXNIeWRyYXRpbmcgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiV2Ugc2hvdWxkIG5vdCBiZSBoeWRyYXRpbmcgaGVyZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYSBidWcuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5kYXRhID09PVxuICAgICAgICAgICAgU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYubmV4dFNpYmxpbmcgJiZcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYubmV4dFNpYmxpbmcuZGF0YXNldDtcbiAgICAgICAgICBpZiAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3KSB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcuZGdzdDtcbiAgICAgICAgICAgIHZhciBtZXNzYWdlID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3Lm1zZztcbiAgICAgICAgICAgIGluc3RhbmNlID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LnN0Y2s7XG4gICAgICAgICAgICB2YXIgY29tcG9uZW50U3RhY2sgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcuY3N0Y2s7XG4gICAgICAgICAgfVxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSBtZXNzYWdlO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9IEpTQ29tcGlsZXJfdGVtcDtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IGluc3RhbmNlO1xuICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCA9IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgIGNvbXBvbmVudFN0YWNrO1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5ID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTZcbiAgICAgICAgICAgICAgPyBFcnJvcihKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2KVxuICAgICAgICAgICAgICA6IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJUaGUgc2VydmVyIGNvdWxkIG5vdCBmaW5pc2ggdGhpcyBTdXNwZW5zZSBib3VuZGFyeSwgbGlrZWx5IGR1ZSB0byBhbiBlcnJvciBkdXJpbmcgc2VydmVyIHJlbmRlcmluZy4gU3dpdGNoZWQgdG8gY2xpZW50IHJlbmRlcmluZy5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkuc3RhY2sgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggfHwgXCJcIjtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOS5kaWdlc3QgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3O1xuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNyA9XG4gICAgICAgICAgICB2b2lkIDAgPT09IEpTQ29tcGlsZXJfdGVtcCA/IG51bGwgOiBKU0NvbXBpbGVyX3RlbXA7XG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSB7XG4gICAgICAgICAgICB2YWx1ZTogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTksXG4gICAgICAgICAgICBzb3VyY2U6IG51bGwsXG4gICAgICAgICAgICBzdGFjazogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3XG4gICAgICAgICAgfTtcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ICYmXG4gICAgICAgICAgICBDYXB0dXJlZFN0YWNrcy5zZXQoXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LFxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBxdWV1ZUh5ZHJhdGlvbkVycm9yKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4KTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHJldHJ5U3VzcGVuc2VDb21wb25lbnRXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIChkaWRSZWNlaXZlVXBkYXRlIHx8XG4gICAgICAgICAgICBwcm9wYWdhdGVQYXJlbnRDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID1cbiAgICAgICAgICAgIDAgIT09IChyZW5kZXJMYW5lcyAmIGN1cnJlbnQuY2hpbGRMYW5lcykpLFxuICAgICAgICAgIGRpZFJlY2VpdmVVcGRhdGUgfHwgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3KVxuICAgICAgICApIHtcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfZGlnZXN0XzIzMTcgPSB3b3JrSW5Qcm9ncmVzc1Jvb3Q7XG4gICAgICAgICAgaWYgKG51bGwgIT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9kaWdlc3RfMjMxNykge1xuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSByZW5kZXJMYW5lcyAmIC1yZW5kZXJMYW5lcztcbiAgICAgICAgICAgIGlmICgwICE9PSAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggJiA0MikpXG4gICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gMTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgc3dpdGNoIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gMTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID0gNDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDE2O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjg6XG4gICAgICAgICAgICAgICAgY2FzZSAyNTY6XG4gICAgICAgICAgICAgICAgY2FzZSA1MTI6XG4gICAgICAgICAgICAgICAgY2FzZSAxMDI0OlxuICAgICAgICAgICAgICAgIGNhc2UgMjA0ODpcbiAgICAgICAgICAgICAgICBjYXNlIDQwOTY6XG4gICAgICAgICAgICAgICAgY2FzZSA4MTkyOlxuICAgICAgICAgICAgICAgIGNhc2UgMTYzODQ6XG4gICAgICAgICAgICAgICAgY2FzZSAzMjc2ODpcbiAgICAgICAgICAgICAgICBjYXNlIDY1NTM2OlxuICAgICAgICAgICAgICAgIGNhc2UgMTMxMDcyOlxuICAgICAgICAgICAgICAgIGNhc2UgMjYyMTQ0OlxuICAgICAgICAgICAgICAgIGNhc2UgNTI0Mjg4OlxuICAgICAgICAgICAgICAgIGNhc2UgMTA0ODU3NjpcbiAgICAgICAgICAgICAgICBjYXNlIDIwOTcxNTI6XG4gICAgICAgICAgICAgICAgY2FzZSA0MTk0MzA0OlxuICAgICAgICAgICAgICAgIGNhc2UgODM4ODYwODpcbiAgICAgICAgICAgICAgICBjYXNlIDE2Nzc3MjE2OlxuICAgICAgICAgICAgICAgIGNhc2UgMzM1NTQ0MzI6XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDY0O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAyNjg0MzU0NTY6XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDEzNDIxNzcyODtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCA9IDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID1cbiAgICAgICAgICAgICAgMCAhPT1cbiAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ICZcbiAgICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LnN1c3BlbmRlZExhbmVzIHxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzKSlcbiAgICAgICAgICAgICAgICA/IDBcbiAgICAgICAgICAgICAgICA6IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4O1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAwICE9PSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCAmJlxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCAhPT0gcHJldlN0YXRlLnJldHJ5TGFuZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAgICAgKChwcmV2U3RhdGUucmV0cnlMYW5lID0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgpLFxuICAgICAgICAgICAgICAgIGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKFxuICAgICAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBTZWxlY3RpdmVIeWRyYXRpb25FeGNlcHRpb24pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYuZGF0YSA9PT1cbiAgICAgICAgICAgIFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSB8fCByZW5kZXJEaWRTdXNwZW5kRGVsYXlJZlBvc3NpYmxlKCk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSByZXRyeVN1c3BlbnNlQ29tcG9uZW50V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5kYXRhID09PVxuICAgICAgICAgIFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQVxuICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IGN1cnJlbnQuY2hpbGQpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPSByZXRyeURlaHlkcmF0ZWRTdXNwZW5zZUJvdW5kYXJ5LmJpbmQoXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNi5fcmVhY3RSZXRyeSA9XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPSBudWxsKSlcbiAgICAgICAgICAgIDogKChjdXJyZW50ID0gcHJldlN0YXRlLnRyZWVDb250ZXh0KSxcbiAgICAgICAgICAgICAgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2Lm5leHRTaWJsaW5nXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoaHlkcmF0aW9uUGFyZW50RmliZXIgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgIChpc0h5ZHJhdGluZyA9ICEwKSxcbiAgICAgICAgICAgICAgKGh5ZHJhdGlvbkVycm9ycyA9IG51bGwpLFxuICAgICAgICAgICAgICAoZGlkU3VzcGVuZE9yRXJyb3JERVYgPSAhMSksXG4gICAgICAgICAgICAgIChoeWRyYXRpb25EaWZmUm9vdERFViA9IG51bGwpLFxuICAgICAgICAgICAgICAocm9vdE9yU2luZ2xldG9uQ29udGV4dCA9ICExKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICAgICh3YXJuSWZOb3RIeWRyYXRpbmcoKSxcbiAgICAgICAgICAgICAgICAoaWRTdGFja1tpZFN0YWNrSW5kZXgrK10gPSB0cmVlQ29udGV4dElkKSxcbiAgICAgICAgICAgICAgICAoaWRTdGFja1tpZFN0YWNrSW5kZXgrK10gPSB0cmVlQ29udGV4dE92ZXJmbG93KSxcbiAgICAgICAgICAgICAgICAoaWRTdGFja1tpZFN0YWNrSW5kZXgrK10gPSB0cmVlQ29udGV4dFByb3ZpZGVyKSxcbiAgICAgICAgICAgICAgICAodHJlZUNvbnRleHRJZCA9IGN1cnJlbnQuaWQpLFxuICAgICAgICAgICAgICAgICh0cmVlQ29udGV4dE92ZXJmbG93ID0gY3VycmVudC5vdmVyZmxvdyksXG4gICAgICAgICAgICAgICAgKHRyZWVDb250ZXh0UHJvdmlkZXIgPSB3b3JrSW5Qcm9ncmVzcykpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPSBtb3VudFN1c3BlbnNlUHJpbWFyeUNoaWxkcmVuKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmNoaWxkcmVuXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNDA5NikpO1xuICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICB9XG4gICAgICBpZiAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkpXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgcmV1c2VTdXNwZW5zZUhhbmRsZXJPblN0YWNrKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPVxuICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTguZmFsbGJhY2spLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2ID0gd29ya0luUHJvZ3Jlc3MubW9kZSksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfdGVtcCA9IGN1cnJlbnQuY2hpbGQpLFxuICAgICAgICAgIChpbnN0YW5jZSA9IEpTQ29tcGlsZXJfdGVtcC5zaWJsaW5nKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTggPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfdGVtcCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbW9kZTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgY2hpbGRyZW46IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmNoaWxkcmVuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LnN1YnRyZWVGbGFncyA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAuc3VidHJlZUZsYWdzICYgMzE0NTcyODApLFxuICAgICAgICAgIG51bGwgIT09IGluc3RhbmNlXG4gICAgICAgICAgICA/IChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICAgICAgY3JlYXRlV29ya0luUHJvZ3Jlc3MoXG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5XG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIDogKChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSA9XG4gICAgICAgICAgICAgICAgY3JlYXRlRmliZXJGcm9tRnJhZ21lbnQoXG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfY29tcG9uZW50U3RhY2tfMjMxOSxcbiAgICAgICAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5LmZsYWdzIHw9IDIpKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkucmV0dXJuID1cbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX3N0YWNrXzIzMTgucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgIChKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOC5zaWJsaW5nID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5KSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOCksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4ID1cbiAgICAgICAgICAgIEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9jb21wb25lbnRTdGFja18yMzE5KSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPSBjdXJyZW50LmNoaWxkLm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgIG51bGwgPT09IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTZcbiAgICAgICAgICAgID8gKEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9tZXNzYWdlXzIzMTYgPVxuICAgICAgICAgICAgICAgIG1vdW50U3VzcGVuc2VPZmZzY3JlZW5TdGF0ZShyZW5kZXJMYW5lcykpXG4gICAgICAgICAgICA6ICgoSlNDb21waWxlcl90ZW1wID1cbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmNhY2hlUG9vbCksXG4gICAgICAgICAgICAgIG51bGwgIT09IEpTQ29tcGlsZXJfdGVtcFxuICAgICAgICAgICAgICAgID8gKChpbnN0YW5jZSA9IENhY2hlQ29udGV4dC5fY3VycmVudFZhbHVlKSxcbiAgICAgICAgICAgICAgICAgIChKU0NvbXBpbGVyX3RlbXAgPVxuICAgICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAucGFyZW50ICE9PSBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICAgID8geyBwYXJlbnQ6IGluc3RhbmNlLCBwb29sOiBpbnN0YW5jZSB9XG4gICAgICAgICAgICAgICAgICAgICAgOiBKU0NvbXBpbGVyX3RlbXApKVxuICAgICAgICAgICAgICAgIDogKEpTQ29tcGlsZXJfdGVtcCA9IGdldFN1c3BlbmRlZENhY2hlKCkpLFxuICAgICAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX21lc3NhZ2VfMjMxNiA9IHtcbiAgICAgICAgICAgICAgICBiYXNlTGFuZXM6XG4gICAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2LmJhc2VMYW5lcyB8IHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgIGNhY2hlUG9vbDogSlNDb21waWxlcl90ZW1wXG4gICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkubWVtb2l6ZWRTdGF0ZSA9XG4gICAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfbWVzc2FnZV8yMzE2KSxcbiAgICAgICAgICAoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2NvbXBvbmVudFN0YWNrXzIzMTkuY2hpbGRMYW5lcyA9XG4gICAgICAgICAgICBnZXRSZW1haW5pbmdXb3JrSW5QcmltYXJ5VHJlZShcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBTVVNQRU5ERURfTUFSS0VSKSxcbiAgICAgICAgICBKU0NvbXBpbGVyX29iamVjdF9pbmxpbmVfc3RhY2tfMjMxOFxuICAgICAgICApO1xuICAgICAgcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHJlbmRlckxhbmVzID0gY3VycmVudC5jaGlsZDtcbiAgICAgIGN1cnJlbnQgPSByZW5kZXJMYW5lcy5zaWJsaW5nO1xuICAgICAgcmVuZGVyTGFuZXMgPSBjcmVhdGVXb3JrSW5Qcm9ncmVzcyhyZW5kZXJMYW5lcywge1xuICAgICAgICBtb2RlOiBcInZpc2libGVcIixcbiAgICAgICAgY2hpbGRyZW46IEpTQ29tcGlsZXJfb2JqZWN0X2lubGluZV9zdGFja18yMzE4LmNoaWxkcmVuXG4gICAgICB9KTtcbiAgICAgIHJlbmRlckxhbmVzLnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgcmVuZGVyTGFuZXMuc2libGluZyA9IG51bGw7XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICgoSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3ID0gd29ya0luUHJvZ3Jlc3MuZGVsZXRpb25zKSxcbiAgICAgICAgbnVsbCA9PT0gSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3XG4gICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmRlbGV0aW9ucyA9IFtjdXJyZW50XSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTYpKVxuICAgICAgICAgIDogSlNDb21waWxlcl9vYmplY3RfaW5saW5lX2RpZ2VzdF8yMzE3LnB1c2goY3VycmVudCkpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZW5kZXJMYW5lcztcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIHJlbmRlckxhbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtb3VudFN1c3BlbnNlUHJpbWFyeUNoaWxkcmVuKHdvcmtJblByb2dyZXNzLCBwcmltYXJ5Q2hpbGRyZW4pIHtcbiAgICAgIHByaW1hcnlDaGlsZHJlbiA9IG1vdW50V29ya0luUHJvZ3Jlc3NPZmZzY3JlZW5GaWJlcihcbiAgICAgICAgeyBtb2RlOiBcInZpc2libGVcIiwgY2hpbGRyZW46IHByaW1hcnlDaGlsZHJlbiB9LFxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5tb2RlXG4gICAgICApO1xuICAgICAgcHJpbWFyeUNoaWxkcmVuLnJldHVybiA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgcmV0dXJuICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHByaW1hcnlDaGlsZHJlbik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50V29ya0luUHJvZ3Jlc3NPZmZzY3JlZW5GaWJlcihvZmZzY3JlZW5Qcm9wcywgbW9kZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUZpYmVyRnJvbU9mZnNjcmVlbihvZmZzY3JlZW5Qcm9wcywgbW9kZSwgMCwgbnVsbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJldHJ5U3VzcGVuc2VDb21wb25lbnRXaXRob3V0SHlkcmF0aW5nKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIHJlY29uY2lsZUNoaWxkRmliZXJzKHdvcmtJblByb2dyZXNzLCBjdXJyZW50LmNoaWxkLCBudWxsLCByZW5kZXJMYW5lcyk7XG4gICAgICBjdXJyZW50ID0gbW91bnRTdXNwZW5zZVByaW1hcnlDaGlsZHJlbihcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlblxuICAgICAgKTtcbiAgICAgIGN1cnJlbnQuZmxhZ3MgfD0gMjtcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBudWxsO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlU3VzcGVuc2VXb3JrT25GaWJlcihmaWJlciwgcmVuZGVyTGFuZXMsIHByb3BhZ2F0aW9uUm9vdCkge1xuICAgICAgZmliZXIubGFuZXMgfD0gcmVuZGVyTGFuZXM7XG4gICAgICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCAhPT0gYWx0ZXJuYXRlICYmIChhbHRlcm5hdGUubGFuZXMgfD0gcmVuZGVyTGFuZXMpO1xuICAgICAgc2NoZWR1bGVDb250ZXh0V29ya09uUGFyZW50UGF0aChcbiAgICAgICAgZmliZXIucmV0dXJuLFxuICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgcHJvcGFnYXRpb25Sb290XG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVN1c3BlbnNlTGlzdE5lc3RlZENoaWxkKGNoaWxkU2xvdCwgaW5kZXgpIHtcbiAgICAgIHZhciBpc0FuQXJyYXkgPSBpc0FycmF5SW1wbChjaGlsZFNsb3QpO1xuICAgICAgY2hpbGRTbG90ID0gIWlzQW5BcnJheSAmJiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBnZXRJdGVyYXRvckZuKGNoaWxkU2xvdCk7XG4gICAgICByZXR1cm4gaXNBbkFycmF5IHx8IGNoaWxkU2xvdFxuICAgICAgICA/ICgoaXNBbkFycmF5ID0gaXNBbkFycmF5ID8gXCJhcnJheVwiIDogXCJpdGVyYWJsZVwiKSxcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJBIG5lc3RlZCAlcyB3YXMgcGFzc2VkIHRvIHJvdyAjJXMgaW4gPFN1c3BlbnNlTGlzdCAvPi4gV3JhcCBpdCBpbiBhbiBhZGRpdGlvbmFsIFN1c3BlbnNlTGlzdCB0byBjb25maWd1cmUgaXRzIHJldmVhbE9yZGVyOiA8U3VzcGVuc2VMaXN0IHJldmVhbE9yZGVyPS4uLj4gLi4uIDxTdXNwZW5zZUxpc3QgcmV2ZWFsT3JkZXI9Li4uPnslc308L1N1c3BlbnNlTGlzdD4gLi4uIDwvU3VzcGVuc2VMaXN0PlwiLFxuICAgICAgICAgICAgaXNBbkFycmF5LFxuICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICBpc0FuQXJyYXlcbiAgICAgICAgICApLFxuICAgICAgICAgICExKVxuICAgICAgICA6ICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0U3VzcGVuc2VMaXN0UmVuZGVyU3RhdGUoXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIGlzQmFja3dhcmRzLFxuICAgICAgdGFpbCxcbiAgICAgIGxhc3RDb250ZW50Um93LFxuICAgICAgdGFpbE1vZGVcbiAgICApIHtcbiAgICAgIHZhciByZW5kZXJTdGF0ZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICBudWxsID09PSByZW5kZXJTdGF0ZVxuICAgICAgICA/ICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0ge1xuICAgICAgICAgICAgaXNCYWNrd2FyZHM6IGlzQmFja3dhcmRzLFxuICAgICAgICAgICAgcmVuZGVyaW5nOiBudWxsLFxuICAgICAgICAgICAgcmVuZGVyaW5nU3RhcnRUaW1lOiAwLFxuICAgICAgICAgICAgbGFzdDogbGFzdENvbnRlbnRSb3csXG4gICAgICAgICAgICB0YWlsOiB0YWlsLFxuICAgICAgICAgICAgdGFpbE1vZGU6IHRhaWxNb2RlXG4gICAgICAgICAgfSlcbiAgICAgICAgOiAoKHJlbmRlclN0YXRlLmlzQmFja3dhcmRzID0gaXNCYWNrd2FyZHMpLFxuICAgICAgICAgIChyZW5kZXJTdGF0ZS5yZW5kZXJpbmcgPSBudWxsKSxcbiAgICAgICAgICAocmVuZGVyU3RhdGUucmVuZGVyaW5nU3RhcnRUaW1lID0gMCksXG4gICAgICAgICAgKHJlbmRlclN0YXRlLmxhc3QgPSBsYXN0Q29udGVudFJvdyksXG4gICAgICAgICAgKHJlbmRlclN0YXRlLnRhaWwgPSB0YWlsKSxcbiAgICAgICAgICAocmVuZGVyU3RhdGUudGFpbE1vZGUgPSB0YWlsTW9kZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVTdXNwZW5zZUxpc3RDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSB7XG4gICAgICB2YXIgbmV4dFByb3BzID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICByZXZlYWxPcmRlciA9IG5leHRQcm9wcy5yZXZlYWxPcmRlcixcbiAgICAgICAgdGFpbE1vZGUgPSBuZXh0UHJvcHMudGFpbDtcbiAgICAgIG5leHRQcm9wcyA9IG5leHRQcm9wcy5jaGlsZHJlbjtcbiAgICAgIGlmIChcbiAgICAgICAgdm9pZCAwICE9PSByZXZlYWxPcmRlciAmJlxuICAgICAgICBcImZvcndhcmRzXCIgIT09IHJldmVhbE9yZGVyICYmXG4gICAgICAgIFwiYmFja3dhcmRzXCIgIT09IHJldmVhbE9yZGVyICYmXG4gICAgICAgIFwidG9nZXRoZXJcIiAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgIWRpZFdhcm5BYm91dFJldmVhbE9yZGVyW3JldmVhbE9yZGVyXVxuICAgICAgKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgKChkaWRXYXJuQWJvdXRSZXZlYWxPcmRlcltyZXZlYWxPcmRlcl0gPSAhMCksXG4gICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHJldmVhbE9yZGVyKVxuICAgICAgICApXG4gICAgICAgICAgc3dpdGNoIChyZXZlYWxPcmRlci50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICBjYXNlIFwidG9nZXRoZXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmb3J3YXJkc1wiOlxuICAgICAgICAgICAgY2FzZSBcImJhY2t3YXJkc1wiOlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdcIiVzXCIgaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHJldmVhbE9yZGVyIG9uIDxTdXNwZW5zZUxpc3QgLz4uIFVzZSBsb3dlcmNhc2UgXCIlc1wiIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgICByZXZlYWxPcmRlcixcbiAgICAgICAgICAgICAgICByZXZlYWxPcmRlci50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImZvcndhcmRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJiYWNrd2FyZFwiOlxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICdcIiVzXCIgaXMgbm90IGEgdmFsaWQgdmFsdWUgZm9yIHJldmVhbE9yZGVyIG9uIDxTdXNwZW5zZUxpc3QgLz4uIFJlYWN0IHVzZXMgdGhlIC1zIHN1ZmZpeCBpbiB0aGUgc3BlbGxpbmcuIFVzZSBcIiVzc1wiIGluc3RlYWQuJyxcbiAgICAgICAgICAgICAgICByZXZlYWxPcmRlcixcbiAgICAgICAgICAgICAgICByZXZlYWxPcmRlci50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnXCIlc1wiIGlzIG5vdCBhIHN1cHBvcnRlZCByZXZlYWxPcmRlciBvbiA8U3VzcGVuc2VMaXN0IC8+LiBEaWQgeW91IG1lYW4gXCJ0b2dldGhlclwiLCBcImZvcndhcmRzXCIgb3IgXCJiYWNrd2FyZHNcIj8nLFxuICAgICAgICAgICAgICAgIHJldmVhbE9yZGVyXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICclcyBpcyBub3QgYSBzdXBwb3J0ZWQgdmFsdWUgZm9yIHJldmVhbE9yZGVyIG9uIDxTdXNwZW5zZUxpc3QgLz4uIERpZCB5b3UgbWVhbiBcInRvZ2V0aGVyXCIsIFwiZm9yd2FyZHNcIiBvciBcImJhY2t3YXJkc1wiPycsXG4gICAgICAgICAgICByZXZlYWxPcmRlclxuICAgICAgICAgICk7XG4gICAgICB2b2lkIDAgPT09IHRhaWxNb2RlIHx8XG4gICAgICAgIGRpZFdhcm5BYm91dFRhaWxPcHRpb25zW3RhaWxNb2RlXSB8fFxuICAgICAgICAoXCJjb2xsYXBzZWRcIiAhPT0gdGFpbE1vZGUgJiYgXCJoaWRkZW5cIiAhPT0gdGFpbE1vZGVcbiAgICAgICAgICA/ICgoZGlkV2FybkFib3V0VGFpbE9wdGlvbnNbdGFpbE1vZGVdID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgJ1wiJXNcIiBpcyBub3QgYSBzdXBwb3J0ZWQgdmFsdWUgZm9yIHRhaWwgb24gPFN1c3BlbnNlTGlzdCAvPi4gRGlkIHlvdSBtZWFuIFwiY29sbGFwc2VkXCIgb3IgXCJoaWRkZW5cIj8nLFxuICAgICAgICAgICAgICB0YWlsTW9kZVxuICAgICAgICAgICAgKSlcbiAgICAgICAgICA6IFwiZm9yd2FyZHNcIiAhPT0gcmV2ZWFsT3JkZXIgJiZcbiAgICAgICAgICAgIFwiYmFja3dhcmRzXCIgIT09IHJldmVhbE9yZGVyICYmXG4gICAgICAgICAgICAoKGRpZFdhcm5BYm91dFRhaWxPcHRpb25zW3RhaWxNb2RlXSA9ICEwKSxcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICc8U3VzcGVuc2VMaXN0IHRhaWw9XCIlc1wiIC8+IGlzIG9ubHkgdmFsaWQgaWYgcmV2ZWFsT3JkZXIgaXMgXCJmb3J3YXJkc1wiIG9yIFwiYmFja3dhcmRzXCIuIERpZCB5b3UgbWVhbiB0byBzcGVjaWZ5IHJldmVhbE9yZGVyPVwiZm9yd2FyZHNcIj8nLFxuICAgICAgICAgICAgICB0YWlsTW9kZVxuICAgICAgICAgICAgKSkpO1xuICAgICAgYTogaWYgKFxuICAgICAgICAoXCJmb3J3YXJkc1wiID09PSByZXZlYWxPcmRlciB8fCBcImJhY2t3YXJkc1wiID09PSByZXZlYWxPcmRlcikgJiZcbiAgICAgICAgdm9pZCAwICE9PSBuZXh0UHJvcHMgJiZcbiAgICAgICAgbnVsbCAhPT0gbmV4dFByb3BzICYmXG4gICAgICAgICExICE9PSBuZXh0UHJvcHNcbiAgICAgIClcbiAgICAgICAgaWYgKGlzQXJyYXlJbXBsKG5leHRQcm9wcykpXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXh0UHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGVTdXNwZW5zZUxpc3ROZXN0ZWRDaGlsZChuZXh0UHJvcHNbaV0sIGkpKSBicmVhayBhO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKChpID0gZ2V0SXRlcmF0b3JGbihuZXh0UHJvcHMpKSwgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaSkpIHtcbiAgICAgICAgICBpZiAoKGkgPSBpLmNhbGwobmV4dFByb3BzKSkpXG4gICAgICAgICAgICBmb3IgKHZhciBzdGVwID0gaS5uZXh0KCksIF9pID0gMDsgIXN0ZXAuZG9uZTsgc3RlcCA9IGkubmV4dCgpKSB7XG4gICAgICAgICAgICAgIGlmICghdmFsaWRhdGVTdXNwZW5zZUxpc3ROZXN0ZWRDaGlsZChzdGVwLnZhbHVlLCBfaSkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgIF9pKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAnQSBzaW5nbGUgcm93IHdhcyBwYXNzZWQgdG8gYSA8U3VzcGVuc2VMaXN0IHJldmVhbE9yZGVyPVwiJXNcIiAvPi4gVGhpcyBpcyBub3QgdXNlZnVsIHNpbmNlIGl0IG5lZWRzIG11bHRpcGxlIHJvd3MuIERpZCB5b3UgbWVhbiB0byBwYXNzIG11bHRpcGxlIGNoaWxkcmVuIG9yIGFuIGFycmF5PycsXG4gICAgICAgICAgICByZXZlYWxPcmRlclxuICAgICAgICAgICk7XG4gICAgICByZWNvbmNpbGVDaGlsZHJlbihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCByZW5kZXJMYW5lcyk7XG4gICAgICBuZXh0UHJvcHMgPSBzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gICAgICBpZiAoMCAhPT0gKG5leHRQcm9wcyAmIEZvcmNlU3VzcGVuc2VGYWxsYmFjaykpXG4gICAgICAgIChuZXh0UHJvcHMgPVxuICAgICAgICAgIChuZXh0UHJvcHMgJiBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzaykgfCBGb3JjZVN1c3BlbnNlRmFsbGJhY2spLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIDAgIT09IChjdXJyZW50LmZsYWdzICYgMTI4KSlcbiAgICAgICAgICBhOiBmb3IgKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDsgbnVsbCAhPT0gY3VycmVudDsgKSB7XG4gICAgICAgICAgICBpZiAoMTMgPT09IGN1cnJlbnQudGFnKVxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgICBzY2hlZHVsZVN1c3BlbnNlV29ya09uRmliZXIoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbHNlIGlmICgxOSA9PT0gY3VycmVudC50YWcpXG4gICAgICAgICAgICAgIHNjaGVkdWxlU3VzcGVuc2VXb3JrT25GaWJlcihjdXJyZW50LCByZW5kZXJMYW5lcywgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgZWxzZSBpZiAobnVsbCAhPT0gY3VycmVudC5jaGlsZCkge1xuICAgICAgICAgICAgICBjdXJyZW50LmNoaWxkLnJldHVybiA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNoaWxkO1xuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjdXJyZW50ID09PSB3b3JrSW5Qcm9ncmVzcykgYnJlYWsgYTtcbiAgICAgICAgICAgIGZvciAoOyBudWxsID09PSBjdXJyZW50LnNpYmxpbmc7ICkge1xuICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudC5yZXR1cm4gfHwgY3VycmVudC5yZXR1cm4gPT09IHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnQuc2libGluZy5yZXR1cm4gPSBjdXJyZW50LnJldHVybjtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICBuZXh0UHJvcHMgJj0gU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2s7XG4gICAgICB9XG4gICAgICBwdXNoKHN1c3BlbnNlU3RhY2tDdXJzb3IsIG5leHRQcm9wcywgd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgc3dpdGNoIChyZXZlYWxPcmRlcikge1xuICAgICAgICBjYXNlIFwiZm9yd2FyZHNcIjpcbiAgICAgICAgICByZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgICAgICAgIGZvciAocmV2ZWFsT3JkZXIgPSBudWxsOyBudWxsICE9PSByZW5kZXJMYW5lczsgKVxuICAgICAgICAgICAgKGN1cnJlbnQgPSByZW5kZXJMYW5lcy5hbHRlcm5hdGUpLFxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gZmluZEZpcnN0U3VzcGVuZGVkKGN1cnJlbnQpICYmXG4gICAgICAgICAgICAgICAgKHJldmVhbE9yZGVyID0gcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSByZW5kZXJMYW5lcy5zaWJsaW5nKTtcbiAgICAgICAgICByZW5kZXJMYW5lcyA9IHJldmVhbE9yZGVyO1xuICAgICAgICAgIG51bGwgPT09IHJlbmRlckxhbmVzXG4gICAgICAgICAgICA/ICgocmV2ZWFsT3JkZXIgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG51bGwpKVxuICAgICAgICAgICAgOiAoKHJldmVhbE9yZGVyID0gcmVuZGVyTGFuZXMuc2libGluZyksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcy5zaWJsaW5nID0gbnVsbCkpO1xuICAgICAgICAgIGluaXRTdXNwZW5zZUxpc3RSZW5kZXJTdGF0ZShcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgITEsXG4gICAgICAgICAgICByZXZlYWxPcmRlcixcbiAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgdGFpbE1vZGVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiYmFja3dhcmRzXCI6XG4gICAgICAgICAgcmVuZGVyTGFuZXMgPSBudWxsO1xuICAgICAgICAgIHJldmVhbE9yZGVyID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgICAgZm9yICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG51bGw7IG51bGwgIT09IHJldmVhbE9yZGVyOyApIHtcbiAgICAgICAgICAgIGN1cnJlbnQgPSByZXZlYWxPcmRlci5hbHRlcm5hdGU7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiBudWxsID09PSBmaW5kRmlyc3RTdXNwZW5kZWQoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZXZlYWxPcmRlcjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gcmV2ZWFsT3JkZXIuc2libGluZztcbiAgICAgICAgICAgIHJldmVhbE9yZGVyLnNpYmxpbmcgPSByZW5kZXJMYW5lcztcbiAgICAgICAgICAgIHJlbmRlckxhbmVzID0gcmV2ZWFsT3JkZXI7XG4gICAgICAgICAgICByZXZlYWxPcmRlciA9IGN1cnJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluaXRTdXNwZW5zZUxpc3RSZW5kZXJTdGF0ZShcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgITAsXG4gICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB0YWlsTW9kZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b2dldGhlclwiOlxuICAgICAgICAgIGluaXRTdXNwZW5zZUxpc3RSZW5kZXJTdGF0ZSh3b3JrSW5Qcm9ncmVzcywgITEsIG51bGwsIG51bGwsIHZvaWQgMCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoXG4gICAgICBjdXJyZW50LFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICByZW5kZXJMYW5lc1xuICAgICkge1xuICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiAod29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzID0gY3VycmVudC5kZXBlbmRlbmNpZXMpO1xuICAgICAgcHJvZmlsZXJTdGFydFRpbWUgPSAtMTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyB8PSB3b3JrSW5Qcm9ncmVzcy5sYW5lcztcbiAgICAgIGlmICgwID09PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzKSlcbiAgICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAocHJvcGFnYXRlUGFyZW50Q29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAwID09PSAocmVuZGVyTGFuZXMgJiB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzKSlcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIHJldHVybiBudWxsO1xuICAgICAgaWYgKG51bGwgIT09IGN1cnJlbnQgJiYgd29ya0luUHJvZ3Jlc3MuY2hpbGQgIT09IGN1cnJlbnQuY2hpbGQpXG4gICAgICAgIHRocm93IEVycm9yKFwiUmVzdW1pbmcgd29yayBub3QgeWV0IGltcGxlbWVudGVkLlwiKTtcbiAgICAgIGlmIChudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCkge1xuICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgIHJlbmRlckxhbmVzID0gY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudCwgY3VycmVudC5wZW5kaW5nUHJvcHMpO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJlbmRlckxhbmVzO1xuICAgICAgICBmb3IgKHJlbmRlckxhbmVzLnJldHVybiA9IHdvcmtJblByb2dyZXNzOyBudWxsICE9PSBjdXJyZW50LnNpYmxpbmc7IClcbiAgICAgICAgICAoY3VycmVudCA9IGN1cnJlbnQuc2libGluZyksXG4gICAgICAgICAgICAocmVuZGVyTGFuZXMgPSByZW5kZXJMYW5lcy5zaWJsaW5nID1cbiAgICAgICAgICAgICAgY3JlYXRlV29ya0luUHJvZ3Jlc3MoY3VycmVudCwgY3VycmVudC5wZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgIChyZW5kZXJMYW5lcy5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgIHJlbmRlckxhbmVzLnNpYmxpbmcgPSBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzLmNoaWxkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjaGVja1NjaGVkdWxlZFVwZGF0ZU9yQ29udGV4dChjdXJyZW50LCByZW5kZXJMYW5lcykge1xuICAgICAgaWYgKDAgIT09IChjdXJyZW50LmxhbmVzICYgcmVuZGVyTGFuZXMpKSByZXR1cm4gITA7XG4gICAgICBjdXJyZW50ID0gY3VycmVudC5kZXBlbmRlbmNpZXM7XG4gICAgICByZXR1cm4gbnVsbCAhPT0gY3VycmVudCAmJiBjaGVja0lmQ29udGV4dENoYW5nZWQoY3VycmVudCkgPyAhMCA6ICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRlbXB0RWFybHlCYWlsb3V0SWZOb1NjaGVkdWxlZFVwZGF0ZShcbiAgICAgIGN1cnJlbnQsXG4gICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgIHJlbmRlckxhbmVzXG4gICAgKSB7XG4gICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgcHVzaEhvc3RDb250YWluZXIoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgKTtcbiAgICAgICAgICBwdXNoUHJvdmlkZXIoXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgIENhY2hlQ29udGV4dCxcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI3OlxuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcHVzaEhvc3RDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHB1c2hIb3N0Q29udGFpbmVyKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUuY29udGFpbmVySW5mb1xuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgcHVzaFByb3ZpZGVyKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcy52YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgMCAhPT0gKHJlbmRlckxhbmVzICYgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcykgJiZcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyMDQ4O1xuICAgICAgICAgIHZhciBzdGF0ZU5vZGUgPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGU7XG4gICAgICAgICAgc3RhdGVOb2RlLmVmZmVjdER1cmF0aW9uID0gLTA7XG4gICAgICAgICAgc3RhdGVOb2RlLnBhc3NpdmVFZmZlY3REdXJhdGlvbiA9IC0wO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHN0YXRlTm9kZSA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgaWYgKG51bGwgIT09IHN0YXRlTm9kZSkge1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IHN0YXRlTm9kZS5kZWh5ZHJhdGVkKVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyOCksXG4gICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKDAgIT09IChyZW5kZXJMYW5lcyAmIHdvcmtJblByb2dyZXNzLmNoaWxkLmNoaWxkTGFuZXMpKVxuICAgICAgICAgICAgICByZXR1cm4gdXBkYXRlU3VzcGVuc2VDb21wb25lbnQoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgcHVzaFByaW1hcnlUcmVlU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCAhPT0gY3VycmVudCA/IGN1cnJlbnQuc2libGluZyA6IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHB1c2hQcmltYXJ5VHJlZVN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTk6XG4gICAgICAgICAgdmFyIGRpZFN1c3BlbmRCZWZvcmUgPSAwICE9PSAoY3VycmVudC5mbGFncyAmIDEyOCk7XG4gICAgICAgICAgc3RhdGVOb2RlID0gMCAhPT0gKHJlbmRlckxhbmVzICYgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcyk7XG4gICAgICAgICAgc3RhdGVOb2RlIHx8XG4gICAgICAgICAgICAocHJvcGFnYXRlUGFyZW50Q29udGV4dENoYW5nZXMoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoc3RhdGVOb2RlID0gMCAhPT0gKHJlbmRlckxhbmVzICYgd29ya0luUHJvZ3Jlc3MuY2hpbGRMYW5lcykpKTtcbiAgICAgICAgICBpZiAoZGlkU3VzcGVuZEJlZm9yZSkge1xuICAgICAgICAgICAgaWYgKHN0YXRlTm9kZSlcbiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVN1c3BlbnNlTGlzdENvbXBvbmVudChcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjg7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRpZFN1c3BlbmRCZWZvcmUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIG51bGwgIT09IGRpZFN1c3BlbmRCZWZvcmUgJiZcbiAgICAgICAgICAgICgoZGlkU3VzcGVuZEJlZm9yZS5yZW5kZXJpbmcgPSBudWxsKSxcbiAgICAgICAgICAgIChkaWRTdXNwZW5kQmVmb3JlLnRhaWwgPSBudWxsKSxcbiAgICAgICAgICAgIChkaWRTdXNwZW5kQmVmb3JlLmxhc3RFZmZlY3QgPSBudWxsKSk7XG4gICAgICAgICAgcHVzaChcbiAgICAgICAgICAgIHN1c3BlbnNlU3RhY2tDdXJzb3IsXG4gICAgICAgICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHN0YXRlTm9kZSkgYnJlYWs7XG4gICAgICAgICAgZWxzZSByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gMCksXG4gICAgICAgICAgICB1cGRhdGVPZmZzY3JlZW5Db21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKVxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcHVzaFByb3ZpZGVyKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICBDYWNoZUNvbnRleHQsXG4gICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhaWxvdXRPbkFscmVhZHlGaW5pc2hlZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYmVnaW5Xb3JrKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzLCByZW5kZXJMYW5lcykge1xuICAgICAgaWYgKHdvcmtJblByb2dyZXNzLl9kZWJ1Z05lZWRzUmVtb3VudCAmJiBudWxsICE9PSBjdXJyZW50KSB7XG4gICAgICAgIHJlbmRlckxhbmVzID0gY3JlYXRlRmliZXJGcm9tVHlwZUFuZFByb3BzKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3Mua2V5LFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5fZGVidWdPd25lciB8fCBudWxsLFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1vZGUsXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MubGFuZXNcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MucmV0dXJuO1xuICAgICAgICBpZiAobnVsbCA9PT0gcmV0dXJuRmliZXIpIHRocm93IEVycm9yKFwiQ2Fubm90IHN3YXAgdGhlIHJvb3QgZmliZXIuXCIpO1xuICAgICAgICBjdXJyZW50LmFsdGVybmF0ZSA9IG51bGw7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZSA9IG51bGw7XG4gICAgICAgIHJlbmRlckxhbmVzLmluZGV4ID0gd29ya0luUHJvZ3Jlc3MuaW5kZXg7XG4gICAgICAgIHJlbmRlckxhbmVzLnNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy5zaWJsaW5nO1xuICAgICAgICByZW5kZXJMYW5lcy5yZXR1cm4gPSB3b3JrSW5Qcm9ncmVzcy5yZXR1cm47XG4gICAgICAgIHJlbmRlckxhbmVzLnJlZiA9IHdvcmtJblByb2dyZXNzLnJlZjtcbiAgICAgICAgcmVuZGVyTGFuZXMuX2RlYnVnSW5mbyA9IHdvcmtJblByb2dyZXNzLl9kZWJ1Z0luZm87XG4gICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzcyA9PT0gcmV0dXJuRmliZXIuY2hpbGQpXG4gICAgICAgICAgcmV0dXJuRmliZXIuY2hpbGQgPSByZW5kZXJMYW5lcztcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIHByZXZTaWJsaW5nID0gcmV0dXJuRmliZXIuY2hpbGQ7XG4gICAgICAgICAgaWYgKG51bGwgPT09IHByZXZTaWJsaW5nKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCBwYXJlbnQgdG8gaGF2ZSBhIGNoaWxkLlwiKTtcbiAgICAgICAgICBmb3IgKDsgcHJldlNpYmxpbmcuc2libGluZyAhPT0gd29ya0luUHJvZ3Jlc3M7IClcbiAgICAgICAgICAgIGlmICgoKHByZXZTaWJsaW5nID0gcHJldlNpYmxpbmcuc2libGluZyksIG51bGwgPT09IHByZXZTaWJsaW5nKSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJFeHBlY3RlZCB0byBmaW5kIHRoZSBwcmV2aW91cyBzaWJsaW5nLlwiKTtcbiAgICAgICAgICBwcmV2U2libGluZy5zaWJsaW5nID0gcmVuZGVyTGFuZXM7XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSByZXR1cm5GaWJlci5kZWxldGlvbnM7XG4gICAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgPyAoKHJldHVybkZpYmVyLmRlbGV0aW9ucyA9IFtjdXJyZW50XSksIChyZXR1cm5GaWJlci5mbGFncyB8PSAxNikpXG4gICAgICAgICAgOiB3b3JrSW5Qcm9ncmVzcy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICByZW5kZXJMYW5lcy5mbGFncyB8PSAyO1xuICAgICAgICByZXR1cm4gcmVuZGVyTGFuZXM7XG4gICAgICB9XG4gICAgICBpZiAobnVsbCAhPT0gY3VycmVudClcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wcyAhPT0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzIHx8XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSAhPT0gY3VycmVudC50eXBlXG4gICAgICAgIClcbiAgICAgICAgICBkaWRSZWNlaXZlVXBkYXRlID0gITA7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFjaGVja1NjaGVkdWxlZFVwZGF0ZU9yQ29udGV4dChjdXJyZW50LCByZW5kZXJMYW5lcykgJiZcbiAgICAgICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDEyOClcbiAgICAgICAgICApXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoZGlkUmVjZWl2ZVVwZGF0ZSA9ICExKSxcbiAgICAgICAgICAgICAgYXR0ZW1wdEVhcmx5QmFpbG91dElmTm9TY2hlZHVsZWRVcGRhdGUoXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGRpZFJlY2VpdmVVcGRhdGUgPSAwICE9PSAoY3VycmVudC5mbGFncyAmIDEzMTA3MikgPyAhMCA6ICExO1xuICAgICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgZGlkUmVjZWl2ZVVwZGF0ZSA9ICExO1xuICAgICAgICBpZiAoKHJldHVybkZpYmVyID0gaXNIeWRyYXRpbmcpKVxuICAgICAgICAgIHdhcm5JZk5vdEh5ZHJhdGluZygpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTA0ODU3NikpO1xuICAgICAgICByZXR1cm5GaWJlciAmJlxuICAgICAgICAgICgocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5pbmRleCksXG4gICAgICAgICAgd2FybklmTm90SHlkcmF0aW5nKCksXG4gICAgICAgICAgcHVzaFRyZWVJZCh3b3JrSW5Qcm9ncmVzcywgdHJlZUZvcmtDb3VudCwgcmV0dXJuRmliZXIpKTtcbiAgICAgIH1cbiAgICAgIHdvcmtJblByb2dyZXNzLmxhbmVzID0gMDtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgYTogaWYgKFxuICAgICAgICAgICAgKChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICAoY3VycmVudCA9IGNhbGxMYXp5SW5pdEluREVWKHdvcmtJblByb2dyZXNzLmVsZW1lbnRUeXBlKSksXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQpLFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY3VycmVudClcbiAgICAgICAgICApXG4gICAgICAgICAgICBzaG91bGRDb25zdHJ1Y3QoY3VycmVudClcbiAgICAgICAgICAgICAgPyAoKHJldHVybkZpYmVyID0gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudGFnID0gMSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgIHJlc29sdmVGdW5jdGlvbkZvckhvdFJlbG9hZGluZyhjdXJyZW50KSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzID0gdXBkYXRlQ2xhc3NDb21wb25lbnQoXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICkpKVxuICAgICAgICAgICAgICA6ICgod29ya0luUHJvZ3Jlc3MudGFnID0gMCksXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVGdW5jdGlvbkNvbXBvbmVudEluRGV2KHdvcmtJblByb2dyZXNzLCBjdXJyZW50KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgcmVzb2x2ZUZ1bmN0aW9uRm9ySG90UmVsb2FkaW5nKGN1cnJlbnQpKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MgPSB1cGRhdGVGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSkpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50KVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKChwcmV2U2libGluZyA9IGN1cnJlbnQuJCR0eXBlb2YpLFxuICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50YWcgPSAxMTtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICByZXNvbHZlRm9yd2FyZFJlZkZvckhvdFJlbG9hZGluZyhjdXJyZW50KTtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHVwZGF0ZUZvcndhcmRSZWYoXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmV2U2libGluZyA9PT0gUkVBQ1RfTUVNT19UWVBFKSB7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnID0gMTQ7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB1cGRhdGVNZW1vQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gXCJcIjtcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgY3VycmVudC4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFICYmXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyA9XG4gICAgICAgICAgICAgICAgXCIgRGlkIHlvdSB3cmFwIGEgY29tcG9uZW50IGluIFJlYWN0LmxhenkoKSBtb3JlIHRoYW4gb25jZT9cIik7XG4gICAgICAgICAgICBjdXJyZW50ID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGN1cnJlbnQpIHx8IGN1cnJlbnQ7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJFbGVtZW50IHR5cGUgaXMgaW52YWxpZC4gUmVjZWl2ZWQgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgdG86IFwiICtcbiAgICAgICAgICAgICAgICBjdXJyZW50ICtcbiAgICAgICAgICAgICAgICBcIi4gTGF6eSBlbGVtZW50IHR5cGUgbXVzdCByZXNvbHZlIHRvIGEgY2xhc3Mgb3IgZnVuY3Rpb24uXCIgK1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlRnVuY3Rpb25Db21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnR5cGUpLFxuICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoXG4gICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgdXBkYXRlQ2xhc3NDb21wb25lbnQoXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgcHJldlNpYmxpbmcsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIHB1c2hIb3N0Q29udGFpbmVyKFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm9cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudClcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJTaG91bGQgaGF2ZSBhIGN1cnJlbnQgZmliZXIuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZhciBuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHM7XG4gICAgICAgICAgICBwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICByZXR1cm5GaWJlciA9IHByZXZTaWJsaW5nLmVsZW1lbnQ7XG4gICAgICAgICAgICBjbG9uZVVwZGF0ZVF1ZXVlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgbmV4dFByb3BzLCBudWxsLCByZW5kZXJMYW5lcyk7XG4gICAgICAgICAgICB2YXIgbmV4dFN0YXRlID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICAgIG5leHRQcm9wcyA9IG5leHRTdGF0ZS5jYWNoZTtcbiAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgQ2FjaGVDb250ZXh0LCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgbmV4dFByb3BzICE9PSBwcmV2U2libGluZy5jYWNoZSAmJlxuICAgICAgICAgICAgICBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlcyhcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBbQ2FjaGVDb250ZXh0XSxcbiAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAhMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgc3VzcGVuZElmVXBkYXRlUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbigpO1xuICAgICAgICAgICAgbmV4dFByb3BzID0gbmV4dFN0YXRlLmVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAocHJldlNpYmxpbmcuaXNEZWh5ZHJhdGVkKVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKChwcmV2U2libGluZyA9IHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgIGlzRGVoeWRyYXRlZDogITEsXG4gICAgICAgICAgICAgICAgICBjYWNoZTogbmV4dFN0YXRlLmNhY2hlXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLmJhc2VTdGF0ZSA9IHByZXZTaWJsaW5nKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IHByZXZTaWJsaW5nKSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDI1NilcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBtb3VudEhvc3RSb290V2l0aG91dEh5ZHJhdGluZyhcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHRQcm9wcyAhPT0gcmV0dXJuRmliZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKFxuICAgICAgICAgICAgICAgICAgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiVGhpcyByb290IHJlY2VpdmVkIGFuIGVhcmx5IHVwZGF0ZSwgYmVmb3JlIGFueXRoaW5nIHdhcyBhYmxlIGh5ZHJhdGUuIFN3aXRjaGVkIHRoZSBlbnRpcmUgcm9vdCB0byBjbGllbnQgcmVuZGVyaW5nLlwiXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHF1ZXVlSHlkcmF0aW9uRXJyb3IocmV0dXJuRmliZXIpO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gbW91bnRIb3N0Um9vdFdpdGhvdXRIeWRyYXRpbmcoXG4gICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgIG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlLmNvbnRhaW5lckluZm8uZmlyc3RDaGlsZFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgaXNIeWRyYXRpbmcgPSAhMCxcbiAgICAgICAgICAgICAgICAgICAgaHlkcmF0aW9uRXJyb3JzID0gbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgPSAhMSxcbiAgICAgICAgICAgICAgICAgICAgaHlkcmF0aW9uRGlmZlJvb3RERVYgPSBudWxsLFxuICAgICAgICAgICAgICAgICAgICByb290T3JTaW5nbGV0b25Db250ZXh0ID0gITAsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBtb3VudENoaWxkRmliZXJzKFxuICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQ7XG5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAoY3VycmVudC5mbGFncyA9IChjdXJyZW50LmZsYWdzICYgLTMpIHwgNDA5NiksXG4gICAgICAgICAgICAgICAgICAgIChjdXJyZW50ID0gY3VycmVudC5zaWJsaW5nKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICAgICAgICAgIGlmIChuZXh0UHJvcHMgPT09IHJldHVybkZpYmVyKSB7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBiYWlsb3V0T25BbHJlYWR5RmluaXNoZWRXb3JrKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgbWFya1JlZihjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgICAgICAgID8gKGN1cnJlbnQgPSBnZXRSZXNvdXJjZShcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgPyAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IGN1cnJlbnQpXG4gICAgICAgICAgICAgICAgOiBpc0h5ZHJhdGluZyB8fFxuICAgICAgICAgICAgICAgICAgKChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MudHlwZSksXG4gICAgICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcmVxdWlyZWRDb250ZXh0KFxuICAgICAgICAgICAgICAgICAgICByb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50XG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9XG4gICAgICAgICAgICAgICAgICAgIGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgICApLmNyZWF0ZUVsZW1lbnQoY3VycmVudCkpLFxuICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyW2ludGVybmFsSW5zdGFuY2VLZXldID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgKHJldHVybkZpYmVyW2ludGVybmFsUHJvcHNLZXldID0gcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMocmV0dXJuRmliZXIsIGN1cnJlbnQsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUocmV0dXJuRmliZXIpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IHJldHVybkZpYmVyKSlcbiAgICAgICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IGdldFJlc291cmNlKFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHB1c2hIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIGlzSHlkcmF0aW5nICYmXG4gICAgICAgICAgICAgICgocHJldlNpYmxpbmcgPSByZXF1aXJlZENvbnRleHQocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudCkpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSBnZXRIb3N0Q29udGV4dCgpKSxcbiAgICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID1cbiAgICAgICAgICAgICAgICByZXNvbHZlU2luZ2xldG9uSW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgcHJldlNpYmxpbmcsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIGRpZFN1c3BlbmRPckVycm9yREVWIHx8XG4gICAgICAgICAgICAgICAgKChyZXR1cm5GaWJlciA9IGRpZmZIeWRyYXRlZFByb3BlcnRpZXMoXG4gICAgICAgICAgICAgICAgICBwcmV2U2libGluZyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IHJldHVybkZpYmVyICYmXG4gICAgICAgICAgICAgICAgICAoYnVpbGRIeWRyYXRpb25EaWZmTm9kZSh3b3JrSW5Qcm9ncmVzcywgMCkuc2VydmVyUHJvcHMgPVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcikpLFxuICAgICAgICAgICAgICAoaHlkcmF0aW9uUGFyZW50RmliZXIgPSB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgIChyb290T3JTaW5nbGV0b25Db250ZXh0ID0gITApLFxuICAgICAgICAgICAgICAobmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IGdldE5leHRIeWRyYXRhYmxlKFxuICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nLmZpcnN0Q2hpbGRcbiAgICAgICAgICAgICAgKSkpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLmNoaWxkcmVuKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgfHwgaXNIeWRyYXRpbmdcbiAgICAgICAgICAgICAgPyByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzLmNoaWxkID0gcmVjb25jaWxlQ2hpbGRGaWJlcnMoXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIGlzSHlkcmF0aW5nICYmXG4gICAgICAgICAgICAgICgobmV4dFByb3BzID0gZ2V0SG9zdENvbnRleHQoKSksXG4gICAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHZhbGlkYXRlRE9NTmVzdGluZyhcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgIG5leHRQcm9wcy5hbmNlc3RvckluZm9cbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChwcmV2U2libGluZyA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2UpLFxuICAgICAgICAgICAgICAobmV4dFN0YXRlID0gIXByZXZTaWJsaW5nKSB8fFxuICAgICAgICAgICAgICAgICgobmV4dFN0YXRlID0gY2FuSHlkcmF0ZUluc3RhbmNlKFxuICAgICAgICAgICAgICAgICAgcHJldlNpYmxpbmcsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICAgICAgcm9vdE9yU2luZ2xldG9uQ29udGV4dFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIG51bGwgIT09IG5leHRTdGF0ZVxuICAgICAgICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IG5leHRTdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgIGRpZFN1c3BlbmRPckVycm9yREVWIHx8XG4gICAgICAgICAgICAgICAgICAgICAgKChuZXh0UHJvcHMgPSBkaWZmSHlkcmF0ZWRQcm9wZXJ0aWVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IG5leHRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1aWxkSHlkcmF0aW9uRGlmZk5vZGUod29ya0luUHJvZ3Jlc3MsIDApLnNlcnZlclByb3BzID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzKSksXG4gICAgICAgICAgICAgICAgICAgIChoeWRyYXRpb25QYXJlbnRGaWJlciA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgICAgKG5leHRIeWRyYXRhYmxlSW5zdGFuY2UgPSBnZXROZXh0SHlkcmF0YWJsZShcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0U3RhdGUuZmlyc3RDaGlsZFxuICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgKHJvb3RPclNpbmdsZXRvbkNvbnRleHQgPSAhMSksXG4gICAgICAgICAgICAgICAgICAgIChuZXh0UHJvcHMgPSAhMCkpXG4gICAgICAgICAgICAgICAgICA6IChuZXh0UHJvcHMgPSAhMSksXG4gICAgICAgICAgICAgICAgKG5leHRTdGF0ZSA9ICFuZXh0UHJvcHMpKSxcbiAgICAgICAgICAgICAgbmV4dFN0YXRlICYmXG4gICAgICAgICAgICAgICAgKHJldHVybkZpYmVyICYmXG4gICAgICAgICAgICAgICAgICB3YXJuTm9uSHlkcmF0ZWRJbnN0YW5jZSh3b3JrSW5Qcm9ncmVzcywgcHJldlNpYmxpbmcpLFxuICAgICAgICAgICAgICAgIHRocm93T25IeWRyYXRpb25NaXNtYXRjaCh3b3JrSW5Qcm9ncmVzcykpKSxcbiAgICAgICAgICAgIHB1c2hIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAocHJldlNpYmxpbmcgPSB3b3JrSW5Qcm9ncmVzcy50eXBlKSxcbiAgICAgICAgICAgIChuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICAgKG5leHRTdGF0ZSA9IG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBudWxsKSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IG5leHRQcm9wcy5jaGlsZHJlbiksXG4gICAgICAgICAgICBzaG91bGRTZXRUZXh0Q29udGVudChwcmV2U2libGluZywgbmV4dFByb3BzKVxuICAgICAgICAgICAgICA/IChyZXR1cm5GaWJlciA9IG51bGwpXG4gICAgICAgICAgICAgIDogbnVsbCAhPT0gbmV4dFN0YXRlICYmXG4gICAgICAgICAgICAgICAgc2hvdWxkU2V0VGV4dENvbnRlbnQocHJldlNpYmxpbmcsIG5leHRTdGF0ZSkgJiZcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMzIpLFxuICAgICAgICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICAoKHByZXZTaWJsaW5nID0gcmVuZGVyV2l0aEhvb2tzKFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgVHJhbnNpdGlvbkF3YXJlSG9zdENvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgIChIb3N0VHJhbnNpdGlvbkNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IHByZXZTaWJsaW5nKSksXG4gICAgICAgICAgICBtYXJrUmVmKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgaXNIeWRyYXRpbmcgJiZcbiAgICAgICAgICAgICAgKChjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gZ2V0SG9zdENvbnRleHQoKS5hbmNlc3RvckluZm8uY3VycmVudCksXG4gICAgICAgICAgICAgIChjdXJyZW50ID1cbiAgICAgICAgICAgICAgICBudWxsICE9IHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICA/IHZhbGlkYXRlVGV4dE5lc3RpbmcoY3VycmVudCwgcmVuZGVyTGFuZXMudGFnKVxuICAgICAgICAgICAgICAgICAgOiAhMCksXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IG5leHRIeWRyYXRhYmxlSW5zdGFuY2UpLFxuICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSAhcmVuZGVyTGFuZXMpIHx8XG4gICAgICAgICAgICAgICAgKChyZXR1cm5GaWJlciA9IGNhbkh5ZHJhdGVUZXh0SW5zdGFuY2UoXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJvb3RPclNpbmdsZXRvbkNvbnRleHRcbiAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAgICAgKGh5ZHJhdGlvblBhcmVudEZpYmVyID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICAobmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSAhMCkpXG4gICAgICAgICAgICAgICAgICA6IChyZXR1cm5GaWJlciA9ICExKSxcbiAgICAgICAgICAgICAgICAocmV0dXJuRmliZXIgPSAhcmV0dXJuRmliZXIpKSxcbiAgICAgICAgICAgICAgcmV0dXJuRmliZXIgJiZcbiAgICAgICAgICAgICAgICAoY3VycmVudCAmJlxuICAgICAgICAgICAgICAgICAgd2Fybk5vbkh5ZHJhdGVkSW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICB0aHJvd09uSHlkcmF0aW9uTWlzbWF0Y2god29ya0luUHJvZ3Jlc3MpKSksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlU3VzcGVuc2VDb21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKTtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwdXNoSG9zdENvbnRhaW5lcihcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzKSxcbiAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgPyAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZWNvbmNpbGVDaGlsZEZpYmVycyhcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICA6IHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICAgICAgcmV0dXJuRmliZXIsXG4gICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZUZvcndhcmRSZWYoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHJlY29uY2lsZUNoaWxkcmVuKFxuICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmNoaWxkXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSA4OlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSA0KSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyMDQ4KSxcbiAgICAgICAgICAgIChyZXR1cm5GaWJlciA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIuZWZmZWN0RHVyYXRpb24gPSAtMCksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIucGFzc2l2ZUVmZmVjdER1cmF0aW9uID0gLTApLFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICApLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGRcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy50eXBlKSxcbiAgICAgICAgICAgIChwcmV2U2libGluZyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICAobmV4dFByb3BzID0gcHJldlNpYmxpbmcudmFsdWUpLFxuICAgICAgICAgICAgXCJ2YWx1ZVwiIGluIHByZXZTaWJsaW5nIHx8XG4gICAgICAgICAgICAgIGhhc1dhcm5lZEFib3V0VXNpbmdOb1ZhbHVlUHJvcE9uQ29udGV4dFByb3ZpZGVyIHx8XG4gICAgICAgICAgICAgICgoaGFzV2FybmVkQWJvdXRVc2luZ05vVmFsdWVQcm9wT25Db250ZXh0UHJvdmlkZXIgPSAhMCksXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJUaGUgYHZhbHVlYCBwcm9wIGlzIHJlcXVpcmVkIGZvciB0aGUgYDxDb250ZXh0LlByb3ZpZGVyPmAuIERpZCB5b3UgbWlzc3BlbGwgaXQgb3IgZm9yZ2V0IHRvIHBhc3MgaXQ/XCJcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBwdXNoUHJvdmlkZXIod29ya0luUHJvZ3Jlc3MsIHJldHVybkZpYmVyLCBuZXh0UHJvcHMpLFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICBwcmV2U2libGluZy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHByZXZTaWJsaW5nID0gd29ya0luUHJvZ3Jlc3MudHlwZS5fY29udGV4dCksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSB3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMuY2hpbGRyZW4pLFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgcmV0dXJuRmliZXIgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIkEgY29udGV4dCBjb25zdW1lciB3YXMgcmVuZGVyZWQgd2l0aCBtdWx0aXBsZSBjaGlsZHJlbiwgb3IgYSBjaGlsZCB0aGF0IGlzbid0IGEgZnVuY3Rpb24uIEEgY29udGV4dCBjb25zdW1lciBleHBlY3RzIGEgc2luZ2xlIGNoaWxkIHRoYXQgaXMgYSBmdW5jdGlvbi4gSWYgeW91IGRpZCBwYXNzIGEgZnVuY3Rpb24sIG1ha2Ugc3VyZSB0aGVyZSBpcyBubyB0cmFpbGluZyBvciBsZWFkaW5nIHdoaXRlc3BhY2UgYXJvdW5kIGl0LlwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBwcmVwYXJlVG9SZWFkQ29udGV4dCh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAocHJldlNpYmxpbmcgPSByZWFkQ29udGV4dChwcmV2U2libGluZykpLFxuICAgICAgICAgICAgbWFya0NvbXBvbmVudFJlbmRlclN0YXJ0ZWQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gY2FsbENvbXBvbmVudEluREVWKFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgcHJldlNpYmxpbmcsXG4gICAgICAgICAgICAgIHZvaWQgMFxuICAgICAgICAgICAgKSksXG4gICAgICAgICAgICBtYXJrQ29tcG9uZW50UmVuZGVyU3RvcHBlZCgpLFxuICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEpLFxuICAgICAgICAgICAgcmVjb25jaWxlQ2hpbGRyZW4oXG4gICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU1lbW9Db21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJldHVybiB1cGRhdGVTaW1wbGVNZW1vQ29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudHlwZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcyxcbiAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZXR1cm4gdXBkYXRlU3VzcGVuc2VMaXN0Q29tcG9uZW50KFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHJldHVybiB1cGRhdGVPZmZzY3JlZW5Db21wb25lbnQoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MsIHJlbmRlckxhbmVzKTtcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcmVhZENvbnRleHQoQ2FjaGVDb250ZXh0KSksXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgICAgICAgID8gKChwcmV2U2libGluZyA9IHBlZWtDYWNoZUZyb21Qb29sKCkpLFxuICAgICAgICAgICAgICAgIG51bGwgPT09IHByZXZTaWJsaW5nICYmXG4gICAgICAgICAgICAgICAgICAoKHByZXZTaWJsaW5nID0gd29ya0luUHJvZ3Jlc3NSb290KSxcbiAgICAgICAgICAgICAgICAgIChuZXh0UHJvcHMgPSBjcmVhdGVDYWNoZSgpKSxcbiAgICAgICAgICAgICAgICAgIChwcmV2U2libGluZy5wb29sZWRDYWNoZSA9IG5leHRQcm9wcyksXG4gICAgICAgICAgICAgICAgICByZXRhaW5DYWNoZShuZXh0UHJvcHMpLFxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV4dFByb3BzICYmXG4gICAgICAgICAgICAgICAgICAgIChwcmV2U2libGluZy5wb29sZWRDYWNoZUxhbmVzIHw9IHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAgIChwcmV2U2libGluZyA9IG5leHRQcm9wcykpLFxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0ge1xuICAgICAgICAgICAgICAgICAgcGFyZW50OiByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgIGNhY2hlOiBwcmV2U2libGluZ1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBDYWNoZUNvbnRleHQsIHByZXZTaWJsaW5nKSlcbiAgICAgICAgICAgICAgOiAoMCAhPT0gKGN1cnJlbnQubGFuZXMgJiByZW5kZXJMYW5lcykgJiZcbiAgICAgICAgICAgICAgICAgIChjbG9uZVVwZGF0ZVF1ZXVlKGN1cnJlbnQsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAgIHByb2Nlc3NVcGRhdGVRdWV1ZSh3b3JrSW5Qcm9ncmVzcywgbnVsbCwgbnVsbCwgcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgICAgICAgc3VzcGVuZElmVXBkYXRlUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbigpKSxcbiAgICAgICAgICAgICAgICAocHJldlNpYmxpbmcgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICAgICAgIChuZXh0UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAgICAgICBwcmV2U2libGluZy5wYXJlbnQgIT09IHJldHVybkZpYmVyXG4gICAgICAgICAgICAgICAgICA/ICgocHJldlNpYmxpbmcgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiByZXR1cm5GaWJlcixcbiAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogcmV0dXJuRmliZXJcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gcHJldlNpYmxpbmcpLFxuICAgICAgICAgICAgICAgICAgICAwID09PSB3b3JrSW5Qcm9ncmVzcy5sYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlLmJhc2VTdGF0ZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZTaWJsaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgcHVzaFByb3ZpZGVyKHdvcmtJblByb2dyZXNzLCBDYWNoZUNvbnRleHQsIHJldHVybkZpYmVyKSlcbiAgICAgICAgICAgICAgICAgIDogKChyZXR1cm5GaWJlciA9IG5leHRQcm9wcy5jYWNoZSksXG4gICAgICAgICAgICAgICAgICAgIHB1c2hQcm92aWRlcih3b3JrSW5Qcm9ncmVzcywgQ2FjaGVDb250ZXh0LCByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyICE9PSBwcmV2U2libGluZy5jYWNoZSAmJlxuICAgICAgICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUNvbnRleHRDaGFuZ2VzKFxuICAgICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBbQ2FjaGVDb250ZXh0XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgITBcbiAgICAgICAgICAgICAgICAgICAgICApKSksXG4gICAgICAgICAgICByZWNvbmNpbGVDaGlsZHJlbihcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgdGhyb3cgd29ya0luUHJvZ3Jlc3MucGVuZGluZ1Byb3BzO1xuICAgICAgfVxuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIFwiVW5rbm93biB1bml0IG9mIHdvcmsgdGFnIChcIiArXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnICtcbiAgICAgICAgICBcIikuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc2V0Q29udGV4dERlcGVuZGVuY2llcygpIHtcbiAgICAgIGxhc3RDb250ZXh0RGVwZW5kZW5jeSA9IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyID0gbnVsbDtcbiAgICAgIGlzRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYgPSAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaFByb3ZpZGVyKHByb3ZpZGVyRmliZXIsIGNvbnRleHQsIG5leHRWYWx1ZSkge1xuICAgICAgcHVzaCh2YWx1ZUN1cnNvciwgY29udGV4dC5fY3VycmVudFZhbHVlLCBwcm92aWRlckZpYmVyKTtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZSA9IG5leHRWYWx1ZTtcbiAgICAgIHB1c2gocmVuZGVyZXJDdXJzb3JERVYsIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciwgcHJvdmlkZXJGaWJlcik7XG4gICAgICB2b2lkIDAgIT09IGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciAmJlxuICAgICAgICBudWxsICE9PSBjb250ZXh0Ll9jdXJyZW50UmVuZGVyZXIgJiZcbiAgICAgICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyICE9PSByZW5kZXJlclNpZ2lsICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJEZXRlY3RlZCBtdWx0aXBsZSByZW5kZXJlcnMgY29uY3VycmVudGx5IHJlbmRlcmluZyB0aGUgc2FtZSBjb250ZXh0IHByb3ZpZGVyLiBUaGlzIGlzIGN1cnJlbnRseSB1bnN1cHBvcnRlZC5cIlxuICAgICAgICApO1xuICAgICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyID0gcmVuZGVyZXJTaWdpbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcG9wUHJvdmlkZXIoY29udGV4dCwgcHJvdmlkZXJGaWJlcikge1xuICAgICAgY29udGV4dC5fY3VycmVudFZhbHVlID0gdmFsdWVDdXJzb3IuY3VycmVudDtcbiAgICAgIHZhciBjdXJyZW50UmVuZGVyZXIgPSByZW5kZXJlckN1cnNvckRFVi5jdXJyZW50O1xuICAgICAgcG9wKHJlbmRlcmVyQ3Vyc29yREVWLCBwcm92aWRlckZpYmVyKTtcbiAgICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IGN1cnJlbnRSZW5kZXJlcjtcbiAgICAgIHBvcCh2YWx1ZUN1cnNvciwgcHJvdmlkZXJGaWJlcik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlQ29udGV4dFdvcmtPblBhcmVudFBhdGgoXG4gICAgICBwYXJlbnQsXG4gICAgICByZW5kZXJMYW5lcyxcbiAgICAgIHByb3BhZ2F0aW9uUm9vdFxuICAgICkge1xuICAgICAgZm9yICg7IG51bGwgIT09IHBhcmVudDsgKSB7XG4gICAgICAgIHZhciBhbHRlcm5hdGUgPSBwYXJlbnQuYWx0ZXJuYXRlO1xuICAgICAgICAocGFyZW50LmNoaWxkTGFuZXMgJiByZW5kZXJMYW5lcykgIT09IHJlbmRlckxhbmVzXG4gICAgICAgICAgPyAoKHBhcmVudC5jaGlsZExhbmVzIHw9IHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgIG51bGwgIT09IGFsdGVybmF0ZSAmJiAoYWx0ZXJuYXRlLmNoaWxkTGFuZXMgfD0gcmVuZGVyTGFuZXMpKVxuICAgICAgICAgIDogbnVsbCAhPT0gYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAoYWx0ZXJuYXRlLmNoaWxkTGFuZXMgJiByZW5kZXJMYW5lcykgIT09IHJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAoYWx0ZXJuYXRlLmNoaWxkTGFuZXMgfD0gcmVuZGVyTGFuZXMpO1xuICAgICAgICBpZiAocGFyZW50ID09PSBwcm9wYWdhdGlvblJvb3QpIGJyZWFrO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFyZW50ICE9PSBwcm9wYWdhdGlvblJvb3QgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkV4cGVjdGVkIHRvIGZpbmQgdGhlIHByb3BhZ2F0aW9uIHJvb3Qgd2hlbiBzY2hlZHVsaW5nIGNvbnRleHQgd29yay4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9wYWdhdGVDb250ZXh0Q2hhbmdlcyhcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgY29udGV4dHMsXG4gICAgICByZW5kZXJMYW5lcyxcbiAgICAgIGZvcmNlUHJvcGFnYXRlRW50aXJlVHJlZVxuICAgICkge1xuICAgICAgdmFyIGZpYmVyID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICBudWxsICE9PSBmaWJlciAmJiAoZmliZXIucmV0dXJuID0gd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgZm9yICg7IG51bGwgIT09IGZpYmVyOyApIHtcbiAgICAgICAgdmFyIGxpc3QgPSBmaWJlci5kZXBlbmRlbmNpZXM7XG4gICAgICAgIGlmIChudWxsICE9PSBsaXN0KSB7XG4gICAgICAgICAgdmFyIG5leHRGaWJlciA9IGZpYmVyLmNoaWxkO1xuICAgICAgICAgIGxpc3QgPSBsaXN0LmZpcnN0Q29udGV4dDtcbiAgICAgICAgICBhOiBmb3IgKDsgbnVsbCAhPT0gbGlzdDsgKSB7XG4gICAgICAgICAgICB2YXIgZGVwZW5kZW5jeSA9IGxpc3Q7XG4gICAgICAgICAgICBsaXN0ID0gZmliZXI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbnRleHRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICBpZiAoZGVwZW5kZW5jeS5jb250ZXh0ID09PSBjb250ZXh0c1tpXSkge1xuICAgICAgICAgICAgICAgIGxpc3QubGFuZXMgfD0gcmVuZGVyTGFuZXM7XG4gICAgICAgICAgICAgICAgZGVwZW5kZW5jeSA9IGxpc3QuYWx0ZXJuYXRlO1xuICAgICAgICAgICAgICAgIG51bGwgIT09IGRlcGVuZGVuY3kgJiYgKGRlcGVuZGVuY3kubGFuZXMgfD0gcmVuZGVyTGFuZXMpO1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlQ29udGV4dFdvcmtPblBhcmVudFBhdGgoXG4gICAgICAgICAgICAgICAgICBsaXN0LnJldHVybixcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGZvcmNlUHJvcGFnYXRlRW50aXJlVHJlZSB8fCAobmV4dEZpYmVyID0gbnVsbCk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGlzdCA9IGRlcGVuZGVuY3kubmV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoMTggPT09IGZpYmVyLnRhZykge1xuICAgICAgICAgIG5leHRGaWJlciA9IGZpYmVyLnJldHVybjtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gbmV4dEZpYmVyKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiV2UganVzdCBjYW1lIGZyb20gYSBwYXJlbnQgc28gd2UgbXVzdCBoYXZlIGhhZCBhIHBhcmVudC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBuZXh0RmliZXIubGFuZXMgfD0gcmVuZGVyTGFuZXM7XG4gICAgICAgICAgbGlzdCA9IG5leHRGaWJlci5hbHRlcm5hdGU7XG4gICAgICAgICAgbnVsbCAhPT0gbGlzdCAmJiAobGlzdC5sYW5lcyB8PSByZW5kZXJMYW5lcyk7XG4gICAgICAgICAgc2NoZWR1bGVDb250ZXh0V29ya09uUGFyZW50UGF0aChcbiAgICAgICAgICAgIG5leHRGaWJlcixcbiAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApO1xuICAgICAgICAgIG5leHRGaWJlciA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBuZXh0RmliZXIgPSBmaWJlci5jaGlsZDtcbiAgICAgICAgaWYgKG51bGwgIT09IG5leHRGaWJlcikgbmV4dEZpYmVyLnJldHVybiA9IGZpYmVyO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZm9yIChuZXh0RmliZXIgPSBmaWJlcjsgbnVsbCAhPT0gbmV4dEZpYmVyOyApIHtcbiAgICAgICAgICAgIGlmIChuZXh0RmliZXIgPT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgICAgICAgIG5leHRGaWJlciA9IG51bGw7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmliZXIgPSBuZXh0RmliZXIuc2libGluZztcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBmaWJlcikge1xuICAgICAgICAgICAgICBmaWJlci5yZXR1cm4gPSBuZXh0RmliZXIucmV0dXJuO1xuICAgICAgICAgICAgICBuZXh0RmliZXIgPSBmaWJlcjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0RmliZXIgPSBuZXh0RmliZXIucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgZmliZXIgPSBuZXh0RmliZXI7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BhZ2F0ZVBhcmVudENvbnRleHRDaGFuZ2VzKFxuICAgICAgY3VycmVudCxcbiAgICAgIHdvcmtJblByb2dyZXNzLFxuICAgICAgcmVuZGVyTGFuZXMsXG4gICAgICBmb3JjZVByb3BhZ2F0ZUVudGlyZVRyZWVcbiAgICApIHtcbiAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIHBhcmVudCA9IHdvcmtJblByb2dyZXNzLCBpc0luc2lkZVByb3BhZ2F0aW9uQmFpbG91dCA9ICExO1xuICAgICAgICBudWxsICE9PSBwYXJlbnQ7XG5cbiAgICAgICkge1xuICAgICAgICBpZiAoIWlzSW5zaWRlUHJvcGFnYXRpb25CYWlsb3V0KVxuICAgICAgICAgIGlmICgwICE9PSAocGFyZW50LmZsYWdzICYgNTI0Mjg4KSkgaXNJbnNpZGVQcm9wYWdhdGlvbkJhaWxvdXQgPSAhMDtcbiAgICAgICAgICBlbHNlIGlmICgwICE9PSAocGFyZW50LmZsYWdzICYgMjYyMTQ0KSkgYnJlYWs7XG4gICAgICAgIGlmICgxMCA9PT0gcGFyZW50LnRhZykge1xuICAgICAgICAgIHZhciBjdXJyZW50UGFyZW50ID0gcGFyZW50LmFsdGVybmF0ZTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudFBhcmVudClcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2hvdWxkIGhhdmUgYSBjdXJyZW50IGZpYmVyLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiKTtcbiAgICAgICAgICBjdXJyZW50UGFyZW50ID0gY3VycmVudFBhcmVudC5tZW1vaXplZFByb3BzO1xuICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50UGFyZW50KSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHBhcmVudC50eXBlO1xuICAgICAgICAgICAgb2JqZWN0SXMocGFyZW50LnBlbmRpbmdQcm9wcy52YWx1ZSwgY3VycmVudFBhcmVudC52YWx1ZSkgfHxcbiAgICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnRcbiAgICAgICAgICAgICAgICA/IGN1cnJlbnQucHVzaChjb250ZXh0KVxuICAgICAgICAgICAgICAgIDogKGN1cnJlbnQgPSBbY29udGV4dF0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocGFyZW50ID09PSBob3N0VHJhbnNpdGlvblByb3ZpZGVyQ3Vyc29yLmN1cnJlbnQpIHtcbiAgICAgICAgICBjdXJyZW50UGFyZW50ID0gcGFyZW50LmFsdGVybmF0ZTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudFBhcmVudClcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiU2hvdWxkIGhhdmUgYSBjdXJyZW50IGZpYmVyLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiKTtcbiAgICAgICAgICBjdXJyZW50UGFyZW50Lm1lbW9pemVkU3RhdGUubWVtb2l6ZWRTdGF0ZSAhPT1cbiAgICAgICAgICAgIHBhcmVudC5tZW1vaXplZFN0YXRlLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50XG4gICAgICAgICAgICAgID8gY3VycmVudC5wdXNoKEhvc3RUcmFuc2l0aW9uQ29udGV4dClcbiAgICAgICAgICAgICAgOiAoY3VycmVudCA9IFtIb3N0VHJhbnNpdGlvbkNvbnRleHRdKSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnJldHVybjtcbiAgICAgIH1cbiAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgcHJvcGFnYXRlQ29udGV4dENoYW5nZXMoXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICByZW5kZXJMYW5lcyxcbiAgICAgICAgICBmb3JjZVByb3BhZ2F0ZUVudGlyZVRyZWVcbiAgICAgICAgKTtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDI2MjE0NDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tJZkNvbnRleHRDaGFuZ2VkKGN1cnJlbnREZXBlbmRlbmNpZXMpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIGN1cnJlbnREZXBlbmRlbmNpZXMgPSBjdXJyZW50RGVwZW5kZW5jaWVzLmZpcnN0Q29udGV4dDtcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudERlcGVuZGVuY2llcztcblxuICAgICAgKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhb2JqZWN0SXMoXG4gICAgICAgICAgICBjdXJyZW50RGVwZW5kZW5jaWVzLmNvbnRleHQuX2N1cnJlbnRWYWx1ZSxcbiAgICAgICAgICAgIGN1cnJlbnREZXBlbmRlbmNpZXMubWVtb2l6ZWRWYWx1ZVxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY3VycmVudERlcGVuZGVuY2llcyA9IGN1cnJlbnREZXBlbmRlbmNpZXMubmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlcGFyZVRvUmVhZENvbnRleHQod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICBsYXN0Q29udGV4dERlcGVuZGVuY3kgPSBudWxsO1xuICAgICAgd29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzcy5kZXBlbmRlbmNpZXM7XG4gICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcyAmJiAod29ya0luUHJvZ3Jlc3MuZmlyc3RDb250ZXh0ID0gbnVsbCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRDb250ZXh0KGNvbnRleHQpIHtcbiAgICAgIGlzRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkNvbnRleHQgY2FuIG9ubHkgYmUgcmVhZCB3aGlsZSBSZWFjdCBpcyByZW5kZXJpbmcuIEluIGNsYXNzZXMsIHlvdSBjYW4gcmVhZCBpdCBpbiB0aGUgcmVuZGVyIG1ldGhvZCBvciBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuIEluIGZ1bmN0aW9uIGNvbXBvbmVudHMsIHlvdSBjYW4gcmVhZCBpdCBkaXJlY3RseSBpbiB0aGUgZnVuY3Rpb24gYm9keSwgYnV0IG5vdCBpbnNpZGUgSG9va3MgbGlrZSB1c2VSZWR1Y2VyKCkgb3IgdXNlTWVtbygpLlwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gcmVhZENvbnRleHRGb3JDb25zdW1lcihjdXJyZW50bHlSZW5kZXJpbmdGaWJlciwgY29udGV4dCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYWRDb250ZXh0RHVyaW5nUmVjb25jaWxpYXRpb24oY29uc3VtZXIsIGNvbnRleHQpIHtcbiAgICAgIG51bGwgPT09IGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyICYmIHByZXBhcmVUb1JlYWRDb250ZXh0KGNvbnN1bWVyKTtcbiAgICAgIHJldHVybiByZWFkQ29udGV4dEZvckNvbnN1bWVyKGNvbnN1bWVyLCBjb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVhZENvbnRleHRGb3JDb25zdW1lcihjb25zdW1lciwgY29udGV4dCkge1xuICAgICAgdmFyIHZhbHVlID0gY29udGV4dC5fY3VycmVudFZhbHVlO1xuICAgICAgY29udGV4dCA9IHsgY29udGV4dDogY29udGV4dCwgbWVtb2l6ZWRWYWx1ZTogdmFsdWUsIG5leHQ6IG51bGwgfTtcbiAgICAgIGlmIChudWxsID09PSBsYXN0Q29udGV4dERlcGVuZGVuY3kpIHtcbiAgICAgICAgaWYgKG51bGwgPT09IGNvbnN1bWVyKVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJDb250ZXh0IGNhbiBvbmx5IGJlIHJlYWQgd2hpbGUgUmVhY3QgaXMgcmVuZGVyaW5nLiBJbiBjbGFzc2VzLCB5b3UgY2FuIHJlYWQgaXQgaW4gdGhlIHJlbmRlciBtZXRob2Qgb3IgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiBJbiBmdW5jdGlvbiBjb21wb25lbnRzLCB5b3UgY2FuIHJlYWQgaXQgZGlyZWN0bHkgaW4gdGhlIGZ1bmN0aW9uIGJvZHksIGJ1dCBub3QgaW5zaWRlIEhvb2tzIGxpa2UgdXNlUmVkdWNlcigpIG9yIHVzZU1lbW8oKS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIGxhc3RDb250ZXh0RGVwZW5kZW5jeSA9IGNvbnRleHQ7XG4gICAgICAgIGNvbnN1bWVyLmRlcGVuZGVuY2llcyA9IHtcbiAgICAgICAgICBsYW5lczogMCxcbiAgICAgICAgICBmaXJzdENvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgX2RlYnVnVGhlbmFibGVTdGF0ZTogbnVsbFxuICAgICAgICB9O1xuICAgICAgICBjb25zdW1lci5mbGFncyB8PSA1MjQyODg7XG4gICAgICB9IGVsc2UgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gbGFzdENvbnRleHREZXBlbmRlbmN5Lm5leHQgPSBjb250ZXh0O1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0aWFsaXplVXBkYXRlUXVldWUoZmliZXIpIHtcbiAgICAgIGZpYmVyLnVwZGF0ZVF1ZXVlID0ge1xuICAgICAgICBiYXNlU3RhdGU6IGZpYmVyLm1lbW9pemVkU3RhdGUsXG4gICAgICAgIGZpcnN0QmFzZVVwZGF0ZTogbnVsbCxcbiAgICAgICAgbGFzdEJhc2VVcGRhdGU6IG51bGwsXG4gICAgICAgIHNoYXJlZDogeyBwZW5kaW5nOiBudWxsLCBsYW5lczogMCwgaGlkZGVuQ2FsbGJhY2tzOiBudWxsIH0sXG4gICAgICAgIGNhbGxiYWNrczogbnVsbFxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xvbmVVcGRhdGVRdWV1ZShjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcykge1xuICAgICAgY3VycmVudCA9IGN1cnJlbnQudXBkYXRlUXVldWU7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9PT0gY3VycmVudCAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSB7XG4gICAgICAgICAgYmFzZVN0YXRlOiBjdXJyZW50LmJhc2VTdGF0ZSxcbiAgICAgICAgICBmaXJzdEJhc2VVcGRhdGU6IGN1cnJlbnQuZmlyc3RCYXNlVXBkYXRlLFxuICAgICAgICAgIGxhc3RCYXNlVXBkYXRlOiBjdXJyZW50Lmxhc3RCYXNlVXBkYXRlLFxuICAgICAgICAgIHNoYXJlZDogY3VycmVudC5zaGFyZWQsXG4gICAgICAgICAgY2FsbGJhY2tzOiBudWxsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVVcGRhdGUobGFuZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFuZTogbGFuZSxcbiAgICAgICAgdGFnOiBVcGRhdGVTdGF0ZSxcbiAgICAgICAgcGF5bG9hZDogbnVsbCxcbiAgICAgICAgY2FsbGJhY2s6IG51bGwsXG4gICAgICAgIG5leHQ6IG51bGxcbiAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVucXVldWVVcGRhdGUoZmliZXIsIHVwZGF0ZSwgbGFuZSkge1xuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmliZXIudXBkYXRlUXVldWU7XG4gICAgICBpZiAobnVsbCA9PT0gdXBkYXRlUXVldWUpIHJldHVybiBudWxsO1xuICAgICAgdXBkYXRlUXVldWUgPSB1cGRhdGVRdWV1ZS5zaGFyZWQ7XG4gICAgICBpZiAoXG4gICAgICAgIGN1cnJlbnRseVByb2Nlc3NpbmdRdWV1ZSA9PT0gdXBkYXRlUXVldWUgJiZcbiAgICAgICAgIWRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGVcbiAgICAgICkge1xuICAgICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQW4gdXBkYXRlIChzZXRTdGF0ZSwgcmVwbGFjZVN0YXRlLCBvciBmb3JjZVVwZGF0ZSkgd2FzIHNjaGVkdWxlZCBmcm9tIGluc2lkZSBhbiB1cGRhdGUgZnVuY3Rpb24uIFVwZGF0ZSBmdW5jdGlvbnMgc2hvdWxkIGJlIHB1cmUsIHdpdGggemVybyBzaWRlLWVmZmVjdHMuIENvbnNpZGVyIHVzaW5nIGNvbXBvbmVudERpZFVwZGF0ZSBvciBhIGNhbGxiYWNrLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnQ6ICVzXCIsXG4gICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICApO1xuICAgICAgICBkaWRXYXJuVXBkYXRlSW5zaWRlVXBkYXRlID0gITA7XG4gICAgICB9XG4gICAgICBpZiAoKGV4ZWN1dGlvbkNvbnRleHQgJiBSZW5kZXJDb250ZXh0KSAhPT0gTm9Db250ZXh0KVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChjb21wb25lbnROYW1lID0gdXBkYXRlUXVldWUucGVuZGluZyksXG4gICAgICAgICAgbnVsbCA9PT0gY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgPyAodXBkYXRlLm5leHQgPSB1cGRhdGUpXG4gICAgICAgICAgICA6ICgodXBkYXRlLm5leHQgPSBjb21wb25lbnROYW1lLm5leHQpLFxuICAgICAgICAgICAgICAoY29tcG9uZW50TmFtZS5uZXh0ID0gdXBkYXRlKSksXG4gICAgICAgICAgKHVwZGF0ZVF1ZXVlLnBlbmRpbmcgPSB1cGRhdGUpLFxuICAgICAgICAgICh1cGRhdGUgPSBnZXRSb290Rm9yVXBkYXRlZEZpYmVyKGZpYmVyKSksXG4gICAgICAgICAgbWFya1VwZGF0ZUxhbmVGcm9tRmliZXJUb1Jvb3QoZmliZXIsIG51bGwsIGxhbmUpLFxuICAgICAgICAgIHVwZGF0ZVxuICAgICAgICApO1xuICAgICAgZW5xdWV1ZVVwZGF0ZSQxKGZpYmVyLCB1cGRhdGVRdWV1ZSwgdXBkYXRlLCBsYW5lKTtcbiAgICAgIHJldHVybiBnZXRSb290Rm9yVXBkYXRlZEZpYmVyKGZpYmVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW50YW5nbGVUcmFuc2l0aW9ucyhyb290LCBmaWJlciwgbGFuZSkge1xuICAgICAgZmliZXIgPSBmaWJlci51cGRhdGVRdWV1ZTtcbiAgICAgIGlmIChudWxsICE9PSBmaWJlciAmJiAoKGZpYmVyID0gZmliZXIuc2hhcmVkKSwgMCAhPT0gKGxhbmUgJiA0MTk0MTc2KSkpIHtcbiAgICAgICAgdmFyIHF1ZXVlTGFuZXMgPSBmaWJlci5sYW5lcztcbiAgICAgICAgcXVldWVMYW5lcyAmPSByb290LnBlbmRpbmdMYW5lcztcbiAgICAgICAgbGFuZSB8PSBxdWV1ZUxhbmVzO1xuICAgICAgICBmaWJlci5sYW5lcyA9IGxhbmU7XG4gICAgICAgIG1hcmtSb290RW50YW5nbGVkKHJvb3QsIGxhbmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBlbnF1ZXVlQ2FwdHVyZWRVcGRhdGUod29ya0luUHJvZ3Jlc3MsIGNhcHR1cmVkVXBkYXRlKSB7XG4gICAgICB2YXIgcXVldWUgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSxcbiAgICAgICAgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmFsdGVybmF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAoKGN1cnJlbnQgPSBjdXJyZW50LnVwZGF0ZVF1ZXVlKSwgcXVldWUgPT09IGN1cnJlbnQpXG4gICAgICApIHtcbiAgICAgICAgdmFyIG5ld0ZpcnN0ID0gbnVsbCxcbiAgICAgICAgICBuZXdMYXN0ID0gbnVsbDtcbiAgICAgICAgcXVldWUgPSBxdWV1ZS5maXJzdEJhc2VVcGRhdGU7XG4gICAgICAgIGlmIChudWxsICE9PSBxdWV1ZSkge1xuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIHZhciBjbG9uZSA9IHtcbiAgICAgICAgICAgICAgbGFuZTogcXVldWUubGFuZSxcbiAgICAgICAgICAgICAgdGFnOiBxdWV1ZS50YWcsXG4gICAgICAgICAgICAgIHBheWxvYWQ6IHF1ZXVlLnBheWxvYWQsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBudWxsLFxuICAgICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbnVsbCA9PT0gbmV3TGFzdFxuICAgICAgICAgICAgICA/IChuZXdGaXJzdCA9IG5ld0xhc3QgPSBjbG9uZSlcbiAgICAgICAgICAgICAgOiAobmV3TGFzdCA9IG5ld0xhc3QubmV4dCA9IGNsb25lKTtcbiAgICAgICAgICAgIHF1ZXVlID0gcXVldWUubmV4dDtcbiAgICAgICAgICB9IHdoaWxlIChudWxsICE9PSBxdWV1ZSk7XG4gICAgICAgICAgbnVsbCA9PT0gbmV3TGFzdFxuICAgICAgICAgICAgPyAobmV3Rmlyc3QgPSBuZXdMYXN0ID0gY2FwdHVyZWRVcGRhdGUpXG4gICAgICAgICAgICA6IChuZXdMYXN0ID0gbmV3TGFzdC5uZXh0ID0gY2FwdHVyZWRVcGRhdGUpO1xuICAgICAgICB9IGVsc2UgbmV3Rmlyc3QgPSBuZXdMYXN0ID0gY2FwdHVyZWRVcGRhdGU7XG4gICAgICAgIHF1ZXVlID0ge1xuICAgICAgICAgIGJhc2VTdGF0ZTogY3VycmVudC5iYXNlU3RhdGUsXG4gICAgICAgICAgZmlyc3RCYXNlVXBkYXRlOiBuZXdGaXJzdCxcbiAgICAgICAgICBsYXN0QmFzZVVwZGF0ZTogbmV3TGFzdCxcbiAgICAgICAgICBzaGFyZWQ6IGN1cnJlbnQuc2hhcmVkLFxuICAgICAgICAgIGNhbGxiYWNrczogY3VycmVudC5jYWxsYmFja3NcbiAgICAgICAgfTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd29ya0luUHJvZ3Jlc3MgPSBxdWV1ZS5sYXN0QmFzZVVwZGF0ZTtcbiAgICAgIG51bGwgPT09IHdvcmtJblByb2dyZXNzXG4gICAgICAgID8gKHF1ZXVlLmZpcnN0QmFzZVVwZGF0ZSA9IGNhcHR1cmVkVXBkYXRlKVxuICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcy5uZXh0ID0gY2FwdHVyZWRVcGRhdGUpO1xuICAgICAgcXVldWUubGFzdEJhc2VVcGRhdGUgPSBjYXB0dXJlZFVwZGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3VzcGVuZElmVXBkYXRlUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbigpIHtcbiAgICAgIGlmIChkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uKSB7XG4gICAgICAgIHZhciBlbnRhbmdsZWRBY3Rpb25UaGVuYWJsZSA9IGN1cnJlbnRFbnRhbmdsZWRBY3Rpb25UaGVuYWJsZTtcbiAgICAgICAgaWYgKG51bGwgIT09IGVudGFuZ2xlZEFjdGlvblRoZW5hYmxlKSB0aHJvdyBlbnRhbmdsZWRBY3Rpb25UaGVuYWJsZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJvY2Vzc1VwZGF0ZVF1ZXVlKFxuICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICBwcm9wcyxcbiAgICAgIGluc3RhbmNlJGpzY29tcCQwLFxuICAgICAgcmVuZGVyTGFuZXNcbiAgICApIHtcbiAgICAgIGRpZFJlYWRGcm9tRW50YW5nbGVkQXN5bmNBY3Rpb24gPSAhMTtcbiAgICAgIHZhciBxdWV1ZSA9IHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlO1xuICAgICAgaGFzRm9yY2VVcGRhdGUgPSAhMTtcbiAgICAgIGN1cnJlbnRseVByb2Nlc3NpbmdRdWV1ZSA9IHF1ZXVlLnNoYXJlZDtcbiAgICAgIHZhciBmaXJzdEJhc2VVcGRhdGUgPSBxdWV1ZS5maXJzdEJhc2VVcGRhdGUsXG4gICAgICAgIGxhc3RCYXNlVXBkYXRlID0gcXVldWUubGFzdEJhc2VVcGRhdGUsXG4gICAgICAgIHBlbmRpbmdRdWV1ZSA9IHF1ZXVlLnNoYXJlZC5wZW5kaW5nO1xuICAgICAgaWYgKG51bGwgIT09IHBlbmRpbmdRdWV1ZSkge1xuICAgICAgICBxdWV1ZS5zaGFyZWQucGVuZGluZyA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0UGVuZGluZ1VwZGF0ZSA9IHBlbmRpbmdRdWV1ZSxcbiAgICAgICAgICBmaXJzdFBlbmRpbmdVcGRhdGUgPSBsYXN0UGVuZGluZ1VwZGF0ZS5uZXh0O1xuICAgICAgICBsYXN0UGVuZGluZ1VwZGF0ZS5uZXh0ID0gbnVsbDtcbiAgICAgICAgbnVsbCA9PT0gbGFzdEJhc2VVcGRhdGVcbiAgICAgICAgICA/IChmaXJzdEJhc2VVcGRhdGUgPSBmaXJzdFBlbmRpbmdVcGRhdGUpXG4gICAgICAgICAgOiAobGFzdEJhc2VVcGRhdGUubmV4dCA9IGZpcnN0UGVuZGluZ1VwZGF0ZSk7XG4gICAgICAgIGxhc3RCYXNlVXBkYXRlID0gbGFzdFBlbmRpbmdVcGRhdGU7XG4gICAgICAgIHZhciBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MuYWx0ZXJuYXRlO1xuICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgKChjdXJyZW50ID0gY3VycmVudC51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgKHBlbmRpbmdRdWV1ZSA9IGN1cnJlbnQubGFzdEJhc2VVcGRhdGUpLFxuICAgICAgICAgIHBlbmRpbmdRdWV1ZSAhPT0gbGFzdEJhc2VVcGRhdGUgJiZcbiAgICAgICAgICAgIChudWxsID09PSBwZW5kaW5nUXVldWVcbiAgICAgICAgICAgICAgPyAoY3VycmVudC5maXJzdEJhc2VVcGRhdGUgPSBmaXJzdFBlbmRpbmdVcGRhdGUpXG4gICAgICAgICAgICAgIDogKHBlbmRpbmdRdWV1ZS5uZXh0ID0gZmlyc3RQZW5kaW5nVXBkYXRlKSxcbiAgICAgICAgICAgIChjdXJyZW50Lmxhc3RCYXNlVXBkYXRlID0gbGFzdFBlbmRpbmdVcGRhdGUpKSk7XG4gICAgICB9XG4gICAgICBpZiAobnVsbCAhPT0gZmlyc3RCYXNlVXBkYXRlKSB7XG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IHF1ZXVlLmJhc2VTdGF0ZTtcbiAgICAgICAgbGFzdEJhc2VVcGRhdGUgPSAwO1xuICAgICAgICBjdXJyZW50ID0gZmlyc3RQZW5kaW5nVXBkYXRlID0gbGFzdFBlbmRpbmdVcGRhdGUgPSBudWxsO1xuICAgICAgICBwZW5kaW5nUXVldWUgPSBmaXJzdEJhc2VVcGRhdGU7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICB2YXIgdXBkYXRlTGFuZSA9IHBlbmRpbmdRdWV1ZS5sYW5lICYgLTUzNjg3MDkxMyxcbiAgICAgICAgICAgIGlzSGlkZGVuVXBkYXRlID0gdXBkYXRlTGFuZSAhPT0gcGVuZGluZ1F1ZXVlLmxhbmU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgaXNIaWRkZW5VcGRhdGVcbiAgICAgICAgICAgICAgPyAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiB1cGRhdGVMYW5lKSA9PT0gdXBkYXRlTGFuZVxuICAgICAgICAgICAgICA6IChyZW5kZXJMYW5lcyAmIHVwZGF0ZUxhbmUpID09PSB1cGRhdGVMYW5lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICAwICE9PSB1cGRhdGVMYW5lICYmXG4gICAgICAgICAgICAgIHVwZGF0ZUxhbmUgPT09IGN1cnJlbnRFbnRhbmdsZWRMYW5lICYmXG4gICAgICAgICAgICAgIChkaWRSZWFkRnJvbUVudGFuZ2xlZEFzeW5jQWN0aW9uID0gITApO1xuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICAoY3VycmVudCA9IGN1cnJlbnQubmV4dCA9XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgbGFuZTogMCxcbiAgICAgICAgICAgICAgICAgIHRhZzogcGVuZGluZ1F1ZXVlLnRhZyxcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBlbmRpbmdRdWV1ZS5wYXlsb2FkLFxuICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IG51bGwsXG4gICAgICAgICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgIHVwZGF0ZUxhbmUgPSB3b3JrSW5Qcm9ncmVzcztcbiAgICAgICAgICAgICAgdmFyIHBhcnRpYWxTdGF0ZSA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgICAgICAgICAgdmFyIG5leHRQcm9wcyA9IHByb3BzLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gaW5zdGFuY2UkanNjb21wJDA7XG4gICAgICAgICAgICAgIHN3aXRjaCAocGFydGlhbFN0YXRlLnRhZykge1xuICAgICAgICAgICAgICAgIGNhc2UgUmVwbGFjZVN0YXRlOlxuICAgICAgICAgICAgICAgICAgcGFydGlhbFN0YXRlID0gcGFydGlhbFN0YXRlLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcGFydGlhbFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRTdGF0ZSA9IHBhcnRpYWxTdGF0ZS5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAodXBkYXRlTGFuZS5tb2RlICYgU3RyaWN0TGVnYWN5TW9kZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFydGlhbFN0YXRlLmNhbGwoaW5zdGFuY2UsIG5ld1N0YXRlLCBuZXh0UHJvcHMpO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1N0cmljdE1vZGVGb3JEZXZ0b29scyghMSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlzRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYgPSAhMTtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IHBhcnRpYWxTdGF0ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgY2FzZSBDYXB0dXJlVXBkYXRlOlxuICAgICAgICAgICAgICAgICAgdXBkYXRlTGFuZS5mbGFncyA9ICh1cGRhdGVMYW5lLmZsYWdzICYgLTY1NTM3KSB8IDEyODtcbiAgICAgICAgICAgICAgICBjYXNlIFVwZGF0ZVN0YXRlOlxuICAgICAgICAgICAgICAgICAgbmV4dFN0YXRlID0gcGFydGlhbFN0YXRlLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgbmV4dFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgcGFydGlhbFN0YXRlID0gbmV4dFN0YXRlLmNhbGwoXG4gICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGRhdGVMYW5lLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITApO1xuICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0U3RhdGUuY2FsbChpbnN0YW5jZSwgbmV3U3RhdGUsIG5leHRQcm9wcyk7XG4gICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCExKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaXNEaXNhbGxvd2VkQ29udGV4dFJlYWRJbkRFViA9ICExO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHBhcnRpYWxTdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBwYXJ0aWFsU3RhdGUgfHwgdm9pZCAwID09PSBwYXJ0aWFsU3RhdGUpIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICBuZXdTdGF0ZSA9IGFzc2lnbih7fSwgbmV3U3RhdGUsIHBhcnRpYWxTdGF0ZSk7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgRm9yY2VVcGRhdGU6XG4gICAgICAgICAgICAgICAgICBoYXNGb3JjZVVwZGF0ZSA9ICEwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVMYW5lID0gcGVuZGluZ1F1ZXVlLmNhbGxiYWNrO1xuICAgICAgICAgICAgbnVsbCAhPT0gdXBkYXRlTGFuZSAmJlxuICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDY0KSxcbiAgICAgICAgICAgICAgaXNIaWRkZW5VcGRhdGUgJiYgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDgxOTIpLFxuICAgICAgICAgICAgICAoaXNIaWRkZW5VcGRhdGUgPSBxdWV1ZS5jYWxsYmFja3MpLFxuICAgICAgICAgICAgICBudWxsID09PSBpc0hpZGRlblVwZGF0ZVxuICAgICAgICAgICAgICAgID8gKHF1ZXVlLmNhbGxiYWNrcyA9IFt1cGRhdGVMYW5lXSlcbiAgICAgICAgICAgICAgICA6IGlzSGlkZGVuVXBkYXRlLnB1c2godXBkYXRlTGFuZSkpO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgKGlzSGlkZGVuVXBkYXRlID0ge1xuICAgICAgICAgICAgICBsYW5lOiB1cGRhdGVMYW5lLFxuICAgICAgICAgICAgICB0YWc6IHBlbmRpbmdRdWV1ZS50YWcsXG4gICAgICAgICAgICAgIHBheWxvYWQ6IHBlbmRpbmdRdWV1ZS5wYXlsb2FkLFxuICAgICAgICAgICAgICBjYWxsYmFjazogcGVuZGluZ1F1ZXVlLmNhbGxiYWNrLFxuICAgICAgICAgICAgICBuZXh0OiBudWxsXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgICAgICAgID8gKChmaXJzdFBlbmRpbmdVcGRhdGUgPSBjdXJyZW50ID0gaXNIaWRkZW5VcGRhdGUpLFxuICAgICAgICAgICAgICAgICAgKGxhc3RQZW5kaW5nVXBkYXRlID0gbmV3U3RhdGUpKVxuICAgICAgICAgICAgICAgIDogKGN1cnJlbnQgPSBjdXJyZW50Lm5leHQgPSBpc0hpZGRlblVwZGF0ZSksXG4gICAgICAgICAgICAgIChsYXN0QmFzZVVwZGF0ZSB8PSB1cGRhdGVMYW5lKTtcbiAgICAgICAgICBwZW5kaW5nUXVldWUgPSBwZW5kaW5nUXVldWUubmV4dDtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gcGVuZGluZ1F1ZXVlKVxuICAgICAgICAgICAgaWYgKCgocGVuZGluZ1F1ZXVlID0gcXVldWUuc2hhcmVkLnBlbmRpbmcpLCBudWxsID09PSBwZW5kaW5nUXVldWUpKVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgKGlzSGlkZGVuVXBkYXRlID0gcGVuZGluZ1F1ZXVlKSxcbiAgICAgICAgICAgICAgICAocGVuZGluZ1F1ZXVlID0gaXNIaWRkZW5VcGRhdGUubmV4dCksXG4gICAgICAgICAgICAgICAgKGlzSGlkZGVuVXBkYXRlLm5leHQgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAocXVldWUubGFzdEJhc2VVcGRhdGUgPSBpc0hpZGRlblVwZGF0ZSksXG4gICAgICAgICAgICAgICAgKHF1ZXVlLnNoYXJlZC5wZW5kaW5nID0gbnVsbCk7XG4gICAgICAgIH0gd2hpbGUgKDEpO1xuICAgICAgICBudWxsID09PSBjdXJyZW50ICYmIChsYXN0UGVuZGluZ1VwZGF0ZSA9IG5ld1N0YXRlKTtcbiAgICAgICAgcXVldWUuYmFzZVN0YXRlID0gbGFzdFBlbmRpbmdVcGRhdGU7XG4gICAgICAgIHF1ZXVlLmZpcnN0QmFzZVVwZGF0ZSA9IGZpcnN0UGVuZGluZ1VwZGF0ZTtcbiAgICAgICAgcXVldWUubGFzdEJhc2VVcGRhdGUgPSBjdXJyZW50O1xuICAgICAgICBudWxsID09PSBmaXJzdEJhc2VVcGRhdGUgJiYgKHF1ZXVlLnNoYXJlZC5sYW5lcyA9IDApO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RTa2lwcGVkTGFuZXMgfD0gbGFzdEJhc2VVcGRhdGU7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLmxhbmVzID0gbGFzdEJhc2VVcGRhdGU7XG4gICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRseVByb2Nlc3NpbmdRdWV1ZSA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGxDYWxsYmFjayhjYWxsYmFjaywgY29udGV4dCkge1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGNhbGxiYWNrKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkludmFsaWQgYXJndW1lbnQgcGFzc2VkIGFzIGNhbGxiYWNrLiBFeHBlY3RlZCBhIGZ1bmN0aW9uLiBJbnN0ZWFkIHJlY2VpdmVkOiBcIiArXG4gICAgICAgICAgICBjYWxsYmFja1xuICAgICAgICApO1xuICAgICAgY2FsbGJhY2suY2FsbChjb250ZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SGlkZGVuQ2FsbGJhY2tzKHVwZGF0ZVF1ZXVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgaGlkZGVuQ2FsbGJhY2tzID0gdXBkYXRlUXVldWUuc2hhcmVkLmhpZGRlbkNhbGxiYWNrcztcbiAgICAgIGlmIChudWxsICE9PSBoaWRkZW5DYWxsYmFja3MpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdXBkYXRlUXVldWUuc2hhcmVkLmhpZGRlbkNhbGxiYWNrcyA9IG51bGwsIHVwZGF0ZVF1ZXVlID0gMDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSA8IGhpZGRlbkNhbGxiYWNrcy5sZW5ndGg7XG4gICAgICAgICAgdXBkYXRlUXVldWUrK1xuICAgICAgICApXG4gICAgICAgICAgY2FsbENhbGxiYWNrKGhpZGRlbkNhbGxiYWNrc1t1cGRhdGVRdWV1ZV0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRDYWxsYmFja3ModXBkYXRlUXVldWUsIGNvbnRleHQpIHtcbiAgICAgIHZhciBjYWxsYmFja3MgPSB1cGRhdGVRdWV1ZS5jYWxsYmFja3M7XG4gICAgICBpZiAobnVsbCAhPT0gY2FsbGJhY2tzKVxuICAgICAgICBmb3IgKFxuICAgICAgICAgIHVwZGF0ZVF1ZXVlLmNhbGxiYWNrcyA9IG51bGwsIHVwZGF0ZVF1ZXVlID0gMDtcbiAgICAgICAgICB1cGRhdGVRdWV1ZSA8IGNhbGxiYWNrcy5sZW5ndGg7XG4gICAgICAgICAgdXBkYXRlUXVldWUrK1xuICAgICAgICApXG4gICAgICAgICAgY2FsbENhbGxiYWNrKGNhbGxiYWNrc1t1cGRhdGVRdWV1ZV0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRQcm9maWxlKGN1cnJlbnQpIHtcbiAgICAgIHJldHVybiAoY3VycmVudC5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvb2tMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaywgaG9va0ZsYWdzKSB7XG4gICAgICBzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaylcbiAgICAgICAgPyAoc3RhcnRFZmZlY3RUaW1lcigpLFxuICAgICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0TW91bnQoaG9va0ZsYWdzLCBmaW5pc2hlZFdvcmspLFxuICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgIDogY29tbWl0SG9va0VmZmVjdExpc3RNb3VudChob29rRmxhZ3MsIGZpbmlzaGVkV29yayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvb2tMYXlvdXRVbm1vdW50RWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICBob29rRmxhZ3NcbiAgICApIHtcbiAgICAgIHNob3VsZFByb2ZpbGUoZmluaXNoZWRXb3JrKVxuICAgICAgICA/IChzdGFydEVmZmVjdFRpbWVyKCksXG4gICAgICAgICAgY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgICAgICAgaG9va0ZsYWdzLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICAgICAgICksXG4gICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgOiBjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICBob29rRmxhZ3MsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9va0VmZmVjdExpc3RNb3VudChmbGFncywgZmluaXNoZWRXb3JrKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgdXBkYXRlUXVldWUgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUsXG4gICAgICAgICAgbGFzdEVmZmVjdCA9IG51bGwgIT09IHVwZGF0ZVF1ZXVlID8gdXBkYXRlUXVldWUubGFzdEVmZmVjdCA6IG51bGw7XG4gICAgICAgIGlmIChudWxsICE9PSBsYXN0RWZmZWN0KSB7XG4gICAgICAgICAgdmFyIGZpcnN0RWZmZWN0ID0gbGFzdEVmZmVjdC5uZXh0O1xuICAgICAgICAgIHVwZGF0ZVF1ZXVlID0gZmlyc3RFZmZlY3Q7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAodXBkYXRlUXVldWUudGFnICYgZmxhZ3MpID09PSBmbGFncyAmJlxuICAgICAgICAgICAgICAoKGZsYWdzICYgUGFzc2l2ZSkgIT09IE5vRmxhZ3NcbiAgICAgICAgICAgICAgICA/IG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RNb3VudFN0YXJ0ZWQgJiZcbiAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RNb3VudFN0YXJ0ZWQoXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogKGZsYWdzICYgTGF5b3V0KSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0TW91bnRTdGFydGVkICYmXG4gICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RNb3VudFN0YXJ0ZWQoXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgKGxhc3RFZmZlY3QgPSB2b2lkIDApLFxuICAgICAgICAgICAgICAoZmxhZ3MgJiBJbnNlcnRpb24pICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgKGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCA9ICEwKSxcbiAgICAgICAgICAgICAgKGxhc3RFZmZlY3QgPSBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY2FsbENyZWF0ZUluREVWLFxuICAgICAgICAgICAgICAgIHVwZGF0ZVF1ZXVlXG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAoZmxhZ3MgJiBJbnNlcnRpb24pICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgKGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCA9ICExKSxcbiAgICAgICAgICAgICAgKGZsYWdzICYgUGFzc2l2ZSkgIT09IE5vRmxhZ3NcbiAgICAgICAgICAgICAgICA/IG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RNb3VudFN0b3BwZWQgJiZcbiAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RNb3VudFN0b3BwZWQoKVxuICAgICAgICAgICAgICAgIDogKGZsYWdzICYgTGF5b3V0KSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0TW91bnRTdG9wcGVkICYmXG4gICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RNb3VudFN0b3BwZWQoKSxcbiAgICAgICAgICAgICAgdm9pZCAwICE9PSBsYXN0RWZmZWN0ICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIGxhc3RFZmZlY3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdmFyIGhvb2tOYW1lID0gdm9pZCAwO1xuICAgICAgICAgICAgICBob29rTmFtZSA9XG4gICAgICAgICAgICAgICAgMCAhPT0gKHVwZGF0ZVF1ZXVlLnRhZyAmIExheW91dClcbiAgICAgICAgICAgICAgICAgID8gXCJ1c2VMYXlvdXRFZmZlY3RcIlxuICAgICAgICAgICAgICAgICAgOiAwICE9PSAodXBkYXRlUXVldWUudGFnICYgSW5zZXJ0aW9uKVxuICAgICAgICAgICAgICAgICAgICA/IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCJcbiAgICAgICAgICAgICAgICAgICAgOiBcInVzZUVmZmVjdFwiO1xuICAgICAgICAgICAgICB2YXIgYWRkZW5kdW0gPSB2b2lkIDA7XG4gICAgICAgICAgICAgIGFkZGVuZHVtID1cbiAgICAgICAgICAgICAgICBudWxsID09PSBsYXN0RWZmZWN0XG4gICAgICAgICAgICAgICAgICA/IFwiIFlvdSByZXR1cm5lZCBudWxsLiBJZiB5b3VyIGVmZmVjdCBkb2VzIG5vdCByZXF1aXJlIGNsZWFuIHVwLCByZXR1cm4gdW5kZWZpbmVkIChvciBub3RoaW5nKS5cIlxuICAgICAgICAgICAgICAgICAgOiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBsYXN0RWZmZWN0LnRoZW5cbiAgICAgICAgICAgICAgICAgICAgPyBcIlxcblxcbkl0IGxvb2tzIGxpa2UgeW91IHdyb3RlIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICBob29rTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICAgXCIoYXN5bmMgKCkgPT4gLi4uKSBvciByZXR1cm5lZCBhIFByb21pc2UuIEluc3RlYWQsIHdyaXRlIHRoZSBhc3luYyBmdW5jdGlvbiBpbnNpZGUgeW91ciBlZmZlY3QgYW5kIGNhbGwgaXQgaW1tZWRpYXRlbHk6XFxuXFxuXCIgK1xuICAgICAgICAgICAgICAgICAgICAgIGhvb2tOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICBcIigoKSA9PiB7XFxuICBhc3luYyBmdW5jdGlvbiBmZXRjaERhdGEoKSB7XFxuICAgIC8vIFlvdSBjYW4gYXdhaXQgaGVyZVxcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IE15QVBJLmdldERhdGEoc29tZUlkKTtcXG4gICAgLy8gLi4uXFxuICB9XFxuICBmZXRjaERhdGEoKTtcXG59LCBbc29tZUlkXSk7IC8vIE9yIFtdIGlmIGVmZmVjdCBkb2Vzbid0IG5lZWQgcHJvcHMgb3Igc3RhdGVcXG5cXG5MZWFybiBtb3JlIGFib3V0IGRhdGEgZmV0Y2hpbmcgd2l0aCBIb29rczogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9ob29rcy1kYXRhLWZldGNoaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgOiBcIiBZb3UgcmV0dXJuZWQ6IFwiICsgbGFzdEVmZmVjdDtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChuLCBhKSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIiVzIG11c3Qgbm90IHJldHVybiBhbnl0aGluZyBiZXNpZGVzIGEgZnVuY3Rpb24sIHdoaWNoIGlzIHVzZWQgZm9yIGNsZWFuLXVwLiVzXCIsXG4gICAgICAgICAgICAgICAgICAgIG4sXG4gICAgICAgICAgICAgICAgICAgIGFcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBob29rTmFtZSxcbiAgICAgICAgICAgICAgICBhZGRlbmR1bVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdXBkYXRlUXVldWUgPSB1cGRhdGVRdWV1ZS5uZXh0O1xuICAgICAgICAgIH0gd2hpbGUgKHVwZGF0ZVF1ZXVlICE9PSBmaXJzdEVmZmVjdCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICBmbGFncyxcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICApIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB1cGRhdGVRdWV1ZSA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSxcbiAgICAgICAgICBsYXN0RWZmZWN0ID0gbnVsbCAhPT0gdXBkYXRlUXVldWUgPyB1cGRhdGVRdWV1ZS5sYXN0RWZmZWN0IDogbnVsbDtcbiAgICAgICAgaWYgKG51bGwgIT09IGxhc3RFZmZlY3QpIHtcbiAgICAgICAgICB2YXIgZmlyc3RFZmZlY3QgPSBsYXN0RWZmZWN0Lm5leHQ7XG4gICAgICAgICAgdXBkYXRlUXVldWUgPSBmaXJzdEVmZmVjdDtcbiAgICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoKHVwZGF0ZVF1ZXVlLnRhZyAmIGZsYWdzKSA9PT0gZmxhZ3MpIHtcbiAgICAgICAgICAgICAgdmFyIGluc3QgPSB1cGRhdGVRdWV1ZS5pbnN0LFxuICAgICAgICAgICAgICAgIGRlc3Ryb3kgPSBpbnN0LmRlc3Ryb3k7XG4gICAgICAgICAgICAgIHZvaWQgMCAhPT0gZGVzdHJveSAmJlxuICAgICAgICAgICAgICAgICgoaW5zdC5kZXN0cm95ID0gdm9pZCAwKSxcbiAgICAgICAgICAgICAgICAoZmxhZ3MgJiBQYXNzaXZlKSAhPT0gTm9GbGFnc1xuICAgICAgICAgICAgICAgICAgPyBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdFVubW91bnRTdGFydGVkICYmXG4gICAgICAgICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFBhc3NpdmVFZmZlY3RVbm1vdW50U3RhcnRlZChcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgOiAoZmxhZ3MgJiBMYXlvdXQpICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RVbm1vdW50U3RhcnRlZCAmJlxuICAgICAgICAgICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRMYXlvdXRFZmZlY3RVbm1vdW50U3RhcnRlZChcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAoZmxhZ3MgJiBJbnNlcnRpb24pICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgICAoaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ID0gITApLFxuICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgY2FsbERlc3Ryb3lJbkRFVixcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgICAgICBkZXN0cm95XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAoZmxhZ3MgJiBJbnNlcnRpb24pICE9PSBOb0ZsYWdzICYmXG4gICAgICAgICAgICAgICAgICAoaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ID0gITEpLFxuICAgICAgICAgICAgICAgIChmbGFncyAmIFBhc3NpdmUpICE9PSBOb0ZsYWdzXG4gICAgICAgICAgICAgICAgICA/IG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRQYXNzaXZlRWZmZWN0VW5tb3VudFN0b3BwZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50UGFzc2l2ZUVmZmVjdFVubW91bnRTdG9wcGVkKClcbiAgICAgICAgICAgICAgICAgIDogKGZsYWdzICYgTGF5b3V0KSAhPT0gTm9GbGFncyAmJlxuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0VW5tb3VudFN0b3BwZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50TGF5b3V0RWZmZWN0VW5tb3VudFN0b3BwZWQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGVRdWV1ZSA9IHVwZGF0ZVF1ZXVlLm5leHQ7XG4gICAgICAgICAgfSB3aGlsZSAodXBkYXRlUXVldWUgIT09IGZpcnN0RWZmZWN0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvb2tQYXNzaXZlTW91bnRFZmZlY3RzKGZpbmlzaGVkV29yaywgaG9va0ZsYWdzKSB7XG4gICAgICBzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaylcbiAgICAgICAgPyAoc3RhcnRFZmZlY3RUaW1lcigpLFxuICAgICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0TW91bnQoaG9va0ZsYWdzLCBmaW5pc2hlZFdvcmspLFxuICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgIDogY29tbWl0SG9va0VmZmVjdExpc3RNb3VudChob29rRmxhZ3MsIGZpbmlzaGVkV29yayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEhvb2tQYXNzaXZlVW5tb3VudEVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgaG9va0ZsYWdzXG4gICAgKSB7XG4gICAgICBzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaylcbiAgICAgICAgPyAoc3RhcnRFZmZlY3RUaW1lcigpLFxuICAgICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0VW5tb3VudChcbiAgICAgICAgICAgIGhvb2tGbGFncyxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICAgICAgICApLFxuICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCkpXG4gICAgICAgIDogY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgICAgICAgaG9va0ZsYWdzLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvclxuICAgICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdENsYXNzQ2FsbGJhY2tzKGZpbmlzaGVkV29yaykge1xuICAgICAgdmFyIHVwZGF0ZVF1ZXVlID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgaWYgKG51bGwgIT09IHVwZGF0ZVF1ZXVlKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgIGZpbmlzaGVkV29yay50eXBlLmRlZmF1bHRQcm9wcyB8fFxuICAgICAgICAgIFwicmVmXCIgaW4gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgfHxcbiAgICAgICAgICBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzIHx8XG4gICAgICAgICAgKGluc3RhbmNlLnByb3BzICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBwcm9wcyB0byBtYXRjaCBtZW1vaXplZCBwcm9wcyBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgdXBkYXRlIHF1ZXVlLiBUaGlzIG1pZ2h0IGVpdGhlciBiZSBiZWNhdXNlIG9mIGEgYnVnIGluIFJlYWN0LCBvciBiZWNhdXNlIGEgY29tcG9uZW50IHJlYXNzaWducyBpdHMgb3duIGB0aGlzLnByb3BzYC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCIsXG4gICAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgaW5zdGFuY2Uuc3RhdGUgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHN0YXRlIHRvIG1hdGNoIG1lbW9pemVkIHN0YXRlIGJlZm9yZSBwcm9jZXNzaW5nIHRoZSB1cGRhdGUgcXVldWUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMuc3RhdGVgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgKSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXRDYWxsYmFja3MsXG4gICAgICAgICAgICB1cGRhdGVRdWV1ZSxcbiAgICAgICAgICAgIGluc3RhbmNlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsR2V0U25hcHNob3RCZWZvcmVVcGRhdGVzKGluc3RhbmNlLCBwcmV2UHJvcHMsIHByZXZTdGF0ZSkge1xuICAgICAgcmV0dXJuIGluc3RhbmNlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Q2xhc3NTbmFwc2hvdChmaW5pc2hlZFdvcmssIGN1cnJlbnQpIHtcbiAgICAgIHZhciBwcmV2UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkUHJvcHMsXG4gICAgICAgIHByZXZTdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgZmluaXNoZWRXb3JrLnR5cGUuZGVmYXVsdFByb3BzIHx8XG4gICAgICAgIFwicmVmXCIgaW4gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgfHxcbiAgICAgICAgZGlkV2FybkFib3V0UmVhc3NpZ25pbmdQcm9wcyB8fFxuICAgICAgICAoY3VycmVudC5wcm9wcyAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBwcm9wcyB0byBtYXRjaCBtZW1vaXplZCBwcm9wcyBiZWZvcmUgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMucHJvcHNgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmluaXNoZWRXb3JrKSB8fCBcImluc3RhbmNlXCJcbiAgICAgICAgICApLFxuICAgICAgICBjdXJyZW50LnN0YXRlICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkICVzIHN0YXRlIHRvIG1hdGNoIG1lbW9pemVkIHN0YXRlIGJlZm9yZSBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZS4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5zdGF0ZWAuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICkpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc29sdmVkUHJldlByb3BzID0gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgICAgcHJldlByb3BzLFxuICAgICAgICAgIGZpbmlzaGVkV29yay5lbGVtZW50VHlwZSA9PT0gZmluaXNoZWRXb3JrLnR5cGVcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIHNuYXBzaG90ID0gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgIGNhbGxHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXMsXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICByZXNvbHZlZFByZXZQcm9wcyxcbiAgICAgICAgICBwcmV2U3RhdGVcbiAgICAgICAgKTtcbiAgICAgICAgcHJldlByb3BzID0gZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGU7XG4gICAgICAgIHZvaWQgMCAhPT0gc25hcHNob3QgfHxcbiAgICAgICAgICBwcmV2UHJvcHMuaGFzKGZpbmlzaGVkV29yay50eXBlKSB8fFxuICAgICAgICAgIChwcmV2UHJvcHMuYWRkKGZpbmlzaGVkV29yay50eXBlKSxcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihmaW5pc2hlZFdvcmssIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiJXMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKTogQSBzbmFwc2hvdCB2YWx1ZSAob3IgbnVsbCkgbXVzdCBiZSByZXR1cm5lZC4gWW91IGhhdmUgcmV0dXJuZWQgdW5kZWZpbmVkLlwiLFxuICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSkpO1xuICAgICAgICBjdXJyZW50Ll9fcmVhY3RJbnRlcm5hbFNuYXBzaG90QmVmb3JlVXBkYXRlID0gc25hcHNob3Q7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2FmZWx5Q2FsbENvbXBvbmVudFdpbGxVbm1vdW50KFxuICAgICAgY3VycmVudCxcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICBpbnN0YW5jZVxuICAgICkge1xuICAgICAgaW5zdGFuY2UucHJvcHMgPSByZXNvbHZlQ2xhc3NDb21wb25lbnRQcm9wcyhcbiAgICAgICAgY3VycmVudC50eXBlLFxuICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHNcbiAgICAgICk7XG4gICAgICBpbnN0YW5jZS5zdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIHNob3VsZFByb2ZpbGUoY3VycmVudClcbiAgICAgICAgPyAoc3RhcnRFZmZlY3RUaW1lcigpLFxuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudEluREVWLFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICksXG4gICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgOiBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICBjYWxsQ29tcG9uZW50V2lsbFVubW91bnRJbkRFVixcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRBdHRhY2hSZWYoZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgcmVmID0gZmluaXNoZWRXb3JrLnJlZjtcbiAgICAgIGlmIChudWxsICE9PSByZWYpIHtcbiAgICAgICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlZilcbiAgICAgICAgICBpZiAoc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgc3RhcnRFZmZlY3RUaW1lcigpLCAoZmluaXNoZWRXb3JrLnJlZkNsZWFudXAgPSByZWYoaW5zdGFuY2UpKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBmaW5pc2hlZFdvcmsucmVmQ2xlYW51cCA9IHJlZihpbnN0YW5jZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcmVmXG4gICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXCJTdHJpbmcgcmVmcyBhcmUgbm8gbG9uZ2VyIHN1cHBvcnRlZC5cIilcbiAgICAgICAgICAgIDogcmVmLmhhc093blByb3BlcnR5KFwiY3VycmVudFwiKSB8fFxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgIFwiVW5leHBlY3RlZCByZWYgb2JqZWN0IHByb3ZpZGVkIGZvciAlcy4gVXNlIGVpdGhlciBhIHJlZi1zZXR0ZXIgZnVuY3Rpb24gb3IgUmVhY3QuY3JlYXRlUmVmKCkuXCIsXG4gICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAocmVmLmN1cnJlbnQgPSBpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNhZmVseUF0dGFjaFJlZihjdXJyZW50LCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKSB7XG4gICAgICB0cnkge1xuICAgICAgICBydW5XaXRoRmliZXJJbkRFVihjdXJyZW50LCBjb21taXRBdHRhY2hSZWYsIGN1cnJlbnQpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoY3VycmVudCwgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciwgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcikge1xuICAgICAgdmFyIHJlZiA9IGN1cnJlbnQucmVmLFxuICAgICAgICByZWZDbGVhbnVwID0gY3VycmVudC5yZWZDbGVhbnVwO1xuICAgICAgaWYgKG51bGwgIT09IHJlZilcbiAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlZkNsZWFudXApXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChzaG91bGRQcm9maWxlKGN1cnJlbnQpKVxuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0YXJ0RWZmZWN0VGltZXIoKSwgcnVuV2l0aEZpYmVySW5ERVYoY3VycmVudCwgcmVmQ2xlYW51cCk7XG4gICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oY3VycmVudCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgcnVuV2l0aEZpYmVySW5ERVYoY3VycmVudCwgcmVmQ2xlYW51cCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGN1cnJlbnQsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsIGVycm9yKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgKGN1cnJlbnQucmVmQ2xlYW51cCA9IG51bGwpLFxuICAgICAgICAgICAgICAoY3VycmVudCA9IGN1cnJlbnQuYWx0ZXJuYXRlKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBjdXJyZW50ICYmIChjdXJyZW50LnJlZkNsZWFudXAgPSBudWxsKTtcbiAgICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHJlZilcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHNob3VsZFByb2ZpbGUoY3VycmVudCkpXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RhcnRFZmZlY3RUaW1lcigpLCBydW5XaXRoRmliZXJJbkRFVihjdXJyZW50LCByZWYsIG51bGwpO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHJlY29yZEVmZmVjdER1cmF0aW9uKGN1cnJlbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHJ1bldpdGhGaWJlckluREVWKGN1cnJlbnQsIHJlZiwgbnVsbCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IkNikge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoY3VycmVudCwgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciwgZXJyb3IkNik7XG4gICAgICAgICAgfVxuICAgICAgICBlbHNlIHJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0UHJvZmlsZXIoXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBjdXJyZW50LFxuICAgICAgY29tbWl0U3RhcnRUaW1lLFxuICAgICAgZWZmZWN0RHVyYXRpb25cbiAgICApIHtcbiAgICAgIHZhciBfZmluaXNoZWRXb3JrJG1lbW9pemUgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgaWQgPSBfZmluaXNoZWRXb3JrJG1lbW9pemUuaWQsXG4gICAgICAgIG9uQ29tbWl0ID0gX2ZpbmlzaGVkV29yayRtZW1vaXplLm9uQ29tbWl0O1xuICAgICAgX2ZpbmlzaGVkV29yayRtZW1vaXplID0gX2ZpbmlzaGVkV29yayRtZW1vaXplLm9uUmVuZGVyO1xuICAgICAgY3VycmVudCA9IG51bGwgPT09IGN1cnJlbnQgPyBcIm1vdW50XCIgOiBcInVwZGF0ZVwiO1xuICAgICAgY3VycmVudFVwZGF0ZUlzTmVzdGVkICYmIChjdXJyZW50ID0gXCJuZXN0ZWQtdXBkYXRlXCIpO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2ZpbmlzaGVkV29yayRtZW1vaXplICYmXG4gICAgICAgIF9maW5pc2hlZFdvcmskbWVtb2l6ZShcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIGZpbmlzaGVkV29yay5hY3R1YWxEdXJhdGlvbixcbiAgICAgICAgICBmaW5pc2hlZFdvcmsudHJlZUJhc2VEdXJhdGlvbixcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuYWN0dWFsU3RhcnRUaW1lLFxuICAgICAgICAgIGNvbW1pdFN0YXJ0VGltZVxuICAgICAgICApO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygb25Db21taXQgJiZcbiAgICAgICAgb25Db21taXQoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMuaWQsXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBlZmZlY3REdXJhdGlvbixcbiAgICAgICAgICBjb21taXRTdGFydFRpbWVcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0UHJvZmlsZXJQb3N0Q29tbWl0SW1wbChcbiAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgIGN1cnJlbnQsXG4gICAgICBjb21taXRTdGFydFRpbWUsXG4gICAgICBwYXNzaXZlRWZmZWN0RHVyYXRpb25cbiAgICApIHtcbiAgICAgIHZhciBfZmluaXNoZWRXb3JrJG1lbW9pemUyID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHM7XG4gICAgICBmaW5pc2hlZFdvcmsgPSBfZmluaXNoZWRXb3JrJG1lbW9pemUyLmlkO1xuICAgICAgX2ZpbmlzaGVkV29yayRtZW1vaXplMiA9IF9maW5pc2hlZFdvcmskbWVtb2l6ZTIub25Qb3N0Q29tbWl0O1xuICAgICAgY3VycmVudCA9IG51bGwgPT09IGN1cnJlbnQgPyBcIm1vdW50XCIgOiBcInVwZGF0ZVwiO1xuICAgICAgY3VycmVudFVwZGF0ZUlzTmVzdGVkICYmIChjdXJyZW50ID0gXCJuZXN0ZWQtdXBkYXRlXCIpO1xuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgX2ZpbmlzaGVkV29yayRtZW1vaXplMiAmJlxuICAgICAgICBfZmluaXNoZWRXb3JrJG1lbW9pemUyKFxuICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIHBhc3NpdmVFZmZlY3REdXJhdGlvbixcbiAgICAgICAgICBjb21taXRTdGFydFRpbWVcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9zdE1vdW50KGZpbmlzaGVkV29yaykge1xuICAgICAgdmFyIHR5cGUgPSBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgcHJvcHMgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgIGNvbW1pdE1vdW50LFxuICAgICAgICAgIGluc3RhbmNlLFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0SG9zdFVwZGF0ZShmaW5pc2hlZFdvcmssIG5ld1Byb3BzLCBvbGRQcm9wcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgIGNvbW1pdFVwZGF0ZSxcbiAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLFxuICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgIG9sZFByb3BzLFxuICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzSG9zdFBhcmVudChmaWJlcikge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgNSA9PT0gZmliZXIudGFnIHx8XG4gICAgICAgIDMgPT09IGZpYmVyLnRhZyB8fFxuICAgICAgICAyNiA9PT0gZmliZXIudGFnIHx8XG4gICAgICAgIDI3ID09PSBmaWJlci50YWcgfHxcbiAgICAgICAgNCA9PT0gZmliZXIudGFnXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRIb3N0U2libGluZyhmaWJlcikge1xuICAgICAgYTogZm9yICg7Oykge1xuICAgICAgICBmb3IgKDsgbnVsbCA9PT0gZmliZXIuc2libGluZzsgKSB7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGZpYmVyLnJldHVybiB8fCBpc0hvc3RQYXJlbnQoZmliZXIucmV0dXJuKSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgZmliZXIgPSBmaWJlci5yZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZmliZXIuc2libGluZy5yZXR1cm4gPSBmaWJlci5yZXR1cm47XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgZmliZXIgPSBmaWJlci5zaWJsaW5nO1xuICAgICAgICAgIDUgIT09IGZpYmVyLnRhZyAmJlxuICAgICAgICAgIDYgIT09IGZpYmVyLnRhZyAmJlxuICAgICAgICAgIDI3ICE9PSBmaWJlci50YWcgJiZcbiAgICAgICAgICAxOCAhPT0gZmliZXIudGFnO1xuXG4gICAgICAgICkge1xuICAgICAgICAgIGlmIChmaWJlci5mbGFncyAmIDIpIGNvbnRpbnVlIGE7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGZpYmVyLmNoaWxkIHx8IDQgPT09IGZpYmVyLnRhZykgY29udGludWUgYTtcbiAgICAgICAgICBlbHNlIChmaWJlci5jaGlsZC5yZXR1cm4gPSBmaWJlciksIChmaWJlciA9IGZpYmVyLmNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIShmaWJlci5mbGFncyAmIDIpKSByZXR1cm4gZmliZXIuc3RhdGVOb2RlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGVJbnRvQ29udGFpbmVyKG5vZGUsIGJlZm9yZSwgcGFyZW50KSB7XG4gICAgICB2YXIgdGFnID0gbm9kZS50YWc7XG4gICAgICBpZiAoNSA9PT0gdGFnIHx8IDYgPT09IHRhZylcbiAgICAgICAgKG5vZGUgPSBub2RlLnN0YXRlTm9kZSksXG4gICAgICAgICAgYmVmb3JlXG4gICAgICAgICAgICA/IDggPT09IHBhcmVudC5ub2RlVHlwZVxuICAgICAgICAgICAgICA/IHBhcmVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBiZWZvcmUpXG4gICAgICAgICAgICAgIDogcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBiZWZvcmUpXG4gICAgICAgICAgICA6ICg4ID09PSBwYXJlbnQubm9kZVR5cGVcbiAgICAgICAgICAgICAgICA/ICgoYmVmb3JlID0gcGFyZW50LnBhcmVudE5vZGUpLFxuICAgICAgICAgICAgICAgICAgYmVmb3JlLmluc2VydEJlZm9yZShub2RlLCBwYXJlbnQpKVxuICAgICAgICAgICAgICAgIDogKChiZWZvcmUgPSBwYXJlbnQpLCBiZWZvcmUuYXBwZW5kQ2hpbGQobm9kZSkpLFxuICAgICAgICAgICAgICAocGFyZW50ID0gcGFyZW50Ll9yZWFjdFJvb3RDb250YWluZXIpLFxuICAgICAgICAgICAgICAobnVsbCAhPT0gcGFyZW50ICYmIHZvaWQgMCAhPT0gcGFyZW50KSB8fFxuICAgICAgICAgICAgICAgIG51bGwgIT09IGJlZm9yZS5vbmNsaWNrIHx8XG4gICAgICAgICAgICAgICAgKGJlZm9yZS5vbmNsaWNrID0gbm9vcCQxKSk7XG4gICAgICBlbHNlIGlmICg0ICE9PSB0YWcgJiYgMjcgIT09IHRhZyAmJiAoKG5vZGUgPSBub2RlLmNoaWxkKSwgbnVsbCAhPT0gbm9kZSkpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlSW50b0NvbnRhaW5lcihub2RlLCBiZWZvcmUsIHBhcmVudCksXG4gICAgICAgICAgICBub2RlID0gbm9kZS5zaWJsaW5nO1xuICAgICAgICAgIG51bGwgIT09IG5vZGU7XG5cbiAgICAgICAgKVxuICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZUludG9Db250YWluZXIobm9kZSwgYmVmb3JlLCBwYXJlbnQpLFxuICAgICAgICAgICAgKG5vZGUgPSBub2RlLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGUobm9kZSwgYmVmb3JlLCBwYXJlbnQpIHtcbiAgICAgIHZhciB0YWcgPSBub2RlLnRhZztcbiAgICAgIGlmICg1ID09PSB0YWcgfHwgNiA9PT0gdGFnKVxuICAgICAgICAobm9kZSA9IG5vZGUuc3RhdGVOb2RlKSxcbiAgICAgICAgICBiZWZvcmUgPyBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGJlZm9yZSkgOiBwYXJlbnQuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICBlbHNlIGlmICg0ICE9PSB0YWcgJiYgMjcgIT09IHRhZyAmJiAoKG5vZGUgPSBub2RlLmNoaWxkKSwgbnVsbCAhPT0gbm9kZSkpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlKG5vZGUsIGJlZm9yZSwgcGFyZW50KSxcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnNpYmxpbmc7XG4gICAgICAgICAgbnVsbCAhPT0gbm9kZTtcblxuICAgICAgICApXG4gICAgICAgICAgaW5zZXJ0T3JBcHBlbmRQbGFjZW1lbnROb2RlKG5vZGUsIGJlZm9yZSwgcGFyZW50KSxcbiAgICAgICAgICAgIChub2RlID0gbm9kZS5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0UGxhY2VtZW50KGZpbmlzaGVkV29yaykge1xuICAgICAgaWYgKDI3ICE9PSBmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGE6IHtcbiAgICAgICAgICBmb3IgKHZhciBwYXJlbnQgPSBmaW5pc2hlZFdvcmsucmV0dXJuOyBudWxsICE9PSBwYXJlbnQ7ICkge1xuICAgICAgICAgICAgaWYgKGlzSG9zdFBhcmVudChwYXJlbnQpKSB7XG4gICAgICAgICAgICAgIHZhciBwYXJlbnRGaWJlciA9IHBhcmVudDtcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5yZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCB0byBmaW5kIGEgaG9zdCBwYXJlbnQuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAocGFyZW50RmliZXIudGFnKSB7XG4gICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudEZpYmVyLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHBhcmVudEZpYmVyID0gZ2V0SG9zdFNpYmxpbmcoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZShmaW5pc2hlZFdvcmssIHBhcmVudEZpYmVyLCBwYXJlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgcGFyZW50RmliZXIuZmxhZ3MgJiAzMiAmJlxuICAgICAgICAgICAgICAocmVzZXRUZXh0Q29udGVudChwYXJlbnQpLCAocGFyZW50RmliZXIuZmxhZ3MgJj0gLTMzKSk7XG4gICAgICAgICAgICBwYXJlbnRGaWJlciA9IGdldEhvc3RTaWJsaW5nKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgICBpbnNlcnRPckFwcGVuZFBsYWNlbWVudE5vZGUoZmluaXNoZWRXb3JrLCBwYXJlbnRGaWJlciwgcGFyZW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnRGaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgIHBhcmVudEZpYmVyID0gZ2V0SG9zdFNpYmxpbmcoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICAgIGluc2VydE9yQXBwZW5kUGxhY2VtZW50Tm9kZUludG9Db250YWluZXIoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgcGFyZW50RmliZXIsXG4gICAgICAgICAgICAgIHBhcmVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIGhvc3QgcGFyZW50IGZpYmVyLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEJlZm9yZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaXJzdENoaWxkKSB7XG4gICAgICByb290ID0gcm9vdC5jb250YWluZXJJbmZvO1xuICAgICAgZXZlbnRzRW5hYmxlZCA9IF9lbmFibGVkO1xuICAgICAgcm9vdCA9IGdldEFjdGl2ZUVsZW1lbnREZWVwKHJvb3QpO1xuICAgICAgaWYgKGhhc1NlbGVjdGlvbkNhcGFiaWxpdGllcyhyb290KSkge1xuICAgICAgICBpZiAoXCJzZWxlY3Rpb25TdGFydFwiIGluIHJvb3QpXG4gICAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcCA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiByb290LnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgZW5kOiByb290LnNlbGVjdGlvbkVuZFxuICAgICAgICAgIH07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBhOiB7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPVxuICAgICAgICAgICAgICAoKEpTQ29tcGlsZXJfdGVtcCA9IHJvb3Qub3duZXJEb2N1bWVudCkgJiZcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAuZGVmYXVsdFZpZXcpIHx8XG4gICAgICAgICAgICAgIHdpbmRvdztcbiAgICAgICAgICAgIHZhciBzZWxlY3Rpb24gPVxuICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAuZ2V0U2VsZWN0aW9uICYmIEpTQ29tcGlsZXJfdGVtcC5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb24gJiYgMCAhPT0gc2VsZWN0aW9uLnJhbmdlQ291bnQpIHtcbiAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gc2VsZWN0aW9uLmFuY2hvck5vZGU7XG4gICAgICAgICAgICAgIHZhciBhbmNob3JPZmZzZXQgPSBzZWxlY3Rpb24uYW5jaG9yT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGZvY3VzTm9kZSA9IHNlbGVjdGlvbi5mb2N1c05vZGU7XG4gICAgICAgICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5mb2N1c09mZnNldDtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAubm9kZVR5cGUsIGZvY3VzTm9kZS5ub2RlVHlwZTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSQyKSB7XG4gICAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID0gbnVsbDtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBsZW5ndGggPSAwLFxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gLTEsXG4gICAgICAgICAgICAgICAgZW5kID0gLTEsXG4gICAgICAgICAgICAgICAgaW5kZXhXaXRoaW5BbmNob3IgPSAwLFxuICAgICAgICAgICAgICAgIGluZGV4V2l0aGluRm9jdXMgPSAwLFxuICAgICAgICAgICAgICAgIG5vZGUgPSByb290LFxuICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPSBudWxsO1xuICAgICAgICAgICAgICBiOiBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dDsgOyApIHtcbiAgICAgICAgICAgICAgICAgIG5vZGUgIT09IEpTQ29tcGlsZXJfdGVtcCB8fFxuICAgICAgICAgICAgICAgICAgICAoMCAhPT0gYW5jaG9yT2Zmc2V0ICYmIDMgIT09IG5vZGUubm9kZVR5cGUpIHx8XG4gICAgICAgICAgICAgICAgICAgIChzdGFydCA9IGxlbmd0aCArIGFuY2hvck9mZnNldCk7XG4gICAgICAgICAgICAgICAgICBub2RlICE9PSBmb2N1c05vZGUgfHxcbiAgICAgICAgICAgICAgICAgICAgKDAgIT09IHNlbGVjdGlvbiAmJiAzICE9PSBub2RlLm5vZGVUeXBlKSB8fFxuICAgICAgICAgICAgICAgICAgICAoZW5kID0gbGVuZ3RoICsgc2VsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgIDMgPT09IG5vZGUubm9kZVR5cGUgJiYgKGxlbmd0aCArPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IChuZXh0ID0gbm9kZS5maXJzdENoaWxkKSkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBwYXJlbnROb2RlID0gbm9kZTtcbiAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXh0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICAgICAgICBpZiAobm9kZSA9PT0gcm9vdCkgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPT09IEpTQ29tcGlsZXJfdGVtcCAmJlxuICAgICAgICAgICAgICAgICAgICArK2luZGV4V2l0aGluQW5jaG9yID09PSBhbmNob3JPZmZzZXQgJiZcbiAgICAgICAgICAgICAgICAgICAgKHN0YXJ0ID0gbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgIHBhcmVudE5vZGUgPT09IGZvY3VzTm9kZSAmJlxuICAgICAgICAgICAgICAgICAgICArK2luZGV4V2l0aGluRm9jdXMgPT09IHNlbGVjdGlvbiAmJlxuICAgICAgICAgICAgICAgICAgICAoZW5kID0gbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSAobmV4dCA9IG5vZGUubmV4dFNpYmxpbmcpKSBicmVhaztcbiAgICAgICAgICAgICAgICAgIG5vZGUgPSBwYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgSlNDb21waWxlcl90ZW1wID1cbiAgICAgICAgICAgICAgICAtMSA9PT0gc3RhcnQgfHwgLTEgPT09IGVuZCA/IG51bGwgOiB7IHN0YXJ0OiBzdGFydCwgZW5kOiBlbmQgfTtcbiAgICAgICAgICAgIH0gZWxzZSBKU0NvbXBpbGVyX3RlbXAgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgSlNDb21waWxlcl90ZW1wID0gSlNDb21waWxlcl90ZW1wIHx8IHsgc3RhcnQ6IDAsIGVuZDogMCB9O1xuICAgICAgfSBlbHNlIEpTQ29tcGlsZXJfdGVtcCA9IG51bGw7XG4gICAgICBzZWxlY3Rpb25JbmZvcm1hdGlvbiA9IHtcbiAgICAgICAgZm9jdXNlZEVsZW06IHJvb3QsXG4gICAgICAgIHNlbGVjdGlvblJhbmdlOiBKU0NvbXBpbGVyX3RlbXBcbiAgICAgIH07XG4gICAgICBfZW5hYmxlZCA9ICExO1xuICAgICAgZm9yIChuZXh0RWZmZWN0ID0gZmlyc3RDaGlsZDsgbnVsbCAhPT0gbmV4dEVmZmVjdDsgKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgKChmaXJzdENoaWxkID0gbmV4dEVmZmVjdCksXG4gICAgICAgICAgKHJvb3QgPSBmaXJzdENoaWxkLmNoaWxkKSxcbiAgICAgICAgICAwICE9PSAoZmlyc3RDaGlsZC5zdWJ0cmVlRmxhZ3MgJiAxMDI4KSAmJiBudWxsICE9PSByb290KVxuICAgICAgICApXG4gICAgICAgICAgKHJvb3QucmV0dXJuID0gZmlyc3RDaGlsZCksIChuZXh0RWZmZWN0ID0gcm9vdCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBmb3IgKDsgbnVsbCAhPT0gbmV4dEVmZmVjdDsgKSB7XG4gICAgICAgICAgICByb290ID0gZmlyc3RDaGlsZCA9IG5leHRFZmZlY3Q7XG4gICAgICAgICAgICBKU0NvbXBpbGVyX3RlbXAgPSByb290LmFsdGVybmF0ZTtcbiAgICAgICAgICAgIGFuY2hvck9mZnNldCA9IHJvb3QuZmxhZ3M7XG4gICAgICAgICAgICBzd2l0Y2ggKHJvb3QudGFnKSB7XG4gICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIDAgIT09IChhbmNob3JPZmZzZXQgJiAxMDI0KSAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gSlNDb21waWxlcl90ZW1wICYmXG4gICAgICAgICAgICAgICAgICBjb21taXRDbGFzc1NuYXBzaG90KHJvb3QsIEpTQ29tcGlsZXJfdGVtcCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gKGFuY2hvck9mZnNldCAmIDEwMjQpKVxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAoKHJvb3QgPSByb290LnN0YXRlTm9kZS5jb250YWluZXJJbmZvKSxcbiAgICAgICAgICAgICAgICAgICAgKEpTQ29tcGlsZXJfdGVtcCA9IHJvb3Qubm9kZVR5cGUpLFxuICAgICAgICAgICAgICAgICAgICA5ID09PSBKU0NvbXBpbGVyX3RlbXApXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGFpbmVyU3BhcmluZ2x5KHJvb3QpO1xuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoMSA9PT0gSlNDb21waWxlcl90ZW1wKVxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJvb3Qubm9kZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSEVBRFwiOlxuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkJPRFlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyQ29udGFpbmVyU3BhcmluZ2x5KHJvb3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKDAgIT09IChhbmNob3JPZmZzZXQgJiAxMDI0KSlcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIlRoaXMgdW5pdCBvZiB3b3JrIHRhZyBzaG91bGQgbm90IGhhdmUgc2lkZS1lZmZlY3RzLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm9vdCA9IGZpcnN0Q2hpbGQuc2libGluZztcbiAgICAgICAgICAgIGlmIChudWxsICE9PSByb290KSB7XG4gICAgICAgICAgICAgIHJvb3QucmV0dXJuID0gZmlyc3RDaGlsZC5yZXR1cm47XG4gICAgICAgICAgICAgIG5leHRFZmZlY3QgPSByb290O1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRFZmZlY3QgPSBmaXJzdENoaWxkLnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICBmaXJzdENoaWxkID0gc2hvdWxkRmlyZUFmdGVyQWN0aXZlSW5zdGFuY2VCbHVyO1xuICAgICAgc2hvdWxkRmlyZUFmdGVyQWN0aXZlSW5zdGFuY2VCbHVyID0gITE7XG4gICAgICByZXR1cm4gZmlyc3RDaGlsZDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0TGF5b3V0RWZmZWN0T25GaWJlcihmaW5pc2hlZFJvb3QsIGN1cnJlbnQsIGZpbmlzaGVkV29yaykge1xuICAgICAgdmFyIGZsYWdzID0gZmluaXNoZWRXb3JrLmZsYWdzO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICBjb21taXRIb29rTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmssIExheW91dCB8IEhhc0VmZmVjdCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgaWYgKGZsYWdzICYgNClcbiAgICAgICAgICAgIGlmICgoKGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUpLCBudWxsID09PSBjdXJyZW50KSlcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUuZGVmYXVsdFByb3BzIHx8XG4gICAgICAgICAgICAgICAgXCJyZWZcIiBpbiBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyB8fFxuICAgICAgICAgICAgICAgIGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgfHxcbiAgICAgICAgICAgICAgICAoZmluaXNoZWRSb290LnByb3BzICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcyAmJlxuICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCAlcyBwcm9wcyB0byBtYXRjaCBtZW1vaXplZCBwcm9wcyBiZWZvcmUgY29tcG9uZW50RGlkTW91bnQuIFRoaXMgbWlnaHQgZWl0aGVyIGJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gUmVhY3QsIG9yIGJlY2F1c2UgYSBjb21wb25lbnQgcmVhc3NpZ25zIGl0cyBvd24gYHRoaXMucHJvcHNgLiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaW5pc2hlZFdvcmspIHx8IFwiaW5zdGFuY2VcIlxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3Quc3RhdGUgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkV4cGVjdGVkICVzIHN0YXRlIHRvIG1hdGNoIG1lbW9pemVkIHN0YXRlIGJlZm9yZSBjb21wb25lbnREaWRNb3VudC4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5zdGF0ZWAuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICBzaG91bGRQcm9maWxlKGZpbmlzaGVkV29yaylcbiAgICAgICAgICAgICAgICAgID8gKHN0YXJ0RWZmZWN0VGltZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICAgIGNhbGxDb21wb25lbnREaWRNb3VudEluREVWLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3RcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkRWZmZWN0RHVyYXRpb24oKSlcbiAgICAgICAgICAgICAgICAgIDogcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgICAgIGNhbGxDb21wb25lbnREaWRNb3VudEluREVWLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3RcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgcHJldlByb3BzID0gcmVzb2x2ZUNsYXNzQ29tcG9uZW50UHJvcHMoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLmRlZmF1bHRQcm9wcyB8fFxuICAgICAgICAgICAgICAgIFwicmVmXCIgaW4gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgfHxcbiAgICAgICAgICAgICAgICBkaWRXYXJuQWJvdXRSZWFzc2lnbmluZ1Byb3BzIHx8XG4gICAgICAgICAgICAgICAgKGZpbmlzaGVkUm9vdC5wcm9wcyAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgcHJvcHMgdG8gbWF0Y2ggbWVtb2l6ZWQgcHJvcHMgYmVmb3JlIGNvbXBvbmVudERpZFVwZGF0ZS4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5wcm9wc2AuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5zdGF0ZSAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgJXMgc3RhdGUgdG8gbWF0Y2ggbWVtb2l6ZWQgc3RhdGUgYmVmb3JlIGNvbXBvbmVudERpZFVwZGF0ZS4gVGhpcyBtaWdodCBlaXRoZXIgYmUgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBSZWFjdCwgb3IgYmVjYXVzZSBhIGNvbXBvbmVudCByZWFzc2lnbnMgaXRzIG93biBgdGhpcy5zdGF0ZWAuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiLFxuICAgICAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpbmlzaGVkV29yaykgfHwgXCJpbnN0YW5jZVwiXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgc2hvdWxkUHJvZmlsZShmaW5pc2hlZFdvcmspXG4gICAgICAgICAgICAgICAgPyAoc3RhcnRFZmZlY3RUaW1lcigpLFxuICAgICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgY2FsbENvbXBvbmVudERpZFVwZGF0ZUluREVWLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgICAgcHJldlByb3BzLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGVcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICByZWNvcmRFZmZlY3REdXJhdGlvbigpKVxuICAgICAgICAgICAgICAgIDogcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgY2FsbENvbXBvbmVudERpZFVwZGF0ZUluREVWLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgICAgICAgcHJldlByb3BzLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QuX19yZWFjdEludGVybmFsU25hcHNob3RCZWZvcmVVcGRhdGVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZmxhZ3MgJiA2NCAmJiBjb21taXRDbGFzc0NhbGxiYWNrcyhmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIGZsYWdzICYgNTEyICYmIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgY3VycmVudCA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmxhZ3MgJiA2NCAmJlxuICAgICAgICAgICAgKChmbGFncyA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSksIG51bGwgIT09IGZsYWdzKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcHJldlByb3BzID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBmaW5pc2hlZFdvcmsuY2hpbGQpXG4gICAgICAgICAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLmNoaWxkLnRhZykge1xuICAgICAgICAgICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgcHJldlByb3BzID0gZmluaXNoZWRXb3JrLmNoaWxkLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgIHByZXZQcm9wcyA9IGZpbmlzaGVkV29yay5jaGlsZC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRDYWxsYmFja3MsXG4gICAgICAgICAgICAgICAgZmxhZ3MsXG4gICAgICAgICAgICAgICAgcHJldlByb3BzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmluaXNoZWRSb290LmVmZmVjdER1cmF0aW9uICs9IHBvcE5lc3RlZEVmZmVjdER1cmF0aW9ucyhjdXJyZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiYgc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJiBmbGFncyAmIDQgJiYgY29tbWl0SG9zdE1vdW50KGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiYgc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgaWYgKGZsYWdzICYgNCkge1xuICAgICAgICAgICAgZmxhZ3MgPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgZmluaXNoZWRSb290LmVmZmVjdER1cmF0aW9uICs9IGJ1YmJsZU5lc3RlZEVmZmVjdER1cmF0aW9ucyhmbGFncyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY29tbWl0UHJvZmlsZXIsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgY29tbWl0U3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5lZmZlY3REdXJhdGlvblxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHJlY3Vyc2l2ZWx5VHJhdmVyc2VMYXlvdXRFZmZlY3RzKGZpbmlzaGVkUm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICBjb21taXRTdXNwZW5zZUh5ZHJhdGlvbkNhbGxiYWNrcyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcHJldlByb3BzID1cbiAgICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlIHx8IG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbjtcbiAgICAgICAgICBpZiAoIXByZXZQcm9wcykge1xuICAgICAgICAgICAgY3VycmVudCA9XG4gICAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkgfHxcbiAgICAgICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbjtcbiAgICAgICAgICAgIHZhciBwcmV2T2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuLFxuICAgICAgICAgICAgICBwcmV2T2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9IG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW47XG4gICAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gPSBwcmV2UHJvcHM7XG4gICAgICAgICAgICAob2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9IGN1cnJlbnQpICYmXG4gICAgICAgICAgICAhcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW5cbiAgICAgICAgICAgICAgPyByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgMCAhPT0gKGZpbmlzaGVkV29yay5zdWJ0cmVlRmxhZ3MgJiA4NzcyKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gPSBwcmV2T2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuO1xuICAgICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9IHByZXZPZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmbGFncyAmIDUxMiAmJlxuICAgICAgICAgICAgKFwibWFudWFsXCIgPT09IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzLm1vZGVcbiAgICAgICAgICAgICAgPyBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKVxuICAgICAgICAgICAgICA6IHNhZmVseURldGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRldGFjaEZpYmVyQWZ0ZXJFZmZlY3RzKGZpYmVyKSB7XG4gICAgICB2YXIgYWx0ZXJuYXRlID0gZmliZXIuYWx0ZXJuYXRlO1xuICAgICAgbnVsbCAhPT0gYWx0ZXJuYXRlICYmXG4gICAgICAgICgoZmliZXIuYWx0ZXJuYXRlID0gbnVsbCksIGRldGFjaEZpYmVyQWZ0ZXJFZmZlY3RzKGFsdGVybmF0ZSkpO1xuICAgICAgZmliZXIuY2hpbGQgPSBudWxsO1xuICAgICAgZmliZXIuZGVsZXRpb25zID0gbnVsbDtcbiAgICAgIGZpYmVyLnNpYmxpbmcgPSBudWxsO1xuICAgICAgNSA9PT0gZmliZXIudGFnICYmXG4gICAgICAgICgoYWx0ZXJuYXRlID0gZmliZXIuc3RhdGVOb2RlKSxcbiAgICAgICAgbnVsbCAhPT0gYWx0ZXJuYXRlICYmIGRldGFjaERlbGV0ZWRJbnN0YW5jZShhbHRlcm5hdGUpKTtcbiAgICAgIGZpYmVyLnN0YXRlTm9kZSA9IG51bGw7XG4gICAgICBmaWJlci5fZGVidWdPd25lciA9IG51bGw7XG4gICAgICBmaWJlci5yZXR1cm4gPSBudWxsO1xuICAgICAgZmliZXIuZGVwZW5kZW5jaWVzID0gbnVsbDtcbiAgICAgIGZpYmVyLm1lbW9pemVkUHJvcHMgPSBudWxsO1xuICAgICAgZmliZXIubWVtb2l6ZWRTdGF0ZSA9IG51bGw7XG4gICAgICBmaWJlci5wZW5kaW5nUHJvcHMgPSBudWxsO1xuICAgICAgZmliZXIuc3RhdGVOb2RlID0gbnVsbDtcbiAgICAgIGZpYmVyLnVwZGF0ZVF1ZXVlID0gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICBwYXJlbnRcbiAgICApIHtcbiAgICAgIGZvciAocGFyZW50ID0gcGFyZW50LmNoaWxkOyBudWxsICE9PSBwYXJlbnQ7IClcbiAgICAgICAgY29tbWl0RGVsZXRpb25FZmZlY3RzT25GaWJlcihcbiAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICBwYXJlbnRcbiAgICAgICAgKSxcbiAgICAgICAgICAocGFyZW50ID0gcGFyZW50LnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXREZWxldGlvbkVmZmVjdHNPbkZpYmVyKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgIGRlbGV0ZWRGaWJlclxuICAgICkge1xuICAgICAgaWYgKFxuICAgICAgICBpbmplY3RlZEhvb2sgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRIb29rLm9uQ29tbWl0RmliZXJVbm1vdW50XG4gICAgICApXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaW5qZWN0ZWRIb29rLm9uQ29tbWl0RmliZXJVbm1vdW50KHJlbmRlcmVySUQsIGRlbGV0ZWRGaWJlcik7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGhhc0xvZ2dlZEVycm9yIHx8XG4gICAgICAgICAgICAoKGhhc0xvZ2dlZEVycm9yID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBpbnN0cnVtZW50YXRpb24gZW5jb3VudGVyZWQgYW4gZXJyb3I6ICVzXCIsXG4gICAgICAgICAgICAgIGVyclxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICAgIHN3aXRjaCAoZGVsZXRlZEZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihkZWxldGVkRmliZXIsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkZWxldGVkRmliZXIubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgPyBkZWxldGVkRmliZXIubWVtb2l6ZWRTdGF0ZS5jb3VudC0tXG4gICAgICAgICAgICA6IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUgJiZcbiAgICAgICAgICAgICAgKChkZWxldGVkRmliZXIgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZGVsZXRlZEZpYmVyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGRlbGV0ZWRGaWJlciwgbmVhcmVzdE1vdW50ZWRBbmNlc3Rvcik7XG4gICAgICAgICAgdmFyIHByZXZIb3N0UGFyZW50ID0gaG9zdFBhcmVudCxcbiAgICAgICAgICAgIHByZXZIb3N0UGFyZW50SXNDb250YWluZXIgPSBob3N0UGFyZW50SXNDb250YWluZXI7XG4gICAgICAgICAgaG9zdFBhcmVudCA9IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGRlbGV0ZWRGaWJlciA9IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgZm9yIChmaW5pc2hlZFJvb3QgPSBkZWxldGVkRmliZXIuYXR0cmlidXRlczsgZmluaXNoZWRSb290Lmxlbmd0aDsgKVxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyLnJlbW92ZUF0dHJpYnV0ZU5vZGUoZmluaXNoZWRSb290WzBdKTtcbiAgICAgICAgICBkZXRhY2hEZWxldGVkSW5zdGFuY2UoZGVsZXRlZEZpYmVyKTtcbiAgICAgICAgICBob3N0UGFyZW50ID0gcHJldkhvc3RQYXJlbnQ7XG4gICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gcHJldkhvc3RQYXJlbnRJc0NvbnRhaW5lcjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihkZWxldGVkRmliZXIsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgcHJldkhvc3RQYXJlbnQgPSBob3N0UGFyZW50O1xuICAgICAgICAgIHByZXZIb3N0UGFyZW50SXNDb250YWluZXIgPSBob3N0UGFyZW50SXNDb250YWluZXI7XG4gICAgICAgICAgaG9zdFBhcmVudCA9IG51bGw7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGhvc3RQYXJlbnQgPSBwcmV2SG9zdFBhcmVudDtcbiAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSBwcmV2SG9zdFBhcmVudElzQ29udGFpbmVyO1xuICAgICAgICAgIGlmIChudWxsICE9PSBob3N0UGFyZW50KVxuICAgICAgICAgICAgaWYgKGhvc3RQYXJlbnRJc0NvbnRhaW5lcilcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbW92ZUNoaWxkRnJvbUNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgIGhvc3RQYXJlbnQsXG4gICAgICAgICAgICAgICAgICBkZWxldGVkRmliZXIuc3RhdGVOb2RlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlcixcbiAgICAgICAgICAgICAgICAgIHJlbW92ZUNoaWxkLFxuICAgICAgICAgICAgICAgICAgaG9zdFBhcmVudCxcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKFxuICAgICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgICAgIGVycm9yXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgIG51bGwgIT09IGhvc3RQYXJlbnQgJiZcbiAgICAgICAgICAgIChob3N0UGFyZW50SXNDb250YWluZXJcbiAgICAgICAgICAgICAgPyAoKGZpbmlzaGVkUm9vdCA9IGhvc3RQYXJlbnQpLFxuICAgICAgICAgICAgICAgIChkZWxldGVkRmliZXIgPSBkZWxldGVkRmliZXIuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgICAgICA4ID09PSBmaW5pc2hlZFJvb3Qubm9kZVR5cGVcbiAgICAgICAgICAgICAgICAgID8gY2xlYXJTdXNwZW5zZUJvdW5kYXJ5KGZpbmlzaGVkUm9vdC5wYXJlbnROb2RlLCBkZWxldGVkRmliZXIpXG4gICAgICAgICAgICAgICAgICA6IDEgPT09IGZpbmlzaGVkUm9vdC5ub2RlVHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICBjbGVhclN1c3BlbnNlQm91bmRhcnkoZmluaXNoZWRSb290LCBkZWxldGVkRmliZXIpLFxuICAgICAgICAgICAgICAgIHJldHJ5SWZCbG9ja2VkT24oZmluaXNoZWRSb290KSlcbiAgICAgICAgICAgICAgOiBjbGVhclN1c3BlbnNlQm91bmRhcnkoaG9zdFBhcmVudCwgZGVsZXRlZEZpYmVyLnN0YXRlTm9kZSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcHJldkhvc3RQYXJlbnQgPSBob3N0UGFyZW50O1xuICAgICAgICAgIHByZXZIb3N0UGFyZW50SXNDb250YWluZXIgPSBob3N0UGFyZW50SXNDb250YWluZXI7XG4gICAgICAgICAgaG9zdFBhcmVudCA9IGRlbGV0ZWRGaWJlci5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMDtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgaG9zdFBhcmVudCA9IHByZXZIb3N0UGFyZW50O1xuICAgICAgICAgIGhvc3RQYXJlbnRJc0NvbnRhaW5lciA9IHByZXZIb3N0UGFyZW50SXNDb250YWluZXI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBjb21taXRIb29rRWZmZWN0TGlzdFVubW91bnQoXG4gICAgICAgICAgICAgIEluc2VydGlvbixcbiAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yXG4gICAgICAgICAgICApO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgIGNvbW1pdEhvb2tMYXlvdXRVbm1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICBMYXlvdXRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgKHNhZmVseURldGFjaFJlZihkZWxldGVkRmliZXIsIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IpLFxuICAgICAgICAgICAgKHByZXZIb3N0UGFyZW50ID0gZGVsZXRlZEZpYmVyLnN0YXRlTm9kZSksXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcmV2SG9zdFBhcmVudC5jb21wb25lbnRXaWxsVW5tb3VudCAmJlxuICAgICAgICAgICAgICBzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQoXG4gICAgICAgICAgICAgICAgZGVsZXRlZEZpYmVyLFxuICAgICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgICAgcHJldkhvc3RQYXJlbnRcbiAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURlbGV0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICBkZWxldGVkRmliZXJcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZGVsZXRlZEZpYmVyLCBuZWFyZXN0TW91bnRlZEFuY2VzdG9yKTtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID1cbiAgICAgICAgICAgIChwcmV2SG9zdFBhcmVudCA9IG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4pIHx8XG4gICAgICAgICAgICBudWxsICE9PSBkZWxldGVkRmliZXIubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGVsZXRpb25FZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgIGRlbGV0ZWRGaWJlclxuICAgICAgICAgICk7XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9IHByZXZIb3N0UGFyZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEZWxldGlvbkVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgZGVsZXRlZEZpYmVyXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0U3VzcGVuc2VIeWRyYXRpb25DYWxsYmFja3MoZmluaXNoZWRSb290LCBmaW5pc2hlZFdvcmspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCA9PT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgKChmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlKSxcbiAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRSb290ICYmXG4gICAgICAgICAgKChmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFJvb3QubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRSb290ICYmXG4gICAgICAgICAgICAoKGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkUm9vdC5kZWh5ZHJhdGVkKSwgbnVsbCAhPT0gZmluaXNoZWRSb290KSkpXG4gICAgICApXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXRIeWRyYXRlZFN1c3BlbnNlSW5zdGFuY2UsXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3RcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFJldHJ5Q2FjaGUoZmluaXNoZWRXb3JrKSB7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICB2YXIgcmV0cnlDYWNoZSA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgbnVsbCA9PT0gcmV0cnlDYWNoZSAmJlxuICAgICAgICAgICAgKHJldHJ5Q2FjaGUgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlID0gbmV3IFBvc3NpYmx5V2Vha1NldCgpKTtcbiAgICAgICAgICByZXR1cm4gcmV0cnlDYWNoZTtcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGZpbmlzaGVkV29yayA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgKHJldHJ5Q2FjaGUgPSBmaW5pc2hlZFdvcmsuX3JldHJ5Q2FjaGUpLFxuICAgICAgICAgICAgbnVsbCA9PT0gcmV0cnlDYWNoZSAmJlxuICAgICAgICAgICAgICAocmV0cnlDYWNoZSA9IGZpbmlzaGVkV29yay5fcmV0cnlDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtTZXQoKSksXG4gICAgICAgICAgICByZXRyeUNhY2hlXG4gICAgICAgICAgKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiVW5leHBlY3RlZCBTdXNwZW5zZSBoYW5kbGVyIHRhZyAoXCIgK1xuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudGFnICtcbiAgICAgICAgICAgICAgXCIpLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0YWNoU3VzcGVuc2VSZXRyeUxpc3RlbmVycyhmaW5pc2hlZFdvcmssIHdha2VhYmxlcykge1xuICAgICAgdmFyIHJldHJ5Q2FjaGUgPSBnZXRSZXRyeUNhY2hlKGZpbmlzaGVkV29yayk7XG4gICAgICB3YWtlYWJsZXMuZm9yRWFjaChmdW5jdGlvbiAod2FrZWFibGUpIHtcbiAgICAgICAgdmFyIHJldHJ5ID0gcmVzb2x2ZVJldHJ5V2FrZWFibGUuYmluZChudWxsLCBmaW5pc2hlZFdvcmssIHdha2VhYmxlKTtcbiAgICAgICAgaWYgKCFyZXRyeUNhY2hlLmhhcyh3YWtlYWJsZSkpIHtcbiAgICAgICAgICByZXRyeUNhY2hlLmFkZCh3YWtlYWJsZSk7XG4gICAgICAgICAgaWYgKGlzRGV2VG9vbHNQcmVzZW50KVxuICAgICAgICAgICAgaWYgKG51bGwgIT09IGluUHJvZ3Jlc3NMYW5lcyAmJiBudWxsICE9PSBpblByb2dyZXNzUm9vdClcbiAgICAgICAgICAgICAgcmVzdG9yZVBlbmRpbmdVcGRhdGVycyhpblByb2dyZXNzUm9vdCwgaW5Qcm9ncmVzc0xhbmVzKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJFeHBlY3RlZCBmaW5pc2hlZCByb290IGFuZCBsYW5lcyB0byBiZSBzZXQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB3YWtlYWJsZS50aGVuKHJldHJ5LCByZXRyeSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrLCBjb21taXR0ZWRMYW5lcykge1xuICAgICAgaW5Qcm9ncmVzc0xhbmVzID0gY29tbWl0dGVkTGFuZXM7XG4gICAgICBpblByb2dyZXNzUm9vdCA9IHJvb3Q7XG4gICAgICBjb21taXRNdXRhdGlvbkVmZmVjdHNPbkZpYmVyKGZpbmlzaGVkV29yaywgcm9vdCk7XG4gICAgICBpblByb2dyZXNzUm9vdCA9IGluUHJvZ3Jlc3NMYW5lcyA9IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCRqc2NvbXAkMCwgcGFyZW50RmliZXIpIHtcbiAgICAgIHZhciBkZWxldGlvbnMgPSBwYXJlbnRGaWJlci5kZWxldGlvbnM7XG4gICAgICBpZiAobnVsbCAhPT0gZGVsZXRpb25zKVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGV0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciByb290ID0gcm9vdCRqc2NvbXAkMCxcbiAgICAgICAgICAgIHJldHVybkZpYmVyID0gcGFyZW50RmliZXIsXG4gICAgICAgICAgICBkZWxldGVkRmliZXIgPSBkZWxldGlvbnNbaV0sXG4gICAgICAgICAgICBwYXJlbnQgPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICBhOiBmb3IgKDsgbnVsbCAhPT0gcGFyZW50OyApIHtcbiAgICAgICAgICAgIHN3aXRjaCAocGFyZW50LnRhZykge1xuICAgICAgICAgICAgICBjYXNlIDI3OlxuICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudCA9IHBhcmVudC5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gITE7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gITA7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGhvc3RQYXJlbnQgPSBwYXJlbnQuc3RhdGVOb2RlLmNvbnRhaW5lckluZm87XG4gICAgICAgICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gITA7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5yZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChudWxsID09PSBob3N0UGFyZW50KVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gZmluZCBhIGhvc3QgcGFyZW50LiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNvbW1pdERlbGV0aW9uRWZmZWN0c09uRmliZXIocm9vdCwgcmV0dXJuRmliZXIsIGRlbGV0ZWRGaWJlcik7XG4gICAgICAgICAgaG9zdFBhcmVudCA9IG51bGw7XG4gICAgICAgICAgaG9zdFBhcmVudElzQ29udGFpbmVyID0gITE7XG4gICAgICAgICAgcm9vdCA9IGRlbGV0ZWRGaWJlcjtcbiAgICAgICAgICByZXR1cm5GaWJlciA9IHJvb3QuYWx0ZXJuYXRlO1xuICAgICAgICAgIG51bGwgIT09IHJldHVybkZpYmVyICYmIChyZXR1cm5GaWJlci5yZXR1cm4gPSBudWxsKTtcbiAgICAgICAgICByb290LnJldHVybiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAxMzg3OClcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICAgIGNvbW1pdE11dGF0aW9uRWZmZWN0c09uRmliZXIocGFyZW50RmliZXIsIHJvb3QkanNjb21wJDApLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdE11dGF0aW9uRWZmZWN0c09uRmliZXIoZmluaXNoZWRXb3JrLCByb290KSB7XG4gICAgICB2YXIgY3VycmVudCA9IGZpbmlzaGVkV29yay5hbHRlcm5hdGUsXG4gICAgICAgIGZsYWdzID0gZmluaXNoZWRXb3JrLmZsYWdzO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICAoY29tbWl0SG9va0VmZmVjdExpc3RVbm1vdW50KFxuICAgICAgICAgICAgICBJbnNlcnRpb24gfCBIYXNFZmZlY3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVyblxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGNvbW1pdEhvb2tFZmZlY3RMaXN0TW91bnQoSW5zZXJ0aW9uIHwgSGFzRWZmZWN0LCBmaW5pc2hlZFdvcmspLFxuICAgICAgICAgICAgY29tbWl0SG9va0xheW91dFVubW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yay5yZXR1cm4sXG4gICAgICAgICAgICAgIExheW91dCB8IEhhc0VmZmVjdFxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA1MTIgJiZcbiAgICAgICAgICAgIChvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuIHx8XG4gICAgICAgICAgICAgIG51bGwgPT09IGN1cnJlbnQgfHxcbiAgICAgICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGN1cnJlbnQsIGN1cnJlbnQucmV0dXJuKSk7XG4gICAgICAgICAgZmxhZ3MgJiA2NCAmJlxuICAgICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuICYmXG4gICAgICAgICAgICAoKGZpbmlzaGVkV29yayA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsgJiZcbiAgICAgICAgICAgICAgKChmbGFncyA9IGZpbmlzaGVkV29yay5jYWxsYmFja3MpLFxuICAgICAgICAgICAgICBudWxsICE9PSBmbGFncyAmJlxuICAgICAgICAgICAgICAgICgoY3VycmVudCA9IGZpbmlzaGVkV29yay5zaGFyZWQuaGlkZGVuQ2FsbGJhY2tzKSxcbiAgICAgICAgICAgICAgICAoZmluaXNoZWRXb3JrLnNoYXJlZC5oaWRkZW5DYWxsYmFja3MgPVxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCA/IGZsYWdzIDogY3VycmVudC5jb25jYXQoZmxhZ3MpKSkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICB2YXIgaG9pc3RhYmxlUm9vdCA9IGN1cnJlbnRIb2lzdGFibGVSb290O1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJlxuICAgICAgICAgICAgKG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCwgY3VycmVudC5yZXR1cm4pKTtcbiAgICAgICAgICBpZiAoZmxhZ3MgJiA0KVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKHJvb3QgPSBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5tZW1vaXplZFN0YXRlIDogbnVsbCksXG4gICAgICAgICAgICAgIChmbGFncyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlKSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IGZsYWdzKVxuICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlKSB7XG4gICAgICAgICAgICAgICAgICBhOiB7XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzID0gZmluaXNoZWRXb3JrLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRQcm9wcztcbiAgICAgICAgICAgICAgICAgICAgcm9vdCA9IGhvaXN0YWJsZVJvb3Qub3duZXJEb2N1bWVudCB8fCBob2lzdGFibGVSb290O1xuICAgICAgICAgICAgICAgICAgICBiOiBzd2l0Y2ggKGZsYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRpdGxlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290ID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRpdGxlXCIpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAhaG9pc3RhYmxlUm9vdCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290W2ludGVybmFsSG9pc3RhYmxlTWFya2VyXSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290W2ludGVybmFsSW5zdGFuY2VLZXldIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QubmFtZXNwYWNlVVJJID09PSBTVkdfTkFNRVNQQUNFIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuaGFzQXR0cmlidXRlKFwiaXRlbXByb3BcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGhvaXN0YWJsZVJvb3QgPSByb290LmNyZWF0ZUVsZW1lbnQoZmxhZ3MpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290LmhlYWQuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3QucXVlcnlTZWxlY3RvcihcImhlYWQgPiB0aXRsZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhob2lzdGFibGVSb290LCBmbGFncywgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290W2ludGVybmFsSW5zdGFuY2VLZXldID0gZmluaXNoZWRXb3JrO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzID0gaG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXliZU5vZGVzID0gZ2V0SHlkcmF0YWJsZUhvaXN0YWJsZUNhY2hlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpbmtcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJocmVmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RcbiAgICAgICAgICAgICAgICAgICAgICAgICkuZ2V0KGZsYWdzICsgKGN1cnJlbnQuaHJlZiB8fCBcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF5YmVOb2RlcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXliZU5vZGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoaG9pc3RhYmxlUm9vdCA9IG1heWJlTm9kZXNbaV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LmhyZWYgPyBudWxsIDogY3VycmVudC5ocmVmKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcInJlbFwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LnJlbCA/IG51bGwgOiBjdXJyZW50LnJlbCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LnRpdGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC50aXRsZSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBjdXJyZW50LmNyb3NzT3JpZ2luXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5jcm9zc09yaWdpbikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZU5vZGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IHJvb3QuY3JlYXRlRWxlbWVudChmbGFncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhob2lzdGFibGVSb290LCBmbGFncywgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290LmhlYWQuYXBwZW5kQ2hpbGQoaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWV0YVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAobWF5YmVOb2RlcyA9IGdldEh5ZHJhdGFibGVIb2lzdGFibGVDYWNoZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1ldGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbnRlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkuZ2V0KGZsYWdzICsgKGN1cnJlbnQuY29udGVudCB8fCBcIlwiKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBtYXliZU5vZGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoaG9pc3RhYmxlUm9vdCA9IG1heWJlTm9kZXNbaV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudC5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvbnRlbnRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QuZ2V0QXR0cmlidXRlKFwiY29udGVudFwiKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwiICsgY3VycmVudC5jb250ZW50KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcIm5hbWVcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5uYW1lKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcInByb3BlcnR5XCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQucHJvcGVydHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LnByb3BlcnR5KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LmdldEF0dHJpYnV0ZShcImh0dHAtZXF1aXZcIikgPT09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gY3VycmVudC5odHRwRXF1aXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50Lmh0dHBFcXVpdikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5nZXRBdHRyaWJ1dGUoXCJjaGFyc2V0XCIpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IGN1cnJlbnQuY2hhclNldFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGN1cnJlbnQuY2hhclNldCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXliZU5vZGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IHJvb3QuY3JlYXRlRWxlbWVudChmbGFncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhob2lzdGFibGVSb290LCBmbGFncywgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByb290LmhlYWQuYXBwZW5kQ2hpbGQoaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdnZXROb2Rlc0ZvclR5cGUgZW5jb3VudGVyZWQgYSB0eXBlIGl0IGRpZCBub3QgZXhwZWN0OiBcIicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnXCIuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290W2ludGVybmFsSW5zdGFuY2VLZXldID0gZmluaXNoZWRXb3JrO1xuICAgICAgICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGhvaXN0YWJsZVJvb3QpO1xuICAgICAgICAgICAgICAgICAgICBmbGFncyA9IGhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlID0gZmxhZ3M7XG4gICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICBtb3VudEhvaXN0YWJsZShcbiAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGVcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlID0gYWNxdWlyZVJlc291cmNlKFxuICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCxcbiAgICAgICAgICAgICAgICAgIGZsYWdzLFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICByb290ICE9PSBmbGFnc1xuICAgICAgICAgICAgICAgID8gKG51bGwgPT09IHJvb3RcbiAgICAgICAgICAgICAgICAgICAgPyBudWxsICE9PSBjdXJyZW50LnN0YXRlTm9kZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICgoY3VycmVudCA9IGN1cnJlbnQuc3RhdGVOb2RlKSxcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY3VycmVudCkpXG4gICAgICAgICAgICAgICAgICAgIDogcm9vdC5jb3VudC0tLFxuICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gZmxhZ3NcbiAgICAgICAgICAgICAgICAgICAgPyBtb3VudEhvaXN0YWJsZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5zdGF0ZU5vZGVcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIDogYWNxdWlyZVJlc291cmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHNcbiAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgIDogbnVsbCA9PT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5zdGF0ZU5vZGUgJiZcbiAgICAgICAgICAgICAgICAgIGNvbW1pdEhvc3RVcGRhdGUoXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICBpZiAoZmxhZ3MgJiA0ICYmIG51bGwgPT09IGZpbmlzaGVkV29yay5hbHRlcm5hdGUpIHtcbiAgICAgICAgICAgIGhvaXN0YWJsZVJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgbWF5YmVOb2RlcyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgZm9yIChpID0gaG9pc3RhYmxlUm9vdC5maXJzdENoaWxkOyBpOyApIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV4dE5vZGUgPSBpLm5leHRTaWJsaW5nLFxuICAgICAgICAgICAgICAgICAgbm9kZU5hbWUgPSBpLm5vZGVOYW1lO1xuICAgICAgICAgICAgICAgIGlbaW50ZXJuYWxIb2lzdGFibGVNYXJrZXJdIHx8XG4gICAgICAgICAgICAgICAgICBcIkhFQURcIiA9PT0gbm9kZU5hbWUgfHxcbiAgICAgICAgICAgICAgICAgIFwiQk9EWVwiID09PSBub2RlTmFtZSB8fFxuICAgICAgICAgICAgICAgICAgXCJTQ1JJUFRcIiA9PT0gbm9kZU5hbWUgfHxcbiAgICAgICAgICAgICAgICAgIFwiU1RZTEVcIiA9PT0gbm9kZU5hbWUgfHxcbiAgICAgICAgICAgICAgICAgIChcIkxJTktcIiA9PT0gbm9kZU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdHlsZXNoZWV0XCIgPT09IGkucmVsLnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgICAgICAgICAgICAgICBob2lzdGFibGVSb290LnJlbW92ZUNoaWxkKGkpO1xuICAgICAgICAgICAgICAgIGkgPSBuZXh0Tm9kZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgYWNxdWlyZVNpbmdsZXRvbkluc3RhbmNlLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay50eXBlLFxuICAgICAgICAgICAgICAgIG1heWJlTm9kZXMsXG4gICAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCxcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBmbGFncyAmIDUxMiAmJlxuICAgICAgICAgICAgKG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoY3VycmVudCwgY3VycmVudC5yZXR1cm4pKTtcbiAgICAgICAgICBpZiAoZmluaXNoZWRXb3JrLmZsYWdzICYgMzIpIHtcbiAgICAgICAgICAgIHJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZmluaXNoZWRXb3JrLCByZXNldFRleHRDb250ZW50LCByb290KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgIG51bGwgIT0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSAmJlxuICAgICAgICAgICAgKChyb290ID0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMpLFxuICAgICAgICAgICAgY29tbWl0SG9zdFVwZGF0ZShcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ID8gY3VycmVudC5tZW1vaXplZFByb3BzIDogcm9vdFxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgZmxhZ3MgJiAxMDI0ICYmXG4gICAgICAgICAgICAoKG5lZWRzRm9ybVJlc2V0ID0gITApLFxuICAgICAgICAgICAgXCJmb3JtXCIgIT09IGZpbmlzaGVkV29yay50eXBlICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJVbmV4cGVjdGVkIGhvc3QgY29tcG9uZW50IHR5cGUuIEV4cGVjdGVkIGEgZm9ybS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBpZiAoZmxhZ3MgJiA0KSB7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJUaGlzIHNob3VsZCBoYXZlIGEgdGV4dCBub2RlIGluaXRpYWxpemVkLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBmbGFncyA9IGZpbmlzaGVkV29yay5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgY3VycmVudCA9IG51bGwgIT09IGN1cnJlbnQgPyBjdXJyZW50Lm1lbW9pemVkUHJvcHMgOiBmbGFncztcbiAgICAgICAgICAgIHJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdFRleHRVcGRhdGUsXG4gICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIGZsYWdzXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4sIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBob2lzdGFibGVSb290ID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgIHRhZ0NhY2hlcyA9IG51bGw7XG4gICAgICAgICAgbWF5YmVOb2RlcyA9IGN1cnJlbnRIb2lzdGFibGVSb290O1xuICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gZ2V0SG9pc3RhYmxlUm9vdChyb290LmNvbnRhaW5lckluZm8pO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VNdXRhdGlvbkVmZmVjdHMocm9vdCwgZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBjdXJyZW50SG9pc3RhYmxlUm9vdCA9IG1heWJlTm9kZXM7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkXG4gICAgICAgICAgKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdEh5ZHJhdGVkQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHJvb3QuY29udGFpbmVySW5mb1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgbmVlZHNGb3JtUmVzZXQgJiZcbiAgICAgICAgICAgICgobmVlZHNGb3JtUmVzZXQgPSAhMSksIHJlY3Vyc2l2ZWx5UmVzZXRGb3JtcyhmaW5pc2hlZFdvcmspKTtcbiAgICAgICAgICByb290LmVmZmVjdER1cmF0aW9uICs9IHBvcE5lc3RlZEVmZmVjdER1cmF0aW9ucyhob2lzdGFibGVSb290KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgIGZsYWdzID0gY3VycmVudEhvaXN0YWJsZVJvb3Q7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBnZXRIb2lzdGFibGVSb290KFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY3VycmVudEhvaXN0YWJsZVJvb3QgPSBmbGFncztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBmbGFncyA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZS5lZmZlY3REdXJhdGlvbiArPVxuICAgICAgICAgICAgYnViYmxlTmVzdGVkRWZmZWN0RHVyYXRpb25zKGZsYWdzKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmluaXNoZWRXb3JrLmNoaWxkLmZsYWdzICYgODE5MiAmJlxuICAgICAgICAgICAgKG51bGwgIT09IGZpbmlzaGVkV29yay5tZW1vaXplZFN0YXRlKSAhPT1cbiAgICAgICAgICAgICAgKG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlKSAmJlxuICAgICAgICAgICAgKGdsb2JhbE1vc3RSZWNlbnRGYWxsYmFja1RpbWUgPSBub3ckMSgpKTtcbiAgICAgICAgICBmbGFncyAmIDQgJiZcbiAgICAgICAgICAgICgoZmxhZ3MgPSBmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUpLFxuICAgICAgICAgICAgbnVsbCAhPT0gZmxhZ3MgJiZcbiAgICAgICAgICAgICAgKChmaW5pc2hlZFdvcmsudXBkYXRlUXVldWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgYXR0YWNoU3VzcGVuc2VSZXRyeUxpc3RlbmVycyhmaW5pc2hlZFdvcmssIGZsYWdzKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIGZsYWdzICYgNTEyICYmXG4gICAgICAgICAgICAob2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiB8fFxuICAgICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAgIHNhZmVseURldGFjaFJlZihjdXJyZW50LCBjdXJyZW50LnJldHVybikpO1xuICAgICAgICAgIGkgPSBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBuZXh0Tm9kZSA9IG51bGwgIT09IGN1cnJlbnQgJiYgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIG5vZGVOYW1lID0gb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuO1xuICAgICAgICAgIHZhciBwcmV2T2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbiA9IG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW47XG4gICAgICAgICAgb2Zmc2NyZWVuU3VidHJlZUlzSGlkZGVuID0gbm9kZU5hbWUgfHwgaTtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuID0gcHJldk9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gfHwgbmV4dE5vZGU7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSBwcmV2T2Zmc2NyZWVuU3VidHJlZVdhc0hpZGRlbjtcbiAgICAgICAgICBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gPSBub2RlTmFtZTtcbiAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICByb290ID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICByb290Ll9jdXJyZW50ID0gZmluaXNoZWRXb3JrO1xuICAgICAgICAgIHJvb3QuX3Zpc2liaWxpdHkgJj0gfk9mZnNjcmVlbkRldGFjaGVkO1xuICAgICAgICAgIHJvb3QuX3Zpc2liaWxpdHkgfD0gcm9vdC5fcGVuZGluZ1Zpc2liaWxpdHkgJiBPZmZzY3JlZW5EZXRhY2hlZDtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBmbGFncyAmIDgxOTIgJiZcbiAgICAgICAgICAgICgocm9vdC5fdmlzaWJpbGl0eSA9IGlcbiAgICAgICAgICAgICAgPyByb290Ll92aXNpYmlsaXR5ICYgfk9mZnNjcmVlblZpc2libGVcbiAgICAgICAgICAgICAgOiByb290Ll92aXNpYmlsaXR5IHwgT2Zmc2NyZWVuVmlzaWJsZSksXG4gICAgICAgICAgICBpICYmXG4gICAgICAgICAgICAgICgocm9vdCA9IG9mZnNjcmVlblN1YnRyZWVJc0hpZGRlbiB8fCBvZmZzY3JlZW5TdWJ0cmVlV2FzSGlkZGVuKSxcbiAgICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgICAgIG5leHROb2RlIHx8XG4gICAgICAgICAgICAgICAgcm9vdCB8fFxuICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaykpLFxuICAgICAgICAgICAgbnVsbCA9PT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMgfHxcbiAgICAgICAgICAgICAgXCJtYW51YWxcIiAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkUHJvcHMubW9kZSlcbiAgICAgICAgICApXG4gICAgICAgICAgICBhOiBmb3IgKGN1cnJlbnQgPSBudWxsLCByb290ID0gZmluaXNoZWRXb3JrOyA7ICkge1xuICAgICAgICAgICAgICBpZiAoNSA9PT0gcm9vdC50YWcgfHwgMjYgPT09IHJvb3QudGFnIHx8IDI3ID09PSByb290LnRhZykge1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IGN1cnJlbnQgPSByb290O1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgKGhvaXN0YWJsZVJvb3QgPSBuZXh0Tm9kZS5zdGF0ZU5vZGUpLFxuICAgICAgICAgICAgICAgICAgICAgIGlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmhpZGVJbnN0YW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZS5zdGF0ZU5vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE5vZGUubWVtb2l6ZWRQcm9wc1xuICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IobmV4dE5vZGUsIG5leHROb2RlLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmICg2ID09PSByb290LnRhZykge1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IHJvb3Q7XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAobWF5YmVOb2RlcyA9IG5leHROb2RlLnN0YXRlTm9kZSksXG4gICAgICAgICAgICAgICAgICAgICAgaVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRlVGV4dEluc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heWJlTm9kZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmhpZGVUZXh0SW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF5YmVOb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Tm9kZS5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjYXB0dXJlQ29tbWl0UGhhc2VFcnJvcihuZXh0Tm9kZSwgbmV4dE5vZGUucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICgoMjIgIT09IHJvb3QudGFnICYmIDIzICE9PSByb290LnRhZykgfHxcbiAgICAgICAgICAgICAgICAgIG51bGwgPT09IHJvb3QubWVtb2l6ZWRTdGF0ZSB8fFxuICAgICAgICAgICAgICAgICAgcm9vdCA9PT0gZmluaXNoZWRXb3JrKSAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT09IHJvb3QuY2hpbGRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcm9vdC5jaGlsZC5yZXR1cm4gPSByb290O1xuICAgICAgICAgICAgICAgIHJvb3QgPSByb290LmNoaWxkO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChyb290ID09PSBmaW5pc2hlZFdvcmspIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGZvciAoOyBudWxsID09PSByb290LnNpYmxpbmc7ICkge1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09PSByb290LnJldHVybiB8fCByb290LnJldHVybiA9PT0gZmluaXNoZWRXb3JrKVxuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID09PSByb290ICYmIChjdXJyZW50ID0gbnVsbCk7XG4gICAgICAgICAgICAgICAgcm9vdCA9IHJvb3QucmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnJlbnQgPT09IHJvb3QgJiYgKGN1cnJlbnQgPSBudWxsKTtcbiAgICAgICAgICAgICAgcm9vdC5zaWJsaW5nLnJldHVybiA9IHJvb3QucmV0dXJuO1xuICAgICAgICAgICAgICByb290ID0gcm9vdC5zaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGZsYWdzICYgNCAmJlxuICAgICAgICAgICAgKChmbGFncyA9IGZpbmlzaGVkV29yay51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICBudWxsICE9PSBmbGFncyAmJlxuICAgICAgICAgICAgICAoKGN1cnJlbnQgPSBmbGFncy5yZXRyeVF1ZXVlKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICAgICgoZmxhZ3MucmV0cnlRdWV1ZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrLCBjdXJyZW50KSkpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICAoKGZsYWdzID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlKSxcbiAgICAgICAgICAgIG51bGwgIT09IGZsYWdzICYmXG4gICAgICAgICAgICAgICgoZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlID0gbnVsbCksXG4gICAgICAgICAgICAgIGF0dGFjaFN1c3BlbnNlUmV0cnlMaXN0ZW5lcnMoZmluaXNoZWRXb3JrLCBmbGFncykpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMTpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlTXV0YXRpb25FZmZlY3RzKHJvb3QsIGZpbmlzaGVkV29yayksXG4gICAgICAgICAgICBjb21taXRSZWNvbmNpbGlhdGlvbkVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0UmVjb25jaWxpYXRpb25FZmZlY3RzKGZpbmlzaGVkV29yaykge1xuICAgICAgdmFyIGZsYWdzID0gZmluaXNoZWRXb3JrLmZsYWdzO1xuICAgICAgaWYgKGZsYWdzICYgMikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpbmlzaGVkV29yaywgY29tbWl0UGxhY2VtZW50LCBmaW5pc2hlZFdvcmspO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmlzaGVkV29yay5mbGFncyAmPSAtMztcbiAgICAgIH1cbiAgICAgIGZsYWdzICYgNDA5NiAmJiAoZmluaXNoZWRXb3JrLmZsYWdzICY9IC00MDk3KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlSZXNldEZvcm1zKHBhcmVudEZpYmVyKSB7XG4gICAgICBpZiAocGFyZW50RmliZXIuc3VidHJlZUZsYWdzICYgMTAyNClcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKSB7XG4gICAgICAgICAgdmFyIGZpYmVyID0gcGFyZW50RmliZXI7XG4gICAgICAgICAgcmVjdXJzaXZlbHlSZXNldEZvcm1zKGZpYmVyKTtcbiAgICAgICAgICA1ID09PSBmaWJlci50YWcgJiYgZmliZXIuZmxhZ3MgJiAxMDI0ICYmIGZpYmVyLnN0YXRlTm9kZS5yZXNldCgpO1xuICAgICAgICAgIHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yaywgcm9vdCwgY29tbWl0dGVkTGFuZXMpIHtcbiAgICAgIGluUHJvZ3Jlc3NMYW5lcyA9IGNvbW1pdHRlZExhbmVzO1xuICAgICAgaW5Qcm9ncmVzc1Jvb3QgPSByb290O1xuICAgICAgY29tbWl0TGF5b3V0RWZmZWN0T25GaWJlcihyb290LCBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLCBmaW5pc2hlZFdvcmspO1xuICAgICAgaW5Qcm9ncmVzc1Jvb3QgPSBpblByb2dyZXNzTGFuZXMgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlTGF5b3V0RWZmZWN0cyhyb290LCBwYXJlbnRGaWJlcikge1xuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDg3NzIpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgICBjb21taXRMYXlvdXRFZmZlY3RPbkZpYmVyKHJvb3QsIHBhcmVudEZpYmVyLmFsdGVybmF0ZSwgcGFyZW50RmliZXIpLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKSB7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIGNvbW1pdEhvb2tMYXlvdXRVbm1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yay5yZXR1cm4sXG4gICAgICAgICAgICBMYXlvdXRcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBzYWZlbHlEZXRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxVbm1vdW50ICYmXG4gICAgICAgICAgICBzYWZlbHlDYWxsQ29tcG9uZW50V2lsbFVubW91bnQoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLnJldHVybixcbiAgICAgICAgICAgICAgaW5zdGFuY2VcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHNhZmVseURldGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgc2FmZWx5RGV0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgbnVsbCA9PT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNhcHBlYXJMYXlvdXRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZURpc2FwcGVhckxheW91dEVmZmVjdHMocGFyZW50RmliZXIpIHtcbiAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgZGlzYXBwZWFyTGF5b3V0RWZmZWN0cyhwYXJlbnRGaWJlciksXG4gICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIGN1cnJlbnQsXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgKSB7XG4gICAgICB2YXIgZmxhZ3MgPSBmaW5pc2hlZFdvcmsuZmxhZ3M7XG4gICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb21taXRIb29rTGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmssIExheW91dCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgY3VycmVudCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY3VycmVudC5jb21wb25lbnREaWRNb3VudCAmJlxuICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgY2FsbENvbXBvbmVudERpZE1vdW50SW5ERVYsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjdXJyZW50ID0gZmluaXNoZWRXb3JrLnVwZGF0ZVF1ZXVlO1xuICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KSB7XG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QgPSBmaW5pc2hlZFdvcmsuc3RhdGVOb2RlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdEhpZGRlbkNhbGxiYWNrcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiZcbiAgICAgICAgICAgIGZsYWdzICYgNjQgJiZcbiAgICAgICAgICAgIGNvbW1pdENsYXNzQ2FsbGJhY2tzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgc2FmZWx5QXR0YWNoUmVmKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudCAmJlxuICAgICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICBjb21taXRIb3N0TW91bnQoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBzYWZlbHlBdHRhY2hSZWYoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBpZiAoaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJiBmbGFncyAmIDQpIHtcbiAgICAgICAgICAgIGZsYWdzID0gcHVzaE5lc3RlZEVmZmVjdER1cmF0aW9ucygpO1xuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMuZWZmZWN0RHVyYXRpb24gKz1cbiAgICAgICAgICAgICAgYnViYmxlTmVzdGVkRWZmZWN0RHVyYXRpb25zKGZsYWdzKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXRQcm9maWxlcixcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICBjb21taXRTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cy5lZmZlY3REdXJhdGlvblxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoZmluaXNoZWRXb3JrLCBmaW5pc2hlZFdvcmsucmV0dXJuLCBlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVhcHBlYXJMYXlvdXRFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyAmJlxuICAgICAgICAgICAgZmxhZ3MgJiA0ICYmXG4gICAgICAgICAgICBjb21taXRTdXNwZW5zZUh5ZHJhdGlvbkNhbGxiYWNrcyhmaW5pc2hlZFJvb3QsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgbnVsbCA9PT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHNhZmVseUF0dGFjaFJlZihmaW5pc2hlZFdvcmssIGZpbmlzaGVkV29yay5yZXR1cm4pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZVJlYXBwZWFyTGF5b3V0RWZmZWN0cyhcbiAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICkge1xuICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyA9XG4gICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiYgMCAhPT0gKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDg3NzIpO1xuICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICByZWFwcGVhckxheW91dEVmZmVjdHMoXG4gICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgIHBhcmVudEZpYmVyLmFsdGVybmF0ZSxcbiAgICAgICAgICBwYXJlbnRGaWJlcixcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICksXG4gICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdE9mZnNjcmVlblBhc3NpdmVNb3VudEVmZmVjdHMoY3VycmVudCwgZmluaXNoZWRXb3JrKSB7XG4gICAgICB2YXIgcHJldmlvdXNDYWNoZSA9IG51bGw7XG4gICAgICBudWxsICE9PSBjdXJyZW50ICYmXG4gICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgIChwcmV2aW91c0NhY2hlID0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbC5wb29sKTtcbiAgICAgIGN1cnJlbnQgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgIChjdXJyZW50ID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpO1xuICAgICAgY3VycmVudCAhPT0gcHJldmlvdXNDYWNoZSAmJlxuICAgICAgICAobnVsbCAhPSBjdXJyZW50ICYmIHJldGFpbkNhY2hlKGN1cnJlbnQpLFxuICAgICAgICBudWxsICE9IHByZXZpb3VzQ2FjaGUgJiYgcmVsZWFzZUNhY2hlKHByZXZpb3VzQ2FjaGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Q2FjaGVQYXNzaXZlTW91bnRFZmZlY3QoY3VycmVudCwgZmluaXNoZWRXb3JrKSB7XG4gICAgICBjdXJyZW50ID0gbnVsbDtcbiAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5hbHRlcm5hdGUgJiZcbiAgICAgICAgKGN1cnJlbnQgPSBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLm1lbW9pemVkU3RhdGUuY2FjaGUpO1xuICAgICAgZmluaXNoZWRXb3JrID0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUuY2FjaGU7XG4gICAgICBmaW5pc2hlZFdvcmsgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgKHJldGFpbkNhY2hlKGZpbmlzaGVkV29yayksIG51bGwgIT0gY3VycmVudCAmJiByZWxlYXNlQ2FjaGUoY3VycmVudCkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgIHJvb3QsXG4gICAgICBwYXJlbnRGaWJlcixcbiAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICApIHtcbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAxMDI1NilcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICAgIGNvbW1pdFBhc3NpdmVNb3VudE9uRmliZXIoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgcGFyZW50RmliZXIsXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgKSxcbiAgICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRQYXNzaXZlTW91bnRPbkZpYmVyKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICkge1xuICAgICAgdmFyIGZsYWdzID0gZmluaXNoZWRXb3JrLmZsYWdzO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgY29tbWl0SG9va1Bhc3NpdmVNb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrLCBQYXNzaXZlIHwgSGFzRWZmZWN0KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHZhciBwcmV2RWZmZWN0RHVyYXRpb24gPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgICgoY29tbWl0dGVkTGFuZXMgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IGZpbmlzaGVkV29yay5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgKGNvbW1pdHRlZExhbmVzID0gZmluaXNoZWRXb3JrLmFsdGVybmF0ZS5tZW1vaXplZFN0YXRlLmNhY2hlKSxcbiAgICAgICAgICAgIChmaW5pc2hlZFdvcmsgPSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZS5jYWNoZSksXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmsgIT09IGNvbW1pdHRlZExhbmVzICYmXG4gICAgICAgICAgICAgIChyZXRhaW5DYWNoZShmaW5pc2hlZFdvcmspLFxuICAgICAgICAgICAgICBudWxsICE9IGNvbW1pdHRlZExhbmVzICYmIHJlbGVhc2VDYWNoZShjb21taXR0ZWRMYW5lcykpKTtcbiAgICAgICAgICBmaW5pc2hlZFJvb3QucGFzc2l2ZUVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICBwb3BOZXN0ZWRFZmZlY3REdXJhdGlvbnMocHJldkVmZmVjdER1cmF0aW9uKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICBpZiAoZmxhZ3MgJiAyMDQ4KSB7XG4gICAgICAgICAgICBwcmV2RWZmZWN0RHVyYXRpb24gPSBwdXNoTmVzdGVkRWZmZWN0RHVyYXRpb25zKCk7XG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QucGFzc2l2ZUVmZmVjdER1cmF0aW9uICs9XG4gICAgICAgICAgICAgIGJ1YmJsZU5lc3RlZEVmZmVjdER1cmF0aW9ucyhwcmV2RWZmZWN0RHVyYXRpb24pO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGNvbW1pdFByb2ZpbGVyUG9zdENvbW1pdEltcGwsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsXG4gICAgICAgICAgICAgICAgY29tbWl0U3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkUm9vdC5wYXNzaXZlRWZmZWN0RHVyYXRpb25cbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcHJldkVmZmVjdER1cmF0aW9uID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmsubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgPyBwcmV2RWZmZWN0RHVyYXRpb24uX3Zpc2liaWxpdHkgJiBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZFxuICAgICAgICAgICAgICA/IHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9uc1xuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiByZWN1cnNpdmVseVRyYXZlcnNlQXRvbWljUGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IHByZXZFZmZlY3REdXJhdGlvbi5fdmlzaWJpbGl0eSAmIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkXG4gICAgICAgICAgICAgID8gcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICA6ICgocHJldkVmZmVjdER1cmF0aW9uLl92aXNpYmlsaXR5IHw9XG4gICAgICAgICAgICAgICAgICBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCksXG4gICAgICAgICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgIDAgIT09IChmaW5pc2hlZFdvcmsuc3VidHJlZUZsYWdzICYgMTAyNTYpXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgZmxhZ3MgJiAyMDQ4ICYmXG4gICAgICAgICAgICBjb21taXRPZmZzY3JlZW5QYXNzaXZlTW91bnRFZmZlY3RzKFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdENhY2hlUGFzc2l2ZU1vdW50RWZmZWN0KGZpbmlzaGVkV29yay5hbHRlcm5hdGUsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgZmluaXNoZWRSb290LFxuICAgICAgcGFyZW50RmliZXIsXG4gICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICkge1xuICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0cyA9XG4gICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiZcbiAgICAgICAgMCAhPT0gKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEwMjU2KTtcbiAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgcmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgIHBhcmVudEZpYmVyLFxuICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgKSxcbiAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICkge1xuICAgICAgdmFyIGZsYWdzID0gZmluaXNoZWRXb3JrLmZsYWdzO1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgIGNvbW1pdHRlZFRyYW5zaXRpb25zLFxuICAgICAgICAgICAgaW5jbHVkZVdvcmtJblByb2dyZXNzRWZmZWN0c1xuICAgICAgICAgICk7XG4gICAgICAgICAgY29tbWl0SG9va1Bhc3NpdmVNb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrLCBQYXNzaXZlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICB2YXIgX2luc3RhbmNlMiA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgID8gX2luc3RhbmNlMi5fdmlzaWJpbGl0eSAmIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkXG4gICAgICAgICAgICAgID8gcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogcmVjdXJzaXZlbHlUcmF2ZXJzZUF0b21pY1Bhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiAoKF9pbnN0YW5jZTIuX3Zpc2liaWxpdHkgfD0gT2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQpLFxuICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUmVjb25uZWN0UGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgICAgICBjb21taXR0ZWRMYW5lcyxcbiAgICAgICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgICAgICkpO1xuICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHMgJiZcbiAgICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgY29tbWl0T2Zmc2NyZWVuUGFzc2l2ZU1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLmFsdGVybmF0ZSxcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VSZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkUm9vdCxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGNvbW1pdHRlZExhbmVzLFxuICAgICAgICAgICAgY29tbWl0dGVkVHJhbnNpdGlvbnMsXG4gICAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpbmNsdWRlV29ya0luUHJvZ3Jlc3NFZmZlY3RzICYmXG4gICAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgIGNvbW1pdENhY2hlUGFzc2l2ZU1vdW50RWZmZWN0KGZpbmlzaGVkV29yay5hbHRlcm5hdGUsIGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmVjdXJzaXZlbHlUcmF2ZXJzZVJlY29ubmVjdFBhc3NpdmVFZmZlY3RzKFxuICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgY29tbWl0dGVkTGFuZXMsXG4gICAgICAgICAgICBjb21taXR0ZWRUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgIGluY2x1ZGVXb3JrSW5Qcm9ncmVzc0VmZmVjdHNcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseVRyYXZlcnNlQXRvbWljUGFzc2l2ZUVmZmVjdHMoXG4gICAgICBmaW5pc2hlZFJvb3QkanNjb21wJDAsXG4gICAgICBwYXJlbnRGaWJlclxuICAgICkge1xuICAgICAgaWYgKHBhcmVudEZpYmVyLnN1YnRyZWVGbGFncyAmIDEwMjU2KVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApIHtcbiAgICAgICAgICB2YXIgZmluaXNoZWRSb290ID0gZmluaXNoZWRSb290JGpzY29tcCQwLFxuICAgICAgICAgICAgZmluaXNoZWRXb3JrID0gcGFyZW50RmliZXIsXG4gICAgICAgICAgICBmbGFncyA9IGZpbmlzaGVkV29yay5mbGFncztcbiAgICAgICAgICBzd2l0Y2ggKGZpbmlzaGVkV29yay50YWcpIHtcbiAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgICAgIGNvbW1pdE9mZnNjcmVlblBhc3NpdmVNb3VudEVmZmVjdHMoXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsuYWx0ZXJuYXRlLFxuICAgICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlQXRvbWljUGFzc2l2ZUVmZmVjdHMoXG4gICAgICAgICAgICAgICAgZmluaXNoZWRSb290LFxuICAgICAgICAgICAgICAgIGZpbmlzaGVkV29ya1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBmbGFncyAmIDIwNDggJiZcbiAgICAgICAgICAgICAgICBjb21taXRDYWNoZVBhc3NpdmVNb3VudEVmZmVjdChcbiAgICAgICAgICAgICAgICAgIGZpbmlzaGVkV29yay5hbHRlcm5hdGUsXG4gICAgICAgICAgICAgICAgICBmaW5pc2hlZFdvcmtcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBdG9taWNQYXNzaXZlRWZmZWN0cyhcbiAgICAgICAgICAgICAgICBmaW5pc2hlZFJvb3QsXG4gICAgICAgICAgICAgICAgZmluaXNoZWRXb3JrXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQocGFyZW50RmliZXIpIHtcbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiBzdXNwZW5zZXlDb21taXRGbGFnKVxuICAgICAgICBmb3IgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuY2hpbGQ7IG51bGwgIT09IHBhcmVudEZpYmVyOyApXG4gICAgICAgICAgYWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdE9uRmliZXIocGFyZW50RmliZXIpLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXRPbkZpYmVyKGZpYmVyKSB7XG4gICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChmaWJlcik7XG4gICAgICAgICAgZmliZXIuZmxhZ3MgJiBzdXNwZW5zZXlDb21taXRGbGFnICYmXG4gICAgICAgICAgICBudWxsICE9PSBmaWJlci5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICBzdXNwZW5kUmVzb3VyY2UoXG4gICAgICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290LFxuICAgICAgICAgICAgICBmaWJlci5tZW1vaXplZFN0YXRlLFxuICAgICAgICAgICAgICBmaWJlci5tZW1vaXplZFByb3BzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgcmVjdXJzaXZlbHlBY2N1bXVsYXRlU3VzcGVuc2V5Q29tbWl0KGZpYmVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgdmFyIHByZXZpb3VzSG9pc3RhYmxlUm9vdCA9IGN1cnJlbnRIb2lzdGFibGVSb290O1xuICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gZ2V0SG9pc3RhYmxlUm9vdChcbiAgICAgICAgICAgIGZpYmVyLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZWN1cnNpdmVseUFjY3VtdWxhdGVTdXNwZW5zZXlDb21taXQoZmliZXIpO1xuICAgICAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gcHJldmlvdXNIb2lzdGFibGVSb290O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIG51bGwgPT09IGZpYmVyLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICgocHJldmlvdXNIb2lzdGFibGVSb290ID0gZmliZXIuYWx0ZXJuYXRlKSxcbiAgICAgICAgICAgIG51bGwgIT09IHByZXZpb3VzSG9pc3RhYmxlUm9vdCAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gcHJldmlvdXNIb2lzdGFibGVSb290Lm1lbW9pemVkU3RhdGVcbiAgICAgICAgICAgICAgPyAoKHByZXZpb3VzSG9pc3RhYmxlUm9vdCA9IHN1c3BlbnNleUNvbW1pdEZsYWcpLFxuICAgICAgICAgICAgICAgIChzdXNwZW5zZXlDb21taXRGbGFnID0gMTY3NzcyMTYpLFxuICAgICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChmaWJlciksXG4gICAgICAgICAgICAgICAgKHN1c3BlbnNleUNvbW1pdEZsYWcgPSBwcmV2aW91c0hvaXN0YWJsZVJvb3QpKVxuICAgICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChmaWJlcikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5QWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdChmaWJlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRldGFjaEFsdGVybmF0ZVNpYmxpbmdzKHBhcmVudEZpYmVyKSB7XG4gICAgICB2YXIgcHJldmlvdXNGaWJlciA9IHBhcmVudEZpYmVyLmFsdGVybmF0ZTtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCAhPT0gcHJldmlvdXNGaWJlciAmJlxuICAgICAgICAoKHBhcmVudEZpYmVyID0gcHJldmlvdXNGaWJlci5jaGlsZCksIG51bGwgIT09IHBhcmVudEZpYmVyKVxuICAgICAgKSB7XG4gICAgICAgIHByZXZpb3VzRmliZXIuY2hpbGQgPSBudWxsO1xuICAgICAgICBkb1xuICAgICAgICAgIChwcmV2aW91c0ZpYmVyID0gcGFyZW50RmliZXIuc2libGluZyksXG4gICAgICAgICAgICAocGFyZW50RmliZXIuc2libGluZyA9IG51bGwpLFxuICAgICAgICAgICAgKHBhcmVudEZpYmVyID0gcHJldmlvdXNGaWJlcik7XG4gICAgICAgIHdoaWxlIChudWxsICE9PSBwYXJlbnRGaWJlcik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMocGFyZW50RmliZXIpIHtcbiAgICAgIHZhciBkZWxldGlvbnMgPSBwYXJlbnRGaWJlci5kZWxldGlvbnM7XG4gICAgICBpZiAoMCAhPT0gKHBhcmVudEZpYmVyLmZsYWdzICYgMTYpKSB7XG4gICAgICAgIGlmIChudWxsICE9PSBkZWxldGlvbnMpXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxldGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZFRvRGVsZXRlID0gZGVsZXRpb25zW2ldO1xuICAgICAgICAgICAgbmV4dEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgICAgICAgICBjb21taXRQYXNzaXZlVW5tb3VudEVmZmVjdHNJbnNpZGVPZkRlbGV0ZWRUcmVlX2JlZ2luKFxuICAgICAgICAgICAgICBjaGlsZFRvRGVsZXRlLFxuICAgICAgICAgICAgICBwYXJlbnRGaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIGRldGFjaEFsdGVybmF0ZVNpYmxpbmdzKHBhcmVudEZpYmVyKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAxMDI1NilcbiAgICAgICAgZm9yIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLmNoaWxkOyBudWxsICE9PSBwYXJlbnRGaWJlcjsgKVxuICAgICAgICAgIGNvbW1pdFBhc3NpdmVVbm1vdW50T25GaWJlcihwYXJlbnRGaWJlciksXG4gICAgICAgICAgICAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5zaWJsaW5nKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0UGFzc2l2ZVVubW91bnRPbkZpYmVyKGZpbmlzaGVkV29yaykge1xuICAgICAgc3dpdGNoIChmaW5pc2hlZFdvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZVVubW91bnRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmluaXNoZWRXb3JrLmZsYWdzICYgMjA0OCAmJlxuICAgICAgICAgICAgY29tbWl0SG9va1Bhc3NpdmVVbm1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgZmluaXNoZWRXb3JrLFxuICAgICAgICAgICAgICBmaW5pc2hlZFdvcmsucmV0dXJuLFxuICAgICAgICAgICAgICBQYXNzaXZlIHwgSGFzRWZmZWN0XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgdmFyIHByZXZFZmZlY3REdXJhdGlvbiA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZVVubW91bnRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZS5wYXNzaXZlRWZmZWN0RHVyYXRpb24gKz1cbiAgICAgICAgICAgIHBvcE5lc3RlZEVmZmVjdER1cmF0aW9ucyhwcmV2RWZmZWN0RHVyYXRpb24pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIHByZXZFZmZlY3REdXJhdGlvbiA9IHB1c2hOZXN0ZWRFZmZlY3REdXJhdGlvbnMoKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZVVubW91bnRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgZmluaXNoZWRXb3JrLnN0YXRlTm9kZS5wYXNzaXZlRWZmZWN0RHVyYXRpb24gKz1cbiAgICAgICAgICAgIGJ1YmJsZU5lc3RlZEVmZmVjdER1cmF0aW9ucyhwcmV2RWZmZWN0RHVyYXRpb24pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHByZXZFZmZlY3REdXJhdGlvbiA9IGZpbmlzaGVkV29yay5zdGF0ZU5vZGU7XG4gICAgICAgICAgbnVsbCAhPT0gZmluaXNoZWRXb3JrLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICBwcmV2RWZmZWN0RHVyYXRpb24uX3Zpc2liaWxpdHkgJiBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCAmJlxuICAgICAgICAgIChudWxsID09PSBmaW5pc2hlZFdvcmsucmV0dXJuIHx8IDEzICE9PSBmaW5pc2hlZFdvcmsucmV0dXJuLnRhZylcbiAgICAgICAgICAgID8gKChwcmV2RWZmZWN0RHVyYXRpb24uX3Zpc2liaWxpdHkgJj1cbiAgICAgICAgICAgICAgICB+T2Zmc2NyZWVuUGFzc2l2ZUVmZmVjdHNDb25uZWN0ZWQpLFxuICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzY29ubmVjdFBhc3NpdmVFZmZlY3RzKGZpbmlzaGVkV29yaykpXG4gICAgICAgICAgICA6IHJlY3Vyc2l2ZWx5VHJhdmVyc2VQYXNzaXZlVW5tb3VudEVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlUGFzc2l2ZVVubW91bnRFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNjb25uZWN0UGFzc2l2ZUVmZmVjdHMocGFyZW50RmliZXIpIHtcbiAgICAgIHZhciBkZWxldGlvbnMgPSBwYXJlbnRGaWJlci5kZWxldGlvbnM7XG4gICAgICBpZiAoMCAhPT0gKHBhcmVudEZpYmVyLmZsYWdzICYgMTYpKSB7XG4gICAgICAgIGlmIChudWxsICE9PSBkZWxldGlvbnMpXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWxldGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZFRvRGVsZXRlID0gZGVsZXRpb25zW2ldO1xuICAgICAgICAgICAgbmV4dEVmZmVjdCA9IGNoaWxkVG9EZWxldGU7XG4gICAgICAgICAgICBjb21taXRQYXNzaXZlVW5tb3VudEVmZmVjdHNJbnNpZGVPZkRlbGV0ZWRUcmVlX2JlZ2luKFxuICAgICAgICAgICAgICBjaGlsZFRvRGVsZXRlLFxuICAgICAgICAgICAgICBwYXJlbnRGaWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIGRldGFjaEFsdGVybmF0ZVNpYmxpbmdzKHBhcmVudEZpYmVyKTtcbiAgICAgIH1cbiAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7IClcbiAgICAgICAgZGlzY29ubmVjdFBhc3NpdmVFZmZlY3QocGFyZW50RmliZXIpLFxuICAgICAgICAgIChwYXJlbnRGaWJlciA9IHBhcmVudEZpYmVyLnNpYmxpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNjb25uZWN0UGFzc2l2ZUVmZmVjdChmaW5pc2hlZFdvcmspIHtcbiAgICAgIHN3aXRjaCAoZmluaXNoZWRXb3JrLnRhZykge1xuICAgICAgICBjYXNlIDA6XG4gICAgICAgIGNhc2UgMTE6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgY29tbWl0SG9va1Bhc3NpdmVVbm1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgIGZpbmlzaGVkV29yayxcbiAgICAgICAgICAgIGZpbmlzaGVkV29yay5yZXR1cm4sXG4gICAgICAgICAgICBQYXNzaXZlXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzY29ubmVjdFBhc3NpdmVFZmZlY3RzKGZpbmlzaGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gZmluaXNoZWRXb3JrLnN0YXRlTm9kZTtcbiAgICAgICAgICBpbnN0YW5jZS5fdmlzaWJpbGl0eSAmIE9mZnNjcmVlblBhc3NpdmVFZmZlY3RzQ29ubmVjdGVkICYmXG4gICAgICAgICAgICAoKGluc3RhbmNlLl92aXNpYmlsaXR5ICY9IH5PZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCksXG4gICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlRGlzY29ubmVjdFBhc3NpdmVFZmZlY3RzKGZpbmlzaGVkV29yaykpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlY3Vyc2l2ZWx5VHJhdmVyc2VEaXNjb25uZWN0UGFzc2l2ZUVmZmVjdHMoZmluaXNoZWRXb3JrKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0UGFzc2l2ZVVubW91bnRFZmZlY3RzSW5zaWRlT2ZEZWxldGVkVHJlZV9iZWdpbihcbiAgICAgIGRlbGV0ZWRTdWJ0cmVlUm9vdCxcbiAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3JcbiAgICApIHtcbiAgICAgIGZvciAoOyBudWxsICE9PSBuZXh0RWZmZWN0OyApIHtcbiAgICAgICAgdmFyIGZpYmVyID0gbmV4dEVmZmVjdCxcbiAgICAgICAgICBjdXJyZW50ID0gZmliZXI7XG4gICAgICAgIHN3aXRjaCAoY3VycmVudC50YWcpIHtcbiAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgY29tbWl0SG9va1Bhc3NpdmVVbm1vdW50RWZmZWN0cyhcbiAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICAgICAgUGFzc2l2ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgICAgICAgICgoY3VycmVudCA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCksXG4gICAgICAgICAgICAgIG51bGwgIT0gY3VycmVudCAmJiByZXRhaW5DYWNoZShjdXJyZW50KSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgcmVsZWFzZUNhY2hlKGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5jYWNoZSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudCA9IGZpYmVyLmNoaWxkO1xuICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCkgKGN1cnJlbnQucmV0dXJuID0gZmliZXIpLCAobmV4dEVmZmVjdCA9IGN1cnJlbnQpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgYTogZm9yIChmaWJlciA9IGRlbGV0ZWRTdWJ0cmVlUm9vdDsgbnVsbCAhPT0gbmV4dEVmZmVjdDsgKSB7XG4gICAgICAgICAgICBjdXJyZW50ID0gbmV4dEVmZmVjdDtcbiAgICAgICAgICAgIHZhciBzaWJsaW5nID0gY3VycmVudC5zaWJsaW5nLFxuICAgICAgICAgICAgICByZXR1cm5GaWJlciA9IGN1cnJlbnQucmV0dXJuO1xuICAgICAgICAgICAgZGV0YWNoRmliZXJBZnRlckVmZmVjdHMoY3VycmVudCk7XG4gICAgICAgICAgICBpZiAoY3VycmVudCA9PT0gZmliZXIpIHtcbiAgICAgICAgICAgICAgbmV4dEVmZmVjdCA9IG51bGw7XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gc2libGluZykge1xuICAgICAgICAgICAgICBzaWJsaW5nLnJldHVybiA9IHJldHVybkZpYmVyO1xuICAgICAgICAgICAgICBuZXh0RWZmZWN0ID0gc2libGluZztcbiAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHRFZmZlY3QgPSByZXR1cm5GaWJlcjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIEZpYmVyTm9kZSh0YWcsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSB7XG4gICAgICB0aGlzLnRhZyA9IHRhZztcbiAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgdGhpcy5zaWJsaW5nID1cbiAgICAgICAgdGhpcy5jaGlsZCA9XG4gICAgICAgIHRoaXMucmV0dXJuID1cbiAgICAgICAgdGhpcy5zdGF0ZU5vZGUgPVxuICAgICAgICB0aGlzLnR5cGUgPVxuICAgICAgICB0aGlzLmVsZW1lbnRUeXBlID1cbiAgICAgICAgICBudWxsO1xuICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICB0aGlzLnJlZkNsZWFudXAgPSB0aGlzLnJlZiA9IG51bGw7XG4gICAgICB0aGlzLnBlbmRpbmdQcm9wcyA9IHBlbmRpbmdQcm9wcztcbiAgICAgIHRoaXMuZGVwZW5kZW5jaWVzID1cbiAgICAgICAgdGhpcy5tZW1vaXplZFN0YXRlID1cbiAgICAgICAgdGhpcy51cGRhdGVRdWV1ZSA9XG4gICAgICAgIHRoaXMubWVtb2l6ZWRQcm9wcyA9XG4gICAgICAgICAgbnVsbDtcbiAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICB0aGlzLnN1YnRyZWVGbGFncyA9IHRoaXMuZmxhZ3MgPSAwO1xuICAgICAgdGhpcy5kZWxldGlvbnMgPSBudWxsO1xuICAgICAgdGhpcy5jaGlsZExhbmVzID0gdGhpcy5sYW5lcyA9IDA7XG4gICAgICB0aGlzLmFsdGVybmF0ZSA9IG51bGw7XG4gICAgICB0aGlzLmFjdHVhbER1cmF0aW9uID0gLTA7XG4gICAgICB0aGlzLmFjdHVhbFN0YXJ0VGltZSA9IC0xLjE7XG4gICAgICB0aGlzLnRyZWVCYXNlRHVyYXRpb24gPSB0aGlzLnNlbGZCYXNlRHVyYXRpb24gPSAtMDtcbiAgICAgIHRoaXMuX2RlYnVnT3duZXIgPSB0aGlzLl9kZWJ1Z0luZm8gPSBudWxsO1xuICAgICAgdGhpcy5fZGVidWdOZWVkc1JlbW91bnQgPSAhMTtcbiAgICAgIHRoaXMuX2RlYnVnSG9va1R5cGVzID0gbnVsbDtcbiAgICAgIGhhc0JhZE1hcFBvbHlmaWxsIHx8XG4gICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyB8fFxuICAgICAgICBPYmplY3QucHJldmVudEV4dGVuc2lvbnModGhpcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3VsZENvbnN0cnVjdChDb21wb25lbnQpIHtcbiAgICAgIENvbXBvbmVudCA9IENvbXBvbmVudC5wcm90b3R5cGU7XG4gICAgICByZXR1cm4gISghQ29tcG9uZW50IHx8ICFDb21wb25lbnQuaXNSZWFjdENvbXBvbmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZVdvcmtJblByb2dyZXNzKGN1cnJlbnQsIHBlbmRpbmdQcm9wcykge1xuICAgICAgdmFyIHdvcmtJblByb2dyZXNzID0gY3VycmVudC5hbHRlcm5hdGU7XG4gICAgICBudWxsID09PSB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MgPSBjcmVhdGVGaWJlcihcbiAgICAgICAgICAgIGN1cnJlbnQudGFnLFxuICAgICAgICAgICAgcGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgY3VycmVudC5rZXksXG4gICAgICAgICAgICBjdXJyZW50Lm1vZGVcbiAgICAgICAgICApKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZWxlbWVudFR5cGUgPSBjdXJyZW50LmVsZW1lbnRUeXBlKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHlwZSA9IGN1cnJlbnQudHlwZSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnQuc3RhdGVOb2RlKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuX2RlYnVnT3duZXIgPSBjdXJyZW50Ll9kZWJ1Z093bmVyKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuX2RlYnVnSG9va1R5cGVzID0gY3VycmVudC5fZGVidWdIb29rVHlwZXMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUgPSBjdXJyZW50KSxcbiAgICAgICAgICAoY3VycmVudC5hbHRlcm5hdGUgPSB3b3JrSW5Qcm9ncmVzcykpXG4gICAgICAgIDogKCh3b3JrSW5Qcm9ncmVzcy5wZW5kaW5nUHJvcHMgPSBwZW5kaW5nUHJvcHMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50eXBlID0gY3VycmVudC50eXBlKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3VidHJlZUZsYWdzID0gMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmRlbGV0aW9ucyA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5hY3R1YWxEdXJhdGlvbiA9IC0wKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuYWN0dWFsU3RhcnRUaW1lID0gLTEuMSkpO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgPSBjdXJyZW50LmZsYWdzICYgMzE0NTcyODA7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzID0gY3VycmVudC5jaGlsZExhbmVzO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubGFuZXMgPSBjdXJyZW50LmxhbmVzO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50LmNoaWxkO1xuICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IGN1cnJlbnQubWVtb2l6ZWRQcm9wcztcbiAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGU7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSA9IGN1cnJlbnQudXBkYXRlUXVldWU7XG4gICAgICBwZW5kaW5nUHJvcHMgPSBjdXJyZW50LmRlcGVuZGVuY2llcztcbiAgICAgIHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9XG4gICAgICAgIG51bGwgPT09IHBlbmRpbmdQcm9wc1xuICAgICAgICAgID8gbnVsbFxuICAgICAgICAgIDoge1xuICAgICAgICAgICAgICBsYW5lczogcGVuZGluZ1Byb3BzLmxhbmVzLFxuICAgICAgICAgICAgICBmaXJzdENvbnRleHQ6IHBlbmRpbmdQcm9wcy5maXJzdENvbnRleHQsXG4gICAgICAgICAgICAgIF9kZWJ1Z1RoZW5hYmxlU3RhdGU6IHBlbmRpbmdQcm9wcy5fZGVidWdUaGVuYWJsZVN0YXRlXG4gICAgICAgICAgICB9O1xuICAgICAgd29ya0luUHJvZ3Jlc3Muc2libGluZyA9IGN1cnJlbnQuc2libGluZztcbiAgICAgIHdvcmtJblByb2dyZXNzLmluZGV4ID0gY3VycmVudC5pbmRleDtcbiAgICAgIHdvcmtJblByb2dyZXNzLnJlZiA9IGN1cnJlbnQucmVmO1xuICAgICAgd29ya0luUHJvZ3Jlc3MucmVmQ2xlYW51cCA9IGN1cnJlbnQucmVmQ2xlYW51cDtcbiAgICAgIHdvcmtJblByb2dyZXNzLnNlbGZCYXNlRHVyYXRpb24gPSBjdXJyZW50LnNlbGZCYXNlRHVyYXRpb247XG4gICAgICB3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uID0gY3VycmVudC50cmVlQmFzZUR1cmF0aW9uO1xuICAgICAgd29ya0luUHJvZ3Jlc3MuX2RlYnVnSW5mbyA9IGN1cnJlbnQuX2RlYnVnSW5mbztcbiAgICAgIHdvcmtJblByb2dyZXNzLl9kZWJ1Z05lZWRzUmVtb3VudCA9IGN1cnJlbnQuX2RlYnVnTmVlZHNSZW1vdW50O1xuICAgICAgc3dpdGNoICh3b3JrSW5Qcm9ncmVzcy50YWcpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcoY3VycmVudC50eXBlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHdvcmtJblByb2dyZXNzLnR5cGUgPSByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcoY3VycmVudC50eXBlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy50eXBlID0gcmVzb2x2ZUZvcndhcmRSZWZGb3JIb3RSZWxvYWRpbmcoY3VycmVudC50eXBlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3b3JrSW5Qcm9ncmVzcztcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRXb3JrSW5Qcm9ncmVzcyh3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzICY9IDMxNDU3MjgyO1xuICAgICAgdmFyIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGU7XG4gICAgICBudWxsID09PSBjdXJyZW50XG4gICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzID0gMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzID0gcmVuZGVyTGFuZXMpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdWJ0cmVlRmxhZ3MgPSAwKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRQcm9wcyA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gbnVsbCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmRlcGVuZGVuY2llcyA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBudWxsKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc2VsZkJhc2VEdXJhdGlvbiA9IDApLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy50cmVlQmFzZUR1cmF0aW9uID0gMCkpXG4gICAgICAgIDogKCh3b3JrSW5Qcm9ncmVzcy5jaGlsZExhbmVzID0gY3VycmVudC5jaGlsZExhbmVzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSBjdXJyZW50LmxhbmVzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSBjdXJyZW50LmNoaWxkKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3VidHJlZUZsYWdzID0gMCksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLmRlbGV0aW9ucyA9IG51bGwpLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzID0gY3VycmVudC5tZW1vaXplZFByb3BzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnVwZGF0ZVF1ZXVlID0gY3VycmVudC51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLnR5cGUgPSBjdXJyZW50LnR5cGUpLFxuICAgICAgICAgIChyZW5kZXJMYW5lcyA9IGN1cnJlbnQuZGVwZW5kZW5jaWVzKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZGVwZW5kZW5jaWVzID1cbiAgICAgICAgICAgIG51bGwgPT09IHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgIGxhbmVzOiByZW5kZXJMYW5lcy5sYW5lcyxcbiAgICAgICAgICAgICAgICAgIGZpcnN0Q29udGV4dDogcmVuZGVyTGFuZXMuZmlyc3RDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgX2RlYnVnVGhlbmFibGVTdGF0ZTogcmVuZGVyTGFuZXMuX2RlYnVnVGhlbmFibGVTdGF0ZVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5zZWxmQmFzZUR1cmF0aW9uID0gY3VycmVudC5zZWxmQmFzZUR1cmF0aW9uKSxcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiA9IGN1cnJlbnQudHJlZUJhc2VEdXJhdGlvbikpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlckZyb21UeXBlQW5kUHJvcHMoXG4gICAgICB0eXBlLFxuICAgICAga2V5LFxuICAgICAgcGVuZGluZ1Byb3BzLFxuICAgICAgb3duZXIsXG4gICAgICBtb2RlLFxuICAgICAgbGFuZXNcbiAgICApIHtcbiAgICAgIHZhciBmaWJlclRhZyA9IDAsXG4gICAgICAgIHJlc29sdmVkVHlwZSA9IHR5cGU7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc2hvdWxkQ29uc3RydWN0KHR5cGUpICYmIChmaWJlclRhZyA9IDEpLFxuICAgICAgICAgIChyZXNvbHZlZFR5cGUgPSByZXNvbHZlRnVuY3Rpb25Gb3JIb3RSZWxvYWRpbmcocmVzb2x2ZWRUeXBlKSk7XG4gICAgICBlbHNlIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgKGZpYmVyVGFnID0gZ2V0SG9zdENvbnRleHQoKSksXG4gICAgICAgICAgKGZpYmVyVGFnID0gaXNIb3N0SG9pc3RhYmxlVHlwZSh0eXBlLCBwZW5kaW5nUHJvcHMsIGZpYmVyVGFnKVxuICAgICAgICAgICAgPyAyNlxuICAgICAgICAgICAgOiBcImh0bWxcIiA9PT0gdHlwZSB8fCBcImhlYWRcIiA9PT0gdHlwZSB8fCBcImJvZHlcIiA9PT0gdHlwZVxuICAgICAgICAgICAgICA/IDI3XG4gICAgICAgICAgICAgIDogNSk7XG4gICAgICBlbHNlXG4gICAgICAgIGE6IHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVGaWJlckZyb21GcmFnbWVudChcbiAgICAgICAgICAgICAgcGVuZGluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgICAgICAgICBtb2RlLFxuICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICAgIGZpYmVyVGFnID0gODtcbiAgICAgICAgICAgIG1vZGUgfD0gU3RyaWN0TGVnYWN5TW9kZTtcbiAgICAgICAgICAgIG1vZGUgfD0gU3RyaWN0RWZmZWN0c01vZGU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAodHlwZSA9IHBlbmRpbmdQcm9wcyksXG4gICAgICAgICAgICAgIChvd25lciA9IG1vZGUpLFxuICAgICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgdHlwZS5pZCAmJlxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAnUHJvZmlsZXIgbXVzdCBzcGVjaWZ5IGFuIFwiaWRcIiBvZiB0eXBlIGBzdHJpbmdgIGFzIGEgcHJvcC4gUmVjZWl2ZWQgdGhlIHR5cGUgYCVzYCBpbnN0ZWFkLicsXG4gICAgICAgICAgICAgICAgICB0eXBlb2YgdHlwZS5pZFxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIChrZXkgPSBjcmVhdGVGaWJlcigxMiwgdHlwZSwga2V5LCBvd25lciB8IFByb2ZpbGVNb2RlKSksXG4gICAgICAgICAgICAgIChrZXkuZWxlbWVudFR5cGUgPSBSRUFDVF9QUk9GSUxFUl9UWVBFKSxcbiAgICAgICAgICAgICAgKGtleS5sYW5lcyA9IGxhbmVzKSxcbiAgICAgICAgICAgICAgKGtleS5zdGF0ZU5vZGUgPSB7IGVmZmVjdER1cmF0aW9uOiAwLCBwYXNzaXZlRWZmZWN0RHVyYXRpb246IDAgfSksXG4gICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoa2V5ID0gY3JlYXRlRmliZXIoMTMsIHBlbmRpbmdQcm9wcywga2V5LCBtb2RlKSksXG4gICAgICAgICAgICAgIChrZXkuZWxlbWVudFR5cGUgPSBSRUFDVF9TVVNQRU5TRV9UWVBFKSxcbiAgICAgICAgICAgICAgKGtleS5sYW5lcyA9IGxhbmVzKSxcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGtleSA9IGNyZWF0ZUZpYmVyKDE5LCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSkpLFxuICAgICAgICAgICAgICAoa2V5LmVsZW1lbnRUeXBlID0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFKSxcbiAgICAgICAgICAgICAgKGtleS5sYW5lcyA9IGxhbmVzKSxcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfT0ZGU0NSRUVOX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRmliZXJGcm9tT2Zmc2NyZWVuKHBlbmRpbmdQcm9wcywgbW9kZSwgbGFuZXMsIGtleSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSAmJiBudWxsICE9PSB0eXBlKVxuICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICAgICAgICBmaWJlclRhZyA9IDEwO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICAgICAgICBmaWJlclRhZyA9IDk7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gMTE7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlZFR5cGUgPSByZXNvbHZlRm9yd2FyZFJlZkZvckhvdFJlbG9hZGluZyhyZXNvbHZlZFR5cGUpO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgICAgICAgICAgIGZpYmVyVGFnID0gMTQ7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgICAgICAgZmliZXJUYWcgPSAxNjtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmVkVHlwZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlZFR5cGUgPSBcIlwiO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICB2b2lkIDAgPT09IHR5cGUgfHxcbiAgICAgICAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgICAgIDAgPT09IE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmVzb2x2ZWRUeXBlICs9XG4gICAgICAgICAgICAgICAgXCIgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgICAgICAgICAgbnVsbCA9PT0gdHlwZVxuICAgICAgICAgICAgICA/IChwZW5kaW5nUHJvcHMgPSBcIm51bGxcIilcbiAgICAgICAgICAgICAgOiBpc0FycmF5SW1wbCh0eXBlKVxuICAgICAgICAgICAgICAgID8gKHBlbmRpbmdQcm9wcyA9IFwiYXJyYXlcIilcbiAgICAgICAgICAgICAgICA6IHZvaWQgMCAhPT0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICAgICAgICAgICAgID8gKChwZW5kaW5nUHJvcHMgPVxuICAgICAgICAgICAgICAgICAgICAgIFwiPFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAoZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgXCJVbmtub3duXCIpICtcbiAgICAgICAgICAgICAgICAgICAgICBcIiAvPlwiKSxcbiAgICAgICAgICAgICAgICAgICAgKHJlc29sdmVkVHlwZSA9XG4gICAgICAgICAgICAgICAgICAgICAgXCIgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD9cIikpXG4gICAgICAgICAgICAgICAgICA6IChwZW5kaW5nUHJvcHMgPSB0eXBlb2YgdHlwZSk7XG4gICAgICAgICAgICAoZmliZXJUYWcgPSBvd25lciA/IGdldENvbXBvbmVudE5hbWVGcm9tT3duZXIob3duZXIpIDogbnVsbCkgJiZcbiAgICAgICAgICAgICAgKHJlc29sdmVkVHlwZSArPVxuICAgICAgICAgICAgICAgIFwiXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYFwiICsgZmliZXJUYWcgKyBcImAuXCIpO1xuICAgICAgICAgICAgZmliZXJUYWcgPSAyOTtcbiAgICAgICAgICAgIHBlbmRpbmdQcm9wcyA9IEVycm9yKFxuICAgICAgICAgICAgICBcIkVsZW1lbnQgdHlwZSBpcyBpbnZhbGlkOiBleHBlY3RlZCBhIHN0cmluZyAoZm9yIGJ1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykgYnV0IGdvdDogXCIgK1xuICAgICAgICAgICAgICAgIChwZW5kaW5nUHJvcHMgKyBcIi5cIiArIHJlc29sdmVkVHlwZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXNvbHZlZFR5cGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICBrZXkgPSBjcmVhdGVGaWJlcihmaWJlclRhZywgcGVuZGluZ1Byb3BzLCBrZXksIG1vZGUpO1xuICAgICAga2V5LmVsZW1lbnRUeXBlID0gdHlwZTtcbiAgICAgIGtleS50eXBlID0gcmVzb2x2ZWRUeXBlO1xuICAgICAga2V5LmxhbmVzID0gbGFuZXM7XG4gICAgICBrZXkuX2RlYnVnT3duZXIgPSBvd25lcjtcbiAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbUVsZW1lbnQoZWxlbWVudCwgbW9kZSwgbGFuZXMpIHtcbiAgICAgIG1vZGUgPSBjcmVhdGVGaWJlckZyb21UeXBlQW5kUHJvcHMoXG4gICAgICAgIGVsZW1lbnQudHlwZSxcbiAgICAgICAgZWxlbWVudC5rZXksXG4gICAgICAgIGVsZW1lbnQucHJvcHMsXG4gICAgICAgIGVsZW1lbnQuX293bmVyLFxuICAgICAgICBtb2RlLFxuICAgICAgICBsYW5lc1xuICAgICAgKTtcbiAgICAgIG1vZGUuX2RlYnVnT3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIHJldHVybiBtb2RlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlckZyb21GcmFnbWVudChlbGVtZW50cywgbW9kZSwgbGFuZXMsIGtleSkge1xuICAgICAgZWxlbWVudHMgPSBjcmVhdGVGaWJlcig3LCBlbGVtZW50cywga2V5LCBtb2RlKTtcbiAgICAgIGVsZW1lbnRzLmxhbmVzID0gbGFuZXM7XG4gICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbU9mZnNjcmVlbihwZW5kaW5nUHJvcHMsIG1vZGUsIGxhbmVzLCBrZXkpIHtcbiAgICAgIHBlbmRpbmdQcm9wcyA9IGNyZWF0ZUZpYmVyKDIyLCBwZW5kaW5nUHJvcHMsIGtleSwgbW9kZSk7XG4gICAgICBwZW5kaW5nUHJvcHMuZWxlbWVudFR5cGUgPSBSRUFDVF9PRkZTQ1JFRU5fVFlQRTtcbiAgICAgIHBlbmRpbmdQcm9wcy5sYW5lcyA9IGxhbmVzO1xuICAgICAgdmFyIHByaW1hcnlDaGlsZEluc3RhbmNlID0ge1xuICAgICAgICBfdmlzaWJpbGl0eTogT2Zmc2NyZWVuVmlzaWJsZSxcbiAgICAgICAgX3BlbmRpbmdWaXNpYmlsaXR5OiBPZmZzY3JlZW5WaXNpYmxlLFxuICAgICAgICBfcGVuZGluZ01hcmtlcnM6IG51bGwsXG4gICAgICAgIF9yZXRyeUNhY2hlOiBudWxsLFxuICAgICAgICBfdHJhbnNpdGlvbnM6IG51bGwsXG4gICAgICAgIF9jdXJyZW50OiBudWxsLFxuICAgICAgICBkZXRhY2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBwcmltYXJ5Q2hpbGRJbnN0YW5jZSxcbiAgICAgICAgICAgIGZpYmVyID0gaW5zdGFuY2UuX2N1cnJlbnQ7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGZpYmVyKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiQ2FsbGluZyBPZmZzY3JlZW4uZGV0YWNoIGJlZm9yZSBpbnN0YW5jZSBoYW5kbGUgaGFzIGJlZW4gc2V0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmICgwID09PSAoaW5zdGFuY2UuX3BlbmRpbmdWaXNpYmlsaXR5ICYgT2Zmc2NyZWVuRGV0YWNoZWQpKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICAgICAgICBudWxsICE9PSByb290ICYmXG4gICAgICAgICAgICAgICgoaW5zdGFuY2UuX3BlbmRpbmdWaXNpYmlsaXR5IHw9IE9mZnNjcmVlbkRldGFjaGVkKSxcbiAgICAgICAgICAgICAgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCAyKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhdHRhY2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBwcmltYXJ5Q2hpbGRJbnN0YW5jZSxcbiAgICAgICAgICAgIGZpYmVyID0gaW5zdGFuY2UuX2N1cnJlbnQ7XG4gICAgICAgICAgaWYgKG51bGwgPT09IGZpYmVyKVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgIFwiQ2FsbGluZyBPZmZzY3JlZW4uZGV0YWNoIGJlZm9yZSBpbnN0YW5jZSBoYW5kbGUgaGFzIGJlZW4gc2V0LlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmICgwICE9PSAoaW5zdGFuY2UuX3BlbmRpbmdWaXNpYmlsaXR5ICYgT2Zmc2NyZWVuRGV0YWNoZWQpKSB7XG4gICAgICAgICAgICB2YXIgcm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICAgICAgICBudWxsICE9PSByb290ICYmXG4gICAgICAgICAgICAgICgoaW5zdGFuY2UuX3BlbmRpbmdWaXNpYmlsaXR5ICY9IH5PZmZzY3JlZW5EZXRhY2hlZCksXG4gICAgICAgICAgICAgIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgMikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBlbmRpbmdQcm9wcy5zdGF0ZU5vZGUgPSBwcmltYXJ5Q2hpbGRJbnN0YW5jZTtcbiAgICAgIHJldHVybiBwZW5kaW5nUHJvcHM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpYmVyRnJvbVRleHQoY29udGVudCwgbW9kZSwgbGFuZXMpIHtcbiAgICAgIGNvbnRlbnQgPSBjcmVhdGVGaWJlcig2LCBjb250ZW50LCBudWxsLCBtb2RlKTtcbiAgICAgIGNvbnRlbnQubGFuZXMgPSBsYW5lcztcbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjcmVhdGVGaWJlckZyb21Qb3J0YWwocG9ydGFsLCBtb2RlLCBsYW5lcykge1xuICAgICAgbW9kZSA9IGNyZWF0ZUZpYmVyKFxuICAgICAgICA0LFxuICAgICAgICBudWxsICE9PSBwb3J0YWwuY2hpbGRyZW4gPyBwb3J0YWwuY2hpbGRyZW4gOiBbXSxcbiAgICAgICAgcG9ydGFsLmtleSxcbiAgICAgICAgbW9kZVxuICAgICAgKTtcbiAgICAgIG1vZGUubGFuZXMgPSBsYW5lcztcbiAgICAgIG1vZGUuc3RhdGVOb2RlID0ge1xuICAgICAgICBjb250YWluZXJJbmZvOiBwb3J0YWwuY29udGFpbmVySW5mbyxcbiAgICAgICAgcGVuZGluZ0NoaWxkcmVuOiBudWxsLFxuICAgICAgICBpbXBsZW1lbnRhdGlvbjogcG9ydGFsLmltcGxlbWVudGF0aW9uXG4gICAgICB9O1xuICAgICAgcmV0dXJuIG1vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWxvYWRSZXNvdXJjZUFuZFN1c3BlbmRJZk5lZWRlZCh3b3JrSW5Qcm9ncmVzcywgcmVzb3VyY2UpIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHlsZXNoZWV0XCIgIT09IHJlc291cmNlLnR5cGUgfHxcbiAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBJbnNlcnRlZCkgIT09IE5vdExvYWRlZFxuICAgICAgKVxuICAgICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMTY3NzcyMTc7XG4gICAgICBlbHNlIGlmIChcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxNjc3NzIxNiksICFwcmVsb2FkUmVzb3VyY2UocmVzb3VyY2UpKVxuICAgICAgKSB7XG4gICAgICAgIHJlc291cmNlID0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudDtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIG51bGwgIT09IHJlc291cmNlICYmXG4gICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDQxOTQxNzYpID09PVxuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgICA/IG51bGwgIT09IHNoZWxsQm91bmRhcnlcbiAgICAgICAgICAgIDogKCh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDYyOTE0NTYwKSAhPT1cbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDUzNjg3MDkxMikpIHx8XG4gICAgICAgICAgICAgIHJlc291cmNlICE9PSBzaGVsbEJvdW5kYXJ5KVxuICAgICAgICApXG4gICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgKChzdXNwZW5kZWRUaGVuYWJsZSA9IG5vb3BTdXNwZW5zZXlDb21taXRUaGVuYWJsZSksXG4gICAgICAgICAgICBTdXNwZW5zZXlDb21taXRFeGNlcHRpb24pXG4gICAgICAgICAgKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gODE5MjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVSZXRyeUVmZmVjdCh3b3JrSW5Qcm9ncmVzcywgcmV0cnlRdWV1ZSkge1xuICAgICAgbnVsbCAhPT0gcmV0cnlRdWV1ZSAmJiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gNCk7XG4gICAgICB3b3JrSW5Qcm9ncmVzcy5mbGFncyAmIDE2Mzg0ICYmXG4gICAgICAgICgocmV0cnlRdWV1ZSA9XG4gICAgICAgICAgMjIgIT09IHdvcmtJblByb2dyZXNzLnRhZyA/IGNsYWltTmV4dFJldHJ5TGFuZSgpIDogNTM2ODcwOTEyKSxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzLmxhbmVzIHw9IHJldHJ5UXVldWUpLFxuICAgICAgICAod29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzIHw9IHJldHJ5UXVldWUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3V0T2ZmVGFpbElmTmVlZGVkKHJlbmRlclN0YXRlLCBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2spIHtcbiAgICAgIGlmICghaXNIeWRyYXRpbmcpXG4gICAgICAgIHN3aXRjaCAocmVuZGVyU3RhdGUudGFpbE1vZGUpIHtcbiAgICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgICAgICBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2sgPSByZW5kZXJTdGF0ZS50YWlsO1xuICAgICAgICAgICAgZm9yICh2YXIgbGFzdFRhaWxOb2RlID0gbnVsbDsgbnVsbCAhPT0gaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrOyApXG4gICAgICAgICAgICAgIG51bGwgIT09IGhhc1JlbmRlcmVkQVRhaWxGYWxsYmFjay5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgICAobGFzdFRhaWxOb2RlID0gaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrKSxcbiAgICAgICAgICAgICAgICAoaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrID0gaGFzUmVuZGVyZWRBVGFpbEZhbGxiYWNrLnNpYmxpbmcpO1xuICAgICAgICAgICAgbnVsbCA9PT0gbGFzdFRhaWxOb2RlXG4gICAgICAgICAgICAgID8gKHJlbmRlclN0YXRlLnRhaWwgPSBudWxsKVxuICAgICAgICAgICAgICA6IChsYXN0VGFpbE5vZGUuc2libGluZyA9IG51bGwpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImNvbGxhcHNlZFwiOlxuICAgICAgICAgICAgbGFzdFRhaWxOb2RlID0gcmVuZGVyU3RhdGUudGFpbDtcbiAgICAgICAgICAgIGZvciAodmFyIF9sYXN0VGFpbE5vZGUgPSBudWxsOyBudWxsICE9PSBsYXN0VGFpbE5vZGU7IClcbiAgICAgICAgICAgICAgbnVsbCAhPT0gbGFzdFRhaWxOb2RlLmFsdGVybmF0ZSAmJiAoX2xhc3RUYWlsTm9kZSA9IGxhc3RUYWlsTm9kZSksXG4gICAgICAgICAgICAgICAgKGxhc3RUYWlsTm9kZSA9IGxhc3RUYWlsTm9kZS5zaWJsaW5nKTtcbiAgICAgICAgICAgIG51bGwgPT09IF9sYXN0VGFpbE5vZGVcbiAgICAgICAgICAgICAgPyBoYXNSZW5kZXJlZEFUYWlsRmFsbGJhY2sgfHwgbnVsbCA9PT0gcmVuZGVyU3RhdGUudGFpbFxuICAgICAgICAgICAgICAgID8gKHJlbmRlclN0YXRlLnRhaWwgPSBudWxsKVxuICAgICAgICAgICAgICAgIDogKHJlbmRlclN0YXRlLnRhaWwuc2libGluZyA9IG51bGwpXG4gICAgICAgICAgICAgIDogKF9sYXN0VGFpbE5vZGUuc2libGluZyA9IG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGJ1YmJsZVByb3BlcnRpZXMoY29tcGxldGVkV29yaykge1xuICAgICAgdmFyIGRpZEJhaWxvdXQgPVxuICAgICAgICAgIG51bGwgIT09IGNvbXBsZXRlZFdvcmsuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgY29tcGxldGVkV29yay5hbHRlcm5hdGUuY2hpbGQgPT09IGNvbXBsZXRlZFdvcmsuY2hpbGQsXG4gICAgICAgIG5ld0NoaWxkTGFuZXMgPSAwLFxuICAgICAgICBzdWJ0cmVlRmxhZ3MgPSAwO1xuICAgICAgaWYgKGRpZEJhaWxvdXQpXG4gICAgICAgIGlmICgoY29tcGxldGVkV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGUpIHtcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgdmFyIF90cmVlQmFzZUR1cmF0aW9uID0gY29tcGxldGVkV29yay5zZWxmQmFzZUR1cmF0aW9uLFxuICAgICAgICAgICAgICBfY2hpbGQyID0gY29tcGxldGVkV29yay5jaGlsZDtcbiAgICAgICAgICAgIG51bGwgIT09IF9jaGlsZDI7XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICAobmV3Q2hpbGRMYW5lcyB8PSBfY2hpbGQyLmxhbmVzIHwgX2NoaWxkMi5jaGlsZExhbmVzKSxcbiAgICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBfY2hpbGQyLnN1YnRyZWVGbGFncyAmIDMxNDU3MjgwKSxcbiAgICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBfY2hpbGQyLmZsYWdzICYgMzE0NTcyODApLFxuICAgICAgICAgICAgICAoX3RyZWVCYXNlRHVyYXRpb24gKz0gX2NoaWxkMi50cmVlQmFzZUR1cmF0aW9uKSxcbiAgICAgICAgICAgICAgKF9jaGlsZDIgPSBfY2hpbGQyLnNpYmxpbmcpO1xuICAgICAgICAgIGNvbXBsZXRlZFdvcmsudHJlZUJhc2VEdXJhdGlvbiA9IF90cmVlQmFzZUR1cmF0aW9uO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgX3RyZWVCYXNlRHVyYXRpb24gPSBjb21wbGV0ZWRXb3JrLmNoaWxkO1xuICAgICAgICAgICAgbnVsbCAhPT0gX3RyZWVCYXNlRHVyYXRpb247XG5cbiAgICAgICAgICApXG4gICAgICAgICAgICAobmV3Q2hpbGRMYW5lcyB8PVxuICAgICAgICAgICAgICBfdHJlZUJhc2VEdXJhdGlvbi5sYW5lcyB8IF90cmVlQmFzZUR1cmF0aW9uLmNoaWxkTGFuZXMpLFxuICAgICAgICAgICAgICAoc3VidHJlZUZsYWdzIHw9IF90cmVlQmFzZUR1cmF0aW9uLnN1YnRyZWVGbGFncyAmIDMxNDU3MjgwKSxcbiAgICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBfdHJlZUJhc2VEdXJhdGlvbi5mbGFncyAmIDMxNDU3MjgwKSxcbiAgICAgICAgICAgICAgKF90cmVlQmFzZUR1cmF0aW9uLnJldHVybiA9IGNvbXBsZXRlZFdvcmspLFxuICAgICAgICAgICAgICAoX3RyZWVCYXNlRHVyYXRpb24gPSBfdHJlZUJhc2VEdXJhdGlvbi5zaWJsaW5nKTtcbiAgICAgIGVsc2UgaWYgKChjb21wbGV0ZWRXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSkge1xuICAgICAgICBfdHJlZUJhc2VEdXJhdGlvbiA9IGNvbXBsZXRlZFdvcmsuYWN0dWFsRHVyYXRpb247XG4gICAgICAgIF9jaGlsZDIgPSBjb21wbGV0ZWRXb3JrLnNlbGZCYXNlRHVyYXRpb247XG4gICAgICAgIGZvciAodmFyIGNoaWxkID0gY29tcGxldGVkV29yay5jaGlsZDsgbnVsbCAhPT0gY2hpbGQ7IClcbiAgICAgICAgICAobmV3Q2hpbGRMYW5lcyB8PSBjaGlsZC5sYW5lcyB8IGNoaWxkLmNoaWxkTGFuZXMpLFxuICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBjaGlsZC5zdWJ0cmVlRmxhZ3MpLFxuICAgICAgICAgICAgKHN1YnRyZWVGbGFncyB8PSBjaGlsZC5mbGFncyksXG4gICAgICAgICAgICAoX3RyZWVCYXNlRHVyYXRpb24gKz0gY2hpbGQuYWN0dWFsRHVyYXRpb24pLFxuICAgICAgICAgICAgKF9jaGlsZDIgKz0gY2hpbGQudHJlZUJhc2VEdXJhdGlvbiksXG4gICAgICAgICAgICAoY2hpbGQgPSBjaGlsZC5zaWJsaW5nKTtcbiAgICAgICAgY29tcGxldGVkV29yay5hY3R1YWxEdXJhdGlvbiA9IF90cmVlQmFzZUR1cmF0aW9uO1xuICAgICAgICBjb21wbGV0ZWRXb3JrLnRyZWVCYXNlRHVyYXRpb24gPSBfY2hpbGQyO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgX3RyZWVCYXNlRHVyYXRpb24gPSBjb21wbGV0ZWRXb3JrLmNoaWxkO1xuICAgICAgICAgIG51bGwgIT09IF90cmVlQmFzZUR1cmF0aW9uO1xuXG4gICAgICAgIClcbiAgICAgICAgICAobmV3Q2hpbGRMYW5lcyB8PVxuICAgICAgICAgICAgX3RyZWVCYXNlRHVyYXRpb24ubGFuZXMgfCBfdHJlZUJhc2VEdXJhdGlvbi5jaGlsZExhbmVzKSxcbiAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX3RyZWVCYXNlRHVyYXRpb24uc3VidHJlZUZsYWdzKSxcbiAgICAgICAgICAgIChzdWJ0cmVlRmxhZ3MgfD0gX3RyZWVCYXNlRHVyYXRpb24uZmxhZ3MpLFxuICAgICAgICAgICAgKF90cmVlQmFzZUR1cmF0aW9uLnJldHVybiA9IGNvbXBsZXRlZFdvcmspLFxuICAgICAgICAgICAgKF90cmVlQmFzZUR1cmF0aW9uID0gX3RyZWVCYXNlRHVyYXRpb24uc2libGluZyk7XG4gICAgICBjb21wbGV0ZWRXb3JrLnN1YnRyZWVGbGFncyB8PSBzdWJ0cmVlRmxhZ3M7XG4gICAgICBjb21wbGV0ZWRXb3JrLmNoaWxkTGFuZXMgPSBuZXdDaGlsZExhbmVzO1xuICAgICAgcmV0dXJuIGRpZEJhaWxvdXQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlV29yayhjdXJyZW50LCB3b3JrSW5Qcm9ncmVzcywgcmVuZGVyTGFuZXMpIHtcbiAgICAgIHZhciBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnBlbmRpbmdQcm9wcztcbiAgICAgIHBvcFRyZWVDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgMTY6XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgY2FzZSA3OlxuICAgICAgICBjYXNlIDg6XG4gICAgICAgIGNhc2UgMTI6XG4gICAgICAgIGNhc2UgOTpcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICByZXR1cm4gYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBuZXdQcm9wcyA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICByZW5kZXJMYW5lcyA9IG51bGw7XG4gICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiAocmVuZGVyTGFuZXMgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGUpO1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUuY2FjaGUgIT09IHJlbmRlckxhbmVzICYmXG4gICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMjA0OCk7XG4gICAgICAgICAgcG9wUHJvdmlkZXIoQ2FjaGVDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgbmV3UHJvcHMucGVuZGluZ0NvbnRleHQgJiZcbiAgICAgICAgICAgICgobmV3UHJvcHMuY29udGV4dCA9IG5ld1Byb3BzLnBlbmRpbmdDb250ZXh0KSxcbiAgICAgICAgICAgIChuZXdQcm9wcy5wZW5kaW5nQ29udGV4dCA9IG51bGwpKTtcbiAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCB8fCBudWxsID09PSBjdXJyZW50LmNoaWxkKVxuICAgICAgICAgICAgcG9wSHlkcmF0aW9uU3RhdGUod29ya0luUHJvZ3Jlc3MpXG4gICAgICAgICAgICAgID8gKGVtaXRQZW5kaW5nSHlkcmF0aW9uV2FybmluZ3MoKSwgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcykpXG4gICAgICAgICAgICAgIDogbnVsbCA9PT0gY3VycmVudCB8fFxuICAgICAgICAgICAgICAgIChjdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkICYmXG4gICAgICAgICAgICAgICAgICAwID09PSAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAyNTYpKSB8fFxuICAgICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTAyNCksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gaHlkcmF0aW9uRXJyb3JzICYmXG4gICAgICAgICAgICAgICAgICAocXVldWVSZWNvdmVyYWJsZUVycm9ycyhoeWRyYXRpb25FcnJvcnMpLFxuICAgICAgICAgICAgICAgICAgKGh5ZHJhdGlvbkVycm9ycyA9IG51bGwpKSk7XG4gICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUpLFxuICAgICAgICAgICAgbnVsbCA9PT0gY3VycmVudFxuICAgICAgICAgICAgICA/IChtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICBudWxsICE9PSByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgPyAoYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWRSZXNvdXJjZUFuZFN1c3BlbmRJZk5lZWRlZChcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgICAgOiAoYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5mbGFncyAmPSAtMTY3NzcyMTcpKSlcbiAgICAgICAgICAgICAgOiByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgID8gcmVuZGVyTGFuZXMgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZVxuICAgICAgICAgICAgICAgICAgPyAobWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICBwcmVsb2FkUmVzb3VyY2VBbmRTdXNwZW5kSWZOZWVkZWQoXG4gICAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgIDogKGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTE2Nzc3MjE3KSlcbiAgICAgICAgICAgICAgICA6IChjdXJyZW50Lm1lbW9pemVkUHJvcHMgIT09IG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTE2Nzc3MjE3KSksXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICBwb3BIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmVuZGVyTGFuZXMgPSByZXF1aXJlZENvbnRleHQocm9vdEluc3RhbmNlU3RhY2tDdXJzb3IuY3VycmVudCk7XG4gICAgICAgICAgdmFyIF90eXBlID0gd29ya0luUHJvZ3Jlc3MudHlwZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSlcbiAgICAgICAgICAgIGN1cnJlbnQubWVtb2l6ZWRQcm9wcyAhPT0gbmV3UHJvcHMgJiYgbWFya1VwZGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIW5ld1Byb3BzKSB7XG4gICAgICAgICAgICAgIGlmIChudWxsID09PSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICBcIldlIG11c3QgaGF2ZSBuZXcgcHJvcHMgZm9yIG5ldyBtb3VudHMuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50ID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgICAgICAgIHBvcEh5ZHJhdGlvblN0YXRlKHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICA/IHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnQpXG4gICAgICAgICAgICAgIDogKChjdXJyZW50ID0gcmVzb2x2ZVNpbmdsZXRvbkluc3RhbmNlKFxuICAgICAgICAgICAgICAgICAgX3R5cGUsXG4gICAgICAgICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzLFxuICAgICAgICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgICAgICAgICEwXG4gICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSA9IGN1cnJlbnQpLFxuICAgICAgICAgICAgICAgIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBwb3BIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgcmVuZGVyTGFuZXMgPSB3b3JrSW5Qcm9ncmVzcy50eXBlO1xuICAgICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlKVxuICAgICAgICAgICAgY3VycmVudC5tZW1vaXplZFByb3BzICE9PSBuZXdQcm9wcyAmJiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghbmV3UHJvcHMpIHtcbiAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiV2UgbXVzdCBoYXZlIG5ldyBwcm9wcyBmb3IgbmV3IG1vdW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90eXBlID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgICAgICAgIGlmIChwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcykpXG4gICAgICAgICAgICAgIHByZXBhcmVUb0h5ZHJhdGVIb3N0SW5zdGFuY2Uod29ya0luUHJvZ3Jlc3MsIF90eXBlKTtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBjdXJyZW50ID0gcmVxdWlyZWRDb250ZXh0KHJvb3RJbnN0YW5jZVN0YWNrQ3Vyc29yLmN1cnJlbnQpO1xuICAgICAgICAgICAgICB2YWxpZGF0ZURPTU5lc3RpbmcocmVuZGVyTGFuZXMsIF90eXBlLmFuY2VzdG9ySW5mbyk7XG4gICAgICAgICAgICAgIF90eXBlID0gX3R5cGUuY29udGV4dDtcbiAgICAgICAgICAgICAgY3VycmVudCA9IGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihjdXJyZW50KTtcbiAgICAgICAgICAgICAgc3dpdGNoIChfdHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgSG9zdENvbnRleHROYW1lc3BhY2VTdmc6XG4gICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jcmVhdGVFbGVtZW50TlMoU1ZHX05BTUVTUEFDRSwgcmVuZGVyTGFuZXMpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBIb3N0Q29udGV4dE5hbWVzcGFjZU1hdGg6XG4gICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgICAgICAgICAgIE1BVEhfTkFNRVNQQUNFLFxuICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlbmRlckxhbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5jcmVhdGVFbGVtZW50TlMoXG4gICAgICAgICAgICAgICAgICAgICAgICBTVkdfTkFNRVNQQUNFLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibWF0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LmNyZWF0ZUVsZW1lbnROUyhcbiAgICAgICAgICAgICAgICAgICAgICAgIE1BVEhfTkFNRVNQQUNFLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50LmlubmVySFRNTCA9IFwiPHNjcmlwdD5cXHgzYy9zY3JpcHQ+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQucmVtb3ZlQ2hpbGQoY3VycmVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG5ld1Byb3BzLmlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gY3VycmVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIsIHsgaXM6IG5ld1Byb3BzLmlzIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogY3VycmVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLm11bHRpcGxlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChjdXJyZW50Lm11bHRpcGxlID0gITApXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG5ld1Byb3BzLnNpemUgJiYgKGN1cnJlbnQuc2l6ZSA9IG5ld1Byb3BzLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgIChjdXJyZW50ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBuZXdQcm9wcy5pc1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGN1cnJlbnQuY3JlYXRlRWxlbWVudChyZW5kZXJMYW5lcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXM6IG5ld1Byb3BzLmlzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjdXJyZW50LmNyZWF0ZUVsZW1lbnQocmVuZGVyTGFuZXMpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC0xID09PSByZW5kZXJMYW5lcy5pbmRleE9mKFwiLVwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgIT09IHJlbmRlckxhbmVzLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8JXMgLz4gaXMgdXNpbmcgaW5jb3JyZWN0IGNhc2luZy4gVXNlIFBhc2NhbENhc2UgZm9yIFJlYWN0IGNvbXBvbmVudHMsIG9yIGxvd2VyY2FzZSBmb3IgSFRNTCBlbGVtZW50cy5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJbb2JqZWN0IEhUTUxVbmtub3duRWxlbWVudF1cIiAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY3VycmVudCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eS5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybmVkVW5rbm93blRhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKHdhcm5lZFVua25vd25UYWdzW3JlbmRlckxhbmVzXSA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJUaGUgdGFnIDwlcz4gaXMgdW5yZWNvZ25pemVkIGluIHRoaXMgYnJvd3Nlci4gSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIFJlYWN0IGNvbXBvbmVudCwgc3RhcnQgaXRzIG5hbWUgd2l0aCBhbiB1cHBlcmNhc2UgbGV0dGVyLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY3VycmVudFtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgICAgICBjdXJyZW50W2ludGVybmFsUHJvcHNLZXldID0gbmV3UHJvcHM7XG4gICAgICAgICAgICAgIGE6IGZvciAoX3R5cGUgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZDsgbnVsbCAhPT0gX3R5cGU7ICkge1xuICAgICAgICAgICAgICAgIGlmICg1ID09PSBfdHlwZS50YWcgfHwgNiA9PT0gX3R5cGUudGFnKVxuICAgICAgICAgICAgICAgICAgY3VycmVudC5hcHBlbmRDaGlsZChfdHlwZS5zdGF0ZU5vZGUpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgICAgNCAhPT0gX3R5cGUudGFnICYmXG4gICAgICAgICAgICAgICAgICAyNyAhPT0gX3R5cGUudGFnICYmXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBfdHlwZS5jaGlsZFxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgX3R5cGUuY2hpbGQucmV0dXJuID0gX3R5cGU7XG4gICAgICAgICAgICAgICAgICBfdHlwZSA9IF90eXBlLmNoaWxkO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdHlwZSA9PT0gd29ya0luUHJvZ3Jlc3MpIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgZm9yICg7IG51bGwgPT09IF90eXBlLnNpYmxpbmc7ICkge1xuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IF90eXBlLnJldHVybiB8fCBfdHlwZS5yZXR1cm4gPT09IHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgX3R5cGUgPSBfdHlwZS5yZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90eXBlLnNpYmxpbmcucmV0dXJuID0gX3R5cGUucmV0dXJuO1xuICAgICAgICAgICAgICAgIF90eXBlID0gX3R5cGUuc2libGluZztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUgPSBjdXJyZW50O1xuICAgICAgICAgICAgICBhOiBzd2l0Y2ggKFxuICAgICAgICAgICAgICAgIChzZXRJbml0aWFsUHJvcGVydGllcyhjdXJyZW50LCByZW5kZXJMYW5lcywgbmV3UHJvcHMpLFxuICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYnV0dG9uXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlbGVjdFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9ICEhbmV3UHJvcHMuYXV0b0ZvY3VzO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgICAgICAgICAgICBjdXJyZW50ID0gITA7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBjdXJyZW50ID0gITE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY3VycmVudCAmJiBtYXJrVXBkYXRlKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MuZmxhZ3MgJj0gLTE2Nzc3MjE3O1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgaWYgKGN1cnJlbnQgJiYgbnVsbCAhPSB3b3JrSW5Qcm9ncmVzcy5zdGF0ZU5vZGUpXG4gICAgICAgICAgICBjdXJyZW50Lm1lbW9pemVkUHJvcHMgIT09IG5ld1Byb3BzICYmIG1hcmtVcGRhdGUod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiV2UgbXVzdCBoYXZlIG5ldyBwcm9wcyBmb3IgbmV3IG1vdW50cy4gVGhpcyBlcnJvciBpcyBsaWtlbHkgY2F1c2VkIGJ5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgY3VycmVudCA9IHJlcXVpcmVkQ29udGV4dChyb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KTtcbiAgICAgICAgICAgIHJlbmRlckxhbmVzID0gZ2V0SG9zdENvbnRleHQoKTtcbiAgICAgICAgICAgIGlmIChwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcykpIHtcbiAgICAgICAgICAgICAgY3VycmVudCA9IHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZTtcbiAgICAgICAgICAgICAgbmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFByb3BzO1xuICAgICAgICAgICAgICBfdHlwZSA9ICFkaWRTdXNwZW5kT3JFcnJvckRFVjtcbiAgICAgICAgICAgICAgcmVuZGVyTGFuZXMgPSBudWxsO1xuICAgICAgICAgICAgICB2YXIgcmV0dXJuRmliZXIgPSBoeWRyYXRpb25QYXJlbnRGaWJlcjtcbiAgICAgICAgICAgICAgaWYgKG51bGwgIT09IHJldHVybkZpYmVyKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAocmV0dXJuRmliZXIudGFnKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgKChfdHlwZSA9IGRpZmZIeWRyYXRlZFRleHRGb3JEZXZXYXJuaW5ncyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckxhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWlsZEh5ZHJhdGlvbkRpZmZOb2RlKHdvcmtJblByb2dyZXNzLCAwKS5zZXJ2ZXJQcm9wcyA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIF90eXBlKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gcmV0dXJuRmliZXIubWVtb2l6ZWRQcm9wcyksXG4gICAgICAgICAgICAgICAgICAgICAgX3R5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICgoX3R5cGUgPSBkaWZmSHlkcmF0ZWRUZXh0Rm9yRGV2V2FybmluZ3MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJMYW5lc1xuICAgICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAoYnVpbGRIeWRyYXRpb25EaWZmTm9kZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkuc2VydmVyUHJvcHMgPSBfdHlwZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY3VycmVudFtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgICAgICBjdXJyZW50ID1cbiAgICAgICAgICAgICAgICBjdXJyZW50Lm5vZGVWYWx1ZSA9PT0gbmV3UHJvcHMgfHxcbiAgICAgICAgICAgICAgICAobnVsbCAhPT0gcmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICAgICAgICAgICEwID09PSByZW5kZXJMYW5lcy5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpIHx8XG4gICAgICAgICAgICAgICAgY2hlY2tGb3JVbm1hdGNoZWRUZXh0KGN1cnJlbnQubm9kZVZhbHVlLCBuZXdQcm9wcylcbiAgICAgICAgICAgICAgICAgID8gITBcbiAgICAgICAgICAgICAgICAgIDogITE7XG4gICAgICAgICAgICAgIGN1cnJlbnQgfHwgdGhyb3dPbkh5ZHJhdGlvbk1pc21hdGNoKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSByZW5kZXJMYW5lcy5hbmNlc3RvckluZm8uY3VycmVudCksXG4gICAgICAgICAgICAgICAgbnVsbCAhPSByZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgdmFsaWRhdGVUZXh0TmVzdGluZyhuZXdQcm9wcywgcmVuZGVyTGFuZXMudGFnKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudCA9XG4gICAgICAgICAgICAgICAgICBnZXRPd25lckRvY3VtZW50RnJvbVJvb3RDb250YWluZXIoY3VycmVudCkuY3JlYXRlVGV4dE5vZGUoXG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BzXG4gICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAoY3VycmVudFtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3Muc3RhdGVOb2RlID0gY3VycmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50IHx8XG4gICAgICAgICAgICAobnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5kZWh5ZHJhdGVkKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgX3R5cGUgPSBwb3BIeWRyYXRpb25TdGF0ZSh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gbmV3UHJvcHMgJiYgbnVsbCAhPT0gbmV3UHJvcHMuZGVoeWRyYXRlZCkge1xuICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmICghX3R5cGUpXG4gICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJBIGRlaHlkcmF0ZWQgc3VzcGVuc2UgY29tcG9uZW50IHdhcyBjb21wbGV0ZWQgd2l0aG91dCBhIGh5ZHJhdGVkIG5vZGUuIFRoaXMgaXMgcHJvYmFibHkgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgX3R5cGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgICAgIF90eXBlID0gbnVsbCAhPT0gX3R5cGUgPyBfdHlwZS5kZWh5ZHJhdGVkIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIV90eXBlKVxuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgdG8gaGF2ZSBhIGh5ZHJhdGVkIHN1c3BlbnNlIGluc3RhbmNlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIF90eXBlW2ludGVybmFsSW5zdGFuY2VLZXldID0gd29ya0luUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgICAgICgoX3R5cGUgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBfdHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudHJlZUJhc2VEdXJhdGlvbiAtPVxuICAgICAgICAgICAgICAgICAgICAgIF90eXBlLnRyZWVCYXNlRHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgZW1pdFBlbmRpbmdIeWRyYXRpb25XYXJuaW5ncygpLFxuICAgICAgICAgICAgICAgICAgcmVzZXRIeWRyYXRpb25TdGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KSAmJlxuICAgICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSA9IG51bGwpLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDQpLFxuICAgICAgICAgICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgICAgICAgICgoX3R5cGUgPSB3b3JrSW5Qcm9ncmVzcy5jaGlsZCksXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IF90eXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gLT1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90eXBlLnRyZWVCYXNlRHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgX3R5cGUgPSAhMTtcbiAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICBudWxsICE9PSBoeWRyYXRpb25FcnJvcnMgJiZcbiAgICAgICAgICAgICAgICAocXVldWVSZWNvdmVyYWJsZUVycm9ycyhoeWRyYXRpb25FcnJvcnMpLFxuICAgICAgICAgICAgICAgIChoeWRyYXRpb25FcnJvcnMgPSBudWxsKSksXG4gICAgICAgICAgICAgICAgKF90eXBlID0gITApO1xuICAgICAgICAgICAgaWYgKCFfdHlwZSkge1xuICAgICAgICAgICAgICBpZiAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgJiAyNTYpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyksIHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgICAgICBwb3BTdXNwZW5zZUhhbmRsZXIod29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBpZiAoMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KSlcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5sYW5lcyA9IHJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgICAgIHRyYW5zZmVyQWN0dWFsRHVyYXRpb24od29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICBuZXdQcm9wcyA9IG51bGwgIT09IG5ld1Byb3BzO1xuICAgICAgICAgIGN1cnJlbnQgPSBudWxsICE9PSBjdXJyZW50ICYmIG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgKChyZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgIChfdHlwZSA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXMuYWx0ZXJuYXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IHJlbmRlckxhbmVzLmFsdGVybmF0ZS5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IHJlbmRlckxhbmVzLmFsdGVybmF0ZS5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAgICAgICAoX3R5cGUgPSByZW5kZXJMYW5lcy5hbHRlcm5hdGUubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCksXG4gICAgICAgICAgICAocmV0dXJuRmliZXIgPSBudWxsKSxcbiAgICAgICAgICAgIG51bGwgIT09IHJlbmRlckxhbmVzLm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gcmVuZGVyTGFuZXMubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wgJiZcbiAgICAgICAgICAgICAgKHJldHVybkZpYmVyID0gcmVuZGVyTGFuZXMubWVtb2l6ZWRTdGF0ZS5jYWNoZVBvb2wucG9vbCksXG4gICAgICAgICAgICByZXR1cm5GaWJlciAhPT0gX3R5cGUgJiYgKHJlbmRlckxhbmVzLmZsYWdzIHw9IDIwNDgpKTtcbiAgICAgICAgICBuZXdQcm9wcyAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcy5jaGlsZC5mbGFncyB8PSA4MTkyKTtcbiAgICAgICAgICBzY2hlZHVsZVJldHJ5RWZmZWN0KHdvcmtJblByb2dyZXNzLCB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSk7XG4gICAgICAgICAgYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSAmJlxuICAgICAgICAgICAgbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICgoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiZcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLnRyZWVCYXNlRHVyYXRpb24gLT0gY3VycmVudC50cmVlQmFzZUR1cmF0aW9uKSk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcG9wSG9zdENvbnRhaW5lcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBudWxsID09PSBjdXJyZW50ICYmXG4gICAgICAgICAgICAgIGxpc3RlblRvQWxsU3VwcG9ydGVkRXZlbnRzKFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwb3BQcm92aWRlcih3b3JrSW5Qcm9ncmVzcy50eXBlLCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHBvcChzdXNwZW5zZVN0YWNrQ3Vyc29yLCB3b3JrSW5Qcm9ncmVzcyk7XG4gICAgICAgICAgX3R5cGUgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIGlmIChudWxsID09PSBfdHlwZSkgcmV0dXJuIGJ1YmJsZVByb3BlcnRpZXMod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICAgIG5ld1Byb3BzID0gMCAhPT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KTtcbiAgICAgICAgICByZXR1cm5GaWJlciA9IF90eXBlLnJlbmRlcmluZztcbiAgICAgICAgICBpZiAobnVsbCA9PT0gcmV0dXJuRmliZXIpXG4gICAgICAgICAgICBpZiAobmV3UHJvcHMpIGN1dE9mZlRhaWxJZk5lZWRlZChfdHlwZSwgITEpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzICE9PSBSb290SW5Qcm9ncmVzcyB8fFxuICAgICAgICAgICAgICAgIChudWxsICE9PSBjdXJyZW50ICYmIDAgIT09IChjdXJyZW50LmZsYWdzICYgMTI4KSlcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIGZvciAoY3VycmVudCA9IHdvcmtJblByb2dyZXNzLmNoaWxkOyBudWxsICE9PSBjdXJyZW50OyApIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybkZpYmVyID0gZmluZEZpcnN0U3VzcGVuZGVkKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IHJldHVybkZpYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDEyODtcbiAgICAgICAgICAgICAgICAgICAgY3V0T2ZmVGFpbElmTmVlZGVkKF90eXBlLCAhMSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSByZXR1cm5GaWJlci51cGRhdGVRdWV1ZTtcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZVJldHJ5RWZmZWN0KHdvcmtJblByb2dyZXNzLCBjdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3Muc3VidHJlZUZsYWdzID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHJlbmRlckxhbmVzO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKG5ld1Byb3BzID0gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7IG51bGwgIT09IG5ld1Byb3BzOyApXG4gICAgICAgICAgICAgICAgICAgICAgcmVzZXRXb3JrSW5Qcm9ncmVzcyhuZXdQcm9wcywgY3VycmVudCksXG4gICAgICAgICAgICAgICAgICAgICAgICAobmV3UHJvcHMgPSBuZXdQcm9wcy5zaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcHVzaChcbiAgICAgICAgICAgICAgICAgICAgICBzdXNwZW5zZVN0YWNrQ3Vyc29yLFxuICAgICAgICAgICAgICAgICAgICAgIChzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQgJlxuICAgICAgICAgICAgICAgICAgICAgICAgU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2spIHxcbiAgICAgICAgICAgICAgICAgICAgICAgIEZvcmNlU3VzcGVuc2VGYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3MuY2hpbGQ7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5zaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbnVsbCAhPT0gX3R5cGUudGFpbCAmJlxuICAgICAgICAgICAgICAgIG5vdyQxKCkgPiB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJUYXJnZXRUaW1lICYmXG4gICAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAgIChuZXdQcm9wcyA9ICEwKSxcbiAgICAgICAgICAgICAgICBjdXRPZmZUYWlsSWZOZWVkZWQoX3R5cGUsICExKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSA0MTk0MzA0KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoIW5ld1Byb3BzKVxuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKChjdXJyZW50ID0gZmluZEZpcnN0U3VzcGVuZGVkKHJldHVybkZpYmVyKSksIG51bGwgIT09IGN1cnJlbnQpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gMTI4KSxcbiAgICAgICAgICAgICAgICAgIChuZXdQcm9wcyA9ICEwKSxcbiAgICAgICAgICAgICAgICAgIChjdXJyZW50ID0gY3VycmVudC51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MudXBkYXRlUXVldWUgPSBjdXJyZW50KSxcbiAgICAgICAgICAgICAgICAgIHNjaGVkdWxlUmV0cnlFZmZlY3Qod29ya0luUHJvZ3Jlc3MsIGN1cnJlbnQpLFxuICAgICAgICAgICAgICAgICAgY3V0T2ZmVGFpbElmTmVlZGVkKF90eXBlLCAhMCksXG4gICAgICAgICAgICAgICAgICBudWxsID09PSBfdHlwZS50YWlsICYmXG4gICAgICAgICAgICAgICAgICAgIFwiaGlkZGVuXCIgPT09IF90eXBlLnRhaWxNb2RlICYmXG4gICAgICAgICAgICAgICAgICAgICFyZXR1cm5GaWJlci5hbHRlcm5hdGUgJiZcbiAgICAgICAgICAgICAgICAgICAgIWlzSHlkcmF0aW5nKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIHJldHVybiBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSwgbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgMiAqIG5vdyQxKCkgLSBfdHlwZS5yZW5kZXJpbmdTdGFydFRpbWUgPlxuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyVGFyZ2V0VGltZSAmJlxuICAgICAgICAgICAgICAgICAgNTM2ODcwOTEyICE9PSByZW5kZXJMYW5lcyAmJlxuICAgICAgICAgICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAxMjgpLFxuICAgICAgICAgICAgICAgICAgKG5ld1Byb3BzID0gITApLFxuICAgICAgICAgICAgICAgICAgY3V0T2ZmVGFpbElmTmVlZGVkKF90eXBlLCAhMSksXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubGFuZXMgPSA0MTk0MzA0KSk7XG4gICAgICAgICAgICBfdHlwZS5pc0JhY2t3YXJkc1xuICAgICAgICAgICAgICA/ICgocmV0dXJuRmliZXIuc2libGluZyA9IHdvcmtJblByb2dyZXNzLmNoaWxkKSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuY2hpbGQgPSByZXR1cm5GaWJlcikpXG4gICAgICAgICAgICAgIDogKChjdXJyZW50ID0gX3R5cGUubGFzdCksXG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudFxuICAgICAgICAgICAgICAgICAgPyAoY3VycmVudC5zaWJsaW5nID0gcmV0dXJuRmliZXIpXG4gICAgICAgICAgICAgICAgICA6ICh3b3JrSW5Qcm9ncmVzcy5jaGlsZCA9IHJldHVybkZpYmVyKSxcbiAgICAgICAgICAgICAgICAoX3R5cGUubGFzdCA9IHJldHVybkZpYmVyKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChudWxsICE9PSBfdHlwZS50YWlsKVxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgKGN1cnJlbnQgPSBfdHlwZS50YWlsKSxcbiAgICAgICAgICAgICAgKF90eXBlLnJlbmRlcmluZyA9IGN1cnJlbnQpLFxuICAgICAgICAgICAgICAoX3R5cGUudGFpbCA9IGN1cnJlbnQuc2libGluZyksXG4gICAgICAgICAgICAgIChfdHlwZS5yZW5kZXJpbmdTdGFydFRpbWUgPSBub3ckMSgpKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnQuc2libGluZyA9IG51bGwpLFxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSBzdXNwZW5zZVN0YWNrQ3Vyc29yLmN1cnJlbnQpLFxuICAgICAgICAgICAgICAocmVuZGVyTGFuZXMgPSBuZXdQcm9wc1xuICAgICAgICAgICAgICAgID8gKHJlbmRlckxhbmVzICYgU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2spIHxcbiAgICAgICAgICAgICAgICAgIEZvcmNlU3VzcGVuc2VGYWxsYmFja1xuICAgICAgICAgICAgICAgIDogcmVuZGVyTGFuZXMgJiBTdWJ0cmVlU3VzcGVuc2VDb250ZXh0TWFzayksXG4gICAgICAgICAgICAgIHB1c2goc3VzcGVuc2VTdGFja0N1cnNvciwgcmVuZGVyTGFuZXMsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgY3VycmVudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHBvcEhpZGRlbkNvbnRleHQod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKG5ld1Byb3BzID0gbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZSksXG4gICAgICAgICAgICBudWxsICE9PSBjdXJyZW50XG4gICAgICAgICAgICAgID8gKG51bGwgIT09IGN1cnJlbnQubWVtb2l6ZWRTdGF0ZSkgIT09IG5ld1Byb3BzICYmXG4gICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDgxOTIpXG4gICAgICAgICAgICAgIDogbmV3UHJvcHMgJiYgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDgxOTIpLFxuICAgICAgICAgICAgbmV3UHJvcHNcbiAgICAgICAgICAgICAgPyAwICE9PSAocmVuZGVyTGFuZXMgJiA1MzY4NzA5MTIpICYmXG4gICAgICAgICAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzLmZsYWdzICYgMTI4KSAmJlxuICAgICAgICAgICAgICAgIChidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcy5zdWJ0cmVlRmxhZ3MgJiA2ICYmXG4gICAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MuZmxhZ3MgfD0gODE5MikpXG4gICAgICAgICAgICAgIDogYnViYmxlUHJvcGVydGllcyh3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAobmV3UHJvcHMgPSB3b3JrSW5Qcm9ncmVzcy51cGRhdGVRdWV1ZSksXG4gICAgICAgICAgICBudWxsICE9PSBuZXdQcm9wcyAmJlxuICAgICAgICAgICAgICBzY2hlZHVsZVJldHJ5RWZmZWN0KHdvcmtJblByb2dyZXNzLCBuZXdQcm9wcy5yZXRyeVF1ZXVlKSxcbiAgICAgICAgICAgIChuZXdQcm9wcyA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAgICAgICBudWxsICE9PSBjdXJyZW50Lm1lbW9pemVkU3RhdGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudC5tZW1vaXplZFN0YXRlLmNhY2hlUG9vbCAmJlxuICAgICAgICAgICAgICAobmV3UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpLFxuICAgICAgICAgICAgKHJlbmRlckxhbmVzID0gbnVsbCksXG4gICAgICAgICAgICBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sICYmXG4gICAgICAgICAgICAgIChyZW5kZXJMYW5lcyA9IHdvcmtJblByb2dyZXNzLm1lbW9pemVkU3RhdGUuY2FjaGVQb29sLnBvb2wpLFxuICAgICAgICAgICAgcmVuZGVyTGFuZXMgIT09IG5ld1Byb3BzICYmICh3b3JrSW5Qcm9ncmVzcy5mbGFncyB8PSAyMDQ4KSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgcG9wKHJlc3VtZWRDYWNoZSwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICk7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChuZXdQcm9wcyA9IG51bGwpLFxuICAgICAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJiAobmV3UHJvcHMgPSBjdXJyZW50Lm1lbW9pemVkU3RhdGUuY2FjaGUpLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZS5jYWNoZSAhPT0gbmV3UHJvcHMgJiZcbiAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzLmZsYWdzIHw9IDIwNDgpLFxuICAgICAgICAgICAgcG9wUHJvdmlkZXIoQ2FjaGVDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBidWJibGVQcm9wZXJ0aWVzKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGxcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIFwiVW5rbm93biB1bml0IG9mIHdvcmsgdGFnIChcIiArXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MudGFnICtcbiAgICAgICAgICBcIikuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVud2luZFdvcmsoY3VycmVudCwgd29ya0luUHJvZ3Jlc3MpIHtcbiAgICAgIHBvcFRyZWVDb250ZXh0KHdvcmtJblByb2dyZXNzKTtcbiAgICAgIHN3aXRjaCAod29ya0luUHJvZ3Jlc3MudGFnKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5mbGFncyksXG4gICAgICAgICAgICBjdXJyZW50ICYgNjU1MzZcbiAgICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmZsYWdzID0gKGN1cnJlbnQgJiAtNjU1MzcpIHwgMTI4KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgICB0cmFuc2ZlckFjdHVhbER1cmF0aW9uKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBwb3BQcm92aWRlcihDYWNoZUNvbnRleHQsIHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5mbGFncyksXG4gICAgICAgICAgICAwICE9PSAoY3VycmVudCAmIDY1NTM2KSAmJiAwID09PSAoY3VycmVudCAmIDEyOClcbiAgICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmZsYWdzID0gKGN1cnJlbnQgJiAtNjU1MzcpIHwgMTI4KSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgY2FzZSA1OlxuICAgICAgICAgIHJldHVybiBwb3BIb3N0Q29udGV4dCh3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgcG9wU3VzcGVuc2VIYW5kbGVyKHdvcmtJblByb2dyZXNzKTtcbiAgICAgICAgICBjdXJyZW50ID0gd29ya0luUHJvZ3Jlc3MubWVtb2l6ZWRTdGF0ZTtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gY3VycmVudCAmJiBudWxsICE9PSBjdXJyZW50LmRlaHlkcmF0ZWQpIHtcbiAgICAgICAgICAgIGlmIChudWxsID09PSB3b3JrSW5Qcm9ncmVzcy5hbHRlcm5hdGUpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiVGhyZXcgaW4gbmV3bHkgbW91bnRlZCBkZWh5ZHJhdGVkIGNvbXBvbmVudC4gVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXNldEh5ZHJhdGlvblN0YXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5mbGFncztcbiAgICAgICAgICByZXR1cm4gY3VycmVudCAmIDY1NTM2XG4gICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MuZmxhZ3MgPSAoY3VycmVudCAmIC02NTUzNykgfCAxMjgpLFxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgdHJhbnNmZXJBY3R1YWxEdXJhdGlvbih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHJldHVybiBwb3Aoc3VzcGVuc2VTdGFja0N1cnNvciwgd29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcmV0dXJuIHBvcEhvc3RDb250YWluZXIod29ya0luUHJvZ3Jlc3MpLCBudWxsO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHJldHVybiBwb3BQcm92aWRlcih3b3JrSW5Qcm9ncmVzcy50eXBlLCB3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcih3b3JrSW5Qcm9ncmVzcyksXG4gICAgICAgICAgICBwb3BIaWRkZW5Db250ZXh0KHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgIG51bGwgIT09IGN1cnJlbnQgJiYgcG9wKHJlc3VtZWRDYWNoZSwgd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgKGN1cnJlbnQgPSB3b3JrSW5Qcm9ncmVzcy5mbGFncyksXG4gICAgICAgICAgICBjdXJyZW50ICYgNjU1MzZcbiAgICAgICAgICAgICAgPyAoKHdvcmtJblByb2dyZXNzLmZsYWdzID0gKGN1cnJlbnQgJiAtNjU1MzcpIHwgMTI4KSxcbiAgICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3MubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgICAgICAgICB0cmFuc2ZlckFjdHVhbER1cmF0aW9uKHdvcmtJblByb2dyZXNzKSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAyNDpcbiAgICAgICAgICByZXR1cm4gcG9wUHJvdmlkZXIoQ2FjaGVDb250ZXh0LCB3b3JrSW5Qcm9ncmVzcyksIG51bGw7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVud2luZEludGVycnVwdGVkV29yayhjdXJyZW50LCBpbnRlcnJ1cHRlZFdvcmspIHtcbiAgICAgIHBvcFRyZWVDb250ZXh0KGludGVycnVwdGVkV29yayk7XG4gICAgICBzd2l0Y2ggKGludGVycnVwdGVkV29yay50YWcpIHtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHBvcFByb3ZpZGVyKENhY2hlQ29udGV4dCwgaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBwb3BIb3N0Q29udGFpbmVyKGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjY6XG4gICAgICAgIGNhc2UgMjc6XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBwb3BIb3N0Q29udGV4dChpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgcG9wSG9zdENvbnRhaW5lcihpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcihpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgIHBvcChzdXNwZW5zZVN0YWNrQ3Vyc29yLCBpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgIHBvcFByb3ZpZGVyKGludGVycnVwdGVkV29yay50eXBlLCBpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIHBvcFN1c3BlbnNlSGFuZGxlcihpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgICAgIHBvcEhpZGRlbkNvbnRleHQoaW50ZXJydXB0ZWRXb3JrKTtcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50ICYmIHBvcChyZXN1bWVkQ2FjaGUsIGludGVycnVwdGVkV29yayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgcG9wUHJvdmlkZXIoQ2FjaGVDb250ZXh0LCBpbnRlcnJ1cHRlZFdvcmspO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBvbkNvbW1pdFJvb3QoKSB7XG4gICAgICBjb21taXRIb29rcy5mb3JFYWNoKGZ1bmN0aW9uIChjb21taXRIb29rKSB7XG4gICAgICAgIHJldHVybiBjb21taXRIb29rKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNDb25jdXJyZW50QWN0RW52aXJvbm1lbnQoKSB7XG4gICAgICB2YXIgaXNSZWFjdEFjdEVudmlyb25tZW50R2xvYmFsID1cbiAgICAgICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIElTX1JFQUNUX0FDVF9FTlZJUk9OTUVOVFxuICAgICAgICAgID8gSVNfUkVBQ1RfQUNUX0VOVklST05NRU5UXG4gICAgICAgICAgOiB2b2lkIDA7XG4gICAgICBpc1JlYWN0QWN0RW52aXJvbm1lbnRHbG9iYWwgfHxcbiAgICAgICAgbnVsbCA9PT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgfHxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIlRoZSBjdXJyZW50IHRlc3RpbmcgZW52aXJvbm1lbnQgaXMgbm90IGNvbmZpZ3VyZWQgdG8gc3VwcG9ydCBhY3QoLi4uKVwiXG4gICAgICAgICk7XG4gICAgICByZXR1cm4gaXNSZWFjdEFjdEVudmlyb25tZW50R2xvYmFsO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0VXBkYXRlTGFuZShmaWJlcikge1xuICAgICAgaWYgKFxuICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpICE9PSBOb0NvbnRleHQgJiZcbiAgICAgICAgMCAhPT0gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgLXdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzO1xuICAgICAgdmFyIHRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5UO1xuICAgICAgcmV0dXJuIG51bGwgIT09IHRyYW5zaXRpb25cbiAgICAgICAgPyAodHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyB8fCAodHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycyA9IG5ldyBTZXQoKSksXG4gICAgICAgICAgdHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5hZGQoZmliZXIpLFxuICAgICAgICAgIChmaWJlciA9IGN1cnJlbnRFbnRhbmdsZWRMYW5lKSxcbiAgICAgICAgICAwICE9PSBmaWJlciA/IGZpYmVyIDogcmVxdWVzdFRyYW5zaXRpb25MYW5lKCkpXG4gICAgICAgIDogcmVzb2x2ZVVwZGF0ZVByaW9yaXR5KCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlcXVlc3REZWZlcnJlZExhbmUoKSB7XG4gICAgICAwID09PSB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSAmJlxuICAgICAgICAod29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUgPVxuICAgICAgICAgIDAgPT09ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDUzNjg3MDkxMikgfHwgaXNIeWRyYXRpbmdcbiAgICAgICAgICAgID8gY2xhaW1OZXh0VHJhbnNpdGlvbkxhbmUoKVxuICAgICAgICAgICAgOiA1MzY4NzA5MTIpO1xuICAgICAgdmFyIHN1c3BlbnNlSGFuZGxlciA9IHN1c3BlbnNlSGFuZGxlclN0YWNrQ3Vyc29yLmN1cnJlbnQ7XG4gICAgICBudWxsICE9PSBzdXNwZW5zZUhhbmRsZXIgJiYgKHN1c3BlbnNlSGFuZGxlci5mbGFncyB8PSAzMik7XG4gICAgICByZXR1cm4gd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgbGFuZSkge1xuICAgICAgaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ICYmXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJ1c2VJbnNlcnRpb25FZmZlY3QgbXVzdCBub3Qgc2NoZWR1bGUgdXBkYXRlcy5cIik7XG4gICAgICBpc0ZsdXNoaW5nUGFzc2l2ZUVmZmVjdHMgJiYgKGRpZFNjaGVkdWxlVXBkYXRlRHVyaW5nUGFzc2l2ZUVmZmVjdHMgPSAhMCk7XG4gICAgICBpZiAoXG4gICAgICAgIChyb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgJiZcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25EYXRhKSB8fFxuICAgICAgICBudWxsICE9PSByb290LmNhbmNlbFBlbmRpbmdDb21taXRcbiAgICAgIClcbiAgICAgICAgcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgMCksXG4gICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICExXG4gICAgICAgICAgKTtcbiAgICAgIG1hcmtSb290VXBkYXRlZCQxKHJvb3QsIGxhbmUpO1xuICAgICAgaWYgKFxuICAgICAgICAwICE9PSAoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpICYmXG4gICAgICAgIHJvb3QgPT09IHdvcmtJblByb2dyZXNzUm9vdFxuICAgICAgKSB7XG4gICAgICAgIGlmIChpc1JlbmRlcmluZylcbiAgICAgICAgICBzd2l0Y2ggKGZpYmVyLnRhZykge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgIHJvb3QgPVxuICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzcyAmJiBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHdvcmtJblByb2dyZXNzKSkgfHxcbiAgICAgICAgICAgICAgICBcIlVua25vd25cIjtcbiAgICAgICAgICAgICAgZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXJGb3JBbm90aGVyQ29tcG9uZW50Lmhhcyhyb290KSB8fFxuICAgICAgICAgICAgICAgIChkaWRXYXJuQWJvdXRVcGRhdGVJblJlbmRlckZvckFub3RoZXJDb21wb25lbnQuYWRkKHJvb3QpLFxuICAgICAgICAgICAgICAgIChmaWJlciA9IGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoZmliZXIpIHx8IFwiVW5rbm93blwiKSxcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgdXBkYXRlIGEgY29tcG9uZW50IChgJXNgKSB3aGlsZSByZW5kZXJpbmcgYSBkaWZmZXJlbnQgY29tcG9uZW50IChgJXNgKS4gVG8gbG9jYXRlIHRoZSBiYWQgc2V0U3RhdGUoKSBjYWxsIGluc2lkZSBgJXNgLCBmb2xsb3cgdGhlIHN0YWNrIHRyYWNlIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL3JlYWN0LmRldi9saW5rL3NldHN0YXRlLWluLXJlbmRlclwiLFxuICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgcm9vdFxuICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgZGlkV2FybkFib3V0VXBkYXRlSW5SZW5kZXIgfHxcbiAgICAgICAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHVwZGF0ZSBkdXJpbmcgYW4gZXhpc3Rpbmcgc3RhdGUgdHJhbnNpdGlvbiAoc3VjaCBhcyB3aXRoaW4gYHJlbmRlcmApLiBSZW5kZXIgbWV0aG9kcyBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZS5cIlxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgKGRpZFdhcm5BYm91dFVwZGF0ZUluUmVuZGVyID0gITApKTtcbiAgICAgICAgICB9XG4gICAgICB9IGVsc2VcbiAgICAgICAgaXNEZXZUb29sc1ByZXNlbnQgJiYgYWRkRmliZXJUb0xhbmVzTWFwKHJvb3QsIGZpYmVyLCBsYW5lKSxcbiAgICAgICAgICB3YXJuSWZVcGRhdGVzTm90V3JhcHBlZFdpdGhBY3RERVYoZmliZXIpLFxuICAgICAgICAgIHJvb3QgPT09IHdvcmtJblByb2dyZXNzUm9vdCAmJlxuICAgICAgICAgICAgKChleGVjdXRpb25Db250ZXh0ICYgUmVuZGVyQ29udGV4dCkgPT09IE5vQ29udGV4dCAmJlxuICAgICAgICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290SW50ZXJsZWF2ZWRVcGRhdGVkTGFuZXMgfD0gbGFuZSksXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID09PSBSb290U3VzcGVuZGVkV2l0aERlbGF5ICYmXG4gICAgICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgITFcbiAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwZXJmb3JtV29ya09uUm9vdChyb290LCBsYW5lcywgZm9yY2VTeW5jKSB7XG4gICAgICBpZiAoKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSAhPT0gTm9Db250ZXh0KVxuICAgICAgICB0aHJvdyBFcnJvcihcIlNob3VsZCBub3QgYWxyZWFkeSBiZSB3b3JraW5nLlwiKTtcbiAgICAgIHZhciBzaG91bGRUaW1lU2xpY2UgPVxuICAgICAgICAgICghZm9yY2VTeW5jICYmXG4gICAgICAgICAgICAwID09PSAobGFuZXMgJiA2MCkgJiZcbiAgICAgICAgICAgIDAgPT09IChsYW5lcyAmIHJvb3QuZXhwaXJlZExhbmVzKSkgfHxcbiAgICAgICAgICBjaGVja0lmUm9vdElzUHJlcmVuZGVyaW5nKHJvb3QsIGxhbmVzKSxcbiAgICAgICAgZXhpdFN0YXR1cyA9IHNob3VsZFRpbWVTbGljZVxuICAgICAgICAgID8gcmVuZGVyUm9vdENvbmN1cnJlbnQocm9vdCwgbGFuZXMpXG4gICAgICAgICAgOiByZW5kZXJSb290U3luYyhyb290LCBsYW5lcywgITApLFxuICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50ID0gc2hvdWxkVGltZVNsaWNlO1xuICAgICAgZG8ge1xuICAgICAgICBpZiAoZXhpdFN0YXR1cyA9PT0gUm9vdEluUHJvZ3Jlc3MpIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyAmJlxuICAgICAgICAgICAgIXNob3VsZFRpbWVTbGljZSAmJlxuICAgICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQocm9vdCwgbGFuZXMsIDAsICExKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChleGl0U3RhdHVzID09PSBSb290RGlkTm90Q29tcGxldGUpXG4gICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgIXdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5nc1xuICAgICAgICAgICk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGZvcmNlU3luYyA9IHJvb3QuY3VycmVudC5hbHRlcm5hdGU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudCAmJlxuICAgICAgICAgICAgIWlzUmVuZGVyQ29uc2lzdGVudFdpdGhFeHRlcm5hbFN0b3Jlcyhmb3JjZVN5bmMpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBleGl0U3RhdHVzID0gcmVuZGVyUm9vdFN5bmMocm9vdCwgbGFuZXMsICExKTtcbiAgICAgICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQgPSAhMTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXhpdFN0YXR1cyA9PT0gUm9vdEVycm9yZWQpIHtcbiAgICAgICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQgPSBsYW5lcztcbiAgICAgICAgICAgIGlmIChyb290LmVycm9yUmVjb3ZlcnlEaXNhYmxlZExhbmVzICYgcmVuZGVyV2FzQ29uY3VycmVudClcbiAgICAgICAgICAgICAgdmFyIGVycm9yUmV0cnlMYW5lcyA9IDA7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIChlcnJvclJldHJ5TGFuZXMgPSByb290LnBlbmRpbmdMYW5lcyAmIC01MzY4NzA5MTMpLFxuICAgICAgICAgICAgICAgIChlcnJvclJldHJ5TGFuZXMgPVxuICAgICAgICAgICAgICAgICAgMCAhPT0gZXJyb3JSZXRyeUxhbmVzXG4gICAgICAgICAgICAgICAgICAgID8gZXJyb3JSZXRyeUxhbmVzXG4gICAgICAgICAgICAgICAgICAgIDogZXJyb3JSZXRyeUxhbmVzICYgNTM2ODcwOTEyXG4gICAgICAgICAgICAgICAgICAgICAgPyA1MzY4NzA5MTJcbiAgICAgICAgICAgICAgICAgICAgICA6IDApO1xuICAgICAgICAgICAgaWYgKDAgIT09IGVycm9yUmV0cnlMYW5lcykge1xuICAgICAgICAgICAgICBsYW5lcyA9IGVycm9yUmV0cnlMYW5lcztcbiAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMgPSByb290O1xuICAgICAgICAgICAgICAgIHZhciBlcnJvclJldHJ5TGFuZXMkanNjb21wJDAgPSBlcnJvclJldHJ5TGFuZXM7XG4gICAgICAgICAgICAgICAgZXJyb3JSZXRyeUxhbmVzID0gd29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9ycztcbiAgICAgICAgICAgICAgICB2YXIgd2FzUm9vdERlaHlkcmF0ZWQgPVxuICAgICAgICAgICAgICAgICAgZXhpdFN0YXR1cy5jdXJyZW50Lm1lbW9pemVkU3RhdGUuaXNEZWh5ZHJhdGVkO1xuICAgICAgICAgICAgICAgIHdhc1Jvb3REZWh5ZHJhdGVkICYmXG4gICAgICAgICAgICAgICAgICAocHJlcGFyZUZyZXNoU3RhY2soXG4gICAgICAgICAgICAgICAgICAgIGV4aXRTdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yUmV0cnlMYW5lcyRqc2NvbXAkMFxuICAgICAgICAgICAgICAgICAgKS5mbGFncyB8PSAyNTYpO1xuICAgICAgICAgICAgICAgIGVycm9yUmV0cnlMYW5lcyRqc2NvbXAkMCA9IHJlbmRlclJvb3RTeW5jKFxuICAgICAgICAgICAgICAgICAgZXhpdFN0YXR1cyxcbiAgICAgICAgICAgICAgICAgIGVycm9yUmV0cnlMYW5lcyRqc2NvbXAkMCxcbiAgICAgICAgICAgICAgICAgICExXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXRyeUxhbmVzJGpzY29tcCQwICE9PSBSb290RXJyb3JlZCkge1xuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRBdHRhY2hQaW5nTGlzdGVuZXIgJiZcbiAgICAgICAgICAgICAgICAgICAgIXdhc1Jvb3REZWh5ZHJhdGVkXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpdFN0YXR1cy5lcnJvclJlY292ZXJ5RGlzYWJsZWRMYW5lcyB8PVxuICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcldhc0NvbmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzIHw9XG4gICAgICAgICAgICAgICAgICAgICAgcmVuZGVyV2FzQ29uY3VycmVudDtcbiAgICAgICAgICAgICAgICAgICAgZXhpdFN0YXR1cyA9IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBleGl0U3RhdHVzID0gd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnM7XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyA9IGVycm9yUmV0cnlMYW5lcztcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IGV4aXRTdGF0dXMgJiYgcXVldWVSZWNvdmVyYWJsZUVycm9ycyhleGl0U3RhdHVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXhpdFN0YXR1cyA9IGVycm9yUmV0cnlMYW5lcyRqc2NvbXAkMDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZW5kZXJXYXNDb25jdXJyZW50ID0gITE7XG4gICAgICAgICAgICAgIGlmIChleGl0U3RhdHVzICE9PSBSb290RXJyb3JlZCkgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleGl0U3RhdHVzID09PSBSb290RmF0YWxFcnJvcmVkKSB7XG4gICAgICAgICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCAwKTtcbiAgICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKHJvb3QsIGxhbmVzLCAwLCAhMCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgYToge1xuICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlID0gcm9vdDtcbiAgICAgICAgICAgIHN3aXRjaCAoZXhpdFN0YXR1cykge1xuICAgICAgICAgICAgICBjYXNlIFJvb3RJblByb2dyZXNzOlxuICAgICAgICAgICAgICBjYXNlIFJvb3RGYXRhbEVycm9yZWQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJSb290IGRpZCBub3QgY29tcGxldGUuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCIpO1xuICAgICAgICAgICAgICBjYXNlIFJvb3RTdXNwZW5kZWRXaXRoRGVsYXk6XG4gICAgICAgICAgICAgICAgaWYgKChsYW5lcyAmIDQxOTQxNzYpID09PSBsYW5lcykge1xuICAgICAgICAgICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSxcbiAgICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgICAgICAgICAhd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgUm9vdEVycm9yZWQ6XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMgPSBudWxsO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFJvb3RTdXNwZW5kZWQ6XG4gICAgICAgICAgICAgIGNhc2UgUm9vdENvbXBsZXRlZDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlVua25vd24gcm9vdCBleGl0IHN0YXR1cy5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UuZmluaXNoZWRXb3JrID0gZm9yY2VTeW5jO1xuICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLmZpbmlzaGVkTGFuZXMgPSBsYW5lcztcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSlcbiAgICAgICAgICAgICAgY29tbWl0Um9vdChcbiAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRJbmNsdWRlUmVjdXJzaXZlUmVuZGVyVXBkYXRlLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgICAgICAgICBJTU1FRElBVEVfQ09NTUlULFxuICAgICAgICAgICAgICAgIHJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChsYW5lcyAmIDYyOTE0NTYwKSA9PT0gbGFuZXMgJiZcbiAgICAgICAgICAgICAgICAoKGV4aXRTdGF0dXMgPVxuICAgICAgICAgICAgICAgICAgZ2xvYmFsTW9zdFJlY2VudEZhbGxiYWNrVGltZSArXG4gICAgICAgICAgICAgICAgICBGQUxMQkFDS19USFJPVFRMRV9NUyAtXG4gICAgICAgICAgICAgICAgICBub3ckMSgpKSxcbiAgICAgICAgICAgICAgICAxMCA8IGV4aXRTdGF0dXMpXG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLFxuICAgICAgICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAgICAgICAgICF3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3NcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmICgwICE9PSBnZXROZXh0TGFuZXMoc2hvdWxkVGltZVNsaWNlLCAwKSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICBzaG91bGRUaW1lU2xpY2UudGltZW91dEhhbmRsZSA9IHNjaGVkdWxlVGltZW91dChcbiAgICAgICAgICAgICAgICAgIGNvbW1pdFJvb3RXaGVuUmVhZHkuYmluZChcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkVGltZVNsaWNlLFxuICAgICAgICAgICAgICAgICAgICBmb3JjZVN5bmMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRJbmNsdWRlUmVjdXJzaXZlUmVuZGVyVXBkYXRlLFxuICAgICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzLFxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyxcbiAgICAgICAgICAgICAgICAgICAgVEhST1RUTEVEX0NPTU1JVCxcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgZXhpdFN0YXR1c1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb21taXRSb290V2hlblJlYWR5KFxuICAgICAgICAgICAgICAgIHNob3VsZFRpbWVTbGljZSxcbiAgICAgICAgICAgICAgICBmb3JjZVN5bmMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUcmFuc2l0aW9ucyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRJbmNsdWRlUmVjdXJzaXZlUmVuZGVyVXBkYXRlLFxuICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzRGVmZXJyZWRMYW5lLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzLFxuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3MsXG4gICAgICAgICAgICAgICAgSU1NRURJQVRFX0NPTU1JVCxcbiAgICAgICAgICAgICAgICByZW5kZXJTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH0gd2hpbGUgKDEpO1xuICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBxdWV1ZVJlY292ZXJhYmxlRXJyb3JzKGVycm9ycykge1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnNcbiAgICAgICAgPyAod29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMgPSBlcnJvcnMpXG4gICAgICAgIDogd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMucHVzaC5hcHBseShcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgICAgICAgZXJyb3JzXG4gICAgICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0Um9vdFdoZW5SZWFkeShcbiAgICAgIHJvb3QsXG4gICAgICBmaW5pc2hlZFdvcmssXG4gICAgICByZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgIHRyYW5zaXRpb25zLFxuICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgbGFuZXMsXG4gICAgICBzcGF3bmVkTGFuZSxcbiAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICBkaWRTa2lwU3VzcGVuZGVkU2libGluZ3MsXG4gICAgICBzdXNwZW5kZWRDb21taXRSZWFzb24sXG4gICAgICBjb21wbGV0ZWRSZW5kZXJTdGFydFRpbWUsXG4gICAgICBjb21wbGV0ZWRSZW5kZXJFbmRUaW1lXG4gICAgKSB7XG4gICAgICB2YXIgc3VidHJlZUZsYWdzID0gZmluaXNoZWRXb3JrLnN1YnRyZWVGbGFncztcbiAgICAgIGlmIChzdWJ0cmVlRmxhZ3MgJiA4MTkyIHx8IDE2Nzg1NDA4ID09PSAoc3VidHJlZUZsYWdzICYgMTY3ODU0MDgpKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgKChzdXNwZW5kZWRTdGF0ZSA9IHsgc3R5bGVzaGVldHM6IG51bGwsIGNvdW50OiAwLCB1bnN1c3BlbmQ6IG5vb3AgfSksXG4gICAgICAgICAgYWNjdW11bGF0ZVN1c3BlbnNleUNvbW1pdE9uRmliZXIoZmluaXNoZWRXb3JrKSxcbiAgICAgICAgICAoZmluaXNoZWRXb3JrID0gd2FpdEZvckNvbW1pdFRvQmVSZWFkeSgpKSxcbiAgICAgICAgICBudWxsICE9PSBmaW5pc2hlZFdvcmspXG4gICAgICAgICkge1xuICAgICAgICAgIHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdCA9IGZpbmlzaGVkV29yayhcbiAgICAgICAgICAgIGNvbW1pdFJvb3QuYmluZChcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgICAgICAgIHRyYW5zaXRpb25zLFxuICAgICAgICAgICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICAgICAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgICAgICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICAgICAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICAgICAgICAgIFNVU1BFTkRFRF9DT01NSVQsXG4gICAgICAgICAgICAgIGNvbXBsZXRlZFJlbmRlclN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgY29tcGxldGVkUmVuZGVyRW5kVGltZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgbWFya1Jvb3RTdXNwZW5kZWQoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgbGFuZXMsXG4gICAgICAgICAgICBzcGF3bmVkTGFuZSxcbiAgICAgICAgICAgICFkaWRTa2lwU3VzcGVuZGVkU2libGluZ3NcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgY29tbWl0Um9vdChcbiAgICAgICAgcm9vdCxcbiAgICAgICAgcmVjb3ZlcmFibGVFcnJvcnMsXG4gICAgICAgIHRyYW5zaXRpb25zLFxuICAgICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgICB1cGRhdGVkTGFuZXMsXG4gICAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICAgIHN1c3BlbmRlZENvbW1pdFJlYXNvbixcbiAgICAgICAgY29tcGxldGVkUmVuZGVyU3RhcnRUaW1lLFxuICAgICAgICBjb21wbGV0ZWRSZW5kZXJFbmRUaW1lXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1JlbmRlckNvbnNpc3RlbnRXaXRoRXh0ZXJuYWxTdG9yZXMoZmluaXNoZWRXb3JrKSB7XG4gICAgICBmb3IgKHZhciBub2RlID0gZmluaXNoZWRXb3JrOyA7ICkge1xuICAgICAgICB2YXIgdGFnID0gbm9kZS50YWc7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAoMCA9PT0gdGFnIHx8IDExID09PSB0YWcgfHwgMTUgPT09IHRhZykgJiZcbiAgICAgICAgICBub2RlLmZsYWdzICYgMTYzODQgJiZcbiAgICAgICAgICAoKHRhZyA9IG5vZGUudXBkYXRlUXVldWUpLFxuICAgICAgICAgIG51bGwgIT09IHRhZyAmJiAoKHRhZyA9IHRhZy5zdG9yZXMpLCBudWxsICE9PSB0YWcpKVxuICAgICAgICApXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGVjayA9IHRhZ1tpXSxcbiAgICAgICAgICAgICAgZ2V0U25hcHNob3QgPSBjaGVjay5nZXRTbmFwc2hvdDtcbiAgICAgICAgICAgIGNoZWNrID0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBpZiAoIW9iamVjdElzKGdldFNuYXBzaG90KCksIGNoZWNrKSkgcmV0dXJuICExO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgdGFnID0gbm9kZS5jaGlsZDtcbiAgICAgICAgaWYgKG5vZGUuc3VidHJlZUZsYWdzICYgMTYzODQgJiYgbnVsbCAhPT0gdGFnKVxuICAgICAgICAgICh0YWcucmV0dXJuID0gbm9kZSksIChub2RlID0gdGFnKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKG5vZGUgPT09IGZpbmlzaGVkV29yaykgYnJlYWs7XG4gICAgICAgICAgZm9yICg7IG51bGwgPT09IG5vZGUuc2libGluZzsgKSB7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gbm9kZS5yZXR1cm4gfHwgbm9kZS5yZXR1cm4gPT09IGZpbmlzaGVkV29yaykgcmV0dXJuICEwO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlLnNpYmxpbmcucmV0dXJuID0gbm9kZS5yZXR1cm47XG4gICAgICAgICAgbm9kZSA9IG5vZGUuc2libGluZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUm9vdFN1c3BlbmRlZChcbiAgICAgIHJvb3QsXG4gICAgICBzdXNwZW5kZWRMYW5lcyxcbiAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgZGlkQXR0ZW1wdEVudGlyZVRyZWVcbiAgICApIHtcbiAgICAgIHN1c3BlbmRlZExhbmVzICY9IH53b3JrSW5Qcm9ncmVzc1Jvb3RQaW5nZWRMYW5lcztcbiAgICAgIHN1c3BlbmRlZExhbmVzICY9IH53b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcztcbiAgICAgIHJvb3Quc3VzcGVuZGVkTGFuZXMgfD0gc3VzcGVuZGVkTGFuZXM7XG4gICAgICByb290LnBpbmdlZExhbmVzICY9IH5zdXNwZW5kZWRMYW5lcztcbiAgICAgIGRpZEF0dGVtcHRFbnRpcmVUcmVlICYmIChyb290Lndhcm1MYW5lcyB8PSBzdXNwZW5kZWRMYW5lcyk7XG4gICAgICBkaWRBdHRlbXB0RW50aXJlVHJlZSA9IHJvb3QuZXhwaXJhdGlvblRpbWVzO1xuICAgICAgZm9yICh2YXIgbGFuZXMgPSBzdXNwZW5kZWRMYW5lczsgMCA8IGxhbmVzOyApIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMzEgLSBjbHozMihsYW5lcyksXG4gICAgICAgICAgbGFuZSA9IDEgPDwgaW5kZXg7XG4gICAgICAgIGRpZEF0dGVtcHRFbnRpcmVUcmVlW2luZGV4XSA9IC0xO1xuICAgICAgICBsYW5lcyAmPSB+bGFuZTtcbiAgICAgIH1cbiAgICAgIDAgIT09IHNwYXduZWRMYW5lICYmXG4gICAgICAgIG1hcmtTcGF3bmVkRGVmZXJyZWRMYW5lKHJvb3QsIHNwYXduZWRMYW5lLCBzdXNwZW5kZWRMYW5lcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZsdXNoU3luY1dvcmskMSgpIHtcbiAgICAgIHJldHVybiAoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpID09PSBOb0NvbnRleHRcbiAgICAgICAgPyAoZmx1c2hTeW5jV29ya0Fjcm9zc1Jvb3RzX2ltcGwoMCwgITEpLCAhMSlcbiAgICAgICAgOiAhMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzZXRXb3JrSW5Qcm9ncmVzc1N0YWNrKCkge1xuICAgICAgaWYgKG51bGwgIT09IHdvcmtJblByb2dyZXNzKSB7XG4gICAgICAgIGlmICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9PT0gTm90U3VzcGVuZGVkKVxuICAgICAgICAgIHZhciBpbnRlcnJ1cHRlZFdvcmsgPSB3b3JrSW5Qcm9ncmVzcy5yZXR1cm47XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAoaW50ZXJydXB0ZWRXb3JrID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgcmVzZXRDb250ZXh0RGVwZW5kZW5jaWVzKCksXG4gICAgICAgICAgICByZXNldEhvb2tzT25VbndpbmQoaW50ZXJydXB0ZWRXb3JrKSxcbiAgICAgICAgICAgICh0aGVuYWJsZVN0YXRlJDEgPSBudWxsKSxcbiAgICAgICAgICAgICh0aGVuYWJsZUluZGV4Q291bnRlciQxID0gMCksXG4gICAgICAgICAgICAoaW50ZXJydXB0ZWRXb3JrID0gd29ya0luUHJvZ3Jlc3MpO1xuICAgICAgICBmb3IgKDsgbnVsbCAhPT0gaW50ZXJydXB0ZWRXb3JrOyApXG4gICAgICAgICAgdW53aW5kSW50ZXJydXB0ZWRXb3JrKGludGVycnVwdGVkV29yay5hbHRlcm5hdGUsIGludGVycnVwdGVkV29yayksXG4gICAgICAgICAgICAoaW50ZXJydXB0ZWRXb3JrID0gaW50ZXJydXB0ZWRXb3JrLnJldHVybik7XG4gICAgICAgIHdvcmtJblByb2dyZXNzID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlcGFyZUZyZXNoU3RhY2socm9vdCwgbGFuZXMpIHtcbiAgICAgIHJvb3QuZmluaXNoZWRXb3JrID0gbnVsbDtcbiAgICAgIHJvb3QuZmluaXNoZWRMYW5lcyA9IDA7XG4gICAgICB2YXIgdGltZW91dEhhbmRsZSA9IHJvb3QudGltZW91dEhhbmRsZTtcbiAgICAgIHRpbWVvdXRIYW5kbGUgIT09IG5vVGltZW91dCAmJlxuICAgICAgICAoKHJvb3QudGltZW91dEhhbmRsZSA9IG5vVGltZW91dCksIGNhbmNlbFRpbWVvdXQodGltZW91dEhhbmRsZSkpO1xuICAgICAgdGltZW91dEhhbmRsZSA9IHJvb3QuY2FuY2VsUGVuZGluZ0NvbW1pdDtcbiAgICAgIG51bGwgIT09IHRpbWVvdXRIYW5kbGUgJiZcbiAgICAgICAgKChyb290LmNhbmNlbFBlbmRpbmdDb21taXQgPSBudWxsKSwgdGltZW91dEhhbmRsZSgpKTtcbiAgICAgIHJlc2V0V29ya0luUHJvZ3Jlc3NTdGFjaygpO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290ID0gcm9vdDtcbiAgICAgIHdvcmtJblByb2dyZXNzID0gdGltZW91dEhhbmRsZSA9IGNyZWF0ZVdvcmtJblByb2dyZXNzKHJvb3QuY3VycmVudCwgbnVsbCk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyA9IGxhbmVzO1xuICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyA9ICExO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmcgPSBjaGVja0lmUm9vdElzUHJlcmVuZGVyaW5nKHJvb3QsIGxhbmVzKTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEF0dGFjaFBpbmdMaXN0ZW5lciA9ICExO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RJblByb2dyZXNzO1xuICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZXRyeUxhbmVzID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NEZWZlcnJlZExhbmUgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RQaW5nZWRMYW5lcyA9XG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzID1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290U2tpcHBlZExhbmVzID1cbiAgICAgICAgICAwO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVjb3ZlcmFibGVFcnJvcnMgPSB3b3JrSW5Qcm9ncmVzc1Jvb3RDb25jdXJyZW50RXJyb3JzID1cbiAgICAgICAgbnVsbDtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZEluY2x1ZGVSZWN1cnNpdmVSZW5kZXJVcGRhdGUgPSAhMTtcbiAgICAgIDAgIT09IChsYW5lcyAmIDgpICYmIChsYW5lcyB8PSBsYW5lcyAmIDMyKTtcbiAgICAgIHZhciBhbGxFbnRhbmdsZWRMYW5lcyA9IHJvb3QuZW50YW5nbGVkTGFuZXM7XG4gICAgICBpZiAoMCAhPT0gYWxsRW50YW5nbGVkTGFuZXMpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgcm9vdCA9IHJvb3QuZW50YW5nbGVtZW50cywgYWxsRW50YW5nbGVkTGFuZXMgJj0gbGFuZXM7XG4gICAgICAgICAgMCA8IGFsbEVudGFuZ2xlZExhbmVzO1xuXG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBpbmRleCA9IDMxIC0gY2x6MzIoYWxsRW50YW5nbGVkTGFuZXMpLFxuICAgICAgICAgICAgbGFuZSA9IDEgPDwgaW5kZXg7XG4gICAgICAgICAgbGFuZXMgfD0gcm9vdFtpbmRleF07XG4gICAgICAgICAgYWxsRW50YW5nbGVkTGFuZXMgJj0gfmxhbmU7XG4gICAgICAgIH1cbiAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzID0gbGFuZXM7XG4gICAgICBmaW5pc2hRdWV1ZWluZ0NvbmN1cnJlbnRVcGRhdGVzKCk7XG4gICAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5kaXNjYXJkUGVuZGluZ1dhcm5pbmdzKCk7XG4gICAgICByZXR1cm4gdGltZW91dEhhbmRsZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlVGhyb3cocm9vdCwgdGhyb3duVmFsdWUpIHtcbiAgICAgIGN1cnJlbnRseVJlbmRlcmluZ0ZpYmVyJDEgPSBudWxsO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IENvbnRleHRPbmx5RGlzcGF0Y2hlcjtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IG51bGw7XG4gICAgICBpc1JlbmRlcmluZyA9ICExO1xuICAgICAgY3VycmVudCA9IG51bGw7XG4gICAgICB0aHJvd25WYWx1ZSA9PT0gU3VzcGVuc2VFeGNlcHRpb25cbiAgICAgICAgPyAoKHRocm93blZhbHVlID0gZ2V0U3VzcGVuZGVkVGhlbmFibGUoKSksXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gU3VzcGVuZGVkT25JbW1lZGlhdGUpKVxuICAgICAgICA6IHRocm93blZhbHVlID09PSBTdXNwZW5zZXlDb21taXRFeGNlcHRpb25cbiAgICAgICAgICA/ICgodGhyb3duVmFsdWUgPSBnZXRTdXNwZW5kZWRUaGVuYWJsZSgpKSxcbiAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IFN1c3BlbmRlZE9uSW5zdGFuY2UpKVxuICAgICAgICAgIDogKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID1cbiAgICAgICAgICAgICAgdGhyb3duVmFsdWUgPT09IFNlbGVjdGl2ZUh5ZHJhdGlvbkV4Y2VwdGlvblxuICAgICAgICAgICAgICAgID8gU3VzcGVuZGVkT25IeWRyYXRpb25cbiAgICAgICAgICAgICAgICA6IG51bGwgIT09IHRocm93blZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB0aHJvd25WYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0aHJvd25WYWx1ZS50aGVuXG4gICAgICAgICAgICAgICAgICA/IFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZVxuICAgICAgICAgICAgICAgICAgOiBTdXNwZW5kZWRPbkVycm9yKTtcbiAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSB0aHJvd25WYWx1ZTtcbiAgICAgIHZhciBlcnJvcmVkV29yayA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgaWYgKG51bGwgPT09IGVycm9yZWRXb3JrKVxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RGYXRhbEVycm9yZWQpLFxuICAgICAgICAgIGxvZ1VuY2F1Z2h0RXJyb3IoXG4gICAgICAgICAgICByb290LFxuICAgICAgICAgICAgY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIodGhyb3duVmFsdWUsIHJvb3QuY3VycmVudClcbiAgICAgICAgICApO1xuICAgICAgZWxzZVxuICAgICAgICBzd2l0Y2ggKFxuICAgICAgICAgIChlcnJvcmVkV29yay5tb2RlICYgUHJvZmlsZU1vZGUgJiZcbiAgICAgICAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkRHVyYXRpb24oZXJyb3JlZFdvcmspLFxuICAgICAgICAgIG1hcmtDb21wb25lbnRSZW5kZXJTdG9wcGVkKCksXG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24pXG4gICAgICAgICkge1xuICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25FcnJvcjpcbiAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21wb25lbnRFcnJvcmVkICYmXG4gICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudEVycm9yZWQoXG4gICAgICAgICAgICAgICAgZXJyb3JlZFdvcmssXG4gICAgICAgICAgICAgICAgdGhyb3duVmFsdWUsXG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25EYXRhOlxuICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25JbW1lZGlhdGU6XG4gICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2U6XG4gICAgICAgICAgY2FzZSBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWU6XG4gICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tcG9uZW50U3VzcGVuZGVkICYmXG4gICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0NvbXBvbmVudFN1c3BlbmRlZChcbiAgICAgICAgICAgICAgICBlcnJvcmVkV29yayxcbiAgICAgICAgICAgICAgICB0aHJvd25WYWx1ZSxcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHB1c2hEaXNwYXRjaGVyKCkge1xuICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBDb250ZXh0T25seURpc3BhdGNoZXI7XG4gICAgICByZXR1cm4gbnVsbCA9PT0gcHJldkRpc3BhdGNoZXIgPyBDb250ZXh0T25seURpc3BhdGNoZXIgOiBwcmV2RGlzcGF0Y2hlcjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHVzaEFzeW5jRGlzcGF0Y2hlcigpIHtcbiAgICAgIHZhciBwcmV2QXN5bmNEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuQTtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkEgPSBEZWZhdWx0QXN5bmNEaXNwYXRjaGVyO1xuICAgICAgcmV0dXJuIHByZXZBc3luY0Rpc3BhdGNoZXI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbmRlckRpZFN1c3BlbmREZWxheUlmUG9zc2libGUoKSB7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdFN1c3BlbmRlZFdpdGhEZWxheTtcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdERpZFNraXBTdXNwZW5kZWRTaWJsaW5ncyB8fFxuICAgICAgICAoKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYgNDE5NDE3NikgIT09XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiZcbiAgICAgICAgICBudWxsICE9PSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50KSB8fFxuICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmcgPSAhMCk7XG4gICAgICAoMCA9PT0gKHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyAmIDEzNDIxNzcyNykgJiZcbiAgICAgICAgMCA9PT0gKHdvcmtJblByb2dyZXNzUm9vdEludGVybGVhdmVkVXBkYXRlZExhbmVzICYgMTM0MjE3NzI3KSkgfHxcbiAgICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3NSb290IHx8XG4gICAgICAgIG1hcmtSb290U3VzcGVuZGVkKFxuICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdCxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyxcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSxcbiAgICAgICAgICAhMVxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW5kZXJSb290U3luYyhyb290LCBsYW5lcywgc2hvdWxkWWllbGRGb3JQcmVyZW5kZXJpbmcpIHtcbiAgICAgIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICBleGVjdXRpb25Db250ZXh0IHw9IFJlbmRlckNvbnRleHQ7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBwdXNoRGlzcGF0Y2hlcigpLFxuICAgICAgICBwcmV2QXN5bmNEaXNwYXRjaGVyID0gcHVzaEFzeW5jRGlzcGF0Y2hlcigpO1xuICAgICAgaWYgKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QgIT09IHJvb3QgfHxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgIT09IGxhbmVzXG4gICAgICApIHtcbiAgICAgICAgaWYgKGlzRGV2VG9vbHNQcmVzZW50KSB7XG4gICAgICAgICAgdmFyIG1lbW9pemVkVXBkYXRlcnMgPSByb290Lm1lbW9pemVkVXBkYXRlcnM7XG4gICAgICAgICAgMCA8IG1lbW9pemVkVXBkYXRlcnMuc2l6ZSAmJlxuICAgICAgICAgICAgKHJlc3RvcmVQZW5kaW5nVXBkYXRlcnMocm9vdCwgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycy5jbGVhcigpKTtcbiAgICAgICAgICBtb3ZlUGVuZGluZ0ZpYmVyc1RvTWVtb2l6ZWQocm9vdCwgbGFuZXMpO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMgPSBudWxsO1xuICAgICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCBsYW5lcyk7XG4gICAgICB9XG4gICAgICBtYXJrUmVuZGVyU3RhcnRlZChsYW5lcyk7XG4gICAgICBsYW5lcyA9ICExO1xuICAgICAgbWVtb2l6ZWRVcGRhdGVycyA9IHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXM7XG4gICAgICBhOiBkb1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uICE9PSBOb3RTdXNwZW5kZWQgJiZcbiAgICAgICAgICAgIG51bGwgIT09IHdvcmtJblByb2dyZXNzXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB2YXIgdW5pdE9mV29yayA9IHdvcmtJblByb2dyZXNzLFxuICAgICAgICAgICAgICB0aHJvd25WYWx1ZSA9IHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWU7XG4gICAgICAgICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uKSB7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25IeWRyYXRpb246XG4gICAgICAgICAgICAgICAgcmVzZXRXb3JrSW5Qcm9ncmVzc1N0YWNrKCk7XG4gICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyA9IFJvb3REaWROb3RDb21wbGV0ZTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSW1tZWRpYXRlOlxuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGF0YTpcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2U6XG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gc3VzcGVuc2VIYW5kbGVyU3RhY2tDdXJzb3IuY3VycmVudCAmJiAobGFuZXMgPSAhMCk7XG4gICAgICAgICAgICAgICAgdmFyIHJlYXNvbiA9IHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRocm93QW5kVW53aW5kV29ya0xvb3Aocm9vdCwgdW5pdE9mV29yaywgdGhyb3duVmFsdWUsIHJlYXNvbik7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgc2hvdWxkWWllbGRGb3JQcmVyZW5kZXJpbmcgJiZcbiAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzID0gUm9vdEluUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAocmVhc29uID0gd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24pLFxuICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkKSxcbiAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICB0aHJvd0FuZFVud2luZFdvcmtMb29wKHJvb3QsIHVuaXRPZldvcmssIHRocm93blZhbHVlLCByZWFzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB3b3JrTG9vcFN5bmMoKTtcbiAgICAgICAgICBtZW1vaXplZFVwZGF0ZXJzID0gd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBjYXRjaCAodGhyb3duVmFsdWUkOCkge1xuICAgICAgICAgIGhhbmRsZVRocm93KHJvb3QsIHRocm93blZhbHVlJDgpO1xuICAgICAgICB9XG4gICAgICB3aGlsZSAoMSk7XG4gICAgICBsYW5lcyAmJiByb290LnNoZWxsU3VzcGVuZENvdW50ZXIrKztcbiAgICAgIHJlc2V0Q29udGV4dERlcGVuZGVuY2llcygpO1xuICAgICAgZXhlY3V0aW9uQ29udGV4dCA9IHByZXZFeGVjdXRpb25Db250ZXh0O1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuQSA9IHByZXZBc3luY0Rpc3BhdGNoZXI7XG4gICAgICBtYXJrUmVuZGVyU3RvcHBlZCgpO1xuICAgICAgbnVsbCA9PT0gd29ya0luUHJvZ3Jlc3MgJiZcbiAgICAgICAgKCh3b3JrSW5Qcm9ncmVzc1Jvb3QgPSBudWxsKSxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzID0gMCksXG4gICAgICAgIGZpbmlzaFF1ZXVlaW5nQ29uY3VycmVudFVwZGF0ZXMoKSk7XG4gICAgICByZXR1cm4gbWVtb2l6ZWRVcGRhdGVycztcbiAgICB9XG4gICAgZnVuY3Rpb24gd29ya0xvb3BTeW5jKCkge1xuICAgICAgZm9yICg7IG51bGwgIT09IHdvcmtJblByb2dyZXNzOyApIHBlcmZvcm1Vbml0T2ZXb3JrKHdvcmtJblByb2dyZXNzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyUm9vdENvbmN1cnJlbnQocm9vdCwgbGFuZXMpIHtcbiAgICAgIHZhciBwcmV2RXhlY3V0aW9uQ29udGV4dCA9IGV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICBleGVjdXRpb25Db250ZXh0IHw9IFJlbmRlckNvbnRleHQ7XG4gICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBwdXNoRGlzcGF0Y2hlcigpLFxuICAgICAgICBwcmV2QXN5bmNEaXNwYXRjaGVyID0gcHVzaEFzeW5jRGlzcGF0Y2hlcigpO1xuICAgICAgaWYgKFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QgIT09IHJvb3QgfHxcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgIT09IGxhbmVzXG4gICAgICApIHtcbiAgICAgICAgaWYgKGlzRGV2VG9vbHNQcmVzZW50KSB7XG4gICAgICAgICAgdmFyIG1lbW9pemVkVXBkYXRlcnMgPSByb290Lm1lbW9pemVkVXBkYXRlcnM7XG4gICAgICAgICAgMCA8IG1lbW9pemVkVXBkYXRlcnMuc2l6ZSAmJlxuICAgICAgICAgICAgKHJlc3RvcmVQZW5kaW5nVXBkYXRlcnMocm9vdCwgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMpLFxuICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycy5jbGVhcigpKTtcbiAgICAgICAgICBtb3ZlUGVuZGluZ0ZpYmVyc1RvTWVtb2l6ZWQocm9vdCwgbGFuZXMpO1xuICAgICAgICB9XG4gICAgICAgIHdvcmtJblByb2dyZXNzVHJhbnNpdGlvbnMgPSBudWxsO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJUYXJnZXRUaW1lID0gbm93JDEoKSArIFJFTkRFUl9USU1FT1VUX01TO1xuICAgICAgICBwcmVwYXJlRnJlc2hTdGFjayhyb290LCBsYW5lcyk7XG4gICAgICB9IGVsc2VcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290SXNQcmVyZW5kZXJpbmcgPSBjaGVja0lmUm9vdElzUHJlcmVuZGVyaW5nKFxuICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgbGFuZXNcbiAgICAgICAgKTtcbiAgICAgIG1hcmtSZW5kZXJTdGFydGVkKGxhbmVzKTtcbiAgICAgIGE6IGRvXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gIT09IE5vdFN1c3BlbmRlZCAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gd29ya0luUHJvZ3Jlc3NcbiAgICAgICAgICApXG4gICAgICAgICAgICBiOiBzd2l0Y2ggKFxuICAgICAgICAgICAgICAoKGxhbmVzID0gd29ya0luUHJvZ3Jlc3MpLFxuICAgICAgICAgICAgICAobWVtb2l6ZWRVcGRhdGVycyA9IHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUpLFxuICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbilcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRXJyb3I6XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICBsYW5lcyxcbiAgICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMsXG4gICAgICAgICAgICAgICAgICBTdXNwZW5kZWRPbkVycm9yXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkRhdGE6XG4gICAgICAgICAgICAgICAgaWYgKGlzVGhlbmFibGVSZXNvbHZlZChtZW1vaXplZFVwZGF0ZXJzKSkge1xuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPSBOb3RTdXNwZW5kZWQ7XG4gICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgIHJlcGxheVN1c3BlbmRlZFVuaXRPZldvcmsobGFuZXMpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhbmVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRGF0YSAmJlxuICAgICAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QgPT09IHJvb3QgJiZcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID1cbiAgICAgICAgICAgICAgICAgICAgICBTdXNwZW5kZWRBbmRSZWFkeVRvQ29udGludWUpO1xuICAgICAgICAgICAgICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycy50aGVuKGxhbmVzLCBsYW5lcyk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgY2FzZSBTdXNwZW5kZWRPbkltbWVkaWF0ZTpcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSW5zdGFuY2U6XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NTdXNwZW5kZWRSZWFzb24gPVxuICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkT25JbnN0YW5jZUFuZFJlYWR5VG9Db250aW51ZTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZEFuZFJlYWR5VG9Db250aW51ZTpcbiAgICAgICAgICAgICAgICBpc1RoZW5hYmxlUmVzb2x2ZWQobWVtb2l6ZWRVcGRhdGVycylcbiAgICAgICAgICAgICAgICAgID8gKCh3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZCksXG4gICAgICAgICAgICAgICAgICAgICh3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbCksXG4gICAgICAgICAgICAgICAgICAgIHJlcGxheVN1c3BlbmRlZFVuaXRPZldvcmsobGFuZXMpKVxuICAgICAgICAgICAgICAgICAgOiAoKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkKSxcbiAgICAgICAgICAgICAgICAgICAgKHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgdGhyb3dBbmRVbndpbmRXb3JrTG9vcChcbiAgICAgICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgICAgIG1lbW9pemVkVXBkYXRlcnMsXG4gICAgICAgICAgICAgICAgICAgICAgU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlXG4gICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uSW5zdGFuY2VBbmRSZWFkeVRvQ29udGludWU6XG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHdvcmtJblByb2dyZXNzLnRhZykge1xuICAgICAgICAgICAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSB3b3JrSW5Qcm9ncmVzcy5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhvc3RGaWJlciA9IHdvcmtJblByb2dyZXNzO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb3VyY2UgPyBwcmVsb2FkUmVzb3VyY2UocmVzb3VyY2UpIDogMSkge1xuICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkO1xuICAgICAgICAgICAgICAgICAgICAgIHdvcmtJblByb2dyZXNzVGhyb3duVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciBzaWJsaW5nID0gaG9zdEZpYmVyLnNpYmxpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IHNpYmxpbmcpIHdvcmtJblByb2dyZXNzID0gc2libGluZztcbiAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5GaWJlciA9IGhvc3RGaWJlci5yZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9PSByZXR1cm5GaWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICgod29ya0luUHJvZ3Jlc3MgPSByZXR1cm5GaWJlciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGVVbml0T2ZXb3JrKHJldHVybkZpYmVyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MgPSBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJVbmV4cGVjdGVkIHR5cGUgb2YgZmliZXIgdHJpZ2dlcmVkIGEgc3VzcGVuc2V5IGNvbW1pdC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvd0FuZFVud2luZFdvcmtMb29wKFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyxcbiAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZE9uSW5zdGFuY2VBbmRSZWFkeVRvQ29udGludWVcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZTpcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9IE5vdFN1c3BlbmRlZDtcbiAgICAgICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Rocm93blZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aHJvd0FuZFVud2luZFdvcmtMb29wKFxuICAgICAgICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICAgICAgbWVtb2l6ZWRVcGRhdGVycyxcbiAgICAgICAgICAgICAgICAgIFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgU3VzcGVuZGVkT25IeWRyYXRpb246XG4gICAgICAgICAgICAgICAgcmVzZXRXb3JrSW5Qcm9ncmVzc1N0YWNrKCk7XG4gICAgICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3REaWROb3RDb21wbGV0ZTtcbiAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJVbmV4cGVjdGVkIFN1c3BlbmRlZFJlYXNvbi4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgbnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWVcbiAgICAgICAgICAgID8gd29ya0xvb3BTeW5jKClcbiAgICAgICAgICAgIDogd29ya0xvb3BDb25jdXJyZW50KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gY2F0Y2ggKHRocm93blZhbHVlJDkpIHtcbiAgICAgICAgICBoYW5kbGVUaHJvdyhyb290LCB0aHJvd25WYWx1ZSQ5KTtcbiAgICAgICAgfVxuICAgICAgd2hpbGUgKDEpO1xuICAgICAgcmVzZXRDb250ZXh0RGVwZW5kZW5jaWVzKCk7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscy5BID0gcHJldkFzeW5jRGlzcGF0Y2hlcjtcbiAgICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBwcmV2RXhlY3V0aW9uQ29udGV4dDtcbiAgICAgIGlmIChudWxsICE9PSB3b3JrSW5Qcm9ncmVzcylcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJZaWVsZGVkICYmXG4gICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJZaWVsZGVkKCksXG4gICAgICAgICAgUm9vdEluUHJvZ3Jlc3NcbiAgICAgICAgKTtcbiAgICAgIG1hcmtSZW5kZXJTdG9wcGVkKCk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QgPSBudWxsO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgPSAwO1xuICAgICAgZmluaXNoUXVldWVpbmdDb25jdXJyZW50VXBkYXRlcygpO1xuICAgICAgcmV0dXJuIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdvcmtMb29wQ29uY3VycmVudCgpIHtcbiAgICAgIGZvciAoOyBudWxsICE9PSB3b3JrSW5Qcm9ncmVzcyAmJiAhc2hvdWxkWWllbGQoKTsgKVxuICAgICAgICBwZXJmb3JtVW5pdE9mV29yayh3b3JrSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBlcmZvcm1Vbml0T2ZXb3JrKHVuaXRPZldvcmspIHtcbiAgICAgIHZhciBjdXJyZW50ID0gdW5pdE9mV29yay5hbHRlcm5hdGU7XG4gICAgICAodW5pdE9mV29yay5tb2RlICYgUHJvZmlsZU1vZGUpICE9PSBOb01vZGVcbiAgICAgICAgPyAoc3RhcnRQcm9maWxlclRpbWVyKHVuaXRPZldvcmspLFxuICAgICAgICAgIChjdXJyZW50ID0gcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgYmVnaW5Xb3JrLFxuICAgICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICBlbnRhbmdsZWRSZW5kZXJMYW5lc1xuICAgICAgICAgICkpLFxuICAgICAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkRHVyYXRpb24odW5pdE9mV29yaykpXG4gICAgICAgIDogKGN1cnJlbnQgPSBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICBiZWdpbldvcmssXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzXG4gICAgICAgICAgKSk7XG4gICAgICB1bml0T2ZXb3JrLm1lbW9pemVkUHJvcHMgPSB1bml0T2ZXb3JrLnBlbmRpbmdQcm9wcztcbiAgICAgIG51bGwgPT09IGN1cnJlbnRcbiAgICAgICAgPyBjb21wbGV0ZVVuaXRPZldvcmsodW5pdE9mV29yaylcbiAgICAgICAgOiAod29ya0luUHJvZ3Jlc3MgPSBjdXJyZW50KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGF5U3VzcGVuZGVkVW5pdE9mV29yayh1bml0T2ZXb3JrKSB7XG4gICAgICB2YXIgbmV4dCA9IHJ1bldpdGhGaWJlckluREVWKHVuaXRPZldvcmssIHJlcGxheUJlZ2luV29yaywgdW5pdE9mV29yayk7XG4gICAgICB1bml0T2ZXb3JrLm1lbW9pemVkUHJvcHMgPSB1bml0T2ZXb3JrLnBlbmRpbmdQcm9wcztcbiAgICAgIG51bGwgPT09IG5leHQgPyBjb21wbGV0ZVVuaXRPZldvcmsodW5pdE9mV29yaykgOiAod29ya0luUHJvZ3Jlc3MgPSBuZXh0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGF5QmVnaW5Xb3JrKHVuaXRPZldvcmspIHtcbiAgICAgIHZhciBjdXJyZW50ID0gdW5pdE9mV29yay5hbHRlcm5hdGUsXG4gICAgICAgIGlzUHJvZmlsaW5nTW9kZSA9ICh1bml0T2ZXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZTtcbiAgICAgIGlzUHJvZmlsaW5nTW9kZSAmJiBzdGFydFByb2ZpbGVyVGltZXIodW5pdE9mV29yayk7XG4gICAgICBzd2l0Y2ggKHVuaXRPZldvcmsudGFnKSB7XG4gICAgICAgIGNhc2UgMTU6XG4gICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBjdXJyZW50ID0gcmVwbGF5RnVuY3Rpb25Db21wb25lbnQoXG4gICAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgICAgdW5pdE9mV29yayxcbiAgICAgICAgICAgIHVuaXRPZldvcmsucGVuZGluZ1Byb3BzLFxuICAgICAgICAgICAgdW5pdE9mV29yay50eXBlLFxuICAgICAgICAgICAgdm9pZCAwLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXNcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDExOlxuICAgICAgICAgIGN1cnJlbnQgPSByZXBsYXlGdW5jdGlvbkNvbXBvbmVudChcbiAgICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLFxuICAgICAgICAgICAgdW5pdE9mV29yay5wZW5kaW5nUHJvcHMsXG4gICAgICAgICAgICB1bml0T2ZXb3JrLnR5cGUucmVuZGVyLFxuICAgICAgICAgICAgdW5pdE9mV29yay5yZWYsXG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lc1xuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICByZXNldEhvb2tzT25VbndpbmQodW5pdE9mV29yayk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdW53aW5kSW50ZXJydXB0ZWRXb3JrKGN1cnJlbnQsIHVuaXRPZldvcmspLFxuICAgICAgICAgICAgKHVuaXRPZldvcmsgPSB3b3JrSW5Qcm9ncmVzcyA9XG4gICAgICAgICAgICAgIHJlc2V0V29ya0luUHJvZ3Jlc3ModW5pdE9mV29yaywgZW50YW5nbGVkUmVuZGVyTGFuZXMpKSxcbiAgICAgICAgICAgIChjdXJyZW50ID0gYmVnaW5Xb3JrKGN1cnJlbnQsIHVuaXRPZldvcmssIGVudGFuZ2xlZFJlbmRlckxhbmVzKSk7XG4gICAgICB9XG4gICAgICBpc1Byb2ZpbGluZ01vZGUgJiZcbiAgICAgICAgc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmREdXJhdGlvbih1bml0T2ZXb3JrKTtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd0FuZFVud2luZFdvcmtMb29wKFxuICAgICAgcm9vdCxcbiAgICAgIHVuaXRPZldvcmssXG4gICAgICB0aHJvd25WYWx1ZSxcbiAgICAgIHN1c3BlbmRlZFJlYXNvblxuICAgICkge1xuICAgICAgcmVzZXRDb250ZXh0RGVwZW5kZW5jaWVzKCk7XG4gICAgICByZXNldEhvb2tzT25VbndpbmQodW5pdE9mV29yayk7XG4gICAgICB0aGVuYWJsZVN0YXRlJDEgPSBudWxsO1xuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIkMSA9IDA7XG4gICAgICB2YXIgcmV0dXJuRmliZXIgPSB1bml0T2ZXb3JrLnJldHVybjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aHJvd0V4Y2VwdGlvbihcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICByZXR1cm5GaWJlcixcbiAgICAgICAgICAgIHVuaXRPZldvcmssXG4gICAgICAgICAgICB0aHJvd25WYWx1ZSxcbiAgICAgICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdEZhdGFsRXJyb3JlZDtcbiAgICAgICAgICBsb2dVbmNhdWdodEVycm9yKFxuICAgICAgICAgICAgcm9vdCxcbiAgICAgICAgICAgIGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKHRocm93blZhbHVlLCByb290LmN1cnJlbnQpXG4gICAgICAgICAgKTtcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAobnVsbCAhPT0gcmV0dXJuRmliZXIpIHRocm93ICgod29ya0luUHJvZ3Jlc3MgPSByZXR1cm5GaWJlciksIGVycm9yKTtcbiAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9IFJvb3RGYXRhbEVycm9yZWQ7XG4gICAgICAgIGxvZ1VuY2F1Z2h0RXJyb3IoXG4gICAgICAgICAgcm9vdCxcbiAgICAgICAgICBjcmVhdGVDYXB0dXJlZFZhbHVlQXRGaWJlcih0aHJvd25WYWx1ZSwgcm9vdC5jdXJyZW50KVxuICAgICAgICApO1xuICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh1bml0T2ZXb3JrLmZsYWdzICYgMzI3NjgpIHtcbiAgICAgICAgaWYgKGlzSHlkcmF0aW5nIHx8IHN1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25FcnJvcikgcm9vdCA9ICEwO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJc1ByZXJlbmRlcmluZyB8fFxuICAgICAgICAgIDAgIT09ICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIDUzNjg3MDkxMilcbiAgICAgICAgKVxuICAgICAgICAgIHJvb3QgPSAhMTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgKCh3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3MgPSByb290ID0gITApLFxuICAgICAgICAgIHN1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25EYXRhIHx8XG4gICAgICAgICAgICBzdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uSW1tZWRpYXRlIHx8XG4gICAgICAgICAgICBzdXNwZW5kZWRSZWFzb24gPT09IFN1c3BlbmRlZE9uRGVwcmVjYXRlZFRocm93UHJvbWlzZSlcbiAgICAgICAgKVxuICAgICAgICAgIChzdXNwZW5kZWRSZWFzb24gPSBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvci5jdXJyZW50KSxcbiAgICAgICAgICAgIG51bGwgIT09IHN1c3BlbmRlZFJlYXNvbiAmJlxuICAgICAgICAgICAgICAxMyA9PT0gc3VzcGVuZGVkUmVhc29uLnRhZyAmJlxuICAgICAgICAgICAgICAoc3VzcGVuZGVkUmVhc29uLmZsYWdzIHw9IDE2Mzg0KTtcbiAgICAgICAgdW53aW5kVW5pdE9mV29yayh1bml0T2ZXb3JrLCByb290KTtcbiAgICAgIH0gZWxzZSBjb21wbGV0ZVVuaXRPZldvcmsodW5pdE9mV29yayk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlVW5pdE9mV29yayh1bml0T2ZXb3JrKSB7XG4gICAgICB2YXIgY29tcGxldGVkV29yayA9IHVuaXRPZldvcms7XG4gICAgICBkbyB7XG4gICAgICAgIGlmICgwICE9PSAoY29tcGxldGVkV29yay5mbGFncyAmIDMyNzY4KSkge1xuICAgICAgICAgIHVud2luZFVuaXRPZldvcmsoXG4gICAgICAgICAgICBjb21wbGV0ZWRXb3JrLFxuICAgICAgICAgICAgd29ya0luUHJvZ3Jlc3NSb290RGlkU2tpcFN1c3BlbmRlZFNpYmxpbmdzXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnQgPSBjb21wbGV0ZWRXb3JrLmFsdGVybmF0ZTtcbiAgICAgICAgdW5pdE9mV29yayA9IGNvbXBsZXRlZFdvcmsucmV0dXJuO1xuICAgICAgICBzdGFydFByb2ZpbGVyVGltZXIoY29tcGxldGVkV29yayk7XG4gICAgICAgIGN1cnJlbnQgPSBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICBjb21wbGV0ZWRXb3JrLFxuICAgICAgICAgIGNvbXBsZXRlV29yayxcbiAgICAgICAgICBjdXJyZW50LFxuICAgICAgICAgIGNvbXBsZXRlZFdvcmssXG4gICAgICAgICAgZW50YW5nbGVkUmVuZGVyTGFuZXNcbiAgICAgICAgKTtcbiAgICAgICAgKGNvbXBsZXRlZFdvcmsubW9kZSAmIFByb2ZpbGVNb2RlKSAhPT0gTm9Nb2RlICYmXG4gICAgICAgICAgc3RvcFByb2ZpbGVyVGltZXJJZlJ1bm5pbmdBbmRSZWNvcmRJbmNvbXBsZXRlRHVyYXRpb24oY29tcGxldGVkV29yayk7XG4gICAgICAgIGlmIChudWxsICE9PSBjdXJyZW50KSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBjdXJyZW50O1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb21wbGV0ZWRXb3JrID0gY29tcGxldGVkV29yay5zaWJsaW5nO1xuICAgICAgICBpZiAobnVsbCAhPT0gY29tcGxldGVkV29yaykge1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gY29tcGxldGVkV29yaztcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSBjb21wbGV0ZWRXb3JrID0gdW5pdE9mV29yaztcbiAgICAgIH0gd2hpbGUgKG51bGwgIT09IGNvbXBsZXRlZFdvcmspO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290RXhpdFN0YXR1cyA9PT0gUm9vdEluUHJvZ3Jlc3MgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290Q29tcGxldGVkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW53aW5kVW5pdE9mV29yayh1bml0T2ZXb3JrLCBza2lwU2libGluZ3MpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgdmFyIG5leHQgPSB1bndpbmRXb3JrKHVuaXRPZldvcmsuYWx0ZXJuYXRlLCB1bml0T2ZXb3JrKTtcbiAgICAgICAgaWYgKG51bGwgIT09IG5leHQpIHtcbiAgICAgICAgICBuZXh0LmZsYWdzICY9IDMyNzY3O1xuICAgICAgICAgIHdvcmtJblByb2dyZXNzID0gbmV4dDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh1bml0T2ZXb3JrLm1vZGUgJiBQcm9maWxlTW9kZSkgIT09IE5vTW9kZSkge1xuICAgICAgICAgIHN0b3BQcm9maWxlclRpbWVySWZSdW5uaW5nQW5kUmVjb3JkSW5jb21wbGV0ZUR1cmF0aW9uKHVuaXRPZldvcmspO1xuICAgICAgICAgIG5leHQgPSB1bml0T2ZXb3JrLmFjdHVhbER1cmF0aW9uO1xuICAgICAgICAgIGZvciAodmFyIGNoaWxkID0gdW5pdE9mV29yay5jaGlsZDsgbnVsbCAhPT0gY2hpbGQ7IClcbiAgICAgICAgICAgIChuZXh0ICs9IGNoaWxkLmFjdHVhbER1cmF0aW9uKSwgKGNoaWxkID0gY2hpbGQuc2libGluZyk7XG4gICAgICAgICAgdW5pdE9mV29yay5hY3R1YWxEdXJhdGlvbiA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCA9IHVuaXRPZldvcmsucmV0dXJuO1xuICAgICAgICBudWxsICE9PSBuZXh0ICYmXG4gICAgICAgICAgKChuZXh0LmZsYWdzIHw9IDMyNzY4KSxcbiAgICAgICAgICAobmV4dC5zdWJ0cmVlRmxhZ3MgPSAwKSxcbiAgICAgICAgICAobmV4dC5kZWxldGlvbnMgPSBudWxsKSk7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhc2tpcFNpYmxpbmdzICYmXG4gICAgICAgICAgKCh1bml0T2ZXb3JrID0gdW5pdE9mV29yay5zaWJsaW5nKSwgbnVsbCAhPT0gdW5pdE9mV29yaylcbiAgICAgICAgKSB7XG4gICAgICAgICAgd29ya0luUHJvZ3Jlc3MgPSB1bml0T2ZXb3JrO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3b3JrSW5Qcm9ncmVzcyA9IHVuaXRPZldvcmsgPSBuZXh0O1xuICAgICAgfSB3aGlsZSAobnVsbCAhPT0gdW5pdE9mV29yayk7XG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RFeGl0U3RhdHVzID0gUm9vdERpZE5vdENvbXBsZXRlO1xuICAgICAgd29ya0luUHJvZ3Jlc3MgPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRSb290KFxuICAgICAgcm9vdCxcbiAgICAgIHJlY292ZXJhYmxlRXJyb3JzLFxuICAgICAgdHJhbnNpdGlvbnMsXG4gICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICBzcGF3bmVkTGFuZSxcbiAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICBzdXNwZW5kZWRDb21taXRSZWFzb24sXG4gICAgICBjb21wbGV0ZWRSZW5kZXJTdGFydFRpbWUsXG4gICAgICBjb21wbGV0ZWRSZW5kZXJFbmRUaW1lXG4gICAgKSB7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5ULFxuICAgICAgICBwcmV2aW91c1VwZGF0ZUxhbmVQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICB0cnkge1xuICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IERpc2NyZXRlRXZlbnRQcmlvcml0eSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBudWxsKSxcbiAgICAgICAgICBjb21taXRSb290SW1wbChcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICByZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgICAgICAgIHRyYW5zaXRpb25zLFxuICAgICAgICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgICAgICAgcHJldmlvdXNVcGRhdGVMYW5lUHJpb3JpdHksXG4gICAgICAgICAgICBzcGF3bmVkTGFuZSxcbiAgICAgICAgICAgIHVwZGF0ZWRMYW5lcyxcbiAgICAgICAgICAgIHN1c3BlbmRlZFJldHJ5TGFuZXMsXG4gICAgICAgICAgICBzdXNwZW5kZWRDb21taXRSZWFzb24sXG4gICAgICAgICAgICBjb21wbGV0ZWRSZW5kZXJTdGFydFRpbWUsXG4gICAgICAgICAgICBjb21wbGV0ZWRSZW5kZXJFbmRUaW1lXG4gICAgICAgICAgKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pLFxuICAgICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJldmlvdXNVcGRhdGVMYW5lUHJpb3JpdHkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRSb290SW1wbChcbiAgICAgIHJvb3QsXG4gICAgICByZWNvdmVyYWJsZUVycm9ycyxcbiAgICAgIHRyYW5zaXRpb25zLFxuICAgICAgZGlkSW5jbHVkZVJlbmRlclBoYXNlVXBkYXRlLFxuICAgICAgcmVuZGVyUHJpb3JpdHlMZXZlbCxcbiAgICAgIHNwYXduZWRMYW5lLFxuICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgc3VzcGVuZGVkUmV0cnlMYW5lc1xuICAgICkge1xuICAgICAgZG8gZmx1c2hQYXNzaXZlRWZmZWN0cygpO1xuICAgICAgd2hpbGUgKG51bGwgIT09IHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzKTtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoTGVnYWN5Q29udGV4dFdhcm5pbmcoKTtcbiAgICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoUGVuZGluZ1Vuc2FmZUxpZmVjeWNsZVdhcm5pbmdzKCk7XG4gICAgICBpZiAoKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSAhPT0gTm9Db250ZXh0KVxuICAgICAgICB0aHJvdyBFcnJvcihcIlNob3VsZCBub3QgYWxyZWFkeSBiZSB3b3JraW5nLlwiKTtcbiAgICAgIHZhciBmaW5pc2hlZFdvcmsgPSByb290LmZpbmlzaGVkV29yaztcbiAgICAgIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSA9IHJvb3QuZmluaXNoZWRMYW5lcztcbiAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrQ29tbWl0U3RhcnRlZCAmJlxuICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtDb21taXRTdGFydGVkKGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZmluaXNoZWRXb3JrKSByZXR1cm4gbWFya0NvbW1pdFN0b3BwZWQoKSwgbnVsbDtcbiAgICAgIDAgPT09IGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwicm9vdC5maW5pc2hlZExhbmVzIHNob3VsZCBub3QgYmUgZW1wdHkgZHVyaW5nIGEgY29tbWl0LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICk7XG4gICAgICByb290LmZpbmlzaGVkV29yayA9IG51bGw7XG4gICAgICByb290LmZpbmlzaGVkTGFuZXMgPSAwO1xuICAgICAgaWYgKGZpbmlzaGVkV29yayA9PT0gcm9vdC5jdXJyZW50KVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkNhbm5vdCBjb21taXQgdGhlIHNhbWUgdHJlZSBhcyBiZWZvcmUuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgKTtcbiAgICAgIHJvb3QuY2FsbGJhY2tOb2RlID0gbnVsbDtcbiAgICAgIHJvb3QuY2FsbGJhY2tQcmlvcml0eSA9IDA7XG4gICAgICByb290LmNhbmNlbFBlbmRpbmdDb21taXQgPSBudWxsO1xuICAgICAgdmFyIHJlbWFpbmluZ0xhbmVzID0gZmluaXNoZWRXb3JrLmxhbmVzIHwgZmluaXNoZWRXb3JrLmNoaWxkTGFuZXM7XG4gICAgICByZW1haW5pbmdMYW5lcyB8PSBjb25jdXJyZW50bHlVcGRhdGVkTGFuZXM7XG4gICAgICBtYXJrUm9vdEZpbmlzaGVkKFxuICAgICAgICByb290LFxuICAgICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUsXG4gICAgICAgIHJlbWFpbmluZ0xhbmVzLFxuICAgICAgICBzcGF3bmVkTGFuZSxcbiAgICAgICAgdXBkYXRlZExhbmVzLFxuICAgICAgICBzdXNwZW5kZWRSZXRyeUxhbmVzXG4gICAgICApO1xuICAgICAgcm9vdCA9PT0gd29ya0luUHJvZ3Jlc3NSb290ICYmXG4gICAgICAgICgod29ya0luUHJvZ3Jlc3MgPSB3b3JrSW5Qcm9ncmVzc1Jvb3QgPSBudWxsKSxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzID0gMCkpO1xuICAgICAgKDAgPT09IChmaW5pc2hlZFdvcmsuc3VidHJlZUZsYWdzICYgMTAyNTYpICYmXG4gICAgICAgIDAgPT09IChmaW5pc2hlZFdvcmsuZmxhZ3MgJiAxMDI1NikpIHx8XG4gICAgICAgIHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzIHx8XG4gICAgICAgICgocm9vdERvZXNIYXZlUGFzc2l2ZUVmZmVjdHMgPSAhMCksXG4gICAgICAgIChwZW5kaW5nUGFzc2l2ZUVmZmVjdHNSZW1haW5pbmdMYW5lcyA9IHJlbWFpbmluZ0xhbmVzKSxcbiAgICAgICAgKHBlbmRpbmdQYXNzaXZlVHJhbnNpdGlvbnMgPSB0cmFuc2l0aW9ucyksXG4gICAgICAgIHNjaGVkdWxlQ2FsbGJhY2skMShOb3JtYWxQcmlvcml0eSQxLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZmx1c2hQYXNzaXZlRWZmZWN0cyghMCk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pKTtcbiAgICAgIGNvbW1pdFN0YXJ0VGltZSA9IG5vdygpO1xuICAgICAgdHJhbnNpdGlvbnMgPSAwICE9PSAoZmluaXNoZWRXb3JrLmZsYWdzICYgMTU5OTApO1xuICAgICAgMCAhPT0gKGZpbmlzaGVkV29yay5zdWJ0cmVlRmxhZ3MgJiAxNTk5MCkgfHwgdHJhbnNpdGlvbnNcbiAgICAgICAgPyAoKHRyYW5zaXRpb25zID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBudWxsKSxcbiAgICAgICAgICAoc3Bhd25lZExhbmUgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wKSxcbiAgICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IERpc2NyZXRlRXZlbnRQcmlvcml0eSksXG4gICAgICAgICAgKHVwZGF0ZWRMYW5lcyA9IGV4ZWN1dGlvbkNvbnRleHQpLFxuICAgICAgICAgIChleGVjdXRpb25Db250ZXh0IHw9IENvbW1pdENvbnRleHQpLFxuICAgICAgICAgIGNvbW1pdEJlZm9yZU11dGF0aW9uRWZmZWN0cyhyb290LCBmaW5pc2hlZFdvcmspLFxuICAgICAgICAgIGNvbW1pdE11dGF0aW9uRWZmZWN0cyhcbiAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGVcbiAgICAgICAgICApLFxuICAgICAgICAgIHJlc3RvcmVTZWxlY3Rpb24oc2VsZWN0aW9uSW5mb3JtYXRpb24sIHJvb3QuY29udGFpbmVySW5mbyksXG4gICAgICAgICAgKF9lbmFibGVkID0gISFldmVudHNFbmFibGVkKSxcbiAgICAgICAgICAoc2VsZWN0aW9uSW5mb3JtYXRpb24gPSBldmVudHNFbmFibGVkID0gbnVsbCksXG4gICAgICAgICAgKHJvb3QuY3VycmVudCA9IGZpbmlzaGVkV29yayksXG4gICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrTGF5b3V0RWZmZWN0c1N0YXJ0ZWQgJiZcbiAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0xheW91dEVmZmVjdHNTdGFydGVkKFxuICAgICAgICAgICAgICBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGVcbiAgICAgICAgICAgICksXG4gICAgICAgICAgY29tbWl0TGF5b3V0RWZmZWN0cyhmaW5pc2hlZFdvcmssIHJvb3QsIGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSksXG4gICAgICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrTGF5b3V0RWZmZWN0c1N0b3BwZWQgJiZcbiAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0xheW91dEVmZmVjdHNTdG9wcGVkKCksXG4gICAgICAgICAgcmVxdWVzdFBhaW50KCksXG4gICAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgPSB1cGRhdGVkTGFuZXMpLFxuICAgICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gc3Bhd25lZExhbmUpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gdHJhbnNpdGlvbnMpKVxuICAgICAgICA6IChyb290LmN1cnJlbnQgPSBmaW5pc2hlZFdvcmspO1xuICAgICAgKHRyYW5zaXRpb25zID0gcm9vdERvZXNIYXZlUGFzc2l2ZUVmZmVjdHMpXG4gICAgICAgID8gKChyb290RG9lc0hhdmVQYXNzaXZlRWZmZWN0cyA9ICExKSxcbiAgICAgICAgICAocm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMgPSByb290KSxcbiAgICAgICAgICAocGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXMgPSBkaWRJbmNsdWRlUmVuZGVyUGhhc2VVcGRhdGUpKVxuICAgICAgICA6IChyZWxlYXNlUm9vdFBvb2xlZENhY2hlKHJvb3QsIHJlbWFpbmluZ0xhbmVzKSxcbiAgICAgICAgICAobmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gMCksXG4gICAgICAgICAgKHJvb3RXaXRoUGFzc2l2ZU5lc3RlZFVwZGF0ZXMgPSBudWxsKSk7XG4gICAgICByZW1haW5pbmdMYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgMCA9PT0gcmVtYWluaW5nTGFuZXMgJiYgKGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbCk7XG4gICAgICB0cmFuc2l0aW9ucyB8fCBjb21taXREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYocm9vdCk7XG4gICAgICBvbkNvbW1pdFJvb3QkMShmaW5pc2hlZFdvcmsuc3RhdGVOb2RlLCByZW5kZXJQcmlvcml0eUxldmVsKTtcbiAgICAgIGlzRGV2VG9vbHNQcmVzZW50ICYmIHJvb3QubWVtb2l6ZWRVcGRhdGVycy5jbGVhcigpO1xuICAgICAgb25Db21taXRSb290KCk7XG4gICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdCk7XG4gICAgICBpZiAobnVsbCAhPT0gcmVjb3ZlcmFibGVFcnJvcnMpXG4gICAgICAgIGZvciAoXG4gICAgICAgICAgcmVuZGVyUHJpb3JpdHlMZXZlbCA9IHJvb3Qub25SZWNvdmVyYWJsZUVycm9yLCBmaW5pc2hlZFdvcmsgPSAwO1xuICAgICAgICAgIGZpbmlzaGVkV29yayA8IHJlY292ZXJhYmxlRXJyb3JzLmxlbmd0aDtcbiAgICAgICAgICBmaW5pc2hlZFdvcmsrK1xuICAgICAgICApXG4gICAgICAgICAgKHJlbWFpbmluZ0xhbmVzID0gcmVjb3ZlcmFibGVFcnJvcnNbZmluaXNoZWRXb3JrXSksXG4gICAgICAgICAgICAodHJhbnNpdGlvbnMgPSBtYWtlRXJyb3JJbmZvKHJlbWFpbmluZ0xhbmVzLnN0YWNrKSksXG4gICAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVihcbiAgICAgICAgICAgICAgcmVtYWluaW5nTGFuZXMuc291cmNlLFxuICAgICAgICAgICAgICByZW5kZXJQcmlvcml0eUxldmVsLFxuICAgICAgICAgICAgICByZW1haW5pbmdMYW5lcy52YWx1ZSxcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbnNcbiAgICAgICAgICAgICk7XG4gICAgICAwICE9PSAocGVuZGluZ1Bhc3NpdmVFZmZlY3RzTGFuZXMgJiAzKSAmJiBmbHVzaFBhc3NpdmVFZmZlY3RzKCk7XG4gICAgICByZW1haW5pbmdMYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgMCAhPT0gKGRpZEluY2x1ZGVSZW5kZXJQaGFzZVVwZGF0ZSAmIDQxOTQyMTgpICYmXG4gICAgICAwICE9PSAocmVtYWluaW5nTGFuZXMgJiA0MilcbiAgICAgICAgPyAoKG5lc3RlZFVwZGF0ZVNjaGVkdWxlZCA9ICEwKSxcbiAgICAgICAgICByb290ID09PSByb290V2l0aE5lc3RlZFVwZGF0ZXNcbiAgICAgICAgICAgID8gbmVzdGVkVXBkYXRlQ291bnQrK1xuICAgICAgICAgICAgOiAoKG5lc3RlZFVwZGF0ZUNvdW50ID0gMCksIChyb290V2l0aE5lc3RlZFVwZGF0ZXMgPSByb290KSkpXG4gICAgICAgIDogKG5lc3RlZFVwZGF0ZUNvdW50ID0gMCk7XG4gICAgICBmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbCgwLCAhMSk7XG4gICAgICBtYXJrQ29tbWl0U3RvcHBlZCgpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1ha2VFcnJvckluZm8oY29tcG9uZW50U3RhY2spIHtcbiAgICAgIGNvbXBvbmVudFN0YWNrID0geyBjb21wb25lbnRTdGFjazogY29tcG9uZW50U3RhY2sgfTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb21wb25lbnRTdGFjaywgXCJkaWdlc3RcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ1lvdSBhcmUgYWNjZXNzaW5nIFwiZGlnZXN0XCIgZnJvbSB0aGUgZXJyb3JJbmZvIG9iamVjdCBwYXNzZWQgdG8gb25SZWNvdmVyYWJsZUVycm9yLiBUaGlzIHByb3BlcnR5IGlzIG5vIGxvbmdlciBwcm92aWRlZCBhcyBwYXJ0IG9mIGVycm9ySW5mbyBidXQgY2FuIGJlIGFjY2Vzc2VkIGFzIGEgcHJvcGVydHkgb2YgdGhlIEVycm9yIGluc3RhbmNlIGl0c2VsZi4nXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29tcG9uZW50U3RhY2s7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbGVhc2VSb290UG9vbGVkQ2FjaGUocm9vdCwgcmVtYWluaW5nTGFuZXMpIHtcbiAgICAgIDAgPT09IChyb290LnBvb2xlZENhY2hlTGFuZXMgJj0gcmVtYWluaW5nTGFuZXMpICYmXG4gICAgICAgICgocmVtYWluaW5nTGFuZXMgPSByb290LnBvb2xlZENhY2hlKSxcbiAgICAgICAgbnVsbCAhPSByZW1haW5pbmdMYW5lcyAmJlxuICAgICAgICAgICgocm9vdC5wb29sZWRDYWNoZSA9IG51bGwpLCByZWxlYXNlQ2FjaGUocmVtYWluaW5nTGFuZXMpKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZsdXNoUGFzc2l2ZUVmZmVjdHMoKSB7XG4gICAgICBpZiAobnVsbCAhPT0gcm9vdFdpdGhQZW5kaW5nUGFzc2l2ZUVmZmVjdHMpIHtcbiAgICAgICAgdmFyIHJvb3QgPSByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyxcbiAgICAgICAgICByZW1haW5pbmdMYW5lcyA9IHBlbmRpbmdQYXNzaXZlRWZmZWN0c1JlbWFpbmluZ0xhbmVzO1xuICAgICAgICBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNSZW1haW5pbmdMYW5lcyA9IDA7XG4gICAgICAgIHZhciByZW5kZXJQcmlvcml0eSA9IGxhbmVzVG9FdmVudFByaW9yaXR5KHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzKSxcbiAgICAgICAgICBwcmlvcml0eSA9XG4gICAgICAgICAgICAwID09PSBEZWZhdWx0RXZlbnRQcmlvcml0eSB8fCBEZWZhdWx0RXZlbnRQcmlvcml0eSA+IHJlbmRlclByaW9yaXR5XG4gICAgICAgICAgICAgID8gRGVmYXVsdEV2ZW50UHJpb3JpdHlcbiAgICAgICAgICAgICAgOiByZW5kZXJQcmlvcml0eTtcbiAgICAgICAgcmVuZGVyUHJpb3JpdHkgPSBSZWFjdFNoYXJlZEludGVybmFscy5UO1xuICAgICAgICB2YXIgcHJldmlvdXNQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByaW9yaXR5O1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBudWxsO1xuICAgICAgICAgIGlmIChudWxsID09PSByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cylcbiAgICAgICAgICAgIHZhciBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMTtcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHByaW9yaXR5ID0gcGVuZGluZ1Bhc3NpdmVUcmFuc2l0aW9ucztcbiAgICAgICAgICAgIHBlbmRpbmdQYXNzaXZlVHJhbnNpdGlvbnMgPSBudWxsO1xuICAgICAgICAgICAgdmFyIHJvb3QkanNjb21wJDAgPSByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyxcbiAgICAgICAgICAgICAgbGFuZXMgPSBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcztcbiAgICAgICAgICAgIHJvb3RXaXRoUGVuZGluZ1Bhc3NpdmVFZmZlY3RzID0gbnVsbDtcbiAgICAgICAgICAgIHBlbmRpbmdQYXNzaXZlRWZmZWN0c0xhbmVzID0gMDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSAhPT1cbiAgICAgICAgICAgICAgTm9Db250ZXh0XG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiQ2Fubm90IGZsdXNoIHBhc3NpdmUgZWZmZWN0cyB3aGlsZSBhbHJlYWR5IHJlbmRlcmluZy5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgaXNGbHVzaGluZ1Bhc3NpdmVFZmZlY3RzID0gITA7XG4gICAgICAgICAgICBkaWRTY2hlZHVsZVVwZGF0ZUR1cmluZ1Bhc3NpdmVFZmZlY3RzID0gITE7XG4gICAgICAgICAgICBudWxsICE9PSBpbmplY3RlZFByb2ZpbGluZ0hvb2tzICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgICB0eXBlb2YgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUGFzc2l2ZUVmZmVjdHNTdGFydGVkICYmXG4gICAgICAgICAgICAgIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya1Bhc3NpdmVFZmZlY3RzU3RhcnRlZChsYW5lcyk7XG4gICAgICAgICAgICB2YXIgcHJldkV4ZWN1dGlvbkNvbnRleHQgPSBleGVjdXRpb25Db250ZXh0O1xuICAgICAgICAgICAgZXhlY3V0aW9uQ29udGV4dCB8PSBDb21taXRDb250ZXh0O1xuICAgICAgICAgICAgY29tbWl0UGFzc2l2ZVVubW91bnRPbkZpYmVyKHJvb3QkanNjb21wJDAuY3VycmVudCk7XG4gICAgICAgICAgICBjb21taXRQYXNzaXZlTW91bnRPbkZpYmVyKFxuICAgICAgICAgICAgICByb290JGpzY29tcCQwLFxuICAgICAgICAgICAgICByb290JGpzY29tcCQwLmN1cnJlbnQsXG4gICAgICAgICAgICAgIGxhbmVzLFxuICAgICAgICAgICAgICBwcmlvcml0eVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgIHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtQYXNzaXZlRWZmZWN0c1N0b3BwZWQgJiZcbiAgICAgICAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUGFzc2l2ZUVmZmVjdHNTdG9wcGVkKCk7XG4gICAgICAgICAgICBjb21taXREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYocm9vdCRqc2NvbXAkMCk7XG4gICAgICAgICAgICBleGVjdXRpb25Db250ZXh0ID0gcHJldkV4ZWN1dGlvbkNvbnRleHQ7XG4gICAgICAgICAgICBmbHVzaFN5bmNXb3JrQWNyb3NzUm9vdHNfaW1wbCgwLCAhMSk7XG4gICAgICAgICAgICBkaWRTY2hlZHVsZVVwZGF0ZUR1cmluZ1Bhc3NpdmVFZmZlY3RzXG4gICAgICAgICAgICAgID8gcm9vdCRqc2NvbXAkMCA9PT0gcm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlc1xuICAgICAgICAgICAgICAgID8gbmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50KytcbiAgICAgICAgICAgICAgICA6ICgobmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gMCksXG4gICAgICAgICAgICAgICAgICAocm9vdFdpdGhQYXNzaXZlTmVzdGVkVXBkYXRlcyA9IHJvb3QkanNjb21wJDApKVxuICAgICAgICAgICAgICA6IChuZXN0ZWRQYXNzaXZlVXBkYXRlQ291bnQgPSAwKTtcbiAgICAgICAgICAgIGRpZFNjaGVkdWxlVXBkYXRlRHVyaW5nUGFzc2l2ZUVmZmVjdHMgPSBpc0ZsdXNoaW5nUGFzc2l2ZUVmZmVjdHMgPVxuICAgICAgICAgICAgICAhMTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgaW5qZWN0ZWRIb29rICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkSG9vay5vblBvc3RDb21taXRGaWJlclJvb3RcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpbmplY3RlZEhvb2sub25Qb3N0Q29tbWl0RmliZXJSb290KHJlbmRlcmVySUQsIHJvb3QkanNjb21wJDApO1xuICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBoYXNMb2dnZWRFcnJvciB8fFxuICAgICAgICAgICAgICAgICAgKChoYXNMb2dnZWRFcnJvciA9ICEwKSxcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiUmVhY3QgaW5zdHJ1bWVudGF0aW9uIGVuY291bnRlcmVkIGFuIGVycm9yOiAlc1wiLFxuICAgICAgICAgICAgICAgICAgICBlcnJcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhdGVOb2RlID0gcm9vdCRqc2NvbXAkMC5jdXJyZW50LnN0YXRlTm9kZTtcbiAgICAgICAgICAgIHN0YXRlTm9kZS5lZmZlY3REdXJhdGlvbiA9IDA7XG4gICAgICAgICAgICBzdGF0ZU5vZGUucGFzc2l2ZUVmZmVjdER1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0O1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJldmlvdXNQcmlvcml0eSksXG4gICAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IHJlbmRlclByaW9yaXR5KSxcbiAgICAgICAgICAgIHJlbGVhc2VSb290UG9vbGVkQ2FjaGUocm9vdCwgcmVtYWluaW5nTGFuZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhcHR1cmVDb21taXRQaGFzZUVycm9yT25Sb290KHJvb3RGaWJlciwgc291cmNlRmliZXIsIGVycm9yKSB7XG4gICAgICBzb3VyY2VGaWJlciA9IGNyZWF0ZUNhcHR1cmVkVmFsdWVBdEZpYmVyKGVycm9yLCBzb3VyY2VGaWJlcik7XG4gICAgICBzb3VyY2VGaWJlciA9IGNyZWF0ZVJvb3RFcnJvclVwZGF0ZShyb290RmliZXIuc3RhdGVOb2RlLCBzb3VyY2VGaWJlciwgMik7XG4gICAgICByb290RmliZXIgPSBlbnF1ZXVlVXBkYXRlKHJvb3RGaWJlciwgc291cmNlRmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gcm9vdEZpYmVyICYmXG4gICAgICAgIChtYXJrUm9vdFVwZGF0ZWQkMShyb290RmliZXIsIDIpLCBlbnN1cmVSb290SXNTY2hlZHVsZWQocm9vdEZpYmVyKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKFxuICAgICAgc291cmNlRmliZXIsXG4gICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgZXJyb3JcbiAgICApIHtcbiAgICAgIGlzUnVubmluZ0luc2VydGlvbkVmZmVjdCA9ICExO1xuICAgICAgaWYgKDMgPT09IHNvdXJjZUZpYmVyLnRhZylcbiAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3JPblJvb3Qoc291cmNlRmliZXIsIHNvdXJjZUZpYmVyLCBlcnJvcik7XG4gICAgICBlbHNlIHtcbiAgICAgICAgZm9yICg7IG51bGwgIT09IG5lYXJlc3RNb3VudGVkQW5jZXN0b3I7ICkge1xuICAgICAgICAgIGlmICgzID09PSBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLnRhZykge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3JPblJvb3QoXG4gICAgICAgICAgICAgIG5lYXJlc3RNb3VudGVkQW5jZXN0b3IsXG4gICAgICAgICAgICAgIHNvdXJjZUZpYmVyLFxuICAgICAgICAgICAgICBlcnJvclxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKDEgPT09IG5lYXJlc3RNb3VudGVkQW5jZXN0b3IudGFnKSB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLnN0YXRlTm9kZTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICAgICAgICAgIHR5cGVvZiBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLnR5cGUuZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yIHx8XG4gICAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnREaWRDYXRjaCAmJlxuICAgICAgICAgICAgICAgIChudWxsID09PSBsZWdhY3lFcnJvckJvdW5kYXJpZXNUaGF0QWxyZWFkeUZhaWxlZCB8fFxuICAgICAgICAgICAgICAgICAgIWxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkLmhhcyhpbnN0YW5jZSkpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHNvdXJjZUZpYmVyID0gY3JlYXRlQ2FwdHVyZWRWYWx1ZUF0RmliZXIoZXJyb3IsIHNvdXJjZUZpYmVyKTtcbiAgICAgICAgICAgICAgZXJyb3IgPSBjcmVhdGVDbGFzc0Vycm9yVXBkYXRlKDIpO1xuICAgICAgICAgICAgICBpbnN0YW5jZSA9IGVucXVldWVVcGRhdGUobmVhcmVzdE1vdW50ZWRBbmNlc3RvciwgZXJyb3IsIDIpO1xuICAgICAgICAgICAgICBudWxsICE9PSBpbnN0YW5jZSAmJlxuICAgICAgICAgICAgICAgIChpbml0aWFsaXplQ2xhc3NFcnJvclVwZGF0ZShcbiAgICAgICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgICAgICAgICAgc291cmNlRmliZXJcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG1hcmtSb290VXBkYXRlZCQxKGluc3RhbmNlLCAyKSxcbiAgICAgICAgICAgICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQoaW5zdGFuY2UpKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yID0gbmVhcmVzdE1vdW50ZWRBbmNlc3Rvci5yZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIkludGVybmFsIFJlYWN0IGVycm9yOiBBdHRlbXB0ZWQgdG8gY2FwdHVyZSBhIGNvbW1pdCBwaGFzZSBlcnJvciBpbnNpZGUgYSBkZXRhY2hlZCB0cmVlLiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiBSZWFjdC4gUG90ZW50aWFsIGNhdXNlcyBpbmNsdWRlIGRlbGV0aW5nIHRoZSBzYW1lIGZpYmVyIG1vcmUgdGhhbiBvbmNlLCBjb21taXR0aW5nIGFuIGFscmVhZHktZmluaXNoZWQgdHJlZSwgb3IgYW4gaW5jb25zaXN0ZW50IHJldHVybiBwb2ludGVyLlxcblxcbkVycm9yIG1lc3NhZ2U6XFxuXFxuJXNcIixcbiAgICAgICAgICBlcnJvclxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRhY2hQaW5nTGlzdGVuZXIocm9vdCwgd2FrZWFibGUsIGxhbmVzKSB7XG4gICAgICB2YXIgcGluZ0NhY2hlID0gcm9vdC5waW5nQ2FjaGU7XG4gICAgICBpZiAobnVsbCA9PT0gcGluZ0NhY2hlKSB7XG4gICAgICAgIHBpbmdDYWNoZSA9IHJvb3QucGluZ0NhY2hlID0gbmV3IFBvc3NpYmx5V2Vha01hcCgpO1xuICAgICAgICB2YXIgdGhyZWFkSURzID0gbmV3IFNldCgpO1xuICAgICAgICBwaW5nQ2FjaGUuc2V0KHdha2VhYmxlLCB0aHJlYWRJRHMpO1xuICAgICAgfSBlbHNlXG4gICAgICAgICh0aHJlYWRJRHMgPSBwaW5nQ2FjaGUuZ2V0KHdha2VhYmxlKSksXG4gICAgICAgICAgdm9pZCAwID09PSB0aHJlYWRJRHMgJiZcbiAgICAgICAgICAgICgodGhyZWFkSURzID0gbmV3IFNldCgpKSwgcGluZ0NhY2hlLnNldCh3YWtlYWJsZSwgdGhyZWFkSURzKSk7XG4gICAgICB0aHJlYWRJRHMuaGFzKGxhbmVzKSB8fFxuICAgICAgICAoKHdvcmtJblByb2dyZXNzUm9vdERpZEF0dGFjaFBpbmdMaXN0ZW5lciA9ICEwKSxcbiAgICAgICAgdGhyZWFkSURzLmFkZChsYW5lcyksXG4gICAgICAgIChwaW5nQ2FjaGUgPSBwaW5nU3VzcGVuZGVkUm9vdC5iaW5kKG51bGwsIHJvb3QsIHdha2VhYmxlLCBsYW5lcykpLFxuICAgICAgICBpc0RldlRvb2xzUHJlc2VudCAmJiByZXN0b3JlUGVuZGluZ1VwZGF0ZXJzKHJvb3QsIGxhbmVzKSxcbiAgICAgICAgd2FrZWFibGUudGhlbihwaW5nQ2FjaGUsIHBpbmdDYWNoZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwaW5nU3VzcGVuZGVkUm9vdChyb290LCB3YWtlYWJsZSwgcGluZ2VkTGFuZXMpIHtcbiAgICAgIHZhciBwaW5nQ2FjaGUgPSByb290LnBpbmdDYWNoZTtcbiAgICAgIG51bGwgIT09IHBpbmdDYWNoZSAmJiBwaW5nQ2FjaGUuZGVsZXRlKHdha2VhYmxlKTtcbiAgICAgIHJvb3QucGluZ2VkTGFuZXMgfD0gcm9vdC5zdXNwZW5kZWRMYW5lcyAmIHBpbmdlZExhbmVzO1xuICAgICAgcm9vdC53YXJtTGFuZXMgJj0gfnBpbmdlZExhbmVzO1xuICAgICAgaXNDb25jdXJyZW50QWN0RW52aXJvbm1lbnQoKSAmJlxuICAgICAgICBudWxsID09PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQSBzdXNwZW5kZWQgcmVzb3VyY2UgZmluaXNoZWQgbG9hZGluZyBpbnNpZGUgYSB0ZXN0LCBidXQgdGhlIGV2ZW50IHdhcyBub3Qgd3JhcHBlZCBpbiBhY3QoLi4uKS5cXG5cXG5XaGVuIHRlc3RpbmcsIGNvZGUgdGhhdCByZXNvbHZlcyBzdXNwZW5kZWQgZGF0YSBzaG91bGQgYmUgd3JhcHBlZCBpbnRvIGFjdCguLi4pOlxcblxcbmFjdCgoKSA9PiB7XFxuICAvKiBmaW5pc2ggbG9hZGluZyBzdXNwZW5kZWQgZGF0YSAqL1xcbn0pO1xcbi8qIGFzc2VydCBvbiB0aGUgb3V0cHV0ICovXFxuXFxuVGhpcyBlbnN1cmVzIHRoYXQgeW91J3JlIHRlc3RpbmcgdGhlIGJlaGF2aW9yIHRoZSB1c2VyIHdvdWxkIHNlZSBpbiB0aGUgYnJvd3Nlci4gTGVhcm4gbW9yZSBhdCBodHRwczovL3JlYWN0LmRldi9saW5rL3dyYXAtdGVzdHMtd2l0aC1hY3RcIlxuICAgICAgICApO1xuICAgICAgd29ya0luUHJvZ3Jlc3NSb290ID09PSByb290ICYmXG4gICAgICAgICh3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmIHBpbmdlZExhbmVzKSA9PT0gcGluZ2VkTGFuZXMgJiZcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RTdXNwZW5kZWRXaXRoRGVsYXkgfHxcbiAgICAgICAgKHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPT09IFJvb3RTdXNwZW5kZWQgJiZcbiAgICAgICAgICAod29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgJiA2MjkxNDU2MCkgPT09XG4gICAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyAmJlxuICAgICAgICAgIG5vdyQxKCkgLSBnbG9iYWxNb3N0UmVjZW50RmFsbGJhY2tUaW1lIDwgRkFMTEJBQ0tfVEhST1RUTEVfTVMpXG4gICAgICAgICAgPyAoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpID09PSBOb0NvbnRleHQgJiZcbiAgICAgICAgICAgIHByZXBhcmVGcmVzaFN0YWNrKHJvb3QsIDApXG4gICAgICAgICAgOiAod29ya0luUHJvZ3Jlc3NSb290UGluZ2VkTGFuZXMgfD0gcGluZ2VkTGFuZXMpLFxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMgPT09IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzICYmXG4gICAgICAgICAgKHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmV0cnlMYW5lcyA9IDApKTtcbiAgICAgIGVuc3VyZVJvb3RJc1NjaGVkdWxlZChyb290KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0cnlUaW1lZE91dEJvdW5kYXJ5KGJvdW5kYXJ5RmliZXIsIHJldHJ5TGFuZSkge1xuICAgICAgMCA9PT0gcmV0cnlMYW5lICYmIChyZXRyeUxhbmUgPSBjbGFpbU5leHRSZXRyeUxhbmUoKSk7XG4gICAgICBib3VuZGFyeUZpYmVyID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGJvdW5kYXJ5RmliZXIsIHJldHJ5TGFuZSk7XG4gICAgICBudWxsICE9PSBib3VuZGFyeUZpYmVyICYmXG4gICAgICAgIChtYXJrUm9vdFVwZGF0ZWQkMShib3VuZGFyeUZpYmVyLCByZXRyeUxhbmUpLFxuICAgICAgICBlbnN1cmVSb290SXNTY2hlZHVsZWQoYm91bmRhcnlGaWJlcikpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXRyeURlaHlkcmF0ZWRTdXNwZW5zZUJvdW5kYXJ5KGJvdW5kYXJ5RmliZXIpIHtcbiAgICAgIHZhciBzdXNwZW5zZVN0YXRlID0gYm91bmRhcnlGaWJlci5tZW1vaXplZFN0YXRlLFxuICAgICAgICByZXRyeUxhbmUgPSAwO1xuICAgICAgbnVsbCAhPT0gc3VzcGVuc2VTdGF0ZSAmJiAocmV0cnlMYW5lID0gc3VzcGVuc2VTdGF0ZS5yZXRyeUxhbmUpO1xuICAgICAgcmV0cnlUaW1lZE91dEJvdW5kYXJ5KGJvdW5kYXJ5RmliZXIsIHJldHJ5TGFuZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc29sdmVSZXRyeVdha2VhYmxlKGJvdW5kYXJ5RmliZXIsIHdha2VhYmxlKSB7XG4gICAgICB2YXIgcmV0cnlMYW5lID0gMDtcbiAgICAgIHN3aXRjaCAoYm91bmRhcnlGaWJlci50YWcpIHtcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICB2YXIgcmV0cnlDYWNoZSA9IGJvdW5kYXJ5RmliZXIuc3RhdGVOb2RlO1xuICAgICAgICAgIHZhciBzdXNwZW5zZVN0YXRlID0gYm91bmRhcnlGaWJlci5tZW1vaXplZFN0YXRlO1xuICAgICAgICAgIG51bGwgIT09IHN1c3BlbnNlU3RhdGUgJiYgKHJldHJ5TGFuZSA9IHN1c3BlbnNlU3RhdGUucmV0cnlMYW5lKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICByZXRyeUNhY2hlID0gYm91bmRhcnlGaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgcmV0cnlDYWNoZSA9IGJvdW5kYXJ5RmliZXIuc3RhdGVOb2RlLl9yZXRyeUNhY2hlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgXCJQaW5nZWQgdW5rbm93biBzdXNwZW5zZSBib3VuZGFyeSB0eXBlLiBUaGlzIGlzIHByb2JhYmx5IGEgYnVnIGluIFJlYWN0LlwiXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIG51bGwgIT09IHJldHJ5Q2FjaGUgJiYgcmV0cnlDYWNoZS5kZWxldGUod2FrZWFibGUpO1xuICAgICAgcmV0cnlUaW1lZE91dEJvdW5kYXJ5KGJvdW5kYXJ5RmliZXIsIHJldHJ5TGFuZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZWx5VHJhdmVyc2VBbmREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYoXG4gICAgICByb290JGpzY29tcCQwLFxuICAgICAgcGFyZW50RmliZXIsXG4gICAgICBpc0luU3RyaWN0TW9kZVxuICAgICkge1xuICAgICAgaWYgKDAgIT09IChwYXJlbnRGaWJlci5zdWJ0cmVlRmxhZ3MgJiAzMzU2MjYyNCkpXG4gICAgICAgIGZvciAocGFyZW50RmliZXIgPSBwYXJlbnRGaWJlci5jaGlsZDsgbnVsbCAhPT0gcGFyZW50RmliZXI7ICkge1xuICAgICAgICAgIHZhciByb290ID0gcm9vdCRqc2NvbXAkMCxcbiAgICAgICAgICAgIGZpYmVyID0gcGFyZW50RmliZXIsXG4gICAgICAgICAgICBpc1N0cmljdE1vZGVGaWJlciA9IGZpYmVyLnR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEU7XG4gICAgICAgICAgaXNTdHJpY3RNb2RlRmliZXIgPSBpc0luU3RyaWN0TW9kZSB8fCBpc1N0cmljdE1vZGVGaWJlcjtcbiAgICAgICAgICAyMiAhPT0gZmliZXIudGFnXG4gICAgICAgICAgICA/IGZpYmVyLmZsYWdzICYgMzM1NTQ0MzJcbiAgICAgICAgICAgICAgPyBpc1N0cmljdE1vZGVGaWJlciAmJlxuICAgICAgICAgICAgICAgIHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgZmliZXIsXG4gICAgICAgICAgICAgICAgICBkb3VibGVJbnZva2VFZmZlY3RzT25GaWJlcixcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgIChmaWJlci5tb2RlICYgTm9TdHJpY3RQYXNzaXZlRWZmZWN0c01vZGUpID09PSBOb01vZGVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIDogcmVjdXJzaXZlbHlUcmF2ZXJzZUFuZERvdWJsZUludm9rZUVmZmVjdHNJbkRFVihcbiAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgIGlzU3RyaWN0TW9kZUZpYmVyXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBudWxsID09PSBmaWJlci5tZW1vaXplZFN0YXRlICYmXG4gICAgICAgICAgICAgIChpc1N0cmljdE1vZGVGaWJlciAmJiBmaWJlci5mbGFncyAmIDgxOTJcbiAgICAgICAgICAgICAgICA/IHJ1bldpdGhGaWJlckluREVWKFxuICAgICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgICAgZG91YmxlSW52b2tlRWZmZWN0c09uRmliZXIsXG4gICAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICAgIGZpYmVyXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBmaWJlci5zdWJ0cmVlRmxhZ3MgJiAzMzU1NDQzMiAmJlxuICAgICAgICAgICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoXG4gICAgICAgICAgICAgICAgICAgIGZpYmVyLFxuICAgICAgICAgICAgICAgICAgICByZWN1cnNpdmVseVRyYXZlcnNlQW5kRG91YmxlSW52b2tlRWZmZWN0c0luREVWLFxuICAgICAgICAgICAgICAgICAgICByb290LFxuICAgICAgICAgICAgICAgICAgICBmaWJlcixcbiAgICAgICAgICAgICAgICAgICAgaXNTdHJpY3RNb2RlRmliZXJcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgIHBhcmVudEZpYmVyID0gcGFyZW50RmliZXIuc2libGluZztcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkb3VibGVJbnZva2VFZmZlY3RzT25GaWJlcihyb290LCBmaWJlcikge1xuICAgICAgdmFyIHNob3VsZERvdWJsZUludm9rZVBhc3NpdmVFZmZlY3RzID1cbiAgICAgICAgMiA8IGFyZ3VtZW50cy5sZW5ndGggJiYgdm9pZCAwICE9PSBhcmd1bWVudHNbMl0gPyBhcmd1bWVudHNbMl0gOiAhMDtcbiAgICAgIHNldElzU3RyaWN0TW9kZUZvckRldnRvb2xzKCEwKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRpc2FwcGVhckxheW91dEVmZmVjdHMoZmliZXIpLFxuICAgICAgICAgIHNob3VsZERvdWJsZUludm9rZVBhc3NpdmVFZmZlY3RzICYmIGRpc2Nvbm5lY3RQYXNzaXZlRWZmZWN0KGZpYmVyKSxcbiAgICAgICAgICByZWFwcGVhckxheW91dEVmZmVjdHMocm9vdCwgZmliZXIuYWx0ZXJuYXRlLCBmaWJlciwgITEpLFxuICAgICAgICAgIHNob3VsZERvdWJsZUludm9rZVBhc3NpdmVFZmZlY3RzICYmXG4gICAgICAgICAgICByZWNvbm5lY3RQYXNzaXZlRWZmZWN0cyhyb290LCBmaWJlciwgMCwgbnVsbCwgITEpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0SXNTdHJpY3RNb2RlRm9yRGV2dG9vbHMoITEpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXREb3VibGVJbnZva2VFZmZlY3RzSW5ERVYocm9vdCkge1xuICAgICAgdmFyIGRvdWJsZUludm9rZUVmZmVjdHMgPSAhMDtcbiAgICAgIHJvb3QuY3VycmVudC5tb2RlICYgKFN0cmljdExlZ2FjeU1vZGUgfCBTdHJpY3RFZmZlY3RzTW9kZSkgfHxcbiAgICAgICAgKGRvdWJsZUludm9rZUVmZmVjdHMgPSAhMSk7XG4gICAgICByZWN1cnNpdmVseVRyYXZlcnNlQW5kRG91YmxlSW52b2tlRWZmZWN0c0luREVWKFxuICAgICAgICByb290LFxuICAgICAgICByb290LmN1cnJlbnQsXG4gICAgICAgIGRvdWJsZUludm9rZUVmZmVjdHNcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5BYm91dFVwZGF0ZU9uTm90WWV0TW91bnRlZEZpYmVySW5ERVYoZmliZXIpIHtcbiAgICAgIGlmICgoZXhlY3V0aW9uQ29udGV4dCAmIFJlbmRlckNvbnRleHQpID09PSBOb0NvbnRleHQpIHtcbiAgICAgICAgdmFyIHRhZyA9IGZpYmVyLnRhZztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIDMgPT09IHRhZyB8fFxuICAgICAgICAgIDEgPT09IHRhZyB8fFxuICAgICAgICAgIDAgPT09IHRhZyB8fFxuICAgICAgICAgIDExID09PSB0YWcgfHxcbiAgICAgICAgICAxNCA9PT0gdGFnIHx8XG4gICAgICAgICAgMTUgPT09IHRhZ1xuICAgICAgICApIHtcbiAgICAgICAgICB0YWcgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIlJlYWN0Q29tcG9uZW50XCI7XG4gICAgICAgICAgaWYgKG51bGwgIT09IGRpZFdhcm5TdGF0ZVVwZGF0ZUZvck5vdFlldE1vdW50ZWRDb21wb25lbnQpIHtcbiAgICAgICAgICAgIGlmIChkaWRXYXJuU3RhdGVVcGRhdGVGb3JOb3RZZXRNb3VudGVkQ29tcG9uZW50Lmhhcyh0YWcpKSByZXR1cm47XG4gICAgICAgICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JOb3RZZXRNb3VudGVkQ29tcG9uZW50LmFkZCh0YWcpO1xuICAgICAgICAgIH0gZWxzZSBkaWRXYXJuU3RhdGVVcGRhdGVGb3JOb3RZZXRNb3VudGVkQ29tcG9uZW50ID0gbmV3IFNldChbdGFnXSk7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZmliZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQ2FuJ3QgcGVyZm9ybSBhIFJlYWN0IHN0YXRlIHVwZGF0ZSBvbiBhIGNvbXBvbmVudCB0aGF0IGhhc24ndCBtb3VudGVkIHlldC4gVGhpcyBpbmRpY2F0ZXMgdGhhdCB5b3UgaGF2ZSBhIHNpZGUtZWZmZWN0IGluIHlvdXIgcmVuZGVyIGZ1bmN0aW9uIHRoYXQgYXN5bmNocm9ub3VzbHkgbGF0ZXIgY2FsbHMgdHJpZXMgdG8gdXBkYXRlIHRoZSBjb21wb25lbnQuIE1vdmUgdGhpcyB3b3JrIHRvIHVzZUVmZmVjdCBpbnN0ZWFkLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlc3RvcmVQZW5kaW5nVXBkYXRlcnMocm9vdCwgbGFuZXMpIHtcbiAgICAgIGlzRGV2VG9vbHNQcmVzZW50ICYmXG4gICAgICAgIHJvb3QubWVtb2l6ZWRVcGRhdGVycy5mb3JFYWNoKGZ1bmN0aW9uIChzY2hlZHVsaW5nRmliZXIpIHtcbiAgICAgICAgICBhZGRGaWJlclRvTGFuZXNNYXAocm9vdCwgc2NoZWR1bGluZ0ZpYmVyLCBsYW5lcyk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZUNhbGxiYWNrJDEocHJpb3JpdHlMZXZlbCwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBhY3RRdWV1ZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlO1xuICAgICAgcmV0dXJuIG51bGwgIT09IGFjdFF1ZXVlXG4gICAgICAgID8gKGFjdFF1ZXVlLnB1c2goY2FsbGJhY2spLCBmYWtlQWN0Q2FsbGJhY2tOb2RlJDEpXG4gICAgICAgIDogc2NoZWR1bGVDYWxsYmFjayQzKHByaW9yaXR5TGV2ZWwsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gd2FybklmVXBkYXRlc05vdFdyYXBwZWRXaXRoQWN0REVWKGZpYmVyKSB7XG4gICAgICBpc0NvbmN1cnJlbnRBY3RFbnZpcm9ubWVudCgpICYmXG4gICAgICAgIG51bGwgPT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlICYmXG4gICAgICAgIHJ1bldpdGhGaWJlckluREVWKGZpYmVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiQW4gdXBkYXRlIHRvICVzIGluc2lkZSBhIHRlc3Qgd2FzIG5vdCB3cmFwcGVkIGluIGFjdCguLi4pLlxcblxcbldoZW4gdGVzdGluZywgY29kZSB0aGF0IGNhdXNlcyBSZWFjdCBzdGF0ZSB1cGRhdGVzIHNob3VsZCBiZSB3cmFwcGVkIGludG8gYWN0KC4uLik6XFxuXFxuYWN0KCgpID0+IHtcXG4gIC8qIGZpcmUgZXZlbnRzIHRoYXQgdXBkYXRlIHN0YXRlICovXFxufSk7XFxuLyogYXNzZXJ0IG9uIHRoZSBvdXRwdXQgKi9cXG5cXG5UaGlzIGVuc3VyZXMgdGhhdCB5b3UncmUgdGVzdGluZyB0aGUgYmVoYXZpb3IgdGhlIHVzZXIgd291bGQgc2VlIGluIHRoZSBicm93c2VyLiBMZWFybiBtb3JlIGF0IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvd3JhcC10ZXN0cy13aXRoLWFjdFwiLFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcilcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZW5zdXJlUm9vdElzU2NoZWR1bGVkKHJvb3QpIHtcbiAgICAgIHJvb3QgIT09IGxhc3RTY2hlZHVsZWRSb290ICYmXG4gICAgICAgIG51bGwgPT09IHJvb3QubmV4dCAmJlxuICAgICAgICAobnVsbCA9PT0gbGFzdFNjaGVkdWxlZFJvb3RcbiAgICAgICAgICA/IChmaXJzdFNjaGVkdWxlZFJvb3QgPSBsYXN0U2NoZWR1bGVkUm9vdCA9IHJvb3QpXG4gICAgICAgICAgOiAobGFzdFNjaGVkdWxlZFJvb3QgPSBsYXN0U2NoZWR1bGVkUm9vdC5uZXh0ID0gcm9vdCkpO1xuICAgICAgbWlnaHRIYXZlUGVuZGluZ1N5bmNXb3JrID0gITA7XG4gICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZVxuICAgICAgICA/IGRpZFNjaGVkdWxlTWljcm90YXNrX2FjdCB8fFxuICAgICAgICAgICgoZGlkU2NoZWR1bGVNaWNyb3Rhc2tfYWN0ID0gITApLFxuICAgICAgICAgIHNjaGVkdWxlSW1tZWRpYXRlVGFzayhwcm9jZXNzUm9vdFNjaGVkdWxlSW5NaWNyb3Rhc2spKVxuICAgICAgICA6IGRpZFNjaGVkdWxlTWljcm90YXNrIHx8XG4gICAgICAgICAgKChkaWRTY2hlZHVsZU1pY3JvdGFzayA9ICEwKSxcbiAgICAgICAgICBzY2hlZHVsZUltbWVkaWF0ZVRhc2socHJvY2Vzc1Jvb3RTY2hlZHVsZUluTWljcm90YXNrKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZsdXNoU3luY1dvcmtBY3Jvc3NSb290c19pbXBsKHN5bmNUcmFuc2l0aW9uTGFuZXMsIG9ubHlMZWdhY3kpIHtcbiAgICAgIGlmICghaXNGbHVzaGluZ1dvcmsgJiYgbWlnaHRIYXZlUGVuZGluZ1N5bmNXb3JrKSB7XG4gICAgICAgIGlzRmx1c2hpbmdXb3JrID0gITA7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICB2YXIgZGlkUGVyZm9ybVNvbWVXb3JrID0gITE7XG4gICAgICAgICAgZm9yICh2YXIgcm9vdCA9IGZpcnN0U2NoZWR1bGVkUm9vdDsgbnVsbCAhPT0gcm9vdDsgKSB7XG4gICAgICAgICAgICBpZiAoIW9ubHlMZWdhY3kpXG4gICAgICAgICAgICAgIGlmICgwICE9PSBzeW5jVHJhbnNpdGlvbkxhbmVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBlbmRpbmdMYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzO1xuICAgICAgICAgICAgICAgIGlmICgwID09PSBwZW5kaW5nTGFuZXMpIHZhciBuZXh0TGFuZXMgPSAwO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFyIHN1c3BlbmRlZExhbmVzID0gcm9vdC5zdXNwZW5kZWRMYW5lcyxcbiAgICAgICAgICAgICAgICAgICAgcGluZ2VkTGFuZXMgPSByb290LnBpbmdlZExhbmVzO1xuICAgICAgICAgICAgICAgICAgbmV4dExhbmVzID1cbiAgICAgICAgICAgICAgICAgICAgKDEgPDwgKDMxIC0gY2x6MzIoNDIgfCBzeW5jVHJhbnNpdGlvbkxhbmVzKSArIDEpKSAtIDE7XG4gICAgICAgICAgICAgICAgICBuZXh0TGFuZXMgJj0gcGVuZGluZ0xhbmVzICYgfihzdXNwZW5kZWRMYW5lcyAmIH5waW5nZWRMYW5lcyk7XG4gICAgICAgICAgICAgICAgICBuZXh0TGFuZXMgPVxuICAgICAgICAgICAgICAgICAgICBuZXh0TGFuZXMgJiAyMDEzMjY2NzdcbiAgICAgICAgICAgICAgICAgICAgICA/IChuZXh0TGFuZXMgJiAyMDEzMjY2NzcpIHwgMVxuICAgICAgICAgICAgICAgICAgICAgIDogbmV4dExhbmVzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5leHRMYW5lcyB8IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgMCAhPT0gbmV4dExhbmVzICYmXG4gICAgICAgICAgICAgICAgICAoKGRpZFBlcmZvcm1Tb21lV29yayA9ICEwKSxcbiAgICAgICAgICAgICAgICAgIHBlcmZvcm1TeW5jV29ya09uUm9vdChyb290LCBuZXh0TGFuZXMpKTtcbiAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgKG5leHRMYW5lcyA9IHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzKSxcbiAgICAgICAgICAgICAgICAgIChuZXh0TGFuZXMgPSBnZXROZXh0TGFuZXMoXG4gICAgICAgICAgICAgICAgICAgIHJvb3QsXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPT09IHdvcmtJblByb2dyZXNzUm9vdCA/IG5leHRMYW5lcyA6IDBcbiAgICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgICAgMCA9PT0gKG5leHRMYW5lcyAmIDMpIHx8XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcocm9vdCwgbmV4dExhbmVzKSB8fFxuICAgICAgICAgICAgICAgICAgICAoKGRpZFBlcmZvcm1Tb21lV29yayA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybVN5bmNXb3JrT25Sb290KHJvb3QsIG5leHRMYW5lcykpO1xuICAgICAgICAgICAgcm9vdCA9IHJvb3QubmV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKGRpZFBlcmZvcm1Tb21lV29yayk7XG4gICAgICAgIGlzRmx1c2hpbmdXb3JrID0gITE7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb2Nlc3NSb290U2NoZWR1bGVJbk1pY3JvdGFzaygpIHtcbiAgICAgIG1pZ2h0SGF2ZVBlbmRpbmdTeW5jV29yayA9XG4gICAgICAgIGRpZFNjaGVkdWxlTWljcm90YXNrX2FjdCA9XG4gICAgICAgIGRpZFNjaGVkdWxlTWljcm90YXNrID1cbiAgICAgICAgICAhMTtcbiAgICAgIHZhciBzeW5jVHJhbnNpdGlvbkxhbmVzID0gMDtcbiAgICAgIDAgIT09IGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lICYmXG4gICAgICAgIChzaG91bGRBdHRlbXB0RWFnZXJUcmFuc2l0aW9uKCkgJiZcbiAgICAgICAgICAoc3luY1RyYW5zaXRpb25MYW5lcyA9IGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lKSxcbiAgICAgICAgKGN1cnJlbnRFdmVudFRyYW5zaXRpb25MYW5lID0gMCkpO1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbm93JDEoKSwgcHJldiA9IG51bGwsIHJvb3QgPSBmaXJzdFNjaGVkdWxlZFJvb3Q7XG4gICAgICAgIG51bGwgIT09IHJvb3Q7XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgbmV4dCA9IHJvb3QubmV4dCxcbiAgICAgICAgICBuZXh0TGFuZXMgPSBzY2hlZHVsZVRhc2tGb3JSb290RHVyaW5nTWljcm90YXNrKHJvb3QsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgaWYgKDAgPT09IG5leHRMYW5lcylcbiAgICAgICAgICAocm9vdC5uZXh0ID0gbnVsbCksXG4gICAgICAgICAgICBudWxsID09PSBwcmV2ID8gKGZpcnN0U2NoZWR1bGVkUm9vdCA9IG5leHQpIDogKHByZXYubmV4dCA9IG5leHQpLFxuICAgICAgICAgICAgbnVsbCA9PT0gbmV4dCAmJiAobGFzdFNjaGVkdWxlZFJvb3QgPSBwcmV2KTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgKChwcmV2ID0gcm9vdCksIDAgIT09IHN5bmNUcmFuc2l0aW9uTGFuZXMgfHwgMCAhPT0gKG5leHRMYW5lcyAmIDMpKVxuICAgICAgICApXG4gICAgICAgICAgbWlnaHRIYXZlUGVuZGluZ1N5bmNXb3JrID0gITA7XG4gICAgICAgIHJvb3QgPSBuZXh0O1xuICAgICAgfVxuICAgICAgZmx1c2hTeW5jV29ya0Fjcm9zc1Jvb3RzX2ltcGwoc3luY1RyYW5zaXRpb25MYW5lcywgITEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzY2hlZHVsZVRhc2tGb3JSb290RHVyaW5nTWljcm90YXNrKHJvb3QsIGN1cnJlbnRUaW1lKSB7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgc3VzcGVuZGVkTGFuZXMgPSByb290LnN1c3BlbmRlZExhbmVzLFxuICAgICAgICAgIHBpbmdlZExhbmVzID0gcm9vdC5waW5nZWRMYW5lcyxcbiAgICAgICAgICBleHBpcmF0aW9uVGltZXMgPSByb290LmV4cGlyYXRpb25UaW1lcyxcbiAgICAgICAgICBsYW5lcyA9IHJvb3QucGVuZGluZ0xhbmVzICYgLTYyOTE0NTYxO1xuICAgICAgICAwIDwgbGFuZXM7XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgaW5kZXggPSAzMSAtIGNsejMyKGxhbmVzKSxcbiAgICAgICAgICBsYW5lID0gMSA8PCBpbmRleCxcbiAgICAgICAgICBleHBpcmF0aW9uVGltZSA9IGV4cGlyYXRpb25UaW1lc1tpbmRleF07XG4gICAgICAgIGlmICgtMSA9PT0gZXhwaXJhdGlvblRpbWUpIHtcbiAgICAgICAgICBpZiAoMCA9PT0gKGxhbmUgJiBzdXNwZW5kZWRMYW5lcykgfHwgMCAhPT0gKGxhbmUgJiBwaW5nZWRMYW5lcykpXG4gICAgICAgICAgICBleHBpcmF0aW9uVGltZXNbaW5kZXhdID0gY29tcHV0ZUV4cGlyYXRpb25UaW1lKGxhbmUsIGN1cnJlbnRUaW1lKTtcbiAgICAgICAgfSBlbHNlIGV4cGlyYXRpb25UaW1lIDw9IGN1cnJlbnRUaW1lICYmIChyb290LmV4cGlyZWRMYW5lcyB8PSBsYW5lKTtcbiAgICAgICAgbGFuZXMgJj0gfmxhbmU7XG4gICAgICB9XG4gICAgICBjdXJyZW50VGltZSA9IHdvcmtJblByb2dyZXNzUm9vdDtcbiAgICAgIHN1c3BlbmRlZExhbmVzID0gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXM7XG4gICAgICBzdXNwZW5kZWRMYW5lcyA9IGdldE5leHRMYW5lcyhcbiAgICAgICAgcm9vdCxcbiAgICAgICAgcm9vdCA9PT0gY3VycmVudFRpbWUgPyBzdXNwZW5kZWRMYW5lcyA6IDBcbiAgICAgICk7XG4gICAgICBwaW5nZWRMYW5lcyA9IHJvb3QuY2FsbGJhY2tOb2RlO1xuICAgICAgaWYgKFxuICAgICAgICAwID09PSBzdXNwZW5kZWRMYW5lcyB8fFxuICAgICAgICAocm9vdCA9PT0gY3VycmVudFRpbWUgJiZcbiAgICAgICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJlYXNvbiA9PT0gU3VzcGVuZGVkT25EYXRhKSB8fFxuICAgICAgICBudWxsICE9PSByb290LmNhbmNlbFBlbmRpbmdDb21taXRcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBudWxsICE9PSBwaW5nZWRMYW5lcyAmJiBjYW5jZWxDYWxsYmFjayhwaW5nZWRMYW5lcyksXG4gICAgICAgICAgKHJvb3QuY2FsbGJhY2tOb2RlID0gbnVsbCksXG4gICAgICAgICAgKHJvb3QuY2FsbGJhY2tQcmlvcml0eSA9IDApXG4gICAgICAgICk7XG4gICAgICBpZiAoXG4gICAgICAgIDAgPT09IChzdXNwZW5kZWRMYW5lcyAmIDMpIHx8XG4gICAgICAgIGNoZWNrSWZSb290SXNQcmVyZW5kZXJpbmcocm9vdCwgc3VzcGVuZGVkTGFuZXMpXG4gICAgICApIHtcbiAgICAgICAgY3VycmVudFRpbWUgPSBzdXNwZW5kZWRMYW5lcyAmIC1zdXNwZW5kZWRMYW5lcztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGN1cnJlbnRUaW1lICE9PSByb290LmNhbGxiYWNrUHJpb3JpdHkgfHxcbiAgICAgICAgICAobnVsbCAhPT0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUgJiZcbiAgICAgICAgICAgIHBpbmdlZExhbmVzICE9PSBmYWtlQWN0Q2FsbGJhY2tOb2RlKVxuICAgICAgICApXG4gICAgICAgICAgY2FuY2VsQ2FsbGJhY2socGluZ2VkTGFuZXMpO1xuICAgICAgICBlbHNlIHJldHVybiBjdXJyZW50VGltZTtcbiAgICAgICAgc3dpdGNoIChsYW5lc1RvRXZlbnRQcmlvcml0eShzdXNwZW5kZWRMYW5lcykpIHtcbiAgICAgICAgICBjYXNlIERpc2NyZXRlRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICBjYXNlIENvbnRpbnVvdXNFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgc3VzcGVuZGVkTGFuZXMgPSBVc2VyQmxvY2tpbmdQcmlvcml0eTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgRGVmYXVsdEV2ZW50UHJpb3JpdHk6XG4gICAgICAgICAgICBzdXNwZW5kZWRMYW5lcyA9IE5vcm1hbFByaW9yaXR5JDE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIElkbGVFdmVudFByaW9yaXR5OlxuICAgICAgICAgICAgc3VzcGVuZGVkTGFuZXMgPSBJZGxlUHJpb3JpdHk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgc3VzcGVuZGVkTGFuZXMgPSBOb3JtYWxQcmlvcml0eSQxO1xuICAgICAgICB9XG4gICAgICAgIHBpbmdlZExhbmVzID0gcGVyZm9ybVdvcmtPblJvb3RWaWFTY2hlZHVsZXJUYXNrLmJpbmQobnVsbCwgcm9vdCk7XG4gICAgICAgIG51bGwgIT09IFJlYWN0U2hhcmVkSW50ZXJuYWxzLmFjdFF1ZXVlXG4gICAgICAgICAgPyAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuYWN0UXVldWUucHVzaChwaW5nZWRMYW5lcyksXG4gICAgICAgICAgICAoc3VzcGVuZGVkTGFuZXMgPSBmYWtlQWN0Q2FsbGJhY2tOb2RlKSlcbiAgICAgICAgICA6IChzdXNwZW5kZWRMYW5lcyA9IHNjaGVkdWxlQ2FsbGJhY2skMyhzdXNwZW5kZWRMYW5lcywgcGluZ2VkTGFuZXMpKTtcbiAgICAgICAgcm9vdC5jYWxsYmFja1ByaW9yaXR5ID0gY3VycmVudFRpbWU7XG4gICAgICAgIHJvb3QuY2FsbGJhY2tOb2RlID0gc3VzcGVuZGVkTGFuZXM7XG4gICAgICAgIHJldHVybiBjdXJyZW50VGltZTtcbiAgICAgIH1cbiAgICAgIG51bGwgIT09IHBpbmdlZExhbmVzICYmIGNhbmNlbENhbGxiYWNrKHBpbmdlZExhbmVzKTtcbiAgICAgIHJvb3QuY2FsbGJhY2tQcmlvcml0eSA9IDI7XG4gICAgICByb290LmNhbGxiYWNrTm9kZSA9IG51bGw7XG4gICAgICByZXR1cm4gMjtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVyZm9ybVdvcmtPblJvb3RWaWFTY2hlZHVsZXJUYXNrKHJvb3QsIGRpZFRpbWVvdXQpIHtcbiAgICAgIG5lc3RlZFVwZGF0ZVNjaGVkdWxlZCA9IGN1cnJlbnRVcGRhdGVJc05lc3RlZCA9ICExO1xuICAgICAgdmFyIG9yaWdpbmFsQ2FsbGJhY2tOb2RlID0gcm9vdC5jYWxsYmFja05vZGU7XG4gICAgICBpZiAoZmx1c2hQYXNzaXZlRWZmZWN0cygpICYmIHJvb3QuY2FsbGJhY2tOb2RlICE9PSBvcmlnaW5hbENhbGxiYWNrTm9kZSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB2YXIgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMkanNjb21wJDAgPVxuICAgICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcztcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzJGpzY29tcCQwID0gZ2V0TmV4dExhbmVzKFxuICAgICAgICByb290LFxuICAgICAgICByb290ID09PSB3b3JrSW5Qcm9ncmVzc1Jvb3QgPyB3b3JrSW5Qcm9ncmVzc1Jvb3RSZW5kZXJMYW5lcyRqc2NvbXAkMCA6IDBcbiAgICAgICk7XG4gICAgICBpZiAoMCA9PT0gd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMkanNjb21wJDApIHJldHVybiBudWxsO1xuICAgICAgcGVyZm9ybVdvcmtPblJvb3QoXG4gICAgICAgIHJvb3QsXG4gICAgICAgIHdvcmtJblByb2dyZXNzUm9vdFJlbmRlckxhbmVzJGpzY29tcCQwLFxuICAgICAgICBkaWRUaW1lb3V0XG4gICAgICApO1xuICAgICAgc2NoZWR1bGVUYXNrRm9yUm9vdER1cmluZ01pY3JvdGFzayhyb290LCBub3ckMSgpKTtcbiAgICAgIHJldHVybiBudWxsICE9IHJvb3QuY2FsbGJhY2tOb2RlICYmXG4gICAgICAgIHJvb3QuY2FsbGJhY2tOb2RlID09PSBvcmlnaW5hbENhbGxiYWNrTm9kZVxuICAgICAgICA/IHBlcmZvcm1Xb3JrT25Sb290VmlhU2NoZWR1bGVyVGFzay5iaW5kKG51bGwsIHJvb3QpXG4gICAgICAgIDogbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcGVyZm9ybVN5bmNXb3JrT25Sb290KHJvb3QsIGxhbmVzKSB7XG4gICAgICBpZiAoZmx1c2hQYXNzaXZlRWZmZWN0cygpKSByZXR1cm4gbnVsbDtcbiAgICAgIGN1cnJlbnRVcGRhdGVJc05lc3RlZCA9IG5lc3RlZFVwZGF0ZVNjaGVkdWxlZDtcbiAgICAgIG5lc3RlZFVwZGF0ZVNjaGVkdWxlZCA9ICExO1xuICAgICAgcGVyZm9ybVdvcmtPblJvb3Qocm9vdCwgbGFuZXMsICEwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuY2VsQ2FsbGJhY2soY2FsbGJhY2tOb2RlKSB7XG4gICAgICBjYWxsYmFja05vZGUgIT09IGZha2VBY3RDYWxsYmFja05vZGUgJiZcbiAgICAgICAgbnVsbCAhPT0gY2FsbGJhY2tOb2RlICYmXG4gICAgICAgIGNhbmNlbENhbGxiYWNrJDEoY2FsbGJhY2tOb2RlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVJbW1lZGlhdGVUYXNrKGNiKSB7XG4gICAgICBudWxsICE9PSBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZSAmJlxuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5hY3RRdWV1ZS5wdXNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjYigpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIHNjaGVkdWxlTWljcm90YXNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgKGV4ZWN1dGlvbkNvbnRleHQgJiAoUmVuZGVyQ29udGV4dCB8IENvbW1pdENvbnRleHQpKSAhPT0gTm9Db250ZXh0XG4gICAgICAgICAgPyBzY2hlZHVsZUNhbGxiYWNrJDMoSW1tZWRpYXRlUHJpb3JpdHksIGNiKVxuICAgICAgICAgIDogY2IoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXF1ZXN0VHJhbnNpdGlvbkxhbmUoKSB7XG4gICAgICAwID09PSBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZSAmJlxuICAgICAgICAoY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUgPSBjbGFpbU5leHRUcmFuc2l0aW9uTGFuZSgpKTtcbiAgICAgIHJldHVybiBjdXJyZW50RXZlbnRUcmFuc2l0aW9uTGFuZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29lcmNlRm9ybUFjdGlvblByb3AoYWN0aW9uUHJvcCkge1xuICAgICAgaWYgKFxuICAgICAgICBudWxsID09IGFjdGlvblByb3AgfHxcbiAgICAgICAgXCJzeW1ib2xcIiA9PT0gdHlwZW9mIGFjdGlvblByb3AgfHxcbiAgICAgICAgXCJib29sZWFuXCIgPT09IHR5cGVvZiBhY3Rpb25Qcm9wXG4gICAgICApXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFjdGlvblByb3ApIHJldHVybiBhY3Rpb25Qcm9wO1xuICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihhY3Rpb25Qcm9wLCBcImFjdGlvblwiKTtcbiAgICAgIHJldHVybiBzYW5pdGl6ZVVSTChcIlwiICsgYWN0aW9uUHJvcCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZUZvcm1EYXRhV2l0aFN1Ym1pdHRlcihmb3JtLCBzdWJtaXR0ZXIpIHtcbiAgICAgIHZhciB0ZW1wID0gc3VibWl0dGVyLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgdGVtcC5uYW1lID0gc3VibWl0dGVyLm5hbWU7XG4gICAgICB0ZW1wLnZhbHVlID0gc3VibWl0dGVyLnZhbHVlO1xuICAgICAgZm9ybS5pZCAmJiB0ZW1wLnNldEF0dHJpYnV0ZShcImZvcm1cIiwgZm9ybS5pZCk7XG4gICAgICBzdWJtaXR0ZXIucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGVtcCwgc3VibWl0dGVyKTtcbiAgICAgIGZvcm0gPSBuZXcgRm9ybURhdGEoZm9ybSk7XG4gICAgICB0ZW1wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGVtcCk7XG4gICAgICByZXR1cm4gZm9ybTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXh0cmFjdEV2ZW50cyQxKFxuICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIG1heWJlVGFyZ2V0SW5zdCxcbiAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdWJtaXRcIiA9PT0gZG9tRXZlbnROYW1lICYmXG4gICAgICAgIG1heWJlVGFyZ2V0SW5zdCAmJlxuICAgICAgICBtYXliZVRhcmdldEluc3Quc3RhdGVOb2RlID09PSBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgKSB7XG4gICAgICAgIHZhciBhY3Rpb24gPSBjb2VyY2VGb3JtQWN0aW9uUHJvcChcbiAgICAgICAgICAgIChuYXRpdmVFdmVudFRhcmdldFtpbnRlcm5hbFByb3BzS2V5XSB8fCBudWxsKS5hY3Rpb25cbiAgICAgICAgICApLFxuICAgICAgICAgIHN1Ym1pdHRlciA9IG5hdGl2ZUV2ZW50LnN1Ym1pdHRlcjtcbiAgICAgICAgc3VibWl0dGVyICYmXG4gICAgICAgICAgKChkb21FdmVudE5hbWUgPSAoZG9tRXZlbnROYW1lID0gc3VibWl0dGVyW2ludGVybmFsUHJvcHNLZXldIHx8IG51bGwpXG4gICAgICAgICAgICA/IGNvZXJjZUZvcm1BY3Rpb25Qcm9wKGRvbUV2ZW50TmFtZS5mb3JtQWN0aW9uKVxuICAgICAgICAgICAgOiBzdWJtaXR0ZXIuZ2V0QXR0cmlidXRlKFwiZm9ybUFjdGlvblwiKSksXG4gICAgICAgICAgbnVsbCAhPT0gZG9tRXZlbnROYW1lICYmXG4gICAgICAgICAgICAoKGFjdGlvbiA9IGRvbUV2ZW50TmFtZSksIChzdWJtaXR0ZXIgPSBudWxsKSkpO1xuICAgICAgICB2YXIgZXZlbnQgPSBuZXcgU3ludGhldGljRXZlbnQoXG4gICAgICAgICAgXCJhY3Rpb25cIixcbiAgICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICAgIG51bGwsXG4gICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgKTtcbiAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHtcbiAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgbGlzdGVuZXJzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGluc3RhbmNlOiBudWxsLFxuICAgICAgICAgICAgICBsaXN0ZW5lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChuYXRpdmVFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoMCAhPT0gY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1EYXRhID0gc3VibWl0dGVyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZUZvcm1EYXRhV2l0aFN1Ym1pdHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBuZXcgRm9ybURhdGEobmF0aXZlRXZlbnRUYXJnZXQpLFxuICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdTdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmc6ICEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG5hdGl2ZUV2ZW50VGFyZ2V0Lm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShwZW5kaW5nU3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBzdGFydEhvc3RUcmFuc2l0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgIG1heWJlVGFyZ2V0SW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICBwZW5kaW5nU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgYWN0aW9uICYmXG4gICAgICAgICAgICAgICAgICAgIChldmVudC5wcmV2ZW50RGVmYXVsdCgpLFxuICAgICAgICAgICAgICAgICAgICAoZm9ybURhdGEgPSBzdWJtaXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICA/IGNyZWF0ZUZvcm1EYXRhV2l0aFN1Ym1pdHRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdHRlclxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIDogbmV3IEZvcm1EYXRhKG5hdGl2ZUV2ZW50VGFyZ2V0KSksXG4gICAgICAgICAgICAgICAgICAgIChwZW5kaW5nU3RhdGUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgcGVuZGluZzogITAsXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBuYXRpdmVFdmVudFRhcmdldC5tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUocGVuZGluZ1N0YXRlKSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRIb3N0VHJhbnNpdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICBtYXliZVRhcmdldEluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1N0YXRlLFxuICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgY3VycmVudFRhcmdldDogbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBwcm9jZXNzRGlzcGF0Y2hRdWV1ZShkaXNwYXRjaFF1ZXVlLCBldmVudFN5c3RlbUZsYWdzKSB7XG4gICAgICBldmVudFN5c3RlbUZsYWdzID0gMCAhPT0gKGV2ZW50U3lzdGVtRmxhZ3MgJiA0KTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcGF0Y2hRdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgX2Rpc3BhdGNoUXVldWUkaSA9IGRpc3BhdGNoUXVldWVbaV07XG4gICAgICAgIGE6IHtcbiAgICAgICAgICB2YXIgcHJldmlvdXNJbnN0YW5jZSA9IHZvaWQgMCxcbiAgICAgICAgICAgIGV2ZW50ID0gX2Rpc3BhdGNoUXVldWUkaS5ldmVudDtcbiAgICAgICAgICBfZGlzcGF0Y2hRdWV1ZSRpID0gX2Rpc3BhdGNoUXVldWUkaS5saXN0ZW5lcnM7XG4gICAgICAgICAgaWYgKGV2ZW50U3lzdGVtRmxhZ3MpXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICB2YXIgaSRqc2NvbXAkMCA9IF9kaXNwYXRjaFF1ZXVlJGkubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgMCA8PSBpJGpzY29tcCQwO1xuICAgICAgICAgICAgICBpJGpzY29tcCQwLS1cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB2YXIgX2Rpc3BhdGNoTGlzdGVuZXJzJGkgPSBfZGlzcGF0Y2hRdWV1ZSRpW2kkanNjb21wJDBdLFxuICAgICAgICAgICAgICAgIGluc3RhbmNlID0gX2Rpc3BhdGNoTGlzdGVuZXJzJGkuaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgY3VycmVudFRhcmdldCA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgIF9kaXNwYXRjaExpc3RlbmVycyRpID0gX2Rpc3BhdGNoTGlzdGVuZXJzJGkubGlzdGVuZXI7XG4gICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAhPT0gcHJldmlvdXNJbnN0YW5jZSAmJiBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKVxuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UgPSBldmVudDtcbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfZGlzcGF0Y2hMaXN0ZW5lcnMkaShwcmV2aW91c0luc3RhbmNlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXBvcnRHbG9iYWxFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZS5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgIGkkanNjb21wJDAgPSAwO1xuICAgICAgICAgICAgICBpJGpzY29tcCQwIDwgX2Rpc3BhdGNoUXVldWUkaS5sZW5ndGg7XG4gICAgICAgICAgICAgIGkkanNjb21wJDArK1xuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIF9kaXNwYXRjaExpc3RlbmVycyRpID0gX2Rpc3BhdGNoUXVldWUkaVtpJGpzY29tcCQwXTtcbiAgICAgICAgICAgICAgaW5zdGFuY2UgPSBfZGlzcGF0Y2hMaXN0ZW5lcnMkaS5pbnN0YW5jZTtcbiAgICAgICAgICAgICAgY3VycmVudFRhcmdldCA9IF9kaXNwYXRjaExpc3RlbmVycyRpLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgIF9kaXNwYXRjaExpc3RlbmVycyRpID0gX2Rpc3BhdGNoTGlzdGVuZXJzJGkubGlzdGVuZXI7XG4gICAgICAgICAgICAgIGlmIChpbnN0YW5jZSAhPT0gcHJldmlvdXNJbnN0YW5jZSAmJiBldmVudC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKVxuICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgIHByZXZpb3VzSW5zdGFuY2UgPSBldmVudDtcbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfZGlzcGF0Y2hMaXN0ZW5lcnMkaShwcmV2aW91c0luc3RhbmNlKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXBvcnRHbG9iYWxFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZS5jdXJyZW50VGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgcHJldmlvdXNJbnN0YW5jZSA9IGluc3RhbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoZG9tRXZlbnROYW1lLCB0YXJnZXRFbGVtZW50KSB7XG4gICAgICBub25EZWxlZ2F0ZWRFdmVudHMuaGFzKGRvbUV2ZW50TmFtZSkgfHxcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgYSBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KCkgY2FsbCBmb3IgXCIlc1wiLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nLFxuICAgICAgICAgIGRvbUV2ZW50TmFtZVxuICAgICAgICApO1xuICAgICAgdmFyIGxpc3RlbmVyU2V0ID0gdGFyZ2V0RWxlbWVudFtpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXldO1xuICAgICAgdm9pZCAwID09PSBsaXN0ZW5lclNldCAmJlxuICAgICAgICAobGlzdGVuZXJTZXQgPSB0YXJnZXRFbGVtZW50W2ludGVybmFsRXZlbnRIYW5kbGVyc0tleV0gPSBuZXcgU2V0KCkpO1xuICAgICAgdmFyIGxpc3RlbmVyU2V0S2V5ID0gZG9tRXZlbnROYW1lICsgXCJfX2J1YmJsZVwiO1xuICAgICAgbGlzdGVuZXJTZXQuaGFzKGxpc3RlbmVyU2V0S2V5KSB8fFxuICAgICAgICAoYWRkVHJhcHBlZEV2ZW50TGlzdGVuZXIodGFyZ2V0RWxlbWVudCwgZG9tRXZlbnROYW1lLCAyLCAhMSksXG4gICAgICAgIGxpc3RlbmVyU2V0LmFkZChsaXN0ZW5lclNldEtleSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaXN0ZW5Ub05hdGl2ZUV2ZW50KGRvbUV2ZW50TmFtZSwgaXNDYXB0dXJlUGhhc2VMaXN0ZW5lciwgdGFyZ2V0KSB7XG4gICAgICBub25EZWxlZ2F0ZWRFdmVudHMuaGFzKGRvbUV2ZW50TmFtZSkgJiZcbiAgICAgICAgIWlzQ2FwdHVyZVBoYXNlTGlzdGVuZXIgJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRGlkIG5vdCBleHBlY3QgYSBsaXN0ZW5Ub05hdGl2ZUV2ZW50KCkgY2FsbCBmb3IgXCIlc1wiIGluIHRoZSBidWJibGUgcGhhc2UuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicsXG4gICAgICAgICAgZG9tRXZlbnROYW1lXG4gICAgICAgICk7XG4gICAgICB2YXIgZXZlbnRTeXN0ZW1GbGFncyA9IDA7XG4gICAgICBpc0NhcHR1cmVQaGFzZUxpc3RlbmVyICYmIChldmVudFN5c3RlbUZsYWdzIHw9IDQpO1xuICAgICAgYWRkVHJhcHBlZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgIHRhcmdldCxcbiAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICBpc0NhcHR1cmVQaGFzZUxpc3RlbmVyXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaXN0ZW5Ub0FsbFN1cHBvcnRlZEV2ZW50cyhyb290Q29udGFpbmVyRWxlbWVudCkge1xuICAgICAgaWYgKCFyb290Q29udGFpbmVyRWxlbWVudFtsaXN0ZW5pbmdNYXJrZXJdKSB7XG4gICAgICAgIHJvb3RDb250YWluZXJFbGVtZW50W2xpc3RlbmluZ01hcmtlcl0gPSAhMDtcbiAgICAgICAgYWxsTmF0aXZlRXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICAgIFwic2VsZWN0aW9uY2hhbmdlXCIgIT09IGRvbUV2ZW50TmFtZSAmJlxuICAgICAgICAgICAgKG5vbkRlbGVnYXRlZEV2ZW50cy5oYXMoZG9tRXZlbnROYW1lKSB8fFxuICAgICAgICAgICAgICBsaXN0ZW5Ub05hdGl2ZUV2ZW50KGRvbUV2ZW50TmFtZSwgITEsIHJvb3RDb250YWluZXJFbGVtZW50KSxcbiAgICAgICAgICAgIGxpc3RlblRvTmF0aXZlRXZlbnQoZG9tRXZlbnROYW1lLCAhMCwgcm9vdENvbnRhaW5lckVsZW1lbnQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBvd25lckRvY3VtZW50ID1cbiAgICAgICAgICA5ID09PSByb290Q29udGFpbmVyRWxlbWVudC5ub2RlVHlwZVxuICAgICAgICAgICAgPyByb290Q29udGFpbmVyRWxlbWVudFxuICAgICAgICAgICAgOiByb290Q29udGFpbmVyRWxlbWVudC5vd25lckRvY3VtZW50O1xuICAgICAgICBudWxsID09PSBvd25lckRvY3VtZW50IHx8XG4gICAgICAgICAgb3duZXJEb2N1bWVudFtsaXN0ZW5pbmdNYXJrZXJdIHx8XG4gICAgICAgICAgKChvd25lckRvY3VtZW50W2xpc3RlbmluZ01hcmtlcl0gPSAhMCksXG4gICAgICAgICAgbGlzdGVuVG9OYXRpdmVFdmVudChcInNlbGVjdGlvbmNoYW5nZVwiLCAhMSwgb3duZXJEb2N1bWVudCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRUcmFwcGVkRXZlbnRMaXN0ZW5lcihcbiAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICBpc0NhcHR1cmVQaGFzZUxpc3RlbmVyXG4gICAgKSB7XG4gICAgICBzd2l0Y2ggKGdldEV2ZW50UHJpb3JpdHkoZG9tRXZlbnROYW1lKSkge1xuICAgICAgICBjYXNlIERpc2NyZXRlRXZlbnRQcmlvcml0eTpcbiAgICAgICAgICB2YXIgbGlzdGVuZXJXcmFwcGVyID0gZGlzcGF0Y2hEaXNjcmV0ZUV2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIENvbnRpbnVvdXNFdmVudFByaW9yaXR5OlxuICAgICAgICAgIGxpc3RlbmVyV3JhcHBlciA9IGRpc3BhdGNoQ29udGludW91c0V2ZW50O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGxpc3RlbmVyV3JhcHBlciA9IGRpc3BhdGNoRXZlbnQ7XG4gICAgICB9XG4gICAgICBldmVudFN5c3RlbUZsYWdzID0gbGlzdGVuZXJXcmFwcGVyLmJpbmQoXG4gICAgICAgIG51bGwsXG4gICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgdGFyZ2V0Q29udGFpbmVyXG4gICAgICApO1xuICAgICAgbGlzdGVuZXJXcmFwcGVyID0gdm9pZCAwO1xuICAgICAgIXBhc3NpdmVCcm93c2VyRXZlbnRzU3VwcG9ydGVkIHx8XG4gICAgICAgIChcInRvdWNoc3RhcnRcIiAhPT0gZG9tRXZlbnROYW1lICYmXG4gICAgICAgICAgXCJ0b3VjaG1vdmVcIiAhPT0gZG9tRXZlbnROYW1lICYmXG4gICAgICAgICAgXCJ3aGVlbFwiICE9PSBkb21FdmVudE5hbWUpIHx8XG4gICAgICAgIChsaXN0ZW5lcldyYXBwZXIgPSAhMCk7XG4gICAgICBpc0NhcHR1cmVQaGFzZUxpc3RlbmVyXG4gICAgICAgID8gdm9pZCAwICE9PSBsaXN0ZW5lcldyYXBwZXJcbiAgICAgICAgICA/IHRhcmdldENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKGRvbUV2ZW50TmFtZSwgZXZlbnRTeXN0ZW1GbGFncywge1xuICAgICAgICAgICAgICBjYXB0dXJlOiAhMCxcbiAgICAgICAgICAgICAgcGFzc2l2ZTogbGlzdGVuZXJXcmFwcGVyXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIDogdGFyZ2V0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoZG9tRXZlbnROYW1lLCBldmVudFN5c3RlbUZsYWdzLCAhMClcbiAgICAgICAgOiB2b2lkIDAgIT09IGxpc3RlbmVyV3JhcHBlclxuICAgICAgICAgID8gdGFyZ2V0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoZG9tRXZlbnROYW1lLCBldmVudFN5c3RlbUZsYWdzLCB7XG4gICAgICAgICAgICAgIHBhc3NpdmU6IGxpc3RlbmVyV3JhcHBlclxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IHRhcmdldENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgICExXG4gICAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50Rm9yUGx1Z2luRXZlbnRTeXN0ZW0oXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICB0YXJnZXRJbnN0JGpzY29tcCQwLFxuICAgICAgdGFyZ2V0Q29udGFpbmVyXG4gICAgKSB7XG4gICAgICB2YXIgYW5jZXN0b3JJbnN0ID0gdGFyZ2V0SW5zdCRqc2NvbXAkMDtcbiAgICAgIGlmIChcbiAgICAgICAgMCA9PT0gKGV2ZW50U3lzdGVtRmxhZ3MgJiAxKSAmJlxuICAgICAgICAwID09PSAoZXZlbnRTeXN0ZW1GbGFncyAmIDIpICYmXG4gICAgICAgIG51bGwgIT09IHRhcmdldEluc3QkanNjb21wJDBcbiAgICAgIClcbiAgICAgICAgYTogZm9yICg7Oykge1xuICAgICAgICAgIGlmIChudWxsID09PSB0YXJnZXRJbnN0JGpzY29tcCQwKSByZXR1cm47XG4gICAgICAgICAgdmFyIG5vZGVUYWcgPSB0YXJnZXRJbnN0JGpzY29tcCQwLnRhZztcbiAgICAgICAgICBpZiAoMyA9PT0gbm9kZVRhZyB8fCA0ID09PSBub2RlVGFnKSB7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGFyZ2V0SW5zdCRqc2NvbXAkMC5zdGF0ZU5vZGUuY29udGFpbmVySW5mbztcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgY29udGFpbmVyID09PSB0YXJnZXRDb250YWluZXIgfHxcbiAgICAgICAgICAgICAgKDggPT09IGNvbnRhaW5lci5ub2RlVHlwZSAmJlxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5wYXJlbnROb2RlID09PSB0YXJnZXRDb250YWluZXIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgaWYgKDQgPT09IG5vZGVUYWcpXG4gICAgICAgICAgICAgIGZvciAobm9kZVRhZyA9IHRhcmdldEluc3QkanNjb21wJDAucmV0dXJuOyBudWxsICE9PSBub2RlVGFnOyApIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JhbmRUYWcgPSBub2RlVGFnLnRhZztcbiAgICAgICAgICAgICAgICBpZiAoMyA9PT0gZ3JhbmRUYWcgfHwgNCA9PT0gZ3JhbmRUYWcpXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICgoZ3JhbmRUYWcgPSBub2RlVGFnLnN0YXRlTm9kZS5jb250YWluZXJJbmZvKSxcbiAgICAgICAgICAgICAgICAgICAgZ3JhbmRUYWcgPT09IHRhcmdldENvbnRhaW5lciB8fFxuICAgICAgICAgICAgICAgICAgICAgICg4ID09PSBncmFuZFRhZy5ub2RlVHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbmRUYWcucGFyZW50Tm9kZSA9PT0gdGFyZ2V0Q29udGFpbmVyKSlcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIG5vZGVUYWcgPSBub2RlVGFnLnJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICg7IG51bGwgIT09IGNvbnRhaW5lcjsgKSB7XG4gICAgICAgICAgICAgIG5vZGVUYWcgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShjb250YWluZXIpO1xuICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gbm9kZVRhZykgcmV0dXJuO1xuICAgICAgICAgICAgICBncmFuZFRhZyA9IG5vZGVUYWcudGFnO1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgNSA9PT0gZ3JhbmRUYWcgfHxcbiAgICAgICAgICAgICAgICA2ID09PSBncmFuZFRhZyB8fFxuICAgICAgICAgICAgICAgIDI2ID09PSBncmFuZFRhZyB8fFxuICAgICAgICAgICAgICAgIDI3ID09PSBncmFuZFRhZ1xuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRJbnN0JGpzY29tcCQwID0gYW5jZXN0b3JJbnN0ID0gbm9kZVRhZztcbiAgICAgICAgICAgICAgICBjb250aW51ZSBhO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRhaW5lciA9IGNvbnRhaW5lci5wYXJlbnROb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0YXJnZXRJbnN0JGpzY29tcCQwID0gdGFyZ2V0SW5zdCRqc2NvbXAkMC5yZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGJhdGNoZWRVcGRhdGVzJDEoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdGFyZ2V0SW5zdCA9IGFuY2VzdG9ySW5zdCxcbiAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldCA9IGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KSxcbiAgICAgICAgICBkaXNwYXRjaFF1ZXVlID0gW107XG4gICAgICAgIGE6IHtcbiAgICAgICAgICB2YXIgcmVhY3ROYW1lID0gdG9wTGV2ZWxFdmVudHNUb1JlYWN0TmFtZXMuZ2V0KGRvbUV2ZW50TmFtZSk7XG4gICAgICAgICAgaWYgKHZvaWQgMCAhPT0gcmVhY3ROYW1lKSB7XG4gICAgICAgICAgICB2YXIgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljRXZlbnQsXG4gICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlID0gZG9tRXZlbnROYW1lO1xuICAgICAgICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImtleXByZXNzXCI6XG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpKSBicmVhayBhO1xuICAgICAgICAgICAgICBjYXNlIFwia2V5ZG93blwiOlxuICAgICAgICAgICAgICBjYXNlIFwia2V5dXBcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNLZXlib2FyZEV2ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiZm9jdXNpblwiOlxuICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlID0gXCJmb2N1c1wiO1xuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxuICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlID0gXCJibHVyXCI7XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljRm9jdXNFdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImJlZm9yZWJsdXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImFmdGVyYmx1clwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY0ZvY3VzRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJjbGlja1wiOlxuICAgICAgICAgICAgICAgIGlmICgyID09PSBuYXRpdmVFdmVudC5idXR0b24pIGJyZWFrIGE7XG4gICAgICAgICAgICAgIGNhc2UgXCJhdXhjbGlja1wiOlxuICAgICAgICAgICAgICBjYXNlIFwiZGJsY2xpY2tcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIm1vdXNlZG93blwiOlxuICAgICAgICAgICAgICBjYXNlIFwibW91c2Vtb3ZlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtb3VzZXVwXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJtb3VzZW91dFwiOlxuICAgICAgICAgICAgICBjYXNlIFwibW91c2VvdmVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJjb250ZXh0bWVudVwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY01vdXNlRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJkcmFnXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcmFnZW5kXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcmFnZW50ZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdleGl0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcmFnbGVhdmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyYWdvdmVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJkcmFnc3RhcnRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImRyb3BcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNEcmFnRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3VjaGNhbmNlbFwiOlxuICAgICAgICAgICAgICBjYXNlIFwidG91Y2hlbmRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInRvdWNobW92ZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwidG91Y2hzdGFydFwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY1RvdWNoRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgQU5JTUFUSU9OX0VORDpcbiAgICAgICAgICAgICAgY2FzZSBBTklNQVRJT05fSVRFUkFUSU9OOlxuICAgICAgICAgICAgICBjYXNlIEFOSU1BVElPTl9TVEFSVDpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNBbmltYXRpb25FdmVudDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBUUkFOU0lUSU9OX0VORDpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNUcmFuc2l0aW9uRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJzY3JvbGxcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInNjcm9sbGVuZFwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY1VJRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ3aGVlbFwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY1doZWVsRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJjb3B5XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJjdXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBhc3RlXCI6XG4gICAgICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID0gU3ludGhldGljQ2xpcGJvYXJkRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJnb3Rwb2ludGVyY2FwdHVyZVwiOlxuICAgICAgICAgICAgICBjYXNlIFwibG9zdHBvaW50ZXJjYXB0dXJlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyY2FuY2VsXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwb2ludGVyZG93blwiOlxuICAgICAgICAgICAgICBjYXNlIFwicG9pbnRlcm1vdmVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJvdXRcIjpcbiAgICAgICAgICAgICAgY2FzZSBcInBvaW50ZXJvdmVyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJwb2ludGVydXBcIjpcbiAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IgPSBTeW50aGV0aWNQb2ludGVyRXZlbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b2dnbGVcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImJlZm9yZXRvZ2dsZVwiOlxuICAgICAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9IFN5bnRoZXRpY1RvZ2dsZUV2ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluQ2FwdHVyZVBoYXNlID0gMCAhPT0gKGV2ZW50U3lzdGVtRmxhZ3MgJiA0KSxcbiAgICAgICAgICAgICAgYWNjdW11bGF0ZVRhcmdldE9ubHkgPVxuICAgICAgICAgICAgICAgICFpbkNhcHR1cmVQaGFzZSAmJlxuICAgICAgICAgICAgICAgIChcInNjcm9sbFwiID09PSBkb21FdmVudE5hbWUgfHwgXCJzY3JvbGxlbmRcIiA9PT0gZG9tRXZlbnROYW1lKSxcbiAgICAgICAgICAgICAgcmVhY3RFdmVudE5hbWUgPSBpbkNhcHR1cmVQaGFzZVxuICAgICAgICAgICAgICAgID8gbnVsbCAhPT0gcmVhY3ROYW1lXG4gICAgICAgICAgICAgICAgICA/IHJlYWN0TmFtZSArIFwiQ2FwdHVyZVwiXG4gICAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgICA6IHJlYWN0TmFtZTtcbiAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID0gW107XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0YXJnZXRJbnN0LCBsYXN0SG9zdENvbXBvbmVudDtcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5zdGFuY2U7XG5cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICB2YXIgX2luc3RhbmNlMiA9IGluc3RhbmNlO1xuICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudCA9IF9pbnN0YW5jZTIuc3RhdGVOb2RlO1xuICAgICAgICAgICAgICBfaW5zdGFuY2UyID0gX2luc3RhbmNlMi50YWc7XG4gICAgICAgICAgICAgICg1ICE9PSBfaW5zdGFuY2UyICYmIDI2ICE9PSBfaW5zdGFuY2UyICYmIDI3ICE9PSBfaW5zdGFuY2UyKSB8fFxuICAgICAgICAgICAgICAgIG51bGwgPT09IGxhc3RIb3N0Q29tcG9uZW50IHx8XG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gcmVhY3RFdmVudE5hbWUgfHxcbiAgICAgICAgICAgICAgICAoKF9pbnN0YW5jZTIgPSBnZXRMaXN0ZW5lcihpbnN0YW5jZSwgcmVhY3RFdmVudE5hbWUpKSxcbiAgICAgICAgICAgICAgICBudWxsICE9IF9pbnN0YW5jZTIgJiZcbiAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZURpc3BhdGNoTGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMixcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgaWYgKGFjY3VtdWxhdGVUYXJnZXRPbmx5KSBicmVhaztcbiAgICAgICAgICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5yZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAwIDwgaW5DYXB0dXJlUGhhc2UubGVuZ3RoICYmXG4gICAgICAgICAgICAgICgocmVhY3ROYW1lID0gbmV3IFN5bnRoZXRpY0V2ZW50Q3RvcihcbiAgICAgICAgICAgICAgICByZWFjdE5hbWUsXG4gICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUsXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICBldmVudDogcmVhY3ROYW1lLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyczogaW5DYXB0dXJlUGhhc2VcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoMCA9PT0gKGV2ZW50U3lzdGVtRmxhZ3MgJiA3KSkge1xuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIHJlYWN0TmFtZSA9XG4gICAgICAgICAgICAgIFwibW91c2VvdmVyXCIgPT09IGRvbUV2ZW50TmFtZSB8fCBcInBvaW50ZXJvdmVyXCIgPT09IGRvbUV2ZW50TmFtZTtcbiAgICAgICAgICAgIFN5bnRoZXRpY0V2ZW50Q3RvciA9XG4gICAgICAgICAgICAgIFwibW91c2VvdXRcIiA9PT0gZG9tRXZlbnROYW1lIHx8IFwicG9pbnRlcm91dFwiID09PSBkb21FdmVudE5hbWU7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHJlYWN0TmFtZSAmJlxuICAgICAgICAgICAgICBuYXRpdmVFdmVudCAhPT0gY3VycmVudFJlcGxheWluZ0V2ZW50ICYmXG4gICAgICAgICAgICAgIChyZWFjdEV2ZW50VHlwZSA9XG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQucmVsYXRlZFRhcmdldCB8fCBuYXRpdmVFdmVudC5mcm9tRWxlbWVudCkgJiZcbiAgICAgICAgICAgICAgKGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlKHJlYWN0RXZlbnRUeXBlKSB8fFxuICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlW2ludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXldKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgaWYgKFN5bnRoZXRpY0V2ZW50Q3RvciB8fCByZWFjdE5hbWUpIHtcbiAgICAgICAgICAgICAgcmVhY3ROYW1lID1cbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldC53aW5kb3cgPT09IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICAgICA/IG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICAgICA6IChyZWFjdE5hbWUgPSBuYXRpdmVFdmVudFRhcmdldC5vd25lckRvY3VtZW50KVxuICAgICAgICAgICAgICAgICAgICA/IHJlYWN0TmFtZS5kZWZhdWx0VmlldyB8fCByZWFjdE5hbWUucGFyZW50V2luZG93XG4gICAgICAgICAgICAgICAgICAgIDogd2luZG93O1xuICAgICAgICAgICAgICBpZiAoU3ludGhldGljRXZlbnRDdG9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgKChyZWFjdEV2ZW50VHlwZSA9XG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LnJlbGF0ZWRUYXJnZXQgfHwgbmF0aXZlRXZlbnQudG9FbGVtZW50KSxcbiAgICAgICAgICAgICAgICAgIChTeW50aGV0aWNFdmVudEN0b3IgPSB0YXJnZXRJbnN0KSxcbiAgICAgICAgICAgICAgICAgIChyZWFjdEV2ZW50VHlwZSA9IHJlYWN0RXZlbnRUeXBlXG4gICAgICAgICAgICAgICAgICAgID8gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUocmVhY3RFdmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbCksXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSByZWFjdEV2ZW50VHlwZSAmJlxuICAgICAgICAgICAgICAgICAgICAoKGFjY3VtdWxhdGVUYXJnZXRPbmx5ID1cbiAgICAgICAgICAgICAgICAgICAgICBnZXROZWFyZXN0TW91bnRlZEZpYmVyKHJlYWN0RXZlbnRUeXBlKSksXG4gICAgICAgICAgICAgICAgICAgIChpbkNhcHR1cmVQaGFzZSA9IHJlYWN0RXZlbnRUeXBlLnRhZyksXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlICE9PSBhY2N1bXVsYXRlVGFyZ2V0T25seSB8fFxuICAgICAgICAgICAgICAgICAgICAgICg1ICE9PSBpbkNhcHR1cmVQaGFzZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgMjcgIT09IGluQ2FwdHVyZVBoYXNlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICA2ICE9PSBpbkNhcHR1cmVQaGFzZSkpKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnRUeXBlID0gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIChTeW50aGV0aWNFdmVudEN0b3IgPSBudWxsKSwgKHJlYWN0RXZlbnRUeXBlID0gdGFyZ2V0SW5zdCk7XG4gICAgICAgICAgICAgIGlmIChTeW50aGV0aWNFdmVudEN0b3IgIT09IHJlYWN0RXZlbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPSBTeW50aGV0aWNNb3VzZUV2ZW50O1xuICAgICAgICAgICAgICAgIF9pbnN0YW5jZTIgPSBcIm9uTW91c2VMZWF2ZVwiO1xuICAgICAgICAgICAgICAgIHJlYWN0RXZlbnROYW1lID0gXCJvbk1vdXNlRW50ZXJcIjtcbiAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IFwibW91c2VcIjtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBcInBvaW50ZXJvdXRcIiA9PT0gZG9tRXZlbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgICBcInBvaW50ZXJvdmVyXCIgPT09IGRvbUV2ZW50TmFtZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIChpbkNhcHR1cmVQaGFzZSA9IFN5bnRoZXRpY1BvaW50ZXJFdmVudCksXG4gICAgICAgICAgICAgICAgICAgIChfaW5zdGFuY2UyID0gXCJvblBvaW50ZXJMZWF2ZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgKHJlYWN0RXZlbnROYW1lID0gXCJvblBvaW50ZXJFbnRlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgKGluc3RhbmNlID0gXCJwb2ludGVyXCIpO1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVUYXJnZXRPbmx5ID1cbiAgICAgICAgICAgICAgICAgIG51bGwgPT0gU3ludGhldGljRXZlbnRDdG9yXG4gICAgICAgICAgICAgICAgICAgID8gcmVhY3ROYW1lXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0Tm9kZUZyb21JbnN0YW5jZShTeW50aGV0aWNFdmVudEN0b3IpO1xuICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50ID1cbiAgICAgICAgICAgICAgICAgIG51bGwgPT0gcmVhY3RFdmVudFR5cGVcbiAgICAgICAgICAgICAgICAgICAgPyByZWFjdE5hbWVcbiAgICAgICAgICAgICAgICAgICAgOiBnZXROb2RlRnJvbUluc3RhbmNlKHJlYWN0RXZlbnRUeXBlKTtcbiAgICAgICAgICAgICAgICByZWFjdE5hbWUgPSBuZXcgaW5DYXB0dXJlUGhhc2UoXG4gICAgICAgICAgICAgICAgICBfaW5zdGFuY2UyLFxuICAgICAgICAgICAgICAgICAgaW5zdGFuY2UgKyBcImxlYXZlXCIsXG4gICAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IsXG4gICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZWFjdE5hbWUudGFyZ2V0ID0gYWNjdW11bGF0ZVRhcmdldE9ubHk7XG4gICAgICAgICAgICAgICAgcmVhY3ROYW1lLnJlbGF0ZWRUYXJnZXQgPSBsYXN0SG9zdENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBfaW5zdGFuY2UyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZShuYXRpdmVFdmVudFRhcmdldCkgPT09IHRhcmdldEluc3QgJiZcbiAgICAgICAgICAgICAgICAgICgoaW5DYXB0dXJlUGhhc2UgPSBuZXcgaW5DYXB0dXJlUGhhc2UoXG4gICAgICAgICAgICAgICAgICAgIHJlYWN0RXZlbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSArIFwiZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgcmVhY3RFdmVudFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAoaW5DYXB0dXJlUGhhc2UudGFyZ2V0ID0gbGFzdEhvc3RDb21wb25lbnQpLFxuICAgICAgICAgICAgICAgICAgKGluQ2FwdHVyZVBoYXNlLnJlbGF0ZWRUYXJnZXQgPSBhY2N1bXVsYXRlVGFyZ2V0T25seSksXG4gICAgICAgICAgICAgICAgICAoX2luc3RhbmNlMiA9IGluQ2FwdHVyZVBoYXNlKSk7XG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZVRhcmdldE9ubHkgPSBfaW5zdGFuY2UyO1xuICAgICAgICAgICAgICAgIGlmIChTeW50aGV0aWNFdmVudEN0b3IgJiYgcmVhY3RFdmVudFR5cGUpXG4gICAgICAgICAgICAgICAgICBiOiB7XG4gICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID0gU3ludGhldGljRXZlbnRDdG9yO1xuICAgICAgICAgICAgICAgICAgICByZWFjdEV2ZW50TmFtZSA9IHJlYWN0RXZlbnRUeXBlO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdEhvc3RDb21wb25lbnQgPSBpbkNhcHR1cmVQaGFzZTtcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudDtcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudCA9IGdldFBhcmVudChsYXN0SG9zdENvbXBvbmVudClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlKys7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RIb3N0Q29tcG9uZW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UyID0gcmVhY3RFdmVudE5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgX2luc3RhbmNlMjtcbiAgICAgICAgICAgICAgICAgICAgICBfaW5zdGFuY2UyID0gZ2V0UGFyZW50KF9pbnN0YW5jZTIpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudCsrO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgMCA8IGluc3RhbmNlIC0gbGFzdEhvc3RDb21wb25lbnQ7IClcbiAgICAgICAgICAgICAgICAgICAgICAoaW5DYXB0dXJlUGhhc2UgPSBnZXRQYXJlbnQoaW5DYXB0dXJlUGhhc2UpKSwgaW5zdGFuY2UtLTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IDAgPCBsYXN0SG9zdENvbXBvbmVudCAtIGluc3RhbmNlOyApXG4gICAgICAgICAgICAgICAgICAgICAgKHJlYWN0RXZlbnROYW1lID0gZ2V0UGFyZW50KHJlYWN0RXZlbnROYW1lKSksXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0SG9zdENvbXBvbmVudC0tO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKDsgaW5zdGFuY2UtLTsgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPT09IHJlYWN0RXZlbnROYW1lIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAobnVsbCAhPT0gcmVhY3RFdmVudE5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPT09IHJlYWN0RXZlbnROYW1lLmFsdGVybmF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlID0gZ2V0UGFyZW50KGluQ2FwdHVyZVBoYXNlKTtcbiAgICAgICAgICAgICAgICAgICAgICByZWFjdEV2ZW50TmFtZSA9IGdldFBhcmVudChyZWFjdEV2ZW50TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaW5DYXB0dXJlUGhhc2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIG51bGwgIT09IFN5bnRoZXRpY0V2ZW50Q3RvciAmJlxuICAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZUVudGVyTGVhdmVMaXN0ZW5lcnNGb3JFdmVudChcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVhY3ROYW1lLFxuICAgICAgICAgICAgICAgICAgICBTeW50aGV0aWNFdmVudEN0b3IsXG4gICAgICAgICAgICAgICAgICAgIGluQ2FwdHVyZVBoYXNlLFxuICAgICAgICAgICAgICAgICAgICAhMVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBudWxsICE9PSByZWFjdEV2ZW50VHlwZSAmJlxuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gYWNjdW11bGF0ZVRhcmdldE9ubHkgJiZcbiAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVFbnRlckxlYXZlTGlzdGVuZXJzRm9yRXZlbnQoXG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICAgICAgICAgIGFjY3VtdWxhdGVUYXJnZXRPbmx5LFxuICAgICAgICAgICAgICAgICAgICByZWFjdEV2ZW50VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgaW5DYXB0dXJlUGhhc2UsXG4gICAgICAgICAgICAgICAgICAgICEwXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgIHJlYWN0TmFtZSA9IHRhcmdldEluc3QgPyBnZXROb2RlRnJvbUluc3RhbmNlKHRhcmdldEluc3QpIDogd2luZG93O1xuICAgICAgICAgICAgU3ludGhldGljRXZlbnRDdG9yID1cbiAgICAgICAgICAgICAgcmVhY3ROYW1lLm5vZGVOYW1lICYmIHJlYWN0TmFtZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBcInNlbGVjdFwiID09PSBTeW50aGV0aWNFdmVudEN0b3IgfHxcbiAgICAgICAgICAgICAgKFwiaW5wdXRcIiA9PT0gU3ludGhldGljRXZlbnRDdG9yICYmIFwiZmlsZVwiID09PSByZWFjdE5hbWUudHlwZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgdmFyIGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNoYW5nZUV2ZW50O1xuICAgICAgICAgICAgZWxzZSBpZiAoaXNUZXh0SW5wdXRFbGVtZW50KHJlYWN0TmFtZSkpXG4gICAgICAgICAgICAgIGlmIChpc0lucHV0RXZlbnRTdXBwb3J0ZWQpXG4gICAgICAgICAgICAgICAgZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0Rm9ySW5wdXRPckNoYW5nZUV2ZW50O1xuICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JJbnB1dEV2ZW50UG9seWZpbGw7XG4gICAgICAgICAgICAgICAgdmFyIGhhbmRsZUV2ZW50RnVuYyA9IGhhbmRsZUV2ZW50c0ZvcklucHV0RXZlbnRQb2x5ZmlsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAoU3ludGhldGljRXZlbnRDdG9yID0gcmVhY3ROYW1lLm5vZGVOYW1lKSxcbiAgICAgICAgICAgICAgICAhU3ludGhldGljRXZlbnRDdG9yIHx8XG4gICAgICAgICAgICAgICAgXCJpbnB1dFwiICE9PSBTeW50aGV0aWNFdmVudEN0b3IudG9Mb3dlckNhc2UoKSB8fFxuICAgICAgICAgICAgICAgIChcImNoZWNrYm94XCIgIT09IHJlYWN0TmFtZS50eXBlICYmIFwicmFkaW9cIiAhPT0gcmVhY3ROYW1lLnR5cGUpXG4gICAgICAgICAgICAgICAgICA/IHRhcmdldEluc3QgJiZcbiAgICAgICAgICAgICAgICAgICAgaXNDdXN0b21FbGVtZW50KHRhcmdldEluc3QuZWxlbWVudFR5cGUpICYmXG4gICAgICAgICAgICAgICAgICAgIChnZXRUYXJnZXRJbnN0RnVuYyA9IGdldFRhcmdldEluc3RGb3JDaGFuZ2VFdmVudClcbiAgICAgICAgICAgICAgICAgIDogKGdldFRhcmdldEluc3RGdW5jID0gZ2V0VGFyZ2V0SW5zdEZvckNsaWNrRXZlbnQpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBnZXRUYXJnZXRJbnN0RnVuYyAmJlxuICAgICAgICAgICAgICAoZ2V0VGFyZ2V0SW5zdEZ1bmMgPSBnZXRUYXJnZXRJbnN0RnVuYyhkb21FdmVudE5hbWUsIHRhcmdldEluc3QpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIGNyZWF0ZUFuZEFjY3VtdWxhdGVDaGFuZ2VFdmVudChcbiAgICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgICAgIGdldFRhcmdldEluc3RGdW5jLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoYW5kbGVFdmVudEZ1bmMgJiZcbiAgICAgICAgICAgICAgaGFuZGxlRXZlbnRGdW5jKGRvbUV2ZW50TmFtZSwgcmVhY3ROYW1lLCB0YXJnZXRJbnN0KTtcbiAgICAgICAgICAgIFwiZm9jdXNvdXRcIiA9PT0gZG9tRXZlbnROYW1lICYmXG4gICAgICAgICAgICAgIHRhcmdldEluc3QgJiZcbiAgICAgICAgICAgICAgXCJudW1iZXJcIiA9PT0gcmVhY3ROYW1lLnR5cGUgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPSB0YXJnZXRJbnN0Lm1lbW9pemVkUHJvcHMudmFsdWUgJiZcbiAgICAgICAgICAgICAgc2V0RGVmYXVsdFZhbHVlKHJlYWN0TmFtZSwgXCJudW1iZXJcIiwgcmVhY3ROYW1lLnZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlRXZlbnRGdW5jID0gdGFyZ2V0SW5zdFxuICAgICAgICAgICAgPyBnZXROb2RlRnJvbUluc3RhbmNlKHRhcmdldEluc3QpXG4gICAgICAgICAgICA6IHdpbmRvdztcbiAgICAgICAgICBzd2l0Y2ggKGRvbUV2ZW50TmFtZSkge1xuICAgICAgICAgICAgY2FzZSBcImZvY3VzaW5cIjpcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGlzVGV4dElucHV0RWxlbWVudChoYW5kbGVFdmVudEZ1bmMpIHx8XG4gICAgICAgICAgICAgICAgXCJ0cnVlXCIgPT09IGhhbmRsZUV2ZW50RnVuYy5jb250ZW50RWRpdGFibGVcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIChhY3RpdmVFbGVtZW50ID0gaGFuZGxlRXZlbnRGdW5jKSxcbiAgICAgICAgICAgICAgICAgIChhY3RpdmVFbGVtZW50SW5zdCA9IHRhcmdldEluc3QpLFxuICAgICAgICAgICAgICAgICAgKGxhc3RTZWxlY3Rpb24gPSBudWxsKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZm9jdXNvdXRcIjpcbiAgICAgICAgICAgICAgbGFzdFNlbGVjdGlvbiA9IGFjdGl2ZUVsZW1lbnRJbnN0ID0gYWN0aXZlRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm1vdXNlZG93blwiOlxuICAgICAgICAgICAgICBtb3VzZURvd24gPSAhMDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY29udGV4dG1lbnVcIjpcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZXVwXCI6XG4gICAgICAgICAgICBjYXNlIFwiZHJhZ2VuZFwiOlxuICAgICAgICAgICAgICBtb3VzZURvd24gPSAhMTtcbiAgICAgICAgICAgICAgY29uc3RydWN0U2VsZWN0RXZlbnQoXG4gICAgICAgICAgICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJzZWxlY3Rpb25jaGFuZ2VcIjpcbiAgICAgICAgICAgICAgaWYgKHNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCkgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwia2V5ZG93blwiOlxuICAgICAgICAgICAgY2FzZSBcImtleXVwXCI6XG4gICAgICAgICAgICAgIGNvbnN0cnVjdFNlbGVjdEV2ZW50KFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGZhbGxiYWNrRGF0YTtcbiAgICAgICAgICBpZiAoY2FuVXNlQ29tcG9zaXRpb25FdmVudClcbiAgICAgICAgICAgIGI6IHtcbiAgICAgICAgICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25zdGFydFwiOlxuICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50VHlwZSA9IFwib25Db21wb3NpdGlvblN0YXJ0XCI7XG4gICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbmVuZFwiOlxuICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gXCJvbkNvbXBvc2l0aW9uRW5kXCI7XG4gICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbnVwZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gXCJvbkNvbXBvc2l0aW9uVXBkYXRlXCI7XG4gICAgICAgICAgICAgICAgICBicmVhayBiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGV2ZW50VHlwZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBpc0NvbXBvc2luZ1xuICAgICAgICAgICAgICA/IGlzRmFsbGJhY2tDb21wb3NpdGlvbkVuZChkb21FdmVudE5hbWUsIG5hdGl2ZUV2ZW50KSAmJlxuICAgICAgICAgICAgICAgIChldmVudFR5cGUgPSBcIm9uQ29tcG9zaXRpb25FbmRcIilcbiAgICAgICAgICAgICAgOiBcImtleWRvd25cIiA9PT0gZG9tRXZlbnROYW1lICYmXG4gICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQua2V5Q29kZSA9PT0gU1RBUlRfS0VZQ09ERSAmJlxuICAgICAgICAgICAgICAgIChldmVudFR5cGUgPSBcIm9uQ29tcG9zaXRpb25TdGFydFwiKTtcbiAgICAgICAgICBldmVudFR5cGUgJiZcbiAgICAgICAgICAgICh1c2VGYWxsYmFja0NvbXBvc2l0aW9uRGF0YSAmJlxuICAgICAgICAgICAgICBcImtvXCIgIT09IG5hdGl2ZUV2ZW50LmxvY2FsZSAmJlxuICAgICAgICAgICAgICAoaXNDb21wb3NpbmcgfHwgXCJvbkNvbXBvc2l0aW9uU3RhcnRcIiAhPT0gZXZlbnRUeXBlXG4gICAgICAgICAgICAgICAgPyBcIm9uQ29tcG9zaXRpb25FbmRcIiA9PT0gZXZlbnRUeXBlICYmXG4gICAgICAgICAgICAgICAgICBpc0NvbXBvc2luZyAmJlxuICAgICAgICAgICAgICAgICAgKGZhbGxiYWNrRGF0YSA9IGdldERhdGEoKSlcbiAgICAgICAgICAgICAgICA6ICgocm9vdCA9IG5hdGl2ZUV2ZW50VGFyZ2V0KSxcbiAgICAgICAgICAgICAgICAgIChzdGFydFRleHQgPSBcInZhbHVlXCIgaW4gcm9vdCA/IHJvb3QudmFsdWUgOiByb290LnRleHRDb250ZW50KSxcbiAgICAgICAgICAgICAgICAgIChpc0NvbXBvc2luZyA9ICEwKSkpLFxuICAgICAgICAgICAgKGhhbmRsZUV2ZW50RnVuYyA9IGFjY3VtdWxhdGVUd29QaGFzZUxpc3RlbmVycyhcbiAgICAgICAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgICAgICAgZXZlbnRUeXBlXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIDAgPCBoYW5kbGVFdmVudEZ1bmMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICgoZXZlbnRUeXBlID0gbmV3IFN5bnRoZXRpY0NvbXBvc2l0aW9uRXZlbnQoXG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50VGFyZ2V0XG4gICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudFR5cGUsXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBoYW5kbGVFdmVudEZ1bmNcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIGZhbGxiYWNrRGF0YVxuICAgICAgICAgICAgICAgID8gKGV2ZW50VHlwZS5kYXRhID0gZmFsbGJhY2tEYXRhKVxuICAgICAgICAgICAgICAgIDogKChmYWxsYmFja0RhdGEgPSBnZXREYXRhRnJvbUN1c3RvbUV2ZW50KG5hdGl2ZUV2ZW50KSksXG4gICAgICAgICAgICAgICAgICBudWxsICE9PSBmYWxsYmFja0RhdGEgJiYgKGV2ZW50VHlwZS5kYXRhID0gZmFsbGJhY2tEYXRhKSkpKTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAoZmFsbGJhY2tEYXRhID0gY2FuVXNlVGV4dElucHV0RXZlbnRcbiAgICAgICAgICAgICAgPyBnZXROYXRpdmVCZWZvcmVJbnB1dENoYXJzKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpXG4gICAgICAgICAgICAgIDogZ2V0RmFsbGJhY2tCZWZvcmVJbnB1dENoYXJzKGRvbUV2ZW50TmFtZSwgbmF0aXZlRXZlbnQpKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIChldmVudFR5cGUgPSBhY2N1bXVsYXRlVHdvUGhhc2VMaXN0ZW5lcnMoXG4gICAgICAgICAgICAgIHRhcmdldEluc3QsXG4gICAgICAgICAgICAgIFwib25CZWZvcmVJbnB1dFwiXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgMCA8IGV2ZW50VHlwZS5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICAoKGhhbmRsZUV2ZW50RnVuYyA9IG5ldyBTeW50aGV0aWNJbnB1dEV2ZW50KFxuICAgICAgICAgICAgICAgICAgXCJvbkJlZm9yZUlucHV0XCIsXG4gICAgICAgICAgICAgICAgICBcImJlZm9yZWlucHV0XCIsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICAgICAgICBuYXRpdmVFdmVudFRhcmdldFxuICAgICAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgICAgIGRpc3BhdGNoUXVldWUucHVzaCh7XG4gICAgICAgICAgICAgICAgICBldmVudDogaGFuZGxlRXZlbnRGdW5jLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzOiBldmVudFR5cGVcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAoaGFuZGxlRXZlbnRGdW5jLmRhdGEgPSBmYWxsYmFja0RhdGEpKTtcbiAgICAgICAgICBleHRyYWN0RXZlbnRzJDEoXG4gICAgICAgICAgICBkaXNwYXRjaFF1ZXVlLFxuICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgdGFyZ2V0SW5zdCxcbiAgICAgICAgICAgIG5hdGl2ZUV2ZW50LFxuICAgICAgICAgICAgbmF0aXZlRXZlbnRUYXJnZXRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3NEaXNwYXRjaFF1ZXVlKGRpc3BhdGNoUXVldWUsIGV2ZW50U3lzdGVtRmxhZ3MpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNyZWF0ZURpc3BhdGNoTGlzdGVuZXIoaW5zdGFuY2UsIGxpc3RlbmVyLCBjdXJyZW50VGFyZ2V0KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2UsXG4gICAgICAgIGxpc3RlbmVyOiBsaXN0ZW5lcixcbiAgICAgICAgY3VycmVudFRhcmdldDogY3VycmVudFRhcmdldFxuICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZVR3b1BoYXNlTGlzdGVuZXJzKHRhcmdldEZpYmVyLCByZWFjdE5hbWUpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBjYXB0dXJlTmFtZSA9IHJlYWN0TmFtZSArIFwiQ2FwdHVyZVwiLCBsaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgbnVsbCAhPT0gdGFyZ2V0RmliZXI7XG5cbiAgICAgICkge1xuICAgICAgICB2YXIgX2luc3RhbmNlMyA9IHRhcmdldEZpYmVyLFxuICAgICAgICAgIHN0YXRlTm9kZSA9IF9pbnN0YW5jZTMuc3RhdGVOb2RlO1xuICAgICAgICBfaW5zdGFuY2UzID0gX2luc3RhbmNlMy50YWc7XG4gICAgICAgICg1ICE9PSBfaW5zdGFuY2UzICYmIDI2ICE9PSBfaW5zdGFuY2UzICYmIDI3ICE9PSBfaW5zdGFuY2UzKSB8fFxuICAgICAgICAgIG51bGwgPT09IHN0YXRlTm9kZSB8fFxuICAgICAgICAgICgoX2luc3RhbmNlMyA9IGdldExpc3RlbmVyKHRhcmdldEZpYmVyLCBjYXB0dXJlTmFtZSkpLFxuICAgICAgICAgIG51bGwgIT0gX2luc3RhbmNlMyAmJlxuICAgICAgICAgICAgbGlzdGVuZXJzLnVuc2hpZnQoXG4gICAgICAgICAgICAgIGNyZWF0ZURpc3BhdGNoTGlzdGVuZXIodGFyZ2V0RmliZXIsIF9pbnN0YW5jZTMsIHN0YXRlTm9kZSlcbiAgICAgICAgICAgICksXG4gICAgICAgICAgKF9pbnN0YW5jZTMgPSBnZXRMaXN0ZW5lcih0YXJnZXRGaWJlciwgcmVhY3ROYW1lKSksXG4gICAgICAgICAgbnVsbCAhPSBfaW5zdGFuY2UzICYmXG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChcbiAgICAgICAgICAgICAgY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcih0YXJnZXRGaWJlciwgX2luc3RhbmNlMywgc3RhdGVOb2RlKVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIHRhcmdldEZpYmVyID0gdGFyZ2V0RmliZXIucmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxpc3RlbmVycztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UGFyZW50KGluc3QpIHtcbiAgICAgIGlmIChudWxsID09PSBpbnN0KSByZXR1cm4gbnVsbDtcbiAgICAgIGRvIGluc3QgPSBpbnN0LnJldHVybjtcbiAgICAgIHdoaWxlIChpbnN0ICYmIDUgIT09IGluc3QudGFnICYmIDI3ICE9PSBpbnN0LnRhZyk7XG4gICAgICByZXR1cm4gaW5zdCA/IGluc3QgOiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhY2N1bXVsYXRlRW50ZXJMZWF2ZUxpc3RlbmVyc0ZvckV2ZW50KFxuICAgICAgZGlzcGF0Y2hRdWV1ZSxcbiAgICAgIGV2ZW50LFxuICAgICAgdGFyZ2V0LFxuICAgICAgY29tbW9uLFxuICAgICAgaW5DYXB0dXJlUGhhc2VcbiAgICApIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciByZWdpc3RyYXRpb25OYW1lID0gZXZlbnQuX3JlYWN0TmFtZSwgbGlzdGVuZXJzID0gW107XG4gICAgICAgIG51bGwgIT09IHRhcmdldCAmJiB0YXJnZXQgIT09IGNvbW1vbjtcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBfaW5zdGFuY2U0ID0gdGFyZ2V0LFxuICAgICAgICAgIGFsdGVybmF0ZSA9IF9pbnN0YW5jZTQuYWx0ZXJuYXRlLFxuICAgICAgICAgIHN0YXRlTm9kZSA9IF9pbnN0YW5jZTQuc3RhdGVOb2RlO1xuICAgICAgICBfaW5zdGFuY2U0ID0gX2luc3RhbmNlNC50YWc7XG4gICAgICAgIGlmIChudWxsICE9PSBhbHRlcm5hdGUgJiYgYWx0ZXJuYXRlID09PSBjb21tb24pIGJyZWFrO1xuICAgICAgICAoNSAhPT0gX2luc3RhbmNlNCAmJiAyNiAhPT0gX2luc3RhbmNlNCAmJiAyNyAhPT0gX2luc3RhbmNlNCkgfHxcbiAgICAgICAgICBudWxsID09PSBzdGF0ZU5vZGUgfHxcbiAgICAgICAgICAoKGFsdGVybmF0ZSA9IHN0YXRlTm9kZSksXG4gICAgICAgICAgaW5DYXB0dXJlUGhhc2VcbiAgICAgICAgICAgID8gKChzdGF0ZU5vZGUgPSBnZXRMaXN0ZW5lcih0YXJnZXQsIHJlZ2lzdHJhdGlvbk5hbWUpKSxcbiAgICAgICAgICAgICAgbnVsbCAhPSBzdGF0ZU5vZGUgJiZcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMudW5zaGlmdChcbiAgICAgICAgICAgICAgICAgIGNyZWF0ZURpc3BhdGNoTGlzdGVuZXIodGFyZ2V0LCBzdGF0ZU5vZGUsIGFsdGVybmF0ZSlcbiAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgOiBpbkNhcHR1cmVQaGFzZSB8fFxuICAgICAgICAgICAgICAoKHN0YXRlTm9kZSA9IGdldExpc3RlbmVyKHRhcmdldCwgcmVnaXN0cmF0aW9uTmFtZSkpLFxuICAgICAgICAgICAgICBudWxsICE9IHN0YXRlTm9kZSAmJlxuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKFxuICAgICAgICAgICAgICAgICAgY3JlYXRlRGlzcGF0Y2hMaXN0ZW5lcih0YXJnZXQsIHN0YXRlTm9kZSwgYWx0ZXJuYXRlKVxuICAgICAgICAgICAgICAgICkpKTtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnJldHVybjtcbiAgICAgIH1cbiAgICAgIDAgIT09IGxpc3RlbmVycy5sZW5ndGggJiZcbiAgICAgICAgZGlzcGF0Y2hRdWV1ZS5wdXNoKHsgZXZlbnQ6IGV2ZW50LCBsaXN0ZW5lcnM6IGxpc3RlbmVycyB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0aWVzSW5EZXZlbG9wbWVudCh0eXBlLCBwcm9wcykge1xuICAgICAgdmFsaWRhdGVQcm9wZXJ0aWVzJDIodHlwZSwgcHJvcHMpO1xuICAgICAgKFwiaW5wdXRcIiAhPT0gdHlwZSAmJiBcInRleHRhcmVhXCIgIT09IHR5cGUgJiYgXCJzZWxlY3RcIiAhPT0gdHlwZSkgfHxcbiAgICAgICAgbnVsbCA9PSBwcm9wcyB8fFxuICAgICAgICBudWxsICE9PSBwcm9wcy52YWx1ZSB8fFxuICAgICAgICBkaWRXYXJuVmFsdWVOdWxsIHx8XG4gICAgICAgICgoZGlkV2FyblZhbHVlTnVsbCA9ICEwKSxcbiAgICAgICAgXCJzZWxlY3RcIiA9PT0gdHlwZSAmJiBwcm9wcy5tdWx0aXBsZVxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJgdmFsdWVgIHByb3Agb24gYCVzYCBzaG91bGQgbm90IGJlIG51bGwuIENvbnNpZGVyIHVzaW5nIGFuIGVtcHR5IGFycmF5IHdoZW4gYG11bHRpcGxlYCBpcyBzZXQgdG8gYHRydWVgIHRvIGNsZWFyIHRoZSBjb21wb25lbnQgb3IgYHVuZGVmaW5lZGAgZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLlwiLFxuICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcImB2YWx1ZWAgcHJvcCBvbiBgJXNgIHNob3VsZCBub3QgYmUgbnVsbC4gQ29uc2lkZXIgdXNpbmcgYW4gZW1wdHkgc3RyaW5nIHRvIGNsZWFyIHRoZSBjb21wb25lbnQgb3IgYHVuZGVmaW5lZGAgZm9yIHVuY29udHJvbGxlZCBjb21wb25lbnRzLlwiLFxuICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICApKTtcbiAgICAgIHZhciBldmVudFJlZ2lzdHJ5ID0ge1xuICAgICAgICByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzOiByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzLFxuICAgICAgICBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzOiBwb3NzaWJsZVJlZ2lzdHJhdGlvbk5hbWVzXG4gICAgICB9O1xuICAgICAgaXNDdXN0b21FbGVtZW50KHR5cGUpIHx8XG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5pcyB8fFxuICAgICAgICB3YXJuVW5rbm93blByb3BlcnRpZXModHlwZSwgcHJvcHMsIGV2ZW50UmVnaXN0cnkpO1xuICAgICAgcHJvcHMuY29udGVudEVkaXRhYmxlICYmXG4gICAgICAgICFwcm9wcy5zdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmcgJiZcbiAgICAgICAgbnVsbCAhPSBwcm9wcy5jaGlsZHJlbiAmJlxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiQSBjb21wb25lbnQgaXMgYGNvbnRlbnRFZGl0YWJsZWAgYW5kIGNvbnRhaW5zIGBjaGlsZHJlbmAgbWFuYWdlZCBieSBSZWFjdC4gSXQgaXMgbm93IHlvdXIgcmVzcG9uc2liaWxpdHkgdG8gZ3VhcmFudGVlIHRoYXQgbm9uZSBvZiB0aG9zZSBub2RlcyBhcmUgdW5leHBlY3RlZGx5IG1vZGlmaWVkIG9yIGR1cGxpY2F0ZWQuIFRoaXMgaXMgcHJvYmFibHkgbm90IGludGVudGlvbmFsLlwiXG4gICAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgIHByb3BOYW1lLFxuICAgICAgc2VydmVyVmFsdWUsXG4gICAgICBjbGllbnRWYWx1ZSxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBzZXJ2ZXJWYWx1ZSAhPT0gY2xpZW50VmFsdWUgJiZcbiAgICAgICAgKChjbGllbnRWYWx1ZSA9IG5vcm1hbGl6ZU1hcmt1cEZvclRleHRPckF0dHJpYnV0ZShjbGllbnRWYWx1ZSkpLFxuICAgICAgICBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoc2VydmVyVmFsdWUpICE9PSBjbGllbnRWYWx1ZSAmJlxuICAgICAgICAgIChzZXJ2ZXJEaWZmZXJlbmNlc1twcm9wTmFtZV0gPSBzZXJ2ZXJWYWx1ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuRm9yRXh0cmFBdHRyaWJ1dGVzKFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIGF0dHJpYnV0ZU5hbWVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGF0dHJpYnV0ZU5hbWVzLmZvckVhY2goZnVuY3Rpb24gKGF0dHJpYnV0ZU5hbWUpIHtcbiAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNbZ2V0UHJvcE5hbWVGcm9tQXR0cmlidXRlTmFtZShhdHRyaWJ1dGVOYW1lKV0gPVxuICAgICAgICAgIFwic3R5bGVcIiA9PT0gYXR0cmlidXRlTmFtZVxuICAgICAgICAgICAgPyBnZXRTdHlsZXNPYmplY3RGcm9tRWxlbWVudChkb21FbGVtZW50KVxuICAgICAgICAgICAgOiBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIocmVnaXN0cmF0aW9uTmFtZSwgbGlzdGVuZXIpIHtcbiAgICAgICExID09PSBsaXN0ZW5lclxuICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIkV4cGVjdGVkIGAlc2AgbGlzdGVuZXIgdG8gYmUgYSBmdW5jdGlvbiwgaW5zdGVhZCBnb3QgYGZhbHNlYC5cXG5cXG5JZiB5b3UgdXNlZCB0byBjb25kaXRpb25hbGx5IG9taXQgaXQgd2l0aCAlcz17Y29uZGl0aW9uICYmIHZhbHVlfSwgcGFzcyAlcz17Y29uZGl0aW9uID8gdmFsdWUgOiB1bmRlZmluZWR9IGluc3RlYWQuXCIsXG4gICAgICAgICAgICByZWdpc3RyYXRpb25OYW1lLFxuICAgICAgICAgICAgcmVnaXN0cmF0aW9uTmFtZSxcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbk5hbWVcbiAgICAgICAgICApXG4gICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiRXhwZWN0ZWQgYCVzYCBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLCBpbnN0ZWFkIGdvdCBhIHZhbHVlIG9mIGAlc2AgdHlwZS5cIixcbiAgICAgICAgICAgIHJlZ2lzdHJhdGlvbk5hbWUsXG4gICAgICAgICAgICB0eXBlb2YgbGlzdGVuZXJcbiAgICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub3JtYWxpemVIVE1MKHBhcmVudCwgaHRtbCkge1xuICAgICAgcGFyZW50ID1cbiAgICAgICAgcGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gTUFUSF9OQU1FU1BBQ0UgfHxcbiAgICAgICAgcGFyZW50Lm5hbWVzcGFjZVVSSSA9PT0gU1ZHX05BTUVTUEFDRVxuICAgICAgICAgID8gcGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFxuICAgICAgICAgICAgICBwYXJlbnQubmFtZXNwYWNlVVJJLFxuICAgICAgICAgICAgICBwYXJlbnQudGFnTmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogcGFyZW50Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChwYXJlbnQudGFnTmFtZSk7XG4gICAgICBwYXJlbnQuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgIHJldHVybiBwYXJlbnQuaW5uZXJIVE1MO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUobWFya3VwKSB7XG4gICAgICB3aWxsQ29lcmNpb25UaHJvdyhtYXJrdXApICYmXG4gICAgICAgIChjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVGhlIHByb3ZpZGVkIEhUTUwgbWFya3VwIHVzZXMgYSB2YWx1ZSBvZiB1bnN1cHBvcnRlZCB0eXBlICVzLiBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgdXNpbmcgaXQgaGVyZS5cIixcbiAgICAgICAgICB0eXBlTmFtZShtYXJrdXApXG4gICAgICAgICksXG4gICAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbihtYXJrdXApKTtcbiAgICAgIHJldHVybiAoXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG1hcmt1cCA/IG1hcmt1cCA6IFwiXCIgKyBtYXJrdXApXG4gICAgICAgIC5yZXBsYWNlKE5PUk1BTElaRV9ORVdMSU5FU19SRUdFWCwgXCJcXG5cIilcbiAgICAgICAgLnJlcGxhY2UoTk9STUFMSVpFX05VTExfQU5EX1JFUExBQ0VNRU5UX1JFR0VYLCBcIlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tGb3JVbm1hdGNoZWRUZXh0KHNlcnZlclRleHQsIGNsaWVudFRleHQpIHtcbiAgICAgIGNsaWVudFRleHQgPSBub3JtYWxpemVNYXJrdXBGb3JUZXh0T3JBdHRyaWJ1dGUoY2xpZW50VGV4dCk7XG4gICAgICByZXR1cm4gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHNlcnZlclRleHQpID09PSBjbGllbnRUZXh0XG4gICAgICAgID8gITBcbiAgICAgICAgOiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbm9vcCQxKCkge31cbiAgICBmdW5jdGlvbiBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywga2V5LCB2YWx1ZSwgcHJvcHMsIHByZXZWYWx1ZSkge1xuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZSlcbiAgICAgICAgICAgIHZhbGlkYXRlVGV4dE5lc3RpbmcodmFsdWUsIHRhZyksXG4gICAgICAgICAgICAgIFwiYm9keVwiID09PSB0YWcgfHxcbiAgICAgICAgICAgICAgICAoXCJ0ZXh0YXJlYVwiID09PSB0YWcgJiYgXCJcIiA9PT0gdmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgc2V0VGV4dENvbnRlbnQoZG9tRWxlbWVudCwgdmFsdWUpO1xuICAgICAgICAgIGVsc2UgaWYgKFwibnVtYmVyXCIgPT09IHR5cGVvZiB2YWx1ZSB8fCBcImJpZ2ludFwiID09PSB0eXBlb2YgdmFsdWUpXG4gICAgICAgICAgICB2YWxpZGF0ZVRleHROZXN0aW5nKFwiXCIgKyB2YWx1ZSwgdGFnKSxcbiAgICAgICAgICAgICAgXCJib2R5XCIgIT09IHRhZyAmJiBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCBcIlwiICsgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiY2xhc3NOYW1lXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JLbm93bkF0dHJpYnV0ZShkb21FbGVtZW50LCBcImNsYXNzXCIsIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRhYkluZGV4XCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JLbm93bkF0dHJpYnV0ZShkb21FbGVtZW50LCBcInRhYmluZGV4XCIsIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRpclwiOlxuICAgICAgICBjYXNlIFwicm9sZVwiOlxuICAgICAgICBjYXNlIFwidmlld0JveFwiOlxuICAgICAgICBjYXNlIFwid2lkdGhcIjpcbiAgICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yS25vd25BdHRyaWJ1dGUoZG9tRWxlbWVudCwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yU3R5bGVzKGRvbUVsZW1lbnQsIHZhbHVlLCBwcmV2VmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZGF0YVwiOlxuICAgICAgICAgIGlmIChcIm9iamVjdFwiICE9PSB0YWcpIHtcbiAgICAgICAgICAgIHNldFZhbHVlRm9yS25vd25BdHRyaWJ1dGUoZG9tRWxlbWVudCwgXCJkYXRhXCIsIHZhbHVlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInNyY1wiOlxuICAgICAgICBjYXNlIFwiaHJlZlwiOlxuICAgICAgICAgIGlmIChcIlwiID09PSB2YWx1ZSAmJiAoXCJhXCIgIT09IHRhZyB8fCBcImhyZWZcIiAhPT0ga2V5KSkge1xuICAgICAgICAgICAgXCJzcmNcIiA9PT0ga2V5XG4gICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICdBbiBlbXB0eSBzdHJpbmcgKFwiXCIpIHdhcyBwYXNzZWQgdG8gdGhlICVzIGF0dHJpYnV0ZS4gVGhpcyBtYXkgY2F1c2UgdGhlIGJyb3dzZXIgdG8gZG93bmxvYWQgdGhlIHdob2xlIHBhZ2UgYWdhaW4gb3ZlciB0aGUgbmV0d29yay4gVG8gZml4IHRoaXMsIGVpdGhlciBkbyBub3QgcmVuZGVyIHRoZSBlbGVtZW50IGF0IGFsbCBvciBwYXNzIG51bGwgdG8gJXMgaW5zdGVhZCBvZiBhbiBlbXB0eSBzdHJpbmcuJyxcbiAgICAgICAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgJ0FuIGVtcHR5IHN0cmluZyAoXCJcIikgd2FzIHBhc3NlZCB0byB0aGUgJXMgYXR0cmlidXRlLiBUbyBmaXggdGhpcywgZWl0aGVyIGRvIG5vdCByZW5kZXIgdGhlIGVsZW1lbnQgYXQgYWxsIG9yIHBhc3MgbnVsbCB0byAlcyBpbnN0ZWFkIG9mIGFuIGVtcHR5IHN0cmluZy4nLFxuICAgICAgICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgbnVsbCA9PSB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJib29sZWFuXCIgPT09IHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpO1xuICAgICAgICAgIHZhbHVlID0gc2FuaXRpemVVUkwoXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFjdGlvblwiOlxuICAgICAgICBjYXNlIFwiZm9ybUFjdGlvblwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZvcm1cIiA9PT0gdGFnXG4gICAgICAgICAgICAgID8gXCJmb3JtQWN0aW9uXCIgPT09IGtleVxuICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgXCJZb3UgY2FuIG9ubHkgcGFzcyB0aGUgZm9ybUFjdGlvbiBwcm9wIHRvIDxpbnB1dD4gb3IgPGJ1dHRvbj4uIFVzZSB0aGUgYWN0aW9uIHByb3Agb24gPGZvcm0+LlwiXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgKChudWxsID09IHByb3BzLmVuY1R5cGUgJiYgbnVsbCA9PSBwcm9wcy5tZXRob2QpIHx8XG4gICAgICAgICAgICAgICAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uTWV0aG9kIHx8XG4gICAgICAgICAgICAgICAgICAgICgoZGlkV2FybkZvcm1BY3Rpb25NZXRob2QgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3Qgc3BlY2lmeSBhIGVuY1R5cGUgb3IgbWV0aG9kIGZvciBhIGZvcm0gdGhhdCBzcGVjaWZpZXMgYSBmdW5jdGlvbiBhcyB0aGUgYWN0aW9uLiBSZWFjdCBwcm92aWRlcyB0aG9zZSBhdXRvbWF0aWNhbGx5LiBUaGV5IHdpbGwgZ2V0IG92ZXJyaWRkZW4uXCJcbiAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICBudWxsID09IHByb3BzLnRhcmdldCB8fFxuICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvblRhcmdldCB8fFxuICAgICAgICAgICAgICAgICAgICAoKGRpZFdhcm5Gb3JtQWN0aW9uVGFyZ2V0ID0gITApLFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHNwZWNpZnkgYSB0YXJnZXQgZm9yIGEgZm9ybSB0aGF0IHNwZWNpZmllcyBhIGZ1bmN0aW9uIGFzIHRoZSBhY3Rpb24uIFRoZSBmdW5jdGlvbiB3aWxsIGFsd2F5cyBiZSBleGVjdXRlZCBpbiB0aGUgc2FtZSB3aW5kb3cuXCJcbiAgICAgICAgICAgICAgICAgICAgKSkpXG4gICAgICAgICAgICAgIDogXCJpbnB1dFwiID09PSB0YWcgfHwgXCJidXR0b25cIiA9PT0gdGFnXG4gICAgICAgICAgICAgICAgPyBcImFjdGlvblwiID09PSBrZXlcbiAgICAgICAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIllvdSBjYW4gb25seSBwYXNzIHRoZSBhY3Rpb24gcHJvcCB0byA8Zm9ybT4uIFVzZSB0aGUgZm9ybUFjdGlvbiBwcm9wIG9uIDxpbnB1dD4gb3IgPGJ1dHRvbj4uXCJcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgOiBcImlucHV0XCIgIT09IHRhZyB8fFxuICAgICAgICAgICAgICAgICAgICAgIFwic3VibWl0XCIgPT09IHByb3BzLnR5cGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICBcImltYWdlXCIgPT09IHByb3BzLnR5cGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvblR5cGVcbiAgICAgICAgICAgICAgICAgICAgPyBcImJ1dHRvblwiICE9PSB0YWcgfHxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsID09IHByb3BzLnR5cGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICBcInN1Ym1pdFwiID09PSBwcm9wcy50eXBlIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25UeXBlXG4gICAgICAgICAgICAgICAgICAgICAgPyBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKG51bGwgPT0gcHJvcHMubmFtZSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvbk5hbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9ybUFjdGlvbk5hbWUgPSAhMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Nhbm5vdCBzcGVjaWZ5IGEgXCJuYW1lXCIgcHJvcCBmb3IgYSBidXR0b24gdGhhdCBzcGVjaWZpZXMgYSBmdW5jdGlvbiBhcyBhIGZvcm1BY3Rpb24uIFJlYWN0IG5lZWRzIGl0IHRvIGVuY29kZSB3aGljaCBhY3Rpb24gc2hvdWxkIGJlIGludm9rZWQuIEl0IHdpbGwgZ2V0IG92ZXJyaWRkZW4uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChudWxsID09IHByb3BzLmZvcm1FbmNUeXBlICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT0gcHJvcHMuZm9ybU1ldGhvZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvcm1BY3Rpb25NZXRob2QgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKChkaWRXYXJuRm9ybUFjdGlvbk1ldGhvZCA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCBzcGVjaWZ5IGEgZm9ybUVuY1R5cGUgb3IgZm9ybU1ldGhvZCBmb3IgYSBidXR0b24gdGhhdCBzcGVjaWZpZXMgYSBmdW5jdGlvbiBhcyBhIGZvcm1BY3Rpb24uIFJlYWN0IHByb3ZpZGVzIHRob3NlIGF1dG9tYXRpY2FsbHkuIFRoZXkgd2lsbCBnZXQgb3ZlcnJpZGRlbi5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT0gcHJvcHMuZm9ybVRhcmdldCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaWRXYXJuRm9ybUFjdGlvblRhcmdldCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAoKGRpZFdhcm5Gb3JtQWN0aW9uVGFyZ2V0ID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHNwZWNpZnkgYSBmb3JtVGFyZ2V0IGZvciBhIGJ1dHRvbiB0aGF0IHNwZWNpZmllcyBhIGZ1bmN0aW9uIGFzIGEgZm9ybUFjdGlvbi4gVGhlIGZ1bmN0aW9uIHdpbGwgYWx3YXlzIGJlIGV4ZWN1dGVkIGluIHRoZSBzYW1lIHdpbmRvdy5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICApKSlcbiAgICAgICAgICAgICAgICAgICAgICA6ICgoZGlkV2FybkZvcm1BY3Rpb25UeXBlID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ0EgYnV0dG9uIGNhbiBvbmx5IHNwZWNpZnkgYSBmb3JtQWN0aW9uIGFsb25nIHdpdGggdHlwZT1cInN1Ym1pdFwiIG9yIG5vIHR5cGUuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgOiAoKGRpZFdhcm5Gb3JtQWN0aW9uVHlwZSA9ICEwKSxcbiAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0FuIGlucHV0IGNhbiBvbmx5IHNwZWNpZnkgYSBmb3JtQWN0aW9uIGFsb25nIHdpdGggdHlwZT1cInN1Ym1pdFwiIG9yIHR5cGU9XCJpbWFnZVwiLidcbiAgICAgICAgICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgICAgIDogXCJhY3Rpb25cIiA9PT0ga2V5XG4gICAgICAgICAgICAgICAgICA/IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJZb3UgY2FuIG9ubHkgcGFzcyB0aGUgYWN0aW9uIHByb3AgdG8gPGZvcm0+LlwiXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIllvdSBjYW4gb25seSBwYXNzIHRoZSBmb3JtQWN0aW9uIHByb3AgdG8gPGlucHV0PiBvciA8YnV0dG9uPi5cIlxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgIFwiamF2YXNjcmlwdDp0aHJvdyBuZXcgRXJyb3IoJ0EgUmVhY3QgZm9ybSB3YXMgdW5leHBlY3RlZGx5IHN1Ym1pdHRlZC4gSWYgeW91IGNhbGxlZCBmb3JtLnN1Ym1pdCgpIG1hbnVhbGx5LCBjb25zaWRlciB1c2luZyBmb3JtLnJlcXVlc3RTdWJtaXQoKSBpbnN0ZWFkLiBJZiB5b3VcXFxcJ3JlIHRyeWluZyB0byB1c2UgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCkgaW4gYSBzdWJtaXQgZXZlbnQgaGFuZGxlciwgY29uc2lkZXIgYWxzbyBjYWxsaW5nIGV2ZW50LnByZXZlbnREZWZhdWx0KCkuJylcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJldlZhbHVlICYmXG4gICAgICAgICAgICAgIChcImZvcm1BY3Rpb25cIiA9PT0ga2V5XG4gICAgICAgICAgICAgICAgPyAoXCJpbnB1dFwiICE9PSB0YWcgJiZcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIFwibmFtZVwiLCBwcm9wcy5uYW1lLCBwcm9wcywgbnVsbCksXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybUVuY1R5cGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuZm9ybUVuY1R5cGUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBcImZvcm1NZXRob2RcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMuZm9ybU1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybVRhcmdldFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5mb3JtVGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICA6IChzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIFwiZW5jVHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcy5lbmNUeXBlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBcIm1ldGhvZFwiLCBwcm9wcy5tZXRob2QsIHByb3BzLCBudWxsKSxcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgXCJ0YXJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgKSkpO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHxcbiAgICAgICAgICAgIFwic3ltYm9sXCIgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgICAgICAgXCJib29sZWFuXCIgPT09IHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpO1xuICAgICAgICAgIHZhbHVlID0gc2FuaXRpemVVUkwoXCJcIiArIHZhbHVlKTtcbiAgICAgICAgICBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIHZhbHVlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uQ2xpY2tcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgKGRvbUVsZW1lbnQub25jbGljayA9IG5vb3AkMSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25TY3JvbGxcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpLFxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInNjcm9sbFwiLCBkb21FbGVtZW50KSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvblNjcm9sbEVuZFwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwic2Nyb2xsZW5kXCIsIGRvbUVsZW1lbnQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgaWYgKG51bGwgIT0gdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChcIm9iamVjdFwiICE9PSB0eXBlb2YgdmFsdWUgfHwgIShcIl9faHRtbFwiIGluIHZhbHVlKSlcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJgcHJvcHMuZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIG11c3QgYmUgaW4gdGhlIGZvcm0gYHtfX2h0bWw6IC4uLn1gLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9kYW5nZXJvdXNseS1zZXQtaW5uZXItaHRtbCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAga2V5ID0gdmFsdWUuX19odG1sO1xuICAgICAgICAgICAgaWYgKG51bGwgIT0ga2V5KSB7XG4gICAgICAgICAgICAgIGlmIChudWxsICE9IHByb3BzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJDYW4gb25seSBzZXQgb25lIG9mIGBjaGlsZHJlbmAgb3IgYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQuaW5uZXJIVE1MID0ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgZG9tRWxlbWVudC5tdWx0aXBsZSA9XG4gICAgICAgICAgICB2YWx1ZSAmJiBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJiBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJtdXRlZFwiOlxuICAgICAgICAgIGRvbUVsZW1lbnQubXV0ZWQgPVxuICAgICAgICAgICAgdmFsdWUgJiYgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiYgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCI6XG4gICAgICAgIGNhc2UgXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIjpcbiAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgY2FzZSBcImlubmVySFRNTFwiOlxuICAgICAgICBjYXNlIFwicmVmXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhdXRvRm9jdXNcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rSHJlZlwiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG51bGwgPT0gdmFsdWUgfHxcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICBcImJvb2xlYW5cIiA9PT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKFwieGxpbms6aHJlZlwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpO1xuICAgICAgICAgIGtleSA9IHNhbml0aXplVVJMKFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGVOUyh4bGlua05hbWVzcGFjZSwgXCJ4bGluazpocmVmXCIsIGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjb250ZW50RWRpdGFibGVcIjpcbiAgICAgICAgY2FzZSBcInNwZWxsQ2hlY2tcIjpcbiAgICAgICAgY2FzZSBcImRyYWdnYWJsZVwiOlxuICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgY2FzZSBcImF1dG9SZXZlcnNlXCI6XG4gICAgICAgIGNhc2UgXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCI6XG4gICAgICAgIGNhc2UgXCJmb2N1c2FibGVcIjpcbiAgICAgICAgY2FzZSBcInByZXNlcnZlQWxwaGFcIjpcbiAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgdmFsdWVcbiAgICAgICAgICAgID8gKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgXCJcIiArIHZhbHVlKSlcbiAgICAgICAgICAgIDogZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImluZXJ0XCI6XG4gICAgICAgICAgXCJcIiAhPT0gdmFsdWUgfHxcbiAgICAgICAgICAgIGRpZFdhcm5Gb3JOZXdCb29sZWFuUHJvcHNXaXRoRW1wdHlWYWx1ZVtrZXldIHx8XG4gICAgICAgICAgICAoKGRpZFdhcm5Gb3JOZXdCb29sZWFuUHJvcHNXaXRoRW1wdHlWYWx1ZVtrZXldID0gITApLFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiBlbXB0eSBzdHJpbmcgZm9yIGEgYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC4gVGhpcyB3aWxsIHRyZWF0IHRoZSBhdHRyaWJ1dGUgYXMgaWYgaXQgd2VyZSBmYWxzZS4gRWl0aGVyIHBhc3MgYGZhbHNlYCB0byBzaWxlbmNlIHRoaXMgd2FybmluZywgb3IgcGFzcyBgdHJ1ZWAgaWYgeW91IHVzZWQgYW4gZW1wdHkgc3RyaW5nIGluIGVhcmxpZXIgdmVyc2lvbnMgb2YgUmVhY3QgdG8gaW5kaWNhdGUgdGhpcyBhdHRyaWJ1dGUgaXMgdHJ1ZS5cIixcbiAgICAgICAgICAgICAga2V5XG4gICAgICAgICAgICApKTtcbiAgICAgICAgY2FzZSBcImFsbG93RnVsbFNjcmVlblwiOlxuICAgICAgICBjYXNlIFwiYXN5bmNcIjpcbiAgICAgICAgY2FzZSBcImF1dG9QbGF5XCI6XG4gICAgICAgIGNhc2UgXCJjb250cm9sc1wiOlxuICAgICAgICBjYXNlIFwiZGVmYXVsdFwiOlxuICAgICAgICBjYXNlIFwiZGVmZXJcIjpcbiAgICAgICAgY2FzZSBcImRpc2FibGVkXCI6XG4gICAgICAgIGNhc2UgXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiOlxuICAgICAgICBjYXNlIFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCI6XG4gICAgICAgIGNhc2UgXCJmb3JtTm9WYWxpZGF0ZVwiOlxuICAgICAgICBjYXNlIFwiaGlkZGVuXCI6XG4gICAgICAgIGNhc2UgXCJsb29wXCI6XG4gICAgICAgIGNhc2UgXCJub01vZHVsZVwiOlxuICAgICAgICBjYXNlIFwibm9WYWxpZGF0ZVwiOlxuICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICBjYXNlIFwicGxheXNJbmxpbmVcIjpcbiAgICAgICAgY2FzZSBcInJlYWRPbmx5XCI6XG4gICAgICAgIGNhc2UgXCJyZXF1aXJlZFwiOlxuICAgICAgICBjYXNlIFwicmV2ZXJzZWRcIjpcbiAgICAgICAgY2FzZSBcInNjb3BlZFwiOlxuICAgICAgICBjYXNlIFwic2VhbWxlc3NcIjpcbiAgICAgICAgY2FzZSBcIml0ZW1TY29wZVwiOlxuICAgICAgICAgIHZhbHVlICYmIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICAgPyBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIFwiXCIpXG4gICAgICAgICAgICA6IGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjYXB0dXJlXCI6XG4gICAgICAgIGNhc2UgXCJkb3dubG9hZFwiOlxuICAgICAgICAgICEwID09PSB2YWx1ZVxuICAgICAgICAgICAgPyBkb21FbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIFwiXCIpXG4gICAgICAgICAgICA6ICExICE9PSB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICAgIFwic3ltYm9sXCIgIT09IHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICAgICA/IChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBrZXkpLFxuICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjb2xzXCI6XG4gICAgICAgIGNhc2UgXCJyb3dzXCI6XG4gICAgICAgIGNhc2UgXCJzaXplXCI6XG4gICAgICAgIGNhc2UgXCJzcGFuXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgIWlzTmFOKHZhbHVlKSAmJlxuICAgICAgICAgIDEgPD0gdmFsdWVcbiAgICAgICAgICAgID8gKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGtleSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgdmFsdWUpKVxuICAgICAgICAgICAgOiBkb21FbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicm93U3BhblwiOlxuICAgICAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgICAgICBudWxsID09IHZhbHVlIHx8XG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICBcInN5bWJvbFwiID09PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICBpc05hTih2YWx1ZSlcbiAgICAgICAgICAgID8gZG9tRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoa2V5KVxuICAgICAgICAgICAgOiAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwga2V5KSxcbiAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9wb3ZlclwiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJiZWZvcmV0b2dnbGVcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcInRvZ2dsZVwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBzZXRWYWx1ZUZvckF0dHJpYnV0ZShkb21FbGVtZW50LCBcInBvcG92ZXJcIiwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtBY3R1YXRlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhsaW5rTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bGluazphY3R1YXRlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua0FyY3JvbGVcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeGxpbmtOYW1lc3BhY2UsXG4gICAgICAgICAgICBcInhsaW5rOmFyY3JvbGVcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhsaW5rUm9sZVwiOlxuICAgICAgICAgIHNldFZhbHVlRm9yTmFtZXNwYWNlZEF0dHJpYnV0ZShcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB4bGlua05hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieGxpbms6cm9sZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtTaG93XCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhsaW5rTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bGluazpzaG93XCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bGlua1RpdGxlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhsaW5rTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bGluazp0aXRsZVwiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieGxpbmtUeXBlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhsaW5rTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bGluazp0eXBlXCIsXG4gICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ4bWxCYXNlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JOYW1lc3BhY2VkQXR0cmlidXRlKFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHhtbE5hbWVzcGFjZSxcbiAgICAgICAgICAgIFwieG1sOmJhc2VcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInhtbExhbmdcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeG1sTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bWw6bGFuZ1wiLFxuICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwieG1sU3BhY2VcIjpcbiAgICAgICAgICBzZXRWYWx1ZUZvck5hbWVzcGFjZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgeG1sTmFtZXNwYWNlLFxuICAgICAgICAgICAgXCJ4bWw6c3BhY2VcIixcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlzXCI6XG4gICAgICAgICAgbnVsbCAhPSBwcmV2VmFsdWUgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICdDYW5ub3QgdXBkYXRlIHRoZSBcImlzXCIgcHJvcCBhZnRlciBpdCBoYXMgYmVlbiBpbml0aWFsaXplZC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHNldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIFwiaXNcIiwgdmFsdWUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiaW5uZXJUZXh0XCI6XG4gICAgICAgIGNhc2UgXCJ0ZXh0Q29udGVudFwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicG9wb3ZlclRhcmdldFwiOlxuICAgICAgICAgIGRpZFdhcm5Qb3BvdmVyVGFyZ2V0T2JqZWN0IHx8XG4gICAgICAgICAgICBudWxsID09IHZhbHVlIHx8XG4gICAgICAgICAgICBcIm9iamVjdFwiICE9PSB0eXBlb2YgdmFsdWUgfHxcbiAgICAgICAgICAgICgoZGlkV2FyblBvcG92ZXJUYXJnZXRPYmplY3QgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlRoZSBgcG9wb3ZlclRhcmdldGAgcHJvcCBleHBlY3RzIHRoZSBJRCBvZiBhbiBFbGVtZW50IGFzIGEgc3RyaW5nLiBSZWNlaXZlZCAlcyBpbnN0ZWFkLlwiLFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgISgyIDwga2V5Lmxlbmd0aCkgfHxcbiAgICAgICAgICAoXCJvXCIgIT09IGtleVswXSAmJiBcIk9cIiAhPT0ga2V5WzBdKSB8fFxuICAgICAgICAgIChcIm5cIiAhPT0ga2V5WzFdICYmIFwiTlwiICE9PSBrZXlbMV0pXG4gICAgICAgICAgICA/ICgoa2V5ID0gZ2V0QXR0cmlidXRlQWxpYXMoa2V5KSksXG4gICAgICAgICAgICAgIHNldFZhbHVlRm9yQXR0cmlidXRlKGRvbUVsZW1lbnQsIGtleSwgdmFsdWUpKVxuICAgICAgICAgICAgOiByZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KGtleSkgJiZcbiAgICAgICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldFByb3BPbkN1c3RvbUVsZW1lbnQoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgdGFnLFxuICAgICAga2V5LFxuICAgICAgdmFsdWUsXG4gICAgICBwcm9wcyxcbiAgICAgIHByZXZWYWx1ZVxuICAgICkge1xuICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgc2V0VmFsdWVGb3JTdHlsZXMoZG9tRWxlbWVudCwgdmFsdWUsIHByZXZWYWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgIGlmIChudWxsICE9IHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdHlwZW9mIHZhbHVlIHx8ICEoXCJfX2h0bWxcIiBpbiB2YWx1ZSkpXG4gICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgIFwiYHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYCBtdXN0IGJlIGluIHRoZSBmb3JtIGB7X19odG1sOiAuLi59YC4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvZGFuZ2Vyb3VzbHktc2V0LWlubmVyLWh0bWwgZm9yIG1vcmUgaW5mb3JtYXRpb24uXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGtleSA9IHZhbHVlLl9faHRtbDtcbiAgICAgICAgICAgIGlmIChudWxsICE9IGtleSkge1xuICAgICAgICAgICAgICBpZiAobnVsbCAhPSBwcm9wcy5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiQ2FuIG9ubHkgc2V0IG9uZSBvZiBgY2hpbGRyZW5gIG9yIGBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBkb21FbGVtZW50LmlubmVySFRNTCA9IGtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiB2YWx1ZVxuICAgICAgICAgICAgPyBzZXRUZXh0Q29udGVudChkb21FbGVtZW50LCB2YWx1ZSlcbiAgICAgICAgICAgIDogKFwibnVtYmVyXCIgPT09IHR5cGVvZiB2YWx1ZSB8fCBcImJpZ2ludFwiID09PSB0eXBlb2YgdmFsdWUpICYmXG4gICAgICAgICAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIFwiXCIgKyB2YWx1ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvblNjcm9sbFwiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSksXG4gICAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwic2Nyb2xsXCIsIGRvbUVsZW1lbnQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm9uU2Nyb2xsRW5kXCI6XG4gICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgKFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgIHdhcm5Gb3JJbnZhbGlkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJzY3JvbGxlbmRcIiwgZG9tRWxlbWVudCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwib25DbGlja1wiOlxuICAgICAgICAgIG51bGwgIT0gdmFsdWUgJiZcbiAgICAgICAgICAgIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSksXG4gICAgICAgICAgICAoZG9tRWxlbWVudC5vbmNsaWNrID0gbm9vcCQxKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIjpcbiAgICAgICAgY2FzZSBcInN1cHByZXNzSHlkcmF0aW9uV2FybmluZ1wiOlxuICAgICAgICBjYXNlIFwiaW5uZXJIVE1MXCI6XG4gICAgICAgIGNhc2UgXCJyZWZcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlubmVyVGV4dFwiOlxuICAgICAgICBjYXNlIFwidGV4dENvbnRlbnRcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAocmVnaXN0cmF0aW9uTmFtZURlcGVuZGVuY2llcy5oYXNPd25Qcm9wZXJ0eShrZXkpKVxuICAgICAgICAgICAgbnVsbCAhPSB2YWx1ZSAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiB2YWx1ZSAmJlxuICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgXCJvXCIgPT09IGtleVswXSAmJlxuICAgICAgICAgICAgICAgIFwiblwiID09PSBrZXlbMV0gJiZcbiAgICAgICAgICAgICAgICAoKHByb3BzID0ga2V5LmVuZHNXaXRoKFwiQ2FwdHVyZVwiKSksXG4gICAgICAgICAgICAgICAgKHRhZyA9IGtleS5zbGljZSgyLCBwcm9wcyA/IGtleS5sZW5ndGggLSA3IDogdm9pZCAwKSksXG4gICAgICAgICAgICAgICAgKHByZXZWYWx1ZSA9IGRvbUVsZW1lbnRbaW50ZXJuYWxQcm9wc0tleV0gfHwgbnVsbCksXG4gICAgICAgICAgICAgICAgKHByZXZWYWx1ZSA9IG51bGwgIT0gcHJldlZhbHVlID8gcHJldlZhbHVlW2tleV0gOiBudWxsKSxcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcmV2VmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0YWcsIHByZXZWYWx1ZSwgcHJvcHMpLFxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHZhbHVlKVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBwcmV2VmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgIG51bGwgIT09IHByZXZWYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgKGtleSBpbiBkb21FbGVtZW50XG4gICAgICAgICAgICAgICAgICAgID8gKGRvbUVsZW1lbnRba2V5XSA9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIDogZG9tRWxlbWVudC5oYXNBdHRyaWJ1dGUoa2V5KSAmJlxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKGtleSkpO1xuICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0YWcsIHZhbHVlLCBwcm9wcyk7XG4gICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBrZXkgaW4gZG9tRWxlbWVudFxuICAgICAgICAgICAgICAgID8gKGRvbUVsZW1lbnRba2V5XSA9IHZhbHVlKVxuICAgICAgICAgICAgICAgIDogITAgPT09IHZhbHVlXG4gICAgICAgICAgICAgICAgICA/IGRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgXCJcIilcbiAgICAgICAgICAgICAgICAgIDogc2V0VmFsdWVGb3JBdHRyaWJ1dGUoZG9tRWxlbWVudCwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNldEluaXRpYWxQcm9wZXJ0aWVzKGRvbUVsZW1lbnQsIHRhZywgcHJvcHMpIHtcbiAgICAgIHZhbGlkYXRlUHJvcGVydGllc0luRGV2ZWxvcG1lbnQodGFnLCBwcm9wcyk7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIFwiZGl2XCI6XG4gICAgICAgIGNhc2UgXCJzcGFuXCI6XG4gICAgICAgIGNhc2UgXCJzdmdcIjpcbiAgICAgICAgY2FzZSBcInBhdGhcIjpcbiAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgY2FzZSBcImdcIjpcbiAgICAgICAgY2FzZSBcInBcIjpcbiAgICAgICAgY2FzZSBcImxpXCI6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiZXJyb3JcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImxvYWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgdmFyIGhhc1NyYyA9ICExLFxuICAgICAgICAgICAgaGFzU3JjU2V0ID0gITEsXG4gICAgICAgICAgICBwcm9wS2V5O1xuICAgICAgICAgIGZvciAocHJvcEtleSBpbiBwcm9wcylcbiAgICAgICAgICAgIGlmIChwcm9wcy5oYXNPd25Qcm9wZXJ0eShwcm9wS2V5KSkge1xuICAgICAgICAgICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcEtleV07XG4gICAgICAgICAgICAgIGlmIChudWxsICE9IHByb3BWYWx1ZSlcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3BLZXkpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzcmNcIjpcbiAgICAgICAgICAgICAgICAgICAgaGFzU3JjID0gITA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInNyY1NldFwiOlxuICAgICAgICAgICAgICAgICAgICBoYXNTcmNTZXQgPSAhMDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICB0YWcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2UgYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIHByb3BLZXksIHByb3BWYWx1ZSwgcHJvcHMsIG51bGwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBoYXNTcmNTZXQgJiZcbiAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBcInNyY1NldFwiLCBwcm9wcy5zcmNTZXQsIHByb3BzLCBudWxsKTtcbiAgICAgICAgICBoYXNTcmMgJiYgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIFwic3JjXCIsIHByb3BzLnNyYywgcHJvcHMsIG51bGwpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgICAgY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyhcImlucHV0XCIsIHByb3BzKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICB2YXIgZGVmYXVsdFZhbHVlID0gKHByb3BLZXkgPSBwcm9wVmFsdWUgPSBoYXNTcmNTZXQgPSBudWxsKSxcbiAgICAgICAgICAgIGNoZWNrZWQgPSBudWxsLFxuICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQgPSBudWxsO1xuICAgICAgICAgIGZvciAoaGFzU3JjIGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKHByb3BzLmhhc093blByb3BlcnR5KGhhc1NyYykpIHtcbiAgICAgICAgICAgICAgdmFyIF9wcm9wVmFsdWUgPSBwcm9wc1toYXNTcmNdO1xuICAgICAgICAgICAgICBpZiAobnVsbCAhPSBfcHJvcFZhbHVlKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoaGFzU3JjKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwibmFtZVwiOlxuICAgICAgICAgICAgICAgICAgICBoYXNTcmNTZXQgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0eXBlXCI6XG4gICAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZSA9IF9wcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCA9IF9wcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRDaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkID0gX3Byb3BWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSA9IF9wcm9wVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBfcHJvcFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IF9wcm9wVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgaGFzU3JjLCBfcHJvcFZhbHVlLCBwcm9wcywgbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIHZhbGlkYXRlSW5wdXRQcm9wcyhkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICAgICAgaW5pdElucHV0KFxuICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICBjaGVja2VkLFxuICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQsXG4gICAgICAgICAgICBwcm9wVmFsdWUsXG4gICAgICAgICAgICBoYXNTcmNTZXQsXG4gICAgICAgICAgICAhMVxuICAgICAgICAgICk7XG4gICAgICAgICAgdHJhY2soZG9tRWxlbWVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyhcInNlbGVjdFwiLCBwcm9wcyk7XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImludmFsaWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgaGFzU3JjID0gcHJvcFZhbHVlID0gcHJvcEtleSA9IG51bGw7XG4gICAgICAgICAgZm9yIChoYXNTcmNTZXQgaW4gcHJvcHMpXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KGhhc1NyY1NldCkgJiZcbiAgICAgICAgICAgICAgKChkZWZhdWx0VmFsdWUgPSBwcm9wc1toYXNTcmNTZXRdKSwgbnVsbCAhPSBkZWZhdWx0VmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAoaGFzU3JjU2V0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBwcm9wS2V5ID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm11bHRpcGxlXCI6XG4gICAgICAgICAgICAgICAgICBoYXNTcmMgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgaGFzU3JjU2V0LFxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BzLFxuICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgdmFsaWRhdGVTZWxlY3RQcm9wcyhkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICAgICAgdGFnID0gcHJvcEtleTtcbiAgICAgICAgICBwcm9wcyA9IHByb3BWYWx1ZTtcbiAgICAgICAgICBkb21FbGVtZW50Lm11bHRpcGxlID0gISFoYXNTcmM7XG4gICAgICAgICAgbnVsbCAhPSB0YWdcbiAgICAgICAgICAgID8gdXBkYXRlT3B0aW9ucyhkb21FbGVtZW50LCAhIWhhc1NyYywgdGFnLCAhMSlcbiAgICAgICAgICAgIDogbnVsbCAhPSBwcm9wcyAmJiB1cGRhdGVPcHRpb25zKGRvbUVsZW1lbnQsICEhaGFzU3JjLCBwcm9wcywgITApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSBcInRleHRhcmVhXCI6XG4gICAgICAgICAgY2hlY2tDb250cm9sbGVkVmFsdWVQcm9wcyhcInRleHRhcmVhXCIsIHByb3BzKTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiaW52YWxpZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBwcm9wS2V5ID0gaGFzU3JjU2V0ID0gaGFzU3JjID0gbnVsbDtcbiAgICAgICAgICBmb3IgKHByb3BWYWx1ZSBpbiBwcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkocHJvcFZhbHVlKSAmJlxuICAgICAgICAgICAgICAoKGRlZmF1bHRWYWx1ZSA9IHByb3BzW3Byb3BWYWx1ZV0pLCBudWxsICE9IGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChwcm9wVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGhhc1NyYyA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGhhc1NyY1NldCA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgcHJvcEtleSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gZGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcImBkYW5nZXJvdXNseVNldElubmVySFRNTGAgZG9lcyBub3QgbWFrZSBzZW5zZSBvbiA8dGV4dGFyZWE+LlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBwcm9wVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIG51bGxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB2YWxpZGF0ZVRleHRhcmVhUHJvcHMoZG9tRWxlbWVudCwgcHJvcHMpO1xuICAgICAgICAgIGluaXRUZXh0YXJlYShkb21FbGVtZW50LCBoYXNTcmMsIGhhc1NyY1NldCwgcHJvcEtleSk7XG4gICAgICAgICAgdHJhY2soZG9tRWxlbWVudCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwib3B0aW9uXCI6XG4gICAgICAgICAgdmFsaWRhdGVPcHRpb25Qcm9wcyhkb21FbGVtZW50LCBwcm9wcyk7XG4gICAgICAgICAgZm9yIChjaGVja2VkIGluIHByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBwcm9wcy5oYXNPd25Qcm9wZXJ0eShjaGVja2VkKSAmJlxuICAgICAgICAgICAgICAoKGhhc1NyYyA9IHByb3BzW2NoZWNrZWRdKSwgbnVsbCAhPSBoYXNTcmMpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAoY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZWxlY3RlZCA9XG4gICAgICAgICAgICAgICAgICAgIGhhc1NyYyAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBoYXNTcmMgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIGhhc1NyYztcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKGRvbUVsZW1lbnQsIHRhZywgY2hlY2tlZCwgaGFzU3JjLCBwcm9wcywgbnVsbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJkaWFsb2dcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwiY2FuY2VsXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJjbG9zZVwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlmcmFtZVwiOlxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChcImxvYWRcIiwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICBjYXNlIFwiYXVkaW9cIjpcbiAgICAgICAgICBmb3IgKGhhc1NyYyA9IDA7IGhhc1NyYyA8IG1lZGlhRXZlbnRUeXBlcy5sZW5ndGg7IGhhc1NyYysrKVxuICAgICAgICAgICAgbGlzdGVuVG9Ob25EZWxlZ2F0ZWRFdmVudChtZWRpYUV2ZW50VHlwZXNbaGFzU3JjXSwgZG9tRWxlbWVudCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJlcnJvclwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwibG9hZFwiLCBkb21FbGVtZW50KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRldGFpbHNcIjpcbiAgICAgICAgICBsaXN0ZW5Ub05vbkRlbGVnYXRlZEV2ZW50KFwidG9nZ2xlXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZW1iZWRcIjpcbiAgICAgICAgY2FzZSBcInNvdXJjZVwiOlxuICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJlcnJvclwiLCBkb21FbGVtZW50KSxcbiAgICAgICAgICAgIGxpc3RlblRvTm9uRGVsZWdhdGVkRXZlbnQoXCJsb2FkXCIsIGRvbUVsZW1lbnQpO1xuICAgICAgICBjYXNlIFwiYXJlYVwiOlxuICAgICAgICBjYXNlIFwiYmFzZVwiOlxuICAgICAgICBjYXNlIFwiYnJcIjpcbiAgICAgICAgY2FzZSBcImNvbFwiOlxuICAgICAgICBjYXNlIFwiaHJcIjpcbiAgICAgICAgY2FzZSBcImtleWdlblwiOlxuICAgICAgICBjYXNlIFwibWV0YVwiOlxuICAgICAgICBjYXNlIFwicGFyYW1cIjpcbiAgICAgICAgY2FzZSBcInRyYWNrXCI6XG4gICAgICAgIGNhc2UgXCJ3YnJcIjpcbiAgICAgICAgY2FzZSBcIm1lbnVpdGVtXCI6XG4gICAgICAgICAgZm9yIChkZWZhdWx0Q2hlY2tlZCBpbiBwcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkoZGVmYXVsdENoZWNrZWQpICYmXG4gICAgICAgICAgICAgICgoaGFzU3JjID0gcHJvcHNbZGVmYXVsdENoZWNrZWRdKSwgbnVsbCAhPSBoYXNTcmMpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAoZGVmYXVsdENoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICB0YWcgK1xuICAgICAgICAgICAgICAgICAgICAgIFwiIGlzIGEgdm9pZCBlbGVtZW50IHRhZyBhbmQgbXVzdCBuZWl0aGVyIGhhdmUgYGNoaWxkcmVuYCBub3IgdXNlIGBkYW5nZXJvdXNseVNldElubmVySFRNTGAuXCJcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBkZWZhdWx0Q2hlY2tlZCwgaGFzU3JjLCBwcm9wcywgbnVsbCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKGlzQ3VzdG9tRWxlbWVudCh0YWcpKSB7XG4gICAgICAgICAgICBmb3IgKF9wcm9wVmFsdWUgaW4gcHJvcHMpXG4gICAgICAgICAgICAgIHByb3BzLmhhc093blByb3BlcnR5KF9wcm9wVmFsdWUpICYmXG4gICAgICAgICAgICAgICAgKChoYXNTcmMgPSBwcm9wc1tfcHJvcFZhbHVlXSksXG4gICAgICAgICAgICAgICAgdm9pZCAwICE9PSBoYXNTcmMgJiZcbiAgICAgICAgICAgICAgICAgIHNldFByb3BPbkN1c3RvbUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaGFzU3JjLFxuICAgICAgICAgICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgdm9pZCAwXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKGRlZmF1bHRWYWx1ZSBpbiBwcm9wcylcbiAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkoZGVmYXVsdFZhbHVlKSAmJlxuICAgICAgICAgICgoaGFzU3JjID0gcHJvcHNbZGVmYXVsdFZhbHVlXSksXG4gICAgICAgICAgbnVsbCAhPSBoYXNTcmMgJiZcbiAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBkZWZhdWx0VmFsdWUsIGhhc1NyYywgcHJvcHMsIG51bGwpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlUHJvcGVydGllcyhkb21FbGVtZW50LCB0YWcsIGxhc3RQcm9wcywgbmV4dFByb3BzKSB7XG4gICAgICB2YWxpZGF0ZVByb3BlcnRpZXNJbkRldmVsb3BtZW50KHRhZywgbmV4dFByb3BzKTtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgXCJkaXZcIjpcbiAgICAgICAgY2FzZSBcInNwYW5cIjpcbiAgICAgICAgY2FzZSBcInN2Z1wiOlxuICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICBjYXNlIFwiYVwiOlxuICAgICAgICBjYXNlIFwiZ1wiOlxuICAgICAgICBjYXNlIFwicFwiOlxuICAgICAgICBjYXNlIFwibGlcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImlucHV0XCI6XG4gICAgICAgICAgdmFyIG5hbWUgPSBudWxsLFxuICAgICAgICAgICAgdHlwZSA9IG51bGwsXG4gICAgICAgICAgICB2YWx1ZSA9IG51bGwsXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWUgPSBudWxsLFxuICAgICAgICAgICAgbGFzdERlZmF1bHRWYWx1ZSA9IG51bGwsXG4gICAgICAgICAgICBjaGVja2VkID0gbnVsbCxcbiAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkID0gbnVsbDtcbiAgICAgICAgICBmb3IgKHByb3BLZXkgaW4gbGFzdFByb3BzKSB7XG4gICAgICAgICAgICB2YXIgbGFzdFByb3AgPSBsYXN0UHJvcHNbcHJvcEtleV07XG4gICAgICAgICAgICBpZiAobGFzdFByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpICYmIG51bGwgIT0gbGFzdFByb3ApXG4gICAgICAgICAgICAgIHN3aXRjaCAocHJvcEtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGxhc3REZWZhdWx0VmFsdWUgPSBsYXN0UHJvcDtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KHByb3BLZXkpIHx8XG4gICAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgICBsYXN0UHJvcFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAodmFyIF9wcm9wS2V5OCBpbiBuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBwcm9wS2V5ID0gbmV4dFByb3BzW19wcm9wS2V5OF07XG4gICAgICAgICAgICBsYXN0UHJvcCA9IGxhc3RQcm9wc1tfcHJvcEtleThdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXk4KSAmJlxuICAgICAgICAgICAgICAobnVsbCAhPSBwcm9wS2V5IHx8IG51bGwgIT0gbGFzdFByb3ApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAoX3Byb3BLZXk4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInR5cGVcIjpcbiAgICAgICAgICAgICAgICAgIHR5cGUgPSBwcm9wS2V5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5hbWVcIjpcbiAgICAgICAgICAgICAgICAgIG5hbWUgPSBwcm9wS2V5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICAgIGNoZWNrZWQgPSBwcm9wS2V5O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRDaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0Q2hlY2tlZCA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gcHJvcEtleTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IHByb3BLZXk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9IHByb3BLZXkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyArXG4gICAgICAgICAgICAgICAgICAgICAgICBcIiBpcyBhIHZvaWQgZWxlbWVudCB0YWcgYW5kIG11c3QgbmVpdGhlciBoYXZlIGBjaGlsZHJlbmAgbm9yIHVzZSBgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgLlwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgcHJvcEtleSAhPT0gbGFzdFByb3AgJiZcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTgsXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdFByb3BcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0YWcgPVxuICAgICAgICAgICAgXCJjaGVja2JveFwiID09PSBsYXN0UHJvcHMudHlwZSB8fCBcInJhZGlvXCIgPT09IGxhc3RQcm9wcy50eXBlXG4gICAgICAgICAgICAgID8gbnVsbCAhPSBsYXN0UHJvcHMuY2hlY2tlZFxuICAgICAgICAgICAgICA6IG51bGwgIT0gbGFzdFByb3BzLnZhbHVlO1xuICAgICAgICAgIG5leHRQcm9wcyA9XG4gICAgICAgICAgICBcImNoZWNrYm94XCIgPT09IG5leHRQcm9wcy50eXBlIHx8IFwicmFkaW9cIiA9PT0gbmV4dFByb3BzLnR5cGVcbiAgICAgICAgICAgICAgPyBudWxsICE9IG5leHRQcm9wcy5jaGVja2VkXG4gICAgICAgICAgICAgIDogbnVsbCAhPSBuZXh0UHJvcHMudmFsdWU7XG4gICAgICAgICAgdGFnIHx8XG4gICAgICAgICAgICAhbmV4dFByb3BzIHx8XG4gICAgICAgICAgICBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkIHx8XG4gICAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJBIGNvbXBvbmVudCBpcyBjaGFuZ2luZyBhbiB1bmNvbnRyb2xsZWQgaW5wdXQgdG8gYmUgY29udHJvbGxlZC4gVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IHRoZSB2YWx1ZSBjaGFuZ2luZyBmcm9tIHVuZGVmaW5lZCB0byBhIGRlZmluZWQgdmFsdWUsIHdoaWNoIHNob3VsZCBub3QgaGFwcGVuLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGlucHV0IGVsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50LiBNb3JlIGluZm86IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvY29udHJvbGxlZC1jb21wb25lbnRzXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAoZGlkV2FyblVuY29udHJvbGxlZFRvQ29udHJvbGxlZCA9ICEwKSk7XG4gICAgICAgICAgIXRhZyB8fFxuICAgICAgICAgICAgbmV4dFByb3BzIHx8XG4gICAgICAgICAgICBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkIHx8XG4gICAgICAgICAgICAoY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJBIGNvbXBvbmVudCBpcyBjaGFuZ2luZyBhIGNvbnRyb2xsZWQgaW5wdXQgdG8gYmUgdW5jb250cm9sbGVkLiBUaGlzIGlzIGxpa2VseSBjYXVzZWQgYnkgdGhlIHZhbHVlIGNoYW5naW5nIGZyb20gYSBkZWZpbmVkIHRvIHVuZGVmaW5lZCwgd2hpY2ggc2hvdWxkIG5vdCBoYXBwZW4uIERlY2lkZSBiZXR3ZWVuIHVzaW5nIGEgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQgaW5wdXQgZWxlbWVudCBmb3IgdGhlIGxpZmV0aW1lIG9mIHRoZSBjb21wb25lbnQuIE1vcmUgaW5mbzogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9jb250cm9sbGVkLWNvbXBvbmVudHNcIlxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIChkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gITApKTtcbiAgICAgICAgICB1cGRhdGVJbnB1dChcbiAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgICAgICAgIGxhc3REZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICBjaGVja2VkLFxuICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbmFtZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgICAgcHJvcEtleSA9IHZhbHVlID0gZGVmYXVsdFZhbHVlID0gX3Byb3BLZXk4ID0gbnVsbDtcbiAgICAgICAgICBmb3IgKHR5cGUgaW4gbGFzdFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKGxhc3REZWZhdWx0VmFsdWUgPSBsYXN0UHJvcHNbdHlwZV0pLFxuICAgICAgICAgICAgICBsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkodHlwZSkgJiYgbnVsbCAhPSBsYXN0RGVmYXVsdFZhbHVlKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZVwiOlxuICAgICAgICAgICAgICAgICAgcHJvcEtleSA9IGxhc3REZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSB8fFxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdERlZmF1bHRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgZm9yIChuYW1lIGluIG5leHRQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKCh0eXBlID0gbmV4dFByb3BzW25hbWVdKSxcbiAgICAgICAgICAgICAgKGxhc3REZWZhdWx0VmFsdWUgPSBsYXN0UHJvcHNbbmFtZV0pLFxuICAgICAgICAgICAgICBuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkobmFtZSkgJiZcbiAgICAgICAgICAgICAgICAobnVsbCAhPSB0eXBlIHx8IG51bGwgIT0gbGFzdERlZmF1bHRWYWx1ZSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ2YWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4ID0gdHlwZTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0VmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gdHlwZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgdHlwZSAhPT0gbGFzdERlZmF1bHRWYWx1ZSAmJlxuICAgICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgbGFzdERlZmF1bHRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgbmV4dFByb3BzID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICAgIHRhZyA9IHZhbHVlO1xuICAgICAgICAgIGxhc3RQcm9wcyA9IHByb3BLZXk7XG4gICAgICAgICAgbnVsbCAhPSBfcHJvcEtleThcbiAgICAgICAgICAgID8gdXBkYXRlT3B0aW9ucyhkb21FbGVtZW50LCAhIXRhZywgX3Byb3BLZXk4LCAhMSlcbiAgICAgICAgICAgIDogISFsYXN0UHJvcHMgIT09ICEhdGFnICYmXG4gICAgICAgICAgICAgIChudWxsICE9IG5leHRQcm9wc1xuICAgICAgICAgICAgICAgID8gdXBkYXRlT3B0aW9ucyhkb21FbGVtZW50LCAhIXRhZywgbmV4dFByb3BzLCAhMClcbiAgICAgICAgICAgICAgICA6IHVwZGF0ZU9wdGlvbnMoZG9tRWxlbWVudCwgISF0YWcsIHRhZyA/IFtdIDogXCJcIiwgITEpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgICAgIHByb3BLZXkgPSBfcHJvcEtleTggPSBudWxsO1xuICAgICAgICAgIGZvciAoZGVmYXVsdFZhbHVlIGluIGxhc3RQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChuYW1lID0gbGFzdFByb3BzW2RlZmF1bHRWYWx1ZV0pLFxuICAgICAgICAgICAgICBsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkoZGVmYXVsdFZhbHVlKSAmJlxuICAgICAgICAgICAgICAgIG51bGwgIT0gbmFtZSAmJlxuICAgICAgICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoZGVmYXVsdFZhbHVlKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgc3dpdGNoIChkZWZhdWx0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwidmFsdWVcIjpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoZG9tRWxlbWVudCwgdGFnLCBkZWZhdWx0VmFsdWUsIG51bGwsIG5leHRQcm9wcywgbmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKHZhbHVlIGluIG5leHRQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChuYW1lID0gbmV4dFByb3BzW3ZhbHVlXSksXG4gICAgICAgICAgICAgICh0eXBlID0gbGFzdFByb3BzW3ZhbHVlXSksXG4gICAgICAgICAgICAgIG5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkgJiYgKG51bGwgIT0gbmFtZSB8fCBudWxsICE9IHR5cGUpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBfcHJvcEtleTggPSBuYW1lO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRWYWx1ZVwiOlxuICAgICAgICAgICAgICAgICAgcHJvcEtleSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gbmFtZSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxgIGRvZXMgbm90IG1ha2Ugc2Vuc2Ugb24gPHRleHRhcmVhPi5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIG5hbWUgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIHZhbHVlLCBuYW1lLCBuZXh0UHJvcHMsIHR5cGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgdXBkYXRlVGV4dGFyZWEoZG9tRWxlbWVudCwgX3Byb3BLZXk4LCBwcm9wS2V5KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgXCJvcHRpb25cIjpcbiAgICAgICAgICBmb3IgKHZhciBfcHJvcEtleTEzIGluIGxhc3RQcm9wcylcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKChfcHJvcEtleTggPSBsYXN0UHJvcHNbX3Byb3BLZXkxM10pLFxuICAgICAgICAgICAgICBsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxMykgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9IF9wcm9wS2V5OCAmJlxuICAgICAgICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxMykpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAoX3Byb3BLZXkxMykge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZWxlY3RlZCA9ICExO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXkxMyxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleThcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICBmb3IgKGxhc3REZWZhdWx0VmFsdWUgaW4gbmV4dFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKF9wcm9wS2V5OCA9IG5leHRQcm9wc1tsYXN0RGVmYXVsdFZhbHVlXSksXG4gICAgICAgICAgICAgIChwcm9wS2V5ID0gbGFzdFByb3BzW2xhc3REZWZhdWx0VmFsdWVdKSxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KGxhc3REZWZhdWx0VmFsdWUpICYmXG4gICAgICAgICAgICAgICAgX3Byb3BLZXk4ICE9PSBwcm9wS2V5ICYmXG4gICAgICAgICAgICAgICAgKG51bGwgIT0gX3Byb3BLZXk4IHx8IG51bGwgIT0gcHJvcEtleSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAobGFzdERlZmF1bHRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzZWxlY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5zZWxlY3RlZCA9XG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCAmJlxuICAgICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBfcHJvcEtleTggJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzeW1ib2xcIiAhPT0gdHlwZW9mIF9wcm9wS2V5ODtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIGxhc3REZWZhdWx0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIF9wcm9wS2V5OCxcbiAgICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlIFwiaW1nXCI6XG4gICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgIGNhc2UgXCJhcmVhXCI6XG4gICAgICAgIGNhc2UgXCJiYXNlXCI6XG4gICAgICAgIGNhc2UgXCJiclwiOlxuICAgICAgICBjYXNlIFwiY29sXCI6XG4gICAgICAgIGNhc2UgXCJlbWJlZFwiOlxuICAgICAgICBjYXNlIFwiaHJcIjpcbiAgICAgICAgY2FzZSBcImtleWdlblwiOlxuICAgICAgICBjYXNlIFwibWV0YVwiOlxuICAgICAgICBjYXNlIFwicGFyYW1cIjpcbiAgICAgICAgY2FzZSBcInNvdXJjZVwiOlxuICAgICAgICBjYXNlIFwidHJhY2tcIjpcbiAgICAgICAgY2FzZSBcIndiclwiOlxuICAgICAgICBjYXNlIFwibWVudWl0ZW1cIjpcbiAgICAgICAgICBmb3IgKHZhciBfcHJvcEtleTE1IGluIGxhc3RQcm9wcylcbiAgICAgICAgICAgIChfcHJvcEtleTggPSBsYXN0UHJvcHNbX3Byb3BLZXkxNV0pLFxuICAgICAgICAgICAgICBsYXN0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxNSkgJiZcbiAgICAgICAgICAgICAgICBudWxsICE9IF9wcm9wS2V5OCAmJlxuICAgICAgICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoX3Byb3BLZXkxNSkgJiZcbiAgICAgICAgICAgICAgICBzZXRQcm9wKFxuICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgIF9wcm9wS2V5MTUsXG4gICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgbmV4dFByb3BzLFxuICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICBmb3IgKGNoZWNrZWQgaW4gbmV4dFByb3BzKVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKF9wcm9wS2V5OCA9IG5leHRQcm9wc1tjaGVja2VkXSksXG4gICAgICAgICAgICAgIChwcm9wS2V5ID0gbGFzdFByb3BzW2NoZWNrZWRdKSxcbiAgICAgICAgICAgICAgbmV4dFByb3BzLmhhc093blByb3BlcnR5KGNoZWNrZWQpICYmXG4gICAgICAgICAgICAgICAgX3Byb3BLZXk4ICE9PSBwcm9wS2V5ICYmXG4gICAgICAgICAgICAgICAgKG51bGwgIT0gX3Byb3BLZXk4IHx8IG51bGwgIT0gcHJvcEtleSkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHN3aXRjaCAoY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjaGlsZHJlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gX3Byb3BLZXk4KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICB0YWcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCIgaXMgYSB2b2lkIGVsZW1lbnQgdGFnIGFuZCBtdXN0IG5laXRoZXIgaGF2ZSBgY2hpbGRyZW5gIG5vciB1c2UgYGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MYC5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIHNldFByb3AoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhZyxcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tlZCxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4LFxuICAgICAgICAgICAgICAgICAgICBuZXh0UHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKGlzQ3VzdG9tRWxlbWVudCh0YWcpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfcHJvcEtleTE3IGluIGxhc3RQcm9wcylcbiAgICAgICAgICAgICAgKF9wcm9wS2V5OCA9IGxhc3RQcm9wc1tfcHJvcEtleTE3XSksXG4gICAgICAgICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTcpICYmXG4gICAgICAgICAgICAgICAgICB2b2lkIDAgIT09IF9wcm9wS2V5OCAmJlxuICAgICAgICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE3KSAmJlxuICAgICAgICAgICAgICAgICAgc2V0UHJvcE9uQ3VzdG9tRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFnLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTE3LFxuICAgICAgICAgICAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgX3Byb3BLZXk4XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZm9yIChkZWZhdWx0Q2hlY2tlZCBpbiBuZXh0UHJvcHMpXG4gICAgICAgICAgICAgIChfcHJvcEtleTggPSBuZXh0UHJvcHNbZGVmYXVsdENoZWNrZWRdKSxcbiAgICAgICAgICAgICAgICAocHJvcEtleSA9IGxhc3RQcm9wc1tkZWZhdWx0Q2hlY2tlZF0pLFxuICAgICAgICAgICAgICAgICFuZXh0UHJvcHMuaGFzT3duUHJvcGVydHkoZGVmYXVsdENoZWNrZWQpIHx8XG4gICAgICAgICAgICAgICAgICBfcHJvcEtleTggPT09IHByb3BLZXkgfHxcbiAgICAgICAgICAgICAgICAgICh2b2lkIDAgPT09IF9wcm9wS2V5OCAmJiB2b2lkIDAgPT09IHByb3BLZXkpIHx8XG4gICAgICAgICAgICAgICAgICBzZXRQcm9wT25DdXN0b21FbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0YWcsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDaGVja2VkLFxuICAgICAgICAgICAgICAgICAgICBfcHJvcEtleTgsXG4gICAgICAgICAgICAgICAgICAgIG5leHRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBfcHJvcEtleTE5IGluIGxhc3RQcm9wcylcbiAgICAgICAgKF9wcm9wS2V5OCA9IGxhc3RQcm9wc1tfcHJvcEtleTE5XSksXG4gICAgICAgICAgbGFzdFByb3BzLmhhc093blByb3BlcnR5KF9wcm9wS2V5MTkpICYmXG4gICAgICAgICAgICBudWxsICE9IF9wcm9wS2V5OCAmJlxuICAgICAgICAgICAgIW5leHRQcm9wcy5oYXNPd25Qcm9wZXJ0eShfcHJvcEtleTE5KSAmJlxuICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIF9wcm9wS2V5MTksIG51bGwsIG5leHRQcm9wcywgX3Byb3BLZXk4KTtcbiAgICAgIGZvciAobGFzdFByb3AgaW4gbmV4dFByb3BzKVxuICAgICAgICAoX3Byb3BLZXk4ID0gbmV4dFByb3BzW2xhc3RQcm9wXSksXG4gICAgICAgICAgKHByb3BLZXkgPSBsYXN0UHJvcHNbbGFzdFByb3BdKSxcbiAgICAgICAgICAhbmV4dFByb3BzLmhhc093blByb3BlcnR5KGxhc3RQcm9wKSB8fFxuICAgICAgICAgICAgX3Byb3BLZXk4ID09PSBwcm9wS2V5IHx8XG4gICAgICAgICAgICAobnVsbCA9PSBfcHJvcEtleTggJiYgbnVsbCA9PSBwcm9wS2V5KSB8fFxuICAgICAgICAgICAgc2V0UHJvcChkb21FbGVtZW50LCB0YWcsIGxhc3RQcm9wLCBfcHJvcEtleTgsIG5leHRQcm9wcywgcHJvcEtleSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFByb3BOYW1lRnJvbUF0dHJpYnV0ZU5hbWUoYXR0ck5hbWUpIHtcbiAgICAgIHN3aXRjaCAoYXR0ck5hbWUpIHtcbiAgICAgICAgY2FzZSBcImNsYXNzXCI6XG4gICAgICAgICAgcmV0dXJuIFwiY2xhc3NOYW1lXCI7XG4gICAgICAgIGNhc2UgXCJmb3JcIjpcbiAgICAgICAgICByZXR1cm4gXCJodG1sRm9yXCI7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGF0dHJOYW1lO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdHlsZXNPYmplY3RGcm9tRWxlbWVudChkb21FbGVtZW50KSB7XG4gICAgICB2YXIgc2VydmVyVmFsdWVJbk9iamVjdEZvcm0gPSB7fTtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb21FbGVtZW50LnN0eWxlO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb21FbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBzdHlsZU5hbWUgPSBkb21FbGVtZW50W2ldO1xuICAgICAgICBzZXJ2ZXJWYWx1ZUluT2JqZWN0Rm9ybVtzdHlsZU5hbWVdID1cbiAgICAgICAgICBkb21FbGVtZW50LmdldFByb3BlcnR5VmFsdWUoc3R5bGVOYW1lKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXJ2ZXJWYWx1ZUluT2JqZWN0Rm9ybTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZkh5ZHJhdGVkU3R5bGVzKGRvbUVsZW1lbnQsIHZhbHVlJGpzY29tcCQwLCBzZXJ2ZXJEaWZmZXJlbmNlcykge1xuICAgICAgaWYgKG51bGwgIT0gdmFsdWUkanNjb21wJDAgJiYgXCJvYmplY3RcIiAhPT0gdHlwZW9mIHZhbHVlJGpzY29tcCQwKVxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVGhlIGBzdHlsZWAgcHJvcCBleHBlY3RzIGEgbWFwcGluZyBmcm9tIHN0eWxlIHByb3BlcnRpZXMgdG8gdmFsdWVzLCBub3QgYSBzdHJpbmcuIEZvciBleGFtcGxlLCBzdHlsZT17e21hcmdpblJpZ2h0OiBzcGFjaW5nICsgJ2VtJ319IHdoZW4gdXNpbmcgSlNYLlwiXG4gICAgICAgICk7XG4gICAgICBlbHNlIGlmIChjYW5EaWZmU3R5bGVGb3JIeWRyYXRpb25XYXJuaW5nKSB7XG4gICAgICAgIHZhciBjbGllbnRWYWx1ZTtcbiAgICAgICAgdmFyIGRlbGltaXRlciA9IChjbGllbnRWYWx1ZSA9IFwiXCIpLFxuICAgICAgICAgIHN0eWxlTmFtZTtcbiAgICAgICAgZm9yIChzdHlsZU5hbWUgaW4gdmFsdWUkanNjb21wJDApXG4gICAgICAgICAgaWYgKHZhbHVlJGpzY29tcCQwLmhhc093blByb3BlcnR5KHN0eWxlTmFtZSkpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZhbHVlJGpzY29tcCQwW3N0eWxlTmFtZV07XG4gICAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAgIFwiYm9vbGVhblwiICE9PSB0eXBlb2YgdmFsdWUgJiZcbiAgICAgICAgICAgICAgXCJcIiAhPT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgKDAgPT09IHN0eWxlTmFtZS5pbmRleE9mKFwiLS1cIilcbiAgICAgICAgICAgICAgICA/IChjaGVja0NTU1Byb3BlcnR5U3RyaW5nQ29lcmNpb24odmFsdWUsIHN0eWxlTmFtZSksXG4gICAgICAgICAgICAgICAgICAoY2xpZW50VmFsdWUgKz1cbiAgICAgICAgICAgICAgICAgICAgZGVsaW1pdGVyICsgc3R5bGVOYW1lICsgXCI6XCIgKyAoXCJcIiArIHZhbHVlKS50cmltKCkpKVxuICAgICAgICAgICAgICAgIDogXCJudW1iZXJcIiAhPT0gdHlwZW9mIHZhbHVlIHx8XG4gICAgICAgICAgICAgICAgICAgIDAgPT09IHZhbHVlIHx8XG4gICAgICAgICAgICAgICAgICAgIHVuaXRsZXNzTnVtYmVycy5oYXMoc3R5bGVOYW1lKVxuICAgICAgICAgICAgICAgICAgPyAoY2hlY2tDU1NQcm9wZXJ0eVN0cmluZ0NvZXJjaW9uKHZhbHVlLCBzdHlsZU5hbWUpLFxuICAgICAgICAgICAgICAgICAgICAoY2xpZW50VmFsdWUgKz1cbiAgICAgICAgICAgICAgICAgICAgICBkZWxpbWl0ZXIgK1xuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlTmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UodXBwZXJjYXNlUGF0dGVybiwgXCItJDFcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShtc1BhdHRlcm4kMSwgXCItbXMtXCIpICtcbiAgICAgICAgICAgICAgICAgICAgICBcIjpcIiArXG4gICAgICAgICAgICAgICAgICAgICAgKFwiXCIgKyB2YWx1ZSkudHJpbSgpKSlcbiAgICAgICAgICAgICAgICAgIDogKGNsaWVudFZhbHVlICs9XG4gICAgICAgICAgICAgICAgICAgICAgZGVsaW1pdGVyICtcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZU5hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHVwcGVyY2FzZVBhdHRlcm4sIFwiLSQxXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UobXNQYXR0ZXJuJDEsIFwiLW1zLVwiKSArXG4gICAgICAgICAgICAgICAgICAgICAgXCI6XCIgK1xuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICtcbiAgICAgICAgICAgICAgICAgICAgICBcInB4XCIpLFxuICAgICAgICAgICAgICAoZGVsaW1pdGVyID0gXCI7XCIpKTtcbiAgICAgICAgICB9XG4gICAgICAgIGNsaWVudFZhbHVlID0gY2xpZW50VmFsdWUgfHwgbnVsbDtcbiAgICAgICAgdmFsdWUkanNjb21wJDAgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO1xuICAgICAgICB2YWx1ZSRqc2NvbXAkMCAhPT0gY2xpZW50VmFsdWUgJiZcbiAgICAgICAgICAoKGNsaWVudFZhbHVlID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKGNsaWVudFZhbHVlKSksXG4gICAgICAgICAgbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHZhbHVlJGpzY29tcCQwKSAhPT0gY2xpZW50VmFsdWUgJiZcbiAgICAgICAgICAgIChzZXJ2ZXJEaWZmZXJlbmNlcy5zdHlsZSA9IGdldFN0eWxlc09iamVjdEZyb21FbGVtZW50KGRvbUVsZW1lbnQpKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICBkb21FbGVtZW50LFxuICAgICAgcHJvcEtleSxcbiAgICAgIGF0dHJpYnV0ZU5hbWUsXG4gICAgICB2YWx1ZSxcbiAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgKSB7XG4gICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgaWYgKG51bGwgPT09IGRvbUVsZW1lbnQpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBlbHNlIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIHByb3BLZXkpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50ID09PSBcIlwiICsgdmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIGRvbUVsZW1lbnQsIHZhbHVlLCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGh5ZHJhdGVCb29sZWFuQXR0cmlidXRlKFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIHByb3BLZXksXG4gICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGlmIChudWxsID09PSBkb21FbGVtZW50KSB7XG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdmFsdWUpIHJldHVybjtcbiAgICAgIH0gZWxzZVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAodmFsdWUpIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIGRvbUVsZW1lbnQsIHZhbHVlLCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGh5ZHJhdGVCb29sZWFuaXNoQXR0cmlidXRlKFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIHByb3BLZXksXG4gICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGlmIChudWxsID09PSBkb21FbGVtZW50KVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG51bGwgIT0gdmFsdWUpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24odmFsdWUsIGF0dHJpYnV0ZU5hbWUpLFxuICAgICAgICAgICAgICBkb21FbGVtZW50ID09PSBcIlwiICsgdmFsdWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIGRvbUVsZW1lbnQsIHZhbHVlLCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGh5ZHJhdGVOdW1lcmljQXR0cmlidXRlKFxuICAgICAgZG9tRWxlbWVudCxcbiAgICAgIHByb3BLZXksXG4gICAgICBhdHRyaWJ1dGVOYW1lLFxuICAgICAgdmFsdWUsXG4gICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICkge1xuICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgIGlmIChudWxsID09PSBkb21FbGVtZW50KVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKGlzTmFOKHZhbHVlKSkgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICBlbHNlIGlmIChudWxsICE9IHZhbHVlKVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xuICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgIWlzTmFOKHZhbHVlKSAmJlxuICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgcHJvcEtleSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQgPT09IFwiXCIgKyB2YWx1ZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UocHJvcEtleSwgZG9tRWxlbWVudCwgdmFsdWUsIHNlcnZlckRpZmZlcmVuY2VzKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHlkcmF0ZVNhbml0aXplZEF0dHJpYnV0ZShcbiAgICAgIGRvbUVsZW1lbnQsXG4gICAgICBwcm9wS2V5LFxuICAgICAgYXR0cmlidXRlTmFtZSxcbiAgICAgIHZhbHVlLFxuICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICApIHtcbiAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSk7XG4gICAgICBpZiAobnVsbCA9PT0gZG9tRWxlbWVudClcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIGVsc2UgaWYgKG51bGwgIT0gdmFsdWUpXG4gICAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbih2YWx1ZSwgcHJvcEtleSksXG4gICAgICAgICAgICAgIChhdHRyaWJ1dGVOYW1lID0gc2FuaXRpemVVUkwoXCJcIiArIHZhbHVlKSksXG4gICAgICAgICAgICAgIGRvbUVsZW1lbnQgPT09IGF0dHJpYnV0ZU5hbWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKHByb3BLZXksIGRvbUVsZW1lbnQsIHZhbHVlLCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZIeWRyYXRlZFByb3BlcnRpZXMoZG9tRWxlbWVudCwgdGFnLCBwcm9wcywgaG9zdENvbnRleHQpIHtcbiAgICAgIGZvciAoXG4gICAgICAgIHZhciBzZXJ2ZXJEaWZmZXJlbmNlcyA9IHt9LFxuICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyA9IG5ldyBTZXQoKSxcbiAgICAgICAgICBhdHRyaWJ1dGVzID0gZG9tRWxlbWVudC5hdHRyaWJ1dGVzLFxuICAgICAgICAgIGkgPSAwO1xuICAgICAgICBpIDwgYXR0cmlidXRlcy5sZW5ndGg7XG4gICAgICAgIGkrK1xuICAgICAgKVxuICAgICAgICBzd2l0Y2ggKGF0dHJpYnV0ZXNbaV0ubmFtZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwiY2hlY2tlZFwiOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInNlbGVjdGVkXCI6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmFkZChhdHRyaWJ1dGVzW2ldLm5hbWUpO1xuICAgICAgICB9XG4gICAgICBpZiAoaXNDdXN0b21FbGVtZW50KHRhZykpXG4gICAgICAgIGZvciAodmFyIHByb3BLZXkgaW4gcHJvcHMpIHtcbiAgICAgICAgICBpZiAocHJvcHMuaGFzT3duUHJvcGVydHkocHJvcEtleSkpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHByb3BzW3Byb3BLZXldO1xuICAgICAgICAgICAgaWYgKG51bGwgIT0gdmFsdWUpXG4gICAgICAgICAgICAgIGlmIChyZWdpc3RyYXRpb25OYW1lRGVwZW5kZW5jaWVzLmhhc093blByb3BlcnR5KHByb3BLZXkpKVxuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHZhbHVlICYmXG4gICAgICAgICAgICAgICAgICB3YXJuRm9ySW52YWxpZEV2ZW50TGlzdGVuZXIocHJvcEtleSwgdmFsdWUpO1xuICAgICAgICAgICAgICBlbHNlIGlmICghMCAhPT0gcHJvcHMuc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nKVxuICAgICAgICAgICAgICAgIHN3aXRjaCAocHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNoaWxkcmVuXCI6XG4gICAgICAgICAgICAgICAgICAgIChcInN0cmluZ1wiICE9PSB0eXBlb2YgdmFsdWUgJiYgXCJudW1iZXJcIiAhPT0gdHlwZW9mIHZhbHVlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdENoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZWZcIjpcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUxcIjpcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGRvbUVsZW1lbnQuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUuX19odG1sIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBudWxsICE9IHZhbHVlICYmXG4gICAgICAgICAgICAgICAgICAgICAgKCh2YWx1ZSA9IG5vcm1hbGl6ZUhUTUwoZG9tRWxlbWVudCwgdmFsdWUpKSxcbiAgICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwic3R5bGVcIjpcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShwcm9wS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgZGlmZkh5ZHJhdGVkU3R5bGVzKGRvbUVsZW1lbnQsIHZhbHVlLCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIm9mZnNldFBhcmVudFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIm9mZnNldFRvcFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIm9mZnNldExlZnRcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJvZmZzZXRXaWR0aFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcIm9mZnNldEhlaWdodFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImlzQ29udGVudEVkaXRhYmxlXCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib3V0ZXJUZXh0XCI6XG4gICAgICAgICAgICAgICAgICBjYXNlIFwib3V0ZXJIVE1MXCI6XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUocHJvcEtleS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICBcIkFzc2lnbm1lbnQgdG8gcmVhZC1vbmx5IHByb3BlcnR5IHdpbGwgcmVzdWx0IGluIGEgbm8tb3A6IGAlc2BcIixcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImNsYXNzTmFtZVwiOlxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwiY2xhc3NcIik7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBnZXRWYWx1ZUZvckF0dHJpYnV0ZU9uQ3VzdG9tQ29tcG9uZW50KFxuICAgICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiLFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzTmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBob3N0Q29udGV4dC5jb250ZXh0ID09PSBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmUgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJzdmdcIiAhPT0gdGFnICYmXG4gICAgICAgICAgICAgICAgICAgIFwibWF0aFwiICE9PSB0YWdcbiAgICAgICAgICAgICAgICAgICAgICA/IGV4dHJhQXR0cmlidXRlcy5kZWxldGUocHJvcEtleS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgICAgICAgICAgICAgIDogZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShwcm9wS2V5KSxcbiAgICAgICAgICAgICAgICAgICAgICAoYXR0cmlidXRlcyA9IGdldFZhbHVlRm9yQXR0cmlidXRlT25DdXN0b21Db21wb25lbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgKSksXG4gICAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIGZvciAodmFsdWUgaW4gcHJvcHMpXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHJvcHMuaGFzT3duUHJvcGVydHkodmFsdWUpICYmXG4gICAgICAgICAgICAoKHByb3BLZXkgPSBwcm9wc1t2YWx1ZV0pLCBudWxsICE9IHByb3BLZXkpXG4gICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMuaGFzT3duUHJvcGVydHkodmFsdWUpKVxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBwcm9wS2V5ICYmXG4gICAgICAgICAgICAgICAgd2FybkZvckludmFsaWRFdmVudExpc3RlbmVyKHZhbHVlLCBwcm9wS2V5KTtcbiAgICAgICAgICAgIGVsc2UgaWYgKCEwICE9PSBwcm9wcy5zdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmcpXG4gICAgICAgICAgICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2hpbGRyZW5cIjpcbiAgICAgICAgICAgICAgICAgIChcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcEtleSAmJlxuICAgICAgICAgICAgICAgICAgICBcIm51bWJlclwiICE9PSB0eXBlb2YgcHJvcEtleSkgfHxcbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIFwiY2hpbGRyZW5cIixcbiAgICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdXBwcmVzc0NvbnRlbnRFZGl0YWJsZVdhcm5pbmdcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInZhbHVlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImNoZWNrZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic2VsZWN0ZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGVmYXVsdFZhbHVlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmF1bHRDaGVja2VkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImlubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyZWZcIjpcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiOlxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGRvbUVsZW1lbnQuaW5uZXJIVE1MO1xuICAgICAgICAgICAgICAgICAgcHJvcEtleSA9IHByb3BLZXkgPyBwcm9wS2V5Ll9faHRtbCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgIG51bGwgIT0gcHJvcEtleSAmJlxuICAgICAgICAgICAgICAgICAgICAoKHByb3BLZXkgPSBub3JtYWxpemVIVE1MKGRvbUVsZW1lbnQsIHByb3BLZXkpKSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyAhPT0gcHJvcEtleSAmJlxuICAgICAgICAgICAgICAgICAgICAgIChzZXJ2ZXJEaWZmZXJlbmNlc1t2YWx1ZV0gPSB7IF9faHRtbDogYXR0cmlidXRlcyB9KSk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NOYW1lXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInRhYkluZGV4XCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ0YWJpbmRleFwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGRpZmZIeWRyYXRlZFN0eWxlcyhkb21FbGVtZW50LCBwcm9wS2V5LCBzZXJ2ZXJEaWZmZXJlbmNlcyk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVcIjpcbiAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5tdWx0aXBsZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibXV0ZWRcIjpcbiAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5tdXRlZCxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYXV0b0ZvY3VzXCI6XG4gICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwiYXV0b2ZvY3VzXCIpO1xuICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudC5hdXRvZm9jdXMsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhdGFcIjpcbiAgICAgICAgICAgICAgICAgIGlmIChcIm9iamVjdFwiICE9PSB0YWcpIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGFcIik7XG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcInNyY1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJocmVmXCI6XG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICAgICAgXCJcIiAhPT0gcHJvcEtleSB8fFxuICAgICAgICAgICAgICAgICAgICAgIChcImFcIiA9PT0gdGFnICYmIFwiaHJlZlwiID09PSB2YWx1ZSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAoXCJvYmplY3RcIiA9PT0gdGFnICYmIFwiZGF0YVwiID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIFwic3JjXCIgPT09IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAnQW4gZW1wdHkgc3RyaW5nIChcIlwiKSB3YXMgcGFzc2VkIHRvIHRoZSAlcyBhdHRyaWJ1dGUuIFRoaXMgbWF5IGNhdXNlIHRoZSBicm93c2VyIHRvIGRvd25sb2FkIHRoZSB3aG9sZSBwYWdlIGFnYWluIG92ZXIgdGhlIG5ldHdvcmsuIFRvIGZpeCB0aGlzLCBlaXRoZXIgZG8gbm90IHJlbmRlciB0aGUgZWxlbWVudCBhdCBhbGwgb3IgcGFzcyBudWxsIHRvICVzIGluc3RlYWQgb2YgYW4gZW1wdHkgc3RyaW5nLicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ0FuIGVtcHR5IHN0cmluZyAoXCJcIikgd2FzIHBhc3NlZCB0byB0aGUgJXMgYXR0cmlidXRlLiBUbyBmaXggdGhpcywgZWl0aGVyIGRvIG5vdCByZW5kZXIgdGhlIGVsZW1lbnQgYXQgYWxsIG9yIHBhc3MgbnVsbCB0byAlcyBpbnN0ZWFkIG9mIGFuIGVtcHR5IHN0cmluZy4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGh5ZHJhdGVTYW5pdGl6ZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVTYW5pdGl6ZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJhY3Rpb25cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybUFjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcyA9IGRvbUVsZW1lbnQuZ2V0QXR0cmlidXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUodmFsdWUudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIFwiZm9ybUFjdGlvblwiID09PSB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgID8gKGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJuYW1lXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImZvcm1lbmN0eXBlXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShcImZvcm1tZXRob2RcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwiZm9ybXRhcmdldFwiKSlcbiAgICAgICAgICAgICAgICAgICAgICA6IChleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwiZW5jdHlwZVwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoXCJtZXRob2RcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKFwidGFyZ2V0XCIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGF0dHJpYnV0ZXMgPT09IEVYUEVDVEVEX0ZPUk1fQUNUSU9OX1VSTCkge1xuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKHZhbHVlLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlU2FuaXRpemVkQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bGlua0hyZWZcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVTYW5pdGl6ZWRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhsaW5rOmhyZWZcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb250ZW50RWRpdGFibGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVCb29sZWFuaXNoQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJjb250ZW50ZWRpdGFibGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzcGVsbENoZWNrXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQm9vbGVhbmlzaEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwic3BlbGxjaGVja1wiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRyYWdnYWJsZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRvUmV2ZXJzZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJleHRlcm5hbFJlc291cmNlc1JlcXVpcmVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZvY3VzYWJsZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJwcmVzZXJ2ZUFscGhhXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQm9vbGVhbmlzaEF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFsbG93RnVsbFNjcmVlblwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJhc3luY1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJhdXRvUGxheVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJjb250cm9sc1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJkZWZhdWx0XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRlZmVyXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRpc2FibGVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRpc2FibGVQaWN0dXJlSW5QaWN0dXJlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImRpc2FibGVSZW1vdGVQbGF5YmFja1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJmb3JtTm9WYWxpZGF0ZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJoaWRkZW5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibG9vcFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJub01vZHVsZVwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJub1ZhbGlkYXRlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9wZW5cIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicGxheXNJbmxpbmVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVhZE9ubHlcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVxdWlyZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwicmV2ZXJzZWRcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic2NvcGVkXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNlYW1sZXNzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIml0ZW1TY29wZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUJvb2xlYW5BdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNhcHR1cmVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZG93bmxvYWRcIjpcbiAgICAgICAgICAgICAgICAgIGE6IHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGRvbUVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gKGF0dHJpYnV0ZXMgPSB2YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDAgPSBzZXJ2ZXJEaWZmZXJlbmNlcztcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gaSlcbiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghMSA9PT0gcHJvcEtleSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG51bGwgIT0gcHJvcEtleSlcbiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoITAgPT09IHByb3BLZXkgJiYgXCJcIiA9PT0gaSkgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrQXR0cmlidXRlU3RyaW5nQ29lcmNpb24ocHJvcEtleSwgYXR0cmlidXRlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9PT0gXCJcIiArIHByb3BLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2FybkZvclByb3BEaWZmZXJlbmNlKFxuICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgaSxcbiAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29sc1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJyb3dzXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNpemVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwic3BhblwiOlxuICAgICAgICAgICAgICAgICAgYToge1xuICAgICAgICAgICAgICAgICAgICBpID0gZG9tRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMkanNjb21wJDAgPSBzZXJ2ZXJEaWZmZXJlbmNlcztcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gaSlcbiAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4ocHJvcEtleSkgfHwgMSA+IHByb3BLZXkpIGJyZWFrIGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChudWxsICE9IHByb3BLZXkpXG4gICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlb2YgcHJvcEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKGlzTmFOKHByb3BLZXkpIHx8IDEgPiBwcm9wS2V5KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKHByb3BLZXksIGF0dHJpYnV0ZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPT09IFwiXCIgKyBwcm9wS2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHdhcm5Gb3JQcm9wRGlmZmVyZW5jZShcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJvd1NwYW5cIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVOdW1lcmljQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJyb3dzcGFuXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RhcnRcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVOdW1lcmljQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieEhlaWdodFwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieC1oZWlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bGlua0FjdHVhdGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhsaW5rOmFjdHVhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bGlua0FyY3JvbGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhsaW5rOmFyY3JvbGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bGlua1JvbGVcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhsaW5rOnJvbGVcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bGlua1Nob3dcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhsaW5rOnNob3dcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bGlua1RpdGxlXCI6XG4gICAgICAgICAgICAgICAgICBoeWRyYXRlQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgXCJ4bGluazp0aXRsZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhsaW5rVHlwZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieGxpbms6dHlwZVwiLFxuICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgY2FzZSBcInhtbEJhc2VcIjpcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgIGRvbUVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBcInhtbDpiYXNlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwieG1sTGFuZ1wiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieG1sOmxhbmdcIixcbiAgICAgICAgICAgICAgICAgICAgcHJvcEtleSxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmFBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJEaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ4bWxTcGFjZVwiOlxuICAgICAgICAgICAgICAgICAgaHlkcmF0ZUF0dHJpYnV0ZShcbiAgICAgICAgICAgICAgICAgICAgZG9tRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIFwieG1sOnNwYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5lcnRcIjpcbiAgICAgICAgICAgICAgICAgIFwiXCIgIT09IHByb3BLZXkgfHxcbiAgICAgICAgICAgICAgICAgICAgZGlkV2FybkZvck5ld0Jvb2xlYW5Qcm9wc1dpdGhFbXB0eVZhbHVlW3ZhbHVlXSB8fFxuICAgICAgICAgICAgICAgICAgICAoKGRpZFdhcm5Gb3JOZXdCb29sZWFuUHJvcHNXaXRoRW1wdHlWYWx1ZVt2YWx1ZV0gPSAhMCksXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJSZWNlaXZlZCBhbiBlbXB0eSBzdHJpbmcgZm9yIGEgYm9vbGVhbiBhdHRyaWJ1dGUgYCVzYC4gVGhpcyB3aWxsIHRyZWF0IHRoZSBhdHRyaWJ1dGUgYXMgaWYgaXQgd2VyZSBmYWxzZS4gRWl0aGVyIHBhc3MgYGZhbHNlYCB0byBzaWxlbmNlIHRoaXMgd2FybmluZywgb3IgcGFzcyBgdHJ1ZWAgaWYgeW91IHVzZWQgYW4gZW1wdHkgc3RyaW5nIGluIGVhcmxpZXIgdmVyc2lvbnMgb2YgUmVhY3QgdG8gaW5kaWNhdGUgdGhpcyBhdHRyaWJ1dGUgaXMgdHJ1ZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICAgIGh5ZHJhdGVCb29sZWFuQXR0cmlidXRlKFxuICAgICAgICAgICAgICAgICAgICBkb21FbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHByb3BLZXksXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAhKDIgPCB2YWx1ZS5sZW5ndGgpIHx8XG4gICAgICAgICAgICAgICAgICAgIChcIm9cIiAhPT0gdmFsdWVbMF0gJiYgXCJPXCIgIT09IHZhbHVlWzBdKSB8fFxuICAgICAgICAgICAgICAgICAgICAoXCJuXCIgIT09IHZhbHVlWzFdICYmIFwiTlwiICE9PSB2YWx1ZVsxXSlcbiAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBpID0gZ2V0QXR0cmlidXRlQWxpYXModmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzID0gITE7XG4gICAgICAgICAgICAgICAgICAgIGhvc3RDb250ZXh0LmNvbnRleHQgPT09IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZSAmJlxuICAgICAgICAgICAgICAgICAgICBcInN2Z1wiICE9PSB0YWcgJiZcbiAgICAgICAgICAgICAgICAgICAgXCJtYXRoXCIgIT09IHRhZ1xuICAgICAgICAgICAgICAgICAgICAgID8gZXh0cmFBdHRyaWJ1dGVzLmRlbGV0ZShpLnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgICAgICAgICAgICAgOiAoKGF0dHJpYnV0ZU5hbWUgPSB2YWx1ZS50b0xvd2VyQ2FzZSgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChhdHRyaWJ1dGVOYW1lID0gcG9zc2libGVTdGFuZGFyZE5hbWVzLmhhc093blByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVOYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gcG9zc2libGVTdGFuZGFyZE5hbWVzW2F0dHJpYnV0ZU5hbWVdIHx8IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGF0dHJpYnV0ZU5hbWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlTmFtZSAhPT0gdmFsdWUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKChhdHRyaWJ1dGVzID0gITApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYUF0dHJpYnV0ZXMuZGVsZXRlKGF0dHJpYnV0ZU5hbWUpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhQXR0cmlidXRlcy5kZWxldGUoaSkpO1xuICAgICAgICAgICAgICAgICAgICBhOiBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgKChhdHRyaWJ1dGVOYW1lID0gZG9tRWxlbWVudCksXG4gICAgICAgICAgICAgICAgICAgICAgKHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwID0gaSksXG4gICAgICAgICAgICAgICAgICAgICAgKGkgPSBwcm9wS2V5KSxcbiAgICAgICAgICAgICAgICAgICAgICBpc0F0dHJpYnV0ZU5hbWVTYWZlKHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwKSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZU5hbWUuaGFzQXR0cmlidXRlKHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwKVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIChhdHRyaWJ1dGVOYW1lID0gYXR0cmlidXRlTmFtZS5nZXRBdHRyaWJ1dGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwXG4gICAgICAgICAgICAgICAgICAgICAgICApKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tBdHRyaWJ1dGVTdHJpbmdDb2VyY2lvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlckRpZmZlcmVuY2VzJGpzY29tcCQwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChpID0gYXR0cmlidXRlTmFtZSA9PT0gXCJcIiArIGkgPyBpIDogYXR0cmlidXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGVvZiBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGF0dHJpYnV0ZU5hbWUgPSBzZXJ2ZXJEaWZmZXJlbmNlcyRqc2NvbXAkMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2xpY2UoMCwgNSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLVwiICE9PSBhdHRyaWJ1dGVOYW1lICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJpYS1cIiAhPT0gYXR0cmlidXRlTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhayBhO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9IHZvaWQgMCA9PT0gaSA/IHZvaWQgMCA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGkgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgfHxcbiAgICAgICAgICAgICAgICAgICAgICB3YXJuRm9yUHJvcERpZmZlcmVuY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAwIDwgZXh0cmFBdHRyaWJ1dGVzLnNpemUgJiZcbiAgICAgICAgITAgIT09IHByb3BzLnN1cHByZXNzSHlkcmF0aW9uV2FybmluZyAmJlxuICAgICAgICB3YXJuRm9yRXh0cmFBdHRyaWJ1dGVzKGRvbUVsZW1lbnQsIGV4dHJhQXR0cmlidXRlcywgc2VydmVyRGlmZmVyZW5jZXMpO1xuICAgICAgcmV0dXJuIDAgPT09IE9iamVjdC5rZXlzKHNlcnZlckRpZmZlcmVuY2VzKS5sZW5ndGhcbiAgICAgICAgPyBudWxsXG4gICAgICAgIDogc2VydmVyRGlmZmVyZW5jZXM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByb3BOYW1lc0xpc3RKb2luKGxpc3QsIGNvbWJpbmF0b3IpIHtcbiAgICAgIHN3aXRjaCAobGlzdC5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAwOlxuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgcmV0dXJuIGxpc3RbMF07XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICByZXR1cm4gbGlzdFswXSArIFwiIFwiICsgY29tYmluYXRvciArIFwiIFwiICsgbGlzdFsxXTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgbGlzdC5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpICtcbiAgICAgICAgICAgIFwiLCBcIiArXG4gICAgICAgICAgICBjb21iaW5hdG9yICtcbiAgICAgICAgICAgIFwiIFwiICtcbiAgICAgICAgICAgIGxpc3RbbGlzdC5sZW5ndGggLSAxXVxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyRG9jdW1lbnRGcm9tUm9vdENvbnRhaW5lcihyb290Q29udGFpbmVyRWxlbWVudCkge1xuICAgICAgcmV0dXJuIDkgPT09IHJvb3RDb250YWluZXJFbGVtZW50Lm5vZGVUeXBlXG4gICAgICAgID8gcm9vdENvbnRhaW5lckVsZW1lbnRcbiAgICAgICAgOiByb290Q29udGFpbmVyRWxlbWVudC5vd25lckRvY3VtZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRPd25Ib3N0Q29udGV4dChuYW1lc3BhY2VVUkkpIHtcbiAgICAgIHN3aXRjaCAobmFtZXNwYWNlVVJJKSB7XG4gICAgICAgIGNhc2UgU1ZHX05BTUVTUEFDRTpcbiAgICAgICAgICByZXR1cm4gSG9zdENvbnRleHROYW1lc3BhY2VTdmc7XG4gICAgICAgIGNhc2UgTUFUSF9OQU1FU1BBQ0U6XG4gICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlTWF0aDtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gSG9zdENvbnRleHROYW1lc3BhY2VOb25lO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRDaGlsZEhvc3RDb250ZXh0UHJvZChwYXJlbnROYW1lc3BhY2UsIHR5cGUpIHtcbiAgICAgIGlmIChwYXJlbnROYW1lc3BhY2UgPT09IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZSlcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgY2FzZSBcInN2Z1wiOlxuICAgICAgICAgICAgcmV0dXJuIEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnO1xuICAgICAgICAgIGNhc2UgXCJtYXRoXCI6XG4gICAgICAgICAgICByZXR1cm4gSG9zdENvbnRleHROYW1lc3BhY2VNYXRoO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gSG9zdENvbnRleHROYW1lc3BhY2VOb25lO1xuICAgICAgICB9XG4gICAgICByZXR1cm4gcGFyZW50TmFtZXNwYWNlID09PSBIb3N0Q29udGV4dE5hbWVzcGFjZVN2ZyAmJlxuICAgICAgICBcImZvcmVpZ25PYmplY3RcIiA9PT0gdHlwZVxuICAgICAgICA/IEhvc3RDb250ZXh0TmFtZXNwYWNlTm9uZVxuICAgICAgICA6IHBhcmVudE5hbWVzcGFjZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvdWxkU2V0VGV4dENvbnRlbnQodHlwZSwgcHJvcHMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIFwidGV4dGFyZWFcIiA9PT0gdHlwZSB8fFxuICAgICAgICBcIm5vc2NyaXB0XCIgPT09IHR5cGUgfHxcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLmNoaWxkcmVuIHx8XG4gICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiBwcm9wcy5jaGlsZHJlbiB8fFxuICAgICAgICBcImJpZ2ludFwiID09PSB0eXBlb2YgcHJvcHMuY2hpbGRyZW4gfHxcbiAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTCAmJlxuICAgICAgICAgIG51bGwgIT09IHByb3BzLmRhbmdlcm91c2x5U2V0SW5uZXJIVE1MICYmXG4gICAgICAgICAgbnVsbCAhPSBwcm9wcy5kYW5nZXJvdXNseVNldElubmVySFRNTC5fX2h0bWwpXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG91bGRBdHRlbXB0RWFnZXJUcmFuc2l0aW9uKCkge1xuICAgICAgdmFyIGV2ZW50ID0gd2luZG93LmV2ZW50O1xuICAgICAgaWYgKGV2ZW50ICYmIFwicG9wc3RhdGVcIiA9PT0gZXZlbnQudHlwZSkge1xuICAgICAgICBpZiAoZXZlbnQgPT09IGN1cnJlbnRQb3BzdGF0ZVRyYW5zaXRpb25FdmVudCkgcmV0dXJuICExO1xuICAgICAgICBjdXJyZW50UG9wc3RhdGVUcmFuc2l0aW9uRXZlbnQgPSBldmVudDtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgICAgfVxuICAgICAgY3VycmVudFBvcHN0YXRlVHJhbnNpdGlvbkV2ZW50ID0gbnVsbDtcbiAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaGFuZGxlRXJyb3JJbk5leHRUaWNrKGVycm9yKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0TW91bnQoZG9tRWxlbWVudCwgdHlwZSwgbmV3UHJvcHMpIHtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwiYnV0dG9uXCI6XG4gICAgICAgIGNhc2UgXCJpbnB1dFwiOlxuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgIGNhc2UgXCJ0ZXh0YXJlYVwiOlxuICAgICAgICAgIG5ld1Byb3BzLmF1dG9Gb2N1cyAmJiBkb21FbGVtZW50LmZvY3VzKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbWdcIjpcbiAgICAgICAgICBuZXdQcm9wcy5zcmNcbiAgICAgICAgICAgID8gKGRvbUVsZW1lbnQuc3JjID0gbmV3UHJvcHMuc3JjKVxuICAgICAgICAgICAgOiBuZXdQcm9wcy5zcmNTZXQgJiYgKGRvbUVsZW1lbnQuc3Jjc2V0ID0gbmV3UHJvcHMuc3JjU2V0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY29tbWl0VXBkYXRlKGRvbUVsZW1lbnQsIHR5cGUsIG9sZFByb3BzLCBuZXdQcm9wcykge1xuICAgICAgdXBkYXRlUHJvcGVydGllcyhkb21FbGVtZW50LCB0eXBlLCBvbGRQcm9wcywgbmV3UHJvcHMpO1xuICAgICAgZG9tRWxlbWVudFtpbnRlcm5hbFByb3BzS2V5XSA9IG5ld1Byb3BzO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXNldFRleHRDb250ZW50KGRvbUVsZW1lbnQpIHtcbiAgICAgIHNldFRleHRDb250ZW50KGRvbUVsZW1lbnQsIFwiXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRUZXh0VXBkYXRlKHRleHRJbnN0YW5jZSwgb2xkVGV4dCwgbmV3VGV4dCkge1xuICAgICAgdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSA9IG5ld1RleHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUNoaWxkKHBhcmVudEluc3RhbmNlLCBjaGlsZCkge1xuICAgICAgcGFyZW50SW5zdGFuY2UucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVDaGlsZEZyb21Db250YWluZXIoY29udGFpbmVyLCBjaGlsZCkge1xuICAgICAgOCA9PT0gY29udGFpbmVyLm5vZGVUeXBlXG4gICAgICAgID8gY29udGFpbmVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpXG4gICAgICAgIDogY29udGFpbmVyLnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYXJTdXNwZW5zZUJvdW5kYXJ5KHBhcmVudEluc3RhbmNlLCBzdXNwZW5zZUluc3RhbmNlKSB7XG4gICAgICB2YXIgbm9kZSA9IHN1c3BlbnNlSW5zdGFuY2UsXG4gICAgICAgIGRlcHRoID0gMDtcbiAgICAgIGRvIHtcbiAgICAgICAgdmFyIG5leHROb2RlID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgICAgcGFyZW50SW5zdGFuY2UucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICAgIGlmIChuZXh0Tm9kZSAmJiA4ID09PSBuZXh0Tm9kZS5ub2RlVHlwZSlcbiAgICAgICAgICBpZiAoKChub2RlID0gbmV4dE5vZGUuZGF0YSksIG5vZGUgPT09IFNVU1BFTlNFX0VORF9EQVRBKSkge1xuICAgICAgICAgICAgaWYgKDAgPT09IGRlcHRoKSB7XG4gICAgICAgICAgICAgIHBhcmVudEluc3RhbmNlLnJlbW92ZUNoaWxkKG5leHROb2RlKTtcbiAgICAgICAgICAgICAgcmV0cnlJZkJsb2NrZWRPbihzdXNwZW5zZUluc3RhbmNlKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVwdGgtLTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIChub2RlICE9PSBTVVNQRU5TRV9TVEFSVF9EQVRBICYmXG4gICAgICAgICAgICAgIG5vZGUgIT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQSAmJlxuICAgICAgICAgICAgICBub2RlICE9PSBTVVNQRU5TRV9GQUxMQkFDS19TVEFSVF9EQVRBKSB8fFxuICAgICAgICAgICAgICBkZXB0aCsrO1xuICAgICAgICBub2RlID0gbmV4dE5vZGU7XG4gICAgICB9IHdoaWxlIChub2RlKTtcbiAgICAgIHJldHJ5SWZCbG9ja2VkT24oc3VzcGVuc2VJbnN0YW5jZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhpZGVJbnN0YW5jZShpbnN0YW5jZSkge1xuICAgICAgaW5zdGFuY2UgPSBpbnN0YW5jZS5zdHlsZTtcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLnNldFByb3BlcnR5XG4gICAgICAgID8gaW5zdGFuY2Uuc2V0UHJvcGVydHkoXCJkaXNwbGF5XCIsIFwibm9uZVwiLCBcImltcG9ydGFudFwiKVxuICAgICAgICA6IChpbnN0YW5jZS5kaXNwbGF5ID0gXCJub25lXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoaWRlVGV4dEluc3RhbmNlKHRleHRJbnN0YW5jZSkge1xuICAgICAgdGV4dEluc3RhbmNlLm5vZGVWYWx1ZSA9IFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuaGlkZUluc3RhbmNlKGluc3RhbmNlLCBwcm9wcykge1xuICAgICAgcHJvcHMgPSBwcm9wc1tTVFlMRV07XG4gICAgICBwcm9wcyA9XG4gICAgICAgIHZvaWQgMCAhPT0gcHJvcHMgJiYgbnVsbCAhPT0gcHJvcHMgJiYgcHJvcHMuaGFzT3duUHJvcGVydHkoXCJkaXNwbGF5XCIpXG4gICAgICAgICAgPyBwcm9wcy5kaXNwbGF5XG4gICAgICAgICAgOiBudWxsO1xuICAgICAgaW5zdGFuY2Uuc3R5bGUuZGlzcGxheSA9XG4gICAgICAgIG51bGwgPT0gcHJvcHMgfHwgXCJib29sZWFuXCIgPT09IHR5cGVvZiBwcm9wcyA/IFwiXCIgOiAoXCJcIiArIHByb3BzKS50cmltKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVuaGlkZVRleHRJbnN0YW5jZSh0ZXh0SW5zdGFuY2UsIHRleHQpIHtcbiAgICAgIHRleHRJbnN0YW5jZS5ub2RlVmFsdWUgPSB0ZXh0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhckNvbnRhaW5lclNwYXJpbmdseShjb250YWluZXIpIHtcbiAgICAgIHZhciBuZXh0Tm9kZSA9IGNvbnRhaW5lci5maXJzdENoaWxkO1xuICAgICAgbmV4dE5vZGUgJiYgMTAgPT09IG5leHROb2RlLm5vZGVUeXBlICYmIChuZXh0Tm9kZSA9IG5leHROb2RlLm5leHRTaWJsaW5nKTtcbiAgICAgIGZvciAoOyBuZXh0Tm9kZTsgKSB7XG4gICAgICAgIHZhciBub2RlID0gbmV4dE5vZGU7XG4gICAgICAgIG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIHN3aXRjaCAobm9kZS5ub2RlTmFtZSkge1xuICAgICAgICAgIGNhc2UgXCJIVE1MXCI6XG4gICAgICAgICAgY2FzZSBcIkhFQURcIjpcbiAgICAgICAgICBjYXNlIFwiQk9EWVwiOlxuICAgICAgICAgICAgY2xlYXJDb250YWluZXJTcGFyaW5nbHkobm9kZSk7XG4gICAgICAgICAgICBkZXRhY2hEZWxldGVkSW5zdGFuY2Uobm9kZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlIFwiU0NSSVBUXCI6XG4gICAgICAgICAgY2FzZSBcIlNUWUxFXCI6XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBjYXNlIFwiTElOS1wiOlxuICAgICAgICAgICAgaWYgKFwic3R5bGVzaGVldFwiID09PSBub2RlLnJlbC50b0xvd2VyQ2FzZSgpKSBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbkh5ZHJhdGVJbnN0YW5jZShpbnN0YW5jZSwgdHlwZSwgcHJvcHMsIGluUm9vdE9yU2luZ2xldG9uKSB7XG4gICAgICBmb3IgKDsgMSA9PT0gaW5zdGFuY2Uubm9kZVR5cGU7ICkge1xuICAgICAgICB2YXIgYW55UHJvcHMgPSBwcm9wcztcbiAgICAgICAgaWYgKGluc3RhbmNlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09IHR5cGUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFpblJvb3RPclNpbmdsZXRvbiAmJlxuICAgICAgICAgICAgKFwiSU5QVVRcIiAhPT0gaW5zdGFuY2Uubm9kZU5hbWUgfHwgXCJoaWRkZW5cIiAhPT0gaW5zdGFuY2UudHlwZSlcbiAgICAgICAgICApXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmICghaW5Sb290T3JTaW5nbGV0b24pXG4gICAgICAgICAgaWYgKFwiaW5wdXRcIiA9PT0gdHlwZSAmJiBcImhpZGRlblwiID09PSBpbnN0YW5jZS50eXBlKSB7XG4gICAgICAgICAgICBjaGVja0F0dHJpYnV0ZVN0cmluZ0NvZXJjaW9uKGFueVByb3BzLm5hbWUsIFwibmFtZVwiKTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gbnVsbCA9PSBhbnlQcm9wcy5uYW1lID8gbnVsbCA6IFwiXCIgKyBhbnlQcm9wcy5uYW1lO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBcImhpZGRlblwiID09PSBhbnlQcm9wcy50eXBlICYmXG4gICAgICAgICAgICAgIGluc3RhbmNlLmdldEF0dHJpYnV0ZShcIm5hbWVcIikgPT09IG5hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgIH0gZWxzZSByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgIGVsc2UgaWYgKCFpbnN0YW5jZVtpbnRlcm5hbEhvaXN0YWJsZU1hcmtlcl0pXG4gICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwibWV0YVwiOlxuICAgICAgICAgICAgICBpZiAoIWluc3RhbmNlLmhhc0F0dHJpYnV0ZShcIml0ZW1wcm9wXCIpKSBicmVhaztcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgICAgY2FzZSBcImxpbmtcIjpcbiAgICAgICAgICAgICAgbmFtZSA9IGluc3RhbmNlLmdldEF0dHJpYnV0ZShcInJlbFwiKTtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFwic3R5bGVzaGVldFwiID09PSBuYW1lICYmXG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuaGFzQXR0cmlidXRlKFwiZGF0YS1wcmVjZWRlbmNlXCIpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgbmFtZSAhPT0gYW55UHJvcHMucmVsIHx8XG4gICAgICAgICAgICAgICAgaW5zdGFuY2UuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSAhPT1cbiAgICAgICAgICAgICAgICAgIChudWxsID09IGFueVByb3BzLmhyZWYgPyBudWxsIDogYW55UHJvcHMuaHJlZikgfHxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiKSAhPT1cbiAgICAgICAgICAgICAgICAgIChudWxsID09IGFueVByb3BzLmNyb3NzT3JpZ2luXG4gICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICA6IGFueVByb3BzLmNyb3NzT3JpZ2luKSB8fFxuICAgICAgICAgICAgICAgIGluc3RhbmNlLmdldEF0dHJpYnV0ZShcInRpdGxlXCIpICE9PVxuICAgICAgICAgICAgICAgICAgKG51bGwgPT0gYW55UHJvcHMudGl0bGUgPyBudWxsIDogYW55UHJvcHMudGl0bGUpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgICAgIGlmIChpbnN0YW5jZS5oYXNBdHRyaWJ1dGUoXCJkYXRhLXByZWNlZGVuY2VcIikpIGJyZWFrO1xuICAgICAgICAgICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgICAgIG5hbWUgPSBpbnN0YW5jZS5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7XG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAobmFtZSAhPT0gKG51bGwgPT0gYW55UHJvcHMuc3JjID8gbnVsbCA6IGFueVByb3BzLnNyYykgfHxcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmdldEF0dHJpYnV0ZShcInR5cGVcIikgIT09XG4gICAgICAgICAgICAgICAgICAgIChudWxsID09IGFueVByb3BzLnR5cGUgPyBudWxsIDogYW55UHJvcHMudHlwZSkgfHxcbiAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmdldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIpICE9PVxuICAgICAgICAgICAgICAgICAgICAobnVsbCA9PSBhbnlQcm9wcy5jcm9zc09yaWdpblxuICAgICAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgIDogYW55UHJvcHMuY3Jvc3NPcmlnaW4pKSAmJlxuICAgICAgICAgICAgICAgIG5hbWUgJiZcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5oYXNBdHRyaWJ1dGUoXCJhc3luY1wiKSAmJlxuICAgICAgICAgICAgICAgICFpbnN0YW5jZS5oYXNBdHRyaWJ1dGUoXCJpdGVtcHJvcFwiKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoaW5zdGFuY2UubmV4dFNpYmxpbmcpO1xuICAgICAgICBpZiAobnVsbCA9PT0gaW5zdGFuY2UpIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbkh5ZHJhdGVUZXh0SW5zdGFuY2UoaW5zdGFuY2UsIHRleHQsIGluUm9vdE9yU2luZ2xldG9uKSB7XG4gICAgICBpZiAoXCJcIiA9PT0gdGV4dCkgcmV0dXJuIG51bGw7XG4gICAgICBmb3IgKDsgMyAhPT0gaW5zdGFuY2Uubm9kZVR5cGU7ICkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgKDEgIT09IGluc3RhbmNlLm5vZGVUeXBlIHx8XG4gICAgICAgICAgICBcIklOUFVUXCIgIT09IGluc3RhbmNlLm5vZGVOYW1lIHx8XG4gICAgICAgICAgICBcImhpZGRlblwiICE9PSBpbnN0YW5jZS50eXBlKSAmJlxuICAgICAgICAgICFpblJvb3RPclNpbmdsZXRvblxuICAgICAgICApXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGluc3RhbmNlID0gZ2V0TmV4dEh5ZHJhdGFibGUoaW5zdGFuY2UubmV4dFNpYmxpbmcpO1xuICAgICAgICBpZiAobnVsbCA9PT0gaW5zdGFuY2UpIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXROZXh0SHlkcmF0YWJsZShub2RlKSB7XG4gICAgICBmb3IgKDsgbnVsbCAhPSBub2RlOyBub2RlID0gbm9kZS5uZXh0U2libGluZykge1xuICAgICAgICB2YXIgbm9kZVR5cGUgPSBub2RlLm5vZGVUeXBlO1xuICAgICAgICBpZiAoMSA9PT0gbm9kZVR5cGUgfHwgMyA9PT0gbm9kZVR5cGUpIGJyZWFrO1xuICAgICAgICBpZiAoOCA9PT0gbm9kZVR5cGUpIHtcbiAgICAgICAgICBub2RlVHlwZSA9IG5vZGUuZGF0YTtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBub2RlVHlwZSA9PT0gU1VTUEVOU0VfU1RBUlRfREFUQSB8fFxuICAgICAgICAgICAgbm9kZVR5cGUgPT09IFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEgfHxcbiAgICAgICAgICAgIG5vZGVUeXBlID09PSBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEEgfHxcbiAgICAgICAgICAgIG5vZGVUeXBlID09PSBGT1JNX1NUQVRFX0lTX01BVENISU5HIHx8XG4gICAgICAgICAgICBub2RlVHlwZSA9PT0gRk9STV9TVEFURV9JU19OT1RfTUFUQ0hJTkdcbiAgICAgICAgICApXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBpZiAobm9kZVR5cGUgPT09IFNVU1BFTlNFX0VORF9EQVRBKSByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRlc2NyaWJlSHlkcmF0YWJsZUluc3RhbmNlRm9yRGV2V2FybmluZ3MoaW5zdGFuY2UpIHtcbiAgICAgIGlmICgxID09PSBpbnN0YW5jZS5ub2RlVHlwZSkge1xuICAgICAgICBmb3IgKFxuICAgICAgICAgIHZhciBKU0NvbXBpbGVyX3RlbXBfY29uc3QgPSBpbnN0YW5jZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXMgPSB7fSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBpbnN0YW5jZS5hdHRyaWJ1dGVzLFxuICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoO1xuICAgICAgICAgIGkrK1xuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgYXR0ciA9IGF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgc2VydmVyRGlmZmVyZW5jZXNbZ2V0UHJvcE5hbWVGcm9tQXR0cmlidXRlTmFtZShhdHRyLm5hbWUpXSA9XG4gICAgICAgICAgICBcInN0eWxlXCIgPT09IGF0dHIubmFtZS50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgID8gZ2V0U3R5bGVzT2JqZWN0RnJvbUVsZW1lbnQoaW5zdGFuY2UpXG4gICAgICAgICAgICAgIDogYXR0ci52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB0eXBlOiBKU0NvbXBpbGVyX3RlbXBfY29uc3QsIHByb3BzOiBzZXJ2ZXJEaWZmZXJlbmNlcyB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIDggPT09IGluc3RhbmNlLm5vZGVUeXBlXG4gICAgICAgID8geyB0eXBlOiBcIlN1c3BlbnNlXCIsIHByb3BzOiB7fSB9XG4gICAgICAgIDogaW5zdGFuY2Uubm9kZVZhbHVlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmSHlkcmF0ZWRUZXh0Rm9yRGV2V2FybmluZ3ModGV4dEluc3RhbmNlLCB0ZXh0LCBwYXJlbnRQcm9wcykge1xuICAgICAgcmV0dXJuIG51bGwgPT09IHBhcmVudFByb3BzIHx8XG4gICAgICAgICEwICE9PSBwYXJlbnRQcm9wc1tTVVBQUkVTU19IWURSQVRJT05fV0FSTklOR11cbiAgICAgICAgPyAodGV4dEluc3RhbmNlLm5vZGVWYWx1ZSA9PT0gdGV4dFxuICAgICAgICAgICAgPyAodGV4dEluc3RhbmNlID0gbnVsbClcbiAgICAgICAgICAgIDogKCh0ZXh0ID0gbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHRleHQpKSxcbiAgICAgICAgICAgICAgKHRleHRJbnN0YW5jZSA9XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplTWFya3VwRm9yVGV4dE9yQXR0cmlidXRlKHRleHRJbnN0YW5jZS5ub2RlVmFsdWUpID09PVxuICAgICAgICAgICAgICAgIHRleHRcbiAgICAgICAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgICAgICAgOiB0ZXh0SW5zdGFuY2Uubm9kZVZhbHVlKSksXG4gICAgICAgICAgdGV4dEluc3RhbmNlKVxuICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE5leHRIeWRyYXRhYmxlSW5zdGFuY2VBZnRlclN1c3BlbnNlSW5zdGFuY2Uoc3VzcGVuc2VJbnN0YW5jZSkge1xuICAgICAgc3VzcGVuc2VJbnN0YW5jZSA9IHN1c3BlbnNlSW5zdGFuY2UubmV4dFNpYmxpbmc7XG4gICAgICBmb3IgKHZhciBkZXB0aCA9IDA7IHN1c3BlbnNlSW5zdGFuY2U7ICkge1xuICAgICAgICBpZiAoOCA9PT0gc3VzcGVuc2VJbnN0YW5jZS5ub2RlVHlwZSkge1xuICAgICAgICAgIHZhciBkYXRhID0gc3VzcGVuc2VJbnN0YW5jZS5kYXRhO1xuICAgICAgICAgIGlmIChkYXRhID09PSBTVVNQRU5TRV9FTkRfREFUQSkge1xuICAgICAgICAgICAgaWYgKDAgPT09IGRlcHRoKVxuICAgICAgICAgICAgICByZXR1cm4gZ2V0TmV4dEh5ZHJhdGFibGUoc3VzcGVuc2VJbnN0YW5jZS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgKGRhdGEgIT09IFNVU1BFTlNFX1NUQVJUX0RBVEEgJiZcbiAgICAgICAgICAgICAgZGF0YSAhPT0gU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSAmJlxuICAgICAgICAgICAgICBkYXRhICE9PSBTVVNQRU5TRV9QRU5ESU5HX1NUQVJUX0RBVEEpIHx8XG4gICAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgIH1cbiAgICAgICAgc3VzcGVuc2VJbnN0YW5jZSA9IHN1c3BlbnNlSW5zdGFuY2UubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UGFyZW50U3VzcGVuc2VJbnN0YW5jZSh0YXJnZXRJbnN0YW5jZSkge1xuICAgICAgdGFyZ2V0SW5zdGFuY2UgPSB0YXJnZXRJbnN0YW5jZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICBmb3IgKHZhciBkZXB0aCA9IDA7IHRhcmdldEluc3RhbmNlOyApIHtcbiAgICAgICAgaWYgKDggPT09IHRhcmdldEluc3RhbmNlLm5vZGVUeXBlKSB7XG4gICAgICAgICAgdmFyIGRhdGEgPSB0YXJnZXRJbnN0YW5jZS5kYXRhO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGRhdGEgPT09IFNVU1BFTlNFX1NUQVJUX0RBVEEgfHxcbiAgICAgICAgICAgIGRhdGEgPT09IFNVU1BFTlNFX0ZBTExCQUNLX1NUQVJUX0RBVEEgfHxcbiAgICAgICAgICAgIGRhdGEgPT09IFNVU1BFTlNFX1BFTkRJTkdfU1RBUlRfREFUQVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKDAgPT09IGRlcHRoKSByZXR1cm4gdGFyZ2V0SW5zdGFuY2U7XG4gICAgICAgICAgICBkZXB0aC0tO1xuICAgICAgICAgIH0gZWxzZSBkYXRhID09PSBTVVNQRU5TRV9FTkRfREFUQSAmJiBkZXB0aCsrO1xuICAgICAgICB9XG4gICAgICAgIHRhcmdldEluc3RhbmNlID0gdGFyZ2V0SW5zdGFuY2UucHJldmlvdXNTaWJsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbW1pdEh5ZHJhdGVkQ29udGFpbmVyKGNvbnRhaW5lcikge1xuICAgICAgcmV0cnlJZkJsb2NrZWRPbihjb250YWluZXIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb21taXRIeWRyYXRlZFN1c3BlbnNlSW5zdGFuY2Uoc3VzcGVuc2VJbnN0YW5jZSkge1xuICAgICAgcmV0cnlJZkJsb2NrZWRPbihzdXNwZW5zZUluc3RhbmNlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzb2x2ZVNpbmdsZXRvbkluc3RhbmNlKFxuICAgICAgdHlwZSxcbiAgICAgIHByb3BzLFxuICAgICAgcm9vdENvbnRhaW5lckluc3RhbmNlLFxuICAgICAgaG9zdENvbnRleHQsXG4gICAgICB2YWxpZGF0ZURPTU5lc3RpbmdEZXZcbiAgICApIHtcbiAgICAgIHZhbGlkYXRlRE9NTmVzdGluZ0RldiAmJlxuICAgICAgICB2YWxpZGF0ZURPTU5lc3RpbmcodHlwZSwgaG9zdENvbnRleHQuYW5jZXN0b3JJbmZvKTtcbiAgICAgIHByb3BzID0gZ2V0T3duZXJEb2N1bWVudEZyb21Sb290Q29udGFpbmVyKHJvb3RDb250YWluZXJJbnN0YW5jZSk7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgICB0eXBlID0gcHJvcHMuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICAgIGlmICghdHlwZSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGV4cGVjdGVkIGFuIDxodG1sPiBlbGVtZW50IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpIHRvIGV4aXN0IGluIHRoZSBEb2N1bWVudCBidXQgb25lIHdhcyBub3QgZm91bmQuIFJlYWN0IG5ldmVyIHJlbW92ZXMgdGhlIGRvY3VtZW50RWxlbWVudCBmb3IgYW55IERvY3VtZW50IGl0IHJlbmRlcnMgaW50byBzbyB0aGUgY2F1c2UgaXMgbGlrZWx5IGluIHNvbWUgb3RoZXIgc2NyaXB0IHJ1bm5pbmcgb24gdGhpcyBwYWdlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiB0eXBlO1xuICAgICAgICBjYXNlIFwiaGVhZFwiOlxuICAgICAgICAgIHR5cGUgPSBwcm9wcy5oZWFkO1xuICAgICAgICAgIGlmICghdHlwZSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGV4cGVjdGVkIGEgPGhlYWQ+IGVsZW1lbnQgKGRvY3VtZW50LmhlYWQpIHRvIGV4aXN0IGluIHRoZSBEb2N1bWVudCBidXQgb25lIHdhcyBub3QgZm91bmQuIFJlYWN0IG5ldmVyIHJlbW92ZXMgdGhlIGhlYWQgZm9yIGFueSBEb2N1bWVudCBpdCByZW5kZXJzIGludG8gc28gdGhlIGNhdXNlIGlzIGxpa2VseSBpbiBzb21lIG90aGVyIHNjcmlwdCBydW5uaW5nIG9uIHRoaXMgcGFnZS5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gdHlwZTtcbiAgICAgICAgY2FzZSBcImJvZHlcIjpcbiAgICAgICAgICB0eXBlID0gcHJvcHMuYm9keTtcbiAgICAgICAgICBpZiAoIXR5cGUpXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgICAgXCJSZWFjdCBleHBlY3RlZCBhIDxib2R5PiBlbGVtZW50IChkb2N1bWVudC5ib2R5KSB0byBleGlzdCBpbiB0aGUgRG9jdW1lbnQgYnV0IG9uZSB3YXMgbm90IGZvdW5kLiBSZWFjdCBuZXZlciByZW1vdmVzIHRoZSBib2R5IGZvciBhbnkgRG9jdW1lbnQgaXQgcmVuZGVycyBpbnRvIHNvIHRoZSBjYXVzZSBpcyBsaWtlbHkgaW4gc29tZSBvdGhlciBzY3JpcHQgcnVubmluZyBvbiB0aGlzIHBhZ2UuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBcInJlc29sdmVTaW5nbGV0b25JbnN0YW5jZSB3YXMgY2FsbGVkIHdpdGggYW4gZWxlbWVudCB0eXBlIHRoYXQgaXMgbm90IHN1cHBvcnRlZC4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjcXVpcmVTaW5nbGV0b25JbnN0YW5jZShcbiAgICAgIHR5cGUsXG4gICAgICBwcm9wcyxcbiAgICAgIGluc3RhbmNlLFxuICAgICAgaW50ZXJuYWxJbnN0YW5jZUhhbmRsZVxuICAgICkge1xuICAgICAgaWYgKGdldEluc3RhbmNlRnJvbU5vZGUoaW5zdGFuY2UpKSB7XG4gICAgICAgIHZhciB0YWdOYW1lID0gaW5zdGFuY2UudGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiWW91IGFyZSBtb3VudGluZyBhIG5ldyAlcyBjb21wb25lbnQgd2hlbiBhIHByZXZpb3VzIG9uZSBoYXMgbm90IGZpcnN0IHVubW91bnRlZC4gSXQgaXMgYW4gZXJyb3IgdG8gcmVuZGVyIG1vcmUgdGhhbiBvbmUgJXMgY29tcG9uZW50IGF0IGEgdGltZSBhbmQgYXR0cmlidXRlcyBhbmQgY2hpbGRyZW4gb2YgdGhlc2UgY29tcG9uZW50cyB3aWxsIGxpa2VseSBmYWlsIGluIHVucHJlZGljdGFibGUgd2F5cy4gUGxlYXNlIG9ubHkgcmVuZGVyIGEgc2luZ2xlIGluc3RhbmNlIG9mIDwlcz4gYW5kIGlmIHlvdSBuZWVkIHRvIG1vdW50IGEgbmV3IG9uZSwgZW5zdXJlIGFueSBwcmV2aW91cyBvbmVzIGhhdmUgdW5tb3VudGVkIGZpcnN0LlwiLFxuICAgICAgICAgIHRhZ05hbWUsXG4gICAgICAgICAgdGFnTmFtZSxcbiAgICAgICAgICB0YWdOYW1lXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcImh0bWxcIjpcbiAgICAgICAgY2FzZSBcImhlYWRcIjpcbiAgICAgICAgY2FzZSBcImJvZHlcIjpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJhY3F1aXJlU2luZ2xldG9uSW5zdGFuY2Ugd2FzIGNhbGxlZCB3aXRoIGFuIGVsZW1lbnQgdHlwZSB0aGF0IGlzIG5vdCBzdXBwb3J0ZWQuIFRoaXMgaXMgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgZm9yICh0YWdOYW1lID0gaW5zdGFuY2UuYXR0cmlidXRlczsgdGFnTmFtZS5sZW5ndGg7IClcbiAgICAgICAgaW5zdGFuY2UucmVtb3ZlQXR0cmlidXRlTm9kZSh0YWdOYW1lWzBdKTtcbiAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGluc3RhbmNlLCB0eXBlLCBwcm9wcyk7XG4gICAgICBpbnN0YW5jZVtpbnRlcm5hbEluc3RhbmNlS2V5XSA9IGludGVybmFsSW5zdGFuY2VIYW5kbGU7XG4gICAgICBpbnN0YW5jZVtpbnRlcm5hbFByb3BzS2V5XSA9IHByb3BzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRIb2lzdGFibGVSb290KGNvbnRhaW5lcikge1xuICAgICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGNvbnRhaW5lci5nZXRSb290Tm9kZVxuICAgICAgICA/IGNvbnRhaW5lci5nZXRSb290Tm9kZSgpXG4gICAgICAgIDogY29udGFpbmVyLm93bmVyRG9jdW1lbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWNvbm5lY3RBcyhyZWwsIGhyZWYsIGNyb3NzT3JpZ2luKSB7XG4gICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGhyZWYgJiYgaHJlZikge1xuICAgICAgICB2YXIgbGltaXRlZEVzY2FwZWRIcmVmID1cbiAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGhyZWYpO1xuICAgICAgICBsaW1pdGVkRXNjYXBlZEhyZWYgPVxuICAgICAgICAgICdsaW5rW3JlbD1cIicgKyByZWwgKyAnXCJdW2hyZWY9XCInICsgbGltaXRlZEVzY2FwZWRIcmVmICsgJ1wiXSc7XG4gICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBjcm9zc09yaWdpbiAmJlxuICAgICAgICAgIChsaW1pdGVkRXNjYXBlZEhyZWYgKz0gJ1tjcm9zc29yaWdpbj1cIicgKyBjcm9zc09yaWdpbiArICdcIl0nKTtcbiAgICAgICAgcHJlY29ubmVjdHNTZXQuaGFzKGxpbWl0ZWRFc2NhcGVkSHJlZikgfHxcbiAgICAgICAgICAocHJlY29ubmVjdHNTZXQuYWRkKGxpbWl0ZWRFc2NhcGVkSHJlZiksXG4gICAgICAgICAgKHJlbCA9IHsgcmVsOiByZWwsIGNyb3NzT3JpZ2luOiBjcm9zc09yaWdpbiwgaHJlZjogaHJlZiB9KSxcbiAgICAgICAgICBudWxsID09PSBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobGltaXRlZEVzY2FwZWRIcmVmKSAmJlxuICAgICAgICAgICAgKChocmVmID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKSksXG4gICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhocmVmLCBcImxpbmtcIiwgcmVsKSxcbiAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaHJlZiksXG4gICAgICAgICAgICBvd25lckRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoaHJlZikpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0UmVzb3VyY2UodHlwZSwgY3VycmVudFByb3BzLCBwZW5kaW5nUHJvcHMsIGN1cnJlbnRSZXNvdXJjZSkge1xuICAgICAgdmFyIHJlc291cmNlUm9vdCA9IChyZXNvdXJjZVJvb3QgPSByb290SW5zdGFuY2VTdGFja0N1cnNvci5jdXJyZW50KVxuICAgICAgICA/IGdldEhvaXN0YWJsZVJvb3QocmVzb3VyY2VSb290KVxuICAgICAgICA6IG51bGw7XG4gICAgICBpZiAoIXJlc291cmNlUm9vdClcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgJ1wicmVzb3VyY2VSb290XCIgd2FzIGV4cGVjdGVkIHRvIGV4aXN0LiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LidcbiAgICAgICAgKTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFwibWV0YVwiOlxuICAgICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwZW5kaW5nUHJvcHMucHJlY2VkZW5jZSAmJlxuICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHBlbmRpbmdQcm9wcy5ocmVmXG4gICAgICAgICAgICA/ICgocGVuZGluZ1Byb3BzID0gZ2V0U3R5bGVLZXkocGVuZGluZ1Byb3BzLmhyZWYpKSxcbiAgICAgICAgICAgICAgKGN1cnJlbnRQcm9wcyA9XG4gICAgICAgICAgICAgICAgZ2V0UmVzb3VyY2VzRnJvbVJvb3QocmVzb3VyY2VSb290KS5ob2lzdGFibGVTdHlsZXMpLFxuICAgICAgICAgICAgICAoY3VycmVudFJlc291cmNlID0gY3VycmVudFByb3BzLmdldChwZW5kaW5nUHJvcHMpKSxcbiAgICAgICAgICAgICAgY3VycmVudFJlc291cmNlIHx8XG4gICAgICAgICAgICAgICAgKChjdXJyZW50UmVzb3VyY2UgPSB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInN0eWxlXCIsXG4gICAgICAgICAgICAgICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIGNvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgc3RhdGU6IG51bGxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjdXJyZW50UHJvcHMuc2V0KHBlbmRpbmdQcm9wcywgY3VycmVudFJlc291cmNlKSksXG4gICAgICAgICAgICAgIGN1cnJlbnRSZXNvdXJjZSlcbiAgICAgICAgICAgIDogeyB0eXBlOiBcInZvaWRcIiwgaW5zdGFuY2U6IG51bGwsIGNvdW50OiAwLCBzdGF0ZTogbnVsbCB9O1xuICAgICAgICBjYXNlIFwibGlua1wiOlxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIFwic3R5bGVzaGVldFwiID09PSBwZW5kaW5nUHJvcHMucmVsICYmXG4gICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcGVuZGluZ1Byb3BzLmhyZWYgJiZcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwZW5kaW5nUHJvcHMucHJlY2VkZW5jZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdHlwZSA9IGdldFN0eWxlS2V5KHBlbmRpbmdQcm9wcy5ocmVmKTtcbiAgICAgICAgICAgIHZhciBfc3R5bGVzID0gZ2V0UmVzb3VyY2VzRnJvbVJvb3QocmVzb3VyY2VSb290KS5ob2lzdGFibGVTdHlsZXMsXG4gICAgICAgICAgICAgIF9yZXNvdXJjZSA9IF9zdHlsZXMuZ2V0KHR5cGUpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAhX3Jlc291cmNlICYmXG4gICAgICAgICAgICAgICgocmVzb3VyY2VSb290ID0gcmVzb3VyY2VSb290Lm93bmVyRG9jdW1lbnQgfHwgcmVzb3VyY2VSb290KSxcbiAgICAgICAgICAgICAgKF9yZXNvdXJjZSA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0eWxlc2hlZXRcIixcbiAgICAgICAgICAgICAgICBpbnN0YW5jZTogbnVsbCxcbiAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogeyBsb2FkaW5nOiBOb3RMb2FkZWQsIHByZWxvYWQ6IG51bGwgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgX3N0eWxlcy5zZXQodHlwZSwgX3Jlc291cmNlKSxcbiAgICAgICAgICAgICAgKF9zdHlsZXMgPSByZXNvdXJjZVJvb3QucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgICBnZXRTdHlsZXNoZWV0U2VsZWN0b3JGcm9tS2V5KHR5cGUpXG4gICAgICAgICAgICAgICkpICYmXG4gICAgICAgICAgICAgICAgIV9zdHlsZXMuX3AgJiZcbiAgICAgICAgICAgICAgICAoKF9yZXNvdXJjZS5pbnN0YW5jZSA9IF9zdHlsZXMpLFxuICAgICAgICAgICAgICAgIChfcmVzb3VyY2Uuc3RhdGUubG9hZGluZyA9IExvYWRlZCB8IEluc2VydGVkKSksXG4gICAgICAgICAgICAgICFwcmVsb2FkUHJvcHNNYXAuaGFzKHR5cGUpKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgIHZhciBwcmVsb2FkUHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgcmVsOiBcInByZWxvYWRcIixcbiAgICAgICAgICAgICAgICBhczogXCJzdHlsZVwiLFxuICAgICAgICAgICAgICAgIGhyZWY6IHBlbmRpbmdQcm9wcy5ocmVmLFxuICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiBwZW5kaW5nUHJvcHMuY3Jvc3NPcmlnaW4sXG4gICAgICAgICAgICAgICAgaW50ZWdyaXR5OiBwZW5kaW5nUHJvcHMuaW50ZWdyaXR5LFxuICAgICAgICAgICAgICAgIG1lZGlhOiBwZW5kaW5nUHJvcHMubWVkaWEsXG4gICAgICAgICAgICAgICAgaHJlZkxhbmc6IHBlbmRpbmdQcm9wcy5ocmVmTGFuZyxcbiAgICAgICAgICAgICAgICByZWZlcnJlclBvbGljeTogcGVuZGluZ1Byb3BzLnJlZmVycmVyUG9saWN5XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIHByZWxvYWRQcm9wc01hcC5zZXQodHlwZSwgcHJlbG9hZFByb3BzKTtcbiAgICAgICAgICAgICAgX3N0eWxlcyB8fFxuICAgICAgICAgICAgICAgIHByZWxvYWRTdHlsZXNoZWV0KFxuICAgICAgICAgICAgICAgICAgcmVzb3VyY2VSb290LFxuICAgICAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgICAgIHByZWxvYWRQcm9wcyxcbiAgICAgICAgICAgICAgICAgIF9yZXNvdXJjZS5zdGF0ZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3VycmVudFByb3BzICYmIG51bGwgPT09IGN1cnJlbnRSZXNvdXJjZSlcbiAgICAgICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgICAgICgocGVuZGluZ1Byb3BzID1cbiAgICAgICAgICAgICAgICAgIFwiXFxuXFxuICAtIFwiICtcbiAgICAgICAgICAgICAgICAgIGRlc2NyaWJlTGlua0ZvclJlc291cmNlRXJyb3JERVYoY3VycmVudFByb3BzKSArXG4gICAgICAgICAgICAgICAgICBcIlxcbiAgKyBcIiArXG4gICAgICAgICAgICAgICAgICBkZXNjcmliZUxpbmtGb3JSZXNvdXJjZUVycm9yREVWKHBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJFeHBlY3RlZCA8bGluaz4gbm90IHRvIHVwZGF0ZSB0byBiZSB1cGRhdGVkIHRvIGEgc3R5bGVzaGVldCB3aXRoIHByZWNlZGVuY2UuIENoZWNrIHRoZSBgcmVsYCwgYGhyZWZgLCBhbmQgYHByZWNlZGVuY2VgIHByb3BzIG9mIHRoaXMgY29tcG9uZW50LiBBbHRlcm5hdGl2ZWx5LCBjaGVjayB3aGV0aGVyIHR3byBkaWZmZXJlbnQgPGxpbms+IGNvbXBvbmVudHMgcmVuZGVyIGluIHRoZSBzYW1lIHNsb3Qgb3Igc2hhcmUgdGhlIHNhbWUga2V5LlwiICtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1Byb3BzXG4gICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBfcmVzb3VyY2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50UHJvcHMgJiYgbnVsbCAhPT0gY3VycmVudFJlc291cmNlKVxuICAgICAgICAgICAgdGhyb3cgKFxuICAgICAgICAgICAgICAoKHBlbmRpbmdQcm9wcyA9XG4gICAgICAgICAgICAgICAgXCJcXG5cXG4gIC0gXCIgK1xuICAgICAgICAgICAgICAgIGRlc2NyaWJlTGlua0ZvclJlc291cmNlRXJyb3JERVYoY3VycmVudFByb3BzKSArXG4gICAgICAgICAgICAgICAgXCJcXG4gICsgXCIgK1xuICAgICAgICAgICAgICAgIGRlc2NyaWJlTGlua0ZvclJlc291cmNlRXJyb3JERVYocGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAgIEVycm9yKFxuICAgICAgICAgICAgICAgIFwiRXhwZWN0ZWQgc3R5bGVzaGVldCB3aXRoIHByZWNlZGVuY2UgdG8gbm90IGJlIHVwZGF0ZWQgdG8gYSBkaWZmZXJlbnQga2luZCBvZiA8bGluaz4uIENoZWNrIHRoZSBgcmVsYCwgYGhyZWZgLCBhbmQgYHByZWNlZGVuY2VgIHByb3BzIG9mIHRoaXMgY29tcG9uZW50LiBBbHRlcm5hdGl2ZWx5LCBjaGVjayB3aGV0aGVyIHR3byBkaWZmZXJlbnQgPGxpbms+IGNvbXBvbmVudHMgcmVuZGVyIGluIHRoZSBzYW1lIHNsb3Qgb3Igc2hhcmUgdGhlIHNhbWUga2V5LlwiICtcbiAgICAgICAgICAgICAgICAgIHBlbmRpbmdQcm9wc1xuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoY3VycmVudFByb3BzID0gcGVuZGluZ1Byb3BzLmFzeW5jKSxcbiAgICAgICAgICAgIChwZW5kaW5nUHJvcHMgPSBwZW5kaW5nUHJvcHMuc3JjKSxcbiAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwZW5kaW5nUHJvcHMgJiZcbiAgICAgICAgICAgIGN1cnJlbnRQcm9wcyAmJlxuICAgICAgICAgICAgXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY3VycmVudFByb3BzICYmXG4gICAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgY3VycmVudFByb3BzXG4gICAgICAgICAgICAgID8gKChwZW5kaW5nUHJvcHMgPSBnZXRTY3JpcHRLZXkocGVuZGluZ1Byb3BzKSksXG4gICAgICAgICAgICAgICAgKGN1cnJlbnRQcm9wcyA9XG4gICAgICAgICAgICAgICAgICBnZXRSZXNvdXJjZXNGcm9tUm9vdChyZXNvdXJjZVJvb3QpLmhvaXN0YWJsZVNjcmlwdHMpLFxuICAgICAgICAgICAgICAgIChjdXJyZW50UmVzb3VyY2UgPSBjdXJyZW50UHJvcHMuZ2V0KHBlbmRpbmdQcm9wcykpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRSZXNvdXJjZSB8fFxuICAgICAgICAgICAgICAgICAgKChjdXJyZW50UmVzb3VyY2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2NyaXB0XCIsXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdGU6IG51bGxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgY3VycmVudFByb3BzLnNldChwZW5kaW5nUHJvcHMsIGN1cnJlbnRSZXNvdXJjZSkpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRSZXNvdXJjZSlcbiAgICAgICAgICAgICAgOiB7IHR5cGU6IFwidm9pZFwiLCBpbnN0YW5jZTogbnVsbCwgY291bnQ6IDAsIHN0YXRlOiBudWxsIH1cbiAgICAgICAgICApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICAgJ2dldFJlc291cmNlIGVuY291bnRlcmVkIGEgdHlwZSBpdCBkaWQgbm90IGV4cGVjdDogXCInICtcbiAgICAgICAgICAgICAgdHlwZSArXG4gICAgICAgICAgICAgICdcIi4gdGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4nXG4gICAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGVzY3JpYmVMaW5rRm9yUmVzb3VyY2VFcnJvckRFVihwcm9wcykge1xuICAgICAgdmFyIGRlc2NyaWJlZFByb3BzID0gMCxcbiAgICAgICAgZGVzY3JpcHRpb24gPSBcIjxsaW5rXCI7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMucmVsXG4gICAgICAgID8gKGRlc2NyaWJlZFByb3BzKyssIChkZXNjcmlwdGlvbiArPSAnIHJlbD1cIicgKyBwcm9wcy5yZWwgKyAnXCInKSlcbiAgICAgICAgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCBcInJlbFwiKSAmJlxuICAgICAgICAgIChkZXNjcmliZWRQcm9wcysrLFxuICAgICAgICAgIChkZXNjcmlwdGlvbiArPVxuICAgICAgICAgICAgJyByZWw9XCInICtcbiAgICAgICAgICAgIChudWxsID09PSBwcm9wcy5yZWwgPyBcIm51bGxcIiA6IFwiaW52YWxpZCB0eXBlIFwiICsgdHlwZW9mIHByb3BzLnJlbCkgK1xuICAgICAgICAgICAgJ1wiJykpO1xuICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHByb3BzLmhyZWZcbiAgICAgICAgPyAoZGVzY3JpYmVkUHJvcHMrKywgKGRlc2NyaXB0aW9uICs9ICcgaHJlZj1cIicgKyBwcm9wcy5ocmVmICsgJ1wiJykpXG4gICAgICAgIDogaGFzT3duUHJvcGVydHkuY2FsbChwcm9wcywgXCJocmVmXCIpICYmXG4gICAgICAgICAgKGRlc2NyaWJlZFByb3BzKyssXG4gICAgICAgICAgKGRlc2NyaXB0aW9uICs9XG4gICAgICAgICAgICAnIGhyZWY9XCInICtcbiAgICAgICAgICAgIChudWxsID09PSBwcm9wcy5ocmVmXG4gICAgICAgICAgICAgID8gXCJudWxsXCJcbiAgICAgICAgICAgICAgOiBcImludmFsaWQgdHlwZSBcIiArIHR5cGVvZiBwcm9wcy5ocmVmKSArXG4gICAgICAgICAgICAnXCInKSk7XG4gICAgICBcInN0cmluZ1wiID09PSB0eXBlb2YgcHJvcHMucHJlY2VkZW5jZVxuICAgICAgICA/IChkZXNjcmliZWRQcm9wcysrLFxuICAgICAgICAgIChkZXNjcmlwdGlvbiArPSAnIHByZWNlZGVuY2U9XCInICsgcHJvcHMucHJlY2VkZW5jZSArICdcIicpKVxuICAgICAgICA6IGhhc093blByb3BlcnR5LmNhbGwocHJvcHMsIFwicHJlY2VkZW5jZVwiKSAmJlxuICAgICAgICAgIChkZXNjcmliZWRQcm9wcysrLFxuICAgICAgICAgIChkZXNjcmlwdGlvbiArPVxuICAgICAgICAgICAgXCIgcHJlY2VkZW5jZT17XCIgK1xuICAgICAgICAgICAgKG51bGwgPT09IHByb3BzLnByZWNlZGVuY2VcbiAgICAgICAgICAgICAgPyBcIm51bGxcIlxuICAgICAgICAgICAgICA6IFwiaW52YWxpZCB0eXBlIFwiICsgdHlwZW9mIHByb3BzLnByZWNlZGVuY2UpICtcbiAgICAgICAgICAgIFwifVwiKSk7XG4gICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm9wcykubGVuZ3RoID4gZGVzY3JpYmVkUHJvcHMgJiZcbiAgICAgICAgKGRlc2NyaXB0aW9uICs9IFwiIC4uLlwiKTtcbiAgICAgIHJldHVybiBkZXNjcmlwdGlvbiArIFwiIC8+XCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN0eWxlS2V5KGhyZWYpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICdocmVmPVwiJyArIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoaHJlZikgKyAnXCInXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdHlsZXNoZWV0U2VsZWN0b3JGcm9tS2V5KGtleSkge1xuICAgICAgcmV0dXJuICdsaW5rW3JlbD1cInN0eWxlc2hlZXRcIl1bJyArIGtleSArIFwiXVwiO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdHlsZXNoZWV0UHJvcHNGcm9tUmF3UHJvcHMocmF3UHJvcHMpIHtcbiAgICAgIHJldHVybiBhc3NpZ24oe30sIHJhd1Byb3BzLCB7XG4gICAgICAgIFwiZGF0YS1wcmVjZWRlbmNlXCI6IHJhd1Byb3BzLnByZWNlZGVuY2UsXG4gICAgICAgIHByZWNlZGVuY2U6IG51bGxcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVsb2FkU3R5bGVzaGVldChvd25lckRvY3VtZW50LCBrZXksIHByZWxvYWRQcm9wcywgc3RhdGUpIHtcbiAgICAgIG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgICAgJ2xpbmtbcmVsPVwicHJlbG9hZFwiXVthcz1cInN0eWxlXCJdWycgKyBrZXkgKyBcIl1cIlxuICAgICAgKVxuICAgICAgICA/IChzdGF0ZS5sb2FkaW5nID0gTG9hZGVkKVxuICAgICAgICA6ICgoa2V5ID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKSksXG4gICAgICAgICAgKHN0YXRlLnByZWxvYWQgPSBrZXkpLFxuICAgICAgICAgIGtleS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHN0YXRlLmxvYWRpbmcgfD0gTG9hZGVkKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBrZXkuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiAoc3RhdGUubG9hZGluZyB8PSBFcnJvcmVkKTtcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhrZXksIFwibGlua1wiLCBwcmVsb2FkUHJvcHMpLFxuICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoa2V5KSxcbiAgICAgICAgICBvd25lckRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoa2V5KSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFNjcmlwdEtleShzcmMpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgICdbc3JjPVwiJyArIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoc3JjKSArICdcIl0nXG4gICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoa2V5KSB7XG4gICAgICByZXR1cm4gXCJzY3JpcHRbYXN5bmNdXCIgKyBrZXk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFjcXVpcmVSZXNvdXJjZShob2lzdGFibGVSb290LCByZXNvdXJjZSwgcHJvcHMpIHtcbiAgICAgIHJlc291cmNlLmNvdW50Kys7XG4gICAgICBpZiAobnVsbCA9PT0gcmVzb3VyY2UuaW5zdGFuY2UpXG4gICAgICAgIHN3aXRjaCAocmVzb3VyY2UudHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gaG9pc3RhYmxlUm9vdC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAnc3R5bGVbZGF0YS1ocmVmfj1cIicgK1xuICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMocHJvcHMuaHJlZikgK1xuICAgICAgICAgICAgICAgICdcIl0nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlKVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChyZXNvdXJjZS5pbnN0YW5jZSA9IGluc3RhbmNlKSxcbiAgICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGluc3RhbmNlKSxcbiAgICAgICAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgdmFyIHN0eWxlUHJvcHMgPSBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgICAgIFwiZGF0YS1ocmVmXCI6IHByb3BzLmhyZWYsXG4gICAgICAgICAgICAgIFwiZGF0YS1wcmVjZWRlbmNlXCI6IHByb3BzLnByZWNlZGVuY2UsXG4gICAgICAgICAgICAgIGhyZWY6IG51bGwsXG4gICAgICAgICAgICAgIHByZWNlZGVuY2U6IG51bGxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5zdGFuY2UgPSAoXG4gICAgICAgICAgICAgIGhvaXN0YWJsZVJvb3Qub3duZXJEb2N1bWVudCB8fCBob2lzdGFibGVSb290XG4gICAgICAgICAgICApLmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaW5zdGFuY2UpO1xuICAgICAgICAgICAgc2V0SW5pdGlhbFByb3BlcnRpZXMoaW5zdGFuY2UsIFwic3R5bGVcIiwgc3R5bGVQcm9wcyk7XG4gICAgICAgICAgICBpbnNlcnRTdHlsZXNoZWV0KGluc3RhbmNlLCBwcm9wcy5wcmVjZWRlbmNlLCBob2lzdGFibGVSb290KTtcbiAgICAgICAgICAgIHJldHVybiAocmVzb3VyY2UuaW5zdGFuY2UgPSBpbnN0YW5jZSk7XG4gICAgICAgICAgY2FzZSBcInN0eWxlc2hlZXRcIjpcbiAgICAgICAgICAgIHN0eWxlUHJvcHMgPSBnZXRTdHlsZUtleShwcm9wcy5ocmVmKTtcbiAgICAgICAgICAgIHZhciBfaW5zdGFuY2UgPSBob2lzdGFibGVSb290LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkoc3R5bGVQcm9wcylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoX2luc3RhbmNlKVxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkKSxcbiAgICAgICAgICAgICAgICAocmVzb3VyY2UuaW5zdGFuY2UgPSBfaW5zdGFuY2UpLFxuICAgICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoX2luc3RhbmNlKSxcbiAgICAgICAgICAgICAgICBfaW5zdGFuY2VcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGluc3RhbmNlID0gc3R5bGVzaGVldFByb3BzRnJvbVJhd1Byb3BzKHByb3BzKTtcbiAgICAgICAgICAgIChzdHlsZVByb3BzID0gcHJlbG9hZFByb3BzTWFwLmdldChzdHlsZVByb3BzKSkgJiZcbiAgICAgICAgICAgICAgYWRvcHRQcmVsb2FkUHJvcHNGb3JTdHlsZXNoZWV0KGluc3RhbmNlLCBzdHlsZVByb3BzKTtcbiAgICAgICAgICAgIF9pbnN0YW5jZSA9IChcbiAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3RcbiAgICAgICAgICAgICkuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKF9pbnN0YW5jZSk7XG4gICAgICAgICAgICB2YXIgbGlua0luc3RhbmNlID0gX2luc3RhbmNlO1xuICAgICAgICAgICAgbGlua0luc3RhbmNlLl9wID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICBsaW5rSW5zdGFuY2Uub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgICAgICAgbGlua0luc3RhbmNlLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKF9pbnN0YW5jZSwgXCJsaW5rXCIsIGluc3RhbmNlKTtcbiAgICAgICAgICAgIHJlc291cmNlLnN0YXRlLmxvYWRpbmcgfD0gSW5zZXJ0ZWQ7XG4gICAgICAgICAgICBpbnNlcnRTdHlsZXNoZWV0KF9pbnN0YW5jZSwgcHJvcHMucHJlY2VkZW5jZSwgaG9pc3RhYmxlUm9vdCk7XG4gICAgICAgICAgICByZXR1cm4gKHJlc291cmNlLmluc3RhbmNlID0gX2luc3RhbmNlKTtcbiAgICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgICBfaW5zdGFuY2UgPSBnZXRTY3JpcHRLZXkocHJvcHMuc3JjKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKHN0eWxlUHJvcHMgPSBob2lzdGFibGVSb290LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KF9pbnN0YW5jZSlcbiAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAocmVzb3VyY2UuaW5zdGFuY2UgPSBzdHlsZVByb3BzKSxcbiAgICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKHN0eWxlUHJvcHMpLFxuICAgICAgICAgICAgICAgIHN0eWxlUHJvcHNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGluc3RhbmNlID0gcHJvcHM7XG4gICAgICAgICAgICBpZiAoKHN0eWxlUHJvcHMgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KF9pbnN0YW5jZSkpKVxuICAgICAgICAgICAgICAoaW5zdGFuY2UgPSBhc3NpZ24oe30sIHByb3BzKSksXG4gICAgICAgICAgICAgICAgYWRvcHRQcmVsb2FkUHJvcHNGb3JTY3JpcHQoaW5zdGFuY2UsIHN0eWxlUHJvcHMpO1xuICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IGhvaXN0YWJsZVJvb3Qub3duZXJEb2N1bWVudCB8fCBob2lzdGFibGVSb290O1xuICAgICAgICAgICAgc3R5bGVQcm9wcyA9IGhvaXN0YWJsZVJvb3QuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoc3R5bGVQcm9wcyk7XG4gICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhzdHlsZVByb3BzLCBcImxpbmtcIiwgaW5zdGFuY2UpO1xuICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlUHJvcHMpO1xuICAgICAgICAgICAgcmV0dXJuIChyZXNvdXJjZS5pbnN0YW5jZSA9IHN0eWxlUHJvcHMpO1xuICAgICAgICAgIGNhc2UgXCJ2b2lkXCI6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICdhY3F1aXJlUmVzb3VyY2UgZW5jb3VudGVyZWQgYSByZXNvdXJjZSB0eXBlIGl0IGRpZCBub3QgZXhwZWN0OiBcIicgK1xuICAgICAgICAgICAgICAgIHJlc291cmNlLnR5cGUgK1xuICAgICAgICAgICAgICAgICdcIi4gdGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICBlbHNlXG4gICAgICAgIFwic3R5bGVzaGVldFwiID09PSByZXNvdXJjZS50eXBlICYmXG4gICAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgJiBJbnNlcnRlZCkgPT09IE5vdExvYWRlZCAmJlxuICAgICAgICAgICgoaW5zdGFuY2UgPSByZXNvdXJjZS5pbnN0YW5jZSksXG4gICAgICAgICAgKHJlc291cmNlLnN0YXRlLmxvYWRpbmcgfD0gSW5zZXJ0ZWQpLFxuICAgICAgICAgIGluc2VydFN0eWxlc2hlZXQoaW5zdGFuY2UsIHByb3BzLnByZWNlZGVuY2UsIGhvaXN0YWJsZVJvb3QpKTtcbiAgICAgIHJldHVybiByZXNvdXJjZS5pbnN0YW5jZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5zZXJ0U3R5bGVzaGVldChpbnN0YW5jZSwgcHJlY2VkZW5jZSwgcm9vdCkge1xuICAgICAgZm9yIChcbiAgICAgICAgdmFyIG5vZGVzID0gcm9vdC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAgICAgJ2xpbmtbcmVsPVwic3R5bGVzaGVldFwiXVtkYXRhLXByZWNlZGVuY2VdLHN0eWxlW2RhdGEtcHJlY2VkZW5jZV0nXG4gICAgICAgICAgKSxcbiAgICAgICAgICBsYXN0ID0gbm9kZXMubGVuZ3RoID8gbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV0gOiBudWxsLFxuICAgICAgICAgIHByaW9yID0gbGFzdCxcbiAgICAgICAgICBpID0gMDtcbiAgICAgICAgaSA8IG5vZGVzLmxlbmd0aDtcbiAgICAgICAgaSsrXG4gICAgICApIHtcbiAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGUuZGF0YXNldC5wcmVjZWRlbmNlID09PSBwcmVjZWRlbmNlKSBwcmlvciA9IG5vZGU7XG4gICAgICAgIGVsc2UgaWYgKHByaW9yICE9PSBsYXN0KSBicmVhaztcbiAgICAgIH1cbiAgICAgIHByaW9yXG4gICAgICAgID8gcHJpb3IucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaW5zdGFuY2UsIHByaW9yLm5leHRTaWJsaW5nKVxuICAgICAgICA6ICgocHJlY2VkZW5jZSA9IDkgPT09IHJvb3Qubm9kZVR5cGUgPyByb290LmhlYWQgOiByb290KSxcbiAgICAgICAgICBwcmVjZWRlbmNlLmluc2VydEJlZm9yZShpbnN0YW5jZSwgcHJlY2VkZW5jZS5maXJzdENoaWxkKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkb3B0UHJlbG9hZFByb3BzRm9yU3R5bGVzaGVldChzdHlsZXNoZWV0UHJvcHMsIHByZWxvYWRQcm9wcykge1xuICAgICAgbnVsbCA9PSBzdHlsZXNoZWV0UHJvcHMuY3Jvc3NPcmlnaW4gJiZcbiAgICAgICAgKHN0eWxlc2hlZXRQcm9wcy5jcm9zc09yaWdpbiA9IHByZWxvYWRQcm9wcy5jcm9zc09yaWdpbik7XG4gICAgICBudWxsID09IHN0eWxlc2hlZXRQcm9wcy5yZWZlcnJlclBvbGljeSAmJlxuICAgICAgICAoc3R5bGVzaGVldFByb3BzLnJlZmVycmVyUG9saWN5ID0gcHJlbG9hZFByb3BzLnJlZmVycmVyUG9saWN5KTtcbiAgICAgIG51bGwgPT0gc3R5bGVzaGVldFByb3BzLnRpdGxlICYmXG4gICAgICAgIChzdHlsZXNoZWV0UHJvcHMudGl0bGUgPSBwcmVsb2FkUHJvcHMudGl0bGUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZG9wdFByZWxvYWRQcm9wc0ZvclNjcmlwdChzY3JpcHRQcm9wcywgcHJlbG9hZFByb3BzKSB7XG4gICAgICBudWxsID09IHNjcmlwdFByb3BzLmNyb3NzT3JpZ2luICYmXG4gICAgICAgIChzY3JpcHRQcm9wcy5jcm9zc09yaWdpbiA9IHByZWxvYWRQcm9wcy5jcm9zc09yaWdpbik7XG4gICAgICBudWxsID09IHNjcmlwdFByb3BzLnJlZmVycmVyUG9saWN5ICYmXG4gICAgICAgIChzY3JpcHRQcm9wcy5yZWZlcnJlclBvbGljeSA9IHByZWxvYWRQcm9wcy5yZWZlcnJlclBvbGljeSk7XG4gICAgICBudWxsID09IHNjcmlwdFByb3BzLmludGVncml0eSAmJlxuICAgICAgICAoc2NyaXB0UHJvcHMuaW50ZWdyaXR5ID0gcHJlbG9hZFByb3BzLmludGVncml0eSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEh5ZHJhdGFibGVIb2lzdGFibGVDYWNoZSh0eXBlLCBrZXlBdHRyaWJ1dGUsIG93bmVyRG9jdW1lbnQpIHtcbiAgICAgIGlmIChudWxsID09PSB0YWdDYWNoZXMpIHtcbiAgICAgICAgdmFyIGNhY2hlID0gbmV3IE1hcCgpO1xuICAgICAgICB2YXIgY2FjaGVzID0gKHRhZ0NhY2hlcyA9IG5ldyBNYXAoKSk7XG4gICAgICAgIGNhY2hlcy5zZXQob3duZXJEb2N1bWVudCwgY2FjaGUpO1xuICAgICAgfSBlbHNlXG4gICAgICAgIChjYWNoZXMgPSB0YWdDYWNoZXMpLFxuICAgICAgICAgIChjYWNoZSA9IGNhY2hlcy5nZXQob3duZXJEb2N1bWVudCkpLFxuICAgICAgICAgIGNhY2hlIHx8ICgoY2FjaGUgPSBuZXcgTWFwKCkpLCBjYWNoZXMuc2V0KG93bmVyRG9jdW1lbnQsIGNhY2hlKSk7XG4gICAgICBpZiAoY2FjaGUuaGFzKHR5cGUpKSByZXR1cm4gY2FjaGU7XG4gICAgICBjYWNoZS5zZXQodHlwZSwgbnVsbCk7XG4gICAgICBvd25lckRvY3VtZW50ID0gb3duZXJEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0eXBlKTtcbiAgICAgIGZvciAoY2FjaGVzID0gMDsgY2FjaGVzIDwgb3duZXJEb2N1bWVudC5sZW5ndGg7IGNhY2hlcysrKSB7XG4gICAgICAgIHZhciBub2RlID0gb3duZXJEb2N1bWVudFtjYWNoZXNdO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIShcbiAgICAgICAgICAgIG5vZGVbaW50ZXJuYWxIb2lzdGFibGVNYXJrZXJdIHx8XG4gICAgICAgICAgICBub2RlW2ludGVybmFsSW5zdGFuY2VLZXldIHx8XG4gICAgICAgICAgICAoXCJsaW5rXCIgPT09IHR5cGUgJiYgXCJzdHlsZXNoZWV0XCIgPT09IG5vZGUuZ2V0QXR0cmlidXRlKFwicmVsXCIpKVxuICAgICAgICAgICkgJiZcbiAgICAgICAgICBub2RlLm5hbWVzcGFjZVVSSSAhPT0gU1ZHX05BTUVTUEFDRVxuICAgICAgICApIHtcbiAgICAgICAgICB2YXIgbm9kZUtleSA9IG5vZGUuZ2V0QXR0cmlidXRlKGtleUF0dHJpYnV0ZSkgfHwgXCJcIjtcbiAgICAgICAgICBub2RlS2V5ID0gdHlwZSArIG5vZGVLZXk7XG4gICAgICAgICAgdmFyIGV4aXN0aW5nID0gY2FjaGUuZ2V0KG5vZGVLZXkpO1xuICAgICAgICAgIGV4aXN0aW5nID8gZXhpc3RpbmcucHVzaChub2RlKSA6IGNhY2hlLnNldChub2RlS2V5LCBbbm9kZV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FjaGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG1vdW50SG9pc3RhYmxlKGhvaXN0YWJsZVJvb3QsIHR5cGUsIGluc3RhbmNlKSB7XG4gICAgICBob2lzdGFibGVSb290ID0gaG9pc3RhYmxlUm9vdC5vd25lckRvY3VtZW50IHx8IGhvaXN0YWJsZVJvb3Q7XG4gICAgICBob2lzdGFibGVSb290LmhlYWQuaW5zZXJ0QmVmb3JlKFxuICAgICAgICBpbnN0YW5jZSxcbiAgICAgICAgXCJ0aXRsZVwiID09PSB0eXBlID8gaG9pc3RhYmxlUm9vdC5xdWVyeVNlbGVjdG9yKFwiaGVhZCA+IHRpdGxlXCIpIDogbnVsbFxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNIb3N0SG9pc3RhYmxlVHlwZSh0eXBlLCBwcm9wcywgaG9zdENvbnRleHQpIHtcbiAgICAgIHZhciBvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgPVxuICAgICAgICAhaG9zdENvbnRleHQuYW5jZXN0b3JJbmZvLmNvbnRhaW5lclRhZ0luU2NvcGU7XG4gICAgICBpZiAoXG4gICAgICAgIGhvc3RDb250ZXh0LmNvbnRleHQgPT09IEhvc3RDb250ZXh0TmFtZXNwYWNlU3ZnIHx8XG4gICAgICAgIG51bGwgIT0gcHJvcHMuaXRlbVByb3BcbiAgICAgIClcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAhb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0IHx8XG4gICAgICAgICAgICBudWxsID09IHByb3BzLml0ZW1Qcm9wIHx8XG4gICAgICAgICAgICAoXCJtZXRhXCIgIT09IHR5cGUgJiZcbiAgICAgICAgICAgICAgXCJ0aXRsZVwiICE9PSB0eXBlICYmXG4gICAgICAgICAgICAgIFwic3R5bGVcIiAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgICBcImxpbmtcIiAhPT0gdHlwZSAmJlxuICAgICAgICAgICAgICBcInNjcmlwdFwiICE9PSB0eXBlKSB8fFxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIGEgPCVzPiBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50IGlmIGl0IGhhcyBhbiBgaXRlbVByb3BgIHByb3AuIGBpdGVtUHJvcGAgc3VnZ2VzdHMgdGhlIHRhZyBiZWxvbmdzIHRvIGFuIGBpdGVtU2NvcGVgIHdoaWNoIGNhbiBhcHBlYXIgYW55d2hlcmUgaW4gdGhlIERPTS4gSWYgeW91IHdlcmUgaW50ZW5kaW5nIGZvciBSZWFjdCB0byBob2lzdCB0aGlzIDwlcz4gcmVtb3ZlIHRoZSBgaXRlbVByb3BgIHByb3AuIE90aGVyd2lzZSwgdHJ5IG1vdmluZyB0aGlzIHRhZyBpbnRvIHRoZSA8aGVhZD4gb3IgPGJvZHk+IG9mIHRoZSBEb2N1bWVudC5cIixcbiAgICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgICAgdHlwZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAhMVxuICAgICAgICApO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJtZXRhXCI6XG4gICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgY2FzZSBcInN0eWxlXCI6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLnByZWNlZGVuY2UgfHxcbiAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiBwcm9wcy5ocmVmIHx8XG4gICAgICAgICAgICBcIlwiID09PSBwcm9wcy5ocmVmXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgJiZcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAnQ2Fubm90IHJlbmRlciBhIDxzdHlsZT4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudCB3aXRob3V0IGtub3dpbmcgaXRzIHByZWNlZGVuY2UgYW5kIGEgdW5pcXVlIGhyZWYga2V5LiBSZWFjdCBjYW4gaG9pc3QgYW5kIGRlZHVwbGljYXRlIDxzdHlsZT4gdGFncyBpZiB5b3UgcHJvdmlkZSBhIGBwcmVjZWRlbmNlYCBwcm9wIGFsb25nIHdpdGggYW4gYGhyZWZgIHByb3AgdGhhdCBkb2VzIG5vdCBjb25mbGljIHdpdGggdGhlIGBocmVmYCB2YWx1ZXMgdXNlZCBpbiBhbnkgb3RoZXIgaG9pc3RlZCA8c3R5bGU+IG9yIDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiAuLi4+IHRhZ3MuICBOb3RlIHRoYXQgaG9pc3RpbmcgPHN0eWxlPiB0YWdzIGlzIGNvbnNpZGVyZWQgYW4gYWR2YW5jZWQgZmVhdHVyZSB0aGF0IG1vc3Qgd2lsbCBub3QgdXNlIGRpcmVjdGx5LiBDb25zaWRlciBtb3ZpbmcgdGhlIDxzdHlsZT4gdGFnIHRvIHRoZSA8aGVhZD4gb3IgY29uc2lkZXIgYWRkaW5nIGEgYHByZWNlZGVuY2U9XCJkZWZhdWx0XCJgIGFuZCBgaHJlZj1cInNvbWUgdW5pcXVlIHJlc291cmNlIGlkZW50aWZpZXJcImAsIG9yIG1vdmUgdGhlIDxzdHlsZT4gdG8gdGhlIDxzdHlsZT4gdGFnLidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGNhc2UgXCJsaW5rXCI6XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLnJlbCB8fFxuICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLmhyZWYgfHxcbiAgICAgICAgICAgIFwiXCIgPT09IHByb3BzLmhyZWYgfHxcbiAgICAgICAgICAgIHByb3BzLm9uTG9hZCB8fFxuICAgICAgICAgICAgcHJvcHMub25FcnJvclxuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gcHJvcHMucmVsICYmXG4gICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBwcm9wcy5wcmVjZWRlbmNlXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgdHlwZSA9IHByb3BzLmhyZWY7XG4gICAgICAgICAgICAgIHZhciBvbkVycm9yID0gcHJvcHMub25FcnJvcixcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IHByb3BzLmRpc2FibGVkO1xuICAgICAgICAgICAgICBob3N0Q29udGV4dCA9IFtdO1xuICAgICAgICAgICAgICBwcm9wcy5vbkxvYWQgJiYgaG9zdENvbnRleHQucHVzaChcImBvbkxvYWRgXCIpO1xuICAgICAgICAgICAgICBvbkVycm9yICYmIGhvc3RDb250ZXh0LnB1c2goXCJgb25FcnJvcmBcIik7XG4gICAgICAgICAgICAgIG51bGwgIT0gZGlzYWJsZWQgJiYgaG9zdENvbnRleHQucHVzaChcImBkaXNhYmxlZGBcIik7XG4gICAgICAgICAgICAgIG9uRXJyb3IgPSBwcm9wTmFtZXNMaXN0Sm9pbihob3N0Q29udGV4dCwgXCJhbmRcIik7XG4gICAgICAgICAgICAgIG9uRXJyb3IgKz0gMSA9PT0gaG9zdENvbnRleHQubGVuZ3RoID8gXCIgcHJvcFwiIDogXCIgcHJvcHNcIjtcbiAgICAgICAgICAgICAgZGlzYWJsZWQgPVxuICAgICAgICAgICAgICAgIDEgPT09IGhvc3RDb250ZXh0Lmxlbmd0aCA/IFwiYW4gXCIgKyBvbkVycm9yIDogXCJ0aGUgXCIgKyBvbkVycm9yO1xuICAgICAgICAgICAgICBob3N0Q29udGV4dC5sZW5ndGggJiZcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgJ1JlYWN0IGVuY291bnRlcmVkIGEgPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIGhyZWY9XCIlc1wiIC4uLiAvPiB3aXRoIGEgYHByZWNlZGVuY2VgIHByb3AgdGhhdCBhbHNvIGluY2x1ZGVkICVzLiBUaGUgcHJlc2VuY2Ugb2YgbG9hZGluZyBhbmQgZXJyb3IgaGFuZGxlcnMgaW5kaWNhdGVzIGFuIGludGVudCB0byBtYW5hZ2UgdGhlIHN0eWxlc2hlZXQgbG9hZGluZyBzdGF0ZSBmcm9tIHlvdXIgZnJvbSB5b3VyIENvbXBvbmVudCBjb2RlIGFuZCBSZWFjdCB3aWxsIG5vdCBob2lzdCBvciBkZWR1cGxpY2F0ZSB0aGlzIHN0eWxlc2hlZXQuIElmIHlvdXIgaW50ZW50IHdhcyB0byBoYXZlIFJlYWN0IGhvaXN0IGFuZCBkZWR1cGxjaWF0ZSB0aGlzIHN0eWxlc2hlZXQgdXNpbmcgdGhlIGBwcmVjZWRlbmNlYCBwcm9wIHJlbW92ZSB0aGUgJXMsIG90aGVyd2lzZSByZW1vdmUgdGhlIGBwcmVjZWRlbmNlYCBwcm9wLicsXG4gICAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgICAgICAgZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgICBvbkVycm9yXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dHNpZGVIb3N0Q29udGFpbmVyQ29udGV4dCAmJlxuICAgICAgICAgICAgICAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLnJlbCB8fFxuICAgICAgICAgICAgICBcInN0cmluZ1wiICE9PSB0eXBlb2YgcHJvcHMuaHJlZiB8fFxuICAgICAgICAgICAgICBcIlwiID09PSBwcm9wcy5ocmVmXG4gICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICBcIkNhbm5vdCByZW5kZXIgYSA8bGluaz4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudCB3aXRob3V0IGEgYHJlbGAgYW5kIGBocmVmYCBwcm9wLiBUcnkgYWRkaW5nIGEgYHJlbGAgYW5kL29yIGBocmVmYCBwcm9wIHRvIHRoaXMgPGxpbms+IG9yIG1vdmluZyB0aGUgbGluayBpbnRvIHRoZSA8aGVhZD4gdGFnXCJcbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICA6IChwcm9wcy5vbkVycm9yIHx8IHByb3BzLm9uTG9hZCkgJiZcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHJlbmRlciBhIDxsaW5rPiB3aXRoIG9uTG9hZCBvciBvbkVycm9yIGxpc3RlbmVycyBvdXRzaWRlIHRoZSBtYWluIGRvY3VtZW50LiBUcnkgcmVtb3Zpbmcgb25Mb2FkPXsuLi59IGFuZCBvbkVycm9yPXsuLi59IG9yIG1vdmluZyBpdCBpbnRvIHRoZSByb290IDxoZWFkPiB0YWcgb3Igc29tZXdoZXJlIGluIHRoZSA8Ym9keT4uXCJcbiAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN3aXRjaCAocHJvcHMucmVsKSB7XG4gICAgICAgICAgICBjYXNlIFwic3R5bGVzaGVldFwiOlxuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICh0eXBlID0gcHJvcHMucHJlY2VkZW5jZSksXG4gICAgICAgICAgICAgICAgKHByb3BzID0gcHJvcHMuZGlzYWJsZWQpLFxuICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgIT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgICAgICAgICBvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgJiZcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICdDYW5ub3QgcmVuZGVyIGEgPGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIC8+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQgd2l0aG91dCBrbm93aW5nIGl0cyBwcmVjZWRlbmNlLiBDb25zaWRlciBhZGRpbmcgcHJlY2VkZW5jZT1cImRlZmF1bHRcIiBvciBtb3ZpbmcgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnLidcbiAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUgJiYgbnVsbCA9PSBwcm9wc1xuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInNjcmlwdFwiOlxuICAgICAgICAgIHR5cGUgPVxuICAgICAgICAgICAgcHJvcHMuYXN5bmMgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiAhPT0gdHlwZW9mIHByb3BzLmFzeW5jICYmXG4gICAgICAgICAgICBcInN5bWJvbFwiICE9PSB0eXBlb2YgcHJvcHMuYXN5bmM7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIXR5cGUgfHxcbiAgICAgICAgICAgIHByb3BzLm9uTG9hZCB8fFxuICAgICAgICAgICAgcHJvcHMub25FcnJvciB8fFxuICAgICAgICAgICAgIXByb3BzLnNyYyB8fFxuICAgICAgICAgICAgXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLnNyY1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgb3V0c2lkZUhvc3RDb250YWluZXJDb250ZXh0ICYmXG4gICAgICAgICAgICAgICh0eXBlXG4gICAgICAgICAgICAgICAgPyBwcm9wcy5vbkxvYWQgfHwgcHJvcHMub25FcnJvclxuICAgICAgICAgICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAgIFwiQ2Fubm90IHJlbmRlciBhIDxzY3JpcHQ+IHdpdGggb25Mb2FkIG9yIG9uRXJyb3IgbGlzdGVuZXJzIG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQuIFRyeSByZW1vdmluZyBvbkxvYWQ9ey4uLn0gYW5kIG9uRXJyb3I9ey4uLn0gb3IgbW92aW5nIGl0IGludG8gdGhlIHJvb3QgPGhlYWQ+IHRhZyBvciBzb21ld2hlcmUgaW4gdGhlIDxib2R5Pi5cIlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICA6IGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgICAgICAgXCJDYW5ub3QgcmVuZGVyIGEgPHNjcmlwdD4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudCB3aXRob3V0IGBhc3luYz17dHJ1ZX1gIGFuZCBhIG5vbi1lbXB0eSBgc3JjYCBwcm9wLiBFbnN1cmUgdGhlcmUgaXMgYSB2YWxpZCBgc3JjYCBhbmQgZWl0aGVyIG1ha2UgdGhlIHNjcmlwdCBhc3luYyBvciBtb3ZlIGl0IGludG8gdGhlIHJvb3QgPGhlYWQ+IHRhZyBvciBzb21ld2hlcmUgaW4gdGhlIDxib2R5Pi5cIlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgOiBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICAgICAgICAnQ2Fubm90IHJlbmRlciBhIHN5bmMgb3IgZGVmZXIgPHNjcmlwdD4gb3V0c2lkZSB0aGUgbWFpbiBkb2N1bWVudCB3aXRob3V0IGtub3dpbmcgaXRzIG9yZGVyLiBUcnkgYWRkaW5nIGFzeW5jPVwiXCIgb3IgbW92aW5nIGl0IGludG8gdGhlIHJvb3QgPGhlYWQ+IHRhZy4nXG4gICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGNhc2UgXCJub3NjcmlwdFwiOlxuICAgICAgICBjYXNlIFwidGVtcGxhdGVcIjpcbiAgICAgICAgICBvdXRzaWRlSG9zdENvbnRhaW5lckNvbnRleHQgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiQ2Fubm90IHJlbmRlciA8JXM+IG91dHNpZGUgdGhlIG1haW4gZG9jdW1lbnQuIFRyeSBtb3ZpbmcgaXQgaW50byB0aGUgcm9vdCA8aGVhZD4gdGFnLlwiLFxuICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmdW5jdGlvbiBwcmVsb2FkUmVzb3VyY2UocmVzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcInN0eWxlc2hlZXRcIiA9PT0gcmVzb3VyY2UudHlwZSAmJlxuICAgICAgICAocmVzb3VyY2Uuc3RhdGUubG9hZGluZyAmIFNldHRsZWQpID09PSBOb3RMb2FkZWRcbiAgICAgICAgPyAhMVxuICAgICAgICA6ICEwO1xuICAgIH1cbiAgICBmdW5jdGlvbiBub29wKCkge31cbiAgICBmdW5jdGlvbiBzdXNwZW5kUmVzb3VyY2UoaG9pc3RhYmxlUm9vdCwgcmVzb3VyY2UsIHByb3BzKSB7XG4gICAgICBpZiAobnVsbCA9PT0gc3VzcGVuZGVkU3RhdGUpXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgIFwiSW50ZXJuYWwgUmVhY3QgRXJyb3I6IHN1c3BlbmRlZFN0YXRlIG51bGwgd2hlbiBpdCB3YXMgZXhwZWN0ZWQgdG8gZXhpc3RzLiBQbGVhc2UgcmVwb3J0IHRoaXMgYXMgYSBSZWFjdCBidWcuXCJcbiAgICAgICAgKTtcbiAgICAgIHZhciBzdGF0ZSA9IHN1c3BlbmRlZFN0YXRlO1xuICAgICAgaWYgKFxuICAgICAgICBcInN0eWxlc2hlZXRcIiA9PT0gcmVzb3VyY2UudHlwZSAmJlxuICAgICAgICAoXCJzdHJpbmdcIiAhPT0gdHlwZW9mIHByb3BzLm1lZGlhIHx8XG4gICAgICAgICAgITEgIT09IG1hdGNoTWVkaWEocHJvcHMubWVkaWEpLm1hdGNoZXMpICYmXG4gICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nICYgSW5zZXJ0ZWQpID09PSBOb3RMb2FkZWRcbiAgICAgICkge1xuICAgICAgICBpZiAobnVsbCA9PT0gcmVzb3VyY2UuaW5zdGFuY2UpIHtcbiAgICAgICAgICB2YXIga2V5ID0gZ2V0U3R5bGVLZXkocHJvcHMuaHJlZiksXG4gICAgICAgICAgICBpbnN0YW5jZSA9IGhvaXN0YWJsZVJvb3QucXVlcnlTZWxlY3RvcihcbiAgICAgICAgICAgICAgZ2V0U3R5bGVzaGVldFNlbGVjdG9yRnJvbUtleShrZXkpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGlmIChpbnN0YW5jZSkge1xuICAgICAgICAgICAgaG9pc3RhYmxlUm9vdCA9IGluc3RhbmNlLl9wO1xuICAgICAgICAgICAgbnVsbCAhPT0gaG9pc3RhYmxlUm9vdCAmJlxuICAgICAgICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgaG9pc3RhYmxlUm9vdCAmJlxuICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBob2lzdGFibGVSb290LnRoZW4gJiZcbiAgICAgICAgICAgICAgKHN0YXRlLmNvdW50KyssXG4gICAgICAgICAgICAgIChzdGF0ZSA9IG9uVW5zdXNwZW5kLmJpbmQoc3RhdGUpKSxcbiAgICAgICAgICAgICAgaG9pc3RhYmxlUm9vdC50aGVuKHN0YXRlLCBzdGF0ZSkpO1xuICAgICAgICAgICAgcmVzb3VyY2Uuc3RhdGUubG9hZGluZyB8PSBJbnNlcnRlZDtcbiAgICAgICAgICAgIHJlc291cmNlLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGluc3RhbmNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5zdGFuY2UgPSBob2lzdGFibGVSb290Lm93bmVyRG9jdW1lbnQgfHwgaG9pc3RhYmxlUm9vdDtcbiAgICAgICAgICBwcm9wcyA9IHN0eWxlc2hlZXRQcm9wc0Zyb21SYXdQcm9wcyhwcm9wcyk7XG4gICAgICAgICAgKGtleSA9IHByZWxvYWRQcm9wc01hcC5nZXQoa2V5KSkgJiZcbiAgICAgICAgICAgIGFkb3B0UHJlbG9hZFByb3BzRm9yU3R5bGVzaGVldChwcm9wcywga2V5KTtcbiAgICAgICAgICBpbnN0YW5jZSA9IGluc3RhbmNlLmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoaW5zdGFuY2UpO1xuICAgICAgICAgIHZhciBsaW5rSW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgICAgICAgICBsaW5rSW5zdGFuY2UuX3AgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBsaW5rSW5zdGFuY2Uub25sb2FkID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIGxpbmtJbnN0YW5jZS5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGluc3RhbmNlLCBcImxpbmtcIiwgcHJvcHMpO1xuICAgICAgICAgIHJlc291cmNlLmluc3RhbmNlID0gaW5zdGFuY2U7XG4gICAgICAgIH1cbiAgICAgICAgbnVsbCA9PT0gc3RhdGUuc3R5bGVzaGVldHMgJiYgKHN0YXRlLnN0eWxlc2hlZXRzID0gbmV3IE1hcCgpKTtcbiAgICAgICAgc3RhdGUuc3R5bGVzaGVldHMuc2V0KHJlc291cmNlLCBob2lzdGFibGVSb290KTtcbiAgICAgICAgKGhvaXN0YWJsZVJvb3QgPSByZXNvdXJjZS5zdGF0ZS5wcmVsb2FkKSAmJlxuICAgICAgICAgIChyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nICYgU2V0dGxlZCkgPT09IE5vdExvYWRlZCAmJlxuICAgICAgICAgIChzdGF0ZS5jb3VudCsrLFxuICAgICAgICAgIChyZXNvdXJjZSA9IG9uVW5zdXNwZW5kLmJpbmQoc3RhdGUpKSxcbiAgICAgICAgICBob2lzdGFibGVSb290LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIHJlc291cmNlKSxcbiAgICAgICAgICBob2lzdGFibGVSb290LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCByZXNvdXJjZSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiB3YWl0Rm9yQ29tbWl0VG9CZVJlYWR5KCkge1xuICAgICAgaWYgKG51bGwgPT09IHN1c3BlbmRlZFN0YXRlKVxuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICBcIkludGVybmFsIFJlYWN0IEVycm9yOiBzdXNwZW5kZWRTdGF0ZSBudWxsIHdoZW4gaXQgd2FzIGV4cGVjdGVkIHRvIGV4aXN0cy4gUGxlYXNlIHJlcG9ydCB0aGlzIGFzIGEgUmVhY3QgYnVnLlwiXG4gICAgICAgICk7XG4gICAgICB2YXIgc3RhdGUgPSBzdXNwZW5kZWRTdGF0ZTtcbiAgICAgIHN0YXRlLnN0eWxlc2hlZXRzICYmXG4gICAgICAgIDAgPT09IHN0YXRlLmNvdW50ICYmXG4gICAgICAgIGluc2VydFN1c3BlbmRlZFN0eWxlc2hlZXRzKHN0YXRlLCBzdGF0ZS5zdHlsZXNoZWV0cyk7XG4gICAgICByZXR1cm4gMCA8IHN0YXRlLmNvdW50XG4gICAgICAgID8gZnVuY3Rpb24gKGNvbW1pdCkge1xuICAgICAgICAgICAgdmFyIHN0eWxlc2hlZXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzdGF0ZS5zdHlsZXNoZWV0cyAmJlxuICAgICAgICAgICAgICAgIGluc2VydFN1c3BlbmRlZFN0eWxlc2hlZXRzKHN0YXRlLCBzdGF0ZS5zdHlsZXNoZWV0cyk7XG4gICAgICAgICAgICAgIGlmIChzdGF0ZS51bnN1c3BlbmQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdW5zdXNwZW5kID0gc3RhdGUudW5zdXNwZW5kO1xuICAgICAgICAgICAgICAgIHN0YXRlLnVuc3VzcGVuZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdW5zdXNwZW5kKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDZlNCk7XG4gICAgICAgICAgICBzdGF0ZS51bnN1c3BlbmQgPSBjb21taXQ7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzdGF0ZS51bnN1c3BlbmQgPSBudWxsO1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc3R5bGVzaGVldFRpbWVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uVW5zdXNwZW5kKCkge1xuICAgICAgdGhpcy5jb3VudC0tO1xuICAgICAgaWYgKDAgPT09IHRoaXMuY291bnQpXG4gICAgICAgIGlmICh0aGlzLnN0eWxlc2hlZXRzKVxuICAgICAgICAgIGluc2VydFN1c3BlbmRlZFN0eWxlc2hlZXRzKHRoaXMsIHRoaXMuc3R5bGVzaGVldHMpO1xuICAgICAgICBlbHNlIGlmICh0aGlzLnVuc3VzcGVuZCkge1xuICAgICAgICAgIHZhciB1bnN1c3BlbmQgPSB0aGlzLnVuc3VzcGVuZDtcbiAgICAgICAgICB0aGlzLnVuc3VzcGVuZCA9IG51bGw7XG4gICAgICAgICAgdW5zdXNwZW5kKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaW5zZXJ0U3VzcGVuZGVkU3R5bGVzaGVldHMoc3RhdGUsIHJlc291cmNlcykge1xuICAgICAgc3RhdGUuc3R5bGVzaGVldHMgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gc3RhdGUudW5zdXNwZW5kICYmXG4gICAgICAgIChzdGF0ZS5jb3VudCsrLFxuICAgICAgICAocHJlY2VkZW5jZXNCeVJvb3QgPSBuZXcgTWFwKCkpLFxuICAgICAgICByZXNvdXJjZXMuZm9yRWFjaChpbnNlcnRTdHlsZXNoZWV0SW50b1Jvb3QsIHN0YXRlKSxcbiAgICAgICAgKHByZWNlZGVuY2VzQnlSb290ID0gbnVsbCksXG4gICAgICAgIG9uVW5zdXNwZW5kLmNhbGwoc3RhdGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5zZXJ0U3R5bGVzaGVldEludG9Sb290KHJvb3QsIHJlc291cmNlKSB7XG4gICAgICBpZiAoIShyZXNvdXJjZS5zdGF0ZS5sb2FkaW5nICYgSW5zZXJ0ZWQpKSB7XG4gICAgICAgIHZhciBwcmVjZWRlbmNlcyA9IHByZWNlZGVuY2VzQnlSb290LmdldChyb290KTtcbiAgICAgICAgaWYgKHByZWNlZGVuY2VzKSB2YXIgbGFzdCA9IHByZWNlZGVuY2VzLmdldChMQVNUX1BSRUNFREVOQ0UpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBwcmVjZWRlbmNlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICBwcmVjZWRlbmNlc0J5Um9vdC5zZXQocm9vdCwgcHJlY2VkZW5jZXMpO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICB2YXIgbm9kZXMgPSByb290LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICAgICAgICAgXCJsaW5rW2RhdGEtcHJlY2VkZW5jZV0sc3R5bGVbZGF0YS1wcmVjZWRlbmNlXVwiXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGkgPSAwO1xuICAgICAgICAgICAgaSA8IG5vZGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGkrK1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgXCJMSU5LXCIgPT09IG5vZGUubm9kZU5hbWUgfHxcbiAgICAgICAgICAgICAgXCJub3QgYWxsXCIgIT09IG5vZGUuZ2V0QXR0cmlidXRlKFwibWVkaWFcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgcHJlY2VkZW5jZXMuc2V0KG5vZGUuZGF0YXNldC5wcmVjZWRlbmNlLCBub2RlKSwgKGxhc3QgPSBub2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbGFzdCAmJiBwcmVjZWRlbmNlcy5zZXQoTEFTVF9QUkVDRURFTkNFLCBsYXN0KTtcbiAgICAgICAgfVxuICAgICAgICBub2RlcyA9IHJlc291cmNlLmluc3RhbmNlO1xuICAgICAgICBub2RlID0gbm9kZXMuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcmVjZWRlbmNlXCIpO1xuICAgICAgICBpID0gcHJlY2VkZW5jZXMuZ2V0KG5vZGUpIHx8IGxhc3Q7XG4gICAgICAgIGkgPT09IGxhc3QgJiYgcHJlY2VkZW5jZXMuc2V0KExBU1RfUFJFQ0VERU5DRSwgbm9kZXMpO1xuICAgICAgICBwcmVjZWRlbmNlcy5zZXQobm9kZSwgbm9kZXMpO1xuICAgICAgICB0aGlzLmNvdW50Kys7XG4gICAgICAgIGxhc3QgPSBvblVuc3VzcGVuZC5iaW5kKHRoaXMpO1xuICAgICAgICBub2Rlcy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBsYXN0KTtcbiAgICAgICAgbm9kZXMuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGxhc3QpO1xuICAgICAgICBpXG4gICAgICAgICAgPyBpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG5vZGVzLCBpLm5leHRTaWJsaW5nKVxuICAgICAgICAgIDogKChyb290ID0gOSA9PT0gcm9vdC5ub2RlVHlwZSA/IHJvb3QuaGVhZCA6IHJvb3QpLFxuICAgICAgICAgICAgcm9vdC5pbnNlcnRCZWZvcmUobm9kZXMsIHJvb3QuZmlyc3RDaGlsZCkpO1xuICAgICAgICByZXNvdXJjZS5zdGF0ZS5sb2FkaW5nIHw9IEluc2VydGVkO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBiaW5kVG9Db25zb2xlKG1ldGhvZE5hbWUsIGFyZ3MsIGJhZGdlTmFtZSkge1xuICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICBzd2l0Y2ggKG1ldGhvZE5hbWUpIHtcbiAgICAgICAgY2FzZSBcImRpclwiOlxuICAgICAgICBjYXNlIFwiZGlyeG1sXCI6XG4gICAgICAgIGNhc2UgXCJncm91cEVuZFwiOlxuICAgICAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgICAgICByZXR1cm4gYmluZC5hcHBseShjb25zb2xlW21ldGhvZE5hbWVdLCBbY29uc29sZV0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgY2FzZSBcImFzc2VydFwiOlxuICAgICAgICAgIG9mZnNldCA9IDE7XG4gICAgICB9XG4gICAgICBhcmdzID0gYXJncy5zbGljZSgwKTtcbiAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBhcmdzW29mZnNldF1cbiAgICAgICAgPyBhcmdzLnNwbGljZShcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIDEsXG4gICAgICAgICAgICBiYWRnZUZvcm1hdCArIGFyZ3Nbb2Zmc2V0XSxcbiAgICAgICAgICAgIGJhZGdlU3R5bGUsXG4gICAgICAgICAgICBwYWQgKyBiYWRnZU5hbWUgKyBwYWQsXG4gICAgICAgICAgICByZXNldFN0eWxlXG4gICAgICAgICAgKVxuICAgICAgICA6IGFyZ3Muc3BsaWNlKFxuICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIGJhZGdlRm9ybWF0LFxuICAgICAgICAgICAgYmFkZ2VTdHlsZSxcbiAgICAgICAgICAgIHBhZCArIGJhZGdlTmFtZSArIHBhZCxcbiAgICAgICAgICAgIHJlc2V0U3R5bGVcbiAgICAgICAgICApO1xuICAgICAgYXJncy51bnNoaWZ0KGNvbnNvbGUpO1xuICAgICAgcmV0dXJuIGJpbmQuYXBwbHkoY29uc29sZVttZXRob2ROYW1lXSwgYXJncyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIEZpYmVyUm9vdE5vZGUoXG4gICAgICBjb250YWluZXJJbmZvLFxuICAgICAgdGFnLFxuICAgICAgaHlkcmF0ZSxcbiAgICAgIGlkZW50aWZpZXJQcmVmaXgsXG4gICAgICBvblVuY2F1Z2h0RXJyb3IsXG4gICAgICBvbkNhdWdodEVycm9yLFxuICAgICAgb25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgZm9ybVN0YXRlXG4gICAgKSB7XG4gICAgICB0aGlzLnRhZyA9IDE7XG4gICAgICB0aGlzLmNvbnRhaW5lckluZm8gPSBjb250YWluZXJJbmZvO1xuICAgICAgdGhpcy5maW5pc2hlZFdvcmsgPVxuICAgICAgICB0aGlzLnBpbmdDYWNoZSA9XG4gICAgICAgIHRoaXMuY3VycmVudCA9XG4gICAgICAgIHRoaXMucGVuZGluZ0NoaWxkcmVuID1cbiAgICAgICAgICBudWxsO1xuICAgICAgdGhpcy50aW1lb3V0SGFuZGxlID0gbm9UaW1lb3V0O1xuICAgICAgdGhpcy5jYWxsYmFja05vZGUgPVxuICAgICAgICB0aGlzLm5leHQgPVxuICAgICAgICB0aGlzLnBlbmRpbmdDb250ZXh0ID1cbiAgICAgICAgdGhpcy5jb250ZXh0ID1cbiAgICAgICAgdGhpcy5jYW5jZWxQZW5kaW5nQ29tbWl0ID1cbiAgICAgICAgICBudWxsO1xuICAgICAgdGhpcy5jYWxsYmFja1ByaW9yaXR5ID0gMDtcbiAgICAgIHRoaXMuZXhwaXJhdGlvblRpbWVzID0gY3JlYXRlTGFuZU1hcCgtMSk7XG4gICAgICB0aGlzLmVudGFuZ2xlZExhbmVzID1cbiAgICAgICAgdGhpcy5zaGVsbFN1c3BlbmRDb3VudGVyID1cbiAgICAgICAgdGhpcy5lcnJvclJlY292ZXJ5RGlzYWJsZWRMYW5lcyA9XG4gICAgICAgIHRoaXMuZmluaXNoZWRMYW5lcyA9XG4gICAgICAgIHRoaXMuZXhwaXJlZExhbmVzID1cbiAgICAgICAgdGhpcy53YXJtTGFuZXMgPVxuICAgICAgICB0aGlzLnBpbmdlZExhbmVzID1cbiAgICAgICAgdGhpcy5zdXNwZW5kZWRMYW5lcyA9XG4gICAgICAgIHRoaXMucGVuZGluZ0xhbmVzID1cbiAgICAgICAgICAwO1xuICAgICAgdGhpcy5lbnRhbmdsZW1lbnRzID0gY3JlYXRlTGFuZU1hcCgwKTtcbiAgICAgIHRoaXMuaGlkZGVuVXBkYXRlcyA9IGNyZWF0ZUxhbmVNYXAobnVsbCk7XG4gICAgICB0aGlzLmlkZW50aWZpZXJQcmVmaXggPSBpZGVudGlmaWVyUHJlZml4O1xuICAgICAgdGhpcy5vblVuY2F1Z2h0RXJyb3IgPSBvblVuY2F1Z2h0RXJyb3I7XG4gICAgICB0aGlzLm9uQ2F1Z2h0RXJyb3IgPSBvbkNhdWdodEVycm9yO1xuICAgICAgdGhpcy5vblJlY292ZXJhYmxlRXJyb3IgPSBvblJlY292ZXJhYmxlRXJyb3I7XG4gICAgICB0aGlzLnBvb2xlZENhY2hlID0gbnVsbDtcbiAgICAgIHRoaXMucG9vbGVkQ2FjaGVMYW5lcyA9IDA7XG4gICAgICB0aGlzLmZvcm1TdGF0ZSA9IGZvcm1TdGF0ZTtcbiAgICAgIHRoaXMuaW5jb21wbGV0ZVRyYW5zaXRpb25zID0gbmV3IE1hcCgpO1xuICAgICAgdGhpcy5wYXNzaXZlRWZmZWN0RHVyYXRpb24gPSB0aGlzLmVmZmVjdER1cmF0aW9uID0gLTA7XG4gICAgICB0aGlzLm1lbW9pemVkVXBkYXRlcnMgPSBuZXcgU2V0KCk7XG4gICAgICBjb250YWluZXJJbmZvID0gdGhpcy5wZW5kaW5nVXBkYXRlcnNMYW5lTWFwID0gW107XG4gICAgICBmb3IgKHRhZyA9IDA7IDMxID4gdGFnOyB0YWcrKykgY29udGFpbmVySW5mby5wdXNoKG5ldyBTZXQoKSk7XG4gICAgICB0aGlzLl9kZWJ1Z1Jvb3RUeXBlID0gaHlkcmF0ZSA/IFwiaHlkcmF0ZVJvb3QoKVwiIDogXCJjcmVhdGVSb290KClcIjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlRmliZXJSb290KFxuICAgICAgY29udGFpbmVySW5mbyxcbiAgICAgIHRhZyxcbiAgICAgIGh5ZHJhdGUsXG4gICAgICBpbml0aWFsQ2hpbGRyZW4sXG4gICAgICBoeWRyYXRpb25DYWxsYmFja3MsXG4gICAgICBpc1N0cmljdE1vZGUsXG4gICAgICBpZGVudGlmaWVyUHJlZml4LFxuICAgICAgb25VbmNhdWdodEVycm9yLFxuICAgICAgb25DYXVnaHRFcnJvcixcbiAgICAgIG9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgIHRyYW5zaXRpb25DYWxsYmFja3MsXG4gICAgICBmb3JtU3RhdGVcbiAgICApIHtcbiAgICAgIGNvbnRhaW5lckluZm8gPSBuZXcgRmliZXJSb290Tm9kZShcbiAgICAgICAgY29udGFpbmVySW5mbyxcbiAgICAgICAgdGFnLFxuICAgICAgICBoeWRyYXRlLFxuICAgICAgICBpZGVudGlmaWVyUHJlZml4LFxuICAgICAgICBvblVuY2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgICAgZm9ybVN0YXRlXG4gICAgICApO1xuICAgICAgdGFnID0gQ29uY3VycmVudE1vZGU7XG4gICAgICAhMCA9PT0gaXNTdHJpY3RNb2RlICYmICh0YWcgfD0gU3RyaWN0TGVnYWN5TW9kZSB8IFN0cmljdEVmZmVjdHNNb2RlKTtcbiAgICAgIGlzRGV2VG9vbHNQcmVzZW50ICYmICh0YWcgfD0gUHJvZmlsZU1vZGUpO1xuICAgICAgaXNTdHJpY3RNb2RlID0gY3JlYXRlRmliZXIoMywgbnVsbCwgbnVsbCwgdGFnKTtcbiAgICAgIGNvbnRhaW5lckluZm8uY3VycmVudCA9IGlzU3RyaWN0TW9kZTtcbiAgICAgIGlzU3RyaWN0TW9kZS5zdGF0ZU5vZGUgPSBjb250YWluZXJJbmZvO1xuICAgICAgdGFnID0gY3JlYXRlQ2FjaGUoKTtcbiAgICAgIHJldGFpbkNhY2hlKHRhZyk7XG4gICAgICBjb250YWluZXJJbmZvLnBvb2xlZENhY2hlID0gdGFnO1xuICAgICAgcmV0YWluQ2FjaGUodGFnKTtcbiAgICAgIGlzU3RyaWN0TW9kZS5tZW1vaXplZFN0YXRlID0ge1xuICAgICAgICBlbGVtZW50OiBpbml0aWFsQ2hpbGRyZW4sXG4gICAgICAgIGlzRGVoeWRyYXRlZDogaHlkcmF0ZSxcbiAgICAgICAgY2FjaGU6IHRhZ1xuICAgICAgfTtcbiAgICAgIGluaXRpYWxpemVVcGRhdGVRdWV1ZShpc1N0cmljdE1vZGUpO1xuICAgICAgcmV0dXJuIGNvbnRhaW5lckluZm87XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldENvbnRleHRGb3JTdWJ0cmVlKHBhcmVudENvbXBvbmVudCkge1xuICAgICAgaWYgKCFwYXJlbnRDb21wb25lbnQpIHJldHVybiBlbXB0eUNvbnRleHRPYmplY3Q7XG4gICAgICBwYXJlbnRDb21wb25lbnQgPSBlbXB0eUNvbnRleHRPYmplY3Q7XG4gICAgICByZXR1cm4gcGFyZW50Q29tcG9uZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVDb250YWluZXJTeW5jKFxuICAgICAgZWxlbWVudCxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgIGNhbGxiYWNrXG4gICAgKSB7XG4gICAgICAwID09PSBjb250YWluZXIudGFnICYmIGZsdXNoUGFzc2l2ZUVmZmVjdHMoKTtcbiAgICAgIHVwZGF0ZUNvbnRhaW5lckltcGwoXG4gICAgICAgIGNvbnRhaW5lci5jdXJyZW50LFxuICAgICAgICAyLFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIHBhcmVudENvbXBvbmVudCxcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgICk7XG4gICAgICByZXR1cm4gMjtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ29udGFpbmVySW1wbChcbiAgICAgIHJvb3RGaWJlcixcbiAgICAgIGxhbmUsXG4gICAgICBlbGVtZW50LFxuICAgICAgY29udGFpbmVyLFxuICAgICAgcGFyZW50Q29tcG9uZW50LFxuICAgICAgY2FsbGJhY2tcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgaW5qZWN0ZWRIb29rICYmXG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluamVjdGVkSG9vay5vblNjaGVkdWxlRmliZXJSb290XG4gICAgICApXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaW5qZWN0ZWRIb29rLm9uU2NoZWR1bGVGaWJlclJvb3QocmVuZGVyZXJJRCwgY29udGFpbmVyLCBlbGVtZW50KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaGFzTG9nZ2VkRXJyb3IgfHxcbiAgICAgICAgICAgICgoaGFzTG9nZ2VkRXJyb3IgPSAhMCksXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlYWN0IGluc3RydW1lbnRhdGlvbiBlbmNvdW50ZXJlZCBhbiBlcnJvcjogJXNcIixcbiAgICAgICAgICAgICAgZXJyXG4gICAgICAgICAgICApKTtcbiAgICAgICAgfVxuICAgICAgbnVsbCAhPT0gaW5qZWN0ZWRQcm9maWxpbmdIb29rcyAmJlxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtSZW5kZXJTY2hlZHVsZWQgJiZcbiAgICAgICAgaW5qZWN0ZWRQcm9maWxpbmdIb29rcy5tYXJrUmVuZGVyU2NoZWR1bGVkKGxhbmUpO1xuICAgICAgcGFyZW50Q29tcG9uZW50ID0gZ2V0Q29udGV4dEZvclN1YnRyZWUocGFyZW50Q29tcG9uZW50KTtcbiAgICAgIG51bGwgPT09IGNvbnRhaW5lci5jb250ZXh0XG4gICAgICAgID8gKGNvbnRhaW5lci5jb250ZXh0ID0gcGFyZW50Q29tcG9uZW50KVxuICAgICAgICA6IChjb250YWluZXIucGVuZGluZ0NvbnRleHQgPSBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgaXNSZW5kZXJpbmcgJiZcbiAgICAgICAgbnVsbCAhPT0gY3VycmVudCAmJlxuICAgICAgICAhZGlkV2FybkFib3V0TmVzdGVkVXBkYXRlcyAmJlxuICAgICAgICAoKGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSAhMCksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZW5kZXIgbWV0aG9kcyBzaG91bGQgYmUgYSBwdXJlIGZ1bmN0aW9uIG9mIHByb3BzIGFuZCBzdGF0ZTsgdHJpZ2dlcmluZyBuZXN0ZWQgY29tcG9uZW50IHVwZGF0ZXMgZnJvbSByZW5kZXIgaXMgbm90IGFsbG93ZWQuIElmIG5lY2Vzc2FyeSwgdHJpZ2dlciBuZXN0ZWQgdXBkYXRlcyBpbiBjb21wb25lbnREaWRVcGRhdGUuXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgJXMuXCIsXG4gICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihjdXJyZW50KSB8fCBcIlVua25vd25cIlxuICAgICAgICApKTtcbiAgICAgIGNvbnRhaW5lciA9IGNyZWF0ZVVwZGF0ZShsYW5lKTtcbiAgICAgIGNvbnRhaW5lci5wYXlsb2FkID0geyBlbGVtZW50OiBlbGVtZW50IH07XG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCA9PT0gY2FsbGJhY2sgPyBudWxsIDogY2FsbGJhY2s7XG4gICAgICBudWxsICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAoXCJmdW5jdGlvblwiICE9PSB0eXBlb2YgY2FsbGJhY2sgJiZcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCB0aGUgbGFzdCBvcHRpb25hbCBgY2FsbGJhY2tgIGFyZ3VtZW50IHRvIGJlIGEgZnVuY3Rpb24uIEluc3RlYWQgcmVjZWl2ZWQ6ICVzLlwiLFxuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgICApLFxuICAgICAgICAoY29udGFpbmVyLmNhbGxiYWNrID0gY2FsbGJhY2spKTtcbiAgICAgIGVsZW1lbnQgPSBlbnF1ZXVlVXBkYXRlKHJvb3RGaWJlciwgY29udGFpbmVyLCBsYW5lKTtcbiAgICAgIG51bGwgIT09IGVsZW1lbnQgJiZcbiAgICAgICAgKHNjaGVkdWxlVXBkYXRlT25GaWJlcihlbGVtZW50LCByb290RmliZXIsIGxhbmUpLFxuICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25zKGVsZW1lbnQsIHJvb3RGaWJlciwgbGFuZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBtYXJrUmV0cnlMYW5lSW1wbChmaWJlciwgcmV0cnlMYW5lKSB7XG4gICAgICBmaWJlciA9IGZpYmVyLm1lbW9pemVkU3RhdGU7XG4gICAgICBpZiAobnVsbCAhPT0gZmliZXIgJiYgbnVsbCAhPT0gZmliZXIuZGVoeWRyYXRlZCkge1xuICAgICAgICB2YXIgYSA9IGZpYmVyLnJldHJ5TGFuZTtcbiAgICAgICAgZmliZXIucmV0cnlMYW5lID0gMCAhPT0gYSAmJiBhIDwgcmV0cnlMYW5lID8gYSA6IHJldHJ5TGFuZTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbWFya1JldHJ5TGFuZUlmTm90SHlkcmF0ZWQoZmliZXIsIHJldHJ5TGFuZSkge1xuICAgICAgbWFya1JldHJ5TGFuZUltcGwoZmliZXIsIHJldHJ5TGFuZSk7XG4gICAgICAoZmliZXIgPSBmaWJlci5hbHRlcm5hdGUpICYmIG1hcmtSZXRyeUxhbmVJbXBsKGZpYmVyLCByZXRyeUxhbmUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRlbXB0Q29udGludW91c0h5ZHJhdGlvbihmaWJlcikge1xuICAgICAgaWYgKDEzID09PSBmaWJlci50YWcpIHtcbiAgICAgICAgdmFyIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDY3MTA4ODY0KTtcbiAgICAgICAgbnVsbCAhPT0gcm9vdCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgZmliZXIsIDY3MTA4ODY0KTtcbiAgICAgICAgbWFya1JldHJ5TGFuZUlmTm90SHlkcmF0ZWQoZmliZXIsIDY3MTA4ODY0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudEZpYmVyRm9yRGV2VG9vbHMoKSB7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0TGFuZUxhYmVsTWFwKCkge1xuICAgICAgZm9yICh2YXIgbWFwID0gbmV3IE1hcCgpLCBsYW5lID0gMSwgaW5kZXggPSAwOyAzMSA+IGluZGV4OyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBsYWJlbCA9IGdldExhYmVsRm9yTGFuZShsYW5lKTtcbiAgICAgICAgbWFwLnNldChsYW5lLCBsYWJlbCk7XG4gICAgICAgIGxhbmUgKj0gMjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoRGlzY3JldGVFdmVudChcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICBjb250YWluZXIsXG4gICAgICBuYXRpdmVFdmVudFxuICAgICkge1xuICAgICAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuVDtcbiAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBudWxsO1xuICAgICAgdmFyIHByZXZpb3VzUHJpb3JpdHkgPSBSZWFjdERPTVNoYXJlZEludGVybmFscy5wO1xuICAgICAgdHJ5IHtcbiAgICAgICAgKFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnAgPSBEaXNjcmV0ZUV2ZW50UHJpb3JpdHkpLFxuICAgICAgICAgIGRpc3BhdGNoRXZlbnQoZG9tRXZlbnROYW1lLCBldmVudFN5c3RlbUZsYWdzLCBjb250YWluZXIsIG5hdGl2ZUV2ZW50KTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIChSZWFjdERPTVNoYXJlZEludGVybmFscy5wID0gcHJldmlvdXNQcmlvcml0eSksXG4gICAgICAgICAgKFJlYWN0U2hhcmVkSW50ZXJuYWxzLlQgPSBwcmV2VHJhbnNpdGlvbik7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpc3BhdGNoQ29udGludW91c0V2ZW50KFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIGNvbnRhaW5lcixcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKSB7XG4gICAgICB2YXIgcHJldlRyYW5zaXRpb24gPSBSZWFjdFNoYXJlZEludGVybmFscy5UO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuVCA9IG51bGw7XG4gICAgICB2YXIgcHJldmlvdXNQcmlvcml0eSA9IFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLnA7XG4gICAgICB0cnkge1xuICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IENvbnRpbnVvdXNFdmVudFByaW9yaXR5KSxcbiAgICAgICAgICBkaXNwYXRjaEV2ZW50KGRvbUV2ZW50TmFtZSwgZXZlbnRTeXN0ZW1GbGFncywgY29udGFpbmVyLCBuYXRpdmVFdmVudCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAoUmVhY3RET01TaGFyZWRJbnRlcm5hbHMucCA9IHByZXZpb3VzUHJpb3JpdHkpLFxuICAgICAgICAgIChSZWFjdFNoYXJlZEludGVybmFscy5UID0gcHJldlRyYW5zaXRpb24pO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KFxuICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgIG5hdGl2ZUV2ZW50XG4gICAgKSB7XG4gICAgICBpZiAoX2VuYWJsZWQpIHtcbiAgICAgICAgdmFyIGJsb2NrZWRPbiA9IGZpbmRJbnN0YW5jZUJsb2NraW5nRXZlbnQobmF0aXZlRXZlbnQpO1xuICAgICAgICBpZiAobnVsbCA9PT0gYmxvY2tlZE9uKVxuICAgICAgICAgIGRpc3BhdGNoRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbShcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgIHJldHVybl90YXJnZXRJbnN0LFxuICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyXG4gICAgICAgICAgKSxcbiAgICAgICAgICAgIGNsZWFySWZDb250aW51b3VzRXZlbnQoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCk7XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgIHF1ZXVlSWZDb250aW51b3VzRXZlbnQoXG4gICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAgICBuYXRpdmVFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgKGNsZWFySWZDb250aW51b3VzRXZlbnQoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCksXG4gICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyAmIDQgJiZcbiAgICAgICAgICAgIC0xIDwgZGlzY3JldGVSZXBsYXlhYmxlRXZlbnRzLmluZGV4T2YoZG9tRXZlbnROYW1lKSlcbiAgICAgICAgKSB7XG4gICAgICAgICAgZm9yICg7IG51bGwgIT09IGJsb2NrZWRPbjsgKSB7XG4gICAgICAgICAgICB2YXIgZmliZXIgPSBnZXRJbnN0YW5jZUZyb21Ob2RlKGJsb2NrZWRPbik7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gZmliZXIpXG4gICAgICAgICAgICAgIHN3aXRjaCAoZmliZXIudGFnKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgZmliZXIgPSBmaWJlci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICAgICAgICBpZiAoZmliZXIuY3VycmVudC5tZW1vaXplZFN0YXRlLmlzRGVoeWRyYXRlZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFuZXMgPSBnZXRIaWdoZXN0UHJpb3JpdHlMYW5lcyhmaWJlci5wZW5kaW5nTGFuZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoMCAhPT0gbGFuZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICB2YXIgcm9vdCA9IGZpYmVyO1xuICAgICAgICAgICAgICAgICAgICAgIHJvb3QucGVuZGluZ0xhbmVzIHw9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgZm9yIChyb290LmVudGFuZ2xlZExhbmVzIHw9IDI7IGxhbmVzOyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYW5lID0gMSA8PCAoMzEgLSBjbHozMihsYW5lcykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm9vdC5lbnRhbmdsZW1lbnRzWzFdIHw9IGxhbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5lcyAmPSB+bGFuZTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKGZpYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAoZXhlY3V0aW9uQ29udGV4dCAmIChSZW5kZXJDb250ZXh0IHwgQ29tbWl0Q29udGV4dCkpID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgTm9Db250ZXh0ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoKHdvcmtJblByb2dyZXNzUm9vdFJlbmRlclRhcmdldFRpbWUgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICBub3ckMSgpICsgUkVOREVSX1RJTUVPVVRfTVMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmx1c2hTeW5jV29ya0Fjcm9zc1Jvb3RzX2ltcGwoMCwgITEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgIChyb290ID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKSksXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IHJvb3QgJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHJvb3QsIGZpYmVyLCAyKSxcbiAgICAgICAgICAgICAgICAgICAgZmx1c2hTeW5jV29yayQxKCksXG4gICAgICAgICAgICAgICAgICAgIG1hcmtSZXRyeUxhbmVJZk5vdEh5ZHJhdGVkKGZpYmVyLCAyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmliZXIgPSBmaW5kSW5zdGFuY2VCbG9ja2luZ0V2ZW50KG5hdGl2ZUV2ZW50KTtcbiAgICAgICAgICAgIG51bGwgPT09IGZpYmVyICYmXG4gICAgICAgICAgICAgIGRpc3BhdGNoRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbShcbiAgICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgICAgZXZlbnRTeXN0ZW1GbGFncyxcbiAgICAgICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgICAgICByZXR1cm5fdGFyZ2V0SW5zdCxcbiAgICAgICAgICAgICAgICB0YXJnZXRDb250YWluZXJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChmaWJlciA9PT0gYmxvY2tlZE9uKSBicmVhaztcbiAgICAgICAgICAgIGJsb2NrZWRPbiA9IGZpYmVyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBudWxsICE9PSBibG9ja2VkT24gJiYgbmF0aXZlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGRpc3BhdGNoRXZlbnRGb3JQbHVnaW5FdmVudFN5c3RlbShcbiAgICAgICAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICBuYXRpdmVFdmVudCxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICB0YXJnZXRDb250YWluZXJcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kSW5zdGFuY2VCbG9ja2luZ0V2ZW50KG5hdGl2ZUV2ZW50KSB7XG4gICAgICBuYXRpdmVFdmVudCA9IGdldEV2ZW50VGFyZ2V0KG5hdGl2ZUV2ZW50KTtcbiAgICAgIHJldHVybiBmaW5kSW5zdGFuY2VCbG9ja2luZ1RhcmdldChuYXRpdmVFdmVudCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRJbnN0YW5jZUJsb2NraW5nVGFyZ2V0KHRhcmdldE5vZGUpIHtcbiAgICAgIHJldHVybl90YXJnZXRJbnN0ID0gbnVsbDtcbiAgICAgIHRhcmdldE5vZGUgPSBnZXRDbG9zZXN0SW5zdGFuY2VGcm9tTm9kZSh0YXJnZXROb2RlKTtcbiAgICAgIGlmIChudWxsICE9PSB0YXJnZXROb2RlKSB7XG4gICAgICAgIHZhciBuZWFyZXN0TW91bnRlZCA9IGdldE5lYXJlc3RNb3VudGVkRmliZXIodGFyZ2V0Tm9kZSk7XG4gICAgICAgIGlmIChudWxsID09PSBuZWFyZXN0TW91bnRlZCkgdGFyZ2V0Tm9kZSA9IG51bGw7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhciB0YWcgPSBuZWFyZXN0TW91bnRlZC50YWc7XG4gICAgICAgICAgaWYgKDEzID09PSB0YWcpIHtcbiAgICAgICAgICAgIHRhcmdldE5vZGUgPSBnZXRTdXNwZW5zZUluc3RhbmNlRnJvbUZpYmVyKG5lYXJlc3RNb3VudGVkKTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSB0YXJnZXROb2RlKSByZXR1cm4gdGFyZ2V0Tm9kZTtcbiAgICAgICAgICAgIHRhcmdldE5vZGUgPSBudWxsO1xuICAgICAgICAgIH0gZWxzZSBpZiAoMyA9PT0gdGFnKSB7XG4gICAgICAgICAgICBpZiAobmVhcmVzdE1vdW50ZWQuc3RhdGVOb2RlLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWQpXG4gICAgICAgICAgICAgIHJldHVybiAzID09PSBuZWFyZXN0TW91bnRlZC50YWdcbiAgICAgICAgICAgICAgICA/IG5lYXJlc3RNb3VudGVkLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9IG51bGw7XG4gICAgICAgICAgfSBlbHNlIG5lYXJlc3RNb3VudGVkICE9PSB0YXJnZXROb2RlICYmICh0YXJnZXROb2RlID0gbnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybl90YXJnZXRJbnN0ID0gdGFyZ2V0Tm9kZTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRFdmVudFByaW9yaXR5KGRvbUV2ZW50TmFtZSkge1xuICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgY2FzZSBcImJlZm9yZXRvZ2dsZVwiOlxuICAgICAgICBjYXNlIFwiY2FuY2VsXCI6XG4gICAgICAgIGNhc2UgXCJjbGlja1wiOlxuICAgICAgICBjYXNlIFwiY2xvc2VcIjpcbiAgICAgICAgY2FzZSBcImNvbnRleHRtZW51XCI6XG4gICAgICAgIGNhc2UgXCJjb3B5XCI6XG4gICAgICAgIGNhc2UgXCJjdXRcIjpcbiAgICAgICAgY2FzZSBcImF1eGNsaWNrXCI6XG4gICAgICAgIGNhc2UgXCJkYmxjbGlja1wiOlxuICAgICAgICBjYXNlIFwiZHJhZ2VuZFwiOlxuICAgICAgICBjYXNlIFwiZHJhZ3N0YXJ0XCI6XG4gICAgICAgIGNhc2UgXCJkcm9wXCI6XG4gICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxuICAgICAgICBjYXNlIFwiaW5wdXRcIjpcbiAgICAgICAgY2FzZSBcImludmFsaWRcIjpcbiAgICAgICAgY2FzZSBcImtleWRvd25cIjpcbiAgICAgICAgY2FzZSBcImtleXByZXNzXCI6XG4gICAgICAgIGNhc2UgXCJrZXl1cFwiOlxuICAgICAgICBjYXNlIFwibW91c2Vkb3duXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZXVwXCI6XG4gICAgICAgIGNhc2UgXCJwYXN0ZVwiOlxuICAgICAgICBjYXNlIFwicGF1c2VcIjpcbiAgICAgICAgY2FzZSBcInBsYXlcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJjYW5jZWxcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJkb3duXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVydXBcIjpcbiAgICAgICAgY2FzZSBcInJhdGVjaGFuZ2VcIjpcbiAgICAgICAgY2FzZSBcInJlc2V0XCI6XG4gICAgICAgIGNhc2UgXCJyZXNpemVcIjpcbiAgICAgICAgY2FzZSBcInNlZWtlZFwiOlxuICAgICAgICBjYXNlIFwic3VibWl0XCI6XG4gICAgICAgIGNhc2UgXCJ0b2dnbGVcIjpcbiAgICAgICAgY2FzZSBcInRvdWNoY2FuY2VsXCI6XG4gICAgICAgIGNhc2UgXCJ0b3VjaGVuZFwiOlxuICAgICAgICBjYXNlIFwidG91Y2hzdGFydFwiOlxuICAgICAgICBjYXNlIFwidm9sdW1lY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJjaGFuZ2VcIjpcbiAgICAgICAgY2FzZSBcInNlbGVjdGlvbmNoYW5nZVwiOlxuICAgICAgICBjYXNlIFwidGV4dElucHV0XCI6XG4gICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbnN0YXJ0XCI6XG4gICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbmVuZFwiOlxuICAgICAgICBjYXNlIFwiY29tcG9zaXRpb251cGRhdGVcIjpcbiAgICAgICAgY2FzZSBcImJlZm9yZWJsdXJcIjpcbiAgICAgICAgY2FzZSBcImFmdGVyYmx1clwiOlxuICAgICAgICBjYXNlIFwiYmVmb3JlaW5wdXRcIjpcbiAgICAgICAgY2FzZSBcImJsdXJcIjpcbiAgICAgICAgY2FzZSBcImZ1bGxzY3JlZW5jaGFuZ2VcIjpcbiAgICAgICAgY2FzZSBcImZvY3VzXCI6XG4gICAgICAgIGNhc2UgXCJoYXNoY2hhbmdlXCI6XG4gICAgICAgIGNhc2UgXCJwb3BzdGF0ZVwiOlxuICAgICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICAgIGNhc2UgXCJzZWxlY3RzdGFydFwiOlxuICAgICAgICAgIHJldHVybiBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk7XG4gICAgICAgIGNhc2UgXCJkcmFnXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnZW50ZXJcIjpcbiAgICAgICAgY2FzZSBcImRyYWdleGl0XCI6XG4gICAgICAgIGNhc2UgXCJkcmFnbGVhdmVcIjpcbiAgICAgICAgY2FzZSBcImRyYWdvdmVyXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZW1vdmVcIjpcbiAgICAgICAgY2FzZSBcIm1vdXNlb3V0XCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZW92ZXJcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJtb3ZlXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVyb3V0XCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVyb3ZlclwiOlxuICAgICAgICBjYXNlIFwic2Nyb2xsXCI6XG4gICAgICAgIGNhc2UgXCJ0b3VjaG1vdmVcIjpcbiAgICAgICAgY2FzZSBcIndoZWVsXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZWVudGVyXCI6XG4gICAgICAgIGNhc2UgXCJtb3VzZWxlYXZlXCI6XG4gICAgICAgIGNhc2UgXCJwb2ludGVyZW50ZXJcIjpcbiAgICAgICAgY2FzZSBcInBvaW50ZXJsZWF2ZVwiOlxuICAgICAgICAgIHJldHVybiBDb250aW51b3VzRXZlbnRQcmlvcml0eTtcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VcIjpcbiAgICAgICAgICBzd2l0Y2ggKGdldEN1cnJlbnRQcmlvcml0eUxldmVsKCkpIHtcbiAgICAgICAgICAgIGNhc2UgSW1tZWRpYXRlUHJpb3JpdHk6XG4gICAgICAgICAgICAgIHJldHVybiBEaXNjcmV0ZUV2ZW50UHJpb3JpdHk7XG4gICAgICAgICAgICBjYXNlIFVzZXJCbG9ja2luZ1ByaW9yaXR5OlxuICAgICAgICAgICAgICByZXR1cm4gQ29udGludW91c0V2ZW50UHJpb3JpdHk7XG4gICAgICAgICAgICBjYXNlIE5vcm1hbFByaW9yaXR5JDE6XG4gICAgICAgICAgICBjYXNlIExvd1ByaW9yaXR5OlxuICAgICAgICAgICAgICByZXR1cm4gRGVmYXVsdEV2ZW50UHJpb3JpdHk7XG4gICAgICAgICAgICBjYXNlIElkbGVQcmlvcml0eTpcbiAgICAgICAgICAgICAgcmV0dXJuIElkbGVFdmVudFByaW9yaXR5O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIERlZmF1bHRFdmVudFByaW9yaXR5O1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gRGVmYXVsdEV2ZW50UHJpb3JpdHk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFySWZDb250aW51b3VzRXZlbnQoZG9tRXZlbnROYW1lLCBuYXRpdmVFdmVudCkge1xuICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgY2FzZSBcImZvY3VzaW5cIjpcbiAgICAgICAgY2FzZSBcImZvY3Vzb3V0XCI6XG4gICAgICAgICAgcXVldWVkRm9jdXMgPSBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZHJhZ2VudGVyXCI6XG4gICAgICAgIGNhc2UgXCJkcmFnbGVhdmVcIjpcbiAgICAgICAgICBxdWV1ZWREcmFnID0gbnVsbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1vdXNlb3ZlclwiOlxuICAgICAgICBjYXNlIFwibW91c2VvdXRcIjpcbiAgICAgICAgICBxdWV1ZWRNb3VzZSA9IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwb2ludGVyb3ZlclwiOlxuICAgICAgICBjYXNlIFwicG9pbnRlcm91dFwiOlxuICAgICAgICAgIHF1ZXVlZFBvaW50ZXJzLmRlbGV0ZShuYXRpdmVFdmVudC5wb2ludGVySWQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZ290cG9pbnRlcmNhcHR1cmVcIjpcbiAgICAgICAgY2FzZSBcImxvc3Rwb2ludGVyY2FwdHVyZVwiOlxuICAgICAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcy5kZWxldGUobmF0aXZlRXZlbnQucG9pbnRlcklkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChcbiAgICAgIGV4aXN0aW5nUXVldWVkRXZlbnQsXG4gICAgICBibG9ja2VkT24sXG4gICAgICBkb21FdmVudE5hbWUsXG4gICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgbmF0aXZlRXZlbnRcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgbnVsbCA9PT0gZXhpc3RpbmdRdWV1ZWRFdmVudCB8fFxuICAgICAgICBleGlzdGluZ1F1ZXVlZEV2ZW50Lm5hdGl2ZUV2ZW50ICE9PSBuYXRpdmVFdmVudFxuICAgICAgKVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIChleGlzdGluZ1F1ZXVlZEV2ZW50ID0ge1xuICAgICAgICAgICAgYmxvY2tlZE9uOiBibG9ja2VkT24sXG4gICAgICAgICAgICBkb21FdmVudE5hbWU6IGRvbUV2ZW50TmFtZSxcbiAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3M6IGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICBuYXRpdmVFdmVudDogbmF0aXZlRXZlbnQsXG4gICAgICAgICAgICB0YXJnZXRDb250YWluZXJzOiBbdGFyZ2V0Q29udGFpbmVyXVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIG51bGwgIT09IGJsb2NrZWRPbiAmJlxuICAgICAgICAgICAgKChibG9ja2VkT24gPSBnZXRJbnN0YW5jZUZyb21Ob2RlKGJsb2NrZWRPbikpLFxuICAgICAgICAgICAgbnVsbCAhPT0gYmxvY2tlZE9uICYmIGF0dGVtcHRDb250aW51b3VzSHlkcmF0aW9uKGJsb2NrZWRPbikpLFxuICAgICAgICAgIGV4aXN0aW5nUXVldWVkRXZlbnRcbiAgICAgICAgKTtcbiAgICAgIGV4aXN0aW5nUXVldWVkRXZlbnQuZXZlbnRTeXN0ZW1GbGFncyB8PSBldmVudFN5c3RlbUZsYWdzO1xuICAgICAgYmxvY2tlZE9uID0gZXhpc3RpbmdRdWV1ZWRFdmVudC50YXJnZXRDb250YWluZXJzO1xuICAgICAgbnVsbCAhPT0gdGFyZ2V0Q29udGFpbmVyICYmXG4gICAgICAgIC0xID09PSBibG9ja2VkT24uaW5kZXhPZih0YXJnZXRDb250YWluZXIpICYmXG4gICAgICAgIGJsb2NrZWRPbi5wdXNoKHRhcmdldENvbnRhaW5lcik7XG4gICAgICByZXR1cm4gZXhpc3RpbmdRdWV1ZWRFdmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gcXVldWVJZkNvbnRpbnVvdXNFdmVudChcbiAgICAgIGJsb2NrZWRPbixcbiAgICAgIGRvbUV2ZW50TmFtZSxcbiAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICBuYXRpdmVFdmVudFxuICAgICkge1xuICAgICAgc3dpdGNoIChkb21FdmVudE5hbWUpIHtcbiAgICAgICAgY2FzZSBcImZvY3VzaW5cIjpcbiAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKHF1ZXVlZEZvY3VzID0gYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChcbiAgICAgICAgICAgICAgcXVldWVkRm9jdXMsXG4gICAgICAgICAgICAgIGJsb2NrZWRPbixcbiAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcImRyYWdlbnRlclwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocXVldWVkRHJhZyA9IGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICAgICAgICAgIHF1ZXVlZERyYWcsXG4gICAgICAgICAgICAgIGJsb2NrZWRPbixcbiAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgICEwXG4gICAgICAgICAgKTtcbiAgICAgICAgY2FzZSBcIm1vdXNlb3ZlclwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocXVldWVkTW91c2UgPSBhY2N1bXVsYXRlT3JDcmVhdGVDb250aW51b3VzUXVldWVkUmVwbGF5YWJsZUV2ZW50KFxuICAgICAgICAgICAgICBxdWV1ZWRNb3VzZSxcbiAgICAgICAgICAgICAgYmxvY2tlZE9uLFxuICAgICAgICAgICAgICBkb21FdmVudE5hbWUsXG4gICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgIHRhcmdldENvbnRhaW5lcixcbiAgICAgICAgICAgICAgbmF0aXZlRXZlbnRcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgITBcbiAgICAgICAgICApO1xuICAgICAgICBjYXNlIFwicG9pbnRlcm92ZXJcIjpcbiAgICAgICAgICB2YXIgcG9pbnRlcklkID0gbmF0aXZlRXZlbnQucG9pbnRlcklkO1xuICAgICAgICAgIHF1ZXVlZFBvaW50ZXJzLnNldChcbiAgICAgICAgICAgIHBvaW50ZXJJZCxcbiAgICAgICAgICAgIGFjY3VtdWxhdGVPckNyZWF0ZUNvbnRpbnVvdXNRdWV1ZWRSZXBsYXlhYmxlRXZlbnQoXG4gICAgICAgICAgICAgIHF1ZXVlZFBvaW50ZXJzLmdldChwb2ludGVySWQpIHx8IG51bGwsXG4gICAgICAgICAgICAgIGJsb2NrZWRPbixcbiAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICBldmVudFN5c3RlbUZsYWdzLFxuICAgICAgICAgICAgICB0YXJnZXRDb250YWluZXIsXG4gICAgICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgICAgICApXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIGNhc2UgXCJnb3Rwb2ludGVyY2FwdHVyZVwiOlxuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAocG9pbnRlcklkID0gbmF0aXZlRXZlbnQucG9pbnRlcklkKSxcbiAgICAgICAgICAgIHF1ZXVlZFBvaW50ZXJDYXB0dXJlcy5zZXQoXG4gICAgICAgICAgICAgIHBvaW50ZXJJZCxcbiAgICAgICAgICAgICAgYWNjdW11bGF0ZU9yQ3JlYXRlQ29udGludW91c1F1ZXVlZFJlcGxheWFibGVFdmVudChcbiAgICAgICAgICAgICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMuZ2V0KHBvaW50ZXJJZCkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBibG9ja2VkT24sXG4gICAgICAgICAgICAgICAgZG9tRXZlbnROYW1lLFxuICAgICAgICAgICAgICAgIGV2ZW50U3lzdGVtRmxhZ3MsXG4gICAgICAgICAgICAgICAgdGFyZ2V0Q29udGFpbmVyLFxuICAgICAgICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICAhMFxuICAgICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGVtcHRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldChxdWV1ZWRUYXJnZXQpIHtcbiAgICAgIHZhciB0YXJnZXRJbnN0ID0gZ2V0Q2xvc2VzdEluc3RhbmNlRnJvbU5vZGUocXVldWVkVGFyZ2V0LnRhcmdldCk7XG4gICAgICBpZiAobnVsbCAhPT0gdGFyZ2V0SW5zdCkge1xuICAgICAgICB2YXIgbmVhcmVzdE1vdW50ZWQgPSBnZXROZWFyZXN0TW91bnRlZEZpYmVyKHRhcmdldEluc3QpO1xuICAgICAgICBpZiAobnVsbCAhPT0gbmVhcmVzdE1vdW50ZWQpXG4gICAgICAgICAgaWYgKCgodGFyZ2V0SW5zdCA9IG5lYXJlc3RNb3VudGVkLnRhZyksIDEzID09PSB0YXJnZXRJbnN0KSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAoKHRhcmdldEluc3QgPSBnZXRTdXNwZW5zZUluc3RhbmNlRnJvbUZpYmVyKG5lYXJlc3RNb3VudGVkKSksXG4gICAgICAgICAgICAgIG51bGwgIT09IHRhcmdldEluc3QpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgcXVldWVkVGFyZ2V0LmJsb2NrZWRPbiA9IHRhcmdldEluc3Q7XG4gICAgICAgICAgICAgIHJ1bldpdGhQcmlvcml0eShxdWV1ZWRUYXJnZXQucHJpb3JpdHksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoMTMgPT09IG5lYXJlc3RNb3VudGVkLnRhZykge1xuICAgICAgICAgICAgICAgICAgdmFyIGxhbmUgPSByZXF1ZXN0VXBkYXRlTGFuZShuZWFyZXN0TW91bnRlZCksXG4gICAgICAgICAgICAgICAgICAgIHJvb3QgPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUobmVhcmVzdE1vdW50ZWQsIGxhbmUpO1xuICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gcm9vdCAmJlxuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocm9vdCwgbmVhcmVzdE1vdW50ZWQsIGxhbmUpO1xuICAgICAgICAgICAgICAgICAgbWFya1JldHJ5TGFuZUlmTm90SHlkcmF0ZWQobmVhcmVzdE1vdW50ZWQsIGxhbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgMyA9PT0gdGFyZ2V0SW5zdCAmJlxuICAgICAgICAgICAgbmVhcmVzdE1vdW50ZWQuc3RhdGVOb2RlLmN1cnJlbnQubWVtb2l6ZWRTdGF0ZS5pc0RlaHlkcmF0ZWRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHF1ZXVlZFRhcmdldC5ibG9ja2VkT24gPVxuICAgICAgICAgICAgICAzID09PSBuZWFyZXN0TW91bnRlZC50YWdcbiAgICAgICAgICAgICAgICA/IG5lYXJlc3RNb3VudGVkLnN0YXRlTm9kZS5jb250YWluZXJJbmZvXG4gICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHF1ZXVlZFRhcmdldC5ibG9ja2VkT24gPSBudWxsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50KHF1ZXVlZEV2ZW50KSB7XG4gICAgICBpZiAobnVsbCAhPT0gcXVldWVkRXZlbnQuYmxvY2tlZE9uKSByZXR1cm4gITE7XG4gICAgICBmb3IgKFxuICAgICAgICB2YXIgdGFyZ2V0Q29udGFpbmVycyA9IHF1ZXVlZEV2ZW50LnRhcmdldENvbnRhaW5lcnM7XG4gICAgICAgIDAgPCB0YXJnZXRDb250YWluZXJzLmxlbmd0aDtcblxuICAgICAgKSB7XG4gICAgICAgIHZhciBuZXh0QmxvY2tlZE9uID0gZmluZEluc3RhbmNlQmxvY2tpbmdFdmVudChxdWV1ZWRFdmVudC5uYXRpdmVFdmVudCk7XG4gICAgICAgIGlmIChudWxsID09PSBuZXh0QmxvY2tlZE9uKSB7XG4gICAgICAgICAgbmV4dEJsb2NrZWRPbiA9IHF1ZXVlZEV2ZW50Lm5hdGl2ZUV2ZW50O1xuICAgICAgICAgIHZhciBuYXRpdmVFdmVudENsb25lID0gbmV3IG5leHRCbG9ja2VkT24uY29uc3RydWN0b3IoXG4gICAgICAgICAgICAgIG5leHRCbG9ja2VkT24udHlwZSxcbiAgICAgICAgICAgICAgbmV4dEJsb2NrZWRPblxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGV2ZW50ID0gbmF0aXZlRXZlbnRDbG9uZTtcbiAgICAgICAgICBudWxsICE9PSBjdXJyZW50UmVwbGF5aW5nRXZlbnQgJiZcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgIFwiRXhwZWN0ZWQgY3VycmVudGx5IHJlcGxheWluZyBldmVudCB0byBiZSBudWxsLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGN1cnJlbnRSZXBsYXlpbmdFdmVudCA9IGV2ZW50O1xuICAgICAgICAgIG5leHRCbG9ja2VkT24udGFyZ2V0LmRpc3BhdGNoRXZlbnQobmF0aXZlRXZlbnRDbG9uZSk7XG4gICAgICAgICAgbnVsbCA9PT0gY3VycmVudFJlcGxheWluZ0V2ZW50ICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIkV4cGVjdGVkIGN1cnJlbnRseSByZXBsYXlpbmcgZXZlbnQgdG8gbm90IGJlIG51bGwuIFRoaXMgZXJyb3IgaXMgbGlrZWx5IGNhdXNlZCBieSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgY3VycmVudFJlcGxheWluZ0V2ZW50ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICh0YXJnZXRDb250YWluZXJzID0gZ2V0SW5zdGFuY2VGcm9tTm9kZShuZXh0QmxvY2tlZE9uKSksXG4gICAgICAgICAgICBudWxsICE9PSB0YXJnZXRDb250YWluZXJzICYmXG4gICAgICAgICAgICAgIGF0dGVtcHRDb250aW51b3VzSHlkcmF0aW9uKHRhcmdldENvbnRhaW5lcnMpLFxuICAgICAgICAgICAgKHF1ZXVlZEV2ZW50LmJsb2NrZWRPbiA9IG5leHRCbG9ja2VkT24pLFxuICAgICAgICAgICAgITFcbiAgICAgICAgICApO1xuICAgICAgICB0YXJnZXRDb250YWluZXJzLnNoaWZ0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnRJbk1hcChxdWV1ZWRFdmVudCwga2V5LCBtYXApIHtcbiAgICAgIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQocXVldWVkRXZlbnQpICYmIG1hcC5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVwbGF5VW5ibG9ja2VkRXZlbnRzKCkge1xuICAgICAgaGFzU2NoZWR1bGVkUmVwbGF5QXR0ZW1wdCA9ICExO1xuICAgICAgbnVsbCAhPT0gcXVldWVkRm9jdXMgJiZcbiAgICAgICAgYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudChxdWV1ZWRGb2N1cykgJiZcbiAgICAgICAgKHF1ZXVlZEZvY3VzID0gbnVsbCk7XG4gICAgICBudWxsICE9PSBxdWV1ZWREcmFnICYmXG4gICAgICAgIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQocXVldWVkRHJhZykgJiZcbiAgICAgICAgKHF1ZXVlZERyYWcgPSBudWxsKTtcbiAgICAgIG51bGwgIT09IHF1ZXVlZE1vdXNlICYmXG4gICAgICAgIGF0dGVtcHRSZXBsYXlDb250aW51b3VzUXVldWVkRXZlbnQocXVldWVkTW91c2UpICYmXG4gICAgICAgIChxdWV1ZWRNb3VzZSA9IG51bGwpO1xuICAgICAgcXVldWVkUG9pbnRlcnMuZm9yRWFjaChhdHRlbXB0UmVwbGF5Q29udGludW91c1F1ZXVlZEV2ZW50SW5NYXApO1xuICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzLmZvckVhY2goYXR0ZW1wdFJlcGxheUNvbnRpbnVvdXNRdWV1ZWRFdmVudEluTWFwKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZEV2ZW50LCB1bmJsb2NrZWQpIHtcbiAgICAgIHF1ZXVlZEV2ZW50LmJsb2NrZWRPbiA9PT0gdW5ibG9ja2VkICYmXG4gICAgICAgICgocXVldWVkRXZlbnQuYmxvY2tlZE9uID0gbnVsbCksXG4gICAgICAgIGhhc1NjaGVkdWxlZFJlcGxheUF0dGVtcHQgfHxcbiAgICAgICAgICAoKGhhc1NjaGVkdWxlZFJlcGxheUF0dGVtcHQgPSAhMCksXG4gICAgICAgICAgU2NoZWR1bGVyLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2soXG4gICAgICAgICAgICBTY2hlZHVsZXIudW5zdGFibGVfTm9ybWFsUHJpb3JpdHksXG4gICAgICAgICAgICByZXBsYXlVbmJsb2NrZWRFdmVudHNcbiAgICAgICAgICApKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNjaGVkdWxlUmVwbGF5UXVldWVJZk5lZWRlZChmb3JtUmVwbGF5aW5nUXVldWUpIHtcbiAgICAgIGxhc3RTY2hlZHVsZWRSZXBsYXlRdWV1ZSAhPT0gZm9ybVJlcGxheWluZ1F1ZXVlICYmXG4gICAgICAgICgobGFzdFNjaGVkdWxlZFJlcGxheVF1ZXVlID0gZm9ybVJlcGxheWluZ1F1ZXVlKSxcbiAgICAgICAgU2NoZWR1bGVyLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2soXG4gICAgICAgICAgU2NoZWR1bGVyLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LFxuICAgICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxhc3RTY2hlZHVsZWRSZXBsYXlRdWV1ZSA9PT0gZm9ybVJlcGxheWluZ1F1ZXVlICYmXG4gICAgICAgICAgICAgIChsYXN0U2NoZWR1bGVkUmVwbGF5UXVldWUgPSBudWxsKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybVJlcGxheWluZ1F1ZXVlLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgICAgICAgIHZhciBmb3JtID0gZm9ybVJlcGxheWluZ1F1ZXVlW2ldLFxuICAgICAgICAgICAgICAgIHN1Ym1pdHRlck9yQWN0aW9uID0gZm9ybVJlcGxheWluZ1F1ZXVlW2kgKyAxXSxcbiAgICAgICAgICAgICAgICBmb3JtRGF0YSA9IGZvcm1SZXBsYXlpbmdRdWV1ZVtpICsgMl07XG4gICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT09IHR5cGVvZiBzdWJtaXR0ZXJPckFjdGlvbilcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICBudWxsID09PSBmaW5kSW5zdGFuY2VCbG9ja2luZ1RhcmdldChzdWJtaXR0ZXJPckFjdGlvbiB8fCBmb3JtKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGVsc2UgYnJlYWs7XG4gICAgICAgICAgICAgIHZhciBmb3JtSW5zdCA9IGdldEluc3RhbmNlRnJvbU5vZGUoZm9ybSk7XG4gICAgICAgICAgICAgIG51bGwgIT09IGZvcm1JbnN0ICYmXG4gICAgICAgICAgICAgICAgKGZvcm1SZXBsYXlpbmdRdWV1ZS5zcGxpY2UoaSwgMyksXG4gICAgICAgICAgICAgICAgKGkgLT0gMyksXG4gICAgICAgICAgICAgICAgKGZvcm0gPSB7XG4gICAgICAgICAgICAgICAgICBwZW5kaW5nOiAhMCxcbiAgICAgICAgICAgICAgICAgIGRhdGE6IGZvcm1EYXRhLFxuICAgICAgICAgICAgICAgICAgbWV0aG9kOiBmb3JtLm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgIGFjdGlvbjogc3VibWl0dGVyT3JBY3Rpb25cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGZvcm0pLFxuICAgICAgICAgICAgICAgIHN0YXJ0SG9zdFRyYW5zaXRpb24oXG4gICAgICAgICAgICAgICAgICBmb3JtSW5zdCxcbiAgICAgICAgICAgICAgICAgIGZvcm0sXG4gICAgICAgICAgICAgICAgICBzdWJtaXR0ZXJPckFjdGlvbixcbiAgICAgICAgICAgICAgICAgIGZvcm1EYXRhXG4gICAgICAgICAgICAgICAgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmV0cnlJZkJsb2NrZWRPbih1bmJsb2NrZWQpIHtcbiAgICAgIGZ1bmN0aW9uIHVuYmxvY2socXVldWVkRXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWRFdmVudCwgdW5ibG9ja2VkKTtcbiAgICAgIH1cbiAgICAgIG51bGwgIT09IHF1ZXVlZEZvY3VzICYmXG4gICAgICAgIHNjaGVkdWxlQ2FsbGJhY2tJZlVuYmxvY2tlZChxdWV1ZWRGb2N1cywgdW5ibG9ja2VkKTtcbiAgICAgIG51bGwgIT09IHF1ZXVlZERyYWcgJiYgc2NoZWR1bGVDYWxsYmFja0lmVW5ibG9ja2VkKHF1ZXVlZERyYWcsIHVuYmxvY2tlZCk7XG4gICAgICBudWxsICE9PSBxdWV1ZWRNb3VzZSAmJlxuICAgICAgICBzY2hlZHVsZUNhbGxiYWNrSWZVbmJsb2NrZWQocXVldWVkTW91c2UsIHVuYmxvY2tlZCk7XG4gICAgICBxdWV1ZWRQb2ludGVycy5mb3JFYWNoKHVuYmxvY2spO1xuICAgICAgcXVldWVkUG9pbnRlckNhcHR1cmVzLmZvckVhY2godW5ibG9jayk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcXVldWVkVGFyZ2V0ID0gcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzW2ldO1xuICAgICAgICBxdWV1ZWRUYXJnZXQuYmxvY2tlZE9uID09PSB1bmJsb2NrZWQgJiYgKHF1ZXVlZFRhcmdldC5ibG9ja2VkT24gPSBudWxsKTtcbiAgICAgIH1cbiAgICAgIGZvciAoXG4gICAgICAgIDtcbiAgICAgICAgMCA8IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0cy5sZW5ndGggJiZcbiAgICAgICAgKChpID0gcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzWzBdKSwgbnVsbCA9PT0gaS5ibG9ja2VkT24pO1xuXG4gICAgICApXG4gICAgICAgIGF0dGVtcHRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldChpKSxcbiAgICAgICAgICBudWxsID09PSBpLmJsb2NrZWRPbiAmJiBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMuc2hpZnQoKTtcbiAgICAgIGkgPSAodW5ibG9ja2VkLm93bmVyRG9jdW1lbnQgfHwgdW5ibG9ja2VkKS4kJHJlYWN0Rm9ybVJlcGxheTtcbiAgICAgIGlmIChudWxsICE9IGkpXG4gICAgICAgIGZvciAocXVldWVkVGFyZ2V0ID0gMDsgcXVldWVkVGFyZ2V0IDwgaS5sZW5ndGg7IHF1ZXVlZFRhcmdldCArPSAzKSB7XG4gICAgICAgICAgdmFyIGZvcm0gPSBpW3F1ZXVlZFRhcmdldF0sXG4gICAgICAgICAgICBzdWJtaXR0ZXJPckFjdGlvbiA9IGlbcXVldWVkVGFyZ2V0ICsgMV0sXG4gICAgICAgICAgICBmb3JtUHJvcHMgPSBmb3JtW2ludGVybmFsUHJvcHNLZXldIHx8IG51bGw7XG4gICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIHN1Ym1pdHRlck9yQWN0aW9uKVxuICAgICAgICAgICAgZm9ybVByb3BzIHx8IHNjaGVkdWxlUmVwbGF5UXVldWVJZk5lZWRlZChpKTtcbiAgICAgICAgICBlbHNlIGlmIChmb3JtUHJvcHMpIHtcbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICBzdWJtaXR0ZXJPckFjdGlvbiAmJlxuICAgICAgICAgICAgICBzdWJtaXR0ZXJPckFjdGlvbi5oYXNBdHRyaWJ1dGUoXCJmb3JtQWN0aW9uXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoKGZvcm0gPSBzdWJtaXR0ZXJPckFjdGlvbiksXG4gICAgICAgICAgICAgICAgKGZvcm1Qcm9wcyA9IHN1Ym1pdHRlck9yQWN0aW9uW2ludGVybmFsUHJvcHNLZXldIHx8IG51bGwpKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYWN0aW9uID0gZm9ybVByb3BzLmZvcm1BY3Rpb247XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSBmaW5kSW5zdGFuY2VCbG9ja2luZ1RhcmdldChmb3JtKSkgY29udGludWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgYWN0aW9uID0gZm9ybVByb3BzLmFjdGlvbjtcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGFjdGlvblxuICAgICAgICAgICAgICA/IChpW3F1ZXVlZFRhcmdldCArIDFdID0gYWN0aW9uKVxuICAgICAgICAgICAgICA6IChpLnNwbGljZShxdWV1ZWRUYXJnZXQsIDMpLCAocXVldWVkVGFyZ2V0IC09IDMpKTtcbiAgICAgICAgICAgIHNjaGVkdWxlUmVwbGF5UXVldWVJZk5lZWRlZChpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gUmVhY3RET01Sb290KGludGVybmFsUm9vdCkge1xuICAgICAgdGhpcy5faW50ZXJuYWxSb290ID0gaW50ZXJuYWxSb290O1xuICAgIH1cbiAgICBmdW5jdGlvbiBSZWFjdERPTUh5ZHJhdGlvblJvb3QoaW50ZXJuYWxSb290KSB7XG4gICAgICB0aGlzLl9pbnRlcm5hbFJvb3QgPSBpbnRlcm5hbFJvb3Q7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHdhcm5JZlJlYWN0RE9NQ29udGFpbmVySW5ERVYoY29udGFpbmVyKSB7XG4gICAgICBjb250YWluZXJbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV0gJiZcbiAgICAgICAgKGNvbnRhaW5lci5fcmVhY3RSb290Q29udGFpbmVyXG4gICAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIllvdSBhcmUgY2FsbGluZyBSZWFjdERPTUNsaWVudC5jcmVhdGVSb290KCkgb24gYSBjb250YWluZXIgdGhhdCB3YXMgcHJldmlvdXNseSBwYXNzZWQgdG8gUmVhY3RET00ucmVuZGVyKCkuIFRoaXMgaXMgbm90IHN1cHBvcnRlZC5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgYXJlIGNhbGxpbmcgUmVhY3RET01DbGllbnQuY3JlYXRlUm9vdCgpIG9uIGEgY29udGFpbmVyIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBwYXNzZWQgdG8gY3JlYXRlUm9vdCgpIGJlZm9yZS4gSW5zdGVhZCwgY2FsbCByb290LnJlbmRlcigpIG9uIHRoZSBleGlzdGluZyByb290IGluc3RlYWQgaWYgeW91IHdhbnQgdG8gdXBkYXRlIGl0LlwiXG4gICAgICAgICAgICApKTtcbiAgICB9XG4gICAgXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PVxuICAgICAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydCAmJlxuICAgICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdGFydChFcnJvcigpKTtcbiAgICB2YXIgU2NoZWR1bGVyID0gcmVxdWlyZShcInNjaGVkdWxlclwiKSxcbiAgICAgIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpLFxuICAgICAgUmVhY3RET00gPSByZXF1aXJlKFwicmVhY3QtZG9tXCIpLFxuICAgICAgUkVBQ1RfTEVHQUNZX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnRyYW5zaXRpb25hbC5lbGVtZW50XCIpLFxuICAgICAgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpLFxuICAgICAgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKSxcbiAgICAgIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Quc3RyaWN0X21vZGVcIiksXG4gICAgICBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpLFxuICAgICAgUkVBQ1RfUFJPVklERVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKSxcbiAgICAgIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29uc3VtZXJcIiksXG4gICAgICBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxcbiAgICAgIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksXG4gICAgICBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxcbiAgICAgIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC5zY29wZVwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3QuZGVidWdfdHJhY2VfbW9kZVwiKTtcbiAgICB2YXIgUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Qub2Zmc2NyZWVuXCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC5sZWdhY3lfaGlkZGVuXCIpO1xuICAgIFN5bWJvbC5mb3IoXCJyZWFjdC50cmFjaW5nX21hcmtlclwiKTtcbiAgICB2YXIgUkVBQ1RfTUVNT19DQUNIRV9TRU5USU5FTCA9IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpLFxuICAgICAgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gU3ltYm9sLml0ZXJhdG9yLFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPVxuICAgICAgICBSZWFjdC5fX0NMSUVOVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9XQVJOX1VTRVJTX1RIRVlfQ0FOTk9UX1VQR1JBREUsXG4gICAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduLFxuICAgICAgZGlzYWJsZWREZXB0aCA9IDAsXG4gICAgICBwcmV2TG9nLFxuICAgICAgcHJldkluZm8sXG4gICAgICBwcmV2V2FybixcbiAgICAgIHByZXZFcnJvcixcbiAgICAgIHByZXZHcm91cCxcbiAgICAgIHByZXZHcm91cENvbGxhcHNlZCxcbiAgICAgIHByZXZHcm91cEVuZDtcbiAgICBkaXNhYmxlZExvZy5fX3JlYWN0RGlzYWJsZWRMb2cgPSAhMDtcbiAgICB2YXIgcHJlZml4LFxuICAgICAgc3VmZml4LFxuICAgICAgcmVlbnRyeSA9ICExO1xuICAgIHZhciBjb21wb25lbnRGcmFtZUNhY2hlID0gbmV3IChcbiAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFdlYWtNYXAgPyBXZWFrTWFwIDogTWFwXG4gICAgKSgpO1xuICAgIHZhciBjdXJyZW50ID0gbnVsbCxcbiAgICAgIGlzUmVuZGVyaW5nID0gITEsXG4gICAgICBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXksXG4gICAgICBSZWFjdERPTVNoYXJlZEludGVybmFscyA9XG4gICAgICAgIFJlYWN0RE9NLl9fRE9NX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSxcbiAgICAgIE5vdFBlbmRpbmcgPSBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgcGVuZGluZzogITEsXG4gICAgICAgIGRhdGE6IG51bGwsXG4gICAgICAgIG1ldGhvZDogbnVsbCxcbiAgICAgICAgYWN0aW9uOiBudWxsXG4gICAgICB9KSxcbiAgICAgIHZhbHVlU3RhY2sgPSBbXTtcbiAgICB2YXIgZmliZXJTdGFjayA9IFtdO1xuICAgIHZhciBpbmRleCRqc2NvbXAkMCA9IC0xLFxuICAgICAgY29udGV4dFN0YWNrQ3Vyc29yID0gY3JlYXRlQ3Vyc29yKG51bGwpLFxuICAgICAgY29udGV4dEZpYmVyU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICByb290SW5zdGFuY2VTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIGhvc3RUcmFuc2l0aW9uUHJvdmlkZXJDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgICBzY2hlZHVsZUNhbGxiYWNrJDMgPSBTY2hlZHVsZXIudW5zdGFibGVfc2NoZWR1bGVDYWxsYmFjayxcbiAgICAgIGNhbmNlbENhbGxiYWNrJDEgPSBTY2hlZHVsZXIudW5zdGFibGVfY2FuY2VsQ2FsbGJhY2ssXG4gICAgICBzaG91bGRZaWVsZCA9IFNjaGVkdWxlci51bnN0YWJsZV9zaG91bGRZaWVsZCxcbiAgICAgIHJlcXVlc3RQYWludCA9IFNjaGVkdWxlci51bnN0YWJsZV9yZXF1ZXN0UGFpbnQsXG4gICAgICBub3ckMSA9IFNjaGVkdWxlci51bnN0YWJsZV9ub3csXG4gICAgICBnZXRDdXJyZW50UHJpb3JpdHlMZXZlbCA9IFNjaGVkdWxlci51bnN0YWJsZV9nZXRDdXJyZW50UHJpb3JpdHlMZXZlbCxcbiAgICAgIEltbWVkaWF0ZVByaW9yaXR5ID0gU2NoZWR1bGVyLnVuc3RhYmxlX0ltbWVkaWF0ZVByaW9yaXR5LFxuICAgICAgVXNlckJsb2NraW5nUHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfVXNlckJsb2NraW5nUHJpb3JpdHksXG4gICAgICBOb3JtYWxQcmlvcml0eSQxID0gU2NoZWR1bGVyLnVuc3RhYmxlX05vcm1hbFByaW9yaXR5LFxuICAgICAgTG93UHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfTG93UHJpb3JpdHksXG4gICAgICBJZGxlUHJpb3JpdHkgPSBTY2hlZHVsZXIudW5zdGFibGVfSWRsZVByaW9yaXR5LFxuICAgICAgbG9nJDEgPSBTY2hlZHVsZXIubG9nLFxuICAgICAgdW5zdGFibGVfc2V0RGlzYWJsZVlpZWxkVmFsdWUgPSBTY2hlZHVsZXIudW5zdGFibGVfc2V0RGlzYWJsZVlpZWxkVmFsdWUsXG4gICAgICByZW5kZXJlcklEID0gbnVsbCxcbiAgICAgIGluamVjdGVkSG9vayA9IG51bGwsXG4gICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzID0gbnVsbCxcbiAgICAgIGhhc0xvZ2dlZEVycm9yID0gITEsXG4gICAgICBpc0RldlRvb2xzUHJlc2VudCA9IFwidW5kZWZpbmVkXCIgIT09IHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18sXG4gICAgICBjbHozMiA9IE1hdGguY2x6MzIgPyBNYXRoLmNsejMyIDogY2x6MzJGYWxsYmFjayxcbiAgICAgIGxvZyA9IE1hdGgubG9nLFxuICAgICAgTE4yID0gTWF0aC5MTjIsXG4gICAgICBuZXh0VHJhbnNpdGlvbkxhbmUgPSAxMjgsXG4gICAgICBuZXh0UmV0cnlMYW5lID0gNDE5NDMwNCxcbiAgICAgIERpc2NyZXRlRXZlbnRQcmlvcml0eSA9IDIsXG4gICAgICBDb250aW51b3VzRXZlbnRQcmlvcml0eSA9IDgsXG4gICAgICBEZWZhdWx0RXZlbnRQcmlvcml0eSA9IDMyLFxuICAgICAgSWRsZUV2ZW50UHJpb3JpdHkgPSAyNjg0MzU0NTYsXG4gICAgICByYW5kb21LZXkgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgyKSxcbiAgICAgIGludGVybmFsSW5zdGFuY2VLZXkgPSBcIl9fcmVhY3RGaWJlciRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsUHJvcHNLZXkgPSBcIl9fcmVhY3RQcm9wcyRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsQ29udGFpbmVySW5zdGFuY2VLZXkgPSBcIl9fcmVhY3RDb250YWluZXIkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbEV2ZW50SGFuZGxlcnNLZXkgPSBcIl9fcmVhY3RFdmVudHMkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbEV2ZW50SGFuZGxlckxpc3RlbmVyc0tleSA9IFwiX19yZWFjdExpc3RlbmVycyRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsRXZlbnRIYW5kbGVzU2V0S2V5ID0gXCJfX3JlYWN0SGFuZGxlcyRcIiArIHJhbmRvbUtleSxcbiAgICAgIGludGVybmFsUm9vdE5vZGVSZXNvdXJjZXNLZXkgPSBcIl9fcmVhY3RSZXNvdXJjZXMkXCIgKyByYW5kb21LZXksXG4gICAgICBpbnRlcm5hbEhvaXN0YWJsZU1hcmtlciA9IFwiX19yZWFjdE1hcmtlciRcIiArIHJhbmRvbUtleSxcbiAgICAgIGFsbE5hdGl2ZUV2ZW50cyA9IG5ldyBTZXQoKSxcbiAgICAgIHJlZ2lzdHJhdGlvbk5hbWVEZXBlbmRlbmNpZXMgPSB7fSxcbiAgICAgIHBvc3NpYmxlUmVnaXN0cmF0aW9uTmFtZXMgPSB7fSxcbiAgICAgIGNhblVzZURPTSA9ICEoXG4gICAgICAgIFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiB3aW5kb3cgfHxcbiAgICAgICAgXCJ1bmRlZmluZWRcIiA9PT0gdHlwZW9mIHdpbmRvdy5kb2N1bWVudCB8fFxuICAgICAgICBcInVuZGVmaW5lZFwiID09PSB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnRcbiAgICAgICksXG4gICAgICBoYXNSZWFkT25seVZhbHVlID0ge1xuICAgICAgICBidXR0b246ICEwLFxuICAgICAgICBjaGVja2JveDogITAsXG4gICAgICAgIGltYWdlOiAhMCxcbiAgICAgICAgaGlkZGVuOiAhMCxcbiAgICAgICAgcmFkaW86ICEwLFxuICAgICAgICByZXNldDogITAsXG4gICAgICAgIHN1Ym1pdDogITBcbiAgICAgIH0sXG4gICAgICBWQUxJRF9BVFRSSUJVVEVfTkFNRV9SRUdFWCA9IFJlZ0V4cChcbiAgICAgICAgXCJeWzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRdWzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF0qJFwiXG4gICAgICApLFxuICAgICAgaWxsZWdhbEF0dHJpYnV0ZU5hbWVDYWNoZSA9IHt9LFxuICAgICAgdmFsaWRhdGVkQXR0cmlidXRlTmFtZUNhY2hlID0ge30sXG4gICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzUmVnZXggPSAvW1xcblwiXFxcXF0vZyxcbiAgICAgIGRpZFdhcm5WYWx1ZURlZmF1bHRWYWx1ZSQxID0gITEsXG4gICAgICBkaWRXYXJuQ2hlY2tlZERlZmF1bHRDaGVja2VkID0gITEsXG4gICAgICBkaWRXYXJuU2VsZWN0ZWRTZXRPbk9wdGlvbiA9ICExLFxuICAgICAgZGlkV2FybkludmFsaWRDaGlsZCA9ICExLFxuICAgICAgZGlkV2FybkludmFsaWRJbm5lckhUTUwgPSAhMTtcbiAgICB2YXIgZGlkV2FyblZhbHVlRGVmYXVsdFZhbHVlID0gITE7XG4gICAgdmFyIHZhbHVlUHJvcE5hbWVzID0gW1widmFsdWVcIiwgXCJkZWZhdWx0VmFsdWVcIl0sXG4gICAgICBkaWRXYXJuVmFsRGVmYXVsdFZhbCA9ICExLFxuICAgICAgbmVlZHNFc2NhcGluZyA9IC9bXCInJjw+XFxuXFx0XXxeXFxzfFxccyQvLFxuICAgICAgc3BlY2lhbFRhZ3MgPVxuICAgICAgICBcImFkZHJlc3MgYXBwbGV0IGFyZWEgYXJ0aWNsZSBhc2lkZSBiYXNlIGJhc2Vmb250IGJnc291bmQgYmxvY2txdW90ZSBib2R5IGJyIGJ1dHRvbiBjYXB0aW9uIGNlbnRlciBjb2wgY29sZ3JvdXAgZGQgZGV0YWlscyBkaXIgZGl2IGRsIGR0IGVtYmVkIGZpZWxkc2V0IGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBmb3JtIGZyYW1lIGZyYW1lc2V0IGgxIGgyIGgzIGg0IGg1IGg2IGhlYWQgaGVhZGVyIGhncm91cCBociBodG1sIGlmcmFtZSBpbWcgaW5wdXQgaXNpbmRleCBsaSBsaW5rIGxpc3RpbmcgbWFpbiBtYXJxdWVlIG1lbnUgbWVudWl0ZW0gbWV0YSBuYXYgbm9lbWJlZCBub2ZyYW1lcyBub3NjcmlwdCBvYmplY3Qgb2wgcCBwYXJhbSBwbGFpbnRleHQgcHJlIHNjcmlwdCBzZWN0aW9uIHNlbGVjdCBzb3VyY2Ugc3R5bGUgc3VtbWFyeSB0YWJsZSB0Ym9keSB0ZCB0ZW1wbGF0ZSB0ZXh0YXJlYSB0Zm9vdCB0aCB0aGVhZCB0aXRsZSB0ciB0cmFjayB1bCB3YnIgeG1wXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgIGluU2NvcGVUYWdzID1cbiAgICAgICAgXCJhcHBsZXQgY2FwdGlvbiBodG1sIHRhYmxlIHRkIHRoIG1hcnF1ZWUgb2JqZWN0IHRlbXBsYXRlIGZvcmVpZ25PYmplY3QgZGVzYyB0aXRsZVwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICBidXR0b25TY29wZVRhZ3MgPSBpblNjb3BlVGFncy5jb25jYXQoW1wiYnV0dG9uXCJdKSxcbiAgICAgIGltcGxpZWRFbmRUYWdzID0gXCJkZCBkdCBsaSBvcHRpb24gb3B0Z3JvdXAgcCBycCBydFwiLnNwbGl0KFwiIFwiKSxcbiAgICAgIGVtcHR5QW5jZXN0b3JJbmZvRGV2ID0ge1xuICAgICAgICBjdXJyZW50OiBudWxsLFxuICAgICAgICBmb3JtVGFnOiBudWxsLFxuICAgICAgICBhVGFnSW5TY29wZTogbnVsbCxcbiAgICAgICAgYnV0dG9uVGFnSW5TY29wZTogbnVsbCxcbiAgICAgICAgbm9iclRhZ0luU2NvcGU6IG51bGwsXG4gICAgICAgIHBUYWdJbkJ1dHRvblNjb3BlOiBudWxsLFxuICAgICAgICBsaXN0SXRlbVRhZ0F1dG9jbG9zaW5nOiBudWxsLFxuICAgICAgICBkbEl0ZW1UYWdBdXRvY2xvc2luZzogbnVsbCxcbiAgICAgICAgY29udGFpbmVyVGFnSW5TY29wZTogbnVsbFxuICAgICAgfSxcbiAgICAgIGRpZFdhcm4gPSB7fSxcbiAgICAgIE1BVEhfTkFNRVNQQUNFID0gXCJodHRwOi8vd3d3LnczLm9yZy8xOTk4L01hdGgvTWF0aE1MXCIsXG4gICAgICBTVkdfTkFNRVNQQUNFID0gXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgICAgc2hvcnRoYW5kVG9Mb25naGFuZCA9IHtcbiAgICAgICAgYW5pbWF0aW9uOlxuICAgICAgICAgIFwiYW5pbWF0aW9uRGVsYXkgYW5pbWF0aW9uRGlyZWN0aW9uIGFuaW1hdGlvbkR1cmF0aW9uIGFuaW1hdGlvbkZpbGxNb2RlIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IGFuaW1hdGlvbk5hbWUgYW5pbWF0aW9uUGxheVN0YXRlIGFuaW1hdGlvblRpbWluZ0Z1bmN0aW9uXCIuc3BsaXQoXG4gICAgICAgICAgICBcIiBcIlxuICAgICAgICAgICksXG4gICAgICAgIGJhY2tncm91bmQ6XG4gICAgICAgICAgXCJiYWNrZ3JvdW5kQXR0YWNobWVudCBiYWNrZ3JvdW5kQ2xpcCBiYWNrZ3JvdW5kQ29sb3IgYmFja2dyb3VuZEltYWdlIGJhY2tncm91bmRPcmlnaW4gYmFja2dyb3VuZFBvc2l0aW9uWCBiYWNrZ3JvdW5kUG9zaXRpb25ZIGJhY2tncm91bmRSZXBlYXQgYmFja2dyb3VuZFNpemVcIi5zcGxpdChcbiAgICAgICAgICAgIFwiIFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uOiBbXCJiYWNrZ3JvdW5kUG9zaXRpb25YXCIsIFwiYmFja2dyb3VuZFBvc2l0aW9uWVwiXSxcbiAgICAgICAgYm9yZGVyOlxuICAgICAgICAgIFwiYm9yZGVyQm90dG9tQ29sb3IgYm9yZGVyQm90dG9tU3R5bGUgYm9yZGVyQm90dG9tV2lkdGggYm9yZGVySW1hZ2VPdXRzZXQgYm9yZGVySW1hZ2VSZXBlYXQgYm9yZGVySW1hZ2VTbGljZSBib3JkZXJJbWFnZVNvdXJjZSBib3JkZXJJbWFnZVdpZHRoIGJvcmRlckxlZnRDb2xvciBib3JkZXJMZWZ0U3R5bGUgYm9yZGVyTGVmdFdpZHRoIGJvcmRlclJpZ2h0Q29sb3IgYm9yZGVyUmlnaHRTdHlsZSBib3JkZXJSaWdodFdpZHRoIGJvcmRlclRvcENvbG9yIGJvcmRlclRvcFN0eWxlIGJvcmRlclRvcFdpZHRoXCIuc3BsaXQoXG4gICAgICAgICAgICBcIiBcIlxuICAgICAgICAgICksXG4gICAgICAgIGJvcmRlckJsb2NrRW5kOiBbXG4gICAgICAgICAgXCJib3JkZXJCbG9ja0VuZENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJCbG9ja0VuZFN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJCbG9ja0VuZFdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyQmxvY2tTdGFydDogW1xuICAgICAgICAgIFwiYm9yZGVyQmxvY2tTdGFydENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJCbG9ja1N0YXJ0U3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlckJsb2NrU3RhcnRXaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlckJvdHRvbTogW1xuICAgICAgICAgIFwiYm9yZGVyQm90dG9tQ29sb3JcIixcbiAgICAgICAgICBcImJvcmRlckJvdHRvbVN0eWxlXCIsXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21XaWR0aFwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlckNvbG9yOiBbXG4gICAgICAgICAgXCJib3JkZXJCb3R0b21Db2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVyTGVmdENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJSaWdodENvbG9yXCIsXG4gICAgICAgICAgXCJib3JkZXJUb3BDb2xvclwiXG4gICAgICAgIF0sXG4gICAgICAgIGJvcmRlckltYWdlOiBbXG4gICAgICAgICAgXCJib3JkZXJJbWFnZU91dHNldFwiLFxuICAgICAgICAgIFwiYm9yZGVySW1hZ2VSZXBlYXRcIixcbiAgICAgICAgICBcImJvcmRlckltYWdlU2xpY2VcIixcbiAgICAgICAgICBcImJvcmRlckltYWdlU291cmNlXCIsXG4gICAgICAgICAgXCJib3JkZXJJbWFnZVdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVySW5saW5lRW5kOiBbXG4gICAgICAgICAgXCJib3JkZXJJbmxpbmVFbmRDb2xvclwiLFxuICAgICAgICAgIFwiYm9yZGVySW5saW5lRW5kU3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlcklubGluZUVuZFdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVySW5saW5lU3RhcnQ6IFtcbiAgICAgICAgICBcImJvcmRlcklubGluZVN0YXJ0Q29sb3JcIixcbiAgICAgICAgICBcImJvcmRlcklubGluZVN0YXJ0U3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlcklubGluZVN0YXJ0V2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJMZWZ0OiBbXCJib3JkZXJMZWZ0Q29sb3JcIiwgXCJib3JkZXJMZWZ0U3R5bGVcIiwgXCJib3JkZXJMZWZ0V2lkdGhcIl0sXG4gICAgICAgIGJvcmRlclJhZGl1czogW1xuICAgICAgICAgIFwiYm9yZGVyQm90dG9tTGVmdFJhZGl1c1wiLFxuICAgICAgICAgIFwiYm9yZGVyQm90dG9tUmlnaHRSYWRpdXNcIixcbiAgICAgICAgICBcImJvcmRlclRvcExlZnRSYWRpdXNcIixcbiAgICAgICAgICBcImJvcmRlclRvcFJpZ2h0UmFkaXVzXCJcbiAgICAgICAgXSxcbiAgICAgICAgYm9yZGVyUmlnaHQ6IFtcbiAgICAgICAgICBcImJvcmRlclJpZ2h0Q29sb3JcIixcbiAgICAgICAgICBcImJvcmRlclJpZ2h0U3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlclJpZ2h0V2lkdGhcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJTdHlsZTogW1xuICAgICAgICAgIFwiYm9yZGVyQm90dG9tU3R5bGVcIixcbiAgICAgICAgICBcImJvcmRlckxlZnRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyUmlnaHRTdHlsZVwiLFxuICAgICAgICAgIFwiYm9yZGVyVG9wU3R5bGVcIlxuICAgICAgICBdLFxuICAgICAgICBib3JkZXJUb3A6IFtcImJvcmRlclRvcENvbG9yXCIsIFwiYm9yZGVyVG9wU3R5bGVcIiwgXCJib3JkZXJUb3BXaWR0aFwiXSxcbiAgICAgICAgYm9yZGVyV2lkdGg6IFtcbiAgICAgICAgICBcImJvcmRlckJvdHRvbVdpZHRoXCIsXG4gICAgICAgICAgXCJib3JkZXJMZWZ0V2lkdGhcIixcbiAgICAgICAgICBcImJvcmRlclJpZ2h0V2lkdGhcIixcbiAgICAgICAgICBcImJvcmRlclRvcFdpZHRoXCJcbiAgICAgICAgXSxcbiAgICAgICAgY29sdW1uUnVsZTogW1wiY29sdW1uUnVsZUNvbG9yXCIsIFwiY29sdW1uUnVsZVN0eWxlXCIsIFwiY29sdW1uUnVsZVdpZHRoXCJdLFxuICAgICAgICBjb2x1bW5zOiBbXCJjb2x1bW5Db3VudFwiLCBcImNvbHVtbldpZHRoXCJdLFxuICAgICAgICBmbGV4OiBbXCJmbGV4QmFzaXNcIiwgXCJmbGV4R3Jvd1wiLCBcImZsZXhTaHJpbmtcIl0sXG4gICAgICAgIGZsZXhGbG93OiBbXCJmbGV4RGlyZWN0aW9uXCIsIFwiZmxleFdyYXBcIl0sXG4gICAgICAgIGZvbnQ6IFwiZm9udEZhbWlseSBmb250RmVhdHVyZVNldHRpbmdzIGZvbnRLZXJuaW5nIGZvbnRMYW5ndWFnZU92ZXJyaWRlIGZvbnRTaXplIGZvbnRTaXplQWRqdXN0IGZvbnRTdHJldGNoIGZvbnRTdHlsZSBmb250VmFyaWFudCBmb250VmFyaWFudEFsdGVybmF0ZXMgZm9udFZhcmlhbnRDYXBzIGZvbnRWYXJpYW50RWFzdEFzaWFuIGZvbnRWYXJpYW50TGlnYXR1cmVzIGZvbnRWYXJpYW50TnVtZXJpYyBmb250VmFyaWFudFBvc2l0aW9uIGZvbnRXZWlnaHQgbGluZUhlaWdodFwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICAgIGZvbnRWYXJpYW50OlxuICAgICAgICAgIFwiZm9udFZhcmlhbnRBbHRlcm5hdGVzIGZvbnRWYXJpYW50Q2FwcyBmb250VmFyaWFudEVhc3RBc2lhbiBmb250VmFyaWFudExpZ2F0dXJlcyBmb250VmFyaWFudE51bWVyaWMgZm9udFZhcmlhbnRQb3NpdGlvblwiLnNwbGl0KFxuICAgICAgICAgICAgXCIgXCJcbiAgICAgICAgICApLFxuICAgICAgICBnYXA6IFtcImNvbHVtbkdhcFwiLCBcInJvd0dhcFwiXSxcbiAgICAgICAgZ3JpZDogXCJncmlkQXV0b0NvbHVtbnMgZ3JpZEF1dG9GbG93IGdyaWRBdXRvUm93cyBncmlkVGVtcGxhdGVBcmVhcyBncmlkVGVtcGxhdGVDb2x1bW5zIGdyaWRUZW1wbGF0ZVJvd3NcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgICBncmlkQXJlYTogW1xuICAgICAgICAgIFwiZ3JpZENvbHVtbkVuZFwiLFxuICAgICAgICAgIFwiZ3JpZENvbHVtblN0YXJ0XCIsXG4gICAgICAgICAgXCJncmlkUm93RW5kXCIsXG4gICAgICAgICAgXCJncmlkUm93U3RhcnRcIlxuICAgICAgICBdLFxuICAgICAgICBncmlkQ29sdW1uOiBbXCJncmlkQ29sdW1uRW5kXCIsIFwiZ3JpZENvbHVtblN0YXJ0XCJdLFxuICAgICAgICBncmlkQ29sdW1uR2FwOiBbXCJjb2x1bW5HYXBcIl0sXG4gICAgICAgIGdyaWRHYXA6IFtcImNvbHVtbkdhcFwiLCBcInJvd0dhcFwiXSxcbiAgICAgICAgZ3JpZFJvdzogW1wiZ3JpZFJvd0VuZFwiLCBcImdyaWRSb3dTdGFydFwiXSxcbiAgICAgICAgZ3JpZFJvd0dhcDogW1wicm93R2FwXCJdLFxuICAgICAgICBncmlkVGVtcGxhdGU6IFtcbiAgICAgICAgICBcImdyaWRUZW1wbGF0ZUFyZWFzXCIsXG4gICAgICAgICAgXCJncmlkVGVtcGxhdGVDb2x1bW5zXCIsXG4gICAgICAgICAgXCJncmlkVGVtcGxhdGVSb3dzXCJcbiAgICAgICAgXSxcbiAgICAgICAgbGlzdFN0eWxlOiBbXCJsaXN0U3R5bGVJbWFnZVwiLCBcImxpc3RTdHlsZVBvc2l0aW9uXCIsIFwibGlzdFN0eWxlVHlwZVwiXSxcbiAgICAgICAgbWFyZ2luOiBbXCJtYXJnaW5Cb3R0b21cIiwgXCJtYXJnaW5MZWZ0XCIsIFwibWFyZ2luUmlnaHRcIiwgXCJtYXJnaW5Ub3BcIl0sXG4gICAgICAgIG1hcmtlcjogW1wibWFya2VyRW5kXCIsIFwibWFya2VyTWlkXCIsIFwibWFya2VyU3RhcnRcIl0sXG4gICAgICAgIG1hc2s6IFwibWFza0NsaXAgbWFza0NvbXBvc2l0ZSBtYXNrSW1hZ2UgbWFza01vZGUgbWFza09yaWdpbiBtYXNrUG9zaXRpb25YIG1hc2tQb3NpdGlvblkgbWFza1JlcGVhdCBtYXNrU2l6ZVwiLnNwbGl0KFxuICAgICAgICAgIFwiIFwiXG4gICAgICAgICksXG4gICAgICAgIG1hc2tQb3NpdGlvbjogW1wibWFza1Bvc2l0aW9uWFwiLCBcIm1hc2tQb3NpdGlvbllcIl0sXG4gICAgICAgIG91dGxpbmU6IFtcIm91dGxpbmVDb2xvclwiLCBcIm91dGxpbmVTdHlsZVwiLCBcIm91dGxpbmVXaWR0aFwiXSxcbiAgICAgICAgb3ZlcmZsb3c6IFtcIm92ZXJmbG93WFwiLCBcIm92ZXJmbG93WVwiXSxcbiAgICAgICAgcGFkZGluZzogW1wicGFkZGluZ0JvdHRvbVwiLCBcInBhZGRpbmdMZWZ0XCIsIFwicGFkZGluZ1JpZ2h0XCIsIFwicGFkZGluZ1RvcFwiXSxcbiAgICAgICAgcGxhY2VDb250ZW50OiBbXCJhbGlnbkNvbnRlbnRcIiwgXCJqdXN0aWZ5Q29udGVudFwiXSxcbiAgICAgICAgcGxhY2VJdGVtczogW1wiYWxpZ25JdGVtc1wiLCBcImp1c3RpZnlJdGVtc1wiXSxcbiAgICAgICAgcGxhY2VTZWxmOiBbXCJhbGlnblNlbGZcIiwgXCJqdXN0aWZ5U2VsZlwiXSxcbiAgICAgICAgdGV4dERlY29yYXRpb246IFtcbiAgICAgICAgICBcInRleHREZWNvcmF0aW9uQ29sb3JcIixcbiAgICAgICAgICBcInRleHREZWNvcmF0aW9uTGluZVwiLFxuICAgICAgICAgIFwidGV4dERlY29yYXRpb25TdHlsZVwiXG4gICAgICAgIF0sXG4gICAgICAgIHRleHRFbXBoYXNpczogW1widGV4dEVtcGhhc2lzQ29sb3JcIiwgXCJ0ZXh0RW1waGFzaXNTdHlsZVwiXSxcbiAgICAgICAgdHJhbnNpdGlvbjogW1xuICAgICAgICAgIFwidHJhbnNpdGlvbkRlbGF5XCIsXG4gICAgICAgICAgXCJ0cmFuc2l0aW9uRHVyYXRpb25cIixcbiAgICAgICAgICBcInRyYW5zaXRpb25Qcm9wZXJ0eVwiLFxuICAgICAgICAgIFwidHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uXCJcbiAgICAgICAgXSxcbiAgICAgICAgd29yZFdyYXA6IFtcIm92ZXJmbG93V3JhcFwiXVxuICAgICAgfSxcbiAgICAgIHVwcGVyY2FzZVBhdHRlcm4gPSAvKFtBLVpdKS9nLFxuICAgICAgbXNQYXR0ZXJuJDEgPSAvXm1zLS8sXG4gICAgICBiYWRWZW5kb3JlZFN0eWxlTmFtZVBhdHRlcm4gPSAvXig/OndlYmtpdHxtb3p8bylbQS1aXS8sXG4gICAgICBtc1BhdHRlcm4gPSAvXi1tcy0vLFxuICAgICAgaHlwaGVuUGF0dGVybiA9IC8tKC4pL2csXG4gICAgICBiYWRTdHlsZVZhbHVlV2l0aFNlbWljb2xvblBhdHRlcm4gPSAvO1xccyokLyxcbiAgICAgIHdhcm5lZFN0eWxlTmFtZXMgPSB7fSxcbiAgICAgIHdhcm5lZFN0eWxlVmFsdWVzID0ge30sXG4gICAgICB3YXJuZWRGb3JOYU5WYWx1ZSA9ICExLFxuICAgICAgd2FybmVkRm9ySW5maW5pdHlWYWx1ZSA9ICExLFxuICAgICAgdW5pdGxlc3NOdW1iZXJzID0gbmV3IFNldChcbiAgICAgICAgXCJhbmltYXRpb25JdGVyYXRpb25Db3VudCBhc3BlY3RSYXRpbyBib3JkZXJJbWFnZU91dHNldCBib3JkZXJJbWFnZVNsaWNlIGJvcmRlckltYWdlV2lkdGggYm94RmxleCBib3hGbGV4R3JvdXAgYm94T3JkaW5hbEdyb3VwIGNvbHVtbkNvdW50IGNvbHVtbnMgZmxleCBmbGV4R3JvdyBmbGV4UG9zaXRpdmUgZmxleFNocmluayBmbGV4TmVnYXRpdmUgZmxleE9yZGVyIGdyaWRBcmVhIGdyaWRSb3cgZ3JpZFJvd0VuZCBncmlkUm93U3BhbiBncmlkUm93U3RhcnQgZ3JpZENvbHVtbiBncmlkQ29sdW1uRW5kIGdyaWRDb2x1bW5TcGFuIGdyaWRDb2x1bW5TdGFydCBmb250V2VpZ2h0IGxpbmVDbGFtcCBsaW5lSGVpZ2h0IG9wYWNpdHkgb3JkZXIgb3JwaGFucyBzY2FsZSB0YWJTaXplIHdpZG93cyB6SW5kZXggem9vbSBmaWxsT3BhY2l0eSBmbG9vZE9wYWNpdHkgc3RvcE9wYWNpdHkgc3Ryb2tlRGFzaGFycmF5IHN0cm9rZURhc2hvZmZzZXQgc3Ryb2tlTWl0ZXJsaW1pdCBzdHJva2VPcGFjaXR5IHN0cm9rZVdpZHRoIE1vekFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IE1vekJveEZsZXggTW96Qm94RmxleEdyb3VwIE1vekxpbmVDbGFtcCBtc0FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50IG1zRmxleCBtc1pvb20gbXNGbGV4R3JvdyBtc0ZsZXhOZWdhdGl2ZSBtc0ZsZXhPcmRlciBtc0ZsZXhQb3NpdGl2ZSBtc0ZsZXhTaHJpbmsgbXNHcmlkQ29sdW1uIG1zR3JpZENvbHVtblNwYW4gbXNHcmlkUm93IG1zR3JpZFJvd1NwYW4gV2Via2l0QW5pbWF0aW9uSXRlcmF0aW9uQ291bnQgV2Via2l0Qm94RmxleCBXZWJLaXRCb3hGbGV4R3JvdXAgV2Via2l0Qm94T3JkaW5hbEdyb3VwIFdlYmtpdENvbHVtbkNvdW50IFdlYmtpdENvbHVtbnMgV2Via2l0RmxleCBXZWJraXRGbGV4R3JvdyBXZWJraXRGbGV4UG9zaXRpdmUgV2Via2l0RmxleFNocmluayBXZWJraXRMaW5lQ2xhbXBcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApXG4gICAgICApLFxuICAgICAgYWxpYXNlcyA9IG5ldyBNYXAoW1xuICAgICAgICBbXCJhY2NlcHRDaGFyc2V0XCIsIFwiYWNjZXB0LWNoYXJzZXRcIl0sXG4gICAgICAgIFtcImh0bWxGb3JcIiwgXCJmb3JcIl0sXG4gICAgICAgIFtcImh0dHBFcXVpdlwiLCBcImh0dHAtZXF1aXZcIl0sXG4gICAgICAgIFtcImNyb3NzT3JpZ2luXCIsIFwiY3Jvc3NvcmlnaW5cIl0sXG4gICAgICAgIFtcImFjY2VudEhlaWdodFwiLCBcImFjY2VudC1oZWlnaHRcIl0sXG4gICAgICAgIFtcImFsaWdubWVudEJhc2VsaW5lXCIsIFwiYWxpZ25tZW50LWJhc2VsaW5lXCJdLFxuICAgICAgICBbXCJhcmFiaWNGb3JtXCIsIFwiYXJhYmljLWZvcm1cIl0sXG4gICAgICAgIFtcImJhc2VsaW5lU2hpZnRcIiwgXCJiYXNlbGluZS1zaGlmdFwiXSxcbiAgICAgICAgW1wiY2FwSGVpZ2h0XCIsIFwiY2FwLWhlaWdodFwiXSxcbiAgICAgICAgW1wiY2xpcFBhdGhcIiwgXCJjbGlwLXBhdGhcIl0sXG4gICAgICAgIFtcImNsaXBSdWxlXCIsIFwiY2xpcC1ydWxlXCJdLFxuICAgICAgICBbXCJjb2xvckludGVycG9sYXRpb25cIiwgXCJjb2xvci1pbnRlcnBvbGF0aW9uXCJdLFxuICAgICAgICBbXCJjb2xvckludGVycG9sYXRpb25GaWx0ZXJzXCIsIFwiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzXCJdLFxuICAgICAgICBbXCJjb2xvclByb2ZpbGVcIiwgXCJjb2xvci1wcm9maWxlXCJdLFxuICAgICAgICBbXCJjb2xvclJlbmRlcmluZ1wiLCBcImNvbG9yLXJlbmRlcmluZ1wiXSxcbiAgICAgICAgW1wiZG9taW5hbnRCYXNlbGluZVwiLCBcImRvbWluYW50LWJhc2VsaW5lXCJdLFxuICAgICAgICBbXCJlbmFibGVCYWNrZ3JvdW5kXCIsIFwiZW5hYmxlLWJhY2tncm91bmRcIl0sXG4gICAgICAgIFtcImZpbGxPcGFjaXR5XCIsIFwiZmlsbC1vcGFjaXR5XCJdLFxuICAgICAgICBbXCJmaWxsUnVsZVwiLCBcImZpbGwtcnVsZVwiXSxcbiAgICAgICAgW1wiZmxvb2RDb2xvclwiLCBcImZsb29kLWNvbG9yXCJdLFxuICAgICAgICBbXCJmbG9vZE9wYWNpdHlcIiwgXCJmbG9vZC1vcGFjaXR5XCJdLFxuICAgICAgICBbXCJmb250RmFtaWx5XCIsIFwiZm9udC1mYW1pbHlcIl0sXG4gICAgICAgIFtcImZvbnRTaXplXCIsIFwiZm9udC1zaXplXCJdLFxuICAgICAgICBbXCJmb250U2l6ZUFkanVzdFwiLCBcImZvbnQtc2l6ZS1hZGp1c3RcIl0sXG4gICAgICAgIFtcImZvbnRTdHJldGNoXCIsIFwiZm9udC1zdHJldGNoXCJdLFxuICAgICAgICBbXCJmb250U3R5bGVcIiwgXCJmb250LXN0eWxlXCJdLFxuICAgICAgICBbXCJmb250VmFyaWFudFwiLCBcImZvbnQtdmFyaWFudFwiXSxcbiAgICAgICAgW1wiZm9udFdlaWdodFwiLCBcImZvbnQtd2VpZ2h0XCJdLFxuICAgICAgICBbXCJnbHlwaE5hbWVcIiwgXCJnbHlwaC1uYW1lXCJdLFxuICAgICAgICBbXCJnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbFwiLCBcImdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWxcIl0sXG4gICAgICAgIFtcImdseXBoT3JpZW50YXRpb25WZXJ0aWNhbFwiLCBcImdseXBoLW9yaWVudGF0aW9uLXZlcnRpY2FsXCJdLFxuICAgICAgICBbXCJob3JpekFkdlhcIiwgXCJob3Jpei1hZHYteFwiXSxcbiAgICAgICAgW1wiaG9yaXpPcmlnaW5YXCIsIFwiaG9yaXotb3JpZ2luLXhcIl0sXG4gICAgICAgIFtcImltYWdlUmVuZGVyaW5nXCIsIFwiaW1hZ2UtcmVuZGVyaW5nXCJdLFxuICAgICAgICBbXCJsZXR0ZXJTcGFjaW5nXCIsIFwibGV0dGVyLXNwYWNpbmdcIl0sXG4gICAgICAgIFtcImxpZ2h0aW5nQ29sb3JcIiwgXCJsaWdodGluZy1jb2xvclwiXSxcbiAgICAgICAgW1wibWFya2VyRW5kXCIsIFwibWFya2VyLWVuZFwiXSxcbiAgICAgICAgW1wibWFya2VyTWlkXCIsIFwibWFya2VyLW1pZFwiXSxcbiAgICAgICAgW1wibWFya2VyU3RhcnRcIiwgXCJtYXJrZXItc3RhcnRcIl0sXG4gICAgICAgIFtcIm92ZXJsaW5lUG9zaXRpb25cIiwgXCJvdmVybGluZS1wb3NpdGlvblwiXSxcbiAgICAgICAgW1wib3ZlcmxpbmVUaGlja25lc3NcIiwgXCJvdmVybGluZS10aGlja25lc3NcIl0sXG4gICAgICAgIFtcInBhaW50T3JkZXJcIiwgXCJwYWludC1vcmRlclwiXSxcbiAgICAgICAgW1wicGFub3NlLTFcIiwgXCJwYW5vc2UtMVwiXSxcbiAgICAgICAgW1wicG9pbnRlckV2ZW50c1wiLCBcInBvaW50ZXItZXZlbnRzXCJdLFxuICAgICAgICBbXCJyZW5kZXJpbmdJbnRlbnRcIiwgXCJyZW5kZXJpbmctaW50ZW50XCJdLFxuICAgICAgICBbXCJzaGFwZVJlbmRlcmluZ1wiLCBcInNoYXBlLXJlbmRlcmluZ1wiXSxcbiAgICAgICAgW1wic3RvcENvbG9yXCIsIFwic3RvcC1jb2xvclwiXSxcbiAgICAgICAgW1wic3RvcE9wYWNpdHlcIiwgXCJzdG9wLW9wYWNpdHlcIl0sXG4gICAgICAgIFtcInN0cmlrZXRocm91Z2hQb3NpdGlvblwiLCBcInN0cmlrZXRocm91Z2gtcG9zaXRpb25cIl0sXG4gICAgICAgIFtcInN0cmlrZXRocm91Z2hUaGlja25lc3NcIiwgXCJzdHJpa2V0aHJvdWdoLXRoaWNrbmVzc1wiXSxcbiAgICAgICAgW1wic3Ryb2tlRGFzaGFycmF5XCIsIFwic3Ryb2tlLWRhc2hhcnJheVwiXSxcbiAgICAgICAgW1wic3Ryb2tlRGFzaG9mZnNldFwiLCBcInN0cm9rZS1kYXNob2Zmc2V0XCJdLFxuICAgICAgICBbXCJzdHJva2VMaW5lY2FwXCIsIFwic3Ryb2tlLWxpbmVjYXBcIl0sXG4gICAgICAgIFtcInN0cm9rZUxpbmVqb2luXCIsIFwic3Ryb2tlLWxpbmVqb2luXCJdLFxuICAgICAgICBbXCJzdHJva2VNaXRlcmxpbWl0XCIsIFwic3Ryb2tlLW1pdGVybGltaXRcIl0sXG4gICAgICAgIFtcInN0cm9rZU9wYWNpdHlcIiwgXCJzdHJva2Utb3BhY2l0eVwiXSxcbiAgICAgICAgW1wic3Ryb2tlV2lkdGhcIiwgXCJzdHJva2Utd2lkdGhcIl0sXG4gICAgICAgIFtcInRleHRBbmNob3JcIiwgXCJ0ZXh0LWFuY2hvclwiXSxcbiAgICAgICAgW1widGV4dERlY29yYXRpb25cIiwgXCJ0ZXh0LWRlY29yYXRpb25cIl0sXG4gICAgICAgIFtcInRleHRSZW5kZXJpbmdcIiwgXCJ0ZXh0LXJlbmRlcmluZ1wiXSxcbiAgICAgICAgW1widHJhbnNmb3JtT3JpZ2luXCIsIFwidHJhbnNmb3JtLW9yaWdpblwiXSxcbiAgICAgICAgW1widW5kZXJsaW5lUG9zaXRpb25cIiwgXCJ1bmRlcmxpbmUtcG9zaXRpb25cIl0sXG4gICAgICAgIFtcInVuZGVybGluZVRoaWNrbmVzc1wiLCBcInVuZGVybGluZS10aGlja25lc3NcIl0sXG4gICAgICAgIFtcInVuaWNvZGVCaWRpXCIsIFwidW5pY29kZS1iaWRpXCJdLFxuICAgICAgICBbXCJ1bmljb2RlUmFuZ2VcIiwgXCJ1bmljb2RlLXJhbmdlXCJdLFxuICAgICAgICBbXCJ1bml0c1BlckVtXCIsIFwidW5pdHMtcGVyLWVtXCJdLFxuICAgICAgICBbXCJ2QWxwaGFiZXRpY1wiLCBcInYtYWxwaGFiZXRpY1wiXSxcbiAgICAgICAgW1widkhhbmdpbmdcIiwgXCJ2LWhhbmdpbmdcIl0sXG4gICAgICAgIFtcInZJZGVvZ3JhcGhpY1wiLCBcInYtaWRlb2dyYXBoaWNcIl0sXG4gICAgICAgIFtcInZNYXRoZW1hdGljYWxcIiwgXCJ2LW1hdGhlbWF0aWNhbFwiXSxcbiAgICAgICAgW1widmVjdG9yRWZmZWN0XCIsIFwidmVjdG9yLWVmZmVjdFwiXSxcbiAgICAgICAgW1widmVydEFkdllcIiwgXCJ2ZXJ0LWFkdi15XCJdLFxuICAgICAgICBbXCJ2ZXJ0T3JpZ2luWFwiLCBcInZlcnQtb3JpZ2luLXhcIl0sXG4gICAgICAgIFtcInZlcnRPcmlnaW5ZXCIsIFwidmVydC1vcmlnaW4teVwiXSxcbiAgICAgICAgW1wid29yZFNwYWNpbmdcIiwgXCJ3b3JkLXNwYWNpbmdcIl0sXG4gICAgICAgIFtcIndyaXRpbmdNb2RlXCIsIFwid3JpdGluZy1tb2RlXCJdLFxuICAgICAgICBbXCJ4bWxuc1hsaW5rXCIsIFwieG1sbnM6eGxpbmtcIl0sXG4gICAgICAgIFtcInhIZWlnaHRcIiwgXCJ4LWhlaWdodFwiXVxuICAgICAgXSksXG4gICAgICBwb3NzaWJsZVN0YW5kYXJkTmFtZXMgPSB7XG4gICAgICAgIGFjY2VwdDogXCJhY2NlcHRcIixcbiAgICAgICAgYWNjZXB0Y2hhcnNldDogXCJhY2NlcHRDaGFyc2V0XCIsXG4gICAgICAgIFwiYWNjZXB0LWNoYXJzZXRcIjogXCJhY2NlcHRDaGFyc2V0XCIsXG4gICAgICAgIGFjY2Vzc2tleTogXCJhY2Nlc3NLZXlcIixcbiAgICAgICAgYWN0aW9uOiBcImFjdGlvblwiLFxuICAgICAgICBhbGxvd2Z1bGxzY3JlZW46IFwiYWxsb3dGdWxsU2NyZWVuXCIsXG4gICAgICAgIGFsdDogXCJhbHRcIixcbiAgICAgICAgYXM6IFwiYXNcIixcbiAgICAgICAgYXN5bmM6IFwiYXN5bmNcIixcbiAgICAgICAgYXV0b2NhcGl0YWxpemU6IFwiYXV0b0NhcGl0YWxpemVcIixcbiAgICAgICAgYXV0b2NvbXBsZXRlOiBcImF1dG9Db21wbGV0ZVwiLFxuICAgICAgICBhdXRvY29ycmVjdDogXCJhdXRvQ29ycmVjdFwiLFxuICAgICAgICBhdXRvZm9jdXM6IFwiYXV0b0ZvY3VzXCIsXG4gICAgICAgIGF1dG9wbGF5OiBcImF1dG9QbGF5XCIsXG4gICAgICAgIGF1dG9zYXZlOiBcImF1dG9TYXZlXCIsXG4gICAgICAgIGNhcHR1cmU6IFwiY2FwdHVyZVwiLFxuICAgICAgICBjZWxscGFkZGluZzogXCJjZWxsUGFkZGluZ1wiLFxuICAgICAgICBjZWxsc3BhY2luZzogXCJjZWxsU3BhY2luZ1wiLFxuICAgICAgICBjaGFsbGVuZ2U6IFwiY2hhbGxlbmdlXCIsXG4gICAgICAgIGNoYXJzZXQ6IFwiY2hhclNldFwiLFxuICAgICAgICBjaGVja2VkOiBcImNoZWNrZWRcIixcbiAgICAgICAgY2hpbGRyZW46IFwiY2hpbGRyZW5cIixcbiAgICAgICAgY2l0ZTogXCJjaXRlXCIsXG4gICAgICAgIGNsYXNzOiBcImNsYXNzTmFtZVwiLFxuICAgICAgICBjbGFzc2lkOiBcImNsYXNzSURcIixcbiAgICAgICAgY2xhc3NuYW1lOiBcImNsYXNzTmFtZVwiLFxuICAgICAgICBjb2xzOiBcImNvbHNcIixcbiAgICAgICAgY29sc3BhbjogXCJjb2xTcGFuXCIsXG4gICAgICAgIGNvbnRlbnQ6IFwiY29udGVudFwiLFxuICAgICAgICBjb250ZW50ZWRpdGFibGU6IFwiY29udGVudEVkaXRhYmxlXCIsXG4gICAgICAgIGNvbnRleHRtZW51OiBcImNvbnRleHRNZW51XCIsXG4gICAgICAgIGNvbnRyb2xzOiBcImNvbnRyb2xzXCIsXG4gICAgICAgIGNvbnRyb2xzbGlzdDogXCJjb250cm9sc0xpc3RcIixcbiAgICAgICAgY29vcmRzOiBcImNvb3Jkc1wiLFxuICAgICAgICBjcm9zc29yaWdpbjogXCJjcm9zc09yaWdpblwiLFxuICAgICAgICBkYW5nZXJvdXNseXNldGlubmVyaHRtbDogXCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiLFxuICAgICAgICBkYXRhOiBcImRhdGFcIixcbiAgICAgICAgZGF0ZXRpbWU6IFwiZGF0ZVRpbWVcIixcbiAgICAgICAgZGVmYXVsdDogXCJkZWZhdWx0XCIsXG4gICAgICAgIGRlZmF1bHRjaGVja2VkOiBcImRlZmF1bHRDaGVja2VkXCIsXG4gICAgICAgIGRlZmF1bHR2YWx1ZTogXCJkZWZhdWx0VmFsdWVcIixcbiAgICAgICAgZGVmZXI6IFwiZGVmZXJcIixcbiAgICAgICAgZGlyOiBcImRpclwiLFxuICAgICAgICBkaXNhYmxlZDogXCJkaXNhYmxlZFwiLFxuICAgICAgICBkaXNhYmxlcGljdHVyZWlucGljdHVyZTogXCJkaXNhYmxlUGljdHVyZUluUGljdHVyZVwiLFxuICAgICAgICBkaXNhYmxlcmVtb3RlcGxheWJhY2s6IFwiZGlzYWJsZVJlbW90ZVBsYXliYWNrXCIsXG4gICAgICAgIGRvd25sb2FkOiBcImRvd25sb2FkXCIsXG4gICAgICAgIGRyYWdnYWJsZTogXCJkcmFnZ2FibGVcIixcbiAgICAgICAgZW5jdHlwZTogXCJlbmNUeXBlXCIsXG4gICAgICAgIGVudGVya2V5aGludDogXCJlbnRlcktleUhpbnRcIixcbiAgICAgICAgZmV0Y2hwcmlvcml0eTogXCJmZXRjaFByaW9yaXR5XCIsXG4gICAgICAgIGZvcjogXCJodG1sRm9yXCIsXG4gICAgICAgIGZvcm06IFwiZm9ybVwiLFxuICAgICAgICBmb3JtbWV0aG9kOiBcImZvcm1NZXRob2RcIixcbiAgICAgICAgZm9ybWFjdGlvbjogXCJmb3JtQWN0aW9uXCIsXG4gICAgICAgIGZvcm1lbmN0eXBlOiBcImZvcm1FbmNUeXBlXCIsXG4gICAgICAgIGZvcm1ub3ZhbGlkYXRlOiBcImZvcm1Ob1ZhbGlkYXRlXCIsXG4gICAgICAgIGZvcm10YXJnZXQ6IFwiZm9ybVRhcmdldFwiLFxuICAgICAgICBmcmFtZWJvcmRlcjogXCJmcmFtZUJvcmRlclwiLFxuICAgICAgICBoZWFkZXJzOiBcImhlYWRlcnNcIixcbiAgICAgICAgaGVpZ2h0OiBcImhlaWdodFwiLFxuICAgICAgICBoaWRkZW46IFwiaGlkZGVuXCIsXG4gICAgICAgIGhpZ2g6IFwiaGlnaFwiLFxuICAgICAgICBocmVmOiBcImhyZWZcIixcbiAgICAgICAgaHJlZmxhbmc6IFwiaHJlZkxhbmdcIixcbiAgICAgICAgaHRtbGZvcjogXCJodG1sRm9yXCIsXG4gICAgICAgIGh0dHBlcXVpdjogXCJodHRwRXF1aXZcIixcbiAgICAgICAgXCJodHRwLWVxdWl2XCI6IFwiaHR0cEVxdWl2XCIsXG4gICAgICAgIGljb246IFwiaWNvblwiLFxuICAgICAgICBpZDogXCJpZFwiLFxuICAgICAgICBpbWFnZXNpemVzOiBcImltYWdlU2l6ZXNcIixcbiAgICAgICAgaW1hZ2VzcmNzZXQ6IFwiaW1hZ2VTcmNTZXRcIixcbiAgICAgICAgaW5lcnQ6IFwiaW5lcnRcIixcbiAgICAgICAgaW5uZXJodG1sOiBcImlubmVySFRNTFwiLFxuICAgICAgICBpbnB1dG1vZGU6IFwiaW5wdXRNb2RlXCIsXG4gICAgICAgIGludGVncml0eTogXCJpbnRlZ3JpdHlcIixcbiAgICAgICAgaXM6IFwiaXNcIixcbiAgICAgICAgaXRlbWlkOiBcIml0ZW1JRFwiLFxuICAgICAgICBpdGVtcHJvcDogXCJpdGVtUHJvcFwiLFxuICAgICAgICBpdGVtcmVmOiBcIml0ZW1SZWZcIixcbiAgICAgICAgaXRlbXNjb3BlOiBcIml0ZW1TY29wZVwiLFxuICAgICAgICBpdGVtdHlwZTogXCJpdGVtVHlwZVwiLFxuICAgICAgICBrZXlwYXJhbXM6IFwia2V5UGFyYW1zXCIsXG4gICAgICAgIGtleXR5cGU6IFwia2V5VHlwZVwiLFxuICAgICAgICBraW5kOiBcImtpbmRcIixcbiAgICAgICAgbGFiZWw6IFwibGFiZWxcIixcbiAgICAgICAgbGFuZzogXCJsYW5nXCIsXG4gICAgICAgIGxpc3Q6IFwibGlzdFwiLFxuICAgICAgICBsb29wOiBcImxvb3BcIixcbiAgICAgICAgbG93OiBcImxvd1wiLFxuICAgICAgICBtYW5pZmVzdDogXCJtYW5pZmVzdFwiLFxuICAgICAgICBtYXJnaW53aWR0aDogXCJtYXJnaW5XaWR0aFwiLFxuICAgICAgICBtYXJnaW5oZWlnaHQ6IFwibWFyZ2luSGVpZ2h0XCIsXG4gICAgICAgIG1heDogXCJtYXhcIixcbiAgICAgICAgbWF4bGVuZ3RoOiBcIm1heExlbmd0aFwiLFxuICAgICAgICBtZWRpYTogXCJtZWRpYVwiLFxuICAgICAgICBtZWRpYWdyb3VwOiBcIm1lZGlhR3JvdXBcIixcbiAgICAgICAgbWV0aG9kOiBcIm1ldGhvZFwiLFxuICAgICAgICBtaW46IFwibWluXCIsXG4gICAgICAgIG1pbmxlbmd0aDogXCJtaW5MZW5ndGhcIixcbiAgICAgICAgbXVsdGlwbGU6IFwibXVsdGlwbGVcIixcbiAgICAgICAgbXV0ZWQ6IFwibXV0ZWRcIixcbiAgICAgICAgbmFtZTogXCJuYW1lXCIsXG4gICAgICAgIG5vbW9kdWxlOiBcIm5vTW9kdWxlXCIsXG4gICAgICAgIG5vbmNlOiBcIm5vbmNlXCIsXG4gICAgICAgIG5vdmFsaWRhdGU6IFwibm9WYWxpZGF0ZVwiLFxuICAgICAgICBvcGVuOiBcIm9wZW5cIixcbiAgICAgICAgb3B0aW11bTogXCJvcHRpbXVtXCIsXG4gICAgICAgIHBhdHRlcm46IFwicGF0dGVyblwiLFxuICAgICAgICBwbGFjZWhvbGRlcjogXCJwbGFjZWhvbGRlclwiLFxuICAgICAgICBwbGF5c2lubGluZTogXCJwbGF5c0lubGluZVwiLFxuICAgICAgICBwb3N0ZXI6IFwicG9zdGVyXCIsXG4gICAgICAgIHByZWxvYWQ6IFwicHJlbG9hZFwiLFxuICAgICAgICBwcm9maWxlOiBcInByb2ZpbGVcIixcbiAgICAgICAgcmFkaW9ncm91cDogXCJyYWRpb0dyb3VwXCIsXG4gICAgICAgIHJlYWRvbmx5OiBcInJlYWRPbmx5XCIsXG4gICAgICAgIHJlZmVycmVycG9saWN5OiBcInJlZmVycmVyUG9saWN5XCIsXG4gICAgICAgIHJlbDogXCJyZWxcIixcbiAgICAgICAgcmVxdWlyZWQ6IFwicmVxdWlyZWRcIixcbiAgICAgICAgcmV2ZXJzZWQ6IFwicmV2ZXJzZWRcIixcbiAgICAgICAgcm9sZTogXCJyb2xlXCIsXG4gICAgICAgIHJvd3M6IFwicm93c1wiLFxuICAgICAgICByb3dzcGFuOiBcInJvd1NwYW5cIixcbiAgICAgICAgc2FuZGJveDogXCJzYW5kYm94XCIsXG4gICAgICAgIHNjb3BlOiBcInNjb3BlXCIsXG4gICAgICAgIHNjb3BlZDogXCJzY29wZWRcIixcbiAgICAgICAgc2Nyb2xsaW5nOiBcInNjcm9sbGluZ1wiLFxuICAgICAgICBzZWFtbGVzczogXCJzZWFtbGVzc1wiLFxuICAgICAgICBzZWxlY3RlZDogXCJzZWxlY3RlZFwiLFxuICAgICAgICBzaGFwZTogXCJzaGFwZVwiLFxuICAgICAgICBzaXplOiBcInNpemVcIixcbiAgICAgICAgc2l6ZXM6IFwic2l6ZXNcIixcbiAgICAgICAgc3BhbjogXCJzcGFuXCIsXG4gICAgICAgIHNwZWxsY2hlY2s6IFwic3BlbGxDaGVja1wiLFxuICAgICAgICBzcmM6IFwic3JjXCIsXG4gICAgICAgIHNyY2RvYzogXCJzcmNEb2NcIixcbiAgICAgICAgc3JjbGFuZzogXCJzcmNMYW5nXCIsXG4gICAgICAgIHNyY3NldDogXCJzcmNTZXRcIixcbiAgICAgICAgc3RhcnQ6IFwic3RhcnRcIixcbiAgICAgICAgc3RlcDogXCJzdGVwXCIsXG4gICAgICAgIHN0eWxlOiBcInN0eWxlXCIsXG4gICAgICAgIHN1bW1hcnk6IFwic3VtbWFyeVwiLFxuICAgICAgICB0YWJpbmRleDogXCJ0YWJJbmRleFwiLFxuICAgICAgICB0YXJnZXQ6IFwidGFyZ2V0XCIsXG4gICAgICAgIHRpdGxlOiBcInRpdGxlXCIsXG4gICAgICAgIHR5cGU6IFwidHlwZVwiLFxuICAgICAgICB1c2VtYXA6IFwidXNlTWFwXCIsXG4gICAgICAgIHZhbHVlOiBcInZhbHVlXCIsXG4gICAgICAgIHdpZHRoOiBcIndpZHRoXCIsXG4gICAgICAgIHdtb2RlOiBcIndtb2RlXCIsXG4gICAgICAgIHdyYXA6IFwid3JhcFwiLFxuICAgICAgICBhYm91dDogXCJhYm91dFwiLFxuICAgICAgICBhY2NlbnRoZWlnaHQ6IFwiYWNjZW50SGVpZ2h0XCIsXG4gICAgICAgIFwiYWNjZW50LWhlaWdodFwiOiBcImFjY2VudEhlaWdodFwiLFxuICAgICAgICBhY2N1bXVsYXRlOiBcImFjY3VtdWxhdGVcIixcbiAgICAgICAgYWRkaXRpdmU6IFwiYWRkaXRpdmVcIixcbiAgICAgICAgYWxpZ25tZW50YmFzZWxpbmU6IFwiYWxpZ25tZW50QmFzZWxpbmVcIixcbiAgICAgICAgXCJhbGlnbm1lbnQtYmFzZWxpbmVcIjogXCJhbGlnbm1lbnRCYXNlbGluZVwiLFxuICAgICAgICBhbGxvd3Jlb3JkZXI6IFwiYWxsb3dSZW9yZGVyXCIsXG4gICAgICAgIGFscGhhYmV0aWM6IFwiYWxwaGFiZXRpY1wiLFxuICAgICAgICBhbXBsaXR1ZGU6IFwiYW1wbGl0dWRlXCIsXG4gICAgICAgIGFyYWJpY2Zvcm06IFwiYXJhYmljRm9ybVwiLFxuICAgICAgICBcImFyYWJpYy1mb3JtXCI6IFwiYXJhYmljRm9ybVwiLFxuICAgICAgICBhc2NlbnQ6IFwiYXNjZW50XCIsXG4gICAgICAgIGF0dHJpYnV0ZW5hbWU6IFwiYXR0cmlidXRlTmFtZVwiLFxuICAgICAgICBhdHRyaWJ1dGV0eXBlOiBcImF0dHJpYnV0ZVR5cGVcIixcbiAgICAgICAgYXV0b3JldmVyc2U6IFwiYXV0b1JldmVyc2VcIixcbiAgICAgICAgYXppbXV0aDogXCJhemltdXRoXCIsXG4gICAgICAgIGJhc2VmcmVxdWVuY3k6IFwiYmFzZUZyZXF1ZW5jeVwiLFxuICAgICAgICBiYXNlbGluZXNoaWZ0OiBcImJhc2VsaW5lU2hpZnRcIixcbiAgICAgICAgXCJiYXNlbGluZS1zaGlmdFwiOiBcImJhc2VsaW5lU2hpZnRcIixcbiAgICAgICAgYmFzZXByb2ZpbGU6IFwiYmFzZVByb2ZpbGVcIixcbiAgICAgICAgYmJveDogXCJiYm94XCIsXG4gICAgICAgIGJlZ2luOiBcImJlZ2luXCIsXG4gICAgICAgIGJpYXM6IFwiYmlhc1wiLFxuICAgICAgICBieTogXCJieVwiLFxuICAgICAgICBjYWxjbW9kZTogXCJjYWxjTW9kZVwiLFxuICAgICAgICBjYXBoZWlnaHQ6IFwiY2FwSGVpZ2h0XCIsXG4gICAgICAgIFwiY2FwLWhlaWdodFwiOiBcImNhcEhlaWdodFwiLFxuICAgICAgICBjbGlwOiBcImNsaXBcIixcbiAgICAgICAgY2xpcHBhdGg6IFwiY2xpcFBhdGhcIixcbiAgICAgICAgXCJjbGlwLXBhdGhcIjogXCJjbGlwUGF0aFwiLFxuICAgICAgICBjbGlwcGF0aHVuaXRzOiBcImNsaXBQYXRoVW5pdHNcIixcbiAgICAgICAgY2xpcHJ1bGU6IFwiY2xpcFJ1bGVcIixcbiAgICAgICAgXCJjbGlwLXJ1bGVcIjogXCJjbGlwUnVsZVwiLFxuICAgICAgICBjb2xvcjogXCJjb2xvclwiLFxuICAgICAgICBjb2xvcmludGVycG9sYXRpb246IFwiY29sb3JJbnRlcnBvbGF0aW9uXCIsXG4gICAgICAgIFwiY29sb3ItaW50ZXJwb2xhdGlvblwiOiBcImNvbG9ySW50ZXJwb2xhdGlvblwiLFxuICAgICAgICBjb2xvcmludGVycG9sYXRpb25maWx0ZXJzOiBcImNvbG9ySW50ZXJwb2xhdGlvbkZpbHRlcnNcIixcbiAgICAgICAgXCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnNcIjogXCJjb2xvckludGVycG9sYXRpb25GaWx0ZXJzXCIsXG4gICAgICAgIGNvbG9ycHJvZmlsZTogXCJjb2xvclByb2ZpbGVcIixcbiAgICAgICAgXCJjb2xvci1wcm9maWxlXCI6IFwiY29sb3JQcm9maWxlXCIsXG4gICAgICAgIGNvbG9ycmVuZGVyaW5nOiBcImNvbG9yUmVuZGVyaW5nXCIsXG4gICAgICAgIFwiY29sb3ItcmVuZGVyaW5nXCI6IFwiY29sb3JSZW5kZXJpbmdcIixcbiAgICAgICAgY29udGVudHNjcmlwdHR5cGU6IFwiY29udGVudFNjcmlwdFR5cGVcIixcbiAgICAgICAgY29udGVudHN0eWxldHlwZTogXCJjb250ZW50U3R5bGVUeXBlXCIsXG4gICAgICAgIGN1cnNvcjogXCJjdXJzb3JcIixcbiAgICAgICAgY3g6IFwiY3hcIixcbiAgICAgICAgY3k6IFwiY3lcIixcbiAgICAgICAgZDogXCJkXCIsXG4gICAgICAgIGRhdGF0eXBlOiBcImRhdGF0eXBlXCIsXG4gICAgICAgIGRlY2VsZXJhdGU6IFwiZGVjZWxlcmF0ZVwiLFxuICAgICAgICBkZXNjZW50OiBcImRlc2NlbnRcIixcbiAgICAgICAgZGlmZnVzZWNvbnN0YW50OiBcImRpZmZ1c2VDb25zdGFudFwiLFxuICAgICAgICBkaXJlY3Rpb246IFwiZGlyZWN0aW9uXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiZGlzcGxheVwiLFxuICAgICAgICBkaXZpc29yOiBcImRpdmlzb3JcIixcbiAgICAgICAgZG9taW5hbnRiYXNlbGluZTogXCJkb21pbmFudEJhc2VsaW5lXCIsXG4gICAgICAgIFwiZG9taW5hbnQtYmFzZWxpbmVcIjogXCJkb21pbmFudEJhc2VsaW5lXCIsXG4gICAgICAgIGR1cjogXCJkdXJcIixcbiAgICAgICAgZHg6IFwiZHhcIixcbiAgICAgICAgZHk6IFwiZHlcIixcbiAgICAgICAgZWRnZW1vZGU6IFwiZWRnZU1vZGVcIixcbiAgICAgICAgZWxldmF0aW9uOiBcImVsZXZhdGlvblwiLFxuICAgICAgICBlbmFibGViYWNrZ3JvdW5kOiBcImVuYWJsZUJhY2tncm91bmRcIixcbiAgICAgICAgXCJlbmFibGUtYmFja2dyb3VuZFwiOiBcImVuYWJsZUJhY2tncm91bmRcIixcbiAgICAgICAgZW5kOiBcImVuZFwiLFxuICAgICAgICBleHBvbmVudDogXCJleHBvbmVudFwiLFxuICAgICAgICBleHRlcm5hbHJlc291cmNlc3JlcXVpcmVkOiBcImV4dGVybmFsUmVzb3VyY2VzUmVxdWlyZWRcIixcbiAgICAgICAgZmlsbDogXCJmaWxsXCIsXG4gICAgICAgIGZpbGxvcGFjaXR5OiBcImZpbGxPcGFjaXR5XCIsXG4gICAgICAgIFwiZmlsbC1vcGFjaXR5XCI6IFwiZmlsbE9wYWNpdHlcIixcbiAgICAgICAgZmlsbHJ1bGU6IFwiZmlsbFJ1bGVcIixcbiAgICAgICAgXCJmaWxsLXJ1bGVcIjogXCJmaWxsUnVsZVwiLFxuICAgICAgICBmaWx0ZXI6IFwiZmlsdGVyXCIsXG4gICAgICAgIGZpbHRlcnJlczogXCJmaWx0ZXJSZXNcIixcbiAgICAgICAgZmlsdGVydW5pdHM6IFwiZmlsdGVyVW5pdHNcIixcbiAgICAgICAgZmxvb2RvcGFjaXR5OiBcImZsb29kT3BhY2l0eVwiLFxuICAgICAgICBcImZsb29kLW9wYWNpdHlcIjogXCJmbG9vZE9wYWNpdHlcIixcbiAgICAgICAgZmxvb2Rjb2xvcjogXCJmbG9vZENvbG9yXCIsXG4gICAgICAgIFwiZmxvb2QtY29sb3JcIjogXCJmbG9vZENvbG9yXCIsXG4gICAgICAgIGZvY3VzYWJsZTogXCJmb2N1c2FibGVcIixcbiAgICAgICAgZm9udGZhbWlseTogXCJmb250RmFtaWx5XCIsXG4gICAgICAgIFwiZm9udC1mYW1pbHlcIjogXCJmb250RmFtaWx5XCIsXG4gICAgICAgIGZvbnRzaXplOiBcImZvbnRTaXplXCIsXG4gICAgICAgIFwiZm9udC1zaXplXCI6IFwiZm9udFNpemVcIixcbiAgICAgICAgZm9udHNpemVhZGp1c3Q6IFwiZm9udFNpemVBZGp1c3RcIixcbiAgICAgICAgXCJmb250LXNpemUtYWRqdXN0XCI6IFwiZm9udFNpemVBZGp1c3RcIixcbiAgICAgICAgZm9udHN0cmV0Y2g6IFwiZm9udFN0cmV0Y2hcIixcbiAgICAgICAgXCJmb250LXN0cmV0Y2hcIjogXCJmb250U3RyZXRjaFwiLFxuICAgICAgICBmb250c3R5bGU6IFwiZm9udFN0eWxlXCIsXG4gICAgICAgIFwiZm9udC1zdHlsZVwiOiBcImZvbnRTdHlsZVwiLFxuICAgICAgICBmb250dmFyaWFudDogXCJmb250VmFyaWFudFwiLFxuICAgICAgICBcImZvbnQtdmFyaWFudFwiOiBcImZvbnRWYXJpYW50XCIsXG4gICAgICAgIGZvbnR3ZWlnaHQ6IFwiZm9udFdlaWdodFwiLFxuICAgICAgICBcImZvbnQtd2VpZ2h0XCI6IFwiZm9udFdlaWdodFwiLFxuICAgICAgICBmb3JtYXQ6IFwiZm9ybWF0XCIsXG4gICAgICAgIGZyb206IFwiZnJvbVwiLFxuICAgICAgICBmeDogXCJmeFwiLFxuICAgICAgICBmeTogXCJmeVwiLFxuICAgICAgICBnMTogXCJnMVwiLFxuICAgICAgICBnMjogXCJnMlwiLFxuICAgICAgICBnbHlwaG5hbWU6IFwiZ2x5cGhOYW1lXCIsXG4gICAgICAgIFwiZ2x5cGgtbmFtZVwiOiBcImdseXBoTmFtZVwiLFxuICAgICAgICBnbHlwaG9yaWVudGF0aW9uaG9yaXpvbnRhbDogXCJnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbFwiLFxuICAgICAgICBcImdseXBoLW9yaWVudGF0aW9uLWhvcml6b250YWxcIjogXCJnbHlwaE9yaWVudGF0aW9uSG9yaXpvbnRhbFwiLFxuICAgICAgICBnbHlwaG9yaWVudGF0aW9udmVydGljYWw6IFwiZ2x5cGhPcmllbnRhdGlvblZlcnRpY2FsXCIsXG4gICAgICAgIFwiZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWxcIjogXCJnbHlwaE9yaWVudGF0aW9uVmVydGljYWxcIixcbiAgICAgICAgZ2x5cGhyZWY6IFwiZ2x5cGhSZWZcIixcbiAgICAgICAgZ3JhZGllbnR0cmFuc2Zvcm06IFwiZ3JhZGllbnRUcmFuc2Zvcm1cIixcbiAgICAgICAgZ3JhZGllbnR1bml0czogXCJncmFkaWVudFVuaXRzXCIsXG4gICAgICAgIGhhbmdpbmc6IFwiaGFuZ2luZ1wiLFxuICAgICAgICBob3JpemFkdng6IFwiaG9yaXpBZHZYXCIsXG4gICAgICAgIFwiaG9yaXotYWR2LXhcIjogXCJob3JpekFkdlhcIixcbiAgICAgICAgaG9yaXpvcmlnaW54OiBcImhvcml6T3JpZ2luWFwiLFxuICAgICAgICBcImhvcml6LW9yaWdpbi14XCI6IFwiaG9yaXpPcmlnaW5YXCIsXG4gICAgICAgIGlkZW9ncmFwaGljOiBcImlkZW9ncmFwaGljXCIsXG4gICAgICAgIGltYWdlcmVuZGVyaW5nOiBcImltYWdlUmVuZGVyaW5nXCIsXG4gICAgICAgIFwiaW1hZ2UtcmVuZGVyaW5nXCI6IFwiaW1hZ2VSZW5kZXJpbmdcIixcbiAgICAgICAgaW4yOiBcImluMlwiLFxuICAgICAgICBpbjogXCJpblwiLFxuICAgICAgICBpbmxpc3Q6IFwiaW5saXN0XCIsXG4gICAgICAgIGludGVyY2VwdDogXCJpbnRlcmNlcHRcIixcbiAgICAgICAgazE6IFwiazFcIixcbiAgICAgICAgazI6IFwiazJcIixcbiAgICAgICAgazM6IFwiazNcIixcbiAgICAgICAgazQ6IFwiazRcIixcbiAgICAgICAgazogXCJrXCIsXG4gICAgICAgIGtlcm5lbG1hdHJpeDogXCJrZXJuZWxNYXRyaXhcIixcbiAgICAgICAga2VybmVsdW5pdGxlbmd0aDogXCJrZXJuZWxVbml0TGVuZ3RoXCIsXG4gICAgICAgIGtlcm5pbmc6IFwia2VybmluZ1wiLFxuICAgICAgICBrZXlwb2ludHM6IFwia2V5UG9pbnRzXCIsXG4gICAgICAgIGtleXNwbGluZXM6IFwia2V5U3BsaW5lc1wiLFxuICAgICAgICBrZXl0aW1lczogXCJrZXlUaW1lc1wiLFxuICAgICAgICBsZW5ndGhhZGp1c3Q6IFwibGVuZ3RoQWRqdXN0XCIsXG4gICAgICAgIGxldHRlcnNwYWNpbmc6IFwibGV0dGVyU3BhY2luZ1wiLFxuICAgICAgICBcImxldHRlci1zcGFjaW5nXCI6IFwibGV0dGVyU3BhY2luZ1wiLFxuICAgICAgICBsaWdodGluZ2NvbG9yOiBcImxpZ2h0aW5nQ29sb3JcIixcbiAgICAgICAgXCJsaWdodGluZy1jb2xvclwiOiBcImxpZ2h0aW5nQ29sb3JcIixcbiAgICAgICAgbGltaXRpbmdjb25lYW5nbGU6IFwibGltaXRpbmdDb25lQW5nbGVcIixcbiAgICAgICAgbG9jYWw6IFwibG9jYWxcIixcbiAgICAgICAgbWFya2VyZW5kOiBcIm1hcmtlckVuZFwiLFxuICAgICAgICBcIm1hcmtlci1lbmRcIjogXCJtYXJrZXJFbmRcIixcbiAgICAgICAgbWFya2VyaGVpZ2h0OiBcIm1hcmtlckhlaWdodFwiLFxuICAgICAgICBtYXJrZXJtaWQ6IFwibWFya2VyTWlkXCIsXG4gICAgICAgIFwibWFya2VyLW1pZFwiOiBcIm1hcmtlck1pZFwiLFxuICAgICAgICBtYXJrZXJzdGFydDogXCJtYXJrZXJTdGFydFwiLFxuICAgICAgICBcIm1hcmtlci1zdGFydFwiOiBcIm1hcmtlclN0YXJ0XCIsXG4gICAgICAgIG1hcmtlcnVuaXRzOiBcIm1hcmtlclVuaXRzXCIsXG4gICAgICAgIG1hcmtlcndpZHRoOiBcIm1hcmtlcldpZHRoXCIsXG4gICAgICAgIG1hc2s6IFwibWFza1wiLFxuICAgICAgICBtYXNrY29udGVudHVuaXRzOiBcIm1hc2tDb250ZW50VW5pdHNcIixcbiAgICAgICAgbWFza3VuaXRzOiBcIm1hc2tVbml0c1wiLFxuICAgICAgICBtYXRoZW1hdGljYWw6IFwibWF0aGVtYXRpY2FsXCIsXG4gICAgICAgIG1vZGU6IFwibW9kZVwiLFxuICAgICAgICBudW1vY3RhdmVzOiBcIm51bU9jdGF2ZXNcIixcbiAgICAgICAgb2Zmc2V0OiBcIm9mZnNldFwiLFxuICAgICAgICBvcGFjaXR5OiBcIm9wYWNpdHlcIixcbiAgICAgICAgb3BlcmF0b3I6IFwib3BlcmF0b3JcIixcbiAgICAgICAgb3JkZXI6IFwib3JkZXJcIixcbiAgICAgICAgb3JpZW50OiBcIm9yaWVudFwiLFxuICAgICAgICBvcmllbnRhdGlvbjogXCJvcmllbnRhdGlvblwiLFxuICAgICAgICBvcmlnaW46IFwib3JpZ2luXCIsXG4gICAgICAgIG92ZXJmbG93OiBcIm92ZXJmbG93XCIsXG4gICAgICAgIG92ZXJsaW5lcG9zaXRpb246IFwib3ZlcmxpbmVQb3NpdGlvblwiLFxuICAgICAgICBcIm92ZXJsaW5lLXBvc2l0aW9uXCI6IFwib3ZlcmxpbmVQb3NpdGlvblwiLFxuICAgICAgICBvdmVybGluZXRoaWNrbmVzczogXCJvdmVybGluZVRoaWNrbmVzc1wiLFxuICAgICAgICBcIm92ZXJsaW5lLXRoaWNrbmVzc1wiOiBcIm92ZXJsaW5lVGhpY2tuZXNzXCIsXG4gICAgICAgIHBhaW50b3JkZXI6IFwicGFpbnRPcmRlclwiLFxuICAgICAgICBcInBhaW50LW9yZGVyXCI6IFwicGFpbnRPcmRlclwiLFxuICAgICAgICBwYW5vc2UxOiBcInBhbm9zZTFcIixcbiAgICAgICAgXCJwYW5vc2UtMVwiOiBcInBhbm9zZTFcIixcbiAgICAgICAgcGF0aGxlbmd0aDogXCJwYXRoTGVuZ3RoXCIsXG4gICAgICAgIHBhdHRlcm5jb250ZW50dW5pdHM6IFwicGF0dGVybkNvbnRlbnRVbml0c1wiLFxuICAgICAgICBwYXR0ZXJudHJhbnNmb3JtOiBcInBhdHRlcm5UcmFuc2Zvcm1cIixcbiAgICAgICAgcGF0dGVybnVuaXRzOiBcInBhdHRlcm5Vbml0c1wiLFxuICAgICAgICBwb2ludGVyZXZlbnRzOiBcInBvaW50ZXJFdmVudHNcIixcbiAgICAgICAgXCJwb2ludGVyLWV2ZW50c1wiOiBcInBvaW50ZXJFdmVudHNcIixcbiAgICAgICAgcG9pbnRzOiBcInBvaW50c1wiLFxuICAgICAgICBwb2ludHNhdHg6IFwicG9pbnRzQXRYXCIsXG4gICAgICAgIHBvaW50c2F0eTogXCJwb2ludHNBdFlcIixcbiAgICAgICAgcG9pbnRzYXR6OiBcInBvaW50c0F0WlwiLFxuICAgICAgICBwb3BvdmVyOiBcInBvcG92ZXJcIixcbiAgICAgICAgcG9wb3ZlcnRhcmdldDogXCJwb3BvdmVyVGFyZ2V0XCIsXG4gICAgICAgIHBvcG92ZXJ0YXJnZXRhY3Rpb246IFwicG9wb3ZlclRhcmdldEFjdGlvblwiLFxuICAgICAgICBwcmVmaXg6IFwicHJlZml4XCIsXG4gICAgICAgIHByZXNlcnZlYWxwaGE6IFwicHJlc2VydmVBbHBoYVwiLFxuICAgICAgICBwcmVzZXJ2ZWFzcGVjdHJhdGlvOiBcInByZXNlcnZlQXNwZWN0UmF0aW9cIixcbiAgICAgICAgcHJpbWl0aXZldW5pdHM6IFwicHJpbWl0aXZlVW5pdHNcIixcbiAgICAgICAgcHJvcGVydHk6IFwicHJvcGVydHlcIixcbiAgICAgICAgcjogXCJyXCIsXG4gICAgICAgIHJhZGl1czogXCJyYWRpdXNcIixcbiAgICAgICAgcmVmeDogXCJyZWZYXCIsXG4gICAgICAgIHJlZnk6IFwicmVmWVwiLFxuICAgICAgICByZW5kZXJpbmdpbnRlbnQ6IFwicmVuZGVyaW5nSW50ZW50XCIsXG4gICAgICAgIFwicmVuZGVyaW5nLWludGVudFwiOiBcInJlbmRlcmluZ0ludGVudFwiLFxuICAgICAgICByZXBlYXRjb3VudDogXCJyZXBlYXRDb3VudFwiLFxuICAgICAgICByZXBlYXRkdXI6IFwicmVwZWF0RHVyXCIsXG4gICAgICAgIHJlcXVpcmVkZXh0ZW5zaW9uczogXCJyZXF1aXJlZEV4dGVuc2lvbnNcIixcbiAgICAgICAgcmVxdWlyZWRmZWF0dXJlczogXCJyZXF1aXJlZEZlYXR1cmVzXCIsXG4gICAgICAgIHJlc291cmNlOiBcInJlc291cmNlXCIsXG4gICAgICAgIHJlc3RhcnQ6IFwicmVzdGFydFwiLFxuICAgICAgICByZXN1bHQ6IFwicmVzdWx0XCIsXG4gICAgICAgIHJlc3VsdHM6IFwicmVzdWx0c1wiLFxuICAgICAgICByb3RhdGU6IFwicm90YXRlXCIsXG4gICAgICAgIHJ4OiBcInJ4XCIsXG4gICAgICAgIHJ5OiBcInJ5XCIsXG4gICAgICAgIHNjYWxlOiBcInNjYWxlXCIsXG4gICAgICAgIHNlY3VyaXR5OiBcInNlY3VyaXR5XCIsXG4gICAgICAgIHNlZWQ6IFwic2VlZFwiLFxuICAgICAgICBzaGFwZXJlbmRlcmluZzogXCJzaGFwZVJlbmRlcmluZ1wiLFxuICAgICAgICBcInNoYXBlLXJlbmRlcmluZ1wiOiBcInNoYXBlUmVuZGVyaW5nXCIsXG4gICAgICAgIHNsb3BlOiBcInNsb3BlXCIsXG4gICAgICAgIHNwYWNpbmc6IFwic3BhY2luZ1wiLFxuICAgICAgICBzcGVjdWxhcmNvbnN0YW50OiBcInNwZWN1bGFyQ29uc3RhbnRcIixcbiAgICAgICAgc3BlY3VsYXJleHBvbmVudDogXCJzcGVjdWxhckV4cG9uZW50XCIsXG4gICAgICAgIHNwZWVkOiBcInNwZWVkXCIsXG4gICAgICAgIHNwcmVhZG1ldGhvZDogXCJzcHJlYWRNZXRob2RcIixcbiAgICAgICAgc3RhcnRvZmZzZXQ6IFwic3RhcnRPZmZzZXRcIixcbiAgICAgICAgc3RkZGV2aWF0aW9uOiBcInN0ZERldmlhdGlvblwiLFxuICAgICAgICBzdGVtaDogXCJzdGVtaFwiLFxuICAgICAgICBzdGVtdjogXCJzdGVtdlwiLFxuICAgICAgICBzdGl0Y2h0aWxlczogXCJzdGl0Y2hUaWxlc1wiLFxuICAgICAgICBzdG9wY29sb3I6IFwic3RvcENvbG9yXCIsXG4gICAgICAgIFwic3RvcC1jb2xvclwiOiBcInN0b3BDb2xvclwiLFxuICAgICAgICBzdG9wb3BhY2l0eTogXCJzdG9wT3BhY2l0eVwiLFxuICAgICAgICBcInN0b3Atb3BhY2l0eVwiOiBcInN0b3BPcGFjaXR5XCIsXG4gICAgICAgIHN0cmlrZXRocm91Z2hwb3NpdGlvbjogXCJzdHJpa2V0aHJvdWdoUG9zaXRpb25cIixcbiAgICAgICAgXCJzdHJpa2V0aHJvdWdoLXBvc2l0aW9uXCI6IFwic3RyaWtldGhyb3VnaFBvc2l0aW9uXCIsXG4gICAgICAgIHN0cmlrZXRocm91Z2h0aGlja25lc3M6IFwic3RyaWtldGhyb3VnaFRoaWNrbmVzc1wiLFxuICAgICAgICBcInN0cmlrZXRocm91Z2gtdGhpY2tuZXNzXCI6IFwic3RyaWtldGhyb3VnaFRoaWNrbmVzc1wiLFxuICAgICAgICBzdHJpbmc6IFwic3RyaW5nXCIsXG4gICAgICAgIHN0cm9rZTogXCJzdHJva2VcIixcbiAgICAgICAgc3Ryb2tlZGFzaGFycmF5OiBcInN0cm9rZURhc2hhcnJheVwiLFxuICAgICAgICBcInN0cm9rZS1kYXNoYXJyYXlcIjogXCJzdHJva2VEYXNoYXJyYXlcIixcbiAgICAgICAgc3Ryb2tlZGFzaG9mZnNldDogXCJzdHJva2VEYXNob2Zmc2V0XCIsXG4gICAgICAgIFwic3Ryb2tlLWRhc2hvZmZzZXRcIjogXCJzdHJva2VEYXNob2Zmc2V0XCIsXG4gICAgICAgIHN0cm9rZWxpbmVjYXA6IFwic3Ryb2tlTGluZWNhcFwiLFxuICAgICAgICBcInN0cm9rZS1saW5lY2FwXCI6IFwic3Ryb2tlTGluZWNhcFwiLFxuICAgICAgICBzdHJva2VsaW5lam9pbjogXCJzdHJva2VMaW5lam9pblwiLFxuICAgICAgICBcInN0cm9rZS1saW5lam9pblwiOiBcInN0cm9rZUxpbmVqb2luXCIsXG4gICAgICAgIHN0cm9rZW1pdGVybGltaXQ6IFwic3Ryb2tlTWl0ZXJsaW1pdFwiLFxuICAgICAgICBcInN0cm9rZS1taXRlcmxpbWl0XCI6IFwic3Ryb2tlTWl0ZXJsaW1pdFwiLFxuICAgICAgICBzdHJva2V3aWR0aDogXCJzdHJva2VXaWR0aFwiLFxuICAgICAgICBcInN0cm9rZS13aWR0aFwiOiBcInN0cm9rZVdpZHRoXCIsXG4gICAgICAgIHN0cm9rZW9wYWNpdHk6IFwic3Ryb2tlT3BhY2l0eVwiLFxuICAgICAgICBcInN0cm9rZS1vcGFjaXR5XCI6IFwic3Ryb2tlT3BhY2l0eVwiLFxuICAgICAgICBzdXBwcmVzc2NvbnRlbnRlZGl0YWJsZXdhcm5pbmc6IFwic3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nXCIsXG4gICAgICAgIHN1cHByZXNzaHlkcmF0aW9ud2FybmluZzogXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIixcbiAgICAgICAgc3VyZmFjZXNjYWxlOiBcInN1cmZhY2VTY2FsZVwiLFxuICAgICAgICBzeXN0ZW1sYW5ndWFnZTogXCJzeXN0ZW1MYW5ndWFnZVwiLFxuICAgICAgICB0YWJsZXZhbHVlczogXCJ0YWJsZVZhbHVlc1wiLFxuICAgICAgICB0YXJnZXR4OiBcInRhcmdldFhcIixcbiAgICAgICAgdGFyZ2V0eTogXCJ0YXJnZXRZXCIsXG4gICAgICAgIHRleHRhbmNob3I6IFwidGV4dEFuY2hvclwiLFxuICAgICAgICBcInRleHQtYW5jaG9yXCI6IFwidGV4dEFuY2hvclwiLFxuICAgICAgICB0ZXh0ZGVjb3JhdGlvbjogXCJ0ZXh0RGVjb3JhdGlvblwiLFxuICAgICAgICBcInRleHQtZGVjb3JhdGlvblwiOiBcInRleHREZWNvcmF0aW9uXCIsXG4gICAgICAgIHRleHRsZW5ndGg6IFwidGV4dExlbmd0aFwiLFxuICAgICAgICB0ZXh0cmVuZGVyaW5nOiBcInRleHRSZW5kZXJpbmdcIixcbiAgICAgICAgXCJ0ZXh0LXJlbmRlcmluZ1wiOiBcInRleHRSZW5kZXJpbmdcIixcbiAgICAgICAgdG86IFwidG9cIixcbiAgICAgICAgdHJhbnNmb3JtOiBcInRyYW5zZm9ybVwiLFxuICAgICAgICB0cmFuc2Zvcm1vcmlnaW46IFwidHJhbnNmb3JtT3JpZ2luXCIsXG4gICAgICAgIFwidHJhbnNmb3JtLW9yaWdpblwiOiBcInRyYW5zZm9ybU9yaWdpblwiLFxuICAgICAgICB0eXBlb2Y6IFwidHlwZW9mXCIsXG4gICAgICAgIHUxOiBcInUxXCIsXG4gICAgICAgIHUyOiBcInUyXCIsXG4gICAgICAgIHVuZGVybGluZXBvc2l0aW9uOiBcInVuZGVybGluZVBvc2l0aW9uXCIsXG4gICAgICAgIFwidW5kZXJsaW5lLXBvc2l0aW9uXCI6IFwidW5kZXJsaW5lUG9zaXRpb25cIixcbiAgICAgICAgdW5kZXJsaW5ldGhpY2tuZXNzOiBcInVuZGVybGluZVRoaWNrbmVzc1wiLFxuICAgICAgICBcInVuZGVybGluZS10aGlja25lc3NcIjogXCJ1bmRlcmxpbmVUaGlja25lc3NcIixcbiAgICAgICAgdW5pY29kZTogXCJ1bmljb2RlXCIsXG4gICAgICAgIHVuaWNvZGViaWRpOiBcInVuaWNvZGVCaWRpXCIsXG4gICAgICAgIFwidW5pY29kZS1iaWRpXCI6IFwidW5pY29kZUJpZGlcIixcbiAgICAgICAgdW5pY29kZXJhbmdlOiBcInVuaWNvZGVSYW5nZVwiLFxuICAgICAgICBcInVuaWNvZGUtcmFuZ2VcIjogXCJ1bmljb2RlUmFuZ2VcIixcbiAgICAgICAgdW5pdHNwZXJlbTogXCJ1bml0c1BlckVtXCIsXG4gICAgICAgIFwidW5pdHMtcGVyLWVtXCI6IFwidW5pdHNQZXJFbVwiLFxuICAgICAgICB1bnNlbGVjdGFibGU6IFwidW5zZWxlY3RhYmxlXCIsXG4gICAgICAgIHZhbHBoYWJldGljOiBcInZBbHBoYWJldGljXCIsXG4gICAgICAgIFwidi1hbHBoYWJldGljXCI6IFwidkFscGhhYmV0aWNcIixcbiAgICAgICAgdmFsdWVzOiBcInZhbHVlc1wiLFxuICAgICAgICB2ZWN0b3JlZmZlY3Q6IFwidmVjdG9yRWZmZWN0XCIsXG4gICAgICAgIFwidmVjdG9yLWVmZmVjdFwiOiBcInZlY3RvckVmZmVjdFwiLFxuICAgICAgICB2ZXJzaW9uOiBcInZlcnNpb25cIixcbiAgICAgICAgdmVydGFkdnk6IFwidmVydEFkdllcIixcbiAgICAgICAgXCJ2ZXJ0LWFkdi15XCI6IFwidmVydEFkdllcIixcbiAgICAgICAgdmVydG9yaWdpbng6IFwidmVydE9yaWdpblhcIixcbiAgICAgICAgXCJ2ZXJ0LW9yaWdpbi14XCI6IFwidmVydE9yaWdpblhcIixcbiAgICAgICAgdmVydG9yaWdpbnk6IFwidmVydE9yaWdpbllcIixcbiAgICAgICAgXCJ2ZXJ0LW9yaWdpbi15XCI6IFwidmVydE9yaWdpbllcIixcbiAgICAgICAgdmhhbmdpbmc6IFwidkhhbmdpbmdcIixcbiAgICAgICAgXCJ2LWhhbmdpbmdcIjogXCJ2SGFuZ2luZ1wiLFxuICAgICAgICB2aWRlb2dyYXBoaWM6IFwidklkZW9ncmFwaGljXCIsXG4gICAgICAgIFwidi1pZGVvZ3JhcGhpY1wiOiBcInZJZGVvZ3JhcGhpY1wiLFxuICAgICAgICB2aWV3Ym94OiBcInZpZXdCb3hcIixcbiAgICAgICAgdmlld3RhcmdldDogXCJ2aWV3VGFyZ2V0XCIsXG4gICAgICAgIHZpc2liaWxpdHk6IFwidmlzaWJpbGl0eVwiLFxuICAgICAgICB2bWF0aGVtYXRpY2FsOiBcInZNYXRoZW1hdGljYWxcIixcbiAgICAgICAgXCJ2LW1hdGhlbWF0aWNhbFwiOiBcInZNYXRoZW1hdGljYWxcIixcbiAgICAgICAgdm9jYWI6IFwidm9jYWJcIixcbiAgICAgICAgd2lkdGhzOiBcIndpZHRoc1wiLFxuICAgICAgICB3b3Jkc3BhY2luZzogXCJ3b3JkU3BhY2luZ1wiLFxuICAgICAgICBcIndvcmQtc3BhY2luZ1wiOiBcIndvcmRTcGFjaW5nXCIsXG4gICAgICAgIHdyaXRpbmdtb2RlOiBcIndyaXRpbmdNb2RlXCIsXG4gICAgICAgIFwid3JpdGluZy1tb2RlXCI6IFwid3JpdGluZ01vZGVcIixcbiAgICAgICAgeDE6IFwieDFcIixcbiAgICAgICAgeDI6IFwieDJcIixcbiAgICAgICAgeDogXCJ4XCIsXG4gICAgICAgIHhjaGFubmVsc2VsZWN0b3I6IFwieENoYW5uZWxTZWxlY3RvclwiLFxuICAgICAgICB4aGVpZ2h0OiBcInhIZWlnaHRcIixcbiAgICAgICAgXCJ4LWhlaWdodFwiOiBcInhIZWlnaHRcIixcbiAgICAgICAgeGxpbmthY3R1YXRlOiBcInhsaW5rQWN0dWF0ZVwiLFxuICAgICAgICBcInhsaW5rOmFjdHVhdGVcIjogXCJ4bGlua0FjdHVhdGVcIixcbiAgICAgICAgeGxpbmthcmNyb2xlOiBcInhsaW5rQXJjcm9sZVwiLFxuICAgICAgICBcInhsaW5rOmFyY3JvbGVcIjogXCJ4bGlua0FyY3JvbGVcIixcbiAgICAgICAgeGxpbmtocmVmOiBcInhsaW5rSHJlZlwiLFxuICAgICAgICBcInhsaW5rOmhyZWZcIjogXCJ4bGlua0hyZWZcIixcbiAgICAgICAgeGxpbmtyb2xlOiBcInhsaW5rUm9sZVwiLFxuICAgICAgICBcInhsaW5rOnJvbGVcIjogXCJ4bGlua1JvbGVcIixcbiAgICAgICAgeGxpbmtzaG93OiBcInhsaW5rU2hvd1wiLFxuICAgICAgICBcInhsaW5rOnNob3dcIjogXCJ4bGlua1Nob3dcIixcbiAgICAgICAgeGxpbmt0aXRsZTogXCJ4bGlua1RpdGxlXCIsXG4gICAgICAgIFwieGxpbms6dGl0bGVcIjogXCJ4bGlua1RpdGxlXCIsXG4gICAgICAgIHhsaW5rdHlwZTogXCJ4bGlua1R5cGVcIixcbiAgICAgICAgXCJ4bGluazp0eXBlXCI6IFwieGxpbmtUeXBlXCIsXG4gICAgICAgIHhtbGJhc2U6IFwieG1sQmFzZVwiLFxuICAgICAgICBcInhtbDpiYXNlXCI6IFwieG1sQmFzZVwiLFxuICAgICAgICB4bWxsYW5nOiBcInhtbExhbmdcIixcbiAgICAgICAgXCJ4bWw6bGFuZ1wiOiBcInhtbExhbmdcIixcbiAgICAgICAgeG1sbnM6IFwieG1sbnNcIixcbiAgICAgICAgXCJ4bWw6c3BhY2VcIjogXCJ4bWxTcGFjZVwiLFxuICAgICAgICB4bWxuc3hsaW5rOiBcInhtbG5zWGxpbmtcIixcbiAgICAgICAgXCJ4bWxuczp4bGlua1wiOiBcInhtbG5zWGxpbmtcIixcbiAgICAgICAgeG1sc3BhY2U6IFwieG1sU3BhY2VcIixcbiAgICAgICAgeTE6IFwieTFcIixcbiAgICAgICAgeTI6IFwieTJcIixcbiAgICAgICAgeTogXCJ5XCIsXG4gICAgICAgIHljaGFubmVsc2VsZWN0b3I6IFwieUNoYW5uZWxTZWxlY3RvclwiLFxuICAgICAgICB6OiBcInpcIixcbiAgICAgICAgem9vbWFuZHBhbjogXCJ6b29tQW5kUGFuXCJcbiAgICAgIH0sXG4gICAgICBhcmlhUHJvcGVydGllcyA9IHtcbiAgICAgICAgXCJhcmlhLWN1cnJlbnRcIjogMCxcbiAgICAgICAgXCJhcmlhLWRlc2NyaXB0aW9uXCI6IDAsXG4gICAgICAgIFwiYXJpYS1kZXRhaWxzXCI6IDAsXG4gICAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiAwLFxuICAgICAgICBcImFyaWEtaGlkZGVuXCI6IDAsXG4gICAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IDAsXG4gICAgICAgIFwiYXJpYS1rZXlzaG9ydGN1dHNcIjogMCxcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6IDAsXG4gICAgICAgIFwiYXJpYS1yb2xlZGVzY3JpcHRpb25cIjogMCxcbiAgICAgICAgXCJhcmlhLWF1dG9jb21wbGV0ZVwiOiAwLFxuICAgICAgICBcImFyaWEtY2hlY2tlZFwiOiAwLFxuICAgICAgICBcImFyaWEtZXhwYW5kZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLWhhc3BvcHVwXCI6IDAsXG4gICAgICAgIFwiYXJpYS1sZXZlbFwiOiAwLFxuICAgICAgICBcImFyaWEtbW9kYWxcIjogMCxcbiAgICAgICAgXCJhcmlhLW11bHRpbGluZVwiOiAwLFxuICAgICAgICBcImFyaWEtbXVsdGlzZWxlY3RhYmxlXCI6IDAsXG4gICAgICAgIFwiYXJpYS1vcmllbnRhdGlvblwiOiAwLFxuICAgICAgICBcImFyaWEtcGxhY2Vob2xkZXJcIjogMCxcbiAgICAgICAgXCJhcmlhLXByZXNzZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLXJlYWRvbmx5XCI6IDAsXG4gICAgICAgIFwiYXJpYS1yZXF1aXJlZFwiOiAwLFxuICAgICAgICBcImFyaWEtc2VsZWN0ZWRcIjogMCxcbiAgICAgICAgXCJhcmlhLXNvcnRcIjogMCxcbiAgICAgICAgXCJhcmlhLXZhbHVlbWF4XCI6IDAsXG4gICAgICAgIFwiYXJpYS12YWx1ZW1pblwiOiAwLFxuICAgICAgICBcImFyaWEtdmFsdWVub3dcIjogMCxcbiAgICAgICAgXCJhcmlhLXZhbHVldGV4dFwiOiAwLFxuICAgICAgICBcImFyaWEtYXRvbWljXCI6IDAsXG4gICAgICAgIFwiYXJpYS1idXN5XCI6IDAsXG4gICAgICAgIFwiYXJpYS1saXZlXCI6IDAsXG4gICAgICAgIFwiYXJpYS1yZWxldmFudFwiOiAwLFxuICAgICAgICBcImFyaWEtZHJvcGVmZmVjdFwiOiAwLFxuICAgICAgICBcImFyaWEtZ3JhYmJlZFwiOiAwLFxuICAgICAgICBcImFyaWEtYWN0aXZlZGVzY2VuZGFudFwiOiAwLFxuICAgICAgICBcImFyaWEtY29sY291bnRcIjogMCxcbiAgICAgICAgXCJhcmlhLWNvbGluZGV4XCI6IDAsXG4gICAgICAgIFwiYXJpYS1jb2xzcGFuXCI6IDAsXG4gICAgICAgIFwiYXJpYS1jb250cm9sc1wiOiAwLFxuICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogMCxcbiAgICAgICAgXCJhcmlhLWVycm9ybWVzc2FnZVwiOiAwLFxuICAgICAgICBcImFyaWEtZmxvd3RvXCI6IDAsXG4gICAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IDAsXG4gICAgICAgIFwiYXJpYS1vd25zXCI6IDAsXG4gICAgICAgIFwiYXJpYS1wb3NpbnNldFwiOiAwLFxuICAgICAgICBcImFyaWEtcm93Y291bnRcIjogMCxcbiAgICAgICAgXCJhcmlhLXJvd2luZGV4XCI6IDAsXG4gICAgICAgIFwiYXJpYS1yb3dzcGFuXCI6IDAsXG4gICAgICAgIFwiYXJpYS1zZXRzaXplXCI6IDBcbiAgICAgIH0sXG4gICAgICB3YXJuZWRQcm9wZXJ0aWVzJDEgPSB7fSxcbiAgICAgIHJBUklBJDEgPSBSZWdFeHAoXG4gICAgICAgIFwiXihhcmlhKS1bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFxcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwXSokXCJcbiAgICAgICksXG4gICAgICByQVJJQUNhbWVsJDEgPSBSZWdFeHAoXG4gICAgICAgIFwiXihhcmlhKVtBLVpdWzpBLVpfYS16XFxcXHUwMEMwLVxcXFx1MDBENlxcXFx1MDBEOC1cXFxcdTAwRjZcXFxcdTAwRjgtXFxcXHUwMkZGXFxcXHUwMzcwLVxcXFx1MDM3RFxcXFx1MDM3Ri1cXFxcdTFGRkZcXFxcdTIwMEMtXFxcXHUyMDBEXFxcXHUyMDcwLVxcXFx1MjE4RlxcXFx1MkMwMC1cXFxcdTJGRUZcXFxcdTMwMDEtXFxcXHVEN0ZGXFxcXHVGOTAwLVxcXFx1RkRDRlxcXFx1RkRGMC1cXFxcdUZGRkRcXFxcLS4wLTlcXFxcdTAwQjdcXFxcdTAzMDAtXFxcXHUwMzZGXFxcXHUyMDNGLVxcXFx1MjA0MF0qJFwiXG4gICAgICApLFxuICAgICAgZGlkV2FyblZhbHVlTnVsbCA9ICExLFxuICAgICAgd2FybmVkUHJvcGVydGllcyA9IHt9LFxuICAgICAgRVZFTlRfTkFNRV9SRUdFWCA9IC9eb24uLyxcbiAgICAgIElOVkFMSURfRVZFTlRfTkFNRV9SRUdFWCA9IC9eb25bXkEtWl0vLFxuICAgICAgckFSSUEgPSBSZWdFeHAoXG4gICAgICAgIFwiXihhcmlhKS1bOkEtWl9hLXpcXFxcdTAwQzAtXFxcXHUwMEQ2XFxcXHUwMEQ4LVxcXFx1MDBGNlxcXFx1MDBGOC1cXFxcdTAyRkZcXFxcdTAzNzAtXFxcXHUwMzdEXFxcXHUwMzdGLVxcXFx1MUZGRlxcXFx1MjAwQy1cXFxcdTIwMERcXFxcdTIwNzAtXFxcXHUyMThGXFxcXHUyQzAwLVxcXFx1MkZFRlxcXFx1MzAwMS1cXFxcdUQ3RkZcXFxcdUY5MDAtXFxcXHVGRENGXFxcXHVGREYwLVxcXFx1RkZGRFxcXFwtLjAtOVxcXFx1MDBCN1xcXFx1MDMwMC1cXFxcdTAzNkZcXFxcdTIwM0YtXFxcXHUyMDQwXSokXCJcbiAgICAgICksXG4gICAgICByQVJJQUNhbWVsID0gUmVnRXhwKFxuICAgICAgICBcIl4oYXJpYSlbQS1aXVs6QS1aX2EtelxcXFx1MDBDMC1cXFxcdTAwRDZcXFxcdTAwRDgtXFxcXHUwMEY2XFxcXHUwMEY4LVxcXFx1MDJGRlxcXFx1MDM3MC1cXFxcdTAzN0RcXFxcdTAzN0YtXFxcXHUxRkZGXFxcXHUyMDBDLVxcXFx1MjAwRFxcXFx1MjA3MC1cXFxcdTIxOEZcXFxcdTJDMDAtXFxcXHUyRkVGXFxcXHUzMDAxLVxcXFx1RDdGRlxcXFx1RjkwMC1cXFxcdUZEQ0ZcXFxcdUZERjAtXFxcXHVGRkZEXFxcXC0uMC05XFxcXHUwMEI3XFxcXHUwMzAwLVxcXFx1MDM2RlxcXFx1MjAzRi1cXFxcdTIwNDBdKiRcIlxuICAgICAgKSxcbiAgICAgIGlzSmF2YVNjcmlwdFByb3RvY29sID1cbiAgICAgICAgL15bXFx1MDAwMC1cXHUwMDFGIF0qaltcXHJcXG5cXHRdKmFbXFxyXFxuXFx0XSp2W1xcclxcblxcdF0qYVtcXHJcXG5cXHRdKnNbXFxyXFxuXFx0XSpjW1xcclxcblxcdF0qcltcXHJcXG5cXHRdKmlbXFxyXFxuXFx0XSpwW1xcclxcblxcdF0qdFtcXHJcXG5cXHRdKjovaSxcbiAgICAgIGN1cnJlbnRSZXBsYXlpbmdFdmVudCA9IG51bGwsXG4gICAgICByZXN0b3JlVGFyZ2V0ID0gbnVsbCxcbiAgICAgIHJlc3RvcmVRdWV1ZSA9IG51bGwsXG4gICAgICBpc0luc2lkZUV2ZW50SGFuZGxlciA9ICExLFxuICAgICAgcGFzc2l2ZUJyb3dzZXJFdmVudHNTdXBwb3J0ZWQgPSAhMTtcbiAgICBpZiAoY2FuVXNlRE9NKVxuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIG9wdGlvbnMkanNjb21wJDAgPSB7fTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9wdGlvbnMkanNjb21wJDAsIFwicGFzc2l2ZVwiLCB7XG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYXNzaXZlQnJvd3NlckV2ZW50c1N1cHBvcnRlZCA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBvcHRpb25zJGpzY29tcCQwLCBvcHRpb25zJGpzY29tcCQwKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIG9wdGlvbnMkanNjb21wJDAsIG9wdGlvbnMkanNjb21wJDApO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBwYXNzaXZlQnJvd3NlckV2ZW50c1N1cHBvcnRlZCA9ICExO1xuICAgICAgfVxuICAgIHZhciByb290ID0gbnVsbCxcbiAgICAgIHN0YXJ0VGV4dCA9IG51bGwsXG4gICAgICBmYWxsYmFja1RleHQgPSBudWxsLFxuICAgICAgRXZlbnRJbnRlcmZhY2UgPSB7XG4gICAgICAgIGV2ZW50UGhhc2U6IDAsXG4gICAgICAgIGJ1YmJsZXM6IDAsXG4gICAgICAgIGNhbmNlbGFibGU6IDAsXG4gICAgICAgIHRpbWVTdGFtcDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGV2ZW50LnRpbWVTdGFtcCB8fCBEYXRlLm5vdygpO1xuICAgICAgICB9LFxuICAgICAgICBkZWZhdWx0UHJldmVudGVkOiAwLFxuICAgICAgICBpc1RydXN0ZWQ6IDBcbiAgICAgIH0sXG4gICAgICBTeW50aGV0aWNFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KEV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIFVJRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIEV2ZW50SW50ZXJmYWNlLCB7IHZpZXc6IDAsIGRldGFpbDogMCB9KSxcbiAgICAgIFN5bnRoZXRpY1VJRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChVSUV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIGxhc3RNb3ZlbWVudFgsXG4gICAgICBsYXN0TW92ZW1lbnRZLFxuICAgICAgbGFzdE1vdXNlRXZlbnQsXG4gICAgICBNb3VzZUV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBVSUV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIHNjcmVlblg6IDAsXG4gICAgICAgIHNjcmVlblk6IDAsXG4gICAgICAgIGNsaWVudFg6IDAsXG4gICAgICAgIGNsaWVudFk6IDAsXG4gICAgICAgIHBhZ2VYOiAwLFxuICAgICAgICBwYWdlWTogMCxcbiAgICAgICAgY3RybEtleTogMCxcbiAgICAgICAgc2hpZnRLZXk6IDAsXG4gICAgICAgIGFsdEtleTogMCxcbiAgICAgICAgbWV0YUtleTogMCxcbiAgICAgICAgZ2V0TW9kaWZpZXJTdGF0ZTogZ2V0RXZlbnRNb2RpZmllclN0YXRlLFxuICAgICAgICBidXR0b246IDAsXG4gICAgICAgIGJ1dHRvbnM6IDAsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IGV2ZW50LnJlbGF0ZWRUYXJnZXRcbiAgICAgICAgICAgID8gZXZlbnQuZnJvbUVsZW1lbnQgPT09IGV2ZW50LnNyY0VsZW1lbnRcbiAgICAgICAgICAgICAgPyBldmVudC50b0VsZW1lbnRcbiAgICAgICAgICAgICAgOiBldmVudC5mcm9tRWxlbWVudFxuICAgICAgICAgICAgOiBldmVudC5yZWxhdGVkVGFyZ2V0O1xuICAgICAgICB9LFxuICAgICAgICBtb3ZlbWVudFg6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmIChcIm1vdmVtZW50WFwiIGluIGV2ZW50KSByZXR1cm4gZXZlbnQubW92ZW1lbnRYO1xuICAgICAgICAgIGV2ZW50ICE9PSBsYXN0TW91c2VFdmVudCAmJlxuICAgICAgICAgICAgKGxhc3RNb3VzZUV2ZW50ICYmIFwibW91c2Vtb3ZlXCIgPT09IGV2ZW50LnR5cGVcbiAgICAgICAgICAgICAgPyAoKGxhc3RNb3ZlbWVudFggPSBldmVudC5zY3JlZW5YIC0gbGFzdE1vdXNlRXZlbnQuc2NyZWVuWCksXG4gICAgICAgICAgICAgICAgKGxhc3RNb3ZlbWVudFkgPSBldmVudC5zY3JlZW5ZIC0gbGFzdE1vdXNlRXZlbnQuc2NyZWVuWSkpXG4gICAgICAgICAgICAgIDogKGxhc3RNb3ZlbWVudFkgPSBsYXN0TW92ZW1lbnRYID0gMCksXG4gICAgICAgICAgICAobGFzdE1vdXNlRXZlbnQgPSBldmVudCkpO1xuICAgICAgICAgIHJldHVybiBsYXN0TW92ZW1lbnRYO1xuICAgICAgICB9LFxuICAgICAgICBtb3ZlbWVudFk6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcIm1vdmVtZW50WVwiIGluIGV2ZW50ID8gZXZlbnQubW92ZW1lbnRZIDogbGFzdE1vdmVtZW50WTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNNb3VzZUV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoTW91c2VFdmVudEludGVyZmFjZSksXG4gICAgICBEcmFnRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIE1vdXNlRXZlbnRJbnRlcmZhY2UsIHsgZGF0YVRyYW5zZmVyOiAwIH0pLFxuICAgICAgU3ludGhldGljRHJhZ0V2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoRHJhZ0V2ZW50SW50ZXJmYWNlKSxcbiAgICAgIEZvY3VzRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIFVJRXZlbnRJbnRlcmZhY2UsIHsgcmVsYXRlZFRhcmdldDogMCB9KSxcbiAgICAgIFN5bnRoZXRpY0ZvY3VzRXZlbnQgPSBjcmVhdGVTeW50aGV0aWNFdmVudChGb2N1c0V2ZW50SW50ZXJmYWNlKSxcbiAgICAgIEFuaW1hdGlvbkV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBFdmVudEludGVyZmFjZSwge1xuICAgICAgICBhbmltYXRpb25OYW1lOiAwLFxuICAgICAgICBlbGFwc2VkVGltZTogMCxcbiAgICAgICAgcHNldWRvRWxlbWVudDogMFxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNBbmltYXRpb25FdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KEFuaW1hdGlvbkV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIENsaXBib2FyZEV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBFdmVudEludGVyZmFjZSwge1xuICAgICAgICBjbGlwYm9hcmREYXRhOiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gXCJjbGlwYm9hcmREYXRhXCIgaW4gZXZlbnRcbiAgICAgICAgICAgID8gZXZlbnQuY2xpcGJvYXJkRGF0YVxuICAgICAgICAgICAgOiB3aW5kb3cuY2xpcGJvYXJkRGF0YTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNDbGlwYm9hcmRFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KENsaXBib2FyZEV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIENvbXBvc2l0aW9uRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIEV2ZW50SW50ZXJmYWNlLCB7IGRhdGE6IDAgfSksXG4gICAgICBTeW50aGV0aWNDb21wb3NpdGlvbkV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoXG4gICAgICAgIENvbXBvc2l0aW9uRXZlbnRJbnRlcmZhY2VcbiAgICAgICksXG4gICAgICBTeW50aGV0aWNJbnB1dEV2ZW50ID0gU3ludGhldGljQ29tcG9zaXRpb25FdmVudCxcbiAgICAgIG5vcm1hbGl6ZUtleSA9IHtcbiAgICAgICAgRXNjOiBcIkVzY2FwZVwiLFxuICAgICAgICBTcGFjZWJhcjogXCIgXCIsXG4gICAgICAgIExlZnQ6IFwiQXJyb3dMZWZ0XCIsXG4gICAgICAgIFVwOiBcIkFycm93VXBcIixcbiAgICAgICAgUmlnaHQ6IFwiQXJyb3dSaWdodFwiLFxuICAgICAgICBEb3duOiBcIkFycm93RG93blwiLFxuICAgICAgICBEZWw6IFwiRGVsZXRlXCIsXG4gICAgICAgIFdpbjogXCJPU1wiLFxuICAgICAgICBNZW51OiBcIkNvbnRleHRNZW51XCIsXG4gICAgICAgIEFwcHM6IFwiQ29udGV4dE1lbnVcIixcbiAgICAgICAgU2Nyb2xsOiBcIlNjcm9sbExvY2tcIixcbiAgICAgICAgTW96UHJpbnRhYmxlS2V5OiBcIlVuaWRlbnRpZmllZFwiXG4gICAgICB9LFxuICAgICAgdHJhbnNsYXRlVG9LZXkgPSB7XG4gICAgICAgIDg6IFwiQmFja3NwYWNlXCIsXG4gICAgICAgIDk6IFwiVGFiXCIsXG4gICAgICAgIDEyOiBcIkNsZWFyXCIsXG4gICAgICAgIDEzOiBcIkVudGVyXCIsXG4gICAgICAgIDE2OiBcIlNoaWZ0XCIsXG4gICAgICAgIDE3OiBcIkNvbnRyb2xcIixcbiAgICAgICAgMTg6IFwiQWx0XCIsXG4gICAgICAgIDE5OiBcIlBhdXNlXCIsXG4gICAgICAgIDIwOiBcIkNhcHNMb2NrXCIsXG4gICAgICAgIDI3OiBcIkVzY2FwZVwiLFxuICAgICAgICAzMjogXCIgXCIsXG4gICAgICAgIDMzOiBcIlBhZ2VVcFwiLFxuICAgICAgICAzNDogXCJQYWdlRG93blwiLFxuICAgICAgICAzNTogXCJFbmRcIixcbiAgICAgICAgMzY6IFwiSG9tZVwiLFxuICAgICAgICAzNzogXCJBcnJvd0xlZnRcIixcbiAgICAgICAgMzg6IFwiQXJyb3dVcFwiLFxuICAgICAgICAzOTogXCJBcnJvd1JpZ2h0XCIsXG4gICAgICAgIDQwOiBcIkFycm93RG93blwiLFxuICAgICAgICA0NTogXCJJbnNlcnRcIixcbiAgICAgICAgNDY6IFwiRGVsZXRlXCIsXG4gICAgICAgIDExMjogXCJGMVwiLFxuICAgICAgICAxMTM6IFwiRjJcIixcbiAgICAgICAgMTE0OiBcIkYzXCIsXG4gICAgICAgIDExNTogXCJGNFwiLFxuICAgICAgICAxMTY6IFwiRjVcIixcbiAgICAgICAgMTE3OiBcIkY2XCIsXG4gICAgICAgIDExODogXCJGN1wiLFxuICAgICAgICAxMTk6IFwiRjhcIixcbiAgICAgICAgMTIwOiBcIkY5XCIsXG4gICAgICAgIDEyMTogXCJGMTBcIixcbiAgICAgICAgMTIyOiBcIkYxMVwiLFxuICAgICAgICAxMjM6IFwiRjEyXCIsXG4gICAgICAgIDE0NDogXCJOdW1Mb2NrXCIsXG4gICAgICAgIDE0NTogXCJTY3JvbGxMb2NrXCIsXG4gICAgICAgIDIyNDogXCJNZXRhXCJcbiAgICAgIH0sXG4gICAgICBtb2RpZmllcktleVRvUHJvcCA9IHtcbiAgICAgICAgQWx0OiBcImFsdEtleVwiLFxuICAgICAgICBDb250cm9sOiBcImN0cmxLZXlcIixcbiAgICAgICAgTWV0YTogXCJtZXRhS2V5XCIsXG4gICAgICAgIFNoaWZ0OiBcInNoaWZ0S2V5XCJcbiAgICAgIH0sXG4gICAgICBLZXlib2FyZEV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBVSUV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIGtleTogZnVuY3Rpb24gKG5hdGl2ZUV2ZW50KSB7XG4gICAgICAgICAgaWYgKG5hdGl2ZUV2ZW50LmtleSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IG5vcm1hbGl6ZUtleVtuYXRpdmVFdmVudC5rZXldIHx8IG5hdGl2ZUV2ZW50LmtleTtcbiAgICAgICAgICAgIGlmIChcIlVuaWRlbnRpZmllZFwiICE9PSBrZXkpIHJldHVybiBrZXk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcImtleXByZXNzXCIgPT09IG5hdGl2ZUV2ZW50LnR5cGVcbiAgICAgICAgICAgID8gKChuYXRpdmVFdmVudCA9IGdldEV2ZW50Q2hhckNvZGUobmF0aXZlRXZlbnQpKSxcbiAgICAgICAgICAgICAgMTMgPT09IG5hdGl2ZUV2ZW50ID8gXCJFbnRlclwiIDogU3RyaW5nLmZyb21DaGFyQ29kZShuYXRpdmVFdmVudCkpXG4gICAgICAgICAgICA6IFwia2V5ZG93blwiID09PSBuYXRpdmVFdmVudC50eXBlIHx8IFwia2V5dXBcIiA9PT0gbmF0aXZlRXZlbnQudHlwZVxuICAgICAgICAgICAgICA/IHRyYW5zbGF0ZVRvS2V5W25hdGl2ZUV2ZW50LmtleUNvZGVdIHx8IFwiVW5pZGVudGlmaWVkXCJcbiAgICAgICAgICAgICAgOiBcIlwiO1xuICAgICAgICB9LFxuICAgICAgICBjb2RlOiAwLFxuICAgICAgICBsb2NhdGlvbjogMCxcbiAgICAgICAgY3RybEtleTogMCxcbiAgICAgICAgc2hpZnRLZXk6IDAsXG4gICAgICAgIGFsdEtleTogMCxcbiAgICAgICAgbWV0YUtleTogMCxcbiAgICAgICAgcmVwZWF0OiAwLFxuICAgICAgICBsb2NhbGU6IDAsXG4gICAgICAgIGdldE1vZGlmaWVyU3RhdGU6IGdldEV2ZW50TW9kaWZpZXJTdGF0ZSxcbiAgICAgICAgY2hhckNvZGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImtleXByZXNzXCIgPT09IGV2ZW50LnR5cGUgPyBnZXRFdmVudENoYXJDb2RlKGV2ZW50KSA6IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGtleUNvZGU6IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIHJldHVybiBcImtleWRvd25cIiA9PT0gZXZlbnQudHlwZSB8fCBcImtleXVwXCIgPT09IGV2ZW50LnR5cGVcbiAgICAgICAgICAgID8gZXZlbnQua2V5Q29kZVxuICAgICAgICAgICAgOiAwO1xuICAgICAgICB9LFxuICAgICAgICB3aGljaDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5cHJlc3NcIiA9PT0gZXZlbnQudHlwZVxuICAgICAgICAgICAgPyBnZXRFdmVudENoYXJDb2RlKGV2ZW50KVxuICAgICAgICAgICAgOiBcImtleWRvd25cIiA9PT0gZXZlbnQudHlwZSB8fCBcImtleXVwXCIgPT09IGV2ZW50LnR5cGVcbiAgICAgICAgICAgICAgPyBldmVudC5rZXlDb2RlXG4gICAgICAgICAgICAgIDogMDtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNLZXlib2FyZEV2ZW50ID0gY3JlYXRlU3ludGhldGljRXZlbnQoS2V5Ym9hcmRFdmVudEludGVyZmFjZSksXG4gICAgICBQb2ludGVyRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIE1vdXNlRXZlbnRJbnRlcmZhY2UsIHtcbiAgICAgICAgcG9pbnRlcklkOiAwLFxuICAgICAgICB3aWR0aDogMCxcbiAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICBwcmVzc3VyZTogMCxcbiAgICAgICAgdGFuZ2VudGlhbFByZXNzdXJlOiAwLFxuICAgICAgICB0aWx0WDogMCxcbiAgICAgICAgdGlsdFk6IDAsXG4gICAgICAgIHR3aXN0OiAwLFxuICAgICAgICBwb2ludGVyVHlwZTogMCxcbiAgICAgICAgaXNQcmltYXJ5OiAwXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY1BvaW50ZXJFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KFBvaW50ZXJFdmVudEludGVyZmFjZSksXG4gICAgICBUb3VjaEV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBVSUV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIHRvdWNoZXM6IDAsXG4gICAgICAgIHRhcmdldFRvdWNoZXM6IDAsXG4gICAgICAgIGNoYW5nZWRUb3VjaGVzOiAwLFxuICAgICAgICBhbHRLZXk6IDAsXG4gICAgICAgIG1ldGFLZXk6IDAsXG4gICAgICAgIGN0cmxLZXk6IDAsXG4gICAgICAgIHNoaWZ0S2V5OiAwLFxuICAgICAgICBnZXRNb2RpZmllclN0YXRlOiBnZXRFdmVudE1vZGlmaWVyU3RhdGVcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljVG91Y2hFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KFRvdWNoRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgVHJhbnNpdGlvbkV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBFdmVudEludGVyZmFjZSwge1xuICAgICAgICBwcm9wZXJ0eU5hbWU6IDAsXG4gICAgICAgIGVsYXBzZWRUaW1lOiAwLFxuICAgICAgICBwc2V1ZG9FbGVtZW50OiAwXG4gICAgICB9KSxcbiAgICAgIFN5bnRoZXRpY1RyYW5zaXRpb25FdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KFRyYW5zaXRpb25FdmVudEludGVyZmFjZSksXG4gICAgICBXaGVlbEV2ZW50SW50ZXJmYWNlID0gYXNzaWduKHt9LCBNb3VzZUV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIGRlbHRhWDogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwiZGVsdGFYXCIgaW4gZXZlbnRcbiAgICAgICAgICAgID8gZXZlbnQuZGVsdGFYXG4gICAgICAgICAgICA6IFwid2hlZWxEZWx0YVhcIiBpbiBldmVudFxuICAgICAgICAgICAgICA/IC1ldmVudC53aGVlbERlbHRhWFxuICAgICAgICAgICAgICA6IDA7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbHRhWTogZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgcmV0dXJuIFwiZGVsdGFZXCIgaW4gZXZlbnRcbiAgICAgICAgICAgID8gZXZlbnQuZGVsdGFZXG4gICAgICAgICAgICA6IFwid2hlZWxEZWx0YVlcIiBpbiBldmVudFxuICAgICAgICAgICAgICA/IC1ldmVudC53aGVlbERlbHRhWVxuICAgICAgICAgICAgICA6IFwid2hlZWxEZWx0YVwiIGluIGV2ZW50XG4gICAgICAgICAgICAgICAgPyAtZXZlbnQud2hlZWxEZWx0YVxuICAgICAgICAgICAgICAgIDogMDtcbiAgICAgICAgfSxcbiAgICAgICAgZGVsdGFaOiAwLFxuICAgICAgICBkZWx0YU1vZGU6IDBcbiAgICAgIH0pLFxuICAgICAgU3ludGhldGljV2hlZWxFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KFdoZWVsRXZlbnRJbnRlcmZhY2UpLFxuICAgICAgVG9nZ2xlRXZlbnRJbnRlcmZhY2UgPSBhc3NpZ24oe30sIEV2ZW50SW50ZXJmYWNlLCB7XG4gICAgICAgIG5ld1N0YXRlOiAwLFxuICAgICAgICBvbGRTdGF0ZTogMFxuICAgICAgfSksXG4gICAgICBTeW50aGV0aWNUb2dnbGVFdmVudCA9IGNyZWF0ZVN5bnRoZXRpY0V2ZW50KFRvZ2dsZUV2ZW50SW50ZXJmYWNlKSxcbiAgICAgIEVORF9LRVlDT0RFUyA9IFs5LCAxMywgMjcsIDMyXSxcbiAgICAgIFNUQVJUX0tFWUNPREUgPSAyMjksXG4gICAgICBjYW5Vc2VDb21wb3NpdGlvbkV2ZW50ID0gY2FuVXNlRE9NICYmIFwiQ29tcG9zaXRpb25FdmVudFwiIGluIHdpbmRvdyxcbiAgICAgIGRvY3VtZW50TW9kZSA9IG51bGw7XG4gICAgY2FuVXNlRE9NICYmXG4gICAgICBcImRvY3VtZW50TW9kZVwiIGluIGRvY3VtZW50ICYmXG4gICAgICAoZG9jdW1lbnRNb2RlID0gZG9jdW1lbnQuZG9jdW1lbnRNb2RlKTtcbiAgICB2YXIgY2FuVXNlVGV4dElucHV0RXZlbnQgPVxuICAgICAgICBjYW5Vc2VET00gJiYgXCJUZXh0RXZlbnRcIiBpbiB3aW5kb3cgJiYgIWRvY3VtZW50TW9kZSxcbiAgICAgIHVzZUZhbGxiYWNrQ29tcG9zaXRpb25EYXRhID1cbiAgICAgICAgY2FuVXNlRE9NICYmXG4gICAgICAgICghY2FuVXNlQ29tcG9zaXRpb25FdmVudCB8fFxuICAgICAgICAgIChkb2N1bWVudE1vZGUgJiYgOCA8IGRvY3VtZW50TW9kZSAmJiAxMSA+PSBkb2N1bWVudE1vZGUpKSxcbiAgICAgIFNQQUNFQkFSX0NPREUgPSAzMixcbiAgICAgIFNQQUNFQkFSX0NIQVIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKFNQQUNFQkFSX0NPREUpLFxuICAgICAgaGFzU3BhY2VLZXlwcmVzcyA9ICExLFxuICAgICAgaXNDb21wb3NpbmcgPSAhMSxcbiAgICAgIHN1cHBvcnRlZElucHV0VHlwZXMgPSB7XG4gICAgICAgIGNvbG9yOiAhMCxcbiAgICAgICAgZGF0ZTogITAsXG4gICAgICAgIGRhdGV0aW1lOiAhMCxcbiAgICAgICAgXCJkYXRldGltZS1sb2NhbFwiOiAhMCxcbiAgICAgICAgZW1haWw6ICEwLFxuICAgICAgICBtb250aDogITAsXG4gICAgICAgIG51bWJlcjogITAsXG4gICAgICAgIHBhc3N3b3JkOiAhMCxcbiAgICAgICAgcmFuZ2U6ICEwLFxuICAgICAgICBzZWFyY2g6ICEwLFxuICAgICAgICB0ZWw6ICEwLFxuICAgICAgICB0ZXh0OiAhMCxcbiAgICAgICAgdGltZTogITAsXG4gICAgICAgIHVybDogITAsXG4gICAgICAgIHdlZWs6ICEwXG4gICAgICB9LFxuICAgICAgYWN0aXZlRWxlbWVudCQxID0gbnVsbCxcbiAgICAgIGFjdGl2ZUVsZW1lbnRJbnN0JDEgPSBudWxsLFxuICAgICAgaXNJbnB1dEV2ZW50U3VwcG9ydGVkID0gITE7XG4gICAgY2FuVXNlRE9NICYmXG4gICAgICAoaXNJbnB1dEV2ZW50U3VwcG9ydGVkID1cbiAgICAgICAgaXNFdmVudFN1cHBvcnRlZChcImlucHV0XCIpICYmXG4gICAgICAgICghZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHx8IDkgPCBkb2N1bWVudC5kb2N1bWVudE1vZGUpKTtcbiAgICB2YXIgb2JqZWN0SXMgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBPYmplY3QuaXMgPyBPYmplY3QuaXMgOiBpcyxcbiAgICAgIHNraXBTZWxlY3Rpb25DaGFuZ2VFdmVudCA9XG4gICAgICAgIGNhblVzZURPTSAmJiBcImRvY3VtZW50TW9kZVwiIGluIGRvY3VtZW50ICYmIDExID49IGRvY3VtZW50LmRvY3VtZW50TW9kZSxcbiAgICAgIGFjdGl2ZUVsZW1lbnQgPSBudWxsLFxuICAgICAgYWN0aXZlRWxlbWVudEluc3QgPSBudWxsLFxuICAgICAgbGFzdFNlbGVjdGlvbiA9IG51bGwsXG4gICAgICBtb3VzZURvd24gPSAhMSxcbiAgICAgIHZlbmRvclByZWZpeGVzID0ge1xuICAgICAgICBhbmltYXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoXCJBbmltYXRpb25cIiwgXCJBbmltYXRpb25FbmRcIiksXG4gICAgICAgIGFuaW1hdGlvbml0ZXJhdGlvbjogbWFrZVByZWZpeE1hcChcIkFuaW1hdGlvblwiLCBcIkFuaW1hdGlvbkl0ZXJhdGlvblwiKSxcbiAgICAgICAgYW5pbWF0aW9uc3RhcnQ6IG1ha2VQcmVmaXhNYXAoXCJBbmltYXRpb25cIiwgXCJBbmltYXRpb25TdGFydFwiKSxcbiAgICAgICAgdHJhbnNpdGlvbnJ1bjogbWFrZVByZWZpeE1hcChcIlRyYW5zaXRpb25cIiwgXCJUcmFuc2l0aW9uUnVuXCIpLFxuICAgICAgICB0cmFuc2l0aW9uc3RhcnQ6IG1ha2VQcmVmaXhNYXAoXCJUcmFuc2l0aW9uXCIsIFwiVHJhbnNpdGlvblN0YXJ0XCIpLFxuICAgICAgICB0cmFuc2l0aW9uY2FuY2VsOiBtYWtlUHJlZml4TWFwKFwiVHJhbnNpdGlvblwiLCBcIlRyYW5zaXRpb25DYW5jZWxcIiksXG4gICAgICAgIHRyYW5zaXRpb25lbmQ6IG1ha2VQcmVmaXhNYXAoXCJUcmFuc2l0aW9uXCIsIFwiVHJhbnNpdGlvbkVuZFwiKVxuICAgICAgfSxcbiAgICAgIHByZWZpeGVkRXZlbnROYW1lcyA9IHt9LFxuICAgICAgc3R5bGUgPSB7fTtcbiAgICBjYW5Vc2VET00gJiZcbiAgICAgICgoc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlKSxcbiAgICAgIFwiQW5pbWF0aW9uRXZlbnRcIiBpbiB3aW5kb3cgfHxcbiAgICAgICAgKGRlbGV0ZSB2ZW5kb3JQcmVmaXhlcy5hbmltYXRpb25lbmQuYW5pbWF0aW9uLFxuICAgICAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMuYW5pbWF0aW9uaXRlcmF0aW9uLmFuaW1hdGlvbixcbiAgICAgICAgZGVsZXRlIHZlbmRvclByZWZpeGVzLmFuaW1hdGlvbnN0YXJ0LmFuaW1hdGlvbiksXG4gICAgICBcIlRyYW5zaXRpb25FdmVudFwiIGluIHdpbmRvdyB8fFxuICAgICAgICBkZWxldGUgdmVuZG9yUHJlZml4ZXMudHJhbnNpdGlvbmVuZC50cmFuc2l0aW9uKTtcbiAgICB2YXIgQU5JTUFUSU9OX0VORCA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwiYW5pbWF0aW9uZW5kXCIpLFxuICAgICAgQU5JTUFUSU9OX0lURVJBVElPTiA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwiYW5pbWF0aW9uaXRlcmF0aW9uXCIpLFxuICAgICAgQU5JTUFUSU9OX1NUQVJUID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJhbmltYXRpb25zdGFydFwiKSxcbiAgICAgIFRSQU5TSVRJT05fUlVOID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoXCJ0cmFuc2l0aW9ucnVuXCIpLFxuICAgICAgVFJBTlNJVElPTl9TVEFSVCA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwidHJhbnNpdGlvbnN0YXJ0XCIpLFxuICAgICAgVFJBTlNJVElPTl9DQU5DRUwgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZShcInRyYW5zaXRpb25jYW5jZWxcIiksXG4gICAgICBUUkFOU0lUSU9OX0VORCA9IGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKFwidHJhbnNpdGlvbmVuZFwiKSxcbiAgICAgIHRvcExldmVsRXZlbnRzVG9SZWFjdE5hbWVzID0gbmV3IE1hcCgpLFxuICAgICAgc2ltcGxlRXZlbnRQbHVnaW5FdmVudHMgPVxuICAgICAgICBcImFib3J0IGF1eENsaWNrIGJlZm9yZVRvZ2dsZSBjYW5jZWwgY2FuUGxheSBjYW5QbGF5VGhyb3VnaCBjbGljayBjbG9zZSBjb250ZXh0TWVudSBjb3B5IGN1dCBkcmFnIGRyYWdFbmQgZHJhZ0VudGVyIGRyYWdFeGl0IGRyYWdMZWF2ZSBkcmFnT3ZlciBkcmFnU3RhcnQgZHJvcCBkdXJhdGlvbkNoYW5nZSBlbXB0aWVkIGVuY3J5cHRlZCBlbmRlZCBlcnJvciBnb3RQb2ludGVyQ2FwdHVyZSBpbnB1dCBpbnZhbGlkIGtleURvd24ga2V5UHJlc3Mga2V5VXAgbG9hZCBsb2FkZWREYXRhIGxvYWRlZE1ldGFkYXRhIGxvYWRTdGFydCBsb3N0UG9pbnRlckNhcHR1cmUgbW91c2VEb3duIG1vdXNlTW92ZSBtb3VzZU91dCBtb3VzZU92ZXIgbW91c2VVcCBwYXN0ZSBwYXVzZSBwbGF5IHBsYXlpbmcgcG9pbnRlckNhbmNlbCBwb2ludGVyRG93biBwb2ludGVyTW92ZSBwb2ludGVyT3V0IHBvaW50ZXJPdmVyIHBvaW50ZXJVcCBwcm9ncmVzcyByYXRlQ2hhbmdlIHJlc2V0IHJlc2l6ZSBzZWVrZWQgc2Vla2luZyBzdGFsbGVkIHN1Ym1pdCBzdXNwZW5kIHRpbWVVcGRhdGUgdG91Y2hDYW5jZWwgdG91Y2hFbmQgdG91Y2hTdGFydCB2b2x1bWVDaGFuZ2Ugc2Nyb2xsIHNjcm9sbEVuZCB0b2dnbGUgdG91Y2hNb3ZlIHdhaXRpbmcgd2hlZWxcIi5zcGxpdChcbiAgICAgICAgICBcIiBcIlxuICAgICAgICApLFxuICAgICAgT2Zmc2NyZWVuVmlzaWJsZSA9IDEsXG4gICAgICBPZmZzY3JlZW5EZXRhY2hlZCA9IDIsXG4gICAgICBPZmZzY3JlZW5QYXNzaXZlRWZmZWN0c0Nvbm5lY3RlZCA9IDQsXG4gICAgICBjb25jdXJyZW50UXVldWVzID0gW10sXG4gICAgICBjb25jdXJyZW50UXVldWVzSW5kZXggPSAwLFxuICAgICAgY29uY3VycmVudGx5VXBkYXRlZExhbmVzID0gMCxcbiAgICAgIGVtcHR5Q29udGV4dE9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5mcmVlemUoZW1wdHlDb250ZXh0T2JqZWN0KTtcbiAgICB2YXIgcmVzb2x2ZUZhbWlseSA9IG51bGwsXG4gICAgICBmYWlsZWRCb3VuZGFyaWVzID0gbnVsbCxcbiAgICAgIE5vTW9kZSA9IDAsXG4gICAgICBDb25jdXJyZW50TW9kZSA9IDEsXG4gICAgICBQcm9maWxlTW9kZSA9IDIsXG4gICAgICBTdHJpY3RMZWdhY3lNb2RlID0gOCxcbiAgICAgIFN0cmljdEVmZmVjdHNNb2RlID0gMTYsXG4gICAgICBOb1N0cmljdFBhc3NpdmVFZmZlY3RzTW9kZSA9IDY0LFxuICAgICAgbm93ID0gU2NoZWR1bGVyLnVuc3RhYmxlX25vdyxcbiAgICAgIHJlbmRlclN0YXJ0VGltZSA9IC0wLFxuICAgICAgY29tbWl0U3RhcnRUaW1lID0gLTAsXG4gICAgICBwcm9maWxlclN0YXJ0VGltZSA9IC0xLjEsXG4gICAgICBwcm9maWxlckVmZmVjdER1cmF0aW9uID0gLTAsXG4gICAgICBjdXJyZW50VXBkYXRlSXNOZXN0ZWQgPSAhMSxcbiAgICAgIG5lc3RlZFVwZGF0ZVNjaGVkdWxlZCA9ICExLFxuICAgICAgUmVhY3RTdHJpY3RNb2RlV2FybmluZ3MgPSB7XG4gICAgICAgIHJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgZmx1c2hQZW5kaW5nVW5zYWZlTGlmZWN5Y2xlV2FybmluZ3M6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICByZWNvcmRMZWdhY3lDb250ZXh0V2FybmluZzogZnVuY3Rpb24gKCkge30sXG4gICAgICAgIGZsdXNoTGVnYWN5Q29udGV4dFdhcm5pbmc6IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBkaXNjYXJkUGVuZGluZ1dhcm5pbmdzOiBmdW5jdGlvbiAoKSB7fVxuICAgICAgfSxcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdLFxuICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncyA9IFtdLFxuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdLFxuICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MgPSBbXSxcbiAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXSxcbiAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzID0gW10sXG4gICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzID0gbmV3IFNldCgpO1xuICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZFVuc2FmZUxpZmVjeWNsZVdhcm5pbmdzID0gZnVuY3Rpb24gKFxuICAgICAgZmliZXIsXG4gICAgICBpbnN0YW5jZVxuICAgICkge1xuICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5oYXMoZmliZXIudHlwZSkgfHxcbiAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmNvbXBvbmVudFdpbGxNb3VudCAmJlxuICAgICAgICAgICEwICE9PSBpbnN0YW5jZS5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAmJlxuICAgICAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5wdXNoKGZpYmVyKSxcbiAgICAgICAgZmliZXIubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbE1vdW50ICYmXG4gICAgICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5wdXNoKGZpYmVyKSxcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgICEwICE9PVxuICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcy5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nICYmXG4gICAgICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5wdXNoKGZpYmVyKSxcbiAgICAgICAgZmliZXIubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUgJiZcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyAmJlxuICAgICAgICAgIHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLnB1c2goZmliZXIpLFxuICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBpbnN0YW5jZS5jb21wb25lbnRXaWxsVXBkYXRlICYmXG4gICAgICAgICAgITAgIT09IGluc3RhbmNlLmNvbXBvbmVudFdpbGxVcGRhdGUuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyAmJlxuICAgICAgICAgIHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MucHVzaChmaWJlciksXG4gICAgICAgIGZpYmVyLm1vZGUgJiBTdHJpY3RMZWdhY3lNb2RlICYmXG4gICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgaW5zdGFuY2UuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgJiZcbiAgICAgICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5wdXNoKGZpYmVyKSk7XG4gICAgfTtcbiAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5mbHVzaFBlbmRpbmdVbnNhZmVMaWZlY3ljbGVXYXJuaW5ncyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBjb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIDAgPCBwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MubGVuZ3RoICYmXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICBjb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcy5hZGQoXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgfSksXG4gICAgICAgIChwZW5kaW5nQ29tcG9uZW50V2lsbE1vdW50V2FybmluZ3MgPSBbXSkpO1xuICAgICAgdmFyIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIDAgPCBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzLmxlbmd0aCAmJlxuICAgICAgICAocGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsTW91bnRXYXJuaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChmaWJlcikge1xuICAgICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcy5hZGQoXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgfSksXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW10pKTtcbiAgICAgIHZhciBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5sZW5ndGggJiZcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgIH0pLFxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdKSk7XG4gICAgICB2YXIgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIDAgPCBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncy5sZW5ndGggJiZcbiAgICAgICAgKHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzLmZvckVhY2goXG4gICAgICAgICAgZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzLmFkZChcbiAgICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRpZFdhcm5BYm91dFVuc2FmZUxpZmVjeWNsZXMuYWRkKGZpYmVyLnR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgKSxcbiAgICAgICAgKHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW10pKTtcbiAgICAgIHZhciBjb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMgPSBuZXcgU2V0KCk7XG4gICAgICAwIDwgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5sZW5ndGggJiZcbiAgICAgICAgKHBlbmRpbmdDb21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MuZm9yRWFjaChmdW5jdGlvbiAoZmliZXIpIHtcbiAgICAgICAgICBjb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMuYWRkKFxuICAgICAgICAgICAgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGlkV2FybkFib3V0VW5zYWZlTGlmZWN5Y2xlcy5hZGQoZmliZXIudHlwZSk7XG4gICAgICAgIH0pLFxuICAgICAgICAocGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdKSk7XG4gICAgICB2YXIgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgIDAgPCBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncy5sZW5ndGggJiZcbiAgICAgICAgKHBlbmRpbmdVTlNBRkVfQ29tcG9uZW50V2lsbFVwZGF0ZVdhcm5pbmdzLmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGVVbmlxdWVOYW1lcy5hZGQoXG4gICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKGZpYmVyKSB8fCBcIkNvbXBvbmVudFwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkaWRXYXJuQWJvdXRVbnNhZmVMaWZlY3ljbGVzLmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgfSksXG4gICAgICAgIChwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdKSk7XG4gICAgICBpZiAoMCA8IFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcy5zaXplKSB7XG4gICAgICAgIHZhciBzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKFxuICAgICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lc1xuICAgICAgICApO1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVXNpbmcgVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCBpbiBzdHJpY3QgbW9kZSBpcyBub3QgcmVjb21tZW5kZWQgYW5kIG1heSBpbmRpY2F0ZSBidWdzIGluIHlvdXIgY29kZS4gU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbiogTW92ZSBjb2RlIHdpdGggc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZE1vdW50LCBhbmQgc2V0IGluaXRpYWwgc3RhdGUgaW4gdGhlIGNvbnN0cnVjdG9yLlxcblxcblBsZWFzZSB1cGRhdGUgdGhlIGZvbGxvd2luZyBjb21wb25lbnRzOiAlc1wiLFxuICAgICAgICAgIHNvcnRlZE5hbWVzXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAwIDwgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNVbmlxdWVOYW1lcy5zaXplICYmXG4gICAgICAgICgoc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhcbiAgICAgICAgICBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzXG4gICAgICAgICkpLFxuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVXNpbmcgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgaW4gc3RyaWN0IG1vZGUgaXMgbm90IHJlY29tbWVuZGVkIGFuZCBtYXkgaW5kaWNhdGUgYnVncyBpbiB5b3VyIGNvZGUuIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3Vuc2FmZS1jb21wb25lbnQtbGlmZWN5Y2xlcyBmb3IgZGV0YWlscy5cXG5cXG4qIE1vdmUgZGF0YSBmZXRjaGluZyBjb2RlIG9yIHNpZGUgZWZmZWN0cyB0byBjb21wb25lbnREaWRVcGRhdGUuXFxuKiBJZiB5b3UncmUgdXBkYXRpbmcgc3RhdGUgd2hlbmV2ZXIgcHJvcHMgY2hhbmdlLCByZWZhY3RvciB5b3VyIGNvZGUgdG8gdXNlIG1lbW9pemF0aW9uIHRlY2huaXF1ZXMgb3IgbW92ZSBpdCB0byBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzLiBMZWFybiBtb3JlIGF0OiBodHRwczovL3JlYWN0LmRldi9saW5rL2Rlcml2ZWQtc3RhdGVcXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcIixcbiAgICAgICAgICBzb3J0ZWROYW1lc1xuICAgICAgICApKTtcbiAgICAgIDAgPCBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzLnNpemUgJiZcbiAgICAgICAgKChzb3J0ZWROYW1lcyA9IHNldFRvU29ydGVkU3RyaW5nKFxuICAgICAgICAgIFVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXNcbiAgICAgICAgKSksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJVc2luZyBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZSBpbiBzdHJpY3QgbW9kZSBpcyBub3QgcmVjb21tZW5kZWQgYW5kIG1heSBpbmRpY2F0ZSBidWdzIGluIHlvdXIgY29kZS4gU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbiogTW92ZSBkYXRhIGZldGNoaW5nIGNvZGUgb3Igc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZFVwZGF0ZS5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcIixcbiAgICAgICAgICBzb3J0ZWROYW1lc1xuICAgICAgICApKTtcbiAgICAgIDAgPCBjb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcy5zaXplICYmXG4gICAgICAgICgoc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyhjb21wb25lbnRXaWxsTW91bnRVbmlxdWVOYW1lcykpLFxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJjb21wb25lbnRXaWxsTW91bnQgaGFzIGJlZW4gcmVuYW1lZCwgYW5kIGlzIG5vdCByZWNvbW1lbmRlZCBmb3IgdXNlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGNvZGUgd2l0aCBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkTW91bnQsIGFuZCBzZXQgaW5pdGlhbCBzdGF0ZSBpbiB0aGUgY29uc3RydWN0b3IuXFxuKiBSZW5hbWUgY29tcG9uZW50V2lsbE1vdW50IHRvIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgdG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nIGluIG5vbi1zdHJpY3QgbW9kZS4gSW4gUmVhY3QgMTgueCwgb25seSB0aGUgVU5TQUZFXyBuYW1lIHdpbGwgd29yay4gVG8gcmVuYW1lIGFsbCBkZXByZWNhdGVkIGxpZmVjeWNsZXMgdG8gdGhlaXIgbmV3IG5hbWVzLCB5b3UgY2FuIHJ1biBgbnB4IHJlYWN0LWNvZGVtb2QgcmVuYW1lLXVuc2FmZS1saWZlY3ljbGVzYCBpbiB5b3VyIHByb2plY3Qgc291cmNlIGZvbGRlci5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcIixcbiAgICAgICAgICBzb3J0ZWROYW1lc1xuICAgICAgICApKTtcbiAgICAgIDAgPCBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzVW5pcXVlTmFtZXMuc2l6ZSAmJlxuICAgICAgICAoKHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoXG4gICAgICAgICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1VuaXF1ZU5hbWVzXG4gICAgICAgICkpLFxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIGhhcyBiZWVuIHJlbmFtZWQsIGFuZCBpcyBub3QgcmVjb21tZW5kZWQgZm9yIHVzZS4gU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvdW5zYWZlLWNvbXBvbmVudC1saWZlY3ljbGVzIGZvciBkZXRhaWxzLlxcblxcbiogTW92ZSBkYXRhIGZldGNoaW5nIGNvZGUgb3Igc2lkZSBlZmZlY3RzIHRvIGNvbXBvbmVudERpZFVwZGF0ZS5cXG4qIElmIHlvdSdyZSB1cGRhdGluZyBzdGF0ZSB3aGVuZXZlciBwcm9wcyBjaGFuZ2UsIHJlZmFjdG9yIHlvdXIgY29kZSB0byB1c2UgbWVtb2l6YXRpb24gdGVjaG5pcXVlcyBvciBtb3ZlIGl0IHRvIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMuIExlYXJuIG1vcmUgYXQ6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvZGVyaXZlZC1zdGF0ZVxcbiogUmVuYW1lIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgdG8gVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgdG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nIGluIG5vbi1zdHJpY3QgbW9kZS4gSW4gUmVhY3QgMTgueCwgb25seSB0aGUgVU5TQUZFXyBuYW1lIHdpbGwgd29yay4gVG8gcmVuYW1lIGFsbCBkZXByZWNhdGVkIGxpZmVjeWNsZXMgdG8gdGhlaXIgbmV3IG5hbWVzLCB5b3UgY2FuIHJ1biBgbnB4IHJlYWN0LWNvZGVtb2QgcmVuYW1lLXVuc2FmZS1saWZlY3ljbGVzYCBpbiB5b3VyIHByb2plY3Qgc291cmNlIGZvbGRlci5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcIixcbiAgICAgICAgICBzb3J0ZWROYW1lc1xuICAgICAgICApKTtcbiAgICAgIDAgPCBjb21wb25lbnRXaWxsVXBkYXRlVW5pcXVlTmFtZXMuc2l6ZSAmJlxuICAgICAgICAoKHNvcnRlZE5hbWVzID0gc2V0VG9Tb3J0ZWRTdHJpbmcoY29tcG9uZW50V2lsbFVwZGF0ZVVuaXF1ZU5hbWVzKSksXG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcImNvbXBvbmVudFdpbGxVcGRhdGUgaGFzIGJlZW4gcmVuYW1lZCwgYW5kIGlzIG5vdCByZWNvbW1lbmRlZCBmb3IgdXNlLiBTZWUgaHR0cHM6Ly9yZWFjdC5kZXYvbGluay91bnNhZmUtY29tcG9uZW50LWxpZmVjeWNsZXMgZm9yIGRldGFpbHMuXFxuXFxuKiBNb3ZlIGRhdGEgZmV0Y2hpbmcgY29kZSBvciBzaWRlIGVmZmVjdHMgdG8gY29tcG9uZW50RGlkVXBkYXRlLlxcbiogUmVuYW1lIGNvbXBvbmVudFdpbGxVcGRhdGUgdG8gVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgdG8gc3VwcHJlc3MgdGhpcyB3YXJuaW5nIGluIG5vbi1zdHJpY3QgbW9kZS4gSW4gUmVhY3QgMTgueCwgb25seSB0aGUgVU5TQUZFXyBuYW1lIHdpbGwgd29yay4gVG8gcmVuYW1lIGFsbCBkZXByZWNhdGVkIGxpZmVjeWNsZXMgdG8gdGhlaXIgbmV3IG5hbWVzLCB5b3UgY2FuIHJ1biBgbnB4IHJlYWN0LWNvZGVtb2QgcmVuYW1lLXVuc2FmZS1saWZlY3ljbGVzYCBpbiB5b3VyIHByb2plY3Qgc291cmNlIGZvbGRlci5cXG5cXG5QbGVhc2UgdXBkYXRlIHRoZSBmb2xsb3dpbmcgY29tcG9uZW50czogJXNcIixcbiAgICAgICAgICBzb3J0ZWROYW1lc1xuICAgICAgICApKTtcbiAgICB9O1xuICAgIHZhciBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcgPSBuZXcgTWFwKCksXG4gICAgICBkaWRXYXJuQWJvdXRMZWdhY3lDb250ZXh0ID0gbmV3IFNldCgpO1xuICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLnJlY29yZExlZ2FjeUNvbnRleHRXYXJuaW5nID0gZnVuY3Rpb24gKFxuICAgICAgZmliZXIsXG4gICAgICBpbnN0YW5jZVxuICAgICkge1xuICAgICAgdmFyIHN0cmljdFJvb3QgPSBudWxsO1xuICAgICAgZm9yICh2YXIgbm9kZSA9IGZpYmVyOyBudWxsICE9PSBub2RlOyApXG4gICAgICAgIG5vZGUubW9kZSAmIFN0cmljdExlZ2FjeU1vZGUgJiYgKHN0cmljdFJvb3QgPSBub2RlKSxcbiAgICAgICAgICAobm9kZSA9IG5vZGUucmV0dXJuKTtcbiAgICAgIG51bGwgPT09IHN0cmljdFJvb3RcbiAgICAgICAgPyBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgXCJFeHBlY3RlZCB0byBmaW5kIGEgU3RyaWN0TW9kZSBjb21wb25lbnQgaW4gYSBzdHJpY3QgbW9kZSB0cmVlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKVxuICAgICAgICA6ICFkaWRXYXJuQWJvdXRMZWdhY3lDb250ZXh0LmhhcyhmaWJlci50eXBlKSAmJlxuICAgICAgICAgICgobm9kZSA9IHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZy5nZXQoc3RyaWN0Um9vdCkpLFxuICAgICAgICAgIG51bGwgIT0gZmliZXIudHlwZS5jb250ZXh0VHlwZXMgfHxcbiAgICAgICAgICAgIG51bGwgIT0gZmliZXIudHlwZS5jaGlsZENvbnRleHRUeXBlcyB8fFxuICAgICAgICAgICAgKG51bGwgIT09IGluc3RhbmNlICYmXG4gICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGluc3RhbmNlLmdldENoaWxkQ29udGV4dCkpICYmXG4gICAgICAgICAgKHZvaWQgMCA9PT0gbm9kZSAmJlxuICAgICAgICAgICAgKChub2RlID0gW10pLCBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcuc2V0KHN0cmljdFJvb3QsIG5vZGUpKSxcbiAgICAgICAgICBub2RlLnB1c2goZmliZXIpKTtcbiAgICB9O1xuICAgIFJlYWN0U3RyaWN0TW9kZVdhcm5pbmdzLmZsdXNoTGVnYWN5Q29udGV4dFdhcm5pbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBwZW5kaW5nTGVnYWN5Q29udGV4dFdhcm5pbmcuZm9yRWFjaChmdW5jdGlvbiAoZmliZXJBcnJheSkge1xuICAgICAgICBpZiAoMCAhPT0gZmliZXJBcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgZmlyc3RGaWJlciA9IGZpYmVyQXJyYXlbMF0sXG4gICAgICAgICAgICB1bmlxdWVOYW1lcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICBmaWJlckFycmF5LmZvckVhY2goZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICAgICAgICB1bmlxdWVOYW1lcy5hZGQoZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihmaWJlcikgfHwgXCJDb21wb25lbnRcIik7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRMZWdhY3lDb250ZXh0LmFkZChmaWJlci50eXBlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgc29ydGVkTmFtZXMgPSBzZXRUb1NvcnRlZFN0cmluZyh1bmlxdWVOYW1lcyk7XG4gICAgICAgICAgcnVuV2l0aEZpYmVySW5ERVYoZmlyc3RGaWJlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJMZWdhY3kgY29udGV4dCBBUEkgaGFzIGJlZW4gZGV0ZWN0ZWQgd2l0aGluIGEgc3RyaWN0LW1vZGUgdHJlZS5cXG5cXG5UaGUgb2xkIEFQSSB3aWxsIGJlIHN1cHBvcnRlZCBpbiBhbGwgMTYueCByZWxlYXNlcywgYnV0IGFwcGxpY2F0aW9ucyB1c2luZyBpdCBzaG91bGQgbWlncmF0ZSB0byB0aGUgbmV3IHZlcnNpb24uXFxuXFxuUGxlYXNlIHVwZGF0ZSB0aGUgZm9sbG93aW5nIGNvbXBvbmVudHM6ICVzXFxuXFxuTGVhcm4gbW9yZSBhYm91dCB0aGlzIHdhcm5pbmcgaGVyZTogaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9sZWdhY3ktY29udGV4dFwiLFxuICAgICAgICAgICAgICBzb3J0ZWROYW1lc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgICBSZWFjdFN0cmljdE1vZGVXYXJuaW5ncy5kaXNjYXJkUGVuZGluZ1dhcm5pbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW107XG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxNb3VudFdhcm5pbmdzID0gW107XG4gICAgICBwZW5kaW5nQ29tcG9uZW50V2lsbFJlY2VpdmVQcm9wc1dhcm5pbmdzID0gW107XG4gICAgICBwZW5kaW5nVU5TQUZFX0NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHNXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ0NvbXBvbmVudFdpbGxVcGRhdGVXYXJuaW5ncyA9IFtdO1xuICAgICAgcGVuZGluZ1VOU0FGRV9Db21wb25lbnRXaWxsVXBkYXRlV2FybmluZ3MgPSBbXTtcbiAgICAgIHBlbmRpbmdMZWdhY3lDb250ZXh0V2FybmluZyA9IG5ldyBNYXAoKTtcbiAgICB9O1xuICAgIHZhciBDYXB0dXJlZFN0YWNrcyA9IG5ldyBXZWFrTWFwKCksXG4gICAgICBmb3JrU3RhY2sgPSBbXSxcbiAgICAgIGZvcmtTdGFja0luZGV4ID0gMCxcbiAgICAgIHRyZWVGb3JrUHJvdmlkZXIgPSBudWxsLFxuICAgICAgdHJlZUZvcmtDb3VudCA9IDAsXG4gICAgICBpZFN0YWNrID0gW10sXG4gICAgICBpZFN0YWNrSW5kZXggPSAwLFxuICAgICAgdHJlZUNvbnRleHRQcm92aWRlciA9IG51bGwsXG4gICAgICB0cmVlQ29udGV4dElkID0gMSxcbiAgICAgIHRyZWVDb250ZXh0T3ZlcmZsb3cgPSBcIlwiLFxuICAgICAgaHlkcmF0aW9uUGFyZW50RmliZXIgPSBudWxsLFxuICAgICAgbmV4dEh5ZHJhdGFibGVJbnN0YW5jZSA9IG51bGwsXG4gICAgICBpc0h5ZHJhdGluZyA9ICExLFxuICAgICAgZGlkU3VzcGVuZE9yRXJyb3JERVYgPSAhMSxcbiAgICAgIGh5ZHJhdGlvbkRpZmZSb290REVWID0gbnVsbCxcbiAgICAgIGh5ZHJhdGlvbkVycm9ycyA9IG51bGwsXG4gICAgICByb290T3JTaW5nbGV0b25Db250ZXh0ID0gITEsXG4gICAgICBIeWRyYXRpb25NaXNtYXRjaEV4Y2VwdGlvbiA9IEVycm9yKFxuICAgICAgICBcIkh5ZHJhdGlvbiBNaXNtYXRjaCBFeGNlcHRpb246IFRoaXMgaXMgbm90IGEgcmVhbCBlcnJvciwgYW5kIHNob3VsZCBub3QgbGVhayBpbnRvIHVzZXJzcGFjZS4gSWYgeW91J3JlIHNlZWluZyB0aGlzLCBpdCdzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC5cIlxuICAgICAgKSxcbiAgICAgIFN1c3BlbnNlRXhjZXB0aW9uID0gRXJyb3IoXG4gICAgICAgIFwiU3VzcGVuc2UgRXhjZXB0aW9uOiBUaGlzIGlzIG5vdCBhIHJlYWwgZXJyb3IhIEl0J3MgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsIG9mIGB1c2VgIHRvIGludGVycnVwdCB0aGUgY3VycmVudCByZW5kZXIuIFlvdSBtdXN0IGVpdGhlciByZXRocm93IGl0IGltbWVkaWF0ZWx5LCBvciBtb3ZlIHRoZSBgdXNlYCBjYWxsIG91dHNpZGUgb2YgdGhlIGB0cnkvY2F0Y2hgIGJsb2NrLiBDYXB0dXJpbmcgd2l0aG91dCByZXRocm93aW5nIHdpbGwgbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yLlxcblxcblRvIGhhbmRsZSBhc3luYyBlcnJvcnMsIHdyYXAgeW91ciBjb21wb25lbnQgaW4gYW4gZXJyb3IgYm91bmRhcnksIG9yIGNhbGwgdGhlIHByb21pc2UncyBgLmNhdGNoYCBtZXRob2QgYW5kIHBhc3MgdGhlIHJlc3VsdCB0byBgdXNlYFwiXG4gICAgICApLFxuICAgICAgU3VzcGVuc2V5Q29tbWl0RXhjZXB0aW9uID0gRXJyb3IoXG4gICAgICAgIFwiU3VzcGVuc2UgRXhjZXB0aW9uOiBUaGlzIGlzIG5vdCBhIHJlYWwgZXJyb3IsIGFuZCBzaG91bGQgbm90IGxlYWsgaW50byB1c2Vyc3BhY2UuIElmIHlvdSdyZSBzZWVpbmcgdGhpcywgaXQncyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuXCJcbiAgICAgICksXG4gICAgICBub29wU3VzcGVuc2V5Q29tbWl0VGhlbmFibGUgPSB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgJ0ludGVybmFsIFJlYWN0IGVycm9yOiBBIGxpc3RlbmVyIHdhcyB1bmV4cGVjdGVkbHkgYXR0YWNoZWQgdG8gYSBcIm5vb3BcIiB0aGVuYWJsZS4gVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzdXNwZW5kZWRUaGVuYWJsZSA9IG51bGwsXG4gICAgICBuZWVkc1RvUmVzZXRTdXNwZW5kZWRUaGVuYWJsZURFViA9ICExLFxuICAgICAgY2FsbENvbXBvbmVudCA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKENvbXBvbmVudCwgcHJvcHMsIHNlY29uZEFyZykge1xuICAgICAgICAgIHZhciB3YXNSZW5kZXJpbmcgPSBpc1JlbmRlcmluZztcbiAgICAgICAgICBpc1JlbmRlcmluZyA9ICEwO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gQ29tcG9uZW50KHByb3BzLCBzZWNvbmRBcmcpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpc1JlbmRlcmluZyA9IHdhc1JlbmRlcmluZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsQ29tcG9uZW50SW5ERVYgPVxuICAgICAgICBjYWxsQ29tcG9uZW50W1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoY2FsbENvbXBvbmVudCksXG4gICAgICBjYWxsUmVuZGVyID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICB2YXIgd2FzUmVuZGVyaW5nID0gaXNSZW5kZXJpbmc7XG4gICAgICAgICAgaXNSZW5kZXJpbmcgPSAhMDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlLnJlbmRlcigpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBpc1JlbmRlcmluZyA9IHdhc1JlbmRlcmluZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsUmVuZGVySW5ERVYgPSBjYWxsUmVuZGVyW1wicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJdLmJpbmQoY2FsbFJlbmRlciksXG4gICAgICBjYWxsQ29tcG9uZW50RGlkTW91bnQgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChmaW5pc2hlZFdvcmssIGluc3RhbmNlKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGluc3RhbmNlLmNvbXBvbmVudERpZE1vdW50KCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxDb21wb25lbnREaWRNb3VudEluREVWID0gY2FsbENvbXBvbmVudERpZE1vdW50W1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXG4gICAgICBdLmJpbmQoY2FsbENvbXBvbmVudERpZE1vdW50KSxcbiAgICAgIGNhbGxDb21wb25lbnREaWRVcGRhdGUgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChcbiAgICAgICAgICBmaW5pc2hlZFdvcmssXG4gICAgICAgICAgaW5zdGFuY2UsXG4gICAgICAgICAgcHJldlByb3BzLFxuICAgICAgICAgIHByZXZTdGF0ZSxcbiAgICAgICAgICBzbmFwc2hvdFxuICAgICAgICApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlLCBzbmFwc2hvdCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhcHR1cmVDb21taXRQaGFzZUVycm9yKGZpbmlzaGVkV29yaywgZmluaXNoZWRXb3JrLnJldHVybiwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxDb21wb25lbnREaWRVcGRhdGVJbkRFViA9IGNhbGxDb21wb25lbnREaWRVcGRhdGVbXG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCJcbiAgICAgIF0uYmluZChjYWxsQ29tcG9uZW50RGlkVXBkYXRlKSxcbiAgICAgIGNhbGxDb21wb25lbnREaWRDYXRjaCA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGluc3RhbmNlLCBlcnJvckluZm8pIHtcbiAgICAgICAgICB2YXIgc3RhY2sgPSBlcnJvckluZm8uc3RhY2s7XG4gICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50RGlkQ2F0Y2goZXJyb3JJbmZvLnZhbHVlLCB7XG4gICAgICAgICAgICBjb21wb25lbnRTdGFjazogbnVsbCAhPT0gc3RhY2sgPyBzdGFjayA6IFwiXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxDb21wb25lbnREaWRDYXRjaEluREVWID0gY2FsbENvbXBvbmVudERpZENhdGNoW1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXG4gICAgICBdLmJpbmQoY2FsbENvbXBvbmVudERpZENhdGNoKSxcbiAgICAgIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudCA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKFxuICAgICAgICAgIGN1cnJlbnQsXG4gICAgICAgICAgbmVhcmVzdE1vdW50ZWRBbmNlc3RvcixcbiAgICAgICAgICBpbnN0YW5jZVxuICAgICAgICApIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5zdGFuY2UuY29tcG9uZW50V2lsbFVubW91bnQoKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoY3VycmVudCwgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxDb21wb25lbnRXaWxsVW5tb3VudEluREVWID0gY2FsbENvbXBvbmVudFdpbGxVbm1vdW50W1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXG4gICAgICBdLmJpbmQoY2FsbENvbXBvbmVudFdpbGxVbm1vdW50KSxcbiAgICAgIGNhbGxDcmVhdGUgPSB7XG4gICAgICAgIFwicmVhY3Qtc3RhY2stYm90dG9tLWZyYW1lXCI6IGZ1bmN0aW9uIChlZmZlY3QpIHtcbiAgICAgICAgICB2YXIgY3JlYXRlID0gZWZmZWN0LmNyZWF0ZTtcbiAgICAgICAgICBlZmZlY3QgPSBlZmZlY3QuaW5zdDtcbiAgICAgICAgICBjcmVhdGUgPSBjcmVhdGUoKTtcbiAgICAgICAgICByZXR1cm4gKGVmZmVjdC5kZXN0cm95ID0gY3JlYXRlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxDcmVhdGVJbkRFViA9IGNhbGxDcmVhdGVbXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIl0uYmluZChjYWxsQ3JlYXRlKSxcbiAgICAgIGNhbGxEZXN0cm95ID0ge1xuICAgICAgICBcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiOiBmdW5jdGlvbiAoXG4gICAgICAgICAgY3VycmVudCxcbiAgICAgICAgICBuZWFyZXN0TW91bnRlZEFuY2VzdG9yLFxuICAgICAgICAgIGRlc3Ryb3lcbiAgICAgICAgKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlc3Ryb3koKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY2FwdHVyZUNvbW1pdFBoYXNlRXJyb3IoY3VycmVudCwgbmVhcmVzdE1vdW50ZWRBbmNlc3RvciwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxEZXN0cm95SW5ERVYgPVxuICAgICAgICBjYWxsRGVzdHJveVtcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXS5iaW5kKGNhbGxEZXN0cm95KSxcbiAgICAgIGNhbGxMYXp5SW5pdCA9IHtcbiAgICAgICAgXCJyZWFjdC1zdGFjay1ib3R0b20tZnJhbWVcIjogZnVuY3Rpb24gKGxhenkpIHtcbiAgICAgICAgICB2YXIgaW5pdCA9IGxhenkuX2luaXQ7XG4gICAgICAgICAgcmV0dXJuIGluaXQobGF6eS5fcGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjYWxsTGF6eUluaXRJbkRFViA9XG4gICAgICAgIGNhbGxMYXp5SW5pdFtcInJlYWN0LXN0YWNrLWJvdHRvbS1mcmFtZVwiXS5iaW5kKGNhbGxMYXp5SW5pdCksXG4gICAgICB0aGVuYWJsZVN0YXRlJDEgPSBudWxsLFxuICAgICAgdGhlbmFibGVJbmRleENvdW50ZXIkMSA9IDAsXG4gICAgICBjdXJyZW50RGVidWdJbmZvID0gbnVsbCxcbiAgICAgIGRpZFdhcm5BYm91dE1hcHM7XG4gICAgdmFyIGRpZFdhcm5BYm91dEdlbmVyYXRvcnMgPSAoZGlkV2FybkFib3V0TWFwcyA9ICExKTtcbiAgICB2YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4gICAgdmFyIG93bmVySGFzRnVuY3Rpb25UeXBlV2FybmluZyA9IHt9O1xuICAgIHZhciBvd25lckhhc1N5bWJvbFR5cGVXYXJuaW5nID0ge307XG4gICAgd2FybkZvck1pc3NpbmdLZXkgPSBmdW5jdGlvbiAocmV0dXJuRmliZXIsIHdvcmtJblByb2dyZXNzLCBjaGlsZCkge1xuICAgICAgaWYgKFxuICAgICAgICBudWxsICE9PSBjaGlsZCAmJlxuICAgICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgY2hpbGQgJiZcbiAgICAgICAgY2hpbGQuX3N0b3JlICYmXG4gICAgICAgICgoIWNoaWxkLl9zdG9yZS52YWxpZGF0ZWQgJiYgbnVsbCA9PSBjaGlsZC5rZXkpIHx8XG4gICAgICAgICAgMiA9PT0gY2hpbGQuX3N0b3JlLnZhbGlkYXRlZClcbiAgICAgICkge1xuICAgICAgICBpZiAoXCJvYmplY3RcIiAhPT0gdHlwZW9mIGNoaWxkLl9zdG9yZSlcbiAgICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiUmVhY3QgQ29tcG9uZW50IGluIHdhcm5Gb3JNaXNzaW5nS2V5IHNob3VsZCBoYXZlIGEgX3N0b3JlLiBUaGlzIGVycm9yIGlzIGxpa2VseSBjYXVzZWQgYnkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgY2hpbGQuX3N0b3JlLnZhbGlkYXRlZCA9IDE7XG4gICAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihyZXR1cm5GaWJlciksXG4gICAgICAgICAgY29tcG9uZW50S2V5ID0gY29tcG9uZW50TmFtZSB8fCBcIm51bGxcIjtcbiAgICAgICAgaWYgKCFvd25lckhhc0tleVVzZVdhcm5pbmdbY29tcG9uZW50S2V5XSkge1xuICAgICAgICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjb21wb25lbnRLZXldID0gITA7XG4gICAgICAgICAgY2hpbGQgPSBjaGlsZC5fb3duZXI7XG4gICAgICAgICAgcmV0dXJuRmliZXIgPSByZXR1cm5GaWJlci5fZGVidWdPd25lcjtcbiAgICAgICAgICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9IFwiXCI7XG4gICAgICAgICAgcmV0dXJuRmliZXIgJiZcbiAgICAgICAgICAgIFwibnVtYmVyXCIgPT09IHR5cGVvZiByZXR1cm5GaWJlci50YWcgJiZcbiAgICAgICAgICAgIChjb21wb25lbnRLZXkgPSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKHJldHVybkZpYmVyKSkgJiZcbiAgICAgICAgICAgIChjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID1cbiAgICAgICAgICAgICAgXCJcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgXCIgKyBjb21wb25lbnRLZXkgKyBcImAuXCIpO1xuICAgICAgICAgIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gfHxcbiAgICAgICAgICAgIChjb21wb25lbnROYW1lICYmXG4gICAgICAgICAgICAgIChjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID1cbiAgICAgICAgICAgICAgICBcIlxcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPFwiICtcbiAgICAgICAgICAgICAgICBjb21wb25lbnROYW1lICtcbiAgICAgICAgICAgICAgICBcIj4uXCIpKTtcbiAgICAgICAgICB2YXIgY2hpbGRPd25lckFwcGVuZGl4ID0gXCJcIjtcbiAgICAgICAgICBudWxsICE9IGNoaWxkICYmXG4gICAgICAgICAgICByZXR1cm5GaWJlciAhPT0gY2hpbGQgJiZcbiAgICAgICAgICAgICgoY29tcG9uZW50TmFtZSA9IG51bGwpLFxuICAgICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGNoaWxkLnRhZ1xuICAgICAgICAgICAgICA/IChjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcihjaGlsZCkpXG4gICAgICAgICAgICAgIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGNoaWxkLm5hbWUgJiYgKGNvbXBvbmVudE5hbWUgPSBjaGlsZC5uYW1lKSxcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWUgJiZcbiAgICAgICAgICAgICAgKGNoaWxkT3duZXJBcHBlbmRpeCA9XG4gICAgICAgICAgICAgICAgXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBjb21wb25lbnROYW1lICsgXCIuXCIpKTtcbiAgICAgICAgICBydW5XaXRoRmliZXJJbkRFVih3b3JrSW5Qcm9ncmVzcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4lcyVzIFNlZSBodHRwczovL3JlYWN0LmRldi9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLFxuICAgICAgICAgICAgICBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvLFxuICAgICAgICAgICAgICBjaGlsZE93bmVyQXBwZW5kaXhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciByZWNvbmNpbGVDaGlsZEZpYmVycyA9IGNyZWF0ZUNoaWxkUmVjb25jaWxlcighMCksXG4gICAgICBtb3VudENoaWxkRmliZXJzID0gY3JlYXRlQ2hpbGRSZWNvbmNpbGVyKCExKSxcbiAgICAgIGN1cnJlbnRUcmVlSGlkZGVuU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IobnVsbCksXG4gICAgICBwcmV2RW50YW5nbGVkUmVuZGVyTGFuZXNDdXJzb3IgPSBjcmVhdGVDdXJzb3IoMCksXG4gICAgICBzdXNwZW5zZUhhbmRsZXJTdGFja0N1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIHNoZWxsQm91bmRhcnkgPSBudWxsLFxuICAgICAgU3VidHJlZVN1c3BlbnNlQ29udGV4dE1hc2sgPSAxLFxuICAgICAgRm9yY2VTdXNwZW5zZUZhbGxiYWNrID0gMixcbiAgICAgIHN1c3BlbnNlU3RhY2tDdXJzb3IgPSBjcmVhdGVDdXJzb3IoMCksXG4gICAgICBOb0ZsYWdzID0gMCxcbiAgICAgIEhhc0VmZmVjdCA9IDEsXG4gICAgICBJbnNlcnRpb24gPSAyLFxuICAgICAgTGF5b3V0ID0gNCxcbiAgICAgIFBhc3NpdmUgPSA4LFxuICAgICAgQWJvcnRDb250cm9sbGVyTG9jYWwgPVxuICAgICAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgQWJvcnRDb250cm9sbGVyXG4gICAgICAgICAgPyBBYm9ydENvbnRyb2xsZXJcbiAgICAgICAgICA6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIGxpc3RlbmVycyA9IFtdLFxuICAgICAgICAgICAgICAgIHNpZ25hbCA9ICh0aGlzLnNpZ25hbCA9IHtcbiAgICAgICAgICAgICAgICAgIGFib3J0ZWQ6ICExLFxuICAgICAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgdGhpcy5hYm9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzaWduYWwuYWJvcnRlZCA9ICEwO1xuICAgICAgICAgICAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgc2NoZWR1bGVDYWxsYmFjayQyID0gU2NoZWR1bGVyLnVuc3RhYmxlX3NjaGVkdWxlQ2FsbGJhY2ssXG4gICAgICBOb3JtYWxQcmlvcml0eSA9IFNjaGVkdWxlci51bnN0YWJsZV9Ob3JtYWxQcmlvcml0eSxcbiAgICAgIENhY2hlQ29udGV4dCA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0NPTlRFWFRfVFlQRSxcbiAgICAgICAgQ29uc3VtZXI6IG51bGwsXG4gICAgICAgIFByb3ZpZGVyOiBudWxsLFxuICAgICAgICBfY3VycmVudFZhbHVlOiBudWxsLFxuICAgICAgICBfY3VycmVudFZhbHVlMjogbnVsbCxcbiAgICAgICAgX3RocmVhZENvdW50OiAwLFxuICAgICAgICBfY3VycmVudFJlbmRlcmVyOiBudWxsLFxuICAgICAgICBfY3VycmVudFJlbmRlcmVyMjogbnVsbFxuICAgICAgfSxcbiAgICAgIGN1cnJlbnRFbnRhbmdsZWRMaXN0ZW5lcnMgPSBudWxsLFxuICAgICAgY3VycmVudEVudGFuZ2xlZFBlbmRpbmdDb3VudCA9IDAsXG4gICAgICBjdXJyZW50RW50YW5nbGVkTGFuZSA9IDAsXG4gICAgICBjdXJyZW50RW50YW5nbGVkQWN0aW9uVGhlbmFibGUgPSBudWxsLFxuICAgICAgcHJldk9uU3RhcnRUcmFuc2l0aW9uRmluaXNoID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUztcbiAgICBSZWFjdFNoYXJlZEludGVybmFscy5TID0gZnVuY3Rpb24gKHRyYW5zaXRpb24sIHJldHVyblZhbHVlKSB7XG4gICAgICBcIm9iamVjdFwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgbnVsbCAhPT0gcmV0dXJuVmFsdWUgJiZcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmV0dXJuVmFsdWUudGhlbiAmJlxuICAgICAgICBlbnRhbmdsZUFzeW5jQWN0aW9uKHRyYW5zaXRpb24sIHJldHVyblZhbHVlKTtcbiAgICAgIG51bGwgIT09IHByZXZPblN0YXJ0VHJhbnNpdGlvbkZpbmlzaCAmJlxuICAgICAgICBwcmV2T25TdGFydFRyYW5zaXRpb25GaW5pc2godHJhbnNpdGlvbiwgcmV0dXJuVmFsdWUpO1xuICAgIH07XG4gICAgdmFyIHJlc3VtZWRDYWNoZSA9IGNyZWF0ZUN1cnNvcihudWxsKSxcbiAgICAgIGRpZFdhcm5VbmNhY2hlZEdldFNuYXBzaG90O1xuICAgIHZhciBkaWRXYXJuQWJvdXRNaXNtYXRjaGVkSG9va3NGb3JDb21wb25lbnQgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dFVzZVdyYXBwZWRJblRyeUNhdGNoID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRBc3luY0NsaWVudENvbXBvbmVudCA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0VXNlRm9ybVN0YXRlID0gbmV3IFNldCgpO1xuICAgIHZhciByZW5kZXJMYW5lcyA9IDAsXG4gICAgICBjdXJyZW50bHlSZW5kZXJpbmdGaWJlciQxID0gbnVsbCxcbiAgICAgIGN1cnJlbnRIb29rID0gbnVsbCxcbiAgICAgIHdvcmtJblByb2dyZXNzSG9vayA9IG51bGwsXG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlID0gITEsXG4gICAgICBkaWRTY2hlZHVsZVJlbmRlclBoYXNlVXBkYXRlRHVyaW5nVGhpc1Bhc3MgPSAhMSxcbiAgICAgIHNob3VsZERvdWJsZUludm9rZVVzZXJGbnNJbkhvb2tzREVWID0gITEsXG4gICAgICBsb2NhbElkQ291bnRlciA9IDAsXG4gICAgICB0aGVuYWJsZUluZGV4Q291bnRlciA9IDAsXG4gICAgICB0aGVuYWJsZVN0YXRlID0gbnVsbCxcbiAgICAgIGdsb2JhbENsaWVudElkQ291bnRlciA9IDAsXG4gICAgICBSRV9SRU5ERVJfTElNSVQgPSAyNSxcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gbnVsbCxcbiAgICAgIGhvb2tUeXBlc0RldiA9IG51bGwsXG4gICAgICBob29rVHlwZXNVcGRhdGVJbmRleERldiA9IC0xLFxuICAgICAgaWdub3JlUHJldmlvdXNEZXBlbmRlbmNpZXMgPSAhMTtcbiAgICB2YXIgY3JlYXRlRnVuY3Rpb25Db21wb25lbnRVcGRhdGVRdWV1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7IGxhc3RFZmZlY3Q6IG51bGwsIGV2ZW50czogbnVsbCwgc3RvcmVzOiBudWxsLCBtZW1vQ2FjaGU6IG51bGwgfTtcbiAgICB9O1xuICAgIHZhciBDb250ZXh0T25seURpc3BhdGNoZXIgPSB7XG4gICAgICByZWFkQ29udGV4dDogcmVhZENvbnRleHQsXG4gICAgICB1c2U6IHVzZSxcbiAgICAgIHVzZUNhbGxiYWNrOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VDb250ZXh0OiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VFZmZlY3Q6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZUxheW91dEVmZmVjdDogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VNZW1vOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VSZWR1Y2VyOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VSZWY6IHRocm93SW52YWxpZEhvb2tFcnJvcixcbiAgICAgIHVzZVN0YXRlOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VUcmFuc2l0aW9uOiB0aHJvd0ludmFsaWRIb29rRXJyb3IsXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogdGhyb3dJbnZhbGlkSG9va0Vycm9yLFxuICAgICAgdXNlSWQ6IHRocm93SW52YWxpZEhvb2tFcnJvclxuICAgIH07XG4gICAgQ29udGV4dE9ubHlEaXNwYXRjaGVyLnVzZUNhY2hlUmVmcmVzaCA9IHRocm93SW52YWxpZEhvb2tFcnJvcjtcbiAgICBDb250ZXh0T25seURpc3BhdGNoZXIudXNlTWVtb0NhY2hlID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9IHRocm93SW52YWxpZEhvb2tFcnJvcjtcbiAgICBDb250ZXh0T25seURpc3BhdGNoZXIudXNlRm9ybVN0YXRlID0gdGhyb3dJbnZhbGlkSG9va0Vycm9yO1xuICAgIENvbnRleHRPbmx5RGlzcGF0Y2hlci51c2VBY3Rpb25TdGF0ZSA9IHRocm93SW52YWxpZEhvb2tFcnJvcjtcbiAgICBDb250ZXh0T25seURpc3BhdGNoZXIudXNlT3B0aW1pc3RpYyA9IHRocm93SW52YWxpZEhvb2tFcnJvcjtcbiAgICB2YXIgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWID0gbnVsbCxcbiAgICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYgPSBudWxsLFxuICAgICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFViA9IG51bGwsXG4gICAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYgPSBudWxsLFxuICAgICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFViA9IG51bGwsXG4gICAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFViA9IG51bGwsXG4gICAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWID0gbnVsbDtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogdXNlLFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcyk7XG4gICAgICAgIHJldHVybiBtb3VudENhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcyk7XG4gICAgICAgIHJldHVybiBtb3VudEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICBjaGVja0RlcHNBcmVBcnJheURldihkZXBzKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcyk7XG4gICAgICAgIG1vdW50RWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcyk7XG4gICAgICAgIHJldHVybiBtb3VudExheW91dEVmZmVjdChjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgY2hlY2tEZXBzQXJlQXJyYXlEZXYoZGVwcyk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudE1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFJlZihpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRTdGF0ZShpbml0aWFsU3RhdGUpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnREZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50VHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRJZCgpO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFJlZnJlc2goKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VNZW1vQ2FjaGUgPSB1c2VNZW1vQ2FjaGU7XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uLCBpbml0aWFsU3RhdGUpIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICB3YXJuT25Vc2VGb3JtU3RhdGVJbkRldigpO1xuICAgICAgcmV0dXJuIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uLFxuICAgICAgaW5pdGlhbFN0YXRlXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlT3B0aW1pc3RpYyA9IGZ1bmN0aW9uIChwYXNzdGhyb3VnaCkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU9wdGltaXN0aWNcIjtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRPcHRpbWlzdGljKHBhc3N0aHJvdWdoKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogdXNlLFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudENhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbXBlcmF0aXZlSGFuZGxlOiBmdW5jdGlvbiAocmVmLCBjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUltcGVyYXRpdmVIYW5kbGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudEltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICBtb3VudEVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFJlZihpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnREZWZlcnJlZFZhbHVlKHZhbHVlLCBpbml0aWFsVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIHVzZVRyYW5zaXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVRyYW5zaXRpb25cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFRyYW5zaXRpb24oKTtcbiAgICAgIH0sXG4gICAgICB1c2VTeW5jRXh0ZXJuYWxTdG9yZTogZnVuY3Rpb24gKFxuICAgICAgICBzdWJzY3JpYmUsXG4gICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTeW5jRXh0ZXJuYWxTdG9yZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50U3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRJZCgpO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRSZWZyZXNoKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWLnVzZU1lbW9DYWNoZSA9IHVzZU1lbW9DYWNoZTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uTW91bnRXaXRoSG9va1R5cGVzSW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uLFxuICAgICAgaW5pdGlhbFN0YXRlXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHdhcm5PblVzZUZvcm1TdGF0ZUluRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRBY3Rpb25TdGF0ZShhY3Rpb24sIGluaXRpYWxTdGF0ZSk7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPbk1vdW50V2l0aEhvb2tUeXBlc0luREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uLFxuICAgICAgaW5pdGlhbFN0YXRlXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25Nb3VudFdpdGhIb29rVHlwZXNJbkRFVi51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKFxuICAgICAgcGFzc3Rocm91Z2hcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudE9wdGltaXN0aWMocGFzc3Rocm91Z2gpO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiB1c2UsXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ29udGV4dFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB1cGRhdGVFZmZlY3RJbXBsKDIwNDgsIFBhc3NpdmUsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW5zZXJ0aW9uRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbnNlcnRpb25FZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgTGF5b3V0LCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZVN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VTdGF0ZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVSZWR1Y2VyKGJhc2ljU3RhdGVSZWR1Y2VyKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VEZWJ1Z1ZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWJ1Z1ZhbHVlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlVHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZU1lbW9DYWNoZSA9IHVzZU1lbW9DYWNoZTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzID1cbiAgICAgIHVzZUhvc3RUcmFuc2l0aW9uU3RhdHVzO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB3YXJuT25Vc2VGb3JtU3RhdGVJbkRldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZUFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKFxuICAgICAgcGFzc3Rocm91Z2gsXG4gICAgICByZWR1Y2VyXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gdXBkYXRlT3B0aW1pc3RpYyhwYXNzdGhyb3VnaCwgcmVkdWNlcik7XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogdXNlLFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdXBkYXRlRWZmZWN0SW1wbCgyMDQ4LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlRWZmZWN0SW1wbCg0LCBJbnNlcnRpb24sIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTGF5b3V0RWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VMYXlvdXRFZmZlY3RcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIExheW91dCwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gdXBkYXRlTWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gcmVyZW5kZXJSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiByZXJlbmRlclJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB9LFxuICAgICAgdXNlRGVmZXJyZWRWYWx1ZTogZnVuY3Rpb24gKHZhbHVlLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlZmVycmVkVmFsdWVcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZXJlbmRlckRlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlcmVuZGVyVHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9XG4gICAgfTtcbiAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlTWVtb0NhY2hlID0gdXNlTWVtb0NhY2hlO1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYudXNlRm9ybVN0YXRlID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICB3YXJuT25Vc2VGb3JtU3RhdGVJbkRldigpO1xuICAgICAgcmV0dXJuIHJlcmVuZGVyQWN0aW9uU3RhdGUoYWN0aW9uKTtcbiAgICB9O1xuICAgIEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZU9wdGltaXN0aWMgPSBmdW5jdGlvbiAoXG4gICAgICBwYXNzdGhyb3VnaCxcbiAgICAgIHJlZHVjZXJcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZXJlbmRlck9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFViA9IHtcbiAgICAgIHJlYWRDb250ZXh0OiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB3YXJuSW52YWxpZENvbnRleHRBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZTogZnVuY3Rpb24gKHVzYWJsZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZSh1c2FibGUpO1xuICAgICAgfSxcbiAgICAgIHVzZUNhbGxiYWNrOiBmdW5jdGlvbiAoY2FsbGJhY2ssIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhbGxiYWNrXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2VFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgbW91bnRFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50TGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtbzogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTWVtb1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIG1vdW50TWVtbyhjcmVhdGUsIGRlcHMpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VyLCBpbml0aWFsQXJnLCBpbml0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWR1Y2VyXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gbW91bnRSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRSZWYoaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKGluaXRpYWxTdGF0ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25Nb3VudEluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBtb3VudFN0YXRlKGluaXRpYWxTdGF0ZSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlRGVidWdWYWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVidWdWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIH0sXG4gICAgICB1c2VEZWZlcnJlZFZhbHVlOiBmdW5jdGlvbiAodmFsdWUsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRGVmZXJyZWRWYWx1ZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50RGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiBtb3VudFN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIG1vdW50SWQoKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWNoZVJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNhY2hlUmVmcmVzaFwiO1xuICAgICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gbW91bnRSZWZyZXNoKCk7XG4gICAgICB9LFxuICAgICAgdXNlTWVtb0NhY2hlOiBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgcmV0dXJuIHVzZU1lbW9DYWNoZShzaXplKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlSG9zdFRyYW5zaXRpb25TdGF0dXMgPVxuICAgICAgdXNlSG9zdFRyYW5zaXRpb25TdGF0dXM7XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb24sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VGb3JtU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgbW91bnRIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiBtb3VudEFjdGlvblN0YXRlKGFjdGlvbiwgaW5pdGlhbFN0YXRlKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPbk1vdW50SW5ERVYudXNlQWN0aW9uU3RhdGUgPSBmdW5jdGlvbiAoXG4gICAgICBhY3Rpb24sXG4gICAgICBpbml0aWFsU3RhdGVcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VBY3Rpb25TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICBtb3VudEhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIG1vdW50QWN0aW9uU3RhdGUoYWN0aW9uLCBpbml0aWFsU3RhdGUpO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uTW91bnRJbkRFVi51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKFxuICAgICAgcGFzc3Rocm91Z2hcbiAgICApIHtcbiAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VPcHRpbWlzdGljXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIG1vdW50SG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gbW91bnRPcHRpbWlzdGljKHBhc3N0aHJvdWdoKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWID0ge1xuICAgICAgcmVhZENvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHdhcm5JbnZhbGlkQ29udGV4dEFjY2VzcygpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlOiBmdW5jdGlvbiAodXNhYmxlKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlKHVzYWJsZSk7XG4gICAgICB9LFxuICAgICAgdXNlQ2FsbGJhY2s6IGZ1bmN0aW9uIChjYWxsYmFjaywgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FsbGJhY2tcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlQ2FsbGJhY2soY2FsbGJhY2ssIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDb250ZXh0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlYWRDb250ZXh0KGNvbnRleHQpO1xuICAgICAgfSxcbiAgICAgIHVzZUVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdXBkYXRlRWZmZWN0SW1wbCgyMDQ4LCBQYXNzaXZlLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUltcGVyYXRpdmVIYW5kbGU6IGZ1bmN0aW9uIChyZWYsIGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW1wZXJhdGl2ZUhhbmRsZVwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVJbXBlcmF0aXZlSGFuZGxlKHJlZiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VJbnNlcnRpb25FZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUluc2VydGlvbkVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIEluc2VydGlvbiwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VMYXlvdXRFZmZlY3Q6IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUxheW91dEVmZmVjdFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVFZmZlY3RJbXBsKDQsIExheW91dCwgY3JlYXRlLCBkZXBzKTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vOiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VNZW1vXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiB1cGRhdGVNZW1vKGNyZWF0ZSwgZGVwcyk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVJlZHVjZXJcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZEaXNwYXRjaGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdXNlUmVmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VSZWZcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3RhdGVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZVJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZURlZmVycmVkVmFsdWUodmFsdWUsIGluaXRpYWxWYWx1ZSk7XG4gICAgICB9LFxuICAgICAgdXNlVHJhbnNpdGlvbjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlVHJhbnNpdGlvblwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVUcmFuc2l0aW9uKCk7XG4gICAgICB9LFxuICAgICAgdXNlU3luY0V4dGVybmFsU3RvcmU6IGZ1bmN0aW9uIChcbiAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgZ2V0U2VydmVyU25hcHNob3RcbiAgICAgICkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlU3luY0V4dGVybmFsU3RvcmVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICAgICAgc3Vic2NyaWJlLFxuICAgICAgICAgIGdldFNuYXBzaG90LFxuICAgICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICAgdXNlSWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUlkXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlQ2FjaGVSZWZyZXNoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWNoZVJlZnJlc2hcIjtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW9DYWNoZTogZnVuY3Rpb24gKHNpemUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2VNZW1vQ2FjaGUoc2l6ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VGb3JtU3RhdGUgPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlRm9ybVN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZUFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VBY3Rpb25TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvblxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUFjdGlvblN0YXRlXCI7XG4gICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgcmV0dXJuIHVwZGF0ZUFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVi51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKFxuICAgICAgcGFzc3Rocm91Z2gsXG4gICAgICByZWR1Y2VyXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiB1cGRhdGVPcHRpbWlzdGljKHBhc3N0aHJvdWdoLCByZWR1Y2VyKTtcbiAgICB9O1xuICAgIEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblJlcmVuZGVySW5ERVYgPSB7XG4gICAgICByZWFkQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgd2FybkludmFsaWRDb250ZXh0QWNjZXNzKCk7XG4gICAgICAgIHJldHVybiByZWFkQ29udGV4dChjb250ZXh0KTtcbiAgICAgIH0sXG4gICAgICB1c2U6IGZ1bmN0aW9uICh1c2FibGUpIHtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHJldHVybiB1c2UodXNhYmxlKTtcbiAgICAgIH0sXG4gICAgICB1c2VDYWxsYmFjazogZnVuY3Rpb24gKGNhbGxiYWNrLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VDYWxsYmFja1wiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVDYWxsYmFjayhjYWxsYmFjaywgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUNvbnRleHRcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gcmVhZENvbnRleHQoY29udGV4dCk7XG4gICAgICB9LFxuICAgICAgdXNlRWZmZWN0OiBmdW5jdGlvbiAoY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VFZmZlY3RcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB1cGRhdGVFZmZlY3RJbXBsKDIwNDgsIFBhc3NpdmUsIGNyZWF0ZSwgZGVwcyk7XG4gICAgICB9LFxuICAgICAgdXNlSW1wZXJhdGl2ZUhhbmRsZTogZnVuY3Rpb24gKHJlZiwgY3JlYXRlLCBkZXBzKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJbXBlcmF0aXZlSGFuZGxlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUluc2VydGlvbkVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlSW5zZXJ0aW9uRWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgSW5zZXJ0aW9uLCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZUxheW91dEVmZmVjdDogZnVuY3Rpb24gKGNyZWF0ZSwgZGVwcykge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlTGF5b3V0RWZmZWN0XCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUVmZmVjdEltcGwoNCwgTGF5b3V0LCBjcmVhdGUsIGRlcHMpO1xuICAgICAgfSxcbiAgICAgIHVzZU1lbW86IGZ1bmN0aW9uIChjcmVhdGUsIGRlcHMpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZU1lbW9cIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICB2YXIgcHJldkRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uVXBkYXRlSW5ERVY7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIHVwZGF0ZU1lbW8oY3JlYXRlLCBkZXBzKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5IID0gcHJldkRpc3BhdGNoZXI7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1c2VSZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVkdWNlclwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHZhciBwcmV2RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLkg7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25VcGRhdGVJbkRFVjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gcmVyZW5kZXJSZWR1Y2VyKHJlZHVjZXIsIGluaXRpYWxBcmcsIGluaXQpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZVJlZjogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlUmVmXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVdvcmtJblByb2dyZXNzSG9vaygpLm1lbW9pemVkU3RhdGU7XG4gICAgICB9LFxuICAgICAgdXNlU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN0YXRlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgdmFyIHByZXZEaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuSDtcbiAgICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IEludmFsaWROZXN0ZWRIb29rc0Rpc3BhdGNoZXJPblVwZGF0ZUluREVWO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiByZXJlbmRlclJlZHVjZXIoYmFzaWNTdGF0ZVJlZHVjZXIpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLkggPSBwcmV2RGlzcGF0Y2hlcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHVzZURlYnVnVmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZURlYnVnVmFsdWVcIjtcbiAgICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgfSxcbiAgICAgIHVzZURlZmVycmVkVmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VEZWZlcnJlZFZhbHVlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlcmVuZGVyRGVmZXJyZWRWYWx1ZSh2YWx1ZSwgaW5pdGlhbFZhbHVlKTtcbiAgICAgIH0sXG4gICAgICB1c2VUcmFuc2l0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VUcmFuc2l0aW9uXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHJlcmVuZGVyVHJhbnNpdGlvbigpO1xuICAgICAgfSxcbiAgICAgIHVzZVN5bmNFeHRlcm5hbFN0b3JlOiBmdW5jdGlvbiAoXG4gICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgZ2V0U25hcHNob3QsXG4gICAgICAgIGdldFNlcnZlclNuYXBzaG90XG4gICAgICApIHtcbiAgICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZVN5bmNFeHRlcm5hbFN0b3JlXCI7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVN5bmNFeHRlcm5hbFN0b3JlKFxuICAgICAgICAgIHN1YnNjcmliZSxcbiAgICAgICAgICBnZXRTbmFwc2hvdCxcbiAgICAgICAgICBnZXRTZXJ2ZXJTbmFwc2hvdFxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHVzZUlkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGN1cnJlbnRIb29rTmFtZUluRGV2ID0gXCJ1c2VJZFwiO1xuICAgICAgICB3YXJuSW52YWxpZEhvb2tBY2Nlc3MoKTtcbiAgICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICAgIHJldHVybiB1cGRhdGVXb3JrSW5Qcm9ncmVzc0hvb2soKS5tZW1vaXplZFN0YXRlO1xuICAgICAgfSxcbiAgICAgIHVzZUNhY2hlUmVmcmVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQ2FjaGVSZWZyZXNoXCI7XG4gICAgICAgIHVwZGF0ZUhvb2tUeXBlc0RldigpO1xuICAgICAgICByZXR1cm4gdXBkYXRlV29ya0luUHJvZ3Jlc3NIb29rKCkubWVtb2l6ZWRTdGF0ZTtcbiAgICAgIH0sXG4gICAgICB1c2VNZW1vQ2FjaGU6IGZ1bmN0aW9uIChzaXplKSB7XG4gICAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgICByZXR1cm4gdXNlTWVtb0NhY2hlKHNpemUpO1xuICAgICAgfVxuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VIb3N0VHJhbnNpdGlvblN0YXR1cyA9XG4gICAgICB1c2VIb3N0VHJhbnNpdGlvblN0YXR1cztcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUZvcm1TdGF0ZSA9IGZ1bmN0aW9uIChcbiAgICAgIGFjdGlvblxuICAgICkge1xuICAgICAgY3VycmVudEhvb2tOYW1lSW5EZXYgPSBcInVzZUZvcm1TdGF0ZVwiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZXJlbmRlckFjdGlvblN0YXRlKGFjdGlvbik7XG4gICAgfTtcbiAgICBJbnZhbGlkTmVzdGVkSG9va3NEaXNwYXRjaGVyT25SZXJlbmRlckluREVWLnVzZUFjdGlvblN0YXRlID0gZnVuY3Rpb24gKFxuICAgICAgYWN0aW9uXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlQWN0aW9uU3RhdGVcIjtcbiAgICAgIHdhcm5JbnZhbGlkSG9va0FjY2VzcygpO1xuICAgICAgdXBkYXRlSG9va1R5cGVzRGV2KCk7XG4gICAgICByZXR1cm4gcmVyZW5kZXJBY3Rpb25TdGF0ZShhY3Rpb24pO1xuICAgIH07XG4gICAgSW52YWxpZE5lc3RlZEhvb2tzRGlzcGF0Y2hlck9uUmVyZW5kZXJJbkRFVi51c2VPcHRpbWlzdGljID0gZnVuY3Rpb24gKFxuICAgICAgcGFzc3Rocm91Z2gsXG4gICAgICByZWR1Y2VyXG4gICAgKSB7XG4gICAgICBjdXJyZW50SG9va05hbWVJbkRldiA9IFwidXNlT3B0aW1pc3RpY1wiO1xuICAgICAgd2FybkludmFsaWRIb29rQWNjZXNzKCk7XG4gICAgICB1cGRhdGVIb29rVHlwZXNEZXYoKTtcbiAgICAgIHJldHVybiByZXJlbmRlck9wdGltaXN0aWMocGFzc3Rocm91Z2gsIHJlZHVjZXIpO1xuICAgIH07XG4gICAgdmFyIGZha2VJbnRlcm5hbEluc3RhbmNlID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dFN0YXRlQXNzaWdubWVudEZvckNvbXBvbmVudCA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0VW5pbml0aWFsaXplZFN0YXRlID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRHZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZVdpdGhvdXREaWRVcGRhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dExlZ2FjeUxpZmVjeWNsZXNBbmREZXJpdmVkU3RhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dERpcmVjdGx5QXNzaWduaW5nUHJvcHNUb1N0YXRlID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRVbmRlZmluZWREZXJpdmVkU3RhdGUgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGRpZFdhcm5BYm91dENvbnRleHRUeXBlcyQxID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuQWJvdXRDaGlsZENvbnRleHRUeXBlcyA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZGlkV2FybkFib3V0SW52YWxpZGF0ZUNvbnRleHRUeXBlID0gbmV3IFNldCgpO1xuICAgIHZhciBkaWRXYXJuT25JbnZhbGlkQ2FsbGJhY2sgPSBuZXcgU2V0KCk7XG4gICAgT2JqZWN0LmZyZWV6ZShmYWtlSW50ZXJuYWxJbnN0YW5jZSk7XG4gICAgdmFyIGNsYXNzQ29tcG9uZW50VXBkYXRlciA9IHtcbiAgICAgICAgaXNNb3VudGVkOiBmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgdmFyIG93bmVyID0gY3VycmVudDtcbiAgICAgICAgICBpZiAobnVsbCAhPT0gb3duZXIgJiYgaXNSZW5kZXJpbmcgJiYgMSA9PT0gb3duZXIudGFnKSB7XG4gICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBvd25lci5zdGF0ZU5vZGU7XG4gICAgICAgICAgICBpbnN0YW5jZS5fd2FybmVkQWJvdXRSZWZzSW5SZW5kZXIgfHxcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIiVzIGlzIGFjY2Vzc2luZyBpc01vdW50ZWQgaW5zaWRlIGl0cyByZW5kZXIoKSBmdW5jdGlvbi4gcmVuZGVyKCkgc2hvdWxkIGJlIGEgcHVyZSBmdW5jdGlvbiBvZiBwcm9wcyBhbmQgc3RhdGUuIEl0IHNob3VsZCBuZXZlciBhY2Nlc3Mgc29tZXRoaW5nIHRoYXQgcmVxdWlyZXMgc3RhbGUgZGF0YSBmcm9tIHRoZSBwcmV2aW91cyByZW5kZXIsIHN1Y2ggYXMgcmVmcy4gTW92ZSB0aGlzIGxvZ2ljIHRvIGNvbXBvbmVudERpZE1vdW50IGFuZCBjb21wb25lbnREaWRVcGRhdGUgaW5zdGVhZC5cIixcbiAgICAgICAgICAgICAgICBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKG93bmVyKSB8fCBcIkEgY29tcG9uZW50XCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGluc3RhbmNlLl93YXJuZWRBYm91dFJlZnNJblJlbmRlciA9ICEwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKGNvbXBvbmVudCA9IGNvbXBvbmVudC5fcmVhY3RJbnRlcm5hbHMpXG4gICAgICAgICAgICA/IGdldE5lYXJlc3RNb3VudGVkRmliZXIoY29tcG9uZW50KSA9PT0gY29tcG9uZW50XG4gICAgICAgICAgICA6ICExO1xuICAgICAgICB9LFxuICAgICAgICBlbnF1ZXVlU2V0U3RhdGU6IGZ1bmN0aW9uIChpbnN0LCBwYXlsb2FkLCBjYWxsYmFjaykge1xuICAgICAgICAgIGluc3QgPSBpbnN0Ll9yZWFjdEludGVybmFscztcbiAgICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKGluc3QpLFxuICAgICAgICAgICAgdXBkYXRlID0gY3JlYXRlVXBkYXRlKGxhbmUpO1xuICAgICAgICAgIHVwZGF0ZS5wYXlsb2FkID0gcGF5bG9hZDtcbiAgICAgICAgICB2b2lkIDAgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICBudWxsICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgKHdhcm5PbkludmFsaWRDYWxsYmFjayhjYWxsYmFjayksICh1cGRhdGUuY2FsbGJhY2sgPSBjYWxsYmFjaykpO1xuICAgICAgICAgIHBheWxvYWQgPSBlbnF1ZXVlVXBkYXRlKGluc3QsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICAgICAgbnVsbCAhPT0gcGF5bG9hZCAmJlxuICAgICAgICAgICAgKHNjaGVkdWxlVXBkYXRlT25GaWJlcihwYXlsb2FkLCBpbnN0LCBsYW5lKSxcbiAgICAgICAgICAgIGVudGFuZ2xlVHJhbnNpdGlvbnMocGF5bG9hZCwgaW5zdCwgbGFuZSkpO1xuICAgICAgICAgIG1hcmtTdGF0ZVVwZGF0ZVNjaGVkdWxlZChpbnN0LCBsYW5lKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5xdWV1ZVJlcGxhY2VTdGF0ZTogZnVuY3Rpb24gKGluc3QsIHBheWxvYWQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgaW5zdCA9IGluc3QuX3JlYWN0SW50ZXJuYWxzO1xuICAgICAgICAgIHZhciBsYW5lID0gcmVxdWVzdFVwZGF0ZUxhbmUoaW5zdCksXG4gICAgICAgICAgICB1cGRhdGUgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICAgICAgdXBkYXRlLnRhZyA9IFJlcGxhY2VTdGF0ZTtcbiAgICAgICAgICB1cGRhdGUucGF5bG9hZCA9IHBheWxvYWQ7XG4gICAgICAgICAgdm9pZCAwICE9PSBjYWxsYmFjayAmJlxuICAgICAgICAgICAgbnVsbCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgICh3YXJuT25JbnZhbGlkQ2FsbGJhY2soY2FsbGJhY2spLCAodXBkYXRlLmNhbGxiYWNrID0gY2FsbGJhY2spKTtcbiAgICAgICAgICBwYXlsb2FkID0gZW5xdWV1ZVVwZGF0ZShpbnN0LCB1cGRhdGUsIGxhbmUpO1xuICAgICAgICAgIG51bGwgIT09IHBheWxvYWQgJiZcbiAgICAgICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF5bG9hZCwgaW5zdCwgbGFuZSksXG4gICAgICAgICAgICBlbnRhbmdsZVRyYW5zaXRpb25zKHBheWxvYWQsIGluc3QsIGxhbmUpKTtcbiAgICAgICAgICBtYXJrU3RhdGVVcGRhdGVTY2hlZHVsZWQoaW5zdCwgbGFuZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKGluc3QsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgaW5zdCA9IGluc3QuX3JlYWN0SW50ZXJuYWxzO1xuICAgICAgICAgIHZhciBsYW5lID0gcmVxdWVzdFVwZGF0ZUxhbmUoaW5zdCksXG4gICAgICAgICAgICB1cGRhdGUgPSBjcmVhdGVVcGRhdGUobGFuZSk7XG4gICAgICAgICAgdXBkYXRlLnRhZyA9IEZvcmNlVXBkYXRlO1xuICAgICAgICAgIHZvaWQgMCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIG51bGwgIT09IGNhbGxiYWNrICYmXG4gICAgICAgICAgICAod2Fybk9uSW52YWxpZENhbGxiYWNrKGNhbGxiYWNrKSwgKHVwZGF0ZS5jYWxsYmFjayA9IGNhbGxiYWNrKSk7XG4gICAgICAgICAgY2FsbGJhY2sgPSBlbnF1ZXVlVXBkYXRlKGluc3QsIHVwZGF0ZSwgbGFuZSk7XG4gICAgICAgICAgbnVsbCAhPT0gY2FsbGJhY2sgJiZcbiAgICAgICAgICAgIChzY2hlZHVsZVVwZGF0ZU9uRmliZXIoY2FsbGJhY2ssIGluc3QsIGxhbmUpLFxuICAgICAgICAgICAgZW50YW5nbGVUcmFuc2l0aW9ucyhjYWxsYmFjaywgaW5zdCwgbGFuZSkpO1xuICAgICAgICAgIG51bGwgIT09IGluamVjdGVkUHJvZmlsaW5nSG9va3MgJiZcbiAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT1cbiAgICAgICAgICAgICAgdHlwZW9mIGluamVjdGVkUHJvZmlsaW5nSG9va3MubWFya0ZvcmNlVXBkYXRlU2NoZWR1bGVkICYmXG4gICAgICAgICAgICBpbmplY3RlZFByb2ZpbGluZ0hvb2tzLm1hcmtGb3JjZVVwZGF0ZVNjaGVkdWxlZChpbnN0LCBsYW5lKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlcG9ydEdsb2JhbEVycm9yID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcmVwb3J0RXJyb3JcbiAgICAgICAgICA/IHJlcG9ydEVycm9yXG4gICAgICAgICAgOiBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiB3aW5kb3cgJiZcbiAgICAgICAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB3aW5kb3cuRXJyb3JFdmVudFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgd2luZG93LkVycm9yRXZlbnQoXCJlcnJvclwiLCB7XG4gICAgICAgICAgICAgICAgICBidWJibGVzOiAhMCxcbiAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6ICEwLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTpcbiAgICAgICAgICAgICAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIG51bGwgIT09IGVycm9yICYmXG4gICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT09IHR5cGVvZiBlcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgPyBTdHJpbmcoZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICA6IFN0cmluZyhlcnJvciksXG4gICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3JcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIXdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBwcm9jZXNzICYmXG4gICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcHJvY2Vzcy5lbWl0XG4gICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHByb2Nlc3MuZW1pdChcInVuY2F1Z2h0RXhjZXB0aW9uXCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9LFxuICAgICAgY29tcG9uZW50TmFtZSA9IG51bGwsXG4gICAgICBlcnJvckJvdW5kYXJ5TmFtZSA9IG51bGwsXG4gICAgICBTZWxlY3RpdmVIeWRyYXRpb25FeGNlcHRpb24gPSBFcnJvcihcbiAgICAgICAgXCJUaGlzIGlzIG5vdCBhIHJlYWwgZXJyb3IuIEl0J3MgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlsIG9mIFJlYWN0J3Mgc2VsZWN0aXZlIGh5ZHJhdGlvbiBmZWF0dXJlLiBJZiB0aGlzIGxlYWtzIGludG8gdXNlcnNwYWNlLCBpdCdzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgKSxcbiAgICAgIGRpZFJlY2VpdmVVcGRhdGUgPSAhMTtcbiAgICB2YXIgZGlkV2FybkFib3V0QmFkQ2xhc3MgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0Q29udGV4dFR5cGVPbkZ1bmN0aW9uQ29tcG9uZW50ID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dENvbnRleHRUeXBlcyA9IHt9O1xuICAgIHZhciBkaWRXYXJuQWJvdXRHZXREZXJpdmVkU3RhdGVPbkZ1bmN0aW9uQ29tcG9uZW50ID0ge307XG4gICAgdmFyIGRpZFdhcm5BYm91dFJlYXNzaWduaW5nUHJvcHMgPSAhMTtcbiAgICB2YXIgZGlkV2FybkFib3V0UmV2ZWFsT3JkZXIgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0VGFpbE9wdGlvbnMgPSB7fTtcbiAgICB2YXIgU1VTUEVOREVEX01BUktFUiA9IHtcbiAgICAgICAgZGVoeWRyYXRlZDogbnVsbCxcbiAgICAgICAgdHJlZUNvbnRleHQ6IG51bGwsXG4gICAgICAgIHJldHJ5TGFuZTogMFxuICAgICAgfSxcbiAgICAgIGhhc1dhcm5lZEFib3V0VXNpbmdOb1ZhbHVlUHJvcE9uQ29udGV4dFByb3ZpZGVyID0gITEsXG4gICAgICB2YWx1ZUN1cnNvciA9IGNyZWF0ZUN1cnNvcihudWxsKTtcbiAgICB2YXIgcmVuZGVyZXJDdXJzb3JERVYgPSBjcmVhdGVDdXJzb3IobnVsbCk7XG4gICAgdmFyIHJlbmRlcmVyU2lnaWwgPSB7fTtcbiAgICB2YXIgY3VycmVudGx5UmVuZGVyaW5nRmliZXIgPSBudWxsLFxuICAgICAgbGFzdENvbnRleHREZXBlbmRlbmN5ID0gbnVsbCxcbiAgICAgIGlzRGlzYWxsb3dlZENvbnRleHRSZWFkSW5ERVYgPSAhMSxcbiAgICAgIFVwZGF0ZVN0YXRlID0gMCxcbiAgICAgIFJlcGxhY2VTdGF0ZSA9IDEsXG4gICAgICBGb3JjZVVwZGF0ZSA9IDIsXG4gICAgICBDYXB0dXJlVXBkYXRlID0gMyxcbiAgICAgIGhhc0ZvcmNlVXBkYXRlID0gITE7XG4gICAgdmFyIGRpZFdhcm5VcGRhdGVJbnNpZGVVcGRhdGUgPSAhMTtcbiAgICB2YXIgY3VycmVudGx5UHJvY2Vzc2luZ1F1ZXVlID0gbnVsbDtcbiAgICB2YXIgZGlkUmVhZEZyb21FbnRhbmdsZWRBc3luY0FjdGlvbiA9ICExLFxuICAgICAgZGlkV2FybkFib3V0VW5kZWZpbmVkU25hcHNob3RCZWZvcmVVcGRhdGUgPSBudWxsO1xuICAgIGRpZFdhcm5BYm91dFVuZGVmaW5lZFNuYXBzaG90QmVmb3JlVXBkYXRlID0gbmV3IFNldCgpO1xuICAgIHZhciBvZmZzY3JlZW5TdWJ0cmVlSXNIaWRkZW4gPSAhMSxcbiAgICAgIG9mZnNjcmVlblN1YnRyZWVXYXNIaWRkZW4gPSAhMSxcbiAgICAgIG5lZWRzRm9ybVJlc2V0ID0gITEsXG4gICAgICBQb3NzaWJseVdlYWtTZXQgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrU2V0ID8gV2Vha1NldCA6IFNldCxcbiAgICAgIG5leHRFZmZlY3QgPSBudWxsLFxuICAgICAgaW5Qcm9ncmVzc0xhbmVzID0gbnVsbCxcbiAgICAgIGluUHJvZ3Jlc3NSb290ID0gbnVsbCxcbiAgICAgIHNob3VsZEZpcmVBZnRlckFjdGl2ZUluc3RhbmNlQmx1ciA9ICExLFxuICAgICAgaG9zdFBhcmVudCA9IG51bGwsXG4gICAgICBob3N0UGFyZW50SXNDb250YWluZXIgPSAhMSxcbiAgICAgIGN1cnJlbnRIb2lzdGFibGVSb290ID0gbnVsbCxcbiAgICAgIHN1c3BlbnNleUNvbW1pdEZsYWcgPSA4MTkyO1xuICAgIHZhciBoYXNCYWRNYXBQb2x5ZmlsbCA9ICExO1xuICAgIHRyeSB7XG4gICAgICB2YXIgbm9uRXh0ZW5zaWJsZU9iamVjdCA9IE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSk7XG4gICAgICBuZXcgTWFwKFtbbm9uRXh0ZW5zaWJsZU9iamVjdCwgbnVsbF1dKTtcbiAgICAgIG5ldyBTZXQoW25vbkV4dGVuc2libGVPYmplY3RdKTtcbiAgICB9IGNhdGNoIChlJDcpIHtcbiAgICAgIGhhc0JhZE1hcFBvbHlmaWxsID0gITA7XG4gICAgfVxuICAgIHZhciBEZWZhdWx0QXN5bmNEaXNwYXRjaGVyID0ge1xuICAgICAgZ2V0Q2FjaGVGb3JUeXBlOiBmdW5jdGlvbiAocmVzb3VyY2VUeXBlKSB7XG4gICAgICAgIHZhciBjYWNoZSA9IHJlYWRDb250ZXh0KENhY2hlQ29udGV4dCksXG4gICAgICAgICAgY2FjaGVGb3JUeXBlID0gY2FjaGUuZGF0YS5nZXQocmVzb3VyY2VUeXBlKTtcbiAgICAgICAgdm9pZCAwID09PSBjYWNoZUZvclR5cGUgJiZcbiAgICAgICAgICAoKGNhY2hlRm9yVHlwZSA9IHJlc291cmNlVHlwZSgpKSxcbiAgICAgICAgICBjYWNoZS5kYXRhLnNldChyZXNvdXJjZVR5cGUsIGNhY2hlRm9yVHlwZSkpO1xuICAgICAgICByZXR1cm4gY2FjaGVGb3JUeXBlO1xuICAgICAgfSxcbiAgICAgIGdldE93bmVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJiBTeW1ib2wuZm9yKSB7XG4gICAgICB2YXIgc3ltYm9sRm9yID0gU3ltYm9sLmZvcjtcbiAgICAgIHN5bWJvbEZvcihcInNlbGVjdG9yLmNvbXBvbmVudFwiKTtcbiAgICAgIHN5bWJvbEZvcihcInNlbGVjdG9yLmhhc19wc2V1ZG9fY2xhc3NcIik7XG4gICAgICBzeW1ib2xGb3IoXCJzZWxlY3Rvci5yb2xlXCIpO1xuICAgICAgc3ltYm9sRm9yKFwic2VsZWN0b3IudGVzdF9pZFwiKTtcbiAgICAgIHN5bWJvbEZvcihcInNlbGVjdG9yLnRleHRcIik7XG4gICAgfVxuICAgIHZhciBjb21taXRIb29rcyA9IFtdLFxuICAgICAgUG9zc2libHlXZWFrTWFwID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2YgV2Vha01hcCA/IFdlYWtNYXAgOiBNYXAsXG4gICAgICBOb0NvbnRleHQgPSAwLFxuICAgICAgUmVuZGVyQ29udGV4dCA9IDIsXG4gICAgICBDb21taXRDb250ZXh0ID0gNCxcbiAgICAgIFJvb3RJblByb2dyZXNzID0gMCxcbiAgICAgIFJvb3RGYXRhbEVycm9yZWQgPSAxLFxuICAgICAgUm9vdEVycm9yZWQgPSAyLFxuICAgICAgUm9vdFN1c3BlbmRlZCA9IDMsXG4gICAgICBSb290U3VzcGVuZGVkV2l0aERlbGF5ID0gNCxcbiAgICAgIFJvb3RDb21wbGV0ZWQgPSA1LFxuICAgICAgUm9vdERpZE5vdENvbXBsZXRlID0gNixcbiAgICAgIGV4ZWN1dGlvbkNvbnRleHQgPSBOb0NvbnRleHQsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3QgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3MgPSBudWxsLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyTGFuZXMgPSAwLFxuICAgICAgTm90U3VzcGVuZGVkID0gMCxcbiAgICAgIFN1c3BlbmRlZE9uRXJyb3IgPSAxLFxuICAgICAgU3VzcGVuZGVkT25EYXRhID0gMixcbiAgICAgIFN1c3BlbmRlZE9uSW1tZWRpYXRlID0gMyxcbiAgICAgIFN1c3BlbmRlZE9uSW5zdGFuY2UgPSA0LFxuICAgICAgU3VzcGVuZGVkT25JbnN0YW5jZUFuZFJlYWR5VG9Db250aW51ZSA9IDUsXG4gICAgICBTdXNwZW5kZWRPbkRlcHJlY2F0ZWRUaHJvd1Byb21pc2UgPSA2LFxuICAgICAgU3VzcGVuZGVkQW5kUmVhZHlUb0NvbnRpbnVlID0gNyxcbiAgICAgIFN1c3BlbmRlZE9uSHlkcmF0aW9uID0gOCxcbiAgICAgIHdvcmtJblByb2dyZXNzU3VzcGVuZGVkUmVhc29uID0gTm90U3VzcGVuZGVkLFxuICAgICAgd29ya0luUHJvZ3Jlc3NUaHJvd25WYWx1ZSA9IG51bGwsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRTa2lwU3VzcGVuZGVkU2libGluZ3MgPSAhMSxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdElzUHJlcmVuZGVyaW5nID0gITEsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRBdHRhY2hQaW5nTGlzdGVuZXIgPSAhMSxcbiAgICAgIGVudGFuZ2xlZFJlbmRlckxhbmVzID0gMCxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdEV4aXRTdGF0dXMgPSBSb290SW5Qcm9ncmVzcyxcbiAgICAgIHdvcmtJblByb2dyZXNzUm9vdFNraXBwZWRMYW5lcyA9IDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RJbnRlcmxlYXZlZFVwZGF0ZWRMYW5lcyA9IDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RQaW5nZWRMYW5lcyA9IDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc0RlZmVycmVkTGFuZSA9IDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1N1c3BlbmRlZFJldHJ5TGFuZXMgPSAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290Q29uY3VycmVudEVycm9ycyA9IG51bGwsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3RSZWNvdmVyYWJsZUVycm9ycyA9IG51bGwsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1Jvb3REaWRJbmNsdWRlUmVjdXJzaXZlUmVuZGVyVXBkYXRlID0gITEsXG4gICAgICBnbG9iYWxNb3N0UmVjZW50RmFsbGJhY2tUaW1lID0gMCxcbiAgICAgIEZBTExCQUNLX1RIUk9UVExFX01TID0gMzAwLFxuICAgICAgd29ya0luUHJvZ3Jlc3NSb290UmVuZGVyVGFyZ2V0VGltZSA9IEluZmluaXR5LFxuICAgICAgUkVOREVSX1RJTUVPVVRfTVMgPSA1MDAsXG4gICAgICB3b3JrSW5Qcm9ncmVzc1RyYW5zaXRpb25zID0gbnVsbCxcbiAgICAgIGxlZ2FjeUVycm9yQm91bmRhcmllc1RoYXRBbHJlYWR5RmFpbGVkID0gbnVsbCxcbiAgICAgIHJvb3REb2VzSGF2ZVBhc3NpdmVFZmZlY3RzID0gITEsXG4gICAgICByb290V2l0aFBlbmRpbmdQYXNzaXZlRWZmZWN0cyA9IG51bGwsXG4gICAgICBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNMYW5lcyA9IDAsXG4gICAgICBwZW5kaW5nUGFzc2l2ZUVmZmVjdHNSZW1haW5pbmdMYW5lcyA9IDAsXG4gICAgICBwZW5kaW5nUGFzc2l2ZVRyYW5zaXRpb25zID0gbnVsbCxcbiAgICAgIE5FU1RFRF9VUERBVEVfTElNSVQgPSA1MCxcbiAgICAgIG5lc3RlZFVwZGF0ZUNvdW50ID0gMCxcbiAgICAgIHJvb3RXaXRoTmVzdGVkVXBkYXRlcyA9IG51bGwsXG4gICAgICBpc0ZsdXNoaW5nUGFzc2l2ZUVmZmVjdHMgPSAhMSxcbiAgICAgIGRpZFNjaGVkdWxlVXBkYXRlRHVyaW5nUGFzc2l2ZUVmZmVjdHMgPSAhMSxcbiAgICAgIE5FU1RFRF9QQVNTSVZFX1VQREFURV9MSU1JVCA9IDUwLFxuICAgICAgbmVzdGVkUGFzc2l2ZVVwZGF0ZUNvdW50ID0gMCxcbiAgICAgIHJvb3RXaXRoUGFzc2l2ZU5lc3RlZFVwZGF0ZXMgPSBudWxsLFxuICAgICAgaXNSdW5uaW5nSW5zZXJ0aW9uRWZmZWN0ID0gITEsXG4gICAgICBJTU1FRElBVEVfQ09NTUlUID0gMCxcbiAgICAgIFNVU1BFTkRFRF9DT01NSVQgPSAxLFxuICAgICAgVEhST1RUTEVEX0NPTU1JVCA9IDIsXG4gICAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JOb3RZZXRNb3VudGVkQ29tcG9uZW50ID0gbnVsbCxcbiAgICAgIGRpZFdhcm5BYm91dFVwZGF0ZUluUmVuZGVyID0gITE7XG4gICAgdmFyIGRpZFdhcm5BYm91dFVwZGF0ZUluUmVuZGVyRm9yQW5vdGhlckNvbXBvbmVudCA9IG5ldyBTZXQoKTtcbiAgICB2YXIgZmFrZUFjdENhbGxiYWNrTm9kZSQxID0ge30sXG4gICAgICBmaXJzdFNjaGVkdWxlZFJvb3QgPSBudWxsLFxuICAgICAgbGFzdFNjaGVkdWxlZFJvb3QgPSBudWxsLFxuICAgICAgZGlkU2NoZWR1bGVNaWNyb3Rhc2sgPSAhMSxcbiAgICAgIGRpZFNjaGVkdWxlTWljcm90YXNrX2FjdCA9ICExLFxuICAgICAgbWlnaHRIYXZlUGVuZGluZ1N5bmNXb3JrID0gITEsXG4gICAgICBpc0ZsdXNoaW5nV29yayA9ICExLFxuICAgICAgY3VycmVudEV2ZW50VHJhbnNpdGlvbkxhbmUgPSAwLFxuICAgICAgZmFrZUFjdENhbGxiYWNrTm9kZSA9IHt9O1xuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpbXBsZUV2ZW50UGx1Z2luRXZlbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBldmVudE5hbWUgPSBzaW1wbGVFdmVudFBsdWdpbkV2ZW50c1tpXSxcbiAgICAgICAgICBkb21FdmVudE5hbWUgPSBldmVudE5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgZXZlbnROYW1lID0gZXZlbnROYW1lWzBdLnRvVXBwZXJDYXNlKCkgKyBldmVudE5hbWUuc2xpY2UoMSk7XG4gICAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoZG9tRXZlbnROYW1lLCBcIm9uXCIgKyBldmVudE5hbWUpO1xuICAgICAgfVxuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChBTklNQVRJT05fRU5ELCBcIm9uQW5pbWF0aW9uRW5kXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChBTklNQVRJT05fSVRFUkFUSU9OLCBcIm9uQW5pbWF0aW9uSXRlcmF0aW9uXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChBTklNQVRJT05fU1RBUlQsIFwib25BbmltYXRpb25TdGFydFwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoXCJkYmxjbGlja1wiLCBcIm9uRG91YmxlQ2xpY2tcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFwiZm9jdXNpblwiLCBcIm9uRm9jdXNcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFwiZm9jdXNvdXRcIiwgXCJvbkJsdXJcIik7XG4gICAgICByZWdpc3RlclNpbXBsZUV2ZW50KFRSQU5TSVRJT05fUlVOLCBcIm9uVHJhbnNpdGlvblJ1blwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoVFJBTlNJVElPTl9TVEFSVCwgXCJvblRyYW5zaXRpb25TdGFydFwiKTtcbiAgICAgIHJlZ2lzdGVyU2ltcGxlRXZlbnQoVFJBTlNJVElPTl9DQU5DRUwsIFwib25UcmFuc2l0aW9uQ2FuY2VsXCIpO1xuICAgICAgcmVnaXN0ZXJTaW1wbGVFdmVudChUUkFOU0lUSU9OX0VORCwgXCJvblRyYW5zaXRpb25FbmRcIik7XG4gICAgfSkoKTtcbiAgICByZWdpc3RlckRpcmVjdEV2ZW50KFwib25Nb3VzZUVudGVyXCIsIFtcIm1vdXNlb3V0XCIsIFwibW91c2VvdmVyXCJdKTtcbiAgICByZWdpc3RlckRpcmVjdEV2ZW50KFwib25Nb3VzZUxlYXZlXCIsIFtcIm1vdXNlb3V0XCIsIFwibW91c2VvdmVyXCJdKTtcbiAgICByZWdpc3RlckRpcmVjdEV2ZW50KFwib25Qb2ludGVyRW50ZXJcIiwgW1wicG9pbnRlcm91dFwiLCBcInBvaW50ZXJvdmVyXCJdKTtcbiAgICByZWdpc3RlckRpcmVjdEV2ZW50KFwib25Qb2ludGVyTGVhdmVcIiwgW1wicG9pbnRlcm91dFwiLCBcInBvaW50ZXJvdmVyXCJdKTtcbiAgICByZWdpc3RlclR3b1BoYXNlRXZlbnQoXG4gICAgICBcIm9uQ2hhbmdlXCIsXG4gICAgICBcImNoYW5nZSBjbGljayBmb2N1c2luIGZvY3Vzb3V0IGlucHV0IGtleWRvd24ga2V5dXAgc2VsZWN0aW9uY2hhbmdlXCIuc3BsaXQoXG4gICAgICAgIFwiIFwiXG4gICAgICApXG4gICAgKTtcbiAgICByZWdpc3RlclR3b1BoYXNlRXZlbnQoXG4gICAgICBcIm9uU2VsZWN0XCIsXG4gICAgICBcImZvY3Vzb3V0IGNvbnRleHRtZW51IGRyYWdlbmQgZm9jdXNpbiBrZXlkb3duIGtleXVwIG1vdXNlZG93biBtb3VzZXVwIHNlbGVjdGlvbmNoYW5nZVwiLnNwbGl0KFxuICAgICAgICBcIiBcIlxuICAgICAgKVxuICAgICk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFwib25CZWZvcmVJbnB1dFwiLCBbXG4gICAgICBcImNvbXBvc2l0aW9uZW5kXCIsXG4gICAgICBcImtleXByZXNzXCIsXG4gICAgICBcInRleHRJbnB1dFwiLFxuICAgICAgXCJwYXN0ZVwiXG4gICAgXSk7XG4gICAgcmVnaXN0ZXJUd29QaGFzZUV2ZW50KFxuICAgICAgXCJvbkNvbXBvc2l0aW9uRW5kXCIsXG4gICAgICBcImNvbXBvc2l0aW9uZW5kIGZvY3Vzb3V0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpXG4gICAgKTtcbiAgICByZWdpc3RlclR3b1BoYXNlRXZlbnQoXG4gICAgICBcIm9uQ29tcG9zaXRpb25TdGFydFwiLFxuICAgICAgXCJjb21wb3NpdGlvbnN0YXJ0IGZvY3Vzb3V0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgbW91c2Vkb3duXCIuc3BsaXQoXCIgXCIpXG4gICAgKTtcbiAgICByZWdpc3RlclR3b1BoYXNlRXZlbnQoXG4gICAgICBcIm9uQ29tcG9zaXRpb25VcGRhdGVcIixcbiAgICAgIFwiY29tcG9zaXRpb251cGRhdGUgZm9jdXNvdXQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBtb3VzZWRvd25cIi5zcGxpdChcIiBcIilcbiAgICApO1xuICAgIHZhciBtZWRpYUV2ZW50VHlwZXMgPVxuICAgICAgICBcImFib3J0IGNhbnBsYXkgY2FucGxheXRocm91Z2ggZHVyYXRpb25jaGFuZ2UgZW1wdGllZCBlbmNyeXB0ZWQgZW5kZWQgZXJyb3IgbG9hZGVkZGF0YSBsb2FkZWRtZXRhZGF0YSBsb2Fkc3RhcnQgcGF1c2UgcGxheSBwbGF5aW5nIHByb2dyZXNzIHJhdGVjaGFuZ2UgcmVzaXplIHNlZWtlZCBzZWVraW5nIHN0YWxsZWQgc3VzcGVuZCB0aW1ldXBkYXRlIHZvbHVtZWNoYW5nZSB3YWl0aW5nXCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgIG5vbkRlbGVnYXRlZEV2ZW50cyA9IG5ldyBTZXQoXG4gICAgICAgIFwiYmVmb3JldG9nZ2xlIGNhbmNlbCBjbG9zZSBpbnZhbGlkIGxvYWQgc2Nyb2xsIHNjcm9sbGVuZCB0b2dnbGVcIlxuICAgICAgICAgIC5zcGxpdChcIiBcIilcbiAgICAgICAgICAuY29uY2F0KG1lZGlhRXZlbnRUeXBlcylcbiAgICAgICksXG4gICAgICBsaXN0ZW5pbmdNYXJrZXIgPSBcIl9yZWFjdExpc3RlbmluZ1wiICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMiksXG4gICAgICBkaWRXYXJuQ29udHJvbGxlZFRvVW5jb250cm9sbGVkID0gITEsXG4gICAgICBkaWRXYXJuVW5jb250cm9sbGVkVG9Db250cm9sbGVkID0gITEsXG4gICAgICBkaWRXYXJuRm9ybUFjdGlvblR5cGUgPSAhMSxcbiAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uTmFtZSA9ICExLFxuICAgICAgZGlkV2FybkZvcm1BY3Rpb25UYXJnZXQgPSAhMSxcbiAgICAgIGRpZFdhcm5Gb3JtQWN0aW9uTWV0aG9kID0gITEsXG4gICAgICBkaWRXYXJuUG9wb3ZlclRhcmdldE9iamVjdCA9ICExO1xuICAgIHZhciBkaWRXYXJuRm9yTmV3Qm9vbGVhblByb3BzV2l0aEVtcHR5VmFsdWUgPSB7fTtcbiAgICB2YXIgY2FuRGlmZlN0eWxlRm9ySHlkcmF0aW9uV2FybmluZyA9ICEwO1xuICAgIHZhciBOT1JNQUxJWkVfTkVXTElORVNfUkVHRVggPSAvXFxyXFxuPy9nLFxuICAgICAgTk9STUFMSVpFX05VTExfQU5EX1JFUExBQ0VNRU5UX1JFR0VYID0gL1xcdTAwMDB8XFx1RkZGRC9nLFxuICAgICAgeGxpbmtOYW1lc3BhY2UgPSBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIixcbiAgICAgIHhtbE5hbWVzcGFjZSA9IFwiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlXCIsXG4gICAgICBFWFBFQ1RFRF9GT1JNX0FDVElPTl9VUkwgPVxuICAgICAgICBcImphdmFzY3JpcHQ6dGhyb3cgbmV3IEVycm9yKCdSZWFjdCBmb3JtIHVuZXhwZWN0ZWRseSBzdWJtaXR0ZWQuJylcIixcbiAgICAgIFNVUFBSRVNTX0hZRFJBVElPTl9XQVJOSU5HID0gXCJzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmdcIixcbiAgICAgIFNVU1BFTlNFX1NUQVJUX0RBVEEgPSBcIiRcIixcbiAgICAgIFNVU1BFTlNFX0VORF9EQVRBID0gXCIvJFwiLFxuICAgICAgU1VTUEVOU0VfUEVORElOR19TVEFSVF9EQVRBID0gXCIkP1wiLFxuICAgICAgU1VTUEVOU0VfRkFMTEJBQ0tfU1RBUlRfREFUQSA9IFwiJCFcIixcbiAgICAgIEZPUk1fU1RBVEVfSVNfTUFUQ0hJTkcgPSBcIkYhXCIsXG4gICAgICBGT1JNX1NUQVRFX0lTX05PVF9NQVRDSElORyA9IFwiRlwiLFxuICAgICAgU1RZTEUgPSBcInN0eWxlXCIsXG4gICAgICBIb3N0Q29udGV4dE5hbWVzcGFjZU5vbmUgPSAwLFxuICAgICAgSG9zdENvbnRleHROYW1lc3BhY2VTdmcgPSAxLFxuICAgICAgSG9zdENvbnRleHROYW1lc3BhY2VNYXRoID0gMixcbiAgICAgIGV2ZW50c0VuYWJsZWQgPSBudWxsLFxuICAgICAgc2VsZWN0aW9uSW5mb3JtYXRpb24gPSBudWxsLFxuICAgICAgd2FybmVkVW5rbm93blRhZ3MgPSB7IGRpYWxvZzogITAsIHdlYnZpZXc6ICEwIH0sXG4gICAgICBjdXJyZW50UG9wc3RhdGVUcmFuc2l0aW9uRXZlbnQgPSBudWxsLFxuICAgICAgc2NoZWR1bGVUaW1lb3V0ID0gXCJmdW5jdGlvblwiID09PSB0eXBlb2Ygc2V0VGltZW91dCA/IHNldFRpbWVvdXQgOiB2b2lkIDAsXG4gICAgICBjYW5jZWxUaW1lb3V0ID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgY2xlYXJUaW1lb3V0ID8gY2xlYXJUaW1lb3V0IDogdm9pZCAwLFxuICAgICAgbm9UaW1lb3V0ID0gLTEsXG4gICAgICBsb2NhbFByb21pc2UgPSBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBQcm9taXNlID8gUHJvbWlzZSA6IHZvaWQgMCxcbiAgICAgIHNjaGVkdWxlTWljcm90YXNrID1cbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgcXVldWVNaWNyb3Rhc2tcbiAgICAgICAgICA/IHF1ZXVlTWljcm90YXNrXG4gICAgICAgICAgOiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgbG9jYWxQcm9taXNlXG4gICAgICAgICAgICA/IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbFByb21pc2VcbiAgICAgICAgICAgICAgICAgIC5yZXNvbHZlKG51bGwpXG4gICAgICAgICAgICAgICAgICAudGhlbihjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVFcnJvckluTmV4dFRpY2spO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHNjaGVkdWxlVGltZW91dCxcbiAgICAgIE5vdExvYWRlZCA9IDAsXG4gICAgICBMb2FkZWQgPSAxLFxuICAgICAgRXJyb3JlZCA9IDIsXG4gICAgICBTZXR0bGVkID0gMyxcbiAgICAgIEluc2VydGVkID0gNCxcbiAgICAgIHByZWxvYWRQcm9wc01hcCA9IG5ldyBNYXAoKSxcbiAgICAgIHByZWNvbm5lY3RzU2V0ID0gbmV3IFNldCgpLFxuICAgICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RET01TaGFyZWRJbnRlcm5hbHMuZDtcbiAgICBSZWFjdERPTVNoYXJlZEludGVybmFscy5kID0ge1xuICAgICAgZjogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcHJldmlvdXNXYXNSZW5kZXJpbmcgPSBwcmV2aW91c0Rpc3BhdGNoZXIuZigpLFxuICAgICAgICAgIHdhc1JlbmRlcmluZyA9IGZsdXNoU3luY1dvcmskMSgpO1xuICAgICAgICByZXR1cm4gcHJldmlvdXNXYXNSZW5kZXJpbmcgfHwgd2FzUmVuZGVyaW5nO1xuICAgICAgfSxcbiAgICAgIHI6IGZ1bmN0aW9uIChmb3JtKSB7XG4gICAgICAgIHZhciBmb3JtSW5zdCA9IGdldEluc3RhbmNlRnJvbU5vZGUoZm9ybSk7XG4gICAgICAgIG51bGwgIT09IGZvcm1JbnN0ICYmIDUgPT09IGZvcm1JbnN0LnRhZyAmJiBcImZvcm1cIiA9PT0gZm9ybUluc3QudHlwZVxuICAgICAgICAgID8gcmVxdWVzdEZvcm1SZXNldCQxKGZvcm1JbnN0KVxuICAgICAgICAgIDogcHJldmlvdXNEaXNwYXRjaGVyLnIoZm9ybSk7XG4gICAgICB9LFxuICAgICAgRDogZnVuY3Rpb24gKGhyZWYpIHtcbiAgICAgICAgcHJldmlvdXNEaXNwYXRjaGVyLkQoaHJlZik7XG4gICAgICAgIHByZWNvbm5lY3RBcyhcImRucy1wcmVmZXRjaFwiLCBocmVmLCBudWxsKTtcbiAgICAgIH0sXG4gICAgICBDOiBmdW5jdGlvbiAoaHJlZiwgY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgcHJldmlvdXNEaXNwYXRjaGVyLkMoaHJlZiwgY3Jvc3NPcmlnaW4pO1xuICAgICAgICBwcmVjb25uZWN0QXMoXCJwcmVjb25uZWN0XCIsIGhyZWYsIGNyb3NzT3JpZ2luKTtcbiAgICAgIH0sXG4gICAgICBMOiBmdW5jdGlvbiAoaHJlZiwgYXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcHJldmlvdXNEaXNwYXRjaGVyLkwoaHJlZiwgYXMsIG9wdGlvbnMpO1xuICAgICAgICB2YXIgb3duZXJEb2N1bWVudCA9IGdsb2JhbERvY3VtZW50O1xuICAgICAgICBpZiAob3duZXJEb2N1bWVudCAmJiBocmVmICYmIGFzKSB7XG4gICAgICAgICAgdmFyIHByZWxvYWRTZWxlY3RvciA9XG4gICAgICAgICAgICAnbGlua1tyZWw9XCJwcmVsb2FkXCJdW2FzPVwiJyArXG4gICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKGFzKSArXG4gICAgICAgICAgICAnXCJdJztcbiAgICAgICAgICBcImltYWdlXCIgPT09IGFzXG4gICAgICAgICAgICA/IG9wdGlvbnMgJiYgb3B0aW9ucy5pbWFnZVNyY1NldFxuICAgICAgICAgICAgICA/ICgocHJlbG9hZFNlbGVjdG9yICs9XG4gICAgICAgICAgICAgICAgICAnW2ltYWdlc3Jjc2V0PVwiJyArXG4gICAgICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKFxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmltYWdlU3JjU2V0XG4gICAgICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgICAgICdcIl0nKSxcbiAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09PSB0eXBlb2Ygb3B0aW9ucy5pbWFnZVNpemVzICYmXG4gICAgICAgICAgICAgICAgICAocHJlbG9hZFNlbGVjdG9yICs9XG4gICAgICAgICAgICAgICAgICAgICdbaW1hZ2VzaXplcz1cIicgK1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGVTZWxlY3RvckF0dHJpYnV0ZVZhbHVlSW5zaWRlRG91YmxlUXVvdGVzKFxuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuaW1hZ2VTaXplc1xuICAgICAgICAgICAgICAgICAgICApICtcbiAgICAgICAgICAgICAgICAgICAgJ1wiXScpKVxuICAgICAgICAgICAgICA6IChwcmVsb2FkU2VsZWN0b3IgKz1cbiAgICAgICAgICAgICAgICAgICdbaHJlZj1cIicgK1xuICAgICAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhocmVmKSArXG4gICAgICAgICAgICAgICAgICAnXCJdJylcbiAgICAgICAgICAgIDogKHByZWxvYWRTZWxlY3RvciArPVxuICAgICAgICAgICAgICAgICdbaHJlZj1cIicgK1xuICAgICAgICAgICAgICAgIGVzY2FwZVNlbGVjdG9yQXR0cmlidXRlVmFsdWVJbnNpZGVEb3VibGVRdW90ZXMoaHJlZikgK1xuICAgICAgICAgICAgICAgICdcIl0nKTtcbiAgICAgICAgICB2YXIga2V5ID0gcHJlbG9hZFNlbGVjdG9yO1xuICAgICAgICAgIHN3aXRjaCAoYXMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdHlsZVwiOlxuICAgICAgICAgICAgICBrZXkgPSBnZXRTdHlsZUtleShocmVmKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgICAgIGtleSA9IGdldFNjcmlwdEtleShocmVmKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJlbG9hZFByb3BzTWFwLmhhcyhrZXkpIHx8XG4gICAgICAgICAgICAoKGhyZWYgPSBhc3NpZ24oXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZWw6IFwicHJlbG9hZFwiLFxuICAgICAgICAgICAgICAgIGhyZWY6XG4gICAgICAgICAgICAgICAgICBcImltYWdlXCIgPT09IGFzICYmIG9wdGlvbnMgJiYgb3B0aW9ucy5pbWFnZVNyY1NldFxuICAgICAgICAgICAgICAgICAgICA/IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICA6IGhyZWYsXG4gICAgICAgICAgICAgICAgYXM6IGFzXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgcHJlbG9hZFByb3BzTWFwLnNldChrZXksIGhyZWYpLFxuICAgICAgICAgICAgbnVsbCAhPT0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByZWxvYWRTZWxlY3RvcikgfHxcbiAgICAgICAgICAgICAgKFwic3R5bGVcIiA9PT0gYXMgJiZcbiAgICAgICAgICAgICAgICBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgICAgICBnZXRTdHlsZXNoZWV0U2VsZWN0b3JGcm9tS2V5KGtleSlcbiAgICAgICAgICAgICAgICApKSB8fFxuICAgICAgICAgICAgICAoXCJzY3JpcHRcIiA9PT0gYXMgJiZcbiAgICAgICAgICAgICAgICBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZ2V0U2NyaXB0U2VsZWN0b3JGcm9tS2V5KGtleSkpKSB8fFxuICAgICAgICAgICAgICAoKGFzID0gb3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKSksXG4gICAgICAgICAgICAgIHNldEluaXRpYWxQcm9wZXJ0aWVzKGFzLCBcImxpbmtcIiwgaHJlZiksXG4gICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUoYXMpLFxuICAgICAgICAgICAgICBvd25lckRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYXMpKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBtOiBmdW5jdGlvbiAoaHJlZiwgb3B0aW9ucykge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIubShocmVmLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBnbG9iYWxEb2N1bWVudDtcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiYgaHJlZikge1xuICAgICAgICAgIHZhciBhcyA9XG4gICAgICAgICAgICAgIG9wdGlvbnMgJiYgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIG9wdGlvbnMuYXMgPyBvcHRpb25zLmFzIDogXCJzY3JpcHRcIixcbiAgICAgICAgICAgIHByZWxvYWRTZWxlY3RvciA9XG4gICAgICAgICAgICAgICdsaW5rW3JlbD1cIm1vZHVsZXByZWxvYWRcIl1bYXM9XCInICtcbiAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhhcykgK1xuICAgICAgICAgICAgICAnXCJdW2hyZWY9XCInICtcbiAgICAgICAgICAgICAgZXNjYXBlU2VsZWN0b3JBdHRyaWJ1dGVWYWx1ZUluc2lkZURvdWJsZVF1b3RlcyhocmVmKSArXG4gICAgICAgICAgICAgICdcIl0nLFxuICAgICAgICAgICAga2V5ID0gcHJlbG9hZFNlbGVjdG9yO1xuICAgICAgICAgIHN3aXRjaCAoYXMpIHtcbiAgICAgICAgICAgIGNhc2UgXCJhdWRpb3dvcmtsZXRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJwYWludHdvcmtsZXRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJzZXJ2aWNld29ya2VyXCI6XG4gICAgICAgICAgICBjYXNlIFwic2hhcmVkd29ya2VyXCI6XG4gICAgICAgICAgICBjYXNlIFwid29ya2VyXCI6XG4gICAgICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgICAgIGtleSA9IGdldFNjcmlwdEtleShocmVmKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIXByZWxvYWRQcm9wc01hcC5oYXMoa2V5KSAmJlxuICAgICAgICAgICAgKChocmVmID0gYXNzaWduKHsgcmVsOiBcIm1vZHVsZXByZWxvYWRcIiwgaHJlZjogaHJlZiB9LCBvcHRpb25zKSksXG4gICAgICAgICAgICBwcmVsb2FkUHJvcHNNYXAuc2V0KGtleSwgaHJlZiksXG4gICAgICAgICAgICBudWxsID09PSBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJlbG9hZFNlbGVjdG9yKSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHN3aXRjaCAoYXMpIHtcbiAgICAgICAgICAgICAgY2FzZSBcImF1ZGlvd29ya2xldFwiOlxuICAgICAgICAgICAgICBjYXNlIFwicGFpbnR3b3JrbGV0XCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzZXJ2aWNld29ya2VyXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJzaGFyZWR3b3JrZXJcIjpcbiAgICAgICAgICAgICAgY2FzZSBcIndvcmtlclwiOlxuICAgICAgICAgICAgICBjYXNlIFwic2NyaXB0XCI6XG4gICAgICAgICAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQucXVlcnlTZWxlY3RvcihnZXRTY3JpcHRTZWxlY3RvckZyb21LZXkoa2V5KSkpXG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcyA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhhcywgXCJsaW5rXCIsIGhyZWYpO1xuICAgICAgICAgICAgbWFya05vZGVBc0hvaXN0YWJsZShhcyk7XG4gICAgICAgICAgICBvd25lckRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoYXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFg6IGZ1bmN0aW9uIChzcmMsIG9wdGlvbnMpIHtcbiAgICAgICAgcHJldmlvdXNEaXNwYXRjaGVyLlgoc3JjLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBnbG9iYWxEb2N1bWVudDtcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiYgc3JjKSB7XG4gICAgICAgICAgdmFyIHNjcmlwdHMgPSBnZXRSZXNvdXJjZXNGcm9tUm9vdChvd25lckRvY3VtZW50KS5ob2lzdGFibGVTY3JpcHRzLFxuICAgICAgICAgICAga2V5ID0gZ2V0U2NyaXB0S2V5KHNyYyksXG4gICAgICAgICAgICByZXNvdXJjZSA9IHNjcmlwdHMuZ2V0KGtleSk7XG4gICAgICAgICAgcmVzb3VyY2UgfHxcbiAgICAgICAgICAgICgocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgIGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShrZXkpXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHJlc291cmNlIHx8XG4gICAgICAgICAgICAgICgoc3JjID0gYXNzaWduKHsgc3JjOiBzcmMsIGFzeW5jOiAhMCB9LCBvcHRpb25zKSksXG4gICAgICAgICAgICAgIChvcHRpb25zID0gcHJlbG9hZFByb3BzTWFwLmdldChrZXkpKSAmJlxuICAgICAgICAgICAgICAgIGFkb3B0UHJlbG9hZFByb3BzRm9yU2NyaXB0KHNyYywgb3B0aW9ucyksXG4gICAgICAgICAgICAgIChyZXNvdXJjZSA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSksXG4gICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUocmVzb3VyY2UpLFxuICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhyZXNvdXJjZSwgXCJsaW5rXCIsIHNyYyksXG4gICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChyZXNvdXJjZSkpLFxuICAgICAgICAgICAgKHJlc291cmNlID0ge1xuICAgICAgICAgICAgICB0eXBlOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgICBpbnN0YW5jZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgICAgICBzdGF0ZTogbnVsbFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzY3JpcHRzLnNldChrZXksIHJlc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBTOiBmdW5jdGlvbiAoaHJlZiwgcHJlY2VkZW5jZSwgb3B0aW9ucykge1xuICAgICAgICBwcmV2aW91c0Rpc3BhdGNoZXIuUyhocmVmLCBwcmVjZWRlbmNlLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBnbG9iYWxEb2N1bWVudDtcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiYgaHJlZikge1xuICAgICAgICAgIHZhciBzdHlsZXMgPSBnZXRSZXNvdXJjZXNGcm9tUm9vdChvd25lckRvY3VtZW50KS5ob2lzdGFibGVTdHlsZXMsXG4gICAgICAgICAgICBrZXkgPSBnZXRTdHlsZUtleShocmVmKTtcbiAgICAgICAgICBwcmVjZWRlbmNlID0gcHJlY2VkZW5jZSB8fCBcImRlZmF1bHRcIjtcbiAgICAgICAgICB2YXIgcmVzb3VyY2UgPSBzdHlsZXMuZ2V0KGtleSk7XG4gICAgICAgICAgaWYgKCFyZXNvdXJjZSkge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0geyBsb2FkaW5nOiBOb3RMb2FkZWQsIHByZWxvYWQ6IG51bGwgfTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgKHJlc291cmNlID0gb3duZXJEb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgICAgICAgICAgIGdldFN0eWxlc2hlZXRTZWxlY3RvckZyb21LZXkoa2V5KVxuICAgICAgICAgICAgICApKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgICBzdGF0ZS5sb2FkaW5nID0gTG9hZGVkIHwgSW5zZXJ0ZWQ7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgaHJlZiA9IGFzc2lnbihcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICByZWw6IFwic3R5bGVzaGVldFwiLFxuICAgICAgICAgICAgICAgICAgaHJlZjogaHJlZixcbiAgICAgICAgICAgICAgICAgIFwiZGF0YS1wcmVjZWRlbmNlXCI6IHByZWNlZGVuY2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgKG9wdGlvbnMgPSBwcmVsb2FkUHJvcHNNYXAuZ2V0KGtleSkpICYmXG4gICAgICAgICAgICAgICAgYWRvcHRQcmVsb2FkUHJvcHNGb3JTdHlsZXNoZWV0KGhyZWYsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICB2YXIgbGluayA9IChyZXNvdXJjZSA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIikpO1xuICAgICAgICAgICAgICBtYXJrTm9kZUFzSG9pc3RhYmxlKGxpbmspO1xuICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhsaW5rLCBcImxpbmtcIiwgaHJlZik7XG4gICAgICAgICAgICAgIGxpbmsuX3AgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgbGluay5vbmxvYWQgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIGxpbmsub25lcnJvciA9IHJlamVjdDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgfD0gTG9hZGVkO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgfD0gRXJyb3JlZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHN0YXRlLmxvYWRpbmcgfD0gSW5zZXJ0ZWQ7XG4gICAgICAgICAgICAgIGluc2VydFN0eWxlc2hlZXQocmVzb3VyY2UsIHByZWNlZGVuY2UsIG93bmVyRG9jdW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb3VyY2UgPSB7XG4gICAgICAgICAgICAgIHR5cGU6IFwic3R5bGVzaGVldFwiLFxuICAgICAgICAgICAgICBpbnN0YW5jZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzdHlsZXMuc2V0KGtleSwgcmVzb3VyY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIE06IGZ1bmN0aW9uIChzcmMsIG9wdGlvbnMpIHtcbiAgICAgICAgcHJldmlvdXNEaXNwYXRjaGVyLk0oc3JjLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIG93bmVyRG9jdW1lbnQgPSBnbG9iYWxEb2N1bWVudDtcbiAgICAgICAgaWYgKG93bmVyRG9jdW1lbnQgJiYgc3JjKSB7XG4gICAgICAgICAgdmFyIHNjcmlwdHMgPSBnZXRSZXNvdXJjZXNGcm9tUm9vdChvd25lckRvY3VtZW50KS5ob2lzdGFibGVTY3JpcHRzLFxuICAgICAgICAgICAga2V5ID0gZ2V0U2NyaXB0S2V5KHNyYyksXG4gICAgICAgICAgICByZXNvdXJjZSA9IHNjcmlwdHMuZ2V0KGtleSk7XG4gICAgICAgICAgcmVzb3VyY2UgfHxcbiAgICAgICAgICAgICgocmVzb3VyY2UgPSBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICAgICAgICAgIGdldFNjcmlwdFNlbGVjdG9yRnJvbUtleShrZXkpXG4gICAgICAgICAgICApKSxcbiAgICAgICAgICAgIHJlc291cmNlIHx8XG4gICAgICAgICAgICAgICgoc3JjID0gYXNzaWduKHsgc3JjOiBzcmMsIGFzeW5jOiAhMCwgdHlwZTogXCJtb2R1bGVcIiB9LCBvcHRpb25zKSksXG4gICAgICAgICAgICAgIChvcHRpb25zID0gcHJlbG9hZFByb3BzTWFwLmdldChrZXkpKSAmJlxuICAgICAgICAgICAgICAgIGFkb3B0UHJlbG9hZFByb3BzRm9yU2NyaXB0KHNyYywgb3B0aW9ucyksXG4gICAgICAgICAgICAgIChyZXNvdXJjZSA9IG93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKSksXG4gICAgICAgICAgICAgIG1hcmtOb2RlQXNIb2lzdGFibGUocmVzb3VyY2UpLFxuICAgICAgICAgICAgICBzZXRJbml0aWFsUHJvcGVydGllcyhyZXNvdXJjZSwgXCJsaW5rXCIsIHNyYyksXG4gICAgICAgICAgICAgIG93bmVyRG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChyZXNvdXJjZSkpLFxuICAgICAgICAgICAgKHJlc291cmNlID0ge1xuICAgICAgICAgICAgICB0eXBlOiBcInNjcmlwdFwiLFxuICAgICAgICAgICAgICBpbnN0YW5jZTogcmVzb3VyY2UsXG4gICAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgICAgICBzdGF0ZTogbnVsbFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBzY3JpcHRzLnNldChrZXksIHJlc291cmNlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBnbG9iYWxEb2N1bWVudCA9IFwidW5kZWZpbmVkXCIgPT09IHR5cGVvZiBkb2N1bWVudCA/IG51bGwgOiBkb2N1bWVudCxcbiAgICAgIHRhZ0NhY2hlcyA9IG51bGwsXG4gICAgICBzdXNwZW5kZWRTdGF0ZSA9IG51bGwsXG4gICAgICBMQVNUX1BSRUNFREVOQ0UgPSBudWxsLFxuICAgICAgcHJlY2VkZW5jZXNCeVJvb3QgPSBudWxsLFxuICAgICAgTm90UGVuZGluZ1RyYW5zaXRpb24gPSBOb3RQZW5kaW5nLFxuICAgICAgSG9zdFRyYW5zaXRpb25Db250ZXh0ID0ge1xuICAgICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgICAgICBQcm92aWRlcjogbnVsbCxcbiAgICAgICAgQ29uc3VtZXI6IG51bGwsXG4gICAgICAgIF9jdXJyZW50VmFsdWU6IE5vdFBlbmRpbmdUcmFuc2l0aW9uLFxuICAgICAgICBfY3VycmVudFZhbHVlMjogTm90UGVuZGluZ1RyYW5zaXRpb24sXG4gICAgICAgIF90aHJlYWRDb3VudDogMFxuICAgICAgfSxcbiAgICAgIGJhZGdlRm9ybWF0ID0gXCIlYyVzJWMgXCIsXG4gICAgICBiYWRnZVN0eWxlID1cbiAgICAgICAgXCJiYWNrZ3JvdW5kOiAjZTZlNmU2O2JhY2tncm91bmQ6IGxpZ2h0LWRhcmsocmdiYSgwLDAsMCwwLjEpLCByZ2JhKDI1NSwyNTUsMjU1LDAuMjUpKTtjb2xvcjogIzAwMDAwMDtjb2xvcjogbGlnaHQtZGFyaygjMDAwMDAwLCAjZmZmZmZmKTtib3JkZXItcmFkaXVzOiAycHhcIixcbiAgICAgIHJlc2V0U3R5bGUgPSBcIlwiLFxuICAgICAgcGFkID0gXCIgXCIsXG4gICAgICBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XG4gICAgdmFyIGRpZFdhcm5BYm91dE5lc3RlZFVwZGF0ZXMgPSAhMTtcbiAgICB2YXIgb3ZlcnJpZGVIb29rU3RhdGUgPSBudWxsLFxuICAgICAgb3ZlcnJpZGVIb29rU3RhdGVEZWxldGVQYXRoID0gbnVsbCxcbiAgICAgIG92ZXJyaWRlSG9va1N0YXRlUmVuYW1lUGF0aCA9IG51bGwsXG4gICAgICBvdmVycmlkZVByb3BzID0gbnVsbCxcbiAgICAgIG92ZXJyaWRlUHJvcHNEZWxldGVQYXRoID0gbnVsbCxcbiAgICAgIG92ZXJyaWRlUHJvcHNSZW5hbWVQYXRoID0gbnVsbCxcbiAgICAgIHNjaGVkdWxlVXBkYXRlID0gbnVsbCxcbiAgICAgIHNldEVycm9ySGFuZGxlciA9IG51bGwsXG4gICAgICBzZXRTdXNwZW5zZUhhbmRsZXIgPSBudWxsO1xuICAgIG92ZXJyaWRlSG9va1N0YXRlID0gZnVuY3Rpb24gKGZpYmVyLCBpZCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIGlkID0gZmluZEhvb2soZmliZXIsIGlkKTtcbiAgICAgIG51bGwgIT09IGlkICYmXG4gICAgICAgICgocGF0aCA9IGNvcHlXaXRoU2V0SW1wbChpZC5tZW1vaXplZFN0YXRlLCBwYXRoLCAwLCB2YWx1ZSkpLFxuICAgICAgICAoaWQubWVtb2l6ZWRTdGF0ZSA9IHBhdGgpLFxuICAgICAgICAoaWQuYmFzZVN0YXRlID0gcGF0aCksXG4gICAgICAgIChmaWJlci5tZW1vaXplZFByb3BzID0gYXNzaWduKHt9LCBmaWJlci5tZW1vaXplZFByb3BzKSksXG4gICAgICAgIChwYXRoID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKSksXG4gICAgICAgIG51bGwgIT09IHBhdGggJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHBhdGgsIGZpYmVyLCAyKSk7XG4gICAgfTtcbiAgICBvdmVycmlkZUhvb2tTdGF0ZURlbGV0ZVBhdGggPSBmdW5jdGlvbiAoZmliZXIsIGlkLCBwYXRoKSB7XG4gICAgICBpZCA9IGZpbmRIb29rKGZpYmVyLCBpZCk7XG4gICAgICBudWxsICE9PSBpZCAmJlxuICAgICAgICAoKHBhdGggPSBjb3B5V2l0aERlbGV0ZUltcGwoaWQubWVtb2l6ZWRTdGF0ZSwgcGF0aCwgMCkpLFxuICAgICAgICAoaWQubWVtb2l6ZWRTdGF0ZSA9IHBhdGgpLFxuICAgICAgICAoaWQuYmFzZVN0YXRlID0gcGF0aCksXG4gICAgICAgIChmaWJlci5tZW1vaXplZFByb3BzID0gYXNzaWduKHt9LCBmaWJlci5tZW1vaXplZFByb3BzKSksXG4gICAgICAgIChwYXRoID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKSksXG4gICAgICAgIG51bGwgIT09IHBhdGggJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHBhdGgsIGZpYmVyLCAyKSk7XG4gICAgfTtcbiAgICBvdmVycmlkZUhvb2tTdGF0ZVJlbmFtZVBhdGggPSBmdW5jdGlvbiAoZmliZXIsIGlkLCBvbGRQYXRoLCBuZXdQYXRoKSB7XG4gICAgICBpZCA9IGZpbmRIb29rKGZpYmVyLCBpZCk7XG4gICAgICBudWxsICE9PSBpZCAmJlxuICAgICAgICAoKG9sZFBhdGggPSBjb3B5V2l0aFJlbmFtZShpZC5tZW1vaXplZFN0YXRlLCBvbGRQYXRoLCBuZXdQYXRoKSksXG4gICAgICAgIChpZC5tZW1vaXplZFN0YXRlID0gb2xkUGF0aCksXG4gICAgICAgIChpZC5iYXNlU3RhdGUgPSBvbGRQYXRoKSxcbiAgICAgICAgKGZpYmVyLm1lbW9pemVkUHJvcHMgPSBhc3NpZ24oe30sIGZpYmVyLm1lbW9pemVkUHJvcHMpKSxcbiAgICAgICAgKG9sZFBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpKSxcbiAgICAgICAgbnVsbCAhPT0gb2xkUGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIob2xkUGF0aCwgZmliZXIsIDIpKTtcbiAgICB9O1xuICAgIG92ZXJyaWRlUHJvcHMgPSBmdW5jdGlvbiAoZmliZXIsIHBhdGgsIHZhbHVlKSB7XG4gICAgICBmaWJlci5wZW5kaW5nUHJvcHMgPSBjb3B5V2l0aFNldEltcGwoZmliZXIubWVtb2l6ZWRQcm9wcywgcGF0aCwgMCwgdmFsdWUpO1xuICAgICAgZmliZXIuYWx0ZXJuYXRlICYmIChmaWJlci5hbHRlcm5hdGUucGVuZGluZ1Byb3BzID0gZmliZXIucGVuZGluZ1Byb3BzKTtcbiAgICAgIHBhdGggPSBlbnF1ZXVlQ29uY3VycmVudFJlbmRlckZvckxhbmUoZmliZXIsIDIpO1xuICAgICAgbnVsbCAhPT0gcGF0aCAmJiBzY2hlZHVsZVVwZGF0ZU9uRmliZXIocGF0aCwgZmliZXIsIDIpO1xuICAgIH07XG4gICAgb3ZlcnJpZGVQcm9wc0RlbGV0ZVBhdGggPSBmdW5jdGlvbiAoZmliZXIsIHBhdGgpIHtcbiAgICAgIGZpYmVyLnBlbmRpbmdQcm9wcyA9IGNvcHlXaXRoRGVsZXRlSW1wbChmaWJlci5tZW1vaXplZFByb3BzLCBwYXRoLCAwKTtcbiAgICAgIGZpYmVyLmFsdGVybmF0ZSAmJiAoZmliZXIuYWx0ZXJuYXRlLnBlbmRpbmdQcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcyk7XG4gICAgICBwYXRoID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IHBhdGggJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKHBhdGgsIGZpYmVyLCAyKTtcbiAgICB9O1xuICAgIG92ZXJyaWRlUHJvcHNSZW5hbWVQYXRoID0gZnVuY3Rpb24gKGZpYmVyLCBvbGRQYXRoLCBuZXdQYXRoKSB7XG4gICAgICBmaWJlci5wZW5kaW5nUHJvcHMgPSBjb3B5V2l0aFJlbmFtZShcbiAgICAgICAgZmliZXIubWVtb2l6ZWRQcm9wcyxcbiAgICAgICAgb2xkUGF0aCxcbiAgICAgICAgbmV3UGF0aFxuICAgICAgKTtcbiAgICAgIGZpYmVyLmFsdGVybmF0ZSAmJiAoZmliZXIuYWx0ZXJuYXRlLnBlbmRpbmdQcm9wcyA9IGZpYmVyLnBlbmRpbmdQcm9wcyk7XG4gICAgICBvbGRQYXRoID0gZW5xdWV1ZUNvbmN1cnJlbnRSZW5kZXJGb3JMYW5lKGZpYmVyLCAyKTtcbiAgICAgIG51bGwgIT09IG9sZFBhdGggJiYgc2NoZWR1bGVVcGRhdGVPbkZpYmVyKG9sZFBhdGgsIGZpYmVyLCAyKTtcbiAgICB9O1xuICAgIHNjaGVkdWxlVXBkYXRlID0gZnVuY3Rpb24gKGZpYmVyKSB7XG4gICAgICB2YXIgcm9vdCA9IGVucXVldWVDb25jdXJyZW50UmVuZGVyRm9yTGFuZShmaWJlciwgMik7XG4gICAgICBudWxsICE9PSByb290ICYmIHNjaGVkdWxlVXBkYXRlT25GaWJlcihyb290LCBmaWJlciwgMik7XG4gICAgfTtcbiAgICBzZXRFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAobmV3U2hvdWxkRXJyb3JJbXBsKSB7XG4gICAgICBzaG91bGRFcnJvckltcGwgPSBuZXdTaG91bGRFcnJvckltcGw7XG4gICAgfTtcbiAgICBzZXRTdXNwZW5zZUhhbmRsZXIgPSBmdW5jdGlvbiAobmV3U2hvdWxkU3VzcGVuZEltcGwpIHtcbiAgICAgIHNob3VsZFN1c3BlbmRJbXBsID0gbmV3U2hvdWxkU3VzcGVuZEltcGw7XG4gICAgfTtcbiAgICB2YXIgX2VuYWJsZWQgPSAhMCxcbiAgICAgIHJldHVybl90YXJnZXRJbnN0ID0gbnVsbCxcbiAgICAgIGhhc1NjaGVkdWxlZFJlcGxheUF0dGVtcHQgPSAhMSxcbiAgICAgIHF1ZXVlZEZvY3VzID0gbnVsbCxcbiAgICAgIHF1ZXVlZERyYWcgPSBudWxsLFxuICAgICAgcXVldWVkTW91c2UgPSBudWxsLFxuICAgICAgcXVldWVkUG9pbnRlcnMgPSBuZXcgTWFwKCksXG4gICAgICBxdWV1ZWRQb2ludGVyQ2FwdHVyZXMgPSBuZXcgTWFwKCksXG4gICAgICBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMgPSBbXSxcbiAgICAgIGRpc2NyZXRlUmVwbGF5YWJsZUV2ZW50cyA9XG4gICAgICAgIFwibW91c2Vkb3duIG1vdXNldXAgdG91Y2hjYW5jZWwgdG91Y2hlbmQgdG91Y2hzdGFydCBhdXhjbGljayBkYmxjbGljayBwb2ludGVyY2FuY2VsIHBvaW50ZXJkb3duIHBvaW50ZXJ1cCBkcmFnZW5kIGRyYWdzdGFydCBkcm9wIGNvbXBvc2l0aW9uZW5kIGNvbXBvc2l0aW9uc3RhcnQga2V5ZG93biBrZXlwcmVzcyBrZXl1cCBpbnB1dCB0ZXh0SW5wdXQgY29weSBjdXQgcGFzdGUgY2xpY2sgY2hhbmdlIGNvbnRleHRtZW51IHJlc2V0XCIuc3BsaXQoXG4gICAgICAgICAgXCIgXCJcbiAgICAgICAgKSxcbiAgICAgIGxhc3RTY2hlZHVsZWRSZXBsYXlRdWV1ZSA9IG51bGw7XG4gICAgUmVhY3RET01IeWRyYXRpb25Sb290LnByb3RvdHlwZS5yZW5kZXIgPSBSZWFjdERPTVJvb3QucHJvdG90eXBlLnJlbmRlciA9XG4gICAgICBmdW5jdGlvbiAoY2hpbGRyZW4sIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMikge1xuICAgICAgICB2YXIgcm9vdCA9IHRoaXMuX2ludGVybmFsUm9vdDtcbiAgICAgICAgaWYgKG51bGwgPT09IHJvb3QpIHRocm93IEVycm9yKFwiQ2Fubm90IHVwZGF0ZSBhbiB1bm1vdW50ZWQgcm9vdC5cIik7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMlxuICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJkb2VzIG5vdCBzdXBwb3J0IHRoZSBzZWNvbmQgY2FsbGJhY2sgYXJndW1lbnQuIFRvIGV4ZWN1dGUgYSBzaWRlIGVmZmVjdCBhZnRlciByZW5kZXJpbmcsIGRlY2xhcmUgaXQgaW4gYSBjb21wb25lbnQgYm9keSB3aXRoIHVzZUVmZmVjdCgpLlwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgOiBpc1ZhbGlkQ29udGFpbmVyKEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMilcbiAgICAgICAgICAgID8gY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIllvdSBwYXNzZWQgYSBjb250YWluZXIgdG8gdGhlIHNlY29uZCBhcmd1bWVudCBvZiByb290LnJlbmRlciguLi4pLiBZb3UgZG9uJ3QgbmVlZCB0byBwYXNzIGl0IGFnYWluIHNpbmNlIHlvdSBhbHJlYWR5IHBhc3NlZCBpdCB0byBjcmVhdGUgdGhlIHJvb3QuXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgOiBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyICYmXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICAgICAgXCJZb3UgcGFzc2VkIGEgc2Vjb25kIGFyZ3VtZW50IHRvIHJvb3QucmVuZGVyKC4uLikgYnV0IGl0IG9ubHkgYWNjZXB0cyBvbmUgYXJndW1lbnQuXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyID0gcm9vdC5jdXJyZW50O1xuICAgICAgICB2YXIgbGFuZSA9IHJlcXVlc3RVcGRhdGVMYW5lKEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMik7XG4gICAgICAgIHVwZGF0ZUNvbnRhaW5lckltcGwoXG4gICAgICAgICAgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AyLFxuICAgICAgICAgIGxhbmUsXG4gICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgcm9vdCxcbiAgICAgICAgICBudWxsLFxuICAgICAgICAgIG51bGxcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgUmVhY3RET01IeWRyYXRpb25Sb290LnByb3RvdHlwZS51bm1vdW50ID0gUmVhY3RET01Sb290LnByb3RvdHlwZS51bm1vdW50ID1cbiAgICAgIGZ1bmN0aW9uIChKU0NvbXBpbGVyX09wdGltaXplQXJndW1lbnRzQXJyYXlfcDMpIHtcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgSlNDb21waWxlcl9PcHRpbWl6ZUFyZ3VtZW50c0FycmF5X3AzICYmXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgIFwiZG9lcyBub3Qgc3VwcG9ydCBhIGNhbGxiYWNrIGFyZ3VtZW50LiBUbyBleGVjdXRlIGEgc2lkZSBlZmZlY3QgYWZ0ZXIgcmVuZGVyaW5nLCBkZWNsYXJlIGl0IGluIGEgY29tcG9uZW50IGJvZHkgd2l0aCB1c2VFZmZlY3QoKS5cIlxuICAgICAgICAgICk7XG4gICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMyA9IHRoaXMuX2ludGVybmFsUm9vdDtcbiAgICAgICAgaWYgKG51bGwgIT09IEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMykge1xuICAgICAgICAgIHRoaXMuX2ludGVybmFsUm9vdCA9IG51bGw7XG4gICAgICAgICAgdmFyIGNvbnRhaW5lciA9IEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMy5jb250YWluZXJJbmZvO1xuICAgICAgICAgIChleGVjdXRpb25Db250ZXh0ICYgKFJlbmRlckNvbnRleHQgfCBDb21taXRDb250ZXh0KSkgIT09IE5vQ29udGV4dCAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJBdHRlbXB0ZWQgdG8gc3luY2hyb25vdXNseSB1bm1vdW50IGEgcm9vdCB3aGlsZSBSZWFjdCB3YXMgYWxyZWFkeSByZW5kZXJpbmcuIFJlYWN0IGNhbm5vdCBmaW5pc2ggdW5tb3VudGluZyB0aGUgcm9vdCB1bnRpbCB0aGUgY3VycmVudCByZW5kZXIgaGFzIGNvbXBsZXRlZCwgd2hpY2ggbWF5IGxlYWQgdG8gYSByYWNlIGNvbmRpdGlvbi5cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB1cGRhdGVDb250YWluZXJTeW5jKFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIEpTQ29tcGlsZXJfT3B0aW1pemVBcmd1bWVudHNBcnJheV9wMyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBudWxsXG4gICAgICAgICAgKTtcbiAgICAgICAgICBmbHVzaFN5bmNXb3JrJDEoKTtcbiAgICAgICAgICBjb250YWluZXJbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIFJlYWN0RE9NSHlkcmF0aW9uUm9vdC5wcm90b3R5cGUudW5zdGFibGVfc2NoZWR1bGVIeWRyYXRpb24gPSBmdW5jdGlvbiAoXG4gICAgICB0YXJnZXRcbiAgICApIHtcbiAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIHVwZGF0ZVByaW9yaXR5ID0gcmVzb2x2ZVVwZGF0ZVByaW9yaXR5KCk7XG4gICAgICAgIHRhcmdldCA9IHsgYmxvY2tlZE9uOiBudWxsLCB0YXJnZXQ6IHRhcmdldCwgcHJpb3JpdHk6IHVwZGF0ZVByaW9yaXR5IH07XG4gICAgICAgIGZvciAoXG4gICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgIGkgPCBxdWV1ZWRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldHMubGVuZ3RoICYmXG4gICAgICAgICAgMCAhPT0gdXBkYXRlUHJpb3JpdHkgJiZcbiAgICAgICAgICB1cGRhdGVQcmlvcml0eSA8IHF1ZXVlZEV4cGxpY2l0SHlkcmF0aW9uVGFyZ2V0c1tpXS5wcmlvcml0eTtcbiAgICAgICAgICBpKytcbiAgICAgICAgKTtcbiAgICAgICAgcXVldWVkRXhwbGljaXRIeWRyYXRpb25UYXJnZXRzLnNwbGljZShpLCAwLCB0YXJnZXQpO1xuICAgICAgICAwID09PSBpICYmIGF0dGVtcHRFeHBsaWNpdEh5ZHJhdGlvblRhcmdldCh0YXJnZXQpO1xuICAgICAgfVxuICAgIH07XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpc29tb3JwaGljUmVhY3RQYWNrYWdlVmVyc2lvbiA9IFJlYWN0LnZlcnNpb247XG4gICAgICBpZiAoXCIxOS4wLjBcIiAhPT0gaXNvbW9ycGhpY1JlYWN0UGFja2FnZVZlcnNpb24pXG4gICAgICAgIHRocm93IEVycm9yKFxuICAgICAgICAgICdJbmNvbXBhdGlibGUgUmVhY3QgdmVyc2lvbnM6IFRoZSBcInJlYWN0XCIgYW5kIFwicmVhY3QtZG9tXCIgcGFja2FnZXMgbXVzdCBoYXZlIHRoZSBleGFjdCBzYW1lIHZlcnNpb24uIEluc3RlYWQgZ290OlxcbiAgLSByZWFjdDogICAgICAnICtcbiAgICAgICAgICAgIChpc29tb3JwaGljUmVhY3RQYWNrYWdlVmVyc2lvbiArXG4gICAgICAgICAgICAgIFwiXFxuICAtIHJlYWN0LWRvbTogIDE5LjAuMFxcbkxlYXJuIG1vcmU6IGh0dHBzOi8vcmVhY3QuZGV2L3dhcm5pbmdzL3ZlcnNpb24tbWlzbWF0Y2hcIilcbiAgICAgICAgKTtcbiAgICB9KSgpO1xuICAgIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBNYXAgJiZcbiAgICAgIG51bGwgIT0gTWFwLnByb3RvdHlwZSAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgTWFwLnByb3RvdHlwZS5mb3JFYWNoICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBTZXQgJiZcbiAgICAgIG51bGwgIT0gU2V0LnByb3RvdHlwZSAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0LnByb3RvdHlwZS5jbGVhciAmJlxuICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgU2V0LnByb3RvdHlwZS5mb3JFYWNoKSB8fFxuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJSZWFjdCBkZXBlbmRzIG9uIE1hcCBhbmQgU2V0IGJ1aWx0LWluIHR5cGVzLiBNYWtlIHN1cmUgdGhhdCB5b3UgbG9hZCBhIHBvbHlmaWxsIGluIG9sZGVyIGJyb3dzZXJzLiBodHRwczovL3JlYWN0LmRldi9saW5rL3JlYWN0LXBvbHlmaWxsc1wiXG4gICAgICApO1xuICAgIFJlYWN0RE9NU2hhcmVkSW50ZXJuYWxzLmZpbmRET01Ob2RlID0gZnVuY3Rpb24gKGNvbXBvbmVudE9yRWxlbWVudCkge1xuICAgICAgdmFyIGZpYmVyID0gY29tcG9uZW50T3JFbGVtZW50Ll9yZWFjdEludGVybmFscztcbiAgICAgIGlmICh2b2lkIDAgPT09IGZpYmVyKSB7XG4gICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBjb21wb25lbnRPckVsZW1lbnQucmVuZGVyKVxuICAgICAgICAgIHRocm93IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgbm9kZSBvbiBhbiB1bm1vdW50ZWQgY29tcG9uZW50LlwiKTtcbiAgICAgICAgY29tcG9uZW50T3JFbGVtZW50ID0gT2JqZWN0LmtleXMoY29tcG9uZW50T3JFbGVtZW50KS5qb2luKFwiLFwiKTtcbiAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgXCJBcmd1bWVudCBhcHBlYXJzIHRvIG5vdCBiZSBhIFJlYWN0Q29tcG9uZW50LiBLZXlzOiBcIiArXG4gICAgICAgICAgICBjb21wb25lbnRPckVsZW1lbnRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNvbXBvbmVudE9yRWxlbWVudCA9IGZpbmRDdXJyZW50RmliZXJVc2luZ1Nsb3dQYXRoKGZpYmVyKTtcbiAgICAgIGNvbXBvbmVudE9yRWxlbWVudCA9XG4gICAgICAgIG51bGwgIT09IGNvbXBvbmVudE9yRWxlbWVudFxuICAgICAgICAgID8gZmluZEN1cnJlbnRIb3N0RmliZXJJbXBsKGNvbXBvbmVudE9yRWxlbWVudClcbiAgICAgICAgICA6IG51bGw7XG4gICAgICBjb21wb25lbnRPckVsZW1lbnQgPVxuICAgICAgICBudWxsID09PSBjb21wb25lbnRPckVsZW1lbnQgPyBudWxsIDogY29tcG9uZW50T3JFbGVtZW50LnN0YXRlTm9kZTtcbiAgICAgIHJldHVybiBjb21wb25lbnRPckVsZW1lbnQ7XG4gICAgfTtcbiAgICBpZiAoXG4gICAgICAhKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGludGVybmFscyA9IHtcbiAgICAgICAgICBidW5kbGVUeXBlOiAxLFxuICAgICAgICAgIHZlcnNpb246IFwiMTkuMC4wXCIsXG4gICAgICAgICAgcmVuZGVyZXJQYWNrYWdlTmFtZTogXCJyZWFjdC1kb21cIixcbiAgICAgICAgICBjdXJyZW50RGlzcGF0Y2hlclJlZjogUmVhY3RTaGFyZWRJbnRlcm5hbHMsXG4gICAgICAgICAgZmluZEZpYmVyQnlIb3N0SW5zdGFuY2U6IGdldENsb3Nlc3RJbnN0YW5jZUZyb21Ob2RlLFxuICAgICAgICAgIHJlY29uY2lsZXJWZXJzaW9uOiBcIjE5LjAuMFwiXG4gICAgICAgIH07XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZUhvb2tTdGF0ZSA9IG92ZXJyaWRlSG9va1N0YXRlO1xuICAgICAgICBpbnRlcm5hbHMub3ZlcnJpZGVIb29rU3RhdGVEZWxldGVQYXRoID0gb3ZlcnJpZGVIb29rU3RhdGVEZWxldGVQYXRoO1xuICAgICAgICBpbnRlcm5hbHMub3ZlcnJpZGVIb29rU3RhdGVSZW5hbWVQYXRoID0gb3ZlcnJpZGVIb29rU3RhdGVSZW5hbWVQYXRoO1xuICAgICAgICBpbnRlcm5hbHMub3ZlcnJpZGVQcm9wcyA9IG92ZXJyaWRlUHJvcHM7XG4gICAgICAgIGludGVybmFscy5vdmVycmlkZVByb3BzRGVsZXRlUGF0aCA9IG92ZXJyaWRlUHJvcHNEZWxldGVQYXRoO1xuICAgICAgICBpbnRlcm5hbHMub3ZlcnJpZGVQcm9wc1JlbmFtZVBhdGggPSBvdmVycmlkZVByb3BzUmVuYW1lUGF0aDtcbiAgICAgICAgaW50ZXJuYWxzLnNjaGVkdWxlVXBkYXRlID0gc2NoZWR1bGVVcGRhdGU7XG4gICAgICAgIGludGVybmFscy5zZXRFcnJvckhhbmRsZXIgPSBzZXRFcnJvckhhbmRsZXI7XG4gICAgICAgIGludGVybmFscy5zZXRTdXNwZW5zZUhhbmRsZXIgPSBzZXRTdXNwZW5zZUhhbmRsZXI7XG4gICAgICAgIGludGVybmFscy5zY2hlZHVsZVJlZnJlc2ggPSBzY2hlZHVsZVJlZnJlc2g7XG4gICAgICAgIGludGVybmFscy5zY2hlZHVsZVJvb3QgPSBzY2hlZHVsZVJvb3Q7XG4gICAgICAgIGludGVybmFscy5zZXRSZWZyZXNoSGFuZGxlciA9IHNldFJlZnJlc2hIYW5kbGVyO1xuICAgICAgICBpbnRlcm5hbHMuZ2V0Q3VycmVudEZpYmVyID0gZ2V0Q3VycmVudEZpYmVyRm9yRGV2VG9vbHM7XG4gICAgICAgIGludGVybmFscy5nZXRMYW5lTGFiZWxNYXAgPSBnZXRMYW5lTGFiZWxNYXA7XG4gICAgICAgIGludGVybmFscy5pbmplY3RQcm9maWxpbmdIb29rcyA9IGluamVjdFByb2ZpbGluZ0hvb2tzO1xuICAgICAgICByZXR1cm4gaW5qZWN0SW50ZXJuYWxzKGludGVybmFscyk7XG4gICAgICB9KSgpICYmXG4gICAgICBjYW5Vc2VET00gJiZcbiAgICAgIHdpbmRvdy50b3AgPT09IHdpbmRvdy5zZWxmICYmXG4gICAgICAoKC0xIDwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiQ2hyb21lXCIpICYmXG4gICAgICAgIC0xID09PSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJFZGdlXCIpKSB8fFxuICAgICAgICAtMSA8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkZpcmVmb3hcIikpXG4gICAgKSB7XG4gICAgICB2YXIgcHJvdG9jb2wgPSB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2w7XG4gICAgICAvXihodHRwcz98ZmlsZSk6JC8udGVzdChwcm90b2NvbCkgJiZcbiAgICAgICAgY29uc29sZS5pbmZvKFxuICAgICAgICAgIFwiJWNEb3dubG9hZCB0aGUgUmVhY3QgRGV2VG9vbHMgZm9yIGEgYmV0dGVyIGRldmVsb3BtZW50IGV4cGVyaWVuY2U6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcmVhY3QtZGV2dG9vbHNcIiArXG4gICAgICAgICAgICAoXCJmaWxlOlwiID09PSBwcm90b2NvbFxuICAgICAgICAgICAgICA/IFwiXFxuWW91IG1pZ2h0IG5lZWQgdG8gdXNlIGEgbG9jYWwgSFRUUCBzZXJ2ZXIgKGluc3RlYWQgb2YgZmlsZTovLyk6IGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvcmVhY3QtZGV2dG9vbHMtZmFxXCJcbiAgICAgICAgICAgICAgOiBcIlwiKSxcbiAgICAgICAgICBcImZvbnQtd2VpZ2h0OmJvbGRcIlxuICAgICAgICApO1xuICAgIH1cbiAgICBleHBvcnRzLmNyZWF0ZVJvb3QgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICBpZiAoIWlzVmFsaWRDb250YWluZXIoY29udGFpbmVyKSlcbiAgICAgICAgdGhyb3cgRXJyb3IoXCJUYXJnZXQgY29udGFpbmVyIGlzIG5vdCBhIERPTSBlbGVtZW50LlwiKTtcbiAgICAgIHdhcm5JZlJlYWN0RE9NQ29udGFpbmVySW5ERVYoY29udGFpbmVyKTtcbiAgICAgIHZhciBpc1N0cmljdE1vZGUgPSAhMSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCA9IFwiXCIsXG4gICAgICAgIG9uVW5jYXVnaHRFcnJvciA9IGRlZmF1bHRPblVuY2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uQ2F1Z2h0RXJyb3IgPSBkZWZhdWx0T25DYXVnaHRFcnJvcixcbiAgICAgICAgb25SZWNvdmVyYWJsZUVycm9yID0gZGVmYXVsdE9uUmVjb3ZlcmFibGVFcnJvcixcbiAgICAgICAgdHJhbnNpdGlvbkNhbGxiYWNrcyA9IG51bGw7XG4gICAgICBudWxsICE9PSBvcHRpb25zICYmXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICAob3B0aW9ucy5oeWRyYXRlXG4gICAgICAgICAgPyBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgIFwiaHlkcmF0ZSB0aHJvdWdoIGNyZWF0ZVJvb3QgaXMgZGVwcmVjYXRlZC4gVXNlIFJlYWN0RE9NQ2xpZW50Lmh5ZHJhdGVSb290KGNvbnRhaW5lciwgPEFwcCAvPikgaW5zdGVhZC5cIlxuICAgICAgICAgICAgKVxuICAgICAgICAgIDogXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9wdGlvbnMgJiZcbiAgICAgICAgICAgIG51bGwgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgICAgIG9wdGlvbnMuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRSAmJlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgXCJZb3UgcGFzc2VkIGEgSlNYIGVsZW1lbnQgdG8gY3JlYXRlUm9vdC4gWW91IHByb2JhYmx5IG1lYW50IHRvIGNhbGwgcm9vdC5yZW5kZXIgaW5zdGVhZC4gRXhhbXBsZSB1c2FnZTpcXG5cXG4gIGxldCByb290ID0gY3JlYXRlUm9vdChkb21Db250YWluZXIpO1xcbiAgcm9vdC5yZW5kZXIoPEFwcCAvPik7XCJcbiAgICAgICAgICAgICksXG4gICAgICAgICEwID09PSBvcHRpb25zLnVuc3RhYmxlX3N0cmljdE1vZGUgJiYgKGlzU3RyaWN0TW9kZSA9ICEwKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLmlkZW50aWZpZXJQcmVmaXggJiZcbiAgICAgICAgICAoaWRlbnRpZmllclByZWZpeCA9IG9wdGlvbnMuaWRlbnRpZmllclByZWZpeCksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vblVuY2F1Z2h0RXJyb3IgJiZcbiAgICAgICAgICAob25VbmNhdWdodEVycm9yID0gb3B0aW9ucy5vblVuY2F1Z2h0RXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25DYXVnaHRFcnJvciAmJlxuICAgICAgICAgIChvbkNhdWdodEVycm9yID0gb3B0aW9ucy5vbkNhdWdodEVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uUmVjb3ZlcmFibGVFcnJvciAmJlxuICAgICAgICAgIChvblJlY292ZXJhYmxlRXJyb3IgPSBvcHRpb25zLm9uUmVjb3ZlcmFibGVFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy51bnN0YWJsZV90cmFuc2l0aW9uQ2FsbGJhY2tzICYmXG4gICAgICAgICAgKHRyYW5zaXRpb25DYWxsYmFja3MgPSBvcHRpb25zLnVuc3RhYmxlX3RyYW5zaXRpb25DYWxsYmFja3MpKTtcbiAgICAgIG9wdGlvbnMgPSBjcmVhdGVGaWJlclJvb3QoXG4gICAgICAgIGNvbnRhaW5lcixcbiAgICAgICAgMSxcbiAgICAgICAgITEsXG4gICAgICAgIG51bGwsXG4gICAgICAgIG51bGwsXG4gICAgICAgIGlzU3RyaWN0TW9kZSxcbiAgICAgICAgaWRlbnRpZmllclByZWZpeCxcbiAgICAgICAgb25VbmNhdWdodEVycm9yLFxuICAgICAgICBvbkNhdWdodEVycm9yLFxuICAgICAgICBvblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICAgIHRyYW5zaXRpb25DYWxsYmFja3MsXG4gICAgICAgIG51bGxcbiAgICAgICk7XG4gICAgICBjb250YWluZXJbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV0gPSBvcHRpb25zLmN1cnJlbnQ7XG4gICAgICBsaXN0ZW5Ub0FsbFN1cHBvcnRlZEV2ZW50cyhcbiAgICAgICAgOCA9PT0gY29udGFpbmVyLm5vZGVUeXBlID8gY29udGFpbmVyLnBhcmVudE5vZGUgOiBjb250YWluZXJcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV3IFJlYWN0RE9NUm9vdChvcHRpb25zKTtcbiAgICB9O1xuICAgIGV4cG9ydHMuaHlkcmF0ZVJvb3QgPSBmdW5jdGlvbiAoY29udGFpbmVyLCBpbml0aWFsQ2hpbGRyZW4sIG9wdGlvbnMpIHtcbiAgICAgIGlmICghaXNWYWxpZENvbnRhaW5lcihjb250YWluZXIpKVxuICAgICAgICB0aHJvdyBFcnJvcihcIlRhcmdldCBjb250YWluZXIgaXMgbm90IGEgRE9NIGVsZW1lbnQuXCIpO1xuICAgICAgd2FybklmUmVhY3RET01Db250YWluZXJJbkRFVihjb250YWluZXIpO1xuICAgICAgdm9pZCAwID09PSBpbml0aWFsQ2hpbGRyZW4gJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcIk11c3QgcHJvdmlkZSBpbml0aWFsIGNoaWxkcmVuIGFzIHNlY29uZCBhcmd1bWVudCB0byBoeWRyYXRlUm9vdC4gRXhhbXBsZSB1c2FnZTogaHlkcmF0ZVJvb3QoZG9tQ29udGFpbmVyLCA8QXBwIC8+KVwiXG4gICAgICAgICk7XG4gICAgICB2YXIgaXNTdHJpY3RNb2RlID0gITEsXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXggPSBcIlwiLFxuICAgICAgICBvblVuY2F1Z2h0RXJyb3IgPSBkZWZhdWx0T25VbmNhdWdodEVycm9yLFxuICAgICAgICBvbkNhdWdodEVycm9yID0gZGVmYXVsdE9uQ2F1Z2h0RXJyb3IsXG4gICAgICAgIG9uUmVjb3ZlcmFibGVFcnJvciA9IGRlZmF1bHRPblJlY292ZXJhYmxlRXJyb3IsXG4gICAgICAgIHRyYW5zaXRpb25DYWxsYmFja3MgPSBudWxsLFxuICAgICAgICBmb3JtU3RhdGUgPSBudWxsO1xuICAgICAgbnVsbCAhPT0gb3B0aW9ucyAmJlxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMgJiZcbiAgICAgICAgKCEwID09PSBvcHRpb25zLnVuc3RhYmxlX3N0cmljdE1vZGUgJiYgKGlzU3RyaWN0TW9kZSA9ICEwKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLmlkZW50aWZpZXJQcmVmaXggJiZcbiAgICAgICAgICAoaWRlbnRpZmllclByZWZpeCA9IG9wdGlvbnMuaWRlbnRpZmllclByZWZpeCksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy5vblVuY2F1Z2h0RXJyb3IgJiZcbiAgICAgICAgICAob25VbmNhdWdodEVycm9yID0gb3B0aW9ucy5vblVuY2F1Z2h0RXJyb3IpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMub25DYXVnaHRFcnJvciAmJlxuICAgICAgICAgIChvbkNhdWdodEVycm9yID0gb3B0aW9ucy5vbkNhdWdodEVycm9yKSxcbiAgICAgICAgdm9pZCAwICE9PSBvcHRpb25zLm9uUmVjb3ZlcmFibGVFcnJvciAmJlxuICAgICAgICAgIChvblJlY292ZXJhYmxlRXJyb3IgPSBvcHRpb25zLm9uUmVjb3ZlcmFibGVFcnJvciksXG4gICAgICAgIHZvaWQgMCAhPT0gb3B0aW9ucy51bnN0YWJsZV90cmFuc2l0aW9uQ2FsbGJhY2tzICYmXG4gICAgICAgICAgKHRyYW5zaXRpb25DYWxsYmFja3MgPSBvcHRpb25zLnVuc3RhYmxlX3RyYW5zaXRpb25DYWxsYmFja3MpLFxuICAgICAgICB2b2lkIDAgIT09IG9wdGlvbnMuZm9ybVN0YXRlICYmIChmb3JtU3RhdGUgPSBvcHRpb25zLmZvcm1TdGF0ZSkpO1xuICAgICAgaW5pdGlhbENoaWxkcmVuID0gY3JlYXRlRmliZXJSb290KFxuICAgICAgICBjb250YWluZXIsXG4gICAgICAgIDEsXG4gICAgICAgICEwLFxuICAgICAgICBpbml0aWFsQ2hpbGRyZW4sXG4gICAgICAgIG51bGwgIT0gb3B0aW9ucyA/IG9wdGlvbnMgOiBudWxsLFxuICAgICAgICBpc1N0cmljdE1vZGUsXG4gICAgICAgIGlkZW50aWZpZXJQcmVmaXgsXG4gICAgICAgIG9uVW5jYXVnaHRFcnJvcixcbiAgICAgICAgb25DYXVnaHRFcnJvcixcbiAgICAgICAgb25SZWNvdmVyYWJsZUVycm9yLFxuICAgICAgICB0cmFuc2l0aW9uQ2FsbGJhY2tzLFxuICAgICAgICBmb3JtU3RhdGVcbiAgICAgICk7XG4gICAgICBpbml0aWFsQ2hpbGRyZW4uY29udGV4dCA9IGdldENvbnRleHRGb3JTdWJ0cmVlKG51bGwpO1xuICAgICAgb3B0aW9ucyA9IGluaXRpYWxDaGlsZHJlbi5jdXJyZW50O1xuICAgICAgaXNTdHJpY3RNb2RlID0gcmVxdWVzdFVwZGF0ZUxhbmUob3B0aW9ucyk7XG4gICAgICBpZGVudGlmaWVyUHJlZml4ID0gY3JlYXRlVXBkYXRlKGlzU3RyaWN0TW9kZSk7XG4gICAgICBpZGVudGlmaWVyUHJlZml4LmNhbGxiYWNrID0gbnVsbDtcbiAgICAgIGVucXVldWVVcGRhdGUob3B0aW9ucywgaWRlbnRpZmllclByZWZpeCwgaXNTdHJpY3RNb2RlKTtcbiAgICAgIGluaXRpYWxDaGlsZHJlbi5jdXJyZW50LmxhbmVzID0gaXNTdHJpY3RNb2RlO1xuICAgICAgbWFya1Jvb3RVcGRhdGVkJDEoaW5pdGlhbENoaWxkcmVuLCBpc1N0cmljdE1vZGUpO1xuICAgICAgZW5zdXJlUm9vdElzU2NoZWR1bGVkKGluaXRpYWxDaGlsZHJlbik7XG4gICAgICBjb250YWluZXJbaW50ZXJuYWxDb250YWluZXJJbnN0YW5jZUtleV0gPSBpbml0aWFsQ2hpbGRyZW4uY3VycmVudDtcbiAgICAgIGxpc3RlblRvQWxsU3VwcG9ydGVkRXZlbnRzKGNvbnRhaW5lcik7XG4gICAgICByZXR1cm4gbmV3IFJlYWN0RE9NSHlkcmF0aW9uUm9vdChpbml0aWFsQ2hpbGRyZW4pO1xuICAgIH07XG4gICAgZXhwb3J0cy52ZXJzaW9uID0gXCIxOS4wLjBcIjtcbiAgICBcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICYmXG4gICAgICBcImZ1bmN0aW9uXCIgPT09XG4gICAgICAgIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AgJiZcbiAgICAgIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXy5yZWdpc3RlckludGVybmFsTW9kdWxlU3RvcChFcnJvcigpKTtcbiAgfSkoKTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBjaGVja0RDRSgpIHtcbiAgLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuICBpZiAoXG4gICAgdHlwZW9mIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyA9PT0gJ3VuZGVmaW5lZCcgfHxcbiAgICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFICE9PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIC8vIFRoaXMgYnJhbmNoIGlzIHVucmVhY2hhYmxlIGJlY2F1c2UgdGhpcyBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZFxuICAgIC8vIGluIHByb2R1Y3Rpb24sIGJ1dCB0aGUgY29uZGl0aW9uIGlzIHRydWUgb25seSBpbiBkZXZlbG9wbWVudC5cbiAgICAvLyBUaGVyZWZvcmUgaWYgdGhlIGJyYW5jaCBpcyBzdGlsbCBoZXJlLCBkZWFkIGNvZGUgZWxpbWluYXRpb24gd2Fzbid0XG4gICAgLy8gcHJvcGVybHkgYXBwbGllZC5cbiAgICAvLyBEb24ndCBjaGFuZ2UgdGhlIG1lc3NhZ2UuIFJlYWN0IERldlRvb2xzIHJlbGllcyBvbiBpdC4gQWxzbyBtYWtlIHN1cmVcbiAgICAvLyB0aGlzIG1lc3NhZ2UgZG9lc24ndCBvY2N1ciBlbHNld2hlcmUgaW4gdGhpcyBmdW5jdGlvbiwgb3IgaXQgd2lsbCBjYXVzZVxuICAgIC8vIGEgZmFsc2UgcG9zaXRpdmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdeX14nKTtcbiAgfVxuICB0cnkge1xuICAgIC8vIFZlcmlmeSB0aGF0IHRoZSBjb2RlIGFib3ZlIGhhcyBiZWVuIGRlYWQgY29kZSBlbGltaW5hdGVkIChEQ0UnZCkuXG4gICAgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLmNoZWNrRENFKGNoZWNrRENFKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gRGV2VG9vbHMgc2hvdWxkbid0IGNyYXNoIFJlYWN0LCBubyBtYXR0ZXIgd2hhdC5cbiAgICAvLyBXZSBzaG91bGQgc3RpbGwgcmVwb3J0IGluIGNhc2Ugd2UgYnJlYWsgdGhpcyBjb2RlLlxuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfVxufVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAvLyBEQ0UgY2hlY2sgc2hvdWxkIGhhcHBlbiBiZWZvcmUgUmVhY3RET00gYnVuZGxlIGV4ZWN1dGVzIHNvIHRoYXRcbiAgLy8gRGV2VG9vbHMgY2FuIHJlcG9ydCBiYWQgbWluaWZpY2F0aW9uIGR1cmluZyBpbmplY3Rpb24uXG4gIGNoZWNrRENFKCk7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtZG9tLWNsaWVudC5wcm9kdWN0aW9uLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWRvbS1jbGllbnQuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsCiAgICAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnBhcnNlID0gcGFyc2U7XG5leHBvcnRzLnNlcmlhbGl6ZSA9IHNlcmlhbGl6ZTtcbi8qKlxuICogUmVnRXhwIHRvIG1hdGNoIGNvb2tpZS1uYW1lIGluIFJGQyA2MjY1IHNlYyA0LjEuMVxuICogVGhpcyByZWZlcnMgb3V0IHRvIHRoZSBvYnNvbGV0ZWQgZGVmaW5pdGlvbiBvZiB0b2tlbiBpbiBSRkMgMjYxNiBzZWMgMi4yXG4gKiB3aGljaCBoYXMgYmVlbiByZXBsYWNlZCBieSB0aGUgdG9rZW4gZGVmaW5pdGlvbiBpbiBSRkMgNzIzMCBhcHBlbmRpeCBCLlxuICpcbiAqIGNvb2tpZS1uYW1lICAgICAgID0gdG9rZW5cbiAqIHRva2VuICAgICAgICAgICAgID0gMSp0Y2hhclxuICogdGNoYXIgICAgICAgICAgICAgPSBcIiFcIiAvIFwiI1wiIC8gXCIkXCIgLyBcIiVcIiAvIFwiJlwiIC8gXCInXCIgL1xuICogICAgICAgICAgICAgICAgICAgICBcIipcIiAvIFwiK1wiIC8gXCItXCIgLyBcIi5cIiAvIFwiXlwiIC8gXCJfXCIgL1xuICogICAgICAgICAgICAgICAgICAgICBcImBcIiAvIFwifFwiIC8gXCJ+XCIgLyBESUdJVCAvIEFMUEhBXG4gKlxuICogTm90ZTogQWxsb3dpbmcgbW9yZSBjaGFyYWN0ZXJzIC0gaHR0cHM6Ly9naXRodWIuY29tL2pzaHR0cC9jb29raWUvaXNzdWVzLzE5MVxuICogQWxsb3cgc2FtZSByYW5nZSBhcyBjb29raWUgdmFsdWUsIGV4Y2VwdCBgPWAsIHdoaWNoIGRlbGltaXRzIGVuZCBvZiBuYW1lLlxuICovXG5jb25zdCBjb29raWVOYW1lUmVnRXhwID0gL15bXFx1MDAyMS1cXHUwMDNBXFx1MDAzQ1xcdTAwM0UtXFx1MDA3RV0rJC87XG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBjb29raWUtdmFsdWUgaW4gUkZDIDYyNjUgc2VjIDQuMS4xXG4gKlxuICogY29va2llLXZhbHVlICAgICAgPSAqY29va2llLW9jdGV0IC8gKCBEUVVPVEUgKmNvb2tpZS1vY3RldCBEUVVPVEUgKVxuICogY29va2llLW9jdGV0ICAgICAgPSAleDIxIC8gJXgyMy0yQiAvICV4MkQtM0EgLyAleDNDLTVCIC8gJXg1RC03RVxuICogICAgICAgICAgICAgICAgICAgICA7IFVTLUFTQ0lJIGNoYXJhY3RlcnMgZXhjbHVkaW5nIENUTHMsXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgd2hpdGVzcGFjZSBEUVVPVEUsIGNvbW1hLCBzZW1pY29sb24sXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgYW5kIGJhY2tzbGFzaFxuICpcbiAqIEFsbG93aW5nIG1vcmUgY2hhcmFjdGVyczogaHR0cHM6Ly9naXRodWIuY29tL2pzaHR0cC9jb29raWUvaXNzdWVzLzE5MVxuICogQ29tbWEsIGJhY2tzbGFzaCwgYW5kIERRVU9URSBhcmUgbm90IHBhcnQgb2YgdGhlIHBhcnNpbmcgYWxnb3JpdGhtLlxuICovXG5jb25zdCBjb29raWVWYWx1ZVJlZ0V4cCA9IC9eW1xcdTAwMjEtXFx1MDAzQVxcdTAwM0MtXFx1MDA3RV0qJC87XG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBkb21haW4tdmFsdWUgaW4gUkZDIDYyNjUgc2VjIDQuMS4xXG4gKlxuICogZG9tYWluLXZhbHVlICAgICAgPSA8c3ViZG9tYWluPlxuICogICAgICAgICAgICAgICAgICAgICA7IGRlZmluZWQgaW4gW1JGQzEwMzRdLCBTZWN0aW9uIDMuNSwgYXNcbiAqICAgICAgICAgICAgICAgICAgICAgOyBlbmhhbmNlZCBieSBbUkZDMTEyM10sIFNlY3Rpb24gMi4xXG4gKiA8c3ViZG9tYWluPiAgICAgICA9IDxsYWJlbD4gfCA8c3ViZG9tYWluPiBcIi5cIiA8bGFiZWw+XG4gKiA8bGFiZWw+ICAgICAgICAgICA9IDxsZXQtZGlnPiBbIFsgPGxkaC1zdHI+IF0gPGxldC1kaWc+IF1cbiAqICAgICAgICAgICAgICAgICAgICAgTGFiZWxzIG11c3QgYmUgNjMgY2hhcmFjdGVycyBvciBsZXNzLlxuICogICAgICAgICAgICAgICAgICAgICAnbGV0LWRpZycgbm90ICdsZXR0ZXInIGluIHRoZSBmaXJzdCBjaGFyLCBwZXIgUkZDMTEyM1xuICogPGxkaC1zdHI+ICAgICAgICAgPSA8bGV0LWRpZy1oeXA+IHwgPGxldC1kaWctaHlwPiA8bGRoLXN0cj5cbiAqIDxsZXQtZGlnLWh5cD4gICAgID0gPGxldC1kaWc+IHwgXCItXCJcbiAqIDxsZXQtZGlnPiAgICAgICAgID0gPGxldHRlcj4gfCA8ZGlnaXQ+XG4gKiA8bGV0dGVyPiAgICAgICAgICA9IGFueSBvbmUgb2YgdGhlIDUyIGFscGhhYmV0aWMgY2hhcmFjdGVycyBBIHRocm91Z2ggWiBpblxuICogICAgICAgICAgICAgICAgICAgICB1cHBlciBjYXNlIGFuZCBhIHRocm91Z2ggeiBpbiBsb3dlciBjYXNlXG4gKiA8ZGlnaXQ+ICAgICAgICAgICA9IGFueSBvbmUgb2YgdGhlIHRlbiBkaWdpdHMgMCB0aHJvdWdoIDlcbiAqXG4gKiBLZWVwIHN1cHBvcnQgZm9yIGxlYWRpbmcgZG90OiBodHRwczovL2dpdGh1Yi5jb20vanNodHRwL2Nvb2tpZS9pc3N1ZXMvMTczXG4gKlxuICogPiAoTm90ZSB0aGF0IGEgbGVhZGluZyAleDJFIChcIi5cIiksIGlmIHByZXNlbnQsIGlzIGlnbm9yZWQgZXZlbiB0aG91Z2ggdGhhdFxuICogY2hhcmFjdGVyIGlzIG5vdCBwZXJtaXR0ZWQsIGJ1dCBhIHRyYWlsaW5nICV4MkUgKFwiLlwiKSwgaWYgcHJlc2VudCwgd2lsbFxuICogY2F1c2UgdGhlIHVzZXIgYWdlbnQgdG8gaWdub3JlIHRoZSBhdHRyaWJ1dGUuKVxuICovXG5jb25zdCBkb21haW5WYWx1ZVJlZ0V4cCA9IC9eKFsuXT9bYS16MC05XShbYS16MC05LV17MCw2MX1bYS16MC05XSk/KShbLl1bYS16MC05XShbYS16MC05LV17MCw2MX1bYS16MC05XSk/KSokL2k7XG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBwYXRoLXZhbHVlIGluIFJGQyA2MjY1IHNlYyA0LjEuMVxuICpcbiAqIHBhdGgtdmFsdWUgICAgICAgID0gPGFueSBDSEFSIGV4Y2VwdCBDVExzIG9yIFwiO1wiPlxuICogQ0hBUiAgICAgICAgICAgICAgPSAleDAxLTdGXG4gKiAgICAgICAgICAgICAgICAgICAgIDsgZGVmaW5lZCBpbiBSRkMgNTIzNCBhcHBlbmRpeCBCLjFcbiAqL1xuY29uc3QgcGF0aFZhbHVlUmVnRXhwID0gL15bXFx1MDAyMC1cXHUwMDNBXFx1MDAzRC1cXHUwMDdFXSokLztcbmNvbnN0IF9fdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuY29uc3QgTnVsbE9iamVjdCA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4ge1xuICAgIGNvbnN0IEMgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgQy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHJldHVybiBDO1xufSkoKTtcbi8qKlxuICogUGFyc2UgYSBjb29raWUgaGVhZGVyLlxuICpcbiAqIFBhcnNlIHRoZSBnaXZlbiBjb29raWUgaGVhZGVyIHN0cmluZyBpbnRvIGFuIG9iamVjdFxuICogVGhlIG9iamVjdCBoYXMgdGhlIHZhcmlvdXMgY29va2llcyBhcyBrZXlzKG5hbWVzKSA9PiB2YWx1ZXNcbiAqL1xuZnVuY3Rpb24gcGFyc2Uoc3RyLCBvcHRpb25zKSB7XG4gICAgY29uc3Qgb2JqID0gbmV3IE51bGxPYmplY3QoKTtcbiAgICBjb25zdCBsZW4gPSBzdHIubGVuZ3RoO1xuICAgIC8vIFJGQyA2MjY1IHNlYyA0LjEuMSwgUkZDIDI2MTYgMi4yIGRlZmluZXMgYSBjb29raWUgbmFtZSBjb25zaXN0cyBvZiBvbmUgY2hhciBtaW5pbXVtLCBwbHVzICc9Jy5cbiAgICBpZiAobGVuIDwgMilcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICBjb25zdCBkZWMgPSBvcHRpb25zPy5kZWNvZGUgfHwgZGVjb2RlO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgZG8ge1xuICAgICAgICBjb25zdCBlcUlkeCA9IHN0ci5pbmRleE9mKFwiPVwiLCBpbmRleCk7XG4gICAgICAgIGlmIChlcUlkeCA9PT0gLTEpXG4gICAgICAgICAgICBicmVhazsgLy8gTm8gbW9yZSBjb29raWUgcGFpcnMuXG4gICAgICAgIGNvbnN0IGNvbG9uSWR4ID0gc3RyLmluZGV4T2YoXCI7XCIsIGluZGV4KTtcbiAgICAgICAgY29uc3QgZW5kSWR4ID0gY29sb25JZHggPT09IC0xID8gbGVuIDogY29sb25JZHg7XG4gICAgICAgIGlmIChlcUlkeCA+IGVuZElkeCkge1xuICAgICAgICAgICAgLy8gYmFja3RyYWNrIG9uIHByaW9yIHNlbWljb2xvblxuICAgICAgICAgICAgaW5kZXggPSBzdHIubGFzdEluZGV4T2YoXCI7XCIsIGVxSWR4IC0gMSkgKyAxO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2V5U3RhcnRJZHggPSBzdGFydEluZGV4KHN0ciwgaW5kZXgsIGVxSWR4KTtcbiAgICAgICAgY29uc3Qga2V5RW5kSWR4ID0gZW5kSW5kZXgoc3RyLCBlcUlkeCwga2V5U3RhcnRJZHgpO1xuICAgICAgICBjb25zdCBrZXkgPSBzdHIuc2xpY2Uoa2V5U3RhcnRJZHgsIGtleUVuZElkeCk7XG4gICAgICAgIC8vIG9ubHkgYXNzaWduIG9uY2VcbiAgICAgICAgaWYgKG9ialtrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCB2YWxTdGFydElkeCA9IHN0YXJ0SW5kZXgoc3RyLCBlcUlkeCArIDEsIGVuZElkeCk7XG4gICAgICAgICAgICBsZXQgdmFsRW5kSWR4ID0gZW5kSW5kZXgoc3RyLCBlbmRJZHgsIHZhbFN0YXJ0SWR4KTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZGVjKHN0ci5zbGljZSh2YWxTdGFydElkeCwgdmFsRW5kSWR4KSk7XG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4ID0gZW5kSWR4ICsgMTtcbiAgICB9IHdoaWxlIChpbmRleCA8IGxlbik7XG4gICAgcmV0dXJuIG9iajtcbn1cbmZ1bmN0aW9uIHN0YXJ0SW5kZXgoc3RyLCBpbmRleCwgbWF4KSB7XG4gICAgZG8ge1xuICAgICAgICBjb25zdCBjb2RlID0gc3RyLmNoYXJDb2RlQXQoaW5kZXgpO1xuICAgICAgICBpZiAoY29kZSAhPT0gMHgyMCAvKiAgICovICYmIGNvZGUgIT09IDB4MDkgLyogXFx0ICovKVxuICAgICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0gd2hpbGUgKCsraW5kZXggPCBtYXgpO1xuICAgIHJldHVybiBtYXg7XG59XG5mdW5jdGlvbiBlbmRJbmRleChzdHIsIGluZGV4LCBtaW4pIHtcbiAgICB3aGlsZSAoaW5kZXggPiBtaW4pIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHN0ci5jaGFyQ29kZUF0KC0taW5kZXgpO1xuICAgICAgICBpZiAoY29kZSAhPT0gMHgyMCAvKiAgICovICYmIGNvZGUgIT09IDB4MDkgLyogXFx0ICovKVxuICAgICAgICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICB9XG4gICAgcmV0dXJuIG1pbjtcbn1cbi8qKlxuICogU2VyaWFsaXplIGRhdGEgaW50byBhIGNvb2tpZSBoZWFkZXIuXG4gKlxuICogU2VyaWFsaXplIGEgbmFtZSB2YWx1ZSBwYWlyIGludG8gYSBjb29raWUgc3RyaW5nIHN1aXRhYmxlIGZvclxuICogaHR0cCBoZWFkZXJzLiBBbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdCBzcGVjaWZpZXMgY29va2llIHBhcmFtZXRlcnMuXG4gKlxuICogc2VyaWFsaXplKCdmb28nLCAnYmFyJywgeyBodHRwT25seTogdHJ1ZSB9KVxuICogICA9PiBcImZvbz1iYXI7IGh0dHBPbmx5XCJcbiAqL1xuZnVuY3Rpb24gc2VyaWFsaXplKG5hbWUsIHZhbCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGVuYyA9IG9wdGlvbnM/LmVuY29kZSB8fCBlbmNvZGVVUklDb21wb25lbnQ7XG4gICAgaWYgKCFjb29raWVOYW1lUmVnRXhwLnRlc3QobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgYXJndW1lbnQgbmFtZSBpcyBpbnZhbGlkOiAke25hbWV9YCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gZW5jKHZhbCk7XG4gICAgaWYgKCFjb29raWVWYWx1ZVJlZ0V4cC50ZXN0KHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBhcmd1bWVudCB2YWwgaXMgaW52YWxpZDogJHt2YWx9YCk7XG4gICAgfVxuICAgIGxldCBzdHIgPSBuYW1lICsgXCI9XCIgKyB2YWx1ZTtcbiAgICBpZiAoIW9wdGlvbnMpXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgaWYgKG9wdGlvbnMubWF4QWdlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKG9wdGlvbnMubWF4QWdlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIG1heEFnZSBpcyBpbnZhbGlkOiAke29wdGlvbnMubWF4QWdlfWApO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIjsgTWF4LUFnZT1cIiArIG9wdGlvbnMubWF4QWdlO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5kb21haW4pIHtcbiAgICAgICAgaWYgKCFkb21haW5WYWx1ZVJlZ0V4cC50ZXN0KG9wdGlvbnMuZG9tYWluKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIGRvbWFpbiBpcyBpbnZhbGlkOiAke29wdGlvbnMuZG9tYWlufWApO1xuICAgICAgICB9XG4gICAgICAgIHN0ciArPSBcIjsgRG9tYWluPVwiICsgb3B0aW9ucy5kb21haW47XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnBhdGgpIHtcbiAgICAgICAgaWYgKCFwYXRoVmFsdWVSZWdFeHAudGVzdChvcHRpb25zLnBhdGgpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBvcHRpb24gcGF0aCBpcyBpbnZhbGlkOiAke29wdGlvbnMucGF0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBzdHIgKz0gXCI7IFBhdGg9XCIgKyBvcHRpb25zLnBhdGg7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmV4cGlyZXMpIHtcbiAgICAgICAgaWYgKCFpc0RhdGUob3B0aW9ucy5leHBpcmVzKSB8fFxuICAgICAgICAgICAgIU51bWJlci5pc0Zpbml0ZShvcHRpb25zLmV4cGlyZXMudmFsdWVPZigpKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIGV4cGlyZXMgaXMgaW52YWxpZDogJHtvcHRpb25zLmV4cGlyZXN9YCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RyICs9IFwiOyBFeHBpcmVzPVwiICsgb3B0aW9ucy5leHBpcmVzLnRvVVRDU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLmh0dHBPbmx5KSB7XG4gICAgICAgIHN0ciArPSBcIjsgSHR0cE9ubHlcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuc2VjdXJlKSB7XG4gICAgICAgIHN0ciArPSBcIjsgU2VjdXJlXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zLnBhcnRpdGlvbmVkKSB7XG4gICAgICAgIHN0ciArPSBcIjsgUGFydGl0aW9uZWRcIjtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucHJpb3JpdHkpIHtcbiAgICAgICAgY29uc3QgcHJpb3JpdHkgPSB0eXBlb2Ygb3B0aW9ucy5wcmlvcml0eSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgPyBvcHRpb25zLnByaW9yaXR5LnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBzd2l0Y2ggKHByaW9yaXR5KSB7XG4gICAgICAgICAgICBjYXNlIFwibG93XCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBQcmlvcml0eT1Mb3dcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtZWRpdW1cIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFByaW9yaXR5PU1lZGl1bVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImhpZ2hcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFByaW9yaXR5PUhpZ2hcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIHByaW9yaXR5IGlzIGludmFsaWQ6ICR7b3B0aW9ucy5wcmlvcml0eX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zYW1lU2l0ZSkge1xuICAgICAgICBjb25zdCBzYW1lU2l0ZSA9IHR5cGVvZiBvcHRpb25zLnNhbWVTaXRlID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICA/IG9wdGlvbnMuc2FtZVNpdGUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgOiBvcHRpb25zLnNhbWVTaXRlO1xuICAgICAgICBzd2l0Y2ggKHNhbWVTaXRlKSB7XG4gICAgICAgICAgICBjYXNlIHRydWU6XG4gICAgICAgICAgICBjYXNlIFwic3RyaWN0XCI6XG4gICAgICAgICAgICAgICAgc3RyICs9IFwiOyBTYW1lU2l0ZT1TdHJpY3RcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJsYXhcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFNhbWVTaXRlPUxheFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFNhbWVTaXRlPU5vbmVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgb3B0aW9uIHNhbWVTaXRlIGlzIGludmFsaWQ6ICR7b3B0aW9ucy5zYW1lU2l0ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuLyoqXG4gKiBVUkwtZGVjb2RlIHN0cmluZyB2YWx1ZS4gT3B0aW1pemVkIHRvIHNraXAgbmF0aXZlIGNhbGwgd2hlbiBubyAlLlxuICovXG5mdW5jdGlvbiBkZWNvZGUoc3RyKSB7XG4gICAgaWYgKHN0ci5pbmRleE9mKFwiJVwiKSA9PT0gLTEpXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzdHIpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbn1cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHZhbHVlIGlzIGEgRGF0ZS5cbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICAgIHJldHVybiBfX3RvU3RyaW5nLmNhbGwodmFsKSA9PT0gXCJbb2JqZWN0IERhdGVdXCI7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLAogICAgIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGlzdGFuY2UgPSBleHBvcnRzLmNsb3Nlc3QgPSB2b2lkIDA7XG52YXIgcGVxID0gbmV3IFVpbnQzMkFycmF5KDB4MTAwMDApO1xudmFyIG15ZXJzXzMyID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgbiA9IGEubGVuZ3RoO1xuICAgIHZhciBtID0gYi5sZW5ndGg7XG4gICAgdmFyIGxzdCA9IDEgPDwgKG4gLSAxKTtcbiAgICB2YXIgcHYgPSAtMTtcbiAgICB2YXIgbXYgPSAwO1xuICAgIHZhciBzYyA9IG47XG4gICAgdmFyIGkgPSBuO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgcGVxW2EuY2hhckNvZGVBdChpKV0gfD0gMSA8PCBpO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgbTsgaSsrKSB7XG4gICAgICAgIHZhciBlcSA9IHBlcVtiLmNoYXJDb2RlQXQoaSldO1xuICAgICAgICB2YXIgeHYgPSBlcSB8IG12O1xuICAgICAgICBlcSB8PSAoKGVxICYgcHYpICsgcHYpIF4gcHY7XG4gICAgICAgIG12IHw9IH4oZXEgfCBwdik7XG4gICAgICAgIHB2ICY9IGVxO1xuICAgICAgICBpZiAobXYgJiBsc3QpIHtcbiAgICAgICAgICAgIHNjKys7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHB2ICYgbHN0KSB7XG4gICAgICAgICAgICBzYy0tO1xuICAgICAgICB9XG4gICAgICAgIG12ID0gKG12IDw8IDEpIHwgMTtcbiAgICAgICAgcHYgPSAocHYgPDwgMSkgfCB+KHh2IHwgbXYpO1xuICAgICAgICBtdiAmPSB4djtcbiAgICB9XG4gICAgaSA9IG47XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBwZXFbYS5jaGFyQ29kZUF0KGkpXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBzYztcbn07XG52YXIgbXllcnNfeCA9IGZ1bmN0aW9uIChiLCBhKSB7XG4gICAgdmFyIG4gPSBhLmxlbmd0aDtcbiAgICB2YXIgbSA9IGIubGVuZ3RoO1xuICAgIHZhciBtaGMgPSBbXTtcbiAgICB2YXIgcGhjID0gW107XG4gICAgdmFyIGhzaXplID0gTWF0aC5jZWlsKG4gLyAzMik7XG4gICAgdmFyIHZzaXplID0gTWF0aC5jZWlsKG0gLyAzMik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoc2l6ZTsgaSsrKSB7XG4gICAgICAgIHBoY1tpXSA9IC0xO1xuICAgICAgICBtaGNbaV0gPSAwO1xuICAgIH1cbiAgICB2YXIgaiA9IDA7XG4gICAgZm9yICg7IGogPCB2c2l6ZSAtIDE7IGorKykge1xuICAgICAgICB2YXIgbXZfMSA9IDA7XG4gICAgICAgIHZhciBwdl8xID0gLTE7XG4gICAgICAgIHZhciBzdGFydF8xID0gaiAqIDMyO1xuICAgICAgICB2YXIgdmxlbl8xID0gTWF0aC5taW4oMzIsIG0pICsgc3RhcnRfMTtcbiAgICAgICAgZm9yICh2YXIgayA9IHN0YXJ0XzE7IGsgPCB2bGVuXzE7IGsrKykge1xuICAgICAgICAgICAgcGVxW2IuY2hhckNvZGVBdChrKV0gfD0gMSA8PCBrO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZXEgPSBwZXFbYS5jaGFyQ29kZUF0KGkpXTtcbiAgICAgICAgICAgIHZhciBwYiA9IChwaGNbKGkgLyAzMikgfCAwXSA+Pj4gaSkgJiAxO1xuICAgICAgICAgICAgdmFyIG1iID0gKG1oY1soaSAvIDMyKSB8IDBdID4+PiBpKSAmIDE7XG4gICAgICAgICAgICB2YXIgeHYgPSBlcSB8IG12XzE7XG4gICAgICAgICAgICB2YXIgeGggPSAoKCgoZXEgfCBtYikgJiBwdl8xKSArIHB2XzEpIF4gcHZfMSkgfCBlcSB8IG1iO1xuICAgICAgICAgICAgdmFyIHBoID0gbXZfMSB8IH4oeGggfCBwdl8xKTtcbiAgICAgICAgICAgIHZhciBtaCA9IHB2XzEgJiB4aDtcbiAgICAgICAgICAgIGlmICgocGggPj4+IDMxKSBeIHBiKSB7XG4gICAgICAgICAgICAgICAgcGhjWyhpIC8gMzIpIHwgMF0gXj0gMSA8PCBpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChtaCA+Pj4gMzEpIF4gbWIpIHtcbiAgICAgICAgICAgICAgICBtaGNbKGkgLyAzMikgfCAwXSBePSAxIDw8IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwaCA9IChwaCA8PCAxKSB8IHBiO1xuICAgICAgICAgICAgbWggPSAobWggPDwgMSkgfCBtYjtcbiAgICAgICAgICAgIHB2XzEgPSBtaCB8IH4oeHYgfCBwaCk7XG4gICAgICAgICAgICBtdl8xID0gcGggJiB4djtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrID0gc3RhcnRfMTsgayA8IHZsZW5fMTsgaysrKSB7XG4gICAgICAgICAgICBwZXFbYi5jaGFyQ29kZUF0KGspXSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIG12ID0gMDtcbiAgICB2YXIgcHYgPSAtMTtcbiAgICB2YXIgc3RhcnQgPSBqICogMzI7XG4gICAgdmFyIHZsZW4gPSBNYXRoLm1pbigzMiwgbSAtIHN0YXJ0KSArIHN0YXJ0O1xuICAgIGZvciAodmFyIGsgPSBzdGFydDsgayA8IHZsZW47IGsrKykge1xuICAgICAgICBwZXFbYi5jaGFyQ29kZUF0KGspXSB8PSAxIDw8IGs7XG4gICAgfVxuICAgIHZhciBzY29yZSA9IG07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgdmFyIGVxID0gcGVxW2EuY2hhckNvZGVBdChpKV07XG4gICAgICAgIHZhciBwYiA9IChwaGNbKGkgLyAzMikgfCAwXSA+Pj4gaSkgJiAxO1xuICAgICAgICB2YXIgbWIgPSAobWhjWyhpIC8gMzIpIHwgMF0gPj4+IGkpICYgMTtcbiAgICAgICAgdmFyIHh2ID0gZXEgfCBtdjtcbiAgICAgICAgdmFyIHhoID0gKCgoKGVxIHwgbWIpICYgcHYpICsgcHYpIF4gcHYpIHwgZXEgfCBtYjtcbiAgICAgICAgdmFyIHBoID0gbXYgfCB+KHhoIHwgcHYpO1xuICAgICAgICB2YXIgbWggPSBwdiAmIHhoO1xuICAgICAgICBzY29yZSArPSAocGggPj4+IChtIC0gMSkpICYgMTtcbiAgICAgICAgc2NvcmUgLT0gKG1oID4+PiAobSAtIDEpKSAmIDE7XG4gICAgICAgIGlmICgocGggPj4+IDMxKSBeIHBiKSB7XG4gICAgICAgICAgICBwaGNbKGkgLyAzMikgfCAwXSBePSAxIDw8IGk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChtaCA+Pj4gMzEpIF4gbWIpIHtcbiAgICAgICAgICAgIG1oY1soaSAvIDMyKSB8IDBdIF49IDEgPDwgaTtcbiAgICAgICAgfVxuICAgICAgICBwaCA9IChwaCA8PCAxKSB8IHBiO1xuICAgICAgICBtaCA9IChtaCA8PCAxKSB8IG1iO1xuICAgICAgICBwdiA9IG1oIHwgfih4diB8IHBoKTtcbiAgICAgICAgbXYgPSBwaCAmIHh2O1xuICAgIH1cbiAgICBmb3IgKHZhciBrID0gc3RhcnQ7IGsgPCB2bGVuOyBrKyspIHtcbiAgICAgICAgcGVxW2IuY2hhckNvZGVBdChrKV0gPSAwO1xuICAgIH1cbiAgICByZXR1cm4gc2NvcmU7XG59O1xudmFyIGRpc3RhbmNlID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggPCBiLmxlbmd0aCkge1xuICAgICAgICB2YXIgdG1wID0gYjtcbiAgICAgICAgYiA9IGE7XG4gICAgICAgIGEgPSB0bXA7XG4gICAgfVxuICAgIGlmIChiLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYS5sZW5ndGg7XG4gICAgfVxuICAgIGlmIChhLmxlbmd0aCA8PSAzMikge1xuICAgICAgICByZXR1cm4gbXllcnNfMzIoYSwgYik7XG4gICAgfVxuICAgIHJldHVybiBteWVyc194KGEsIGIpO1xufTtcbmV4cG9ydHMuZGlzdGFuY2UgPSBkaXN0YW5jZTtcbnZhciBjbG9zZXN0ID0gZnVuY3Rpb24gKHN0ciwgYXJyKSB7XG4gICAgdmFyIG1pbl9kaXN0YW5jZSA9IEluZmluaXR5O1xuICAgIHZhciBtaW5faW5kZXggPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBkaXN0ID0gZGlzdGFuY2Uoc3RyLCBhcnJbaV0pO1xuICAgICAgICBpZiAoZGlzdCA8IG1pbl9kaXN0YW5jZSkge1xuICAgICAgICAgICAgbWluX2Rpc3RhbmNlID0gZGlzdDtcbiAgICAgICAgICAgIG1pbl9pbmRleCA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFyclttaW5faW5kZXhdO1xufTtcbmV4cG9ydHMuY2xvc2VzdCA9IGNsb3Nlc3Q7XG4iLAogICAgIihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICBcbiAgdmFyIGNvbGxhdG9yO1xuICB0cnkge1xuICAgIGNvbGxhdG9yID0gKHR5cGVvZiBJbnRsICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiBJbnRsLkNvbGxhdG9yICE9PSBcInVuZGVmaW5lZFwiKSA/IEludGwuQ29sbGF0b3IoXCJnZW5lcmljXCIsIHsgc2Vuc2l0aXZpdHk6IFwiYmFzZVwiIH0pIDogbnVsbDtcbiAgfSBjYXRjaCAoZXJyKXtcbiAgICBjb25zb2xlLmxvZyhcIkNvbGxhdG9yIGNvdWxkIG5vdCBiZSBpbml0aWFsaXplZCBhbmQgd291bGRuJ3QgYmUgdXNlZFwiKTtcbiAgfVxuXG4gIHZhciBsZXZlbnNodGVpbiA9IHJlcXVpcmUoJ2Zhc3Rlc3QtbGV2ZW5zaHRlaW4nKTtcblxuICAvLyBhcnJheXMgdG8gcmUtdXNlXG4gIHZhciBwcmV2Um93ID0gW10sXG4gICAgc3RyMkNoYXIgPSBbXTtcbiAgXG4gIC8qKlxuICAgKiBCYXNlZCBvbiB0aGUgYWxnb3JpdGhtIGF0IGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGV2ZW5zaHRlaW5fZGlzdGFuY2UuXG4gICAqL1xuICB2YXIgTGV2ZW5zaHRlaW4gPSB7XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIGxldmVuc2h0ZWluIGRpc3RhbmNlIG9mIHRoZSB0d28gc3RyaW5ncy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzdHIxIFN0cmluZyB0aGUgZmlyc3Qgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBzdHIyIFN0cmluZyB0aGUgc2Vjb25kIHN0cmluZy5cbiAgICAgKiBAcGFyYW0gW29wdGlvbnNdIEFkZGl0aW9uYWwgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0gW29wdGlvbnMudXNlQ29sbGF0b3JdIFVzZSBgSW50bC5Db2xsYXRvcmAgZm9yIGxvY2FsZS1zZW5zaXRpdmUgc3RyaW5nIGNvbXBhcmlzb24uXG4gICAgICogQHJldHVybiBJbnRlZ2VyIHRoZSBsZXZlbnNodGVpbiBkaXN0YW5jZSAoMCBhbmQgYWJvdmUpLlxuICAgICAqL1xuICAgIGdldDogZnVuY3Rpb24oc3RyMSwgc3RyMiwgb3B0aW9ucykge1xuICAgICAgdmFyIHVzZUNvbGxhdG9yID0gKG9wdGlvbnMgJiYgY29sbGF0b3IgJiYgb3B0aW9ucy51c2VDb2xsYXRvcik7XG4gICAgICBcbiAgICAgIGlmICh1c2VDb2xsYXRvcikge1xuICAgICAgICB2YXIgc3RyMUxlbiA9IHN0cjEubGVuZ3RoLFxuICAgICAgICAgIHN0cjJMZW4gPSBzdHIyLmxlbmd0aDtcbiAgICAgICAgXG4gICAgICAgIC8vIGJhc2UgY2FzZXNcbiAgICAgICAgaWYgKHN0cjFMZW4gPT09IDApIHJldHVybiBzdHIyTGVuO1xuICAgICAgICBpZiAoc3RyMkxlbiA9PT0gMCkgcmV0dXJuIHN0cjFMZW47XG5cbiAgICAgICAgLy8gdHdvIHJvd3NcbiAgICAgICAgdmFyIGN1ckNvbCwgbmV4dENvbCwgaSwgaiwgdG1wO1xuXG4gICAgICAgIC8vIGluaXRpYWxpc2UgcHJldmlvdXMgcm93XG4gICAgICAgIGZvciAoaT0wOyBpPHN0cjJMZW47ICsraSkge1xuICAgICAgICAgIHByZXZSb3dbaV0gPSBpO1xuICAgICAgICAgIHN0cjJDaGFyW2ldID0gc3RyMi5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHByZXZSb3dbc3RyMkxlbl0gPSBzdHIyTGVuO1xuXG4gICAgICAgIHZhciBzdHJDbXA7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSBjdXJyZW50IHJvdyBkaXN0YW5jZSBmcm9tIHByZXZpb3VzIHJvdyB1c2luZyBjb2xsYXRvclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgc3RyMUxlbjsgKytpKSB7XG4gICAgICAgICAgbmV4dENvbCA9IGkgKyAxO1xuXG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IHN0cjJMZW47ICsraikge1xuICAgICAgICAgICAgY3VyQ29sID0gbmV4dENvbDtcblxuICAgICAgICAgICAgLy8gc3Vic3R1dGlvblxuICAgICAgICAgICAgc3RyQ21wID0gMCA9PT0gY29sbGF0b3IuY29tcGFyZShzdHIxLmNoYXJBdChpKSwgU3RyaW5nLmZyb21DaGFyQ29kZShzdHIyQ2hhcltqXSkpO1xuXG4gICAgICAgICAgICBuZXh0Q29sID0gcHJldlJvd1tqXSArIChzdHJDbXAgPyAwIDogMSk7XG5cbiAgICAgICAgICAgIC8vIGluc2VydGlvblxuICAgICAgICAgICAgdG1wID0gY3VyQ29sICsgMTtcbiAgICAgICAgICAgIGlmIChuZXh0Q29sID4gdG1wKSB7XG4gICAgICAgICAgICAgIG5leHRDb2wgPSB0bXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBkZWxldGlvblxuICAgICAgICAgICAgdG1wID0gcHJldlJvd1tqICsgMV0gKyAxO1xuICAgICAgICAgICAgaWYgKG5leHRDb2wgPiB0bXApIHtcbiAgICAgICAgICAgICAgbmV4dENvbCA9IHRtcDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY29weSBjdXJyZW50IGNvbCB2YWx1ZSBpbnRvIHByZXZpb3VzIChpbiBwcmVwYXJhdGlvbiBmb3IgbmV4dCBpdGVyYXRpb24pXG4gICAgICAgICAgICBwcmV2Um93W2pdID0gY3VyQ29sO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGNvcHkgbGFzdCBjb2wgdmFsdWUgaW50byBwcmV2aW91cyAoaW4gcHJlcGFyYXRpb24gZm9yIG5leHQgaXRlcmF0aW9uKVxuICAgICAgICAgIHByZXZSb3dbal0gPSBuZXh0Q29sO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0Q29sO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxldmVuc2h0ZWluLmRpc3RhbmNlKHN0cjEsIHN0cjIpO1xuICAgIH1cblxuICB9O1xuXG4gIC8vIGFtZFxuICBpZiAodHlwZW9mIGRlZmluZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkZWZpbmUgIT09IG51bGwgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBMZXZlbnNodGVpbjtcbiAgICB9KTtcbiAgfVxuICAvLyBjb21tb25qc1xuICBlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9PSBcInVuZGVmaW5lZFwiICYmIG1vZHVsZSAhPT0gbnVsbCAmJiB0eXBlb2YgZXhwb3J0cyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cyA9PT0gZXhwb3J0cykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gTGV2ZW5zaHRlaW47XG4gIH1cbiAgLy8gd2ViIHdvcmtlclxuICBlbHNlIGlmICh0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygc2VsZi5wb3N0TWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc2VsZi5pbXBvcnRTY3JpcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc2VsZi5MZXZlbnNodGVpbiA9IExldmVuc2h0ZWluO1xuICB9XG4gIC8vIGJyb3dzZXIgbWFpbiB0aHJlYWRcbiAgZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cgIT09IG51bGwpIHtcbiAgICB3aW5kb3cuTGV2ZW5zaHRlaW4gPSBMZXZlbnNodGVpbjtcbiAgfVxufSgpKTtcbiIsCiAgICAiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBNZXRhIFBsYXRmb3JtcywgSW5jLiBhbmQgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5cInVzZSBzdHJpY3RcIjtcblwicHJvZHVjdGlvblwiICE9PSBwcm9jZXNzLmVudi5OT0RFX0VOViAmJlxuICAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gICAgICBpZiAobnVsbCA9PSB0eXBlKSByZXR1cm4gbnVsbDtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICByZXR1cm4gdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQyXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICAgICAgaWYgKFwic3RyaW5nXCIgPT09IHR5cGVvZiB0eXBlKSByZXR1cm4gdHlwZTtcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIFwiRnJhZ21lbnRcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJQb3J0YWxcIjtcbiAgICAgICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgICAgIHJldHVybiBcIlByb2ZpbGVyXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdHJpY3RNb2RlXCI7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZVwiO1xuICAgICAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgICAgICByZXR1cm4gXCJTdXNwZW5zZUxpc3RcIjtcbiAgICAgIH1cbiAgICAgIGlmIChcIm9iamVjdFwiID09PSB0eXBlb2YgdHlwZSlcbiAgICAgICAgc3dpdGNoIChcbiAgICAgICAgICAoXCJudW1iZXJcIiA9PT0gdHlwZW9mIHR5cGUudGFnICYmXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgICAgICBcIlJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiBUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuXCJcbiAgICAgICAgICAgICksXG4gICAgICAgICAgdHlwZS4kJHR5cGVvZilcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuUHJvdmlkZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0NPTlNVTUVSX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUuX2NvbnRleHQuZGlzcGxheU5hbWUgfHwgXCJDb250ZXh0XCIpICsgXCIuQ29uc3VtZXJcIjtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICB2YXIgaW5uZXJUeXBlID0gdHlwZS5yZW5kZXI7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIHR5cGUgfHxcbiAgICAgICAgICAgICAgKCh0eXBlID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8IFwiXCIpLFxuICAgICAgICAgICAgICAodHlwZSA9IFwiXCIgIT09IHR5cGUgPyBcIkZvcndhcmRSZWYoXCIgKyB0eXBlICsgXCIpXCIgOiBcIkZvcndhcmRSZWZcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAoaW5uZXJUeXBlID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsKSxcbiAgICAgICAgICAgICAgbnVsbCAhPT0gaW5uZXJUeXBlXG4gICAgICAgICAgICAgICAgPyBpbm5lclR5cGVcbiAgICAgICAgICAgICAgICA6IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiTWVtb1wiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgaW5uZXJUeXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKGlubmVyVHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCA9ICExO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQgPSAhMDtcbiAgICAgIH1cbiAgICAgIGlmIChKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQpIHtcbiAgICAgICAgSlNDb21waWxlcl9pbmxpbmVfcmVzdWx0ID0gY29uc29sZTtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfdGVtcF9jb25zdCA9IEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdC5lcnJvcjtcbiAgICAgICAgdmFyIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMCA9XG4gICAgICAgICAgKFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIFN5bWJvbCAmJlxuICAgICAgICAgICAgU3ltYm9sLnRvU3RyaW5nVGFnICYmXG4gICAgICAgICAgICB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddKSB8fFxuICAgICAgICAgIHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHxcbiAgICAgICAgICBcIk9iamVjdFwiO1xuICAgICAgICBKU0NvbXBpbGVyX3RlbXBfY29uc3QuY2FsbChcbiAgICAgICAgICBKU0NvbXBpbGVyX2lubGluZV9yZXN1bHQsXG4gICAgICAgICAgXCJUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLlwiLFxuICAgICAgICAgIEpTQ29tcGlsZXJfaW5saW5lX3Jlc3VsdCRqc2NvbXAkMFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGlzYWJsZWRMb2coKSB7fVxuICAgIGZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICAgICAgaWYgKDAgPT09IGRpc2FibGVkRGVwdGgpIHtcbiAgICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgICBwcmV2SW5mbyA9IGNvbnNvbGUuaW5mbztcbiAgICAgICAgcHJldldhcm4gPSBjb25zb2xlLndhcm47XG4gICAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICAgIHByZXZHcm91cCA9IGNvbnNvbGUuZ3JvdXA7XG4gICAgICAgIHByZXZHcm91cENvbGxhcHNlZCA9IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQ7XG4gICAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7XG4gICAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgICBjb25maWd1cmFibGU6ICEwLFxuICAgICAgICAgIGVudW1lcmFibGU6ICEwLFxuICAgICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgICB3cml0YWJsZTogITBcbiAgICAgICAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGluZm86IHByb3BzLFxuICAgICAgICAgIGxvZzogcHJvcHMsXG4gICAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgICAgZXJyb3I6IHByb3BzLFxuICAgICAgICAgIGdyb3VwOiBwcm9wcyxcbiAgICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgICAgZ3JvdXBFbmQ6IHByb3BzXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZGlzYWJsZWREZXB0aCsrO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZWVuYWJsZUxvZ3MoKSB7XG4gICAgICBkaXNhYmxlZERlcHRoLS07XG4gICAgICBpZiAoMCA9PT0gZGlzYWJsZWREZXB0aCkge1xuICAgICAgICB2YXIgcHJvcHMgPSB7IGNvbmZpZ3VyYWJsZTogITAsIGVudW1lcmFibGU6ICEwLCB3cml0YWJsZTogITAgfTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICAgIGxvZzogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkxvZyB9KSxcbiAgICAgICAgICBpbmZvOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2SW5mbyB9KSxcbiAgICAgICAgICB3YXJuOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2V2FybiB9KSxcbiAgICAgICAgICBlcnJvcjogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkVycm9yIH0pLFxuICAgICAgICAgIGdyb3VwOiBhc3NpZ24oe30sIHByb3BzLCB7IHZhbHVlOiBwcmV2R3JvdXAgfSksXG4gICAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IGFzc2lnbih7fSwgcHJvcHMsIHsgdmFsdWU6IHByZXZHcm91cENvbGxhcHNlZCB9KSxcbiAgICAgICAgICBncm91cEVuZDogYXNzaWduKHt9LCBwcm9wcywgeyB2YWx1ZTogcHJldkdyb3VwRW5kIH0pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgMCA+IGRpc2FibGVkRGVwdGggJiZcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICBcImRpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiBUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSB7XG4gICAgICBpZiAodm9pZCAwID09PSBwcmVmaXgpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIHZhciBtYXRjaCA9IHguc3RhY2sudHJpbSgpLm1hdGNoKC9cXG4oICooYXQgKT8pLyk7XG4gICAgICAgICAgcHJlZml4ID0gKG1hdGNoICYmIG1hdGNoWzFdKSB8fCBcIlwiO1xuICAgICAgICAgIHN1ZmZpeCA9XG4gICAgICAgICAgICAtMSA8IHguc3RhY2suaW5kZXhPZihcIlxcbiAgICBhdFwiKVxuICAgICAgICAgICAgICA/IFwiICg8YW5vbnltb3VzPilcIlxuICAgICAgICAgICAgICA6IC0xIDwgeC5zdGFjay5pbmRleE9mKFwiQFwiKVxuICAgICAgICAgICAgICAgID8gXCJAdW5rbm93bjowOjBcIlxuICAgICAgICAgICAgICAgIDogXCJcIjtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIFwiXFxuXCIgKyBwcmVmaXggKyBuYW1lICsgc3VmZml4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBjb25zdHJ1Y3QpIHtcbiAgICAgIGlmICghZm4gfHwgcmVlbnRyeSkgcmV0dXJuIFwiXCI7XG4gICAgICB2YXIgZnJhbWUgPSBjb21wb25lbnRGcmFtZUNhY2hlLmdldChmbik7XG4gICAgICBpZiAodm9pZCAwICE9PSBmcmFtZSkgcmV0dXJuIGZyYW1lO1xuICAgICAgcmVlbnRyeSA9ICEwO1xuICAgICAgZnJhbWUgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTtcbiAgICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdm9pZCAwO1xuICAgICAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlciA9IG51bGw7XG4gICAgICBwcmV2aW91c0Rpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5IO1xuICAgICAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IG51bGw7XG4gICAgICBkaXNhYmxlTG9ncygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIFJ1bkluUm9vdEZyYW1lID0ge1xuICAgICAgICAgIERldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKGNvbnN0cnVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBGYWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgXCJwcm9wc1wiLCB7XG4gICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIFJlZmxlY3QgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyb2wgPSB4O1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZm4sIFtdLCBGYWtlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgRmFrZS5jYWxsKCk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbCA9IHgkMDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGZuLmNhbGwoRmFrZS5wcm90b3R5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoICh4JDEpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2wgPSB4JDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIChGYWtlID0gZm4oKSkgJiZcbiAgICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIEZha2UuY2F0Y2ggJiZcbiAgICAgICAgICAgICAgICAgIEZha2UuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIFwic3RyaW5nXCIgPT09IHR5cGVvZiBzYW1wbGUuc3RhY2spXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtudWxsLCBudWxsXTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdC5kaXNwbGF5TmFtZSA9XG4gICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIjtcbiAgICAgICAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LFxuICAgICAgICAgIFwibmFtZVwiXG4gICAgICAgICk7XG4gICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci5jb25maWd1cmFibGUgJiZcbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QsXG4gICAgICAgICAgICBcIm5hbWVcIixcbiAgICAgICAgICAgIHsgdmFsdWU6IFwiRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290XCIgfVxuICAgICAgICAgICk7XG4gICAgICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPVxuICAgICAgICAgICAgUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290KCksXG4gICAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgICAgY29udHJvbFN0YWNrID0gX1J1bkluUm9vdEZyYW1lJERldGVyWzFdO1xuICAgICAgICBpZiAoc2FtcGxlU3RhY2sgJiYgY29udHJvbFN0YWNrKSB7XG4gICAgICAgICAgdmFyIHNhbXBsZUxpbmVzID0gc2FtcGxlU3RhY2suc3BsaXQoXCJcXG5cIiksXG4gICAgICAgICAgICBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoXCJcXG5cIik7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IG5hbWVQcm9wRGVzY3JpcHRvciA9IDA7XG4gICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPCBzYW1wbGVMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdLmluY2x1ZGVzKFxuICAgICAgICAgICAgICBcIkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdFwiXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgKVxuICAgICAgICAgICAgbmFtZVByb3BEZXNjcmlwdG9yKys7XG4gICAgICAgICAgZm9yIChcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA8IGNvbnRyb2xMaW5lcy5sZW5ndGggJiZcbiAgICAgICAgICAgICFjb250cm9sTGluZXNbX1J1bkluUm9vdEZyYW1lJERldGVyXS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgXCJEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3RcIlxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgIClcbiAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlcisrO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvciA9PT0gc2FtcGxlTGluZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPT09IGNvbnRyb2xMaW5lcy5sZW5ndGhcbiAgICAgICAgICApXG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICBuYW1lUHJvcERlc2NyaXB0b3IgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlciA9IGNvbnRyb2xMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJlxuICAgICAgICAgICAgICAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlciAmJlxuICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgIGNvbnRyb2xMaW5lc1tfUnVuSW5Sb290RnJhbWUkRGV0ZXJdO1xuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgIF9SdW5JblJvb3RGcmFtZSREZXRlci0tO1xuICAgICAgICAgIGZvciAoXG4gICAgICAgICAgICA7XG4gICAgICAgICAgICAxIDw9IG5hbWVQcm9wRGVzY3JpcHRvciAmJiAwIDw9IF9SdW5JblJvb3RGcmFtZSREZXRlcjtcbiAgICAgICAgICAgIG5hbWVQcm9wRGVzY3JpcHRvci0tLCBfUnVuSW5Sb290RnJhbWUkRGV0ZXItLVxuICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXSAhPT1cbiAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl1cbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpZiAoMSAhPT0gbmFtZVByb3BEZXNjcmlwdG9yIHx8IDEgIT09IF9SdW5JblJvb3RGcmFtZSREZXRlcikge1xuICAgICAgICAgICAgICAgIGRvXG4gICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIChuYW1lUHJvcERlc2NyaXB0b3ItLSxcbiAgICAgICAgICAgICAgICAgICAgX1J1bkluUm9vdEZyYW1lJERldGVyLS0sXG4gICAgICAgICAgICAgICAgICAgIDAgPiBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgICBzYW1wbGVMaW5lc1tuYW1lUHJvcERlc2NyaXB0b3JdICE9PVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbExpbmVzW19SdW5JblJvb3RGcmFtZSREZXRlcl0pXG4gICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9mcmFtZSA9XG4gICAgICAgICAgICAgICAgICAgICAgXCJcXG5cIiArXG4gICAgICAgICAgICAgICAgICAgICAgc2FtcGxlTGluZXNbbmFtZVByb3BEZXNjcmlwdG9yXS5yZXBsYWNlKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgbmV3IFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCIgYXQgXCJcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBmbi5kaXNwbGF5TmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICAgIF9mcmFtZS5pbmNsdWRlcyhcIjxhbm9ueW1vdXM+XCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgKF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKFwiPGFub255bW91cz5cIiwgZm4uZGlzcGxheU5hbWUpKTtcbiAgICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgZm4gJiZcbiAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoMSA8PSBuYW1lUHJvcERlc2NyaXB0b3IgJiYgMCA8PSBfUnVuSW5Sb290RnJhbWUkRGV0ZXIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAocmVlbnRyeSA9ICExKSxcbiAgICAgICAgICAoUmVhY3RTaGFyZWRJbnRlcm5hbHMuSCA9IHByZXZpb3VzRGlzcGF0Y2hlciksXG4gICAgICAgICAgcmVlbmFibGVMb2dzKCksXG4gICAgICAgICAgKEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gZnJhbWUpO1xuICAgICAgfVxuICAgICAgc2FtcGxlTGluZXMgPSAoc2FtcGxlTGluZXMgPSBmbiA/IGZuLmRpc3BsYXlOYW1lIHx8IGZuLm5hbWUgOiBcIlwiKVxuICAgICAgICA/IGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHNhbXBsZUxpbmVzKVxuICAgICAgICA6IFwiXCI7XG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBmbiAmJiBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc2FtcGxlTGluZXMpO1xuICAgICAgcmV0dXJuIHNhbXBsZUxpbmVzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZSkge1xuICAgICAgaWYgKG51bGwgPT0gdHlwZSkgcmV0dXJuIFwiXCI7XG4gICAgICBpZiAoXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSkge1xuICAgICAgICB2YXIgcHJvdG90eXBlID0gdHlwZS5wcm90b3R5cGU7XG4gICAgICAgIHJldHVybiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKFxuICAgICAgICAgIHR5cGUsXG4gICAgICAgICAgISghcHJvdG90eXBlIHx8ICFwcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChcInN0cmluZ1wiID09PSB0eXBlb2YgdHlwZSkgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoXCJTdXNwZW5zZVwiKTtcbiAgICAgICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKFwiU3VzcGVuc2VMaXN0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlKVxuICAgICAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgICAgICByZXR1cm4gKHR5cGUgPSBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyLCAhMSkpLCB0eXBlO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLnR5cGUpO1xuICAgICAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICAgICAgcHJvdG90eXBlID0gdHlwZS5fcGF5bG9hZDtcbiAgICAgICAgICAgIHR5cGUgPSB0eXBlLl9pbml0O1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlKHByb3RvdHlwZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE93bmVyKCkge1xuICAgICAgdmFyIGRpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5BO1xuICAgICAgcmV0dXJuIG51bGwgPT09IGRpc3BhdGNoZXIgPyBudWxsIDogZGlzcGF0Y2hlci5nZXRPd25lcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgXCJrZXlcIikpIHtcbiAgICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCBcImtleVwiKS5nZXQ7XG4gICAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSByZXR1cm4gITE7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb25maWcua2V5O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgICAgIGZ1bmN0aW9uIHdhcm5BYm91dEFjY2Vzc2luZ0tleSgpIHtcbiAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gfHxcbiAgICAgICAgICAoKHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gITApLFxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgICBcIiVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0IGluIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgdmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCBwcm9wLiAoaHR0cHM6Ly9yZWFjdC5kZXYvbGluay9zcGVjaWFsLXByb3BzKVwiLFxuICAgICAgICAgICAgZGlzcGxheU5hbWVcbiAgICAgICAgICApKTtcbiAgICAgIH1cbiAgICAgIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9ICEwO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCBcImtleVwiLCB7XG4gICAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgICBjb25maWd1cmFibGU6ICEwXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZWxlbWVudFJlZkdldHRlcldpdGhEZXByZWNhdGlvbldhcm5pbmcoKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0aGlzLnR5cGUpO1xuICAgICAgZGlkV2FybkFib3V0RWxlbWVudFJlZltjb21wb25lbnROYW1lXSB8fFxuICAgICAgICAoKGRpZFdhcm5BYm91dEVsZW1lbnRSZWZbY29tcG9uZW50TmFtZV0gPSAhMCksXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJBY2Nlc3NpbmcgZWxlbWVudC5yZWYgd2FzIHJlbW92ZWQgaW4gUmVhY3QgMTkuIHJlZiBpcyBub3cgYSByZWd1bGFyIHByb3AuIEl0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBKU1ggRWxlbWVudCB0eXBlIGluIGEgZnV0dXJlIHJlbGVhc2UuXCJcbiAgICAgICAgKSk7XG4gICAgICBjb21wb25lbnROYW1lID0gdGhpcy5wcm9wcy5yZWY7XG4gICAgICByZXR1cm4gdm9pZCAwICE9PSBjb21wb25lbnROYW1lID8gY29tcG9uZW50TmFtZSA6IG51bGw7XG4gICAgfVxuICAgIGZ1bmN0aW9uIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gICAgICBzZWxmID0gcHJvcHMucmVmO1xuICAgICAgdHlwZSA9IHtcbiAgICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAga2V5OiBrZXksXG4gICAgICAgIHByb3BzOiBwcm9wcyxcbiAgICAgICAgX293bmVyOiBvd25lclxuICAgICAgfTtcbiAgICAgIG51bGwgIT09ICh2b2lkIDAgIT09IHNlbGYgPyBzZWxmIDogbnVsbClcbiAgICAgICAgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgICAgICBnZXQ6IGVsZW1lbnRSZWZHZXR0ZXJXaXRoRGVwcmVjYXRpb25XYXJuaW5nXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBPYmplY3QuZGVmaW5lUHJvcGVydHkodHlwZSwgXCJyZWZcIiwgeyBlbnVtZXJhYmxlOiAhMSwgdmFsdWU6IG51bGwgfSk7XG4gICAgICB0eXBlLl9zdG9yZSA9IHt9O1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHR5cGUuX3N0b3JlLCBcInZhbGlkYXRlZFwiLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogITEsXG4gICAgICAgIGVudW1lcmFibGU6ICExLFxuICAgICAgICB3cml0YWJsZTogITAsXG4gICAgICAgIHZhbHVlOiAwXG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0eXBlLCBcIl9kZWJ1Z0luZm9cIiwge1xuICAgICAgICBjb25maWd1cmFibGU6ICExLFxuICAgICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgICAgd3JpdGFibGU6ICEwLFxuICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgfSk7XG4gICAgICBPYmplY3QuZnJlZXplICYmIChPYmplY3QuZnJlZXplKHR5cGUucHJvcHMpLCBPYmplY3QuZnJlZXplKHR5cGUpKTtcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBqc3hERVZJbXBsKFxuICAgICAgdHlwZSxcbiAgICAgIGNvbmZpZyxcbiAgICAgIG1heWJlS2V5LFxuICAgICAgaXNTdGF0aWNDaGlsZHJlbixcbiAgICAgIHNvdXJjZSxcbiAgICAgIHNlbGZcbiAgICApIHtcbiAgICAgIGlmIChcbiAgICAgICAgXCJzdHJpbmdcIiA9PT0gdHlwZW9mIHR5cGUgfHxcbiAgICAgICAgXCJmdW5jdGlvblwiID09PSB0eXBlb2YgdHlwZSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHxcbiAgICAgICAgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8XG4gICAgICAgIHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fFxuICAgICAgICB0eXBlID09PSBSRUFDVF9PRkZTQ1JFRU5fVFlQRSB8fFxuICAgICAgICAoXCJvYmplY3RcIiA9PT0gdHlwZW9mIHR5cGUgJiZcbiAgICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fFxuICAgICAgICAgICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8XG4gICAgICAgICAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlNVTUVSX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHxcbiAgICAgICAgICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fFxuICAgICAgICAgICAgdm9pZCAwICE9PSB0eXBlLmdldE1vZHVsZUlkKSlcbiAgICAgICkge1xuICAgICAgICB2YXIgY2hpbGRyZW4gPSBjb25maWcuY2hpbGRyZW47XG4gICAgICAgIGlmICh2b2lkIDAgIT09IGNoaWxkcmVuKVxuICAgICAgICAgIGlmIChpc1N0YXRpY0NoaWxkcmVuKVxuICAgICAgICAgICAgaWYgKGlzQXJyYXlJbXBsKGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPSAwO1xuICAgICAgICAgICAgICAgIGlzU3RhdGljQ2hpbGRyZW4gPCBjaGlsZHJlbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaXNTdGF0aWNDaGlsZHJlbisrXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbltpc1N0YXRpY0NoaWxkcmVuXSwgdHlwZSk7XG4gICAgICAgICAgICAgIE9iamVjdC5mcmVlemUgJiYgT2JqZWN0LmZyZWV6ZShjaGlsZHJlbik7XG4gICAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICBcIlJlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuIFlvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgIGVsc2UgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4sIHR5cGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4gPSBcIlwiO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgdm9pZCAwID09PSB0eXBlIHx8XG4gICAgICAgICAgKFwib2JqZWN0XCIgPT09IHR5cGVvZiB0eXBlICYmXG4gICAgICAgICAgICBudWxsICE9PSB0eXBlICYmXG4gICAgICAgICAgICAwID09PSBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGgpXG4gICAgICAgIClcbiAgICAgICAgICBjaGlsZHJlbiArPVxuICAgICAgICAgICAgXCIgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgICAgICBudWxsID09PSB0eXBlXG4gICAgICAgICAgPyAoaXNTdGF0aWNDaGlsZHJlbiA9IFwibnVsbFwiKVxuICAgICAgICAgIDogaXNBcnJheUltcGwodHlwZSlcbiAgICAgICAgICAgID8gKGlzU3RhdGljQ2hpbGRyZW4gPSBcImFycmF5XCIpXG4gICAgICAgICAgICA6IHZvaWQgMCAhPT0gdHlwZSAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICAgICAgICAgPyAoKGlzU3RhdGljQ2hpbGRyZW4gPVxuICAgICAgICAgICAgICAgICAgXCI8XCIgK1xuICAgICAgICAgICAgICAgICAgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8IFwiVW5rbm93blwiKSArXG4gICAgICAgICAgICAgICAgICBcIiAvPlwiKSxcbiAgICAgICAgICAgICAgICAoY2hpbGRyZW4gPVxuICAgICAgICAgICAgICAgICAgXCIgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD9cIikpXG4gICAgICAgICAgICAgIDogKGlzU3RhdGljQ2hpbGRyZW4gPSB0eXBlb2YgdHlwZSk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgICAgXCJSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yIGJ1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXNcIixcbiAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIFwia2V5XCIpKSB7XG4gICAgICAgIGNoaWxkcmVuID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGNvbmZpZykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7XG4gICAgICAgICAgcmV0dXJuIFwia2V5XCIgIT09IGs7XG4gICAgICAgIH0pO1xuICAgICAgICBpc1N0YXRpY0NoaWxkcmVuID1cbiAgICAgICAgICAwIDwga2V5cy5sZW5ndGhcbiAgICAgICAgICAgID8gXCJ7a2V5OiBzb21lS2V5LCBcIiArIGtleXMuam9pbihcIjogLi4uLCBcIikgKyBcIjogLi4ufVwiXG4gICAgICAgICAgICA6IFwie2tleTogc29tZUtleX1cIjtcbiAgICAgICAgZGlkV2FybkFib3V0S2V5U3ByZWFkW2NoaWxkcmVuICsgaXNTdGF0aWNDaGlsZHJlbl0gfHxcbiAgICAgICAgICAoKGtleXMgPVxuICAgICAgICAgICAgMCA8IGtleXMubGVuZ3RoID8gXCJ7XCIgKyBrZXlzLmpvaW4oXCI6IC4uLiwgXCIpICsgXCI6IC4uLn1cIiA6IFwie31cIiksXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICdBIHByb3BzIG9iamVjdCBjb250YWluaW5nIGEgXCJrZXlcIiBwcm9wIGlzIGJlaW5nIHNwcmVhZCBpbnRvIEpTWDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIHsuLi5wcm9wc30gLz5cXG5SZWFjdCBrZXlzIG11c3QgYmUgcGFzc2VkIGRpcmVjdGx5IHRvIEpTWCB3aXRob3V0IHVzaW5nIHNwcmVhZDpcXG4gIGxldCBwcm9wcyA9ICVzO1xcbiAgPCVzIGtleT17c29tZUtleX0gey4uLnByb3BzfSAvPicsXG4gICAgICAgICAgICBpc1N0YXRpY0NoaWxkcmVuLFxuICAgICAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICApLFxuICAgICAgICAgIChkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY2hpbGRyZW4gKyBpc1N0YXRpY0NoaWxkcmVuXSA9ICEwKSk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbiA9IG51bGw7XG4gICAgICB2b2lkIDAgIT09IG1heWJlS2V5ICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KSwgKGNoaWxkcmVuID0gXCJcIiArIG1heWJlS2V5KSk7XG4gICAgICBoYXNWYWxpZEtleShjb25maWcpICYmXG4gICAgICAgIChjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpLCAoY2hpbGRyZW4gPSBcIlwiICsgY29uZmlnLmtleSkpO1xuICAgICAgaWYgKFwia2V5XCIgaW4gY29uZmlnKSB7XG4gICAgICAgIG1heWJlS2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIHByb3BOYW1lIGluIGNvbmZpZylcbiAgICAgICAgICBcImtleVwiICE9PSBwcm9wTmFtZSAmJiAobWF5YmVLZXlbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXSk7XG4gICAgICB9IGVsc2UgbWF5YmVLZXkgPSBjb25maWc7XG4gICAgICBjaGlsZHJlbiAmJlxuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihcbiAgICAgICAgICBtYXliZUtleSxcbiAgICAgICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiB0eXBlXG4gICAgICAgICAgICA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IFwiVW5rbm93blwiXG4gICAgICAgICAgICA6IHR5cGVcbiAgICAgICAgKTtcbiAgICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwgY2hpbGRyZW4sIHNlbGYsIHNvdXJjZSwgZ2V0T3duZXIoKSwgbWF5YmVLZXkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIFwib2JqZWN0XCIgPT09IHR5cGVvZiBub2RlICYmXG4gICAgICAgIG5vZGUgJiZcbiAgICAgICAgbm9kZS4kJHR5cGVvZiAhPT0gUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRVxuICAgICAgKVxuICAgICAgICBpZiAoaXNBcnJheUltcGwobm9kZSkpXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuICAgICAgICAgICAgaXNWYWxpZEVsZW1lbnQoY2hpbGQpICYmIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZEVsZW1lbnQobm9kZSkpXG4gICAgICAgICAgbm9kZS5fc3RvcmUgJiYgKG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IDEpO1xuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAobnVsbCA9PT0gbm9kZSB8fCBcIm9iamVjdFwiICE9PSB0eXBlb2Ygbm9kZVxuICAgICAgICAgICAgPyAoaSA9IG51bGwpXG4gICAgICAgICAgICA6ICgoaSA9XG4gICAgICAgICAgICAgICAgKE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBub2RlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICAgICAgICAgICAgbm9kZVtcIkBAaXRlcmF0b3JcIl0pLFxuICAgICAgICAgICAgICAoaSA9IFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkgPyBpIDogbnVsbCkpLFxuICAgICAgICAgIFwiZnVuY3Rpb25cIiA9PT0gdHlwZW9mIGkgJiZcbiAgICAgICAgICAgIGkgIT09IG5vZGUuZW50cmllcyAmJlxuICAgICAgICAgICAgKChpID0gaS5jYWxsKG5vZGUpKSwgaSAhPT0gbm9kZSkpXG4gICAgICAgIClcbiAgICAgICAgICBmb3IgKDsgIShub2RlID0gaS5uZXh0KCkpLmRvbmU7IClcbiAgICAgICAgICAgIGlzVmFsaWRFbGVtZW50KG5vZGUudmFsdWUpICYmXG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkobm9kZS52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgXCJvYmplY3RcIiA9PT0gdHlwZW9mIG9iamVjdCAmJlxuICAgICAgICBudWxsICE9PSBvYmplY3QgJiZcbiAgICAgICAgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEVcbiAgICAgICk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICAgICAgaWYgKFxuICAgICAgICBlbGVtZW50Ll9zdG9yZSAmJlxuICAgICAgICAhZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkICYmXG4gICAgICAgIG51bGwgPT0gZWxlbWVudC5rZXkgJiZcbiAgICAgICAgKChlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSAxKSxcbiAgICAgICAgKHBhcmVudFR5cGUgPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpKSxcbiAgICAgICAgIW93bmVySGFzS2V5VXNlV2FybmluZ1twYXJlbnRUeXBlXSlcbiAgICAgICkge1xuICAgICAgICBvd25lckhhc0tleVVzZVdhcm5pbmdbcGFyZW50VHlwZV0gPSAhMDtcbiAgICAgICAgdmFyIGNoaWxkT3duZXIgPSBcIlwiO1xuICAgICAgICBlbGVtZW50ICYmXG4gICAgICAgICAgbnVsbCAhPSBlbGVtZW50Ll9vd25lciAmJlxuICAgICAgICAgIGVsZW1lbnQuX293bmVyICE9PSBnZXRPd25lcigpICYmXG4gICAgICAgICAgKChjaGlsZE93bmVyID0gbnVsbCksXG4gICAgICAgICAgXCJudW1iZXJcIiA9PT0gdHlwZW9mIGVsZW1lbnQuX293bmVyLnRhZ1xuICAgICAgICAgICAgPyAoY2hpbGRPd25lciA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShlbGVtZW50Ll9vd25lci50eXBlKSlcbiAgICAgICAgICAgIDogXCJzdHJpbmdcIiA9PT0gdHlwZW9mIGVsZW1lbnQuX293bmVyLm5hbWUgJiZcbiAgICAgICAgICAgICAgKGNoaWxkT3duZXIgPSBlbGVtZW50Ll9vd25lci5uYW1lKSxcbiAgICAgICAgICAoY2hpbGRPd25lciA9IFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgY2hpbGRPd25lciArIFwiLlwiKSk7XG4gICAgICAgIHZhciBwcmV2R2V0Q3VycmVudFN0YWNrID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuZ2V0Q3VycmVudFN0YWNrO1xuICAgICAgICBSZWFjdFNoYXJlZEludGVybmFscy5nZXRDdXJyZW50U3RhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSk7XG4gICAgICAgICAgcHJldkdldEN1cnJlbnRTdGFjayAmJiAoc3RhY2sgKz0gcHJldkdldEN1cnJlbnRTdGFjaygpIHx8IFwiXCIpO1xuICAgICAgICAgIHJldHVybiBzdGFjaztcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAnRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLiVzJXMgU2VlIGh0dHBzOi8vcmVhY3QuZGV2L2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsXG4gICAgICAgICAgcGFyZW50VHlwZSxcbiAgICAgICAgICBjaGlsZE93bmVyXG4gICAgICAgICk7XG4gICAgICAgIFJlYWN0U2hhcmVkSW50ZXJuYWxzLmdldEN1cnJlbnRTdGFjayA9IHByZXZHZXRDdXJyZW50U3RhY2s7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkge1xuICAgICAgdmFyIGluZm8gPSBcIlwiLFxuICAgICAgICBvd25lciA9IGdldE93bmVyKCk7XG4gICAgICBvd25lciAmJlxuICAgICAgICAob3duZXIgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUob3duZXIudHlwZSkpICYmXG4gICAgICAgIChpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgXCIgKyBvd25lciArIFwiYC5cIik7XG4gICAgICBpbmZvIHx8XG4gICAgICAgICgocGFyZW50VHlwZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShwYXJlbnRUeXBlKSkgJiZcbiAgICAgICAgICAoaW5mbyA9XG4gICAgICAgICAgICBcIlxcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPFwiICsgcGFyZW50VHlwZSArIFwiPi5cIikpO1xuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuICAgIHZhciBSZWFjdCA9IHJlcXVpcmUoXCJyZWFjdFwiKSxcbiAgICAgIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC50cmFuc2l0aW9uYWwuZWxlbWVudFwiKSxcbiAgICAgIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnBvcnRhbFwiKSxcbiAgICAgIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIiksXG4gICAgICBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpLFxuICAgICAgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5wcm9maWxlclwiKTtcbiAgICBTeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik7XG4gICAgdmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29uc3VtZXJcIiksXG4gICAgICBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuY29udGV4dFwiKSxcbiAgICAgIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIiksXG4gICAgICBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlXCIpLFxuICAgICAgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIiksXG4gICAgICBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb1wiKSxcbiAgICAgIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpLFxuICAgICAgUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgPSBTeW1ib2wuZm9yKFwicmVhY3Qub2Zmc2NyZWVuXCIpLFxuICAgICAgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gU3ltYm9sLml0ZXJhdG9yLFxuICAgICAgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQyID0gU3ltYm9sLmZvcihcInJlYWN0LmNsaWVudC5yZWZlcmVuY2VcIiksXG4gICAgICBSZWFjdFNoYXJlZEludGVybmFscyA9XG4gICAgICAgIFJlYWN0Ll9fQ0xJRU5UX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1dBUk5fVVNFUlNfVEhFWV9DQU5OT1RfVVBHUkFERSxcbiAgICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ24sXG4gICAgICBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDEgPSBTeW1ib2wuZm9yKFwicmVhY3QuY2xpZW50LnJlZmVyZW5jZVwiKSxcbiAgICAgIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheSxcbiAgICAgIGRpc2FibGVkRGVwdGggPSAwLFxuICAgICAgcHJldkxvZyxcbiAgICAgIHByZXZJbmZvLFxuICAgICAgcHJldldhcm4sXG4gICAgICBwcmV2RXJyb3IsXG4gICAgICBwcmV2R3JvdXAsXG4gICAgICBwcmV2R3JvdXBDb2xsYXBzZWQsXG4gICAgICBwcmV2R3JvdXBFbmQ7XG4gICAgZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gITA7XG4gICAgdmFyIHByZWZpeCxcbiAgICAgIHN1ZmZpeCxcbiAgICAgIHJlZW50cnkgPSAhMTtcbiAgICB2YXIgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyAoXG4gICAgICBcImZ1bmN0aW9uXCIgPT09IHR5cGVvZiBXZWFrTWFwID8gV2Vha01hcCA6IE1hcFxuICAgICkoKTtcbiAgICB2YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoXCJyZWFjdC5jbGllbnQucmVmZXJlbmNlXCIpLFxuICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd247XG4gICAgdmFyIGRpZFdhcm5BYm91dEVsZW1lbnRSZWYgPSB7fTtcbiAgICB2YXIgZGlkV2FybkFib3V0S2V5U3ByZWFkID0ge30sXG4gICAgICBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcbiAgICBleHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbiAgICBleHBvcnRzLmpzeERFViA9IGZ1bmN0aW9uIChcbiAgICAgIHR5cGUsXG4gICAgICBjb25maWcsXG4gICAgICBtYXliZUtleSxcbiAgICAgIGlzU3RhdGljQ2hpbGRyZW4sXG4gICAgICBzb3VyY2UsXG4gICAgICBzZWxmXG4gICAgKSB7XG4gICAgICByZXR1cm4ganN4REVWSW1wbCh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpO1xuICAgIH07XG4gIH0pKCk7XG4iLAogICAgIi8vIEB0cy1pZ25vcmVcbmltcG9ydCBMT0dPIGZyb20gXCIuL2ltZy9sb2dvLnBuZ1wiOyBleHBvcnQgeyBMT0dPIH07XG5cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBCSUdfU1RBUl9BTkRfU01BTExFUl9TVEFSX0lDT04gZnJvbSBcIi4vaW1nL2JpZ19zdGFyX2FuZF9zbWFsbGVyX3N0YXJfaWNvbi5wbmdcIjsgZXhwb3J0IHsgQklHX1NUQVJfQU5EX1NNQUxMRVJfU1RBUl9JQ09OIH07XG5cbi8vIEB0cy1pZ25vcmVcbmltcG9ydCBTRUFSQ0hfQkFSX0lDT04gZnJvbSBcIi4vaW1nL3NlYXJjaF9pY29uLnBuZ1wiOyBleHBvcnQgeyBTRUFSQ0hfQkFSX0lDT04gfTtcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IFBMQUNFSE9MREVSIGZyb20gXCIuL2ltZy9wbGFjZWhvbGRlci5qcGdcIjsgZXhwb3J0IHsgUExBQ0VIT0xERVIgfTtcblxuZXhwb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIERpc3BhdGNoLFxuICAgIHR5cGUgU2V0U3RhdGVBY3Rpb24sXG4gICAgdHlwZSBDU1NQcm9wZXJ0aWVzLFxuICAgIHVzZUVmZmVjdCxcbiAgICB1c2VTdGF0ZVxufSBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IHtcbiAgICBjcmVhdGVSb290IGFzIFJvb3Rcbn0gZnJvbSBcInJlYWN0LWRvbS9jbGllbnRcIjtcblxuZXhwb3J0IHtcbiAgICBCcm93c2VyUm91dGVyLFxuICAgIFJvdXRlcyxcbiAgICBSb3V0ZSxcbiAgICBMaW5rLFxuICAgIHR5cGUgTGlua1Byb3BzXG59IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5cbmV4cG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYgYXMgU3ByaW5nQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgU3ByaW5nQ29uZmlnLFxuICAgIHVzZVNwcmluZyxcbiAgICB1c2VTcHJpbmdzLFxuICAgIGFuaW1hdGVkXG59IGZyb20gXCJyZWFjdC1zcHJpbmdcIjtcblxuZXhwb3J0IHtcbiAgICBnZXQgYXMgc29ydCBcbn0gZnJvbSBcImZhc3QtbGV2ZW5zaHRlaW5cIjtcblxuZXhwb3J0ICogZnJvbSBcIkBjb21tb25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9hbmltYXRpb24vaW1hZ2VfY2Fyb3VzZWxcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9hbmltYXRpb24vcmV2ZWFsX3RvZ2dsZWRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9hbmltYXRpb24vcmV2ZWFsXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvY29uc3RhbnQvY29sb3JcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9jb25zdGFudC9mb250XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvY29uc3RhbnQvc2hhZG93XCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtX2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2Zvcm0vZm9ybV9pbnB1dFwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L2Zvcm0vZm9ybV9tZXNzYWdlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvZm9ybS9mb3JtXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbGF5b3V0L3BhZ2Vfd2l0aF8yX2hvcml6b250YWxfc2VjdGlvbnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9sYXlvdXQvcGFnZV93aXRoXzNfdmVydGljYWxfc2VjdGlvbnNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9sYXlvdXQvcGFnZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfYnV0dG9uX2dyb3VwXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X2NhbGxfdG9fYWN0aW9uX2J1dHRvbl9pY29uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9jYWxsX3RvX2FjdGlvbl9idXR0b25cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X2xvZ29cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X21hdGVyaWFsc19kcm9wX2Rvd25fYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9wYXJ0aWFsX2J1aWxkXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zZWFyY2hfYmFyX3BhcnRpYWxfYnVpbGRcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NlYXJjaF9iYXJcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9uYXYvbmF2X3NpZ25faW5fZm9ybVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc2lnbl91cF9mb3JtXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvbl9wYXJ0aWFsX2J1aWxkXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvbmF2L25hdl9zaWduZXJfZHJvcF9kb3duX2J1dHRvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZfc3VnZ2VzdGlvblwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L25hdi9uYXZcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC9wYWdlL2Zvcl95b3VfcGFnZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3BhZ2UvaG9tZV9wYWdlXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvc3ByaXRlL3Nwcml0ZV9pY29uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvc3ByaXRlL3Nwcml0ZVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX2JvZHlcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9jYXB0aW9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfaGVhZGluZ1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3RhYmxlL3RhYmxlX2l0ZW1cIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9yb3dcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbXBvbmVudC90YWJsZS90YWJsZV9zeW1ib2xfYnV0dG9uXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdGFibGUvdGFibGVfd3JhcHBlclwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3R5cG9ncmFwaHkvdHlwb2dyYXBoeVwiO1xuZXhwb3J0ICogZnJvbSBcIi4vY29tcG9uZW50L3V0aWwvcmVuZGVyXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9jb21wb25lbnQvdXRpbF90eXBlL3N0YXRlXCI7IiwKICAgICIvKipcbiAqIHJlYWN0LXJvdXRlciB2Ny4zLjBcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIFJlbWl4IFNvZnR3YXJlIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UubWQgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAbGljZW5zZSBNSVRcbiAqL1xudmFyIF9fdHlwZUVycm9yID0gKG1zZykgPT4ge1xuICB0aHJvdyBUeXBlRXJyb3IobXNnKTtcbn07XG52YXIgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiBtZW1iZXIuaGFzKG9iaikgfHwgX190eXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpO1xudmFyIF9fcHJpdmF0ZUdldCA9IChvYmosIG1lbWJlciwgZ2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJyZWFkIGZyb20gcHJpdmF0ZSBmaWVsZFwiKSwgZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IG1lbWJlci5nZXQob2JqKSk7XG52YXIgX19wcml2YXRlQWRkID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSkgPT4gbWVtYmVyLmhhcyhvYmopID8gX190eXBlRXJyb3IoXCJDYW5ub3QgYWRkIHRoZSBzYW1lIHByaXZhdGUgbWVtYmVyIG1vcmUgdGhhbiBvbmNlXCIpIDogbWVtYmVyIGluc3RhbmNlb2YgV2Vha1NldCA/IG1lbWJlci5hZGQob2JqKSA6IG1lbWJlci5zZXQob2JqLCB2YWx1ZSk7XG5cbi8vIGxpYi9yb3V0ZXIvaGlzdG9yeS50c1xudmFyIEFjdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyAoKEFjdGlvbjIpID0+IHtcbiAgQWN0aW9uMltcIlBvcFwiXSA9IFwiUE9QXCI7XG4gIEFjdGlvbjJbXCJQdXNoXCJdID0gXCJQVVNIXCI7XG4gIEFjdGlvbjJbXCJSZXBsYWNlXCJdID0gXCJSRVBMQUNFXCI7XG4gIHJldHVybiBBY3Rpb24yO1xufSkoQWN0aW9uIHx8IHt9KTtcbnZhciBQb3BTdGF0ZUV2ZW50VHlwZSA9IFwicG9wc3RhdGVcIjtcbmZ1bmN0aW9uIGNyZWF0ZU1lbW9yeUhpc3Rvcnkob3B0aW9ucyA9IHt9KSB7XG4gIGxldCB7IGluaXRpYWxFbnRyaWVzID0gW1wiL1wiXSwgaW5pdGlhbEluZGV4LCB2NUNvbXBhdCA9IGZhbHNlIH0gPSBvcHRpb25zO1xuICBsZXQgZW50cmllcztcbiAgZW50cmllcyA9IGluaXRpYWxFbnRyaWVzLm1hcChcbiAgICAoZW50cnksIGluZGV4MikgPT4gY3JlYXRlTWVtb3J5TG9jYXRpb24oXG4gICAgICBlbnRyeSxcbiAgICAgIHR5cGVvZiBlbnRyeSA9PT0gXCJzdHJpbmdcIiA/IG51bGwgOiBlbnRyeS5zdGF0ZSxcbiAgICAgIGluZGV4MiA9PT0gMCA/IFwiZGVmYXVsdFwiIDogdm9pZCAwXG4gICAgKVxuICApO1xuICBsZXQgaW5kZXggPSBjbGFtcEluZGV4KFxuICAgIGluaXRpYWxJbmRleCA9PSBudWxsID8gZW50cmllcy5sZW5ndGggLSAxIDogaW5pdGlhbEluZGV4XG4gICk7XG4gIGxldCBhY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgbGV0IGxpc3RlbmVyID0gbnVsbDtcbiAgZnVuY3Rpb24gY2xhbXBJbmRleChuKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sIDApLCBlbnRyaWVzLmxlbmd0aCAtIDEpO1xuICB9XG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRMb2NhdGlvbigpIHtcbiAgICByZXR1cm4gZW50cmllc1tpbmRleF07XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlTWVtb3J5TG9jYXRpb24odG8sIHN0YXRlID0gbnVsbCwga2V5KSB7XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oXG4gICAgICBlbnRyaWVzID8gZ2V0Q3VycmVudExvY2F0aW9uKCkucGF0aG5hbWUgOiBcIi9cIixcbiAgICAgIHRvLFxuICAgICAgc3RhdGUsXG4gICAgICBrZXlcbiAgICApO1xuICAgIHdhcm5pbmcoXG4gICAgICBsb2NhdGlvbi5wYXRobmFtZS5jaGFyQXQoMCkgPT09IFwiL1wiLFxuICAgICAgYHJlbGF0aXZlIHBhdGhuYW1lcyBhcmUgbm90IHN1cHBvcnRlZCBpbiBtZW1vcnkgaGlzdG9yeTogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgdG9cbiAgICAgICl9YFxuICAgICk7XG4gICAgcmV0dXJuIGxvY2F0aW9uO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUhyZWYyKHRvKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0byA9PT0gXCJzdHJpbmdcIiA/IHRvIDogY3JlYXRlUGF0aCh0byk7XG4gIH1cbiAgbGV0IGhpc3RvcnkgPSB7XG4gICAgZ2V0IGluZGV4KCkge1xuICAgICAgcmV0dXJuIGluZGV4O1xuICAgIH0sXG4gICAgZ2V0IGFjdGlvbigpIHtcbiAgICAgIHJldHVybiBhY3Rpb247XG4gICAgfSxcbiAgICBnZXQgbG9jYXRpb24oKSB7XG4gICAgICByZXR1cm4gZ2V0Q3VycmVudExvY2F0aW9uKCk7XG4gICAgfSxcbiAgICBjcmVhdGVIcmVmOiBjcmVhdGVIcmVmMixcbiAgICBjcmVhdGVVUkwodG8pIHtcbiAgICAgIHJldHVybiBuZXcgVVJMKGNyZWF0ZUhyZWYyKHRvKSwgXCJodHRwOi8vbG9jYWxob3N0XCIpO1xuICAgIH0sXG4gICAgZW5jb2RlTG9jYXRpb24odG8pIHtcbiAgICAgIGxldCBwYXRoID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHRvKSA6IHRvO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGF0aG5hbWU6IHBhdGgucGF0aG5hbWUgfHwgXCJcIixcbiAgICAgICAgc2VhcmNoOiBwYXRoLnNlYXJjaCB8fCBcIlwiLFxuICAgICAgICBoYXNoOiBwYXRoLmhhc2ggfHwgXCJcIlxuICAgICAgfTtcbiAgICB9LFxuICAgIHB1c2godG8sIHN0YXRlKSB7XG4gICAgICBhY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZU1lbW9yeUxvY2F0aW9uKHRvLCBzdGF0ZSk7XG4gICAgICBpbmRleCArPSAxO1xuICAgICAgZW50cmllcy5zcGxpY2UoaW5kZXgsIGVudHJpZXMubGVuZ3RoLCBuZXh0TG9jYXRpb24pO1xuICAgICAgaWYgKHY1Q29tcGF0ICYmIGxpc3RlbmVyKSB7XG4gICAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogbmV4dExvY2F0aW9uLCBkZWx0YTogMSB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlcGxhY2UodG8sIHN0YXRlKSB7XG4gICAgICBhY3Rpb24gPSBcIlJFUExBQ0VcIiAvKiBSZXBsYWNlICovO1xuICAgICAgbGV0IG5leHRMb2NhdGlvbiA9IGNyZWF0ZU1lbW9yeUxvY2F0aW9uKHRvLCBzdGF0ZSk7XG4gICAgICBlbnRyaWVzW2luZGV4XSA9IG5leHRMb2NhdGlvbjtcbiAgICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IG5leHRMb2NhdGlvbiwgZGVsdGE6IDAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBnbyhkZWx0YSkge1xuICAgICAgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gICAgICBsZXQgbmV4dEluZGV4ID0gY2xhbXBJbmRleChpbmRleCArIGRlbHRhKTtcbiAgICAgIGxldCBuZXh0TG9jYXRpb24gPSBlbnRyaWVzW25leHRJbmRleF07XG4gICAgICBpbmRleCA9IG5leHRJbmRleDtcbiAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IG5leHRMb2NhdGlvbiwgZGVsdGEgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBsaXN0ZW4oZm4pIHtcbiAgICAgIGxpc3RlbmVyID0gZm47XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBsaXN0ZW5lciA9IG51bGw7XG4gICAgICB9O1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5mdW5jdGlvbiBjcmVhdGVCcm93c2VySGlzdG9yeShvcHRpb25zID0ge30pIHtcbiAgZnVuY3Rpb24gY3JlYXRlQnJvd3NlckxvY2F0aW9uKHdpbmRvdzIsIGdsb2JhbEhpc3RvcnkpIHtcbiAgICBsZXQgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0gPSB3aW5kb3cyLmxvY2F0aW9uO1xuICAgIHJldHVybiBjcmVhdGVMb2NhdGlvbihcbiAgICAgIFwiXCIsXG4gICAgICB7IHBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSxcbiAgICAgIC8vIHN0YXRlIGRlZmF1bHRzIHRvIGBudWxsYCBiZWNhdXNlIGB3aW5kb3cuaGlzdG9yeS5zdGF0ZWAgZG9lc1xuICAgICAgZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLnVzciB8fCBudWxsLFxuICAgICAgZ2xvYmFsSGlzdG9yeS5zdGF0ZSAmJiBnbG9iYWxIaXN0b3J5LnN0YXRlLmtleSB8fCBcImRlZmF1bHRcIlxuICAgICk7XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlQnJvd3NlckhyZWYod2luZG93MiwgdG8pIHtcbiAgICByZXR1cm4gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgfVxuICByZXR1cm4gZ2V0VXJsQmFzZWRIaXN0b3J5KFxuICAgIGNyZWF0ZUJyb3dzZXJMb2NhdGlvbixcbiAgICBjcmVhdGVCcm93c2VySHJlZixcbiAgICBudWxsLFxuICAgIG9wdGlvbnNcbiAgKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUhhc2hIaXN0b3J5KG9wdGlvbnMgPSB7fSkge1xuICBmdW5jdGlvbiBjcmVhdGVIYXNoTG9jYXRpb24od2luZG93MiwgZ2xvYmFsSGlzdG9yeSkge1xuICAgIGxldCB7XG4gICAgICBwYXRobmFtZSA9IFwiL1wiLFxuICAgICAgc2VhcmNoID0gXCJcIixcbiAgICAgIGhhc2ggPSBcIlwiXG4gICAgfSA9IHBhcnNlUGF0aCh3aW5kb3cyLmxvY2F0aW9uLmhhc2guc3Vic3RyaW5nKDEpKTtcbiAgICBpZiAoIXBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvXCIpICYmICFwYXRobmFtZS5zdGFydHNXaXRoKFwiLlwiKSkge1xuICAgICAgcGF0aG5hbWUgPSBcIi9cIiArIHBhdGhuYW1lO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlTG9jYXRpb24oXG4gICAgICBcIlwiLFxuICAgICAgeyBwYXRobmFtZSwgc2VhcmNoLCBoYXNoIH0sXG4gICAgICAvLyBzdGF0ZSBkZWZhdWx0cyB0byBgbnVsbGAgYmVjYXVzZSBgd2luZG93Lmhpc3Rvcnkuc3RhdGVgIGRvZXNcbiAgICAgIGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS51c3IgfHwgbnVsbCxcbiAgICAgIGdsb2JhbEhpc3Rvcnkuc3RhdGUgJiYgZ2xvYmFsSGlzdG9yeS5zdGF0ZS5rZXkgfHwgXCJkZWZhdWx0XCJcbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGNyZWF0ZUhhc2hIcmVmKHdpbmRvdzIsIHRvKSB7XG4gICAgbGV0IGJhc2UgPSB3aW5kb3cyLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJiYXNlXCIpO1xuICAgIGxldCBocmVmMiA9IFwiXCI7XG4gICAgaWYgKGJhc2UgJiYgYmFzZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKSB7XG4gICAgICBsZXQgdXJsID0gd2luZG93Mi5sb2NhdGlvbi5ocmVmO1xuICAgICAgbGV0IGhhc2hJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcbiAgICAgIGhyZWYyID0gaGFzaEluZGV4ID09PSAtMSA/IHVybCA6IHVybC5zbGljZSgwLCBoYXNoSW5kZXgpO1xuICAgIH1cbiAgICByZXR1cm4gaHJlZjIgKyBcIiNcIiArICh0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pKTtcbiAgfVxuICBmdW5jdGlvbiB2YWxpZGF0ZUhhc2hMb2NhdGlvbihsb2NhdGlvbiwgdG8pIHtcbiAgICB3YXJuaW5nKFxuICAgICAgbG9jYXRpb24ucGF0aG5hbWUuY2hhckF0KDApID09PSBcIi9cIixcbiAgICAgIGByZWxhdGl2ZSBwYXRobmFtZXMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gaGFzaCBoaXN0b3J5LnB1c2goJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgdG9cbiAgICAgICl9KWBcbiAgICApO1xuICB9XG4gIHJldHVybiBnZXRVcmxCYXNlZEhpc3RvcnkoXG4gICAgY3JlYXRlSGFzaExvY2F0aW9uLFxuICAgIGNyZWF0ZUhhc2hIcmVmLFxuICAgIHZhbGlkYXRlSGFzaExvY2F0aW9uLFxuICAgIG9wdGlvbnNcbiAgKTtcbn1cbmZ1bmN0aW9uIGludmFyaWFudCh2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuZnVuY3Rpb24gd2FybmluZyhjb25kLCBtZXNzYWdlKSB7XG4gIGlmICghY29uZCkge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIikgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgIHRyeSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDEwKTtcbn1cbmZ1bmN0aW9uIGdldEhpc3RvcnlTdGF0ZShsb2NhdGlvbiwgaW5kZXgpIHtcbiAgcmV0dXJuIHtcbiAgICB1c3I6IGxvY2F0aW9uLnN0YXRlLFxuICAgIGtleTogbG9jYXRpb24ua2V5LFxuICAgIGlkeDogaW5kZXhcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKGN1cnJlbnQsIHRvLCBzdGF0ZSA9IG51bGwsIGtleSkge1xuICBsZXQgbG9jYXRpb24gPSB7XG4gICAgcGF0aG5hbWU6IHR5cGVvZiBjdXJyZW50ID09PSBcInN0cmluZ1wiID8gY3VycmVudCA6IGN1cnJlbnQucGF0aG5hbWUsXG4gICAgc2VhcmNoOiBcIlwiLFxuICAgIGhhc2g6IFwiXCIsXG4gICAgLi4udHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHRvKSA6IHRvLFxuICAgIHN0YXRlLFxuICAgIC8vIFRPRE86IFRoaXMgY291bGQgYmUgY2xlYW5lZCB1cC4gIHB1c2gvcmVwbGFjZSBzaG91bGQgcHJvYmFibHkganVzdCB0YWtlXG4gICAgLy8gZnVsbCBMb2NhdGlvbnMgbm93IGFuZCBhdm9pZCB0aGUgbmVlZCB0byBydW4gdGhyb3VnaCB0aGlzIGZsb3cgYXQgYWxsXG4gICAgLy8gQnV0IHRoYXQncyBhIHByZXR0eSBiaWcgcmVmYWN0b3IgdG8gdGhlIGN1cnJlbnQgdGVzdCBzdWl0ZSBzbyBnb2luZyB0b1xuICAgIC8vIGtlZXAgYXMgaXMgZm9yIHRoZSB0aW1lIGJlaW5nIGFuZCBqdXN0IGxldCBhbnkgaW5jb21pbmcga2V5cyB0YWtlIHByZWNlZGVuY2VcbiAgICBrZXk6IHRvICYmIHRvLmtleSB8fCBrZXkgfHwgY3JlYXRlS2V5KClcbiAgfTtcbiAgcmV0dXJuIGxvY2F0aW9uO1xufVxuZnVuY3Rpb24gY3JlYXRlUGF0aCh7XG4gIHBhdGhuYW1lID0gXCIvXCIsXG4gIHNlYXJjaCA9IFwiXCIsXG4gIGhhc2ggPSBcIlwiXG59KSB7XG4gIGlmIChzZWFyY2ggJiYgc2VhcmNoICE9PSBcIj9cIilcbiAgICBwYXRobmFtZSArPSBzZWFyY2guY2hhckF0KDApID09PSBcIj9cIiA/IHNlYXJjaCA6IFwiP1wiICsgc2VhcmNoO1xuICBpZiAoaGFzaCAmJiBoYXNoICE9PSBcIiNcIilcbiAgICBwYXRobmFtZSArPSBoYXNoLmNoYXJBdCgwKSA9PT0gXCIjXCIgPyBoYXNoIDogXCIjXCIgKyBoYXNoO1xuICByZXR1cm4gcGF0aG5hbWU7XG59XG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICBsZXQgcGFyc2VkUGF0aCA9IHt9O1xuICBpZiAocGF0aCkge1xuICAgIGxldCBoYXNoSW5kZXggPSBwYXRoLmluZGV4T2YoXCIjXCIpO1xuICAgIGlmIChoYXNoSW5kZXggPj0gMCkge1xuICAgICAgcGFyc2VkUGF0aC5oYXNoID0gcGF0aC5zdWJzdHJpbmcoaGFzaEluZGV4KTtcbiAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBoYXNoSW5kZXgpO1xuICAgIH1cbiAgICBsZXQgc2VhcmNoSW5kZXggPSBwYXRoLmluZGV4T2YoXCI/XCIpO1xuICAgIGlmIChzZWFyY2hJbmRleCA+PSAwKSB7XG4gICAgICBwYXJzZWRQYXRoLnNlYXJjaCA9IHBhdGguc3Vic3RyaW5nKHNlYXJjaEluZGV4KTtcbiAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBzZWFyY2hJbmRleCk7XG4gICAgfVxuICAgIGlmIChwYXRoKSB7XG4gICAgICBwYXJzZWRQYXRoLnBhdGhuYW1lID0gcGF0aDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnNlZFBhdGg7XG59XG5mdW5jdGlvbiBnZXRVcmxCYXNlZEhpc3RvcnkoZ2V0TG9jYXRpb24sIGNyZWF0ZUhyZWYyLCB2YWxpZGF0ZUxvY2F0aW9uLCBvcHRpb25zID0ge30pIHtcbiAgbGV0IHsgd2luZG93OiB3aW5kb3cyID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcsIHY1Q29tcGF0ID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGxldCBnbG9iYWxIaXN0b3J5ID0gd2luZG93Mi5oaXN0b3J5O1xuICBsZXQgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gIGxldCBsaXN0ZW5lciA9IG51bGw7XG4gIGxldCBpbmRleCA9IGdldEluZGV4KCk7XG4gIGlmIChpbmRleCA9PSBudWxsKSB7XG4gICAgaW5kZXggPSAwO1xuICAgIGdsb2JhbEhpc3RvcnkucmVwbGFjZVN0YXRlKHsgLi4uZ2xvYmFsSGlzdG9yeS5zdGF0ZSwgaWR4OiBpbmRleCB9LCBcIlwiKTtcbiAgfVxuICBmdW5jdGlvbiBnZXRJbmRleCgpIHtcbiAgICBsZXQgc3RhdGUgPSBnbG9iYWxIaXN0b3J5LnN0YXRlIHx8IHsgaWR4OiBudWxsIH07XG4gICAgcmV0dXJuIHN0YXRlLmlkeDtcbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVQb3AoKSB7XG4gICAgYWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gICAgbGV0IG5leHRJbmRleCA9IGdldEluZGV4KCk7XG4gICAgbGV0IGRlbHRhID0gbmV4dEluZGV4ID09IG51bGwgPyBudWxsIDogbmV4dEluZGV4IC0gaW5kZXg7XG4gICAgaW5kZXggPSBuZXh0SW5kZXg7XG4gICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcih7IGFjdGlvbiwgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb24sIGRlbHRhIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdXNoKHRvLCBzdGF0ZSkge1xuICAgIGFjdGlvbiA9IFwiUFVTSFwiIC8qIFB1c2ggKi87XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oaGlzdG9yeS5sb2NhdGlvbiwgdG8sIHN0YXRlKTtcbiAgICBpZiAodmFsaWRhdGVMb2NhdGlvbikgdmFsaWRhdGVMb2NhdGlvbihsb2NhdGlvbiwgdG8pO1xuICAgIGluZGV4ID0gZ2V0SW5kZXgoKSArIDE7XG4gICAgbGV0IGhpc3RvcnlTdGF0ZSA9IGdldEhpc3RvcnlTdGF0ZShsb2NhdGlvbiwgaW5kZXgpO1xuICAgIGxldCB1cmwgPSBoaXN0b3J5LmNyZWF0ZUhyZWYobG9jYXRpb24pO1xuICAgIHRyeSB7XG4gICAgICBnbG9iYWxIaXN0b3J5LnB1c2hTdGF0ZShoaXN0b3J5U3RhdGUsIFwiXCIsIHVybCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiAmJiBlcnJvci5uYW1lID09PSBcIkRhdGFDbG9uZUVycm9yXCIpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICB3aW5kb3cyLmxvY2F0aW9uLmFzc2lnbih1cmwpO1xuICAgIH1cbiAgICBpZiAodjVDb21wYXQgJiYgbGlzdGVuZXIpIHtcbiAgICAgIGxpc3RlbmVyKHsgYWN0aW9uLCBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvbiwgZGVsdGE6IDEgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHJlcGxhY2UyKHRvLCBzdGF0ZSkge1xuICAgIGFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgbGV0IGxvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oaGlzdG9yeS5sb2NhdGlvbiwgdG8sIHN0YXRlKTtcbiAgICBpZiAodmFsaWRhdGVMb2NhdGlvbikgdmFsaWRhdGVMb2NhdGlvbihsb2NhdGlvbiwgdG8pO1xuICAgIGluZGV4ID0gZ2V0SW5kZXgoKTtcbiAgICBsZXQgaGlzdG9yeVN0YXRlID0gZ2V0SGlzdG9yeVN0YXRlKGxvY2F0aW9uLCBpbmRleCk7XG4gICAgbGV0IHVybCA9IGhpc3RvcnkuY3JlYXRlSHJlZihsb2NhdGlvbik7XG4gICAgZ2xvYmFsSGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeVN0YXRlLCBcIlwiLCB1cmwpO1xuICAgIGlmICh2NUNvbXBhdCAmJiBsaXN0ZW5lcikge1xuICAgICAgbGlzdGVuZXIoeyBhY3Rpb24sIGxvY2F0aW9uOiBoaXN0b3J5LmxvY2F0aW9uLCBkZWx0YTogMCB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY3JlYXRlVVJMKHRvKSB7XG4gICAgbGV0IGJhc2UgPSB3aW5kb3cyLmxvY2F0aW9uLm9yaWdpbiAhPT0gXCJudWxsXCIgPyB3aW5kb3cyLmxvY2F0aW9uLm9yaWdpbiA6IHdpbmRvdzIubG9jYXRpb24uaHJlZjtcbiAgICBsZXQgaHJlZjIgPSB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xuICAgIGhyZWYyID0gaHJlZjIucmVwbGFjZSgvICQvLCBcIiUyMFwiKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICBiYXNlLFxuICAgICAgYE5vIHdpbmRvdy5sb2NhdGlvbi4ob3JpZ2lufGhyZWYpIGF2YWlsYWJsZSB0byBjcmVhdGUgVVJMIGZvciBocmVmOiAke2hyZWYyfWBcbiAgICApO1xuICAgIHJldHVybiBuZXcgVVJMKGhyZWYyLCBiYXNlKTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IHtcbiAgICBnZXQgYWN0aW9uKCkge1xuICAgICAgcmV0dXJuIGFjdGlvbjtcbiAgICB9LFxuICAgIGdldCBsb2NhdGlvbigpIHtcbiAgICAgIHJldHVybiBnZXRMb2NhdGlvbih3aW5kb3cyLCBnbG9iYWxIaXN0b3J5KTtcbiAgICB9LFxuICAgIGxpc3Rlbihmbikge1xuICAgICAgaWYgKGxpc3RlbmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkEgaGlzdG9yeSBvbmx5IGFjY2VwdHMgb25lIGFjdGl2ZSBsaXN0ZW5lclwiKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdzIuYWRkRXZlbnRMaXN0ZW5lcihQb3BTdGF0ZUV2ZW50VHlwZSwgaGFuZGxlUG9wKTtcbiAgICAgIGxpc3RlbmVyID0gZm47XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB3aW5kb3cyLnJlbW92ZUV2ZW50TGlzdGVuZXIoUG9wU3RhdGVFdmVudFR5cGUsIGhhbmRsZVBvcCk7XG4gICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgIH07XG4gICAgfSxcbiAgICBjcmVhdGVIcmVmKHRvKSB7XG4gICAgICByZXR1cm4gY3JlYXRlSHJlZjIod2luZG93MiwgdG8pO1xuICAgIH0sXG4gICAgY3JlYXRlVVJMLFxuICAgIGVuY29kZUxvY2F0aW9uKHRvKSB7XG4gICAgICBsZXQgdXJsID0gY3JlYXRlVVJMKHRvKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGhuYW1lOiB1cmwucGF0aG5hbWUsXG4gICAgICAgIHNlYXJjaDogdXJsLnNlYXJjaCxcbiAgICAgICAgaGFzaDogdXJsLmhhc2hcbiAgICAgIH07XG4gICAgfSxcbiAgICBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgIGdvKG4pIHtcbiAgICAgIHJldHVybiBnbG9iYWxIaXN0b3J5LmdvKG4pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGhpc3Rvcnk7XG59XG5cbi8vIGxpYi9yb3V0ZXIvdXRpbHMudHNcbmZ1bmN0aW9uIHVuc3RhYmxlX2NyZWF0ZUNvbnRleHQoZGVmYXVsdFZhbHVlKSB7XG4gIHJldHVybiB7IGRlZmF1bHRWYWx1ZSB9O1xufVxudmFyIF9tYXA7XG52YXIgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihpbml0KSB7XG4gICAgX19wcml2YXRlQWRkKHRoaXMsIF9tYXAsIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCkpO1xuICAgIGlmIChpbml0KSB7XG4gICAgICBmb3IgKGxldCBbY29udGV4dCwgdmFsdWVdIG9mIGluaXQpIHtcbiAgICAgICAgdGhpcy5zZXQoY29udGV4dCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBnZXQoY29udGV4dCkge1xuICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX21hcCkuaGFzKGNvbnRleHQpKSB7XG4gICAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9tYXApLmdldChjb250ZXh0KTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuZGVmYXVsdFZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmRlZmF1bHRWYWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gdmFsdWUgZm91bmQgZm9yIGNvbnRleHRcIik7XG4gIH1cbiAgc2V0KGNvbnRleHQsIHZhbHVlKSB7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9tYXApLnNldChjb250ZXh0LCB2YWx1ZSk7XG4gIH1cbn07XG5fbWFwID0gbmV3IFdlYWtNYXAoKTtcbnZhciBpbW11dGFibGVSb3V0ZUtleXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwibGF6eVwiLFxuICBcImNhc2VTZW5zaXRpdmVcIixcbiAgXCJwYXRoXCIsXG4gIFwiaWRcIixcbiAgXCJpbmRleFwiLFxuICBcImNoaWxkcmVuXCJcbl0pO1xuZnVuY3Rpb24gaXNJbmRleFJvdXRlKHJvdXRlKSB7XG4gIHJldHVybiByb3V0ZS5pbmRleCA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMocm91dGVzLCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBwYXJlbnRQYXRoID0gW10sIG1hbmlmZXN0ID0ge30pIHtcbiAgcmV0dXJuIHJvdXRlcy5tYXAoKHJvdXRlLCBpbmRleCkgPT4ge1xuICAgIGxldCB0cmVlUGF0aCA9IFsuLi5wYXJlbnRQYXRoLCBTdHJpbmcoaW5kZXgpXTtcbiAgICBsZXQgaWQgPSB0eXBlb2Ygcm91dGUuaWQgPT09IFwic3RyaW5nXCIgPyByb3V0ZS5pZCA6IHRyZWVQYXRoLmpvaW4oXCItXCIpO1xuICAgIGludmFyaWFudChcbiAgICAgIHJvdXRlLmluZGV4ICE9PSB0cnVlIHx8ICFyb3V0ZS5jaGlsZHJlbixcbiAgICAgIGBDYW5ub3Qgc3BlY2lmeSBjaGlsZHJlbiBvbiBhbiBpbmRleCByb3V0ZWBcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICFtYW5pZmVzdFtpZF0sXG4gICAgICBgRm91bmQgYSByb3V0ZSBpZCBjb2xsaXNpb24gb24gaWQgXCIke2lkfVwiLiAgUm91dGUgaWQncyBtdXN0IGJlIGdsb2JhbGx5IHVuaXF1ZSB3aXRoaW4gRGF0YSBSb3V0ZXIgdXNhZ2VzYFxuICAgICk7XG4gICAgaWYgKGlzSW5kZXhSb3V0ZShyb3V0ZSkpIHtcbiAgICAgIGxldCBpbmRleFJvdXRlID0ge1xuICAgICAgICAuLi5yb3V0ZSxcbiAgICAgICAgLi4ubWFwUm91dGVQcm9wZXJ0aWVzMihyb3V0ZSksXG4gICAgICAgIGlkXG4gICAgICB9O1xuICAgICAgbWFuaWZlc3RbaWRdID0gaW5kZXhSb3V0ZTtcbiAgICAgIHJldHVybiBpbmRleFJvdXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcGF0aE9yTGF5b3V0Um91dGUgPSB7XG4gICAgICAgIC4uLnJvdXRlLFxuICAgICAgICAuLi5tYXBSb3V0ZVByb3BlcnRpZXMyKHJvdXRlKSxcbiAgICAgICAgaWQsXG4gICAgICAgIGNoaWxkcmVuOiB2b2lkIDBcbiAgICAgIH07XG4gICAgICBtYW5pZmVzdFtpZF0gPSBwYXRoT3JMYXlvdXRSb3V0ZTtcbiAgICAgIGlmIChyb3V0ZS5jaGlsZHJlbikge1xuICAgICAgICBwYXRoT3JMYXlvdXRSb3V0ZS5jaGlsZHJlbiA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgICAgICAgcm91dGUuY2hpbGRyZW4sXG4gICAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMixcbiAgICAgICAgICB0cmVlUGF0aCxcbiAgICAgICAgICBtYW5pZmVzdFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBhdGhPckxheW91dFJvdXRlO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBtYXRjaFJvdXRlcyhyb3V0ZXMsIGxvY2F0aW9uQXJnLCBiYXNlbmFtZSA9IFwiL1wiKSB7XG4gIHJldHVybiBtYXRjaFJvdXRlc0ltcGwocm91dGVzLCBsb2NhdGlvbkFyZywgYmFzZW5hbWUsIGZhbHNlKTtcbn1cbmZ1bmN0aW9uIG1hdGNoUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnLCBiYXNlbmFtZSwgYWxsb3dQYXJ0aWFsKSB7XG4gIGxldCBsb2NhdGlvbiA9IHR5cGVvZiBsb2NhdGlvbkFyZyA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbkFyZykgOiBsb2NhdGlvbkFyZztcbiAgbGV0IHBhdGhuYW1lID0gc3RyaXBCYXNlbmFtZShsb2NhdGlvbi5wYXRobmFtZSB8fCBcIi9cIiwgYmFzZW5hbWUpO1xuICBpZiAocGF0aG5hbWUgPT0gbnVsbCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBicmFuY2hlcyA9IGZsYXR0ZW5Sb3V0ZXMocm91dGVzKTtcbiAgcmFua1JvdXRlQnJhbmNoZXMoYnJhbmNoZXMpO1xuICBsZXQgbWF0Y2hlcyA9IG51bGw7XG4gIGZvciAobGV0IGkgPSAwOyBtYXRjaGVzID09IG51bGwgJiYgaSA8IGJyYW5jaGVzLmxlbmd0aDsgKytpKSB7XG4gICAgbGV0IGRlY29kZWQgPSBkZWNvZGVQYXRoKHBhdGhuYW1lKTtcbiAgICBtYXRjaGVzID0gbWF0Y2hSb3V0ZUJyYW5jaChcbiAgICAgIGJyYW5jaGVzW2ldLFxuICAgICAgZGVjb2RlZCxcbiAgICAgIGFsbG93UGFydGlhbFxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5mdW5jdGlvbiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtYXRjaCwgbG9hZGVyRGF0YSkge1xuICBsZXQgeyByb3V0ZSwgcGF0aG5hbWUsIHBhcmFtcyB9ID0gbWF0Y2g7XG4gIHJldHVybiB7XG4gICAgaWQ6IHJvdXRlLmlkLFxuICAgIHBhdGhuYW1lLFxuICAgIHBhcmFtcyxcbiAgICBkYXRhOiBsb2FkZXJEYXRhW3JvdXRlLmlkXSxcbiAgICBoYW5kbGU6IHJvdXRlLmhhbmRsZVxuICB9O1xufVxuZnVuY3Rpb24gZmxhdHRlblJvdXRlcyhyb3V0ZXMsIGJyYW5jaGVzID0gW10sIHBhcmVudHNNZXRhID0gW10sIHBhcmVudFBhdGggPSBcIlwiKSB7XG4gIGxldCBmbGF0dGVuUm91dGUgPSAocm91dGUsIGluZGV4LCByZWxhdGl2ZVBhdGgpID0+IHtcbiAgICBsZXQgbWV0YSA9IHtcbiAgICAgIHJlbGF0aXZlUGF0aDogcmVsYXRpdmVQYXRoID09PSB2b2lkIDAgPyByb3V0ZS5wYXRoIHx8IFwiXCIgOiByZWxhdGl2ZVBhdGgsXG4gICAgICBjYXNlU2Vuc2l0aXZlOiByb3V0ZS5jYXNlU2Vuc2l0aXZlID09PSB0cnVlLFxuICAgICAgY2hpbGRyZW5JbmRleDogaW5kZXgsXG4gICAgICByb3V0ZVxuICAgIH07XG4gICAgaWYgKG1ldGEucmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIG1ldGEucmVsYXRpdmVQYXRoLnN0YXJ0c1dpdGgocGFyZW50UGF0aCksXG4gICAgICAgIGBBYnNvbHV0ZSByb3V0ZSBwYXRoIFwiJHttZXRhLnJlbGF0aXZlUGF0aH1cIiBuZXN0ZWQgdW5kZXIgcGF0aCBcIiR7cGFyZW50UGF0aH1cIiBpcyBub3QgdmFsaWQuIEFuIGFic29sdXRlIGNoaWxkIHJvdXRlIHBhdGggbXVzdCBzdGFydCB3aXRoIHRoZSBjb21iaW5lZCBwYXRoIG9mIGFsbCBpdHMgcGFyZW50IHJvdXRlcy5gXG4gICAgICApO1xuICAgICAgbWV0YS5yZWxhdGl2ZVBhdGggPSBtZXRhLnJlbGF0aXZlUGF0aC5zbGljZShwYXJlbnRQYXRoLmxlbmd0aCk7XG4gICAgfVxuICAgIGxldCBwYXRoID0gam9pblBhdGhzKFtwYXJlbnRQYXRoLCBtZXRhLnJlbGF0aXZlUGF0aF0pO1xuICAgIGxldCByb3V0ZXNNZXRhID0gcGFyZW50c01ldGEuY29uY2F0KG1ldGEpO1xuICAgIGlmIChyb3V0ZS5jaGlsZHJlbiAmJiByb3V0ZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIC8vIE91ciB0eXBlcyBrbm93IGJldHRlciwgYnV0IHJ1bnRpbWUgSlMgbWF5IG5vdCFcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICByb3V0ZS5pbmRleCAhPT0gdHJ1ZSxcbiAgICAgICAgYEluZGV4IHJvdXRlcyBtdXN0IG5vdCBoYXZlIGNoaWxkIHJvdXRlcy4gUGxlYXNlIHJlbW92ZSBhbGwgY2hpbGQgcm91dGVzIGZyb20gcm91dGUgcGF0aCBcIiR7cGF0aH1cIi5gXG4gICAgICApO1xuICAgICAgZmxhdHRlblJvdXRlcyhyb3V0ZS5jaGlsZHJlbiwgYnJhbmNoZXMsIHJvdXRlc01ldGEsIHBhdGgpO1xuICAgIH1cbiAgICBpZiAocm91dGUucGF0aCA9PSBudWxsICYmICFyb3V0ZS5pbmRleCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBicmFuY2hlcy5wdXNoKHtcbiAgICAgIHBhdGgsXG4gICAgICBzY29yZTogY29tcHV0ZVNjb3JlKHBhdGgsIHJvdXRlLmluZGV4KSxcbiAgICAgIHJvdXRlc01ldGFcbiAgICB9KTtcbiAgfTtcbiAgcm91dGVzLmZvckVhY2goKHJvdXRlLCBpbmRleCkgPT4ge1xuICAgIGlmIChyb3V0ZS5wYXRoID09PSBcIlwiIHx8ICFyb3V0ZS5wYXRoPy5pbmNsdWRlcyhcIj9cIikpIHtcbiAgICAgIGZsYXR0ZW5Sb3V0ZShyb3V0ZSwgaW5kZXgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBleHBsb2RlZCBvZiBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhyb3V0ZS5wYXRoKSkge1xuICAgICAgICBmbGF0dGVuUm91dGUocm91dGUsIGluZGV4LCBleHBsb2RlZCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGJyYW5jaGVzO1xufVxuZnVuY3Rpb24gZXhwbG9kZU9wdGlvbmFsU2VnbWVudHMocGF0aCkge1xuICBsZXQgc2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgaWYgKHNlZ21lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIFtdO1xuICBsZXQgW2ZpcnN0LCAuLi5yZXN0XSA9IHNlZ21lbnRzO1xuICBsZXQgaXNPcHRpb25hbCA9IGZpcnN0LmVuZHNXaXRoKFwiP1wiKTtcbiAgbGV0IHJlcXVpcmVkID0gZmlyc3QucmVwbGFjZSgvXFw/JC8sIFwiXCIpO1xuICBpZiAocmVzdC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gaXNPcHRpb25hbCA/IFtyZXF1aXJlZCwgXCJcIl0gOiBbcmVxdWlyZWRdO1xuICB9XG4gIGxldCByZXN0RXhwbG9kZWQgPSBleHBsb2RlT3B0aW9uYWxTZWdtZW50cyhyZXN0LmpvaW4oXCIvXCIpKTtcbiAgbGV0IHJlc3VsdCA9IFtdO1xuICByZXN1bHQucHVzaChcbiAgICAuLi5yZXN0RXhwbG9kZWQubWFwKFxuICAgICAgKHN1YnBhdGgpID0+IHN1YnBhdGggPT09IFwiXCIgPyByZXF1aXJlZCA6IFtyZXF1aXJlZCwgc3VicGF0aF0uam9pbihcIi9cIilcbiAgICApXG4gICk7XG4gIGlmIChpc09wdGlvbmFsKSB7XG4gICAgcmVzdWx0LnB1c2goLi4ucmVzdEV4cGxvZGVkKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0Lm1hcChcbiAgICAoZXhwbG9kZWQpID0+IHBhdGguc3RhcnRzV2l0aChcIi9cIikgJiYgZXhwbG9kZWQgPT09IFwiXCIgPyBcIi9cIiA6IGV4cGxvZGVkXG4gICk7XG59XG5mdW5jdGlvbiByYW5rUm91dGVCcmFuY2hlcyhicmFuY2hlcykge1xuICBicmFuY2hlcy5zb3J0KFxuICAgIChhLCBiKSA9PiBhLnNjb3JlICE9PSBiLnNjb3JlID8gYi5zY29yZSAtIGEuc2NvcmUgOiBjb21wYXJlSW5kZXhlcyhcbiAgICAgIGEucm91dGVzTWV0YS5tYXAoKG1ldGEpID0+IG1ldGEuY2hpbGRyZW5JbmRleCksXG4gICAgICBiLnJvdXRlc01ldGEubWFwKChtZXRhKSA9PiBtZXRhLmNoaWxkcmVuSW5kZXgpXG4gICAgKVxuICApO1xufVxudmFyIHBhcmFtUmUgPSAvXjpbXFx3LV0rJC87XG52YXIgZHluYW1pY1NlZ21lbnRWYWx1ZSA9IDM7XG52YXIgaW5kZXhSb3V0ZVZhbHVlID0gMjtcbnZhciBlbXB0eVNlZ21lbnRWYWx1ZSA9IDE7XG52YXIgc3RhdGljU2VnbWVudFZhbHVlID0gMTA7XG52YXIgc3BsYXRQZW5hbHR5ID0gLTI7XG52YXIgaXNTcGxhdCA9IChzKSA9PiBzID09PSBcIipcIjtcbmZ1bmN0aW9uIGNvbXB1dGVTY29yZShwYXRoLCBpbmRleCkge1xuICBsZXQgc2VnbWVudHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgbGV0IGluaXRpYWxTY29yZSA9IHNlZ21lbnRzLmxlbmd0aDtcbiAgaWYgKHNlZ21lbnRzLnNvbWUoaXNTcGxhdCkpIHtcbiAgICBpbml0aWFsU2NvcmUgKz0gc3BsYXRQZW5hbHR5O1xuICB9XG4gIGlmIChpbmRleCkge1xuICAgIGluaXRpYWxTY29yZSArPSBpbmRleFJvdXRlVmFsdWU7XG4gIH1cbiAgcmV0dXJuIHNlZ21lbnRzLmZpbHRlcigocykgPT4gIWlzU3BsYXQocykpLnJlZHVjZShcbiAgICAoc2NvcmUsIHNlZ21lbnQpID0+IHNjb3JlICsgKHBhcmFtUmUudGVzdChzZWdtZW50KSA/IGR5bmFtaWNTZWdtZW50VmFsdWUgOiBzZWdtZW50ID09PSBcIlwiID8gZW1wdHlTZWdtZW50VmFsdWUgOiBzdGF0aWNTZWdtZW50VmFsdWUpLFxuICAgIGluaXRpYWxTY29yZVxuICApO1xufVxuZnVuY3Rpb24gY29tcGFyZUluZGV4ZXMoYSwgYikge1xuICBsZXQgc2libGluZ3MgPSBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgYS5zbGljZSgwLCAtMSkuZXZlcnkoKG4sIGkpID0+IG4gPT09IGJbaV0pO1xuICByZXR1cm4gc2libGluZ3MgPyAoXG4gICAgLy8gSWYgdHdvIHJvdXRlcyBhcmUgc2libGluZ3MsIHdlIHNob3VsZCB0cnkgdG8gbWF0Y2ggdGhlIGVhcmxpZXIgc2libGluZ1xuICAgIC8vIGZpcnN0LiBUaGlzIGFsbG93cyBwZW9wbGUgdG8gaGF2ZSBmaW5lLWdyYWluZWQgY29udHJvbCBvdmVyIHRoZSBtYXRjaGluZ1xuICAgIC8vIGJlaGF2aW9yIGJ5IHNpbXBseSBwdXR0aW5nIHJvdXRlcyB3aXRoIGlkZW50aWNhbCBwYXRocyBpbiB0aGUgb3JkZXIgdGhleVxuICAgIC8vIHdhbnQgdGhlbSB0cmllZC5cbiAgICBhW2EubGVuZ3RoIC0gMV0gLSBiW2IubGVuZ3RoIC0gMV1cbiAgKSA6IChcbiAgICAvLyBPdGhlcndpc2UsIGl0IGRvZXNuJ3QgcmVhbGx5IG1ha2Ugc2Vuc2UgdG8gcmFuayBub24tc2libGluZ3MgYnkgaW5kZXgsXG4gICAgLy8gc28gdGhleSBzb3J0IGVxdWFsbHkuXG4gICAgMFxuICApO1xufVxuZnVuY3Rpb24gbWF0Y2hSb3V0ZUJyYW5jaChicmFuY2gsIHBhdGhuYW1lLCBhbGxvd1BhcnRpYWwgPSBmYWxzZSkge1xuICBsZXQgeyByb3V0ZXNNZXRhIH0gPSBicmFuY2g7XG4gIGxldCBtYXRjaGVkUGFyYW1zID0ge307XG4gIGxldCBtYXRjaGVkUGF0aG5hbWUgPSBcIi9cIjtcbiAgbGV0IG1hdGNoZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3V0ZXNNZXRhLmxlbmd0aDsgKytpKSB7XG4gICAgbGV0IG1ldGEgPSByb3V0ZXNNZXRhW2ldO1xuICAgIGxldCBlbmQgPSBpID09PSByb3V0ZXNNZXRhLmxlbmd0aCAtIDE7XG4gICAgbGV0IHJlbWFpbmluZ1BhdGhuYW1lID0gbWF0Y2hlZFBhdGhuYW1lID09PSBcIi9cIiA/IHBhdGhuYW1lIDogcGF0aG5hbWUuc2xpY2UobWF0Y2hlZFBhdGhuYW1lLmxlbmd0aCkgfHwgXCIvXCI7XG4gICAgbGV0IG1hdGNoID0gbWF0Y2hQYXRoKFxuICAgICAgeyBwYXRoOiBtZXRhLnJlbGF0aXZlUGF0aCwgY2FzZVNlbnNpdGl2ZTogbWV0YS5jYXNlU2Vuc2l0aXZlLCBlbmQgfSxcbiAgICAgIHJlbWFpbmluZ1BhdGhuYW1lXG4gICAgKTtcbiAgICBsZXQgcm91dGUgPSBtZXRhLnJvdXRlO1xuICAgIGlmICghbWF0Y2ggJiYgZW5kICYmIGFsbG93UGFydGlhbCAmJiAhcm91dGVzTWV0YVtyb3V0ZXNNZXRhLmxlbmd0aCAtIDFdLnJvdXRlLmluZGV4KSB7XG4gICAgICBtYXRjaCA9IG1hdGNoUGF0aChcbiAgICAgICAge1xuICAgICAgICAgIHBhdGg6IG1ldGEucmVsYXRpdmVQYXRoLFxuICAgICAgICAgIGNhc2VTZW5zaXRpdmU6IG1ldGEuY2FzZVNlbnNpdGl2ZSxcbiAgICAgICAgICBlbmQ6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIHJlbWFpbmluZ1BhdGhuYW1lXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihtYXRjaGVkUGFyYW1zLCBtYXRjaC5wYXJhbXMpO1xuICAgIG1hdGNoZXMucHVzaCh7XG4gICAgICAvLyBUT0RPOiBDYW4gdGhpcyBhcyBiZSBhdm9pZGVkP1xuICAgICAgcGFyYW1zOiBtYXRjaGVkUGFyYW1zLFxuICAgICAgcGF0aG5hbWU6IGpvaW5QYXRocyhbbWF0Y2hlZFBhdGhuYW1lLCBtYXRjaC5wYXRobmFtZV0pLFxuICAgICAgcGF0aG5hbWVCYXNlOiBub3JtYWxpemVQYXRobmFtZShcbiAgICAgICAgam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lQmFzZV0pXG4gICAgICApLFxuICAgICAgcm91dGVcbiAgICB9KTtcbiAgICBpZiAobWF0Y2gucGF0aG5hbWVCYXNlICE9PSBcIi9cIikge1xuICAgICAgbWF0Y2hlZFBhdGhuYW1lID0gam9pblBhdGhzKFttYXRjaGVkUGF0aG5hbWUsIG1hdGNoLnBhdGhuYW1lQmFzZV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbWF0Y2hlcztcbn1cbmZ1bmN0aW9uIGdlbmVyYXRlUGF0aChvcmlnaW5hbFBhdGgsIHBhcmFtcyA9IHt9KSB7XG4gIGxldCBwYXRoID0gb3JpZ2luYWxQYXRoO1xuICBpZiAocGF0aC5lbmRzV2l0aChcIipcIikgJiYgcGF0aCAhPT0gXCIqXCIgJiYgIXBhdGguZW5kc1dpdGgoXCIvKlwiKSkge1xuICAgIHdhcm5pbmcoXG4gICAgICBmYWxzZSxcbiAgICAgIGBSb3V0ZSBwYXRoIFwiJHtwYXRofVwiIHdpbGwgYmUgdHJlYXRlZCBhcyBpZiBpdCB3ZXJlIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiIGJlY2F1c2UgdGhlIFxcYCpcXGAgY2hhcmFjdGVyIG11c3QgYWx3YXlzIGZvbGxvdyBhIFxcYC9cXGAgaW4gdGhlIHBhdHRlcm4uIFRvIGdldCByaWQgb2YgdGhpcyB3YXJuaW5nLCBwbGVhc2UgY2hhbmdlIHRoZSByb3V0ZSBwYXRoIHRvIFwiJHtwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpfVwiLmBcbiAgICApO1xuICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xcKiQvLCBcIi8qXCIpO1xuICB9XG4gIGNvbnN0IHByZWZpeCA9IHBhdGguc3RhcnRzV2l0aChcIi9cIikgPyBcIi9cIiA6IFwiXCI7XG4gIGNvbnN0IHN0cmluZ2lmeSA9IChwKSA9PiBwID09IG51bGwgPyBcIlwiIDogdHlwZW9mIHAgPT09IFwic3RyaW5nXCIgPyBwIDogU3RyaW5nKHApO1xuICBjb25zdCBzZWdtZW50cyA9IHBhdGguc3BsaXQoL1xcLysvKS5tYXAoKHNlZ21lbnQsIGluZGV4LCBhcnJheSkgPT4ge1xuICAgIGNvbnN0IGlzTGFzdFNlZ21lbnQgPSBpbmRleCA9PT0gYXJyYXkubGVuZ3RoIC0gMTtcbiAgICBpZiAoaXNMYXN0U2VnbWVudCAmJiBzZWdtZW50ID09PSBcIipcIikge1xuICAgICAgY29uc3Qgc3RhciA9IFwiKlwiO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeShwYXJhbXNbc3Rhcl0pO1xuICAgIH1cbiAgICBjb25zdCBrZXlNYXRjaCA9IHNlZ21lbnQubWF0Y2goL146KFtcXHctXSspKFxcPz8pJC8pO1xuICAgIGlmIChrZXlNYXRjaCkge1xuICAgICAgY29uc3QgWywga2V5LCBvcHRpb25hbF0gPSBrZXlNYXRjaDtcbiAgICAgIGxldCBwYXJhbSA9IHBhcmFtc1trZXldO1xuICAgICAgaW52YXJpYW50KG9wdGlvbmFsID09PSBcIj9cIiB8fCBwYXJhbSAhPSBudWxsLCBgTWlzc2luZyBcIjoke2tleX1cIiBwYXJhbWApO1xuICAgICAgcmV0dXJuIHN0cmluZ2lmeShwYXJhbSk7XG4gICAgfVxuICAgIHJldHVybiBzZWdtZW50LnJlcGxhY2UoL1xcPyQvZywgXCJcIik7XG4gIH0pLmZpbHRlcigoc2VnbWVudCkgPT4gISFzZWdtZW50KTtcbiAgcmV0dXJuIHByZWZpeCArIHNlZ21lbnRzLmpvaW4oXCIvXCIpO1xufVxuZnVuY3Rpb24gbWF0Y2hQYXRoKHBhdHRlcm4sIHBhdGhuYW1lKSB7XG4gIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gXCJzdHJpbmdcIikge1xuICAgIHBhdHRlcm4gPSB7IHBhdGg6IHBhdHRlcm4sIGNhc2VTZW5zaXRpdmU6IGZhbHNlLCBlbmQ6IHRydWUgfTtcbiAgfVxuICBsZXQgW21hdGNoZXIsIGNvbXBpbGVkUGFyYW1zXSA9IGNvbXBpbGVQYXRoKFxuICAgIHBhdHRlcm4ucGF0aCxcbiAgICBwYXR0ZXJuLmNhc2VTZW5zaXRpdmUsXG4gICAgcGF0dGVybi5lbmRcbiAgKTtcbiAgbGV0IG1hdGNoID0gcGF0aG5hbWUubWF0Y2gobWF0Y2hlcik7XG4gIGlmICghbWF0Y2gpIHJldHVybiBudWxsO1xuICBsZXQgbWF0Y2hlZFBhdGhuYW1lID0gbWF0Y2hbMF07XG4gIGxldCBwYXRobmFtZUJhc2UgPSBtYXRjaGVkUGF0aG5hbWUucmVwbGFjZSgvKC4pXFwvKyQvLCBcIiQxXCIpO1xuICBsZXQgY2FwdHVyZUdyb3VwcyA9IG1hdGNoLnNsaWNlKDEpO1xuICBsZXQgcGFyYW1zID0gY29tcGlsZWRQYXJhbXMucmVkdWNlKFxuICAgIChtZW1vMiwgeyBwYXJhbU5hbWUsIGlzT3B0aW9uYWwgfSwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChwYXJhbU5hbWUgPT09IFwiKlwiKSB7XG4gICAgICAgIGxldCBzcGxhdFZhbHVlID0gY2FwdHVyZUdyb3Vwc1tpbmRleF0gfHwgXCJcIjtcbiAgICAgICAgcGF0aG5hbWVCYXNlID0gbWF0Y2hlZFBhdGhuYW1lLnNsaWNlKDAsIG1hdGNoZWRQYXRobmFtZS5sZW5ndGggLSBzcGxhdFZhbHVlLmxlbmd0aCkucmVwbGFjZSgvKC4pXFwvKyQvLCBcIiQxXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSBjYXB0dXJlR3JvdXBzW2luZGV4XTtcbiAgICAgIGlmIChpc09wdGlvbmFsICYmICF2YWx1ZSkge1xuICAgICAgICBtZW1vMltwYXJhbU5hbWVdID0gdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVtbzJbcGFyYW1OYW1lXSA9ICh2YWx1ZSB8fCBcIlwiKS5yZXBsYWNlKC8lMkYvZywgXCIvXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1lbW8yO1xuICAgIH0sXG4gICAge31cbiAgKTtcbiAgcmV0dXJuIHtcbiAgICBwYXJhbXMsXG4gICAgcGF0aG5hbWU6IG1hdGNoZWRQYXRobmFtZSxcbiAgICBwYXRobmFtZUJhc2UsXG4gICAgcGF0dGVyblxuICB9O1xufVxuZnVuY3Rpb24gY29tcGlsZVBhdGgocGF0aCwgY2FzZVNlbnNpdGl2ZSA9IGZhbHNlLCBlbmQgPSB0cnVlKSB7XG4gIHdhcm5pbmcoXG4gICAgcGF0aCA9PT0gXCIqXCIgfHwgIXBhdGguZW5kc1dpdGgoXCIqXCIpIHx8IHBhdGguZW5kc1dpdGgoXCIvKlwiKSxcbiAgICBgUm91dGUgcGF0aCBcIiR7cGF0aH1cIiB3aWxsIGJlIHRyZWF0ZWQgYXMgaWYgaXQgd2VyZSBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIiBiZWNhdXNlIHRoZSBcXGAqXFxgIGNoYXJhY3RlciBtdXN0IGFsd2F5cyBmb2xsb3cgYSBcXGAvXFxgIGluIHRoZSBwYXR0ZXJuLiBUbyBnZXQgcmlkIG9mIHRoaXMgd2FybmluZywgcGxlYXNlIGNoYW5nZSB0aGUgcm91dGUgcGF0aCB0byBcIiR7cGF0aC5yZXBsYWNlKC9cXCokLywgXCIvKlwiKX1cIi5gXG4gICk7XG4gIGxldCBwYXJhbXMgPSBbXTtcbiAgbGV0IHJlZ2V4cFNvdXJjZSA9IFwiXlwiICsgcGF0aC5yZXBsYWNlKC9cXC8qXFwqPyQvLCBcIlwiKS5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKS5yZXBsYWNlKC9bXFxcXC4qK14ke318KClbXFxdXS9nLCBcIlxcXFwkJlwiKS5yZXBsYWNlKFxuICAgIC9cXC86KFtcXHctXSspKFxcPyk/L2csXG4gICAgKF8sIHBhcmFtTmFtZSwgaXNPcHRpb25hbCkgPT4ge1xuICAgICAgcGFyYW1zLnB1c2goeyBwYXJhbU5hbWUsIGlzT3B0aW9uYWw6IGlzT3B0aW9uYWwgIT0gbnVsbCB9KTtcbiAgICAgIHJldHVybiBpc09wdGlvbmFsID8gXCIvPyhbXlxcXFwvXSspP1wiIDogXCIvKFteXFxcXC9dKylcIjtcbiAgICB9XG4gICk7XG4gIGlmIChwYXRoLmVuZHNXaXRoKFwiKlwiKSkge1xuICAgIHBhcmFtcy5wdXNoKHsgcGFyYW1OYW1lOiBcIipcIiB9KTtcbiAgICByZWdleHBTb3VyY2UgKz0gcGF0aCA9PT0gXCIqXCIgfHwgcGF0aCA9PT0gXCIvKlwiID8gXCIoLiopJFwiIDogXCIoPzpcXFxcLyguKyl8XFxcXC8qKSRcIjtcbiAgfSBlbHNlIGlmIChlbmQpIHtcbiAgICByZWdleHBTb3VyY2UgKz0gXCJcXFxcLyokXCI7XG4gIH0gZWxzZSBpZiAocGF0aCAhPT0gXCJcIiAmJiBwYXRoICE9PSBcIi9cIikge1xuICAgIHJlZ2V4cFNvdXJjZSArPSBcIig/Oig/PVxcXFwvfCQpKVwiO1xuICB9IGVsc2Uge1xuICB9XG4gIGxldCBtYXRjaGVyID0gbmV3IFJlZ0V4cChyZWdleHBTb3VyY2UsIGNhc2VTZW5zaXRpdmUgPyB2b2lkIDAgOiBcImlcIik7XG4gIHJldHVybiBbbWF0Y2hlciwgcGFyYW1zXTtcbn1cbmZ1bmN0aW9uIGRlY29kZVBhdGgodmFsdWUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdmFsdWUuc3BsaXQoXCIvXCIpLm1hcCgodikgPT4gZGVjb2RlVVJJQ29tcG9uZW50KHYpLnJlcGxhY2UoL1xcLy9nLCBcIiUyRlwiKSkuam9pbihcIi9cIik7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgd2FybmluZyhcbiAgICAgIGZhbHNlLFxuICAgICAgYFRoZSBVUkwgcGF0aCBcIiR7dmFsdWV9XCIgY291bGQgbm90IGJlIGRlY29kZWQgYmVjYXVzZSBpdCBpcyBhIG1hbGZvcm1lZCBVUkwgc2VnbWVudC4gVGhpcyBpcyBwcm9iYWJseSBkdWUgdG8gYSBiYWQgcGVyY2VudCBlbmNvZGluZyAoJHtlcnJvcn0pLmBcbiAgICApO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxufVxuZnVuY3Rpb24gc3RyaXBCYXNlbmFtZShwYXRobmFtZSwgYmFzZW5hbWUpIHtcbiAgaWYgKGJhc2VuYW1lID09PSBcIi9cIikgcmV0dXJuIHBhdGhuYW1lO1xuICBpZiAoIXBhdGhuYW1lLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aChiYXNlbmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBzdGFydEluZGV4ID0gYmFzZW5hbWUuZW5kc1dpdGgoXCIvXCIpID8gYmFzZW5hbWUubGVuZ3RoIC0gMSA6IGJhc2VuYW1lLmxlbmd0aDtcbiAgbGV0IG5leHRDaGFyID0gcGF0aG5hbWUuY2hhckF0KHN0YXJ0SW5kZXgpO1xuICBpZiAobmV4dENoYXIgJiYgbmV4dENoYXIgIT09IFwiL1wiKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHBhdGhuYW1lLnNsaWNlKHN0YXJ0SW5kZXgpIHx8IFwiL1wiO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVBhdGgodG8sIGZyb21QYXRobmFtZSA9IFwiL1wiKSB7XG4gIGxldCB7XG4gICAgcGF0aG5hbWU6IHRvUGF0aG5hbWUsXG4gICAgc2VhcmNoID0gXCJcIixcbiAgICBoYXNoID0gXCJcIlxuICB9ID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHRvKSA6IHRvO1xuICBsZXQgcGF0aG5hbWUgPSB0b1BhdGhuYW1lID8gdG9QYXRobmFtZS5zdGFydHNXaXRoKFwiL1wiKSA/IHRvUGF0aG5hbWUgOiByZXNvbHZlUGF0aG5hbWUodG9QYXRobmFtZSwgZnJvbVBhdGhuYW1lKSA6IGZyb21QYXRobmFtZTtcbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZSxcbiAgICBzZWFyY2g6IG5vcm1hbGl6ZVNlYXJjaChzZWFyY2gpLFxuICAgIGhhc2g6IG5vcm1hbGl6ZUhhc2goaGFzaClcbiAgfTtcbn1cbmZ1bmN0aW9uIHJlc29sdmVQYXRobmFtZShyZWxhdGl2ZVBhdGgsIGZyb21QYXRobmFtZSkge1xuICBsZXQgc2VnbWVudHMgPSBmcm9tUGF0aG5hbWUucmVwbGFjZSgvXFwvKyQvLCBcIlwiKS5zcGxpdChcIi9cIik7XG4gIGxldCByZWxhdGl2ZVNlZ21lbnRzID0gcmVsYXRpdmVQYXRoLnNwbGl0KFwiL1wiKTtcbiAgcmVsYXRpdmVTZWdtZW50cy5mb3JFYWNoKChzZWdtZW50KSA9PiB7XG4gICAgaWYgKHNlZ21lbnQgPT09IFwiLi5cIikge1xuICAgICAgaWYgKHNlZ21lbnRzLmxlbmd0aCA+IDEpIHNlZ21lbnRzLnBvcCgpO1xuICAgIH0gZWxzZSBpZiAoc2VnbWVudCAhPT0gXCIuXCIpIHtcbiAgICAgIHNlZ21lbnRzLnB1c2goc2VnbWVudCk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHNlZ21lbnRzLmxlbmd0aCA+IDEgPyBzZWdtZW50cy5qb2luKFwiL1wiKSA6IFwiL1wiO1xufVxuZnVuY3Rpb24gZ2V0SW52YWxpZFBhdGhFcnJvcihjaGFyLCBmaWVsZCwgZGVzdCwgcGF0aCkge1xuICByZXR1cm4gYENhbm5vdCBpbmNsdWRlIGEgJyR7Y2hhcn0nIGNoYXJhY3RlciBpbiBhIG1hbnVhbGx5IHNwZWNpZmllZCBcXGB0by4ke2ZpZWxkfVxcYCBmaWVsZCBbJHtKU09OLnN0cmluZ2lmeShcbiAgICBwYXRoXG4gICl9XS4gIFBsZWFzZSBzZXBhcmF0ZSBpdCBvdXQgdG8gdGhlIFxcYHRvLiR7ZGVzdH1cXGAgZmllbGQuIEFsdGVybmF0aXZlbHkgeW91IG1heSBwcm92aWRlIHRoZSBmdWxsIHBhdGggYXMgYSBzdHJpbmcgaW4gPExpbmsgdG89XCIuLi5cIj4gYW5kIHRoZSByb3V0ZXIgd2lsbCBwYXJzZSBpdCBmb3IgeW91LmA7XG59XG5mdW5jdGlvbiBnZXRQYXRoQ29udHJpYnV0aW5nTWF0Y2hlcyhtYXRjaGVzKSB7XG4gIHJldHVybiBtYXRjaGVzLmZpbHRlcihcbiAgICAobWF0Y2gsIGluZGV4KSA9PiBpbmRleCA9PT0gMCB8fCBtYXRjaC5yb3V0ZS5wYXRoICYmIG1hdGNoLnJvdXRlLnBhdGgubGVuZ3RoID4gMFxuICApO1xufVxuZnVuY3Rpb24gZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzKSB7XG4gIGxldCBwYXRoTWF0Y2hlcyA9IGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzKG1hdGNoZXMpO1xuICByZXR1cm4gcGF0aE1hdGNoZXMubWFwKFxuICAgIChtYXRjaCwgaWR4KSA9PiBpZHggPT09IHBhdGhNYXRjaGVzLmxlbmd0aCAtIDEgPyBtYXRjaC5wYXRobmFtZSA6IG1hdGNoLnBhdGhuYW1lQmFzZVxuICApO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVRvKHRvQXJnLCByb3V0ZVBhdGhuYW1lcywgbG9jYXRpb25QYXRobmFtZSwgaXNQYXRoUmVsYXRpdmUgPSBmYWxzZSkge1xuICBsZXQgdG87XG4gIGlmICh0eXBlb2YgdG9BcmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0byA9IHBhcnNlUGF0aCh0b0FyZyk7XG4gIH0gZWxzZSB7XG4gICAgdG8gPSB7IC4uLnRvQXJnIH07XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRvLnBhdGhuYW1lIHx8ICF0by5wYXRobmFtZS5pbmNsdWRlcyhcIj9cIiksXG4gICAgICBnZXRJbnZhbGlkUGF0aEVycm9yKFwiP1wiLCBcInBhdGhuYW1lXCIsIFwic2VhcmNoXCIsIHRvKVxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgIXRvLnBhdGhuYW1lIHx8ICF0by5wYXRobmFtZS5pbmNsdWRlcyhcIiNcIiksXG4gICAgICBnZXRJbnZhbGlkUGF0aEVycm9yKFwiI1wiLCBcInBhdGhuYW1lXCIsIFwiaGFzaFwiLCB0bylcbiAgICApO1xuICAgIGludmFyaWFudChcbiAgICAgICF0by5zZWFyY2ggfHwgIXRvLnNlYXJjaC5pbmNsdWRlcyhcIiNcIiksXG4gICAgICBnZXRJbnZhbGlkUGF0aEVycm9yKFwiI1wiLCBcInNlYXJjaFwiLCBcImhhc2hcIiwgdG8pXG4gICAgKTtcbiAgfVxuICBsZXQgaXNFbXB0eVBhdGggPSB0b0FyZyA9PT0gXCJcIiB8fCB0by5wYXRobmFtZSA9PT0gXCJcIjtcbiAgbGV0IHRvUGF0aG5hbWUgPSBpc0VtcHR5UGF0aCA/IFwiL1wiIDogdG8ucGF0aG5hbWU7XG4gIGxldCBmcm9tO1xuICBpZiAodG9QYXRobmFtZSA9PSBudWxsKSB7XG4gICAgZnJvbSA9IGxvY2F0aW9uUGF0aG5hbWU7XG4gIH0gZWxzZSB7XG4gICAgbGV0IHJvdXRlUGF0aG5hbWVJbmRleCA9IHJvdXRlUGF0aG5hbWVzLmxlbmd0aCAtIDE7XG4gICAgaWYgKCFpc1BhdGhSZWxhdGl2ZSAmJiB0b1BhdGhuYW1lLnN0YXJ0c1dpdGgoXCIuLlwiKSkge1xuICAgICAgbGV0IHRvU2VnbWVudHMgPSB0b1BhdGhuYW1lLnNwbGl0KFwiL1wiKTtcbiAgICAgIHdoaWxlICh0b1NlZ21lbnRzWzBdID09PSBcIi4uXCIpIHtcbiAgICAgICAgdG9TZWdtZW50cy5zaGlmdCgpO1xuICAgICAgICByb3V0ZVBhdGhuYW1lSW5kZXggLT0gMTtcbiAgICAgIH1cbiAgICAgIHRvLnBhdGhuYW1lID0gdG9TZWdtZW50cy5qb2luKFwiL1wiKTtcbiAgICB9XG4gICAgZnJvbSA9IHJvdXRlUGF0aG5hbWVJbmRleCA+PSAwID8gcm91dGVQYXRobmFtZXNbcm91dGVQYXRobmFtZUluZGV4XSA6IFwiL1wiO1xuICB9XG4gIGxldCBwYXRoID0gcmVzb2x2ZVBhdGgodG8sIGZyb20pO1xuICBsZXQgaGFzRXhwbGljaXRUcmFpbGluZ1NsYXNoID0gdG9QYXRobmFtZSAmJiB0b1BhdGhuYW1lICE9PSBcIi9cIiAmJiB0b1BhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKTtcbiAgbGV0IGhhc0N1cnJlbnRUcmFpbGluZ1NsYXNoID0gKGlzRW1wdHlQYXRoIHx8IHRvUGF0aG5hbWUgPT09IFwiLlwiKSAmJiBsb2NhdGlvblBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKTtcbiAgaWYgKCFwYXRoLnBhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSAmJiAoaGFzRXhwbGljaXRUcmFpbGluZ1NsYXNoIHx8IGhhc0N1cnJlbnRUcmFpbGluZ1NsYXNoKSkge1xuICAgIHBhdGgucGF0aG5hbWUgKz0gXCIvXCI7XG4gIH1cbiAgcmV0dXJuIHBhdGg7XG59XG52YXIgam9pblBhdGhzID0gKHBhdGhzKSA9PiBwYXRocy5qb2luKFwiL1wiKS5yZXBsYWNlKC9cXC9cXC8rL2csIFwiL1wiKTtcbnZhciBub3JtYWxpemVQYXRobmFtZSA9IChwYXRobmFtZSkgPT4gcGF0aG5hbWUucmVwbGFjZSgvXFwvKyQvLCBcIlwiKS5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKTtcbnZhciBub3JtYWxpemVTZWFyY2ggPSAoc2VhcmNoKSA9PiAhc2VhcmNoIHx8IHNlYXJjaCA9PT0gXCI/XCIgPyBcIlwiIDogc2VhcmNoLnN0YXJ0c1dpdGgoXCI/XCIpID8gc2VhcmNoIDogXCI/XCIgKyBzZWFyY2g7XG52YXIgbm9ybWFsaXplSGFzaCA9IChoYXNoKSA9PiAhaGFzaCB8fCBoYXNoID09PSBcIiNcIiA/IFwiXCIgOiBoYXNoLnN0YXJ0c1dpdGgoXCIjXCIpID8gaGFzaCA6IFwiI1wiICsgaGFzaDtcbnZhciBEYXRhV2l0aFJlc3BvbnNlSW5pdCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZGF0YTIsIGluaXQpIHtcbiAgICB0aGlzLnR5cGUgPSBcIkRhdGFXaXRoUmVzcG9uc2VJbml0XCI7XG4gICAgdGhpcy5kYXRhID0gZGF0YTI7XG4gICAgdGhpcy5pbml0ID0gaW5pdCB8fCBudWxsO1xuICB9XG59O1xuZnVuY3Rpb24gZGF0YShkYXRhMiwgaW5pdCkge1xuICByZXR1cm4gbmV3IERhdGFXaXRoUmVzcG9uc2VJbml0KFxuICAgIGRhdGEyLFxuICAgIHR5cGVvZiBpbml0ID09PSBcIm51bWJlclwiID8geyBzdGF0dXM6IGluaXQgfSA6IGluaXRcbiAgKTtcbn1cbnZhciByZWRpcmVjdCA9ICh1cmwsIGluaXQgPSAzMDIpID0+IHtcbiAgbGV0IHJlc3BvbnNlSW5pdCA9IGluaXQ7XG4gIGlmICh0eXBlb2YgcmVzcG9uc2VJbml0ID09PSBcIm51bWJlclwiKSB7XG4gICAgcmVzcG9uc2VJbml0ID0geyBzdGF0dXM6IHJlc3BvbnNlSW5pdCB9O1xuICB9IGVsc2UgaWYgKHR5cGVvZiByZXNwb25zZUluaXQuc3RhdHVzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmVzcG9uc2VJbml0LnN0YXR1cyA9IDMwMjtcbiAgfVxuICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHJlc3BvbnNlSW5pdC5oZWFkZXJzKTtcbiAgaGVhZGVycy5zZXQoXCJMb2NhdGlvblwiLCB1cmwpO1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsgLi4ucmVzcG9uc2VJbml0LCBoZWFkZXJzIH0pO1xufTtcbnZhciByZWRpcmVjdERvY3VtZW50ID0gKHVybCwgaW5pdCkgPT4ge1xuICBsZXQgcmVzcG9uc2UgPSByZWRpcmVjdCh1cmwsIGluaXQpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldChcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIsIFwidHJ1ZVwiKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufTtcbnZhciByZXBsYWNlID0gKHVybCwgaW5pdCkgPT4ge1xuICBsZXQgcmVzcG9uc2UgPSByZWRpcmVjdCh1cmwsIGluaXQpO1xuICByZXNwb25zZS5oZWFkZXJzLnNldChcIlgtUmVtaXgtUmVwbGFjZVwiLCBcInRydWVcIik7XG4gIHJldHVybiByZXNwb25zZTtcbn07XG52YXIgRXJyb3JSZXNwb25zZUltcGwgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHN0YXR1cywgc3RhdHVzVGV4dCwgZGF0YTIsIGludGVybmFsID0gZmFsc2UpIHtcbiAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0IHx8IFwiXCI7XG4gICAgdGhpcy5pbnRlcm5hbCA9IGludGVybmFsO1xuICAgIGlmIChkYXRhMiBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhMi50b1N0cmluZygpO1xuICAgICAgdGhpcy5lcnJvciA9IGRhdGEyO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGEgPSBkYXRhMjtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBpc1JvdXRlRXJyb3JSZXNwb25zZShlcnJvcikge1xuICByZXR1cm4gZXJyb3IgIT0gbnVsbCAmJiB0eXBlb2YgZXJyb3Iuc3RhdHVzID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBlcnJvci5zdGF0dXNUZXh0ID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlcnJvci5pbnRlcm5hbCA9PT0gXCJib29sZWFuXCIgJiYgXCJkYXRhXCIgaW4gZXJyb3I7XG59XG5cbi8vIGxpYi9yb3V0ZXIvcm91dGVyLnRzXG52YXIgdmFsaWRNdXRhdGlvbk1ldGhvZHNBcnIgPSBbXG4gIFwiUE9TVFwiLFxuICBcIlBVVFwiLFxuICBcIlBBVENIXCIsXG4gIFwiREVMRVRFXCJcbl07XG52YXIgdmFsaWRNdXRhdGlvbk1ldGhvZHMgPSBuZXcgU2V0KFxuICB2YWxpZE11dGF0aW9uTWV0aG9kc0FyclxuKTtcbnZhciB2YWxpZFJlcXVlc3RNZXRob2RzQXJyID0gW1xuICBcIkdFVFwiLFxuICAuLi52YWxpZE11dGF0aW9uTWV0aG9kc0FyclxuXTtcbnZhciB2YWxpZFJlcXVlc3RNZXRob2RzID0gbmV3IFNldCh2YWxpZFJlcXVlc3RNZXRob2RzQXJyKTtcbnZhciByZWRpcmVjdFN0YXR1c0NvZGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWzMwMSwgMzAyLCAzMDMsIDMwNywgMzA4XSk7XG52YXIgcmVkaXJlY3RQcmVzZXJ2ZU1ldGhvZFN0YXR1c0NvZGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWzMwNywgMzA4XSk7XG52YXIgSURMRV9OQVZJR0FUSU9OID0ge1xuICBzdGF0ZTogXCJpZGxlXCIsXG4gIGxvY2F0aW9uOiB2b2lkIDAsXG4gIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICBmb3JtRW5jVHlwZTogdm9pZCAwLFxuICBmb3JtRGF0YTogdm9pZCAwLFxuICBqc29uOiB2b2lkIDAsXG4gIHRleHQ6IHZvaWQgMFxufTtcbnZhciBJRExFX0ZFVENIRVIgPSB7XG4gIHN0YXRlOiBcImlkbGVcIixcbiAgZGF0YTogdm9pZCAwLFxuICBmb3JtTWV0aG9kOiB2b2lkIDAsXG4gIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgZm9ybURhdGE6IHZvaWQgMCxcbiAganNvbjogdm9pZCAwLFxuICB0ZXh0OiB2b2lkIDBcbn07XG52YXIgSURMRV9CTE9DS0VSID0ge1xuICBzdGF0ZTogXCJ1bmJsb2NrZWRcIixcbiAgcHJvY2VlZDogdm9pZCAwLFxuICByZXNldDogdm9pZCAwLFxuICBsb2NhdGlvbjogdm9pZCAwXG59O1xudmFyIEFCU09MVVRFX1VSTF9SRUdFWCA9IC9eKD86W2Etel1bYS16MC05Ky4tXSo6fFxcL1xcLykvaTtcbnZhciBkZWZhdWx0TWFwUm91dGVQcm9wZXJ0aWVzID0gKHJvdXRlKSA9PiAoe1xuICBoYXNFcnJvckJvdW5kYXJ5OiBCb29sZWFuKHJvdXRlLmhhc0Vycm9yQm91bmRhcnkpXG59KTtcbnZhciBUUkFOU0lUSU9OU19TVE9SQUdFX0tFWSA9IFwicmVtaXgtcm91dGVyLXRyYW5zaXRpb25zXCI7XG52YXIgUmVzZXRMb2FkZXJEYXRhU3ltYm9sID0gU3ltYm9sKFwiUmVzZXRMb2FkZXJEYXRhXCIpO1xuZnVuY3Rpb24gY3JlYXRlUm91dGVyKGluaXQpIHtcbiAgY29uc3Qgcm91dGVyV2luZG93ID0gaW5pdC53aW5kb3cgPyBpbml0LndpbmRvdyA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB2b2lkIDA7XG4gIGNvbnN0IGlzQnJvd3NlcjIgPSB0eXBlb2Ygcm91dGVyV2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZiByb3V0ZXJXaW5kb3cuZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHJvdXRlcldpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50ICE9PSBcInVuZGVmaW5lZFwiO1xuICBpbnZhcmlhbnQoXG4gICAgaW5pdC5yb3V0ZXMubGVuZ3RoID4gMCxcbiAgICBcIllvdSBtdXN0IHByb3ZpZGUgYSBub24tZW1wdHkgcm91dGVzIGFycmF5IHRvIGNyZWF0ZVJvdXRlclwiXG4gICk7XG4gIGxldCBtYXBSb3V0ZVByb3BlcnRpZXMyID0gaW5pdC5tYXBSb3V0ZVByb3BlcnRpZXMgfHwgZGVmYXVsdE1hcFJvdXRlUHJvcGVydGllcztcbiAgbGV0IG1hbmlmZXN0ID0ge307XG4gIGxldCBkYXRhUm91dGVzID0gY29udmVydFJvdXRlc1RvRGF0YVJvdXRlcyhcbiAgICBpbml0LnJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgIHZvaWQgMCxcbiAgICBtYW5pZmVzdFxuICApO1xuICBsZXQgaW5GbGlnaHREYXRhUm91dGVzO1xuICBsZXQgYmFzZW5hbWUgPSBpbml0LmJhc2VuYW1lIHx8IFwiL1wiO1xuICBsZXQgZGF0YVN0cmF0ZWd5SW1wbCA9IGluaXQuZGF0YVN0cmF0ZWd5IHx8IGRlZmF1bHREYXRhU3RyYXRlZ3lXaXRoTWlkZGxld2FyZTtcbiAgbGV0IGZ1dHVyZSA9IHtcbiAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiBmYWxzZSxcbiAgICAuLi5pbml0LmZ1dHVyZVxuICB9O1xuICBsZXQgdW5saXN0ZW5IaXN0b3J5ID0gbnVsbDtcbiAgbGV0IHN1YnNjcmliZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgbGV0IHNhdmVkU2Nyb2xsUG9zaXRpb25zMiA9IG51bGw7XG4gIGxldCBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIgPSBudWxsO1xuICBsZXQgZ2V0U2Nyb2xsUG9zaXRpb24gPSBudWxsO1xuICBsZXQgaW5pdGlhbFNjcm9sbFJlc3RvcmVkID0gaW5pdC5oeWRyYXRpb25EYXRhICE9IG51bGw7XG4gIGxldCBpbml0aWFsTWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGluaXQuaGlzdG9yeS5sb2NhdGlvbiwgYmFzZW5hbWUpO1xuICBsZXQgaW5pdGlhbE1hdGNoZXNJc0ZPVyA9IGZhbHNlO1xuICBsZXQgaW5pdGlhbEVycm9ycyA9IG51bGw7XG4gIGlmIChpbml0aWFsTWF0Y2hlcyA9PSBudWxsICYmICFpbml0LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uKSB7XG4gICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHtcbiAgICAgIHBhdGhuYW1lOiBpbml0Lmhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWVcbiAgICB9KTtcbiAgICBsZXQgeyBtYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICBpbml0aWFsTWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgaW5pdGlhbEVycm9ycyA9IHsgW3JvdXRlLmlkXTogZXJyb3IgfTtcbiAgfVxuICBpZiAoaW5pdGlhbE1hdGNoZXMgJiYgIWluaXQuaHlkcmF0aW9uRGF0YSkge1xuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIoXG4gICAgICBpbml0aWFsTWF0Y2hlcyxcbiAgICAgIGRhdGFSb3V0ZXMsXG4gICAgICBpbml0Lmhpc3RvcnkubG9jYXRpb24ucGF0aG5hbWVcbiAgICApO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUpIHtcbiAgICAgIGluaXRpYWxNYXRjaGVzID0gbnVsbDtcbiAgICB9XG4gIH1cbiAgbGV0IGluaXRpYWxpemVkO1xuICBpZiAoIWluaXRpYWxNYXRjaGVzKSB7XG4gICAgaW5pdGlhbGl6ZWQgPSBmYWxzZTtcbiAgICBpbml0aWFsTWF0Y2hlcyA9IFtdO1xuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIoXG4gICAgICBudWxsLFxuICAgICAgZGF0YVJvdXRlcyxcbiAgICAgIGluaXQuaGlzdG9yeS5sb2NhdGlvbi5wYXRobmFtZVxuICAgICk7XG4gICAgaWYgKGZvZ09mV2FyLmFjdGl2ZSAmJiBmb2dPZldhci5tYXRjaGVzKSB7XG4gICAgICBpbml0aWFsTWF0Y2hlc0lzRk9XID0gdHJ1ZTtcbiAgICAgIGluaXRpYWxNYXRjaGVzID0gZm9nT2ZXYXIubWF0Y2hlcztcbiAgICB9XG4gIH0gZWxzZSBpZiAoaW5pdGlhbE1hdGNoZXMuc29tZSgobSkgPT4gbS5yb3V0ZS5sYXp5KSkge1xuICAgIGluaXRpYWxpemVkID0gZmFsc2U7XG4gIH0gZWxzZSBpZiAoIWluaXRpYWxNYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUubG9hZGVyKSkge1xuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgbG9hZGVyRGF0YSA9IGluaXQuaHlkcmF0aW9uRGF0YSA/IGluaXQuaHlkcmF0aW9uRGF0YS5sb2FkZXJEYXRhIDogbnVsbDtcbiAgICBsZXQgZXJyb3JzID0gaW5pdC5oeWRyYXRpb25EYXRhID8gaW5pdC5oeWRyYXRpb25EYXRhLmVycm9ycyA6IG51bGw7XG4gICAgaWYgKGVycm9ycykge1xuICAgICAgbGV0IGlkeCA9IGluaXRpYWxNYXRjaGVzLmZpbmRJbmRleChcbiAgICAgICAgKG0pID0+IGVycm9yc1ttLnJvdXRlLmlkXSAhPT0gdm9pZCAwXG4gICAgICApO1xuICAgICAgaW5pdGlhbGl6ZWQgPSBpbml0aWFsTWF0Y2hlcy5zbGljZSgwLCBpZHggKyAxKS5ldmVyeSgobSkgPT4gIXNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKG0ucm91dGUsIGxvYWRlckRhdGEsIGVycm9ycykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0aWFsaXplZCA9IGluaXRpYWxNYXRjaGVzLmV2ZXJ5KFxuICAgICAgICAobSkgPT4gIXNob3VsZExvYWRSb3V0ZU9uSHlkcmF0aW9uKG0ucm91dGUsIGxvYWRlckRhdGEsIGVycm9ycylcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGxldCByb3V0ZXI7XG4gIGxldCBzdGF0ZSA9IHtcbiAgICBoaXN0b3J5QWN0aW9uOiBpbml0Lmhpc3RvcnkuYWN0aW9uLFxuICAgIGxvY2F0aW9uOiBpbml0Lmhpc3RvcnkubG9jYXRpb24sXG4gICAgbWF0Y2hlczogaW5pdGlhbE1hdGNoZXMsXG4gICAgaW5pdGlhbGl6ZWQsXG4gICAgbmF2aWdhdGlvbjogSURMRV9OQVZJR0FUSU9OLFxuICAgIC8vIERvbid0IHJlc3RvcmUgb24gaW5pdGlhbCB1cGRhdGVTdGF0ZSgpIGlmIHdlIHdlcmUgU1NSJ2RcbiAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IGluaXQuaHlkcmF0aW9uRGF0YSAhPSBudWxsID8gZmFsc2UgOiBudWxsLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldDogZmFsc2UsXG4gICAgcmV2YWxpZGF0aW9uOiBcImlkbGVcIixcbiAgICBsb2FkZXJEYXRhOiBpbml0Lmh5ZHJhdGlvbkRhdGEgJiYgaW5pdC5oeWRyYXRpb25EYXRhLmxvYWRlckRhdGEgfHwge30sXG4gICAgYWN0aW9uRGF0YTogaW5pdC5oeWRyYXRpb25EYXRhICYmIGluaXQuaHlkcmF0aW9uRGF0YS5hY3Rpb25EYXRhIHx8IG51bGwsXG4gICAgZXJyb3JzOiBpbml0Lmh5ZHJhdGlvbkRhdGEgJiYgaW5pdC5oeWRyYXRpb25EYXRhLmVycm9ycyB8fCBpbml0aWFsRXJyb3JzLFxuICAgIGZldGNoZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgIGJsb2NrZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpXG4gIH07XG4gIGxldCBwZW5kaW5nQWN0aW9uID0gXCJQT1BcIiAvKiBQb3AgKi87XG4gIGxldCBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gZmFsc2U7XG4gIGxldCBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXI7XG4gIGxldCBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gZmFsc2U7XG4gIGxldCBhcHBsaWVkVmlld1RyYW5zaXRpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IHJlbW92ZVBhZ2VIaWRlRXZlbnRMaXN0ZW5lciA9IG51bGw7XG4gIGxldCBpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24gPSBmYWxzZTtcbiAgbGV0IGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcbiAgbGV0IGNhbmNlbGxlZEZldGNoZXJMb2FkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBmZXRjaENvbnRyb2xsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGluY3JlbWVudGluZ0xvYWRJZCA9IDA7XG4gIGxldCBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCA9IC0xO1xuICBsZXQgZmV0Y2hSZWxvYWRJZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBsZXQgZmV0Y2hSZWRpcmVjdElkcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBmZXRjaExvYWRNYXRjaGVzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGFjdGl2ZUZldGNoZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgbGV0IGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgYmxvY2tlckZ1bmN0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCB1bmJsb2NrQmxvY2tlckhpc3RvcnlVcGRhdGUgPSB2b2lkIDA7XG4gIGxldCBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkID0gbnVsbDtcbiAgZnVuY3Rpb24gaW5pdGlhbGl6ZSgpIHtcbiAgICB1bmxpc3Rlbkhpc3RvcnkgPSBpbml0Lmhpc3RvcnkubGlzdGVuKFxuICAgICAgKHsgYWN0aW9uOiBoaXN0b3J5QWN0aW9uLCBsb2NhdGlvbiwgZGVsdGEgfSkgPT4ge1xuICAgICAgICBpZiAodW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlKSB7XG4gICAgICAgICAgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlKCk7XG4gICAgICAgICAgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGJsb2NrZXJGdW5jdGlvbnMuc2l6ZSA9PT0gMCB8fCBkZWx0YSAhPSBudWxsLFxuICAgICAgICAgIFwiWW91IGFyZSB0cnlpbmcgdG8gdXNlIGEgYmxvY2tlciBvbiBhIFBPUCBuYXZpZ2F0aW9uIHRvIGEgbG9jYXRpb24gdGhhdCB3YXMgbm90IGNyZWF0ZWQgYnkgQHJlbWl4LXJ1bi9yb3V0ZXIuIFRoaXMgd2lsbCBmYWlsIHNpbGVudGx5IGluIHByb2R1Y3Rpb24uIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UgYXJlIG5hdmlnYXRpbmcgb3V0c2lkZSB0aGUgcm91dGVyIHZpYSBgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlYC9gd2luZG93LmxvY2F0aW9uLmhhc2hgIGluc3RlYWQgb2YgdXNpbmcgcm91dGVyIG5hdmlnYXRpb24gQVBJcy4gIFRoaXMgY2FuIGFsc28gaGFwcGVuIGlmIHlvdSBhcmUgdXNpbmcgY3JlYXRlSGFzaFJvdXRlciBhbmQgdGhlIHVzZXIgbWFudWFsbHkgY2hhbmdlcyB0aGUgVVJMLlwiXG4gICAgICAgICk7XG4gICAgICAgIGxldCBibG9ja2VyS2V5ID0gc2hvdWxkQmxvY2tOYXZpZ2F0aW9uKHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgaGlzdG9yeUFjdGlvblxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGJsb2NrZXJLZXkgJiYgZGVsdGEgIT0gbnVsbCkge1xuICAgICAgICAgIGxldCBuZXh0SGlzdG9yeVVwZGF0ZVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgdW5ibG9ja0Jsb2NrZXJIaXN0b3J5VXBkYXRlID0gcmVzb2x2ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpbml0Lmhpc3RvcnkuZ28oZGVsdGEgKiAtMSk7XG4gICAgICAgICAgdXBkYXRlQmxvY2tlcihibG9ja2VyS2V5LCB7XG4gICAgICAgICAgICBzdGF0ZTogXCJibG9ja2VkXCIsXG4gICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgIHByb2NlZWQoKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICAgICAgICAgIHN0YXRlOiBcInByb2NlZWRpbmdcIixcbiAgICAgICAgICAgICAgICBwcm9jZWVkOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgcmVzZXQ6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICBsb2NhdGlvblxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgbmV4dEhpc3RvcnlVcGRhdGVQcm9taXNlLnRoZW4oKCkgPT4gaW5pdC5oaXN0b3J5LmdvKGRlbHRhKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVzZXQoKSB7XG4gICAgICAgICAgICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgICAgICAgICAgICBibG9ja2Vycy5zZXQoYmxvY2tlcktleSwgSURMRV9CTE9DS0VSKTtcbiAgICAgICAgICAgICAgdXBkYXRlU3RhdGUoeyBibG9ja2VycyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXJ0TmF2aWdhdGlvbihoaXN0b3J5QWN0aW9uLCBsb2NhdGlvbik7XG4gICAgICB9XG4gICAgKTtcbiAgICBpZiAoaXNCcm93c2VyMikge1xuICAgICAgcmVzdG9yZUFwcGxpZWRUcmFuc2l0aW9ucyhyb3V0ZXJXaW5kb3csIGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMpO1xuICAgICAgbGV0IF9zYXZlQXBwbGllZFRyYW5zaXRpb25zID0gKCkgPT4gcGVyc2lzdEFwcGxpZWRUcmFuc2l0aW9ucyhyb3V0ZXJXaW5kb3csIGFwcGxpZWRWaWV3VHJhbnNpdGlvbnMpO1xuICAgICAgcm91dGVyV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBfc2F2ZUFwcGxpZWRUcmFuc2l0aW9ucyk7XG4gICAgICByZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIgPSAoKSA9PiByb3V0ZXJXaW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIF9zYXZlQXBwbGllZFRyYW5zaXRpb25zKTtcbiAgICB9XG4gICAgaWYgKCFzdGF0ZS5pbml0aWFsaXplZCkge1xuICAgICAgc3RhcnROYXZpZ2F0aW9uKFwiUE9QXCIgLyogUG9wICovLCBzdGF0ZS5sb2NhdGlvbiwge1xuICAgICAgICBpbml0aWFsSHlkcmF0aW9uOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJvdXRlcjtcbiAgfVxuICBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgIGlmICh1bmxpc3Rlbkhpc3RvcnkpIHtcbiAgICAgIHVubGlzdGVuSGlzdG9yeSgpO1xuICAgIH1cbiAgICBpZiAocmVtb3ZlUGFnZUhpZGVFdmVudExpc3RlbmVyKSB7XG4gICAgICByZW1vdmVQYWdlSGlkZUV2ZW50TGlzdGVuZXIoKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlcnMuY2xlYXIoKTtcbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG4gICAgc3RhdGUuZmV0Y2hlcnMuZm9yRWFjaCgoXywga2V5KSA9PiBkZWxldGVGZXRjaGVyKGtleSkpO1xuICAgIHN0YXRlLmJsb2NrZXJzLmZvckVhY2goKF8sIGtleSkgPT4gZGVsZXRlQmxvY2tlcihrZXkpKTtcbiAgfVxuICBmdW5jdGlvbiBzdWJzY3JpYmUoZm4pIHtcbiAgICBzdWJzY3JpYmVycy5hZGQoZm4pO1xuICAgIHJldHVybiAoKSA9PiBzdWJzY3JpYmVycy5kZWxldGUoZm4pO1xuICB9XG4gIGZ1bmN0aW9uIHVwZGF0ZVN0YXRlKG5ld1N0YXRlLCBvcHRzID0ge30pIHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgLi4ubmV3U3RhdGVcbiAgICB9O1xuICAgIGxldCB1bm1vdW50ZWRGZXRjaGVycyA9IFtdO1xuICAgIGxldCBtb3VudGVkRmV0Y2hlcnMgPSBbXTtcbiAgICBzdGF0ZS5mZXRjaGVycy5mb3JFYWNoKChmZXRjaGVyLCBrZXkpID0+IHtcbiAgICAgIGlmIChmZXRjaGVyLnN0YXRlID09PSBcImlkbGVcIikge1xuICAgICAgICBpZiAoZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgICAgIHVubW91bnRlZEZldGNoZXJzLnB1c2goa2V5KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtb3VudGVkRmV0Y2hlcnMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgIGlmICghc3RhdGUuZmV0Y2hlcnMuaGFzKGtleSkgJiYgIWZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgdW5tb3VudGVkRmV0Y2hlcnMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFsuLi5zdWJzY3JpYmVyc10uZm9yRWFjaChcbiAgICAgIChzdWJzY3JpYmVyKSA9PiBzdWJzY3JpYmVyKHN0YXRlLCB7XG4gICAgICAgIGRlbGV0ZWRGZXRjaGVyczogdW5tb3VudGVkRmV0Y2hlcnMsXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0czogb3B0cy52aWV3VHJhbnNpdGlvbk9wdHMsXG4gICAgICAgIGZsdXNoU3luYzogb3B0cy5mbHVzaFN5bmMgPT09IHRydWVcbiAgICAgIH0pXG4gICAgKTtcbiAgICB1bm1vdW50ZWRGZXRjaGVycy5mb3JFYWNoKChrZXkpID0+IGRlbGV0ZUZldGNoZXIoa2V5KSk7XG4gICAgbW91bnRlZEZldGNoZXJzLmZvckVhY2goKGtleSkgPT4gc3RhdGUuZmV0Y2hlcnMuZGVsZXRlKGtleSkpO1xuICB9XG4gIGZ1bmN0aW9uIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwgbmV3U3RhdGUsIHsgZmx1c2hTeW5jIH0gPSB7fSkge1xuICAgIGxldCBpc0FjdGlvblJlbG9hZCA9IHN0YXRlLmFjdGlvbkRhdGEgIT0gbnVsbCAmJiBzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QgIT0gbnVsbCAmJiBpc011dGF0aW9uTWV0aG9kKHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCkgJiYgc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSA9PT0gXCJsb2FkaW5nXCIgJiYgbG9jYXRpb24uc3RhdGU/Ll9pc1JlZGlyZWN0ICE9PSB0cnVlO1xuICAgIGxldCBhY3Rpb25EYXRhO1xuICAgIGlmIChuZXdTdGF0ZS5hY3Rpb25EYXRhKSB7XG4gICAgICBpZiAoT2JqZWN0LmtleXMobmV3U3RhdGUuYWN0aW9uRGF0YSkubGVuZ3RoID4gMCkge1xuICAgICAgICBhY3Rpb25EYXRhID0gbmV3U3RhdGUuYWN0aW9uRGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbkRhdGEgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNBY3Rpb25SZWxvYWQpIHtcbiAgICAgIGFjdGlvbkRhdGEgPSBzdGF0ZS5hY3Rpb25EYXRhO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3Rpb25EYXRhID0gbnVsbDtcbiAgICB9XG4gICAgbGV0IGxvYWRlckRhdGEgPSBuZXdTdGF0ZS5sb2FkZXJEYXRhID8gbWVyZ2VMb2FkZXJEYXRhKFxuICAgICAgc3RhdGUubG9hZGVyRGF0YSxcbiAgICAgIG5ld1N0YXRlLmxvYWRlckRhdGEsXG4gICAgICBuZXdTdGF0ZS5tYXRjaGVzIHx8IFtdLFxuICAgICAgbmV3U3RhdGUuZXJyb3JzXG4gICAgKSA6IHN0YXRlLmxvYWRlckRhdGE7XG4gICAgbGV0IGJsb2NrZXJzID0gc3RhdGUuYmxvY2tlcnM7XG4gICAgaWYgKGJsb2NrZXJzLnNpemUgPiAwKSB7XG4gICAgICBibG9ja2VycyA9IG5ldyBNYXAoYmxvY2tlcnMpO1xuICAgICAgYmxvY2tlcnMuZm9yRWFjaCgoXywgaykgPT4gYmxvY2tlcnMuc2V0KGssIElETEVfQkxPQ0tFUikpO1xuICAgIH1cbiAgICBsZXQgcHJldmVudFNjcm9sbFJlc2V0ID0gcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9PT0gdHJ1ZSB8fCBzdGF0ZS5uYXZpZ2F0aW9uLmZvcm1NZXRob2QgIT0gbnVsbCAmJiBpc011dGF0aW9uTWV0aG9kKHN0YXRlLm5hdmlnYXRpb24uZm9ybU1ldGhvZCkgJiYgbG9jYXRpb24uc3RhdGU/Ll9pc1JlZGlyZWN0ICE9PSB0cnVlO1xuICAgIGlmIChpbkZsaWdodERhdGFSb3V0ZXMpIHtcbiAgICAgIGRhdGFSb3V0ZXMgPSBpbkZsaWdodERhdGFSb3V0ZXM7XG4gICAgICBpbkZsaWdodERhdGFSb3V0ZXMgPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChpc1VuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24pIHtcbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdBY3Rpb24gPT09IFwiUE9QXCIgLyogUG9wICovKSB7XG4gICAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uID09PSBcIlBVU0hcIiAvKiBQdXNoICovKSB7XG4gICAgICBpbml0Lmhpc3RvcnkucHVzaChsb2NhdGlvbiwgbG9jYXRpb24uc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAocGVuZGluZ0FjdGlvbiA9PT0gXCJSRVBMQUNFXCIgLyogUmVwbGFjZSAqLykge1xuICAgICAgaW5pdC5oaXN0b3J5LnJlcGxhY2UobG9jYXRpb24sIGxvY2F0aW9uLnN0YXRlKTtcbiAgICB9XG4gICAgbGV0IHZpZXdUcmFuc2l0aW9uT3B0cztcbiAgICBpZiAocGVuZGluZ0FjdGlvbiA9PT0gXCJQT1BcIiAvKiBQb3AgKi8pIHtcbiAgICAgIGxldCBwcmlvclBhdGhzID0gYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5nZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgaWYgKHByaW9yUGF0aHMgJiYgcHJpb3JQYXRocy5oYXMobG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb25cbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSBpZiAoYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5oYXMobG9jYXRpb24ucGF0aG5hbWUpKSB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyA9IHtcbiAgICAgICAgICBjdXJyZW50TG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgIG5leHRMb2NhdGlvbjogc3RhdGUubG9jYXRpb25cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQpIHtcbiAgICAgIGxldCB0b1BhdGhzID0gYXBwbGllZFZpZXdUcmFuc2l0aW9ucy5nZXQoc3RhdGUubG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgaWYgKHRvUGF0aHMpIHtcbiAgICAgICAgdG9QYXRocy5hZGQobG9jYXRpb24ucGF0aG5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9QYXRocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtsb2NhdGlvbi5wYXRobmFtZV0pO1xuICAgICAgICBhcHBsaWVkVmlld1RyYW5zaXRpb25zLnNldChzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSwgdG9QYXRocyk7XG4gICAgICB9XG4gICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPSB7XG4gICAgICAgIGN1cnJlbnRMb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICAgIG5leHRMb2NhdGlvbjogbG9jYXRpb25cbiAgICAgIH07XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKFxuICAgICAge1xuICAgICAgICAuLi5uZXdTdGF0ZSxcbiAgICAgICAgLy8gbWF0Y2hlcywgZXJyb3JzLCBmZXRjaGVycyBnbyB0aHJvdWdoIGFzLWlzXG4gICAgICAgIGFjdGlvbkRhdGEsXG4gICAgICAgIGxvYWRlckRhdGEsXG4gICAgICAgIGhpc3RvcnlBY3Rpb246IHBlbmRpbmdBY3Rpb24sXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgbmF2aWdhdGlvbjogSURMRV9OQVZJR0FUSU9OLFxuICAgICAgICByZXZhbGlkYXRpb246IFwiaWRsZVwiLFxuICAgICAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oXG4gICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgbmV3U3RhdGUubWF0Y2hlcyB8fCBzdGF0ZS5tYXRjaGVzXG4gICAgICAgICksXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgYmxvY2tlcnNcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHZpZXdUcmFuc2l0aW9uT3B0cyxcbiAgICAgICAgZmx1c2hTeW5jOiBmbHVzaFN5bmMgPT09IHRydWVcbiAgICAgIH1cbiAgICApO1xuICAgIHBlbmRpbmdBY3Rpb24gPSBcIlBPUFwiIC8qIFBvcCAqLztcbiAgICBwZW5kaW5nUHJldmVudFNjcm9sbFJlc2V0ID0gZmFsc2U7XG4gICAgcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9IGZhbHNlO1xuICAgIGlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiA9IGZhbHNlO1xuICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgPSBmYWxzZTtcbiAgICBwZW5kaW5nUmV2YWxpZGF0aW9uRGZkPy5yZXNvbHZlKCk7XG4gICAgcGVuZGluZ1JldmFsaWRhdGlvbkRmZCA9IG51bGw7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gbmF2aWdhdGUodG8sIG9wdHMpIHtcbiAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICBpbml0Lmhpc3RvcnkuZ28odG8pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVUbyhcbiAgICAgIHN0YXRlLmxvY2F0aW9uLFxuICAgICAgc3RhdGUubWF0Y2hlcyxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgdG8sXG4gICAgICBvcHRzPy5mcm9tUm91dGVJZCxcbiAgICAgIG9wdHM/LnJlbGF0aXZlXG4gICAgKTtcbiAgICBsZXQgeyBwYXRoLCBzdWJtaXNzaW9uLCBlcnJvciB9ID0gbm9ybWFsaXplTmF2aWdhdGVPcHRpb25zKFxuICAgICAgZmFsc2UsXG4gICAgICBub3JtYWxpemVkUGF0aCxcbiAgICAgIG9wdHNcbiAgICApO1xuICAgIGxldCBjdXJyZW50TG9jYXRpb24gPSBzdGF0ZS5sb2NhdGlvbjtcbiAgICBsZXQgbmV4dExvY2F0aW9uID0gY3JlYXRlTG9jYXRpb24oc3RhdGUubG9jYXRpb24sIHBhdGgsIG9wdHMgJiYgb3B0cy5zdGF0ZSk7XG4gICAgbmV4dExvY2F0aW9uID0ge1xuICAgICAgLi4ubmV4dExvY2F0aW9uLFxuICAgICAgLi4uaW5pdC5oaXN0b3J5LmVuY29kZUxvY2F0aW9uKG5leHRMb2NhdGlvbilcbiAgICB9O1xuICAgIGxldCB1c2VyUmVwbGFjZSA9IG9wdHMgJiYgb3B0cy5yZXBsYWNlICE9IG51bGwgPyBvcHRzLnJlcGxhY2UgOiB2b2lkIDA7XG4gICAgbGV0IGhpc3RvcnlBY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgIGlmICh1c2VyUmVwbGFjZSA9PT0gdHJ1ZSkge1xuICAgICAgaGlzdG9yeUFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgfSBlbHNlIGlmICh1c2VyUmVwbGFjZSA9PT0gZmFsc2UpIHtcbiAgICB9IGVsc2UgaWYgKHN1Ym1pc3Npb24gIT0gbnVsbCAmJiBpc011dGF0aW9uTWV0aG9kKHN1Ym1pc3Npb24uZm9ybU1ldGhvZCkgJiYgc3VibWlzc2lvbi5mb3JtQWN0aW9uID09PSBzdGF0ZS5sb2NhdGlvbi5wYXRobmFtZSArIHN0YXRlLmxvY2F0aW9uLnNlYXJjaCkge1xuICAgICAgaGlzdG9yeUFjdGlvbiA9IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi87XG4gICAgfVxuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPSBvcHRzICYmIFwicHJldmVudFNjcm9sbFJlc2V0XCIgaW4gb3B0cyA/IG9wdHMucHJldmVudFNjcm9sbFJlc2V0ID09PSB0cnVlIDogdm9pZCAwO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG4gICAgbGV0IGJsb2NrZXJLZXkgPSBzaG91bGRCbG9ja05hdmlnYXRpb24oe1xuICAgICAgY3VycmVudExvY2F0aW9uLFxuICAgICAgbmV4dExvY2F0aW9uLFxuICAgICAgaGlzdG9yeUFjdGlvblxuICAgIH0pO1xuICAgIGlmIChibG9ja2VyS2V5KSB7XG4gICAgICB1cGRhdGVCbG9ja2VyKGJsb2NrZXJLZXksIHtcbiAgICAgICAgc3RhdGU6IFwiYmxvY2tlZFwiLFxuICAgICAgICBsb2NhdGlvbjogbmV4dExvY2F0aW9uLFxuICAgICAgICBwcm9jZWVkKCkge1xuICAgICAgICAgIHVwZGF0ZUJsb2NrZXIoYmxvY2tlcktleSwge1xuICAgICAgICAgICAgc3RhdGU6IFwicHJvY2VlZGluZ1wiLFxuICAgICAgICAgICAgcHJvY2VlZDogdm9pZCAwLFxuICAgICAgICAgICAgcmVzZXQ6IHZvaWQgMCxcbiAgICAgICAgICAgIGxvY2F0aW9uOiBuZXh0TG9jYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuYXZpZ2F0ZSh0bywgb3B0cyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc2V0KCkge1xuICAgICAgICAgIGxldCBibG9ja2VycyA9IG5ldyBNYXAoc3RhdGUuYmxvY2tlcnMpO1xuICAgICAgICAgIGJsb2NrZXJzLnNldChibG9ja2VyS2V5LCBJRExFX0JMT0NLRVIpO1xuICAgICAgICAgIHVwZGF0ZVN0YXRlKHsgYmxvY2tlcnMgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhd2FpdCBzdGFydE5hdmlnYXRpb24oaGlzdG9yeUFjdGlvbiwgbmV4dExvY2F0aW9uLCB7XG4gICAgICBzdWJtaXNzaW9uLFxuICAgICAgLy8gU2VuZCB0aHJvdWdoIHRoZSBmb3JtRGF0YSBzZXJpYWxpemF0aW9uIGVycm9yIGlmIHdlIGhhdmUgb25lIHNvIHdlIGNhblxuICAgICAgLy8gcmVuZGVyIGF0IHRoZSByaWdodCBlcnJvciBib3VuZGFyeSBhZnRlciB3ZSBtYXRjaCByb3V0ZXNcbiAgICAgIHBlbmRpbmdFcnJvcjogZXJyb3IsXG4gICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICByZXBsYWNlOiBvcHRzICYmIG9wdHMucmVwbGFjZSxcbiAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBvcHRzICYmIG9wdHMudmlld1RyYW5zaXRpb24sXG4gICAgICBmbHVzaFN5bmNcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiByZXZhbGlkYXRlKCkge1xuICAgIGlmICghcGVuZGluZ1JldmFsaWRhdGlvbkRmZCkge1xuICAgICAgcGVuZGluZ1JldmFsaWRhdGlvbkRmZCA9IGNyZWF0ZURlZmVycmVkKCk7XG4gICAgfVxuICAgIGludGVycnVwdEFjdGl2ZUxvYWRzKCk7XG4gICAgdXBkYXRlU3RhdGUoeyByZXZhbGlkYXRpb246IFwibG9hZGluZ1wiIH0pO1xuICAgIGxldCBwcm9taXNlID0gcGVuZGluZ1JldmFsaWRhdGlvbkRmZC5wcm9taXNlO1xuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcInN1Ym1pdHRpbmdcIikge1xuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImlkbGVcIikge1xuICAgICAgc3RhcnROYXZpZ2F0aW9uKHN0YXRlLmhpc3RvcnlBY3Rpb24sIHN0YXRlLmxvY2F0aW9uLCB7XG4gICAgICAgIHN0YXJ0VW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbjogdHJ1ZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG4gICAgc3RhcnROYXZpZ2F0aW9uKFxuICAgICAgcGVuZGluZ0FjdGlvbiB8fCBzdGF0ZS5oaXN0b3J5QWN0aW9uLFxuICAgICAgc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbixcbiAgICAgIHtcbiAgICAgICAgb3ZlcnJpZGVOYXZpZ2F0aW9uOiBzdGF0ZS5uYXZpZ2F0aW9uLFxuICAgICAgICAvLyBQcm94eSB0aHJvdWdoIGFueSByZW5kaW5nIHZpZXcgdHJhbnNpdGlvblxuICAgICAgICBlbmFibGVWaWV3VHJhbnNpdGlvbjogcGVuZGluZ1ZpZXdUcmFuc2l0aW9uRW5hYmxlZCA9PT0gdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gc3RhcnROYXZpZ2F0aW9uKGhpc3RvcnlBY3Rpb24sIGxvY2F0aW9uLCBvcHRzKSB7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyICYmIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5hYm9ydCgpO1xuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG51bGw7XG4gICAgcGVuZGluZ0FjdGlvbiA9IGhpc3RvcnlBY3Rpb247XG4gICAgaXNVbmludGVycnVwdGVkUmV2YWxpZGF0aW9uID0gKG9wdHMgJiYgb3B0cy5zdGFydFVuaW50ZXJydXB0ZWRSZXZhbGlkYXRpb24pID09PSB0cnVlO1xuICAgIHNhdmVTY3JvbGxQb3NpdGlvbihzdGF0ZS5sb2NhdGlvbiwgc3RhdGUubWF0Y2hlcyk7XG4gICAgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCA9IChvcHRzICYmIG9wdHMucHJldmVudFNjcm9sbFJlc2V0KSA9PT0gdHJ1ZTtcbiAgICBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkID0gKG9wdHMgJiYgb3B0cy5lbmFibGVWaWV3VHJhbnNpdGlvbikgPT09IHRydWU7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IGxvYWRpbmdOYXZpZ2F0aW9uID0gb3B0cyAmJiBvcHRzLm92ZXJyaWRlTmF2aWdhdGlvbjtcbiAgICBsZXQgbWF0Y2hlcyA9IG9wdHM/LmluaXRpYWxIeWRyYXRpb24gJiYgc3RhdGUubWF0Y2hlcyAmJiBzdGF0ZS5tYXRjaGVzLmxlbmd0aCA+IDAgJiYgIWluaXRpYWxNYXRjaGVzSXNGT1cgPyAoXG4gICAgICAvLyBgbWF0Y2hSb3V0ZXMoKWAgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWQgaWYgd2UncmUgaW4gaGVyZSB2aWEgYHJvdXRlci5pbml0aWFsaXplKClgXG4gICAgICBzdGF0ZS5tYXRjaGVzXG4gICAgKSA6IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBsb2NhdGlvbiwgYmFzZW5hbWUpO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG4gICAgaWYgKG1hdGNoZXMgJiYgc3RhdGUuaW5pdGlhbGl6ZWQgJiYgIWlzUmV2YWxpZGF0aW9uUmVxdWlyZWQgJiYgaXNIYXNoQ2hhbmdlT25seShzdGF0ZS5sb2NhdGlvbiwgbG9jYXRpb24pICYmICEob3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChvcHRzLnN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpKSB7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24obG9jYXRpb24sIHsgbWF0Y2hlcyB9LCB7IGZsdXNoU3luYyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZvZ09mV2FyID0gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgbG9jYXRpb24ucGF0aG5hbWUpO1xuICAgIGlmIChmb2dPZldhci5hY3RpdmUgJiYgZm9nT2ZXYXIubWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcyA9IGZvZ09mV2FyLm1hdGNoZXM7XG4gICAgfVxuICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgbGV0IHsgZXJyb3IsIG5vdEZvdW5kTWF0Y2hlcywgcm91dGUgfSA9IGhhbmRsZU5hdmlnYXRpb25hbDQwNChcbiAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICk7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgcmVxdWVzdCA9IGNyZWF0ZUNsaWVudFNpZGVSZXF1ZXN0KFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgb3B0cyAmJiBvcHRzLnN1Ym1pc3Npb25cbiAgICApO1xuICAgIGxldCBzY29wZWRDb250ZXh0ID0gbmV3IHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcihcbiAgICAgIGluaXQudW5zdGFibGVfZ2V0Q29udGV4dCA/IGF3YWl0IGluaXQudW5zdGFibGVfZ2V0Q29udGV4dCgpIDogdm9pZCAwXG4gICAgKTtcbiAgICBsZXQgcGVuZGluZ0FjdGlvblJlc3VsdDtcbiAgICBpZiAob3B0cyAmJiBvcHRzLnBlbmRpbmdFcnJvcikge1xuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCA9IFtcbiAgICAgICAgZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzKS5yb3V0ZS5pZCxcbiAgICAgICAgeyB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sIGVycm9yOiBvcHRzLnBlbmRpbmdFcnJvciB9XG4gICAgICBdO1xuICAgIH0gZWxzZSBpZiAob3B0cyAmJiBvcHRzLnN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChvcHRzLnN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICAgIGxldCBhY3Rpb25SZXN1bHQgPSBhd2FpdCBoYW5kbGVBY3Rpb24oXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBvcHRzLnN1Ym1pc3Npb24sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIGZvZ09mV2FyLmFjdGl2ZSxcbiAgICAgICAgeyByZXBsYWNlOiBvcHRzLnJlcGxhY2UsIGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgaWYgKGFjdGlvblJlc3VsdC5zaG9ydENpcmN1aXRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoYWN0aW9uUmVzdWx0LnBlbmRpbmdBY3Rpb25SZXN1bHQpIHtcbiAgICAgICAgbGV0IFtyb3V0ZUlkLCByZXN1bHRdID0gYWN0aW9uUmVzdWx0LnBlbmRpbmdBY3Rpb25SZXN1bHQ7XG4gICAgICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkgJiYgaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSAmJiByZXN1bHQuZXJyb3Iuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwge1xuICAgICAgICAgICAgbWF0Y2hlczogYWN0aW9uUmVzdWx0Lm1hdGNoZXMsXG4gICAgICAgICAgICBsb2FkZXJEYXRhOiB7fSxcbiAgICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgICBbcm91dGVJZF06IHJlc3VsdC5lcnJvclxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWF0Y2hlcyA9IGFjdGlvblJlc3VsdC5tYXRjaGVzIHx8IG1hdGNoZXM7XG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0ID0gYWN0aW9uUmVzdWx0LnBlbmRpbmdBY3Rpb25SZXN1bHQ7XG4gICAgICBsb2FkaW5nTmF2aWdhdGlvbiA9IGdldExvYWRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBvcHRzLnN1Ym1pc3Npb24pO1xuICAgICAgZmx1c2hTeW5jID0gZmFsc2U7XG4gICAgICBmb2dPZldhci5hY3RpdmUgPSBmYWxzZTtcbiAgICAgIHJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgICByZXF1ZXN0LnVybCxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCB7XG4gICAgICBzaG9ydENpcmN1aXRlZCxcbiAgICAgIG1hdGNoZXM6IHVwZGF0ZWRNYXRjaGVzLFxuICAgICAgbG9hZGVyRGF0YSxcbiAgICAgIGVycm9yc1xuICAgIH0gPSBhd2FpdCBoYW5kbGVMb2FkZXJzKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICBsb2FkaW5nTmF2aWdhdGlvbixcbiAgICAgIG9wdHMgJiYgb3B0cy5zdWJtaXNzaW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLmZldGNoZXJTdWJtaXNzaW9uLFxuICAgICAgb3B0cyAmJiBvcHRzLnJlcGxhY2UsXG4gICAgICBvcHRzICYmIG9wdHMuaW5pdGlhbEh5ZHJhdGlvbiA9PT0gdHJ1ZSxcbiAgICAgIGZsdXNoU3luYyxcbiAgICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgICApO1xuICAgIGlmIChzaG9ydENpcmN1aXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgPSBudWxsO1xuICAgIGNvbXBsZXRlTmF2aWdhdGlvbihsb2NhdGlvbiwge1xuICAgICAgbWF0Y2hlczogdXBkYXRlZE1hdGNoZXMgfHwgbWF0Y2hlcyxcbiAgICAgIC4uLmdldEFjdGlvbkRhdGFGb3JDb21taXQocGVuZGluZ0FjdGlvblJlc3VsdCksXG4gICAgICBsb2FkZXJEYXRhLFxuICAgICAgZXJyb3JzXG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlQWN0aW9uKHJlcXVlc3QsIGxvY2F0aW9uLCBzdWJtaXNzaW9uLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBvcHRzID0ge30pIHtcbiAgICBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpO1xuICAgIGxldCBuYXZpZ2F0aW9uID0gZ2V0U3VibWl0dGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pO1xuICAgIHVwZGF0ZVN0YXRlKHsgbmF2aWdhdGlvbiB9LCB7IGZsdXNoU3luYzogb3B0cy5mbHVzaFN5bmMgPT09IHRydWUgfSk7XG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGxldCBib3VuZGFyeUlkID0gZmluZE5lYXJlc3RCb3VuZGFyeShkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcykucm91dGUuaWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW1xuICAgICAgICAgICAgYm91bmRhcnlJZCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgICAgICBlcnJvcjogZGlzY292ZXJSZXN1bHQuZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIGxldCB7IG5vdEZvdW5kTWF0Y2hlcywgZXJyb3IsIHJvdXRlIH0gPSBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQoXG4gICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtYXRjaGVzOiBub3RGb3VuZE1hdGNoZXMsXG4gICAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW1xuICAgICAgICAgICAgcm91dGUuaWQsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJlc3VsdDtcbiAgICBsZXQgYWN0aW9uTWF0Y2ggPSBnZXRUYXJnZXRNYXRjaChtYXRjaGVzLCBsb2NhdGlvbik7XG4gICAgaWYgKCFhY3Rpb25NYXRjaC5yb3V0ZS5hY3Rpb24gJiYgIWFjdGlvbk1hdGNoLnJvdXRlLmxhenkpIHtcbiAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgICByb3V0ZUlkOiBhY3Rpb25NYXRjaC5yb3V0ZS5pZFxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgICBcImFjdGlvblwiLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBbYWN0aW9uTWF0Y2hdLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICBudWxsXG4gICAgICApO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0c1thY3Rpb25NYXRjaC5yb3V0ZS5pZF07XG4gICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdHNbbWF0Y2gucm91dGUuaWRdKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IHJlcGxhY2UyO1xuICAgICAgaWYgKG9wdHMgJiYgb3B0cy5yZXBsYWNlICE9IG51bGwpIHtcbiAgICAgICAgcmVwbGFjZTIgPSBvcHRzLnJlcGxhY2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgbG9jYXRpb24yID0gbm9ybWFsaXplUmVkaXJlY3RMb2NhdGlvbihcbiAgICAgICAgICByZXN1bHQucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKSxcbiAgICAgICAgICBuZXcgVVJMKHJlcXVlc3QudXJsKSxcbiAgICAgICAgICBiYXNlbmFtZVxuICAgICAgICApO1xuICAgICAgICByZXBsYWNlMiA9IGxvY2F0aW9uMiA9PT0gc3RhdGUubG9jYXRpb24ucGF0aG5hbWUgKyBzdGF0ZS5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICB9XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZXN1bHQsIHRydWUsIHtcbiAgICAgICAgc3VibWlzc2lvbixcbiAgICAgICAgcmVwbGFjZTogcmVwbGFjZTJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcbiAgICAgIGlmICgob3B0cyAmJiBvcHRzLnJlcGxhY2UpICE9PSB0cnVlKSB7XG4gICAgICAgIHBlbmRpbmdBY3Rpb24gPSBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWQsIHJlc3VsdF1cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBtYXRjaGVzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdDogW2FjdGlvbk1hdGNoLnJvdXRlLmlkLCByZXN1bHRdXG4gICAgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVMb2FkZXJzKHJlcXVlc3QsIGxvY2F0aW9uLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBpc0ZvZ09mV2FyLCBvdmVycmlkZU5hdmlnYXRpb24sIHN1Ym1pc3Npb24sIGZldGNoZXJTdWJtaXNzaW9uLCByZXBsYWNlMiwgaW5pdGlhbEh5ZHJhdGlvbiwgZmx1c2hTeW5jLCBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgbGV0IGxvYWRpbmdOYXZpZ2F0aW9uID0gb3ZlcnJpZGVOYXZpZ2F0aW9uIHx8IGdldExvYWRpbmdOYXZpZ2F0aW9uKGxvY2F0aW9uLCBzdWJtaXNzaW9uKTtcbiAgICBsZXQgYWN0aXZlU3VibWlzc2lvbiA9IHN1Ym1pc3Npb24gfHwgZmV0Y2hlclN1Ym1pc3Npb24gfHwgZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKGxvYWRpbmdOYXZpZ2F0aW9uKTtcbiAgICBsZXQgc2hvdWxkVXBkYXRlTmF2aWdhdGlvblN0YXRlID0gIWlzVW5pbnRlcnJ1cHRlZFJldmFsaWRhdGlvbiAmJiAhaW5pdGlhbEh5ZHJhdGlvbjtcbiAgICBpZiAoaXNGb2dPZldhcikge1xuICAgICAgaWYgKHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSkge1xuICAgICAgICBsZXQgYWN0aW9uRGF0YSA9IGdldFVwZGF0ZWRBY3Rpb25EYXRhKHBlbmRpbmdBY3Rpb25SZXN1bHQpO1xuICAgICAgICB1cGRhdGVTdGF0ZShcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBsb2FkaW5nTmF2aWdhdGlvbixcbiAgICAgICAgICAgIC4uLmFjdGlvbkRhdGEgIT09IHZvaWQgMCA/IHsgYWN0aW9uRGF0YSB9IDoge31cbiAgICAgICAgICB9LFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGZsdXNoU3luY1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgcmVxdWVzdC5zaWduYWxcbiAgICAgICk7XG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgIGxldCBib3VuZGFyeUlkID0gZmluZE5lYXJlc3RCb3VuZGFyeShkaXNjb3ZlclJlc3VsdC5wYXJ0aWFsTWF0Y2hlcykucm91dGUuaWQ7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogZGlzY292ZXJSZXN1bHQucGFydGlhbE1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICBbYm91bmRhcnlJZF06IGRpc2NvdmVyUmVzdWx0LmVycm9yXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmICghZGlzY292ZXJSZXN1bHQubWF0Y2hlcykge1xuICAgICAgICBsZXQgeyBlcnJvciwgbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gaGFuZGxlTmF2aWdhdGlvbmFsNDA0KFxuICAgICAgICAgIGxvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW3JvdXRlLmlkXTogZXJyb3JcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaGVzID0gZGlzY292ZXJSZXN1bHQubWF0Y2hlcztcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IFttYXRjaGVzVG9Mb2FkLCByZXZhbGlkYXRpbmdGZXRjaGVyc10gPSBnZXRNYXRjaGVzVG9Mb2FkKFxuICAgICAgaW5pdC5oaXN0b3J5LFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgYWN0aXZlU3VibWlzc2lvbixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgaW5pdGlhbEh5ZHJhdGlvbiA9PT0gdHJ1ZSxcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQsXG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMsXG4gICAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLFxuICAgICAgZmV0Y2hMb2FkTWF0Y2hlcyxcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMsXG4gICAgICByb3V0ZXNUb1VzZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdFxuICAgICk7XG4gICAgcGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPSArK2luY3JlbWVudGluZ0xvYWRJZDtcbiAgICBpZiAobWF0Y2hlc1RvTG9hZC5sZW5ndGggPT09IDAgJiYgcmV2YWxpZGF0aW5nRmV0Y2hlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBsZXQgdXBkYXRlZEZldGNoZXJzMiA9IG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKTtcbiAgICAgIGNvbXBsZXRlTmF2aWdhdGlvbihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIC8vIENvbW1pdCBwZW5kaW5nIGVycm9yIGlmIHdlJ3JlIHNob3J0IGNpcmN1aXRpbmdcbiAgICAgICAgICBlcnJvcnM6IHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHsgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmVycm9yIH0gOiBudWxsLFxuICAgICAgICAgIC4uLmdldEFjdGlvbkRhdGFGb3JDb21taXQocGVuZGluZ0FjdGlvblJlc3VsdCksXG4gICAgICAgICAgLi4udXBkYXRlZEZldGNoZXJzMiA/IHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0gOiB7fVxuICAgICAgICB9LFxuICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHsgc2hvcnRDaXJjdWl0ZWQ6IHRydWUgfTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFVwZGF0ZU5hdmlnYXRpb25TdGF0ZSkge1xuICAgICAgbGV0IHVwZGF0ZXMgPSB7fTtcbiAgICAgIGlmICghaXNGb2dPZldhcikge1xuICAgICAgICB1cGRhdGVzLm5hdmlnYXRpb24gPSBsb2FkaW5nTmF2aWdhdGlvbjtcbiAgICAgICAgbGV0IGFjdGlvbkRhdGEgPSBnZXRVcGRhdGVkQWN0aW9uRGF0YShwZW5kaW5nQWN0aW9uUmVzdWx0KTtcbiAgICAgICAgaWYgKGFjdGlvbkRhdGEgIT09IHZvaWQgMCkge1xuICAgICAgICAgIHVwZGF0ZXMuYWN0aW9uRGF0YSA9IGFjdGlvbkRhdGE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVwZGF0ZXMuZmV0Y2hlcnMgPSBnZXRVcGRhdGVkUmV2YWxpZGF0aW5nRmV0Y2hlcnMocmV2YWxpZGF0aW5nRmV0Y2hlcnMpO1xuICAgICAgfVxuICAgICAgdXBkYXRlU3RhdGUodXBkYXRlcywgeyBmbHVzaFN5bmMgfSk7XG4gICAgfVxuICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKHJmKSA9PiB7XG4gICAgICBhYm9ydEZldGNoZXIocmYua2V5KTtcbiAgICAgIGlmIChyZi5jb250cm9sbGVyKSB7XG4gICAgICAgIGZldGNoQ29udHJvbGxlcnMuc2V0KHJmLmtleSwgcmYuY29udHJvbGxlcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9ucyA9ICgpID0+IHJldmFsaWRhdGluZ0ZldGNoZXJzLmZvckVhY2goKGYpID0+IGFib3J0RmV0Y2hlcihmLmtleSkpO1xuICAgIGlmIChwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIpIHtcbiAgICAgIHBlbmRpbmdOYXZpZ2F0aW9uQ29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgXCJhYm9ydFwiLFxuICAgICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCB7IGxvYWRlclJlc3VsdHMsIGZldGNoZXJSZXN1bHRzIH0gPSBhd2FpdCBjYWxsTG9hZGVyc0FuZE1heWJlUmVzb2x2ZURhdGEoXG4gICAgICBtYXRjaGVzLFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgcmVxdWVzdCxcbiAgICAgIHNjb3BlZENvbnRleHRcbiAgICApO1xuICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm4geyBzaG9ydENpcmN1aXRlZDogdHJ1ZSB9O1xuICAgIH1cbiAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyKSB7XG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICAgIFwiYWJvcnRcIixcbiAgICAgICAgYWJvcnRQZW5kaW5nRmV0Y2hSZXZhbGlkYXRpb25zXG4gICAgICApO1xuICAgIH1cbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4gZmV0Y2hDb250cm9sbGVycy5kZWxldGUocmYua2V5KSk7XG4gICAgbGV0IHJlZGlyZWN0MiA9IGZpbmRSZWRpcmVjdChsb2FkZXJSZXN1bHRzKTtcbiAgICBpZiAocmVkaXJlY3QyKSB7XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZWRpcmVjdDIucmVzdWx0LCB0cnVlLCB7XG4gICAgICAgIHJlcGxhY2U6IHJlcGxhY2UyXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuICAgIHJlZGlyZWN0MiA9IGZpbmRSZWRpcmVjdChmZXRjaGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0Mikge1xuICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQocmVkaXJlY3QyLmtleSk7XG4gICAgICBhd2FpdCBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihyZXF1ZXN0LCByZWRpcmVjdDIucmVzdWx0LCB0cnVlLCB7XG4gICAgICAgIHJlcGxhY2U6IHJlcGxhY2UyXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHNob3J0Q2lyY3VpdGVkOiB0cnVlIH07XG4gICAgfVxuICAgIGxldCB7IGxvYWRlckRhdGEsIGVycm9ycyB9ID0gcHJvY2Vzc0xvYWRlckRhdGEoXG4gICAgICBzdGF0ZSxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBsb2FkZXJSZXN1bHRzLFxuICAgICAgcGVuZGluZ0FjdGlvblJlc3VsdCxcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgZmV0Y2hlclJlc3VsdHNcbiAgICApO1xuICAgIGlmIChpbml0aWFsSHlkcmF0aW9uICYmIHN0YXRlLmVycm9ycykge1xuICAgICAgZXJyb3JzID0geyAuLi5zdGF0ZS5lcnJvcnMsIC4uLmVycm9ycyB9O1xuICAgIH1cbiAgICBsZXQgdXBkYXRlZEZldGNoZXJzID0gbWFya0ZldGNoUmVkaXJlY3RzRG9uZSgpO1xuICAgIGxldCBkaWRBYm9ydEZldGNoTG9hZHMgPSBhYm9ydFN0YWxlRmV0Y2hMb2FkcyhwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCk7XG4gICAgbGV0IHNob3VsZFVwZGF0ZUZldGNoZXJzID0gdXBkYXRlZEZldGNoZXJzIHx8IGRpZEFib3J0RmV0Y2hMb2FkcyB8fCByZXZhbGlkYXRpbmdGZXRjaGVycy5sZW5ndGggPiAwO1xuICAgIHJldHVybiB7XG4gICAgICBtYXRjaGVzLFxuICAgICAgbG9hZGVyRGF0YSxcbiAgICAgIGVycm9ycyxcbiAgICAgIC4uLnNob3VsZFVwZGF0ZUZldGNoZXJzID8geyBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycykgfSA6IHt9XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBnZXRVcGRhdGVkQWN0aW9uRGF0YShwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgaWYgKHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgIWlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5kYXRhXG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAoc3RhdGUuYWN0aW9uRGF0YSkge1xuICAgICAgaWYgKE9iamVjdC5rZXlzKHN0YXRlLmFjdGlvbkRhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzdGF0ZS5hY3Rpb25EYXRhO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXRVcGRhdGVkUmV2YWxpZGF0aW5nRmV0Y2hlcnMocmV2YWxpZGF0aW5nRmV0Y2hlcnMpIHtcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4ge1xuICAgICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQocmYua2V5KTtcbiAgICAgIGxldCByZXZhbGlkYXRpbmdGZXRjaGVyID0gZ2V0TG9hZGluZ0ZldGNoZXIoXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgZmV0Y2hlciA/IGZldGNoZXIuZGF0YSA6IHZvaWQgMFxuICAgICAgKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChyZi5rZXksIHJldmFsaWRhdGluZ0ZldGNoZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBmZXRjaDIoa2V5LCByb3V0ZUlkLCBocmVmMiwgb3B0cykge1xuICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgIGxldCBmbHVzaFN5bmMgPSAob3B0cyAmJiBvcHRzLmZsdXNoU3luYykgPT09IHRydWU7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgbGV0IG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplVG8oXG4gICAgICBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIHN0YXRlLm1hdGNoZXMsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGhyZWYyLFxuICAgICAgcm91dGVJZCxcbiAgICAgIG9wdHM/LnJlbGF0aXZlXG4gICAgKTtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKHJvdXRlc1RvVXNlLCBub3JtYWxpemVkUGF0aCwgYmFzZW5hbWUpO1xuICAgIGxldCBmb2dPZldhciA9IGNoZWNrRm9nT2ZXYXIobWF0Y2hlcywgcm91dGVzVG9Vc2UsIG5vcm1hbGl6ZWRQYXRoKTtcbiAgICBpZiAoZm9nT2ZXYXIuYWN0aXZlICYmIGZvZ09mV2FyLm1hdGNoZXMpIHtcbiAgICAgIG1hdGNoZXMgPSBmb2dPZldhci5tYXRjaGVzO1xuICAgIH1cbiAgICBpZiAoIW1hdGNoZXMpIHtcbiAgICAgIHNldEZldGNoZXJFcnJvcihcbiAgICAgICAga2V5LFxuICAgICAgICByb3V0ZUlkLFxuICAgICAgICBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbm9ybWFsaXplZFBhdGggfSksXG4gICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB7IHBhdGgsIHN1Ym1pc3Npb24sIGVycm9yIH0gPSBub3JtYWxpemVOYXZpZ2F0ZU9wdGlvbnMoXG4gICAgICB0cnVlLFxuICAgICAgbm9ybWFsaXplZFBhdGgsXG4gICAgICBvcHRzXG4gICAgKTtcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGVycm9yLCB7IGZsdXNoU3luYyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IG1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgcGF0aCk7XG4gICAgbGV0IHNjb3BlZENvbnRleHQgPSBuZXcgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyKFxuICAgICAgaW5pdC51bnN0YWJsZV9nZXRDb250ZXh0ID8gYXdhaXQgaW5pdC51bnN0YWJsZV9nZXRDb250ZXh0KCkgOiB2b2lkIDBcbiAgICApO1xuICAgIGxldCBwcmV2ZW50U2Nyb2xsUmVzZXQgPSAob3B0cyAmJiBvcHRzLnByZXZlbnRTY3JvbGxSZXNldCkgPT09IHRydWU7XG4gICAgaWYgKHN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgICBhd2FpdCBoYW5kbGVGZXRjaGVyQWN0aW9uKFxuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIG1hdGNoLFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgICBmb2dPZldhci5hY3RpdmUsXG4gICAgICAgIGZsdXNoU3luYyxcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICBzdWJtaXNzaW9uXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmZXRjaExvYWRNYXRjaGVzLnNldChrZXksIHsgcm91dGVJZCwgcGF0aCB9KTtcbiAgICBhd2FpdCBoYW5kbGVGZXRjaGVyTG9hZGVyKFxuICAgICAga2V5LFxuICAgICAgcm91dGVJZCxcbiAgICAgIHBhdGgsXG4gICAgICBtYXRjaCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgZm9nT2ZXYXIuYWN0aXZlLFxuICAgICAgZmx1c2hTeW5jLFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgc3VibWlzc2lvblxuICAgICk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRmV0Y2hlckFjdGlvbihrZXksIHJvdXRlSWQsIHBhdGgsIG1hdGNoLCByZXF1ZXN0TWF0Y2hlcywgc2NvcGVkQ29udGV4dCwgaXNGb2dPZldhciwgZmx1c2hTeW5jLCBwcmV2ZW50U2Nyb2xsUmVzZXQsIHN1Ym1pc3Npb24pIHtcbiAgICBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpO1xuICAgIGZldGNoTG9hZE1hdGNoZXMuZGVsZXRlKGtleSk7XG4gICAgZnVuY3Rpb24gZGV0ZWN0QW5kSGFuZGxlNDA1RXJyb3IobSkge1xuICAgICAgaWYgKCFtLnJvdXRlLmFjdGlvbiAmJiAhbS5yb3V0ZS5sYXp5KSB7XG4gICAgICAgIGxldCBlcnJvciA9IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgICAgbWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgICAgICAgcGF0aG5hbWU6IHBhdGgsXG4gICAgICAgICAgcm91dGVJZFxuICAgICAgICB9KTtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKCFpc0ZvZ09mV2FyICYmIGRldGVjdEFuZEhhbmRsZTQwNUVycm9yKG1hdGNoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZXhpc3RpbmdGZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0U3VibWl0dGluZ0ZldGNoZXIoc3VibWlzc2lvbiwgZXhpc3RpbmdGZXRjaGVyKSwge1xuICAgICAgZmx1c2hTeW5jXG4gICAgfSk7XG4gICAgbGV0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgZmV0Y2hSZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBwYXRoLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgIHN1Ym1pc3Npb25cbiAgICApO1xuICAgIGlmIChpc0ZvZ09mV2FyKSB7XG4gICAgICBsZXQgZGlzY292ZXJSZXN1bHQgPSBhd2FpdCBkaXNjb3ZlclJvdXRlcyhcbiAgICAgICAgcmVxdWVzdE1hdGNoZXMsXG4gICAgICAgIHBhdGgsXG4gICAgICAgIGZldGNoUmVxdWVzdC5zaWduYWwsXG4gICAgICAgIGtleVxuICAgICAgKTtcbiAgICAgIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKGRpc2NvdmVyUmVzdWx0LnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBkaXNjb3ZlclJlc3VsdC5lcnJvciwgeyBmbHVzaFN5bmMgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2NvdmVyUmVzdWx0Lm1hdGNoZXMpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKFxuICAgICAgICAgIGtleSxcbiAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgIGdldEludGVybmFsUm91dGVyRXJyb3IoNDA0LCB7IHBhdGhuYW1lOiBwYXRoIH0pLFxuICAgICAgICAgIHsgZmx1c2hTeW5jIH1cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVxdWVzdE1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgICBtYXRjaCA9IGdldFRhcmdldE1hdGNoKHJlcXVlc3RNYXRjaGVzLCBwYXRoKTtcbiAgICAgICAgaWYgKGRldGVjdEFuZEhhbmRsZTQwNUVycm9yKG1hdGNoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmZXRjaENvbnRyb2xsZXJzLnNldChrZXksIGFib3J0Q29udHJvbGxlcik7XG4gICAgbGV0IG9yaWdpbmF0aW5nTG9hZElkID0gaW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGxldCBhY3Rpb25SZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwiYWN0aW9uXCIsXG4gICAgICBmZXRjaFJlcXVlc3QsXG4gICAgICBbbWF0Y2hdLFxuICAgICAgcmVxdWVzdE1hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAga2V5XG4gICAgKTtcbiAgICBsZXQgYWN0aW9uUmVzdWx0ID0gYWN0aW9uUmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgaWYgKGZldGNoUmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgaWYgKGZldGNoQ29udHJvbGxlcnMuZ2V0KGtleSkgPT09IGFib3J0Q29udHJvbGxlcikge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQoYWN0aW9uUmVzdWx0KSB8fCBpc0Vycm9yUmVzdWx0KGFjdGlvblJlc3VsdCkpIHtcbiAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodm9pZCAwKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQoYWN0aW9uUmVzdWx0KSkge1xuICAgICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgICAgICBpZiAocGVuZGluZ05hdmlnYXRpb25Mb2FkSWQgPiBvcmlnaW5hdGluZ0xvYWRJZCkge1xuICAgICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldERvbmVGZXRjaGVyKHZvaWQgMCkpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmZXRjaFJlZGlyZWN0SWRzLmFkZChrZXkpO1xuICAgICAgICAgIHVwZGF0ZUZldGNoZXJTdGF0ZShrZXksIGdldExvYWRpbmdGZXRjaGVyKHN1Ym1pc3Npb24pKTtcbiAgICAgICAgICByZXR1cm4gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oZmV0Y2hSZXF1ZXN0LCBhY3Rpb25SZXN1bHQsIGZhbHNlLCB7XG4gICAgICAgICAgICBmZXRjaGVyU3VibWlzc2lvbjogc3VibWlzc2lvbixcbiAgICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNFcnJvclJlc3VsdChhY3Rpb25SZXN1bHQpKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihrZXksIHJvdXRlSWQsIGFjdGlvblJlc3VsdC5lcnJvcik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG5leHRMb2NhdGlvbiA9IHN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24gfHwgc3RhdGUubG9jYXRpb247XG4gICAgbGV0IHJldmFsaWRhdGlvblJlcXVlc3QgPSBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIG5leHRMb2NhdGlvbixcbiAgICAgIGFib3J0Q29udHJvbGxlci5zaWduYWxcbiAgICApO1xuICAgIGxldCByb3V0ZXNUb1VzZSA9IGluRmxpZ2h0RGF0YVJvdXRlcyB8fCBkYXRhUm91dGVzO1xuICAgIGxldCBtYXRjaGVzID0gc3RhdGUubmF2aWdhdGlvbi5zdGF0ZSAhPT0gXCJpZGxlXCIgPyBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiwgYmFzZW5hbWUpIDogc3RhdGUubWF0Y2hlcztcbiAgICBpbnZhcmlhbnQobWF0Y2hlcywgXCJEaWRuJ3QgZmluZCBhbnkgbWF0Y2hlcyBhZnRlciBmZXRjaGVyIGFjdGlvblwiKTtcbiAgICBsZXQgbG9hZElkID0gKytpbmNyZW1lbnRpbmdMb2FkSWQ7XG4gICAgZmV0Y2hSZWxvYWRJZHMuc2V0KGtleSwgbG9hZElkKTtcbiAgICBsZXQgbG9hZEZldGNoZXIgPSBnZXRMb2FkaW5nRmV0Y2hlcihzdWJtaXNzaW9uLCBhY3Rpb25SZXN1bHQuZGF0YSk7XG4gICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgbG9hZEZldGNoZXIpO1xuICAgIGxldCBbbWF0Y2hlc1RvTG9hZCwgcmV2YWxpZGF0aW5nRmV0Y2hlcnNdID0gZ2V0TWF0Y2hlc1RvTG9hZChcbiAgICAgIGluaXQuaGlzdG9yeSxcbiAgICAgIHN0YXRlLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHN1Ym1pc3Npb24sXG4gICAgICBuZXh0TG9jYXRpb24sXG4gICAgICBmYWxzZSxcbiAgICAgIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQsXG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMsXG4gICAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLFxuICAgICAgZmV0Y2hMb2FkTWF0Y2hlcyxcbiAgICAgIGZldGNoUmVkaXJlY3RJZHMsXG4gICAgICByb3V0ZXNUb1VzZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgW21hdGNoLnJvdXRlLmlkLCBhY3Rpb25SZXN1bHRdXG4gICAgKTtcbiAgICByZXZhbGlkYXRpbmdGZXRjaGVycy5maWx0ZXIoKHJmKSA9PiByZi5rZXkgIT09IGtleSkuZm9yRWFjaCgocmYpID0+IHtcbiAgICAgIGxldCBzdGFsZUtleSA9IHJmLmtleTtcbiAgICAgIGxldCBleGlzdGluZ0ZldGNoZXIyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KHN0YWxlS2V5KTtcbiAgICAgIGxldCByZXZhbGlkYXRpbmdGZXRjaGVyID0gZ2V0TG9hZGluZ0ZldGNoZXIoXG4gICAgICAgIHZvaWQgMCxcbiAgICAgICAgZXhpc3RpbmdGZXRjaGVyMiA/IGV4aXN0aW5nRmV0Y2hlcjIuZGF0YSA6IHZvaWQgMFxuICAgICAgKTtcbiAgICAgIHN0YXRlLmZldGNoZXJzLnNldChzdGFsZUtleSwgcmV2YWxpZGF0aW5nRmV0Y2hlcik7XG4gICAgICBhYm9ydEZldGNoZXIoc3RhbGVLZXkpO1xuICAgICAgaWYgKHJmLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgZmV0Y2hDb250cm9sbGVycy5zZXQoc3RhbGVLZXksIHJmLmNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHVwZGF0ZVN0YXRlKHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0pO1xuICAgIGxldCBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnMgPSAoKSA9PiByZXZhbGlkYXRpbmdGZXRjaGVycy5mb3JFYWNoKChyZikgPT4gYWJvcnRGZXRjaGVyKHJmLmtleSkpO1xuICAgIGFib3J0Q29udHJvbGxlci5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgIFwiYWJvcnRcIixcbiAgICAgIGFib3J0UGVuZGluZ0ZldGNoUmV2YWxpZGF0aW9uc1xuICAgICk7XG4gICAgbGV0IHsgbG9hZGVyUmVzdWx0cywgZmV0Y2hlclJlc3VsdHMgfSA9IGF3YWl0IGNhbGxMb2FkZXJzQW5kTWF5YmVSZXNvbHZlRGF0YShcbiAgICAgIG1hdGNoZXMsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMsXG4gICAgICByZXZhbGlkYXRpb25SZXF1ZXN0LFxuICAgICAgc2NvcGVkQ29udGV4dFxuICAgICk7XG4gICAgaWYgKGFib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gICAgICBcImFib3J0XCIsXG4gICAgICBhYm9ydFBlbmRpbmdGZXRjaFJldmFsaWRhdGlvbnNcbiAgICApO1xuICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocikgPT4gZmV0Y2hDb250cm9sbGVycy5kZWxldGUoci5rZXkpKTtcbiAgICBsZXQgcmVkaXJlY3QyID0gZmluZFJlZGlyZWN0KGxvYWRlclJlc3VsdHMpO1xuICAgIGlmIChyZWRpcmVjdDIpIHtcbiAgICAgIHJldHVybiBzdGFydFJlZGlyZWN0TmF2aWdhdGlvbihcbiAgICAgICAgcmV2YWxpZGF0aW9uUmVxdWVzdCxcbiAgICAgICAgcmVkaXJlY3QyLnJlc3VsdCxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIHsgcHJldmVudFNjcm9sbFJlc2V0IH1cbiAgICAgICk7XG4gICAgfVxuICAgIHJlZGlyZWN0MiA9IGZpbmRSZWRpcmVjdChmZXRjaGVyUmVzdWx0cyk7XG4gICAgaWYgKHJlZGlyZWN0Mikge1xuICAgICAgZmV0Y2hSZWRpcmVjdElkcy5hZGQocmVkaXJlY3QyLmtleSk7XG4gICAgICByZXR1cm4gc3RhcnRSZWRpcmVjdE5hdmlnYXRpb24oXG4gICAgICAgIHJldmFsaWRhdGlvblJlcXVlc3QsXG4gICAgICAgIHJlZGlyZWN0Mi5yZXN1bHQsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICB7IHByZXZlbnRTY3JvbGxSZXNldCB9XG4gICAgICApO1xuICAgIH1cbiAgICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NMb2FkZXJEYXRhKFxuICAgICAgc3RhdGUsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgIHZvaWQgMCxcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLFxuICAgICAgZmV0Y2hlclJlc3VsdHNcbiAgICApO1xuICAgIGlmIChzdGF0ZS5mZXRjaGVycy5oYXMoa2V5KSkge1xuICAgICAgbGV0IGRvbmVGZXRjaGVyID0gZ2V0RG9uZUZldGNoZXIoYWN0aW9uUmVzdWx0LmRhdGEpO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZG9uZUZldGNoZXIpO1xuICAgIH1cbiAgICBhYm9ydFN0YWxlRmV0Y2hMb2Fkcyhsb2FkSWQpO1xuICAgIGlmIChzdGF0ZS5uYXZpZ2F0aW9uLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJiBsb2FkSWQgPiBwZW5kaW5nTmF2aWdhdGlvbkxvYWRJZCkge1xuICAgICAgaW52YXJpYW50KHBlbmRpbmdBY3Rpb24sIFwiRXhwZWN0ZWQgcGVuZGluZyBhY3Rpb25cIik7XG4gICAgICBwZW5kaW5nTmF2aWdhdGlvbkNvbnRyb2xsZXIgJiYgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyLmFib3J0KCk7XG4gICAgICBjb21wbGV0ZU5hdmlnYXRpb24oc3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiwge1xuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICBlcnJvcnMsXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVwZGF0ZVN0YXRlKHtcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBsb2FkZXJEYXRhOiBtZXJnZUxvYWRlckRhdGEoXG4gICAgICAgICAgc3RhdGUubG9hZGVyRGF0YSxcbiAgICAgICAgICBsb2FkZXJEYXRhLFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgZXJyb3JzXG4gICAgICAgICksXG4gICAgICAgIGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKVxuICAgICAgfSk7XG4gICAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gZmFsc2U7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZUZldGNoZXJMb2FkZXIoa2V5LCByb3V0ZUlkLCBwYXRoLCBtYXRjaCwgbWF0Y2hlcywgc2NvcGVkQ29udGV4dCwgaXNGb2dPZldhciwgZmx1c2hTeW5jLCBwcmV2ZW50U2Nyb2xsUmVzZXQsIHN1Ym1pc3Npb24pIHtcbiAgICBsZXQgZXhpc3RpbmdGZXRjaGVyID0gc3RhdGUuZmV0Y2hlcnMuZ2V0KGtleSk7XG4gICAgdXBkYXRlRmV0Y2hlclN0YXRlKFxuICAgICAga2V5LFxuICAgICAgZ2V0TG9hZGluZ0ZldGNoZXIoXG4gICAgICAgIHN1Ym1pc3Npb24sXG4gICAgICAgIGV4aXN0aW5nRmV0Y2hlciA/IGV4aXN0aW5nRmV0Y2hlci5kYXRhIDogdm9pZCAwXG4gICAgICApLFxuICAgICAgeyBmbHVzaFN5bmMgfVxuICAgICk7XG4gICAgbGV0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBsZXQgZmV0Y2hSZXF1ZXN0ID0gY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoXG4gICAgICBpbml0Lmhpc3RvcnksXG4gICAgICBwYXRoLFxuICAgICAgYWJvcnRDb250cm9sbGVyLnNpZ25hbFxuICAgICk7XG4gICAgaWYgKGlzRm9nT2ZXYXIpIHtcbiAgICAgIGxldCBkaXNjb3ZlclJlc3VsdCA9IGF3YWl0IGRpc2NvdmVyUm91dGVzKFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICBwYXRoLFxuICAgICAgICBmZXRjaFJlcXVlc3Quc2lnbmFsLFxuICAgICAgICBrZXlcbiAgICAgICk7XG4gICAgICBpZiAoZGlzY292ZXJSZXN1bHQudHlwZSA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIGlmIChkaXNjb3ZlclJlc3VsdC50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgc2V0RmV0Y2hlckVycm9yKGtleSwgcm91dGVJZCwgZGlzY292ZXJSZXN1bHQuZXJyb3IsIHsgZmx1c2hTeW5jIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKCFkaXNjb3ZlclJlc3VsdC5tYXRjaGVzKSB7XG4gICAgICAgIHNldEZldGNoZXJFcnJvcihcbiAgICAgICAgICBrZXksXG4gICAgICAgICAgcm91dGVJZCxcbiAgICAgICAgICBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogcGF0aCB9KSxcbiAgICAgICAgICB7IGZsdXNoU3luYyB9XG4gICAgICAgICk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hdGNoZXMgPSBkaXNjb3ZlclJlc3VsdC5tYXRjaGVzO1xuICAgICAgICBtYXRjaCA9IGdldFRhcmdldE1hdGNoKG1hdGNoZXMsIHBhdGgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmZXRjaENvbnRyb2xsZXJzLnNldChrZXksIGFib3J0Q29udHJvbGxlcik7XG4gICAgbGV0IG9yaWdpbmF0aW5nTG9hZElkID0gaW5jcmVtZW50aW5nTG9hZElkO1xuICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwibG9hZGVyXCIsXG4gICAgICBmZXRjaFJlcXVlc3QsXG4gICAgICBbbWF0Y2hdLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICBrZXlcbiAgICApO1xuICAgIGxldCByZXN1bHQgPSByZXN1bHRzW21hdGNoLnJvdXRlLmlkXTtcbiAgICBpZiAoZmV0Y2hDb250cm9sbGVycy5nZXQoa2V5KSA9PT0gYWJvcnRDb250cm9sbGVyKSB7XG4gICAgICBmZXRjaENvbnRyb2xsZXJzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hSZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmhhcyhrZXkpKSB7XG4gICAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcih2b2lkIDApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgaWYgKHBlbmRpbmdOYXZpZ2F0aW9uTG9hZElkID4gb3JpZ2luYXRpbmdMb2FkSWQpIHtcbiAgICAgICAgdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZ2V0RG9uZUZldGNoZXIodm9pZCAwKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZldGNoUmVkaXJlY3RJZHMuYWRkKGtleSk7XG4gICAgICAgIGF3YWl0IHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKGZldGNoUmVxdWVzdCwgcmVzdWx0LCBmYWxzZSwge1xuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCByZXN1bHQuZXJyb3IpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1cGRhdGVGZXRjaGVyU3RhdGUoa2V5LCBnZXREb25lRmV0Y2hlcihyZXN1bHQuZGF0YSkpO1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHN0YXJ0UmVkaXJlY3ROYXZpZ2F0aW9uKHJlcXVlc3QsIHJlZGlyZWN0MiwgaXNOYXZpZ2F0aW9uLCB7XG4gICAgc3VibWlzc2lvbixcbiAgICBmZXRjaGVyU3VibWlzc2lvbixcbiAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgcmVwbGFjZTogcmVwbGFjZTJcbiAgfSA9IHt9KSB7XG4gICAgaWYgKHJlZGlyZWN0Mi5yZXNwb25zZS5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmV2YWxpZGF0ZVwiKSkge1xuICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCA9IHRydWU7XG4gICAgfVxuICAgIGxldCBsb2NhdGlvbiA9IHJlZGlyZWN0Mi5yZXNwb25zZS5oZWFkZXJzLmdldChcIkxvY2F0aW9uXCIpO1xuICAgIGludmFyaWFudChsb2NhdGlvbiwgXCJFeHBlY3RlZCBhIExvY2F0aW9uIGhlYWRlciBvbiB0aGUgcmVkaXJlY3QgUmVzcG9uc2VcIik7XG4gICAgbG9jYXRpb24gPSBub3JtYWxpemVSZWRpcmVjdExvY2F0aW9uKFxuICAgICAgbG9jYXRpb24sXG4gICAgICBuZXcgVVJMKHJlcXVlc3QudXJsKSxcbiAgICAgIGJhc2VuYW1lXG4gICAgKTtcbiAgICBsZXQgcmVkaXJlY3RMb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKHN0YXRlLmxvY2F0aW9uLCBsb2NhdGlvbiwge1xuICAgICAgX2lzUmVkaXJlY3Q6IHRydWVcbiAgICB9KTtcbiAgICBpZiAoaXNCcm93c2VyMikge1xuICAgICAgbGV0IGlzRG9jdW1lbnRSZWxvYWQgPSBmYWxzZTtcbiAgICAgIGlmIChyZWRpcmVjdDIucmVzcG9uc2UuaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiKSkge1xuICAgICAgICBpc0RvY3VtZW50UmVsb2FkID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QobG9jYXRpb24pKSB7XG4gICAgICAgIGNvbnN0IHVybCA9IGluaXQuaGlzdG9yeS5jcmVhdGVVUkwobG9jYXRpb24pO1xuICAgICAgICBpc0RvY3VtZW50UmVsb2FkID0gLy8gSGFyZCByZWxvYWQgaWYgaXQncyBhbiBhYnNvbHV0ZSBVUkwgdG8gYSBuZXcgb3JpZ2luXG4gICAgICAgIHVybC5vcmlnaW4gIT09IHJvdXRlcldpbmRvdy5sb2NhdGlvbi5vcmlnaW4gfHwgLy8gSGFyZCByZWxvYWQgaWYgaXQncyBhbiBhYnNvbHV0ZSBVUkwgdGhhdCBkb2VzIG5vdCBtYXRjaCBvdXIgYmFzZW5hbWVcbiAgICAgICAgc3RyaXBCYXNlbmFtZSh1cmwucGF0aG5hbWUsIGJhc2VuYW1lKSA9PSBudWxsO1xuICAgICAgfVxuICAgICAgaWYgKGlzRG9jdW1lbnRSZWxvYWQpIHtcbiAgICAgICAgaWYgKHJlcGxhY2UyKSB7XG4gICAgICAgICAgcm91dGVyV2luZG93LmxvY2F0aW9uLnJlcGxhY2UobG9jYXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJvdXRlcldpbmRvdy5sb2NhdGlvbi5hc3NpZ24obG9jYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcGVuZGluZ05hdmlnYXRpb25Db250cm9sbGVyID0gbnVsbDtcbiAgICBsZXQgcmVkaXJlY3ROYXZpZ2F0aW9uVHlwZSA9IHJlcGxhY2UyID09PSB0cnVlIHx8IHJlZGlyZWN0Mi5yZXNwb25zZS5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVwbGFjZVwiKSA/IFwiUkVQTEFDRVwiIC8qIFJlcGxhY2UgKi8gOiBcIlBVU0hcIiAvKiBQdXNoICovO1xuICAgIGxldCB7IGZvcm1NZXRob2QsIGZvcm1BY3Rpb24sIGZvcm1FbmNUeXBlIH0gPSBzdGF0ZS5uYXZpZ2F0aW9uO1xuICAgIGlmICghc3VibWlzc2lvbiAmJiAhZmV0Y2hlclN1Ym1pc3Npb24gJiYgZm9ybU1ldGhvZCAmJiBmb3JtQWN0aW9uICYmIGZvcm1FbmNUeXBlKSB7XG4gICAgICBzdWJtaXNzaW9uID0gZ2V0U3VibWlzc2lvbkZyb21OYXZpZ2F0aW9uKHN0YXRlLm5hdmlnYXRpb24pO1xuICAgIH1cbiAgICBsZXQgYWN0aXZlU3VibWlzc2lvbiA9IHN1Ym1pc3Npb24gfHwgZmV0Y2hlclN1Ym1pc3Npb247XG4gICAgaWYgKHJlZGlyZWN0UHJlc2VydmVNZXRob2RTdGF0dXNDb2Rlcy5oYXMocmVkaXJlY3QyLnJlc3BvbnNlLnN0YXR1cykgJiYgYWN0aXZlU3VibWlzc2lvbiAmJiBpc011dGF0aW9uTWV0aG9kKGFjdGl2ZVN1Ym1pc3Npb24uZm9ybU1ldGhvZCkpIHtcbiAgICAgIGF3YWl0IHN0YXJ0TmF2aWdhdGlvbihyZWRpcmVjdE5hdmlnYXRpb25UeXBlLCByZWRpcmVjdExvY2F0aW9uLCB7XG4gICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICAuLi5hY3RpdmVTdWJtaXNzaW9uLFxuICAgICAgICAgIGZvcm1BY3Rpb246IGxvY2F0aW9uXG4gICAgICAgIH0sXG4gICAgICAgIC8vIFByZXNlcnZlIHRoZXNlIGZsYWdzIGFjcm9zcyByZWRpcmVjdHNcbiAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBwcmV2ZW50U2Nyb2xsUmVzZXQgfHwgcGVuZGluZ1ByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgZW5hYmxlVmlld1RyYW5zaXRpb246IGlzTmF2aWdhdGlvbiA/IHBlbmRpbmdWaWV3VHJhbnNpdGlvbkVuYWJsZWQgOiB2b2lkIDBcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgb3ZlcnJpZGVOYXZpZ2F0aW9uID0gZ2V0TG9hZGluZ05hdmlnYXRpb24oXG4gICAgICAgIHJlZGlyZWN0TG9jYXRpb24sXG4gICAgICAgIHN1Ym1pc3Npb25cbiAgICAgICk7XG4gICAgICBhd2FpdCBzdGFydE5hdmlnYXRpb24ocmVkaXJlY3ROYXZpZ2F0aW9uVHlwZSwgcmVkaXJlY3RMb2NhdGlvbiwge1xuICAgICAgICBvdmVycmlkZU5hdmlnYXRpb24sXG4gICAgICAgIC8vIFNlbmQgZmV0Y2hlciBzdWJtaXNzaW9ucyB0aHJvdWdoIGZvciBzaG91bGRSZXZhbGlkYXRlXG4gICAgICAgIGZldGNoZXJTdWJtaXNzaW9uLFxuICAgICAgICAvLyBQcmVzZXJ2ZSB0aGVzZSBmbGFncyBhY3Jvc3MgcmVkaXJlY3RzXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogcHJldmVudFNjcm9sbFJlc2V0IHx8IHBlbmRpbmdQcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIGVuYWJsZVZpZXdUcmFuc2l0aW9uOiBpc05hdmlnYXRpb24gPyBwZW5kaW5nVmlld1RyYW5zaXRpb25FbmFibGVkIDogdm9pZCAwXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gY2FsbERhdGFTdHJhdGVneSh0eXBlLCByZXF1ZXN0LCBtYXRjaGVzVG9Mb2FkLCBtYXRjaGVzLCBzY29wZWRDb250ZXh0LCBmZXRjaGVyS2V5KSB7XG4gICAgbGV0IHJlc3VsdHM7XG4gICAgbGV0IGRhdGFSZXN1bHRzID0ge307XG4gICAgdHJ5IHtcbiAgICAgIHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5SW1wbChcbiAgICAgICAgZGF0YVN0cmF0ZWd5SW1wbCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgZmV0Y2hlcktleSxcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICAgIHNjb3BlZENvbnRleHQsXG4gICAgICAgIGZ1dHVyZS51bnN0YWJsZV9taWRkbGV3YXJlXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIG1hdGNoZXNUb0xvYWQuZm9yRWFjaCgobSkgPT4ge1xuICAgICAgICBkYXRhUmVzdWx0c1ttLnJvdXRlLmlkXSA9IHtcbiAgICAgICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICAgICAgZXJyb3I6IGVcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGRhdGFSZXN1bHRzO1xuICAgIH1cbiAgICBmb3IgKGxldCBbcm91dGVJZCwgcmVzdWx0XSBvZiBPYmplY3QuZW50cmllcyhyZXN1bHRzKSkge1xuICAgICAgaWYgKGlzUmVkaXJlY3REYXRhU3RyYXRlZ3lSZXN1bHQocmVzdWx0KSkge1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSByZXN1bHQucmVzdWx0O1xuICAgICAgICBkYXRhUmVzdWx0c1tyb3V0ZUlkXSA9IHtcbiAgICAgICAgICB0eXBlOiBcInJlZGlyZWN0XCIgLyogcmVkaXJlY3QgKi8sXG4gICAgICAgICAgcmVzcG9uc2U6IG5vcm1hbGl6ZVJlbGF0aXZlUm91dGluZ1JlZGlyZWN0UmVzcG9uc2UoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICByb3V0ZUlkLFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIGJhc2VuYW1lXG4gICAgICAgICAgKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVJlc3VsdHNbcm91dGVJZF0gPSBhd2FpdCBjb252ZXJ0RGF0YVN0cmF0ZWd5UmVzdWx0VG9EYXRhUmVzdWx0KFxuICAgICAgICAgIHJlc3VsdFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YVJlc3VsdHM7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gY2FsbExvYWRlcnNBbmRNYXliZVJlc29sdmVEYXRhKG1hdGNoZXMsIG1hdGNoZXNUb0xvYWQsIGZldGNoZXJzVG9Mb2FkLCByZXF1ZXN0LCBzY29wZWRDb250ZXh0KSB7XG4gICAgbGV0IGxvYWRlclJlc3VsdHNQcm9taXNlID0gY2FsbERhdGFTdHJhdGVneShcbiAgICAgIFwibG9hZGVyXCIsXG4gICAgICByZXF1ZXN0LFxuICAgICAgbWF0Y2hlc1RvTG9hZCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICBzY29wZWRDb250ZXh0LFxuICAgICAgbnVsbFxuICAgICk7XG4gICAgbGV0IGZldGNoZXJSZXN1bHRzUHJvbWlzZSA9IFByb21pc2UuYWxsKFxuICAgICAgZmV0Y2hlcnNUb0xvYWQubWFwKGFzeW5jIChmKSA9PiB7XG4gICAgICAgIGlmIChmLm1hdGNoZXMgJiYgZi5tYXRjaCAmJiBmLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICBsZXQgcmVzdWx0cyA9IGF3YWl0IGNhbGxEYXRhU3RyYXRlZ3koXG4gICAgICAgICAgICBcImxvYWRlclwiLFxuICAgICAgICAgICAgY3JlYXRlQ2xpZW50U2lkZVJlcXVlc3QoaW5pdC5oaXN0b3J5LCBmLnBhdGgsIGYuY29udHJvbGxlci5zaWduYWwpLFxuICAgICAgICAgICAgW2YubWF0Y2hdLFxuICAgICAgICAgICAgZi5tYXRjaGVzLFxuICAgICAgICAgICAgc2NvcGVkQ29udGV4dCxcbiAgICAgICAgICAgIGYua2V5XG4gICAgICAgICAgKTtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1tmLm1hdGNoLnJvdXRlLmlkXTtcbiAgICAgICAgICByZXR1cm4geyBbZi5rZXldOiByZXN1bHQgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIFtmLmtleV06IHtcbiAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgICAgICBlcnJvcjogZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHtcbiAgICAgICAgICAgICAgICBwYXRobmFtZTogZi5wYXRoXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcbiAgICBsZXQgbG9hZGVyUmVzdWx0cyA9IGF3YWl0IGxvYWRlclJlc3VsdHNQcm9taXNlO1xuICAgIGxldCBmZXRjaGVyUmVzdWx0cyA9IChhd2FpdCBmZXRjaGVyUmVzdWx0c1Byb21pc2UpLnJlZHVjZShcbiAgICAgIChhY2MsIHIpID0+IE9iamVjdC5hc3NpZ24oYWNjLCByKSxcbiAgICAgIHt9XG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgbG9hZGVyUmVzdWx0cyxcbiAgICAgIGZldGNoZXJSZXN1bHRzXG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiBpbnRlcnJ1cHRBY3RpdmVMb2FkcygpIHtcbiAgICBpc1JldmFsaWRhdGlvblJlcXVpcmVkID0gdHJ1ZTtcbiAgICBmZXRjaExvYWRNYXRjaGVzLmZvckVhY2goKF8sIGtleSkgPT4ge1xuICAgICAgaWYgKGZldGNoQ29udHJvbGxlcnMuaGFzKGtleSkpIHtcbiAgICAgICAgY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmFkZChrZXkpO1xuICAgICAgfVxuICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gdXBkYXRlRmV0Y2hlclN0YXRlKGtleSwgZmV0Y2hlciwgb3B0cyA9IHt9KSB7XG4gICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZmV0Y2hlcik7XG4gICAgdXBkYXRlU3RhdGUoXG4gICAgICB7IGZldGNoZXJzOiBuZXcgTWFwKHN0YXRlLmZldGNoZXJzKSB9LFxuICAgICAgeyBmbHVzaFN5bmM6IChvcHRzICYmIG9wdHMuZmx1c2hTeW5jKSA9PT0gdHJ1ZSB9XG4gICAgKTtcbiAgfVxuICBmdW5jdGlvbiBzZXRGZXRjaGVyRXJyb3Ioa2V5LCByb3V0ZUlkLCBlcnJvciwgb3B0cyA9IHt9KSB7XG4gICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KHN0YXRlLm1hdGNoZXMsIHJvdXRlSWQpO1xuICAgIGRlbGV0ZUZldGNoZXIoa2V5KTtcbiAgICB1cGRhdGVTdGF0ZShcbiAgICAgIHtcbiAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiBlcnJvclxuICAgICAgICB9LFxuICAgICAgICBmZXRjaGVyczogbmV3IE1hcChzdGF0ZS5mZXRjaGVycylcbiAgICAgIH0sXG4gICAgICB7IGZsdXNoU3luYzogKG9wdHMgJiYgb3B0cy5mbHVzaFN5bmMpID09PSB0cnVlIH1cbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIGdldEZldGNoZXIoa2V5KSB7XG4gICAgYWN0aXZlRmV0Y2hlcnMuc2V0KGtleSwgKGFjdGl2ZUZldGNoZXJzLmdldChrZXkpIHx8IDApICsgMSk7XG4gICAgaWYgKGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uaGFzKGtleSkpIHtcbiAgICAgIGZldGNoZXJzUXVldWVkRm9yRGVsZXRpb24uZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KSB8fCBJRExFX0ZFVENIRVI7XG4gIH1cbiAgZnVuY3Rpb24gZGVsZXRlRmV0Y2hlcihrZXkpIHtcbiAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgIGlmIChmZXRjaENvbnRyb2xsZXJzLmhhcyhrZXkpICYmICEoZmV0Y2hlciAmJiBmZXRjaGVyLnN0YXRlID09PSBcImxvYWRpbmdcIiAmJiBmZXRjaFJlbG9hZElkcy5oYXMoa2V5KSkpIHtcbiAgICAgIGFib3J0RmV0Y2hlcihrZXkpO1xuICAgIH1cbiAgICBmZXRjaExvYWRNYXRjaGVzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoUmVsb2FkSWRzLmRlbGV0ZShrZXkpO1xuICAgIGZldGNoUmVkaXJlY3RJZHMuZGVsZXRlKGtleSk7XG4gICAgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5kZWxldGUoa2V5KTtcbiAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuZGVsZXRlKGtleSk7XG4gICAgc3RhdGUuZmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gcXVldWVGZXRjaGVyRm9yRGVsZXRpb24oa2V5KSB7XG4gICAgbGV0IGNvdW50ID0gKGFjdGl2ZUZldGNoZXJzLmdldChrZXkpIHx8IDApIC0gMTtcbiAgICBpZiAoY291bnQgPD0gMCkge1xuICAgICAgYWN0aXZlRmV0Y2hlcnMuZGVsZXRlKGtleSk7XG4gICAgICBmZXRjaGVyc1F1ZXVlZEZvckRlbGV0aW9uLmFkZChrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhY3RpdmVGZXRjaGVycy5zZXQoa2V5LCBjb3VudCk7XG4gICAgfVxuICAgIHVwZGF0ZVN0YXRlKHsgZmV0Y2hlcnM6IG5ldyBNYXAoc3RhdGUuZmV0Y2hlcnMpIH0pO1xuICB9XG4gIGZ1bmN0aW9uIGFib3J0RmV0Y2hlcihrZXkpIHtcbiAgICBsZXQgY29udHJvbGxlciA9IGZldGNoQ29udHJvbGxlcnMuZ2V0KGtleSk7XG4gICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIGZldGNoQ29udHJvbGxlcnMuZGVsZXRlKGtleSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1hcmtGZXRjaGVyc0RvbmUoa2V5cykge1xuICAgIGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG4gICAgICBsZXQgZmV0Y2hlciA9IGdldEZldGNoZXIoa2V5KTtcbiAgICAgIGxldCBkb25lRmV0Y2hlciA9IGdldERvbmVGZXRjaGVyKGZldGNoZXIuZGF0YSk7XG4gICAgICBzdGF0ZS5mZXRjaGVycy5zZXQoa2V5LCBkb25lRmV0Y2hlcik7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1hcmtGZXRjaFJlZGlyZWN0c0RvbmUoKSB7XG4gICAgbGV0IGRvbmVLZXlzID0gW107XG4gICAgbGV0IHVwZGF0ZWRGZXRjaGVycyA9IGZhbHNlO1xuICAgIGZvciAobGV0IGtleSBvZiBmZXRjaFJlZGlyZWN0SWRzKSB7XG4gICAgICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChrZXkpO1xuICAgICAgaW52YXJpYW50KGZldGNoZXIsIGBFeHBlY3RlZCBmZXRjaGVyOiAke2tleX1gKTtcbiAgICAgIGlmIChmZXRjaGVyLnN0YXRlID09PSBcImxvYWRpbmdcIikge1xuICAgICAgICBmZXRjaFJlZGlyZWN0SWRzLmRlbGV0ZShrZXkpO1xuICAgICAgICBkb25lS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIHVwZGF0ZWRGZXRjaGVycyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIG1hcmtGZXRjaGVyc0RvbmUoZG9uZUtleXMpO1xuICAgIHJldHVybiB1cGRhdGVkRmV0Y2hlcnM7XG4gIH1cbiAgZnVuY3Rpb24gYWJvcnRTdGFsZUZldGNoTG9hZHMobGFuZGVkSWQpIHtcbiAgICBsZXQgeWVldGVkS2V5cyA9IFtdO1xuICAgIGZvciAobGV0IFtrZXksIGlkXSBvZiBmZXRjaFJlbG9hZElkcykge1xuICAgICAgaWYgKGlkIDwgbGFuZGVkSWQpIHtcbiAgICAgICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICAgICAgaW52YXJpYW50KGZldGNoZXIsIGBFeHBlY3RlZCBmZXRjaGVyOiAke2tleX1gKTtcbiAgICAgICAgaWYgKGZldGNoZXIuc3RhdGUgPT09IFwibG9hZGluZ1wiKSB7XG4gICAgICAgICAgYWJvcnRGZXRjaGVyKGtleSk7XG4gICAgICAgICAgZmV0Y2hSZWxvYWRJZHMuZGVsZXRlKGtleSk7XG4gICAgICAgICAgeWVldGVkS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbWFya0ZldGNoZXJzRG9uZSh5ZWV0ZWRLZXlzKTtcbiAgICByZXR1cm4geWVldGVkS2V5cy5sZW5ndGggPiAwO1xuICB9XG4gIGZ1bmN0aW9uIGdldEJsb2NrZXIoa2V5LCBmbikge1xuICAgIGxldCBibG9ja2VyID0gc3RhdGUuYmxvY2tlcnMuZ2V0KGtleSkgfHwgSURMRV9CTE9DS0VSO1xuICAgIGlmIChibG9ja2VyRnVuY3Rpb25zLmdldChrZXkpICE9PSBmbikge1xuICAgICAgYmxvY2tlckZ1bmN0aW9ucy5zZXQoa2V5LCBmbik7XG4gICAgfVxuICAgIHJldHVybiBibG9ja2VyO1xuICB9XG4gIGZ1bmN0aW9uIGRlbGV0ZUJsb2NrZXIoa2V5KSB7XG4gICAgc3RhdGUuYmxvY2tlcnMuZGVsZXRlKGtleSk7XG4gICAgYmxvY2tlckZ1bmN0aW9ucy5kZWxldGUoa2V5KTtcbiAgfVxuICBmdW5jdGlvbiB1cGRhdGVCbG9ja2VyKGtleSwgbmV3QmxvY2tlcikge1xuICAgIGxldCBibG9ja2VyID0gc3RhdGUuYmxvY2tlcnMuZ2V0KGtleSkgfHwgSURMRV9CTE9DS0VSO1xuICAgIGludmFyaWFudChcbiAgICAgIGJsb2NrZXIuc3RhdGUgPT09IFwidW5ibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgfHwgYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgfHwgYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJwcm9jZWVkaW5nXCIgfHwgYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIgJiYgbmV3QmxvY2tlci5zdGF0ZSA9PT0gXCJ1bmJsb2NrZWRcIiB8fCBibG9ja2VyLnN0YXRlID09PSBcInByb2NlZWRpbmdcIiAmJiBuZXdCbG9ja2VyLnN0YXRlID09PSBcInVuYmxvY2tlZFwiLFxuICAgICAgYEludmFsaWQgYmxvY2tlciBzdGF0ZSB0cmFuc2l0aW9uOiAke2Jsb2NrZXIuc3RhdGV9IC0+ICR7bmV3QmxvY2tlci5zdGF0ZX1gXG4gICAgKTtcbiAgICBsZXQgYmxvY2tlcnMgPSBuZXcgTWFwKHN0YXRlLmJsb2NrZXJzKTtcbiAgICBibG9ja2Vycy5zZXQoa2V5LCBuZXdCbG9ja2VyKTtcbiAgICB1cGRhdGVTdGF0ZSh7IGJsb2NrZXJzIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHNob3VsZEJsb2NrTmF2aWdhdGlvbih7XG4gICAgY3VycmVudExvY2F0aW9uLFxuICAgIG5leHRMb2NhdGlvbixcbiAgICBoaXN0b3J5QWN0aW9uXG4gIH0pIHtcbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9ucy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChibG9ja2VyRnVuY3Rpb25zLnNpemUgPiAxKSB7XG4gICAgICB3YXJuaW5nKGZhbHNlLCBcIkEgcm91dGVyIG9ubHkgc3VwcG9ydHMgb25lIGJsb2NrZXIgYXQgYSB0aW1lXCIpO1xuICAgIH1cbiAgICBsZXQgZW50cmllcyA9IEFycmF5LmZyb20oYmxvY2tlckZ1bmN0aW9ucy5lbnRyaWVzKCkpO1xuICAgIGxldCBbYmxvY2tlcktleSwgYmxvY2tlckZ1bmN0aW9uXSA9IGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXTtcbiAgICBsZXQgYmxvY2tlciA9IHN0YXRlLmJsb2NrZXJzLmdldChibG9ja2VyS2V5KTtcbiAgICBpZiAoYmxvY2tlciAmJiBibG9ja2VyLnN0YXRlID09PSBcInByb2NlZWRpbmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYmxvY2tlckZ1bmN0aW9uKHsgY3VycmVudExvY2F0aW9uLCBuZXh0TG9jYXRpb24sIGhpc3RvcnlBY3Rpb24gfSkpIHtcbiAgICAgIHJldHVybiBibG9ja2VyS2V5O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVOYXZpZ2F0aW9uYWw0MDQocGF0aG5hbWUpIHtcbiAgICBsZXQgZXJyb3IgPSBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZSB9KTtcbiAgICBsZXQgcm91dGVzVG9Vc2UgPSBpbkZsaWdodERhdGFSb3V0ZXMgfHwgZGF0YVJvdXRlcztcbiAgICBsZXQgeyBtYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhyb3V0ZXNUb1VzZSk7XG4gICAgcmV0dXJuIHsgbm90Rm91bmRNYXRjaGVzOiBtYXRjaGVzLCByb3V0ZSwgZXJyb3IgfTtcbiAgfVxuICBmdW5jdGlvbiBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbihwb3NpdGlvbnMsIGdldFBvc2l0aW9uLCBnZXRLZXkpIHtcbiAgICBzYXZlZFNjcm9sbFBvc2l0aW9uczIgPSBwb3NpdGlvbnM7XG4gICAgZ2V0U2Nyb2xsUG9zaXRpb24gPSBnZXRQb3NpdGlvbjtcbiAgICBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIgPSBnZXRLZXkgfHwgbnVsbDtcbiAgICBpZiAoIWluaXRpYWxTY3JvbGxSZXN0b3JlZCAmJiBzdGF0ZS5uYXZpZ2F0aW9uID09PSBJRExFX05BVklHQVRJT04pIHtcbiAgICAgIGluaXRpYWxTY3JvbGxSZXN0b3JlZCA9IHRydWU7XG4gICAgICBsZXQgeSA9IGdldFNhdmVkU2Nyb2xsUG9zaXRpb24oc3RhdGUubG9jYXRpb24sIHN0YXRlLm1hdGNoZXMpO1xuICAgICAgaWYgKHkgIT0gbnVsbCkge1xuICAgICAgICB1cGRhdGVTdGF0ZSh7IHJlc3RvcmVTY3JvbGxQb3NpdGlvbjogeSB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zMiA9IG51bGw7XG4gICAgICBnZXRTY3JvbGxQb3NpdGlvbiA9IG51bGw7XG4gICAgICBnZXRTY3JvbGxSZXN0b3JhdGlvbktleTIgPSBudWxsO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2Nyb2xsS2V5KGxvY2F0aW9uLCBtYXRjaGVzKSB7XG4gICAgaWYgKGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5Mikge1xuICAgICAgbGV0IGtleSA9IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5MihcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXMubWFwKChtKSA9PiBjb252ZXJ0Um91dGVNYXRjaFRvVWlNYXRjaChtLCBzdGF0ZS5sb2FkZXJEYXRhKSlcbiAgICAgICk7XG4gICAgICByZXR1cm4ga2V5IHx8IGxvY2F0aW9uLmtleTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2F0aW9uLmtleTtcbiAgfVxuICBmdW5jdGlvbiBzYXZlU2Nyb2xsUG9zaXRpb24obG9jYXRpb24sIG1hdGNoZXMpIHtcbiAgICBpZiAoc2F2ZWRTY3JvbGxQb3NpdGlvbnMyICYmIGdldFNjcm9sbFBvc2l0aW9uKSB7XG4gICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsS2V5KGxvY2F0aW9uLCBtYXRjaGVzKTtcbiAgICAgIHNhdmVkU2Nyb2xsUG9zaXRpb25zMltrZXldID0gZ2V0U2Nyb2xsUG9zaXRpb24oKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gZ2V0U2F2ZWRTY3JvbGxQb3NpdGlvbihsb2NhdGlvbiwgbWF0Y2hlcykge1xuICAgIGlmIChzYXZlZFNjcm9sbFBvc2l0aW9uczIpIHtcbiAgICAgIGxldCBrZXkgPSBnZXRTY3JvbGxLZXkobG9jYXRpb24sIG1hdGNoZXMpO1xuICAgICAgbGV0IHkgPSBzYXZlZFNjcm9sbFBvc2l0aW9uczJba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgeSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICByZXR1cm4geTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gY2hlY2tGb2dPZldhcihtYXRjaGVzLCByb3V0ZXNUb1VzZSwgcGF0aG5hbWUpIHtcbiAgICBpZiAoaW5pdC5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbikge1xuICAgICAgaWYgKCFtYXRjaGVzKSB7XG4gICAgICAgIGxldCBmb2dNYXRjaGVzID0gbWF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICAgIHBhdGhuYW1lLFxuICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHsgYWN0aXZlOiB0cnVlLCBtYXRjaGVzOiBmb2dNYXRjaGVzIHx8IFtdIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMobWF0Y2hlc1swXS5wYXJhbXMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBsZXQgcGFydGlhbE1hdGNoZXMgPSBtYXRjaFJvdXRlc0ltcGwoXG4gICAgICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgICAgIHBhdGhuYW1lLFxuICAgICAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4geyBhY3RpdmU6IHRydWUsIG1hdGNoZXM6IHBhcnRpYWxNYXRjaGVzIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgYWN0aXZlOiBmYWxzZSwgbWF0Y2hlczogbnVsbCB9O1xuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIGRpc2NvdmVyUm91dGVzKG1hdGNoZXMsIHBhdGhuYW1lLCBzaWduYWwsIGZldGNoZXJLZXkpIHtcbiAgICBpZiAoIWluaXQucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24pIHtcbiAgICAgIHJldHVybiB7IHR5cGU6IFwic3VjY2Vzc1wiLCBtYXRjaGVzIH07XG4gICAgfVxuICAgIGxldCBwYXJ0aWFsTWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGxldCBpc05vbkhNUiA9IGluRmxpZ2h0RGF0YVJvdXRlcyA9PSBudWxsO1xuICAgICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgICBsZXQgbG9jYWxNYW5pZmVzdCA9IG1hbmlmZXN0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgaW5pdC5wYXRjaFJvdXRlc09uTmF2aWdhdGlvbih7XG4gICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgIHBhdGg6IHBhdGhuYW1lLFxuICAgICAgICAgIG1hdGNoZXM6IHBhcnRpYWxNYXRjaGVzLFxuICAgICAgICAgIGZldGNoZXJLZXksXG4gICAgICAgICAgcGF0Y2g6IChyb3V0ZUlkLCBjaGlsZHJlbikgPT4ge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKSByZXR1cm47XG4gICAgICAgICAgICBwYXRjaFJvdXRlc0ltcGwoXG4gICAgICAgICAgICAgIHJvdXRlSWQsXG4gICAgICAgICAgICAgIGNoaWxkcmVuLFxuICAgICAgICAgICAgICByb3V0ZXNUb1VzZSxcbiAgICAgICAgICAgICAgbG9jYWxNYW5pZmVzdCxcbiAgICAgICAgICAgICAgbWFwUm91dGVQcm9wZXJ0aWVzMlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIGVycm9yOiBlLCBwYXJ0aWFsTWF0Y2hlcyB9O1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaWYgKGlzTm9uSE1SICYmICFzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgIGRhdGFSb3V0ZXMgPSBbLi4uZGF0YVJvdXRlc107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImFib3J0ZWRcIiB9O1xuICAgICAgfVxuICAgICAgbGV0IG5ld01hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgcGF0aG5hbWUsIGJhc2VuYW1lKTtcbiAgICAgIGlmIChuZXdNYXRjaGVzKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwic3VjY2Vzc1wiLCBtYXRjaGVzOiBuZXdNYXRjaGVzIH07XG4gICAgICB9XG4gICAgICBsZXQgbmV3UGFydGlhbE1hdGNoZXMgPSBtYXRjaFJvdXRlc0ltcGwoXG4gICAgICAgIHJvdXRlc1RvVXNlLFxuICAgICAgICBwYXRobmFtZSxcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgICBpZiAoIW5ld1BhcnRpYWxNYXRjaGVzIHx8IHBhcnRpYWxNYXRjaGVzLmxlbmd0aCA9PT0gbmV3UGFydGlhbE1hdGNoZXMubGVuZ3RoICYmIHBhcnRpYWxNYXRjaGVzLmV2ZXJ5KFxuICAgICAgICAobSwgaSkgPT4gbS5yb3V0ZS5pZCA9PT0gbmV3UGFydGlhbE1hdGNoZXNbaV0ucm91dGUuaWRcbiAgICAgICkpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdWNjZXNzXCIsIG1hdGNoZXM6IG51bGwgfTtcbiAgICAgIH1cbiAgICAgIHBhcnRpYWxNYXRjaGVzID0gbmV3UGFydGlhbE1hdGNoZXM7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIF9pbnRlcm5hbFNldFJvdXRlcyhuZXdSb3V0ZXMpIHtcbiAgICBtYW5pZmVzdCA9IHt9O1xuICAgIGluRmxpZ2h0RGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgICBuZXdSb3V0ZXMsXG4gICAgICBtYXBSb3V0ZVByb3BlcnRpZXMyLFxuICAgICAgdm9pZCAwLFxuICAgICAgbWFuaWZlc3RcbiAgICApO1xuICB9XG4gIGZ1bmN0aW9uIHBhdGNoUm91dGVzKHJvdXRlSWQsIGNoaWxkcmVuKSB7XG4gICAgbGV0IGlzTm9uSE1SID0gaW5GbGlnaHREYXRhUm91dGVzID09IG51bGw7XG4gICAgbGV0IHJvdXRlc1RvVXNlID0gaW5GbGlnaHREYXRhUm91dGVzIHx8IGRhdGFSb3V0ZXM7XG4gICAgcGF0Y2hSb3V0ZXNJbXBsKFxuICAgICAgcm91dGVJZCxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgcm91dGVzVG9Vc2UsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczJcbiAgICApO1xuICAgIGlmIChpc05vbkhNUikge1xuICAgICAgZGF0YVJvdXRlcyA9IFsuLi5kYXRhUm91dGVzXTtcbiAgICAgIHVwZGF0ZVN0YXRlKHt9KTtcbiAgICB9XG4gIH1cbiAgcm91dGVyID0ge1xuICAgIGdldCBiYXNlbmFtZSgpIHtcbiAgICAgIHJldHVybiBiYXNlbmFtZTtcbiAgICB9LFxuICAgIGdldCBmdXR1cmUoKSB7XG4gICAgICByZXR1cm4gZnV0dXJlO1xuICAgIH0sXG4gICAgZ2V0IHN0YXRlKCkge1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sXG4gICAgZ2V0IHJvdXRlcygpIHtcbiAgICAgIHJldHVybiBkYXRhUm91dGVzO1xuICAgIH0sXG4gICAgZ2V0IHdpbmRvdygpIHtcbiAgICAgIHJldHVybiByb3V0ZXJXaW5kb3c7XG4gICAgfSxcbiAgICBpbml0aWFsaXplLFxuICAgIHN1YnNjcmliZSxcbiAgICBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbixcbiAgICBuYXZpZ2F0ZSxcbiAgICBmZXRjaDogZmV0Y2gyLFxuICAgIHJldmFsaWRhdGUsXG4gICAgLy8gUGFzc3Rocm91Z2ggdG8gaGlzdG9yeS1hd2FyZSBjcmVhdGVIcmVmIHVzZWQgYnkgdXNlSHJlZiBzbyB3ZSBnZXQgcHJvcGVyXG4gICAgLy8gaGFzaC1hd2FyZSBVUkxzIGluIERPTSBwYXRoc1xuICAgIGNyZWF0ZUhyZWY6ICh0bykgPT4gaW5pdC5oaXN0b3J5LmNyZWF0ZUhyZWYodG8pLFxuICAgIGVuY29kZUxvY2F0aW9uOiAodG8pID0+IGluaXQuaGlzdG9yeS5lbmNvZGVMb2NhdGlvbih0byksXG4gICAgZ2V0RmV0Y2hlcixcbiAgICBkZWxldGVGZXRjaGVyOiBxdWV1ZUZldGNoZXJGb3JEZWxldGlvbixcbiAgICBkaXNwb3NlLFxuICAgIGdldEJsb2NrZXIsXG4gICAgZGVsZXRlQmxvY2tlcixcbiAgICBwYXRjaFJvdXRlcyxcbiAgICBfaW50ZXJuYWxGZXRjaENvbnRyb2xsZXJzOiBmZXRjaENvbnRyb2xsZXJzLFxuICAgIC8vIFRPRE86IFJlbW92ZSBzZXRSb3V0ZXMsIGl0J3MgdGVtcG9yYXJ5IHRvIGF2b2lkIGRlYWxpbmcgd2l0aFxuICAgIC8vIHVwZGF0aW5nIHRoZSB0cmVlIHdoaWxlIHZhbGlkYXRpbmcgdGhlIHVwZGF0ZSBhbGdvcml0aG0uXG4gICAgX2ludGVybmFsU2V0Um91dGVzXG4gIH07XG4gIHJldHVybiByb3V0ZXI7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNIYW5kbGVyKHJvdXRlcywgb3B0cykge1xuICBpbnZhcmlhbnQoXG4gICAgcm91dGVzLmxlbmd0aCA+IDAsXG4gICAgXCJZb3UgbXVzdCBwcm92aWRlIGEgbm9uLWVtcHR5IHJvdXRlcyBhcnJheSB0byBjcmVhdGVTdGF0aWNIYW5kbGVyXCJcbiAgKTtcbiAgbGV0IG1hbmlmZXN0ID0ge307XG4gIGxldCBiYXNlbmFtZSA9IChvcHRzID8gb3B0cy5iYXNlbmFtZSA6IG51bGwpIHx8IFwiL1wiO1xuICBsZXQgbWFwUm91dGVQcm9wZXJ0aWVzMiA9IG9wdHM/Lm1hcFJvdXRlUHJvcGVydGllcyB8fCBkZWZhdWx0TWFwUm91dGVQcm9wZXJ0aWVzO1xuICBsZXQgZGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgdm9pZCAwLFxuICAgIG1hbmlmZXN0XG4gICk7XG4gIGFzeW5jIGZ1bmN0aW9uIHF1ZXJ5KHJlcXVlc3QsIHtcbiAgICByZXF1ZXN0Q29udGV4dCxcbiAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkLFxuICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgIHNraXBSZXZhbGlkYXRpb24sXG4gICAgZGF0YVN0cmF0ZWd5LFxuICAgIHVuc3RhYmxlX3Jlc3BvbmQ6IHJlc3BvbmRcbiAgfSA9IHt9KSB7XG4gICAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgIGxldCBtZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICBsZXQgbG9jYXRpb24gPSBjcmVhdGVMb2NhdGlvbihcIlwiLCBjcmVhdGVQYXRoKHVybCksIG51bGwsIFwiZGVmYXVsdFwiKTtcbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoUm91dGVzKGRhdGFSb3V0ZXMsIGxvY2F0aW9uLCBiYXNlbmFtZSk7XG4gICAgcmVxdWVzdENvbnRleHQgPSByZXF1ZXN0Q29udGV4dCAhPSBudWxsID8gcmVxdWVzdENvbnRleHQgOiBuZXcgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyKCk7XG4gICAgaWYgKCFpc1ZhbGlkTWV0aG9kKG1ldGhvZCkgJiYgbWV0aG9kICE9PSBcIkhFQURcIikge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHsgbWV0aG9kIH0pO1xuICAgICAgbGV0IHsgbWF0Y2hlczogbWV0aG9kTm90QWxsb3dlZE1hdGNoZXMsIHJvdXRlIH0gPSBnZXRTaG9ydENpcmN1aXRNYXRjaGVzKGRhdGFSb3V0ZXMpO1xuICAgICAgbGV0IHN0YXRpY0NvbnRleHQgPSB7XG4gICAgICAgIGJhc2VuYW1lLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlczogbWV0aG9kTm90QWxsb3dlZE1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBlcnJvcnM6IHtcbiAgICAgICAgICBbcm91dGUuaWRdOiBlcnJvclxuICAgICAgICB9LFxuICAgICAgICBzdGF0dXNDb2RlOiBlcnJvci5zdGF0dXMsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICAgIHJldHVybiByZXNwb25kID8gcmVzcG9uZChzdGF0aWNDb250ZXh0KSA6IHN0YXRpY0NvbnRleHQ7XG4gICAgfSBlbHNlIGlmICghbWF0Y2hlcykge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgICAgbGV0IHsgbWF0Y2hlczogbm90Rm91bmRNYXRjaGVzLCByb3V0ZSB9ID0gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhkYXRhUm91dGVzKTtcbiAgICAgIGxldCBzdGF0aWNDb250ZXh0ID0ge1xuICAgICAgICBiYXNlbmFtZSxcbiAgICAgICAgbG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXM6IG5vdEZvdW5kTWF0Y2hlcyxcbiAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgIGVycm9yczoge1xuICAgICAgICAgIFtyb3V0ZS5pZF06IGVycm9yXG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1c0NvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgbG9hZGVySGVhZGVyczoge30sXG4gICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHJlc3BvbmQgPyByZXNwb25kKHN0YXRpY0NvbnRleHQpIDogc3RhdGljQ29udGV4dDtcbiAgICB9XG4gICAgaWYgKHJlc3BvbmQgJiYgbWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLnVuc3RhYmxlX21pZGRsZXdhcmUpKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHJlcXVlc3RDb250ZXh0IGluc3RhbmNlb2YgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyLFxuICAgICAgICBcIldoZW4gdXNpbmcgbWlkZGxld2FyZSBpbiBgc3RhdGljSGFuZGxlci5xdWVyeSgpYCwgYW55IHByb3ZpZGVkIGByZXF1ZXN0Q29udGV4dGAgbXVzdCBiZWFuIGluc3RhbmNlIG9mIGB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXJgXCJcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgcmVuZGVyZWRTdGF0aWNDb250ZXh0O1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBwYXJhbXM6IG1hdGNoZXNbMF0ucGFyYW1zLFxuICAgICAgICAgICAgLy8gSWYgd2UncmUgY2FsbGluZyBtaWRkbGV3YXJlIHRoZW4gaXQgbXVzdCBiZSBlbmFibGVkIHNvIHdlIGNhbiBjYXN0XG4gICAgICAgICAgICAvLyB0aGlzIHRvIHRoZSBwcm9wZXIgdHlwZSBrbm93aW5nIGl0J3Mgbm90IGFuIGBBcHBMb2FkQ29udGV4dGBcbiAgICAgICAgICAgIGNvbnRleHQ6IHJlcXVlc3RDb250ZXh0XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0cnVlLFxuICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQyID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICAgICAgICAgIGRhdGFTdHJhdGVneSB8fCBudWxsLFxuICAgICAgICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA9PT0gdHJ1ZSxcbiAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCB8fCBudWxsLFxuICAgICAgICAgICAgICBza2lwUmV2YWxpZGF0aW9uID09PSB0cnVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0MikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW5kZXJlZFN0YXRpY0NvbnRleHQgPSB7IGxvY2F0aW9uLCBiYXNlbmFtZSwgLi4ucmVzdWx0MiB9O1xuICAgICAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHJlc3BvbmQocmVuZGVyZWRTdGF0aWNDb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBhc3luYyAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzUmVzcG9uc2UoZS5lcnJvcikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGUuZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVuZGVyZWRTdGF0aWNDb250ZXh0KSB7XG4gICAgICAgICAgICAgIGlmIChlLnJvdXRlSWQgaW4gcmVuZGVyZWRTdGF0aWNDb250ZXh0LmxvYWRlckRhdGEpIHtcbiAgICAgICAgICAgICAgICByZW5kZXJlZFN0YXRpY0NvbnRleHQubG9hZGVyRGF0YVtlLnJvdXRlSWRdID0gdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25kKFxuICAgICAgICAgICAgICAgIGdldFN0YXRpY0NvbnRleHRGcm9tRXJyb3IoXG4gICAgICAgICAgICAgICAgICBkYXRhUm91dGVzLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyZWRTdGF0aWNDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgZS5lcnJvcixcbiAgICAgICAgICAgICAgICAgIGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgZS5yb3V0ZUlkKS5yb3V0ZS5pZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxldCBsb2FkZXJJZHggPSBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5sb2FkZXIpO1xuICAgICAgICAgICAgICBsZXQgYm91bmRhcnkgPSBsb2FkZXJJZHggPj0gMCA/IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcywgbWF0Y2hlc1tsb2FkZXJJZHhdLnJvdXRlLmlkKSA6IGZpbmROZWFyZXN0Qm91bmRhcnkobWF0Y2hlcyk7XG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25kKHtcbiAgICAgICAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIGJhc2VuYW1lLFxuICAgICAgICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgICAgICAgIGFjdGlvbkRhdGE6IG51bGwsXG4gICAgICAgICAgICAgICAgZXJyb3JzOiB7XG4gICAgICAgICAgICAgICAgICBbYm91bmRhcnkucm91dGUuaWRdOiBlLmVycm9yXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBpc1JvdXRlRXJyb3JSZXNwb25zZShlLmVycm9yKSA/IGUuZXJyb3Iuc3RhdHVzIDogNTAwLFxuICAgICAgICAgICAgICAgIGFjdGlvbkhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgaW52YXJpYW50KGlzUmVzcG9uc2UocmVzcG9uc2UpLCBcIkV4cGVjdGVkIGEgcmVzcG9uc2UgaW4gcXVlcnkoKVwiKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoaXNSZXNwb25zZShlKSkge1xuICAgICAgICAgIHJldHVybiBlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBhd2FpdCBxdWVyeUltcGwoXG4gICAgICByZXF1ZXN0LFxuICAgICAgbG9jYXRpb24sXG4gICAgICBtYXRjaGVzLFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3kgfHwgbnVsbCxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID09PSB0cnVlLFxuICAgICAgbnVsbCxcbiAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWQgfHwgbnVsbCxcbiAgICAgIHNraXBSZXZhbGlkYXRpb24gPT09IHRydWVcbiAgICApO1xuICAgIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiB7IGxvY2F0aW9uLCBiYXNlbmFtZSwgLi4ucmVzdWx0IH07XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcXVlcnlSb3V0ZShyZXF1ZXN0LCB7XG4gICAgcm91dGVJZCxcbiAgICByZXF1ZXN0Q29udGV4dCxcbiAgICBkYXRhU3RyYXRlZ3ksXG4gICAgdW5zdGFibGVfcmVzcG9uZDogcmVzcG9uZFxuICB9ID0ge30pIHtcbiAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgbGV0IG1ldGhvZCA9IHJlcXVlc3QubWV0aG9kO1xuICAgIGxldCBsb2NhdGlvbiA9IGNyZWF0ZUxvY2F0aW9uKFwiXCIsIGNyZWF0ZVBhdGgodXJsKSwgbnVsbCwgXCJkZWZhdWx0XCIpO1xuICAgIGxldCBtYXRjaGVzID0gbWF0Y2hSb3V0ZXMoZGF0YVJvdXRlcywgbG9jYXRpb24sIGJhc2VuYW1lKTtcbiAgICByZXF1ZXN0Q29udGV4dCA9IHJlcXVlc3RDb250ZXh0ICE9IG51bGwgPyByZXF1ZXN0Q29udGV4dCA6IG5ldyB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIoKTtcbiAgICBpZiAoIWlzVmFsaWRNZXRob2QobWV0aG9kKSAmJiBtZXRob2QgIT09IFwiSEVBRFwiICYmIG1ldGhvZCAhPT0gXCJPUFRJT05TXCIpIHtcbiAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7IG1ldGhvZCB9KTtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaGVzKSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNCwgeyBwYXRobmFtZTogbG9jYXRpb24ucGF0aG5hbWUgfSk7XG4gICAgfVxuICAgIGxldCBtYXRjaCA9IHJvdXRlSWQgPyBtYXRjaGVzLmZpbmQoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpIDogZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pO1xuICAgIGlmIChyb3V0ZUlkICYmICFtYXRjaCkge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDMsIHtcbiAgICAgICAgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgICAgICByb3V0ZUlkXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFtYXRjaCkge1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHsgcGF0aG5hbWU6IGxvY2F0aW9uLnBhdGhuYW1lIH0pO1xuICAgIH1cbiAgICBpZiAocmVzcG9uZCAmJiBtYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUudW5zdGFibGVfbWlkZGxld2FyZSkpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgcmVxdWVzdENvbnRleHQgaW5zdGFuY2VvZiB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIsXG4gICAgICAgIFwiV2hlbiB1c2luZyBtaWRkbGV3YXJlIGluIGBzdGF0aWNIYW5kbGVyLnF1ZXJ5Um91dGUoKWAsIGFueSBwcm92aWRlZCBgcmVxdWVzdENvbnRleHRgIG11c3QgYmVhbiBpbnN0YW5jZSBvZiBgdW5zdGFibGVfUm91dGVyQ29udGV4dFByb3ZpZGVyYFwiXG4gICAgICApO1xuICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgICAgICB7XG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIHBhcmFtczogbWF0Y2hlc1swXS5wYXJhbXMsXG4gICAgICAgICAgLy8gSWYgd2UncmUgY2FsbGluZyBtaWRkbGV3YXJlIHRoZW4gaXQgbXVzdCBiZSBlbmFibGVkIHNvIHdlIGNhbiBjYXN0XG4gICAgICAgICAgLy8gdGhpcyB0byB0aGUgcHJvcGVyIHR5cGUga25vd2luZyBpdCdzIG5vdCBhbiBgQXBwTG9hZENvbnRleHRgXG4gICAgICAgICAgY29udGV4dDogcmVxdWVzdENvbnRleHRcbiAgICAgICAgfSxcbiAgICAgICAgdHJ1ZSxcbiAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGxldCByZXN1bHQyID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIGxvY2F0aW9uLFxuICAgICAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIG1hdGNoLFxuICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbmQocmVzdWx0Mik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBlcnJvcjIgPSByZXN1bHQyLmVycm9ycyA/IE9iamVjdC52YWx1ZXMocmVzdWx0Mi5lcnJvcnMpWzBdIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChlcnJvcjIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3IyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgdmFsdWUgPSByZXN1bHQyLmFjdGlvbkRhdGEgPyBPYmplY3QudmFsdWVzKHJlc3VsdDIuYWN0aW9uRGF0YSlbMF0gOiBPYmplY3QudmFsdWVzKHJlc3VsdDIubG9hZGVyRGF0YSlbMF07XG4gICAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IG5ldyBSZXNwb25zZSh2YWx1ZSkgOiBSZXNwb25zZS5qc29uKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGUpID0+IHtcbiAgICAgICAgICBpZiAoaXNSZXNwb25zZShlLmVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbmQoZS5lcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoU3RyaW5nKGUuZXJyb3IpLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDUwMCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IFwiVW5leHBlY3RlZCBTZXJ2ZXIgRXJyb3JcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBsZXQgcmVzdWx0ID0gYXdhaXQgcXVlcnlJbXBsKFxuICAgICAgcmVxdWVzdCxcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgZGF0YVN0cmF0ZWd5IHx8IG51bGwsXG4gICAgICBmYWxzZSxcbiAgICAgIG1hdGNoLFxuICAgICAgbnVsbCxcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgICBpZiAoaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBsZXQgZXJyb3IgPSByZXN1bHQuZXJyb3JzID8gT2JqZWN0LnZhbHVlcyhyZXN1bHQuZXJyb3JzKVswXSA6IHZvaWQgMDtcbiAgICBpZiAoZXJyb3IgIT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGlmIChyZXN1bHQuYWN0aW9uRGF0YSkge1xuICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMocmVzdWx0LmFjdGlvbkRhdGEpWzBdO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LmxvYWRlckRhdGEpIHtcbiAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKHJlc3VsdC5sb2FkZXJEYXRhKVswXTtcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBxdWVyeUltcGwocmVxdWVzdCwgbG9jYXRpb24sIG1hdGNoZXMsIHJlcXVlc3RDb250ZXh0LCBkYXRhU3RyYXRlZ3ksIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLCByb3V0ZU1hdGNoLCBmaWx0ZXJNYXRjaGVzVG9Mb2FkLCBza2lwUmV2YWxpZGF0aW9uKSB7XG4gICAgaW52YXJpYW50KFxuICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICBcInF1ZXJ5KCkvcXVlcnlSb3V0ZSgpIHJlcXVlc3RzIG11c3QgY29udGFpbiBhbiBBYm9ydENvbnRyb2xsZXIgc2lnbmFsXCJcbiAgICApO1xuICAgIHRyeSB7XG4gICAgICBpZiAoaXNNdXRhdGlvbk1ldGhvZChyZXF1ZXN0Lm1ldGhvZCkpIHtcbiAgICAgICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBzdWJtaXQoXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIHJvdXRlTWF0Y2ggfHwgZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pLFxuICAgICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgICAgICByb3V0ZU1hdGNoICE9IG51bGwsXG4gICAgICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgICBza2lwUmV2YWxpZGF0aW9uXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXN1bHQyO1xuICAgICAgfVxuICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IGxvYWRSb3V0ZURhdGEoXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3ksXG4gICAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgICByb3V0ZU1hdGNoLFxuICAgICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkXG4gICAgICApO1xuICAgICAgcmV0dXJuIGlzUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdCA6IHtcbiAgICAgICAgLi4ucmVzdWx0LFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoaXNEYXRhU3RyYXRlZ3lSZXN1bHQoZSkgJiYgaXNSZXNwb25zZShlLnJlc3VsdCkpIHtcbiAgICAgICAgaWYgKGUudHlwZSA9PT0gXCJlcnJvclwiIC8qIGVycm9yICovKSB7XG4gICAgICAgICAgdGhyb3cgZS5yZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUucmVzdWx0O1xuICAgICAgfVxuICAgICAgaWYgKGlzUmVkaXJlY3RSZXNwb25zZShlKSkge1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH1cbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHN1Ym1pdChyZXF1ZXN0LCBtYXRjaGVzLCBhY3Rpb25NYXRjaCwgcmVxdWVzdENvbnRleHQsIGRhdGFTdHJhdGVneSwgc2tpcExvYWRlckVycm9yQnViYmxpbmcsIGlzUm91dGVSZXF1ZXN0LCBmaWx0ZXJNYXRjaGVzVG9Mb2FkLCBza2lwUmV2YWxpZGF0aW9uKSB7XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoIWFjdGlvbk1hdGNoLnJvdXRlLmFjdGlvbiAmJiAhYWN0aW9uTWF0Y2gucm91dGUubGF6eSkge1xuICAgICAgbGV0IGVycm9yID0gZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDUsIHtcbiAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgcGF0aG5hbWU6IG5ldyBVUkwocmVxdWVzdC51cmwpLnBhdGhuYW1lLFxuICAgICAgICByb3V0ZUlkOiBhY3Rpb25NYXRjaC5yb3V0ZS5pZFxuICAgICAgfSk7XG4gICAgICBpZiAoaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgICByZXN1bHQgPSB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3JcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCByZXN1bHRzID0gYXdhaXQgY2FsbERhdGFTdHJhdGVneShcbiAgICAgICAgXCJhY3Rpb25cIixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgW2FjdGlvbk1hdGNoXSxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgaXNSb3V0ZVJlcXVlc3QsXG4gICAgICAgIHJlcXVlc3RDb250ZXh0LFxuICAgICAgICBkYXRhU3RyYXRlZ3lcbiAgICAgICk7XG4gICAgICByZXN1bHQgPSByZXN1bHRzW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgIHRocm93U3RhdGljSGFuZGxlckFib3J0ZWRFcnJvcihyZXF1ZXN0LCBpc1JvdXRlUmVxdWVzdCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIHRocm93IG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgIHN0YXR1czogcmVzdWx0LnJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIExvY2F0aW9uOiByZXN1bHQucmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGlzUm91dGVSZXF1ZXN0KSB7XG4gICAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1hdGNoZXM6IFthY3Rpb25NYXRjaF0sXG4gICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICBhY3Rpb25EYXRhOiB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5kYXRhIH0sXG4gICAgICAgIGVycm9yczogbnVsbCxcbiAgICAgICAgLy8gTm90ZTogc3RhdHVzQ29kZSArIGhlYWRlcnMgYXJlIHVudXNlZCBoZXJlIHNpbmNlIHF1ZXJ5Um91dGUgd2lsbFxuICAgICAgICAvLyByZXR1cm4gdGhlIHJhdyBSZXNwb25zZSBvciB2YWx1ZVxuICAgICAgICBzdGF0dXNDb2RlOiAyMDAsXG4gICAgICAgIGxvYWRlckhlYWRlcnM6IHt9LFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHNraXBSZXZhbGlkYXRpb24pIHtcbiAgICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA/IGFjdGlvbk1hdGNoIDogZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBhY3Rpb25NYXRjaC5yb3V0ZS5pZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0LmVycm9yKSA/IHJlc3VsdC5lcnJvci5zdGF0dXMgOiByZXN1bHQuc3RhdHVzQ29kZSAhPSBudWxsID8gcmVzdWx0LnN0YXR1c0NvZGUgOiA1MDAsXG4gICAgICAgICAgYWN0aW9uRGF0YTogbnVsbCxcbiAgICAgICAgICBhY3Rpb25IZWFkZXJzOiB7XG4gICAgICAgICAgICAuLi5yZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBtYXRjaGVzLFxuICAgICAgICAgIGxvYWRlckRhdGE6IHt9LFxuICAgICAgICAgIGVycm9yczoge1xuICAgICAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdOiByZXN1bHQuZXJyb3JcbiAgICAgICAgICB9LFxuICAgICAgICAgIGxvYWRlckhlYWRlcnM6IHt9XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgICAgICAgIFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5kYXRhXG4gICAgICAgICAgfSxcbiAgICAgICAgICBhY3Rpb25IZWFkZXJzOiByZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9LFxuICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgbG9hZGVyRGF0YToge30sXG4gICAgICAgICAgZXJyb3JzOiBudWxsLFxuICAgICAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXNDb2RlIHx8IDIwMCxcbiAgICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbG9hZGVyUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KHJlcXVlc3QudXJsLCB7XG4gICAgICBoZWFkZXJzOiByZXF1ZXN0LmhlYWRlcnMsXG4gICAgICByZWRpcmVjdDogcmVxdWVzdC5yZWRpcmVjdCxcbiAgICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWxcbiAgICB9KTtcbiAgICBpZiAoaXNFcnJvclJlc3VsdChyZXN1bHQpKSB7XG4gICAgICBsZXQgYm91bmRhcnlNYXRjaCA9IHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nID8gYWN0aW9uTWF0Y2ggOiBmaW5kTmVhcmVzdEJvdW5kYXJ5KG1hdGNoZXMsIGFjdGlvbk1hdGNoLnJvdXRlLmlkKTtcbiAgICAgIGxldCBoYW5kbGVyQ29udGV4dDIgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgICBsb2FkZXJSZXF1ZXN0LFxuICAgICAgICBtYXRjaGVzLFxuICAgICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgICAgZGF0YVN0cmF0ZWd5LFxuICAgICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZyxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgZmlsdGVyTWF0Y2hlc1RvTG9hZCxcbiAgICAgICAgW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWQsIHJlc3VsdF1cbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5oYW5kbGVyQ29udGV4dDIsXG4gICAgICAgIHN0YXR1c0NvZGU6IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcikgPyByZXN1bHQuZXJyb3Iuc3RhdHVzIDogcmVzdWx0LnN0YXR1c0NvZGUgIT0gbnVsbCA/IHJlc3VsdC5zdGF0dXNDb2RlIDogNTAwLFxuICAgICAgICBhY3Rpb25EYXRhOiBudWxsLFxuICAgICAgICBhY3Rpb25IZWFkZXJzOiB7XG4gICAgICAgICAgLi4ucmVzdWx0LmhlYWRlcnMgPyB7IFthY3Rpb25NYXRjaC5yb3V0ZS5pZF06IHJlc3VsdC5oZWFkZXJzIH0gOiB7fVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgaGFuZGxlckNvbnRleHQgPSBhd2FpdCBsb2FkUm91dGVEYXRhKFxuICAgICAgbG9hZGVyUmVxdWVzdCxcbiAgICAgIG1hdGNoZXMsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGRhdGFTdHJhdGVneSxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLFxuICAgICAgbnVsbCxcbiAgICAgIGZpbHRlck1hdGNoZXNUb0xvYWRcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5oYW5kbGVyQ29udGV4dCxcbiAgICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgICAgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmRhdGFcbiAgICAgIH0sXG4gICAgICAvLyBhY3Rpb24gc3RhdHVzIGNvZGVzIHRha2UgcHJlY2VkZW5jZSBvdmVyIGxvYWRlciBzdGF0dXMgY29kZXNcbiAgICAgIC4uLnJlc3VsdC5zdGF0dXNDb2RlID8geyBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzQ29kZSB9IDoge30sXG4gICAgICBhY3Rpb25IZWFkZXJzOiByZXN1bHQuaGVhZGVycyA/IHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmhlYWRlcnMgfSA6IHt9XG4gICAgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBsb2FkUm91dGVEYXRhKHJlcXVlc3QsIG1hdGNoZXMsIHJlcXVlc3RDb250ZXh0LCBkYXRhU3RyYXRlZ3ksIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nLCByb3V0ZU1hdGNoLCBmaWx0ZXJNYXRjaGVzVG9Mb2FkLCBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gICAgbGV0IGlzUm91dGVSZXF1ZXN0ID0gcm91dGVNYXRjaCAhPSBudWxsO1xuICAgIGlmIChpc1JvdXRlUmVxdWVzdCAmJiAhcm91dGVNYXRjaD8ucm91dGUubG9hZGVyICYmICFyb3V0ZU1hdGNoPy5yb3V0ZS5sYXp5KSB7XG4gICAgICB0aHJvdyBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwMCwge1xuICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICBwYXRobmFtZTogbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWUsXG4gICAgICAgIHJvdXRlSWQ6IHJvdXRlTWF0Y2g/LnJvdXRlLmlkXG4gICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHJlcXVlc3RNYXRjaGVzID0gcm91dGVNYXRjaCA/IFtyb3V0ZU1hdGNoXSA6IHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KG1hdGNoZXMsIHBlbmRpbmdBY3Rpb25SZXN1bHRbMF0pIDogbWF0Y2hlcztcbiAgICBsZXQgbWF0Y2hlc1RvTG9hZCA9IHJlcXVlc3RNYXRjaGVzLmZpbHRlcihcbiAgICAgIChtKSA9PiAobS5yb3V0ZS5sb2FkZXIgfHwgbS5yb3V0ZS5sYXp5KSAmJiAoIWZpbHRlck1hdGNoZXNUb0xvYWQgfHwgZmlsdGVyTWF0Y2hlc1RvTG9hZChtKSlcbiAgICApO1xuICAgIGlmIChtYXRjaGVzVG9Mb2FkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgLy8gQWRkIGEgbnVsbCBmb3IgYWxsIG1hdGNoZWQgcm91dGVzIGZvciBwcm9wZXIgcmV2YWxpZGF0aW9uIG9uIHRoZSBjbGllbnRcbiAgICAgICAgbG9hZGVyRGF0YTogbWF0Y2hlcy5yZWR1Y2UoXG4gICAgICAgICAgKGFjYywgbSkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW20ucm91dGUuaWRdOiBudWxsIH0pLFxuICAgICAgICAgIHt9XG4gICAgICAgICksXG4gICAgICAgIGVycm9yczogcGVuZGluZ0FjdGlvblJlc3VsdCAmJiBpc0Vycm9yUmVzdWx0KHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0pID8ge1xuICAgICAgICAgIFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5lcnJvclxuICAgICAgICB9IDogbnVsbCxcbiAgICAgICAgc3RhdHVzQ29kZTogMjAwLFxuICAgICAgICBsb2FkZXJIZWFkZXJzOiB7fVxuICAgICAgfTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5KFxuICAgICAgXCJsb2FkZXJcIixcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIGlzUm91dGVSZXF1ZXN0LFxuICAgICAgcmVxdWVzdENvbnRleHQsXG4gICAgICBkYXRhU3RyYXRlZ3lcbiAgICApO1xuICAgIGlmIChyZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICB0aHJvd1N0YXRpY0hhbmRsZXJBYm9ydGVkRXJyb3IocmVxdWVzdCwgaXNSb3V0ZVJlcXVlc3QpO1xuICAgIH1cbiAgICBsZXQgaGFuZGxlckNvbnRleHQgPSBwcm9jZXNzUm91dGVMb2FkZXJEYXRhKFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIHJlc3VsdHMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0LFxuICAgICAgdHJ1ZSxcbiAgICAgIHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nXG4gICAgKTtcbiAgICBsZXQgZXhlY3V0ZWRMb2FkZXJzID0gbmV3IFNldChcbiAgICAgIG1hdGNoZXNUb0xvYWQubWFwKChtYXRjaCkgPT4gbWF0Y2gucm91dGUuaWQpXG4gICAgKTtcbiAgICBtYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PiB7XG4gICAgICBpZiAoIWV4ZWN1dGVkTG9hZGVycy5oYXMobWF0Y2gucm91dGUuaWQpKSB7XG4gICAgICAgIGhhbmRsZXJDb250ZXh0LmxvYWRlckRhdGFbbWF0Y2gucm91dGUuaWRdID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uaGFuZGxlckNvbnRleHQsXG4gICAgICBtYXRjaGVzXG4gICAgfTtcbiAgfVxuICBhc3luYyBmdW5jdGlvbiBjYWxsRGF0YVN0cmF0ZWd5KHR5cGUsIHJlcXVlc3QsIG1hdGNoZXNUb0xvYWQsIG1hdGNoZXMsIGlzUm91dGVSZXF1ZXN0LCByZXF1ZXN0Q29udGV4dCwgZGF0YVN0cmF0ZWd5KSB7XG4gICAgbGV0IHJlc3VsdHMgPSBhd2FpdCBjYWxsRGF0YVN0cmF0ZWd5SW1wbChcbiAgICAgIGRhdGFTdHJhdGVneSB8fCBkZWZhdWx0RGF0YVN0cmF0ZWd5LFxuICAgICAgdHlwZSxcbiAgICAgIHJlcXVlc3QsXG4gICAgICBtYXRjaGVzVG9Mb2FkLFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIG51bGwsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgICByZXF1ZXN0Q29udGV4dCxcbiAgICAgIGZhbHNlXG4gICAgICAvLyBtaWRkbGV3YXJlIG5vdCBkb25lIHZpYSBkYXRhU3RyYXRlZ3kgaW4gdGhlIHN0YXRpYyBoYW5kbGVyXG4gICAgKTtcbiAgICBsZXQgZGF0YVJlc3VsdHMgPSB7fTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIG1hdGNoZXMubWFwKGFzeW5jIChtYXRjaCkgPT4ge1xuICAgICAgICBpZiAoIShtYXRjaC5yb3V0ZS5pZCBpbiByZXN1bHRzKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1ttYXRjaC5yb3V0ZS5pZF07XG4gICAgICAgIGlmIChpc1JlZGlyZWN0RGF0YVN0cmF0ZWd5UmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgICAgICBsZXQgcmVzcG9uc2UgPSByZXN1bHQucmVzdWx0O1xuICAgICAgICAgIHRocm93IG5vcm1hbGl6ZVJlbGF0aXZlUm91dGluZ1JlZGlyZWN0UmVzcG9uc2UoXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBtYXRjaC5yb3V0ZS5pZCxcbiAgICAgICAgICAgIG1hdGNoZXMsXG4gICAgICAgICAgICBiYXNlbmFtZVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgJiYgaXNSb3V0ZVJlcXVlc3QpIHtcbiAgICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YVJlc3VsdHNbbWF0Y2gucm91dGUuaWRdID0gYXdhaXQgY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChyZXN1bHQpO1xuICAgICAgfSlcbiAgICApO1xuICAgIHJldHVybiBkYXRhUmVzdWx0cztcbiAgfVxuICByZXR1cm4ge1xuICAgIGRhdGFSb3V0ZXMsXG4gICAgcXVlcnksXG4gICAgcXVlcnlSb3V0ZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0U3RhdGljQ29udGV4dEZyb21FcnJvcihyb3V0ZXMsIGhhbmRsZXJDb250ZXh0LCBlcnJvciwgYm91bmRhcnlJZCkge1xuICBsZXQgZXJyb3JCb3VuZGFyeUlkID0gYm91bmRhcnlJZCB8fCBoYW5kbGVyQ29udGV4dC5fZGVlcGVzdFJlbmRlcmVkQm91bmRhcnlJZCB8fCByb3V0ZXNbMF0uaWQ7XG4gIHJldHVybiB7XG4gICAgLi4uaGFuZGxlckNvbnRleHQsXG4gICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpID8gZXJyb3Iuc3RhdHVzIDogNTAwLFxuICAgIGVycm9yczoge1xuICAgICAgW2Vycm9yQm91bmRhcnlJZF06IGVycm9yXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gdGhyb3dTdGF0aWNIYW5kbGVyQWJvcnRlZEVycm9yKHJlcXVlc3QsIGlzUm91dGVSZXF1ZXN0KSB7XG4gIGlmIChyZXF1ZXN0LnNpZ25hbC5yZWFzb24gIT09IHZvaWQgMCkge1xuICAgIHRocm93IHJlcXVlc3Quc2lnbmFsLnJlYXNvbjtcbiAgfVxuICBsZXQgbWV0aG9kID0gaXNSb3V0ZVJlcXVlc3QgPyBcInF1ZXJ5Um91dGVcIiA6IFwicXVlcnlcIjtcbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgIGAke21ldGhvZH0oKSBjYWxsIGFib3J0ZWQgd2l0aG91dCBhbiBcXGBBYm9ydFNpZ25hbC5yZWFzb25cXGA6ICR7cmVxdWVzdC5tZXRob2R9ICR7cmVxdWVzdC51cmx9YFxuICApO1xufVxuZnVuY3Rpb24gaXNTdWJtaXNzaW9uTmF2aWdhdGlvbihvcHRzKSB7XG4gIHJldHVybiBvcHRzICE9IG51bGwgJiYgKFwiZm9ybURhdGFcIiBpbiBvcHRzICYmIG9wdHMuZm9ybURhdGEgIT0gbnVsbCB8fCBcImJvZHlcIiBpbiBvcHRzICYmIG9wdHMuYm9keSAhPT0gdm9pZCAwKTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVRvKGxvY2F0aW9uLCBtYXRjaGVzLCBiYXNlbmFtZSwgdG8sIGZyb21Sb3V0ZUlkLCByZWxhdGl2ZSkge1xuICBsZXQgY29udGV4dHVhbE1hdGNoZXM7XG4gIGxldCBhY3RpdmVSb3V0ZU1hdGNoO1xuICBpZiAoZnJvbVJvdXRlSWQpIHtcbiAgICBjb250ZXh0dWFsTWF0Y2hlcyA9IFtdO1xuICAgIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgIGNvbnRleHR1YWxNYXRjaGVzLnB1c2gobWF0Y2gpO1xuICAgICAgaWYgKG1hdGNoLnJvdXRlLmlkID09PSBmcm9tUm91dGVJZCkge1xuICAgICAgICBhY3RpdmVSb3V0ZU1hdGNoID0gbWF0Y2g7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb250ZXh0dWFsTWF0Y2hlcyA9IG1hdGNoZXM7XG4gICAgYWN0aXZlUm91dGVNYXRjaCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgfVxuICBsZXQgcGF0aCA9IHJlc29sdmVUbyhcbiAgICB0byA/IHRvIDogXCIuXCIsXG4gICAgZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhjb250ZXh0dWFsTWF0Y2hlcyksXG4gICAgc3RyaXBCYXNlbmFtZShsb2NhdGlvbi5wYXRobmFtZSwgYmFzZW5hbWUpIHx8IGxvY2F0aW9uLnBhdGhuYW1lLFxuICAgIHJlbGF0aXZlID09PSBcInBhdGhcIlxuICApO1xuICBpZiAodG8gPT0gbnVsbCkge1xuICAgIHBhdGguc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHBhdGguaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gIH1cbiAgaWYgKCh0byA9PSBudWxsIHx8IHRvID09PSBcIlwiIHx8IHRvID09PSBcIi5cIikgJiYgYWN0aXZlUm91dGVNYXRjaCkge1xuICAgIGxldCBuYWtlZEluZGV4ID0gaGFzTmFrZWRJbmRleFF1ZXJ5KHBhdGguc2VhcmNoKTtcbiAgICBpZiAoYWN0aXZlUm91dGVNYXRjaC5yb3V0ZS5pbmRleCAmJiAhbmFrZWRJbmRleCkge1xuICAgICAgcGF0aC5zZWFyY2ggPSBwYXRoLnNlYXJjaCA/IHBhdGguc2VhcmNoLnJlcGxhY2UoL15cXD8vLCBcIj9pbmRleCZcIikgOiBcIj9pbmRleFwiO1xuICAgIH0gZWxzZSBpZiAoIWFjdGl2ZVJvdXRlTWF0Y2gucm91dGUuaW5kZXggJiYgbmFrZWRJbmRleCkge1xuICAgICAgbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMocGF0aC5zZWFyY2gpO1xuICAgICAgbGV0IGluZGV4VmFsdWVzID0gcGFyYW1zLmdldEFsbChcImluZGV4XCIpO1xuICAgICAgcGFyYW1zLmRlbGV0ZShcImluZGV4XCIpO1xuICAgICAgaW5kZXhWYWx1ZXMuZmlsdGVyKCh2KSA9PiB2KS5mb3JFYWNoKCh2KSA9PiBwYXJhbXMuYXBwZW5kKFwiaW5kZXhcIiwgdikpO1xuICAgICAgbGV0IHFzID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgICBwYXRoLnNlYXJjaCA9IHFzID8gYD8ke3FzfWAgOiBcIlwiO1xuICAgIH1cbiAgfVxuICBpZiAoYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgcGF0aC5wYXRobmFtZSA9IHBhdGgucGF0aG5hbWUgPT09IFwiL1wiID8gYmFzZW5hbWUgOiBqb2luUGF0aHMoW2Jhc2VuYW1lLCBwYXRoLnBhdGhuYW1lXSk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZVBhdGgocGF0aCk7XG59XG5mdW5jdGlvbiBub3JtYWxpemVOYXZpZ2F0ZU9wdGlvbnMoaXNGZXRjaGVyLCBwYXRoLCBvcHRzKSB7XG4gIGlmICghb3B0cyB8fCAhaXNTdWJtaXNzaW9uTmF2aWdhdGlvbihvcHRzKSkge1xuICAgIHJldHVybiB7IHBhdGggfTtcbiAgfVxuICBpZiAob3B0cy5mb3JtTWV0aG9kICYmICFpc1ZhbGlkTWV0aG9kKG9wdHMuZm9ybU1ldGhvZCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF0aCxcbiAgICAgIGVycm9yOiBnZXRJbnRlcm5hbFJvdXRlckVycm9yKDQwNSwgeyBtZXRob2Q6IG9wdHMuZm9ybU1ldGhvZCB9KVxuICAgIH07XG4gIH1cbiAgbGV0IGdldEludmFsaWRCb2R5RXJyb3IgPSAoKSA9PiAoe1xuICAgIHBhdGgsXG4gICAgZXJyb3I6IGdldEludGVybmFsUm91dGVyRXJyb3IoNDAwLCB7IHR5cGU6IFwiaW52YWxpZC1ib2R5XCIgfSlcbiAgfSk7XG4gIGxldCByYXdGb3JtTWV0aG9kID0gb3B0cy5mb3JtTWV0aG9kIHx8IFwiZ2V0XCI7XG4gIGxldCBmb3JtTWV0aG9kID0gcmF3Rm9ybU1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICBsZXQgZm9ybUFjdGlvbiA9IHN0cmlwSGFzaEZyb21QYXRoKHBhdGgpO1xuICBpZiAob3B0cy5ib2R5ICE9PSB2b2lkIDApIHtcbiAgICBpZiAob3B0cy5mb3JtRW5jVHlwZSA9PT0gXCJ0ZXh0L3BsYWluXCIpIHtcbiAgICAgIGlmICghaXNNdXRhdGlvbk1ldGhvZChmb3JtTWV0aG9kKSkge1xuICAgICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgICAgfVxuICAgICAgbGV0IHRleHQgPSB0eXBlb2Ygb3B0cy5ib2R5ID09PSBcInN0cmluZ1wiID8gb3B0cy5ib2R5IDogb3B0cy5ib2R5IGluc3RhbmNlb2YgRm9ybURhdGEgfHwgb3B0cy5ib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zID8gKFxuICAgICAgICAvLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3JtLWNvbnRyb2wtaW5mcmFzdHJ1Y3R1cmUuaHRtbCNwbGFpbi10ZXh0LWZvcm0tZGF0YVxuICAgICAgICBBcnJheS5mcm9tKG9wdHMuYm9keS5lbnRyaWVzKCkpLnJlZHVjZShcbiAgICAgICAgICAoYWNjLCBbbmFtZSwgdmFsdWVdKSA9PiBgJHthY2N9JHtuYW1lfT0ke3ZhbHVlfVxuYCxcbiAgICAgICAgICBcIlwiXG4gICAgICAgIClcbiAgICAgICkgOiBTdHJpbmcob3B0cy5ib2R5KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBhdGgsXG4gICAgICAgIHN1Ym1pc3Npb246IHtcbiAgICAgICAgICBmb3JtTWV0aG9kLFxuICAgICAgICAgIGZvcm1BY3Rpb24sXG4gICAgICAgICAgZm9ybUVuY1R5cGU6IG9wdHMuZm9ybUVuY1R5cGUsXG4gICAgICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgICAgICBqc29uOiB2b2lkIDAsXG4gICAgICAgICAgdGV4dFxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSBpZiAob3B0cy5mb3JtRW5jVHlwZSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgIGlmICghaXNNdXRhdGlvbk1ldGhvZChmb3JtTWV0aG9kKSkge1xuICAgICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGpzb24gPSB0eXBlb2Ygb3B0cy5ib2R5ID09PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShvcHRzLmJvZHkpIDogb3B0cy5ib2R5O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgc3VibWlzc2lvbjoge1xuICAgICAgICAgICAgZm9ybU1ldGhvZCxcbiAgICAgICAgICAgIGZvcm1BY3Rpb24sXG4gICAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0cy5mb3JtRW5jVHlwZSxcbiAgICAgICAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICAgICAgICBqc29uLFxuICAgICAgICAgICAgdGV4dDogdm9pZCAwXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpbnZhcmlhbnQoXG4gICAgdHlwZW9mIEZvcm1EYXRhID09PSBcImZ1bmN0aW9uXCIsXG4gICAgXCJGb3JtRGF0YSBpcyBub3QgYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnRcIlxuICApO1xuICBsZXQgc2VhcmNoUGFyYW1zO1xuICBsZXQgZm9ybURhdGE7XG4gIGlmIChvcHRzLmZvcm1EYXRhKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMob3B0cy5mb3JtRGF0YSk7XG4gICAgZm9ybURhdGEgPSBvcHRzLmZvcm1EYXRhO1xuICB9IGVsc2UgaWYgKG9wdHMuYm9keSBpbnN0YW5jZW9mIEZvcm1EYXRhKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gY29udmVydEZvcm1EYXRhVG9TZWFyY2hQYXJhbXMob3B0cy5ib2R5KTtcbiAgICBmb3JtRGF0YSA9IG9wdHMuYm9keTtcbiAgfSBlbHNlIGlmIChvcHRzLmJvZHkgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpIHtcbiAgICBzZWFyY2hQYXJhbXMgPSBvcHRzLmJvZHk7XG4gICAgZm9ybURhdGEgPSBjb252ZXJ0U2VhcmNoUGFyYW1zVG9Gb3JtRGF0YShzZWFyY2hQYXJhbXMpO1xuICB9IGVsc2UgaWYgKG9wdHMuYm9keSA9PSBudWxsKSB7XG4gICAgc2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIHNlYXJjaFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMob3B0cy5ib2R5KTtcbiAgICAgIGZvcm1EYXRhID0gY29udmVydFNlYXJjaFBhcmFtc1RvRm9ybURhdGEoc2VhcmNoUGFyYW1zKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZ2V0SW52YWxpZEJvZHlFcnJvcigpO1xuICAgIH1cbiAgfVxuICBsZXQgc3VibWlzc2lvbiA9IHtcbiAgICBmb3JtTWV0aG9kLFxuICAgIGZvcm1BY3Rpb24sXG4gICAgZm9ybUVuY1R5cGU6IG9wdHMgJiYgb3B0cy5mb3JtRW5jVHlwZSB8fCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxuICAgIGZvcm1EYXRhLFxuICAgIGpzb246IHZvaWQgMCxcbiAgICB0ZXh0OiB2b2lkIDBcbiAgfTtcbiAgaWYgKGlzTXV0YXRpb25NZXRob2Qoc3VibWlzc2lvbi5mb3JtTWV0aG9kKSkge1xuICAgIHJldHVybiB7IHBhdGgsIHN1Ym1pc3Npb24gfTtcbiAgfVxuICBsZXQgcGFyc2VkUGF0aCA9IHBhcnNlUGF0aChwYXRoKTtcbiAgaWYgKGlzRmV0Y2hlciAmJiBwYXJzZWRQYXRoLnNlYXJjaCAmJiBoYXNOYWtlZEluZGV4UXVlcnkocGFyc2VkUGF0aC5zZWFyY2gpKSB7XG4gICAgc2VhcmNoUGFyYW1zLmFwcGVuZChcImluZGV4XCIsIFwiXCIpO1xuICB9XG4gIHBhcnNlZFBhdGguc2VhcmNoID0gYD8ke3NlYXJjaFBhcmFtc31gO1xuICByZXR1cm4geyBwYXRoOiBjcmVhdGVQYXRoKHBhcnNlZFBhdGgpLCBzdWJtaXNzaW9uIH07XG59XG5mdW5jdGlvbiBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShtYXRjaGVzLCBib3VuZGFyeUlkLCBpbmNsdWRlQm91bmRhcnkgPSBmYWxzZSkge1xuICBsZXQgaW5kZXggPSBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gYm91bmRhcnlJZCk7XG4gIGlmIChpbmRleCA+PSAwKSB7XG4gICAgcmV0dXJuIG1hdGNoZXMuc2xpY2UoMCwgaW5jbHVkZUJvdW5kYXJ5ID8gaW5kZXggKyAxIDogaW5kZXgpO1xuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxuZnVuY3Rpb24gZ2V0TWF0Y2hlc1RvTG9hZChoaXN0b3J5LCBzdGF0ZSwgbWF0Y2hlcywgc3VibWlzc2lvbiwgbG9jYXRpb24sIGluaXRpYWxIeWRyYXRpb24sIGlzUmV2YWxpZGF0aW9uUmVxdWlyZWQsIGNhbmNlbGxlZEZldGNoZXJMb2FkcywgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbiwgZmV0Y2hMb2FkTWF0Y2hlcywgZmV0Y2hSZWRpcmVjdElkcywgcm91dGVzVG9Vc2UsIGJhc2VuYW1lLCBwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gIGxldCBhY3Rpb25SZXN1bHQgPSBwZW5kaW5nQWN0aW9uUmVzdWx0ID8gaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3IgOiBwZW5kaW5nQWN0aW9uUmVzdWx0WzFdLmRhdGEgOiB2b2lkIDA7XG4gIGxldCBjdXJyZW50VXJsID0gaGlzdG9yeS5jcmVhdGVVUkwoc3RhdGUubG9jYXRpb24pO1xuICBsZXQgbmV4dFVybCA9IGhpc3RvcnkuY3JlYXRlVVJMKGxvY2F0aW9uKTtcbiAgbGV0IGJvdW5kYXJ5TWF0Y2hlcyA9IG1hdGNoZXM7XG4gIGlmIChpbml0aWFsSHlkcmF0aW9uICYmIHN0YXRlLmVycm9ycykge1xuICAgIGJvdW5kYXJ5TWF0Y2hlcyA9IGdldExvYWRlck1hdGNoZXNVbnRpbEJvdW5kYXJ5KFxuICAgICAgbWF0Y2hlcyxcbiAgICAgIE9iamVjdC5rZXlzKHN0YXRlLmVycm9ycylbMF0sXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSBlbHNlIGlmIChwZW5kaW5nQWN0aW9uUmVzdWx0ICYmIGlzRXJyb3JSZXN1bHQocGVuZGluZ0FjdGlvblJlc3VsdFsxXSkpIHtcbiAgICBib3VuZGFyeU1hdGNoZXMgPSBnZXRMb2FkZXJNYXRjaGVzVW50aWxCb3VuZGFyeShcbiAgICAgIG1hdGNoZXMsXG4gICAgICBwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXG4gICAgKTtcbiAgfVxuICBsZXQgYWN0aW9uU3RhdHVzID0gcGVuZGluZ0FjdGlvblJlc3VsdCA/IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uc3RhdHVzQ29kZSA6IHZvaWQgMDtcbiAgbGV0IHNob3VsZFNraXBSZXZhbGlkYXRpb24gPSBhY3Rpb25TdGF0dXMgJiYgYWN0aW9uU3RhdHVzID49IDQwMDtcbiAgbGV0IG5hdmlnYXRpb25NYXRjaGVzID0gYm91bmRhcnlNYXRjaGVzLmZpbHRlcigobWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgbGV0IHsgcm91dGUgfSA9IG1hdGNoO1xuICAgIGlmIChyb3V0ZS5sYXp5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHJvdXRlLmxvYWRlciA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpbml0aWFsSHlkcmF0aW9uKSB7XG4gICAgICByZXR1cm4gc2hvdWxkTG9hZFJvdXRlT25IeWRyYXRpb24ocm91dGUsIHN0YXRlLmxvYWRlckRhdGEsIHN0YXRlLmVycm9ycyk7XG4gICAgfVxuICAgIGlmIChpc05ld0xvYWRlcihzdGF0ZS5sb2FkZXJEYXRhLCBzdGF0ZS5tYXRjaGVzW2luZGV4XSwgbWF0Y2gpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IGN1cnJlbnRSb3V0ZU1hdGNoID0gc3RhdGUubWF0Y2hlc1tpbmRleF07XG4gICAgbGV0IG5leHRSb3V0ZU1hdGNoID0gbWF0Y2g7XG4gICAgcmV0dXJuIHNob3VsZFJldmFsaWRhdGVMb2FkZXIobWF0Y2gsIHtcbiAgICAgIGN1cnJlbnRVcmwsXG4gICAgICBjdXJyZW50UGFyYW1zOiBjdXJyZW50Um91dGVNYXRjaC5wYXJhbXMsXG4gICAgICBuZXh0VXJsLFxuICAgICAgbmV4dFBhcmFtczogbmV4dFJvdXRlTWF0Y2gucGFyYW1zLFxuICAgICAgLi4uc3VibWlzc2lvbixcbiAgICAgIGFjdGlvblJlc3VsdCxcbiAgICAgIGFjdGlvblN0YXR1cyxcbiAgICAgIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiBzaG91bGRTa2lwUmV2YWxpZGF0aW9uID8gZmFsc2UgOiAoXG4gICAgICAgIC8vIEZvcmNlZCByZXZhbGlkYXRpb24gZHVlIHRvIHN1Ym1pc3Npb24sIHVzZVJldmFsaWRhdG9yLCBvciBYLVJlbWl4LVJldmFsaWRhdGVcbiAgICAgICAgaXNSZXZhbGlkYXRpb25SZXF1aXJlZCB8fCBjdXJyZW50VXJsLnBhdGhuYW1lICsgY3VycmVudFVybC5zZWFyY2ggPT09IG5leHRVcmwucGF0aG5hbWUgKyBuZXh0VXJsLnNlYXJjaCB8fCAvLyBTZWFyY2ggcGFyYW1zIGFmZmVjdCBhbGwgbG9hZGVyc1xuICAgICAgICBjdXJyZW50VXJsLnNlYXJjaCAhPT0gbmV4dFVybC5zZWFyY2ggfHwgaXNOZXdSb3V0ZUluc3RhbmNlKGN1cnJlbnRSb3V0ZU1hdGNoLCBuZXh0Um91dGVNYXRjaClcbiAgICAgIClcbiAgICB9KTtcbiAgfSk7XG4gIGxldCByZXZhbGlkYXRpbmdGZXRjaGVycyA9IFtdO1xuICBmZXRjaExvYWRNYXRjaGVzLmZvckVhY2goKGYsIGtleSkgPT4ge1xuICAgIGlmIChpbml0aWFsSHlkcmF0aW9uIHx8ICFtYXRjaGVzLnNvbWUoKG0pID0+IG0ucm91dGUuaWQgPT09IGYucm91dGVJZCkgfHwgZmV0Y2hlcnNRdWV1ZWRGb3JEZWxldGlvbi5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgZmV0Y2hlck1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXNUb1VzZSwgZi5wYXRoLCBiYXNlbmFtZSk7XG4gICAgaWYgKCFmZXRjaGVyTWF0Y2hlcykge1xuICAgICAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMucHVzaCh7XG4gICAgICAgIGtleSxcbiAgICAgICAgcm91dGVJZDogZi5yb3V0ZUlkLFxuICAgICAgICBwYXRoOiBmLnBhdGgsXG4gICAgICAgIG1hdGNoZXM6IG51bGwsXG4gICAgICAgIG1hdGNoOiBudWxsLFxuICAgICAgICBjb250cm9sbGVyOiBudWxsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGZldGNoZXIgPSBzdGF0ZS5mZXRjaGVycy5nZXQoa2V5KTtcbiAgICBsZXQgZmV0Y2hlck1hdGNoID0gZ2V0VGFyZ2V0TWF0Y2goZmV0Y2hlck1hdGNoZXMsIGYucGF0aCk7XG4gICAgbGV0IHNob3VsZFJldmFsaWRhdGUgPSBmYWxzZTtcbiAgICBpZiAoZmV0Y2hSZWRpcmVjdElkcy5oYXMoa2V5KSkge1xuICAgICAgc2hvdWxkUmV2YWxpZGF0ZSA9IGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoY2FuY2VsbGVkRmV0Y2hlckxvYWRzLmhhcyhrZXkpKSB7XG4gICAgICBjYW5jZWxsZWRGZXRjaGVyTG9hZHMuZGVsZXRlKGtleSk7XG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGZldGNoZXIgJiYgZmV0Y2hlci5zdGF0ZSAhPT0gXCJpZGxlXCIgJiYgZmV0Y2hlci5kYXRhID09PSB2b2lkIDApIHtcbiAgICAgIHNob3VsZFJldmFsaWRhdGUgPSBpc1JldmFsaWRhdGlvblJlcXVpcmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG91bGRSZXZhbGlkYXRlID0gc2hvdWxkUmV2YWxpZGF0ZUxvYWRlcihmZXRjaGVyTWF0Y2gsIHtcbiAgICAgICAgY3VycmVudFVybCxcbiAgICAgICAgY3VycmVudFBhcmFtczogc3RhdGUubWF0Y2hlc1tzdGF0ZS5tYXRjaGVzLmxlbmd0aCAtIDFdLnBhcmFtcyxcbiAgICAgICAgbmV4dFVybCxcbiAgICAgICAgbmV4dFBhcmFtczogbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnBhcmFtcyxcbiAgICAgICAgLi4uc3VibWlzc2lvbixcbiAgICAgICAgYWN0aW9uUmVzdWx0LFxuICAgICAgICBhY3Rpb25TdGF0dXMsXG4gICAgICAgIGRlZmF1bHRTaG91bGRSZXZhbGlkYXRlOiBzaG91bGRTa2lwUmV2YWxpZGF0aW9uID8gZmFsc2UgOiBpc1JldmFsaWRhdGlvblJlcXVpcmVkXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHNob3VsZFJldmFsaWRhdGUpIHtcbiAgICAgIHJldmFsaWRhdGluZ0ZldGNoZXJzLnB1c2goe1xuICAgICAgICBrZXksXG4gICAgICAgIHJvdXRlSWQ6IGYucm91dGVJZCxcbiAgICAgICAgcGF0aDogZi5wYXRoLFxuICAgICAgICBtYXRjaGVzOiBmZXRjaGVyTWF0Y2hlcyxcbiAgICAgICAgbWF0Y2g6IGZldGNoZXJNYXRjaCxcbiAgICAgICAgY29udHJvbGxlcjogbmV3IEFib3J0Q29udHJvbGxlcigpXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gW25hdmlnYXRpb25NYXRjaGVzLCByZXZhbGlkYXRpbmdGZXRjaGVyc107XG59XG5mdW5jdGlvbiBzaG91bGRMb2FkUm91dGVPbkh5ZHJhdGlvbihyb3V0ZSwgbG9hZGVyRGF0YSwgZXJyb3JzKSB7XG4gIGlmIChyb3V0ZS5sYXp5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKCFyb3V0ZS5sb2FkZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGhhc0RhdGEgPSBsb2FkZXJEYXRhICE9IG51bGwgJiYgbG9hZGVyRGF0YVtyb3V0ZS5pZF0gIT09IHZvaWQgMDtcbiAgbGV0IGhhc0Vycm9yID0gZXJyb3JzICE9IG51bGwgJiYgZXJyb3JzW3JvdXRlLmlkXSAhPT0gdm9pZCAwO1xuICBpZiAoIWhhc0RhdGEgJiYgaGFzRXJyb3IpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiByb3V0ZS5sb2FkZXIgPT09IFwiZnVuY3Rpb25cIiAmJiByb3V0ZS5sb2FkZXIuaHlkcmF0ZSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiAhaGFzRGF0YSAmJiAhaGFzRXJyb3I7XG59XG5mdW5jdGlvbiBpc05ld0xvYWRlcihjdXJyZW50TG9hZGVyRGF0YSwgY3VycmVudE1hdGNoLCBtYXRjaCkge1xuICBsZXQgaXNOZXcgPSAoXG4gICAgLy8gW2FdIC0+IFthLCBiXVxuICAgICFjdXJyZW50TWF0Y2ggfHwgLy8gW2EsIGJdIC0+IFthLCBjXVxuICAgIG1hdGNoLnJvdXRlLmlkICE9PSBjdXJyZW50TWF0Y2gucm91dGUuaWRcbiAgKTtcbiAgbGV0IGlzTWlzc2luZ0RhdGEgPSAhY3VycmVudExvYWRlckRhdGEuaGFzT3duUHJvcGVydHkobWF0Y2gucm91dGUuaWQpO1xuICByZXR1cm4gaXNOZXcgfHwgaXNNaXNzaW5nRGF0YTtcbn1cbmZ1bmN0aW9uIGlzTmV3Um91dGVJbnN0YW5jZShjdXJyZW50TWF0Y2gsIG1hdGNoKSB7XG4gIGxldCBjdXJyZW50UGF0aCA9IGN1cnJlbnRNYXRjaC5yb3V0ZS5wYXRoO1xuICByZXR1cm4gKFxuICAgIC8vIHBhcmFtIGNoYW5nZSBmb3IgdGhpcyBtYXRjaCwgL3VzZXJzLzEyMyAtPiAvdXNlcnMvNDU2XG4gICAgY3VycmVudE1hdGNoLnBhdGhuYW1lICE9PSBtYXRjaC5wYXRobmFtZSB8fCAvLyBzcGxhdCBwYXJhbSBjaGFuZ2VkLCB3aGljaCBpcyBub3QgcHJlc2VudCBpbiBtYXRjaC5wYXRoXG4gICAgLy8gZS5nLiAvZmlsZXMvaW1hZ2VzL2F2YXRhci5qcGcgLT4gZmlsZXMvZmluYW5jZXMueGxzXG4gICAgY3VycmVudFBhdGggIT0gbnVsbCAmJiBjdXJyZW50UGF0aC5lbmRzV2l0aChcIipcIikgJiYgY3VycmVudE1hdGNoLnBhcmFtc1tcIipcIl0gIT09IG1hdGNoLnBhcmFtc1tcIipcIl1cbiAgKTtcbn1cbmZ1bmN0aW9uIHNob3VsZFJldmFsaWRhdGVMb2FkZXIobG9hZGVyTWF0Y2gsIGFyZykge1xuICBpZiAobG9hZGVyTWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgIGxldCByb3V0ZUNob2ljZSA9IGxvYWRlck1hdGNoLnJvdXRlLnNob3VsZFJldmFsaWRhdGUoYXJnKTtcbiAgICBpZiAodHlwZW9mIHJvdXRlQ2hvaWNlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgcmV0dXJuIHJvdXRlQ2hvaWNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJnLmRlZmF1bHRTaG91bGRSZXZhbGlkYXRlO1xufVxuZnVuY3Rpb24gcGF0Y2hSb3V0ZXNJbXBsKHJvdXRlSWQsIGNoaWxkcmVuLCByb3V0ZXNUb1VzZSwgbWFuaWZlc3QsIG1hcFJvdXRlUHJvcGVydGllczIpIHtcbiAgbGV0IGNoaWxkcmVuVG9QYXRjaDtcbiAgaWYgKHJvdXRlSWQpIHtcbiAgICBsZXQgcm91dGUgPSBtYW5pZmVzdFtyb3V0ZUlkXTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICByb3V0ZSxcbiAgICAgIGBObyByb3V0ZSBmb3VuZCB0byBwYXRjaCBjaGlsZHJlbiBpbnRvOiByb3V0ZUlkID0gJHtyb3V0ZUlkfWBcbiAgICApO1xuICAgIGlmICghcm91dGUuY2hpbGRyZW4pIHtcbiAgICAgIHJvdXRlLmNoaWxkcmVuID0gW107XG4gICAgfVxuICAgIGNoaWxkcmVuVG9QYXRjaCA9IHJvdXRlLmNoaWxkcmVuO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuVG9QYXRjaCA9IHJvdXRlc1RvVXNlO1xuICB9XG4gIGxldCB1bmlxdWVDaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihcbiAgICAobmV3Um91dGUpID0+ICFjaGlsZHJlblRvUGF0Y2guc29tZShcbiAgICAgIChleGlzdGluZ1JvdXRlKSA9PiBpc1NhbWVSb3V0ZShuZXdSb3V0ZSwgZXhpc3RpbmdSb3V0ZSlcbiAgICApXG4gICk7XG4gIGxldCBuZXdSb3V0ZXMgPSBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKFxuICAgIHVuaXF1ZUNoaWxkcmVuLFxuICAgIG1hcFJvdXRlUHJvcGVydGllczIsXG4gICAgW3JvdXRlSWQgfHwgXCJfXCIsIFwicGF0Y2hcIiwgU3RyaW5nKGNoaWxkcmVuVG9QYXRjaD8ubGVuZ3RoIHx8IFwiMFwiKV0sXG4gICAgbWFuaWZlc3RcbiAgKTtcbiAgY2hpbGRyZW5Ub1BhdGNoLnB1c2goLi4ubmV3Um91dGVzKTtcbn1cbmZ1bmN0aW9uIGlzU2FtZVJvdXRlKG5ld1JvdXRlLCBleGlzdGluZ1JvdXRlKSB7XG4gIGlmIChcImlkXCIgaW4gbmV3Um91dGUgJiYgXCJpZFwiIGluIGV4aXN0aW5nUm91dGUgJiYgbmV3Um91dGUuaWQgPT09IGV4aXN0aW5nUm91dGUuaWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIShuZXdSb3V0ZS5pbmRleCA9PT0gZXhpc3RpbmdSb3V0ZS5pbmRleCAmJiBuZXdSb3V0ZS5wYXRoID09PSBleGlzdGluZ1JvdXRlLnBhdGggJiYgbmV3Um91dGUuY2FzZVNlbnNpdGl2ZSA9PT0gZXhpc3RpbmdSb3V0ZS5jYXNlU2Vuc2l0aXZlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoKCFuZXdSb3V0ZS5jaGlsZHJlbiB8fCBuZXdSb3V0ZS5jaGlsZHJlbi5sZW5ndGggPT09IDApICYmICghZXhpc3RpbmdSb3V0ZS5jaGlsZHJlbiB8fCBleGlzdGluZ1JvdXRlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gbmV3Um91dGUuY2hpbGRyZW4uZXZlcnkoXG4gICAgKGFDaGlsZCwgaSkgPT4gZXhpc3RpbmdSb3V0ZS5jaGlsZHJlbj8uc29tZSgoYkNoaWxkKSA9PiBpc1NhbWVSb3V0ZShhQ2hpbGQsIGJDaGlsZCkpXG4gICk7XG59XG5hc3luYyBmdW5jdGlvbiBsb2FkTGF6eVJvdXRlTW9kdWxlKHJvdXRlLCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBtYW5pZmVzdCkge1xuICBpZiAoIXJvdXRlLmxhenkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGxhenlSb3V0ZSA9IGF3YWl0IHJvdXRlLmxhenkoKTtcbiAgaWYgKCFyb3V0ZS5sYXp5KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCByb3V0ZVRvVXBkYXRlID0gbWFuaWZlc3Rbcm91dGUuaWRdO1xuICBpbnZhcmlhbnQocm91dGVUb1VwZGF0ZSwgXCJObyByb3V0ZSBmb3VuZCBpbiBtYW5pZmVzdFwiKTtcbiAgbGV0IHJvdXRlVXBkYXRlcyA9IHt9O1xuICBmb3IgKGxldCBsYXp5Um91dGVQcm9wZXJ0eSBpbiBsYXp5Um91dGUpIHtcbiAgICBsZXQgc3RhdGljUm91dGVWYWx1ZSA9IHJvdXRlVG9VcGRhdGVbbGF6eVJvdXRlUHJvcGVydHldO1xuICAgIGxldCBpc1Byb3BlcnR5U3RhdGljYWxseURlZmluZWQgPSBzdGF0aWNSb3V0ZVZhbHVlICE9PSB2b2lkIDAgJiYgLy8gVGhpcyBwcm9wZXJ0eSBpc24ndCBzdGF0aWMgc2luY2UgaXQgc2hvdWxkIGFsd2F5cyBiZSB1cGRhdGVkIGJhc2VkXG4gICAgLy8gb24gdGhlIHJvdXRlIHVwZGF0ZXNcbiAgICBsYXp5Um91dGVQcm9wZXJ0eSAhPT0gXCJoYXNFcnJvckJvdW5kYXJ5XCI7XG4gICAgd2FybmluZyhcbiAgICAgICFpc1Byb3BlcnR5U3RhdGljYWxseURlZmluZWQsXG4gICAgICBgUm91dGUgXCIke3JvdXRlVG9VcGRhdGUuaWR9XCIgaGFzIGEgc3RhdGljIHByb3BlcnR5IFwiJHtsYXp5Um91dGVQcm9wZXJ0eX1cIiBkZWZpbmVkIGJ1dCBpdHMgbGF6eSBmdW5jdGlvbiBpcyBhbHNvIHJldHVybmluZyBhIHZhbHVlIGZvciB0aGlzIHByb3BlcnR5LiBUaGUgbGF6eSByb3V0ZSBwcm9wZXJ0eSBcIiR7bGF6eVJvdXRlUHJvcGVydHl9XCIgd2lsbCBiZSBpZ25vcmVkLmBcbiAgICApO1xuICAgIGlmICghaXNQcm9wZXJ0eVN0YXRpY2FsbHlEZWZpbmVkICYmICFpbW11dGFibGVSb3V0ZUtleXMuaGFzKGxhenlSb3V0ZVByb3BlcnR5KSkge1xuICAgICAgcm91dGVVcGRhdGVzW2xhenlSb3V0ZVByb3BlcnR5XSA9IGxhenlSb3V0ZVtsYXp5Um91dGVQcm9wZXJ0eV07XG4gICAgfVxuICB9XG4gIE9iamVjdC5hc3NpZ24ocm91dGVUb1VwZGF0ZSwgcm91dGVVcGRhdGVzKTtcbiAgT2JqZWN0LmFzc2lnbihyb3V0ZVRvVXBkYXRlLCB7XG4gICAgLy8gVG8ga2VlcCB0aGluZ3MgZnJhbWV3b3JrIGFnbm9zdGljLCB3ZSB1c2UgdGhlIHByb3ZpZGVkIGBtYXBSb3V0ZVByb3BlcnRpZXNgXG4gICAgLy8gZnVuY3Rpb24gdG8gc2V0IHRoZSBmcmFtZXdvcmstYXdhcmUgcHJvcGVydGllcyAoYGVsZW1lbnRgL2BoYXNFcnJvckJvdW5kYXJ5YClcbiAgICAvLyBzaW5jZSB0aGUgbG9naWMgd2lsbCBkaWZmZXIgYmV0d2VlbiBmcmFtZXdvcmtzLlxuICAgIC4uLm1hcFJvdXRlUHJvcGVydGllczIocm91dGVUb1VwZGF0ZSksXG4gICAgbGF6eTogdm9pZCAwXG4gIH0pO1xufVxuYXN5bmMgZnVuY3Rpb24gZGVmYXVsdERhdGFTdHJhdGVneShhcmdzKSB7XG4gIGxldCBtYXRjaGVzVG9Mb2FkID0gYXJncy5tYXRjaGVzLmZpbHRlcigobSkgPT4gbS5zaG91bGRMb2FkKTtcbiAgbGV0IGtleWVkUmVzdWx0cyA9IHt9O1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKG1hdGNoZXNUb0xvYWQubWFwKChtKSA9PiBtLnJlc29sdmUoKSkpO1xuICByZXN1bHRzLmZvckVhY2goKHJlc3VsdCwgaSkgPT4ge1xuICAgIGtleWVkUmVzdWx0c1ttYXRjaGVzVG9Mb2FkW2ldLnJvdXRlLmlkXSA9IHJlc3VsdDtcbiAgfSk7XG4gIHJldHVybiBrZXllZFJlc3VsdHM7XG59XG5hc3luYyBmdW5jdGlvbiBkZWZhdWx0RGF0YVN0cmF0ZWd5V2l0aE1pZGRsZXdhcmUoYXJncykge1xuICBpZiAoIWFyZ3MubWF0Y2hlcy5zb21lKChtKSA9PiBtLnJvdXRlLnVuc3RhYmxlX21pZGRsZXdhcmUpKSB7XG4gICAgcmV0dXJuIGRlZmF1bHREYXRhU3RyYXRlZ3koYXJncyk7XG4gIH1cbiAgcmV0dXJuIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICBhcmdzLFxuICAgIGZhbHNlLFxuICAgICgpID0+IGRlZmF1bHREYXRhU3RyYXRlZ3koYXJncyksXG4gICAgKGUpID0+ICh7IFtlLnJvdXRlSWRdOiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlLmVycm9yIH0gfSlcbiAgKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShhcmdzLCBwcm9wYWdhdGVSZXN1bHQsIGhhbmRsZXIsIGVycm9ySGFuZGxlcikge1xuICBsZXQgeyBtYXRjaGVzLCByZXF1ZXN0LCBwYXJhbXMsIGNvbnRleHQgfSA9IGFyZ3M7XG4gIGxldCBtaWRkbGV3YXJlU3RhdGUgPSB7XG4gICAgaGFuZGxlclJlc3VsdDogdm9pZCAwLFxuICAgIHByb3BhZ2F0ZVJlc3VsdFxuICB9O1xuICB0cnkge1xuICAgIGxldCB0dXBsZXMgPSBtYXRjaGVzLmZsYXRNYXAoXG4gICAgICAobSkgPT4gbS5yb3V0ZS51bnN0YWJsZV9taWRkbGV3YXJlID8gbS5yb3V0ZS51bnN0YWJsZV9taWRkbGV3YXJlLm1hcCgoZm4pID0+IFttLnJvdXRlLmlkLCBmbl0pIDogW11cbiAgICApO1xuICAgIGxldCByZXN1bHQgPSBhd2FpdCBjYWxsUm91dGVNaWRkbGV3YXJlKFxuICAgICAgeyByZXF1ZXN0LCBwYXJhbXMsIGNvbnRleHQgfSxcbiAgICAgIHR1cGxlcyxcbiAgICAgIG1pZGRsZXdhcmVTdGF0ZSxcbiAgICAgIGhhbmRsZXJcbiAgICApO1xuICAgIHJldHVybiBtaWRkbGV3YXJlU3RhdGUucHJvcGFnYXRlUmVzdWx0ID8gcmVzdWx0IDogbWlkZGxld2FyZVN0YXRlLmhhbmRsZXJSZXN1bHQ7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoIShlIGluc3RhbmNlb2YgTWlkZGxld2FyZUVycm9yKSkge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGVycm9ySGFuZGxlcihlKTtcbiAgICBpZiAocHJvcGFnYXRlUmVzdWx0IHx8ICFtaWRkbGV3YXJlU3RhdGUuaGFuZGxlclJlc3VsdCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24obWlkZGxld2FyZVN0YXRlLmhhbmRsZXJSZXN1bHQsIHJlc3VsdCk7XG4gIH1cbn1cbnZhciBNaWRkbGV3YXJlRXJyb3IgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHJvdXRlSWQsIGVycm9yKSB7XG4gICAgdGhpcy5yb3V0ZUlkID0gcm91dGVJZDtcbiAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gIH1cbn07XG5hc3luYyBmdW5jdGlvbiBjYWxsUm91dGVNaWRkbGV3YXJlKGFyZ3MsIG1pZGRsZXdhcmVzLCBtaWRkbGV3YXJlU3RhdGUsIGhhbmRsZXIsIGlkeCA9IDApIHtcbiAgbGV0IHsgcmVxdWVzdCB9ID0gYXJncztcbiAgaWYgKHJlcXVlc3Quc2lnbmFsLmFib3J0ZWQpIHtcbiAgICBpZiAocmVxdWVzdC5zaWduYWwucmVhc29uKSB7XG4gICAgICB0aHJvdyByZXF1ZXN0LnNpZ25hbC5yZWFzb247XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBSZXF1ZXN0IGFib3J0ZWQgd2l0aG91dCBhbiBcXGBBYm9ydFNpZ25hbC5yZWFzb25cXGA6ICR7cmVxdWVzdC5tZXRob2R9ICR7cmVxdWVzdC51cmx9YFxuICAgICk7XG4gIH1cbiAgbGV0IHR1cGxlID0gbWlkZGxld2FyZXNbaWR4XTtcbiAgaWYgKCF0dXBsZSkge1xuICAgIG1pZGRsZXdhcmVTdGF0ZS5oYW5kbGVyUmVzdWx0ID0gYXdhaXQgaGFuZGxlcigpO1xuICAgIHJldHVybiBtaWRkbGV3YXJlU3RhdGUuaGFuZGxlclJlc3VsdDtcbiAgfVxuICBsZXQgW3JvdXRlSWQsIG1pZGRsZXdhcmVdID0gdHVwbGU7XG4gIGxldCBuZXh0Q2FsbGVkID0gZmFsc2U7XG4gIGxldCBuZXh0UmVzdWx0ID0gdm9pZCAwO1xuICBsZXQgbmV4dCA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAobmV4dENhbGxlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiWW91IG1heSBvbmx5IGNhbGwgYG5leHQoKWAgb25jZSBwZXIgbWlkZGxld2FyZVwiKTtcbiAgICB9XG4gICAgbmV4dENhbGxlZCA9IHRydWU7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGNhbGxSb3V0ZU1pZGRsZXdhcmUoXG4gICAgICBhcmdzLFxuICAgICAgbWlkZGxld2FyZXMsXG4gICAgICBtaWRkbGV3YXJlU3RhdGUsXG4gICAgICBoYW5kbGVyLFxuICAgICAgaWR4ICsgMVxuICAgICk7XG4gICAgaWYgKG1pZGRsZXdhcmVTdGF0ZS5wcm9wYWdhdGVSZXN1bHQpIHtcbiAgICAgIG5leHRSZXN1bHQgPSByZXN1bHQ7XG4gICAgICByZXR1cm4gbmV4dFJlc3VsdDtcbiAgICB9XG4gIH07XG4gIHRyeSB7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IG1pZGRsZXdhcmUoXG4gICAgICB7XG4gICAgICAgIHJlcXVlc3Q6IGFyZ3MucmVxdWVzdCxcbiAgICAgICAgcGFyYW1zOiBhcmdzLnBhcmFtcyxcbiAgICAgICAgY29udGV4dDogYXJncy5jb250ZXh0XG4gICAgICB9LFxuICAgICAgbmV4dFxuICAgICk7XG4gICAgaWYgKG5leHRDYWxsZWQpIHtcbiAgICAgIGlmIChyZXN1bHQgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gbmV4dFJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBNaWRkbGV3YXJlRXJyb3IpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHRocm93IG5ldyBNaWRkbGV3YXJlRXJyb3Iocm91dGVJZCwgZSk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGNhbGxEYXRhU3RyYXRlZ3lJbXBsKGRhdGFTdHJhdGVneUltcGwsIHR5cGUsIHJlcXVlc3QsIG1hdGNoZXNUb0xvYWQsIG1hdGNoZXMsIGZldGNoZXJLZXksIG1hbmlmZXN0LCBtYXBSb3V0ZVByb3BlcnRpZXMyLCBzY29wZWRDb250ZXh0LCBlbmFibGVNaWRkbGV3YXJlKSB7XG4gIGxldCBsb2FkUm91dGVEZWZpbml0aW9uc1Byb21pc2VzID0gbWF0Y2hlcy5tYXAoXG4gICAgKG0pID0+IG0ucm91dGUubGF6eSA/IGxvYWRMYXp5Um91dGVNb2R1bGUobS5yb3V0ZSwgbWFwUm91dGVQcm9wZXJ0aWVzMiwgbWFuaWZlc3QpIDogdm9pZCAwXG4gICk7XG4gIGlmIChlbmFibGVNaWRkbGV3YXJlKSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwobG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlcyk7XG4gIH1cbiAgbGV0IGRzTWF0Y2hlcyA9IG1hdGNoZXMubWFwKChtYXRjaCwgaSkgPT4ge1xuICAgIGxldCBsb2FkUm91dGVQcm9taXNlID0gbG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlc1tpXTtcbiAgICBsZXQgc2hvdWxkTG9hZCA9IG1hdGNoZXNUb0xvYWQuc29tZSgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gbWF0Y2gucm91dGUuaWQpO1xuICAgIGxldCByZXNvbHZlID0gYXN5bmMgKGhhbmRsZXJPdmVycmlkZSkgPT4ge1xuICAgICAgaWYgKGhhbmRsZXJPdmVycmlkZSAmJiByZXF1ZXN0Lm1ldGhvZCA9PT0gXCJHRVRcIiAmJiAobWF0Y2gucm91dGUubGF6eSB8fCBtYXRjaC5yb3V0ZS5sb2FkZXIpKSB7XG4gICAgICAgIHNob3VsZExvYWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNob3VsZExvYWQgPyBjYWxsTG9hZGVyT3JBY3Rpb24oXG4gICAgICAgIHR5cGUsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIG1hdGNoLFxuICAgICAgICBsb2FkUm91dGVQcm9taXNlLFxuICAgICAgICBoYW5kbGVyT3ZlcnJpZGUsXG4gICAgICAgIHNjb3BlZENvbnRleHRcbiAgICAgICkgOiBQcm9taXNlLnJlc29sdmUoeyB0eXBlOiBcImRhdGFcIiAvKiBkYXRhICovLCByZXN1bHQ6IHZvaWQgMCB9KTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAuLi5tYXRjaCxcbiAgICAgIHNob3VsZExvYWQsXG4gICAgICByZXNvbHZlXG4gICAgfTtcbiAgfSk7XG4gIGxldCByZXN1bHRzID0gYXdhaXQgZGF0YVN0cmF0ZWd5SW1wbCh7XG4gICAgbWF0Y2hlczogZHNNYXRjaGVzLFxuICAgIHJlcXVlc3QsXG4gICAgcGFyYW1zOiBtYXRjaGVzWzBdLnBhcmFtcyxcbiAgICBmZXRjaGVyS2V5LFxuICAgIGNvbnRleHQ6IHNjb3BlZENvbnRleHRcbiAgfSk7XG4gIHRyeSB7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwobG9hZFJvdXRlRGVmaW5pdGlvbnNQcm9taXNlcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn1cbmFzeW5jIGZ1bmN0aW9uIGNhbGxMb2FkZXJPckFjdGlvbih0eXBlLCByZXF1ZXN0LCBtYXRjaCwgbG9hZFJvdXRlUHJvbWlzZSwgaGFuZGxlck92ZXJyaWRlLCBzY29wZWRDb250ZXh0KSB7XG4gIGxldCByZXN1bHQ7XG4gIGxldCBvblJlamVjdDtcbiAgbGV0IHJ1bkhhbmRsZXIgPSAoaGFuZGxlcikgPT4ge1xuICAgIGxldCByZWplY3Q7XG4gICAgbGV0IGFib3J0UHJvbWlzZSA9IG5ldyBQcm9taXNlKChfLCByKSA9PiByZWplY3QgPSByKTtcbiAgICBvblJlamVjdCA9ICgpID0+IHJlamVjdCgpO1xuICAgIHJlcXVlc3Quc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCBvblJlamVjdCk7XG4gICAgbGV0IGFjdHVhbEhhbmRsZXIgPSAoY3R4KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgICAgYFlvdSBjYW5ub3QgY2FsbCB0aGUgaGFuZGxlciBmb3IgYSByb3V0ZSB3aGljaCBkZWZpbmVzIGEgYm9vbGVhbiBcIiR7dHlwZX1cIiBbcm91dGVJZDogJHttYXRjaC5yb3V0ZS5pZH1dYFxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYW5kbGVyKFxuICAgICAgICB7XG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBwYXJhbXM6IG1hdGNoLnBhcmFtcyxcbiAgICAgICAgICBjb250ZXh0OiBzY29wZWRDb250ZXh0XG4gICAgICAgIH0sXG4gICAgICAgIC4uLmN0eCAhPT0gdm9pZCAwID8gW2N0eF0gOiBbXVxuICAgICAgKTtcbiAgICB9O1xuICAgIGxldCBoYW5kbGVyUHJvbWlzZSA9IChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgdmFsID0gYXdhaXQgKGhhbmRsZXJPdmVycmlkZSA/IGhhbmRsZXJPdmVycmlkZSgoY3R4KSA9PiBhY3R1YWxIYW5kbGVyKGN0eCkpIDogYWN0dWFsSGFuZGxlcigpKTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJkYXRhXCIsIHJlc3VsdDogdmFsIH07XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlIH07XG4gICAgICB9XG4gICAgfSkoKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yYWNlKFtoYW5kbGVyUHJvbWlzZSwgYWJvcnRQcm9taXNlXSk7XG4gIH07XG4gIHRyeSB7XG4gICAgbGV0IGhhbmRsZXIgPSBtYXRjaC5yb3V0ZVt0eXBlXTtcbiAgICBpZiAobG9hZFJvdXRlUHJvbWlzZSkge1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgbGV0IGhhbmRsZXJFcnJvcjtcbiAgICAgICAgbGV0IFt2YWx1ZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgLy8gSWYgdGhlIGhhbmRsZXIgdGhyb3dzLCBkb24ndCBsZXQgaXQgaW1tZWRpYXRlbHkgYnViYmxlIG91dCxcbiAgICAgICAgICAvLyBzaW5jZSB3ZSBuZWVkIHRvIGxldCB0aGUgbGF6eSgpIGV4ZWN1dGlvbiBmaW5pc2ggc28gd2Uga25vdyBpZiB0aGlzXG4gICAgICAgICAgLy8gcm91dGUgaGFzIGEgYm91bmRhcnkgdGhhdCBjYW4gaGFuZGxlIHRoZSBlcnJvclxuICAgICAgICAgIHJ1bkhhbmRsZXIoaGFuZGxlcikuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGhhbmRsZXJFcnJvciA9IGU7XG4gICAgICAgICAgfSksXG4gICAgICAgICAgbG9hZFJvdXRlUHJvbWlzZVxuICAgICAgICBdKTtcbiAgICAgICAgaWYgKGhhbmRsZXJFcnJvciAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgdGhyb3cgaGFuZGxlckVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXdhaXQgbG9hZFJvdXRlUHJvbWlzZTtcbiAgICAgICAgaGFuZGxlciA9IG1hdGNoLnJvdXRlW3R5cGVdO1xuICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHJ1bkhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJhY3Rpb25cIikge1xuICAgICAgICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgICAgICBsZXQgcGF0aG5hbWUgPSB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoO1xuICAgICAgICAgIHRocm93IGdldEludGVybmFsUm91dGVyRXJyb3IoNDA1LCB7XG4gICAgICAgICAgICBtZXRob2Q6IHJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgcGF0aG5hbWUsXG4gICAgICAgICAgICByb3V0ZUlkOiBtYXRjaC5yb3V0ZS5pZFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sIHJlc3VsdDogdm9pZCAwIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCFoYW5kbGVyKSB7XG4gICAgICBsZXQgdXJsID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XG4gICAgICBsZXQgcGF0aG5hbWUgPSB1cmwucGF0aG5hbWUgKyB1cmwuc2VhcmNoO1xuICAgICAgdGhyb3cgZ2V0SW50ZXJuYWxSb3V0ZXJFcnJvcig0MDQsIHtcbiAgICAgICAgcGF0aG5hbWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCBydW5IYW5kbGVyKGhhbmRsZXIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLywgcmVzdWx0OiBlIH07XG4gIH0gZmluYWxseSB7XG4gICAgaWYgKG9uUmVqZWN0KSB7XG4gICAgICByZXF1ZXN0LnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgb25SZWplY3QpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuYXN5bmMgZnVuY3Rpb24gY29udmVydERhdGFTdHJhdGVneVJlc3VsdFRvRGF0YVJlc3VsdChkYXRhU3RyYXRlZ3lSZXN1bHQpIHtcbiAgbGV0IHsgcmVzdWx0LCB0eXBlIH0gPSBkYXRhU3RyYXRlZ3lSZXN1bHQ7XG4gIGlmIChpc1Jlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICBsZXQgZGF0YTI7XG4gICAgdHJ5IHtcbiAgICAgIGxldCBjb250ZW50VHlwZSA9IHJlc3VsdC5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICAgIGlmIChjb250ZW50VHlwZSAmJiAvXFxiYXBwbGljYXRpb25cXC9qc29uXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSkge1xuICAgICAgICBpZiAocmVzdWx0LmJvZHkgPT0gbnVsbCkge1xuICAgICAgICAgIGRhdGEyID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkYXRhMiA9IGF3YWl0IHJlc3VsdC5qc29uKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEyID0gYXdhaXQgcmVzdWx0LnRleHQoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sIGVycm9yOiBlIH07XG4gICAgfVxuICAgIGlmICh0eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi8pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvclJlc3BvbnNlSW1wbChyZXN1bHQuc3RhdHVzLCByZXN1bHQuc3RhdHVzVGV4dCwgZGF0YTIpLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXN1bHQuc3RhdHVzLFxuICAgICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVyc1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sXG4gICAgICBkYXRhOiBkYXRhMixcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3VsdC5zdGF0dXMsXG4gICAgICBoZWFkZXJzOiByZXN1bHQuaGVhZGVyc1xuICAgIH07XG4gIH1cbiAgaWYgKHR5cGUgPT09IFwiZXJyb3JcIiAvKiBlcnJvciAqLykge1xuICAgIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkpIHtcbiAgICAgIGlmIChyZXN1bHQuZGF0YSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogXCJlcnJvclwiIC8qIGVycm9yICovLFxuICAgICAgICAgIGVycm9yOiByZXN1bHQuZGF0YSxcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXN1bHQuaW5pdD8uc3RhdHVzLFxuICAgICAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycykgOiB2b2lkIDBcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZXJyb3JcIiAvKiBlcnJvciAqLyxcbiAgICAgICAgZXJyb3I6IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgICByZXN1bHQuaW5pdD8uc3RhdHVzIHx8IDUwMCxcbiAgICAgICAgICB2b2lkIDAsXG4gICAgICAgICAgcmVzdWx0LmRhdGFcbiAgICAgICAgKSxcbiAgICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdC5zdGF0dXMgOiB2b2lkIDAsXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycykgOiB2b2lkIDBcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImVycm9yXCIgLyogZXJyb3IgKi8sXG4gICAgICBlcnJvcjogcmVzdWx0LFxuICAgICAgc3RhdHVzQ29kZTogaXNSb3V0ZUVycm9yUmVzcG9uc2UocmVzdWx0KSA/IHJlc3VsdC5zdGF0dXMgOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIGlmIChpc0RhdGFXaXRoUmVzcG9uc2VJbml0KHJlc3VsdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJkYXRhXCIgLyogZGF0YSAqLyxcbiAgICAgIGRhdGE6IHJlc3VsdC5kYXRhLFxuICAgICAgc3RhdHVzQ29kZTogcmVzdWx0LmluaXQ/LnN0YXR1cyxcbiAgICAgIGhlYWRlcnM6IHJlc3VsdC5pbml0Py5oZWFkZXJzID8gbmV3IEhlYWRlcnMocmVzdWx0LmluaXQuaGVhZGVycykgOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiIC8qIGRhdGEgKi8sIGRhdGE6IHJlc3VsdCB9O1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUmVsYXRpdmVSb3V0aW5nUmVkaXJlY3RSZXNwb25zZShyZXNwb25zZSwgcmVxdWVzdCwgcm91dGVJZCwgbWF0Y2hlcywgYmFzZW5hbWUpIHtcbiAgbGV0IGxvY2F0aW9uID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgaW52YXJpYW50KFxuICAgIGxvY2F0aW9uLFxuICAgIFwiUmVkaXJlY3RzIHJldHVybmVkL3Rocm93biBmcm9tIGxvYWRlcnMvYWN0aW9ucyBtdXN0IGhhdmUgYSBMb2NhdGlvbiBoZWFkZXJcIlxuICApO1xuICBpZiAoIUFCU09MVVRFX1VSTF9SRUdFWC50ZXN0KGxvY2F0aW9uKSkge1xuICAgIGxldCB0cmltbWVkTWF0Y2hlcyA9IG1hdGNoZXMuc2xpY2UoXG4gICAgICAwLFxuICAgICAgbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IG0ucm91dGUuaWQgPT09IHJvdXRlSWQpICsgMVxuICAgICk7XG4gICAgbG9jYXRpb24gPSBub3JtYWxpemVUbyhcbiAgICAgIG5ldyBVUkwocmVxdWVzdC51cmwpLFxuICAgICAgdHJpbW1lZE1hdGNoZXMsXG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGxvY2F0aW9uXG4gICAgKTtcbiAgICByZXNwb25zZS5oZWFkZXJzLnNldChcIkxvY2F0aW9uXCIsIGxvY2F0aW9uKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2U7XG59XG5mdW5jdGlvbiBub3JtYWxpemVSZWRpcmVjdExvY2F0aW9uKGxvY2F0aW9uLCBjdXJyZW50VXJsLCBiYXNlbmFtZSkge1xuICBpZiAoQUJTT0xVVEVfVVJMX1JFR0VYLnRlc3QobG9jYXRpb24pKSB7XG4gICAgbGV0IG5vcm1hbGl6ZWRMb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgIGxldCB1cmwgPSBub3JtYWxpemVkTG9jYXRpb24uc3RhcnRzV2l0aChcIi8vXCIpID8gbmV3IFVSTChjdXJyZW50VXJsLnByb3RvY29sICsgbm9ybWFsaXplZExvY2F0aW9uKSA6IG5ldyBVUkwobm9ybWFsaXplZExvY2F0aW9uKTtcbiAgICBsZXQgaXNTYW1lQmFzZW5hbWUgPSBzdHJpcEJhc2VuYW1lKHVybC5wYXRobmFtZSwgYmFzZW5hbWUpICE9IG51bGw7XG4gICAgaWYgKHVybC5vcmlnaW4gPT09IGN1cnJlbnRVcmwub3JpZ2luICYmIGlzU2FtZUJhc2VuYW1lKSB7XG4gICAgICByZXR1cm4gdXJsLnBhdGhuYW1lICsgdXJsLnNlYXJjaCArIHVybC5oYXNoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbG9jYXRpb247XG59XG5mdW5jdGlvbiBjcmVhdGVDbGllbnRTaWRlUmVxdWVzdChoaXN0b3J5LCBsb2NhdGlvbiwgc2lnbmFsLCBzdWJtaXNzaW9uKSB7XG4gIGxldCB1cmwgPSBoaXN0b3J5LmNyZWF0ZVVSTChzdHJpcEhhc2hGcm9tUGF0aChsb2NhdGlvbikpLnRvU3RyaW5nKCk7XG4gIGxldCBpbml0ID0geyBzaWduYWwgfTtcbiAgaWYgKHN1Ym1pc3Npb24gJiYgaXNNdXRhdGlvbk1ldGhvZChzdWJtaXNzaW9uLmZvcm1NZXRob2QpKSB7XG4gICAgbGV0IHsgZm9ybU1ldGhvZCwgZm9ybUVuY1R5cGUgfSA9IHN1Ym1pc3Npb247XG4gICAgaW5pdC5tZXRob2QgPSBmb3JtTWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gICAgaWYgKGZvcm1FbmNUeXBlID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgaW5pdC5oZWFkZXJzID0gbmV3IEhlYWRlcnMoeyBcIkNvbnRlbnQtVHlwZVwiOiBmb3JtRW5jVHlwZSB9KTtcbiAgICAgIGluaXQuYm9keSA9IEpTT04uc3RyaW5naWZ5KHN1Ym1pc3Npb24uanNvbik7XG4gICAgfSBlbHNlIGlmIChmb3JtRW5jVHlwZSA9PT0gXCJ0ZXh0L3BsYWluXCIpIHtcbiAgICAgIGluaXQuYm9keSA9IHN1Ym1pc3Npb24udGV4dDtcbiAgICB9IGVsc2UgaWYgKGZvcm1FbmNUeXBlID09PSBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICYmIHN1Ym1pc3Npb24uZm9ybURhdGEpIHtcbiAgICAgIGluaXQuYm9keSA9IGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKHN1Ym1pc3Npb24uZm9ybURhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0LmJvZHkgPSBzdWJtaXNzaW9uLmZvcm1EYXRhO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IFJlcXVlc3QodXJsLCBpbml0KTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRGb3JtRGF0YVRvU2VhcmNoUGFyYW1zKGZvcm1EYXRhKSB7XG4gIGxldCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHtcbiAgICBzZWFyY2hQYXJhbXMuYXBwZW5kKGtleSwgdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiID8gdmFsdWUgOiB2YWx1ZS5uYW1lKTtcbiAgfVxuICByZXR1cm4gc2VhcmNoUGFyYW1zO1xufVxuZnVuY3Rpb24gY29udmVydFNlYXJjaFBhcmFtc1RvRm9ybURhdGEoc2VhcmNoUGFyYW1zKSB7XG4gIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2Ygc2VhcmNoUGFyYW1zLmVudHJpZXMoKSkge1xuICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgfVxuICByZXR1cm4gZm9ybURhdGE7XG59XG5mdW5jdGlvbiBwcm9jZXNzUm91dGVMb2FkZXJEYXRhKG1hdGNoZXMsIHJlc3VsdHMsIHBlbmRpbmdBY3Rpb25SZXN1bHQsIGlzU3RhdGljSGFuZGxlciA9IGZhbHNlLCBza2lwTG9hZGVyRXJyb3JCdWJibGluZyA9IGZhbHNlKSB7XG4gIGxldCBsb2FkZXJEYXRhID0ge307XG4gIGxldCBlcnJvcnMgPSBudWxsO1xuICBsZXQgc3RhdHVzQ29kZTtcbiAgbGV0IGZvdW5kRXJyb3IgPSBmYWxzZTtcbiAgbGV0IGxvYWRlckhlYWRlcnMgPSB7fTtcbiAgbGV0IHBlbmRpbmdFcnJvciA9IHBlbmRpbmdBY3Rpb25SZXN1bHQgJiYgaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHBlbmRpbmdBY3Rpb25SZXN1bHRbMV0uZXJyb3IgOiB2b2lkIDA7XG4gIG1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+IHtcbiAgICBpZiAoIShtYXRjaC5yb3V0ZS5pZCBpbiByZXN1bHRzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgaWQgPSBtYXRjaC5yb3V0ZS5pZDtcbiAgICBsZXQgcmVzdWx0ID0gcmVzdWx0c1tpZF07XG4gICAgaW52YXJpYW50KFxuICAgICAgIWlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSxcbiAgICAgIFwiQ2Fubm90IGhhbmRsZSByZWRpcmVjdCByZXN1bHRzIGluIHByb2Nlc3NMb2FkZXJEYXRhXCJcbiAgICApO1xuICAgIGlmIChpc0Vycm9yUmVzdWx0KHJlc3VsdCkpIHtcbiAgICAgIGxldCBlcnJvciA9IHJlc3VsdC5lcnJvcjtcbiAgICAgIGlmIChwZW5kaW5nRXJyb3IgIT09IHZvaWQgMCkge1xuICAgICAgICBlcnJvciA9IHBlbmRpbmdFcnJvcjtcbiAgICAgICAgcGVuZGluZ0Vycm9yID0gdm9pZCAwO1xuICAgICAgfVxuICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IHt9O1xuICAgICAgaWYgKHNraXBMb2FkZXJFcnJvckJ1YmJsaW5nKSB7XG4gICAgICAgIGVycm9yc1tpZF0gPSBlcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBib3VuZGFyeU1hdGNoID0gZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCBpZCk7XG4gICAgICAgIGlmIChlcnJvcnNbYm91bmRhcnlNYXRjaC5yb3V0ZS5pZF0gPT0gbnVsbCkge1xuICAgICAgICAgIGVycm9yc1tib3VuZGFyeU1hdGNoLnJvdXRlLmlkXSA9IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIWlzU3RhdGljSGFuZGxlcikge1xuICAgICAgICBsb2FkZXJEYXRhW2lkXSA9IFJlc2V0TG9hZGVyRGF0YVN5bWJvbDtcbiAgICAgIH1cbiAgICAgIGlmICghZm91bmRFcnJvcikge1xuICAgICAgICBmb3VuZEVycm9yID0gdHJ1ZTtcbiAgICAgICAgc3RhdHVzQ29kZSA9IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5lcnJvcikgPyByZXN1bHQuZXJyb3Iuc3RhdHVzIDogNTAwO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdC5oZWFkZXJzKSB7XG4gICAgICAgIGxvYWRlckhlYWRlcnNbaWRdID0gcmVzdWx0LmhlYWRlcnM7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvYWRlckRhdGFbaWRdID0gcmVzdWx0LmRhdGE7XG4gICAgICBpZiAocmVzdWx0LnN0YXR1c0NvZGUgJiYgcmVzdWx0LnN0YXR1c0NvZGUgIT09IDIwMCAmJiAhZm91bmRFcnJvcikge1xuICAgICAgICBzdGF0dXNDb2RlID0gcmVzdWx0LnN0YXR1c0NvZGU7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0LmhlYWRlcnMpIHtcbiAgICAgICAgbG9hZGVySGVhZGVyc1tpZF0gPSByZXN1bHQuaGVhZGVycztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBpZiAocGVuZGluZ0Vycm9yICE9PSB2b2lkIDAgJiYgcGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIGVycm9ycyA9IHsgW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dOiBwZW5kaW5nRXJyb3IgfTtcbiAgICBsb2FkZXJEYXRhW3BlbmRpbmdBY3Rpb25SZXN1bHRbMF1dID0gdm9pZCAwO1xuICB9XG4gIHJldHVybiB7XG4gICAgbG9hZGVyRGF0YSxcbiAgICBlcnJvcnMsXG4gICAgc3RhdHVzQ29kZTogc3RhdHVzQ29kZSB8fCAyMDAsXG4gICAgbG9hZGVySGVhZGVyc1xuICB9O1xufVxuZnVuY3Rpb24gcHJvY2Vzc0xvYWRlckRhdGEoc3RhdGUsIG1hdGNoZXMsIHJlc3VsdHMsIHBlbmRpbmdBY3Rpb25SZXN1bHQsIHJldmFsaWRhdGluZ0ZldGNoZXJzLCBmZXRjaGVyUmVzdWx0cykge1xuICBsZXQgeyBsb2FkZXJEYXRhLCBlcnJvcnMgfSA9IHByb2Nlc3NSb3V0ZUxvYWRlckRhdGEoXG4gICAgbWF0Y2hlcyxcbiAgICByZXN1bHRzLFxuICAgIHBlbmRpbmdBY3Rpb25SZXN1bHRcbiAgKTtcbiAgcmV2YWxpZGF0aW5nRmV0Y2hlcnMuZm9yRWFjaCgocmYpID0+IHtcbiAgICBsZXQgeyBrZXksIG1hdGNoLCBjb250cm9sbGVyIH0gPSByZjtcbiAgICBsZXQgcmVzdWx0ID0gZmV0Y2hlclJlc3VsdHNba2V5XTtcbiAgICBpbnZhcmlhbnQocmVzdWx0LCBcIkRpZCBub3QgZmluZCBjb3JyZXNwb25kaW5nIGZldGNoZXIgcmVzdWx0XCIpO1xuICAgIGlmIChjb250cm9sbGVyICYmIGNvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGlzRXJyb3JSZXN1bHQocmVzdWx0KSkge1xuICAgICAgbGV0IGJvdW5kYXJ5TWF0Y2ggPSBmaW5kTmVhcmVzdEJvdW5kYXJ5KHN0YXRlLm1hdGNoZXMsIG1hdGNoPy5yb3V0ZS5pZCk7XG4gICAgICBpZiAoIShlcnJvcnMgJiYgZXJyb3JzW2JvdW5kYXJ5TWF0Y2gucm91dGUuaWRdKSkge1xuICAgICAgICBlcnJvcnMgPSB7XG4gICAgICAgICAgLi4uZXJyb3JzLFxuICAgICAgICAgIFtib3VuZGFyeU1hdGNoLnJvdXRlLmlkXTogcmVzdWx0LmVycm9yXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzdGF0ZS5mZXRjaGVycy5kZWxldGUoa2V5KTtcbiAgICB9IGVsc2UgaWYgKGlzUmVkaXJlY3RSZXN1bHQocmVzdWx0KSkge1xuICAgICAgaW52YXJpYW50KGZhbHNlLCBcIlVuaGFuZGxlZCBmZXRjaGVyIHJldmFsaWRhdGlvbiByZWRpcmVjdFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRvbmVGZXRjaGVyID0gZ2V0RG9uZUZldGNoZXIocmVzdWx0LmRhdGEpO1xuICAgICAgc3RhdGUuZmV0Y2hlcnMuc2V0KGtleSwgZG9uZUZldGNoZXIpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB7IGxvYWRlckRhdGEsIGVycm9ycyB9O1xufVxuZnVuY3Rpb24gbWVyZ2VMb2FkZXJEYXRhKGxvYWRlckRhdGEsIG5ld0xvYWRlckRhdGEsIG1hdGNoZXMsIGVycm9ycykge1xuICBsZXQgbWVyZ2VkTG9hZGVyRGF0YSA9IE9iamVjdC5lbnRyaWVzKG5ld0xvYWRlckRhdGEpLmZpbHRlcigoWywgdl0pID0+IHYgIT09IFJlc2V0TG9hZGVyRGF0YVN5bWJvbCkucmVkdWNlKChtZXJnZWQsIFtrLCB2XSkgPT4ge1xuICAgIG1lcmdlZFtrXSA9IHY7XG4gICAgcmV0dXJuIG1lcmdlZDtcbiAgfSwge30pO1xuICBmb3IgKGxldCBtYXRjaCBvZiBtYXRjaGVzKSB7XG4gICAgbGV0IGlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgaWYgKCFuZXdMb2FkZXJEYXRhLmhhc093blByb3BlcnR5KGlkKSAmJiBsb2FkZXJEYXRhLmhhc093blByb3BlcnR5KGlkKSAmJiBtYXRjaC5yb3V0ZS5sb2FkZXIpIHtcbiAgICAgIG1lcmdlZExvYWRlckRhdGFbaWRdID0gbG9hZGVyRGF0YVtpZF07XG4gICAgfVxuICAgIGlmIChlcnJvcnMgJiYgZXJyb3JzLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBtZXJnZWRMb2FkZXJEYXRhO1xufVxuZnVuY3Rpb24gZ2V0QWN0aW9uRGF0YUZvckNvbW1pdChwZW5kaW5nQWN0aW9uUmVzdWx0KSB7XG4gIGlmICghcGVuZGluZ0FjdGlvblJlc3VsdCkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuICByZXR1cm4gaXNFcnJvclJlc3VsdChwZW5kaW5nQWN0aW9uUmVzdWx0WzFdKSA/IHtcbiAgICAvLyBDbGVhciBvdXQgcHJpb3IgYWN0aW9uRGF0YSBvbiBlcnJvcnNcbiAgICBhY3Rpb25EYXRhOiB7fVxuICB9IDoge1xuICAgIGFjdGlvbkRhdGE6IHtcbiAgICAgIFtwZW5kaW5nQWN0aW9uUmVzdWx0WzBdXTogcGVuZGluZ0FjdGlvblJlc3VsdFsxXS5kYXRhXG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZmluZE5lYXJlc3RCb3VuZGFyeShtYXRjaGVzLCByb3V0ZUlkKSB7XG4gIGxldCBlbGlnaWJsZU1hdGNoZXMgPSByb3V0ZUlkID8gbWF0Y2hlcy5zbGljZSgwLCBtYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gbS5yb3V0ZS5pZCA9PT0gcm91dGVJZCkgKyAxKSA6IFsuLi5tYXRjaGVzXTtcbiAgcmV0dXJuIGVsaWdpYmxlTWF0Y2hlcy5yZXZlcnNlKCkuZmluZCgobSkgPT4gbS5yb3V0ZS5oYXNFcnJvckJvdW5kYXJ5ID09PSB0cnVlKSB8fCBtYXRjaGVzWzBdO1xufVxuZnVuY3Rpb24gZ2V0U2hvcnRDaXJjdWl0TWF0Y2hlcyhyb3V0ZXMpIHtcbiAgbGV0IHJvdXRlID0gcm91dGVzLmxlbmd0aCA9PT0gMSA/IHJvdXRlc1swXSA6IHJvdXRlcy5maW5kKChyKSA9PiByLmluZGV4IHx8ICFyLnBhdGggfHwgci5wYXRoID09PSBcIi9cIikgfHwge1xuICAgIGlkOiBgX19zaGltLWVycm9yLXJvdXRlX19gXG4gIH07XG4gIHJldHVybiB7XG4gICAgbWF0Y2hlczogW1xuICAgICAge1xuICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICBwYXRobmFtZTogXCJcIixcbiAgICAgICAgcGF0aG5hbWVCYXNlOiBcIlwiLFxuICAgICAgICByb3V0ZVxuICAgICAgfVxuICAgIF0sXG4gICAgcm91dGVcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEludGVybmFsUm91dGVyRXJyb3Ioc3RhdHVzLCB7XG4gIHBhdGhuYW1lLFxuICByb3V0ZUlkLFxuICBtZXRob2QsXG4gIHR5cGUsXG4gIG1lc3NhZ2Vcbn0gPSB7fSkge1xuICBsZXQgc3RhdHVzVGV4dCA9IFwiVW5rbm93biBTZXJ2ZXIgRXJyb3JcIjtcbiAgbGV0IGVycm9yTWVzc2FnZSA9IFwiVW5rbm93biBAcmVtaXgtcnVuL3JvdXRlciBlcnJvclwiO1xuICBpZiAoc3RhdHVzID09PSA0MDApIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJCYWQgUmVxdWVzdFwiO1xuICAgIGlmIChtZXRob2QgJiYgcGF0aG5hbWUgJiYgcm91dGVJZCkge1xuICAgICAgZXJyb3JNZXNzYWdlID0gYFlvdSBtYWRlIGEgJHttZXRob2R9IHJlcXVlc3QgdG8gXCIke3BhdGhuYW1lfVwiIGJ1dCBkaWQgbm90IHByb3ZpZGUgYSBcXGBsb2FkZXJcXGAgZm9yIHJvdXRlIFwiJHtyb3V0ZUlkfVwiLCBzbyB0aGVyZSBpcyBubyB3YXkgdG8gaGFuZGxlIHRoZSByZXF1ZXN0LmA7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcImludmFsaWQtYm9keVwiKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBcIlVuYWJsZSB0byBlbmNvZGUgc3VibWlzc2lvbiBib2R5XCI7XG4gICAgfVxuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDAzKSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiRm9yYmlkZGVuXCI7XG4gICAgZXJyb3JNZXNzYWdlID0gYFJvdXRlIFwiJHtyb3V0ZUlkfVwiIGRvZXMgbm90IG1hdGNoIFVSTCBcIiR7cGF0aG5hbWV9XCJgO1xuICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG4gICAgc3RhdHVzVGV4dCA9IFwiTm90IEZvdW5kXCI7XG4gICAgZXJyb3JNZXNzYWdlID0gYE5vIHJvdXRlIG1hdGNoZXMgVVJMIFwiJHtwYXRobmFtZX1cImA7XG4gIH0gZWxzZSBpZiAoc3RhdHVzID09PSA0MDUpIHtcbiAgICBzdGF0dXNUZXh0ID0gXCJNZXRob2QgTm90IEFsbG93ZWRcIjtcbiAgICBpZiAobWV0aG9kICYmIHBhdGhuYW1lICYmIHJvdXRlSWQpIHtcbiAgICAgIGVycm9yTWVzc2FnZSA9IGBZb3UgbWFkZSBhICR7bWV0aG9kLnRvVXBwZXJDYXNlKCl9IHJlcXVlc3QgdG8gXCIke3BhdGhuYW1lfVwiIGJ1dCBkaWQgbm90IHByb3ZpZGUgYW4gXFxgYWN0aW9uXFxgIGZvciByb3V0ZSBcIiR7cm91dGVJZH1cIiwgc28gdGhlcmUgaXMgbm8gd2F5IHRvIGhhbmRsZSB0aGUgcmVxdWVzdC5gO1xuICAgIH0gZWxzZSBpZiAobWV0aG9kKSB7XG4gICAgICBlcnJvck1lc3NhZ2UgPSBgSW52YWxpZCByZXF1ZXN0IG1ldGhvZCBcIiR7bWV0aG9kLnRvVXBwZXJDYXNlKCl9XCJgO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgIHN0YXR1cyB8fCA1MDAsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSxcbiAgICB0cnVlXG4gICk7XG59XG5mdW5jdGlvbiBmaW5kUmVkaXJlY3QocmVzdWx0cykge1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHJlc3VsdHMpO1xuICBmb3IgKGxldCBpID0gZW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGxldCBba2V5LCByZXN1bHRdID0gZW50cmllc1tpXTtcbiAgICBpZiAoaXNSZWRpcmVjdFJlc3VsdChyZXN1bHQpKSB7XG4gICAgICByZXR1cm4geyBrZXksIHJlc3VsdCB9O1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gc3RyaXBIYXNoRnJvbVBhdGgocGF0aCkge1xuICBsZXQgcGFyc2VkUGF0aCA9IHR5cGVvZiBwYXRoID09PSBcInN0cmluZ1wiID8gcGFyc2VQYXRoKHBhdGgpIDogcGF0aDtcbiAgcmV0dXJuIGNyZWF0ZVBhdGgoeyAuLi5wYXJzZWRQYXRoLCBoYXNoOiBcIlwiIH0pO1xufVxuZnVuY3Rpb24gaXNIYXNoQ2hhbmdlT25seShhLCBiKSB7XG4gIGlmIChhLnBhdGhuYW1lICE9PSBiLnBhdGhuYW1lIHx8IGEuc2VhcmNoICE9PSBiLnNlYXJjaCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoYS5oYXNoID09PSBcIlwiKSB7XG4gICAgcmV0dXJuIGIuaGFzaCAhPT0gXCJcIjtcbiAgfSBlbHNlIGlmIChhLmhhc2ggPT09IGIuaGFzaCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9IGVsc2UgaWYgKGIuaGFzaCAhPT0gXCJcIikge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzRGF0YVN0cmF0ZWd5UmVzdWx0KHJlc3VsdCkge1xuICByZXR1cm4gcmVzdWx0ICE9IG51bGwgJiYgdHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiByZXN1bHQgJiYgXCJyZXN1bHRcIiBpbiByZXN1bHQgJiYgKHJlc3VsdC50eXBlID09PSBcImRhdGFcIiAvKiBkYXRhICovIHx8IHJlc3VsdC50eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi8pO1xufVxuZnVuY3Rpb24gaXNSZWRpcmVjdERhdGFTdHJhdGVneVJlc3VsdChyZXN1bHQpIHtcbiAgcmV0dXJuIGlzUmVzcG9uc2UocmVzdWx0LnJlc3VsdCkgJiYgcmVkaXJlY3RTdGF0dXNDb2Rlcy5oYXMocmVzdWx0LnJlc3VsdC5zdGF0dXMpO1xufVxuZnVuY3Rpb24gaXNFcnJvclJlc3VsdChyZXN1bHQpIHtcbiAgcmV0dXJuIHJlc3VsdC50eXBlID09PSBcImVycm9yXCIgLyogZXJyb3IgKi87XG59XG5mdW5jdGlvbiBpc1JlZGlyZWN0UmVzdWx0KHJlc3VsdCkge1xuICByZXR1cm4gKHJlc3VsdCAmJiByZXN1bHQudHlwZSkgPT09IFwicmVkaXJlY3RcIiAvKiByZWRpcmVjdCAqLztcbn1cbmZ1bmN0aW9uIGlzRGF0YVdpdGhSZXNwb25zZUluaXQodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPSBudWxsICYmIFwidHlwZVwiIGluIHZhbHVlICYmIFwiZGF0YVwiIGluIHZhbHVlICYmIFwiaW5pdFwiIGluIHZhbHVlICYmIHZhbHVlLnR5cGUgPT09IFwiRGF0YVdpdGhSZXNwb25zZUluaXRcIjtcbn1cbmZ1bmN0aW9uIGlzUmVzcG9uc2UodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnN0YXR1cyA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgdmFsdWUuc3RhdHVzVGV4dCA9PT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgdmFsdWUuaGVhZGVycyA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUuYm9keSAhPT0gXCJ1bmRlZmluZWRcIjtcbn1cbmZ1bmN0aW9uIGlzUmVkaXJlY3RTdGF0dXNDb2RlKHN0YXR1c0NvZGUpIHtcbiAgcmV0dXJuIHJlZGlyZWN0U3RhdHVzQ29kZXMuaGFzKHN0YXR1c0NvZGUpO1xufVxuZnVuY3Rpb24gaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3VsdCkge1xuICByZXR1cm4gaXNSZXNwb25zZShyZXN1bHQpICYmIGlzUmVkaXJlY3RTdGF0dXNDb2RlKHJlc3VsdC5zdGF0dXMpICYmIHJlc3VsdC5oZWFkZXJzLmhhcyhcIkxvY2F0aW9uXCIpO1xufVxuZnVuY3Rpb24gaXNWYWxpZE1ldGhvZChtZXRob2QpIHtcbiAgcmV0dXJuIHZhbGlkUmVxdWVzdE1ldGhvZHMuaGFzKG1ldGhvZC50b1VwcGVyQ2FzZSgpKTtcbn1cbmZ1bmN0aW9uIGlzTXV0YXRpb25NZXRob2QobWV0aG9kKSB7XG4gIHJldHVybiB2YWxpZE11dGF0aW9uTWV0aG9kcy5oYXMobWV0aG9kLnRvVXBwZXJDYXNlKCkpO1xufVxuZnVuY3Rpb24gaGFzTmFrZWRJbmRleFF1ZXJ5KHNlYXJjaCkge1xuICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhzZWFyY2gpLmdldEFsbChcImluZGV4XCIpLnNvbWUoKHYpID0+IHYgPT09IFwiXCIpO1xufVxuZnVuY3Rpb24gZ2V0VGFyZ2V0TWF0Y2gobWF0Y2hlcywgbG9jYXRpb24pIHtcbiAgbGV0IHNlYXJjaCA9IHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJzdHJpbmdcIiA/IHBhcnNlUGF0aChsb2NhdGlvbikuc2VhcmNoIDogbG9jYXRpb24uc2VhcmNoO1xuICBpZiAobWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLmluZGV4ICYmIGhhc05ha2VkSW5kZXhRdWVyeShzZWFyY2ggfHwgXCJcIikpIHtcbiAgICByZXR1cm4gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICB9XG4gIGxldCBwYXRoTWF0Y2hlcyA9IGdldFBhdGhDb250cmlidXRpbmdNYXRjaGVzKG1hdGNoZXMpO1xuICByZXR1cm4gcGF0aE1hdGNoZXNbcGF0aE1hdGNoZXMubGVuZ3RoIC0gMV07XG59XG5mdW5jdGlvbiBnZXRTdWJtaXNzaW9uRnJvbU5hdmlnYXRpb24obmF2aWdhdGlvbikge1xuICBsZXQgeyBmb3JtTWV0aG9kLCBmb3JtQWN0aW9uLCBmb3JtRW5jVHlwZSwgdGV4dCwgZm9ybURhdGEsIGpzb24gfSA9IG5hdmlnYXRpb247XG4gIGlmICghZm9ybU1ldGhvZCB8fCAhZm9ybUFjdGlvbiB8fCAhZm9ybUVuY1R5cGUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHRleHQgIT0gbnVsbCkge1xuICAgIHJldHVybiB7XG4gICAgICBmb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbixcbiAgICAgIGZvcm1FbmNUeXBlLFxuICAgICAgZm9ybURhdGE6IHZvaWQgMCxcbiAgICAgIGpzb246IHZvaWQgMCxcbiAgICAgIHRleHRcbiAgICB9O1xuICB9IGVsc2UgaWYgKGZvcm1EYXRhICE9IG51bGwpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhLFxuICAgICAganNvbjogdm9pZCAwLFxuICAgICAgdGV4dDogdm9pZCAwXG4gICAgfTtcbiAgfSBlbHNlIGlmIChqc29uICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgZm9ybU1ldGhvZCxcbiAgICAgIGZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICBqc29uLFxuICAgICAgdGV4dDogdm9pZCAwXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0TG9hZGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pIHtcbiAgaWYgKHN1Ym1pc3Npb24pIHtcbiAgICBsZXQgbmF2aWdhdGlvbiA9IHtcbiAgICAgIHN0YXRlOiBcImxvYWRpbmdcIixcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgICAgZm9ybUFjdGlvbjogc3VibWlzc2lvbi5mb3JtQWN0aW9uLFxuICAgICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICAgIGpzb246IHN1Ym1pc3Npb24uanNvbixcbiAgICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dFxuICAgIH07XG4gICAgcmV0dXJuIG5hdmlnYXRpb247XG4gIH0gZWxzZSB7XG4gICAgbGV0IG5hdmlnYXRpb24gPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgICAgIGZvcm1BY3Rpb246IHZvaWQgMCxcbiAgICAgIGZvcm1FbmNUeXBlOiB2b2lkIDAsXG4gICAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgICAganNvbjogdm9pZCAwLFxuICAgICAgdGV4dDogdm9pZCAwXG4gICAgfTtcbiAgICByZXR1cm4gbmF2aWdhdGlvbjtcbiAgfVxufVxuZnVuY3Rpb24gZ2V0U3VibWl0dGluZ05hdmlnYXRpb24obG9jYXRpb24sIHN1Ym1pc3Npb24pIHtcbiAgbGV0IG5hdmlnYXRpb24gPSB7XG4gICAgc3RhdGU6IFwic3VibWl0dGluZ1wiLFxuICAgIGxvY2F0aW9uLFxuICAgIGZvcm1NZXRob2Q6IHN1Ym1pc3Npb24uZm9ybU1ldGhvZCxcbiAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgZm9ybUVuY1R5cGU6IHN1Ym1pc3Npb24uZm9ybUVuY1R5cGUsXG4gICAgZm9ybURhdGE6IHN1Ym1pc3Npb24uZm9ybURhdGEsXG4gICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgIHRleHQ6IHN1Ym1pc3Npb24udGV4dFxuICB9O1xuICByZXR1cm4gbmF2aWdhdGlvbjtcbn1cbmZ1bmN0aW9uIGdldExvYWRpbmdGZXRjaGVyKHN1Ym1pc3Npb24sIGRhdGEyKSB7XG4gIGlmIChzdWJtaXNzaW9uKSB7XG4gICAgbGV0IGZldGNoZXIgPSB7XG4gICAgICBzdGF0ZTogXCJsb2FkaW5nXCIsXG4gICAgICBmb3JtTWV0aG9kOiBzdWJtaXNzaW9uLmZvcm1NZXRob2QsXG4gICAgICBmb3JtQWN0aW9uOiBzdWJtaXNzaW9uLmZvcm1BY3Rpb24sXG4gICAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICAgIGZvcm1EYXRhOiBzdWJtaXNzaW9uLmZvcm1EYXRhLFxuICAgICAganNvbjogc3VibWlzc2lvbi5qc29uLFxuICAgICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LFxuICAgICAgZGF0YTogZGF0YTJcbiAgICB9O1xuICAgIHJldHVybiBmZXRjaGVyO1xuICB9IGVsc2Uge1xuICAgIGxldCBmZXRjaGVyID0ge1xuICAgICAgc3RhdGU6IFwibG9hZGluZ1wiLFxuICAgICAgZm9ybU1ldGhvZDogdm9pZCAwLFxuICAgICAgZm9ybUFjdGlvbjogdm9pZCAwLFxuICAgICAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgICAgIGZvcm1EYXRhOiB2b2lkIDAsXG4gICAgICBqc29uOiB2b2lkIDAsXG4gICAgICB0ZXh0OiB2b2lkIDAsXG4gICAgICBkYXRhOiBkYXRhMlxuICAgIH07XG4gICAgcmV0dXJuIGZldGNoZXI7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFN1Ym1pdHRpbmdGZXRjaGVyKHN1Ym1pc3Npb24sIGV4aXN0aW5nRmV0Y2hlcikge1xuICBsZXQgZmV0Y2hlciA9IHtcbiAgICBzdGF0ZTogXCJzdWJtaXR0aW5nXCIsXG4gICAgZm9ybU1ldGhvZDogc3VibWlzc2lvbi5mb3JtTWV0aG9kLFxuICAgIGZvcm1BY3Rpb246IHN1Ym1pc3Npb24uZm9ybUFjdGlvbixcbiAgICBmb3JtRW5jVHlwZTogc3VibWlzc2lvbi5mb3JtRW5jVHlwZSxcbiAgICBmb3JtRGF0YTogc3VibWlzc2lvbi5mb3JtRGF0YSxcbiAgICBqc29uOiBzdWJtaXNzaW9uLmpzb24sXG4gICAgdGV4dDogc3VibWlzc2lvbi50ZXh0LFxuICAgIGRhdGE6IGV4aXN0aW5nRmV0Y2hlciA/IGV4aXN0aW5nRmV0Y2hlci5kYXRhIDogdm9pZCAwXG4gIH07XG4gIHJldHVybiBmZXRjaGVyO1xufVxuZnVuY3Rpb24gZ2V0RG9uZUZldGNoZXIoZGF0YTIpIHtcbiAgbGV0IGZldGNoZXIgPSB7XG4gICAgc3RhdGU6IFwiaWRsZVwiLFxuICAgIGZvcm1NZXRob2Q6IHZvaWQgMCxcbiAgICBmb3JtQWN0aW9uOiB2b2lkIDAsXG4gICAgZm9ybUVuY1R5cGU6IHZvaWQgMCxcbiAgICBmb3JtRGF0YTogdm9pZCAwLFxuICAgIGpzb246IHZvaWQgMCxcbiAgICB0ZXh0OiB2b2lkIDAsXG4gICAgZGF0YTogZGF0YTJcbiAgfTtcbiAgcmV0dXJuIGZldGNoZXI7XG59XG5mdW5jdGlvbiByZXN0b3JlQXBwbGllZFRyYW5zaXRpb25zKF93aW5kb3csIHRyYW5zaXRpb25zKSB7XG4gIHRyeSB7XG4gICAgbGV0IHNlc3Npb25Qb3NpdGlvbnMgPSBfd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXG4gICAgICBUUkFOU0lUSU9OU19TVE9SQUdFX0tFWVxuICAgICk7XG4gICAgaWYgKHNlc3Npb25Qb3NpdGlvbnMpIHtcbiAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShzZXNzaW9uUG9zaXRpb25zKTtcbiAgICAgIGZvciAobGV0IFtrLCB2XSBvZiBPYmplY3QuZW50cmllcyhqc29uIHx8IHt9KSkge1xuICAgICAgICBpZiAodiAmJiBBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgICAgdHJhbnNpdGlvbnMuc2V0KGssIG5ldyBTZXQodiB8fCBbXSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gIH1cbn1cbmZ1bmN0aW9uIHBlcnNpc3RBcHBsaWVkVHJhbnNpdGlvbnMoX3dpbmRvdywgdHJhbnNpdGlvbnMpIHtcbiAgaWYgKHRyYW5zaXRpb25zLnNpemUgPiAwKSB7XG4gICAgbGV0IGpzb24gPSB7fTtcbiAgICBmb3IgKGxldCBbaywgdl0gb2YgdHJhbnNpdGlvbnMpIHtcbiAgICAgIGpzb25ba10gPSBbLi4udl07XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBfd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgIFRSQU5TSVRJT05TX1NUT1JBR0VfS0VZLFxuICAgICAgICBKU09OLnN0cmluZ2lmeShqc29uKVxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgZmFsc2UsXG4gICAgICAgIGBGYWlsZWQgdG8gc2F2ZSBhcHBsaWVkIHZpZXcgdHJhbnNpdGlvbnMgaW4gc2Vzc2lvblN0b3JhZ2UgKCR7ZXJyb3J9KS5gXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlRGVmZXJyZWQoKSB7XG4gIGxldCByZXNvbHZlO1xuICBsZXQgcmVqZWN0O1xuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXMsIHJlaikgPT4ge1xuICAgIHJlc29sdmUgPSBhc3luYyAodmFsKSA9PiB7XG4gICAgICByZXModmFsKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfTtcbiAgICByZWplY3QgPSBhc3luYyAoZXJyb3IpID0+IHtcbiAgICAgIHJlaihlcnJvcik7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHByb21pc2UsXG4gICAgLy9AdHMtaWdub3JlXG4gICAgcmVzb2x2ZSxcbiAgICAvL0B0cy1pZ25vcmVcbiAgICByZWplY3RcbiAgfTtcbn1cblxuLy8gbGliL2NvbXBvbmVudHMudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDMgZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9jb250ZXh0LnRzXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbnZhciBEYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQobnVsbCk7XG5EYXRhUm91dGVyQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRGF0YVJvdXRlclwiO1xudmFyIERhdGFSb3V0ZXJTdGF0ZUNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuRGF0YVJvdXRlclN0YXRlQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRGF0YVJvdXRlclN0YXRlXCI7XG52YXIgVmlld1RyYW5zaXRpb25Db250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gIGlzVHJhbnNpdGlvbmluZzogZmFsc2Vcbn0pO1xuVmlld1RyYW5zaXRpb25Db250ZXh0LmRpc3BsYXlOYW1lID0gXCJWaWV3VHJhbnNpdGlvblwiO1xudmFyIEZldGNoZXJzQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoXG4gIC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKClcbik7XG5GZXRjaGVyc0NvbnRleHQuZGlzcGxheU5hbWUgPSBcIkZldGNoZXJzXCI7XG52YXIgQXdhaXRDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dChudWxsKTtcbkF3YWl0Q29udGV4dC5kaXNwbGF5TmFtZSA9IFwiQXdhaXRcIjtcbnZhciBOYXZpZ2F0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoXG4gIG51bGxcbik7XG5OYXZpZ2F0aW9uQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiTmF2aWdhdGlvblwiO1xudmFyIExvY2F0aW9uQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQoXG4gIG51bGxcbik7XG5Mb2NhdGlvbkNvbnRleHQuZGlzcGxheU5hbWUgPSBcIkxvY2F0aW9uXCI7XG52YXIgUm91dGVDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7XG4gIG91dGxldDogbnVsbCxcbiAgbWF0Y2hlczogW10sXG4gIGlzRGF0YVJvdXRlOiBmYWxzZVxufSk7XG5Sb3V0ZUNvbnRleHQuZGlzcGxheU5hbWUgPSBcIlJvdXRlXCI7XG52YXIgUm91dGVFcnJvckNvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KG51bGwpO1xuUm91dGVFcnJvckNvbnRleHQuZGlzcGxheU5hbWUgPSBcIlJvdXRlRXJyb3JcIjtcblxuLy8gbGliL2hvb2tzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyIGZyb20gXCJyZWFjdFwiO1xudmFyIEVOQUJMRV9ERVZfV0FSTklOR1MgPSB0cnVlO1xuZnVuY3Rpb24gdXNlSHJlZih0bywgeyByZWxhdGl2ZSB9ID0ge30pIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlSHJlZigpIG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgeyBiYXNlbmFtZSwgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyIH0gPSBSZWFjdDIudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IGhhc2gsIHBhdGhuYW1lLCBzZWFyY2ggfSA9IHVzZVJlc29sdmVkUGF0aCh0bywgeyByZWxhdGl2ZSB9KTtcbiAgbGV0IGpvaW5lZFBhdGhuYW1lID0gcGF0aG5hbWU7XG4gIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICBqb2luZWRQYXRobmFtZSA9IHBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aG5hbWVdKTtcbiAgfVxuICByZXR1cm4gbmF2aWdhdG9yMi5jcmVhdGVIcmVmKHsgcGF0aG5hbWU6IGpvaW5lZFBhdGhuYW1lLCBzZWFyY2gsIGhhc2ggfSk7XG59XG5mdW5jdGlvbiB1c2VJblJvdXRlckNvbnRleHQoKSB7XG4gIHJldHVybiBSZWFjdDIudXNlQ29udGV4dChMb2NhdGlvbkNvbnRleHQpICE9IG51bGw7XG59XG5mdW5jdGlvbiB1c2VMb2NhdGlvbigpIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlTG9jYXRpb24oKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgcmV0dXJuIFJlYWN0Mi51c2VDb250ZXh0KExvY2F0aW9uQ29udGV4dCkubG9jYXRpb247XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0aW9uVHlwZSgpIHtcbiAgcmV0dXJuIFJlYWN0Mi51c2VDb250ZXh0KExvY2F0aW9uQ29udGV4dCkubmF2aWdhdGlvblR5cGU7XG59XG5mdW5jdGlvbiB1c2VNYXRjaChwYXR0ZXJuKSB7XG4gIGludmFyaWFudChcbiAgICB1c2VJblJvdXRlckNvbnRleHQoKSxcbiAgICAvLyBUT0RPOiBUaGlzIGVycm9yIGlzIHByb2JhYmx5IGJlY2F1c2UgdGhleSBzb21laG93IGhhdmUgMiB2ZXJzaW9ucyBvZiB0aGVcbiAgICAvLyByb3V0ZXIgbG9hZGVkLiBXZSBjYW4gaGVscCB0aGVtIHVuZGVyc3RhbmQgaG93IHRvIGF2b2lkIHRoYXQuXG4gICAgYHVzZU1hdGNoKCkgbWF5IGJlIHVzZWQgb25seSBpbiB0aGUgY29udGV4dCBvZiBhIDxSb3V0ZXI+IGNvbXBvbmVudC5gXG4gICk7XG4gIGxldCB7IHBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICByZXR1cm4gUmVhY3QyLnVzZU1lbW8oXG4gICAgKCkgPT4gbWF0Y2hQYXRoKHBhdHRlcm4sIGRlY29kZVBhdGgocGF0aG5hbWUpKSxcbiAgICBbcGF0aG5hbWUsIHBhdHRlcm5dXG4gICk7XG59XG52YXIgbmF2aWdhdGVFZmZlY3RXYXJuaW5nID0gYFlvdSBzaG91bGQgY2FsbCBuYXZpZ2F0ZSgpIGluIGEgUmVhY3QudXNlRWZmZWN0KCksIG5vdCB3aGVuIHlvdXIgY29tcG9uZW50IGlzIGZpcnN0IHJlbmRlcmVkLmA7XG5mdW5jdGlvbiB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGNiKSB7XG4gIGxldCBpc1N0YXRpYyA9IFJlYWN0Mi51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KS5zdGF0aWM7XG4gIGlmICghaXNTdGF0aWMpIHtcbiAgICBSZWFjdDIudXNlTGF5b3V0RWZmZWN0KGNiKTtcbiAgfVxufVxuZnVuY3Rpb24gdXNlTmF2aWdhdGUoKSB7XG4gIGxldCB7IGlzRGF0YVJvdXRlIH0gPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICByZXR1cm4gaXNEYXRhUm91dGUgPyB1c2VOYXZpZ2F0ZVN0YWJsZSgpIDogdXNlTmF2aWdhdGVVbnN0YWJsZSgpO1xufVxuZnVuY3Rpb24gdXNlTmF2aWdhdGVVbnN0YWJsZSgpIHtcbiAgaW52YXJpYW50KFxuICAgIHVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIC8vIFRPRE86IFRoaXMgZXJyb3IgaXMgcHJvYmFibHkgYmVjYXVzZSB0aGV5IHNvbWVob3cgaGF2ZSAyIHZlcnNpb25zIG9mIHRoZVxuICAgIC8vIHJvdXRlciBsb2FkZWQuIFdlIGNhbiBoZWxwIHRoZW0gdW5kZXJzdGFuZCBob3cgdG8gYXZvaWQgdGhhdC5cbiAgICBgdXNlTmF2aWdhdGUoKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IGRhdGFSb3V0ZXJDb250ZXh0ID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBsZXQgeyBiYXNlbmFtZSwgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyIH0gPSBSZWFjdDIudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgcm91dGVQYXRobmFtZXNKc29uID0gSlNPTi5zdHJpbmdpZnkoZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzKSk7XG4gIGxldCBhY3RpdmVSZWYgPSBSZWFjdDIudXNlUmVmKGZhbHNlKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgYWN0aXZlUmVmLmN1cnJlbnQgPSB0cnVlO1xuICB9KTtcbiAgbGV0IG5hdmlnYXRlID0gUmVhY3QyLnVzZUNhbGxiYWNrKFxuICAgICh0bywgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICB3YXJuaW5nKGFjdGl2ZVJlZi5jdXJyZW50LCBuYXZpZ2F0ZUVmZmVjdFdhcm5pbmcpO1xuICAgICAgaWYgKCFhY3RpdmVSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgaWYgKHR5cGVvZiB0byA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBuYXZpZ2F0b3IyLmdvKHRvKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHBhdGggPSByZXNvbHZlVG8oXG4gICAgICAgIHRvLFxuICAgICAgICBKU09OLnBhcnNlKHJvdXRlUGF0aG5hbWVzSnNvbiksXG4gICAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICAgIG9wdGlvbnMucmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICAgICApO1xuICAgICAgaWYgKGRhdGFSb3V0ZXJDb250ZXh0ID09IG51bGwgJiYgYmFzZW5hbWUgIT09IFwiL1wiKSB7XG4gICAgICAgIHBhdGgucGF0aG5hbWUgPSBwYXRoLnBhdGhuYW1lID09PSBcIi9cIiA/IGJhc2VuYW1lIDogam9pblBhdGhzKFtiYXNlbmFtZSwgcGF0aC5wYXRobmFtZV0pO1xuICAgICAgfVxuICAgICAgKCEhb3B0aW9ucy5yZXBsYWNlID8gbmF2aWdhdG9yMi5yZXBsYWNlIDogbmF2aWdhdG9yMi5wdXNoKShcbiAgICAgICAgcGF0aCxcbiAgICAgICAgb3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgb3B0aW9uc1xuICAgICAgKTtcbiAgICB9LFxuICAgIFtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbmF2aWdhdG9yMixcbiAgICAgIHJvdXRlUGF0aG5hbWVzSnNvbixcbiAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICBkYXRhUm91dGVyQ29udGV4dFxuICAgIF1cbiAgKTtcbiAgcmV0dXJuIG5hdmlnYXRlO1xufVxudmFyIE91dGxldENvbnRleHQgPSBSZWFjdDIuY3JlYXRlQ29udGV4dChudWxsKTtcbmZ1bmN0aW9uIHVzZU91dGxldENvbnRleHQoKSB7XG4gIHJldHVybiBSZWFjdDIudXNlQ29udGV4dChPdXRsZXRDb250ZXh0KTtcbn1cbmZ1bmN0aW9uIHVzZU91dGxldChjb250ZXh0KSB7XG4gIGxldCBvdXRsZXQgPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpLm91dGxldDtcbiAgaWYgKG91dGxldCkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoT3V0bGV0Q29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dCB9LCBvdXRsZXQpO1xuICB9XG4gIHJldHVybiBvdXRsZXQ7XG59XG5mdW5jdGlvbiB1c2VQYXJhbXMoKSB7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZU1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGFyYW1zIDoge307XG59XG5mdW5jdGlvbiB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmUgfSA9IHt9KSB7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgcm91dGVQYXRobmFtZXNKc29uID0gSlNPTi5zdHJpbmdpZnkoZ2V0UmVzb2x2ZVRvTWF0Y2hlcyhtYXRjaGVzKSk7XG4gIHJldHVybiBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiByZXNvbHZlVG8oXG4gICAgICB0byxcbiAgICAgIEpTT04ucGFyc2Uocm91dGVQYXRobmFtZXNKc29uKSxcbiAgICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgICByZWxhdGl2ZSA9PT0gXCJwYXRoXCJcbiAgICApLFxuICAgIFt0bywgcm91dGVQYXRobmFtZXNKc29uLCBsb2NhdGlvblBhdGhuYW1lLCByZWxhdGl2ZV1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlcyhyb3V0ZXMsIGxvY2F0aW9uQXJnKSB7XG4gIHJldHVybiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgbG9jYXRpb25BcmcpO1xufVxuZnVuY3Rpb24gdXNlUm91dGVzSW1wbChyb3V0ZXMsIGxvY2F0aW9uQXJnLCBkYXRhUm91dGVyU3RhdGUsIGZ1dHVyZSkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2YgdGhlXG4gICAgLy8gcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGB1c2VSb3V0ZXMoKSBtYXkgYmUgdXNlZCBvbmx5IGluIHRoZSBjb250ZXh0IG9mIGEgPFJvdXRlcj4gY29tcG9uZW50LmBcbiAgKTtcbiAgbGV0IHsgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLCBzdGF0aWM6IGlzU3RhdGljIH0gPSBSZWFjdDIudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCB7IG1hdGNoZXM6IHBhcmVudE1hdGNoZXMgfSA9IFJlYWN0Mi51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCByb3V0ZU1hdGNoID0gcGFyZW50TWF0Y2hlc1twYXJlbnRNYXRjaGVzLmxlbmd0aCAtIDFdO1xuICBsZXQgcGFyZW50UGFyYW1zID0gcm91dGVNYXRjaCA/IHJvdXRlTWF0Y2gucGFyYW1zIDoge307XG4gIGxldCBwYXJlbnRQYXRobmFtZSA9IHJvdXRlTWF0Y2ggPyByb3V0ZU1hdGNoLnBhdGhuYW1lIDogXCIvXCI7XG4gIGxldCBwYXJlbnRQYXRobmFtZUJhc2UgPSByb3V0ZU1hdGNoID8gcm91dGVNYXRjaC5wYXRobmFtZUJhc2UgOiBcIi9cIjtcbiAgbGV0IHBhcmVudFJvdXRlID0gcm91dGVNYXRjaCAmJiByb3V0ZU1hdGNoLnJvdXRlO1xuICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUykge1xuICAgIGxldCBwYXJlbnRQYXRoID0gcGFyZW50Um91dGUgJiYgcGFyZW50Um91dGUucGF0aCB8fCBcIlwiO1xuICAgIHdhcm5pbmdPbmNlKFxuICAgICAgcGFyZW50UGF0aG5hbWUsXG4gICAgICAhcGFyZW50Um91dGUgfHwgcGFyZW50UGF0aC5lbmRzV2l0aChcIipcIikgfHwgcGFyZW50UGF0aC5lbmRzV2l0aChcIio/XCIpLFxuICAgICAgYFlvdSByZW5kZXJlZCBkZXNjZW5kYW50IDxSb3V0ZXM+IChvciBjYWxsZWQgXFxgdXNlUm91dGVzKClcXGApIGF0IFwiJHtwYXJlbnRQYXRobmFtZX1cIiAodW5kZXIgPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGh9XCI+KSBidXQgdGhlIHBhcmVudCByb3V0ZSBwYXRoIGhhcyBubyB0cmFpbGluZyBcIipcIi4gVGhpcyBtZWFucyBpZiB5b3UgbmF2aWdhdGUgZGVlcGVyLCB0aGUgcGFyZW50IHdvbid0IG1hdGNoIGFueW1vcmUgYW5kIHRoZXJlZm9yZSB0aGUgY2hpbGQgcm91dGVzIHdpbGwgbmV2ZXIgcmVuZGVyLlxuXG5QbGVhc2UgY2hhbmdlIHRoZSBwYXJlbnQgPFJvdXRlIHBhdGg9XCIke3BhcmVudFBhdGh9XCI+IHRvIDxSb3V0ZSBwYXRoPVwiJHtwYXJlbnRQYXRoID09PSBcIi9cIiA/IFwiKlwiIDogYCR7cGFyZW50UGF0aH0vKmB9XCI+LmBcbiAgICApO1xuICB9XG4gIGxldCBsb2NhdGlvbkZyb21Db250ZXh0ID0gdXNlTG9jYXRpb24oKTtcbiAgbGV0IGxvY2F0aW9uO1xuICBpZiAobG9jYXRpb25BcmcpIHtcbiAgICBsZXQgcGFyc2VkTG9jYXRpb25BcmcgPSB0eXBlb2YgbG9jYXRpb25BcmcgPT09IFwic3RyaW5nXCIgPyBwYXJzZVBhdGgobG9jYXRpb25BcmcpIDogbG9jYXRpb25Bcmc7XG4gICAgaW52YXJpYW50KFxuICAgICAgcGFyZW50UGF0aG5hbWVCYXNlID09PSBcIi9cIiB8fCBwYXJzZWRMb2NhdGlvbkFyZy5wYXRobmFtZT8uc3RhcnRzV2l0aChwYXJlbnRQYXRobmFtZUJhc2UpLFxuICAgICAgYFdoZW4gb3ZlcnJpZGluZyB0aGUgbG9jYXRpb24gdXNpbmcgXFxgPFJvdXRlcyBsb2NhdGlvbj5cXGAgb3IgXFxgdXNlUm91dGVzKHJvdXRlcywgbG9jYXRpb24pXFxgLCB0aGUgbG9jYXRpb24gcGF0aG5hbWUgbXVzdCBiZWdpbiB3aXRoIHRoZSBwb3J0aW9uIG9mIHRoZSBVUkwgcGF0aG5hbWUgdGhhdCB3YXMgbWF0Y2hlZCBieSBhbGwgcGFyZW50IHJvdXRlcy4gVGhlIGN1cnJlbnQgcGF0aG5hbWUgYmFzZSBpcyBcIiR7cGFyZW50UGF0aG5hbWVCYXNlfVwiIGJ1dCBwYXRobmFtZSBcIiR7cGFyc2VkTG9jYXRpb25BcmcucGF0aG5hbWV9XCIgd2FzIGdpdmVuIGluIHRoZSBcXGBsb2NhdGlvblxcYCBwcm9wLmBcbiAgICApO1xuICAgIGxvY2F0aW9uID0gcGFyc2VkTG9jYXRpb25Bcmc7XG4gIH0gZWxzZSB7XG4gICAgbG9jYXRpb24gPSBsb2NhdGlvbkZyb21Db250ZXh0O1xuICB9XG4gIGxldCBwYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lIHx8IFwiL1wiO1xuICBsZXQgcmVtYWluaW5nUGF0aG5hbWUgPSBwYXRobmFtZTtcbiAgaWYgKHBhcmVudFBhdGhuYW1lQmFzZSAhPT0gXCIvXCIpIHtcbiAgICBsZXQgcGFyZW50U2VnbWVudHMgPSBwYXJlbnRQYXRobmFtZUJhc2UucmVwbGFjZSgvXlxcLy8sIFwiXCIpLnNwbGl0KFwiL1wiKTtcbiAgICBsZXQgc2VnbWVudHMgPSBwYXRobmFtZS5yZXBsYWNlKC9eXFwvLywgXCJcIikuc3BsaXQoXCIvXCIpO1xuICAgIHJlbWFpbmluZ1BhdGhuYW1lID0gXCIvXCIgKyBzZWdtZW50cy5zbGljZShwYXJlbnRTZWdtZW50cy5sZW5ndGgpLmpvaW4oXCIvXCIpO1xuICB9XG4gIGxldCBtYXRjaGVzID0gIWlzU3RhdGljICYmIGRhdGFSb3V0ZXJTdGF0ZSAmJiBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcyAmJiBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcy5sZW5ndGggPiAwID8gZGF0YVJvdXRlclN0YXRlLm1hdGNoZXMgOiBtYXRjaFJvdXRlcyhyb3V0ZXMsIHsgcGF0aG5hbWU6IHJlbWFpbmluZ1BhdGhuYW1lIH0pO1xuICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUykge1xuICAgIHdhcm5pbmcoXG4gICAgICBwYXJlbnRSb3V0ZSB8fCBtYXRjaGVzICE9IG51bGwsXG4gICAgICBgTm8gcm91dGVzIG1hdGNoZWQgbG9jYXRpb24gXCIke2xvY2F0aW9uLnBhdGhuYW1lfSR7bG9jYXRpb24uc2VhcmNofSR7bG9jYXRpb24uaGFzaH1cIiBgXG4gICAgKTtcbiAgICB3YXJuaW5nKFxuICAgICAgbWF0Y2hlcyA9PSBudWxsIHx8IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5lbGVtZW50ICE9PSB2b2lkIDAgfHwgbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLnJvdXRlLkNvbXBvbmVudCAhPT0gdm9pZCAwIHx8IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5sYXp5ICE9PSB2b2lkIDAsXG4gICAgICBgTWF0Y2hlZCBsZWFmIHJvdXRlIGF0IGxvY2F0aW9uIFwiJHtsb2NhdGlvbi5wYXRobmFtZX0ke2xvY2F0aW9uLnNlYXJjaH0ke2xvY2F0aW9uLmhhc2h9XCIgZG9lcyBub3QgaGF2ZSBhbiBlbGVtZW50IG9yIENvbXBvbmVudC4gVGhpcyBtZWFucyBpdCB3aWxsIHJlbmRlciBhbiA8T3V0bGV0IC8+IHdpdGggYSBudWxsIHZhbHVlIGJ5IGRlZmF1bHQgcmVzdWx0aW5nIGluIGFuIFwiZW1wdHlcIiBwYWdlLmBcbiAgICApO1xuICB9XG4gIGxldCByZW5kZXJlZE1hdGNoZXMgPSBfcmVuZGVyTWF0Y2hlcyhcbiAgICBtYXRjaGVzICYmIG1hdGNoZXMubWFwKFxuICAgICAgKG1hdGNoKSA9PiBPYmplY3QuYXNzaWduKHt9LCBtYXRjaCwge1xuICAgICAgICBwYXJhbXM6IE9iamVjdC5hc3NpZ24oe30sIHBhcmVudFBhcmFtcywgbWF0Y2gucGFyYW1zKSxcbiAgICAgICAgcGF0aG5hbWU6IGpvaW5QYXRocyhbXG4gICAgICAgICAgcGFyZW50UGF0aG5hbWVCYXNlLFxuICAgICAgICAgIC8vIFJlLWVuY29kZSBwYXRobmFtZXMgdGhhdCB3ZXJlIGRlY29kZWQgaW5zaWRlIG1hdGNoUm91dGVzXG4gICAgICAgICAgbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbiA/IG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24obWF0Y2gucGF0aG5hbWUpLnBhdGhuYW1lIDogbWF0Y2gucGF0aG5hbWVcbiAgICAgICAgXSksXG4gICAgICAgIHBhdGhuYW1lQmFzZTogbWF0Y2gucGF0aG5hbWVCYXNlID09PSBcIi9cIiA/IHBhcmVudFBhdGhuYW1lQmFzZSA6IGpvaW5QYXRocyhbXG4gICAgICAgICAgcGFyZW50UGF0aG5hbWVCYXNlLFxuICAgICAgICAgIC8vIFJlLWVuY29kZSBwYXRobmFtZXMgdGhhdCB3ZXJlIGRlY29kZWQgaW5zaWRlIG1hdGNoUm91dGVzXG4gICAgICAgICAgbmF2aWdhdG9yMi5lbmNvZGVMb2NhdGlvbiA/IG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24obWF0Y2gucGF0aG5hbWVCYXNlKS5wYXRobmFtZSA6IG1hdGNoLnBhdGhuYW1lQmFzZVxuICAgICAgICBdKVxuICAgICAgfSlcbiAgICApLFxuICAgIHBhcmVudE1hdGNoZXMsXG4gICAgZGF0YVJvdXRlclN0YXRlLFxuICAgIGZ1dHVyZVxuICApO1xuICBpZiAobG9jYXRpb25BcmcgJiYgcmVuZGVyZWRNYXRjaGVzKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgIExvY2F0aW9uQ29udGV4dC5Qcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgcGF0aG5hbWU6IFwiL1wiLFxuICAgICAgICAgICAgc2VhcmNoOiBcIlwiLFxuICAgICAgICAgICAgaGFzaDogXCJcIixcbiAgICAgICAgICAgIHN0YXRlOiBudWxsLFxuICAgICAgICAgICAga2V5OiBcImRlZmF1bHRcIixcbiAgICAgICAgICAgIC4uLmxvY2F0aW9uXG4gICAgICAgICAgfSxcbiAgICAgICAgICBuYXZpZ2F0aW9uVHlwZTogXCJQT1BcIiAvKiBQb3AgKi9cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHJlbmRlcmVkTWF0Y2hlc1xuICAgICk7XG4gIH1cbiAgcmV0dXJuIHJlbmRlcmVkTWF0Y2hlcztcbn1cbmZ1bmN0aW9uIERlZmF1bHRFcnJvckNvbXBvbmVudCgpIHtcbiAgbGV0IGVycm9yID0gdXNlUm91dGVFcnJvcigpO1xuICBsZXQgbWVzc2FnZSA9IGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSA/IGAke2Vycm9yLnN0YXR1c30gJHtlcnJvci5zdGF0dXNUZXh0fWAgOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbiAgbGV0IHN0YWNrID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogbnVsbDtcbiAgbGV0IGxpZ2h0Z3JleSA9IFwicmdiYSgyMDAsMjAwLDIwMCwgMC41KVwiO1xuICBsZXQgcHJlU3R5bGVzID0geyBwYWRkaW5nOiBcIjAuNXJlbVwiLCBiYWNrZ3JvdW5kQ29sb3I6IGxpZ2h0Z3JleSB9O1xuICBsZXQgY29kZVN0eWxlcyA9IHsgcGFkZGluZzogXCIycHggNHB4XCIsIGJhY2tncm91bmRDb2xvcjogbGlnaHRncmV5IH07XG4gIGxldCBkZXZJbmZvID0gbnVsbDtcbiAgaWYgKEVOQUJMRV9ERVZfV0FSTklOR1MpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJFcnJvciBoYW5kbGVkIGJ5IFJlYWN0IFJvdXRlciBkZWZhdWx0IEVycm9yQm91bmRhcnk6XCIsXG4gICAgICBlcnJvclxuICAgICk7XG4gICAgZGV2SW5mbyA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSZWFjdDIuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgXCJcXHV7MUY0QkZ9IEhleSBkZXZlbG9wZXIgXFx1ezFGNDRCfVwiKSwgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIllvdSBjYW4gcHJvdmlkZSBhIHdheSBiZXR0ZXIgVVggdGhhbiB0aGlzIHdoZW4geW91ciBhcHAgdGhyb3dzIGVycm9ycyBieSBwcm92aWRpbmcgeW91ciBvd24gXCIsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImNvZGVcIiwgeyBzdHlsZTogY29kZVN0eWxlcyB9LCBcIkVycm9yQm91bmRhcnlcIiksIFwiIG9yXCIsIFwiIFwiLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIHsgc3R5bGU6IGNvZGVTdHlsZXMgfSwgXCJlcnJvckVsZW1lbnRcIiksIFwiIHByb3Agb24geW91ciByb3V0ZS5cIikpO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUmVhY3QyLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJoMlwiLCBudWxsLCBcIlVuZXhwZWN0ZWQgQXBwbGljYXRpb24gRXJyb3IhXCIpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJoM1wiLCB7IHN0eWxlOiB7IGZvbnRTdHlsZTogXCJpdGFsaWNcIiB9IH0sIG1lc3NhZ2UpLCBzdGFjayA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcInByZVwiLCB7IHN0eWxlOiBwcmVTdHlsZXMgfSwgc3RhY2spIDogbnVsbCwgZGV2SW5mbyk7XG59XG52YXIgZGVmYXVsdEVycm9yRWxlbWVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChEZWZhdWx0RXJyb3JDb21wb25lbnQsIG51bGwpO1xudmFyIFJlbmRlckVycm9yQm91bmRhcnkgPSBjbGFzcyBleHRlbmRzIFJlYWN0Mi5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uLFxuICAgICAgcmV2YWxpZGF0aW9uOiBwcm9wcy5yZXZhbGlkYXRpb24sXG4gICAgICBlcnJvcjogcHJvcHMuZXJyb3JcbiAgICB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4geyBlcnJvciB9O1xuICB9XG4gIHN0YXRpYyBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMocHJvcHMsIHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmxvY2F0aW9uICE9PSBwcm9wcy5sb2NhdGlvbiB8fCBzdGF0ZS5yZXZhbGlkYXRpb24gIT09IFwiaWRsZVwiICYmIHByb3BzLnJldmFsaWRhdGlvbiA9PT0gXCJpZGxlXCIpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVycm9yOiBwcm9wcy5lcnJvcixcbiAgICAgICAgbG9jYXRpb246IHByb3BzLmxvY2F0aW9uLFxuICAgICAgICByZXZhbGlkYXRpb246IHByb3BzLnJldmFsaWRhdGlvblxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiBwcm9wcy5lcnJvciAhPT0gdm9pZCAwID8gcHJvcHMuZXJyb3IgOiBzdGF0ZS5lcnJvcixcbiAgICAgIGxvY2F0aW9uOiBzdGF0ZS5sb2NhdGlvbixcbiAgICAgIHJldmFsaWRhdGlvbjogcHJvcHMucmV2YWxpZGF0aW9uIHx8IHN0YXRlLnJldmFsaWRhdGlvblxuICAgIH07XG4gIH1cbiAgY29tcG9uZW50RGlkQ2F0Y2goZXJyb3IsIGVycm9ySW5mbykge1xuICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICBcIlJlYWN0IFJvdXRlciBjYXVnaHQgdGhlIGZvbGxvd2luZyBlcnJvciBkdXJpbmcgcmVuZGVyXCIsXG4gICAgICBlcnJvcixcbiAgICAgIGVycm9ySW5mb1xuICAgICk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmVycm9yICE9PSB2b2lkIDAgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoUm91dGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB0aGlzLnByb3BzLnJvdXRlQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBSb3V0ZUVycm9yQ29udGV4dC5Qcm92aWRlcixcbiAgICAgIHtcbiAgICAgICAgdmFsdWU6IHRoaXMuc3RhdGUuZXJyb3IsXG4gICAgICAgIGNoaWxkcmVuOiB0aGlzLnByb3BzLmNvbXBvbmVudFxuICAgICAgfVxuICAgICkpIDogdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufTtcbmZ1bmN0aW9uIFJlbmRlcmVkUm91dGUoeyByb3V0ZUNvbnRleHQsIG1hdGNoLCBjaGlsZHJlbiB9KSB7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IFJlYWN0Mi51c2VDb250ZXh0KERhdGFSb3V0ZXJDb250ZXh0KTtcbiAgaWYgKGRhdGFSb3V0ZXJDb250ZXh0ICYmIGRhdGFSb3V0ZXJDb250ZXh0LnN0YXRpYyAmJiBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWNDb250ZXh0ICYmIChtYXRjaC5yb3V0ZS5lcnJvckVsZW1lbnQgfHwgbWF0Y2gucm91dGUuRXJyb3JCb3VuZGFyeSkpIHtcbiAgICBkYXRhUm91dGVyQ29udGV4dC5zdGF0aWNDb250ZXh0Ll9kZWVwZXN0UmVuZGVyZWRCb3VuZGFyeUlkID0gbWF0Y2gucm91dGUuaWQ7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChSb3V0ZUNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHJvdXRlQ29udGV4dCB9LCBjaGlsZHJlbik7XG59XG5mdW5jdGlvbiBfcmVuZGVyTWF0Y2hlcyhtYXRjaGVzLCBwYXJlbnRNYXRjaGVzID0gW10sIGRhdGFSb3V0ZXJTdGF0ZSA9IG51bGwsIGZ1dHVyZSA9IG51bGwpIHtcbiAgaWYgKG1hdGNoZXMgPT0gbnVsbCkge1xuICAgIGlmICghZGF0YVJvdXRlclN0YXRlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGRhdGFSb3V0ZXJTdGF0ZS5lcnJvcnMpIHtcbiAgICAgIG1hdGNoZXMgPSBkYXRhUm91dGVyU3RhdGUubWF0Y2hlcztcbiAgICB9IGVsc2UgaWYgKHBhcmVudE1hdGNoZXMubGVuZ3RoID09PSAwICYmICFkYXRhUm91dGVyU3RhdGUuaW5pdGlhbGl6ZWQgJiYgZGF0YVJvdXRlclN0YXRlLm1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgbWF0Y2hlcyA9IGRhdGFSb3V0ZXJTdGF0ZS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgbGV0IHJlbmRlcmVkTWF0Y2hlcyA9IG1hdGNoZXM7XG4gIGxldCBlcnJvcnMgPSBkYXRhUm91dGVyU3RhdGU/LmVycm9ycztcbiAgaWYgKGVycm9ycyAhPSBudWxsKSB7XG4gICAgbGV0IGVycm9ySW5kZXggPSByZW5kZXJlZE1hdGNoZXMuZmluZEluZGV4KFxuICAgICAgKG0pID0+IG0ucm91dGUuaWQgJiYgZXJyb3JzPy5bbS5yb3V0ZS5pZF0gIT09IHZvaWQgMFxuICAgICk7XG4gICAgaW52YXJpYW50KFxuICAgICAgZXJyb3JJbmRleCA+PSAwLFxuICAgICAgYENvdWxkIG5vdCBmaW5kIGEgbWF0Y2hpbmcgcm91dGUgZm9yIGVycm9ycyBvbiByb3V0ZSBJRHM6ICR7T2JqZWN0LmtleXMoXG4gICAgICAgIGVycm9yc1xuICAgICAgKS5qb2luKFwiLFwiKX1gXG4gICAgKTtcbiAgICByZW5kZXJlZE1hdGNoZXMgPSByZW5kZXJlZE1hdGNoZXMuc2xpY2UoXG4gICAgICAwLFxuICAgICAgTWF0aC5taW4ocmVuZGVyZWRNYXRjaGVzLmxlbmd0aCwgZXJyb3JJbmRleCArIDEpXG4gICAgKTtcbiAgfVxuICBsZXQgcmVuZGVyRmFsbGJhY2sgPSBmYWxzZTtcbiAgbGV0IGZhbGxiYWNrSW5kZXggPSAtMTtcbiAgaWYgKGRhdGFSb3V0ZXJTdGF0ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyZWRNYXRjaGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbWF0Y2ggPSByZW5kZXJlZE1hdGNoZXNbaV07XG4gICAgICBpZiAobWF0Y2gucm91dGUuSHlkcmF0ZUZhbGxiYWNrIHx8IG1hdGNoLnJvdXRlLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQpIHtcbiAgICAgICAgZmFsbGJhY2tJbmRleCA9IGk7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2gucm91dGUuaWQpIHtcbiAgICAgICAgbGV0IHsgbG9hZGVyRGF0YSwgZXJyb3JzOiBlcnJvcnMyIH0gPSBkYXRhUm91dGVyU3RhdGU7XG4gICAgICAgIGxldCBuZWVkc1RvUnVuTG9hZGVyID0gbWF0Y2gucm91dGUubG9hZGVyICYmICFsb2FkZXJEYXRhLmhhc093blByb3BlcnR5KG1hdGNoLnJvdXRlLmlkKSAmJiAoIWVycm9yczIgfHwgZXJyb3JzMlttYXRjaC5yb3V0ZS5pZF0gPT09IHZvaWQgMCk7XG4gICAgICAgIGlmIChtYXRjaC5yb3V0ZS5sYXp5IHx8IG5lZWRzVG9SdW5Mb2FkZXIpIHtcbiAgICAgICAgICByZW5kZXJGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgaWYgKGZhbGxiYWNrSW5kZXggPj0gMCkge1xuICAgICAgICAgICAgcmVuZGVyZWRNYXRjaGVzID0gcmVuZGVyZWRNYXRjaGVzLnNsaWNlKDAsIGZhbGxiYWNrSW5kZXggKyAxKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVuZGVyZWRNYXRjaGVzID0gW3JlbmRlcmVkTWF0Y2hlc1swXV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZW5kZXJlZE1hdGNoZXMucmVkdWNlUmlnaHQoKG91dGxldCwgbWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgbGV0IGVycm9yO1xuICAgIGxldCBzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2sgPSBmYWxzZTtcbiAgICBsZXQgZXJyb3JFbGVtZW50ID0gbnVsbDtcbiAgICBsZXQgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCA9IG51bGw7XG4gICAgaWYgKGRhdGFSb3V0ZXJTdGF0ZSkge1xuICAgICAgZXJyb3IgPSBlcnJvcnMgJiYgbWF0Y2gucm91dGUuaWQgPyBlcnJvcnNbbWF0Y2gucm91dGUuaWRdIDogdm9pZCAwO1xuICAgICAgZXJyb3JFbGVtZW50ID0gbWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IGRlZmF1bHRFcnJvckVsZW1lbnQ7XG4gICAgICBpZiAocmVuZGVyRmFsbGJhY2spIHtcbiAgICAgICAgaWYgKGZhbGxiYWNrSW5kZXggPCAwICYmIGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgd2FybmluZ09uY2UoXG4gICAgICAgICAgICBcInJvdXRlLWZhbGxiYWNrXCIsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIFwiTm8gYEh5ZHJhdGVGYWxsYmFja2AgZWxlbWVudCBwcm92aWRlZCB0byByZW5kZXIgZHVyaW5nIGluaXRpYWwgaHlkcmF0aW9uXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3VsZFJlbmRlckh5ZHJhdGVGYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudCA9IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoZmFsbGJhY2tJbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgICBzaG91bGRSZW5kZXJIeWRyYXRlRmFsbGJhY2sgPSB0cnVlO1xuICAgICAgICAgIGh5ZHJhdGVGYWxsYmFja0VsZW1lbnQgPSBtYXRjaC5yb3V0ZS5oeWRyYXRlRmFsbGJhY2tFbGVtZW50IHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG1hdGNoZXMyID0gcGFyZW50TWF0Y2hlcy5jb25jYXQocmVuZGVyZWRNYXRjaGVzLnNsaWNlKDAsIGluZGV4ICsgMSkpO1xuICAgIGxldCBnZXRDaGlsZHJlbiA9ICgpID0+IHtcbiAgICAgIGxldCBjaGlsZHJlbjtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjaGlsZHJlbiA9IGVycm9yRWxlbWVudDtcbiAgICAgIH0gZWxzZSBpZiAoc2hvdWxkUmVuZGVySHlkcmF0ZUZhbGxiYWNrKSB7XG4gICAgICAgIGNoaWxkcmVuID0gaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDtcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2gucm91dGUuQ29tcG9uZW50KSB7XG4gICAgICAgIGNoaWxkcmVuID0gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KG1hdGNoLnJvdXRlLkNvbXBvbmVudCwgbnVsbCk7XG4gICAgICB9IGVsc2UgaWYgKG1hdGNoLnJvdXRlLmVsZW1lbnQpIHtcbiAgICAgICAgY2hpbGRyZW4gPSBtYXRjaC5yb3V0ZS5lbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hpbGRyZW4gPSBvdXRsZXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFxuICAgICAgICBSZW5kZXJlZFJvdXRlLFxuICAgICAgICB7XG4gICAgICAgICAgbWF0Y2gsXG4gICAgICAgICAgcm91dGVDb250ZXh0OiB7XG4gICAgICAgICAgICBvdXRsZXQsXG4gICAgICAgICAgICBtYXRjaGVzOiBtYXRjaGVzMixcbiAgICAgICAgICAgIGlzRGF0YVJvdXRlOiBkYXRhUm91dGVyU3RhdGUgIT0gbnVsbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9O1xuICAgIHJldHVybiBkYXRhUm91dGVyU3RhdGUgJiYgKG1hdGNoLnJvdXRlLkVycm9yQm91bmRhcnkgfHwgbWF0Y2gucm91dGUuZXJyb3JFbGVtZW50IHx8IGluZGV4ID09PSAwKSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcbiAgICAgIFJlbmRlckVycm9yQm91bmRhcnksXG4gICAgICB7XG4gICAgICAgIGxvY2F0aW9uOiBkYXRhUm91dGVyU3RhdGUubG9jYXRpb24sXG4gICAgICAgIHJldmFsaWRhdGlvbjogZGF0YVJvdXRlclN0YXRlLnJldmFsaWRhdGlvbixcbiAgICAgICAgY29tcG9uZW50OiBlcnJvckVsZW1lbnQsXG4gICAgICAgIGVycm9yLFxuICAgICAgICBjaGlsZHJlbjogZ2V0Q2hpbGRyZW4oKSxcbiAgICAgICAgcm91dGVDb250ZXh0OiB7IG91dGxldDogbnVsbCwgbWF0Y2hlczogbWF0Y2hlczIsIGlzRGF0YVJvdXRlOiB0cnVlIH1cbiAgICAgIH1cbiAgICApIDogZ2V0Q2hpbGRyZW4oKTtcbiAgfSwgbnVsbCk7XG59XG5mdW5jdGlvbiBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSB7XG4gIHJldHVybiBgJHtob29rTmFtZX0gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIGRhdGEgcm91dGVyLiAgU2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL2VuL21haW4vcm91dGVycy9waWNraW5nLWEtcm91dGVyLmA7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyQ29udGV4dChob29rTmFtZSkge1xuICBsZXQgY3R4ID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpbnZhcmlhbnQoY3R4LCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiBjdHg7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyU3RhdGUoaG9va05hbWUpIHtcbiAgbGV0IHN0YXRlID0gUmVhY3QyLnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gIGludmFyaWFudChzdGF0ZSwgZ2V0RGF0YVJvdXRlckNvbnNvbGVFcnJvcihob29rTmFtZSkpO1xuICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUNvbnRleHQoaG9va05hbWUpIHtcbiAgbGV0IHJvdXRlID0gUmVhY3QyLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHJvdXRlLCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yKGhvb2tOYW1lKSk7XG4gIHJldHVybiByb3V0ZTtcbn1cbmZ1bmN0aW9uIHVzZUN1cnJlbnRSb3V0ZUlkKGhvb2tOYW1lKSB7XG4gIGxldCByb3V0ZSA9IHVzZVJvdXRlQ29udGV4dChob29rTmFtZSk7XG4gIGxldCB0aGlzUm91dGUgPSByb3V0ZS5tYXRjaGVzW3JvdXRlLm1hdGNoZXMubGVuZ3RoIC0gMV07XG4gIGludmFyaWFudChcbiAgICB0aGlzUm91dGUucm91dGUuaWQsXG4gICAgYCR7aG9va05hbWV9IGNhbiBvbmx5IGJlIHVzZWQgb24gcm91dGVzIHRoYXQgY29udGFpbiBhIHVuaXF1ZSBcImlkXCJgXG4gICk7XG4gIHJldHVybiB0aGlzUm91dGUucm91dGUuaWQ7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUlkKCkge1xuICByZXR1cm4gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VSb3V0ZUlkXCIgLyogVXNlUm91dGVJZCAqLyk7XG59XG5mdW5jdGlvbiB1c2VOYXZpZ2F0aW9uKCkge1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VOYXZpZ2F0aW9uXCIgLyogVXNlTmF2aWdhdGlvbiAqLyk7XG4gIHJldHVybiBzdGF0ZS5uYXZpZ2F0aW9uO1xufVxuZnVuY3Rpb24gdXNlUmV2YWxpZGF0b3IoKSB7XG4gIGxldCBkYXRhUm91dGVyQ29udGV4dCA9IHVzZURhdGFSb3V0ZXJDb250ZXh0KFwidXNlUmV2YWxpZGF0b3JcIiAvKiBVc2VSZXZhbGlkYXRvciAqLyk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZVJldmFsaWRhdG9yXCIgLyogVXNlUmV2YWxpZGF0b3IgKi8pO1xuICByZXR1cm4gUmVhY3QyLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGFzeW5jIHJldmFsaWRhdGUoKSB7XG4gICAgICAgIGF3YWl0IGRhdGFSb3V0ZXJDb250ZXh0LnJvdXRlci5yZXZhbGlkYXRlKCk7XG4gICAgICB9LFxuICAgICAgc3RhdGU6IHN0YXRlLnJldmFsaWRhdGlvblxuICAgIH0pLFxuICAgIFtkYXRhUm91dGVyQ29udGV4dC5yb3V0ZXIsIHN0YXRlLnJldmFsaWRhdGlvbl1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZU1hdGNoZXMoKSB7XG4gIGxldCB7IG1hdGNoZXMsIGxvYWRlckRhdGEgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcbiAgICBcInVzZU1hdGNoZXNcIiAvKiBVc2VNYXRjaGVzICovXG4gICk7XG4gIHJldHVybiBSZWFjdDIudXNlTWVtbyhcbiAgICAoKSA9PiBtYXRjaGVzLm1hcCgobSkgPT4gY29udmVydFJvdXRlTWF0Y2hUb1VpTWF0Y2gobSwgbG9hZGVyRGF0YSkpLFxuICAgIFttYXRjaGVzLCBsb2FkZXJEYXRhXVxuICApO1xufVxuZnVuY3Rpb24gdXNlTG9hZGVyRGF0YSgpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlTG9hZGVyRGF0YVwiIC8qIFVzZUxvYWRlckRhdGEgKi8pO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKFwidXNlTG9hZGVyRGF0YVwiIC8qIFVzZUxvYWRlckRhdGEgKi8pO1xuICByZXR1cm4gc3RhdGUubG9hZGVyRGF0YVtyb3V0ZUlkXTtcbn1cbmZ1bmN0aW9uIHVzZVJvdXRlTG9hZGVyRGF0YShyb3V0ZUlkKSB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZVJvdXRlTG9hZGVyRGF0YVwiIC8qIFVzZVJvdXRlTG9hZGVyRGF0YSAqLyk7XG4gIHJldHVybiBzdGF0ZS5sb2FkZXJEYXRhW3JvdXRlSWRdO1xufVxuZnVuY3Rpb24gdXNlQWN0aW9uRGF0YSgpIHtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlKFwidXNlQWN0aW9uRGF0YVwiIC8qIFVzZUFjdGlvbkRhdGEgKi8pO1xuICBsZXQgcm91dGVJZCA9IHVzZUN1cnJlbnRSb3V0ZUlkKFwidXNlTG9hZGVyRGF0YVwiIC8qIFVzZUxvYWRlckRhdGEgKi8pO1xuICByZXR1cm4gc3RhdGUuYWN0aW9uRGF0YSA/IHN0YXRlLmFjdGlvbkRhdGFbcm91dGVJZF0gOiB2b2lkIDA7XG59XG5mdW5jdGlvbiB1c2VSb3V0ZUVycm9yKCkge1xuICBsZXQgZXJyb3IgPSBSZWFjdDIudXNlQ29udGV4dChSb3V0ZUVycm9yQ29udGV4dCk7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZShcInVzZVJvdXRlRXJyb3JcIiAvKiBVc2VSb3V0ZUVycm9yICovKTtcbiAgbGV0IHJvdXRlSWQgPSB1c2VDdXJyZW50Um91dGVJZChcInVzZVJvdXRlRXJyb3JcIiAvKiBVc2VSb3V0ZUVycm9yICovKTtcbiAgaWYgKGVycm9yICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLmVycm9ycz8uW3JvdXRlSWRdO1xufVxuZnVuY3Rpb24gdXNlQXN5bmNWYWx1ZSgpIHtcbiAgbGV0IHZhbHVlID0gUmVhY3QyLnVzZUNvbnRleHQoQXdhaXRDb250ZXh0KTtcbiAgcmV0dXJuIHZhbHVlPy5fZGF0YTtcbn1cbmZ1bmN0aW9uIHVzZUFzeW5jRXJyb3IoKSB7XG4gIGxldCB2YWx1ZSA9IFJlYWN0Mi51c2VDb250ZXh0KEF3YWl0Q29udGV4dCk7XG4gIHJldHVybiB2YWx1ZT8uX2Vycm9yO1xufVxudmFyIGJsb2NrZXJJZCA9IDA7XG5mdW5jdGlvbiB1c2VCbG9ja2VyKHNob3VsZEJsb2NrKSB7XG4gIGxldCB7IHJvdXRlciwgYmFzZW5hbWUgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0KFwidXNlQmxvY2tlclwiIC8qIFVzZUJsb2NrZXIgKi8pO1xuICBsZXQgc3RhdGUgPSB1c2VEYXRhUm91dGVyU3RhdGUoXCJ1c2VCbG9ja2VyXCIgLyogVXNlQmxvY2tlciAqLyk7XG4gIGxldCBbYmxvY2tlcktleSwgc2V0QmxvY2tlcktleV0gPSBSZWFjdDIudXNlU3RhdGUoXCJcIik7XG4gIGxldCBibG9ja2VyRnVuY3Rpb24gPSBSZWFjdDIudXNlQ2FsbGJhY2soXG4gICAgKGFyZykgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBzaG91bGRCbG9jayAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiAhIXNob3VsZEJsb2NrO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VuYW1lID09PSBcIi9cIikge1xuICAgICAgICByZXR1cm4gc2hvdWxkQmxvY2soYXJnKTtcbiAgICAgIH1cbiAgICAgIGxldCB7IGN1cnJlbnRMb2NhdGlvbiwgbmV4dExvY2F0aW9uLCBoaXN0b3J5QWN0aW9uIH0gPSBhcmc7XG4gICAgICByZXR1cm4gc2hvdWxkQmxvY2soe1xuICAgICAgICBjdXJyZW50TG9jYXRpb246IHtcbiAgICAgICAgICAuLi5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgICAgcGF0aG5hbWU6IHN0cmlwQmFzZW5hbWUoY3VycmVudExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgY3VycmVudExvY2F0aW9uLnBhdGhuYW1lXG4gICAgICAgIH0sXG4gICAgICAgIG5leHRMb2NhdGlvbjoge1xuICAgICAgICAgIC4uLm5leHRMb2NhdGlvbixcbiAgICAgICAgICBwYXRobmFtZTogc3RyaXBCYXNlbmFtZShuZXh0TG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBuZXh0TG9jYXRpb24ucGF0aG5hbWVcbiAgICAgICAgfSxcbiAgICAgICAgaGlzdG9yeUFjdGlvblxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbYmFzZW5hbWUsIHNob3VsZEJsb2NrXVxuICApO1xuICBSZWFjdDIudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQga2V5ID0gU3RyaW5nKCsrYmxvY2tlcklkKTtcbiAgICBzZXRCbG9ja2VyS2V5KGtleSk7XG4gICAgcmV0dXJuICgpID0+IHJvdXRlci5kZWxldGVCbG9ja2VyKGtleSk7XG4gIH0sIFtyb3V0ZXJdKTtcbiAgUmVhY3QyLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJsb2NrZXJLZXkgIT09IFwiXCIpIHtcbiAgICAgIHJvdXRlci5nZXRCbG9ja2VyKGJsb2NrZXJLZXksIGJsb2NrZXJGdW5jdGlvbik7XG4gICAgfVxuICB9LCBbcm91dGVyLCBibG9ja2VyS2V5LCBibG9ja2VyRnVuY3Rpb25dKTtcbiAgcmV0dXJuIGJsb2NrZXJLZXkgJiYgc3RhdGUuYmxvY2tlcnMuaGFzKGJsb2NrZXJLZXkpID8gc3RhdGUuYmxvY2tlcnMuZ2V0KGJsb2NrZXJLZXkpIDogSURMRV9CTE9DS0VSO1xufVxuZnVuY3Rpb24gdXNlTmF2aWdhdGVTdGFibGUoKSB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQoXCJ1c2VOYXZpZ2F0ZVwiIC8qIFVzZU5hdmlnYXRlU3RhYmxlICovKTtcbiAgbGV0IGlkID0gdXNlQ3VycmVudFJvdXRlSWQoXCJ1c2VOYXZpZ2F0ZVwiIC8qIFVzZU5hdmlnYXRlU3RhYmxlICovKTtcbiAgbGV0IGFjdGl2ZVJlZiA9IFJlYWN0Mi51c2VSZWYoZmFsc2UpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBhY3RpdmVSZWYuY3VycmVudCA9IHRydWU7XG4gIH0pO1xuICBsZXQgbmF2aWdhdGUgPSBSZWFjdDIudXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRvLCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgIHdhcm5pbmcoYWN0aXZlUmVmLmN1cnJlbnQsIG5hdmlnYXRlRWZmZWN0V2FybmluZyk7XG4gICAgICBpZiAoIWFjdGl2ZVJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBpZiAodHlwZW9mIHRvID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJvdXRlci5uYXZpZ2F0ZSh0byk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhd2FpdCByb3V0ZXIubmF2aWdhdGUodG8sIHsgZnJvbVJvdXRlSWQ6IGlkLCAuLi5vcHRpb25zIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3JvdXRlciwgaWRdXG4gICk7XG4gIHJldHVybiBuYXZpZ2F0ZTtcbn1cbnZhciBhbHJlYWR5V2FybmVkID0ge307XG5mdW5jdGlvbiB3YXJuaW5nT25jZShrZXksIGNvbmQsIG1lc3NhZ2UpIHtcbiAgaWYgKCFjb25kICYmICFhbHJlYWR5V2FybmVkW2tleV0pIHtcbiAgICBhbHJlYWR5V2FybmVkW2tleV0gPSB0cnVlO1xuICAgIHdhcm5pbmcoZmFsc2UsIG1lc3NhZ2UpO1xuICB9XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS93YXJuaW5ncy50c1xudmFyIGFscmVhZHlXYXJuZWQyID0ge307XG5mdW5jdGlvbiB3YXJuT25jZShjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKCFjb25kaXRpb24gJiYgIWFscmVhZHlXYXJuZWQyW21lc3NhZ2VdKSB7XG4gICAgYWxyZWFkeVdhcm5lZDJbbWVzc2FnZV0gPSB0cnVlO1xuICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgfVxufVxuXG4vLyBsaWIvY29tcG9uZW50cy50c3hcbnZhciBFTkFCTEVfREVWX1dBUk5JTkdTMiA9IHRydWU7XG5mdW5jdGlvbiBtYXBSb3V0ZVByb3BlcnRpZXMocm91dGUpIHtcbiAgbGV0IHVwZGF0ZXMgPSB7XG4gICAgLy8gTm90ZTogdGhpcyBjaGVjayBhbHNvIG9jY3VycyBpbiBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4gc28gdXBkYXRlXG4gICAgLy8gdGhlcmUgaWYgeW91IGNoYW5nZSB0aGlzIC0tIHBsZWFzZSBhbmQgdGhhbmsgeW91IVxuICAgIGhhc0Vycm9yQm91bmRhcnk6IHJvdXRlLmhhc0Vycm9yQm91bmRhcnkgfHwgcm91dGUuRXJyb3JCb3VuZGFyeSAhPSBudWxsIHx8IHJvdXRlLmVycm9yRWxlbWVudCAhPSBudWxsXG4gIH07XG4gIGlmIChyb3V0ZS5Db21wb25lbnQpIHtcbiAgICBpZiAoRU5BQkxFX0RFVl9XQVJOSU5HUzIpIHtcbiAgICAgIGlmIChyb3V0ZS5lbGVtZW50KSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgXCJZb3Ugc2hvdWxkIG5vdCBpbmNsdWRlIGJvdGggYENvbXBvbmVudGAgYW5kIGBlbGVtZW50YCBvbiB5b3VyIHJvdXRlIC0gYENvbXBvbmVudGAgd2lsbCBiZSB1c2VkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24odXBkYXRlcywge1xuICAgICAgZWxlbWVudDogUmVhY3QzLmNyZWF0ZUVsZW1lbnQocm91dGUuQ29tcG9uZW50KSxcbiAgICAgIENvbXBvbmVudDogdm9pZCAwXG4gICAgfSk7XG4gIH1cbiAgaWYgKHJvdXRlLkh5ZHJhdGVGYWxsYmFjaykge1xuICAgIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTMikge1xuICAgICAgaWYgKHJvdXRlLmh5ZHJhdGVGYWxsYmFja0VsZW1lbnQpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBcIllvdSBzaG91bGQgbm90IGluY2x1ZGUgYm90aCBgSHlkcmF0ZUZhbGxiYWNrYCBhbmQgYGh5ZHJhdGVGYWxsYmFja0VsZW1lbnRgIG9uIHlvdXIgcm91dGUgLSBgSHlkcmF0ZUZhbGxiYWNrYCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiBSZWFjdDMuY3JlYXRlRWxlbWVudChyb3V0ZS5IeWRyYXRlRmFsbGJhY2spLFxuICAgICAgSHlkcmF0ZUZhbGxiYWNrOiB2b2lkIDBcbiAgICB9KTtcbiAgfVxuICBpZiAocm91dGUuRXJyb3JCb3VuZGFyeSkge1xuICAgIGlmIChFTkFCTEVfREVWX1dBUk5JTkdTMikge1xuICAgICAgaWYgKHJvdXRlLmVycm9yRWxlbWVudCkge1xuICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgIFwiWW91IHNob3VsZCBub3QgaW5jbHVkZSBib3RoIGBFcnJvckJvdW5kYXJ5YCBhbmQgYGVycm9yRWxlbWVudGAgb24geW91ciByb3V0ZSAtIGBFcnJvckJvdW5kYXJ5YCB3aWxsIGJlIHVzZWQuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbih1cGRhdGVzLCB7XG4gICAgICBlcnJvckVsZW1lbnQ6IFJlYWN0My5jcmVhdGVFbGVtZW50KHJvdXRlLkVycm9yQm91bmRhcnkpLFxuICAgICAgRXJyb3JCb3VuZGFyeTogdm9pZCAwXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHVwZGF0ZXM7XG59XG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlSb3V0ZXIocm91dGVzLCBvcHRzKSB7XG4gIHJldHVybiBjcmVhdGVSb3V0ZXIoe1xuICAgIGJhc2VuYW1lOiBvcHRzPy5iYXNlbmFtZSxcbiAgICB1bnN0YWJsZV9nZXRDb250ZXh0OiBvcHRzPy51bnN0YWJsZV9nZXRDb250ZXh0LFxuICAgIGZ1dHVyZTogb3B0cz8uZnV0dXJlLFxuICAgIGhpc3Rvcnk6IGNyZWF0ZU1lbW9yeUhpc3Rvcnkoe1xuICAgICAgaW5pdGlhbEVudHJpZXM6IG9wdHM/LmluaXRpYWxFbnRyaWVzLFxuICAgICAgaW5pdGlhbEluZGV4OiBvcHRzPy5pbml0aWFsSW5kZXhcbiAgICB9KSxcbiAgICBoeWRyYXRpb25EYXRhOiBvcHRzPy5oeWRyYXRpb25EYXRhLFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgZGF0YVN0cmF0ZWd5OiBvcHRzPy5kYXRhU3RyYXRlZ3ksXG4gICAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb246IG9wdHM/LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uXG4gIH0pLmluaXRpYWxpemUoKTtcbn1cbnZhciBEZWZlcnJlZCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zdGF0dXMgPSBcInBlbmRpbmdcIjtcbiAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB0aGlzLnJlc29sdmUgPSAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdHVzID09PSBcInBlbmRpbmdcIikge1xuICAgICAgICAgIHRoaXMuc3RhdHVzID0gXCJyZXNvbHZlZFwiO1xuICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdGhpcy5yZWplY3QgPSAocmVhc29uKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICAgICAgICB0aGlzLnN0YXR1cyA9IFwicmVqZWN0ZWRcIjtcbiAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxufTtcbmZ1bmN0aW9uIFJvdXRlclByb3ZpZGVyKHtcbiAgcm91dGVyLFxuICBmbHVzaFN5bmM6IHJlYWN0RG9tRmx1c2hTeW5jSW1wbFxufSkge1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QzLnVzZVN0YXRlKHJvdXRlci5zdGF0ZSk7XG4gIGxldCBbcGVuZGluZ1N0YXRlLCBzZXRQZW5kaW5nU3RhdGVdID0gUmVhY3QzLnVzZVN0YXRlKCk7XG4gIGxldCBbdnRDb250ZXh0LCBzZXRWdENvbnRleHRdID0gUmVhY3QzLnVzZVN0YXRlKHtcbiAgICBpc1RyYW5zaXRpb25pbmc6IGZhbHNlXG4gIH0pO1xuICBsZXQgW3JlbmRlckRmZCwgc2V0UmVuZGVyRGZkXSA9IFJlYWN0My51c2VTdGF0ZSgpO1xuICBsZXQgW3RyYW5zaXRpb24sIHNldFRyYW5zaXRpb25dID0gUmVhY3QzLnVzZVN0YXRlKCk7XG4gIGxldCBbaW50ZXJydXB0aW9uLCBzZXRJbnRlcnJ1cHRpb25dID0gUmVhY3QzLnVzZVN0YXRlKCk7XG4gIGxldCBmZXRjaGVyRGF0YSA9IFJlYWN0My51c2VSZWYoLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0My51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUsIHsgZGVsZXRlZEZldGNoZXJzLCBmbHVzaFN5bmMsIHZpZXdUcmFuc2l0aW9uT3B0cyB9KSA9PiB7XG4gICAgICBuZXdTdGF0ZS5mZXRjaGVycy5mb3JFYWNoKChmZXRjaGVyLCBrZXkpID0+IHtcbiAgICAgICAgaWYgKGZldGNoZXIuZGF0YSAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgZmV0Y2hlckRhdGEuY3VycmVudC5zZXQoa2V5LCBmZXRjaGVyLmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZWRGZXRjaGVycy5mb3JFYWNoKChrZXkpID0+IGZldGNoZXJEYXRhLmN1cnJlbnQuZGVsZXRlKGtleSkpO1xuICAgICAgd2Fybk9uY2UoXG4gICAgICAgIGZsdXNoU3luYyA9PT0gZmFsc2UgfHwgcmVhY3REb21GbHVzaFN5bmNJbXBsICE9IG51bGwsXG4gICAgICAgICdZb3UgcHJvdmlkZWQgdGhlIGBmbHVzaFN5bmNgIG9wdGlvbiB0byBhIHJvdXRlciB1cGRhdGUsIGJ1dCB5b3UgYXJlIG5vdCB1c2luZyB0aGUgYDxSb3V0ZXJQcm92aWRlcj5gIGZyb20gYHJlYWN0LXJvdXRlci9kb21gIHNvIGBSZWFjdERPTS5mbHVzaFN5bmMoKWAgaXMgdW5hdmFpbGFibGUuICBQbGVhc2UgdXBkYXRlIHlvdXIgYXBwIHRvIGBpbXBvcnQgeyBSb3V0ZXJQcm92aWRlciB9IGZyb20gXCJyZWFjdC1yb3V0ZXIvZG9tXCJgIGFuZCBlbnN1cmUgeW91IGhhdmUgYHJlYWN0LWRvbWAgaW5zdGFsbGVkIGFzIGEgZGVwZW5kZW5jeSB0byB1c2UgdGhlIGBmbHVzaFN5bmNgIG9wdGlvbi4nXG4gICAgICApO1xuICAgICAgbGV0IGlzVmlld1RyYW5zaXRpb25BdmFpbGFibGUgPSByb3V0ZXIud2luZG93ICE9IG51bGwgJiYgcm91dGVyLndpbmRvdy5kb2N1bWVudCAhPSBudWxsICYmIHR5cGVvZiByb3V0ZXIud2luZG93LmRvY3VtZW50LnN0YXJ0Vmlld1RyYW5zaXRpb24gPT09IFwiZnVuY3Rpb25cIjtcbiAgICAgIHdhcm5PbmNlKFxuICAgICAgICB2aWV3VHJhbnNpdGlvbk9wdHMgPT0gbnVsbCB8fCBpc1ZpZXdUcmFuc2l0aW9uQXZhaWxhYmxlLFxuICAgICAgICBcIllvdSBwcm92aWRlZCB0aGUgYHZpZXdUcmFuc2l0aW9uYCBvcHRpb24gdG8gYSByb3V0ZXIgdXBkYXRlLCBidXQgeW91IGRvIG5vdCBhcHBlYXIgdG8gYmUgcnVubmluZyBpbiBhIERPTSBlbnZpcm9ubWVudCBhcyBgd2luZG93LnN0YXJ0Vmlld1RyYW5zaXRpb25gIGlzIG5vdCBhdmFpbGFibGUuXCJcbiAgICAgICk7XG4gICAgICBpZiAoIXZpZXdUcmFuc2l0aW9uT3B0cyB8fCAhaXNWaWV3VHJhbnNpdGlvbkF2YWlsYWJsZSkge1xuICAgICAgICBpZiAocmVhY3REb21GbHVzaFN5bmNJbXBsICYmIGZsdXNoU3luYykge1xuICAgICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBSZWFjdDMuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChyZWFjdERvbUZsdXNoU3luY0ltcGwgJiYgZmx1c2hTeW5jKSB7XG4gICAgICAgIHJlYWN0RG9tRmx1c2hTeW5jSW1wbCgoKSA9PiB7XG4gICAgICAgICAgaWYgKHRyYW5zaXRpb24pIHtcbiAgICAgICAgICAgIHJlbmRlckRmZCAmJiByZW5kZXJEZmQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbi5za2lwVHJhbnNpdGlvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRWdENvbnRleHQoe1xuICAgICAgICAgICAgaXNUcmFuc2l0aW9uaW5nOiB0cnVlLFxuICAgICAgICAgICAgZmx1c2hTeW5jOiB0cnVlLFxuICAgICAgICAgICAgY3VycmVudExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMuY3VycmVudExvY2F0aW9uLFxuICAgICAgICAgICAgbmV4dExvY2F0aW9uOiB2aWV3VHJhbnNpdGlvbk9wdHMubmV4dExvY2F0aW9uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgdCA9IHJvdXRlci53aW5kb3cuZG9jdW1lbnQuc3RhcnRWaWV3VHJhbnNpdGlvbigoKSA9PiB7XG4gICAgICAgICAgcmVhY3REb21GbHVzaFN5bmNJbXBsKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgdC5maW5pc2hlZC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4ge1xuICAgICAgICAgICAgc2V0UmVuZGVyRGZkKHZvaWQgMCk7XG4gICAgICAgICAgICBzZXRUcmFuc2l0aW9uKHZvaWQgMCk7XG4gICAgICAgICAgICBzZXRQZW5kaW5nU3RhdGUodm9pZCAwKTtcbiAgICAgICAgICAgIHNldFZ0Q29udGV4dCh7IGlzVHJhbnNpdGlvbmluZzogZmFsc2UgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWFjdERvbUZsdXNoU3luY0ltcGwoKCkgPT4gc2V0VHJhbnNpdGlvbih0KSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHJlbmRlckRmZCAmJiByZW5kZXJEZmQucmVzb2x2ZSgpO1xuICAgICAgICB0cmFuc2l0aW9uLnNraXBUcmFuc2l0aW9uKCk7XG4gICAgICAgIHNldEludGVycnVwdGlvbih7XG4gICAgICAgICAgc3RhdGU6IG5ld1N0YXRlLFxuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5uZXh0TG9jYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRQZW5kaW5nU3RhdGUobmV3U3RhdGUpO1xuICAgICAgICBzZXRWdENvbnRleHQoe1xuICAgICAgICAgIGlzVHJhbnNpdGlvbmluZzogdHJ1ZSxcbiAgICAgICAgICBmbHVzaFN5bmM6IGZhbHNlLFxuICAgICAgICAgIGN1cnJlbnRMb2NhdGlvbjogdmlld1RyYW5zaXRpb25PcHRzLmN1cnJlbnRMb2NhdGlvbixcbiAgICAgICAgICBuZXh0TG9jYXRpb246IHZpZXdUcmFuc2l0aW9uT3B0cy5uZXh0TG9jYXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcm91dGVyLndpbmRvdywgcmVhY3REb21GbHVzaFN5bmNJbXBsLCB0cmFuc2l0aW9uLCByZW5kZXJEZmRdXG4gICk7XG4gIFJlYWN0My51c2VMYXlvdXRFZmZlY3QoKCkgPT4gcm91dGVyLnN1YnNjcmliZShzZXRTdGF0ZSksIFtyb3V0ZXIsIHNldFN0YXRlXSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh2dENvbnRleHQuaXNUcmFuc2l0aW9uaW5nICYmICF2dENvbnRleHQuZmx1c2hTeW5jKSB7XG4gICAgICBzZXRSZW5kZXJEZmQobmV3IERlZmVycmVkKCkpO1xuICAgIH1cbiAgfSwgW3Z0Q29udGV4dF0pO1xuICBSZWFjdDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVuZGVyRGZkICYmIHBlbmRpbmdTdGF0ZSAmJiByb3V0ZXIud2luZG93KSB7XG4gICAgICBsZXQgbmV3U3RhdGUgPSBwZW5kaW5nU3RhdGU7XG4gICAgICBsZXQgcmVuZGVyUHJvbWlzZSA9IHJlbmRlckRmZC5wcm9taXNlO1xuICAgICAgbGV0IHRyYW5zaXRpb24yID0gcm91dGVyLndpbmRvdy5kb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uKGFzeW5jICgpID0+IHtcbiAgICAgICAgUmVhY3QzLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICAgICAgYXdhaXQgcmVuZGVyUHJvbWlzZTtcbiAgICAgIH0pO1xuICAgICAgdHJhbnNpdGlvbjIuZmluaXNoZWQuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHNldFJlbmRlckRmZCh2b2lkIDApO1xuICAgICAgICBzZXRUcmFuc2l0aW9uKHZvaWQgMCk7XG4gICAgICAgIHNldFBlbmRpbmdTdGF0ZSh2b2lkIDApO1xuICAgICAgICBzZXRWdENvbnRleHQoeyBpc1RyYW5zaXRpb25pbmc6IGZhbHNlIH0pO1xuICAgICAgfSk7XG4gICAgICBzZXRUcmFuc2l0aW9uKHRyYW5zaXRpb24yKTtcbiAgICB9XG4gIH0sIFtwZW5kaW5nU3RhdGUsIHJlbmRlckRmZCwgcm91dGVyLndpbmRvd10pO1xuICBSZWFjdDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVuZGVyRGZkICYmIHBlbmRpbmdTdGF0ZSAmJiBzdGF0ZS5sb2NhdGlvbi5rZXkgPT09IHBlbmRpbmdTdGF0ZS5sb2NhdGlvbi5rZXkpIHtcbiAgICAgIHJlbmRlckRmZC5yZXNvbHZlKCk7XG4gICAgfVxuICB9LCBbcmVuZGVyRGZkLCB0cmFuc2l0aW9uLCBzdGF0ZS5sb2NhdGlvbiwgcGVuZGluZ1N0YXRlXSk7XG4gIFJlYWN0My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghdnRDb250ZXh0LmlzVHJhbnNpdGlvbmluZyAmJiBpbnRlcnJ1cHRpb24pIHtcbiAgICAgIHNldFBlbmRpbmdTdGF0ZShpbnRlcnJ1cHRpb24uc3RhdGUpO1xuICAgICAgc2V0VnRDb250ZXh0KHtcbiAgICAgICAgaXNUcmFuc2l0aW9uaW5nOiB0cnVlLFxuICAgICAgICBmbHVzaFN5bmM6IGZhbHNlLFxuICAgICAgICBjdXJyZW50TG9jYXRpb246IGludGVycnVwdGlvbi5jdXJyZW50TG9jYXRpb24sXG4gICAgICAgIG5leHRMb2NhdGlvbjogaW50ZXJydXB0aW9uLm5leHRMb2NhdGlvblxuICAgICAgfSk7XG4gICAgICBzZXRJbnRlcnJ1cHRpb24odm9pZCAwKTtcbiAgICB9XG4gIH0sIFt2dENvbnRleHQuaXNUcmFuc2l0aW9uaW5nLCBpbnRlcnJ1cHRpb25dKTtcbiAgbGV0IG5hdmlnYXRvcjIgPSBSZWFjdDMudXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZUhyZWY6IHJvdXRlci5jcmVhdGVIcmVmLFxuICAgICAgZW5jb2RlTG9jYXRpb246IHJvdXRlci5lbmNvZGVMb2NhdGlvbixcbiAgICAgIGdvOiAobikgPT4gcm91dGVyLm5hdmlnYXRlKG4pLFxuICAgICAgcHVzaDogKHRvLCBzdGF0ZTIsIG9wdHMpID0+IHJvdXRlci5uYXZpZ2F0ZSh0bywge1xuICAgICAgICBzdGF0ZTogc3RhdGUyLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdHM/LnByZXZlbnRTY3JvbGxSZXNldFxuICAgICAgfSksXG4gICAgICByZXBsYWNlOiAodG8sIHN0YXRlMiwgb3B0cykgPT4gcm91dGVyLm5hdmlnYXRlKHRvLCB7XG4gICAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIHN0YXRlOiBzdGF0ZTIsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogb3B0cz8ucHJldmVudFNjcm9sbFJlc2V0XG4gICAgICB9KVxuICAgIH07XG4gIH0sIFtyb3V0ZXJdKTtcbiAgbGV0IGJhc2VuYW1lID0gcm91dGVyLmJhc2VuYW1lIHx8IFwiL1wiO1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSBSZWFjdDMudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgcm91dGVyLFxuICAgICAgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLFxuICAgICAgc3RhdGljOiBmYWxzZSxcbiAgICAgIGJhc2VuYW1lXG4gICAgfSksXG4gICAgW3JvdXRlciwgbmF2aWdhdG9yMiwgYmFzZW5hbWVdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoUmVhY3QzLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoRGF0YVJvdXRlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGRhdGFSb3V0ZXJDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChEYXRhUm91dGVyU3RhdGVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzdGF0ZSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoRmV0Y2hlcnNDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBmZXRjaGVyRGF0YS5jdXJyZW50IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChWaWV3VHJhbnNpdGlvbkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHZ0Q29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmhpc3RvcnlBY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IG5hdmlnYXRvcjJcbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChcbiAgICAgIE1lbW9pemVkRGF0YVJvdXRlcyxcbiAgICAgIHtcbiAgICAgICAgcm91dGVzOiByb3V0ZXIucm91dGVzLFxuICAgICAgICBmdXR1cmU6IHJvdXRlci5mdXR1cmUsXG4gICAgICAgIHN0YXRlXG4gICAgICB9XG4gICAgKVxuICApKSkpKSwgbnVsbCk7XG59XG52YXIgTWVtb2l6ZWREYXRhUm91dGVzID0gUmVhY3QzLm1lbW8oRGF0YVJvdXRlcyk7XG5mdW5jdGlvbiBEYXRhUm91dGVzKHtcbiAgcm91dGVzLFxuICBmdXR1cmUsXG4gIHN0YXRlXG59KSB7XG4gIHJldHVybiB1c2VSb3V0ZXNJbXBsKHJvdXRlcywgdm9pZCAwLCBzdGF0ZSwgZnV0dXJlKTtcbn1cbmZ1bmN0aW9uIE1lbW9yeVJvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgaW5pdGlhbEVudHJpZXMsXG4gIGluaXRpYWxJbmRleFxufSkge1xuICBsZXQgaGlzdG9yeVJlZiA9IFJlYWN0My51c2VSZWYoKTtcbiAgaWYgKGhpc3RvcnlSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgaGlzdG9yeVJlZi5jdXJyZW50ID0gY3JlYXRlTWVtb3J5SGlzdG9yeSh7XG4gICAgICBpbml0aWFsRW50cmllcyxcbiAgICAgIGluaXRpYWxJbmRleCxcbiAgICAgIHY1Q29tcGF0OiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgbGV0IGhpc3RvcnkgPSBoaXN0b3J5UmVmLmN1cnJlbnQ7XG4gIGxldCBbc3RhdGUsIHNldFN0YXRlSW1wbF0gPSBSZWFjdDMudXNlU3RhdGUoe1xuICAgIGFjdGlvbjogaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb25cbiAgfSk7XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0My51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0My5zdGFydFRyYW5zaXRpb24oKCkgPT4gc2V0U3RhdGVJbXBsKG5ld1N0YXRlKSk7XG4gICAgfSxcbiAgICBbc2V0U3RhdGVJbXBsXVxuICApO1xuICBSZWFjdDMudXNlTGF5b3V0RWZmZWN0KCgpID0+IGhpc3RvcnkubGlzdGVuKHNldFN0YXRlKSwgW2hpc3RvcnksIHNldFN0YXRlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gTmF2aWdhdGUoe1xuICB0byxcbiAgcmVwbGFjZTogcmVwbGFjZTIsXG4gIHN0YXRlLFxuICByZWxhdGl2ZVxufSkge1xuICBpbnZhcmlhbnQoXG4gICAgdXNlSW5Sb3V0ZXJDb250ZXh0KCksXG4gICAgLy8gVE9ETzogVGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHRoZXkgc29tZWhvdyBoYXZlIDIgdmVyc2lvbnMgb2ZcbiAgICAvLyB0aGUgcm91dGVyIGxvYWRlZC4gV2UgY2FuIGhlbHAgdGhlbSB1bmRlcnN0YW5kIGhvdyB0byBhdm9pZCB0aGF0LlxuICAgIGA8TmF2aWdhdGU+IG1heSBiZSB1c2VkIG9ubHkgaW4gdGhlIGNvbnRleHQgb2YgYSA8Um91dGVyPiBjb21wb25lbnQuYFxuICApO1xuICBsZXQgeyBzdGF0aWM6IGlzU3RhdGljIH0gPSBSZWFjdDMudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIHdhcm5pbmcoXG4gICAgIWlzU3RhdGljLFxuICAgIGA8TmF2aWdhdGU+IG11c3Qgbm90IGJlIHVzZWQgb24gdGhlIGluaXRpYWwgcmVuZGVyIGluIGEgPFN0YXRpY1JvdXRlcj4uIFRoaXMgaXMgYSBuby1vcCwgYnV0IHlvdSBzaG91bGQgbW9kaWZ5IHlvdXIgY29kZSBzbyB0aGUgPE5hdmlnYXRlPiBpcyBvbmx5IGV2ZXIgcmVuZGVyZWQgaW4gcmVzcG9uc2UgdG8gc29tZSB1c2VyIGludGVyYWN0aW9uIG9yIHN0YXRlIGNoYW5nZS5gXG4gICk7XG4gIGxldCB7IG1hdGNoZXMgfSA9IFJlYWN0My51c2VDb250ZXh0KFJvdXRlQ29udGV4dCk7XG4gIGxldCB7IHBhdGhuYW1lOiBsb2NhdGlvblBhdGhuYW1lIH0gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICBsZXQgcGF0aCA9IHJlc29sdmVUbyhcbiAgICB0byxcbiAgICBnZXRSZXNvbHZlVG9NYXRjaGVzKG1hdGNoZXMpLFxuICAgIGxvY2F0aW9uUGF0aG5hbWUsXG4gICAgcmVsYXRpdmUgPT09IFwicGF0aFwiXG4gICk7XG4gIGxldCBqc29uUGF0aCA9IEpTT04uc3RyaW5naWZ5KHBhdGgpO1xuICBSZWFjdDMudXNlRWZmZWN0KCgpID0+IHtcbiAgICBuYXZpZ2F0ZShKU09OLnBhcnNlKGpzb25QYXRoKSwgeyByZXBsYWNlOiByZXBsYWNlMiwgc3RhdGUsIHJlbGF0aXZlIH0pO1xuICB9LCBbbmF2aWdhdGUsIGpzb25QYXRoLCByZWxhdGl2ZSwgcmVwbGFjZTIsIHN0YXRlXSk7XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gT3V0bGV0KHByb3BzKSB7XG4gIHJldHVybiB1c2VPdXRsZXQocHJvcHMuY29udGV4dCk7XG59XG5mdW5jdGlvbiBSb3V0ZShfcHJvcHMpIHtcbiAgaW52YXJpYW50KFxuICAgIGZhbHNlLFxuICAgIGBBIDxSb3V0ZT4gaXMgb25seSBldmVyIHRvIGJlIHVzZWQgYXMgdGhlIGNoaWxkIG9mIDxSb3V0ZXM+IGVsZW1lbnQsIG5ldmVyIHJlbmRlcmVkIGRpcmVjdGx5LiBQbGVhc2Ugd3JhcCB5b3VyIDxSb3V0ZT4gaW4gYSA8Um91dGVzPi5gXG4gICk7XG59XG5mdW5jdGlvbiBSb3V0ZXIoe1xuICBiYXNlbmFtZTogYmFzZW5hbWVQcm9wID0gXCIvXCIsXG4gIGNoaWxkcmVuID0gbnVsbCxcbiAgbG9jYXRpb246IGxvY2F0aW9uUHJvcCxcbiAgbmF2aWdhdGlvblR5cGUgPSBcIlBPUFwiIC8qIFBvcCAqLyxcbiAgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLFxuICBzdGF0aWM6IHN0YXRpY1Byb3AgPSBmYWxzZVxufSkge1xuICBpbnZhcmlhbnQoXG4gICAgIXVzZUluUm91dGVyQ29udGV4dCgpLFxuICAgIGBZb3UgY2Fubm90IHJlbmRlciBhIDxSb3V0ZXI+IGluc2lkZSBhbm90aGVyIDxSb3V0ZXI+LiBZb3Ugc2hvdWxkIG5ldmVyIGhhdmUgbW9yZSB0aGFuIG9uZSBpbiB5b3VyIGFwcC5gXG4gICk7XG4gIGxldCBiYXNlbmFtZSA9IGJhc2VuYW1lUHJvcC5yZXBsYWNlKC9eXFwvKi8sIFwiL1wiKTtcbiAgbGV0IG5hdmlnYXRpb25Db250ZXh0ID0gUmVhY3QzLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLFxuICAgICAgc3RhdGljOiBzdGF0aWNQcm9wLFxuICAgICAgZnV0dXJlOiB7fVxuICAgIH0pLFxuICAgIFtiYXNlbmFtZSwgbmF2aWdhdG9yMiwgc3RhdGljUHJvcF1cbiAgKTtcbiAgaWYgKHR5cGVvZiBsb2NhdGlvblByb3AgPT09IFwic3RyaW5nXCIpIHtcbiAgICBsb2NhdGlvblByb3AgPSBwYXJzZVBhdGgobG9jYXRpb25Qcm9wKTtcbiAgfVxuICBsZXQge1xuICAgIHBhdGhuYW1lID0gXCIvXCIsXG4gICAgc2VhcmNoID0gXCJcIixcbiAgICBoYXNoID0gXCJcIixcbiAgICBzdGF0ZSA9IG51bGwsXG4gICAga2V5ID0gXCJkZWZhdWx0XCJcbiAgfSA9IGxvY2F0aW9uUHJvcDtcbiAgbGV0IGxvY2F0aW9uQ29udGV4dCA9IFJlYWN0My51c2VNZW1vKCgpID0+IHtcbiAgICBsZXQgdHJhaWxpbmdQYXRobmFtZSA9IHN0cmlwQmFzZW5hbWUocGF0aG5hbWUsIGJhc2VuYW1lKTtcbiAgICBpZiAodHJhaWxpbmdQYXRobmFtZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgIHBhdGhuYW1lOiB0cmFpbGluZ1BhdGhuYW1lLFxuICAgICAgICBzZWFyY2gsXG4gICAgICAgIGhhc2gsXG4gICAgICAgIHN0YXRlLFxuICAgICAgICBrZXlcbiAgICAgIH0sXG4gICAgICBuYXZpZ2F0aW9uVHlwZVxuICAgIH07XG4gIH0sIFtiYXNlbmFtZSwgcGF0aG5hbWUsIHNlYXJjaCwgaGFzaCwgc3RhdGUsIGtleSwgbmF2aWdhdGlvblR5cGVdKTtcbiAgd2FybmluZyhcbiAgICBsb2NhdGlvbkNvbnRleHQgIT0gbnVsbCxcbiAgICBgPFJvdXRlciBiYXNlbmFtZT1cIiR7YmFzZW5hbWV9XCI+IGlzIG5vdCBhYmxlIHRvIG1hdGNoIHRoZSBVUkwgXCIke3BhdGhuYW1lfSR7c2VhcmNofSR7aGFzaH1cIiBiZWNhdXNlIGl0IGRvZXMgbm90IHN0YXJ0IHdpdGggdGhlIGJhc2VuYW1lLCBzbyB0aGUgPFJvdXRlcj4gd29uJ3QgcmVuZGVyIGFueXRoaW5nLmBcbiAgKTtcbiAgaWYgKGxvY2F0aW9uQ29udGV4dCA9PSBudWxsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChOYXZpZ2F0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogbmF2aWdhdGlvbkNvbnRleHQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0My5jcmVhdGVFbGVtZW50KExvY2F0aW9uQ29udGV4dC5Qcm92aWRlciwgeyBjaGlsZHJlbiwgdmFsdWU6IGxvY2F0aW9uQ29udGV4dCB9KSk7XG59XG5mdW5jdGlvbiBSb3V0ZXMoe1xuICBjaGlsZHJlbixcbiAgbG9jYXRpb25cbn0pIHtcbiAgcmV0dXJuIHVzZVJvdXRlcyhjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oY2hpbGRyZW4pLCBsb2NhdGlvbik7XG59XG5mdW5jdGlvbiBBd2FpdCh7XG4gIGNoaWxkcmVuLFxuICBlcnJvckVsZW1lbnQsXG4gIHJlc29sdmVcbn0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChBd2FpdEVycm9yQm91bmRhcnksIHsgcmVzb2x2ZSwgZXJyb3JFbGVtZW50IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChSZXNvbHZlQXdhaXQsIG51bGwsIGNoaWxkcmVuKSk7XG59XG52YXIgQXdhaXRFcnJvckJvdW5kYXJ5ID0gY2xhc3MgZXh0ZW5kcyBSZWFjdDMuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHsgZXJyb3I6IG51bGwgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgfVxuICBjb21wb25lbnREaWRDYXRjaChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIFwiPEF3YWl0PiBjYXVnaHQgdGhlIGZvbGxvd2luZyBlcnJvciBkdXJpbmcgcmVuZGVyXCIsXG4gICAgICBlcnJvcixcbiAgICAgIGVycm9ySW5mb1xuICAgICk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGxldCB7IGNoaWxkcmVuLCBlcnJvckVsZW1lbnQsIHJlc29sdmUgfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IHByb21pc2UgPSBudWxsO1xuICAgIGxldCBzdGF0dXMgPSAwIC8qIHBlbmRpbmcgKi87XG4gICAgaWYgKCEocmVzb2x2ZSBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICBzdGF0dXMgPSAxIC8qIHN1Y2Nlc3MgKi87XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvbWlzZSwgXCJfdHJhY2tlZFwiLCB7IGdldDogKCkgPT4gdHJ1ZSB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl9kYXRhXCIsIHsgZ2V0OiAoKSA9PiByZXNvbHZlIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5lcnJvcikge1xuICAgICAgc3RhdHVzID0gMiAvKiBlcnJvciAqLztcbiAgICAgIGxldCByZW5kZXJFcnJvciA9IHRoaXMuc3RhdGUuZXJyb3I7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZWplY3QoKS5jYXRjaCgoKSA9PiB7XG4gICAgICB9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9taXNlLCBcIl90cmFja2VkXCIsIHsgZ2V0OiAoKSA9PiB0cnVlIH0pO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb21pc2UsIFwiX2Vycm9yXCIsIHsgZ2V0OiAoKSA9PiByZW5kZXJFcnJvciB9KTtcbiAgICB9IGVsc2UgaWYgKHJlc29sdmUuX3RyYWNrZWQpIHtcbiAgICAgIHByb21pc2UgPSByZXNvbHZlO1xuICAgICAgc3RhdHVzID0gXCJfZXJyb3JcIiBpbiBwcm9taXNlID8gMiAvKiBlcnJvciAqLyA6IFwiX2RhdGFcIiBpbiBwcm9taXNlID8gMSAvKiBzdWNjZXNzICovIDogMCAvKiBwZW5kaW5nICovO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0dXMgPSAwIC8qIHBlbmRpbmcgKi87XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocmVzb2x2ZSwgXCJfdHJhY2tlZFwiLCB7IGdldDogKCkgPT4gdHJ1ZSB9KTtcbiAgICAgIHByb21pc2UgPSByZXNvbHZlLnRoZW4oXG4gICAgICAgIChkYXRhMikgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlc29sdmUsIFwiX2RhdGFcIiwgeyBnZXQ6ICgpID0+IGRhdGEyIH0pLFxuICAgICAgICAoZXJyb3IpID0+IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyZXNvbHZlLCBcIl9lcnJvclwiLCB7IGdldDogKCkgPT4gZXJyb3IgfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDIgLyogZXJyb3IgKi8gJiYgIWVycm9yRWxlbWVudCkge1xuICAgICAgdGhyb3cgcHJvbWlzZS5fZXJyb3I7XG4gICAgfVxuICAgIGlmIChzdGF0dXMgPT09IDIgLyogZXJyb3IgKi8pIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoQXdhaXRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwcm9taXNlLCBjaGlsZHJlbjogZXJyb3JFbGVtZW50IH0pO1xuICAgIH1cbiAgICBpZiAoc3RhdHVzID09PSAxIC8qIHN1Y2Nlc3MgKi8pIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoQXdhaXRDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBwcm9taXNlLCBjaGlsZHJlbiB9KTtcbiAgICB9XG4gICAgdGhyb3cgcHJvbWlzZTtcbiAgfVxufTtcbmZ1bmN0aW9uIFJlc29sdmVBd2FpdCh7XG4gIGNoaWxkcmVuXG59KSB7XG4gIGxldCBkYXRhMiA9IHVzZUFzeW5jVmFsdWUoKTtcbiAgbGV0IHRvUmVuZGVyID0gdHlwZW9mIGNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIgPyBjaGlsZHJlbihkYXRhMikgOiBjaGlsZHJlbjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChSZWFjdDMuRnJhZ21lbnQsIG51bGwsIHRvUmVuZGVyKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihjaGlsZHJlbiwgcGFyZW50UGF0aCA9IFtdKSB7XG4gIGxldCByb3V0ZXMgPSBbXTtcbiAgUmVhY3QzLkNoaWxkcmVuLmZvckVhY2goY2hpbGRyZW4sIChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgIGlmICghUmVhY3QzLmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCB0cmVlUGF0aCA9IFsuLi5wYXJlbnRQYXRoLCBpbmRleF07XG4gICAgaWYgKGVsZW1lbnQudHlwZSA9PT0gUmVhY3QzLkZyYWdtZW50KSB7XG4gICAgICByb3V0ZXMucHVzaC5hcHBseShcbiAgICAgICAgcm91dGVzLFxuICAgICAgICBjcmVhdGVSb3V0ZXNGcm9tQ2hpbGRyZW4oZWxlbWVudC5wcm9wcy5jaGlsZHJlbiwgdHJlZVBhdGgpXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnZhcmlhbnQoXG4gICAgICBlbGVtZW50LnR5cGUgPT09IFJvdXRlLFxuICAgICAgYFske3R5cGVvZiBlbGVtZW50LnR5cGUgPT09IFwic3RyaW5nXCIgPyBlbGVtZW50LnR5cGUgOiBlbGVtZW50LnR5cGUubmFtZX1dIGlzIG5vdCBhIDxSb3V0ZT4gY29tcG9uZW50LiBBbGwgY29tcG9uZW50IGNoaWxkcmVuIG9mIDxSb3V0ZXM+IG11c3QgYmUgYSA8Um91dGU+IG9yIDxSZWFjdC5GcmFnbWVudD5gXG4gICAgKTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhZWxlbWVudC5wcm9wcy5pbmRleCB8fCAhZWxlbWVudC5wcm9wcy5jaGlsZHJlbixcbiAgICAgIFwiQW4gaW5kZXggcm91dGUgY2Fubm90IGhhdmUgY2hpbGQgcm91dGVzLlwiXG4gICAgKTtcbiAgICBsZXQgcm91dGUgPSB7XG4gICAgICBpZDogZWxlbWVudC5wcm9wcy5pZCB8fCB0cmVlUGF0aC5qb2luKFwiLVwiKSxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IGVsZW1lbnQucHJvcHMuY2FzZVNlbnNpdGl2ZSxcbiAgICAgIGVsZW1lbnQ6IGVsZW1lbnQucHJvcHMuZWxlbWVudCxcbiAgICAgIENvbXBvbmVudDogZWxlbWVudC5wcm9wcy5Db21wb25lbnQsXG4gICAgICBpbmRleDogZWxlbWVudC5wcm9wcy5pbmRleCxcbiAgICAgIHBhdGg6IGVsZW1lbnQucHJvcHMucGF0aCxcbiAgICAgIGxvYWRlcjogZWxlbWVudC5wcm9wcy5sb2FkZXIsXG4gICAgICBhY3Rpb246IGVsZW1lbnQucHJvcHMuYWN0aW9uLFxuICAgICAgaHlkcmF0ZUZhbGxiYWNrRWxlbWVudDogZWxlbWVudC5wcm9wcy5oeWRyYXRlRmFsbGJhY2tFbGVtZW50LFxuICAgICAgSHlkcmF0ZUZhbGxiYWNrOiBlbGVtZW50LnByb3BzLkh5ZHJhdGVGYWxsYmFjayxcbiAgICAgIGVycm9yRWxlbWVudDogZWxlbWVudC5wcm9wcy5lcnJvckVsZW1lbnQsXG4gICAgICBFcnJvckJvdW5kYXJ5OiBlbGVtZW50LnByb3BzLkVycm9yQm91bmRhcnksXG4gICAgICBoYXNFcnJvckJvdW5kYXJ5OiBlbGVtZW50LnByb3BzLmhhc0Vycm9yQm91bmRhcnkgPT09IHRydWUgfHwgZWxlbWVudC5wcm9wcy5FcnJvckJvdW5kYXJ5ICE9IG51bGwgfHwgZWxlbWVudC5wcm9wcy5lcnJvckVsZW1lbnQgIT0gbnVsbCxcbiAgICAgIHNob3VsZFJldmFsaWRhdGU6IGVsZW1lbnQucHJvcHMuc2hvdWxkUmV2YWxpZGF0ZSxcbiAgICAgIGhhbmRsZTogZWxlbWVudC5wcm9wcy5oYW5kbGUsXG4gICAgICBsYXp5OiBlbGVtZW50LnByb3BzLmxhenlcbiAgICB9O1xuICAgIGlmIChlbGVtZW50LnByb3BzLmNoaWxkcmVuKSB7XG4gICAgICByb3V0ZS5jaGlsZHJlbiA9IGNyZWF0ZVJvdXRlc0Zyb21DaGlsZHJlbihcbiAgICAgICAgZWxlbWVudC5wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgdHJlZVBhdGhcbiAgICAgICk7XG4gICAgfVxuICAgIHJvdXRlcy5wdXNoKHJvdXRlKTtcbiAgfSk7XG4gIHJldHVybiByb3V0ZXM7XG59XG52YXIgY3JlYXRlUm91dGVzRnJvbUVsZW1lbnRzID0gY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuO1xuZnVuY3Rpb24gcmVuZGVyTWF0Y2hlcyhtYXRjaGVzKSB7XG4gIHJldHVybiBfcmVuZGVyTWF0Y2hlcyhtYXRjaGVzKTtcbn1cblxuLy8gbGliL2RvbS9saWIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEwIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBsaWIvZG9tL2RvbS50c1xudmFyIGRlZmF1bHRNZXRob2QgPSBcImdldFwiO1xudmFyIGRlZmF1bHRFbmNUeXBlID0gXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIjtcbmZ1bmN0aW9uIGlzSHRtbEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0LnRhZ05hbWUgPT09IFwic3RyaW5nXCI7XG59XG5mdW5jdGlvbiBpc0J1dHRvbkVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBpc0h0bWxFbGVtZW50KG9iamVjdCkgJiYgb2JqZWN0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJidXR0b25cIjtcbn1cbmZ1bmN0aW9uIGlzRm9ybUVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiBpc0h0bWxFbGVtZW50KG9iamVjdCkgJiYgb2JqZWN0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmb3JtXCI7XG59XG5mdW5jdGlvbiBpc0lucHV0RWxlbWVudChvYmplY3QpIHtcbiAgcmV0dXJuIGlzSHRtbEVsZW1lbnQob2JqZWN0KSAmJiBvYmplY3QudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImlucHV0XCI7XG59XG5mdW5jdGlvbiBpc01vZGlmaWVkRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuICEhKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkpO1xufVxuZnVuY3Rpb24gc2hvdWxkUHJvY2Vzc0xpbmtDbGljayhldmVudCwgdGFyZ2V0KSB7XG4gIHJldHVybiBldmVudC5idXR0b24gPT09IDAgJiYgLy8gSWdub3JlIGV2ZXJ5dGhpbmcgYnV0IGxlZnQgY2xpY2tzXG4gICghdGFyZ2V0IHx8IHRhcmdldCA9PT0gXCJfc2VsZlwiKSAmJiAvLyBMZXQgYnJvd3NlciBoYW5kbGUgXCJ0YXJnZXQ9X2JsYW5rXCIgZXRjLlxuICAhaXNNb2RpZmllZEV2ZW50KGV2ZW50KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNlYXJjaFBhcmFtcyhpbml0ID0gXCJcIikge1xuICByZXR1cm4gbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICB0eXBlb2YgaW5pdCA9PT0gXCJzdHJpbmdcIiB8fCBBcnJheS5pc0FycmF5KGluaXQpIHx8IGluaXQgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMgPyBpbml0IDogT2JqZWN0LmtleXMoaW5pdCkucmVkdWNlKChtZW1vMiwga2V5KSA9PiB7XG4gICAgICBsZXQgdmFsdWUgPSBpbml0W2tleV07XG4gICAgICByZXR1cm4gbWVtbzIuY29uY2F0KFxuICAgICAgICBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlLm1hcCgodikgPT4gW2tleSwgdl0pIDogW1trZXksIHZhbHVlXV1cbiAgICAgICk7XG4gICAgfSwgW10pXG4gICk7XG59XG5mdW5jdGlvbiBnZXRTZWFyY2hQYXJhbXNGb3JMb2NhdGlvbihsb2NhdGlvblNlYXJjaCwgZGVmYXVsdFNlYXJjaFBhcmFtcykge1xuICBsZXQgc2VhcmNoUGFyYW1zID0gY3JlYXRlU2VhcmNoUGFyYW1zKGxvY2F0aW9uU2VhcmNoKTtcbiAgaWYgKGRlZmF1bHRTZWFyY2hQYXJhbXMpIHtcbiAgICBkZWZhdWx0U2VhcmNoUGFyYW1zLmZvckVhY2goKF8sIGtleSkgPT4ge1xuICAgICAgaWYgKCFzZWFyY2hQYXJhbXMuaGFzKGtleSkpIHtcbiAgICAgICAgZGVmYXVsdFNlYXJjaFBhcmFtcy5nZXRBbGwoa2V5KS5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBzZWFyY2hQYXJhbXM7XG59XG52YXIgX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXIgPSBudWxsO1xuZnVuY3Rpb24gaXNGb3JtRGF0YVN1Ym1pdHRlclN1cHBvcnRlZCgpIHtcbiAgaWYgKF9mb3JtRGF0YVN1cHBvcnRzU3VibWl0dGVyID09PSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIG5ldyBGb3JtRGF0YShcbiAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIiksXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaWYgRm9ybURhdGEgc3VwcG9ydHMgdGhlIHN1Ym1pdHRlciBwYXJhbWV0ZXIsIHRoaXMgd2lsbCB0aHJvd1xuICAgICAgICAwXG4gICAgICApO1xuICAgICAgX2Zvcm1EYXRhU3VwcG9ydHNTdWJtaXR0ZXIgPSBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlciA9IHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBfZm9ybURhdGFTdXBwb3J0c1N1Ym1pdHRlcjtcbn1cbnZhciBzdXBwb3J0ZWRGb3JtRW5jVHlwZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsXG4gIFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLFxuICBcInRleHQvcGxhaW5cIlxuXSk7XG5mdW5jdGlvbiBnZXRGb3JtRW5jVHlwZShlbmNUeXBlKSB7XG4gIGlmIChlbmNUeXBlICE9IG51bGwgJiYgIXN1cHBvcnRlZEZvcm1FbmNUeXBlcy5oYXMoZW5jVHlwZSkpIHtcbiAgICB3YXJuaW5nKFxuICAgICAgZmFsc2UsXG4gICAgICBgXCIke2VuY1R5cGV9XCIgaXMgbm90IGEgdmFsaWQgXFxgZW5jVHlwZVxcYCBmb3IgXFxgPEZvcm0+XFxgL1xcYDxmZXRjaGVyLkZvcm0+XFxgIGFuZCB3aWxsIGRlZmF1bHQgdG8gXCIke2RlZmF1bHRFbmNUeXBlfVwiYFxuICAgICk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIGVuY1R5cGU7XG59XG5mdW5jdGlvbiBnZXRGb3JtU3VibWlzc2lvbkluZm8odGFyZ2V0LCBiYXNlbmFtZSkge1xuICBsZXQgbWV0aG9kO1xuICBsZXQgYWN0aW9uO1xuICBsZXQgZW5jVHlwZTtcbiAgbGV0IGZvcm1EYXRhO1xuICBsZXQgYm9keTtcbiAgaWYgKGlzRm9ybUVsZW1lbnQodGFyZ2V0KSkge1xuICAgIGxldCBhdHRyID0gdGFyZ2V0LmdldEF0dHJpYnV0ZShcImFjdGlvblwiKTtcbiAgICBhY3Rpb24gPSBhdHRyID8gc3RyaXBCYXNlbmFtZShhdHRyLCBiYXNlbmFtZSkgOiBudWxsO1xuICAgIG1ldGhvZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJtZXRob2RcIikgfHwgZGVmYXVsdE1ldGhvZDtcbiAgICBlbmNUeXBlID0gZ2V0Rm9ybUVuY1R5cGUodGFyZ2V0LmdldEF0dHJpYnV0ZShcImVuY3R5cGVcIikpIHx8IGRlZmF1bHRFbmNUeXBlO1xuICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKHRhcmdldCk7XG4gIH0gZWxzZSBpZiAoaXNCdXR0b25FbGVtZW50KHRhcmdldCkgfHwgaXNJbnB1dEVsZW1lbnQodGFyZ2V0KSAmJiAodGFyZ2V0LnR5cGUgPT09IFwic3VibWl0XCIgfHwgdGFyZ2V0LnR5cGUgPT09IFwiaW1hZ2VcIikpIHtcbiAgICBsZXQgZm9ybSA9IHRhcmdldC5mb3JtO1xuICAgIGlmIChmb3JtID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYENhbm5vdCBzdWJtaXQgYSA8YnV0dG9uPiBvciA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiPiB3aXRob3V0IGEgPGZvcm0+YFxuICAgICAgKTtcbiAgICB9XG4gICAgbGV0IGF0dHIgPSB0YXJnZXQuZ2V0QXR0cmlidXRlKFwiZm9ybWFjdGlvblwiKSB8fCBmb3JtLmdldEF0dHJpYnV0ZShcImFjdGlvblwiKTtcbiAgICBhY3Rpb24gPSBhdHRyID8gc3RyaXBCYXNlbmFtZShhdHRyLCBiYXNlbmFtZSkgOiBudWxsO1xuICAgIG1ldGhvZCA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJmb3JtbWV0aG9kXCIpIHx8IGZvcm0uZ2V0QXR0cmlidXRlKFwibWV0aG9kXCIpIHx8IGRlZmF1bHRNZXRob2Q7XG4gICAgZW5jVHlwZSA9IGdldEZvcm1FbmNUeXBlKHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJmb3JtZW5jdHlwZVwiKSkgfHwgZ2V0Rm9ybUVuY1R5cGUoZm9ybS5nZXRBdHRyaWJ1dGUoXCJlbmN0eXBlXCIpKSB8fCBkZWZhdWx0RW5jVHlwZTtcbiAgICBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtLCB0YXJnZXQpO1xuICAgIGlmICghaXNGb3JtRGF0YVN1Ym1pdHRlclN1cHBvcnRlZCgpKSB7XG4gICAgICBsZXQgeyBuYW1lLCB0eXBlLCB2YWx1ZSB9ID0gdGFyZ2V0O1xuICAgICAgaWYgKHR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgICAgICBsZXQgcHJlZml4ID0gbmFtZSA/IGAke25hbWV9LmAgOiBcIlwiO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoYCR7cHJlZml4fXhgLCBcIjBcIik7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChgJHtwcmVmaXh9eWAsIFwiMFwiKTtcbiAgICAgIH0gZWxzZSBpZiAobmFtZSkge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChpc0h0bWxFbGVtZW50KHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgQ2Fubm90IHN1Ym1pdCBlbGVtZW50IHRoYXQgaXMgbm90IDxmb3JtPiwgPGJ1dHRvbj4sIG9yIDxpbnB1dCB0eXBlPVwic3VibWl0fGltYWdlXCI+YFxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgbWV0aG9kID0gZGVmYXVsdE1ldGhvZDtcbiAgICBhY3Rpb24gPSBudWxsO1xuICAgIGVuY1R5cGUgPSBkZWZhdWx0RW5jVHlwZTtcbiAgICBib2R5ID0gdGFyZ2V0O1xuICB9XG4gIGlmIChmb3JtRGF0YSAmJiBlbmNUeXBlID09PSBcInRleHQvcGxhaW5cIikge1xuICAgIGJvZHkgPSBmb3JtRGF0YTtcbiAgICBmb3JtRGF0YSA9IHZvaWQgMDtcbiAgfVxuICByZXR1cm4geyBhY3Rpb24sIG1ldGhvZDogbWV0aG9kLnRvTG93ZXJDYXNlKCksIGVuY1R5cGUsIGZvcm1EYXRhLCBib2R5IH07XG59XG5cbi8vIGxpYi9kb20vc3NyL2NvbXBvbmVudHMudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDkgZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vc3NyL2ludmFyaWFudC50c1xuZnVuY3Rpb24gaW52YXJpYW50Mih2YWx1ZSwgbWVzc2FnZSkge1xuICBpZiAodmFsdWUgPT09IGZhbHNlIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG4vLyBsaWIvZG9tL3Nzci9yb3V0ZU1vZHVsZXMudHNcbmFzeW5jIGZ1bmN0aW9uIGxvYWRSb3V0ZU1vZHVsZShyb3V0ZSwgcm91dGVNb2R1bGVzQ2FjaGUpIHtcbiAgaWYgKHJvdXRlLmlkIGluIHJvdXRlTW9kdWxlc0NhY2hlKSB7XG4gICAgcmV0dXJuIHJvdXRlTW9kdWxlc0NhY2hlW3JvdXRlLmlkXTtcbiAgfVxuICB0cnkge1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IGF3YWl0IGltcG9ydChcbiAgICAgIC8qIEB2aXRlLWlnbm9yZSAqL1xuICAgICAgLyogd2VicGFja0lnbm9yZTogdHJ1ZSAqL1xuICAgICAgcm91dGUubW9kdWxlXG4gICAgKTtcbiAgICByb3V0ZU1vZHVsZXNDYWNoZVtyb3V0ZS5pZF0gPSByb3V0ZU1vZHVsZTtcbiAgICByZXR1cm4gcm91dGVNb2R1bGU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBFcnJvciBsb2FkaW5nIHJvdXRlIG1vZHVsZSBcXGAke3JvdXRlLm1vZHVsZX1cXGAsIHJlbG9hZGluZyBwYWdlLi4uYFxuICAgICk7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgaWYgKHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dCAmJiB3aW5kb3cuX19yZWFjdFJvdXRlckNvbnRleHQuaXNTcGFNb2RlICYmIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBpbXBvcnQubWV0YS5ob3QpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKCgpID0+IHtcbiAgICB9KTtcbiAgfVxufVxuXG4vLyBsaWIvZG9tL3Nzci9saW5rcy50c1xuZnVuY3Rpb24gZ2V0S2V5ZWRMaW5rc0Zvck1hdGNoZXMobWF0Y2hlcywgcm91dGVNb2R1bGVzLCBtYW5pZmVzdCkge1xuICBsZXQgZGVzY3JpcHRvcnMgPSBtYXRjaGVzLm1hcCgobWF0Y2gpID0+IHtcbiAgICBsZXQgbW9kdWxlID0gcm91dGVNb2R1bGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICBsZXQgcm91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgIHJldHVybiBbXG4gICAgICByb3V0ZSAmJiByb3V0ZS5jc3MgPyByb3V0ZS5jc3MubWFwKChocmVmMikgPT4gKHsgcmVsOiBcInN0eWxlc2hlZXRcIiwgaHJlZjogaHJlZjIgfSkpIDogW10sXG4gICAgICBtb2R1bGU/LmxpbmtzPy4oKSB8fCBbXVxuICAgIF07XG4gIH0pLmZsYXQoMik7XG4gIGxldCBwcmVsb2FkcyA9IGdldE1vZHVsZUxpbmtIcmVmcyhtYXRjaGVzLCBtYW5pZmVzdCk7XG4gIHJldHVybiBkZWR1cGVMaW5rRGVzY3JpcHRvcnMoZGVzY3JpcHRvcnMsIHByZWxvYWRzKTtcbn1cbmZ1bmN0aW9uIGdldFJvdXRlQ3NzRGVzY3JpcHRvcnMocm91dGUpIHtcbiAgaWYgKCFyb3V0ZS5jc3MpIHJldHVybiBbXTtcbiAgcmV0dXJuIHJvdXRlLmNzcy5tYXAoKGhyZWYyKSA9PiAoeyByZWw6IFwic3R5bGVzaGVldFwiLCBocmVmOiBocmVmMiB9KSk7XG59XG5hc3luYyBmdW5jdGlvbiBwcmVmZXRjaFJvdXRlQ3NzKHJvdXRlKSB7XG4gIGlmICghcm91dGUuY3NzKSByZXR1cm47XG4gIGxldCBkZXNjcmlwdG9ycyA9IGdldFJvdXRlQ3NzRGVzY3JpcHRvcnMocm91dGUpO1xuICBhd2FpdCBQcm9taXNlLmFsbChkZXNjcmlwdG9ycy5tYXAocHJlZmV0Y2hTdHlsZUxpbmspKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIHByZWZldGNoU3R5bGVMaW5rcyhyb3V0ZSwgcm91dGVNb2R1bGUpIHtcbiAgaWYgKCFyb3V0ZS5jc3MgJiYgIXJvdXRlTW9kdWxlLmxpbmtzIHx8ICFpc1ByZWxvYWRTdXBwb3J0ZWQoKSkgcmV0dXJuO1xuICBsZXQgZGVzY3JpcHRvcnMgPSBbXTtcbiAgaWYgKHJvdXRlLmNzcykge1xuICAgIGRlc2NyaXB0b3JzLnB1c2goLi4uZ2V0Um91dGVDc3NEZXNjcmlwdG9ycyhyb3V0ZSkpO1xuICB9XG4gIGlmIChyb3V0ZU1vZHVsZS5saW5rcykge1xuICAgIGRlc2NyaXB0b3JzLnB1c2goLi4ucm91dGVNb2R1bGUubGlua3MoKSk7XG4gIH1cbiAgaWYgKGRlc2NyaXB0b3JzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuICBsZXQgc3R5bGVMaW5rcyA9IFtdO1xuICBmb3IgKGxldCBkZXNjcmlwdG9yIG9mIGRlc2NyaXB0b3JzKSB7XG4gICAgaWYgKCFpc1BhZ2VMaW5rRGVzY3JpcHRvcihkZXNjcmlwdG9yKSAmJiBkZXNjcmlwdG9yLnJlbCA9PT0gXCJzdHlsZXNoZWV0XCIpIHtcbiAgICAgIHN0eWxlTGlua3MucHVzaCh7XG4gICAgICAgIC4uLmRlc2NyaXB0b3IsXG4gICAgICAgIHJlbDogXCJwcmVsb2FkXCIsXG4gICAgICAgIGFzOiBcInN0eWxlXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBhd2FpdCBQcm9taXNlLmFsbChzdHlsZUxpbmtzLm1hcChwcmVmZXRjaFN0eWxlTGluaykpO1xufVxuYXN5bmMgZnVuY3Rpb24gcHJlZmV0Y2hTdHlsZUxpbmsoZGVzY3JpcHRvcikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBpZiAoZGVzY3JpcHRvci5tZWRpYSAmJiAhd2luZG93Lm1hdGNoTWVkaWEoZGVzY3JpcHRvci5tZWRpYSkubWF0Y2hlcyB8fCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYGxpbmtbcmVsPVwic3R5bGVzaGVldFwiXVtocmVmPVwiJHtkZXNjcmlwdG9yLmhyZWZ9XCJdYFxuICAgICkpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgfVxuICAgIGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG4gICAgT2JqZWN0LmFzc2lnbihsaW5rLCBkZXNjcmlwdG9yKTtcbiAgICBmdW5jdGlvbiByZW1vdmVMaW5rKCkge1xuICAgICAgaWYgKGRvY3VtZW50LmhlYWQuY29udGFpbnMobGluaykpIHtcbiAgICAgICAgZG9jdW1lbnQuaGVhZC5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGluay5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICByZW1vdmVMaW5rKCk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBsaW5rLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICByZW1vdmVMaW5rKCk7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGxpbmspO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGlzUGFnZUxpbmtEZXNjcmlwdG9yKG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgdHlwZW9mIG9iamVjdC5wYWdlID09PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gaXNIdG1sTGlua0Rlc2NyaXB0b3Iob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAob2JqZWN0LmhyZWYgPT0gbnVsbCkge1xuICAgIHJldHVybiBvYmplY3QucmVsID09PSBcInByZWxvYWRcIiAmJiB0eXBlb2Ygb2JqZWN0LmltYWdlU3JjU2V0ID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBvYmplY3QuaW1hZ2VTaXplcyA9PT0gXCJzdHJpbmdcIjtcbiAgfVxuICByZXR1cm4gdHlwZW9mIG9iamVjdC5yZWwgPT09IFwic3RyaW5nXCIgJiYgdHlwZW9mIG9iamVjdC5ocmVmID09PSBcInN0cmluZ1wiO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0S2V5ZWRQcmVmZXRjaExpbmtzKG1hdGNoZXMsIG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMpIHtcbiAgbGV0IGxpbmtzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgbWF0Y2hlcy5tYXAoYXN5bmMgKG1hdGNoKSA9PiB7XG4gICAgICBsZXQgcm91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgIGxldCBtb2QgPSBhd2FpdCBsb2FkUm91dGVNb2R1bGUocm91dGUsIHJvdXRlTW9kdWxlcyk7XG4gICAgICAgIHJldHVybiBtb2QubGlua3MgPyBtb2QubGlua3MoKSA6IFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFtdO1xuICAgIH0pXG4gICk7XG4gIHJldHVybiBkZWR1cGVMaW5rRGVzY3JpcHRvcnMoXG4gICAgbGlua3MuZmxhdCgxKS5maWx0ZXIoaXNIdG1sTGlua0Rlc2NyaXB0b3IpLmZpbHRlcigobGluaykgPT4gbGluay5yZWwgPT09IFwic3R5bGVzaGVldFwiIHx8IGxpbmsucmVsID09PSBcInByZWxvYWRcIikubWFwKFxuICAgICAgKGxpbmspID0+IGxpbmsucmVsID09PSBcInN0eWxlc2hlZXRcIiA/IHsgLi4ubGluaywgcmVsOiBcInByZWZldGNoXCIsIGFzOiBcInN0eWxlXCIgfSA6IHsgLi4ubGluaywgcmVsOiBcInByZWZldGNoXCIgfVxuICAgIClcbiAgKTtcbn1cbmZ1bmN0aW9uIGdldE5ld01hdGNoZXNGb3JMaW5rcyhwYWdlLCBuZXh0TWF0Y2hlcywgY3VycmVudE1hdGNoZXMsIG1hbmlmZXN0LCBsb2NhdGlvbiwgbW9kZSkge1xuICBsZXQgaXNOZXcgPSAobWF0Y2gsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFjdXJyZW50TWF0Y2hlc1tpbmRleF0pIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBtYXRjaC5yb3V0ZS5pZCAhPT0gY3VycmVudE1hdGNoZXNbaW5kZXhdLnJvdXRlLmlkO1xuICB9O1xuICBsZXQgbWF0Y2hQYXRoQ2hhbmdlZCA9IChtYXRjaCwgaW5kZXgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgLy8gcGFyYW0gY2hhbmdlLCAvdXNlcnMvMTIzIC0+IC91c2Vycy80NTZcbiAgICAgIGN1cnJlbnRNYXRjaGVzW2luZGV4XS5wYXRobmFtZSAhPT0gbWF0Y2gucGF0aG5hbWUgfHwgLy8gc3BsYXQgcGFyYW0gY2hhbmdlZCwgd2hpY2ggaXMgbm90IHByZXNlbnQgaW4gbWF0Y2gucGF0aFxuICAgICAgLy8gZS5nLiAvZmlsZXMvaW1hZ2VzL2F2YXRhci5qcGcgLT4gZmlsZXMvZmluYW5jZXMueGxzXG4gICAgICBjdXJyZW50TWF0Y2hlc1tpbmRleF0ucm91dGUucGF0aD8uZW5kc1dpdGgoXCIqXCIpICYmIGN1cnJlbnRNYXRjaGVzW2luZGV4XS5wYXJhbXNbXCIqXCJdICE9PSBtYXRjaC5wYXJhbXNbXCIqXCJdXG4gICAgKTtcbiAgfTtcbiAgaWYgKG1vZGUgPT09IFwiYXNzZXRzXCIpIHtcbiAgICByZXR1cm4gbmV4dE1hdGNoZXMuZmlsdGVyKFxuICAgICAgKG1hdGNoLCBpbmRleCkgPT4gaXNOZXcobWF0Y2gsIGluZGV4KSB8fCBtYXRjaFBhdGhDaGFuZ2VkKG1hdGNoLCBpbmRleClcbiAgICApO1xuICB9XG4gIGlmIChtb2RlID09PSBcImRhdGFcIikge1xuICAgIHJldHVybiBuZXh0TWF0Y2hlcy5maWx0ZXIoKG1hdGNoLCBpbmRleCkgPT4ge1xuICAgICAgbGV0IG1hbmlmZXN0Um91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgaWYgKCFtYW5pZmVzdFJvdXRlIHx8ICFtYW5pZmVzdFJvdXRlLmhhc0xvYWRlcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoaXNOZXcobWF0Y2gsIGluZGV4KSB8fCBtYXRjaFBhdGhDaGFuZ2VkKG1hdGNoLCBpbmRleCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAobWF0Y2gucm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgICBsZXQgcm91dGVDaG9pY2UgPSBtYXRjaC5yb3V0ZS5zaG91bGRSZXZhbGlkYXRlKHtcbiAgICAgICAgICBjdXJyZW50VXJsOiBuZXcgVVJMKFxuICAgICAgICAgICAgbG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2ggKyBsb2NhdGlvbi5oYXNoLFxuICAgICAgICAgICAgd2luZG93Lm9yaWdpblxuICAgICAgICAgICksXG4gICAgICAgICAgY3VycmVudFBhcmFtczogY3VycmVudE1hdGNoZXNbMF0/LnBhcmFtcyB8fCB7fSxcbiAgICAgICAgICBuZXh0VXJsOiBuZXcgVVJMKHBhZ2UsIHdpbmRvdy5vcmlnaW4pLFxuICAgICAgICAgIG5leHRQYXJhbXM6IG1hdGNoLnBhcmFtcyxcbiAgICAgICAgICBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHR5cGVvZiByb3V0ZUNob2ljZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICByZXR1cm4gcm91dGVDaG9pY2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBbXTtcbn1cbmZ1bmN0aW9uIGdldE1vZHVsZUxpbmtIcmVmcyhtYXRjaGVzLCBtYW5pZmVzdCwgeyBpbmNsdWRlSHlkcmF0ZUZhbGxiYWNrIH0gPSB7fSkge1xuICByZXR1cm4gZGVkdXBlSHJlZnMoXG4gICAgbWF0Y2hlcy5tYXAoKG1hdGNoKSA9PiB7XG4gICAgICBsZXQgcm91dGUgPSBtYW5pZmVzdC5yb3V0ZXNbbWF0Y2gucm91dGUuaWRdO1xuICAgICAgaWYgKCFyb3V0ZSkgcmV0dXJuIFtdO1xuICAgICAgbGV0IGhyZWZzID0gW3JvdXRlLm1vZHVsZV07XG4gICAgICBpZiAocm91dGUuY2xpZW50QWN0aW9uTW9kdWxlKSB7XG4gICAgICAgIGhyZWZzID0gaHJlZnMuY29uY2F0KHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSk7XG4gICAgICB9XG4gICAgICBpZiAocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlKSB7XG4gICAgICAgIGhyZWZzID0gaHJlZnMuY29uY2F0KHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSk7XG4gICAgICB9XG4gICAgICBpZiAoaW5jbHVkZUh5ZHJhdGVGYWxsYmFjayAmJiByb3V0ZS5oeWRyYXRlRmFsbGJhY2tNb2R1bGUpIHtcbiAgICAgICAgaHJlZnMgPSBocmVmcy5jb25jYXQocm91dGUuaHlkcmF0ZUZhbGxiYWNrTW9kdWxlKTtcbiAgICAgIH1cbiAgICAgIGlmIChyb3V0ZS5pbXBvcnRzKSB7XG4gICAgICAgIGhyZWZzID0gaHJlZnMuY29uY2F0KHJvdXRlLmltcG9ydHMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhyZWZzO1xuICAgIH0pLmZsYXQoMSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGRlZHVwZUhyZWZzKGhyZWZzKSB7XG4gIHJldHVybiBbLi4ubmV3IFNldChocmVmcyldO1xufVxuZnVuY3Rpb24gc29ydEtleXMob2JqKSB7XG4gIGxldCBzb3J0ZWQgPSB7fTtcbiAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopLnNvcnQoKTtcbiAgZm9yIChsZXQga2V5IG9mIGtleXMpIHtcbiAgICBzb3J0ZWRba2V5XSA9IG9ialtrZXldO1xuICB9XG4gIHJldHVybiBzb3J0ZWQ7XG59XG5mdW5jdGlvbiBkZWR1cGVMaW5rRGVzY3JpcHRvcnMoZGVzY3JpcHRvcnMsIHByZWxvYWRzKSB7XG4gIGxldCBzZXQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgcHJlbG9hZHNTZXQgPSBuZXcgU2V0KHByZWxvYWRzKTtcbiAgcmV0dXJuIGRlc2NyaXB0b3JzLnJlZHVjZSgoZGVkdXBlZCwgZGVzY3JpcHRvcikgPT4ge1xuICAgIGxldCBhbHJlYWR5TW9kdWxlUHJlbG9hZCA9IHByZWxvYWRzICYmICFpc1BhZ2VMaW5rRGVzY3JpcHRvcihkZXNjcmlwdG9yKSAmJiBkZXNjcmlwdG9yLmFzID09PSBcInNjcmlwdFwiICYmIGRlc2NyaXB0b3IuaHJlZiAmJiBwcmVsb2Fkc1NldC5oYXMoZGVzY3JpcHRvci5ocmVmKTtcbiAgICBpZiAoYWxyZWFkeU1vZHVsZVByZWxvYWQpIHtcbiAgICAgIHJldHVybiBkZWR1cGVkO1xuICAgIH1cbiAgICBsZXQga2V5ID0gSlNPTi5zdHJpbmdpZnkoc29ydEtleXMoZGVzY3JpcHRvcikpO1xuICAgIGlmICghc2V0LmhhcyhrZXkpKSB7XG4gICAgICBzZXQuYWRkKGtleSk7XG4gICAgICBkZWR1cGVkLnB1c2goeyBrZXksIGxpbms6IGRlc2NyaXB0b3IgfSk7XG4gICAgfVxuICAgIHJldHVybiBkZWR1cGVkO1xuICB9LCBbXSk7XG59XG52YXIgX2lzUHJlbG9hZFN1cHBvcnRlZDtcbmZ1bmN0aW9uIGlzUHJlbG9hZFN1cHBvcnRlZCgpIHtcbiAgaWYgKF9pc1ByZWxvYWRTdXBwb3J0ZWQgIT09IHZvaWQgMCkge1xuICAgIHJldHVybiBfaXNQcmVsb2FkU3VwcG9ydGVkO1xuICB9XG4gIGxldCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuICBfaXNQcmVsb2FkU3VwcG9ydGVkID0gZWwucmVsTGlzdC5zdXBwb3J0cyhcInByZWxvYWRcIik7XG4gIGVsID0gbnVsbDtcbiAgcmV0dXJuIF9pc1ByZWxvYWRTdXBwb3J0ZWQ7XG59XG5cbi8vIGxpYi9kb20vc3NyL21hcmt1cC50c1xudmFyIEVTQ0FQRV9MT09LVVAgPSB7XG4gIFwiJlwiOiBcIlxcXFx1MDAyNlwiLFxuICBcIj5cIjogXCJcXFxcdTAwM2VcIixcbiAgXCI8XCI6IFwiXFxcXHUwMDNjXCIsXG4gIFwiXFx1MjAyOFwiOiBcIlxcXFx1MjAyOFwiLFxuICBcIlxcdTIwMjlcIjogXCJcXFxcdTIwMjlcIlxufTtcbnZhciBFU0NBUEVfUkVHRVggPSAvWyY+PFxcdTIwMjhcXHUyMDI5XS9nO1xuZnVuY3Rpb24gZXNjYXBlSHRtbChodG1sKSB7XG4gIHJldHVybiBodG1sLnJlcGxhY2UoRVNDQVBFX1JFR0VYLCAobWF0Y2gpID0+IEVTQ0FQRV9MT09LVVBbbWF0Y2hdKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUh0bWwoaHRtbCkge1xuICByZXR1cm4geyBfX2h0bWw6IGh0bWwgfTtcbn1cblxuLy8gbGliL2RvbS9zc3Ivc2luZ2xlLWZldGNoLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZGVjb2RlIH0gZnJvbSBcInR1cmJvLXN0cmVhbVwiO1xuXG4vLyBsaWIvZG9tL3Nzci9kYXRhLnRzXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KSB7XG4gIGxldCBpbml0ID0geyBzaWduYWw6IHJlcXVlc3Quc2lnbmFsIH07XG4gIGlmIChyZXF1ZXN0Lm1ldGhvZCAhPT0gXCJHRVRcIikge1xuICAgIGluaXQubWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XG4gICAgbGV0IGNvbnRlbnRUeXBlID0gcmVxdWVzdC5oZWFkZXJzLmdldChcIkNvbnRlbnQtVHlwZVwiKTtcbiAgICBpZiAoY29udGVudFR5cGUgJiYgL1xcYmFwcGxpY2F0aW9uXFwvanNvblxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgIGluaXQuaGVhZGVycyA9IHsgXCJDb250ZW50LVR5cGVcIjogY29udGVudFR5cGUgfTtcbiAgICAgIGluaXQuYm9keSA9IEpTT04uc3RyaW5naWZ5KGF3YWl0IHJlcXVlc3QuanNvbigpKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJ0ZXh0XFwvcGxhaW5cXGIvLnRlc3QoY29udGVudFR5cGUpKSB7XG4gICAgICBpbml0LmhlYWRlcnMgPSB7IFwiQ29udGVudC1UeXBlXCI6IGNvbnRlbnRUeXBlIH07XG4gICAgICBpbml0LmJvZHkgPSBhd2FpdCByZXF1ZXN0LnRleHQoKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRlbnRUeXBlICYmIC9cXGJhcHBsaWNhdGlvblxcL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFxcYi8udGVzdChjb250ZW50VHlwZSkpIHtcbiAgICAgIGluaXQuYm9keSA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoYXdhaXQgcmVxdWVzdC50ZXh0KCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbml0LmJvZHkgPSBhd2FpdCByZXF1ZXN0LmZvcm1EYXRhKCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBpbml0O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9zaW5nbGUtZmV0Y2gudHN4XG52YXIgU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbCA9IFN5bWJvbChcIlNpbmdsZUZldGNoUmVkaXJlY3RcIik7XG5mdW5jdGlvbiBTdHJlYW1UcmFuc2Zlcih7XG4gIGNvbnRleHQsXG4gIGlkZW50aWZpZXIsXG4gIHJlYWRlcixcbiAgdGV4dERlY29kZXIsXG4gIG5vbmNlXG59KSB7XG4gIGlmICghY29udGV4dC5yZW5kZXJNZXRhIHx8ICFjb250ZXh0LnJlbmRlck1ldGEuZGlkUmVuZGVyU2NyaXB0cykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmICghY29udGV4dC5yZW5kZXJNZXRhLnN0cmVhbUNhY2hlKSB7XG4gICAgY29udGV4dC5yZW5kZXJNZXRhLnN0cmVhbUNhY2hlID0ge307XG4gIH1cbiAgbGV0IHsgc3RyZWFtQ2FjaGUgfSA9IGNvbnRleHQucmVuZGVyTWV0YTtcbiAgbGV0IHByb21pc2UgPSBzdHJlYW1DYWNoZVtpZGVudGlmaWVyXTtcbiAgaWYgKCFwcm9taXNlKSB7XG4gICAgcHJvbWlzZSA9IHN0cmVhbUNhY2hlW2lkZW50aWZpZXJdID0gcmVhZGVyLnJlYWQoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHN0cmVhbUNhY2hlW2lkZW50aWZpZXJdLnJlc3VsdCA9IHtcbiAgICAgICAgZG9uZTogcmVzdWx0LmRvbmUsXG4gICAgICAgIHZhbHVlOiB0ZXh0RGVjb2Rlci5kZWNvZGUocmVzdWx0LnZhbHVlLCB7IHN0cmVhbTogdHJ1ZSB9KVxuICAgICAgfTtcbiAgICB9KS5jYXRjaCgoZSkgPT4ge1xuICAgICAgc3RyZWFtQ2FjaGVbaWRlbnRpZmllcl0uZXJyb3IgPSBlO1xuICAgIH0pO1xuICB9XG4gIGlmIChwcm9taXNlLmVycm9yKSB7XG4gICAgdGhyb3cgcHJvbWlzZS5lcnJvcjtcbiAgfVxuICBpZiAocHJvbWlzZS5yZXN1bHQgPT09IHZvaWQgMCkge1xuICAgIHRocm93IHByb21pc2U7XG4gIH1cbiAgbGV0IHsgZG9uZSwgdmFsdWUgfSA9IHByb21pc2UucmVzdWx0O1xuICBsZXQgc2NyaXB0VGFnID0gdmFsdWUgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBub25jZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogYHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dC5zdHJlYW1Db250cm9sbGVyLmVucXVldWUoJHtlc2NhcGVIdG1sKFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHZhbHVlKVxuICAgICAgICApfSk7YFxuICAgICAgfVxuICAgIH1cbiAgKSA6IG51bGw7XG4gIGlmIChkb25lKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChSZWFjdDQuRnJhZ21lbnQsIG51bGwsIHNjcmlwdFRhZywgLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJzY3JpcHRcIixcbiAgICAgIHtcbiAgICAgICAgbm9uY2UsXG4gICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgICAgX19odG1sOiBgd2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LnN0cmVhbUNvbnRyb2xsZXIuY2xvc2UoKTtgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFJlYWN0NC5GcmFnbWVudCwgbnVsbCwgc2NyaXB0VGFnLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoUmVhY3Q0LlN1c3BlbnNlLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBTdHJlYW1UcmFuc2ZlcixcbiAgICAgIHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllciArIDEsXG4gICAgICAgIHJlYWRlcixcbiAgICAgICAgdGV4dERlY29kZXIsXG4gICAgICAgIG5vbmNlXG4gICAgICB9XG4gICAgKSkpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRTaW5nbGVGZXRjaERhdGFTdHJhdGVneShtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIGJhc2VuYW1lLCBnZXRSb3V0ZXIpIHtcbiAgcmV0dXJuIGFzeW5jIChhcmdzKSA9PiB7XG4gICAgbGV0IHsgcmVxdWVzdCwgbWF0Y2hlcywgZmV0Y2hlcktleSB9ID0gYXJncztcbiAgICBpZiAocmVxdWVzdC5tZXRob2QgIT09IFwiR0VUXCIpIHtcbiAgICAgIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICAgIGFyZ3MsXG4gICAgICAgIGZhbHNlLFxuICAgICAgICAoKSA9PiBzaW5nbGVGZXRjaEFjdGlvblN0cmF0ZWd5KHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSxcbiAgICAgICAgKGUpID0+ICh7IFtlLnJvdXRlSWRdOiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlLmVycm9yIH0gfSlcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICghc3NyKSB7XG4gICAgICBsZXQgZm91bmRSZXZhbGlkYXRpbmdTZXJ2ZXJMb2FkZXIgPSBtYXRjaGVzLnNvbWUoXG4gICAgICAgIChtKSA9PiBtLnNob3VsZExvYWQgJiYgbWFuaWZlc3Qucm91dGVzW20ucm91dGUuaWRdPy5oYXNMb2FkZXIgJiYgIW1hbmlmZXN0LnJvdXRlc1ttLnJvdXRlLmlkXT8uaGFzQ2xpZW50TG9hZGVyXG4gICAgICApO1xuICAgICAgaWYgKCFmb3VuZFJldmFsaWRhdGluZ1NlcnZlckxvYWRlcikge1xuICAgICAgICByZXR1cm4gcnVuTWlkZGxld2FyZVBpcGVsaW5lKFxuICAgICAgICAgIGFyZ3MsXG4gICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgKCkgPT4gbm9uU3NyU3RyYXRlZ3kobWFuaWZlc3QsIHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSxcbiAgICAgICAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmV0Y2hlcktleSkge1xuICAgICAgcmV0dXJuIHJ1bk1pZGRsZXdhcmVQaXBlbGluZShcbiAgICAgICAgYXJncyxcbiAgICAgICAgZmFsc2UsXG4gICAgICAgICgpID0+IHNpbmdsZUZldGNoTG9hZGVyRmV0Y2hlclN0cmF0ZWd5KHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSxcbiAgICAgICAgKGUpID0+ICh7IFtlLnJvdXRlSWRdOiB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlLmVycm9yIH0gfSlcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBydW5NaWRkbGV3YXJlUGlwZWxpbmUoXG4gICAgICBhcmdzLFxuICAgICAgZmFsc2UsXG4gICAgICAoKSA9PiBzaW5nbGVGZXRjaExvYWRlck5hdmlnYXRpb25TdHJhdGVneShcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgICAgc3NyLFxuICAgICAgICBnZXRSb3V0ZXIoKSxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgYmFzZW5hbWVcbiAgICAgICksXG4gICAgICAoZSkgPT4gKHsgW2Uucm91dGVJZF06IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUuZXJyb3IgfSB9KVxuICAgICk7XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBzaW5nbGVGZXRjaEFjdGlvblN0cmF0ZWd5KHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSB7XG4gIGxldCBhY3Rpb25NYXRjaCA9IG1hdGNoZXMuZmluZCgobSkgPT4gbS5zaG91bGRMb2FkKTtcbiAgaW52YXJpYW50MihhY3Rpb25NYXRjaCwgXCJObyBhY3Rpb24gbWF0Y2ggZm91bmRcIik7XG4gIGxldCBhY3Rpb25TdGF0dXMgPSB2b2lkIDA7XG4gIGxldCByZXN1bHQgPSBhd2FpdCBhY3Rpb25NYXRjaC5yZXNvbHZlKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgbGV0IHJlc3VsdDIgPSBhd2FpdCBoYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgIGxldCB1cmwgPSBzaW5nbGVGZXRjaFVybChyZXF1ZXN0LnVybCwgYmFzZW5hbWUpO1xuICAgICAgbGV0IGluaXQgPSBhd2FpdCBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KTtcbiAgICAgIGxldCB7IGRhdGE6IGRhdGEyLCBzdGF0dXMgfSA9IGF3YWl0IGZldGNoQW5kRGVjb2RlKHVybCwgaW5pdCk7XG4gICAgICBhY3Rpb25TdGF0dXMgPSBzdGF0dXM7XG4gICAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQoXG4gICAgICAgIGRhdGEyLFxuICAgICAgICBhY3Rpb25NYXRjaC5yb3V0ZS5pZFxuICAgICAgKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0MjtcbiAgfSk7XG4gIGlmIChpc1Jlc3BvbnNlKHJlc3VsdC5yZXN1bHQpIHx8IGlzUm91dGVFcnJvclJlc3BvbnNlKHJlc3VsdC5yZXN1bHQpKSB7XG4gICAgcmV0dXJuIHsgW2FjdGlvbk1hdGNoLnJvdXRlLmlkXTogcmVzdWx0IH07XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBbYWN0aW9uTWF0Y2gucm91dGUuaWRdOiB7XG4gICAgICB0eXBlOiByZXN1bHQudHlwZSxcbiAgICAgIHJlc3VsdDogZGF0YShyZXN1bHQucmVzdWx0LCBhY3Rpb25TdGF0dXMpXG4gICAgfVxuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gbm9uU3NyU3RyYXRlZ3kobWFuaWZlc3QsIHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSB7XG4gIGxldCBtYXRjaGVzVG9Mb2FkID0gbWF0Y2hlcy5maWx0ZXIoKG0pID0+IG0uc2hvdWxkTG9hZCk7XG4gIGxldCB1cmwgPSBzdHJpcEluZGV4UGFyYW0oc2luZ2xlRmV0Y2hVcmwocmVxdWVzdC51cmwsIGJhc2VuYW1lKSk7XG4gIGxldCBpbml0ID0gYXdhaXQgY3JlYXRlUmVxdWVzdEluaXQocmVxdWVzdCk7XG4gIGxldCByZXN1bHRzID0ge307XG4gIGF3YWl0IFByb21pc2UuYWxsKFxuICAgIG1hdGNoZXNUb0xvYWQubWFwKFxuICAgICAgKG0pID0+IG0ucmVzb2x2ZShhc3luYyAoaGFuZGxlcikgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBtYW5pZmVzdC5yb3V0ZXNbbS5yb3V0ZS5pZF0/Lmhhc0NsaWVudExvYWRlciA/IGF3YWl0IGZldGNoU2luZ2xlTG9hZGVyKGhhbmRsZXIsIHVybCwgaW5pdCwgbS5yb3V0ZS5pZCkgOiBhd2FpdCBoYW5kbGVyKCk7XG4gICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHsgdHlwZTogXCJkYXRhXCIsIHJlc3VsdCB9O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHsgdHlwZTogXCJlcnJvclwiLCByZXN1bHQ6IGUgfTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gICk7XG4gIHJldHVybiByZXN1bHRzO1xufVxuZnVuY3Rpb24gaXNPcHRlZE91dChtYW5pZmVzdFJvdXRlLCByb3V0ZU1vZHVsZSwgbWF0Y2gsIHJvdXRlcikge1xuICByZXR1cm4gbWF0Y2gucm91dGUuaWQgaW4gcm91dGVyLnN0YXRlLmxvYWRlckRhdGEgJiYgbWFuaWZlc3RSb3V0ZSAmJiBtYW5pZmVzdFJvdXRlLmhhc0xvYWRlciAmJiByb3V0ZU1vZHVsZSAmJiByb3V0ZU1vZHVsZS5zaG91bGRSZXZhbGlkYXRlO1xufVxuYXN5bmMgZnVuY3Rpb24gc2luZ2xlRmV0Y2hMb2FkZXJOYXZpZ2F0aW9uU3RyYXRlZ3kobWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgc3NyLCByb3V0ZXIsIHJlcXVlc3QsIG1hdGNoZXMsIGJhc2VuYW1lKSB7XG4gIGxldCByb3V0ZXNQYXJhbXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgZm91bmRPcHRPdXRSb3V0ZSA9IGZhbHNlO1xuICBsZXQgcm91dGVEZmRzID0gbWF0Y2hlcy5tYXAoKCkgPT4gY3JlYXRlRGVmZXJyZWQyKCkpO1xuICBsZXQgcm91dGVzTG9hZGVkUHJvbWlzZSA9IFByb21pc2UuYWxsKHJvdXRlRGZkcy5tYXAoKGQpID0+IGQucHJvbWlzZSkpO1xuICBsZXQgc2luZ2xlRmV0Y2hEZmQgPSBjcmVhdGVEZWZlcnJlZDIoKTtcbiAgbGV0IHVybCA9IHN0cmlwSW5kZXhQYXJhbShzaW5nbGVGZXRjaFVybChyZXF1ZXN0LnVybCwgYmFzZW5hbWUpKTtcbiAgbGV0IGluaXQgPSBhd2FpdCBjcmVhdGVSZXF1ZXN0SW5pdChyZXF1ZXN0KTtcbiAgbGV0IHJlc3VsdHMgPSB7fTtcbiAgbGV0IHJlc29sdmVQcm9taXNlID0gUHJvbWlzZS5hbGwoXG4gICAgbWF0Y2hlcy5tYXAoXG4gICAgICBhc3luYyAobSwgaSkgPT4gbS5yZXNvbHZlKGFzeW5jIChoYW5kbGVyKSA9PiB7XG4gICAgICAgIHJvdXRlRGZkc1tpXS5yZXNvbHZlKCk7XG4gICAgICAgIGxldCBtYW5pZmVzdFJvdXRlID0gbWFuaWZlc3Qucm91dGVzW20ucm91dGUuaWRdO1xuICAgICAgICBpZiAoIW0uc2hvdWxkTG9hZCkge1xuICAgICAgICAgIGlmICghcm91dGVyLnN0YXRlLmluaXRpYWxpemVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc09wdGVkT3V0KG1hbmlmZXN0Um91dGUsIHJvdXRlTW9kdWxlc1ttLnJvdXRlLmlkXSwgbSwgcm91dGVyKSkge1xuICAgICAgICAgICAgZm91bmRPcHRPdXRSb3V0ZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChtYW5pZmVzdFJvdXRlICYmIG1hbmlmZXN0Um91dGUuaGFzQ2xpZW50TG9hZGVyKSB7XG4gICAgICAgICAgaWYgKG1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSB7XG4gICAgICAgICAgICBmb3VuZE9wdE91dFJvdXRlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBmZXRjaFNpbmdsZUxvYWRlcihcbiAgICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICBpbml0LFxuICAgICAgICAgICAgICBtLnJvdXRlLmlkXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHsgdHlwZTogXCJkYXRhXCIsIHJlc3VsdCB9O1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7IHR5cGU6IFwiZXJyb3JcIiwgcmVzdWx0OiBlIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFuaWZlc3RSb3V0ZSAmJiBtYW5pZmVzdFJvdXRlLmhhc0xvYWRlcikge1xuICAgICAgICAgIHJvdXRlc1BhcmFtcy5hZGQobS5yb3V0ZS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgaGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YTIgPSBhd2FpdCBzaW5nbGVGZXRjaERmZC5wcm9taXNlO1xuICAgICAgICAgICAgcmV0dXJuIHVud3JhcFNpbmdsZUZldGNoUmVzdWx0cyhkYXRhMiwgbS5yb3V0ZS5pZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzdWx0c1ttLnJvdXRlLmlkXSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGF0YVwiLFxuICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlc3VsdHNbbS5yb3V0ZS5pZF0gPSB7XG4gICAgICAgICAgICB0eXBlOiBcImVycm9yXCIsXG4gICAgICAgICAgICByZXN1bHQ6IGVcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgKTtcbiAgYXdhaXQgcm91dGVzTG9hZGVkUHJvbWlzZTtcbiAgaWYgKCghcm91dGVyLnN0YXRlLmluaXRpYWxpemVkIHx8IHJvdXRlc1BhcmFtcy5zaXplID09PSAwKSAmJiAhd2luZG93Ll9fcmVhY3RSb3V0ZXJIZHJBY3RpdmUpIHtcbiAgICBzaW5nbGVGZXRjaERmZC5yZXNvbHZlKHt9KTtcbiAgfSBlbHNlIHtcbiAgICB0cnkge1xuICAgICAgaWYgKHNzciAmJiBmb3VuZE9wdE91dFJvdXRlICYmIHJvdXRlc1BhcmFtcy5zaXplID4gMCkge1xuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLnNldChcbiAgICAgICAgICBcIl9yb3V0ZXNcIixcbiAgICAgICAgICBtYXRjaGVzLmZpbHRlcigobSkgPT4gcm91dGVzUGFyYW1zLmhhcyhtLnJvdXRlLmlkKSkubWFwKChtKSA9PiBtLnJvdXRlLmlkKS5qb2luKFwiLFwiKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbGV0IGRhdGEyID0gYXdhaXQgZmV0Y2hBbmREZWNvZGUodXJsLCBpbml0KTtcbiAgICAgIHNpbmdsZUZldGNoRGZkLnJlc29sdmUoZGF0YTIuZGF0YSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgc2luZ2xlRmV0Y2hEZmQucmVqZWN0KGUpO1xuICAgIH1cbiAgfVxuICBhd2FpdCByZXNvbHZlUHJvbWlzZTtcbiAgcmV0dXJuIHJlc3VsdHM7XG59XG5hc3luYyBmdW5jdGlvbiBzaW5nbGVGZXRjaExvYWRlckZldGNoZXJTdHJhdGVneShyZXF1ZXN0LCBtYXRjaGVzLCBiYXNlbmFtZSkge1xuICBsZXQgZmV0Y2hlck1hdGNoID0gbWF0Y2hlcy5maW5kKChtKSA9PiBtLnNob3VsZExvYWQpO1xuICBpbnZhcmlhbnQyKGZldGNoZXJNYXRjaCwgXCJObyBmZXRjaGVyIG1hdGNoIGZvdW5kXCIpO1xuICBsZXQgcmVzdWx0ID0gYXdhaXQgZmV0Y2hlck1hdGNoLnJlc29sdmUoYXN5bmMgKGhhbmRsZXIpID0+IHtcbiAgICBsZXQgdXJsID0gc3RyaXBJbmRleFBhcmFtKHNpbmdsZUZldGNoVXJsKHJlcXVlc3QudXJsLCBiYXNlbmFtZSkpO1xuICAgIGxldCBpbml0ID0gYXdhaXQgY3JlYXRlUmVxdWVzdEluaXQocmVxdWVzdCk7XG4gICAgcmV0dXJuIGZldGNoU2luZ2xlTG9hZGVyKGhhbmRsZXIsIHVybCwgaW5pdCwgZmV0Y2hlck1hdGNoLnJvdXRlLmlkKTtcbiAgfSk7XG4gIHJldHVybiB7IFtmZXRjaGVyTWF0Y2gucm91dGUuaWRdOiByZXN1bHQgfTtcbn1cbmZ1bmN0aW9uIGZldGNoU2luZ2xlTG9hZGVyKGhhbmRsZXIsIHVybCwgaW5pdCwgcm91dGVJZCkge1xuICByZXR1cm4gaGFuZGxlcihhc3luYyAoKSA9PiB7XG4gICAgbGV0IHNpbmdsZUxvYWRlclVybCA9IG5ldyBVUkwodXJsKTtcbiAgICBzaW5nbGVMb2FkZXJVcmwuc2VhcmNoUGFyYW1zLnNldChcIl9yb3V0ZXNcIiwgcm91dGVJZCk7XG4gICAgbGV0IHsgZGF0YTogZGF0YTIgfSA9IGF3YWl0IGZldGNoQW5kRGVjb2RlKHNpbmdsZUxvYWRlclVybCwgaW5pdCk7XG4gICAgcmV0dXJuIHVud3JhcFNpbmdsZUZldGNoUmVzdWx0cyhkYXRhMiwgcm91dGVJZCk7XG4gIH0pO1xufVxuZnVuY3Rpb24gc3RyaXBJbmRleFBhcmFtKHVybCkge1xuICBsZXQgaW5kZXhWYWx1ZXMgPSB1cmwuc2VhcmNoUGFyYW1zLmdldEFsbChcImluZGV4XCIpO1xuICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcImluZGV4XCIpO1xuICBsZXQgaW5kZXhWYWx1ZXNUb0tlZXAgPSBbXTtcbiAgZm9yIChsZXQgaW5kZXhWYWx1ZSBvZiBpbmRleFZhbHVlcykge1xuICAgIGlmIChpbmRleFZhbHVlKSB7XG4gICAgICBpbmRleFZhbHVlc1RvS2VlcC5wdXNoKGluZGV4VmFsdWUpO1xuICAgIH1cbiAgfVxuICBmb3IgKGxldCB0b0tlZXAgb2YgaW5kZXhWYWx1ZXNUb0tlZXApIHtcbiAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcImluZGV4XCIsIHRvS2VlcCk7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cbmZ1bmN0aW9uIHNpbmdsZUZldGNoVXJsKHJlcVVybCwgYmFzZW5hbWUpIHtcbiAgbGV0IHVybCA9IHR5cGVvZiByZXFVcmwgPT09IFwic3RyaW5nXCIgPyBuZXcgVVJMKFxuICAgIHJlcVVybCxcbiAgICAvLyBUaGlzIGNhbiBiZSBjYWxsZWQgZHVyaW5nIHRoZSBTU1IgZmxvdyB2aWEgUHJlZmV0Y2hQYWdlTGlua3NJbXBsIHNvXG4gICAgLy8gZG9uJ3QgYXNzdW1lIHdpbmRvdyBpcyBhdmFpbGFibGVcbiAgICB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiID8gXCJzZXJ2ZXI6Ly9zaW5nbGVmZXRjaC9cIiA6IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW5cbiAgKSA6IHJlcVVybDtcbiAgaWYgKHVybC5wYXRobmFtZSA9PT0gXCIvXCIpIHtcbiAgICB1cmwucGF0aG5hbWUgPSBcIl9yb290LmRhdGFcIjtcbiAgfSBlbHNlIGlmIChiYXNlbmFtZSAmJiBzdHJpcEJhc2VuYW1lKHVybC5wYXRobmFtZSwgYmFzZW5hbWUpID09PSBcIi9cIikge1xuICAgIHVybC5wYXRobmFtZSA9IGAke2Jhc2VuYW1lLnJlcGxhY2UoL1xcLyQvLCBcIlwiKX0vX3Jvb3QuZGF0YWA7XG4gIH0gZWxzZSB7XG4gICAgdXJsLnBhdGhuYW1lID0gYCR7dXJsLnBhdGhuYW1lLnJlcGxhY2UoL1xcLyQvLCBcIlwiKX0uZGF0YWA7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGZldGNoQW5kRGVjb2RlKHVybCwgaW5pdCkge1xuICBsZXQgcmVzID0gYXdhaXQgZmV0Y2godXJsLCBpbml0KTtcbiAgaWYgKHJlcy5zdGF0dXMgPT09IDQwNCAmJiAhcmVzLmhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZXNwb25zZVwiKSkge1xuICAgIHRocm93IG5ldyBFcnJvclJlc3BvbnNlSW1wbCg0MDQsIFwiTm90IEZvdW5kXCIsIHRydWUpO1xuICB9XG4gIGNvbnN0IE5PX0JPRFlfU1RBVFVTX0NPREVTMiA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFsxMDAsIDEwMSwgMjA0LCAyMDVdKTtcbiAgaWYgKE5PX0JPRFlfU1RBVFVTX0NPREVTMi5oYXMocmVzLnN0YXR1cykpIHtcbiAgICBpZiAoIWluaXQubWV0aG9kIHx8IGluaXQubWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICByZXR1cm4geyBzdGF0dXM6IHJlcy5zdGF0dXMsIGRhdGE6IHt9IH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7IHN0YXR1czogcmVzLnN0YXR1cywgZGF0YTogeyBkYXRhOiB2b2lkIDAgfSB9O1xuICAgIH1cbiAgfVxuICBpbnZhcmlhbnQyKHJlcy5ib2R5LCBcIk5vIHJlc3BvbnNlIGJvZHkgdG8gZGVjb2RlXCIpO1xuICB0cnkge1xuICAgIGxldCBkZWNvZGVkID0gYXdhaXQgZGVjb2RlVmlhVHVyYm9TdHJlYW0ocmVzLmJvZHksIHdpbmRvdyk7XG4gICAgcmV0dXJuIHsgc3RhdHVzOiByZXMuc3RhdHVzLCBkYXRhOiBkZWNvZGVkLnZhbHVlIH07XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZGVjb2RlIHR1cmJvLXN0cmVhbSByZXNwb25zZVwiKTtcbiAgfVxufVxuZnVuY3Rpb24gZGVjb2RlVmlhVHVyYm9TdHJlYW0oYm9keSwgZ2xvYmFsMikge1xuICByZXR1cm4gZGVjb2RlKGJvZHksIHtcbiAgICBwbHVnaW5zOiBbXG4gICAgICAodHlwZSwgLi4ucmVzdCkgPT4ge1xuICAgICAgICBpZiAodHlwZSA9PT0gXCJTYW5pdGl6ZWRFcnJvclwiKSB7XG4gICAgICAgICAgbGV0IFtuYW1lLCBtZXNzYWdlLCBzdGFja10gPSByZXN0O1xuICAgICAgICAgIGxldCBDb25zdHJ1Y3RvciA9IEVycm9yO1xuICAgICAgICAgIGlmIChuYW1lICYmIG5hbWUgaW4gZ2xvYmFsMiAmJiB0eXBlb2YgZ2xvYmFsMltuYW1lXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBDb25zdHJ1Y3RvciA9IGdsb2JhbDJbbmFtZV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBlcnJvciA9IG5ldyBDb25zdHJ1Y3RvcihtZXNzYWdlKTtcbiAgICAgICAgICBlcnJvci5zdGFjayA9IHN0YWNrO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBlcnJvciB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIkVycm9yUmVzcG9uc2VcIikge1xuICAgICAgICAgIGxldCBbZGF0YTIsIHN0YXR1cywgc3RhdHVzVGV4dF0gPSByZXN0O1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2YWx1ZTogbmV3IEVycm9yUmVzcG9uc2VJbXBsKHN0YXR1cywgc3RhdHVzVGV4dCwgZGF0YTIpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJTaW5nbGVGZXRjaFJlZGlyZWN0XCIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogeyBbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF06IHJlc3RbMF0gfSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSBcIlNpbmdsZUZldGNoQ2xhc3NJbnN0YW5jZVwiKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHJlc3RbMF0gfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gXCJTaW5nbGVGZXRjaEZhbGxiYWNrXCIpIHtcbiAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdm9pZCAwIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH0pO1xufVxuZnVuY3Rpb24gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHRzKHJlc3VsdHMsIHJvdXRlSWQpIHtcbiAgbGV0IHJlZGlyZWN0MiA9IHJlc3VsdHNbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF07XG4gIGlmIChyZWRpcmVjdDIpIHtcbiAgICByZXR1cm4gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQocmVkaXJlY3QyLCByb3V0ZUlkKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0c1tyb3V0ZUlkXSAhPT0gdm9pZCAwID8gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQocmVzdWx0c1tyb3V0ZUlkXSwgcm91dGVJZCkgOiBudWxsO1xufVxuZnVuY3Rpb24gdW53cmFwU2luZ2xlRmV0Y2hSZXN1bHQocmVzdWx0LCByb3V0ZUlkKSB7XG4gIGlmIChcImVycm9yXCIgaW4gcmVzdWx0KSB7XG4gICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICB9IGVsc2UgaWYgKFwicmVkaXJlY3RcIiBpbiByZXN1bHQpIHtcbiAgICBsZXQgaGVhZGVycyA9IHt9O1xuICAgIGlmIChyZXN1bHQucmV2YWxpZGF0ZSkge1xuICAgICAgaGVhZGVyc1tcIlgtUmVtaXgtUmV2YWxpZGF0ZVwiXSA9IFwieWVzXCI7XG4gICAgfVxuICAgIGlmIChyZXN1bHQucmVsb2FkKSB7XG4gICAgICBoZWFkZXJzW1wiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIl0gPSBcInllc1wiO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LnJlcGxhY2UpIHtcbiAgICAgIGhlYWRlcnNbXCJYLVJlbWl4LVJlcGxhY2VcIl0gPSBcInllc1wiO1xuICAgIH1cbiAgICB0aHJvdyByZWRpcmVjdChyZXN1bHQucmVkaXJlY3QsIHsgc3RhdHVzOiByZXN1bHQuc3RhdHVzLCBoZWFkZXJzIH0pO1xuICB9IGVsc2UgaWYgKFwiZGF0YVwiIGluIHJlc3VsdCkge1xuICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHJlc3BvbnNlIGZvdW5kIGZvciByb3V0ZUlkIFwiJHtyb3V0ZUlkfVwiYCk7XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZURlZmVycmVkMigpIHtcbiAgbGV0IHJlc29sdmU7XG4gIGxldCByZWplY3Q7XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlcywgcmVqKSA9PiB7XG4gICAgcmVzb2x2ZSA9IGFzeW5jICh2YWwpID0+IHtcbiAgICAgIHJlcyh2YWwpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgcHJvbWlzZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJlamVjdCA9IGFzeW5jIChlcnJvcikgPT4ge1xuICAgICAgcmVqKGVycm9yKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICAvL0B0cy1pZ25vcmVcbiAgICByZXNvbHZlLFxuICAgIC8vQHRzLWlnbm9yZVxuICAgIHJlamVjdFxuICB9O1xufVxuXG4vLyBsaWIvZG9tL3Nzci9mb2ctb2Ytd2FyLnRzXG5pbXBvcnQgKiBhcyBSZWFjdDggZnJvbSBcInJlYWN0XCI7XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlcy50c3hcbmltcG9ydCAqIGFzIFJlYWN0NyBmcm9tIFwicmVhY3RcIjtcblxuLy8gbGliL2RvbS9zc3IvZXJyb3JCb3VuZGFyaWVzLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1IGZyb20gXCJyZWFjdFwiO1xudmFyIFJlbWl4RXJyb3JCb3VuZGFyeSA9IGNsYXNzIGV4dGVuZHMgUmVhY3Q1LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGVycm9yOiBwcm9wcy5lcnJvciB8fCBudWxsLCBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24gfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZXJyb3IgfTtcbiAgfVxuICBzdGF0aWMgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5sb2NhdGlvbiAhPT0gcHJvcHMubG9jYXRpb24pIHtcbiAgICAgIHJldHVybiB7IGVycm9yOiBwcm9wcy5lcnJvciB8fCBudWxsLCBsb2NhdGlvbjogcHJvcHMubG9jYXRpb24gfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgZXJyb3I6IHByb3BzLmVycm9yIHx8IHN0YXRlLmVycm9yLCBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24gfTtcbiAgfVxuICByZW5kZXIoKSB7XG4gICAgaWYgKHRoaXMuc3RhdGUuZXJyb3IpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIFJlbWl4Um9vdERlZmF1bHRFcnJvckJvdW5kYXJ5LFxuICAgICAgICB7XG4gICAgICAgICAgZXJyb3I6IHRoaXMuc3RhdGUuZXJyb3IsXG4gICAgICAgICAgaXNPdXRzaWRlUmVtaXhBcHA6IHRydWVcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gUmVtaXhSb290RGVmYXVsdEVycm9yQm91bmRhcnkoe1xuICBlcnJvcixcbiAgaXNPdXRzaWRlUmVtaXhBcHBcbn0pIHtcbiAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gIGxldCBoZXlEZXZlbG9wZXIgPSAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICBfX2h0bWw6IGBcbiAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgXCJcXHV7MUY0QkZ9IEhleSBkZXZlbG9wZXIgXFx1ezFGNDRCfS4gWW91IGNhbiBwcm92aWRlIGEgd2F5IGJldHRlciBVWCB0aGFuIHRoaXMgd2hlbiB5b3VyIGFwcCB0aHJvd3MgZXJyb3JzLiBDaGVjayBvdXQgaHR0cHM6Ly9yZW1peC5ydW4vZ3VpZGVzL2Vycm9ycyBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIlxuICAgICAgICApO1xuICAgICAgYFxuICAgICAgfVxuICAgIH1cbiAgKTtcbiAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKGVycm9yKSkge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoQm91bmRhcnlTaGVsbCwgeyB0aXRsZTogXCJVbmhhbmRsZWQgVGhyb3duIFJlc3BvbnNlIVwiIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImgxXCIsIHsgc3R5bGU6IHsgZm9udFNpemU6IFwiMjRweFwiIH0gfSwgZXJyb3Iuc3RhdHVzLCBcIiBcIiwgZXJyb3Iuc3RhdHVzVGV4dCksIGhleURldmVsb3Blcik7XG4gIH1cbiAgbGV0IGVycm9ySW5zdGFuY2U7XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgZXJyb3JJbnN0YW5jZSA9IGVycm9yO1xuICB9IGVsc2Uge1xuICAgIGxldCBlcnJvclN0cmluZyA9IGVycm9yID09IG51bGwgPyBcIlVua25vd24gRXJyb3JcIiA6IHR5cGVvZiBlcnJvciA9PT0gXCJvYmplY3RcIiAmJiBcInRvU3RyaW5nXCIgaW4gZXJyb3IgPyBlcnJvci50b1N0cmluZygpIDogSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgIGVycm9ySW5zdGFuY2UgPSBuZXcgRXJyb3IoZXJyb3JTdHJpbmcpO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgQm91bmRhcnlTaGVsbCxcbiAgICB7XG4gICAgICB0aXRsZTogXCJBcHBsaWNhdGlvbiBFcnJvciFcIixcbiAgICAgIGlzT3V0c2lkZVJlbWl4QXBwXG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJoMVwiLCB7IHN0eWxlOiB7IGZvbnRTaXplOiBcIjI0cHhcIiB9IH0sIFwiQXBwbGljYXRpb24gRXJyb3JcIiksXG4gICAgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJwcmVcIixcbiAgICAgIHtcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBwYWRkaW5nOiBcIjJyZW1cIixcbiAgICAgICAgICBiYWNrZ3JvdW5kOiBcImhzbGEoMTAsIDUwJSwgNTAlLCAwLjEpXCIsXG4gICAgICAgICAgY29sb3I6IFwicmVkXCIsXG4gICAgICAgICAgb3ZlcmZsb3c6IFwiYXV0b1wiXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvckluc3RhbmNlLnN0YWNrXG4gICAgKSxcbiAgICBoZXlEZXZlbG9wZXJcbiAgKTtcbn1cbmZ1bmN0aW9uIEJvdW5kYXJ5U2hlbGwoe1xuICB0aXRsZSxcbiAgcmVuZGVyU2NyaXB0cyxcbiAgaXNPdXRzaWRlUmVtaXhBcHAsXG4gIGNoaWxkcmVuXG59KSB7XG4gIGxldCB7IHJvdXRlTW9kdWxlcyB9ID0gdXNlRnJhbWV3b3JrQ29udGV4dCgpO1xuICBpZiAocm91dGVNb2R1bGVzLnJvb3Q/LkxheW91dCAmJiAhaXNPdXRzaWRlUmVtaXhBcHApIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImh0bWxcIiwgeyBsYW5nOiBcImVuXCIgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwiaGVhZFwiLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIsIHsgY2hhclNldDogXCJ1dGYtOFwiIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJtZXRhXCIsXG4gICAge1xuICAgICAgbmFtZTogXCJ2aWV3cG9ydFwiLFxuICAgICAgY29udGVudDogXCJ3aWR0aD1kZXZpY2Utd2lkdGgsaW5pdGlhbC1zY2FsZT0xLHZpZXdwb3J0LWZpdD1jb3ZlclwiXG4gICAgfVxuICApLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCBudWxsLCB0aXRsZSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcIm1haW5cIiwgeyBzdHlsZTogeyBmb250RmFtaWx5OiBcInN5c3RlbS11aSwgc2Fucy1zZXJpZlwiLCBwYWRkaW5nOiBcIjJyZW1cIiB9IH0sIGNoaWxkcmVuLCByZW5kZXJTY3JpcHRzID8gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFNjcmlwdHMsIG51bGwpIDogbnVsbCkpKTtcbn1cblxuLy8gbGliL2RvbS9zc3IvZmFsbGJhY2sudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDYgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBSZW1peFJvb3REZWZhdWx0SHlkcmF0ZUZhbGxiYWNrKCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0Ni5jcmVhdGVFbGVtZW50KEJvdW5kYXJ5U2hlbGwsIHsgdGl0bGU6IFwiTG9hZGluZy4uLlwiLCByZW5kZXJTY3JpcHRzOiB0cnVlIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYuY3JlYXRlRWxlbWVudChcbiAgICBcInNjcmlwdFwiLFxuICAgIHtcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogYFxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICBcIlxcdXsxRjRCRn0gSGV5IGRldmVsb3BlciBcXHV7MUY0NEJ9LiBZb3UgY2FuIHByb3ZpZGUgYSB3YXkgYmV0dGVyIFVYIHRoYW4gdGhpcyBcIiArXG4gICAgICAgICAgICAgICAgXCJ3aGVuIHlvdXIgYXBwIGlzIGxvYWRpbmcgSlMgbW9kdWxlcyBhbmQvb3IgcnVubmluZyBcXGBjbGllbnRMb2FkZXJcXGAgXCIgK1xuICAgICAgICAgICAgICAgIFwiZnVuY3Rpb25zLiBDaGVjayBvdXQgaHR0cHM6Ly9yZW1peC5ydW4vcm91dGUvaHlkcmF0ZS1mYWxsYmFjayBcIiArXG4gICAgICAgICAgICAgICAgXCJmb3IgbW9yZSBpbmZvcm1hdGlvbi5cIlxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgYFxuICAgICAgfVxuICAgIH1cbiAgKSk7XG59XG5cbi8vIGxpYi9kb20vc3NyL3JvdXRlcy50c3hcbmZ1bmN0aW9uIGdyb3VwUm91dGVzQnlQYXJlbnRJZChtYW5pZmVzdCkge1xuICBsZXQgcm91dGVzID0ge307XG4gIE9iamVjdC52YWx1ZXMobWFuaWZlc3QpLmZvckVhY2goKHJvdXRlKSA9PiB7XG4gICAgaWYgKHJvdXRlKSB7XG4gICAgICBsZXQgcGFyZW50SWQgPSByb3V0ZS5wYXJlbnRJZCB8fCBcIlwiO1xuICAgICAgaWYgKCFyb3V0ZXNbcGFyZW50SWRdKSB7XG4gICAgICAgIHJvdXRlc1twYXJlbnRJZF0gPSBbXTtcbiAgICAgIH1cbiAgICAgIHJvdXRlc1twYXJlbnRJZF0ucHVzaChyb3V0ZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJvdXRlcztcbn1cbmZ1bmN0aW9uIGdldFJvdXRlQ29tcG9uZW50cyhyb3V0ZSwgcm91dGVNb2R1bGUsIGlzU3BhTW9kZSkge1xuICBsZXQgQ29tcG9uZW50NCA9IGdldFJvdXRlTW9kdWxlQ29tcG9uZW50KHJvdXRlTW9kdWxlKTtcbiAgbGV0IEh5ZHJhdGVGYWxsYmFjayA9IHJvdXRlTW9kdWxlLkh5ZHJhdGVGYWxsYmFjayAmJiAoIWlzU3BhTW9kZSB8fCByb3V0ZS5pZCA9PT0gXCJyb290XCIpID8gcm91dGVNb2R1bGUuSHlkcmF0ZUZhbGxiYWNrIDogcm91dGUuaWQgPT09IFwicm9vdFwiID8gUmVtaXhSb290RGVmYXVsdEh5ZHJhdGVGYWxsYmFjayA6IHZvaWQgMDtcbiAgbGV0IEVycm9yQm91bmRhcnkgPSByb3V0ZU1vZHVsZS5FcnJvckJvdW5kYXJ5ID8gcm91dGVNb2R1bGUuRXJyb3JCb3VuZGFyeSA6IHJvdXRlLmlkID09PSBcInJvb3RcIiA/ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChSZW1peFJvb3REZWZhdWx0RXJyb3JCb3VuZGFyeSwgeyBlcnJvcjogdXNlUm91dGVFcnJvcigpIH0pIDogdm9pZCAwO1xuICBpZiAocm91dGUuaWQgPT09IFwicm9vdFwiICYmIHJvdXRlTW9kdWxlLkxheW91dCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5Db21wb25lbnQ0ID8ge1xuICAgICAgICBlbGVtZW50OiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQocm91dGVNb2R1bGUuTGF5b3V0LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50NCwgbnVsbCkpXG4gICAgICB9IDogeyBDb21wb25lbnQ6IENvbXBvbmVudDQgfSxcbiAgICAgIC4uLkVycm9yQm91bmRhcnkgPyB7XG4gICAgICAgIGVycm9yRWxlbWVudDogLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KHJvdXRlTW9kdWxlLkxheW91dCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0Ny5jcmVhdGVFbGVtZW50KEVycm9yQm91bmRhcnksIG51bGwpKVxuICAgICAgfSA6IHsgRXJyb3JCb3VuZGFyeSB9LFxuICAgICAgLi4uSHlkcmF0ZUZhbGxiYWNrID8ge1xuICAgICAgICBoeWRyYXRlRmFsbGJhY2tFbGVtZW50OiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQocm91dGVNb2R1bGUuTGF5b3V0LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoSHlkcmF0ZUZhbGxiYWNrLCBudWxsKSlcbiAgICAgIH0gOiB7IEh5ZHJhdGVGYWxsYmFjayB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4geyBDb21wb25lbnQ6IENvbXBvbmVudDQsIEVycm9yQm91bmRhcnksIEh5ZHJhdGVGYWxsYmFjayB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2VydmVyUm91dGVzKG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIGZ1dHVyZSwgaXNTcGFNb2RlLCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpLCBzcGFNb2RlTGF6eVByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoeyBDb21wb25lbnQ6ICgpID0+IG51bGwgfSkpIHtcbiAgcmV0dXJuIChyb3V0ZXNCeVBhcmVudElkW3BhcmVudElkXSB8fCBbXSkubWFwKChyb3V0ZSkgPT4ge1xuICAgIGxldCByb3V0ZU1vZHVsZSA9IHJvdXRlTW9kdWxlc1tyb3V0ZS5pZF07XG4gICAgaW52YXJpYW50MihcbiAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgXCJObyBgcm91dGVNb2R1bGVgIGF2YWlsYWJsZSB0byBjcmVhdGUgc2VydmVyIHJvdXRlc1wiXG4gICAgKTtcbiAgICBsZXQgZGF0YVJvdXRlID0ge1xuICAgICAgLi4uZ2V0Um91dGVDb21wb25lbnRzKHJvdXRlLCByb3V0ZU1vZHVsZSwgaXNTcGFNb2RlKSxcbiAgICAgIGNhc2VTZW5zaXRpdmU6IHJvdXRlLmNhc2VTZW5zaXRpdmUsXG4gICAgICBpZDogcm91dGUuaWQsXG4gICAgICBpbmRleDogcm91dGUuaW5kZXgsXG4gICAgICBwYXRoOiByb3V0ZS5wYXRoLFxuICAgICAgaGFuZGxlOiByb3V0ZU1vZHVsZS5oYW5kbGUsXG4gICAgICAvLyBGb3IgU1BBIE1vZGUsIGFsbCByb3V0ZXMgYXJlIGxhenkgZXhjZXB0IHJvb3QuICBIb3dldmVyIHdlIHRlbGwgdGhlXG4gICAgICAvLyByb3V0ZXIgcm9vdCBpcyBhbHNvIGxhenkgaGVyZSB0b28gc2luY2Ugd2UgZG9uJ3QgbmVlZCBhIGZ1bGxcbiAgICAgIC8vIGltcGxlbWVudGF0aW9uIC0gd2UganVzdCBuZWVkIGEgYGxhenlgIHByb3AgdG8gdGVsbCB0aGUgUlIgcmVuZGVyaW5nXG4gICAgICAvLyB3aGVyZSB0byBzdG9wIHdoaWNoIGlzIGFsd2F5cyBhdCB0aGUgcm9vdCByb3V0ZSBpbiBTUEEgbW9kZVxuICAgICAgbGF6eTogaXNTcGFNb2RlID8gKCkgPT4gc3BhTW9kZUxhenlQcm9taXNlIDogdm9pZCAwLFxuICAgICAgLy8gRm9yIHBhcnRpYWwgaHlkcmF0aW9uIHJlbmRlcmluZywgd2UgbmVlZCB0byBpbmRpY2F0ZSB3aGVuIHRoZSByb3V0ZVxuICAgICAgLy8gaGFzIGEgbG9hZGVyL2NsaWVudExvYWRlciwgYnV0IGl0IHdvbid0IGV2ZXIgYmUgY2FsbGVkIGR1cmluZyB0aGUgc3RhdGljXG4gICAgICAvLyByZW5kZXIsIHNvIGp1c3QgZ2l2ZSBpdCBhIG5vLW9wIGZ1bmN0aW9uIHNvIHdlIGNhbiByZW5kZXIgZG93biB0byB0aGVcbiAgICAgIC8vIHByb3BlciBmYWxsYmFja1xuICAgICAgbG9hZGVyOiByb3V0ZS5oYXNMb2FkZXIgfHwgcm91dGUuaGFzQ2xpZW50TG9hZGVyID8gKCkgPT4gbnVsbCA6IHZvaWQgMFxuICAgICAgLy8gV2UgZG9uJ3QgbmVlZCBtaWRkbGV3YXJlL2FjdGlvbi9zaG91bGRSZXZhbGlkYXRlIG9uIHRoZXNlIHJvdXRlcyBzaW5jZVxuICAgICAgLy8gdGhleSdyZSBmb3IgYSBzdGF0aWMgcmVuZGVyXG4gICAgfTtcbiAgICBsZXQgY2hpbGRyZW4gPSBjcmVhdGVTZXJ2ZXJSb3V0ZXMoXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgIGZ1dHVyZSxcbiAgICAgIGlzU3BhTW9kZSxcbiAgICAgIHJvdXRlLmlkLFxuICAgICAgcm91dGVzQnlQYXJlbnRJZCxcbiAgICAgIHNwYU1vZGVMYXp5UHJvbWlzZVxuICAgICk7XG4gICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA+IDApIGRhdGFSb3V0ZS5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHJldHVybiBkYXRhUm91dGU7XG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlQ2xpZW50Um91dGVzV2l0aEhNUlJldmFsaWRhdGlvbk9wdE91dChuZWVkc1JldmFsaWRhdGlvbiwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlc0NhY2hlLCBpbml0aWFsU3RhdGUsIHNzciwgaXNTcGFNb2RlKSB7XG4gIHJldHVybiBjcmVhdGVDbGllbnRSb3V0ZXMoXG4gICAgbWFuaWZlc3QsXG4gICAgcm91dGVNb2R1bGVzQ2FjaGUsXG4gICAgaW5pdGlhbFN0YXRlLFxuICAgIHNzcixcbiAgICBpc1NwYU1vZGUsXG4gICAgXCJcIixcbiAgICBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpLFxuICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICk7XG59XG5mdW5jdGlvbiBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKHR5cGUsIHJvdXRlKSB7XG4gIGlmICh0eXBlID09PSBcImxvYWRlclwiICYmICFyb3V0ZS5oYXNMb2FkZXIgfHwgdHlwZSA9PT0gXCJhY3Rpb25cIiAmJiAhcm91dGUuaGFzQWN0aW9uKSB7XG4gICAgbGV0IGZuID0gdHlwZSA9PT0gXCJhY3Rpb25cIiA/IFwic2VydmVyQWN0aW9uKClcIiA6IFwic2VydmVyTG9hZGVyKClcIjtcbiAgICBsZXQgbXNnID0gYFlvdSBhcmUgdHJ5aW5nIHRvIGNhbGwgJHtmbn0gb24gYSByb3V0ZSB0aGF0IGRvZXMgbm90IGhhdmUgYSBzZXJ2ZXIgJHt0eXBlfSAocm91dGVJZDogXCIke3JvdXRlLmlkfVwiKWA7XG4gICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgIHRocm93IG5ldyBFcnJvclJlc3BvbnNlSW1wbCg0MDAsIFwiQmFkIFJlcXVlc3RcIiwgbmV3IEVycm9yKG1zZyksIHRydWUpO1xuICB9XG59XG5mdW5jdGlvbiBub0FjdGlvbkRlZmluZWRFcnJvcih0eXBlLCByb3V0ZUlkKSB7XG4gIGxldCBhcnRpY2xlID0gdHlwZSA9PT0gXCJjbGllbnRBY3Rpb25cIiA/IFwiYVwiIDogXCJhblwiO1xuICBsZXQgbXNnID0gYFJvdXRlIFwiJHtyb3V0ZUlkfVwiIGRvZXMgbm90IGhhdmUgJHthcnRpY2xlfSAke3R5cGV9LCBidXQgeW91IGFyZSB0cnlpbmcgdG8gc3VibWl0IHRvIGl0LiBUbyBmaXggdGhpcywgcGxlYXNlIGFkZCAke2FydGljbGV9IFxcYCR7dHlwZX1cXGAgZnVuY3Rpb24gdG8gdGhlIHJvdXRlYDtcbiAgY29uc29sZS5lcnJvcihtc2cpO1xuICB0aHJvdyBuZXcgRXJyb3JSZXNwb25zZUltcGwoNDA1LCBcIk1ldGhvZCBOb3QgQWxsb3dlZFwiLCBuZXcgRXJyb3IobXNnKSwgdHJ1ZSk7XG59XG5mdW5jdGlvbiBjcmVhdGVDbGllbnRSb3V0ZXMobWFuaWZlc3QsIHJvdXRlTW9kdWxlc0NhY2hlLCBpbml0aWFsU3RhdGUsIHNzciwgaXNTcGFNb2RlLCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQobWFuaWZlc3QpLCBuZWVkc1JldmFsaWRhdGlvbikge1xuICByZXR1cm4gKHJvdXRlc0J5UGFyZW50SWRbcGFyZW50SWRdIHx8IFtdKS5tYXAoKHJvdXRlKSA9PiB7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gcm91dGVNb2R1bGVzQ2FjaGVbcm91dGUuaWRdO1xuICAgIGZ1bmN0aW9uIGZldGNoU2VydmVySGFuZGxlcihzaW5nbGVGZXRjaCkge1xuICAgICAgaW52YXJpYW50MihcbiAgICAgICAgdHlwZW9mIHNpbmdsZUZldGNoID09PSBcImZ1bmN0aW9uXCIsXG4gICAgICAgIFwiTm8gc2luZ2xlIGZldGNoIGZ1bmN0aW9uIGF2YWlsYWJsZSBmb3Igcm91dGUgaGFuZGxlclwiXG4gICAgICApO1xuICAgICAgcmV0dXJuIHNpbmdsZUZldGNoKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKSB7XG4gICAgICBpZiAoIXJvdXRlLmhhc0xvYWRlcikgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgIHJldHVybiBmZXRjaFNlcnZlckhhbmRsZXIoc2luZ2xlRmV0Y2gpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCkge1xuICAgICAgaWYgKCFyb3V0ZS5oYXNBY3Rpb24pIHtcbiAgICAgICAgdGhyb3cgbm9BY3Rpb25EZWZpbmVkRXJyb3IoXCJhY3Rpb25cIiwgcm91dGUuaWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoU2VydmVySGFuZGxlcihzaW5nbGVGZXRjaCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHByZWZldGNoTW9kdWxlKG1vZHVsZVBhdGgpIHtcbiAgICAgIGltcG9ydChcbiAgICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgICAgbW9kdWxlUGF0aFxuICAgICAgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcHJlZmV0Y2hSb3V0ZU1vZHVsZUNodW5rcyhyb3V0ZTIpIHtcbiAgICAgIGlmIChyb3V0ZTIuY2xpZW50QWN0aW9uTW9kdWxlKSB7XG4gICAgICAgIHByZWZldGNoTW9kdWxlKHJvdXRlMi5jbGllbnRBY3Rpb25Nb2R1bGUpO1xuICAgICAgfVxuICAgICAgaWYgKHJvdXRlMi5jbGllbnRMb2FkZXJNb2R1bGUpIHtcbiAgICAgICAgcHJlZmV0Y2hNb2R1bGUocm91dGUyLmNsaWVudExvYWRlck1vZHVsZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGZ1bmN0aW9uIHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoaGFuZGxlcikge1xuICAgICAgbGV0IGNhY2hlZE1vZHVsZSA9IHJvdXRlTW9kdWxlc0NhY2hlW3JvdXRlLmlkXTtcbiAgICAgIGxldCBsaW5rUHJlZmV0Y2hQcm9taXNlID0gY2FjaGVkTW9kdWxlID8gcHJlZmV0Y2hTdHlsZUxpbmtzKHJvdXRlLCBjYWNoZWRNb2R1bGUpIDogUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gaGFuZGxlcigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgYXdhaXQgbGlua1ByZWZldGNoUHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRhdGFSb3V0ZSA9IHtcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGhcbiAgICB9O1xuICAgIGlmIChyb3V0ZU1vZHVsZSkge1xuICAgICAgT2JqZWN0LmFzc2lnbihkYXRhUm91dGUsIHtcbiAgICAgICAgLi4uZGF0YVJvdXRlLFxuICAgICAgICAuLi5nZXRSb3V0ZUNvbXBvbmVudHMocm91dGUsIHJvdXRlTW9kdWxlLCBpc1NwYU1vZGUpLFxuICAgICAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiByb3V0ZU1vZHVsZS51bnN0YWJsZV9jbGllbnRNaWRkbGV3YXJlLFxuICAgICAgICBoYW5kbGU6IHJvdXRlTW9kdWxlLmhhbmRsZSxcbiAgICAgICAgc2hvdWxkUmV2YWxpZGF0ZTogZ2V0U2hvdWxkUmV2YWxpZGF0ZUZ1bmN0aW9uKFxuICAgICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICAgIHJvdXRlLFxuICAgICAgICAgIHNzcixcbiAgICAgICAgICBuZWVkc1JldmFsaWRhdGlvblxuICAgICAgICApXG4gICAgICB9KTtcbiAgICAgIGxldCBoYXNJbml0aWFsRGF0YSA9IGluaXRpYWxTdGF0ZSAmJiBpbml0aWFsU3RhdGUubG9hZGVyRGF0YSAmJiByb3V0ZS5pZCBpbiBpbml0aWFsU3RhdGUubG9hZGVyRGF0YTtcbiAgICAgIGxldCBpbml0aWFsRGF0YSA9IGhhc0luaXRpYWxEYXRhID8gaW5pdGlhbFN0YXRlPy5sb2FkZXJEYXRhPy5bcm91dGUuaWRdIDogdm9pZCAwO1xuICAgICAgbGV0IGhhc0luaXRpYWxFcnJvciA9IGluaXRpYWxTdGF0ZSAmJiBpbml0aWFsU3RhdGUuZXJyb3JzICYmIHJvdXRlLmlkIGluIGluaXRpYWxTdGF0ZS5lcnJvcnM7XG4gICAgICBsZXQgaW5pdGlhbEVycm9yID0gaGFzSW5pdGlhbEVycm9yID8gaW5pdGlhbFN0YXRlPy5lcnJvcnM/Lltyb3V0ZS5pZF0gOiB2b2lkIDA7XG4gICAgICBsZXQgaXNIeWRyYXRpb25SZXF1ZXN0ID0gbmVlZHNSZXZhbGlkYXRpb24gPT0gbnVsbCAmJiAocm91dGVNb2R1bGUuY2xpZW50TG9hZGVyPy5oeWRyYXRlID09PSB0cnVlIHx8ICFyb3V0ZS5oYXNMb2FkZXIpO1xuICAgICAgZGF0YVJvdXRlLmxvYWRlciA9IGFzeW5jICh7IHJlcXVlc3QsIHBhcmFtcywgY29udGV4dCB9LCBzaW5nbGVGZXRjaCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCBwcmVmZXRjaFN0eWxlc0FuZENhbGxIYW5kbGVyKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGludmFyaWFudDIoXG4gICAgICAgICAgICAgIHJvdXRlTW9kdWxlLFxuICAgICAgICAgICAgICBcIk5vIGByb3V0ZU1vZHVsZWAgYXZhaWxhYmxlIGZvciBjcml0aWNhbC1yb3V0ZSBsb2FkZXJcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckxvYWRlcihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuY2xpZW50TG9hZGVyKHtcbiAgICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgICBhc3luYyBzZXJ2ZXJMb2FkZXIoKSB7XG4gICAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImxvYWRlclwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzSHlkcmF0aW9uUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGhhc0luaXRpYWxEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsRGF0YTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChoYXNJbml0aWFsRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgaW5pdGlhbEVycm9yO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIGlzSHlkcmF0aW9uUmVxdWVzdCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGF0YVJvdXRlLmxvYWRlci5oeWRyYXRlID0gc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyKFxuICAgICAgICByb3V0ZSxcbiAgICAgICAgcm91dGVNb2R1bGUsXG4gICAgICAgIGlzU3BhTW9kZVxuICAgICAgKTtcbiAgICAgIGRhdGFSb3V0ZS5hY3Rpb24gPSAoeyByZXF1ZXN0LCBwYXJhbXMsIGNvbnRleHQgfSwgc2luZ2xlRmV0Y2gpID0+IHtcbiAgICAgICAgcmV0dXJuIHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGludmFyaWFudDIoXG4gICAgICAgICAgICByb3V0ZU1vZHVsZSxcbiAgICAgICAgICAgIFwiTm8gYHJvdXRlTW9kdWxlYCBhdmFpbGFibGUgZm9yIGNyaXRpY2FsLXJvdXRlIGFjdGlvblwiXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXJvdXRlTW9kdWxlLmNsaWVudEFjdGlvbikge1xuICAgICAgICAgICAgaWYgKGlzU3BhTW9kZSkge1xuICAgICAgICAgICAgICB0aHJvdyBub0FjdGlvbkRlZmluZWRFcnJvcihcImNsaWVudEFjdGlvblwiLCByb3V0ZS5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJBY3Rpb24oc2luZ2xlRmV0Y2gpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcm91dGVNb2R1bGUuY2xpZW50QWN0aW9uKHtcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyQWN0aW9uKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwiYWN0aW9uXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXJvdXRlLmhhc0NsaWVudExvYWRlcikge1xuICAgICAgICBkYXRhUm91dGUubG9hZGVyID0gKF8sIHNpbmdsZUZldGNoKSA9PiBwcmVmZXRjaFN0eWxlc0FuZENhbGxIYW5kbGVyKCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hTZXJ2ZXJMb2FkZXIoc2luZ2xlRmV0Y2gpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocm91dGUuY2xpZW50TG9hZGVyTW9kdWxlKSB7XG4gICAgICAgIGRhdGFSb3V0ZS5sb2FkZXIgPSBhc3luYyAoYXJncywgc2luZ2xlRmV0Y2gpID0+IHtcbiAgICAgICAgICBpbnZhcmlhbnQyKHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSk7XG4gICAgICAgICAgbGV0IHsgY2xpZW50TG9hZGVyIH0gPSBhd2FpdCBpbXBvcnQoXG4gICAgICAgICAgICAvKiBAdml0ZS1pZ25vcmUgKi9cbiAgICAgICAgICAgIC8qIHdlYnBhY2tJZ25vcmU6IHRydWUgKi9cbiAgICAgICAgICAgIHJvdXRlLmNsaWVudExvYWRlck1vZHVsZVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGNsaWVudExvYWRlcih7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyTG9hZGVyKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwibG9hZGVyXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmICghcm91dGUuaGFzQ2xpZW50QWN0aW9uKSB7XG4gICAgICAgIGRhdGFSb3V0ZS5hY3Rpb24gPSAoXywgc2luZ2xlRmV0Y2gpID0+IHByZWZldGNoU3R5bGVzQW5kQ2FsbEhhbmRsZXIoKCkgPT4ge1xuICAgICAgICAgIGlmIChpc1NwYU1vZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5vQWN0aW9uRGVmaW5lZEVycm9yKFwiY2xpZW50QWN0aW9uXCIsIHJvdXRlLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJvdXRlLmNsaWVudEFjdGlvbk1vZHVsZSkge1xuICAgICAgICBkYXRhUm91dGUuYWN0aW9uID0gYXN5bmMgKGFyZ3MsIHNpbmdsZUZldGNoKSA9PiB7XG4gICAgICAgICAgaW52YXJpYW50Mihyb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpO1xuICAgICAgICAgIHByZWZldGNoUm91dGVNb2R1bGVDaHVua3Mocm91dGUpO1xuICAgICAgICAgIGxldCB7IGNsaWVudEFjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxuICAgICAgICAgICAgLyogQHZpdGUtaWdub3JlICovXG4gICAgICAgICAgICAvKiB3ZWJwYWNrSWdub3JlOiB0cnVlICovXG4gICAgICAgICAgICByb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGVcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBjbGllbnRBY3Rpb24oe1xuICAgICAgICAgICAgLi4uYXJncyxcbiAgICAgICAgICAgIGFzeW5jIHNlcnZlckFjdGlvbigpIHtcbiAgICAgICAgICAgICAgcHJldmVudEludmFsaWRTZXJ2ZXJIYW5kbGVyQ2FsbChcImFjdGlvblwiLCByb3V0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBmZXRjaFNlcnZlckFjdGlvbihzaW5nbGVGZXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBkYXRhUm91dGUubGF6eSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHJvdXRlLmNsaWVudExvYWRlck1vZHVsZSB8fCByb3V0ZS5jbGllbnRBY3Rpb25Nb2R1bGUpIHtcbiAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1vZFByb21pc2UgPSBsb2FkUm91dGVNb2R1bGVXaXRoQmxvY2tpbmdMaW5rcyhcbiAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICByb3V0ZU1vZHVsZXNDYWNoZVxuICAgICAgICApO1xuICAgICAgICBwcmVmZXRjaFJvdXRlTW9kdWxlQ2h1bmtzKHJvdXRlKTtcbiAgICAgICAgbGV0IG1vZCA9IGF3YWl0IG1vZFByb21pc2U7XG4gICAgICAgIGxldCBsYXp5Um91dGUgPSB7IC4uLm1vZCB9O1xuICAgICAgICBpZiAobW9kLmNsaWVudExvYWRlcikge1xuICAgICAgICAgIGxldCBjbGllbnRMb2FkZXIgPSBtb2QuY2xpZW50TG9hZGVyO1xuICAgICAgICAgIGxhenlSb3V0ZS5sb2FkZXIgPSAoYXJncywgc2luZ2xlRmV0Y2gpID0+IGNsaWVudExvYWRlcih7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyTG9hZGVyKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwibG9hZGVyXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyTG9hZGVyKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kLmNsaWVudEFjdGlvbikge1xuICAgICAgICAgIGxldCBjbGllbnRBY3Rpb24gPSBtb2QuY2xpZW50QWN0aW9uO1xuICAgICAgICAgIGxhenlSb3V0ZS5hY3Rpb24gPSAoYXJncywgc2luZ2xlRmV0Y2gpID0+IGNsaWVudEFjdGlvbih7XG4gICAgICAgICAgICAuLi5hcmdzLFxuICAgICAgICAgICAgYXN5bmMgc2VydmVyQWN0aW9uKCkge1xuICAgICAgICAgICAgICBwcmV2ZW50SW52YWxpZFNlcnZlckhhbmRsZXJDYWxsKFwiYWN0aW9uXCIsIHJvdXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoU2VydmVyQWN0aW9uKHNpbmdsZUZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLmxhenlSb3V0ZS5sb2FkZXIgPyB7IGxvYWRlcjogbGF6eVJvdXRlLmxvYWRlciB9IDoge30sXG4gICAgICAgICAgLi4ubGF6eVJvdXRlLmFjdGlvbiA/IHsgYWN0aW9uOiBsYXp5Um91dGUuYWN0aW9uIH0gOiB7fSxcbiAgICAgICAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiBtb2QudW5zdGFibGVfY2xpZW50TWlkZGxld2FyZSxcbiAgICAgICAgICBoYXNFcnJvckJvdW5kYXJ5OiBsYXp5Um91dGUuaGFzRXJyb3JCb3VuZGFyeSxcbiAgICAgICAgICBzaG91bGRSZXZhbGlkYXRlOiBnZXRTaG91bGRSZXZhbGlkYXRlRnVuY3Rpb24oXG4gICAgICAgICAgICBsYXp5Um91dGUsXG4gICAgICAgICAgICByb3V0ZSxcbiAgICAgICAgICAgIHNzcixcbiAgICAgICAgICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICAgICAgICAgKSxcbiAgICAgICAgICBoYW5kbGU6IGxhenlSb3V0ZS5oYW5kbGUsXG4gICAgICAgICAgLy8gTm8gbmVlZCB0byB3cmFwIHRoZXNlIGluIGxheW91dCBzaW5jZSB0aGUgcm9vdCByb3V0ZSBpcyBuZXZlclxuICAgICAgICAgIC8vIGxvYWRlZCB2aWEgcm91dGUubGF6eSgpXG4gICAgICAgICAgQ29tcG9uZW50OiBsYXp5Um91dGUuQ29tcG9uZW50LFxuICAgICAgICAgIEVycm9yQm91bmRhcnk6IGxhenlSb3V0ZS5FcnJvckJvdW5kYXJ5XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH1cbiAgICBsZXQgY2hpbGRyZW4gPSBjcmVhdGVDbGllbnRSb3V0ZXMoXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIHJvdXRlTW9kdWxlc0NhY2hlLFxuICAgICAgaW5pdGlhbFN0YXRlLFxuICAgICAgc3NyLFxuICAgICAgaXNTcGFNb2RlLFxuICAgICAgcm91dGUuaWQsXG4gICAgICByb3V0ZXNCeVBhcmVudElkLFxuICAgICAgbmVlZHNSZXZhbGlkYXRpb25cbiAgICApO1xuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSBkYXRhUm91dGUuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICByZXR1cm4gZGF0YVJvdXRlO1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdldFNob3VsZFJldmFsaWRhdGVGdW5jdGlvbihyb3V0ZSwgbWFuaWZlc3RSb3V0ZSwgc3NyLCBuZWVkc1JldmFsaWRhdGlvbikge1xuICBpZiAobmVlZHNSZXZhbGlkYXRpb24pIHtcbiAgICByZXR1cm4gd3JhcFNob3VsZFJldmFsaWRhdGVGb3JIZHIoXG4gICAgICBtYW5pZmVzdFJvdXRlLmlkLFxuICAgICAgcm91dGUuc2hvdWxkUmV2YWxpZGF0ZSxcbiAgICAgIG5lZWRzUmV2YWxpZGF0aW9uXG4gICAgKTtcbiAgfVxuICBpZiAoIXNzciAmJiBtYW5pZmVzdFJvdXRlLmhhc0xvYWRlciAmJiAhbWFuaWZlc3RSb3V0ZS5oYXNDbGllbnRMb2FkZXIpIHtcbiAgICBpZiAocm91dGUuc2hvdWxkUmV2YWxpZGF0ZSkge1xuICAgICAgbGV0IGZuID0gcm91dGUuc2hvdWxkUmV2YWxpZGF0ZTtcbiAgICAgIHJldHVybiAob3B0cykgPT4gZm4oeyAuLi5vcHRzLCBkZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTogZmFsc2UgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoKSA9PiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgaWYgKHNzciAmJiByb3V0ZS5zaG91bGRSZXZhbGlkYXRlKSB7XG4gICAgbGV0IGZuID0gcm91dGUuc2hvdWxkUmV2YWxpZGF0ZTtcbiAgICByZXR1cm4gKG9wdHMpID0+IGZuKHsgLi4ub3B0cywgZGVmYXVsdFNob3VsZFJldmFsaWRhdGU6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHJvdXRlLnNob3VsZFJldmFsaWRhdGU7XG59XG5mdW5jdGlvbiB3cmFwU2hvdWxkUmV2YWxpZGF0ZUZvckhkcihyb3V0ZUlkLCByb3V0ZVNob3VsZFJldmFsaWRhdGUsIG5lZWRzUmV2YWxpZGF0aW9uKSB7XG4gIGxldCBoYW5kbGVkUmV2YWxpZGF0aW9uID0gZmFsc2U7XG4gIHJldHVybiAoYXJnKSA9PiB7XG4gICAgaWYgKCFoYW5kbGVkUmV2YWxpZGF0aW9uKSB7XG4gICAgICBoYW5kbGVkUmV2YWxpZGF0aW9uID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZWVkc1JldmFsaWRhdGlvbi5oYXMocm91dGVJZCk7XG4gICAgfVxuICAgIHJldHVybiByb3V0ZVNob3VsZFJldmFsaWRhdGUgPyByb3V0ZVNob3VsZFJldmFsaWRhdGUoYXJnKSA6IGFyZy5kZWZhdWx0U2hvdWxkUmV2YWxpZGF0ZTtcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGxvYWRSb3V0ZU1vZHVsZVdpdGhCbG9ja2luZ0xpbmtzKHJvdXRlLCByb3V0ZU1vZHVsZXMpIHtcbiAgbGV0IHJvdXRlTW9kdWxlUHJvbWlzZSA9IGxvYWRSb3V0ZU1vZHVsZShyb3V0ZSwgcm91dGVNb2R1bGVzKTtcbiAgbGV0IHByZWZldGNoUm91dGVDc3NQcm9taXNlID0gcHJlZmV0Y2hSb3V0ZUNzcyhyb3V0ZSk7XG4gIGxldCByb3V0ZU1vZHVsZSA9IGF3YWl0IHJvdXRlTW9kdWxlUHJvbWlzZTtcbiAgYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIHByZWZldGNoUm91dGVDc3NQcm9taXNlLFxuICAgIHByZWZldGNoU3R5bGVMaW5rcyhyb3V0ZSwgcm91dGVNb2R1bGUpXG4gIF0pO1xuICByZXR1cm4ge1xuICAgIENvbXBvbmVudDogZ2V0Um91dGVNb2R1bGVDb21wb25lbnQocm91dGVNb2R1bGUpLFxuICAgIEVycm9yQm91bmRhcnk6IHJvdXRlTW9kdWxlLkVycm9yQm91bmRhcnksXG4gICAgdW5zdGFibGVfY2xpZW50TWlkZGxld2FyZTogcm91dGVNb2R1bGUudW5zdGFibGVfY2xpZW50TWlkZGxld2FyZSxcbiAgICBjbGllbnRBY3Rpb246IHJvdXRlTW9kdWxlLmNsaWVudEFjdGlvbixcbiAgICBjbGllbnRMb2FkZXI6IHJvdXRlTW9kdWxlLmNsaWVudExvYWRlcixcbiAgICBoYW5kbGU6IHJvdXRlTW9kdWxlLmhhbmRsZSxcbiAgICBsaW5rczogcm91dGVNb2R1bGUubGlua3MsXG4gICAgbWV0YTogcm91dGVNb2R1bGUubWV0YSxcbiAgICBzaG91bGRSZXZhbGlkYXRlOiByb3V0ZU1vZHVsZS5zaG91bGRSZXZhbGlkYXRlXG4gIH07XG59XG5mdW5jdGlvbiBnZXRSb3V0ZU1vZHVsZUNvbXBvbmVudChyb3V0ZU1vZHVsZSkge1xuICBpZiAocm91dGVNb2R1bGUuZGVmYXVsdCA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICBsZXQgaXNFbXB0eU9iamVjdCA9IHR5cGVvZiByb3V0ZU1vZHVsZS5kZWZhdWx0ID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHJvdXRlTW9kdWxlLmRlZmF1bHQpLmxlbmd0aCA9PT0gMDtcbiAgaWYgKCFpc0VtcHR5T2JqZWN0KSB7XG4gICAgcmV0dXJuIHJvdXRlTW9kdWxlLmRlZmF1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIHNob3VsZEh5ZHJhdGVSb3V0ZUxvYWRlcihyb3V0ZSwgcm91dGVNb2R1bGUsIGlzU3BhTW9kZSkge1xuICByZXR1cm4gaXNTcGFNb2RlICYmIHJvdXRlLmlkICE9PSBcInJvb3RcIiB8fCByb3V0ZU1vZHVsZS5jbGllbnRMb2FkZXIgIT0gbnVsbCAmJiAocm91dGVNb2R1bGUuY2xpZW50TG9hZGVyLmh5ZHJhdGUgPT09IHRydWUgfHwgcm91dGUuaGFzTG9hZGVyICE9PSB0cnVlKTtcbn1cblxuLy8gbGliL2RvbS9zc3IvZm9nLW9mLXdhci50c1xudmFyIG5leHRQYXRocyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG52YXIgZGlzY292ZXJlZFBhdGhzTWF4U2l6ZSA9IDFlMztcbnZhciBkaXNjb3ZlcmVkUGF0aHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xudmFyIFVSTF9MSU1JVCA9IDc2ODA7XG5mdW5jdGlvbiBpc0ZvZ09mV2FyRW5hYmxlZChzc3IpIHtcbiAgcmV0dXJuIHNzciA9PT0gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGdldFBhcnRpYWxNYW5pZmVzdChtYW5pZmVzdCwgcm91dGVyKSB7XG4gIGxldCByb3V0ZUlkcyA9IG5ldyBTZXQocm91dGVyLnN0YXRlLm1hdGNoZXMubWFwKChtKSA9PiBtLnJvdXRlLmlkKSk7XG4gIGxldCBzZWdtZW50cyA9IHJvdXRlci5zdGF0ZS5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIikuZmlsdGVyKEJvb2xlYW4pO1xuICBsZXQgcGF0aHMgPSBbXCIvXCJdO1xuICBzZWdtZW50cy5wb3AoKTtcbiAgd2hpbGUgKHNlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICBwYXRocy5wdXNoKGAvJHtzZWdtZW50cy5qb2luKFwiL1wiKX1gKTtcbiAgICBzZWdtZW50cy5wb3AoKTtcbiAgfVxuICBwYXRocy5mb3JFYWNoKChwYXRoKSA9PiB7XG4gICAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhyb3V0ZXIucm91dGVzLCBwYXRoLCByb3V0ZXIuYmFzZW5hbWUpO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICBtYXRjaGVzLmZvckVhY2goKG0pID0+IHJvdXRlSWRzLmFkZChtLnJvdXRlLmlkKSk7XG4gICAgfVxuICB9KTtcbiAgbGV0IGluaXRpYWxSb3V0ZXMgPSBbLi4ucm91dGVJZHNdLnJlZHVjZShcbiAgICAoYWNjLCBpZCkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW2lkXTogbWFuaWZlc3Qucm91dGVzW2lkXSB9KSxcbiAgICB7fVxuICApO1xuICByZXR1cm4ge1xuICAgIC4uLm1hbmlmZXN0LFxuICAgIHJvdXRlczogaW5pdGlhbFJvdXRlc1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0UGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb25GdW5jdGlvbihtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIGlzU3BhTW9kZSwgYmFzZW5hbWUpIHtcbiAgaWYgKCFpc0ZvZ09mV2FyRW5hYmxlZChzc3IpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gYXN5bmMgKHsgcGF0aCwgcGF0Y2gsIHNpZ25hbCwgZmV0Y2hlcktleSB9KSA9PiB7XG4gICAgaWYgKGRpc2NvdmVyZWRQYXRocy5oYXMocGF0aCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgYXdhaXQgZmV0Y2hBbmRBcHBseU1hbmlmZXN0UGF0Y2hlcyhcbiAgICAgIFtwYXRoXSxcbiAgICAgIGZldGNoZXJLZXkgPyB3aW5kb3cubG9jYXRpb24uaHJlZiA6IHBhdGgsXG4gICAgICBtYW5pZmVzdCxcbiAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgIHNzcixcbiAgICAgIGlzU3BhTW9kZSxcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgcGF0Y2gsXG4gICAgICBzaWduYWxcbiAgICApO1xuICB9O1xufVxuZnVuY3Rpb24gdXNlRm9nT0ZXYXJEaXNjb3Zlcnkocm91dGVyLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBzc3IsIGlzU3BhTW9kZSkge1xuICBSZWFjdDgudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWlzRm9nT2ZXYXJFbmFibGVkKHNzcikgfHwgbmF2aWdhdG9yLmNvbm5lY3Rpb24/LnNhdmVEYXRhID09PSB0cnVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlZ2lzdGVyRWxlbWVudChlbCkge1xuICAgICAgbGV0IHBhdGggPSBlbC50YWdOYW1lID09PSBcIkZPUk1cIiA/IGVsLmdldEF0dHJpYnV0ZShcImFjdGlvblwiKSA6IGVsLmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG4gICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHBhdGhuYW1lID0gZWwudGFnTmFtZSA9PT0gXCJBXCIgPyBlbC5wYXRobmFtZSA6IG5ldyBVUkwocGF0aCwgd2luZG93LmxvY2F0aW9uLm9yaWdpbikucGF0aG5hbWU7XG4gICAgICBpZiAoIWRpc2NvdmVyZWRQYXRocy5oYXMocGF0aG5hbWUpKSB7XG4gICAgICAgIG5leHRQYXRocy5hZGQocGF0aG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmdW5jdGlvbiBmZXRjaFBhdGNoZXMoKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYVtkYXRhLWRpc2NvdmVyXSwgZm9ybVtkYXRhLWRpc2NvdmVyXVwiKS5mb3JFYWNoKHJlZ2lzdGVyRWxlbWVudCk7XG4gICAgICBsZXQgbGF6eVBhdGhzID0gQXJyYXkuZnJvbShuZXh0UGF0aHMua2V5cygpKS5maWx0ZXIoKHBhdGgpID0+IHtcbiAgICAgICAgaWYgKGRpc2NvdmVyZWRQYXRocy5oYXMocGF0aCkpIHtcbiAgICAgICAgICBuZXh0UGF0aHMuZGVsZXRlKHBhdGgpO1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGxhenlQYXRocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgZmV0Y2hBbmRBcHBseU1hbmlmZXN0UGF0Y2hlcyhcbiAgICAgICAgICBsYXp5UGF0aHMsXG4gICAgICAgICAgbnVsbCxcbiAgICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgICByb3V0ZU1vZHVsZXMsXG4gICAgICAgICAgc3NyLFxuICAgICAgICAgIGlzU3BhTW9kZSxcbiAgICAgICAgICByb3V0ZXIuYmFzZW5hbWUsXG4gICAgICAgICAgcm91dGVyLnBhdGNoUm91dGVzXG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbWFuaWZlc3QgcGF0Y2hlc1wiLCBlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRlYm91bmNlZEZldGNoUGF0Y2hlcyA9IGRlYm91bmNlKGZldGNoUGF0Y2hlcywgMTAwKTtcbiAgICBmZXRjaFBhdGNoZXMoKTtcbiAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigoKSA9PiBkZWJvdW5jZWRGZXRjaFBhdGNoZXMoKSk7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHtcbiAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICBhdHRyaWJ1dGVzOiB0cnVlLFxuICAgICAgYXR0cmlidXRlRmlsdGVyOiBbXCJkYXRhLWRpc2NvdmVyXCIsIFwiaHJlZlwiLCBcImFjdGlvblwiXVxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFtzc3IsIGlzU3BhTW9kZSwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgcm91dGVyXSk7XG59XG52YXIgTUFOSUZFU1RfVkVSU0lPTl9TVE9SQUdFX0tFWSA9IFwicmVhY3Qtcm91dGVyLW1hbmlmZXN0LXZlcnNpb25cIjtcbmFzeW5jIGZ1bmN0aW9uIGZldGNoQW5kQXBwbHlNYW5pZmVzdFBhdGNoZXMocGF0aHMsIGVycm9yUmVsb2FkUGF0aCwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgc3NyLCBpc1NwYU1vZGUsIGJhc2VuYW1lLCBwYXRjaFJvdXRlcywgc2lnbmFsKSB7XG4gIGxldCBtYW5pZmVzdFBhdGggPSBgJHtiYXNlbmFtZSAhPSBudWxsID8gYmFzZW5hbWUgOiBcIi9cIn0vX19tYW5pZmVzdGAucmVwbGFjZShcbiAgICAvXFwvKy9nLFxuICAgIFwiL1wiXG4gICk7XG4gIGxldCB1cmwgPSBuZXcgVVJMKG1hbmlmZXN0UGF0aCwgd2luZG93LmxvY2F0aW9uLm9yaWdpbik7XG4gIHBhdGhzLnNvcnQoKS5mb3JFYWNoKChwYXRoKSA9PiB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZChcInBcIiwgcGF0aCkpO1xuICB1cmwuc2VhcmNoUGFyYW1zLnNldChcInZlcnNpb25cIiwgbWFuaWZlc3QudmVyc2lvbik7XG4gIGlmICh1cmwudG9TdHJpbmcoKS5sZW5ndGggPiBVUkxfTElNSVQpIHtcbiAgICBuZXh0UGF0aHMuY2xlYXIoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNlcnZlclBhdGNoZXM7XG4gIHRyeSB7XG4gICAgbGV0IHJlcyA9IGF3YWl0IGZldGNoKHVybCwgeyBzaWduYWwgfSk7XG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgJHtyZXMuc3RhdHVzfSAke3Jlcy5zdGF0dXNUZXh0fWApO1xuICAgIH0gZWxzZSBpZiAocmVzLnN0YXR1cyA9PT0gMjA0ICYmIHJlcy5oZWFkZXJzLmhhcyhcIlgtUmVtaXgtUmVsb2FkLURvY3VtZW50XCIpKSB7XG4gICAgICBpZiAoIWVycm9yUmVsb2FkUGF0aCkge1xuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgXCJEZXRlY3RlZCBhIG1hbmlmZXN0IHZlcnNpb24gbWlzbWF0Y2ggZHVyaW5nIGVhZ2VyIHJvdXRlIGRpc2NvdmVyeS4gVGhlIG5leHQgbmF2aWdhdGlvbi9mZXRjaCB0byBhbiB1bmRpc2NvdmVyZWQgcm91dGUgd2lsbCByZXN1bHQgaW4gYSBuZXcgZG9jdW1lbnQgbmF2aWdhdGlvbiB0byBzeW5jIHVwIHdpdGggdGhlIGxhdGVzdCBtYW5pZmVzdC5cIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShNQU5JRkVTVF9WRVJTSU9OX1NUT1JBR0VfS0VZKSA9PT0gbWFuaWZlc3QudmVyc2lvbikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFxuICAgICAgICAgIFwiVW5hYmxlIHRvIGRpc2NvdmVyIHJvdXRlcyBkdWUgdG8gbWFuaWZlc3QgdmVyc2lvbiBtaXNtYXRjaC5cIlxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKE1BTklGRVNUX1ZFUlNJT05fU1RPUkFHRV9LRVksIG1hbmlmZXN0LnZlcnNpb24pO1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBlcnJvclJlbG9hZFBhdGg7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEZXRlY3RlZCBtYW5pZmVzdCB2ZXJzaW9uIG1pc21hdGNoLCByZWxvYWRpbmcuLi5cIik7XG4gICAgfSBlbHNlIGlmIChyZXMuc3RhdHVzID49IDQwMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGF3YWl0IHJlcy50ZXh0KCkpO1xuICAgIH1cbiAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKE1BTklGRVNUX1ZFUlNJT05fU1RPUkFHRV9LRVkpO1xuICAgIHNlcnZlclBhdGNoZXMgPSBhd2FpdCByZXMuanNvbigpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKHNpZ25hbD8uYWJvcnRlZCkgcmV0dXJuO1xuICAgIHRocm93IGU7XG4gIH1cbiAgbGV0IGtub3duUm91dGVzID0gbmV3IFNldChPYmplY3Qua2V5cyhtYW5pZmVzdC5yb3V0ZXMpKTtcbiAgbGV0IHBhdGNoZXMgPSBPYmplY3QudmFsdWVzKHNlcnZlclBhdGNoZXMpLnJlZHVjZSgoYWNjLCByb3V0ZSkgPT4ge1xuICAgIGlmIChyb3V0ZSAmJiAha25vd25Sb3V0ZXMuaGFzKHJvdXRlLmlkKSkge1xuICAgICAgYWNjW3JvdXRlLmlkXSA9IHJvdXRlO1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG4gIE9iamVjdC5hc3NpZ24obWFuaWZlc3Qucm91dGVzLCBwYXRjaGVzKTtcbiAgcGF0aHMuZm9yRWFjaCgocCkgPT4gYWRkVG9GaWZvUXVldWUocCwgZGlzY292ZXJlZFBhdGhzKSk7XG4gIGxldCBwYXJlbnRJZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBPYmplY3QudmFsdWVzKHBhdGNoZXMpLmZvckVhY2goKHBhdGNoKSA9PiB7XG4gICAgaWYgKHBhdGNoICYmICghcGF0Y2gucGFyZW50SWQgfHwgIXBhdGNoZXNbcGF0Y2gucGFyZW50SWRdKSkge1xuICAgICAgcGFyZW50SWRzLmFkZChwYXRjaC5wYXJlbnRJZCk7XG4gICAgfVxuICB9KTtcbiAgcGFyZW50SWRzLmZvckVhY2goXG4gICAgKHBhcmVudElkKSA9PiBwYXRjaFJvdXRlcyhcbiAgICAgIHBhcmVudElkIHx8IG51bGwsXG4gICAgICBjcmVhdGVDbGllbnRSb3V0ZXMocGF0Y2hlcywgcm91dGVNb2R1bGVzLCBudWxsLCBzc3IsIGlzU3BhTW9kZSwgcGFyZW50SWQpXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gYWRkVG9GaWZvUXVldWUocGF0aCwgcXVldWUpIHtcbiAgaWYgKHF1ZXVlLnNpemUgPj0gZGlzY292ZXJlZFBhdGhzTWF4U2l6ZSkge1xuICAgIGxldCBmaXJzdCA9IHF1ZXVlLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcbiAgICBxdWV1ZS5kZWxldGUoZmlyc3QpO1xuICB9XG4gIHF1ZXVlLmFkZChwYXRoKTtcbn1cbmZ1bmN0aW9uIGRlYm91bmNlKGNhbGxiYWNrLCB3YWl0KSB7XG4gIGxldCB0aW1lb3V0SWQ7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB0aW1lb3V0SWQgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiBjYWxsYmFjayguLi5hcmdzKSwgd2FpdCk7XG4gIH07XG59XG5cbi8vIGxpYi9kb20vc3NyL2NvbXBvbmVudHMudHN4XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyQ29udGV4dDIoKSB7XG4gIGxldCBjb250ZXh0ID0gUmVhY3Q5LnVzZUNvbnRleHQoRGF0YVJvdXRlckNvbnRleHQpO1xuICBpbnZhcmlhbnQyKFxuICAgIGNvbnRleHQsXG4gICAgXCJZb3UgbXVzdCByZW5kZXIgdGhpcyBlbGVtZW50IGluc2lkZSBhIDxEYXRhUm91dGVyQ29udGV4dC5Qcm92aWRlcj4gZWxlbWVudFwiXG4gICk7XG4gIHJldHVybiBjb250ZXh0O1xufVxuZnVuY3Rpb24gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpIHtcbiAgbGV0IGNvbnRleHQgPSBSZWFjdDkudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgaW52YXJpYW50MihcbiAgICBjb250ZXh0LFxuICAgIFwiWW91IG11c3QgcmVuZGVyIHRoaXMgZWxlbWVudCBpbnNpZGUgYSA8RGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlcj4gZWxlbWVudFwiXG4gICk7XG4gIHJldHVybiBjb250ZXh0O1xufVxudmFyIEZyYW1ld29ya0NvbnRleHQgPSBSZWFjdDkuY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuRnJhbWV3b3JrQ29udGV4dC5kaXNwbGF5TmFtZSA9IFwiRnJhbWV3b3JrQ29udGV4dFwiO1xuZnVuY3Rpb24gdXNlRnJhbWV3b3JrQ29udGV4dCgpIHtcbiAgbGV0IGNvbnRleHQgPSBSZWFjdDkudXNlQ29udGV4dChGcmFtZXdvcmtDb250ZXh0KTtcbiAgaW52YXJpYW50MihcbiAgICBjb250ZXh0LFxuICAgIFwiWW91IG11c3QgcmVuZGVyIHRoaXMgZWxlbWVudCBpbnNpZGUgYSA8SHlkcmF0ZWRSb3V0ZXI+IGVsZW1lbnRcIlxuICApO1xuICByZXR1cm4gY29udGV4dDtcbn1cbmZ1bmN0aW9uIHVzZVByZWZldGNoQmVoYXZpb3IocHJlZmV0Y2gsIHRoZWlyRWxlbWVudFByb3BzKSB7XG4gIGxldCBmcmFtZXdvcmtDb250ZXh0ID0gUmVhY3Q5LnVzZUNvbnRleHQoRnJhbWV3b3JrQ29udGV4dCk7XG4gIGxldCBbbWF5YmVQcmVmZXRjaCwgc2V0TWF5YmVQcmVmZXRjaF0gPSBSZWFjdDkudXNlU3RhdGUoZmFsc2UpO1xuICBsZXQgW3Nob3VsZFByZWZldGNoLCBzZXRTaG91bGRQcmVmZXRjaF0gPSBSZWFjdDkudXNlU3RhdGUoZmFsc2UpO1xuICBsZXQgeyBvbkZvY3VzLCBvbkJsdXIsIG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlLCBvblRvdWNoU3RhcnQgfSA9IHRoZWlyRWxlbWVudFByb3BzO1xuICBsZXQgcmVmID0gUmVhY3Q5LnVzZVJlZihudWxsKTtcbiAgUmVhY3Q5LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHByZWZldGNoID09PSBcInJlbmRlclwiKSB7XG4gICAgICBzZXRTaG91bGRQcmVmZXRjaCh0cnVlKTtcbiAgICB9XG4gICAgaWYgKHByZWZldGNoID09PSBcInZpZXdwb3J0XCIpIHtcbiAgICAgIGxldCBjYWxsYmFjayA9IChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBzZXRTaG91bGRQcmVmZXRjaChlbnRyeS5pc0ludGVyc2VjdGluZyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihjYWxsYmFjaywgeyB0aHJlc2hvbGQ6IDAuNSB9KTtcbiAgICAgIGlmIChyZWYuY3VycmVudCkgb2JzZXJ2ZXIub2JzZXJ2ZShyZWYuY3VycmVudCk7XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3ByZWZldGNoXSk7XG4gIFJlYWN0OS51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtYXliZVByZWZldGNoKSB7XG4gICAgICBsZXQgaWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0U2hvdWxkUHJlZmV0Y2godHJ1ZSk7XG4gICAgICB9LCAxMDApO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgIH07XG4gICAgfVxuICB9LCBbbWF5YmVQcmVmZXRjaF0pO1xuICBsZXQgc2V0SW50ZW50ID0gKCkgPT4ge1xuICAgIHNldE1heWJlUHJlZmV0Y2godHJ1ZSk7XG4gIH07XG4gIGxldCBjYW5jZWxJbnRlbnQgPSAoKSA9PiB7XG4gICAgc2V0TWF5YmVQcmVmZXRjaChmYWxzZSk7XG4gICAgc2V0U2hvdWxkUHJlZmV0Y2goZmFsc2UpO1xuICB9O1xuICBpZiAoIWZyYW1ld29ya0NvbnRleHQpIHtcbiAgICByZXR1cm4gW2ZhbHNlLCByZWYsIHt9XTtcbiAgfVxuICBpZiAocHJlZmV0Y2ggIT09IFwiaW50ZW50XCIpIHtcbiAgICByZXR1cm4gW3Nob3VsZFByZWZldGNoLCByZWYsIHt9XTtcbiAgfVxuICByZXR1cm4gW1xuICAgIHNob3VsZFByZWZldGNoLFxuICAgIHJlZixcbiAgICB7XG4gICAgICBvbkZvY3VzOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkZvY3VzLCBzZXRJbnRlbnQpLFxuICAgICAgb25CbHVyOiBjb21wb3NlRXZlbnRIYW5kbGVycyhvbkJsdXIsIGNhbmNlbEludGVudCksXG4gICAgICBvbk1vdXNlRW50ZXI6IGNvbXBvc2VFdmVudEhhbmRsZXJzKG9uTW91c2VFbnRlciwgc2V0SW50ZW50KSxcbiAgICAgIG9uTW91c2VMZWF2ZTogY29tcG9zZUV2ZW50SGFuZGxlcnMob25Nb3VzZUxlYXZlLCBjYW5jZWxJbnRlbnQpLFxuICAgICAgb25Ub3VjaFN0YXJ0OiBjb21wb3NlRXZlbnRIYW5kbGVycyhvblRvdWNoU3RhcnQsIHNldEludGVudClcbiAgICB9XG4gIF07XG59XG5mdW5jdGlvbiBjb21wb3NlRXZlbnRIYW5kbGVycyh0aGVpckhhbmRsZXIsIG91ckhhbmRsZXIpIHtcbiAgcmV0dXJuIChldmVudCkgPT4ge1xuICAgIHRoZWlySGFuZGxlciAmJiB0aGVpckhhbmRsZXIoZXZlbnQpO1xuICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgb3VySGFuZGxlcihldmVudCk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0QWN0aXZlTWF0Y2hlcyhtYXRjaGVzLCBlcnJvcnMsIGlzU3BhTW9kZSkge1xuICBpZiAoaXNTcGFNb2RlICYmICFpc0h5ZHJhdGVkKSB7XG4gICAgcmV0dXJuIFttYXRjaGVzWzBdXTtcbiAgfVxuICBpZiAoZXJyb3JzKSB7XG4gICAgbGV0IGVycm9ySWR4ID0gbWF0Y2hlcy5maW5kSW5kZXgoKG0pID0+IGVycm9yc1ttLnJvdXRlLmlkXSAhPT0gdm9pZCAwKTtcbiAgICByZXR1cm4gbWF0Y2hlcy5zbGljZSgwLCBlcnJvcklkeCArIDEpO1xuICB9XG4gIHJldHVybiBtYXRjaGVzO1xufVxuZnVuY3Rpb24gTGlua3MoKSB7XG4gIGxldCB7IGlzU3BhTW9kZSwgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcywgY3JpdGljYWxDc3MgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IHsgZXJyb3JzLCBtYXRjaGVzOiByb3V0ZXJNYXRjaGVzIH0gPSB1c2VEYXRhUm91dGVyU3RhdGVDb250ZXh0KCk7XG4gIGxldCBtYXRjaGVzID0gZ2V0QWN0aXZlTWF0Y2hlcyhyb3V0ZXJNYXRjaGVzLCBlcnJvcnMsIGlzU3BhTW9kZSk7XG4gIGxldCBrZXllZExpbmtzID0gUmVhY3Q5LnVzZU1lbW8oXG4gICAgKCkgPT4gZ2V0S2V5ZWRMaW5rc0Zvck1hdGNoZXMobWF0Y2hlcywgcm91dGVNb2R1bGVzLCBtYW5pZmVzdCksXG4gICAgW21hdGNoZXMsIHJvdXRlTW9kdWxlcywgbWFuaWZlc3RdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCB0eXBlb2YgY3JpdGljYWxDc3MgPT09IFwic3RyaW5nXCIgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiLCB7IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7IF9faHRtbDogY3JpdGljYWxDc3MgfSB9KSA6IG51bGwsIHR5cGVvZiBjcml0aWNhbENzcyA9PT0gXCJvYmplY3RcIiA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyByZWw6IFwic3R5bGVzaGVldFwiLCBocmVmOiBjcml0aWNhbENzcy5ocmVmIH0pIDogbnVsbCwga2V5ZWRMaW5rcy5tYXAoXG4gICAgKHsga2V5LCBsaW5rIH0pID0+IGlzUGFnZUxpbmtEZXNjcmlwdG9yKGxpbmspID8gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFByZWZldGNoUGFnZUxpbmtzLCB7IGtleSwgLi4ubGluayB9KSA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyBrZXksIC4uLmxpbmsgfSlcbiAgKSk7XG59XG5mdW5jdGlvbiBQcmVmZXRjaFBhZ2VMaW5rcyh7XG4gIHBhZ2UsXG4gIC4uLmRhdGFMaW5rUHJvcHNcbn0pIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDIoKTtcbiAgbGV0IG1hdGNoZXMgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBtYXRjaFJvdXRlcyhyb3V0ZXIucm91dGVzLCBwYWdlLCByb3V0ZXIuYmFzZW5hbWUpLFxuICAgIFtyb3V0ZXIucm91dGVzLCBwYWdlLCByb3V0ZXIuYmFzZW5hbWVdXG4gICk7XG4gIGlmICghbWF0Y2hlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUHJlZmV0Y2hQYWdlTGlua3NJbXBsLCB7IHBhZ2UsIG1hdGNoZXMsIC4uLmRhdGFMaW5rUHJvcHMgfSk7XG59XG5mdW5jdGlvbiB1c2VLZXllZFByZWZldGNoTGlua3MobWF0Y2hlcykge1xuICBsZXQgeyBtYW5pZmVzdCwgcm91dGVNb2R1bGVzIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGxldCBba2V5ZWRQcmVmZXRjaExpbmtzLCBzZXRLZXllZFByZWZldGNoTGlua3NdID0gUmVhY3Q5LnVzZVN0YXRlKFtdKTtcbiAgUmVhY3Q5LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IGludGVycnVwdGVkID0gZmFsc2U7XG4gICAgdm9pZCBnZXRLZXllZFByZWZldGNoTGlua3MobWF0Y2hlcywgbWFuaWZlc3QsIHJvdXRlTW9kdWxlcykudGhlbihcbiAgICAgIChsaW5rcykgPT4ge1xuICAgICAgICBpZiAoIWludGVycnVwdGVkKSB7XG4gICAgICAgICAgc2V0S2V5ZWRQcmVmZXRjaExpbmtzKGxpbmtzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGludGVycnVwdGVkID0gdHJ1ZTtcbiAgICB9O1xuICB9LCBbbWF0Y2hlcywgbWFuaWZlc3QsIHJvdXRlTW9kdWxlc10pO1xuICByZXR1cm4ga2V5ZWRQcmVmZXRjaExpbmtzO1xufVxuZnVuY3Rpb24gUHJlZmV0Y2hQYWdlTGlua3NJbXBsKHtcbiAgcGFnZSxcbiAgbWF0Y2hlczogbmV4dE1hdGNoZXMsXG4gIC4uLmxpbmtQcm9wc1xufSkge1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgeyBtYW5pZmVzdCwgcm91dGVNb2R1bGVzIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDIoKTtcbiAgbGV0IHsgbG9hZGVyRGF0YSwgbWF0Y2hlcyB9ID0gdXNlRGF0YVJvdXRlclN0YXRlQ29udGV4dCgpO1xuICBsZXQgbmV3TWF0Y2hlc0ZvckRhdGEgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBnZXROZXdNYXRjaGVzRm9yTGlua3MoXG4gICAgICBwYWdlLFxuICAgICAgbmV4dE1hdGNoZXMsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIFwiZGF0YVwiXG4gICAgKSxcbiAgICBbcGFnZSwgbmV4dE1hdGNoZXMsIG1hdGNoZXMsIG1hbmlmZXN0LCBsb2NhdGlvbl1cbiAgKTtcbiAgbGV0IG5ld01hdGNoZXNGb3JBc3NldHMgPSBSZWFjdDkudXNlTWVtbyhcbiAgICAoKSA9PiBnZXROZXdNYXRjaGVzRm9yTGlua3MoXG4gICAgICBwYWdlLFxuICAgICAgbmV4dE1hdGNoZXMsXG4gICAgICBtYXRjaGVzLFxuICAgICAgbWFuaWZlc3QsXG4gICAgICBsb2NhdGlvbixcbiAgICAgIFwiYXNzZXRzXCJcbiAgICApLFxuICAgIFtwYWdlLCBuZXh0TWF0Y2hlcywgbWF0Y2hlcywgbWFuaWZlc3QsIGxvY2F0aW9uXVxuICApO1xuICBsZXQgZGF0YUhyZWZzID0gUmVhY3Q5LnVzZU1lbW8oKCkgPT4ge1xuICAgIGlmIChwYWdlID09PSBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCArIGxvY2F0aW9uLmhhc2gpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbGV0IHJvdXRlc1BhcmFtcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgbGV0IGZvdW5kT3B0T3V0Um91dGUgPSBmYWxzZTtcbiAgICBuZXh0TWF0Y2hlcy5mb3JFYWNoKChtKSA9PiB7XG4gICAgICBsZXQgbWFuaWZlc3RSb3V0ZSA9IG1hbmlmZXN0LnJvdXRlc1ttLnJvdXRlLmlkXTtcbiAgICAgIGlmICghbWFuaWZlc3RSb3V0ZSB8fCAhbWFuaWZlc3RSb3V0ZS5oYXNMb2FkZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCFuZXdNYXRjaGVzRm9yRGF0YS5zb21lKChtMikgPT4gbTIucm91dGUuaWQgPT09IG0ucm91dGUuaWQpICYmIG0ucm91dGUuaWQgaW4gbG9hZGVyRGF0YSAmJiByb3V0ZU1vZHVsZXNbbS5yb3V0ZS5pZF0/LnNob3VsZFJldmFsaWRhdGUpIHtcbiAgICAgICAgZm91bmRPcHRPdXRSb3V0ZSA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKG1hbmlmZXN0Um91dGUuaGFzQ2xpZW50TG9hZGVyKSB7XG4gICAgICAgIGZvdW5kT3B0T3V0Um91dGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm91dGVzUGFyYW1zLmFkZChtLnJvdXRlLmlkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAocm91dGVzUGFyYW1zLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbGV0IHVybCA9IHNpbmdsZUZldGNoVXJsKHBhZ2UsIGJhc2VuYW1lKTtcbiAgICBpZiAoZm91bmRPcHRPdXRSb3V0ZSAmJiByb3V0ZXNQYXJhbXMuc2l6ZSA+IDApIHtcbiAgICAgIHVybC5zZWFyY2hQYXJhbXMuc2V0KFxuICAgICAgICBcIl9yb3V0ZXNcIixcbiAgICAgICAgbmV4dE1hdGNoZXMuZmlsdGVyKChtKSA9PiByb3V0ZXNQYXJhbXMuaGFzKG0ucm91dGUuaWQpKS5tYXAoKG0pID0+IG0ucm91dGUuaWQpLmpvaW4oXCIsXCIpXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gW3VybC5wYXRobmFtZSArIHVybC5zZWFyY2hdO1xuICB9LCBbXG4gICAgYmFzZW5hbWUsXG4gICAgbG9hZGVyRGF0YSxcbiAgICBsb2NhdGlvbixcbiAgICBtYW5pZmVzdCxcbiAgICBuZXdNYXRjaGVzRm9yRGF0YSxcbiAgICBuZXh0TWF0Y2hlcyxcbiAgICBwYWdlLFxuICAgIHJvdXRlTW9kdWxlc1xuICBdKTtcbiAgbGV0IG1vZHVsZUhyZWZzID0gUmVhY3Q5LnVzZU1lbW8oXG4gICAgKCkgPT4gZ2V0TW9kdWxlTGlua0hyZWZzKG5ld01hdGNoZXNGb3JBc3NldHMsIG1hbmlmZXN0KSxcbiAgICBbbmV3TWF0Y2hlc0ZvckFzc2V0cywgbWFuaWZlc3RdXG4gICk7XG4gIGxldCBrZXllZFByZWZldGNoTGlua3MgPSB1c2VLZXllZFByZWZldGNoTGlua3MobmV3TWF0Y2hlc0ZvckFzc2V0cyk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCBkYXRhSHJlZnMubWFwKChocmVmMikgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IGtleTogaHJlZjIsIHJlbDogXCJwcmVmZXRjaFwiLCBhczogXCJmZXRjaFwiLCBocmVmOiBocmVmMiwgLi4ubGlua1Byb3BzIH0pKSwgbW9kdWxlSHJlZnMubWFwKChocmVmMikgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7IGtleTogaHJlZjIsIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsIGhyZWY6IGhyZWYyLCAuLi5saW5rUHJvcHMgfSkpLCBrZXllZFByZWZldGNoTGlua3MubWFwKCh7IGtleSwgbGluayB9KSA9PiAoXG4gICAgLy8gdGhlc2UgZG9uJ3Qgc3ByZWFkIGBsaW5rUHJvcHNgIGJlY2F1c2UgdGhleSBhcmUgZnVsbCBsaW5rIGRlc2NyaXB0b3JzXG4gICAgLy8gYWxyZWFkeSB3aXRoIHRoZWlyIG93biBwcm9wc1xuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcImxpbmtcIiwgeyBrZXksIC4uLmxpbmsgfSlcbiAgKSkpO1xufVxuZnVuY3Rpb24gTWV0YSgpIHtcbiAgbGV0IHsgaXNTcGFNb2RlLCByb3V0ZU1vZHVsZXMgfSA9IHVzZUZyYW1ld29ya0NvbnRleHQoKTtcbiAgbGV0IHtcbiAgICBlcnJvcnMsXG4gICAgbWF0Y2hlczogcm91dGVyTWF0Y2hlcyxcbiAgICBsb2FkZXJEYXRhXG4gIH0gPSB1c2VEYXRhUm91dGVyU3RhdGVDb250ZXh0KCk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBfbWF0Y2hlcyA9IGdldEFjdGl2ZU1hdGNoZXMocm91dGVyTWF0Y2hlcywgZXJyb3JzLCBpc1NwYU1vZGUpO1xuICBsZXQgZXJyb3IgPSBudWxsO1xuICBpZiAoZXJyb3JzKSB7XG4gICAgZXJyb3IgPSBlcnJvcnNbX21hdGNoZXNbX21hdGNoZXMubGVuZ3RoIC0gMV0ucm91dGUuaWRdO1xuICB9XG4gIGxldCBtZXRhID0gW107XG4gIGxldCBsZWFmTWV0YSA9IG51bGw7XG4gIGxldCBtYXRjaGVzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgX21hdGNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICBsZXQgX21hdGNoID0gX21hdGNoZXNbaV07XG4gICAgbGV0IHJvdXRlSWQgPSBfbWF0Y2gucm91dGUuaWQ7XG4gICAgbGV0IGRhdGEyID0gbG9hZGVyRGF0YVtyb3V0ZUlkXTtcbiAgICBsZXQgcGFyYW1zID0gX21hdGNoLnBhcmFtcztcbiAgICBsZXQgcm91dGVNb2R1bGUgPSByb3V0ZU1vZHVsZXNbcm91dGVJZF07XG4gICAgbGV0IHJvdXRlTWV0YSA9IFtdO1xuICAgIGxldCBtYXRjaCA9IHtcbiAgICAgIGlkOiByb3V0ZUlkLFxuICAgICAgZGF0YTogZGF0YTIsXG4gICAgICBtZXRhOiBbXSxcbiAgICAgIHBhcmFtczogX21hdGNoLnBhcmFtcyxcbiAgICAgIHBhdGhuYW1lOiBfbWF0Y2gucGF0aG5hbWUsXG4gICAgICBoYW5kbGU6IF9tYXRjaC5yb3V0ZS5oYW5kbGUsXG4gICAgICBlcnJvclxuICAgIH07XG4gICAgbWF0Y2hlc1tpXSA9IG1hdGNoO1xuICAgIGlmIChyb3V0ZU1vZHVsZT8ubWV0YSkge1xuICAgICAgcm91dGVNZXRhID0gdHlwZW9mIHJvdXRlTW9kdWxlLm1ldGEgPT09IFwiZnVuY3Rpb25cIiA/IHJvdXRlTW9kdWxlLm1ldGEoe1xuICAgICAgICBkYXRhOiBkYXRhMixcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgZXJyb3JcbiAgICAgIH0pIDogQXJyYXkuaXNBcnJheShyb3V0ZU1vZHVsZS5tZXRhKSA/IFsuLi5yb3V0ZU1vZHVsZS5tZXRhXSA6IHJvdXRlTW9kdWxlLm1ldGE7XG4gICAgfSBlbHNlIGlmIChsZWFmTWV0YSkge1xuICAgICAgcm91dGVNZXRhID0gWy4uLmxlYWZNZXRhXTtcbiAgICB9XG4gICAgcm91dGVNZXRhID0gcm91dGVNZXRhIHx8IFtdO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShyb3V0ZU1ldGEpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiVGhlIHJvdXRlIGF0IFwiICsgX21hdGNoLnJvdXRlLnBhdGggKyBcIiByZXR1cm5zIGFuIGludmFsaWQgdmFsdWUuIEFsbCByb3V0ZSBtZXRhIGZ1bmN0aW9ucyBtdXN0IHJldHVybiBhbiBhcnJheSBvZiBtZXRhIG9iamVjdHMuXFxuXFxuVG8gcmVmZXJlbmNlIHRoZSBtZXRhIGZ1bmN0aW9uIEFQSSwgc2VlIGh0dHBzOi8vcmVtaXgucnVuL3JvdXRlL21ldGFcIlxuICAgICAgKTtcbiAgICB9XG4gICAgbWF0Y2gubWV0YSA9IHJvdXRlTWV0YTtcbiAgICBtYXRjaGVzW2ldID0gbWF0Y2g7XG4gICAgbWV0YSA9IFsuLi5yb3V0ZU1ldGFdO1xuICAgIGxlYWZNZXRhID0gbWV0YTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFJlYWN0OS5GcmFnbWVudCwgbnVsbCwgbWV0YS5mbGF0KCkubWFwKChtZXRhUHJvcHMpID0+IHtcbiAgICBpZiAoIW1ldGFQcm9wcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChcInRhZ05hbWVcIiBpbiBtZXRhUHJvcHMpIHtcbiAgICAgIGxldCB7IHRhZ05hbWUsIC4uLnJlc3QgfSA9IG1ldGFQcm9wcztcbiAgICAgIGlmICghaXNWYWxpZE1ldGFUYWcodGFnTmFtZSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBBIG1ldGEgb2JqZWN0IHVzZXMgYW4gaW52YWxpZCB0YWdOYW1lOiAke3RhZ05hbWV9LiBFeHBlY3RlZCBlaXRoZXIgJ2xpbmsnIG9yICdtZXRhJ2BcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBsZXQgQ29tcCA9IHRhZ05hbWU7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KENvbXAsIHsga2V5OiBKU09OLnN0cmluZ2lmeShyZXN0KSwgLi4ucmVzdCB9KTtcbiAgICB9XG4gICAgaWYgKFwidGl0bGVcIiBpbiBtZXRhUHJvcHMpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJ0aXRsZVwiLCB7IGtleTogXCJ0aXRsZVwiIH0sIFN0cmluZyhtZXRhUHJvcHMudGl0bGUpKTtcbiAgICB9XG4gICAgaWYgKFwiY2hhcnNldFwiIGluIG1ldGFQcm9wcykge1xuICAgICAgbWV0YVByb3BzLmNoYXJTZXQgPz8gKG1ldGFQcm9wcy5jaGFyU2V0ID0gbWV0YVByb3BzLmNoYXJzZXQpO1xuICAgICAgZGVsZXRlIG1ldGFQcm9wcy5jaGFyc2V0O1xuICAgIH1cbiAgICBpZiAoXCJjaGFyU2V0XCIgaW4gbWV0YVByb3BzICYmIG1ldGFQcm9wcy5jaGFyU2V0ICE9IG51bGwpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgbWV0YVByb3BzLmNoYXJTZXQgPT09IFwic3RyaW5nXCIgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIsIHsga2V5OiBcImNoYXJTZXRcIiwgY2hhclNldDogbWV0YVByb3BzLmNoYXJTZXQgfSkgOiBudWxsO1xuICAgIH1cbiAgICBpZiAoXCJzY3JpcHQ6bGQranNvblwiIGluIG1ldGFQcm9wcykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IGpzb24gPSBKU09OLnN0cmluZ2lmeShtZXRhUHJvcHNbXCJzY3JpcHQ6bGQranNvblwiXSk7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgXCJzY3JpcHRcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBrZXk6IGBzY3JpcHQ6bGQranNvbjoke2pzb259YCxcbiAgICAgICAgICAgIHR5cGU6IFwiYXBwbGljYXRpb24vbGQranNvblwiLFxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IHsgX19odG1sOiBqc29uIH1cbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIsIHsga2V5OiBKU09OLnN0cmluZ2lmeShtZXRhUHJvcHMpLCAuLi5tZXRhUHJvcHMgfSk7XG4gIH0pKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRNZXRhVGFnKHRhZ05hbWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB0YWdOYW1lID09PSBcInN0cmluZ1wiICYmIC9eKG1ldGF8bGluaykkLy50ZXN0KHRhZ05hbWUpO1xufVxudmFyIGlzSHlkcmF0ZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIFNjcmlwdHMocHJvcHMpIHtcbiAgbGV0IHsgbWFuaWZlc3QsIHNlcnZlckhhbmRvZmZTdHJpbmcsIGlzU3BhTW9kZSwgc3NyLCByZW5kZXJNZXRhIH0gPSB1c2VGcmFtZXdvcmtDb250ZXh0KCk7XG4gIGxldCB7IHJvdXRlciwgc3RhdGljOiBpc1N0YXRpYywgc3RhdGljQ29udGV4dCB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQyKCk7XG4gIGxldCB7IG1hdGNoZXM6IHJvdXRlck1hdGNoZXMgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZUNvbnRleHQoKTtcbiAgbGV0IGVuYWJsZUZvZ09mV2FyID0gaXNGb2dPZldhckVuYWJsZWQoc3NyKTtcbiAgaWYgKHJlbmRlck1ldGEpIHtcbiAgICByZW5kZXJNZXRhLmRpZFJlbmRlclNjcmlwdHMgPSB0cnVlO1xuICB9XG4gIGxldCBtYXRjaGVzID0gZ2V0QWN0aXZlTWF0Y2hlcyhyb3V0ZXJNYXRjaGVzLCBudWxsLCBpc1NwYU1vZGUpO1xuICBSZWFjdDkudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpc0h5ZHJhdGVkID0gdHJ1ZTtcbiAgfSwgW10pO1xuICBsZXQgaW5pdGlhbFNjcmlwdHMgPSBSZWFjdDkudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IHN0cmVhbVNjcmlwdCA9IFwid2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LnN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7c3RhcnQoY29udHJvbGxlcil7d2luZG93Ll9fcmVhY3RSb3V0ZXJDb250ZXh0LnN0cmVhbUNvbnRyb2xsZXIgPSBjb250cm9sbGVyO319KS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSk7XCI7XG4gICAgbGV0IGNvbnRleHRTY3JpcHQgPSBzdGF0aWNDb250ZXh0ID8gYHdpbmRvdy5fX3JlYWN0Um91dGVyQ29udGV4dCA9ICR7c2VydmVySGFuZG9mZlN0cmluZ307JHtzdHJlYW1TY3JpcHR9YCA6IFwiIFwiO1xuICAgIGxldCByb3V0ZU1vZHVsZXNTY3JpcHQgPSAhaXNTdGF0aWMgPyBcIiBcIiA6IGAke21hbmlmZXN0Lmhtcj8ucnVudGltZSA/IGBpbXBvcnQgJHtKU09OLnN0cmluZ2lmeShtYW5pZmVzdC5obXIucnVudGltZSl9O2AgOiBcIlwifSR7IWVuYWJsZUZvZ09mV2FyID8gYGltcG9ydCAke0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0LnVybCl9YCA6IFwiXCJ9O1xuJHttYXRjaGVzLm1hcCgobWF0Y2gsIHJvdXRlSW5kZXgpID0+IHtcbiAgICAgIGxldCByb3V0ZVZhck5hbWUgPSBgcm91dGUke3JvdXRlSW5kZXh9YDtcbiAgICAgIGxldCBtYW5pZmVzdEVudHJ5ID0gbWFuaWZlc3Qucm91dGVzW21hdGNoLnJvdXRlLmlkXTtcbiAgICAgIGludmFyaWFudDIobWFuaWZlc3RFbnRyeSwgYFJvdXRlICR7bWF0Y2gucm91dGUuaWR9IG5vdCBmb3VuZCBpbiBtYW5pZmVzdGApO1xuICAgICAgbGV0IHtcbiAgICAgICAgY2xpZW50QWN0aW9uTW9kdWxlLFxuICAgICAgICBjbGllbnRMb2FkZXJNb2R1bGUsXG4gICAgICAgIGh5ZHJhdGVGYWxsYmFja01vZHVsZSxcbiAgICAgICAgbW9kdWxlXG4gICAgICB9ID0gbWFuaWZlc3RFbnRyeTtcbiAgICAgIGxldCBjaHVua3MgPSBbXG4gICAgICAgIC4uLmNsaWVudEFjdGlvbk1vZHVsZSA/IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBtb2R1bGU6IGNsaWVudEFjdGlvbk1vZHVsZSxcbiAgICAgICAgICAgIHZhck5hbWU6IGAke3JvdXRlVmFyTmFtZX1fY2xpZW50QWN0aW9uYFxuICAgICAgICAgIH1cbiAgICAgICAgXSA6IFtdLFxuICAgICAgICAuLi5jbGllbnRMb2FkZXJNb2R1bGUgPyBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbW9kdWxlOiBjbGllbnRMb2FkZXJNb2R1bGUsXG4gICAgICAgICAgICB2YXJOYW1lOiBgJHtyb3V0ZVZhck5hbWV9X2NsaWVudExvYWRlcmBcbiAgICAgICAgICB9XG4gICAgICAgIF0gOiBbXSxcbiAgICAgICAgLi4uaHlkcmF0ZUZhbGxiYWNrTW9kdWxlID8gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIG1vZHVsZTogaHlkcmF0ZUZhbGxiYWNrTW9kdWxlLFxuICAgICAgICAgICAgdmFyTmFtZTogYCR7cm91dGVWYXJOYW1lfV9IeWRyYXRlRmFsbGJhY2tgXG4gICAgICAgICAgfVxuICAgICAgICBdIDogW10sXG4gICAgICAgIHsgbW9kdWxlLCB2YXJOYW1lOiBgJHtyb3V0ZVZhck5hbWV9X21haW5gIH1cbiAgICAgIF07XG4gICAgICBpZiAoY2h1bmtzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gYGltcG9ydCAqIGFzICR7cm91dGVWYXJOYW1lfSBmcm9tICR7SlNPTi5zdHJpbmdpZnkobW9kdWxlKX07YDtcbiAgICAgIH1cbiAgICAgIGxldCBjaHVua0ltcG9ydHNTbmlwcGV0ID0gY2h1bmtzLm1hcCgoY2h1bmspID0+IGBpbXBvcnQgKiBhcyAke2NodW5rLnZhck5hbWV9IGZyb20gXCIke2NodW5rLm1vZHVsZX1cIjtgKS5qb2luKFwiXFxuXCIpO1xuICAgICAgbGV0IG1lcmdlZENodW5rc1NuaXBwZXQgPSBgY29uc3QgJHtyb3V0ZVZhck5hbWV9ID0geyR7Y2h1bmtzLm1hcCgoY2h1bmspID0+IGAuLi4ke2NodW5rLnZhck5hbWV9YCkuam9pbihcIixcIil9fTtgO1xuICAgICAgcmV0dXJuIFtjaHVua0ltcG9ydHNTbmlwcGV0LCBtZXJnZWRDaHVua3NTbmlwcGV0XS5qb2luKFwiXFxuXCIpO1xuICAgIH0pLmpvaW4oXCJcXG5cIil9XG4gICR7ZW5hYmxlRm9nT2ZXYXIgPyAoXG4gICAgICAvLyBJbmxpbmUgYSBtaW5pbWFsIG1hbmlmZXN0IHdpdGggdGhlIFNTUiBtYXRjaGVzXG4gICAgICBgd2luZG93Ll9fcmVhY3RSb3V0ZXJNYW5pZmVzdCA9ICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIGdldFBhcnRpYWxNYW5pZmVzdChtYW5pZmVzdCwgcm91dGVyKSxcbiAgICAgICAgbnVsbCxcbiAgICAgICAgMlxuICAgICAgKX07YFxuICAgICkgOiBcIlwifVxuICB3aW5kb3cuX19yZWFjdFJvdXRlclJvdXRlTW9kdWxlcyA9IHske21hdGNoZXMubWFwKChtYXRjaCwgaW5kZXgpID0+IGAke0pTT04uc3RyaW5naWZ5KG1hdGNoLnJvdXRlLmlkKX06cm91dGUke2luZGV4fWApLmpvaW4oXCIsXCIpfX07XG5cbmltcG9ydCgke0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0LmVudHJ5Lm1vZHVsZSl9KTtgO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgICBcInNjcmlwdFwiLFxuICAgICAge1xuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogY3JlYXRlSHRtbChjb250ZXh0U2NyaXB0KSxcbiAgICAgICAgdHlwZTogdm9pZCAwXG4gICAgICB9XG4gICAgKSwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJzY3JpcHRcIixcbiAgICAgIHtcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZSxcbiAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw6IGNyZWF0ZUh0bWwocm91dGVNb2R1bGVzU2NyaXB0KSxcbiAgICAgICAgdHlwZTogXCJtb2R1bGVcIixcbiAgICAgICAgYXN5bmM6IHRydWVcbiAgICAgIH1cbiAgICApKTtcbiAgfSwgW10pO1xuICBsZXQgcHJlbG9hZHMgPSBpc0h5ZHJhdGVkID8gW10gOiBtYW5pZmVzdC5lbnRyeS5pbXBvcnRzLmNvbmNhdChcbiAgICBnZXRNb2R1bGVMaW5rSHJlZnMobWF0Y2hlcywgbWFuaWZlc3QsIHtcbiAgICAgIGluY2x1ZGVIeWRyYXRlRmFsbGJhY2s6IHRydWVcbiAgICB9KVxuICApO1xuICByZXR1cm4gaXNIeWRyYXRlZCA/IG51bGwgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoUmVhY3Q5LkZyYWdtZW50LCBudWxsLCAhZW5hYmxlRm9nT2ZXYXIgPyAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJsaW5rXCIsXG4gICAge1xuICAgICAgcmVsOiBcIm1vZHVsZXByZWxvYWRcIixcbiAgICAgIGhyZWY6IG1hbmlmZXN0LnVybCxcbiAgICAgIGNyb3NzT3JpZ2luOiBwcm9wcy5jcm9zc09yaWdpblxuICAgIH1cbiAgKSA6IG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcbiAgICBcImxpbmtcIixcbiAgICB7XG4gICAgICByZWw6IFwibW9kdWxlcHJlbG9hZFwiLFxuICAgICAgaHJlZjogbWFuaWZlc3QuZW50cnkubW9kdWxlLFxuICAgICAgY3Jvc3NPcmlnaW46IHByb3BzLmNyb3NzT3JpZ2luXG4gICAgfVxuICApLCBkZWR1cGUocHJlbG9hZHMpLm1hcCgocGF0aCkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFxuICAgIFwibGlua1wiLFxuICAgIHtcbiAgICAgIGtleTogcGF0aCxcbiAgICAgIHJlbDogXCJtb2R1bGVwcmVsb2FkXCIsXG4gICAgICBocmVmOiBwYXRoLFxuICAgICAgY3Jvc3NPcmlnaW46IHByb3BzLmNyb3NzT3JpZ2luXG4gICAgfVxuICApKSwgaW5pdGlhbFNjcmlwdHMpO1xufVxuZnVuY3Rpb24gZGVkdXBlKGFycmF5KSB7XG4gIHJldHVybiBbLi4ubmV3IFNldChhcnJheSldO1xufVxuZnVuY3Rpb24gbWVyZ2VSZWZzKC4uLnJlZnMpIHtcbiAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgIHJlZnMuZm9yRWFjaCgocmVmKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJlZih2YWx1ZSk7XG4gICAgICB9IGVsc2UgaWYgKHJlZiAhPSBudWxsKSB7XG4gICAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIGxpYi9kb20vbGliLnRzeFxudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIHdpbmRvdy5kb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgIT09IFwidW5kZWZpbmVkXCI7XG50cnkge1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgd2luZG93Ll9fcmVhY3RSb3V0ZXJWZXJzaW9uID0gXCI3LjMuMFwiO1xuICB9XG59IGNhdGNoIChlKSB7XG59XG5mdW5jdGlvbiBjcmVhdGVCcm93c2VyUm91dGVyKHJvdXRlcywgb3B0cykge1xuICByZXR1cm4gY3JlYXRlUm91dGVyKHtcbiAgICBiYXNlbmFtZTogb3B0cz8uYmFzZW5hbWUsXG4gICAgdW5zdGFibGVfZ2V0Q29udGV4dDogb3B0cz8udW5zdGFibGVfZ2V0Q29udGV4dCxcbiAgICBmdXR1cmU6IG9wdHM/LmZ1dHVyZSxcbiAgICBoaXN0b3J5OiBjcmVhdGVCcm93c2VySGlzdG9yeSh7IHdpbmRvdzogb3B0cz8ud2luZG93IH0pLFxuICAgIGh5ZHJhdGlvbkRhdGE6IG9wdHM/Lmh5ZHJhdGlvbkRhdGEgfHwgcGFyc2VIeWRyYXRpb25EYXRhKCksXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICBkYXRhU3RyYXRlZ3k6IG9wdHM/LmRhdGFTdHJhdGVneSxcbiAgICBwYXRjaFJvdXRlc09uTmF2aWdhdGlvbjogb3B0cz8ucGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb24sXG4gICAgd2luZG93OiBvcHRzPy53aW5kb3dcbiAgfSkuaW5pdGlhbGl6ZSgpO1xufVxuZnVuY3Rpb24gY3JlYXRlSGFzaFJvdXRlcihyb3V0ZXMsIG9wdHMpIHtcbiAgcmV0dXJuIGNyZWF0ZVJvdXRlcih7XG4gICAgYmFzZW5hbWU6IG9wdHM/LmJhc2VuYW1lLFxuICAgIHVuc3RhYmxlX2dldENvbnRleHQ6IG9wdHM/LnVuc3RhYmxlX2dldENvbnRleHQsXG4gICAgZnV0dXJlOiBvcHRzPy5mdXR1cmUsXG4gICAgaGlzdG9yeTogY3JlYXRlSGFzaEhpc3RvcnkoeyB3aW5kb3c6IG9wdHM/LndpbmRvdyB9KSxcbiAgICBoeWRyYXRpb25EYXRhOiBvcHRzPy5oeWRyYXRpb25EYXRhIHx8IHBhcnNlSHlkcmF0aW9uRGF0YSgpLFxuICAgIHJvdXRlcyxcbiAgICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gICAgZGF0YVN0cmF0ZWd5OiBvcHRzPy5kYXRhU3RyYXRlZ3ksXG4gICAgcGF0Y2hSb3V0ZXNPbk5hdmlnYXRpb246IG9wdHM/LnBhdGNoUm91dGVzT25OYXZpZ2F0aW9uLFxuICAgIHdpbmRvdzogb3B0cz8ud2luZG93XG4gIH0pLmluaXRpYWxpemUoKTtcbn1cbmZ1bmN0aW9uIHBhcnNlSHlkcmF0aW9uRGF0YSgpIHtcbiAgbGV0IHN0YXRlID0gd2luZG93Py5fX3N0YXRpY1JvdXRlckh5ZHJhdGlvbkRhdGE7XG4gIGlmIChzdGF0ZSAmJiBzdGF0ZS5lcnJvcnMpIHtcbiAgICBzdGF0ZSA9IHtcbiAgICAgIC4uLnN0YXRlLFxuICAgICAgZXJyb3JzOiBkZXNlcmlhbGl6ZUVycm9ycyhzdGF0ZS5lcnJvcnMpXG4gICAgfTtcbiAgfVxuICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUVycm9ycyhlcnJvcnMpIHtcbiAgaWYgKCFlcnJvcnMpIHJldHVybiBudWxsO1xuICBsZXQgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGVycm9ycyk7XG4gIGxldCBzZXJpYWxpemVkID0ge307XG4gIGZvciAobGV0IFtrZXksIHZhbF0gb2YgZW50cmllcykge1xuICAgIGlmICh2YWwgJiYgdmFsLl9fdHlwZSA9PT0gXCJSb3V0ZUVycm9yUmVzcG9uc2VcIikge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gbmV3IEVycm9yUmVzcG9uc2VJbXBsKFxuICAgICAgICB2YWwuc3RhdHVzLFxuICAgICAgICB2YWwuc3RhdHVzVGV4dCxcbiAgICAgICAgdmFsLmRhdGEsXG4gICAgICAgIHZhbC5pbnRlcm5hbCA9PT0gdHJ1ZVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHZhbCAmJiB2YWwuX190eXBlID09PSBcIkVycm9yXCIpIHtcbiAgICAgIGlmICh2YWwuX19zdWJUeXBlKSB7XG4gICAgICAgIGxldCBFcnJvckNvbnN0cnVjdG9yID0gd2luZG93W3ZhbC5fX3N1YlR5cGVdO1xuICAgICAgICBpZiAodHlwZW9mIEVycm9yQ29uc3RydWN0b3IgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgZXJyb3IgPSBuZXcgRXJyb3JDb25zdHJ1Y3Rvcih2YWwubWVzc2FnZSk7XG4gICAgICAgICAgICBlcnJvci5zdGFjayA9IFwiXCI7XG4gICAgICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc2VyaWFsaXplZFtrZXldID09IG51bGwpIHtcbiAgICAgICAgbGV0IGVycm9yID0gbmV3IEVycm9yKHZhbC5tZXNzYWdlKTtcbiAgICAgICAgZXJyb3Iuc3RhY2sgPSBcIlwiO1xuICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VyaWFsaXplZDtcbn1cbmZ1bmN0aW9uIEJyb3dzZXJSb3V0ZXIoe1xuICBiYXNlbmFtZSxcbiAgY2hpbGRyZW4sXG4gIHdpbmRvdzogd2luZG93MlxufSkge1xuICBsZXQgaGlzdG9yeVJlZiA9IFJlYWN0MTAudXNlUmVmKCk7XG4gIGlmIChoaXN0b3J5UmVmLmN1cnJlbnQgPT0gbnVsbCkge1xuICAgIGhpc3RvcnlSZWYuY3VycmVudCA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KHsgd2luZG93OiB3aW5kb3cyLCB2NUNvbXBhdDogdHJ1ZSB9KTtcbiAgfVxuICBsZXQgaGlzdG9yeSA9IGhpc3RvcnlSZWYuY3VycmVudDtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVJbXBsXSA9IFJlYWN0MTAudXNlU3RhdGUoe1xuICAgIGFjdGlvbjogaGlzdG9yeS5hY3Rpb24sXG4gICAgbG9jYXRpb246IGhpc3RvcnkubG9jYXRpb25cbiAgfSk7XG4gIGxldCBzZXRTdGF0ZSA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKG5ld1N0YXRlKSA9PiB7XG4gICAgICBSZWFjdDEwLnN0YXJ0VHJhbnNpdGlvbigoKSA9PiBzZXRTdGF0ZUltcGwobmV3U3RhdGUpKTtcbiAgICB9LFxuICAgIFtzZXRTdGF0ZUltcGxdXG4gICk7XG4gIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IGhpc3RvcnkubGlzdGVuKHNldFN0YXRlKSwgW2hpc3RvcnksIHNldFN0YXRlXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgIFJvdXRlcixcbiAgICB7XG4gICAgICBiYXNlbmFtZSxcbiAgICAgIGNoaWxkcmVuLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmFjdGlvbixcbiAgICAgIG5hdmlnYXRvcjogaGlzdG9yeVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIEhhc2hSb3V0ZXIoeyBiYXNlbmFtZSwgY2hpbGRyZW4sIHdpbmRvdzogd2luZG93MiB9KSB7XG4gIGxldCBoaXN0b3J5UmVmID0gUmVhY3QxMC51c2VSZWYoKTtcbiAgaWYgKGhpc3RvcnlSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgaGlzdG9yeVJlZi5jdXJyZW50ID0gY3JlYXRlSGFzaEhpc3RvcnkoeyB3aW5kb3c6IHdpbmRvdzIsIHY1Q29tcGF0OiB0cnVlIH0pO1xuICB9XG4gIGxldCBoaXN0b3J5ID0gaGlzdG9yeVJlZi5jdXJyZW50O1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QxMC51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0MTAuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuZnVuY3Rpb24gSGlzdG9yeVJvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgaGlzdG9yeVxufSkge1xuICBsZXQgW3N0YXRlLCBzZXRTdGF0ZUltcGxdID0gUmVhY3QxMC51c2VTdGF0ZSh7XG4gICAgYWN0aW9uOiBoaXN0b3J5LmFjdGlvbixcbiAgICBsb2NhdGlvbjogaGlzdG9yeS5sb2NhdGlvblxuICB9KTtcbiAgbGV0IHNldFN0YXRlID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAobmV3U3RhdGUpID0+IHtcbiAgICAgIFJlYWN0MTAuc3RhcnRUcmFuc2l0aW9uKCgpID0+IHNldFN0YXRlSW1wbChuZXdTdGF0ZSkpO1xuICAgIH0sXG4gICAgW3NldFN0YXRlSW1wbF1cbiAgKTtcbiAgUmVhY3QxMC51c2VMYXlvdXRFZmZlY3QoKCkgPT4gaGlzdG9yeS5saXN0ZW4oc2V0U3RhdGUpLCBbaGlzdG9yeSwgc2V0U3RhdGVdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbjogc3RhdGUubG9jYXRpb24sXG4gICAgICBuYXZpZ2F0aW9uVHlwZTogc3RhdGUuYWN0aW9uLFxuICAgICAgbmF2aWdhdG9yOiBoaXN0b3J5XG4gICAgfVxuICApO1xufVxuSGlzdG9yeVJvdXRlci5kaXNwbGF5TmFtZSA9IFwidW5zdGFibGVfSGlzdG9yeVJvdXRlclwiO1xudmFyIEFCU09MVVRFX1VSTF9SRUdFWDIgPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG52YXIgTGluayA9IFJlYWN0MTAuZm9yd2FyZFJlZihcbiAgZnVuY3Rpb24gTGlua1dpdGhSZWYoe1xuICAgIG9uQ2xpY2ssXG4gICAgZGlzY292ZXIgPSBcInJlbmRlclwiLFxuICAgIHByZWZldGNoID0gXCJub25lXCIsXG4gICAgcmVsYXRpdmUsXG4gICAgcmVsb2FkRG9jdW1lbnQsXG4gICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgc3RhdGUsXG4gICAgdGFyZ2V0LFxuICAgIHRvLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICB2aWV3VHJhbnNpdGlvbixcbiAgICAuLi5yZXN0XG4gIH0sIGZvcndhcmRlZFJlZikge1xuICAgIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICAgIGxldCBpc0Fic29sdXRlID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiICYmIEFCU09MVVRFX1VSTF9SRUdFWDIudGVzdCh0byk7XG4gICAgbGV0IGFic29sdXRlSHJlZjtcbiAgICBsZXQgaXNFeHRlcm5hbCA9IGZhbHNlO1xuICAgIGlmICh0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgJiYgaXNBYnNvbHV0ZSkge1xuICAgICAgYWJzb2x1dGVIcmVmID0gdG87XG4gICAgICBpZiAoaXNCcm93c2VyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgbGV0IGN1cnJlbnRVcmwgPSBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgICBsZXQgdGFyZ2V0VXJsID0gdG8uc3RhcnRzV2l0aChcIi8vXCIpID8gbmV3IFVSTChjdXJyZW50VXJsLnByb3RvY29sICsgdG8pIDogbmV3IFVSTCh0byk7XG4gICAgICAgICAgbGV0IHBhdGggPSBzdHJpcEJhc2VuYW1lKHRhcmdldFVybC5wYXRobmFtZSwgYmFzZW5hbWUpO1xuICAgICAgICAgIGlmICh0YXJnZXRVcmwub3JpZ2luID09PSBjdXJyZW50VXJsLm9yaWdpbiAmJiBwYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRvID0gcGF0aCArIHRhcmdldFVybC5zZWFyY2ggKyB0YXJnZXRVcmwuaGFzaDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaXNFeHRlcm5hbCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgYDxMaW5rIHRvPVwiJHt0b31cIj4gY29udGFpbnMgYW4gaW52YWxpZCBVUkwgd2hpY2ggd2lsbCBwcm9iYWJseSBicmVhayB3aGVuIGNsaWNrZWQgLSBwbGVhc2UgdXBkYXRlIHRvIGEgdmFsaWQgVVJMIHBhdGguYFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGhyZWYyID0gdXNlSHJlZih0bywgeyByZWxhdGl2ZSB9KTtcbiAgICBsZXQgW3Nob3VsZFByZWZldGNoLCBwcmVmZXRjaFJlZiwgcHJlZmV0Y2hIYW5kbGVyc10gPSB1c2VQcmVmZXRjaEJlaGF2aW9yKFxuICAgICAgcHJlZmV0Y2gsXG4gICAgICByZXN0XG4gICAgKTtcbiAgICBsZXQgaW50ZXJuYWxPbkNsaWNrID0gdXNlTGlua0NsaWNrSGFuZGxlcih0bywge1xuICAgICAgcmVwbGFjZTogcmVwbGFjZTIsXG4gICAgICBzdGF0ZSxcbiAgICAgIHRhcmdldCxcbiAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgIHJlbGF0aXZlLFxuICAgICAgdmlld1RyYW5zaXRpb25cbiAgICB9KTtcbiAgICBmdW5jdGlvbiBoYW5kbGVDbGljayhldmVudCkge1xuICAgICAgaWYgKG9uQ2xpY2spIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgIGludGVybmFsT25DbGljayhldmVudCk7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBsaW5rID0gKFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGpzeC1hMTF5L2FuY2hvci1oYXMtY29udGVudFxuICAgICAgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcbiAgICAgICAgXCJhXCIsXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5yZXN0LFxuICAgICAgICAgIC4uLnByZWZldGNoSGFuZGxlcnMsXG4gICAgICAgICAgaHJlZjogYWJzb2x1dGVIcmVmIHx8IGhyZWYyLFxuICAgICAgICAgIG9uQ2xpY2s6IGlzRXh0ZXJuYWwgfHwgcmVsb2FkRG9jdW1lbnQgPyBvbkNsaWNrIDogaGFuZGxlQ2xpY2ssXG4gICAgICAgICAgcmVmOiBtZXJnZVJlZnMoZm9yd2FyZGVkUmVmLCBwcmVmZXRjaFJlZiksXG4gICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgIFwiZGF0YS1kaXNjb3ZlclwiOiAhaXNBYnNvbHV0ZSAmJiBkaXNjb3ZlciA9PT0gXCJyZW5kZXJcIiA/IFwidHJ1ZVwiIDogdm9pZCAwXG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiBzaG91bGRQcmVmZXRjaCAmJiAhaXNBYnNvbHV0ZSA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMC5GcmFnbWVudCwgbnVsbCwgbGluaywgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChQcmVmZXRjaFBhZ2VMaW5rcywgeyBwYWdlOiBocmVmMiB9KSkgOiBsaW5rO1xuICB9XG4pO1xuTGluay5kaXNwbGF5TmFtZSA9IFwiTGlua1wiO1xudmFyIE5hdkxpbmsgPSBSZWFjdDEwLmZvcndhcmRSZWYoXG4gIGZ1bmN0aW9uIE5hdkxpbmtXaXRoUmVmKHtcbiAgICBcImFyaWEtY3VycmVudFwiOiBhcmlhQ3VycmVudFByb3AgPSBcInBhZ2VcIixcbiAgICBjYXNlU2Vuc2l0aXZlID0gZmFsc2UsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVQcm9wID0gXCJcIixcbiAgICBlbmQgPSBmYWxzZSxcbiAgICBzdHlsZTogc3R5bGVQcm9wLFxuICAgIHRvLFxuICAgIHZpZXdUcmFuc2l0aW9uLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLnJlc3RcbiAgfSwgcmVmKSB7XG4gICAgbGV0IHBhdGggPSB1c2VSZXNvbHZlZFBhdGgodG8sIHsgcmVsYXRpdmU6IHJlc3QucmVsYXRpdmUgfSk7XG4gICAgbGV0IGxvY2F0aW9uID0gdXNlTG9jYXRpb24oKTtcbiAgICBsZXQgcm91dGVyU3RhdGUgPSBSZWFjdDEwLnVzZUNvbnRleHQoRGF0YVJvdXRlclN0YXRlQ29udGV4dCk7XG4gICAgbGV0IHsgbmF2aWdhdG9yOiBuYXZpZ2F0b3IyLCBiYXNlbmFtZSB9ID0gUmVhY3QxMC51c2VDb250ZXh0KE5hdmlnYXRpb25Db250ZXh0KTtcbiAgICBsZXQgaXNUcmFuc2l0aW9uaW5nID0gcm91dGVyU3RhdGUgIT0gbnVsbCAmJiAvLyBDb25kaXRpb25hbCB1c2FnZSBpcyBPSyBoZXJlIGJlY2F1c2UgdGhlIHVzYWdlIG9mIGEgZGF0YSByb3V0ZXIgaXMgc3RhdGljXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL3J1bGVzLW9mLWhvb2tzXG4gICAgdXNlVmlld1RyYW5zaXRpb25TdGF0ZShwYXRoKSAmJiB2aWV3VHJhbnNpdGlvbiA9PT0gdHJ1ZTtcbiAgICBsZXQgdG9QYXRobmFtZSA9IG5hdmlnYXRvcjIuZW5jb2RlTG9jYXRpb24gPyBuYXZpZ2F0b3IyLmVuY29kZUxvY2F0aW9uKHBhdGgpLnBhdGhuYW1lIDogcGF0aC5wYXRobmFtZTtcbiAgICBsZXQgbG9jYXRpb25QYXRobmFtZSA9IGxvY2F0aW9uLnBhdGhuYW1lO1xuICAgIGxldCBuZXh0TG9jYXRpb25QYXRobmFtZSA9IHJvdXRlclN0YXRlICYmIHJvdXRlclN0YXRlLm5hdmlnYXRpb24gJiYgcm91dGVyU3RhdGUubmF2aWdhdGlvbi5sb2NhdGlvbiA/IHJvdXRlclN0YXRlLm5hdmlnYXRpb24ubG9jYXRpb24ucGF0aG5hbWUgOiBudWxsO1xuICAgIGlmICghY2FzZVNlbnNpdGl2ZSkge1xuICAgICAgbG9jYXRpb25QYXRobmFtZSA9IGxvY2F0aW9uUGF0aG5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIG5leHRMb2NhdGlvblBhdGhuYW1lID0gbmV4dExvY2F0aW9uUGF0aG5hbWUgPyBuZXh0TG9jYXRpb25QYXRobmFtZS50b0xvd2VyQ2FzZSgpIDogbnVsbDtcbiAgICAgIHRvUGF0aG5hbWUgPSB0b1BhdGhuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuICAgIGlmIChuZXh0TG9jYXRpb25QYXRobmFtZSAmJiBiYXNlbmFtZSkge1xuICAgICAgbmV4dExvY2F0aW9uUGF0aG5hbWUgPSBzdHJpcEJhc2VuYW1lKG5leHRMb2NhdGlvblBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgbmV4dExvY2F0aW9uUGF0aG5hbWU7XG4gICAgfVxuICAgIGNvbnN0IGVuZFNsYXNoUG9zaXRpb24gPSB0b1BhdGhuYW1lICE9PSBcIi9cIiAmJiB0b1BhdGhuYW1lLmVuZHNXaXRoKFwiL1wiKSA/IHRvUGF0aG5hbWUubGVuZ3RoIC0gMSA6IHRvUGF0aG5hbWUubGVuZ3RoO1xuICAgIGxldCBpc0FjdGl2ZSA9IGxvY2F0aW9uUGF0aG5hbWUgPT09IHRvUGF0aG5hbWUgfHwgIWVuZCAmJiBsb2NhdGlvblBhdGhuYW1lLnN0YXJ0c1dpdGgodG9QYXRobmFtZSkgJiYgbG9jYXRpb25QYXRobmFtZS5jaGFyQXQoZW5kU2xhc2hQb3NpdGlvbikgPT09IFwiL1wiO1xuICAgIGxldCBpc1BlbmRpbmcgPSBuZXh0TG9jYXRpb25QYXRobmFtZSAhPSBudWxsICYmIChuZXh0TG9jYXRpb25QYXRobmFtZSA9PT0gdG9QYXRobmFtZSB8fCAhZW5kICYmIG5leHRMb2NhdGlvblBhdGhuYW1lLnN0YXJ0c1dpdGgodG9QYXRobmFtZSkgJiYgbmV4dExvY2F0aW9uUGF0aG5hbWUuY2hhckF0KHRvUGF0aG5hbWUubGVuZ3RoKSA9PT0gXCIvXCIpO1xuICAgIGxldCByZW5kZXJQcm9wcyA9IHtcbiAgICAgIGlzQWN0aXZlLFxuICAgICAgaXNQZW5kaW5nLFxuICAgICAgaXNUcmFuc2l0aW9uaW5nXG4gICAgfTtcbiAgICBsZXQgYXJpYUN1cnJlbnQgPSBpc0FjdGl2ZSA/IGFyaWFDdXJyZW50UHJvcCA6IHZvaWQgMDtcbiAgICBsZXQgY2xhc3NOYW1lO1xuICAgIGlmICh0eXBlb2YgY2xhc3NOYW1lUHJvcCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWVQcm9wKHJlbmRlclByb3BzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2xhc3NOYW1lID0gW1xuICAgICAgICBjbGFzc05hbWVQcm9wLFxuICAgICAgICBpc0FjdGl2ZSA/IFwiYWN0aXZlXCIgOiBudWxsLFxuICAgICAgICBpc1BlbmRpbmcgPyBcInBlbmRpbmdcIiA6IG51bGwsXG4gICAgICAgIGlzVHJhbnNpdGlvbmluZyA/IFwidHJhbnNpdGlvbmluZ1wiIDogbnVsbFxuICAgICAgXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG4gICAgfVxuICAgIGxldCBzdHlsZSA9IHR5cGVvZiBzdHlsZVByb3AgPT09IFwiZnVuY3Rpb25cIiA/IHN0eWxlUHJvcChyZW5kZXJQcm9wcykgOiBzdHlsZVByb3A7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBMaW5rLFxuICAgICAge1xuICAgICAgICAuLi5yZXN0LFxuICAgICAgICBcImFyaWEtY3VycmVudFwiOiBhcmlhQ3VycmVudCxcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICByZWYsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB0byxcbiAgICAgICAgdmlld1RyYW5zaXRpb25cbiAgICAgIH0sXG4gICAgICB0eXBlb2YgY2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIiA/IGNoaWxkcmVuKHJlbmRlclByb3BzKSA6IGNoaWxkcmVuXG4gICAgKTtcbiAgfVxuKTtcbk5hdkxpbmsuZGlzcGxheU5hbWUgPSBcIk5hdkxpbmtcIjtcbnZhciBGb3JtID0gUmVhY3QxMC5mb3J3YXJkUmVmKFxuICAoe1xuICAgIGRpc2NvdmVyID0gXCJyZW5kZXJcIixcbiAgICBmZXRjaGVyS2V5LFxuICAgIG5hdmlnYXRlLFxuICAgIHJlbG9hZERvY3VtZW50LFxuICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgIHN0YXRlLFxuICAgIG1ldGhvZCA9IGRlZmF1bHRNZXRob2QsXG4gICAgYWN0aW9uLFxuICAgIG9uU3VibWl0LFxuICAgIHJlbGF0aXZlLFxuICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICB2aWV3VHJhbnNpdGlvbixcbiAgICAuLi5wcm9wc1xuICB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBsZXQgc3VibWl0ID0gdXNlU3VibWl0KCk7XG4gICAgbGV0IGZvcm1BY3Rpb24gPSB1c2VGb3JtQWN0aW9uKGFjdGlvbiwgeyByZWxhdGl2ZSB9KTtcbiAgICBsZXQgZm9ybU1ldGhvZCA9IG1ldGhvZC50b0xvd2VyQ2FzZSgpID09PSBcImdldFwiID8gXCJnZXRcIiA6IFwicG9zdFwiO1xuICAgIGxldCBpc0Fic29sdXRlID0gdHlwZW9mIGFjdGlvbiA9PT0gXCJzdHJpbmdcIiAmJiBBQlNPTFVURV9VUkxfUkVHRVgyLnRlc3QoYWN0aW9uKTtcbiAgICBsZXQgc3VibWl0SGFuZGxlciA9IChldmVudCkgPT4ge1xuICAgICAgb25TdWJtaXQgJiYgb25TdWJtaXQoZXZlbnQpO1xuICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHJldHVybjtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBsZXQgc3VibWl0dGVyID0gZXZlbnQubmF0aXZlRXZlbnQuc3VibWl0dGVyO1xuICAgICAgbGV0IHN1Ym1pdE1ldGhvZCA9IHN1Ym1pdHRlcj8uZ2V0QXR0cmlidXRlKFwiZm9ybW1ldGhvZFwiKSB8fCBtZXRob2Q7XG4gICAgICBzdWJtaXQoc3VibWl0dGVyIHx8IGV2ZW50LmN1cnJlbnRUYXJnZXQsIHtcbiAgICAgICAgZmV0Y2hlcktleSxcbiAgICAgICAgbWV0aG9kOiBzdWJtaXRNZXRob2QsXG4gICAgICAgIG5hdmlnYXRlLFxuICAgICAgICByZXBsYWNlOiByZXBsYWNlMixcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIHJlbGF0aXZlLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gICAgICAgIHZpZXdUcmFuc2l0aW9uXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFxuICAgICAgXCJmb3JtXCIsXG4gICAgICB7XG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICBtZXRob2Q6IGZvcm1NZXRob2QsXG4gICAgICAgIGFjdGlvbjogZm9ybUFjdGlvbixcbiAgICAgICAgb25TdWJtaXQ6IHJlbG9hZERvY3VtZW50ID8gb25TdWJtaXQgOiBzdWJtaXRIYW5kbGVyLFxuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgXCJkYXRhLWRpc2NvdmVyXCI6ICFpc0Fic29sdXRlICYmIGRpc2NvdmVyID09PSBcInJlbmRlclwiID8gXCJ0cnVlXCIgOiB2b2lkIDBcbiAgICAgIH1cbiAgICApO1xuICB9XG4pO1xuRm9ybS5kaXNwbGF5TmFtZSA9IFwiRm9ybVwiO1xuZnVuY3Rpb24gU2Nyb2xsUmVzdG9yYXRpb24oe1xuICBnZXRLZXksXG4gIHN0b3JhZ2VLZXksXG4gIC4uLnByb3BzXG59KSB7XG4gIGxldCByZW1peENvbnRleHQgPSBSZWFjdDEwLnVzZUNvbnRleHQoRnJhbWV3b3JrQ29udGV4dCk7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgbWF0Y2hlcyA9IHVzZU1hdGNoZXMoKTtcbiAgdXNlU2Nyb2xsUmVzdG9yYXRpb24oeyBnZXRLZXksIHN0b3JhZ2VLZXkgfSk7XG4gIGxldCBzc3JLZXkgPSBSZWFjdDEwLnVzZU1lbW8oXG4gICAgKCkgPT4ge1xuICAgICAgaWYgKCFyZW1peENvbnRleHQgfHwgIWdldEtleSkgcmV0dXJuIG51bGw7XG4gICAgICBsZXQgdXNlcktleSA9IGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KFxuICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgbWF0Y2hlcyxcbiAgICAgICAgYmFzZW5hbWUsXG4gICAgICAgIGdldEtleVxuICAgICAgKTtcbiAgICAgIHJldHVybiB1c2VyS2V5ICE9PSBsb2NhdGlvbi5rZXkgPyB1c2VyS2V5IDogbnVsbDtcbiAgICB9LFxuICAgIC8vIE5haCwgd2Ugb25seSBuZWVkIHRoaXMgdGhlIGZpcnN0IHRpbWUgZm9yIHRoZSBTU1IgcmVuZGVyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIFtdXG4gICk7XG4gIGlmICghcmVtaXhDb250ZXh0IHx8IHJlbWl4Q29udGV4dC5pc1NwYU1vZGUpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBsZXQgcmVzdG9yZVNjcm9sbCA9ICgoc3RvcmFnZUtleTIsIHJlc3RvcmVLZXkpID0+IHtcbiAgICBpZiAoIXdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8ICF3aW5kb3cuaGlzdG9yeS5zdGF0ZS5rZXkpIHtcbiAgICAgIGxldCBrZXkgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDMyKS5zbGljZSgyKTtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSh7IGtleSB9LCBcIlwiKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGxldCBwb3NpdGlvbnMgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleTIpIHx8IFwie31cIik7XG4gICAgICBsZXQgc3RvcmVkWSA9IHBvc2l0aW9uc1tyZXN0b3JlS2V5IHx8IHdpbmRvdy5oaXN0b3J5LnN0YXRlLmtleV07XG4gICAgICBpZiAodHlwZW9mIHN0b3JlZFkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIHN0b3JlZFkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmFnZUtleTIpO1xuICAgIH1cbiAgfSkudG9TdHJpbmcoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXG4gICAgXCJzY3JpcHRcIixcbiAgICB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHN1cHByZXNzSHlkcmF0aW9uV2FybmluZzogdHJ1ZSxcbiAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MOiB7XG4gICAgICAgIF9faHRtbDogYCgke3Jlc3RvcmVTY3JvbGx9KSgke0pTT04uc3RyaW5naWZ5KFxuICAgICAgICAgIHN0b3JhZ2VLZXkgfHwgU0NST0xMX1JFU1RPUkFUSU9OX1NUT1JBR0VfS0VZXG4gICAgICAgICl9LCAke0pTT04uc3RyaW5naWZ5KHNzcktleSl9KWBcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5TY3JvbGxSZXN0b3JhdGlvbi5kaXNwbGF5TmFtZSA9IFwiU2Nyb2xsUmVzdG9yYXRpb25cIjtcbmZ1bmN0aW9uIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IyKGhvb2tOYW1lKSB7XG4gIHJldHVybiBgJHtob29rTmFtZX0gbXVzdCBiZSB1c2VkIHdpdGhpbiBhIGRhdGEgcm91dGVyLiAgU2VlIGh0dHBzOi8vcmVhY3Ryb3V0ZXIuY29tL2VuL21haW4vcm91dGVycy9waWNraW5nLWEtcm91dGVyLmA7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyQ29udGV4dDMoaG9va05hbWUpIHtcbiAgbGV0IGN0eCA9IFJlYWN0MTAudXNlQ29udGV4dChEYXRhUm91dGVyQ29udGV4dCk7XG4gIGludmFyaWFudChjdHgsIGdldERhdGFSb3V0ZXJDb25zb2xlRXJyb3IyKGhvb2tOYW1lKSk7XG4gIHJldHVybiBjdHg7XG59XG5mdW5jdGlvbiB1c2VEYXRhUm91dGVyU3RhdGUyKGhvb2tOYW1lKSB7XG4gIGxldCBzdGF0ZSA9IFJlYWN0MTAudXNlQ29udGV4dChEYXRhUm91dGVyU3RhdGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHN0YXRlLCBnZXREYXRhUm91dGVyQ29uc29sZUVycm9yMihob29rTmFtZSkpO1xuICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1c2VMaW5rQ2xpY2tIYW5kbGVyKHRvLCB7XG4gIHRhcmdldCxcbiAgcmVwbGFjZTogcmVwbGFjZVByb3AsXG4gIHN0YXRlLFxuICBwcmV2ZW50U2Nyb2xsUmVzZXQsXG4gIHJlbGF0aXZlLFxuICB2aWV3VHJhbnNpdGlvblxufSA9IHt9KSB7XG4gIGxldCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBwYXRoID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlIH0pO1xuICByZXR1cm4gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChzaG91bGRQcm9jZXNzTGlua0NsaWNrKGV2ZW50LCB0YXJnZXQpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGxldCByZXBsYWNlMiA9IHJlcGxhY2VQcm9wICE9PSB2b2lkIDAgPyByZXBsYWNlUHJvcCA6IGNyZWF0ZVBhdGgobG9jYXRpb24pID09PSBjcmVhdGVQYXRoKHBhdGgpO1xuICAgICAgICBuYXZpZ2F0ZSh0bywge1xuICAgICAgICAgIHJlcGxhY2U6IHJlcGxhY2UyLFxuICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgIHByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgICByZWxhdGl2ZSxcbiAgICAgICAgICB2aWV3VHJhbnNpdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIFtcbiAgICAgIGxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGUsXG4gICAgICBwYXRoLFxuICAgICAgcmVwbGFjZVByb3AsXG4gICAgICBzdGF0ZSxcbiAgICAgIHRhcmdldCxcbiAgICAgIHRvLFxuICAgICAgcHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgcmVsYXRpdmUsXG4gICAgICB2aWV3VHJhbnNpdGlvblxuICAgIF1cbiAgKTtcbn1cbmZ1bmN0aW9uIHVzZVNlYXJjaFBhcmFtcyhkZWZhdWx0SW5pdCkge1xuICB3YXJuaW5nKFxuICAgIHR5cGVvZiBVUkxTZWFyY2hQYXJhbXMgIT09IFwidW5kZWZpbmVkXCIsXG4gICAgYFlvdSBjYW5ub3QgdXNlIHRoZSBcXGB1c2VTZWFyY2hQYXJhbXNcXGAgaG9vayBpbiBhIGJyb3dzZXIgdGhhdCBkb2VzIG5vdCBzdXBwb3J0IHRoZSBVUkxTZWFyY2hQYXJhbXMgQVBJLiBJZiB5b3UgbmVlZCB0byBzdXBwb3J0IEludGVybmV0IEV4cGxvcmVyIDExLCB3ZSByZWNvbW1lbmQgeW91IGxvYWQgYSBwb2x5ZmlsbCBzdWNoIGFzIGh0dHBzOi8vZ2l0aHViLmNvbS91bmdhcC91cmwtc2VhcmNoLXBhcmFtcy5gXG4gICk7XG4gIGxldCBkZWZhdWx0U2VhcmNoUGFyYW1zUmVmID0gUmVhY3QxMC51c2VSZWYoY3JlYXRlU2VhcmNoUGFyYW1zKGRlZmF1bHRJbml0KSk7XG4gIGxldCBoYXNTZXRTZWFyY2hQYXJhbXNSZWYgPSBSZWFjdDEwLnVzZVJlZihmYWxzZSk7XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGxldCBzZWFyY2hQYXJhbXMgPSBSZWFjdDEwLnVzZU1lbW8oXG4gICAgKCkgPT4gKFxuICAgICAgLy8gT25seSBtZXJnZSBpbiB0aGUgZGVmYXVsdHMgaWYgd2UgaGF2ZW4ndCB5ZXQgY2FsbGVkIHNldFNlYXJjaFBhcmFtcy5cbiAgICAgIC8vIE9uY2Ugd2UgY2FsbCB0aGF0IHdlIHdhbnQgdGhvc2UgdG8gdGFrZSBwcmVjZWRlbmNlLCBvdGhlcndpc2UgeW91IGNhbid0XG4gICAgICAvLyByZW1vdmUgYSBwYXJhbSB3aXRoIHNldFNlYXJjaFBhcmFtcyh7fSkgaWYgaXQgaGFzIGFuIGluaXRpYWwgdmFsdWVcbiAgICAgIGdldFNlYXJjaFBhcmFtc0ZvckxvY2F0aW9uKFxuICAgICAgICBsb2NhdGlvbi5zZWFyY2gsXG4gICAgICAgIGhhc1NldFNlYXJjaFBhcmFtc1JlZi5jdXJyZW50ID8gbnVsbCA6IGRlZmF1bHRTZWFyY2hQYXJhbXNSZWYuY3VycmVudFxuICAgICAgKVxuICAgICksXG4gICAgW2xvY2F0aW9uLnNlYXJjaF1cbiAgKTtcbiAgbGV0IG5hdmlnYXRlID0gdXNlTmF2aWdhdGUoKTtcbiAgbGV0IHNldFNlYXJjaFBhcmFtcyA9IFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgKG5leHRJbml0LCBuYXZpZ2F0ZU9wdGlvbnMpID0+IHtcbiAgICAgIGNvbnN0IG5ld1NlYXJjaFBhcmFtcyA9IGNyZWF0ZVNlYXJjaFBhcmFtcyhcbiAgICAgICAgdHlwZW9mIG5leHRJbml0ID09PSBcImZ1bmN0aW9uXCIgPyBuZXh0SW5pdChzZWFyY2hQYXJhbXMpIDogbmV4dEluaXRcbiAgICAgICk7XG4gICAgICBoYXNTZXRTZWFyY2hQYXJhbXNSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICBuYXZpZ2F0ZShcIj9cIiArIG5ld1NlYXJjaFBhcmFtcywgbmF2aWdhdGVPcHRpb25zKTtcbiAgICB9LFxuICAgIFtuYXZpZ2F0ZSwgc2VhcmNoUGFyYW1zXVxuICApO1xuICByZXR1cm4gW3NlYXJjaFBhcmFtcywgc2V0U2VhcmNoUGFyYW1zXTtcbn1cbnZhciBmZXRjaGVySWQgPSAwO1xudmFyIGdldFVuaXF1ZUZldGNoZXJJZCA9ICgpID0+IGBfXyR7U3RyaW5nKCsrZmV0Y2hlcklkKX1fX2A7XG5mdW5jdGlvbiB1c2VTdWJtaXQoKSB7XG4gIGxldCB7IHJvdXRlciB9ID0gdXNlRGF0YVJvdXRlckNvbnRleHQzKFwidXNlU3VibWl0XCIgLyogVXNlU3VibWl0ICovKTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCBjdXJyZW50Um91dGVJZCA9IHVzZVJvdXRlSWQoKTtcbiAgcmV0dXJuIFJlYWN0MTAudXNlQ2FsbGJhY2soXG4gICAgYXN5bmMgKHRhcmdldCwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICBsZXQgeyBhY3Rpb24sIG1ldGhvZCwgZW5jVHlwZSwgZm9ybURhdGEsIGJvZHkgfSA9IGdldEZvcm1TdWJtaXNzaW9uSW5mbyhcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICBiYXNlbmFtZVxuICAgICAgKTtcbiAgICAgIGlmIChvcHRpb25zLm5hdmlnYXRlID09PSBmYWxzZSkge1xuICAgICAgICBsZXQga2V5ID0gb3B0aW9ucy5mZXRjaGVyS2V5IHx8IGdldFVuaXF1ZUZldGNoZXJJZCgpO1xuICAgICAgICBhd2FpdCByb3V0ZXIuZmV0Y2goa2V5LCBjdXJyZW50Um91dGVJZCwgb3B0aW9ucy5hY3Rpb24gfHwgYWN0aW9uLCB7XG4gICAgICAgICAgcHJldmVudFNjcm9sbFJlc2V0OiBvcHRpb25zLnByZXZlbnRTY3JvbGxSZXNldCxcbiAgICAgICAgICBmb3JtRGF0YSxcbiAgICAgICAgICBib2R5LFxuICAgICAgICAgIGZvcm1NZXRob2Q6IG9wdGlvbnMubWV0aG9kIHx8IG1ldGhvZCxcbiAgICAgICAgICBmb3JtRW5jVHlwZTogb3B0aW9ucy5lbmNUeXBlIHx8IGVuY1R5cGUsXG4gICAgICAgICAgZmx1c2hTeW5jOiBvcHRpb25zLmZsdXNoU3luY1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHJvdXRlci5uYXZpZ2F0ZShvcHRpb25zLmFjdGlvbiB8fCBhY3Rpb24sIHtcbiAgICAgICAgICBwcmV2ZW50U2Nyb2xsUmVzZXQ6IG9wdGlvbnMucHJldmVudFNjcm9sbFJlc2V0LFxuICAgICAgICAgIGZvcm1EYXRhLFxuICAgICAgICAgIGJvZHksXG4gICAgICAgICAgZm9ybU1ldGhvZDogb3B0aW9ucy5tZXRob2QgfHwgbWV0aG9kLFxuICAgICAgICAgIGZvcm1FbmNUeXBlOiBvcHRpb25zLmVuY1R5cGUgfHwgZW5jVHlwZSxcbiAgICAgICAgICByZXBsYWNlOiBvcHRpb25zLnJlcGxhY2UsXG4gICAgICAgICAgc3RhdGU6IG9wdGlvbnMuc3RhdGUsXG4gICAgICAgICAgZnJvbVJvdXRlSWQ6IGN1cnJlbnRSb3V0ZUlkLFxuICAgICAgICAgIGZsdXNoU3luYzogb3B0aW9ucy5mbHVzaFN5bmMsXG4gICAgICAgICAgdmlld1RyYW5zaXRpb246IG9wdGlvbnMudmlld1RyYW5zaXRpb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbcm91dGVyLCBiYXNlbmFtZSwgY3VycmVudFJvdXRlSWRdXG4gICk7XG59XG5mdW5jdGlvbiB1c2VGb3JtQWN0aW9uKGFjdGlvbiwgeyByZWxhdGl2ZSB9ID0ge30pIHtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IFJlYWN0MTAudXNlQ29udGV4dChOYXZpZ2F0aW9uQ29udGV4dCk7XG4gIGxldCByb3V0ZUNvbnRleHQgPSBSZWFjdDEwLnVzZUNvbnRleHQoUm91dGVDb250ZXh0KTtcbiAgaW52YXJpYW50KHJvdXRlQ29udGV4dCwgXCJ1c2VGb3JtQWN0aW9uIG11c3QgYmUgdXNlZCBpbnNpZGUgYSBSb3V0ZUNvbnRleHRcIik7XG4gIGxldCBbbWF0Y2hdID0gcm91dGVDb250ZXh0Lm1hdGNoZXMuc2xpY2UoLTEpO1xuICBsZXQgcGF0aCA9IHsgLi4udXNlUmVzb2x2ZWRQYXRoKGFjdGlvbiA/IGFjdGlvbiA6IFwiLlwiLCB7IHJlbGF0aXZlIH0pIH07XG4gIGxldCBsb2NhdGlvbiA9IHVzZUxvY2F0aW9uKCk7XG4gIGlmIChhY3Rpb24gPT0gbnVsbCkge1xuICAgIHBhdGguc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIGxldCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHBhdGguc2VhcmNoKTtcbiAgICBsZXQgaW5kZXhWYWx1ZXMgPSBwYXJhbXMuZ2V0QWxsKFwiaW5kZXhcIik7XG4gICAgbGV0IGhhc05ha2VkSW5kZXhQYXJhbSA9IGluZGV4VmFsdWVzLnNvbWUoKHYpID0+IHYgPT09IFwiXCIpO1xuICAgIGlmIChoYXNOYWtlZEluZGV4UGFyYW0pIHtcbiAgICAgIHBhcmFtcy5kZWxldGUoXCJpbmRleFwiKTtcbiAgICAgIGluZGV4VmFsdWVzLmZpbHRlcigodikgPT4gdikuZm9yRWFjaCgodikgPT4gcGFyYW1zLmFwcGVuZChcImluZGV4XCIsIHYpKTtcbiAgICAgIGxldCBxcyA9IHBhcmFtcy50b1N0cmluZygpO1xuICAgICAgcGF0aC5zZWFyY2ggPSBxcyA/IGA/JHtxc31gIDogXCJcIjtcbiAgICB9XG4gIH1cbiAgaWYgKCghYWN0aW9uIHx8IGFjdGlvbiA9PT0gXCIuXCIpICYmIG1hdGNoLnJvdXRlLmluZGV4KSB7XG4gICAgcGF0aC5zZWFyY2ggPSBwYXRoLnNlYXJjaCA/IHBhdGguc2VhcmNoLnJlcGxhY2UoL15cXD8vLCBcIj9pbmRleCZcIikgOiBcIj9pbmRleFwiO1xuICB9XG4gIGlmIChiYXNlbmFtZSAhPT0gXCIvXCIpIHtcbiAgICBwYXRoLnBhdGhuYW1lID0gcGF0aC5wYXRobmFtZSA9PT0gXCIvXCIgPyBiYXNlbmFtZSA6IGpvaW5QYXRocyhbYmFzZW5hbWUsIHBhdGgucGF0aG5hbWVdKTtcbiAgfVxuICByZXR1cm4gY3JlYXRlUGF0aChwYXRoKTtcbn1cbmZ1bmN0aW9uIHVzZUZldGNoZXIoe1xuICBrZXlcbn0gPSB7fSkge1xuICBsZXQgeyByb3V0ZXIgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MyhcInVzZUZldGNoZXJcIiAvKiBVc2VGZXRjaGVyICovKTtcbiAgbGV0IHN0YXRlID0gdXNlRGF0YVJvdXRlclN0YXRlMihcInVzZUZldGNoZXJcIiAvKiBVc2VGZXRjaGVyICovKTtcbiAgbGV0IGZldGNoZXJEYXRhID0gUmVhY3QxMC51c2VDb250ZXh0KEZldGNoZXJzQ29udGV4dCk7XG4gIGxldCByb3V0ZSA9IFJlYWN0MTAudXNlQ29udGV4dChSb3V0ZUNvbnRleHQpO1xuICBsZXQgcm91dGVJZCA9IHJvdXRlLm1hdGNoZXNbcm91dGUubWF0Y2hlcy5sZW5ndGggLSAxXT8ucm91dGUuaWQ7XG4gIGludmFyaWFudChmZXRjaGVyRGF0YSwgYHVzZUZldGNoZXIgbXVzdCBiZSB1c2VkIGluc2lkZSBhIEZldGNoZXJzQ29udGV4dGApO1xuICBpbnZhcmlhbnQocm91dGUsIGB1c2VGZXRjaGVyIG11c3QgYmUgdXNlZCBpbnNpZGUgYSBSb3V0ZUNvbnRleHRgKTtcbiAgaW52YXJpYW50KFxuICAgIHJvdXRlSWQgIT0gbnVsbCxcbiAgICBgdXNlRmV0Y2hlciBjYW4gb25seSBiZSB1c2VkIG9uIHJvdXRlcyB0aGF0IGNvbnRhaW4gYSB1bmlxdWUgXCJpZFwiYFxuICApO1xuICBsZXQgZGVmYXVsdEtleSA9IFJlYWN0MTAudXNlSWQoKTtcbiAgbGV0IFtmZXRjaGVyS2V5LCBzZXRGZXRjaGVyS2V5XSA9IFJlYWN0MTAudXNlU3RhdGUoa2V5IHx8IGRlZmF1bHRLZXkpO1xuICBpZiAoa2V5ICYmIGtleSAhPT0gZmV0Y2hlcktleSkge1xuICAgIHNldEZldGNoZXJLZXkoa2V5KTtcbiAgfVxuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgcm91dGVyLmdldEZldGNoZXIoZmV0Y2hlcktleSk7XG4gICAgcmV0dXJuICgpID0+IHJvdXRlci5kZWxldGVGZXRjaGVyKGZldGNoZXJLZXkpO1xuICB9LCBbcm91dGVyLCBmZXRjaGVyS2V5XSk7XG4gIGxldCBsb2FkID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICBhc3luYyAoaHJlZjIsIG9wdHMpID0+IHtcbiAgICAgIGludmFyaWFudChyb3V0ZUlkLCBcIk5vIHJvdXRlSWQgYXZhaWxhYmxlIGZvciBmZXRjaGVyLmxvYWQoKVwiKTtcbiAgICAgIGF3YWl0IHJvdXRlci5mZXRjaChmZXRjaGVyS2V5LCByb3V0ZUlkLCBocmVmMiwgb3B0cyk7XG4gICAgfSxcbiAgICBbZmV0Y2hlcktleSwgcm91dGVJZCwgcm91dGVyXVxuICApO1xuICBsZXQgc3VibWl0SW1wbCA9IHVzZVN1Ym1pdCgpO1xuICBsZXQgc3VibWl0ID0gUmVhY3QxMC51c2VDYWxsYmFjayhcbiAgICBhc3luYyAodGFyZ2V0LCBvcHRzKSA9PiB7XG4gICAgICBhd2FpdCBzdWJtaXRJbXBsKHRhcmdldCwge1xuICAgICAgICAuLi5vcHRzLFxuICAgICAgICBuYXZpZ2F0ZTogZmFsc2UsXG4gICAgICAgIGZldGNoZXJLZXlcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2ZldGNoZXJLZXksIHN1Ym1pdEltcGxdXG4gICk7XG4gIGxldCBGZXRjaGVyRm9ybSA9IFJlYWN0MTAudXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IEZldGNoZXJGb3JtMiA9IFJlYWN0MTAuZm9yd2FyZFJlZihcbiAgICAgIChwcm9wcywgcmVmKSA9PiB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KEZvcm0sIHsgLi4ucHJvcHMsIG5hdmlnYXRlOiBmYWxzZSwgZmV0Y2hlcktleSwgcmVmIH0pO1xuICAgICAgfVxuICAgICk7XG4gICAgRmV0Y2hlckZvcm0yLmRpc3BsYXlOYW1lID0gXCJmZXRjaGVyLkZvcm1cIjtcbiAgICByZXR1cm4gRmV0Y2hlckZvcm0yO1xuICB9LCBbZmV0Y2hlcktleV0pO1xuICBsZXQgZmV0Y2hlciA9IHN0YXRlLmZldGNoZXJzLmdldChmZXRjaGVyS2V5KSB8fCBJRExFX0ZFVENIRVI7XG4gIGxldCBkYXRhMiA9IGZldGNoZXJEYXRhLmdldChmZXRjaGVyS2V5KTtcbiAgbGV0IGZldGNoZXJXaXRoQ29tcG9uZW50cyA9IFJlYWN0MTAudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgRm9ybTogRmV0Y2hlckZvcm0sXG4gICAgICBzdWJtaXQsXG4gICAgICBsb2FkLFxuICAgICAgLi4uZmV0Y2hlcixcbiAgICAgIGRhdGE6IGRhdGEyXG4gICAgfSksXG4gICAgW0ZldGNoZXJGb3JtLCBzdWJtaXQsIGxvYWQsIGZldGNoZXIsIGRhdGEyXVxuICApO1xuICByZXR1cm4gZmV0Y2hlcldpdGhDb21wb25lbnRzO1xufVxuZnVuY3Rpb24gdXNlRmV0Y2hlcnMoKSB7XG4gIGxldCBzdGF0ZSA9IHVzZURhdGFSb3V0ZXJTdGF0ZTIoXCJ1c2VGZXRjaGVyc1wiIC8qIFVzZUZldGNoZXJzICovKTtcbiAgcmV0dXJuIEFycmF5LmZyb20oc3RhdGUuZmV0Y2hlcnMuZW50cmllcygpKS5tYXAoKFtrZXksIGZldGNoZXJdKSA9PiAoe1xuICAgIC4uLmZldGNoZXIsXG4gICAga2V5XG4gIH0pKTtcbn1cbnZhciBTQ1JPTExfUkVTVE9SQVRJT05fU1RPUkFHRV9LRVkgPSBcInJlYWN0LXJvdXRlci1zY3JvbGwtcG9zaXRpb25zXCI7XG52YXIgc2F2ZWRTY3JvbGxQb3NpdGlvbnMgPSB7fTtcbmZ1bmN0aW9uIGdldFNjcm9sbFJlc3RvcmF0aW9uS2V5KGxvY2F0aW9uLCBtYXRjaGVzLCBiYXNlbmFtZSwgZ2V0S2V5KSB7XG4gIGxldCBrZXkgPSBudWxsO1xuICBpZiAoZ2V0S2V5KSB7XG4gICAgaWYgKGJhc2VuYW1lICE9PSBcIi9cIikge1xuICAgICAga2V5ID0gZ2V0S2V5KFxuICAgICAgICB7XG4gICAgICAgICAgLi4ubG9jYXRpb24sXG4gICAgICAgICAgcGF0aG5hbWU6IHN0cmlwQmFzZW5hbWUobG9jYXRpb24ucGF0aG5hbWUsIGJhc2VuYW1lKSB8fCBsb2NhdGlvbi5wYXRobmFtZVxuICAgICAgICB9LFxuICAgICAgICBtYXRjaGVzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBrZXkgPSBnZXRLZXkobG9jYXRpb24sIG1hdGNoZXMpO1xuICAgIH1cbiAgfVxuICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICBrZXkgPSBsb2NhdGlvbi5rZXk7XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cbmZ1bmN0aW9uIHVzZVNjcm9sbFJlc3RvcmF0aW9uKHtcbiAgZ2V0S2V5LFxuICBzdG9yYWdlS2V5XG59ID0ge30pIHtcbiAgbGV0IHsgcm91dGVyIH0gPSB1c2VEYXRhUm91dGVyQ29udGV4dDMoXCJ1c2VTY3JvbGxSZXN0b3JhdGlvblwiIC8qIFVzZVNjcm9sbFJlc3RvcmF0aW9uICovKTtcbiAgbGV0IHsgcmVzdG9yZVNjcm9sbFBvc2l0aW9uLCBwcmV2ZW50U2Nyb2xsUmVzZXQgfSA9IHVzZURhdGFSb3V0ZXJTdGF0ZTIoXG4gICAgXCJ1c2VTY3JvbGxSZXN0b3JhdGlvblwiIC8qIFVzZVNjcm9sbFJlc3RvcmF0aW9uICovXG4gICk7XG4gIGxldCB7IGJhc2VuYW1lIH0gPSBSZWFjdDEwLnVzZUNvbnRleHQoTmF2aWdhdGlvbkNvbnRleHQpO1xuICBsZXQgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xuICBsZXQgbWF0Y2hlcyA9IHVzZU1hdGNoZXMoKTtcbiAgbGV0IG5hdmlnYXRpb24gPSB1c2VOYXZpZ2F0aW9uKCk7XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICB3aW5kb3cuaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IFwibWFudWFsXCI7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5oaXN0b3J5LnNjcm9sbFJlc3RvcmF0aW9uID0gXCJhdXRvXCI7XG4gICAgfTtcbiAgfSwgW10pO1xuICB1c2VQYWdlSGlkZShcbiAgICBSZWFjdDEwLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGlmIChuYXZpZ2F0aW9uLnN0YXRlID09PSBcImlkbGVcIikge1xuICAgICAgICBsZXQga2V5ID0gZ2V0U2Nyb2xsUmVzdG9yYXRpb25LZXkobG9jYXRpb24sIG1hdGNoZXMsIGJhc2VuYW1lLCBnZXRLZXkpO1xuICAgICAgICBzYXZlZFNjcm9sbFBvc2l0aW9uc1trZXldID0gd2luZG93LnNjcm9sbFk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFxuICAgICAgICAgIHN0b3JhZ2VLZXkgfHwgU0NST0xMX1JFU1RPUkFUSU9OX1NUT1JBR0VfS0VZLFxuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHNhdmVkU2Nyb2xsUG9zaXRpb25zKVxuICAgICAgICApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgd2FybmluZyhcbiAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICBgRmFpbGVkIHRvIHNhdmUgc2Nyb2xsIHBvc2l0aW9ucyBpbiBzZXNzaW9uU3RvcmFnZSwgPFNjcm9sbFJlc3RvcmF0aW9uIC8+IHdpbGwgbm90IHdvcmsgcHJvcGVybHkgKCR7ZXJyb3J9KS5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB3aW5kb3cuaGlzdG9yeS5zY3JvbGxSZXN0b3JhdGlvbiA9IFwiYXV0b1wiO1xuICAgIH0sIFtuYXZpZ2F0aW9uLnN0YXRlLCBnZXRLZXksIGJhc2VuYW1lLCBsb2NhdGlvbiwgbWF0Y2hlcywgc3RvcmFnZUtleV0pXG4gICk7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBSZWFjdDEwLnVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBsZXQgc2Vzc2lvblBvc2l0aW9ucyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXG4gICAgICAgICAgc3RvcmFnZUtleSB8fCBTQ1JPTExfUkVTVE9SQVRJT05fU1RPUkFHRV9LRVlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHNlc3Npb25Qb3NpdGlvbnMpIHtcbiAgICAgICAgICBzYXZlZFNjcm9sbFBvc2l0aW9ucyA9IEpTT04ucGFyc2Uoc2Vzc2lvblBvc2l0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIH1cbiAgICB9LCBbc3RvcmFnZUtleV0pO1xuICAgIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIGxldCBkaXNhYmxlU2Nyb2xsUmVzdG9yYXRpb24gPSByb3V0ZXI/LmVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uKFxuICAgICAgICBzYXZlZFNjcm9sbFBvc2l0aW9ucyxcbiAgICAgICAgKCkgPT4gd2luZG93LnNjcm9sbFksXG4gICAgICAgIGdldEtleSA/IChsb2NhdGlvbjIsIG1hdGNoZXMyKSA9PiBnZXRTY3JvbGxSZXN0b3JhdGlvbktleShsb2NhdGlvbjIsIG1hdGNoZXMyLCBiYXNlbmFtZSwgZ2V0S2V5KSA6IHZvaWQgMFxuICAgICAgKTtcbiAgICAgIHJldHVybiAoKSA9PiBkaXNhYmxlU2Nyb2xsUmVzdG9yYXRpb24gJiYgZGlzYWJsZVNjcm9sbFJlc3RvcmF0aW9uKCk7XG4gICAgfSwgW3JvdXRlciwgYmFzZW5hbWUsIGdldEtleV0pO1xuICAgIFJlYWN0MTAudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIGlmIChyZXN0b3JlU2Nyb2xsUG9zaXRpb24gPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgcmVzdG9yZVNjcm9sbFBvc2l0aW9uID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCByZXN0b3JlU2Nyb2xsUG9zaXRpb24pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAobG9jYXRpb24uaGFzaCkge1xuICAgICAgICBsZXQgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICAgICAgICBkZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uaGFzaC5zbGljZSgxKSlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGVsKSB7XG4gICAgICAgICAgZWwuc2Nyb2xsSW50b1ZpZXcoKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwcmV2ZW50U2Nyb2xsUmVzZXQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgIH0sIFtsb2NhdGlvbiwgcmVzdG9yZVNjcm9sbFBvc2l0aW9uLCBwcmV2ZW50U2Nyb2xsUmVzZXRdKTtcbiAgfVxufVxuZnVuY3Rpb24gdXNlQmVmb3JlVW5sb2FkKGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gIGxldCB7IGNhcHR1cmUgfSA9IG9wdGlvbnMgfHwge307XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgb3B0cyA9IGNhcHR1cmUgIT0gbnVsbCA/IHsgY2FwdHVyZSB9IDogdm9pZCAwO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsIGNhbGxiYWNrLCBvcHRzKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIH07XG4gIH0sIFtjYWxsYmFjaywgY2FwdHVyZV0pO1xufVxuZnVuY3Rpb24gdXNlUGFnZUhpZGUoY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgbGV0IHsgY2FwdHVyZSB9ID0gb3B0aW9ucyB8fCB7fTtcbiAgUmVhY3QxMC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBvcHRzID0gY2FwdHVyZSAhPSBudWxsID8geyBjYXB0dXJlIH0gOiB2b2lkIDA7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCBjYWxsYmFjaywgb3B0cyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgY2FsbGJhY2ssIG9wdHMpO1xuICAgIH07XG4gIH0sIFtjYWxsYmFjaywgY2FwdHVyZV0pO1xufVxuZnVuY3Rpb24gdXNlUHJvbXB0KHtcbiAgd2hlbixcbiAgbWVzc2FnZVxufSkge1xuICBsZXQgYmxvY2tlciA9IHVzZUJsb2NrZXIod2hlbik7XG4gIFJlYWN0MTAudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYmxvY2tlci5zdGF0ZSA9PT0gXCJibG9ja2VkXCIpIHtcbiAgICAgIGxldCBwcm9jZWVkID0gd2luZG93LmNvbmZpcm0obWVzc2FnZSk7XG4gICAgICBpZiAocHJvY2VlZCkge1xuICAgICAgICBzZXRUaW1lb3V0KGJsb2NrZXIucHJvY2VlZCwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBibG9ja2VyLnJlc2V0KCk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbYmxvY2tlciwgbWVzc2FnZV0pO1xuICBSZWFjdDEwLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJsb2NrZXIuc3RhdGUgPT09IFwiYmxvY2tlZFwiICYmICF3aGVuKSB7XG4gICAgICBibG9ja2VyLnJlc2V0KCk7XG4gICAgfVxuICB9LCBbYmxvY2tlciwgd2hlbl0pO1xufVxuZnVuY3Rpb24gdXNlVmlld1RyYW5zaXRpb25TdGF0ZSh0bywgb3B0cyA9IHt9KSB7XG4gIGxldCB2dENvbnRleHQgPSBSZWFjdDEwLnVzZUNvbnRleHQoVmlld1RyYW5zaXRpb25Db250ZXh0KTtcbiAgaW52YXJpYW50KFxuICAgIHZ0Q29udGV4dCAhPSBudWxsLFxuICAgIFwiYHVzZVZpZXdUcmFuc2l0aW9uU3RhdGVgIG11c3QgYmUgdXNlZCB3aXRoaW4gYHJlYWN0LXJvdXRlci1kb21gJ3MgYFJvdXRlclByb3ZpZGVyYC4gIERpZCB5b3UgYWNjaWRlbnRhbGx5IGltcG9ydCBgUm91dGVyUHJvdmlkZXJgIGZyb20gYHJlYWN0LXJvdXRlcmA/XCJcbiAgKTtcbiAgbGV0IHsgYmFzZW5hbWUgfSA9IHVzZURhdGFSb3V0ZXJDb250ZXh0MyhcbiAgICBcInVzZVZpZXdUcmFuc2l0aW9uU3RhdGVcIiAvKiB1c2VWaWV3VHJhbnNpdGlvblN0YXRlICovXG4gICk7XG4gIGxldCBwYXRoID0gdXNlUmVzb2x2ZWRQYXRoKHRvLCB7IHJlbGF0aXZlOiBvcHRzLnJlbGF0aXZlIH0pO1xuICBpZiAoIXZ0Q29udGV4dC5pc1RyYW5zaXRpb25pbmcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgbGV0IGN1cnJlbnRQYXRoID0gc3RyaXBCYXNlbmFtZSh2dENvbnRleHQuY3VycmVudExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgdnRDb250ZXh0LmN1cnJlbnRMb2NhdGlvbi5wYXRobmFtZTtcbiAgbGV0IG5leHRQYXRoID0gc3RyaXBCYXNlbmFtZSh2dENvbnRleHQubmV4dExvY2F0aW9uLnBhdGhuYW1lLCBiYXNlbmFtZSkgfHwgdnRDb250ZXh0Lm5leHRMb2NhdGlvbi5wYXRobmFtZTtcbiAgcmV0dXJuIG1hdGNoUGF0aChwYXRoLnBhdGhuYW1lLCBuZXh0UGF0aCkgIT0gbnVsbCB8fCBtYXRjaFBhdGgocGF0aC5wYXRobmFtZSwgY3VycmVudFBhdGgpICE9IG51bGw7XG59XG5cbi8vIGxpYi9kb20vc2VydmVyLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxMSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN0YXRpY1JvdXRlcih7XG4gIGJhc2VuYW1lLFxuICBjaGlsZHJlbixcbiAgbG9jYXRpb246IGxvY2F0aW9uUHJvcCA9IFwiL1wiXG59KSB7XG4gIGlmICh0eXBlb2YgbG9jYXRpb25Qcm9wID09PSBcInN0cmluZ1wiKSB7XG4gICAgbG9jYXRpb25Qcm9wID0gcGFyc2VQYXRoKGxvY2F0aW9uUHJvcCk7XG4gIH1cbiAgbGV0IGFjdGlvbiA9IFwiUE9QXCIgLyogUG9wICovO1xuICBsZXQgbG9jYXRpb24gPSB7XG4gICAgcGF0aG5hbWU6IGxvY2F0aW9uUHJvcC5wYXRobmFtZSB8fCBcIi9cIixcbiAgICBzZWFyY2g6IGxvY2F0aW9uUHJvcC5zZWFyY2ggfHwgXCJcIixcbiAgICBoYXNoOiBsb2NhdGlvblByb3AuaGFzaCB8fCBcIlwiLFxuICAgIHN0YXRlOiBsb2NhdGlvblByb3Auc3RhdGUgIT0gbnVsbCA/IGxvY2F0aW9uUHJvcC5zdGF0ZSA6IG51bGwsXG4gICAga2V5OiBsb2NhdGlvblByb3Aua2V5IHx8IFwiZGVmYXVsdFwiXG4gIH07XG4gIGxldCBzdGF0aWNOYXZpZ2F0b3IgPSBnZXRTdGF0ZWxlc3NOYXZpZ2F0b3IoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXG4gICAgUm91dGVyLFxuICAgIHtcbiAgICAgIGJhc2VuYW1lLFxuICAgICAgY2hpbGRyZW4sXG4gICAgICBsb2NhdGlvbixcbiAgICAgIG5hdmlnYXRpb25UeXBlOiBhY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IHN0YXRpY05hdmlnYXRvcixcbiAgICAgIHN0YXRpYzogdHJ1ZVxuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIFN0YXRpY1JvdXRlclByb3ZpZGVyKHtcbiAgY29udGV4dCxcbiAgcm91dGVyLFxuICBoeWRyYXRlID0gdHJ1ZSxcbiAgbm9uY2Vcbn0pIHtcbiAgaW52YXJpYW50KFxuICAgIHJvdXRlciAmJiBjb250ZXh0LFxuICAgIFwiWW91IG11c3QgcHJvdmlkZSBgcm91dGVyYCBhbmQgYGNvbnRleHRgIHRvIDxTdGF0aWNSb3V0ZXJQcm92aWRlcj5cIlxuICApO1xuICBsZXQgZGF0YVJvdXRlckNvbnRleHQgPSB7XG4gICAgcm91dGVyLFxuICAgIG5hdmlnYXRvcjogZ2V0U3RhdGVsZXNzTmF2aWdhdG9yKCksXG4gICAgc3RhdGljOiB0cnVlLFxuICAgIHN0YXRpY0NvbnRleHQ6IGNvbnRleHQsXG4gICAgYmFzZW5hbWU6IGNvbnRleHQuYmFzZW5hbWUgfHwgXCIvXCJcbiAgfTtcbiAgbGV0IGZldGNoZXJzQ29udGV4dCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGxldCBoeWRyYXRlU2NyaXB0ID0gXCJcIjtcbiAgaWYgKGh5ZHJhdGUgIT09IGZhbHNlKSB7XG4gICAgbGV0IGRhdGEyID0ge1xuICAgICAgbG9hZGVyRGF0YTogY29udGV4dC5sb2FkZXJEYXRhLFxuICAgICAgYWN0aW9uRGF0YTogY29udGV4dC5hY3Rpb25EYXRhLFxuICAgICAgZXJyb3JzOiBzZXJpYWxpemVFcnJvcnMoY29udGV4dC5lcnJvcnMpXG4gICAgfTtcbiAgICBsZXQganNvbiA9IGh0bWxFc2NhcGUoSlNPTi5zdHJpbmdpZnkoSlNPTi5zdHJpbmdpZnkoZGF0YTIpKSk7XG4gICAgaHlkcmF0ZVNjcmlwdCA9IGB3aW5kb3cuX19zdGF0aWNSb3V0ZXJIeWRyYXRpb25EYXRhID0gSlNPTi5wYXJzZSgke2pzb259KTtgO1xuICB9XG4gIGxldCB7IHN0YXRlIH0gPSBkYXRhUm91dGVyQ29udGV4dC5yb3V0ZXI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFJlYWN0MTEuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoRGF0YVJvdXRlckNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGRhdGFSb3V0ZXJDb250ZXh0IH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoRGF0YVJvdXRlclN0YXRlQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogc3RhdGUgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChGZXRjaGVyc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGZldGNoZXJzQ29udGV4dCB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFZpZXdUcmFuc2l0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBpc1RyYW5zaXRpb25pbmc6IGZhbHNlIH0gfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcbiAgICBSb3V0ZXIsXG4gICAge1xuICAgICAgYmFzZW5hbWU6IGRhdGFSb3V0ZXJDb250ZXh0LmJhc2VuYW1lLFxuICAgICAgbG9jYXRpb246IHN0YXRlLmxvY2F0aW9uLFxuICAgICAgbmF2aWdhdGlvblR5cGU6IHN0YXRlLmhpc3RvcnlBY3Rpb24sXG4gICAgICBuYXZpZ2F0b3I6IGRhdGFSb3V0ZXJDb250ZXh0Lm5hdmlnYXRvcixcbiAgICAgIHN0YXRpYzogZGF0YVJvdXRlckNvbnRleHQuc3RhdGljXG4gICAgfSxcbiAgICAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFxuICAgICAgRGF0YVJvdXRlczIsXG4gICAgICB7XG4gICAgICAgIHJvdXRlczogcm91dGVyLnJvdXRlcyxcbiAgICAgICAgZnV0dXJlOiByb3V0ZXIuZnV0dXJlLFxuICAgICAgICBzdGF0ZVxuICAgICAgfVxuICAgIClcbiAgKSkpKSksIGh5ZHJhdGVTY3JpcHQgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFxuICAgIFwic2NyaXB0XCIsXG4gICAge1xuICAgICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlLFxuICAgICAgbm9uY2UsXG4gICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDogeyBfX2h0bWw6IGh5ZHJhdGVTY3JpcHQgfVxuICAgIH1cbiAgKSA6IG51bGwpO1xufVxuZnVuY3Rpb24gRGF0YVJvdXRlczIoe1xuICByb3V0ZXMsXG4gIGZ1dHVyZSxcbiAgc3RhdGVcbn0pIHtcbiAgcmV0dXJuIHVzZVJvdXRlc0ltcGwocm91dGVzLCB2b2lkIDAsIHN0YXRlLCBmdXR1cmUpO1xufVxuZnVuY3Rpb24gc2VyaWFsaXplRXJyb3JzKGVycm9ycykge1xuICBpZiAoIWVycm9ycykgcmV0dXJuIG51bGw7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZXJyb3JzKTtcbiAgbGV0IHNlcmlhbGl6ZWQgPSB7fTtcbiAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKHZhbCkpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHsgLi4udmFsLCBfX3R5cGU6IFwiUm91dGVFcnJvclJlc3BvbnNlXCIgfTtcbiAgICB9IGVsc2UgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB7XG4gICAgICAgIG1lc3NhZ2U6IHZhbC5tZXNzYWdlLFxuICAgICAgICBfX3R5cGU6IFwiRXJyb3JcIixcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhIHN1YmNsYXNzIChpLmUuLCBSZWZlcmVuY2VFcnJvciksIHNlbmQgdXAgdGhlIHR5cGUgc28gd2VcbiAgICAgICAgLy8gY2FuIHJlLWNyZWF0ZSB0aGUgc2FtZSB0eXBlIGR1cmluZyBoeWRyYXRpb24uXG4gICAgICAgIC4uLnZhbC5uYW1lICE9PSBcIkVycm9yXCIgPyB7XG4gICAgICAgICAgX19zdWJUeXBlOiB2YWwubmFtZVxuICAgICAgICB9IDoge31cbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG5mdW5jdGlvbiBnZXRTdGF0ZWxlc3NOYXZpZ2F0b3IoKSB7XG4gIHJldHVybiB7XG4gICAgY3JlYXRlSHJlZixcbiAgICBlbmNvZGVMb2NhdGlvbixcbiAgICBwdXNoKHRvKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IucHVzaCgpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC4gVGhpcyBlcnJvciB3YXMgcHJvYmFibHkgdHJpZ2dlcmVkIHdoZW4geW91IGRpZCBhIFxcYG5hdmlnYXRlKCR7SlNPTi5zdHJpbmdpZnkodG8pfSlcXGAgc29tZXdoZXJlIGluIHlvdXIgYXBwLmBcbiAgICAgICk7XG4gICAgfSxcbiAgICByZXBsYWNlKHRvKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IucmVwbGFjZSgpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC4gVGhpcyBlcnJvciB3YXMgcHJvYmFibHkgdHJpZ2dlcmVkIHdoZW4geW91IGRpZCBhIFxcYG5hdmlnYXRlKCR7SlNPTi5zdHJpbmdpZnkodG8pfSwgeyByZXBsYWNlOiB0cnVlIH0pXFxgIHNvbWV3aGVyZSBpbiB5b3VyIGFwcC5gXG4gICAgICApO1xuICAgIH0sXG4gICAgZ28oZGVsdGEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5nbygpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC4gVGhpcyBlcnJvciB3YXMgcHJvYmFibHkgdHJpZ2dlcmVkIHdoZW4geW91IGRpZCBhIFxcYG5hdmlnYXRlKCR7ZGVsdGF9KVxcYCBzb21ld2hlcmUgaW4geW91ciBhcHAuYFxuICAgICAgKTtcbiAgICB9LFxuICAgIGJhY2soKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBZb3UgY2Fubm90IHVzZSBuYXZpZ2F0b3IuYmFjaygpIG9uIHRoZSBzZXJ2ZXIgYmVjYXVzZSBpdCBpcyBhIHN0YXRlbGVzcyBlbnZpcm9ubWVudC5gXG4gICAgICApO1xuICAgIH0sXG4gICAgZm9yd2FyZCgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBjYW5ub3QgdXNlIG5hdmlnYXRvci5mb3J3YXJkKCkgb24gdGhlIHNlcnZlciBiZWNhdXNlIGl0IGlzIGEgc3RhdGVsZXNzIGVudmlyb25tZW50LmBcbiAgICAgICk7XG4gICAgfVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljSGFuZGxlcjIocm91dGVzLCBvcHRzKSB7XG4gIHJldHVybiBjcmVhdGVTdGF0aWNIYW5kbGVyKHJvdXRlcywge1xuICAgIC4uLm9wdHMsXG4gICAgbWFwUm91dGVQcm9wZXJ0aWVzXG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGljUm91dGVyKHJvdXRlcywgY29udGV4dCwgb3B0cyA9IHt9KSB7XG4gIGxldCBtYW5pZmVzdCA9IHt9O1xuICBsZXQgZGF0YVJvdXRlcyA9IGNvbnZlcnRSb3V0ZXNUb0RhdGFSb3V0ZXMoXG4gICAgcm91dGVzLFxuICAgIG1hcFJvdXRlUHJvcGVydGllcyxcbiAgICB2b2lkIDAsXG4gICAgbWFuaWZlc3RcbiAgKTtcbiAgbGV0IG1hdGNoZXMgPSBjb250ZXh0Lm1hdGNoZXMubWFwKChtYXRjaCkgPT4ge1xuICAgIGxldCByb3V0ZSA9IG1hbmlmZXN0W21hdGNoLnJvdXRlLmlkXSB8fCBtYXRjaC5yb3V0ZTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ubWF0Y2gsXG4gICAgICByb3V0ZVxuICAgIH07XG4gIH0pO1xuICBsZXQgbXNnID0gKG1ldGhvZCkgPT4gYFlvdSBjYW5ub3QgdXNlIHJvdXRlci4ke21ldGhvZH0oKSBvbiB0aGUgc2VydmVyIGJlY2F1c2UgaXQgaXMgYSBzdGF0ZWxlc3MgZW52aXJvbm1lbnRgO1xuICByZXR1cm4ge1xuICAgIGdldCBiYXNlbmFtZSgpIHtcbiAgICAgIHJldHVybiBjb250ZXh0LmJhc2VuYW1lO1xuICAgIH0sXG4gICAgZ2V0IGZ1dHVyZSgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHVuc3RhYmxlX21pZGRsZXdhcmU6IGZhbHNlLFxuICAgICAgICAuLi5vcHRzPy5mdXR1cmVcbiAgICAgIH07XG4gICAgfSxcbiAgICBnZXQgc3RhdGUoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBoaXN0b3J5QWN0aW9uOiBcIlBPUFwiIC8qIFBvcCAqLyxcbiAgICAgICAgbG9jYXRpb246IGNvbnRleHQubG9jYXRpb24sXG4gICAgICAgIG1hdGNoZXMsXG4gICAgICAgIGxvYWRlckRhdGE6IGNvbnRleHQubG9hZGVyRGF0YSxcbiAgICAgICAgYWN0aW9uRGF0YTogY29udGV4dC5hY3Rpb25EYXRhLFxuICAgICAgICBlcnJvcnM6IGNvbnRleHQuZXJyb3JzLFxuICAgICAgICBpbml0aWFsaXplZDogdHJ1ZSxcbiAgICAgICAgbmF2aWdhdGlvbjogSURMRV9OQVZJR0FUSU9OLFxuICAgICAgICByZXN0b3JlU2Nyb2xsUG9zaXRpb246IG51bGwsXG4gICAgICAgIHByZXZlbnRTY3JvbGxSZXNldDogZmFsc2UsXG4gICAgICAgIHJldmFsaWRhdGlvbjogXCJpZGxlXCIsXG4gICAgICAgIGZldGNoZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgICAgICBibG9ja2VyczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICAgICAgfTtcbiAgICB9LFxuICAgIGdldCByb3V0ZXMoKSB7XG4gICAgICByZXR1cm4gZGF0YVJvdXRlcztcbiAgICB9LFxuICAgIGdldCB3aW5kb3coKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0sXG4gICAgaW5pdGlhbGl6ZSgpIHtcbiAgICAgIHRocm93IG1zZyhcImluaXRpYWxpemVcIik7XG4gICAgfSxcbiAgICBzdWJzY3JpYmUoKSB7XG4gICAgICB0aHJvdyBtc2coXCJzdWJzY3JpYmVcIik7XG4gICAgfSxcbiAgICBlbmFibGVTY3JvbGxSZXN0b3JhdGlvbigpIHtcbiAgICAgIHRocm93IG1zZyhcImVuYWJsZVNjcm9sbFJlc3RvcmF0aW9uXCIpO1xuICAgIH0sXG4gICAgbmF2aWdhdGUoKSB7XG4gICAgICB0aHJvdyBtc2coXCJuYXZpZ2F0ZVwiKTtcbiAgICB9LFxuICAgIGZldGNoKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZmV0Y2hcIik7XG4gICAgfSxcbiAgICByZXZhbGlkYXRlKCkge1xuICAgICAgdGhyb3cgbXNnKFwicmV2YWxpZGF0ZVwiKTtcbiAgICB9LFxuICAgIGNyZWF0ZUhyZWYsXG4gICAgZW5jb2RlTG9jYXRpb24sXG4gICAgZ2V0RmV0Y2hlcigpIHtcbiAgICAgIHJldHVybiBJRExFX0ZFVENIRVI7XG4gICAgfSxcbiAgICBkZWxldGVGZXRjaGVyKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZGVsZXRlRmV0Y2hlclwiKTtcbiAgICB9LFxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICB0aHJvdyBtc2coXCJkaXNwb3NlXCIpO1xuICAgIH0sXG4gICAgZ2V0QmxvY2tlcigpIHtcbiAgICAgIHJldHVybiBJRExFX0JMT0NLRVI7XG4gICAgfSxcbiAgICBkZWxldGVCbG9ja2VyKCkge1xuICAgICAgdGhyb3cgbXNnKFwiZGVsZXRlQmxvY2tlclwiKTtcbiAgICB9LFxuICAgIHBhdGNoUm91dGVzKCkge1xuICAgICAgdGhyb3cgbXNnKFwicGF0Y2hSb3V0ZXNcIik7XG4gICAgfSxcbiAgICBfaW50ZXJuYWxGZXRjaENvbnRyb2xsZXJzOiAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLFxuICAgIF9pbnRlcm5hbFNldFJvdXRlcygpIHtcbiAgICAgIHRocm93IG1zZyhcIl9pbnRlcm5hbFNldFJvdXRlc1wiKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVIcmVmKHRvKSB7XG4gIHJldHVybiB0eXBlb2YgdG8gPT09IFwic3RyaW5nXCIgPyB0byA6IGNyZWF0ZVBhdGgodG8pO1xufVxuZnVuY3Rpb24gZW5jb2RlTG9jYXRpb24odG8pIHtcbiAgbGV0IGhyZWYyID0gdHlwZW9mIHRvID09PSBcInN0cmluZ1wiID8gdG8gOiBjcmVhdGVQYXRoKHRvKTtcbiAgaHJlZjIgPSBocmVmMi5yZXBsYWNlKC8gJC8sIFwiJTIwXCIpO1xuICBsZXQgZW5jb2RlZCA9IEFCU09MVVRFX1VSTF9SRUdFWDMudGVzdChocmVmMikgPyBuZXcgVVJMKGhyZWYyKSA6IG5ldyBVUkwoaHJlZjIsIFwiaHR0cDovL2xvY2FsaG9zdFwiKTtcbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogZW5jb2RlZC5wYXRobmFtZSxcbiAgICBzZWFyY2g6IGVuY29kZWQuc2VhcmNoLFxuICAgIGhhc2g6IGVuY29kZWQuaGFzaFxuICB9O1xufVxudmFyIEFCU09MVVRFX1VSTF9SRUdFWDMgPSAvXig/OlthLXpdW2EtejAtOSsuLV0qOnxcXC9cXC8pL2k7XG52YXIgRVNDQVBFX0xPT0tVUDIgPSB7XG4gIFwiJlwiOiBcIlxcXFx1MDAyNlwiLFxuICBcIj5cIjogXCJcXFxcdTAwM2VcIixcbiAgXCI8XCI6IFwiXFxcXHUwMDNjXCIsXG4gIFwiXFx1MjAyOFwiOiBcIlxcXFx1MjAyOFwiLFxuICBcIlxcdTIwMjlcIjogXCJcXFxcdTIwMjlcIlxufTtcbnZhciBFU0NBUEVfUkVHRVgyID0gL1smPjxcXHUyMDI4XFx1MjAyOV0vZztcbmZ1bmN0aW9uIGh0bWxFc2NhcGUoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZShFU0NBUEVfUkVHRVgyLCAobWF0Y2gpID0+IEVTQ0FQRV9MT09LVVAyW21hdGNoXSk7XG59XG5cbi8vIGxpYi9kb20vc3NyL3NlcnZlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTIgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTZXJ2ZXJSb3V0ZXIoe1xuICBjb250ZXh0LFxuICB1cmwsXG4gIG5vbmNlXG59KSB7XG4gIGlmICh0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiKSB7XG4gICAgdXJsID0gbmV3IFVSTCh1cmwpO1xuICB9XG4gIGxldCB7IG1hbmlmZXN0LCByb3V0ZU1vZHVsZXMsIGNyaXRpY2FsQ3NzLCBzZXJ2ZXJIYW5kb2ZmU3RyaW5nIH0gPSBjb250ZXh0O1xuICBsZXQgcm91dGVzID0gY3JlYXRlU2VydmVyUm91dGVzKFxuICAgIG1hbmlmZXN0LnJvdXRlcyxcbiAgICByb3V0ZU1vZHVsZXMsXG4gICAgY29udGV4dC5mdXR1cmUsXG4gICAgY29udGV4dC5pc1NwYU1vZGVcbiAgKTtcbiAgY29udGV4dC5zdGF0aWNIYW5kbGVyQ29udGV4dC5sb2FkZXJEYXRhID0ge1xuICAgIC4uLmNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQubG9hZGVyRGF0YVxuICB9O1xuICBmb3IgKGxldCBtYXRjaCBvZiBjb250ZXh0LnN0YXRpY0hhbmRsZXJDb250ZXh0Lm1hdGNoZXMpIHtcbiAgICBsZXQgcm91dGVJZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgIGxldCByb3V0ZSA9IHJvdXRlTW9kdWxlc1tyb3V0ZUlkXTtcbiAgICBsZXQgbWFuaWZlc3RSb3V0ZSA9IGNvbnRleHQubWFuaWZlc3Qucm91dGVzW3JvdXRlSWRdO1xuICAgIGlmIChyb3V0ZSAmJiBtYW5pZmVzdFJvdXRlICYmIHNob3VsZEh5ZHJhdGVSb3V0ZUxvYWRlcihtYW5pZmVzdFJvdXRlLCByb3V0ZSwgY29udGV4dC5pc1NwYU1vZGUpICYmIChyb3V0ZS5IeWRyYXRlRmFsbGJhY2sgfHwgIW1hbmlmZXN0Um91dGUuaGFzTG9hZGVyKSkge1xuICAgICAgZGVsZXRlIGNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQubG9hZGVyRGF0YVtyb3V0ZUlkXTtcbiAgICB9XG4gIH1cbiAgbGV0IHJvdXRlciA9IGNyZWF0ZVN0YXRpY1JvdXRlcihyb3V0ZXMsIGNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChSZWFjdDEyLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFxuICAgIEZyYW1ld29ya0NvbnRleHQuUHJvdmlkZXIsXG4gICAge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgbWFuaWZlc3QsXG4gICAgICAgIHJvdXRlTW9kdWxlcyxcbiAgICAgICAgY3JpdGljYWxDc3MsXG4gICAgICAgIHNlcnZlckhhbmRvZmZTdHJpbmcsXG4gICAgICAgIGZ1dHVyZTogY29udGV4dC5mdXR1cmUsXG4gICAgICAgIHNzcjogY29udGV4dC5zc3IsXG4gICAgICAgIGlzU3BhTW9kZTogY29udGV4dC5pc1NwYU1vZGUsXG4gICAgICAgIHNlcmlhbGl6ZUVycm9yOiBjb250ZXh0LnNlcmlhbGl6ZUVycm9yLFxuICAgICAgICByZW5kZXJNZXRhOiBjb250ZXh0LnJlbmRlck1ldGFcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoUmVtaXhFcnJvckJvdW5kYXJ5LCB7IGxvY2F0aW9uOiByb3V0ZXIuc3RhdGUubG9jYXRpb24gfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcbiAgICAgIFN0YXRpY1JvdXRlclByb3ZpZGVyLFxuICAgICAge1xuICAgICAgICByb3V0ZXIsXG4gICAgICAgIGNvbnRleHQ6IGNvbnRleHQuc3RhdGljSGFuZGxlckNvbnRleHQsXG4gICAgICAgIGh5ZHJhdGU6IGZhbHNlXG4gICAgICB9XG4gICAgKSlcbiAgKSwgY29udGV4dC5zZXJ2ZXJIYW5kb2ZmU3RyZWFtID8gLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChSZWFjdDEyLlN1c3BlbnNlLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFxuICAgIFN0cmVhbVRyYW5zZmVyLFxuICAgIHtcbiAgICAgIGNvbnRleHQsXG4gICAgICBpZGVudGlmaWVyOiAwLFxuICAgICAgcmVhZGVyOiBjb250ZXh0LnNlcnZlckhhbmRvZmZTdHJlYW0uZ2V0UmVhZGVyKCksXG4gICAgICB0ZXh0RGVjb2RlcjogbmV3IFRleHREZWNvZGVyKCksXG4gICAgICBub25jZVxuICAgIH1cbiAgKSkgOiBudWxsKTtcbn1cblxuLy8gbGliL2RvbS9zc3Ivcm91dGVzLXRlc3Qtc3R1Yi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTMgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBjcmVhdGVSb3V0ZXNTdHViKHJvdXRlcywgdW5zdGFibGVfZ2V0Q29udGV4dCkge1xuICByZXR1cm4gZnVuY3Rpb24gUm91dGVzVGVzdFN0dWIoe1xuICAgIGluaXRpYWxFbnRyaWVzLFxuICAgIGluaXRpYWxJbmRleCxcbiAgICBoeWRyYXRpb25EYXRhLFxuICAgIGZ1dHVyZVxuICB9KSB7XG4gICAgbGV0IHJvdXRlclJlZiA9IFJlYWN0MTMudXNlUmVmKCk7XG4gICAgbGV0IHJlbWl4Q29udGV4dFJlZiA9IFJlYWN0MTMudXNlUmVmKCk7XG4gICAgaWYgKHJvdXRlclJlZi5jdXJyZW50ID09IG51bGwpIHtcbiAgICAgIHJlbWl4Q29udGV4dFJlZi5jdXJyZW50ID0ge1xuICAgICAgICBmdXR1cmU6IHtcbiAgICAgICAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiBmdXR1cmU/LnVuc3RhYmxlX21pZGRsZXdhcmUgPT09IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWFuaWZlc3Q6IHtcbiAgICAgICAgICByb3V0ZXM6IHt9LFxuICAgICAgICAgIGVudHJ5OiB7IGltcG9ydHM6IFtdLCBtb2R1bGU6IFwiXCIgfSxcbiAgICAgICAgICB1cmw6IFwiXCIsXG4gICAgICAgICAgdmVyc2lvbjogXCJcIlxuICAgICAgICB9LFxuICAgICAgICByb3V0ZU1vZHVsZXM6IHt9LFxuICAgICAgICBzc3I6IGZhbHNlLFxuICAgICAgICBpc1NwYU1vZGU6IGZhbHNlXG4gICAgICB9O1xuICAgICAgbGV0IHBhdGNoZWQgPSBwcm9jZXNzUm91dGVzKFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGBTdHViUm91dGVPYmplY3RgIGlzIHN0cmljdGVyIGFib3V0IGBsb2FkZXJgL2BhY3Rpb25gXG4gICAgICAgIC8vIHR5cGVzIGNvbXBhcmVkIHRvIGBBZ25vc3RpY1JvdXRlT2JqZWN0YFxuICAgICAgICBjb252ZXJ0Um91dGVzVG9EYXRhUm91dGVzKHJvdXRlcywgKHIpID0+IHIpLFxuICAgICAgICByZW1peENvbnRleHRSZWYuY3VycmVudC5tYW5pZmVzdCxcbiAgICAgICAgcmVtaXhDb250ZXh0UmVmLmN1cnJlbnQucm91dGVNb2R1bGVzXG4gICAgICApO1xuICAgICAgcm91dGVyUmVmLmN1cnJlbnQgPSBjcmVhdGVNZW1vcnlSb3V0ZXIocGF0Y2hlZCwge1xuICAgICAgICB1bnN0YWJsZV9nZXRDb250ZXh0LFxuICAgICAgICBpbml0aWFsRW50cmllcyxcbiAgICAgICAgaW5pdGlhbEluZGV4LFxuICAgICAgICBoeWRyYXRpb25EYXRhXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoRnJhbWV3b3JrQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogcmVtaXhDb250ZXh0UmVmLmN1cnJlbnQgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChSb3V0ZXJQcm92aWRlciwgeyByb3V0ZXI6IHJvdXRlclJlZi5jdXJyZW50IH0pKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NSb3V0ZXMocm91dGVzLCBtYW5pZmVzdCwgcm91dGVNb2R1bGVzLCBwYXJlbnRJZCkge1xuICByZXR1cm4gcm91dGVzLm1hcCgocm91dGUpID0+IHtcbiAgICBpZiAoIXJvdXRlLmlkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXhwZWN0ZWQgYSByb3V0ZS5pZCBpbiBAcmVtaXgtcnVuL3Rlc3RpbmcgcHJvY2Vzc1JvdXRlcygpIGZ1bmN0aW9uXCJcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCBuZXdSb3V0ZSA9IHtcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGgsXG4gICAgICBpbmRleDogcm91dGUuaW5kZXgsXG4gICAgICBDb21wb25lbnQ6IHJvdXRlLkNvbXBvbmVudCxcbiAgICAgIEh5ZHJhdGVGYWxsYmFjazogcm91dGUuSHlkcmF0ZUZhbGxiYWNrLFxuICAgICAgRXJyb3JCb3VuZGFyeTogcm91dGUuRXJyb3JCb3VuZGFyeSxcbiAgICAgIGFjdGlvbjogcm91dGUuYWN0aW9uLFxuICAgICAgbG9hZGVyOiByb3V0ZS5sb2FkZXIsXG4gICAgICBoYW5kbGU6IHJvdXRlLmhhbmRsZSxcbiAgICAgIHNob3VsZFJldmFsaWRhdGU6IHJvdXRlLnNob3VsZFJldmFsaWRhdGVcbiAgICB9O1xuICAgIGxldCBlbnRyeVJvdXRlID0ge1xuICAgICAgaWQ6IHJvdXRlLmlkLFxuICAgICAgcGF0aDogcm91dGUucGF0aCxcbiAgICAgIGluZGV4OiByb3V0ZS5pbmRleCxcbiAgICAgIHBhcmVudElkLFxuICAgICAgaGFzQWN0aW9uOiByb3V0ZS5hY3Rpb24gIT0gbnVsbCxcbiAgICAgIGhhc0xvYWRlcjogcm91dGUubG9hZGVyICE9IG51bGwsXG4gICAgICAvLyBXaGVuIHRlc3Rpbmcgcm91dGVzLCB5b3Ugc2hvdWxkIGp1c3QgYmUgc3R1YmJpbmcgbG9hZGVyL2FjdGlvbiwgbm90XG4gICAgICAvLyB0cnlpbmcgdG8gcmUtaW1wbGVtZW50IHRoZSBmdWxsIGxvYWRlci9jbGllbnRMb2FkZXIvU1NSL2h5ZHJhdGlvbiBmbG93LlxuICAgICAgLy8gVGhhdCBpcyBiZXR0ZXIgdGVzdGVkIHZpYSBFMkUgdGVzdHMuXG4gICAgICBoYXNDbGllbnRBY3Rpb246IGZhbHNlLFxuICAgICAgaGFzQ2xpZW50TG9hZGVyOiBmYWxzZSxcbiAgICAgIGhhc0Vycm9yQm91bmRhcnk6IHJvdXRlLkVycm9yQm91bmRhcnkgIT0gbnVsbCxcbiAgICAgIC8vIGFueSBuZWVkIGZvciB0aGVzZT9cbiAgICAgIG1vZHVsZTogXCJidWlsZC9zdHViLXBhdGgtdG8tbW9kdWxlLmpzXCIsXG4gICAgICBjbGllbnRBY3Rpb25Nb2R1bGU6IHZvaWQgMCxcbiAgICAgIGNsaWVudExvYWRlck1vZHVsZTogdm9pZCAwLFxuICAgICAgaHlkcmF0ZUZhbGxiYWNrTW9kdWxlOiB2b2lkIDBcbiAgICB9O1xuICAgIG1hbmlmZXN0LnJvdXRlc1tuZXdSb3V0ZS5pZF0gPSBlbnRyeVJvdXRlO1xuICAgIHJvdXRlTW9kdWxlc1tyb3V0ZS5pZF0gPSB7XG4gICAgICBkZWZhdWx0OiByb3V0ZS5Db21wb25lbnQgfHwgT3V0bGV0LFxuICAgICAgRXJyb3JCb3VuZGFyeTogcm91dGUuRXJyb3JCb3VuZGFyeSB8fCB2b2lkIDAsXG4gICAgICBoYW5kbGU6IHJvdXRlLmhhbmRsZSxcbiAgICAgIGxpbmtzOiByb3V0ZS5saW5rcyxcbiAgICAgIG1ldGE6IHJvdXRlLm1ldGEsXG4gICAgICBzaG91bGRSZXZhbGlkYXRlOiByb3V0ZS5zaG91bGRSZXZhbGlkYXRlXG4gICAgfTtcbiAgICBpZiAocm91dGUuY2hpbGRyZW4pIHtcbiAgICAgIG5ld1JvdXRlLmNoaWxkcmVuID0gcHJvY2Vzc1JvdXRlcyhcbiAgICAgICAgcm91dGUuY2hpbGRyZW4sXG4gICAgICAgIG1hbmlmZXN0LFxuICAgICAgICByb3V0ZU1vZHVsZXMsXG4gICAgICAgIG5ld1JvdXRlLmlkXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gbmV3Um91dGU7XG4gIH0pO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvY29va2llcy50c1xuaW1wb3J0IHsgcGFyc2UsIHNlcmlhbGl6ZSB9IGZyb20gXCJjb29raWVcIjtcblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2NyeXB0by50c1xudmFyIGVuY29kZXIgPSBuZXcgVGV4dEVuY29kZXIoKTtcbnZhciBzaWduID0gYXN5bmMgKHZhbHVlLCBzZWNyZXQpID0+IHtcbiAgbGV0IGRhdGEyID0gZW5jb2Rlci5lbmNvZGUodmFsdWUpO1xuICBsZXQga2V5ID0gYXdhaXQgY3JlYXRlS2V5MihzZWNyZXQsIFtcInNpZ25cIl0pO1xuICBsZXQgc2lnbmF0dXJlID0gYXdhaXQgY3J5cHRvLnN1YnRsZS5zaWduKFwiSE1BQ1wiLCBrZXksIGRhdGEyKTtcbiAgbGV0IGhhc2ggPSBidG9hKFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ubmV3IFVpbnQ4QXJyYXkoc2lnbmF0dXJlKSkpLnJlcGxhY2UoXG4gICAgLz0rJC8sXG4gICAgXCJcIlxuICApO1xuICByZXR1cm4gdmFsdWUgKyBcIi5cIiArIGhhc2g7XG59O1xudmFyIHVuc2lnbiA9IGFzeW5jIChjb29raWUsIHNlY3JldCkgPT4ge1xuICBsZXQgaW5kZXggPSBjb29raWUubGFzdEluZGV4T2YoXCIuXCIpO1xuICBsZXQgdmFsdWUgPSBjb29raWUuc2xpY2UoMCwgaW5kZXgpO1xuICBsZXQgaGFzaCA9IGNvb2tpZS5zbGljZShpbmRleCArIDEpO1xuICBsZXQgZGF0YTIgPSBlbmNvZGVyLmVuY29kZSh2YWx1ZSk7XG4gIGxldCBrZXkgPSBhd2FpdCBjcmVhdGVLZXkyKHNlY3JldCwgW1widmVyaWZ5XCJdKTtcbiAgbGV0IHNpZ25hdHVyZSA9IGJ5dGVTdHJpbmdUb1VpbnQ4QXJyYXkoYXRvYihoYXNoKSk7XG4gIGxldCB2YWxpZCA9IGF3YWl0IGNyeXB0by5zdWJ0bGUudmVyaWZ5KFwiSE1BQ1wiLCBrZXksIHNpZ25hdHVyZSwgZGF0YTIpO1xuICByZXR1cm4gdmFsaWQgPyB2YWx1ZSA6IGZhbHNlO1xufTtcbnZhciBjcmVhdGVLZXkyID0gYXN5bmMgKHNlY3JldCwgdXNhZ2VzKSA9PiBjcnlwdG8uc3VidGxlLmltcG9ydEtleShcbiAgXCJyYXdcIixcbiAgZW5jb2Rlci5lbmNvZGUoc2VjcmV0KSxcbiAgeyBuYW1lOiBcIkhNQUNcIiwgaGFzaDogXCJTSEEtMjU2XCIgfSxcbiAgZmFsc2UsXG4gIHVzYWdlc1xuKTtcbmZ1bmN0aW9uIGJ5dGVTdHJpbmdUb1VpbnQ4QXJyYXkoYnl0ZVN0cmluZykge1xuICBsZXQgYXJyYXkgPSBuZXcgVWludDhBcnJheShieXRlU3RyaW5nLmxlbmd0aCk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZVN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgIGFycmF5W2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBhcnJheTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2Nvb2tpZXMudHNcbnZhciBjcmVhdGVDb29raWUgPSAobmFtZSwgY29va2llT3B0aW9ucyA9IHt9KSA9PiB7XG4gIGxldCB7IHNlY3JldHMgPSBbXSwgLi4ub3B0aW9ucyB9ID0ge1xuICAgIHBhdGg6IFwiL1wiLFxuICAgIHNhbWVTaXRlOiBcImxheFwiLFxuICAgIC4uLmNvb2tpZU9wdGlvbnNcbiAgfTtcbiAgd2Fybk9uY2VBYm91dEV4cGlyZXNDb29raWUobmFtZSwgb3B0aW9ucy5leHBpcmVzKTtcbiAgcmV0dXJuIHtcbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH0sXG4gICAgZ2V0IGlzU2lnbmVkKCkge1xuICAgICAgcmV0dXJuIHNlY3JldHMubGVuZ3RoID4gMDtcbiAgICB9LFxuICAgIGdldCBleHBpcmVzKCkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBvcHRpb25zLm1heEFnZSAhPT0gXCJ1bmRlZmluZWRcIiA/IG5ldyBEYXRlKERhdGUubm93KCkgKyBvcHRpb25zLm1heEFnZSAqIDFlMykgOiBvcHRpb25zLmV4cGlyZXM7XG4gICAgfSxcbiAgICBhc3luYyBwYXJzZShjb29raWVIZWFkZXIsIHBhcnNlT3B0aW9ucykge1xuICAgICAgaWYgKCFjb29raWVIZWFkZXIpIHJldHVybiBudWxsO1xuICAgICAgbGV0IGNvb2tpZXMgPSBwYXJzZShjb29raWVIZWFkZXIsIHsgLi4ub3B0aW9ucywgLi4ucGFyc2VPcHRpb25zIH0pO1xuICAgICAgaWYgKG5hbWUgaW4gY29va2llcykge1xuICAgICAgICBsZXQgdmFsdWUgPSBjb29raWVzW25hbWVdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgbGV0IGRlY29kZWQgPSBhd2FpdCBkZWNvZGVDb29raWVWYWx1ZSh2YWx1ZSwgc2VjcmV0cyk7XG4gICAgICAgICAgcmV0dXJuIGRlY29kZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG4gICAgYXN5bmMgc2VyaWFsaXplKHZhbHVlLCBzZXJpYWxpemVPcHRpb25zKSB7XG4gICAgICByZXR1cm4gc2VyaWFsaXplKFxuICAgICAgICBuYW1lLFxuICAgICAgICB2YWx1ZSA9PT0gXCJcIiA/IFwiXCIgOiBhd2FpdCBlbmNvZGVDb29raWVWYWx1ZSh2YWx1ZSwgc2VjcmV0cyksXG4gICAgICAgIHtcbiAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIC4uLnNlcmlhbGl6ZU9wdGlvbnNcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH07XG59O1xudmFyIGlzQ29va2llID0gKG9iamVjdCkgPT4ge1xuICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgdHlwZW9mIG9iamVjdC5uYW1lID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBvYmplY3QuaXNTaWduZWQgPT09IFwiYm9vbGVhblwiICYmIHR5cGVvZiBvYmplY3QucGFyc2UgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqZWN0LnNlcmlhbGl6ZSA9PT0gXCJmdW5jdGlvblwiO1xufTtcbmFzeW5jIGZ1bmN0aW9uIGVuY29kZUNvb2tpZVZhbHVlKHZhbHVlLCBzZWNyZXRzKSB7XG4gIGxldCBlbmNvZGVkID0gZW5jb2RlRGF0YSh2YWx1ZSk7XG4gIGlmIChzZWNyZXRzLmxlbmd0aCA+IDApIHtcbiAgICBlbmNvZGVkID0gYXdhaXQgc2lnbihlbmNvZGVkLCBzZWNyZXRzWzBdKTtcbiAgfVxuICByZXR1cm4gZW5jb2RlZDtcbn1cbmFzeW5jIGZ1bmN0aW9uIGRlY29kZUNvb2tpZVZhbHVlKHZhbHVlLCBzZWNyZXRzKSB7XG4gIGlmIChzZWNyZXRzLmxlbmd0aCA+IDApIHtcbiAgICBmb3IgKGxldCBzZWNyZXQgb2Ygc2VjcmV0cykge1xuICAgICAgbGV0IHVuc2lnbmVkVmFsdWUgPSBhd2FpdCB1bnNpZ24odmFsdWUsIHNlY3JldCk7XG4gICAgICBpZiAodW5zaWduZWRWYWx1ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZURhdGEodW5zaWduZWRWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBkZWNvZGVEYXRhKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGVuY29kZURhdGEodmFsdWUpIHtcbiAgcmV0dXJuIGJ0b2EobXlVbmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSkpO1xufVxuZnVuY3Rpb24gZGVjb2RlRGF0YSh2YWx1ZSkge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChteUVzY2FwZShhdG9iKHZhbHVlKSkpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4ge307XG4gIH1cbn1cbmZ1bmN0aW9uIG15RXNjYXBlKHZhbHVlKSB7XG4gIGxldCBzdHIgPSB2YWx1ZS50b1N0cmluZygpO1xuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgbGV0IGluZGV4ID0gMDtcbiAgbGV0IGNociwgY29kZTtcbiAgd2hpbGUgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIGNociA9IHN0ci5jaGFyQXQoaW5kZXgrKyk7XG4gICAgaWYgKC9bXFx3KitcXC0uL0BdLy5leGVjKGNocikpIHtcbiAgICAgIHJlc3VsdCArPSBjaHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvZGUgPSBjaHIuY2hhckNvZGVBdCgwKTtcbiAgICAgIGlmIChjb2RlIDwgMjU2KSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiVcIiArIGhleChjb2RlLCAyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCArPSBcIiV1XCIgKyBoZXgoY29kZSwgNCkudG9VcHBlckNhc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGhleChjb2RlLCBsZW5ndGgpIHtcbiAgbGV0IHJlc3VsdCA9IGNvZGUudG9TdHJpbmcoMTYpO1xuICB3aGlsZSAocmVzdWx0Lmxlbmd0aCA8IGxlbmd0aCkgcmVzdWx0ID0gXCIwXCIgKyByZXN1bHQ7XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBteVVuZXNjYXBlKHZhbHVlKSB7XG4gIGxldCBzdHIgPSB2YWx1ZS50b1N0cmluZygpO1xuICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgbGV0IGluZGV4ID0gMDtcbiAgbGV0IGNociwgcGFydDtcbiAgd2hpbGUgKGluZGV4IDwgc3RyLmxlbmd0aCkge1xuICAgIGNociA9IHN0ci5jaGFyQXQoaW5kZXgrKyk7XG4gICAgaWYgKGNociA9PT0gXCIlXCIpIHtcbiAgICAgIGlmIChzdHIuY2hhckF0KGluZGV4KSA9PT0gXCJ1XCIpIHtcbiAgICAgICAgcGFydCA9IHN0ci5zbGljZShpbmRleCArIDEsIGluZGV4ICsgNSk7XG4gICAgICAgIGlmICgvXltcXGRhLWZdezR9JC9pLmV4ZWMocGFydCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChwYXJ0LCAxNikpO1xuICAgICAgICAgIGluZGV4ICs9IDU7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnQgPSBzdHIuc2xpY2UoaW5kZXgsIGluZGV4ICsgMik7XG4gICAgICAgIGlmICgvXltcXGRhLWZdezJ9JC9pLmV4ZWMocGFydCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChwYXJ0LCAxNikpO1xuICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0ICs9IGNocjtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gd2Fybk9uY2VBYm91dEV4cGlyZXNDb29raWUobmFtZSwgZXhwaXJlcykge1xuICB3YXJuT25jZShcbiAgICAhZXhwaXJlcyxcbiAgICBgVGhlIFwiJHtuYW1lfVwiIGNvb2tpZSBoYXMgYW4gXCJleHBpcmVzXCIgcHJvcGVydHkgc2V0LiBUaGlzIHdpbGwgY2F1c2UgdGhlIGV4cGlyZXMgdmFsdWUgdG8gbm90IGJlIHVwZGF0ZWQgd2hlbiB0aGUgc2Vzc2lvbiBpcyBjb21taXR0ZWQuIEluc3RlYWQsIHlvdSBzaG91bGQgc2V0IHRoZSBleHBpcmVzIHZhbHVlIHdoZW4gc2VyaWFsaXppbmcgdGhlIGNvb2tpZS4gWW91IGNhbiB1c2UgXFxgY29tbWl0U2Vzc2lvbihzZXNzaW9uLCB7IGV4cGlyZXMgfSlcXGAgaWYgdXNpbmcgYSBzZXNzaW9uIHN0b3JhZ2Ugb2JqZWN0LCBvciBcXGBjb29raWUuc2VyaWFsaXplKFwidmFsdWVcIiwgeyBleHBpcmVzIH0pXFxgIGlmIHlvdSdyZSB1c2luZyB0aGUgY29va2llIGRpcmVjdGx5LmBcbiAgKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2VudHJ5LnRzXG5mdW5jdGlvbiBjcmVhdGVFbnRyeVJvdXRlTW9kdWxlcyhtYW5pZmVzdCkge1xuICByZXR1cm4gT2JqZWN0LmtleXMobWFuaWZlc3QpLnJlZHVjZSgobWVtbzIsIHJvdXRlSWQpID0+IHtcbiAgICBsZXQgcm91dGUgPSBtYW5pZmVzdFtyb3V0ZUlkXTtcbiAgICBpZiAocm91dGUpIHtcbiAgICAgIG1lbW8yW3JvdXRlSWRdID0gcm91dGUubW9kdWxlO1xuICAgIH1cbiAgICByZXR1cm4gbWVtbzI7XG4gIH0sIHt9KTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL21vZGUudHNcbnZhciBTZXJ2ZXJNb2RlID0gLyogQF9fUFVSRV9fICovICgoU2VydmVyTW9kZTIpID0+IHtcbiAgU2VydmVyTW9kZTJbXCJEZXZlbG9wbWVudFwiXSA9IFwiZGV2ZWxvcG1lbnRcIjtcbiAgU2VydmVyTW9kZTJbXCJQcm9kdWN0aW9uXCJdID0gXCJwcm9kdWN0aW9uXCI7XG4gIFNlcnZlck1vZGUyW1wiVGVzdFwiXSA9IFwidGVzdFwiO1xuICByZXR1cm4gU2VydmVyTW9kZTI7XG59KShTZXJ2ZXJNb2RlIHx8IHt9KTtcbmZ1bmN0aW9uIGlzU2VydmVyTW9kZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IFwiZGV2ZWxvcG1lbnRcIiAvKiBEZXZlbG9wbWVudCAqLyB8fCB2YWx1ZSA9PT0gXCJwcm9kdWN0aW9uXCIgLyogUHJvZHVjdGlvbiAqLyB8fCB2YWx1ZSA9PT0gXCJ0ZXN0XCIgLyogVGVzdCAqLztcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2Vycm9ycy50c1xuZnVuY3Rpb24gc2FuaXRpemVFcnJvcihlcnJvciwgc2VydmVyTW9kZSkge1xuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBzZXJ2ZXJNb2RlICE9PSBcImRldmVsb3BtZW50XCIgLyogRGV2ZWxvcG1lbnQgKi8pIHtcbiAgICBsZXQgc2FuaXRpemVkID0gbmV3IEVycm9yKFwiVW5leHBlY3RlZCBTZXJ2ZXIgRXJyb3JcIik7XG4gICAgc2FuaXRpemVkLnN0YWNrID0gdm9pZCAwO1xuICAgIHJldHVybiBzYW5pdGl6ZWQ7XG4gIH1cbiAgcmV0dXJuIGVycm9yO1xufVxuZnVuY3Rpb24gc2FuaXRpemVFcnJvcnMoZXJyb3JzLCBzZXJ2ZXJNb2RlKSB7XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhlcnJvcnMpLnJlZHVjZSgoYWNjLCBbcm91dGVJZCwgZXJyb3JdKSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oYWNjLCB7IFtyb3V0ZUlkXTogc2FuaXRpemVFcnJvcihlcnJvciwgc2VydmVyTW9kZSkgfSk7XG4gIH0sIHt9KTtcbn1cbmZ1bmN0aW9uIHNlcmlhbGl6ZUVycm9yKGVycm9yLCBzZXJ2ZXJNb2RlKSB7XG4gIGxldCBzYW5pdGl6ZWQgPSBzYW5pdGl6ZUVycm9yKGVycm9yLCBzZXJ2ZXJNb2RlKTtcbiAgcmV0dXJuIHtcbiAgICBtZXNzYWdlOiBzYW5pdGl6ZWQubWVzc2FnZSxcbiAgICBzdGFjazogc2FuaXRpemVkLnN0YWNrXG4gIH07XG59XG5mdW5jdGlvbiBzZXJpYWxpemVFcnJvcnMyKGVycm9ycywgc2VydmVyTW9kZSkge1xuICBpZiAoIWVycm9ycykgcmV0dXJuIG51bGw7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZXJyb3JzKTtcbiAgbGV0IHNlcmlhbGl6ZWQgPSB7fTtcbiAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKGlzUm91dGVFcnJvclJlc3BvbnNlKHZhbCkpIHtcbiAgICAgIHNlcmlhbGl6ZWRba2V5XSA9IHsgLi4udmFsLCBfX3R5cGU6IFwiUm91dGVFcnJvclJlc3BvbnNlXCIgfTtcbiAgICB9IGVsc2UgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICBsZXQgc2FuaXRpemVkID0gc2FuaXRpemVFcnJvcih2YWwsIHNlcnZlck1vZGUpO1xuICAgICAgc2VyaWFsaXplZFtrZXldID0ge1xuICAgICAgICBtZXNzYWdlOiBzYW5pdGl6ZWQubWVzc2FnZSxcbiAgICAgICAgc3RhY2s6IHNhbml0aXplZC5zdGFjayxcbiAgICAgICAgX190eXBlOiBcIkVycm9yXCIsXG4gICAgICAgIC8vIElmIHRoaXMgaXMgYSBzdWJjbGFzcyAoaS5lLiwgUmVmZXJlbmNlRXJyb3IpLCBzZW5kIHVwIHRoZSB0eXBlIHNvIHdlXG4gICAgICAgIC8vIGNhbiByZS1jcmVhdGUgdGhlIHNhbWUgdHlwZSBkdXJpbmcgaHlkcmF0aW9uLiAgVGhpcyB3aWxsIG9ubHkgYXBwbHlcbiAgICAgICAgLy8gaW4gZGV2IG1vZGUgc2luY2UgYWxsIHByb2R1Y3Rpb24gZXJyb3JzIGFyZSBzYW5pdGl6ZWQgdG8gbm9ybWFsXG4gICAgICAgIC8vIEVycm9yIGluc3RhbmNlc1xuICAgICAgICAuLi5zYW5pdGl6ZWQubmFtZSAhPT0gXCJFcnJvclwiID8ge1xuICAgICAgICAgIF9fc3ViVHlwZTogc2FuaXRpemVkLm5hbWVcbiAgICAgICAgfSA6IHt9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG4gIHJldHVybiBzZXJpYWxpemVkO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvcm91dGVNYXRjaGluZy50c1xuZnVuY3Rpb24gbWF0Y2hTZXJ2ZXJSb3V0ZXMocm91dGVzLCBwYXRobmFtZSwgYmFzZW5hbWUpIHtcbiAgbGV0IG1hdGNoZXMgPSBtYXRjaFJvdXRlcyhcbiAgICByb3V0ZXMsXG4gICAgcGF0aG5hbWUsXG4gICAgYmFzZW5hbWVcbiAgKTtcbiAgaWYgKCFtYXRjaGVzKSByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIG1hdGNoZXMubWFwKChtYXRjaCkgPT4gKHtcbiAgICBwYXJhbXM6IG1hdGNoLnBhcmFtcyxcbiAgICBwYXRobmFtZTogbWF0Y2gucGF0aG5hbWUsXG4gICAgcm91dGU6IG1hdGNoLnJvdXRlXG4gIH0pKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2RhdGEudHNcbmFzeW5jIGZ1bmN0aW9uIGNhbGxSb3V0ZUhhbmRsZXIoaGFuZGxlciwgYXJncykge1xuICBsZXQgcmVzdWx0ID0gYXdhaXQgaGFuZGxlcih7XG4gICAgcmVxdWVzdDogc3RyaXBSb3V0ZXNQYXJhbShzdHJpcEluZGV4UGFyYW0yKGFyZ3MucmVxdWVzdCkpLFxuICAgIHBhcmFtczogYXJncy5wYXJhbXMsXG4gICAgY29udGV4dDogYXJncy5jb250ZXh0XG4gIH0pO1xuICBpZiAoaXNEYXRhV2l0aFJlc3BvbnNlSW5pdChyZXN1bHQpICYmIHJlc3VsdC5pbml0ICYmIHJlc3VsdC5pbml0LnN0YXR1cyAmJiBpc1JlZGlyZWN0U3RhdHVzQ29kZShyZXN1bHQuaW5pdC5zdGF0dXMpKSB7XG4gICAgdGhyb3cgbmV3IFJlc3BvbnNlKG51bGwsIHJlc3VsdC5pbml0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gc3RyaXBJbmRleFBhcmFtMihyZXF1ZXN0KSB7XG4gIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgbGV0IGluZGV4VmFsdWVzID0gdXJsLnNlYXJjaFBhcmFtcy5nZXRBbGwoXCJpbmRleFwiKTtcbiAgdXJsLnNlYXJjaFBhcmFtcy5kZWxldGUoXCJpbmRleFwiKTtcbiAgbGV0IGluZGV4VmFsdWVzVG9LZWVwID0gW107XG4gIGZvciAobGV0IGluZGV4VmFsdWUgb2YgaW5kZXhWYWx1ZXMpIHtcbiAgICBpZiAoaW5kZXhWYWx1ZSkge1xuICAgICAgaW5kZXhWYWx1ZXNUb0tlZXAucHVzaChpbmRleFZhbHVlKTtcbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgdG9LZWVwIG9mIGluZGV4VmFsdWVzVG9LZWVwKSB7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJpbmRleFwiLCB0b0tlZXApO1xuICB9XG4gIGxldCBpbml0ID0ge1xuICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgYm9keTogcmVxdWVzdC5ib2R5LFxuICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsXG4gIH07XG4gIGlmIChpbml0LmJvZHkpIHtcbiAgICBpbml0LmR1cGxleCA9IFwiaGFsZlwiO1xuICB9XG4gIHJldHVybiBuZXcgUmVxdWVzdCh1cmwuaHJlZiwgaW5pdCk7XG59XG5mdW5jdGlvbiBzdHJpcFJvdXRlc1BhcmFtKHJlcXVlc3QpIHtcbiAgbGV0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICB1cmwuc2VhcmNoUGFyYW1zLmRlbGV0ZShcIl9yb3V0ZXNcIik7XG4gIGxldCBpbml0ID0ge1xuICAgIG1ldGhvZDogcmVxdWVzdC5tZXRob2QsXG4gICAgYm9keTogcmVxdWVzdC5ib2R5LFxuICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICBzaWduYWw6IHJlcXVlc3Quc2lnbmFsXG4gIH07XG4gIGlmIChpbml0LmJvZHkpIHtcbiAgICBpbml0LmR1cGxleCA9IFwiaGFsZlwiO1xuICB9XG4gIHJldHVybiBuZXcgUmVxdWVzdCh1cmwuaHJlZiwgaW5pdCk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9pbnZhcmlhbnQudHNcbmZ1bmN0aW9uIGludmFyaWFudDModmFsdWUsIG1lc3NhZ2UpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJUaGUgZm9sbG93aW5nIGVycm9yIGlzIGEgYnVnIGluIFJlYWN0IFJvdXRlcjsgcGxlYXNlIG9wZW4gYW4gaXNzdWUhIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vcmVhY3Qtcm91dGVyL2lzc3Vlcy9uZXcvY2hvb3NlXCJcbiAgICApO1xuICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgfVxufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvcm91dGVzLnRzXG5mdW5jdGlvbiBncm91cFJvdXRlc0J5UGFyZW50SWQyKG1hbmlmZXN0KSB7XG4gIGxldCByb3V0ZXMgPSB7fTtcbiAgT2JqZWN0LnZhbHVlcyhtYW5pZmVzdCkuZm9yRWFjaCgocm91dGUpID0+IHtcbiAgICBpZiAocm91dGUpIHtcbiAgICAgIGxldCBwYXJlbnRJZCA9IHJvdXRlLnBhcmVudElkIHx8IFwiXCI7XG4gICAgICBpZiAoIXJvdXRlc1twYXJlbnRJZF0pIHtcbiAgICAgICAgcm91dGVzW3BhcmVudElkXSA9IFtdO1xuICAgICAgfVxuICAgICAgcm91dGVzW3BhcmVudElkXS5wdXNoKHJvdXRlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcm91dGVzO1xufVxuZnVuY3Rpb24gY3JlYXRlUm91dGVzKG1hbmlmZXN0LCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQyKG1hbmlmZXN0KSkge1xuICByZXR1cm4gKHJvdXRlc0J5UGFyZW50SWRbcGFyZW50SWRdIHx8IFtdKS5tYXAoKHJvdXRlKSA9PiAoe1xuICAgIC4uLnJvdXRlLFxuICAgIGNoaWxkcmVuOiBjcmVhdGVSb3V0ZXMobWFuaWZlc3QsIHJvdXRlLmlkLCByb3V0ZXNCeVBhcmVudElkKVxuICB9KSk7XG59XG5mdW5jdGlvbiBjcmVhdGVTdGF0aWNIYW5kbGVyRGF0YVJvdXRlcyhtYW5pZmVzdCwgZnV0dXJlLCBwYXJlbnRJZCA9IFwiXCIsIHJvdXRlc0J5UGFyZW50SWQgPSBncm91cFJvdXRlc0J5UGFyZW50SWQyKG1hbmlmZXN0KSkge1xuICByZXR1cm4gKHJvdXRlc0J5UGFyZW50SWRbcGFyZW50SWRdIHx8IFtdKS5tYXAoKHJvdXRlKSA9PiB7XG4gICAgbGV0IGNvbW1vblJvdXRlID0ge1xuICAgICAgLy8gQWx3YXlzIGluY2x1ZGUgcm9vdCBkdWUgdG8gZGVmYXVsdCBib3VuZGFyaWVzXG4gICAgICBoYXNFcnJvckJvdW5kYXJ5OiByb3V0ZS5pZCA9PT0gXCJyb290XCIgfHwgcm91dGUubW9kdWxlLkVycm9yQm91bmRhcnkgIT0gbnVsbCxcbiAgICAgIGlkOiByb3V0ZS5pZCxcbiAgICAgIHBhdGg6IHJvdXRlLnBhdGgsXG4gICAgICB1bnN0YWJsZV9taWRkbGV3YXJlOiByb3V0ZS5tb2R1bGUudW5zdGFibGVfbWlkZGxld2FyZSxcbiAgICAgIC8vIE5lZWQgdG8gdXNlIFJSJ3MgdmVyc2lvbiBpbiB0aGUgcGFyYW0gdHlwZWQgaGVyZSB0byBwZXJtaXQgdGhlIG9wdGlvbmFsXG4gICAgICAvLyBjb250ZXh0IGV2ZW4gdGhvdWdoIHdlIGtub3cgaXQnbGwgYWx3YXlzIGJlIHByb3ZpZGVkIGluIHJlbWl4XG4gICAgICBsb2FkZXI6IHJvdXRlLm1vZHVsZS5sb2FkZXIgPyBhc3luYyAoYXJncykgPT4ge1xuICAgICAgICBpZiAoYXJncy5yZXF1ZXN0LmhlYWRlcnMuaGFzKFwiWC1SZWFjdC1Sb3V0ZXItUHJlcmVuZGVyLURhdGFcIikpIHtcbiAgICAgICAgICBjb25zdCBwcmVSZW5kZXJlZERhdGEgPSBhcmdzLnJlcXVlc3QuaGVhZGVycy5nZXQoXG4gICAgICAgICAgICBcIlgtUmVhY3QtUm91dGVyLVByZXJlbmRlci1EYXRhXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIGxldCBlbmNvZGVkID0gcHJlUmVuZGVyZWREYXRhID8gZGVjb2RlVVJJKHByZVJlbmRlcmVkRGF0YSkgOiBwcmVSZW5kZXJlZERhdGE7XG4gICAgICAgICAgaW52YXJpYW50MyhlbmNvZGVkLCBcIk1pc3NpbmcgcHJlcmVuZGVyZWQgZGF0YSBmb3Igcm91dGVcIik7XG4gICAgICAgICAgbGV0IHVpbnQ4YXJyYXkgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoZW5jb2RlZCk7XG4gICAgICAgICAgbGV0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh1aW50OGFycmF5KTtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxldCBkZWNvZGVkID0gYXdhaXQgZGVjb2RlVmlhVHVyYm9TdHJlYW0oc3RyZWFtLCBnbG9iYWwpO1xuICAgICAgICAgIGxldCBkYXRhMiA9IGRlY29kZWQudmFsdWU7XG4gICAgICAgICAgaW52YXJpYW50MyhcbiAgICAgICAgICAgIGRhdGEyICYmIHJvdXRlLmlkIGluIGRhdGEyLFxuICAgICAgICAgICAgXCJVbmFibGUgdG8gZGVjb2RlIHByZXJlbmRlcmVkIGRhdGFcIlxuICAgICAgICAgICk7XG4gICAgICAgICAgbGV0IHJlc3VsdCA9IGRhdGEyW3JvdXRlLmlkXTtcbiAgICAgICAgICBpbnZhcmlhbnQzKFwiZGF0YVwiIGluIHJlc3VsdCwgXCJVbmFibGUgdG8gcHJvY2VzcyBwcmVyZW5kZXJlZCBkYXRhXCIpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdmFsID0gYXdhaXQgY2FsbFJvdXRlSGFuZGxlcihyb3V0ZS5tb2R1bGUubG9hZGVyLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH0gOiB2b2lkIDAsXG4gICAgICBhY3Rpb246IHJvdXRlLm1vZHVsZS5hY3Rpb24gPyAoYXJncykgPT4gY2FsbFJvdXRlSGFuZGxlcihyb3V0ZS5tb2R1bGUuYWN0aW9uLCBhcmdzKSA6IHZvaWQgMCxcbiAgICAgIGhhbmRsZTogcm91dGUubW9kdWxlLmhhbmRsZVxuICAgIH07XG4gICAgcmV0dXJuIHJvdXRlLmluZGV4ID8ge1xuICAgICAgaW5kZXg6IHRydWUsXG4gICAgICAuLi5jb21tb25Sb3V0ZVxuICAgIH0gOiB7XG4gICAgICBjYXNlU2Vuc2l0aXZlOiByb3V0ZS5jYXNlU2Vuc2l0aXZlLFxuICAgICAgY2hpbGRyZW46IGNyZWF0ZVN0YXRpY0hhbmRsZXJEYXRhUm91dGVzKFxuICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgZnV0dXJlLFxuICAgICAgICByb3V0ZS5pZCxcbiAgICAgICAgcm91dGVzQnlQYXJlbnRJZFxuICAgICAgKSxcbiAgICAgIC4uLmNvbW1vblJvdXRlXG4gICAgfTtcbiAgfSk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9tYXJrdXAudHNcbnZhciBFU0NBUEVfTE9PS1VQMyA9IHtcbiAgXCImXCI6IFwiXFxcXHUwMDI2XCIsXG4gIFwiPlwiOiBcIlxcXFx1MDAzZVwiLFxuICBcIjxcIjogXCJcXFxcdTAwM2NcIixcbiAgXCJcXHUyMDI4XCI6IFwiXFxcXHUyMDI4XCIsXG4gIFwiXFx1MjAyOVwiOiBcIlxcXFx1MjAyOVwiXG59O1xudmFyIEVTQ0FQRV9SRUdFWDMgPSAvWyY+PFxcdTIwMjhcXHUyMDI5XS9nO1xuZnVuY3Rpb24gZXNjYXBlSHRtbDIoaHRtbCkge1xuICByZXR1cm4gaHRtbC5yZXBsYWNlKEVTQ0FQRV9SRUdFWDMsIChtYXRjaCkgPT4gRVNDQVBFX0xPT0tVUDNbbWF0Y2hdKTtcbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3NlcnZlckhhbmRvZmYudHNcbmZ1bmN0aW9uIGNyZWF0ZVNlcnZlckhhbmRvZmZTdHJpbmcoc2VydmVySGFuZG9mZikge1xuICByZXR1cm4gZXNjYXBlSHRtbDIoSlNPTi5zdHJpbmdpZnkoc2VydmVySGFuZG9mZikpO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvZGV2LnRzXG52YXIgZ2xvYmFsRGV2U2VydmVySG9va3NLZXkgPSBcIl9fcmVhY3RSb3V0ZXJEZXZTZXJ2ZXJIb29rc1wiO1xuZnVuY3Rpb24gc2V0RGV2U2VydmVySG9va3MoZGV2U2VydmVySG9va3MpIHtcbiAgZ2xvYmFsVGhpc1tnbG9iYWxEZXZTZXJ2ZXJIb29rc0tleV0gPSBkZXZTZXJ2ZXJIb29rcztcbn1cbmZ1bmN0aW9uIGdldERldlNlcnZlckhvb2tzKCkge1xuICByZXR1cm4gZ2xvYmFsVGhpc1tnbG9iYWxEZXZTZXJ2ZXJIb29rc0tleV07XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zaW5nbGUtZmV0Y2gudHNcbmltcG9ydCB7IGVuY29kZSB9IGZyb20gXCJ0dXJiby1zdHJlYW1cIjtcblxuLy8gbGliL3NlcnZlci1ydW50aW1lL2hlYWRlcnMudHNcbmltcG9ydCB7IHNwbGl0Q29va2llc1N0cmluZyB9IGZyb20gXCJzZXQtY29va2llLXBhcnNlclwiO1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnRIZWFkZXJzKGJ1aWxkLCBjb250ZXh0KSB7XG4gIGxldCBib3VuZGFyeUlkeCA9IGNvbnRleHQuZXJyb3JzID8gY29udGV4dC5tYXRjaGVzLmZpbmRJbmRleCgobSkgPT4gY29udGV4dC5lcnJvcnNbbS5yb3V0ZS5pZF0pIDogLTE7XG4gIGxldCBtYXRjaGVzID0gYm91bmRhcnlJZHggPj0gMCA/IGNvbnRleHQubWF0Y2hlcy5zbGljZSgwLCBib3VuZGFyeUlkeCArIDEpIDogY29udGV4dC5tYXRjaGVzO1xuICBsZXQgZXJyb3JIZWFkZXJzO1xuICBpZiAoYm91bmRhcnlJZHggPj0gMCkge1xuICAgIGxldCB7IGFjdGlvbkhlYWRlcnMsIGFjdGlvbkRhdGEsIGxvYWRlckhlYWRlcnMsIGxvYWRlckRhdGEgfSA9IGNvbnRleHQ7XG4gICAgY29udGV4dC5tYXRjaGVzLnNsaWNlKGJvdW5kYXJ5SWR4KS5zb21lKChtYXRjaCkgPT4ge1xuICAgICAgbGV0IGlkID0gbWF0Y2gucm91dGUuaWQ7XG4gICAgICBpZiAoYWN0aW9uSGVhZGVyc1tpZF0gJiYgKCFhY3Rpb25EYXRhIHx8ICFhY3Rpb25EYXRhLmhhc093blByb3BlcnR5KGlkKSkpIHtcbiAgICAgICAgZXJyb3JIZWFkZXJzID0gYWN0aW9uSGVhZGVyc1tpZF07XG4gICAgICB9IGVsc2UgaWYgKGxvYWRlckhlYWRlcnNbaWRdICYmICFsb2FkZXJEYXRhLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgICBlcnJvckhlYWRlcnMgPSBsb2FkZXJIZWFkZXJzW2lkXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlcnJvckhlYWRlcnMgIT0gbnVsbDtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcy5yZWR1Y2UoKHBhcmVudEhlYWRlcnMsIG1hdGNoLCBpZHgpID0+IHtcbiAgICBsZXQgeyBpZCB9ID0gbWF0Y2gucm91dGU7XG4gICAgbGV0IHJvdXRlID0gYnVpbGQucm91dGVzW2lkXTtcbiAgICBpbnZhcmlhbnQzKHJvdXRlLCBgUm91dGUgd2l0aCBpZCBcIiR7aWR9XCIgbm90IGZvdW5kIGluIGJ1aWxkYCk7XG4gICAgbGV0IHJvdXRlTW9kdWxlID0gcm91dGUubW9kdWxlO1xuICAgIGxldCBsb2FkZXJIZWFkZXJzID0gY29udGV4dC5sb2FkZXJIZWFkZXJzW2lkXSB8fCBuZXcgSGVhZGVycygpO1xuICAgIGxldCBhY3Rpb25IZWFkZXJzID0gY29udGV4dC5hY3Rpb25IZWFkZXJzW2lkXSB8fCBuZXcgSGVhZGVycygpO1xuICAgIGxldCBpbmNsdWRlRXJyb3JIZWFkZXJzID0gZXJyb3JIZWFkZXJzICE9IG51bGwgJiYgaWR4ID09PSBtYXRjaGVzLmxlbmd0aCAtIDE7XG4gICAgbGV0IGluY2x1ZGVFcnJvckNvb2tpZXMgPSBpbmNsdWRlRXJyb3JIZWFkZXJzICYmIGVycm9ySGVhZGVycyAhPT0gbG9hZGVySGVhZGVycyAmJiBlcnJvckhlYWRlcnMgIT09IGFjdGlvbkhlYWRlcnM7XG4gICAgaWYgKHJvdXRlTW9kdWxlLmhlYWRlcnMgPT0gbnVsbCkge1xuICAgICAgbGV0IGhlYWRlcnMyID0gbmV3IEhlYWRlcnMocGFyZW50SGVhZGVycyk7XG4gICAgICBpZiAoaW5jbHVkZUVycm9yQ29va2llcykge1xuICAgICAgICBwcmVwZW5kQ29va2llcyhlcnJvckhlYWRlcnMsIGhlYWRlcnMyKTtcbiAgICAgIH1cbiAgICAgIHByZXBlbmRDb29raWVzKGFjdGlvbkhlYWRlcnMsIGhlYWRlcnMyKTtcbiAgICAgIHByZXBlbmRDb29raWVzKGxvYWRlckhlYWRlcnMsIGhlYWRlcnMyKTtcbiAgICAgIHJldHVybiBoZWFkZXJzMjtcbiAgICB9XG4gICAgbGV0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhcbiAgICAgIHJvdXRlTW9kdWxlLmhlYWRlcnMgPyB0eXBlb2Ygcm91dGVNb2R1bGUuaGVhZGVycyA9PT0gXCJmdW5jdGlvblwiID8gcm91dGVNb2R1bGUuaGVhZGVycyh7XG4gICAgICAgIGxvYWRlckhlYWRlcnMsXG4gICAgICAgIHBhcmVudEhlYWRlcnMsXG4gICAgICAgIGFjdGlvbkhlYWRlcnMsXG4gICAgICAgIGVycm9ySGVhZGVyczogaW5jbHVkZUVycm9ySGVhZGVycyA/IGVycm9ySGVhZGVycyA6IHZvaWQgMFxuICAgICAgfSkgOiByb3V0ZU1vZHVsZS5oZWFkZXJzIDogdm9pZCAwXG4gICAgKTtcbiAgICBpZiAoaW5jbHVkZUVycm9yQ29va2llcykge1xuICAgICAgcHJlcGVuZENvb2tpZXMoZXJyb3JIZWFkZXJzLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgcHJlcGVuZENvb2tpZXMoYWN0aW9uSGVhZGVycywgaGVhZGVycyk7XG4gICAgcHJlcGVuZENvb2tpZXMobG9hZGVySGVhZGVycywgaGVhZGVycyk7XG4gICAgcHJlcGVuZENvb2tpZXMocGFyZW50SGVhZGVycywgaGVhZGVycyk7XG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIH0sIG5ldyBIZWFkZXJzKCkpO1xufVxuZnVuY3Rpb24gcHJlcGVuZENvb2tpZXMocGFyZW50SGVhZGVycywgY2hpbGRIZWFkZXJzKSB7XG4gIGxldCBwYXJlbnRTZXRDb29raWVTdHJpbmcgPSBwYXJlbnRIZWFkZXJzLmdldChcIlNldC1Db29raWVcIik7XG4gIGlmIChwYXJlbnRTZXRDb29raWVTdHJpbmcpIHtcbiAgICBsZXQgY29va2llcyA9IHNwbGl0Q29va2llc1N0cmluZyhwYXJlbnRTZXRDb29raWVTdHJpbmcpO1xuICAgIGxldCBjaGlsZENvb2tpZXMgPSBuZXcgU2V0KGNoaWxkSGVhZGVycy5nZXRTZXRDb29raWUoKSk7XG4gICAgY29va2llcy5mb3JFYWNoKChjb29raWUpID0+IHtcbiAgICAgIGlmICghY2hpbGRDb29raWVzLmhhcyhjb29raWUpKSB7XG4gICAgICAgIGNoaWxkSGVhZGVycy5hcHBlbmQoXCJTZXQtQ29va2llXCIsIGNvb2tpZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuLy8gbGliL3NlcnZlci1ydW50aW1lL3NpbmdsZS1mZXRjaC50c1xudmFyIE5PX0JPRFlfU1RBVFVTX0NPREVTID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWzEwMCwgMTAxLCAyMDQsIDIwNSwgMzA0XSk7XG52YXIgU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVUyA9IDIwMjtcbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoQWN0aW9uKGJ1aWxkLCBzZXJ2ZXJNb2RlLCBzdGF0aWNIYW5kbGVyLCByZXF1ZXN0LCBoYW5kbGVyVXJsLCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IpIHtcbiAgdHJ5IHtcbiAgICBsZXQgcmVzcG9uZDIgPSBmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICBsZXQgaGVhZGVycyA9IGdldERvY3VtZW50SGVhZGVycyhidWlsZCwgY29udGV4dCk7XG4gICAgICBpZiAoaXNSZWRpcmVjdFN0YXR1c0NvZGUoY29udGV4dC5zdGF0dXNDb2RlKSAmJiBoZWFkZXJzLmhhcyhcIkxvY2F0aW9uXCIpKSB7XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgICByZXN1bHQ6IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgICBjb250ZXh0LnN0YXR1c0NvZGUsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYnVpbGQuYmFzZW5hbWVcbiAgICAgICAgICApLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgc3RhdHVzOiBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQuZXJyb3JzKSB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29udGV4dC5lcnJvcnMpLmZvckVhY2goKGVycikgPT4ge1xuICAgICAgICAgIGlmICghaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyKSB8fCBlcnIuZXJyb3IpIHtcbiAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5lcnJvcnMgPSBzYW5pdGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSk7XG4gICAgICB9XG4gICAgICBsZXQgc2luZ2xlRmV0Y2hSZXN1bHQ7XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgc2luZ2xlRmV0Y2hSZXN1bHQgPSB7IGVycm9yOiBPYmplY3QudmFsdWVzKGNvbnRleHQuZXJyb3JzKVswXSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2luZ2xlRmV0Y2hSZXN1bHQgPSB7XG4gICAgICAgICAgZGF0YTogT2JqZWN0LnZhbHVlcyhjb250ZXh0LmFjdGlvbkRhdGEgfHwge30pWzBdXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICAgIHJlc3VsdDogc2luZ2xlRmV0Y2hSZXN1bHQsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogY29udGV4dC5zdGF0dXNDb2RlXG4gICAgICB9KTtcbiAgICB9O1xuICAgIHZhciByZXNwb25kID0gcmVzcG9uZDI7XG4gICAgbGV0IGhhbmRsZXJSZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaGFuZGxlclVybCwge1xuICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgIGJvZHk6IHJlcXVlc3QuYm9keSxcbiAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWwsXG4gICAgICAuLi5yZXF1ZXN0LmJvZHkgPyB7IGR1cGxleDogXCJoYWxmXCIgfSA6IHZvaWQgMFxuICAgIH0pO1xuICAgIGxldCByZXN1bHQgPSBhd2FpdCBzdGF0aWNIYW5kbGVyLnF1ZXJ5KGhhbmRsZXJSZXF1ZXN0LCB7XG4gICAgICByZXF1ZXN0Q29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICBza2lwTG9hZGVyRXJyb3JCdWJibGluZzogdHJ1ZSxcbiAgICAgIHNraXBSZXZhbGlkYXRpb246IHRydWUsXG4gICAgICB1bnN0YWJsZV9yZXNwb25kOiByZXNwb25kMlxuICAgIH0pO1xuICAgIGlmICghaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXN1bHQgPSByZXNwb25kMihyZXN1bHQpO1xuICAgIH1cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgcmVzdWx0OiBnZXRTaW5nbGVGZXRjaFJlZGlyZWN0KFxuICAgICAgICAgIHJlc3VsdC5zdGF0dXMsXG4gICAgICAgICAgcmVzdWx0LmhlYWRlcnMsXG4gICAgICAgICAgYnVpbGQuYmFzZW5hbWVcbiAgICAgICAgKSxcbiAgICAgICAgaGVhZGVyczogcmVzdWx0LmhlYWRlcnMsXG4gICAgICAgIHN0YXR1czogU0lOR0xFX0ZFVENIX1JFRElSRUNUX1NUQVRVU1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgIHJlc3VsdDogeyBlcnJvciB9LFxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoKSxcbiAgICAgIHN0YXR1czogNTAwXG4gICAgfSk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIHNpbmdsZUZldGNoTG9hZGVycyhidWlsZCwgc2VydmVyTW9kZSwgc3RhdGljSGFuZGxlciwgcmVxdWVzdCwgaGFuZGxlclVybCwgbG9hZENvbnRleHQsIGhhbmRsZUVycm9yKSB7XG4gIHRyeSB7XG4gICAgbGV0IHJlc3BvbmQyID0gZnVuY3Rpb24oY29udGV4dCkge1xuICAgICAgbGV0IGhlYWRlcnMgPSBnZXREb2N1bWVudEhlYWRlcnMoYnVpbGQsIGNvbnRleHQpO1xuICAgICAgaWYgKGlzUmVkaXJlY3RTdGF0dXNDb2RlKGNvbnRleHQuc3RhdHVzQ29kZSkgJiYgaGVhZGVycy5oYXMoXCJMb2NhdGlvblwiKSkge1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgICBbU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbF06IGdldFNpbmdsZUZldGNoUmVkaXJlY3QoXG4gICAgICAgICAgICAgIGNvbnRleHQuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgYnVpbGQuYmFzZW5hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgc3RhdHVzOiBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnRleHQuZXJyb3JzKSB7XG4gICAgICAgIE9iamVjdC52YWx1ZXMoY29udGV4dC5lcnJvcnMpLmZvckVhY2goKGVycikgPT4ge1xuICAgICAgICAgIGlmICghaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyKSB8fCBlcnIuZXJyb3IpIHtcbiAgICAgICAgICAgIGhhbmRsZUVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY29udGV4dC5lcnJvcnMgPSBzYW5pdGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSk7XG4gICAgICB9XG4gICAgICBsZXQgcmVzdWx0cyA9IHt9O1xuICAgICAgbGV0IGxvYWRlZE1hdGNoZXMgPSBuZXcgU2V0KFxuICAgICAgICBjb250ZXh0Lm1hdGNoZXMuZmlsdGVyKFxuICAgICAgICAgIChtKSA9PiBsb2FkUm91dGVJZHMgPyBsb2FkUm91dGVJZHMuaGFzKG0ucm91dGUuaWQpIDogbS5yb3V0ZS5sb2FkZXIgIT0gbnVsbFxuICAgICAgICApLm1hcCgobSkgPT4gbS5yb3V0ZS5pZClcbiAgICAgICk7XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgZm9yIChsZXQgW2lkLCBlcnJvcl0gb2YgT2JqZWN0LmVudHJpZXMoY29udGV4dC5lcnJvcnMpKSB7XG4gICAgICAgICAgcmVzdWx0c1tpZF0gPSB7IGVycm9yIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZvciAobGV0IFtpZCwgZGF0YTJdIG9mIE9iamVjdC5lbnRyaWVzKGNvbnRleHQubG9hZGVyRGF0YSkpIHtcbiAgICAgICAgaWYgKCEoaWQgaW4gcmVzdWx0cykgJiYgbG9hZGVkTWF0Y2hlcy5oYXMoaWQpKSB7XG4gICAgICAgICAgcmVzdWx0c1tpZF0gPSB7IGRhdGE6IGRhdGEyIH07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgcmVzdWx0OiByZXN1bHRzLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IGNvbnRleHQuc3RhdHVzQ29kZVxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgcmVzcG9uZCA9IHJlc3BvbmQyO1xuICAgIGxldCBoYW5kbGVyUmVxdWVzdCA9IG5ldyBSZXF1ZXN0KGhhbmRsZXJVcmwsIHtcbiAgICAgIGhlYWRlcnM6IHJlcXVlc3QuaGVhZGVycyxcbiAgICAgIHNpZ25hbDogcmVxdWVzdC5zaWduYWxcbiAgICB9KTtcbiAgICBsZXQgcm91dGVzUGFyYW0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKS5zZWFyY2hQYXJhbXMuZ2V0KFwiX3JvdXRlc1wiKTtcbiAgICBsZXQgbG9hZFJvdXRlSWRzID0gcm91dGVzUGFyYW0gPyBuZXcgU2V0KHJvdXRlc1BhcmFtLnNwbGl0KFwiLFwiKSkgOiBudWxsO1xuICAgIGxldCByZXN1bHQgPSBhd2FpdCBzdGF0aWNIYW5kbGVyLnF1ZXJ5KGhhbmRsZXJSZXF1ZXN0LCB7XG4gICAgICByZXF1ZXN0Q29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICBmaWx0ZXJNYXRjaGVzVG9Mb2FkOiAobSkgPT4gIWxvYWRSb3V0ZUlkcyB8fCBsb2FkUm91dGVJZHMuaGFzKG0ucm91dGUuaWQpLFxuICAgICAgc2tpcExvYWRlckVycm9yQnViYmxpbmc6IHRydWUsXG4gICAgICB1bnN0YWJsZV9yZXNwb25kOiByZXNwb25kMlxuICAgIH0pO1xuICAgIGlmICghaXNSZXNwb25zZShyZXN1bHQpKSB7XG4gICAgICByZXN1bHQgPSByZXNwb25kMihyZXN1bHQpO1xuICAgIH1cbiAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3VsdCkpIHtcbiAgICAgIHJldHVybiBnZW5lcmF0ZVNpbmdsZUZldGNoUmVzcG9uc2UocmVxdWVzdCwgYnVpbGQsIHNlcnZlck1vZGUsIHtcbiAgICAgICAgcmVzdWx0OiB7XG4gICAgICAgICAgW1NpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2xdOiBnZXRTaW5nbGVGZXRjaFJlZGlyZWN0KFxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cyxcbiAgICAgICAgICAgIHJlc3VsdC5oZWFkZXJzLFxuICAgICAgICAgICAgYnVpbGQuYmFzZW5hbWVcbiAgICAgICAgICApXG4gICAgICAgIH0sXG4gICAgICAgIGhlYWRlcnM6IHJlc3VsdC5oZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IFNJTkdMRV9GRVRDSF9SRURJUkVDVF9TVEFUVVNcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gICAgICByZXN1bHQ6IHsgcm9vdDogeyBlcnJvciB9IH0sXG4gICAgICBoZWFkZXJzOiBuZXcgSGVhZGVycygpLFxuICAgICAgc3RhdHVzOiA1MDBcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gZ2VuZXJhdGVTaW5nbGVGZXRjaFJlc3BvbnNlKHJlcXVlc3QsIGJ1aWxkLCBzZXJ2ZXJNb2RlLCB7XG4gIHJlc3VsdCxcbiAgaGVhZGVycyxcbiAgc3RhdHVzXG59KSB7XG4gIGxldCByZXN1bHRIZWFkZXJzID0gbmV3IEhlYWRlcnMoaGVhZGVycyk7XG4gIHJlc3VsdEhlYWRlcnMuc2V0KFwiWC1SZW1peC1SZXNwb25zZVwiLCBcInllc1wiKTtcbiAgaWYgKE5PX0JPRFlfU1RBVFVTX0NPREVTLmhhcyhzdGF0dXMpKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7IHN0YXR1cywgaGVhZGVyczogcmVzdWx0SGVhZGVycyB9KTtcbiAgfVxuICByZXN1bHRIZWFkZXJzLnNldChcIkNvbnRlbnQtVHlwZVwiLCBcInRleHQveC1zY3JpcHRcIik7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgZW5jb2RlVmlhVHVyYm9TdHJlYW0oXG4gICAgICByZXN1bHQsXG4gICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgIGJ1aWxkLmVudHJ5Lm1vZHVsZS5zdHJlYW1UaW1lb3V0LFxuICAgICAgc2VydmVyTW9kZVxuICAgICksXG4gICAge1xuICAgICAgc3RhdHVzOiBzdGF0dXMgfHwgMjAwLFxuICAgICAgaGVhZGVyczogcmVzdWx0SGVhZGVyc1xuICAgIH1cbiAgKTtcbn1cbmZ1bmN0aW9uIGdldFNpbmdsZUZldGNoUmVkaXJlY3Qoc3RhdHVzLCBoZWFkZXJzLCBiYXNlbmFtZSkge1xuICBsZXQgcmVkaXJlY3QyID0gaGVhZGVycy5nZXQoXCJMb2NhdGlvblwiKTtcbiAgaWYgKGJhc2VuYW1lKSB7XG4gICAgcmVkaXJlY3QyID0gc3RyaXBCYXNlbmFtZShyZWRpcmVjdDIsIGJhc2VuYW1lKSB8fCByZWRpcmVjdDI7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICByZWRpcmVjdDogcmVkaXJlY3QyLFxuICAgIHN0YXR1cyxcbiAgICByZXZhbGlkYXRlOiAoXG4gICAgICAvLyBUZWNobmljYWxseSBYLVJlbWl4LVJldmFsaWRhdGUgaXNuJ3QgbmVlZGVkIGhlcmUgLSB0aGF0IHdhcyBhbiBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gZGV0YWlsIG9mID9fZGF0YSByZXF1ZXN0cyBhcyBvdXIgd2F5IHRvIHRlbGwgdGhlIGZyb250IGVuZCB0byByZXZhbGlkYXRlIHdoZW5cbiAgICAgIC8vIHdlIGRpZG4ndCBoYXZlIGEgcmVzcG9uc2UgYm9keSB0byBpbmNsdWRlIHRoYXQgaW5mb3JtYXRpb24gaW4uXG4gICAgICAvLyBXaXRoIHNpbmdsZSBmZXRjaCwgd2UgdGVsbCB0aGUgZnJvbnQgZW5kIHZpYSB0aGlzIHJldmFsaWRhdGUgYm9vbGVhbiBmaWVsZC5cbiAgICAgIC8vIEhvd2V2ZXIsIHdlJ3JlIHJlc3BlY3RpbmcgaXQgZm9yIG5vdyBiZWNhdXNlIGl0IG1heSBiZSBzb21ldGhpbmcgZm9sa3MgaGF2ZVxuICAgICAgLy8gdXNlZCBpbiB0aGVpciBvd24gcmVzcG9uc2VzXG4gICAgICAvLyBUT0RPKHYzKTogQ29uc2lkZXIgcmVtb3Zpbmcgb3IgbWFraW5nIHRoaXMgb2ZmaWNpYWwgcHVibGljIEFQSVxuICAgICAgaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJldmFsaWRhdGVcIikgfHwgaGVhZGVycy5oYXMoXCJTZXQtQ29va2llXCIpXG4gICAgKSxcbiAgICByZWxvYWQ6IGhlYWRlcnMuaGFzKFwiWC1SZW1peC1SZWxvYWQtRG9jdW1lbnRcIiksXG4gICAgcmVwbGFjZTogaGVhZGVycy5oYXMoXCJYLVJlbWl4LVJlcGxhY2VcIilcbiAgfTtcbn1cbmZ1bmN0aW9uIGVuY29kZVZpYVR1cmJvU3RyZWFtKGRhdGEyLCByZXF1ZXN0U2lnbmFsLCBzdHJlYW1UaW1lb3V0LCBzZXJ2ZXJNb2RlKSB7XG4gIGxldCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICBsZXQgdGltZW91dElkID0gc2V0VGltZW91dChcbiAgICAoKSA9PiBjb250cm9sbGVyLmFib3J0KG5ldyBFcnJvcihcIlNlcnZlciBUaW1lb3V0XCIpKSxcbiAgICB0eXBlb2Ygc3RyZWFtVGltZW91dCA9PT0gXCJudW1iZXJcIiA/IHN0cmVhbVRpbWVvdXQgOiA0OTUwXG4gICk7XG4gIHJlcXVlc3RTaWduYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsICgpID0+IGNsZWFyVGltZW91dCh0aW1lb3V0SWQpKTtcbiAgcmV0dXJuIGVuY29kZShkYXRhMiwge1xuICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgcGx1Z2luczogW1xuICAgICAgKHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgbGV0IHsgbmFtZSwgbWVzc2FnZSwgc3RhY2sgfSA9IHNlcnZlck1vZGUgPT09IFwicHJvZHVjdGlvblwiIC8qIFByb2R1Y3Rpb24gKi8gPyBzYW5pdGl6ZUVycm9yKHZhbHVlLCBzZXJ2ZXJNb2RlKSA6IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBbXCJTYW5pdGl6ZWRFcnJvclwiLCBuYW1lLCBtZXNzYWdlLCBzdGFja107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgRXJyb3JSZXNwb25zZUltcGwpIHtcbiAgICAgICAgICBsZXQgeyBkYXRhOiBkYXRhMywgc3RhdHVzLCBzdGF0dXNUZXh0IH0gPSB2YWx1ZTtcbiAgICAgICAgICByZXR1cm4gW1wiRXJyb3JSZXNwb25zZVwiLCBkYXRhMywgc3RhdHVzLCBzdGF0dXNUZXh0XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIFNpbmdsZUZldGNoUmVkaXJlY3RTeW1ib2wgaW4gdmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gW1wiU2luZ2xlRmV0Y2hSZWRpcmVjdFwiLCB2YWx1ZVtTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLFxuICAgIHBvc3RQbHVnaW5zOiBbXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSByZXR1cm47XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgXCJTaW5nbGVGZXRjaENsYXNzSW5zdGFuY2VcIixcbiAgICAgICAgICBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModmFsdWUpKVxuICAgICAgICBdO1xuICAgICAgfSxcbiAgICAgICgpID0+IFtcIlNpbmdsZUZldGNoRmFsbGJhY2tcIl1cbiAgICBdXG4gIH0pO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2VydmVyLnRzXG5mdW5jdGlvbiBkZXJpdmUoYnVpbGQsIG1vZGUpIHtcbiAgbGV0IHJvdXRlcyA9IGNyZWF0ZVJvdXRlcyhidWlsZC5yb3V0ZXMpO1xuICBsZXQgZGF0YVJvdXRlcyA9IGNyZWF0ZVN0YXRpY0hhbmRsZXJEYXRhUm91dGVzKGJ1aWxkLnJvdXRlcywgYnVpbGQuZnV0dXJlKTtcbiAgbGV0IHNlcnZlck1vZGUgPSBpc1NlcnZlck1vZGUobW9kZSkgPyBtb2RlIDogXCJwcm9kdWN0aW9uXCIgLyogUHJvZHVjdGlvbiAqLztcbiAgbGV0IHN0YXRpY0hhbmRsZXIgPSBjcmVhdGVTdGF0aWNIYW5kbGVyKGRhdGFSb3V0ZXMsIHtcbiAgICBiYXNlbmFtZTogYnVpbGQuYmFzZW5hbWVcbiAgfSk7XG4gIGxldCBlcnJvckhhbmRsZXIgPSBidWlsZC5lbnRyeS5tb2R1bGUuaGFuZGxlRXJyb3IgfHwgKChlcnJvciwgeyByZXF1ZXN0IH0pID0+IHtcbiAgICBpZiAoc2VydmVyTW9kZSAhPT0gXCJ0ZXN0XCIgLyogVGVzdCAqLyAmJiAhcmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBUaGlzIGlzIFwicHJpdmF0ZVwiIGZyb20gdXNlcnMgYnV0IGludGVuZGVkIGZvciBpbnRlcm5hbCB1c2VcbiAgICAgICAgaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpICYmIGVycm9yLmVycm9yID8gZXJyb3IuZXJyb3IgOiBlcnJvclxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIHJvdXRlcyxcbiAgICBkYXRhUm91dGVzLFxuICAgIHNlcnZlck1vZGUsXG4gICAgc3RhdGljSGFuZGxlcixcbiAgICBlcnJvckhhbmRsZXJcbiAgfTtcbn1cbnZhciBjcmVhdGVSZXF1ZXN0SGFuZGxlciA9IChidWlsZCwgbW9kZSkgPT4ge1xuICBsZXQgX2J1aWxkO1xuICBsZXQgcm91dGVzO1xuICBsZXQgc2VydmVyTW9kZTtcbiAgbGV0IHN0YXRpY0hhbmRsZXI7XG4gIGxldCBlcnJvckhhbmRsZXI7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiByZXF1ZXN0SGFuZGxlcihyZXF1ZXN0LCBpbml0aWFsQ29udGV4dCkge1xuICAgIF9idWlsZCA9IHR5cGVvZiBidWlsZCA9PT0gXCJmdW5jdGlvblwiID8gYXdhaXQgYnVpbGQoKSA6IGJ1aWxkO1xuICAgIGxldCBsb2FkQ29udGV4dCA9IF9idWlsZC5mdXR1cmUudW5zdGFibGVfbWlkZGxld2FyZSA/IG5ldyB1bnN0YWJsZV9Sb3V0ZXJDb250ZXh0UHJvdmlkZXIoXG4gICAgICBpbml0aWFsQ29udGV4dFxuICAgICkgOiBpbml0aWFsQ29udGV4dCB8fCB7fTtcbiAgICBpZiAodHlwZW9mIGJ1aWxkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGxldCBkZXJpdmVkID0gZGVyaXZlKF9idWlsZCwgbW9kZSk7XG4gICAgICByb3V0ZXMgPSBkZXJpdmVkLnJvdXRlcztcbiAgICAgIHNlcnZlck1vZGUgPSBkZXJpdmVkLnNlcnZlck1vZGU7XG4gICAgICBzdGF0aWNIYW5kbGVyID0gZGVyaXZlZC5zdGF0aWNIYW5kbGVyO1xuICAgICAgZXJyb3JIYW5kbGVyID0gZGVyaXZlZC5lcnJvckhhbmRsZXI7XG4gICAgfSBlbHNlIGlmICghcm91dGVzIHx8ICFzZXJ2ZXJNb2RlIHx8ICFzdGF0aWNIYW5kbGVyIHx8ICFlcnJvckhhbmRsZXIpIHtcbiAgICAgIGxldCBkZXJpdmVkID0gZGVyaXZlKF9idWlsZCwgbW9kZSk7XG4gICAgICByb3V0ZXMgPSBkZXJpdmVkLnJvdXRlcztcbiAgICAgIHNlcnZlck1vZGUgPSBkZXJpdmVkLnNlcnZlck1vZGU7XG4gICAgICBzdGF0aWNIYW5kbGVyID0gZGVyaXZlZC5zdGF0aWNIYW5kbGVyO1xuICAgICAgZXJyb3JIYW5kbGVyID0gZGVyaXZlZC5lcnJvckhhbmRsZXI7XG4gICAgfVxuICAgIGxldCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBsZXQgbm9ybWFsaXplZEJhc2VuYW1lID0gX2J1aWxkLmJhc2VuYW1lIHx8IFwiL1wiO1xuICAgIGxldCBub3JtYWxpemVkUGF0aCA9IHVybC5wYXRobmFtZTtcbiAgICBpZiAoc3RyaXBCYXNlbmFtZShub3JtYWxpemVkUGF0aCwgbm9ybWFsaXplZEJhc2VuYW1lKSA9PT0gXCIvX3Jvb3QuZGF0YVwiKSB7XG4gICAgICBub3JtYWxpemVkUGF0aCA9IG5vcm1hbGl6ZWRCYXNlbmFtZTtcbiAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWRQYXRoLmVuZHNXaXRoKFwiLmRhdGFcIikpIHtcbiAgICAgIG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplZFBhdGgucmVwbGFjZSgvXFwuZGF0YSQvLCBcIlwiKTtcbiAgICB9XG4gICAgaWYgKHN0cmlwQmFzZW5hbWUobm9ybWFsaXplZFBhdGgsIG5vcm1hbGl6ZWRCYXNlbmFtZSkgIT09IFwiL1wiICYmIG5vcm1hbGl6ZWRQYXRoLmVuZHNXaXRoKFwiL1wiKSkge1xuICAgICAgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVkUGF0aC5zbGljZSgwLCAtMSk7XG4gICAgfVxuICAgIGxldCBwYXJhbXMgPSB7fTtcbiAgICBsZXQgaGFuZGxlRXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgIGlmIChtb2RlID09PSBcImRldmVsb3BtZW50XCIgLyogRGV2ZWxvcG1lbnQgKi8pIHtcbiAgICAgICAgZ2V0RGV2U2VydmVySG9va3MoKT8ucHJvY2Vzc1JlcXVlc3RFcnJvcj8uKGVycm9yKTtcbiAgICAgIH1cbiAgICAgIGVycm9ySGFuZGxlcihlcnJvciwge1xuICAgICAgICBjb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICByZXF1ZXN0XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGlmICghX2J1aWxkLnNzcikge1xuICAgICAgaWYgKF9idWlsZC5wcmVyZW5kZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJlcXVlc3QuaGVhZGVycy5zZXQoXCJYLVJlYWN0LVJvdXRlci1TUEEtTW9kZVwiLCBcInllc1wiKTtcbiAgICAgIH0gZWxzZSBpZiAoIV9idWlsZC5wcmVyZW5kZXIuaW5jbHVkZXMobm9ybWFsaXplZFBhdGgpICYmICFfYnVpbGQucHJlcmVuZGVyLmluY2x1ZGVzKG5vcm1hbGl6ZWRQYXRoICsgXCIvXCIpKSB7XG4gICAgICAgIGlmICh1cmwucGF0aG5hbWUuZW5kc1dpdGgoXCIuZGF0YVwiKSkge1xuICAgICAgICAgIGVycm9ySGFuZGxlcihcbiAgICAgICAgICAgIG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgICAgICAgNDA0LFxuICAgICAgICAgICAgICBcIk5vdCBGb3VuZFwiLFxuICAgICAgICAgICAgICBgUmVmdXNpbmcgdG8gU1NSIHRoZSBwYXRoIFxcYCR7bm9ybWFsaXplZFBhdGh9XFxgIGJlY2F1c2UgXFxgc3NyOmZhbHNlXFxgIGlzIHNldCBhbmQgdGhlIHBhdGggaXMgbm90IGluY2x1ZGVkIGluIHRoZSBcXGBwcmVyZW5kZXJcXGAgY29uZmlnLCBzbyBpbiBwcm9kdWN0aW9uIHRoZSBwYXRoIHdpbGwgYmUgYSA0MDQuYFxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgY29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgcmVxdWVzdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIk5vdCBGb3VuZFwiLCB7XG4gICAgICAgICAgICBzdGF0dXM6IDQwNCxcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IFwiTm90IEZvdW5kXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXF1ZXN0LmhlYWRlcnMuc2V0KFwiWC1SZWFjdC1Sb3V0ZXItU1BBLU1vZGVcIiwgXCJ5ZXNcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IG1hbmlmZXN0VXJsID0gYCR7bm9ybWFsaXplZEJhc2VuYW1lfS9fX21hbmlmZXN0YC5yZXBsYWNlKC9cXC8rL2csIFwiL1wiKTtcbiAgICBpZiAodXJsLnBhdGhuYW1lID09PSBtYW5pZmVzdFVybCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IGhhbmRsZU1hbmlmZXN0UmVxdWVzdChfYnVpbGQsIHJvdXRlcywgdXJsKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZSk7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXCJVbmtub3duIFNlcnZlciBFcnJvclwiLCB7IHN0YXR1czogNTAwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgbWF0Y2hlcyA9IG1hdGNoU2VydmVyUm91dGVzKHJvdXRlcywgdXJsLnBhdGhuYW1lLCBfYnVpbGQuYmFzZW5hbWUpO1xuICAgIGlmIChtYXRjaGVzICYmIG1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgT2JqZWN0LmFzc2lnbihwYXJhbXMsIG1hdGNoZXNbMF0ucGFyYW1zKTtcbiAgICB9XG4gICAgbGV0IHJlc3BvbnNlO1xuICAgIGlmICh1cmwucGF0aG5hbWUuZW5kc1dpdGgoXCIuZGF0YVwiKSkge1xuICAgICAgbGV0IGhhbmRsZXJVcmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgIGhhbmRsZXJVcmwucGF0aG5hbWUgPSBub3JtYWxpemVkUGF0aDtcbiAgICAgIGxldCBzaW5nbGVGZXRjaE1hdGNoZXMgPSBtYXRjaFNlcnZlclJvdXRlcyhcbiAgICAgICAgcm91dGVzLFxuICAgICAgICBoYW5kbGVyVXJsLnBhdGhuYW1lLFxuICAgICAgICBfYnVpbGQuYmFzZW5hbWVcbiAgICAgICk7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVNpbmdsZUZldGNoUmVxdWVzdChcbiAgICAgICAgc2VydmVyTW9kZSxcbiAgICAgICAgX2J1aWxkLFxuICAgICAgICBzdGF0aWNIYW5kbGVyLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICBoYW5kbGVyVXJsLFxuICAgICAgICBsb2FkQ29udGV4dCxcbiAgICAgICAgaGFuZGxlRXJyb3JcbiAgICAgICk7XG4gICAgICBpZiAoX2J1aWxkLmVudHJ5Lm1vZHVsZS5oYW5kbGVEYXRhUmVxdWVzdCkge1xuICAgICAgICByZXNwb25zZSA9IGF3YWl0IF9idWlsZC5lbnRyeS5tb2R1bGUuaGFuZGxlRGF0YVJlcXVlc3QocmVzcG9uc2UsIHtcbiAgICAgICAgICBjb250ZXh0OiBsb2FkQ29udGV4dCxcbiAgICAgICAgICBwYXJhbXM6IHNpbmdsZUZldGNoTWF0Y2hlcyA/IHNpbmdsZUZldGNoTWF0Y2hlc1swXS5wYXJhbXMgOiB7fSxcbiAgICAgICAgICByZXF1ZXN0XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNSZWRpcmVjdFJlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICAgIGxldCByZXN1bHQgPSBnZXRTaW5nbGVGZXRjaFJlZGlyZWN0KFxuICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgIF9idWlsZC5iYXNlbmFtZVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBcIkdFVFwiKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB7XG4gICAgICAgICAgICAgIFtTaW5nbGVGZXRjaFJlZGlyZWN0U3ltYm9sXTogcmVzdWx0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgIGhlYWRlcnMuc2V0KFwiQ29udGVudC1UeXBlXCIsIFwidGV4dC94LXNjcmlwdFwiKTtcbiAgICAgICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKFxuICAgICAgICAgICAgZW5jb2RlVmlhVHVyYm9TdHJlYW0oXG4gICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgcmVxdWVzdC5zaWduYWwsXG4gICAgICAgICAgICAgIF9idWlsZC5lbnRyeS5tb2R1bGUuc3RyZWFtVGltZW91dCxcbiAgICAgICAgICAgICAgc2VydmVyTW9kZVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBTSU5HTEVfRkVUQ0hfUkVESVJFQ1RfU1RBVFVTLFxuICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoIXJlcXVlc3QuaGVhZGVycy5oYXMoXCJYLVJlYWN0LVJvdXRlci1TUEEtTW9kZVwiKSAmJiBtYXRjaGVzICYmIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5tb2R1bGUuZGVmYXVsdCA9PSBudWxsICYmIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5yb3V0ZS5tb2R1bGUuRXJyb3JCb3VuZGFyeSA9PSBudWxsKSB7XG4gICAgICByZXNwb25zZSA9IGF3YWl0IGhhbmRsZVJlc291cmNlUmVxdWVzdChcbiAgICAgICAgc2VydmVyTW9kZSxcbiAgICAgICAgX2J1aWxkLFxuICAgICAgICBzdGF0aWNIYW5kbGVyLFxuICAgICAgICBtYXRjaGVzLnNsaWNlKC0xKVswXS5yb3V0ZS5pZCxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgbG9hZENvbnRleHQsXG4gICAgICAgIGhhbmRsZUVycm9yXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgeyBwYXRobmFtZSB9ID0gdXJsO1xuICAgICAgbGV0IGNyaXRpY2FsQ3NzID0gdm9pZCAwO1xuICAgICAgaWYgKF9idWlsZC5nZXRDcml0aWNhbENzcykge1xuICAgICAgICBjcml0aWNhbENzcyA9IGF3YWl0IF9idWlsZC5nZXRDcml0aWNhbENzcyh7IHBhdGhuYW1lIH0pO1xuICAgICAgfSBlbHNlIGlmIChtb2RlID09PSBcImRldmVsb3BtZW50XCIgLyogRGV2ZWxvcG1lbnQgKi8gJiYgZ2V0RGV2U2VydmVySG9va3MoKT8uZ2V0Q3JpdGljYWxDc3MpIHtcbiAgICAgICAgY3JpdGljYWxDc3MgPSBhd2FpdCBnZXREZXZTZXJ2ZXJIb29rcygpPy5nZXRDcml0aWNhbENzcz8uKHBhdGhuYW1lKTtcbiAgICAgIH1cbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlRG9jdW1lbnRSZXF1ZXN0KFxuICAgICAgICBzZXJ2ZXJNb2RlLFxuICAgICAgICBfYnVpbGQsXG4gICAgICAgIHN0YXRpY0hhbmRsZXIsXG4gICAgICAgIHJlcXVlc3QsXG4gICAgICAgIGxvYWRDb250ZXh0LFxuICAgICAgICBoYW5kbGVFcnJvcixcbiAgICAgICAgY3JpdGljYWxDc3NcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChyZXF1ZXN0Lm1ldGhvZCA9PT0gXCJIRUFEXCIpIHtcbiAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfTtcbn07XG5hc3luYyBmdW5jdGlvbiBoYW5kbGVNYW5pZmVzdFJlcXVlc3QoYnVpbGQsIHJvdXRlcywgdXJsKSB7XG4gIGlmIChidWlsZC5hc3NldHMudmVyc2lvbiAhPT0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJ2ZXJzaW9uXCIpKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICBzdGF0dXM6IDIwNCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJYLVJlbWl4LVJlbG9hZC1Eb2N1bWVudFwiOiBcInRydWVcIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGxldCBwYXRjaGVzID0ge307XG4gIGlmICh1cmwuc2VhcmNoUGFyYW1zLmhhcyhcInBcIikpIHtcbiAgICBmb3IgKGxldCBwYXRoIG9mIHVybC5zZWFyY2hQYXJhbXMuZ2V0QWxsKFwicFwiKSkge1xuICAgICAgbGV0IG1hdGNoZXMgPSBtYXRjaFNlcnZlclJvdXRlcyhyb3V0ZXMsIHBhdGgsIGJ1aWxkLmJhc2VuYW1lKTtcbiAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIGZvciAobGV0IG1hdGNoIG9mIG1hdGNoZXMpIHtcbiAgICAgICAgICBsZXQgcm91dGVJZCA9IG1hdGNoLnJvdXRlLmlkO1xuICAgICAgICAgIGxldCByb3V0ZSA9IGJ1aWxkLmFzc2V0cy5yb3V0ZXNbcm91dGVJZF07XG4gICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICBwYXRjaGVzW3JvdXRlSWRdID0gcm91dGU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHBhdGNoZXMsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDYWNoZS1Db250cm9sXCI6IFwicHVibGljLCBtYXgtYWdlPTMxNTM2MDAwLCBpbW11dGFibGVcIlxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBuZXcgUmVzcG9uc2UoXCJJbnZhbGlkIFJlcXVlc3RcIiwgeyBzdGF0dXM6IDQwMCB9KTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVNpbmdsZUZldGNoUmVxdWVzdChzZXJ2ZXJNb2RlLCBidWlsZCwgc3RhdGljSGFuZGxlciwgcmVxdWVzdCwgaGFuZGxlclVybCwgbG9hZENvbnRleHQsIGhhbmRsZUVycm9yKSB7XG4gIGxldCByZXNwb25zZSA9IHJlcXVlc3QubWV0aG9kICE9PSBcIkdFVFwiID8gYXdhaXQgc2luZ2xlRmV0Y2hBY3Rpb24oXG4gICAgYnVpbGQsXG4gICAgc2VydmVyTW9kZSxcbiAgICBzdGF0aWNIYW5kbGVyLFxuICAgIHJlcXVlc3QsXG4gICAgaGFuZGxlclVybCxcbiAgICBsb2FkQ29udGV4dCxcbiAgICBoYW5kbGVFcnJvclxuICApIDogYXdhaXQgc2luZ2xlRmV0Y2hMb2FkZXJzKFxuICAgIGJ1aWxkLFxuICAgIHNlcnZlck1vZGUsXG4gICAgc3RhdGljSGFuZGxlcixcbiAgICByZXF1ZXN0LFxuICAgIGhhbmRsZXJVcmwsXG4gICAgbG9hZENvbnRleHQsXG4gICAgaGFuZGxlRXJyb3JcbiAgKTtcbiAgcmV0dXJuIHJlc3BvbnNlO1xufVxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlRG9jdW1lbnRSZXF1ZXN0KHNlcnZlck1vZGUsIGJ1aWxkLCBzdGF0aWNIYW5kbGVyLCByZXF1ZXN0LCBsb2FkQ29udGV4dCwgaGFuZGxlRXJyb3IsIGNyaXRpY2FsQ3NzKSB7XG4gIGxldCBpc1NwYU1vZGUgPSByZXF1ZXN0LmhlYWRlcnMuaGFzKFwiWC1SZWFjdC1Sb3V0ZXItU1BBLU1vZGVcIik7XG4gIHRyeSB7XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc3RhdGljSGFuZGxlci5xdWVyeShyZXF1ZXN0LCB7XG4gICAgICByZXF1ZXN0Q29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICB1bnN0YWJsZV9yZXNwb25kOiBidWlsZC5mdXR1cmUudW5zdGFibGVfbWlkZGxld2FyZSA/IChjdHgpID0+IHJlbmRlckh0bWwoY3R4LCBpc1NwYU1vZGUpIDogdm9pZCAwXG4gICAgfSk7XG4gICAgcmV0dXJuIGlzUmVzcG9uc2UocmVzcG9uc2UpID8gcmVzcG9uc2UgOiByZW5kZXJIdG1sKHJlc3BvbnNlLCBpc1NwYU1vZGUpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGhhbmRsZUVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsgc3RhdHVzOiA1MDAgfSk7XG4gIH1cbiAgYXN5bmMgZnVuY3Rpb24gcmVuZGVySHRtbChjb250ZXh0LCBpc1NwYU1vZGUyKSB7XG4gICAgaWYgKGlzUmVzcG9uc2UoY29udGV4dCkpIHtcbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbiAgICBsZXQgaGVhZGVycyA9IGdldERvY3VtZW50SGVhZGVycyhidWlsZCwgY29udGV4dCk7XG4gICAgaWYgKE5PX0JPRFlfU1RBVFVTX0NPREVTLmhhcyhjb250ZXh0LnN0YXR1c0NvZGUpKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHsgc3RhdHVzOiBjb250ZXh0LnN0YXR1c0NvZGUsIGhlYWRlcnMgfSk7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LmVycm9ycykge1xuICAgICAgT2JqZWN0LnZhbHVlcyhjb250ZXh0LmVycm9ycykuZm9yRWFjaCgoZXJyKSA9PiB7XG4gICAgICAgIGlmICghaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyKSB8fCBlcnIuZXJyb3IpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnRleHQuZXJyb3JzID0gc2FuaXRpemVFcnJvcnMoY29udGV4dC5lcnJvcnMsIHNlcnZlck1vZGUpO1xuICAgIH1cbiAgICBsZXQgc3RhdGUgPSB7XG4gICAgICBsb2FkZXJEYXRhOiBjb250ZXh0LmxvYWRlckRhdGEsXG4gICAgICBhY3Rpb25EYXRhOiBjb250ZXh0LmFjdGlvbkRhdGEsXG4gICAgICBlcnJvcnM6IHNlcmlhbGl6ZUVycm9yczIoY29udGV4dC5lcnJvcnMsIHNlcnZlck1vZGUpXG4gICAgfTtcbiAgICBsZXQgZW50cnlDb250ZXh0ID0ge1xuICAgICAgbWFuaWZlc3Q6IGJ1aWxkLmFzc2V0cyxcbiAgICAgIHJvdXRlTW9kdWxlczogY3JlYXRlRW50cnlSb3V0ZU1vZHVsZXMoYnVpbGQucm91dGVzKSxcbiAgICAgIHN0YXRpY0hhbmRsZXJDb250ZXh0OiBjb250ZXh0LFxuICAgICAgY3JpdGljYWxDc3MsXG4gICAgICBzZXJ2ZXJIYW5kb2ZmU3RyaW5nOiBjcmVhdGVTZXJ2ZXJIYW5kb2ZmU3RyaW5nKHtcbiAgICAgICAgYmFzZW5hbWU6IGJ1aWxkLmJhc2VuYW1lLFxuICAgICAgICBjcml0aWNhbENzcyxcbiAgICAgICAgZnV0dXJlOiBidWlsZC5mdXR1cmUsXG4gICAgICAgIHNzcjogYnVpbGQuc3NyLFxuICAgICAgICBpc1NwYU1vZGU6IGlzU3BhTW9kZTJcbiAgICAgIH0pLFxuICAgICAgc2VydmVySGFuZG9mZlN0cmVhbTogZW5jb2RlVmlhVHVyYm9TdHJlYW0oXG4gICAgICAgIHN0YXRlLFxuICAgICAgICByZXF1ZXN0LnNpZ25hbCxcbiAgICAgICAgYnVpbGQuZW50cnkubW9kdWxlLnN0cmVhbVRpbWVvdXQsXG4gICAgICAgIHNlcnZlck1vZGVcbiAgICAgICksXG4gICAgICByZW5kZXJNZXRhOiB7fSxcbiAgICAgIGZ1dHVyZTogYnVpbGQuZnV0dXJlLFxuICAgICAgc3NyOiBidWlsZC5zc3IsXG4gICAgICBpc1NwYU1vZGU6IGlzU3BhTW9kZTIsXG4gICAgICBzZXJpYWxpemVFcnJvcjogKGVycikgPT4gc2VyaWFsaXplRXJyb3IoZXJyLCBzZXJ2ZXJNb2RlKVxuICAgIH07XG4gICAgbGV0IGhhbmRsZURvY3VtZW50UmVxdWVzdEZ1bmN0aW9uID0gYnVpbGQuZW50cnkubW9kdWxlLmRlZmF1bHQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVEb2N1bWVudFJlcXVlc3RGdW5jdGlvbihcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgY29udGV4dC5zdGF0dXNDb2RlLFxuICAgICAgICBoZWFkZXJzLFxuICAgICAgICBlbnRyeUNvbnRleHQsXG4gICAgICAgIGxvYWRDb250ZXh0XG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICBsZXQgZXJyb3JGb3JTZWNvbmRSZW5kZXIgPSBlcnJvcjtcbiAgICAgIGlmIChpc1Jlc3BvbnNlKGVycm9yKSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGxldCBkYXRhMiA9IGF3YWl0IHVud3JhcFJlc3BvbnNlKGVycm9yKTtcbiAgICAgICAgICBlcnJvckZvclNlY29uZFJlbmRlciA9IG5ldyBFcnJvclJlc3BvbnNlSW1wbChcbiAgICAgICAgICAgIGVycm9yLnN0YXR1cyxcbiAgICAgICAgICAgIGVycm9yLnN0YXR1c1RleHQsXG4gICAgICAgICAgICBkYXRhMlxuICAgICAgICAgICk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29udGV4dCA9IGdldFN0YXRpY0NvbnRleHRGcm9tRXJyb3IoXG4gICAgICAgIHN0YXRpY0hhbmRsZXIuZGF0YVJvdXRlcyxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgZXJyb3JGb3JTZWNvbmRSZW5kZXJcbiAgICAgICk7XG4gICAgICBpZiAoY29udGV4dC5lcnJvcnMpIHtcbiAgICAgICAgY29udGV4dC5lcnJvcnMgPSBzYW5pdGl6ZUVycm9ycyhjb250ZXh0LmVycm9ycywgc2VydmVyTW9kZSk7XG4gICAgICB9XG4gICAgICBsZXQgc3RhdGUyID0ge1xuICAgICAgICBsb2FkZXJEYXRhOiBjb250ZXh0LmxvYWRlckRhdGEsXG4gICAgICAgIGFjdGlvbkRhdGE6IGNvbnRleHQuYWN0aW9uRGF0YSxcbiAgICAgICAgZXJyb3JzOiBzZXJpYWxpemVFcnJvcnMyKGNvbnRleHQuZXJyb3JzLCBzZXJ2ZXJNb2RlKVxuICAgICAgfTtcbiAgICAgIGVudHJ5Q29udGV4dCA9IHtcbiAgICAgICAgLi4uZW50cnlDb250ZXh0LFxuICAgICAgICBzdGF0aWNIYW5kbGVyQ29udGV4dDogY29udGV4dCxcbiAgICAgICAgc2VydmVySGFuZG9mZlN0cmluZzogY3JlYXRlU2VydmVySGFuZG9mZlN0cmluZyh7XG4gICAgICAgICAgYmFzZW5hbWU6IGJ1aWxkLmJhc2VuYW1lLFxuICAgICAgICAgIGZ1dHVyZTogYnVpbGQuZnV0dXJlLFxuICAgICAgICAgIHNzcjogYnVpbGQuc3NyLFxuICAgICAgICAgIGlzU3BhTW9kZTogaXNTcGFNb2RlMlxuICAgICAgICB9KSxcbiAgICAgICAgc2VydmVySGFuZG9mZlN0cmVhbTogZW5jb2RlVmlhVHVyYm9TdHJlYW0oXG4gICAgICAgICAgc3RhdGUyLFxuICAgICAgICAgIHJlcXVlc3Quc2lnbmFsLFxuICAgICAgICAgIGJ1aWxkLmVudHJ5Lm1vZHVsZS5zdHJlYW1UaW1lb3V0LFxuICAgICAgICAgIHNlcnZlck1vZGVcbiAgICAgICAgKSxcbiAgICAgICAgcmVuZGVyTWV0YToge31cbiAgICAgIH07XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgaGFuZGxlRG9jdW1lbnRSZXF1ZXN0RnVuY3Rpb24oXG4gICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICBjb250ZXh0LnN0YXR1c0NvZGUsXG4gICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICBlbnRyeUNvbnRleHQsXG4gICAgICAgICAgbG9hZENvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvcjIpO1xuICAgICAgICByZXR1cm4gcmV0dXJuTGFzdFJlc29ydEVycm9yUmVzcG9uc2UoZXJyb3IyLCBzZXJ2ZXJNb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlc291cmNlUmVxdWVzdChzZXJ2ZXJNb2RlLCBidWlsZCwgc3RhdGljSGFuZGxlciwgcm91dGVJZCwgcmVxdWVzdCwgbG9hZENvbnRleHQsIGhhbmRsZUVycm9yKSB7XG4gIHRyeSB7XG4gICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgc3RhdGljSGFuZGxlci5xdWVyeVJvdXRlKHJlcXVlc3QsIHtcbiAgICAgIHJvdXRlSWQsXG4gICAgICByZXF1ZXN0Q29udGV4dDogbG9hZENvbnRleHQsXG4gICAgICB1bnN0YWJsZV9yZXNwb25kOiBidWlsZC5mdXR1cmUudW5zdGFibGVfbWlkZGxld2FyZSA/IChjdHgpID0+IGN0eCA6IHZvaWQgMFxuICAgIH0pO1xuICAgIGlmIChpc1Jlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3BvbnNlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc1Jlc3BvbnNlKGVycm9yKSkge1xuICAgICAgZXJyb3IuaGVhZGVycy5zZXQoXCJYLVJlbWl4LUNhdGNoXCIsIFwieWVzXCIpO1xuICAgICAgcmV0dXJuIGVycm9yO1xuICAgIH1cbiAgICBpZiAoaXNSb3V0ZUVycm9yUmVzcG9uc2UoZXJyb3IpKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVycm9yUmVzcG9uc2VUb0pzb24oZXJyb3IsIHNlcnZlck1vZGUpO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5tZXNzYWdlID09PSBcIkV4cGVjdGVkIGEgcmVzcG9uc2UgZnJvbSBxdWVyeVJvdXRlXCIpIHtcbiAgICAgIGxldCBuZXdFcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgXCJFeHBlY3RlZCBhIFJlc3BvbnNlIHRvIGJlIHJldHVybmVkIGZyb20gcmVzb3VyY2Ugcm91dGUgaGFuZGxlclwiXG4gICAgICApO1xuICAgICAgaGFuZGxlRXJyb3IobmV3RXJyb3IpO1xuICAgICAgcmV0dXJuIHJldHVybkxhc3RSZXNvcnRFcnJvclJlc3BvbnNlKG5ld0Vycm9yLCBzZXJ2ZXJNb2RlKTtcbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiByZXR1cm5MYXN0UmVzb3J0RXJyb3JSZXNwb25zZShlcnJvciwgc2VydmVyTW9kZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGVycm9yUmVzcG9uc2VUb0pzb24oZXJyb3JSZXNwb25zZSwgc2VydmVyTW9kZSkge1xuICByZXR1cm4gUmVzcG9uc2UuanNvbihcbiAgICBzZXJpYWxpemVFcnJvcihcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVGhpcyBpcyBcInByaXZhdGVcIiBmcm9tIHVzZXJzIGJ1dCBpbnRlbmRlZCBmb3IgaW50ZXJuYWwgdXNlXG4gICAgICBlcnJvclJlc3BvbnNlLmVycm9yIHx8IG5ldyBFcnJvcihcIlVuZXhwZWN0ZWQgU2VydmVyIEVycm9yXCIpLFxuICAgICAgc2VydmVyTW9kZVxuICAgICksXG4gICAge1xuICAgICAgc3RhdHVzOiBlcnJvclJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJYLVJlbWl4LUVycm9yXCI6IFwieWVzXCJcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5mdW5jdGlvbiByZXR1cm5MYXN0UmVzb3J0RXJyb3JSZXNwb25zZShlcnJvciwgc2VydmVyTW9kZSkge1xuICBsZXQgbWVzc2FnZSA9IFwiVW5leHBlY3RlZCBTZXJ2ZXIgRXJyb3JcIjtcbiAgaWYgKHNlcnZlck1vZGUgIT09IFwicHJvZHVjdGlvblwiIC8qIFByb2R1Y3Rpb24gKi8pIHtcbiAgICBtZXNzYWdlICs9IGBcblxuJHtTdHJpbmcoZXJyb3IpfWA7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShtZXNzYWdlLCB7XG4gICAgc3RhdHVzOiA1MDAsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJ0ZXh0L3BsYWluXCJcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gdW53cmFwUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgbGV0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJDb250ZW50LVR5cGVcIik7XG4gIHJldHVybiBjb250ZW50VHlwZSAmJiAvXFxiYXBwbGljYXRpb25cXC9qc29uXFxiLy50ZXN0KGNvbnRlbnRUeXBlKSA/IHJlc3BvbnNlLmJvZHkgPT0gbnVsbCA/IG51bGwgOiByZXNwb25zZS5qc29uKCkgOiByZXNwb25zZS50ZXh0KCk7XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zZXNzaW9ucy50c1xuZnVuY3Rpb24gZmxhc2gobmFtZSkge1xuICByZXR1cm4gYF9fZmxhc2hfJHtuYW1lfV9fYDtcbn1cbnZhciBjcmVhdGVTZXNzaW9uID0gKGluaXRpYWxEYXRhID0ge30sIGlkID0gXCJcIikgPT4ge1xuICBsZXQgbWFwID0gbmV3IE1hcChPYmplY3QuZW50cmllcyhpbml0aWFsRGF0YSkpO1xuICByZXR1cm4ge1xuICAgIGdldCBpZCgpIHtcbiAgICAgIHJldHVybiBpZDtcbiAgICB9LFxuICAgIGdldCBkYXRhKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhtYXApO1xuICAgIH0sXG4gICAgaGFzKG5hbWUpIHtcbiAgICAgIHJldHVybiBtYXAuaGFzKG5hbWUpIHx8IG1hcC5oYXMoZmxhc2gobmFtZSkpO1xuICAgIH0sXG4gICAgZ2V0KG5hbWUpIHtcbiAgICAgIGlmIChtYXAuaGFzKG5hbWUpKSByZXR1cm4gbWFwLmdldChuYW1lKTtcbiAgICAgIGxldCBmbGFzaE5hbWUgPSBmbGFzaChuYW1lKTtcbiAgICAgIGlmIChtYXAuaGFzKGZsYXNoTmFtZSkpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gbWFwLmdldChmbGFzaE5hbWUpO1xuICAgICAgICBtYXAuZGVsZXRlKGZsYXNoTmFtZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfSxcbiAgICBzZXQobmFtZSwgdmFsdWUpIHtcbiAgICAgIG1hcC5zZXQobmFtZSwgdmFsdWUpO1xuICAgIH0sXG4gICAgZmxhc2gobmFtZSwgdmFsdWUpIHtcbiAgICAgIG1hcC5zZXQoZmxhc2gobmFtZSksIHZhbHVlKTtcbiAgICB9LFxuICAgIHVuc2V0KG5hbWUpIHtcbiAgICAgIG1hcC5kZWxldGUobmFtZSk7XG4gICAgfVxuICB9O1xufTtcbnZhciBpc1Nlc3Npb24gPSAob2JqZWN0KSA9PiB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiB0eXBlb2Ygb2JqZWN0LmlkID09PSBcInN0cmluZ1wiICYmIHR5cGVvZiBvYmplY3QuZGF0YSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2Ygb2JqZWN0LmhhcyA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBvYmplY3QuZ2V0ID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iamVjdC5zZXQgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb2JqZWN0LmZsYXNoID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIG9iamVjdC51bnNldCA9PT0gXCJmdW5jdGlvblwiO1xufTtcbmZ1bmN0aW9uIGNyZWF0ZVNlc3Npb25TdG9yYWdlKHtcbiAgY29va2llOiBjb29raWVBcmcsXG4gIGNyZWF0ZURhdGEsXG4gIHJlYWREYXRhLFxuICB1cGRhdGVEYXRhLFxuICBkZWxldGVEYXRhXG59KSB7XG4gIGxldCBjb29raWUgPSBpc0Nvb2tpZShjb29raWVBcmcpID8gY29va2llQXJnIDogY3JlYXRlQ29va2llKGNvb2tpZUFyZz8ubmFtZSB8fCBcIl9fc2Vzc2lvblwiLCBjb29raWVBcmcpO1xuICB3YXJuT25jZUFib3V0U2lnbmluZ1Nlc3Npb25Db29raWUoY29va2llKTtcbiAgcmV0dXJuIHtcbiAgICBhc3luYyBnZXRTZXNzaW9uKGNvb2tpZUhlYWRlciwgb3B0aW9ucykge1xuICAgICAgbGV0IGlkID0gY29va2llSGVhZGVyICYmIGF3YWl0IGNvb2tpZS5wYXJzZShjb29raWVIZWFkZXIsIG9wdGlvbnMpO1xuICAgICAgbGV0IGRhdGEyID0gaWQgJiYgYXdhaXQgcmVhZERhdGEoaWQpO1xuICAgICAgcmV0dXJuIGNyZWF0ZVNlc3Npb24oZGF0YTIgfHwge30sIGlkIHx8IFwiXCIpO1xuICAgIH0sXG4gICAgYXN5bmMgY29tbWl0U2Vzc2lvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICBsZXQgeyBpZCwgZGF0YTogZGF0YTIgfSA9IHNlc3Npb247XG4gICAgICBsZXQgZXhwaXJlcyA9IG9wdGlvbnM/Lm1heEFnZSAhPSBudWxsID8gbmV3IERhdGUoRGF0ZS5ub3coKSArIG9wdGlvbnMubWF4QWdlICogMWUzKSA6IG9wdGlvbnM/LmV4cGlyZXMgIT0gbnVsbCA/IG9wdGlvbnMuZXhwaXJlcyA6IGNvb2tpZS5leHBpcmVzO1xuICAgICAgaWYgKGlkKSB7XG4gICAgICAgIGF3YWl0IHVwZGF0ZURhdGEoaWQsIGRhdGEyLCBleHBpcmVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlkID0gYXdhaXQgY3JlYXRlRGF0YShkYXRhMiwgZXhwaXJlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29va2llLnNlcmlhbGl6ZShpZCwgb3B0aW9ucyk7XG4gICAgfSxcbiAgICBhc3luYyBkZXN0cm95U2Vzc2lvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICBhd2FpdCBkZWxldGVEYXRhKHNlc3Npb24uaWQpO1xuICAgICAgcmV0dXJuIGNvb2tpZS5zZXJpYWxpemUoXCJcIiwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBtYXhBZ2U6IHZvaWQgMCxcbiAgICAgICAgZXhwaXJlczogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKDApXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiB3YXJuT25jZUFib3V0U2lnbmluZ1Nlc3Npb25Db29raWUoY29va2llKSB7XG4gIHdhcm5PbmNlKFxuICAgIGNvb2tpZS5pc1NpZ25lZCxcbiAgICBgVGhlIFwiJHtjb29raWUubmFtZX1cIiBjb29raWUgaXMgbm90IHNpZ25lZCwgYnV0IHNlc3Npb24gY29va2llcyBzaG91bGQgYmUgc2lnbmVkIHRvIHByZXZlbnQgdGFtcGVyaW5nIG9uIHRoZSBjbGllbnQgYmVmb3JlIHRoZXkgYXJlIHNlbnQgYmFjayB0byB0aGUgc2VydmVyLiBTZWUgaHR0cHM6Ly9yZW1peC5ydW4vdXRpbHMvY29va2llcyNzaWduaW5nLWNvb2tpZXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uYFxuICApO1xufVxuXG4vLyBsaWIvc2VydmVyLXJ1bnRpbWUvc2Vzc2lvbnMvY29va2llU3RvcmFnZS50c1xuZnVuY3Rpb24gY3JlYXRlQ29va2llU2Vzc2lvblN0b3JhZ2UoeyBjb29raWU6IGNvb2tpZUFyZyB9ID0ge30pIHtcbiAgbGV0IGNvb2tpZSA9IGlzQ29va2llKGNvb2tpZUFyZykgPyBjb29raWVBcmcgOiBjcmVhdGVDb29raWUoY29va2llQXJnPy5uYW1lIHx8IFwiX19zZXNzaW9uXCIsIGNvb2tpZUFyZyk7XG4gIHdhcm5PbmNlQWJvdXRTaWduaW5nU2Vzc2lvbkNvb2tpZShjb29raWUpO1xuICByZXR1cm4ge1xuICAgIGFzeW5jIGdldFNlc3Npb24oY29va2llSGVhZGVyLCBvcHRpb25zKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU2Vzc2lvbihcbiAgICAgICAgY29va2llSGVhZGVyICYmIGF3YWl0IGNvb2tpZS5wYXJzZShjb29raWVIZWFkZXIsIG9wdGlvbnMpIHx8IHt9XG4gICAgICApO1xuICAgIH0sXG4gICAgYXN5bmMgY29tbWl0U2Vzc2lvbihzZXNzaW9uLCBvcHRpb25zKSB7XG4gICAgICBsZXQgc2VyaWFsaXplZENvb2tpZSA9IGF3YWl0IGNvb2tpZS5zZXJpYWxpemUoc2Vzc2lvbi5kYXRhLCBvcHRpb25zKTtcbiAgICAgIGlmIChzZXJpYWxpemVkQ29va2llLmxlbmd0aCA+IDQwOTYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiQ29va2llIGxlbmd0aCB3aWxsIGV4Y2VlZCBicm93c2VyIG1heGltdW0uIExlbmd0aDogXCIgKyBzZXJpYWxpemVkQ29va2llLmxlbmd0aFxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlcmlhbGl6ZWRDb29raWU7XG4gICAgfSxcbiAgICBhc3luYyBkZXN0cm95U2Vzc2lvbihfc2Vzc2lvbiwgb3B0aW9ucykge1xuICAgICAgcmV0dXJuIGNvb2tpZS5zZXJpYWxpemUoXCJcIiwge1xuICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICBtYXhBZ2U6IHZvaWQgMCxcbiAgICAgICAgZXhwaXJlczogLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKDApXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIGxpYi9zZXJ2ZXItcnVudGltZS9zZXNzaW9ucy9tZW1vcnlTdG9yYWdlLnRzXG5mdW5jdGlvbiBjcmVhdGVNZW1vcnlTZXNzaW9uU3RvcmFnZSh7IGNvb2tpZSB9ID0ge30pIHtcbiAgbGV0IG1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIHJldHVybiBjcmVhdGVTZXNzaW9uU3RvcmFnZSh7XG4gICAgY29va2llLFxuICAgIGFzeW5jIGNyZWF0ZURhdGEoZGF0YTIsIGV4cGlyZXMpIHtcbiAgICAgIGxldCBpZCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxMCk7XG4gICAgICBtYXAuc2V0KGlkLCB7IGRhdGE6IGRhdGEyLCBleHBpcmVzIH0pO1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH0sXG4gICAgYXN5bmMgcmVhZERhdGEoaWQpIHtcbiAgICAgIGlmIChtYXAuaGFzKGlkKSkge1xuICAgICAgICBsZXQgeyBkYXRhOiBkYXRhMiwgZXhwaXJlcyB9ID0gbWFwLmdldChpZCk7XG4gICAgICAgIGlmICghZXhwaXJlcyB8fCBleHBpcmVzID4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpIHtcbiAgICAgICAgICByZXR1cm4gZGF0YTI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cGlyZXMpIG1hcC5kZWxldGUoaWQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBhc3luYyB1cGRhdGVEYXRhKGlkLCBkYXRhMiwgZXhwaXJlcykge1xuICAgICAgbWFwLnNldChpZCwgeyBkYXRhOiBkYXRhMiwgZXhwaXJlcyB9KTtcbiAgICB9LFxuICAgIGFzeW5jIGRlbGV0ZURhdGEoaWQpIHtcbiAgICAgIG1hcC5kZWxldGUoaWQpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGxpYi9ocmVmLnRzXG5mdW5jdGlvbiBocmVmKHBhdGgsIC4uLmFyZ3MpIHtcbiAgbGV0IHBhcmFtcyA9IGFyZ3NbMF07XG4gIHJldHVybiBwYXRoLnNwbGl0KFwiL1wiKS5tYXAoKHNlZ21lbnQpID0+IHtcbiAgICBjb25zdCBtYXRjaCA9IHNlZ21lbnQubWF0Y2goL146KFtcXHctXSspKFxcPyk/Lyk7XG4gICAgaWYgKCFtYXRjaCkgcmV0dXJuIHNlZ21lbnQ7XG4gICAgY29uc3QgcGFyYW0gPSBtYXRjaFsxXTtcbiAgICBjb25zdCB2YWx1ZSA9IHBhcmFtcyA/IHBhcmFtc1twYXJhbV0gOiB2b2lkIDA7XG4gICAgY29uc3QgaXNSZXF1aXJlZCA9IG1hdGNoWzJdID09PSB2b2lkIDA7XG4gICAgaWYgKGlzUmVxdWlyZWQgJiYgdmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIGBQYXRoICcke3BhdGh9JyByZXF1aXJlcyBwYXJhbSAnJHtwYXJhbX0nIGJ1dCBpdCB3YXMgbm90IHByb3ZpZGVkYFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9KS5maWx0ZXIoKHNlZ21lbnQpID0+IHNlZ21lbnQgIT09IHZvaWQgMCkuam9pbihcIi9cIik7XG59XG5cbi8vIGxpYi9kb20vc3NyL2Vycm9ycy50c1xuZnVuY3Rpb24gZGVzZXJpYWxpemVFcnJvcnMyKGVycm9ycykge1xuICBpZiAoIWVycm9ycykgcmV0dXJuIG51bGw7XG4gIGxldCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoZXJyb3JzKTtcbiAgbGV0IHNlcmlhbGl6ZWQgPSB7fTtcbiAgZm9yIChsZXQgW2tleSwgdmFsXSBvZiBlbnRyaWVzKSB7XG4gICAgaWYgKHZhbCAmJiB2YWwuX190eXBlID09PSBcIlJvdXRlRXJyb3JSZXNwb25zZVwiKSB7XG4gICAgICBzZXJpYWxpemVkW2tleV0gPSBuZXcgRXJyb3JSZXNwb25zZUltcGwoXG4gICAgICAgIHZhbC5zdGF0dXMsXG4gICAgICAgIHZhbC5zdGF0dXNUZXh0LFxuICAgICAgICB2YWwuZGF0YSxcbiAgICAgICAgdmFsLmludGVybmFsID09PSB0cnVlXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAodmFsICYmIHZhbC5fX3R5cGUgPT09IFwiRXJyb3JcIikge1xuICAgICAgaWYgKHZhbC5fX3N1YlR5cGUpIHtcbiAgICAgICAgbGV0IEVycm9yQ29uc3RydWN0b3IgPSB3aW5kb3dbdmFsLl9fc3ViVHlwZV07XG4gICAgICAgIGlmICh0eXBlb2YgRXJyb3JDb25zdHJ1Y3RvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvckNvbnN0cnVjdG9yKHZhbC5tZXNzYWdlKTtcbiAgICAgICAgICAgIGVycm9yLnN0YWNrID0gdmFsLnN0YWNrO1xuICAgICAgICAgICAgc2VyaWFsaXplZFtrZXldID0gZXJyb3I7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHNlcmlhbGl6ZWRba2V5XSA9PSBudWxsKSB7XG4gICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvcih2YWwubWVzc2FnZSk7XG4gICAgICAgIGVycm9yLnN0YWNrID0gdmFsLnN0YWNrO1xuICAgICAgICBzZXJpYWxpemVkW2tleV0gPSBlcnJvcjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VyaWFsaXplZFtrZXldID0gdmFsO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VyaWFsaXplZDtcbn1cblxuZXhwb3J0IHtcbiAgQWN0aW9uLFxuICBjcmVhdGVCcm93c2VySGlzdG9yeSxcbiAgaW52YXJpYW50LFxuICBjcmVhdGVQYXRoLFxuICBwYXJzZVBhdGgsXG4gIHVuc3RhYmxlX2NyZWF0ZUNvbnRleHQsXG4gIHVuc3RhYmxlX1JvdXRlckNvbnRleHRQcm92aWRlcixcbiAgbWF0Y2hSb3V0ZXMsXG4gIGdlbmVyYXRlUGF0aCxcbiAgbWF0Y2hQYXRoLFxuICByZXNvbHZlUGF0aCxcbiAgZGF0YSxcbiAgcmVkaXJlY3QsXG4gIHJlZGlyZWN0RG9jdW1lbnQsXG4gIHJlcGxhY2UsXG4gIEVycm9yUmVzcG9uc2VJbXBsLFxuICBpc1JvdXRlRXJyb3JSZXNwb25zZSxcbiAgSURMRV9OQVZJR0FUSU9OLFxuICBJRExFX0ZFVENIRVIsXG4gIElETEVfQkxPQ0tFUixcbiAgY3JlYXRlUm91dGVyLFxuICBEYXRhUm91dGVyQ29udGV4dCxcbiAgRGF0YVJvdXRlclN0YXRlQ29udGV4dCxcbiAgVmlld1RyYW5zaXRpb25Db250ZXh0LFxuICBGZXRjaGVyc0NvbnRleHQsXG4gIE5hdmlnYXRpb25Db250ZXh0LFxuICBMb2NhdGlvbkNvbnRleHQsXG4gIFJvdXRlQ29udGV4dCxcbiAgdXNlSHJlZixcbiAgdXNlSW5Sb3V0ZXJDb250ZXh0LFxuICB1c2VMb2NhdGlvbixcbiAgdXNlTmF2aWdhdGlvblR5cGUsXG4gIHVzZU1hdGNoLFxuICB1c2VOYXZpZ2F0ZSxcbiAgdXNlT3V0bGV0Q29udGV4dCxcbiAgdXNlT3V0bGV0LFxuICB1c2VQYXJhbXMsXG4gIHVzZVJlc29sdmVkUGF0aCxcbiAgdXNlUm91dGVzLFxuICB1c2VOYXZpZ2F0aW9uLFxuICB1c2VSZXZhbGlkYXRvcixcbiAgdXNlTWF0Y2hlcyxcbiAgdXNlTG9hZGVyRGF0YSxcbiAgdXNlUm91dGVMb2FkZXJEYXRhLFxuICB1c2VBY3Rpb25EYXRhLFxuICB1c2VSb3V0ZUVycm9yLFxuICB1c2VBc3luY1ZhbHVlLFxuICB1c2VBc3luY0Vycm9yLFxuICB1c2VCbG9ja2VyLFxuICBtYXBSb3V0ZVByb3BlcnRpZXMsXG4gIGNyZWF0ZU1lbW9yeVJvdXRlcixcbiAgUm91dGVyUHJvdmlkZXIsXG4gIE1lbW9yeVJvdXRlcixcbiAgTmF2aWdhdGUsXG4gIE91dGxldCxcbiAgUm91dGUsXG4gIFJvdXRlcixcbiAgUm91dGVzLFxuICBBd2FpdCxcbiAgY3JlYXRlUm91dGVzRnJvbUNoaWxkcmVuLFxuICBjcmVhdGVSb3V0ZXNGcm9tRWxlbWVudHMsXG4gIHJlbmRlck1hdGNoZXMsXG4gIGNyZWF0ZVNlYXJjaFBhcmFtcyxcbiAgU2luZ2xlRmV0Y2hSZWRpcmVjdFN5bWJvbCxcbiAgZ2V0U2luZ2xlRmV0Y2hEYXRhU3RyYXRlZ3ksXG4gIGRlY29kZVZpYVR1cmJvU3RyZWFtLFxuICBSZW1peEVycm9yQm91bmRhcnksXG4gIGNyZWF0ZUNsaWVudFJvdXRlc1dpdGhITVJSZXZhbGlkYXRpb25PcHRPdXQsXG4gIGNyZWF0ZUNsaWVudFJvdXRlcyxcbiAgc2hvdWxkSHlkcmF0ZVJvdXRlTG9hZGVyLFxuICBnZXRQYXRjaFJvdXRlc09uTmF2aWdhdGlvbkZ1bmN0aW9uLFxuICB1c2VGb2dPRldhckRpc2NvdmVyeSxcbiAgRnJhbWV3b3JrQ29udGV4dCxcbiAgTGlua3MsXG4gIFByZWZldGNoUGFnZUxpbmtzLFxuICBNZXRhLFxuICBTY3JpcHRzLFxuICBjcmVhdGVCcm93c2VyUm91dGVyLFxuICBjcmVhdGVIYXNoUm91dGVyLFxuICBCcm93c2VyUm91dGVyLFxuICBIYXNoUm91dGVyLFxuICBIaXN0b3J5Um91dGVyLFxuICBMaW5rLFxuICBOYXZMaW5rLFxuICBGb3JtLFxuICBTY3JvbGxSZXN0b3JhdGlvbixcbiAgdXNlTGlua0NsaWNrSGFuZGxlcixcbiAgdXNlU2VhcmNoUGFyYW1zLFxuICB1c2VTdWJtaXQsXG4gIHVzZUZvcm1BY3Rpb24sXG4gIHVzZUZldGNoZXIsXG4gIHVzZUZldGNoZXJzLFxuICB1c2VTY3JvbGxSZXN0b3JhdGlvbixcbiAgdXNlQmVmb3JlVW5sb2FkLFxuICB1c2VQcm9tcHQsXG4gIHVzZVZpZXdUcmFuc2l0aW9uU3RhdGUsXG4gIFN0YXRpY1JvdXRlcixcbiAgU3RhdGljUm91dGVyUHJvdmlkZXIsXG4gIGNyZWF0ZVN0YXRpY0hhbmRsZXIyIGFzIGNyZWF0ZVN0YXRpY0hhbmRsZXIsXG4gIGNyZWF0ZVN0YXRpY1JvdXRlcixcbiAgU2VydmVyUm91dGVyLFxuICBjcmVhdGVSb3V0ZXNTdHViLFxuICBjcmVhdGVDb29raWUsXG4gIGlzQ29va2llLFxuICBTZXJ2ZXJNb2RlLFxuICBzZXREZXZTZXJ2ZXJIb29rcyxcbiAgY3JlYXRlUmVxdWVzdEhhbmRsZXIsXG4gIGNyZWF0ZVNlc3Npb24sXG4gIGlzU2Vzc2lvbixcbiAgY3JlYXRlU2Vzc2lvblN0b3JhZ2UsXG4gIGNyZWF0ZUNvb2tpZVNlc3Npb25TdG9yYWdlLFxuICBjcmVhdGVNZW1vcnlTZXNzaW9uU3RvcmFnZSxcbiAgaHJlZixcbiAgZGVzZXJpYWxpemVFcnJvcnMyIGFzIGRlc2VyaWFsaXplRXJyb3JzXG59O1xuIiwKICAgICIvLyBzcmMvaW5kZXgudHNcbnZhciB1cGRhdGVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xudmFyIHJhZiA9IChmbikgPT4gc2NoZWR1bGUoZm4sIHVwZGF0ZVF1ZXVlKTtcbnZhciB3cml0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG5yYWYud3JpdGUgPSAoZm4pID0+IHNjaGVkdWxlKGZuLCB3cml0ZVF1ZXVlKTtcbnZhciBvblN0YXJ0UXVldWUgPSBtYWtlUXVldWUoKTtcbnJhZi5vblN0YXJ0ID0gKGZuKSA9PiBzY2hlZHVsZShmbiwgb25TdGFydFF1ZXVlKTtcbnZhciBvbkZyYW1lUXVldWUgPSBtYWtlUXVldWUoKTtcbnJhZi5vbkZyYW1lID0gKGZuKSA9PiBzY2hlZHVsZShmbiwgb25GcmFtZVF1ZXVlKTtcbnZhciBvbkZpbmlzaFF1ZXVlID0gbWFrZVF1ZXVlKCk7XG5yYWYub25GaW5pc2ggPSAoZm4pID0+IHNjaGVkdWxlKGZuLCBvbkZpbmlzaFF1ZXVlKTtcbnZhciB0aW1lb3V0cyA9IFtdO1xucmFmLnNldFRpbWVvdXQgPSAoaGFuZGxlciwgbXMpID0+IHtcbiAgY29uc3QgdGltZSA9IHJhZi5ub3coKSArIG1zO1xuICBjb25zdCBjYW5jZWwgPSAoKSA9PiB7XG4gICAgY29uc3QgaSA9IHRpbWVvdXRzLmZpbmRJbmRleCgodCkgPT4gdC5jYW5jZWwgPT0gY2FuY2VsKTtcbiAgICBpZiAofmkpXG4gICAgICB0aW1lb3V0cy5zcGxpY2UoaSwgMSk7XG4gICAgcGVuZGluZ0NvdW50IC09IH5pID8gMSA6IDA7XG4gIH07XG4gIGNvbnN0IHRpbWVvdXQgPSB7IHRpbWUsIGhhbmRsZXIsIGNhbmNlbCB9O1xuICB0aW1lb3V0cy5zcGxpY2UoZmluZFRpbWVvdXQodGltZSksIDAsIHRpbWVvdXQpO1xuICBwZW5kaW5nQ291bnQgKz0gMTtcbiAgc3RhcnQoKTtcbiAgcmV0dXJuIHRpbWVvdXQ7XG59O1xudmFyIGZpbmRUaW1lb3V0ID0gKHRpbWUpID0+IH4ofnRpbWVvdXRzLmZpbmRJbmRleCgodCkgPT4gdC50aW1lID4gdGltZSkgfHwgfnRpbWVvdXRzLmxlbmd0aCk7XG5yYWYuY2FuY2VsID0gKGZuKSA9PiB7XG4gIG9uU3RhcnRRdWV1ZS5kZWxldGUoZm4pO1xuICBvbkZyYW1lUXVldWUuZGVsZXRlKGZuKTtcbiAgb25GaW5pc2hRdWV1ZS5kZWxldGUoZm4pO1xuICB1cGRhdGVRdWV1ZS5kZWxldGUoZm4pO1xuICB3cml0ZVF1ZXVlLmRlbGV0ZShmbik7XG59O1xucmFmLnN5bmMgPSAoZm4pID0+IHtcbiAgc3luYyA9IHRydWU7XG4gIHJhZi5iYXRjaGVkVXBkYXRlcyhmbik7XG4gIHN5bmMgPSBmYWxzZTtcbn07XG5yYWYudGhyb3R0bGUgPSAoZm4pID0+IHtcbiAgbGV0IGxhc3RBcmdzO1xuICBmdW5jdGlvbiBxdWV1ZWRGbigpIHtcbiAgICB0cnkge1xuICAgICAgZm4oLi4ubGFzdEFyZ3MpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBsYXN0QXJncyA9IG51bGw7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHRocm90dGxlZCguLi5hcmdzKSB7XG4gICAgbGFzdEFyZ3MgPSBhcmdzO1xuICAgIHJhZi5vblN0YXJ0KHF1ZXVlZEZuKTtcbiAgfVxuICB0aHJvdHRsZWQuaGFuZGxlciA9IGZuO1xuICB0aHJvdHRsZWQuY2FuY2VsID0gKCkgPT4ge1xuICAgIG9uU3RhcnRRdWV1ZS5kZWxldGUocXVldWVkRm4pO1xuICAgIGxhc3RBcmdzID0gbnVsbDtcbiAgfTtcbiAgcmV0dXJuIHRocm90dGxlZDtcbn07XG52YXIgbmF0aXZlUmFmID0gdHlwZW9mIHdpbmRvdyAhPSBcInVuZGVmaW5lZFwiID8gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA6IChcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAoKSA9PiB7XG4gIH1cbik7XG5yYWYudXNlID0gKGltcGwpID0+IG5hdGl2ZVJhZiA9IGltcGw7XG5yYWYubm93ID0gdHlwZW9mIHBlcmZvcm1hbmNlICE9IFwidW5kZWZpbmVkXCIgPyAoKSA9PiBwZXJmb3JtYW5jZS5ub3coKSA6IERhdGUubm93O1xucmFmLmJhdGNoZWRVcGRhdGVzID0gKGZuKSA9PiBmbigpO1xucmFmLmNhdGNoID0gY29uc29sZS5lcnJvcjtcbnJhZi5mcmFtZUxvb3AgPSBcImFsd2F5c1wiO1xucmFmLmFkdmFuY2UgPSAoKSA9PiB7XG4gIGlmIChyYWYuZnJhbWVMb29wICE9PSBcImRlbWFuZFwiKSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJDYW5ub3QgY2FsbCB0aGUgbWFudWFsIGFkdmFuY2VtZW50IG9mIHJhZnogd2hpbHN0IGZyYW1lTG9vcCBpcyBub3Qgc2V0IGFzIGRlbWFuZFwiXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB1cGRhdGUoKTtcbiAgfVxufTtcbnZhciB0cyA9IC0xO1xudmFyIHBlbmRpbmdDb3VudCA9IDA7XG52YXIgc3luYyA9IGZhbHNlO1xuZnVuY3Rpb24gc2NoZWR1bGUoZm4sIHF1ZXVlKSB7XG4gIGlmIChzeW5jKSB7XG4gICAgcXVldWUuZGVsZXRlKGZuKTtcbiAgICBmbigwKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZS5hZGQoZm4pO1xuICAgIHN0YXJ0KCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHN0YXJ0KCkge1xuICBpZiAodHMgPCAwKSB7XG4gICAgdHMgPSAwO1xuICAgIGlmIChyYWYuZnJhbWVMb29wICE9PSBcImRlbWFuZFwiKSB7XG4gICAgICBuYXRpdmVSYWYobG9vcCk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBzdG9wKCkge1xuICB0cyA9IC0xO1xufVxuZnVuY3Rpb24gbG9vcCgpIHtcbiAgaWYgKH50cykge1xuICAgIG5hdGl2ZVJhZihsb29wKTtcbiAgICByYWYuYmF0Y2hlZFVwZGF0ZXModXBkYXRlKTtcbiAgfVxufVxuZnVuY3Rpb24gdXBkYXRlKCkge1xuICBjb25zdCBwcmV2VHMgPSB0cztcbiAgdHMgPSByYWYubm93KCk7XG4gIGNvbnN0IGNvdW50ID0gZmluZFRpbWVvdXQodHMpO1xuICBpZiAoY291bnQpIHtcbiAgICBlYWNoU2FmZWx5KHRpbWVvdXRzLnNwbGljZSgwLCBjb3VudCksICh0KSA9PiB0LmhhbmRsZXIoKSk7XG4gICAgcGVuZGluZ0NvdW50IC09IGNvdW50O1xuICB9XG4gIGlmICghcGVuZGluZ0NvdW50KSB7XG4gICAgc3RvcCgpO1xuICAgIHJldHVybjtcbiAgfVxuICBvblN0YXJ0UXVldWUuZmx1c2goKTtcbiAgdXBkYXRlUXVldWUuZmx1c2gocHJldlRzID8gTWF0aC5taW4oNjQsIHRzIC0gcHJldlRzKSA6IDE2LjY2Nyk7XG4gIG9uRnJhbWVRdWV1ZS5mbHVzaCgpO1xuICB3cml0ZVF1ZXVlLmZsdXNoKCk7XG4gIG9uRmluaXNoUXVldWUuZmx1c2goKTtcbn1cbmZ1bmN0aW9uIG1ha2VRdWV1ZSgpIHtcbiAgbGV0IG5leHQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICBsZXQgY3VycmVudCA9IG5leHQ7XG4gIHJldHVybiB7XG4gICAgYWRkKGZuKSB7XG4gICAgICBwZW5kaW5nQ291bnQgKz0gY3VycmVudCA9PSBuZXh0ICYmICFuZXh0LmhhcyhmbikgPyAxIDogMDtcbiAgICAgIG5leHQuYWRkKGZuKTtcbiAgICB9LFxuICAgIGRlbGV0ZShmbikge1xuICAgICAgcGVuZGluZ0NvdW50IC09IGN1cnJlbnQgPT0gbmV4dCAmJiBuZXh0LmhhcyhmbikgPyAxIDogMDtcbiAgICAgIHJldHVybiBuZXh0LmRlbGV0ZShmbik7XG4gICAgfSxcbiAgICBmbHVzaChhcmcpIHtcbiAgICAgIGlmIChjdXJyZW50LnNpemUpIHtcbiAgICAgICAgbmV4dCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICAgIHBlbmRpbmdDb3VudCAtPSBjdXJyZW50LnNpemU7XG4gICAgICAgIGVhY2hTYWZlbHkoY3VycmVudCwgKGZuKSA9PiBmbihhcmcpICYmIG5leHQuYWRkKGZuKSk7XG4gICAgICAgIHBlbmRpbmdDb3VudCArPSBuZXh0LnNpemU7XG4gICAgICAgIGN1cnJlbnQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGVhY2hTYWZlbHkodmFsdWVzLCBlYWNoKSB7XG4gIHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBlYWNoKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByYWYuY2F0Y2goZSk7XG4gICAgfVxuICB9KTtcbn1cbnZhciBfX3JhZiA9IHtcbiAgLyoqIFRoZSBudW1iZXIgb2YgcGVuZGluZyB0YXNrcyAqL1xuICBjb3VudCgpIHtcbiAgICByZXR1cm4gcGVuZGluZ0NvdW50O1xuICB9LFxuICAvKiogV2hldGhlciB0aGVyZSdzIGEgcmFmIHVwZGF0ZSBsb29wIHJ1bm5pbmcgKi9cbiAgaXNSdW5uaW5nKCkge1xuICAgIHJldHVybiB0cyA+PSAwO1xuICB9LFxuICAvKiogQ2xlYXIgaW50ZXJuYWwgc3RhdGUuIE5ldmVyIGNhbGwgZnJvbSB1cGRhdGUgbG9vcCEgKi9cbiAgY2xlYXIoKSB7XG4gICAgdHMgPSAtMTtcbiAgICB0aW1lb3V0cyA9IFtdO1xuICAgIG9uU3RhcnRRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIHVwZGF0ZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgb25GcmFtZVF1ZXVlID0gbWFrZVF1ZXVlKCk7XG4gICAgd3JpdGVRdWV1ZSA9IG1ha2VRdWV1ZSgpO1xuICAgIG9uRmluaXNoUXVldWUgPSBtYWtlUXVldWUoKTtcbiAgICBwZW5kaW5nQ291bnQgPSAwO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgX19yYWYsXG4gIHJhZlxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXNwcmluZ19yYWZ6Lm1vZGVybi5tanMubWFwIiwKICAgICJ2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZXhwb3J0ID0gKHRhcmdldCwgYWxsKSA9PiB7XG4gIGZvciAodmFyIG5hbWUgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUsIHsgZ2V0OiBhbGxbbmFtZV0sIGVudW1lcmFibGU6IHRydWUgfSk7XG59O1xuXG4vLyBzcmMvZ2xvYmFscy50c1xudmFyIGdsb2JhbHNfZXhwb3J0cyA9IHt9O1xuX19leHBvcnQoZ2xvYmFsc19leHBvcnRzLCB7XG4gIGFzc2lnbjogKCkgPT4gYXNzaWduLFxuICBjb2xvcnM6ICgpID0+IGNvbG9ycyxcbiAgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yOiAoKSA9PiBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsXG4gIHNraXBBbmltYXRpb246ICgpID0+IHNraXBBbmltYXRpb24sXG4gIHRvOiAoKSA9PiB0byxcbiAgd2lsbEFkdmFuY2U6ICgpID0+IHdpbGxBZHZhbmNlXG59KTtcbmltcG9ydCB7IHJhZiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3JhZnpcIjtcblxuLy8gc3JjL2hlbHBlcnMudHNcbmZ1bmN0aW9uIG5vb3AoKSB7XG59XG52YXIgZGVmaW5lSGlkZGVuID0gKG9iaiwga2V5LCB2YWx1ZSkgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pO1xudmFyIGlzID0ge1xuICBhcnI6IEFycmF5LmlzQXJyYXksXG4gIG9iajogKGEpID0+ICEhYSAmJiBhLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiT2JqZWN0XCIsXG4gIGZ1bjogKGEpID0+IHR5cGVvZiBhID09PSBcImZ1bmN0aW9uXCIsXG4gIHN0cjogKGEpID0+IHR5cGVvZiBhID09PSBcInN0cmluZ1wiLFxuICBudW06IChhKSA9PiB0eXBlb2YgYSA9PT0gXCJudW1iZXJcIixcbiAgdW5kOiAoYSkgPT4gYSA9PT0gdm9pZCAwXG59O1xuZnVuY3Rpb24gaXNFcXVhbChhLCBiKSB7XG4gIGlmIChpcy5hcnIoYSkpIHtcbiAgICBpZiAoIWlzLmFycihiKSB8fCBhLmxlbmd0aCAhPT0gYi5sZW5ndGgpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYVtpXSAhPT0gYltpXSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gYSA9PT0gYjtcbn1cbnZhciBlYWNoID0gKG9iaiwgZm4pID0+IG9iai5mb3JFYWNoKGZuKTtcbmZ1bmN0aW9uIGVhY2hQcm9wKG9iaiwgZm4sIGN0eCkge1xuICBpZiAoaXMuYXJyKG9iaikpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgZm4uY2FsbChjdHgsIG9ialtpXSwgYCR7aX1gKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xuICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgZm4uY2FsbChjdHgsIG9ialtrZXldLCBrZXkpO1xuICAgIH1cbiAgfVxufVxudmFyIHRvQXJyYXkgPSAoYSkgPT4gaXMudW5kKGEpID8gW10gOiBpcy5hcnIoYSkgPyBhIDogW2FdO1xuZnVuY3Rpb24gZmx1c2gocXVldWUsIGl0ZXJhdG9yKSB7XG4gIGlmIChxdWV1ZS5zaXplKSB7XG4gICAgY29uc3QgaXRlbXMgPSBBcnJheS5mcm9tKHF1ZXVlKTtcbiAgICBxdWV1ZS5jbGVhcigpO1xuICAgIGVhY2goaXRlbXMsIGl0ZXJhdG9yKTtcbiAgfVxufVxudmFyIGZsdXNoQ2FsbHMgPSAocXVldWUsIC4uLmFyZ3MpID0+IGZsdXNoKHF1ZXVlLCAoZm4pID0+IGZuKC4uLmFyZ3MpKTtcbnZhciBpc1NTUiA9ICgpID0+IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIgfHwgIXdpbmRvdy5uYXZpZ2F0b3IgfHwgL1NlcnZlclNpZGVSZW5kZXJpbmd8XkRlbm9cXC8vLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xuXG4vLyBzcmMvZ2xvYmFscy50c1xudmFyIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcjtcbnZhciB0bztcbnZhciBjb2xvcnMgPSBudWxsO1xudmFyIHNraXBBbmltYXRpb24gPSBmYWxzZTtcbnZhciB3aWxsQWR2YW5jZSA9IG5vb3A7XG52YXIgYXNzaWduID0gKGdsb2JhbHMpID0+IHtcbiAgaWYgKGdsb2JhbHMudG8pXG4gICAgdG8gPSBnbG9iYWxzLnRvO1xuICBpZiAoZ2xvYmFscy5ub3cpXG4gICAgcmFmLm5vdyA9IGdsb2JhbHMubm93O1xuICBpZiAoZ2xvYmFscy5jb2xvcnMgIT09IHZvaWQgMClcbiAgICBjb2xvcnMgPSBnbG9iYWxzLmNvbG9ycztcbiAgaWYgKGdsb2JhbHMuc2tpcEFuaW1hdGlvbiAhPSBudWxsKVxuICAgIHNraXBBbmltYXRpb24gPSBnbG9iYWxzLnNraXBBbmltYXRpb247XG4gIGlmIChnbG9iYWxzLmNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcilcbiAgICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IgPSBnbG9iYWxzLmNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcjtcbiAgaWYgKGdsb2JhbHMucmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICAgIHJhZi51c2UoZ2xvYmFscy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpO1xuICBpZiAoZ2xvYmFscy5iYXRjaGVkVXBkYXRlcylcbiAgICByYWYuYmF0Y2hlZFVwZGF0ZXMgPSBnbG9iYWxzLmJhdGNoZWRVcGRhdGVzO1xuICBpZiAoZ2xvYmFscy53aWxsQWR2YW5jZSlcbiAgICB3aWxsQWR2YW5jZSA9IGdsb2JhbHMud2lsbEFkdmFuY2U7XG4gIGlmIChnbG9iYWxzLmZyYW1lTG9vcClcbiAgICByYWYuZnJhbWVMb29wID0gZ2xvYmFscy5mcmFtZUxvb3A7XG59O1xuXG4vLyBzcmMvRnJhbWVMb29wLnRzXG5pbXBvcnQgeyByYWYgYXMgcmFmMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3JhZnpcIjtcbnZhciBzdGFydFF1ZXVlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBjdXJyZW50RnJhbWUgPSBbXTtcbnZhciBwcmV2RnJhbWUgPSBbXTtcbnZhciBwcmlvcml0eSA9IDA7XG52YXIgZnJhbWVMb29wID0ge1xuICBnZXQgaWRsZSgpIHtcbiAgICByZXR1cm4gIXN0YXJ0UXVldWUuc2l6ZSAmJiAhY3VycmVudEZyYW1lLmxlbmd0aDtcbiAgfSxcbiAgLyoqIEFkdmFuY2UgdGhlIGdpdmVuIGFuaW1hdGlvbiBvbiBldmVyeSBmcmFtZSB1bnRpbCBpZGxlLiAqL1xuICBzdGFydChhbmltYXRpb24pIHtcbiAgICBpZiAocHJpb3JpdHkgPiBhbmltYXRpb24ucHJpb3JpdHkpIHtcbiAgICAgIHN0YXJ0UXVldWUuYWRkKGFuaW1hdGlvbik7XG4gICAgICByYWYyLm9uU3RhcnQoZmx1c2hTdGFydFF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhcnRTYWZlbHkoYW5pbWF0aW9uKTtcbiAgICAgIHJhZjIoYWR2YW5jZSk7XG4gICAgfVxuICB9LFxuICAvKiogQWR2YW5jZSBhbGwgYW5pbWF0aW9ucyBieSB0aGUgZ2l2ZW4gdGltZS4gKi9cbiAgYWR2YW5jZSxcbiAgLyoqIENhbGwgdGhpcyB3aGVuIGFuIGFuaW1hdGlvbidzIHByaW9yaXR5IGNoYW5nZXMuICovXG4gIHNvcnQoYW5pbWF0aW9uKSB7XG4gICAgaWYgKHByaW9yaXR5KSB7XG4gICAgICByYWYyLm9uRnJhbWUoKCkgPT4gZnJhbWVMb29wLnNvcnQoYW5pbWF0aW9uKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHByZXZJbmRleCA9IGN1cnJlbnRGcmFtZS5pbmRleE9mKGFuaW1hdGlvbik7XG4gICAgICBpZiAofnByZXZJbmRleCkge1xuICAgICAgICBjdXJyZW50RnJhbWUuc3BsaWNlKHByZXZJbmRleCwgMSk7XG4gICAgICAgIHN0YXJ0VW5zYWZlbHkoYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBDbGVhciBhbGwgYW5pbWF0aW9ucy4gRm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gICAqXG4gICAqIOKYoO+4jyBOZXZlciBjYWxsIHRoaXMgZnJvbSB3aXRoaW4gdGhlIGZyYW1lbG9vcC5cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIGN1cnJlbnRGcmFtZSA9IFtdO1xuICAgIHN0YXJ0UXVldWUuY2xlYXIoKTtcbiAgfVxufTtcbmZ1bmN0aW9uIGZsdXNoU3RhcnRRdWV1ZSgpIHtcbiAgc3RhcnRRdWV1ZS5mb3JFYWNoKHN0YXJ0U2FmZWx5KTtcbiAgc3RhcnRRdWV1ZS5jbGVhcigpO1xuICByYWYyKGFkdmFuY2UpO1xufVxuZnVuY3Rpb24gc3RhcnRTYWZlbHkoYW5pbWF0aW9uKSB7XG4gIGlmICghY3VycmVudEZyYW1lLmluY2x1ZGVzKGFuaW1hdGlvbikpXG4gICAgc3RhcnRVbnNhZmVseShhbmltYXRpb24pO1xufVxuZnVuY3Rpb24gc3RhcnRVbnNhZmVseShhbmltYXRpb24pIHtcbiAgY3VycmVudEZyYW1lLnNwbGljZShcbiAgICBmaW5kSW5kZXgoY3VycmVudEZyYW1lLCAob3RoZXIpID0+IG90aGVyLnByaW9yaXR5ID4gYW5pbWF0aW9uLnByaW9yaXR5KSxcbiAgICAwLFxuICAgIGFuaW1hdGlvblxuICApO1xufVxuZnVuY3Rpb24gYWR2YW5jZShkdCkge1xuICBjb25zdCBuZXh0RnJhbWUgPSBwcmV2RnJhbWU7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudEZyYW1lLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgYW5pbWF0aW9uID0gY3VycmVudEZyYW1lW2ldO1xuICAgIHByaW9yaXR5ID0gYW5pbWF0aW9uLnByaW9yaXR5O1xuICAgIGlmICghYW5pbWF0aW9uLmlkbGUpIHtcbiAgICAgIHdpbGxBZHZhbmNlKGFuaW1hdGlvbik7XG4gICAgICBhbmltYXRpb24uYWR2YW5jZShkdCk7XG4gICAgICBpZiAoIWFuaW1hdGlvbi5pZGxlKSB7XG4gICAgICAgIG5leHRGcmFtZS5wdXNoKGFuaW1hdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHByaW9yaXR5ID0gMDtcbiAgcHJldkZyYW1lID0gY3VycmVudEZyYW1lO1xuICBwcmV2RnJhbWUubGVuZ3RoID0gMDtcbiAgY3VycmVudEZyYW1lID0gbmV4dEZyYW1lO1xuICByZXR1cm4gY3VycmVudEZyYW1lLmxlbmd0aCA+IDA7XG59XG5mdW5jdGlvbiBmaW5kSW5kZXgoYXJyLCB0ZXN0KSB7XG4gIGNvbnN0IGluZGV4ID0gYXJyLmZpbmRJbmRleCh0ZXN0KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IGFyci5sZW5ndGggOiBpbmRleDtcbn1cblxuLy8gc3JjL2NsYW1wLnRzXG52YXIgY2xhbXAgPSAobWluLCBtYXgsIHYpID0+IE1hdGgubWluKE1hdGgubWF4KHYsIG1pbiksIG1heCk7XG5cbi8vIHNyYy9jb2xvcnMudHNcbnZhciBjb2xvcnMyID0ge1xuICB0cmFuc3BhcmVudDogMCxcbiAgYWxpY2VibHVlOiA0MDQyODUwMzAzLFxuICBhbnRpcXVld2hpdGU6IDQyMDk3NjAyNTUsXG4gIGFxdWE6IDE2Nzc3MjE1LFxuICBhcXVhbWFyaW5lOiAyMTQ3NDcyNjM5LFxuICBhenVyZTogNDA0MzMwOTA1NSxcbiAgYmVpZ2U6IDQxMjY1MzA4MTUsXG4gIGJpc3F1ZTogNDI5MzE4MjcxOSxcbiAgYmxhY2s6IDI1NSxcbiAgYmxhbmNoZWRhbG1vbmQ6IDQyOTM2NDM3NzUsXG4gIGJsdWU6IDY1NTM1LFxuICBibHVldmlvbGV0OiAyMzE4MTMxOTY3LFxuICBicm93bjogMjc3MTAwNDE1OSxcbiAgYnVybHl3b29kOiAzNzM2NjM1MzkxLFxuICBidXJudHNpZW5uYTogMzkzNDE1MDE0MyxcbiAgY2FkZXRibHVlOiAxNjA0MjMxNDIzLFxuICBjaGFydHJldXNlOiAyMTQ3NDE4MzY3LFxuICBjaG9jb2xhdGU6IDM1MzAxMDQ1NzUsXG4gIGNvcmFsOiA0Mjg2NTMzODg3LFxuICBjb3JuZmxvd2VyYmx1ZTogMTY4NzU0NzM5MSxcbiAgY29ybnNpbGs6IDQyOTQ0OTk1ODMsXG4gIGNyaW1zb246IDM2OTIzMTM4NTUsXG4gIGN5YW46IDE2Nzc3MjE1LFxuICBkYXJrYmx1ZTogMzU4MzksXG4gIGRhcmtjeWFuOiA5MTQ1MzQzLFxuICBkYXJrZ29sZGVucm9kOiAzMDk1NzkyNjM5LFxuICBkYXJrZ3JheTogMjg0NjQ2ODYwNyxcbiAgZGFya2dyZWVuOiA2NTUzODU1LFxuICBkYXJrZ3JleTogMjg0NjQ2ODYwNyxcbiAgZGFya2toYWtpOiAzMTgyOTE0NTU5LFxuICBkYXJrbWFnZW50YTogMjMzMjA2ODg2MyxcbiAgZGFya29saXZlZ3JlZW46IDE0MzMwODc5OTksXG4gIGRhcmtvcmFuZ2U6IDQyODczNjUzNzUsXG4gIGRhcmtvcmNoaWQ6IDI1NzAyNDMzMjcsXG4gIGRhcmtyZWQ6IDIzMzIwMzMyNzksXG4gIGRhcmtzYWxtb246IDM5MTg5NTMyMTUsXG4gIGRhcmtzZWFncmVlbjogMjQxMTQ5OTUxOSxcbiAgZGFya3NsYXRlYmx1ZTogMTIxMTk5MzA4NyxcbiAgZGFya3NsYXRlZ3JheTogNzkzNzI2OTc1LFxuICBkYXJrc2xhdGVncmV5OiA3OTM3MjY5NzUsXG4gIGRhcmt0dXJxdW9pc2U6IDEzNTU0MTc1LFxuICBkYXJrdmlvbGV0OiAyNDgzMDgyMjM5LFxuICBkZWVwcGluazogNDI3OTUzODY4NyxcbiAgZGVlcHNreWJsdWU6IDEyNTgyOTExLFxuICBkaW1ncmF5OiAxNzY4NTE2MDk1LFxuICBkaW1ncmV5OiAxNzY4NTE2MDk1LFxuICBkb2RnZXJibHVlOiA1MTI4MTkxOTksXG4gIGZpcmVicmljazogMjk4ODU4MTYzMSxcbiAgZmxvcmFsd2hpdGU6IDQyOTQ2MzU3NzUsXG4gIGZvcmVzdGdyZWVuOiA1Nzk1NDM4MDcsXG4gIGZ1Y2hzaWE6IDQyNzgyNTU2MTUsXG4gIGdhaW5zYm9ybzogMzcwNTQ2MjAxNSxcbiAgZ2hvc3R3aGl0ZTogNDE3NzA2ODAzMSxcbiAgZ29sZDogNDI5MjI4MDU3NSxcbiAgZ29sZGVucm9kOiAzNjY4MjU0OTc1LFxuICBncmF5OiAyMTU1OTA1Mjc5LFxuICBncmVlbjogODM4ODg2MyxcbiAgZ3JlZW55ZWxsb3c6IDI5MTkxODIzMzUsXG4gIGdyZXk6IDIxNTU5MDUyNzksXG4gIGhvbmV5ZGV3OiA0MDQzMzA1MjE1LFxuICBob3RwaW5rOiA0Mjg1MTE3Njk1LFxuICBpbmRpYW5yZWQ6IDM0NDUzODIzOTksXG4gIGluZGlnbzogMTI1ODMyNDczNSxcbiAgaXZvcnk6IDQyOTQ5NjM0NTUsXG4gIGtoYWtpOiA0MDQxNjQxMjE1LFxuICBsYXZlbmRlcjogMzg3Mzg5NzIxNSxcbiAgbGF2ZW5kZXJibHVzaDogNDI5Mzk4MTY5NSxcbiAgbGF3bmdyZWVuOiAyMDk2ODkwMTExLFxuICBsZW1vbmNoaWZmb246IDQyOTQ2MjY4MTUsXG4gIGxpZ2h0Ymx1ZTogMjkxNjY3MzI3OSxcbiAgbGlnaHRjb3JhbDogNDAzNDk1MzQ3MSxcbiAgbGlnaHRjeWFuOiAzNzc0ODczNTk5LFxuICBsaWdodGdvbGRlbnJvZHllbGxvdzogNDIxMDc0MjAxNSxcbiAgbGlnaHRncmF5OiAzNTUzODc0OTQzLFxuICBsaWdodGdyZWVuOiAyNDMxNTUzNzkxLFxuICBsaWdodGdyZXk6IDM1NTM4NzQ5NDMsXG4gIGxpZ2h0cGluazogNDI5MDE2NzI5NSxcbiAgbGlnaHRzYWxtb246IDQyODg3MDczMjcsXG4gIGxpZ2h0c2VhZ3JlZW46IDU0ODU4MDA5NSxcbiAgbGlnaHRza3libHVlOiAyMjc4NDg4ODMxLFxuICBsaWdodHNsYXRlZ3JheTogMjAwNTQ0MTAyMyxcbiAgbGlnaHRzbGF0ZWdyZXk6IDIwMDU0NDEwMjMsXG4gIGxpZ2h0c3RlZWxibHVlOiAyOTY1NjkyMTU5LFxuICBsaWdodHllbGxvdzogNDI5NDk1OTM1OSxcbiAgbGltZTogMTY3MTE5MzUsXG4gIGxpbWVncmVlbjogODUyMzA4NzM1LFxuICBsaW5lbjogNDIxMDA5MTc3NSxcbiAgbWFnZW50YTogNDI3ODI1NTYxNSxcbiAgbWFyb29uOiAyMTQ3NDgzOTAzLFxuICBtZWRpdW1hcXVhbWFyaW5lOiAxNzI0NzU0Njg3LFxuICBtZWRpdW1ibHVlOiA1MjczNSxcbiAgbWVkaXVtb3JjaGlkOiAzMTI2MTg3MDA3LFxuICBtZWRpdW1wdXJwbGU6IDI0NzM2NDcxMDMsXG4gIG1lZGl1bXNlYWdyZWVuOiAxMDE4MzkzMDg3LFxuICBtZWRpdW1zbGF0ZWJsdWU6IDIwNzA0NzQ0OTUsXG4gIG1lZGl1bXNwcmluZ2dyZWVuOiAxNjQyMzY3OSxcbiAgbWVkaXVtdHVycXVvaXNlOiAxMjIxNzA5MDU1LFxuICBtZWRpdW12aW9sZXRyZWQ6IDMzNDAwNzY1NDMsXG4gIG1pZG5pZ2h0Ymx1ZTogNDIxMDk3NzI3LFxuICBtaW50Y3JlYW06IDQxMjcxOTM4NTUsXG4gIG1pc3R5cm9zZTogNDI5MzE5MDE0MyxcbiAgbW9jY2FzaW46IDQyOTMxNzg4NzksXG4gIG5hdmFqb3doaXRlOiA0MjkyNzgzNjE1LFxuICBuYXZ5OiAzMzAyMyxcbiAgb2xkbGFjZTogNDI2MDc1MTEwMyxcbiAgb2xpdmU6IDIxNTU4NzI1MTEsXG4gIG9saXZlZHJhYjogMTgwNDQ3NzQzOSxcbiAgb3JhbmdlOiA0Mjg5MDAzNzc1LFxuICBvcmFuZ2VyZWQ6IDQyODI3MTIzMTksXG4gIG9yY2hpZDogMzY2NDgyODE1OSxcbiAgcGFsZWdvbGRlbnJvZDogNDAwODIyNTUzNSxcbiAgcGFsZWdyZWVuOiAyNTY2NjI1NTM1LFxuICBwYWxldHVycXVvaXNlOiAyOTUxNjcxNTUxLFxuICBwYWxldmlvbGV0cmVkOiAzNjgxNTg4MjIzLFxuICBwYXBheWF3aGlwOiA0MjkzOTA3OTY3LFxuICBwZWFjaHB1ZmY6IDQyOTI1MjQ1NDMsXG4gIHBlcnU6IDM0NDgwNjE5NTEsXG4gIHBpbms6IDQyOTA4MjUyMTUsXG4gIHBsdW06IDM3MTgzMDczMjcsXG4gIHBvd2RlcmJsdWU6IDI5Njc1MjkyMTUsXG4gIHB1cnBsZTogMjE0NzUxNjY3MSxcbiAgcmViZWNjYXB1cnBsZTogMTcxNDY1Nzc5MSxcbiAgcmVkOiA0Mjc4MTkwMzM1LFxuICByb3N5YnJvd246IDMxNjM1MjUxMTksXG4gIHJveWFsYmx1ZTogMTA5NzQ1ODE3NSxcbiAgc2FkZGxlYnJvd246IDIzMzY1NjAxMjcsXG4gIHNhbG1vbjogNDIwMjcyMjA0NyxcbiAgc2FuZHlicm93bjogNDEwNDQxMzQzOSxcbiAgc2VhZ3JlZW46IDc4MDg4Mzk2NyxcbiAgc2Vhc2hlbGw6IDQyOTQzMDc1ODMsXG4gIHNpZW5uYTogMjY4OTc0MDI4NyxcbiAgc2lsdmVyOiAzMjMzODU3NzkxLFxuICBza3libHVlOiAyMjc4NDg0OTkxLFxuICBzbGF0ZWJsdWU6IDE3ODQzMzU4NzEsXG4gIHNsYXRlZ3JheTogMTg4NzQ3MzkxOSxcbiAgc2xhdGVncmV5OiAxODg3NDczOTE5LFxuICBzbm93OiA0Mjk0NjM4MzM1LFxuICBzcHJpbmdncmVlbjogMTY3NDQ0NDcsXG4gIHN0ZWVsYmx1ZTogMTE4Mjk3MTEzNSxcbiAgdGFuOiAzNTM1MDQ3OTM1LFxuICB0ZWFsOiA4NDIxNjMxLFxuICB0aGlzdGxlOiAzNjM2NDUxNTgzLFxuICB0b21hdG86IDQyODQ2OTY1NzUsXG4gIHR1cnF1b2lzZTogMTA4ODQ3NTM5MSxcbiAgdmlvbGV0OiA0MDAxNTU4MjcxLFxuICB3aGVhdDogNDEyNTAxMjk5MSxcbiAgd2hpdGU6IDQyOTQ5NjcyOTUsXG4gIHdoaXRlc21va2U6IDQxMjY1MzcyMTUsXG4gIHllbGxvdzogNDI5NDkwMjAxNSxcbiAgeWVsbG93Z3JlZW46IDI1OTcxMzkxOTlcbn07XG5cbi8vIHNyYy9jb2xvck1hdGNoZXJzLnRzXG52YXIgTlVNQkVSID0gXCJbLStdP1xcXFxkKlxcXFwuP1xcXFxkK1wiO1xudmFyIFBFUkNFTlRBR0UgPSBOVU1CRVIgKyBcIiVcIjtcbmZ1bmN0aW9uIGNhbGwoLi4ucGFydHMpIHtcbiAgcmV0dXJuIFwiXFxcXChcXFxccyooXCIgKyBwYXJ0cy5qb2luKFwiKVxcXFxzKixcXFxccyooXCIpICsgXCIpXFxcXHMqXFxcXClcIjtcbn1cbnZhciByZ2IgPSBuZXcgUmVnRXhwKFwicmdiXCIgKyBjYWxsKE5VTUJFUiwgTlVNQkVSLCBOVU1CRVIpKTtcbnZhciByZ2JhID0gbmV3IFJlZ0V4cChcInJnYmFcIiArIGNhbGwoTlVNQkVSLCBOVU1CRVIsIE5VTUJFUiwgTlVNQkVSKSk7XG52YXIgaHNsID0gbmV3IFJlZ0V4cChcImhzbFwiICsgY2FsbChOVU1CRVIsIFBFUkNFTlRBR0UsIFBFUkNFTlRBR0UpKTtcbnZhciBoc2xhID0gbmV3IFJlZ0V4cChcbiAgXCJoc2xhXCIgKyBjYWxsKE5VTUJFUiwgUEVSQ0VOVEFHRSwgUEVSQ0VOVEFHRSwgTlVNQkVSKVxuKTtcbnZhciBoZXgzID0gL14jKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pJC87XG52YXIgaGV4NCA9IC9eIyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkkLztcbnZhciBoZXg2ID0gL14jKFswLTlhLWZBLUZdezZ9KSQvO1xudmFyIGhleDggPSAvXiMoWzAtOWEtZkEtRl17OH0pJC87XG5cbi8vIHNyYy9ub3JtYWxpemVDb2xvci50c1xuZnVuY3Rpb24gbm9ybWFsaXplQ29sb3IoY29sb3IpIHtcbiAgbGV0IG1hdGNoO1xuICBpZiAodHlwZW9mIGNvbG9yID09PSBcIm51bWJlclwiKSB7XG4gICAgcmV0dXJuIGNvbG9yID4+PiAwID09PSBjb2xvciAmJiBjb2xvciA+PSAwICYmIGNvbG9yIDw9IDQyOTQ5NjcyOTUgPyBjb2xvciA6IG51bGw7XG4gIH1cbiAgaWYgKG1hdGNoID0gaGV4Ni5leGVjKGNvbG9yKSlcbiAgICByZXR1cm4gcGFyc2VJbnQobWF0Y2hbMV0gKyBcImZmXCIsIDE2KSA+Pj4gMDtcbiAgaWYgKGNvbG9ycyAmJiBjb2xvcnNbY29sb3JdICE9PSB2b2lkIDApIHtcbiAgICByZXR1cm4gY29sb3JzW2NvbG9yXTtcbiAgfVxuICBpZiAobWF0Y2ggPSByZ2IuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gKHBhcnNlMjU1KG1hdGNoWzFdKSA8PCAyNCB8IC8vIHJcbiAgICBwYXJzZTI1NShtYXRjaFsyXSkgPDwgMTYgfCAvLyBnXG4gICAgcGFyc2UyNTUobWF0Y2hbM10pIDw8IDggfCAvLyBiXG4gICAgMjU1KSA+Pj4gLy8gYVxuICAgIDA7XG4gIH1cbiAgaWYgKG1hdGNoID0gcmdiYS5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAocGFyc2UyNTUobWF0Y2hbMV0pIDw8IDI0IHwgLy8gclxuICAgIHBhcnNlMjU1KG1hdGNoWzJdKSA8PCAxNiB8IC8vIGdcbiAgICBwYXJzZTI1NShtYXRjaFszXSkgPDwgOCB8IC8vIGJcbiAgICBwYXJzZTEobWF0Y2hbNF0pKSA+Pj4gLy8gYVxuICAgIDA7XG4gIH1cbiAgaWYgKG1hdGNoID0gaGV4My5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiBwYXJzZUludChcbiAgICAgIG1hdGNoWzFdICsgbWF0Y2hbMV0gKyAvLyByXG4gICAgICBtYXRjaFsyXSArIG1hdGNoWzJdICsgLy8gZ1xuICAgICAgbWF0Y2hbM10gKyBtYXRjaFszXSArIC8vIGJcbiAgICAgIFwiZmZcIixcbiAgICAgIC8vIGFcbiAgICAgIDE2XG4gICAgKSA+Pj4gMDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoZXg4LmV4ZWMoY29sb3IpKVxuICAgIHJldHVybiBwYXJzZUludChtYXRjaFsxXSwgMTYpID4+PiAwO1xuICBpZiAobWF0Y2ggPSBoZXg0LmV4ZWMoY29sb3IpKSB7XG4gICAgcmV0dXJuIHBhcnNlSW50KFxuICAgICAgbWF0Y2hbMV0gKyBtYXRjaFsxXSArIC8vIHJcbiAgICAgIG1hdGNoWzJdICsgbWF0Y2hbMl0gKyAvLyBnXG4gICAgICBtYXRjaFszXSArIG1hdGNoWzNdICsgLy8gYlxuICAgICAgbWF0Y2hbNF0gKyBtYXRjaFs0XSxcbiAgICAgIC8vIGFcbiAgICAgIDE2XG4gICAgKSA+Pj4gMDtcbiAgfVxuICBpZiAobWF0Y2ggPSBoc2wuZXhlYyhjb2xvcikpIHtcbiAgICByZXR1cm4gKGhzbFRvUmdiKFxuICAgICAgcGFyc2UzNjAobWF0Y2hbMV0pLFxuICAgICAgLy8gaFxuICAgICAgcGFyc2VQZXJjZW50YWdlKG1hdGNoWzJdKSxcbiAgICAgIC8vIHNcbiAgICAgIHBhcnNlUGVyY2VudGFnZShtYXRjaFszXSlcbiAgICAgIC8vIGxcbiAgICApIHwgMjU1KSA+Pj4gLy8gYVxuICAgIDA7XG4gIH1cbiAgaWYgKG1hdGNoID0gaHNsYS5leGVjKGNvbG9yKSkge1xuICAgIHJldHVybiAoaHNsVG9SZ2IoXG4gICAgICBwYXJzZTM2MChtYXRjaFsxXSksXG4gICAgICAvLyBoXG4gICAgICBwYXJzZVBlcmNlbnRhZ2UobWF0Y2hbMl0pLFxuICAgICAgLy8gc1xuICAgICAgcGFyc2VQZXJjZW50YWdlKG1hdGNoWzNdKVxuICAgICAgLy8gbFxuICAgICkgfCBwYXJzZTEobWF0Y2hbNF0pKSA+Pj4gLy8gYVxuICAgIDA7XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBodWUycmdiKHAsIHEsIHQpIHtcbiAgaWYgKHQgPCAwKVxuICAgIHQgKz0gMTtcbiAgaWYgKHQgPiAxKVxuICAgIHQgLT0gMTtcbiAgaWYgKHQgPCAxIC8gNilcbiAgICByZXR1cm4gcCArIChxIC0gcCkgKiA2ICogdDtcbiAgaWYgKHQgPCAxIC8gMilcbiAgICByZXR1cm4gcTtcbiAgaWYgKHQgPCAyIC8gMylcbiAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoMiAvIDMgLSB0KSAqIDY7XG4gIHJldHVybiBwO1xufVxuZnVuY3Rpb24gaHNsVG9SZ2IoaCwgcywgbCkge1xuICBjb25zdCBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgY29uc3QgcCA9IDIgKiBsIC0gcTtcbiAgY29uc3QgciA9IGh1ZTJyZ2IocCwgcSwgaCArIDEgLyAzKTtcbiAgY29uc3QgZyA9IGh1ZTJyZ2IocCwgcSwgaCk7XG4gIGNvbnN0IGIgPSBodWUycmdiKHAsIHEsIGggLSAxIC8gMyk7XG4gIHJldHVybiBNYXRoLnJvdW5kKHIgKiAyNTUpIDw8IDI0IHwgTWF0aC5yb3VuZChnICogMjU1KSA8PCAxNiB8IE1hdGgucm91bmQoYiAqIDI1NSkgPDwgODtcbn1cbmZ1bmN0aW9uIHBhcnNlMjU1KHN0cikge1xuICBjb25zdCBpbnQgPSBwYXJzZUludChzdHIsIDEwKTtcbiAgaWYgKGludCA8IDApXG4gICAgcmV0dXJuIDA7XG4gIGlmIChpbnQgPiAyNTUpXG4gICAgcmV0dXJuIDI1NTtcbiAgcmV0dXJuIGludDtcbn1cbmZ1bmN0aW9uIHBhcnNlMzYwKHN0cikge1xuICBjb25zdCBpbnQgPSBwYXJzZUZsb2F0KHN0cik7XG4gIHJldHVybiAoaW50ICUgMzYwICsgMzYwKSAlIDM2MCAvIDM2MDtcbn1cbmZ1bmN0aW9uIHBhcnNlMShzdHIpIHtcbiAgY29uc3QgbnVtID0gcGFyc2VGbG9hdChzdHIpO1xuICBpZiAobnVtIDwgMClcbiAgICByZXR1cm4gMDtcbiAgaWYgKG51bSA+IDEpXG4gICAgcmV0dXJuIDI1NTtcbiAgcmV0dXJuIE1hdGgucm91bmQobnVtICogMjU1KTtcbn1cbmZ1bmN0aW9uIHBhcnNlUGVyY2VudGFnZShzdHIpIHtcbiAgY29uc3QgaW50ID0gcGFyc2VGbG9hdChzdHIpO1xuICBpZiAoaW50IDwgMClcbiAgICByZXR1cm4gMDtcbiAgaWYgKGludCA+IDEwMClcbiAgICByZXR1cm4gMTtcbiAgcmV0dXJuIGludCAvIDEwMDtcbn1cblxuLy8gc3JjL2NvbG9yVG9SZ2JhLnRzXG5mdW5jdGlvbiBjb2xvclRvUmdiYShpbnB1dCkge1xuICBsZXQgaW50MzJDb2xvciA9IG5vcm1hbGl6ZUNvbG9yKGlucHV0KTtcbiAgaWYgKGludDMyQ29sb3IgPT09IG51bGwpXG4gICAgcmV0dXJuIGlucHV0O1xuICBpbnQzMkNvbG9yID0gaW50MzJDb2xvciB8fCAwO1xuICBjb25zdCByID0gKGludDMyQ29sb3IgJiA0Mjc4MTkwMDgwKSA+Pj4gMjQ7XG4gIGNvbnN0IGcgPSAoaW50MzJDb2xvciAmIDE2NzExNjgwKSA+Pj4gMTY7XG4gIGNvbnN0IGIgPSAoaW50MzJDb2xvciAmIDY1MjgwKSA+Pj4gODtcbiAgY29uc3QgYSA9IChpbnQzMkNvbG9yICYgMjU1KSAvIDI1NTtcbiAgcmV0dXJuIGByZ2JhKCR7cn0sICR7Z30sICR7Yn0sICR7YX0pYDtcbn1cblxuLy8gc3JjL2NyZWF0ZUludGVycG9sYXRvci50c1xudmFyIGNyZWF0ZUludGVycG9sYXRvciA9IChyYW5nZSwgb3V0cHV0LCBleHRyYXBvbGF0ZSkgPT4ge1xuICBpZiAoaXMuZnVuKHJhbmdlKSkge1xuICAgIHJldHVybiByYW5nZTtcbiAgfVxuICBpZiAoaXMuYXJyKHJhbmdlKSkge1xuICAgIHJldHVybiBjcmVhdGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgcmFuZ2UsXG4gICAgICBvdXRwdXQsXG4gICAgICBleHRyYXBvbGF0ZVxuICAgIH0pO1xuICB9XG4gIGlmIChpcy5zdHIocmFuZ2Uub3V0cHV0WzBdKSkge1xuICAgIHJldHVybiBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IocmFuZ2UpO1xuICB9XG4gIGNvbnN0IGNvbmZpZyA9IHJhbmdlO1xuICBjb25zdCBvdXRwdXRSYW5nZSA9IGNvbmZpZy5vdXRwdXQ7XG4gIGNvbnN0IGlucHV0UmFuZ2UgPSBjb25maWcucmFuZ2UgfHwgWzAsIDFdO1xuICBjb25zdCBleHRyYXBvbGF0ZUxlZnQgPSBjb25maWcuZXh0cmFwb2xhdGVMZWZ0IHx8IGNvbmZpZy5leHRyYXBvbGF0ZSB8fCBcImV4dGVuZFwiO1xuICBjb25zdCBleHRyYXBvbGF0ZVJpZ2h0ID0gY29uZmlnLmV4dHJhcG9sYXRlUmlnaHQgfHwgY29uZmlnLmV4dHJhcG9sYXRlIHx8IFwiZXh0ZW5kXCI7XG4gIGNvbnN0IGVhc2luZyA9IGNvbmZpZy5lYXNpbmcgfHwgKCh0KSA9PiB0KTtcbiAgcmV0dXJuIChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHJhbmdlMiA9IGZpbmRSYW5nZShpbnB1dCwgaW5wdXRSYW5nZSk7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKFxuICAgICAgaW5wdXQsXG4gICAgICBpbnB1dFJhbmdlW3JhbmdlMl0sXG4gICAgICBpbnB1dFJhbmdlW3JhbmdlMiArIDFdLFxuICAgICAgb3V0cHV0UmFuZ2VbcmFuZ2UyXSxcbiAgICAgIG91dHB1dFJhbmdlW3JhbmdlMiArIDFdLFxuICAgICAgZWFzaW5nLFxuICAgICAgZXh0cmFwb2xhdGVMZWZ0LFxuICAgICAgZXh0cmFwb2xhdGVSaWdodCxcbiAgICAgIGNvbmZpZy5tYXBcbiAgICApO1xuICB9O1xufTtcbmZ1bmN0aW9uIGludGVycG9sYXRlKGlucHV0LCBpbnB1dE1pbiwgaW5wdXRNYXgsIG91dHB1dE1pbiwgb3V0cHV0TWF4LCBlYXNpbmcsIGV4dHJhcG9sYXRlTGVmdCwgZXh0cmFwb2xhdGVSaWdodCwgbWFwKSB7XG4gIGxldCByZXN1bHQgPSBtYXAgPyBtYXAoaW5wdXQpIDogaW5wdXQ7XG4gIGlmIChyZXN1bHQgPCBpbnB1dE1pbikge1xuICAgIGlmIChleHRyYXBvbGF0ZUxlZnQgPT09IFwiaWRlbnRpdHlcIilcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgZWxzZSBpZiAoZXh0cmFwb2xhdGVMZWZ0ID09PSBcImNsYW1wXCIpXG4gICAgICByZXN1bHQgPSBpbnB1dE1pbjtcbiAgfVxuICBpZiAocmVzdWx0ID4gaW5wdXRNYXgpIHtcbiAgICBpZiAoZXh0cmFwb2xhdGVSaWdodCA9PT0gXCJpZGVudGl0eVwiKVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICBlbHNlIGlmIChleHRyYXBvbGF0ZVJpZ2h0ID09PSBcImNsYW1wXCIpXG4gICAgICByZXN1bHQgPSBpbnB1dE1heDtcbiAgfVxuICBpZiAob3V0cHV0TWluID09PSBvdXRwdXRNYXgpXG4gICAgcmV0dXJuIG91dHB1dE1pbjtcbiAgaWYgKGlucHV0TWluID09PSBpbnB1dE1heClcbiAgICByZXR1cm4gaW5wdXQgPD0gaW5wdXRNaW4gPyBvdXRwdXRNaW4gOiBvdXRwdXRNYXg7XG4gIGlmIChpbnB1dE1pbiA9PT0gLUluZmluaXR5KVxuICAgIHJlc3VsdCA9IC1yZXN1bHQ7XG4gIGVsc2UgaWYgKGlucHV0TWF4ID09PSBJbmZpbml0eSlcbiAgICByZXN1bHQgPSByZXN1bHQgLSBpbnB1dE1pbjtcbiAgZWxzZVxuICAgIHJlc3VsdCA9IChyZXN1bHQgLSBpbnB1dE1pbikgLyAoaW5wdXRNYXggLSBpbnB1dE1pbik7XG4gIHJlc3VsdCA9IGVhc2luZyhyZXN1bHQpO1xuICBpZiAob3V0cHV0TWluID09PSAtSW5maW5pdHkpXG4gICAgcmVzdWx0ID0gLXJlc3VsdDtcbiAgZWxzZSBpZiAob3V0cHV0TWF4ID09PSBJbmZpbml0eSlcbiAgICByZXN1bHQgPSByZXN1bHQgKyBvdXRwdXRNaW47XG4gIGVsc2VcbiAgICByZXN1bHQgPSByZXN1bHQgKiAob3V0cHV0TWF4IC0gb3V0cHV0TWluKSArIG91dHB1dE1pbjtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGZpbmRSYW5nZShpbnB1dCwgaW5wdXRSYW5nZSkge1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGlucHV0UmFuZ2UubGVuZ3RoIC0gMTsgKytpKVxuICAgIGlmIChpbnB1dFJhbmdlW2ldID49IGlucHV0KVxuICAgICAgYnJlYWs7XG4gIHJldHVybiBpIC0gMTtcbn1cblxuLy8gc3JjL2Vhc2luZ3MudHNcbnZhciBzdGVwcyA9IChzdGVwczIsIGRpcmVjdGlvbiA9IFwiZW5kXCIpID0+IChwcm9ncmVzczIpID0+IHtcbiAgcHJvZ3Jlc3MyID0gZGlyZWN0aW9uID09PSBcImVuZFwiID8gTWF0aC5taW4ocHJvZ3Jlc3MyLCAwLjk5OSkgOiBNYXRoLm1heChwcm9ncmVzczIsIDFlLTMpO1xuICBjb25zdCBleHBhbmRlZCA9IHByb2dyZXNzMiAqIHN0ZXBzMjtcbiAgY29uc3Qgcm91bmRlZCA9IGRpcmVjdGlvbiA9PT0gXCJlbmRcIiA/IE1hdGguZmxvb3IoZXhwYW5kZWQpIDogTWF0aC5jZWlsKGV4cGFuZGVkKTtcbiAgcmV0dXJuIGNsYW1wKDAsIDEsIHJvdW5kZWQgLyBzdGVwczIpO1xufTtcbnZhciBjMSA9IDEuNzAxNTg7XG52YXIgYzIgPSBjMSAqIDEuNTI1O1xudmFyIGMzID0gYzEgKyAxO1xudmFyIGM0ID0gMiAqIE1hdGguUEkgLyAzO1xudmFyIGM1ID0gMiAqIE1hdGguUEkgLyA0LjU7XG52YXIgYm91bmNlT3V0ID0gKHgpID0+IHtcbiAgY29uc3QgbjEgPSA3LjU2MjU7XG4gIGNvbnN0IGQxID0gMi43NTtcbiAgaWYgKHggPCAxIC8gZDEpIHtcbiAgICByZXR1cm4gbjEgKiB4ICogeDtcbiAgfSBlbHNlIGlmICh4IDwgMiAvIGQxKSB7XG4gICAgcmV0dXJuIG4xICogKHggLT0gMS41IC8gZDEpICogeCArIDAuNzU7XG4gIH0gZWxzZSBpZiAoeCA8IDIuNSAvIGQxKSB7XG4gICAgcmV0dXJuIG4xICogKHggLT0gMi4yNSAvIGQxKSAqIHggKyAwLjkzNzU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG4xICogKHggLT0gMi42MjUgLyBkMSkgKiB4ICsgMC45ODQzNzU7XG4gIH1cbn07XG52YXIgZWFzaW5ncyA9IHtcbiAgbGluZWFyOiAoeCkgPT4geCxcbiAgZWFzZUluUXVhZDogKHgpID0+IHggKiB4LFxuICBlYXNlT3V0UXVhZDogKHgpID0+IDEgLSAoMSAtIHgpICogKDEgLSB4KSxcbiAgZWFzZUluT3V0UXVhZDogKHgpID0+IHggPCAwLjUgPyAyICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgMikgLyAyLFxuICBlYXNlSW5DdWJpYzogKHgpID0+IHggKiB4ICogeCxcbiAgZWFzZU91dEN1YmljOiAoeCkgPT4gMSAtIE1hdGgucG93KDEgLSB4LCAzKSxcbiAgZWFzZUluT3V0Q3ViaWM6ICh4KSA9PiB4IDwgMC41ID8gNCAqIHggKiB4ICogeCA6IDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCAzKSAvIDIsXG4gIGVhc2VJblF1YXJ0OiAoeCkgPT4geCAqIHggKiB4ICogeCxcbiAgZWFzZU91dFF1YXJ0OiAoeCkgPT4gMSAtIE1hdGgucG93KDEgLSB4LCA0KSxcbiAgZWFzZUluT3V0UXVhcnQ6ICh4KSA9PiB4IDwgMC41ID8gOCAqIHggKiB4ICogeCAqIHggOiAxIC0gTWF0aC5wb3coLTIgKiB4ICsgMiwgNCkgLyAyLFxuICBlYXNlSW5RdWludDogKHgpID0+IHggKiB4ICogeCAqIHggKiB4LFxuICBlYXNlT3V0UXVpbnQ6ICh4KSA9PiAxIC0gTWF0aC5wb3coMSAtIHgsIDUpLFxuICBlYXNlSW5PdXRRdWludDogKHgpID0+IHggPCAwLjUgPyAxNiAqIHggKiB4ICogeCAqIHggKiB4IDogMSAtIE1hdGgucG93KC0yICogeCArIDIsIDUpIC8gMixcbiAgZWFzZUluU2luZTogKHgpID0+IDEgLSBNYXRoLmNvcyh4ICogTWF0aC5QSSAvIDIpLFxuICBlYXNlT3V0U2luZTogKHgpID0+IE1hdGguc2luKHggKiBNYXRoLlBJIC8gMiksXG4gIGVhc2VJbk91dFNpbmU6ICh4KSA9PiAtKE1hdGguY29zKE1hdGguUEkgKiB4KSAtIDEpIC8gMixcbiAgZWFzZUluRXhwbzogKHgpID0+IHggPT09IDAgPyAwIDogTWF0aC5wb3coMiwgMTAgKiB4IC0gMTApLFxuICBlYXNlT3V0RXhwbzogKHgpID0+IHggPT09IDEgPyAxIDogMSAtIE1hdGgucG93KDIsIC0xMCAqIHgpLFxuICBlYXNlSW5PdXRFeHBvOiAoeCkgPT4geCA9PT0gMCA/IDAgOiB4ID09PSAxID8gMSA6IHggPCAwLjUgPyBNYXRoLnBvdygyLCAyMCAqIHggLSAxMCkgLyAyIDogKDIgLSBNYXRoLnBvdygyLCAtMjAgKiB4ICsgMTApKSAvIDIsXG4gIGVhc2VJbkNpcmM6ICh4KSA9PiAxIC0gTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdyh4LCAyKSksXG4gIGVhc2VPdXRDaXJjOiAoeCkgPT4gTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdyh4IC0gMSwgMikpLFxuICBlYXNlSW5PdXRDaXJjOiAoeCkgPT4geCA8IDAuNSA/ICgxIC0gTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdygyICogeCwgMikpKSAvIDIgOiAoTWF0aC5zcXJ0KDEgLSBNYXRoLnBvdygtMiAqIHggKyAyLCAyKSkgKyAxKSAvIDIsXG4gIGVhc2VJbkJhY2s6ICh4KSA9PiBjMyAqIHggKiB4ICogeCAtIGMxICogeCAqIHgsXG4gIGVhc2VPdXRCYWNrOiAoeCkgPT4gMSArIGMzICogTWF0aC5wb3coeCAtIDEsIDMpICsgYzEgKiBNYXRoLnBvdyh4IC0gMSwgMiksXG4gIGVhc2VJbk91dEJhY2s6ICh4KSA9PiB4IDwgMC41ID8gTWF0aC5wb3coMiAqIHgsIDIpICogKChjMiArIDEpICogMiAqIHggLSBjMikgLyAyIDogKE1hdGgucG93KDIgKiB4IC0gMiwgMikgKiAoKGMyICsgMSkgKiAoeCAqIDIgLSAyKSArIGMyKSArIDIpIC8gMixcbiAgZWFzZUluRWxhc3RpYzogKHgpID0+IHggPT09IDAgPyAwIDogeCA9PT0gMSA/IDEgOiAtTWF0aC5wb3coMiwgMTAgKiB4IC0gMTApICogTWF0aC5zaW4oKHggKiAxMCAtIDEwLjc1KSAqIGM0KSxcbiAgZWFzZU91dEVsYXN0aWM6ICh4KSA9PiB4ID09PSAwID8gMCA6IHggPT09IDEgPyAxIDogTWF0aC5wb3coMiwgLTEwICogeCkgKiBNYXRoLnNpbigoeCAqIDEwIC0gMC43NSkgKiBjNCkgKyAxLFxuICBlYXNlSW5PdXRFbGFzdGljOiAoeCkgPT4geCA9PT0gMCA/IDAgOiB4ID09PSAxID8gMSA6IHggPCAwLjUgPyAtKE1hdGgucG93KDIsIDIwICogeCAtIDEwKSAqIE1hdGguc2luKCgyMCAqIHggLSAxMS4xMjUpICogYzUpKSAvIDIgOiBNYXRoLnBvdygyLCAtMjAgKiB4ICsgMTApICogTWF0aC5zaW4oKDIwICogeCAtIDExLjEyNSkgKiBjNSkgLyAyICsgMSxcbiAgZWFzZUluQm91bmNlOiAoeCkgPT4gMSAtIGJvdW5jZU91dCgxIC0geCksXG4gIGVhc2VPdXRCb3VuY2U6IGJvdW5jZU91dCxcbiAgZWFzZUluT3V0Qm91bmNlOiAoeCkgPT4geCA8IDAuNSA/ICgxIC0gYm91bmNlT3V0KDEgLSAyICogeCkpIC8gMiA6ICgxICsgYm91bmNlT3V0KDIgKiB4IC0gMSkpIC8gMixcbiAgc3RlcHNcbn07XG5cbi8vIHNyYy9mbHVpZHMudHNcbnZhciAkZ2V0ID0gU3ltYm9sLmZvcihcIkZsdWlkVmFsdWUuZ2V0XCIpO1xudmFyICRvYnNlcnZlcnMgPSBTeW1ib2wuZm9yKFwiRmx1aWRWYWx1ZS5vYnNlcnZlcnNcIik7XG52YXIgaGFzRmx1aWRWYWx1ZSA9IChhcmcpID0+IEJvb2xlYW4oYXJnICYmIGFyZ1skZ2V0XSk7XG52YXIgZ2V0Rmx1aWRWYWx1ZSA9IChhcmcpID0+IGFyZyAmJiBhcmdbJGdldF0gPyBhcmdbJGdldF0oKSA6IGFyZztcbnZhciBnZXRGbHVpZE9ic2VydmVycyA9ICh0YXJnZXQpID0+IHRhcmdldFskb2JzZXJ2ZXJzXSB8fCBudWxsO1xuZnVuY3Rpb24gY2FsbEZsdWlkT2JzZXJ2ZXIob2JzZXJ2ZXIyLCBldmVudCkge1xuICBpZiAob2JzZXJ2ZXIyLmV2ZW50T2JzZXJ2ZWQpIHtcbiAgICBvYnNlcnZlcjIuZXZlbnRPYnNlcnZlZChldmVudCk7XG4gIH0gZWxzZSB7XG4gICAgb2JzZXJ2ZXIyKGV2ZW50KTtcbiAgfVxufVxuZnVuY3Rpb24gY2FsbEZsdWlkT2JzZXJ2ZXJzKHRhcmdldCwgZXZlbnQpIHtcbiAgY29uc3Qgb2JzZXJ2ZXJzID0gdGFyZ2V0WyRvYnNlcnZlcnNdO1xuICBpZiAob2JzZXJ2ZXJzKSB7XG4gICAgb2JzZXJ2ZXJzLmZvckVhY2goKG9ic2VydmVyMikgPT4ge1xuICAgICAgY2FsbEZsdWlkT2JzZXJ2ZXIob2JzZXJ2ZXIyLCBldmVudCk7XG4gICAgfSk7XG4gIH1cbn1cbnZhciBGbHVpZFZhbHVlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihnZXQpIHtcbiAgICBpZiAoIWdldCAmJiAhKGdldCA9IHRoaXMuZ2V0KSkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIGdldHRlclwiKTtcbiAgICB9XG4gICAgc2V0Rmx1aWRHZXR0ZXIodGhpcywgZ2V0KTtcbiAgfVxufTtcbiRnZXQsICRvYnNlcnZlcnM7XG52YXIgc2V0Rmx1aWRHZXR0ZXIgPSAodGFyZ2V0LCBnZXQpID0+IHNldEhpZGRlbih0YXJnZXQsICRnZXQsIGdldCk7XG5mdW5jdGlvbiBhZGRGbHVpZE9ic2VydmVyKHRhcmdldCwgb2JzZXJ2ZXIyKSB7XG4gIGlmICh0YXJnZXRbJGdldF0pIHtcbiAgICBsZXQgb2JzZXJ2ZXJzID0gdGFyZ2V0WyRvYnNlcnZlcnNdO1xuICAgIGlmICghb2JzZXJ2ZXJzKSB7XG4gICAgICBzZXRIaWRkZW4odGFyZ2V0LCAkb2JzZXJ2ZXJzLCBvYnNlcnZlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpKTtcbiAgICB9XG4gICAgaWYgKCFvYnNlcnZlcnMuaGFzKG9ic2VydmVyMikpIHtcbiAgICAgIG9ic2VydmVycy5hZGQob2JzZXJ2ZXIyKTtcbiAgICAgIGlmICh0YXJnZXQub2JzZXJ2ZXJBZGRlZCkge1xuICAgICAgICB0YXJnZXQub2JzZXJ2ZXJBZGRlZChvYnNlcnZlcnMuc2l6ZSwgb2JzZXJ2ZXIyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9ic2VydmVyMjtcbn1cbmZ1bmN0aW9uIHJlbW92ZUZsdWlkT2JzZXJ2ZXIodGFyZ2V0LCBvYnNlcnZlcjIpIHtcbiAgY29uc3Qgb2JzZXJ2ZXJzID0gdGFyZ2V0WyRvYnNlcnZlcnNdO1xuICBpZiAob2JzZXJ2ZXJzICYmIG9ic2VydmVycy5oYXMob2JzZXJ2ZXIyKSkge1xuICAgIGNvbnN0IGNvdW50ID0gb2JzZXJ2ZXJzLnNpemUgLSAxO1xuICAgIGlmIChjb3VudCkge1xuICAgICAgb2JzZXJ2ZXJzLmRlbGV0ZShvYnNlcnZlcjIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0YXJnZXRbJG9ic2VydmVyc10gPSBudWxsO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0Lm9ic2VydmVyUmVtb3ZlZCkge1xuICAgICAgdGFyZ2V0Lm9ic2VydmVyUmVtb3ZlZChjb3VudCwgb2JzZXJ2ZXIyKTtcbiAgICB9XG4gIH1cbn1cbnZhciBzZXRIaWRkZW4gPSAodGFyZ2V0LCBrZXksIHZhbHVlKSA9PiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHtcbiAgdmFsdWUsXG4gIHdyaXRhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG4vLyBzcmMvcmVnZXhzLnRzXG52YXIgbnVtYmVyUmVnZXggPSAvWytcXC1dPyg/OjB8WzEtOV1cXGQqKSg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2c7XG52YXIgY29sb3JSZWdleCA9IC8oIyg/OlswLTlhLWZdezJ9KXsyLDR9fCgjWzAtOWEtZl17M30pfChyZ2J8aHNsKWE/XFwoKC0/XFxkKyU/WyxcXHNdKyl7MiwzfVxccypbXFxkXFwuXSslP1xcKSkvZ2k7XG52YXIgdW5pdFJlZ2V4ID0gbmV3IFJlZ0V4cChgKCR7bnVtYmVyUmVnZXguc291cmNlfSkoJXxbYS16XSspYCwgXCJpXCIpO1xudmFyIHJnYmFSZWdleCA9IC9yZ2JhXFwoKFswLTlcXC4tXSspLCAoWzAtOVxcLi1dKyksIChbMC05XFwuLV0rKSwgKFswLTlcXC4tXSspXFwpL2dpO1xudmFyIGNzc1ZhcmlhYmxlUmVnZXggPSAvdmFyXFwoKC0tW2EtekEtWjAtOS1fXSspLD8gPyhbYS16QS1aMC05ICgpJSMuLC1dKyk/XFwpLztcblxuLy8gc3JjL3ZhcmlhYmxlVG9SZ2JhLnRzXG52YXIgdmFyaWFibGVUb1JnYmEgPSAoaW5wdXQpID0+IHtcbiAgY29uc3QgW3Rva2VuLCBmYWxsYmFja10gPSBwYXJzZUNTU1ZhcmlhYmxlKGlucHV0KTtcbiAgaWYgKCF0b2tlbiB8fCBpc1NTUigpKSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG4gIGNvbnN0IHZhbHVlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKHRva2VuKTtcbiAgaWYgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnRyaW0oKTtcbiAgfSBlbHNlIGlmIChmYWxsYmFjayAmJiBmYWxsYmFjay5zdGFydHNXaXRoKFwiLS1cIikpIHtcbiAgICBjb25zdCB2YWx1ZTIgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoZmFsbGJhY2spO1xuICAgIGlmICh2YWx1ZTIpIHtcbiAgICAgIHJldHVybiB2YWx1ZTI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZmFsbGJhY2sgJiYgY3NzVmFyaWFibGVSZWdleC50ZXN0KGZhbGxiYWNrKSkge1xuICAgIHJldHVybiB2YXJpYWJsZVRvUmdiYShmYWxsYmFjayk7XG4gIH0gZWxzZSBpZiAoZmFsbGJhY2spIHtcbiAgICByZXR1cm4gZmFsbGJhY2s7XG4gIH1cbiAgcmV0dXJuIGlucHV0O1xufTtcbnZhciBwYXJzZUNTU1ZhcmlhYmxlID0gKGN1cnJlbnQpID0+IHtcbiAgY29uc3QgbWF0Y2ggPSBjc3NWYXJpYWJsZVJlZ2V4LmV4ZWMoY3VycmVudCk7XG4gIGlmICghbWF0Y2gpXG4gICAgcmV0dXJuIFssXTtcbiAgY29uc3QgWywgdG9rZW4sIGZhbGxiYWNrXSA9IG1hdGNoO1xuICByZXR1cm4gW3Rva2VuLCBmYWxsYmFja107XG59O1xuXG4vLyBzcmMvc3RyaW5nSW50ZXJwb2xhdGlvbi50c1xudmFyIG5hbWVkQ29sb3JSZWdleDtcbnZhciByZ2JhUm91bmQgPSAoXywgcDEsIHAyLCBwMywgcDQpID0+IGByZ2JhKCR7TWF0aC5yb3VuZChwMSl9LCAke01hdGgucm91bmQocDIpfSwgJHtNYXRoLnJvdW5kKHAzKX0sICR7cDR9KWA7XG52YXIgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yMiA9IChjb25maWcpID0+IHtcbiAgaWYgKCFuYW1lZENvbG9yUmVnZXgpXG4gICAgbmFtZWRDb2xvclJlZ2V4ID0gY29sb3JzID8gKFxuICAgICAgLy8gbWF0Y2ggY29sb3IgbmFtZXMsIGlnbm9yZSBwYXJ0aWFsIG1hdGNoZXNcbiAgICAgIG5ldyBSZWdFeHAoYCgke09iamVjdC5rZXlzKGNvbG9ycykuam9pbihcInxcIil9KSg/IVxcXFx3KWAsIFwiZ1wiKVxuICAgICkgOiAoXG4gICAgICAvLyBuZXZlciBtYXRjaFxuICAgICAgL15cXGIkL1xuICAgICk7XG4gIGNvbnN0IG91dHB1dCA9IGNvbmZpZy5vdXRwdXQubWFwKCh2YWx1ZSkgPT4ge1xuICAgIHJldHVybiBnZXRGbHVpZFZhbHVlKHZhbHVlKS5yZXBsYWNlKGNzc1ZhcmlhYmxlUmVnZXgsIHZhcmlhYmxlVG9SZ2JhKS5yZXBsYWNlKGNvbG9yUmVnZXgsIGNvbG9yVG9SZ2JhKS5yZXBsYWNlKG5hbWVkQ29sb3JSZWdleCwgY29sb3JUb1JnYmEpO1xuICB9KTtcbiAgY29uc3Qga2V5ZnJhbWVzID0gb3V0cHV0Lm1hcCgodmFsdWUpID0+IHZhbHVlLm1hdGNoKG51bWJlclJlZ2V4KS5tYXAoTnVtYmVyKSk7XG4gIGNvbnN0IG91dHB1dFJhbmdlcyA9IGtleWZyYW1lc1swXS5tYXAoXG4gICAgKF8sIGkpID0+IGtleWZyYW1lcy5tYXAoKHZhbHVlcykgPT4ge1xuICAgICAgaWYgKCEoaSBpbiB2YWx1ZXMpKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdUaGUgYXJpdHkgb2YgZWFjaCBcIm91dHB1dFwiIHZhbHVlIG11c3QgYmUgZXF1YWwnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZXNbaV07XG4gICAgfSlcbiAgKTtcbiAgY29uc3QgaW50ZXJwb2xhdG9ycyA9IG91dHB1dFJhbmdlcy5tYXAoXG4gICAgKG91dHB1dDIpID0+IGNyZWF0ZUludGVycG9sYXRvcih7IC4uLmNvbmZpZywgb3V0cHV0OiBvdXRwdXQyIH0pXG4gICk7XG4gIHJldHVybiAoaW5wdXQpID0+IHtcbiAgICBjb25zdCBtaXNzaW5nVW5pdCA9ICF1bml0UmVnZXgudGVzdChvdXRwdXRbMF0pICYmIG91dHB1dC5maW5kKCh2YWx1ZSkgPT4gdW5pdFJlZ2V4LnRlc3QodmFsdWUpKT8ucmVwbGFjZShudW1iZXJSZWdleCwgXCJcIik7XG4gICAgbGV0IGkgPSAwO1xuICAgIHJldHVybiBvdXRwdXRbMF0ucmVwbGFjZShcbiAgICAgIG51bWJlclJlZ2V4LFxuICAgICAgKCkgPT4gYCR7aW50ZXJwb2xhdG9yc1tpKytdKGlucHV0KX0ke21pc3NpbmdVbml0IHx8IFwiXCJ9YFxuICAgICkucmVwbGFjZShyZ2JhUmVnZXgsIHJnYmFSb3VuZCk7XG4gIH07XG59O1xuXG4vLyBzcmMvZGVwcmVjYXRpb25zLnRzXG52YXIgcHJlZml4ID0gXCJyZWFjdC1zcHJpbmc6IFwiO1xudmFyIG9uY2UgPSAoZm4pID0+IHtcbiAgY29uc3QgZnVuYyA9IGZuO1xuICBsZXQgY2FsbGVkID0gZmFsc2U7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGAke3ByZWZpeH1vbmNlIHJlcXVpcmVzIGEgZnVuY3Rpb24gcGFyYW1ldGVyYCk7XG4gIH1cbiAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgaWYgKCFjYWxsZWQpIHtcbiAgICAgIGZ1bmMoLi4uYXJncyk7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcbn07XG52YXIgd2FybkludGVycG9sYXRlID0gb25jZShjb25zb2xlLndhcm4pO1xuZnVuY3Rpb24gZGVwcmVjYXRlSW50ZXJwb2xhdGUoKSB7XG4gIHdhcm5JbnRlcnBvbGF0ZShcbiAgICBgJHtwcmVmaXh9VGhlIFwiaW50ZXJwb2xhdGVcIiBmdW5jdGlvbiBpcyBkZXByZWNhdGVkIGluIHY5ICh1c2UgXCJ0b1wiIGluc3RlYWQpYFxuICApO1xufVxudmFyIHdhcm5EaXJlY3RDYWxsID0gb25jZShjb25zb2xlLndhcm4pO1xuZnVuY3Rpb24gZGVwcmVjYXRlRGlyZWN0Q2FsbCgpIHtcbiAgd2FybkRpcmVjdENhbGwoXG4gICAgYCR7cHJlZml4fURpcmVjdGx5IGNhbGxpbmcgc3RhcnQgaW5zdGVhZCBvZiB1c2luZyB0aGUgYXBpIG9iamVjdCBpcyBkZXByZWNhdGVkIGluIHY5ICh1c2UgXCIuc3RhcnRcIiBpbnN0ZWFkKSwgdGhpcyB3aWxsIGJlIHJlbW92ZWQgaW4gbGF0ZXIgMC5YLjAgdmVyc2lvbnNgXG4gICk7XG59XG5cbi8vIHNyYy9pc0FuaW1hdGVkU3RyaW5nLnRzXG5mdW5jdGlvbiBpc0FuaW1hdGVkU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBpcy5zdHIodmFsdWUpICYmICh2YWx1ZVswXSA9PSBcIiNcIiB8fCAvXFxkLy50ZXN0KHZhbHVlKSB8fCAvLyBEbyBub3QgaWRlbnRpZnkgYSBDU1MgdmFyaWFibGUgYXMgYW4gQW5pbWF0ZWRTdHJpbmcgaWYgaXRzIFNTUlxuICAhaXNTU1IoKSAmJiBjc3NWYXJpYWJsZVJlZ2V4LnRlc3QodmFsdWUpIHx8IHZhbHVlIGluIChjb2xvcnMgfHwge30pKTtcbn1cblxuLy8gc3JjL2RvbS1ldmVudHMvc2Nyb2xsL2luZGV4LnRzXG5pbXBvcnQgeyByYWYgYXMgcmFmMyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3JhZnpcIjtcblxuLy8gc3JjL2RvbS1ldmVudHMvcmVzaXplL3Jlc2l6ZUVsZW1lbnQudHNcbnZhciBvYnNlcnZlcjtcbnZhciByZXNpemVIYW5kbGVycyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xudmFyIGhhbmRsZU9ic2VydmF0aW9uID0gKGVudHJpZXMpID0+IGVudHJpZXMuZm9yRWFjaCgoeyB0YXJnZXQsIGNvbnRlbnRSZWN0IH0pID0+IHtcbiAgcmV0dXJuIHJlc2l6ZUhhbmRsZXJzLmdldCh0YXJnZXQpPy5mb3JFYWNoKChoYW5kbGVyKSA9PiBoYW5kbGVyKGNvbnRlbnRSZWN0KSk7XG59KTtcbmZ1bmN0aW9uIHJlc2l6ZUVsZW1lbnQoaGFuZGxlciwgdGFyZ2V0KSB7XG4gIGlmICghb2JzZXJ2ZXIpIHtcbiAgICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBvYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihoYW5kbGVPYnNlcnZhdGlvbik7XG4gICAgfVxuICB9XG4gIGxldCBlbGVtZW50SGFuZGxlcnMgPSByZXNpemVIYW5kbGVycy5nZXQodGFyZ2V0KTtcbiAgaWYgKCFlbGVtZW50SGFuZGxlcnMpIHtcbiAgICBlbGVtZW50SGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHJlc2l6ZUhhbmRsZXJzLnNldCh0YXJnZXQsIGVsZW1lbnRIYW5kbGVycyk7XG4gIH1cbiAgZWxlbWVudEhhbmRsZXJzLmFkZChoYW5kbGVyKTtcbiAgaWYgKG9ic2VydmVyKSB7XG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0YXJnZXQpO1xuICB9XG4gIHJldHVybiAoKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudEhhbmRsZXJzMiA9IHJlc2l6ZUhhbmRsZXJzLmdldCh0YXJnZXQpO1xuICAgIGlmICghZWxlbWVudEhhbmRsZXJzMilcbiAgICAgIHJldHVybjtcbiAgICBlbGVtZW50SGFuZGxlcnMyLmRlbGV0ZShoYW5kbGVyKTtcbiAgICBpZiAoIWVsZW1lbnRIYW5kbGVyczIuc2l6ZSAmJiBvYnNlcnZlcikge1xuICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKHRhcmdldCk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBzcmMvZG9tLWV2ZW50cy9yZXNpemUvcmVzaXplV2luZG93LnRzXG52YXIgbGlzdGVuZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbnZhciBjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlcjtcbnZhciBjcmVhdGVSZXNpemVIYW5kbGVyID0gKCkgPT4ge1xuICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgbGlzdGVuZXJzLmZvckVhY2goXG4gICAgICAoY2FsbGJhY2spID0+IGNhbGxiYWNrKHtcbiAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICBoZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgfSlcbiAgICApO1xuICB9O1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBoYW5kbGVSZXNpemUpO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGhhbmRsZVJlc2l6ZSk7XG4gIH07XG59O1xudmFyIHJlc2l6ZVdpbmRvdyA9IChjYWxsYmFjaykgPT4ge1xuICBsaXN0ZW5lcnMuYWRkKGNhbGxiYWNrKTtcbiAgaWYgKCFjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlcikge1xuICAgIGNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyID0gY3JlYXRlUmVzaXplSGFuZGxlcigpO1xuICB9XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGlzdGVuZXJzLmRlbGV0ZShjYWxsYmFjayk7XG4gICAgaWYgKCFsaXN0ZW5lcnMuc2l6ZSAmJiBjbGVhbnVwV2luZG93UmVzaXplSGFuZGxlcikge1xuICAgICAgY2xlYW51cFdpbmRvd1Jlc2l6ZUhhbmRsZXIoKTtcbiAgICAgIGNsZWFudXBXaW5kb3dSZXNpemVIYW5kbGVyID0gdm9pZCAwO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIHNyYy9kb20tZXZlbnRzL3Jlc2l6ZS9pbmRleC50c1xudmFyIG9uUmVzaXplID0gKGNhbGxiYWNrLCB7IGNvbnRhaW5lciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB9ID0ge30pID0+IHtcbiAgaWYgKGNvbnRhaW5lciA9PT0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgcmV0dXJuIHJlc2l6ZVdpbmRvdyhjYWxsYmFjayk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlc2l6ZUVsZW1lbnQoY2FsbGJhY2ssIGNvbnRhaW5lcik7XG4gIH1cbn07XG5cbi8vIHNyYy9wcm9ncmVzcy50c1xudmFyIHByb2dyZXNzID0gKG1pbiwgbWF4LCB2YWx1ZSkgPT4gbWF4IC0gbWluID09PSAwID8gMSA6ICh2YWx1ZSAtIG1pbikgLyAobWF4IC0gbWluKTtcblxuLy8gc3JjL2RvbS1ldmVudHMvc2Nyb2xsL1Njcm9sbEhhbmRsZXIudHNcbnZhciBTQ1JPTExfS0VZUyA9IHtcbiAgeDoge1xuICAgIGxlbmd0aDogXCJXaWR0aFwiLFxuICAgIHBvc2l0aW9uOiBcIkxlZnRcIlxuICB9LFxuICB5OiB7XG4gICAgbGVuZ3RoOiBcIkhlaWdodFwiLFxuICAgIHBvc2l0aW9uOiBcIlRvcFwiXG4gIH1cbn07XG52YXIgU2Nyb2xsSGFuZGxlciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoY2FsbGJhY2ssIGNvbnRhaW5lcikge1xuICAgIHRoaXMuY3JlYXRlQXhpcyA9ICgpID0+ICh7XG4gICAgICBjdXJyZW50OiAwLFxuICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICBzY3JvbGxMZW5ndGg6IDBcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZUF4aXMgPSAoYXhpc05hbWUpID0+IHtcbiAgICAgIGNvbnN0IGF4aXMgPSB0aGlzLmluZm9bYXhpc05hbWVdO1xuICAgICAgY29uc3QgeyBsZW5ndGgsIHBvc2l0aW9uIH0gPSBTQ1JPTExfS0VZU1theGlzTmFtZV07XG4gICAgICBheGlzLmN1cnJlbnQgPSB0aGlzLmNvbnRhaW5lcltgc2Nyb2xsJHtwb3NpdGlvbn1gXTtcbiAgICAgIGF4aXMuc2Nyb2xsTGVuZ3RoID0gdGhpcy5jb250YWluZXJbYHNjcm9sbCR7bGVuZ3RofWBdIC0gdGhpcy5jb250YWluZXJbYGNsaWVudCR7bGVuZ3RofWBdO1xuICAgICAgYXhpcy5wcm9ncmVzcyA9IHByb2dyZXNzKDAsIGF4aXMuc2Nyb2xsTGVuZ3RoLCBheGlzLmN1cnJlbnQpO1xuICAgIH07XG4gICAgdGhpcy51cGRhdGUgPSAoKSA9PiB7XG4gICAgICB0aGlzLnVwZGF0ZUF4aXMoXCJ4XCIpO1xuICAgICAgdGhpcy51cGRhdGVBeGlzKFwieVwiKTtcbiAgICB9O1xuICAgIHRoaXMuc2VuZEV2ZW50ID0gKCkgPT4ge1xuICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLmluZm8pO1xuICAgIH07XG4gICAgdGhpcy5hZHZhbmNlID0gKCkgPT4ge1xuICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgIHRoaXMuc2VuZEV2ZW50KCk7XG4gICAgfTtcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgdGhpcy5pbmZvID0ge1xuICAgICAgdGltZTogMCxcbiAgICAgIHg6IHRoaXMuY3JlYXRlQXhpcygpLFxuICAgICAgeTogdGhpcy5jcmVhdGVBeGlzKClcbiAgICB9O1xuICB9XG59O1xuXG4vLyBzcmMvZG9tLWV2ZW50cy9zY3JvbGwvaW5kZXgudHNcbnZhciBzY3JvbGxMaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciByZXNpemVMaXN0ZW5lcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbnZhciBvblNjcm9sbEhhbmRsZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG52YXIgZ2V0VGFyZ2V0ID0gKGNvbnRhaW5lcikgPT4gY29udGFpbmVyID09PSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgPyB3aW5kb3cgOiBjb250YWluZXI7XG52YXIgb25TY3JvbGwgPSAoY2FsbGJhY2ssIHsgY29udGFpbmVyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IH0gPSB7fSkgPT4ge1xuICBsZXQgY29udGFpbmVySGFuZGxlcnMgPSBvblNjcm9sbEhhbmRsZXJzLmdldChjb250YWluZXIpO1xuICBpZiAoIWNvbnRhaW5lckhhbmRsZXJzKSB7XG4gICAgY29udGFpbmVySGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIG9uU2Nyb2xsSGFuZGxlcnMuc2V0KGNvbnRhaW5lciwgY29udGFpbmVySGFuZGxlcnMpO1xuICB9XG4gIGNvbnN0IGNvbnRhaW5lckhhbmRsZXIgPSBuZXcgU2Nyb2xsSGFuZGxlcihjYWxsYmFjaywgY29udGFpbmVyKTtcbiAgY29udGFpbmVySGFuZGxlcnMuYWRkKGNvbnRhaW5lckhhbmRsZXIpO1xuICBpZiAoIXNjcm9sbExpc3RlbmVycy5oYXMoY29udGFpbmVyKSkge1xuICAgIGNvbnN0IGxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgY29udGFpbmVySGFuZGxlcnM/LmZvckVhY2goKGhhbmRsZXIpID0+IGhhbmRsZXIuYWR2YW5jZSgpKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgc2Nyb2xsTGlzdGVuZXJzLnNldChjb250YWluZXIsIGxpc3RlbmVyKTtcbiAgICBjb25zdCB0YXJnZXQgPSBnZXRUYXJnZXQoY29udGFpbmVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBsaXN0ZW5lciwgeyBwYXNzaXZlOiB0cnVlIH0pO1xuICAgIGlmIChjb250YWluZXIgIT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgICAgcmVzaXplTGlzdGVuZXJzLnNldChjb250YWluZXIsIG9uUmVzaXplKGxpc3RlbmVyLCB7IGNvbnRhaW5lciB9KSk7XG4gICAgfVxuICAgIHRhcmdldC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGxpc3RlbmVyLCB7IHBhc3NpdmU6IHRydWUgfSk7XG4gIH1cbiAgY29uc3QgYW5pbWF0ZVNjcm9sbCA9IHNjcm9sbExpc3RlbmVycy5nZXQoY29udGFpbmVyKTtcbiAgcmFmMyhhbmltYXRlU2Nyb2xsKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICByYWYzLmNhbmNlbChhbmltYXRlU2Nyb2xsKTtcbiAgICBjb25zdCBjb250YWluZXJIYW5kbGVyczIgPSBvblNjcm9sbEhhbmRsZXJzLmdldChjb250YWluZXIpO1xuICAgIGlmICghY29udGFpbmVySGFuZGxlcnMyKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnRhaW5lckhhbmRsZXJzMi5kZWxldGUoY29udGFpbmVySGFuZGxlcik7XG4gICAgaWYgKGNvbnRhaW5lckhhbmRsZXJzMi5zaXplKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gc2Nyb2xsTGlzdGVuZXJzLmdldChjb250YWluZXIpO1xuICAgIHNjcm9sbExpc3RlbmVycy5kZWxldGUoY29udGFpbmVyKTtcbiAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgIGdldFRhcmdldChjb250YWluZXIpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgbGlzdGVuZXIpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgbGlzdGVuZXIpO1xuICAgICAgcmVzaXplTGlzdGVuZXJzLmdldChjb250YWluZXIpPy4oKTtcbiAgICB9XG4gIH07XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlQ29uc3RhbnQudHNcbmltcG9ydCB7IHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlQ29uc3RhbnQoaW5pdCkge1xuICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gIGlmIChyZWYuY3VycmVudCA9PT0gbnVsbCkge1xuICAgIHJlZi5jdXJyZW50ID0gaW5pdCgpO1xuICB9XG4gIHJldHVybiByZWYuY3VycmVudDtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZUZvcmNlVXBkYXRlLnRzXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaG9va3MvdXNlSXNNb3VudGVkLnRzXG5pbXBvcnQgeyB1c2VSZWYgYXMgdXNlUmVmMiB9IGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaG9va3MvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC50c1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gaXNTU1IoKSA/IHVzZUVmZmVjdCA6IHVzZUxheW91dEVmZmVjdDtcblxuLy8gc3JjL2hvb2tzL3VzZUlzTW91bnRlZC50c1xudmFyIHVzZUlzTW91bnRlZCA9ICgpID0+IHtcbiAgY29uc3QgaXNNb3VudGVkID0gdXNlUmVmMihmYWxzZSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGlzTW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaXNNb3VudGVkLmN1cnJlbnQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBpc01vdW50ZWQ7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlRm9yY2VVcGRhdGUudHNcbmZ1bmN0aW9uIHVzZUZvcmNlVXBkYXRlKCkge1xuICBjb25zdCB1cGRhdGUgPSB1c2VTdGF0ZSgpWzFdO1xuICBjb25zdCBpc01vdW50ZWQgPSB1c2VJc01vdW50ZWQoKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoaXNNb3VudGVkLmN1cnJlbnQpIHtcbiAgICAgIHVwZGF0ZShNYXRoLnJhbmRvbSgpKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9ob29rcy91c2VNZW1vT25lLnRzXG5pbXBvcnQgeyB1c2VFZmZlY3QgYXMgdXNlRWZmZWN0MiwgdXNlUmVmIGFzIHVzZVJlZjMsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMiB9IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gdXNlTWVtb09uZShnZXRSZXN1bHQsIGlucHV0cykge1xuICBjb25zdCBbaW5pdGlhbF0gPSB1c2VTdGF0ZTIoXG4gICAgKCkgPT4gKHtcbiAgICAgIGlucHV0cyxcbiAgICAgIHJlc3VsdDogZ2V0UmVzdWx0KClcbiAgICB9KVxuICApO1xuICBjb25zdCBjb21taXR0ZWQgPSB1c2VSZWYzKCk7XG4gIGNvbnN0IHByZXZDYWNoZSA9IGNvbW1pdHRlZC5jdXJyZW50O1xuICBsZXQgY2FjaGUgPSBwcmV2Q2FjaGU7XG4gIGlmIChjYWNoZSkge1xuICAgIGNvbnN0IHVzZUNhY2hlID0gQm9vbGVhbihcbiAgICAgIGlucHV0cyAmJiBjYWNoZS5pbnB1dHMgJiYgYXJlSW5wdXRzRXF1YWwoaW5wdXRzLCBjYWNoZS5pbnB1dHMpXG4gICAgKTtcbiAgICBpZiAoIXVzZUNhY2hlKSB7XG4gICAgICBjYWNoZSA9IHtcbiAgICAgICAgaW5wdXRzLFxuICAgICAgICByZXN1bHQ6IGdldFJlc3VsdCgpXG4gICAgICB9O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjYWNoZSA9IGluaXRpYWw7XG4gIH1cbiAgdXNlRWZmZWN0MigoKSA9PiB7XG4gICAgY29tbWl0dGVkLmN1cnJlbnQgPSBjYWNoZTtcbiAgICBpZiAocHJldkNhY2hlID09IGluaXRpYWwpIHtcbiAgICAgIGluaXRpYWwuaW5wdXRzID0gaW5pdGlhbC5yZXN1bHQgPSB2b2lkIDA7XG4gICAgfVxuICB9LCBbY2FjaGVdKTtcbiAgcmV0dXJuIGNhY2hlLnJlc3VsdDtcbn1cbmZ1bmN0aW9uIGFyZUlucHV0c0VxdWFsKG5leHQsIHByZXYpIHtcbiAgaWYgKG5leHQubGVuZ3RoICE9PSBwcmV2Lmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHQubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobmV4dFtpXSAhPT0gcHJldltpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZU9uY2UudHNcbmltcG9ydCB7IHVzZUVmZmVjdCBhcyB1c2VFZmZlY3QzIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgdXNlT25jZSA9IChlZmZlY3QpID0+IHVzZUVmZmVjdDMoZWZmZWN0LCBlbXB0eURlcHMpO1xudmFyIGVtcHR5RGVwcyA9IFtdO1xuXG4vLyBzcmMvaG9va3MvdXNlUHJldi50c1xuaW1wb3J0IHsgdXNlRWZmZWN0IGFzIHVzZUVmZmVjdDQsIHVzZVJlZiBhcyB1c2VSZWY0IH0gZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiB1c2VQcmV2KHZhbHVlKSB7XG4gIGNvbnN0IHByZXZSZWYgPSB1c2VSZWY0KCk7XG4gIHVzZUVmZmVjdDQoKCkgPT4ge1xuICAgIHByZXZSZWYuY3VycmVudCA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHByZXZSZWYuY3VycmVudDtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVJlZHVjZWRNb3Rpb24udHNcbmltcG9ydCB7IHVzZVN0YXRlIGFzIHVzZVN0YXRlMyB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZVJlZHVjZWRNb3Rpb24gPSAoKSA9PiB7XG4gIGNvbnN0IFtyZWR1Y2VkTW90aW9uLCBzZXRSZWR1Y2VkTW90aW9uXSA9IHVzZVN0YXRlMyhudWxsKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgbXFsID0gd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1yZWR1Y2VkLW1vdGlvbilcIik7XG4gICAgY29uc3QgaGFuZGxlTWVkaWFDaGFuZ2UgPSAoZSkgPT4ge1xuICAgICAgc2V0UmVkdWNlZE1vdGlvbihlLm1hdGNoZXMpO1xuICAgICAgYXNzaWduKHtcbiAgICAgICAgc2tpcEFuaW1hdGlvbjogZS5tYXRjaGVzXG4gICAgICB9KTtcbiAgICB9O1xuICAgIGhhbmRsZU1lZGlhQ2hhbmdlKG1xbCk7XG4gICAgaWYgKG1xbC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICBtcWwuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBoYW5kbGVNZWRpYUNoYW5nZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1xbC5hZGRMaXN0ZW5lcihoYW5kbGVNZWRpYUNoYW5nZSk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAobXFsLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgbXFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgaGFuZGxlTWVkaWFDaGFuZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXFsLnJlbW92ZUxpc3RlbmVyKGhhbmRsZU1lZGlhQ2hhbmdlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiByZWR1Y2VkTW90aW9uO1xufTtcblxuLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyByYWYgYXMgcmFmNCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3JhZnpcIjtcbmV4cG9ydCB7XG4gIEZsdWlkVmFsdWUsXG4gIGdsb2JhbHNfZXhwb3J0cyBhcyBHbG9iYWxzLFxuICBhZGRGbHVpZE9ic2VydmVyLFxuICBjYWxsRmx1aWRPYnNlcnZlcixcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzLFxuICBjbGFtcCxcbiAgY29sb3JUb1JnYmEsXG4gIGNvbG9yczIgYXMgY29sb3JzLFxuICBjcmVhdGVJbnRlcnBvbGF0b3IsXG4gIGNyZWF0ZVN0cmluZ0ludGVycG9sYXRvcjIgYXMgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yLFxuICBkZWZpbmVIaWRkZW4sXG4gIGRlcHJlY2F0ZURpcmVjdENhbGwsXG4gIGRlcHJlY2F0ZUludGVycG9sYXRlLFxuICBlYWNoLFxuICBlYWNoUHJvcCxcbiAgZWFzaW5ncyxcbiAgZmx1c2gsXG4gIGZsdXNoQ2FsbHMsXG4gIGZyYW1lTG9vcCxcbiAgZ2V0Rmx1aWRPYnNlcnZlcnMsXG4gIGdldEZsdWlkVmFsdWUsXG4gIGhhc0ZsdWlkVmFsdWUsXG4gIGhleDMsXG4gIGhleDQsXG4gIGhleDYsXG4gIGhleDgsXG4gIGhzbCxcbiAgaHNsYSxcbiAgaXMsXG4gIGlzQW5pbWF0ZWRTdHJpbmcsXG4gIGlzRXF1YWwsXG4gIGlzU1NSLFxuICBub29wLFxuICBvblJlc2l6ZSxcbiAgb25TY3JvbGwsXG4gIG9uY2UsXG4gIHByZWZpeCxcbiAgcmFmNCBhcyByYWYsXG4gIHJlbW92ZUZsdWlkT2JzZXJ2ZXIsXG4gIHJnYixcbiAgcmdiYSxcbiAgc2V0Rmx1aWRHZXR0ZXIsXG4gIHRvQXJyYXksXG4gIHVzZUNvbnN0YW50LFxuICB1c2VGb3JjZVVwZGF0ZSxcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCxcbiAgdXNlTWVtb09uZSxcbiAgdXNlT25jZSxcbiAgdXNlUHJldixcbiAgdXNlUmVkdWNlZE1vdGlvblxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWN0LXNwcmluZ19zaGFyZWQubW9kZXJuLm1qcy5tYXAiLAogICAgIi8vIHNyYy9ob29rcy91c2VDaGFpbi50c1xuaW1wb3J0IHsgZWFjaCwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvaGVscGVycy50c1xuaW1wb3J0IHtcbiAgaXMsXG4gIHRvQXJyYXksXG4gIGVhY2hQcm9wLFxuICBnZXRGbHVpZFZhbHVlLFxuICBpc0FuaW1hdGVkU3RyaW5nLFxuICBHbG9iYWxzIGFzIEdcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiBjYWxsUHJvcCh2YWx1ZSwgLi4uYXJncykge1xuICByZXR1cm4gaXMuZnVuKHZhbHVlKSA/IHZhbHVlKC4uLmFyZ3MpIDogdmFsdWU7XG59XG52YXIgbWF0Y2hQcm9wID0gKHZhbHVlLCBrZXkpID0+IHZhbHVlID09PSB0cnVlIHx8ICEhKGtleSAmJiB2YWx1ZSAmJiAoaXMuZnVuKHZhbHVlKSA/IHZhbHVlKGtleSkgOiB0b0FycmF5KHZhbHVlKS5pbmNsdWRlcyhrZXkpKSk7XG52YXIgcmVzb2x2ZVByb3AgPSAocHJvcCwga2V5KSA9PiBpcy5vYmoocHJvcCkgPyBrZXkgJiYgcHJvcFtrZXldIDogcHJvcDtcbnZhciBnZXREZWZhdWx0UHJvcCA9IChwcm9wcywga2V5KSA9PiBwcm9wcy5kZWZhdWx0ID09PSB0cnVlID8gcHJvcHNba2V5XSA6IHByb3BzLmRlZmF1bHQgPyBwcm9wcy5kZWZhdWx0W2tleV0gOiB2b2lkIDA7XG52YXIgbm9vcFRyYW5zZm9ybSA9ICh2YWx1ZSkgPT4gdmFsdWU7XG52YXIgZ2V0RGVmYXVsdFByb3BzID0gKHByb3BzLCB0cmFuc2Zvcm0gPSBub29wVHJhbnNmb3JtKSA9PiB7XG4gIGxldCBrZXlzID0gREVGQVVMVF9QUk9QUztcbiAgaWYgKHByb3BzLmRlZmF1bHQgJiYgcHJvcHMuZGVmYXVsdCAhPT0gdHJ1ZSkge1xuICAgIHByb3BzID0gcHJvcHMuZGVmYXVsdDtcbiAgICBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpO1xuICB9XG4gIGNvbnN0IGRlZmF1bHRzMiA9IHt9O1xuICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0cmFuc2Zvcm0ocHJvcHNba2V5XSwga2V5KTtcbiAgICBpZiAoIWlzLnVuZCh2YWx1ZSkpIHtcbiAgICAgIGRlZmF1bHRzMltrZXldID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBkZWZhdWx0czI7XG59O1xudmFyIERFRkFVTFRfUFJPUFMgPSBbXG4gIFwiY29uZmlnXCIsXG4gIFwib25Qcm9wc1wiLFxuICBcIm9uU3RhcnRcIixcbiAgXCJvbkNoYW5nZVwiLFxuICBcIm9uUGF1c2VcIixcbiAgXCJvblJlc3VtZVwiLFxuICBcIm9uUmVzdFwiXG5dO1xudmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICBjb25maWc6IDEsXG4gIGZyb206IDEsXG4gIHRvOiAxLFxuICByZWY6IDEsXG4gIGxvb3A6IDEsXG4gIHJlc2V0OiAxLFxuICBwYXVzZTogMSxcbiAgY2FuY2VsOiAxLFxuICByZXZlcnNlOiAxLFxuICBpbW1lZGlhdGU6IDEsXG4gIGRlZmF1bHQ6IDEsXG4gIGRlbGF5OiAxLFxuICBvblByb3BzOiAxLFxuICBvblN0YXJ0OiAxLFxuICBvbkNoYW5nZTogMSxcbiAgb25QYXVzZTogMSxcbiAgb25SZXN1bWU6IDEsXG4gIG9uUmVzdDogMSxcbiAgb25SZXNvbHZlOiAxLFxuICAvLyBUcmFuc2l0aW9uIHByb3BzXG4gIGl0ZW1zOiAxLFxuICB0cmFpbDogMSxcbiAgc29ydDogMSxcbiAgZXhwaXJlczogMSxcbiAgaW5pdGlhbDogMSxcbiAgZW50ZXI6IDEsXG4gIHVwZGF0ZTogMSxcbiAgbGVhdmU6IDEsXG4gIGNoaWxkcmVuOiAxLFxuICBvbkRlc3Ryb3llZDogMSxcbiAgLy8gSW50ZXJuYWwgcHJvcHNcbiAga2V5czogMSxcbiAgY2FsbElkOiAxLFxuICBwYXJlbnRJZDogMVxufTtcbmZ1bmN0aW9uIGdldEZvcndhcmRQcm9wcyhwcm9wcykge1xuICBjb25zdCBmb3J3YXJkID0ge307XG4gIGxldCBjb3VudCA9IDA7XG4gIGVhY2hQcm9wKHByb3BzLCAodmFsdWUsIHByb3ApID0+IHtcbiAgICBpZiAoIVJFU0VSVkVEX1BST1BTW3Byb3BdKSB7XG4gICAgICBmb3J3YXJkW3Byb3BdID0gdmFsdWU7XG4gICAgICBjb3VudCsrO1xuICAgIH1cbiAgfSk7XG4gIGlmIChjb3VudCkge1xuICAgIHJldHVybiBmb3J3YXJkO1xuICB9XG59XG5mdW5jdGlvbiBpbmZlclRvKHByb3BzKSB7XG4gIGNvbnN0IHRvMiA9IGdldEZvcndhcmRQcm9wcyhwcm9wcyk7XG4gIGlmICh0bzIpIHtcbiAgICBjb25zdCBvdXQgPSB7IHRvOiB0bzIgfTtcbiAgICBlYWNoUHJvcChwcm9wcywgKHZhbCwga2V5KSA9PiBrZXkgaW4gdG8yIHx8IChvdXRba2V5XSA9IHZhbCkpO1xuICAgIHJldHVybiBvdXQ7XG4gIH1cbiAgcmV0dXJuIHsgLi4ucHJvcHMgfTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVHb2FsKHZhbHVlKSB7XG4gIHZhbHVlID0gZ2V0Rmx1aWRWYWx1ZSh2YWx1ZSk7XG4gIHJldHVybiBpcy5hcnIodmFsdWUpID8gdmFsdWUubWFwKGNvbXB1dGVHb2FsKSA6IGlzQW5pbWF0ZWRTdHJpbmcodmFsdWUpID8gRy5jcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3Ioe1xuICAgIHJhbmdlOiBbMCwgMV0sXG4gICAgb3V0cHV0OiBbdmFsdWUsIHZhbHVlXVxuICB9KSgxKSA6IHZhbHVlO1xufVxuZnVuY3Rpb24gaGFzUHJvcHMocHJvcHMpIHtcbiAgZm9yIChjb25zdCBfIGluIHByb3BzKVxuICAgIHJldHVybiB0cnVlO1xuICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc0FzeW5jVG8odG8yKSB7XG4gIHJldHVybiBpcy5mdW4odG8yKSB8fCBpcy5hcnIodG8yKSAmJiBpcy5vYmoodG8yWzBdKTtcbn1cbmZ1bmN0aW9uIGRldGFjaFJlZnMoY3RybCwgcmVmKSB7XG4gIGN0cmwucmVmPy5kZWxldGUoY3RybCk7XG4gIHJlZj8uZGVsZXRlKGN0cmwpO1xufVxuZnVuY3Rpb24gcmVwbGFjZVJlZihjdHJsLCByZWYpIHtcbiAgaWYgKHJlZiAmJiBjdHJsLnJlZiAhPT0gcmVmKSB7XG4gICAgY3RybC5yZWY/LmRlbGV0ZShjdHJsKTtcbiAgICByZWYuYWRkKGN0cmwpO1xuICAgIGN0cmwucmVmID0gcmVmO1xuICB9XG59XG5cbi8vIHNyYy9ob29rcy91c2VDaGFpbi50c1xuZnVuY3Rpb24gdXNlQ2hhaW4ocmVmcywgdGltZVN0ZXBzLCB0aW1lRnJhbWUgPSAxZTMpIHtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHRpbWVTdGVwcykge1xuICAgICAgbGV0IHByZXZEZWxheSA9IDA7XG4gICAgICBlYWNoKHJlZnMsIChyZWYsIGkpID0+IHtcbiAgICAgICAgY29uc3QgY29udHJvbGxlcnMgPSByZWYuY3VycmVudDtcbiAgICAgICAgaWYgKGNvbnRyb2xsZXJzLmxlbmd0aCkge1xuICAgICAgICAgIGxldCBkZWxheSA9IHRpbWVGcmFtZSAqIHRpbWVTdGVwc1tpXTtcbiAgICAgICAgICBpZiAoaXNOYU4oZGVsYXkpKVxuICAgICAgICAgICAgZGVsYXkgPSBwcmV2RGVsYXk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgcHJldkRlbGF5ID0gZGVsYXk7XG4gICAgICAgICAgZWFjaChjb250cm9sbGVycywgKGN0cmwpID0+IHtcbiAgICAgICAgICAgIGVhY2goY3RybC5xdWV1ZSwgKHByb3BzKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG1lbW9pemVkRGVsYXlQcm9wID0gcHJvcHMuZGVsYXk7XG4gICAgICAgICAgICAgIHByb3BzLmRlbGF5ID0gKGtleSkgPT4gZGVsYXkgKyBjYWxsUHJvcChtZW1vaXplZERlbGF5UHJvcCB8fCAwLCBrZXkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVmLnN0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgZWFjaChyZWZzLCAocmVmKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXJzID0gcmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmIChjb250cm9sbGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBjb25zdCBxdWV1ZXMgPSBjb250cm9sbGVycy5tYXAoKGN0cmwpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHEgPSBjdHJsLnF1ZXVlO1xuICAgICAgICAgICAgY3RybC5xdWV1ZSA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHE7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcCA9IHAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBlYWNoKFxuICAgICAgICAgICAgICBjb250cm9sbGVycyxcbiAgICAgICAgICAgICAgKGN0cmwsIGkpID0+IGVhY2gocXVldWVzW2ldIHx8IFtdLCAodXBkYXRlMikgPT4gY3RybC5xdWV1ZS5wdXNoKHVwZGF0ZTIpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZWYuc3RhcnQoKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmcudHNcbmltcG9ydCB7IGlzIGFzIGlzOSB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5ncy50c1xuaW1wb3J0IHsgdXNlQ29udGV4dCBhcyB1c2VDb250ZXh0MiwgdXNlTWVtbywgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBpcyBhcyBpczgsXG4gIGVhY2ggYXMgZWFjaDUsXG4gIHVzZVByZXYsXG4gIHVzZU9uY2UsXG4gIHVzZUZvcmNlVXBkYXRlLFxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QyXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvU3ByaW5nVmFsdWUudHNcbmltcG9ydCB7XG4gIGlzIGFzIGlzNSxcbiAgcmFmIGFzIHJhZjMsXG4gIGVhY2ggYXMgZWFjaDIsXG4gIGlzRXF1YWwsXG4gIHRvQXJyYXkgYXMgdG9BcnJheTIsXG4gIGVhY2hQcm9wIGFzIGVhY2hQcm9wMyxcbiAgZnJhbWVMb29wIGFzIGZyYW1lTG9vcDIsXG4gIGZsdXNoQ2FsbHMsXG4gIGdldEZsdWlkVmFsdWUgYXMgZ2V0Rmx1aWRWYWx1ZTIsXG4gIGlzQW5pbWF0ZWRTdHJpbmcgYXMgaXNBbmltYXRlZFN0cmluZzIsXG4gIEdsb2JhbHMgYXMgRzUsXG4gIGNhbGxGbHVpZE9ic2VydmVycyBhcyBjYWxsRmx1aWRPYnNlcnZlcnMyLFxuICBoYXNGbHVpZFZhbHVlLFxuICBhZGRGbHVpZE9ic2VydmVyLFxuICByZW1vdmVGbHVpZE9ic2VydmVyLFxuICBnZXRGbHVpZE9ic2VydmVyc1xufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmltcG9ydCB7XG4gIEFuaW1hdGVkVmFsdWUsXG4gIEFuaW1hdGVkU3RyaW5nLFxuICBnZXRQYXlsb2FkLFxuICBnZXRBbmltYXRlZCBhcyBnZXRBbmltYXRlZDIsXG4gIHNldEFuaW1hdGVkLFxuICBnZXRBbmltYXRlZFR5cGVcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvYW5pbWF0ZWRcIjtcblxuLy8gc3JjL0FuaW1hdGlvbkNvbmZpZy50c1xuaW1wb3J0IHsgaXMgYXMgaXMyLCBlYXNpbmdzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9jb25zdGFudHMudHNcbnZhciBjb25maWcgPSB7XG4gIGRlZmF1bHQ6IHsgdGVuc2lvbjogMTcwLCBmcmljdGlvbjogMjYgfSxcbiAgZ2VudGxlOiB7IHRlbnNpb246IDEyMCwgZnJpY3Rpb246IDE0IH0sXG4gIHdvYmJseTogeyB0ZW5zaW9uOiAxODAsIGZyaWN0aW9uOiAxMiB9LFxuICBzdGlmZjogeyB0ZW5zaW9uOiAyMTAsIGZyaWN0aW9uOiAyMCB9LFxuICBzbG93OiB7IHRlbnNpb246IDI4MCwgZnJpY3Rpb246IDYwIH0sXG4gIG1vbGFzc2VzOiB7IHRlbnNpb246IDI4MCwgZnJpY3Rpb246IDEyMCB9XG59O1xuXG4vLyBzcmMvQW5pbWF0aW9uQ29uZmlnLnRzXG52YXIgZGVmYXVsdHMgPSB7XG4gIC4uLmNvbmZpZy5kZWZhdWx0LFxuICBtYXNzOiAxLFxuICBkYW1waW5nOiAxLFxuICBlYXNpbmc6IGVhc2luZ3MubGluZWFyLFxuICBjbGFtcDogZmFsc2Vcbn07XG52YXIgQW5pbWF0aW9uQ29uZmlnID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvKipcbiAgICAgKiBUaGUgaW5pdGlhbCB2ZWxvY2l0eSBvZiBvbmUgb3IgbW9yZSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBkZWZhdWx0cyk7XG4gIH1cbn07XG5mdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcyLCBuZXdDb25maWcsIGRlZmF1bHRDb25maWcpIHtcbiAgaWYgKGRlZmF1bHRDb25maWcpIHtcbiAgICBkZWZhdWx0Q29uZmlnID0geyAuLi5kZWZhdWx0Q29uZmlnIH07XG4gICAgc2FuaXRpemVDb25maWcoZGVmYXVsdENvbmZpZywgbmV3Q29uZmlnKTtcbiAgICBuZXdDb25maWcgPSB7IC4uLmRlZmF1bHRDb25maWcsIC4uLm5ld0NvbmZpZyB9O1xuICB9XG4gIHNhbml0aXplQ29uZmlnKGNvbmZpZzIsIG5ld0NvbmZpZyk7XG4gIE9iamVjdC5hc3NpZ24oY29uZmlnMiwgbmV3Q29uZmlnKTtcbiAgZm9yIChjb25zdCBrZXkgaW4gZGVmYXVsdHMpIHtcbiAgICBpZiAoY29uZmlnMltrZXldID09IG51bGwpIHtcbiAgICAgIGNvbmZpZzJba2V5XSA9IGRlZmF1bHRzW2tleV07XG4gICAgfVxuICB9XG4gIGxldCB7IGZyZXF1ZW5jeSwgZGFtcGluZyB9ID0gY29uZmlnMjtcbiAgY29uc3QgeyBtYXNzIH0gPSBjb25maWcyO1xuICBpZiAoIWlzMi51bmQoZnJlcXVlbmN5KSkge1xuICAgIGlmIChmcmVxdWVuY3kgPCAwLjAxKVxuICAgICAgZnJlcXVlbmN5ID0gMC4wMTtcbiAgICBpZiAoZGFtcGluZyA8IDApXG4gICAgICBkYW1waW5nID0gMDtcbiAgICBjb25maWcyLnRlbnNpb24gPSBNYXRoLnBvdygyICogTWF0aC5QSSAvIGZyZXF1ZW5jeSwgMikgKiBtYXNzO1xuICAgIGNvbmZpZzIuZnJpY3Rpb24gPSA0ICogTWF0aC5QSSAqIGRhbXBpbmcgKiBtYXNzIC8gZnJlcXVlbmN5O1xuICB9XG4gIHJldHVybiBjb25maWcyO1xufVxuZnVuY3Rpb24gc2FuaXRpemVDb25maWcoY29uZmlnMiwgcHJvcHMpIHtcbiAgaWYgKCFpczIudW5kKHByb3BzLmRlY2F5KSkge1xuICAgIGNvbmZpZzIuZHVyYXRpb24gPSB2b2lkIDA7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgaXNUZW5zaW9uQ29uZmlnID0gIWlzMi51bmQocHJvcHMudGVuc2lvbikgfHwgIWlzMi51bmQocHJvcHMuZnJpY3Rpb24pO1xuICAgIGlmIChpc1RlbnNpb25Db25maWcgfHwgIWlzMi51bmQocHJvcHMuZnJlcXVlbmN5KSB8fCAhaXMyLnVuZChwcm9wcy5kYW1waW5nKSB8fCAhaXMyLnVuZChwcm9wcy5tYXNzKSkge1xuICAgICAgY29uZmlnMi5kdXJhdGlvbiA9IHZvaWQgMDtcbiAgICAgIGNvbmZpZzIuZGVjYXkgPSB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChpc1RlbnNpb25Db25maWcpIHtcbiAgICAgIGNvbmZpZzIuZnJlcXVlbmN5ID0gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvQW5pbWF0aW9uLnRzXG52YXIgZW1wdHlBcnJheSA9IFtdO1xudmFyIEFuaW1hdGlvbiA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jaGFuZ2VkID0gZmFsc2U7XG4gICAgdGhpcy52YWx1ZXMgPSBlbXB0eUFycmF5O1xuICAgIHRoaXMudG9WYWx1ZXMgPSBudWxsO1xuICAgIHRoaXMuZnJvbVZhbHVlcyA9IGVtcHR5QXJyYXk7XG4gICAgdGhpcy5jb25maWcgPSBuZXcgQW5pbWF0aW9uQ29uZmlnKCk7XG4gICAgdGhpcy5pbW1lZGlhdGUgPSBmYWxzZTtcbiAgfVxufTtcblxuLy8gc3JjL3NjaGVkdWxlUHJvcHMudHNcbmltcG9ydCB7IGlzIGFzIGlzMywgcmFmLCBHbG9iYWxzIGFzIEcyIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiBzY2hlZHVsZVByb3BzKGNhbGxJZCwgeyBrZXksIHByb3BzLCBkZWZhdWx0UHJvcHMsIHN0YXRlLCBhY3Rpb25zIH0pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBsZXQgZGVsYXk7XG4gICAgbGV0IHRpbWVvdXQ7XG4gICAgbGV0IGNhbmNlbCA9IG1hdGNoUHJvcChwcm9wcy5jYW5jZWwgPz8gZGVmYXVsdFByb3BzPy5jYW5jZWwsIGtleSk7XG4gICAgaWYgKGNhbmNlbCkge1xuICAgICAgb25TdGFydCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWlzMy51bmQocHJvcHMucGF1c2UpKSB7XG4gICAgICAgIHN0YXRlLnBhdXNlZCA9IG1hdGNoUHJvcChwcm9wcy5wYXVzZSwga2V5KTtcbiAgICAgIH1cbiAgICAgIGxldCBwYXVzZSA9IGRlZmF1bHRQcm9wcz8ucGF1c2U7XG4gICAgICBpZiAocGF1c2UgIT09IHRydWUpIHtcbiAgICAgICAgcGF1c2UgPSBzdGF0ZS5wYXVzZWQgfHwgbWF0Y2hQcm9wKHBhdXNlLCBrZXkpO1xuICAgICAgfVxuICAgICAgZGVsYXkgPSBjYWxsUHJvcChwcm9wcy5kZWxheSB8fCAwLCBrZXkpO1xuICAgICAgaWYgKHBhdXNlKSB7XG4gICAgICAgIHN0YXRlLnJlc3VtZVF1ZXVlLmFkZChvblJlc3VtZSk7XG4gICAgICAgIGFjdGlvbnMucGF1c2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGlvbnMucmVzdW1lKCk7XG4gICAgICAgIG9uUmVzdW1lKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uUGF1c2UoKSB7XG4gICAgICBzdGF0ZS5yZXN1bWVRdWV1ZS5hZGQob25SZXN1bWUpO1xuICAgICAgc3RhdGUudGltZW91dHMuZGVsZXRlKHRpbWVvdXQpO1xuICAgICAgdGltZW91dC5jYW5jZWwoKTtcbiAgICAgIGRlbGF5ID0gdGltZW91dC50aW1lIC0gcmFmLm5vdygpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBvblJlc3VtZSgpIHtcbiAgICAgIGlmIChkZWxheSA+IDAgJiYgIUcyLnNraXBBbmltYXRpb24pIHtcbiAgICAgICAgc3RhdGUuZGVsYXllZCA9IHRydWU7XG4gICAgICAgIHRpbWVvdXQgPSByYWYuc2V0VGltZW91dChvblN0YXJ0LCBkZWxheSk7XG4gICAgICAgIHN0YXRlLnBhdXNlUXVldWUuYWRkKG9uUGF1c2UpO1xuICAgICAgICBzdGF0ZS50aW1lb3V0cy5hZGQodGltZW91dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvblN0YXJ0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG9uU3RhcnQoKSB7XG4gICAgICBpZiAoc3RhdGUuZGVsYXllZCkge1xuICAgICAgICBzdGF0ZS5kZWxheWVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBzdGF0ZS5wYXVzZVF1ZXVlLmRlbGV0ZShvblBhdXNlKTtcbiAgICAgIHN0YXRlLnRpbWVvdXRzLmRlbGV0ZSh0aW1lb3V0KTtcbiAgICAgIGlmIChjYWxsSWQgPD0gKHN0YXRlLmNhbmNlbElkIHx8IDApKSB7XG4gICAgICAgIGNhbmNlbCA9IHRydWU7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBhY3Rpb25zLnN0YXJ0KHsgLi4ucHJvcHMsIGNhbGxJZCwgY2FuY2VsIH0sIHJlc29sdmUpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8vIHNyYy9ydW5Bc3luYy50c1xuaW1wb3J0IHtcbiAgaXMgYXMgaXM0LFxuICByYWYgYXMgcmFmMixcbiAgZmx1c2gsXG4gIGVhY2hQcm9wIGFzIGVhY2hQcm9wMixcbiAgR2xvYmFscyBhcyBHM1xufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL0FuaW1hdGlvblJlc3VsdC50c1xudmFyIGdldENvbWJpbmVkUmVzdWx0ID0gKHRhcmdldCwgcmVzdWx0cykgPT4gcmVzdWx0cy5sZW5ndGggPT0gMSA/IHJlc3VsdHNbMF0gOiByZXN1bHRzLnNvbWUoKHJlc3VsdCkgPT4gcmVzdWx0LmNhbmNlbGxlZCkgPyBnZXRDYW5jZWxsZWRSZXN1bHQodGFyZ2V0LmdldCgpKSA6IHJlc3VsdHMuZXZlcnkoKHJlc3VsdCkgPT4gcmVzdWx0Lm5vb3ApID8gZ2V0Tm9vcFJlc3VsdCh0YXJnZXQuZ2V0KCkpIDogZ2V0RmluaXNoZWRSZXN1bHQoXG4gIHRhcmdldC5nZXQoKSxcbiAgcmVzdWx0cy5ldmVyeSgocmVzdWx0KSA9PiByZXN1bHQuZmluaXNoZWQpXG4pO1xudmFyIGdldE5vb3BSZXN1bHQgPSAodmFsdWUpID0+ICh7XG4gIHZhbHVlLFxuICBub29wOiB0cnVlLFxuICBmaW5pc2hlZDogdHJ1ZSxcbiAgY2FuY2VsbGVkOiBmYWxzZVxufSk7XG52YXIgZ2V0RmluaXNoZWRSZXN1bHQgPSAodmFsdWUsIGZpbmlzaGVkLCBjYW5jZWxsZWQgPSBmYWxzZSkgPT4gKHtcbiAgdmFsdWUsXG4gIGZpbmlzaGVkLFxuICBjYW5jZWxsZWRcbn0pO1xudmFyIGdldENhbmNlbGxlZFJlc3VsdCA9ICh2YWx1ZSkgPT4gKHtcbiAgdmFsdWUsXG4gIGNhbmNlbGxlZDogdHJ1ZSxcbiAgZmluaXNoZWQ6IGZhbHNlXG59KTtcblxuLy8gc3JjL3J1bkFzeW5jLnRzXG5mdW5jdGlvbiBydW5Bc3luYyh0bzIsIHByb3BzLCBzdGF0ZSwgdGFyZ2V0KSB7XG4gIGNvbnN0IHsgY2FsbElkLCBwYXJlbnRJZCwgb25SZXN0IH0gPSBwcm9wcztcbiAgY29uc3QgeyBhc3luY1RvOiBwcmV2VG8sIHByb21pc2U6IHByZXZQcm9taXNlIH0gPSBzdGF0ZTtcbiAgaWYgKCFwYXJlbnRJZCAmJiB0bzIgPT09IHByZXZUbyAmJiAhcHJvcHMucmVzZXQpIHtcbiAgICByZXR1cm4gcHJldlByb21pc2U7XG4gIH1cbiAgcmV0dXJuIHN0YXRlLnByb21pc2UgPSAoYXN5bmMgKCkgPT4ge1xuICAgIHN0YXRlLmFzeW5jSWQgPSBjYWxsSWQ7XG4gICAgc3RhdGUuYXN5bmNUbyA9IHRvMjtcbiAgICBjb25zdCBkZWZhdWx0UHJvcHMgPSBnZXREZWZhdWx0UHJvcHMoXG4gICAgICBwcm9wcyxcbiAgICAgICh2YWx1ZSwga2V5KSA9PiAoXG4gICAgICAgIC8vIFRoZSBgb25SZXN0YCBwcm9wIGlzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIGBydW5Bc3luY2AgcHJvbWlzZSBpcyByZXNvbHZlZC5cbiAgICAgICAga2V5ID09PSBcIm9uUmVzdFwiID8gdm9pZCAwIDogdmFsdWVcbiAgICAgIClcbiAgICApO1xuICAgIGxldCBwcmV2ZW50QmFpbDtcbiAgICBsZXQgYmFpbDtcbiAgICBjb25zdCBiYWlsUHJvbWlzZSA9IG5ldyBQcm9taXNlKFxuICAgICAgKHJlc29sdmUsIHJlamVjdCkgPT4gKHByZXZlbnRCYWlsID0gcmVzb2x2ZSwgYmFpbCA9IHJlamVjdClcbiAgICApO1xuICAgIGNvbnN0IGJhaWxJZkVuZGVkID0gKGJhaWxTaWduYWwpID0+IHtcbiAgICAgIGNvbnN0IGJhaWxSZXN1bHQgPSAoXG4gICAgICAgIC8vIFRoZSBgY2FuY2VsYCBwcm9wIG9yIGBzdG9wYCBtZXRob2Qgd2FzIHVzZWQuXG4gICAgICAgIGNhbGxJZCA8PSAoc3RhdGUuY2FuY2VsSWQgfHwgMCkgJiYgZ2V0Q2FuY2VsbGVkUmVzdWx0KHRhcmdldCkgfHwgLy8gVGhlIGFzeW5jIGB0b2AgcHJvcCB3YXMgcmVwbGFjZWQuXG4gICAgICAgIGNhbGxJZCAhPT0gc3RhdGUuYXN5bmNJZCAmJiBnZXRGaW5pc2hlZFJlc3VsdCh0YXJnZXQsIGZhbHNlKVxuICAgICAgKTtcbiAgICAgIGlmIChiYWlsUmVzdWx0KSB7XG4gICAgICAgIGJhaWxTaWduYWwucmVzdWx0ID0gYmFpbFJlc3VsdDtcbiAgICAgICAgYmFpbChiYWlsU2lnbmFsKTtcbiAgICAgICAgdGhyb3cgYmFpbFNpZ25hbDtcbiAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGFuaW1hdGUgPSAoYXJnMSwgYXJnMikgPT4ge1xuICAgICAgY29uc3QgYmFpbFNpZ25hbCA9IG5ldyBCYWlsU2lnbmFsKCk7XG4gICAgICBjb25zdCBza2lwQW5pbWF0aW9uU2lnbmFsID0gbmV3IFNraXBBbmltYXRpb25TaWduYWwoKTtcbiAgICAgIHJldHVybiAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoRzMuc2tpcEFuaW1hdGlvbikge1xuICAgICAgICAgIHN0b3BBc3luYyhzdGF0ZSk7XG4gICAgICAgICAgc2tpcEFuaW1hdGlvblNpZ25hbC5yZXN1bHQgPSBnZXRGaW5pc2hlZFJlc3VsdCh0YXJnZXQsIGZhbHNlKTtcbiAgICAgICAgICBiYWlsKHNraXBBbmltYXRpb25TaWduYWwpO1xuICAgICAgICAgIHRocm93IHNraXBBbmltYXRpb25TaWduYWw7XG4gICAgICAgIH1cbiAgICAgICAgYmFpbElmRW5kZWQoYmFpbFNpZ25hbCk7XG4gICAgICAgIGNvbnN0IHByb3BzMiA9IGlzNC5vYmooYXJnMSkgPyB7IC4uLmFyZzEgfSA6IHsgLi4uYXJnMiwgdG86IGFyZzEgfTtcbiAgICAgICAgcHJvcHMyLnBhcmVudElkID0gY2FsbElkO1xuICAgICAgICBlYWNoUHJvcDIoZGVmYXVsdFByb3BzLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgIGlmIChpczQudW5kKHByb3BzMltrZXldKSkge1xuICAgICAgICAgICAgcHJvcHMyW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgdGFyZ2V0LnN0YXJ0KHByb3BzMik7XG4gICAgICAgIGJhaWxJZkVuZGVkKGJhaWxTaWduYWwpO1xuICAgICAgICBpZiAoc3RhdGUucGF1c2VkKSB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc3VtZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUucmVzdW1lUXVldWUuYWRkKHJlc3VtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDI7XG4gICAgICB9KSgpO1xuICAgIH07XG4gICAgbGV0IHJlc3VsdDtcbiAgICBpZiAoRzMuc2tpcEFuaW1hdGlvbikge1xuICAgICAgc3RvcEFzeW5jKHN0YXRlKTtcbiAgICAgIHJldHVybiBnZXRGaW5pc2hlZFJlc3VsdCh0YXJnZXQsIGZhbHNlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGxldCBhbmltYXRpbmc7XG4gICAgICBpZiAoaXM0LmFycih0bzIpKSB7XG4gICAgICAgIGFuaW1hdGluZyA9IChhc3luYyAocXVldWUpID0+IHtcbiAgICAgICAgICBmb3IgKGNvbnN0IHByb3BzMiBvZiBxdWV1ZSkge1xuICAgICAgICAgICAgYXdhaXQgYW5pbWF0ZShwcm9wczIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkodG8yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuaW1hdGluZyA9IFByb21pc2UucmVzb2x2ZSh0bzIoYW5pbWF0ZSwgdGFyZ2V0LnN0b3AuYmluZCh0YXJnZXQpKSk7XG4gICAgICB9XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChbYW5pbWF0aW5nLnRoZW4ocHJldmVudEJhaWwpLCBiYWlsUHJvbWlzZV0pO1xuICAgICAgcmVzdWx0ID0gZ2V0RmluaXNoZWRSZXN1bHQodGFyZ2V0LmdldCgpLCB0cnVlLCBmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgQmFpbFNpZ25hbCkge1xuICAgICAgICByZXN1bHQgPSBlcnIucmVzdWx0O1xuICAgICAgfSBlbHNlIGlmIChlcnIgaW5zdGFuY2VvZiBTa2lwQW5pbWF0aW9uU2lnbmFsKSB7XG4gICAgICAgIHJlc3VsdCA9IGVyci5yZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChjYWxsSWQgPT0gc3RhdGUuYXN5bmNJZCkge1xuICAgICAgICBzdGF0ZS5hc3luY0lkID0gcGFyZW50SWQ7XG4gICAgICAgIHN0YXRlLmFzeW5jVG8gPSBwYXJlbnRJZCA/IHByZXZUbyA6IHZvaWQgMDtcbiAgICAgICAgc3RhdGUucHJvbWlzZSA9IHBhcmVudElkID8gcHJldlByb21pc2UgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpczQuZnVuKG9uUmVzdCkpIHtcbiAgICAgIHJhZjIuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICBvblJlc3QocmVzdWx0LCB0YXJnZXQsIHRhcmdldC5pdGVtKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9KSgpO1xufVxuZnVuY3Rpb24gc3RvcEFzeW5jKHN0YXRlLCBjYW5jZWxJZCkge1xuICBmbHVzaChzdGF0ZS50aW1lb3V0cywgKHQpID0+IHQuY2FuY2VsKCkpO1xuICBzdGF0ZS5wYXVzZVF1ZXVlLmNsZWFyKCk7XG4gIHN0YXRlLnJlc3VtZVF1ZXVlLmNsZWFyKCk7XG4gIHN0YXRlLmFzeW5jSWQgPSBzdGF0ZS5hc3luY1RvID0gc3RhdGUucHJvbWlzZSA9IHZvaWQgMDtcbiAgaWYgKGNhbmNlbElkKVxuICAgIHN0YXRlLmNhbmNlbElkID0gY2FuY2VsSWQ7XG59XG52YXIgQmFpbFNpZ25hbCA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcihcbiAgICAgIFwiQW4gYXN5bmMgYW5pbWF0aW9uIGhhcyBiZWVuIGludGVycnVwdGVkLiBZb3Ugc2VlIHRoaXMgZXJyb3IgYmVjYXVzZSB5b3UgZm9yZ290IHRvIHVzZSBgYXdhaXRgIG9yIGAuY2F0Y2goLi4uKWAgb24gaXRzIHJldHVybmVkIHByb21pc2UuXCJcbiAgICApO1xuICB9XG59O1xudmFyIFNraXBBbmltYXRpb25TaWduYWwgPSBjbGFzcyBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoXCJTa2lwQW5pbWF0aW9uU2lnbmFsXCIpO1xuICB9XG59O1xuXG4vLyBzcmMvRnJhbWVWYWx1ZS50c1xuaW1wb3J0IHtcbiAgZGVwcmVjYXRlSW50ZXJwb2xhdGUsXG4gIGZyYW1lTG9vcCxcbiAgRmx1aWRWYWx1ZSBhcyBGbHVpZFZhbHVlMixcbiAgR2xvYmFscyBhcyBHNCxcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuaW1wb3J0IHsgZ2V0QW5pbWF0ZWQgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xudmFyIGlzRnJhbWVWYWx1ZSA9ICh2YWx1ZSkgPT4gdmFsdWUgaW5zdGFuY2VvZiBGcmFtZVZhbHVlO1xudmFyIG5leHRJZCA9IDE7XG52YXIgRnJhbWVWYWx1ZSA9IGNsYXNzIGV4dGVuZHMgRmx1aWRWYWx1ZTIge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgIHRoaXMuaWQgPSBuZXh0SWQrKztcbiAgICB0aGlzLl9wcmlvcml0eSA9IDA7XG4gIH1cbiAgZ2V0IHByaW9yaXR5KCkge1xuICAgIHJldHVybiB0aGlzLl9wcmlvcml0eTtcbiAgfVxuICBzZXQgcHJpb3JpdHkocHJpb3JpdHkpIHtcbiAgICBpZiAodGhpcy5fcHJpb3JpdHkgIT0gcHJpb3JpdHkpIHtcbiAgICAgIHRoaXMuX3ByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgICB0aGlzLl9vblByaW9yaXR5Q2hhbmdlKHByaW9yaXR5KTtcbiAgICB9XG4gIH1cbiAgLyoqIEdldCB0aGUgY3VycmVudCB2YWx1ZSAqL1xuICBnZXQoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGdldEFuaW1hdGVkKHRoaXMpO1xuICAgIHJldHVybiBub2RlICYmIG5vZGUuZ2V0VmFsdWUoKTtcbiAgfVxuICAvKiogQ3JlYXRlIGEgc3ByaW5nIHRoYXQgbWFwcyBvdXIgdmFsdWUgdG8gYW5vdGhlciB2YWx1ZSAqL1xuICB0byguLi5hcmdzKSB7XG4gICAgcmV0dXJuIEc0LnRvKHRoaXMsIGFyZ3MpO1xuICB9XG4gIC8qKiBAZGVwcmVjYXRlZCBVc2UgdGhlIGB0b2AgbWV0aG9kIGluc3RlYWQuICovXG4gIGludGVycG9sYXRlKC4uLmFyZ3MpIHtcbiAgICBkZXByZWNhdGVJbnRlcnBvbGF0ZSgpO1xuICAgIHJldHVybiBHNC50byh0aGlzLCBhcmdzKTtcbiAgfVxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KCk7XG4gIH1cbiAgb2JzZXJ2ZXJBZGRlZChjb3VudCkge1xuICAgIGlmIChjb3VudCA9PSAxKVxuICAgICAgdGhpcy5fYXR0YWNoKCk7XG4gIH1cbiAgb2JzZXJ2ZXJSZW1vdmVkKGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09IDApXG4gICAgICB0aGlzLl9kZXRhY2goKTtcbiAgfVxuICAvKiogQ2FsbGVkIHdoZW4gdGhlIGZpcnN0IGNoaWxkIGlzIGFkZGVkLiAqL1xuICBfYXR0YWNoKCkge1xuICB9XG4gIC8qKiBDYWxsZWQgd2hlbiB0aGUgbGFzdCBjaGlsZCBpcyByZW1vdmVkLiAqL1xuICBfZGV0YWNoKCkge1xuICB9XG4gIC8qKiBUZWxsIG91ciBjaGlsZHJlbiBhYm91dCBvdXIgbmV3IHZhbHVlICovXG4gIF9vbkNoYW5nZSh2YWx1ZSwgaWRsZSA9IGZhbHNlKSB7XG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzKHRoaXMsIHtcbiAgICAgIHR5cGU6IFwiY2hhbmdlXCIsXG4gICAgICBwYXJlbnQ6IHRoaXMsXG4gICAgICB2YWx1ZSxcbiAgICAgIGlkbGVcbiAgICB9KTtcbiAgfVxuICAvKiogVGVsbCBvdXIgY2hpbGRyZW4gYWJvdXQgb3VyIG5ldyBwcmlvcml0eSAqL1xuICBfb25Qcmlvcml0eUNoYW5nZShwcmlvcml0eSkge1xuICAgIGlmICghdGhpcy5pZGxlKSB7XG4gICAgICBmcmFtZUxvb3Auc29ydCh0aGlzKTtcbiAgICB9XG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzKHRoaXMsIHtcbiAgICAgIHR5cGU6IFwicHJpb3JpdHlcIixcbiAgICAgIHBhcmVudDogdGhpcyxcbiAgICAgIHByaW9yaXR5XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIHNyYy9TcHJpbmdQaGFzZS50c1xudmFyICRQID0gU3ltYm9sLmZvcihcIlNwcmluZ1BoYXNlXCIpO1xudmFyIEhBU19BTklNQVRFRCA9IDE7XG52YXIgSVNfQU5JTUFUSU5HID0gMjtcbnZhciBJU19QQVVTRUQgPSA0O1xudmFyIGhhc0FuaW1hdGVkID0gKHRhcmdldCkgPT4gKHRhcmdldFskUF0gJiBIQVNfQU5JTUFURUQpID4gMDtcbnZhciBpc0FuaW1hdGluZyA9ICh0YXJnZXQpID0+ICh0YXJnZXRbJFBdICYgSVNfQU5JTUFUSU5HKSA+IDA7XG52YXIgaXNQYXVzZWQgPSAodGFyZ2V0KSA9PiAodGFyZ2V0WyRQXSAmIElTX1BBVVNFRCkgPiAwO1xudmFyIHNldEFjdGl2ZUJpdCA9ICh0YXJnZXQsIGFjdGl2ZSkgPT4gYWN0aXZlID8gdGFyZ2V0WyRQXSB8PSBJU19BTklNQVRJTkcgfCBIQVNfQU5JTUFURUQgOiB0YXJnZXRbJFBdICY9IH5JU19BTklNQVRJTkc7XG52YXIgc2V0UGF1c2VkQml0ID0gKHRhcmdldCwgcGF1c2VkKSA9PiBwYXVzZWQgPyB0YXJnZXRbJFBdIHw9IElTX1BBVVNFRCA6IHRhcmdldFskUF0gJj0gfklTX1BBVVNFRDtcblxuLy8gc3JjL1NwcmluZ1ZhbHVlLnRzXG52YXIgU3ByaW5nVmFsdWUgPSBjbGFzcyBleHRlbmRzIEZyYW1lVmFsdWUge1xuICBjb25zdHJ1Y3RvcihhcmcxLCBhcmcyKSB7XG4gICAgc3VwZXIoKTtcbiAgICAvKiogVGhlIGFuaW1hdGlvbiBzdGF0ZSAqL1xuICAgIHRoaXMuYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbigpO1xuICAgIC8qKiBTb21lIHByb3BzIGhhdmUgY3VzdG9taXphYmxlIGRlZmF1bHQgdmFsdWVzICovXG4gICAgdGhpcy5kZWZhdWx0UHJvcHMgPSB7fTtcbiAgICAvKiogVGhlIHN0YXRlIGZvciBgcnVuQXN5bmNgIGNhbGxzICovXG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgZGVsYXllZDogZmFsc2UsXG4gICAgICBwYXVzZVF1ZXVlOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgICAgcmVzdW1lUXVldWU6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gICAgICB0aW1lb3V0czogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKVxuICAgIH07XG4gICAgLyoqIFRoZSBwcm9taXNlIHJlc29sdmVycyBvZiBwZW5kaW5nIGBzdGFydGAgY2FsbHMgKi9cbiAgICB0aGlzLl9wZW5kaW5nQ2FsbHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIC8qKiBUaGUgY291bnRlciBmb3IgdHJhY2tpbmcgYHNjaGVkdWxlUHJvcHNgIGNhbGxzICovXG4gICAgdGhpcy5fbGFzdENhbGxJZCA9IDA7XG4gICAgLyoqIFRoZSBsYXN0IGBzY2hlZHVsZVByb3BzYCBjYWxsIHRoYXQgY2hhbmdlZCB0aGUgYHRvYCBwcm9wICovXG4gICAgdGhpcy5fbGFzdFRvSWQgPSAwO1xuICAgIHRoaXMuX21lbW9pemVkRHVyYXRpb24gPSAwO1xuICAgIGlmICghaXM1LnVuZChhcmcxKSB8fCAhaXM1LnVuZChhcmcyKSkge1xuICAgICAgY29uc3QgcHJvcHMgPSBpczUub2JqKGFyZzEpID8geyAuLi5hcmcxIH0gOiB7IC4uLmFyZzIsIGZyb206IGFyZzEgfTtcbiAgICAgIGlmIChpczUudW5kKHByb3BzLmRlZmF1bHQpKSB7XG4gICAgICAgIHByb3BzLmRlZmF1bHQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdGhpcy5zdGFydChwcm9wcyk7XG4gICAgfVxuICB9XG4gIC8qKiBFcXVhbHMgdHJ1ZSB3aGVuIG5vdCBhZHZhbmNpbmcgb24gZWFjaCBmcmFtZS4gKi9cbiAgZ2V0IGlkbGUoKSB7XG4gICAgcmV0dXJuICEoaXNBbmltYXRpbmcodGhpcykgfHwgdGhpcy5fc3RhdGUuYXN5bmNUbykgfHwgaXNQYXVzZWQodGhpcyk7XG4gIH1cbiAgZ2V0IGdvYWwoKSB7XG4gICAgcmV0dXJuIGdldEZsdWlkVmFsdWUyKHRoaXMuYW5pbWF0aW9uLnRvKTtcbiAgfVxuICBnZXQgdmVsb2NpdHkoKSB7XG4gICAgY29uc3Qgbm9kZSA9IGdldEFuaW1hdGVkMih0aGlzKTtcbiAgICByZXR1cm4gbm9kZSBpbnN0YW5jZW9mIEFuaW1hdGVkVmFsdWUgPyBub2RlLmxhc3RWZWxvY2l0eSB8fCAwIDogbm9kZS5nZXRQYXlsb2FkKCkubWFwKChub2RlMikgPT4gbm9kZTIubGFzdFZlbG9jaXR5IHx8IDApO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRydWUsIHRoaXMgdmFsdWUgaGFzIGJlZW4gYW5pbWF0ZWQgYXQgbGVhc3Qgb25jZS5cbiAgICovXG4gIGdldCBoYXNBbmltYXRlZCgpIHtcbiAgICByZXR1cm4gaGFzQW5pbWF0ZWQodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSwgdGhpcyB2YWx1ZSBoYXMgYW4gdW5maW5pc2hlZCBhbmltYXRpb24sXG4gICAqIHdoaWNoIGlzIGVpdGhlciBhY3RpdmUgb3IgcGF1c2VkLlxuICAgKi9cbiAgZ2V0IGlzQW5pbWF0aW5nKCkge1xuICAgIHJldHVybiBpc0FuaW1hdGluZyh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogV2hlbiB0cnVlLCBhbGwgY3VycmVudCBhbmQgZnV0dXJlIGFuaW1hdGlvbnMgYXJlIHBhdXNlZC5cbiAgICovXG4gIGdldCBpc1BhdXNlZCgpIHtcbiAgICByZXR1cm4gaXNQYXVzZWQodGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqXG4gICAqXG4gICAqL1xuICBnZXQgaXNEZWxheWVkKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGF0ZS5kZWxheWVkO1xuICB9XG4gIC8qKiBBZHZhbmNlIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBieSBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgKi9cbiAgYWR2YW5jZShkdCkge1xuICAgIGxldCBpZGxlID0gdHJ1ZTtcbiAgICBsZXQgY2hhbmdlZCA9IGZhbHNlO1xuICAgIGNvbnN0IGFuaW0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBsZXQgeyB0b1ZhbHVlcyB9ID0gYW5pbTtcbiAgICBjb25zdCB7IGNvbmZpZzogY29uZmlnMiB9ID0gYW5pbTtcbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0UGF5bG9hZChhbmltLnRvKTtcbiAgICBpZiAoIXBheWxvYWQgJiYgaGFzRmx1aWRWYWx1ZShhbmltLnRvKSkge1xuICAgICAgdG9WYWx1ZXMgPSB0b0FycmF5MihnZXRGbHVpZFZhbHVlMihhbmltLnRvKSk7XG4gICAgfVxuICAgIGFuaW0udmFsdWVzLmZvckVhY2goKG5vZGUyLCBpKSA9PiB7XG4gICAgICBpZiAobm9kZTIuZG9uZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgdG8yID0gKFxuICAgICAgICAvLyBBbmltYXRlZCBzdHJpbmdzIGFsd2F5cyBnbyBmcm9tIDAgdG8gMS5cbiAgICAgICAgbm9kZTIuY29uc3RydWN0b3IgPT0gQW5pbWF0ZWRTdHJpbmcgPyAxIDogcGF5bG9hZCA/IHBheWxvYWRbaV0ubGFzdFBvc2l0aW9uIDogdG9WYWx1ZXNbaV1cbiAgICAgICk7XG4gICAgICBsZXQgZmluaXNoZWQgPSBhbmltLmltbWVkaWF0ZTtcbiAgICAgIGxldCBwb3NpdGlvbiA9IHRvMjtcbiAgICAgIGlmICghZmluaXNoZWQpIHtcbiAgICAgICAgcG9zaXRpb24gPSBub2RlMi5sYXN0UG9zaXRpb247XG4gICAgICAgIGlmIChjb25maWcyLnRlbnNpb24gPD0gMCkge1xuICAgICAgICAgIG5vZGUyLmRvbmUgPSB0cnVlO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZWxhcHNlZCA9IG5vZGUyLmVsYXBzZWRUaW1lICs9IGR0O1xuICAgICAgICBjb25zdCBmcm9tID0gYW5pbS5mcm9tVmFsdWVzW2ldO1xuICAgICAgICBjb25zdCB2MCA9IG5vZGUyLnYwICE9IG51bGwgPyBub2RlMi52MCA6IG5vZGUyLnYwID0gaXM1LmFycihjb25maWcyLnZlbG9jaXR5KSA/IGNvbmZpZzIudmVsb2NpdHlbaV0gOiBjb25maWcyLnZlbG9jaXR5O1xuICAgICAgICBsZXQgdmVsb2NpdHk7XG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IGNvbmZpZzIucHJlY2lzaW9uIHx8IChmcm9tID09IHRvMiA/IDVlLTMgOiBNYXRoLm1pbigxLCBNYXRoLmFicyh0bzIgLSBmcm9tKSAqIDFlLTMpKTtcbiAgICAgICAgaWYgKCFpczUudW5kKGNvbmZpZzIuZHVyYXRpb24pKSB7XG4gICAgICAgICAgbGV0IHAgPSAxO1xuICAgICAgICAgIGlmIChjb25maWcyLmR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lbW9pemVkRHVyYXRpb24gIT09IGNvbmZpZzIuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgdGhpcy5fbWVtb2l6ZWREdXJhdGlvbiA9IGNvbmZpZzIuZHVyYXRpb247XG4gICAgICAgICAgICAgIGlmIChub2RlMi5kdXJhdGlvblByb2dyZXNzID4gMCkge1xuICAgICAgICAgICAgICAgIG5vZGUyLmVsYXBzZWRUaW1lID0gY29uZmlnMi5kdXJhdGlvbiAqIG5vZGUyLmR1cmF0aW9uUHJvZ3Jlc3M7XG4gICAgICAgICAgICAgICAgZWxhcHNlZCA9IG5vZGUyLmVsYXBzZWRUaW1lICs9IGR0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwID0gKGNvbmZpZzIucHJvZ3Jlc3MgfHwgMCkgKyBlbGFwc2VkIC8gdGhpcy5fbWVtb2l6ZWREdXJhdGlvbjtcbiAgICAgICAgICAgIHAgPSBwID4gMSA/IDEgOiBwIDwgMCA/IDAgOiBwO1xuICAgICAgICAgICAgbm9kZTIuZHVyYXRpb25Qcm9ncmVzcyA9IHA7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBvc2l0aW9uID0gZnJvbSArIGNvbmZpZzIuZWFzaW5nKHApICogKHRvMiAtIGZyb20pO1xuICAgICAgICAgIHZlbG9jaXR5ID0gKHBvc2l0aW9uIC0gbm9kZTIubGFzdFBvc2l0aW9uKSAvIGR0O1xuICAgICAgICAgIGZpbmlzaGVkID0gcCA9PSAxO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbmZpZzIuZGVjYXkpIHtcbiAgICAgICAgICBjb25zdCBkZWNheSA9IGNvbmZpZzIuZGVjYXkgPT09IHRydWUgPyAwLjk5OCA6IGNvbmZpZzIuZGVjYXk7XG4gICAgICAgICAgY29uc3QgZSA9IE1hdGguZXhwKC0oMSAtIGRlY2F5KSAqIGVsYXBzZWQpO1xuICAgICAgICAgIHBvc2l0aW9uID0gZnJvbSArIHYwIC8gKDEgLSBkZWNheSkgKiAoMSAtIGUpO1xuICAgICAgICAgIGZpbmlzaGVkID0gTWF0aC5hYnMobm9kZTIubGFzdFBvc2l0aW9uIC0gcG9zaXRpb24pIDw9IHByZWNpc2lvbjtcbiAgICAgICAgICB2ZWxvY2l0eSA9IHYwICogZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2ZWxvY2l0eSA9IG5vZGUyLmxhc3RWZWxvY2l0eSA9PSBudWxsID8gdjAgOiBub2RlMi5sYXN0VmVsb2NpdHk7XG4gICAgICAgICAgY29uc3QgcmVzdFZlbG9jaXR5ID0gY29uZmlnMi5yZXN0VmVsb2NpdHkgfHwgcHJlY2lzaW9uIC8gMTA7XG4gICAgICAgICAgY29uc3QgYm91bmNlRmFjdG9yID0gY29uZmlnMi5jbGFtcCA/IDAgOiBjb25maWcyLmJvdW5jZTtcbiAgICAgICAgICBjb25zdCBjYW5Cb3VuY2UgPSAhaXM1LnVuZChib3VuY2VGYWN0b3IpO1xuICAgICAgICAgIGNvbnN0IGlzR3Jvd2luZyA9IGZyb20gPT0gdG8yID8gbm9kZTIudjAgPiAwIDogZnJvbSA8IHRvMjtcbiAgICAgICAgICBsZXQgaXNNb3Zpbmc7XG4gICAgICAgICAgbGV0IGlzQm91bmNpbmcgPSBmYWxzZTtcbiAgICAgICAgICBjb25zdCBzdGVwID0gMTtcbiAgICAgICAgICBjb25zdCBudW1TdGVwcyA9IE1hdGguY2VpbChkdCAvIHN0ZXApO1xuICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgbnVtU3RlcHM7ICsrbikge1xuICAgICAgICAgICAgaXNNb3ZpbmcgPSBNYXRoLmFicyh2ZWxvY2l0eSkgPiByZXN0VmVsb2NpdHk7XG4gICAgICAgICAgICBpZiAoIWlzTW92aW5nKSB7XG4gICAgICAgICAgICAgIGZpbmlzaGVkID0gTWF0aC5hYnModG8yIC0gcG9zaXRpb24pIDw9IHByZWNpc2lvbjtcbiAgICAgICAgICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5Cb3VuY2UpIHtcbiAgICAgICAgICAgICAgaXNCb3VuY2luZyA9IHBvc2l0aW9uID09IHRvMiB8fCBwb3NpdGlvbiA+IHRvMiA9PSBpc0dyb3dpbmc7XG4gICAgICAgICAgICAgIGlmIChpc0JvdW5jaW5nKSB7XG4gICAgICAgICAgICAgICAgdmVsb2NpdHkgPSAtdmVsb2NpdHkgKiBib3VuY2VGYWN0b3I7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0bzI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNwcmluZ0ZvcmNlID0gLWNvbmZpZzIudGVuc2lvbiAqIDFlLTYgKiAocG9zaXRpb24gLSB0bzIpO1xuICAgICAgICAgICAgY29uc3QgZGFtcGluZ0ZvcmNlID0gLWNvbmZpZzIuZnJpY3Rpb24gKiAxZS0zICogdmVsb2NpdHk7XG4gICAgICAgICAgICBjb25zdCBhY2NlbGVyYXRpb24gPSAoc3ByaW5nRm9yY2UgKyBkYW1waW5nRm9yY2UpIC8gY29uZmlnMi5tYXNzO1xuICAgICAgICAgICAgdmVsb2NpdHkgPSB2ZWxvY2l0eSArIGFjY2VsZXJhdGlvbiAqIHN0ZXA7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uICsgdmVsb2NpdHkgKiBzdGVwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlMi5sYXN0VmVsb2NpdHkgPSB2ZWxvY2l0eTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihwb3NpdGlvbikpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oYEdvdCBOYU4gd2hpbGUgYW5pbWF0aW5nOmAsIHRoaXMpO1xuICAgICAgICAgIGZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHBheWxvYWQgJiYgIXBheWxvYWRbaV0uZG9uZSkge1xuICAgICAgICBmaW5pc2hlZCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICAgIG5vZGUyLmRvbmUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWRsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUyLnNldFZhbHVlKHBvc2l0aW9uLCBjb25maWcyLnJvdW5kKSkge1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBub2RlID0gZ2V0QW5pbWF0ZWQyKHRoaXMpO1xuICAgIGNvbnN0IGN1cnJWYWwgPSBub2RlLmdldFZhbHVlKCk7XG4gICAgaWYgKGlkbGUpIHtcbiAgICAgIGNvbnN0IGZpbmFsVmFsID0gZ2V0Rmx1aWRWYWx1ZTIoYW5pbS50byk7XG4gICAgICBpZiAoKGN1cnJWYWwgIT09IGZpbmFsVmFsIHx8IGNoYW5nZWQpICYmICFjb25maWcyLmRlY2F5KSB7XG4gICAgICAgIG5vZGUuc2V0VmFsdWUoZmluYWxWYWwpO1xuICAgICAgICB0aGlzLl9vbkNoYW5nZShmaW5hbFZhbCk7XG4gICAgICB9IGVsc2UgaWYgKGNoYW5nZWQgJiYgY29uZmlnMi5kZWNheSkge1xuICAgICAgICB0aGlzLl9vbkNoYW5nZShjdXJyVmFsKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0b3AoKTtcbiAgICB9IGVsc2UgaWYgKGNoYW5nZWQpIHtcbiAgICAgIHRoaXMuX29uQ2hhbmdlKGN1cnJWYWwpO1xuICAgIH1cbiAgfVxuICAvKiogU2V0IHRoZSBjdXJyZW50IHZhbHVlLCB3aGlsZSBzdG9wcGluZyB0aGUgY3VycmVudCBhbmltYXRpb24gKi9cbiAgc2V0KHZhbHVlKSB7XG4gICAgcmFmMy5iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICB0aGlzLl9zdG9wKCk7XG4gICAgICB0aGlzLl9mb2N1cyh2YWx1ZSk7XG4gICAgICB0aGlzLl9zZXQodmFsdWUpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBGcmVlemUgdGhlIGFjdGl2ZSBhbmltYXRpb24gaW4gdGltZSwgYXMgd2VsbCBhcyBhbnkgdXBkYXRlcyBtZXJnZWRcbiAgICogYmVmb3JlIGByZXN1bWVgIGlzIGNhbGxlZC5cbiAgICovXG4gIHBhdXNlKCkge1xuICAgIHRoaXMuX3VwZGF0ZSh7IHBhdXNlOiB0cnVlIH0pO1xuICB9XG4gIC8qKiBSZXN1bWUgdGhlIGFuaW1hdGlvbiBpZiBwYXVzZWQuICovXG4gIHJlc3VtZSgpIHtcbiAgICB0aGlzLl91cGRhdGUoeyBwYXVzZTogZmFsc2UgfSk7XG4gIH1cbiAgLyoqIFNraXAgdG8gdGhlIGVuZCBvZiB0aGUgY3VycmVudCBhbmltYXRpb24uICovXG4gIGZpbmlzaCgpIHtcbiAgICBpZiAoaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgIGNvbnN0IHsgdG86IHRvMiwgY29uZmlnOiBjb25maWcyIH0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICAgIHJhZjMuYmF0Y2hlZFVwZGF0ZXMoKCkgPT4ge1xuICAgICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICAgIGlmICghY29uZmlnMi5kZWNheSkge1xuICAgICAgICAgIHRoaXMuX3NldCh0bzIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdG9wKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIFB1c2ggcHJvcHMgaW50byB0aGUgcGVuZGluZyBxdWV1ZS4gKi9cbiAgdXBkYXRlKHByb3BzKSB7XG4gICAgY29uc3QgcXVldWUgPSB0aGlzLnF1ZXVlIHx8ICh0aGlzLnF1ZXVlID0gW10pO1xuICAgIHF1ZXVlLnB1c2gocHJvcHMpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHN0YXJ0KHRvMiwgYXJnMikge1xuICAgIGxldCBxdWV1ZTtcbiAgICBpZiAoIWlzNS51bmQodG8yKSkge1xuICAgICAgcXVldWUgPSBbaXM1Lm9iaih0bzIpID8gdG8yIDogeyAuLi5hcmcyLCB0bzogdG8yIH1dO1xuICAgIH0gZWxzZSB7XG4gICAgICBxdWV1ZSA9IHRoaXMucXVldWUgfHwgW107XG4gICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIHF1ZXVlLm1hcCgocHJvcHMpID0+IHtcbiAgICAgICAgY29uc3QgdXAgPSB0aGlzLl91cGRhdGUocHJvcHMpO1xuICAgICAgICByZXR1cm4gdXA7XG4gICAgICB9KVxuICAgICkudGhlbigocmVzdWx0cykgPT4gZ2V0Q29tYmluZWRSZXN1bHQodGhpcywgcmVzdWx0cykpO1xuICB9XG4gIC8qKlxuICAgKiBTdG9wIHRoZSBjdXJyZW50IGFuaW1hdGlvbiwgYW5kIGNhbmNlbCBhbnkgZGVsYXllZCB1cGRhdGVzLlxuICAgKlxuICAgKiBQYXNzIGB0cnVlYCB0byBjYWxsIGBvblJlc3RgIHdpdGggYGNhbmNlbGxlZDogdHJ1ZWAuXG4gICAqL1xuICBzdG9wKGNhbmNlbCkge1xuICAgIGNvbnN0IHsgdG86IHRvMiB9ID0gdGhpcy5hbmltYXRpb247XG4gICAgdGhpcy5fZm9jdXModGhpcy5nZXQoKSk7XG4gICAgc3RvcEFzeW5jKHRoaXMuX3N0YXRlLCBjYW5jZWwgJiYgdGhpcy5fbGFzdENhbGxJZCk7XG4gICAgcmFmMy5iYXRjaGVkVXBkYXRlcygoKSA9PiB0aGlzLl9zdG9wKHRvMiwgY2FuY2VsKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqIFJlc3RhcnQgdGhlIGFuaW1hdGlvbi4gKi9cbiAgcmVzZXQoKSB7XG4gICAgdGhpcy5fdXBkYXRlKHsgcmVzZXQ6IHRydWUgfSk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgdGhpcy5fc3RhcnQoKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJwcmlvcml0eVwiKSB7XG4gICAgICB0aGlzLnByaW9yaXR5ID0gZXZlbnQucHJpb3JpdHkgKyAxO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUGFyc2UgdGhlIGB0b2AgYW5kIGBmcm9tYCByYW5nZSBmcm9tIHRoZSBnaXZlbiBgcHJvcHNgIG9iamVjdC5cbiAgICpcbiAgICogVGhpcyBhbHNvIGVuc3VyZXMgdGhlIGluaXRpYWwgdmFsdWUgaXMgYXZhaWxhYmxlIHRvIGFuaW1hdGVkIGNvbXBvbmVudHNcbiAgICogZHVyaW5nIHRoZSByZW5kZXIgcGhhc2UuXG4gICAqL1xuICBfcHJlcGFyZU5vZGUocHJvcHMpIHtcbiAgICBjb25zdCBrZXkgPSB0aGlzLmtleSB8fCBcIlwiO1xuICAgIGxldCB7IHRvOiB0bzIsIGZyb20gfSA9IHByb3BzO1xuICAgIHRvMiA9IGlzNS5vYmoodG8yKSA/IHRvMltrZXldIDogdG8yO1xuICAgIGlmICh0bzIgPT0gbnVsbCB8fCBpc0FzeW5jVG8odG8yKSkge1xuICAgICAgdG8yID0gdm9pZCAwO1xuICAgIH1cbiAgICBmcm9tID0gaXM1Lm9iaihmcm9tKSA/IGZyb21ba2V5XSA6IGZyb207XG4gICAgaWYgKGZyb20gPT0gbnVsbCkge1xuICAgICAgZnJvbSA9IHZvaWQgMDtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSB7IHRvOiB0bzIsIGZyb20gfTtcbiAgICBpZiAoIWhhc0FuaW1hdGVkKHRoaXMpKSB7XG4gICAgICBpZiAocHJvcHMucmV2ZXJzZSlcbiAgICAgICAgW3RvMiwgZnJvbV0gPSBbZnJvbSwgdG8yXTtcbiAgICAgIGZyb20gPSBnZXRGbHVpZFZhbHVlMihmcm9tKTtcbiAgICAgIGlmICghaXM1LnVuZChmcm9tKSkge1xuICAgICAgICB0aGlzLl9zZXQoZnJvbSk7XG4gICAgICB9IGVsc2UgaWYgKCFnZXRBbmltYXRlZDIodGhpcykpIHtcbiAgICAgICAgdGhpcy5fc2V0KHRvMik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYW5nZTtcbiAgfVxuICAvKiogRXZlcnkgdXBkYXRlIGlzIHByb2Nlc3NlZCBieSB0aGlzIG1ldGhvZCBiZWZvcmUgbWVyZ2luZy4gKi9cbiAgX3VwZGF0ZSh7IC4uLnByb3BzIH0sIGlzTG9vcCkge1xuICAgIGNvbnN0IHsga2V5LCBkZWZhdWx0UHJvcHMgfSA9IHRoaXM7XG4gICAgaWYgKHByb3BzLmRlZmF1bHQpXG4gICAgICBPYmplY3QuYXNzaWduKFxuICAgICAgICBkZWZhdWx0UHJvcHMsXG4gICAgICAgIGdldERlZmF1bHRQcm9wcyhcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAodmFsdWUsIHByb3ApID0+IC9eb24vLnRlc3QocHJvcCkgPyByZXNvbHZlUHJvcCh2YWx1ZSwga2V5KSA6IHZhbHVlXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgbWVyZ2VBY3RpdmVGbih0aGlzLCBwcm9wcywgXCJvblByb3BzXCIpO1xuICAgIHNlbmRFdmVudCh0aGlzLCBcIm9uUHJvcHNcIiwgcHJvcHMsIHRoaXMpO1xuICAgIGNvbnN0IHJhbmdlID0gdGhpcy5fcHJlcGFyZU5vZGUocHJvcHMpO1xuICAgIGlmIChPYmplY3QuaXNGcm96ZW4odGhpcykpIHtcbiAgICAgIHRocm93IEVycm9yKFxuICAgICAgICBcIkNhbm5vdCBhbmltYXRlIGEgYFNwcmluZ1ZhbHVlYCBvYmplY3QgdGhhdCBpcyBmcm96ZW4uIERpZCB5b3UgZm9yZ2V0IHRvIHBhc3MgeW91ciBjb21wb25lbnQgdG8gYGFuaW1hdGVkKC4uLilgIGJlZm9yZSBhbmltYXRpbmcgaXRzIHByb3BzP1wiXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgIHJldHVybiBzY2hlZHVsZVByb3BzKCsrdGhpcy5fbGFzdENhbGxJZCwge1xuICAgICAga2V5LFxuICAgICAgcHJvcHMsXG4gICAgICBkZWZhdWx0UHJvcHMsXG4gICAgICBzdGF0ZSxcbiAgICAgIGFjdGlvbnM6IHtcbiAgICAgICAgcGF1c2U6ICgpID0+IHtcbiAgICAgICAgICBpZiAoIWlzUGF1c2VkKHRoaXMpKSB7XG4gICAgICAgICAgICBzZXRQYXVzZWRCaXQodGhpcywgdHJ1ZSk7XG4gICAgICAgICAgICBmbHVzaENhbGxzKHN0YXRlLnBhdXNlUXVldWUpO1xuICAgICAgICAgICAgc2VuZEV2ZW50KFxuICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICBcIm9uUGF1c2VcIixcbiAgICAgICAgICAgICAgZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgY2hlY2tGaW5pc2hlZCh0aGlzLCB0aGlzLmFuaW1hdGlvbi50bykpLFxuICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmVzdW1lOiAoKSA9PiB7XG4gICAgICAgICAgaWYgKGlzUGF1c2VkKHRoaXMpKSB7XG4gICAgICAgICAgICBzZXRQYXVzZWRCaXQodGhpcywgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKGlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICAgICAgICAgIHRoaXMuX3Jlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmx1c2hDYWxscyhzdGF0ZS5yZXN1bWVRdWV1ZSk7XG4gICAgICAgICAgICBzZW5kRXZlbnQoXG4gICAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICAgIFwib25SZXN1bWVcIixcbiAgICAgICAgICAgICAgZ2V0RmluaXNoZWRSZXN1bHQodGhpcywgY2hlY2tGaW5pc2hlZCh0aGlzLCB0aGlzLmFuaW1hdGlvbi50bykpLFxuICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnQ6IHRoaXMuX21lcmdlLmJpbmQodGhpcywgcmFuZ2UpXG4gICAgICB9XG4gICAgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocHJvcHMubG9vcCAmJiByZXN1bHQuZmluaXNoZWQgJiYgIShpc0xvb3AgJiYgcmVzdWx0Lm5vb3ApKSB7XG4gICAgICAgIGNvbnN0IG5leHRQcm9wcyA9IGNyZWF0ZUxvb3BVcGRhdGUocHJvcHMpO1xuICAgICAgICBpZiAobmV4dFByb3BzKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3VwZGF0ZShuZXh0UHJvcHMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG4gIC8qKiBNZXJnZSBwcm9wcyBpbnRvIHRoZSBjdXJyZW50IGFuaW1hdGlvbiAqL1xuICBfbWVyZ2UocmFuZ2UsIHByb3BzLCByZXNvbHZlKSB7XG4gICAgaWYgKHByb3BzLmNhbmNlbCkge1xuICAgICAgdGhpcy5zdG9wKHRydWUpO1xuICAgICAgcmV0dXJuIHJlc29sdmUoZ2V0Q2FuY2VsbGVkUmVzdWx0KHRoaXMpKTtcbiAgICB9XG4gICAgY29uc3QgaGFzVG9Qcm9wID0gIWlzNS51bmQocmFuZ2UudG8pO1xuICAgIGNvbnN0IGhhc0Zyb21Qcm9wID0gIWlzNS51bmQocmFuZ2UuZnJvbSk7XG4gICAgaWYgKGhhc1RvUHJvcCB8fCBoYXNGcm9tUHJvcCkge1xuICAgICAgaWYgKHByb3BzLmNhbGxJZCA+IHRoaXMuX2xhc3RUb0lkKSB7XG4gICAgICAgIHRoaXMuX2xhc3RUb0lkID0gcHJvcHMuY2FsbElkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZ2V0Q2FuY2VsbGVkUmVzdWx0KHRoaXMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgeyBrZXksIGRlZmF1bHRQcm9wcywgYW5pbWF0aW9uOiBhbmltIH0gPSB0aGlzO1xuICAgIGNvbnN0IHsgdG86IHByZXZUbywgZnJvbTogcHJldkZyb20gfSA9IGFuaW07XG4gICAgbGV0IHsgdG86IHRvMiA9IHByZXZUbywgZnJvbSA9IHByZXZGcm9tIH0gPSByYW5nZTtcbiAgICBpZiAoaGFzRnJvbVByb3AgJiYgIWhhc1RvUHJvcCAmJiAoIXByb3BzLmRlZmF1bHQgfHwgaXM1LnVuZCh0bzIpKSkge1xuICAgICAgdG8yID0gZnJvbTtcbiAgICB9XG4gICAgaWYgKHByb3BzLnJldmVyc2UpXG4gICAgICBbdG8yLCBmcm9tXSA9IFtmcm9tLCB0bzJdO1xuICAgIGNvbnN0IGhhc0Zyb21DaGFuZ2VkID0gIWlzRXF1YWwoZnJvbSwgcHJldkZyb20pO1xuICAgIGlmIChoYXNGcm9tQ2hhbmdlZCkge1xuICAgICAgYW5pbS5mcm9tID0gZnJvbTtcbiAgICB9XG4gICAgZnJvbSA9IGdldEZsdWlkVmFsdWUyKGZyb20pO1xuICAgIGNvbnN0IGhhc1RvQ2hhbmdlZCA9ICFpc0VxdWFsKHRvMiwgcHJldlRvKTtcbiAgICBpZiAoaGFzVG9DaGFuZ2VkKSB7XG4gICAgICB0aGlzLl9mb2N1cyh0bzIpO1xuICAgIH1cbiAgICBjb25zdCBoYXNBc3luY1RvID0gaXNBc3luY1RvKHByb3BzLnRvKTtcbiAgICBjb25zdCB7IGNvbmZpZzogY29uZmlnMiB9ID0gYW5pbTtcbiAgICBjb25zdCB7IGRlY2F5LCB2ZWxvY2l0eSB9ID0gY29uZmlnMjtcbiAgICBpZiAoaGFzVG9Qcm9wIHx8IGhhc0Zyb21Qcm9wKSB7XG4gICAgICBjb25maWcyLnZlbG9jaXR5ID0gMDtcbiAgICB9XG4gICAgaWYgKHByb3BzLmNvbmZpZyAmJiAhaGFzQXN5bmNUbykge1xuICAgICAgbWVyZ2VDb25maWcoXG4gICAgICAgIGNvbmZpZzIsXG4gICAgICAgIGNhbGxQcm9wKHByb3BzLmNvbmZpZywga2V5KSxcbiAgICAgICAgLy8gQXZvaWQgY2FsbGluZyB0aGUgc2FtZSBcImNvbmZpZ1wiIHByb3AgdHdpY2UuXG4gICAgICAgIHByb3BzLmNvbmZpZyAhPT0gZGVmYXVsdFByb3BzLmNvbmZpZyA/IGNhbGxQcm9wKGRlZmF1bHRQcm9wcy5jb25maWcsIGtleSkgOiB2b2lkIDBcbiAgICAgICk7XG4gICAgfVxuICAgIGxldCBub2RlID0gZ2V0QW5pbWF0ZWQyKHRoaXMpO1xuICAgIGlmICghbm9kZSB8fCBpczUudW5kKHRvMikpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKGdldEZpbmlzaGVkUmVzdWx0KHRoaXMsIHRydWUpKTtcbiAgICB9XG4gICAgY29uc3QgcmVzZXQgPSAoXG4gICAgICAvLyBXaGVuIGByZXNldGAgaXMgdW5kZWZpbmVkLCB0aGUgYGZyb21gIHByb3AgaW1wbGllcyBgcmVzZXQ6IHRydWVgLFxuICAgICAgLy8gZXhjZXB0IGZvciBkZWNsYXJhdGl2ZSB1cGRhdGVzLiBXaGVuIGByZXNldGAgaXMgZGVmaW5lZCwgdGhlcmVcbiAgICAgIC8vIG11c3QgZXhpc3QgYSB2YWx1ZSB0byBhbmltYXRlIGZyb20uXG4gICAgICBpczUudW5kKHByb3BzLnJlc2V0KSA/IGhhc0Zyb21Qcm9wICYmICFwcm9wcy5kZWZhdWx0IDogIWlzNS51bmQoZnJvbSkgJiYgbWF0Y2hQcm9wKHByb3BzLnJlc2V0LCBrZXkpXG4gICAgKTtcbiAgICBjb25zdCB2YWx1ZSA9IHJlc2V0ID8gZnJvbSA6IHRoaXMuZ2V0KCk7XG4gICAgY29uc3QgZ29hbCA9IGNvbXB1dGVHb2FsKHRvMik7XG4gICAgY29uc3QgaXNBbmltYXRhYmxlID0gaXM1Lm51bShnb2FsKSB8fCBpczUuYXJyKGdvYWwpIHx8IGlzQW5pbWF0ZWRTdHJpbmcyKGdvYWwpO1xuICAgIGNvbnN0IGltbWVkaWF0ZSA9ICFoYXNBc3luY1RvICYmICghaXNBbmltYXRhYmxlIHx8IG1hdGNoUHJvcChkZWZhdWx0UHJvcHMuaW1tZWRpYXRlIHx8IHByb3BzLmltbWVkaWF0ZSwga2V5KSk7XG4gICAgaWYgKGhhc1RvQ2hhbmdlZCkge1xuICAgICAgY29uc3Qgbm9kZVR5cGUgPSBnZXRBbmltYXRlZFR5cGUodG8yKTtcbiAgICAgIGlmIChub2RlVHlwZSAhPT0gbm9kZS5jb25zdHJ1Y3Rvcikge1xuICAgICAgICBpZiAoaW1tZWRpYXRlKSB7XG4gICAgICAgICAgbm9kZSA9IHRoaXMuX3NldChnb2FsKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICBgQ2Fubm90IGFuaW1hdGUgYmV0d2VlbiAke25vZGUuY29uc3RydWN0b3IubmFtZX0gYW5kICR7bm9kZVR5cGUubmFtZX0sIGFzIHRoZSBcInRvXCIgcHJvcCBzdWdnZXN0c2BcbiAgICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBnb2FsVHlwZSA9IG5vZGUuY29uc3RydWN0b3I7XG4gICAgbGV0IHN0YXJ0ZWQgPSBoYXNGbHVpZFZhbHVlKHRvMik7XG4gICAgbGV0IGZpbmlzaGVkID0gZmFsc2U7XG4gICAgaWYgKCFzdGFydGVkKSB7XG4gICAgICBjb25zdCBoYXNWYWx1ZUNoYW5nZWQgPSByZXNldCB8fCAhaGFzQW5pbWF0ZWQodGhpcykgJiYgaGFzRnJvbUNoYW5nZWQ7XG4gICAgICBpZiAoaGFzVG9DaGFuZ2VkIHx8IGhhc1ZhbHVlQ2hhbmdlZCkge1xuICAgICAgICBmaW5pc2hlZCA9IGlzRXF1YWwoY29tcHV0ZUdvYWwodmFsdWUpLCBnb2FsKTtcbiAgICAgICAgc3RhcnRlZCA9ICFmaW5pc2hlZDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNFcXVhbChhbmltLmltbWVkaWF0ZSwgaW1tZWRpYXRlKSAmJiAhaW1tZWRpYXRlIHx8ICFpc0VxdWFsKGNvbmZpZzIuZGVjYXksIGRlY2F5KSB8fCAhaXNFcXVhbChjb25maWcyLnZlbG9jaXR5LCB2ZWxvY2l0eSkpIHtcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmaW5pc2hlZCAmJiBpc0FuaW1hdGluZyh0aGlzKSkge1xuICAgICAgaWYgKGFuaW0uY2hhbmdlZCAmJiAhcmVzZXQpIHtcbiAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKCFzdGFydGVkKSB7XG4gICAgICAgIHRoaXMuX3N0b3AocHJldlRvKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFoYXNBc3luY1RvKSB7XG4gICAgICBpZiAoc3RhcnRlZCB8fCBoYXNGbHVpZFZhbHVlKHByZXZUbykpIHtcbiAgICAgICAgYW5pbS52YWx1ZXMgPSBub2RlLmdldFBheWxvYWQoKTtcbiAgICAgICAgYW5pbS50b1ZhbHVlcyA9IGhhc0ZsdWlkVmFsdWUodG8yKSA/IG51bGwgOiBnb2FsVHlwZSA9PSBBbmltYXRlZFN0cmluZyA/IFsxXSA6IHRvQXJyYXkyKGdvYWwpO1xuICAgICAgfVxuICAgICAgaWYgKGFuaW0uaW1tZWRpYXRlICE9IGltbWVkaWF0ZSkge1xuICAgICAgICBhbmltLmltbWVkaWF0ZSA9IGltbWVkaWF0ZTtcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUgJiYgIXJlc2V0KSB7XG4gICAgICAgICAgdGhpcy5fc2V0KHByZXZUbyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgIGNvbnN0IHsgb25SZXN0IH0gPSBhbmltO1xuICAgICAgICBlYWNoMihBQ1RJVkVfRVZFTlRTLCAodHlwZSkgPT4gbWVyZ2VBY3RpdmVGbih0aGlzLCBwcm9wcywgdHlwZSkpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLCBjaGVja0ZpbmlzaGVkKHRoaXMsIHByZXZUbykpO1xuICAgICAgICBmbHVzaENhbGxzKHRoaXMuX3BlbmRpbmdDYWxscywgcmVzdWx0KTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0NhbGxzLmFkZChyZXNvbHZlKTtcbiAgICAgICAgaWYgKGFuaW0uY2hhbmdlZClcbiAgICAgICAgICByYWYzLmJhdGNoZWRVcGRhdGVzKCgpID0+IHtcbiAgICAgICAgICAgIGFuaW0uY2hhbmdlZCA9ICFyZXNldDtcbiAgICAgICAgICAgIG9uUmVzdD8uKHJlc3VsdCwgdGhpcyk7XG4gICAgICAgICAgICBpZiAocmVzZXQpIHtcbiAgICAgICAgICAgICAgY2FsbFByb3AoZGVmYXVsdFByb3BzLm9uUmVzdCwgcmVzdWx0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFuaW0ub25TdGFydD8uKHJlc3VsdCwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChyZXNldCkge1xuICAgICAgdGhpcy5fc2V0KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGhhc0FzeW5jVG8pIHtcbiAgICAgIHJlc29sdmUocnVuQXN5bmMocHJvcHMudG8sIHByb3BzLCB0aGlzLl9zdGF0ZSwgdGhpcykpO1xuICAgIH0gZWxzZSBpZiAoc3RhcnRlZCkge1xuICAgICAgdGhpcy5fc3RhcnQoKTtcbiAgICB9IGVsc2UgaWYgKGlzQW5pbWF0aW5nKHRoaXMpICYmICFoYXNUb0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX3BlbmRpbmdDYWxscy5hZGQocmVzb2x2ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUoZ2V0Tm9vcFJlc3VsdCh2YWx1ZSkpO1xuICAgIH1cbiAgfVxuICAvKiogVXBkYXRlIHRoZSBgYW5pbWF0aW9uLnRvYCB2YWx1ZSwgd2hpY2ggbWlnaHQgYmUgYSBgRmx1aWRWYWx1ZWAgKi9cbiAgX2ZvY3VzKHZhbHVlKSB7XG4gICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGlmICh2YWx1ZSAhPT0gYW5pbS50bykge1xuICAgICAgaWYgKGdldEZsdWlkT2JzZXJ2ZXJzKHRoaXMpKSB7XG4gICAgICAgIHRoaXMuX2RldGFjaCgpO1xuICAgICAgfVxuICAgICAgYW5pbS50byA9IHZhbHVlO1xuICAgICAgaWYgKGdldEZsdWlkT2JzZXJ2ZXJzKHRoaXMpKSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBfYXR0YWNoKCkge1xuICAgIGxldCBwcmlvcml0eSA9IDA7XG4gICAgY29uc3QgeyB0bzogdG8yIH0gPSB0aGlzLmFuaW1hdGlvbjtcbiAgICBpZiAoaGFzRmx1aWRWYWx1ZSh0bzIpKSB7XG4gICAgICBhZGRGbHVpZE9ic2VydmVyKHRvMiwgdGhpcyk7XG4gICAgICBpZiAoaXNGcmFtZVZhbHVlKHRvMikpIHtcbiAgICAgICAgcHJpb3JpdHkgPSB0bzIucHJpb3JpdHkgKyAxO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gIH1cbiAgX2RldGFjaCgpIHtcbiAgICBjb25zdCB7IHRvOiB0bzIgfSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGlmIChoYXNGbHVpZFZhbHVlKHRvMikpIHtcbiAgICAgIHJlbW92ZUZsdWlkT2JzZXJ2ZXIodG8yLCB0aGlzKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIG91dHNpZGUgdGhlIGZyYW1lbG9vcCxcbiAgICogYW5kIHJldHVybiB0aGUgYEFuaW1hdGVkYCBub2RlLlxuICAgKi9cbiAgX3NldChhcmcsIGlkbGUgPSB0cnVlKSB7XG4gICAgY29uc3QgdmFsdWUgPSBnZXRGbHVpZFZhbHVlMihhcmcpO1xuICAgIGlmICghaXM1LnVuZCh2YWx1ZSkpIHtcbiAgICAgIGNvbnN0IG9sZE5vZGUgPSBnZXRBbmltYXRlZDIodGhpcyk7XG4gICAgICBpZiAoIW9sZE5vZGUgfHwgIWlzRXF1YWwodmFsdWUsIG9sZE5vZGUuZ2V0VmFsdWUoKSkpIHtcbiAgICAgICAgY29uc3Qgbm9kZVR5cGUgPSBnZXRBbmltYXRlZFR5cGUodmFsdWUpO1xuICAgICAgICBpZiAoIW9sZE5vZGUgfHwgb2xkTm9kZS5jb25zdHJ1Y3RvciAhPSBub2RlVHlwZSkge1xuICAgICAgICAgIHNldEFuaW1hdGVkKHRoaXMsIG5vZGVUeXBlLmNyZWF0ZSh2YWx1ZSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9sZE5vZGUuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvbGROb2RlKSB7XG4gICAgICAgICAgcmFmMy5iYXRjaGVkVXBkYXRlcygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbkNoYW5nZSh2YWx1ZSwgaWRsZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdldEFuaW1hdGVkMih0aGlzKTtcbiAgfVxuICBfb25TdGFydCgpIHtcbiAgICBjb25zdCBhbmltID0gdGhpcy5hbmltYXRpb247XG4gICAgaWYgKCFhbmltLmNoYW5nZWQpIHtcbiAgICAgIGFuaW0uY2hhbmdlZCA9IHRydWU7XG4gICAgICBzZW5kRXZlbnQoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIFwib25TdGFydFwiLFxuICAgICAgICBnZXRGaW5pc2hlZFJlc3VsdCh0aGlzLCBjaGVja0ZpbmlzaGVkKHRoaXMsIGFuaW0udG8pKSxcbiAgICAgICAgdGhpc1xuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgX29uQ2hhbmdlKHZhbHVlLCBpZGxlKSB7XG4gICAgaWYgKCFpZGxlKSB7XG4gICAgICB0aGlzLl9vblN0YXJ0KCk7XG4gICAgICBjYWxsUHJvcCh0aGlzLmFuaW1hdGlvbi5vbkNoYW5nZSwgdmFsdWUsIHRoaXMpO1xuICAgIH1cbiAgICBjYWxsUHJvcCh0aGlzLmRlZmF1bHRQcm9wcy5vbkNoYW5nZSwgdmFsdWUsIHRoaXMpO1xuICAgIHN1cGVyLl9vbkNoYW5nZSh2YWx1ZSwgaWRsZSk7XG4gIH1cbiAgLy8gVGhpcyBtZXRob2QgcmVzZXRzIHRoZSBhbmltYXRpb24gc3RhdGUgKGV2ZW4gaWYgYWxyZWFkeSBhbmltYXRpbmcpIHRvXG4gIC8vIGVuc3VyZSB0aGUgbGF0ZXN0IGZyb20vdG8gcmFuZ2UgaXMgdXNlZCwgYW5kIGl0IGFsc28gZW5zdXJlcyB0aGlzIHNwcmluZ1xuICAvLyBpcyBhZGRlZCB0byB0aGUgZnJhbWVsb29wLlxuICBfc3RhcnQoKSB7XG4gICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgIGdldEFuaW1hdGVkMih0aGlzKS5yZXNldChnZXRGbHVpZFZhbHVlMihhbmltLnRvKSk7XG4gICAgaWYgKCFhbmltLmltbWVkaWF0ZSkge1xuICAgICAgYW5pbS5mcm9tVmFsdWVzID0gYW5pbS52YWx1ZXMubWFwKChub2RlKSA9PiBub2RlLmxhc3RQb3NpdGlvbik7XG4gICAgfVxuICAgIGlmICghaXNBbmltYXRpbmcodGhpcykpIHtcbiAgICAgIHNldEFjdGl2ZUJpdCh0aGlzLCB0cnVlKTtcbiAgICAgIGlmICghaXNQYXVzZWQodGhpcykpIHtcbiAgICAgICAgdGhpcy5fcmVzdW1lKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIF9yZXN1bWUoKSB7XG4gICAgaWYgKEc1LnNraXBBbmltYXRpb24pIHtcbiAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZyYW1lTG9vcDIuc3RhcnQodGhpcyk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFeGl0IHRoZSBmcmFtZWxvb3AgYW5kIG5vdGlmeSBgb25SZXN0YCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEFsd2F5cyB3cmFwIGBfc3RvcGAgY2FsbHMgd2l0aCBgYmF0Y2hlZFVwZGF0ZXNgLlxuICAgKi9cbiAgX3N0b3AoZ29hbCwgY2FuY2VsKSB7XG4gICAgaWYgKGlzQW5pbWF0aW5nKHRoaXMpKSB7XG4gICAgICBzZXRBY3RpdmVCaXQodGhpcywgZmFsc2UpO1xuICAgICAgY29uc3QgYW5pbSA9IHRoaXMuYW5pbWF0aW9uO1xuICAgICAgZWFjaDIoYW5pbS52YWx1ZXMsIChub2RlKSA9PiB7XG4gICAgICAgIG5vZGUuZG9uZSA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIGlmIChhbmltLnRvVmFsdWVzKSB7XG4gICAgICAgIGFuaW0ub25DaGFuZ2UgPSBhbmltLm9uUGF1c2UgPSBhbmltLm9uUmVzdW1lID0gdm9pZCAwO1xuICAgICAgfVxuICAgICAgY2FsbEZsdWlkT2JzZXJ2ZXJzMih0aGlzLCB7XG4gICAgICAgIHR5cGU6IFwiaWRsZVwiLFxuICAgICAgICBwYXJlbnQ6IHRoaXNcbiAgICAgIH0pO1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2FuY2VsID8gZ2V0Q2FuY2VsbGVkUmVzdWx0KHRoaXMuZ2V0KCkpIDogZ2V0RmluaXNoZWRSZXN1bHQodGhpcy5nZXQoKSwgY2hlY2tGaW5pc2hlZCh0aGlzLCBnb2FsID8/IGFuaW0udG8pKTtcbiAgICAgIGZsdXNoQ2FsbHModGhpcy5fcGVuZGluZ0NhbGxzLCByZXN1bHQpO1xuICAgICAgaWYgKGFuaW0uY2hhbmdlZCkge1xuICAgICAgICBhbmltLmNoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgc2VuZEV2ZW50KHRoaXMsIFwib25SZXN0XCIsIHJlc3VsdCwgdGhpcyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuZnVuY3Rpb24gY2hlY2tGaW5pc2hlZCh0YXJnZXQsIHRvMikge1xuICBjb25zdCBnb2FsID0gY29tcHV0ZUdvYWwodG8yKTtcbiAgY29uc3QgdmFsdWUgPSBjb21wdXRlR29hbCh0YXJnZXQuZ2V0KCkpO1xuICByZXR1cm4gaXNFcXVhbCh2YWx1ZSwgZ29hbCk7XG59XG5mdW5jdGlvbiBjcmVhdGVMb29wVXBkYXRlKHByb3BzLCBsb29wID0gcHJvcHMubG9vcCwgdG8yID0gcHJvcHMudG8pIHtcbiAgY29uc3QgbG9vcFJldCA9IGNhbGxQcm9wKGxvb3ApO1xuICBpZiAobG9vcFJldCkge1xuICAgIGNvbnN0IG92ZXJyaWRlcyA9IGxvb3BSZXQgIT09IHRydWUgJiYgaW5mZXJUbyhsb29wUmV0KTtcbiAgICBjb25zdCByZXZlcnNlID0gKG92ZXJyaWRlcyB8fCBwcm9wcykucmV2ZXJzZTtcbiAgICBjb25zdCByZXNldCA9ICFvdmVycmlkZXMgfHwgb3ZlcnJpZGVzLnJlc2V0O1xuICAgIHJldHVybiBjcmVhdGVVcGRhdGUoe1xuICAgICAgLi4ucHJvcHMsXG4gICAgICBsb29wLFxuICAgICAgLy8gQXZvaWQgdXBkYXRpbmcgZGVmYXVsdCBwcm9wcyB3aGVuIGxvb3BpbmcuXG4gICAgICBkZWZhdWx0OiBmYWxzZSxcbiAgICAgIC8vIE5ldmVyIGxvb3AgdGhlIGBwYXVzZWAgcHJvcC5cbiAgICAgIHBhdXNlOiB2b2lkIDAsXG4gICAgICAvLyBGb3IgdGhlIFwicmV2ZXJzZVwiIHByb3AgdG8gbG9vcCBhcyBleHBlY3RlZCwgdGhlIFwidG9cIiBwcm9wXG4gICAgICAvLyBtdXN0IGJlIHVuZGVmaW5lZC4gVGhlIFwicmV2ZXJzZVwiIHByb3AgaXMgaWdub3JlZCB3aGVuIHRoZVxuICAgICAgLy8gXCJ0b1wiIHByb3AgaXMgYW4gYXJyYXkgb3IgZnVuY3Rpb24uXG4gICAgICB0bzogIXJldmVyc2UgfHwgaXNBc3luY1RvKHRvMikgPyB0bzIgOiB2b2lkIDAsXG4gICAgICAvLyBJZ25vcmUgdGhlIFwiZnJvbVwiIHByb3AgZXhjZXB0IG9uIHJlc2V0LlxuICAgICAgZnJvbTogcmVzZXQgPyBwcm9wcy5mcm9tIDogdm9pZCAwLFxuICAgICAgcmVzZXQsXG4gICAgICAvLyBUaGUgXCJsb29wXCIgcHJvcCBjYW4gcmV0dXJuIGEgXCJ1c2VTcHJpbmdcIiBwcm9wcyBvYmplY3QgdG9cbiAgICAgIC8vIG92ZXJyaWRlIGFueSBvZiB0aGUgb3JpZ2luYWwgcHJvcHMuXG4gICAgICAuLi5vdmVycmlkZXNcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlVXBkYXRlKHByb3BzKSB7XG4gIGNvbnN0IHsgdG86IHRvMiwgZnJvbSB9ID0gcHJvcHMgPSBpbmZlclRvKHByb3BzKTtcbiAgY29uc3Qga2V5cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGlmIChpczUub2JqKHRvMikpXG4gICAgZmluZERlZmluZWQodG8yLCBrZXlzKTtcbiAgaWYgKGlzNS5vYmooZnJvbSkpXG4gICAgZmluZERlZmluZWQoZnJvbSwga2V5cyk7XG4gIHByb3BzLmtleXMgPSBrZXlzLnNpemUgPyBBcnJheS5mcm9tKGtleXMpIDogbnVsbDtcbiAgcmV0dXJuIHByb3BzO1xufVxuZnVuY3Rpb24gZGVjbGFyZVVwZGF0ZShwcm9wcykge1xuICBjb25zdCB1cGRhdGUyID0gY3JlYXRlVXBkYXRlKHByb3BzKTtcbiAgaWYgKGlzNS51bmQodXBkYXRlMi5kZWZhdWx0KSkge1xuICAgIHVwZGF0ZTIuZGVmYXVsdCA9IGdldERlZmF1bHRQcm9wcyh1cGRhdGUyKTtcbiAgfVxuICByZXR1cm4gdXBkYXRlMjtcbn1cbmZ1bmN0aW9uIGZpbmREZWZpbmVkKHZhbHVlcywga2V5cykge1xuICBlYWNoUHJvcDModmFsdWVzLCAodmFsdWUsIGtleSkgPT4gdmFsdWUgIT0gbnVsbCAmJiBrZXlzLmFkZChrZXkpKTtcbn1cbnZhciBBQ1RJVkVfRVZFTlRTID0gW1xuICBcIm9uU3RhcnRcIixcbiAgXCJvblJlc3RcIixcbiAgXCJvbkNoYW5nZVwiLFxuICBcIm9uUGF1c2VcIixcbiAgXCJvblJlc3VtZVwiXG5dO1xuZnVuY3Rpb24gbWVyZ2VBY3RpdmVGbih0YXJnZXQsIHByb3BzLCB0eXBlKSB7XG4gIHRhcmdldC5hbmltYXRpb25bdHlwZV0gPSBwcm9wc1t0eXBlXSAhPT0gZ2V0RGVmYXVsdFByb3AocHJvcHMsIHR5cGUpID8gcmVzb2x2ZVByb3AocHJvcHNbdHlwZV0sIHRhcmdldC5rZXkpIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gc2VuZEV2ZW50KHRhcmdldCwgdHlwZSwgLi4uYXJncykge1xuICB0YXJnZXQuYW5pbWF0aW9uW3R5cGVdPy4oLi4uYXJncyk7XG4gIHRhcmdldC5kZWZhdWx0UHJvcHNbdHlwZV0/LiguLi5hcmdzKTtcbn1cblxuLy8gc3JjL0NvbnRyb2xsZXIudHNcbmltcG9ydCB7XG4gIGlzIGFzIGlzNixcbiAgcmFmIGFzIHJhZjQsXG4gIGVhY2ggYXMgZWFjaDMsXG4gIG5vb3AsXG4gIGZsdXNoIGFzIGZsdXNoMixcbiAgdG9BcnJheSBhcyB0b0FycmF5MyxcbiAgZWFjaFByb3AgYXMgZWFjaFByb3A0LFxuICBmbHVzaENhbGxzIGFzIGZsdXNoQ2FsbHMyLFxuICBhZGRGbHVpZE9ic2VydmVyIGFzIGFkZEZsdWlkT2JzZXJ2ZXIyXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIEJBVENIRURfRVZFTlRTID0gW1wib25TdGFydFwiLCBcIm9uQ2hhbmdlXCIsIFwib25SZXN0XCJdO1xudmFyIG5leHRJZDIgPSAxO1xudmFyIENvbnRyb2xsZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHByb3BzLCBmbHVzaDMpIHtcbiAgICB0aGlzLmlkID0gbmV4dElkMisrO1xuICAgIC8qKiBUaGUgYW5pbWF0ZWQgdmFsdWVzICovXG4gICAgdGhpcy5zcHJpbmdzID0ge307XG4gICAgLyoqIFRoZSBxdWV1ZSBvZiBwcm9wcyBwYXNzZWQgdG8gdGhlIGB1cGRhdGVgIG1ldGhvZC4gKi9cbiAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgLyoqIFRoZSBjb3VudGVyIGZvciB0cmFja2luZyBgc2NoZWR1bGVQcm9wc2AgY2FsbHMgKi9cbiAgICB0aGlzLl9sYXN0QXN5bmNJZCA9IDA7XG4gICAgLyoqIFRoZSB2YWx1ZXMgY3VycmVudGx5IGJlaW5nIGFuaW1hdGVkICovXG4gICAgdGhpcy5fYWN0aXZlID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAvKiogVGhlIHZhbHVlcyB0aGF0IGNoYW5nZWQgcmVjZW50bHkgKi9cbiAgICB0aGlzLl9jaGFuZ2VkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICAvKiogRXF1YWxzIGZhbHNlIHdoZW4gYG9uU3RhcnRgIGxpc3RlbmVycyBjYW4gYmUgY2FsbGVkICovXG4gICAgdGhpcy5fc3RhcnRlZCA9IGZhbHNlO1xuICAgIC8qKiBTdGF0ZSB1c2VkIGJ5IHRoZSBgcnVuQXN5bmNgIGZ1bmN0aW9uICovXG4gICAgdGhpcy5fc3RhdGUgPSB7XG4gICAgICBwYXVzZWQ6IGZhbHNlLFxuICAgICAgcGF1c2VRdWV1ZTogLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSxcbiAgICAgIHJlc3VtZVF1ZXVlOiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgICAgdGltZW91dHM6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KClcbiAgICB9O1xuICAgIC8qKiBUaGUgZXZlbnQgcXVldWVzIHRoYXQgYXJlIGZsdXNoZWQgb25jZSBwZXIgZnJhbWUgbWF4aW11bSAqL1xuICAgIHRoaXMuX2V2ZW50cyA9IHtcbiAgICAgIG9uU3RhcnQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksXG4gICAgICBvbkNoYW5nZTogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICAgIG9uUmVzdDogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKVxuICAgIH07XG4gICAgdGhpcy5fb25GcmFtZSA9IHRoaXMuX29uRnJhbWUuYmluZCh0aGlzKTtcbiAgICBpZiAoZmx1c2gzKSB7XG4gICAgICB0aGlzLl9mbHVzaCA9IGZsdXNoMztcbiAgICB9XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICB0aGlzLnN0YXJ0KHsgZGVmYXVsdDogdHJ1ZSwgLi4ucHJvcHMgfSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBFcXVhbHMgYHRydWVgIHdoZW4gbm8gc3ByaW5nIHZhbHVlcyBhcmUgaW4gdGhlIGZyYW1lbG9vcCwgYW5kXG4gICAqIG5vIGFzeW5jIGFuaW1hdGlvbiBpcyBjdXJyZW50bHkgYWN0aXZlLlxuICAgKi9cbiAgZ2V0IGlkbGUoKSB7XG4gICAgcmV0dXJuICF0aGlzLl9zdGF0ZS5hc3luY1RvICYmIE9iamVjdC52YWx1ZXModGhpcy5zcHJpbmdzKS5ldmVyeSgoc3ByaW5nKSA9PiB7XG4gICAgICByZXR1cm4gc3ByaW5nLmlkbGUgJiYgIXNwcmluZy5pc0RlbGF5ZWQgJiYgIXNwcmluZy5pc1BhdXNlZDtcbiAgICB9KTtcbiAgfVxuICBnZXQgaXRlbSgpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlbTtcbiAgfVxuICBzZXQgaXRlbShpdGVtKSB7XG4gICAgdGhpcy5faXRlbSA9IGl0ZW07XG4gIH1cbiAgLyoqIEdldCB0aGUgY3VycmVudCB2YWx1ZXMgb2Ygb3VyIHNwcmluZ3MgKi9cbiAgZ2V0KCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIHRoaXMuZWFjaCgoc3ByaW5nLCBrZXkpID0+IHZhbHVlc1trZXldID0gc3ByaW5nLmdldCgpKTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG4gIC8qKiBTZXQgdGhlIGN1cnJlbnQgdmFsdWVzIHdpdGhvdXQgYW5pbWF0aW5nLiAqL1xuICBzZXQodmFsdWVzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gdmFsdWVzKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1trZXldO1xuICAgICAgaWYgKCFpczYudW5kKHZhbHVlKSkge1xuICAgICAgICB0aGlzLnNwcmluZ3Nba2V5XS5zZXQodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKiogUHVzaCBhbiB1cGRhdGUgb250byB0aGUgcXVldWUgb2YgZWFjaCB2YWx1ZS4gKi9cbiAgdXBkYXRlKHByb3BzKSB7XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICB0aGlzLnF1ZXVlLnB1c2goY3JlYXRlVXBkYXRlKHByb3BzKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKlxuICAgKiBTdGFydCB0aGUgcXVldWVkIGFuaW1hdGlvbnMgZm9yIGV2ZXJ5IHNwcmluZywgYW5kIHJlc29sdmUgdGhlIHJldHVybmVkXG4gICAqIHByb21pc2Ugb25jZSBhbGwgcXVldWVkIGFuaW1hdGlvbnMgaGF2ZSBmaW5pc2hlZCBvciBiZWVuIGNhbmNlbGxlZC5cbiAgICpcbiAgICogV2hlbiB5b3UgcGFzcyBhIHF1ZXVlIChpbnN0ZWFkIG9mIG5vdGhpbmcpLCB0aGF0IHF1ZXVlIGlzIHVzZWQgaW5zdGVhZCBvZlxuICAgKiB0aGUgcXVldWVkIGFuaW1hdGlvbnMgYWRkZWQgd2l0aCB0aGUgYHVwZGF0ZWAgbWV0aG9kLCB3aGljaCBhcmUgbGVmdCBhbG9uZS5cbiAgICovXG4gIHN0YXJ0KHByb3BzKSB7XG4gICAgbGV0IHsgcXVldWUgfSA9IHRoaXM7XG4gICAgaWYgKHByb3BzKSB7XG4gICAgICBxdWV1ZSA9IHRvQXJyYXkzKHByb3BzKS5tYXAoY3JlYXRlVXBkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZmx1c2gpIHtcbiAgICAgIHJldHVybiB0aGlzLl9mbHVzaCh0aGlzLCBxdWV1ZSk7XG4gICAgfVxuICAgIHByZXBhcmVLZXlzKHRoaXMsIHF1ZXVlKTtcbiAgICByZXR1cm4gZmx1c2hVcGRhdGVRdWV1ZSh0aGlzLCBxdWV1ZSk7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBzdG9wKGFyZywga2V5cykge1xuICAgIGlmIChhcmcgIT09ICEhYXJnKSB7XG4gICAgICBrZXlzID0gYXJnO1xuICAgIH1cbiAgICBpZiAoa2V5cykge1xuICAgICAgY29uc3Qgc3ByaW5ncyA9IHRoaXMuc3ByaW5ncztcbiAgICAgIGVhY2gzKHRvQXJyYXkzKGtleXMpLCAoa2V5KSA9PiBzcHJpbmdzW2tleV0uc3RvcCghIWFyZykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdG9wQXN5bmModGhpcy5fc3RhdGUsIHRoaXMuX2xhc3RBc3luY0lkKTtcbiAgICAgIHRoaXMuZWFjaCgoc3ByaW5nKSA9PiBzcHJpbmcuc3RvcCghIWFyZykpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogRnJlZXplIHRoZSBhY3RpdmUgYW5pbWF0aW9uIGluIHRpbWUgKi9cbiAgcGF1c2Uoa2V5cykge1xuICAgIGlmIChpczYudW5kKGtleXMpKSB7XG4gICAgICB0aGlzLnN0YXJ0KHsgcGF1c2U6IHRydWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHNwcmluZ3MgPSB0aGlzLnNwcmluZ3M7XG4gICAgICBlYWNoMyh0b0FycmF5MyhrZXlzKSwgKGtleSkgPT4gc3ByaW5nc1trZXldLnBhdXNlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICAvKiogUmVzdW1lIHRoZSBhbmltYXRpb24gaWYgcGF1c2VkLiAqL1xuICByZXN1bWUoa2V5cykge1xuICAgIGlmIChpczYudW5kKGtleXMpKSB7XG4gICAgICB0aGlzLnN0YXJ0KHsgcGF1c2U6IGZhbHNlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzcHJpbmdzID0gdGhpcy5zcHJpbmdzO1xuICAgICAgZWFjaDModG9BcnJheTMoa2V5cyksIChrZXkpID0+IHNwcmluZ3Nba2V5XS5yZXN1bWUoKSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIC8qKiBDYWxsIGEgZnVuY3Rpb24gb25jZSBwZXIgc3ByaW5nIHZhbHVlICovXG4gIGVhY2goaXRlcmF0b3IpIHtcbiAgICBlYWNoUHJvcDQodGhpcy5zcHJpbmdzLCBpdGVyYXRvcik7XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCBDYWxsZWQgYXQgdGhlIGVuZCBvZiBldmVyeSBhbmltYXRpb24gZnJhbWUgKi9cbiAgX29uRnJhbWUoKSB7XG4gICAgY29uc3QgeyBvblN0YXJ0LCBvbkNoYW5nZSwgb25SZXN0IH0gPSB0aGlzLl9ldmVudHM7XG4gICAgY29uc3QgYWN0aXZlID0gdGhpcy5fYWN0aXZlLnNpemUgPiAwO1xuICAgIGNvbnN0IGNoYW5nZWQgPSB0aGlzLl9jaGFuZ2VkLnNpemUgPiAwO1xuICAgIGlmIChhY3RpdmUgJiYgIXRoaXMuX3N0YXJ0ZWQgfHwgY2hhbmdlZCAmJiAhdGhpcy5fc3RhcnRlZCkge1xuICAgICAgdGhpcy5fc3RhcnRlZCA9IHRydWU7XG4gICAgICBmbHVzaDIob25TdGFydCwgKFtvblN0YXJ0MiwgcmVzdWx0XSkgPT4ge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB0aGlzLmdldCgpO1xuICAgICAgICBvblN0YXJ0MihyZXN1bHQsIHRoaXMsIHRoaXMuX2l0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGlkbGUgPSAhYWN0aXZlICYmIHRoaXMuX3N0YXJ0ZWQ7XG4gICAgY29uc3QgdmFsdWVzID0gY2hhbmdlZCB8fCBpZGxlICYmIG9uUmVzdC5zaXplID8gdGhpcy5nZXQoKSA6IG51bGw7XG4gICAgaWYgKGNoYW5nZWQgJiYgb25DaGFuZ2Uuc2l6ZSkge1xuICAgICAgZmx1c2gyKG9uQ2hhbmdlLCAoW29uQ2hhbmdlMiwgcmVzdWx0XSkgPT4ge1xuICAgICAgICByZXN1bHQudmFsdWUgPSB2YWx1ZXM7XG4gICAgICAgIG9uQ2hhbmdlMihyZXN1bHQsIHRoaXMsIHRoaXMuX2l0ZW0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpZGxlKSB7XG4gICAgICB0aGlzLl9zdGFydGVkID0gZmFsc2U7XG4gICAgICBmbHVzaDIob25SZXN0LCAoW29uUmVzdDIsIHJlc3VsdF0pID0+IHtcbiAgICAgICAgcmVzdWx0LnZhbHVlID0gdmFsdWVzO1xuICAgICAgICBvblJlc3QyKHJlc3VsdCwgdGhpcywgdGhpcy5faXRlbSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgLyoqIEBpbnRlcm5hbCAqL1xuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgdGhpcy5fY2hhbmdlZC5hZGQoZXZlbnQucGFyZW50KTtcbiAgICAgIGlmICghZXZlbnQuaWRsZSkge1xuICAgICAgICB0aGlzLl9hY3RpdmUuYWRkKGV2ZW50LnBhcmVudCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC50eXBlID09IFwiaWRsZVwiKSB7XG4gICAgICB0aGlzLl9hY3RpdmUuZGVsZXRlKGV2ZW50LnBhcmVudCk7XG4gICAgfSBlbHNlXG4gICAgICByZXR1cm47XG4gICAgcmFmNC5vbkZyYW1lKHRoaXMuX29uRnJhbWUpO1xuICB9XG59O1xuZnVuY3Rpb24gZmx1c2hVcGRhdGVRdWV1ZShjdHJsLCBxdWV1ZSkge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocXVldWUubWFwKChwcm9wcykgPT4gZmx1c2hVcGRhdGUoY3RybCwgcHJvcHMpKSkudGhlbihcbiAgICAocmVzdWx0cykgPT4gZ2V0Q29tYmluZWRSZXN1bHQoY3RybCwgcmVzdWx0cylcbiAgKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGZsdXNoVXBkYXRlKGN0cmwsIHByb3BzLCBpc0xvb3ApIHtcbiAgY29uc3QgeyBrZXlzLCB0bzogdG8yLCBmcm9tLCBsb29wLCBvblJlc3QsIG9uUmVzb2x2ZSB9ID0gcHJvcHM7XG4gIGNvbnN0IGRlZmF1bHRzMiA9IGlzNi5vYmoocHJvcHMuZGVmYXVsdCkgJiYgcHJvcHMuZGVmYXVsdDtcbiAgaWYgKGxvb3ApIHtcbiAgICBwcm9wcy5sb29wID0gZmFsc2U7XG4gIH1cbiAgaWYgKHRvMiA9PT0gZmFsc2UpXG4gICAgcHJvcHMudG8gPSBudWxsO1xuICBpZiAoZnJvbSA9PT0gZmFsc2UpXG4gICAgcHJvcHMuZnJvbSA9IG51bGw7XG4gIGNvbnN0IGFzeW5jVG8gPSBpczYuYXJyKHRvMikgfHwgaXM2LmZ1bih0bzIpID8gdG8yIDogdm9pZCAwO1xuICBpZiAoYXN5bmNUbykge1xuICAgIHByb3BzLnRvID0gdm9pZCAwO1xuICAgIHByb3BzLm9uUmVzdCA9IHZvaWQgMDtcbiAgICBpZiAoZGVmYXVsdHMyKSB7XG4gICAgICBkZWZhdWx0czIub25SZXN0ID0gdm9pZCAwO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBlYWNoMyhCQVRDSEVEX0VWRU5UUywgKGtleSkgPT4ge1xuICAgICAgY29uc3QgaGFuZGxlciA9IHByb3BzW2tleV07XG4gICAgICBpZiAoaXM2LmZ1bihoYW5kbGVyKSkge1xuICAgICAgICBjb25zdCBxdWV1ZSA9IGN0cmxbXCJfZXZlbnRzXCJdW2tleV07XG4gICAgICAgIHByb3BzW2tleV0gPSAoeyBmaW5pc2hlZCwgY2FuY2VsbGVkIH0pID0+IHtcbiAgICAgICAgICBjb25zdCByZXN1bHQyID0gcXVldWUuZ2V0KGhhbmRsZXIpO1xuICAgICAgICAgIGlmIChyZXN1bHQyKSB7XG4gICAgICAgICAgICBpZiAoIWZpbmlzaGVkKVxuICAgICAgICAgICAgICByZXN1bHQyLmZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoY2FuY2VsbGVkKVxuICAgICAgICAgICAgICByZXN1bHQyLmNhbmNlbGxlZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXVlLnNldChoYW5kbGVyLCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICBmaW5pc2hlZDogZmluaXNoZWQgfHwgZmFsc2UsXG4gICAgICAgICAgICAgIGNhbmNlbGxlZDogY2FuY2VsbGVkIHx8IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChkZWZhdWx0czIpIHtcbiAgICAgICAgICBkZWZhdWx0czJba2V5XSA9IHByb3BzW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBjb25zdCBzdGF0ZSA9IGN0cmxbXCJfc3RhdGVcIl07XG4gIGlmIChwcm9wcy5wYXVzZSA9PT0gIXN0YXRlLnBhdXNlZCkge1xuICAgIHN0YXRlLnBhdXNlZCA9IHByb3BzLnBhdXNlO1xuICAgIGZsdXNoQ2FsbHMyKHByb3BzLnBhdXNlID8gc3RhdGUucGF1c2VRdWV1ZSA6IHN0YXRlLnJlc3VtZVF1ZXVlKTtcbiAgfSBlbHNlIGlmIChzdGF0ZS5wYXVzZWQpIHtcbiAgICBwcm9wcy5wYXVzZSA9IHRydWU7XG4gIH1cbiAgY29uc3QgcHJvbWlzZXMgPSAoa2V5cyB8fCBPYmplY3Qua2V5cyhjdHJsLnNwcmluZ3MpKS5tYXAoXG4gICAgKGtleSkgPT4gY3RybC5zcHJpbmdzW2tleV0uc3RhcnQocHJvcHMpXG4gICk7XG4gIGNvbnN0IGNhbmNlbCA9IHByb3BzLmNhbmNlbCA9PT0gdHJ1ZSB8fCBnZXREZWZhdWx0UHJvcChwcm9wcywgXCJjYW5jZWxcIikgPT09IHRydWU7XG4gIGlmIChhc3luY1RvIHx8IGNhbmNlbCAmJiBzdGF0ZS5hc3luY0lkKSB7XG4gICAgcHJvbWlzZXMucHVzaChcbiAgICAgIHNjaGVkdWxlUHJvcHMoKytjdHJsW1wiX2xhc3RBc3luY0lkXCJdLCB7XG4gICAgICAgIHByb3BzLFxuICAgICAgICBzdGF0ZSxcbiAgICAgICAgYWN0aW9uczoge1xuICAgICAgICAgIHBhdXNlOiBub29wLFxuICAgICAgICAgIHJlc3VtZTogbm9vcCxcbiAgICAgICAgICBzdGFydChwcm9wczIsIHJlc29sdmUpIHtcbiAgICAgICAgICAgIGlmIChjYW5jZWwpIHtcbiAgICAgICAgICAgICAgc3RvcEFzeW5jKHN0YXRlLCBjdHJsW1wiX2xhc3RBc3luY0lkXCJdKTtcbiAgICAgICAgICAgICAgcmVzb2x2ZShnZXRDYW5jZWxsZWRSZXN1bHQoY3RybCkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcHJvcHMyLm9uUmVzdCA9IG9uUmVzdDtcbiAgICAgICAgICAgICAgcmVzb2x2ZShcbiAgICAgICAgICAgICAgICBydW5Bc3luYyhcbiAgICAgICAgICAgICAgICAgIGFzeW5jVG8sXG4gICAgICAgICAgICAgICAgICBwcm9wczIsXG4gICAgICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgICAgIGN0cmxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgaWYgKHN0YXRlLnBhdXNlZCkge1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXN1bWUpID0+IHtcbiAgICAgIHN0YXRlLnJlc3VtZVF1ZXVlLmFkZChyZXN1bWUpO1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IHJlc3VsdCA9IGdldENvbWJpbmVkUmVzdWx0KGN0cmwsIGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VzKSk7XG4gIGlmIChsb29wICYmIHJlc3VsdC5maW5pc2hlZCAmJiAhKGlzTG9vcCAmJiByZXN1bHQubm9vcCkpIHtcbiAgICBjb25zdCBuZXh0UHJvcHMgPSBjcmVhdGVMb29wVXBkYXRlKHByb3BzLCBsb29wLCB0bzIpO1xuICAgIGlmIChuZXh0UHJvcHMpIHtcbiAgICAgIHByZXBhcmVLZXlzKGN0cmwsIFtuZXh0UHJvcHNdKTtcbiAgICAgIHJldHVybiBmbHVzaFVwZGF0ZShjdHJsLCBuZXh0UHJvcHMsIHRydWUpO1xuICAgIH1cbiAgfVxuICBpZiAob25SZXNvbHZlKSB7XG4gICAgcmFmNC5iYXRjaGVkVXBkYXRlcygoKSA9PiBvblJlc29sdmUocmVzdWx0LCBjdHJsLCBjdHJsLml0ZW0pKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0U3ByaW5ncyhjdHJsLCBwcm9wcykge1xuICBjb25zdCBzcHJpbmdzID0geyAuLi5jdHJsLnNwcmluZ3MgfTtcbiAgaWYgKHByb3BzKSB7XG4gICAgZWFjaDModG9BcnJheTMocHJvcHMpLCAocHJvcHMyKSA9PiB7XG4gICAgICBpZiAoaXM2LnVuZChwcm9wczIua2V5cykpIHtcbiAgICAgICAgcHJvcHMyID0gY3JlYXRlVXBkYXRlKHByb3BzMik7XG4gICAgICB9XG4gICAgICBpZiAoIWlzNi5vYmoocHJvcHMyLnRvKSkge1xuICAgICAgICBwcm9wczIgPSB7IC4uLnByb3BzMiwgdG86IHZvaWQgMCB9O1xuICAgICAgfVxuICAgICAgcHJlcGFyZVNwcmluZ3Moc3ByaW5ncywgcHJvcHMyLCAoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiBjcmVhdGVTcHJpbmcoa2V5KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHNldFNwcmluZ3MoY3RybCwgc3ByaW5ncyk7XG4gIHJldHVybiBzcHJpbmdzO1xufVxuZnVuY3Rpb24gc2V0U3ByaW5ncyhjdHJsLCBzcHJpbmdzKSB7XG4gIGVhY2hQcm9wNChzcHJpbmdzLCAoc3ByaW5nLCBrZXkpID0+IHtcbiAgICBpZiAoIWN0cmwuc3ByaW5nc1trZXldKSB7XG4gICAgICBjdHJsLnNwcmluZ3Nba2V5XSA9IHNwcmluZztcbiAgICAgIGFkZEZsdWlkT2JzZXJ2ZXIyKHNwcmluZywgY3RybCk7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNwcmluZyhrZXksIG9ic2VydmVyKSB7XG4gIGNvbnN0IHNwcmluZyA9IG5ldyBTcHJpbmdWYWx1ZSgpO1xuICBzcHJpbmcua2V5ID0ga2V5O1xuICBpZiAob2JzZXJ2ZXIpIHtcbiAgICBhZGRGbHVpZE9ic2VydmVyMihzcHJpbmcsIG9ic2VydmVyKTtcbiAgfVxuICByZXR1cm4gc3ByaW5nO1xufVxuZnVuY3Rpb24gcHJlcGFyZVNwcmluZ3Moc3ByaW5ncywgcHJvcHMsIGNyZWF0ZSkge1xuICBpZiAocHJvcHMua2V5cykge1xuICAgIGVhY2gzKHByb3BzLmtleXMsIChrZXkpID0+IHtcbiAgICAgIGNvbnN0IHNwcmluZyA9IHNwcmluZ3Nba2V5XSB8fCAoc3ByaW5nc1trZXldID0gY3JlYXRlKGtleSkpO1xuICAgICAgc3ByaW5nW1wiX3ByZXBhcmVOb2RlXCJdKHByb3BzKTtcbiAgICB9KTtcbiAgfVxufVxuZnVuY3Rpb24gcHJlcGFyZUtleXMoY3RybCwgcXVldWUpIHtcbiAgZWFjaDMocXVldWUsIChwcm9wcykgPT4ge1xuICAgIHByZXBhcmVTcHJpbmdzKGN0cmwuc3ByaW5ncywgcHJvcHMsIChrZXkpID0+IHtcbiAgICAgIHJldHVybiBjcmVhdGVTcHJpbmcoa2V5LCBjdHJsKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8vIHNyYy9TcHJpbmdDb250ZXh0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VDb250ZXh0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VNZW1vT25lIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgU3ByaW5nQ29udGV4dCA9ICh7XG4gIGNoaWxkcmVuLFxuICAuLi5wcm9wc1xufSkgPT4ge1xuICBjb25zdCBpbmhlcml0ZWQgPSB1c2VDb250ZXh0KGN0eCk7XG4gIGNvbnN0IHBhdXNlID0gcHJvcHMucGF1c2UgfHwgISFpbmhlcml0ZWQucGF1c2UsIGltbWVkaWF0ZSA9IHByb3BzLmltbWVkaWF0ZSB8fCAhIWluaGVyaXRlZC5pbW1lZGlhdGU7XG4gIHByb3BzID0gdXNlTWVtb09uZSgoKSA9PiAoeyBwYXVzZSwgaW1tZWRpYXRlIH0pLCBbcGF1c2UsIGltbWVkaWF0ZV0pO1xuICBjb25zdCB7IFByb3ZpZGVyIH0gPSBjdHg7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChQcm92aWRlciwgeyB2YWx1ZTogcHJvcHMgfSwgY2hpbGRyZW4pO1xufTtcbnZhciBjdHggPSBtYWtlQ29udGV4dChTcHJpbmdDb250ZXh0LCB7fSk7XG5TcHJpbmdDb250ZXh0LlByb3ZpZGVyID0gY3R4LlByb3ZpZGVyO1xuU3ByaW5nQ29udGV4dC5Db25zdW1lciA9IGN0eC5Db25zdW1lcjtcbmZ1bmN0aW9uIG1ha2VDb250ZXh0KHRhcmdldCwgaW5pdCkge1xuICBPYmplY3QuYXNzaWduKHRhcmdldCwgUmVhY3QuY3JlYXRlQ29udGV4dChpbml0KSk7XG4gIHRhcmdldC5Qcm92aWRlci5fY29udGV4dCA9IHRhcmdldDtcbiAgdGFyZ2V0LkNvbnN1bWVyLl9jb250ZXh0ID0gdGFyZ2V0O1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vLyBzcmMvU3ByaW5nUmVmLnRzXG5pbXBvcnQgeyBlYWNoIGFzIGVhY2g0LCBpcyBhcyBpczcsIGRlcHJlY2F0ZURpcmVjdENhbGwgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciBTcHJpbmdSZWYgPSAoKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnQgPSBbXTtcbiAgY29uc3QgU3ByaW5nUmVmMiA9IGZ1bmN0aW9uKHByb3BzKSB7XG4gICAgZGVwcmVjYXRlRGlyZWN0Q2FsbCgpO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgaWYgKGlzNy51bmQocHJvcHMpKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjdHJsLnN0YXJ0KCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgdXBkYXRlMiA9IF9nZXRQcm9wcyhwcm9wcywgY3RybCwgaSk7XG4gICAgICAgIGlmICh1cGRhdGUyKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGN0cmwuc3RhcnQodXBkYXRlMikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG4gIFNwcmluZ1JlZjIuY3VycmVudCA9IGN1cnJlbnQ7XG4gIFNwcmluZ1JlZjIuYWRkID0gZnVuY3Rpb24oY3RybCkge1xuICAgIGlmICghY3VycmVudC5pbmNsdWRlcyhjdHJsKSkge1xuICAgICAgY3VycmVudC5wdXNoKGN0cmwpO1xuICAgIH1cbiAgfTtcbiAgU3ByaW5nUmVmMi5kZWxldGUgPSBmdW5jdGlvbihjdHJsKSB7XG4gICAgY29uc3QgaSA9IGN1cnJlbnQuaW5kZXhPZihjdHJsKTtcbiAgICBpZiAofmkpXG4gICAgICBjdXJyZW50LnNwbGljZShpLCAxKTtcbiAgfTtcbiAgU3ByaW5nUmVmMi5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsKSA9PiBjdHJsLnBhdXNlKC4uLmFyZ3VtZW50cykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBTcHJpbmdSZWYyLnJlc3VtZSA9IGZ1bmN0aW9uKCkge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsKSA9PiBjdHJsLnJlc3VtZSguLi5hcmd1bWVudHMpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbiAgU3ByaW5nUmVmMi5zZXQgPSBmdW5jdGlvbih2YWx1ZXMpIHtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgY29uc3QgdXBkYXRlMiA9IGlzNy5mdW4odmFsdWVzKSA/IHZhbHVlcyhpLCBjdHJsKSA6IHZhbHVlcztcbiAgICAgIGlmICh1cGRhdGUyKSB7XG4gICAgICAgIGN0cmwuc2V0KHVwZGF0ZTIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBTcHJpbmdSZWYyLnN0YXJ0ID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHRzID0gW107XG4gICAgZWFjaDQoY3VycmVudCwgKGN0cmwsIGkpID0+IHtcbiAgICAgIGlmIChpczcudW5kKHByb3BzKSkge1xuICAgICAgICByZXN1bHRzLnB1c2goY3RybC5zdGFydCgpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHVwZGF0ZTIgPSB0aGlzLl9nZXRQcm9wcyhwcm9wcywgY3RybCwgaSk7XG4gICAgICAgIGlmICh1cGRhdGUyKSB7XG4gICAgICAgICAgcmVzdWx0cy5wdXNoKGN0cmwuc3RhcnQodXBkYXRlMikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG4gIFNwcmluZ1JlZjIuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGVhY2g0KGN1cnJlbnQsIChjdHJsKSA9PiBjdHJsLnN0b3AoLi4uYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIFNwcmluZ1JlZjIudXBkYXRlID0gZnVuY3Rpb24ocHJvcHMpIHtcbiAgICBlYWNoNChjdXJyZW50LCAoY3RybCwgaSkgPT4gY3RybC51cGRhdGUodGhpcy5fZ2V0UHJvcHMocHJvcHMsIGN0cmwsIGkpKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGNvbnN0IF9nZXRQcm9wcyA9IGZ1bmN0aW9uKGFyZywgY3RybCwgaW5kZXgpIHtcbiAgICByZXR1cm4gaXM3LmZ1bihhcmcpID8gYXJnKGluZGV4LCBjdHJsKSA6IGFyZztcbiAgfTtcbiAgU3ByaW5nUmVmMi5fZ2V0UHJvcHMgPSBfZ2V0UHJvcHM7XG4gIHJldHVybiBTcHJpbmdSZWYyO1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZ3MudHNcbmZ1bmN0aW9uIHVzZVNwcmluZ3MobGVuZ3RoLCBwcm9wcywgZGVwcykge1xuICBjb25zdCBwcm9wc0ZuID0gaXM4LmZ1bihwcm9wcykgJiYgcHJvcHM7XG4gIGlmIChwcm9wc0ZuICYmICFkZXBzKVxuICAgIGRlcHMgPSBbXTtcbiAgY29uc3QgcmVmID0gdXNlTWVtbyhcbiAgICAoKSA9PiBwcm9wc0ZuIHx8IGFyZ3VtZW50cy5sZW5ndGggPT0gMyA/IFNwcmluZ1JlZigpIDogdm9pZCAwLFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IGxheW91dElkID0gdXNlUmVmKDApO1xuICBjb25zdCBmb3JjZVVwZGF0ZSA9IHVzZUZvcmNlVXBkYXRlKCk7XG4gIGNvbnN0IHN0YXRlID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgY3RybHM6IFtdLFxuICAgICAgcXVldWU6IFtdLFxuICAgICAgZmx1c2goY3RybCwgdXBkYXRlczIpIHtcbiAgICAgICAgY29uc3Qgc3ByaW5nczIgPSBnZXRTcHJpbmdzKGN0cmwsIHVwZGF0ZXMyKTtcbiAgICAgICAgY29uc3QgY2FuRmx1c2hTeW5jID0gbGF5b3V0SWQuY3VycmVudCA+IDAgJiYgIXN0YXRlLnF1ZXVlLmxlbmd0aCAmJiAhT2JqZWN0LmtleXMoc3ByaW5nczIpLnNvbWUoKGtleSkgPT4gIWN0cmwuc3ByaW5nc1trZXldKTtcbiAgICAgICAgcmV0dXJuIGNhbkZsdXNoU3luYyA/IGZsdXNoVXBkYXRlUXVldWUoY3RybCwgdXBkYXRlczIpIDogbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICBzZXRTcHJpbmdzKGN0cmwsIHNwcmluZ3MyKTtcbiAgICAgICAgICBzdGF0ZS5xdWV1ZS5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoZmx1c2hVcGRhdGVRdWV1ZShjdHJsLCB1cGRhdGVzMikpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pLFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IGN0cmxzID0gdXNlUmVmKFsuLi5zdGF0ZS5jdHJsc10pO1xuICBjb25zdCB1cGRhdGVzID0gW107XG4gIGNvbnN0IHByZXZMZW5ndGggPSB1c2VQcmV2KGxlbmd0aCkgfHwgMDtcbiAgdXNlTWVtbygoKSA9PiB7XG4gICAgZWFjaDUoY3RybHMuY3VycmVudC5zbGljZShsZW5ndGgsIHByZXZMZW5ndGgpLCAoY3RybCkgPT4ge1xuICAgICAgZGV0YWNoUmVmcyhjdHJsLCByZWYpO1xuICAgICAgY3RybC5zdG9wKHRydWUpO1xuICAgIH0pO1xuICAgIGN0cmxzLmN1cnJlbnQubGVuZ3RoID0gbGVuZ3RoO1xuICAgIGRlY2xhcmVVcGRhdGVzKHByZXZMZW5ndGgsIGxlbmd0aCk7XG4gIH0sIFtsZW5ndGhdKTtcbiAgdXNlTWVtbygoKSA9PiB7XG4gICAgZGVjbGFyZVVwZGF0ZXMoMCwgTWF0aC5taW4ocHJldkxlbmd0aCwgbGVuZ3RoKSk7XG4gIH0sIGRlcHMpO1xuICBmdW5jdGlvbiBkZWNsYXJlVXBkYXRlcyhzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4OyBpIDwgZW5kSW5kZXg7IGkrKykge1xuICAgICAgY29uc3QgY3RybCA9IGN0cmxzLmN1cnJlbnRbaV0gfHwgKGN0cmxzLmN1cnJlbnRbaV0gPSBuZXcgQ29udHJvbGxlcihudWxsLCBzdGF0ZS5mbHVzaCkpO1xuICAgICAgY29uc3QgdXBkYXRlMiA9IHByb3BzRm4gPyBwcm9wc0ZuKGksIGN0cmwpIDogcHJvcHNbaV07XG4gICAgICBpZiAodXBkYXRlMikge1xuICAgICAgICB1cGRhdGVzW2ldID0gZGVjbGFyZVVwZGF0ZSh1cGRhdGUyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3Qgc3ByaW5ncyA9IGN0cmxzLmN1cnJlbnQubWFwKChjdHJsLCBpKSA9PiBnZXRTcHJpbmdzKGN0cmwsIHVwZGF0ZXNbaV0pKTtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQyKFNwcmluZ0NvbnRleHQpO1xuICBjb25zdCBwcmV2Q29udGV4dCA9IHVzZVByZXYoY29udGV4dCk7XG4gIGNvbnN0IGhhc0NvbnRleHQgPSBjb250ZXh0ICE9PSBwcmV2Q29udGV4dCAmJiBoYXNQcm9wcyhjb250ZXh0KTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDIoKCkgPT4ge1xuICAgIGxheW91dElkLmN1cnJlbnQrKztcbiAgICBzdGF0ZS5jdHJscyA9IGN0cmxzLmN1cnJlbnQ7XG4gICAgY29uc3QgeyBxdWV1ZSB9ID0gc3RhdGU7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgc3RhdGUucXVldWUgPSBbXTtcbiAgICAgIGVhY2g1KHF1ZXVlLCAoY2IpID0+IGNiKCkpO1xuICAgIH1cbiAgICBlYWNoNShjdHJscy5jdXJyZW50LCAoY3RybCwgaSkgPT4ge1xuICAgICAgcmVmPy5hZGQoY3RybCk7XG4gICAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgICBjdHJsLnN0YXJ0KHsgZGVmYXVsdDogY29udGV4dCB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHVwZGF0ZTIgPSB1cGRhdGVzW2ldO1xuICAgICAgaWYgKHVwZGF0ZTIpIHtcbiAgICAgICAgcmVwbGFjZVJlZihjdHJsLCB1cGRhdGUyLnJlZik7XG4gICAgICAgIGlmIChjdHJsLnJlZikge1xuICAgICAgICAgIGN0cmwucXVldWUucHVzaCh1cGRhdGUyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdHJsLnN0YXJ0KHVwZGF0ZTIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuICB1c2VPbmNlKCgpID0+ICgpID0+IHtcbiAgICBlYWNoNShzdGF0ZS5jdHJscywgKGN0cmwpID0+IGN0cmwuc3RvcCh0cnVlKSk7XG4gIH0pO1xuICBjb25zdCB2YWx1ZXMgPSBzcHJpbmdzLm1hcCgoeCkgPT4gKHsgLi4ueCB9KSk7XG4gIHJldHVybiByZWYgPyBbdmFsdWVzLCByZWZdIDogdmFsdWVzO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlU3ByaW5nLnRzXG5mdW5jdGlvbiB1c2VTcHJpbmcocHJvcHMsIGRlcHMpIHtcbiAgY29uc3QgaXNGbiA9IGlzOS5mdW4ocHJvcHMpO1xuICBjb25zdCBbW3ZhbHVlc10sIHJlZl0gPSB1c2VTcHJpbmdzKFxuICAgIDEsXG4gICAgaXNGbiA/IHByb3BzIDogW3Byb3BzXSxcbiAgICBpc0ZuID8gZGVwcyB8fCBbXSA6IGRlcHNcbiAgKTtcbiAgcmV0dXJuIGlzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAyID8gW3ZhbHVlcywgcmVmXSA6IHZhbHVlcztcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVNwcmluZ1JlZi50c1xuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciBpbml0U3ByaW5nUmVmID0gKCkgPT4gU3ByaW5nUmVmKCk7XG52YXIgdXNlU3ByaW5nUmVmID0gKCkgPT4gdXNlU3RhdGUoaW5pdFNwcmluZ1JlZilbMF07XG5cbi8vIHNyYy9ob29rcy91c2VTcHJpbmdWYWx1ZS50c1xuaW1wb3J0IHsgdXNlQ29uc3RhbnQsIHVzZU9uY2UgYXMgdXNlT25jZTIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciB1c2VTcHJpbmdWYWx1ZSA9IChpbml0aWFsLCBwcm9wcykgPT4ge1xuICBjb25zdCBzcHJpbmdWYWx1ZSA9IHVzZUNvbnN0YW50KCgpID0+IG5ldyBTcHJpbmdWYWx1ZShpbml0aWFsLCBwcm9wcykpO1xuICB1c2VPbmNlMigoKSA9PiAoKSA9PiB7XG4gICAgc3ByaW5nVmFsdWUuc3RvcCgpO1xuICB9KTtcbiAgcmV0dXJuIHNwcmluZ1ZhbHVlO1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZVRyYWlsLnRzXG5pbXBvcnQgeyBlYWNoIGFzIGVhY2g2LCBpcyBhcyBpczEwLCB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QzIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiB1c2VUcmFpbChsZW5ndGgsIHByb3BzQXJnLCBkZXBzKSB7XG4gIGNvbnN0IHByb3BzRm4gPSBpczEwLmZ1bihwcm9wc0FyZykgJiYgcHJvcHNBcmc7XG4gIGlmIChwcm9wc0ZuICYmICFkZXBzKVxuICAgIGRlcHMgPSBbXTtcbiAgbGV0IHJldmVyc2UgPSB0cnVlO1xuICBsZXQgcGFzc2VkUmVmID0gdm9pZCAwO1xuICBjb25zdCByZXN1bHQgPSB1c2VTcHJpbmdzKFxuICAgIGxlbmd0aCxcbiAgICAoaSwgY3RybCkgPT4ge1xuICAgICAgY29uc3QgcHJvcHMgPSBwcm9wc0ZuID8gcHJvcHNGbihpLCBjdHJsKSA6IHByb3BzQXJnO1xuICAgICAgcGFzc2VkUmVmID0gcHJvcHMucmVmO1xuICAgICAgcmV2ZXJzZSA9IHJldmVyc2UgJiYgcHJvcHMucmV2ZXJzZTtcbiAgICAgIHJldHVybiBwcm9wcztcbiAgICB9LFxuICAgIC8vIEVuc3VyZSB0aGUgcHJvcHMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gbm8gZGVwcyBleGlzdC5cbiAgICAvLyBUaGlzIHdvcmtzIGFyb3VuZCB0aGUgMyBhcmd1bWVudCBydWxlLlxuICAgIGRlcHMgfHwgW3t9XVxuICApO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0MygoKSA9PiB7XG4gICAgZWFjaDYocmVzdWx0WzFdLmN1cnJlbnQsIChjdHJsLCBpKSA9PiB7XG4gICAgICBjb25zdCBwYXJlbnQgPSByZXN1bHRbMV0uY3VycmVudFtpICsgKHJldmVyc2UgPyAxIDogLTEpXTtcbiAgICAgIHJlcGxhY2VSZWYoY3RybCwgcGFzc2VkUmVmKTtcbiAgICAgIGlmIChjdHJsLnJlZikge1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgY3RybC51cGRhdGUoeyB0bzogcGFyZW50LnNwcmluZ3MgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICBjdHJsLnN0YXJ0KHsgdG86IHBhcmVudC5zcHJpbmdzIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3RybC5zdGFydCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBkZXBzKTtcbiAgaWYgKHByb3BzRm4gfHwgYXJndW1lbnRzLmxlbmd0aCA9PSAzKSB7XG4gICAgY29uc3QgcmVmID0gcGFzc2VkUmVmID8/IHJlc3VsdFsxXTtcbiAgICByZWZbXCJfZ2V0UHJvcHNcIl0gPSAocHJvcHNBcmcyLCBjdHJsLCBpKSA9PiB7XG4gICAgICBjb25zdCBwcm9wcyA9IGlzMTAuZnVuKHByb3BzQXJnMikgPyBwcm9wc0FyZzIoaSwgY3RybCkgOiBwcm9wc0FyZzI7XG4gICAgICBpZiAocHJvcHMpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gcmVmLmN1cnJlbnRbaSArIChwcm9wcy5yZXZlcnNlID8gMSA6IC0xKV07XG4gICAgICAgIGlmIChwYXJlbnQpXG4gICAgICAgICAgcHJvcHMudG8gPSBwYXJlbnQuc3ByaW5ncztcbiAgICAgICAgcmV0dXJuIHByb3BzO1xuICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4gcmVzdWx0WzBdO1xufVxuXG4vLyBzcmMvaG9va3MvdXNlVHJhbnNpdGlvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MiBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUNvbnRleHQgYXMgdXNlQ29udGV4dDMsIHVzZVJlZiBhcyB1c2VSZWYyLCB1c2VNZW1vIGFzIHVzZU1lbW8yIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBpcyBhcyBpczExLFxuICB0b0FycmF5IGFzIHRvQXJyYXk0LFxuICB1c2VGb3JjZVVwZGF0ZSBhcyB1c2VGb3JjZVVwZGF0ZTIsXG4gIHVzZU9uY2UgYXMgdXNlT25jZTMsXG4gIHVzZVByZXYgYXMgdXNlUHJldjIsXG4gIGVhY2ggYXMgZWFjaDcsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDRcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5mdW5jdGlvbiB1c2VUcmFuc2l0aW9uKGRhdGEsIHByb3BzLCBkZXBzKSB7XG4gIGNvbnN0IHByb3BzRm4gPSBpczExLmZ1bihwcm9wcykgJiYgcHJvcHM7XG4gIGNvbnN0IHtcbiAgICByZXNldCxcbiAgICBzb3J0LFxuICAgIHRyYWlsID0gMCxcbiAgICBleHBpcmVzID0gdHJ1ZSxcbiAgICBleGl0QmVmb3JlRW50ZXIgPSBmYWxzZSxcbiAgICBvbkRlc3Ryb3llZCxcbiAgICByZWY6IHByb3BzUmVmLFxuICAgIGNvbmZpZzogcHJvcHNDb25maWdcbiAgfSA9IHByb3BzRm4gPyBwcm9wc0ZuKCkgOiBwcm9wcztcbiAgY29uc3QgcmVmID0gdXNlTWVtbzIoXG4gICAgKCkgPT4gcHJvcHNGbiB8fCBhcmd1bWVudHMubGVuZ3RoID09IDMgPyBTcHJpbmdSZWYoKSA6IHZvaWQgMCxcbiAgICBbXVxuICApO1xuICBjb25zdCBpdGVtcyA9IHRvQXJyYXk0KGRhdGEpO1xuICBjb25zdCB0cmFuc2l0aW9ucyA9IFtdO1xuICBjb25zdCB1c2VkVHJhbnNpdGlvbnMgPSB1c2VSZWYyKG51bGwpO1xuICBjb25zdCBwcmV2VHJhbnNpdGlvbnMgPSByZXNldCA/IG51bGwgOiB1c2VkVHJhbnNpdGlvbnMuY3VycmVudDtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDQoKCkgPT4ge1xuICAgIHVzZWRUcmFuc2l0aW9ucy5jdXJyZW50ID0gdHJhbnNpdGlvbnM7XG4gIH0pO1xuICB1c2VPbmNlMygoKSA9PiB7XG4gICAgZWFjaDcodHJhbnNpdGlvbnMsICh0KSA9PiB7XG4gICAgICByZWY/LmFkZCh0LmN0cmwpO1xuICAgICAgdC5jdHJsLnJlZiA9IHJlZjtcbiAgICB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWFjaDcodXNlZFRyYW5zaXRpb25zLmN1cnJlbnQsICh0KSA9PiB7XG4gICAgICAgIGlmICh0LmV4cGlyZWQpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodC5leHBpcmF0aW9uSWQpO1xuICAgICAgICB9XG4gICAgICAgIGRldGFjaFJlZnModC5jdHJsLCByZWYpO1xuICAgICAgICB0LmN0cmwuc3RvcCh0cnVlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuICBjb25zdCBrZXlzID0gZ2V0S2V5cyhpdGVtcywgcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzLCBwcmV2VHJhbnNpdGlvbnMpO1xuICBjb25zdCBleHBpcmVkID0gcmVzZXQgJiYgdXNlZFRyYW5zaXRpb25zLmN1cnJlbnQgfHwgW107XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q0KFxuICAgICgpID0+IGVhY2g3KGV4cGlyZWQsICh7IGN0cmwsIGl0ZW0sIGtleSB9KSA9PiB7XG4gICAgICBkZXRhY2hSZWZzKGN0cmwsIHJlZik7XG4gICAgICBjYWxsUHJvcChvbkRlc3Ryb3llZCwgaXRlbSwga2V5KTtcbiAgICB9KVxuICApO1xuICBjb25zdCByZXVzZWQgPSBbXTtcbiAgaWYgKHByZXZUcmFuc2l0aW9ucylcbiAgICBlYWNoNyhwcmV2VHJhbnNpdGlvbnMsICh0LCBpKSA9PiB7XG4gICAgICBpZiAodC5leHBpcmVkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dCh0LmV4cGlyYXRpb25JZCk7XG4gICAgICAgIGV4cGlyZWQucHVzaCh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGkgPSByZXVzZWRbaV0gPSBrZXlzLmluZGV4T2YodC5rZXkpO1xuICAgICAgICBpZiAofmkpXG4gICAgICAgICAgdHJhbnNpdGlvbnNbaV0gPSB0O1xuICAgICAgfVxuICAgIH0pO1xuICBlYWNoNyhpdGVtcywgKGl0ZW0sIGkpID0+IHtcbiAgICBpZiAoIXRyYW5zaXRpb25zW2ldKSB7XG4gICAgICB0cmFuc2l0aW9uc1tpXSA9IHtcbiAgICAgICAga2V5OiBrZXlzW2ldLFxuICAgICAgICBpdGVtLFxuICAgICAgICBwaGFzZTogXCJtb3VudFwiIC8qIE1PVU5UICovLFxuICAgICAgICBjdHJsOiBuZXcgQ29udHJvbGxlcigpXG4gICAgICB9O1xuICAgICAgdHJhbnNpdGlvbnNbaV0uY3RybC5pdGVtID0gaXRlbTtcbiAgICB9XG4gIH0pO1xuICBpZiAocmV1c2VkLmxlbmd0aCkge1xuICAgIGxldCBpID0gLTE7XG4gICAgY29uc3QgeyBsZWF2ZSB9ID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHByb3BzO1xuICAgIGVhY2g3KHJldXNlZCwgKGtleUluZGV4LCBwcmV2SW5kZXgpID0+IHtcbiAgICAgIGNvbnN0IHQgPSBwcmV2VHJhbnNpdGlvbnNbcHJldkluZGV4XTtcbiAgICAgIGlmICh+a2V5SW5kZXgpIHtcbiAgICAgICAgaSA9IHRyYW5zaXRpb25zLmluZGV4T2YodCk7XG4gICAgICAgIHRyYW5zaXRpb25zW2ldID0geyAuLi50LCBpdGVtOiBpdGVtc1trZXlJbmRleF0gfTtcbiAgICAgIH0gZWxzZSBpZiAobGVhdmUpIHtcbiAgICAgICAgdHJhbnNpdGlvbnMuc3BsaWNlKCsraSwgMCwgdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzMTEuZnVuKHNvcnQpKSB7XG4gICAgdHJhbnNpdGlvbnMuc29ydCgoYSwgYikgPT4gc29ydChhLml0ZW0sIGIuaXRlbSkpO1xuICB9XG4gIGxldCBkZWxheSA9IC10cmFpbDtcbiAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZTIoKTtcbiAgY29uc3QgZGVmYXVsdFByb3BzID0gZ2V0RGVmYXVsdFByb3BzKHByb3BzKTtcbiAgY29uc3QgY2hhbmdlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGNvbnN0IGV4aXRpbmdUcmFuc2l0aW9ucyA9IHVzZVJlZjIoLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSk7XG4gIGNvbnN0IGZvcmNlQ2hhbmdlID0gdXNlUmVmMihmYWxzZSk7XG4gIGVhY2g3KHRyYW5zaXRpb25zLCAodCwgaSkgPT4ge1xuICAgIGNvbnN0IGtleSA9IHQua2V5O1xuICAgIGNvbnN0IHByZXZQaGFzZSA9IHQucGhhc2U7XG4gICAgY29uc3QgcCA9IHByb3BzRm4gPyBwcm9wc0ZuKCkgOiBwcm9wcztcbiAgICBsZXQgdG8yO1xuICAgIGxldCBwaGFzZTtcbiAgICBjb25zdCBwcm9wc0RlbGF5ID0gY2FsbFByb3AocC5kZWxheSB8fCAwLCBrZXkpO1xuICAgIGlmIChwcmV2UGhhc2UgPT0gXCJtb3VudFwiIC8qIE1PVU5UICovKSB7XG4gICAgICB0bzIgPSBwLmVudGVyO1xuICAgICAgcGhhc2UgPSBcImVudGVyXCIgLyogRU5URVIgKi87XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGlzTGVhdmUgPSBrZXlzLmluZGV4T2Yoa2V5KSA8IDA7XG4gICAgICBpZiAocHJldlBoYXNlICE9IFwibGVhdmVcIiAvKiBMRUFWRSAqLykge1xuICAgICAgICBpZiAoaXNMZWF2ZSkge1xuICAgICAgICAgIHRvMiA9IHAubGVhdmU7XG4gICAgICAgICAgcGhhc2UgPSBcImxlYXZlXCIgLyogTEVBVkUgKi87XG4gICAgICAgIH0gZWxzZSBpZiAodG8yID0gcC51cGRhdGUpIHtcbiAgICAgICAgICBwaGFzZSA9IFwidXBkYXRlXCIgLyogVVBEQVRFICovO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9IGVsc2UgaWYgKCFpc0xlYXZlKSB7XG4gICAgICAgIHRvMiA9IHAuZW50ZXI7XG4gICAgICAgIHBoYXNlID0gXCJlbnRlclwiIC8qIEVOVEVSICovO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdG8yID0gY2FsbFByb3AodG8yLCB0Lml0ZW0sIGkpO1xuICAgIHRvMiA9IGlzMTEub2JqKHRvMikgPyBpbmZlclRvKHRvMikgOiB7IHRvOiB0bzIgfTtcbiAgICBpZiAoIXRvMi5jb25maWcpIHtcbiAgICAgIGNvbnN0IGNvbmZpZzIgPSBwcm9wc0NvbmZpZyB8fCBkZWZhdWx0UHJvcHMuY29uZmlnO1xuICAgICAgdG8yLmNvbmZpZyA9IGNhbGxQcm9wKGNvbmZpZzIsIHQuaXRlbSwgaSwgcGhhc2UpO1xuICAgIH1cbiAgICBkZWxheSArPSB0cmFpbDtcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgLi4uZGVmYXVsdFByb3BzLFxuICAgICAgLy8gd2UgbmVlZCB0byBhZGQgb3VyIHByb3BzLmRlbGF5IHZhbHVlIHlvdSBoZXJlLlxuICAgICAgZGVsYXk6IHByb3BzRGVsYXkgKyBkZWxheSxcbiAgICAgIHJlZjogcHJvcHNSZWYsXG4gICAgICBpbW1lZGlhdGU6IHAuaW1tZWRpYXRlLFxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyBpbXBsaWVkIHJlc2V0cy5cbiAgICAgIHJlc2V0OiBmYWxzZSxcbiAgICAgIC8vIE1lcmdlIGFueSBwaGFzZS1zcGVjaWZpYyBwcm9wcy5cbiAgICAgIC4uLnRvMlxuICAgIH07XG4gICAgaWYgKHBoYXNlID09IFwiZW50ZXJcIiAvKiBFTlRFUiAqLyAmJiBpczExLnVuZChwYXlsb2FkLmZyb20pKSB7XG4gICAgICBjb25zdCBwMiA9IHByb3BzRm4gPyBwcm9wc0ZuKCkgOiBwcm9wcztcbiAgICAgIGNvbnN0IGZyb20gPSBpczExLnVuZChwMi5pbml0aWFsKSB8fCBwcmV2VHJhbnNpdGlvbnMgPyBwMi5mcm9tIDogcDIuaW5pdGlhbDtcbiAgICAgIHBheWxvYWQuZnJvbSA9IGNhbGxQcm9wKGZyb20sIHQuaXRlbSwgaSk7XG4gICAgfVxuICAgIGNvbnN0IHsgb25SZXNvbHZlIH0gPSBwYXlsb2FkO1xuICAgIHBheWxvYWQub25SZXNvbHZlID0gKHJlc3VsdCkgPT4ge1xuICAgICAgY2FsbFByb3Aob25SZXNvbHZlLCByZXN1bHQpO1xuICAgICAgY29uc3QgdHJhbnNpdGlvbnMyID0gdXNlZFRyYW5zaXRpb25zLmN1cnJlbnQ7XG4gICAgICBjb25zdCB0MiA9IHRyYW5zaXRpb25zMi5maW5kKCh0MykgPT4gdDMua2V5ID09PSBrZXkpO1xuICAgICAgaWYgKCF0MilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKHJlc3VsdC5jYW5jZWxsZWQgJiYgdDIucGhhc2UgIT0gXCJ1cGRhdGVcIiAvKiBVUERBVEUgKi8pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHQyLmN0cmwuaWRsZSkge1xuICAgICAgICBjb25zdCBpZGxlID0gdHJhbnNpdGlvbnMyLmV2ZXJ5KCh0MykgPT4gdDMuY3RybC5pZGxlKTtcbiAgICAgICAgaWYgKHQyLnBoYXNlID09IFwibGVhdmVcIiAvKiBMRUFWRSAqLykge1xuICAgICAgICAgIGNvbnN0IGV4cGlyeSA9IGNhbGxQcm9wKGV4cGlyZXMsIHQyLml0ZW0pO1xuICAgICAgICAgIGlmIChleHBpcnkgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBleHBpcnlNcyA9IGV4cGlyeSA9PT0gdHJ1ZSA/IDAgOiBleHBpcnk7XG4gICAgICAgICAgICB0Mi5leHBpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghaWRsZSAmJiBleHBpcnlNcyA+IDApIHtcbiAgICAgICAgICAgICAgaWYgKGV4cGlyeU1zIDw9IDIxNDc0ODM2NDcpXG4gICAgICAgICAgICAgICAgdDIuZXhwaXJhdGlvbklkID0gc2V0VGltZW91dChmb3JjZVVwZGF0ZSwgZXhwaXJ5TXMpO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpZGxlICYmIHRyYW5zaXRpb25zMi5zb21lKCh0MykgPT4gdDMuZXhwaXJlZCkpIHtcbiAgICAgICAgICBleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudC5kZWxldGUodDIpO1xuICAgICAgICAgIGlmIChleGl0QmVmb3JlRW50ZXIpIHtcbiAgICAgICAgICAgIGZvcmNlQ2hhbmdlLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzcHJpbmdzID0gZ2V0U3ByaW5ncyh0LmN0cmwsIHBheWxvYWQpO1xuICAgIGlmIChwaGFzZSA9PT0gXCJsZWF2ZVwiIC8qIExFQVZFICovICYmIGV4aXRCZWZvcmVFbnRlcikge1xuICAgICAgZXhpdGluZ1RyYW5zaXRpb25zLmN1cnJlbnQuc2V0KHQsIHsgcGhhc2UsIHNwcmluZ3MsIHBheWxvYWQgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoYW5nZXMuc2V0KHQsIHsgcGhhc2UsIHNwcmluZ3MsIHBheWxvYWQgfSk7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQzKFNwcmluZ0NvbnRleHQpO1xuICBjb25zdCBwcmV2Q29udGV4dCA9IHVzZVByZXYyKGNvbnRleHQpO1xuICBjb25zdCBoYXNDb250ZXh0ID0gY29udGV4dCAhPT0gcHJldkNvbnRleHQgJiYgaGFzUHJvcHMoY29udGV4dCk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q0KCgpID0+IHtcbiAgICBpZiAoaGFzQ29udGV4dCkge1xuICAgICAgZWFjaDcodHJhbnNpdGlvbnMsICh0KSA9PiB7XG4gICAgICAgIHQuY3RybC5zdGFydCh7IGRlZmF1bHQ6IGNvbnRleHQgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtjb250ZXh0XSk7XG4gIGVhY2g3KGNoYW5nZXMsIChfLCB0KSA9PiB7XG4gICAgaWYgKGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50LnNpemUpIHtcbiAgICAgIGNvbnN0IGluZCA9IHRyYW5zaXRpb25zLmZpbmRJbmRleCgoc3RhdGUpID0+IHN0YXRlLmtleSA9PT0gdC5rZXkpO1xuICAgICAgdHJhbnNpdGlvbnMuc3BsaWNlKGluZCwgMSk7XG4gICAgfVxuICB9KTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDQoXG4gICAgKCkgPT4ge1xuICAgICAgZWFjaDcoXG4gICAgICAgIGV4aXRpbmdUcmFuc2l0aW9ucy5jdXJyZW50LnNpemUgPyBleGl0aW5nVHJhbnNpdGlvbnMuY3VycmVudCA6IGNoYW5nZXMsXG4gICAgICAgICh7IHBoYXNlLCBwYXlsb2FkIH0sIHQpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGN0cmwgfSA9IHQ7XG4gICAgICAgICAgdC5waGFzZSA9IHBoYXNlO1xuICAgICAgICAgIHJlZj8uYWRkKGN0cmwpO1xuICAgICAgICAgIGlmIChoYXNDb250ZXh0ICYmIHBoYXNlID09IFwiZW50ZXJcIiAvKiBFTlRFUiAqLykge1xuICAgICAgICAgICAgY3RybC5zdGFydCh7IGRlZmF1bHQ6IGNvbnRleHQgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICAgICAgICByZXBsYWNlUmVmKGN0cmwsIHBheWxvYWQucmVmKTtcbiAgICAgICAgICAgIGlmICgoY3RybC5yZWYgfHwgcmVmKSAmJiAhZm9yY2VDaGFuZ2UuY3VycmVudCkge1xuICAgICAgICAgICAgICBjdHJsLnVwZGF0ZShwYXlsb2FkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGN0cmwuc3RhcnQocGF5bG9hZCk7XG4gICAgICAgICAgICAgIGlmIChmb3JjZUNoYW5nZS5jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgZm9yY2VDaGFuZ2UuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICApO1xuICAgIH0sXG4gICAgcmVzZXQgPyB2b2lkIDAgOiBkZXBzXG4gICk7XG4gIGNvbnN0IHJlbmRlclRyYW5zaXRpb25zID0gKHJlbmRlcikgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFJlYWN0Mi5GcmFnbWVudCwgbnVsbCwgdHJhbnNpdGlvbnMubWFwKCh0LCBpKSA9PiB7XG4gICAgY29uc3QgeyBzcHJpbmdzIH0gPSBjaGFuZ2VzLmdldCh0KSB8fCB0LmN0cmw7XG4gICAgY29uc3QgZWxlbSA9IHJlbmRlcih7IC4uLnNwcmluZ3MgfSwgdC5pdGVtLCB0LCBpKTtcbiAgICByZXR1cm4gZWxlbSAmJiBlbGVtLnR5cGUgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXG4gICAgICBlbGVtLnR5cGUsXG4gICAgICB7XG4gICAgICAgIC4uLmVsZW0ucHJvcHMsXG4gICAgICAgIGtleTogaXMxMS5zdHIodC5rZXkpIHx8IGlzMTEubnVtKHQua2V5KSA/IHQua2V5IDogdC5jdHJsLmlkLFxuICAgICAgICByZWY6IGVsZW0ucmVmXG4gICAgICB9XG4gICAgKSA6IGVsZW07XG4gIH0pKTtcbiAgcmV0dXJuIHJlZiA/IFtyZW5kZXJUcmFuc2l0aW9ucywgcmVmXSA6IHJlbmRlclRyYW5zaXRpb25zO1xufVxudmFyIG5leHRLZXkgPSAxO1xuZnVuY3Rpb24gZ2V0S2V5cyhpdGVtcywgeyBrZXksIGtleXMgPSBrZXkgfSwgcHJldlRyYW5zaXRpb25zKSB7XG4gIGlmIChrZXlzID09PSBudWxsKSB7XG4gICAgY29uc3QgcmV1c2VkID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICByZXR1cm4gaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0ID0gcHJldlRyYW5zaXRpb25zICYmIHByZXZUcmFuc2l0aW9ucy5maW5kKFxuICAgICAgICAodDIpID0+IHQyLml0ZW0gPT09IGl0ZW0gJiYgdDIucGhhc2UgIT09IFwibGVhdmVcIiAvKiBMRUFWRSAqLyAmJiAhcmV1c2VkLmhhcyh0MilcbiAgICAgICk7XG4gICAgICBpZiAodCkge1xuICAgICAgICByZXVzZWQuYWRkKHQpO1xuICAgICAgICByZXR1cm4gdC5rZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dEtleSsrO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBpczExLnVuZChrZXlzKSA/IGl0ZW1zIDogaXMxMS5mdW4oa2V5cykgPyBpdGVtcy5tYXAoa2V5cykgOiB0b0FycmF5NChrZXlzKTtcbn1cblxuLy8gc3JjL2hvb2tzL3VzZVNjcm9sbC50c1xuaW1wb3J0IHsgZWFjaCBhcyBlYWNoOCwgb25TY3JvbGwsIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDUgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciB1c2VTY3JvbGwgPSAoe1xuICBjb250YWluZXIsXG4gIC4uLnNwcmluZ09wdGlvbnNcbn0gPSB7fSkgPT4ge1xuICBjb25zdCBbc2Nyb2xsVmFsdWVzLCBhcGldID0gdXNlU3ByaW5nKFxuICAgICgpID0+ICh7XG4gICAgICBzY3JvbGxYOiAwLFxuICAgICAgc2Nyb2xsWTogMCxcbiAgICAgIHNjcm9sbFhQcm9ncmVzczogMCxcbiAgICAgIHNjcm9sbFlQcm9ncmVzczogMCxcbiAgICAgIC4uLnNwcmluZ09wdGlvbnNcbiAgICB9KSxcbiAgICBbXVxuICApO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NSgoKSA9PiB7XG4gICAgY29uc3QgY2xlYW51cFNjcm9sbCA9IG9uU2Nyb2xsKFxuICAgICAgKHsgeCwgeSB9KSA9PiB7XG4gICAgICAgIGFwaS5zdGFydCh7XG4gICAgICAgICAgc2Nyb2xsWDogeC5jdXJyZW50LFxuICAgICAgICAgIHNjcm9sbFhQcm9ncmVzczogeC5wcm9ncmVzcyxcbiAgICAgICAgICBzY3JvbGxZOiB5LmN1cnJlbnQsXG4gICAgICAgICAgc2Nyb2xsWVByb2dyZXNzOiB5LnByb2dyZXNzXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHsgY29udGFpbmVyOiBjb250YWluZXI/LmN1cnJlbnQgfHwgdm9pZCAwIH1cbiAgICApO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlYWNoOChPYmplY3QudmFsdWVzKHNjcm9sbFZhbHVlcyksICh2YWx1ZSkgPT4gdmFsdWUuc3RvcCgpKTtcbiAgICAgIGNsZWFudXBTY3JvbGwoKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBzY3JvbGxWYWx1ZXM7XG59O1xuXG4vLyBzcmMvaG9va3MvdXNlUmVzaXplLnRzXG5pbXBvcnQgeyBvblJlc2l6ZSwgZWFjaCBhcyBlYWNoOSwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIHVzZVJlc2l6ZSA9ICh7XG4gIGNvbnRhaW5lcixcbiAgLi4uc3ByaW5nT3B0aW9uc1xufSkgPT4ge1xuICBjb25zdCBbc2l6ZVZhbHVlcywgYXBpXSA9IHVzZVNwcmluZyhcbiAgICAoKSA9PiAoe1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICAuLi5zcHJpbmdPcHRpb25zXG4gICAgfSksXG4gICAgW11cbiAgKTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDYoKCkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXBTY3JvbGwgPSBvblJlc2l6ZShcbiAgICAgICh7IHdpZHRoLCBoZWlnaHQgfSkgPT4ge1xuICAgICAgICBhcGkuc3RhcnQoe1xuICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICBpbW1lZGlhdGU6IHNpemVWYWx1ZXMud2lkdGguZ2V0KCkgPT09IDAgfHwgc2l6ZVZhbHVlcy5oZWlnaHQuZ2V0KCkgPT09IDBcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgeyBjb250YWluZXI6IGNvbnRhaW5lcj8uY3VycmVudCB8fCB2b2lkIDAgfVxuICAgICk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGVhY2g5KE9iamVjdC52YWx1ZXMoc2l6ZVZhbHVlcyksICh2YWx1ZSkgPT4gdmFsdWUuc3RvcCgpKTtcbiAgICAgIGNsZWFudXBTY3JvbGwoKTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHJldHVybiBzaXplVmFsdWVzO1xufTtcblxuLy8gc3JjL2hvb2tzL3VzZUluVmlldy50c1xuaW1wb3J0IHsgdXNlUmVmIGFzIHVzZVJlZjMsIHVzZVN0YXRlIGFzIHVzZVN0YXRlMiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgaXMgYXMgaXMxMiwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCBhcyB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0NyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIGRlZmF1bHRUaHJlc2hvbGRPcHRpb25zID0ge1xuICBhbnk6IDAsXG4gIGFsbDogMVxufTtcbmZ1bmN0aW9uIHVzZUluVmlldyhwcm9wcywgYXJncykge1xuICBjb25zdCBbaXNJblZpZXcsIHNldElzSW5WaWV3XSA9IHVzZVN0YXRlMihmYWxzZSk7XG4gIGNvbnN0IHJlZiA9IHVzZVJlZjMoKTtcbiAgY29uc3QgcHJvcHNGbiA9IGlzMTIuZnVuKHByb3BzKSAmJiBwcm9wcztcbiAgY29uc3Qgc3ByaW5nc1Byb3BzID0gcHJvcHNGbiA/IHByb3BzRm4oKSA6IHt9O1xuICBjb25zdCB7IHRvOiB0bzIgPSB7fSwgZnJvbSA9IHt9LCAuLi5yZXN0U3ByaW5nUHJvcHMgfSA9IHNwcmluZ3NQcm9wcztcbiAgY29uc3QgaW50ZXJzZWN0aW9uQXJndW1lbnRzID0gcHJvcHNGbiA/IGFyZ3MgOiBwcm9wcztcbiAgY29uc3QgW3NwcmluZ3MsIGFwaV0gPSB1c2VTcHJpbmcoKCkgPT4gKHsgZnJvbSwgLi4ucmVzdFNwcmluZ1Byb3BzIH0pLCBbXSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q3KCgpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gcmVmLmN1cnJlbnQ7XG4gICAgY29uc3Qge1xuICAgICAgcm9vdCxcbiAgICAgIG9uY2UsXG4gICAgICBhbW91bnQgPSBcImFueVwiLFxuICAgICAgLi4ucmVzdEFyZ3NcbiAgICB9ID0gaW50ZXJzZWN0aW9uQXJndW1lbnRzID8/IHt9O1xuICAgIGlmICghZWxlbWVudCB8fCBvbmNlICYmIGlzSW5WaWV3IHx8IHR5cGVvZiBJbnRlcnNlY3Rpb25PYnNlcnZlciA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBhY3RpdmVJbnRlcnNlY3Rpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG4gICAgY29uc3Qgb25FbnRlciA9ICgpID0+IHtcbiAgICAgIGlmICh0bzIpIHtcbiAgICAgICAgYXBpLnN0YXJ0KHRvMik7XG4gICAgICB9XG4gICAgICBzZXRJc0luVmlldyh0cnVlKTtcbiAgICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XG4gICAgICAgIGlmIChmcm9tKSB7XG4gICAgICAgICAgYXBpLnN0YXJ0KGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIHNldElzSW5WaWV3KGZhbHNlKTtcbiAgICAgIH07XG4gICAgICByZXR1cm4gb25jZSA/IHZvaWQgMCA6IGNsZWFudXA7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVJbnRlcnNlY3Rpb24gPSAoZW50cmllcykgPT4ge1xuICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgICAgICBjb25zdCBvbkxlYXZlID0gYWN0aXZlSW50ZXJzZWN0aW9ucy5nZXQoZW50cnkudGFyZ2V0KTtcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nID09PSBCb29sZWFuKG9uTGVhdmUpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgIGNvbnN0IG5ld09uTGVhdmUgPSBvbkVudGVyKCk7XG4gICAgICAgICAgaWYgKGlzMTIuZnVuKG5ld09uTGVhdmUpKSB7XG4gICAgICAgICAgICBhY3RpdmVJbnRlcnNlY3Rpb25zLnNldChlbnRyeS50YXJnZXQsIG5ld09uTGVhdmUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob25MZWF2ZSkge1xuICAgICAgICAgIG9uTGVhdmUoKTtcbiAgICAgICAgICBhY3RpdmVJbnRlcnNlY3Rpb25zLmRlbGV0ZShlbnRyeS50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGhhbmRsZUludGVyc2VjdGlvbiwge1xuICAgICAgcm9vdDogcm9vdCAmJiByb290LmN1cnJlbnQgfHwgdm9pZCAwLFxuICAgICAgdGhyZXNob2xkOiB0eXBlb2YgYW1vdW50ID09PSBcIm51bWJlclwiIHx8IEFycmF5LmlzQXJyYXkoYW1vdW50KSA/IGFtb3VudCA6IGRlZmF1bHRUaHJlc2hvbGRPcHRpb25zW2Ftb3VudF0sXG4gICAgICAuLi5yZXN0QXJnc1xuICAgIH0pO1xuICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgcmV0dXJuICgpID0+IG9ic2VydmVyLnVub2JzZXJ2ZShlbGVtZW50KTtcbiAgfSwgW2ludGVyc2VjdGlvbkFyZ3VtZW50c10pO1xuICBpZiAocHJvcHNGbikge1xuICAgIHJldHVybiBbcmVmLCBzcHJpbmdzXTtcbiAgfVxuICByZXR1cm4gW3JlZiwgaXNJblZpZXddO1xufVxuXG4vLyBzcmMvY29tcG9uZW50cy9TcHJpbmcudHN4XG5mdW5jdGlvbiBTcHJpbmcoeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSkge1xuICByZXR1cm4gY2hpbGRyZW4odXNlU3ByaW5nKHByb3BzKSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL1RyYWlsLnRzeFxuaW1wb3J0IHsgaXMgYXMgaXMxMyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuZnVuY3Rpb24gVHJhaWwoe1xuICBpdGVtcyxcbiAgY2hpbGRyZW4sXG4gIC4uLnByb3BzXG59KSB7XG4gIGNvbnN0IHRyYWlscyA9IHVzZVRyYWlsKGl0ZW1zLmxlbmd0aCwgcHJvcHMpO1xuICByZXR1cm4gaXRlbXMubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGNoaWxkcmVuKGl0ZW0sIGluZGV4KTtcbiAgICByZXR1cm4gaXMxMy5mdW4ocmVzdWx0KSA/IHJlc3VsdCh0cmFpbHNbaW5kZXhdKSA6IHJlc3VsdDtcbiAgfSk7XG59XG5cbi8vIHNyYy9jb21wb25lbnRzL1RyYW5zaXRpb24udHN4XG5mdW5jdGlvbiBUcmFuc2l0aW9uKHtcbiAgaXRlbXMsXG4gIGNoaWxkcmVuLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gdXNlVHJhbnNpdGlvbihpdGVtcywgcHJvcHMpKGNoaWxkcmVuKTtcbn1cblxuLy8gc3JjL2ludGVycG9sYXRlLnRzXG5pbXBvcnQgeyBkZXByZWNhdGVJbnRlcnBvbGF0ZSBhcyBkZXByZWNhdGVJbnRlcnBvbGF0ZTIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcblxuLy8gc3JjL0ludGVycG9sYXRpb24udHNcbmltcG9ydCB7XG4gIGlzIGFzIGlzMTQsXG4gIHJhZiBhcyByYWY1LFxuICBlYWNoIGFzIGVhY2gxMCxcbiAgaXNFcXVhbCBhcyBpc0VxdWFsMixcbiAgdG9BcnJheSBhcyB0b0FycmF5NSxcbiAgZnJhbWVMb29wIGFzIGZyYW1lTG9vcDMsXG4gIGdldEZsdWlkVmFsdWUgYXMgZ2V0Rmx1aWRWYWx1ZTMsXG4gIGNyZWF0ZUludGVycG9sYXRvcixcbiAgR2xvYmFscyBhcyBHNixcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzIGFzIGNhbGxGbHVpZE9ic2VydmVyczMsXG4gIGFkZEZsdWlkT2JzZXJ2ZXIgYXMgYWRkRmx1aWRPYnNlcnZlcjMsXG4gIHJlbW92ZUZsdWlkT2JzZXJ2ZXIgYXMgcmVtb3ZlRmx1aWRPYnNlcnZlcjIsXG4gIGhhc0ZsdWlkVmFsdWUgYXMgaGFzRmx1aWRWYWx1ZTJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5pbXBvcnQge1xuICBnZXRBbmltYXRlZCBhcyBnZXRBbmltYXRlZDMsXG4gIHNldEFuaW1hdGVkIGFzIHNldEFuaW1hdGVkMixcbiAgZ2V0QW5pbWF0ZWRUeXBlIGFzIGdldEFuaW1hdGVkVHlwZTIsXG4gIGdldFBheWxvYWQgYXMgZ2V0UGF5bG9hZDJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvYW5pbWF0ZWRcIjtcbnZhciBJbnRlcnBvbGF0aW9uID0gY2xhc3MgZXh0ZW5kcyBGcmFtZVZhbHVlIHtcbiAgY29uc3RydWN0b3Ioc291cmNlLCBhcmdzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAvKiogRXF1YWxzIGZhbHNlIHdoZW4gaW4gdGhlIGZyYW1lbG9vcCAqL1xuICAgIHRoaXMuaWRsZSA9IHRydWU7XG4gICAgLyoqIFRoZSBpbnB1dHMgd2hpY2ggYXJlIGN1cnJlbnRseSBhbmltYXRpbmcgKi9cbiAgICB0aGlzLl9hY3RpdmUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHRoaXMuY2FsYyA9IGNyZWF0ZUludGVycG9sYXRvciguLi5hcmdzKTtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX2dldCgpO1xuICAgIGNvbnN0IG5vZGVUeXBlID0gZ2V0QW5pbWF0ZWRUeXBlMih2YWx1ZSk7XG4gICAgc2V0QW5pbWF0ZWQyKHRoaXMsIG5vZGVUeXBlLmNyZWF0ZSh2YWx1ZSkpO1xuICB9XG4gIGFkdmFuY2UoX2R0KSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLl9nZXQoKTtcbiAgICBjb25zdCBvbGRWYWx1ZSA9IHRoaXMuZ2V0KCk7XG4gICAgaWYgKCFpc0VxdWFsMih2YWx1ZSwgb2xkVmFsdWUpKSB7XG4gICAgICBnZXRBbmltYXRlZDModGhpcykuc2V0VmFsdWUodmFsdWUpO1xuICAgICAgdGhpcy5fb25DaGFuZ2UodmFsdWUsIHRoaXMuaWRsZSk7XG4gICAgfVxuICAgIGlmICghdGhpcy5pZGxlICYmIGNoZWNrSWRsZSh0aGlzLl9hY3RpdmUpKSB7XG4gICAgICBiZWNvbWVJZGxlKHRoaXMpO1xuICAgIH1cbiAgfVxuICBfZ2V0KCkge1xuICAgIGNvbnN0IGlucHV0cyA9IGlzMTQuYXJyKHRoaXMuc291cmNlKSA/IHRoaXMuc291cmNlLm1hcChnZXRGbHVpZFZhbHVlMykgOiB0b0FycmF5NShnZXRGbHVpZFZhbHVlMyh0aGlzLnNvdXJjZSkpO1xuICAgIHJldHVybiB0aGlzLmNhbGMoLi4uaW5wdXRzKTtcbiAgfVxuICBfc3RhcnQoKSB7XG4gICAgaWYgKHRoaXMuaWRsZSAmJiAhY2hlY2tJZGxlKHRoaXMuX2FjdGl2ZSkpIHtcbiAgICAgIHRoaXMuaWRsZSA9IGZhbHNlO1xuICAgICAgZWFjaDEwKGdldFBheWxvYWQyKHRoaXMpLCAobm9kZSkgPT4ge1xuICAgICAgICBub2RlLmRvbmUgPSBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKEc2LnNraXBBbmltYXRpb24pIHtcbiAgICAgICAgcmFmNS5iYXRjaGVkVXBkYXRlcygoKSA9PiB0aGlzLmFkdmFuY2UoKSk7XG4gICAgICAgIGJlY29tZUlkbGUodGhpcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmcmFtZUxvb3AzLnN0YXJ0KHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBPYnNlcnZlIG91ciBzb3VyY2VzIG9ubHkgd2hlbiB3ZSdyZSBvYnNlcnZlZC5cbiAgX2F0dGFjaCgpIHtcbiAgICBsZXQgcHJpb3JpdHkgPSAxO1xuICAgIGVhY2gxMCh0b0FycmF5NSh0aGlzLnNvdXJjZSksIChzb3VyY2UpID0+IHtcbiAgICAgIGlmIChoYXNGbHVpZFZhbHVlMihzb3VyY2UpKSB7XG4gICAgICAgIGFkZEZsdWlkT2JzZXJ2ZXIzKHNvdXJjZSwgdGhpcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXNGcmFtZVZhbHVlKHNvdXJjZSkpIHtcbiAgICAgICAgaWYgKCFzb3VyY2UuaWRsZSkge1xuICAgICAgICAgIHRoaXMuX2FjdGl2ZS5hZGQoc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBwcmlvcml0eSA9IE1hdGgubWF4KHByaW9yaXR5LCBzb3VyY2UucHJpb3JpdHkgKyAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgdGhpcy5fc3RhcnQoKTtcbiAgfVxuICAvLyBTdG9wIG9ic2VydmluZyBvdXIgc291cmNlcyBvbmNlIHdlIGhhdmUgbm8gb2JzZXJ2ZXJzLlxuICBfZGV0YWNoKCkge1xuICAgIGVhY2gxMCh0b0FycmF5NSh0aGlzLnNvdXJjZSksIChzb3VyY2UpID0+IHtcbiAgICAgIGlmIChoYXNGbHVpZFZhbHVlMihzb3VyY2UpKSB7XG4gICAgICAgIHJlbW92ZUZsdWlkT2JzZXJ2ZXIyKHNvdXJjZSwgdGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5fYWN0aXZlLmNsZWFyKCk7XG4gICAgYmVjb21lSWRsZSh0aGlzKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICBpZiAoZXZlbnQuaWRsZSkge1xuICAgICAgICB0aGlzLmFkdmFuY2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2FjdGl2ZS5hZGQoZXZlbnQucGFyZW50KTtcbiAgICAgICAgdGhpcy5fc3RhcnQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJpZGxlXCIpIHtcbiAgICAgIHRoaXMuX2FjdGl2ZS5kZWxldGUoZXZlbnQucGFyZW50KTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT0gXCJwcmlvcml0eVwiKSB7XG4gICAgICB0aGlzLnByaW9yaXR5ID0gdG9BcnJheTUodGhpcy5zb3VyY2UpLnJlZHVjZShcbiAgICAgICAgKGhpZ2hlc3QsIHBhcmVudCkgPT4gTWF0aC5tYXgoaGlnaGVzdCwgKGlzRnJhbWVWYWx1ZShwYXJlbnQpID8gcGFyZW50LnByaW9yaXR5IDogMCkgKyAxKSxcbiAgICAgICAgMFxuICAgICAgKTtcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBpc0lkbGUoc291cmNlKSB7XG4gIHJldHVybiBzb3VyY2UuaWRsZSAhPT0gZmFsc2U7XG59XG5mdW5jdGlvbiBjaGVja0lkbGUoYWN0aXZlKSB7XG4gIHJldHVybiAhYWN0aXZlLnNpemUgfHwgQXJyYXkuZnJvbShhY3RpdmUpLmV2ZXJ5KGlzSWRsZSk7XG59XG5mdW5jdGlvbiBiZWNvbWVJZGxlKHNlbGYpIHtcbiAgaWYgKCFzZWxmLmlkbGUpIHtcbiAgICBzZWxmLmlkbGUgPSB0cnVlO1xuICAgIGVhY2gxMChnZXRQYXlsb2FkMihzZWxmKSwgKG5vZGUpID0+IHtcbiAgICAgIG5vZGUuZG9uZSA9IHRydWU7XG4gICAgfSk7XG4gICAgY2FsbEZsdWlkT2JzZXJ2ZXJzMyhzZWxmLCB7XG4gICAgICB0eXBlOiBcImlkbGVcIixcbiAgICAgIHBhcmVudDogc2VsZlxuICAgIH0pO1xuICB9XG59XG5cbi8vIHNyYy9pbnRlcnBvbGF0ZS50c1xudmFyIHRvID0gKHNvdXJjZSwgLi4uYXJncykgPT4gbmV3IEludGVycG9sYXRpb24oc291cmNlLCBhcmdzKTtcbnZhciBpbnRlcnBvbGF0ZSA9IChzb3VyY2UsIC4uLmFyZ3MpID0+IChkZXByZWNhdGVJbnRlcnBvbGF0ZTIoKSwgbmV3IEludGVycG9sYXRpb24oc291cmNlLCBhcmdzKSk7XG5cbi8vIHNyYy9nbG9iYWxzLnRzXG5pbXBvcnQge1xuICBHbG9iYWxzLFxuICBmcmFtZUxvb3AgYXMgZnJhbWVMb29wNCxcbiAgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuR2xvYmFscy5hc3NpZ24oe1xuICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsXG4gIHRvOiAoc291cmNlLCBhcmdzKSA9PiBuZXcgSW50ZXJwb2xhdGlvbihzb3VyY2UsIGFyZ3MpXG59KTtcbnZhciB1cGRhdGUgPSBmcmFtZUxvb3A0LmFkdmFuY2U7XG5cbi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHtcbiAgY3JlYXRlSW50ZXJwb2xhdG9yIGFzIGNyZWF0ZUludGVycG9sYXRvcjIsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QgYXMgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdDgsXG4gIHVzZVJlZHVjZWRNb3Rpb24sXG4gIGVhc2luZ3MgYXMgZWFzaW5nczJcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5leHBvcnQgKiBmcm9tIFwiQHJlYWN0LXNwcmluZy90eXBlc1wiO1xuZXhwb3J0IHtcbiAgQmFpbFNpZ25hbCxcbiAgQ29udHJvbGxlcixcbiAgRnJhbWVWYWx1ZSxcbiAgR2xvYmFscyxcbiAgSW50ZXJwb2xhdGlvbixcbiAgU3ByaW5nLFxuICBTcHJpbmdDb250ZXh0LFxuICBTcHJpbmdSZWYsXG4gIFNwcmluZ1ZhbHVlLFxuICBUcmFpbCxcbiAgVHJhbnNpdGlvbixcbiAgY29uZmlnLFxuICBjcmVhdGVJbnRlcnBvbGF0b3IyIGFzIGNyZWF0ZUludGVycG9sYXRvcixcbiAgZWFzaW5nczIgYXMgZWFzaW5ncyxcbiAgaW5mZXJUbyxcbiAgaW50ZXJwb2xhdGUsXG4gIHRvLFxuICB1cGRhdGUsXG4gIHVzZUNoYWluLFxuICB1c2VJblZpZXcsXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q4IGFzIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QsXG4gIHVzZVJlZHVjZWRNb3Rpb24sXG4gIHVzZVJlc2l6ZSxcbiAgdXNlU2Nyb2xsLFxuICB1c2VTcHJpbmcsXG4gIHVzZVNwcmluZ1JlZixcbiAgdXNlU3ByaW5nVmFsdWUsXG4gIHVzZVNwcmluZ3MsXG4gIHVzZVRyYWlsLFxuICB1c2VUcmFuc2l0aW9uXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVhY3Qtc3ByaW5nX2NvcmUubW9kZXJuLm1qcy5tYXAiLAogICAgIi8vIHNyYy9BbmltYXRlZC50c1xuaW1wb3J0IHsgZGVmaW5lSGlkZGVuIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG52YXIgJG5vZGUgPSBTeW1ib2wuZm9yKFwiQW5pbWF0ZWQ6bm9kZVwiKTtcbnZhciBpc0FuaW1hdGVkID0gKHZhbHVlKSA9PiAhIXZhbHVlICYmIHZhbHVlWyRub2RlXSA9PT0gdmFsdWU7XG52YXIgZ2V0QW5pbWF0ZWQgPSAob3duZXIpID0+IG93bmVyICYmIG93bmVyWyRub2RlXTtcbnZhciBzZXRBbmltYXRlZCA9IChvd25lciwgbm9kZSkgPT4gZGVmaW5lSGlkZGVuKG93bmVyLCAkbm9kZSwgbm9kZSk7XG52YXIgZ2V0UGF5bG9hZCA9IChvd25lcikgPT4gb3duZXIgJiYgb3duZXJbJG5vZGVdICYmIG93bmVyWyRub2RlXS5nZXRQYXlsb2FkKCk7XG52YXIgQW5pbWF0ZWQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHNldEFuaW1hdGVkKHRoaXMsIHRoaXMpO1xuICB9XG4gIC8qKiBHZXQgZXZlcnkgYEFuaW1hdGVkVmFsdWVgIHVzZWQgYnkgdGhpcyBub2RlLiAqL1xuICBnZXRQYXlsb2FkKCkge1xuICAgIHJldHVybiB0aGlzLnBheWxvYWQgfHwgW107XG4gIH1cbn07XG5cbi8vIHNyYy9BbmltYXRlZFZhbHVlLnRzXG5pbXBvcnQgeyBpcyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIEFuaW1hdGVkVmFsdWUgPSBjbGFzcyBleHRlbmRzIEFuaW1hdGVkIHtcbiAgY29uc3RydWN0b3IoX3ZhbHVlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl92YWx1ZSA9IF92YWx1ZTtcbiAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgIHRoaXMuZHVyYXRpb25Qcm9ncmVzcyA9IDA7XG4gICAgaWYgKGlzLm51bSh0aGlzLl92YWx1ZSkpIHtcbiAgICAgIHRoaXMubGFzdFBvc2l0aW9uID0gdGhpcy5fdmFsdWU7XG4gICAgfVxuICB9XG4gIC8qKiBAaW50ZXJuYWwgKi9cbiAgc3RhdGljIGNyZWF0ZSh2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRWYWx1ZSh2YWx1ZSk7XG4gIH1cbiAgZ2V0UGF5bG9hZCgpIHtcbiAgICByZXR1cm4gW3RoaXNdO1xuICB9XG4gIGdldFZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLl92YWx1ZTtcbiAgfVxuICBzZXRWYWx1ZSh2YWx1ZSwgc3RlcCkge1xuICAgIGlmIChpcy5udW0odmFsdWUpKSB7XG4gICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHZhbHVlO1xuICAgICAgaWYgKHN0ZXApIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlIC8gc3RlcCkgKiBzdGVwO1xuICAgICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgICAgdGhpcy5sYXN0UG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5fdmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgcmVzZXQoKSB7XG4gICAgY29uc3QgeyBkb25lIH0gPSB0aGlzO1xuICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgIGlmIChpcy5udW0odGhpcy5fdmFsdWUpKSB7XG4gICAgICB0aGlzLmVsYXBzZWRUaW1lID0gMDtcbiAgICAgIHRoaXMuZHVyYXRpb25Qcm9ncmVzcyA9IDA7XG4gICAgICB0aGlzLmxhc3RQb3NpdGlvbiA9IHRoaXMuX3ZhbHVlO1xuICAgICAgaWYgKGRvbmUpXG4gICAgICAgIHRoaXMubGFzdFZlbG9jaXR5ID0gbnVsbDtcbiAgICAgIHRoaXMudjAgPSBudWxsO1xuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL0FuaW1hdGVkU3RyaW5nLnRzXG5pbXBvcnQgeyBpcyBhcyBpczIsIGNyZWF0ZUludGVycG9sYXRvciB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIEFuaW1hdGVkU3RyaW5nID0gY2xhc3MgZXh0ZW5kcyBBbmltYXRlZFZhbHVlIHtcbiAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICBzdXBlcigwKTtcbiAgICB0aGlzLl9zdHJpbmcgPSBudWxsO1xuICAgIHRoaXMuX3RvU3RyaW5nID0gY3JlYXRlSW50ZXJwb2xhdG9yKHtcbiAgICAgIG91dHB1dDogW3ZhbHVlLCB2YWx1ZV1cbiAgICB9KTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBjcmVhdGUodmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IEFuaW1hdGVkU3RyaW5nKHZhbHVlKTtcbiAgfVxuICBnZXRWYWx1ZSgpIHtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX3N0cmluZztcbiAgICByZXR1cm4gdmFsdWUgPT0gbnVsbCA/IHRoaXMuX3N0cmluZyA9IHRoaXMuX3RvU3RyaW5nKHRoaXMuX3ZhbHVlKSA6IHZhbHVlO1xuICB9XG4gIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKGlzMi5zdHIodmFsdWUpKSB7XG4gICAgICBpZiAodmFsdWUgPT0gdGhpcy5fc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0cmluZyA9IHZhbHVlO1xuICAgICAgdGhpcy5fdmFsdWUgPSAxO1xuICAgIH0gZWxzZSBpZiAoc3VwZXIuc2V0VmFsdWUodmFsdWUpKSB7XG4gICAgICB0aGlzLl9zdHJpbmcgPSBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJlc2V0KGdvYWwpIHtcbiAgICBpZiAoZ29hbCkge1xuICAgICAgdGhpcy5fdG9TdHJpbmcgPSBjcmVhdGVJbnRlcnBvbGF0b3Ioe1xuICAgICAgICBvdXRwdXQ6IFt0aGlzLmdldFZhbHVlKCksIGdvYWxdXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fdmFsdWUgPSAwO1xuICAgIHN1cGVyLnJlc2V0KCk7XG4gIH1cbn07XG5cbi8vIHNyYy9BbmltYXRlZEFycmF5LnRzXG5pbXBvcnQgeyBpc0FuaW1hdGVkU3RyaW5nIH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9BbmltYXRlZE9iamVjdC50c1xuaW1wb3J0IHtcbiAgZWFjaCxcbiAgZWFjaFByb3AsXG4gIGdldEZsdWlkVmFsdWUsXG4gIGhhc0ZsdWlkVmFsdWVcbn0gZnJvbSBcIkByZWFjdC1zcHJpbmcvc2hhcmVkXCI7XG5cbi8vIHNyYy9jb250ZXh0LnRzXG52YXIgVHJlZUNvbnRleHQgPSB7IGRlcGVuZGVuY2llczogbnVsbCB9O1xuXG4vLyBzcmMvQW5pbWF0ZWRPYmplY3QudHNcbnZhciBBbmltYXRlZE9iamVjdCA9IGNsYXNzIGV4dGVuZHMgQW5pbWF0ZWQge1xuICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgIHRoaXMuc2V0VmFsdWUoc291cmNlKTtcbiAgfVxuICBnZXRWYWx1ZShhbmltYXRlZCkge1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIGVhY2hQcm9wKHRoaXMuc291cmNlLCAoc291cmNlLCBrZXkpID0+IHtcbiAgICAgIGlmIChpc0FuaW1hdGVkKHNvdXJjZSkpIHtcbiAgICAgICAgdmFsdWVzW2tleV0gPSBzb3VyY2UuZ2V0VmFsdWUoYW5pbWF0ZWQpO1xuICAgICAgfSBlbHNlIGlmIChoYXNGbHVpZFZhbHVlKHNvdXJjZSkpIHtcbiAgICAgICAgdmFsdWVzW2tleV0gPSBnZXRGbHVpZFZhbHVlKHNvdXJjZSk7XG4gICAgICB9IGVsc2UgaWYgKCFhbmltYXRlZCkge1xuICAgICAgICB2YWx1ZXNba2V5XSA9IHNvdXJjZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdmFsdWVzO1xuICB9XG4gIC8qKiBSZXBsYWNlIHRoZSByYXcgb2JqZWN0IGRhdGEgKi9cbiAgc2V0VmFsdWUoc291cmNlKSB7XG4gICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgdGhpcy5wYXlsb2FkID0gdGhpcy5fbWFrZVBheWxvYWQoc291cmNlKTtcbiAgfVxuICByZXNldCgpIHtcbiAgICBpZiAodGhpcy5wYXlsb2FkKSB7XG4gICAgICBlYWNoKHRoaXMucGF5bG9hZCwgKG5vZGUpID0+IG5vZGUucmVzZXQoKSk7XG4gICAgfVxuICB9XG4gIC8qKiBDcmVhdGUgYSBwYXlsb2FkIHNldC4gKi9cbiAgX21ha2VQYXlsb2FkKHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgZWFjaFByb3Aoc291cmNlLCB0aGlzLl9hZGRUb1BheWxvYWQsIHBheWxvYWQpO1xuICAgICAgcmV0dXJuIEFycmF5LmZyb20ocGF5bG9hZCk7XG4gICAgfVxuICB9XG4gIC8qKiBBZGQgdG8gYSBwYXlsb2FkIHNldC4gKi9cbiAgX2FkZFRvUGF5bG9hZChzb3VyY2UpIHtcbiAgICBpZiAoVHJlZUNvbnRleHQuZGVwZW5kZW5jaWVzICYmIGhhc0ZsdWlkVmFsdWUoc291cmNlKSkge1xuICAgICAgVHJlZUNvbnRleHQuZGVwZW5kZW5jaWVzLmFkZChzb3VyY2UpO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0UGF5bG9hZChzb3VyY2UpO1xuICAgIGlmIChwYXlsb2FkKSB7XG4gICAgICBlYWNoKHBheWxvYWQsIChub2RlKSA9PiB0aGlzLmFkZChub2RlKSk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBzcmMvQW5pbWF0ZWRBcnJheS50c1xudmFyIEFuaW1hdGVkQXJyYXkgPSBjbGFzcyBleHRlbmRzIEFuaW1hdGVkT2JqZWN0IHtcbiAgY29uc3RydWN0b3Ioc291cmNlKSB7XG4gICAgc3VwZXIoc291cmNlKTtcbiAgfVxuICAvKiogQGludGVybmFsICovXG4gIHN0YXRpYyBjcmVhdGUoc291cmNlKSB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZEFycmF5KHNvdXJjZSk7XG4gIH1cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc291cmNlLm1hcCgobm9kZSkgPT4gbm9kZS5nZXRWYWx1ZSgpKTtcbiAgfVxuICBzZXRWYWx1ZShzb3VyY2UpIHtcbiAgICBjb25zdCBwYXlsb2FkID0gdGhpcy5nZXRQYXlsb2FkKCk7XG4gICAgaWYgKHNvdXJjZS5sZW5ndGggPT0gcGF5bG9hZC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBwYXlsb2FkLm1hcCgobm9kZSwgaSkgPT4gbm9kZS5zZXRWYWx1ZShzb3VyY2VbaV0pKS5zb21lKEJvb2xlYW4pO1xuICAgIH1cbiAgICBzdXBlci5zZXRWYWx1ZShzb3VyY2UubWFwKG1ha2VBbmltYXRlZCkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuZnVuY3Rpb24gbWFrZUFuaW1hdGVkKHZhbHVlKSB7XG4gIGNvbnN0IG5vZGVUeXBlID0gaXNBbmltYXRlZFN0cmluZyh2YWx1ZSkgPyBBbmltYXRlZFN0cmluZyA6IEFuaW1hdGVkVmFsdWU7XG4gIHJldHVybiBub2RlVHlwZS5jcmVhdGUodmFsdWUpO1xufVxuXG4vLyBzcmMvZ2V0QW5pbWF0ZWRUeXBlLnRzXG5pbXBvcnQgeyBpcyBhcyBpczMsIGlzQW5pbWF0ZWRTdHJpbmcgYXMgaXNBbmltYXRlZFN0cmluZzIgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmZ1bmN0aW9uIGdldEFuaW1hdGVkVHlwZSh2YWx1ZSkge1xuICBjb25zdCBwYXJlbnROb2RlID0gZ2V0QW5pbWF0ZWQodmFsdWUpO1xuICByZXR1cm4gcGFyZW50Tm9kZSA/IHBhcmVudE5vZGUuY29uc3RydWN0b3IgOiBpczMuYXJyKHZhbHVlKSA/IEFuaW1hdGVkQXJyYXkgOiBpc0FuaW1hdGVkU3RyaW5nMih2YWx1ZSkgPyBBbmltYXRlZFN0cmluZyA6IEFuaW1hdGVkVmFsdWU7XG59XG5cbi8vIHNyYy9jcmVhdGVIb3N0LnRzXG5pbXBvcnQgeyBpcyBhcyBpczUsIGVhY2hQcm9wIGFzIGVhY2hQcm9wMiB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xuXG4vLyBzcmMvd2l0aEFuaW1hdGVkLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7XG4gIGlzIGFzIGlzNCxcbiAgZWFjaCBhcyBlYWNoMixcbiAgcmFmLFxuICB1c2VGb3JjZVVwZGF0ZSxcbiAgdXNlT25jZSxcbiAgYWRkRmx1aWRPYnNlcnZlcixcbiAgcmVtb3ZlRmx1aWRPYnNlcnZlcixcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdFxufSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbnZhciB3aXRoQW5pbWF0ZWQgPSAoQ29tcG9uZW50LCBob3N0KSA9PiB7XG4gIGNvbnN0IGhhc0luc3RhbmNlID0gKFxuICAgIC8vIEZ1bmN0aW9uIGNvbXBvbmVudHMgbXVzdCB1c2UgXCJmb3J3YXJkUmVmXCIgdG8gYXZvaWQgYmVpbmdcbiAgICAvLyByZS1yZW5kZXJlZCBvbiBldmVyeSBhbmltYXRpb24gZnJhbWUuXG4gICAgIWlzNC5mdW4oQ29tcG9uZW50KSB8fCBDb21wb25lbnQucHJvdG90eXBlICYmIENvbXBvbmVudC5wcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudFxuICApO1xuICByZXR1cm4gZm9yd2FyZFJlZigoZ2l2ZW5Qcm9wcywgZ2l2ZW5SZWYpID0+IHtcbiAgICBjb25zdCBpbnN0YW5jZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCByZWYgPSBoYXNJbnN0YW5jZSAmJiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvcnVsZXMtb2YtaG9va3NcbiAgICB1c2VDYWxsYmFjayhcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICBpbnN0YW5jZVJlZi5jdXJyZW50ID0gdXBkYXRlUmVmKGdpdmVuUmVmLCB2YWx1ZSk7XG4gICAgICB9LFxuICAgICAgW2dpdmVuUmVmXVxuICAgICk7XG4gICAgY29uc3QgW3Byb3BzLCBkZXBzXSA9IGdldEFuaW1hdGVkU3RhdGUoZ2l2ZW5Qcm9wcywgaG9zdCk7XG4gICAgY29uc3QgZm9yY2VVcGRhdGUgPSB1c2VGb3JjZVVwZGF0ZSgpO1xuICAgIGNvbnN0IGNhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgY29uc3QgaW5zdGFuY2UgPSBpbnN0YW5jZVJlZi5jdXJyZW50O1xuICAgICAgaWYgKGhhc0luc3RhbmNlICYmICFpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCBkaWRVcGRhdGUgPSBpbnN0YW5jZSA/IGhvc3QuYXBwbHlBbmltYXRlZFZhbHVlcyhpbnN0YW5jZSwgcHJvcHMuZ2V0VmFsdWUodHJ1ZSkpIDogZmFsc2U7XG4gICAgICBpZiAoZGlkVXBkYXRlID09PSBmYWxzZSkge1xuICAgICAgICBmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUHJvcHNPYnNlcnZlcihjYWxsYmFjaywgZGVwcyk7XG4gICAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSB1c2VSZWYoKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQgPSBvYnNlcnZlcjtcbiAgICAgIGVhY2gyKGRlcHMsIChkZXApID0+IGFkZEZsdWlkT2JzZXJ2ZXIoZGVwLCBvYnNlcnZlcikpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKG9ic2VydmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBlYWNoMihcbiAgICAgICAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQuZGVwcyxcbiAgICAgICAgICAgIChkZXApID0+IHJlbW92ZUZsdWlkT2JzZXJ2ZXIoZGVwLCBvYnNlcnZlclJlZi5jdXJyZW50KVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmFmLmNhbmNlbChvYnNlcnZlclJlZi5jdXJyZW50LnVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KGNhbGxiYWNrLCBbXSk7XG4gICAgdXNlT25jZSgoKSA9PiAoKSA9PiB7XG4gICAgICBjb25zdCBvYnNlcnZlcjIgPSBvYnNlcnZlclJlZi5jdXJyZW50O1xuICAgICAgZWFjaDIob2JzZXJ2ZXIyLmRlcHMsIChkZXApID0+IHJlbW92ZUZsdWlkT2JzZXJ2ZXIoZGVwLCBvYnNlcnZlcjIpKTtcbiAgICB9KTtcbiAgICBjb25zdCB1c2VkUHJvcHMgPSBob3N0LmdldENvbXBvbmVudFByb3BzKHByb3BzLmdldFZhbHVlKCkpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHsgLi4udXNlZFByb3BzLCByZWYgfSk7XG4gIH0pO1xufTtcbnZhciBQcm9wc09ic2VydmVyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih1cGRhdGUsIGRlcHMpIHtcbiAgICB0aGlzLnVwZGF0ZSA9IHVwZGF0ZTtcbiAgICB0aGlzLmRlcHMgPSBkZXBzO1xuICB9XG4gIGV2ZW50T2JzZXJ2ZWQoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PSBcImNoYW5nZVwiKSB7XG4gICAgICByYWYud3JpdGUodGhpcy51cGRhdGUpO1xuICAgIH1cbiAgfVxufTtcbmZ1bmN0aW9uIGdldEFuaW1hdGVkU3RhdGUocHJvcHMsIGhvc3QpIHtcbiAgY29uc3QgZGVwZW5kZW5jaWVzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgVHJlZUNvbnRleHQuZGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzO1xuICBpZiAocHJvcHMuc3R5bGUpXG4gICAgcHJvcHMgPSB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHN0eWxlOiBob3N0LmNyZWF0ZUFuaW1hdGVkU3R5bGUocHJvcHMuc3R5bGUpXG4gICAgfTtcbiAgcHJvcHMgPSBuZXcgQW5pbWF0ZWRPYmplY3QocHJvcHMpO1xuICBUcmVlQ29udGV4dC5kZXBlbmRlbmNpZXMgPSBudWxsO1xuICByZXR1cm4gW3Byb3BzLCBkZXBlbmRlbmNpZXNdO1xufVxuZnVuY3Rpb24gdXBkYXRlUmVmKHJlZiwgdmFsdWUpIHtcbiAgaWYgKHJlZikge1xuICAgIGlmIChpczQuZnVuKHJlZikpXG4gICAgICByZWYodmFsdWUpO1xuICAgIGVsc2VcbiAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG4vLyBzcmMvY3JlYXRlSG9zdC50c1xudmFyIGNhY2hlS2V5ID0gU3ltYm9sLmZvcihcIkFuaW1hdGVkQ29tcG9uZW50XCIpO1xudmFyIGNyZWF0ZUhvc3QgPSAoY29tcG9uZW50cywge1xuICBhcHBseUFuaW1hdGVkVmFsdWVzID0gKCkgPT4gZmFsc2UsXG4gIGNyZWF0ZUFuaW1hdGVkU3R5bGUgPSAoc3R5bGUpID0+IG5ldyBBbmltYXRlZE9iamVjdChzdHlsZSksXG4gIGdldENvbXBvbmVudFByb3BzID0gKHByb3BzKSA9PiBwcm9wc1xufSA9IHt9KSA9PiB7XG4gIGNvbnN0IGhvc3RDb25maWcgPSB7XG4gICAgYXBwbHlBbmltYXRlZFZhbHVlcyxcbiAgICBjcmVhdGVBbmltYXRlZFN0eWxlLFxuICAgIGdldENvbXBvbmVudFByb3BzXG4gIH07XG4gIGNvbnN0IGFuaW1hdGVkID0gKENvbXBvbmVudCkgPT4ge1xuICAgIGNvbnN0IGRpc3BsYXlOYW1lID0gZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KSB8fCBcIkFub255bW91c1wiO1xuICAgIGlmIChpczUuc3RyKENvbXBvbmVudCkpIHtcbiAgICAgIENvbXBvbmVudCA9IGFuaW1hdGVkW0NvbXBvbmVudF0gfHwgKGFuaW1hdGVkW0NvbXBvbmVudF0gPSB3aXRoQW5pbWF0ZWQoQ29tcG9uZW50LCBob3N0Q29uZmlnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIENvbXBvbmVudCA9IENvbXBvbmVudFtjYWNoZUtleV0gfHwgKENvbXBvbmVudFtjYWNoZUtleV0gPSB3aXRoQW5pbWF0ZWQoQ29tcG9uZW50LCBob3N0Q29uZmlnKSk7XG4gICAgfVxuICAgIENvbXBvbmVudC5kaXNwbGF5TmFtZSA9IGBBbmltYXRlZCgke2Rpc3BsYXlOYW1lfSlgO1xuICAgIHJldHVybiBDb21wb25lbnQ7XG4gIH07XG4gIGVhY2hQcm9wMihjb21wb25lbnRzLCAoQ29tcG9uZW50LCBrZXkpID0+IHtcbiAgICBpZiAoaXM1LmFycihjb21wb25lbnRzKSkge1xuICAgICAga2V5ID0gZ2V0RGlzcGxheU5hbWUoQ29tcG9uZW50KTtcbiAgICB9XG4gICAgYW5pbWF0ZWRba2V5XSA9IGFuaW1hdGVkKENvbXBvbmVudCk7XG4gIH0pO1xuICByZXR1cm4ge1xuICAgIGFuaW1hdGVkXG4gIH07XG59O1xudmFyIGdldERpc3BsYXlOYW1lID0gKGFyZykgPT4gaXM1LnN0cihhcmcpID8gYXJnIDogYXJnICYmIGlzNS5zdHIoYXJnLmRpc3BsYXlOYW1lKSA/IGFyZy5kaXNwbGF5TmFtZSA6IGlzNS5mdW4oYXJnKSAmJiBhcmcubmFtZSB8fCBudWxsO1xuZXhwb3J0IHtcbiAgQW5pbWF0ZWQsXG4gIEFuaW1hdGVkQXJyYXksXG4gIEFuaW1hdGVkT2JqZWN0LFxuICBBbmltYXRlZFN0cmluZyxcbiAgQW5pbWF0ZWRWYWx1ZSxcbiAgY3JlYXRlSG9zdCxcbiAgZ2V0QW5pbWF0ZWQsXG4gIGdldEFuaW1hdGVkVHlwZSxcbiAgZ2V0UGF5bG9hZCxcbiAgaXNBbmltYXRlZCxcbiAgc2V0QW5pbWF0ZWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1zcHJpbmdfYW5pbWF0ZWQubW9kZXJuLm1qcy5tYXAiLAogICAgIi8vIHNyYy9pbmRleC50c1xuaW1wb3J0IHsgR2xvYmFscyB9IGZyb20gXCJAcmVhY3Qtc3ByaW5nL2NvcmVcIjtcbmltcG9ydCB7IHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzIH0gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHsgY3JlYXRlU3RyaW5nSW50ZXJwb2xhdG9yLCBjb2xvcnMgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9zaGFyZWRcIjtcbmltcG9ydCB7IGNyZWF0ZUhvc3QgfSBmcm9tIFwiQHJlYWN0LXNwcmluZy9hbmltYXRlZFwiO1xuXG4vLyBzcmMvYXBwbHlBbmltYXRlZFZhbHVlcy50c1xudmFyIGlzQ3VzdG9tUHJvcFJFID0gL14tLS87XG5mdW5jdGlvbiBkYW5nZXJvdXNTdHlsZVZhbHVlKG5hbWUsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIgfHwgdmFsdWUgPT09IFwiXCIpXG4gICAgcmV0dXJuIFwiXCI7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgJiYgdmFsdWUgIT09IDAgJiYgIWlzQ3VzdG9tUHJvcFJFLnRlc3QobmFtZSkgJiYgIShpc1VuaXRsZXNzTnVtYmVyLmhhc093blByb3BlcnR5KG5hbWUpICYmIGlzVW5pdGxlc3NOdW1iZXJbbmFtZV0pKVxuICAgIHJldHVybiB2YWx1ZSArIFwicHhcIjtcbiAgcmV0dXJuIChcIlwiICsgdmFsdWUpLnRyaW0oKTtcbn1cbnZhciBhdHRyaWJ1dGVDYWNoZSA9IHt9O1xuZnVuY3Rpb24gYXBwbHlBbmltYXRlZFZhbHVlcyhpbnN0YW5jZSwgcHJvcHMpIHtcbiAgaWYgKCFpbnN0YW5jZS5ub2RlVHlwZSB8fCAhaW5zdGFuY2Uuc2V0QXR0cmlidXRlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGlzRmlsdGVyRWxlbWVudCA9IGluc3RhbmNlLm5vZGVOYW1lID09PSBcImZpbHRlclwiIHx8IGluc3RhbmNlLnBhcmVudE5vZGUgJiYgaW5zdGFuY2UucGFyZW50Tm9kZS5ub2RlTmFtZSA9PT0gXCJmaWx0ZXJcIjtcbiAgY29uc3Qge1xuICAgIGNsYXNzTmFtZSxcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICBzY3JvbGxUb3AsXG4gICAgc2Nyb2xsTGVmdCxcbiAgICB2aWV3Qm94LFxuICAgIC4uLmF0dHJpYnV0ZXNcbiAgfSA9IHByb3BzO1xuICBjb25zdCB2YWx1ZXMgPSBPYmplY3QudmFsdWVzKGF0dHJpYnV0ZXMpO1xuICBjb25zdCBuYW1lcyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLm1hcChcbiAgICAobmFtZSkgPT4gaXNGaWx0ZXJFbGVtZW50IHx8IGluc3RhbmNlLmhhc0F0dHJpYnV0ZShuYW1lKSA/IG5hbWUgOiBhdHRyaWJ1dGVDYWNoZVtuYW1lXSB8fCAoYXR0cmlidXRlQ2FjaGVbbmFtZV0gPSBuYW1lLnJlcGxhY2UoXG4gICAgICAvKFtBLVpdKS9nLFxuICAgICAgLy8gQXR0cmlidXRlcyBhcmUgd3JpdHRlbiBpbiBkYXNoIGNhc2VcbiAgICAgIChuKSA9PiBcIi1cIiArIG4udG9Mb3dlckNhc2UoKVxuICAgICkpXG4gICk7XG4gIGlmIChjaGlsZHJlbiAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2UudGV4dENvbnRlbnQgPSBjaGlsZHJlbjtcbiAgfVxuICBmb3IgKGNvbnN0IG5hbWUgaW4gc3R5bGUpIHtcbiAgICBpZiAoc3R5bGUuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZGFuZ2Vyb3VzU3R5bGVWYWx1ZShuYW1lLCBzdHlsZVtuYW1lXSk7XG4gICAgICBpZiAoaXNDdXN0b21Qcm9wUkUudGVzdChuYW1lKSkge1xuICAgICAgICBpbnN0YW5jZS5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5zdHlsZVtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBuYW1lcy5mb3JFYWNoKChuYW1lLCBpKSA9PiB7XG4gICAgaW5zdGFuY2Uuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlc1tpXSk7XG4gIH0pO1xuICBpZiAoY2xhc3NOYW1lICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gIH1cbiAgaWYgKHNjcm9sbFRvcCAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2Uuc2Nyb2xsVG9wID0gc2Nyb2xsVG9wO1xuICB9XG4gIGlmIChzY3JvbGxMZWZ0ICE9PSB2b2lkIDApIHtcbiAgICBpbnN0YW5jZS5zY3JvbGxMZWZ0ID0gc2Nyb2xsTGVmdDtcbiAgfVxuICBpZiAodmlld0JveCAhPT0gdm9pZCAwKSB7XG4gICAgaW5zdGFuY2Uuc2V0QXR0cmlidXRlKFwidmlld0JveFwiLCB2aWV3Qm94KTtcbiAgfVxufVxudmFyIGlzVW5pdGxlc3NOdW1iZXIgPSB7XG4gIGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiB0cnVlLFxuICBib3JkZXJJbWFnZU91dHNldDogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VTbGljZTogdHJ1ZSxcbiAgYm9yZGVySW1hZ2VXaWR0aDogdHJ1ZSxcbiAgYm94RmxleDogdHJ1ZSxcbiAgYm94RmxleEdyb3VwOiB0cnVlLFxuICBib3hPcmRpbmFsR3JvdXA6IHRydWUsXG4gIGNvbHVtbkNvdW50OiB0cnVlLFxuICBjb2x1bW5zOiB0cnVlLFxuICBmbGV4OiB0cnVlLFxuICBmbGV4R3JvdzogdHJ1ZSxcbiAgZmxleFBvc2l0aXZlOiB0cnVlLFxuICBmbGV4U2hyaW5rOiB0cnVlLFxuICBmbGV4TmVnYXRpdmU6IHRydWUsXG4gIGZsZXhPcmRlcjogdHJ1ZSxcbiAgZ3JpZFJvdzogdHJ1ZSxcbiAgZ3JpZFJvd0VuZDogdHJ1ZSxcbiAgZ3JpZFJvd1NwYW46IHRydWUsXG4gIGdyaWRSb3dTdGFydDogdHJ1ZSxcbiAgZ3JpZENvbHVtbjogdHJ1ZSxcbiAgZ3JpZENvbHVtbkVuZDogdHJ1ZSxcbiAgZ3JpZENvbHVtblNwYW46IHRydWUsXG4gIGdyaWRDb2x1bW5TdGFydDogdHJ1ZSxcbiAgZm9udFdlaWdodDogdHJ1ZSxcbiAgbGluZUNsYW1wOiB0cnVlLFxuICBsaW5lSGVpZ2h0OiB0cnVlLFxuICBvcGFjaXR5OiB0cnVlLFxuICBvcmRlcjogdHJ1ZSxcbiAgb3JwaGFuczogdHJ1ZSxcbiAgdGFiU2l6ZTogdHJ1ZSxcbiAgd2lkb3dzOiB0cnVlLFxuICB6SW5kZXg6IHRydWUsXG4gIHpvb206IHRydWUsXG4gIC8vIFNWRy1yZWxhdGVkIHByb3BlcnRpZXNcbiAgZmlsbE9wYWNpdHk6IHRydWUsXG4gIGZsb29kT3BhY2l0eTogdHJ1ZSxcbiAgc3RvcE9wYWNpdHk6IHRydWUsXG4gIHN0cm9rZURhc2hhcnJheTogdHJ1ZSxcbiAgc3Ryb2tlRGFzaG9mZnNldDogdHJ1ZSxcbiAgc3Ryb2tlTWl0ZXJsaW1pdDogdHJ1ZSxcbiAgc3Ryb2tlT3BhY2l0eTogdHJ1ZSxcbiAgc3Ryb2tlV2lkdGg6IHRydWVcbn07XG52YXIgcHJlZml4S2V5ID0gKHByZWZpeCwga2V5KSA9PiBwcmVmaXggKyBrZXkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBrZXkuc3Vic3RyaW5nKDEpO1xudmFyIHByZWZpeGVzID0gW1wiV2Via2l0XCIsIFwiTXNcIiwgXCJNb3pcIiwgXCJPXCJdO1xuaXNVbml0bGVzc051bWJlciA9IE9iamVjdC5rZXlzKGlzVW5pdGxlc3NOdW1iZXIpLnJlZHVjZSgoYWNjLCBwcm9wKSA9PiB7XG4gIHByZWZpeGVzLmZvckVhY2goKHByZWZpeCkgPT4gYWNjW3ByZWZpeEtleShwcmVmaXgsIHByb3ApXSA9IGFjY1twcm9wXSk7XG4gIHJldHVybiBhY2M7XG59LCBpc1VuaXRsZXNzTnVtYmVyKTtcblxuLy8gc3JjL0FuaW1hdGVkU3R5bGUudHNcbmltcG9ydCB7IEFuaW1hdGVkT2JqZWN0IH0gZnJvbSBcIkByZWFjdC1zcHJpbmcvYW5pbWF0ZWRcIjtcbmltcG9ydCB7XG4gIGlzLFxuICBlYWNoLFxuICB0b0FycmF5LFxuICBlYWNoUHJvcCxcbiAgRmx1aWRWYWx1ZSxcbiAgZ2V0Rmx1aWRWYWx1ZSxcbiAgY2FsbEZsdWlkT2JzZXJ2ZXJzLFxuICBoYXNGbHVpZFZhbHVlLFxuICBhZGRGbHVpZE9ic2VydmVyLFxuICByZW1vdmVGbHVpZE9ic2VydmVyXG59IGZyb20gXCJAcmVhY3Qtc3ByaW5nL3NoYXJlZFwiO1xudmFyIGRvbVRyYW5zZm9ybXMgPSAvXihtYXRyaXh8dHJhbnNsYXRlfHNjYWxlfHJvdGF0ZXxza2V3KS87XG52YXIgcHhUcmFuc2Zvcm1zID0gL14odHJhbnNsYXRlKS87XG52YXIgZGVnVHJhbnNmb3JtcyA9IC9eKHJvdGF0ZXxza2V3KS87XG52YXIgYWRkVW5pdCA9ICh2YWx1ZSwgdW5pdCkgPT4gaXMubnVtKHZhbHVlKSAmJiB2YWx1ZSAhPT0gMCA/IHZhbHVlICsgdW5pdCA6IHZhbHVlO1xudmFyIGlzVmFsdWVJZGVudGl0eSA9ICh2YWx1ZSwgaWQpID0+IGlzLmFycih2YWx1ZSkgPyB2YWx1ZS5ldmVyeSgodikgPT4gaXNWYWx1ZUlkZW50aXR5KHYsIGlkKSkgOiBpcy5udW0odmFsdWUpID8gdmFsdWUgPT09IGlkIDogcGFyc2VGbG9hdCh2YWx1ZSkgPT09IGlkO1xudmFyIEFuaW1hdGVkU3R5bGUgPSBjbGFzcyBleHRlbmRzIEFuaW1hdGVkT2JqZWN0IHtcbiAgY29uc3RydWN0b3IoeyB4LCB5LCB6LCAuLi5zdHlsZSB9KSB7XG4gICAgY29uc3QgaW5wdXRzID0gW107XG4gICAgY29uc3QgdHJhbnNmb3JtcyA9IFtdO1xuICAgIGlmICh4IHx8IHkgfHwgeikge1xuICAgICAgaW5wdXRzLnB1c2goW3ggfHwgMCwgeSB8fCAwLCB6IHx8IDBdKTtcbiAgICAgIHRyYW5zZm9ybXMucHVzaCgoeHl6KSA9PiBbXG4gICAgICAgIGB0cmFuc2xhdGUzZCgke3h5ei5tYXAoKHYpID0+IGFkZFVuaXQodiwgXCJweFwiKSkuam9pbihcIixcIil9KWAsXG4gICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICBpc1ZhbHVlSWRlbnRpdHkoeHl6LCAwKVxuICAgICAgXSk7XG4gICAgfVxuICAgIGVhY2hQcm9wKHN0eWxlLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgaWYgKGtleSA9PT0gXCJ0cmFuc2Zvcm1cIikge1xuICAgICAgICBpbnB1dHMucHVzaChbdmFsdWUgfHwgXCJcIl0pO1xuICAgICAgICB0cmFuc2Zvcm1zLnB1c2goKHRyYW5zZm9ybSkgPT4gW3RyYW5zZm9ybSwgdHJhbnNmb3JtID09PSBcIlwiXSk7XG4gICAgICB9IGVsc2UgaWYgKGRvbVRyYW5zZm9ybXMudGVzdChrZXkpKSB7XG4gICAgICAgIGRlbGV0ZSBzdHlsZVtrZXldO1xuICAgICAgICBpZiAoaXMudW5kKHZhbHVlKSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHVuaXQgPSBweFRyYW5zZm9ybXMudGVzdChrZXkpID8gXCJweFwiIDogZGVnVHJhbnNmb3Jtcy50ZXN0KGtleSkgPyBcImRlZ1wiIDogXCJcIjtcbiAgICAgICAgaW5wdXRzLnB1c2godG9BcnJheSh2YWx1ZSkpO1xuICAgICAgICB0cmFuc2Zvcm1zLnB1c2goXG4gICAgICAgICAga2V5ID09PSBcInJvdGF0ZTNkXCIgPyAoW3gyLCB5MiwgejIsIGRlZ10pID0+IFtcbiAgICAgICAgICAgIGByb3RhdGUzZCgke3gyfSwke3kyfSwke3oyfSwke2FkZFVuaXQoZGVnLCB1bml0KX0pYCxcbiAgICAgICAgICAgIGlzVmFsdWVJZGVudGl0eShkZWcsIDApXG4gICAgICAgICAgXSA6IChpbnB1dCkgPT4gW1xuICAgICAgICAgICAgYCR7a2V5fSgke2lucHV0Lm1hcCgodikgPT4gYWRkVW5pdCh2LCB1bml0KSkuam9pbihcIixcIil9KWAsXG4gICAgICAgICAgICBpc1ZhbHVlSWRlbnRpdHkoaW5wdXQsIGtleS5zdGFydHNXaXRoKFwic2NhbGVcIikgPyAxIDogMClcbiAgICAgICAgICBdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucHV0cy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLnRyYW5zZm9ybSA9IG5ldyBGbHVpZFRyYW5zZm9ybShpbnB1dHMsIHRyYW5zZm9ybXMpO1xuICAgIH1cbiAgICBzdXBlcihzdHlsZSk7XG4gIH1cbn07XG52YXIgRmx1aWRUcmFuc2Zvcm0gPSBjbGFzcyBleHRlbmRzIEZsdWlkVmFsdWUge1xuICBjb25zdHJ1Y3RvcihpbnB1dHMsIHRyYW5zZm9ybXMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuaW5wdXRzID0gaW5wdXRzO1xuICAgIHRoaXMudHJhbnNmb3JtcyA9IHRyYW5zZm9ybXM7XG4gICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuICB9XG4gIGdldCgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgfHwgKHRoaXMuX3ZhbHVlID0gdGhpcy5fZ2V0KCkpO1xuICB9XG4gIF9nZXQoKSB7XG4gICAgbGV0IHRyYW5zZm9ybSA9IFwiXCI7XG4gICAgbGV0IGlkZW50aXR5ID0gdHJ1ZTtcbiAgICBlYWNoKHRoaXMuaW5wdXRzLCAoaW5wdXQsIGkpID0+IHtcbiAgICAgIGNvbnN0IGFyZzEgPSBnZXRGbHVpZFZhbHVlKGlucHV0WzBdKTtcbiAgICAgIGNvbnN0IFt0LCBpZF0gPSB0aGlzLnRyYW5zZm9ybXNbaV0oXG4gICAgICAgIGlzLmFycihhcmcxKSA/IGFyZzEgOiBpbnB1dC5tYXAoZ2V0Rmx1aWRWYWx1ZSlcbiAgICAgICk7XG4gICAgICB0cmFuc2Zvcm0gKz0gXCIgXCIgKyB0O1xuICAgICAgaWRlbnRpdHkgPSBpZGVudGl0eSAmJiBpZDtcbiAgICB9KTtcbiAgICByZXR1cm4gaWRlbnRpdHkgPyBcIm5vbmVcIiA6IHRyYW5zZm9ybTtcbiAgfVxuICAvLyBTdGFydCBvYnNlcnZpbmcgb3VyIGlucHV0cyBvbmNlIHdlIGhhdmUgYW4gb2JzZXJ2ZXIuXG4gIG9ic2VydmVyQWRkZWQoY291bnQpIHtcbiAgICBpZiAoY291bnQgPT0gMSlcbiAgICAgIGVhY2goXG4gICAgICAgIHRoaXMuaW5wdXRzLFxuICAgICAgICAoaW5wdXQpID0+IGVhY2goXG4gICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgKHZhbHVlKSA9PiBoYXNGbHVpZFZhbHVlKHZhbHVlKSAmJiBhZGRGbHVpZE9ic2VydmVyKHZhbHVlLCB0aGlzKVxuICAgICAgICApXG4gICAgICApO1xuICB9XG4gIC8vIFN0b3Agb2JzZXJ2aW5nIG91ciBpbnB1dHMgb25jZSB3ZSBoYXZlIG5vIG9ic2VydmVycy5cbiAgb2JzZXJ2ZXJSZW1vdmVkKGNvdW50KSB7XG4gICAgaWYgKGNvdW50ID09IDApXG4gICAgICBlYWNoKFxuICAgICAgICB0aGlzLmlucHV0cyxcbiAgICAgICAgKGlucHV0KSA9PiBlYWNoKFxuICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICh2YWx1ZSkgPT4gaGFzRmx1aWRWYWx1ZSh2YWx1ZSkgJiYgcmVtb3ZlRmx1aWRPYnNlcnZlcih2YWx1ZSwgdGhpcylcbiAgICAgICAgKVxuICAgICAgKTtcbiAgfVxuICBldmVudE9ic2VydmVkKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT0gXCJjaGFuZ2VcIikge1xuICAgICAgdGhpcy5fdmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICBjYWxsRmx1aWRPYnNlcnZlcnModGhpcywgZXZlbnQpO1xuICB9XG59O1xuXG4vLyBzcmMvcHJpbWl0aXZlcy50c1xudmFyIHByaW1pdGl2ZXMgPSBbXG4gIFwiYVwiLFxuICBcImFiYnJcIixcbiAgXCJhZGRyZXNzXCIsXG4gIFwiYXJlYVwiLFxuICBcImFydGljbGVcIixcbiAgXCJhc2lkZVwiLFxuICBcImF1ZGlvXCIsXG4gIFwiYlwiLFxuICBcImJhc2VcIixcbiAgXCJiZGlcIixcbiAgXCJiZG9cIixcbiAgXCJiaWdcIixcbiAgXCJibG9ja3F1b3RlXCIsXG4gIFwiYm9keVwiLFxuICBcImJyXCIsXG4gIFwiYnV0dG9uXCIsXG4gIFwiY2FudmFzXCIsXG4gIFwiY2FwdGlvblwiLFxuICBcImNpdGVcIixcbiAgXCJjb2RlXCIsXG4gIFwiY29sXCIsXG4gIFwiY29sZ3JvdXBcIixcbiAgXCJkYXRhXCIsXG4gIFwiZGF0YWxpc3RcIixcbiAgXCJkZFwiLFxuICBcImRlbFwiLFxuICBcImRldGFpbHNcIixcbiAgXCJkZm5cIixcbiAgXCJkaWFsb2dcIixcbiAgXCJkaXZcIixcbiAgXCJkbFwiLFxuICBcImR0XCIsXG4gIFwiZW1cIixcbiAgXCJlbWJlZFwiLFxuICBcImZpZWxkc2V0XCIsXG4gIFwiZmlnY2FwdGlvblwiLFxuICBcImZpZ3VyZVwiLFxuICBcImZvb3RlclwiLFxuICBcImZvcm1cIixcbiAgXCJoMVwiLFxuICBcImgyXCIsXG4gIFwiaDNcIixcbiAgXCJoNFwiLFxuICBcImg1XCIsXG4gIFwiaDZcIixcbiAgXCJoZWFkXCIsXG4gIFwiaGVhZGVyXCIsXG4gIFwiaGdyb3VwXCIsXG4gIFwiaHJcIixcbiAgXCJodG1sXCIsXG4gIFwiaVwiLFxuICBcImlmcmFtZVwiLFxuICBcImltZ1wiLFxuICBcImlucHV0XCIsXG4gIFwiaW5zXCIsXG4gIFwia2JkXCIsXG4gIFwia2V5Z2VuXCIsXG4gIFwibGFiZWxcIixcbiAgXCJsZWdlbmRcIixcbiAgXCJsaVwiLFxuICBcImxpbmtcIixcbiAgXCJtYWluXCIsXG4gIFwibWFwXCIsXG4gIFwibWFya1wiLFxuICBcIm1lbnVcIixcbiAgXCJtZW51aXRlbVwiLFxuICBcIm1ldGFcIixcbiAgXCJtZXRlclwiLFxuICBcIm5hdlwiLFxuICBcIm5vc2NyaXB0XCIsXG4gIFwib2JqZWN0XCIsXG4gIFwib2xcIixcbiAgXCJvcHRncm91cFwiLFxuICBcIm9wdGlvblwiLFxuICBcIm91dHB1dFwiLFxuICBcInBcIixcbiAgXCJwYXJhbVwiLFxuICBcInBpY3R1cmVcIixcbiAgXCJwcmVcIixcbiAgXCJwcm9ncmVzc1wiLFxuICBcInFcIixcbiAgXCJycFwiLFxuICBcInJ0XCIsXG4gIFwicnVieVwiLFxuICBcInNcIixcbiAgXCJzYW1wXCIsXG4gIFwic2NyaXB0XCIsXG4gIFwic2VjdGlvblwiLFxuICBcInNlbGVjdFwiLFxuICBcInNtYWxsXCIsXG4gIFwic291cmNlXCIsXG4gIFwic3BhblwiLFxuICBcInN0cm9uZ1wiLFxuICBcInN0eWxlXCIsXG4gIFwic3ViXCIsXG4gIFwic3VtbWFyeVwiLFxuICBcInN1cFwiLFxuICBcInRhYmxlXCIsXG4gIFwidGJvZHlcIixcbiAgXCJ0ZFwiLFxuICBcInRleHRhcmVhXCIsXG4gIFwidGZvb3RcIixcbiAgXCJ0aFwiLFxuICBcInRoZWFkXCIsXG4gIFwidGltZVwiLFxuICBcInRpdGxlXCIsXG4gIFwidHJcIixcbiAgXCJ0cmFja1wiLFxuICBcInVcIixcbiAgXCJ1bFwiLFxuICBcInZhclwiLFxuICBcInZpZGVvXCIsXG4gIFwid2JyXCIsXG4gIC8vIFNWR1xuICBcImNpcmNsZVwiLFxuICBcImNsaXBQYXRoXCIsXG4gIFwiZGVmc1wiLFxuICBcImVsbGlwc2VcIixcbiAgXCJmb3JlaWduT2JqZWN0XCIsXG4gIFwiZ1wiLFxuICBcImltYWdlXCIsXG4gIFwibGluZVwiLFxuICBcImxpbmVhckdyYWRpZW50XCIsXG4gIFwibWFza1wiLFxuICBcInBhdGhcIixcbiAgXCJwYXR0ZXJuXCIsXG4gIFwicG9seWdvblwiLFxuICBcInBvbHlsaW5lXCIsXG4gIFwicmFkaWFsR3JhZGllbnRcIixcbiAgXCJyZWN0XCIsXG4gIFwic3RvcFwiLFxuICBcInN2Z1wiLFxuICBcInRleHRcIixcbiAgXCJ0c3BhblwiXG5dO1xuXG4vLyBzcmMvaW5kZXgudHNcbmV4cG9ydCAqIGZyb20gXCJAcmVhY3Qtc3ByaW5nL2NvcmVcIjtcbkdsb2JhbHMuYXNzaWduKHtcbiAgYmF0Y2hlZFVwZGF0ZXM6IHVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzLFxuICBjcmVhdGVTdHJpbmdJbnRlcnBvbGF0b3IsXG4gIGNvbG9yc1xufSk7XG52YXIgaG9zdCA9IGNyZWF0ZUhvc3QocHJpbWl0aXZlcywge1xuICBhcHBseUFuaW1hdGVkVmFsdWVzLFxuICBjcmVhdGVBbmltYXRlZFN0eWxlOiAoc3R5bGUpID0+IG5ldyBBbmltYXRlZFN0eWxlKHN0eWxlKSxcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICBnZXRDb21wb25lbnRQcm9wczogKHsgc2Nyb2xsVG9wLCBzY3JvbGxMZWZ0LCAuLi5wcm9wcyB9KSA9PiBwcm9wc1xufSk7XG52YXIgYW5pbWF0ZWQgPSBob3N0LmFuaW1hdGVkO1xuZXhwb3J0IHtcbiAgYW5pbWF0ZWQgYXMgYSxcbiAgYW5pbWF0ZWRcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFjdC1zcHJpbmdfd2ViLm1vZGVybi5tanMubWFwIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXNBcmcsIGFyZ3VtZW50cyk7XG4gIH07XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGJpbmQgZnJvbSAnLi9oZWxwZXJzL2JpbmQuanMnO1xuXG4vLyB1dGlscyBpcyBhIGxpYnJhcnkgb2YgZ2VuZXJpYyBoZWxwZXIgZnVuY3Rpb25zIG5vbi1zcGVjaWZpYyB0byBheGlvc1xuXG5jb25zdCB7dG9TdHJpbmd9ID0gT2JqZWN0LnByb3RvdHlwZTtcbmNvbnN0IHtnZXRQcm90b3R5cGVPZn0gPSBPYmplY3Q7XG5cbmNvbnN0IGtpbmRPZiA9IChjYWNoZSA9PiB0aGluZyA9PiB7XG4gICAgY29uc3Qgc3RyID0gdG9TdHJpbmcuY2FsbCh0aGluZyk7XG4gICAgcmV0dXJuIGNhY2hlW3N0cl0gfHwgKGNhY2hlW3N0cl0gPSBzdHIuc2xpY2UoOCwgLTEpLnRvTG93ZXJDYXNlKCkpO1xufSkoT2JqZWN0LmNyZWF0ZShudWxsKSk7XG5cbmNvbnN0IGtpbmRPZlRlc3QgPSAodHlwZSkgPT4ge1xuICB0eXBlID0gdHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKHRoaW5nKSA9PiBraW5kT2YodGhpbmcpID09PSB0eXBlXG59XG5cbmNvbnN0IHR5cGVPZlRlc3QgPSB0eXBlID0+IHRoaW5nID0+IHR5cGVvZiB0aGluZyA9PT0gdHlwZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBBcnJheVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IHtpc0FycmF5fSA9IEFycmF5O1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIHVuZGVmaW5lZFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzVW5kZWZpbmVkID0gdHlwZU9mVGVzdCgndW5kZWZpbmVkJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCdWZmZXJcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQnVmZmVyLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCdWZmZXIodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgIWlzVW5kZWZpbmVkKHZhbCkgJiYgdmFsLmNvbnN0cnVjdG9yICE9PSBudWxsICYmICFpc1VuZGVmaW5lZCh2YWwuY29uc3RydWN0b3IpXG4gICAgJiYgaXNGdW5jdGlvbih2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIpICYmIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlcih2YWwpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQXJyYXlCdWZmZXIgPSBraW5kT2ZUZXN0KCdBcnJheUJ1ZmZlcicpO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSB2aWV3IG9uIGFuIEFycmF5QnVmZmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIHZpZXcgb24gYW4gQXJyYXlCdWZmZXIsIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyVmlldyh2YWwpIHtcbiAgbGV0IHJlc3VsdDtcbiAgaWYgKCh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnKSAmJiAoQXJyYXlCdWZmZXIuaXNWaWV3KSkge1xuICAgIHJlc3VsdCA9IEFycmF5QnVmZmVyLmlzVmlldyh2YWwpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCA9ICh2YWwpICYmICh2YWwuYnVmZmVyKSAmJiAoaXNBcnJheUJ1ZmZlcih2YWwuYnVmZmVyKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFN0cmluZ1xuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJpbmcsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1N0cmluZyA9IHR5cGVPZlRlc3QoJ3N0cmluZycpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGdW5jdGlvbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzRnVuY3Rpb24gPSB0eXBlT2ZUZXN0KCdmdW5jdGlvbicpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgTnVtYmVyXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzTnVtYmVyID0gdHlwZU9mVGVzdCgnbnVtYmVyJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHsqfSB0aGluZyBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIE9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzT2JqZWN0ID0gKHRoaW5nKSA9PiB0aGluZyAhPT0gbnVsbCAmJiB0eXBlb2YgdGhpbmcgPT09ICdvYmplY3QnO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgQm9vbGVhblxuICpcbiAqIEBwYXJhbSB7Kn0gdGhpbmcgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgQm9vbGVhbiwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzQm9vbGVhbiA9IHRoaW5nID0+IHRoaW5nID09PSB0cnVlIHx8IHRoaW5nID09PSBmYWxzZTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIHBsYWluIE9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBwbGFpbiBPYmplY3QsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc1BsYWluT2JqZWN0ID0gKHZhbCkgPT4ge1xuICBpZiAoa2luZE9mKHZhbCkgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgcHJvdG90eXBlID0gZ2V0UHJvdG90eXBlT2YodmFsKTtcbiAgcmV0dXJuIChwcm90b3R5cGUgPT09IG51bGwgfHwgcHJvdG90eXBlID09PSBPYmplY3QucHJvdG90eXBlIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90b3R5cGUpID09PSBudWxsKSAmJiAhKFN5bWJvbC50b1N0cmluZ1RhZyBpbiB2YWwpICYmICEoU3ltYm9sLml0ZXJhdG9yIGluIHZhbCk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIERhdGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0RhdGUgPSBraW5kT2ZUZXN0KCdEYXRlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEZpbGUsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0ZpbGUgPSBraW5kT2ZUZXN0KCdGaWxlJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIEJsb2IsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Jsb2IgPSBraW5kT2ZUZXN0KCdCbG9iJyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlTGlzdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNGaWxlTGlzdCA9IGtpbmRPZlRlc3QoJ0ZpbGVMaXN0Jyk7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJlYW1cbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgU3RyZWFtLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNTdHJlYW0gPSAodmFsKSA9PiBpc09iamVjdCh2YWwpICYmIGlzRnVuY3Rpb24odmFsLnBpcGUpO1xuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0geyp9IHRoaW5nIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gRm9ybURhdGEsIG90aGVyd2lzZSBmYWxzZVxuICovXG5jb25zdCBpc0Zvcm1EYXRhID0gKHRoaW5nKSA9PiB7XG4gIGxldCBraW5kO1xuICByZXR1cm4gdGhpbmcgJiYgKFxuICAgICh0eXBlb2YgRm9ybURhdGEgPT09ICdmdW5jdGlvbicgJiYgdGhpbmcgaW5zdGFuY2VvZiBGb3JtRGF0YSkgfHwgKFxuICAgICAgaXNGdW5jdGlvbih0aGluZy5hcHBlbmQpICYmIChcbiAgICAgICAgKGtpbmQgPSBraW5kT2YodGhpbmcpKSA9PT0gJ2Zvcm1kYXRhJyB8fFxuICAgICAgICAvLyBkZXRlY3QgZm9ybS1kYXRhIGluc3RhbmNlXG4gICAgICAgIChraW5kID09PSAnb2JqZWN0JyAmJiBpc0Z1bmN0aW9uKHRoaW5nLnRvU3RyaW5nKSAmJiB0aGluZy50b1N0cmluZygpID09PSAnW29iamVjdCBGb3JtRGF0YV0nKVxuICAgICAgKVxuICAgIClcbiAgKVxufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdFxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuY29uc3QgaXNVUkxTZWFyY2hQYXJhbXMgPSBraW5kT2ZUZXN0KCdVUkxTZWFyY2hQYXJhbXMnKTtcblxuY29uc3QgW2lzUmVhZGFibGVTdHJlYW0sIGlzUmVxdWVzdCwgaXNSZXNwb25zZSwgaXNIZWFkZXJzXSA9IFsnUmVhZGFibGVTdHJlYW0nLCAnUmVxdWVzdCcsICdSZXNwb25zZScsICdIZWFkZXJzJ10ubWFwKGtpbmRPZlRlc3QpO1xuXG4vKipcbiAqIFRyaW0gZXhjZXNzIHdoaXRlc3BhY2Ugb2ZmIHRoZSBiZWdpbm5pbmcgYW5kIGVuZCBvZiBhIHN0cmluZ1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIFN0cmluZyB0byB0cmltXG4gKlxuICogQHJldHVybnMge1N0cmluZ30gVGhlIFN0cmluZyBmcmVlZCBvZiBleGNlc3Mgd2hpdGVzcGFjZVxuICovXG5jb25zdCB0cmltID0gKHN0cikgPT4gc3RyLnRyaW0gP1xuICBzdHIudHJpbSgpIDogc3RyLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLCAnJyk7XG5cbi8qKlxuICogSXRlcmF0ZSBvdmVyIGFuIEFycmF5IG9yIGFuIE9iamVjdCBpbnZva2luZyBhIGZ1bmN0aW9uIGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgYG9iamAgaXMgYW4gQXJyYXkgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBpbmRleCwgYW5kIGNvbXBsZXRlIGFycmF5IGZvciBlYWNoIGl0ZW0uXG4gKlxuICogSWYgJ29iaicgaXMgYW4gT2JqZWN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIHBhc3NpbmdcbiAqIHRoZSB2YWx1ZSwga2V5LCBhbmQgY29tcGxldGUgb2JqZWN0IGZvciBlYWNoIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fEFycmF5fSBvYmogVGhlIG9iamVjdCB0byBpdGVyYXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgY2FsbGJhY2sgdG8gaW52b2tlIGZvciBlYWNoIGl0ZW1cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFthbGxPd25LZXlzID0gZmFsc2VdXG4gKiBAcmV0dXJucyB7YW55fVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4sIHthbGxPd25LZXlzID0gZmFsc2V9ID0ge30pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaTtcbiAgbGV0IGw7XG5cbiAgLy8gRm9yY2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgc29tZXRoaW5nIGl0ZXJhYmxlXG4gIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIG9iaiA9IFtvYmpdO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBhcnJheSB2YWx1ZXNcbiAgICBmb3IgKGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGNvbnN0IGtleXMgPSBhbGxPd25LZXlzID8gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKSA6IE9iamVjdC5rZXlzKG9iaik7XG4gICAgY29uc3QgbGVuID0ga2V5cy5sZW5ndGg7XG4gICAgbGV0IGtleTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZEtleShvYmosIGtleSkge1xuICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gIGxldCBpID0ga2V5cy5sZW5ndGg7XG4gIGxldCBfa2V5O1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIF9rZXkgPSBrZXlzW2ldO1xuICAgIGlmIChrZXkgPT09IF9rZXkudG9Mb3dlckNhc2UoKSkge1xuICAgICAgcmV0dXJuIF9rZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5jb25zdCBfZ2xvYmFsID0gKCgpID0+IHtcbiAgLyplc2xpbnQgbm8tdW5kZWY6MCovXG4gIGlmICh0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGdsb2JhbFRoaXM7XG4gIHJldHVybiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpXG59KSgpO1xuXG5jb25zdCBpc0NvbnRleHREZWZpbmVkID0gKGNvbnRleHQpID0+ICFpc1VuZGVmaW5lZChjb250ZXh0KSAmJiBjb250ZXh0ICE9PSBfZ2xvYmFsO1xuXG4vKipcbiAqIEFjY2VwdHMgdmFyYXJncyBleHBlY3RpbmcgZWFjaCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QsIHRoZW5cbiAqIGltbXV0YWJseSBtZXJnZXMgdGhlIHByb3BlcnRpZXMgb2YgZWFjaCBvYmplY3QgYW5kIHJldHVybnMgcmVzdWx0LlxuICpcbiAqIFdoZW4gbXVsdGlwbGUgb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIGtleSB0aGUgbGF0ZXIgb2JqZWN0IGluXG4gKiB0aGUgYXJndW1lbnRzIGxpc3Qgd2lsbCB0YWtlIHByZWNlZGVuY2UuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiBgYGBqc1xuICogdmFyIHJlc3VsdCA9IG1lcmdlKHtmb286IDEyM30sIHtmb286IDQ1Nn0pO1xuICogY29uc29sZS5sb2cocmVzdWx0LmZvbyk7IC8vIG91dHB1dHMgNDU2XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqMSBPYmplY3QgdG8gbWVyZ2VcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIGNvbnN0IHtjYXNlbGVzc30gPSBpc0NvbnRleHREZWZpbmVkKHRoaXMpICYmIHRoaXMgfHwge307XG4gIGNvbnN0IHJlc3VsdCA9IHt9O1xuICBjb25zdCBhc3NpZ25WYWx1ZSA9ICh2YWwsIGtleSkgPT4ge1xuICAgIGNvbnN0IHRhcmdldEtleSA9IGNhc2VsZXNzICYmIGZpbmRLZXkocmVzdWx0LCBrZXkpIHx8IGtleTtcbiAgICBpZiAoaXNQbGFpbk9iamVjdChyZXN1bHRbdGFyZ2V0S2V5XSkgJiYgaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IG1lcmdlKHJlc3VsdFt0YXJnZXRLZXldLCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IG1lcmdlKHt9LCB2YWwpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IHZhbC5zbGljZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRbdGFyZ2V0S2V5XSA9IHZhbDtcbiAgICB9XG4gIH1cblxuICBmb3IgKGxldCBpID0gMCwgbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBhcmd1bWVudHNbaV0gJiYgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBbYWxsT3duS2V5c11cbiAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuY29uc3QgZXh0ZW5kID0gKGEsIGIsIHRoaXNBcmcsIHthbGxPd25LZXlzfT0ge30pID0+IHtcbiAgZm9yRWFjaChiLCAodmFsLCBrZXkpID0+IHtcbiAgICBpZiAodGhpc0FyZyAmJiBpc0Z1bmN0aW9uKHZhbCkpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSwge2FsbE93bktleXN9KTtcbiAgcmV0dXJuIGE7XG59XG5cbi8qKlxuICogUmVtb3ZlIGJ5dGUgb3JkZXIgbWFya2VyLiBUaGlzIGNhdGNoZXMgRUYgQkIgQkYgKHRoZSBVVEYtOCBCT00pXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnQgd2l0aCBCT01cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBjb250ZW50IHZhbHVlIHdpdGhvdXQgQk9NXG4gKi9cbmNvbnN0IHN0cmlwQk9NID0gKGNvbnRlbnQpID0+IHtcbiAgaWYgKGNvbnRlbnQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgY29udGVudCA9IGNvbnRlbnQuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8qKlxuICogSW5oZXJpdCB0aGUgcHJvdG90eXBlIG1ldGhvZHMgZnJvbSBvbmUgY29uc3RydWN0b3IgaW50byBhbm90aGVyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDb25zdHJ1Y3RvclxuICogQHBhcmFtIHtvYmplY3R9IFtwcm9wc11cbiAqIEBwYXJhbSB7b2JqZWN0fSBbZGVzY3JpcHRvcnNdXG4gKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmNvbnN0IGluaGVyaXRzID0gKGNvbnN0cnVjdG9yLCBzdXBlckNvbnN0cnVjdG9yLCBwcm9wcywgZGVzY3JpcHRvcnMpID0+IHtcbiAgY29uc3RydWN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNvbnN0cnVjdG9yLnByb3RvdHlwZSwgZGVzY3JpcHRvcnMpO1xuICBjb25zdHJ1Y3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjb25zdHJ1Y3RvcjtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnN0cnVjdG9yLCAnc3VwZXInLCB7XG4gICAgdmFsdWU6IHN1cGVyQ29uc3RydWN0b3IucHJvdG90eXBlXG4gIH0pO1xuICBwcm9wcyAmJiBPYmplY3QuYXNzaWduKGNvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvcHMpO1xufVxuXG4vKipcbiAqIFJlc29sdmUgb2JqZWN0IHdpdGggZGVlcCBwcm90b3R5cGUgY2hhaW4gdG8gYSBmbGF0IG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZU9iaiBzb3VyY2Ugb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gW2Rlc3RPYmpdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEJvb2xlYW59IFtmaWx0ZXJdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcEZpbHRlcl1cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5jb25zdCB0b0ZsYXRPYmplY3QgPSAoc291cmNlT2JqLCBkZXN0T2JqLCBmaWx0ZXIsIHByb3BGaWx0ZXIpID0+IHtcbiAgbGV0IHByb3BzO1xuICBsZXQgaTtcbiAgbGV0IHByb3A7XG4gIGNvbnN0IG1lcmdlZCA9IHt9O1xuXG4gIGRlc3RPYmogPSBkZXN0T2JqIHx8IHt9O1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXEtbnVsbCxlcWVxZXFcbiAgaWYgKHNvdXJjZU9iaiA9PSBudWxsKSByZXR1cm4gZGVzdE9iajtcblxuICBkbyB7XG4gICAgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhzb3VyY2VPYmopO1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSA+IDApIHtcbiAgICAgIHByb3AgPSBwcm9wc1tpXTtcbiAgICAgIGlmICgoIXByb3BGaWx0ZXIgfHwgcHJvcEZpbHRlcihwcm9wLCBzb3VyY2VPYmosIGRlc3RPYmopKSAmJiAhbWVyZ2VkW3Byb3BdKSB7XG4gICAgICAgIGRlc3RPYmpbcHJvcF0gPSBzb3VyY2VPYmpbcHJvcF07XG4gICAgICAgIG1lcmdlZFtwcm9wXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHNvdXJjZU9iaiA9IGZpbHRlciAhPT0gZmFsc2UgJiYgZ2V0UHJvdG90eXBlT2Yoc291cmNlT2JqKTtcbiAgfSB3aGlsZSAoc291cmNlT2JqICYmICghZmlsdGVyIHx8IGZpbHRlcihzb3VyY2VPYmosIGRlc3RPYmopKSAmJiBzb3VyY2VPYmogIT09IE9iamVjdC5wcm90b3R5cGUpO1xuXG4gIHJldHVybiBkZXN0T2JqO1xufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhIHN0cmluZyBlbmRzIHdpdGggdGhlIGNoYXJhY3RlcnMgb2YgYSBzcGVjaWZpZWQgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtTdHJpbmd9IHNlYXJjaFN0cmluZ1xuICogQHBhcmFtIHtOdW1iZXJ9IFtwb3NpdGlvbj0gMF1cbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuY29uc3QgZW5kc1dpdGggPSAoc3RyLCBzZWFyY2hTdHJpbmcsIHBvc2l0aW9uKSA9PiB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAocG9zaXRpb24gPT09IHVuZGVmaW5lZCB8fCBwb3NpdGlvbiA+IHN0ci5sZW5ndGgpIHtcbiAgICBwb3NpdGlvbiA9IHN0ci5sZW5ndGg7XG4gIH1cbiAgcG9zaXRpb24gLT0gc2VhcmNoU3RyaW5nLmxlbmd0aDtcbiAgY29uc3QgbGFzdEluZGV4ID0gc3RyLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbik7XG4gIHJldHVybiBsYXN0SW5kZXggIT09IC0xICYmIGxhc3RJbmRleCA9PT0gcG9zaXRpb247XG59XG5cblxuLyoqXG4gKiBSZXR1cm5zIG5ldyBhcnJheSBmcm9tIGFycmF5IGxpa2Ugb2JqZWN0IG9yIG51bGwgaWYgZmFpbGVkXG4gKlxuICogQHBhcmFtIHsqfSBbdGhpbmddXG4gKlxuICogQHJldHVybnMgez9BcnJheX1cbiAqL1xuY29uc3QgdG9BcnJheSA9ICh0aGluZykgPT4ge1xuICBpZiAoIXRoaW5nKSByZXR1cm4gbnVsbDtcbiAgaWYgKGlzQXJyYXkodGhpbmcpKSByZXR1cm4gdGhpbmc7XG4gIGxldCBpID0gdGhpbmcubGVuZ3RoO1xuICBpZiAoIWlzTnVtYmVyKGkpKSByZXR1cm4gbnVsbDtcbiAgY29uc3QgYXJyID0gbmV3IEFycmF5KGkpO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGFycltpXSA9IHRoaW5nW2ldO1xuICB9XG4gIHJldHVybiBhcnI7XG59XG5cbi8qKlxuICogQ2hlY2tpbmcgaWYgdGhlIFVpbnQ4QXJyYXkgZXhpc3RzIGFuZCBpZiBpdCBkb2VzLCBpdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBjaGVja3MgaWYgdGhlXG4gKiB0aGluZyBwYXNzZWQgaW4gaXMgYW4gaW5zdGFuY2Ugb2YgVWludDhBcnJheVxuICpcbiAqIEBwYXJhbSB7VHlwZWRBcnJheX1cbiAqXG4gKiBAcmV0dXJucyB7QXJyYXl9XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5jb25zdCBpc1R5cGVkQXJyYXkgPSAoVHlwZWRBcnJheSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiB0aGluZyA9PiB7XG4gICAgcmV0dXJuIFR5cGVkQXJyYXkgJiYgdGhpbmcgaW5zdGFuY2VvZiBUeXBlZEFycmF5O1xuICB9O1xufSkodHlwZW9mIFVpbnQ4QXJyYXkgIT09ICd1bmRlZmluZWQnICYmIGdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpKTtcblxuLyoqXG4gKiBGb3IgZWFjaCBlbnRyeSBpbiB0aGUgb2JqZWN0LCBjYWxsIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBrZXkgYW5kIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0PGFueSwgYW55Pn0gb2JqIC0gVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVudHJ5LlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5jb25zdCBmb3JFYWNoRW50cnkgPSAob2JqLCBmbikgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSBvYmogJiYgb2JqW1N5bWJvbC5pdGVyYXRvcl07XG5cbiAgY29uc3QgaXRlcmF0b3IgPSBnZW5lcmF0b3IuY2FsbChvYmopO1xuXG4gIGxldCByZXN1bHQ7XG5cbiAgd2hpbGUgKChyZXN1bHQgPSBpdGVyYXRvci5uZXh0KCkpICYmICFyZXN1bHQuZG9uZSkge1xuICAgIGNvbnN0IHBhaXIgPSByZXN1bHQudmFsdWU7XG4gICAgZm4uY2FsbChvYmosIHBhaXJbMF0sIHBhaXJbMV0pO1xuICB9XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSByZWd1bGFyIGV4cHJlc3Npb24gYW5kIGEgc3RyaW5nLCBhbmQgcmV0dXJucyBhbiBhcnJheSBvZiBhbGwgdGhlIG1hdGNoZXNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVnRXhwIC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBtYXRjaCBhZ2FpbnN0LlxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciAtIFRoZSBzdHJpbmcgdG8gc2VhcmNoLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheTxib29sZWFuPn1cbiAqL1xuY29uc3QgbWF0Y2hBbGwgPSAocmVnRXhwLCBzdHIpID0+IHtcbiAgbGV0IG1hdGNoZXM7XG4gIGNvbnN0IGFyciA9IFtdO1xuXG4gIHdoaWxlICgobWF0Y2hlcyA9IHJlZ0V4cC5leGVjKHN0cikpICE9PSBudWxsKSB7XG4gICAgYXJyLnB1c2gobWF0Y2hlcyk7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufVxuXG4vKiBDaGVja2luZyBpZiB0aGUga2luZE9mVGVzdCBmdW5jdGlvbiByZXR1cm5zIHRydWUgd2hlbiBwYXNzZWQgYW4gSFRNTEZvcm1FbGVtZW50LiAqL1xuY29uc3QgaXNIVE1MRm9ybSA9IGtpbmRPZlRlc3QoJ0hUTUxGb3JtRWxlbWVudCcpO1xuXG5jb25zdCB0b0NhbWVsQ2FzZSA9IHN0ciA9PiB7XG4gIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bLV9cXHNdKFthLXpcXGRdKShcXHcqKS9nLFxuICAgIGZ1bmN0aW9uIHJlcGxhY2VyKG0sIHAxLCBwMikge1xuICAgICAgcmV0dXJuIHAxLnRvVXBwZXJDYXNlKCkgKyBwMjtcbiAgICB9XG4gICk7XG59O1xuXG4vKiBDcmVhdGluZyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBjaGVjayBpZiBhbiBvYmplY3QgaGFzIGEgcHJvcGVydHkuICovXG5jb25zdCBoYXNPd25Qcm9wZXJ0eSA9ICgoe2hhc093blByb3BlcnR5fSkgPT4gKG9iaiwgcHJvcCkgPT4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKShPYmplY3QucHJvdG90eXBlKTtcblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhIFJlZ0V4cCBvYmplY3RcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmNvbnN0IGlzUmVnRXhwID0ga2luZE9mVGVzdCgnUmVnRXhwJyk7XG5cbmNvbnN0IHJlZHVjZURlc2NyaXB0b3JzID0gKG9iaiwgcmVkdWNlcikgPT4ge1xuICBjb25zdCBkZXNjcmlwdG9ycyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG9iaik7XG4gIGNvbnN0IHJlZHVjZWREZXNjcmlwdG9ycyA9IHt9O1xuXG4gIGZvckVhY2goZGVzY3JpcHRvcnMsIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgbGV0IHJldDtcbiAgICBpZiAoKHJldCA9IHJlZHVjZXIoZGVzY3JpcHRvciwgbmFtZSwgb2JqKSkgIT09IGZhbHNlKSB7XG4gICAgICByZWR1Y2VkRGVzY3JpcHRvcnNbbmFtZV0gPSByZXQgfHwgZGVzY3JpcHRvcjtcbiAgICB9XG4gIH0pO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwgcmVkdWNlZERlc2NyaXB0b3JzKTtcbn1cblxuLyoqXG4gKiBNYWtlcyBhbGwgbWV0aG9kcyByZWFkLW9ubHlcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqL1xuXG5jb25zdCBmcmVlemVNZXRob2RzID0gKG9iaikgPT4ge1xuICByZWR1Y2VEZXNjcmlwdG9ycyhvYmosIChkZXNjcmlwdG9yLCBuYW1lKSA9PiB7XG4gICAgLy8gc2tpcCByZXN0cmljdGVkIHByb3BzIGluIHN0cmljdCBtb2RlXG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqKSAmJiBbJ2FyZ3VtZW50cycsICdjYWxsZXInLCAnY2FsbGVlJ10uaW5kZXhPZihuYW1lKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBjb25zdCB2YWx1ZSA9IG9ialtuYW1lXTtcblxuICAgIGlmICghaXNGdW5jdGlvbih2YWx1ZSkpIHJldHVybjtcblxuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGZhbHNlO1xuXG4gICAgaWYgKCd3cml0YWJsZScgaW4gZGVzY3JpcHRvcikge1xuICAgICAgZGVzY3JpcHRvci53cml0YWJsZSA9IGZhbHNlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZGVzY3JpcHRvci5zZXQpIHtcbiAgICAgIGRlc2NyaXB0b3Iuc2V0ID0gKCkgPT4ge1xuICAgICAgICB0aHJvdyBFcnJvcignQ2FuIG5vdCByZXdyaXRlIHJlYWQtb25seSBtZXRob2QgXFwnJyArIG5hbWUgKyAnXFwnJyk7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbmNvbnN0IHRvT2JqZWN0U2V0ID0gKGFycmF5T3JTdHJpbmcsIGRlbGltaXRlcikgPT4ge1xuICBjb25zdCBvYmogPSB7fTtcblxuICBjb25zdCBkZWZpbmUgPSAoYXJyKSA9PiB7XG4gICAgYXJyLmZvckVhY2godmFsdWUgPT4ge1xuICAgICAgb2JqW3ZhbHVlXSA9IHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBpc0FycmF5KGFycmF5T3JTdHJpbmcpID8gZGVmaW5lKGFycmF5T3JTdHJpbmcpIDogZGVmaW5lKFN0cmluZyhhcnJheU9yU3RyaW5nKS5zcGxpdChkZWxpbWl0ZXIpKTtcblxuICByZXR1cm4gb2JqO1xufVxuXG5jb25zdCBub29wID0gKCkgPT4ge31cblxuY29uc3QgdG9GaW5pdGVOdW1iZXIgPSAodmFsdWUsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBOdW1iZXIuaXNGaW5pdGUodmFsdWUgPSArdmFsdWUpID8gdmFsdWUgOiBkZWZhdWx0VmFsdWU7XG59XG5cbi8qKlxuICogSWYgdGhlIHRoaW5nIGlzIGEgRm9ybURhdGEgb2JqZWN0LCByZXR1cm4gdHJ1ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cbiAqXG4gKiBAcGFyYW0ge3Vua25vd259IHRoaW5nIC0gVGhlIHRoaW5nIHRvIGNoZWNrLlxuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBpc1NwZWNDb21wbGlhbnRGb3JtKHRoaW5nKSB7XG4gIHJldHVybiAhISh0aGluZyAmJiBpc0Z1bmN0aW9uKHRoaW5nLmFwcGVuZCkgJiYgdGhpbmdbU3ltYm9sLnRvU3RyaW5nVGFnXSA9PT0gJ0Zvcm1EYXRhJyAmJiB0aGluZ1tTeW1ib2wuaXRlcmF0b3JdKTtcbn1cblxuY29uc3QgdG9KU09OT2JqZWN0ID0gKG9iaikgPT4ge1xuICBjb25zdCBzdGFjayA9IG5ldyBBcnJheSgxMCk7XG5cbiAgY29uc3QgdmlzaXQgPSAoc291cmNlLCBpKSA9PiB7XG5cbiAgICBpZiAoaXNPYmplY3Qoc291cmNlKSkge1xuICAgICAgaWYgKHN0YWNrLmluZGV4T2Yoc291cmNlKSA+PSAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYoISgndG9KU09OJyBpbiBzb3VyY2UpKSB7XG4gICAgICAgIHN0YWNrW2ldID0gc291cmNlO1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBpc0FycmF5KHNvdXJjZSkgPyBbXSA6IHt9O1xuXG4gICAgICAgIGZvckVhY2goc291cmNlLCAodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlZHVjZWRWYWx1ZSA9IHZpc2l0KHZhbHVlLCBpICsgMSk7XG4gICAgICAgICAgIWlzVW5kZWZpbmVkKHJlZHVjZWRWYWx1ZSkgJiYgKHRhcmdldFtrZXldID0gcmVkdWNlZFZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgc3RhY2tbaV0gPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc291cmNlO1xuICB9XG5cbiAgcmV0dXJuIHZpc2l0KG9iaiwgMCk7XG59XG5cbmNvbnN0IGlzQXN5bmNGbiA9IGtpbmRPZlRlc3QoJ0FzeW5jRnVuY3Rpb24nKTtcblxuY29uc3QgaXNUaGVuYWJsZSA9ICh0aGluZykgPT5cbiAgdGhpbmcgJiYgKGlzT2JqZWN0KHRoaW5nKSB8fCBpc0Z1bmN0aW9uKHRoaW5nKSkgJiYgaXNGdW5jdGlvbih0aGluZy50aGVuKSAmJiBpc0Z1bmN0aW9uKHRoaW5nLmNhdGNoKTtcblxuLy8gb3JpZ2luYWwgY29kZVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0RpZ2l0YWxCcmFpbkpTL0F4aW9zUHJvbWlzZS9ibG9iLzE2ZGVhYjEzNzEwZWMwOTc3OTkyMjEzMWYzZmE1OTU0MzIwZjgzYWIvbGliL3V0aWxzLmpzI0wxMS1MMzRcblxuY29uc3QgX3NldEltbWVkaWF0ZSA9ICgoc2V0SW1tZWRpYXRlU3VwcG9ydGVkLCBwb3N0TWVzc2FnZVN1cHBvcnRlZCkgPT4ge1xuICBpZiAoc2V0SW1tZWRpYXRlU3VwcG9ydGVkKSB7XG4gICAgcmV0dXJuIHNldEltbWVkaWF0ZTtcbiAgfVxuXG4gIHJldHVybiBwb3N0TWVzc2FnZVN1cHBvcnRlZCA/ICgodG9rZW4sIGNhbGxiYWNrcykgPT4ge1xuICAgIF9nbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKHtzb3VyY2UsIGRhdGF9KSA9PiB7XG4gICAgICBpZiAoc291cmNlID09PSBfZ2xvYmFsICYmIGRhdGEgPT09IHRva2VuKSB7XG4gICAgICAgIGNhbGxiYWNrcy5sZW5ndGggJiYgY2FsbGJhY2tzLnNoaWZ0KCkoKTtcbiAgICAgIH1cbiAgICB9LCBmYWxzZSk7XG5cbiAgICByZXR1cm4gKGNiKSA9PiB7XG4gICAgICBjYWxsYmFja3MucHVzaChjYik7XG4gICAgICBfZ2xvYmFsLnBvc3RNZXNzYWdlKHRva2VuLCBcIipcIik7XG4gICAgfVxuICB9KShgYXhpb3NAJHtNYXRoLnJhbmRvbSgpfWAsIFtdKSA6IChjYikgPT4gc2V0VGltZW91dChjYik7XG59KShcbiAgdHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJyxcbiAgaXNGdW5jdGlvbihfZ2xvYmFsLnBvc3RNZXNzYWdlKVxuKTtcblxuY29uc3QgYXNhcCA9IHR5cGVvZiBxdWV1ZU1pY3JvdGFzayAhPT0gJ3VuZGVmaW5lZCcgP1xuICBxdWV1ZU1pY3JvdGFzay5iaW5kKF9nbG9iYWwpIDogKCB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgcHJvY2Vzcy5uZXh0VGljayB8fCBfc2V0SW1tZWRpYXRlKTtcblxuLy8gKioqKioqKioqKioqKioqKioqKioqXG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXIsXG4gIGlzRm9ybURhdGEsXG4gIGlzQXJyYXlCdWZmZXJWaWV3LFxuICBpc1N0cmluZyxcbiAgaXNOdW1iZXIsXG4gIGlzQm9vbGVhbixcbiAgaXNPYmplY3QsXG4gIGlzUGxhaW5PYmplY3QsXG4gIGlzUmVhZGFibGVTdHJlYW0sXG4gIGlzUmVxdWVzdCxcbiAgaXNSZXNwb25zZSxcbiAgaXNIZWFkZXJzLFxuICBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlLFxuICBpc0ZpbGUsXG4gIGlzQmxvYixcbiAgaXNSZWdFeHAsXG4gIGlzRnVuY3Rpb24sXG4gIGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtcyxcbiAgaXNUeXBlZEFycmF5LFxuICBpc0ZpbGVMaXN0LFxuICBmb3JFYWNoLFxuICBtZXJnZSxcbiAgZXh0ZW5kLFxuICB0cmltLFxuICBzdHJpcEJPTSxcbiAgaW5oZXJpdHMsXG4gIHRvRmxhdE9iamVjdCxcbiAga2luZE9mLFxuICBraW5kT2ZUZXN0LFxuICBlbmRzV2l0aCxcbiAgdG9BcnJheSxcbiAgZm9yRWFjaEVudHJ5LFxuICBtYXRjaEFsbCxcbiAgaXNIVE1MRm9ybSxcbiAgaGFzT3duUHJvcGVydHksXG4gIGhhc093blByb3A6IGhhc093blByb3BlcnR5LCAvLyBhbiBhbGlhcyB0byBhdm9pZCBFU0xpbnQgbm8tcHJvdG90eXBlLWJ1aWx0aW5zIGRldGVjdGlvblxuICByZWR1Y2VEZXNjcmlwdG9ycyxcbiAgZnJlZXplTWV0aG9kcyxcbiAgdG9PYmplY3RTZXQsXG4gIHRvQ2FtZWxDYXNlLFxuICBub29wLFxuICB0b0Zpbml0ZU51bWJlcixcbiAgZmluZEtleSxcbiAgZ2xvYmFsOiBfZ2xvYmFsLFxuICBpc0NvbnRleHREZWZpbmVkLFxuICBpc1NwZWNDb21wbGlhbnRGb3JtLFxuICB0b0pTT05PYmplY3QsXG4gIGlzQXN5bmNGbixcbiAgaXNUaGVuYWJsZSxcbiAgc2V0SW1tZWRpYXRlOiBfc2V0SW1tZWRpYXRlLFxuICBhc2FwXG59O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogQ3JlYXRlIGFuIEVycm9yIHdpdGggdGhlIHNwZWNpZmllZCBtZXNzYWdlLCBjb25maWcsIGVycm9yIGNvZGUsIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIFRoZSBlcnJvciBtZXNzYWdlLlxuICogQHBhcmFtIHtzdHJpbmd9IFtjb2RlXSBUaGUgZXJyb3IgY29kZSAoZm9yIGV4YW1wbGUsICdFQ09OTkFCT1JURUQnKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnXSBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXF1ZXN0XSBUaGUgcmVxdWVzdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbcmVzcG9uc2VdIFRoZSByZXNwb25zZS5cbiAqXG4gKiBAcmV0dXJucyB7RXJyb3J9IFRoZSBjcmVhdGVkIGVycm9yLlxuICovXG5mdW5jdGlvbiBBeGlvc0Vycm9yKG1lc3NhZ2UsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgRXJyb3IuY2FsbCh0aGlzKTtcblxuICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCB0aGlzLmNvbnN0cnVjdG9yKTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfVxuXG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMubmFtZSA9ICdBeGlvc0Vycm9yJztcbiAgY29kZSAmJiAodGhpcy5jb2RlID0gY29kZSk7XG4gIGNvbmZpZyAmJiAodGhpcy5jb25maWcgPSBjb25maWcpO1xuICByZXF1ZXN0ICYmICh0aGlzLnJlcXVlc3QgPSByZXF1ZXN0KTtcbiAgaWYgKHJlc3BvbnNlKSB7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzID8gcmVzcG9uc2Uuc3RhdHVzIDogbnVsbDtcbiAgfVxufVxuXG51dGlscy5pbmhlcml0cyhBeGlvc0Vycm9yLCBFcnJvciwge1xuICB0b0pTT046IGZ1bmN0aW9uIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gU3RhbmRhcmRcbiAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgLy8gTW96aWxsYVxuICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAvLyBBeGlvc1xuICAgICAgY29uZmlnOiB1dGlscy50b0pTT05PYmplY3QodGhpcy5jb25maWcpLFxuICAgICAgY29kZTogdGhpcy5jb2RlLFxuICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1c1xuICAgIH07XG4gIH1cbn0pO1xuXG5jb25zdCBwcm90b3R5cGUgPSBBeGlvc0Vycm9yLnByb3RvdHlwZTtcbmNvbnN0IGRlc2NyaXB0b3JzID0ge307XG5cbltcbiAgJ0VSUl9CQURfT1BUSU9OX1ZBTFVFJyxcbiAgJ0VSUl9CQURfT1BUSU9OJyxcbiAgJ0VDT05OQUJPUlRFRCcsXG4gICdFVElNRURPVVQnLFxuICAnRVJSX05FVFdPUksnLFxuICAnRVJSX0ZSX1RPT19NQU5ZX1JFRElSRUNUUycsXG4gICdFUlJfREVQUkVDQVRFRCcsXG4gICdFUlJfQkFEX1JFU1BPTlNFJyxcbiAgJ0VSUl9CQURfUkVRVUVTVCcsXG4gICdFUlJfQ0FOQ0VMRUQnLFxuICAnRVJSX05PVF9TVVBQT1JUJyxcbiAgJ0VSUl9JTlZBTElEX1VSTCdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5dLmZvckVhY2goY29kZSA9PiB7XG4gIGRlc2NyaXB0b3JzW2NvZGVdID0ge3ZhbHVlOiBjb2RlfTtcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyhBeGlvc0Vycm9yLCBkZXNjcmlwdG9ycyk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkocHJvdG90eXBlLCAnaXNBeGlvc0Vycm9yJywge3ZhbHVlOiB0cnVlfSk7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5BeGlvc0Vycm9yLmZyb20gPSAoZXJyb3IsIGNvZGUsIGNvbmZpZywgcmVxdWVzdCwgcmVzcG9uc2UsIGN1c3RvbVByb3BzKSA9PiB7XG4gIGNvbnN0IGF4aW9zRXJyb3IgPSBPYmplY3QuY3JlYXRlKHByb3RvdHlwZSk7XG5cbiAgdXRpbHMudG9GbGF0T2JqZWN0KGVycm9yLCBheGlvc0Vycm9yLCBmdW5jdGlvbiBmaWx0ZXIob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPT0gRXJyb3IucHJvdG90eXBlO1xuICB9LCBwcm9wID0+IHtcbiAgICByZXR1cm4gcHJvcCAhPT0gJ2lzQXhpb3NFcnJvcic7XG4gIH0pO1xuXG4gIEF4aW9zRXJyb3IuY2FsbChheGlvc0Vycm9yLCBlcnJvci5tZXNzYWdlLCBjb2RlLCBjb25maWcsIHJlcXVlc3QsIHJlc3BvbnNlKTtcblxuICBheGlvc0Vycm9yLmNhdXNlID0gZXJyb3I7XG5cbiAgYXhpb3NFcnJvci5uYW1lID0gZXJyb3IubmFtZTtcblxuICBjdXN0b21Qcm9wcyAmJiBPYmplY3QuYXNzaWduKGF4aW9zRXJyb3IsIGN1c3RvbVByb3BzKTtcblxuICByZXR1cm4gYXhpb3NFcnJvcjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zRXJyb3I7XG4iLAogICAgIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzdHJpY3RcbmV4cG9ydCBkZWZhdWx0IG51bGw7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG4vLyB0ZW1wb3JhcnkgaG90Zml4IHRvIGF2b2lkIGNpcmN1bGFyIHJlZmVyZW5jZXMgdW50aWwgQXhpb3NVUkxTZWFyY2hQYXJhbXMgaXMgcmVmYWN0b3JlZFxuaW1wb3J0IFBsYXRmb3JtRm9ybURhdGEgZnJvbSAnLi4vcGxhdGZvcm0vbm9kZS9jbGFzc2VzL0Zvcm1EYXRhLmpzJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSBnaXZlbiB0aGluZyBpcyBhIGFycmF5IG9yIGpzIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdGhpbmcgLSBUaGUgb2JqZWN0IG9yIGFycmF5IHRvIGJlIHZpc2l0ZWQuXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGlzVmlzaXRhYmxlKHRoaW5nKSB7XG4gIHJldHVybiB1dGlscy5pc1BsYWluT2JqZWN0KHRoaW5nKSB8fCB1dGlscy5pc0FycmF5KHRoaW5nKTtcbn1cblxuLyoqXG4gKiBJdCByZW1vdmVzIHRoZSBicmFja2V0cyBmcm9tIHRoZSBlbmQgb2YgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gVGhlIGtleSBvZiB0aGUgcGFyYW1ldGVyLlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHRoZSBrZXkgd2l0aG91dCB0aGUgYnJhY2tldHMuXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUJyYWNrZXRzKGtleSkge1xuICByZXR1cm4gdXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSA/IGtleS5zbGljZSgwLCAtMikgOiBrZXk7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBwYXRoLCBhIGtleSwgYW5kIGEgYm9vbGVhbiwgYW5kIHJldHVybnMgYSBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIFRoZSBwYXRoIHRvIHRoZSBjdXJyZW50IGtleS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBUaGUga2V5IG9mIHRoZSBjdXJyZW50IG9iamVjdCBiZWluZyBpdGVyYXRlZCBvdmVyLlxuICogQHBhcmFtIHtzdHJpbmd9IGRvdHMgLSBJZiB0cnVlLCB0aGUga2V5IHdpbGwgYmUgcmVuZGVyZWQgd2l0aCBkb3RzIGluc3RlYWQgb2YgYnJhY2tldHMuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIHBhdGggdG8gdGhlIGN1cnJlbnQga2V5LlxuICovXG5mdW5jdGlvbiByZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSB7XG4gIGlmICghcGF0aCkgcmV0dXJuIGtleTtcbiAgcmV0dXJuIHBhdGguY29uY2F0KGtleSkubWFwKGZ1bmN0aW9uIGVhY2godG9rZW4sIGkpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB0b2tlbiA9IHJlbW92ZUJyYWNrZXRzKHRva2VuKTtcbiAgICByZXR1cm4gIWRvdHMgJiYgaSA/ICdbJyArIHRva2VuICsgJ10nIDogdG9rZW47XG4gIH0pLmpvaW4oZG90cyA/ICcuJyA6ICcnKTtcbn1cblxuLyoqXG4gKiBJZiB0aGUgYXJyYXkgaXMgYW4gYXJyYXkgYW5kIG5vbmUgb2YgaXRzIGVsZW1lbnRzIGFyZSB2aXNpdGFibGUsIHRoZW4gaXQncyBhIGZsYXQgYXJyYXkuXG4gKlxuICogQHBhcmFtIHtBcnJheTxhbnk+fSBhcnIgLSBUaGUgYXJyYXkgdG8gY2hlY2tcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gaXNGbGF0QXJyYXkoYXJyKSB7XG4gIHJldHVybiB1dGlscy5pc0FycmF5KGFycikgJiYgIWFyci5zb21lKGlzVmlzaXRhYmxlKTtcbn1cblxuY29uc3QgcHJlZGljYXRlcyA9IHV0aWxzLnRvRmxhdE9iamVjdCh1dGlscywge30sIG51bGwsIGZ1bmN0aW9uIGZpbHRlcihwcm9wKSB7XG4gIHJldHVybiAvXmlzW0EtWl0vLnRlc3QocHJvcCk7XG59KTtcblxuLyoqXG4gKiBDb252ZXJ0IGEgZGF0YSBvYmplY3QgdG8gRm9ybURhdGFcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcGFyYW0gez9PYmplY3R9IFtmb3JtRGF0YV1cbiAqIEBwYXJhbSB7P09iamVjdH0gW29wdGlvbnNdXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbb3B0aW9ucy52aXNpdG9yXVxuICogQHBhcmFtIHtCb29sZWFufSBbb3B0aW9ucy5tZXRhVG9rZW5zID0gdHJ1ZV1cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW29wdGlvbnMuZG90cyA9IGZhbHNlXVxuICogQHBhcmFtIHs/Qm9vbGVhbn0gW29wdGlvbnMuaW5kZXhlcyA9IGZhbHNlXVxuICpcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKiovXG5cbi8qKlxuICogSXQgY29udmVydHMgYW4gb2JqZWN0IGludG8gYSBGb3JtRGF0YSBvYmplY3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdDxhbnksIGFueT59IG9iaiAtIFRoZSBvYmplY3QgdG8gY29udmVydCB0byBmb3JtIGRhdGEuXG4gKiBAcGFyYW0ge3N0cmluZ30gZm9ybURhdGEgLSBUaGUgRm9ybURhdGEgb2JqZWN0IHRvIGFwcGVuZCB0by5cbiAqIEBwYXJhbSB7T2JqZWN0PHN0cmluZywgYW55Pn0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zXG4gKi9cbmZ1bmN0aW9uIHRvRm9ybURhdGEob2JqLCBmb3JtRGF0YSwgb3B0aW9ucykge1xuICBpZiAoIXV0aWxzLmlzT2JqZWN0KG9iaikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBmb3JtRGF0YSA9IGZvcm1EYXRhIHx8IG5ldyAoUGxhdGZvcm1Gb3JtRGF0YSB8fCBGb3JtRGF0YSkoKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgb3B0aW9ucyA9IHV0aWxzLnRvRmxhdE9iamVjdChvcHRpb25zLCB7XG4gICAgbWV0YVRva2VuczogdHJ1ZSxcbiAgICBkb3RzOiBmYWxzZSxcbiAgICBpbmRleGVzOiBmYWxzZVxuICB9LCBmYWxzZSwgZnVuY3Rpb24gZGVmaW5lZChvcHRpb24sIHNvdXJjZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lcS1udWxsLGVxZXFlcVxuICAgIHJldHVybiAhdXRpbHMuaXNVbmRlZmluZWQoc291cmNlW29wdGlvbl0pO1xuICB9KTtcblxuICBjb25zdCBtZXRhVG9rZW5zID0gb3B0aW9ucy5tZXRhVG9rZW5zO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgY29uc3QgdmlzaXRvciA9IG9wdGlvbnMudmlzaXRvciB8fCBkZWZhdWx0VmlzaXRvcjtcbiAgY29uc3QgZG90cyA9IG9wdGlvbnMuZG90cztcbiAgY29uc3QgaW5kZXhlcyA9IG9wdGlvbnMuaW5kZXhlcztcbiAgY29uc3QgX0Jsb2IgPSBvcHRpb25zLkJsb2IgfHwgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIEJsb2I7XG4gIGNvbnN0IHVzZUJsb2IgPSBfQmxvYiAmJiB1dGlscy5pc1NwZWNDb21wbGlhbnRGb3JtKGZvcm1EYXRhKTtcblxuICBpZiAoIXV0aWxzLmlzRnVuY3Rpb24odmlzaXRvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd2aXNpdG9yIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udmVydFZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJyc7XG5cbiAgICBpZiAodXRpbHMuaXNEYXRlKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKCF1c2VCbG9iICYmIHV0aWxzLmlzQmxvYih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdCbG9iIGlzIG5vdCBzdXBwb3J0ZWQuIFVzZSBhIEJ1ZmZlciBpbnN0ZWFkLicpO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKHZhbHVlKSB8fCB1dGlscy5pc1R5cGVkQXJyYXkodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdXNlQmxvYiAmJiB0eXBlb2YgQmxvYiA9PT0gJ2Z1bmN0aW9uJyA/IG5ldyBCbG9iKFt2YWx1ZV0pIDogQnVmZmVyLmZyb20odmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IHZpc2l0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICogQHBhcmFtIHtTdHJpbmd8TnVtYmVyfSBrZXlcbiAgICogQHBhcmFtIHtBcnJheTxTdHJpbmd8TnVtYmVyPn0gcGF0aFxuICAgKiBAdGhpcyB7Rm9ybURhdGF9XG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSByZXR1cm4gdHJ1ZSB0byB2aXNpdCB0aGUgZWFjaCBwcm9wIG9mIHRoZSB2YWx1ZSByZWN1cnNpdmVseVxuICAgKi9cbiAgZnVuY3Rpb24gZGVmYXVsdFZpc2l0b3IodmFsdWUsIGtleSwgcGF0aCkge1xuICAgIGxldCBhcnIgPSB2YWx1ZTtcblxuICAgIGlmICh2YWx1ZSAmJiAhcGF0aCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodXRpbHMuZW5kc1dpdGgoa2V5LCAne30nKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAga2V5ID0gbWV0YVRva2VucyA/IGtleSA6IGtleS5zbGljZSgwLCAtMik7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICB2YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICh1dGlscy5pc0FycmF5KHZhbHVlKSAmJiBpc0ZsYXRBcnJheSh2YWx1ZSkpIHx8XG4gICAgICAgICgodXRpbHMuaXNGaWxlTGlzdCh2YWx1ZSkgfHwgdXRpbHMuZW5kc1dpdGgoa2V5LCAnW10nKSkgJiYgKGFyciA9IHV0aWxzLnRvQXJyYXkodmFsdWUpKVxuICAgICAgICApKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBrZXkgPSByZW1vdmVCcmFja2V0cyhrZXkpO1xuXG4gICAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIGVhY2goZWwsIGluZGV4KSB7XG4gICAgICAgICAgISh1dGlscy5pc1VuZGVmaW5lZChlbCkgfHwgZWwgPT09IG51bGwpICYmIGZvcm1EYXRhLmFwcGVuZChcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXN0ZWQtdGVybmFyeVxuICAgICAgICAgICAgaW5kZXhlcyA9PT0gdHJ1ZSA/IHJlbmRlcktleShba2V5XSwgaW5kZXgsIGRvdHMpIDogKGluZGV4ZXMgPT09IG51bGwgPyBrZXkgOiBrZXkgKyAnW10nKSxcbiAgICAgICAgICAgIGNvbnZlcnRWYWx1ZShlbClcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc1Zpc2l0YWJsZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGZvcm1EYXRhLmFwcGVuZChyZW5kZXJLZXkocGF0aCwga2V5LCBkb3RzKSwgY29udmVydFZhbHVlKHZhbHVlKSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBzdGFjayA9IFtdO1xuXG4gIGNvbnN0IGV4cG9zZWRIZWxwZXJzID0gT2JqZWN0LmFzc2lnbihwcmVkaWNhdGVzLCB7XG4gICAgZGVmYXVsdFZpc2l0b3IsXG4gICAgY29udmVydFZhbHVlLFxuICAgIGlzVmlzaXRhYmxlXG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGJ1aWxkKHZhbHVlLCBwYXRoKSB7XG4gICAgaWYgKHV0aWxzLmlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xuXG4gICAgaWYgKHN0YWNrLmluZGV4T2YodmFsdWUpICE9PSAtMSkge1xuICAgICAgdGhyb3cgRXJyb3IoJ0NpcmN1bGFyIHJlZmVyZW5jZSBkZXRlY3RlZCBpbiAnICsgcGF0aC5qb2luKCcuJykpO1xuICAgIH1cblxuICAgIHN0YWNrLnB1c2godmFsdWUpO1xuXG4gICAgdXRpbHMuZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gZWFjaChlbCwga2V5KSB7XG4gICAgICBjb25zdCByZXN1bHQgPSAhKHV0aWxzLmlzVW5kZWZpbmVkKGVsKSB8fCBlbCA9PT0gbnVsbCkgJiYgdmlzaXRvci5jYWxsKFxuICAgICAgICBmb3JtRGF0YSwgZWwsIHV0aWxzLmlzU3RyaW5nKGtleSkgPyBrZXkudHJpbSgpIDoga2V5LCBwYXRoLCBleHBvc2VkSGVscGVyc1xuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICBidWlsZChlbCwgcGF0aCA/IHBhdGguY29uY2F0KGtleSkgOiBba2V5XSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzdGFjay5wb3AoKTtcbiAgfVxuXG4gIGlmICghdXRpbHMuaXNPYmplY3Qob2JqKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2RhdGEgbXVzdCBiZSBhbiBvYmplY3QnKTtcbiAgfVxuXG4gIGJ1aWxkKG9iaik7XG5cbiAgcmV0dXJuIGZvcm1EYXRhO1xufVxuXG5leHBvcnQgZGVmYXVsdCB0b0Zvcm1EYXRhO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vdG9Gb3JtRGF0YS5qcyc7XG5cbi8qKlxuICogSXQgZW5jb2RlcyBhIHN0cmluZyBieSByZXBsYWNpbmcgYWxsIGNoYXJhY3RlcnMgdGhhdCBhcmUgbm90IGluIHRoZSB1bnJlc2VydmVkIHNldCB3aXRoXG4gKiB0aGVpciBwZXJjZW50LWVuY29kZWQgZXF1aXZhbGVudHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyIC0gVGhlIHN0cmluZyB0byBlbmNvZGUuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBlbmNvZGUoc3RyKSB7XG4gIGNvbnN0IGNoYXJNYXAgPSB7XG4gICAgJyEnOiAnJTIxJyxcbiAgICBcIidcIjogJyUyNycsXG4gICAgJygnOiAnJTI4JyxcbiAgICAnKSc6ICclMjknLFxuICAgICd+JzogJyU3RScsXG4gICAgJyUyMCc6ICcrJyxcbiAgICAnJTAwJzogJ1xceDAwJ1xuICB9O1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCl+XXwlMjB8JTAwL2csIGZ1bmN0aW9uIHJlcGxhY2VyKG1hdGNoKSB7XG4gICAgcmV0dXJuIGNoYXJNYXBbbWF0Y2hdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBJdCB0YWtlcyBhIHBhcmFtcyBvYmplY3QgYW5kIGNvbnZlcnRzIGl0IHRvIGEgRm9ybURhdGEgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3Q8c3RyaW5nLCBhbnk+fSBwYXJhbXMgLSBUaGUgcGFyYW1ldGVycyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBGb3JtRGF0YSBvYmplY3QuXG4gKiBAcGFyYW0ge09iamVjdDxzdHJpbmcsIGFueT59IG9wdGlvbnMgLSBUaGUgb3B0aW9ucyBvYmplY3QgcGFzc2VkIHRvIHRoZSBBeGlvcyBjb25zdHJ1Y3Rvci5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKSB7XG4gIHRoaXMuX3BhaXJzID0gW107XG5cbiAgcGFyYW1zICYmIHRvRm9ybURhdGEocGFyYW1zLCB0aGlzLCBvcHRpb25zKTtcbn1cblxuY29uc3QgcHJvdG90eXBlID0gQXhpb3NVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlO1xuXG5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gYXBwZW5kKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMuX3BhaXJzLnB1c2goW25hbWUsIHZhbHVlXSk7XG59O1xuXG5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhlbmNvZGVyKSB7XG4gIGNvbnN0IF9lbmNvZGUgPSBlbmNvZGVyID8gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gZW5jb2Rlci5jYWxsKHRoaXMsIHZhbHVlLCBlbmNvZGUpO1xuICB9IDogZW5jb2RlO1xuXG4gIHJldHVybiB0aGlzLl9wYWlycy5tYXAoZnVuY3Rpb24gZWFjaChwYWlyKSB7XG4gICAgcmV0dXJuIF9lbmNvZGUocGFpclswXSkgKyAnPScgKyBfZW5jb2RlKHBhaXJbMV0pO1xuICB9LCAnJykuam9pbignJicpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3NVUkxTZWFyY2hQYXJhbXM7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBBeGlvc1VSTFNlYXJjaFBhcmFtcyBmcm9tICcuLi9oZWxwZXJzL0F4aW9zVVJMU2VhcmNoUGFyYW1zLmpzJztcblxuLyoqXG4gKiBJdCByZXBsYWNlcyBhbGwgaW5zdGFuY2VzIG9mIHRoZSBjaGFyYWN0ZXJzIGA6YCwgYCRgLCBgLGAsIGArYCwgYFtgLCBhbmQgYF1gIHdpdGggdGhlaXJcbiAqIFVSSSBlbmNvZGVkIGNvdW50ZXJwYXJ0c1xuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWwgVGhlIHZhbHVlIHRvIGJlIGVuY29kZWQuXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGVuY29kZSh2YWwpIHtcbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcGFyYW0gez8ob2JqZWN0fEZ1bmN0aW9uKX0gb3B0aW9uc1xuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBmb3JtYXR0ZWQgdXJsXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgXG4gIGNvbnN0IF9lbmNvZGUgPSBvcHRpb25zICYmIG9wdGlvbnMuZW5jb2RlIHx8IGVuY29kZTtcblxuICBpZiAodXRpbHMuaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBzZXJpYWxpemU6IG9wdGlvbnNcbiAgICB9O1xuICB9IFxuXG4gIGNvbnN0IHNlcmlhbGl6ZUZuID0gb3B0aW9ucyAmJiBvcHRpb25zLnNlcmlhbGl6ZTtcblxuICBsZXQgc2VyaWFsaXplZFBhcmFtcztcblxuICBpZiAoc2VyaWFsaXplRm4pIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gc2VyaWFsaXplRm4ocGFyYW1zLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gdXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMocGFyYW1zKSA/XG4gICAgICBwYXJhbXMudG9TdHJpbmcoKSA6XG4gICAgICBuZXcgQXhpb3NVUkxTZWFyY2hQYXJhbXMocGFyYW1zLCBvcHRpb25zKS50b1N0cmluZyhfZW5jb2RlKTtcbiAgfVxuXG4gIGlmIChzZXJpYWxpemVkUGFyYW1zKSB7XG4gICAgY29uc3QgaGFzaG1hcmtJbmRleCA9IHVybC5pbmRleE9mKFwiI1wiKTtcblxuICAgIGlmIChoYXNobWFya0luZGV4ICE9PSAtMSkge1xuICAgICAgdXJsID0gdXJsLnNsaWNlKDAsIGhhc2htYXJrSW5kZXgpO1xuICAgIH1cbiAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArIHNlcmlhbGl6ZWRQYXJhbXM7XG4gIH1cblxuICByZXR1cm4gdXJsO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcblxuY2xhc3MgSW50ZXJjZXB0b3JNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5oYW5kbGVycyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIG5ldyBpbnRlcmNlcHRvciB0byB0aGUgc3RhY2tcbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3RlZCBUaGUgZnVuY3Rpb24gdG8gaGFuZGxlIGByZWplY3RgIGZvciBhIGBQcm9taXNlYFxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gICAqL1xuICB1c2UoZnVsZmlsbGVkLCByZWplY3RlZCwgb3B0aW9ucykge1xuICAgIHRoaXMuaGFuZGxlcnMucHVzaCh7XG4gICAgICBmdWxmaWxsZWQsXG4gICAgICByZWplY3RlZCxcbiAgICAgIHN5bmNocm9ub3VzOiBvcHRpb25zID8gb3B0aW9ucy5zeW5jaHJvbm91cyA6IGZhbHNlLFxuICAgICAgcnVuV2hlbjogb3B0aW9ucyA/IG9wdGlvbnMucnVuV2hlbiA6IG51bGxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5oYW5kbGVycy5sZW5ndGggLSAxO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gaWQgVGhlIElEIHRoYXQgd2FzIHJldHVybmVkIGJ5IGB1c2VgXG4gICAqXG4gICAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGludGVyY2VwdG9yIHdhcyByZW1vdmVkLCBgZmFsc2VgIG90aGVyd2lzZVxuICAgKi9cbiAgZWplY3QoaWQpIHtcbiAgICBpZiAodGhpcy5oYW5kbGVyc1tpZF0pIHtcbiAgICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIGludGVyY2VwdG9ycyBmcm9tIHRoZSBzdGFja1xuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGNsZWFyKCkge1xuICAgIGlmICh0aGlzLmhhbmRsZXJzKSB7XG4gICAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciBhbGwgdGhlIHJlZ2lzdGVyZWQgaW50ZXJjZXB0b3JzXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gICAqIGludGVyY2VwdG9ycyB0aGF0IG1heSBoYXZlIGJlY29tZSBgbnVsbGAgY2FsbGluZyBgZWplY3RgLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICAgKlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG4gIGZvckVhY2goZm4pIHtcbiAgICB1dGlscy5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsIGZ1bmN0aW9uIGZvckVhY2hIYW5kbGVyKGgpIHtcbiAgICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICAgIGZuKGgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEludGVyY2VwdG9yTWFuYWdlcjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNpbGVudEpTT05QYXJzaW5nOiB0cnVlLFxuICBmb3JjZWRKU09OUGFyc2luZzogdHJ1ZSxcbiAgY2xhcmlmeVRpbWVvdXRFcnJvcjogZmFsc2Vcbn07XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF4aW9zVVJMU2VhcmNoUGFyYW1zIGZyb20gJy4uLy4uLy4uL2hlbHBlcnMvQXhpb3NVUkxTZWFyY2hQYXJhbXMuanMnO1xuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIFVSTFNlYXJjaFBhcmFtcyAhPT0gJ3VuZGVmaW5lZCcgPyBVUkxTZWFyY2hQYXJhbXMgOiBBeGlvc1VSTFNlYXJjaFBhcmFtcztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnQgZGVmYXVsdCB0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnID8gRm9ybURhdGEgOiBudWxsO1xuIiwKICAgICIndXNlIHN0cmljdCdcblxuZXhwb3J0IGRlZmF1bHQgdHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnID8gQmxvYiA6IG51bGxcbiIsCiAgICAiaW1wb3J0IFVSTFNlYXJjaFBhcmFtcyBmcm9tICcuL2NsYXNzZXMvVVJMU2VhcmNoUGFyYW1zLmpzJ1xuaW1wb3J0IEZvcm1EYXRhIGZyb20gJy4vY2xhc3Nlcy9Gb3JtRGF0YS5qcydcbmltcG9ydCBCbG9iIGZyb20gJy4vY2xhc3Nlcy9CbG9iLmpzJ1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGlzQnJvd3NlcjogdHJ1ZSxcbiAgY2xhc3Nlczoge1xuICAgIFVSTFNlYXJjaFBhcmFtcyxcbiAgICBGb3JtRGF0YSxcbiAgICBCbG9iXG4gIH0sXG4gIHByb3RvY29sczogWydodHRwJywgJ2h0dHBzJywgJ2ZpbGUnLCAnYmxvYicsICd1cmwnLCAnZGF0YSddXG59O1xuIiwKICAgICJjb25zdCBoYXNCcm93c2VyRW52ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcblxuY29uc3QgX25hdmlnYXRvciA9IHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvciB8fCB1bmRlZmluZWQ7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIHdlJ3JlIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50XG4gKlxuICogVGhpcyBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlciwgYW5kIHJlYWN0LW5hdGl2ZS5cbiAqIEJvdGggZW52aXJvbm1lbnRzIHN1cHBvcnQgWE1MSHR0cFJlcXVlc3QsIGJ1dCBub3QgZnVsbHkgc3RhbmRhcmQgZ2xvYmFscy5cbiAqXG4gKiB3ZWIgd29ya2VyczpcbiAqICB0eXBlb2Ygd2luZG93IC0+IHVuZGVmaW5lZFxuICogIHR5cGVvZiBkb2N1bWVudCAtPiB1bmRlZmluZWRcbiAqXG4gKiByZWFjdC1uYXRpdmU6XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ1JlYWN0TmF0aXZlJ1xuICogbmF0aXZlc2NyaXB0XG4gKiAgbmF2aWdhdG9yLnByb2R1Y3QgLT4gJ05hdGl2ZVNjcmlwdCcgb3IgJ05TJ1xuICpcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5jb25zdCBoYXNTdGFuZGFyZEJyb3dzZXJFbnYgPSBoYXNCcm93c2VyRW52ICYmXG4gICghX25hdmlnYXRvciB8fCBbJ1JlYWN0TmF0aXZlJywgJ05hdGl2ZVNjcmlwdCcsICdOUyddLmluZGV4T2YoX25hdmlnYXRvci5wcm9kdWN0KSA8IDApO1xuXG4vKipcbiAqIERldGVybWluZSBpZiB3ZSdyZSBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciB3ZWJXb3JrZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBBbHRob3VnaCB0aGUgYGlzU3RhbmRhcmRCcm93c2VyRW52YCBtZXRob2QgaW5kaWNhdGVzIHRoYXRcbiAqIGBhbGxvd3MgYXhpb3MgdG8gcnVuIGluIGEgd2ViIHdvcmtlcmAsIHRoZSBXZWJXb3JrZXIgd2lsbCBzdGlsbCBiZVxuICogZmlsdGVyZWQgb3V0IGR1ZSB0byBpdHMganVkZ21lbnQgc3RhbmRhcmRcbiAqIGB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnYC5cbiAqIFRoaXMgbGVhZHMgdG8gYSBwcm9ibGVtIHdoZW4gYXhpb3MgcG9zdCBgRm9ybURhdGFgIGluIHdlYldvcmtlclxuICovXG5jb25zdCBoYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYgPSAoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUgJiZcbiAgICB0eXBlb2Ygc2VsZi5pbXBvcnRTY3JpcHRzID09PSAnZnVuY3Rpb24nXG4gICk7XG59KSgpO1xuXG5jb25zdCBvcmlnaW4gPSBoYXNCcm93c2VyRW52ICYmIHdpbmRvdy5sb2NhdGlvbi5ocmVmIHx8ICdodHRwOi8vbG9jYWxob3N0JztcblxuZXhwb3J0IHtcbiAgaGFzQnJvd3NlckVudixcbiAgaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52LFxuICBoYXNTdGFuZGFyZEJyb3dzZXJFbnYsXG4gIF9uYXZpZ2F0b3IgYXMgbmF2aWdhdG9yLFxuICBvcmlnaW5cbn1cbiIsCiAgICAiaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4vbm9kZS9pbmRleC5qcyc7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tICcuL2NvbW1vbi91dGlscy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgLi4udXRpbHMsXG4gIC4uLnBsYXRmb3JtXG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vdG9Gb3JtRGF0YS5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b1VSTEVuY29kZWRGb3JtKGRhdGEsIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHRvRm9ybURhdGEoZGF0YSwgbmV3IHBsYXRmb3JtLmNsYXNzZXMuVVJMU2VhcmNoUGFyYW1zKCksIE9iamVjdC5hc3NpZ24oe1xuICAgIHZpc2l0b3I6IGZ1bmN0aW9uKHZhbHVlLCBrZXksIHBhdGgsIGhlbHBlcnMpIHtcbiAgICAgIGlmIChwbGF0Zm9ybS5pc05vZGUgJiYgdXRpbHMuaXNCdWZmZXIodmFsdWUpKSB7XG4gICAgICAgIHRoaXMuYXBwZW5kKGtleSwgdmFsdWUudG9TdHJpbmcoJ2Jhc2U2NCcpKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGVscGVycy5kZWZhdWx0VmlzaXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSwgb3B0aW9ucykpO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5cbi8qKlxuICogSXQgdGFrZXMgYSBzdHJpbmcgbGlrZSBgZm9vW3hdW3ldW3pdYCBhbmQgcmV0dXJucyBhbiBhcnJheSBsaWtlIGBbJ2ZvbycsICd4JywgJ3knLCAneiddXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICpcbiAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHN0cmluZ3MuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlUHJvcFBhdGgobmFtZSkge1xuICAvLyBmb29beF1beV1bel1cbiAgLy8gZm9vLngueS56XG4gIC8vIGZvby14LXktelxuICAvLyBmb28geCB5IHpcbiAgcmV0dXJuIHV0aWxzLm1hdGNoQWxsKC9cXHcrfFxcWyhcXHcqKV0vZywgbmFtZSkubWFwKG1hdGNoID0+IHtcbiAgICByZXR1cm4gbWF0Y2hbMF0gPT09ICdbXScgPyAnJyA6IG1hdGNoWzFdIHx8IG1hdGNoWzBdO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0IGFuIGFycmF5IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5PGFueT59IGFyciAtIFRoZSBhcnJheSB0byBjb252ZXJ0IHRvIGFuIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJucyBBbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBrZXlzIGFuZCB2YWx1ZXMgYXMgdGhlIGFycmF5LlxuICovXG5mdW5jdGlvbiBhcnJheVRvT2JqZWN0KGFycikge1xuICBjb25zdCBvYmogPSB7fTtcbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGFycik7XG4gIGxldCBpO1xuICBjb25zdCBsZW4gPSBrZXlzLmxlbmd0aDtcbiAgbGV0IGtleTtcbiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAga2V5ID0ga2V5c1tpXTtcbiAgICBvYmpba2V5XSA9IGFycltrZXldO1xuICB9XG4gIHJldHVybiBvYmo7XG59XG5cbi8qKlxuICogSXQgdGFrZXMgYSBGb3JtRGF0YSBvYmplY3QgYW5kIHJldHVybnMgYSBKYXZhU2NyaXB0IG9iamVjdFxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmb3JtRGF0YSBUaGUgRm9ybURhdGEgb2JqZWN0IHRvIGNvbnZlcnQgdG8gSlNPTi5cbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0PHN0cmluZywgYW55PiB8IG51bGx9IFRoZSBjb252ZXJ0ZWQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBmb3JtRGF0YVRvSlNPTihmb3JtRGF0YSkge1xuICBmdW5jdGlvbiBidWlsZFBhdGgocGF0aCwgdmFsdWUsIHRhcmdldCwgaW5kZXgpIHtcbiAgICBsZXQgbmFtZSA9IHBhdGhbaW5kZXgrK107XG5cbiAgICBpZiAobmFtZSA9PT0gJ19fcHJvdG9fXycpIHJldHVybiB0cnVlO1xuXG4gICAgY29uc3QgaXNOdW1lcmljS2V5ID0gTnVtYmVyLmlzRmluaXRlKCtuYW1lKTtcbiAgICBjb25zdCBpc0xhc3QgPSBpbmRleCA+PSBwYXRoLmxlbmd0aDtcbiAgICBuYW1lID0gIW5hbWUgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXQpID8gdGFyZ2V0Lmxlbmd0aCA6IG5hbWU7XG5cbiAgICBpZiAoaXNMYXN0KSB7XG4gICAgICBpZiAodXRpbHMuaGFzT3duUHJvcCh0YXJnZXQsIG5hbWUpKSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IFt0YXJnZXRbbmFtZV0sIHZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhcmdldFtuYW1lXSA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gIWlzTnVtZXJpY0tleTtcbiAgICB9XG5cbiAgICBpZiAoIXRhcmdldFtuYW1lXSB8fCAhdXRpbHMuaXNPYmplY3QodGFyZ2V0W25hbWVdKSkge1xuICAgICAgdGFyZ2V0W25hbWVdID0gW107XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYnVpbGRQYXRoKHBhdGgsIHZhbHVlLCB0YXJnZXRbbmFtZV0sIGluZGV4KTtcblxuICAgIGlmIChyZXN1bHQgJiYgdXRpbHMuaXNBcnJheSh0YXJnZXRbbmFtZV0pKSB7XG4gICAgICB0YXJnZXRbbmFtZV0gPSBhcnJheVRvT2JqZWN0KHRhcmdldFtuYW1lXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFpc051bWVyaWNLZXk7XG4gIH1cblxuICBpZiAodXRpbHMuaXNGb3JtRGF0YShmb3JtRGF0YSkgJiYgdXRpbHMuaXNGdW5jdGlvbihmb3JtRGF0YS5lbnRyaWVzKSkge1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaEVudHJ5KGZvcm1EYXRhLCAobmFtZSwgdmFsdWUpID0+IHtcbiAgICAgIGJ1aWxkUGF0aChwYXJzZVByb3BQYXRoKG5hbWUpLCB2YWx1ZSwgb2JqLCAwKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZm9ybURhdGFUb0pTT047XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgdHJhbnNpdGlvbmFsRGVmYXVsdHMgZnJvbSAnLi90cmFuc2l0aW9uYWwuanMnO1xuaW1wb3J0IHRvRm9ybURhdGEgZnJvbSAnLi4vaGVscGVycy90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCB0b1VSTEVuY29kZWRGb3JtIGZyb20gJy4uL2hlbHBlcnMvdG9VUkxFbmNvZGVkRm9ybS5qcyc7XG5pbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuaW1wb3J0IGZvcm1EYXRhVG9KU09OIGZyb20gJy4uL2hlbHBlcnMvZm9ybURhdGFUb0pTT04uanMnO1xuXG4vKipcbiAqIEl0IHRha2VzIGEgc3RyaW5nLCB0cmllcyB0byBwYXJzZSBpdCwgYW5kIGlmIGl0IGZhaWxzLCBpdCByZXR1cm5zIHRoZSBzdHJpbmdpZmllZCB2ZXJzaW9uXG4gKiBvZiB0aGUgaW5wdXRcbiAqXG4gKiBAcGFyYW0ge2FueX0gcmF3VmFsdWUgLSBUaGUgdmFsdWUgdG8gYmUgc3RyaW5naWZpZWQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBwYXJzZXIgLSBBIGZ1bmN0aW9uIHRoYXQgcGFyc2VzIGEgc3RyaW5nIGludG8gYSBKYXZhU2NyaXB0IG9iamVjdC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGVuY29kZXIgLSBBIGZ1bmN0aW9uIHRoYXQgdGFrZXMgYSB2YWx1ZSBhbmQgcmV0dXJucyBhIHN0cmluZy5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBBIHN0cmluZ2lmaWVkIHZlcnNpb24gb2YgdGhlIHJhd1ZhbHVlLlxuICovXG5mdW5jdGlvbiBzdHJpbmdpZnlTYWZlbHkocmF3VmFsdWUsIHBhcnNlciwgZW5jb2Rlcikge1xuICBpZiAodXRpbHMuaXNTdHJpbmcocmF3VmFsdWUpKSB7XG4gICAgdHJ5IHtcbiAgICAgIChwYXJzZXIgfHwgSlNPTi5wYXJzZSkocmF3VmFsdWUpO1xuICAgICAgcmV0dXJuIHV0aWxzLnRyaW0ocmF3VmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLm5hbWUgIT09ICdTeW50YXhFcnJvcicpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gKGVuY29kZXIgfHwgSlNPTi5zdHJpbmdpZnkpKHJhd1ZhbHVlKTtcbn1cblxuY29uc3QgZGVmYXVsdHMgPSB7XG5cbiAgdHJhbnNpdGlvbmFsOiB0cmFuc2l0aW9uYWxEZWZhdWx0cyxcblxuICBhZGFwdGVyOiBbJ3hocicsICdodHRwJywgJ2ZldGNoJ10sXG5cbiAgdHJhbnNmb3JtUmVxdWVzdDogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlcXVlc3QoZGF0YSwgaGVhZGVycykge1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gaGVhZGVycy5nZXRDb250ZW50VHlwZSgpIHx8ICcnO1xuICAgIGNvbnN0IGhhc0pTT05Db250ZW50VHlwZSA9IGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL2pzb24nKSA+IC0xO1xuICAgIGNvbnN0IGlzT2JqZWN0UGF5bG9hZCA9IHV0aWxzLmlzT2JqZWN0KGRhdGEpO1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCAmJiB1dGlscy5pc0hUTUxGb3JtKGRhdGEpKSB7XG4gICAgICBkYXRhID0gbmV3IEZvcm1EYXRhKGRhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IGlzRm9ybURhdGEgPSB1dGlscy5pc0Zvcm1EYXRhKGRhdGEpO1xuXG4gICAgaWYgKGlzRm9ybURhdGEpIHtcbiAgICAgIHJldHVybiBoYXNKU09OQ29udGVudFR5cGUgPyBKU09OLnN0cmluZ2lmeShmb3JtRGF0YVRvSlNPTihkYXRhKSkgOiBkYXRhO1xuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0J1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNTdHJlYW0oZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzRmlsZShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCbG9iKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc1JlYWRhYmxlU3RyZWFtKGRhdGEpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgaWYgKHV0aWxzLmlzQXJyYXlCdWZmZXJWaWV3KGRhdGEpKSB7XG4gICAgICByZXR1cm4gZGF0YS5idWZmZXI7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc1VSTFNlYXJjaFBhcmFtcyhkYXRhKSkge1xuICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnLCBmYWxzZSk7XG4gICAgICByZXR1cm4gZGF0YS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGxldCBpc0ZpbGVMaXN0O1xuXG4gICAgaWYgKGlzT2JqZWN0UGF5bG9hZCkge1xuICAgICAgaWYgKGNvbnRlbnRUeXBlLmluZGV4T2YoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpID4gLTEpIHtcbiAgICAgICAgcmV0dXJuIHRvVVJMRW5jb2RlZEZvcm0oZGF0YSwgdGhpcy5mb3JtU2VyaWFsaXplcikudG9TdHJpbmcoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKChpc0ZpbGVMaXN0ID0gdXRpbHMuaXNGaWxlTGlzdChkYXRhKSkgfHwgY29udGVudFR5cGUuaW5kZXhPZignbXVsdGlwYXJ0L2Zvcm0tZGF0YScpID4gLTEpIHtcbiAgICAgICAgY29uc3QgX0Zvcm1EYXRhID0gdGhpcy5lbnYgJiYgdGhpcy5lbnYuRm9ybURhdGE7XG5cbiAgICAgICAgcmV0dXJuIHRvRm9ybURhdGEoXG4gICAgICAgICAgaXNGaWxlTGlzdCA/IHsnZmlsZXNbXSc6IGRhdGF9IDogZGF0YSxcbiAgICAgICAgICBfRm9ybURhdGEgJiYgbmV3IF9Gb3JtRGF0YSgpLFxuICAgICAgICAgIHRoaXMuZm9ybVNlcmlhbGl6ZXJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNPYmplY3RQYXlsb2FkIHx8IGhhc0pTT05Db250ZW50VHlwZSApIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nLCBmYWxzZSk7XG4gICAgICByZXR1cm4gc3RyaW5naWZ5U2FmZWx5KGRhdGEpO1xuICAgIH1cblxuICAgIHJldHVybiBkYXRhO1xuICB9XSxcblxuICB0cmFuc2Zvcm1SZXNwb25zZTogW2Z1bmN0aW9uIHRyYW5zZm9ybVJlc3BvbnNlKGRhdGEpIHtcbiAgICBjb25zdCB0cmFuc2l0aW9uYWwgPSB0aGlzLnRyYW5zaXRpb25hbCB8fCBkZWZhdWx0cy50cmFuc2l0aW9uYWw7XG4gICAgY29uc3QgZm9yY2VkSlNPTlBhcnNpbmcgPSB0cmFuc2l0aW9uYWwgJiYgdHJhbnNpdGlvbmFsLmZvcmNlZEpTT05QYXJzaW5nO1xuICAgIGNvbnN0IEpTT05SZXF1ZXN0ZWQgPSB0aGlzLnJlc3BvbnNlVHlwZSA9PT0gJ2pzb24nO1xuXG4gICAgaWYgKHV0aWxzLmlzUmVzcG9uc2UoZGF0YSkgfHwgdXRpbHMuaXNSZWFkYWJsZVN0cmVhbShkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEgJiYgdXRpbHMuaXNTdHJpbmcoZGF0YSkgJiYgKChmb3JjZWRKU09OUGFyc2luZyAmJiAhdGhpcy5yZXNwb25zZVR5cGUpIHx8IEpTT05SZXF1ZXN0ZWQpKSB7XG4gICAgICBjb25zdCBzaWxlbnRKU09OUGFyc2luZyA9IHRyYW5zaXRpb25hbCAmJiB0cmFuc2l0aW9uYWwuc2lsZW50SlNPTlBhcnNpbmc7XG4gICAgICBjb25zdCBzdHJpY3RKU09OUGFyc2luZyA9ICFzaWxlbnRKU09OUGFyc2luZyAmJiBKU09OUmVxdWVzdGVkO1xuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKHN0cmljdEpTT05QYXJzaW5nKSB7XG4gICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ1N5bnRheEVycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgQXhpb3NFcnJvci5mcm9tKGUsIEF4aW9zRXJyb3IuRVJSX0JBRF9SRVNQT05TRSwgdGhpcywgbnVsbCwgdGhpcy5yZXNwb25zZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG4gIG1heEJvZHlMZW5ndGg6IC0xLFxuXG4gIGVudjoge1xuICAgIEZvcm1EYXRhOiBwbGF0Zm9ybS5jbGFzc2VzLkZvcm1EYXRhLFxuICAgIEJsb2I6IHBsYXRmb3JtLmNsYXNzZXMuQmxvYlxuICB9LFxuXG4gIHZhbGlkYXRlU3RhdHVzOiBmdW5jdGlvbiB2YWxpZGF0ZVN0YXR1cyhzdGF0dXMpIHtcbiAgICByZXR1cm4gc3RhdHVzID49IDIwMCAmJiBzdGF0dXMgPCAzMDA7XG4gIH0sXG5cbiAgaGVhZGVyczoge1xuICAgIGNvbW1vbjoge1xuICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonLFxuICAgICAgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZFxuICAgIH1cbiAgfVxufTtcblxudXRpbHMuZm9yRWFjaChbJ2RlbGV0ZScsICdnZXQnLCAnaGVhZCcsICdwb3N0JywgJ3B1dCcsICdwYXRjaCddLCAobWV0aG9kKSA9PiB7XG4gIGRlZmF1bHRzLmhlYWRlcnNbbWV0aG9kXSA9IHt9O1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IGRlZmF1bHRzO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcblxuLy8gUmF3QXhpb3NIZWFkZXJzIHdob3NlIGR1cGxpY2F0ZXMgYXJlIGlnbm9yZWQgYnkgbm9kZVxuLy8gYy5mLiBodHRwczovL25vZGVqcy5vcmcvYXBpL2h0dHAuaHRtbCNodHRwX21lc3NhZ2VfaGVhZGVyc1xuY29uc3QgaWdub3JlRHVwbGljYXRlT2YgPSB1dGlscy50b09iamVjdFNldChbXG4gICdhZ2UnLCAnYXV0aG9yaXphdGlvbicsICdjb250ZW50LWxlbmd0aCcsICdjb250ZW50LXR5cGUnLCAnZXRhZycsXG4gICdleHBpcmVzJywgJ2Zyb20nLCAnaG9zdCcsICdpZi1tb2RpZmllZC1zaW5jZScsICdpZi11bm1vZGlmaWVkLXNpbmNlJyxcbiAgJ2xhc3QtbW9kaWZpZWQnLCAnbG9jYXRpb24nLCAnbWF4LWZvcndhcmRzJywgJ3Byb3h5LWF1dGhvcml6YXRpb24nLFxuICAncmVmZXJlcicsICdyZXRyeS1hZnRlcicsICd1c2VyLWFnZW50J1xuXSk7XG5cbi8qKlxuICogUGFyc2UgaGVhZGVycyBpbnRvIGFuIG9iamVjdFxuICpcbiAqIGBgYFxuICogRGF0ZTogV2VkLCAyNyBBdWcgMjAxNCAwODo1ODo0OSBHTVRcbiAqIENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvblxuICogQ29ubmVjdGlvbjoga2VlcC1hbGl2ZVxuICogVHJhbnNmZXItRW5jb2Rpbmc6IGNodW5rZWRcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSByYXdIZWFkZXJzIEhlYWRlcnMgbmVlZGluZyB0byBiZSBwYXJzZWRcbiAqXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5leHBvcnQgZGVmYXVsdCByYXdIZWFkZXJzID0+IHtcbiAgY29uc3QgcGFyc2VkID0ge307XG4gIGxldCBrZXk7XG4gIGxldCB2YWw7XG4gIGxldCBpO1xuXG4gIHJhd0hlYWRlcnMgJiYgcmF3SGVhZGVycy5zcGxpdCgnXFxuJykuZm9yRWFjaChmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSBsaW5lLnN1YnN0cmluZygwLCBpKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICB2YWwgPSBsaW5lLnN1YnN0cmluZyhpICsgMSkudHJpbSgpO1xuXG4gICAgaWYgKCFrZXkgfHwgKHBhcnNlZFtrZXldICYmIGlnbm9yZUR1cGxpY2F0ZU9mW2tleV0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ3NldC1jb29raWUnKSB7XG4gICAgICBpZiAocGFyc2VkW2tleV0pIHtcbiAgICAgICAgcGFyc2VkW2tleV0ucHVzaCh2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBbdmFsXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy5qcyc7XG5pbXBvcnQgcGFyc2VIZWFkZXJzIGZyb20gJy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzLmpzJztcblxuY29uc3QgJGludGVybmFscyA9IFN5bWJvbCgnaW50ZXJuYWxzJyk7XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlciAmJiBTdHJpbmcoaGVhZGVyKS50cmltKCkudG9Mb3dlckNhc2UoKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHZhbHVlID09PSBmYWxzZSB8fCB2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHV0aWxzLmlzQXJyYXkodmFsdWUpID8gdmFsdWUubWFwKG5vcm1hbGl6ZVZhbHVlKSA6IFN0cmluZyh2YWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlVG9rZW5zKHN0cikge1xuICBjb25zdCB0b2tlbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBjb25zdCB0b2tlbnNSRSA9IC8oW15cXHMsOz1dKylcXHMqKD86PVxccyooW14sO10rKSk/L2c7XG4gIGxldCBtYXRjaDtcblxuICB3aGlsZSAoKG1hdGNoID0gdG9rZW5zUkUuZXhlYyhzdHIpKSkge1xuICAgIHRva2Vuc1ttYXRjaFsxXV0gPSBtYXRjaFsyXTtcbiAgfVxuXG4gIHJldHVybiB0b2tlbnM7XG59XG5cbmNvbnN0IGlzVmFsaWRIZWFkZXJOYW1lID0gKHN0cikgPT4gL15bLV9hLXpBLVowLTleYHx+LCEjJCUmJyorLl0rJC8udGVzdChzdHIudHJpbSgpKTtcblxuZnVuY3Rpb24gbWF0Y2hIZWFkZXJWYWx1ZShjb250ZXh0LCB2YWx1ZSwgaGVhZGVyLCBmaWx0ZXIsIGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICBpZiAodXRpbHMuaXNGdW5jdGlvbihmaWx0ZXIpKSB7XG4gICAgcmV0dXJuIGZpbHRlci5jYWxsKHRoaXMsIHZhbHVlLCBoZWFkZXIpO1xuICB9XG5cbiAgaWYgKGlzSGVhZGVyTmFtZUZpbHRlcikge1xuICAgIHZhbHVlID0gaGVhZGVyO1xuICB9XG5cbiAgaWYgKCF1dGlscy5pc1N0cmluZyh2YWx1ZSkpIHJldHVybjtcblxuICBpZiAodXRpbHMuaXNTdHJpbmcoZmlsdGVyKSkge1xuICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKGZpbHRlcikgIT09IC0xO1xuICB9XG5cbiAgaWYgKHV0aWxzLmlzUmVnRXhwKGZpbHRlcikpIHtcbiAgICByZXR1cm4gZmlsdGVyLnRlc3QodmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZvcm1hdEhlYWRlcihoZWFkZXIpIHtcbiAgcmV0dXJuIGhlYWRlci50cmltKClcbiAgICAudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8oW2EtelxcZF0pKFxcdyopL2csICh3LCBjaGFyLCBzdHIpID0+IHtcbiAgICAgIHJldHVybiBjaGFyLnRvVXBwZXJDYXNlKCkgKyBzdHI7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQWNjZXNzb3JzKG9iaiwgaGVhZGVyKSB7XG4gIGNvbnN0IGFjY2Vzc29yTmFtZSA9IHV0aWxzLnRvQ2FtZWxDYXNlKCcgJyArIGhlYWRlcik7XG5cbiAgWydnZXQnLCAnc2V0JywgJ2hhcyddLmZvckVhY2gobWV0aG9kTmFtZSA9PiB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgbWV0aG9kTmFtZSArIGFjY2Vzc29yTmFtZSwge1xuICAgICAgdmFsdWU6IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbbWV0aG9kTmFtZV0uY2FsbCh0aGlzLCBoZWFkZXIsIGFyZzEsIGFyZzIsIGFyZzMpO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9KTtcbn1cblxuY2xhc3MgQXhpb3NIZWFkZXJzIHtcbiAgY29uc3RydWN0b3IoaGVhZGVycykge1xuICAgIGhlYWRlcnMgJiYgdGhpcy5zZXQoaGVhZGVycyk7XG4gIH1cblxuICBzZXQoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSwgcmV3cml0ZSkge1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gc2V0SGVhZGVyKF92YWx1ZSwgX2hlYWRlciwgX3Jld3JpdGUpIHtcbiAgICAgIGNvbnN0IGxIZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoX2hlYWRlcik7XG5cbiAgICAgIGlmICghbEhlYWRlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2hlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkoc2VsZiwgbEhlYWRlcik7XG5cbiAgICAgIGlmKCFrZXkgfHwgc2VsZltrZXldID09PSB1bmRlZmluZWQgfHwgX3Jld3JpdGUgPT09IHRydWUgfHwgKF9yZXdyaXRlID09PSB1bmRlZmluZWQgJiYgc2VsZltrZXldICE9PSBmYWxzZSkpIHtcbiAgICAgICAgc2VsZltrZXkgfHwgX2hlYWRlcl0gPSBub3JtYWxpemVWYWx1ZShfdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHNldEhlYWRlcnMgPSAoaGVhZGVycywgX3Jld3JpdGUpID0+XG4gICAgICB1dGlscy5mb3JFYWNoKGhlYWRlcnMsIChfdmFsdWUsIF9oZWFkZXIpID0+IHNldEhlYWRlcihfdmFsdWUsIF9oZWFkZXIsIF9yZXdyaXRlKSk7XG5cbiAgICBpZiAodXRpbHMuaXNQbGFpbk9iamVjdChoZWFkZXIpIHx8IGhlYWRlciBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpIHtcbiAgICAgIHNldEhlYWRlcnMoaGVhZGVyLCB2YWx1ZU9yUmV3cml0ZSlcbiAgICB9IGVsc2UgaWYodXRpbHMuaXNTdHJpbmcoaGVhZGVyKSAmJiAoaGVhZGVyID0gaGVhZGVyLnRyaW0oKSkgJiYgIWlzVmFsaWRIZWFkZXJOYW1lKGhlYWRlcikpIHtcbiAgICAgIHNldEhlYWRlcnMocGFyc2VIZWFkZXJzKGhlYWRlciksIHZhbHVlT3JSZXdyaXRlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzSGVhZGVycyhoZWFkZXIpKSB7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBoZWFkZXIuZW50cmllcygpKSB7XG4gICAgICAgIHNldEhlYWRlcih2YWx1ZSwga2V5LCByZXdyaXRlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaGVhZGVyICE9IG51bGwgJiYgc2V0SGVhZGVyKHZhbHVlT3JSZXdyaXRlLCBoZWFkZXIsIHJld3JpdGUpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgZ2V0KGhlYWRlciwgcGFyc2VyKSB7XG4gICAgaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKGhlYWRlcik7XG5cbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHRoaXMsIGhlYWRlcik7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzW2tleV07XG5cbiAgICAgICAgaWYgKCFwYXJzZXIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyc2VyID09PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIHBhcnNlVG9rZW5zKHZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1dGlscy5pc0Z1bmN0aW9uKHBhcnNlcikpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VyLmNhbGwodGhpcywgdmFsdWUsIGtleSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXRpbHMuaXNSZWdFeHAocGFyc2VyKSkge1xuICAgICAgICAgIHJldHVybiBwYXJzZXIuZXhlYyh2YWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXJzZXIgbXVzdCBiZSBib29sZWFufHJlZ2V4cHxmdW5jdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhcyhoZWFkZXIsIG1hdGNoZXIpIHtcbiAgICBoZWFkZXIgPSBub3JtYWxpemVIZWFkZXIoaGVhZGVyKTtcblxuICAgIGlmIChoZWFkZXIpIHtcbiAgICAgIGNvbnN0IGtleSA9IHV0aWxzLmZpbmRLZXkodGhpcywgaGVhZGVyKTtcblxuICAgICAgcmV0dXJuICEhKGtleSAmJiB0aGlzW2tleV0gIT09IHVuZGVmaW5lZCAmJiAoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlcikpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBkZWxldGUoaGVhZGVyLCBtYXRjaGVyKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IGRlbGV0ZWQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIGRlbGV0ZUhlYWRlcihfaGVhZGVyKSB7XG4gICAgICBfaGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoX2hlYWRlcikge1xuICAgICAgICBjb25zdCBrZXkgPSB1dGlscy5maW5kS2V5KHNlbGYsIF9oZWFkZXIpO1xuXG4gICAgICAgIGlmIChrZXkgJiYgKCFtYXRjaGVyIHx8IG1hdGNoSGVhZGVyVmFsdWUoc2VsZiwgc2VsZltrZXldLCBrZXksIG1hdGNoZXIpKSkge1xuICAgICAgICAgIGRlbGV0ZSBzZWxmW2tleV07XG5cbiAgICAgICAgICBkZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1dGlscy5pc0FycmF5KGhlYWRlcikpIHtcbiAgICAgIGhlYWRlci5mb3JFYWNoKGRlbGV0ZUhlYWRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZUhlYWRlcihoZWFkZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWxldGVkO1xuICB9XG5cbiAgY2xlYXIobWF0Y2hlcikge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzKTtcbiAgICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICAgIGxldCBkZWxldGVkID0gZmFsc2U7XG5cbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBjb25zdCBrZXkgPSBrZXlzW2ldO1xuICAgICAgaWYoIW1hdGNoZXIgfHwgbWF0Y2hIZWFkZXJWYWx1ZSh0aGlzLCB0aGlzW2tleV0sIGtleSwgbWF0Y2hlciwgdHJ1ZSkpIHtcbiAgICAgICAgZGVsZXRlIHRoaXNba2V5XTtcbiAgICAgICAgZGVsZXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XG4gIH1cblxuICBub3JtYWxpemUoZm9ybWF0KSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3QgaGVhZGVycyA9IHt9O1xuXG4gICAgdXRpbHMuZm9yRWFjaCh0aGlzLCAodmFsdWUsIGhlYWRlcikgPT4ge1xuICAgICAgY29uc3Qga2V5ID0gdXRpbHMuZmluZEtleShoZWFkZXJzLCBoZWFkZXIpO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIHNlbGZba2V5XSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBub3JtYWxpemVkID0gZm9ybWF0ID8gZm9ybWF0SGVhZGVyKGhlYWRlcikgOiBTdHJpbmcoaGVhZGVyKS50cmltKCk7XG5cbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBoZWFkZXIpIHtcbiAgICAgICAgZGVsZXRlIHNlbGZbaGVhZGVyXTtcbiAgICAgIH1cblxuICAgICAgc2VsZltub3JtYWxpemVkXSA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcblxuICAgICAgaGVhZGVyc1tub3JtYWxpemVkXSA9IHRydWU7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGNvbmNhdCguLi50YXJnZXRzKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuY29uY2F0KHRoaXMsIC4uLnRhcmdldHMpO1xuICB9XG5cbiAgdG9KU09OKGFzU3RyaW5ncykge1xuICAgIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgICB1dGlscy5mb3JFYWNoKHRoaXMsICh2YWx1ZSwgaGVhZGVyKSA9PiB7XG4gICAgICB2YWx1ZSAhPSBudWxsICYmIHZhbHVlICE9PSBmYWxzZSAmJiAob2JqW2hlYWRlcl0gPSBhc1N0cmluZ3MgJiYgdXRpbHMuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZS5qb2luKCcsICcpIDogdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG9iajtcbiAgfVxuXG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gIH1cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSkubWFwKChbaGVhZGVyLCB2YWx1ZV0pID0+IGhlYWRlciArICc6ICcgKyB2YWx1ZSkuam9pbignXFxuJyk7XG4gIH1cblxuICBnZXQgW1N5bWJvbC50b1N0cmluZ1RhZ10oKSB7XG4gICAgcmV0dXJuICdBeGlvc0hlYWRlcnMnO1xuICB9XG5cbiAgc3RhdGljIGZyb20odGhpbmcpIHtcbiAgICByZXR1cm4gdGhpbmcgaW5zdGFuY2VvZiB0aGlzID8gdGhpbmcgOiBuZXcgdGhpcyh0aGluZyk7XG4gIH1cblxuICBzdGF0aWMgY29uY2F0KGZpcnN0LCAuLi50YXJnZXRzKSB7XG4gICAgY29uc3QgY29tcHV0ZWQgPSBuZXcgdGhpcyhmaXJzdCk7XG5cbiAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4gY29tcHV0ZWQuc2V0KHRhcmdldCkpO1xuXG4gICAgcmV0dXJuIGNvbXB1dGVkO1xuICB9XG5cbiAgc3RhdGljIGFjY2Vzc29yKGhlYWRlcikge1xuICAgIGNvbnN0IGludGVybmFscyA9IHRoaXNbJGludGVybmFsc10gPSAodGhpc1skaW50ZXJuYWxzXSA9IHtcbiAgICAgIGFjY2Vzc29yczoge31cbiAgICB9KTtcblxuICAgIGNvbnN0IGFjY2Vzc29ycyA9IGludGVybmFscy5hY2Nlc3NvcnM7XG4gICAgY29uc3QgcHJvdG90eXBlID0gdGhpcy5wcm90b3R5cGU7XG5cbiAgICBmdW5jdGlvbiBkZWZpbmVBY2Nlc3NvcihfaGVhZGVyKSB7XG4gICAgICBjb25zdCBsSGVhZGVyID0gbm9ybWFsaXplSGVhZGVyKF9oZWFkZXIpO1xuXG4gICAgICBpZiAoIWFjY2Vzc29yc1tsSGVhZGVyXSkge1xuICAgICAgICBidWlsZEFjY2Vzc29ycyhwcm90b3R5cGUsIF9oZWFkZXIpO1xuICAgICAgICBhY2Nlc3NvcnNbbEhlYWRlcl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHV0aWxzLmlzQXJyYXkoaGVhZGVyKSA/IGhlYWRlci5mb3JFYWNoKGRlZmluZUFjY2Vzc29yKSA6IGRlZmluZUFjY2Vzc29yKGhlYWRlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5BeGlvc0hlYWRlcnMuYWNjZXNzb3IoWydDb250ZW50LVR5cGUnLCAnQ29udGVudC1MZW5ndGgnLCAnQWNjZXB0JywgJ0FjY2VwdC1FbmNvZGluZycsICdVc2VyLUFnZW50JywgJ0F1dGhvcml6YXRpb24nXSk7XG5cbi8vIHJlc2VydmVkIG5hbWVzIGhvdGZpeFxudXRpbHMucmVkdWNlRGVzY3JpcHRvcnMoQXhpb3NIZWFkZXJzLnByb3RvdHlwZSwgKHt2YWx1ZX0sIGtleSkgPT4ge1xuICBsZXQgbWFwcGVkID0ga2V5WzBdLnRvVXBwZXJDYXNlKCkgKyBrZXkuc2xpY2UoMSk7IC8vIG1hcCBgc2V0YCA9PiBgU2V0YFxuICByZXR1cm4ge1xuICAgIGdldDogKCkgPT4gdmFsdWUsXG4gICAgc2V0KGhlYWRlclZhbHVlKSB7XG4gICAgICB0aGlzW21hcHBlZF0gPSBoZWFkZXJWYWx1ZTtcbiAgICB9XG4gIH1cbn0pO1xuXG51dGlscy5mcmVlemVNZXRob2RzKEF4aW9zSGVhZGVycyk7XG5cbmV4cG9ydCBkZWZhdWx0IEF4aW9zSGVhZGVycztcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7P09iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlIG9iamVjdFxuICpcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShmbnMsIHJlc3BvbnNlKSB7XG4gIGNvbnN0IGNvbmZpZyA9IHRoaXMgfHwgZGVmYXVsdHM7XG4gIGNvbnN0IGNvbnRleHQgPSByZXNwb25zZSB8fCBjb25maWc7XG4gIGNvbnN0IGhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb250ZXh0LmhlYWRlcnMpO1xuICBsZXQgZGF0YSA9IGNvbnRleHQuZGF0YTtcblxuICB1dGlscy5mb3JFYWNoKGZucywgZnVuY3Rpb24gdHJhbnNmb3JtKGZuKSB7XG4gICAgZGF0YSA9IGZuLmNhbGwoY29uZmlnLCBkYXRhLCBoZWFkZXJzLm5vcm1hbGl6ZSgpLCByZXNwb25zZSA/IHJlc3BvbnNlLnN0YXR1cyA6IHVuZGVmaW5lZCk7XG4gIH0pO1xuXG4gIGhlYWRlcnMubm9ybWFsaXplKCk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNDYW5jZWwodmFsdWUpIHtcbiAgcmV0dXJuICEhKHZhbHVlICYmIHZhbHVlLl9fQ0FOQ0VMX18pO1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMuanMnO1xuXG4vKipcbiAqIEEgYENhbmNlbGVkRXJyb3JgIGlzIGFuIG9iamVjdCB0aGF0IGlzIHRocm93biB3aGVuIGFuIG9wZXJhdGlvbiBpcyBjYW5jZWxlZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBUaGUgY29uZmlnLlxuICogQHBhcmFtIHtPYmplY3Q9fSByZXF1ZXN0IFRoZSByZXF1ZXN0LlxuICpcbiAqIEByZXR1cm5zIHtDYW5jZWxlZEVycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xuZnVuY3Rpb24gQ2FuY2VsZWRFcnJvcihtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gIEF4aW9zRXJyb3IuY2FsbCh0aGlzLCBtZXNzYWdlID09IG51bGwgPyAnY2FuY2VsZWQnIDogbWVzc2FnZSwgQXhpb3NFcnJvci5FUlJfQ0FOQ0VMRUQsIGNvbmZpZywgcmVxdWVzdCk7XG4gIHRoaXMubmFtZSA9ICdDYW5jZWxlZEVycm9yJztcbn1cblxudXRpbHMuaW5oZXJpdHMoQ2FuY2VsZWRFcnJvciwgQXhpb3NFcnJvciwge1xuICBfX0NBTkNFTF9fOiB0cnVlXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQ2FuY2VsZWRFcnJvcjtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuL0F4aW9zRXJyb3IuanMnO1xuXG4vKipcbiAqIFJlc29sdmUgb3IgcmVqZWN0IGEgUHJvbWlzZSBiYXNlZCBvbiByZXNwb25zZSBzdGF0dXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzb2x2ZSBBIGZ1bmN0aW9uIHRoYXQgcmVzb2x2ZXMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWplY3QgQSBmdW5jdGlvbiB0aGF0IHJlamVjdHMgdGhlIHByb21pc2UuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgVGhlIHJlc3BvbnNlLlxuICpcbiAqIEByZXR1cm5zIHtvYmplY3R9IFRoZSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgY29uc3QgdmFsaWRhdGVTdGF0dXMgPSByZXNwb25zZS5jb25maWcudmFsaWRhdGVTdGF0dXM7XG4gIGlmICghcmVzcG9uc2Uuc3RhdHVzIHx8ICF2YWxpZGF0ZVN0YXR1cyB8fCB2YWxpZGF0ZVN0YXR1cyhyZXNwb25zZS5zdGF0dXMpKSB7XG4gICAgcmVzb2x2ZShyZXNwb25zZSk7XG4gIH0gZWxzZSB7XG4gICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgJ1JlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgJyArIHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIFtBeGlvc0Vycm9yLkVSUl9CQURfUkVRVUVTVCwgQXhpb3NFcnJvci5FUlJfQkFEX1JFU1BPTlNFXVtNYXRoLmZsb29yKHJlc3BvbnNlLnN0YXR1cyAvIDEwMCkgLSA0XSxcbiAgICAgIHJlc3BvbnNlLmNvbmZpZyxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VQcm90b2NvbCh1cmwpIHtcbiAgY29uc3QgbWF0Y2ggPSAvXihbLStcXHddezEsMjV9KSg6P1xcL1xcL3w6KS8uZXhlYyh1cmwpO1xuICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgJyc7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDYWxjdWxhdGUgZGF0YSBtYXhSYXRlXG4gKiBAcGFyYW0ge051bWJlcn0gW3NhbXBsZXNDb3VudD0gMTBdXG4gKiBAcGFyYW0ge051bWJlcn0gW21pbj0gMTAwMF1cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZnVuY3Rpb24gc3BlZWRvbWV0ZXIoc2FtcGxlc0NvdW50LCBtaW4pIHtcbiAgc2FtcGxlc0NvdW50ID0gc2FtcGxlc0NvdW50IHx8IDEwO1xuICBjb25zdCBieXRlcyA9IG5ldyBBcnJheShzYW1wbGVzQ291bnQpO1xuICBjb25zdCB0aW1lc3RhbXBzID0gbmV3IEFycmF5KHNhbXBsZXNDb3VudCk7XG4gIGxldCBoZWFkID0gMDtcbiAgbGV0IHRhaWwgPSAwO1xuICBsZXQgZmlyc3RTYW1wbGVUUztcblxuICBtaW4gPSBtaW4gIT09IHVuZGVmaW5lZCA/IG1pbiA6IDEwMDA7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHB1c2goY2h1bmtMZW5ndGgpIHtcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuXG4gICAgY29uc3Qgc3RhcnRlZEF0ID0gdGltZXN0YW1wc1t0YWlsXTtcblxuICAgIGlmICghZmlyc3RTYW1wbGVUUykge1xuICAgICAgZmlyc3RTYW1wbGVUUyA9IG5vdztcbiAgICB9XG5cbiAgICBieXRlc1toZWFkXSA9IGNodW5rTGVuZ3RoO1xuICAgIHRpbWVzdGFtcHNbaGVhZF0gPSBub3c7XG5cbiAgICBsZXQgaSA9IHRhaWw7XG4gICAgbGV0IGJ5dGVzQ291bnQgPSAwO1xuXG4gICAgd2hpbGUgKGkgIT09IGhlYWQpIHtcbiAgICAgIGJ5dGVzQ291bnQgKz0gYnl0ZXNbaSsrXTtcbiAgICAgIGkgPSBpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGhlYWQgPSAoaGVhZCArIDEpICUgc2FtcGxlc0NvdW50O1xuXG4gICAgaWYgKGhlYWQgPT09IHRhaWwpIHtcbiAgICAgIHRhaWwgPSAodGFpbCArIDEpICUgc2FtcGxlc0NvdW50O1xuICAgIH1cblxuICAgIGlmIChub3cgLSBmaXJzdFNhbXBsZVRTIDwgbWluKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcGFzc2VkID0gc3RhcnRlZEF0ICYmIG5vdyAtIHN0YXJ0ZWRBdDtcblxuICAgIHJldHVybiBwYXNzZWQgPyBNYXRoLnJvdW5kKGJ5dGVzQ291bnQgKiAxMDAwIC8gcGFzc2VkKSA6IHVuZGVmaW5lZDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3BlZWRvbWV0ZXI7XG4iLAogICAgIi8qKlxuICogVGhyb3R0bGUgZGVjb3JhdG9yXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHBhcmFtIHtOdW1iZXJ9IGZyZXFcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICovXG5mdW5jdGlvbiB0aHJvdHRsZShmbiwgZnJlcSkge1xuICBsZXQgdGltZXN0YW1wID0gMDtcbiAgbGV0IHRocmVzaG9sZCA9IDEwMDAgLyBmcmVxO1xuICBsZXQgbGFzdEFyZ3M7XG4gIGxldCB0aW1lcjtcblxuICBjb25zdCBpbnZva2UgPSAoYXJncywgbm93ID0gRGF0ZS5ub3coKSkgPT4ge1xuICAgIHRpbWVzdGFtcCA9IG5vdztcbiAgICBsYXN0QXJncyA9IG51bGw7XG4gICAgaWYgKHRpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgdGltZXIgPSBudWxsO1xuICAgIH1cbiAgICBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgfVxuXG4gIGNvbnN0IHRocm90dGxlZCA9ICguLi5hcmdzKSA9PiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBwYXNzZWQgPSBub3cgLSB0aW1lc3RhbXA7XG4gICAgaWYgKCBwYXNzZWQgPj0gdGhyZXNob2xkKSB7XG4gICAgICBpbnZva2UoYXJncywgbm93KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdEFyZ3MgPSBhcmdzO1xuICAgICAgaWYgKCF0aW1lcikge1xuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgICBpbnZva2UobGFzdEFyZ3MpXG4gICAgICAgIH0sIHRocmVzaG9sZCAtIHBhc3NlZCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZmx1c2ggPSAoKSA9PiBsYXN0QXJncyAmJiBpbnZva2UobGFzdEFyZ3MpO1xuXG4gIHJldHVybiBbdGhyb3R0bGVkLCBmbHVzaF07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHRocm90dGxlO1xuIiwKICAgICJpbXBvcnQgc3BlZWRvbWV0ZXIgZnJvbSBcIi4vc3BlZWRvbWV0ZXIuanNcIjtcbmltcG9ydCB0aHJvdHRsZSBmcm9tIFwiLi90aHJvdHRsZS5qc1wiO1xuaW1wb3J0IHV0aWxzIGZyb20gXCIuLi91dGlscy5qc1wiO1xuXG5leHBvcnQgY29uc3QgcHJvZ3Jlc3NFdmVudFJlZHVjZXIgPSAobGlzdGVuZXIsIGlzRG93bmxvYWRTdHJlYW0sIGZyZXEgPSAzKSA9PiB7XG4gIGxldCBieXRlc05vdGlmaWVkID0gMDtcbiAgY29uc3QgX3NwZWVkb21ldGVyID0gc3BlZWRvbWV0ZXIoNTAsIDI1MCk7XG5cbiAgcmV0dXJuIHRocm90dGxlKGUgPT4ge1xuICAgIGNvbnN0IGxvYWRlZCA9IGUubG9hZGVkO1xuICAgIGNvbnN0IHRvdGFsID0gZS5sZW5ndGhDb21wdXRhYmxlID8gZS50b3RhbCA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwcm9ncmVzc0J5dGVzID0gbG9hZGVkIC0gYnl0ZXNOb3RpZmllZDtcbiAgICBjb25zdCByYXRlID0gX3NwZWVkb21ldGVyKHByb2dyZXNzQnl0ZXMpO1xuICAgIGNvbnN0IGluUmFuZ2UgPSBsb2FkZWQgPD0gdG90YWw7XG5cbiAgICBieXRlc05vdGlmaWVkID0gbG9hZGVkO1xuXG4gICAgY29uc3QgZGF0YSA9IHtcbiAgICAgIGxvYWRlZCxcbiAgICAgIHRvdGFsLFxuICAgICAgcHJvZ3Jlc3M6IHRvdGFsID8gKGxvYWRlZCAvIHRvdGFsKSA6IHVuZGVmaW5lZCxcbiAgICAgIGJ5dGVzOiBwcm9ncmVzc0J5dGVzLFxuICAgICAgcmF0ZTogcmF0ZSA/IHJhdGUgOiB1bmRlZmluZWQsXG4gICAgICBlc3RpbWF0ZWQ6IHJhdGUgJiYgdG90YWwgJiYgaW5SYW5nZSA/ICh0b3RhbCAtIGxvYWRlZCkgLyByYXRlIDogdW5kZWZpbmVkLFxuICAgICAgZXZlbnQ6IGUsXG4gICAgICBsZW5ndGhDb21wdXRhYmxlOiB0b3RhbCAhPSBudWxsLFxuICAgICAgW2lzRG93bmxvYWRTdHJlYW0gPyAnZG93bmxvYWQnIDogJ3VwbG9hZCddOiB0cnVlXG4gICAgfTtcblxuICAgIGxpc3RlbmVyKGRhdGEpO1xuICB9LCBmcmVxKTtcbn1cblxuZXhwb3J0IGNvbnN0IHByb2dyZXNzRXZlbnREZWNvcmF0b3IgPSAodG90YWwsIHRocm90dGxlZCkgPT4ge1xuICBjb25zdCBsZW5ndGhDb21wdXRhYmxlID0gdG90YWwgIT0gbnVsbDtcblxuICByZXR1cm4gWyhsb2FkZWQpID0+IHRocm90dGxlZFswXSh7XG4gICAgbGVuZ3RoQ29tcHV0YWJsZSxcbiAgICB0b3RhbCxcbiAgICBsb2FkZWRcbiAgfSksIHRocm90dGxlZFsxXV07XG59XG5cbmV4cG9ydCBjb25zdCBhc3luY0RlY29yYXRvciA9IChmbikgPT4gKC4uLmFyZ3MpID0+IHV0aWxzLmFzYXAoKCkgPT4gZm4oLi4uYXJncykpO1xuIiwKICAgICJpbXBvcnQgcGxhdGZvcm0gZnJvbSAnLi4vcGxhdGZvcm0vaW5kZXguanMnO1xuXG5leHBvcnQgZGVmYXVsdCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJFbnYgPyAoKG9yaWdpbiwgaXNNU0lFKSA9PiAodXJsKSA9PiB7XG4gIHVybCA9IG5ldyBVUkwodXJsLCBwbGF0Zm9ybS5vcmlnaW4pO1xuXG4gIHJldHVybiAoXG4gICAgb3JpZ2luLnByb3RvY29sID09PSB1cmwucHJvdG9jb2wgJiZcbiAgICBvcmlnaW4uaG9zdCA9PT0gdXJsLmhvc3QgJiZcbiAgICAoaXNNU0lFIHx8IG9yaWdpbi5wb3J0ID09PSB1cmwucG9ydClcbiAgKTtcbn0pKFxuICBuZXcgVVJMKHBsYXRmb3JtLm9yaWdpbiksXG4gIHBsYXRmb3JtLm5hdmlnYXRvciAmJiAvKG1zaWV8dHJpZGVudCkvaS50ZXN0KHBsYXRmb3JtLm5hdmlnYXRvci51c2VyQWdlbnQpXG4pIDogKCkgPT4gdHJ1ZTtcbiIsCiAgICAiaW1wb3J0IHV0aWxzIGZyb20gJy4vLi4vdXRpbHMuanMnO1xuaW1wb3J0IHBsYXRmb3JtIGZyb20gJy4uL3BsYXRmb3JtL2luZGV4LmpzJztcblxuZXhwb3J0IGRlZmF1bHQgcGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52ID9cblxuICAvLyBTdGFuZGFyZCBicm93c2VyIGVudnMgc3VwcG9ydCBkb2N1bWVudC5jb29raWVcbiAge1xuICAgIHdyaXRlKG5hbWUsIHZhbHVlLCBleHBpcmVzLCBwYXRoLCBkb21haW4sIHNlY3VyZSkge1xuICAgICAgY29uc3QgY29va2llID0gW25hbWUgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpXTtcblxuICAgICAgdXRpbHMuaXNOdW1iZXIoZXhwaXJlcykgJiYgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuXG4gICAgICB1dGlscy5pc1N0cmluZyhwYXRoKSAmJiBjb29raWUucHVzaCgncGF0aD0nICsgcGF0aCk7XG5cbiAgICAgIHV0aWxzLmlzU3RyaW5nKGRvbWFpbikgJiYgY29va2llLnB1c2goJ2RvbWFpbj0nICsgZG9tYWluKTtcblxuICAgICAgc2VjdXJlID09PSB0cnVlICYmIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcblxuICAgICAgZG9jdW1lbnQuY29va2llID0gY29va2llLmpvaW4oJzsgJyk7XG4gICAgfSxcblxuICAgIHJlYWQobmFtZSkge1xuICAgICAgY29uc3QgbWF0Y2ggPSBkb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgnKF58O1xcXFxzKikoJyArIG5hbWUgKyAnKT0oW147XSopJykpO1xuICAgICAgcmV0dXJuIChtYXRjaCA/IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFszXSkgOiBudWxsKTtcbiAgICB9LFxuXG4gICAgcmVtb3ZlKG5hbWUpIHtcbiAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgfVxuICB9XG5cbiAgOlxuXG4gIC8vIE5vbi1zdGFuZGFyZCBicm93c2VyIGVudiAod2ViIHdvcmtlcnMsIHJlYWN0LW5hdGl2ZSkgbGFjayBuZWVkZWQgc3VwcG9ydC5cbiAge1xuICAgIHdyaXRlKCkge30sXG4gICAgcmVhZCgpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgcmVtb3ZlKCkge31cbiAgfTtcblxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIFVSTCBpcyBhYnNvbHV0ZSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGlzQWJzb2x1dGVVUkwodXJsKSB7XG4gIC8vIEEgVVJMIGlzIGNvbnNpZGVyZWQgYWJzb2x1dGUgaWYgaXQgYmVnaW5zIHdpdGggXCI8c2NoZW1lPjovL1wiIG9yIFwiLy9cIiAocHJvdG9jb2wtcmVsYXRpdmUgVVJMKS5cbiAgLy8gUkZDIDM5ODYgZGVmaW5lcyBzY2hlbWUgbmFtZSBhcyBhIHNlcXVlbmNlIG9mIGNoYXJhY3RlcnMgYmVnaW5uaW5nIHdpdGggYSBsZXR0ZXIgYW5kIGZvbGxvd2VkXG4gIC8vIGJ5IGFueSBjb21iaW5hdGlvbiBvZiBsZXR0ZXJzLCBkaWdpdHMsIHBsdXMsIHBlcmlvZCwgb3IgaHlwaGVuLlxuICByZXR1cm4gL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3QodXJsKTtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgc3BlY2lmaWVkIFVSTHNcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSTCBUaGUgYmFzZSBVUkxcbiAqIEBwYXJhbSB7c3RyaW5nfSByZWxhdGl2ZVVSTCBUaGUgcmVsYXRpdmUgVVJMXG4gKlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZWxhdGl2ZVVSTCkge1xuICByZXR1cm4gcmVsYXRpdmVVUkxcbiAgICA/IGJhc2VVUkwucmVwbGFjZSgvXFwvP1xcLyQvLCAnJykgKyAnLycgKyByZWxhdGl2ZVVSTC5yZXBsYWNlKC9eXFwvKy8sICcnKVxuICAgIDogYmFzZVVSTDtcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgaXNBYnNvbHV0ZVVSTCBmcm9tICcuLi9oZWxwZXJzL2lzQWJzb2x1dGVVUkwuanMnO1xuaW1wb3J0IGNvbWJpbmVVUkxzIGZyb20gJy4uL2hlbHBlcnMvY29tYmluZVVSTHMuanMnO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgVVJMIGJ5IGNvbWJpbmluZyB0aGUgYmFzZVVSTCB3aXRoIHRoZSByZXF1ZXN0ZWRVUkwsXG4gKiBvbmx5IHdoZW4gdGhlIHJlcXVlc3RlZFVSTCBpcyBub3QgYWxyZWFkeSBhbiBhYnNvbHV0ZSBVUkwuXG4gKiBJZiB0aGUgcmVxdWVzdFVSTCBpcyBhYnNvbHV0ZSwgdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSByZXF1ZXN0ZWRVUkwgdW50b3VjaGVkLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlVVJMIFRoZSBiYXNlIFVSTFxuICogQHBhcmFtIHtzdHJpbmd9IHJlcXVlc3RlZFVSTCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgdG8gY29tYmluZVxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjb21iaW5lZCBmdWxsIHBhdGhcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYnVpbGRGdWxsUGF0aChiYXNlVVJMLCByZXF1ZXN0ZWRVUkwsIGFsbG93QWJzb2x1dGVVcmxzKSB7XG4gIGxldCBpc1JlbGF0aXZlVXJsID0gIWlzQWJzb2x1dGVVUkwocmVxdWVzdGVkVVJMKTtcbiAgaWYgKGJhc2VVUkwgJiYgaXNSZWxhdGl2ZVVybCB8fCBhbGxvd0Fic29sdXRlVXJscyA9PSBmYWxzZSkge1xuICAgIHJldHVybiBjb21iaW5lVVJMcyhiYXNlVVJMLCByZXF1ZXN0ZWRVUkwpO1xuICB9XG4gIHJldHVybiByZXF1ZXN0ZWRVUkw7XG59XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4vQXhpb3NIZWFkZXJzLmpzXCI7XG5cbmNvbnN0IGhlYWRlcnNUb09iamVjdCA9ICh0aGluZykgPT4gdGhpbmcgaW5zdGFuY2VvZiBBeGlvc0hlYWRlcnMgPyB7IC4uLnRoaW5nIH0gOiB0aGluZztcblxuLyoqXG4gKiBDb25maWctc3BlY2lmaWMgbWVyZ2UtZnVuY3Rpb24gd2hpY2ggY3JlYXRlcyBhIG5ldyBjb25maWctb2JqZWN0XG4gKiBieSBtZXJnaW5nIHR3byBjb25maWd1cmF0aW9uIG9iamVjdHMgdG9nZXRoZXIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZzFcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcyXG4gKlxuICogQHJldHVybnMge09iamVjdH0gTmV3IG9iamVjdCByZXN1bHRpbmcgZnJvbSBtZXJnaW5nIGNvbmZpZzIgdG8gY29uZmlnMVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtZXJnZUNvbmZpZyhjb25maWcxLCBjb25maWcyKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICBjb25maWcyID0gY29uZmlnMiB8fCB7fTtcbiAgY29uc3QgY29uZmlnID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0TWVyZ2VkVmFsdWUodGFyZ2V0LCBzb3VyY2UsIHByb3AsIGNhc2VsZXNzKSB7XG4gICAgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3QodGFyZ2V0KSAmJiB1dGlscy5pc1BsYWluT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB1dGlscy5tZXJnZS5jYWxsKHtjYXNlbGVzc30sIHRhcmdldCwgc291cmNlKTtcbiAgICB9IGVsc2UgaWYgKHV0aWxzLmlzUGxhaW5PYmplY3Qoc291cmNlKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlKHt9LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAodXRpbHMuaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICByZXR1cm4gc291cmNlLnNsaWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEZWVwUHJvcGVydGllcyhhLCBiLCBwcm9wICwgY2FzZWxlc3MpIHtcbiAgICBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGIpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoYSwgYiwgcHJvcCAsIGNhc2VsZXNzKTtcbiAgICB9IGVsc2UgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChhKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYSwgcHJvcCAsIGNhc2VsZXNzKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gdmFsdWVGcm9tQ29uZmlnMihhLCBiKSB7XG4gICAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChiKSkge1xuICAgICAgcmV0dXJuIGdldE1lcmdlZFZhbHVlKHVuZGVmaW5lZCwgYik7XG4gICAgfVxuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIGZ1bmN0aW9uIGRlZmF1bHRUb0NvbmZpZzIoYSwgYikge1xuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoYikpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGIpO1xuICAgIH0gZWxzZSBpZiAoIXV0aWxzLmlzVW5kZWZpbmVkKGEpKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUodW5kZWZpbmVkLCBhKTtcbiAgICB9XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgZnVuY3Rpb24gbWVyZ2VEaXJlY3RLZXlzKGEsIGIsIHByb3ApIHtcbiAgICBpZiAocHJvcCBpbiBjb25maWcyKSB7XG4gICAgICByZXR1cm4gZ2V0TWVyZ2VkVmFsdWUoYSwgYik7XG4gICAgfSBlbHNlIGlmIChwcm9wIGluIGNvbmZpZzEpIHtcbiAgICAgIHJldHVybiBnZXRNZXJnZWRWYWx1ZSh1bmRlZmluZWQsIGEpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG1lcmdlTWFwID0ge1xuICAgIHVybDogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBtZXRob2Q6IHZhbHVlRnJvbUNvbmZpZzIsXG4gICAgZGF0YTogdmFsdWVGcm9tQ29uZmlnMixcbiAgICBiYXNlVVJMOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdHJhbnNmb3JtUmVzcG9uc2U6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcGFyYW1zU2VyaWFsaXplcjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB0aW1lb3V0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRpbWVvdXRNZXNzYWdlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHdpdGhDcmVkZW50aWFsczogZGVmYXVsdFRvQ29uZmlnMixcbiAgICB3aXRoWFNSRlRva2VuOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGFkYXB0ZXI6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgcmVzcG9uc2VUeXBlOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHhzcmZDb29raWVOYW1lOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHhzcmZIZWFkZXJOYW1lOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIG9uVXBsb2FkUHJvZ3Jlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgb25Eb3dubG9hZFByb2dyZXNzOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGRlY29tcHJlc3M6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgbWF4Q29udGVudExlbmd0aDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBtYXhCb2R5TGVuZ3RoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIGJlZm9yZVJlZGlyZWN0OiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHRyYW5zcG9ydDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBodHRwQWdlbnQ6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgaHR0cHNBZ2VudDogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBjYW5jZWxUb2tlbjogZGVmYXVsdFRvQ29uZmlnMixcbiAgICBzb2NrZXRQYXRoOiBkZWZhdWx0VG9Db25maWcyLFxuICAgIHJlc3BvbnNlRW5jb2Rpbmc6IGRlZmF1bHRUb0NvbmZpZzIsXG4gICAgdmFsaWRhdGVTdGF0dXM6IG1lcmdlRGlyZWN0S2V5cyxcbiAgICBoZWFkZXJzOiAoYSwgYiAsIHByb3ApID0+IG1lcmdlRGVlcFByb3BlcnRpZXMoaGVhZGVyc1RvT2JqZWN0KGEpLCBoZWFkZXJzVG9PYmplY3QoYikscHJvcCwgdHJ1ZSlcbiAgfTtcblxuICB1dGlscy5mb3JFYWNoKE9iamVjdC5rZXlzKE9iamVjdC5hc3NpZ24oe30sIGNvbmZpZzEsIGNvbmZpZzIpKSwgZnVuY3Rpb24gY29tcHV0ZUNvbmZpZ1ZhbHVlKHByb3ApIHtcbiAgICBjb25zdCBtZXJnZSA9IG1lcmdlTWFwW3Byb3BdIHx8IG1lcmdlRGVlcFByb3BlcnRpZXM7XG4gICAgY29uc3QgY29uZmlnVmFsdWUgPSBtZXJnZShjb25maWcxW3Byb3BdLCBjb25maWcyW3Byb3BdLCBwcm9wKTtcbiAgICAodXRpbHMuaXNVbmRlZmluZWQoY29uZmlnVmFsdWUpICYmIG1lcmdlICE9PSBtZXJnZURpcmVjdEtleXMpIHx8IChjb25maWdbcHJvcF0gPSBjb25maWdWYWx1ZSk7XG4gIH0pO1xuXG4gIHJldHVybiBjb25maWc7XG59XG4iLAogICAgImltcG9ydCBwbGF0Zm9ybSBmcm9tIFwiLi4vcGxhdGZvcm0vaW5kZXguanNcIjtcbmltcG9ydCB1dGlscyBmcm9tIFwiLi4vdXRpbHMuanNcIjtcbmltcG9ydCBpc1VSTFNhbWVPcmlnaW4gZnJvbSBcIi4vaXNVUkxTYW1lT3JpZ2luLmpzXCI7XG5pbXBvcnQgY29va2llcyBmcm9tIFwiLi9jb29raWVzLmpzXCI7XG5pbXBvcnQgYnVpbGRGdWxsUGF0aCBmcm9tIFwiLi4vY29yZS9idWlsZEZ1bGxQYXRoLmpzXCI7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSBcIi4uL2NvcmUvbWVyZ2VDb25maWcuanNcIjtcbmltcG9ydCBBeGlvc0hlYWRlcnMgZnJvbSBcIi4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzXCI7XG5pbXBvcnQgYnVpbGRVUkwgZnJvbSBcIi4vYnVpbGRVUkwuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgKGNvbmZpZykgPT4ge1xuICBjb25zdCBuZXdDb25maWcgPSBtZXJnZUNvbmZpZyh7fSwgY29uZmlnKTtcblxuICBsZXQge2RhdGEsIHdpdGhYU1JGVG9rZW4sIHhzcmZIZWFkZXJOYW1lLCB4c3JmQ29va2llTmFtZSwgaGVhZGVycywgYXV0aH0gPSBuZXdDb25maWc7XG5cbiAgbmV3Q29uZmlnLmhlYWRlcnMgPSBoZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oaGVhZGVycyk7XG5cbiAgbmV3Q29uZmlnLnVybCA9IGJ1aWxkVVJMKGJ1aWxkRnVsbFBhdGgobmV3Q29uZmlnLmJhc2VVUkwsIG5ld0NvbmZpZy51cmwsIG5ld0NvbmZpZy5hbGxvd0Fic29sdXRlVXJscyksIGNvbmZpZy5wYXJhbXMsIGNvbmZpZy5wYXJhbXNTZXJpYWxpemVyKTtcblxuICAvLyBIVFRQIGJhc2ljIGF1dGhlbnRpY2F0aW9uXG4gIGlmIChhdXRoKSB7XG4gICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArXG4gICAgICBidG9hKChhdXRoLnVzZXJuYW1lIHx8ICcnKSArICc6JyArIChhdXRoLnBhc3N3b3JkID8gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGF1dGgucGFzc3dvcmQpKSA6ICcnKSlcbiAgICApO1xuICB9XG5cbiAgbGV0IGNvbnRlbnRUeXBlO1xuXG4gIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpKSB7XG4gICAgaWYgKHBsYXRmb3JtLmhhc1N0YW5kYXJkQnJvd3NlckVudiB8fCBwbGF0Zm9ybS5oYXNTdGFuZGFyZEJyb3dzZXJXZWJXb3JrZXJFbnYpIHtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUodW5kZWZpbmVkKTsgLy8gTGV0IHRoZSBicm93c2VyIHNldCBpdFxuICAgIH0gZWxzZSBpZiAoKGNvbnRlbnRUeXBlID0gaGVhZGVycy5nZXRDb250ZW50VHlwZSgpKSAhPT0gZmFsc2UpIHtcbiAgICAgIC8vIGZpeCBzZW1pY29sb24gZHVwbGljYXRpb24gaXNzdWUgZm9yIFJlYWN0TmF0aXZlIEZvcm1EYXRhIGltcGxlbWVudGF0aW9uXG4gICAgICBjb25zdCBbdHlwZSwgLi4udG9rZW5zXSA9IGNvbnRlbnRUeXBlID8gY29udGVudFR5cGUuc3BsaXQoJzsnKS5tYXAodG9rZW4gPT4gdG9rZW4udHJpbSgpKS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcbiAgICAgIGhlYWRlcnMuc2V0Q29udGVudFR5cGUoW3R5cGUgfHwgJ211bHRpcGFydC9mb3JtLWRhdGEnLCAuLi50b2tlbnNdLmpvaW4oJzsgJykpO1xuICAgIH1cbiAgfVxuXG4gIC8vIEFkZCB4c3JmIGhlYWRlclxuICAvLyBUaGlzIGlzIG9ubHkgZG9uZSBpZiBydW5uaW5nIGluIGEgc3RhbmRhcmQgYnJvd3NlciBlbnZpcm9ubWVudC5cbiAgLy8gU3BlY2lmaWNhbGx5IG5vdCBpZiB3ZSdyZSBpbiBhIHdlYiB3b3JrZXIsIG9yIHJlYWN0LW5hdGl2ZS5cblxuICBpZiAocGxhdGZvcm0uaGFzU3RhbmRhcmRCcm93c2VyRW52KSB7XG4gICAgd2l0aFhTUkZUb2tlbiAmJiB1dGlscy5pc0Z1bmN0aW9uKHdpdGhYU1JGVG9rZW4pICYmICh3aXRoWFNSRlRva2VuID0gd2l0aFhTUkZUb2tlbihuZXdDb25maWcpKTtcblxuICAgIGlmICh3aXRoWFNSRlRva2VuIHx8ICh3aXRoWFNSRlRva2VuICE9PSBmYWxzZSAmJiBpc1VSTFNhbWVPcmlnaW4obmV3Q29uZmlnLnVybCkpKSB7XG4gICAgICAvLyBBZGQgeHNyZiBoZWFkZXJcbiAgICAgIGNvbnN0IHhzcmZWYWx1ZSA9IHhzcmZIZWFkZXJOYW1lICYmIHhzcmZDb29raWVOYW1lICYmIGNvb2tpZXMucmVhZCh4c3JmQ29va2llTmFtZSk7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgaGVhZGVycy5zZXQoeHNyZkhlYWRlck5hbWUsIHhzcmZWYWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5ld0NvbmZpZztcbn1cblxuIiwKICAgICJpbXBvcnQgdXRpbHMgZnJvbSAnLi8uLi91dGlscy5qcyc7XG5pbXBvcnQgc2V0dGxlIGZyb20gJy4vLi4vY29yZS9zZXR0bGUuanMnO1xuaW1wb3J0IHRyYW5zaXRpb25hbERlZmF1bHRzIGZyb20gJy4uL2RlZmF1bHRzL3RyYW5zaXRpb25hbC5qcyc7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tICcuLi9jb3JlL0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IHBhcnNlUHJvdG9jb2wgZnJvbSAnLi4vaGVscGVycy9wYXJzZVByb3RvY29sLmpzJztcbmltcG9ydCBwbGF0Zm9ybSBmcm9tICcuLi9wbGF0Zm9ybS9pbmRleC5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4uL2NvcmUvQXhpb3NIZWFkZXJzLmpzJztcbmltcG9ydCB7cHJvZ3Jlc3NFdmVudFJlZHVjZXJ9IGZyb20gJy4uL2hlbHBlcnMvcHJvZ3Jlc3NFdmVudFJlZHVjZXIuanMnO1xuaW1wb3J0IHJlc29sdmVDb25maWcgZnJvbSBcIi4uL2hlbHBlcnMvcmVzb2x2ZUNvbmZpZy5qc1wiO1xuXG5jb25zdCBpc1hIUkFkYXB0ZXJTdXBwb3J0ZWQgPSB0eXBlb2YgWE1MSHR0cFJlcXVlc3QgIT09ICd1bmRlZmluZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBpc1hIUkFkYXB0ZXJTdXBwb3J0ZWQgJiYgZnVuY3Rpb24gKGNvbmZpZykge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gZGlzcGF0Y2hYaHJSZXF1ZXN0KHJlc29sdmUsIHJlamVjdCkge1xuICAgIGNvbnN0IF9jb25maWcgPSByZXNvbHZlQ29uZmlnKGNvbmZpZyk7XG4gICAgbGV0IHJlcXVlc3REYXRhID0gX2NvbmZpZy5kYXRhO1xuICAgIGNvbnN0IHJlcXVlc3RIZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oX2NvbmZpZy5oZWFkZXJzKS5ub3JtYWxpemUoKTtcbiAgICBsZXQge3Jlc3BvbnNlVHlwZSwgb25VcGxvYWRQcm9ncmVzcywgb25Eb3dubG9hZFByb2dyZXNzfSA9IF9jb25maWc7XG4gICAgbGV0IG9uQ2FuY2VsZWQ7XG4gICAgbGV0IHVwbG9hZFRocm90dGxlZCwgZG93bmxvYWRUaHJvdHRsZWQ7XG4gICAgbGV0IGZsdXNoVXBsb2FkLCBmbHVzaERvd25sb2FkO1xuXG4gICAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICAgIGZsdXNoVXBsb2FkICYmIGZsdXNoVXBsb2FkKCk7IC8vIGZsdXNoIGV2ZW50c1xuICAgICAgZmx1c2hEb3dubG9hZCAmJiBmbHVzaERvd25sb2FkKCk7IC8vIGZsdXNoIGV2ZW50c1xuXG4gICAgICBfY29uZmlnLmNhbmNlbFRva2VuICYmIF9jb25maWcuY2FuY2VsVG9rZW4udW5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG5cbiAgICAgIF9jb25maWcuc2lnbmFsICYmIF9jb25maWcuc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgfVxuXG4gICAgbGV0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgIHJlcXVlc3Qub3BlbihfY29uZmlnLm1ldGhvZC50b1VwcGVyQ2FzZSgpLCBfY29uZmlnLnVybCwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgdGhlIHJlcXVlc3QgdGltZW91dCBpbiBNU1xuICAgIHJlcXVlc3QudGltZW91dCA9IF9jb25maWcudGltZW91dDtcblxuICAgIGZ1bmN0aW9uIG9ubG9hZGVuZCgpIHtcbiAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gQXhpb3NIZWFkZXJzLmZyb20oXG4gICAgICAgICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgJiYgcmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9ICFyZXNwb25zZVR5cGUgfHwgcmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgcmVzcG9uc2VUeXBlID09PSAnanNvbicgP1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlVGV4dCA6IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnLFxuICAgICAgICByZXF1ZXN0XG4gICAgICB9O1xuXG4gICAgICBzZXR0bGUoZnVuY3Rpb24gX3Jlc29sdmUodmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH0sIGZ1bmN0aW9uIF9yZWplY3QoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICBkb25lKCk7XG4gICAgICB9LCByZXNwb25zZSk7XG5cbiAgICAgIC8vIENsZWFuIHVwIHJlcXVlc3RcbiAgICAgIHJlcXVlc3QgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICgnb25sb2FkZW5kJyBpbiByZXF1ZXN0KSB7XG4gICAgICAvLyBVc2Ugb25sb2FkZW5kIGlmIGF2YWlsYWJsZVxuICAgICAgcmVxdWVzdC5vbmxvYWRlbmQgPSBvbmxvYWRlbmQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIExpc3RlbiBmb3IgcmVhZHkgc3RhdGUgdG8gZW11bGF0ZSBvbmxvYWRlbmRcbiAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlTG9hZCgpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0IHx8IHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgICAvLyBoYW5kbGVkIGJ5IG9uZXJyb3IgaW5zdGVhZFxuICAgICAgICAvLyBXaXRoIG9uZSBleGNlcHRpb246IHJlcXVlc3QgdGhhdCB1c2luZyBmaWxlOiBwcm90b2NvbCwgbW9zdCBicm93c2Vyc1xuICAgICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICAgIGlmIChyZXF1ZXN0LnN0YXR1cyA9PT0gMCAmJiAhKHJlcXVlc3QucmVzcG9uc2VVUkwgJiYgcmVxdWVzdC5yZXNwb25zZVVSTC5pbmRleE9mKCdmaWxlOicpID09PSAwKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyByZWFkeXN0YXRlIGhhbmRsZXIgaXMgY2FsbGluZyBiZWZvcmUgb25lcnJvciBvciBvbnRpbWVvdXQgaGFuZGxlcnMsXG4gICAgICAgIC8vIHNvIHdlIHNob3VsZCBjYWxsIG9ubG9hZGVuZCBvbiB0aGUgbmV4dCAndGljaydcbiAgICAgICAgc2V0VGltZW91dChvbmxvYWRlbmQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgYnJvd3NlciByZXF1ZXN0IGNhbmNlbGxhdGlvbiAoYXMgb3Bwb3NlZCB0byBhIG1hbnVhbCBjYW5jZWxsYXRpb24pXG4gICAgcmVxdWVzdC5vbmFib3J0ID0gZnVuY3Rpb24gaGFuZGxlQWJvcnQoKSB7XG4gICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1JlcXVlc3QgYWJvcnRlZCcsIEF4aW9zRXJyb3IuRUNPTk5BQk9SVEVELCBjb25maWcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBBeGlvc0Vycm9yLkVSUl9ORVRXT1JLLCBjb25maWcsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgbGV0IHRpbWVvdXRFcnJvck1lc3NhZ2UgPSBfY29uZmlnLnRpbWVvdXQgPyAndGltZW91dCBvZiAnICsgX2NvbmZpZy50aW1lb3V0ICsgJ21zIGV4Y2VlZGVkJyA6ICd0aW1lb3V0IGV4Y2VlZGVkJztcbiAgICAgIGNvbnN0IHRyYW5zaXRpb25hbCA9IF9jb25maWcudHJhbnNpdGlvbmFsIHx8IHRyYW5zaXRpb25hbERlZmF1bHRzO1xuICAgICAgaWYgKF9jb25maWcudGltZW91dEVycm9yTWVzc2FnZSkge1xuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlID0gX2NvbmZpZy50aW1lb3V0RXJyb3JNZXNzYWdlO1xuICAgICAgfVxuICAgICAgcmVqZWN0KG5ldyBBeGlvc0Vycm9yKFxuICAgICAgICB0aW1lb3V0RXJyb3JNZXNzYWdlLFxuICAgICAgICB0cmFuc2l0aW9uYWwuY2xhcmlmeVRpbWVvdXRFcnJvciA/IEF4aW9zRXJyb3IuRVRJTUVET1VUIDogQXhpb3NFcnJvci5FQ09OTkFCT1JURUQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdCkpO1xuXG4gICAgICAvLyBDbGVhbiB1cCByZXF1ZXN0XG4gICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICB9O1xuXG4gICAgLy8gUmVtb3ZlIENvbnRlbnQtVHlwZSBpZiBkYXRhIGlzIHVuZGVmaW5lZFxuICAgIHJlcXVlc3REYXRhID09PSB1bmRlZmluZWQgJiYgcmVxdWVzdEhlYWRlcnMuc2V0Q29udGVudFR5cGUobnVsbCk7XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycy50b0pTT04oKSwgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIHdpdGhDcmVkZW50aWFscyB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmICghdXRpbHMuaXNVbmRlZmluZWQoX2NvbmZpZy53aXRoQ3JlZGVudGlhbHMpKSB7XG4gICAgICByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9ICEhX2NvbmZpZy53aXRoQ3JlZGVudGlhbHM7XG4gICAgfVxuXG4gICAgLy8gQWRkIHJlc3BvbnNlVHlwZSB0byByZXF1ZXN0IGlmIG5lZWRlZFxuICAgIGlmIChyZXNwb25zZVR5cGUgJiYgcmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcbiAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gX2NvbmZpZy5yZXNwb25zZVR5cGU7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHByb2dyZXNzIGlmIG5lZWRlZFxuICAgIGlmIChvbkRvd25sb2FkUHJvZ3Jlc3MpIHtcbiAgICAgIChbZG93bmxvYWRUaHJvdHRsZWQsIGZsdXNoRG93bmxvYWRdID0gcHJvZ3Jlc3NFdmVudFJlZHVjZXIob25Eb3dubG9hZFByb2dyZXNzLCB0cnVlKSk7XG4gICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgZG93bmxvYWRUaHJvdHRsZWQpO1xuICAgIH1cblxuICAgIC8vIE5vdCBhbGwgYnJvd3NlcnMgc3VwcG9ydCB1cGxvYWQgZXZlbnRzXG4gICAgaWYgKG9uVXBsb2FkUHJvZ3Jlc3MgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIChbdXBsb2FkVGhyb3R0bGVkLCBmbHVzaFVwbG9hZF0gPSBwcm9ncmVzc0V2ZW50UmVkdWNlcihvblVwbG9hZFByb2dyZXNzKSk7XG5cbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdXBsb2FkVGhyb3R0bGVkKTtcblxuICAgICAgcmVxdWVzdC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVuZCcsIGZsdXNoVXBsb2FkKTtcbiAgICB9XG5cbiAgICBpZiAoX2NvbmZpZy5jYW5jZWxUb2tlbiB8fCBfY29uZmlnLnNpZ25hbCkge1xuICAgICAgLy8gSGFuZGxlIGNhbmNlbGxhdGlvblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbiAgICAgIG9uQ2FuY2VsZWQgPSBjYW5jZWwgPT4ge1xuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KCFjYW5jZWwgfHwgY2FuY2VsLnR5cGUgPyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcsIHJlcXVlc3QpIDogY2FuY2VsKTtcbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH07XG5cbiAgICAgIF9jb25maWcuY2FuY2VsVG9rZW4gJiYgX2NvbmZpZy5jYW5jZWxUb2tlbi5zdWJzY3JpYmUob25DYW5jZWxlZCk7XG4gICAgICBpZiAoX2NvbmZpZy5zaWduYWwpIHtcbiAgICAgICAgX2NvbmZpZy5zaWduYWwuYWJvcnRlZCA/IG9uQ2FuY2VsZWQoKSA6IF9jb25maWcuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0Jywgb25DYW5jZWxlZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcHJvdG9jb2wgPSBwYXJzZVByb3RvY29sKF9jb25maWcudXJsKTtcblxuICAgIGlmIChwcm90b2NvbCAmJiBwbGF0Zm9ybS5wcm90b2NvbHMuaW5kZXhPZihwcm90b2NvbCkgPT09IC0xKSB7XG4gICAgICByZWplY3QobmV3IEF4aW9zRXJyb3IoJ1Vuc3VwcG9ydGVkIHByb3RvY29sICcgKyBwcm90b2NvbCArICc6JywgQXhpb3NFcnJvci5FUlJfQkFEX1JFUVVFU1QsIGNvbmZpZykpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSB8fCBudWxsKTtcbiAgfSk7XG59XG4iLAogICAgImltcG9ydCBDYW5jZWxlZEVycm9yIGZyb20gXCIuLi9jYW5jZWwvQ2FuY2VsZWRFcnJvci5qc1wiO1xuaW1wb3J0IEF4aW9zRXJyb3IgZnJvbSBcIi4uL2NvcmUvQXhpb3NFcnJvci5qc1wiO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcblxuY29uc3QgY29tcG9zZVNpZ25hbHMgPSAoc2lnbmFscywgdGltZW91dCkgPT4ge1xuICBjb25zdCB7bGVuZ3RofSA9IChzaWduYWxzID0gc2lnbmFscyA/IHNpZ25hbHMuZmlsdGVyKEJvb2xlYW4pIDogW10pO1xuXG4gIGlmICh0aW1lb3V0IHx8IGxlbmd0aCkge1xuICAgIGxldCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gICAgbGV0IGFib3J0ZWQ7XG5cbiAgICBjb25zdCBvbmFib3J0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaWYgKCFhYm9ydGVkKSB7XG4gICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICBjb25zdCBlcnIgPSByZWFzb24gaW5zdGFuY2VvZiBFcnJvciA/IHJlYXNvbiA6IHRoaXMucmVhc29uO1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KGVyciBpbnN0YW5jZW9mIEF4aW9zRXJyb3IgPyBlcnIgOiBuZXcgQ2FuY2VsZWRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogZXJyKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHRpbWVyID0gdGltZW91dCAmJiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgIG9uYWJvcnQobmV3IEF4aW9zRXJyb3IoYHRpbWVvdXQgJHt0aW1lb3V0fSBvZiBtcyBleGNlZWRlZGAsIEF4aW9zRXJyb3IuRVRJTUVET1VUKSlcbiAgICB9LCB0aW1lb3V0KVxuXG4gICAgY29uc3QgdW5zdWJzY3JpYmUgPSAoKSA9PiB7XG4gICAgICBpZiAoc2lnbmFscykge1xuICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICB0aW1lciA9IG51bGw7XG4gICAgICAgIHNpZ25hbHMuZm9yRWFjaChzaWduYWwgPT4ge1xuICAgICAgICAgIHNpZ25hbC51bnN1YnNjcmliZSA/IHNpZ25hbC51bnN1YnNjcmliZShvbmFib3J0KSA6IHNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uYWJvcnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2lnbmFscyA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2lnbmFscy5mb3JFYWNoKChzaWduYWwpID0+IHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIG9uYWJvcnQpKTtcblxuICAgIGNvbnN0IHtzaWduYWx9ID0gY29udHJvbGxlcjtcblxuICAgIHNpZ25hbC51bnN1YnNjcmliZSA9ICgpID0+IHV0aWxzLmFzYXAodW5zdWJzY3JpYmUpO1xuXG4gICAgcmV0dXJuIHNpZ25hbDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBjb21wb3NlU2lnbmFscztcbiIsCiAgICAiXG5leHBvcnQgY29uc3Qgc3RyZWFtQ2h1bmsgPSBmdW5jdGlvbiogKGNodW5rLCBjaHVua1NpemUpIHtcbiAgbGV0IGxlbiA9IGNodW5rLmJ5dGVMZW5ndGg7XG5cbiAgaWYgKCFjaHVua1NpemUgfHwgbGVuIDwgY2h1bmtTaXplKSB7XG4gICAgeWllbGQgY2h1bms7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgbGV0IHBvcyA9IDA7XG4gIGxldCBlbmQ7XG5cbiAgd2hpbGUgKHBvcyA8IGxlbikge1xuICAgIGVuZCA9IHBvcyArIGNodW5rU2l6ZTtcbiAgICB5aWVsZCBjaHVuay5zbGljZShwb3MsIGVuZCk7XG4gICAgcG9zID0gZW5kO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCByZWFkQnl0ZXMgPSBhc3luYyBmdW5jdGlvbiogKGl0ZXJhYmxlLCBjaHVua1NpemUpIHtcbiAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiByZWFkU3RyZWFtKGl0ZXJhYmxlKSkge1xuICAgIHlpZWxkKiBzdHJlYW1DaHVuayhjaHVuaywgY2h1bmtTaXplKTtcbiAgfVxufVxuXG5jb25zdCByZWFkU3RyZWFtID0gYXN5bmMgZnVuY3Rpb24qIChzdHJlYW0pIHtcbiAgaWYgKHN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pIHtcbiAgICB5aWVsZCogc3RyZWFtO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgdHJ5IHtcbiAgICBmb3IgKDs7KSB7XG4gICAgICBjb25zdCB7ZG9uZSwgdmFsdWV9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgIGlmIChkb25lKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgeWllbGQgdmFsdWU7XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIGF3YWl0IHJlYWRlci5jYW5jZWwoKTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgdHJhY2tTdHJlYW0gPSAoc3RyZWFtLCBjaHVua1NpemUsIG9uUHJvZ3Jlc3MsIG9uRmluaXNoKSA9PiB7XG4gIGNvbnN0IGl0ZXJhdG9yID0gcmVhZEJ5dGVzKHN0cmVhbSwgY2h1bmtTaXplKTtcblxuICBsZXQgYnl0ZXMgPSAwO1xuICBsZXQgZG9uZTtcbiAgbGV0IF9vbkZpbmlzaCA9IChlKSA9PiB7XG4gICAgaWYgKCFkb25lKSB7XG4gICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIG9uRmluaXNoICYmIG9uRmluaXNoKGUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qge2RvbmUsIHZhbHVlfSA9IGF3YWl0IGl0ZXJhdG9yLm5leHQoKTtcblxuICAgICAgICBpZiAoZG9uZSkge1xuICAgICAgICAgX29uRmluaXNoKCk7XG4gICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsZW4gPSB2YWx1ZS5ieXRlTGVuZ3RoO1xuICAgICAgICBpZiAob25Qcm9ncmVzcykge1xuICAgICAgICAgIGxldCBsb2FkZWRCeXRlcyA9IGJ5dGVzICs9IGxlbjtcbiAgICAgICAgICBvblByb2dyZXNzKGxvYWRlZEJ5dGVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb250cm9sbGVyLmVucXVldWUobmV3IFVpbnQ4QXJyYXkodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBfb25GaW5pc2goZXJyKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0sXG4gICAgY2FuY2VsKHJlYXNvbikge1xuICAgICAgX29uRmluaXNoKHJlYXNvbik7XG4gICAgICByZXR1cm4gaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgfVxuICB9LCB7XG4gICAgaGlnaFdhdGVyTWFyazogMlxuICB9KVxufVxuIiwKICAgICJpbXBvcnQgcGxhdGZvcm0gZnJvbSBcIi4uL3BsYXRmb3JtL2luZGV4LmpzXCI7XG5pbXBvcnQgdXRpbHMgZnJvbSBcIi4uL3V0aWxzLmpzXCI7XG5pbXBvcnQgQXhpb3NFcnJvciBmcm9tIFwiLi4vY29yZS9BeGlvc0Vycm9yLmpzXCI7XG5pbXBvcnQgY29tcG9zZVNpZ25hbHMgZnJvbSBcIi4uL2hlbHBlcnMvY29tcG9zZVNpZ25hbHMuanNcIjtcbmltcG9ydCB7dHJhY2tTdHJlYW19IGZyb20gXCIuLi9oZWxwZXJzL3RyYWNrU3RyZWFtLmpzXCI7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gXCIuLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IHtwcm9ncmVzc0V2ZW50UmVkdWNlciwgcHJvZ3Jlc3NFdmVudERlY29yYXRvciwgYXN5bmNEZWNvcmF0b3J9IGZyb20gXCIuLi9oZWxwZXJzL3Byb2dyZXNzRXZlbnRSZWR1Y2VyLmpzXCI7XG5pbXBvcnQgcmVzb2x2ZUNvbmZpZyBmcm9tIFwiLi4vaGVscGVycy9yZXNvbHZlQ29uZmlnLmpzXCI7XG5pbXBvcnQgc2V0dGxlIGZyb20gXCIuLi9jb3JlL3NldHRsZS5qc1wiO1xuXG5jb25zdCBpc0ZldGNoU3VwcG9ydGVkID0gdHlwZW9mIGZldGNoID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBSZXF1ZXN0ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBSZXNwb25zZSA9PT0gJ2Z1bmN0aW9uJztcbmNvbnN0IGlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQgPSBpc0ZldGNoU3VwcG9ydGVkICYmIHR5cGVvZiBSZWFkYWJsZVN0cmVhbSA9PT0gJ2Z1bmN0aW9uJztcblxuLy8gdXNlZCBvbmx5IGluc2lkZSB0aGUgZmV0Y2ggYWRhcHRlclxuY29uc3QgZW5jb2RlVGV4dCA9IGlzRmV0Y2hTdXBwb3J0ZWQgJiYgKHR5cGVvZiBUZXh0RW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgKChlbmNvZGVyKSA9PiAoc3RyKSA9PiBlbmNvZGVyLmVuY29kZShzdHIpKShuZXcgVGV4dEVuY29kZXIoKSkgOlxuICAgIGFzeW5jIChzdHIpID0+IG5ldyBVaW50OEFycmF5KGF3YWl0IG5ldyBSZXNwb25zZShzdHIpLmFycmF5QnVmZmVyKCkpXG4pO1xuXG5jb25zdCB0ZXN0ID0gKGZuLCAuLi5hcmdzKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZm4oLi4uYXJncyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG5jb25zdCBzdXBwb3J0c1JlcXVlc3RTdHJlYW0gPSBpc1JlYWRhYmxlU3RyZWFtU3VwcG9ydGVkICYmIHRlc3QoKCkgPT4ge1xuICBsZXQgZHVwbGV4QWNjZXNzZWQgPSBmYWxzZTtcblxuICBjb25zdCBoYXNDb250ZW50VHlwZSA9IG5ldyBSZXF1ZXN0KHBsYXRmb3JtLm9yaWdpbiwge1xuICAgIGJvZHk6IG5ldyBSZWFkYWJsZVN0cmVhbSgpLFxuICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIGdldCBkdXBsZXgoKSB7XG4gICAgICBkdXBsZXhBY2Nlc3NlZCA9IHRydWU7XG4gICAgICByZXR1cm4gJ2hhbGYnO1xuICAgIH0sXG4gIH0pLmhlYWRlcnMuaGFzKCdDb250ZW50LVR5cGUnKTtcblxuICByZXR1cm4gZHVwbGV4QWNjZXNzZWQgJiYgIWhhc0NvbnRlbnRUeXBlO1xufSk7XG5cbmNvbnN0IERFRkFVTFRfQ0hVTktfU0laRSA9IDY0ICogMTAyNDtcblxuY29uc3Qgc3VwcG9ydHNSZXNwb25zZVN0cmVhbSA9IGlzUmVhZGFibGVTdHJlYW1TdXBwb3J0ZWQgJiZcbiAgdGVzdCgoKSA9PiB1dGlscy5pc1JlYWRhYmxlU3RyZWFtKG5ldyBSZXNwb25zZSgnJykuYm9keSkpO1xuXG5cbmNvbnN0IHJlc29sdmVycyA9IHtcbiAgc3RyZWFtOiBzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmICgocmVzKSA9PiByZXMuYm9keSlcbn07XG5cbmlzRmV0Y2hTdXBwb3J0ZWQgJiYgKCgocmVzKSA9PiB7XG4gIFsndGV4dCcsICdhcnJheUJ1ZmZlcicsICdibG9iJywgJ2Zvcm1EYXRhJywgJ3N0cmVhbSddLmZvckVhY2godHlwZSA9PiB7XG4gICAgIXJlc29sdmVyc1t0eXBlXSAmJiAocmVzb2x2ZXJzW3R5cGVdID0gdXRpbHMuaXNGdW5jdGlvbihyZXNbdHlwZV0pID8gKHJlcykgPT4gcmVzW3R5cGVdKCkgOlxuICAgICAgKF8sIGNvbmZpZykgPT4ge1xuICAgICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihgUmVzcG9uc2UgdHlwZSAnJHt0eXBlfScgaXMgbm90IHN1cHBvcnRlZGAsIEF4aW9zRXJyb3IuRVJSX05PVF9TVVBQT1JULCBjb25maWcpO1xuICAgICAgfSlcbiAgfSk7XG59KShuZXcgUmVzcG9uc2UpKTtcblxuY29uc3QgZ2V0Qm9keUxlbmd0aCA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGlmIChib2R5ID09IG51bGwpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmKHV0aWxzLmlzQmxvYihib2R5KSkge1xuICAgIHJldHVybiBib2R5LnNpemU7XG4gIH1cblxuICBpZih1dGlscy5pc1NwZWNDb21wbGlhbnRGb3JtKGJvZHkpKSB7XG4gICAgY29uc3QgX3JlcXVlc3QgPSBuZXcgUmVxdWVzdChwbGF0Zm9ybS5vcmlnaW4sIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keSxcbiAgICB9KTtcbiAgICByZXR1cm4gKGF3YWl0IF9yZXF1ZXN0LmFycmF5QnVmZmVyKCkpLmJ5dGVMZW5ndGg7XG4gIH1cblxuICBpZih1dGlscy5pc0FycmF5QnVmZmVyVmlldyhib2R5KSB8fCB1dGlscy5pc0FycmF5QnVmZmVyKGJvZHkpKSB7XG4gICAgcmV0dXJuIGJvZHkuYnl0ZUxlbmd0aDtcbiAgfVxuXG4gIGlmKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKGJvZHkpKSB7XG4gICAgYm9keSA9IGJvZHkgKyAnJztcbiAgfVxuXG4gIGlmKHV0aWxzLmlzU3RyaW5nKGJvZHkpKSB7XG4gICAgcmV0dXJuIChhd2FpdCBlbmNvZGVUZXh0KGJvZHkpKS5ieXRlTGVuZ3RoO1xuICB9XG59XG5cbmNvbnN0IHJlc29sdmVCb2R5TGVuZ3RoID0gYXN5bmMgKGhlYWRlcnMsIGJvZHkpID0+IHtcbiAgY29uc3QgbGVuZ3RoID0gdXRpbHMudG9GaW5pdGVOdW1iZXIoaGVhZGVycy5nZXRDb250ZW50TGVuZ3RoKCkpO1xuXG4gIHJldHVybiBsZW5ndGggPT0gbnVsbCA/IGdldEJvZHlMZW5ndGgoYm9keSkgOiBsZW5ndGg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGlzRmV0Y2hTdXBwb3J0ZWQgJiYgKGFzeW5jIChjb25maWcpID0+IHtcbiAgbGV0IHtcbiAgICB1cmwsXG4gICAgbWV0aG9kLFxuICAgIGRhdGEsXG4gICAgc2lnbmFsLFxuICAgIGNhbmNlbFRva2VuLFxuICAgIHRpbWVvdXQsXG4gICAgb25Eb3dubG9hZFByb2dyZXNzLFxuICAgIG9uVXBsb2FkUHJvZ3Jlc3MsXG4gICAgcmVzcG9uc2VUeXBlLFxuICAgIGhlYWRlcnMsXG4gICAgd2l0aENyZWRlbnRpYWxzID0gJ3NhbWUtb3JpZ2luJyxcbiAgICBmZXRjaE9wdGlvbnNcbiAgfSA9IHJlc29sdmVDb25maWcoY29uZmlnKTtcblxuICByZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGUgPyAocmVzcG9uc2VUeXBlICsgJycpLnRvTG93ZXJDYXNlKCkgOiAndGV4dCc7XG5cbiAgbGV0IGNvbXBvc2VkU2lnbmFsID0gY29tcG9zZVNpZ25hbHMoW3NpZ25hbCwgY2FuY2VsVG9rZW4gJiYgY2FuY2VsVG9rZW4udG9BYm9ydFNpZ25hbCgpXSwgdGltZW91dCk7XG5cbiAgbGV0IHJlcXVlc3Q7XG5cbiAgY29uc3QgdW5zdWJzY3JpYmUgPSBjb21wb3NlZFNpZ25hbCAmJiBjb21wb3NlZFNpZ25hbC51bnN1YnNjcmliZSAmJiAoKCkgPT4ge1xuICAgICAgY29tcG9zZWRTaWduYWwudW5zdWJzY3JpYmUoKTtcbiAgfSk7XG5cbiAgbGV0IHJlcXVlc3RDb250ZW50TGVuZ3RoO1xuXG4gIHRyeSB7XG4gICAgaWYgKFxuICAgICAgb25VcGxvYWRQcm9ncmVzcyAmJiBzdXBwb3J0c1JlcXVlc3RTdHJlYW0gJiYgbWV0aG9kICE9PSAnZ2V0JyAmJiBtZXRob2QgIT09ICdoZWFkJyAmJlxuICAgICAgKHJlcXVlc3RDb250ZW50TGVuZ3RoID0gYXdhaXQgcmVzb2x2ZUJvZHlMZW5ndGgoaGVhZGVycywgZGF0YSkpICE9PSAwXG4gICAgKSB7XG4gICAgICBsZXQgX3JlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IGRhdGEsXG4gICAgICAgIGR1cGxleDogXCJoYWxmXCJcbiAgICAgIH0pO1xuXG4gICAgICBsZXQgY29udGVudFR5cGVIZWFkZXI7XG5cbiAgICAgIGlmICh1dGlscy5pc0Zvcm1EYXRhKGRhdGEpICYmIChjb250ZW50VHlwZUhlYWRlciA9IF9yZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkpIHtcbiAgICAgICAgaGVhZGVycy5zZXRDb250ZW50VHlwZShjb250ZW50VHlwZUhlYWRlcilcbiAgICAgIH1cblxuICAgICAgaWYgKF9yZXF1ZXN0LmJvZHkpIHtcbiAgICAgICAgY29uc3QgW29uUHJvZ3Jlc3MsIGZsdXNoXSA9IHByb2dyZXNzRXZlbnREZWNvcmF0b3IoXG4gICAgICAgICAgcmVxdWVzdENvbnRlbnRMZW5ndGgsXG4gICAgICAgICAgcHJvZ3Jlc3NFdmVudFJlZHVjZXIoYXN5bmNEZWNvcmF0b3Iob25VcGxvYWRQcm9ncmVzcykpXG4gICAgICAgICk7XG5cbiAgICAgICAgZGF0YSA9IHRyYWNrU3RyZWFtKF9yZXF1ZXN0LmJvZHksIERFRkFVTFRfQ0hVTktfU0laRSwgb25Qcm9ncmVzcywgZmx1c2gpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghdXRpbHMuaXNTdHJpbmcod2l0aENyZWRlbnRpYWxzKSkge1xuICAgICAgd2l0aENyZWRlbnRpYWxzID0gd2l0aENyZWRlbnRpYWxzID8gJ2luY2x1ZGUnIDogJ29taXQnO1xuICAgIH1cblxuICAgIC8vIENsb3VkZmxhcmUgV29ya2VycyB0aHJvd3Mgd2hlbiBjcmVkZW50aWFscyBhcmUgZGVmaW5lZFxuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY2xvdWRmbGFyZS93b3JrZXJkL2lzc3Vlcy85MDJcbiAgICBjb25zdCBpc0NyZWRlbnRpYWxzU3VwcG9ydGVkID0gXCJjcmVkZW50aWFsc1wiIGluIFJlcXVlc3QucHJvdG90eXBlO1xuICAgIHJlcXVlc3QgPSBuZXcgUmVxdWVzdCh1cmwsIHtcbiAgICAgIC4uLmZldGNoT3B0aW9ucyxcbiAgICAgIHNpZ25hbDogY29tcG9zZWRTaWduYWwsXG4gICAgICBtZXRob2Q6IG1ldGhvZC50b1VwcGVyQ2FzZSgpLFxuICAgICAgaGVhZGVyczogaGVhZGVycy5ub3JtYWxpemUoKS50b0pTT04oKSxcbiAgICAgIGJvZHk6IGRhdGEsXG4gICAgICBkdXBsZXg6IFwiaGFsZlwiLFxuICAgICAgY3JlZGVudGlhbHM6IGlzQ3JlZGVudGlhbHNTdXBwb3J0ZWQgPyB3aXRoQ3JlZGVudGlhbHMgOiB1bmRlZmluZWRcbiAgICB9KTtcblxuICAgIGxldCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlcXVlc3QpO1xuXG4gICAgY29uc3QgaXNTdHJlYW1SZXNwb25zZSA9IHN1cHBvcnRzUmVzcG9uc2VTdHJlYW0gJiYgKHJlc3BvbnNlVHlwZSA9PT0gJ3N0cmVhbScgfHwgcmVzcG9uc2VUeXBlID09PSAncmVzcG9uc2UnKTtcblxuICAgIGlmIChzdXBwb3J0c1Jlc3BvbnNlU3RyZWFtICYmIChvbkRvd25sb2FkUHJvZ3Jlc3MgfHwgKGlzU3RyZWFtUmVzcG9uc2UgJiYgdW5zdWJzY3JpYmUpKSkge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xuXG4gICAgICBbJ3N0YXR1cycsICdzdGF0dXNUZXh0JywgJ2hlYWRlcnMnXS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICBvcHRpb25zW3Byb3BdID0gcmVzcG9uc2VbcHJvcF07XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2VDb250ZW50TGVuZ3RoID0gdXRpbHMudG9GaW5pdGVOdW1iZXIocmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtbGVuZ3RoJykpO1xuXG4gICAgICBjb25zdCBbb25Qcm9ncmVzcywgZmx1c2hdID0gb25Eb3dubG9hZFByb2dyZXNzICYmIHByb2dyZXNzRXZlbnREZWNvcmF0b3IoXG4gICAgICAgIHJlc3BvbnNlQ29udGVudExlbmd0aCxcbiAgICAgICAgcHJvZ3Jlc3NFdmVudFJlZHVjZXIoYXN5bmNEZWNvcmF0b3Iob25Eb3dubG9hZFByb2dyZXNzKSwgdHJ1ZSlcbiAgICAgICkgfHwgW107XG5cbiAgICAgIHJlc3BvbnNlID0gbmV3IFJlc3BvbnNlKFxuICAgICAgICB0cmFja1N0cmVhbShyZXNwb25zZS5ib2R5LCBERUZBVUxUX0NIVU5LX1NJWkUsIG9uUHJvZ3Jlc3MsICgpID0+IHtcbiAgICAgICAgICBmbHVzaCAmJiBmbHVzaCgpO1xuICAgICAgICAgIHVuc3Vic2NyaWJlICYmIHVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH0pLFxuICAgICAgICBvcHRpb25zXG4gICAgICApO1xuICAgIH1cblxuICAgIHJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZSB8fCAndGV4dCc7XG5cbiAgICBsZXQgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzb2x2ZXJzW3V0aWxzLmZpbmRLZXkocmVzb2x2ZXJzLCByZXNwb25zZVR5cGUpIHx8ICd0ZXh0J10ocmVzcG9uc2UsIGNvbmZpZyk7XG5cbiAgICAhaXNTdHJlYW1SZXNwb25zZSAmJiB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuXG4gICAgcmV0dXJuIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBoZWFkZXJzOiBBeGlvc0hlYWRlcnMuZnJvbShyZXNwb25zZS5oZWFkZXJzKSxcbiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgIGNvbmZpZyxcbiAgICAgICAgcmVxdWVzdFxuICAgICAgfSlcbiAgICB9KVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICB1bnN1YnNjcmliZSAmJiB1bnN1YnNjcmliZSgpO1xuXG4gICAgaWYgKGVyciAmJiBlcnIubmFtZSA9PT0gJ1R5cGVFcnJvcicgJiYgL2ZldGNoL2kudGVzdChlcnIubWVzc2FnZSkpIHtcbiAgICAgIHRocm93IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIG5ldyBBeGlvc0Vycm9yKCdOZXR3b3JrIEVycm9yJywgQXhpb3NFcnJvci5FUlJfTkVUV09SSywgY29uZmlnLCByZXF1ZXN0KSxcbiAgICAgICAge1xuICAgICAgICAgIGNhdXNlOiBlcnIuY2F1c2UgfHwgZXJyXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICB0aHJvdyBBeGlvc0Vycm9yLmZyb20oZXJyLCBlcnIgJiYgZXJyLmNvZGUsIGNvbmZpZywgcmVxdWVzdCk7XG4gIH1cbn0pO1xuXG5cbiIsCiAgICAiaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzLmpzJztcbmltcG9ydCBodHRwQWRhcHRlciBmcm9tICcuL2h0dHAuanMnO1xuaW1wb3J0IHhockFkYXB0ZXIgZnJvbSAnLi94aHIuanMnO1xuaW1wb3J0IGZldGNoQWRhcHRlciBmcm9tICcuL2ZldGNoLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gXCIuLi9jb3JlL0F4aW9zRXJyb3IuanNcIjtcblxuY29uc3Qga25vd25BZGFwdGVycyA9IHtcbiAgaHR0cDogaHR0cEFkYXB0ZXIsXG4gIHhocjogeGhyQWRhcHRlcixcbiAgZmV0Y2g6IGZldGNoQWRhcHRlclxufVxuXG51dGlscy5mb3JFYWNoKGtub3duQWRhcHRlcnMsIChmbiwgdmFsdWUpID0+IHtcbiAgaWYgKGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ25hbWUnLCB7dmFsdWV9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnYWRhcHRlck5hbWUnLCB7dmFsdWV9KTtcbiAgfVxufSk7XG5cbmNvbnN0IHJlbmRlclJlYXNvbiA9IChyZWFzb24pID0+IGAtICR7cmVhc29ufWA7XG5cbmNvbnN0IGlzUmVzb2x2ZWRIYW5kbGUgPSAoYWRhcHRlcikgPT4gdXRpbHMuaXNGdW5jdGlvbihhZGFwdGVyKSB8fCBhZGFwdGVyID09PSBudWxsIHx8IGFkYXB0ZXIgPT09IGZhbHNlO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldEFkYXB0ZXI6IChhZGFwdGVycykgPT4ge1xuICAgIGFkYXB0ZXJzID0gdXRpbHMuaXNBcnJheShhZGFwdGVycykgPyBhZGFwdGVycyA6IFthZGFwdGVyc107XG5cbiAgICBjb25zdCB7bGVuZ3RofSA9IGFkYXB0ZXJzO1xuICAgIGxldCBuYW1lT3JBZGFwdGVyO1xuICAgIGxldCBhZGFwdGVyO1xuXG4gICAgY29uc3QgcmVqZWN0ZWRSZWFzb25zID0ge307XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBuYW1lT3JBZGFwdGVyID0gYWRhcHRlcnNbaV07XG4gICAgICBsZXQgaWQ7XG5cbiAgICAgIGFkYXB0ZXIgPSBuYW1lT3JBZGFwdGVyO1xuXG4gICAgICBpZiAoIWlzUmVzb2x2ZWRIYW5kbGUobmFtZU9yQWRhcHRlcikpIHtcbiAgICAgICAgYWRhcHRlciA9IGtub3duQWRhcHRlcnNbKGlkID0gU3RyaW5nKG5hbWVPckFkYXB0ZXIpKS50b0xvd2VyQ2FzZSgpXTtcblxuICAgICAgICBpZiAoYWRhcHRlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoYFVua25vd24gYWRhcHRlciAnJHtpZH0nYCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGFkYXB0ZXIpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHJlamVjdGVkUmVhc29uc1tpZCB8fCAnIycgKyBpXSA9IGFkYXB0ZXI7XG4gICAgfVxuXG4gICAgaWYgKCFhZGFwdGVyKSB7XG5cbiAgICAgIGNvbnN0IHJlYXNvbnMgPSBPYmplY3QuZW50cmllcyhyZWplY3RlZFJlYXNvbnMpXG4gICAgICAgIC5tYXAoKFtpZCwgc3RhdGVdKSA9PiBgYWRhcHRlciAke2lkfSBgICtcbiAgICAgICAgICAoc3RhdGUgPT09IGZhbHNlID8gJ2lzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGVudmlyb25tZW50JyA6ICdpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBidWlsZCcpXG4gICAgICAgICk7XG5cbiAgICAgIGxldCBzID0gbGVuZ3RoID9cbiAgICAgICAgKHJlYXNvbnMubGVuZ3RoID4gMSA/ICdzaW5jZSA6XFxuJyArIHJlYXNvbnMubWFwKHJlbmRlclJlYXNvbikuam9pbignXFxuJykgOiAnICcgKyByZW5kZXJSZWFzb24ocmVhc29uc1swXSkpIDpcbiAgICAgICAgJ2FzIG5vIGFkYXB0ZXIgc3BlY2lmaWVkJztcblxuICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoXG4gICAgICAgIGBUaGVyZSBpcyBubyBzdWl0YWJsZSBhZGFwdGVyIHRvIGRpc3BhdGNoIHRoZSByZXF1ZXN0IGAgKyBzLFxuICAgICAgICAnRVJSX05PVF9TVVBQT1JUJ1xuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWRhcHRlcjtcbiAgfSxcbiAgYWRhcHRlcnM6IGtub3duQWRhcHRlcnNcbn1cbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdHJhbnNmb3JtRGF0YSBmcm9tICcuL3RyYW5zZm9ybURhdGEuanMnO1xuaW1wb3J0IGlzQ2FuY2VsIGZyb20gJy4uL2NhbmNlbC9pc0NhbmNlbC5qcyc7XG5pbXBvcnQgZGVmYXVsdHMgZnJvbSAnLi4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi4vY2FuY2VsL0NhbmNlbGVkRXJyb3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tICcuLi9jb3JlL0F4aW9zSGVhZGVycy5qcyc7XG5pbXBvcnQgYWRhcHRlcnMgZnJvbSBcIi4uL2FkYXB0ZXJzL2FkYXB0ZXJzLmpzXCI7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZyBUaGUgY29uZmlnIHRoYXQgaXMgdG8gYmUgdXNlZCBmb3IgdGhlIHJlcXVlc3RcbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cblxuICBpZiAoY29uZmlnLnNpZ25hbCAmJiBjb25maWcuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICB0aHJvdyBuZXcgQ2FuY2VsZWRFcnJvcihudWxsLCBjb25maWcpO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGF0Y2ggYSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIgdXNpbmcgdGhlIGNvbmZpZ3VyZWQgYWRhcHRlci5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIFRoZSBjb25maWcgdGhhdCBpcyB0byBiZSB1c2VkIGZvciB0aGUgcmVxdWVzdFxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgUHJvbWlzZSB0byBiZSBmdWxmaWxsZWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgY29uZmlnLmhlYWRlcnMgPSBBeGlvc0hlYWRlcnMuZnJvbShjb25maWcuaGVhZGVycyk7XG5cbiAgLy8gVHJhbnNmb3JtIHJlcXVlc3QgZGF0YVxuICBjb25maWcuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICBjb25maWcsXG4gICAgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3RcbiAgKTtcblxuICBpZiAoWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLmluZGV4T2YoY29uZmlnLm1ldGhvZCkgIT09IC0xKSB7XG4gICAgY29uZmlnLmhlYWRlcnMuc2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsIGZhbHNlKTtcbiAgfVxuXG4gIGNvbnN0IGFkYXB0ZXIgPSBhZGFwdGVycy5nZXRBZGFwdGVyKGNvbmZpZy5hZGFwdGVyIHx8IGRlZmF1bHRzLmFkYXB0ZXIpO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YS5jYWxsKFxuICAgICAgY29uZmlnLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgcmVzcG9uc2VcbiAgICApO1xuXG4gICAgcmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKHJlc3BvbnNlLmhlYWRlcnMpO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LCBmdW5jdGlvbiBvbkFkYXB0ZXJSZWplY3Rpb24ocmVhc29uKSB7XG4gICAgaWYgKCFpc0NhbmNlbChyZWFzb24pKSB7XG4gICAgICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSByZXNwb25zZSBkYXRhXG4gICAgICBpZiAocmVhc29uICYmIHJlYXNvbi5yZXNwb25zZSkge1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuZGF0YSA9IHRyYW5zZm9ybURhdGEuY2FsbChcbiAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZVxuICAgICAgICApO1xuICAgICAgICByZWFzb24ucmVzcG9uc2UuaGVhZGVycyA9IEF4aW9zSGVhZGVycy5mcm9tKHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVhc29uKTtcbiAgfSk7XG59XG4iLAogICAgImV4cG9ydCBjb25zdCBWRVJTSU9OID0gXCIxLjguM1wiOyIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1ZFUlNJT059IGZyb20gJy4uL2Vudi9kYXRhLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4uL2NvcmUvQXhpb3NFcnJvci5qcyc7XG5cbmNvbnN0IHZhbGlkYXRvcnMgPSB7fTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblsnb2JqZWN0JywgJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ2Z1bmN0aW9uJywgJ3N0cmluZycsICdzeW1ib2wnXS5mb3JFYWNoKCh0eXBlLCBpKSA9PiB7XG4gIHZhbGlkYXRvcnNbdHlwZV0gPSBmdW5jdGlvbiB2YWxpZGF0b3IodGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSB0eXBlIHx8ICdhJyArIChpIDwgMSA/ICduICcgOiAnICcpICsgdHlwZTtcbiAgfTtcbn0pO1xuXG5jb25zdCBkZXByZWNhdGVkV2FybmluZ3MgPSB7fTtcblxuLyoqXG4gKiBUcmFuc2l0aW9uYWwgb3B0aW9uIHZhbGlkYXRvclxuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb258Ym9vbGVhbj99IHZhbGlkYXRvciAtIHNldCB0byBmYWxzZSBpZiB0aGUgdHJhbnNpdGlvbmFsIG9wdGlvbiBoYXMgYmVlbiByZW1vdmVkXG4gKiBAcGFyYW0ge3N0cmluZz99IHZlcnNpb24gLSBkZXByZWNhdGVkIHZlcnNpb24gLyByZW1vdmVkIHNpbmNlIHZlcnNpb25cbiAqIEBwYXJhbSB7c3RyaW5nP30gbWVzc2FnZSAtIHNvbWUgbWVzc2FnZSB3aXRoIGFkZGl0aW9uYWwgaW5mb1xuICpcbiAqIEByZXR1cm5zIHtmdW5jdGlvbn1cbiAqL1xudmFsaWRhdG9ycy50cmFuc2l0aW9uYWwgPSBmdW5jdGlvbiB0cmFuc2l0aW9uYWwodmFsaWRhdG9yLCB2ZXJzaW9uLCBtZXNzYWdlKSB7XG4gIGZ1bmN0aW9uIGZvcm1hdE1lc3NhZ2Uob3B0LCBkZXNjKSB7XG4gICAgcmV0dXJuICdbQXhpb3MgdicgKyBWRVJTSU9OICsgJ10gVHJhbnNpdGlvbmFsIG9wdGlvbiBcXCcnICsgb3B0ICsgJ1xcJycgKyBkZXNjICsgKG1lc3NhZ2UgPyAnLiAnICsgbWVzc2FnZSA6ICcnKTtcbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gIHJldHVybiAodmFsdWUsIG9wdCwgb3B0cykgPT4ge1xuICAgIGlmICh2YWxpZGF0b3IgPT09IGZhbHNlKSB7XG4gICAgICB0aHJvdyBuZXcgQXhpb3NFcnJvcihcbiAgICAgICAgZm9ybWF0TWVzc2FnZShvcHQsICcgaGFzIGJlZW4gcmVtb3ZlZCcgKyAodmVyc2lvbiA/ICcgaW4gJyArIHZlcnNpb24gOiAnJykpLFxuICAgICAgICBBeGlvc0Vycm9yLkVSUl9ERVBSRUNBVEVEXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICh2ZXJzaW9uICYmICFkZXByZWNhdGVkV2FybmluZ3Nbb3B0XSkge1xuICAgICAgZGVwcmVjYXRlZFdhcm5pbmdzW29wdF0gPSB0cnVlO1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgZm9ybWF0TWVzc2FnZShcbiAgICAgICAgICBvcHQsXG4gICAgICAgICAgJyBoYXMgYmVlbiBkZXByZWNhdGVkIHNpbmNlIHYnICsgdmVyc2lvbiArICcgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmUnXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbGlkYXRvciA/IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRzKSA6IHRydWU7XG4gIH07XG59O1xuXG52YWxpZGF0b3JzLnNwZWxsaW5nID0gZnVuY3Rpb24gc3BlbGxpbmcoY29ycmVjdFNwZWxsaW5nKSB7XG4gIHJldHVybiAodmFsdWUsIG9wdCkgPT4ge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS53YXJuKGAke29wdH0gaXMgbGlrZWx5IGEgbWlzc3BlbGxpbmcgb2YgJHtjb3JyZWN0U3BlbGxpbmd9YCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn07XG5cbi8qKlxuICogQXNzZXJ0IG9iamVjdCdzIHByb3BlcnRpZXMgdHlwZVxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge29iamVjdH0gc2NoZW1hXG4gKiBAcGFyYW0ge2Jvb2xlYW4/fSBhbGxvd1Vua25vd25cbiAqXG4gKiBAcmV0dXJucyB7b2JqZWN0fVxuICovXG5cbmZ1bmN0aW9uIGFzc2VydE9wdGlvbnMob3B0aW9ucywgc2NoZW1hLCBhbGxvd1Vua25vd24pIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0JywgQXhpb3NFcnJvci5FUlJfQkFEX09QVElPTl9WQUxVRSk7XG4gIH1cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9wdGlvbnMpO1xuICBsZXQgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tID4gMCkge1xuICAgIGNvbnN0IG9wdCA9IGtleXNbaV07XG4gICAgY29uc3QgdmFsaWRhdG9yID0gc2NoZW1hW29wdF07XG4gICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgY29uc3QgdmFsdWUgPSBvcHRpb25zW29wdF07XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbGlkYXRvcih2YWx1ZSwgb3B0LCBvcHRpb25zKTtcbiAgICAgIGlmIChyZXN1bHQgIT09IHRydWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEF4aW9zRXJyb3IoJ29wdGlvbiAnICsgb3B0ICsgJyBtdXN0IGJlICcgKyByZXN1bHQsIEF4aW9zRXJyb3IuRVJSX0JBRF9PUFRJT05fVkFMVUUpO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmIChhbGxvd1Vua25vd24gIT09IHRydWUpIHtcbiAgICAgIHRocm93IG5ldyBBeGlvc0Vycm9yKCdVbmtub3duIG9wdGlvbiAnICsgb3B0LCBBeGlvc0Vycm9yLkVSUl9CQURfT1BUSU9OKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBhc3NlcnRPcHRpb25zLFxuICB2YWxpZGF0b3JzXG59O1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcbmltcG9ydCBidWlsZFVSTCBmcm9tICcuLi9oZWxwZXJzL2J1aWxkVVJMLmpzJztcbmltcG9ydCBJbnRlcmNlcHRvck1hbmFnZXIgZnJvbSAnLi9JbnRlcmNlcHRvck1hbmFnZXIuanMnO1xuaW1wb3J0IGRpc3BhdGNoUmVxdWVzdCBmcm9tICcuL2Rpc3BhdGNoUmVxdWVzdC5qcyc7XG5pbXBvcnQgbWVyZ2VDb25maWcgZnJvbSAnLi9tZXJnZUNvbmZpZy5qcyc7XG5pbXBvcnQgYnVpbGRGdWxsUGF0aCBmcm9tICcuL2J1aWxkRnVsbFBhdGguanMnO1xuaW1wb3J0IHZhbGlkYXRvciBmcm9tICcuLi9oZWxwZXJzL3ZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQXhpb3NIZWFkZXJzIGZyb20gJy4vQXhpb3NIZWFkZXJzLmpzJztcblxuY29uc3QgdmFsaWRhdG9ycyA9IHZhbGlkYXRvci52YWxpZGF0b3JzO1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBpbnN0YW5jZUNvbmZpZyBUaGUgZGVmYXVsdCBjb25maWcgZm9yIHRoZSBpbnN0YW5jZVxuICpcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5jbGFzcyBBeGlvcyB7XG4gIGNvbnN0cnVjdG9yKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgdGhpcy5kZWZhdWx0cyA9IGluc3RhbmNlQ29uZmlnO1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgICAgcmVzcG9uc2U6IG5ldyBJbnRlcmNlcHRvck1hbmFnZXIoKVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogRGlzcGF0Y2ggYSByZXF1ZXN0XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gY29uZmlnT3JVcmwgVGhlIGNvbmZpZyBzcGVjaWZpYyBmb3IgdGhpcyByZXF1ZXN0IChtZXJnZWQgd2l0aCB0aGlzLmRlZmF1bHRzKVxuICAgKiBAcGFyYW0gez9PYmplY3R9IGNvbmZpZ1xuICAgKlxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gICAqL1xuICBhc3luYyByZXF1ZXN0KGNvbmZpZ09yVXJsLCBjb25maWcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX3JlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgbGV0IGR1bW15ID0ge307XG5cbiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UgPyBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShkdW1teSkgOiAoZHVtbXkgPSBuZXcgRXJyb3IoKSk7XG5cbiAgICAgICAgLy8gc2xpY2Ugb2ZmIHRoZSBFcnJvcjogLi4uIGxpbmVcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBkdW1teS5zdGFjayA/IGR1bW15LnN0YWNrLnJlcGxhY2UoL14uK1xcbi8sICcnKSA6ICcnO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghZXJyLnN0YWNrKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgPSBzdGFjaztcbiAgICAgICAgICAgIC8vIG1hdGNoIHdpdGhvdXQgdGhlIDIgdG9wIHN0YWNrIGxpbmVzXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFjayAmJiAhU3RyaW5nKGVyci5zdGFjaykuZW5kc1dpdGgoc3RhY2sucmVwbGFjZSgvXi4rXFxuLitcXG4vLCAnJykpKSB7XG4gICAgICAgICAgICBlcnIuc3RhY2sgKz0gJ1xcbicgKyBzdGFja1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlnbm9yZSB0aGUgY2FzZSB3aGVyZSBcInN0YWNrXCIgaXMgYW4gdW4td3JpdGFibGUgcHJvcGVydHlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgX3JlcXVlc3QoY29uZmlnT3JVcmwsIGNvbmZpZykge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIC8vIEFsbG93IGZvciBheGlvcygnZXhhbXBsZS91cmwnWywgY29uZmlnXSkgYSBsYSBmZXRjaCBBUElcbiAgICBpZiAodHlwZW9mIGNvbmZpZ09yVXJsID09PSAnc3RyaW5nJykge1xuICAgICAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAgICAgY29uZmlnLnVybCA9IGNvbmZpZ09yVXJsO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcgPSBjb25maWdPclVybCB8fCB7fTtcbiAgICB9XG5cbiAgICBjb25maWcgPSBtZXJnZUNvbmZpZyh0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuXG4gICAgY29uc3Qge3RyYW5zaXRpb25hbCwgcGFyYW1zU2VyaWFsaXplciwgaGVhZGVyc30gPSBjb25maWc7XG5cbiAgICBpZiAodHJhbnNpdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKHRyYW5zaXRpb25hbCwge1xuICAgICAgICBzaWxlbnRKU09OUGFyc2luZzogdmFsaWRhdG9ycy50cmFuc2l0aW9uYWwodmFsaWRhdG9ycy5ib29sZWFuKSxcbiAgICAgICAgZm9yY2VkSlNPTlBhcnNpbmc6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbiksXG4gICAgICAgIGNsYXJpZnlUaW1lb3V0RXJyb3I6IHZhbGlkYXRvcnMudHJhbnNpdGlvbmFsKHZhbGlkYXRvcnMuYm9vbGVhbilcbiAgICAgIH0sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAocGFyYW1zU2VyaWFsaXplciAhPSBudWxsKSB7XG4gICAgICBpZiAodXRpbHMuaXNGdW5jdGlvbihwYXJhbXNTZXJpYWxpemVyKSkge1xuICAgICAgICBjb25maWcucGFyYW1zU2VyaWFsaXplciA9IHtcbiAgICAgICAgICBzZXJpYWxpemU6IHBhcmFtc1NlcmlhbGl6ZXJcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsaWRhdG9yLmFzc2VydE9wdGlvbnMocGFyYW1zU2VyaWFsaXplciwge1xuICAgICAgICAgIGVuY29kZTogdmFsaWRhdG9ycy5mdW5jdGlvbixcbiAgICAgICAgICBzZXJpYWxpemU6IHZhbGlkYXRvcnMuZnVuY3Rpb25cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IGNvbmZpZy5hbGxvd0Fic29sdXRlVXJsc1xuICAgIGlmIChjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH0gZWxzZSBpZiAodGhpcy5kZWZhdWx0cy5hbGxvd0Fic29sdXRlVXJscyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMgPSB0aGlzLmRlZmF1bHRzLmFsbG93QWJzb2x1dGVVcmxzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcuYWxsb3dBYnNvbHV0ZVVybHMgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhbGlkYXRvci5hc3NlcnRPcHRpb25zKGNvbmZpZywge1xuICAgICAgYmFzZVVybDogdmFsaWRhdG9ycy5zcGVsbGluZygnYmFzZVVSTCcpLFxuICAgICAgd2l0aFhzcmZUb2tlbjogdmFsaWRhdG9ycy5zcGVsbGluZygnd2l0aFhTUkZUb2tlbicpXG4gICAgfSwgdHJ1ZSk7XG5cbiAgICAvLyBTZXQgY29uZmlnLm1ldGhvZFxuICAgIGNvbmZpZy5tZXRob2QgPSAoY29uZmlnLm1ldGhvZCB8fCB0aGlzLmRlZmF1bHRzLm1ldGhvZCB8fCAnZ2V0JykudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICAgIGxldCBjb250ZXh0SGVhZGVycyA9IGhlYWRlcnMgJiYgdXRpbHMubWVyZ2UoXG4gICAgICBoZWFkZXJzLmNvbW1vbixcbiAgICAgIGhlYWRlcnNbY29uZmlnLm1ldGhvZF1cbiAgICApO1xuXG4gICAgaGVhZGVycyAmJiB1dGlscy5mb3JFYWNoKFxuICAgICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgICAobWV0aG9kKSA9PiB7XG4gICAgICAgIGRlbGV0ZSBoZWFkZXJzW21ldGhvZF07XG4gICAgICB9XG4gICAgKTtcblxuICAgIGNvbmZpZy5oZWFkZXJzID0gQXhpb3NIZWFkZXJzLmNvbmNhdChjb250ZXh0SGVhZGVycywgaGVhZGVycyk7XG5cbiAgICAvLyBmaWx0ZXIgb3V0IHNraXBwZWQgaW50ZXJjZXB0b3JzXG4gICAgY29uc3QgcmVxdWVzdEludGVyY2VwdG9yQ2hhaW4gPSBbXTtcbiAgICBsZXQgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gdHJ1ZTtcbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIGlmICh0eXBlb2YgaW50ZXJjZXB0b3IucnVuV2hlbiA9PT0gJ2Z1bmN0aW9uJyAmJiBpbnRlcmNlcHRvci5ydW5XaGVuKGNvbmZpZykgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzID0gc3luY2hyb25vdXNSZXF1ZXN0SW50ZXJjZXB0b3JzICYmIGludGVyY2VwdG9yLnN5bmNocm9ub3VzO1xuXG4gICAgICByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluID0gW107XG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbiBwdXNoUmVzcG9uc2VJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbi5wdXNoKGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICAgIH0pO1xuXG4gICAgbGV0IHByb21pc2U7XG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBsZW47XG5cbiAgICBpZiAoIXN5bmNocm9ub3VzUmVxdWVzdEludGVyY2VwdG9ycykge1xuICAgICAgY29uc3QgY2hhaW4gPSBbZGlzcGF0Y2hSZXF1ZXN0LmJpbmQodGhpcyksIHVuZGVmaW5lZF07XG4gICAgICBjaGFpbi51bnNoaWZ0LmFwcGx5KGNoYWluLCByZXF1ZXN0SW50ZXJjZXB0b3JDaGFpbik7XG4gICAgICBjaGFpbi5wdXNoLmFwcGx5KGNoYWluLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW4pO1xuICAgICAgbGVuID0gY2hhaW4ubGVuZ3RoO1xuXG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKGNvbmZpZyk7XG5cbiAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4oY2hhaW5baSsrXSwgY2hhaW5baSsrXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIGxlbiA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIGxldCBuZXdDb25maWcgPSBjb25maWc7XG5cbiAgICBpID0gMDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBjb25zdCBvbkZ1bGZpbGxlZCA9IHJlcXVlc3RJbnRlcmNlcHRvckNoYWluW2krK107XG4gICAgICBjb25zdCBvblJlamVjdGVkID0gcmVxdWVzdEludGVyY2VwdG9yQ2hhaW5baSsrXTtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ld0NvbmZpZyA9IG9uRnVsZmlsbGVkKG5ld0NvbmZpZyk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBvblJlamVjdGVkLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgcHJvbWlzZSA9IGRpc3BhdGNoUmVxdWVzdC5jYWxsKHRoaXMsIG5ld0NvbmZpZyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgfVxuXG4gICAgaSA9IDA7XG4gICAgbGVuID0gcmVzcG9uc2VJbnRlcmNlcHRvckNoYWluLmxlbmd0aDtcblxuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHJlc3BvbnNlSW50ZXJjZXB0b3JDaGFpbltpKytdLCByZXNwb25zZUludGVyY2VwdG9yQ2hhaW5baSsrXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICBnZXRVcmkoY29uZmlnKSB7XG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKTtcbiAgICBjb25zdCBmdWxsUGF0aCA9IGJ1aWxkRnVsbFBhdGgoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwsIGNvbmZpZy5hbGxvd0Fic29sdXRlVXJscyk7XG4gICAgcmV0dXJuIGJ1aWxkVVJMKGZ1bGxQYXRoLCBjb25maWcucGFyYW1zLCBjb25maWcucGFyYW1zU2VyaWFsaXplcik7XG4gIH1cbn1cblxuLy8gUHJvdmlkZSBhbGlhc2VzIGZvciBzdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2RzXG51dGlscy5mb3JFYWNoKFsnZGVsZXRlJywgJ2dldCcsICdoZWFkJywgJ29wdGlvbnMnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QobWVyZ2VDb25maWcoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2QsXG4gICAgICB1cmwsXG4gICAgICBkYXRhOiAoY29uZmlnIHx8IHt9KS5kYXRhXG4gICAgfSkpO1xuICB9O1xufSk7XG5cbnV0aWxzLmZvckVhY2goWydwb3N0JywgJ3B1dCcsICdwYXRjaCddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kV2l0aERhdGEobWV0aG9kKSB7XG4gIC8qZXNsaW50IGZ1bmMtbmFtZXM6MCovXG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGVIVFRQTWV0aG9kKGlzRm9ybSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBodHRwTWV0aG9kKHVybCwgZGF0YSwgY29uZmlnKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KG1lcmdlQ29uZmlnKGNvbmZpZyB8fCB7fSwge1xuICAgICAgICBtZXRob2QsXG4gICAgICAgIGhlYWRlcnM6IGlzRm9ybSA/IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnXG4gICAgICAgIH0gOiB7fSxcbiAgICAgICAgdXJsLFxuICAgICAgICBkYXRhXG4gICAgICB9KSk7XG4gICAgfTtcbiAgfVxuXG4gIEF4aW9zLnByb3RvdHlwZVttZXRob2RdID0gZ2VuZXJhdGVIVFRQTWV0aG9kKCk7XG5cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZCArICdGb3JtJ10gPSBnZW5lcmF0ZUhUVFBNZXRob2QodHJ1ZSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgQXhpb3M7XG4iLAogICAgIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IENhbmNlbGVkRXJyb3IgZnJvbSAnLi9DYW5jZWxlZEVycm9yLmpzJztcblxuLyoqXG4gKiBBIGBDYW5jZWxUb2tlbmAgaXMgYW4gb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgYW4gb3BlcmF0aW9uLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGV4ZWN1dG9yIFRoZSBleGVjdXRvciBmdW5jdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7Q2FuY2VsVG9rZW59XG4gKi9cbmNsYXNzIENhbmNlbFRva2VuIHtcbiAgY29uc3RydWN0b3IoZXhlY3V0b3IpIHtcbiAgICBpZiAodHlwZW9mIGV4ZWN1dG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xuXG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gcHJvbWlzZUV4ZWN1dG9yKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHRva2VuID0gdGhpcztcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4oY2FuY2VsID0+IHtcbiAgICAgIGlmICghdG9rZW4uX2xpc3RlbmVycykgcmV0dXJuO1xuXG4gICAgICBsZXQgaSA9IHRva2VuLl9saXN0ZW5lcnMubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoaS0tID4gMCkge1xuICAgICAgICB0b2tlbi5fbGlzdGVuZXJzW2ldKGNhbmNlbCk7XG4gICAgICB9XG4gICAgICB0b2tlbi5fbGlzdGVuZXJzID0gbnVsbDtcbiAgICB9KTtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG4gICAgdGhpcy5wcm9taXNlLnRoZW4gPSBvbmZ1bGZpbGxlZCA9PiB7XG4gICAgICBsZXQgX3Jlc29sdmU7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICB0b2tlbi5zdWJzY3JpYmUocmVzb2x2ZSk7XG4gICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIH0pLnRoZW4ob25mdWxmaWxsZWQpO1xuXG4gICAgICBwcm9taXNlLmNhbmNlbCA9IGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgdG9rZW4udW5zdWJzY3JpYmUoX3Jlc29sdmUpO1xuICAgICAgfTtcblxuICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcblxuICAgIGV4ZWN1dG9yKGZ1bmN0aW9uIGNhbmNlbChtZXNzYWdlLCBjb25maWcsIHJlcXVlc3QpIHtcbiAgICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgICAgLy8gQ2FuY2VsbGF0aW9uIGhhcyBhbHJlYWR5IGJlZW4gcmVxdWVzdGVkXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdG9rZW4ucmVhc29uID0gbmV3IENhbmNlbGVkRXJyb3IobWVzc2FnZSwgY29uZmlnLCByZXF1ZXN0KTtcbiAgICAgIHJlc29sdmVQcm9taXNlKHRva2VuLnJlYXNvbik7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGEgYENhbmNlbGVkRXJyb3JgIGlmIGNhbmNlbGxhdGlvbiBoYXMgYmVlbiByZXF1ZXN0ZWQuXG4gICAqL1xuICB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICAgIGlmICh0aGlzLnJlYXNvbikge1xuICAgICAgdGhyb3cgdGhpcy5yZWFzb247XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byB0aGUgY2FuY2VsIHNpZ25hbFxuICAgKi9cblxuICBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICAgIGxpc3RlbmVyKHRoaXMucmVhc29uKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpc3RlbmVycyA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVuc3Vic2NyaWJlIGZyb20gdGhlIGNhbmNlbCBzaWduYWxcbiAgICovXG5cbiAgdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9saXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH1cblxuICB0b0Fib3J0U2lnbmFsKCkge1xuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG5cbiAgICBjb25zdCBhYm9ydCA9IChlcnIpID0+IHtcbiAgICAgIGNvbnRyb2xsZXIuYWJvcnQoZXJyKTtcbiAgICB9O1xuXG4gICAgdGhpcy5zdWJzY3JpYmUoYWJvcnQpO1xuXG4gICAgY29udHJvbGxlci5zaWduYWwudW5zdWJzY3JpYmUgPSAoKSA9PiB0aGlzLnVuc3Vic2NyaWJlKGFib3J0KTtcblxuICAgIHJldHVybiBjb250cm9sbGVyLnNpZ25hbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gICAqIGNhbmNlbHMgdGhlIGBDYW5jZWxUb2tlbmAuXG4gICAqL1xuICBzdGF0aWMgc291cmNlKCkge1xuICAgIGxldCBjYW5jZWw7XG4gICAgY29uc3QgdG9rZW4gPSBuZXcgQ2FuY2VsVG9rZW4oZnVuY3Rpb24gZXhlY3V0b3IoYykge1xuICAgICAgY2FuY2VsID0gYztcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW4sXG4gICAgICBjYW5jZWxcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbmNlbFRva2VuO1xuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3ludGFjdGljIHN1Z2FyIGZvciBpbnZva2luZyBhIGZ1bmN0aW9uIGFuZCBleHBhbmRpbmcgYW4gYXJyYXkgZm9yIGFyZ3VtZW50cy5cbiAqXG4gKiBDb21tb24gdXNlIGNhc2Ugd291bGQgYmUgdG8gdXNlIGBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHlgLlxuICpcbiAqICBgYGBqc1xuICogIGZ1bmN0aW9uIGYoeCwgeSwgeikge31cbiAqICB2YXIgYXJncyA9IFsxLCAyLCAzXTtcbiAqICBmLmFwcGx5KG51bGwsIGFyZ3MpO1xuICogIGBgYFxuICpcbiAqIFdpdGggYHNwcmVhZGAgdGhpcyBleGFtcGxlIGNhbiBiZSByZS13cml0dGVuLlxuICpcbiAqICBgYGBqc1xuICogIHNwcmVhZChmdW5jdGlvbih4LCB5LCB6KSB7fSkoWzEsIDIsIDNdKTtcbiAqICBgYGBcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ByZWFkKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiB3cmFwKGFycikge1xuICAgIHJldHVybiBjYWxsYmFjay5hcHBseShudWxsLCBhcnIpO1xuICB9O1xufVxuIiwKICAgICIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB1dGlscyBmcm9tICcuLy4uL3V0aWxzLmpzJztcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHBheWxvYWQgaXMgYW4gZXJyb3IgdGhyb3duIGJ5IEF4aW9zXG4gKlxuICogQHBhcmFtIHsqfSBwYXlsb2FkIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHBheWxvYWQgaXMgYW4gZXJyb3IgdGhyb3duIGJ5IEF4aW9zLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaXNBeGlvc0Vycm9yKHBheWxvYWQpIHtcbiAgcmV0dXJuIHV0aWxzLmlzT2JqZWN0KHBheWxvYWQpICYmIChwYXlsb2FkLmlzQXhpb3NFcnJvciA9PT0gdHJ1ZSk7XG59XG4iLAogICAgImNvbnN0IEh0dHBTdGF0dXNDb2RlID0ge1xuICBDb250aW51ZTogMTAwLFxuICBTd2l0Y2hpbmdQcm90b2NvbHM6IDEwMSxcbiAgUHJvY2Vzc2luZzogMTAyLFxuICBFYXJseUhpbnRzOiAxMDMsXG4gIE9rOiAyMDAsXG4gIENyZWF0ZWQ6IDIwMSxcbiAgQWNjZXB0ZWQ6IDIwMixcbiAgTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uOiAyMDMsXG4gIE5vQ29udGVudDogMjA0LFxuICBSZXNldENvbnRlbnQ6IDIwNSxcbiAgUGFydGlhbENvbnRlbnQ6IDIwNixcbiAgTXVsdGlTdGF0dXM6IDIwNyxcbiAgQWxyZWFkeVJlcG9ydGVkOiAyMDgsXG4gIEltVXNlZDogMjI2LFxuICBNdWx0aXBsZUNob2ljZXM6IDMwMCxcbiAgTW92ZWRQZXJtYW5lbnRseTogMzAxLFxuICBGb3VuZDogMzAyLFxuICBTZWVPdGhlcjogMzAzLFxuICBOb3RNb2RpZmllZDogMzA0LFxuICBVc2VQcm94eTogMzA1LFxuICBVbnVzZWQ6IDMwNixcbiAgVGVtcG9yYXJ5UmVkaXJlY3Q6IDMwNyxcbiAgUGVybWFuZW50UmVkaXJlY3Q6IDMwOCxcbiAgQmFkUmVxdWVzdDogNDAwLFxuICBVbmF1dGhvcml6ZWQ6IDQwMSxcbiAgUGF5bWVudFJlcXVpcmVkOiA0MDIsXG4gIEZvcmJpZGRlbjogNDAzLFxuICBOb3RGb3VuZDogNDA0LFxuICBNZXRob2ROb3RBbGxvd2VkOiA0MDUsXG4gIE5vdEFjY2VwdGFibGU6IDQwNixcbiAgUHJveHlBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA0MDcsXG4gIFJlcXVlc3RUaW1lb3V0OiA0MDgsXG4gIENvbmZsaWN0OiA0MDksXG4gIEdvbmU6IDQxMCxcbiAgTGVuZ3RoUmVxdWlyZWQ6IDQxMSxcbiAgUHJlY29uZGl0aW9uRmFpbGVkOiA0MTIsXG4gIFBheWxvYWRUb29MYXJnZTogNDEzLFxuICBVcmlUb29Mb25nOiA0MTQsXG4gIFVuc3VwcG9ydGVkTWVkaWFUeXBlOiA0MTUsXG4gIFJhbmdlTm90U2F0aXNmaWFibGU6IDQxNixcbiAgRXhwZWN0YXRpb25GYWlsZWQ6IDQxNyxcbiAgSW1BVGVhcG90OiA0MTgsXG4gIE1pc2RpcmVjdGVkUmVxdWVzdDogNDIxLFxuICBVbnByb2Nlc3NhYmxlRW50aXR5OiA0MjIsXG4gIExvY2tlZDogNDIzLFxuICBGYWlsZWREZXBlbmRlbmN5OiA0MjQsXG4gIFRvb0Vhcmx5OiA0MjUsXG4gIFVwZ3JhZGVSZXF1aXJlZDogNDI2LFxuICBQcmVjb25kaXRpb25SZXF1aXJlZDogNDI4LFxuICBUb29NYW55UmVxdWVzdHM6IDQyOSxcbiAgUmVxdWVzdEhlYWRlckZpZWxkc1Rvb0xhcmdlOiA0MzEsXG4gIFVuYXZhaWxhYmxlRm9yTGVnYWxSZWFzb25zOiA0NTEsXG4gIEludGVybmFsU2VydmVyRXJyb3I6IDUwMCxcbiAgTm90SW1wbGVtZW50ZWQ6IDUwMSxcbiAgQmFkR2F0ZXdheTogNTAyLFxuICBTZXJ2aWNlVW5hdmFpbGFibGU6IDUwMyxcbiAgR2F0ZXdheVRpbWVvdXQ6IDUwNCxcbiAgSHR0cFZlcnNpb25Ob3RTdXBwb3J0ZWQ6IDUwNSxcbiAgVmFyaWFudEFsc29OZWdvdGlhdGVzOiA1MDYsXG4gIEluc3VmZmljaWVudFN0b3JhZ2U6IDUwNyxcbiAgTG9vcERldGVjdGVkOiA1MDgsXG4gIE5vdEV4dGVuZGVkOiA1MTAsXG4gIE5ldHdvcmtBdXRoZW50aWNhdGlvblJlcXVpcmVkOiA1MTEsXG59O1xuXG5PYmplY3QuZW50cmllcyhIdHRwU3RhdHVzQ29kZSkuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gIEh0dHBTdGF0dXNDb2RlW3ZhbHVlXSA9IGtleTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBIdHRwU3RhdHVzQ29kZTtcbiIsCiAgICAiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQgYmluZCBmcm9tICcuL2hlbHBlcnMvYmluZC5qcyc7XG5pbXBvcnQgQXhpb3MgZnJvbSAnLi9jb3JlL0F4aW9zLmpzJztcbmltcG9ydCBtZXJnZUNvbmZpZyBmcm9tICcuL2NvcmUvbWVyZ2VDb25maWcuanMnO1xuaW1wb3J0IGRlZmF1bHRzIGZyb20gJy4vZGVmYXVsdHMvaW5kZXguanMnO1xuaW1wb3J0IGZvcm1EYXRhVG9KU09OIGZyb20gJy4vaGVscGVycy9mb3JtRGF0YVRvSlNPTi5qcyc7XG5pbXBvcnQgQ2FuY2VsZWRFcnJvciBmcm9tICcuL2NhbmNlbC9DYW5jZWxlZEVycm9yLmpzJztcbmltcG9ydCBDYW5jZWxUb2tlbiBmcm9tICcuL2NhbmNlbC9DYW5jZWxUb2tlbi5qcyc7XG5pbXBvcnQgaXNDYW5jZWwgZnJvbSAnLi9jYW5jZWwvaXNDYW5jZWwuanMnO1xuaW1wb3J0IHtWRVJTSU9OfSBmcm9tICcuL2Vudi9kYXRhLmpzJztcbmltcG9ydCB0b0Zvcm1EYXRhIGZyb20gJy4vaGVscGVycy90b0Zvcm1EYXRhLmpzJztcbmltcG9ydCBBeGlvc0Vycm9yIGZyb20gJy4vY29yZS9BeGlvc0Vycm9yLmpzJztcbmltcG9ydCBzcHJlYWQgZnJvbSAnLi9oZWxwZXJzL3NwcmVhZC5qcyc7XG5pbXBvcnQgaXNBeGlvc0Vycm9yIGZyb20gJy4vaGVscGVycy9pc0F4aW9zRXJyb3IuanMnO1xuaW1wb3J0IEF4aW9zSGVhZGVycyBmcm9tIFwiLi9jb3JlL0F4aW9zSGVhZGVycy5qc1wiO1xuaW1wb3J0IGFkYXB0ZXJzIGZyb20gJy4vYWRhcHRlcnMvYWRhcHRlcnMuanMnO1xuaW1wb3J0IEh0dHBTdGF0dXNDb2RlIGZyb20gJy4vaGVscGVycy9IdHRwU3RhdHVzQ29kZS5qcyc7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqXG4gKiBAcmV0dXJucyB7QXhpb3N9IEEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRDb25maWcpIHtcbiAgY29uc3QgY29udGV4dCA9IG5ldyBBeGlvcyhkZWZhdWx0Q29uZmlnKTtcbiAgY29uc3QgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCwge2FsbE93bktleXM6IHRydWV9KTtcblxuICAvLyBDb3B5IGNvbnRleHQgdG8gaW5zdGFuY2VcbiAgdXRpbHMuZXh0ZW5kKGluc3RhbmNlLCBjb250ZXh0LCBudWxsLCB7YWxsT3duS2V5czogdHJ1ZX0pO1xuXG4gIC8vIEZhY3RvcnkgZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZXNcbiAgaW5zdGFuY2UuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGluc3RhbmNlQ29uZmlnKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKG1lcmdlQ29uZmlnKGRlZmF1bHRDb25maWcsIGluc3RhbmNlQ29uZmlnKSk7XG4gIH07XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbmNvbnN0IGF4aW9zID0gY3JlYXRlSW5zdGFuY2UoZGVmYXVsdHMpO1xuXG4vLyBFeHBvc2UgQXhpb3MgY2xhc3MgdG8gYWxsb3cgY2xhc3MgaW5oZXJpdGFuY2VcbmF4aW9zLkF4aW9zID0gQXhpb3M7XG5cbi8vIEV4cG9zZSBDYW5jZWwgJiBDYW5jZWxUb2tlblxuYXhpb3MuQ2FuY2VsZWRFcnJvciA9IENhbmNlbGVkRXJyb3I7XG5heGlvcy5DYW5jZWxUb2tlbiA9IENhbmNlbFRva2VuO1xuYXhpb3MuaXNDYW5jZWwgPSBpc0NhbmNlbDtcbmF4aW9zLlZFUlNJT04gPSBWRVJTSU9OO1xuYXhpb3MudG9Gb3JtRGF0YSA9IHRvRm9ybURhdGE7XG5cbi8vIEV4cG9zZSBBeGlvc0Vycm9yIGNsYXNzXG5heGlvcy5BeGlvc0Vycm9yID0gQXhpb3NFcnJvcjtcblxuLy8gYWxpYXMgZm9yIENhbmNlbGVkRXJyb3IgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmF4aW9zLkNhbmNlbCA9IGF4aW9zLkNhbmNlbGVkRXJyb3I7XG5cbi8vIEV4cG9zZSBhbGwvc3ByZWFkXG5heGlvcy5hbGwgPSBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn07XG5cbmF4aW9zLnNwcmVhZCA9IHNwcmVhZDtcblxuLy8gRXhwb3NlIGlzQXhpb3NFcnJvclxuYXhpb3MuaXNBeGlvc0Vycm9yID0gaXNBeGlvc0Vycm9yO1xuXG4vLyBFeHBvc2UgbWVyZ2VDb25maWdcbmF4aW9zLm1lcmdlQ29uZmlnID0gbWVyZ2VDb25maWc7XG5cbmF4aW9zLkF4aW9zSGVhZGVycyA9IEF4aW9zSGVhZGVycztcblxuYXhpb3MuZm9ybVRvSlNPTiA9IHRoaW5nID0+IGZvcm1EYXRhVG9KU09OKHV0aWxzLmlzSFRNTEZvcm0odGhpbmcpID8gbmV3IEZvcm1EYXRhKHRoaW5nKSA6IHRoaW5nKTtcblxuYXhpb3MuZ2V0QWRhcHRlciA9IGFkYXB0ZXJzLmdldEFkYXB0ZXI7XG5cbmF4aW9zLkh0dHBTdGF0dXNDb2RlID0gSHR0cFN0YXR1c0NvZGU7XG5cbmF4aW9zLmRlZmF1bHQgPSBheGlvcztcblxuLy8gdGhpcyBtb2R1bGUgc2hvdWxkIG9ubHkgaGF2ZSBhIGRlZmF1bHQgZXhwb3J0XG5leHBvcnQgZGVmYXVsdCBheGlvc1xuIiwKICAgICJpbXBvcnQge1xuICAgIGRlZmF1bHQgYXMgQXhpb3Ncbn0gZnJvbSBcImF4aW9zXCI7XG5cbmV4cG9ydCB0eXBlIFNlcnZlcjxcbiAgICBUMSBleHRlbmRzIFNlcnZlci5FbmRwb2ludHMsIFxuICAgIFQyIGV4dGVuZHMgU2VydmVyLlJlY2VpdmVyRW5kcG9pbnRzXG4gICAgPiA9IHtcbiAgICBxdWVyeTxUMyBleHRlbmRzIGtleW9mIFQxPih1cmw6IFQzKTogUHJvbWlzZTxUMVtUM10+O1xuICAgIHRvdWNoPFQzIGV4dGVuZHMga2V5b2YgVDI+KHVybDogVDMsIGRhdGE6IFQyW1QzXVswXSk6IFByb21pc2U8VDJbVDNdWzFdPjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBTZXJ2ZXI8XG4gICAgVDEgZXh0ZW5kcyBTZXJ2ZXIuRW5kcG9pbnRzLFxuICAgIFQyIGV4dGVuZHMgU2VydmVyLlJlY2VpdmVyRW5kcG9pbnRzXG4gICAgPigpOiBTZXJ2ZXI8VDEsIFQyPiB7XG4gICAgLyoqIEBjb25zdHJ1Y3RvciAqLyB7XG4gICAgICAgIHJldHVybiB7cXVlcnksIHRvdWNofTtcbiAgICB9XG4gICAgXG4gICAgYXN5bmMgZnVuY3Rpb24gcXVlcnk8VDMgZXh0ZW5kcyBrZXlvZiBUMT4odXJsOiBUMyk6IFByb21pc2U8VDFbVDNdPiB7XG4gICAgICAgIHJldHVybiAoYXdhaXQgQXhpb3MuZ2V0KCh1cmwgYXMgc3RyaW5nKSkpLmRhdGE7XG4gICAgfVxuICAgIFxuICAgIGFzeW5jIGZ1bmN0aW9uIHRvdWNoPFQzIGV4dGVuZHMga2V5b2YgVDI+KHVybDogVDMsIGRhdGE6IFQyW1QzXVswXSk6IFByb21pc2U8VDJbVDNdWzFdPiB7XG4gICAgICAgIHJldHVybiAoYXdhaXQgQXhpb3MucG9zdCgodXJsIGFzIHN0cmluZyksIGRhdGEpKS5kYXRhO1xuICAgIH0gICBcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBTZXJ2ZXIge1xuICAgIC8qKlxuICAgICAqICoqKndoZXJlKioqXG4gICAgICogKiAgICAgVDEgOiB1cmxcbiAgICAgKiAqICAgICBUMiA6IHJlc3BvbnNlXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgRW5kcG9pbnRzPFQxIGV4dGVuZHMgc3RyaW5nPXN0cmluZywgVDI9dW5rbm93bj4gPSBSZWNvcmQ8VDEsIFQyPjtcblxuICAgIC8qKlxuICAgICAqICoqKndoZXJlKioqXG4gICAgICogKiAgICAgVDEgOiB1cmxcbiAgICAgKiAqICAgICBUMiA6IHJlcXVlc3RcbiAgICAgKiAqICAgICBUMyA6IHJlc3BvbnNlXG4gICAgICovXG4gICAgZXhwb3J0IHR5cGUgUmVjZWl2ZXJFbmRwb2ludHM8XG4gICAgICAgIFQxIGV4dGVuZHMgc3RyaW5nPXN0cmluZyxcbiAgICAgICAgVDI9dW5rbm93bixcbiAgICAgICAgVDM9dW5rbm93blxuICAgICAgICA+ID0gUmVjb3JkPFQxLCBbVDIsIFQzXT47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUHJvZHVjdERhdGEsXG4gICAgU2VydmVyXG59IGZyb20gXCJAY29tbW9uXCI7XG5cbmV4cG9ydCBjb25zdCBCcmlkZ2UgPSBTZXJ2ZXI8e30sIHtcbiAgICBcIi91c2VybmFtZV9pc19hdmFpbGFibGVcIjogW3tcbiAgICAgICAgdXNlcm5hbWU6IHN0cmluZ1xuICAgIH0sIHtcbiAgICAgICAgc3VjY2VzczogYm9vbGVhblxuICAgIH1dLFxuICAgIFwiL3Byb2R1Y3RfaXNfaW5fc3RvY2tcIjogW1xuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIGJvb2xlYW5cbiAgICBdLFxuICAgIFwiL2hhc19wcm9kdWN0XCI6IFtcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLCBcbiAgICAgICAgYm9vbGVhblxuICAgIF0sXG4gICAgXCIvbWF0ZXJpYWxzXCI6IFtcbiAgICAgICAgbnVsbCwgXG4gICAgICAgIEFycmF5PHN0cmluZz5cbiAgICBdLFxuICAgIFwiL3Byb2R1Y3RzX2J5X2tleVwiOiBbXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcmVzcG9uc2U6IEFycmF5PFByb2R1Y3REYXRhPlxuICAgIF0sXG4gICAgXCIvcHJvZHVjdHNcIjogW1xuICAgICAgICBudWxsLCBcbiAgICAgICAgcmVzcG9uc2U6IEFycmF5PFByb2R1Y3REYXRhPlxuICAgIF0sXG4gICAgXCIvc2lnbl91cFwiOiBbe1xuICAgICAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgICAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBlbWFpbDogc3RyaW5nXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL3NpZ25faW5cIjogW3tcbiAgICAgICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICAgICAgcGFzc3dvcmQ6IHN0cmluZ1xuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9saXN0XCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdDogUHJvZHVjdERhdGFcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF1cbiAgICBcIi9kZWxpc3RcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmdcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF1cbiAgICBcIi9zZXRfc3RvY2tcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9pbmNyZWFzZV9zdG9ja1wiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdLFxuICAgIFwiL2RlY3JlYXNlX3N0b2NrXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvc2V0X3ByaWNlXCI6IFt7XG4gICAgICAgIGFkbWluUGFzc3dvcmQ6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEtleTogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0QW1vdW50OiBudW1iZXJcbiAgICB9LCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbF0sXG4gICAgXCIvaW5jcmVhc2VfcHJpY2VcIjogW3tcbiAgICAgICAgYWRtaW5QYXNzd29yZDogc3RyaW5nLFxuICAgICAgICBwcm9kdWN0S2V5OiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RBbW91bnQ6IG51bWJlclxuICAgIH0sIGVycmNvZGU6IEJyaWRnZS5FcnIgfCBudWxsXSxcbiAgICBcIi9kZWNyZWFzZV9wcmljZVwiOiBbe1xuICAgICAgICBhZG1pblBhc3N3b3JkOiBzdHJpbmcsXG4gICAgICAgIHByb2R1Y3RLZXk6IHN0cmluZyxcbiAgICAgICAgcHJvZHVjdEFtb3VudDogbnVtYmVyXG4gICAgfSwgZXJyY29kZTogQnJpZGdlLkVyciB8IG51bGxdXG59PigpO1xuXG5leHBvcnQgbmFtZXNwYWNlIEJyaWRnZSB7XG4gICAgZXhwb3J0IHR5cGUgRXJyID1cbiAgICAgICAgfCBcIkJSSURHRS5FUlJfSU5WQUxJRF9SRVFVRVNUXCJcbiAgICAgICAgfCBcIkJSSURHRS5FUlJfVVNFUk5BTUVfTk9UX0FWQUlMQUJMRVwiO1xufSIsCiAgICAiZXhwb3J0IGZ1bmN0aW9uIHJlcXVpcmU8VDEgZXh0ZW5kcyBzdHJpbmc+KGNvbmRpdGlvbjogYm9vbGVhbiwgY29kZTogVDEpOiBhc3NlcnRzIGNvbmRpdGlvbiBpcyB0cnVlIHtcbiAgICBpZiAoY29uZGl0aW9uKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhyb3cgY29kZTtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFNwcmluZ0NvbmZpZyxcbiAgICBTSEFET1csXG4gICAgdXNlU3ByaW5ncyxcbiAgICB1c2VTdGF0ZSxcbiAgICB1c2VFZmZlY3QsXG4gICAgYW5pbWF0ZWRcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgSW1hZ2VDYXJvdXNlbFByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIHVybHM6IEFycmF5PHN0cmluZz47XG4gICAgbXNJbnRlcnZhbFNsZWVwPzogbnVtYmVyO1xuICAgIGFuaW1hdGlvbj86IFNwcmluZ0NvbmZpZztcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJbWFnZUNhcm91c2VsKHtcbiAgICB1cmxzLFxuICAgIG1zSW50ZXJ2YWxTbGVlcD0xMDAwMCxcbiAgICBhbmltYXRpb249e1xuICAgICAgICBkdXJhdGlvbjogMTAwMDBcbiAgICB9LFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IEltYWdlQ2Fyb3VzZWxQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IGtleTogU3RhdGU8bnVtYmVyPiA9IHVzZVN0YXRlKDApO1xuICAgIGxldCBzcHJpbmdzID0gdXNlU3ByaW5ncyh1cmxzLmxlbmd0aCwgdXJscy5tYXAoKF8sIHVybEtleSkgPT4gKHtcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWCgkezEwMCAqICh1cmxLZXkgLSBrZXlbMF0pfSUpYCxcbiAgICAgICAgY29uZmlnOiBhbmltYXRpb25cbiAgICB9KSkpO1xuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgbGV0IHRpbWVyOiBUaW1lciA9IHNldEludGVydmFsKCgpID0+IGtleVsxXShsYXN0ID0+IChsYXN0ICsgMSkgJSB1cmxzLmxlbmd0aCksIG1zSW50ZXJ2YWxTbGVlcCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICB9LCBbXSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDEwLFxuICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3dYOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgIG92ZXJmbG93WTogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtzcHJpbmdzLm1hcCgoc3ByaW5nLCBzcHJpbmdLZXkpID0+IDw+XG4gICAgICAgICAgICAgICAgPGFuaW1hdGVkLmRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e3NwcmluZ0tleX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnNwcmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3VybHNbc3ByaW5nS2V5XX0pYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRTaXplOiBcImNvdmVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25YOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWTogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRSZXBlYXQ6IFwibm8tcmVwZWF0XCJcbiAgICAgICAgICAgICAgICAgICAgfX0vPlxuICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IFwiMlwiLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXg6IDFcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcclxuICAgIHR5cGUgU3ByaW5nQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxyXG4gICAgdHlwZSBSZWFjdE5vZGUsXHJcbiAgICB0eXBlIFNwcmluZ0NvbmZpZyxcclxuICAgIHVzZVNwcmluZyxcclxuICAgIHVzZUVmZmVjdCxcclxuICAgIGFuaW1hdGVkXHJcbn0gZnJvbSBcIkB3ZWJcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFJldmVhbFByb3BzID0gXHJcbiAgICAmIFNwcmluZ0NvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxyXG4gICAgJiB7XHJcbiAgICBtc0RlbGF5PzogbnVtYmVyLFxyXG4gICAgYW5pbWF0aW9uPzogU3ByaW5nQ29uZmlnXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUmV2ZWFsKHtcclxuICAgIG1zRGVsYXk9MCxcclxuICAgIGFuaW1hdGlvbj17XHJcbiAgICAgICAgZHVyYXRpb246IDE1MDAwXHJcbiAgICB9LFxyXG4gICAgc3R5bGUsXHJcbiAgICBjaGlsZHJlbixcclxuICAgIC4uLm1vcmVcclxufTogUmV2ZWFsUHJvcHMpOiBSZWFjdE5vZGUge1xyXG4gICAgbGV0IGluaXRPcGFjaXR5OiBzdHJpbmcgPSBcIjBcIjtcclxuICAgIGxldCBuZXh0T3BhY2l0eTogc3RyaW5nID0gXCIxXCI7XHJcbiAgICBsZXQgc3ByaW5nID0gdXNlU3ByaW5nKCgpID0+ICh7XHJcbiAgICAgICAgb3BhY2l0eTogaW5pdE9wYWNpdHksXHJcbiAgICAgICAgZGVsYXk6IG1zRGVsYXlcclxuICAgIH0pKTtcclxuXHJcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgICAgIHNwcmluZ1sxXS5zdGFydCh7XHJcbiAgICAgICAgICAgIG9wYWNpdHk6IG5leHRPcGFjaXR5LFxyXG4gICAgICAgICAgICBjb25maWc6IGFuaW1hdGlvblxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH0sIFtdKTtcclxuXHJcbiAgICByZXR1cm4gPD5cclxuICAgICAgICB7LyoqIEB0cy1pZ25vcmUgKi99XHJcbiAgICAgICAgPGFuaW1hdGVkLmRpdlxyXG4gICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxyXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICAuLi5zcHJpbmdbMF1cclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgey4uLm1vcmV9PlxyXG4gICAgICAgICAgICB7Y2hpbGRyZW59XHJcbiAgICAgICAgPC9hbmltYXRlZC5kaXY+XHJcbiAgICA8Lz47XHJcbn0iLAogICAgImV4cG9ydCB0eXBlIENvbG9yID0gW1xuICAgIHN0cmluZywgIC8vIGRrXG4gICAgc3RyaW5nLCAgLy8gbHRcbiAgICBzdHJpbmcgICAvLyBhY2NlbnRcbl07XG5cbmV4cG9ydCBjb25zdCBDb2xvcjogQ29sb3IgPSBbXG4gICAgXCIjMEMwNTI3XCIsXG4gICAgXCIjRkFGNkY2XCIsXG4gICAgXCIjRjFENTUwXCJcbl07IiwKICAgICJleHBvcnQgdHlwZSBGb250ID0gW1xuICAgIHN0cmluZywgIC8vIDBcbiAgICBzdHJpbmcsICAvLyAxXG4gICAgc3RyaW5nICAgLy8gbW9ub3NwYWNlXG5dO1xuXG5leHBvcnQgY29uc3QgRm9udDogRm9udCA9IFtcbiAgICBcIktvbmtobWVyIFNsZW9rY2hoZXJcIixcbiAgICBcIkNvcmUgU2FucyBBXCIsXG4gICAgXCJNYXJpYVwiXG5dOyIsCiAgICAiZXhwb3J0IGNvbnN0IFNIQURPVzogc3RyaW5nID0gXCJyZ2JhKDAsIDAsIDAsIDAuMDUpIDBweCAwcHggMHB4IDFweFwiOyIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBTSEFET1csXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtQnV0dG9uUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiYnV0dG9uXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1CdXR0b24oe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IEZvcm1CdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsxXSxcbiAgICAgICAgICAgICAgICBib3hTaGFkb3c6IFNIQURPVyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBDb2xvclswXSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiA1LFxuICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogNSxcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4R3JvdzogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9idXR0b24+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZlxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtSW5wdXRQcm9wcyA9XG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImlucHV0XCI+LCBcImNoaWxkcmVuXCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1JbnB1dCh7c3R5bGUsIC4uLm1vcmV9OiBGb3JtSW5wdXRQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBhbGw6IFwidW5zZXRcIixcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSAgIFxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIEZvcm1NZXNzYWdlUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIEZvcm1NZXNzYWdlKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBGb3JtTWVzc2FnZVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIFNIQURPVyxcbiAgICBGb250LFxuICAgIENvbG9yLFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBGb3JtUHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge307XG5cbmV4cG9ydCBmdW5jdGlvbiBGb3JtKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBGb3JtUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiLFxuICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMjAsXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiA1LFxuICAgICAgICAgICAgICAgIGdhcDogMjAsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ3aGl0ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xyXG4gICAgdHlwZSBSZWFjdE5vZGUsXHJcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcclxuICAgIHR5cGUgUGFnZVByb3BzLFxyXG4gICAgUGFnZVxyXG59IGZyb20gXCJAd2ViXCI7XHJcblxyXG5leHBvcnQgdHlwZSBQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnNQcm9wcyA9XHJcbiAgICAmIFBhZ2VQcm9wc1xyXG4gICAgJiB7XHJcbiAgICBzZWN0aW9uczogW1xyXG4gICAgICAgIFJlYWN0Tm9kZSxcclxuICAgICAgICBSZWFjdE5vZGVcclxuICAgIF1cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnMoe3NlY3Rpb25zLCAuLi5tb3JlfTogUGFnZVdpdGgySG9yaXpvbnRhbFNlY3Rpb25zUHJvcHMpOiBSZWFjdE5vZGUge1xyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPFBhZ2VcclxuICAgICAgICAgICAgey4uLm1vcmV9PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIlxyXG4gICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzBdfTwvX1NlY3Rpb24+XHJcbiAgICAgICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzFdfTwvX1NlY3Rpb24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvUGFnZT5cclxuICAgIDwvPjtcclxufVxyXG5cclxuXHJcbnR5cGUgX1NlY3Rpb25Qcm9wcyA9XHJcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxyXG4gICAgJiB7fTtcclxuXHJcbmZ1bmN0aW9uIF9TZWN0aW9uKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBfU2VjdGlvblByb3BzKTogUmVhY3ROb2RlIHtcclxuICAgIHJldHVybiA8PlxyXG4gICAgICAgIDxkaXZcclxuICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIixcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXHJcbiAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgIHsuLi5tb3JlfT5cclxuICAgICAgICAgICAge2NoaWxkcmVufVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC8+O1xyXG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUGFnZVByb3BzLFxuICAgIFBhZ2UsXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnNQcm9wcyA9IFxuICAgICYgUGFnZVByb3BzXG4gICAgJiB7XG4gICAgc2VjdGlvbnM6IFtcbiAgICAgICAgUmVhY3ROb2RlLFxuICAgICAgICBSZWFjdE5vZGUsXG4gICAgICAgIFJlYWN0Tm9kZVxuICAgIF07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gUGFnZVdpdGgzVmVydGljYWxTZWN0aW9ucyh7c2VjdGlvbnMsIC4uLm1vcmV9OiBQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zUHJvcHMpIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFBhZ2UgXG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzBdfTwvX1NlY3Rpb24+XG4gICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzFdfTwvX1NlY3Rpb24+XG4gICAgICAgICAgICA8X1NlY3Rpb24+e3NlY3Rpb25zWzJdfTwvX1NlY3Rpb24+XG4gICAgICAgIDwvUGFnZT5cbiAgICA8Lz47XG59XG5cblxudHlwZSBfU2VjdGlvblByb3BzID0gXG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICBjaGlsZHJlbjogUmVhY3ROb2RlO1xufTtcblxuZnVuY3Rpb24gX1NlY3Rpb24oe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IF9TZWN0aW9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIFBhZ2VQcm9wcyA9IFxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgbmF2YmFyPzogUmVhY3ROb2RlO1xuICAgIGZvb3Rlcj86IFJlYWN0Tm9kZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBQYWdlKHtcbiAgICBuYXZiYXIsXG4gICAgZm9vdGVyLFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IFBhZ2VQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwdndcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwdmhcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBcIndoaXRlXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIG1pbldpZHRoOiAxMDI0LFxuICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogMTQ0MCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdDogNjQsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogNjRcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICB7bmF2YmFyfVxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhHcm93OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtmb290ZXJ9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+ICAgICBcbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkJ1dHRvbkdyb3VwUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkJ1dHRvbkdyb3VwKHtzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBOYXZCdXR0b25Hcm91cFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgZ2FwOiAxMCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIENTU1Byb3BlcnRpZXMsXG4gICAgdHlwZSBTcHJpbmdDb25maWcsXG4gICAgRm9udCxcbiAgICBDb2xvcixcbiAgICB1c2VTcHJpbmcsXG4gICAgYW5pbWF0ZWRcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2QnV0dG9uUHJvcHMgPVxuICAgICYgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+XG4gICAgJiB7XG4gICAgaWNvbj86IHN0cmluZyxcbiAgICBpY29uU3R5bGU/OiBDU1NQcm9wZXJ0aWVzLFxuICAgIGNoaWxkU3R5bGU/OiBDU1NQcm9wZXJ0aWVzLFxuICAgIGFuaW1hdGlvbj86IFNwcmluZ0NvbmZpZyxcbiAgICBmb250U2l6ZU9uTW91c2VFbnRlcj86IHN0cmluZyxcbiAgICBmb250U2l6ZU9uTW91c2VMZWF2ZT86IHN0cmluZ1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdkJ1dHRvbih7XG4gICAgaWNvbixcbiAgICBpY29uU3R5bGUsXG4gICAgY2hpbGRTdHlsZSxcbiAgICBhbmltYXRpb24sXG4gICAgZm9udFNpemVPbk1vdXNlRW50ZXI9XCIwLjZlbVwiLFxuICAgIGZvbnRTaXplT25Nb3VzZUxlYXZlPVwiMC43ZW1cIixcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBOYXZCdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IHNwcmluZyA9IHVzZVNwcmluZygoKSA9PiAoe1xuICAgICAgICBmb250U2l6ZTogZm9udFNpemVPbk1vdXNlTGVhdmVcbiAgICB9KSk7XG4gICAgXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYWxsOiBcInVuc2V0XCIsXG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gICAgICAgICAgICAgICAgcGFkZGluZzogXCI4cHhcIixcbiAgICAgICAgICAgICAgICBnYXA6IFwiNXB4XCIsXG4gICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb25MaW5lOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtpY29uID8gPD5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGB1cmwoJHtpY29ufSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRQb3NpdGlvblk6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogXCJjb250YWluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUmVwZWF0OiBcIm5vLXJlcGVhdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IFwiMSAvIDFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmljb25TdHlsZVxuICAgICAgICAgICAgICAgICAgICB9fS8+XG4gICAgICAgICAgICA8Lz4gOiB1bmRlZmluZWR9XG4gICAgICAgICAgICB7Y2hpbGRyZW4gPyA8PlxuICAgICAgICAgICAgICAgIHsvKiogQHRzLWlnbm9yZSAqL31cbiAgICAgICAgICAgICAgICA8YW5pbWF0ZWQuZGl2XG4gICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ByaW5nWzFdLnN0YXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogZm9udFNpemVPbk1vdXNlRW50ZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnOiBhbmltYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcmluZ1sxXS5zdGFydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IGZvbnRTaXplT25Nb3VzZUxlYXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3ByaW5nWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2hpbGRTdHlsZVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvYW5pbWF0ZWQuZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3ByaXRlSWNvblByb3BzLFxuICAgIEJJR19TVEFSX0FORF9TTUFMTEVSX1NUQVJfSUNPTixcbiAgICBTcHJpdGVJY29uXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkNhbGxUb0FjdGlvbkJ1dHRvbkljb25Qcm9wcyA9XG4gICAgJiBPbWl0PFNwcml0ZUljb25Qcm9wcywgXCJjaGlsZHJlblwiIHwgXCJ1cmxcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvbih7c3R5bGUsIC4uLm1vcmV9OiBOYXZDYWxsVG9BY3Rpb25CdXR0b25JY29uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8U3ByaXRlSWNvblxuICAgICAgICAgICAgdXJsPXtCSUdfU1RBUl9BTkRfU01BTExFUl9TVEFSX0lDT059XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHdpZHRoOiBcIjI1cHhcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICBOYXZDYWxsVG9BY3Rpb25CdXR0b25JY29uLFxuICAgIE5hdkJ1dHRvbixcbiAgICBMaW5rLFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdkNhbGxUb0FjdGlvbkJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIHRvOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2Q2FsbFRvQWN0aW9uQnV0dG9uKHt0bywgc3R5bGUsIGNoaWxkcmVuLCAuLi5tb3JlfTogTmF2Q2FsbFRvQWN0aW9uQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBnYXA6IDEwLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjEwcHhcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICA8TmF2Q2FsbFRvQWN0aW9uQnV0dG9uSWNvblxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiBcIjEwMCVcIlxuICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgdG89e3RvfT5cbiAgICAgICAgICAgICAgICA8TmF2QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkU3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3ByaXRlUHJvcHMsXG4gICAgTE9HTyxcbiAgICBTcHJpdGUsXG4gICAgTGlua1xufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZMb2dvUHJvcHMgPVxuICAgICYgT21pdDxTcHJpdGVQcm9wcywgXCJjaGlsZHJlblwiIHwgXCJ1cmxcIj5cbiAgICAmIHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2TG9nbyh7c3R5bGUsIC4uLm1vcmV9OiBOYXZMb2dvUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8TGlua1xuICAgICAgICAgICAgdG89XCIvXCJcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJjb250ZW50c1wiXG4gICAgICAgICAgICB9fT5cbiAgICAgICAgICAgIDxTcHJpdGVcbiAgICAgICAgICAgICAgICB1cmw9e0xPR099XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTUwcHhcIixcbiAgICAgICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IFwiMiAvIDFcIixcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgICAgIDwvTGluaz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgU0hBRE9XLFxuICAgIExpbmssXG4gICAgRm9udCxcbiAgICBDb2xvclxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvblByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4sXG4gICAgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPixcbiAgICB0b2dnbGVkOiBTdGF0ZTxib29sZWFuPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uKHtcbiAgICBtYXRlcmlhbHMsXG4gICAgbWF0ZXJpYWxGb2N1cyxcbiAgICB0b2dnbGVkLFxuICAgIHN0eWxlLFxuICAgIGNoaWxkcmVuLFxuICAgIC4uLm1vcmVcbn06IE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIC4uLnN0eWxlXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgey4uLm1vcmV9PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZWRbMV0odHJ1ZSl9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogXCJub3JtYWxcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiXG4gICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAge2NoaWxkcmVufVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7dG9nZ2xlZFswXSA/IDw+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eygpID0+IHRvZ2dsZWRbMV0oZmFsc2UpfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBcIjEyMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhcDogMjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7bWF0ZXJpYWxzWzBdLm1hcChtYXRlcmlhbCA9PiA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bz1cIi9zaG93X3Jvb21cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG1hdGVyaWFsRm9jdXNbMV0obWF0ZXJpYWwpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge21hdGVyaWFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgTmF2UHJvcHMsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgTmF2LFxuICAgIHVzZVN0YXRlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlBhcnRpYWxCdWlsZFByb3BzID0gXG4gICAgJiBPbWl0PE5hdlByb3BzLFxuICAgICAgICB8IFwibWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkXCJcbiAgICAgICAgfCBcInNlYXJjaEJhclRvZ2dsZWRcIlxuICAgICAgICB8IFwic2VhcmNoQmFySW5wdXRcIlxuICAgICAgICA+XG4gICAgJiB7XG4gICAgbWF0ZXJpYWxzOiBTdGF0ZTxBcnJheTxzdHJpbmc+PixcbiAgICBtYXRlcmlhbEZvY3VzOiBTdGF0ZTxzdHJpbmc+LFxuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+LFxuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPixcbiAgICB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+LFxuICAgIHVzZXJJc1NpZ25lZEluOiBTdGF0ZTxib29sZWFuPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlBhcnRpYWxCdWlsZCh7XG4gICAgbWF0ZXJpYWxzLFxuICAgIG1hdGVyaWFsRm9jdXMsXG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW5cbn06IE5hdlBhcnRpYWxCdWlsZFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgbWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkOiBTdGF0ZTxib29sZWFuPiA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgICBsZXQgc2VhcmNoQmFyVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgbGV0IHNlYXJjaEJhcklucHV0OiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcblxuICAgIHJldHVybiA8PlxuICAgICAgICA8TmF2XG4gICAgICAgICAgICBtYXRlcmlhbHM9e21hdGVyaWFsc31cbiAgICAgICAgICAgIG1hdGVyaWFsRm9jdXM9e21hdGVyaWFsRm9jdXN9XG4gICAgICAgICAgICBtYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWQ9e21hdGVyaWFsc0Ryb3BEb3duQnV0dG9uVG9nZ2xlZH1cbiAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfVxuICAgICAgICAgICAgc2VhcmNoQmFyVG9nZ2xlZD17c2VhcmNoQmFyVG9nZ2xlZH1cbiAgICAgICAgICAgIHNlYXJjaEJhcklucHV0PXtzZWFyY2hCYXJJbnB1dH1cbiAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59Lz5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgTmF2U2VhcmNoQmFyUHJvcHMsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIE5hdlNlYXJjaEJhcixcbiAgICB1c2VTdGF0ZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTZWFyY2hCYXJQYXJ0aWFsQnVpbGRQcm9wcyA9XG4gICAgJiBPbWl0PE5hdlNlYXJjaEJhclByb3BzLCBcbiAgICAgICAgfCBcInByb2R1Y3RzXCJcbiAgICAgICAgfCBcInByb2R1Y3RGb2N1c1wiXG4gICAgICAgIHwgXCJ0b2dnbGVkXCJcbiAgICAgICAgfCBcImlucHV0XCJcbiAgICAgICAgfCBcInN1Z2dlc3Rpb25zXCI+XG4gICAgJiB7XG4gICAgcHJvZHVjdHM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj47XG4gICAgcHJvZHVjdEZvY3VzOiBTdGF0ZTxQcm9kdWN0RGF0YSB8IG51bGw+O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZCh7XG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIC4uLm1vcmVcbn06IE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gICAgbGV0IGlucHV0OiBTdGF0ZTxzdHJpbmc+ID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcbiAgICBsZXQgc3VnZ2VzdGlvbnM6IFN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj4gPSB1c2VTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+KFtdKTtcblxuICAgIHJldHVybiA8PlxuICAgICAgICA8TmF2U2VhcmNoQmFyXG4gICAgICAgICAgICBwcm9kdWN0cz17cHJvZHVjdHN9XG4gICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c31cbiAgICAgICAgICAgIHRvZ2dsZWQ9e3RvZ2dsZWR9XG4gICAgICAgICAgICBpbnB1dD17aW5wdXR9XG4gICAgICAgICAgICBzdWdnZXN0aW9ucz17c3VnZ2VzdGlvbnN9XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIFNIQURPVyxcbiAgICBTRUFSQ0hfQkFSX0lDT04sXG4gICAgTmF2U3VnZ2VzdGlvbixcbiAgICBTcHJpdGVJY29uLFxuICAgIEZvbnQsXG4gICAgdXNlRWZmZWN0LFxuICAgIHNvcnRcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgTmF2U2VhcmNoQmFyUHJvcHMgPVxuICAgICYgT21pdDxcbiAgICAgICAgQ29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+LCBcbiAgICAgICAgfCBcImNoaWxkcmVuXCJcbiAgICAgICAgPlxuICAgICYge1xuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+O1xuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPjtcbiAgICB0b2dnbGVkOiBTdGF0ZTxib29sZWFuPjtcbiAgICBpbnB1dDogU3RhdGU8c3RyaW5nPjtcbiAgICBzdWdnZXN0aW9uczogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+Pjtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTZWFyY2hCYXIoe1xuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICB0b2dnbGVkLFxuICAgIGlucHV0LFxuICAgIHN1Z2dlc3Rpb25zLFxuICAgIHN0eWxlLFxuICAgIC4uLm1vcmVcbn06IE5hdlNlYXJjaEJhclByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBsZXQgaW5wdXRfOiBzdHJpbmcgPSBpbnB1dFswXTtcbiAgICAgICAgaWYgKGlucHV0Xy50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0b2dnbGVkWzFdKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdWdnZXN0aW9uc186IEFycmF5PFByb2R1Y3REYXRhPiA9IHByb2R1Y3RzWzBdO1xuICAgICAgICBzdWdnZXN0aW9uc19cbiAgICAgICAgICAgIC5tYXAocHJvZHVjdCA9PiAoey4uLnByb2R1Y3QsIHNjb3JlOiBzb3J0KGlucHV0XywgcHJvZHVjdC5uYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpIHx8IFwiXCIpfSkpXG4gICAgICAgICAgICAuc29ydCgoeCwgeSkgPT4geC5zY29yZSAtIHkuc2NvcmUpXG4gICAgICAgICAgICAuc2xpY2UoMCwgMTApO1xuICAgICAgICBzdWdnZXN0aW9uc1sxXShzdWdnZXN0aW9uc18pO1xuICAgICAgICB0b2dnbGVkWzFdKHRydWUpO1xuICAgICAgICByZXR1cm47XG4gICAgfSwgW2lucHV0WzBdXSk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPGRpdlxuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBmbGV4OiBcIjFcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiBTSEFET1csXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDEwLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICBnYXA6IDEwLFxuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIDxTcHJpdGVJY29uXG4gICAgICAgICAgICAgICAgICAgIHVybD17U0VBUkNIX0JBUl9JQ09OfVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTVweFwiXG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2lucHV0WzBdfVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBpbnB1dFsxXShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGw6IFwidW5zZXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdXG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge3RvZ2dsZWRbMF0gPyA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogU0hBRE9XLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogXCJ3aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7c3VnZ2VzdGlvbnNbMF0ubWFwKHN1Z2dlc3Rpb24gPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxOYXZTdWdnZXN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG89XCIvcHJvZHVjdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RGb2N1cz17cHJvZHVjdEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZD17c3VnZ2VzdGlvbn0vPlxuICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC8+IDogdW5kZWZpbmVkfVxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBBc3luY0Nsb3N1cmUsXG4gICAgdHlwZSBVc2VyRGF0YSxcbiAgICB0eXBlIEZvcm1Qcm9wcyxcbiAgICBGb3JtLFxuICAgIEZvcm1JbnB1dCxcbiAgICBGb3JtQnV0dG9uLFxuICAgIEZvcm1NZXNzYWdlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25JbkZyb21TaWduVXBBY3Rpb24gPSBBc3luY0Nsb3N1cmU8W1xuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZ1xuXSwgW1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbFxuXT47XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25JbkZvcm1WYWxpZGF0ZUFjdGlvbiA9IEFzeW5jQ2xvc3VyZTxbXG4gICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nXG5dLCBbXG4gICAgc3VjY2VzczogYm9vbGVhbixcbiAgICBtZXNzYWdlOiBzdHJpbmcgfCBudWxsXG5dPjtcblxuZXhwb3J0IHR5cGUgTmF2U2lnbkluRm9ybVByb3BzID0gXG4gICAgJiBPbWl0PEZvcm1Qcm9wcywgXCJjaGlsZHJlblwiPlxuICAgICYge1xuICAgIHVzZXJuYW1lOiBTdGF0ZTxzdHJpbmc+LFxuICAgIHBhc3N3b3JkOiBTdGF0ZTxzdHJpbmc+LFxuICAgIHJlc3BvbnNlOiBTdGF0ZTxzdHJpbmcgfCBudWxsPixcbiAgICB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+LFxuICAgIHVzZXJJc1NpZ25lZEluOiBTdGF0ZTxib29sZWFuPixcbiAgICBvblZhbGlkYXRpb246IE5hdlNpZ25JbkZvcm1WYWxpZGF0ZUFjdGlvbixcbiAgICBvblNpZ25JbjogTmF2U2lnbkluRnJvbVNpZ25VcEFjdGlvblxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlNpZ25JbkZvcm0oe1xuICAgIHVzZXJuYW1lLFxuICAgIHBhc3N3b3JkLFxuICAgIHJlc3BvbnNlLFxuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW4sXG4gICAgb25WYWxpZGF0aW9uLFxuICAgIG9uU2lnbkluLFxuICAgIC4uLm1vcmVcbn06IE5hdlNpZ25JbkZvcm1Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxGb3JtXG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8Rm9ybU1lc3NhZ2U+XG4gICAgICAgICAgICAgICAge3Jlc3BvbnNlWzBdfVxuICAgICAgICAgICAgPC9Gb3JtTWVzc2FnZT5cbiAgICAgICAgICAgIDxGb3JtSW5wdXRcbiAgICAgICAgICAgICAgICB2YWx1ZT17dXNlcm5hbWVbMF19XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJVc2VybmFtZVwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdXNlcm5hbWVbMV0oZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICA8Rm9ybUlucHV0XG4gICAgICAgICAgICAgICAgdmFsdWU9e3Bhc3N3b3JkWzBdfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHBhc3N3b3JkWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1CdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXthc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWNjZXNzOiBib29sZWFuO1xuICAgICAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nIHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgW3N1Y2Nlc3MsIG1lc3NhZ2VdID0gKGF3YWl0IG9uVmFsaWRhdGlvbih1c2VybmFtZVswXSwgcGFzc3dvcmRbMF0pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVsxXShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBbc3VjY2VzcywgbWVzc2FnZV0gPSAoYXdhaXQgb25TaWduSW4odXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIEluXG4gICAgICAgICAgICA8L0Zvcm1CdXR0b24+XG4gICAgICAgIDwvRm9ybT5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBBc3luY0Nsb3N1cmUsXG4gICAgdHlwZSBGb3JtUHJvcHMsXG4gICAgRm9ybSxcbiAgICBGb3JtSW5wdXQsXG4gICAgRm9ybUJ1dHRvbixcbiAgICBGb3JtTWVzc2FnZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduVXBGb3JtU2lnblVwQWN0aW9uID0gQXN5bmNDbG9zdXJlPFtcbiAgICB1c2VybmFtZTogc3RyaW5nLFxuICAgIHBhc3N3b3JkOiBzdHJpbmcsXG4gICAgZW1haWw6IHN0cmluZ1xuXSwgW1xuICAgIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gICAgbWVzc2FnZTogc3RyaW5nIHwgbnVsbFxuXT47XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25VcEZvcm1WYWxpZGF0ZUFjdGlvbiA9IEFzeW5jQ2xvc3VyZTxbXG4gICAgdXNlcm5hbWU6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIGVtYWlsOiBzdHJpbmdcbl0sIFtcbiAgICBzdWNjZXNzOiBib29sZWFuLFxuICAgIG1lc3NhZ2U6IHN0cmluZyB8IG51bGxcbl0+O1xuXG5leHBvcnQgdHlwZSBOYXZTaWduVXBGb3JtUHJvcHMgPVxuICAgICYgT21pdDxGb3JtUHJvcHMsIFwiY2hpbGRyZW5cIj5cbiAgICAmIHtcbiAgICB1c2VybmFtZTogU3RhdGU8c3RyaW5nPixcbiAgICBwYXNzd29yZDogU3RhdGU8c3RyaW5nPixcbiAgICBlbWFpbDogU3RhdGU8c3RyaW5nPixcbiAgICByZXNwb25zZTogU3RhdGU8c3RyaW5nIHwgbnVsbD4sXG4gICAgb25WYWxpZGF0aW9uOiBOYXZTaWduVXBGb3JtVmFsaWRhdGVBY3Rpb24sXG4gICAgb25TaWduVXA6IE5hdlNpZ25VcEZvcm1TaWduVXBBY3Rpb25cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduVXBGb3JtKHtcbiAgICB1c2VybmFtZSxcbiAgICBwYXNzd29yZCxcbiAgICBlbWFpbCxcbiAgICByZXNwb25zZSxcbiAgICBvblZhbGlkYXRpb24sXG4gICAgb25TaWduVXAsXG4gICAgLi4ubW9yZVxufTogTmF2U2lnblVwRm9ybVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPEZvcm1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtyZXNwb25zZVswXSA/IDw+XG4gICAgICAgICAgICAgICAgPEZvcm1NZXNzYWdlPlxuICAgICAgICAgICAgICAgICAgICB7cmVzcG9uc2VbMF19XG4gICAgICAgICAgICAgICAgPC9Gb3JtTWVzc2FnZT5cbiAgICAgICAgICAgIDwvPiA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgIDxGb3JtSW5wdXQgXG4gICAgICAgICAgICAgICAgdmFsdWU9e2VtYWlsWzBdfSBcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVtYWlsXCIgXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gZW1haWxbMV0oZS50YXJnZXQudmFsdWUpfS8+XG4gICAgICAgICAgICA8Rm9ybUlucHV0IFxuICAgICAgICAgICAgICAgIHZhbHVlPXt1c2VybmFtZVswXX0gXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJVc2VybmFtZVwiIFxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHVzZXJuYW1lWzFdKGUudGFyZ2V0LnZhbHVlKX0vPlxuICAgICAgICAgICAgPEZvcm1JbnB1dFxuICAgICAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZFswXX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZSA9PiBwYXNzd29yZFsxXShlLnRhcmdldC52YWx1ZSl9Lz5cbiAgICAgICAgICAgIDxGb3JtQnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17YXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3VjY2VzczogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U6IHN0cmluZyB8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIFtzdWNjZXNzLCBtZXNzYWdlXSA9IChhd2FpdCBvblZhbGlkYXRpb24odXNlcm5hbWVbMF0sIHBhc3N3b3JkWzBdLCBlbWFpbFswXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlWzFdKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFtzdWNjZXNzLCBtZXNzYWdlXSA9IChhd2FpdCBvblNpZ25VcCh1c2VybmFtZVswXSwgcGFzc3dvcmRbMF0sIGVtYWlsWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VbMV0obnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIFVwXG4gICAgICAgICAgICA8L0Zvcm1CdXR0b24+XG4gICAgICAgIDwvRm9ybT5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgU3RhdGUsXG4gICAgdHlwZSBVc2VyRGF0YSxcbiAgICB0eXBlIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUHJvcHMsXG4gICAgTmF2U2lnbmVyRHJvcERvd25CdXR0b24sXG4gICAgTmF2U2lnblVwRm9ybSxcbiAgICBOYXZTaWduSW5Gb3JtLFxuICAgIEJyaWRnZSxcbiAgICB1c2VTdGF0ZSxcbiAgICByZXF1aXJlXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUGFydGlhbEJ1aWxkUHJvcHMgPSBcbiAgICAmIE9taXQ8XG4gICAgICAgIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uUHJvcHMsXG4gICAgICAgIHwgXCJ0b2dnbGVkXCJcbiAgICAgICAgfCBcInNpZ25VcFRvZ2dsZWRcIlxuICAgICAgICB8IFwic2lnbkluVG9nZ2xlZFwiXG4gICAgICAgIHwgXCJzaWduVXBGb3JtXCJcbiAgICAgICAgfCBcInNpZ25JbkZvcm1cIlxuICAgICAgICA+XG4gICAgJiB7XG4gICAgdXNlcjogU3RhdGU8VXNlckRhdGEgfCBudWxsPixcbiAgICB1c2VySXNTaWduZWRJbjogU3RhdGU8Ym9vbGVhbj5cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZCh7XG4gICAgdXNlcixcbiAgICB1c2VySXNTaWduZWRJbixcbiAgICAuLi5tb3JlXG59OiBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZFByb3BzKTogUmVhY3ROb2RlIHtcbiAgICBsZXQgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgbGV0IHNpZ25VcFRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGxldCBzaWduSW5Ub2dnbGVkOiBTdGF0ZTxib29sZWFuPiA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBsZXQgdXNlcm5hbWU6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBsZXQgcGFzc3dvcmQ6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZShcIlwiKTtcbiAgICBsZXQgZW1haWw6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZShcIlwiKTtcblxuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZXQgcmVzcG9uc2U6IFN0YXRlPHN0cmluZyB8IG51bGw+ID0gdXNlU3RhdGUobnVsbCk7XG5cbiAgICByZXR1cm4gPD5cbiAgICAgICAgPE5hdlNpZ25lckRyb3BEb3duQnV0dG9uXG4gICAgICAgICAgICB0b2dnbGVkPXt0b2dnbGVkfVxuICAgICAgICAgICAgc2lnblVwVG9nZ2xlZD17c2lnblVwVG9nZ2xlZH1cbiAgICAgICAgICAgIHNpZ25JblRvZ2dsZWQ9e3NpZ25JblRvZ2dsZWR9XG4gICAgICAgICAgICBzaWduVXBGb3JtPXs8PlxuICAgICAgICAgICAgICAgIDxOYXZTaWduVXBGb3JtXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lPXt1c2VybmFtZX1cbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ9e3Bhc3N3b3JkfVxuICAgICAgICAgICAgICAgICAgICBlbWFpbD17ZW1haWx9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlPXtyZXNwb25zZX1cbiAgICAgICAgICAgICAgICAgICAgb25WYWxpZGF0aW9uPXthc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkLCBlbWFpbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHVzZXJuYW1lLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUocGFzc3dvcmQudHJpbSgpLmxlbmd0aCAhPT0gMCwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZShlbWFpbC50cmltKCkubGVuZ3RoICE9PSAwLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RydWUsIG51bGxdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGU6IHVua25vd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBTdHJpbmcoZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBvblNpZ25VcD17YXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZW1haWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoYXdhaXQgQnJpZGdlLnRvdWNoKFwiL3VzZXJuYW1lX2lzX2F2YWlsYWJsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbCA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvc2lnbl91cFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgZXJyY29kZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgfX0vPlxuICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgc2lnbkluRm9ybT17PD5cbiAgICAgICAgICAgICAgICA8TmF2U2lnbkluRm9ybVxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZT17dXNlcm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkPXtwYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U9e3Jlc3BvbnNlfVxuICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICB1c2VySXNTaWduZWRJbj17dXNlcklzU2lnbmVkSW59XG4gICAgICAgICAgICAgICAgICAgIG9uVmFsaWRhdGlvbj17YXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKHVzZXJuYW1lLnRyaW0oKS5sZW5ndGggIT09IDAsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUocGFzc3dvcmQudHJpbSgpLmxlbmd0aCAhPT0gMCwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0cnVlLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtmYWxzZSwgU3RyaW5nKGUpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25TaWduSW49e2FzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJjb2RlOiBCcmlkZ2UuRXJyIHwgbnVsbCA9IChhd2FpdCBCcmlkZ2UudG91Y2goXCIvc2lnbl9pblwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycmNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2ZhbHNlLCBlcnJjb2RlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbdHJ1ZSwgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgIH19Lz5cbiAgICAgICAgICAgIDwvPn1cbiAgICAgICAgICAgIHsuLi5tb3JlfS8+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIE5hdkJ1dHRvblxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblByb3BzID1cbiAgICAmIE9taXQ8Q29tcG9uZW50UHJvcHNXaXRoUmVmPFwiZGl2XCI+LCBcImNoaWxkcmVuXCI+XG4gICAgJiB7XG4gICAgdG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2lnblVwVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2lnbkluVG9nZ2xlZDogU3RhdGU8Ym9vbGVhbj4sXG4gICAgc2lnblVwRm9ybTogUmVhY3ROb2RlLFxuICAgIHNpZ25JbkZvcm06IFJlYWN0Tm9kZVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdlNpZ25lckRyb3BEb3duQnV0dG9uKHtcbiAgICB0b2dnbGVkLFxuICAgIHNpZ25VcFRvZ2dsZWQsXG4gICAgc2lnbkluVG9nZ2xlZCxcbiAgICBzaWduVXBGb3JtLFxuICAgIHNpZ25JbkZvcm0sXG4gICAgc3R5bGUsXG4gICAgLi4ubW9yZVxufTogTmF2U2lnbmVyRHJvcERvd25CdXR0b25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICA8TmF2QnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGVkWzFdKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzaWduSW5Ub2dnbGVkWzFdKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnblVwVG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgIFNpZ24gVXBcbiAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbkluVG9nZ2xlZFsxXSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbkluVG9nZ2xlZFsxXShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICBTaWduIEluXG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgUHJvZHVjdERhdGEsXG4gICAgTGluayxcbiAgICBGb250LFxuICAgIENvbG9yXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlN1Z2dlc3Rpb25Qcm9wcyA9XG4gICAgJiBPbWl0PENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPiwgXCJjaGlsZHJlblwiPlxuICAgICYge1xuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+O1xuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPjtcbiAgICBzdWdnZXN0ZWQ6IFByb2R1Y3REYXRhO1xuICAgIHRvOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTmF2U3VnZ2VzdGlvbih7XG4gICAgcHJvZHVjdHMsXG4gICAgcHJvZHVjdEZvY3VzLFxuICAgIHN1Z2dlc3RlZCxcbiAgICB0byxcbiAgICBzdHlsZSxcbiAgICAuLi5tb3JlXG59OiBOYXZTdWdnZXN0aW9uUHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8TGlua1xuICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImNvbnRlbnRzXCJcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB0bz17dG99PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2R1Y3RzMDogQXJyYXk8UHJvZHVjdERhdGE+ID0gcHJvZHVjdHNbMF07XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9kdWN0OiBQcm9kdWN0RGF0YSB8IG51bGwgPSBwcm9kdWN0czBcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIocHJvZHVjdDAgPT4gcHJvZHVjdDAubmFtZSA9PT0gc3VnZ2VzdGVkPy5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0KDApIHx8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXNbMV0ocHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogOCxcbiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N1Z2dlc3RlZC5uYW1lfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiBGb250WzFdXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICDCo3tzdWdnZXN0ZWQucHJpY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0ZpeGVkKDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMWVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogRm9udFsxXVxuICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAge3N1Z2dlc3RlZC5zdG9jay50b0ZpeGVkKDApfSBsZWZ0XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9MaW5rPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTdGF0ZSxcbiAgICB0eXBlIFByb2R1Y3REYXRhLFxuICAgIHR5cGUgVXNlckRhdGEsXG4gICAgTmF2TG9nbyxcbiAgICBOYXZCdXR0b24sXG4gICAgTmF2QnV0dG9uR3JvdXAsXG4gICAgTmF2Q2FsbFRvQWN0aW9uQnV0dG9uLFxuICAgIE5hdk1hdGVyaWFsc0Ryb3BEb3duQnV0dG9uLFxuICAgIE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZCxcbiAgICBOYXZTaWduZXJEcm9wRG93bkJ1dHRvblBhcnRpYWxCdWlsZCxcbiAgICBMaW5rXG59IGZyb20gXCJAd2ViXCI7XG5cbmV4cG9ydCB0eXBlIE5hdlByb3BzID1cbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4sXG4gICAgbWF0ZXJpYWxGb2N1czogU3RhdGU8c3RyaW5nPixcbiAgICBtYXRlcmlhbHNEcm9wRG93bkJ1dHRvblRvZ2dsZWQ6IFN0YXRlPGJvb2xlYW4+LFxuICAgIHByb2R1Y3RzOiBTdGF0ZTxBcnJheTxQcm9kdWN0RGF0YT4+LFxuICAgIHByb2R1Y3RGb2N1czogU3RhdGU8UHJvZHVjdERhdGEgfCBudWxsPixcbiAgICBzZWFyY2hCYXJUb2dnbGVkOiBTdGF0ZTxib29sZWFuPixcbiAgICBzZWFyY2hCYXJJbnB1dDogU3RhdGU8c3RyaW5nPixcbiAgICB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+LFxuICAgIHVzZXJJc1NpZ25lZEluOiBTdGF0ZTxib29sZWFuPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5hdih7XG4gICAgbWF0ZXJpYWxzLFxuICAgIG1hdGVyaWFsRm9jdXMsXG4gICAgbWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkLFxuICAgIHByb2R1Y3RzLFxuICAgIHByb2R1Y3RGb2N1cyxcbiAgICBzZWFyY2hCYXJUb2dnbGVkLFxuICAgIHNlYXJjaEJhcklucHV0LFxuICAgIHVzZXIsXG4gICAgdXNlcklzU2lnbmVkSW4sXG4gICAgc3R5bGUsXG4gICAgLi4ubW9yZVxufTogTmF2UHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYmV0d2VlblwiLFxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiAzMCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiAzMCxcbiAgICAgICAgICAgICAgICBnYXA6IDQwLFxuICAgICAgICAgICAgICAgIHpJbmRleDogMjAwMCxcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIDxOYXZMb2dvLz5cbiAgICAgICAgICAgIDxOYXZCdXR0b25Hcm91cD5cbiAgICAgICAgICAgICAgICA8TmF2Q2FsbFRvQWN0aW9uQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL2Zvcl95b3VcIj5cbiAgICAgICAgICAgICAgICAgICAgRm9yIFlvdVxuICAgICAgICAgICAgICAgIDwvTmF2Q2FsbFRvQWN0aW9uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxOYXZNYXRlcmlhbHNEcm9wRG93bkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbHM9e21hdGVyaWFsc31cbiAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxGb2N1cz17bWF0ZXJpYWxGb2N1c31cbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlZD17bWF0ZXJpYWxzRHJvcERvd25CdXR0b25Ub2dnbGVkfS8+XG4gICAgICAgICAgICA8L05hdkJ1dHRvbkdyb3VwPlxuICAgICAgICAgICAgPE5hdlNlYXJjaEJhclBhcnRpYWxCdWlsZFxuICAgICAgICAgICAgICAgIHByb2R1Y3RzPXtwcm9kdWN0c31cbiAgICAgICAgICAgICAgICBwcm9kdWN0Rm9jdXM9e3Byb2R1Y3RGb2N1c30vPlxuICAgICAgICAgICAgPE5hdkJ1dHRvbkdyb3VwPlxuICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgIHRvPVwiL2Jhc2tldFwiPlxuICAgICAgICAgICAgICAgICAgICA8TmF2QnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgQmFza2V0XG4gICAgICAgICAgICAgICAgICAgIDwvTmF2QnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICAgICAgICA8TmF2U2lnbmVyRHJvcERvd25CdXR0b25QYXJ0aWFsQnVpbGRcbiAgICAgICAgICAgICAgICAgICAgdXNlcj17dXNlcn1cbiAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgICAgICAgICA8L05hdkJ1dHRvbkdyb3VwPlxuICAgICAgICA8L2Rpdj5cbiAgICA8Lz47XG59IiwKICAgICJpbXBvcnQge1xyXG4gICAgdHlwZSBSZWFjdE5vZGUsXHJcbiAgICB0eXBlIFR5cG9ncmFwaHlQcm9wcyxcclxuICAgIHR5cGUgQ29tcG9uZW50UHJvcHNXaXRoUmVmLFxyXG4gICAgdHlwZSBQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnNQcm9wcyxcclxuICAgIFBhZ2VXaXRoMkhvcml6b250YWxTZWN0aW9ucyxcclxuICAgIEltYWdlQ2Fyb3VzZWwsXHJcbiAgICBUeXBvZ3JhcGh5LFxyXG4gICAgQ29sb3JcclxufSBmcm9tIFwiQHdlYlwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRm9yWW91UGFnZVByb3BzID1cclxuICAgICYgT21pdDxQYWdlV2l0aDJIb3Jpem9udGFsU2VjdGlvbnNQcm9wcyxcclxuICAgICAgICB8IFwic2VjdGlvbnNcIlxyXG4gICAgICAgIHwgXCJjaGlsZHJlblwiXHJcbiAgICAgICAgPlxyXG4gICAgJiB7XHJcbiAgICBpbWFnZVVybHM6IEFycmF5PHN0cmluZz5cclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBGb3JZb3VQYWdlKHtpbWFnZVVybHMsIC4uLm1vcmV9OiBGb3JZb3VQYWdlUHJvcHMpOiBSZWFjdE5vZGUge1xyXG4gICAgcmV0dXJuIDw+XHJcbiAgICAgICAgPFBhZ2VXaXRoMkhvcml6b250YWxTZWN0aW9uc1xyXG4gICAgICAgICAgICBzZWN0aW9ucz17Wzw+XHJcbiAgICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwic3RhcnRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMTBweFwiXHJcbiAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPF9IZWFkaW5nLz5cclxuICAgICAgICAgICAgICAgICAgICA8X0NhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz1cIkNob29zZSBhIFN0eWxlXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudD1cIlNlbGVjdCB5b3VyIHByZWZlcnJlZCBhcmNoaXRlY3R1cmFsIG9yIGRlc2lnbiBzdHlsZSBmb3IgYSB0YWlsb3JlZCBsb29rLlwiLz5cclxuICAgICAgICAgICAgICAgICAgICA8X0NhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz1cIkluc3RhbnQgVmlzdWFsc1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ9XCJTZWUgcGhvdG9yZWFsaXN0aWMgcmVuZGVyaW5nIG9mIGhvdyBtYXRlcmlhbHMgY2FuIGJlIHVzZWQgaW4geW91ciBob21lLlwiLz5cclxuICAgICAgICAgICAgICAgICAgICA8X0NhcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz1cIkNvbmZpZGVuY2VcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50PVwiVmlzdWFsaXNlIHlvdXIgcHJvamVjdCBiZWZvcmUgcHVyY2hhc2luZy4uLiBibGVuZGluZyBjcmVhdGl2aXR5IHdpdGggc3VzdGFpbmFiaWxpdHkuXCIvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvPiwgPD5cclxuICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnYXA6IDIwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiAxIC8gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM9e2ltYWdlVXJsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zSW50ZXJ2YWxTbGVlcD17MTUwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiAxIC8gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM9e2ltYWdlVXJsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zSW50ZXJ2YWxTbGVlcD17MjAwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0vPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzcGVjdFJhdGlvOiAxIC8gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM9e2ltYWdlVXJsc31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zSW50ZXJ2YWxTbGVlcD17MjUwMDB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0vPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNjAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNjAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJscz17aW1hZ2VVcmxzfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNJbnRlcnZhbFNsZWVwPXszMDAwMH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbj17e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fS8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC8+XX1cclxuICAgICAgICAgICAgey4uLm1vcmV9Lz5cclxuICAgIDwvPjtcclxufVxyXG5cclxudHlwZSBfSGVhZGluZ1Byb3BzID1cclxuICAgICYgT21pdDxUeXBvZ3JhcGh5UHJvcHMsXHJcbiAgICAgICAgfCBcImNoaWxkcmVuXCJcclxuICAgICAgICA+XHJcbiAgICAmIHt9O1xyXG5cclxuZnVuY3Rpb24gX0hlYWRpbmcoe3N0eWxlLCAuLi5tb3JlfTogX0hlYWRpbmdQcm9wcyk6IFJlYWN0Tm9kZSB7XHJcbiAgICByZXR1cm4gPD5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIzZW1cIixcclxuICAgICAgICAgICAgICAgIGdhcDogXCIyMHB4XCIsXHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxyXG4gICAgICAgICAgICB9fVxyXG4gICAgICAgICAgICB7Li4ubW9yZX0+XHJcbiAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRXcmFwOiBcIm5vd3JhcFwiXHJcbiAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIENvbWluZyBTb29uLi4uXHJcbiAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cclxuICAgICAgICAgICAgPFR5cG9ncmFwaHlcclxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFdyYXA6IFwibm93cmFwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzJdXHJcbiAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIEZvciBZb3VcclxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC8+O1xyXG59XHJcblxyXG5cclxudHlwZSBfQ2FyZFByb3BzID1cclxuICAgICYgT21pdDxDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj4sXHJcbiAgICAgICAgfCBcImNoaWxkcmVuXCJcclxuICAgICAgICA+XHJcbiAgICAmIHtcclxuICAgIGhlYWRpbmc6IHN0cmluZyxcclxuICAgIGNvbnRlbnQ6IHN0cmluZ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX0NhcmQoe2hlYWRpbmcsIGNvbnRlbnQsIHN0eWxlLCAuLi5tb3JlfTogX0NhcmRQcm9wcyk6IFJlYWN0Tm9kZSB7XHJcbiAgICByZXR1cm4gPD5cclxuICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcclxuICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgey4uLm1vcmV9PlxyXG4gICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXHJcbiAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJzdGFydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiXHJcbiAgICAgICAgICAgICAgICB9fT5cclxuICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9yWzJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIyZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIH19PlxyXG4gICAgICAgICAgICAgICAgICAgIHtoZWFkaW5nfVxyXG4gICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcclxuICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwic3RhcnRcIixcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIlxyXG4gICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjFlbVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfX0+XHJcbiAgICAgICAgICAgICAgICAgICAge2NvbnRlbnR9XHJcbiAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC8+O1xyXG59IiwKICAgICJpbXBvcnQge1xuICAgIHR5cGUgUmVhY3ROb2RlLFxuICAgIHR5cGUgUGFnZVdpdGgzVmVydGljYWxTZWN0aW9uc1Byb3BzLFxuICAgIHR5cGUgU3ByaW5nQ29uZmlnLFxuICAgIFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnMsXG4gICAgSW1hZ2VDYXJvdXNlbCxcbiAgICBUeXBvZ3JhcGh5LFxuICAgIENvbG9yLFxuICAgIFJldmVhbFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBIb21lUGFnZUNhcmQgPSB7XG4gICAgaGVhZGluZzogc3RyaW5nLFxuICAgIGNvbnRlbnQ6IEFycmF5PHN0cmluZz5cbn07XG5cbmV4cG9ydCB0eXBlIEhvbWVQYWdlUHJvcHMgPVxuICAgICYgT21pdDxQYWdlV2l0aDNWZXJ0aWNhbFNlY3Rpb25zUHJvcHMsXG4gICAgICAgIHwgXCJzZWN0aW9uc1wiPlxuICAgICYge1xuICAgIGltYWdlQ2Fyb3VzZWxVcmxzOiBBcnJheTxzdHJpbmc+LFxuICAgIGltYWdlQ2Fyb3VzZWxNc0ludGVydmFsU2xlZXA6IG51bWJlcixcbiAgICBpbWFnZUNhcm91c2VsQW5pbWF0aW9uOiBTcHJpbmdDb25maWcsXG4gICAgaGVhZGluZzogc3RyaW5nLFxuICAgIHN1YkhlYWRpbmdzOiBBcnJheTxzdHJpbmc+LFxuICAgIGNhcmRzPzogQXJyYXk8SG9tZVBhZ2VDYXJkPlxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIEhvbWVQYWdlKHtcbiAgICBpbWFnZUNhcm91c2VsVXJscyxcbiAgICBpbWFnZUNhcm91c2VsTXNJbnRlcnZhbFNsZWVwLFxuICAgIGltYWdlQ2Fyb3VzZWxBbmltYXRpb24sXG4gICAgaGVhZGluZyxcbiAgICBzdWJIZWFkaW5ncyxcbiAgICBjYXJkcz1bXSxcbiAgICAuLi5tb3JlXG59OiBIb21lUGFnZVByb3BzKTogUmVhY3ROb2RlIHtcbiAgICByZXR1cm4gPD5cbiAgICAgICAgPFBhZ2VXaXRoM1ZlcnRpY2FsU2VjdGlvbnNcbiAgICAgICAgICAgIHNlY3Rpb25zPXtbPD5cbiAgICAgICAgICAgICAgICA8SW1hZ2VDYXJvdXNlbFxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBcIjEwcHhcIlxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICB1cmxzPXtpbWFnZUNhcm91c2VsVXJsc31cbiAgICAgICAgICAgICAgICAgICAgbXNJbnRlcnZhbFNsZWVwPXtpbWFnZUNhcm91c2VsTXNJbnRlcnZhbFNsZWVwfVxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e2ltYWdlQ2Fyb3VzZWxBbmltYXRpb259PlxuICAgICAgICAgICAgICAgICAgICA8UmV2ZWFsXG4gICAgICAgICAgICAgICAgICAgICAgICBtc0RlbGF5PXsxMDAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBcIjllbVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aGVhZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgPC9SZXZlYWw+XG4gICAgICAgICAgICAgICAgPC9JbWFnZUNhcm91c2VsPlxuICAgICAgICAgICAgPC8+LCA8PlxuICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJyb3dcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBnYXA6IFwiMTBweFwiXG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICB7c3ViSGVhZGluZ3MubWFwKHN1YkhlYWRpbmcgPT4gPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiNGVtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQ6IFwiMzBweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IFwiMzBweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3N1YkhlYWRpbmd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgIDwvPil9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8Lz4sIDw+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiYXV0b1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxleDogXCIxXCJcbiAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjYXJkcy5tYXAoY2FyZCA9PiA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsZXg6IFwiMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiBcIjMwcHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIyZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvclsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBcIjIwcHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuaGVhZGluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJzdGFydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2NhcmQuY29udGVudC5tYXAobGluZSA9PiA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIwLjc1ZW1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiBcIjVweFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b206IFwiNXB4XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2xpbmV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz4pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC8+KX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvPl19XG4gICAgICAgICAgICB7Li4ubW9yZX0vPlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBTcHJpdGVQcm9wcyxcbiAgICBTcHJpdGVcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZXhwb3J0IHR5cGUgU3ByaXRlSWNvblByb3BzID1cbiAgICAmIFNwcml0ZVByb3BzXG4gICAgJiB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIFNwcml0ZUljb24oe3N0eWxlLCBjaGlsZHJlbiwgLi4ubW9yZX06IFNwcml0ZUljb25Qcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxTcHJpdGVcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgYXNwZWN0UmF0aW86IFwiMSAvIDFcIixcbiAgICAgICAgICAgICAgICAuLi5zdHlsZVxuICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIHsuLi5tb3JlfT5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9TcHJpdGU+XG4gICAgPC8+O1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIENvbXBvbmVudFByb3BzV2l0aFJlZixcbiAgICB0eXBlIFJlYWN0Tm9kZVxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBTcHJpdGVQcm9wcyA9XG4gICAgJiBDb21wb25lbnRQcm9wc1dpdGhSZWY8XCJkaXZcIj5cbiAgICAmIHtcbiAgICB1cmw6IHN0cmluZ1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIFNwcml0ZSh7dXJsLCBzdHlsZSwgY2hpbGRyZW4sIC4uLm1vcmV9OiBTcHJpdGVQcm9wcyk6IFJlYWN0Tm9kZSB7XG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogYHVybCgke3VybH0pYCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kU2l6ZTogXCJjb250YWluXCIsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZFBvc2l0aW9uWDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kUG9zaXRpb25ZOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRSZXBlYXQ6IFwibm8tcmVwZWF0XCIsXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgdHlwZSBDb21wb25lbnRQcm9wc1dpdGhSZWYsXG4gICAgRm9udFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgdHlwZSBUeXBvZ3JhcGh5UHJvcHMgPSBcbiAgICAmIENvbXBvbmVudFByb3BzV2l0aFJlZjxcImRpdlwiPlxuICAgICYge1xuICAgIFxufTtcbiBcbmV4cG9ydCBmdW5jdGlvbiBUeXBvZ3JhcGh5KHtcbiAgICBzdHlsZSxcbiAgICBjaGlsZHJlbixcbiAgICAuLi5tb3JlXG59OiBUeXBvZ3JhcGh5UHJvcHMpOiBSZWFjdE5vZGUge1xuICAgIHJldHVybiA8PlxuICAgICAgICA8ZGl2XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IFwicm93XCIsXG4gICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogXCIxZW1cIixcbiAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBcIm5vcm1hbFwiLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6IEZvbnRbMV0sXG4gICAgICAgICAgICAgICAgLi4uc3R5bGVcbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICB7Li4ubW9yZX0+XG4gICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgIDwvZGl2PlxuICAgIDwvPjtcbn0iLAogICAgImltcG9ydCB7XG4gICAgdHlwZSBSZWFjdE5vZGUsXG4gICAgUm9vdFxufSBmcm9tIFwiQHdlYlwiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyKGFwcDogUmVhY3ROb2RlKTogdm9pZCB7XG4gICAgbGV0IGVsZW1lbnQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicm9vdFwiKTtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBcIkVSUl9NSVNTSU5HX1JPT1RfRUxFTUVOVFwiO1xuICAgIH1cbiAgICBSb290KGVsZW1lbnQpLnJlbmRlcihhcHApO1xufSIsCiAgICAiaW1wb3J0IHtcbiAgICB0eXBlIFJlYWN0Tm9kZSxcbiAgICB0eXBlIFN0YXRlLFxuICAgIHR5cGUgUHJvZHVjdERhdGEsXG4gICAgdHlwZSBVc2VyRGF0YSxcbiAgICBQTEFDRUhPTERFUixcbiAgICBCcm93c2VyUm91dGVyLFxuICAgIFJvdXRlcyxcbiAgICBSb3V0ZSxcbiAgICBOYXZQYXJ0aWFsQnVpbGQsXG4gICAgSG9tZVBhZ2UsXG4gICAgRm9yWW91UGFnZSxcbiAgICB1c2VTdGF0ZSxcbiAgICByZW5kZXJcbn0gZnJvbSBcIkB3ZWJcIjtcblxuZnVuY3Rpb24gQXBwKCk6IFJlYWN0Tm9kZSB7XG4gICAgbGV0IG1hdGVyaWFsczogU3RhdGU8QXJyYXk8c3RyaW5nPj4gPSB1c2VTdGF0ZTxBcnJheTxzdHJpbmc+PihbXSk7XG4gICAgbGV0IG1hdGVyaWFsRm9jdXM6IFN0YXRlPHN0cmluZz4gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xuICAgIGxldCBwcm9kdWN0czogU3RhdGU8QXJyYXk8UHJvZHVjdERhdGE+PiA9IHVzZVN0YXRlPEFycmF5PFByb2R1Y3REYXRhPj4oW10pO1xuICAgIGxldCBwcm9kdWN0Rm9jdXM6IFN0YXRlPFByb2R1Y3REYXRhIHwgbnVsbD4gPSB1c2VTdGF0ZTxQcm9kdWN0RGF0YSB8IG51bGw+KG51bGwpO1xuICAgIGxldCB1c2VyOiBTdGF0ZTxVc2VyRGF0YSB8IG51bGw+ID0gdXNlU3RhdGU8VXNlckRhdGEgfCBudWxsPihudWxsKTtcbiAgICBsZXQgdXNlcklzU2lnbmVkSW46IFN0YXRlPGJvb2xlYW4+ID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gICAgcmV0dXJuIDw+XG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgICAgPFJvdXRlcz5cbiAgICAgICAgICAgICAgICA8Um91dGVcbiAgICAgICAgICAgICAgICAgICAgcGF0aD1cIi9cIlxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50PXs8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEhvbWVQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VDYXJvdXNlbFVybHM9e1tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExBQ0VIT0xERVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMQUNFSE9MREVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VDYXJvdXNlbE1zSW50ZXJ2YWxTbGVlcD17MzAwMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZUNhcm91c2VsQW5pbWF0aW9uPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDAwMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGluZz1cIk9GRkNVVFNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YkhlYWRpbmdzPXtbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiUmV2aXZlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJldXNlLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlJlYnVpbGQuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRzPXtbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nOiBcIldoeSBPZmZjdXRzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiU3VzdGFpbmFibGUgU29sdXRpb25zOiBEaXZlcnQgY29uc3RydWN0aW9uIHdhc3RlIGZyb20gbGFuZGZpbGxzIHdoaWxlIHN1cHBvcnRpbmcgZWNvLWZyaWVuZGx5IHByYWN0aWNlcy5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQWZmb3JkYWJsZSBNYXRlcmlhbHM6IEFjY2VzcyBoaWdoLXF1YWxpdHkgcmVjbGFpbWVkIG1hdGVyaWFscyBhdCBhIGZyYWN0aW9uIG9mIHRoZSBjb3N0LlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJGYXN0ICYgRWFzeTogTGlzdCwgYnV5LCBvciByZXF1ZXN0IGxlZnR0b3ZlciBtYXRlcmlhbHMgd2l0aCBlYXNlLlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRpbmc6IFwiRm9yIENvbnRyYWN0b3JzXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVHVybiB5b3VyIHN1cnBsdXMgaW50byBwcm9maXQgd2l0aCBxdWljayBwaWNrdXBzIGFuZCBhIHNlYW1sZXNzIGxpc3RpbmcgcHJvY2Vzcy5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkaW5nOiBcIkZvciBCdXllcnNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJGaW5kIHVuaXF1ZSwgc3VzdGFpbmFibGUgbWF0ZXJpYWxzIGZvciB5b3VyIG5leHQgcHJvamVjdCAtLSBiaWcgb3Igc21hbGwuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmJhcj17PD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE5hdlBhcnRpYWxCdWlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxzPXttYXRlcmlhbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbEZvY3VzPXttYXRlcmlhbEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEZvY3VzPXtwcm9kdWN0Rm9jdXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvb3Rlcj17PD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiBcInJvd1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogXCJhdXRvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVE9ET1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz59Lz5cbiAgICAgICAgICAgICAgICAgICAgPC8+fS8+XG4gICAgICAgICAgICAgICAgPFJvdXRlXG4gICAgICAgICAgICAgICAgICAgIHBhdGg9XCIvZm9yX3lvdVwiXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ9ezw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Rm9yWW91UGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmJhcj17PD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPE5hdlBhcnRpYWxCdWlsZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWxzPXttYXRlcmlhbHN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbEZvY3VzPXttYXRlcmlhbEZvY3VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdHM9e3Byb2R1Y3RzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdEZvY3VzPXtwcm9kdWN0Rm9jdXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyPXt1c2VyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklzU2lnbmVkSW49e3VzZXJJc1NpZ25lZElufS8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJscz17W1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQTEFDRUhPTERFUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUExBQ0VIT0xERVIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBMQUNFSE9MREVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF19Lz5cbiAgICAgICAgICAgICAgICAgICAgPC8+fS8+XG4gICAgICAgICAgICA8L1JvdXRlcz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgIDwvPjtcbn1cblxucmVuZGVyKDxBcHAvPik7IgogIF0sCiAgIm1hcHBpbmdzIjogInlmQVdBLFNBQ1ksRUFBRyxDQUNYLFNBQVMsQ0FBd0IsQ0FBQyxFQUFZLEVBQU0sQ0FDbEQsT0FBTyxlQUFlLEVBQVUsVUFBVyxFQUFZLENBQ3JELFlBQWMsRUFBRyxDQUNmLFFBQVEsS0FDTiw4REFDQSxFQUFLLEdBQ0wsRUFBSyxFQUNQLEVBRUosQ0FBQyxFQUVILFNBQVMsQ0FBYSxDQUFDLEVBQWUsQ0FDcEMsR0FBYSxJQUFULGFBQThDLElBQXBCLFNBQzVCLE9BQU8sS0FJVCxPQUhBLEVBQ0csSUFBeUIsRUFBYyxLQUN4QyxFQUFjLHFCQUNhLElBQXRC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ZixTQUFVLEVBQ1YsYUFBYyxFQUNkLEtBQU0sRUFDTixlQUFnQixHQU5wQixxQkFNbUMsR0FQL0IscUJBUU4sRUFDRixPQUFRLGdDQUNKLFVBVUUsTUFWRixDQUNJLE1BQU8sQ0FDSCxRQUFTLE9BQ1QsY0FBZSxNQUNmLGVBQWdCLFNBQ2hCLFdBQVksU0FDWixNQUFPLE9BQ1AsT0FBUSxNQUNaLEVBUkosc0NBVUUsR0FYRSxxQkFZTixHQXZETixxQkF1RFEsR0F4REgscUJBeURQLEdBM0ROLHFCQTJEUSxFQUNSLFVBQUMsR0FBRCxDQUNJLEtBQUssV0FDTCxRQUFTLGdDQUNMLFVBQUMsR0FBRCxDQUNJLE9BQVEsZ0NBQ0osVUFBQyxHQUFELENBQ0ksVUFBVyxFQUNYLGNBQWUsRUFDZixTQUFVLEVBQ1YsYUFBYyxFQUNkLEtBQU0sRUFDTixlQUFnQixHQU5wQixxQkFNbUMsR0FQL0IscUJBUU4sRUFDRixVQUFXLENBQ1AsR0FDQSxHQUNBLEdBQ0EsRUFDSixHQWZKLHFCQWVNLEdBaEJELHFCQWlCUCxHQW5CTixxQkFtQlEsSUFoRloscUJBaUZFLEdBbEZOLHFCQW1GRSxHQXBGQyxxQkFxRkwsRUFHTixHQUFPLFVBQUMsR0FBRCx3QkFBSSxDQUFFIiwKICAiZGVidWdJZCI6ICJEQzIzRTBDOEQxQTdFRUQ2NjQ3NTZFMjE2NDc1NkUyMSIsCiAgIm5hbWVzIjogW10KfQ==
